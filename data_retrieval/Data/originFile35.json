{"items":[{"tags":["java","methods","draw"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1701107058,"post_id":77557579,"comment_id":136731446,"body_markdown":"Add `System.out.println (` code at various key locations in your code. Have those line output where in the program they are along with values of variables that are key at those points. And / or use a debugger: Set breakpoints, and run the code (debugging mode). When the run hits a break point, check the values of variables. Run the code one-step-at-a-time while monitoring the values of variables and noting where the code goes.","body":"Add <code>System.out.println (</code> code at various key locations in your code. Have those line output where in the program they are along with values of variables that are key at those points. And / or use a debugger: Set breakpoints, and run the code (debugging mode). When the run hits a break point, check the values of variables. Run the code one-step-at-a-time while monitoring the values of variables and noting where the code goes."}],"owner":{"account_id":29599956,"reputation":1,"user_id":22685645,"display_name":"Christian"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701094541,"creation_date":1701094541,"question_id":77557579,"body_markdown":"I&#39;m using StdDraw to create a snake program. When I run my program it jumps to the game over display without actually entering the game. I&#39;m sure there are quite a few things I have to fix, but please point me in the right direction\r\n\r\n\r\n```\r\n\r\nimport java.awt.event.KeyEvent;\r\nimport java.awt.Color;\r\nimport java.awt.Font;\r\nimport java.util.Random;\r\n\r\npublic final class Snake {\r\n   \r\n   // Enum for user input &amp; snake movement\r\n   enum Direction { UP, DOWN, LEFT, RIGHT }\r\n   private static Direction direction;\r\n   \r\n   // Declare game constants\r\n   private static int WIDTH = 800;\r\n   private static int HEIGHT = 800;\r\n   private static int UNIT_SIZE = 40;\r\n   private static int GAME_UNITS = (WIDTH * HEIGHT) / UNIT_SIZE;\r\n\r\n   // Grid for snake &amp; food coordinates\r\n   private static int[][] grid;          // Game board\r\n   private static int[] snakeX, snakeY;  // Arrays to store snake&#39;s body&#39;s coordinates\r\n   private static int foodX, foodY;      // Food&#39;s coordinates\r\n   \r\n   private static boolean gameOver;\r\n   private static int snakeLength;\r\n   private static int score;\r\n   private static Random random = new Random();\r\n   \r\n   // Main calls game methods\r\n   public static void main (final String[] args) { \r\n      StdDraw.enableDoubleBuffering();   // Smoother graphics\r\n      launchGame();                      // Launch game\r\n\r\n      // Loop to play game with functions\r\n      while (!gameOver) {\r\n         handleInput();                  // Controls\r\n         updateSnake();                  // Move snake\r\n         draw();                         // Draw game elements; snake, food, &amp; score\r\n         StdDraw.show();                 // Show graphics\r\n         StdDraw.pause (100);            // Pause to control game speed\r\n      }\r\n      \r\n      gameOverDisplay();                 // Game over display\r\n   }\r\n   \r\n   // Method initializes elements in game launch\r\n   private static void launchGame () {\r\n      // Create game window\r\n      StdDraw.setCanvasSize (WIDTH, HEIGHT);  // Canvas size\r\n      StdDraw.setXscale (0, WIDTH);           // X-axis scale\r\n      StdDraw.setYscale (0, HEIGHT);          // Y-axis scale\r\n\r\n      // Initialize game elements\r\n      direction = Direction.RIGHT;       // Default direction\r\n      gameOver = false;                  // Game over flag\r\n      snakeLength = 3;                   // Snake&#39;s initial length\r\n      score = 0;\r\n      \r\n      grid = new int[WIDTH / UNIT_SIZE][HEIGHT / UNIT_SIZE];\r\n      snakeX = new int[GAME_UNITS];      // Store x position of snake&#39;s body\r\n      snakeY = new int[GAME_UNITS];             // Store y position of snake&#39;s body\r\n      \r\n      // Initialize snake&#39;s position\r\n      for (int i = 0; i &lt; snakeLength; i++) {\r\n         // Place snake in the middle of the board\r\n         snakeX[i] = GAME_UNITS / 2 - i;   // Snake&#39;s body blocks\r\n         snakeY[i] = GAME_UNITS / 2;  \r\n      }\r\n      \r\n      spawnFood();\r\n   }\r\n   \r\n   // Method handles user input &amp; direction\r\n   private static void handleInput () {\r\n      // Check for arrow key presses\r\n      if (StdDraw.isKeyPressed (KeyEvent.VK_UP) &amp;&amp; direction != Direction.DOWN) {\r\n         direction = Direction.UP;\r\n      } else if (StdDraw.isKeyPressed (KeyEvent.VK_DOWN) &amp;&amp; direction != Direction.UP) {\r\n         direction = Direction.DOWN;\r\n      } else if (StdDraw.isKeyPressed (KeyEvent.VK_LEFT) &amp;&amp; direction != Direction.RIGHT) {\r\n         direction = Direction.LEFT;\r\n      } else if (StdDraw.isKeyPressed (KeyEvent.VK_RIGHT) &amp;&amp; direction != Direction.LEFT) {\r\n         direction = Direction.RIGHT;\r\n      }\r\n   }\r\n   \r\n   // Method updates game elements\r\n   private static void updateSnake () {\r\n      // Move snake&#39;s body\r\n      for (int i = snakeLength - 1; i &gt; 0; i--) {\r\n         // Block updates to next block&#39;s last position\r\n         snakeX[i] = snakeX[i - 1];\r\n         snakeY[i] = snakeY[i - 1];\r\n      }\r\n\r\n      // Move snake&#39;s head\r\n      if (direction == Direction.UP) {\r\n         snakeY[0]++;\r\n      } else if (direction == Direction.DOWN) {\r\n         snakeY[0]--;\r\n      } else if (direction == Direction.LEFT) {\r\n         snakeX[0]--;\r\n      } else if (direction == Direction.RIGHT) {\r\n         snakeX[0]++;\r\n      }  \r\n      \r\n      // Check for collisions\r\n      checkCollisions();\r\n      \r\n      // Check if food is eaten\r\n      if (snakeX[0] == foodX &amp;&amp; snakeY[0] == foodY) {\r\n         snakeLength++;\r\n         score++;\r\n         spawnFood();\r\n      }\r\n   }\r\n   \r\n   private static void checkCollisions () {\r\n      // Check if snake collides with walls\r\n      if (snakeX[0] &lt; 0 || snakeX[0] &gt;= WIDTH || snakeY[0] &lt; 0 || snakeY[0] &gt;= HEIGHT) {\r\n         gameOver = true;\r\n      }\r\n      \r\n      // Check if snake collides with itself\r\n      for (int i = 1; i &lt; snakeLength; i++) {\r\n         if (snakeX[0] == snakeX[i] || snakeY[0] == snakeY[i]) {\r\n            gameOver = true;\r\n         }\r\n      }\r\n   }\r\n   \r\n   private static void spawnFood () {\r\n      foodX = random.nextInt (WIDTH / UNIT_SIZE);\r\n      foodY = random.nextInt (HEIGHT / UNIT_SIZE);\r\n   }\r\n   \r\n   private static void draw () {\r\n      StdDraw.clear();\r\n      \r\n      // Draw snake\r\n      StdDraw.setPenColor (Color.GREEN);\r\n      for (int i = 0; i &lt; snakeLength; i++) {\r\n         StdDraw.filledSquare (snakeX[i] * UNIT_SIZE + UNIT_SIZE / 2.0,\r\n               snakeY[i] * UNIT_SIZE + UNIT_SIZE / 2.0, UNIT_SIZE / 2.0);\r\n      }      \r\n      \r\n      // Draw food\r\n      StdDraw.setPenColor (Color.RED); \r\n      StdDraw.filledSquare (foodX * UNIT_SIZE + UNIT_SIZE / 2.0,\r\n            foodY * UNIT_SIZE + UNIT_SIZE / 2.0, UNIT_SIZE / 2.0);      \r\n      \r\n      // Display score\r\n      StdDraw.setPenColor (Color.WHITE);\r\n      StdDraw.setFont (new Font (&quot;Arial&quot;, Font.BOLD, 20));\r\n      StdDraw.text (700, 780, &quot;Score: &quot; + score);      \r\n   }\r\n   \r\n   // Game over display\r\n   private static void gameOverDisplay () {\r\n      StdDraw.clear();\r\n\r\n      StdDraw.setPenColor (Color.BLACK);\r\n      StdDraw.setFont (new Font (&quot;Arial&quot;, Font.BOLD, 40));\r\n      StdDraw.text (400, 400, &quot;Game Over!&quot;);\r\n      StdDraw.text (400, 350, &quot;Score: &quot; + score);\r\n      StdDraw.setFont(new Font (&quot;Arial&quot;, Font.PLAIN, 20));\r\n      StdDraw.text (400, 300, &quot;Press Enter to Play Again&quot;);\r\n      \r\n      StdDraw.show();\r\n      StdDraw.pause (100);\r\n      \r\n      if (StdDraw.isKeyPressed (KeyEvent.VK_ENTER)) {\r\n         StdDraw.clear();\r\n         launchGame();\r\n      }\r\n   }\r\n}\r\n```\r\n\r\n\r\nThis is what I have so far. It&#39;s a work in progress but I want to start with actually getting my snake moving. Thank you","title":"I&#39;m unsure of how I should be calling my methods to draw my snake with StdDraw","body":"<p>I'm using StdDraw to create a snake program. When I run my program it jumps to the game over display without actually entering the game. I'm sure there are quite a few things I have to fix, but please point me in the right direction</p>\n<pre><code>\nimport java.awt.event.KeyEvent;\nimport java.awt.Color;\nimport java.awt.Font;\nimport java.util.Random;\n\npublic final class Snake {\n   \n   // Enum for user input &amp; snake movement\n   enum Direction { UP, DOWN, LEFT, RIGHT }\n   private static Direction direction;\n   \n   // Declare game constants\n   private static int WIDTH = 800;\n   private static int HEIGHT = 800;\n   private static int UNIT_SIZE = 40;\n   private static int GAME_UNITS = (WIDTH * HEIGHT) / UNIT_SIZE;\n\n   // Grid for snake &amp; food coordinates\n   private static int[][] grid;          // Game board\n   private static int[] snakeX, snakeY;  // Arrays to store snake's body's coordinates\n   private static int foodX, foodY;      // Food's coordinates\n   \n   private static boolean gameOver;\n   private static int snakeLength;\n   private static int score;\n   private static Random random = new Random();\n   \n   // Main calls game methods\n   public static void main (final String[] args) { \n      StdDraw.enableDoubleBuffering();   // Smoother graphics\n      launchGame();                      // Launch game\n\n      // Loop to play game with functions\n      while (!gameOver) {\n         handleInput();                  // Controls\n         updateSnake();                  // Move snake\n         draw();                         // Draw game elements; snake, food, &amp; score\n         StdDraw.show();                 // Show graphics\n         StdDraw.pause (100);            // Pause to control game speed\n      }\n      \n      gameOverDisplay();                 // Game over display\n   }\n   \n   // Method initializes elements in game launch\n   private static void launchGame () {\n      // Create game window\n      StdDraw.setCanvasSize (WIDTH, HEIGHT);  // Canvas size\n      StdDraw.setXscale (0, WIDTH);           // X-axis scale\n      StdDraw.setYscale (0, HEIGHT);          // Y-axis scale\n\n      // Initialize game elements\n      direction = Direction.RIGHT;       // Default direction\n      gameOver = false;                  // Game over flag\n      snakeLength = 3;                   // Snake's initial length\n      score = 0;\n      \n      grid = new int[WIDTH / UNIT_SIZE][HEIGHT / UNIT_SIZE];\n      snakeX = new int[GAME_UNITS];      // Store x position of snake's body\n      snakeY = new int[GAME_UNITS];             // Store y position of snake's body\n      \n      // Initialize snake's position\n      for (int i = 0; i &lt; snakeLength; i++) {\n         // Place snake in the middle of the board\n         snakeX[i] = GAME_UNITS / 2 - i;   // Snake's body blocks\n         snakeY[i] = GAME_UNITS / 2;  \n      }\n      \n      spawnFood();\n   }\n   \n   // Method handles user input &amp; direction\n   private static void handleInput () {\n      // Check for arrow key presses\n      if (StdDraw.isKeyPressed (KeyEvent.VK_UP) &amp;&amp; direction != Direction.DOWN) {\n         direction = Direction.UP;\n      } else if (StdDraw.isKeyPressed (KeyEvent.VK_DOWN) &amp;&amp; direction != Direction.UP) {\n         direction = Direction.DOWN;\n      } else if (StdDraw.isKeyPressed (KeyEvent.VK_LEFT) &amp;&amp; direction != Direction.RIGHT) {\n         direction = Direction.LEFT;\n      } else if (StdDraw.isKeyPressed (KeyEvent.VK_RIGHT) &amp;&amp; direction != Direction.LEFT) {\n         direction = Direction.RIGHT;\n      }\n   }\n   \n   // Method updates game elements\n   private static void updateSnake () {\n      // Move snake's body\n      for (int i = snakeLength - 1; i &gt; 0; i--) {\n         // Block updates to next block's last position\n         snakeX[i] = snakeX[i - 1];\n         snakeY[i] = snakeY[i - 1];\n      }\n\n      // Move snake's head\n      if (direction == Direction.UP) {\n         snakeY[0]++;\n      } else if (direction == Direction.DOWN) {\n         snakeY[0]--;\n      } else if (direction == Direction.LEFT) {\n         snakeX[0]--;\n      } else if (direction == Direction.RIGHT) {\n         snakeX[0]++;\n      }  \n      \n      // Check for collisions\n      checkCollisions();\n      \n      // Check if food is eaten\n      if (snakeX[0] == foodX &amp;&amp; snakeY[0] == foodY) {\n         snakeLength++;\n         score++;\n         spawnFood();\n      }\n   }\n   \n   private static void checkCollisions () {\n      // Check if snake collides with walls\n      if (snakeX[0] &lt; 0 || snakeX[0] &gt;= WIDTH || snakeY[0] &lt; 0 || snakeY[0] &gt;= HEIGHT) {\n         gameOver = true;\n      }\n      \n      // Check if snake collides with itself\n      for (int i = 1; i &lt; snakeLength; i++) {\n         if (snakeX[0] == snakeX[i] || snakeY[0] == snakeY[i]) {\n            gameOver = true;\n         }\n      }\n   }\n   \n   private static void spawnFood () {\n      foodX = random.nextInt (WIDTH / UNIT_SIZE);\n      foodY = random.nextInt (HEIGHT / UNIT_SIZE);\n   }\n   \n   private static void draw () {\n      StdDraw.clear();\n      \n      // Draw snake\n      StdDraw.setPenColor (Color.GREEN);\n      for (int i = 0; i &lt; snakeLength; i++) {\n         StdDraw.filledSquare (snakeX[i] * UNIT_SIZE + UNIT_SIZE / 2.0,\n               snakeY[i] * UNIT_SIZE + UNIT_SIZE / 2.0, UNIT_SIZE / 2.0);\n      }      \n      \n      // Draw food\n      StdDraw.setPenColor (Color.RED); \n      StdDraw.filledSquare (foodX * UNIT_SIZE + UNIT_SIZE / 2.0,\n            foodY * UNIT_SIZE + UNIT_SIZE / 2.0, UNIT_SIZE / 2.0);      \n      \n      // Display score\n      StdDraw.setPenColor (Color.WHITE);\n      StdDraw.setFont (new Font (&quot;Arial&quot;, Font.BOLD, 20));\n      StdDraw.text (700, 780, &quot;Score: &quot; + score);      \n   }\n   \n   // Game over display\n   private static void gameOverDisplay () {\n      StdDraw.clear();\n\n      StdDraw.setPenColor (Color.BLACK);\n      StdDraw.setFont (new Font (&quot;Arial&quot;, Font.BOLD, 40));\n      StdDraw.text (400, 400, &quot;Game Over!&quot;);\n      StdDraw.text (400, 350, &quot;Score: &quot; + score);\n      StdDraw.setFont(new Font (&quot;Arial&quot;, Font.PLAIN, 20));\n      StdDraw.text (400, 300, &quot;Press Enter to Play Again&quot;);\n      \n      StdDraw.show();\n      StdDraw.pause (100);\n      \n      if (StdDraw.isKeyPressed (KeyEvent.VK_ENTER)) {\n         StdDraw.clear();\n         launchGame();\n      }\n   }\n}\n</code></pre>\n<p>This is what I have so far. It's a work in progress but I want to start with actually getting my snake moving. Thank you</p>\n"},{"tags":["java","spring","http-headers"],"comments":[{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1574466268,"post_id":59002991,"comment_id":104256596,"body_markdown":"post your code, what headers, and how far you have gotten.","body":"post your code, what headers, and how far you have gotten."}],"answers":[{"comments":[{"owner":{"account_id":5471129,"reputation":789,"user_id":4350480,"display_name":"Hasan Aslam"},"score":6,"creation_date":1590680800,"post_id":59003716,"comment_id":109777996,"body_markdown":"This doesn&#39;t work in the latest Spring version at the time of writing this (5.2.6). The constructor simply stores a reference to the `ReadOnlyHttpHeaders` instance passed in and delegates all operations to it, which all throw an exception (because it&#39;s read only, of course).","body":"This doesn&#39;t work in the latest Spring version at the time of writing this (5.2.6). The constructor simply stores a reference to the <code>ReadOnlyHttpHeaders</code> instance passed in and delegates all operations to it, which all throw an exception (because it&#39;s read only, of course)."}],"tags":[],"owner":{"account_id":8637072,"reputation":3311,"user_id":8112217,"accept_rate":91,"display_name":"tsarenkotxt"},"comment_count":1,"down_vote_count":3,"up_vote_count":2,"is_accepted":true,"score":-1,"last_activity_date":1574471790,"creation_date":1574471790,"answer_id":59003716,"question_id":59002991,"body_markdown":"[HttpHeaders][1] implements [MultiValueMap][2], you can create a new mutable `HttpHeaders ` including `ReadOnlyHttpHeaders` and modify:\r\n```java\r\n\t\tHttpHeaders readOnlyHttpHeaders = ...\r\n\t\t\r\n\t\tHttpHeaders mutableHttpHeaders = new HttpHeaders(readOnlyHttpHeaders);\r\n\t\tmutableHttpHeaders.put(&quot;foo&quot;, List.of(&quot;bar&quot;));\r\n```\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/HttpHeaders.html\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/util/MultiValueMap.html","title":"How do I modify a response&#39;s ReadOnlyHttpHeaders in Spring?","body":"<p><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/HttpHeaders.html\" rel=\"nofollow noreferrer\">HttpHeaders</a> implements <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/util/MultiValueMap.html\" rel=\"nofollow noreferrer\">MultiValueMap</a>, you can create a new mutable <code>HttpHeaders</code> including <code>ReadOnlyHttpHeaders</code> and modify:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>        HttpHeaders readOnlyHttpHeaders = ...\n\n        HttpHeaders mutableHttpHeaders = new HttpHeaders(readOnlyHttpHeaders);\n        mutableHttpHeaders.put(\"foo\", List.of(\"bar\"));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1685925,"reputation":109,"user_id":1549226,"display_name":"mistergreen"},"score":1,"creation_date":1642146262,"post_id":60647375,"comment_id":124998203,"body_markdown":"It works for me, thanks !\nI noticed that the headers in the actual httpEntity are updated when httpHeaders is updated.","body":"It works for me, thanks ! I noticed that the headers in the actual httpEntity are updated when httpHeaders is updated."}],"tags":[],"owner":{"account_id":16398995,"reputation":775,"user_id":11845598,"display_name":"ExploreEv"},"comment_count":1,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1583984973,"creation_date":1583984973,"answer_id":60647375,"question_id":59002991,"body_markdown":"In case of above answer did not work for you, try below \r\n```\r\nHttpHeaders httpHeaders = HttpHeaders.writableHttpHeaders(httpEntity.getHeaders());\r\n```","title":"How do I modify a response&#39;s ReadOnlyHttpHeaders in Spring?","body":"<p>In case of above answer did not work for you, try below </p>\n\n<pre><code>HttpHeaders httpHeaders = HttpHeaders.writableHttpHeaders(httpEntity.getHeaders());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9013600,"reputation":909,"user_id":6717287,"accept_rate":62,"display_name":"Amir Choubani"},"score":0,"creation_date":1637742177,"post_id":65288233,"comment_id":123904532,"body_markdown":"I think this answer is for webClient and not for restTemplate.","body":"I think this answer is for webClient and not for restTemplate."}],"tags":[],"owner":{"account_id":1921531,"reputation":16820,"user_id":1732936,"accept_rate":66,"display_name":"Xelian"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1607945303,"creation_date":1607945303,"answer_id":65288233,"question_id":59002991,"body_markdown":"    ServerHttpRequest request = exchange.getRequest().mutate().header(&quot;key&quot;, new String[] {&quot;value&quot;}).build();\r\n    \r\n    ServerWebExchange mutatedExchange = exchange.mutate().request(request).build();\r\n\r\nAnd the mutatedExchange  will have a header with the new key: value pair.","title":"How do I modify a response&#39;s ReadOnlyHttpHeaders in Spring?","body":"<pre><code>ServerHttpRequest request = exchange.getRequest().mutate().header(&quot;key&quot;, new String[] {&quot;value&quot;}).build();\n\nServerWebExchange mutatedExchange = exchange.mutate().request(request).build();\n</code></pre>\n<p>And the mutatedExchange  will have a header with the new key: value pair.</p>\n"},{"tags":[],"owner":{"account_id":7919511,"reputation":56,"user_id":5980949,"display_name":"Artem Yemelin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701094534,"creation_date":1701094534,"answer_id":77557577,"question_id":59002991,"body_markdown":"Make writeable header instance and use it:\r\n```\r\nHttpHeaders writableHeaders = HttpHeaders.writableHttpHeaders(headers);\r\nwritableHeaders.put(authHeader, List.of(OBFUSCATED_VALUE));\r\n```","title":"How do I modify a response&#39;s ReadOnlyHttpHeaders in Spring?","body":"<p>Make writeable header instance and use it:</p>\n<pre><code>HttpHeaders writableHeaders = HttpHeaders.writableHttpHeaders(headers);\nwritableHeaders.put(authHeader, List.of(OBFUSCATED_VALUE));\n</code></pre>\n"}],"owner":{"account_id":5201109,"reputation":145,"user_id":4160439,"display_name":"Jumpman"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5942,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":59003716,"answer_count":4,"score":5,"last_activity_date":1701094534,"creation_date":1574464510,"question_id":59002991,"body_markdown":"RestTemplate.exchange is returning a ResponseEntity with ReadOnlyHttpHeaders. I want to add/modify these headers but since it is read only how do I do that? ","title":"How do I modify a response&#39;s ReadOnlyHttpHeaders in Spring?","body":"<p>RestTemplate.exchange is returning a ResponseEntity with ReadOnlyHttpHeaders. I want to add/modify these headers but since it is read only how do I do that? </p>\n"},{"tags":["java","compiler-errors","lombok"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701092300,"creation_date":1701092300,"answer_id":77557349,"question_id":77556592,"body_markdown":"As the docs of `SuperBuilder` explain, you can&#39;t handwrite parts of the builder. It&#39;s way too complex, which is why you can&#39;t do it.\r\n\r\nif you absolutely insist, remove the handwritten `EventFinderBuilder`, throw the result through delombok (`java -jar lombok.jar delombok`), study that _very_ carefully, and then handroll things. And be aware it&#39;s not recommended. In the end wanting the complications of builders that can build across a type hierarchy with custom bells and whistles exceeds the lombok target of &quot;make boilerplate less annoying&quot; because it&#39;s no longer boilerplate at that point.\r\n","title":"Lombok not compiling an abstract generic superclass","body":"<p>As the docs of <code>SuperBuilder</code> explain, you can't handwrite parts of the builder. It's way too complex, which is why you can't do it.</p>\n<p>if you absolutely insist, remove the handwritten <code>EventFinderBuilder</code>, throw the result through delombok (<code>java -jar lombok.jar delombok</code>), study that <em>very</em> carefully, and then handroll things. And be aware it's not recommended. In the end wanting the complications of builders that can build across a type hierarchy with custom bells and whistles exceeds the lombok target of &quot;make boilerplate less annoying&quot; because it's no longer boilerplate at that point.</p>\n"},{"tags":[],"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1701094398,"creation_date":1701094398,"answer_id":77557566,"question_id":77556592,"body_markdown":"When your class has generic type parameters, The builders that lombok generates will also have those type parameters. The builders are static classes, and so the `EventType` type parameter of `EventFinder` is not in scope in the builder classes.\r\n\r\nIf you want to write your own implementation for a part of the code that Lombok generates, the signature has to match exactly. You should declare the `EventType` type parameter too.\r\n\r\n```\r\npublic static abstract class EventFinderBuilder&lt;\r\n    EventType,\r\n    C extends EventFinder&lt;EventType&gt;, \r\n    B extends EventFinderBuilder&lt;EventType, C, B&gt;\r\n&gt; { ... }\r\n```\r\n\r\nBut as rzwitserloot said in their answer. This kind of defeats the purpose of Lombok. If you are adding a log for every field in your class, you might as well handwrite the entire builder yourself.","title":"Lombok not compiling an abstract generic superclass","body":"<p>When your class has generic type parameters, The builders that lombok generates will also have those type parameters. The builders are static classes, and so the <code>EventType</code> type parameter of <code>EventFinder</code> is not in scope in the builder classes.</p>\n<p>If you want to write your own implementation for a part of the code that Lombok generates, the signature has to match exactly. You should declare the <code>EventType</code> type parameter too.</p>\n<pre><code>public static abstract class EventFinderBuilder&lt;\n    EventType,\n    C extends EventFinder&lt;EventType&gt;, \n    B extends EventFinderBuilder&lt;EventType, C, B&gt;\n&gt; { ... }\n</code></pre>\n<p>But as rzwitserloot said in their answer. This kind of defeats the purpose of Lombok. If you are adding a log for every field in your class, you might as well handwrite the entire builder yourself.</p>\n"}],"owner":{"account_id":16283593,"reputation":241,"user_id":11758880,"display_name":"Kfir Doron"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77557566,"answer_count":2,"score":1,"last_activity_date":1701094398,"creation_date":1701085112,"question_id":77556592,"body_markdown":"I have this class:\r\n```java\r\n@SuperBuilder\r\npublic abstract class EventFinder&lt;EventType&gt; {\r\n    private final String accountId;\r\n\r\npublic abstract List&lt;EventType&gt; find();\r\n\r\n    public static abstract class EventFinderBuilder&lt;C extends EventFinder&lt;?&gt;, B extends EventFinderBuilder&lt;C, B&gt;&gt; {\r\n        public B accountId(String accountId) {\r\n            log.trace(&quot;Account ID: %1s&quot;.formatted(accountId));\r\n            this.accountId = accountId;\r\n            return self();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nBeen trying to make `@SuperBuilder` work with it but to no avail, \r\nI&#39;m overriding some of the builder methods to include logs, which works great, \r\nCompiling outputs:\r\n```\r\nerror: wrong number of type arguments; required 2\r\n@SuperBuilder\r\n^\r\n```\r\n\r\n\r\nI can do it just fine by removing the abstract method from the class and simply implementing it in the subclasses, but I would like to declare it here as this is the parent.\r\n\r\n\r\n\r\nTried to play with the @SuperBuilder parameters, nothing helps, tried to remove the abstract method, which worked, but did not solve the issue.","title":"Lombok not compiling an abstract generic superclass","body":"<p>I have this class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SuperBuilder\npublic abstract class EventFinder&lt;EventType&gt; {\n    private final String accountId;\n\npublic abstract List&lt;EventType&gt; find();\n\n    public static abstract class EventFinderBuilder&lt;C extends EventFinder&lt;?&gt;, B extends EventFinderBuilder&lt;C, B&gt;&gt; {\n        public B accountId(String accountId) {\n            log.trace(&quot;Account ID: %1s&quot;.formatted(accountId));\n            this.accountId = accountId;\n            return self();\n        }\n    }\n}\n</code></pre>\n<p>Been trying to make <code>@SuperBuilder</code> work with it but to no avail,\nI'm overriding some of the builder methods to include logs, which works great,\nCompiling outputs:</p>\n<pre><code>error: wrong number of type arguments; required 2\n@SuperBuilder\n^\n</code></pre>\n<p>I can do it just fine by removing the abstract method from the class and simply implementing it in the subclasses, but I would like to declare it here as this is the parent.</p>\n<p>Tried to play with the @SuperBuilder parameters, nothing helps, tried to remove the abstract method, which worked, but did not solve the issue.</p>\n"},{"tags":["java","performance","hibernate","hazelcast","second-level-cache"],"comments":[{"owner":{"account_id":5639587,"reputation":412,"user_id":4463900,"display_name":"Or&#231;un &#199;olak"},"score":0,"creation_date":1701242782,"post_id":77557334,"comment_id":136749928,"body_markdown":"You are seeing a jump from 0.000311366 seconds to 0.001093001 seconds, but the jump is insignificant.  With two members, half of the keys will be distributed to 2nd member, this adds the serialization and network overhead. Also in embedded mode HZ is running within the JVM of your application, using its resources. This means that anything happening in your app can affect HZ","body":"You are seeing a jump from 0.000311366 seconds to 0.001093001 seconds, but the jump is insignificant.  With two members, half of the keys will be distributed to 2nd member, this adds the serialization and network overhead. Also in embedded mode HZ is running within the JVM of your application, using its resources. This means that anything happening in your app can affect HZ"}],"answers":[{"tags":[],"owner":{"account_id":14230921,"reputation":836,"user_id":10280183,"display_name":"Mike Yawn"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1701093667,"creation_date":1701093667,"answer_id":77557475,"question_id":77557334,"body_markdown":"As a distributed cache, once Hazelcast grows beyond a single node you will start to see network performance impact the time needed for gets and puts, and this will always result in performance less than what can be achieved on a purely local (single node) solution. \r\n\r\nThere are configuration options that can improve the performance, but at the cost of less consistency/accuracy.\r\n\r\nWhen reading, a single-node cluster will always find the record locally (if it exists).  In a two-node cluster, we expect that 50% of gets will be satisfied locally, and 50% will require a network call.  As clusters get larger, an even larger percentage of gets will be remote.  So the performance degradation you see is a natural consequence of distributing data across the network.  With an embedded Hazelcast configuration, you can set the &#39;read-from-backups&#39; flag true, and this will allow a higher percentage of calls to be resolved locally - but some of those reads may be stale values if the primary copy of the data has been modified and the modification has not yet been propagated to the backup.  \r\n\r\nWhen writing, on a single node configuration Hazelcast writes the value and returns to the caller.  On a multi-node configuration, Hazelcast will write first to the primary node, and then to the configured number of synchronous backup nodes, before returning to the caller - so writes will take longer as there will always be a backup copy to write (assuming default configuration).  You can improve performance by switching from synchronous to asynchronous backups, or by turning off backups altogether, but each of these changes increases the chance of data loss in the event of a node outage.  If all cached data is known to be safely stored in a system of record where it can be reloaded after a failure, then this may be an acceptable risk.","title":"Hazelcast + Hibernate query slowdown when using second level cache","body":"<p>As a distributed cache, once Hazelcast grows beyond a single node you will start to see network performance impact the time needed for gets and puts, and this will always result in performance less than what can be achieved on a purely local (single node) solution.</p>\n<p>There are configuration options that can improve the performance, but at the cost of less consistency/accuracy.</p>\n<p>When reading, a single-node cluster will always find the record locally (if it exists).  In a two-node cluster, we expect that 50% of gets will be satisfied locally, and 50% will require a network call.  As clusters get larger, an even larger percentage of gets will be remote.  So the performance degradation you see is a natural consequence of distributing data across the network.  With an embedded Hazelcast configuration, you can set the 'read-from-backups' flag true, and this will allow a higher percentage of calls to be resolved locally - but some of those reads may be stale values if the primary copy of the data has been modified and the modification has not yet been propagated to the backup.</p>\n<p>When writing, on a single node configuration Hazelcast writes the value and returns to the caller.  On a multi-node configuration, Hazelcast will write first to the primary node, and then to the configured number of synchronous backup nodes, before returning to the caller - so writes will take longer as there will always be a backup copy to write (assuming default configuration).  You can improve performance by switching from synchronous to asynchronous backups, or by turning off backups altogether, but each of these changes increases the chance of data loss in the event of a node outage.  If all cached data is known to be safely stored in a system of record where it can be reloaded after a failure, then this may be an acceptable risk.</p>\n"}],"owner":{"account_id":4013265,"reputation":309,"user_id":3306106,"display_name":"BigMichi1"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77557475,"answer_count":1,"score":0,"last_activity_date":1701093667,"creation_date":1701092206,"question_id":77557334,"body_markdown":"we are currently using in Hibernate 6.3.1 as a second level cache Hazelcast 5.3.6.\r\n\r\nwe are experiencing a significant slow down in performance when a second node joins the cluster. currently Hazelcast is configured in embedded mode (`hazelcast.jcache.provider.type=member`) and in hibernate config we have `hibernate.cache.region.factory_class=jcache`, `hibernate.cache.use_second_level_cache=true` and `hibernate.cache.use_query_cache=true`\r\n\r\nHazelcast is configured in this way:\r\n\r\n```xml\r\n    &lt;advanced-network enabled=&quot;true&quot;&gt;\r\n        &lt;join&gt;\r\n            &lt;auto-detection enabled=&quot;false&quot;/&gt;\r\n            &lt;multicast enabled=&quot;true&quot;&gt;\r\n                &lt;multicast-group&gt;224.2.2.3&lt;/multicast-group&gt;\r\n                &lt;multicast-port&gt;54327&lt;/multicast-port&gt;\r\n                &lt;multicast-time-to-live&gt;32&lt;/multicast-time-to-live&gt;\r\n                &lt;multicast-timeout-seconds&gt;5&lt;/multicast-timeout-seconds&gt;\r\n            &lt;/multicast&gt;\r\n        &lt;/join&gt;\r\n\r\n        &lt;member-server-socket-endpoint-config&gt;\r\n            &lt;port&gt;5701&lt;/port&gt;\r\n            &lt;socket-options&gt;\r\n                &lt;keep-alive&gt;true&lt;/keep-alive&gt;\r\n                &lt;tcp-no-delay&gt;true&lt;/tcp-no-delay&gt;\r\n                &lt;buffer-direct&gt;true&lt;/buffer-direct&gt;\r\n            &lt;/socket-options&gt;\r\n        &lt;/member-server-socket-endpoint-config&gt;\r\n        &lt;client-server-socket-endpoint-config&gt;\r\n            &lt;port&gt;9090&lt;/port&gt;\r\n            &lt;socket-options&gt;\r\n                &lt;keep-alive&gt;true&lt;/keep-alive&gt;\r\n                &lt;tcp-no-delay&gt;true&lt;/tcp-no-delay&gt;\r\n                &lt;buffer-direct&gt;true&lt;/buffer-direct&gt;\r\n            &lt;/socket-options&gt;\r\n        &lt;/client-server-socket-endpoint-config&gt;\r\n    &lt;/advanced-network&gt;\r\n\r\n    &lt;cache name=&quot;*&quot;&gt;\r\n        &lt;statistics-enabled&gt;false&lt;/statistics-enabled&gt;\r\n        &lt;management-enabled&gt;false&lt;/management-enabled&gt;\r\n        &lt;in-memory-format&gt;BINARY&lt;/in-memory-format&gt;\r\n        &lt;expiry-policy-factory&gt;\r\n            &lt;timed-expiry-policy-factory expiry-policy-type=&quot;ETERNAL&quot;/&gt;\r\n        &lt;/expiry-policy-factory&gt;\r\n        &lt;eviction eviction-policy=&quot;LRU&quot; max-size-policy=&quot;ENTRY_COUNT&quot; size=&quot;10000&quot;/&gt;\r\n    &lt;/cache&gt;\r\n```\r\n\r\nwhen only one server is started we see in the Hibernate statistics output for one particular query:\r\n\r\n```\r\no.h.e.i.StatisticalLoggingSessionEventListener - Session Metrics {\r\n    13365 nanoseconds spent acquiring 3 JDBC connections;\r\n    9838 nanoseconds spent releasing 3 JDBC connections;\r\n    80964 nanoseconds spent preparing 3 JDBC statements;\r\n    1092652 nanoseconds spent executing 3 JDBC statements;\r\n    0 nanoseconds spent executing 0 JDBC batches;\r\n    311366 nanoseconds spent performing 2 L2C puts;\r\n    6779427 nanoseconds spent performing 45 L2C hits;\r\n    181972 nanoseconds spent performing 2 L2C misses;\r\n    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);\r\n    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)\r\n}\r\n```\r\n\r\nwhen second server joins the same query produces:\r\n\r\n```\r\nINFO  o.h.e.i.StatisticalLoggingSessionEventListener - Session Metrics {\r\n    11922 nanoseconds spent acquiring 3 JDBC connections;\r\n    7064 nanoseconds spent releasing 3 JDBC connections;\r\n    69741 nanoseconds spent preparing 3 JDBC statements;\r\n    1039659 nanoseconds spent executing 3 JDBC statements;\r\n    0 nanoseconds spent executing 0 JDBC batches;\r\n    1093001 nanoseconds spent performing 2 L2C puts;\r\n    10632154 nanoseconds spent performing 45 L2C hits;\r\n    126368 nanoseconds spent performing 2 L2C misses;\r\n    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);\r\n    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)\r\n}\r\n```\r\n\r\nL2C puts and hits taking 2 up to 3 times longer. As this is not the only query the time accumulates more and more and is then also noticeable in the UI.\r\n\r\nAny suggestion how to speed up the L2C hits and puts?","title":"Hazelcast + Hibernate query slowdown when using second level cache","body":"<p>we are currently using in Hibernate 6.3.1 as a second level cache Hazelcast 5.3.6.</p>\n<p>we are experiencing a significant slow down in performance when a second node joins the cluster. currently Hazelcast is configured in embedded mode (<code>hazelcast.jcache.provider.type=member</code>) and in hibernate config we have <code>hibernate.cache.region.factory_class=jcache</code>, <code>hibernate.cache.use_second_level_cache=true</code> and <code>hibernate.cache.use_query_cache=true</code></p>\n<p>Hazelcast is configured in this way:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;advanced-network enabled=&quot;true&quot;&gt;\n        &lt;join&gt;\n            &lt;auto-detection enabled=&quot;false&quot;/&gt;\n            &lt;multicast enabled=&quot;true&quot;&gt;\n                &lt;multicast-group&gt;224.2.2.3&lt;/multicast-group&gt;\n                &lt;multicast-port&gt;54327&lt;/multicast-port&gt;\n                &lt;multicast-time-to-live&gt;32&lt;/multicast-time-to-live&gt;\n                &lt;multicast-timeout-seconds&gt;5&lt;/multicast-timeout-seconds&gt;\n            &lt;/multicast&gt;\n        &lt;/join&gt;\n\n        &lt;member-server-socket-endpoint-config&gt;\n            &lt;port&gt;5701&lt;/port&gt;\n            &lt;socket-options&gt;\n                &lt;keep-alive&gt;true&lt;/keep-alive&gt;\n                &lt;tcp-no-delay&gt;true&lt;/tcp-no-delay&gt;\n                &lt;buffer-direct&gt;true&lt;/buffer-direct&gt;\n            &lt;/socket-options&gt;\n        &lt;/member-server-socket-endpoint-config&gt;\n        &lt;client-server-socket-endpoint-config&gt;\n            &lt;port&gt;9090&lt;/port&gt;\n            &lt;socket-options&gt;\n                &lt;keep-alive&gt;true&lt;/keep-alive&gt;\n                &lt;tcp-no-delay&gt;true&lt;/tcp-no-delay&gt;\n                &lt;buffer-direct&gt;true&lt;/buffer-direct&gt;\n            &lt;/socket-options&gt;\n        &lt;/client-server-socket-endpoint-config&gt;\n    &lt;/advanced-network&gt;\n\n    &lt;cache name=&quot;*&quot;&gt;\n        &lt;statistics-enabled&gt;false&lt;/statistics-enabled&gt;\n        &lt;management-enabled&gt;false&lt;/management-enabled&gt;\n        &lt;in-memory-format&gt;BINARY&lt;/in-memory-format&gt;\n        &lt;expiry-policy-factory&gt;\n            &lt;timed-expiry-policy-factory expiry-policy-type=&quot;ETERNAL&quot;/&gt;\n        &lt;/expiry-policy-factory&gt;\n        &lt;eviction eviction-policy=&quot;LRU&quot; max-size-policy=&quot;ENTRY_COUNT&quot; size=&quot;10000&quot;/&gt;\n    &lt;/cache&gt;\n</code></pre>\n<p>when only one server is started we see in the Hibernate statistics output for one particular query:</p>\n<pre><code>o.h.e.i.StatisticalLoggingSessionEventListener - Session Metrics {\n    13365 nanoseconds spent acquiring 3 JDBC connections;\n    9838 nanoseconds spent releasing 3 JDBC connections;\n    80964 nanoseconds spent preparing 3 JDBC statements;\n    1092652 nanoseconds spent executing 3 JDBC statements;\n    0 nanoseconds spent executing 0 JDBC batches;\n    311366 nanoseconds spent performing 2 L2C puts;\n    6779427 nanoseconds spent performing 45 L2C hits;\n    181972 nanoseconds spent performing 2 L2C misses;\n    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);\n    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)\n}\n</code></pre>\n<p>when second server joins the same query produces:</p>\n<pre><code>INFO  o.h.e.i.StatisticalLoggingSessionEventListener - Session Metrics {\n    11922 nanoseconds spent acquiring 3 JDBC connections;\n    7064 nanoseconds spent releasing 3 JDBC connections;\n    69741 nanoseconds spent preparing 3 JDBC statements;\n    1039659 nanoseconds spent executing 3 JDBC statements;\n    0 nanoseconds spent executing 0 JDBC batches;\n    1093001 nanoseconds spent performing 2 L2C puts;\n    10632154 nanoseconds spent performing 45 L2C hits;\n    126368 nanoseconds spent performing 2 L2C misses;\n    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);\n    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)\n}\n</code></pre>\n<p>L2C puts and hits taking 2 up to 3 times longer. As this is not the only query the time accumulates more and more and is then also noticeable in the UI.</p>\n<p>Any suggestion how to speed up the L2C hits and puts?</p>\n"},{"tags":["java","c++","swig"],"comments":[{"owner":{"account_id":3618847,"reputation":867,"user_id":17695211,"display_name":"Alexey Veleshko"},"score":0,"creation_date":1701025779,"post_id":77538537,"comment_id":136721109,"body_markdown":"In your Update 2.0, what&#39;s your line supposed to do? I can&#39;t parse it too.","body":"In your Update 2.0, what&#39;s your line supposed to do? I can&#39;t parse it too."},{"owner":{"account_id":15845518,"reputation":163,"user_id":11432928,"display_name":"bleuj"},"score":1,"creation_date":1701032515,"post_id":77538537,"comment_id":136721777,"body_markdown":"It&#39;s a constructor definition for my class `Foo`, with an argument of `meters_t`, defaulting to 0 meters. `meters_t` is wrapped to a Java double, so I imagine the problem relates to `boost::units::si::meters`, but sadly I don&#39;t have much more information to the error than what is currently posted.","body":"It&#39;s a constructor definition for my class <code>Foo</code>, with an argument of <code>meters_t</code>, defaulting to 0 meters. <code>meters_t</code> is wrapped to a Java double, so I imagine the problem relates to <code>boost::units::si::meters</code>, but sadly I don&#39;t have much more information to the error than what is currently posted."}],"answers":[{"comments":[{"owner":{"account_id":15845518,"reputation":163,"user_id":11432928,"display_name":"bleuj"},"score":0,"creation_date":1701084471,"post_id":77555451,"comment_id":136726940,"body_markdown":"Thanks for the answer I appreciate the nice breakdown here! :) \n\nUnfortunately this hasn&#39;t corrected my current outstanding issue. I have actually already attempted what you suggested with ignoring the constructor and providing another. \n\n`C:\\my_project\\src\\inc\\foo.h(line of the foo ctor): Syntax error in input(3).`\n\nGiven the error is in the `foo.h`, I feel like SWIG is unable to parse the default argument for whatever reason, where ignoring the code won&#39;t help; I imagine SWIG reading `foo.h` is independent of any directives in the SWIG Interface file?","body":"Thanks for the answer I appreciate the nice breakdown here! :)   Unfortunately this hasn&#39;t corrected my current outstanding issue. I have actually already attempted what you suggested with ignoring the constructor and providing another.   <code>C:\\my_project\\src\\inc\\foo.h(line of the foo ctor): Syntax error in input(3).</code>  Given the error is in the <code>foo.h</code>, I feel like SWIG is unable to parse the default argument for whatever reason, where ignoring the code won&#39;t help; I imagine SWIG reading <code>foo.h</code> is independent of any directives in the SWIG Interface file?"},{"owner":{"account_id":15845518,"reputation":163,"user_id":11432928,"display_name":"bleuj"},"score":0,"creation_date":1701090335,"post_id":77555451,"comment_id":136727950,"body_markdown":"Yeah, modifying the ctor to provide a `Foo()` and `Foo(meters_t meters)`, where moving the initialisation of `Foo::meters` (`meters = meters_t{ 0.0 * boost::units::si::meters }`) to  `Foo.cpp` corrects the issue. I would really much prefer to SWIG wrap the code in question without having to alter the source code.\n\nI feel like I am missing a boost header, but I have added the includes used in the `.h` file into my SWIG interface `%module MyModule { //some boost headers }`\n\nIn short, SWIG doesn&#39;t know what `boost::units::si::meter` is when it reads `Foo.h`","body":"Yeah, modifying the ctor to provide a <code>Foo()</code> and <code>Foo(meters_t meters)</code>, where moving the initialisation of <code>Foo::meters</code> (<code>meters = meters_t{ 0.0 * boost::units::si::meters }</code>) to  <code>Foo.cpp</code> corrects the issue. I would really much prefer to SWIG wrap the code in question without having to alter the source code.  I feel like I am missing a boost header, but I have added the includes used in the <code>.h</code> file into my SWIG interface <code>%module MyModule { &#47;&#47;some boost headers }</code>  In short, SWIG doesn&#39;t know what <code>boost::units::si::meter</code> is when it reads <code>Foo.h</code>"},{"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"score":0,"creation_date":1701093603,"post_id":77555451,"comment_id":136728553,"body_markdown":"@bleuj I have edited the answer to address your comments.","body":"@bleuj I have edited the answer to address your comments."}],"tags":[],"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"comment_count":3,"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1701093589,"creation_date":1701073737,"answer_id":77555451,"question_id":77538537,"body_markdown":"You have started on the right track with [typemaps](https://www.swig.org/Doc1.3/Typemaps.html). These are crucial for converting types between C++ and Java. But the errors suggest that SWIG is having trouble automatically converting between `meters_t` and `jdouble`. \r\n\r\nYou might need to provide *custom* typemaps to handle this conversion explicitly. You need to provide a way for SWIG to understand how to convert `meters_t` to `jdouble` and vice versa.\r\n\r\nTry and implement `%typemap(in)` and `%typemap(out)` for `meters_t`. These typemaps will define how to convert a `meters_t` object to a Java `double` when passing from C++ to Java, and vice versa.\r\n\r\nSWIG has limited support for parsing complex [default arguments](https://www.swig.org/Doc1.3/SWIG.html#SWIG_default_args)]. One solution is to simplify the default argument in the SWIG interface file, or provide an overloaded version of the constructor without the default argument for SWIG to wrap.\r\n\r\nIn your [SWIG interface file](https://www.swig.org/Doc1.3/SWIG.html#SWIG_nn47), implement the typemaps:\r\n\r\n```cpp\r\n%typemap(in) meters_t {\r\n    // Code to convert from jdouble to meters_t\r\n}\r\n\r\n%typemap(out) meters_t {\r\n    // Code to convert from meters_t to jdouble\r\n}\r\n\r\n// For the constructor issue\r\n%ignore Foo::Foo(meters_t);\r\n%extend Foo {\r\n    Foo() {\r\n        return new Foo(meters_t{0.0 * boost::units::si::meters});\r\n    }\r\n}\r\n```\r\n\r\nYou  need to fill in the conversion logic based on how `meters_t` can be converted to and from a `double`.\r\n\r\n```bash\r\nJava Side                     JNI Bridge                    C++ Side\r\n                                         \r\n   jdouble                         |                     meters_t Object\r\n   (double)                        |                           |\r\n     |                             |                           |\r\n     |      [ JNI Conversion ]     |                           |\r\n     |----------------------------&gt;|                           |\r\n     |                             |    Construct meters_t     |\r\n     |                             |  using jdouble value      |\r\n     |                             |&lt;--------------------------|\r\n     |                             |                           |\r\n     |                             |      Extract double       |\r\n     |                             |  value from meters_t      |\r\n     |                             |--------------------------&gt;|\r\n     |                             |                           |\r\n     |&lt;----------------------------|                           |\r\n     |                             |                           |\r\n```\r\n\r\n------\r\n\r\nRegarding &quot;`Code to convert from jdouble to meters_t`&quot;, when converting from Java to C++, you will receive a Java `double` (represented as `jdouble` in C++ JNI code). You need to convert this to a `meters_t` object.  \r\nAssuming `meters_t` can be constructed or assigned from a `double`, the typemap might look like this:\r\n\r\n```cpp\r\n%typemap(in) meters_t {\r\n    $1 = meters_t($input * boost::units::si::meter);\r\n}\r\n```\r\n\r\nIn this typemap:\r\n- `$1` is the placeholder for the C++ argument (in this case, `meters_t`).\r\n- `$input` represents the input from Java (a `jdouble`).\r\n- The expression `$input * boost::units::si::meter` constructs a `meters_t` object from the Java double, assuming that `meters_t` can be initialized in this way.\r\n\r\n--------\r\n\r\nFor &quot;`Code to convert from meters_t to jdouble`&quot;:\r\n\r\nWhen converting from C++ to Java, you need to extract a `double` value from your `meters_t` object:\r\n\r\n```cpp\r\n%typemap(out) meters_t {\r\n    $result = (jdouble)$1.value();\r\n}\r\n```\r\n\r\nIn this typemap:\r\n- `$1` is the placeholder for the C++ `meters_t` object.\r\n- `$result` is the JNI representation of the Java type you are mapping to (`jdouble` in this case).\r\n- `$1.value()` is a hypothetical method or way to extract the `double` value from a `meters_t` object. You will need to replace this with the actual method or approach for extracting the numeric value from your `meters_t` type.\r\n\r\nMake sure that `meters_t` can be constructed from a `double` and has a method to extract its value as a `double`. If not, you will need to adapt the code to suit the actual interface of `meters_t`.  \r\nThese typemaps assume that `boost::units::si::meter` is the appropriate unit for conversion. Adjust if necessary based on your specific implementation of `meters_t`.\r\n\r\n----\r\n\r\n&gt; Unfortunately this has not corrected my current outstanding issue. I have actually already attempted what you suggested with ignoring the constructor and providing another.  \r\n`C:\\my_project\\src\\inc\\foo.h(line of the foo ctor): Syntax error in input(3)`. Given the error is in the `foo.h`, I feel like SWIG is unable to parse the default argument for whatever reason, where ignoring the code will not help; I imagine SWIG reading foo.h is independent of any directives in the SWIG Interface file?\r\n\r\nThe error `Syntax error in input(3)` does indeed suggest that SWIG is having trouble parsing the C++ code in your header file, specifically the constructor with the default argument in `foo.h`. That can happen when the syntax or constructs used in the C++ code are too complex or unfamiliar to SWIG.\r\n\r\nIf possible, simplify the constructor in the C++ header file. That means removing or altering the default argument in a way that SWIG can understand. For example, you could split the constructor into two: one without arguments and another taking a `meters_t` argument, handling the default case in the implementation rather than in the declaration.\r\n\r\n```cpp\r\n// Original:\r\n// Foo(meters_t meters = meters_t{ 0.0 * boost::units::si::meters });\r\n\r\n// Simplified:\r\nFoo();\r\nFoo(meters_t meters);\r\n```\r\n\r\nCreate an overloaded version of the constructor specifically for SWIG. That version would not have the complex default argument. Use [SWIG&#39;s `%ignore` directive](https://www.swig.org/Doc1.3/SWIG.html#SWIG_rename_ignore) to ignore the problematic constructor and expose only the simplified version.\r\n\r\nIn your SWIG interface file:\r\n```cpp\r\n%ignore Foo::Foo(meters_t meters = meters_t{ 0.0 * boost::units::si::meters });\r\n\r\n%extend Foo {\r\n    Foo() {\r\n        return new Foo(meters_t{0.0 * boost::units::si::meters});\r\n    }\r\n}\r\n```\r\n\r\nYou can also use [`%inline`](https://www.swig.org/Doc1.3/SWIG.html#SWIG_nn43) to provide an alternative, SWIG-friendly version of the problematic code directly in the interface file. That allows you to keep the original C++ code as is but provide a simplified version for SWIG to process.\r\n\r\n```cpp\r\n%inline %{\r\nclass Foo {\r\n    public:\r\n    Foo() : Foo(meters_t{0.0 * boost::units::si::meters}) {}\r\n    Foo(meters_t meters) { /* Constructor implementation */ }\r\n};\r\n%}\r\n```\r\n\r\nThe key is to create an interface that SWIG can parse without losing the functionality you need in the Java bindings.\r\n\r\n-------------\r\n\r\n&gt; Yeah, modifying the `ctor` to provide a `Foo()` and `Foo(meters_t meters)`, where moving the initialisation of `Foo::meters (meters = meters_t{ 0.0 * boost::units::si::meters })` to `Foo.cpp` corrects the issue.  \r\nI would really much prefer to SWIG wrap the code in question without having to alter the source code.  \r\nI feel like I am missing a boost header, but I have added the includes used in the `.h` file into my SWIG interface `%module MyModule { //some boost headers }`. In short, SWIG does not know what `boost::units::si::meter` is when it reads `Foo.h`!?\r\n\r\nI agree: you would prefer not to modify the original C++ source code to accommodate SWIG. The issue (where SWIG does not recognize `boost::units::si::meter`) is likely due to SWIG&#39;s limited understanding of complex C++ constructs, especially from libraries like [Boost](https://www.boost.org/).\r\n\r\nIncluding Boost headers in the SWIG interface file is a good start. However (again), SWIG might not fully understand or parse complex Boost constructs. Make sure you include the necessary Boost headers in your SWIG interface file, similar to how they are included in your C++ header files (though this might not always be feasible with complex templated types like those in Boost).\r\n\r\n```cpp\r\n%module MyModule\r\n%{\r\n#include &quot;foo.h&quot;\r\n#include &lt;boost/units/systems/si/length.hpp&gt;\r\n#include &lt;boost/units/systems/si/prefixes.hpp&gt;\r\n%}\r\n```\r\nAs mentioned before, use `%ignore` to exclude the problematic constructor from SWIG&#39;s processing.  \r\nThen, either use [`%extend`](https://www.swig.org/Doc1.3/SWIG.html#SWIG_adding_member_functions) to define a SWIG-friendly version of the constructor or [`%rename`](https://www.swig.org/Doc1.3/SWIG.html#SWIG_rename_ignore) to expose a different, simplified constructor to Java.\r\n\r\n```cpp\r\n%ignore Foo::Foo(meters_t meters = meters_t{ 0.0 * boost::units::si::meters });\r\n```\r\nAs a last resort, if SWIG struggles with the Boost types, consider creating a wrapper class in C++ that presents a simpler interface to SWIG. That wrapper would internally handle the Boost types and complexities, exposing only SWIG-friendly types and methods.\r\n\r\n- Create a `FooWrapper` class that simplifies the interface for SWIG.\r\n- Inside `FooWrapper`, manage the complex Boost interactions, exposing simpler methods for SWIG.\r\n\r\n```cpp\r\nclass FooWrapper {\r\npublic:\r\n    FooWrapper() : foo(0.0 * boost::units::si::meters) {}\r\n    explicit FooWrapper(double meters) : foo(meters * boost::units::si::meters) {}\r\n\r\nprivate:\r\n    Foo foo;\r\n};\r\n```\r\n\r\nThen in the SWIG interface file:\r\n\r\n```cpp\r\n%include &quot;FooWrapper.h&quot;\r\n```\r\n\r\nThe goal remains to find a balance between preserving the original C++ source code and providing SWIG with a form it can understand. In that context, creating a simplified interface or wrapper for SWIG can often be a practical solution, especially when dealing with complex libraries like Boost.\r\n","title":"Convert C++ custom unit type to primative Java type with SWIG","body":"<p>You have started on the right track with <a href=\"https://www.swig.org/Doc1.3/Typemaps.html\" rel=\"nofollow noreferrer\">typemaps</a>. These are crucial for converting types between C++ and Java. But the errors suggest that SWIG is having trouble automatically converting between <code>meters_t</code> and <code>jdouble</code>.</p>\n<p>You might need to provide <em>custom</em> typemaps to handle this conversion explicitly. You need to provide a way for SWIG to understand how to convert <code>meters_t</code> to <code>jdouble</code> and vice versa.</p>\n<p>Try and implement <code>%typemap(in)</code> and <code>%typemap(out)</code> for <code>meters_t</code>. These typemaps will define how to convert a <code>meters_t</code> object to a Java <code>double</code> when passing from C++ to Java, and vice versa.</p>\n<p>SWIG has limited support for parsing complex <a href=\"https://www.swig.org/Doc1.3/SWIG.html#SWIG_default_args\" rel=\"nofollow noreferrer\">default arguments</a>]. One solution is to simplify the default argument in the SWIG interface file, or provide an overloaded version of the constructor without the default argument for SWIG to wrap.</p>\n<p>In your <a href=\"https://www.swig.org/Doc1.3/SWIG.html#SWIG_nn47\" rel=\"nofollow noreferrer\">SWIG interface file</a>, implement the typemaps:</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>%typemap(in) meters_t {\n    // Code to convert from jdouble to meters_t\n}\n\n%typemap(out) meters_t {\n    // Code to convert from meters_t to jdouble\n}\n\n// For the constructor issue\n%ignore Foo::Foo(meters_t);\n%extend Foo {\n    Foo() {\n        return new Foo(meters_t{0.0 * boost::units::si::meters});\n    }\n}\n</code></pre>\n<p>You  need to fill in the conversion logic based on how <code>meters_t</code> can be converted to and from a <code>double</code>.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>Java Side                     JNI Bridge                    C++ Side\n                                         \n   jdouble                         |                     meters_t Object\n   (double)                        |                           |\n     |                             |                           |\n     |      [ JNI Conversion ]     |                           |\n     |----------------------------&gt;|                           |\n     |                             |    Construct meters_t     |\n     |                             |  using jdouble value      |\n     |                             |&lt;--------------------------|\n     |                             |                           |\n     |                             |      Extract double       |\n     |                             |  value from meters_t      |\n     |                             |--------------------------&gt;|\n     |                             |                           |\n     |&lt;----------------------------|                           |\n     |                             |                           |\n</code></pre>\n<hr />\n<p>Regarding &quot;<code>Code to convert from jdouble to meters_t</code>&quot;, when converting from Java to C++, you will receive a Java <code>double</code> (represented as <code>jdouble</code> in C++ JNI code). You need to convert this to a <code>meters_t</code> object.<br />\nAssuming <code>meters_t</code> can be constructed or assigned from a <code>double</code>, the typemap might look like this:</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>%typemap(in) meters_t {\n    $1 = meters_t($input * boost::units::si::meter);\n}\n</code></pre>\n<p>In this typemap:</p>\n<ul>\n<li><code>$1</code> is the placeholder for the C++ argument (in this case, <code>meters_t</code>).</li>\n<li><code>$input</code> represents the input from Java (a <code>jdouble</code>).</li>\n<li>The expression <code>$input * boost::units::si::meter</code> constructs a <code>meters_t</code> object from the Java double, assuming that <code>meters_t</code> can be initialized in this way.</li>\n</ul>\n<hr />\n<p>For &quot;<code>Code to convert from meters_t to jdouble</code>&quot;:</p>\n<p>When converting from C++ to Java, you need to extract a <code>double</code> value from your <code>meters_t</code> object:</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>%typemap(out) meters_t {\n    $result = (jdouble)$1.value();\n}\n</code></pre>\n<p>In this typemap:</p>\n<ul>\n<li><code>$1</code> is the placeholder for the C++ <code>meters_t</code> object.</li>\n<li><code>$result</code> is the JNI representation of the Java type you are mapping to (<code>jdouble</code> in this case).</li>\n<li><code>$1.value()</code> is a hypothetical method or way to extract the <code>double</code> value from a <code>meters_t</code> object. You will need to replace this with the actual method or approach for extracting the numeric value from your <code>meters_t</code> type.</li>\n</ul>\n<p>Make sure that <code>meters_t</code> can be constructed from a <code>double</code> and has a method to extract its value as a <code>double</code>. If not, you will need to adapt the code to suit the actual interface of <code>meters_t</code>.<br />\nThese typemaps assume that <code>boost::units::si::meter</code> is the appropriate unit for conversion. Adjust if necessary based on your specific implementation of <code>meters_t</code>.</p>\n<hr />\n<blockquote>\n<p>Unfortunately this has not corrected my current outstanding issue. I have actually already attempted what you suggested with ignoring the constructor and providing another.<br />\n<code>C:\\my_project\\src\\inc\\foo.h(line of the foo ctor): Syntax error in input(3)</code>. Given the error is in the <code>foo.h</code>, I feel like SWIG is unable to parse the default argument for whatever reason, where ignoring the code will not help; I imagine SWIG reading foo.h is independent of any directives in the SWIG Interface file?</p>\n</blockquote>\n<p>The error <code>Syntax error in input(3)</code> does indeed suggest that SWIG is having trouble parsing the C++ code in your header file, specifically the constructor with the default argument in <code>foo.h</code>. That can happen when the syntax or constructs used in the C++ code are too complex or unfamiliar to SWIG.</p>\n<p>If possible, simplify the constructor in the C++ header file. That means removing or altering the default argument in a way that SWIG can understand. For example, you could split the constructor into two: one without arguments and another taking a <code>meters_t</code> argument, handling the default case in the implementation rather than in the declaration.</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>// Original:\n// Foo(meters_t meters = meters_t{ 0.0 * boost::units::si::meters });\n\n// Simplified:\nFoo();\nFoo(meters_t meters);\n</code></pre>\n<p>Create an overloaded version of the constructor specifically for SWIG. That version would not have the complex default argument. Use <a href=\"https://www.swig.org/Doc1.3/SWIG.html#SWIG_rename_ignore\" rel=\"nofollow noreferrer\">SWIG's <code>%ignore</code> directive</a> to ignore the problematic constructor and expose only the simplified version.</p>\n<p>In your SWIG interface file:</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>%ignore Foo::Foo(meters_t meters = meters_t{ 0.0 * boost::units::si::meters });\n\n%extend Foo {\n    Foo() {\n        return new Foo(meters_t{0.0 * boost::units::si::meters});\n    }\n}\n</code></pre>\n<p>You can also use <a href=\"https://www.swig.org/Doc1.3/SWIG.html#SWIG_nn43\" rel=\"nofollow noreferrer\"><code>%inline</code></a> to provide an alternative, SWIG-friendly version of the problematic code directly in the interface file. That allows you to keep the original C++ code as is but provide a simplified version for SWIG to process.</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>%inline %{\nclass Foo {\n    public:\n    Foo() : Foo(meters_t{0.0 * boost::units::si::meters}) {}\n    Foo(meters_t meters) { /* Constructor implementation */ }\n};\n%}\n</code></pre>\n<p>The key is to create an interface that SWIG can parse without losing the functionality you need in the Java bindings.</p>\n<hr />\n<blockquote>\n<p>Yeah, modifying the <code>ctor</code> to provide a <code>Foo()</code> and <code>Foo(meters_t meters)</code>, where moving the initialisation of <code>Foo::meters (meters = meters_t{ 0.0 * boost::units::si::meters })</code> to <code>Foo.cpp</code> corrects the issue.<br />\nI would really much prefer to SWIG wrap the code in question without having to alter the source code.<br />\nI feel like I am missing a boost header, but I have added the includes used in the <code>.h</code> file into my SWIG interface <code>%module MyModule { //some boost headers }</code>. In short, SWIG does not know what <code>boost::units::si::meter</code> is when it reads <code>Foo.h</code>!?</p>\n</blockquote>\n<p>I agree: you would prefer not to modify the original C++ source code to accommodate SWIG. The issue (where SWIG does not recognize <code>boost::units::si::meter</code>) is likely due to SWIG's limited understanding of complex C++ constructs, especially from libraries like <a href=\"https://www.boost.org/\" rel=\"nofollow noreferrer\">Boost</a>.</p>\n<p>Including Boost headers in the SWIG interface file is a good start. However (again), SWIG might not fully understand or parse complex Boost constructs. Make sure you include the necessary Boost headers in your SWIG interface file, similar to how they are included in your C++ header files (though this might not always be feasible with complex templated types like those in Boost).</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>%module MyModule\n%{\n#include &quot;foo.h&quot;\n#include &lt;boost/units/systems/si/length.hpp&gt;\n#include &lt;boost/units/systems/si/prefixes.hpp&gt;\n%}\n</code></pre>\n<p>As mentioned before, use <code>%ignore</code> to exclude the problematic constructor from SWIG's processing.<br />\nThen, either use <a href=\"https://www.swig.org/Doc1.3/SWIG.html#SWIG_adding_member_functions\" rel=\"nofollow noreferrer\"><code>%extend</code></a> to define a SWIG-friendly version of the constructor or <a href=\"https://www.swig.org/Doc1.3/SWIG.html#SWIG_rename_ignore\" rel=\"nofollow noreferrer\"><code>%rename</code></a> to expose a different, simplified constructor to Java.</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>%ignore Foo::Foo(meters_t meters = meters_t{ 0.0 * boost::units::si::meters });\n</code></pre>\n<p>As a last resort, if SWIG struggles with the Boost types, consider creating a wrapper class in C++ that presents a simpler interface to SWIG. That wrapper would internally handle the Boost types and complexities, exposing only SWIG-friendly types and methods.</p>\n<ul>\n<li>Create a <code>FooWrapper</code> class that simplifies the interface for SWIG.</li>\n<li>Inside <code>FooWrapper</code>, manage the complex Boost interactions, exposing simpler methods for SWIG.</li>\n</ul>\n<pre class=\"lang-cpp prettyprint-override\"><code>class FooWrapper {\npublic:\n    FooWrapper() : foo(0.0 * boost::units::si::meters) {}\n    explicit FooWrapper(double meters) : foo(meters * boost::units::si::meters) {}\n\nprivate:\n    Foo foo;\n};\n</code></pre>\n<p>Then in the SWIG interface file:</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>%include &quot;FooWrapper.h&quot;\n</code></pre>\n<p>The goal remains to find a balance between preserving the original C++ source code and providing SWIG with a form it can understand. In that context, creating a simplified interface or wrapper for SWIG can often be a practical solution, especially when dealing with complex libraries like Boost.</p>\n"}],"owner":{"account_id":15845518,"reputation":163,"user_id":11432928,"display_name":"bleuj"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":188,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":77555451,"answer_count":1,"score":5,"last_activity_date":1701093589,"creation_date":1700758213,"question_id":77538537,"body_markdown":"I have C++ code that I am attempting to provide Java bindings using SWIG.\r\n```\r\nstruct meters_t : public boost::units::quantity&lt;boost::units::si::length&gt; {};\r\n```\r\n\r\nI am hoping to try replace all references of `meters_t` to just be a `double` or `Java.lang.Double`.\r\n\r\nI&#39;ve attempted the following in my SWIG interface `.i` file:\r\n```\r\n%typemap(jstype) meters_t &quot;java.lang.Double&quot;\r\n%typemap(jtype) meters_t &quot;java.lang.Double&quot;\r\n%typemap(jni) meters_t &quot;jdouble&quot;\r\n...\r\n// Duplicated for const, const&amp;, &amp;\r\n%ignore meters_t\r\n%include &quot;my_include.h&quot;\r\n```\r\nHowever I am currently getting a typecast error\r\n```\r\nerror C2440: &#39;type cast&#39;: cannot convert from &#39;meters_t *&#39; to &#39;jdouble&#39;\r\nerror C2440: &#39;type cast&#39;: cannot convert from `jdouble` to `meters_t *`\r\n```\r\n\r\nDoes anyone have any advice to correct this? I am quickly losing hope that the idea of converting `meters_t` into a simple `double` will be possible :/\r\n\r\n**UPDATE:**\r\nI have also added the following\r\n```\r\n%typemap(javain) meters_t &quot;$javainput&quot;\r\n```\r\nWhich enables the Java bindings to be built, however when I attempt to use the Java bindings (on a different `struct` that takes `meters_t` as a constructor arg, it immediately throws an error\r\n```\r\nA fatal error has been detected by the Java Runtime Environment\r\nEXCEPTION_ACCESS_VIOLATION\r\n``` \r\n\r\n**UPDATE 2.0**\r\n\r\nI now have `meters_t` SWIG wrapped. My new problem is a class with a boost default argument, and I&#39;m getting the elusive `Syntax error in input(3).` error\r\n```\r\nFoo(meters_t meters = meters_t{ 0.0 * boost::units::si::meters });\r\n```","title":"Convert C++ custom unit type to primative Java type with SWIG","body":"<p>I have C++ code that I am attempting to provide Java bindings using SWIG.</p>\n<pre><code>struct meters_t : public boost::units::quantity&lt;boost::units::si::length&gt; {};\n</code></pre>\n<p>I am hoping to try replace all references of <code>meters_t</code> to just be a <code>double</code> or <code>Java.lang.Double</code>.</p>\n<p>I've attempted the following in my SWIG interface <code>.i</code> file:</p>\n<pre><code>%typemap(jstype) meters_t &quot;java.lang.Double&quot;\n%typemap(jtype) meters_t &quot;java.lang.Double&quot;\n%typemap(jni) meters_t &quot;jdouble&quot;\n...\n// Duplicated for const, const&amp;, &amp;\n%ignore meters_t\n%include &quot;my_include.h&quot;\n</code></pre>\n<p>However I am currently getting a typecast error</p>\n<pre><code>error C2440: 'type cast': cannot convert from 'meters_t *' to 'jdouble'\nerror C2440: 'type cast': cannot convert from `jdouble` to `meters_t *`\n</code></pre>\n<p>Does anyone have any advice to correct this? I am quickly losing hope that the idea of converting <code>meters_t</code> into a simple <code>double</code> will be possible :/</p>\n<p><strong>UPDATE:</strong>\nI have also added the following</p>\n<pre><code>%typemap(javain) meters_t &quot;$javainput&quot;\n</code></pre>\n<p>Which enables the Java bindings to be built, however when I attempt to use the Java bindings (on a different <code>struct</code> that takes <code>meters_t</code> as a constructor arg, it immediately throws an error</p>\n<pre><code>A fatal error has been detected by the Java Runtime Environment\nEXCEPTION_ACCESS_VIOLATION\n</code></pre>\n<p><strong>UPDATE 2.0</strong></p>\n<p>I now have <code>meters_t</code> SWIG wrapped. My new problem is a class with a boost default argument, and I'm getting the elusive <code>Syntax error in input(3).</code> error</p>\n<pre><code>Foo(meters_t meters = meters_t{ 0.0 * boost::units::si::meters });\n</code></pre>\n"},{"tags":["java","jax-rs","wildfly","resteasy","provider"],"comments":[{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1700843902,"post_id":77537708,"comment_id":136706422,"body_markdown":"Can you post a stacktrace?","body":"Can you post a stacktrace?"},{"owner":{"account_id":10503317,"reputation":51,"user_id":7741366,"display_name":"Cx Vercility"},"score":0,"creation_date":1700933614,"post_id":77537708,"comment_id":136713799,"body_markdown":"I can post one when I get back to work, but there really isn&#39;t anything useful to see there. It&#39;s just endless lines of wildfly/resteasy interceptor stuff and then 2 lines of my filter being called.","body":"I can post one when I get back to work, but there really isn&#39;t anything useful to see there. It&#39;s just endless lines of wildfly/resteasy interceptor stuff and then 2 lines of my filter being called."},{"owner":{"account_id":10503317,"reputation":51,"user_id":7741366,"display_name":"Cx Vercility"},"score":0,"creation_date":1701092396,"post_id":77537708,"comment_id":136728319,"body_markdown":"@JamesR.Perkins added one\nCurrently pondering whether to just implement a requestfilter in all deployments instead. whatever resteasy does, the one defined within the deployment itself should always be prioritized. At least thats what I hope/think","body":"@JamesR.Perkins added one Currently pondering whether to just implement a requestfilter in all deployments instead. whatever resteasy does, the one defined within the deployment itself should always be prioritized. At least thats what I hope/think"},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1701104948,"post_id":77537708,"comment_id":136731070,"body_markdown":"What are you using to schedule jobs? It looks like the CDI context is not set. IoW what kind of executor are you using?","body":"What are you using to schedule jobs? It looks like the CDI context is not set. IoW what kind of executor are you using?"},{"owner":{"account_id":10503317,"reputation":51,"user_id":7741366,"display_name":"Cx Vercility"},"score":0,"creation_date":1701170270,"post_id":77537708,"comment_id":136739469,"body_markdown":"Im using the quartz scheduler. Jobs created by quartz arent CDI managed so that tracks (Class.newInstance() ). I can modify the job Factory to use CDi created instances (by CDI.current().select(xyz.class).get() ) However, the real issue is that the filter shouldn&#39;t be used in the first place.","body":"Im using the quartz scheduler. Jobs created by quartz arent CDI managed so that tracks (Class.newInstance() ). I can modify the job Factory to use CDi created instances (by CDI.current().select(xyz.class).get() ) However, the real issue is that the filter shouldn&#39;t be used in the first place."},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1701187667,"post_id":77537708,"comment_id":136742866,"body_markdown":"It&#39;s hard to say what&#39;s really happening when the thread is created out of the scope of the container. Do you know the error is coming from a specific failure? The only way I&#39;d be able to see what is happening is with a reproducer which I assume is nearly impossible. I&#39;d highly suggest looking at Jakarta Concurrency for scheduling threads.","body":"It&#39;s hard to say what&#39;s really happening when the thread is created out of the scope of the container. Do you know the error is coming from a specific failure? The only way I&#39;d be able to see what is happening is with a reproducer which I assume is nearly impossible. I&#39;d highly suggest looking at Jakarta Concurrency for scheduling threads."},{"owner":{"account_id":10503317,"reputation":51,"user_id":7741366,"display_name":"Cx Vercility"},"score":0,"creation_date":1701255089,"post_id":77537708,"comment_id":136752103,"body_markdown":"I&#39;m not entirely sure what you&#39;re asking. The error itself occurs because the invoked RequestFilter injects HttpServletRequest, and the injections fails in the filter because there is no request to inject (since the actual call came from a scheduled thread). Why the filter is even invoked is my question so no clue there.\n\nTransitioning to jakarta concurrency is not an option for us for several reason im afraid, I also cannot share a reproducer because the container and code rely on company internal resources.","body":"I&#39;m not entirely sure what you&#39;re asking. The error itself occurs because the invoked RequestFilter injects HttpServletRequest, and the injections fails in the filter because there is no request to inject (since the actual call came from a scheduled thread). Why the filter is even invoked is my question so no clue there.  Transitioning to jakarta concurrency is not an option for us for several reason im afraid, I also cannot share a reproducer because the container and code rely on company internal resources."},{"owner":{"account_id":10503317,"reputation":51,"user_id":7741366,"display_name":"Cx Vercility"},"score":0,"creation_date":1701255220,"post_id":77537708,"comment_id":136752127,"body_markdown":"In the end I just ended up removing the provider annotation and manually registering the filter to every restclient / restproxy (eclipse microprofile) via .register/@registerprovider in the wildlfy27 environment.\nFortunately, there weren&#39;t that many since there&#39;s a massive amount of calls/methods but not that many different targets, meaning they use the same client/proxy.\n\nFor some reason, wildfly10 still works fine even with the provider annotation in more than 5 deployments. I&#39;m guessing something changed in resteasy between these versions.\n\nThanks for trying to help though!","body":"In the end I just ended up removing the provider annotation and manually registering the filter to every restclient / restproxy (eclipse microprofile) via .register/@registerprovider in the wildlfy27 environment. Fortunately, there weren&#39;t that many since there&#39;s a massive amount of calls/methods but not that many different targets, meaning they use the same client/proxy.  For some reason, wildfly10 still works fine even with the provider annotation in more than 5 deployments. I&#39;m guessing something changed in resteasy between these versions.  Thanks for trying to help though!"},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1701281885,"post_id":77537708,"comment_id":136757525,"body_markdown":"I figured a reproducer would not be easy to do :) It would just be the only way I could see how the filter is getting registered. However, since it&#39;s coming from a deployment it should get discovered and added to the RESTEasy context. Given it is executed outside of a request, that&#39;s why the CDI context is out scope as you noted. I think your fix is the only way to do this. Even using a `ManagedExecutorService` would not work in this case. Sorry about the confusion there.","body":"I figured a reproducer would not be easy to do :) It would just be the only way I could see how the filter is getting registered. However, since it&#39;s coming from a deployment it should get discovered and added to the RESTEasy context. Given it is executed outside of a request, that&#39;s why the CDI context is out scope as you noted. I think your fix is the only way to do this. Even using a <code>ManagedExecutorService</code> would not work in this case. Sorry about the confusion there."}],"owner":{"account_id":10503317,"reputation":51,"user_id":7741366,"display_name":"Cx Vercility"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701092342,"creation_date":1700750274,"question_id":77537708,"body_markdown":"I need some help understanding how Resteasy messes up my registered Providers\r\n\r\nI have 2 services, lets call them Scheduler and Process.\r\nProcess has a ClientRequestFilter annotated with @Provider that adds some headers to Rest Requests.\r\nScheduler regularly calls an entirely different service via Rest.It does not have a requestfilter, nor any dependency to Process. \r\n\r\nStill, *sometimes* when I start my wildfly27 container that contains these Services, my Scheduler will permanently throw Exceptions, whose stacktraces contain the Filter of my Process. (The filter injects HttpServletRequest, which isn&#39;t available there )\r\n\r\nNow as far as hours of googling got me, I think that all classes registered as providers are registered to the entire Resteasy runtime within wildfly, not just the specific deployment they&#39;re contained in.\r\n\r\nNow what I dont understand is why this behaviour appears to be completely random. Sometimes the container and services start just fine, sometimes they have this issue. The order in which they are deployed seems to have no effect on this.\r\nUndeploying the process which contains the requestfilter afterwards also does not change anything about this.\r\n\r\nRemoving the Provider annotation and instead listing the filter in the jakarta.ws.rs.ext.Providers file also had no effect.\r\n\r\nIt seems that a solution to this would be to manually register all resources and providers in the Application Class of the deployments, but I&#39;m not really that fond of manually adjusting numerous services that run within the same wildfly server and copying every single rest resource there.\r\nManually registering providers to every single rest client is also out of the question for the same reason.\r\n\r\nCan anyone clear up my confusion, and maybe even suggest a proper solution?\r\nThanks in advance\r\n\r\nstacktrace:\r\n```\r\njakarta.ws.rs.ProcessingException: org.jboss.weld.contexts.ContextNotActiveException: WELD-001303: No active contexts for scope type jakarta.enterprise.context.RequestScoped]\r\nwildfly27_1   | \tat deployment.scheduler.war//.scheduler.jobs.AbstractRestJob.execute(AbstractRestJob.java:61)\r\nwildfly27_1   | \tat deployment.scheduler.war//org.quartz.core.JobRunShell.run(JobRunShell.java:202)\r\nwildfly27_1   | \tat deployment.scheduler.war//org.quartz.simpl.SimpleThreadPool$WorkerThread.run(SimpleThreadPool.java:573)\r\nwildfly27_1   | Caused by: jakarta.ws.rs.ProcessingException: org.jboss.weld.contexts.ContextNotActiveException: WELD-001303: No active contexts for scope type jakarta.enterprise.context.RequestScoped\r\nwildfly27_1   | \tat org.jboss.resteasy.resteasy-client@6.2.1.Final//org.jboss.resteasy.client.jaxrs.internal.ClientInvocation.filterRequest(ClientInvocation.java:767)\r\nwildfly27_1   | \tat org.jboss.resteasy.resteasy-client@6.2.1.Final//org.jboss.resteasy.client.jaxrs.internal.ClientInvocation.invoke(ClientInvocation.java:499)\r\nwildfly27_1   | \tat org.jboss.resteasy.resteasy-client@6.2.1.Final//org.jboss.resteasy.client.jaxrs.internal.ClientInvocation.invoke(ClientInvocation.java:71)\r\nwildfly27_1   | \tat org.jboss.resteasy.resteasy-client@6.2.1.Final//org.jboss.resteasy.client.jaxrs.internal.ClientInvocationBuilder.get(ClientInvocationBuilder.java:198)\r\nwildfly27_1   | \tat deployment.scheduler.war//scheduler.jobs.RestGetJob.performRequest(RestGetJob.java:16)\r\nwildfly27_1   | \tat deployment.scheduler.war//scheduler.jobs.AbstractRestJob.execute(AbstractRestJob.java:45)\r\nwildfly27_1   | \t... 2 more\r\nwildfly27_1   | Caused by: org.jboss.weld.contexts.ContextNotActiveException: WELD-001303: No active contexts for scope type jakarta.enterprise.context.RequestScoped\r\nwildfly27_1   | \tat org.jboss.weld.core@5.1.0.Final//org.jboss.weld.manager.BeanManagerImpl.getContext(BeanManagerImpl.java:628)\r\nwildfly27_1   | \tat org.jboss.weld.core@5.1.0.Final//org.jboss.weld.bean.ContextualInstanceStrategy$DefaultContextualInstanceStrategy.getIfExists(ContextualInstanceStrategy.java:89)\r\nwildfly27_1   | \tat org.jboss.weld.core@5.1.0.Final//org.jboss.weld.bean.ContextualInstance.getIfExists(ContextualInstance.java:63)\r\nwildfly27_1   | \tat org.jboss.weld.core@5.1.0.Final//org.jboss.weld.bean.proxy.ContextBeanInstance.getInstance(ContextBeanInstance.java:87)\r\nwildfly27_1   | \tat org.jboss.weld.core@5.1.0.Final//org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:105)\r\nwildfly27_1   | \tat org.jboss.weld.core@5.1.0.Final//org.jboss.weld.generated.proxies.servlet.http.HttpServletRequest$Proxy$_$$_WeldClientProxy.getRemoteUser(Unknown Source)\r\nwildfly27_1   | \tat deployment.process.war//process.core.remote.RequestFilter.filter(RequestFilter.java:20)\r\nwildfly27_1   | \tat deployment.process.war//process.core.remote.RequestFilter$Proxy$_$$_WeldClientProxy.filter(Unknown Source)\r\nwildfly27_1   | \tat org.jboss.resteasy.resteasy-client@6.2.1.Final//org.jboss.resteasy.client.jaxrs.internal.ClientInvocation.filterRequest(ClientInvocation.java:754)\r\nwildfly27_1   | \t... 7 more\r\n```","title":"JAX-RS Provider randomly acts server-wide","body":"<p>I need some help understanding how Resteasy messes up my registered Providers</p>\n<p>I have 2 services, lets call them Scheduler and Process.\nProcess has a ClientRequestFilter annotated with @Provider that adds some headers to Rest Requests.\nScheduler regularly calls an entirely different service via Rest.It does not have a requestfilter, nor any dependency to Process.</p>\n<p>Still, <em>sometimes</em> when I start my wildfly27 container that contains these Services, my Scheduler will permanently throw Exceptions, whose stacktraces contain the Filter of my Process. (The filter injects HttpServletRequest, which isn't available there )</p>\n<p>Now as far as hours of googling got me, I think that all classes registered as providers are registered to the entire Resteasy runtime within wildfly, not just the specific deployment they're contained in.</p>\n<p>Now what I dont understand is why this behaviour appears to be completely random. Sometimes the container and services start just fine, sometimes they have this issue. The order in which they are deployed seems to have no effect on this.\nUndeploying the process which contains the requestfilter afterwards also does not change anything about this.</p>\n<p>Removing the Provider annotation and instead listing the filter in the jakarta.ws.rs.ext.Providers file also had no effect.</p>\n<p>It seems that a solution to this would be to manually register all resources and providers in the Application Class of the deployments, but I'm not really that fond of manually adjusting numerous services that run within the same wildfly server and copying every single rest resource there.\nManually registering providers to every single rest client is also out of the question for the same reason.</p>\n<p>Can anyone clear up my confusion, and maybe even suggest a proper solution?\nThanks in advance</p>\n<p>stacktrace:</p>\n<pre><code>jakarta.ws.rs.ProcessingException: org.jboss.weld.contexts.ContextNotActiveException: WELD-001303: No active contexts for scope type jakarta.enterprise.context.RequestScoped]\nwildfly27_1   |     at deployment.scheduler.war//.scheduler.jobs.AbstractRestJob.execute(AbstractRestJob.java:61)\nwildfly27_1   |     at deployment.scheduler.war//org.quartz.core.JobRunShell.run(JobRunShell.java:202)\nwildfly27_1   |     at deployment.scheduler.war//org.quartz.simpl.SimpleThreadPool$WorkerThread.run(SimpleThreadPool.java:573)\nwildfly27_1   | Caused by: jakarta.ws.rs.ProcessingException: org.jboss.weld.contexts.ContextNotActiveException: WELD-001303: No active contexts for scope type jakarta.enterprise.context.RequestScoped\nwildfly27_1   |     at org.jboss.resteasy.resteasy-client@6.2.1.Final//org.jboss.resteasy.client.jaxrs.internal.ClientInvocation.filterRequest(ClientInvocation.java:767)\nwildfly27_1   |     at org.jboss.resteasy.resteasy-client@6.2.1.Final//org.jboss.resteasy.client.jaxrs.internal.ClientInvocation.invoke(ClientInvocation.java:499)\nwildfly27_1   |     at org.jboss.resteasy.resteasy-client@6.2.1.Final//org.jboss.resteasy.client.jaxrs.internal.ClientInvocation.invoke(ClientInvocation.java:71)\nwildfly27_1   |     at org.jboss.resteasy.resteasy-client@6.2.1.Final//org.jboss.resteasy.client.jaxrs.internal.ClientInvocationBuilder.get(ClientInvocationBuilder.java:198)\nwildfly27_1   |     at deployment.scheduler.war//scheduler.jobs.RestGetJob.performRequest(RestGetJob.java:16)\nwildfly27_1   |     at deployment.scheduler.war//scheduler.jobs.AbstractRestJob.execute(AbstractRestJob.java:45)\nwildfly27_1   |     ... 2 more\nwildfly27_1   | Caused by: org.jboss.weld.contexts.ContextNotActiveException: WELD-001303: No active contexts for scope type jakarta.enterprise.context.RequestScoped\nwildfly27_1   |     at org.jboss.weld.core@5.1.0.Final//org.jboss.weld.manager.BeanManagerImpl.getContext(BeanManagerImpl.java:628)\nwildfly27_1   |     at org.jboss.weld.core@5.1.0.Final//org.jboss.weld.bean.ContextualInstanceStrategy$DefaultContextualInstanceStrategy.getIfExists(ContextualInstanceStrategy.java:89)\nwildfly27_1   |     at org.jboss.weld.core@5.1.0.Final//org.jboss.weld.bean.ContextualInstance.getIfExists(ContextualInstance.java:63)\nwildfly27_1   |     at org.jboss.weld.core@5.1.0.Final//org.jboss.weld.bean.proxy.ContextBeanInstance.getInstance(ContextBeanInstance.java:87)\nwildfly27_1   |     at org.jboss.weld.core@5.1.0.Final//org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:105)\nwildfly27_1   |     at org.jboss.weld.core@5.1.0.Final//org.jboss.weld.generated.proxies.servlet.http.HttpServletRequest$Proxy$_$$_WeldClientProxy.getRemoteUser(Unknown Source)\nwildfly27_1   |     at deployment.process.war//process.core.remote.RequestFilter.filter(RequestFilter.java:20)\nwildfly27_1   |     at deployment.process.war//process.core.remote.RequestFilter$Proxy$_$$_WeldClientProxy.filter(Unknown Source)\nwildfly27_1   |     at org.jboss.resteasy.resteasy-client@6.2.1.Final//org.jboss.resteasy.client.jaxrs.internal.ClientInvocation.filterRequest(ClientInvocation.java:754)\nwildfly27_1   |     ... 7 more\n</code></pre>\n"},{"tags":["java","sockets","networking","connection","socketexception"],"comments":[{"owner":{"account_id":2147,"reputation":38490,"user_id":2961,"accept_rate":79,"display_name":"Stu Thompson"},"score":2,"creation_date":1221486339,"post_id":62929,"comment_id":5046,"body_markdown":"Do you have stack traces from both sides?  Can you describe the network architecture a bit more?  (Over the wild Internet?  On the same machine?  Somewhere in between?)  Does it happen all the time?  Or intermittently?","body":"Do you have stack traces from both sides?  Can you describe the network architecture a bit more?  (Over the wild Internet?  On the same machine?  Somewhere in between?)  Does it happen all the time?  Or intermittently?"},{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":0,"creation_date":1542147226,"post_id":62929,"comment_id":93462339,"body_markdown":"See https://stackoverflow.com/questions/585599/whats-causing-my-java-net-socketexception-connection-reset","body":"See <a href=\"https://stackoverflow.com/questions/585599/whats-causing-my-java-net-socketexception-connection-reset\" title=\"whats causing my java net socketexception connection reset\">stackoverflow.com/questions/585599/&hellip;</a>"},{"owner":{"account_id":18030949,"reputation":250,"user_id":13105594,"display_name":"Florian-Martin"},"score":0,"creation_date":1612269165,"post_id":62929,"comment_id":116708675,"body_markdown":"I&#39;ve had the same problem using WAMP, but fixed it working on a remote server.","body":"I&#39;ve had the same problem using WAMP, but fixed it working on a remote server."},{"owner":{"account_id":6865447,"reputation":2052,"user_id":5278079,"display_name":"Sm Srikanth"},"score":0,"creation_date":1646896834,"post_id":62929,"comment_id":126237904,"body_markdown":"Generally, I am asking, can a SQL password expire result in this problem?","body":"Generally, I am asking, can a SQL password expire result in this problem?"}],"answers":[{"tags":[],"owner":{"account_id":3857,"reputation":21157,"user_id":5640,"accept_rate":100,"display_name":"GEOCHET"},"comment_count":0,"down_vote_count":1,"up_vote_count":23,"is_accepted":false,"score":22,"last_activity_date":1221486306,"creation_date":1221486306,"answer_id":62996,"question_id":62929,"body_markdown":"Whenever I have had odd issues like this, I usually sit down with a tool like [WireShark][1] and look at the raw data being passed back and forth. You might be surprised where things are being disconnected, and you are only being *notified* when you try and read.\r\n\r\n\r\n  [1]: http://www.wireshark.org/","title":"java.net.SocketException: Connection reset","body":"<p>Whenever I have had odd issues like this, I usually sit down with a tool like <a href=\"http://www.wireshark.org/\" rel=\"noreferrer\">WireShark</a> and look at the raw data being passed back and forth. You might be surprised where things are being disconnected, and you are only being <em>notified</em> when you try and read.</p>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1348964474,"post_id":63155,"comment_id":17076043,"body_markdown":"Not correct in several respects. Garbage collection and process exits both cause proper closes, not resets, but a close followed by a write by the peer can induce a reset rather than an EOS. SocketTimeoutExceptions are only raised if the reader has set a read timeout.","body":"Not correct in several respects. Garbage collection and process exits both cause proper closes, not resets, but a close followed by a write by the peer can induce a reset rather than an EOS. SocketTimeoutExceptions are only raised if the reader has set a read timeout."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1492191303,"post_id":63155,"comment_id":73891656,"body_markdown":"And it doesn&#39;t always mean an RST was received. It can also mean one was generated by this side.","body":"And it doesn&#39;t always mean an RST was received. It can also mean one was generated by this side."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1605163587,"post_id":63155,"comment_id":114568437,"body_markdown":"And you can&#39;t write to a socket that you have already closed. You will get a `SocketException: socket closed`, and the peer will not get an RST. Answer is completely incorrect.","body":"And you can&#39;t write to a socket that you have already closed. You will get a <code>SocketException: socket closed</code>, and the peer will not get an RST. Answer is completely incorrect."}],"tags":[],"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"comment_count":3,"down_vote_count":1,"up_vote_count":71,"is_accepted":false,"score":70,"last_activity_date":1412785253,"creation_date":1221487435,"answer_id":63155,"question_id":62929,"body_markdown":"Connection reset simply means that a TCP RST was received. This happens when your peer receives data that it can&#39;t process, and there can be various reasons for that.\r\n\r\nThe simplest is when you close the socket, and then write more data on the output stream. By closing the socket, you told your peer that you are done talking, and it can forget about your connection. When you send more data on that stream anyway, the peer rejects it with an RST to let you know it isn&#39;t listening.\r\n\r\nIn other cases, an intervening firewall or even the remote host itself might &quot;forget&quot; about your TCP connection. This could happen if you don&#39;t send any data for a long time (2 hours is a common time-out), or because the peer was rebooted and lost its information about active connections. Sending data on one of these defunct connections will cause a RST too.\r\n\r\n---\r\n\r\n*Update in response to additional information:* \r\n\r\nTake a close look at your handling of the `SocketTimeoutException`. This exception is raised if the configured timeout is exceeded while blocked on a socket operation. The state of the socket itself is not changed when this exception is thrown, but if your exception handler closes the socket, and then tries to write to it, you&#39;ll be in a connection reset condition. `setSoTimeout()` is meant to give you a clean way to break out of a `read()` operation that might otherwise block forever, without doing dirty things like closing the socket from another thread.\r\n","title":"java.net.SocketException: Connection reset","body":"<p>Connection reset simply means that a TCP RST was received. This happens when your peer receives data that it can't process, and there can be various reasons for that.</p>\n\n<p>The simplest is when you close the socket, and then write more data on the output stream. By closing the socket, you told your peer that you are done talking, and it can forget about your connection. When you send more data on that stream anyway, the peer rejects it with an RST to let you know it isn't listening.</p>\n\n<p>In other cases, an intervening firewall or even the remote host itself might \"forget\" about your TCP connection. This could happen if you don't send any data for a long time (2 hours is a common time-out), or because the peer was rebooted and lost its information about active connections. Sending data on one of these defunct connections will cause a RST too.</p>\n\n<hr>\n\n<p><em>Update in response to additional information:</em> </p>\n\n<p>Take a close look at your handling of the <code>SocketTimeoutException</code>. This exception is raised if the configured timeout is exceeded while blocked on a socket operation. The state of the socket itself is not changed when this exception is thrown, but if your exception handler closes the socket, and then tries to write to it, you'll be in a connection reset condition. <code>setSoTimeout()</code> is meant to give you a clean way to break out of a <code>read()</code> operation that might otherwise block forever, without doing dirty things like closing the socket from another thread.</p>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1338372799,"post_id":4300803,"comment_id":14073918,"body_markdown":"@MattLyons Thanks. There are much better MSDN articles than that. Frankly I find that one hard to believe. A connection won&#39;t even exist until the correct source and target IP addresses have been established. The MSDN articles I have seen refer to persistent network errors timing out the connection.","body":"@MattLyons Thanks. There are much better MSDN articles than that. Frankly I find that one hard to believe. A connection won&#39;t even exist until the correct source and target IP addresses have been established. The MSDN articles I have seen refer to persistent network errors timing out the connection."},{"owner":{"account_id":2617870,"reputation":3497,"user_id":2266583,"accept_rate":92,"display_name":"zanderwar"},"score":1,"creation_date":1616561476,"post_id":4300803,"comment_id":118038009,"body_markdown":"Given your first 3 points, [this](https://www.edureka.co/community/7308/how-does-java-net-socketexception-connection-reset-happen#:~:text=More%20commonly%2C%20it%20is%20caused,in%20the%20socket%20receive%20buffer.) would be interesting for you to see a decade later","body":"Given your first 3 points, <a href=\"https://www.edureka.co/community/7308/how-does-java-net-socketexception-connection-reset-happen#:~:text=More%20commonly%2C%20it%20is%20caused,in%20the%20socket%20receive%20buffer.\" rel=\"nofollow noreferrer\">this</a> would be interesting for you to see a decade later"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1616629138,"post_id":4300803,"comment_id":118066320,"body_markdown":"@zanderwar Thanks. Plagiarism abounding over there.","body":"@zanderwar Thanks. Plagiarism abounding over there."},{"owner":{"account_id":18498363,"reputation":89,"user_id":13476259,"display_name":"Alan Telles"},"score":0,"creation_date":1663675746,"post_id":4300803,"comment_id":130291318,"body_markdown":"This answer appears here too\n\nhttp://net-informations.com/java/err/reset.htm","body":"This answer appears here too  <a href=\"http://net-informations.com/java/err/reset.htm\" rel=\"nofollow noreferrer\">net-informations.com/java/err/reset.htm</a>"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1680602417,"post_id":4300803,"comment_id":133922210,"body_markdown":"@AlanTelles And as usual when plagiarists paraphrase they introduce errors. I didn&#39;t say anything about the port not being open, which would not cause this exception; and the part about the socket being closed is wrong as well.","body":"@AlanTelles And as usual when plagiarists paraphrase they introduce errors. I didn&#39;t say anything about the port not being open, which would not cause this exception; and the part about the socket being closed is wrong as well."}],"tags":[],"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"comment_count":5,"down_vote_count":2,"up_vote_count":148,"is_accepted":false,"score":146,"last_activity_date":1432530111,"creation_date":1291003916,"answer_id":4300803,"question_id":62929,"body_markdown":"There are several possible causes.\r\n\r\n1. The other end has deliberately reset the connection, in a way which I will not document here. It is rare, and generally incorrect, for application software to do this, but it is not unknown for commercial software.\r\n\r\n2. More commonly, it is caused by writing to a connection that the other end has already closed normally. In other words an application protocol error.\r\n\r\n3. It can also be caused by closing a socket when there is unread data in the socket receive buffer.\r\n\r\n4. In Windows, &#39;software caused connection abort&#39;, which is not the same as &#39;connection reset&#39;, is caused by network problems sending from your end. There&#39;s a Microsoft knowledge base article about this.","title":"java.net.SocketException: Connection reset","body":"<p>There are several possible causes.</p>\n\n<ol>\n<li><p>The other end has deliberately reset the connection, in a way which I will not document here. It is rare, and generally incorrect, for application software to do this, but it is not unknown for commercial software.</p></li>\n<li><p>More commonly, it is caused by writing to a connection that the other end has already closed normally. In other words an application protocol error.</p></li>\n<li><p>It can also be caused by closing a socket when there is unread data in the socket receive buffer.</p></li>\n<li><p>In Windows, 'software caused connection abort', which is not the same as 'connection reset', is caused by network problems sending from your end. There's a Microsoft knowledge base article about this.</p></li>\n</ol>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1339536009,"post_id":5452194,"comment_id":14381700,"body_markdown":"That would not cause this exception on its own.","body":"That would not cause this exception on its own."},{"owner":{"account_id":244750,"reputation":19412,"user_id":517781,"accept_rate":82,"display_name":"Dean Hiller"},"score":0,"creation_date":1352492955,"post_id":5452194,"comment_id":18162790,"body_markdown":"it would if System.exit(0) kills the program and no one calls socket.close() as the connection is in a bad state and was not closed properly.  sooo more properly said he had a client program that shutdown without closing sockets ;) which is a bad thing and should be fixed.","body":"it would if System.exit(0) kills the program and no one calls socket.close() as the connection is in a bad state and was not closed properly.  sooo more properly said he had a client program that shutdown without closing sockets ;) which is a bad thing and should be fixed."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1381015631,"post_id":5452194,"comment_id":28416909,"body_markdown":"@DeanHiller No it wouldn&#39;t. The operating system would close the socket the same way the application should have.","body":"@DeanHiller No it wouldn&#39;t. The operating system would close the socket the same way the application should have."},{"owner":{"account_id":244750,"reputation":19412,"user_id":517781,"accept_rate":82,"display_name":"Dean Hiller"},"score":0,"creation_date":1381148078,"post_id":5452194,"comment_id":28451690,"body_markdown":"@EJP ....I am not sure...I just know we could reproduce it with System.exit but I don&#39;t remember the OS/config as that was quite some time ago....calling socket.close() on the server prevented connection reset and it behaved more properly.","body":"@EJP ....I am not sure...I just know we could reproduce it with System.exit but I don&#39;t remember the OS/config as that was quite some time ago....calling socket.close() on the server prevented connection reset and it behaved more properly."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":2,"creation_date":1400414228,"post_id":5452194,"comment_id":36459574,"body_markdown":"@DeanHiller The *reading* process exited before the writing process had finished writing.","body":"@DeanHiller The <i>reading</i> process exited before the writing process had finished writing."},{"owner":{"account_id":12648068,"reputation":772,"user_id":9193164,"display_name":"Umer Farooq"},"score":0,"creation_date":1536746780,"post_id":5452194,"comment_id":91532938,"body_markdown":"Yup ! i added sleep(5000) at end of my my client program and figure out that connection reset exception occurred after 5 secs at server side. Which mean my client program was closing before server program and was causing socket exception","body":"Yup ! i added sleep(5000) at end of my my client program and figure out that connection reset exception occurred after 5 secs at server side. Which mean my client program was closing before server program and was causing socket exception"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1562731188,"post_id":5452194,"comment_id":100463858,"body_markdown":"@UmerFarooq Nope. Sleeps don&#39;t fix network code. They only hide bugs. Closing the socket before the peer has finished reading does not cause this error.","body":"@UmerFarooq Nope. Sleeps don&#39;t fix network code. They only hide bugs. Closing the socket before the peer has finished reading does not cause this error."}],"tags":[],"owner":{"account_id":209068,"reputation":2211,"user_id":459904,"accept_rate":57,"display_name":"kml_ckr"},"comment_count":7,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1301257813,"creation_date":1301257813,"answer_id":5452194,"question_id":62929,"body_markdown":"I had the same error. I found the solution for problem now. The problem was client program was finishing before server read the streams.","title":"java.net.SocketException: Connection reset","body":"<p>I had the same error. I found the solution for problem now. The problem was client program was finishing before server read the streams.</p>\n"},{"comments":[{"owner":{"account_id":9135278,"reputation":882,"user_id":6795180,"display_name":"Chidozie Nnachor"},"score":0,"creation_date":1678194033,"post_id":17816678,"comment_id":133482630,"body_markdown":"I had this problem. Turns out the webClient was being overwhelmed as it was initialised early in the program and never reset.\n\nRe-initialising it at the point of each call solved it for me.","body":"I had this problem. Turns out the webClient was being overwhelmed as it was initialised early in the program and never reset.  Re-initialising it at the point of each call solved it for me."}],"tags":[],"owner":{"account_id":120458,"reputation":471,"user_id":312921,"accept_rate":40,"display_name":"Scott S"},"comment_count":1,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1374599423,"creation_date":1374599423,"answer_id":17816678,"question_id":62929,"body_markdown":"Embarrassing to say it, but when I had this problem, it was simply a mistake that I was closing the connection before I read all the data.  In cases with small strings being returned, it worked, but that was probably due to the whole response was buffered, before I closed it.\r\n\r\nIn cases of longer amounts of text being returned, the exception was thrown, since more then a buffer was coming back.\r\n\r\nYou might check for this oversight.  Remember opening a URL is like a file, be sure to close it (release the connection) once it has been fully read.","title":"java.net.SocketException: Connection reset","body":"<p>Embarrassing to say it, but when I had this problem, it was simply a mistake that I was closing the connection before I read all the data.  In cases with small strings being returned, it worked, but that was probably due to the whole response was buffered, before I closed it.</p>\n\n<p>In cases of longer amounts of text being returned, the exception was thrown, since more then a buffer was coming back.</p>\n\n<p>You might check for this oversight.  Remember opening a URL is like a file, be sure to close it (release the connection) once it has been fully read.</p>\n"},{"tags":[],"owner":{"account_id":1493724,"reputation":1565,"user_id":1400157,"accept_rate":67,"display_name":"pmartin8"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1405008473,"creation_date":1405008473,"answer_id":24681365,"question_id":62929,"body_markdown":"I also had this problem with a Java program trying to send a command on a server via SSH. The problem was with the machine executing the Java code. It didn&#39;t have the permission to connect to the remote server. The write() method was doing alright, but the read() method was throwing a java.net.SocketException: Connection reset. I fixed this problem with adding the client SSH key to the remote server known keys. \r\n\r\n","title":"java.net.SocketException: Connection reset","body":"<p>I also had this problem with a Java program trying to send a command on a server via SSH. The problem was with the machine executing the Java code. It didn't have the permission to connect to the remote server. The write() method was doing alright, but the read() method was throwing a java.net.SocketException: Connection reset. I fixed this problem with adding the client SSH key to the remote server known keys. </p>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1616558977,"post_id":30123818,"comment_id":118037547,"body_markdown":"There is nothing about `OutOfMemoryError` in the question.","body":"There is nothing about <code>OutOfMemoryError</code> in the question."},{"owner":{"account_id":350117,"reputation":8663,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":1,"creation_date":1616679998,"post_id":30123818,"comment_id":118082817,"body_markdown":"Yes, I know, I didn&#39;t say otherwise.","body":"Yes, I know, I didn&#39;t say otherwise."}],"tags":[],"owner":{"account_id":350117,"reputation":8663,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"comment_count":2,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1505409502,"creation_date":1431087858,"answer_id":30123818,"question_id":62929,"body_markdown":"I had this problem with a SOA system written in Java.  I was running both the client and the server on different physical machines and they worked fine for a long time, then those nasty connection resets appeared in the client log and there wasn&#39;t anything strange in the server log.  Restarting both client and server didn&#39;t solve the problem.  Finally we discovered that the heap on the server side was rather full so we increased the memory available to the JVM: problem solved!  Note that there was no OutOfMemoryError in the log: memory was just scarce, not exhausted.","title":"java.net.SocketException: Connection reset","body":"<p>I had this problem with a SOA system written in Java.  I was running both the client and the server on different physical machines and they worked fine for a long time, then those nasty connection resets appeared in the client log and there wasn't anything strange in the server log.  Restarting both client and server didn't solve the problem.  Finally we discovered that the heap on the server side was rather full so we increased the memory available to the JVM: problem solved!  Note that there was no OutOfMemoryError in the log: memory was just scarce, not exhausted.</p>\n"},{"comments":[{"owner":{"account_id":179998,"reputation":5576,"user_id":413032,"accept_rate":59,"display_name":"Davut G&#252;rb&#252;z"},"score":0,"creation_date":1605167339,"post_id":31741436,"comment_id":114569532,"body_markdown":"@MarquisofLorne yes correct, that&#39;s why that routine is in another while loop.","body":"@MarquisofLorne yes correct, that&#39;s why that routine is in another while loop."},{"owner":{"account_id":179998,"reputation":5576,"user_id":413032,"accept_rate":59,"display_name":"Davut G&#252;rb&#252;z"},"score":0,"creation_date":1606170739,"post_id":31741436,"comment_id":114876413,"body_markdown":"@MarquisofLorne I noticed after reading my own answer it needed to be &#39;is being called repeatedly&#39;. Thanks for pointing out. 5y ago :). I improved it now actually, based on reading -1, timeout exception etc. added. Ungraceful connection drops are still problem, there are different inactivity management methods people follow.","body":"@MarquisofLorne I noticed after reading my own answer it needed to be &#39;is being called repeatedly&#39;. Thanks for pointing out. 5y ago :). I improved it now actually, based on reading -1, timeout exception etc. added. Ungraceful connection drops are still problem, there are different inactivity management methods people follow."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1700767321,"post_id":31741436,"comment_id":136697517,"body_markdown":"Why did you close the server socket? None of this makes sense.","body":"Why did you close the server socket? None of this makes sense."},{"owner":{"account_id":179998,"reputation":5576,"user_id":413032,"accept_rate":59,"display_name":"Davut G&#252;rb&#252;z"},"score":0,"creation_date":1700819816,"post_id":31741436,"comment_id":136702549,"body_markdown":"@user207421 to give it a fresh start. In my setting there are so many network layers edge to edge and sometimes while one end see `ESTABLISHED` , other side observe `SYNC_SENT`.. in such cases we restart the entire app. Also if the thread is blocked while `accept` it&#39;s caught and retry routine works again with a fresh start.. that&#39;s what I remember from 7y back.  Thanks for your kind comment.","body":"@user207421 to give it a fresh start. In my setting there are so many network layers edge to edge and sometimes while one end see <code>ESTABLISHED</code> , other side observe <code>SYNC_SENT</code>.. in such cases we restart the entire app. Also if the thread is blocked while <code>accept</code> it&#39;s caught and retry routine works again with a fresh start.. that&#39;s what I remember from 7y back.  Thanks for your kind comment."}],"tags":[],"owner":{"account_id":179998,"reputation":5576,"user_id":413032,"accept_rate":59,"display_name":"Davut G&#252;rb&#252;z"},"comment_count":4,"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1606170742,"creation_date":1438330859,"answer_id":31741436,"question_id":62929,"body_markdown":"You should inspect full trace very carefully,\r\n\r\nI&#39;ve a server socket application and fixed a `java.net.SocketException: Connection reset` case.\r\n\r\nIn my case it happens while reading from a clientSocket `Socket` object which is closed its connection because of some reason. (Network lost,firewall or application crash or intended close)\r\n\r\nActually I was re-establishing connection when I got an error while reading from this Socket object.\r\n\r\n    Socket clientSocket = ServerSocket.accept();\r\n    is = new BufferedReader(new InputStreamReader(clientSocket.getInputStream()));\r\n    int readed = is.read(); // WHERE ERROR STARTS !!!\r\n\r\nThe interesting thing is `for my JAVA Socket` if a client connects to my `ServerSocket` and close its connection without sending anything `is.read()` is being called repeatedly.It seems because of being in an infinite while loop for reading from this socket you try to read from a closed connection. \r\nIf you use something like below for read operation;\r\n\r\n    while(true)\r\n    {\r\n      Receive();\r\n    }\r\n\r\nThen you get a stackTrace something like below on and on\r\n\r\n    java.net.SocketException: Socket is closed\r\n    \tat java.net.ServerSocket.accept(ServerSocket.java:494)\r\n\r\n  \r\nWhat I did is just closing ServerSocket and renewing my connection and waiting for further incoming client connections \r\n\r\n    String Receive() throws Exception\r\n    {\r\n    try {\t\t\t\t\t\r\n    \t\t\tint readed = is.read();\r\n               ....\r\n    }catch(Exception e)\r\n    {\r\n    \t\ttryReConnect();\r\n            logit(); //etc\r\n    }\r\n    \r\n    \r\n    //...\r\n    }\r\n\r\nThis reestablises my connection for unknown client socket losts\r\n\r\n    private void tryReConnect()\r\n        \t{\r\n        \t\ttry\r\n        \t\t{\r\n        \t\t\tServerSocket.close();\r\n                    //empty my old lost connection and let it get by garbage col. immediately \r\n                    clientSocket=null;\r\n            \t\tSystem.gc();\r\n                    //Wait a new client Socket connection and address this to my local variable\r\n        \t    \tclientSocket= ServerSocket.accept(); // Waiting for another Connection\r\n        \t\t    System.out.println(&quot;Connection established...&quot;);\r\n        \t\t}catch (Exception e) {\r\n        \t\t\tString message=&quot;ReConnect not successful &quot;+e.getMessage();\r\n        \t\t\tlogit();//etc...\r\n        \t\t}\r\n        \t}\r\n\r\nI couldn&#39;t find another way because as you see from below image you can&#39;t understand whether connection is lost or not without a `try and catch` ,because everything seems right . I got this snapshot while I was getting `Connection reset` continuously.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/T75Ul.png\r\n","title":"java.net.SocketException: Connection reset","body":"<p>You should inspect full trace very carefully,</p>\n<p>I've a server socket application and fixed a <code>java.net.SocketException: Connection reset</code> case.</p>\n<p>In my case it happens while reading from a clientSocket <code>Socket</code> object which is closed its connection because of some reason. (Network lost,firewall or application crash or intended close)</p>\n<p>Actually I was re-establishing connection when I got an error while reading from this Socket object.</p>\n<pre><code>Socket clientSocket = ServerSocket.accept();\nis = new BufferedReader(new InputStreamReader(clientSocket.getInputStream()));\nint readed = is.read(); // WHERE ERROR STARTS !!!\n</code></pre>\n<p>The interesting thing is <code>for my JAVA Socket</code> if a client connects to my <code>ServerSocket</code> and close its connection without sending anything <code>is.read()</code> is being called repeatedly.It seems because of being in an infinite while loop for reading from this socket you try to read from a closed connection.\nIf you use something like below for read operation;</p>\n<pre><code>while(true)\n{\n  Receive();\n}\n</code></pre>\n<p>Then you get a stackTrace something like below on and on</p>\n<pre><code>java.net.SocketException: Socket is closed\n    at java.net.ServerSocket.accept(ServerSocket.java:494)\n</code></pre>\n<p>What I did is just closing ServerSocket and renewing my connection and waiting for further incoming client connections</p>\n<pre><code>String Receive() throws Exception\n{\ntry {                   \n            int readed = is.read();\n           ....\n}catch(Exception e)\n{\n        tryReConnect();\n        logit(); //etc\n}\n\n\n//...\n}\n</code></pre>\n<p>This reestablises my connection for unknown client socket losts</p>\n<pre><code>private void tryReConnect()\n        {\n            try\n            {\n                ServerSocket.close();\n                //empty my old lost connection and let it get by garbage col. immediately \n                clientSocket=null;\n                System.gc();\n                //Wait a new client Socket connection and address this to my local variable\n                clientSocket= ServerSocket.accept(); // Waiting for another Connection\n                System.out.println(&quot;Connection established...&quot;);\n            }catch (Exception e) {\n                String message=&quot;ReConnect not successful &quot;+e.getMessage();\n                logit();//etc...\n            }\n        }\n</code></pre>\n<p>I couldn't find another way because as you see from below image you can't understand whether connection is lost or not without a <code>try and catch</code> ,because everything seems right . I got this snapshot while I was getting <code>Connection reset</code> continuously.</p>\n<p><a href=\"https://i.stack.imgur.com/T75Ul.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/T75Ul.png\" alt=\"enter image description here\" /></a></p>\n"},{"comments":[{"owner":{"account_id":1897366,"reputation":1346,"user_id":1714013,"display_name":"karl li"},"score":0,"creation_date":1590997153,"post_id":57515659,"comment_id":109880022,"body_markdown":"many thanks, you show me a new direction to fix my issue. and finally I found it is the case!!!","body":"many thanks, you show me a new direction to fix my issue. and finally I found it is the case!!!"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1605163726,"post_id":57515659,"comment_id":114568482,"body_markdown":"SSL protocol mismatches do not cause connection resets. They cause handshake failures.","body":"SSL protocol mismatches do not cause connection resets. They cause handshake failures."}],"tags":[],"owner":{"account_id":2882532,"reputation":327,"user_id":2473061,"display_name":"Sumiya"},"comment_count":2,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1565899993,"creation_date":1565899993,"answer_id":57515659,"question_id":62929,"body_markdown":"Check your server&#39;s Java version. Happened to me because my Weblogic 10.3.6 was on JDK 1.7.0_75 which was on TLSv1. The rest endpoint I was trying to consume was shutting down anything below TLSv1.2. \r\n\r\nBy default Weblogic was trying to negotiate the strongest shared protocol. See details here: https://stackoverflow.com/questions/34283829/issues-with-setting-https-protocols-system-property-for-https-connections.\r\n\r\nI added verbose SSL logging to identify the supported TLS. This indicated TLSv1 was being used for the handshake.&lt;br/&gt;\r\n`-Djavax.net.debug=ssl:handshake:verbose:keymanager:trustmanager -Djava.security.debug=access:stack`\r\n\r\nI resolved this by pushing the feature out to our JDK8-compatible product, JDK8 defaults to TLSv1.2. For those restricted to JDK7, I also successfully tested a workaround for Java 7 by upgrading to TLSv1.2. I used this answer: https://stackoverflow.com/questions/39157422/how-to-enable-tls-1-2-in-java-7","title":"java.net.SocketException: Connection reset","body":"<p>Check your server's Java version. Happened to me because my Weblogic 10.3.6 was on JDK 1.7.0_75 which was on TLSv1. The rest endpoint I was trying to consume was shutting down anything below TLSv1.2. </p>\n\n<p>By default Weblogic was trying to negotiate the strongest shared protocol. See details here: <a href=\"https://stackoverflow.com/questions/34283829/issues-with-setting-https-protocols-system-property-for-https-connections\">Issues with setting https.protocols System Property for HTTPS connections</a>.</p>\n\n<p>I added verbose SSL logging to identify the supported TLS. This indicated TLSv1 was being used for the handshake.<br/>\n<code>-Djavax.net.debug=ssl:handshake:verbose:keymanager:trustmanager -Djava.security.debug=access:stack</code></p>\n\n<p>I resolved this by pushing the feature out to our JDK8-compatible product, JDK8 defaults to TLSv1.2. For those restricted to JDK7, I also successfully tested a workaround for Java 7 by upgrading to TLSv1.2. I used this answer: <a href=\"https://stackoverflow.com/questions/39157422/how-to-enable-tls-1-2-in-java-7\">How to enable TLS 1.2 in Java 7</a></p>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":6,"creation_date":1605163751,"post_id":62217112,"comment_id":114568492,"body_markdown":"SSL certificates do not cause connection resets.","body":"SSL certificates do not cause connection resets."}],"tags":[],"owner":{"account_id":2428271,"reputation":211,"user_id":2119761,"display_name":"bmck"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1591365644,"creation_date":1591365644,"answer_id":62217112,"question_id":62929,"body_markdown":"In my experience, I often encounter the following situations;\r\n\r\n1. If you work in a corporate company, contact the network and security team. Because in requests made to external services, it may be necessary to **give permission for the relevant endpoint.**\r\n\r\n2. Another issue is that the **SSL certificate may have expired** on the server where your application is running.","title":"java.net.SocketException: Connection reset","body":"<p>In my experience, I often encounter the following situations;</p>\n\n<ol>\n<li><p>If you work in a corporate company, contact the network and security team. Because in requests made to external services, it may be necessary to <strong>give permission for the relevant endpoint.</strong></p></li>\n<li><p>Another issue is that the <strong>SSL certificate may have expired</strong> on the server where your application is running.</p></li>\n</ol>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1700767393,"post_id":68480666,"comment_id":136697528,"body_markdown":"This does not cause connection resets.","body":"This does not cause connection resets."}],"tags":[],"owner":{"account_id":4738367,"reputation":385,"user_id":3832031,"display_name":"tsotzolas"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1626938287,"creation_date":1626938287,"answer_id":68480666,"question_id":62929,"body_markdown":"In my case was `DNS problem` .  \r\nI put in `host file` the resolved IP and everything works fine. \r\nOf course it is not a permanent solution put this give me time to fix the DNS problem.","title":"java.net.SocketException: Connection reset","body":"<p>In my case was <code>DNS problem</code> .<br />\nI put in <code>host file</code> the resolved IP and everything works fine.\nOf course it is not a permanent solution put this give me time to fix the DNS problem.</p>\n"},{"tags":[],"owner":{"account_id":12203288,"reputation":165,"user_id":8907047,"display_name":"Thiago Ferreira"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626970694,"creation_date":1626970694,"answer_id":68488293,"question_id":62929,"body_markdown":"I&#39;ve seen this problem. In my case, there was an error caused by reusing the same ClientRequest object in an specific Java class. That project was using [Jboss Resteasy][1].\r\n\r\n 1. Initially only one method was using/invoking the object ClientRequest (placed as global variable in the class) to do a request in an specific URL.\r\n 2. After that, another method was created to get data with another URL, reusing the same ClientRequest object, though.\r\n\r\n**The solution: in the same class was created another ClientRequest object and exclusively to not be reused.**\r\n\r\n  [1]: https://docs.jboss.org/resteasy/docs/3.0.13.Final/javadocs/org/jboss/resteasy/client/ClientRequest.html","title":"java.net.SocketException: Connection reset","body":"<p>I've seen this problem. In my case, there was an error caused by reusing the same ClientRequest object in an specific Java class. That project was using <a href=\"https://docs.jboss.org/resteasy/docs/3.0.13.Final/javadocs/org/jboss/resteasy/client/ClientRequest.html\" rel=\"nofollow noreferrer\">Jboss Resteasy</a>.</p>\n<ol>\n<li>Initially only one method was using/invoking the object ClientRequest (placed as global variable in the class) to do a request in an specific URL.</li>\n<li>After that, another method was created to get data with another URL, reusing the same ClientRequest object, though.</li>\n</ol>\n<p><strong>The solution: in the same class was created another ClientRequest object and exclusively to not be reused.</strong></p>\n"},{"tags":[],"owner":{"account_id":2880172,"reputation":1430,"user_id":2471275,"display_name":"Djek-Grif"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645558775,"creation_date":1645558775,"answer_id":71227340,"question_id":62929,"body_markdown":"In my case it was problem with TSL version. I was using Retrofit with OkHttp client and after update ALB on server side I should have to delete my config with **connectionSpecs**:\r\n\r\n    OkHttpClient.Builder clientBuilder = new OkHttpClient.Builder();\r\n            List&lt;ConnectionSpec&gt; connectionSpecs = new ArrayList&lt;&gt;();\r\n            connectionSpecs.add(ConnectionSpec.COMPATIBLE_TLS);\r\n      //      clientBuilder.connectionSpecs(connectionSpecs);\r\n\r\nSo try to remove or add this config to use different TSL configurations.\r\n","title":"java.net.SocketException: Connection reset","body":"<p>In my case it was problem with TSL version. I was using Retrofit with OkHttp client and after update ALB on server side I should have to delete my config with <strong>connectionSpecs</strong>:</p>\n<pre><code>OkHttpClient.Builder clientBuilder = new OkHttpClient.Builder();\n        List&lt;ConnectionSpec&gt; connectionSpecs = new ArrayList&lt;&gt;();\n        connectionSpecs.add(ConnectionSpec.COMPATIBLE_TLS);\n  //      clientBuilder.connectionSpecs(connectionSpecs);\n</code></pre>\n<p>So try to remove or add this config to use different TSL configurations.</p>\n"},{"tags":[],"owner":{"account_id":1476987,"reputation":17785,"user_id":1387157,"accept_rate":94,"display_name":"MaVRoSCy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663924311,"creation_date":1663924311,"answer_id":73825492,"question_id":62929,"body_markdown":"I used to get the &#39;NotifyUtil::java.net.SocketException: Connection reset  at java.net.SocketInputStream.read(SocketInputStream.java:...&#39; message in the Apache Console of my Netbeans7.4 setup. \r\n\r\nI tried many solutions to get away from it, what worked for me is enabling the TLS on Tomcat. \r\n\r\nHere is how to: \r\n\r\n&gt; Create a keystore file to store the server&#39;s private key and\r\n&gt; self-signed certificate by executing the following command:\r\n&gt; \r\n&gt; Windows:\r\n&gt; \r\n&gt; &quot;%JAVA_HOME%\\bin\\keytool&quot; -genkey -alias tomcat -keyalg RSA\r\n&gt; \r\n&gt; Unix:\r\n&gt; \r\n&gt; $JAVA_HOME/bin/keytool -genkey -alias tomcat -keyalg RSA\r\n&gt; \r\n&gt; and specify a password value of &quot;changeit&quot;.\r\n\r\nAs per https://tomcat.apache.org/tomcat-7.0-doc/ssl-howto.html\r\n(This will create a .keystore file in your localuser dir)\r\n\r\nThen edit server.xml (uncomment and edit relevant lines) file (%CATALINA_HOME%apache-tomcat-7.0.41.0_base\\conf\\server.xml)  to enable SSL and TLS protocol:\r\n\r\n     &lt;Connector port=&quot;8443&quot; protocol=&quot;HTTP/1.1&quot; SSLEnabled=&quot;true&quot;\r\n                    maxThreads=&quot;150&quot; scheme=&quot;https&quot; secure=&quot;true&quot;\r\n                    clientAuth=&quot;false&quot; sslProtocol=&quot;TLS&quot; keystorePass=&quot;changeit&quot; /&gt;\r\n\r\n\r\nI hope this helps","title":"java.net.SocketException: Connection reset","body":"<p>I used to get the 'NotifyUtil::java.net.SocketException: Connection reset  at java.net.SocketInputStream.read(SocketInputStream.java:...' message in the Apache Console of my Netbeans7.4 setup.</p>\n<p>I tried many solutions to get away from it, what worked for me is enabling the TLS on Tomcat.</p>\n<p>Here is how to:</p>\n<blockquote>\n<p>Create a keystore file to store the server's private key and\nself-signed certificate by executing the following command:</p>\n<p>Windows:</p>\n<p>&quot;%JAVA_HOME%\\bin\\keytool&quot; -genkey -alias tomcat -keyalg RSA</p>\n<p>Unix:</p>\n<p>$JAVA_HOME/bin/keytool -genkey -alias tomcat -keyalg RSA</p>\n<p>and specify a password value of &quot;changeit&quot;.</p>\n</blockquote>\n<p>As per <a href=\"https://tomcat.apache.org/tomcat-7.0-doc/ssl-howto.html\" rel=\"nofollow noreferrer\">https://tomcat.apache.org/tomcat-7.0-doc/ssl-howto.html</a>\n(This will create a .keystore file in your localuser dir)</p>\n<p>Then edit server.xml (uncomment and edit relevant lines) file (%CATALINA_HOME%apache-tomcat-7.0.41.0_base\\conf\\server.xml)  to enable SSL and TLS protocol:</p>\n<pre><code> &lt;Connector port=&quot;8443&quot; protocol=&quot;HTTP/1.1&quot; SSLEnabled=&quot;true&quot;\n                maxThreads=&quot;150&quot; scheme=&quot;https&quot; secure=&quot;true&quot;\n                clientAuth=&quot;false&quot; sslProtocol=&quot;TLS&quot; keystorePass=&quot;changeit&quot; /&gt;\n</code></pre>\n<p>I hope this helps</p>\n"},{"tags":[],"owner":{"account_id":21586489,"reputation":21,"user_id":15916850,"display_name":"leksykoon"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688373532,"creation_date":1688373532,"answer_id":76603132,"question_id":62929,"body_markdown":"I was also getting HTTP 500 error &quot;java.net.SocketException: Connection reset&quot;, and after couple of days of analyze it turned out that problem is caused by AWS NAT Gateway. I hope it will help someone to save a time and resolve the problem.\r\n\r\n**Infrastructure:**\r\n&lt;br&gt;\r\nAWS API Gateway (HTTP), AWS CloudMap, AWS Fargate.\r\n\r\n**Problem investigation:**\r\n&lt;br&gt;\r\nAfter deep investigation it turned out that the problem is caused by AWS NAT Gateway which keeps information about specific NAT translations for 350 sec and removes it if there is no traffic in that period.\r\nMy application uses Java HTTP client, which keeps connections for 20 minutes. Due to this, first 1 or 2 requests after time of 350 seconds ends with HTTP 500 Connection Reset. NAT Gateway doesnt have information about that specific translations and it responds with RST flag - thats why I saw Connection Reset in logs.\r\n\r\n**Implemented solution:**\r\n&lt;br&gt;\r\nChanging HTTP Java client to HTTP Apache client.\r\nHTTP Apache client properly keeps connection alive.\r\nOptionally you can adjust native Java HTTP client to send TCP keep-alive, or to close inactive connection earlier than 350sec.","title":"java.net.SocketException: Connection reset","body":"<p>I was also getting HTTP 500 error &quot;java.net.SocketException: Connection reset&quot;, and after couple of days of analyze it turned out that problem is caused by AWS NAT Gateway. I hope it will help someone to save a time and resolve the problem.</p>\n<p><strong>Infrastructure:</strong>\n<br>\nAWS API Gateway (HTTP), AWS CloudMap, AWS Fargate.</p>\n<p><strong>Problem investigation:</strong>\n<br>\nAfter deep investigation it turned out that the problem is caused by AWS NAT Gateway which keeps information about specific NAT translations for 350 sec and removes it if there is no traffic in that period.\nMy application uses Java HTTP client, which keeps connections for 20 minutes. Due to this, first 1 or 2 requests after time of 350 seconds ends with HTTP 500 Connection Reset. NAT Gateway doesnt have information about that specific translations and it responds with RST flag - thats why I saw Connection Reset in logs.</p>\n<p><strong>Implemented solution:</strong>\n<br>\nChanging HTTP Java client to HTTP Apache client.\nHTTP Apache client properly keeps connection alive.\nOptionally you can adjust native Java HTTP client to send TCP keep-alive, or to close inactive connection earlier than 350sec.</p>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1700767469,"post_id":77417829,"comment_id":136697536,"body_markdown":"A socket timeout is not a connection reset.","body":"A socket timeout is not a connection reset."}],"tags":[],"owner":{"account_id":1342236,"reputation":1244,"user_id":1283704,"display_name":"Michael Fayad"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1701092032,"creation_date":1699024726,"answer_id":77417829,"question_id":62929,"body_markdown":"I&#39;ve encountered a similar socket exception. We&#39;ve setup an MFT SFTP connection with two sequential control-m jobs each sending 10 files of 1Mo each for 1 minute to an external server. Sometimes, a file was missing on the external server with the following error in our MFT logs: \r\n\r\n    Error writing data to final destination. | Proxy error in reading file.\r\n    (...)\r\n    Failed to connect to ssh server. Exception: java.net.SocketTimeoutException\r\n\r\nWe fixed this anomaly by adding a 2 minutes delay between the scheduling of the two control-m jobs.","title":"java.net.SocketException: Connection reset","body":"<p>I've encountered a similar socket exception. We've setup an MFT SFTP connection with two sequential control-m jobs each sending 10 files of 1Mo each for 1 minute to an external server. Sometimes, a file was missing on the external server with the following error in our MFT logs:</p>\n<pre><code>Error writing data to final destination. | Proxy error in reading file.\n(...)\nFailed to connect to ssh server. Exception: java.net.SocketTimeoutException\n</code></pre>\n<p>We fixed this anomaly by adding a 2 minutes delay between the scheduling of the two control-m jobs.</p>\n"},{"tags":[],"owner":{"account_id":219006,"reputation":4141,"user_id":475635,"accept_rate":63,"display_name":"Francesco Marchioni"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700766768,"creation_date":1700766768,"answer_id":77539198,"question_id":62929,"body_markdown":"Overall, to find the root cause of the issue, I&#39;ve found helpful to trace incoming/outgoing tcp packets with a tool such as tcpdump.\r\nI&#39;ve found this article useful to show through a real session the detection of the root cause of the [Connection Reset Issue][1] by using a sample reproducer.\r\n\r\n\r\n  [1]: https://www.mastertheboss.com/java/how-to-solve-the-error-java-net-socketexception-connection-reset/","title":"java.net.SocketException: Connection reset","body":"<p>Overall, to find the root cause of the issue, I've found helpful to trace incoming/outgoing tcp packets with a tool such as tcpdump.\nI've found this article useful to show through a real session the detection of the root cause of the <a href=\"https://www.mastertheboss.com/java/how-to-solve-the-error-java-net-socketexception-connection-reset/\" rel=\"nofollow noreferrer\">Connection Reset Issue</a> by using a sample reproducer.</p>\n"}],"owner":{"display_name":"Darryl"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1154841,"favorite_count":0,"down_vote_count":1,"up_vote_count":185,"answer_count":17,"score":184,"last_activity_date":1701092032,"creation_date":1221485802,"question_id":62929,"body_markdown":"I am getting the following error trying to read from a socket. I&#39;m doing a `readInt()` on that `InputStream`, and I am getting this error. Perusing the documentation suggests that the client part of the connection closed the connection. In this scenario, I am the server.\r\n\r\nI have access to the client log files and it is not closing the connection, and its log files suggest I am closing the connection. So does anybody have an idea why this is happening? What else to check for? Does this arise when there are local resources that are perhaps reaching thresholds?\r\n\r\n---\r\n\r\nI do note that I have the following line:\r\n\r\n    socket.setSoTimeout(10000);\r\n\r\njust prior to the `readInt()`. There is a reason for this (long story), but just curious, are there circumstances under which this might lead to the indicated error? I have the server running in my IDE, and I happened to leave my IDE stuck on a breakpoint, and I then noticed the exact same errors begin appearing in my own logs in my IDE.\r\n\r\nAnyway, just mentioning it, hopefully not a red herring. ","title":"java.net.SocketException: Connection reset","body":"<p>I am getting the following error trying to read from a socket. I'm doing a <code>readInt()</code> on that <code>InputStream</code>, and I am getting this error. Perusing the documentation suggests that the client part of the connection closed the connection. In this scenario, I am the server.</p>\n<p>I have access to the client log files and it is not closing the connection, and its log files suggest I am closing the connection. So does anybody have an idea why this is happening? What else to check for? Does this arise when there are local resources that are perhaps reaching thresholds?</p>\n<hr />\n<p>I do note that I have the following line:</p>\n<pre><code>socket.setSoTimeout(10000);\n</code></pre>\n<p>just prior to the <code>readInt()</code>. There is a reason for this (long story), but just curious, are there circumstances under which this might lead to the indicated error? I have the server running in my IDE, and I happened to leave my IDE stuck on a breakpoint, and I then noticed the exact same errors begin appearing in my own logs in my IDE.</p>\n<p>Anyway, just mentioning it, hopefully not a red herring.</p>\n"},{"tags":["java","flutter","google-signin"],"comments":[{"owner":{"account_id":9141547,"reputation":573,"user_id":6799230,"display_name":"Pierre Janineh"},"score":0,"creation_date":1701093994,"post_id":77555951,"comment_id":136728642,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"owner":{"account_id":19672969,"reputation":5,"user_id":14401820,"display_name":"Swann"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":0,"score":-2,"last_activity_date":1701091897,"creation_date":1701078732,"question_id":77555951,"body_markdown":"I&#39;m having trouble with the google_sign_in in flutter here&#39;s my error even though my sha keys are correct:\r\n[google sign in error](https://i.stack.imgur.com/lF5hm.png)\r\n\r\nwhile trying something I saw on this question (https://stackoverflow.com/questions/54557479/flutter-and-google-sign-in-plugin-platformexceptionsign-in-failed-com-google) I entered this command `./gradlew signingReport` I got this error :\r\n[gradlew error](https://i.stack.imgur.com/N07rd.png)\r\n\r\n\r\nI tried changing the java version for the project in Android studio but it looks like the project isn&#39;t recognize :\r\n[enter image description here](https://i.stack.imgur.com/NpgU8.jpg)\r\n[enter image description here](https://i.stack.imgur.com/BL1EM.jpg)\r\n\r\n\r\nWhen I tried to get to the java version option it doesn&#39;t appear :\r\n[enter image description here](https://i.stack.imgur.com/pUo4d.png)\r\n[enter image description here](https://i.stack.imgur.com/5GlP0.png)\r\n\r\n\r\nHope I&#39;ll get some answers","title":"Error with the google_sign_in in flutter and java version","body":"<p>I'm having trouble with the google_sign_in in flutter here's my error even though my sha keys are correct:\n<a href=\"https://i.stack.imgur.com/lF5hm.png\" rel=\"nofollow noreferrer\">google sign in error</a></p>\n<p>while trying something I saw on this question (<a href=\"https://stackoverflow.com/questions/54557479/flutter-and-google-sign-in-plugin-platformexceptionsign-in-failed-com-google\">Flutter and google_sign_in plugin: PlatformException(sign_in_failed, com.google.android.gms.common.api.ApiException: 10: , null)</a>) I entered this command <code>./gradlew signingReport</code> I got this error :\n<a href=\"https://i.stack.imgur.com/N07rd.png\" rel=\"nofollow noreferrer\">gradlew error</a></p>\n<p>I tried changing the java version for the project in Android studio but it looks like the project isn't recognize :\n<a href=\"https://i.stack.imgur.com/NpgU8.jpg\" rel=\"nofollow noreferrer\">enter image description here</a>\n<a href=\"https://i.stack.imgur.com/BL1EM.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>When I tried to get to the java version option it doesn't appear :\n<a href=\"https://i.stack.imgur.com/pUo4d.png\" rel=\"nofollow noreferrer\">enter image description here</a>\n<a href=\"https://i.stack.imgur.com/5GlP0.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Hope I'll get some answers</p>\n"},{"tags":["java","apache-kafka","azure-functions","avro"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1700847159,"post_id":77544241,"comment_id":136706892,"body_markdown":"What exactly is incomplete? What do you &quot;malformed&quot;. Looks like every field is there from the schema. Everything in the meeting record has a default of null... Have you tried using `ConsumerRecord&lt;K, Meeting&gt;`?","body":"What exactly is incomplete? What do you &quot;malformed&quot;. Looks like every field is there from the schema. Everything in the meeting record has a default of null... Have you tried using <code>ConsumerRecord&lt;K, Meeting&gt;</code>?"},{"owner":{"account_id":26735418,"reputation":3,"user_id":20377235,"display_name":"Luk&#225; Bartonk"},"score":0,"creation_date":1701071690,"post_id":77544241,"comment_id":136724862,"body_markdown":"When I use:\n\n                  dataType = &quot;string&quot;,\n                    avroSchema = avro,\n                    schemaRegistryUrl = &quot;%SchemaRegistry%&quot;,\n                    consumerGroup=&quot;%ConsumerGroup%&quot;) String kafkaEventData\n\nI give String which contains data only for first level. Next level contains only schema.\n\n{&quot;correlationId&quot;:&quot;iaymjxnlpnocbe&quot;,&quot;meeting&quot;:{&quot;Schema&quot;:{&quot;Fields&quot;:[{&quot;Name&quot;:&quot;assistanceType&quot;,&quot;aliases&quot;:null,&quot;Aliases&quot;:null,&quot;Pos&quot;:0,&quot;Documentation&quot;:&quot;Typ asistence na schuzce.&quot;,&quot;DefaultValue&quot;:null,&quot;Ordering&quot;:2,&quot;Schema&quot;:{&quot;Schemas&quot;:[{&quot;Name&quot;:&quot;null&quot;,&quot;Tag&quot;:0,&quot;Fullname&quot;:&quot;null&quot;},","body":"When I use:                    dataType = &quot;string&quot;,                     avroSchema = avro,                     schemaRegistryUrl = &quot;%SchemaRegistry%&quot;,                     consumerGroup=&quot;%ConsumerGroup%&quot;) String kafkaEventData  I give String which contains data only for first level. Next level contains only schema.  {&quot;correlationId&quot;:&quot;iaymjxnlpnocbe&quot;,&quot;meeting&quot;:{&quot;Schema&quot;:{&quot;Fiel&zwnj;&#8203;ds&quot;:[{&quot;Name&quot;:&quot;assist&zwnj;&#8203;anceType&quot;,&quot;aliases&quot;:&zwnj;&#8203;null,&quot;Aliases&quot;:null,&zwnj;&#8203;&quot;Pos&quot;:0,&quot;Documentati&zwnj;&#8203;on&quot;:&quot;Typ asistence na schuzce.&quot;,&quot;DefaultValue&quot;:null,&quot;Ordering&quot;:2,&quot;Schema&quot;:{&quot;Schema&zwnj;&#8203;s&quot;:[{&quot;Name&quot;:&quot;null&quot;,&quot;&zwnj;&#8203;Tag&quot;:0,&quot;Fullname&quot;:&quot;n&zwnj;&#8203;ull&quot;},"},{"owner":{"account_id":26735418,"reputation":3,"user_id":20377235,"display_name":"Luk&#225; Bartonk"},"score":0,"creation_date":1701071818,"post_id":77544241,"comment_id":136724878,"body_markdown":"When I use:\n\n                   avroSchema = avro,\n                    schemaRegistryUrl = &quot;%SchemaRegistry%&quot;,\n                    consumerGroup=&quot;%ConsumerGroup%&quot;) ConsumerRecord&lt;Object, Meeting&gt; kafkaEventData\n\nI give exception:\n\nMethod threw &#39;java.lang.NullPointerException&#39; exception. Cannot evaluate org.apache.kafka.clients.consumer.ConsumerRecord.toString()","body":"When I use:                     avroSchema = avro,                     schemaRegistryUrl = &quot;%SchemaRegistry%&quot;,                     consumerGroup=&quot;%ConsumerGroup%&quot;) ConsumerRecord&lt;Object, Meeting&gt; kafkaEventData  I give exception:  Method threw &#39;java.lang.NullPointerException&#39; exception. Cannot evaluate org.apache.kafka.clients.consumer.ConsumerRecord.toString()"}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701090658,"creation_date":1701090658,"answer_id":77557166,"question_id":77544241,"body_markdown":"Ultimately, I think it&#39;s working as documented... You&#39;ll need to contact Azure support to get anything different... \r\n\r\nAccording to the documentation, if you use string, then you&#39;ll always get the whole record as json, and must manually deserialize using json first before you can process anything else. \r\n\r\nIf you don&#39;t want json, you can also supply datatype as binary, in which case, you&#39;ll still need to manually deserialize the data using Confluent deserializer class, but still, that may only be the value \r\n\r\nWhen using avro datatype, you can only supply a schema for the value, not also a key, assuming it were Avro as well.\r\n\r\n---\r\n\r\nYou can find an example here for getting the record headers and you&#39;ll have to do something similar to get the key\r\n\r\nhttps://github.com/Azure/azure-functions-kafka-extension/blob/dev/samples/java/confluent/src/main/java/com/contoso/kafka/KafkaTriggerWithHeaders.java\r\n\r\n","title":"Azure Functions - KafkaTrigger - Deserialize composite object with avro return null values on second level","body":"<p>Ultimately, I think it's working as documented... You'll need to contact Azure support to get anything different...</p>\n<p>According to the documentation, if you use string, then you'll always get the whole record as json, and must manually deserialize using json first before you can process anything else.</p>\n<p>If you don't want json, you can also supply datatype as binary, in which case, you'll still need to manually deserialize the data using Confluent deserializer class, but still, that may only be the value</p>\n<p>When using avro datatype, you can only supply a schema for the value, not also a key, assuming it were Avro as well.</p>\n<hr />\n<p>You can find an example here for getting the record headers and you'll have to do something similar to get the key</p>\n<p><a href=\"https://github.com/Azure/azure-functions-kafka-extension/blob/dev/samples/java/confluent/src/main/java/com/contoso/kafka/KafkaTriggerWithHeaders.java\" rel=\"nofollow noreferrer\">https://github.com/Azure/azure-functions-kafka-extension/blob/dev/samples/java/confluent/src/main/java/com/contoso/kafka/KafkaTriggerWithHeaders.java</a></p>\n"}],"owner":{"account_id":26735418,"reputation":3,"user_id":20377235,"display_name":"Luk&#225; Bartonk"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77557166,"answer_count":1,"score":0,"last_activity_date":1701090658,"creation_date":1700839989,"question_id":77544241,"body_markdown":"I&#39;am creating Azure Functions using KafkaTrigger to consume data from Kafka, where an Avro schema is registered. When i use dataType = &quot;binary&quot;, i can deserialize the message, but I&#39;m unable to get the message key, only value. When I use avroSchema = myAvro, I can get an object containing the key, but the data is in a malformed string format.\r\n\r\nI need deserialize complex object. Ideal with use schema registry.\r\n\r\n```\r\n@KafkaTrigger(\r\n    name = &quot;kafkaMeetingTrigger&quot;,\r\n    topic = &quot;topicName&quot;,\r\n    brokerList = &quot;%BrokerList%&quot;,\r\n    cardinality = Cardinality.ONE,\r\n    sslCertificateLocation = &quot;%KafkaCert%&quot;,\r\n    sslKeyLocation = &quot;%KafkaCert%&quot;,\r\n    sslCaLocation = &quot;%KafkaCert%&quot;,\r\n    protocol = BrokerProtocol.SSL,\r\n    dataType = &quot;binary&quot;,\r\n    schemaRegistryUrl = &quot;%SchemaRegistry%&quot;,\r\n    consumerGroup=&quot;%ConsumerGroup%&quot;) byte[] kafkaEventData,\r\n```\r\n\r\nThis return byte array with value from Kafka. Then I able to deserialize to my object, but key is lost.\r\n\r\n```\r\n@KafkaTrigger(\r\n    name = &quot;kafkaMeetingTrigger&quot;,\r\n    topic = &quot;topicName&quot;,\r\n    brokerList = &quot;%BrokerList%&quot;,\r\n    cardinality = Cardinality.ONE,\r\n    sslCertificateLocation = &quot;%KafkaCert%&quot;,\r\n    sslKeyLocation = &quot;%KafkaCert%&quot;,\r\n    sslCaLocation = &quot;%KafkaCert%&quot;,\r\n    protocol = BrokerProtocol.SSL,\r\n    avroSchema = avro,\r\n    consumerGroup=&quot;%ConsumerGroup%&quot;) Meeting kafkaEventData\r\n```\r\n\r\nThis return incomplete object.\r\n\r\n    {\r\n    &quot;correlationId&quot;: &quot;iaymjxnlpnocbe&quot;,\r\n    &quot;meeting&quot;:\r\n    {\r\n        &quot;assistanceType&quot;: null,\r\n        &quot;attendanceType&quot;: null,\r\n        &quot;clients&quot;: null,\r\n        &quot;communicationType&quot;: null\r\n    },\r\n    &quot;published&quot;: &quot;2023-11-24T11:31:05.105Z&quot;,\r\n    &quot;transactionId&quot;: &quot;ipdsrntgklkvliyt&quot;\r\n}\r\n\r\nExample of avro:\r\n\r\n```\r\n{\r\n  &quot;type&quot;: &quot;record&quot;,\r\n  &quot;name&quot;: &quot;Meeting_keyDataChanged&quot;,\r\n  &quot;namespace&quot;: &quot;cz.csas.avroschemas.meeting_keydatachanged.v03_02&quot;,\r\n  &quot;fields&quot;: [\r\n    {\r\n      &quot;name&quot;: &quot;correlationId&quot;,\r\n      &quot;type&quot;: &quot;string&quot;\r\n    },\r\n    {\r\n      &quot;name&quot;: &quot;meeting&quot;,\r\n      &quot;type&quot;: {\r\n        &quot;type&quot;: &quot;record&quot;,\r\n        &quot;name&quot;: &quot;Meeting&quot;,\r\n        &quot;fields&quot;: [\r\n          {\r\n            &quot;name&quot;: &quot;assistanceType&quot;,\r\n            &quot;type&quot;: [\r\n              &quot;null&quot;,\r\n              &quot;string&quot;\r\n            ],\r\n            &quot;default&quot;: null\r\n          },\r\n          {\r\n            &quot;name&quot;: &quot;attendanceType&quot;,\r\n            &quot;type&quot;: [\r\n              &quot;null&quot;,\r\n              &quot;string&quot;\r\n            ],\r\n            &quot;default&quot;: null\r\n          },\r\n          {\r\n            &quot;name&quot;: &quot;clients&quot;,\r\n            &quot;type&quot;: [\r\n              &quot;null&quot;,\r\n              {\r\n                &quot;type&quot;: &quot;array&quot;,\r\n                &quot;items&quot;: {\r\n                  &quot;type&quot;: &quot;record&quot;,\r\n                  &quot;name&quot;: &quot;Client&quot;,\r\n                  &quot;fields&quot;: [\r\n                    {\r\n                      &quot;name&quot;: &quot;clientType&quot;,\r\n                      &quot;type&quot;: &quot;string&quot;\r\n                    },\r\n                    {\r\n                      &quot;name&quot;: &quot;isPrimary&quot;,\r\n                      &quot;type&quot;: &quot;boolean&quot;\r\n                    }\r\n                  ]\r\n                }\r\n              }\r\n            ],\r\n            &quot;default&quot;: null\r\n          },\r\n       .........\r\n    {\r\n      &quot;name&quot;: &quot;published&quot;,\r\n      &quot;type&quot;: {\r\n        &quot;type&quot;: &quot;long&quot;,\r\n        &quot;logicalType&quot;: &quot;timestamp-millis&quot;\r\n      }\r\n    },\r\n    {\r\n      &quot;name&quot;: &quot;transactionId&quot;,\r\n      &quot;type&quot;: &quot;string&quot;\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\n```\r\n@KafkaTrigger(\r\n   name = &quot;kafkaMeetingTrigger&quot;,\r\n   topic = &quot;EVT.Meeting_keyDataChanged_v03_02&quot;,\r\n   brokerList = &quot;%BrokerList%&quot;,\r\n   cardinality = Cardinality.ONE,\r\n   sslCertificateLocation = &quot;%KafkaCert%&quot;,\r\n   sslKeyLocation = &quot;%KafkaCert%&quot;,\r\n   sslCaLocation = &quot;%KafkaCert%&quot;,\r\n   protocol = BrokerProtocol.SSL,\r\n   avroSchema = avro,\r\n   schemaRegistryUrl = &quot;%SchemaRegistry%&quot;,\r\n   consumerGroup=&quot;%ConsumerGroup%&quot;) ConsumerRecord&lt;Object, Meeting&gt; kafkaEventData\r\n```\r\n\r\nThis return exception: Cannot evaluate org.apache.kafka.clients.consumer.ConsumerRecord.toString()\r\n\r\n```\r\n@KafkaTrigger(\r\n    name = &quot;kafkaMeetingTrigger&quot;,\r\n    topic = &quot;EVT.Meeting_keyDataChanged_v03_02&quot;,\r\n    brokerList = &quot;%BrokerList%&quot;,\r\n    cardinality = Cardinality.ONE,\r\n    sslCertificateLocation = &quot;%KafkaCert%&quot;,\r\n    sslKeyLocation = &quot;%KafkaCert%&quot;,\r\n    sslCaLocation = &quot;%KafkaCert%&quot;,\r\n    protocol = BrokerProtocol.SSL,\r\n    dataType = &quot;string&quot;,\r\n    avroSchema = avro,\r\n    schemaRegistryUrl = &quot;%SchemaRegistry%&quot;,\r\n    consumerGroup=&quot;%ConsumerGroup%&quot;) String kafkaEventData\r\n```\r\n\r\nThis return String which contains data only for first level. Next level contains only schema.\r\n\r\n```\r\n{&quot;correlationId&quot;:&quot;iaymjxnlpnocbe&quot;,&quot;meeting&quot;:{&quot;Schema&quot;:{&quot;Fields&quot;:[{&quot;Name&quot;:&quot;assistanceType&quot;,&quot;aliases&quot;:null,&quot;Aliases&quot;:null,&quot;Pos&quot;:0,&quot;Documentation&quot;:&quot;Typ asistence na schuzce.&quot;,&quot;DefaultValue&quot;:null,&quot;Ordering&quot;:2,&quot;Schema&quot;:{&quot;Schemas&quot;:[{&quot;Name&quot;:&quot;null&quot;,&quot;Tag&quot;:0,&quot;Fullname&quot;:&quot;null&quot;},{&quot;Name&quot;:&quot;string&quot;,&quot;Tag&quot;:7,&quot;Fullname&quot;:&quot;string&quot;}],&quot;Count&quot;:2,&quot;Name&quot;:&quot;union&quot;,&quot;Tag&quot;:12,&quot;Fullname&quot;:&quot;union&quot;}},{&quot;Name&quot;:&quot;attendanceType&quot;,&quot;aliases&quot;:null,&quot;Aliases&quot;:null,&quot;Pos&quot;:1,&quot;Documentation&quot;:&quot;Typ doprovodu na schuzce.&quot;,&quot;DefaultValue&quot;:null,&quot;Ordering&quot;:2,&quot;Schema&quot;:{&quot;Schemas&quot;:[{&quot;Name&quot;:&quot;null&quot;,&quot;Tag&quot;:0,&quot;Fullname&quot;:&quot;null&quot;},{&quot;Name&quot;:&quot;string&quot;,&quot;Tag&quot;:7,&quot;Fullname&quot;:&quot;string&quot;}],&quot;Count&quot;:2,&quot;Name&quot;:&quot;union&quot;,&quot;Tag&quot;:12,&quot;Fullname&quot;:&quot;union&quot;}},{&quot;Name&quot;:&quot;clients&quot;,&quot;aliases&quot;:null,&quot;Aliases&quot;:null,&quot;Pos&quot;:2,&quot;Documentation&quot;:null,&quot;DefaultValue&quot;:null,&quot;Ordering&quot;:2,&quot;Schema&quot;:{&quot;Schemas&quot;:[{&quot;Name&quot;:&quot;null&quot;,&quot;Tag&quot;:0,......\r\n```\r\n\r\nWhen I don&#39;t use avro I give whole object with key and offset, but Object can&#39;t deserialize.\r\n\r\n```\r\n@KafkaTrigger(\r\n    name = &quot;kafkaMeetingTrigger&quot;,\r\n    topic = &quot;EVT.Meeting_keyDataChanged_v03_02&quot;,\r\n    brokerList = &quot;%BrokerList%&quot;,\r\n    cardinality = Cardinality.ONE,\r\n    sslCertificateLocation = &quot;%KafkaCert%&quot;,\r\n    sslKeyLocation = &quot;%KafkaCert%&quot;,\r\n    sslCaLocation = &quot;%KafkaCert%&quot;,\r\n    protocol = BrokerProtocol.SSL,\r\n    dataType = &quot;string&quot;,\r\n    schemaRegistryUrl = &quot;%SchemaRegistry%&quot;,\r\n    consumerGroup=&quot;%ConsumerGroup%&quot;) String kafkaEventData\r\n```\r\n\r\nExample of result\r\n```\r\n{\r\n    &quot;Offset&quot;: 323,\r\n    &quot;Partition&quot;: 0,\r\n    &quot;Topic&quot;: &quot;EVT.Meeting_keyDataChanged_v03_02&quot;,\r\n    &quot;Timestamp&quot;: &quot;2023-11-27T07:46:12.435Z&quot;,\r\n    &quot;Value&quot;: &quot;\\u0000\\u0000\\u0000\\bE\\u001ciaymjxnlpnocbe\\u0002\\u0016kbsdkmeyalo\\u00022urhywvxlrixyuqhhmrioqvpxv\\u0002\\u0002&lt;mcxbasjpxwfbjmogfdlmyucmtkiffpHnmysbemqgyeqnelyhjboneshwjufsulyfpfv\\u0001\\u0000\\u0002.tslhjfloiepkmuneymnqbjc\\u0002(fxjlobrtqoaymkfwurqm\\u0002\\brxsyc\\u0000\\u0002Bsqnsoblhpfkobciourcjtpwxrgqnvdtrq\\u0002\\u001ewwntnicjjvcsglu\\u0002&amp;sdpdptdflhjlkrhxlls\\u00020msrqlxpjbdkkgbwsuslaeeql\\u0002&lt;nvttxsgwwlmgvtbhflbmdvtfceasvm\\u0002Nakybxmgwxlapymnfymqytjwdqcwfipivsnmjpmi\\u0002\\u0002\\bselt\\bpmep\\u0002:gcpxjxwrqtceoysrirqvdnllmhcdv\\u0002\\u001accbfdnjyrbtxi\\u0004trcBxouriawfhfevlthfcfikpuaarjxfmmwkl\\u0002.gvoiukbrporvptduebdvucb\\u0002\\u0006xsp\\b\\u0002\\u0002(mfiudurtxmiejnynnjis\\u0002@qcohlkrkprlkuydljhpkilaxoxsvrrbg\\u0002\\u001anptiwyholnpfr\\u0001@usyyfhyjfoyoaulsvnyjnxcqicfscbkl\\u0002\\u0002Hsgduxxraimgjsduecbgyvypeupuhmvuqcwkc\\u0002\\u001ehxhupdrenujqcrx\\u00028khjhnbyjeihfkfrmkuuyepvxdhbv\\u00016vijyhthrgatcjxqbimfslksnrti\\u0002\\u0002Hrbudwdqichgdgwwgnscljauphjclxbrjpmoe\\u00024jxkknmcltpitgocsfdcrwjuvoc\\u0002\\bklpd\\u0001Jkuwvteymnagdcjvtjwlnvktwjfqbncgpxbhnh\\u0002\\u0002Jjgsfdxrsujpbkdbewkuudtsdajvmexniuwpxu\\u0002Fgerujewxkcnmexffsujlyibkbidnjxyiedr\\u0002\\u0000\\u0001.bdfyrklhntdbknmuxvrgwjc\\u0000c ipdsrntgklkvliyt&quot;,\r\n    &quot;Key&quot;: null,\r\n    &quot;Headers&quot;:\r\n    []\r\n}\r\n```\r\n\r\n","title":"Azure Functions - KafkaTrigger - Deserialize composite object with avro return null values on second level","body":"<p>I'am creating Azure Functions using KafkaTrigger to consume data from Kafka, where an Avro schema is registered. When i use dataType = &quot;binary&quot;, i can deserialize the message, but I'm unable to get the message key, only value. When I use avroSchema = myAvro, I can get an object containing the key, but the data is in a malformed string format.</p>\n<p>I need deserialize complex object. Ideal with use schema registry.</p>\n<pre><code>@KafkaTrigger(\n    name = &quot;kafkaMeetingTrigger&quot;,\n    topic = &quot;topicName&quot;,\n    brokerList = &quot;%BrokerList%&quot;,\n    cardinality = Cardinality.ONE,\n    sslCertificateLocation = &quot;%KafkaCert%&quot;,\n    sslKeyLocation = &quot;%KafkaCert%&quot;,\n    sslCaLocation = &quot;%KafkaCert%&quot;,\n    protocol = BrokerProtocol.SSL,\n    dataType = &quot;binary&quot;,\n    schemaRegistryUrl = &quot;%SchemaRegistry%&quot;,\n    consumerGroup=&quot;%ConsumerGroup%&quot;) byte[] kafkaEventData,\n</code></pre>\n<p>This return byte array with value from Kafka. Then I able to deserialize to my object, but key is lost.</p>\n<pre><code>@KafkaTrigger(\n    name = &quot;kafkaMeetingTrigger&quot;,\n    topic = &quot;topicName&quot;,\n    brokerList = &quot;%BrokerList%&quot;,\n    cardinality = Cardinality.ONE,\n    sslCertificateLocation = &quot;%KafkaCert%&quot;,\n    sslKeyLocation = &quot;%KafkaCert%&quot;,\n    sslCaLocation = &quot;%KafkaCert%&quot;,\n    protocol = BrokerProtocol.SSL,\n    avroSchema = avro,\n    consumerGroup=&quot;%ConsumerGroup%&quot;) Meeting kafkaEventData\n</code></pre>\n<p>This return incomplete object.</p>\n<pre><code>{\n&quot;correlationId&quot;: &quot;iaymjxnlpnocbe&quot;,\n&quot;meeting&quot;:\n{\n    &quot;assistanceType&quot;: null,\n    &quot;attendanceType&quot;: null,\n    &quot;clients&quot;: null,\n    &quot;communicationType&quot;: null\n},\n&quot;published&quot;: &quot;2023-11-24T11:31:05.105Z&quot;,\n&quot;transactionId&quot;: &quot;ipdsrntgklkvliyt&quot;\n</code></pre>\n<p>}</p>\n<p>Example of avro:</p>\n<pre><code>{\n  &quot;type&quot;: &quot;record&quot;,\n  &quot;name&quot;: &quot;Meeting_keyDataChanged&quot;,\n  &quot;namespace&quot;: &quot;cz.csas.avroschemas.meeting_keydatachanged.v03_02&quot;,\n  &quot;fields&quot;: [\n    {\n      &quot;name&quot;: &quot;correlationId&quot;,\n      &quot;type&quot;: &quot;string&quot;\n    },\n    {\n      &quot;name&quot;: &quot;meeting&quot;,\n      &quot;type&quot;: {\n        &quot;type&quot;: &quot;record&quot;,\n        &quot;name&quot;: &quot;Meeting&quot;,\n        &quot;fields&quot;: [\n          {\n            &quot;name&quot;: &quot;assistanceType&quot;,\n            &quot;type&quot;: [\n              &quot;null&quot;,\n              &quot;string&quot;\n            ],\n            &quot;default&quot;: null\n          },\n          {\n            &quot;name&quot;: &quot;attendanceType&quot;,\n            &quot;type&quot;: [\n              &quot;null&quot;,\n              &quot;string&quot;\n            ],\n            &quot;default&quot;: null\n          },\n          {\n            &quot;name&quot;: &quot;clients&quot;,\n            &quot;type&quot;: [\n              &quot;null&quot;,\n              {\n                &quot;type&quot;: &quot;array&quot;,\n                &quot;items&quot;: {\n                  &quot;type&quot;: &quot;record&quot;,\n                  &quot;name&quot;: &quot;Client&quot;,\n                  &quot;fields&quot;: [\n                    {\n                      &quot;name&quot;: &quot;clientType&quot;,\n                      &quot;type&quot;: &quot;string&quot;\n                    },\n                    {\n                      &quot;name&quot;: &quot;isPrimary&quot;,\n                      &quot;type&quot;: &quot;boolean&quot;\n                    }\n                  ]\n                }\n              }\n            ],\n            &quot;default&quot;: null\n          },\n       .........\n    {\n      &quot;name&quot;: &quot;published&quot;,\n      &quot;type&quot;: {\n        &quot;type&quot;: &quot;long&quot;,\n        &quot;logicalType&quot;: &quot;timestamp-millis&quot;\n      }\n    },\n    {\n      &quot;name&quot;: &quot;transactionId&quot;,\n      &quot;type&quot;: &quot;string&quot;\n    }\n  ]\n}\n</code></pre>\n<pre><code>@KafkaTrigger(\n   name = &quot;kafkaMeetingTrigger&quot;,\n   topic = &quot;EVT.Meeting_keyDataChanged_v03_02&quot;,\n   brokerList = &quot;%BrokerList%&quot;,\n   cardinality = Cardinality.ONE,\n   sslCertificateLocation = &quot;%KafkaCert%&quot;,\n   sslKeyLocation = &quot;%KafkaCert%&quot;,\n   sslCaLocation = &quot;%KafkaCert%&quot;,\n   protocol = BrokerProtocol.SSL,\n   avroSchema = avro,\n   schemaRegistryUrl = &quot;%SchemaRegistry%&quot;,\n   consumerGroup=&quot;%ConsumerGroup%&quot;) ConsumerRecord&lt;Object, Meeting&gt; kafkaEventData\n</code></pre>\n<p>This return exception: Cannot evaluate org.apache.kafka.clients.consumer.ConsumerRecord.toString()</p>\n<pre><code>@KafkaTrigger(\n    name = &quot;kafkaMeetingTrigger&quot;,\n    topic = &quot;EVT.Meeting_keyDataChanged_v03_02&quot;,\n    brokerList = &quot;%BrokerList%&quot;,\n    cardinality = Cardinality.ONE,\n    sslCertificateLocation = &quot;%KafkaCert%&quot;,\n    sslKeyLocation = &quot;%KafkaCert%&quot;,\n    sslCaLocation = &quot;%KafkaCert%&quot;,\n    protocol = BrokerProtocol.SSL,\n    dataType = &quot;string&quot;,\n    avroSchema = avro,\n    schemaRegistryUrl = &quot;%SchemaRegistry%&quot;,\n    consumerGroup=&quot;%ConsumerGroup%&quot;) String kafkaEventData\n</code></pre>\n<p>This return String which contains data only for first level. Next level contains only schema.</p>\n<pre><code>{&quot;correlationId&quot;:&quot;iaymjxnlpnocbe&quot;,&quot;meeting&quot;:{&quot;Schema&quot;:{&quot;Fields&quot;:[{&quot;Name&quot;:&quot;assistanceType&quot;,&quot;aliases&quot;:null,&quot;Aliases&quot;:null,&quot;Pos&quot;:0,&quot;Documentation&quot;:&quot;Typ asistence na schuzce.&quot;,&quot;DefaultValue&quot;:null,&quot;Ordering&quot;:2,&quot;Schema&quot;:{&quot;Schemas&quot;:[{&quot;Name&quot;:&quot;null&quot;,&quot;Tag&quot;:0,&quot;Fullname&quot;:&quot;null&quot;},{&quot;Name&quot;:&quot;string&quot;,&quot;Tag&quot;:7,&quot;Fullname&quot;:&quot;string&quot;}],&quot;Count&quot;:2,&quot;Name&quot;:&quot;union&quot;,&quot;Tag&quot;:12,&quot;Fullname&quot;:&quot;union&quot;}},{&quot;Name&quot;:&quot;attendanceType&quot;,&quot;aliases&quot;:null,&quot;Aliases&quot;:null,&quot;Pos&quot;:1,&quot;Documentation&quot;:&quot;Typ doprovodu na schuzce.&quot;,&quot;DefaultValue&quot;:null,&quot;Ordering&quot;:2,&quot;Schema&quot;:{&quot;Schemas&quot;:[{&quot;Name&quot;:&quot;null&quot;,&quot;Tag&quot;:0,&quot;Fullname&quot;:&quot;null&quot;},{&quot;Name&quot;:&quot;string&quot;,&quot;Tag&quot;:7,&quot;Fullname&quot;:&quot;string&quot;}],&quot;Count&quot;:2,&quot;Name&quot;:&quot;union&quot;,&quot;Tag&quot;:12,&quot;Fullname&quot;:&quot;union&quot;}},{&quot;Name&quot;:&quot;clients&quot;,&quot;aliases&quot;:null,&quot;Aliases&quot;:null,&quot;Pos&quot;:2,&quot;Documentation&quot;:null,&quot;DefaultValue&quot;:null,&quot;Ordering&quot;:2,&quot;Schema&quot;:{&quot;Schemas&quot;:[{&quot;Name&quot;:&quot;null&quot;,&quot;Tag&quot;:0,......\n</code></pre>\n<p>When I don't use avro I give whole object with key and offset, but Object can't deserialize.</p>\n<pre><code>@KafkaTrigger(\n    name = &quot;kafkaMeetingTrigger&quot;,\n    topic = &quot;EVT.Meeting_keyDataChanged_v03_02&quot;,\n    brokerList = &quot;%BrokerList%&quot;,\n    cardinality = Cardinality.ONE,\n    sslCertificateLocation = &quot;%KafkaCert%&quot;,\n    sslKeyLocation = &quot;%KafkaCert%&quot;,\n    sslCaLocation = &quot;%KafkaCert%&quot;,\n    protocol = BrokerProtocol.SSL,\n    dataType = &quot;string&quot;,\n    schemaRegistryUrl = &quot;%SchemaRegistry%&quot;,\n    consumerGroup=&quot;%ConsumerGroup%&quot;) String kafkaEventData\n</code></pre>\n<p>Example of result</p>\n<pre><code>{\n    &quot;Offset&quot;: 323,\n    &quot;Partition&quot;: 0,\n    &quot;Topic&quot;: &quot;EVT.Meeting_keyDataChanged_v03_02&quot;,\n    &quot;Timestamp&quot;: &quot;2023-11-27T07:46:12.435Z&quot;,\n    &quot;Value&quot;: &quot;\\u0000\\u0000\\u0000\\bE\\u001ciaymjxnlpnocbe\\u0002\\u0016kbsdkmeyalo\\u00022urhywvxlrixyuqhhmrioqvpxv\\u0002\\u0002&lt;mcxbasjpxwfbjmogfdlmyucmtkiffpHnmysbemqgyeqnelyhjboneshwjufsulyfpfv\\u0001\\u0000\\u0002.tslhjfloiepkmuneymnqbjc\\u0002(fxjlobrtqoaymkfwurqm\\u0002\\brxsyc\\u0000\\u0002Bsqnsoblhpfkobciourcjtpwxrgqnvdtrq\\u0002\\u001ewwntnicjjvcsglu\\u0002&amp;sdpdptdflhjlkrhxlls\\u00020msrqlxpjbdkkgbwsuslaeeql\\u0002&lt;nvttxsgwwlmgvtbhflbmdvtfceasvm\\u0002Nakybxmgwxlapymnfymqytjwdqcwfipivsnmjpmi\\u0002\\u0002\\bselt\\bpmep\\u0002:gcpxjxwrqtceoysrirqvdnllmhcdv\\u0002\\u001accbfdnjyrbtxi\\u0004trcBxouriawfhfevlthfcfikpuaarjxfmmwkl\\u0002.gvoiukbrporvptduebdvucb\\u0002\\u0006xsp\\b\\u0002\\u0002(mfiudurtxmiejnynnjis\\u0002@qcohlkrkprlkuydljhpkilaxoxsvrrbg\\u0002\\u001anptiwyholnpfr\\u0001@usyyfhyjfoyoaulsvnyjnxcqicfscbkl\\u0002\\u0002Hsgduxxraimgjsduecbgyvypeupuhmvuqcwkc\\u0002\\u001ehxhupdrenujqcrx\\u00028khjhnbyjeihfkfrmkuuyepvxdhbv\\u00016vijyhthrgatcjxqbimfslksnrti\\u0002\\u0002Hrbudwdqichgdgwwgnscljauphjclxbrjpmoe\\u00024jxkknmcltpitgocsfdcrwjuvoc\\u0002\\bklpd\\u0001Jkuwvteymnagdcjvtjwlnvktwjfqbncgpxbhnh\\u0002\\u0002Jjgsfdxrsujpbkdbewkuudtsdajvmexniuwpxu\\u0002Fgerujewxkcnmexffsujlyibkbidnjxyiedr\\u0002\\u0000\\u0001.bdfyrklhntdbknmuxvrgwjc\\u0000c ipdsrntgklkvliyt&quot;,\n    &quot;Key&quot;: null,\n    &quot;Headers&quot;:\n    []\n}\n</code></pre>\n"},{"tags":["java","eclipse","tomcat","servlets"],"comments":[{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1700937080,"post_id":77549052,"comment_id":136714136,"body_markdown":"What do you mean with it &quot;generating&quot; the URL?","body":"What do you mean with it &quot;generating&quot; the URL?"},{"owner":{"account_id":26891959,"reputation":1,"user_id":20470572,"display_name":"user20470572"},"score":0,"creation_date":1700937625,"post_id":77549052,"comment_id":136714205,"body_markdown":"@dan1st on eclipse when we press run on server.. it automatically opens the web browzer with the correct url that is used to run the particular servlet we r trying to execute","body":"@dan1st on eclipse when we press run on server.. it automatically opens the web browzer with the correct url that is used to run the particular servlet we r trying to execute"},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1700977746,"post_id":77549052,"comment_id":136716835,"body_markdown":"What version of Eclipse is it?","body":"What version of Eclipse is it?"},{"owner":{"account_id":26891959,"reputation":1,"user_id":20470572,"display_name":"user20470572"},"score":0,"creation_date":1700996874,"post_id":77549052,"comment_id":136718138,"body_markdown":"@nitind Version: 2023-09 (4.29.0)","body":"@nitind Version: 2023-09 (4.29.0)"},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1701108316,"post_id":77549052,"comment_id":136731682,"body_markdown":"Is there a reason you&#39;re not extending `HttpServlet`?","body":"Is there a reason you&#39;re not extending <code>HttpServlet</code>?"},{"owner":{"account_id":26891959,"reputation":1,"user_id":20470572,"display_name":"user20470572"},"score":0,"creation_date":1701280934,"post_id":77549052,"comment_id":136757389,"body_markdown":"@nitind Just trying to learn all the ways to create a servlet","body":"@nitind Just trying to learn all the ways to create a servlet"}],"answers":[{"comments":[{"owner":{"account_id":26891959,"reputation":1,"user_id":20470572,"display_name":"user20470572"},"score":0,"creation_date":1701281147,"post_id":77557104,"comment_id":136757422,"body_markdown":"My project just has the code I have provided above.. in a project folder named firstwebsite and the code is saved in a file named impSer.java in the src/main/java folder of the java project","body":"My project just has the code I have provided above.. in a project folder named firstwebsite and the code is saved in a file named impSer.java in the src/main/java folder of the java project"},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1701284944,"post_id":77557104,"comment_id":136757996,"body_markdown":"Right, but the surrounding metadata files are also of interest.","body":"Right, but the surrounding metadata files are also of interest."}],"tags":[],"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701090505,"creation_date":1701090175,"answer_id":77557104,"question_id":77549052,"body_markdown":"Odd. Sounds similar to [bug 577703][1], but I fixed that one. Can you open an issue at https://github.com/eclipse-servertools/servertools/issues and attach this project, or another minimal project that reproduces the problem? \r\n\r\n\r\n  [1]: https://bugs.eclipse.org/577703","title":"In eclipse when I try to create a Servlet by implementing the Servlet interface then the annotation method does not create the correct link on running","body":"<p>Odd. Sounds similar to <a href=\"https://bugs.eclipse.org/577703\" rel=\"nofollow noreferrer\">bug 577703</a>, but I fixed that one. Can you open an issue at <a href=\"https://github.com/eclipse-servertools/servertools/issues\" rel=\"nofollow noreferrer\">https://github.com/eclipse-servertools/servertools/issues</a> and attach this project, or another minimal project that reproduces the problem?</p>\n"}],"owner":{"account_id":26891959,"reputation":1,"user_id":20470572,"display_name":"user20470572"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701090505,"creation_date":1700936041,"question_id":77549052,"body_markdown":"```My code is as follows:\r\n\r\nimport java.io.IOException;\r\n\r\nimport javax.servlet.Servlet;\r\nimport javax.servlet.ServletConfig;\r\nimport javax.servlet.ServletException;\r\nimport javax.servlet.ServletRequest;\r\nimport javax.servlet.ServletResponse;\r\nimport javax.servlet.annotation.WebServlet;\r\n\r\n@WebServlet(&quot;/impSer&quot;)\r\npublic class impSer implements Servlet {\r\n\t private transient ServletConfig config;\r\n\r\n\t    @Override\r\n\t    public void init(ServletConfig config) throws ServletException {\r\n\t        this.config = config;\r\n\t    }\r\n\r\n\t    @Override\r\n\t    public void service(ServletRequest req, ServletResponse res) throws ServletException, IOException {\r\n\t        System.out.println(&quot;Hello world&quot;);\r\n\t    }\r\n\r\n\t    @Override\r\n\t    public void destroy() {\r\n\t        System.out.println(&quot;h&quot;);\r\n\t    }\r\n\r\n\t    @Override\r\n\t    public ServletConfig getServletConfig() {\r\n\t        return this.config;\r\n\t    }\r\n\r\n\t    @Override\r\n\t    public String getServletInfo() {\r\n\t        return &quot;TheServletInter&quot;;\r\n\t    }\r\n}\r\n```\r\n\r\nI have saved my code in the src/main/java folder in the default package in my eclipse project named firstwebsite..\r\nWhen i run my code on the Tomcat server it generates this url \r\nhttp://localhost:8080/firstwebsite/WEB-INF/classes/impSer.java\r\nand gives Http Status 404-Not found error..\r\n\r\nI have used the annotation method so shouldnt it generate the correct url on running on server i.e. http://localhost:8080/firstwebsite/impSer \r\n\r\nWhen i type this manually it gives correct output.. but eclipse on running does not run the above url..\r\n\r\nI have Tomcat 9.. \r\n\r\nThe annotation method is working perfectly for Servlets created by extending GenericServlet and extending HttpServlet.. only the implementing Servlet interface is giving issues..\r\n\r\nI am new to Servlet programming so the helpp will be really appreciated.. Thank you","title":"In eclipse when I try to create a Servlet by implementing the Servlet interface then the annotation method does not create the correct link on running","body":"<pre><code>\nimport java.io.IOException;\n\nimport javax.servlet.Servlet;\nimport javax.servlet.ServletConfig;\nimport javax.servlet.ServletException;\nimport javax.servlet.ServletRequest;\nimport javax.servlet.ServletResponse;\nimport javax.servlet.annotation.WebServlet;\n\n@WebServlet(&quot;/impSer&quot;)\npublic class impSer implements Servlet {\n     private transient ServletConfig config;\n\n        @Override\n        public void init(ServletConfig config) throws ServletException {\n            this.config = config;\n        }\n\n        @Override\n        public void service(ServletRequest req, ServletResponse res) throws ServletException, IOException {\n            System.out.println(&quot;Hello world&quot;);\n        }\n\n        @Override\n        public void destroy() {\n            System.out.println(&quot;h&quot;);\n        }\n\n        @Override\n        public ServletConfig getServletConfig() {\n            return this.config;\n        }\n\n        @Override\n        public String getServletInfo() {\n            return &quot;TheServletInter&quot;;\n        }\n}\n</code></pre>\n<p>I have saved my code in the src/main/java folder in the default package in my eclipse project named firstwebsite..\nWhen i run my code on the Tomcat server it generates this url\nhttp://localhost:8080/firstwebsite/WEB-INF/classes/impSer.java\nand gives Http Status 404-Not found error..</p>\n<p>I have used the annotation method so shouldnt it generate the correct url on running on server i.e. http://localhost:8080/firstwebsite/impSer</p>\n<p>When i type this manually it gives correct output.. but eclipse on running does not run the above url..</p>\n<p>I have Tomcat 9..</p>\n<p>The annotation method is working perfectly for Servlets created by extending GenericServlet and extending HttpServlet.. only the implementing Servlet interface is giving issues..</p>\n<p>I am new to Servlet programming so the helpp will be really appreciated.. Thank you</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3253096,"reputation":4401,"user_id":2987755,"accept_rate":50,"display_name":"dkb"},"score":2,"creation_date":1609649826,"post_id":65546614,"comment_id":115886256,"body_markdown":"This will help: https://openjdk.java.net/jeps/363, https://stackoverflow.com/q/52239570/2987755, above JVM flag will work with java version&lt;14 but not with greater than that.","body":"This will help: <a href=\"https://openjdk.java.net/jeps/363\" rel=\"nofollow noreferrer\">openjdk.java.net/jeps/363</a>, <a href=\"https://stackoverflow.com/q/52239570/2987755\">stackoverflow.com/q/52239570/2987755</a>, above JVM flag will work with java version&lt;14 but not with greater than that."}],"answers":[{"tags":[],"owner":{"account_id":394396,"reputation":52144,"user_id":756809,"accept_rate":89,"display_name":"Shai Almog"},"comment_count":0,"down_vote_count":1,"up_vote_count":6,"is_accepted":true,"score":5,"last_activity_date":1609735024,"creation_date":1609735024,"answer_id":65557730,"question_id":65546614,"body_markdown":"This is a problem with the netbeans build script but this isn&#39;t really relevant as Codename One only supports Java 8 and Java 11 (at this time) so you should use one of those versions at the moment.","title":"How to fix &quot;Unrecognized VM option &#39;UseConcMarkSweepGC&#39;&quot; error?","body":"<p>This is a problem with the netbeans build script but this isn't really relevant as Codename One only supports Java 8 and Java 11 (at this time) so you should use one of those versions at the moment.</p>\n"},{"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1701090532,"post_id":65989442,"comment_id":136727988,"body_markdown":"If you can add this option, then you can also just remove the option that causes the error.","body":"If you can add this option, then you can also just remove the option that causes the error."}],"tags":[],"owner":{"account_id":20599854,"reputation":175,"user_id":15121353,"display_name":"Mikhail U"},"comment_count":1,"down_vote_count":3,"up_vote_count":18,"is_accepted":false,"score":15,"last_activity_date":1665146350,"creation_date":1612168588,"answer_id":65989442,"question_id":65546614,"body_markdown":"Ignore unsupported VM options with another option:\r\n\r\n    -XX:+IgnoreUnrecognizedVMOptions","title":"How to fix &quot;Unrecognized VM option &#39;UseConcMarkSweepGC&#39;&quot; error?","body":"<p>Ignore unsupported VM options with another option:</p>\n<pre><code>-XX:+IgnoreUnrecognizedVMOptions\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1650460774,"post_id":71940037,"comment_id":127121382,"body_markdown":"As its currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As its currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/71940037/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":15962832,"reputation":21,"user_id":11519381,"display_name":"Vinayak Gupta"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1650459254,"creation_date":1650459254,"answer_id":71940037,"question_id":65546614,"body_markdown":"run `export JAVA_HOME=$(/usr/libexec/java_home -v 1.8)`","title":"How to fix &quot;Unrecognized VM option &#39;UseConcMarkSweepGC&#39;&quot; error?","body":"<p>run <code>export JAVA_HOME=$(/usr/libexec/java_home -v 1.8)</code></p>\n"},{"tags":[],"owner":{"account_id":2580770,"reputation":574,"user_id":2237510,"display_name":"Jonathan Haar"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1660239016,"creation_date":1660239016,"answer_id":73324742,"question_id":65546614,"body_markdown":"Homebrew users:\r\n\r\nComment out these lines \r\n```\r\n# /usr/local/etc/elasticsearch/jvm.options\r\n\r\n## GC configuration\r\n#-XX:+UseConcMarkSweepGC\r\n#-XX:CMSInitiatingOccupancyFraction=75\r\n#-XX:+UseCMSInitiatingOccupancyOnly\r\n```\r\nThen if you get \r\n```\r\nInvalid -Xlog option &#39;-Xlog:gc*,gc+age=trace,safepoint:file=logs/gc.log:utctime,pid,tags:filecount=32,filesize=64m&#39;\r\n```\r\nUpdate the logging file path\r\n\r\n```\r\n# JDK 9+ GC logging\r\n9-:-Xlog:gc*,gc+age=trace,safepoint:file=logs/gc.log:utctime,pid,tags:filecount=32,filesize=64m\r\n```\r\nto\r\n```\r\n# JDK 9+ GC logging\r\n9-:-Xlog:gc*,gc+age=trace,safepoint:file=/usr/local/var/log/elasticsearch/gc.log:utctime,pid,tags:filecount=32,filesize=64m\r\n```\r\n\r\nSources\r\n\r\nhttps://stackoverflow.com/questions/64190908/brew-installed-elasticsearch-7-9-2-failing-on-macos\r\n\r\nhttps://stackoverflow.com/a/57993824/2237510","title":"How to fix &quot;Unrecognized VM option &#39;UseConcMarkSweepGC&#39;&quot; error?","body":"<p>Homebrew users:</p>\n<p>Comment out these lines</p>\n<pre><code># /usr/local/etc/elasticsearch/jvm.options\n\n## GC configuration\n#-XX:+UseConcMarkSweepGC\n#-XX:CMSInitiatingOccupancyFraction=75\n#-XX:+UseCMSInitiatingOccupancyOnly\n</code></pre>\n<p>Then if you get</p>\n<pre><code>Invalid -Xlog option '-Xlog:gc*,gc+age=trace,safepoint:file=logs/gc.log:utctime,pid,tags:filecount=32,filesize=64m'\n</code></pre>\n<p>Update the logging file path</p>\n<pre><code># JDK 9+ GC logging\n9-:-Xlog:gc*,gc+age=trace,safepoint:file=logs/gc.log:utctime,pid,tags:filecount=32,filesize=64m\n</code></pre>\n<p>to</p>\n<pre><code># JDK 9+ GC logging\n9-:-Xlog:gc*,gc+age=trace,safepoint:file=/usr/local/var/log/elasticsearch/gc.log:utctime,pid,tags:filecount=32,filesize=64m\n</code></pre>\n<p>Sources</p>\n<p><a href=\"https://stackoverflow.com/questions/64190908/brew-installed-elasticsearch-7-9-2-failing-on-macos\">Brew installed Elasticsearch 7.9.2 failing on macOS</a></p>\n<p><a href=\"https://stackoverflow.com/a/57993824/2237510\">https://stackoverflow.com/a/57993824/2237510</a></p>\n"},{"tags":[],"owner":{"account_id":6851712,"reputation":731,"user_id":5268711,"display_name":"bahri noredine"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701090449,"creation_date":1701090449,"answer_id":77557135,"question_id":65546614,"body_markdown":"i had the same i change the version from 21 to 11 (you can check with your version first), \r\nbe sure that the version is updated from cmd with this command\r\n\r\n    PATH=%JAVA_HOME%/bin;%PATH%\r\nafter that i go to wrapper.config and i chnage \r\n\r\n    #wrapper.java.command=/path/to/my/jdk/bin/java\r\n\r\nwith my path to java\r\n\r\n    wrapper.java.command=C:\\Program Files\\Java\\jdk-11\\bin\\java\r\ni execute StartSonar.bat and now is OK\r\n","title":"How to fix &quot;Unrecognized VM option &#39;UseConcMarkSweepGC&#39;&quot; error?","body":"<p>i had the same i change the version from 21 to 11 (you can check with your version first),\nbe sure that the version is updated from cmd with this command</p>\n<pre><code>PATH=%JAVA_HOME%/bin;%PATH%\n</code></pre>\n<p>after that i go to wrapper.config and i chnage</p>\n<pre><code>#wrapper.java.command=/path/to/my/jdk/bin/java\n</code></pre>\n<p>with my path to java</p>\n<pre><code>wrapper.java.command=C:\\Program Files\\Java\\jdk-11\\bin\\java\n</code></pre>\n<p>i execute StartSonar.bat and now is OK</p>\n"}],"owner":{"account_id":8972614,"reputation":313,"user_id":6690583,"display_name":"Patrick"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58515,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":65557730,"answer_count":5,"score":18,"last_activity_date":1701090449,"creation_date":1609647755,"question_id":65546614,"body_markdown":"I have followed the instructions for getting started with codenameone in IntelliJ, yet when I set up my first project, based on the sample app I get this error:\r\n\r\n```\r\n&quot;C:\\Program Files\\Java\\jdk-15.0.1\\bin\\java.exe&quot; -Xms128m -Xmx1014m -XX:ReservedCodeCacheSize=512m -XX:+UseConcMarkSweepGC -XX:SoftRefLRUPolicyMSPerMB=50 -XX:CICompilerCount=2 -XX:+HeapDumpOnOutOfMemoryError -XX:-OmitStackTraceInFastThrow -ea -Dsun.io.useCanonCaches=false -Djdk.http.auth.tunneling.disabledSchemes=\\&quot;\\&quot; -Djdk.attach.allowAttachSelf=true -Djdk.module.illegalAccess.silent=true -Dkotlinx.coroutines.debug=off &quot;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2020.3.1\\lib\\idea_rt.jar=61544:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2020.3.1\\bin&quot; -Dfile.encoding=UTF-8 -classpath &quot;C:\\Users\\reinp\\OneDrive - beuthhs\\beuth\\Patterns und Frameworks\\justtrivia\\out\\production\\justtrivia;C:\\Users\\reinp\\OneDrive - beuthhs\\beuth\\Patterns und Frameworks\\justtrivia\\src;C:\\Users\\reinp\\OneDrive - beuthhs\\beuth\\Patterns und Frameworks\\justtrivia\\lib\\CodenameOne.jar;C:\\Users\\reinp\\OneDrive - beuthhs\\beuth\\Patterns und Frameworks\\justtrivia\\JavaSE.jar;native\\internal_tmp;lib\\impl\\cls&quot; com.codename1.impl.javase.Simulator com.patrickreinbold.justtrivia.JustTrivia\r\nUnrecognized VM option &#39;UseConcMarkSweepGC&#39;\r\nError: Could not create the Java Virtual Machine.\r\nError: A fatal exception has occurred. Program will exit.\r\n\r\nProcess finished with exit code 1\r\n```\r\n\r\nI saw that this has to do with Java 8 but in the IntelliJ instructions it says nothing about using Java 8. Is Java 8 always necessary or can codenameone run with Java 15, too?\r\n\r\nEDIT:\r\nI have now got it to open by simply copying the first line with the java command and removing the UseConcMarkSweepGC flag, then running it in terminal. But I am still not sure if that is &quot;the correct way&quot; to do it or if something could break along the way now.\r\n\r\n","title":"How to fix &quot;Unrecognized VM option &#39;UseConcMarkSweepGC&#39;&quot; error?","body":"<p>I have followed the instructions for getting started with codenameone in IntelliJ, yet when I set up my first project, based on the sample app I get this error:</p>\n<pre><code>&quot;C:\\Program Files\\Java\\jdk-15.0.1\\bin\\java.exe&quot; -Xms128m -Xmx1014m -XX:ReservedCodeCacheSize=512m -XX:+UseConcMarkSweepGC -XX:SoftRefLRUPolicyMSPerMB=50 -XX:CICompilerCount=2 -XX:+HeapDumpOnOutOfMemoryError -XX:-OmitStackTraceInFastThrow -ea -Dsun.io.useCanonCaches=false -Djdk.http.auth.tunneling.disabledSchemes=\\&quot;\\&quot; -Djdk.attach.allowAttachSelf=true -Djdk.module.illegalAccess.silent=true -Dkotlinx.coroutines.debug=off &quot;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2020.3.1\\lib\\idea_rt.jar=61544:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2020.3.1\\bin&quot; -Dfile.encoding=UTF-8 -classpath &quot;C:\\Users\\reinp\\OneDrive - beuthhs\\beuth\\Patterns und Frameworks\\justtrivia\\out\\production\\justtrivia;C:\\Users\\reinp\\OneDrive - beuthhs\\beuth\\Patterns und Frameworks\\justtrivia\\src;C:\\Users\\reinp\\OneDrive - beuthhs\\beuth\\Patterns und Frameworks\\justtrivia\\lib\\CodenameOne.jar;C:\\Users\\reinp\\OneDrive - beuthhs\\beuth\\Patterns und Frameworks\\justtrivia\\JavaSE.jar;native\\internal_tmp;lib\\impl\\cls&quot; com.codename1.impl.javase.Simulator com.patrickreinbold.justtrivia.JustTrivia\nUnrecognized VM option 'UseConcMarkSweepGC'\nError: Could not create the Java Virtual Machine.\nError: A fatal exception has occurred. Program will exit.\n\nProcess finished with exit code 1\n</code></pre>\n<p>I saw that this has to do with Java 8 but in the IntelliJ instructions it says nothing about using Java 8. Is Java 8 always necessary or can codenameone run with Java 15, too?</p>\n<p>EDIT:\nI have now got it to open by simply copying the first line with the java command and removing the UseConcMarkSweepGC flag, then running it in terminal. But I am still not sure if that is &quot;the correct way&quot; to do it or if something could break along the way now.</p>\n"},{"tags":["java","apache-poi"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1701078246,"post_id":77555737,"comment_id":136725938,"body_markdown":"See https://stackoverflow.com/questions/6686753/nosuchfielderror-java. Make sure you don&#39;t have older versions than `2.0.4` of `&lt;artifactId&gt;fr.opensagres.poi.xwpf.converter.core&lt;/artifactId&gt;` or of \n `&lt;artifactId&gt;xdocreport&lt;/artifactId&gt;` in your classpath. And recheck you compile-time classpath vs. run-time classpath.","body":"See <a href=\"https://stackoverflow.com/questions/6686753/nosuchfielderror-java\" title=\"nosuchfielderror java\">stackoverflow.com/questions/6686753/nosuchfielderror-java</a>. Make sure you don&#39;t have older versions than <code>2.0.4</code> of <code>&lt;artifactId&gt;fr.opensagres.poi.xwpf.converter.core&lt;&#47;artifactI&zwnj;&#8203;d&gt;</code> or of   <code>&lt;artifactId&gt;xdocreport&lt;&#47;artifactId&gt;</code> in your classpath. And recheck you compile-time classpath vs. run-time classpath."},{"owner":{"account_id":13645494,"reputation":49,"user_id":9844579,"display_name":"Lakshyya Kothari"},"score":0,"creation_date":1701080164,"post_id":77555737,"comment_id":136726266,"body_markdown":"@AxelRichter, I only have a single version of the artifact and tried doing a maven clean install. It did not resolve the issue.","body":"@AxelRichter, I only have a single version of the artifact and tried doing a maven clean install. It did not resolve the issue."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1701090392,"post_id":77555737,"comment_id":136727965,"body_markdown":"Remove your dependency on Apache POI, so it is pulled in through opensagres, or make sure to use Apache POI 5.2.0, the version that opensagres xdocreport 2.0.4 is compiled against.","body":"Remove your dependency on Apache POI, so it is pulled in through opensagres, or make sure to use Apache POI 5.2.0, the version that opensagres xdocreport 2.0.4 is compiled against."}],"owner":{"account_id":13645494,"reputation":49,"user_id":9844579,"display_name":"Lakshyya Kothari"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1701079706,"answer_count":0,"score":-1,"last_activity_date":1701090277,"creation_date":1701076803,"question_id":77555737,"body_markdown":"I am trying to convert a word document to PDF using Apache POI and `fr.opensagres.poi.xwpf.converter.pdf` in Java, but I&#39;m getting the below error\r\n\r\n```none\r\nException in thread &quot;main&quot; java.lang.NoSuchFieldError: Factory\r\n\tat fr.opensagres.poi.xwpf.converter.core.styles.XWPFStylesDocument$ThemeDocumentVisitor.visitDocumentPart(XWPFStylesDocument.java:1564)\r\n\tat fr.opensagres.poi.xwpf.converter.core.styles.XWPFStylesDocument$DocumentVisitor.visitDocument(XWPFStylesDocument.java:1496)\r\n```\r\n\r\nIn the POM the following dependencies are present\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n\t&lt;version&gt;5.0.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n\t&lt;version&gt;5.0.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;fr.opensagres.xdocreport&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;fr.opensagres.poi.xwpf.converter.pdf&lt;/artifactId&gt;\r\n\t&lt;version&gt;2.0.4&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nThe line of code throwing the error is\r\n`PdfConverter.getInstance().convert(doc, outputStream, options);`\r\n\r\n","title":"java.lang.NoSuchFieldError: Factory when trying to convert word to pdf using Apache POI and opensagres","body":"<p>I am trying to convert a word document to PDF using Apache POI and <code>fr.opensagres.poi.xwpf.converter.pdf</code> in Java, but I'm getting the below error</p>\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread &quot;main&quot; java.lang.NoSuchFieldError: Factory\n    at fr.opensagres.poi.xwpf.converter.core.styles.XWPFStylesDocument$ThemeDocumentVisitor.visitDocumentPart(XWPFStylesDocument.java:1564)\n    at fr.opensagres.poi.xwpf.converter.core.styles.XWPFStylesDocument$DocumentVisitor.visitDocument(XWPFStylesDocument.java:1496)\n</code></pre>\n<p>In the POM the following dependencies are present</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n    &lt;artifactId&gt;poi&lt;/artifactId&gt;\n    &lt;version&gt;5.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n    &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n    &lt;version&gt;5.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;fr.opensagres.xdocreport&lt;/groupId&gt;\n    &lt;artifactId&gt;fr.opensagres.poi.xwpf.converter.pdf&lt;/artifactId&gt;\n    &lt;version&gt;2.0.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>The line of code throwing the error is\n<code>PdfConverter.getInstance().convert(doc, outputStream, options);</code></p>\n"},{"tags":["java","date","junit","calendar","mocking"],"comments":[{"owner":{"account_id":138790,"reputation":61721,"user_id":343955,"accept_rate":85,"display_name":"adarshr"},"score":1,"creation_date":1329217959,"post_id":9275840,"comment_id":11693357,"body_markdown":"That line couldn&#39;t be compiling!","body":"That line couldn&#39;t be compiling!"},{"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"score":0,"creation_date":1329218101,"post_id":9275840,"comment_id":11693397,"body_markdown":"Is `today` a class member (field) or a local variable inside a method?","body":"Is <code>today</code> a class member (field) or a local variable inside a method?"},{"owner":{"account_id":127266,"reputation":8781,"user_id":324315,"accept_rate":66,"display_name":"Randomize"},"score":0,"creation_date":1329218241,"post_id":9275840,"comment_id":11693450,"body_markdown":"local variable inside a method","body":"local variable inside a method"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1567688229,"post_id":9275840,"comment_id":102043609,"body_markdown":"The modern version of the same question (with answer): [Writing and testing convenience methods using Java 8 Date/Time classes](https://stackoverflow.com/questions/52956373/writing-and-testing-convenience-methods-using-java-8-date-time-classes)","body":"The modern version of the same question (with answer): <a href=\"https://stackoverflow.com/questions/52956373/writing-and-testing-convenience-methods-using-java-8-date-time-classes\">Writing and testing convenience methods using Java 8 Date/Time classes</a>"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1676274171,"post_id":9275840,"comment_id":133096871,"body_markdown":"Update FYI, the terrible `Calendar` class was years ago supplanted by the modern *java.time* classes defined in JSR 310.","body":"Update FYI, the terrible <code>Calendar</code> class was years ago supplanted by the modern <i>java.time</i> classes defined in JSR 310."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1701228680,"post_id":9275840,"comment_id":136748615,"body_markdown":"You can fake a clock with the `static` methods on the [`java.time.Clock`](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/Clock.html) class. Pass the faked `Clock` instance to the various methods on various `java.time.*` classes.","body":"You can fake a clock with the <code>static</code> methods on the <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/Clock.html\" rel=\"nofollow noreferrer\"><code>java.time.Clock</code></a> class. Pass the faked <code>Clock</code> instance to the various methods on various <code>java.time.*</code> classes."}],"answers":[{"tags":[],"owner":{"account_id":1016,"reputation":17962,"user_id":1348,"accept_rate":88,"display_name":"blank"},"comment_count":0,"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1329223115,"creation_date":1329218478,"answer_id":9275970,"question_id":9275840,"body_markdown":"Don&#39;t mock it - instead introduce a method you can mock that gets dates. Something like this:\r\n\r\n    interface Utility {\r\n\r\n        Date getDate();\r\n    }\r\n\r\n    Utilities implements Utility {\r\n    \r\n\r\n        public Date getDate() {\r\n\r\n            return Calendar.getInstance().getTime();\r\n        }\r\n\r\n    }\r\n\r\nThen you can inject this into your class or just use a helper class with a bunch of static methods with a load method for the interface:\r\n\r\n\r\n    public class AppUtil {\r\n    \r\n        private static Utility util = new Utilities();\r\n    \r\n        public static void load(Utility newUtil) {\r\n\r\n             this.util = newUtil;\r\n        }\r\n\r\n        public static Date getDate() {\r\n\r\n            return util.getDate();\r\n        }\r\n    \r\n    }\r\n\r\nThen in your application code: \r\n\r\n    private void doSomething() {\r\n       Date today = AppUtil.getDate();\r\n       ....\r\n    }\r\n\r\nYou can then just load a mock interface in your test methods.\r\n\r\n\r\n    @Test\r\n    public void shouldDoSomethingUseful() {\r\n         Utility mockUtility = // .. create mock here\r\n         AppUtil.load(mockUtility);\r\n         \r\n         // .. set up your expectations\r\n\r\n         // exercise the functionality\r\n         classUnderTest.doSomethingViaAPI();\r\n\r\n         // ... maybe assert something \r\n\r\n    }\r\n\r\nSee also https://stackoverflow.com/questions/1906344/should-you-only-mock-types-you-own and [Test smell - everything is mocked][1]\r\n\r\n\r\n  [1]: http://www.mockobjects.com/2007/04/test-smell-everything-is-mocked.html","title":"java: how to mock Calendar.getInstance()?","body":"<p>Don't mock it - instead introduce a method you can mock that gets dates. Something like this:</p>\n\n<pre><code>interface Utility {\n\n    Date getDate();\n}\n\nUtilities implements Utility {\n\n\n    public Date getDate() {\n\n        return Calendar.getInstance().getTime();\n    }\n\n}\n</code></pre>\n\n<p>Then you can inject this into your class or just use a helper class with a bunch of static methods with a load method for the interface:</p>\n\n<pre><code>public class AppUtil {\n\n    private static Utility util = new Utilities();\n\n    public static void load(Utility newUtil) {\n\n         this.util = newUtil;\n    }\n\n    public static Date getDate() {\n\n        return util.getDate();\n    }\n\n}\n</code></pre>\n\n<p>Then in your application code: </p>\n\n<pre><code>private void doSomething() {\n   Date today = AppUtil.getDate();\n   ....\n}\n</code></pre>\n\n<p>You can then just load a mock interface in your test methods.</p>\n\n<pre><code>@Test\npublic void shouldDoSomethingUseful() {\n     Utility mockUtility = // .. create mock here\n     AppUtil.load(mockUtility);\n\n     // .. set up your expectations\n\n     // exercise the functionality\n     classUnderTest.doSomethingViaAPI();\n\n     // ... maybe assert something \n\n}\n</code></pre>\n\n<p>See also <a href=\"https://stackoverflow.com/questions/1906344/should-you-only-mock-types-you-own\">Should you only mock types you own?</a> and <a href=\"http://www.mockobjects.com/2007/04/test-smell-everything-is-mocked.html\" rel=\"nofollow noreferrer\">Test smell - everything is mocked</a></p>\n"},{"comments":[{"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":4,"creation_date":1329221765,"post_id":9275994,"comment_id":11694568,"body_markdown":"Joda Time&#39;s `DateTimeUtils` class has static methods that set the current time for all other Joda Time objects. This is very useful to set the time to a certain moment, for example for testing.","body":"Joda Time&#39;s <code>DateTimeUtils</code> class has static methods that set the current time for all other Joda Time objects. This is very useful to set the time to a certain moment, for example for testing."},{"owner":{"account_id":175711,"reputation":6306,"user_id":405906,"display_name":"BeRecursive"},"score":0,"creation_date":1329222371,"post_id":9275994,"comment_id":11694790,"body_markdown":"@Jesper - Yes that is true and a good point I neglected to mention","body":"@Jesper - Yes that is true and a good point I neglected to mention"},{"owner":{"account_id":127266,"reputation":8781,"user_id":324315,"accept_rate":66,"display_name":"Randomize"},"score":1,"creation_date":1329230893,"post_id":9275994,"comment_id":11698032,"body_markdown":"Thank you guys. I followed ur suggestions and I moved to JodaTime. BTW it fixes easily the problem with something like: DateTimeUtils.setCurrentMillisFixed(new DateTime(2012, 2, 14, 13, 43, 21).getMillis());","body":"Thank you guys. I followed ur suggestions and I moved to JodaTime. BTW it fixes easily the problem with something like: DateTimeUtils.setCurrentMillisFixed(new DateTime(2012, 2, 14, 13, 43, 21).getMillis());"}],"tags":[],"owner":{"account_id":175711,"reputation":6306,"user_id":405906,"display_name":"BeRecursive"},"comment_count":3,"down_vote_count":1,"up_vote_count":19,"is_accepted":true,"score":18,"last_activity_date":1329218601,"creation_date":1329218601,"answer_id":9275994,"question_id":9275840,"body_markdown":"As far as I see it you have three sensible options:\r\n\r\n 1. Inject the ``Calendar`` instance in whatever method/class you set that day in.\r\n\r\n    ``private void method(final Calendar cal) \r\n    {\r\n        Date today = cal.getTime();\r\n    }``\r\n\r\n 2. Use [JodaTime][1] instead of ``Calendar``. This is less an option and more a case of a suggestion as JodaTime will make your life a lot easier. You will still need to inject this time in to the method.\r\n\r\n    ``DateTime dt = new DateTime();``\r\n\r\n    ``Date jdkDate = dt.toDate();``\r\n\r\n 3. Wrap ``Calendar`` inside some interface that allows you to fetch the time. You then just mock that interface and get it to return a constant ``Date``.\r\n\r\n    ``Date today = calendarInterfaceInstance.getCurrentDate()``\r\n\r\n\r\n  [1]: http://joda-time.sourceforge.net/userguide.html","title":"java: how to mock Calendar.getInstance()?","body":"<p>As far as I see it you have three sensible options:</p>\n\n<ol>\n<li><p>Inject the <code>Calendar</code> instance in whatever method/class you set that day in.</p>\n\n<p><code>private void method(final Calendar cal) \n{\n    Date today = cal.getTime();\n}</code></p></li>\n<li><p>Use <a href=\"http://joda-time.sourceforge.net/userguide.html\">JodaTime</a> instead of <code>Calendar</code>. This is less an option and more a case of a suggestion as JodaTime will make your life a lot easier. You will still need to inject this time in to the method.</p>\n\n<p><code>DateTime dt = new DateTime();</code></p>\n\n<p><code>Date jdkDate = dt.toDate();</code></p></li>\n<li><p>Wrap <code>Calendar</code> inside some interface that allows you to fetch the time. You then just mock that interface and get it to return a constant <code>Date</code>.</p>\n\n<p><code>Date today = calendarInterfaceInstance.getCurrentDate()</code></p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1329218609,"creation_date":1329218609,"answer_id":9275997,"question_id":9275840,"body_markdown":"Write a class called `DateHelper` with a method `getCalendar` that returns `Calendar.getInstance()`.  Refactor the class that you&#39;re testing so that it has a member variable of type `DateHelper`, and a constructor that injects that member variable.  Use that constructor in your test, to inject a mock of `DateHelper`, in which `getCalendar` has been stubbed to return some known date.","title":"java: how to mock Calendar.getInstance()?","body":"<p>Write a class called <code>DateHelper</code> with a method <code>getCalendar</code> that returns <code>Calendar.getInstance()</code>.  Refactor the class that you're testing so that it has a member variable of type <code>DateHelper</code>, and a constructor that injects that member variable.  Use that constructor in your test, to inject a mock of <code>DateHelper</code>, in which <code>getCalendar</code> has been stubbed to return some known date.</p>\n"},{"tags":[],"owner":{"account_id":118571,"reputation":47112,"user_id":309683,"accept_rate":68,"display_name":"Behrang Saeedzadeh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1346754187,"creation_date":1346754187,"answer_id":12261475,"question_id":9275840,"body_markdown":"You can mockit using JMockit. Here you can see how you can do it: [Mock Java Calendar - JMockit vs Mockito](http://www.codeproject.com/Articles/359900/Mock-Java-Calendar-JMockit-vs-Mockito).","title":"java: how to mock Calendar.getInstance()?","body":"<p>You can mockit using JMockit. Here you can see how you can do it: <a href=\"http://www.codeproject.com/Articles/359900/Mock-Java-Calendar-JMockit-vs-Mockito\" rel=\"nofollow\">Mock Java Calendar - JMockit vs Mockito</a>.</p>\n"},{"comments":[{"owner":{"account_id":5984797,"reputation":14686,"user_id":5730321,"accept_rate":69,"display_name":"Leo DroidCoder"},"score":1,"creation_date":1489418330,"post_id":36472441,"comment_id":72649794,"body_markdown":"which dependencies do you include to get mockStatic() method work?","body":"which dependencies do you include to get mockStatic() method work?"},{"owner":{"account_id":2489020,"reputation":820,"user_id":2166900,"display_name":"GoGoris"},"score":0,"creation_date":1489518081,"post_id":36472441,"comment_id":72703377,"body_markdown":"Sorry I should have said that. I used import static to import the mockStatic method of PowerMockito. See this dependency for powermock mockito: http://mvnrepository.com/artifact/org.powermock/powermock-api-mockito2/1.6.6","body":"Sorry I should have said that. I used import static to import the mockStatic method of PowerMockito. See this dependency for powermock mockito: <a href=\"http://mvnrepository.com/artifact/org.powermock/powermock-api-mockito2/1.6.6\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/org.powermock/powermock-api-mocki&zwnj;&#8203;to2/&hellip;</a>"},{"owner":{"account_id":5945706,"reputation":1374,"user_id":4675277,"accept_rate":78,"display_name":"Anand Vaidya"},"score":0,"creation_date":1536504926,"post_id":36472441,"comment_id":91439531,"body_markdown":"You made my day!","body":"You made my day!"},{"owner":{"account_id":2220060,"reputation":1078,"user_id":1959664,"display_name":"Payam"},"score":0,"creation_date":1624582120,"post_id":36472441,"comment_id":120404391,"body_markdown":"+1 , but for the second part, both lines could be simplified to: `PowerMockito.whenNew(Calendar.getInstance()).withAnyArguments().thenReturn(MY_INSTANCE_OBJECT_TO_FEED);`","body":"+1 , but for the second part, both lines could be simplified to: <code>PowerMockito.whenNew(Calendar.getInstance()).withAnyArgument&zwnj;&#8203;s().thenReturn(MY_IN&zwnj;&#8203;STANCE_OBJECT_TO_FEE&zwnj;&#8203;D);</code>"},{"owner":{"account_id":2847865,"reputation":2502,"user_id":2445763,"accept_rate":36,"display_name":"lasec0203"},"score":0,"creation_date":1667447742,"post_id":36472441,"comment_id":131170904,"body_markdown":"@GoGoris Do you mind updating the answer to show where exactly those annotations and PowerMockito calls go inside your test class.","body":"@GoGoris Do you mind updating the answer to show where exactly those annotations and PowerMockito calls go inside your test class."}],"tags":[],"owner":{"account_id":2489020,"reputation":820,"user_id":2166900,"display_name":"GoGoris"},"comment_count":5,"down_vote_count":2,"up_vote_count":31,"is_accepted":false,"score":29,"last_activity_date":1460022392,"creation_date":1460022392,"answer_id":36472441,"question_id":9275840,"body_markdown":"You can mock it using PowerMock in combination with Mockito:\r\n\r\nOn top of your class:\r\n\r\n    @RunWith(PowerMockRunner.class)\r\n    @PrepareForTest({ClassThatCallsTheCalendar.class})\r\nThe key to success is that you have to put the class where you use Calendar in PrepareForTest instead of Calendar itself because it is a system class. (I personally had to search a lot before I found this) \r\n\r\nThen the mocking itself:\r\n\r\n    mockStatic(Calendar.class);\r\n    when(Calendar.getInstance()).thenReturn(calendar);","title":"java: how to mock Calendar.getInstance()?","body":"<p>You can mock it using PowerMock in combination with Mockito:</p>\n\n<p>On top of your class:</p>\n\n<pre><code>@RunWith(PowerMockRunner.class)\n@PrepareForTest({ClassThatCallsTheCalendar.class})\n</code></pre>\n\n<p>The key to success is that you have to put the class where you use Calendar in PrepareForTest instead of Calendar itself because it is a system class. (I personally had to search a lot before I found this) </p>\n\n<p>Then the mocking itself:</p>\n\n<pre><code>mockStatic(Calendar.class);\nwhen(Calendar.getInstance()).thenReturn(calendar);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1270906,"reputation":582,"user_id":1227193,"accept_rate":50,"display_name":"Surekha"},"comment_count":0,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1460646893,"creation_date":1460646893,"answer_id":36627298,"question_id":9275840,"body_markdown":"Using Mockito and PowerMockito:\r\n\r\n    Calendar endOfMarch = Calendar.getInstance();\r\n\tendOfMarch.set(2011, Calendar.MARCH, 27);\r\n\tPowerMockito.mockStatic(Calendar.class);\r\n\tMockito.when(Calendar.getInstance()).thenReturn(endOfMarch);\r\nRefer to the [link][1] for the complete code.\r\n\r\n\r\n  [1]: https://github.com/7droids/PowerMock/blob/master/PowerMock/test/src/de/sevendroids/java/powermock/sample/PowerMockSampleClassWithStaticMethodTest.java","title":"java: how to mock Calendar.getInstance()?","body":"<p>Using Mockito and PowerMockito:</p>\n\n<pre><code>Calendar endOfMarch = Calendar.getInstance();\nendOfMarch.set(2011, Calendar.MARCH, 27);\nPowerMockito.mockStatic(Calendar.class);\nMockito.when(Calendar.getInstance()).thenReturn(endOfMarch);\n</code></pre>\n\n<p>Refer to the <a href=\"https://github.com/7droids/PowerMock/blob/master/PowerMock/test/src/de/sevendroids/java/powermock/sample/PowerMockSampleClassWithStaticMethodTest.java\" rel=\"noreferrer\">link</a> for the complete code.</p>\n"},{"tags":[],"owner":{"account_id":8354243,"reputation":8167,"user_id":6275174,"display_name":"Nicola Gallazzi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674812179,"creation_date":1674812179,"answer_id":75256266,"question_id":9275840,"body_markdown":"Avoid use `Calendar.getInstance()` and just use `Mockito` methods to return what you like.\r\nFor example:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-kotlin --&gt;\r\n\r\n    @Test\r\n    fun italianLocale_returnsItalianFormatDate() {\r\n        val calendar: Calendar = Mockito.mock(Calendar::class.java)\r\n        Mockito.`when`(calendar.get(Calendar.DAY_OF_MONTH)).thenReturn(27)\r\n        Mockito.`when`(calendar.get(Calendar.YEAR)).thenReturn(2023)\r\n        Mockito.`when`(calendar.get(Calendar.MONTH)).thenReturn(1)\r\n        val formatted = calendar.toReadableDate()\r\n        assert(formatted == &quot;27/01/2023&quot;)\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nimport Mockito in your gradle file with:\r\n\r\n    testImplementation (&quot;org.mockito.kotlin:mockito-kotlin:x.x.x&quot;)\r\nor (if you are using groovy)\r\n\r\n    testImplementation &quot;org.mockito.kotlin:mockito-kotlin:x.x.x&quot;","title":"java: how to mock Calendar.getInstance()?","body":"<p>Avoid use <code>Calendar.getInstance()</code> and just use <code>Mockito</code> methods to return what you like.\nFor example:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Test\nfun italianLocale_returnsItalianFormatDate() {\n    val calendar: Calendar = Mockito.mock(Calendar::class.java)\n    Mockito.`when`(calendar.get(Calendar.DAY_OF_MONTH)).thenReturn(27)\n    Mockito.`when`(calendar.get(Calendar.YEAR)).thenReturn(2023)\n    Mockito.`when`(calendar.get(Calendar.MONTH)).thenReturn(1)\n    val formatted = calendar.toReadableDate()\n    assert(formatted == &quot;27/01/2023&quot;)\n}\n</code></pre>\n<p>import Mockito in your gradle file with:</p>\n<pre><code>testImplementation (&quot;org.mockito.kotlin:mockito-kotlin:x.x.x&quot;)\n</code></pre>\n<p>or (if you are using groovy)</p>\n<pre><code>testImplementation &quot;org.mockito.kotlin:mockito-kotlin:x.x.x&quot;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1685963065,"post_id":76405684,"comment_id":134729325,"body_markdown":"In 2023 neither you nor anyone else should want to use (and thereofre also not want to mock) the `Calendar` class. It was a mostly failed attempt to make up for the deficiencies of `Date` and was always cumbersome to work with. Both `Date` and `Calendar` were obsoleted with the release of [java.time, the modern Java date and time API,](https://docs.oracle.com/javase/tutorial/datetime/index.html) nearly 10 years ago. Among many features java.time comes with the possibility of supplying a clock that you control to the methods that obtain the current time, so you dont need mocking at all.","body":"In 2023 neither you nor anyone else should want to use (and thereofre also not want to mock) the <code>Calendar</code> class. It was a mostly failed attempt to make up for the deficiencies of <code>Date</code> and was always cumbersome to work with. Both <code>Date</code> and <code>Calendar</code> were obsoleted with the release of <a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API,</a> nearly 10 years ago. Among many features java.time comes with the possibility of supplying a clock that you control to the methods that obtain the current time, so you dont need mocking at all."},{"owner":{"account_id":2131065,"reputation":639,"user_id":1891891,"display_name":"Sylvain"},"score":1,"creation_date":1686831585,"post_id":76405684,"comment_id":134855285,"body_markdown":"@OleV.V. that&#39;s true :) but sometimes you have to deal with legacy codes and legacy frameworks: I have some thymeleaf templates that uses `dates` and thus the good old Calendar :&#39;(","body":"@OleV.V. that&#39;s true :) but sometimes you have to deal with legacy codes and legacy frameworks: I have some thymeleaf templates that uses <code>dates</code> and thus the good old Calendar :&#39;("}],"tags":[],"owner":{"account_id":4047119,"reputation":303,"user_id":3328022,"display_name":"inder"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685962041,"creation_date":1685962041,"answer_id":76405684,"question_id":9275840,"body_markdown":"With Mockk\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n     private lateinit var calendar: Calendar\r\n\r\n        @Before\r\n        fun setup() {\r\n            calendar = mockk(relaxed = true)\r\n            mockkStatic(Calendar::class)\r\n            every { Calendar.getInstance() } returns calendar\r\n        }\r\n\r\n        @Test\r\n        fun `test date when date is less than 16 month is 0`() {\r\n            every { calendar[Calendar.DAY_OF_MONTH] } returns 12\r\n            every { calendar[Calendar.MONTH] } returns 0\r\n            every { calendar[Calendar.YEAR] } returns 2023\r\n\r\n          // assert here\r\n\r\n        }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nrefer to the link for [mockk][1] documentation\r\n\r\n\r\n  [1]: https://mockk.io/","title":"java: how to mock Calendar.getInstance()?","body":"<p>With Mockk</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code> private lateinit var calendar: Calendar\n\n    @Before\n    fun setup() {\n        calendar = mockk(relaxed = true)\n        mockkStatic(Calendar::class)\n        every { Calendar.getInstance() } returns calendar\n    }\n\n    @Test\n    fun `test date when date is less than 16 month is 0`() {\n        every { calendar[Calendar.DAY_OF_MONTH] } returns 12\n        every { calendar[Calendar.MONTH] } returns 0\n        every { calendar[Calendar.YEAR] } returns 2023\n\n      // assert here\n\n    }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>refer to the link for <a href=\"https://mockk.io/\" rel=\"nofollow noreferrer\">mockk</a> documentation</p>\n"},{"tags":[],"owner":{"account_id":10099125,"reputation":50,"user_id":7463534,"display_name":"Matou Klugar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701090216,"creation_date":1701090216,"answer_id":77557111,"question_id":9275840,"body_markdown":"You can do that as follows using Junit 5 and Mockito\r\n\r\n    @Test\r\n    public void doSomething() {\r\n        listCalendarParams(&quot;now&quot;, Calendar.getInstance());\r\n        Calendar fakedCalendar = new GregorianCalendar(2023, Calendar.OCTOBER, 15, 10, 15);\r\n        listCalendarParams(&quot;mock&quot;, fakedCalendar);\r\n        try (MockedStatic&lt;Calendar&gt; mockedStatic = Mockito.mockStatic(Calendar.class, Mockito.CALLS_REAL_METHODS)) {\r\n            mockedStatic.when(Calendar::getInstance).thenReturn(fakedCalendar);\r\n            //This or any method here using Calendar.getInstance() will be replaced by mock defined above\r\n            Calendar calendar = Calendar.getInstance();\r\n            listCalendarParams(&quot;evaluated&quot;, calendar);\r\n            assertEquals(Calendar.OCTOBER, calendar.get(Calendar.MONTH));\r\n            assertEquals(15, calendar.get(Calendar.DAY_OF_MONTH));\r\n            assertEquals(10, calendar.get(Calendar.HOUR_OF_DAY));\r\n            assertEquals(15, calendar.get(Calendar.MINUTE));\r\n        }\r\n    }\r\n\r\n    private static void listCalendarParams(String nameOfCal, Calendar calendar) {\r\n        System.out.println(nameOfCal + &quot;:\\t&quot; +\r\n                new SimpleDateFormat(&quot;yyyy&#39;-&#39;MM&#39;-&#39;dd&#39;T&#39;HH&#39;:&#39;mm&#39;:&#39;ss&quot;)\r\n                        .format(calendar.getTime()));\r\n    }3\r\n\r\nOutput: \r\n\r\n    now:\t\t2023-11-27T14:00:48 //This will change anytime you run it.\r\n    mock:\t\t2023-10-15T10:15:00\r\n    evaluated:\t2023-10-15T10:15:00","title":"java: how to mock Calendar.getInstance()?","body":"<p>You can do that as follows using Junit 5 and Mockito</p>\n<pre><code>@Test\npublic void doSomething() {\n    listCalendarParams(&quot;now&quot;, Calendar.getInstance());\n    Calendar fakedCalendar = new GregorianCalendar(2023, Calendar.OCTOBER, 15, 10, 15);\n    listCalendarParams(&quot;mock&quot;, fakedCalendar);\n    try (MockedStatic&lt;Calendar&gt; mockedStatic = Mockito.mockStatic(Calendar.class, Mockito.CALLS_REAL_METHODS)) {\n        mockedStatic.when(Calendar::getInstance).thenReturn(fakedCalendar);\n        //This or any method here using Calendar.getInstance() will be replaced by mock defined above\n        Calendar calendar = Calendar.getInstance();\n        listCalendarParams(&quot;evaluated&quot;, calendar);\n        assertEquals(Calendar.OCTOBER, calendar.get(Calendar.MONTH));\n        assertEquals(15, calendar.get(Calendar.DAY_OF_MONTH));\n        assertEquals(10, calendar.get(Calendar.HOUR_OF_DAY));\n        assertEquals(15, calendar.get(Calendar.MINUTE));\n    }\n}\n\nprivate static void listCalendarParams(String nameOfCal, Calendar calendar) {\n    System.out.println(nameOfCal + &quot;:\\t&quot; +\n            new SimpleDateFormat(&quot;yyyy'-'MM'-'dd'T'HH':'mm':'ss&quot;)\n                    .format(calendar.getTime()));\n}3\n</code></pre>\n<p>Output:</p>\n<pre><code>now:        2023-11-27T14:00:48 //This will change anytime you run it.\nmock:       2023-10-15T10:15:00\nevaluated:  2023-10-15T10:15:00\n</code></pre>\n"}],"owner":{"account_id":127266,"reputation":8781,"user_id":324315,"accept_rate":66,"display_name":"Randomize"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46624,"favorite_count":0,"down_vote_count":0,"up_vote_count":34,"accepted_answer_id":9275994,"answer_count":9,"score":34,"last_activity_date":1701090216,"creation_date":1329217845,"question_id":9275840,"body_markdown":"In my code I have something like this:\r\n\r\n    private void doSomething() {\r\n       Calendar today = Calendar.getInstance();\r\n       ....\r\n    }\r\n\r\nHow can I &quot;mock&quot; it in my junit test to return a specific date?","title":"java: how to mock Calendar.getInstance()?","body":"<p>In my code I have something like this:</p>\n\n<pre><code>private void doSomething() {\n   Calendar today = Calendar.getInstance();\n   ....\n}\n</code></pre>\n\n<p>How can I \"mock\" it in my junit test to return a specific date?</p>\n"},{"tags":["java","mysql","spring","spring-boot","jpa"],"comments":[{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1701008282,"post_id":77552017,"comment_id":136719217,"body_markdown":"can you change `spring.jpa.hibernate.ddl-auto=create-drop` to `spring.jpa.hibernate.ddl-auto=create` ? because `create-drop:` drop the schema at the end of the session","body":"can you change <code>spring.jpa.hibernate.ddl-auto=create-drop</code> to <code>spring.jpa.hibernate.ddl-auto=create</code> ? because <code>create-drop:</code> drop the schema at the end of the session"},{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1701022892,"post_id":77552017,"comment_id":136720770,"body_markdown":"witch version of spring-boot are you using ?","body":"witch version of spring-boot are you using ?"},{"owner":{"account_id":5514375,"reputation":156,"user_id":4379671,"display_name":"tricksSpecialist"},"score":0,"creation_date":1701027917,"post_id":77552017,"comment_id":136721301,"body_markdown":"some version of mysql needs you to create the DB first where the app will not create it and after that you will find your table","body":"some version of mysql needs you to create the DB first where the app will not create it and after that you will find your table"},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":1,"creation_date":1701083759,"post_id":77552017,"comment_id":136726835,"body_markdown":"Most probably you have a version conflict. You can&#39;t mix javax-persistence with spring boot 3+ JPA (aka Jakarta). The best way to generate a clean pom.xml is to use https://start.spring.io/ and add only the dependencies needed like data-jpa and mysql.","body":"Most probably you have a version conflict. You can&#39;t mix javax-persistence with spring boot 3+ JPA (aka Jakarta). The best way to generate a clean pom.xml is to use <a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">start.spring.io</a> and add only the dependencies needed like data-jpa and mysql."},{"owner":{"account_id":27767200,"reputation":59,"user_id":21198309,"display_name":"Zeke Cachi"},"score":0,"creation_date":1701126480,"post_id":77552017,"comment_id":136734359,"body_markdown":"@Mar-Z         that was the issue, I switched to Jakarta and it works now, thanks!","body":"@Mar-Z         that was the issue, I switched to Jakarta and it works now, thanks!"},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1701160089,"post_id":77552017,"comment_id":136737676,"body_markdown":"Cool. Thanks for feedback.","body":"Cool. Thanks for feedback."}],"answers":[{"comments":[{"owner":{"account_id":27767200,"reputation":59,"user_id":21198309,"display_name":"Zeke Cachi"},"score":0,"creation_date":1701017538,"post_id":77552354,"comment_id":136720168,"body_markdown":"Thanks for the replies. i&#180;ve tried all options on spring.jpa.hibernate.ddl-auto, but none worked. It&#180;s not that it creates and then deletes the table, it just doesn&#180;t create it. The start log shows it&#180;s connected to the database, but there&#180;s no query in sight, and no table in my local database","body":"Thanks for the replies. i&#180;ve tried all options on spring.jpa.hibernate.ddl-auto, but none worked. It&#180;s not that it creates and then deletes the table, it just doesn&#180;t create it. The start log shows it&#180;s connected to the database, but there&#180;s no query in sight, and no table in my local database"}],"tags":[],"owner":{"account_id":29995365,"reputation":1,"user_id":22986887,"display_name":"kwonjh0406"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701013289,"creation_date":1701013289,"answer_id":77552354,"question_id":77552017,"body_markdown":"In the application.properties file\r\n\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/(my database)\r\n    spring.datasource.username=(my username)\r\n    spring.datasource.password=(my password)\r\n    spring.jpa.hibernate.ddl-auto=create-drop\r\n    spring.jpa.show-sql=true\r\n    spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect\r\n    spring.jpa.properties.hibernate.format_sql=true\r\n    spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n    spring.jpa.properties.hibernate.show_sql=true\r\n    spring.jpa.generate-ddl=true\r\n\r\nHere, spring.jpa.hibernate.ddl-auto=create-drop means that the application creates tables when it starts and drops them when it exits. To view the tables after the application ends, you can change it to spring.jpa.hibernate.ddl-auto=update. The modified configuration would look like this:\r\n\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/(my database)\r\n    spring.datasource.username=(my username)\r\n    spring.datasource.password=(my password)\r\n    spring.jpa.hibernate.ddl-auto=update\r\n    spring.jpa.show-sql=true\r\n    spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect\r\n    spring.jpa.properties.hibernate.format_sql=true\r\n    spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n    spring.jpa.properties.hibernate.show_sql=true\r\n    spring.jpa.generate-ddl=true\r\n\r\nWith this change, the application retains the tables after it exits, allowing you to view them later.\r\n","title":"Java JPA doesn&#180;t create new table (MySQL)","body":"<p>In the application.properties file</p>\n<pre><code>spring.datasource.url=jdbc:mysql://localhost:3306/(my database)\nspring.datasource.username=(my username)\nspring.datasource.password=(my password)\nspring.jpa.hibernate.ddl-auto=create-drop\nspring.jpa.show-sql=true\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect\nspring.jpa.properties.hibernate.format_sql=true\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\nspring.jpa.properties.hibernate.show_sql=true\nspring.jpa.generate-ddl=true\n</code></pre>\n<p>Here, spring.jpa.hibernate.ddl-auto=create-drop means that the application creates tables when it starts and drops them when it exits. To view the tables after the application ends, you can change it to spring.jpa.hibernate.ddl-auto=update. The modified configuration would look like this:</p>\n<pre><code>spring.datasource.url=jdbc:mysql://localhost:3306/(my database)\nspring.datasource.username=(my username)\nspring.datasource.password=(my password)\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.show-sql=true\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect\nspring.jpa.properties.hibernate.format_sql=true\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\nspring.jpa.properties.hibernate.show_sql=true\nspring.jpa.generate-ddl=true\n</code></pre>\n<p>With this change, the application retains the tables after it exits, allowing you to view them later.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1701165530,"post_id":77555089,"comment_id":136738663,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77555089/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":29231405,"reputation":1,"user_id":22395035,"display_name":"kush parsaniya"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701069508,"creation_date":1701069508,"answer_id":77555089,"question_id":77552017,"body_markdown":"you use create-drop so table is created when you start application and dropped when you stop and if your application is runnig and still doesn&#39;t show table so try to do this : check database name is match to spring database , and try to do refresh in mysqlworkbench  ","title":"Java JPA doesn&#180;t create new table (MySQL)","body":"<p>you use create-drop so table is created when you start application and dropped when you stop and if your application is runnig and still doesn't show table so try to do this : check database name is match to spring database , and try to do refresh in mysqlworkbench</p>\n"},{"tags":[],"owner":{"account_id":28248238,"reputation":1,"user_id":21594907,"display_name":"Shamalka Nilaweera"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701086638,"creation_date":1701086638,"answer_id":77556752,"question_id":77552017,"body_markdown":"\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\ntry this in pom file","title":"Java JPA doesn&#180;t create new table (MySQL)","body":"<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>try this in pom file</p>\n"},{"tags":[],"owner":{"account_id":30004053,"reputation":1,"user_id":22993407,"display_name":"Sonal Gaud"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701090183,"creation_date":1701090183,"answer_id":77557106,"question_id":77552017,"body_markdown":"Seems like your sql is not connected make sure you add the mysql connector jar file\r\nOr can simply add this command in your pom.xml file\r\n\r\n`&lt;groupId&gt;mysql&lt;/groupId&gt; \r\n&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n&lt;version&gt;8.0.23&lt;/version&gt; &lt;!-- Use the latest version available --&gt; \r\n&lt;/dependency&gt;`\r\n\r\n \r\nSometimes it is cause you don&#39;t have relevant port, check your port in mysql client command line \r\nby this code \r\nmysql -h your_host -P your_port -u your_username -p -e &quot;SELECT @@port;&quot;\r\n\r\nI hope this helps!\r\n","title":"Java JPA doesn&#180;t create new table (MySQL)","body":"<p>Seems like your sql is not connected make sure you add the mysql connector jar file\nOr can simply add this command in your pom.xml file</p>\n<p><code>&lt;groupId&gt;mysql&lt;/groupId&gt;  &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt; &lt;version&gt;8.0.23&lt;/version&gt; &lt;!-- Use the latest version available --&gt;  &lt;/dependency&gt;</code></p>\n<p>Sometimes it is cause you don't have relevant port, check your port in mysql client command line\nby this code\nmysql -h your_host -P your_port -u your_username -p -e &quot;SELECT @@port;&quot;</p>\n<p>I hope this helps!</p>\n"}],"owner":{"account_id":27767200,"reputation":59,"user_id":21198309,"display_name":"Zeke Cachi"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1701090183,"creation_date":1701007742,"question_id":77552017,"body_markdown":"i&#180;m currently learning Spring Boot, and trying to set up JPA with a MySQL database. Everything looks fine, the project starts correctly, no visible errors, but...no table is created on my db. I&#180;ve checked everywhere and everything seems fine, i have no clue what&#180;s causing that behaviour...\r\nI&#180;ll leave the relevant parts of the code: \r\nProjectApplication.java:\r\n\r\n    package com.first.project;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    \r\n    @SpringBootApplication\r\n    public class ProjectApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(ProjectApplication.class, args);\r\n    \t}\r\n    \r\n    \r\n    }\r\n\r\nMy Student class: \r\n\r\n    package com.first.project.student;\r\n    \r\n    import org.springframework.data.annotation.Id;\r\n    \r\n    import javax.persistence.Entity;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.GenerationType;\r\n    import javax.persistence.Table;\r\n    import java.time.LocalDate;\r\n    \r\n    @Entity\r\n    @Table\r\n    public class Student {\r\n      @Id\r\n      @GeneratedValue(\r\n              strategy = GenerationType.IDENTITY\r\n      )\r\n      private Long id;\r\n      private String name;\r\n      private String email;\r\n      private LocalDate dateOfBirth;\r\n      private Integer age;\r\n    \r\n      public Student() {\r\n      }\r\n      public Student(Long studentId, String studentName, String studentEmail, LocalDate studentDoB, Integer studentAge) {\r\n        this.id = studentId;\r\n        this.name = studentName;\r\n        this.email = studentEmail;\r\n        this.dateOfBirth = studentDoB;\r\n        this.age = studentAge;\r\n      }\r\n    \r\n      public Student(String studentName, String studentEmail, LocalDate studentDoB, Integer studentAge) {\r\n        this.name = studentName;\r\n        this.email = studentEmail;\r\n        this.dateOfBirth = studentDoB;\r\n        this.age = studentAge;\r\n      }\r\n    \r\n      public Long getId() {\r\n        return id;\r\n      }\r\n    \r\n      public void setId(Long id) {\r\n        this.id = id;\r\n      }\r\n    \r\n      public String getName() {\r\n        return name;\r\n      }\r\n    \r\n      public void setName(String name) {\r\n        this.name = name;\r\n      }\r\n    \r\n      public String getEmail() {\r\n        return email;\r\n      }\r\n    \r\n      public void setEmail(String email) {\r\n        this.email = email;\r\n      }\r\n    \r\n      public LocalDate getDateOfBirth() {\r\n        return dateOfBirth;\r\n      }\r\n    \r\n      public void setDateOfBirth(LocalDate dateOfBirth) {\r\n        this.dateOfBirth = dateOfBirth;\r\n      }\r\n    \r\n      public Integer getAge() {\r\n        return age;\r\n      }\r\n    \r\n      public void setAge(Integer age) {\r\n        this.age = age;\r\n      }\r\n    \r\n      @Override\r\n      public String toString() {\r\n        return &quot;Student{&quot; +\r\n                &quot;id=&quot; + id +\r\n                &quot;, name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n                &quot;, email=&#39;&quot; + email + &#39;\\&#39;&#39; +\r\n                &quot;, dateOfBirth=&quot; + dateOfBirth +\r\n                &quot;, age=&quot; + age +\r\n                &#39;}&#39;;\r\n      }\r\n    }\r\napplication.properties: \r\n\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/(my database)\r\n    spring.datasource.username=(my username)\r\n    spring.datasource.password=(my password)\r\n    spring.jpa.hibernate.ddl-auto=create-drop\r\n    spring.jpa.show-sql=true\r\n    spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect\r\n    spring.jpa.properties.hibernate.format_sql=true\r\n    spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n    spring.jpa.properties.hibernate.show_sql=true\r\n    spring.jpa.generate-ddl=true\r\n\r\nThe dependencies from my pom.xml file: \r\n\r\n        &lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jdbc&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.persistence&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n\r\nInside the main package i have ProjectAplication, and a subpackage with the Student class inside. \r\n\r\nAny thoughts?\r\n\r\n","title":"Java JPA doesn&#180;t create new table (MySQL)","body":"<p>im currently learning Spring Boot, and trying to set up JPA with a MySQL database. Everything looks fine, the project starts correctly, no visible errors, but...no table is created on my db. Ive checked everywhere and everything seems fine, i have no clue whats causing that behaviour...\nIll leave the relevant parts of the code:\nProjectApplication.java:</p>\n<pre><code>package com.first.project;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class ProjectApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(ProjectApplication.class, args);\n    }\n\n\n}\n</code></pre>\n<p>My Student class:</p>\n<pre><code>package com.first.project.student;\n\nimport org.springframework.data.annotation.Id;\n\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Table;\nimport java.time.LocalDate;\n\n@Entity\n@Table\npublic class Student {\n  @Id\n  @GeneratedValue(\n          strategy = GenerationType.IDENTITY\n  )\n  private Long id;\n  private String name;\n  private String email;\n  private LocalDate dateOfBirth;\n  private Integer age;\n\n  public Student() {\n  }\n  public Student(Long studentId, String studentName, String studentEmail, LocalDate studentDoB, Integer studentAge) {\n    this.id = studentId;\n    this.name = studentName;\n    this.email = studentEmail;\n    this.dateOfBirth = studentDoB;\n    this.age = studentAge;\n  }\n\n  public Student(String studentName, String studentEmail, LocalDate studentDoB, Integer studentAge) {\n    this.name = studentName;\n    this.email = studentEmail;\n    this.dateOfBirth = studentDoB;\n    this.age = studentAge;\n  }\n\n  public Long getId() {\n    return id;\n  }\n\n  public void setId(Long id) {\n    this.id = id;\n  }\n\n  public String getName() {\n    return name;\n  }\n\n  public void setName(String name) {\n    this.name = name;\n  }\n\n  public String getEmail() {\n    return email;\n  }\n\n  public void setEmail(String email) {\n    this.email = email;\n  }\n\n  public LocalDate getDateOfBirth() {\n    return dateOfBirth;\n  }\n\n  public void setDateOfBirth(LocalDate dateOfBirth) {\n    this.dateOfBirth = dateOfBirth;\n  }\n\n  public Integer getAge() {\n    return age;\n  }\n\n  public void setAge(Integer age) {\n    this.age = age;\n  }\n\n  @Override\n  public String toString() {\n    return &quot;Student{&quot; +\n            &quot;id=&quot; + id +\n            &quot;, name='&quot; + name + '\\'' +\n            &quot;, email='&quot; + email + '\\'' +\n            &quot;, dateOfBirth=&quot; + dateOfBirth +\n            &quot;, age=&quot; + age +\n            '}';\n  }\n}\n</code></pre>\n<p>application.properties:</p>\n<pre><code>spring.datasource.url=jdbc:mysql://localhost:3306/(my database)\nspring.datasource.username=(my username)\nspring.datasource.password=(my password)\nspring.jpa.hibernate.ddl-auto=create-drop\nspring.jpa.show-sql=true\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect\nspring.jpa.properties.hibernate.format_sql=true\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\nspring.jpa.properties.hibernate.show_sql=true\nspring.jpa.generate-ddl=true\n</code></pre>\n<p>The dependencies from my pom.xml file:</p>\n<pre><code>    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\n            &lt;version&gt;2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p>Inside the main package i have ProjectAplication, and a subpackage with the Student class inside.</p>\n<p>Any thoughts?</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database","firebase-authentication"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1701085218,"post_id":77556539,"comment_id":136727055,"body_markdown":"Is `onComplete` even triggered? Or are you getting any errors?","body":"Is <code>onComplete</code> even triggered? Or are you getting any errors?"},{"owner":{"account_id":26018024,"reputation":95,"user_id":19726095,"display_name":"Md Abu Rayhan"},"score":0,"creation_date":1701087076,"post_id":77556539,"comment_id":136727370,"body_markdown":"It&#39;s not getting any error and also not triggering the database onComplete","body":"It&#39;s not getting any error and also not triggering the database onComplete"}],"answers":[{"comments":[{"owner":{"account_id":26018024,"reputation":95,"user_id":19726095,"display_name":"Md Abu Rayhan"},"score":0,"creation_date":1701087838,"post_id":77556605,"comment_id":136727500,"body_markdown":"I was updated the google-services.json. But I do it before creating the Realtime Database, lol. By the way thanks for remind me about it","body":"I was updated the google-services.json. But I do it before creating the Realtime Database, lol. By the way thanks for remind me about it"}],"tags":[],"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1701090172,"creation_date":1701085253,"answer_id":77556605,"question_id":77556539,"body_markdown":"Since neither the `onComplete` or `onFailure` log is written, most likely your app is not connected to the database. A common way for this to happen is when your `google-services.json` file was downloaded before you created the database.\r\n\r\nThe way to fix this is to re-download `google-services.json` and replace the one in your app with an up to date version.\r\n\r\nAn alternative way to work around the problem is by specifying the URL of your database in your code when you get your `FirebaseDatabase` instance:\r\n```\r\nprivate FirebaseDatabase database = FirebaseDatabase.getInstance(&quot;your database URL here&quot;);\r\n```\r\n\r\nAlso see:\r\n\r\n* https://stackoverflow.com/questions/68173632/google-firebase-real-time-database-not-working-as-everything-is-set-correctly/68179677#68179677\r\n* https://stackoverflow.com/questions/68806876/firebase-realtime-database-connection-killed-different-region/68807113#68807113\r\n* https://stackoverflow.com/questions/67858941/database-reference-works-only-by-url/67860298#67860298","title":"Firebase Authentication with Google Sign-In not Writing Data to Realtime Database","body":"<p>Since neither the <code>onComplete</code> or <code>onFailure</code> log is written, most likely your app is not connected to the database. A common way for this to happen is when your <code>google-services.json</code> file was downloaded before you created the database.</p>\n<p>The way to fix this is to re-download <code>google-services.json</code> and replace the one in your app with an up to date version.</p>\n<p>An alternative way to work around the problem is by specifying the URL of your database in your code when you get your <code>FirebaseDatabase</code> instance:</p>\n<pre><code>private FirebaseDatabase database = FirebaseDatabase.getInstance(&quot;your database URL here&quot;);\n</code></pre>\n<p>Also see:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/68173632/google-firebase-real-time-database-not-working-as-everything-is-set-correctly/68179677#68179677\">Google Firebase Real-time Database Not Working as everything is set correctly</a></li>\n<li><a href=\"https://stackoverflow.com/questions/68806876/firebase-realtime-database-connection-killed-different-region/68807113#68807113\">Firebase Realtime Database connection killed: Different Region</a></li>\n<li><a href=\"https://stackoverflow.com/questions/67858941/database-reference-works-only-by-url/67860298#67860298\">database reference works only by URL</a></li>\n</ul>\n"}],"owner":{"account_id":26018024,"reputation":95,"user_id":19726095,"display_name":"Md Abu Rayhan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77556605,"answer_count":1,"score":0,"last_activity_date":1701090172,"creation_date":1701084598,"question_id":77556539,"body_markdown":"I am encountering an issue with my Android app&#39;s Firebase authentication using Google Sign-In. The authentication process works correctly, but the user data is not being written to the Firebase Realtime Database as expected.\r\n\r\nI have ensured that the Firebase Realtime Database rules allow both read and write operations when the user is authenticated. Here are my current rules:\r\n\r\n     {\r\n      &quot;rules&quot;: {\r\n        &quot;.read&quot;: &quot;auth != null&quot;,\r\n        &quot;.write&quot;: &quot;auth != null&quot;\r\n       }\r\n     }\r\n\r\nDespite this, when a user successfully signs in with Google, the app logs the correct user information, but the data is not reflected in the Firebase Realtime Database.\r\n\r\nHere is a snippet of the relevant code:\r\n\r\n\r\n    public class SignInActivity extends AppCompatActivity {    \r\n        private SignInViewModel signInViewModel;\r\n        private FirebaseAuth auth = FirebaseAuth.getInstance();\r\n        private ActivitySignInBinding binding;\r\n        private SignInClickHandler clickHandler;\r\n        private Button googleSignInBtn;\r\n        private GoogleSignInOptions gso;\r\n        private GoogleSignInClient gsc;\r\n        private FirebaseDatabase database = FirebaseDatabase.getInstance();\r\n        private int RC_SIGN_IN = 20;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_sign_in);\r\n            binding = DataBindingUtil.setContentView(this, R.layout.activity_sign_in);\r\n            signInViewModel = new ViewModelProvider(this).get(SignInViewModel.class);\r\n            clickHandler = new SignInClickHandler(this, signInViewModel);\r\n            binding.setClickHandler(clickHandler);\r\n    \r\n            googleSignInBtn = binding.googleLogInButton;\r\n            gso = new GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN).requestEmail().\r\n                    requestIdToken(getString(R.string.default_web_client_id))\r\n                    .requestEmail().build();\r\n    \r\n            gsc = GoogleSignIn.getClient(this, gso);\r\n    \r\n            googleSignInBtn.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    googleSignIn();\r\n                }\r\n            });\r\n    \r\n    \r\n        }\r\n    \r\n        private void googleSignIn() {\r\n            Intent signInIntent = gsc.getSignInIntent();\r\n            startActivityForResult(signInIntent, RC_SIGN_IN);\r\n        }\r\n    \r\n        @Override\r\n        protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n            super.onActivityResult(requestCode, resultCode, data);\r\n    \r\n            if (requestCode == RC_SIGN_IN){\r\n                Task&lt;GoogleSignInAccount&gt; task = GoogleSignIn.getSignedInAccountFromIntent(data);\r\n    \r\n                try {\r\n                    GoogleSignInAccount account = task.getResult(ApiException.class);\r\n                    firebaseAuth(account.getIdToken());\r\n                } catch (ApiException e) {\r\n                    Toast.makeText(this, &quot;&quot;+e.getMessage(), Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n    \r\n        }\r\n    \r\n        private void firebaseAuth(String idToken) {\r\n            AuthCredential credential = GoogleAuthProvider.getCredential(idToken, null);\r\n            auth.signInWithCredential(credential)\r\n                    .addOnCompleteListener(this, new OnCompleteListener&lt;AuthResult&gt;() {\r\n                        @Override\r\n                        public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n                            if (task.isSuccessful()) {\r\n                                FirebaseUser user = auth.getCurrentUser();\r\n    \r\n                                Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\r\n                                map.put(&quot;id&quot;, user.getUid());\r\n                                map.put(&quot;name&quot;, user.getDisplayName());\r\n                                String photoUrl = (user.getPhotoUrl() != null) ? user.getPhotoUrl().toString() : &quot;&quot;;\r\n                                map.put(&quot;profile&quot;, photoUrl);\r\n    \r\n                                Log.d(&quot;FirebaseGoogleAuth&quot;, &quot;id&quot; + user.getUid() + &quot; &quot; + user.getDisplayName() + &quot; &quot; + photoUrl);\r\n                                database.getReference()\r\n                                        .child(&quot;users&quot;)\r\n                                        .child(user.getUid())\r\n                                        .setValue(map)\r\n                                        .addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n                                            @Override\r\n                                            public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n                                                Log.d(&quot;FirebaseGoogleAuth&quot;, &quot;Data write successful&quot;);\r\n                                                Intent intent = new Intent(getApplicationContext(), FeedActivity.class);\r\n                                                startActivity(intent);\r\n                                                finish();\r\n                                            }\r\n                                        })\r\n                                        .addOnFailureListener(new OnFailureListener() {\r\n                                            @Override\r\n                                            public void onFailure(@NonNull Exception e) {\r\n                                                Log.d(&quot;FirebaseGoogleAuth&quot;, &quot;error realtime database &quot; + e.getMessage().toString());\r\n                                            }\r\n                                        });\r\n                            } else {\r\n                                Toast.makeText(SignInActivity.this, &quot;Authentication failed.&quot;, Toast.LENGTH_SHORT).show();\r\n                            }\r\n                        }\r\n                    });\r\n        }\r\n        \r\n    \r\n        @Override\r\n        protected void onStart() {\r\n            super.onStart();\r\n            FirebaseUser currentUser = auth.getCurrentUser();\r\n            if (currentUser != null){\r\n                startActivity(new Intent(SignInActivity.this, FeedActivity.class));\r\n                finish();\r\n            }\r\n    \r\n        }\r\n    }\r\n\r\nBuild Gradle (App level):\r\n\r\n    plugins {\r\n        id &#39;com.android.application&#39;\r\n        id &#39;com.google.gms.google-services&#39;\r\n    }\r\n    \r\n    android {\r\n        namespace &#39;com.arsoftltd.lolipop&#39;\r\n        compileSdk 34\r\n    \r\n        defaultConfig {\r\n            applicationId &quot;com.arsoftltd.lolipop&quot;\r\n            minSdk 24\r\n            targetSdk 34\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n    \r\n            testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n        }\r\n    \r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_1_8\r\n            targetCompatibility JavaVersion.VERSION_1_8\r\n        }\r\n        buildFeatures{\r\n            dataBinding true\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n    \r\n        implementation &#39;androidx.appcompat:appcompat:1.6.1&#39;\r\n        implementation &#39;com.google.android.material:material:1.10.0&#39;\r\n        implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n        testImplementation &#39;junit:junit:4.13.2&#39;\r\n        androidTestImplementation &#39;androidx.test.ext:junit:1.1.5&#39;\r\n        androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.1&#39;\r\n    \r\n    \r\n        // Import the Firebase BoM\r\n        implementation platform(&#39;com.google.firebase:firebase-bom:32.6.0&#39;)\r\n    \r\n        // When using the BoM, don&#39;t specify versions in Firebase dependencies\r\n        implementation &#39;com.google.firebase:firebase-analytics&#39;\r\n    \r\n        // Firebase Authentication\r\n        implementation &#39;com.google.firebase:firebase-auth&#39;\r\n        implementation &quot;com.google.android.gms:play-services-auth:20.7.0&quot;\r\n    \r\n        implementation &#39;com.firebaseui:firebase-ui-auth:8.0.2&#39;\r\n    \r\n        // Firebase realtime database\r\n        implementation &quot;com.google.firebase:firebase-database&quot;\r\n    \r\n    \r\n        // Facebook Sdk\r\n        implementation &#39;com.facebook.android:facebook-android-sdk:[8,9)&#39;\r\n    \r\n        // SSP SDP library\r\n        implementation &#39;com.intuit.ssp:ssp-android:1.1.0&#39;\r\n        implementation &#39;com.intuit.sdp:sdp-android:1.1.0&#39;\r\n    \r\n    \r\n    \r\n    }\r\nThe log output during authentication shows the correct user information:\r\n\r\n    2023-11-27 17:17:59.062 28378-28378 FirebaseGoogleAuth com.arsoftltd.lolipop D idpuhGxZmHw7YfW49R4ZGfHJsLmus2 Md Abu Rayhan https://lh3.googleusercontent.com/a/ACg8ocIujr5T5CNmjjEps2SKElmg5ROz0Qbdl0cNcfPAUwcnvQ=s96-c\r\n\r\nI would appreciate any insights or suggestions on why the user data is not being written to the Firebase Realtime Database despite successful authentication. Thank you in advance!","title":"Firebase Authentication with Google Sign-In not Writing Data to Realtime Database","body":"<p>I am encountering an issue with my Android app's Firebase authentication using Google Sign-In. The authentication process works correctly, but the user data is not being written to the Firebase Realtime Database as expected.</p>\n<p>I have ensured that the Firebase Realtime Database rules allow both read and write operations when the user is authenticated. Here are my current rules:</p>\n<pre><code> {\n  &quot;rules&quot;: {\n    &quot;.read&quot;: &quot;auth != null&quot;,\n    &quot;.write&quot;: &quot;auth != null&quot;\n   }\n }\n</code></pre>\n<p>Despite this, when a user successfully signs in with Google, the app logs the correct user information, but the data is not reflected in the Firebase Realtime Database.</p>\n<p>Here is a snippet of the relevant code:</p>\n<pre><code>public class SignInActivity extends AppCompatActivity {    \n    private SignInViewModel signInViewModel;\n    private FirebaseAuth auth = FirebaseAuth.getInstance();\n    private ActivitySignInBinding binding;\n    private SignInClickHandler clickHandler;\n    private Button googleSignInBtn;\n    private GoogleSignInOptions gso;\n    private GoogleSignInClient gsc;\n    private FirebaseDatabase database = FirebaseDatabase.getInstance();\n    private int RC_SIGN_IN = 20;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_sign_in);\n        binding = DataBindingUtil.setContentView(this, R.layout.activity_sign_in);\n        signInViewModel = new ViewModelProvider(this).get(SignInViewModel.class);\n        clickHandler = new SignInClickHandler(this, signInViewModel);\n        binding.setClickHandler(clickHandler);\n\n        googleSignInBtn = binding.googleLogInButton;\n        gso = new GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN).requestEmail().\n                requestIdToken(getString(R.string.default_web_client_id))\n                .requestEmail().build();\n\n        gsc = GoogleSignIn.getClient(this, gso);\n\n        googleSignInBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                googleSignIn();\n            }\n        });\n\n\n    }\n\n    private void googleSignIn() {\n        Intent signInIntent = gsc.getSignInIntent();\n        startActivityForResult(signInIntent, RC_SIGN_IN);\n    }\n\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n\n        if (requestCode == RC_SIGN_IN){\n            Task&lt;GoogleSignInAccount&gt; task = GoogleSignIn.getSignedInAccountFromIntent(data);\n\n            try {\n                GoogleSignInAccount account = task.getResult(ApiException.class);\n                firebaseAuth(account.getIdToken());\n            } catch (ApiException e) {\n                Toast.makeText(this, &quot;&quot;+e.getMessage(), Toast.LENGTH_SHORT).show();\n            }\n        }\n\n    }\n\n    private void firebaseAuth(String idToken) {\n        AuthCredential credential = GoogleAuthProvider.getCredential(idToken, null);\n        auth.signInWithCredential(credential)\n                .addOnCompleteListener(this, new OnCompleteListener&lt;AuthResult&gt;() {\n                    @Override\n                    public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n                        if (task.isSuccessful()) {\n                            FirebaseUser user = auth.getCurrentUser();\n\n                            Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\n                            map.put(&quot;id&quot;, user.getUid());\n                            map.put(&quot;name&quot;, user.getDisplayName());\n                            String photoUrl = (user.getPhotoUrl() != null) ? user.getPhotoUrl().toString() : &quot;&quot;;\n                            map.put(&quot;profile&quot;, photoUrl);\n\n                            Log.d(&quot;FirebaseGoogleAuth&quot;, &quot;id&quot; + user.getUid() + &quot; &quot; + user.getDisplayName() + &quot; &quot; + photoUrl);\n                            database.getReference()\n                                    .child(&quot;users&quot;)\n                                    .child(user.getUid())\n                                    .setValue(map)\n                                    .addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n                                        @Override\n                                        public void onComplete(@NonNull Task&lt;Void&gt; task) {\n                                            Log.d(&quot;FirebaseGoogleAuth&quot;, &quot;Data write successful&quot;);\n                                            Intent intent = new Intent(getApplicationContext(), FeedActivity.class);\n                                            startActivity(intent);\n                                            finish();\n                                        }\n                                    })\n                                    .addOnFailureListener(new OnFailureListener() {\n                                        @Override\n                                        public void onFailure(@NonNull Exception e) {\n                                            Log.d(&quot;FirebaseGoogleAuth&quot;, &quot;error realtime database &quot; + e.getMessage().toString());\n                                        }\n                                    });\n                        } else {\n                            Toast.makeText(SignInActivity.this, &quot;Authentication failed.&quot;, Toast.LENGTH_SHORT).show();\n                        }\n                    }\n                });\n    }\n    \n\n    @Override\n    protected void onStart() {\n        super.onStart();\n        FirebaseUser currentUser = auth.getCurrentUser();\n        if (currentUser != null){\n            startActivity(new Intent(SignInActivity.this, FeedActivity.class));\n            finish();\n        }\n\n    }\n}\n</code></pre>\n<p>Build Gradle (App level):</p>\n<pre><code>plugins {\n    id 'com.android.application'\n    id 'com.google.gms.google-services'\n}\n\nandroid {\n    namespace 'com.arsoftltd.lolipop'\n    compileSdk 34\n\n    defaultConfig {\n        applicationId &quot;com.arsoftltd.lolipop&quot;\n        minSdk 24\n        targetSdk 34\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n    buildFeatures{\n        dataBinding true\n    }\n}\n\ndependencies {\n\n    implementation 'androidx.appcompat:appcompat:1.6.1'\n    implementation 'com.google.android.material:material:1.10.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.5'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'\n\n\n    // Import the Firebase BoM\n    implementation platform('com.google.firebase:firebase-bom:32.6.0')\n\n    // When using the BoM, don't specify versions in Firebase dependencies\n    implementation 'com.google.firebase:firebase-analytics'\n\n    // Firebase Authentication\n    implementation 'com.google.firebase:firebase-auth'\n    implementation &quot;com.google.android.gms:play-services-auth:20.7.0&quot;\n\n    implementation 'com.firebaseui:firebase-ui-auth:8.0.2'\n\n    // Firebase realtime database\n    implementation &quot;com.google.firebase:firebase-database&quot;\n\n\n    // Facebook Sdk\n    implementation 'com.facebook.android:facebook-android-sdk:[8,9)'\n\n    // SSP SDP library\n    implementation 'com.intuit.ssp:ssp-android:1.1.0'\n    implementation 'com.intuit.sdp:sdp-android:1.1.0'\n\n\n\n}\n</code></pre>\n<p>The log output during authentication shows the correct user information:</p>\n<pre><code>2023-11-27 17:17:59.062 28378-28378 FirebaseGoogleAuth com.arsoftltd.lolipop D idpuhGxZmHw7YfW49R4ZGfHJsLmus2 Md Abu Rayhan https://lh3.googleusercontent.com/a/ACg8ocIujr5T5CNmjjEps2SKElmg5ROz0Qbdl0cNcfPAUwcnvQ=s96-c\n</code></pre>\n<p>I would appreciate any insights or suggestions on why the user data is not being written to the Firebase Realtime Database despite successful authentication. Thank you in advance!</p>\n"},{"tags":["java","user-interface","javasound"],"comments":[{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":2,"creation_date":1701089467,"post_id":77556997,"comment_id":136727796,"body_markdown":"Which Java GUI? There are several - SWT, JavaFX, Swing...","body":"Which Java GUI? There are several - SWT, JavaFX, Swing..."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1701103064,"post_id":77556997,"comment_id":136730684,"body_markdown":"Check out: https://stackoverflow.com/a/64509714/131872 for an example that will replay the sound every time a button is clicked.","body":"Check out: <a href=\"https://stackoverflow.com/a/64509714/131872\">stackoverflow.com/a/64509714/131872</a> for an example that will replay the sound every time a button is clicked."}],"answers":[{"tags":[],"owner":{"account_id":7393149,"reputation":79,"user_id":5625966,"display_name":"John m"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701089814,"creation_date":1701089814,"answer_id":77557077,"question_id":77556997,"body_markdown":"Its been a while since I did this.\r\nI would say in your action handler that is where you want to get your sound and then play it.\r\nSo somthing like this:\r\n\r\n      JButton b1 = new JButton(&quot;Cool button&quot;); // Make button\r\n\r\n      // Create action listener -  play the sound when the button is pressed\r\n      ActionListener listener = new ActionListener() {\r\n         File localSoundFile = new File(&quot;path_to_sound&quot;);\r\n         AudioInputStream audioIn = AudioSystem.getAudioInputStream(localSoundFile);   \r\n         Clip clip = AudioSystem.getClip();\r\n         clip.open(audioIn);\r\n         clip.start();   \r\n         // Other action handler stuff\r\n      }\r\n      b1.addActionListener(listener); // Attatch listener to the button\r\n      \r\n\r\nChange the code to work with whatever gui framwork you are using, but the overall design should be something similar","title":"Sound effects to Radio Buttons in Java GUI","body":"<p>Its been a while since I did this.\nI would say in your action handler that is where you want to get your sound and then play it.\nSo somthing like this:</p>\n<pre><code>  JButton b1 = new JButton(&quot;Cool button&quot;); // Make button\n\n  // Create action listener -  play the sound when the button is pressed\n  ActionListener listener = new ActionListener() {\n     File localSoundFile = new File(&quot;path_to_sound&quot;);\n     AudioInputStream audioIn = AudioSystem.getAudioInputStream(localSoundFile);   \n     Clip clip = AudioSystem.getClip();\n     clip.open(audioIn);\n     clip.start();   \n     // Other action handler stuff\n  }\n  b1.addActionListener(listener); // Attatch listener to the button\n  \n</code></pre>\n<p>Change the code to work with whatever gui framwork you are using, but the overall design should be something similar</p>\n"}],"owner":{"account_id":30003922,"reputation":1,"user_id":22993306,"display_name":"Divo "},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1701103638,"answer_count":1,"score":0,"last_activity_date":1701089814,"creation_date":1701089097,"question_id":77556997,"body_markdown":"How do you add sounds effects  to radio Buttons in Java GUI? For example the click sounds when clicking the radio Buttons. Please tell me and explain how.\r\n\r\nI didn&#39;t try or copied all of those examples and explanations in YouTube years ago are cause they&#39;re somewhat Vague and not really exaggerated I just really want to know how. I just wanna know what are the basics. Please do Share. Thank you.","title":"Sound effects to Radio Buttons in Java GUI","body":"<p>How do you add sounds effects  to radio Buttons in Java GUI? For example the click sounds when clicking the radio Buttons. Please tell me and explain how.</p>\n<p>I didn't try or copied all of those examples and explanations in YouTube years ago are cause they're somewhat Vague and not really exaggerated I just really want to know how. I just wanna know what are the basics. Please do Share. Thank you.</p>\n"},{"tags":["java","jwt","jjwt"],"answers":[{"tags":[],"owner":{"account_id":14439307,"reputation":1,"user_id":22993334,"display_name":"Leo Barreto"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701089153,"creation_date":1701089153,"answer_id":77556999,"question_id":77350596,"body_markdown":"Can you try this:\r\n\r\n    var parser = Jwts.parser().verifyWith(getKey()).build();\r\n    return  parser.parseSignedClaims(token).getPayload();","title":"Cannot parse JWT by new version of jjwt library","body":"<p>Can you try this:</p>\n<pre><code>var parser = Jwts.parser().verifyWith(getKey()).build();\nreturn  parser.parseSignedClaims(token).getPayload();\n</code></pre>\n"}],"owner":{"account_id":2073128,"reputation":427,"user_id":1847148,"accept_rate":25,"display_name":"b3lowster"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":366,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1701089153,"creation_date":1698136469,"question_id":77350596,"body_markdown":"I&#39;ve updated jjwt to version 0.12.3. I use a keystore PKCS12 to sign jwt and validate it. But now I&#39;m getting errror: ***JWS verification key must be either a SecretKey (for MAC algorithms) or a PublicKey (for Signature algorithms).*** Everything works fine on the version 0.9.1\r\n\r\n```\r\nprivate static Key getKey() throws Exception {\r\n        KeyStore keystore = KeyStore.getInstance(&quot;PKCS12&quot;);\r\n        keystore.load(GenerateValidateKey.class.getResourceAsStream(&quot;/test.p12&quot;), &quot;test&quot;.toCharArray());\r\n        Enumeration aliases = keystore.aliases();\r\n        String keyAlias = &quot;&quot;;\r\n        while (aliases.hasMoreElements()) {\r\n            keyAlias = (String) aliases.nextElement();\r\n        }\r\n        return keystore.getKey(keyAlias, &quot;test&quot;.toCharArray());\r\n    }\r\n```\r\n\r\n```\r\nMap&lt;String, Object&gt; claims = new HashMap&lt;&gt;();\r\n            claims.put(&quot;aud&quot;, &quot;test&quot;);\r\n            claims.put(&quot;sub&quot;, &quot;test&quot;);\r\n\r\nString token = Jwts.builder().signWith(SignatureAlgorithm.RS256, getKey())\r\n                    .setSubject(&quot;test&quot;)\r\n                    .setExpiration(Date.from(expiration.atStartOfDay(ZoneId.systemDefault()).toInstant()))\r\n                    .setIssuedAt(Date.from(now.atStartOfDay(ZoneId.systemDefault()).toInstant()))\r\n                    .setClaims(claims)\r\n                    .compact();\r\n```\r\n\r\n```\r\nClaims claims = Jwts.parser()\r\n                                .setSigningKey(getKey())\r\n                                .requireAudience(&quot;test&quot;)\r\n                                .build()\r\n                                .parseClaimsJws(token)\r\n                                .getBody();\r\n```","title":"Cannot parse JWT by new version of jjwt library","body":"<p>I've updated jjwt to version 0.12.3. I use a keystore PKCS12 to sign jwt and validate it. But now I'm getting errror: <em><strong>JWS verification key must be either a SecretKey (for MAC algorithms) or a PublicKey (for Signature algorithms).</strong></em> Everything works fine on the version 0.9.1</p>\n<pre><code>private static Key getKey() throws Exception {\n        KeyStore keystore = KeyStore.getInstance(&quot;PKCS12&quot;);\n        keystore.load(GenerateValidateKey.class.getResourceAsStream(&quot;/test.p12&quot;), &quot;test&quot;.toCharArray());\n        Enumeration aliases = keystore.aliases();\n        String keyAlias = &quot;&quot;;\n        while (aliases.hasMoreElements()) {\n            keyAlias = (String) aliases.nextElement();\n        }\n        return keystore.getKey(keyAlias, &quot;test&quot;.toCharArray());\n    }\n</code></pre>\n<pre><code>Map&lt;String, Object&gt; claims = new HashMap&lt;&gt;();\n            claims.put(&quot;aud&quot;, &quot;test&quot;);\n            claims.put(&quot;sub&quot;, &quot;test&quot;);\n\nString token = Jwts.builder().signWith(SignatureAlgorithm.RS256, getKey())\n                    .setSubject(&quot;test&quot;)\n                    .setExpiration(Date.from(expiration.atStartOfDay(ZoneId.systemDefault()).toInstant()))\n                    .setIssuedAt(Date.from(now.atStartOfDay(ZoneId.systemDefault()).toInstant()))\n                    .setClaims(claims)\n                    .compact();\n</code></pre>\n<pre><code>Claims claims = Jwts.parser()\n                                .setSigningKey(getKey())\n                                .requireAudience(&quot;test&quot;)\n                                .build()\n                                .parseClaimsJws(token)\n                                .getBody();\n</code></pre>\n"},{"tags":["java","spring-boot","kotlin","spring-data-jpa"],"comments":[{"owner":{"account_id":5613556,"reputation":2315,"user_id":4445625,"accept_rate":50,"display_name":"Marc Stroebel"},"score":0,"creation_date":1701088387,"post_id":77556876,"comment_id":136727619,"body_markdown":"are there any jpa related entries in application.properties file? Is it packaged into the jar? Adjust class path settings if running from cmdline to include the properties file","body":"are there any jpa related entries in application.properties file? Is it packaged into the jar? Adjust class path settings if running from cmdline to include the properties file"},{"owner":{"account_id":9181835,"reputation":355,"user_id":6825377,"accept_rate":33,"display_name":"Rishi S"},"score":0,"creation_date":1701088955,"post_id":77556876,"comment_id":136727712,"body_markdown":"Yes, the application.yaml is packaged in the jar. The JPA entries are here :","body":"Yes, the application.yaml is packaged in the jar. The JPA entries are here :"},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1701089857,"post_id":77556876,"comment_id":136727874,"body_markdown":"Which Spring version are you using? Can you reproduce the issue using a new project from Spring Initializr? Does changing `@ConfigurationPropertiesScan( &quot;com.myapp.workspace.config&quot; )` to `@ConfigurationPropertiesScan( &quot;com.myapp.workspace&quot; )` change anything?","body":"Which Spring version are you using? Can you reproduce the issue using a new project from Spring Initializr? Does changing <code>@ConfigurationPropertiesScan( &quot;com.myapp.workspace.config&quot; )</code> to <code>@ConfigurationPropertiesScan( &quot;com.myapp.workspace&quot; )</code> change anything?"},{"owner":{"account_id":9181835,"reputation":355,"user_id":6825377,"accept_rate":33,"display_name":"Rishi S"},"score":0,"creation_date":1701090501,"post_id":77556876,"comment_id":136727983,"body_markdown":"Spring boot v 3.1.2 . Using @ConfigurationPropertiesScan( &quot;com.myapp.workspace&quot; ) does not change anything. Apparently it is something to do with the way the jar got generated or the dependencies associated with it since the code runs fine when i do a gradlew bootRun","body":"Spring boot v 3.1.2 . Using @ConfigurationPropertiesScan( &quot;com.myapp.workspace&quot; ) does not change anything. Apparently it is something to do with the way the jar got generated or the dependencies associated with it since the code runs fine when i do a gradlew bootRun"},{"owner":{"account_id":3430916,"reputation":3799,"user_id":3059385,"accept_rate":40,"display_name":"Christopher Schneider"},"score":1,"creation_date":1701100861,"post_id":77556876,"comment_id":136730264,"body_markdown":"Almost assured that something is getting omitted from your jar. I would inspect your  jar to make sure everything you expect is there. There&#39;s not enough information here to answer your question. Would need to see how you&#39;re building your jar. When you run in IntelliJ by the way, you can see the launch parameters in the first line. It&#39;s truncated by default.","body":"Almost assured that something is getting omitted from your jar. I would inspect your  jar to make sure everything you expect is there. There&#39;s not enough information here to answer your question. Would need to see how you&#39;re building your jar. When you run in IntelliJ by the way, you can see the launch parameters in the first line. It&#39;s truncated by default."},{"owner":{"account_id":9181835,"reputation":355,"user_id":6825377,"accept_rate":33,"display_name":"Rishi S"},"score":0,"creation_date":1701144923,"post_id":77556876,"comment_id":136735978,"body_markdown":"Resolved the issue by using the plain jar generated by the gradle build and pointing to dependencies jar folder in the classpath, instead of using the fat jar generated by gradle bootJar. Thanks for the inputs.","body":"Resolved the issue by using the plain jar generated by the gradle build and pointing to dependencies jar folder in the classpath, instead of using the fat jar generated by gradle bootJar. Thanks for the inputs."}],"owner":{"account_id":9181835,"reputation":355,"user_id":6825377,"accept_rate":33,"display_name":"Rishi S"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701089074,"creation_date":1701087828,"question_id":77556876,"body_markdown":"I have a springboot application that runs fine  (using JPA) from IntelliJ and also using gradlew bootRun from the command line. \r\nHowwever, when I generate jars for the application using bootJar and run the application using java -cp &lt;path to the folder with all dependencies including spring&gt; I see that Spring does not find the JPA repositories : \r\n\r\n    @SpringBootApplication\r\n    @EnableAutoConfiguration\r\n    @ComponentScan( basePackages = [ &quot;com.myapp.workspace&quot;] )\r\n    @ConfigurationPropertiesScan( &quot;com.myapp.workspace.config&quot; )\r\n    @EnableConfigurationProperties(Settings::class, Git::class, RTC::class)\r\n    public class MyMain(\r\n           @Autowired\r\n    \t\tprivate val projectAreaRepository: ProjectAreaRepository,\r\n\r\n\r\nThe projectAreaRespository is in com.myapp.workspace.repository. The command line I am using is:\r\n\r\n    java -cp c:\\jars\\* com.myapp.workspace.MyMain\r\n\r\nThis code runs perfectly fine when I do a gradlew bootRun from the command line. Also from inside IntelliJ. So I assume all my annotations are correct.\r\n\r\nThe log shows : \r\n\r\n    2023-11-27T17:20:09.145+05:30 DEBUG 26900 --- [           main] s.c.a.AnnotationConfigApplicationContext : Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@30ea8c23\r\n    2023-11-27T17:20:09.689+05:30  INFO 26900 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n    2023-11-27T17:20:09.705+05:30  INFO 26900 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 13 ms. Found 0 JPA repository interfaces.\r\nAnd further down : \r\n\r\n    Parameter 2 of constructor in com.myapp.workspace.MyMain required a bean of type &#39;com.myapp.workspace.repository.ProjectAreaRepository&#39; that could not be found.\r\n    \r\n    The injection point has the following annotations:\r\n            - @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n    \r\n    \r\n        Action:\r\n        \r\n        Consider defining a bean of type &#39;com.myapp.workspace.repository.ProjectAreaRepository&#39; in your configuration.\r\n        \r\n        2023-11-27T17:20:11.503+05:30 ERROR 26900 --- [           main] c.i.r.workspace.MyMain$Companion  : Error creating bean with name &#39;myMain&#39;: Unsatisfied dependency expressed through constructor parameter 2: No qualifying bean of type &#39;com.myapp.workspace.repository.ProjectAreaRepository&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n        \r\n        org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;myMain&#39;: Unsatisfied dependency expressed through constructor parameter 2: No qualifying bean of type &#39;com.myapp.workspace.repository.ProjectAreaRepository&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n                at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\r\nAny hints on what could be wrong is highly appreciated.\r\n\r\n Following JPA entries are in the application.yaml and the yaml is as well part of the jar :\r\n\r\nThe JPA entries are here :\r\n\r\n  \r\n\r\n      datasource:\r\n            driverClassName: org.h2.Driver\r\n            url: jdbc:h2:./DataSpring/rtc.workspace.h2;AUTO_SERVER=TRUE\r\n            username: sa\r\n            password: sa\r\n        jpa:\r\n            database-platform: org.hibernate.dialect.H2Dialect\r\n            hibernate:\r\n                ddl-auto: update\r\n            open-in-view: false\r\n            show-sql: false\r\n            properties:\r\n                hibernate:\r\n                    enable_lazy_load_no_trans: true\r\n        h2:\r\n            console:\r\n                enabled: true\r\n                path:    /h2-console\r\n                settings:\r\n                    trace: true\r\n                    web-allow-others: true\r\n\r\n","title":"Springboot application does not find JPA repositories when run from command line jar","body":"<p>I have a springboot application that runs fine  (using JPA) from IntelliJ and also using gradlew bootRun from the command line.\nHowwever, when I generate jars for the application using bootJar and run the application using java -cp  I see that Spring does not find the JPA repositories :</p>\n<pre><code>@SpringBootApplication\n@EnableAutoConfiguration\n@ComponentScan( basePackages = [ &quot;com.myapp.workspace&quot;] )\n@ConfigurationPropertiesScan( &quot;com.myapp.workspace.config&quot; )\n@EnableConfigurationProperties(Settings::class, Git::class, RTC::class)\npublic class MyMain(\n       @Autowired\n        private val projectAreaRepository: ProjectAreaRepository,\n</code></pre>\n<p>The projectAreaRespository is in com.myapp.workspace.repository. The command line I am using is:</p>\n<pre><code>java -cp c:\\jars\\* com.myapp.workspace.MyMain\n</code></pre>\n<p>This code runs perfectly fine when I do a gradlew bootRun from the command line. Also from inside IntelliJ. So I assume all my annotations are correct.</p>\n<p>The log shows :</p>\n<pre><code>2023-11-27T17:20:09.145+05:30 DEBUG 26900 --- [           main] s.c.a.AnnotationConfigApplicationContext : Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@30ea8c23\n2023-11-27T17:20:09.689+05:30  INFO 26900 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2023-11-27T17:20:09.705+05:30  INFO 26900 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 13 ms. Found 0 JPA repository interfaces.\n</code></pre>\n<p>And further down :</p>\n<pre><code>Parameter 2 of constructor in com.myapp.workspace.MyMain required a bean of type 'com.myapp.workspace.repository.ProjectAreaRepository' that could not be found.\n\nThe injection point has the following annotations:\n        - @org.springframework.beans.factory.annotation.Autowired(required=true)\n\n\n    Action:\n    \n    Consider defining a bean of type 'com.myapp.workspace.repository.ProjectAreaRepository' in your configuration.\n    \n    2023-11-27T17:20:11.503+05:30 ERROR 26900 --- [           main] c.i.r.workspace.MyMain$Companion  : Error creating bean with name 'myMain': Unsatisfied dependency expressed through constructor parameter 2: No qualifying bean of type 'com.myapp.workspace.repository.ProjectAreaRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\n    \n    org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'myMain': Unsatisfied dependency expressed through constructor parameter 2: No qualifying bean of type 'com.myapp.workspace.repository.ProjectAreaRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\n            at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-6.0.11.jar:6.0.11]\n</code></pre>\n<p>Any hints on what could be wrong is highly appreciated.</p>\n<p>Following JPA entries are in the application.yaml and the yaml is as well part of the jar :</p>\n<p>The JPA entries are here :</p>\n<pre><code>  datasource:\n        driverClassName: org.h2.Driver\n        url: jdbc:h2:./DataSpring/rtc.workspace.h2;AUTO_SERVER=TRUE\n        username: sa\n        password: sa\n    jpa:\n        database-platform: org.hibernate.dialect.H2Dialect\n        hibernate:\n            ddl-auto: update\n        open-in-view: false\n        show-sql: false\n        properties:\n            hibernate:\n                enable_lazy_load_no_trans: true\n    h2:\n        console:\n            enabled: true\n            path:    /h2-console\n            settings:\n                trace: true\n                web-allow-others: true\n</code></pre>\n"},{"tags":["java","amazon-web-services","amazon-s3","spring-batch"],"comments":[{"owner":{"account_id":368650,"reputation":3742,"user_id":715592,"accept_rate":71,"display_name":"NullPointerException"},"score":0,"creation_date":1588122910,"post_id":50685891,"comment_id":108777531,"body_markdown":"looking for same solution but still not much results in 2020. were you able to figure out how to stream to a file on S3","body":"looking for same solution but still not much results in 2020. were you able to figure out how to stream to a file on S3"},{"owner":{"account_id":368650,"reputation":3742,"user_id":715592,"accept_rate":71,"display_name":"NullPointerException"},"score":0,"creation_date":1643129145,"post_id":50685891,"comment_id":125255584,"body_markdown":"Again in 2022, but no answers","body":"Again in 2022, but no answers"}],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1701089074,"creation_date":1551453831,"answer_id":54947585,"question_id":50685891,"body_markdown":"[Spring Cloud AWS adds](http://cloud.spring.io/spring-cloud-static/spring-cloud-aws/1.2.3.RELEASE/multi/multi__resource_handling.html#_resource_handling) support for the Amazon S3 service to load and write resources with the resource loader and the s3 protocol. Once you have [configured the AWS resource loader](http://cloud.spring.io/spring-cloud-static/spring-cloud-aws/1.2.3.RELEASE/multi/multi__resource_handling.html#_configuring_the_resource_loader), you can write a custom Spring Batch writer like:\r\n\r\n    import java.io.OutputStream;\r\n    import java.util.List;\r\n    \r\n    import org.springframework.batch.item.ItemWriter;\r\n    import org.springframework.core.io.ResourceLoader;\r\n    import org.springframework.core.io.WritableResource;\r\n    \r\n    public class AwsS3ItemWriter implements ItemWriter&lt;String&gt; {\r\n    \r\n    \tprivate ResourceLoader resourceLoader;\r\n    \r\n    \tprivate WritableResource resource;\r\n    \r\n    \tpublic AwsS3ItemWriter(ResourceLoader resourceLoader, String resource) {\r\n    \t\tthis.resourceLoader = resourceLoader;\r\n    \t\tthis.resource = (WritableResource) this.resourceLoader.getResource(resource);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void write(List&lt;? extends String&gt; items) throws Exception {\r\n    \t\ttry (OutputStream outputStream = resource.getOutputStream()) {\r\n    \t\t\tfor (String item : items) {\r\n    \t\t\t\toutputStream.write(item.getBytes());\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nThen you should be able to use this writer with an S3 resource like `s3://myBucket/myFile.log`.\r\n\r\n&gt; Is there anyway we can do that ?\r\n\r\nPlease note that I did not compile/test the previous code. I just wanted to give you a starting point of how to do it.\r\n\r\n**EDIT:** The previous snippet might write a file per chunk, which is not correct. Here is an updated version where the output stream is initialized only once.\r\n\r\n\r\n```\r\nimport java.io.IOException;\r\nimport java.io.OutputStream;\r\n\r\nimport org.springframework.batch.item.Chunk;\r\nimport org.springframework.batch.item.ExecutionContext;\r\nimport org.springframework.batch.item.ItemStreamException;\r\nimport org.springframework.batch.item.ItemStreamWriter;\r\nimport org.springframework.core.io.WritableResource;\r\n\r\npublic class AwsS3ItemWriter implements ItemStreamWriter&lt;String&gt; {\r\n\r\n    private final WritableResource resource;\r\n\r\n    private OutputStream outputStream;\r\n\r\n    @Override\r\n    public void open(ExecutionContext executionContext) throws ItemStreamException {\r\n        try {\r\n            this.outputStream = resource.getOutputStream();\r\n        } catch (IOException e) {\r\n            throw new ItemStreamException(&quot;Unable to get output stream&quot;, e);\r\n        }\r\n    }\r\n\r\n    public AwsS3ItemWriter(WritableResource resource) {\r\n        this.resource = resource;\r\n    }\r\n\r\n    @Override\r\n    public void write(Chunk&lt;? extends String&gt; items) throws Exception {\r\n        for (String item : items) {\r\n            outputStream.write(item.getBytes());\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void close() throws ItemStreamException {\r\n        try {\r\n            outputStream.close();\r\n        } catch (IOException e) {\r\n            throw new ItemStreamException(&quot;Unable to close output stream&quot;, e);\r\n        }\r\n    }\r\n    \r\n}\r\n```","title":"spring batch file writer to write directly to amazon s3 storage without PutObjectRequest","body":"<p><a href=\"http://cloud.spring.io/spring-cloud-static/spring-cloud-aws/1.2.3.RELEASE/multi/multi__resource_handling.html#_resource_handling\" rel=\"nofollow noreferrer\">Spring Cloud AWS adds</a> support for the Amazon S3 service to load and write resources with the resource loader and the s3 protocol. Once you have <a href=\"http://cloud.spring.io/spring-cloud-static/spring-cloud-aws/1.2.3.RELEASE/multi/multi__resource_handling.html#_configuring_the_resource_loader\" rel=\"nofollow noreferrer\">configured the AWS resource loader</a>, you can write a custom Spring Batch writer like:</p>\n<pre><code>import java.io.OutputStream;\nimport java.util.List;\n\nimport org.springframework.batch.item.ItemWriter;\nimport org.springframework.core.io.ResourceLoader;\nimport org.springframework.core.io.WritableResource;\n\npublic class AwsS3ItemWriter implements ItemWriter&lt;String&gt; {\n\n    private ResourceLoader resourceLoader;\n\n    private WritableResource resource;\n\n    public AwsS3ItemWriter(ResourceLoader resourceLoader, String resource) {\n        this.resourceLoader = resourceLoader;\n        this.resource = (WritableResource) this.resourceLoader.getResource(resource);\n    }\n\n    @Override\n    public void write(List&lt;? extends String&gt; items) throws Exception {\n        try (OutputStream outputStream = resource.getOutputStream()) {\n            for (String item : items) {\n                outputStream.write(item.getBytes());\n            }\n        }\n    }\n}\n</code></pre>\n<p>Then you should be able to use this writer with an S3 resource like <code>s3://myBucket/myFile.log</code>.</p>\n<blockquote>\n<p>Is there anyway we can do that ?</p>\n</blockquote>\n<p>Please note that I did not compile/test the previous code. I just wanted to give you a starting point of how to do it.</p>\n<p><strong>EDIT:</strong> The previous snippet might write a file per chunk, which is not correct. Here is an updated version where the output stream is initialized only once.</p>\n<pre><code>import java.io.IOException;\nimport java.io.OutputStream;\n\nimport org.springframework.batch.item.Chunk;\nimport org.springframework.batch.item.ExecutionContext;\nimport org.springframework.batch.item.ItemStreamException;\nimport org.springframework.batch.item.ItemStreamWriter;\nimport org.springframework.core.io.WritableResource;\n\npublic class AwsS3ItemWriter implements ItemStreamWriter&lt;String&gt; {\n\n    private final WritableResource resource;\n\n    private OutputStream outputStream;\n\n    @Override\n    public void open(ExecutionContext executionContext) throws ItemStreamException {\n        try {\n            this.outputStream = resource.getOutputStream();\n        } catch (IOException e) {\n            throw new ItemStreamException(&quot;Unable to get output stream&quot;, e);\n        }\n    }\n\n    public AwsS3ItemWriter(WritableResource resource) {\n        this.resource = resource;\n    }\n\n    @Override\n    public void write(Chunk&lt;? extends String&gt; items) throws Exception {\n        for (String item : items) {\n            outputStream.write(item.getBytes());\n        }\n    }\n\n    @Override\n    public void close() throws ItemStreamException {\n        try {\n            outputStream.close();\n        } catch (IOException e) {\n            throw new ItemStreamException(&quot;Unable to close output stream&quot;, e);\n        }\n    }\n    \n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1618127,"reputation":169,"user_id":1495253,"accept_rate":80,"display_name":"wild"},"score":4,"creation_date":1573952818,"post_id":55283039,"comment_id":104057956,"body_markdown":"You have to take output steam reference in the constructor,then it will write all the list of items (all chunks),, if you have it in the write method then it will print only last chunked items","body":"You have to take output steam reference in the constructor,then it will write all the list of items (all chunks),, if you have it in the write method then it will print only last chunked items"}],"tags":[],"owner":{"account_id":11867601,"reputation":67,"user_id":8684705,"display_name":"pi lak"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1553179393,"creation_date":1553179393,"answer_id":55283039,"question_id":50685891,"body_markdown":"The problem is that the ***OutputStream*** will only write the last ***List&lt;? extends String&gt; items*** sent by the step...\r\nI think you might need to write a temporary file on file system and then send the whole file in a separate tasklet\r\n\r\nSee this example : \r\nhttps://github.com/TerrenceMiao/AWS/blob/master/dynamodb-java/src/main/java/org/paradise/microservice/userpreference/service/writer/CSVFileWriter.java","title":"spring batch file writer to write directly to amazon s3 storage without PutObjectRequest","body":"<p>The problem is that the <strong><em>OutputStream</em></strong> will only write the last <strong><em>List items</em></strong> sent by the step...\nI think you might need to write a temporary file on file system and then send the whole file in a separate tasklet</p>\n\n<p>See this example : \n<a href=\"https://github.com/TerrenceMiao/AWS/blob/master/dynamodb-java/src/main/java/org/paradise/microservice/userpreference/service/writer/CSVFileWriter.java\" rel=\"nofollow noreferrer\">https://github.com/TerrenceMiao/AWS/blob/master/dynamodb-java/src/main/java/org/paradise/microservice/userpreference/service/writer/CSVFileWriter.java</a></p>\n"},{"comments":[{"owner":{"account_id":368650,"reputation":3742,"user_id":715592,"accept_rate":71,"display_name":"NullPointerException"},"score":1,"creation_date":1588123360,"post_id":59784170,"comment_id":108777634,"body_markdown":"Could you share how you passed your filled S3Resource to next step once it is populated by the writer","body":"Could you share how you passed your filled S3Resource to next step once it is populated by the writer"}],"tags":[],"owner":{"account_id":17549638,"reputation":11,"user_id":12730292,"display_name":"Nephanis"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1579252029,"creation_date":1579252029,"answer_id":59784170,"question_id":50685891,"body_markdown":"I had the same thing to do. Because spring has no clas to write to a stream alone I made one my self like above example:\r\n\r\nYou need to classes for this. A Resource class which implements WriteableResource and extends AbstractResource:\r\n\r\n...\r\n\r\n    public class S3Resource extends AbstractResource implements WritableResource {\r\n    \r\n       ByteArrayOutputStream resource = new ByteArrayOutputStream();\r\n    \r\n        @Override\r\n        public String getDescription() {\r\n            return null;\r\n        }\r\n    \r\n        @Override\r\n        public InputStream getInputStream() throws IOException {\r\n            return new ByteArrayInputStream(resource.toByteArray());\r\n        }\r\n    \r\n        @Override\r\n        public OutputStream getOutputStream() throws IOException {\r\n            return resource;\r\n        }\r\n    }\r\n\r\nAnd your writer which extends ItemWriter&lt;T&gt;:\r\n\r\n\r\n    public class AmazonStreamWriter&lt;T&gt; implements ItemWriter&lt;T&gt;{\r\n    \r\n        private WritableResource resource;\r\n        private LineAggregator&lt;T&gt; lineAggregator;\r\n        private String lineSeparator;\r\n    \r\n        public String getLineSeparator() {\r\n            return lineSeparator;\r\n        }\r\n    \r\n        public void setLineSeparator(String lineSeparator) {\r\n            this.lineSeparator = lineSeparator;\r\n        }\r\n    \r\n        AmazonStreamWriter(WritableResource resource){\r\n            this.resource = resource;\r\n        }\r\n    \r\n        public WritableResource getResource() {\r\n            return resource;\r\n        }\r\n    \r\n        public void setResource(WritableResource resource) {\r\n            this.resource = resource;\r\n        }\r\n    \r\n        public LineAggregator&lt;T&gt; getLineAggregator() {\r\n            return lineAggregator;\r\n        }\r\n    \r\n        public void setLineAggregator(LineAggregator&lt;T&gt; lineAggregator) {\r\n            this.lineAggregator = lineAggregator;\r\n        }\r\n    \r\n        @Override\r\n        public void write(List&lt;? extends T&gt; items) throws Exception {\r\n            try (OutputStream outputStream = resource.getOutputStream()) {\r\n                    StringBuilder lines = new StringBuilder();\r\n                    Iterator var3 = items.iterator();\r\n    \r\n                    while(var3.hasNext()) {\r\n                        T item = (T) var3.next();\r\n    lines.append(this.lineAggregator.aggregate(item)).append(this.lineSeparator);\r\n                    }\r\n                    outputStream.write(lines.toString().getBytes());\r\n            }\r\n        }\r\n    }\r\n\r\nWith this setup you will write your Item-Information you recieve from your database and write it to your Customresource via an OutputStream. The filled resource then can be used in one of your Steps zu open an InputStream and upload to S3 via Client.\r\nI did it with:   `amazonS3.putObject(awsBucketName, awsBucketKey , resource.getInputStream(), new ObjectMetadata());`\r\n\r\nMy solution may be not the perfect aproach, but from here on you can optimize it.\r\n","title":"spring batch file writer to write directly to amazon s3 storage without PutObjectRequest","body":"<p>I had the same thing to do. Because spring has no clas to write to a stream alone I made one my self like above example:</p>\n\n<p>You need to classes for this. A Resource class which implements WriteableResource and extends AbstractResource:</p>\n\n<p>...</p>\n\n<pre><code>public class S3Resource extends AbstractResource implements WritableResource {\n\n   ByteArrayOutputStream resource = new ByteArrayOutputStream();\n\n    @Override\n    public String getDescription() {\n        return null;\n    }\n\n    @Override\n    public InputStream getInputStream() throws IOException {\n        return new ByteArrayInputStream(resource.toByteArray());\n    }\n\n    @Override\n    public OutputStream getOutputStream() throws IOException {\n        return resource;\n    }\n}\n</code></pre>\n\n<p>And your writer which extends ItemWriter:</p>\n\n<pre><code>public class AmazonStreamWriter&lt;T&gt; implements ItemWriter&lt;T&gt;{\n\n    private WritableResource resource;\n    private LineAggregator&lt;T&gt; lineAggregator;\n    private String lineSeparator;\n\n    public String getLineSeparator() {\n        return lineSeparator;\n    }\n\n    public void setLineSeparator(String lineSeparator) {\n        this.lineSeparator = lineSeparator;\n    }\n\n    AmazonStreamWriter(WritableResource resource){\n        this.resource = resource;\n    }\n\n    public WritableResource getResource() {\n        return resource;\n    }\n\n    public void setResource(WritableResource resource) {\n        this.resource = resource;\n    }\n\n    public LineAggregator&lt;T&gt; getLineAggregator() {\n        return lineAggregator;\n    }\n\n    public void setLineAggregator(LineAggregator&lt;T&gt; lineAggregator) {\n        this.lineAggregator = lineAggregator;\n    }\n\n    @Override\n    public void write(List&lt;? extends T&gt; items) throws Exception {\n        try (OutputStream outputStream = resource.getOutputStream()) {\n                StringBuilder lines = new StringBuilder();\n                Iterator var3 = items.iterator();\n\n                while(var3.hasNext()) {\n                    T item = (T) var3.next();\nlines.append(this.lineAggregator.aggregate(item)).append(this.lineSeparator);\n                }\n                outputStream.write(lines.toString().getBytes());\n        }\n    }\n}\n</code></pre>\n\n<p>With this setup you will write your Item-Information you recieve from your database and write it to your Customresource via an OutputStream. The filled resource then can be used in one of your Steps zu open an InputStream and upload to S3 via Client.\nI did it with:   <code>amazonS3.putObject(awsBucketName, awsBucketKey , resource.getInputStream(), new ObjectMetadata());</code></p>\n\n<p>My solution may be not the perfect aproach, but from here on you can optimize it.</p>\n"}],"owner":{"account_id":4336322,"reputation":175,"user_id":3540722,"display_name":"user3540722"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7672,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1701089074,"creation_date":1528133560,"question_id":50685891,"body_markdown":"I&#39;m trying to upload a file to amazon s3. Instead of uploading, I want to read the data from database using spring batch and write the file directly into the s3 storage. Is there anyway we can do that ?","title":"spring batch file writer to write directly to amazon s3 storage without PutObjectRequest","body":"<p>I'm trying to upload a file to amazon s3. Instead of uploading, I want to read the data from database using spring batch and write the file directly into the s3 storage. Is there anyway we can do that ?</p>\n"},{"tags":["java","spring","spring-boot","spring-context"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1701088825,"post_id":77556963,"comment_id":136727691,"body_markdown":"Your test doesn&#39;t make sense. You are using `@SpringBootTest` but are starting the application yourself in an `@BeforeClass`. You should ditch your `@BeforeClass` as that doesn&#39;t make sense and renders the `@SpringBootTest` useless.","body":"Your test doesn&#39;t make sense. You are using <code>@SpringBootTest</code> but are starting the application yourself in an <code>@BeforeClass</code>. You should ditch your <code>@BeforeClass</code> as that doesn&#39;t make sense and renders the <code>@SpringBootTest</code> useless."},{"owner":{"account_id":24068880,"reputation":1,"user_id":20652402,"display_name":"bb-bb-1"},"score":0,"creation_date":1701089435,"post_id":77556963,"comment_id":136727792,"body_markdown":"How Can I do that, I am not able to understand since this code was written by old age developers. :) ? please help","body":"How Can I do that, I am not able to understand since this code was written by old age developers. :) ? please help"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1701090047,"post_id":77556963,"comment_id":136727904,"body_markdown":"As stated your test is pointless. The `@SpringBootTest` is useless due to the code in the `@BeforeClass` start by removing that method, as that will use the `@SpringBootTest` your current test doesn&#39;t. I also wonder what it tests, as it looks like an integration tests but a lot of mocking is going on.","body":"As stated your test is pointless. The <code>@SpringBootTest</code> is useless due to the code in the <code>@BeforeClass</code> start by removing that method, as that will use the <code>@SpringBootTest</code> your current test doesn&#39;t. I also wonder what it tests, as it looks like an integration tests but a lot of mocking is going on."}],"owner":{"account_id":24068880,"reputation":1,"user_id":20652402,"display_name":"bb-bb-1"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701088720,"creation_date":1701088720,"question_id":77556963,"body_markdown":"I have my Test cases written like this\r\n\r\n```\r\n@RunWith(SpringJUnit4ClassRunner.class)\r\n@SpringBootTest(classes = { Application.class }, webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n@DirtiesContext(classMode = DirtiesContext.ClassMode.AFTER_CLASS)\r\n@TestPropertySource(locations = {&quot;file:../config/abc.properties&quot;,\r\n        &quot;classpath:abc-override.properties&quot;})\r\npublic abstract class AbstractTest\r\n{\r\n    static final Mockery mockery = new Mockery()\r\n    {\r\n        {\r\n            setImposteriser(ClassImposteriser.INSTANCE);\r\n        }\r\n    };\r\n\r\n    static RestTemplate restTemplate = mockery.mock(RestTemplate.class);\r\n\r\n    private static MongoClient mongoClient;\r\n\r\n    static ConfigurableApplicationContext context;\r\n\r\n    @BeforeClass\r\n    public static void start()\r\n    {\r\n \r\n        EmbeddedMongo embeddedMongo = new EmbeddedMongo(EmbeddedMongoDefaultConfiguration.instance());\r\n        mongoClient = embeddedMongo.start();\r\n\r\n        String[] args = { &quot;--server.port=&quot; + SocketUtils.findAvailableTcpPort(8000, 9000) };\r\n        // below is line #131\r\n        context = SpringApplication.run(Application.class, args);//Error coming on this line\r\n        \r\n        Module&lt;?&gt; module = context.getBean(Module.class);\r\n       \r\n    }\r\n\r\n    @Test\r\n    public void sample_test() {\r\n\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nGetting below issue:\r\n```\r\norg.springframework.cloud.commons.ConfigDataMissingEnvironmentPostProcessor$ImportException: No spring.config.import set\r\n\r\nat org.springframework.cloud.commons.ConfigDataMissingEnvironmentPostProcessor.postProcessEnvironment(ConfigDataMissingEnvironmentPostProcessor.java:79)\r\nat com.abc.AbstractTest.start(AbstractTest.java:131) -&gt; I have indicated in previous code the line no 131, please see\r\n```\r\n\r\n\r\nMy Project structure looks like this:\r\n\r\n[project structure][1]\r\n\r\n\r\nMy abc-override.properties has this content:\r\n```\r\n# Logging levels across packages (optional)\r\nlogging.level.root=WARN\r\nspring.cloud.config.import-check.enabled=false\r\n\r\n```\r\n\r\n\r\nIn the test case I am confident that @TestPropertySource is correct and it will load the properties properly since I have used this lot of times.\r\n```\r\n@TestPropertySource(locations = {&quot;file:../config/abc.properties&quot;,\r\n        &quot;classpath:abc-override.properties&quot;})\r\n\r\n```\r\n\r\nI have investigated the issue of **No spring.config.import set**.\r\n\r\n**Issue is** my test is loading the context in static way and that is creating the problem and and it&#39;s not loading config so spring.cloud.import set to false is not active\r\n\r\nIt is loading context like this:\r\n\r\n ```\r\n// below is line #131\r\n context = SpringApplication.run(Application.class, args);//Error coming on this line\r\n Module&lt;?&gt; module = context.getBean(Module.class);\r\n```\r\n\r\nMy Goal is how can I write this test in better way so that context will be loaded properly.\r\nI want to rewrite this unit test and load the context in a way the **abc.propertie**s and **abc-override.properties** are loaded first\r\n\r\nAny help would be highly appreciated. Thanks!\r\n\r\n  [1]: https://i.stack.imgur.com/S7zCn.pnga","title":"Config properties are not loaded with @SpringBootTest","body":"<p>I have my Test cases written like this</p>\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@SpringBootTest(classes = { Application.class }, webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\n@DirtiesContext(classMode = DirtiesContext.ClassMode.AFTER_CLASS)\n@TestPropertySource(locations = {&quot;file:../config/abc.properties&quot;,\n        &quot;classpath:abc-override.properties&quot;})\npublic abstract class AbstractTest\n{\n    static final Mockery mockery = new Mockery()\n    {\n        {\n            setImposteriser(ClassImposteriser.INSTANCE);\n        }\n    };\n\n    static RestTemplate restTemplate = mockery.mock(RestTemplate.class);\n\n    private static MongoClient mongoClient;\n\n    static ConfigurableApplicationContext context;\n\n    @BeforeClass\n    public static void start()\n    {\n \n        EmbeddedMongo embeddedMongo = new EmbeddedMongo(EmbeddedMongoDefaultConfiguration.instance());\n        mongoClient = embeddedMongo.start();\n\n        String[] args = { &quot;--server.port=&quot; + SocketUtils.findAvailableTcpPort(8000, 9000) };\n        // below is line #131\n        context = SpringApplication.run(Application.class, args);//Error coming on this line\n        \n        Module&lt;?&gt; module = context.getBean(Module.class);\n       \n    }\n\n    @Test\n    public void sample_test() {\n\n    }\n}\n</code></pre>\n<p>Getting below issue:</p>\n<pre><code>org.springframework.cloud.commons.ConfigDataMissingEnvironmentPostProcessor$ImportException: No spring.config.import set\n\nat org.springframework.cloud.commons.ConfigDataMissingEnvironmentPostProcessor.postProcessEnvironment(ConfigDataMissingEnvironmentPostProcessor.java:79)\nat com.abc.AbstractTest.start(AbstractTest.java:131) -&gt; I have indicated in previous code the line no 131, please see\n</code></pre>\n<p>My Project structure looks like this:</p>\n<p><a href=\"https://i.stack.imgur.com/S7zCn.pnga\" rel=\"nofollow noreferrer\">project structure</a></p>\n<p>My abc-override.properties has this content:</p>\n<pre><code># Logging levels across packages (optional)\nlogging.level.root=WARN\nspring.cloud.config.import-check.enabled=false\n\n</code></pre>\n<p>In the test case I am confident that @TestPropertySource is correct and it will load the properties properly since I have used this lot of times.</p>\n<pre><code>@TestPropertySource(locations = {&quot;file:../config/abc.properties&quot;,\n        &quot;classpath:abc-override.properties&quot;})\n\n</code></pre>\n<p>I have investigated the issue of <strong>No spring.config.import set</strong>.</p>\n<p><strong>Issue is</strong> my test is loading the context in static way and that is creating the problem and and it's not loading config so spring.cloud.import set to false is not active</p>\n<p>It is loading context like this:</p>\n<pre><code>// below is line #131\ncontext = SpringApplication.run(Application.class, args);//Error coming on this line\nModule&lt;?&gt; module = context.getBean(Module.class);\n</code></pre>\n<p>My Goal is how can I write this test in better way so that context will be loaded properly.\nI want to rewrite this unit test and load the context in a way the <strong>abc.propertie</strong>s and <strong>abc-override.properties</strong> are loaded first</p>\n<p>Any help would be highly appreciated. Thanks!</p>\n"},{"tags":["java","spring-boot","spring-webflux","reactive-programming"],"comments":[{"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"score":0,"creation_date":1701084827,"post_id":77554885,"comment_id":136727000,"body_markdown":"Does `processStreamDataFlux` return Flux and `discordClient. ... .createMessage` - Mono?","body":"Does <code>processStreamDataFlux</code> return Flux and <code>discordClient. ... .createMessage</code> - Mono?"},{"owner":{"account_id":21726590,"reputation":41,"user_id":16035933,"display_name":"James K J"},"score":0,"creation_date":1701086983,"post_id":77554885,"comment_id":136727353,"body_markdown":"processStreamDataFlux returns flux and discordClient. ... .createMessage.  doesn&#39;t return anything. It just sends a message on doOnCompleteCall @gdomo","body":"processStreamDataFlux returns flux and discordClient. ... .createMessage.  doesn&#39;t return anything. It just sends a message on doOnCompleteCall @gdomo"}],"answers":[{"tags":[],"owner":{"account_id":15013161,"reputation":71,"user_id":10836980,"display_name":"Azn9"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701088719,"creation_date":1701088719,"answer_id":77556962,"question_id":77554885,"body_markdown":"Instead of using `doOnComplete` which is using a Runnable as parameter, you can use `collectList` which will return a Mono&lt;List&lt;?&gt;&gt;. After that, you can use `flatMap` on this Mono and call the `createMessage` as the return statement of the flat map.","title":"how to overcome blockOptional is blocking in spring web flux","body":"<p>Instead of using <code>doOnComplete</code> which is using a Runnable as parameter, you can use <code>collectList</code> which will return a Mono&lt;List&lt;?&gt;&gt;. After that, you can use <code>flatMap</code> on this Mono and call the <code>createMessage</code> as the return statement of the flat map.</p>\n"}],"owner":{"account_id":21726590,"reputation":41,"user_id":16035933,"display_name":"James K J"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701088719,"creation_date":1701066468,"question_id":77554885,"body_markdown":"I&#39;m currently working on a streaming exercise, and here&#39;s the situation: I&#39;m receiving a stream of tokens when I hit an endpoint, and my job is to save each of these tokens as they arrive. After the entire stream is processed, I need to use the Discord client to send the collected tokens to a Discord channel. I&#39;ve included the code signature below. The problem I&#39;m encountering is that `blockOptional() is causing blocking, and it&#39;s not supported in the reactor-http-nio-15 thread`. Any advice on how to address this issue would be greatly appreciated.\r\n\r\n\r\n```\r\nvar dataStream = chatBotRPCService.getResponseUsingStreaming(message.getContent());\r\n\r\n\r\n// data stream is of type Flux&lt;Object&gt;\r\n\r\n\r\nprocessStreamDataFlux(dataStream, message, chatBot, dmMessage, externalFunctionCallCount, answer, response)\r\n    .doOnComplete(() -&gt; {\r\n          \r\n           //send the accumulated tokens to discord  \r\n           \r\n           // The issue happens at the below line of code. \r\n\r\n           messageData = discordClient\r\n                    .getChannelById(Snowflake.of(message.getThreadId()))\r\n                    .createMessage(\r\n                            MultipartRequest.ofRequest(messageRequest\r\n                            )).blockOptional();\r\n       \r\n    })\r\n    .subscribe(tokens -&gt; {\r\n    });\r\n\r\n\r\n```\r\n\r\n\r\n`Issue: blockOptional() is blocking, which is not supported in thread reactor-http-nio-15`\r\n\r\n\r\ndiscord client is built on the package `https://github.com/Discord4J/Discord4J`\r\n","title":"how to overcome blockOptional is blocking in spring web flux","body":"<p>I'm currently working on a streaming exercise, and here's the situation: I'm receiving a stream of tokens when I hit an endpoint, and my job is to save each of these tokens as they arrive. After the entire stream is processed, I need to use the Discord client to send the collected tokens to a Discord channel. I've included the code signature below. The problem I'm encountering is that <code>blockOptional() is causing blocking, and it's not supported in the reactor-http-nio-15 thread</code>. Any advice on how to address this issue would be greatly appreciated.</p>\n<pre><code>var dataStream = chatBotRPCService.getResponseUsingStreaming(message.getContent());\n\n\n// data stream is of type Flux&lt;Object&gt;\n\n\nprocessStreamDataFlux(dataStream, message, chatBot, dmMessage, externalFunctionCallCount, answer, response)\n    .doOnComplete(() -&gt; {\n          \n           //send the accumulated tokens to discord  \n           \n           // The issue happens at the below line of code. \n\n           messageData = discordClient\n                    .getChannelById(Snowflake.of(message.getThreadId()))\n                    .createMessage(\n                            MultipartRequest.ofRequest(messageRequest\n                            )).blockOptional();\n       \n    })\n    .subscribe(tokens -&gt; {\n    });\n\n\n</code></pre>\n<p><code>Issue: blockOptional() is blocking, which is not supported in thread reactor-http-nio-15</code></p>\n<p>discord client is built on the package <code>https://github.com/Discord4J/Discord4J</code></p>\n"},{"tags":["java","multithreading","synchronization"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1701085486,"post_id":77556278,"comment_id":136727099,"body_markdown":"Comparing the result from `collatzLength()` with some sample value from https://challenges.wolframcloud.com/challenge/length-of-the-collatz-sequence it seems that `collatzLength()` returns the correct length. The question is: what should your counts A and B signify? Why do you expect the values 17 and 15 for those counts for the specified inputs?","body":"Comparing the result from <code>collatzLength()</code> with some sample value from <a href=\"https://challenges.wolframcloud.com/challenge/length-of-the-collatz-sequence\" rel=\"nofollow noreferrer\">challenges.wolframcloud.com/challenge/&hellip;</a> it seems that <code>collatzLength()</code> returns the correct length. The question is: what should your counts A and B signify? Why do you expect the values 17 and 15 for those counts for the specified inputs?"},{"owner":{"account_id":21892257,"reputation":1,"user_id":16179072,"display_name":"williamj987"},"score":0,"creation_date":1701086050,"post_id":77556278,"comment_id":136727184,"body_markdown":"Count A signifies a list length that is at least as large as half of the integer itself, and Count B signifies a list length that is less than half of the integer itself if that makes sense. And I expected 17 and 15 because I thought it would be logically correct.","body":"Count A signifies a list length that is at least as large as half of the integer itself, and Count B signifies a list length that is less than half of the integer itself if that makes sense. And I expected 17 and 15 because I thought it would be logically correct."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1701088104,"post_id":77556278,"comment_id":136727550,"body_markdown":"Your current code `if (length &gt;= i) incrementCountA();` increments count A if the list length is at least as large as integer itself. If I replace that with `if (length &gt;= i / 2) incrementCountA();` (that would match your description) and the corresponding condition for count B I get 23 for count A and 9 for count B.","body":"Your current code <code>if (length &gt;= i) incrementCountA();</code> increments count A if the list length is at least as large as integer itself. If I replace that with <code>if (length &gt;= i &#47; 2) incrementCountA();</code> (that would match your description) and the corresponding condition for count B I get 23 for count A and 9 for count B."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1701088168,"post_id":77556278,"comment_id":136727563,"body_markdown":"BTW it would be easier to change the conditions for count A and count B if you where using and if - else construct: `if (length &gt;= i) incrementCountA(); else incrementCountB();`","body":"BTW it would be easier to change the conditions for count A and count B if you where using and if - else construct: <code>if (length &gt;= i) incrementCountA(); else incrementCountB();</code>"},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":1,"creation_date":1701092090,"post_id":77556278,"comment_id":136728264,"body_markdown":"&quot;Is there something wrong with my Collatz sequence...?&quot; Have you tested your `CollatzRunner` class in a single-threaded test program? That would be my first step.","body":"&quot;Is there something wrong with my Collatz sequence...?&quot; Have you tested your <code>CollatzRunner</code> class in a single-threaded test program? That would be my first step."}],"owner":{"account_id":21892257,"reputation":1,"user_id":16179072,"display_name":"williamj987"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":0,"score":-2,"last_activity_date":1701088438,"creation_date":1701082048,"question_id":77556278,"body_markdown":"I&#39;m practicing using multi-threading in Java using a command line, but I&#39;ve been stuck for a while. Here is what I have so far:\r\n\r\n```\r\npublic class MultithreadPractice {\r\n\r\n    // Shared counters for criteria A and B, initialized to 0\r\n    private static int countA = 0;\r\n    private static int countB = 0;\r\n\r\n    // Synchronized methods to update counts safely\r\n    private static synchronized void incrementCountA() {\r\n        countA++;\r\n    }\r\n\r\n    private static synchronized void incrementCountB() {\r\n        countB++;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        if (args.length != 3) {\r\n            System.out.println(&quot;Please provide three arguments: a, b, and n&quot;);\r\n            return;\r\n        }\r\n\r\n        int a = Integer.parseInt(args[0]);\r\n        int b = Integer.parseInt(args[1]);\r\n        int n = Integer.parseInt(args[2]);\r\n\r\n        // Validate input\r\n        if (a % 2 == 0 || b % 2 == 0 || a &gt; b || n &lt;= 0) {\r\n            System.out.println(&quot;Invalid input. Ensure a and b are odd and a &lt; b, and n is positive.&quot;);\r\n            return;\r\n        }\r\n\r\n        int range = (b - a) / 2 + 1; // Number of odd integers in the range\r\n        int chunkSize = range / n; // Size of each chunk to be processed by each thread\r\n        int remainder = range % n; // Remaining numbers after even division\r\n\r\n        Thread[] threads = new Thread[n];\r\n\r\n        for (int i = 0; i &lt; n; i++) {\r\n            int start = a + 2 * (i * chunkSize);\r\n            int end = start + 2 * chunkSize - 2;\r\n            if (i == n - 1) {\r\n                end += 2 * remainder; // Add the remaining numbers to the last thread\r\n            }\r\n\r\n            threads[i] = new Thread(new CollatzRunner(start, end));\r\n            threads[i].start();\r\n        }\r\n\r\n        // Wait for all threads to finish\r\n        try {\r\n            for (Thread thread : threads) {\r\n                thread.join();\r\n            }\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        // Print results\r\n        System.out.println(&quot;Using &quot; + n + &quot; threads.&quot;);\r\n        System.out.println(&quot;Count for (A) is &quot; + countA + &quot;.&quot;);\r\n        System.out.println(&quot;Count for (B) is &quot; + countB + &quot;.&quot;);\r\n    }\r\n\r\n    static class CollatzRunner implements Runnable {\r\n        private final int start;\r\n        private final int end;\r\n\r\n        CollatzRunner(int start, int end) {\r\n            this.start = start;\r\n            this.end = end;\r\n        }\r\n\r\n        @Override\r\n        public void run() {\r\n            for (int i = start; i &lt;= end; i += 2) {\r\n                int length = collatzLength(i);\r\n                if (length &gt;= i) incrementCountA();\r\n                if (length &lt; i) incrementCountB();\r\n            }\r\n        }\r\n\r\n        private int collatzLength(int n) {\r\n            int steps = 0;\r\n            long num = n;\r\n            while (num != 1) {\r\n                if (num % 2 == 0) num /= 2;\r\n                else num = 3 * num + 1;\r\n                steps++;\r\n            }\r\n            return steps;\r\n        }\r\n    }\r\n}\r\n```\r\nI expect my result to give me something like this in the command line:\r\n\r\njava MultithreadPractice 11 73 4\r\n\r\n \r\n**Using 4 threads.**\r\n\r\n**Count for (A) is 17.**\r\n\r\n**Count for (B) is 15.**\r\n\r\nBut instead, I got 11 for A and 21 for B. Is there something wrong with my Collatz sequence or am I missing something?\r\n\r\n","title":"Multi-threading with odd numbers","body":"<p>I'm practicing using multi-threading in Java using a command line, but I've been stuck for a while. Here is what I have so far:</p>\n<pre><code>public class MultithreadPractice {\n\n    // Shared counters for criteria A and B, initialized to 0\n    private static int countA = 0;\n    private static int countB = 0;\n\n    // Synchronized methods to update counts safely\n    private static synchronized void incrementCountA() {\n        countA++;\n    }\n\n    private static synchronized void incrementCountB() {\n        countB++;\n    }\n\n    public static void main(String[] args) {\n        if (args.length != 3) {\n            System.out.println(&quot;Please provide three arguments: a, b, and n&quot;);\n            return;\n        }\n\n        int a = Integer.parseInt(args[0]);\n        int b = Integer.parseInt(args[1]);\n        int n = Integer.parseInt(args[2]);\n\n        // Validate input\n        if (a % 2 == 0 || b % 2 == 0 || a &gt; b || n &lt;= 0) {\n            System.out.println(&quot;Invalid input. Ensure a and b are odd and a &lt; b, and n is positive.&quot;);\n            return;\n        }\n\n        int range = (b - a) / 2 + 1; // Number of odd integers in the range\n        int chunkSize = range / n; // Size of each chunk to be processed by each thread\n        int remainder = range % n; // Remaining numbers after even division\n\n        Thread[] threads = new Thread[n];\n\n        for (int i = 0; i &lt; n; i++) {\n            int start = a + 2 * (i * chunkSize);\n            int end = start + 2 * chunkSize - 2;\n            if (i == n - 1) {\n                end += 2 * remainder; // Add the remaining numbers to the last thread\n            }\n\n            threads[i] = new Thread(new CollatzRunner(start, end));\n            threads[i].start();\n        }\n\n        // Wait for all threads to finish\n        try {\n            for (Thread thread : threads) {\n                thread.join();\n            }\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n\n        // Print results\n        System.out.println(&quot;Using &quot; + n + &quot; threads.&quot;);\n        System.out.println(&quot;Count for (A) is &quot; + countA + &quot;.&quot;);\n        System.out.println(&quot;Count for (B) is &quot; + countB + &quot;.&quot;);\n    }\n\n    static class CollatzRunner implements Runnable {\n        private final int start;\n        private final int end;\n\n        CollatzRunner(int start, int end) {\n            this.start = start;\n            this.end = end;\n        }\n\n        @Override\n        public void run() {\n            for (int i = start; i &lt;= end; i += 2) {\n                int length = collatzLength(i);\n                if (length &gt;= i) incrementCountA();\n                if (length &lt; i) incrementCountB();\n            }\n        }\n\n        private int collatzLength(int n) {\n            int steps = 0;\n            long num = n;\n            while (num != 1) {\n                if (num % 2 == 0) num /= 2;\n                else num = 3 * num + 1;\n                steps++;\n            }\n            return steps;\n        }\n    }\n}\n</code></pre>\n<p>I expect my result to give me something like this in the command line:</p>\n<p>java MultithreadPractice 11 73 4</p>\n<p><strong>Using 4 threads.</strong></p>\n<p><strong>Count for (A) is 17.</strong></p>\n<p><strong>Count for (B) is 15.</strong></p>\n<p>But instead, I got 11 for A and 21 for B. Is there something wrong with my Collatz sequence or am I missing something?</p>\n"},{"tags":["java","firebase-cloud-messaging","progressive-web-apps"],"owner":{"account_id":25884378,"reputation":1,"user_id":19612803,"display_name":"Thomas Barth"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701088312,"creation_date":1701088312,"question_id":77556921,"body_markdown":"I have installed my Progressive Web App on my Android mobile phone. When I send a push notification to this app (with my user token), a bell appears in the top bar. When I pull down the bar, I see the notification box with the title and text. When I tap this box, the window closes, but the app in the background does not come to the foreground! What do I have to do so that my installed app, which is in the background, comes to the foreground? \r\n\r\nI would also like to prevent this notification from asking whether the URL should be opened in the browser! This has already happened. The default browser should not be opened, but the already installed app should be brought to the foreground. \r\n\r\nI send the message via the Firebase SDK with a Java app on my server.  Here I can only specify a title and text for the notification message, but no click action. Or can I? \r\n\r\n\r\nMy method for creating the notification\r\n```\r\npublic static Message.Builder createMessage(String title, String body, String user_token) {\r\n\t\tNotification notification = Notification.builder().setTitle(title).setBody(body).build();\r\n\t\t\t\t\r\n\t\tMessage.Builder message = Message.builder().setNotification(notification).setToken(user_token);\r\n\t\t\r\n\t\treturn message;\r\n\t}\r\n```\r\n\r\nHere is the url to the document I used for orientation [FirebaseMessagingSnippet](https://github.com/firebase/firebase-admin-java/blob/b4ab5903fb337b6023e331feb317f0866872c439/src/test/java/com/google/firebase/snippets/FirebaseMessagingSnippets.java)\r\n\r\n\r\n\r\n\r\nWhen I tap on the notification box, I expect the pwa to be brought to the foreground.","title":"How to define the click action in a push notification for Progressive Web App (PWA)?","body":"<p>I have installed my Progressive Web App on my Android mobile phone. When I send a push notification to this app (with my user token), a bell appears in the top bar. When I pull down the bar, I see the notification box with the title and text. When I tap this box, the window closes, but the app in the background does not come to the foreground! What do I have to do so that my installed app, which is in the background, comes to the foreground?</p>\n<p>I would also like to prevent this notification from asking whether the URL should be opened in the browser! This has already happened. The default browser should not be opened, but the already installed app should be brought to the foreground.</p>\n<p>I send the message via the Firebase SDK with a Java app on my server.  Here I can only specify a title and text for the notification message, but no click action. Or can I?</p>\n<p>My method for creating the notification</p>\n<pre><code>public static Message.Builder createMessage(String title, String body, String user_token) {\n        Notification notification = Notification.builder().setTitle(title).setBody(body).build();\n                \n        Message.Builder message = Message.builder().setNotification(notification).setToken(user_token);\n        \n        return message;\n    }\n</code></pre>\n<p>Here is the url to the document I used for orientation <a href=\"https://github.com/firebase/firebase-admin-java/blob/b4ab5903fb337b6023e331feb317f0866872c439/src/test/java/com/google/firebase/snippets/FirebaseMessagingSnippets.java\" rel=\"nofollow noreferrer\">FirebaseMessagingSnippet</a></p>\n<p>When I tap on the notification box, I expect the pwa to be brought to the foreground.</p>\n"},{"tags":["java","spring","hibernate","spring-data-jpa","jpql"],"comments":[{"owner":{"account_id":5644665,"reputation":35951,"user_id":4467208,"accept_rate":51,"display_name":"Murat Karag&#246;z"},"score":0,"creation_date":1701086776,"post_id":77556669,"comment_id":136727320,"body_markdown":"Probably because delete all expects an Iterable. Why not call it `deleteBy...`?","body":"Probably because delete all expects an Iterable. Why not call it <code>deleteBy...</code>?"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":4,"creation_date":1701088307,"post_id":77556669,"comment_id":136727603,"body_markdown":"The delete query is generated by Spring Data **not** hibernate. Next to that what might seem logical to you, might not be to hibernate as that only has the metadata it can operate on.","body":"The delete query is generated by Spring Data <b>not</b> hibernate. Next to that what might seem logical to you, might not be to hibernate as that only has the metadata it can operate on."},{"owner":{"account_id":23090602,"reputation":59,"user_id":18073200,"display_name":"denstran"},"score":0,"creation_date":1701089427,"post_id":77556669,"comment_id":136727790,"body_markdown":"@MuratKarag&#246;z because i want to delete all entities with one go, will `deleteBy...` handle this?","body":"@MuratKarag&#246;z because i want to delete all entities with one go, will <code>deleteBy...</code> handle this?"},{"owner":{"account_id":23090602,"reputation":59,"user_id":18073200,"display_name":"denstran"},"score":0,"creation_date":1701089568,"post_id":77556669,"comment_id":136727813,"body_markdown":"@M.Deinum oh, i didnt know about this, but still whats the difference between my custom query and `deleteAllBy...` method? How does it work?","body":"@M.Deinum oh, i didnt know about this, but still whats the difference between my custom query and <code>deleteAllBy...</code> method? How does it work?"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1701090002,"post_id":77556669,"comment_id":136727896,"body_markdown":"You would need to look at the query builder in Spring Data to determine what that is doing. I would suspect that there is even a `SELECT` before the `DELETE` instances. Why, because else Hibernate won&#39;t know what to delete as it would need the entity mapping to determine if nested relationships need to be deleted as well.","body":"You would need to look at the query builder in Spring Data to determine what that is doing. I would suspect that there is even a <code>SELECT</code> before the <code>DELETE</code> instances. Why, because else Hibernate won&#39;t know what to delete as it would need the entity mapping to determine if nested relationships need to be deleted as well."},{"owner":{"account_id":23090602,"reputation":59,"user_id":18073200,"display_name":"denstran"},"score":0,"creation_date":1701091458,"post_id":77556669,"comment_id":136728159,"body_markdown":"@M.Deinum just checked it out, yeah, there is really a `SELECT` query before deleting entity, now i understand why, but I also noticed that if i am using custom query for deleting department entities, there is no such query, so is it better to use custom queries for updating / deleting entities? Or maybe there is not such query because I am executing this query first: `@Query(value = &quot;DELETE FROM Employee e WHERE e.department.id IN (SELECT d.id from Department d where d.companyBranch.id = :companyBranchId)&quot;)` ?","body":"@M.Deinum just checked it out, yeah, there is really a <code>SELECT</code> query before deleting entity, now i understand why, but I also noticed that if i am using custom query for deleting department entities, there is no such query, so is it better to use custom queries for updating / deleting entities? Or maybe there is not such query because I am executing this query first: <code>@Query(value = &quot;DELETE FROM Employee e WHERE e.department.id IN (SELECT d.id from Department d where d.companyBranch.id = :companyBranchId)&quot;)</code> ?"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1701091948,"post_id":77556669,"comment_id":136728239,"body_markdown":"If you provide a query that will be executed as is, it will not use the JPA metamodel then to traverse relations etc. etc.","body":"If you provide a query that will be executed as is, it will not use the JPA metamodel then to traverse relations etc. etc."}],"owner":{"account_id":23090602,"reputation":59,"user_id":18073200,"display_name":"denstran"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701088309,"creation_date":1701085920,"question_id":77556669,"body_markdown":"In my project I was using this method for my entity repository\r\n\r\n    void deleteAllByCompanyBranch_Id(Long companyBranchId);\r\n\r\nAnd the result was a little bit weird, Hibernate generated DELETE query for each entity, instead of doing it only once and I can&#39;t understand why. Here is Hibernate&#39;s log\r\n\r\n    Hibernate: \r\n        delete \r\n        from\r\n            department \r\n        where\r\n            id=?\r\n    Hibernate: \r\n        delete \r\n        from\r\n            department \r\n        where\r\n            id=?\r\n    Hibernate: \r\n        delete \r\n        from\r\n            department \r\n        where\r\n            id=?\r\n    Hibernate: \r\n        delete \r\n        from\r\n            department \r\n        where\r\n            id=?\r\n\r\nAs you can see Hibernate generates four delete queries for each row related to company branch.\r\n\r\nIf I am using a custom query like this\r\n\r\n    @Modifying\r\n    @Query(value = &quot;DELETE Department d WHERE d.companyBranch.id = :companyBranchId&quot;)\r\n    void deleteAllByCompanyBranch_Id(Long companyBranchId);\r\n\r\nHibernate generates only one query\r\n\r\n    Hibernate: \r\n        delete \r\n        from\r\n            department \r\n        where\r\n            company_branch_id=?\r\n\r\nWhy can&#39;t hibernate do the same for `deleteAllBy...` method from Spring Data JPA? What&#39;s the point of this query method if it can not delete all entities with one query? When should I use it and when should I not?","title":"How does deleteAllBy... method work in Spring Data JPA? Why does it it make more DELETE queries then needed?","body":"<p>In my project I was using this method for my entity repository</p>\n<pre><code>void deleteAllByCompanyBranch_Id(Long companyBranchId);\n</code></pre>\n<p>And the result was a little bit weird, Hibernate generated DELETE query for each entity, instead of doing it only once and I can't understand why. Here is Hibernate's log</p>\n<pre><code>Hibernate: \n    delete \n    from\n        department \n    where\n        id=?\nHibernate: \n    delete \n    from\n        department \n    where\n        id=?\nHibernate: \n    delete \n    from\n        department \n    where\n        id=?\nHibernate: \n    delete \n    from\n        department \n    where\n        id=?\n</code></pre>\n<p>As you can see Hibernate generates four delete queries for each row related to company branch.</p>\n<p>If I am using a custom query like this</p>\n<pre><code>@Modifying\n@Query(value = &quot;DELETE Department d WHERE d.companyBranch.id = :companyBranchId&quot;)\nvoid deleteAllByCompanyBranch_Id(Long companyBranchId);\n</code></pre>\n<p>Hibernate generates only one query</p>\n<pre><code>Hibernate: \n    delete \n    from\n        department \n    where\n        company_branch_id=?\n</code></pre>\n<p>Why can't hibernate do the same for <code>deleteAllBy...</code> method from Spring Data JPA? What's the point of this query method if it can not delete all entities with one query? When should I use it and when should I not?</p>\n"},{"tags":["java","swing","vlc"],"answers":[{"comments":[{"owner":{"account_id":29418799,"reputation":1,"user_id":22540963,"display_name":"Curtain Hello"},"score":0,"creation_date":1701313021,"post_id":77556901,"comment_id":136761303,"body_markdown":"Thank you. I&#39;ll try to find another solution. No longer through vlc itself.","body":"Thank you. I&#39;ll try to find another solution. No longer through vlc itself."}],"tags":[],"owner":{"account_id":468855,"reputation":5925,"user_id":875083,"display_name":"Joachim Rohde"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701088097,"creation_date":1701088097,"answer_id":77556901,"question_id":77541885,"body_markdown":"This is a bug. One of the main developers mentioned in the [VLC forum][1] that you cannot do anything about it (except a massive refactoring of VLC itself)\r\n\r\n\r\n  [1]: https://forum.videolan.org/viewtopic.php?f=14&amp;t=163540&amp;p=540959&amp;hilit=black%20screen#p540959","title":"VLC When the video list is played, a black screen remains for 1s","body":"<p>This is a bug. One of the main developers mentioned in the <a href=\"https://forum.videolan.org/viewtopic.php?f=14&amp;t=163540&amp;p=540959&amp;hilit=black%20screen#p540959\" rel=\"nofollow noreferrer\">VLC forum</a> that you cannot do anything about it (except a massive refactoring of VLC itself)</p>\n"}],"owner":{"account_id":29418799,"reputation":1,"user_id":22540963,"display_name":"Curtain Hello"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701088097,"creation_date":1700816544,"question_id":77541885,"body_markdown":"When recirculating a playlist video, there will be a black screen for about 1 second each time a video is played while switching to the next video\r\n\r\nversion\r\nvlcj: 3.8.0\r\njava: 1.8.0_131 Oracle Corporation\r\nvlc: 3.0.8 Vetinari, changeset 3.0.8-0-gf350b6b5a7\r\n\r\n\r\n    mediaPlayerComponent.getMediaPlayer().addMediaPlayerEventListener(new MediaPlayerEventAdapter() {\r\n            @Override\r\n            public void finished(MediaPlayer mediaPlayer) {\r\n                 // loop play\r\n                if (LIST_PROGRAM_PLAY_LOOP.equals(playMode)) {\r\n                    if (mrlList.size() == 1) {\r\n                        mediaPlayer.setRepeat(true);\r\n                    } else {\r\n                        if (++playIndex &gt;= mrlList.size()) {\r\n                            playIndex = 0;\r\n                        }\r\n                        mediaPlayer.prepareMedia(mrlList.get(playIndex));\r\n                        playingMrl = mrlList.get(playIndex);\r\n                        mediaPlayer.play();\r\n                    }\r\n\r\n                }\r\n            }\r\n    }\r\n\r\n\r\n\r\nOn a computer with a core display, the problem will be more prominent, is there any way I can optimize it","title":"VLC When the video list is played, a black screen remains for 1s","body":"<p>When recirculating a playlist video, there will be a black screen for about 1 second each time a video is played while switching to the next video</p>\n<p>version\nvlcj: 3.8.0\njava: 1.8.0_131 Oracle Corporation\nvlc: 3.0.8 Vetinari, changeset 3.0.8-0-gf350b6b5a7</p>\n<pre><code>mediaPlayerComponent.getMediaPlayer().addMediaPlayerEventListener(new MediaPlayerEventAdapter() {\n        @Override\n        public void finished(MediaPlayer mediaPlayer) {\n             // loop play\n            if (LIST_PROGRAM_PLAY_LOOP.equals(playMode)) {\n                if (mrlList.size() == 1) {\n                    mediaPlayer.setRepeat(true);\n                } else {\n                    if (++playIndex &gt;= mrlList.size()) {\n                        playIndex = 0;\n                    }\n                    mediaPlayer.prepareMedia(mrlList.get(playIndex));\n                    playingMrl = mrlList.get(playIndex);\n                    mediaPlayer.play();\n                }\n\n            }\n        }\n}\n</code></pre>\n<p>On a computer with a core display, the problem will be more prominent, is there any way I can optimize it</p>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":164042,"reputation":669,"user_id":386564,"accept_rate":20,"display_name":"Thirdman"},"score":0,"creation_date":1700813834,"post_id":77541229,"comment_id":136701542,"body_markdown":"It looks like this is a bug in spring-boot 3.2 =&gt; \nhttps://github.com/spring-projects/spring-data-jpa/issues/3239 and will be fixed soon. \nThe bug is already closed.\nHibernate 6.3 had the bug and spring did not support 6.4 where it was fixed. So the delivery of the above issue will hopefully fix my problem.","body":"It looks like this is a bug in spring-boot 3.2 =&gt;  <a href=\"https://github.com/spring-projects/spring-data-jpa/issues/3239\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-data-jpa/issues/3239</a> and will be fixed soon.  The bug is already closed. Hibernate 6.3 had the bug and spring did not support 6.4 where it was fixed. So the delivery of the above issue will hopefully fix my problem."}],"answers":[{"tags":[],"owner":{"account_id":164042,"reputation":669,"user_id":386564,"accept_rate":20,"display_name":"Thirdman"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1701087395,"creation_date":1701087395,"answer_id":77556825,"question_id":77541229,"body_markdown":"We found the problem.\r\nWe are using an abstract super class for all Entities. In this class we use generics for the ID class (with `Entity` being an interface with `T getId();` method:\r\n\r\n    public abstract class AbstractEntity&lt;T&gt; implements Entity&lt;T&gt; {\r\n    @Id\r\n    private T id;\r\n\r\nThis worked until Spring Boot Data 3.1.5.\r\n\r\nFrom 3.2.0 on the `T` class must not be a generic type. **In our case it must `extend Long`** in order to work, since we use a `Long` for all ids... :\r\n\r\n    public abstract class AbstractEntity&lt;T extends Long&gt; implements Entity&lt;T&gt; {\r\n    @Id\r\n    private T id;\r\n\r\nThe generic was introduced with composite Id-classes in mind.\r\n\r\nWe will change the code and use `Long` directly, since we never use composite ids in this project.\r\n\r\nThat was all. Not a spring boot / spring data jpa bug or the like.\r\n\r\nHope this helps somebody else.","title":"Validation failed for query for method upgrading from Spring Boot 3.1.5 to 3.2.0","body":"<p>We found the problem.\nWe are using an abstract super class for all Entities. In this class we use generics for the ID class (with <code>Entity</code> being an interface with <code>T getId();</code> method:</p>\n<pre><code>public abstract class AbstractEntity&lt;T&gt; implements Entity&lt;T&gt; {\n@Id\nprivate T id;\n</code></pre>\n<p>This worked until Spring Boot Data 3.1.5.</p>\n<p>From 3.2.0 on the <code>T</code> class must not be a generic type. <strong>In our case it must <code>extend Long</code></strong> in order to work, since we use a <code>Long</code> for all ids... :</p>\n<pre><code>public abstract class AbstractEntity&lt;T extends Long&gt; implements Entity&lt;T&gt; {\n@Id\nprivate T id;\n</code></pre>\n<p>The generic was introduced with composite Id-classes in mind.</p>\n<p>We will change the code and use <code>Long</code> directly, since we never use composite ids in this project.</p>\n<p>That was all. Not a spring boot / spring data jpa bug or the like.</p>\n<p>Hope this helps somebody else.</p>\n"}],"owner":{"account_id":164042,"reputation":669,"user_id":386564,"accept_rate":20,"display_name":"Thirdman"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":366,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":77556825,"answer_count":1,"score":1,"last_activity_date":1701087395,"creation_date":1700809119,"question_id":77541229,"body_markdown":"I upgraded from Spring Boot (Data) 3.1.5 to 3.2.0.\r\n\r\nSeveral of my queries in the Repositories throw exceptions now on application start in the validation phase:\r\n\r\n`Caused by: Cannot compare left expression of type &#39;java.lang.Object&#39; with right expression of type &#39;java.lang.Long&#39;.`\r\n\r\n\r\n\r\nE.g.:\r\n\r\n            @Query(value = &quot;SELECT new com.my.service.crud.ReferencedObject(p.id, p.name, r.name) FROM MyEntityA p join MyEntityB r on (p.aId = r.id) WHERE &quot; +\r\n                           &quot; p.aId = :projectId and exists (select id from EntityC where cId = p.id and dTypeId = :uutId)&quot;)\r\n            List&lt;ReferencedObject&gt; findReferencesToUtilType(@Param(&quot;projectId&quot;) Long projectId, @Param(&quot;uutId&quot;) Long utilTypeId);\r\n\r\nThis (anonymized) Code worked fine with 3.1.5 and returned a list of ReferencedObjects.\r\nI even get errors on finders that return `Optional&lt;Entity&gt;` and e.g. `findByIdAndOtherAttr(...)`.\r\n\r\n\r\n\r\nThe underlying cause is\r\n\r\n    Caused by: org.hibernate.query.SemanticException: Cannot compare left expression of type &#39;java.lang.Long&#39; with right expression of type &#39;java.lang.Object&#39;\r\n\r\n\tat org.hibernate.query.sqm.internal.TypecheckUtil.assertComparable(TypecheckUtil.java:338)\r\n\tat org.hibernate.query.sqm.tree.predicate.SqmComparisonPredicate.&lt;init&gt;(SqmComparisonPredicate.java:48)\r\n\tat org.hibernate.query.sqm.tree.predicate.SqmComparisonPredicate.&lt;init&gt;(SqmComparisonPredicate.java:34)\r\n\tat org.hibernate.query.hql.internal.SemanticQueryBuilder.createComparisonPredicate(SemanticQueryBuilder.java:2447)\r\n\tat org.hibernate.query.hql.internal.SemanticQueryBuilder.visitComparisonPredicate(SemanticQueryBuilder.java:2391)\r\n\tat org.hibernate.query.hql.internal.SemanticQueryBuilder.visitComparisonPredicate(SemanticQueryBuilder.java:268)\r\n\tat org.hibernate.grammars.hql.HqlParser$ComparisonPredicateContext.accept(HqlParser.java:6071)\r\n\tat org.hibernate.query.hql.internal.SemanticQueryBuilder.visitGroupedPredicate(SemanticQueryBuilder.java:2251)\r\n\tat org.hibernate.query.hql.internal.SemanticQueryBuilder.visitGroupedPredicate(SemanticQueryBuilder.java:268)\r\n\tat org.hibernate.grammars.hql.HqlParser$GroupedPredicateContext.accept(HqlParser.java:5994)\r\n\tat org.hibernate.query.hql.internal.SemanticQueryBuilder.consumeJoin(SemanticQueryBuilder.java:2129)\r\n\tat org.hibernate.query.hql.internal.SemanticQueryBuilder.visitEntityWithJoins(SemanticQueryBuilder.java:1921)\r\n\tat org.hibernate.query.hql.internal.SemanticQueryBuilder.visitFromClause(SemanticQueryBuilder.java:1900)\r\n\tat org.hibernate.query.hql.internal.SemanticQueryBuilder.visitQuery(SemanticQueryBuilder.java:1147)\r\n\tat org.hibernate.query.hql.internal.SemanticQueryBuilder.visitQuerySpecExpression(SemanticQueryBuilder.java:940)\r\n\tat org.hibernate.query.hql.internal.SemanticQueryBuilder.visitQuerySpecExpression(SemanticQueryBuilder.java:268)\r\n\tat org.hibernate.grammars.hql.HqlParser$QuerySpecExpressionContext.accept(HqlParser.java:1844)\r\n\tat org.hibernate.query.hql.internal.SemanticQueryBuilder.visitSimpleQueryGroup(SemanticQueryBuilder.java:925)\r\n\tat org.hibernate.query.hql.internal.SemanticQueryBuilder.visitSimpleQueryGroup(SemanticQueryBuilder.java:268)\r\n\tat org.hibernate.grammars.hql.HqlParser$SimpleQueryGroupContext.accept(HqlParser.java:1718)\r\n\tat org.hibernate.query.hql.internal.SemanticQueryBuilder.visitSelectStatement(SemanticQueryBuilder.java:442)\r\n\tat org.hibernate.query.hql.internal.SemanticQueryBuilder.visitStatement(SemanticQueryBuilder.java:401)\r\n\tat org.hibernate.query.hql.internal.SemanticQueryBuilder.buildSemanticModel(SemanticQueryBuilder.java:310)\r\n\tat org.hibernate.query.hql.internal.StandardHqlTranslator.translate(StandardHqlTranslator.java:71)\r\n\tat org.hibernate.query.internal.QueryInterpretationCacheStandardImpl.createHqlInterpretation(QueryInterpretationCacheStandardImpl.java:165)\r\n\tat org.hibernate.query.internal.QueryInterpretationCacheStandardImpl.resolveHqlInterpretation(QueryInterpretationCacheStandardImpl.java:147)\r\n\tat org.hibernate.internal.AbstractSharedSessionContract.interpretHql(AbstractSharedSessionContract.java:744)\r\n\tat org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:794)\r\n\t... 43 common frames omitted\r\n\r\n\r\nI found this https://discourse.hibernate.org/t/upgrade-to-6-3-rc1-cannot-compare-left-expression-of-type-java-sql-timestamp-with-right-expression-of-type-com-model-entity-impl-user/8034/5\r\nwhere the Hibernate Team member said, that one is comparing apples with oranges...\r\n\r\nDoes anyone have a link to a migration guide?\r\n\r\nWhat do I have to do to get my queries working again?\r\n\r\nIn the release notes of Spring Boot 3.2.0 I only found a hint that &quot;deprecated features have been dereleased now&quot;.\r\n\r\nThanks for any hint!","title":"Validation failed for query for method upgrading from Spring Boot 3.1.5 to 3.2.0","body":"<p>I upgraded from Spring Boot (Data) 3.1.5 to 3.2.0.</p>\n<p>Several of my queries in the Repositories throw exceptions now on application start in the validation phase:</p>\n<p><code>Caused by: Cannot compare left expression of type 'java.lang.Object' with right expression of type 'java.lang.Long'.</code></p>\n<p>E.g.:</p>\n<pre><code>        @Query(value = &quot;SELECT new com.my.service.crud.ReferencedObject(p.id, p.name, r.name) FROM MyEntityA p join MyEntityB r on (p.aId = r.id) WHERE &quot; +\n                       &quot; p.aId = :projectId and exists (select id from EntityC where cId = p.id and dTypeId = :uutId)&quot;)\n        List&lt;ReferencedObject&gt; findReferencesToUtilType(@Param(&quot;projectId&quot;) Long projectId, @Param(&quot;uutId&quot;) Long utilTypeId);\n</code></pre>\n<p>This (anonymized) Code worked fine with 3.1.5 and returned a list of ReferencedObjects.\nI even get errors on finders that return <code>Optional&lt;Entity&gt;</code> and e.g. <code>findByIdAndOtherAttr(...)</code>.</p>\n<p>The underlying cause is</p>\n<pre><code>Caused by: org.hibernate.query.SemanticException: Cannot compare left expression of type 'java.lang.Long' with right expression of type 'java.lang.Object'\n\nat org.hibernate.query.sqm.internal.TypecheckUtil.assertComparable(TypecheckUtil.java:338)\nat org.hibernate.query.sqm.tree.predicate.SqmComparisonPredicate.&lt;init&gt;(SqmComparisonPredicate.java:48)\nat org.hibernate.query.sqm.tree.predicate.SqmComparisonPredicate.&lt;init&gt;(SqmComparisonPredicate.java:34)\nat org.hibernate.query.hql.internal.SemanticQueryBuilder.createComparisonPredicate(SemanticQueryBuilder.java:2447)\nat org.hibernate.query.hql.internal.SemanticQueryBuilder.visitComparisonPredicate(SemanticQueryBuilder.java:2391)\nat org.hibernate.query.hql.internal.SemanticQueryBuilder.visitComparisonPredicate(SemanticQueryBuilder.java:268)\nat org.hibernate.grammars.hql.HqlParser$ComparisonPredicateContext.accept(HqlParser.java:6071)\nat org.hibernate.query.hql.internal.SemanticQueryBuilder.visitGroupedPredicate(SemanticQueryBuilder.java:2251)\nat org.hibernate.query.hql.internal.SemanticQueryBuilder.visitGroupedPredicate(SemanticQueryBuilder.java:268)\nat org.hibernate.grammars.hql.HqlParser$GroupedPredicateContext.accept(HqlParser.java:5994)\nat org.hibernate.query.hql.internal.SemanticQueryBuilder.consumeJoin(SemanticQueryBuilder.java:2129)\nat org.hibernate.query.hql.internal.SemanticQueryBuilder.visitEntityWithJoins(SemanticQueryBuilder.java:1921)\nat org.hibernate.query.hql.internal.SemanticQueryBuilder.visitFromClause(SemanticQueryBuilder.java:1900)\nat org.hibernate.query.hql.internal.SemanticQueryBuilder.visitQuery(SemanticQueryBuilder.java:1147)\nat org.hibernate.query.hql.internal.SemanticQueryBuilder.visitQuerySpecExpression(SemanticQueryBuilder.java:940)\nat org.hibernate.query.hql.internal.SemanticQueryBuilder.visitQuerySpecExpression(SemanticQueryBuilder.java:268)\nat org.hibernate.grammars.hql.HqlParser$QuerySpecExpressionContext.accept(HqlParser.java:1844)\nat org.hibernate.query.hql.internal.SemanticQueryBuilder.visitSimpleQueryGroup(SemanticQueryBuilder.java:925)\nat org.hibernate.query.hql.internal.SemanticQueryBuilder.visitSimpleQueryGroup(SemanticQueryBuilder.java:268)\nat org.hibernate.grammars.hql.HqlParser$SimpleQueryGroupContext.accept(HqlParser.java:1718)\nat org.hibernate.query.hql.internal.SemanticQueryBuilder.visitSelectStatement(SemanticQueryBuilder.java:442)\nat org.hibernate.query.hql.internal.SemanticQueryBuilder.visitStatement(SemanticQueryBuilder.java:401)\nat org.hibernate.query.hql.internal.SemanticQueryBuilder.buildSemanticModel(SemanticQueryBuilder.java:310)\nat org.hibernate.query.hql.internal.StandardHqlTranslator.translate(StandardHqlTranslator.java:71)\nat org.hibernate.query.internal.QueryInterpretationCacheStandardImpl.createHqlInterpretation(QueryInterpretationCacheStandardImpl.java:165)\nat org.hibernate.query.internal.QueryInterpretationCacheStandardImpl.resolveHqlInterpretation(QueryInterpretationCacheStandardImpl.java:147)\nat org.hibernate.internal.AbstractSharedSessionContract.interpretHql(AbstractSharedSessionContract.java:744)\nat org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:794)\n... 43 common frames omitted\n</code></pre>\n<p>I found this <a href=\"https://discourse.hibernate.org/t/upgrade-to-6-3-rc1-cannot-compare-left-expression-of-type-java-sql-timestamp-with-right-expression-of-type-com-model-entity-impl-user/8034/5\" rel=\"nofollow noreferrer\">https://discourse.hibernate.org/t/upgrade-to-6-3-rc1-cannot-compare-left-expression-of-type-java-sql-timestamp-with-right-expression-of-type-com-model-entity-impl-user/8034/5</a>\nwhere the Hibernate Team member said, that one is comparing apples with oranges...</p>\n<p>Does anyone have a link to a migration guide?</p>\n<p>What do I have to do to get my queries working again?</p>\n<p>In the release notes of Spring Boot 3.2.0 I only found a hint that &quot;deprecated features have been dereleased now&quot;.</p>\n<p>Thanks for any hint!</p>\n"},{"tags":["java","encryption","cryptography","openssl"],"comments":[{"owner":{"account_id":360576,"reputation":60355,"user_id":702638,"accept_rate":98,"display_name":"Hunter McMillen"},"score":0,"creation_date":1395667911,"post_id":22610761,"comment_id":34428312,"body_markdown":"There may be some unprintable ascii characters in your file? Try using the `-base64` option.","body":"There may be some unprintable ascii characters in your file? Try using the <code>-base64</code> option."},{"owner":{"account_id":259073,"reputation":8102,"user_id":541688,"display_name":"Oleg Estekhin"},"score":0,"creation_date":1395668911,"post_id":22610761,"comment_id":34428998,"body_markdown":"Seems like duplicate of http://stackoverflow.com/questions/19161716/bad-magic-number-error-when-trying-to-decrypt-file-in-openssl","body":"Seems like duplicate of <a href=\"http://stackoverflow.com/questions/19161716/bad-magic-number-error-when-trying-to-decrypt-file-in-openssl\" title=\"bad magic number error when trying to decrypt file in openssl\">stackoverflow.com/questions/19161716/&hellip;</a>"},{"owner":{"account_id":218057,"reputation":67738,"user_id":474189,"accept_rate":72,"display_name":"Duncan Jones"},"score":0,"creation_date":1395672196,"post_id":22610761,"comment_id":34431393,"body_markdown":"Side comment: if you want ECB mode, then specify it. Change `&quot;AES&quot;` to `&quot;AES/ECB/&lt;padding&gt;&quot;` to avoid ambiguity. (Where `&lt;padding&gt;` is your preferred padding scheme). Relying on defaults is an unwise thing to do.","body":"Side comment: if you want ECB mode, then specify it. Change <code>&quot;AES&quot;</code> to <code>&quot;AES&#47;ECB&#47;&lt;padding&gt;&quot;</code> to avoid ambiguity. (Where <code>&lt;padding&gt;</code> is your preferred padding scheme). Relying on defaults is an unwise thing to do."},{"owner":{"account_id":301110,"reputation":98854,"user_id":608639,"accept_rate":64,"display_name":"jww"},"score":1,"creation_date":1395688207,"post_id":22610761,"comment_id":34442371,"body_markdown":"possible duplicate of [AES encrypt with openssl decrypt using java](http://stackoverflow.com/questions/14486814/aes-encrypt-with-openssl-decrypt-using-java)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/14486814/aes-encrypt-with-openssl-decrypt-using-java\">AES encrypt with openssl decrypt using java</a>"}],"answers":[{"tags":[],"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1395682221,"creation_date":1395682221,"answer_id":22616478,"question_id":22610761,"body_markdown":"The problem is with the key. The `-k` argument expects a passphrase, not a file. In turn, when a passphrase is used by the openssl encryption routine, a magic and salt is put in front of the encrypted result. That&#39;s the magic that cannot be found.\r\n\r\nTo use the openssl command line, print out the key in hex and use the `-K` option instead of the lowercase `-k` option.\r\n\r\nYou could also use:\r\n\r\n    `cat aes.key`\r\n\r\nas argument after `-K`, given that aes.key contains the key in hexadecimals.\r\n","title":"AES - simple encrypt in Java, decrypt with openssl","body":"<p>The problem is with the key. The <code>-k</code> argument expects a passphrase, not a file. In turn, when a passphrase is used by the openssl encryption routine, a magic and salt is put in front of the encrypted result. That's the magic that cannot be found.</p>\n\n<p>To use the openssl command line, print out the key in hex and use the <code>-K</code> option instead of the lowercase <code>-k</code> option.</p>\n\n<p>You could also use:</p>\n\n<pre><code>`cat aes.key`\n</code></pre>\n\n<p>as argument after <code>-K</code>, given that aes.key contains the key in hexadecimals.</p>\n"},{"comments":[{"owner":{"account_id":2439913,"reputation":139,"user_id":2128734,"display_name":"Anne van Leyden"},"score":0,"creation_date":1558096702,"post_id":55884564,"comment_id":98998267,"body_markdown":"I couldn&#39;t get it working as-is and couldn&#39;t get openssl to decrypt the message. But when I switched to &quot;AES/ECB/PKCS5Padding&quot;, it worked.","body":"I couldn&#39;t get it working as-is and couldn&#39;t get openssl to decrypt the message. But when I switched to &quot;AES/ECB/PKCS5Padding&quot;, it worked."}],"tags":[],"owner":{"account_id":2316085,"reputation":9998,"user_id":2873507,"accept_rate":70,"display_name":"Vic Seedoubleyew"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1556401391,"creation_date":1556396457,"answer_id":55884564,"question_id":22610761,"body_markdown":"The problem is indeed due to the key that is computed from the password by OpenSSL.\r\n\r\nMost likely the reason is that OpenSSL has its own algorithm to derive a key, [EVP_BytesToKey][1], from the password, and that is not the same as Java&#39;s.\r\n\r\nThe only solution I found was to use a Java reimplementation of that algorithm:\r\n\r\n    private static final int KEY_LENGTH = 32;    \r\n\r\n    private byte[] deriveKey(String encryptionPassword, byte[] salt) throws NoSuchAlgorithmException {\r\n        final byte[] passAndSalt = ArrayUtils.addAll(encryptionPassword.getBytes(), salt);\r\n        byte[] hash = new byte[0];\r\n        byte[] keyAndIv = new byte[0];\r\n        for (int i = 0; i &lt; 3 &amp;&amp; keyAndIv.length &lt; KEY_LENGTH; i++) {\r\n            final byte[] dataToHash = ArrayUtils.addAll(hash, passAndSalt);\r\n            final MessageDigest md = MessageDigest.getInstance(&quot;SHA-256&quot;);\r\n            hash = md.digest(dataToHash);\r\n            keyAndIv = ArrayUtils.addAll(keyAndIv, hash);\r\n        }\r\n        return Arrays.copyOfRange(keyAndIv, 0, KEY_LENGTH);\r\n    }\r\n\r\n`ArrayUtils` is part of Apache Commons library.\r\n\r\nFull usage:\r\n\r\n    IvParameterSpec initializationVectorSpec = new IvParameterSpec(\r\n                    Hex.decodeHex(encryptionInitializationVector.toCharArray()));\r\n\r\n    cipher = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);\r\n    byte[] salt = new SecureRandom().generateSeed(8);\r\n    byte[] key = deriveKey(encryptionPassword, salt);\r\n    Key keySpec = new SecretKeySpec(key, &quot;AES&quot;);\r\n    cipher.init(Cipher.ENCRYPT_MODE, keySpec, initializationVectorSpec);\r\n\r\n    byte[] rawEncryptedInput = cipher.doFinal(input.getBytes());\r\n    byte[] encryptedInputWithPrependedSalt = ArrayUtils.addAll(ArrayUtils.addAll(\r\n                    &quot;Salted__&quot;.getBytes(), salt), rawEncryptedInput);\r\n    return Base64.getEncoder()\r\n                    .encodeToString(encryptedInputWithPrependedSalt);\r\n\r\nCredit to [this answer][1] for showing me the way.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/41495143/2873507","title":"AES - simple encrypt in Java, decrypt with openssl","body":"<p>The problem is indeed due to the key that is computed from the password by OpenSSL.</p>\n\n<p>Most likely the reason is that OpenSSL has its own algorithm to derive a key, <a href=\"https://stackoverflow.com/a/41495143/2873507\">EVP_BytesToKey</a>, from the password, and that is not the same as Java's.</p>\n\n<p>The only solution I found was to use a Java reimplementation of that algorithm:</p>\n\n<pre><code>private static final int KEY_LENGTH = 32;    \n\nprivate byte[] deriveKey(String encryptionPassword, byte[] salt) throws NoSuchAlgorithmException {\n    final byte[] passAndSalt = ArrayUtils.addAll(encryptionPassword.getBytes(), salt);\n    byte[] hash = new byte[0];\n    byte[] keyAndIv = new byte[0];\n    for (int i = 0; i &lt; 3 &amp;&amp; keyAndIv.length &lt; KEY_LENGTH; i++) {\n        final byte[] dataToHash = ArrayUtils.addAll(hash, passAndSalt);\n        final MessageDigest md = MessageDigest.getInstance(\"SHA-256\");\n        hash = md.digest(dataToHash);\n        keyAndIv = ArrayUtils.addAll(keyAndIv, hash);\n    }\n    return Arrays.copyOfRange(keyAndIv, 0, KEY_LENGTH);\n}\n</code></pre>\n\n<p><code>ArrayUtils</code> is part of Apache Commons library.</p>\n\n<p>Full usage:</p>\n\n<pre><code>IvParameterSpec initializationVectorSpec = new IvParameterSpec(\n                Hex.decodeHex(encryptionInitializationVector.toCharArray()));\n\ncipher = Cipher.getInstance(\"AES/CBC/PKCS5Padding\");\nbyte[] salt = new SecureRandom().generateSeed(8);\nbyte[] key = deriveKey(encryptionPassword, salt);\nKey keySpec = new SecretKeySpec(key, \"AES\");\ncipher.init(Cipher.ENCRYPT_MODE, keySpec, initializationVectorSpec);\n\nbyte[] rawEncryptedInput = cipher.doFinal(input.getBytes());\nbyte[] encryptedInputWithPrependedSalt = ArrayUtils.addAll(ArrayUtils.addAll(\n                \"Salted__\".getBytes(), salt), rawEncryptedInput);\nreturn Base64.getEncoder()\n                .encodeToString(encryptedInputWithPrependedSalt);\n</code></pre>\n\n<p>Credit to <a href=\"https://stackoverflow.com/a/41495143/2873507\">this answer</a> for showing me the way.</p>\n"},{"tags":[],"owner":{"account_id":6579605,"reputation":81,"user_id":5084271,"display_name":"SebastianM"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701087331,"creation_date":1701087331,"answer_id":77556814,"question_id":22610761,"body_markdown":"I was struggling with the same issue for a few days. My task was to encode file using AES/CBC/PKCS5PADDING and given password phrase in java so that it should be decodeable with command like follow:\r\n\r\n&gt; .\\openssl.exe enc -d -aes-256-cbc -in &quot;test_enc.txt&quot; -out &quot;test_dec.txt&quot; -iter 1000000\r\n\r\nWhen I encoded the file using simple code (like this https://www.baeldung.com/java-cipher-input-output-stream) I kept getting &#39;bad magic number&#39; or &#39;bad decrypt&#39; after some modifications.\r\nFinally, basing on openssl code (https://github.com/openssl/openssl/blob/master/apps/enc.c) I&#39;ve managed to write code that works. Below is the result:\r\n\r\n    import lombok.SneakyThrows;\r\n\r\n    import javax.crypto.Cipher;\r\n    import javax.crypto.CipherOutputStream;\r\n    import javax.crypto.SecretKey;\r\n    import javax.crypto.SecretKeyFactory;\r\n    import javax.crypto.spec.IvParameterSpec;\r\n    import javax.crypto.spec.PBEKeySpec;\r\n    import javax.crypto.spec.SecretKeySpec;\r\n    import java.io.OutputStream;\r\n    import java.security.SecureRandom;\r\n    import java.security.spec.KeySpec;\r\n    import java.util.Arrays;\r\n    \r\n    import static java.nio.charset.StandardCharsets.US_ASCII;\r\n    \r\n    public class EncryptionUtil {\r\n    \r\n        private static final int KEY_LENGTH = 32;\r\n        private static final int IV_LENGTH = 16;\r\n    \r\n        /** OpenSSL&#39;s magic initial bytes. */\r\n        private static final String SALTED_STR = &quot;Salted__&quot;;\r\n        private static final byte[] SALTED_MAGIC = SALTED_STR.getBytes(US_ASCII);\r\n    \r\n        @SneakyThrows\r\n        public static OutputStream encodeOutputStream(OutputStream outputStream, String password) {\r\n            Cipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS5PADDING&quot;);\r\n    \r\n            byte[] salt = new SecureRandom().generateSeed(8);\r\n            SecretKeyFactory factory = SecretKeyFactory.getInstance(&quot;PBKDF2WithHmacSHA256&quot;);\r\n            KeySpec spec = new PBEKeySpec(password.toCharArray(), salt, 1000000, (KEY_LENGTH + IV_LENGTH)*8);\r\n            byte[] encodedKey = factory.generateSecret(spec).getEncoded();\r\n            SecretKey secretKey = new SecretKeySpec(Arrays.copyOfRange(encodedKey, 0, KEY_LENGTH), &quot;AES&quot;);\r\n            IvParameterSpec iv = new IvParameterSpec(Arrays.copyOfRange(encodedKey, KEY_LENGTH, encodedKey.length));\r\n\r\n            outputStream.write(SALTED_MAGIC);\r\n            outputStream.write(salt);\r\n\r\n            cipher.init(Cipher.ENCRYPT_MODE, secretKey, iv);\r\n\r\n            return new CipherOutputStream(outputStream, cipher);\r\n        }\r\n    }\r\n\r\nAbove code we can simply use for example like this:\r\n\r\n    try (InputStream in = new FileInputStream(inFilePath);\r\n         OutputStream encryptedOutputStream = EncryptionUtil.encodeOutputStream(new FileOutputStream(encFilePath), &quot;password&quot;)) {\r\n         IOUtils.copy(in, encryptedOutputStream);\r\n    }\r\n\r\nApart from source openssl code, it is also inspired with code presented in another topic: https://stackoverflow.com/a/41495143 but I suppose there is EVP_BytesToKey method (https://www.openssl.org/docs/man3.1/man3/EVP_BytesToKey.html) used (like in @Vic&#39;s answer) and I required PBKDF2 (https://www.openssl.org/docs/man3.0/man7/EVP_KDF-PBKDF2.html).","title":"AES - simple encrypt in Java, decrypt with openssl","body":"<p>I was struggling with the same issue for a few days. My task was to encode file using AES/CBC/PKCS5PADDING and given password phrase in java so that it should be decodeable with command like follow:</p>\n<blockquote>\n<p>.\\openssl.exe enc -d -aes-256-cbc -in &quot;test_enc.txt&quot; -out &quot;test_dec.txt&quot; -iter 1000000</p>\n</blockquote>\n<p>When I encoded the file using simple code (like this <a href=\"https://www.baeldung.com/java-cipher-input-output-stream\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-cipher-input-output-stream</a>) I kept getting 'bad magic number' or 'bad decrypt' after some modifications.\nFinally, basing on openssl code (<a href=\"https://github.com/openssl/openssl/blob/master/apps/enc.c\" rel=\"nofollow noreferrer\">https://github.com/openssl/openssl/blob/master/apps/enc.c</a>) I've managed to write code that works. Below is the result:</p>\n<pre><code>import lombok.SneakyThrows;\n\nimport javax.crypto.Cipher;\nimport javax.crypto.CipherOutputStream;\nimport javax.crypto.SecretKey;\nimport javax.crypto.SecretKeyFactory;\nimport javax.crypto.spec.IvParameterSpec;\nimport javax.crypto.spec.PBEKeySpec;\nimport javax.crypto.spec.SecretKeySpec;\nimport java.io.OutputStream;\nimport java.security.SecureRandom;\nimport java.security.spec.KeySpec;\nimport java.util.Arrays;\n\nimport static java.nio.charset.StandardCharsets.US_ASCII;\n\npublic class EncryptionUtil {\n\n    private static final int KEY_LENGTH = 32;\n    private static final int IV_LENGTH = 16;\n\n    /** OpenSSL's magic initial bytes. */\n    private static final String SALTED_STR = &quot;Salted__&quot;;\n    private static final byte[] SALTED_MAGIC = SALTED_STR.getBytes(US_ASCII);\n\n    @SneakyThrows\n    public static OutputStream encodeOutputStream(OutputStream outputStream, String password) {\n        Cipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS5PADDING&quot;);\n\n        byte[] salt = new SecureRandom().generateSeed(8);\n        SecretKeyFactory factory = SecretKeyFactory.getInstance(&quot;PBKDF2WithHmacSHA256&quot;);\n        KeySpec spec = new PBEKeySpec(password.toCharArray(), salt, 1000000, (KEY_LENGTH + IV_LENGTH)*8);\n        byte[] encodedKey = factory.generateSecret(spec).getEncoded();\n        SecretKey secretKey = new SecretKeySpec(Arrays.copyOfRange(encodedKey, 0, KEY_LENGTH), &quot;AES&quot;);\n        IvParameterSpec iv = new IvParameterSpec(Arrays.copyOfRange(encodedKey, KEY_LENGTH, encodedKey.length));\n\n        outputStream.write(SALTED_MAGIC);\n        outputStream.write(salt);\n\n        cipher.init(Cipher.ENCRYPT_MODE, secretKey, iv);\n\n        return new CipherOutputStream(outputStream, cipher);\n    }\n}\n</code></pre>\n<p>Above code we can simply use for example like this:</p>\n<pre><code>try (InputStream in = new FileInputStream(inFilePath);\n     OutputStream encryptedOutputStream = EncryptionUtil.encodeOutputStream(new FileOutputStream(encFilePath), &quot;password&quot;)) {\n     IOUtils.copy(in, encryptedOutputStream);\n}\n</code></pre>\n<p>Apart from source openssl code, it is also inspired with code presented in another topic: <a href=\"https://stackoverflow.com/a/41495143\">https://stackoverflow.com/a/41495143</a> but I suppose there is EVP_BytesToKey method (<a href=\"https://www.openssl.org/docs/man3.1/man3/EVP_BytesToKey.html\" rel=\"nofollow noreferrer\">https://www.openssl.org/docs/man3.1/man3/EVP_BytesToKey.html</a>) used (like in @Vic's answer) and I required PBKDF2 (<a href=\"https://www.openssl.org/docs/man3.0/man7/EVP_KDF-PBKDF2.html\" rel=\"nofollow noreferrer\">https://www.openssl.org/docs/man3.0/man7/EVP_KDF-PBKDF2.html</a>).</p>\n"}],"owner":{"account_id":773917,"reputation":2085,"user_id":818316,"accept_rate":68,"display_name":"kabal"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9756,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1701087331,"creation_date":1395667552,"question_id":22610761,"body_markdown":"I am trying to do a simple AES encryption in Java, using Java Cryto, that can then be decrypted in ObjectiveC, using OpenSSL.\r\n\r\nas I am not doing the ObjectiveC side, I want to make sure it works, using the openSSL command line, but I always get &quot;bad magic number&quot;\r\n\r\nHere is my Java code\r\n\r\n    public class EncryptionUtils {\r\n\t\r\n\tprivate static final String AES_CIPHER_METHOD = &quot;AES&quot;;\r\n\tprivate static final int AES_KEY_SIZE = 128;\r\n\t\r\n\tpublic static byte[] generateAesKey() throws NoSuchAlgorithmException {\r\n\t\tKeyGenerator keyGenerator = KeyGenerator.getInstance(AES_CIPHER_METHOD);\r\n\t\tkeyGenerator.init(AES_KEY_SIZE);\r\n\t    SecretKey key = keyGenerator.generateKey();\r\n\t    return key.getEncoded();\r\n\t}\r\n\t\r\n\tpublic static SecretKeySpec createAesKeySpec(byte[] aesKey) {\r\n\t\treturn new SecretKeySpec(aesKey, AES_CIPHER_METHOD);\r\n\t}\r\n\t\r\n\tpublic static void aesEncryptFile(File in, File out, SecretKeySpec aesKeySpec) throws InvalidKeyException, NoSuchAlgorithmException, NoSuchPaddingException, IOException {\r\n\t\tCipher aesCipher = Cipher.getInstance(AES_CIPHER_METHOD);\r\n\t\taesCipher.init(Cipher.ENCRYPT_MODE, aesKeySpec);\r\n\t\tInputStream inputStream = new FileInputStream(in);\r\n\t\ttry {\r\n\t\t\tOutputStream outputStream = new CipherOutputStream(new FileOutputStream(out), aesCipher);\r\n\t\t\ttry {\r\n\t\t\t\tIOUtils.copy(inputStream , outputStream);\r\n\t\t\t} finally {\r\n\t\t\t\toutputStream.close();\r\n\t\t\t}\r\n\t\t} finally {\r\n\t\t\tinputStream.close();\r\n\t\t}\r\n\t}\r\n\t}\r\n\r\n\r\n    //testcode\r\n    @Test\r\n    public void testAesEncryptFile() throws IOException, InvalidKeyException, IllegalBlockSizeException, BadPaddingException, NoSuchAlgorithmException, NoSuchPaddingException {\r\n\t    byte[] aesKey = EncryptionUtils.generateAesKey();\r\n\t    SecretKeySpec aesKeySpec = EncryptionUtils.createAesKeySpec(aesKey);\r\n\t    EncryptionUtils.aesEncryptFile(new File(&quot;C:\\\\test\\\\test.txt&quot;), new File(&quot;C:\\\\test\\\\test-encrypted.txt&quot;), aesKeySpec);\r\n\t    \r\n\t    FileOutputStream outputStream = new FileOutputStream(&quot;C:\\\\test\\\\aes.key&quot;);\r\n        outputStream.write(aesKey);\r\n        outputStream.close();\r\n    }\r\n\t\r\n\t@Test\r\n    public void testAesDecryptFile() throws IOException, InvalidKeyException, IllegalBlockSizeException, BadPaddingException, NoSuchAlgorithmException, NoSuchPaddingException {\r\n\t    FileInputStream keyFis = new FileInputStream(&quot;C:\\\\test\\\\aes.key&quot;);\r\n        ByteArrayOutputStream keyBaos = new ByteArrayOutputStream();\r\n        IOUtils.copy(keyFis, keyBaos);\r\n        \r\n        SecretKeySpec keySpec = new SecretKeySpec(keyBaos.toByteArray(), &quot;AES&quot;);\r\n        Cipher cipher = Cipher.getInstance(&quot;AES&quot;);\r\n        cipher.init(Cipher.DECRYPT_MODE, keySpec);\r\n        \r\n        FileInputStream fileInputStream = new FileInputStream(&quot;C:\\\\test\\\\test-encrypted.txt&quot;);\r\n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n        IOUtils.copy(fileInputStream, baos);\r\n        \r\n        byte[] decrypted = cipher.doFinal(baos.toByteArray());\r\n        FileOutputStream outputStream = new FileOutputStream(&quot;C:\\\\test\\\\test-decrypted.txt&quot;);\r\n        outputStream.write(decrypted);\r\n        outputStream.close();\r\n        \r\n    }\r\n\r\n\r\nNow that runs as expected, file &quot;test-encrypted.txt&quot; is indeed encrypted, and &quot;test-decrypted.txt&quot; == &quot;test.txt&quot;\r\n\r\n\r\nI then tried to run a decryption on the command line using OpenSSL\r\n\r\n    openssl enc -d -aes-128-ecb -in test-encrypted.txt -k aes.key\r\n\r\nhowever, this always give me \r\n\r\n    bad magic number\r\n\r\nFrom what I can see, the using algorithm &quot;AES&quot; in Java uses &quot;ECB&quot; mode by default, so the above should work. What am I doing wrong.\r\n\r\n\r\n","title":"AES - simple encrypt in Java, decrypt with openssl","body":"<p>I am trying to do a simple AES encryption in Java, using Java Cryto, that can then be decrypted in ObjectiveC, using OpenSSL.</p>\n\n<p>as I am not doing the ObjectiveC side, I want to make sure it works, using the openSSL command line, but I always get \"bad magic number\"</p>\n\n<p>Here is my Java code</p>\n\n<pre><code>public class EncryptionUtils {\n\nprivate static final String AES_CIPHER_METHOD = \"AES\";\nprivate static final int AES_KEY_SIZE = 128;\n\npublic static byte[] generateAesKey() throws NoSuchAlgorithmException {\n    KeyGenerator keyGenerator = KeyGenerator.getInstance(AES_CIPHER_METHOD);\n    keyGenerator.init(AES_KEY_SIZE);\n    SecretKey key = keyGenerator.generateKey();\n    return key.getEncoded();\n}\n\npublic static SecretKeySpec createAesKeySpec(byte[] aesKey) {\n    return new SecretKeySpec(aesKey, AES_CIPHER_METHOD);\n}\n\npublic static void aesEncryptFile(File in, File out, SecretKeySpec aesKeySpec) throws InvalidKeyException, NoSuchAlgorithmException, NoSuchPaddingException, IOException {\n    Cipher aesCipher = Cipher.getInstance(AES_CIPHER_METHOD);\n    aesCipher.init(Cipher.ENCRYPT_MODE, aesKeySpec);\n    InputStream inputStream = new FileInputStream(in);\n    try {\n        OutputStream outputStream = new CipherOutputStream(new FileOutputStream(out), aesCipher);\n        try {\n            IOUtils.copy(inputStream , outputStream);\n        } finally {\n            outputStream.close();\n        }\n    } finally {\n        inputStream.close();\n    }\n}\n}\n\n\n//testcode\n@Test\npublic void testAesEncryptFile() throws IOException, InvalidKeyException, IllegalBlockSizeException, BadPaddingException, NoSuchAlgorithmException, NoSuchPaddingException {\n    byte[] aesKey = EncryptionUtils.generateAesKey();\n    SecretKeySpec aesKeySpec = EncryptionUtils.createAesKeySpec(aesKey);\n    EncryptionUtils.aesEncryptFile(new File(\"C:\\\\test\\\\test.txt\"), new File(\"C:\\\\test\\\\test-encrypted.txt\"), aesKeySpec);\n\n    FileOutputStream outputStream = new FileOutputStream(\"C:\\\\test\\\\aes.key\");\n    outputStream.write(aesKey);\n    outputStream.close();\n}\n\n@Test\npublic void testAesDecryptFile() throws IOException, InvalidKeyException, IllegalBlockSizeException, BadPaddingException, NoSuchAlgorithmException, NoSuchPaddingException {\n    FileInputStream keyFis = new FileInputStream(\"C:\\\\test\\\\aes.key\");\n    ByteArrayOutputStream keyBaos = new ByteArrayOutputStream();\n    IOUtils.copy(keyFis, keyBaos);\n\n    SecretKeySpec keySpec = new SecretKeySpec(keyBaos.toByteArray(), \"AES\");\n    Cipher cipher = Cipher.getInstance(\"AES\");\n    cipher.init(Cipher.DECRYPT_MODE, keySpec);\n\n    FileInputStream fileInputStream = new FileInputStream(\"C:\\\\test\\\\test-encrypted.txt\");\n    ByteArrayOutputStream baos = new ByteArrayOutputStream();\n    IOUtils.copy(fileInputStream, baos);\n\n    byte[] decrypted = cipher.doFinal(baos.toByteArray());\n    FileOutputStream outputStream = new FileOutputStream(\"C:\\\\test\\\\test-decrypted.txt\");\n    outputStream.write(decrypted);\n    outputStream.close();\n\n}\n</code></pre>\n\n<p>Now that runs as expected, file \"test-encrypted.txt\" is indeed encrypted, and \"test-decrypted.txt\" == \"test.txt\"</p>\n\n<p>I then tried to run a decryption on the command line using OpenSSL</p>\n\n<pre><code>openssl enc -d -aes-128-ecb -in test-encrypted.txt -k aes.key\n</code></pre>\n\n<p>however, this always give me </p>\n\n<pre><code>bad magic number\n</code></pre>\n\n<p>From what I can see, the using algorithm \"AES\" in Java uses \"ECB\" mode by default, so the above should work. What am I doing wrong.</p>\n"},{"tags":["java","spring","hibernate","spring-mvc"],"comments":[{"owner":{"account_id":2437979,"reputation":1980,"user_id":2127357,"accept_rate":90,"display_name":"CAPS LOCK"},"score":0,"creation_date":1461235796,"post_id":25514740,"comment_id":61112319,"body_markdown":"Was this ever resolved?","body":"Was this ever resolved?"}],"answers":[{"comments":[{"owner":{"account_id":1270321,"reputation":340,"user_id":1226773,"display_name":"birya"},"score":0,"creation_date":1409086979,"post_id":25514991,"comment_id":39831803,"body_markdown":"You got ObjectNotFoundException? So, maybe there is no such object in the db? Or you&#39;re providing wrong id","body":"You got ObjectNotFoundException? So, maybe there is no such object in the db? Or you&#39;re providing wrong id"},{"owner":{"account_id":1590801,"reputation":3115,"user_id":1474153,"accept_rate":35,"display_name":"Robertas Setkus"},"score":0,"creation_date":1409087687,"post_id":25514991,"comment_id":39832122,"body_markdown":"While I was writing a question I missed that hibernate generated empty schema for me. Changed hibernate configuration and now `ObjectNotFoundException` vanished. I am pretty sure that the row by given key exists in the database.","body":"While I was writing a question I missed that hibernate generated empty schema for me. Changed hibernate configuration and now <code>ObjectNotFoundException</code> vanished. I am pretty sure that the row by given key exists in the database."},{"owner":{"account_id":1590801,"reputation":3115,"user_id":1474153,"accept_rate":35,"display_name":"Robertas Setkus"},"score":0,"creation_date":1409150740,"post_id":25514991,"comment_id":39858819,"body_markdown":"Still `LazyInitializationException` appears. I edited question.","body":"Still <code>LazyInitializationException</code> appears. I edited question."}],"tags":[],"owner":{"account_id":1270321,"reputation":340,"user_id":1226773,"display_name":"birya"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1409086553,"creation_date":1409086553,"answer_id":25514991,"question_id":25514740,"body_markdown":"The proper way to get object by its id will be \r\n\r\n   \r\n\r\n       public Setting get(final String key) {\r\n          return (Setting)  sessionFactory.getCurrentSession().get(Setting.class, key);\r\n       }","title":"Method threw &#39;org.hibernate.LazyInitializationException&#39; exception","body":"<p>The proper way to get object by its id will be </p>\n\n<pre><code>   public Setting get(final String key) {\n      return (Setting)  sessionFactory.getCurrentSession().get(Setting.class, key);\n   }\n</code></pre>\n"}],"owner":{"account_id":1590801,"reputation":3115,"user_id":1474153,"accept_rate":35,"display_name":"Robertas Setkus"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9992,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1701086690,"creation_date":1409085477,"question_id":25514740,"body_markdown":"I am getting `LazyInitializationException` while using `createQuery()`, `load()` or `get()` methods. Configuration is based on annotations.\r\n\r\nThis is exception which I am getting:\r\n\r\n    Method threw &#39;org.hibernate.LazyInitializationException&#39; exception. Cannot evaluate lt.package.to.Setting_$$_jvstfff_0.toString()\r\n\r\nSchema structure:\r\n\r\n    CREATE TABLE IF NOT EXISTS `Settings` (\r\n      `key` varchar(255) COLLATE utf8_lithuanian_ci NOT NULL,\r\n      `value` varchar(255) COLLATE utf8_lithuanian_ci DEFAULT NULL,\r\n      PRIMARY KEY (`key`)\r\n    ) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_lithuanian_ci;\r\n\r\nPersistenceConfig.java\r\n\r\n    @Configuration\r\n    @ComponentScan(basePackages= {&quot;lt.setkus.sandbox.persistence&quot;})\r\n    @EnableTransactionManagement\r\n    @PropertySource({&quot;/WEB-INF/properties/configuration.properties&quot;})\r\n    public class PersistenceConfig {\r\n    \r\n        @Autowired\r\n        private Environment environment;\r\n    \r\n        private Properties getHibernateProperties() {\r\n            Properties properties = new Properties();\r\n    \r\n            properties.setProperty(&quot;hibernate.hbm2ddl.auto&quot;, environment.getProperty(&quot;hibernate.hbm2ddl.auto&quot;));\r\n            properties.setProperty(&quot;hibernate.dialect&quot;, environment.getProperty(&quot;hibernate.dialect&quot;));\r\n            properties.setProperty(&quot;hibernate.globally_quoted_identifiers&quot;, &quot;true&quot;);\r\n    \r\n            return properties;\r\n        }\r\n    \r\n        @Bean\r\n        public LocalSessionFactoryBean provideSessionFactoryBean() {\r\n            LocalSessionFactoryBean localSessionFactoryBean = new LocalSessionFactoryBean();\r\n    \r\n            localSessionFactoryBean.setDataSource(getDataSource());\r\n            localSessionFactoryBean.setPackagesToScan(&quot;lt.setkus.sandbox.persistence.domain&quot;);\r\n            localSessionFactoryBean.setHibernateProperties(getHibernateProperties());\r\n    \r\n            return localSessionFactoryBean;\r\n        }\r\n    \t\r\n    \t@Bean\r\n    \tpublic DataSource getDataSource() {\r\n    \t\tDriverManagerDataSource dataSource = new DriverManagerDataSource();\r\n    \t\t\r\n    \t\tdataSource.setDriverClassName(environment.getProperty(&quot;jdbc.driver&quot;));\r\n    \t\tdataSource.setUrl(environment.getProperty(&quot;jdbc.url&quot;));\r\n    \t\tdataSource.setUsername(environment.getProperty(&quot;jdbc.user&quot;));\r\n    \t\tdataSource.setPassword(environment.getProperty(&quot;jdbc.password&quot;));\r\n    \t\t\r\n    \t\treturn dataSource;\r\n    \t}\r\n    \r\n        @Bean\r\n        @Autowired\r\n        public HibernateTransactionManager provideTransactionManager(SessionFactory sessionFactory) {\r\n            HibernateTransactionManager hibernateTransactioManager = new HibernateTransactionManager();\r\n            hibernateTransactioManager.setSessionFactory(sessionFactory);\r\n    \r\n            return hibernateTransactioManager;\r\n        }\r\n    \r\n        @Bean\r\n        public PersistenceExceptionTranslationPostProcessor provideExceptionTranslationPostProcessor() {\r\n            return new PersistenceExceptionTranslationPostProcessor();\r\n        }\r\n    \t\r\n    \t@Bean\r\n    \tpublic PostItemRepository postItemRepository() {\r\n    \t\treturn new FacebookPostRepository();\r\n    \t}\r\n    \t\r\n    \t@Bean\r\n    \tpublic PostPersistenceService postPersistenceService(PostItemRepository postItemRepository) {\r\n    \t\treturn new PostPersistenceEventHandler(postItemRepository);\r\n    \t}\r\n    \r\n        @Bean\r\n        public SettingRepository provideSettingRepository() {\r\n            return new SettingDatabaseRepository();\r\n        }\r\n    \r\n        @Bean\r\n        public SettingPersistenceService provideSettingPersistenceService(SettingRepository settingRepository) {\r\n            return new SettingPersistenceEventHandler(settingRepository);\r\n        }\r\n    }\r\n\r\nDomain model class\r\n\r\n    @Entity\r\n    @Table(name = &quot;settings&quot;)\r\n    public class Setting implements Serializable {\r\n        @Id\r\n        @Column(name = &quot;key&quot;, unique = true)\r\n        private String key;\r\n    \r\n        @Column(name = &quot;value&quot;)\r\n        private String value;\r\n    \r\n        public String getKey() {\r\n            return key;\r\n        }\r\n    \r\n        public void setKey(String key) {\r\n            this.key = key;\r\n        }\r\n    \r\n        public String getValue() {\r\n            return value;\r\n        }\r\n    \r\n        public void setValue(String value) {\r\n            this.value = value;\r\n        }\r\n    \r\n        public SettingDetails toSettingDetails() {\r\n            SettingDetails settingDetails = new SettingDetails();\r\n            BeanUtils.copyProperties(this, settingDetails);\r\n    \r\n            return settingDetails;\r\n        }\r\n    \r\n        public static Setting fromSettingDetails(SettingDetails settingDetails) {\r\n            Setting setting = new Setting();\r\n            BeanUtils.copyProperties(settingDetails, setting);\r\n    \r\n            return setting;\r\n        }\r\n    }\r\n\r\nService layer\r\n\r\n    public class SettingDatabaseRepository implements SettingRepository {\r\n    \r\n        @Autowired\r\n        private SessionFactory sessionFactory;\r\n    \r\n        @Override\r\n        @Transactional\r\n        public Setting get(final String key) {\r\n           return (Setting)sessionFactory.getCurrentSession().get(Setting.class, key);\r\n        }\r\n    }\r\n\r\n\r\nI really can&#39;t find any mistake which is causing these exceptions. What I am doing wrong?\r\n","title":"Method threw &#39;org.hibernate.LazyInitializationException&#39; exception","body":"<p>I am getting <code>LazyInitializationException</code> while using <code>createQuery()</code>, <code>load()</code> or <code>get()</code> methods. Configuration is based on annotations.</p>\n\n<p>This is exception which I am getting:</p>\n\n<pre><code>Method threw 'org.hibernate.LazyInitializationException' exception. Cannot evaluate lt.package.to.Setting_$$_jvstfff_0.toString()\n</code></pre>\n\n<p>Schema structure:</p>\n\n<pre><code>CREATE TABLE IF NOT EXISTS `Settings` (\n  `key` varchar(255) COLLATE utf8_lithuanian_ci NOT NULL,\n  `value` varchar(255) COLLATE utf8_lithuanian_ci DEFAULT NULL,\n  PRIMARY KEY (`key`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_lithuanian_ci;\n</code></pre>\n\n<p>PersistenceConfig.java</p>\n\n<pre><code>@Configuration\n@ComponentScan(basePackages= {\"lt.setkus.sandbox.persistence\"})\n@EnableTransactionManagement\n@PropertySource({\"/WEB-INF/properties/configuration.properties\"})\npublic class PersistenceConfig {\n\n    @Autowired\n    private Environment environment;\n\n    private Properties getHibernateProperties() {\n        Properties properties = new Properties();\n\n        properties.setProperty(\"hibernate.hbm2ddl.auto\", environment.getProperty(\"hibernate.hbm2ddl.auto\"));\n        properties.setProperty(\"hibernate.dialect\", environment.getProperty(\"hibernate.dialect\"));\n        properties.setProperty(\"hibernate.globally_quoted_identifiers\", \"true\");\n\n        return properties;\n    }\n\n    @Bean\n    public LocalSessionFactoryBean provideSessionFactoryBean() {\n        LocalSessionFactoryBean localSessionFactoryBean = new LocalSessionFactoryBean();\n\n        localSessionFactoryBean.setDataSource(getDataSource());\n        localSessionFactoryBean.setPackagesToScan(\"lt.setkus.sandbox.persistence.domain\");\n        localSessionFactoryBean.setHibernateProperties(getHibernateProperties());\n\n        return localSessionFactoryBean;\n    }\n\n    @Bean\n    public DataSource getDataSource() {\n        DriverManagerDataSource dataSource = new DriverManagerDataSource();\n\n        dataSource.setDriverClassName(environment.getProperty(\"jdbc.driver\"));\n        dataSource.setUrl(environment.getProperty(\"jdbc.url\"));\n        dataSource.setUsername(environment.getProperty(\"jdbc.user\"));\n        dataSource.setPassword(environment.getProperty(\"jdbc.password\"));\n\n        return dataSource;\n    }\n\n    @Bean\n    @Autowired\n    public HibernateTransactionManager provideTransactionManager(SessionFactory sessionFactory) {\n        HibernateTransactionManager hibernateTransactioManager = new HibernateTransactionManager();\n        hibernateTransactioManager.setSessionFactory(sessionFactory);\n\n        return hibernateTransactioManager;\n    }\n\n    @Bean\n    public PersistenceExceptionTranslationPostProcessor provideExceptionTranslationPostProcessor() {\n        return new PersistenceExceptionTranslationPostProcessor();\n    }\n\n    @Bean\n    public PostItemRepository postItemRepository() {\n        return new FacebookPostRepository();\n    }\n\n    @Bean\n    public PostPersistenceService postPersistenceService(PostItemRepository postItemRepository) {\n        return new PostPersistenceEventHandler(postItemRepository);\n    }\n\n    @Bean\n    public SettingRepository provideSettingRepository() {\n        return new SettingDatabaseRepository();\n    }\n\n    @Bean\n    public SettingPersistenceService provideSettingPersistenceService(SettingRepository settingRepository) {\n        return new SettingPersistenceEventHandler(settingRepository);\n    }\n}\n</code></pre>\n\n<p>Domain model class</p>\n\n<pre><code>@Entity\n@Table(name = \"settings\")\npublic class Setting implements Serializable {\n    @Id\n    @Column(name = \"key\", unique = true)\n    private String key;\n\n    @Column(name = \"value\")\n    private String value;\n\n    public String getKey() {\n        return key;\n    }\n\n    public void setKey(String key) {\n        this.key = key;\n    }\n\n    public String getValue() {\n        return value;\n    }\n\n    public void setValue(String value) {\n        this.value = value;\n    }\n\n    public SettingDetails toSettingDetails() {\n        SettingDetails settingDetails = new SettingDetails();\n        BeanUtils.copyProperties(this, settingDetails);\n\n        return settingDetails;\n    }\n\n    public static Setting fromSettingDetails(SettingDetails settingDetails) {\n        Setting setting = new Setting();\n        BeanUtils.copyProperties(settingDetails, setting);\n\n        return setting;\n    }\n}\n</code></pre>\n\n<p>Service layer</p>\n\n<pre><code>public class SettingDatabaseRepository implements SettingRepository {\n\n    @Autowired\n    private SessionFactory sessionFactory;\n\n    @Override\n    @Transactional\n    public Setting get(final String key) {\n       return (Setting)sessionFactory.getCurrentSession().get(Setting.class, key);\n    }\n}\n</code></pre>\n\n<p>I really can't find any mistake which is causing these exceptions. What I am doing wrong?</p>\n"},{"tags":["java","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":29772902,"reputation":49,"user_id":22817655,"display_name":"Kodigas"},"score":0,"creation_date":1701073644,"post_id":77555439,"comment_id":136725102,"body_markdown":"Related: [Are there out of the box solutions for persisting a whole object graph by its node?](https://stackoverflow.com/questions/77523406/are-there-out-of-the-box-solutions-for-persisting-a-whole-object-graph-by-its-no)","body":"Related: <a href=\"https://stackoverflow.com/questions/77523406/are-there-out-of-the-box-solutions-for-persisting-a-whole-object-graph-by-its-no\">Are there out of the box solutions for persisting a whole object graph by its node?</a>"},{"owner":{"account_id":29772902,"reputation":49,"user_id":22817655,"display_name":"Kodigas"},"score":0,"creation_date":1701083947,"post_id":77555439,"comment_id":136726860,"body_markdown":"You can drop a comment, &quot;Dude, you&#39;re on the wrong track, here&#39;s what you need to do instead&quot;. It would be appreciated too. I really need feedback","body":"You can drop a comment, &quot;Dude, you&#39;re on the wrong track, here&#39;s what you need to do instead&quot;. It would be appreciated too. I really need feedback"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1701096280,"post_id":77555439,"comment_id":136729164,"body_markdown":"This isn&#39;t a great post for stack overflow as there is far too much effort to debug your code, and warning that it isn&#39;t very readable is certainly a deterrent - people are more willing to read and help if you run the code and show the errors, and maybe narrow down issues to one specific problem. Id suggest you start small and build up or you&#39;ll be overwhelmed with small problems and get to a point where fixing one may cause others that aren&#39;t noticed right away, and those willing to help will be as well.","body":"This isn&#39;t a great post for stack overflow as there is far too much effort to debug your code, and warning that it isn&#39;t very readable is certainly a deterrent - people are more willing to read and help if you run the code and show the errors, and maybe narrow down issues to one specific problem. Id suggest you start small and build up or you&#39;ll be overwhelmed with small problems and get to a point where fixing one may cause others that aren&#39;t noticed right away, and those willing to help will be as well."}],"owner":{"account_id":29772902,"reputation":49,"user_id":22817655,"display_name":"Kodigas"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701086478,"creation_date":1701073539,"question_id":77555439,"body_markdown":"`@Sql` scripts are error-prone and not OOP. I want my tests to be rid of them. This would be perfect:\r\n```java\r\n@DataJpaTest\r\n@ActiveProfiles(&quot;test&quot;)\r\n@Import(value = BasicPersister.class)\r\nclass CardRepositoryTest {\r\n    @Autowired\r\n    private CardRepository cardRepository;\r\n    private FieldInspector fieldInspector;\r\n    private DataGenerator dataGenerator;\r\n    @Autowired\r\n    private Persister persister;\r\n    private Card expectedCard;\r\n\r\n    @BeforeEach\r\n    void setUp() {\r\n        dataGenerator = new BasicDataGenerator();\r\n        expectedCard = dataGenerator.generateRandomCard();\r\n        persister.persistGraph(expectedCard);\r\n    }\r\n\r\n    @Test\r\n    void testSomething() {\r\n    // it&#39;s an MRE, let leave it like that for now\r\n    }\r\n}\r\n```\r\n`DataGenerator` implementation is out of scope of this question. The general idea is:\r\n```java\r\npublic class BasicDataGenerator implements DataGenerator {\r\n    private static final Faker faker = new Faker();\r\n    @Override\r\n    public Card generateRandomCard() {\r\n        Card card = Card.builder()\r\n                .id(UUID.randomUUID())\r\n                .cardNumber(getRandomLongAsString())\r\n                .holderName(faker.name().fullName())\r\n                .expirationDate(getRandomFutureLocalDate())\r\n                .paymentSystem(getRandomEnumConstant(PaymentSystem.class))\r\n                .cardBalance(getRandomBigDecimal())\r\n                .cardStatus(getRandomEnumConstant(CardStatus.class))\r\n                .transactionLimit(getRandomBigDecimal())\r\n                .deliveryPoint(faker.address().fullAddress())\r\n                .isDigitalWallet(getRandomBoolean())\r\n                .isVirtual(getRandomBoolean())\r\n                .coBrand(faker.company().name())\r\n                .cardAlias(faker.funnyName().name())\r\n                .build();\r\n        Account account = generateRandomAccountFor(card);\r\n        card.setAccount(account);\r\n        return card;\r\n    }\r\n\r\n// ...\r\n```\r\nLet&#39;s make it simpler and also simplify the graph. Simplified `DataGenerator`:\r\n```java\r\npublic class SimplifiedDataGenerator implements DataGenerator {\r\n\r\n    @Override\r\n    public Card generateRandomCard() {\r\n        Card card = Card.builder()\r\n                .id(UUID.randomUUID())\r\n                .build();\r\n        Account account = generateRandomAccountFor(card);\r\n        card.setAccount(account);\r\n        return card;\r\n    }\r\n\r\n    @Override\r\n    public Account generateRandomAccountFor(Card card) {\r\n        Account account = Account.builder()\r\n                .id(UUID.randomUUID())\r\n                .cards(List.of(card))\r\n                .build();\r\n        PaymentSchedule paymentSchedule = generateRandomPaymentScheduleFor(account);\r\n        Agreement agreement = generateRandomAgreementFor(account);\r\n        Credit credit = generateRandomCreditFor(agreement, account);\r\n        account.setPaymentSchedules(List.of(paymentSchedule));\r\n        account.setCredit(credit);\r\n        card.setAccount(account);\r\n        return account;\r\n    }\r\n\r\n    @Override\r\n    public Agreement generateRandomAgreementFor(Account account) {\r\n        Agreement agreement = Agreement.builder()\r\n                .id(UUID.randomUUID())\r\n                .build();\r\n        Credit credit = generateRandomCreditFor(agreement, account);\r\n        agreement.setCredit(credit);\r\n        account.setCredit(credit);\r\n        return agreement;\r\n    }\r\n\r\n    @Override\r\n    public PaymentSchedule generateRandomPaymentScheduleFor(Account account) {\r\n        PaymentSchedule paymentSchedule = PaymentSchedule.builder()\r\n                .id(UUID.randomUUID())\r\n                .account(account)\r\n                .build();\r\n        account.setPaymentSchedules(new ArrayList&lt;&gt;(List.of(paymentSchedule)));\r\n        return paymentSchedule;\r\n    }\r\n\r\n    @Override\r\n    public Credit generateRandomCreditFor(Agreement agreement, Account account) {\r\n        Credit credit = Credit.builder()\r\n                .id(UUID.randomUUID())\r\n                .account(account)\r\n                .agreement(agreement)\r\n                .build();\r\n        agreement.setCredit(credit);\r\n        account.setCredit(credit);\r\n        return credit;\r\n    }\r\n\r\n    @Override\r\n    public CreditOrder generateRandomCreditOrder() {\r\n        return CreditOrder.builder()\r\n                .id(UUID.randomUUID())\r\n                .product(generateRandomProduct())\r\n                .build();\r\n    }\r\n\r\n    @Override\r\n    public Product generateRandomProduct() {\r\n        return Product.builder()\r\n                .id(new Random().nextInt(100))\r\n                .build();\r\n    }\r\n}\r\n```\r\nThe simplified graph:\r\n```java\r\n/* I&#39;ll include these class annotations only for \r\nthe first entity to keep it short */\r\n\r\n@Entity\r\n@Table(name = &quot;card&quot;)\r\n@Getter\r\n@Setter(AccessLevel.PUBLIC)\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Builder\r\npublic class Card {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name = &quot;id&quot;)\r\n    private UUID id;\r\n\r\n    @ManyToOne(cascade = CascadeType.MERGE)\r\n    @JoinColumn(name = &quot;account_id&quot;, referencedColumnName = &quot;id&quot;)\r\n    private Account account;\r\n}\r\n```\r\n```java\r\npublic class Account {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name = &quot;id&quot;)\r\n    private UUID id;\r\n\r\n    @OneToOne(cascade = CascadeType.MERGE)\r\n    @JoinColumn(name = &quot;credit_id&quot;, referencedColumnName = &quot;id&quot;)\r\n    private Credit credit;\r\n\r\n    @OneToMany(mappedBy = &quot;account&quot;)\r\n    private List&lt;Card&gt; cards;\r\n\r\n    @OneToMany(mappedBy = &quot;account&quot;)\r\n    private List&lt;PaymentSchedule&gt; paymentSchedules;\r\n}\r\n```\r\n```java\r\npublic class PaymentSchedule {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name = &quot;id&quot;)\r\n    private UUID id;\r\n\r\n    @ManyToOne(cascade = CascadeType.MERGE)\r\n    @JoinColumn(name = &quot;account_id&quot;)\r\n    private Account account;\r\n}\r\n```\r\n```java\r\npublic class Credit {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name = &quot;id&quot;)\r\n    private UUID id;\r\n\r\n    @OneToOne(mappedBy = &quot;credit&quot;)\r\n    private Account account;\r\n\r\n    @OneToOne(mappedBy = &quot;credit&quot;)\r\n    private Agreement agreement;\r\n\r\n    @OneToOne\r\n    @JoinColumn(name = &quot;order_id&quot;)\r\n    private CreditOrder creditOrder;\r\n}\r\n```\r\n```java\r\npublic class Agreement {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name = &quot;id&quot;)\r\n    private UUID id;\r\n\r\n    @OneToOne(cascade = CascadeType.MERGE)\r\n    @JoinColumn(name = &quot;credit_id&quot;, referencedColumnName = &quot;id&quot;)\r\n    private Credit credit;\r\n}\r\n```\r\n```java\r\npublic class CreditOrder {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name = &quot;id&quot;)\r\n    private UUID id;\r\n\r\n    @ManyToOne(cascade = {CascadeType.MERGE, CascadeType.PERSIST})\r\n    @JoinColumn(name = &quot;product_id&quot;)\r\n    private Product product;\r\n}\r\n```\r\n```java\r\npublic class Product implements Serializable { // I have no idea why it implements Serializable\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name = &quot;id&quot;)\r\n    private Integer id;\r\n    \r\n    // it doesn&#39;t have any association fields\r\n}\r\n```\r\nSo let&#39;s get to my `Persister` implementation. My priorities were:\r\n1. I want to persist a whole graph by any graph node (hence it&#39;s generic)\r\n2. I want my API to be tolerant to whether cascade configuration is properly set up (as in `@ManyToOne(cascade = ...`)\r\n\r\nI warn you, it&#39;s not very readable. The general idea is &quot;deeply&quot; counting foreign keys (foreign keys of entities referenced by foreign keys are counted too), prioritizing entities for persistence (those that have more keys have lower priority, persisted later), then finding a `Repository` and a method, and then invoking it on each entity. Consider the code below a draft. It doesn&#39;t work yet:\r\n```java\r\n@Component\r\n@RequiredArgsConstructor\r\npublic class BasicPersister implements Persister {\r\n    private final List&lt;Repository&lt;?, ?&gt;&gt; repositories;\r\n    private final Map&lt;Object, Integer&gt; foreignKeyMap = new HashMap&lt;&gt;();\r\n    private final List&lt;Object&gt; processedObjects = new ArrayList&lt;&gt;();\r\n\r\n    @Override\r\n    public &lt;T&gt; void persistGraph(T graphNode) {\r\n        if (graphNode == null) {\r\n            return;\r\n        }\r\n        TreeSet&lt;Object&gt; sortedEntities = sortGraphNodes(graphNode);\r\n        persistInOrder(sortedEntities);\r\n    }\r\n\r\n    private TreeSet&lt;Object&gt; sortGraphNodes(Object graphNode) {\r\n        countForeignKeys(graphNode);\r\n        TreeSet&lt;Object&gt; set = new TreeSet&lt;&gt;(Comparator.comparingInt(foreignKeyMap::get));\r\n        set.addAll(foreignKeyMap.keySet());\r\n        return set;\r\n    }\r\n\r\n    private void countForeignKeys(Object graphNode) {\r\n        if (processedObjects.contains(graphNode)) {\r\n            return;\r\n        }\r\n        int foreignKeyCount = 0;\r\n        List&lt;Field&gt; relationshipFields = new ArrayList&lt;&gt;();\r\n        for (Field field : graphNode.getClass().getDeclaredFields()) {\r\n            if (hasRelationshipAnnotation(field)) {\r\n                relationshipFields.add(field);\r\n            }\r\n        }\r\n        processedObjects.add(graphNode);\r\n        for (Field relationshipField : relationshipFields) {\r\n            relationshipField.setAccessible(true);\r\n            Object fieldValue = ReflectionUtils.getField(relationshipField, graphNode);\r\n            if (fieldValue != null) {\r\n                if (!(fieldValue instanceof Collection)) {\r\n                    countForeignKeys(fieldValue);\r\n                    if (relationshipField.getAnnotation(JoinColumn.class) != null) {\r\n                        foreignKeyCount = 1 + foreignKeyMap.get(fieldValue);\r\n                    }\r\n                } else if (!((Collection&lt;?&gt;) fieldValue).isEmpty()) {\r\n                    ((Collection&lt;?&gt;) fieldValue).forEach(this::countForeignKeys);\r\n                    if (relationshipField.getAnnotation(JoinColumn.class) != null) {\r\n                        foreignKeyCount = 1 + foreignKeyMap.get(\r\n                                ((Collection&lt;?&gt;) fieldValue).stream().findAny().orElseThrow()\r\n                        );\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        foreignKeyMap.put(graphNode, foreignKeyCount);\r\n    }\r\n\r\n    private boolean hasRelationshipAnnotation(Field field) {\r\n        List&lt;Class&lt;? extends Annotation&gt;&gt; relationshipAnnotations = List.of(\r\n                OneToOne.class, OneToMany.class, ManyToOne.class, ManyToMany.class\r\n        );\r\n        return Arrays.stream(field.getAnnotations())\r\n                .map(Annotation::annotationType)\r\n                .anyMatch(relationshipAnnotations::contains);\r\n    }\r\n\r\n    private void persistInOrder(TreeSet&lt;Object&gt; sortedEntities) {\r\n        for (Object entity : sortedEntities) {\r\n            Repository&lt;?, ?&gt; matchingRepository = null;\r\n            for (Repository&lt;?, ?&gt; repository : repositories) {\r\n                String repositoryName = repository.getClass().getInterfaces()[0].getName();\r\n                if (isMatchingRepository(repository, entity)) {\r\n                    matchingRepository = repository;\r\n                    break;\r\n                }\r\n            }\r\n            assert matchingRepository != null;\r\n            Method matchingSaveMethod = ReflectionUtils.findMethod(matchingRepository.getClass(), &quot;save&quot;, Object.class);\r\n            assert matchingSaveMethod != null;\r\n            Object invocationResult = null;\r\n            try { // it fails here\r\n                invocationResult = ReflectionUtils.invokeMethod(matchingSaveMethod, matchingRepository, entity);\r\n            } catch (Exception ignored) {\r\n                System.out.println(); // dummy statement to stop a debugger and analyze the exception\r\n            }\r\n            assert invocationResult != null;\r\n            List&lt;Field&gt; idFields = findIdFields(invocationResult);\r\n            for (Field idField : idFields) {\r\n                idField.setAccessible(true);\r\n                Object newIdValue = ReflectionUtils.getField(idField, invocationResult);\r\n                ReflectionUtils.setField(idField, entity, newIdValue);\r\n            }\r\n        }\r\n    }\r\n\r\n    private boolean isMatchingRepository(Repository&lt;?, ?&gt; repository, Object entity) {\r\n        return AbstractRepositoryMetadata.getMetadata(repository.getClass().getInterfaces()[0])\r\n                .getDomainType()\r\n                .equals(entity.getClass());\r\n    }\r\n\r\n    private List&lt;Field&gt; findIdFields(Object entity) {\r\n        return Arrays.stream(entity.getClass().getDeclaredFields())\r\n                .filter(field -&gt; field.getAnnotation(Id.class) != null)\r\n                .collect(Collectors.toList());\r\n    }\r\n}\r\n```\r\nCan I get this monstrosity work? How?\r\n\r\n","title":"Can I ever get my Persister work? (it&#39;s intended to persist a graph by a graph node)","body":"<p><code>@Sql</code> scripts are error-prone and not OOP. I want my tests to be rid of them. This would be perfect:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@DataJpaTest\n@ActiveProfiles(&quot;test&quot;)\n@Import(value = BasicPersister.class)\nclass CardRepositoryTest {\n    @Autowired\n    private CardRepository cardRepository;\n    private FieldInspector fieldInspector;\n    private DataGenerator dataGenerator;\n    @Autowired\n    private Persister persister;\n    private Card expectedCard;\n\n    @BeforeEach\n    void setUp() {\n        dataGenerator = new BasicDataGenerator();\n        expectedCard = dataGenerator.generateRandomCard();\n        persister.persistGraph(expectedCard);\n    }\n\n    @Test\n    void testSomething() {\n    // it's an MRE, let leave it like that for now\n    }\n}\n</code></pre>\n<p><code>DataGenerator</code> implementation is out of scope of this question. The general idea is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class BasicDataGenerator implements DataGenerator {\n    private static final Faker faker = new Faker();\n    @Override\n    public Card generateRandomCard() {\n        Card card = Card.builder()\n                .id(UUID.randomUUID())\n                .cardNumber(getRandomLongAsString())\n                .holderName(faker.name().fullName())\n                .expirationDate(getRandomFutureLocalDate())\n                .paymentSystem(getRandomEnumConstant(PaymentSystem.class))\n                .cardBalance(getRandomBigDecimal())\n                .cardStatus(getRandomEnumConstant(CardStatus.class))\n                .transactionLimit(getRandomBigDecimal())\n                .deliveryPoint(faker.address().fullAddress())\n                .isDigitalWallet(getRandomBoolean())\n                .isVirtual(getRandomBoolean())\n                .coBrand(faker.company().name())\n                .cardAlias(faker.funnyName().name())\n                .build();\n        Account account = generateRandomAccountFor(card);\n        card.setAccount(account);\n        return card;\n    }\n\n// ...\n</code></pre>\n<p>Let's make it simpler and also simplify the graph. Simplified <code>DataGenerator</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SimplifiedDataGenerator implements DataGenerator {\n\n    @Override\n    public Card generateRandomCard() {\n        Card card = Card.builder()\n                .id(UUID.randomUUID())\n                .build();\n        Account account = generateRandomAccountFor(card);\n        card.setAccount(account);\n        return card;\n    }\n\n    @Override\n    public Account generateRandomAccountFor(Card card) {\n        Account account = Account.builder()\n                .id(UUID.randomUUID())\n                .cards(List.of(card))\n                .build();\n        PaymentSchedule paymentSchedule = generateRandomPaymentScheduleFor(account);\n        Agreement agreement = generateRandomAgreementFor(account);\n        Credit credit = generateRandomCreditFor(agreement, account);\n        account.setPaymentSchedules(List.of(paymentSchedule));\n        account.setCredit(credit);\n        card.setAccount(account);\n        return account;\n    }\n\n    @Override\n    public Agreement generateRandomAgreementFor(Account account) {\n        Agreement agreement = Agreement.builder()\n                .id(UUID.randomUUID())\n                .build();\n        Credit credit = generateRandomCreditFor(agreement, account);\n        agreement.setCredit(credit);\n        account.setCredit(credit);\n        return agreement;\n    }\n\n    @Override\n    public PaymentSchedule generateRandomPaymentScheduleFor(Account account) {\n        PaymentSchedule paymentSchedule = PaymentSchedule.builder()\n                .id(UUID.randomUUID())\n                .account(account)\n                .build();\n        account.setPaymentSchedules(new ArrayList&lt;&gt;(List.of(paymentSchedule)));\n        return paymentSchedule;\n    }\n\n    @Override\n    public Credit generateRandomCreditFor(Agreement agreement, Account account) {\n        Credit credit = Credit.builder()\n                .id(UUID.randomUUID())\n                .account(account)\n                .agreement(agreement)\n                .build();\n        agreement.setCredit(credit);\n        account.setCredit(credit);\n        return credit;\n    }\n\n    @Override\n    public CreditOrder generateRandomCreditOrder() {\n        return CreditOrder.builder()\n                .id(UUID.randomUUID())\n                .product(generateRandomProduct())\n                .build();\n    }\n\n    @Override\n    public Product generateRandomProduct() {\n        return Product.builder()\n                .id(new Random().nextInt(100))\n                .build();\n    }\n}\n</code></pre>\n<p>The simplified graph:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/* I'll include these class annotations only for \nthe first entity to keep it short */\n\n@Entity\n@Table(name = &quot;card&quot;)\n@Getter\n@Setter(AccessLevel.PUBLIC)\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\npublic class Card {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;id&quot;)\n    private UUID id;\n\n    @ManyToOne(cascade = CascadeType.MERGE)\n    @JoinColumn(name = &quot;account_id&quot;, referencedColumnName = &quot;id&quot;)\n    private Account account;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class Account {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;id&quot;)\n    private UUID id;\n\n    @OneToOne(cascade = CascadeType.MERGE)\n    @JoinColumn(name = &quot;credit_id&quot;, referencedColumnName = &quot;id&quot;)\n    private Credit credit;\n\n    @OneToMany(mappedBy = &quot;account&quot;)\n    private List&lt;Card&gt; cards;\n\n    @OneToMany(mappedBy = &quot;account&quot;)\n    private List&lt;PaymentSchedule&gt; paymentSchedules;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class PaymentSchedule {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;id&quot;)\n    private UUID id;\n\n    @ManyToOne(cascade = CascadeType.MERGE)\n    @JoinColumn(name = &quot;account_id&quot;)\n    private Account account;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class Credit {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;id&quot;)\n    private UUID id;\n\n    @OneToOne(mappedBy = &quot;credit&quot;)\n    private Account account;\n\n    @OneToOne(mappedBy = &quot;credit&quot;)\n    private Agreement agreement;\n\n    @OneToOne\n    @JoinColumn(name = &quot;order_id&quot;)\n    private CreditOrder creditOrder;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class Agreement {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;id&quot;)\n    private UUID id;\n\n    @OneToOne(cascade = CascadeType.MERGE)\n    @JoinColumn(name = &quot;credit_id&quot;, referencedColumnName = &quot;id&quot;)\n    private Credit credit;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class CreditOrder {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;id&quot;)\n    private UUID id;\n\n    @ManyToOne(cascade = {CascadeType.MERGE, CascadeType.PERSIST})\n    @JoinColumn(name = &quot;product_id&quot;)\n    private Product product;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class Product implements Serializable { // I have no idea why it implements Serializable\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;id&quot;)\n    private Integer id;\n    \n    // it doesn't have any association fields\n}\n</code></pre>\n<p>So let's get to my <code>Persister</code> implementation. My priorities were:</p>\n<ol>\n<li>I want to persist a whole graph by any graph node (hence it's generic)</li>\n<li>I want my API to be tolerant to whether cascade configuration is properly set up (as in <code>@ManyToOne(cascade = ...</code>)</li>\n</ol>\n<p>I warn you, it's not very readable. The general idea is &quot;deeply&quot; counting foreign keys (foreign keys of entities referenced by foreign keys are counted too), prioritizing entities for persistence (those that have more keys have lower priority, persisted later), then finding a <code>Repository</code> and a method, and then invoking it on each entity. Consider the code below a draft. It doesn't work yet:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\n@RequiredArgsConstructor\npublic class BasicPersister implements Persister {\n    private final List&lt;Repository&lt;?, ?&gt;&gt; repositories;\n    private final Map&lt;Object, Integer&gt; foreignKeyMap = new HashMap&lt;&gt;();\n    private final List&lt;Object&gt; processedObjects = new ArrayList&lt;&gt;();\n\n    @Override\n    public &lt;T&gt; void persistGraph(T graphNode) {\n        if (graphNode == null) {\n            return;\n        }\n        TreeSet&lt;Object&gt; sortedEntities = sortGraphNodes(graphNode);\n        persistInOrder(sortedEntities);\n    }\n\n    private TreeSet&lt;Object&gt; sortGraphNodes(Object graphNode) {\n        countForeignKeys(graphNode);\n        TreeSet&lt;Object&gt; set = new TreeSet&lt;&gt;(Comparator.comparingInt(foreignKeyMap::get));\n        set.addAll(foreignKeyMap.keySet());\n        return set;\n    }\n\n    private void countForeignKeys(Object graphNode) {\n        if (processedObjects.contains(graphNode)) {\n            return;\n        }\n        int foreignKeyCount = 0;\n        List&lt;Field&gt; relationshipFields = new ArrayList&lt;&gt;();\n        for (Field field : graphNode.getClass().getDeclaredFields()) {\n            if (hasRelationshipAnnotation(field)) {\n                relationshipFields.add(field);\n            }\n        }\n        processedObjects.add(graphNode);\n        for (Field relationshipField : relationshipFields) {\n            relationshipField.setAccessible(true);\n            Object fieldValue = ReflectionUtils.getField(relationshipField, graphNode);\n            if (fieldValue != null) {\n                if (!(fieldValue instanceof Collection)) {\n                    countForeignKeys(fieldValue);\n                    if (relationshipField.getAnnotation(JoinColumn.class) != null) {\n                        foreignKeyCount = 1 + foreignKeyMap.get(fieldValue);\n                    }\n                } else if (!((Collection&lt;?&gt;) fieldValue).isEmpty()) {\n                    ((Collection&lt;?&gt;) fieldValue).forEach(this::countForeignKeys);\n                    if (relationshipField.getAnnotation(JoinColumn.class) != null) {\n                        foreignKeyCount = 1 + foreignKeyMap.get(\n                                ((Collection&lt;?&gt;) fieldValue).stream().findAny().orElseThrow()\n                        );\n                    }\n                }\n            }\n        }\n        foreignKeyMap.put(graphNode, foreignKeyCount);\n    }\n\n    private boolean hasRelationshipAnnotation(Field field) {\n        List&lt;Class&lt;? extends Annotation&gt;&gt; relationshipAnnotations = List.of(\n                OneToOne.class, OneToMany.class, ManyToOne.class, ManyToMany.class\n        );\n        return Arrays.stream(field.getAnnotations())\n                .map(Annotation::annotationType)\n                .anyMatch(relationshipAnnotations::contains);\n    }\n\n    private void persistInOrder(TreeSet&lt;Object&gt; sortedEntities) {\n        for (Object entity : sortedEntities) {\n            Repository&lt;?, ?&gt; matchingRepository = null;\n            for (Repository&lt;?, ?&gt; repository : repositories) {\n                String repositoryName = repository.getClass().getInterfaces()[0].getName();\n                if (isMatchingRepository(repository, entity)) {\n                    matchingRepository = repository;\n                    break;\n                }\n            }\n            assert matchingRepository != null;\n            Method matchingSaveMethod = ReflectionUtils.findMethod(matchingRepository.getClass(), &quot;save&quot;, Object.class);\n            assert matchingSaveMethod != null;\n            Object invocationResult = null;\n            try { // it fails here\n                invocationResult = ReflectionUtils.invokeMethod(matchingSaveMethod, matchingRepository, entity);\n            } catch (Exception ignored) {\n                System.out.println(); // dummy statement to stop a debugger and analyze the exception\n            }\n            assert invocationResult != null;\n            List&lt;Field&gt; idFields = findIdFields(invocationResult);\n            for (Field idField : idFields) {\n                idField.setAccessible(true);\n                Object newIdValue = ReflectionUtils.getField(idField, invocationResult);\n                ReflectionUtils.setField(idField, entity, newIdValue);\n            }\n        }\n    }\n\n    private boolean isMatchingRepository(Repository&lt;?, ?&gt; repository, Object entity) {\n        return AbstractRepositoryMetadata.getMetadata(repository.getClass().getInterfaces()[0])\n                .getDomainType()\n                .equals(entity.getClass());\n    }\n\n    private List&lt;Field&gt; findIdFields(Object entity) {\n        return Arrays.stream(entity.getClass().getDeclaredFields())\n                .filter(field -&gt; field.getAnnotation(Id.class) != null)\n                .collect(Collectors.toList());\n    }\n}\n</code></pre>\n<p>Can I get this monstrosity work? How?</p>\n"},{"tags":["java","hibernate","jpa","spring-data-jpa","jpql"],"answers":[{"comments":[{"owner":{"account_id":23090602,"reputation":59,"user_id":18073200,"display_name":"denstran"},"score":1,"creation_date":1701085197,"post_id":77553686,"comment_id":136727052,"body_markdown":"Thank you for your answer! It helped me, but instead of using &#39;=&#39; I needed to use &#39;IN&#39;, otherwise there was an exception, the final query looks like this `DELETE FROM Employee e WHERE e.department.id IN (SELECT d.id from Department d where d.companyBranch.id = :companyBranchId)`","body":"Thank you for your answer! It helped me, but instead of using &#39;=&#39; I needed to use &#39;IN&#39;, otherwise there was an exception, the final query looks like this <code>DELETE FROM Employee e WHERE e.department.id IN (SELECT d.id from Department d where d.companyBranch.id = :companyBranchId)</code>"},{"owner":{"account_id":29874264,"reputation":478,"user_id":22894892,"display_name":"Laurent Schoelens"},"score":0,"creation_date":1701085597,"post_id":77553686,"comment_id":136727112,"body_markdown":"I was a bit afraid of that point, I&#39;ll edit my answer to fit the final query :)","body":"I was a bit afraid of that point, I&#39;ll edit my answer to fit the final query :)"}],"tags":[],"owner":{"account_id":29874264,"reputation":478,"user_id":22894892,"display_name":"Laurent Schoelens"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1701085609,"creation_date":1701037051,"answer_id":77553686,"question_id":77553610,"body_markdown":"I&#39;m not sure you can use this level of nested queries.\r\n\r\nI&#39;d try to go with something like :\r\n```java\r\n@Query(value = &quot;DELETE FROM Employee e WHERE e.department.id IN (SELECT d.id from Departement d where d.companyBranch.id = :companyBranchId&quot;))\r\n```\r\n\r\nThat&#39;s the kind of query you would normally do in plain sql.\r\n","title":"Exception when i am trying to execute delete @Query","body":"<p>I'm not sure you can use this level of nested queries.</p>\n<p>I'd try to go with something like :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Query(value = &quot;DELETE FROM Employee e WHERE e.department.id IN (SELECT d.id from Departement d where d.companyBranch.id = :companyBranchId&quot;))\n</code></pre>\n<p>That's the kind of query you would normally do in plain sql.</p>\n"}],"owner":{"account_id":23090602,"reputation":59,"user_id":18073200,"display_name":"denstran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77553686,"answer_count":1,"score":0,"last_activity_date":1701085609,"creation_date":1701035320,"question_id":77553610,"body_markdown":"I am trying to execute this @Query in my EmployeeRepository class\r\n\r\n        @Modifying\r\n        @Query(value = &quot;DELETE FROM Employee e WHERE e.department.companyBranch.id = :companyBranchId&quot;)\r\n        void deleteAllByCompanyBranchId(@Param(&quot;companyBranchId&quot;) Long companyBranchId);\r\n\r\nBut I am getting this exception\r\n\r\n    Column &quot;D1_0.COMPANY_BRANCH_ID&quot; not found; SQL statement:\r\n    delete from employee where d1_0.company_branch_id=? [42122-214]] [delete from employee where d1_0.company_branch_id=?]; SQL [delete from employee where d1_0.company_branch_id=?]] with root cause\r\n    \r\n    org.h2.jdbc.JdbcSQLSyntaxErrorException:  &quot;D1_0.COMPANY_BRANCH_ID&quot;  \r\n    Column &quot;D1_0.COMPANY_BRANCH_ID&quot; not found; SQL statement:\r\n    delete from employee where d1_0.company_branch_id=? [42122-214]\r\n\r\nI think it is somehow connected to JPQL conventions, but I am not sure. By looking at my exception I can say that the query is trying to find the `COMPANY_BRANCH_ID` field in `EMPLOYEE` table, but I am not sure about it.\r\n\r\nThis is my entity classes:\r\n\r\nEmployee:\r\n\r\n    @Entity\r\n    @Table(name = &quot;EMPLOYEE&quot;)\r\n    @Getter\r\n    @Setter\r\n    public class Employee {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n    \r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;DEPARTMENT_ID&quot;, nullable = false)\r\n        private Department department;\r\n    }\r\n\r\nDepartment\r\n\r\n    @Entity\r\n    @Table(name = &quot;DEPARTMENT&quot;)\r\n    @Getter\r\n    @Setter\r\n    public class Department {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n    \r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;COMPANY_BRANCH_ID&quot;, nullable = false)\r\n        private CompanyBranch companyBranch;\r\n    }\r\n\r\nCompanyBranch\r\n\r\n    @Entity\r\n    @Table(name = &quot;COMPANY_BRANCH&quot;)\r\n    @Getter\r\n    @Setter\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class CompanyBranch {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n    }\r\n\r\n","title":"Exception when i am trying to execute delete @Query","body":"<p>I am trying to execute this @Query in my EmployeeRepository class</p>\n<pre><code>    @Modifying\n    @Query(value = &quot;DELETE FROM Employee e WHERE e.department.companyBranch.id = :companyBranchId&quot;)\n    void deleteAllByCompanyBranchId(@Param(&quot;companyBranchId&quot;) Long companyBranchId);\n</code></pre>\n<p>But I am getting this exception</p>\n<pre><code>Column &quot;D1_0.COMPANY_BRANCH_ID&quot; not found; SQL statement:\ndelete from employee where d1_0.company_branch_id=? [42122-214]] [delete from employee where d1_0.company_branch_id=?]; SQL [delete from employee where d1_0.company_branch_id=?]] with root cause\n\norg.h2.jdbc.JdbcSQLSyntaxErrorException:  &quot;D1_0.COMPANY_BRANCH_ID&quot;  \nColumn &quot;D1_0.COMPANY_BRANCH_ID&quot; not found; SQL statement:\ndelete from employee where d1_0.company_branch_id=? [42122-214]\n</code></pre>\n<p>I think it is somehow connected to JPQL conventions, but I am not sure. By looking at my exception I can say that the query is trying to find the <code>COMPANY_BRANCH_ID</code> field in <code>EMPLOYEE</code> table, but I am not sure about it.</p>\n<p>This is my entity classes:</p>\n<p>Employee:</p>\n<pre><code>@Entity\n@Table(name = &quot;EMPLOYEE&quot;)\n@Getter\n@Setter\npublic class Employee {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;DEPARTMENT_ID&quot;, nullable = false)\n    private Department department;\n}\n</code></pre>\n<p>Department</p>\n<pre><code>@Entity\n@Table(name = &quot;DEPARTMENT&quot;)\n@Getter\n@Setter\npublic class Department {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;COMPANY_BRANCH_ID&quot;, nullable = false)\n    private CompanyBranch companyBranch;\n}\n</code></pre>\n<p>CompanyBranch</p>\n<pre><code>@Entity\n@Table(name = &quot;COMPANY_BRANCH&quot;)\n@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\npublic class CompanyBranch {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n}\n</code></pre>\n"},{"tags":["java","numeric","exp"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":5,"creation_date":1701074623,"post_id":77555495,"comment_id":136725248,"body_markdown":"Which Java version did you use? Since Java 17 the strict behaviour is the standard behaviour, and `Math` and `StrictMath` do exactly the same since Java 17 (`Math` calls the equivalent function in `StrictMath`). Though `Math.exp` may be intrinsified, which can cloud that assessment","body":"Which Java version did you use? Since Java 17 the strict behaviour is the standard behaviour, and <code>Math</code> and <code>StrictMath</code> do exactly the same since Java 17 (<code>Math</code> calls the equivalent function in <code>StrictMath</code>). Though <code>Math.exp</code> may be intrinsified, which can cloud that assessment"},{"owner":{"account_id":2211349,"reputation":398,"user_id":5439309,"display_name":"otmar"},"score":0,"creation_date":1701080314,"post_id":77555495,"comment_id":136726284,"body_markdown":"I think the interfaces and the javadocs have not changed in the past Java versions. It is also not a problem that Math.exp can be intrinsified, as its error is explicitly stated in the interface. I am also not sure if really all Java implementations delegate to StrictMath. However, if they do, the StrictMath implementation must of course provide the same error guarantee.","body":"I think the interfaces and the javadocs have not changed in the past Java versions. It is also not a problem that Math.exp can be intrinsified, as its error is explicitly stated in the interface. I am also not sure if really all Java implementations delegate to StrictMath. However, if they do, the StrictMath implementation must of course provide the same error guarantee."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1701080414,"post_id":77555495,"comment_id":136726304,"body_markdown":"Again, since Java 17, there is only the strict behaviour. See [JEP 306: Restore Always-Strict Floating-Point Semantics](https://openjdk.org/jeps/306), as far as I&#39;m aware that also means that `Math` and `StrictMath` should now always produce the exact same result.","body":"Again, since Java 17, there is only the strict behaviour. See <a href=\"https://openjdk.org/jeps/306\" rel=\"nofollow noreferrer\">JEP 306: Restore Always-Strict Floating-Point Semantics</a>, as far as I&#39;m aware that also means that <code>Math</code> and <code>StrictMath</code> should now always produce the exact same result."},{"owner":{"account_id":2211349,"reputation":398,"user_id":5439309,"display_name":"otmar"},"score":0,"creation_date":1701081021,"post_id":77555495,"comment_id":136726407,"body_markdown":"I am currently using Java 11. I know about the strict behavior of Java 17 which makes the strictfp keyword obsolete. However, I have not yet found anything that states the equivalence of Math and StrictMath.","body":"I am currently using Java 11. I know about the strict behavior of Java 17 which makes the strictfp keyword obsolete. However, I have not yet found anything that states the equivalence of Math and StrictMath."},{"owner":{"account_id":2211349,"reputation":398,"user_id":5439309,"display_name":"otmar"},"score":0,"creation_date":1701100395,"post_id":77555495,"comment_id":136730147,"body_markdown":"As Stephen C pointed out below, there is no reason to assume that `Math` and `StrictMath` will give the same result in Java 17.","body":"As Stephen C pointed out below, there is no reason to assume that <code>Math</code> and <code>StrictMath</code> will give the same result in Java 17."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1701157831,"post_id":77555495,"comment_id":136737271,"body_markdown":"Given the implementation of `Math.exp` by default calls `StrictMath.exp`, I think it is safe to assume that it fulfills the requirements, otherwise `Math.exp` calling it would break its own contract.","body":"Given the implementation of <code>Math.exp</code> by default calls <code>StrictMath.exp</code>, I think it is safe to assume that it fulfills the requirements, otherwise <code>Math.exp</code> calling it would break its own contract."}],"answers":[{"comments":[{"owner":{"account_id":2211349,"reputation":398,"user_id":5439309,"display_name":"otmar"},"score":0,"creation_date":1701084424,"post_id":77556405,"comment_id":136726935,"body_markdown":"The question was if the error guarantee is the same (1ulp) and not if the error is the same. I know that the results may be different. In my opinion, the specification is not entirely clear whether the 1ulp error also applies to StrictMath.exp.","body":"The question was if the error guarantee is the same (1ulp) and not if the error is the same. I know that the results may be different. In my opinion, the specification is not entirely clear whether the 1ulp error also applies to StrictMath.exp."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1701085168,"post_id":77556405,"comment_id":136727048,"body_markdown":"1) I answered that in the first sentence of my answer.  In my opinion it is facially clear.  2) You said: *&quot;However, I have not yet found anything that states the **equivalence** of Math and StrictMath.&quot;*.","body":"1) I answered that in the first sentence of my answer.  In my opinion it is facially clear.  2) You said: <i>&quot;However, I have not yet found anything that states the <b>equivalence</b> of Math and StrictMath.&quot;</i>."},{"owner":{"account_id":2211349,"reputation":398,"user_id":5439309,"display_name":"otmar"},"score":0,"creation_date":1701090984,"post_id":77556405,"comment_id":136728084,"body_markdown":"If the fdlibm exp-function written in C guarantees an error of 1ulp, it is not obvious to me that the same algorithm implemented in Java &quot;with all floating-point operations following the rules of Java floating-point arithmetic&quot; also gives an error of 1ulp.","body":"If the fdlibm exp-function written in C guarantees an error of 1ulp, it is not obvious to me that the same algorithm implemented in Java &quot;with all floating-point operations following the rules of Java floating-point arithmetic&quot; also gives an error of 1ulp."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1701094266,"post_id":77556405,"comment_id":136728697,"body_markdown":"The javadoc for `Math.exp` **specifies** that it does.   You quoted that text in your question!   Like I said, it is facially clear: on the face of the respective specifications.","body":"The javadoc for <code>Math.exp</code> <b>specifies</b> that it does.   You quoted that text in your question!   Like I said, it is facially clear: on the face of the respective specifications."},{"owner":{"account_id":2211349,"reputation":398,"user_id":5439309,"display_name":"otmar"},"score":0,"creation_date":1701095325,"post_id":77556405,"comment_id":136728927,"body_markdown":"Unfortunately, the javadoc for `StrictMath.exp` does not.","body":"Unfortunately, the javadoc for <code>StrictMath.exp</code> does not."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1701098028,"post_id":77556405,"comment_id":136729555,"body_markdown":"But ... as your OTHER quoted text points out, the spec for fdlibm version 5.4 **does**.   All the information is in the text of your question.","body":"But ... as your OTHER quoted text points out, the spec for fdlibm version 5.4 <b>does</b>.   All the information is in the text of your question."},{"owner":{"account_id":2211349,"reputation":398,"user_id":5439309,"display_name":"otmar"},"score":0,"creation_date":1701099898,"post_id":77556405,"comment_id":136730034,"body_markdown":"Repeating my comment above, I am not sure if the same error guarantee also applies to a Java port of the fdlibm algorithm, as the &quot;Java floating-point-arithmetic&quot; is not necessarily equivalent to that of C. In my opinion, this is missing in the argumentation or at least not obvious.","body":"Repeating my comment above, I am not sure if the same error guarantee also applies to a Java port of the fdlibm algorithm, as the &quot;Java floating-point-arithmetic&quot; is not necessarily equivalent to that of C. In my opinion, this is missing in the argumentation or at least not obvious."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1701101245,"post_id":77556405,"comment_id":136730345,"body_markdown":"Nah.  1)  The text you quoted say clearly that the purpose of `StrictMath` is to behave like `fdlibm` version 5.4.  If it differs in the slightest detail, it does not meet those requirements ... and you run into the kind of computational inconsistencies that `fdlibm` and `StrictMath` are designed to avoid.  2) Indeed in Java 8 and earlier, `StrictMath.exp()` is a `native` method call to the `fdlibm` implementation.  (Via a shim that deals with exceptions, etctera ... if I recollect correctly.)  Check the source code.","body":"Nah.  1)  The text you quoted say clearly that the purpose of <code>StrictMath</code> is to behave like <code>fdlibm</code> version 5.4.  If it differs in the slightest detail, it does not meet those requirements ... and you run into the kind of computational inconsistencies that <code>fdlibm</code> and <code>StrictMath</code> are designed to avoid.  2) Indeed in Java 8 and earlier, <code>StrictMath.exp()</code> is a <code>native</code> method call to the <code>fdlibm</code> implementation.  (Via a shim that deals with exceptions, etctera ... if I recollect correctly.)  Check the source code."}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":8,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1701085585,"creation_date":1701083144,"answer_id":77556405,"question_id":77555495,"body_markdown":"&gt; Does the combination of all this information really imply that `StrictMath.exp` has the same error guarantee as `Math.exp`?\r\n\r\nOn the face of it&lt;sup&gt;1&lt;/sup&gt;, the error guarantee is the same; i.e. it is less than 1 ulp.  But that isn&#39;t the same as saying that the error is the same!\r\n\r\nThe point of using `StrictMath` was not to guarantee that the error was the absolute minimum possible.  Rather, the point was to guarantee *reproducible* results, independent of programming language, hardware implementation and so on.\r\n\r\nAnd the flip-side is that the `Math` methods are (still&lt;sup&gt;2&lt;/sup&gt;) not specified to produce bit-for-bit identical results to their `StrictMath` equivalents.  As the [javadoc][1] in Java 17 states:\r\n\r\n&gt; *&quot;Unlike some of the numeric methods of class `StrictMath`, all implementations of the equivalent functions of class `Math` are not defined to return the bit-for-bit same results. This relaxation permits better-performing implementations **where strict reproducibility is not required**.&quot;* \r\n\r\n---------------------\r\n\r\n&gt; However, I have not yet found anything that states the equivalence of `Math` and `StrictMath`.\r\n\r\nI don&#39;t think they are guaranteed to be equivalent: not in any version of Java.  Indeed, that would *contradict* the above javadoc quote. \r\n\r\n---------------------\r\n\r\n&lt;sup&gt;1 - This is based on the text that you quoted in your question.&lt;br&gt;\r\n2 - While all floating point arithmetic operations in Java 17 and later have `strictfp` semantics (see [JEP 306][2]), this doesn&#39;t automatically extend to `Math`.&lt;/sup&gt;\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Math.html\r\n  [2]: https://openjdk.org/jeps/306","title":"Does the same error guarantee of Java&#39;s Math.exp also apply to StrictMath.exp?","body":"<blockquote>\n<p>Does the combination of all this information really imply that <code>StrictMath.exp</code> has the same error guarantee as <code>Math.exp</code>?</p>\n</blockquote>\n<p>On the face of it<sup>1</sup>, the error guarantee is the same; i.e. it is less than 1 ulp.  But that isn't the same as saying that the error is the same!</p>\n<p>The point of using <code>StrictMath</code> was not to guarantee that the error was the absolute minimum possible.  Rather, the point was to guarantee <em>reproducible</em> results, independent of programming language, hardware implementation and so on.</p>\n<p>And the flip-side is that the <code>Math</code> methods are (still<sup>2</sup>) not specified to produce bit-for-bit identical results to their <code>StrictMath</code> equivalents.  As the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Math.html\" rel=\"nofollow noreferrer\">javadoc</a> in Java 17 states:</p>\n<blockquote>\n<p><em>&quot;Unlike some of the numeric methods of class <code>StrictMath</code>, all implementations of the equivalent functions of class <code>Math</code> are not defined to return the bit-for-bit same results. This relaxation permits better-performing implementations <strong>where strict reproducibility is not required</strong>.&quot;</em></p>\n</blockquote>\n<hr />\n<blockquote>\n<p>However, I have not yet found anything that states the equivalence of <code>Math</code> and <code>StrictMath</code>.</p>\n</blockquote>\n<p>I don't think they are guaranteed to be equivalent: not in any version of Java.  Indeed, that would <em>contradict</em> the above javadoc quote.</p>\n<hr />\n<p><sup>1 - This is based on the text that you quoted in your question.<br>\n2 - While all floating point arithmetic operations in Java 17 and later have <code>strictfp</code> semantics (see <a href=\"https://openjdk.org/jeps/306\" rel=\"nofollow noreferrer\">JEP 306</a>), this doesn't automatically extend to <code>Math</code>.</sup></p>\n"}],"owner":{"account_id":2211349,"reputation":398,"user_id":5439309,"display_name":"otmar"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77556405,"answer_count":1,"score":1,"last_activity_date":1701085585,"creation_date":1701074294,"question_id":77555495,"body_markdown":"In Java, I need to compute `(int)Math.exp(x)` in a platform independent way. To achieve platform independency, I have to use StrictMath instead: `(int)StrictMath.exp(x)`. Unfortunately, my measurements have shown that `StrictMath.exp` is significantly slower than `Math.exp`.\r\n\r\nTherefore, I had the idea to compute `y = Math.exp(x)` first. [The interface of `Math.exp`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Math.html#exp(double)) states that\r\n\r\n&gt; The computed result must be within 1 ulp of the exact result. Results must be semi-monotonic.\r\n\r\nSo, if `(int)(Math.nextDown(y)) == (int)(Math.nextUp(y))`, I can use `(int)y` as result. Only in the very rare case that `(int)(StrictMath.nextDown(y)) != (int)(StrictMath.nextUp(y))` (the result is expected to be in the `int` range), I need to additionally evaluate `(int)StrictMath.exp(x)`. \r\n\r\nThis strategy would be correct if `StrictMath.exp` had the same error guarantees as `Math.exp`.\r\nUnfortunately, a corresponding statement is missing in the [`StrictMath.exp` interface](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/StrictMath.html#exp(double)). [The javadoc of StrictMath](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/StrictMath.html) just says\r\n\r\n&gt; To help ensure portability of Java programs, the definitions of some of the numeric functions in this package require that they produce the same results as certain published algorithms. These algorithms are available from the well-known network library netlib as the package &quot;Freely Distributable Math Library,&quot; fdlibm. These algorithms, which are written in the C programming language, are then to be understood as executed with all floating-point operations following the rules of Java floating-point arithmetic.\r\n&gt;\r\n&gt; The Java math library is defined with respect to fdlibm version 5.3. Where fdlibm provides more than one definition for a function (such as acos), use the &quot;IEEE 754 core function&quot; version (residing in a file whose name begins with the letter e). The methods which require fdlibm semantics are sin, cos, tan, asin, acos, atan, exp, log, log10, cbrt, atan2, pow, sinh, cosh, tanh, hypot, expm1, and log1p.\r\n\r\nFurthermore, the interface of the [exp function in the fdlibm library](https://www.netlib.org/fdlibm/e_exp.c) says that \r\n\r\n&gt; Accuracy: according to an error analysis, the error is always less than 1 ulp (unit in the last place).\r\n\r\nDoes the combination of all this information really imply that `StrictMath.exp` has the same error guarantee as `Math.exp`? Only a 100% guarantee would allow me to do the optimization described above.","title":"Does the same error guarantee of Java&#39;s Math.exp also apply to StrictMath.exp?","body":"<p>In Java, I need to compute <code>(int)Math.exp(x)</code> in a platform independent way. To achieve platform independency, I have to use StrictMath instead: <code>(int)StrictMath.exp(x)</code>. Unfortunately, my measurements have shown that <code>StrictMath.exp</code> is significantly slower than <code>Math.exp</code>.</p>\n<p>Therefore, I had the idea to compute <code>y = Math.exp(x)</code> first. <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Math.html#exp(double)\" rel=\"nofollow noreferrer\">The interface of <code>Math.exp</code></a> states that</p>\n<blockquote>\n<p>The computed result must be within 1 ulp of the exact result. Results must be semi-monotonic.</p>\n</blockquote>\n<p>So, if <code>(int)(Math.nextDown(y)) == (int)(Math.nextUp(y))</code>, I can use <code>(int)y</code> as result. Only in the very rare case that <code>(int)(StrictMath.nextDown(y)) != (int)(StrictMath.nextUp(y))</code> (the result is expected to be in the <code>int</code> range), I need to additionally evaluate <code>(int)StrictMath.exp(x)</code>.</p>\n<p>This strategy would be correct if <code>StrictMath.exp</code> had the same error guarantees as <code>Math.exp</code>.\nUnfortunately, a corresponding statement is missing in the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/StrictMath.html#exp(double)\" rel=\"nofollow noreferrer\"><code>StrictMath.exp</code> interface</a>. <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/StrictMath.html\" rel=\"nofollow noreferrer\">The javadoc of StrictMath</a> just says</p>\n<blockquote>\n<p>To help ensure portability of Java programs, the definitions of some of the numeric functions in this package require that they produce the same results as certain published algorithms. These algorithms are available from the well-known network library netlib as the package &quot;Freely Distributable Math Library,&quot; fdlibm. These algorithms, which are written in the C programming language, are then to be understood as executed with all floating-point operations following the rules of Java floating-point arithmetic.</p>\n<p>The Java math library is defined with respect to fdlibm version 5.3. Where fdlibm provides more than one definition for a function (such as acos), use the &quot;IEEE 754 core function&quot; version (residing in a file whose name begins with the letter e). The methods which require fdlibm semantics are sin, cos, tan, asin, acos, atan, exp, log, log10, cbrt, atan2, pow, sinh, cosh, tanh, hypot, expm1, and log1p.</p>\n</blockquote>\n<p>Furthermore, the interface of the <a href=\"https://www.netlib.org/fdlibm/e_exp.c\" rel=\"nofollow noreferrer\">exp function in the fdlibm library</a> says that</p>\n<blockquote>\n<p>Accuracy: according to an error analysis, the error is always less than 1 ulp (unit in the last place).</p>\n</blockquote>\n<p>Does the combination of all this information really imply that <code>StrictMath.exp</code> has the same error guarantee as <code>Math.exp</code>? Only a 100% guarantee would allow me to do the optimization described above.</p>\n"},{"tags":["java","date","format","java-time","java-10"],"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1524408772,"post_id":49967139,"comment_id":86950178,"body_markdown":"It was a bug in Java 8: https://bugs.openjdk.java.net/browse/JDK-8031085. But it should be fixed in Java 9, so seeing it in Java 10 is surprising.","body":"It was a bug in Java 8: <a href=\"https://bugs.openjdk.java.net/browse/JDK-8031085\" rel=\"nofollow noreferrer\">bugs.openjdk.java.net/browse/JDK-8031085</a>. But it should be fixed in Java 9, so seeing it in Java 10 is surprising."},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":3,"creation_date":1524408775,"post_id":49967139,"comment_id":86950181,"body_markdown":"It seems the parser is fine, otherwise it would not print anything at all, other than a parse error. Your problem seems to be in the default format for printing a `LocalDateTime`. You should format your print as well.","body":"It seems the parser is fine, otherwise it would not print anything at all, other than a parse error. Your problem seems to be in the default format for printing a <code>LocalDateTime</code>. You should format your print as well."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1524409065,"post_id":49967139,"comment_id":86950286,"body_markdown":"Your code executes just fine on my Java 9.","body":"Your code executes just fine on my Java 9."},{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1524409097,"post_id":49967139,"comment_id":86950299,"body_markdown":"@OleV.V. I&#39;m using Java 10 it return `2018-03-01T09:16`","body":"@OleV.V. I&#39;m using Java 10 it return <code>2018-03-01T09:16</code>"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1524463177,"post_id":49967139,"comment_id":86964415,"body_markdown":"I get the same result on both Java 9 and 10, @YCF_L. It is also the result that I expected. BTW, mynameisJeFF, what makes you think you have a problem? `2018-03-01T09:16:00.000` is ISO 8601, but so is `2018-03-01T09:16`, so any API that accepts the former, I would expect it to accept the latter too. Try and see if youre not all fine.","body":"I get the same result on both Java 9 and 10, @YCF_L. It is also the result that I expected. BTW, mynameisJeFF, what makes you think you have a problem? <code>2018-03-01T09:16:00.000</code> is ISO 8601, but so is <code>2018-03-01T09:16</code>, so any API that accepts the former, I would expect it to accept the latter too. Try and see if youre not all fine."},{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1524467740,"post_id":49967139,"comment_id":86966581,"body_markdown":"@OleV.V. why `20180301091600001` return `2018-03-01T09:16:00.001` but `20180301091600000` return `2018-03-01T00:00` why its not return `2018-03-01T00:00:00.000`","body":"@OleV.V. why <code>20180301091600001</code> return <code>2018-03-01T09:16:00.001</code> but <code>20180301091600000</code> return <code>2018-03-01T00:00</code> why its not return <code>2018-03-01T00:00:00.000</code>"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1524467899,"post_id":49967139,"comment_id":86966677,"body_markdown":"@YCF_L For brevity, I suppose (I didnt design it). In `2018-03-01T00:00` its understood that the seconds and fraction of seconds are 0, so printing them is not needed. I think [Basil Bourques answer](https://stackoverflow.com/a/49971698/5772882) explains. BTW and for comparison, if you wanted to print the full precision of the `LocalDateTime` object, you would need `2018-03-01T00:00:00.000000000`.","body":"@YCF_L For brevity, I suppose (I didnt design it). In <code>2018-03-01T00:00</code> its understood that the seconds and fraction of seconds are 0, so printing them is not needed. I think <a href=\"https://stackoverflow.com/a/49971698/5772882\">Basil Bourques answer</a> explains. BTW and for comparison, if you wanted to print the full precision of the <code>LocalDateTime</code> object, you would need <code>2018-03-01T00:00:00.000000000</code>."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1524468139,"post_id":49967139,"comment_id":86966812,"body_markdown":"@YCF_L Also remember that the `LocalDateTime` object doesnt know (doesnt remember) which string it was parsed from. It just holds a date and a time of day (with nanoseconds precision).","body":"@YCF_L Also remember that the <code>LocalDateTime</code> object doesnt know (doesnt remember) which string it was parsed from. It just holds a date and a time of day (with nanoseconds precision)."},{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1524468287,"post_id":49967139,"comment_id":86966891,"body_markdown":"@OleV.V. ok I agree it is not a bug, but the OP want to get `2018-03-01T09:16:00.000` instead of `2018-03-01T09:16` so I think my solution is correct no?","body":"@OleV.V. ok I agree it is not a bug, but the OP want to get <code>2018-03-01T09:16:00.000</code> instead of <code>2018-03-01T09:16</code> so I think my solution is correct no?"}],"answers":[{"comments":[{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1524415015,"post_id":49967274,"comment_id":86952219,"body_markdown":"@mynameisJEFF no problem, I report it to open jdk so we can wait until they decide what is the problem","body":"@mynameisJEFF no problem, I report it to open jdk so we can wait until they decide what is the problem"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1524419445,"post_id":49967274,"comment_id":86953702,"body_markdown":"@YCF_L  Can you link to your bug report?","body":"@YCF_L  Can you link to your bug report?"},{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1524419552,"post_id":49967274,"comment_id":86953748,"body_markdown":"@BasilBourque I report it but I don&#39;t get any link, I think it take some time to be analyse and decide if it is a bug or not","body":"@BasilBourque I report it but I don&#39;t get any link, I think it take some time to be analyse and decide if it is a bug or not"},{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1524422123,"post_id":49967274,"comment_id":86954703,"body_markdown":"@BasilBourque can you report it again please?","body":"@BasilBourque can you report it again please?"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1524455828,"post_id":49967274,"comment_id":86962299,"body_markdown":"@YCF_L No, I do not believe this is a bug. See my Answer on this page.","body":"@YCF_L No, I do not believe this is a bug. See my Answer on this page."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1524468409,"post_id":49967274,"comment_id":86966972,"body_markdown":"In other words, @YCF_L your temporary solution is correct and more than a temporary solution, it is *the* solution.","body":"In other words, @YCF_L your temporary solution is correct and more than a temporary solution, it is <i>the</i> solution."},{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":1,"creation_date":1524468578,"post_id":49967274,"comment_id":86967060,"body_markdown":"Thank you @OleV.V. then I will remove that part which say it is a bug either the Temporary word","body":"Thank you @OleV.V. then I will remove that part which say it is a bug either the Temporary word"}],"tags":[],"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"comment_count":7,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1524468843,"creation_date":1524408840,"answer_id":49967274,"question_id":49967139,"body_markdown":"I&#39;m not sure why it&#39;s not work, &lt;s&gt;it seems it is a **bug** because&lt;/s&gt; when I use :\n\n    20180301091600001        result is      2018-03-01T09:16:00.001\n    ----------------^                       -----------------^^^^^^\n\nAlso another test :\n\n    2018030100000000         result is      2018-03-01T00:00\n    --------^^^-----                        -----------^^^^^^^^^^^\n\nIt seems that the parser ignore the **seconds** and **millisecond** when it is zero, why?\n\nThe full explanation **why?**, is in the answer of [Basil Bourque][1].\n\n---\n\n# Solution\n \nHere is a quick fix where you can use another formatter like this :\n\n    var result = LocalDateTime.parse(&quot;20180301091600000&quot;, dtformatter)\n                    .format(DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss:SSS&quot;));\n\n**Output**\n\n    2018-03-01T09:16:00:000\n\n\n  [1]: https://stackoverflow.com/a/49971698/5558072","title":"Java: DateTimeFormatter fail to parse time string when seconds and milliseconds are all 0s?","body":"<p>I'm not sure why it's not work, <s>it seems it is a <strong>bug</strong> because</s> when I use :</p>\n<pre><code>20180301091600001        result is      2018-03-01T09:16:00.001\n----------------^                       -----------------^^^^^^\n</code></pre>\n<p>Also another test :</p>\n<pre><code>2018030100000000         result is      2018-03-01T00:00\n--------^^^-----                        -----------^^^^^^^^^^^\n</code></pre>\n<p>It seems that the parser ignore the <strong>seconds</strong> and <strong>millisecond</strong> when it is zero, why?</p>\n<p>The full explanation <strong>why?</strong>, is in the answer of <a href=\"https://stackoverflow.com/a/49971698/5558072\">Basil Bourque</a>.</p>\n<hr />\n<h1>Solution</h1>\n<p>Here is a quick fix where you can use another formatter like this :</p>\n<pre><code>var result = LocalDateTime.parse(&quot;20180301091600000&quot;, dtformatter)\n                .format(DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd'T'HH:mm:ss:SSS&quot;));\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>2018-03-01T09:16:00:000\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1524468006,"post_id":49971698,"comment_id":86966743,"body_markdown":"Hi @Basil Bourque but the OP want to produce `2018-03-01T09:16:00:000` so i think your solution is not what the OP want exactly no?","body":"Hi @Basil Bourque but the OP want to produce <code>2018-03-01T09:16:00:000</code> so i think your solution is not what the OP want exactly no?"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1524469309,"post_id":49971698,"comment_id":86967469,"body_markdown":"@YCF_L The desired output is irrelevant - The point of the Question (see the title) is thinking that the parser failed to parse and omitted data. But no, the code in Question implicitly calls `toString` which uses a formatter that suppresses zero values in seconds and fractional-second. So **the premise of the Question is wrong**. As for the desired format, that is a side-issue, and has been handled in hundreds, if not thousands, of existing Questions and Answers. I suppose I could show such formatting code, but that is beside the point, and you already did a good job of that.","body":"@YCF_L The desired output is irrelevant - The point of the Question (see the title) is thinking that the parser failed to parse and omitted data. But no, the code in Question implicitly calls <code>toString</code> which uses a formatter that suppresses zero values in seconds and fractional-second. So <b>the premise of the Question is wrong</b>. As for the desired format, that is a side-issue, and has been handled in hundreds, if not thousands, of existing Questions and Answers. I suppose I could show such formatting code, but that is beside the point, and you already did a good job of that."},{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1524683131,"post_id":49971698,"comment_id":87075401,"body_markdown":"You are a hero @Basil read the report I just receive it https://bugs.java.com/bugdatabase/view_bug.do?bug_id=JDK-8202144 it is the same as you already mention in your answer :)","body":"You are a hero @Basil read the report I just receive it <a href=\"https://bugs.java.com/bugdatabase/view_bug.do?bug_id=JDK-8202144\" rel=\"nofollow noreferrer\">bugs.java.com/bugdatabase/view_bug.do?bug_id=JDK-8202144</a> it is the same as you already mention in your answer :)"}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":3,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1524475252,"creation_date":1524439987,"answer_id":49971698,"question_id":49967139,"body_markdown":"# tl;dr\r\n\r\n&gt; where the seconds and millseconds are 00000 and this is when the parser fails\r\n\r\nNo, the parser succeeds. Your issue is with *generating* a String, not parsing.\r\n\r\nThe default `DateTimeFormatter` suppresses zero values in seconds and fractional second, [as documented][1].\r\n\r\n# Feature, not a bug\r\n\r\nYour problem is not in the parsing, but in the generating of a string *after* parsing. Keep in mind that the textual representation of a date-time object is distinct and separate from the object. In other words, a date-time object does not have a format. \r\n\r\n&gt;[String] --&gt; `parse` --&gt; [LocalDateTime] --&gt; `toString` --&gt; [String]\r\n\r\nThe documentation for [`LocalDateTime::toString`](https://docs.oracle.com/javase/10/docs/api/java/time/LocalDateTime.html#toString()) clearly says that the shortest possible formatting variation will be used when encountering zero values in the least-significant parts. To quote:\r\n\r\n\r\n&gt;The output will be one of the following ISO-8601 formats:\r\n\r\n&gt;uuuu-MM-dd&#39;T&#39;HH:mm\r\n\r\n&gt;uuuu-MM-dd&#39;T&#39;HH:mm:ss\r\n\r\n&gt;uuuu-MM-dd&#39;T&#39;HH:mm:ss.SSS\r\n\r\n&gt;uuuu-MM-dd&#39;T&#39;HH:mm:ss.SSSSSS\r\n\r\n&gt;uuuu-MM-dd&#39;T&#39;HH:mm:ss.SSSSSSSSS\r\n\r\n&gt;The format used will be the shortest that outputs the full value of the time where the omitted parts are implied to be zero.\r\n\r\n## Examples\r\n\r\nRegarding two examples shown in [the accepted Answer by YCF_L][2]\r\n\r\n&gt;20180301091600001        result is      2018-03-01T09:16:00.001\r\n\r\nIn that example, the least-significant part (millisecond) has a non-zero value, so it is represented in the result.\r\n\r\n&gt;2018030100000000         result is      2018-03-01T00:00\r\n\r\nIn that example, the least significant parts of hour, minute, second, milliseconds, microseconds, and nanoseconds are all zero. So their display is suppressed, except for hours and minutes as the documentation promises that year-minute is always displayed. \r\n\r\nSo both of your examples work as documented; feature, not a bug.\r\n\r\n\r\n# Solution\r\n\r\nThe solution is to not use the default formatter provided in the `toString` method. Instead, use another formatter. For example, use the same custom formatter you defined for parsing.\r\n\r\n    DateTimeFormatter f = DateTimeFormatter.ofPattern( &quot;yyyyMMddHHmmssSSS&quot; );\r\n    LocalDateTime ldt = LocalDateTime.parse( &quot;20180301091600000&quot; , f );\r\n\r\n    String outputDefault = ldt.toString();\r\n    String outputCustom = ldt.format( f );\r\n\r\nDump to console.\r\n\r\n    System.out.println( &quot;outputDefault: &quot; + outputDefault );\r\n    System.out.println( &quot;outputCustom: &quot; + outputCustom );\r\n\r\n&gt;outputDefault: 2018-03-01T09:16\r\n\r\n&gt;outputCustom: 20180301091600000\r\n\r\nThe Question asks:\r\n\r\n&gt;How can I fix it to make it print 2018-03-01T09:16:00.000 instead of 2018-03-01T09:16 ?\r\n\r\nSpecify a custom formatter instead of the default formatter.\r\n\r\n    DateTimeFormatter f = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss:SSS&quot;) ; \r\n    String output = ldt.format( f ) ;\r\n\r\nBut keep in mind your generated String will suppress display of any microseconds or nanoseconds in the `LocalDateTime` object.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/10/docs/api/java/time/LocalDateTime.html#toString()\r\n  [2]: https://stackoverflow.com/a/49967274/642706","title":"Java: DateTimeFormatter fail to parse time string when seconds and milliseconds are all 0s?","body":"<h1>tl;dr</h1>\n\n<blockquote>\n  <p>where the seconds and millseconds are 00000 and this is when the parser fails</p>\n</blockquote>\n\n<p>No, the parser succeeds. Your issue is with <em>generating</em> a String, not parsing.</p>\n\n<p>The default <code>DateTimeFormatter</code> suppresses zero values in seconds and fractional second, <a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/LocalDateTime.html#toString()\" rel=\"nofollow noreferrer\">as documented</a>.</p>\n\n<h1>Feature, not a bug</h1>\n\n<p>Your problem is not in the parsing, but in the generating of a string <em>after</em> parsing. Keep in mind that the textual representation of a date-time object is distinct and separate from the object. In other words, a date-time object does not have a format. </p>\n\n<blockquote>\n  <p>[String] --> <code>parse</code> --> [LocalDateTime] --> <code>toString</code> --> [String]</p>\n</blockquote>\n\n<p>The documentation for <a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/LocalDateTime.html#toString()\" rel=\"nofollow noreferrer\"><code>LocalDateTime::toString</code></a> clearly says that the shortest possible formatting variation will be used when encountering zero values in the least-significant parts. To quote:</p>\n\n<blockquote>\n  <p>The output will be one of the following ISO-8601 formats:</p>\n  \n  <p>uuuu-MM-dd'T'HH:mm</p>\n  \n  <p>uuuu-MM-dd'T'HH:mm:ss</p>\n  \n  <p>uuuu-MM-dd'T'HH:mm:ss.SSS</p>\n  \n  <p>uuuu-MM-dd'T'HH:mm:ss.SSSSSS</p>\n  \n  <p>uuuu-MM-dd'T'HH:mm:ss.SSSSSSSSS</p>\n  \n  <p>The format used will be the shortest that outputs the full value of the time where the omitted parts are implied to be zero.</p>\n</blockquote>\n\n<h2>Examples</h2>\n\n<p>Regarding two examples shown in <a href=\"https://stackoverflow.com/a/49967274/642706\">the accepted Answer by YCF_L</a></p>\n\n<blockquote>\n  <p>20180301091600001        result is      2018-03-01T09:16:00.001</p>\n</blockquote>\n\n<p>In that example, the least-significant part (millisecond) has a non-zero value, so it is represented in the result.</p>\n\n<blockquote>\n  <p>2018030100000000         result is      2018-03-01T00:00</p>\n</blockquote>\n\n<p>In that example, the least significant parts of hour, minute, second, milliseconds, microseconds, and nanoseconds are all zero. So their display is suppressed, except for hours and minutes as the documentation promises that year-minute is always displayed. </p>\n\n<p>So both of your examples work as documented; feature, not a bug.</p>\n\n<h1>Solution</h1>\n\n<p>The solution is to not use the default formatter provided in the <code>toString</code> method. Instead, use another formatter. For example, use the same custom formatter you defined for parsing.</p>\n\n<pre><code>DateTimeFormatter f = DateTimeFormatter.ofPattern( \"yyyyMMddHHmmssSSS\" );\nLocalDateTime ldt = LocalDateTime.parse( \"20180301091600000\" , f );\n\nString outputDefault = ldt.toString();\nString outputCustom = ldt.format( f );\n</code></pre>\n\n<p>Dump to console.</p>\n\n<pre><code>System.out.println( \"outputDefault: \" + outputDefault );\nSystem.out.println( \"outputCustom: \" + outputCustom );\n</code></pre>\n\n<blockquote>\n  <p>outputDefault: 2018-03-01T09:16</p>\n  \n  <p>outputCustom: 20180301091600000</p>\n</blockquote>\n\n<p>The Question asks:</p>\n\n<blockquote>\n  <p>How can I fix it to make it print 2018-03-01T09:16:00.000 instead of 2018-03-01T09:16 ?</p>\n</blockquote>\n\n<p>Specify a custom formatter instead of the default formatter.</p>\n\n<pre><code>DateTimeFormatter f = DateTimeFormatter.ofPattern(\"yyyy-MM-dd'T'HH:mm:ss:SSS\") ; \nString output = ldt.format( f ) ;\n</code></pre>\n\n<p>But keep in mind your generated String will suppress display of any microseconds or nanoseconds in the <code>LocalDateTime</code> object.</p>\n"},{"comments":[{"owner":{"account_id":2179728,"reputation":73067,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1701089596,"post_id":77556588,"comment_id":136727819,"body_markdown":"What you see is the value of [`OffsetDateTime#toString`](https://docs.oracle.com/javase/8/docs/api/java/time/OffsetDateTime.html#toString--) and the documentation clearly mentions: *The format used will be the shortest that outputs the full value of the time where the omitted parts are implied to be zero.* If you want to show zeros for seconds and nanoseconds, you need to get another string using `odt.format(DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd&#39;T&#39;HH:mm:ss.SSSSSSSSS&quot;))`. It has been discussed several times on StackOverflow. I recommend you open a few of my or Basil&#39;s answers and study them.","body":"What you see is the value of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/OffsetDateTime.html#toString--\" rel=\"nofollow noreferrer\"><code>OffsetDateTime#toString</code></a> and the documentation clearly mentions: <i>The format used will be the shortest that outputs the full value of the time where the omitted parts are implied to be zero.</i> If you want to show zeros for seconds and nanoseconds, you need to get another string using <code>odt.format(DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd&#39;T&#39;HH:mm:s&zwnj;&#8203;s.SSSSSSSSS&quot;))</code>. It has been discussed several times on StackOverflow. I recommend you open a few of my or Basil&#39;s answers and study them."}],"tags":[],"owner":{"account_id":3444158,"reputation":2729,"user_id":2885340,"accept_rate":23,"display_name":"Ankur Chaudhary"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701085088,"creation_date":1701085088,"answer_id":77556588,"question_id":49967139,"body_markdown":"@BasilBourque I have a further query on you above answer\r\n\r\nI have a date &quot;2023-12-10T00:00:00.000&quot; when we parse this in OffsetDateTime \r\nThe parsed OffsetDateTime object never have second and nanoseconds. can we somehow add seconds and nanos into OffsetDateTime object as well? \r\nPlease see the attached code snippet and debug info\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    private fun parse3(date:String) {\r\n        val ldt: LocalDateTime = LocalDateTime.parse(&quot;2023-12-10T00:00:00.000&quot;, df)\r\n        val odt = OffsetDateTime.of(ldt, ZoneOffset.of(&quot;+07:00&quot;))\r\n        val outputDefault = odt.toString()\r\n        val outputCustom = odt.format(df)\r\n\r\n        println( &quot;outputDefault: &quot; + outputDefault)\r\n        println( &quot;outputCustom: &quot; + outputCustom)\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1g2Wj.png","title":"Java: DateTimeFormatter fail to parse time string when seconds and milliseconds are all 0s?","body":"<p>@BasilBourque I have a further query on you above answer</p>\n<p>I have a date &quot;2023-12-10T00:00:00.000&quot; when we parse this in OffsetDateTime\nThe parsed OffsetDateTime object never have second and nanoseconds. can we somehow add seconds and nanos into OffsetDateTime object as well?\nPlease see the attached code snippet and debug info</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>private fun parse3(date:String) {\n    val ldt: LocalDateTime = LocalDateTime.parse(\"2023-12-10T00:00:00.000\", df)\n    val odt = OffsetDateTime.of(ldt, ZoneOffset.of(\"+07:00\"))\n    val outputDefault = odt.toString()\n    val outputCustom = odt.format(df)\n\n    println( \"outputDefault: \" + outputDefault)\n    println( \"outputCustom: \" + outputCustom)\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p><a href=\"https://i.stack.imgur.com/1g2Wj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1g2Wj.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":2065553,"reputation":4113,"user_id":1841131,"accept_rate":67,"display_name":"mynameisJEFF"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4375,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":49967274,"answer_count":3,"score":8,"last_activity_date":1701085088,"creation_date":1524408039,"question_id":49967139,"body_markdown":"Basically, I am using the following code to parse string as LocalDateTime, which works fine most of the time. \r\n\r\n    DateTimeFormatter dtformatter = DateTimeFormatter.ofPattern(&quot;yyyyMMddHHmmssSSS&quot;);\r\n\r\n\t\t    \r\nHowever, I encounter cases where the seconds and millseconds are `00000` and this is when the parser fails and print a `LocalDateTime` `2018-03-01T09:16` instead of `2018-03-01T09:16:00.000`.\r\n\r\n    System.out.println(LocalDateTime.parse(&quot;20180301091600000&quot;,dtformatter));\r\n\r\n(Note that in my code, I have to parse string as `LocalDateTime`, do some comparison and then at the end, print `LocalDateTime` to csv)\r\n\r\nHow can I fix it to make it print `2018-03-01T09:16:00.000` instead of `2018-03-01T09:16` ?\r\n\r\nFYI, I am using jdk10.\r\n","title":"Java: DateTimeFormatter fail to parse time string when seconds and milliseconds are all 0s?","body":"<p>Basically, I am using the following code to parse string as LocalDateTime, which works fine most of the time. </p>\n\n<pre><code>DateTimeFormatter dtformatter = DateTimeFormatter.ofPattern(\"yyyyMMddHHmmssSSS\");\n</code></pre>\n\n<p>However, I encounter cases where the seconds and millseconds are <code>00000</code> and this is when the parser fails and print a <code>LocalDateTime</code> <code>2018-03-01T09:16</code> instead of <code>2018-03-01T09:16:00.000</code>.</p>\n\n<pre><code>System.out.println(LocalDateTime.parse(\"20180301091600000\",dtformatter));\n</code></pre>\n\n<p>(Note that in my code, I have to parse string as <code>LocalDateTime</code>, do some comparison and then at the end, print <code>LocalDateTime</code> to csv)</p>\n\n<p>How can I fix it to make it print <code>2018-03-01T09:16:00.000</code> instead of <code>2018-03-01T09:16</code> ?</p>\n\n<p>FYI, I am using jdk10.</p>\n"},{"tags":["java","android","kotlin","android-recyclerview","z-index"],"comments":[{"owner":{"account_id":1642711,"reputation":19842,"user_id":1514861,"accept_rate":86,"display_name":"Ivo"},"score":0,"creation_date":1701085422,"post_id":77556567,"comment_id":136727084,"body_markdown":"Is it actually added or is it simply made visible?","body":"Is it actually added or is it simply made visible?"},{"owner":{"account_id":16796825,"reputation":1274,"user_id":12143126,"display_name":"Mikhail Guliaev"},"score":1,"creation_date":1701085706,"post_id":77556567,"comment_id":136727129,"body_markdown":"Can you provide the code of your layout?","body":"Can you provide the code of your layout?"},{"owner":{"account_id":27817647,"reputation":591,"user_id":21238708,"display_name":"Jatin guglani"},"score":0,"creation_date":1701086726,"post_id":77556567,"comment_id":136727312,"body_markdown":"@Ivo It&#39;s actually added","body":"@Ivo It&#39;s actually added"},{"owner":{"account_id":27817647,"reputation":591,"user_id":21238708,"display_name":"Jatin guglani"},"score":0,"creation_date":1701086752,"post_id":77556567,"comment_id":136727316,"body_markdown":"@MikhailGuliaev sorry, due to some constraits, can&#39;t provide the code","body":"@MikhailGuliaev sorry, due to some constraits, can&#39;t provide the code"},{"owner":{"account_id":25285238,"reputation":407,"user_id":19112370,"display_name":"Harshali"},"score":1,"creation_date":1701090394,"post_id":77556567,"comment_id":136727967,"body_markdown":"@Jatinguglani, Without XML code and knowing layout properties it&#39;s hard to tell what&#39;s the solution.","body":"@Jatinguglani, Without XML code and knowing layout properties it&#39;s hard to tell what&#39;s the solution."}],"owner":{"account_id":27817647,"reputation":591,"user_id":21238708,"display_name":"Jatin guglani"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1701084879,"creation_date":1701084879,"question_id":77556567,"body_markdown":"I have programatically created the following layout using absolute positioning:-\r\n \r\n[![enter image description here][1]][1]\r\n\r\nWhen user enters 3 or more characters in the EditView (TextEdit: 107), a Selection List(RecyclerView) will appear below the Editview. \r\nBut the button is overlapping the RecyclerView as shown:-\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UVpKwl.png\r\n  [2]: https://i.stack.imgur.com/sHrvSl.png\r\n\r\nNow, According the my understanding if the position of views overlaps then they appears in in the order they have been generated i.e. added to the parent view. So acc. to that RecyclerView that&#39;s added to the RelativeLayout at last should have overlapped the button and the button should be hidden below it. but that&#39;s not happening, could someone explain the reason behind this? ","title":"Previously created view(Button) is overlapping the newly generated View(RecyclerView)","body":"<p>I have programatically created the following layout using absolute positioning:-</p>\n<p><a href=\"https://i.stack.imgur.com/UVpKwl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UVpKwl.png\" alt=\"enter image description here\" /></a></p>\n<p>When user enters 3 or more characters in the EditView (TextEdit: 107), a Selection List(RecyclerView) will appear below the Editview.\nBut the button is overlapping the RecyclerView as shown:-</p>\n<p><a href=\"https://i.stack.imgur.com/sHrvSl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sHrvSl.png\" alt=\"enter image description here\" /></a></p>\n<p>Now, According the my understanding if the position of views overlaps then they appears in in the order they have been generated i.e. added to the parent view. So acc. to that RecyclerView that's added to the RelativeLayout at last should have overlapped the button and the button should be hidden below it. but that's not happening, could someone explain the reason behind this?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":1,"creation_date":1701085262,"post_id":77556542,"comment_id":136727062,"body_markdown":"Those are milliseconds. The difference of them tells you how many milliseconds there are between start and end. 1,000 ms is one second, 60 seconds is one minute, 60 minutes is one hour, 24 hours is one day and 7 days is a week. So, the difference between these two values divided by (7*24*60*60*1000) should give you the number of weeks between the two.","body":"Those are milliseconds. The difference of them tells you how many milliseconds there are between start and end. 1,000 ms is one second, 60 seconds is one minute, 60 minutes is one hour, 24 hours is one day and 7 days is a week. So, the difference between these two values divided by (7*24*60*60*1000) should give you the number of weeks between the two."},{"owner":{"account_id":19409314,"reputation":1,"user_id":14194027,"display_name":"Pranav Girwalkar"},"score":0,"creation_date":1701094293,"post_id":77556542,"comment_id":136728708,"body_markdown":"I don&#39;t want number of weeks in between, I want week wise seconds","body":"I don&#39;t want number of weeks in between, I want week wise seconds"},{"owner":{"account_id":7557680,"reputation":2844,"user_id":5736633,"accept_rate":71,"display_name":"vatbub"},"score":0,"creation_date":1701171509,"post_id":77556542,"comment_id":136739679,"body_markdown":"Can you explain what week wise seconds are?","body":"Can you explain what week wise seconds are?"},{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":1,"creation_date":1701184792,"post_id":77556542,"comment_id":136742262,"body_markdown":"@vatbub I think he wants a breakdown by week of how many seconds there are between the two instants. Something like what he showed on his example that I now understand (Week 48 = X seconds, Week 49 seconds = Y seconds etc.)","body":"@vatbub I think he wants a breakdown by week of how many seconds there are between the two instants. Something like what he showed on his example that I now understand (Week 48 = X seconds, Week 49 seconds = Y seconds etc.)"},{"owner":{"account_id":7557680,"reputation":2844,"user_id":5736633,"accept_rate":71,"display_name":"vatbub"},"score":0,"creation_date":1701208986,"post_id":77556542,"comment_id":136746583,"body_markdown":"Ok, then the next question: What are `startEpoch` and `endEpoch`? Is it unix time? Is it something else? And if you are right @MatteoNNZ , wouldn&#39;t that then just be 7*24*60*60 for all whole weeks plus how many seconds are in the starting and in the ending week?","body":"Ok, then the next question: What are <code>startEpoch</code> and <code>endEpoch</code>? Is it unix time? Is it something else? And if you are right @MatteoNNZ , wouldn&#39;t that then just be 7*24*60*60 for all whole weeks plus how many seconds are in the starting and in the ending week?"},{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":1,"creation_date":1701212213,"post_id":77556542,"comment_id":136747039,"body_markdown":"@vatbub I think what he needs to do is: 1) determine in which week (of the year, I guess?) fall the start and end dates; 2) identify the beginning of each week; 3) split the total seconds between end and start into those buckets.","body":"@vatbub I think what he needs to do is: 1) determine in which week (of the year, I guess?) fall the start and end dates; 2) identify the beginning of each week; 3) split the total seconds between end and start into those buckets."},{"owner":{"account_id":7557680,"reputation":2844,"user_id":5736633,"accept_rate":71,"display_name":"vatbub"},"score":0,"creation_date":1701250746,"post_id":77556542,"comment_id":136751277,"body_markdown":"That sounds reasonable, but either way, we need confirmation from @PranavGirwalkar , otherwise this is all guesswork :)","body":"That sounds reasonable, but either way, we need confirmation from @PranavGirwalkar , otherwise this is all guesswork :)"},{"owner":{"account_id":19409314,"reputation":1,"user_id":14194027,"display_name":"Pranav Girwalkar"},"score":0,"creation_date":1701260063,"post_id":77556542,"comment_id":136753051,"body_markdown":"Yes, @MatteoNNZ you are right, you elaborated my problem exactly. startEpoch and endEpoch are Unix times.","body":"Yes, @MatteoNNZ you are right, you elaborated my problem exactly. startEpoch and endEpoch are Unix times."},{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":0,"creation_date":1701260130,"post_id":77556542,"comment_id":136753068,"body_markdown":"@PranavGirwalkar you should try to write some code yourself and then ask for help if you&#39;re stuck on a specific issue. In my comment I gave you some tips of how you may split your problem into sub-problems and try to implement them.","body":"@PranavGirwalkar you should try to write some code yourself and then ask for help if you&#39;re stuck on a specific issue. In my comment I gave you some tips of how you may split your problem into sub-problems and try to implement them."},{"owner":{"account_id":19409314,"reputation":1,"user_id":14194027,"display_name":"Pranav Girwalkar"},"score":0,"creation_date":1701269859,"post_id":77556542,"comment_id":136755077,"body_markdown":"@MatteoNNZ sure, actually I&#39;m trying it in parallel. Thank you &#128591;","body":"@MatteoNNZ sure, actually I&#39;m trying it in parallel. Thank you "}],"owner":{"account_id":19409314,"reputation":1,"user_id":14194027,"display_name":"Pranav Girwalkar"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1702357935,"answer_count":0,"score":-3,"last_activity_date":1701084648,"creation_date":1701084648,"question_id":77556542,"body_markdown":"I&#39;ve an input of 2 epoch dates and I want to calculate week wise duration between this time frame\r\nfor example:\r\nInput:\r\nlong startEpoch = 1701054000;\r\nlong endEpoch = 1701054000;\r\n\r\nExpected output:\r\nW48 - X seconds\r\nW49 - Y seconds\r\nW50 - Z seconds \r\nand so on\r\n\r\nI don&#39;t know, where to start","title":"how to calculate Week wise duration in seconds between two epoch times in java?","body":"<p>I've an input of 2 epoch dates and I want to calculate week wise duration between this time frame\nfor example:\nInput:\nlong startEpoch = 1701054000;\nlong endEpoch = 1701054000;</p>\n<p>Expected output:\nW48 - X seconds\nW49 - Y seconds\nW50 - Z seconds\nand so on</p>\n<p>I don't know, where to start</p>\n"},{"tags":["java","android","android-billing","play-billing-library"],"answers":[{"comments":[{"owner":{"account_id":28627688,"reputation":11,"user_id":21919351,"display_name":"Alexandra Nicole"},"score":0,"creation_date":1701104752,"post_id":77556370,"comment_id":136731021,"body_markdown":"Still nothing happens after the purchase is done, the purchase window just closes.","body":"Still nothing happens after the purchase is done, the purchase window just closes."}],"tags":[],"owner":{"account_id":29439484,"reputation":94,"user_id":22557788,"display_name":"Davit Hovhannisyan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701082857,"creation_date":1701082857,"answer_id":77556370,"question_id":77553433,"body_markdown":"Check Acknowledgment Status Before Processing:\r\n\r\n    @Override\r\n    public void onPurchasedProductsFetched(@NonNull ProductType productType, @NonNull List&lt;PurchaseInfo&gt; purchases) {\r\n        for (PurchaseInfo purchaseInfo : purchases) {\r\n            String purchasedProduct = purchaseInfo.getProduct();\r\n            if (!isPro() &amp;&amp; purchasedProduct.equalsIgnoreCase(&quot;com.xxxx.pro&quot;)) {\r\n                if (!billingConnector.isPurchasedItemAcknowledged(purchaseInfo)) {\r\n                    // here is the code of purchase processing\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nAlso move the acknowledgment logic from the onPurchaseAcknowledged method to the onPurchasedProductsFetched method. This might be helpful.\r\n\r\n\r\n    @Override\r\n    public void onPurchasedProductsFetched(@NonNull ProductType productType, @NonNull List&lt;PurchaseInfo&gt; purchases) {\r\n        for (PurchaseInfo purchaseInfo : purchases) {\r\n            String purchasedProduct = purchaseInfo.getProduct();\r\n            if (!isPro() &amp;&amp; purchasedProduct.equalsIgnoreCase(&quot;com.xxxx.pro&quot;)) {\r\n                // here is the code of purchase processing\r\n                handlePurchase(purchaseInfo);\r\n            }\r\n        }\r\n    }\r\n    \r\n    private void handlePurchase(PurchaseInfo purchaseInfo) {\r\n        String acknowledgedProduct = purchaseInfo.getProduct();\r\n        if (acknowledgedProduct.equalsIgnoreCase(&quot;com.xxxx.pro&quot;)) {\r\n            Toast.makeText(InfoController.this, &quot;The purchase was successfully made.&quot;, Toast.LENGTH_SHORT).show();\r\n            setProUser(true);\r\n            upgradeButton.setEnabled(false);\r\n            upgradeButton.setText(&quot;User is Pro&quot;);\r\n        }\r\n    }\r\n\r\n","title":"Android Studio Java - In app purchase bugs/issue","body":"<p>Check Acknowledgment Status Before Processing:</p>\n<pre><code>@Override\npublic void onPurchasedProductsFetched(@NonNull ProductType productType, @NonNull List&lt;PurchaseInfo&gt; purchases) {\n    for (PurchaseInfo purchaseInfo : purchases) {\n        String purchasedProduct = purchaseInfo.getProduct();\n        if (!isPro() &amp;&amp; purchasedProduct.equalsIgnoreCase(&quot;com.xxxx.pro&quot;)) {\n            if (!billingConnector.isPurchasedItemAcknowledged(purchaseInfo)) {\n                // here is the code of purchase processing\n            }\n        }\n    }\n}\n</code></pre>\n<p>Also move the acknowledgment logic from the onPurchaseAcknowledged method to the onPurchasedProductsFetched method. This might be helpful.</p>\n<pre><code>@Override\npublic void onPurchasedProductsFetched(@NonNull ProductType productType, @NonNull List&lt;PurchaseInfo&gt; purchases) {\n    for (PurchaseInfo purchaseInfo : purchases) {\n        String purchasedProduct = purchaseInfo.getProduct();\n        if (!isPro() &amp;&amp; purchasedProduct.equalsIgnoreCase(&quot;com.xxxx.pro&quot;)) {\n            // here is the code of purchase processing\n            handlePurchase(purchaseInfo);\n        }\n    }\n}\n\nprivate void handlePurchase(PurchaseInfo purchaseInfo) {\n    String acknowledgedProduct = purchaseInfo.getProduct();\n    if (acknowledgedProduct.equalsIgnoreCase(&quot;com.xxxx.pro&quot;)) {\n        Toast.makeText(InfoController.this, &quot;The purchase was successfully made.&quot;, Toast.LENGTH_SHORT).show();\n        setProUser(true);\n        upgradeButton.setEnabled(false);\n        upgradeButton.setText(&quot;User is Pro&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28627688,"reputation":11,"user_id":21919351,"display_name":"Alexandra Nicole"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701084648,"creation_date":1701031536,"question_id":77553433,"body_markdown":"In my app I am adding In App Purchase using [this][1] library.\r\n\r\nThis is what my activity code looks like:\r\n    \r\n    public class InfoController extends AppCompatActivity {\r\n    \r\n        private static final String PREFS_NAME = &quot;TEST_MyPrefsFile&quot;;\r\n    \r\n        private static final String FIRST_TIME_KEY = &quot;TEST_isFirstLaunch&quot;;\r\n    \r\n        private static final String IS_PRO_KEY = &quot;TEST_isPro&quot;;\r\n        private boolean isPro() {\r\n            SharedPreferences preferences = getSharedPreferences(PREFS_NAME, Context.MODE_PRIVATE);\r\n            return preferences.getBoolean(IS_PRO_KEY, false);\r\n        }\r\n    \r\n        private void setProUser(boolean isPro) {\r\n            SharedPreferences preferences = getSharedPreferences(PREFS_NAME, Context.MODE_PRIVATE);\r\n            SharedPreferences.Editor editor = preferences.edit();\r\n            editor.putBoolean(IS_PRO_KEY, isPro);\r\n            editor.apply();\r\n        }\r\n    \r\n        private Button upgradeButton;\r\n    \r\n        String base64String = &quot;xxxxxxxxxxxxxxxxxxxxxxxxxxxx&quot;;\r\n    \r\n        private BillingConnector billingConnector;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_info);\r\n    \r\n            upgradeButton = findViewById(R.id.upgradeButton);\r\n    \r\n            if (!isPro()) {\r\n                upgradeButton.setText(&quot;Click here to upgrade to Pro&quot;);\r\n                initializeBillingClient();\r\n            } else {\r\n                upgradeButton.setEnabled(false);\r\n                upgradeButton.setText(&quot;User is Pro&quot;);\r\n            }\r\n        }\r\n    \r\n    \r\n        private void initializeBillingClient() {\r\n            List&lt;String&gt; nonConsumableIds = new ArrayList&lt;&gt;();\r\n            nonConsumableIds.add(&quot;com.xxxx.pro&quot;);  // Replace with your actual non-consumable product ID\r\n    \r\n            billingConnector = new BillingConnector(this, base64String)\r\n                    .setNonConsumableIds(nonConsumableIds)\r\n                    .autoAcknowledge()\r\n                    .enableLogging()\r\n                    .connect();\r\n    \r\n            billingConnector.setBillingEventListener(new BillingEventListener() {\r\n                @Override\r\n                public void onProductsFetched(@NonNull List&lt;ProductInfo&gt; productDetails) {\r\n    \r\n                }\r\n    \r\n                //this IS the listener in which we can restore previous purchases.\r\n                // Code will execute on InfoController.java appear. If pro is already purchased, unlock pro features.\r\n                @Override\r\n                public void onPurchasedProductsFetched(@NonNull ProductType productType, @NonNull List&lt;PurchaseInfo&gt; purchases) {\r\n                    String purchasedProduct;\r\n                    boolean isAcknowledged;\r\n    \r\n                    for (PurchaseInfo purchaseInfo : purchases) {\r\n                        purchasedProduct = purchaseInfo.getProduct();\r\n                        isAcknowledged = purchaseInfo.isAcknowledged();\r\n    \r\n                        if (!isPro()) {\r\n                            if (purchasedProduct.equalsIgnoreCase(&quot;com.xxxx.pro&quot;)) {\r\n                                if (isAcknowledged) {\r\n    \r\n                                    // CustomToast.makeText(InfoController.this, &quot;The previous purchase was successfully restored.&quot;, Toast.LENGTH_SHORT).show();\r\n    \r\n                                    // setProUser(true);\r\n    \r\n                                    Toast.makeText(InfoController.this, &quot;isAcknowledged&quot;, Toast.LENGTH_SHORT).show();\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n    \r\n                //this IS NOT the listener in which we&#39;ll give user entitlement for purchases (see ReadMe.md why)\r\n                @Override\r\n                public void onProductsPurchased(@NonNull List&lt;PurchaseInfo&gt; purchases) {\r\n    \r\n                }\r\n    \r\n                //this IS the listener in which we&#39;ll give user entitlement for purchases (the ReadMe.md explains why)\r\n                @Override\r\n                public void onPurchaseAcknowledged(@NonNull PurchaseInfo purchase) {\r\n                    String acknowledgedProduct = purchase.getProduct();\r\n    \r\n                    if (acknowledgedProduct.equalsIgnoreCase(&quot;com.xxxx.pro&quot;)) {\r\n    \r\n                        Toast.makeText(InfoController.this, &quot;The purchase was successfully made.&quot;, Toast.LENGTH_SHORT).show();\r\n    \r\n                        setProUser(true);\r\n    \r\n                        upgradeButton.setEnabled(false);\r\n                        upgradeButton.setText(&quot;User is Pro&quot;);\r\n                    }\r\n                }\r\n    \r\n                @Override\r\n                public void onPurchaseConsumed(@NonNull PurchaseInfo purchase) {\r\n    \r\n                }\r\n    \r\n                @Override\r\n                public void onBillingError(@NonNull BillingConnector billingConnector, @NonNull BillingResponse response) {\r\n                    switch (response.getErrorType()) {\r\n                        case ACKNOWLEDGE_WARNING:\r\n                            //this response will be triggered when the purchase is still PENDING\r\n                            CustomToast.makeText(InfoController.this, &quot;The transaction is still pending. Please come back later to receive the purchase!&quot;, Toast.LENGTH_SHORT).show();\r\n                            break;\r\n                        case BILLING_UNAVAILABLE:\r\n                        case SERVICE_UNAVAILABLE:\r\n                            CustomToast.makeText(InfoController.this, &quot;Billing is unavailable at the moment. Check your internet connection!&quot;, Toast.LENGTH_SHORT).show();\r\n                            break;\r\n                        case ERROR:\r\n                            CustomToast.makeText(InfoController.this, &quot;Something happened, the transaction was canceled!&quot;, Toast.LENGTH_SHORT).show();\r\n                            break;\r\n                        case ITEM_ALREADY_OWNED:\r\n                            Toast.makeText(InfoController.this, &quot;The purchase has already been made.&quot;, Toast.LENGTH_SHORT).show();\r\n                            setProUser(true);\r\n                            upgradeButton.setEnabled(false);\r\n                            upgradeButton.setText(&quot;User is Pro&quot;);\r\n                                break;\r\n                        case ITEM_NOT_OWNED:\r\n                            //TODO - failure to consume since item is not owned\r\n                            break;\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    \r\n        public void onUpgradeButtonClick(View view) {\r\n            billingConnector.purchase(InfoController.this, &quot;com.xxxx.pro&quot;);\r\n        }\r\n    }\r\n\r\nWhen I am testing in app purchase I am using promo codes (since I do not have a card connected to my account).\r\n\r\nSo when I open up this activity, nothing shows up. I press the `upgradeButton`, the upgrade prompt pops up, I select promo code and type in the promo code, click next and it tells me that the price is 0 and I press confirm. After this, the purchase prompt window just closes and nothing happens. No Toast message shows up, the upgradeButton text still says: `Click here to upgrade to Pro`.\r\n\r\nIf I now close the app, open it back up and go to the InfoController (this activity), the Toast message `isAcknowledged` shows up.\r\n\r\nSo my question is: How come nothing happens after the purchase is done, but when I open up the activity again after the purchase, it shows `isAcknowledged`?\r\n\r\n\r\n  [1]: https://github.com/moisoni97/google-inapp-billing","title":"Android Studio Java - In app purchase bugs/issue","body":"<p>In my app I am adding In App Purchase using <a href=\"https://github.com/moisoni97/google-inapp-billing\" rel=\"nofollow noreferrer\">this</a> library.</p>\n<p>This is what my activity code looks like:</p>\n<pre><code>public class InfoController extends AppCompatActivity {\n\n    private static final String PREFS_NAME = &quot;TEST_MyPrefsFile&quot;;\n\n    private static final String FIRST_TIME_KEY = &quot;TEST_isFirstLaunch&quot;;\n\n    private static final String IS_PRO_KEY = &quot;TEST_isPro&quot;;\n    private boolean isPro() {\n        SharedPreferences preferences = getSharedPreferences(PREFS_NAME, Context.MODE_PRIVATE);\n        return preferences.getBoolean(IS_PRO_KEY, false);\n    }\n\n    private void setProUser(boolean isPro) {\n        SharedPreferences preferences = getSharedPreferences(PREFS_NAME, Context.MODE_PRIVATE);\n        SharedPreferences.Editor editor = preferences.edit();\n        editor.putBoolean(IS_PRO_KEY, isPro);\n        editor.apply();\n    }\n\n    private Button upgradeButton;\n\n    String base64String = &quot;xxxxxxxxxxxxxxxxxxxxxxxxxxxx&quot;;\n\n    private BillingConnector billingConnector;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_info);\n\n        upgradeButton = findViewById(R.id.upgradeButton);\n\n        if (!isPro()) {\n            upgradeButton.setText(&quot;Click here to upgrade to Pro&quot;);\n            initializeBillingClient();\n        } else {\n            upgradeButton.setEnabled(false);\n            upgradeButton.setText(&quot;User is Pro&quot;);\n        }\n    }\n\n\n    private void initializeBillingClient() {\n        List&lt;String&gt; nonConsumableIds = new ArrayList&lt;&gt;();\n        nonConsumableIds.add(&quot;com.xxxx.pro&quot;);  // Replace with your actual non-consumable product ID\n\n        billingConnector = new BillingConnector(this, base64String)\n                .setNonConsumableIds(nonConsumableIds)\n                .autoAcknowledge()\n                .enableLogging()\n                .connect();\n\n        billingConnector.setBillingEventListener(new BillingEventListener() {\n            @Override\n            public void onProductsFetched(@NonNull List&lt;ProductInfo&gt; productDetails) {\n\n            }\n\n            //this IS the listener in which we can restore previous purchases.\n            // Code will execute on InfoController.java appear. If pro is already purchased, unlock pro features.\n            @Override\n            public void onPurchasedProductsFetched(@NonNull ProductType productType, @NonNull List&lt;PurchaseInfo&gt; purchases) {\n                String purchasedProduct;\n                boolean isAcknowledged;\n\n                for (PurchaseInfo purchaseInfo : purchases) {\n                    purchasedProduct = purchaseInfo.getProduct();\n                    isAcknowledged = purchaseInfo.isAcknowledged();\n\n                    if (!isPro()) {\n                        if (purchasedProduct.equalsIgnoreCase(&quot;com.xxxx.pro&quot;)) {\n                            if (isAcknowledged) {\n\n                                // CustomToast.makeText(InfoController.this, &quot;The previous purchase was successfully restored.&quot;, Toast.LENGTH_SHORT).show();\n\n                                // setProUser(true);\n\n                                Toast.makeText(InfoController.this, &quot;isAcknowledged&quot;, Toast.LENGTH_SHORT).show();\n                            }\n                        }\n                    }\n                }\n            }\n\n            //this IS NOT the listener in which we'll give user entitlement for purchases (see ReadMe.md why)\n            @Override\n            public void onProductsPurchased(@NonNull List&lt;PurchaseInfo&gt; purchases) {\n\n            }\n\n            //this IS the listener in which we'll give user entitlement for purchases (the ReadMe.md explains why)\n            @Override\n            public void onPurchaseAcknowledged(@NonNull PurchaseInfo purchase) {\n                String acknowledgedProduct = purchase.getProduct();\n\n                if (acknowledgedProduct.equalsIgnoreCase(&quot;com.xxxx.pro&quot;)) {\n\n                    Toast.makeText(InfoController.this, &quot;The purchase was successfully made.&quot;, Toast.LENGTH_SHORT).show();\n\n                    setProUser(true);\n\n                    upgradeButton.setEnabled(false);\n                    upgradeButton.setText(&quot;User is Pro&quot;);\n                }\n            }\n\n            @Override\n            public void onPurchaseConsumed(@NonNull PurchaseInfo purchase) {\n\n            }\n\n            @Override\n            public void onBillingError(@NonNull BillingConnector billingConnector, @NonNull BillingResponse response) {\n                switch (response.getErrorType()) {\n                    case ACKNOWLEDGE_WARNING:\n                        //this response will be triggered when the purchase is still PENDING\n                        CustomToast.makeText(InfoController.this, &quot;The transaction is still pending. Please come back later to receive the purchase!&quot;, Toast.LENGTH_SHORT).show();\n                        break;\n                    case BILLING_UNAVAILABLE:\n                    case SERVICE_UNAVAILABLE:\n                        CustomToast.makeText(InfoController.this, &quot;Billing is unavailable at the moment. Check your internet connection!&quot;, Toast.LENGTH_SHORT).show();\n                        break;\n                    case ERROR:\n                        CustomToast.makeText(InfoController.this, &quot;Something happened, the transaction was canceled!&quot;, Toast.LENGTH_SHORT).show();\n                        break;\n                    case ITEM_ALREADY_OWNED:\n                        Toast.makeText(InfoController.this, &quot;The purchase has already been made.&quot;, Toast.LENGTH_SHORT).show();\n                        setProUser(true);\n                        upgradeButton.setEnabled(false);\n                        upgradeButton.setText(&quot;User is Pro&quot;);\n                            break;\n                    case ITEM_NOT_OWNED:\n                        //TODO - failure to consume since item is not owned\n                        break;\n                }\n            }\n        });\n    }\n\n    public void onUpgradeButtonClick(View view) {\n        billingConnector.purchase(InfoController.this, &quot;com.xxxx.pro&quot;);\n    }\n}\n</code></pre>\n<p>When I am testing in app purchase I am using promo codes (since I do not have a card connected to my account).</p>\n<p>So when I open up this activity, nothing shows up. I press the <code>upgradeButton</code>, the upgrade prompt pops up, I select promo code and type in the promo code, click next and it tells me that the price is 0 and I press confirm. After this, the purchase prompt window just closes and nothing happens. No Toast message shows up, the upgradeButton text still says: <code>Click here to upgrade to Pro</code>.</p>\n<p>If I now close the app, open it back up and go to the InfoController (this activity), the Toast message <code>isAcknowledged</code> shows up.</p>\n<p>So my question is: How come nothing happens after the purchase is done, but when I open up the activity again after the purchase, it shows <code>isAcknowledged</code>?</p>\n"},{"tags":["java","android","cordova","timertask"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":2,"creation_date":1701085216,"post_id":77556533,"comment_id":136727054,"body_markdown":"Nothing glaringly wrong with the code, it should execute every 5 seconds as expected. Could `callbackContext.sendPluginResult()` throw an exception? I can&#39;t think of anything else disrupting the task.","body":"Nothing glaringly wrong with the code, it should execute every 5 seconds as expected. Could <code>callbackContext.sendPluginResult()</code> throw an exception? I can&#39;t think of anything else disrupting the task."},{"owner":{"account_id":1305423,"reputation":6357,"user_id":1254512,"accept_rate":73,"display_name":"Fustigador"},"score":0,"creation_date":1701085555,"post_id":77556533,"comment_id":136727104,"body_markdown":"I am scratching my head...can&#39;t find why is not working.","body":"I am scratching my head...can&#39;t find why is not working."},{"owner":{"account_id":9172301,"reputation":4168,"user_id":6819340,"accept_rate":39,"display_name":"darshan"},"score":0,"creation_date":1701087475,"post_id":77556533,"comment_id":136727437,"body_markdown":"Try printing a message instead of sending a plugin result. Its possible that might be causing an issue.","body":"Try printing a message instead of sending a plugin result. Its possible that might be causing an issue."},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":1,"creation_date":1701097538,"post_id":77556533,"comment_id":136729422,"body_markdown":"The behavior would be expected if `sendPluginResult` or one of the other calls in the `run()` method do not return (block execution). The timer will wait for the first TimerTask to finish before the second is executed, even if it is already time to execute it.","body":"The behavior would be expected if <code>sendPluginResult</code> or one of the other calls in the <code>run()</code> method do not return (block execution). The timer will wait for the first TimerTask to finish before the second is executed, even if it is already time to execute it."}],"owner":{"account_id":1305423,"reputation":6357,"user_id":1254512,"accept_rate":73,"display_name":"Fustigador"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701084541,"creation_date":1701084541,"question_id":77556533,"body_markdown":"I need to return the result of a recurring code to Cordova. The code is this:\r\n\r\n    private void startAsking() {\r\n\r\n        t = new Timer();\r\n        t.schedule(new TimerTask() {\r\n            @Override\r\n            public void run() {\r\n                \r\n                    callbackContext.sendPluginResult(new PluginResult(PluginResult.Status.OK, &quot;OK&quot;));\r\n                \r\n\r\n            }\r\n        }, 0, 5000);\r\n\r\n    }\r\n\r\nThis code should run every 5 seconds, if I am not mistaken, but is only sent once to Cordova. Am I doing something wrong?","title":"TimerTask only returns once","body":"<p>I need to return the result of a recurring code to Cordova. The code is this:</p>\n<pre><code>private void startAsking() {\n\n    t = new Timer();\n    t.schedule(new TimerTask() {\n        @Override\n        public void run() {\n            \n                callbackContext.sendPluginResult(new PluginResult(PluginResult.Status.OK, &quot;OK&quot;));\n            \n\n        }\n    }, 0, 5000);\n\n}\n</code></pre>\n<p>This code should run every 5 seconds, if I am not mistaken, but is only sent once to Cordova. Am I doing something wrong?</p>\n"},{"tags":["java","android","kotlin","multi-module","kotlin-java-interop"],"comments":[{"owner":{"account_id":23390934,"reputation":11,"user_id":17455594,"display_name":"Seong"},"score":0,"creation_date":1701084835,"post_id":77556515,"comment_id":136727002,"body_markdown":"In fact, I have some interface implements `LifecycleOwner` (simply call Foo). Few days ago, I converted `AFragment extends Fragment implements Foo` to kotlin code. And then `AFragment` warns like avobe. Since my project has dependencies for &#39;androidx.lifecycle:lifecycle-common:2.5.0&#39; and &#39;androidx.lifecycle:lifecycle-common:2.6.1&#39; both.","body":"In fact, I have some interface implements <code>LifecycleOwner</code> (simply call Foo). Few days ago, I converted <code>AFragment extends Fragment implements Foo</code> to kotlin code. And then <code>AFragment</code> warns like avobe. Since my project has dependencies for &#39;androidx.lifecycle:lifecycle-common:2.5.0&#39; and &#39;androidx.lifecycle:lifecycle-common:2.6.1&#39; both."}],"owner":{"account_id":23390934,"reputation":11,"user_id":17455594,"display_name":"Seong"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701084354,"creation_date":1701084354,"question_id":77556515,"body_markdown":"This is sample code for multi-module project of mine.\r\n\r\nModule A\r\n```java\r\n// Test.java\r\npackage com.test\r\n\r\npublic interface Test {\r\n  @NonNull\r\n  String getTestName();\r\n}\r\n```\r\n\r\nModule B\r\n```kotlin\r\n// Test.kt\r\npackage com.test\r\n\r\ninterface Test {\r\n  val testName: String\r\n}\r\n```\r\n```java\r\n// ATest.java\r\npackage com.test.impl\r\n\r\npublic class ATest implements Test {\r\n  @NonNull\r\n  @Override\r\n  public String getTestName() {\r\n    return &quot;It`s ATest&quot;;\r\n  }\r\n}\r\n```\r\n```kotlin\r\n// BTest.kt\r\npackage com.test.impl\r\n\r\ninterface BTest : Test\r\n```\r\n```\r\n// FinalTest.kt\r\npackage com.test.impl\r\n\r\nclass FinalTest : ATest(), BTest\r\n```\r\n\r\nFor `FinalTest`, IDE warns that `Class &#39;FinalTest&#39; is not abstract and does not implement abstract member public abstract val testName: String defined in com.test.impl.BTest`. But it works without compliation error. What should I do to remove that waring.\r\n\r\n&gt; I know a simple way is remove Test in Module A. But, assume there is some reason, so that we can&#39;t edit ATest or Test in Module A\r\n\r\nI want use `FinalTest` without warning","title":"(AndroidStudio)Fix not Implemented exception when using Java and Kotlin in multi-module project","body":"<p>This is sample code for multi-module project of mine.</p>\n<p>Module A</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Test.java\npackage com.test\n\npublic interface Test {\n  @NonNull\n  String getTestName();\n}\n</code></pre>\n<p>Module B</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// Test.kt\npackage com.test\n\ninterface Test {\n  val testName: String\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>// ATest.java\npackage com.test.impl\n\npublic class ATest implements Test {\n  @NonNull\n  @Override\n  public String getTestName() {\n    return &quot;It`s ATest&quot;;\n  }\n}\n</code></pre>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// BTest.kt\npackage com.test.impl\n\ninterface BTest : Test\n</code></pre>\n<pre><code>// FinalTest.kt\npackage com.test.impl\n\nclass FinalTest : ATest(), BTest\n</code></pre>\n<p>For <code>FinalTest</code>, IDE warns that <code>Class 'FinalTest' is not abstract and does not implement abstract member public abstract val testName: String defined in com.test.impl.BTest</code>. But it works without compliation error. What should I do to remove that waring.</p>\n<blockquote>\n<p>I know a simple way is remove Test in Module A. But, assume there is some reason, so that we can't edit ATest or Test in Module A</p>\n</blockquote>\n<p>I want use <code>FinalTest</code> without warning</p>\n"},{"tags":["java","soap","digital-signature","x509certificate","soap-client"],"owner":{"account_id":12696165,"reputation":27,"user_id":9224530,"display_name":"Michele Raso"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701084348,"creation_date":1700818054,"question_id":77542043,"body_markdown":"hello i am developing a service for a SOAP call with x509 authentication and i need to sign the body and timestamp, but i can&#39;t get it to work java side while in SoapUI it does.\r\n\r\n\r\nThe error (with java code) is SSF_API_SIGNER_ERORS A signing opration not be performed or failed\r\n\r\n\r\nthe configuration in soapUi is this\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HXtLp.png\r\n\r\nwhile my signature code is this\r\n\r\n\r\n          private void createDetachedSignature(SOAPElement signatureElement, PrivateKey privateKey, SOAPElement securityTokenReference, SOAPBody soapBody, SOAPElement timestamp) throws Exception {\r\n            \r\n            \r\n                String providerName = System.getProperty\r\n                        (&quot;jsr105Provider&quot;, &quot;org.jcp.xml.dsig.internal.dom.XMLDSigRI&quot;);\r\n                XMLSignatureFactory xmlSignatureFactory = XMLSignatureFactory.getInstance(&quot;DOM&quot;,\r\n                        (Provider) Class.forName(providerName).newInstance());\r\n            \r\n            \r\n                //Digest method\r\n                javax.xml.crypto.dsig.DigestMethod digestMethod = xmlSignatureFactory.newDigestMethod(&quot;http://www.w3.org/2000/09/xmldsig#sha1&quot;, null);\r\n                ArrayList&lt;Transform&gt; transformList = new ArrayList&lt;Transform&gt;();\r\n            \r\n            \r\n                //Transform\r\n                Transform envTransform = xmlSignatureFactory.newTransform(&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;, (TransformParameterSpec) null);\r\n                transformList.add(envTransform);\r\n            \r\n            \r\n                //References\r\n            \r\n                ArrayList&lt;Reference&gt; refList = new ArrayList&lt;Reference&gt;();\r\n                Reference refTS = xmlSignatureFactory.newReference(&quot;#TS&quot;+UUID, digestMethod, transformList, null, null);\r\n                Reference refBody = xmlSignatureFactory.newReference(&quot;#Body&quot;+UUID, digestMethod, transformList, null, null);\r\n            \r\n            \r\n                refList.add(refBody);\r\n                refList.add(refTS);\r\n            \r\n            \r\n                javax.xml.crypto.dsig.CanonicalizationMethod cm = xmlSignatureFactory.newCanonicalizationMethod(&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;,\r\n                        (C14NMethodParameterSpec) null);\r\n            \r\n                javax.xml.crypto.dsig.SignatureMethod sm = xmlSignatureFactory.newSignatureMethod(&quot;http://www.w3.org/2000/09/xmldsig#rsa-sha1&quot;, null);\r\n                SignedInfo signedInfo = xmlSignatureFactory.newSignedInfo(cm, sm, refList);\r\n            \r\n                signatureElement.setAttribute(&quot;Id&quot;, &quot;SIG&quot; + UUID);\r\n            \r\n                DOMSignContext signContext = new DOMSignContext(privateKey, signatureElement);\r\n                signContext.setDefaultNamespacePrefix(&quot;ds&quot;);\r\n                signContext.putNamespacePrefix(&quot;http://www.w3.org/2000/09/xmldsig#&quot;, &quot;ds&quot;);\r\n            \r\n            \r\n                //These are required for new Java versions\r\n                signContext.setIdAttributeNS\r\n                        (soapBody,\r\n                                &quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot;, &quot;Id&quot;);\r\n            \r\n            \r\n                signContext.setIdAttributeNS\r\n                        (timestamp,\r\n                                &quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot;, &quot;Id&quot;);\r\n            \r\n            \r\n                KeyInfoFactory keyFactory = KeyInfoFactory.getInstance();\r\n                DOMStructure domKeyInfo = new DOMStructure(securityTokenReference);\r\n                javax.xml.crypto.dsig.keyinfo.KeyInfo keyInfo = keyFactory.newKeyInfo(java.util.Collections.singletonList(domKeyInfo));\r\n                if (securityTokenReference instanceof Element) {\r\n                    Element keyInfoElement = (Element) securityTokenReference;\r\n                    keyInfoElement.setAttribute(&quot;Id&quot;, &quot;KI&quot; + UUID);\r\n                }\r\n                javax.xml.crypto.dsig.XMLSignature signature = xmlSignatureFactory.newXMLSignature(signedInfo, keyInfo);\r\n                signContext.setBaseURI(&quot;&quot;);\r\n            \r\n            \r\n                signature.sign(signContext);\r\n                String signatureValue = getSignatureValueAsString(signatureElement);\r\n                System.out.println(&quot;Signature Value: &quot; + signatureValue);\r\n            \r\n            \r\n                Element canonicalizationMethodElement = (Element) signatureElement.getElementsByTagNameNS(&quot;http://www.w3.org/2000/09/xmldsig#&quot;, &quot;CanonicalizationMethod&quot;).item(0);\r\n                addInclusiveNamespaces(canonicalizationMethodElement, &quot;soapenv urn&quot;);\r\n            \r\n                NodeList referenceNodes = signatureElement.getElementsByTagNameNS(&quot;http://www.w3.org/2000/09/xmldsig#&quot;, &quot;Reference&quot;);\r\n                for (int i = 0; i &lt; referenceNodes.getLength(); i++) {\r\n                    Element referenceElement = (Element) referenceNodes.item(i);\r\n                    Element transformsElement = (Element) referenceElement.getElementsByTagNameNS(&quot;http://www.w3.org/2000/09/xmldsig#&quot;, &quot;Transforms&quot;).item(0);\r\n                    Element transformElement = (Element) transformsElement.getElementsByTagNameNS(&quot;http://www.w3.org/2000/09/xmldsig#&quot;, &quot;Transform&quot;).item(0);\r\n            \r\n                    addInclusiveNamespaces(transformElement, &quot;wsse soapenv urn&quot;);\r\n                }\r\n            \r\n            \r\n            }\r\n\r\nI tried to compare the two requests and now I attach them to you\r\n\r\n\r\nSOAP UI REQUEST \r\n\r\n            &lt;soapenv:Envelope xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;\r\n            xmlns:urn=&quot;urn:sap-com:document:sap:rfc:functions&quot;&gt;\r\n            &lt;soapenv:Header&gt;\r\n                &lt;wsse:Security\r\n                    xmlns:wsse=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd&quot;\r\n                    xmlns:wsu=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot;&gt;\r\n                    &lt;wsse:BinarySecurityToken\r\n                        EncodingType=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-soap-message-security-1.0#Base64Binary&quot;\r\n                        ValueType=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-x509-token-profile-1.0#X509v3&quot;\r\n                        wsu:Id=&quot;X509-8C92EF6DC231D5F4321700816423308691&quot;&gt;\r\n                        MIIIEjCCBfqgAwIBAgITHQAAZ/wkXidRhqKJ2wADAABn/DANBgkqhkiG...........&lt;/wsse:BinarySecurityToken&gt;\r\n                    &lt;wsu:Timestamp wsu:Id=&quot;TS-8C92EF6DC231D5F4321700816423307690&quot;&gt;\r\n                        &lt;wsu:Created&gt;2023-11-24T09:00:23Z&lt;/wsu:Created&gt;\r\n                        &lt;wsu:Expires&gt;2024-02-15T17:00:23Z&lt;/wsu:Expires&gt;\r\n                    &lt;/wsu:Timestamp&gt;\r\n                    &lt;ds:Signature Id=&quot;SIG-8C92EF6DC231D5F4321700816423348695&quot;\r\n                        xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot;&gt;\r\n                        &lt;ds:SignedInfo&gt;\r\n                            &lt;ds:CanonicalizationMethod Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;&gt;\r\n                                &lt;ec:InclusiveNamespaces PrefixList=&quot;soapenv urn&quot;\r\n                                    xmlns:ec=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot; /&gt;\r\n                            &lt;/ds:CanonicalizationMethod&gt;\r\n                            &lt;ds:SignatureMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#rsa-sha1&quot; /&gt;\r\n                            &lt;ds:Reference URI=&quot;#TS-8C92EF6DC231D5F4321700816423307690&quot;&gt;\r\n                                &lt;ds:Transforms&gt;\r\n                                    &lt;ds:Transform Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;&gt;\r\n                                        &lt;ec:InclusiveNamespaces PrefixList=&quot;wsse soapenv urn&quot;\r\n                                            xmlns:ec=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot; /&gt;\r\n                                    &lt;/ds:Transform&gt;\r\n                                &lt;/ds:Transforms&gt;\r\n                                &lt;ds:DigestMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#sha1&quot; /&gt;\r\n                                &lt;ds:DigestValue&gt;7KhZ1yTPuNhQ7OtTn32HcJQQ04U=&lt;/ds:DigestValue&gt;\r\n                            &lt;/ds:Reference&gt;\r\n                            &lt;ds:Reference URI=&quot;#id-8C92EF6DC231D5F4321700816423308694&quot;&gt;\r\n                                &lt;ds:Transforms&gt;\r\n                                    &lt;ds:Transform Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;&gt;\r\n                                        &lt;ec:InclusiveNamespaces PrefixList=&quot;&quot;\r\n                                            xmlns:ec=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot; /&gt;\r\n                                    &lt;/ds:Transform&gt;\r\n                                &lt;/ds:Transforms&gt;\r\n                                &lt;ds:DigestMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#sha1&quot; /&gt;\r\n                                &lt;ds:DigestValue&gt;t5f22r+WwrehIN/rbI7EFwLq7tM=&lt;/ds:DigestValue&gt;\r\n                            &lt;/ds:Reference&gt;\r\n                        &lt;/ds:SignedInfo&gt;\r\n                        &lt;ds:SignatureValue&gt;\r\n                            KRttsmdFmqCRQyTmo6/Cgs1Vj8EZ1y9YbObETjtcvhNQUBRny7tIKZE3bH4TwR69L2x0MsosaAcefeuT/OkowAa............&lt;/ds:SignatureValue&gt;\r\n                        &lt;ds:KeyInfo Id=&quot;KI-8C92EF6DC231D5F4321700816423308692&quot;&gt;\r\n                            &lt;wsse:SecurityTokenReference wsu:Id=&quot;STR-8C92EF6DC231D5F4321700816423308693&quot;&gt;\r\n                                &lt;wsse:Reference URI=&quot;#X509-8C92EF6DC231D5F4321700816423308691&quot;\r\n                                    ValueType=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-x509-token-profile-1.0#X509v3&quot; /&gt;\r\n                            &lt;/wsse:SecurityTokenReference&gt;\r\n                        &lt;/ds:KeyInfo&gt;\r\n                    &lt;/ds:Signature&gt;\r\n                &lt;/wsse:Security&gt;\r\n            &lt;/soapenv:Header&gt;\r\n            &lt;soapenv:Body wsu:Id=&quot;id-8C92EF6DC231D5F4321700816423308694&quot;\r\n                xmlns:wsu=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot;&gt;\r\n                &lt;urn:SCHEMA_CC&gt;\r\n                    &lt;IV_BP&gt;3960915933&lt;/IV_BP&gt;\r\n                &lt;/urn:SCHEMA_CC&gt;\r\n            &lt;/soapenv:Body&gt;\r\n        &lt;/soapenv:Envelope&gt;\r\n\r\n\r\nMy request java \r\n\r\n \r\n\r\n                &lt;soapenv:Envelope xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;\r\n                xmlns:urn=&quot;urn:sap-com:document:sap:rfc:functions&quot;&gt;\r\n                &lt;soapenv:Header&gt;\r\n                    &lt;wsse:Security\r\n                        xmlns:wsse=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd&quot;\r\n                        xmlns:wsu=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot;\r\n                        Id=&quot;SIG-1B1352404FC17AFA99AD1B962FA2A67E&quot;&gt;\r\n                        &lt;wsu:Timestamp wsu:Id=&quot;TS-1B1352404FC17AFA99AD1B962FA2A67E&quot;&gt;\r\n                            &lt;wsu:Created&gt;2023-11-24T08:18:32Z&lt;/wsu:Created&gt;\r\n                            &lt;wsu:Expires&gt;2023-11-24T08:19:02Z&lt;/wsu:Expires&gt;\r\n                        &lt;/wsu:Timestamp&gt;\r\n                        &lt;wsse:BinarySecurityToken\r\n                            EncodingType=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-soap-message-security-1.0#Base64Binary&quot;\r\n                            ValueType=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-x509-token-profile-1.0#X509v3&quot;\r\n                            wsu:Id=&quot;X509Token-1B1352404FC17AFA99AD1B962FA2A67E&quot;&gt;\r\n                            MIIIEjCCBfqgAwIBAgITHQAAZ/wkXidRhqKJ2wADAABn..........&lt;/wsse:BinarySecurityToken&gt;\r\n                        &lt;ds:Signature xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot;&gt;\r\n                            &lt;ds:SignedInfo&gt;\r\n                                &lt;ds:CanonicalizationMethod Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;&gt;\r\n                                    &lt;ec:InclusiveNamespaces xmlns:ec=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;\r\n                                        PrefixList=&quot;soapenv urn&quot; /&gt;\r\n                                &lt;/ds:CanonicalizationMethod&gt;\r\n                                &lt;ds:SignatureMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#rsa-sha1&quot; /&gt;\r\n                                &lt;ds:Reference URI=&quot;#Body-1B1352404FC17AFA99AD1B962FA2A67E&quot;&gt;\r\n                                    &lt;ds:Transforms&gt;\r\n                                        &lt;ds:Transform Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;&gt;\r\n                                            &lt;ec:InclusiveNamespaces\r\n                                                xmlns:ec=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;\r\n                                                PrefixList=&quot;wsse soapenv urn&quot; /&gt;\r\n                                        &lt;/ds:Transform&gt;\r\n                                    &lt;/ds:Transforms&gt;\r\n                                    &lt;ds:DigestMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#sha1&quot; /&gt;\r\n                                    &lt;ds:DigestValue&gt;qOQ+Nv9QAe63RePMKZkCfn2a8xI=&lt;/ds:DigestValue&gt;\r\n                                &lt;/ds:Reference&gt;\r\n                                &lt;ds:Reference URI=&quot;#TS-1B1352404FC17AFA99AD1B962FA2A67E&quot;&gt;\r\n                                    &lt;ds:Transforms&gt;\r\n                                        &lt;ds:Transform Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;&gt;\r\n                                            &lt;ec:InclusiveNamespaces\r\n                                                xmlns:ec=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;\r\n                                                PrefixList=&quot;wsse soapenv urn&quot; /&gt;\r\n                                        &lt;/ds:Transform&gt;\r\n                                    &lt;/ds:Transforms&gt;\r\n                                    &lt;ds:DigestMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#sha1&quot; /&gt;\r\n                                    &lt;ds:DigestValue&gt;grbt4GpvYhKKUaetcW2HHMm91Mw=&lt;/ds:DigestValue&gt;\r\n                                &lt;/ds:Reference&gt;\r\n                            &lt;/ds:SignedInfo&gt;\r\n                            &lt;ds:SignatureValue&gt;agesPe4aOZPE9m1aI17MDz+oE5V7YNk7ox6q1WvmHWjd7EdH4XdqVq62dMnqkE2RRbI5TafX1qnK&amp;#13;\r\n                                udGLnMFcZu/gIYMUYmZ1RrwO6y39tLDWii8hEIZMYj/jIzAqi6d1jXh8GOjtmflYnIsRnidFgokV&amp;#13;\r\n                                /fgoMn7c548QlvEPyCokgFlS/aF4OF5uKqnb/yJ2ilRbeJBlG9QCO5rEUGmgeZ0untABzP+w76yg&amp;#13;\r\n                                PTkPaDTC8UHDQsG4XWMTYL+dyGfnHpYdqz5v+4BI53KfG0V7eqbdCZj9dzYN2MEel1NrgqQP2uQ8&amp;#13;\r\n                                .........&lt;/ds:SignatureValue&gt;\r\n                            &lt;ds:KeyInfo&gt;\r\n                                &lt;wsse:SecurityTokenReference Id=&quot;KI-1B1352404FC17AFA99AD1B962FA2A67E&quot;\r\n                                    wsu:Id=&quot;STR-1B1352404FC17AFA99AD1B962FA2A67E&quot;&gt;\r\n                                    &lt;wsse:Reference URI=&quot;#X509Token-1B1352404FC17AFA99AD1B962FA2A67E&quot;\r\n                                        ValueType=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-x509-token-profile-1.0#X509v3&quot; /&gt;\r\n                                &lt;/wsse:SecurityTokenReference&gt;\r\n                            &lt;/ds:KeyInfo&gt;\r\n                        &lt;/ds:Signature&gt;\r\n                    &lt;/wsse:Security&gt;\r\n                &lt;/soapenv:Header&gt;\r\n                &lt;soapenv:Body\r\n                    xmlns:wsu=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot;\r\n                    wsu:Id=&quot;Body-1B1352404FC17AFA99AD1B962FA2A67E&quot;&gt;\r\n                    &lt;urn:GET_SCHEMA_CC xmlns:urn=&quot;http://www.example.com/urn&quot;&gt;\r\n                            &lt;IV_BP&gt;3960915933&lt;/IV_BP&gt;\r\n                    \r\n                    &lt;/urn:GET_SCHEMA_CC&gt;\r\n                &lt;/soapenv:Body&gt;\r\n            &lt;/soapenv:Envelope&gt;\r\n\r\nThe way to put the certificate in the securityBinaryToken seems correct to me, while the signature I don&#39;t know if it is the correct way to do it.\r\n\r\n","title":"SOAP x509 signature and digest","body":"<p>hello i am developing a service for a SOAP call with x509 authentication and i need to sign the body and timestamp, but i can't get it to work java side while in SoapUI it does.</p>\n<p>The error (with java code) is SSF_API_SIGNER_ERORS A signing opration not be performed or failed</p>\n<p>the configuration in soapUi is this</p>\n<p><a href=\"https://i.stack.imgur.com/HXtLp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HXtLp.png\" alt=\"enter image description here\" /></a></p>\n<p>while my signature code is this</p>\n<pre><code>      private void createDetachedSignature(SOAPElement signatureElement, PrivateKey privateKey, SOAPElement securityTokenReference, SOAPBody soapBody, SOAPElement timestamp) throws Exception {\n        \n        \n            String providerName = System.getProperty\n                    (&quot;jsr105Provider&quot;, &quot;org.jcp.xml.dsig.internal.dom.XMLDSigRI&quot;);\n            XMLSignatureFactory xmlSignatureFactory = XMLSignatureFactory.getInstance(&quot;DOM&quot;,\n                    (Provider) Class.forName(providerName).newInstance());\n        \n        \n            //Digest method\n            javax.xml.crypto.dsig.DigestMethod digestMethod = xmlSignatureFactory.newDigestMethod(&quot;http://www.w3.org/2000/09/xmldsig#sha1&quot;, null);\n            ArrayList&lt;Transform&gt; transformList = new ArrayList&lt;Transform&gt;();\n        \n        \n            //Transform\n            Transform envTransform = xmlSignatureFactory.newTransform(&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;, (TransformParameterSpec) null);\n            transformList.add(envTransform);\n        \n        \n            //References\n        \n            ArrayList&lt;Reference&gt; refList = new ArrayList&lt;Reference&gt;();\n            Reference refTS = xmlSignatureFactory.newReference(&quot;#TS&quot;+UUID, digestMethod, transformList, null, null);\n            Reference refBody = xmlSignatureFactory.newReference(&quot;#Body&quot;+UUID, digestMethod, transformList, null, null);\n        \n        \n            refList.add(refBody);\n            refList.add(refTS);\n        \n        \n            javax.xml.crypto.dsig.CanonicalizationMethod cm = xmlSignatureFactory.newCanonicalizationMethod(&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;,\n                    (C14NMethodParameterSpec) null);\n        \n            javax.xml.crypto.dsig.SignatureMethod sm = xmlSignatureFactory.newSignatureMethod(&quot;http://www.w3.org/2000/09/xmldsig#rsa-sha1&quot;, null);\n            SignedInfo signedInfo = xmlSignatureFactory.newSignedInfo(cm, sm, refList);\n        \n            signatureElement.setAttribute(&quot;Id&quot;, &quot;SIG&quot; + UUID);\n        \n            DOMSignContext signContext = new DOMSignContext(privateKey, signatureElement);\n            signContext.setDefaultNamespacePrefix(&quot;ds&quot;);\n            signContext.putNamespacePrefix(&quot;http://www.w3.org/2000/09/xmldsig#&quot;, &quot;ds&quot;);\n        \n        \n            //These are required for new Java versions\n            signContext.setIdAttributeNS\n                    (soapBody,\n                            &quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot;, &quot;Id&quot;);\n        \n        \n            signContext.setIdAttributeNS\n                    (timestamp,\n                            &quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot;, &quot;Id&quot;);\n        \n        \n            KeyInfoFactory keyFactory = KeyInfoFactory.getInstance();\n            DOMStructure domKeyInfo = new DOMStructure(securityTokenReference);\n            javax.xml.crypto.dsig.keyinfo.KeyInfo keyInfo = keyFactory.newKeyInfo(java.util.Collections.singletonList(domKeyInfo));\n            if (securityTokenReference instanceof Element) {\n                Element keyInfoElement = (Element) securityTokenReference;\n                keyInfoElement.setAttribute(&quot;Id&quot;, &quot;KI&quot; + UUID);\n            }\n            javax.xml.crypto.dsig.XMLSignature signature = xmlSignatureFactory.newXMLSignature(signedInfo, keyInfo);\n            signContext.setBaseURI(&quot;&quot;);\n        \n        \n            signature.sign(signContext);\n            String signatureValue = getSignatureValueAsString(signatureElement);\n            System.out.println(&quot;Signature Value: &quot; + signatureValue);\n        \n        \n            Element canonicalizationMethodElement = (Element) signatureElement.getElementsByTagNameNS(&quot;http://www.w3.org/2000/09/xmldsig#&quot;, &quot;CanonicalizationMethod&quot;).item(0);\n            addInclusiveNamespaces(canonicalizationMethodElement, &quot;soapenv urn&quot;);\n        \n            NodeList referenceNodes = signatureElement.getElementsByTagNameNS(&quot;http://www.w3.org/2000/09/xmldsig#&quot;, &quot;Reference&quot;);\n            for (int i = 0; i &lt; referenceNodes.getLength(); i++) {\n                Element referenceElement = (Element) referenceNodes.item(i);\n                Element transformsElement = (Element) referenceElement.getElementsByTagNameNS(&quot;http://www.w3.org/2000/09/xmldsig#&quot;, &quot;Transforms&quot;).item(0);\n                Element transformElement = (Element) transformsElement.getElementsByTagNameNS(&quot;http://www.w3.org/2000/09/xmldsig#&quot;, &quot;Transform&quot;).item(0);\n        \n                addInclusiveNamespaces(transformElement, &quot;wsse soapenv urn&quot;);\n            }\n        \n        \n        }\n</code></pre>\n<p>I tried to compare the two requests and now I attach them to you</p>\n<p>SOAP UI REQUEST</p>\n<pre><code>        &lt;soapenv:Envelope xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;\n        xmlns:urn=&quot;urn:sap-com:document:sap:rfc:functions&quot;&gt;\n        &lt;soapenv:Header&gt;\n            &lt;wsse:Security\n                xmlns:wsse=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd&quot;\n                xmlns:wsu=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot;&gt;\n                &lt;wsse:BinarySecurityToken\n                    EncodingType=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-soap-message-security-1.0#Base64Binary&quot;\n                    ValueType=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-x509-token-profile-1.0#X509v3&quot;\n                    wsu:Id=&quot;X509-8C92EF6DC231D5F4321700816423308691&quot;&gt;\n                    MIIIEjCCBfqgAwIBAgITHQAAZ/wkXidRhqKJ2wADAABn/DANBgkqhkiG...........&lt;/wsse:BinarySecurityToken&gt;\n                &lt;wsu:Timestamp wsu:Id=&quot;TS-8C92EF6DC231D5F4321700816423307690&quot;&gt;\n                    &lt;wsu:Created&gt;2023-11-24T09:00:23Z&lt;/wsu:Created&gt;\n                    &lt;wsu:Expires&gt;2024-02-15T17:00:23Z&lt;/wsu:Expires&gt;\n                &lt;/wsu:Timestamp&gt;\n                &lt;ds:Signature Id=&quot;SIG-8C92EF6DC231D5F4321700816423348695&quot;\n                    xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot;&gt;\n                    &lt;ds:SignedInfo&gt;\n                        &lt;ds:CanonicalizationMethod Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;&gt;\n                            &lt;ec:InclusiveNamespaces PrefixList=&quot;soapenv urn&quot;\n                                xmlns:ec=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot; /&gt;\n                        &lt;/ds:CanonicalizationMethod&gt;\n                        &lt;ds:SignatureMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#rsa-sha1&quot; /&gt;\n                        &lt;ds:Reference URI=&quot;#TS-8C92EF6DC231D5F4321700816423307690&quot;&gt;\n                            &lt;ds:Transforms&gt;\n                                &lt;ds:Transform Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;&gt;\n                                    &lt;ec:InclusiveNamespaces PrefixList=&quot;wsse soapenv urn&quot;\n                                        xmlns:ec=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot; /&gt;\n                                &lt;/ds:Transform&gt;\n                            &lt;/ds:Transforms&gt;\n                            &lt;ds:DigestMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#sha1&quot; /&gt;\n                            &lt;ds:DigestValue&gt;7KhZ1yTPuNhQ7OtTn32HcJQQ04U=&lt;/ds:DigestValue&gt;\n                        &lt;/ds:Reference&gt;\n                        &lt;ds:Reference URI=&quot;#id-8C92EF6DC231D5F4321700816423308694&quot;&gt;\n                            &lt;ds:Transforms&gt;\n                                &lt;ds:Transform Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;&gt;\n                                    &lt;ec:InclusiveNamespaces PrefixList=&quot;&quot;\n                                        xmlns:ec=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot; /&gt;\n                                &lt;/ds:Transform&gt;\n                            &lt;/ds:Transforms&gt;\n                            &lt;ds:DigestMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#sha1&quot; /&gt;\n                            &lt;ds:DigestValue&gt;t5f22r+WwrehIN/rbI7EFwLq7tM=&lt;/ds:DigestValue&gt;\n                        &lt;/ds:Reference&gt;\n                    &lt;/ds:SignedInfo&gt;\n                    &lt;ds:SignatureValue&gt;\n                        KRttsmdFmqCRQyTmo6/Cgs1Vj8EZ1y9YbObETjtcvhNQUBRny7tIKZE3bH4TwR69L2x0MsosaAcefeuT/OkowAa............&lt;/ds:SignatureValue&gt;\n                    &lt;ds:KeyInfo Id=&quot;KI-8C92EF6DC231D5F4321700816423308692&quot;&gt;\n                        &lt;wsse:SecurityTokenReference wsu:Id=&quot;STR-8C92EF6DC231D5F4321700816423308693&quot;&gt;\n                            &lt;wsse:Reference URI=&quot;#X509-8C92EF6DC231D5F4321700816423308691&quot;\n                                ValueType=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-x509-token-profile-1.0#X509v3&quot; /&gt;\n                        &lt;/wsse:SecurityTokenReference&gt;\n                    &lt;/ds:KeyInfo&gt;\n                &lt;/ds:Signature&gt;\n            &lt;/wsse:Security&gt;\n        &lt;/soapenv:Header&gt;\n        &lt;soapenv:Body wsu:Id=&quot;id-8C92EF6DC231D5F4321700816423308694&quot;\n            xmlns:wsu=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot;&gt;\n            &lt;urn:SCHEMA_CC&gt;\n                &lt;IV_BP&gt;3960915933&lt;/IV_BP&gt;\n            &lt;/urn:SCHEMA_CC&gt;\n        &lt;/soapenv:Body&gt;\n    &lt;/soapenv:Envelope&gt;\n</code></pre>\n<p>My request java</p>\n<pre><code>            &lt;soapenv:Envelope xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;\n            xmlns:urn=&quot;urn:sap-com:document:sap:rfc:functions&quot;&gt;\n            &lt;soapenv:Header&gt;\n                &lt;wsse:Security\n                    xmlns:wsse=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd&quot;\n                    xmlns:wsu=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot;\n                    Id=&quot;SIG-1B1352404FC17AFA99AD1B962FA2A67E&quot;&gt;\n                    &lt;wsu:Timestamp wsu:Id=&quot;TS-1B1352404FC17AFA99AD1B962FA2A67E&quot;&gt;\n                        &lt;wsu:Created&gt;2023-11-24T08:18:32Z&lt;/wsu:Created&gt;\n                        &lt;wsu:Expires&gt;2023-11-24T08:19:02Z&lt;/wsu:Expires&gt;\n                    &lt;/wsu:Timestamp&gt;\n                    &lt;wsse:BinarySecurityToken\n                        EncodingType=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-soap-message-security-1.0#Base64Binary&quot;\n                        ValueType=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-x509-token-profile-1.0#X509v3&quot;\n                        wsu:Id=&quot;X509Token-1B1352404FC17AFA99AD1B962FA2A67E&quot;&gt;\n                        MIIIEjCCBfqgAwIBAgITHQAAZ/wkXidRhqKJ2wADAABn..........&lt;/wsse:BinarySecurityToken&gt;\n                    &lt;ds:Signature xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot;&gt;\n                        &lt;ds:SignedInfo&gt;\n                            &lt;ds:CanonicalizationMethod Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;&gt;\n                                &lt;ec:InclusiveNamespaces xmlns:ec=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;\n                                    PrefixList=&quot;soapenv urn&quot; /&gt;\n                            &lt;/ds:CanonicalizationMethod&gt;\n                            &lt;ds:SignatureMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#rsa-sha1&quot; /&gt;\n                            &lt;ds:Reference URI=&quot;#Body-1B1352404FC17AFA99AD1B962FA2A67E&quot;&gt;\n                                &lt;ds:Transforms&gt;\n                                    &lt;ds:Transform Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;&gt;\n                                        &lt;ec:InclusiveNamespaces\n                                            xmlns:ec=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;\n                                            PrefixList=&quot;wsse soapenv urn&quot; /&gt;\n                                    &lt;/ds:Transform&gt;\n                                &lt;/ds:Transforms&gt;\n                                &lt;ds:DigestMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#sha1&quot; /&gt;\n                                &lt;ds:DigestValue&gt;qOQ+Nv9QAe63RePMKZkCfn2a8xI=&lt;/ds:DigestValue&gt;\n                            &lt;/ds:Reference&gt;\n                            &lt;ds:Reference URI=&quot;#TS-1B1352404FC17AFA99AD1B962FA2A67E&quot;&gt;\n                                &lt;ds:Transforms&gt;\n                                    &lt;ds:Transform Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;&gt;\n                                        &lt;ec:InclusiveNamespaces\n                                            xmlns:ec=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;\n                                            PrefixList=&quot;wsse soapenv urn&quot; /&gt;\n                                    &lt;/ds:Transform&gt;\n                                &lt;/ds:Transforms&gt;\n                                &lt;ds:DigestMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#sha1&quot; /&gt;\n                                &lt;ds:DigestValue&gt;grbt4GpvYhKKUaetcW2HHMm91Mw=&lt;/ds:DigestValue&gt;\n                            &lt;/ds:Reference&gt;\n                        &lt;/ds:SignedInfo&gt;\n                        &lt;ds:SignatureValue&gt;agesPe4aOZPE9m1aI17MDz+oE5V7YNk7ox6q1WvmHWjd7EdH4XdqVq62dMnqkE2RRbI5TafX1qnK&amp;#13;\n                            udGLnMFcZu/gIYMUYmZ1RrwO6y39tLDWii8hEIZMYj/jIzAqi6d1jXh8GOjtmflYnIsRnidFgokV&amp;#13;\n                            /fgoMn7c548QlvEPyCokgFlS/aF4OF5uKqnb/yJ2ilRbeJBlG9QCO5rEUGmgeZ0untABzP+w76yg&amp;#13;\n                            PTkPaDTC8UHDQsG4XWMTYL+dyGfnHpYdqz5v+4BI53KfG0V7eqbdCZj9dzYN2MEel1NrgqQP2uQ8&amp;#13;\n                            .........&lt;/ds:SignatureValue&gt;\n                        &lt;ds:KeyInfo&gt;\n                            &lt;wsse:SecurityTokenReference Id=&quot;KI-1B1352404FC17AFA99AD1B962FA2A67E&quot;\n                                wsu:Id=&quot;STR-1B1352404FC17AFA99AD1B962FA2A67E&quot;&gt;\n                                &lt;wsse:Reference URI=&quot;#X509Token-1B1352404FC17AFA99AD1B962FA2A67E&quot;\n                                    ValueType=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-x509-token-profile-1.0#X509v3&quot; /&gt;\n                            &lt;/wsse:SecurityTokenReference&gt;\n                        &lt;/ds:KeyInfo&gt;\n                    &lt;/ds:Signature&gt;\n                &lt;/wsse:Security&gt;\n            &lt;/soapenv:Header&gt;\n            &lt;soapenv:Body\n                xmlns:wsu=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot;\n                wsu:Id=&quot;Body-1B1352404FC17AFA99AD1B962FA2A67E&quot;&gt;\n                &lt;urn:GET_SCHEMA_CC xmlns:urn=&quot;http://www.example.com/urn&quot;&gt;\n                        &lt;IV_BP&gt;3960915933&lt;/IV_BP&gt;\n                \n                &lt;/urn:GET_SCHEMA_CC&gt;\n            &lt;/soapenv:Body&gt;\n        &lt;/soapenv:Envelope&gt;\n</code></pre>\n<p>The way to put the certificate in the securityBinaryToken seems correct to me, while the signature I don't know if it is the correct way to do it.</p>\n"},{"tags":["java","android","libgdx"],"answers":[{"comments":[{"owner":{"account_id":3314914,"reputation":3432,"user_id":2787507,"accept_rate":23,"display_name":"nutella_eater"},"score":0,"creation_date":1701083985,"post_id":77525021,"comment_id":136726870,"body_markdown":"Hi! Thanks for your answer! I Found more detailed example in libgdx library. Although your answer is much smaller","body":"Hi! Thanks for your answer! I Found more detailed example in libgdx library. Although your answer is much smaller"}],"tags":[],"owner":{"account_id":233979,"reputation":851,"user_id":499837,"accept_rate":60,"display_name":"bornander"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700589909,"creation_date":1700589909,"answer_id":77525021,"question_id":77489393,"body_markdown":"You can use &#39;createLineGrid&#39; on `ModelBuilder` to create a grid that (unless you rotate it) extends in the **X-Z** plane.\r\n\r\nFor example:\r\n\r\n    grid = modelBuilder.createLineGrid(\r\n\t   32, 32, 10.0f, 10.0f, \r\n\t\tnew Material(ColorAttribute.createDiffuse(Color.RED)), \r\n\t\tVertexAttributes.Usage.Position | VertexAttributes.Usage.Normal);\r\n\r\n    gridInstance = new ModelInstance(grid);\r\n\r\nWhere `grid` is a `Model` and `gridInstance` is a `ModelInstance`.\r\nThen you just have to include a `render` call to your `ModelBatch`:\r\n\r\n    modelBatch.render(gridInstance);\r\n\r\nDoing that on you code yields this render:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nYou can customize how many grid lines and their spacing to fit your need.\r\n\r\n  [1]: https://i.stack.imgur.com/STmef.png","title":"Debug grid for libgdx","body":"<p>You can use 'createLineGrid' on <code>ModelBuilder</code> to create a grid that (unless you rotate it) extends in the <strong>X-Z</strong> plane.</p>\n<p>For example:</p>\n<pre><code>grid = modelBuilder.createLineGrid(\n   32, 32, 10.0f, 10.0f, \n    new Material(ColorAttribute.createDiffuse(Color.RED)), \n    VertexAttributes.Usage.Position | VertexAttributes.Usage.Normal);\n\ngridInstance = new ModelInstance(grid);\n</code></pre>\n<p>Where <code>grid</code> is a <code>Model</code> and <code>gridInstance</code> is a <code>ModelInstance</code>.\nThen you just have to include a <code>render</code> call to your <code>ModelBatch</code>:</p>\n<pre><code>modelBatch.render(gridInstance);\n</code></pre>\n<p>Doing that on you code yields this render:</p>\n<p><a href=\"https://i.stack.imgur.com/STmef.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/STmef.png\" alt=\"enter image description here\" /></a></p>\n<p>You can customize how many grid lines and their spacing to fit your need.</p>\n"},{"tags":[],"owner":{"account_id":3314914,"reputation":3432,"user_id":2787507,"accept_rate":23,"display_name":"nutella_eater"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701083951,"creation_date":1701083951,"answer_id":77556477,"question_id":77489393,"body_markdown":"After a little bit of seraching, I found this amazing list of examples for libgdx, including grid with axis: \r\n\r\n    private void createAxes() {\r\n            final float GRID_MIN = -viewPortWidth;\r\n            final float GRID_MAX = viewPortWidth;\r\n            final float GRID_STEP = viewPortWidth / 10;\r\n    \r\n            ModelBuilder modelBuilder = new ModelBuilder();\r\n            modelBuilder.begin();\r\n            MeshPartBuilder builder = modelBuilder.part(&quot;grid&quot;, GL20.GL_LINES, Usage.Position | Usage.ColorUnpacked, new Material());\r\n            builder.setColor(Color.LIGHT_GRAY);\r\n            for (float t = GRID_MIN; t &lt;= GRID_MAX; t += GRID_STEP) {\r\n                builder.line(t, 0, GRID_MIN, t, 0, GRID_MAX);\r\n                builder.line(GRID_MIN, 0, t, GRID_MAX, 0, t);\r\n            }\r\n            builder = modelBuilder.part(&quot;axes&quot;, GL20.GL_LINES, Usage.Position | Usage.ColorUnpacked, new Material());\r\n            builder.setColor(Color.RED);\r\n            builder.line(0, 0, 0, 100, 0, 0);\r\n            builder.setColor(Color.GREEN);\r\n            builder.line(0, 0, 0, 0, 100, 0);\r\n            builder.setColor(Color.BLUE);\r\n            builder.line(0, 0, 0, 0, 0, 100);\r\n            Model axesModel = modelBuilder.end();\r\n            models.add(axesModel);\r\n            ModelInstance instance = new ModelInstance(axesModel);\r\n            instances.add(instance);\r\n        }\r\n\r\n\r\nAnd here is an example how to use it: https://github.com/libgdx/libgdx/blob/master/tests/gdx-tests/src/com/badlogic/gdx/tests/g3d/BaseG3dTest.java\r\n","title":"Debug grid for libgdx","body":"<p>After a little bit of seraching, I found this amazing list of examples for libgdx, including grid with axis:</p>\n<pre><code>private void createAxes() {\n        final float GRID_MIN = -viewPortWidth;\n        final float GRID_MAX = viewPortWidth;\n        final float GRID_STEP = viewPortWidth / 10;\n\n        ModelBuilder modelBuilder = new ModelBuilder();\n        modelBuilder.begin();\n        MeshPartBuilder builder = modelBuilder.part(&quot;grid&quot;, GL20.GL_LINES, Usage.Position | Usage.ColorUnpacked, new Material());\n        builder.setColor(Color.LIGHT_GRAY);\n        for (float t = GRID_MIN; t &lt;= GRID_MAX; t += GRID_STEP) {\n            builder.line(t, 0, GRID_MIN, t, 0, GRID_MAX);\n            builder.line(GRID_MIN, 0, t, GRID_MAX, 0, t);\n        }\n        builder = modelBuilder.part(&quot;axes&quot;, GL20.GL_LINES, Usage.Position | Usage.ColorUnpacked, new Material());\n        builder.setColor(Color.RED);\n        builder.line(0, 0, 0, 100, 0, 0);\n        builder.setColor(Color.GREEN);\n        builder.line(0, 0, 0, 0, 100, 0);\n        builder.setColor(Color.BLUE);\n        builder.line(0, 0, 0, 0, 0, 100);\n        Model axesModel = modelBuilder.end();\n        models.add(axesModel);\n        ModelInstance instance = new ModelInstance(axesModel);\n        instances.add(instance);\n    }\n</code></pre>\n<p>And here is an example how to use it: <a href=\"https://github.com/libgdx/libgdx/blob/master/tests/gdx-tests/src/com/badlogic/gdx/tests/g3d/BaseG3dTest.java\" rel=\"nofollow noreferrer\">https://github.com/libgdx/libgdx/blob/master/tests/gdx-tests/src/com/badlogic/gdx/tests/g3d/BaseG3dTest.java</a></p>\n"}],"owner":{"account_id":3314914,"reputation":3432,"user_id":2787507,"accept_rate":23,"display_name":"nutella_eater"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77556477,"answer_count":2,"score":1,"last_activity_date":1701083951,"creation_date":1700065550,"question_id":77489393,"body_markdown":"Can I somehow draw a 3d grid in my libgdx app, so I can zoom in and out of this grid in order to see what is going on with my application? \r\nFor example, I&#39;m trying to create a simple sphere, that should be in the middle of the screen, but it is not, and it is squished or somethig.\r\n\r\n\r\nI want to know, where my camera is and what is the camera&#39;s view angle, all inside the scene. Here is the code, because stackoverflow asks for the code.\r\n\r\n    @Override\r\n        public void create() {\r\n            modelBatch = new ModelBatch();\r\n            environment = new Environment();\r\n            environment.set(new ColorAttribute(ColorAttribute.AmbientLight, 0.4f, 0.4f, 0.4f, 1f));\r\n            environment.add(new DirectionalLight().set(0.8f, 0.8f, 0.8f, 10f, 10f, 20f));\r\n    \r\n            cam = new PerspectiveCamera(67, Gdx.graphics.getWidth(), Gdx.graphics.getHeight());\r\n            cam.position.set(150f, -9f, 200f);\r\n            cam.lookAt(0, 0, 0);\r\n            cam.near = 1f;\r\n            cam.far = 300f;\r\n            cam.update();\r\n    \r\n    \r\n            ModelBuilder modelBuilder = new ModelBuilder();\r\n            model = modelBuilder.createSphere(120f, 120f, 120, 32, 32,\r\n                    new Material(ColorAttribute.createDiffuse(Color.GREEN)),\r\n                    VertexAttributes.Usage.Position | VertexAttributes.Usage.Normal);\r\n            instance = new ModelInstance(model);\r\n            instance.transform.set(new Vector3(100, 100, 0), new Quaternion());\r\n        }\r\n\r\n\r\nCan I do that?\r\n","title":"Debug grid for libgdx","body":"<p>Can I somehow draw a 3d grid in my libgdx app, so I can zoom in and out of this grid in order to see what is going on with my application?\nFor example, I'm trying to create a simple sphere, that should be in the middle of the screen, but it is not, and it is squished or somethig.</p>\n<p>I want to know, where my camera is and what is the camera's view angle, all inside the scene. Here is the code, because stackoverflow asks for the code.</p>\n<pre><code>@Override\n    public void create() {\n        modelBatch = new ModelBatch();\n        environment = new Environment();\n        environment.set(new ColorAttribute(ColorAttribute.AmbientLight, 0.4f, 0.4f, 0.4f, 1f));\n        environment.add(new DirectionalLight().set(0.8f, 0.8f, 0.8f, 10f, 10f, 20f));\n\n        cam = new PerspectiveCamera(67, Gdx.graphics.getWidth(), Gdx.graphics.getHeight());\n        cam.position.set(150f, -9f, 200f);\n        cam.lookAt(0, 0, 0);\n        cam.near = 1f;\n        cam.far = 300f;\n        cam.update();\n\n\n        ModelBuilder modelBuilder = new ModelBuilder();\n        model = modelBuilder.createSphere(120f, 120f, 120, 32, 32,\n                new Material(ColorAttribute.createDiffuse(Color.GREEN)),\n                VertexAttributes.Usage.Position | VertexAttributes.Usage.Normal);\n        instance = new ModelInstance(model);\n        instance.transform.set(new Vector3(100, 100, 0), new Quaternion());\n    }\n</code></pre>\n<p>Can I do that?</p>\n"},{"tags":["java","jdbc","resultset","sql"],"comments":[{"owner":{"account_id":775068,"reputation":64803,"user_id":823393,"accept_rate":86,"display_name":"OldCurmudgeon"},"score":6,"creation_date":1415007519,"post_id":26711383,"comment_id":42014050,"body_markdown":"You need `value = rs.getString(1);`","body":"You need <code>value = rs.getString(1);</code>"},{"owner":{"account_id":927123,"reputation":644,"user_id":2368545,"accept_rate":90,"display_name":"Frank"},"score":6,"creation_date":1415007626,"post_id":26711383,"comment_id":42014106,"body_markdown":"And change `while(rs.next())` to `if(rs.next())` since you only need one value.","body":"And change <code>while(rs.next())</code> to <code>if(rs.next())</code> since you only need one value."},{"owner":{"account_id":6140702,"reputation":51,"user_id":4788217,"display_name":"p01nt3r"},"score":1,"creation_date":1554215588,"post_id":26711383,"comment_id":97664900,"body_markdown":"You should use try with resources when possible (https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html).\nThis would eliminate the finally block from your code.","body":"You should use try with resources when possible (<a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/essential/exceptions/&hellip;</a>). This would eliminate the finally block from your code."}],"answers":[{"tags":[],"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1415007507,"creation_date":1415007507,"answer_id":26711421,"question_id":26711383,"body_markdown":"Change :\r\n\r\n    value = rs.toString();\r\n\r\nTo: \r\n\r\n    value = rs.getString(1);\r\n\r\nrs.toString returns the result of the `toString` method of the Object `ResultSet`.\r\n`rs.getString(1)` gives you the first parameter of the resultset as a `String`.","title":"Getting one value from SQL select statement in Java","body":"<p>Change :</p>\n\n<pre><code>value = rs.toString();\n</code></pre>\n\n<p>To: </p>\n\n<pre><code>value = rs.getString(1);\n</code></pre>\n\n<p>rs.toString returns the result of the <code>toString</code> method of the Object <code>ResultSet</code>.\n<code>rs.getString(1)</code> gives you the first parameter of the resultset as a <code>String</code>.</p>\n"},{"tags":[],"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1415007559,"creation_date":1415007559,"answer_id":26711433,"question_id":26711383,"body_markdown":"Use `rs.getInt(1)` or `rs.getString(1)` to retrieve the actual value from the `ResultSet`. Then read a JDBC tutorial.","title":"Getting one value from SQL select statement in Java","body":"<p>Use <code>rs.getInt(1)</code> or <code>rs.getString(1)</code> to retrieve the actual value from the <code>ResultSet</code>. Then read a JDBC tutorial.</p>\n"},{"tags":[],"owner":{"account_id":3318693,"reputation":8181,"user_id":2790364,"accept_rate":89,"display_name":"Santhosh"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1701083765,"creation_date":1415007614,"answer_id":26711448,"question_id":26711383,"body_markdown":"&gt; Right now, for the `println` I&#39;m getting a &quot;`com.mysql.jdbc.JDBC4ResultSet@1e72cae`&quot;\r\n\r\nis because you return the `ResultSet` object here , `value = rs.toString();`\r\n\r\n\r\nFrom [docs](http://docs.oracle.com/javase/tutorial/jdbc/basics/retrieving.html),\r\n\r\n&gt; A ResultSet object is a table of data representing a database result\r\n&gt; set, which is usually generated by executing a statement that queries\r\n&gt; the database\r\n&gt; \r\n&gt; \r\n&gt; You access the data in a ResultSet object through a cursor. Note that\r\n&gt; this cursor is not a database cursor. This cursor is a pointer that\r\n&gt; points to one row of data in the ResultSet. Initially, the cursor is\r\n&gt; positioned before the first row. The method ResultSet.next moves the\r\n&gt; cursor to the next row. This method returns false if the cursor is\r\n&gt; positioned after the last row. This method repeatedly calls the\r\n&gt; ResultSet.next method with a while loop to iterate through all the\r\n&gt; data in the ResultSet.\r\n\r\nYou should tell the result set to get the value from the column ,\r\n\r\n    value = rs.getString(1);\r\n\r\nthrough index\r\n\r\n    value = rs.getString(&quot;itemNo&quot;);\r\n\r\nor through column name \r\n\r\n\r\n","title":"Getting one value from SQL select statement in Java","body":"<blockquote>\n<p>Right now, for the <code>println</code> I'm getting a &quot;<code>com.mysql.jdbc.JDBC4ResultSet@1e72cae</code>&quot;</p>\n</blockquote>\n<p>is because you return the <code>ResultSet</code> object here , <code>value = rs.toString();</code></p>\n<p>From <a href=\"http://docs.oracle.com/javase/tutorial/jdbc/basics/retrieving.html\" rel=\"nofollow noreferrer\">docs</a>,</p>\n<blockquote>\n<p>A ResultSet object is a table of data representing a database result\nset, which is usually generated by executing a statement that queries\nthe database</p>\n<p>You access the data in a ResultSet object through a cursor. Note that\nthis cursor is not a database cursor. This cursor is a pointer that\npoints to one row of data in the ResultSet. Initially, the cursor is\npositioned before the first row. The method ResultSet.next moves the\ncursor to the next row. This method returns false if the cursor is\npositioned after the last row. This method repeatedly calls the\nResultSet.next method with a while loop to iterate through all the\ndata in the ResultSet.</p>\n</blockquote>\n<p>You should tell the result set to get the value from the column ,</p>\n<pre><code>value = rs.getString(1);\n</code></pre>\n<p>through index</p>\n<pre><code>value = rs.getString(&quot;itemNo&quot;);\n</code></pre>\n<p>or through column name</p>\n"},{"tags":[],"owner":{"account_id":905416,"reputation":25876,"user_id":940428,"accept_rate":100,"display_name":"Prabhakaran Ramaswamy"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1504755609,"creation_date":1415007620,"answer_id":26711449,"question_id":26711383,"body_markdown":"You need to change\r\n\r\n\r\n    while (rs.next())\r\n        value = rs.toString();\r\n\r\nto\r\n\r\n     while (rs.next())\r\n        value = rs.getString(&quot;itemNo&quot;);","title":"Getting one value from SQL select statement in Java","body":"<p>You need to change</p>\n\n<pre><code>while (rs.next())\n    value = rs.toString();\n</code></pre>\n\n<p>to</p>\n\n<pre><code> while (rs.next())\n    value = rs.getString(\"itemNo\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5052435,"reputation":1826,"user_id":4056574,"accept_rate":60,"display_name":"AsSiDe"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1415007642,"creation_date":1415007642,"answer_id":26711456,"question_id":26711383,"body_markdown":"Try This:\r\n\r\n    private String viewValue(Connection con, String command) throws SQLException \r\n    {\r\n        String value = null;\r\n        Statement stmt = null;\r\n\r\n        try \r\n        {\r\n            stmt = con.createStatement();\r\n            ResultSet rs = stmt.executeQuery(command);\r\n\r\n            while (rs.next())\r\n                value = rs.getString(1);\r\n        } \r\n\r\n        catch (SQLException e ) \r\n        {\r\n            e.printStackTrace();\r\n        } \r\n\r\n        finally\r\n        {\r\n            if (stmt != \r\n            null) { stmt.close(); }\r\n        }\r\n\r\n        return value;\r\n\r\n    }","title":"Getting one value from SQL select statement in Java","body":"<p>Try This:</p>\n\n<pre><code>private String viewValue(Connection con, String command) throws SQLException \n{\n    String value = null;\n    Statement stmt = null;\n\n    try \n    {\n        stmt = con.createStatement();\n        ResultSet rs = stmt.executeQuery(command);\n\n        while (rs.next())\n            value = rs.getString(1);\n    } \n\n    catch (SQLException e ) \n    {\n        e.printStackTrace();\n    } \n\n    finally\n    {\n        if (stmt != \n        null) { stmt.close(); }\n    }\n\n    return value;\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6849819,"reputation":31,"user_id":5267300,"display_name":"sonal"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1504755571,"creation_date":1440573081,"answer_id":32220100,"question_id":26711383,"body_markdown":"change it to \r\n\r\n    if(rs.next())\r\n\r\nand\r\n\r\n    rs.getString(&quot;itemNo&quot;);\r\n\r\nworks !!!\r\n\r\n","title":"Getting one value from SQL select statement in Java","body":"<p>change it to </p>\n\n<pre><code>if(rs.next())\n</code></pre>\n\n<p>and</p>\n\n<pre><code>rs.getString(\"itemNo\");\n</code></pre>\n\n<p>works !!!</p>\n"}],"owner":{"account_id":346338,"reputation":170,"user_id":679805,"accept_rate":100,"display_name":"Tsar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85864,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":26711448,"answer_count":6,"score":8,"last_activity_date":1701083765,"creation_date":1415007352,"question_id":26711383,"body_markdown":"I&#39;m trying to return a value from a select statement. Its only one value because the value I&#39;m returning is from the primary key column. \r\n\r\nThe SQL statement is `SELECT itemNo FROM item WHERE itemName = &#39;astringvalue&#39;;`\r\n\r\nMy method for getting the value looks like this:\r\n\r\n    private String viewValue(Connection con, String command) throws SQLException \r\n \t    {\r\n \t        String value = null;\r\n \t        Statement stmt = null;\r\n\r\n \t        try \r\n \t        {\r\n \t            stmt = con.createStatement();\r\n \t            ResultSet rs = stmt.executeQuery(command);\r\n \t            \r\n \t            while (rs.next())\r\n \t            \tvalue = rs.toString();\r\n \t        } \r\n\r\n \t        catch (SQLException e ) \r\n \t        {\r\n \t            e.printStackTrace();\r\n \t        } \r\n\r\n \t        finally\r\n \t        {\r\n \t            if (stmt != \r\n \t            null) { stmt.close(); }\r\n \t        }\r\n\r\n \t        return value;\r\n\r\n \t    }\r\n\r\n\r\nI do have a `getConnection()` method too.\r\n\r\nHere is what im using to call the `viewValue`method:\r\n\r\n    if((action.getSource() == btnSave) ||(action.getSource() == btnSavePrint) )\r\n\t\t\t{\r\n \t\t    \tString findItemNoCommand = &quot;SELECT itemNo FROM `item` WHERE itemName = &#39;&quot; + itemList.getSelectedItem() + &quot;&#39;&quot;;\r\n \t\t    \t\r\n \t\t    \ttry \r\n \t            {\r\n \t                itemNo = viewValue(conn, findItemNoCommand);\r\n \t            }\r\n \t            catch (SQLException e) \r\n \t            {\r\n \t                e.printStackTrace();\r\n \t            }\r\n\r\n \t            System.out.println(itemNo);\r\n\t\t\t}\r\nThe code above was written for a `ButtonHandler`\r\n\r\nRight now, for the `println` I&#39;m getting a &quot;`com.mysql.jdbc.JDBC4ResultSet@1e72cae`&quot; .. I don&#39;t understand how it is so.. but I&#39;m assuming that ResultSet is the wrong choice here. \r\n\r\nMy question is.. what can i use there that can work?\r\n\r\nAny help or clue as to what im doing wrong is much appreciated. ","title":"Getting one value from SQL select statement in Java","body":"<p>I'm trying to return a value from a select statement. Its only one value because the value I'm returning is from the primary key column. </p>\n\n<p>The SQL statement is <code>SELECT itemNo FROM item WHERE itemName = 'astringvalue';</code></p>\n\n<p>My method for getting the value looks like this:</p>\n\n<pre><code>private String viewValue(Connection con, String command) throws SQLException \n    {\n        String value = null;\n        Statement stmt = null;\n\n        try \n        {\n            stmt = con.createStatement();\n            ResultSet rs = stmt.executeQuery(command);\n\n            while (rs.next())\n                value = rs.toString();\n        } \n\n        catch (SQLException e ) \n        {\n            e.printStackTrace();\n        } \n\n        finally\n        {\n            if (stmt != \n            null) { stmt.close(); }\n        }\n\n        return value;\n\n    }\n</code></pre>\n\n<p>I do have a <code>getConnection()</code> method too.</p>\n\n<p>Here is what im using to call the <code>viewValue</code>method:</p>\n\n<pre><code>if((action.getSource() == btnSave) ||(action.getSource() == btnSavePrint) )\n        {\n            String findItemNoCommand = \"SELECT itemNo FROM `item` WHERE itemName = '\" + itemList.getSelectedItem() + \"'\";\n\n            try \n            {\n                itemNo = viewValue(conn, findItemNoCommand);\n            }\n            catch (SQLException e) \n            {\n                e.printStackTrace();\n            }\n\n            System.out.println(itemNo);\n        }\n</code></pre>\n\n<p>The code above was written for a <code>ButtonHandler</code></p>\n\n<p>Right now, for the <code>println</code> I'm getting a \"<code>com.mysql.jdbc.JDBC4ResultSet@1e72cae</code>\" .. I don't understand how it is so.. but I'm assuming that ResultSet is the wrong choice here. </p>\n\n<p>My question is.. what can i use there that can work?</p>\n\n<p>Any help or clue as to what im doing wrong is much appreciated. </p>\n"},{"tags":["java","android","c++","java-native-interface"],"comments":[{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":0,"creation_date":1701085150,"post_id":77556356,"comment_id":136727046,"body_markdown":"This is a common gotcha: only the main thread has the correct class loader set up.","body":"This is a common gotcha: only the main thread has the correct class loader set up."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1701175967,"post_id":77556356,"comment_id":136740473,"body_markdown":"What Java exception is thrown?","body":"What Java exception is thrown?"}],"owner":{"account_id":30002912,"reputation":1,"user_id":22992486,"display_name":"Jonny Nightingale"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1701085345,"answer_count":0,"score":0,"last_activity_date":1701083575,"creation_date":1701082743,"question_id":77556356,"body_markdown":"I am writing an Android appliction and am using JNI to call Java functions from C++. The following code works as expected, retrieving a reference to a static Java method and then calling it.\r\n```cpp\r\n_JNIEnv *env = g_globalJniEnv;\r\njclass clazz = env-&gt;FindClass( &quot;com/company/ClassName&quot; );\r\njmethodID method = env-&gt;GetStaticMethodID( clazz, &quot;methodName&quot;, &quot;()V&quot; );\r\nenv-&gt;CallStaticVoidMethod( clazz, method );\r\n```\r\nHowever when I try to do the same thing on a `std::thread` the call to `FindClass` is returning NULL.\r\n```cpp\r\nstd::thread callMethod( [] {\r\n    JNIEnv *env;\r\n    g_jvm-&gt;AttachCurrentThread( &amp;env, NULL );\r\n    jclass clazz = env-&gt;FindClass( &quot;com/company/ClassName&quot; );\r\n    jmethodID method = env-&gt;GetStaticMethodID( clazz, &quot;methodName&quot;, &quot;()V&quot; );\r\n    env-&gt;CallStaticVoidMethod( clazz, method );\r\n    g_jvm-&gt;DetachCurrentThread();\r\n} );\r\ncallMethod.detach();\r\n```\r\nIs there something missing from my implementation?","title":"JNI call to FindClass returns null when run on a new thread","body":"<p>I am writing an Android appliction and am using JNI to call Java functions from C++. The following code works as expected, retrieving a reference to a static Java method and then calling it.</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>_JNIEnv *env = g_globalJniEnv;\njclass clazz = env-&gt;FindClass( &quot;com/company/ClassName&quot; );\njmethodID method = env-&gt;GetStaticMethodID( clazz, &quot;methodName&quot;, &quot;()V&quot; );\nenv-&gt;CallStaticVoidMethod( clazz, method );\n</code></pre>\n<p>However when I try to do the same thing on a <code>std::thread</code> the call to <code>FindClass</code> is returning NULL.</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>std::thread callMethod( [] {\n    JNIEnv *env;\n    g_jvm-&gt;AttachCurrentThread( &amp;env, NULL );\n    jclass clazz = env-&gt;FindClass( &quot;com/company/ClassName&quot; );\n    jmethodID method = env-&gt;GetStaticMethodID( clazz, &quot;methodName&quot;, &quot;()V&quot; );\n    env-&gt;CallStaticVoidMethod( clazz, method );\n    g_jvm-&gt;DetachCurrentThread();\n} );\ncallMethod.detach();\n</code></pre>\n<p>Is there something missing from my implementation?</p>\n"},{"tags":["java","file-io","io"],"comments":[{"owner":{"account_id":219702,"reputation":13061,"user_id":476747,"accept_rate":97,"display_name":"Mudassir"},"score":0,"creation_date":1298982743,"post_id":5154529,"comment_id":5786777,"body_markdown":"Are you using some IDE (Eclipse, NetBeans, etc.)?","body":"Are you using some IDE (Eclipse, NetBeans, etc.)?"},{"owner":{"account_id":129863,"reputation":6504,"user_id":328725,"accept_rate":66,"display_name":"posdef"},"score":0,"creation_date":1298982871,"post_id":5154529,"comment_id":5786805,"body_markdown":"@Nishant: perhaps I am a bit naive but what does that fact say about this question?","body":"@Nishant: perhaps I am a bit naive but what does that fact say about this question?"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1298982959,"post_id":5154529,"comment_id":5786819,"body_markdown":"Please give a *lot* more context... read http://tinyurl.com/so-hints","body":"Please give a <i>lot</i> more context... read <a href=\"http://tinyurl.com/so-hints\" rel=\"nofollow noreferrer\">tinyurl.com/so-hints</a>"}],"answers":[{"tags":[],"owner":{"account_id":131478,"reputation":27678,"user_id":331515,"accept_rate":81,"display_name":"Daniel"},"comment_count":0,"down_vote_count":0,"up_vote_count":36,"is_accepted":true,"score":36,"last_activity_date":1701083496,"creation_date":1298982963,"answer_id":5154592,"question_id":5154529,"body_markdown":"If the current directory of the application. If e.g. you create a File by using \r\n\r\n    new FileOutputStream(&quot;myfile&quot;)\r\n\r\nthen it is created in the &quot;current&quot; directory, which can be retrieved by calling \r\n\r\n    System.getProperty(&quot;user.dir&quot;);\r\n\r\nHowever if you change the current directory by calling native methods (very unlikely!), the property is not updated. It can be seen as the initial current directory of the application.\r\n\r\nIf you start your Java app in a batch file, and doubleclick on the link to it, the current directory will be the directory where the batch file resided, but this can be changed in the link.\r\n\r\nIf you start your Java app from the command line, you already know the directory you are in.\r\n\r\nIf you start your Java app from the IDE, the current directory is usually the project root, but this can usually be configured in the launch configuration.\r\n\r\n**UPDATE 2017-08:**\r\n\r\nYou could also always find the current correct location with:\r\n\r\n    new File(&quot;.&quot;).getAbsolutePath()","title":"In Java, what is the default location for newly created files?","body":"<p>If the current directory of the application. If e.g. you create a File by using</p>\n<pre><code>new FileOutputStream(&quot;myfile&quot;)\n</code></pre>\n<p>then it is created in the &quot;current&quot; directory, which can be retrieved by calling</p>\n<pre><code>System.getProperty(&quot;user.dir&quot;);\n</code></pre>\n<p>However if you change the current directory by calling native methods (very unlikely!), the property is not updated. It can be seen as the initial current directory of the application.</p>\n<p>If you start your Java app in a batch file, and doubleclick on the link to it, the current directory will be the directory where the batch file resided, but this can be changed in the link.</p>\n<p>If you start your Java app from the command line, you already know the directory you are in.</p>\n<p>If you start your Java app from the IDE, the current directory is usually the project root, but this can usually be configured in the launch configuration.</p>\n<p><strong>UPDATE 2017-08:</strong></p>\n<p>You could also always find the current correct location with:</p>\n<pre><code>new File(&quot;.&quot;).getAbsolutePath()\n</code></pre>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1700766108,"post_id":39056340,"comment_id":136697355,"body_markdown":"What is `createfilename`? And the IDE is only there at development time.","body":"What is <code>createfilename</code>? And the IDE is only there at development time."}],"tags":[],"owner":{"account_id":7513612,"reputation":1945,"user_id":5707795,"accept_rate":48,"display_name":"Pradeep"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1471714855,"creation_date":1471710311,"answer_id":39056340,"question_id":5154529,"body_markdown":"Hoping you are using eclipse or net beans ide.The newly created files will be stored in the project workspace based on how you create the file.\r\nEg  you can create a file by\r\n1) using createfilename \r\n2)by using file FileOutputStream,FileWriter,PrintWriter etc.","title":"In Java, what is the default location for newly created files?","body":"<p>Hoping you are using eclipse or net beans ide.The newly created files will be stored in the project workspace based on how you create the file.\nEg  you can create a file by\n1) using createfilename \n2)by using file FileOutputStream,FileWriter,PrintWriter etc.</p>\n"}],"owner":{"account_id":250007,"reputation":2229,"user_id":526443,"accept_rate":44,"display_name":"abhishek kumar gupta"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61601,"favorite_count":0,"down_vote_count":3,"up_vote_count":27,"accepted_answer_id":5154592,"answer_count":2,"score":24,"last_activity_date":1701083496,"creation_date":1298982589,"question_id":5154529,"body_markdown":"In Java, what is the default location for newly created files?","title":"In Java, what is the default location for newly created files?","body":"<p>In Java, what is the default location for newly created files?</p>\n"},{"tags":["java","vaadin","hilla"],"answers":[{"comments":[{"owner":{"account_id":5087990,"reputation":518,"user_id":4081901,"display_name":"Amit Tamrakar"},"score":0,"creation_date":1701729663,"post_id":77556392,"comment_id":136809786,"body_markdown":"Thanks, after adding maven to the path issue get resolved.","body":"Thanks, after adding maven to the path issue get resolved."}],"tags":[],"owner":{"account_id":99531,"reputation":126,"user_id":268793,"display_name":"Luciano Vernaschi"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1701083054,"creation_date":1701083054,"answer_id":77556392,"question_id":77551620,"body_markdown":"You can get more details about the issue by setting a more detailed log level in `application.properties`, for example:\r\n```\r\nlogging.level.dev.hilla=trace\r\n```\r\nBut it seems that Maven cannot be found, and I see that the application you&#39;re trying to run misses the Maven Wrapper.\r\n\r\nEither add the wrapper to the application or make sure your local Maven is available on PATH.","title":"Hilla app launch error. No valid executable found","body":"<p>You can get more details about the issue by setting a more detailed log level in <code>application.properties</code>, for example:</p>\n<pre><code>logging.level.dev.hilla=trace\n</code></pre>\n<p>But it seems that Maven cannot be found, and I see that the application you're trying to run misses the Maven Wrapper.</p>\n<p>Either add the wrapper to the application or make sure your local Maven is available on PATH.</p>\n"}],"owner":{"account_id":5087990,"reputation":518,"user_id":4081901,"display_name":"Amit Tamrakar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":77556392,"answer_count":1,"score":-2,"last_activity_date":1701083054,"creation_date":1701000977,"question_id":77551620,"body_markdown":"Trying to launch the hilla app and getting below error message:\r\n\r\nI am trying to launch the application from this github repo: https://github.com/marcushellberg/customer-support-agent\r\n\r\n```\r\ndev.hilla.engine.commandrunner.CommandNotFoundException: No valid executable found\r\n\tat dev.hilla.engine.commandrunner.CommandRunner.lambda$run$0(CommandRunner.java:72) ~[engine-core-2.2.0.jar:na]\r\n\tat java.base/java.util.Optional.orElseThrow(Optional.java:403) ~[na:na]\r\n\tat dev.hilla.engine.commandrunner.CommandRunner.run(CommandRunner.java:72) ~[engine-core-2.2.0.jar:na]\r\n\tat dev.hilla.internal.AbstractTaskEndpointGenerator.prepareEngineConfiguration(AbstractTaskEndpointGenerator.java:87) ~[engine-runtime-2.2.0.jar:na]\r\n\tat dev.hilla.internal.AbstractTaskEndpointGenerator.getEngineConfiguration(AbstractTaskEndpointGenerator.java:59) ~[engine-runtime-2.2.0.jar:na]\r\n\tat dev.hilla.internal.TaskGenerateOpenAPIImpl.execute(TaskGenerateOpenAPIImpl.java:67) ~[engine-runtime-2.2.0.jar:na]\r\n\tat com.vaadin.flow.server.frontend.NodeTasks.execute(NodeTasks.java:312) ~[flow-server-24.1.11.jar:24.1.11]\r\n\tat com.vaadin.base.devserver.startup.DevModeInitializer.runNodeTasks(DevModeInitializer.java:352) ~[vaadin-dev-server-24.1.11.jar:na]\r\n\tat com.vaadin.base.devserver.startup.DevModeInitializer.lambda$initDevModeHandler$0(DevModeInitializer.java:293) ~[vaadin-dev-server-24.1.11.jar:na]\r\n\tat java.base/java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java:1804) ~[na:na]\r\n\tat java.base/java.util.concurrent.CompletableFuture$AsyncRun.exec(CompletableFuture.java:1796) ~[na:na]\r\n\tat java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:387) ~[na:na]\r\n\tat java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1312) ~[na:na]\r\n\tat java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1843) ~[na:na]\r\n\tat java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1808) ~[na:na]\r\n\tat java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:188) ~[na:na]```","title":"Hilla app launch error. No valid executable found","body":"<p>Trying to launch the hilla app and getting below error message:</p>\n<p>I am trying to launch the application from this github repo: <a href=\"https://github.com/marcushellberg/customer-support-agent\" rel=\"nofollow noreferrer\">https://github.com/marcushellberg/customer-support-agent</a></p>\n<pre><code>dev.hilla.engine.commandrunner.CommandNotFoundException: No valid executable found\n    at dev.hilla.engine.commandrunner.CommandRunner.lambda$run$0(CommandRunner.java:72) ~[engine-core-2.2.0.jar:na]\n    at java.base/java.util.Optional.orElseThrow(Optional.java:403) ~[na:na]\n    at dev.hilla.engine.commandrunner.CommandRunner.run(CommandRunner.java:72) ~[engine-core-2.2.0.jar:na]\n    at dev.hilla.internal.AbstractTaskEndpointGenerator.prepareEngineConfiguration(AbstractTaskEndpointGenerator.java:87) ~[engine-runtime-2.2.0.jar:na]\n    at dev.hilla.internal.AbstractTaskEndpointGenerator.getEngineConfiguration(AbstractTaskEndpointGenerator.java:59) ~[engine-runtime-2.2.0.jar:na]\n    at dev.hilla.internal.TaskGenerateOpenAPIImpl.execute(TaskGenerateOpenAPIImpl.java:67) ~[engine-runtime-2.2.0.jar:na]\n    at com.vaadin.flow.server.frontend.NodeTasks.execute(NodeTasks.java:312) ~[flow-server-24.1.11.jar:24.1.11]\n    at com.vaadin.base.devserver.startup.DevModeInitializer.runNodeTasks(DevModeInitializer.java:352) ~[vaadin-dev-server-24.1.11.jar:na]\n    at com.vaadin.base.devserver.startup.DevModeInitializer.lambda$initDevModeHandler$0(DevModeInitializer.java:293) ~[vaadin-dev-server-24.1.11.jar:na]\n    at java.base/java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java:1804) ~[na:na]\n    at java.base/java.util.concurrent.CompletableFuture$AsyncRun.exec(CompletableFuture.java:1796) ~[na:na]\n    at java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:387) ~[na:na]\n    at java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1312) ~[na:na]\n    at java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1843) ~[na:na]\n    at java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1808) ~[na:na]\n    at java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:188) ~[na:na]```\n</code></pre>\n"},{"tags":["java","mysql","hibernate"],"comments":[{"owner":{"account_id":1744250,"reputation":6709,"user_id":1594817,"accept_rate":69,"display_name":"Vinay Veluri"},"score":1,"creation_date":1408953096,"post_id":25481330,"comment_id":39768376,"body_markdown":"Add jar file containing `org.hibernate.dialect.MYSQLDialect`...","body":"Add jar file containing <code>org.hibernate.dialect.MYSQLDialect</code>..."},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1408953170,"post_id":25481330,"comment_id":39768410,"body_markdown":"Which hibernate version do you use?","body":"Which hibernate version do you use?"},{"owner":{"account_id":2522926,"reputation":30310,"user_id":2192903,"accept_rate":73,"display_name":"Arnaud Denoyelle"},"score":0,"creation_date":1408953173,"post_id":25481330,"comment_id":39768411,"body_markdown":"Hibernate needs a driver in order to be able to connect to MySQL. As Hibernate cannot contain the drivers for every databases, you need to give it yourself.","body":"Hibernate needs a driver in order to be able to connect to MySQL. As Hibernate cannot contain the drivers for every databases, you need to give it yourself."},{"owner":{"account_id":4841358,"reputation":1324,"user_id":3906304,"accept_rate":47,"display_name":"Raghu"},"score":0,"creation_date":1408953234,"post_id":25481330,"comment_id":39768444,"body_markdown":"its there .. I followed the above video tutorial","body":"its there .. I followed the above video tutorial"},{"owner":{"account_id":4841358,"reputation":1324,"user_id":3906304,"accept_rate":47,"display_name":"Raghu"},"score":0,"creation_date":1408953279,"post_id":25481330,"comment_id":39768463,"body_markdown":"@Jens its 3.6.4 same as in video tutorial","body":"@Jens its 3.6.4 same as in video tutorial"},{"owner":{"account_id":351195,"reputation":15829,"user_id":687514,"display_name":"Anders R. Bystrup"},"score":0,"creation_date":1408953303,"post_id":25481330,"comment_id":39768475,"body_markdown":"`MYSQLDialect` is in `hibernate-core`. Check your classpath.","body":"<code>MYSQLDialect</code> is in <code>hibernate-core</code>. Check your classpath."},{"owner":{"account_id":4841358,"reputation":1324,"user_id":3906304,"accept_rate":47,"display_name":"Raghu"},"score":0,"creation_date":1408953368,"post_id":25481330,"comment_id":39768500,"body_markdown":"@ArnaudDenoyelle You mean mysql driver right, I have given mysql-connector-java-5.1.7.jar file","body":"@ArnaudDenoyelle You mean mysql driver right, I have given mysql-connector-java-5.1.7.jar file"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1408953443,"post_id":25481330,"comment_id":39768532,"body_markdown":"@Raghu And you run it from eclipse?","body":"@Raghu And you run it from eclipse?"},{"owner":{"account_id":4841358,"reputation":1324,"user_id":3906304,"accept_rate":47,"display_name":"Raghu"},"score":0,"creation_date":1408953459,"post_id":25481330,"comment_id":39768539,"body_markdown":"@AndersR.Bystrup yes in my classpath its in hibernate3.jar file under package `com.hibernate.dialect`","body":"@AndersR.Bystrup yes in my classpath its in hibernate3.jar file under package <code>com.hibernate.dialect</code>"},{"owner":{"account_id":4841358,"reputation":1324,"user_id":3906304,"accept_rate":47,"display_name":"Raghu"},"score":0,"creation_date":1408953480,"post_id":25481330,"comment_id":39768547,"body_markdown":"@Jens yes from eclipse.","body":"@Jens yes from eclipse."},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1408953596,"post_id":25481330,"comment_id":39768595,"body_markdown":"@Raghu and your run configuration uses the buildpath of your project?","body":"@Raghu and your run configuration uses the buildpath of your project?"},{"owner":{"account_id":4841358,"reputation":1324,"user_id":3906304,"accept_rate":47,"display_name":"Raghu"},"score":0,"creation_date":1408953653,"post_id":25481330,"comment_id":39768622,"body_markdown":"@Jens Sorry I didnt get you.","body":"@Jens Sorry I didnt get you."},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1408953806,"post_id":25481330,"comment_id":39768687,"body_markdown":"@Raghu if you call &quot;run&quot; you run the project with a configuration that can be different from the buildpath. Look if the jar is in &quot;eun Configurations..&quot; --&gt; &quot;your launcher&quot; --&gt;&quot;Classpath&quot;","body":"@Raghu if you call &quot;run&quot; you run the project with a configuration that can be different from the buildpath. Look if the jar is in &quot;eun Configurations..&quot; --&gt; &quot;your launcher&quot; --&gt;&quot;Classpath&quot;"}],"answers":[{"tags":[],"owner":{"account_id":1275953,"reputation":26182,"user_id":1231230,"accept_rate":76,"display_name":"Ankur Singhal"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1590401881,"creation_date":1408953694,"answer_id":25481489,"question_id":25481330,"body_markdown":"The answer is in the question. You&#39;ve found `MySQLDialect` in your jar files, but your configuration file tries to use `MYSQLDialect`. Java is case-sensitive.\r\n\r\nTry changing to below\r\n\r\n\r\n    &lt;property name=&quot;dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\r\n\r\n","title":"How to resolve &quot;Dialect class not found: org.hibernate.dialect.MYSQLDialect&quot; Exception?","body":"<p>The answer is in the question. You've found <code>MySQLDialect</code> in your jar files, but your configuration file tries to use <code>MYSQLDialect</code>. Java is case-sensitive.</p>\n\n<p>Try changing to below</p>\n\n<pre><code>&lt;property name=\"dialect\"&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":268400,"reputation":624,"user_id":557143,"display_name":"Hemant Nagpal"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1414217456,"creation_date":1414217456,"answer_id":26559787,"question_id":25481330,"body_markdown":"If you are using a property file, then make sure there is no space at the end of the line.\r\n\r\n    hibernate.dialect=org.hibernate.dialect.MySQLDialect\r\n\r\n","title":"How to resolve &quot;Dialect class not found: org.hibernate.dialect.MYSQLDialect&quot; Exception?","body":"<p>If you are using a property file, then make sure there is no space at the end of the line.</p>\n\n<pre><code>hibernate.dialect=org.hibernate.dialect.MySQLDialect\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27728146,"reputation":1,"user_id":21167246,"display_name":"ajay"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676031342,"creation_date":1675793015,"answer_id":75377295,"question_id":25481330,"body_markdown":"If you are using \r\n```\r\n&lt;org.hibernate.dialect.MySQL8Dialect&lt;/property&gt;\r\n```\r\nsimply remove `8` from there \r\n```\r\n&lt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\r\n```","title":"How to resolve &quot;Dialect class not found: org.hibernate.dialect.MYSQLDialect&quot; Exception?","body":"<p>If you are using</p>\n<pre><code>&lt;org.hibernate.dialect.MySQL8Dialect&lt;/property&gt;\n</code></pre>\n<p>simply remove <code>8</code> from there</p>\n<pre><code>&lt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6790121,"reputation":11,"user_id":5227561,"display_name":"Manushi M Jani"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701082928,"creation_date":1701082928,"answer_id":77556376,"question_id":25481330,"body_markdown":"I was getting a similar error :\r\n\r\n```\r\nCaused by: org.hibernate.boot.registry.selector.spi.StrategySelectionException: Unable to resolve name [org.hibernate.dialect.MySQL5Dialect] as strategy [org.hibernate.dialect.Dialect]\r\n\tat ...\r\norg.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:105)\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:66)\r\n\tat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:129)\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)\r\n\t... 106 common frames omitted\r\nCaused by: org.hibernate.boot.registry.classloading.spi.ClassLoadingException: Unable to load class [org.hibernate.dialect.MySQL5Dialect]\r\n\tat org.hibernate.boot.registry.classloading.internal.ClassLoaderServiceImpl.classForName(ClassLoaderServiceImpl.java:126)\r\n\tat org.hibernate.boot.registry.selector.internal.StrategySelectorImpl.selectStrategyImplementor(StrategySelectorImpl.java:150)\r\n\t... 116 common frames omitted\r\nCaused by: java.lang.ClassNotFoundException: org.hibernate.dialect.MySQL5Dialect\r\n```\r\n\r\nI resolved it buy simply removing 5 from org.hibernate.dialect.MySQL5Dialect, and it worked like a charm.\r\n\r\nHere is the code block : \r\n\r\n```\r\nspring:\r\n  jpa:\r\n    hibernate:\r\n      ddl-auto: none\r\n    properties:\r\n      hibernate:\r\n        dialect: &quot;org.hibernate.dialect.MySQL5Dialect&quot;\r\n```\r\n\r\nSolution : Remove only &#39;5&#39; from MySQL5Dialect.","title":"How to resolve &quot;Dialect class not found: org.hibernate.dialect.MYSQLDialect&quot; Exception?","body":"<p>I was getting a similar error :</p>\n<pre><code>Caused by: org.hibernate.boot.registry.selector.spi.StrategySelectionException: Unable to resolve name [org.hibernate.dialect.MySQL5Dialect] as strategy [org.hibernate.dialect.Dialect]\n    at ...\norg.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:105)\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:66)\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:129)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)\n    ... 106 common frames omitted\nCaused by: org.hibernate.boot.registry.classloading.spi.ClassLoadingException: Unable to load class [org.hibernate.dialect.MySQL5Dialect]\n    at org.hibernate.boot.registry.classloading.internal.ClassLoaderServiceImpl.classForName(ClassLoaderServiceImpl.java:126)\n    at org.hibernate.boot.registry.selector.internal.StrategySelectorImpl.selectStrategyImplementor(StrategySelectorImpl.java:150)\n    ... 116 common frames omitted\nCaused by: java.lang.ClassNotFoundException: org.hibernate.dialect.MySQL5Dialect\n</code></pre>\n<p>I resolved it buy simply removing 5 from org.hibernate.dialect.MySQL5Dialect, and it worked like a charm.</p>\n<p>Here is the code block :</p>\n<pre><code>spring:\n  jpa:\n    hibernate:\n      ddl-auto: none\n    properties:\n      hibernate:\n        dialect: &quot;org.hibernate.dialect.MySQL5Dialect&quot;\n</code></pre>\n<p>Solution : Remove only '5' from MySQL5Dialect.</p>\n"}],"owner":{"account_id":4841358,"reputation":1324,"user_id":3906304,"accept_rate":47,"display_name":"Raghu"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41323,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":25481489,"answer_count":4,"score":3,"last_activity_date":1701082928,"creation_date":1408953035,"question_id":25481330,"body_markdown":"I am very new to hibernate so I am practicing by seeing video tutorial. The link I am following is,\r\n\r\nhttps://www.youtube.com/watch?v=FFMOZY4z6bE&amp;list=PL4AFF701184976B25&amp;index=5\r\n\r\nIt is simple java project in eclipse. Here I use mysql Data base. Here is my Hibernate.cfg.xml file,\r\n\r\n&lt;!-- Database connection settings --&gt;\r\n        &lt;property name=&quot;connection.driver_class&quot;&gt;com.mysql.jdbc.Driver&lt;/property&gt;\r\n        &lt;property name=&quot;connection.url&quot;&gt;jdbc:mysql://localhost:3306/hibernatedb&lt;/property&gt;\r\n        &lt;property name=&quot;connection.username&quot;&gt;root&lt;/property&gt;\r\n        &lt;property name=&quot;connection.password&quot;&gt;root&lt;/property&gt;\r\n\r\n        &lt;!-- JDBC connection pool (use the built-in) --&gt;\r\n        &lt;property name=&quot;connection.pool_size&quot;&gt;1&lt;/property&gt;\r\n\r\n        &lt;!-- SQL dialect --&gt;\r\n        &lt;property name=&quot;dialect&quot;&gt;org.hibernate.dialect.MYSQLDialect&lt;/property&gt;\r\n\r\n        &lt;!-- Disable the second-level cache  --&gt;\r\n        &lt;property name=&quot;cache.provider_class&quot;&gt;org.hibernate.cache.NoCacheProvider&lt;/property&gt;\r\n\r\n        &lt;!-- Echo all executed SQL to stdout --&gt;\r\n        &lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\r\n\r\n        &lt;!-- Drop and re-create the database schema on startup --&gt;\r\n        &lt;property name=&quot;hbm2ddl.auto&quot;&gt;create&lt;/property&gt;\r\n\r\n        &lt;!-- Names the annotated entity class --&gt;\r\n        &lt;mapping class=&quot;com.***.dto.UserDetails&quot;/&gt;\r\n\r\nI am getting this kind of error ,\r\n\r\n    SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\n    SLF4J: Defaulting to no-operation (NOP) logger implementation\r\n    SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\r\n    Exception in thread &quot;main&quot; org.hibernate.HibernateException: Dialect class not found:   org.hibernate.dialect.MYSQLDialect\r\n\tat org.hibernate.dialect.resolver.DialectFactory.constructDialect(DialectFactory.java:159)\r\n\tat org.hibernate.dialect.resolver.DialectFactory.buildDialect(DialectFactory.java:99)\r\n\tat org.hibernate.cfg.SettingsFactory.buildSettings(SettingsFactory.java:117)\r\n\tat org.hibernate.cfg.Configuration.buildSettingsInternal(Configuration.java:2863)\r\n\tat org.hibernate.cfg.Configuration.buildSettings(Configuration.java:2859)\r\n\tat org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1870)\r\n\tat com.aurodisplay.hibernate.HibernateTest.main(HibernateTest.java:17)\r\n    Caused by: java.lang.ClassNotFoundException: org.hibernate.dialect.MYSQLDialect\r\n\tat java.net.URLClassLoader$1.run(Unknown Source)\r\n\tat java.net.URLClassLoader$1.run(Unknown Source)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.net.URLClassLoader.findClass(Unknown Source)\r\n\tat java.lang.ClassLoader.loadClass(Unknown Source)\r\n\tat sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\r\n\tat java.lang.ClassLoader.loadClass(Unknown Source)\r\n\tat java.lang.Class.forName0(Native Method)\r\n\tat java.lang.Class.forName(Unknown Source)\r\n\tat org.hibernate.util.ReflectHelper.classForName(ReflectHelper.java:192)\r\n\tat org.hibernate.dialect.resolver.DialectFactory.constructDialect(DialectFactory.java:156)\r\n\r\nCan any one help me in this.","title":"How to resolve &quot;Dialect class not found: org.hibernate.dialect.MYSQLDialect&quot; Exception?","body":"<p>I am very new to hibernate so I am practicing by seeing video tutorial. The link I am following is,</p>\n\n<p><a href=\"https://www.youtube.com/watch?v=FFMOZY4z6bE&amp;list=PL4AFF701184976B25&amp;index=5\" rel=\"nofollow\">https://www.youtube.com/watch?v=FFMOZY4z6bE&amp;list=PL4AFF701184976B25&amp;index=5</a></p>\n\n<p>It is simple java project in eclipse. Here I use mysql Data base. Here is my Hibernate.cfg.xml file,</p>\n\n<p>\n        com.mysql.jdbc.Driver\n        jdbc:mysql://localhost:3306/hibernatedb\n        root\n        root</p>\n\n<pre><code>    &lt;!-- JDBC connection pool (use the built-in) --&gt;\n    &lt;property name=\"connection.pool_size\"&gt;1&lt;/property&gt;\n\n    &lt;!-- SQL dialect --&gt;\n    &lt;property name=\"dialect\"&gt;org.hibernate.dialect.MYSQLDialect&lt;/property&gt;\n\n    &lt;!-- Disable the second-level cache  --&gt;\n    &lt;property name=\"cache.provider_class\"&gt;org.hibernate.cache.NoCacheProvider&lt;/property&gt;\n\n    &lt;!-- Echo all executed SQL to stdout --&gt;\n    &lt;property name=\"show_sql\"&gt;true&lt;/property&gt;\n\n    &lt;!-- Drop and re-create the database schema on startup --&gt;\n    &lt;property name=\"hbm2ddl.auto\"&gt;create&lt;/property&gt;\n\n    &lt;!-- Names the annotated entity class --&gt;\n    &lt;mapping class=\"com.***.dto.UserDetails\"/&gt;\n</code></pre>\n\n<p>I am getting this kind of error ,</p>\n\n<pre><code>SLF4J: Failed to load class \"org.slf4j.impl.StaticLoggerBinder\".\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\nException in thread \"main\" org.hibernate.HibernateException: Dialect class not found:   org.hibernate.dialect.MYSQLDialect\nat org.hibernate.dialect.resolver.DialectFactory.constructDialect(DialectFactory.java:159)\nat org.hibernate.dialect.resolver.DialectFactory.buildDialect(DialectFactory.java:99)\nat org.hibernate.cfg.SettingsFactory.buildSettings(SettingsFactory.java:117)\nat org.hibernate.cfg.Configuration.buildSettingsInternal(Configuration.java:2863)\nat org.hibernate.cfg.Configuration.buildSettings(Configuration.java:2859)\nat org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1870)\nat com.aurodisplay.hibernate.HibernateTest.main(HibernateTest.java:17)\nCaused by: java.lang.ClassNotFoundException: org.hibernate.dialect.MYSQLDialect\nat java.net.URLClassLoader$1.run(Unknown Source)\nat java.net.URLClassLoader$1.run(Unknown Source)\nat java.security.AccessController.doPrivileged(Native Method)\nat java.net.URLClassLoader.findClass(Unknown Source)\nat java.lang.ClassLoader.loadClass(Unknown Source)\nat sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\nat java.lang.ClassLoader.loadClass(Unknown Source)\nat java.lang.Class.forName0(Native Method)\nat java.lang.Class.forName(Unknown Source)\nat org.hibernate.util.ReflectHelper.classForName(ReflectHelper.java:192)\nat org.hibernate.dialect.resolver.DialectFactory.constructDialect(DialectFactory.java:156)\n</code></pre>\n\n<p>Can any one help me in this.</p>\n"},{"tags":["java","io"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1632585035,"post_id":69327728,"comment_id":122535185,"body_markdown":"In general, it is harder to determine what something _is_ than to determine what something _is not_. For example, a file without a class extension isn&#39;t a Java class; a file without the Java class magic number (0xcafebabe) isn&#39;t a Java class etc. You can only really determine that it *is* a Java class by attempting to load it with Java.","body":"In general, it is harder to determine what something <i>is</i> than to determine what something <i>is not</i>. For example, a file without a class extension isn&#39;t a Java class; a file without the Java class magic number (0xcafebabe) isn&#39;t a Java class etc. You can only really determine that it <i>is</i> a Java class by attempting to load it with Java."},{"owner":{"account_id":21586295,"reputation":39,"user_id":16198800,"display_name":"Arkady"},"score":1,"creation_date":1632586600,"post_id":69327728,"comment_id":122535591,"body_markdown":"I can use the Class.forName (...) method, but if the specified file is not a class, an error will occur.\nI don&#39;t know what to do better.","body":"I can use the Class.forName (...) method, but if the specified file is not a class, an error will occur. I don&#39;t know what to do better."},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1701083121,"post_id":69327728,"comment_id":136726751,"body_markdown":"You can always catch the exception that happens when you load it and if you do, you&#39;ll know it&#39;s not a Java class (or a malformed one or one missing its dependency or ...). Note that loading unknown/untrusted Java classes is probably not a good idea security-wise.","body":"You can always catch the exception that happens when you load it and if you do, you&#39;ll know it&#39;s not a Java class (or a malformed one or one missing its dependency or ...). Note that loading unknown/untrusted Java classes is probably not a good idea security-wise."}],"answers":[{"tags":[],"owner":{"account_id":1115215,"reputation":10877,"user_id":1104727,"display_name":"Holly Cummins"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701082657,"creation_date":1701082657,"answer_id":77556346,"question_id":69327728,"body_markdown":"All Java files start with the magic number 0xCAFEBABE, so this should do the trick\r\n\r\n```\r\n        InputStream is = new FileInputStream(outFile);\r\n        byte[] magicNumber = new byte[4];\r\n        is.read(magicNumber);\r\n        is.close();\r\n\r\n        Arrays.equals(new byte[]{(byte) 0xca, (byte) 0xfe, (byte) 0xba, (byte) 0xbe}, magicNumber);\r\n```    ","title":"How to check if File is a Java class","body":"<p>All Java files start with the magic number 0xCAFEBABE, so this should do the trick</p>\n<pre><code>        InputStream is = new FileInputStream(outFile);\n        byte[] magicNumber = new byte[4];\n        is.read(magicNumber);\n        is.close();\n\n        Arrays.equals(new byte[]{(byte) 0xca, (byte) 0xfe, (byte) 0xba, (byte) 0xbe}, magicNumber);\n</code></pre>\n"}],"owner":{"account_id":21586295,"reputation":39,"user_id":16198800,"display_name":"Arkady"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701082657,"creation_date":1632584831,"question_id":69327728,"body_markdown":"I have a `java.io.File` class with a link to a resource. I want to check if this file is a Java class.\r\nIt is possible to check the file extension... BUT this method does not suit me, since anyone can create a file with the .class extension, but logically the file itself will not be a Java class.","title":"How to check if File is a Java class","body":"<p>I have a <code>java.io.File</code> class with a link to a resource. I want to check if this file is a Java class.\nIt is possible to check the file extension... BUT this method does not suit me, since anyone can create a file with the .class extension, but logically the file itself will not be a Java class.</p>\n"},{"tags":["java","itext"],"comments":[{"owner":{"account_id":19448538,"reputation":189,"user_id":14225495,"display_name":"Gordon from Blumberg"},"score":0,"creation_date":1601906940,"post_id":64209922,"comment_id":113543862,"body_markdown":"What is the error message?","body":"What is the error message?"},{"owner":{"account_id":13692434,"reputation":478,"user_id":9879898,"display_name":"sge"},"score":0,"creation_date":1601961827,"post_id":64209922,"comment_id":113561027,"body_markdown":"Hi, There is no error message. f.delete() returns false and the file was not deleted.","body":"Hi, There is no error message. f.delete() returns false and the file was not deleted."},{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":1,"creation_date":1601962991,"post_id":64209922,"comment_id":113561337,"body_markdown":"@Abra - That won&#39;t help.  `pdfReader `won&#39;t be set to anything if `new PdfReader` throws, which I assume is what you&#39;re thinking.  I don&#39;t see any way for `pdfReader` to be set to a value and yet `pdfReader.close()` not be called.","body":"@Abra - That won&#39;t help.  <code>pdfReader </code>won&#39;t be set to anything if <code>new PdfReader</code> throws, which I assume is what you&#39;re thinking.  I don&#39;t see any way for <code>pdfReader</code> to be set to a value and yet <code>pdfReader.close()</code> not be called."},{"owner":{"account_id":19448538,"reputation":189,"user_id":14225495,"display_name":"Gordon from Blumberg"},"score":0,"creation_date":1601977314,"post_id":64209922,"comment_id":113566977,"body_markdown":"Try to use the `Files.delete(path)` method instead. This one throws exception with message if can not delete a file. It will give you a clue what is going wrong.","body":"Try to use the <code>Files.delete(path)</code> method instead. This one throws exception with message if can not delete a file. It will give you a clue what is going wrong."},{"owner":{"account_id":13692434,"reputation":478,"user_id":9879898,"display_name":"sge"},"score":1,"creation_date":1601989997,"post_id":64209922,"comment_id":113572764,"body_markdown":"Hi, It says that the process can not access the file because it&#39;s used by an other process. The file is only used by the PdfReader... by the way when i use a different consturctor e.g. the one with the inputstream or a byte[] than the file can be deleted. (but then it&#39;s not partial loaded.)","body":"Hi, It says that the process can not access the file because it&#39;s used by an other process. The file is only used by the PdfReader... by the way when i use a different consturctor e.g. the one with the inputstream or a byte[] than the file can be deleted. (but then it&#39;s not partial loaded.)"}],"answers":[{"tags":[],"owner":{"account_id":1533946,"reputation":944,"user_id":1430463,"accept_rate":80,"display_name":"Valeriane"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1701081977,"creation_date":1701081977,"answer_id":77556268,"question_id":64209922,"body_markdown":"Do not use path, but InputStream\r\n\r\n        try(InputStream is = new FileInputStream(f)) {\r\n            PdfReader pdfReader = new PdfReader(is);\r\n            pdfReader.close();\r\n        }","title":"File can&#39;t be deleted after it was opened by Itext PdfReader","body":"<p>Do not use path, but InputStream</p>\n<pre><code>    try(InputStream is = new FileInputStream(f)) {\n        PdfReader pdfReader = new PdfReader(is);\n        pdfReader.close();\n    }\n</code></pre>\n"}],"owner":{"account_id":13692434,"reputation":478,"user_id":9879898,"display_name":"sge"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":715,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1701081977,"creation_date":1601905617,"question_id":64209922,"body_markdown":"The following test code fails when f.delete() is called. Any idea why `PdfReader#close()` does not work properly? I need partial reading. I&#39;m using Itext library version 5.5.13 with openjdk 11 on a windows 10 machine.\r\n\r\n```java\r\n    @Test\r\n    public void test() throws IOException {\r\n        File f = new File(&quot;d:\\\\EmptyPdf.pdf&quot;);\r\n        try {\r\n            PdfReader pdfReader = new PdfReader(f.getAbsolutePath(), null, true);\r\n            pdfReader.close();\r\n        } finally {\r\n            Assert.assertTrue(f.delete());\r\n        }\r\n    }\r\n```\r\n\r\nThanks for your help.","title":"File can&#39;t be deleted after it was opened by Itext PdfReader","body":"<p>The following test code fails when f.delete() is called. Any idea why <code>PdfReader#close()</code> does not work properly? I need partial reading. I'm using Itext library version 5.5.13 with openjdk 11 on a windows 10 machine.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Test\n    public void test() throws IOException {\n        File f = new File(&quot;d:\\\\EmptyPdf.pdf&quot;);\n        try {\n            PdfReader pdfReader = new PdfReader(f.getAbsolutePath(), null, true);\n            pdfReader.close();\n        } finally {\n            Assert.assertTrue(f.delete());\n        }\n    }\n</code></pre>\n<p>Thanks for your help.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":5,"creation_date":1701081880,"post_id":77556196,"comment_id":136726538,"body_markdown":"As presented, the controller has no endpoints","body":"As presented, the controller has no endpoints"},{"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":1,"creation_date":1701081962,"post_id":77556196,"comment_id":136726553,"body_markdown":"Add a method to your controller with for example a `@GetMapping` annotation that returns the data you want the web service to return.","body":"Add a method to your controller with for example a <code>@GetMapping</code> annotation that returns the data you want the web service to return."},{"owner":{"account_id":1461576,"reputation":9255,"user_id":1375753,"display_name":"Ofir Winegarten"},"score":0,"creation_date":1701084850,"post_id":77556196,"comment_id":136727006,"body_markdown":"Which endpoint are you calling? i dont see any defined on your controller.","body":"Which endpoint are you calling? i dont see any defined on your controller."}],"owner":{"account_id":29999601,"reputation":1,"user_id":22989971,"display_name":"yousfi marwen"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701081709,"creation_date":1701081219,"question_id":77556196,"body_markdown":"When I call the endpoint, I receive a 404 error. The problem may be that the annotation SpringBootApplication cannot find the controller.      \r\n\r\nFor information I use spring-boot 3.2 and IDE intellij.  \r\n```\r\n@SpringBootApplication\r\npublic class TaskManagementApplication {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(TaskManagementApplication.class, args);\r\n    }\r\n}\r\n```\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/api/users&quot;)\r\npublic class UserController {\r\n\r\n    private final UserService userService;\r\n\r\n    @Autowired\r\n    public UserController(UserService userService) {\r\n        this.userService = userService;\r\n    }\r\n}\r\n```\r\n[project structure ](https://i.stack.imgur.com/zKsBh.png)\r\n\r\nI tried this, but it didn&#39;t work.\r\n```\r\n@SpringBootApplication(scanBasePackages = {&quot;com.other.packages&quot;,&quot;com.other&quot;})\r\n```","title":"Spring boot 3 endpoint 404","body":"<p>When I call the endpoint, I receive a 404 error. The problem may be that the annotation SpringBootApplication cannot find the controller.</p>\n<p>For information I use spring-boot 3.2 and IDE intellij.</p>\n<pre><code>@SpringBootApplication\npublic class TaskManagementApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(TaskManagementApplication.class, args);\n    }\n}\n</code></pre>\n<pre><code>@RestController\n@RequestMapping(&quot;/api/users&quot;)\npublic class UserController {\n\n    private final UserService userService;\n\n    @Autowired\n    public UserController(UserService userService) {\n        this.userService = userService;\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/zKsBh.png\" rel=\"nofollow noreferrer\">project structure </a></p>\n<p>I tried this, but it didn't work.</p>\n<pre><code>@SpringBootApplication(scanBasePackages = {&quot;com.other.packages&quot;,&quot;com.other&quot;})\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-cloud"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1701080084,"post_id":77541216,"comment_id":136726252,"body_markdown":"The fact that you have that messy excludes and manual includes makes me believe you are mxing wrong versions. You should have a spring cloud dependency import and now versions or excludes for anything else.","body":"The fact that you have that messy excludes and manual includes makes me believe you are mxing wrong versions. You should have a spring cloud dependency import and now versions or excludes for anything else."}],"owner":{"account_id":24068880,"reputation":1,"user_id":20652402,"display_name":"bb-bb-1"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701081624,"creation_date":1700808846,"question_id":77541216,"body_markdown":"Below is my *application.properties*:\r\n\r\n```lang-none\r\nspring.profiles.active=test\r\nmodule.name=abc\r\n\r\n# Logging levels across packages (optional)\r\nlogging.level.root=WARN\r\n\r\nspring.cloud.config.import-check.enabled=false\r\n```\r\n\r\nI have these dependency in my [POM][1] file:\r\n\r\n```lang-xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-cloud-config-client&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-config-client&lt;/artifactId&gt; \r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;-org.springframework.cloud&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-cloud-commons&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-bootstrap&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.4&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-cloud-commons&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-cloud-context&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.4&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-cloud-commons&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-cloud-context&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.cloud/spring-cloud-commons --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-commons&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nBut still I am getting this error:\r\n\r\n```lang-xml\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nNo spring.config.import property has been defined\r\n\r\nAction:\r\n\r\nAdd a spring.config.import=configserver: property to your configuration.\r\n\r\nIf configuration is not required add spring.config.import=optional:configserver: instead.\r\nTo disable this check, set spring.cloud.config.enabled=false or\r\nspring.cloud.config.import-check.enabled=false.\r\n\r\norg.springframework.cloud.commons.ConfigDataMissingEnvironmentPostProcessor$ImportException: No spring.config.import set\r\n\r\n\tat org.springframework.cloud.commons.ConfigDataMissingEnvironmentPostProcessor.postProcessEnvironment(ConfigDataMissingEnvironmentPostProcessor.java:79)\r\n\tat org.springframework.boot.env.EnvironmentPostProcessorApplicationListener.onApplicationEnvironmentPreparedEvent(EnvironmentPostProcessorApplicationListener.java:102)\r\n\tat org.springframework.boot.env.EnvironmentPostProcessorApplicationListener.onApplicationEvent(EnvironmentPostProcessorApplicationListener.java:87)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131)\r\n\tat org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:82)\r\n\tat org.springframework.boot.SpringApplicationRunListeners.lambda$environmentPrepared$2(SpringApplicationRunListeners.java:63)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n\tat org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:117)\r\n\tat org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:111)\r\n\tat org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:62)\r\n\tat org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:375)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:333)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)\r\n\r\n```\r\n\r\nAs you can see, I have already added the `config(spring.cloud.config.import-check.enabled=false)` in my *application.properties*, but I am still getting the issue, can anyone please suggest what should I do?\r\n\r\nFYI, I tried the below stuff as well:\r\n\r\n1. adding spring.cloud.config.enabled=false\r\n2. adding spring.config.import=optional:configserver:\r\n\r\nBut none of these were helpful.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Apache_Maven#Project_Object_Model\r\n","title":"Even though property is set but still this issue No spring.config.import property has been defined","body":"<p>Below is my <em>application.properties</em>:</p>\n<pre class=\"lang-none prettyprint-override\"><code>spring.profiles.active=test\nmodule.name=abc\n\n# Logging levels across packages (optional)\nlogging.level.root=WARN\n\nspring.cloud.config.import-check.enabled=false\n</code></pre>\n<p>I have these dependency in my <a href=\"https://en.wikipedia.org/wiki/Apache_Maven#Project_Object_Model\" rel=\"nofollow noreferrer\">POM</a> file:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-cloud-config-client&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-config-client&lt;/artifactId&gt; \n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;-org.springframework.cloud&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-cloud-commons&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-bootstrap&lt;/artifactId&gt;\n            &lt;version&gt;4.0.4&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-cloud-commons&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-cloud-context&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\n            &lt;version&gt;4.0.4&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-cloud-commons&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-cloud-context&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.cloud/spring-cloud-commons --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-commons&lt;/artifactId&gt;\n            &lt;version&gt;3.0.5&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>But still I am getting this error:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nNo spring.config.import property has been defined\n\nAction:\n\nAdd a spring.config.import=configserver: property to your configuration.\n\nIf configuration is not required add spring.config.import=optional:configserver: instead.\nTo disable this check, set spring.cloud.config.enabled=false or\nspring.cloud.config.import-check.enabled=false.\n\norg.springframework.cloud.commons.ConfigDataMissingEnvironmentPostProcessor$ImportException: No spring.config.import set\n\n    at org.springframework.cloud.commons.ConfigDataMissingEnvironmentPostProcessor.postProcessEnvironment(ConfigDataMissingEnvironmentPostProcessor.java:79)\n    at org.springframework.boot.env.EnvironmentPostProcessorApplicationListener.onApplicationEnvironmentPreparedEvent(EnvironmentPostProcessorApplicationListener.java:102)\n    at org.springframework.boot.env.EnvironmentPostProcessorApplicationListener.onApplicationEvent(EnvironmentPostProcessorApplicationListener.java:87)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131)\n    at org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:82)\n    at org.springframework.boot.SpringApplicationRunListeners.lambda$environmentPrepared$2(SpringApplicationRunListeners.java:63)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\n    at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:117)\n    at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:111)\n    at org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:62)\n    at org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:375)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:333)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)\n\n</code></pre>\n<p>As you can see, I have already added the <code>config(spring.cloud.config.import-check.enabled=false)</code> in my <em>application.properties</em>, but I am still getting the issue, can anyone please suggest what should I do?</p>\n<p>FYI, I tried the below stuff as well:</p>\n<ol>\n<li>adding spring.cloud.config.enabled=false</li>\n<li>adding spring.config.import=optional:configserver:</li>\n</ol>\n<p>But none of these were helpful.</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1701082456,"post_id":77556239,"comment_id":136726637,"body_markdown":"`which approach should be used at what scenario` - form submit sends a request (mostly post) to the server, while 302 redirection is a response (to a request), they are not interchangeable.","body":"<code>which approach should be used at what scenario</code> - form submit sends a request (mostly post) to the server, while 302 redirection is a response (to a request), they are not interchangeable."}],"owner":{"account_id":7849206,"reputation":900,"user_id":5933194,"accept_rate":33,"display_name":"rahul"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701081578,"creation_date":1701081578,"question_id":77556239,"body_markdown":"want to understand what is the difference between a form submit by creating a jsp page in Spring and doing a 302 API redirect\r\n\r\nfor example I can create a get or post API redirect by redirecting to other url \r\n\t\t \r\n\r\n    httpServletResponse.setHeader(&quot;Location&quot;, fun.generateEnrolURL());\r\n    httpServletResponse.setStatus(302);\r\n\r\n \r\n\r\nsimilarly I can create a get api with return type ModelAndView and in the jsp create submit \r\n\r\n    &lt;script&gt;\r\n        $(document).ready(function () {\r\n            $(&quot;body&quot;).append(&#39;&lt;form method=&quot;post&quot; action=&quot;&#39; + &#39;${endPoint}&#39; + &#39;&quot; id=&quot;superMan&quot;&gt;&lt;/form&gt;&#39;);\r\n            $(&quot;#superMan&quot;).append(&#39;&lt;input type=&quot;hidden&quot; name=&quot;SITE&quot; value=&quot;&#39; + &#39;${abc.site}&#39; + &#39;&quot;/&gt;\r\n    \t\t&lt;input type=&quot;hidden&quot; name=&quot;LANGUAGE&quot; value=&quot;&#39; + &#39;${abc.language}&#39; + &#39;&quot;/&gt;\r\n            $(&quot;#superMan&quot;).submit();\r\n        });\r\n    &lt;/script&gt;\r\n\r\n\r\nsince both of these can redirect to another page which approach should be used at what scenario ","title":"Difference between form submit and 302 redirection in spring","body":"<p>want to understand what is the difference between a form submit by creating a jsp page in Spring and doing a 302 API redirect</p>\n<p>for example I can create a get or post API redirect by redirecting to other url</p>\n<pre><code>httpServletResponse.setHeader(&quot;Location&quot;, fun.generateEnrolURL());\nhttpServletResponse.setStatus(302);\n</code></pre>\n<p>similarly I can create a get api with return type ModelAndView and in the jsp create submit</p>\n<pre><code>&lt;script&gt;\n    $(document).ready(function () {\n        $(&quot;body&quot;).append('&lt;form method=&quot;post&quot; action=&quot;' + '${endPoint}' + '&quot; id=&quot;superMan&quot;&gt;&lt;/form&gt;');\n        $(&quot;#superMan&quot;).append('&lt;input type=&quot;hidden&quot; name=&quot;SITE&quot; value=&quot;' + '${abc.site}' + '&quot;/&gt;\n        &lt;input type=&quot;hidden&quot; name=&quot;LANGUAGE&quot; value=&quot;' + '${abc.language}' + '&quot;/&gt;\n        $(&quot;#superMan&quot;).submit();\n    });\n&lt;/script&gt;\n</code></pre>\n<p>since both of these can redirect to another page which approach should be used at what scenario</p>\n"},{"tags":["java","hashmap","binary-tree","subtree"],"comments":[{"owner":{"account_id":11244318,"reputation":389,"user_id":8247530,"display_name":"Rifat Rubayatul Islam"},"score":3,"creation_date":1701081576,"post_id":77556195,"comment_id":136726500,"body_markdown":"If `m` doesn&#39;t contain any mapping for `str`, `m.get(str)` will return `null`. That would cause `NPE` when auto unboxing in `m.get(str)==1`","body":"If <code>m</code> doesn&#39;t contain any mapping for <code>str</code>, <code>m.get(str)</code> will return <code>null</code>. That would cause <code>NPE</code> when auto unboxing in <code>m.get(str)==1</code>"}],"owner":{"account_id":29206625,"reputation":1,"user_id":22375581,"display_name":"Flame Kaizer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1701082413,"answer_count":0,"score":-1,"last_activity_date":1701081218,"creation_date":1701081218,"question_id":77556195,"body_markdown":"We have a binary tree, find all duplicate subtrees. For each duplicate subtree, we only need to return the root node of any one of them. Two trees are duplicates if they have the same structure with the same node values.\r\n\r\ni tried below code. i expected to return - &quot;4 2&quot; but code is giving null pointer exception at line 30. i traversed the tree in inorder traversal. Stored each subtree in hashmap &#39;m&#39; in the form of string &#39;str&#39; and then updating their value by 1. if a subtree is encountered again then i print the root of that subtree and then update its value by one in hashmap. \r\n\r\n```\r\n// A java program to find all duplicate subtrees \r\n// in a binary tree.\r\nimport java.util.HashMap;\r\npublic class Duplicate_subtress {\r\n\r\n\t/* A binary tree node has data, pointer to\r\n\tleft child and a pointer to right child */\r\n\tstatic HashMap&lt;String, Integer&gt; m;\r\n\tstatic class Node {\r\n\t\tint data;\r\n\t\tNode left;\r\n\t\tNode right;\r\n\t\tNode(int data){\r\n\t\t\tthis.data = data;\r\n\t\t\tleft = null;\r\n\t\t\tright = null;\r\n\t\t}\r\n\t}\r\n\tstatic String inorder(Node node)\r\n\t{\r\n\t\tif (node == null)\r\n\t\t\treturn &quot;&quot;;\r\n\t\r\n\t\tString str = &quot;(&quot;;\r\n\t\tstr += inorder(node.left);\r\n\t\tstr += Integer.toString(node.data);\r\n\t\tstr += inorder(node.right);\r\n\t\tstr += &quot;)&quot;;\r\n\t\t\r\n\t\tif ( m.get(str)==1 ) // line 30\r\n\t\t\tSystem.out.print( node.data + &quot; &quot;);\r\n\t\r\n\t\tif (m.containsKey(str))\r\n\t\t\tm.put(str, m.get(str) + 1);\r\n\t\telse\r\n\t\t\tm.put(str, 1);\r\n\t\t\r\n\t\t\r\n\t\treturn str;\r\n\t}\r\n\t\r\n\t// Wrapper over inorder()\r\n\tstatic void printAllDups(Node root)\r\n\t{\r\n\t\tm = new HashMap&lt;&gt;();\r\n\t\tinorder(root);\r\n\t} \r\n\t// Driver code\r\n\tpublic static void main(String args[])\r\n\t{\r\n\t\tNode root = null;\r\n\t\troot = new Node(1);\r\n\t\troot.left = new Node(2);\r\n\t\troot.right = new Node(3);\r\n\t\troot.left.left = new Node(4);\r\n\t\troot.right.left = new Node(2);\r\n\t\troot.right.left.left = new Node(4);\r\n\t\troot.right.right = new Node(4);\r\n\t\tprintAllDups(root);\r\n\t}\r\n}\r\n\r\n \r\n```","title":"why am i getting java.lang.NullPointerException at line 30?","body":"<p>We have a binary tree, find all duplicate subtrees. For each duplicate subtree, we only need to return the root node of any one of them. Two trees are duplicates if they have the same structure with the same node values.</p>\n<p>i tried below code. i expected to return - &quot;4 2&quot; but code is giving null pointer exception at line 30. i traversed the tree in inorder traversal. Stored each subtree in hashmap 'm' in the form of string 'str' and then updating their value by 1. if a subtree is encountered again then i print the root of that subtree and then update its value by one in hashmap.</p>\n<pre><code>// A java program to find all duplicate subtrees \n// in a binary tree.\nimport java.util.HashMap;\npublic class Duplicate_subtress {\n\n    /* A binary tree node has data, pointer to\n    left child and a pointer to right child */\n    static HashMap&lt;String, Integer&gt; m;\n    static class Node {\n        int data;\n        Node left;\n        Node right;\n        Node(int data){\n            this.data = data;\n            left = null;\n            right = null;\n        }\n    }\n    static String inorder(Node node)\n    {\n        if (node == null)\n            return &quot;&quot;;\n    \n        String str = &quot;(&quot;;\n        str += inorder(node.left);\n        str += Integer.toString(node.data);\n        str += inorder(node.right);\n        str += &quot;)&quot;;\n        \n        if ( m.get(str)==1 ) // line 30\n            System.out.print( node.data + &quot; &quot;);\n    \n        if (m.containsKey(str))\n            m.put(str, m.get(str) + 1);\n        else\n            m.put(str, 1);\n        \n        \n        return str;\n    }\n    \n    // Wrapper over inorder()\n    static void printAllDups(Node root)\n    {\n        m = new HashMap&lt;&gt;();\n        inorder(root);\n    } \n    // Driver code\n    public static void main(String args[])\n    {\n        Node root = null;\n        root = new Node(1);\n        root.left = new Node(2);\n        root.right = new Node(3);\n        root.left.left = new Node(4);\n        root.right.left = new Node(2);\n        root.right.left.left = new Node(4);\n        root.right.right = new Node(4);\n        printAllDups(root);\n    }\n}\n\n \n</code></pre>\n"},{"tags":["java","windows","jboss","ejb-3.0","wildfly-10"],"owner":{"account_id":1293086,"reputation":277,"user_id":1244794,"accept_rate":60,"display_name":"Shrikant"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701081116,"creation_date":1701063351,"question_id":77554704,"body_markdown":"I am trying to deploy an ear on Wildfly server using standalone.bat executable in standalone/deployment. I have added required configuration in standalone.xml file but when deploying I get following error. Is there anything that I am missing here?\r\nSame error occurs when I try to deploy ear using admin console.\r\n\r\n    ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) WFLYCTL0013: Operation (&quot;deploy&quot;) failed - address: ([(&quot;deployment&quot; =&gt; &quot;my-rest-service-ear-1.0-SNAPSHOT.ear&quot;)]) - failure description: {\r\n    &quot;WFLYCTL0412: Required services that are not installed:&quot; =&gt; [&quot;jboss.ejb.pool-config.StrictMaxPool&quot;],\r\n\r\nHere is my standalone.xml config for the same:\r\n\r\n    &lt;session-bean&gt;\r\n                &lt;stateless&gt;\r\n                    &lt;bean-instance-pool-ref pool-name=&quot;mdb-strict-max-pool&quot;/&gt;\r\n\t\t\t\t\t&lt;bean-instance-pool-ref pool-name=&quot;slsb-strict-max-pool&quot;/&gt;\r\n                &lt;/stateless&gt;\r\n                &lt;stateful default-access-timeout=&quot;5000&quot; cache-ref=&quot;simple&quot; passivation-disabled-cache-ref=&quot;simple&quot;/&gt;\r\n                &lt;singleton default-access-timeout=&quot;5000&quot;/&gt;\r\n            &lt;/session-bean&gt;\r\n            &lt;pools&gt;\r\n                &lt;bean-instance-pools&gt;\r\n                    &lt;strict-max-pool name=&quot;mdb-strict-max-pool&quot; max-pool-size=&quot;20&quot; instance-acquisition-timeout=&quot;5&quot; instance-acquisition-timeout-unit=&quot;MINUTES&quot;/&gt;\r\n                    &lt;strict-max-pool name=&quot;slsb-strict-max-pool&quot; max-pool-size=&quot;20&quot; instance-acquisition-timeout=&quot;5&quot; instance-acquisition-timeout-unit=&quot;MINUTES&quot;/&gt;\r\n                &lt;/bean-instance-pools&gt;\r\n            &lt;/pools&gt;\r\n\r\nAny help would be much appreciated, thank you!","title":"Wildfly/JBoss error - Required services that are not installed jboss.ejb.pool-config.StrictMaxPool","body":"<p>I am trying to deploy an ear on Wildfly server using standalone.bat executable in standalone/deployment. I have added required configuration in standalone.xml file but when deploying I get following error. Is there anything that I am missing here?\nSame error occurs when I try to deploy ear using admin console.</p>\n<pre><code>ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) WFLYCTL0013: Operation (&quot;deploy&quot;) failed - address: ([(&quot;deployment&quot; =&gt; &quot;my-rest-service-ear-1.0-SNAPSHOT.ear&quot;)]) - failure description: {\n&quot;WFLYCTL0412: Required services that are not installed:&quot; =&gt; [&quot;jboss.ejb.pool-config.StrictMaxPool&quot;],\n</code></pre>\n<p>Here is my standalone.xml config for the same:</p>\n<pre><code>&lt;session-bean&gt;\n            &lt;stateless&gt;\n                &lt;bean-instance-pool-ref pool-name=&quot;mdb-strict-max-pool&quot;/&gt;\n                &lt;bean-instance-pool-ref pool-name=&quot;slsb-strict-max-pool&quot;/&gt;\n            &lt;/stateless&gt;\n            &lt;stateful default-access-timeout=&quot;5000&quot; cache-ref=&quot;simple&quot; passivation-disabled-cache-ref=&quot;simple&quot;/&gt;\n            &lt;singleton default-access-timeout=&quot;5000&quot;/&gt;\n        &lt;/session-bean&gt;\n        &lt;pools&gt;\n            &lt;bean-instance-pools&gt;\n                &lt;strict-max-pool name=&quot;mdb-strict-max-pool&quot; max-pool-size=&quot;20&quot; instance-acquisition-timeout=&quot;5&quot; instance-acquisition-timeout-unit=&quot;MINUTES&quot;/&gt;\n                &lt;strict-max-pool name=&quot;slsb-strict-max-pool&quot; max-pool-size=&quot;20&quot; instance-acquisition-timeout=&quot;5&quot; instance-acquisition-timeout-unit=&quot;MINUTES&quot;/&gt;\n            &lt;/bean-instance-pools&gt;\n        &lt;/pools&gt;\n</code></pre>\n<p>Any help would be much appreciated, thank you!</p>\n"},{"tags":["java","flyway","nosql"],"comments":[{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":1,"creation_date":1423559845,"post_id":28427460,"comment_id":45187284,"body_markdown":"I think that Fyway&#39;s documentation is clear enogh. How would you even migrate the schema of a schemaless database?","body":"I think that Fyway&#39;s documentation is clear enogh. How would you even migrate the schema of a schemaless database?"},{"owner":{"account_id":2337074,"reputation":660,"user_id":2049151,"accept_rate":40,"display_name":"maurocchi"},"score":0,"creation_date":1423565168,"post_id":28427460,"comment_id":45190356,"body_markdown":"In your opinion data in a schemaless database cannot change their form during the lifetime of an application?","body":"In your opinion data in a schemaless database cannot change their form during the lifetime of an application?"},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":0,"creation_date":1423566205,"post_id":28427460,"comment_id":45190905,"body_markdown":"This is not a matter of opinion. Schemaless databases do not have schemas and Flyway is first and foremost about schema migration. Additionally it is a tool which assumes JDBC as the connectivity API. JDBC assumes SQL as the database conversation language. All this is quite clear from Flyway&#39;s documentation, along with an exhaustive list of all the databases it supports.","body":"This is not a matter of opinion. Schemaless databases do not have schemas and Flyway is first and foremost about schema migration. Additionally it is a tool which assumes JDBC as the connectivity API. JDBC assumes SQL as the database conversation language. All this is quite clear from Flyway&#39;s documentation, along with an exhaustive list of all the databases it supports."}],"answers":[{"comments":[{"owner":{"account_id":2337074,"reputation":660,"user_id":2049151,"accept_rate":40,"display_name":"maurocchi"},"score":2,"creation_date":1423820592,"post_id":28450365,"comment_id":45312645,"body_markdown":"Although a better abstraction would be preferable (decoupling the Flyway API from JDBC), this is a good compromise. Thanks Axel!","body":"Although a better abstraction would be preferable (decoupling the Flyway API from JDBC), this is a good compromise. Thanks Axel!"}],"tags":[],"owner":{"account_id":142616,"reputation":34842,"user_id":350428,"accept_rate":59,"display_name":"Axel Fontaine"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1423645786,"creation_date":1423645786,"answer_id":28450365,"question_id":28427460,"body_markdown":"There is no explicit support at this time. What you can however do is use Flyway in combination with both a relational and a NoSQL db. Flyway would then keep its metadata table in the relational DB and you would write Java migrations to migrate the NoSQL datastore.","title":"Is it possible use Flyway to perform NoSQL migrations?","body":"<p>There is no explicit support at this time. What you can however do is use Flyway in combination with both a relational and a NoSQL db. Flyway would then keep its metadata table in the relational DB and you would write Java migrations to migrate the NoSQL datastore.</p>\n"},{"tags":[],"owner":{"account_id":1136251,"reputation":11,"user_id":1121273,"display_name":"Worawat"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1564924302,"creation_date":1564924302,"answer_id":57346849,"question_id":28427460,"body_markdown":"An alternative to flyway for MongoDB migration is Monjam (https://github.com/oun/monjam). It has gradle plugin to run the migration. You can write migration in java or js script.","title":"Is it possible use Flyway to perform NoSQL migrations?","body":"<p>An alternative to flyway for MongoDB migration is Monjam (<a href=\"https://github.com/oun/monjam\" rel=\"nofollow noreferrer\">https://github.com/oun/monjam</a>). It has gradle plugin to run the migration. You can write migration in java or js script.</p>\n"},{"tags":[],"owner":{"account_id":29717286,"reputation":76,"user_id":22775506,"display_name":"Adam Britt -Flyway PM"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1701081040,"creation_date":1701081040,"answer_id":77556175,"question_id":28427460,"body_markdown":"It is now possible to use Flyway to perform NoSQL Migrations and is not just designed for relational databases. Migrations can be written using JavaScript and can run in Flyway using Flyway &#39;migrate&#39; command for MongoDB. The MongoDB support is available in any version after v10.1.0. Other NoSQL Databases are going to be added in the future to Flyway such as Cassandra and Redis.","title":"Is it possible use Flyway to perform NoSQL migrations?","body":"<p>It is now possible to use Flyway to perform NoSQL Migrations and is not just designed for relational databases. Migrations can be written using JavaScript and can run in Flyway using Flyway 'migrate' command for MongoDB. The MongoDB support is available in any version after v10.1.0. Other NoSQL Databases are going to be added in the future to Flyway such as Cassandra and Redis.</p>\n"}],"owner":{"account_id":2337074,"reputation":660,"user_id":2049151,"accept_rate":40,"display_name":"maurocchi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12716,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":3,"score":7,"last_activity_date":1701081040,"creation_date":1423558394,"question_id":28427460,"body_markdown":"[Flyway](http://flywaydb.org/) can be configured to execute migrations on a NoSQL database (i.e. via Java API) or it is designed only for relational databases?","title":"Is it possible use Flyway to perform NoSQL migrations?","body":"<p><a href=\"http://flywaydb.org/\" rel=\"noreferrer\">Flyway</a> can be configured to execute migrations on a NoSQL database (i.e. via Java API) or it is designed only for relational databases?</p>\n"},{"tags":["java","class","methods"],"comments":[{"owner":{"account_id":280134,"reputation":9173,"user_id":575659,"accept_rate":93,"display_name":"dantuch"},"score":5,"creation_date":1348923658,"post_id":12652896,"comment_id":17067856,"body_markdown":"Google asking for **genercis**","body":"Google asking for <b>genercis</b>"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1701082473,"post_id":12652896,"comment_id":136726641,"body_markdown":"This is not legal syntax. Post the real code.","body":"This is not legal syntax. Post the real code."}],"answers":[{"tags":[],"owner":{"account_id":280134,"reputation":9173,"user_id":575659,"accept_rate":93,"display_name":"dantuch"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1348942660,"creation_date":1348924244,"answer_id":12652960,"question_id":12652896,"body_markdown":"`ClassA&lt;ClassB&gt;` Stands for `ClassA` that is using *generics* - one of java features \r\n\r\n`public class interface Set` \r\n\r\n this means that `Set` will be somewhat related to some other type (`E`). Set is holder for some objects. If you declare it as `Set&lt;String&gt;` you can put there only Strings, or something casted to String. That&#39;s the use of `&lt;E&gt;` here. \r\n\r\n`public class SocreManager extends ValueSortedMap` \r\n\r\nSocreManager is wrapper for `ValueSortedMap` it can add some new methods to `ValueSortedMap` but it also can add noting to it, and be used only as class name beautifier. If you add none features to SocreManager, than you will have everything the same as in `ValueSortedMap` but with shorter and simpler name - `SocreManager`. But looking at this name tells me that I will contain something more then just methods from super class. \r\n\r\n\r\n  ","title":"Cannot understand Java class definition","body":"<p><code>ClassA&lt;ClassB&gt;</code> Stands for <code>ClassA</code> that is using <em>generics</em> - one of java features </p>\n\n<p><code>public class interface Set</code> </p>\n\n<p>this means that <code>Set</code> will be somewhat related to some other type (<code>E</code>). Set is holder for some objects. If you declare it as <code>Set&lt;String&gt;</code> you can put there only Strings, or something casted to String. That's the use of <code>&lt;E&gt;</code> here. </p>\n\n<p><code>public class SocreManager extends ValueSortedMap</code> </p>\n\n<p>SocreManager is wrapper for <code>ValueSortedMap</code> it can add some new methods to <code>ValueSortedMap</code> but it also can add noting to it, and be used only as class name beautifier. If you add none features to SocreManager, than you will have everything the same as in <code>ValueSortedMap</code> but with shorter and simpler name - <code>SocreManager</code>. But looking at this name tells me that I will contain something more then just methods from super class. </p>\n"}],"owner":{"account_id":1351232,"reputation":3,"user_id":1290784,"display_name":"user1290784"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":132,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":12652960,"answer_count":1,"score":-1,"last_activity_date":1701080208,"creation_date":1348923539,"question_id":12652896,"body_markdown":"I have a problem with some Java coding. I saw this coding while I&#39;m studying Java and cannot understand it...\r\nBelow are some examples:\r\n\r\n    public class interface Set&lt;E&gt;\r\n\r\n    public class SocreManager extends ValueSortedMap&lt;String,Integer&gt;\r\n\r\nThe things that i cannot understand is the things inside the &lt;&gt; (in this example E and String,Integer ) \r\nWhat this &lt;&gt; mean?\r\nI Googled and I still cannot find a answer.","title":"Cannot understand Java class definition","body":"<p>I have a problem with some Java coding. I saw this coding while I'm studying Java and cannot understand it...\nBelow are some examples:</p>\n<pre><code>public class interface Set&lt;E&gt;\n\npublic class SocreManager extends ValueSortedMap&lt;String,Integer&gt;\n</code></pre>\n<p>The things that i cannot understand is the things inside the &lt;&gt; (in this example E and String,Integer )\nWhat this &lt;&gt; mean?\nI Googled and I still cannot find a answer.</p>\n"},{"tags":["java","arrays","spring","jsp","el"],"comments":[{"owner":{"account_id":3887004,"reputation":46525,"user_id":3218114,"accept_rate":84,"display_name":"Braj"},"score":0,"creation_date":1408388498,"post_id":25370235,"comment_id":39561239,"body_markdown":"share code that is not working for you for clear picture.","body":"share code that is not working for you for clear picture."},{"owner":{"account_id":1853886,"reputation":210617,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":0,"creation_date":1408388520,"post_id":25370235,"comment_id":39561250,"body_markdown":"How do you want to use it?","body":"How do you want to use it?"}],"answers":[{"comments":[{"owner":{"account_id":1853886,"reputation":210617,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":0,"creation_date":1408389334,"post_id":25370460,"comment_id":39561620,"body_markdown":"However, the array should certainly be set in some model classes through some business logic, not in JSP.","body":"However, the array should certainly be set in some model classes through some business logic, not in JSP."},{"owner":{"account_id":3062553,"reputation":9128,"user_id":3347384,"accept_rate":36,"display_name":"cchantep"},"score":0,"creation_date":1408389524,"post_id":25370460,"comment_id":39561708,"body_markdown":"Even if theorically that&#39;s better not to do it directly in JSP, as soon as it&#39;s put in the page context, then it can be resolved by EL expression.","body":"Even if theorically that&#39;s better not to do it directly in JSP, as soon as it&#39;s put in the page context, then it can be resolved by EL expression."}],"tags":[],"owner":{"account_id":3062553,"reputation":9128,"user_id":3347384,"accept_rate":36,"display_name":"cchantep"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1408389223,"creation_date":1408389223,"answer_id":25370460,"question_id":25370235,"body_markdown":"You can use scriptlet to use vanilla Java, in JSP1.x with `&lt;% /* Java */ %&gt;` block, in JSP2 with something like:\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;jsp:scriptlet&gt;&lt;![CDATA[\r\n    pageContext.setAttribute(&quot;myArray&quot;, new String[] { &quot;a&quot;, &quot;b&quot;, &quot;c&quot; });\r\n    ]]&gt;&lt;/jsp:scriptlet&gt;\r\n\r\n    &lt;!-- so then ... --&gt;\r\n    ${myArray} &lt;!-- or ... --&gt;\r\n    &lt;c:forEach items=&quot;${myArray}&quot; var=&quot;str&quot;&gt;\r\n      &lt;p&gt;${str}&lt;/p&gt;\r\n    &lt;/c:forEach&gt;","title":"Array literals in JSP Expression Language?","body":"<p>You can use scriptlet to use vanilla Java, in JSP1.x with <code>&lt;% /* Java */ %&gt;</code> block, in JSP2 with something like:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;jsp:scriptlet&gt;&lt;![CDATA[\npageContext.setAttribute(\"myArray\", new String[] { \"a\", \"b\", \"c\" });\n]]&gt;&lt;/jsp:scriptlet&gt;\n\n&lt;!-- so then ... --&gt;\n${myArray} &lt;!-- or ... --&gt;\n&lt;c:forEach items=\"${myArray}\" var=\"str\"&gt;\n  &lt;p&gt;${str}&lt;/p&gt;\n&lt;/c:forEach&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":146428,"reputation":9156,"user_id":356887,"accept_rate":78,"display_name":"xdhmoore"},"score":0,"creation_date":1408461983,"post_id":25371376,"comment_id":39593326,"body_markdown":"Thanks, I ended up putting it in the controller, as suggested.","body":"Thanks, I ended up putting it in the controller, as suggested."}],"tags":[],"owner":{"account_id":52822,"reputation":1089025,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1408394241,"creation_date":1408393040,"answer_id":25371376,"question_id":25370235,"body_markdown":"You could hack it together in a scriptlet-less way with a little help of maps, `&lt;jsp:useBean&gt;` and EL 2.2.\r\n\r\n&lt;!-- language: xhtml --&gt;\r\n\r\n    &lt;jsp:useBean id=&quot;map&quot; class=&quot;java.util.LinkedHashMap&quot; /&gt;\r\n    &lt;c:set target=&quot;${map}&quot; property=&quot;url&quot; value=&quot;${mk.url}&quot; /&gt;\r\n    &lt;c:set target=&quot;${map}&quot; property=&quot;otherUrl&quot; value=&quot;${mk.otherUrl}&quot; /&gt;\r\n    &lt;c:set target=&quot;${map}&quot; property=&quot;differentUrl&quot; value=&quot;${mk.differentUrl}&quot; /&gt;\r\n    &lt;c:set var=&quot;array&quot; value=&quot;${map.values().toArray()}&quot; /&gt;\r\n    \r\n    &lt;c:forEach items=&quot;${array}&quot; var=&quot;item&quot;&gt;\r\n    \t${item}&lt;br/&gt;\r\n    &lt;/c:forEach&gt;\r\n\r\nIf your environment doesn&#39;t support EL 2.2, just stick to map and access it via the map.\r\n\r\n&lt;!-- language: xhtml --&gt;\r\n\r\n    &lt;c:forEach items=&quot;${map}&quot; var=&quot;entry&quot;&gt;\r\n    \t${entry.value}&lt;br/&gt;\r\n    &lt;/c:forEach&gt;\r\n\r\nNoted should be that your underlying problem is bigger. You shouldn&#39;t be manipulating the model directly in the view. The controller is responsible for that. You should be altering the model in such way so that it&#39;s exactly what the view expects. E.g. by adding a property, or by letting the controller do the job.","title":"Array literals in JSP Expression Language?","body":"<p>You could hack it together in a scriptlet-less way with a little help of maps, <code>&lt;jsp:useBean&gt;</code> and EL 2.2.</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;jsp:useBean id=\"map\" class=\"java.util.LinkedHashMap\" /&gt;\n&lt;c:set target=\"${map}\" property=\"url\" value=\"${mk.url}\" /&gt;\n&lt;c:set target=\"${map}\" property=\"otherUrl\" value=\"${mk.otherUrl}\" /&gt;\n&lt;c:set target=\"${map}\" property=\"differentUrl\" value=\"${mk.differentUrl}\" /&gt;\n&lt;c:set var=\"array\" value=\"${map.values().toArray()}\" /&gt;\n\n&lt;c:forEach items=\"${array}\" var=\"item\"&gt;\n    ${item}&lt;br/&gt;\n&lt;/c:forEach&gt;\n</code></pre>\n\n<p>If your environment doesn't support EL 2.2, just stick to map and access it via the map.</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;c:forEach items=\"${map}\" var=\"entry\"&gt;\n    ${entry.value}&lt;br/&gt;\n&lt;/c:forEach&gt;\n</code></pre>\n\n<p>Noted should be that your underlying problem is bigger. You shouldn't be manipulating the model directly in the view. The controller is responsible for that. You should be altering the model in such way so that it's exactly what the view expects. E.g. by adding a property, or by letting the controller do the job.</p>\n"},{"comments":[{"owner":{"account_id":8333120,"reputation":832,"user_id":12868186,"display_name":"wpnpeiris"},"score":1,"creation_date":1701160389,"post_id":77556036,"comment_id":136737735,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77556036/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":4304566,"reputation":11,"user_id":3517325,"display_name":"user3517325"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701079607,"creation_date":1701079562,"answer_id":77556036,"question_id":25370235,"body_markdown":"fn:split does it for strings.\r\nLike for tag\r\n```\r\n&lt;tag extraParams=&quot;${fn:split(&#39;_target1,book&#39;, &#39;,&#39;)}&quot; /&gt;\r\n```","title":"Array literals in JSP Expression Language?","body":"<p>fn:split does it for strings.\nLike for tag</p>\n<pre><code>&lt;tag extraParams=&quot;${fn:split('_target1,book', ',')}&quot; /&gt;\n</code></pre>\n"}],"owner":{"account_id":146428,"reputation":9156,"user_id":356887,"accept_rate":78,"display_name":"xdhmoore"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2920,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":25371376,"answer_count":3,"score":0,"last_activity_date":1701079607,"creation_date":1408388365,"question_id":25370235,"body_markdown":"I&#39;ve been able to do Array literals in Thymeleaf&#39;s expression language before (using...OGNL?...I think...).  Now I am using Spring/JSP.  Do the JSP or Spring Expression Languages support Array Literals?  I can&#39;t find any reference to them.\r\n\r\n\r\n**UPDATE:**\r\nThis is basically what I&#39;m trying to do:\r\n\r\n\t&lt;c:set var=&quot;myUrls&quot; value=&quot;${new String[] {\r\n\t\tmk:getUrl(),\r\n\t\tmk:getOtherUrl(),\r\n\t\tmk:getDifferentUrl()\r\n    }}&quot; /&gt;\r\n","title":"Array literals in JSP Expression Language?","body":"<p>I've been able to do Array literals in Thymeleaf's expression language before (using...OGNL?...I think...).  Now I am using Spring/JSP.  Do the JSP or Spring Expression Languages support Array Literals?  I can't find any reference to them.</p>\n\n<p><strong>UPDATE:</strong>\nThis is basically what I'm trying to do:</p>\n\n<pre><code>&lt;c:set var=\"myUrls\" value=\"${new String[] {\n    mk:getUrl(),\n    mk:getOtherUrl(),\n    mk:getDifferentUrl()\n}}\" /&gt;\n</code></pre>\n"},{"tags":["java","spring","hibernate"],"answers":[{"tags":[],"owner":{"account_id":5438949,"reputation":1699,"user_id":4327527,"accept_rate":86,"display_name":"Milkmaid"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701079360,"creation_date":1701076848,"answer_id":77555746,"question_id":77554940,"body_markdown":"&quot;Job Post Table does not have a List applications field&quot; &lt; that is correct in 1:N relationship.\r\n\r\n&gt;     JobPosting &quot;owns many&quot; Application \r\n&gt;     Many Application belong to &quot;one&quot; JobPosting\r\n\r\nIn database that is represented as a column (**id**) in ***applications*** table.\r\nJPA then load all related applications with special query/(queries).\r\n\r\nI would also recommend to have a look on FetchType which tells whether the list will be load directly when loading JobPosting or after you use *get method*. The default type as well as behavior depends on the particular implementation of JPA.\r\n\r\n    EAGER\r\n    Defines that data must be eagerly fetched.\r\n    LAZY\r\n    Defines that data can be lazily fetched.\r\n\r\n","title":"List&lt;type&gt; applications is not listed in postgres. Java, spring boot, jpa, hibernate","body":"<p>&quot;Job Post Table does not have a List applications field&quot; &lt; that is correct in 1:N relationship.</p>\n<blockquote>\n<pre><code>JobPosting &quot;owns many&quot; Application \nMany Application belong to &quot;one&quot; JobPosting\n</code></pre>\n</blockquote>\n<p>In database that is represented as a column (<strong>id</strong>) in <em><strong>applications</strong></em> table.\nJPA then load all related applications with special query/(queries).</p>\n<p>I would also recommend to have a look on FetchType which tells whether the list will be load directly when loading JobPosting or after you use <em>get method</em>. The default type as well as behavior depends on the particular implementation of JPA.</p>\n<pre><code>EAGER\nDefines that data must be eagerly fetched.\nLAZY\nDefines that data can be lazily fetched.\n</code></pre>\n"}],"owner":{"account_id":30001356,"reputation":1,"user_id":22991279,"display_name":"kratos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1701086117,"answer_count":1,"score":0,"last_activity_date":1701079360,"creation_date":1701067273,"question_id":77554940,"body_markdown":"I&#39;m not familiar with using hibernate as much as I should be. I am able to Create a Job Post, I am also able to Send in an application for that. However, there seems to not be a connection between the two. The database has a &quot;jobs_id&quot; field, but the Job Post Table does not have a List&lt;Application&gt; applications field. I have done so many different combinations of code to figure this out and asked gpt 4 for help to no avail. See when I do a GET on postman for the candidates for the Job Post. Nothing shows up.\r\n\r\n\r\n    @Data\r\n    @Entity\r\n    @Table(name = &quot;applications&quot;, uniqueConstraints = {\r\n    @UniqueConstraint(columnNames = {&quot;email&quot;, &quot;jobs_id&quot;})})\r\n\r\n    public class Application {\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;jobs_id&quot;, referencedColumnName = &quot;id&quot;)\r\n    @JsonBackReference\r\n    private JobPosting jobPosting;\r\n\r\n\r\n\r\n    @Data\r\n    @Entity\r\n    @Table(name = &quot;jobs&quot;)\r\n    public class JobPosting {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n\r\n\r\n    @OneToMany(mappedBy = &quot;jobPosting&quot;, cascade = CascadeType.ALL)\r\n    @JsonManagedReference\r\n    private List&lt;Application&gt; applications = new ArrayList&lt;&gt;();\r\n\r\n\r\nThe Above code is the part that is not showing up in postgres. I saw another post on stackoverflow that faced a similar issue to this. But was not able to find a solution to my problem.\r\n\r\n","title":"List&lt;type&gt; applications is not listed in postgres. Java, spring boot, jpa, hibernate","body":"<p>I'm not familiar with using hibernate as much as I should be. I am able to Create a Job Post, I am also able to Send in an application for that. However, there seems to not be a connection between the two. The database has a &quot;jobs_id&quot; field, but the Job Post Table does not have a List applications field. I have done so many different combinations of code to figure this out and asked gpt 4 for help to no avail. See when I do a GET on postman for the candidates for the Job Post. Nothing shows up.</p>\n<pre><code>@Data\n@Entity\n@Table(name = &quot;applications&quot;, uniqueConstraints = {\n@UniqueConstraint(columnNames = {&quot;email&quot;, &quot;jobs_id&quot;})})\n\npublic class Application {\n\n@ManyToOne\n@JoinColumn(name = &quot;jobs_id&quot;, referencedColumnName = &quot;id&quot;)\n@JsonBackReference\nprivate JobPosting jobPosting;\n\n\n\n@Data\n@Entity\n@Table(name = &quot;jobs&quot;)\npublic class JobPosting {\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate Long id;\n\n\n\n@OneToMany(mappedBy = &quot;jobPosting&quot;, cascade = CascadeType.ALL)\n@JsonManagedReference\nprivate List&lt;Application&gt; applications = new ArrayList&lt;&gt;();\n</code></pre>\n<p>The Above code is the part that is not showing up in postgres. I saw another post on stackoverflow that faced a similar issue to this. But was not able to find a solution to my problem.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1701078764,"post_id":77555898,"comment_id":136726019,"body_markdown":"You need the datasource to initialze it. YOu now, indirectly, have a dependency of the datasource on the datasource.","body":"You need the datasource to initialze it. YOu now, indirectly, have a dependency of the datasource on the datasource."},{"owner":{"account_id":219754,"reputation":12930,"user_id":476828,"accept_rate":51,"display_name":"Subodh Joshi"},"score":0,"creation_date":1701078903,"post_id":77555898,"comment_id":136726039,"body_markdown":"Do you mean i have to remove `@DependsOnDatabaseInitialization`","body":"Do you mean i have to remove <code>@DependsOnDatabaseInitialization</code>"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1701078974,"post_id":77555898,"comment_id":136726059,"body_markdown":"Yes, from the datasource. The `dataSourceScriptDatabaseInitializer` needs the `DataSource` but the `DataSource` now depends on the `dataSourceScriptDatabaseInitializer`, thus a cycle. But why do you have this configuraiton at all if you are using Spring Boot? Spring Boot will automatically configure the datasource and entitymanager for you already? Also you shouldn&#39;t be using a `validationQuery` JDBC4+ have better means which are automatically used.","body":"Yes, from the datasource. The <code>dataSourceScriptDatabaseInitializer</code> needs the <code>DataSource</code> but the <code>DataSource</code> now depends on the <code>dataSourceScriptDatabaseInitializer</code>, thus a cycle. But why do you have this configuraiton at all if you are using Spring Boot? Spring Boot will automatically configure the datasource and entitymanager for you already? Also you shouldn&#39;t be using a <code>validationQuery</code> JDBC4+ have better means which are automatically used."},{"owner":{"account_id":219754,"reputation":12930,"user_id":476828,"accept_rate":51,"display_name":"Subodh Joshi"},"score":0,"creation_date":1701079141,"post_id":77555898,"comment_id":136726088,"body_markdown":"Thanks for your. Its existing code and working fine with the Springboot2.7..2 ,now with Latest Springboot release its started failing. Any example you can share how datasource can be configure in latest release.","body":"Thanks for your. Its existing code and working fine with the Springboot2.7..2 ,now with Latest Springboot release its started failing. Any example you can share how datasource can be configure in latest release."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1701079400,"post_id":77555898,"comment_id":136726129,"body_markdown":"You shouldn&#39;t have that code but just use `spring.datasource` properties. Remove that annotation from the method will make it work. Next I would work on removing code you don&#39;t actually need that Spring Boot already provides through auto configuration.","body":"You shouldn&#39;t have that code but just use <code>spring.datasource</code> properties. Remove that annotation from the method will make it work. Next I would work on removing code you don&#39;t actually need that Spring Boot already provides through auto configuration."},{"owner":{"account_id":219754,"reputation":12930,"user_id":476828,"accept_rate":51,"display_name":"Subodh Joshi"},"score":0,"creation_date":1701081003,"post_id":77555898,"comment_id":136726400,"body_markdown":"Removing the `@DependsOnDatabaseInitialization` now throwing this exception `Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;jpaSharedEM_entityManagerFactory&#39;: Cannot resolve reference to bean &#39;entityManagerFactory&#39; while setting constructor argument` and in details `Class org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider does not implement the requested interface jakarta.persistence.spi.PersistenceProvider`","body":"Removing the <code>@DependsOnDatabaseInitialization</code> now throwing this exception <code>Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;jpaSharedEM_entityManagerFactory&#39;: Cannot resolve reference to bean &#39;entityManagerFactory&#39; while setting constructor argument</code> and in details <code>Class org.springframework.orm.jpa.vendor.SpringHibernateJpaPersist&zwnj;&#8203;enceProvider does not implement the requested interface jakarta.persistence.spi.PersistenceProvider</code>"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1701081648,"post_id":77555898,"comment_id":136726511,"body_markdown":"You removed it from where? And as stated I would remove those beans and create the proper configuration in your `application.properties` or `yaml`. Next to that the error you now have feels like you are also mixing incompatible versions of Hiberate with Spring (the fact that you have all those beans makes me wonder what you have in your dependencies...).","body":"You removed it from where? And as stated I would remove those beans and create the proper configuration in your <code>application.properties</code> or <code>yaml</code>. Next to that the error you now have feels like you are also mixing incompatible versions of Hiberate with Spring (the fact that you have all those beans makes me wonder what you have in your dependencies...)."},{"owner":{"account_id":219754,"reputation":12930,"user_id":476828,"accept_rate":51,"display_name":"Subodh Joshi"},"score":0,"creation_date":1701090408,"post_id":77555898,"comment_id":136727969,"body_markdown":"I am using `Springboot3.2.0,spring-orm-6.1.1,jakarata-persitance-api-3.1.0,hibernate-core-6.3.1`","body":"I am using <code>Springboot3.2.0,spring-orm-6.1.1,jakarata-persitance-api-3.1&zwnj;&#8203;.0,hibernate-core-6.&zwnj;&#8203;3.1</code>"}],"owner":{"account_id":219754,"reputation":12930,"user_id":476828,"accept_rate":51,"display_name":"Subodh Joshi"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1701078330,"creation_date":1701078330,"question_id":77555898,"body_markdown":"In my existing code base when i am migrating from Springboot2.7.2 to Springboot3.2.0 and java8 to java17 .Spring-boot application failing with the error.\r\n\r\n    ***************************\r\n    APPLICATION FAILED TO START\r\n    ***************************\r\n    \r\n    Description:\r\n    \r\n    The dependencies of some of the beans in the application context form a cycle:\r\n    \r\n       webSecurityConfig (field private &lt;PackageName&gt;.WebSecurityConfig.securityService)\r\n          \r\n       securityService (field private &lt;PackageName&gt;.SecurityService.authenticationService)\r\n          \r\n       authenticationService (field private &lt;PackageName&gt;.AuthenticationService.systemParameterService)\r\n          \r\n       systemInitialService defined in file [C:\\&lt;PackageName&gt;\\SystemInitialService.class]\r\n          \r\n       userRepository1 defined in &lt;PackageName&gt;.UserRepository1 defined in @EnableJpaRepositories declared on WsApplication\r\n          \r\n       jpaSharedEM_entityManagerFactory\r\n    \r\n    |  dataSourceScriptDatabaseInitializer defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]\r\n    \r\n    \r\n     \r\n    Action:\r\n    \r\n    Despite circular references being allowed, the dependency cycle between beans could not be broken. Update your application to remove the dependency cycle.\r\n\r\nIf i removed the `@DependsOnDatabaseInitialization` annotation ,this issue will not appear again.\r\n\r\n    @Configuration\r\n    @EnableTransactionManagement\r\n    public class DatabaseConfig {\r\n    \r\n      private Properties hibernateProperties() {\r\n            Properties properties = new Properties();\r\n            properties.put(HIBERNATE_DIALECT, dialectMapping.get(dbType));\r\n            properties.put(HIBERNATE_JDBC_BATCH_SIZE, 20);\r\n            properties.put(HIBERNATE_JDBC_FATCH_SIZE, 20);\r\n            properties.put(HIBERNATE_GLOBALLY_QUOTED_IDENTIFIERS, false);\r\n            properties.put(HIBERNATE_ENABLE_LAZY_LOAD_NO_TRANS, true);\r\n            properties.put(HIBERNATE_CACHE_USE_SECOND_LEVEL_CACHE, false);\r\n            properties.put(HIBERNATE_CACHE_USE_QUERY_CACHE, false);\r\n            properties.put(JAVAX_PERSISTENCE_SHARED_CACHE_MODE, SharedCacheMode.ENABLE_SELECTIVE);\r\n    \r\n            if ((dbType).equalsIgnoreCase(Constants.Database.PSQL)) {\r\n                dbSchema = StringUtils.isBlank(dbSchema) ? dbUsername : dbSchema;\r\n                properties.put(HIBERNATE_DEFAULT_SCHEMA, dbSchema);\r\n            }\r\n            return properties;\r\n        }\r\n    \r\n        @Bean\r\n        @DependsOnDatabaseInitialization\r\n        public DataSource dataSource() {\r\n            DataSource ds = new DataSource();\r\n            ds.setDriverClassName(driverMapping.get(dbType));\r\n            ds.setUrl(dbUrl);\r\n            ds.setUsername(dbUsername);\r\n            ds.setPassword(decryptPassword(dbPassword));\r\n            ds.setInitialSize(initialSize);\r\n            ds.setMaxActive(maxActive);\r\n            ds.setMaxIdle(maxIdle);\r\n            ds.setMinIdle(minIdle);\r\n            ds.setTestWhileIdle(testWhileIdle);\r\n            ds.setMinEvictableIdleTimeMillis(minEvictableIdleTimeMillis);\r\n            ds.setTimeBetweenEvictionRunsMillis(timeBetweenEvicRunsMillis);\r\n            ds.setTestOnBorrow(testOnBorrow);\r\n            if(StringUtils.isNotBlank(validationQuery)){\r\n                ds.setValidationQuery(validationQuery);\r\n            }else if (dbType.equalsIgnoreCase(Constants.Database.ORACLE)){\r\n                ds.setValidationQuery(&quot;SELECT 1 FROM DUAL&quot;);\r\n            } else {\r\n                ds.setValidationQuery(&quot;SELECT 1&quot;);\r\n            }\r\n            ds.setValidationInterval(validationInterval);\r\n    \r\n            ds.setRemoveAbandoned(removeAbandoned);\r\n            ds.setRemoveAbandonedTimeout(removeAbandonedTimeOut);\r\n            ds.setMaxAge(maxAge);\r\n            ds.setLogValidationErrors(logValidationErrors);\r\n    \r\n            return ds;\r\n        }\r\n    \r\n        @Bean\r\n        public LocalContainerEntityManagerFactoryBean entityManagerFactory() {\r\n            LocalContainerEntityManagerFactoryBean entityManagerFactory = new LocalContainerEntityManagerFactoryBean();\r\n            entityManagerFactory.setDataSource(dataSource());\r\n            entityManagerFactory.setPackagesToScan(&quot;com.comptel&quot;);\r\n            entityManagerFactory.setJpaVendorAdapter(new HibernateJpaVendorAdapter());\r\n            entityManagerFactory.setJpaProperties(hibernateProperties());\r\n            entityManagerFactory.setSharedCacheMode(SharedCacheMode.ALL);\r\n            return entityManagerFactory;\r\n        }\r\n    \r\n        @Bean\r\n        @DependsOnDatabaseInitialization\r\n        public JpaTransactionManager transactionManager(LocalContainerEntityManagerFactoryBean entityManagerFactory) {\r\n            JpaTransactionManager transactionManager = new JpaTransactionManager();\r\n            transactionManager.setEntityManagerFactory(entityManagerFactory.getObject());\r\n            return transactionManager;\r\n        }\r\n    }\r\n\r\nthen it will start throwing \r\n\r\n&gt; defined in @EnableJpaRepositories declared on WsApplication: Cannot\r\n&gt; resolve reference to bean &#39;jpaSharedEM_entityManagerFactory&#39; while\r\n&gt; setting bean property &#39;entityManager&#39; Caused by:\r\n&gt; java.lang.IncompatibleClassChangeError: Class\r\n&gt; org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider\r\n&gt; does not implement the requested interface\r\n&gt; jakarta.persistence.spi.PersistenceProvider\r\n\r\nWhile i am using jakarta*. libraries in place of javax*.","title":"SpringBoot : @DependsOnDatabaseInitialization throwing Cicular Dependecy Exception","body":"<p>In my existing code base when i am migrating from Springboot2.7.2 to Springboot3.2.0 and java8 to java17 .Spring-boot application failing with the error.</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nThe dependencies of some of the beans in the application context form a cycle:\n\n   webSecurityConfig (field private &lt;PackageName&gt;.WebSecurityConfig.securityService)\n      \n   securityService (field private &lt;PackageName&gt;.SecurityService.authenticationService)\n      \n   authenticationService (field private &lt;PackageName&gt;.AuthenticationService.systemParameterService)\n      \n   systemInitialService defined in file [C:\\&lt;PackageName&gt;\\SystemInitialService.class]\n      \n   userRepository1 defined in &lt;PackageName&gt;.UserRepository1 defined in @EnableJpaRepositories declared on WsApplication\n      \n   jpaSharedEM_entityManagerFactory\n\n|  dataSourceScriptDatabaseInitializer defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]\n\n\n \nAction:\n\nDespite circular references being allowed, the dependency cycle between beans could not be broken. Update your application to remove the dependency cycle.\n</code></pre>\n<p>If i removed the <code>@DependsOnDatabaseInitialization</code> annotation ,this issue will not appear again.</p>\n<pre><code>@Configuration\n@EnableTransactionManagement\npublic class DatabaseConfig {\n\n  private Properties hibernateProperties() {\n        Properties properties = new Properties();\n        properties.put(HIBERNATE_DIALECT, dialectMapping.get(dbType));\n        properties.put(HIBERNATE_JDBC_BATCH_SIZE, 20);\n        properties.put(HIBERNATE_JDBC_FATCH_SIZE, 20);\n        properties.put(HIBERNATE_GLOBALLY_QUOTED_IDENTIFIERS, false);\n        properties.put(HIBERNATE_ENABLE_LAZY_LOAD_NO_TRANS, true);\n        properties.put(HIBERNATE_CACHE_USE_SECOND_LEVEL_CACHE, false);\n        properties.put(HIBERNATE_CACHE_USE_QUERY_CACHE, false);\n        properties.put(JAVAX_PERSISTENCE_SHARED_CACHE_MODE, SharedCacheMode.ENABLE_SELECTIVE);\n\n        if ((dbType).equalsIgnoreCase(Constants.Database.PSQL)) {\n            dbSchema = StringUtils.isBlank(dbSchema) ? dbUsername : dbSchema;\n            properties.put(HIBERNATE_DEFAULT_SCHEMA, dbSchema);\n        }\n        return properties;\n    }\n\n    @Bean\n    @DependsOnDatabaseInitialization\n    public DataSource dataSource() {\n        DataSource ds = new DataSource();\n        ds.setDriverClassName(driverMapping.get(dbType));\n        ds.setUrl(dbUrl);\n        ds.setUsername(dbUsername);\n        ds.setPassword(decryptPassword(dbPassword));\n        ds.setInitialSize(initialSize);\n        ds.setMaxActive(maxActive);\n        ds.setMaxIdle(maxIdle);\n        ds.setMinIdle(minIdle);\n        ds.setTestWhileIdle(testWhileIdle);\n        ds.setMinEvictableIdleTimeMillis(minEvictableIdleTimeMillis);\n        ds.setTimeBetweenEvictionRunsMillis(timeBetweenEvicRunsMillis);\n        ds.setTestOnBorrow(testOnBorrow);\n        if(StringUtils.isNotBlank(validationQuery)){\n            ds.setValidationQuery(validationQuery);\n        }else if (dbType.equalsIgnoreCase(Constants.Database.ORACLE)){\n            ds.setValidationQuery(&quot;SELECT 1 FROM DUAL&quot;);\n        } else {\n            ds.setValidationQuery(&quot;SELECT 1&quot;);\n        }\n        ds.setValidationInterval(validationInterval);\n\n        ds.setRemoveAbandoned(removeAbandoned);\n        ds.setRemoveAbandonedTimeout(removeAbandonedTimeOut);\n        ds.setMaxAge(maxAge);\n        ds.setLogValidationErrors(logValidationErrors);\n\n        return ds;\n    }\n\n    @Bean\n    public LocalContainerEntityManagerFactoryBean entityManagerFactory() {\n        LocalContainerEntityManagerFactoryBean entityManagerFactory = new LocalContainerEntityManagerFactoryBean();\n        entityManagerFactory.setDataSource(dataSource());\n        entityManagerFactory.setPackagesToScan(&quot;com.comptel&quot;);\n        entityManagerFactory.setJpaVendorAdapter(new HibernateJpaVendorAdapter());\n        entityManagerFactory.setJpaProperties(hibernateProperties());\n        entityManagerFactory.setSharedCacheMode(SharedCacheMode.ALL);\n        return entityManagerFactory;\n    }\n\n    @Bean\n    @DependsOnDatabaseInitialization\n    public JpaTransactionManager transactionManager(LocalContainerEntityManagerFactoryBean entityManagerFactory) {\n        JpaTransactionManager transactionManager = new JpaTransactionManager();\n        transactionManager.setEntityManagerFactory(entityManagerFactory.getObject());\n        return transactionManager;\n    }\n}\n</code></pre>\n<p>then it will start throwing</p>\n<blockquote>\n<p>defined in @EnableJpaRepositories declared on WsApplication: Cannot\nresolve reference to bean 'jpaSharedEM_entityManagerFactory' while\nsetting bean property 'entityManager' Caused by:\njava.lang.IncompatibleClassChangeError: Class\norg.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider\ndoes not implement the requested interface\njakarta.persistence.spi.PersistenceProvider</p>\n</blockquote>\n<p>While i am using jakarta*. libraries in place of javax*.</p>\n"},{"tags":["java","android","google-cloud-firestore","material-design","android-jetpack-compose-material3"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1701078805,"post_id":77555875,"comment_id":136726029,"body_markdown":"I&#39;m not sure I understand.\nWhat exactly in this code doesn&#39;t work the way you expect?\nTell us what is wrong with shared code. Do you have any errors?","body":"I&#39;m not sure I understand. What exactly in this code doesn&#39;t work the way you expect? Tell us what is wrong with shared code. Do you have any errors?"},{"owner":{"account_id":26899499,"reputation":1,"user_id":20476883,"display_name":"Li&#39;s hideout"},"score":0,"creation_date":1701416678,"post_id":77555875,"comment_id":136775320,"body_markdown":"@AlexMamo sorry, what I meant to ask is how can I listen to the typed string onto search bar. Seems like my ```searchView.getEditText().addTextChangedListener(new TextWatcher()``` is not working","body":"@AlexMamo sorry, what I meant to ask is how can I listen to the typed string onto search bar. Seems like my <code>searchView.getEditText().addTextChangedListener(new TextWatcher()</code> is not working"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1701436144,"post_id":77555875,"comment_id":136778422,"body_markdown":"&quot;is not working&quot; doesn&#39;t provide enough information so we can help. What exactly doesn&#39;t work? Do you have any errors?","body":"&quot;is not working&quot; doesn&#39;t provide enough information so we can help. What exactly doesn&#39;t work? Do you have any errors?"}],"owner":{"account_id":26899499,"reputation":1,"user_id":20476883,"display_name":"Li&#39;s hideout"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701078089,"creation_date":1701078089,"question_id":77555875,"body_markdown":"I&#39;ve tried to connect the Material Design Component Search Bar component into my Android Studio, but I have difficulties doing so.\r\n\r\n- Firstly, I&#39;m not sure whether `searchView.getEditText().setOnEditorActionListener` let me listen to the current typed string in the search Bar.\r\n\r\n- Secondly, I want to know how I can correctly display the list of results I put in a HashMap called ``` `searchResults ``` within the method ``` `updateSearchResultUI ```  .If the implementation is wrong, please correct me.\r\n\r\nonCreateView method in my fragment\r\n\r\n```\r\n@Override\r\npublic View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                         Bundle savedInstanceState) {\r\n    View view =inflater.inflate(R.layout.fragment_home_page, container, false);\r\n\r\n\r\n    //INSTANTIATE FIRESTORE\r\n    Firestore=FirebaseFirestore.getInstance();\r\n\r\n\r\n    //SEARCH BAR DECLARATION\r\n    searchBar=(SearchBar) view.findViewById(R.id.search_bar);\r\n    searchView=(SearchView)view.findViewById(R.id.search_view);\r\n\r\n    searchView.getEditText().setOnEditorActionListener(\r\n            (v, actionId, event) -&gt; {\r\n                searchBar.setText(searchView.getText());\r\n                searchView.getEditText().addTextChangedListener(new TextWatcher() {\r\n                    @Override\r\n                    public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {}\r\n                    @Override\r\n                    public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {}\r\n                    @Override\r\n                    public void afterTextChanged(Editable editable) {\r\n                        String searchText = editable.toString();\r\n                        performSearch(searchText, view);\r\n                    }\r\n                });\r\n                return false;\r\n            });\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    return view;\r\n}\r\n```\r\n\r\nperformSearch() method to search string currently typed in searchbar inside Firestore\r\n\r\n```\r\n\r\nprivate void performSearch(String searchText, View view) {\r\n    CollectionReference usersRef = Firestore.collection(&quot;Users&quot;);\r\n\r\n    Query query = usersRef.whereEqualTo(&quot;username&quot;, searchText);\r\n\r\n    query.get().addOnCompleteListener(task -&gt; {\r\n        if (task.isSuccessful()) {\r\n            List&lt;Map&lt;String, Object&gt;&gt; searchResults = new ArrayList&lt;&gt;();  // Directly work with Map\r\n\r\n            for (QueryDocumentSnapshot document : task.getResult()) {\r\n                Map&lt;String, Object&gt; userData = document.getData();\r\n                searchResults.add(userData);\r\n            }\r\n\r\n            updateSearchResultUI(searchResults, view);\r\n\r\n            // Update your UI with searchResults\r\n        } else {\r\n            // Handle errors\r\n            Log.e(TAG, &quot;Error getting documents: &quot;, task.getException());\r\n        }\r\n    });\r\n}\r\n```\r\n\r\nupdateSearchResultUI() to update the list of results from Firestore onto a List, then to update in SearchView UI\r\n\r\n```\r\npublic void updateSearchResultUI(List&lt;Map&lt;String, Object&gt;&gt; searchResults, View view) {\r\n    ListView listView = view.findViewById(R.id.listView);\r\n\r\n    // Create a list of strings to store the usernames\r\n    List&lt;String&gt; usernames = new ArrayList&lt;&gt;();\r\n\r\n    // Iterate through each search result map\r\n    for (Map&lt;String, Object&gt; result : searchResults) {\r\n        // Assuming &quot;username&quot; is the key for the username in the map\r\n        String username = (String) result.get(&quot;username&quot;);\r\n\r\n        // Add the username to the list\r\n        if (username != null) {\r\n            usernames.add(username);\r\n        }\r\n    }\r\n\r\n    // Create an ArrayAdapter to bind the data to the ListView\r\n    ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;&gt;(view.getContext(), android.R.layout.simple_list_item_1, usernames);\r\n\r\n    // Set the adapter to the ListView\r\n    listView.setAdapter(adapter);\r\n}\r\n```\r\n\r\nI&#39;m new in using Android Material Components, and I wish that I could get any help on how I can display my Firestore results seamlessly onto my UI. Thank you very much for your help.","title":"How can I listen to MDC search bar typed-in String, in order to display results onto SearchView UI?","body":"<p>I've tried to connect the Material Design Component Search Bar component into my Android Studio, but I have difficulties doing so.</p>\n<ul>\n<li><p>Firstly, I'm not sure whether <code>searchView.getEditText().setOnEditorActionListener</code> let me listen to the current typed string in the search Bar.</p>\n</li>\n<li><p>Secondly, I want to know how I can correctly display the list of results I put in a HashMap called <code>`searchResults</code> within the method <code>`updateSearchResultUI</code>  .If the implementation is wrong, please correct me.</p>\n</li>\n</ul>\n<p>onCreateView method in my fragment</p>\n<pre><code>@Override\npublic View onCreateView(LayoutInflater inflater, ViewGroup container,\n                         Bundle savedInstanceState) {\n    View view =inflater.inflate(R.layout.fragment_home_page, container, false);\n\n\n    //INSTANTIATE FIRESTORE\n    Firestore=FirebaseFirestore.getInstance();\n\n\n    //SEARCH BAR DECLARATION\n    searchBar=(SearchBar) view.findViewById(R.id.search_bar);\n    searchView=(SearchView)view.findViewById(R.id.search_view);\n\n    searchView.getEditText().setOnEditorActionListener(\n            (v, actionId, event) -&gt; {\n                searchBar.setText(searchView.getText());\n                searchView.getEditText().addTextChangedListener(new TextWatcher() {\n                    @Override\n                    public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {}\n                    @Override\n                    public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {}\n                    @Override\n                    public void afterTextChanged(Editable editable) {\n                        String searchText = editable.toString();\n                        performSearch(searchText, view);\n                    }\n                });\n                return false;\n            });\n\n\n\n\n\n\n\n    return view;\n}\n</code></pre>\n<p>performSearch() method to search string currently typed in searchbar inside Firestore</p>\n<pre><code>\nprivate void performSearch(String searchText, View view) {\n    CollectionReference usersRef = Firestore.collection(&quot;Users&quot;);\n\n    Query query = usersRef.whereEqualTo(&quot;username&quot;, searchText);\n\n    query.get().addOnCompleteListener(task -&gt; {\n        if (task.isSuccessful()) {\n            List&lt;Map&lt;String, Object&gt;&gt; searchResults = new ArrayList&lt;&gt;();  // Directly work with Map\n\n            for (QueryDocumentSnapshot document : task.getResult()) {\n                Map&lt;String, Object&gt; userData = document.getData();\n                searchResults.add(userData);\n            }\n\n            updateSearchResultUI(searchResults, view);\n\n            // Update your UI with searchResults\n        } else {\n            // Handle errors\n            Log.e(TAG, &quot;Error getting documents: &quot;, task.getException());\n        }\n    });\n}\n</code></pre>\n<p>updateSearchResultUI() to update the list of results from Firestore onto a List, then to update in SearchView UI</p>\n<pre><code>public void updateSearchResultUI(List&lt;Map&lt;String, Object&gt;&gt; searchResults, View view) {\n    ListView listView = view.findViewById(R.id.listView);\n\n    // Create a list of strings to store the usernames\n    List&lt;String&gt; usernames = new ArrayList&lt;&gt;();\n\n    // Iterate through each search result map\n    for (Map&lt;String, Object&gt; result : searchResults) {\n        // Assuming &quot;username&quot; is the key for the username in the map\n        String username = (String) result.get(&quot;username&quot;);\n\n        // Add the username to the list\n        if (username != null) {\n            usernames.add(username);\n        }\n    }\n\n    // Create an ArrayAdapter to bind the data to the ListView\n    ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;&gt;(view.getContext(), android.R.layout.simple_list_item_1, usernames);\n\n    // Set the adapter to the ListView\n    listView.setAdapter(adapter);\n}\n</code></pre>\n<p>I'm new in using Android Material Components, and I wish that I could get any help on how I can display my Firestore results seamlessly onto my UI. Thank you very much for your help.</p>\n"},{"tags":["java","android","firebase"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1700778369,"post_id":77539435,"comment_id":136698670,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1700835396,"post_id":77539435,"comment_id":136705111,"body_markdown":"I&#39;m not sure I understand.\nWhat exactly in this code doesn&#39;t work the way you expect?\nTell us what is wrong with shared code. Do you have any errors? Please respond using @AlexMamo","body":"I&#39;m not sure I understand. What exactly in this code doesn&#39;t work the way you expect? Tell us what is wrong with shared code. Do you have any errors? Please respond using @AlexMamo"},{"owner":{"account_id":29538162,"reputation":1,"user_id":22637398,"display_name":"Kitlolz012"},"score":0,"creation_date":1700852635,"post_id":77539435,"comment_id":136707543,"body_markdown":"@AlexMamo image file does not exist at uri but that said image is already in my firebase realtime database and already display in my application","body":"@AlexMamo image file does not exist at uri but that said image is already in my firebase realtime database and already display in my application"}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1701160559,"post_id":77554621,"comment_id":136737761,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77554621/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":30000833,"reputation":1,"user_id":22990866,"display_name":"Lalaji ghoyal"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701061662,"creation_date":1701061662,"answer_id":77554621,"question_id":77539435,"body_markdown":"You&#39;re updating various fields such as name, address, etc. and also handling the upload of images to Firebase Storage.\r\n\r\n - Ensure that the fileExists() method is working as expected. If the imageUri is coming from the gallery or camera, it might not represent a local file path directly. You may need to handle different types of Uri schemes, such as content:// and file://.\r\n\r\n- The code uses a CountDownLatch to wait for all image uploads to complete. While this approach works, you might want to explore using Firebase&#39;s Tasks.whenAllComplete() or Tasks.whenAllSuccess() for a more streamlined way to handle multiple asynchronous tasks.\r\n\r\nPlease try this to might it solve your problem. Thanks.","title":"image file does not exist at uri","body":"<p>You're updating various fields such as name, address, etc. and also handling the upload of images to Firebase Storage.</p>\n<ul>\n<li><p>Ensure that the fileExists() method is working as expected. If the imageUri is coming from the gallery or camera, it might not represent a local file path directly. You may need to handle different types of Uri schemes, such as content:// and file://.</p>\n</li>\n<li><p>The code uses a CountDownLatch to wait for all image uploads to complete. While this approach works, you might want to explore using Firebase's Tasks.whenAllComplete() or Tasks.whenAllSuccess() for a more streamlined way to handle multiple asynchronous tasks.</p>\n</li>\n</ul>\n<p>Please try this to might it solve your problem. Thanks.</p>\n"},{"tags":[],"owner":{"account_id":29439484,"reputation":94,"user_id":22557788,"display_name":"Davit Hovhannisyan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701078082,"creation_date":1701078082,"answer_id":77555874,"question_id":77539435,"body_markdown":"Add additional logging statements to trace the flow of execution and identify where the code might be failing.\r\n\r\n    Log.d(TAG, &quot;Checking file existence for Uri: &quot; + imageUri.toString());\r\n    if (fileExists(imageUri)) {\r\n        Log.d(TAG, &quot;File exists. Proceeding with upload.&quot;);\r\n        // your ccode\r\n    } else {\r\n        Log.e(TAG, &quot;Image file does not exist at Uri: &quot; + imageUri.toString());\r\n     \r\n\r\n   latch.countDown();\r\n}\r\n\r\n\r\nalso check the existence of a file like this:\r\n\r\n    private boolean fileExists(Uri uri) {\r\n        if (uri != null) {\r\n            try (InputStream inputStream = getContentResolver().openInputStream(uri)) {\r\n                return inputStream != null;\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n\r\nFinally, make sure that your Firebase Storage rules allow read and write operations.\r\n\r\n","title":"image file does not exist at uri","body":"<p>Add additional logging statements to trace the flow of execution and identify where the code might be failing.</p>\n<pre><code>Log.d(TAG, &quot;Checking file existence for Uri: &quot; + imageUri.toString());\nif (fileExists(imageUri)) {\n    Log.d(TAG, &quot;File exists. Proceeding with upload.&quot;);\n    // your ccode\n} else {\n    Log.e(TAG, &quot;Image file does not exist at Uri: &quot; + imageUri.toString());\n \n</code></pre>\n<p>latch.countDown();\n}</p>\n<p>also check the existence of a file like this:</p>\n<pre><code>private boolean fileExists(Uri uri) {\n    if (uri != null) {\n        try (InputStream inputStream = getContentResolver().openInputStream(uri)) {\n            return inputStream != null;\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n    return false;\n}\n</code></pre>\n<p>Finally, make sure that your Firebase Storage rules allow read and write operations.</p>\n"}],"owner":{"account_id":29538162,"reputation":1,"user_id":22637398,"display_name":"Kitlolz012"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1701078082,"creation_date":1700770534,"question_id":77539435,"body_markdown":"The issue i am facing is that the image that it is saying not exist is the one that&#39;s already in the app or display on the app also it&#39;s already in the firebase realtime database\r\n\r\nThe code are:\r\n\r\n\r\n```\r\n\r\n\r\n private void update(String hotelName, String hotelAddress, String hotelDescription, List&lt;Uri&gt; imageUris, String hotelContact,\r\n\r\n                        String hotelEmail, List&lt;String&gt; roomTypes, String cancellationPolicy, String hotelId, String amenitiesHotel,\r\n\r\n                        String gcashNumber, String gcashName, String reservationFee, double latitude, double longitude) {\r\n\r\n        DatabaseReference hotelsRef = databaseReference.child(&quot;hotels&quot;);\r\n\r\n        Query query = hotelsRef.orderByChild(&quot;user_id&quot;).equalTo(userId);\r\n\r\n        query.addListenerForSingleValueEvent(new ValueEventListener() {\r\n\r\n            @Override\r\n\r\n            public void onDataChange(@NonNull com.google.firebase.database.DataSnapshot dataSnapshot) {\r\n\r\n                if (dataSnapshot.exists()) {\r\n\r\n                    for (com.google.firebase.database.DataSnapshot childSnapshot : dataSnapshot.getChildren()) {\r\n\r\n                        String hotelId = childSnapshot.getKey();\r\n\r\n                        DatabaseReference hotelRef = hotelsRef.child(hotelId);\r\n\r\n                        hotelRef.child(&quot;name&quot;).setValue(hotelName);\r\n\r\n                        hotelRef.child(&quot;address&quot;).setValue(hotelAddress);\r\n\r\n                        hotelRef.child(&quot;description&quot;).setValue(hotelDescription);\r\n\r\n                        hotelRef.child(&quot;contact&quot;).setValue(hotelContact);\r\n\r\n                        hotelRef.child(&quot;email&quot;).setValue(hotelEmail);\r\n\r\n                        hotelRef.child(&quot;cancellationPolicy&quot;).setValue(cancellationPolicy);\r\n\r\n                        hotelRef.child(&quot;amenities&quot;).setValue(amenitiesHotel);\r\n\r\n                        hotelRef.child(&quot;gcashNumber&quot;).setValue(gcashNumber);\r\n\r\n                        hotelRef.child(&quot;gcashName&quot;).setValue(gcashName);\r\n\r\n                        hotelRef.child(&quot;reservationFee&quot;).setValue(reservationFee);\r\n\r\n                        hotelRef.child(&quot;latitude&quot;).setValue(latitude);\r\n\r\n                        hotelRef.child(&quot;longitude&quot;).setValue(longitude);\r\n\r\n                        saveRoomTypes(hotelId, roomTypes);\r\n\r\n                        if (!imageUris.isEmpty()) {\r\n\r\n                            List&lt;String&gt; imageUrls = new ArrayList&lt;&gt;();\r\n\r\n                            AtomicInteger uploadCount = new AtomicInteger(0);\r\n\r\n                            // Use a CountDownLatch to wait for all uploads to complete\r\n\r\n                            CountDownLatch latch = new CountDownLatch(imageUris.size());\r\n\r\n                            for (int i = 0; i &lt; imageUris.size(); i++) {\r\n\r\n                                Uri imageUri = imageUris.get(i);\r\n\r\n                                if (imageUri != null) {\r\n\r\n                                    // Check if the file exists before attempting to upload\r\n\r\n                                    if (fileExists(imageUri)) {\r\n\r\n                                        StorageReference imageRef = storageReference.child(&quot;hotel_images/&quot; + hotelId + &quot;/image&quot; + (i + 1));\r\n\r\n                                        UploadTask uploadTask = imageRef.putFile(imageUri);\r\n\r\n                                        uploadTask.addOnSuccessListener(taskSnapshot -&gt; {\r\n\r\n                                            imageRef.getDownloadUrl().addOnSuccessListener(downloadUri -&gt; {\r\n\r\n                                                String imageUrl = downloadUri.toString();\r\n\r\n                                                imageUrls.add(imageUrl);\r\n\r\n                                                if (uploadCount.incrementAndGet() == imageUris.size()) {\r\n\r\n                                                    // All images uploaded, update the database\r\n\r\n                                                    save(hotelId, imageUrls, hotelName, hotelAddress, hotelDescription, hotelContact,\r\n\r\n                                                            hotelEmail, roomTypes, cancellationPolicy, amenitiesHotel, gcashNumber, gcashName, reservationFee, latitude, longitude);\r\n\r\n                                                    // Release the latch when all uploads are complete\r\n\r\n                                                    latch.countDown();\r\n\r\n                                                }\r\n\r\n                                            }).addOnFailureListener(e -&gt; {\r\n\r\n                                                Log.e(&quot;image upload&quot;, &quot;Firebase Storage Error: &quot; + e.getMessage());\r\n\r\n                                                latch.countDown(); // Release the latch even if there&#39;s an error\r\n\r\n                                            });\r\n\r\n                                        }).addOnFailureListener(e -&gt; {\r\n\r\n                                            Log.e(&quot;image upload&quot;, &quot;Error during upload: &quot; + e.getMessage());\r\n\r\n                                            latch.countDown(); // Release the latch even if there&#39;s an error\r\n\r\n                                        });\r\n\r\n                                    } else {\r\n\r\n                                        Log.e(TAG, &quot;Image file does not exist at Uri: &quot; + imageUri.toString());\r\n\r\n                                        latch.countDown(); // Release the latch in case of file not found\r\n\r\n                                    }\r\n\r\n                                } else {\r\n\r\n                                    Log.e(TAG, &quot;ImageUri is null. Handle this case accordingly.&quot;);\r\n\r\n                                    latch.countDown(); // Release the latch in case of null Uri\r\n\r\n                                }\r\n\r\n                            }\r\n\r\n                            try {\r\n\r\n                                // Wait for all uploads to complete before proceeding\r\n\r\n                                latch.await();\r\n\r\n                            } catch (InterruptedException e) {\r\n\r\n                                e.printStackTrace();\r\n\r\n                            }\r\n\r\n                        } else {\r\n\r\n                            // If no images, update the database directly\r\n\r\n                            save(hotelId, null, hotelName, hotelAddress, hotelDescription, hotelContact,\r\n\r\n                                    hotelEmail, roomTypes, cancellationPolicy, amenitiesHotel, gcashNumber, gcashName, reservationFee, latitude, longitude);\r\n\r\n                        }\r\n\r\n                    }\r\n\r\n                }\r\n\r\n            }\r\n\r\n            @Override\r\n\r\n            public void onCancelled(@NonNull DatabaseError databaseError) {\r\n\r\n                Log.e(&quot;update&quot;, &quot;error&quot; + databaseError.getMessage());\r\n\r\n            }\r\n\r\n        });\r\n\r\n    }\r\n\r\n    \r\n\r\n    // Function to check if a file exists at the given Uri\r\n\r\n    private boolean fileExists(Uri uri) {\r\n\r\n        if (uri != null) {\r\n\r\n            File file = new File(uri.getPath());\r\n\r\n            return file.exists();\r\n\r\n        }\r\n\r\n        return false;\r\n\r\n    }\r\n```\r\n\r\n\r\n\r\n\r\nI already check the rules etc..\r\n\r\nAlso if I upload the the second or more images it&#39;s not updating or its not going to the storage or realtime database.\r\nThankyou","title":"image file does not exist at uri","body":"<p>The issue i am facing is that the image that it is saying not exist is the one that's already in the app or display on the app also it's already in the firebase realtime database</p>\n<p>The code are:</p>\n<pre><code>\n\n private void update(String hotelName, String hotelAddress, String hotelDescription, List&lt;Uri&gt; imageUris, String hotelContact,\n\n                        String hotelEmail, List&lt;String&gt; roomTypes, String cancellationPolicy, String hotelId, String amenitiesHotel,\n\n                        String gcashNumber, String gcashName, String reservationFee, double latitude, double longitude) {\n\n        DatabaseReference hotelsRef = databaseReference.child(&quot;hotels&quot;);\n\n        Query query = hotelsRef.orderByChild(&quot;user_id&quot;).equalTo(userId);\n\n        query.addListenerForSingleValueEvent(new ValueEventListener() {\n\n            @Override\n\n            public void onDataChange(@NonNull com.google.firebase.database.DataSnapshot dataSnapshot) {\n\n                if (dataSnapshot.exists()) {\n\n                    for (com.google.firebase.database.DataSnapshot childSnapshot : dataSnapshot.getChildren()) {\n\n                        String hotelId = childSnapshot.getKey();\n\n                        DatabaseReference hotelRef = hotelsRef.child(hotelId);\n\n                        hotelRef.child(&quot;name&quot;).setValue(hotelName);\n\n                        hotelRef.child(&quot;address&quot;).setValue(hotelAddress);\n\n                        hotelRef.child(&quot;description&quot;).setValue(hotelDescription);\n\n                        hotelRef.child(&quot;contact&quot;).setValue(hotelContact);\n\n                        hotelRef.child(&quot;email&quot;).setValue(hotelEmail);\n\n                        hotelRef.child(&quot;cancellationPolicy&quot;).setValue(cancellationPolicy);\n\n                        hotelRef.child(&quot;amenities&quot;).setValue(amenitiesHotel);\n\n                        hotelRef.child(&quot;gcashNumber&quot;).setValue(gcashNumber);\n\n                        hotelRef.child(&quot;gcashName&quot;).setValue(gcashName);\n\n                        hotelRef.child(&quot;reservationFee&quot;).setValue(reservationFee);\n\n                        hotelRef.child(&quot;latitude&quot;).setValue(latitude);\n\n                        hotelRef.child(&quot;longitude&quot;).setValue(longitude);\n\n                        saveRoomTypes(hotelId, roomTypes);\n\n                        if (!imageUris.isEmpty()) {\n\n                            List&lt;String&gt; imageUrls = new ArrayList&lt;&gt;();\n\n                            AtomicInteger uploadCount = new AtomicInteger(0);\n\n                            // Use a CountDownLatch to wait for all uploads to complete\n\n                            CountDownLatch latch = new CountDownLatch(imageUris.size());\n\n                            for (int i = 0; i &lt; imageUris.size(); i++) {\n\n                                Uri imageUri = imageUris.get(i);\n\n                                if (imageUri != null) {\n\n                                    // Check if the file exists before attempting to upload\n\n                                    if (fileExists(imageUri)) {\n\n                                        StorageReference imageRef = storageReference.child(&quot;hotel_images/&quot; + hotelId + &quot;/image&quot; + (i + 1));\n\n                                        UploadTask uploadTask = imageRef.putFile(imageUri);\n\n                                        uploadTask.addOnSuccessListener(taskSnapshot -&gt; {\n\n                                            imageRef.getDownloadUrl().addOnSuccessListener(downloadUri -&gt; {\n\n                                                String imageUrl = downloadUri.toString();\n\n                                                imageUrls.add(imageUrl);\n\n                                                if (uploadCount.incrementAndGet() == imageUris.size()) {\n\n                                                    // All images uploaded, update the database\n\n                                                    save(hotelId, imageUrls, hotelName, hotelAddress, hotelDescription, hotelContact,\n\n                                                            hotelEmail, roomTypes, cancellationPolicy, amenitiesHotel, gcashNumber, gcashName, reservationFee, latitude, longitude);\n\n                                                    // Release the latch when all uploads are complete\n\n                                                    latch.countDown();\n\n                                                }\n\n                                            }).addOnFailureListener(e -&gt; {\n\n                                                Log.e(&quot;image upload&quot;, &quot;Firebase Storage Error: &quot; + e.getMessage());\n\n                                                latch.countDown(); // Release the latch even if there's an error\n\n                                            });\n\n                                        }).addOnFailureListener(e -&gt; {\n\n                                            Log.e(&quot;image upload&quot;, &quot;Error during upload: &quot; + e.getMessage());\n\n                                            latch.countDown(); // Release the latch even if there's an error\n\n                                        });\n\n                                    } else {\n\n                                        Log.e(TAG, &quot;Image file does not exist at Uri: &quot; + imageUri.toString());\n\n                                        latch.countDown(); // Release the latch in case of file not found\n\n                                    }\n\n                                } else {\n\n                                    Log.e(TAG, &quot;ImageUri is null. Handle this case accordingly.&quot;);\n\n                                    latch.countDown(); // Release the latch in case of null Uri\n\n                                }\n\n                            }\n\n                            try {\n\n                                // Wait for all uploads to complete before proceeding\n\n                                latch.await();\n\n                            } catch (InterruptedException e) {\n\n                                e.printStackTrace();\n\n                            }\n\n                        } else {\n\n                            // If no images, update the database directly\n\n                            save(hotelId, null, hotelName, hotelAddress, hotelDescription, hotelContact,\n\n                                    hotelEmail, roomTypes, cancellationPolicy, amenitiesHotel, gcashNumber, gcashName, reservationFee, latitude, longitude);\n\n                        }\n\n                    }\n\n                }\n\n            }\n\n            @Override\n\n            public void onCancelled(@NonNull DatabaseError databaseError) {\n\n                Log.e(&quot;update&quot;, &quot;error&quot; + databaseError.getMessage());\n\n            }\n\n        });\n\n    }\n\n    \n\n    // Function to check if a file exists at the given Uri\n\n    private boolean fileExists(Uri uri) {\n\n        if (uri != null) {\n\n            File file = new File(uri.getPath());\n\n            return file.exists();\n\n        }\n\n        return false;\n\n    }\n</code></pre>\n<p>I already check the rules etc..</p>\n<p>Also if I upload the the second or more images it's not updating or its not going to the storage or realtime database.\nThankyou</p>\n"},{"tags":["java","selenium-webdriver","selenium-firefoxdriver"],"owner":{"account_id":30002272,"reputation":1,"user_id":22991994,"display_name":"ANMOL KUMAR"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701076548,"creation_date":1701076548,"question_id":77555708,"body_markdown":"here is the snippet of the code which is causing problem.\r\n\r\n```\r\n        //list of trains after clicking on the search button\r\n        List&lt;WebElement&gt; listOfTrains = driver.findElements(By.xpath(&quot;//div[@class=&#39;form-group no-pad col-xs-12 bull-back border-all&#39;]&quot;));\r\n\r\n        //filtering the specific train you want to book\r\n        WebElement desiredTrain=listOfTrains.stream()\r\n                                            .filter(train-&gt;train.findElement(By.xpath(&quot;//div[@class=&#39;col-sm-5 col-xs-11 train-heading&#39;]/strong&quot;))\r\n                                            .getText()\r\n                                            .contains(&quot;AADR VANDEBHARAT (22448)&quot;))\r\n                                            .findFirst()\r\n                                            .orElse(null);\r\n```\r\n\r\nIn above case, &#39;AADR VANDEBHARAT (22448)&#39; is the first WebElement in the list of WebElements (listOfTrains). listOfTrains has already 38 WebElements in it, which are the different trains appeared after clicking on search button.\r\n\r\nThe **main problem** is that, when choosing first element of the list (viz., the div containing &#39;AADR VANDEBHARAT (22448)&#39;), it&#39;s working fine, and I&#39;m able to automate till payment page. But the thing turns south, when I choose train other than the first one (like &#39;SVDK VANDEBHARAT (22440)&#39;). It&#39;ll give me the NullPointerException. I&#39;ve attached some images for your reference.\r\n\r\n[NullPointerException](https://i.stack.imgur.com/wVz2m.png) \r\n\r\n[IRCTC webpage](https://i.stack.imgur.com/5sAwg.png)","title":"Trying to automate the IRCTC site but facing NullPointerException while filtering the train from the search results","body":"<p>here is the snippet of the code which is causing problem.</p>\n<pre><code>        //list of trains after clicking on the search button\n        List&lt;WebElement&gt; listOfTrains = driver.findElements(By.xpath(&quot;//div[@class='form-group no-pad col-xs-12 bull-back border-all']&quot;));\n\n        //filtering the specific train you want to book\n        WebElement desiredTrain=listOfTrains.stream()\n                                            .filter(train-&gt;train.findElement(By.xpath(&quot;//div[@class='col-sm-5 col-xs-11 train-heading']/strong&quot;))\n                                            .getText()\n                                            .contains(&quot;AADR VANDEBHARAT (22448)&quot;))\n                                            .findFirst()\n                                            .orElse(null);\n</code></pre>\n<p>In above case, 'AADR VANDEBHARAT (22448)' is the first WebElement in the list of WebElements (listOfTrains). listOfTrains has already 38 WebElements in it, which are the different trains appeared after clicking on search button.</p>\n<p>The <strong>main problem</strong> is that, when choosing first element of the list (viz., the div containing 'AADR VANDEBHARAT (22448)'), it's working fine, and I'm able to automate till payment page. But the thing turns south, when I choose train other than the first one (like 'SVDK VANDEBHARAT (22440)'). It'll give me the NullPointerException. I've attached some images for your reference.</p>\n<p><a href=\"https://i.stack.imgur.com/wVz2m.png\" rel=\"nofollow noreferrer\">NullPointerException</a></p>\n<p><a href=\"https://i.stack.imgur.com/5sAwg.png\" rel=\"nofollow noreferrer\">IRCTC webpage</a></p>\n"},{"tags":["java","oracle","spring-boot","driver"],"comments":[{"owner":{"account_id":4209497,"reputation":2852,"user_id":3447603,"accept_rate":80,"display_name":"Pijotrek"},"score":1,"creation_date":1548150478,"post_id":54305348,"comment_id":95430582,"body_markdown":"You need the OJDBC driver","body":"You need the OJDBC driver"},{"owner":{"account_id":2386002,"reputation":5151,"user_id":2086966,"accept_rate":73,"display_name":"smilyface"},"score":0,"creation_date":1548225783,"post_id":54305348,"comment_id":95461699,"body_markdown":"Check my answer on `spring.datasource.driver.class=oracle.jdbc.driver.OracleDriver` it should be `driver.class-name`","body":"Check my answer on <code>spring.datasource.driver.class=oracle.jdbc.driver.OracleDriv&zwnj;&#8203;er</code> it should be <code>driver.class-name</code>"},{"owner":{"account_id":2386002,"reputation":5151,"user_id":2086966,"accept_rate":73,"display_name":"smilyface"},"score":2,"creation_date":1558330099,"post_id":54305348,"comment_id":99050258,"body_markdown":"@Dhanushka - If the issue fixed, please select correct answer. It might be useful for others. Cheers","body":"@Dhanushka - If the issue fixed, please select correct answer. It might be useful for others. Cheers"}],"answers":[{"comments":[{"owner":{"account_id":8008499,"reputation":225,"user_id":6041068,"display_name":"Dhanushka Sampath"},"score":2,"creation_date":1548150930,"post_id":54305392,"comment_id":95430899,"body_markdown":"I already tried it in InteliJ. It successfully build it in IDE. But when I try to deploy it in kubernetes, it gives the error. please help","body":"I already tried it in InteliJ. It successfully build it in IDE. But when I try to deploy it in kubernetes, it gives the error. please help"},{"owner":{"account_id":1135699,"reputation":30287,"user_id":1120793,"accept_rate":35,"display_name":"Darshan Mehta"},"score":0,"creation_date":1548151783,"post_id":54305392,"comment_id":95431508,"body_markdown":"Are you creating a fat jar? If yes then you can include driver jar explicitly.","body":"Are you creating a fat jar? If yes then you can include driver jar explicitly."}],"tags":[],"owner":{"account_id":1135699,"reputation":30287,"user_id":1120793,"accept_rate":35,"display_name":"Darshan Mehta"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1548150432,"creation_date":1548150432,"answer_id":54305392,"question_id":54305348,"body_markdown":"You need to download Oracle JDBC driver jar file and add it into your classpath in order for your application to load `oracle.jdbc.OracleDriver` class.\r\n\r\nDriver can be downloaded from [here][1].\r\n\r\n\r\n  [1]: https://www.oracle.com/technetwork/apps-tech/jdbc-10201-088211.html","title":"How to connect to oracle database using spring boot","body":"<p>You need to download Oracle JDBC driver jar file and add it into your classpath in order for your application to load <code>oracle.jdbc.OracleDriver</code> class.</p>\n\n<p>Driver can be downloaded from <a href=\"https://www.oracle.com/technetwork/apps-tech/jdbc-10201-088211.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":2386002,"reputation":5151,"user_id":2086966,"accept_rate":73,"display_name":"smilyface"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1548225745,"creation_date":1548150847,"answer_id":54305510,"question_id":54305348,"body_markdown":"Maven dependency: \r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.oracle&lt;/groupId&gt;\r\n            &lt;artifactId&gt;ojdbc7&lt;/artifactId&gt;\r\n            &lt;version&gt;12.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\t\t\r\napplication.yml file : \r\n\r\n    # Oracle settings\r\n    spring.datasource.url=jdbc:oracle:thin:@localhost:1521:xe\r\n    spring.datasource.username=system\r\n    spring.datasource.password=password\r\n    spring.datasource.driver.class-name=oracle.jdbc.OracleDriver\r\n\r\n**Note** : **driver.class-name**\r\n\r\nSometimes you may need to add `spring.jpa.database-platform=org.hibernate.dialect.Oracle10gDialect` to application.yml file (for Oracle 10).\r\n","title":"How to connect to oracle database using spring boot","body":"<p>Maven dependency: </p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.oracle&lt;/groupId&gt;\n        &lt;artifactId&gt;ojdbc7&lt;/artifactId&gt;\n        &lt;version&gt;12.1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>application.yml file : </p>\n\n<pre><code># Oracle settings\nspring.datasource.url=jdbc:oracle:thin:@localhost:1521:xe\nspring.datasource.username=system\nspring.datasource.password=password\nspring.datasource.driver.class-name=oracle.jdbc.OracleDriver\n</code></pre>\n\n<p><strong>Note</strong> : <strong>driver.class-name</strong></p>\n\n<p>Sometimes you may need to add <code>spring.jpa.database-platform=org.hibernate.dialect.Oracle10gDialect</code> to application.yml file (for Oracle 10).</p>\n"},{"tags":[],"owner":{"account_id":5534918,"reputation":1308,"user_id":4393594,"display_name":"Nirmala"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1548206278,"creation_date":1548206278,"answer_id":54318725,"question_id":54305348,"body_markdown":"You can check if the [SpringBoot app][1] example helps. \r\n\r\n\r\n  [1]: https://github.com/oracle/oracle-db-examples/tree/master/java/jdbc/SpringBootApp/src","title":"How to connect to oracle database using spring boot","body":"<p>You can check if the <a href=\"https://github.com/oracle/oracle-db-examples/tree/master/java/jdbc/SpringBootApp/src\" rel=\"nofollow noreferrer\">SpringBoot app</a> example helps. </p>\n"},{"tags":[],"owner":{"account_id":16500264,"reputation":289,"user_id":11921751,"display_name":"Abdullah Imran"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1565692896,"creation_date":1565691824,"answer_id":57475781,"question_id":54305348,"body_markdown":"Add below dependency and repository in the pom\r\n    \r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;com.oracle&lt;/groupId&gt;\r\n            &lt;artifactId&gt;ojdbc6&lt;/artifactId&gt;\r\n            &lt;version&gt;11.2.0.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n    &lt;repositories&gt;\r\n    \t&lt;repository&gt;\r\n    \t\t&lt;id&gt;codelds&lt;/id&gt;\r\n    \t\t&lt;url&gt;https://code.lds.org/nexus/content/groups/main-repo&lt;/url&gt;\r\n    \t&lt;/repository&gt;\r\n       &lt;/repositories&gt;\r\n    \r\nAlso add the following properties in the application.properties\r\n    \r\n        spring.datasource.driver-class-name=oracle.jdbc.driver.OracleDriver\r\n        spring.datasource.url=jdbc:oracle:thin:@localhost:1521:xe(SID)\r\n        spring.datasource.username=system\r\n        spring.datasource.password=pw","title":"How to connect to oracle database using spring boot","body":"<p>Add below dependency and repository in the pom</p>\n\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;com.oracle&lt;/groupId&gt;\n        &lt;artifactId&gt;ojdbc6&lt;/artifactId&gt;\n        &lt;version&gt;11.2.0.3&lt;/version&gt;\n    &lt;/dependency&gt;\n\n&lt;repositories&gt;\n    &lt;repository&gt;\n        &lt;id&gt;codelds&lt;/id&gt;\n        &lt;url&gt;https://code.lds.org/nexus/content/groups/main-repo&lt;/url&gt;\n    &lt;/repository&gt;\n   &lt;/repositories&gt;\n</code></pre>\n\n<p>Also add the following properties in the application.properties</p>\n\n<pre><code>    spring.datasource.driver-class-name=oracle.jdbc.driver.OracleDriver\n    spring.datasource.url=jdbc:oracle:thin:@localhost:1521:xe(SID)\n    spring.datasource.username=system\n    spring.datasource.password=pw\n</code></pre>\n"},{"comments":[{"owner":{"account_id":16955930,"reputation":11,"user_id":12264329,"display_name":"user12264329"},"score":0,"creation_date":1571847555,"post_id":58527155,"comment_id":103378652,"body_markdown":"Another inconsistency? spring.datasource.driver.class-name v/s spring.datasource.driver-class-name","body":"Another inconsistency? spring.datasource.driver.class-name v/s spring.datasource.driver-class-name"},{"owner":{"account_id":10192855,"reputation":2443,"user_id":8347081,"display_name":"mypetlion"},"score":3,"creation_date":1571847730,"post_id":58527155,"comment_id":103378730,"body_markdown":"Requests for clarification or further information from OP should go in a comment, not an answer. Please only post an answer if it actually answers the question.","body":"Requests for clarification or further information from OP should go in a comment, not an answer. Please only post an answer if it actually answers the question."},{"owner":{"account_id":16955930,"reputation":11,"user_id":12264329,"display_name":"user12264329"},"score":0,"creation_date":1571854165,"post_id":58527155,"comment_id":103381503,"body_markdown":"By the way, I found the answers to my questions:use spring.datasource.driver-class-name=oracle.jdbc.OracleDriver for &gt;Oracle 9i (no **driver** needed) However, if I unpack the ojdbc6.jar I see both classes there. And the correct attribute to use is spring.datasource.driver-class-name","body":"By the way, I found the answers to my questions:use spring.datasource.driver-class-name=oracle.jdbc.OracleDriver for &gt;Oracle 9i (no <b>driver</b> needed) However, if I unpack the ojdbc6.jar I see both classes there. And the correct attribute to use is spring.datasource.driver-class-name"}],"tags":[],"owner":{"account_id":16955930,"reputation":11,"user_id":12264329,"display_name":"user12264329"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1571854339,"creation_date":1571847406,"answer_id":58527155,"question_id":54305348,"body_markdown":"Update the db driver in the file `Application.yml` to\r\n\r\n    spring.datasource.driver-class-name=oracle.jdbc.**driver**.OracleDriver or spring.datasource.driver-class-name=oracle.jdbc.OracleDriver","title":"How to connect to oracle database using spring boot","body":"<p>Update the db driver in the file <code>Application.yml</code> to</p>\n\n<pre><code>spring.datasource.driver-class-name=oracle.jdbc.**driver**.OracleDriver or spring.datasource.driver-class-name=oracle.jdbc.OracleDriver\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19503564,"reputation":311,"user_id":14269062,"display_name":"Ritunjay kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636721482,"creation_date":1636716323,"answer_id":69942191,"question_id":54305348,"body_markdown":"For Oracle DB,\r\n  \r\nMaven settings:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.oracle.ojdbc&lt;/groupId&gt;\r\n        &lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\r\n        &lt;version&gt;19.3.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nProperties settings:\r\n        \r\n    spring.datasource.url=jdbc:oracle:thin:@172.16.10.12:1521/orcl11\r\n    spring.datasource.username=[username]\r\n    spring.datasource.password=[password]\r\n   \r\nDon&#39;t use\r\n\r\n    spring.datasource.driver-class-name=oracle.jdbc.OracleDriver\r\n\r\n","title":"How to connect to oracle database using spring boot","body":"<p>For Oracle DB,</p>\n<p>Maven settings:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.oracle.ojdbc&lt;/groupId&gt;\n    &lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\n    &lt;version&gt;19.3.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Properties settings:</p>\n<pre><code>spring.datasource.url=jdbc:oracle:thin:@172.16.10.12:1521/orcl11\nspring.datasource.username=[username]\nspring.datasource.password=[password]\n</code></pre>\n<p>Don't use</p>\n<pre><code>spring.datasource.driver-class-name=oracle.jdbc.OracleDriver\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23286604,"reputation":1,"user_id":17369346,"display_name":"priyansh490"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655095621,"creation_date":1655095621,"answer_id":72597864,"question_id":54305348,"body_markdown":" - You just need to add these two dependencies in your `pom.xml` file and it will work fine.\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n","title":"How to connect to oracle database using spring boot","body":"<ul>\n<li><p>You just need to add these two dependencies in your <code>pom.xml</code> file and it will work fine.</p>\n<pre><code> &lt;dependency&gt;\n     &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n     &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n &lt;/dependency&gt;\n\n &lt;dependency&gt;\n     &lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\n     &lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\n     &lt;scope&gt;runtime&lt;/scope&gt;\n &lt;/dependency&gt;\n</code></pre>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":25417607,"reputation":3,"user_id":19224225,"display_name":"Amit Kumar Tiwari"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671717394,"creation_date":1671717394,"answer_id":74889518,"question_id":54305348,"body_markdown":"**Use this configuration in Application.properties.**\r\n\r\n  \r\n\r\n     spring.jpa.show-sql=true\r\n\r\n    spring.h2.console.enabled=true\r\n    \r\n    #Using SID\r\n    spring.datasource.url= jdbc:oracle:thin:@localhost:1521:ORCL\r\n    spring.datasource.username=SYSTEM\t\r\n    spring.datasource.password=SYSTEM\r\n    spring.datasource.driver-class-name=oracle.jdbc.OracleDriver\r\n    \r\n    #hibernate configs\r\n    spring.jpa.database-platform=org.hibernate.dialect.OracleDialect\r\n    spring.jpa.hibernate.ddl-auto= update \r\n\r\nCaution: \r\n1. org.hibernate.dialect.Oracle10gDialect has been deprecated.\r\n2. You need to check  { jdbc:oracle:thin:@localhost:1521:ORCL} if the last part of this DATABASE URL is {ORCL} OR {XE}. SEE THE ATTACHED SCREENSHOT.\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bsVqG.png\r\n\r\n","title":"How to connect to oracle database using spring boot","body":"<p><strong>Use this configuration in Application.properties.</strong></p>\n<pre><code> spring.jpa.show-sql=true\n\nspring.h2.console.enabled=true\n\n#Using SID\nspring.datasource.url= jdbc:oracle:thin:@localhost:1521:ORCL\nspring.datasource.username=SYSTEM   \nspring.datasource.password=SYSTEM\nspring.datasource.driver-class-name=oracle.jdbc.OracleDriver\n\n#hibernate configs\nspring.jpa.database-platform=org.hibernate.dialect.OracleDialect\nspring.jpa.hibernate.ddl-auto= update \n</code></pre>\n<p>Caution:</p>\n<ol>\n<li>org.hibernate.dialect.Oracle10gDialect has been deprecated.</li>\n<li>You need to check  { jdbc:oracle:thin:@localhost:1521:ORCL} if the last part of this DATABASE URL is {ORCL} OR {XE}. SEE THE ATTACHED SCREENSHOT.\n<a href=\"https://i.stack.imgur.com/bsVqG.png\" rel=\"nofollow noreferrer\">enter image description here</a></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":16351408,"reputation":123,"user_id":11813982,"display_name":"Shrip"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701076538,"creation_date":1701076538,"answer_id":77555706,"question_id":54305348,"body_markdown":"I used `implementation &#39;com.oracle:ojdbc7:12.1.0.2.0` gradle dependency. \r\n\r\nAdded below in the application.properties. \r\n\r\n```\r\n#hibernate configs\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.Oracle10gDialect\r\n\r\n# database details\r\nspring.datasource.url=jdbc:oracle:thin:@//&lt;host&gt;:&lt;port&gt;/&lt;database&gt;\r\nspring.datasource.username=&lt;username&gt;\r\nspring.datasource.password=&lt;password&gt;\r\nspring.datasource.driver.class-name=oracle.jdbc.OracleDriver\r\n```\r\n\r\nYou can use different `OracleDialect` if its not working for you. \r\n\r\nFor me above code is working without any issue.","title":"How to connect to oracle database using spring boot","body":"<p>I used <code>implementation 'com.oracle:ojdbc7:12.1.0.2.0</code> gradle dependency.</p>\n<p>Added below in the application.properties.</p>\n<pre><code>#hibernate configs\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.Oracle10gDialect\n\n# database details\nspring.datasource.url=jdbc:oracle:thin:@//&lt;host&gt;:&lt;port&gt;/&lt;database&gt;\nspring.datasource.username=&lt;username&gt;\nspring.datasource.password=&lt;password&gt;\nspring.datasource.driver.class-name=oracle.jdbc.OracleDriver\n</code></pre>\n<p>You can use different <code>OracleDialect</code> if its not working for you.</p>\n<p>For me above code is working without any issue.</p>\n"}],"owner":{"account_id":8008499,"reputation":225,"user_id":6041068,"display_name":"Dhanushka Sampath"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67538,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":9,"score":6,"last_activity_date":1701076538,"creation_date":1548150291,"question_id":54305348,"body_markdown":"I&#39;m working with Spring Boot application and trying to access an Oracle database. Although it was successfully built, it gives the error below when I am trying to deploy in Kubernetes.\r\n\r\nI changed the `application.properties` file and `pom.xml` file with below configurations:\r\n\r\n**Application.yml**\r\n\r\n     spring.datasource.url=jdbc:oracle:thin:@&lt;IP&gt;:1521:orcl\r\n     spring.datasource.username=&lt;username&gt;\r\n     spring.datasource.password=&lt;password&gt;\r\n     spring.datasource.driver.class=oracle.jdbc.driver.OracleDriver\r\n\r\n**POM file**\r\n\r\n     &lt;dependency&gt;\r\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n         &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n     &lt;/dependency&gt;\r\n\r\n**Exception**\r\n\r\n&gt;   \r\n    ***************************\r\n    APPLICATION FAILED TO START\r\n    ***************************\r\n     Description:\r\n     Failed to bind properties under &#39;&#39; to com.zaxxer.hikari.HikariDataSource:\r\n         Property: driverclassname\r\n        Value: oracle.jdbc.OracleDriver\r\n        Origin: &quot;driverClassName&quot; from property source &quot;source&quot;\r\n        Reason: Failed to load driver class oracle.jdbc.OracleDriver in either of \r\n                HikariConfig class loader or Thread context classloader\r\n     Action:\r\n     Update your application&#39;s configuration   \r\n\r\n","title":"How to connect to oracle database using spring boot","body":"<p>I'm working with Spring Boot application and trying to access an Oracle database. Although it was successfully built, it gives the error below when I am trying to deploy in Kubernetes.</p>\n\n<p>I changed the <code>application.properties</code> file and <code>pom.xml</code> file with below configurations:</p>\n\n<p><strong>Application.yml</strong></p>\n\n<pre><code> spring.datasource.url=jdbc:oracle:thin:@&lt;IP&gt;:1521:orcl\n spring.datasource.username=&lt;username&gt;\n spring.datasource.password=&lt;password&gt;\n spring.datasource.driver.class=oracle.jdbc.driver.OracleDriver\n</code></pre>\n\n<p><strong>POM file</strong></p>\n\n<pre><code> &lt;dependency&gt;\n     &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n     &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n &lt;/dependency&gt;\n</code></pre>\n\n<p><strong>Exception</strong></p>\n\n<blockquote>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n Description:\n Failed to bind properties under '' to com.zaxxer.hikari.HikariDataSource:\n     Property: driverclassname\n    Value: oracle.jdbc.OracleDriver\n    Origin: \"driverClassName\" from property source \"source\"\n    Reason: Failed to load driver class oracle.jdbc.OracleDriver in either of \n            HikariConfig class loader or Thread context classloader\n Action:\n Update your application's configuration   \n</code></pre>\n</blockquote>\n"},{"tags":["java","spring","mongodb","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1701078872,"post_id":77555687,"comment_id":136726037,"body_markdown":"Remove the surefire plugin (spring boot already has this). Remove the `version` for the `spring-boot-maven-plugin` it will be managed by Spring BOot (and currently you are mixing versions of Spring Boot).","body":"Remove the surefire plugin (spring boot already has this). Remove the <code>version</code> for the <code>spring-boot-maven-plugin</code> it will be managed by Spring BOot (and currently you are mixing versions of Spring Boot)."},{"owner":{"account_id":29323477,"reputation":1,"user_id":22466545,"display_name":"yiranng"},"score":0,"creation_date":1701083930,"post_id":77555687,"comment_id":136726855,"body_markdown":"okay, thank you I will try this!!","body":"okay, thank you I will try this!!"}],"owner":{"account_id":29323477,"reputation":1,"user_id":22466545,"display_name":"yiranng"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701076343,"creation_date":1701076343,"question_id":77555687,"body_markdown":"I am working with springboot, and I get this error. Have been fixing this for hours but I still cannot find the solution. The error shows when I try to `mvn clean install`,\r\n\r\n\r\n```\r\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:3.0.0:test (default-test) on project mdb-spring-boot:\r\n```\r\n\r\nand when I try to mvn spring-boot:run, this error shows\r\n\r\n\r\n```\r\n[ERROR] Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:2.7.2:run (default-cli) on project mdb-spring-boot: Application finished with exit code: 1 -&gt; [Help 1]\r\n```\r\n\r\n\r\n\r\nthis is my `pom.xml`\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.14&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;mdb-spring-boot&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;mdb-spring-boot&lt;/name&gt;\r\n\t&lt;description&gt;Spring boot mongodb&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mongodb-driver-sync&lt;/artifactId&gt;\r\n        &lt;version&gt;4.11.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.7.2&lt;/version&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t &lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\nthanks a lot!!\r\n\r\n\r\n&gt; I have searched a lot of solutions here, but nothing fixes my error. ","title":"MAVEN - Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:2.7.2:run (default-cli)","body":"<p>I am working with springboot, and I get this error. Have been fixing this for hours but I still cannot find the solution. The error shows when I try to <code>mvn clean install</code>,</p>\n<pre><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:3.0.0:test (default-test) on project mdb-spring-boot:\n</code></pre>\n<p>and when I try to mvn spring-boot:run, this error shows</p>\n<pre><code>[ERROR] Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:2.7.2:run (default-cli) on project mdb-spring-boot: Application finished with exit code: 1 -&gt; [Help 1]\n</code></pre>\n<p>this is my <code>pom.xml</code></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.14&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;mdb-spring-boot&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;mdb-spring-boot&lt;/name&gt;\n    &lt;description&gt;Spring boot mongodb&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n            &lt;dependency&gt;\n        &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\n        &lt;artifactId&gt;mongodb-driver-sync&lt;/artifactId&gt;\n        &lt;version&gt;4.11.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.7.2&lt;/version&gt;\n            &lt;/plugin&gt;\n             &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.0&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>thanks a lot!!</p>\n<blockquote>\n<p>I have searched a lot of solutions here, but nothing fixes my error.</p>\n</blockquote>\n"},{"tags":["java","json","spring-boot","jwt-simple"],"comments":[{"owner":{"account_id":12060587,"reputation":3933,"user_id":8819761,"display_name":"Jeroen Steenbeeke"},"score":3,"creation_date":1661428578,"post_id":73486900,"comment_id":129773164,"body_markdown":"Usually when methods are deprecated the documentation contains an explanation of why this is the case and what alternative approach you should take.","body":"Usually when methods are deprecated the documentation contains an explanation of why this is the case and what alternative approach you should take."},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1661439433,"post_id":73486900,"comment_id":129777895,"body_markdown":"Please don&#39;t post images of code or errors; see [ask]","body":"Please don&#39;t post images of code or errors; see <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>"}],"answers":[{"tags":[],"owner":{"account_id":4614845,"reputation":281,"user_id":3741723,"display_name":"Charles"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1668896353,"creation_date":1664205200,"answer_id":73856251,"question_id":73486900,"body_markdown":"Take a look at this [documentation][1]. You might want to do something like this.\r\n\r\n    Jwts.parserBuilder().setSigningKey(key).build().parseClaimsJws(jwt);\r\n\r\n\r\n  [1]: https://github.com/jwtk/jjwt#jws-create-key","title":"How to fix parser() is deprecated and setSigningKey(java.security.Key) is deprecated?","body":"<p>Take a look at this <a href=\"https://github.com/jwtk/jjwt#jws-create-key\" rel=\"noreferrer\">documentation</a>. You might want to do something like this.</p>\n<pre><code>Jwts.parserBuilder().setSigningKey(key).build().parseClaimsJws(jwt);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25967173,"reputation":61,"user_id":19682964,"display_name":"Carl Hyslop"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1676806087,"creation_date":1676806073,"answer_id":75499799,"question_id":73486900,"body_markdown":"Charles answer solves one problem, but there are two deprecated methods here: parser() and setSigningKey().  In order to avoid both deprecations, the following code is required:\r\n\r\n    SecretKey secret = Keys.hmacShaKeyFor(Decoders.BASE64.decode(key));\r\n    Jwts.parserBuilder().setSigningKey(secret).build().parseClaimsJws(jwt);\r\n\r\nYou can read more about this at https://github.com/jwtk/jjwt#jws-create-key","title":"How to fix parser() is deprecated and setSigningKey(java.security.Key) is deprecated?","body":"<p>Charles answer solves one problem, but there are two deprecated methods here: parser() and setSigningKey().  In order to avoid both deprecations, the following code is required:</p>\n<pre><code>SecretKey secret = Keys.hmacShaKeyFor(Decoders.BASE64.decode(key));\nJwts.parserBuilder().setSigningKey(secret).build().parseClaimsJws(jwt);\n</code></pre>\n<p>You can read more about this at <a href=\"https://github.com/jwtk/jjwt#jws-create-key\" rel=\"noreferrer\">https://github.com/jwtk/jjwt#jws-create-key</a></p>\n"},{"tags":[],"owner":{"account_id":1473411,"reputation":650,"user_id":1384404,"accept_rate":50,"display_name":"Kimo_do"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1701075960,"creation_date":1698919697,"answer_id":77408683,"question_id":73486900,"body_markdown":"Since 0.12.0 to get all claims from Token (also to validate it):\r\n\r\n```java\r\nprivate Claims getAllClaimsFromToken(String token) {\r\n\treturn Jwts.parser()\r\n\t\t.verifyWith(getPublicSigningKey())\r\n\t\t.build()\r\n\t\t.parseSignedClaims(token)\r\n\t\t.getPayload();\r\n}\r\n```","title":"How to fix parser() is deprecated and setSigningKey(java.security.Key) is deprecated?","body":"<p>Since 0.12.0 to get all claims from Token (also to validate it):</p>\n<pre class=\"lang-java prettyprint-override\"><code>private Claims getAllClaimsFromToken(String token) {\n    return Jwts.parser()\n        .verifyWith(getPublicSigningKey())\n        .build()\n        .parseSignedClaims(token)\n        .getPayload();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5877843,"reputation":455,"user_id":4628201,"accept_rate":50,"display_name":"Avijit Biswas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699010262,"creation_date":1699009677,"answer_id":77416184,"question_id":73486900,"body_markdown":"I got the same type of problem while using current latest version 0.12.3 \r\nSo the below code solves the problem.\r\n\r\n`Jwts.parser().setSigningKey(key).build().parseClaimsJws(jwt);`\r\n\r\nWhen you call `parser()`method from Jwts class it will return an instance of `JwtParserBuilder`.\r\nSo, to create an instance of `JwtParser` you need to call `build()` method.\r\n\r\n","title":"How to fix parser() is deprecated and setSigningKey(java.security.Key) is deprecated?","body":"<p>I got the same type of problem while using current latest version 0.12.3\nSo the below code solves the problem.</p>\n<p><code>Jwts.parser().setSigningKey(key).build().parseClaimsJws(jwt);</code></p>\n<p>When you call <code>parser()</code>method from Jwts class it will return an instance of <code>JwtParserBuilder</code>.\nSo, to create an instance of <code>JwtParser</code> you need to call <code>build()</code> method.</p>\n"},{"tags":[],"owner":{"account_id":8239654,"reputation":1247,"user_id":6197662,"display_name":"Ramon J."},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699355026,"creation_date":1699355026,"answer_id":77437682,"question_id":73486900,"body_markdown":"Change this:\r\n```\r\nJwts.parserBuilder().setSigningKey(key).build().parseClaimsJws(jwt);\r\n```\r\n\r\nFor that:\r\n```\r\nJwts.parser().verifyWith(key).build().parseSignedClaims(jwt);\r\n```\r\n","title":"How to fix parser() is deprecated and setSigningKey(java.security.Key) is deprecated?","body":"<p>Change this:</p>\n<pre><code>Jwts.parserBuilder().setSigningKey(key).build().parseClaimsJws(jwt);\n</code></pre>\n<p>For that:</p>\n<pre><code>Jwts.parser().verifyWith(key).build().parseSignedClaims(jwt);\n</code></pre>\n"}],"owner":{"account_id":21843131,"reputation":61,"user_id":16136385,"display_name":"Md Esadulhaq"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14512,"favorite_count":0,"down_vote_count":2,"up_vote_count":6,"answer_count":5,"score":4,"last_activity_date":1701075960,"creation_date":1661427956,"question_id":73486900,"body_markdown":"This is the error I am facing in here:\r\n\r\n[![This is the error I am facing in here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/f0Pxb.png\r\n\r\n```java\r\npublic boolean validateToken(String jwt){\r\n    Jwts.parser().setSigningKey(key).parseClaimsJws(jwt);\r\n    return true;\r\n}\r\n```","title":"How to fix parser() is deprecated and setSigningKey(java.security.Key) is deprecated?","body":"<p>This is the error I am facing in here:</p>\n<p><a href=\"https://i.stack.imgur.com/f0Pxb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/f0Pxb.png\" alt=\"This is the error I am facing in here\" /></a></p>\n<pre class=\"lang-java prettyprint-override\"><code>public boolean validateToken(String jwt){\n    Jwts.parser().setSigningKey(key).parseClaimsJws(jwt);\n    return true;\n}\n</code></pre>\n"},{"tags":["java","spring-cloud","spring-kafka","spring-cloud-stream"],"owner":{"account_id":3529467,"reputation":375,"user_id":2949496,"accept_rate":78,"display_name":"Karthik Suresh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701075416,"creation_date":1701075416,"question_id":77555604,"body_markdown":"There is main funtional flow for intra day processing and which is processed via kafka-streams binder.\n\nAs a peripheral, when an API is invoked within the application. A message should be pushed to a topic.\n\nhow can I achieve this.\nsince, either of the binders can be used\nbinder-kafka or binder-kafka-streams\n\n\nhave tried stream bridge but can only use of the binder","title":"How to publish to a separate topic In a spring cloud streams?","body":"<p>There is main funtional flow for intra day processing and which is processed via kafka-streams binder.</p>\n<p>As a peripheral, when an API is invoked within the application. A message should be pushed to a topic.</p>\n<p>how can I achieve this.\nsince, either of the binders can be used\nbinder-kafka or binder-kafka-streams</p>\n<p>have tried stream bridge but can only use of the binder</p>\n"},{"tags":["java","amazon-web-services","amazon-s3","apache-flink","flink-streaming"],"answers":[{"comments":[{"owner":{"account_id":15232707,"reputation":226,"user_id":10991366,"display_name":"r_g_s_"},"score":0,"creation_date":1701113017,"post_id":77555602,"comment_id":136732461,"body_markdown":"`FileSystem.initialize(config, null)` did the trick, thank you!","body":"<code>FileSystem.initialize(config, null)</code> did the trick, thank you!"}],"tags":[],"owner":{"account_id":22882718,"reputation":56,"user_id":17024100,"display_name":"eskabetxe"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1701075410,"creation_date":1701075410,"answer_id":77555602,"question_id":77540049,"body_markdown":"You could try this:\r\n\r\n1- Create your test config file (flink-config.yaml) with\r\n\r\n    ## S3 config\r\n    s3.access-key: test\r\n    s3.secret-key: test\r\n    s3.endpoint: http://awslocal:4566\r\n    s3.endpoint.region: us-east-1\r\n    s3.path.style.access: true\r\n\r\n2- Load this configuration with\r\n\r\n    import org.apache.flink.configuration.Configuration;\r\n    import org.apache.flink.configuration.GlobalConfiguration;\r\n    import org.apache.flink.core.fs.FileSystem;\r\n    import org.apache.flink.streaming.api.environment.StreamExecutionEnvironment;\r\n    \r\n    Configuration loadedConfig = GlobalConfiguration.loadConfiguration(&quot;directory/where/is/flinkconfig&quot;);\r\n    FileSystem.initialize(config, null);\r\n    StreamExecutionEnvironment environment = StreamExecutionEnvironment.createLocalEnvironmentWithWebUI(loadedConfig);\r\n\r\n\r\nThe important part is `FileSystem.initialize(config, null);`\r\n\r\n","title":"How can I pass AWS Configs to Flink&#39;s flink-s3-fs-hadoop plugin in local tests?","body":"<p>You could try this:</p>\n<p>1- Create your test config file (flink-config.yaml) with</p>\n<pre><code>## S3 config\ns3.access-key: test\ns3.secret-key: test\ns3.endpoint: http://awslocal:4566\ns3.endpoint.region: us-east-1\ns3.path.style.access: true\n</code></pre>\n<p>2- Load this configuration with</p>\n<pre><code>import org.apache.flink.configuration.Configuration;\nimport org.apache.flink.configuration.GlobalConfiguration;\nimport org.apache.flink.core.fs.FileSystem;\nimport org.apache.flink.streaming.api.environment.StreamExecutionEnvironment;\n\nConfiguration loadedConfig = GlobalConfiguration.loadConfiguration(&quot;directory/where/is/flinkconfig&quot;);\nFileSystem.initialize(config, null);\nStreamExecutionEnvironment environment = StreamExecutionEnvironment.createLocalEnvironmentWithWebUI(loadedConfig);\n</code></pre>\n<p>The important part is <code>FileSystem.initialize(config, null);</code></p>\n"}],"owner":{"account_id":15232707,"reputation":226,"user_id":10991366,"display_name":"r_g_s_"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77555602,"answer_count":1,"score":0,"last_activity_date":1701075410,"creation_date":1700782435,"question_id":77540049,"body_markdown":"**Problem Summary**\r\n\r\n - I am trying to run a local integration test for my flink app, which reads parquet files from AWS s3, does some transformations, and writes the output back to s3; I am using the below:\r\n    - Flink&#39;s parquet format for the source: https://nightlies.apache.org/flink/flink-docs-release-1.17/docs/connectors/datastream/formats/parquet/\r\n    - localstack/testcontainers to spin up a local s3 on localhost\r\n    - junit5 to run my tests\r\n    - Flink minicluster to run my app during the test\r\n    - IntelliJ IDEA\r\n    - Flink version 1.17.0, maven, and java 11\r\n - Because the flink app interacts with s3 (I believe the parquet format above requires it), I have `flink-s3-fs-hadoop` as a test dependency in my project\r\n - **The issue**: \r\n    - There seems to be no way to pass all required AWS configs to the S3 client that the `flink-s3-fs-hadoop` plugin uses\r\n    - Due to the above, a local test using Flink &amp; AWS s3 is not currently possible; I run into `AmazonS3Exception 403 Forbidden` when my source tries to read the parquet files that I put in localstack s3\r\n    - The AWS configs I need to pass are below:\r\n       - s3.access-key\r\n       - s3.secret-key\r\n       - s3.endpoint\r\n       - s3.endpoint.region\r\n       - s3.path.style.access\r\n- Note: the application works in &quot;prod&quot; because it runs on EMR; it&#39;s just locally that this issue occurs\r\n\r\n**What I Have Tried**\r\n1.  Adding AWS_ACCESS_KEY_ID, AWS_SECRET_ACCESS_KEY, AWS_ENDPOINT_URL, and AWS_REGION as environment variables (IntelliJ run configurations)\r\n    - Before I set these I was getting an error that the access key and secret key could not be found, so I believe these were able to get picked up (makes sense given https://hadoop.apache.org/docs/stable/hadoop-aws/tools/hadoop-aws/index.html#Authenticating_via_the_AWS_Environment_Variables) \r\n    - The other environment variables are not getting picked up; I confirmed by running my app in debug mode and looking at the AmazonS3 client params\r\n\r\n2.  Adding a `conf/flink-conf.yaml` under my test resources folder and setting the following environment variable `FLINK_CONF_DIR=src/test/resources/conf`\r\n    -  It seemed that Flink could find the file, but it did not pass any of the values to the plugin\r\n\r\n3.  Creating a local execution environment with the aws configs specified (see code below)\r\n```\r\n        Properties props = new Properties();\r\n        props.put(&quot;s3.access-key&quot;, &quot;test&quot;);\r\n        props.put(&quot;s3.secret-key&quot;,  &quot;test&quot;);\r\n        props.put(&quot;s3.endpoint&quot;, &quot;http://localstack:4566&quot;);\r\n        props.put(&quot;s3.endpoint.region&quot;, &quot;us-east-1&quot;);\r\n        props.put(&quot;s3.path.style.access&quot;, &quot;true&quot;);\r\n        Configuration configuration = ConfigurationUtils.createConfiguration(props);\r\n        final StreamExecutionEnvironment env = StreamExecutionEnvironment.createLocalEnvironment(16, configuration);\r\n```\r\n4.  I spun up a Flink cluster (jobmanager + taskmanager) locally using docker-compose, added the AWS configs as k,v pairs within the FLINK_PROPERTIES environment variable (which then appends to the flink-conf), enabled the `flink-s3-fs-hadoop` plugin, and confirmed that the flink app works correctly when submitted to this cluster (i.e. this confirmed that the app works when the configs are added and available to the plugin)\r\n     - Note: even though this way works, it is not good enough for my use-case; I need to be able to run a test within an automated test suite like Junit\r\n```\r\nservices:\r\n  localstack:\r\n    container_name: &quot;awslocal&quot;\r\n    image: localstack/localstack:1.4.0\r\n    ports:\r\n      - &quot;127.0.0.1:4510-4559:4510-4559&quot;\r\n      - &quot;127.0.0.1:4566:4566&quot;\r\n      - &quot;127.0.0.1:4571:4571&quot;\r\n    environment:\r\n      - SERVICES=s3\r\n      - DEBUG=1\r\n      - LS_LOG=trace\r\n      - AWS_ACCESS_KEY_ID=test\r\n      - AWS_SECRET_ACCESS_KEY=test\r\n      - AWS_DEFAULT_REGION=us-east-1\r\n      - HOST_TMP_FOLDER=${TMPDIR:-/tmp/}localstack\r\n      - DOCKER_HOST=unix:///var/run/docker.sock\r\n    volumes:\r\n      - &quot;${TMPDIR:-/tmp}/localstack:/var/lib/localstack&quot;\r\n      - &quot;/var/run/docker.sock:/var/run/docker.sock&quot;\r\n  jobmanager:\r\n    container_name: &quot;jobmanager&quot;\r\n    image: flink:1.17.0-java11\r\n    ports:\r\n      - &quot;8081:8081&quot;\r\n    command: jobmanager\r\n    environment:\r\n      - |\r\n        FLINK_PROPERTIES=\r\n        jobmanager.rpc.address: jobmanager\r\n        s3.access-key: test\r\n        s3.secret-key: test\r\n        s3.endpoint: http://awslocal:4566\r\n        s3.endpoint.region: us-east-1\r\n        s3.path.style.access: true\r\n      - ENABLE_BUILT_IN_PLUGINS=flink-s3-fs-hadoop-1.17.0.jar\r\n    volumes:\r\n      - /Users/myname/IdeaProjects/my-flink-app/target:/opt/flink/usrlib\r\n  taskmanager:\r\n    container_name: &quot;taskmanager&quot;\r\n    image: flink:1.17.0-java11\r\n    depends_on:\r\n      - jobmanager\r\n    command: taskmanager\r\n    environment:\r\n      - |\r\n        FLINK_PROPERTIES=\r\n        jobmanager.rpc.address: jobmanager\r\n        taskmanager.numberOfTaskSlots: 2\r\n        s3.access-key: test\r\n        s3.secret-key: test\r\n        s3.endpoint: http://awslocal:4566\r\n        s3.endpoint.region: us-east-1\r\n        s3.path.style.access: true\r\n      - ENABLE_BUILT_IN_PLUGINS=flink-s3-fs-hadoop-1.17.0.jar\r\n```\r\n","title":"How can I pass AWS Configs to Flink&#39;s flink-s3-fs-hadoop plugin in local tests?","body":"<p><strong>Problem Summary</strong></p>\n<ul>\n<li>I am trying to run a local integration test for my flink app, which reads parquet files from AWS s3, does some transformations, and writes the output back to s3; I am using the below:\n<ul>\n<li>Flink's parquet format for the source: <a href=\"https://nightlies.apache.org/flink/flink-docs-release-1.17/docs/connectors/datastream/formats/parquet/\" rel=\"nofollow noreferrer\">https://nightlies.apache.org/flink/flink-docs-release-1.17/docs/connectors/datastream/formats/parquet/</a></li>\n<li>localstack/testcontainers to spin up a local s3 on localhost</li>\n<li>junit5 to run my tests</li>\n<li>Flink minicluster to run my app during the test</li>\n<li>IntelliJ IDEA</li>\n<li>Flink version 1.17.0, maven, and java 11</li>\n</ul>\n</li>\n<li>Because the flink app interacts with s3 (I believe the parquet format above requires it), I have <code>flink-s3-fs-hadoop</code> as a test dependency in my project</li>\n<li><strong>The issue</strong>:\n<ul>\n<li>There seems to be no way to pass all required AWS configs to the S3 client that the <code>flink-s3-fs-hadoop</code> plugin uses</li>\n<li>Due to the above, a local test using Flink &amp; AWS s3 is not currently possible; I run into <code>AmazonS3Exception 403 Forbidden</code> when my source tries to read the parquet files that I put in localstack s3</li>\n<li>The AWS configs I need to pass are below:\n<ul>\n<li>s3.access-key</li>\n<li>s3.secret-key</li>\n<li>s3.endpoint</li>\n<li>s3.endpoint.region</li>\n<li>s3.path.style.access</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>Note: the application works in &quot;prod&quot; because it runs on EMR; it's just locally that this issue occurs</li>\n</ul>\n<p><strong>What I Have Tried</strong></p>\n<ol>\n<li><p>Adding AWS_ACCESS_KEY_ID, AWS_SECRET_ACCESS_KEY, AWS_ENDPOINT_URL, and AWS_REGION as environment variables (IntelliJ run configurations)</p>\n<ul>\n<li>Before I set these I was getting an error that the access key and secret key could not be found, so I believe these were able to get picked up (makes sense given <a href=\"https://hadoop.apache.org/docs/stable/hadoop-aws/tools/hadoop-aws/index.html#Authenticating_via_the_AWS_Environment_Variables\" rel=\"nofollow noreferrer\">https://hadoop.apache.org/docs/stable/hadoop-aws/tools/hadoop-aws/index.html#Authenticating_via_the_AWS_Environment_Variables</a>)</li>\n<li>The other environment variables are not getting picked up; I confirmed by running my app in debug mode and looking at the AmazonS3 client params</li>\n</ul>\n</li>\n<li><p>Adding a <code>conf/flink-conf.yaml</code> under my test resources folder and setting the following environment variable <code>FLINK_CONF_DIR=src/test/resources/conf</code></p>\n<ul>\n<li>It seemed that Flink could find the file, but it did not pass any of the values to the plugin</li>\n</ul>\n</li>\n<li><p>Creating a local execution environment with the aws configs specified (see code below)</p>\n</li>\n</ol>\n<pre><code>        Properties props = new Properties();\n        props.put(&quot;s3.access-key&quot;, &quot;test&quot;);\n        props.put(&quot;s3.secret-key&quot;,  &quot;test&quot;);\n        props.put(&quot;s3.endpoint&quot;, &quot;http://localstack:4566&quot;);\n        props.put(&quot;s3.endpoint.region&quot;, &quot;us-east-1&quot;);\n        props.put(&quot;s3.path.style.access&quot;, &quot;true&quot;);\n        Configuration configuration = ConfigurationUtils.createConfiguration(props);\n        final StreamExecutionEnvironment env = StreamExecutionEnvironment.createLocalEnvironment(16, configuration);\n</code></pre>\n<ol start=\"4\">\n<li>I spun up a Flink cluster (jobmanager + taskmanager) locally using docker-compose, added the AWS configs as k,v pairs within the FLINK_PROPERTIES environment variable (which then appends to the flink-conf), enabled the <code>flink-s3-fs-hadoop</code> plugin, and confirmed that the flink app works correctly when submitted to this cluster (i.e. this confirmed that the app works when the configs are added and available to the plugin)\n<ul>\n<li>Note: even though this way works, it is not good enough for my use-case; I need to be able to run a test within an automated test suite like Junit</li>\n</ul>\n</li>\n</ol>\n<pre><code>services:\n  localstack:\n    container_name: &quot;awslocal&quot;\n    image: localstack/localstack:1.4.0\n    ports:\n      - &quot;127.0.0.1:4510-4559:4510-4559&quot;\n      - &quot;127.0.0.1:4566:4566&quot;\n      - &quot;127.0.0.1:4571:4571&quot;\n    environment:\n      - SERVICES=s3\n      - DEBUG=1\n      - LS_LOG=trace\n      - AWS_ACCESS_KEY_ID=test\n      - AWS_SECRET_ACCESS_KEY=test\n      - AWS_DEFAULT_REGION=us-east-1\n      - HOST_TMP_FOLDER=${TMPDIR:-/tmp/}localstack\n      - DOCKER_HOST=unix:///var/run/docker.sock\n    volumes:\n      - &quot;${TMPDIR:-/tmp}/localstack:/var/lib/localstack&quot;\n      - &quot;/var/run/docker.sock:/var/run/docker.sock&quot;\n  jobmanager:\n    container_name: &quot;jobmanager&quot;\n    image: flink:1.17.0-java11\n    ports:\n      - &quot;8081:8081&quot;\n    command: jobmanager\n    environment:\n      - |\n        FLINK_PROPERTIES=\n        jobmanager.rpc.address: jobmanager\n        s3.access-key: test\n        s3.secret-key: test\n        s3.endpoint: http://awslocal:4566\n        s3.endpoint.region: us-east-1\n        s3.path.style.access: true\n      - ENABLE_BUILT_IN_PLUGINS=flink-s3-fs-hadoop-1.17.0.jar\n    volumes:\n      - /Users/myname/IdeaProjects/my-flink-app/target:/opt/flink/usrlib\n  taskmanager:\n    container_name: &quot;taskmanager&quot;\n    image: flink:1.17.0-java11\n    depends_on:\n      - jobmanager\n    command: taskmanager\n    environment:\n      - |\n        FLINK_PROPERTIES=\n        jobmanager.rpc.address: jobmanager\n        taskmanager.numberOfTaskSlots: 2\n        s3.access-key: test\n        s3.secret-key: test\n        s3.endpoint: http://awslocal:4566\n        s3.endpoint.region: us-east-1\n        s3.path.style.access: true\n      - ENABLE_BUILT_IN_PLUGINS=flink-s3-fs-hadoop-1.17.0.jar\n</code></pre>\n"},{"tags":["java","c#","xml","xsd","xsd-1.1"],"answers":[{"tags":[],"owner":{"account_id":109492,"reputation":107225,"user_id":290085,"display_name":"kjhughes"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1587233831,"creation_date":1587233831,"answer_id":61294027,"question_id":61293382,"body_markdown":"Correct, .NET supports XSD 1.0, not XSD 1.1.  You can use [Xerces to validate XML against XSD 1.1 in Java][1], but there are no free libraries that support XSD 1.1 on .NET.\r\n\r\nTo validate XML using XSD 1.1 on .NET, you&#39;ll need a commercial license for Saxon EE (full product) or EE-V (validation package).  Note that a Saxon license will allow you to use the library on both .NET and Java platforms.  See Saxonica&#39;s [product page][2], [feature matrix][3], and [licensing][4] for further details.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/20819060/xml-validation-against-xsd-1-1-with-xerces-in-java\r\n  [2]: http://www.saxonica.com/products/products.xml\r\n  [3]: http://www.saxonica.com/products/feature-matrix-10.xml\r\n  [4]: http://www.saxonica.com/license/license.xml","title":"XSD 1.1 validation for both Java and .NET C#?","body":"<p>Correct, .NET supports XSD 1.0, not XSD 1.1.  You can use <a href=\"https://stackoverflow.com/questions/20819060/xml-validation-against-xsd-1-1-with-xerces-in-java\">Xerces to validate XML against XSD 1.1 in Java</a>, but there are no free libraries that support XSD 1.1 on .NET.</p>\n\n<p>To validate XML using XSD 1.1 on .NET, you'll need a commercial license for Saxon EE (full product) or EE-V (validation package).  Note that a Saxon license will allow you to use the library on both .NET and Java platforms.  See Saxonica's <a href=\"http://www.saxonica.com/products/products.xml\" rel=\"noreferrer\">product page</a>, <a href=\"http://www.saxonica.com/products/feature-matrix-10.xml\" rel=\"noreferrer\">feature matrix</a>, and <a href=\"http://www.saxonica.com/license/license.xml\" rel=\"noreferrer\">licensing</a> for further details.</p>\n"},{"tags":[],"owner":{"account_id":4932450,"reputation":41,"user_id":5317766,"display_name":"patrick fogarty"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701074200,"creation_date":1701074200,"answer_id":77555488,"question_id":61293382,"body_markdown":"I am late to this question because it has taken me years to find a solution for .Net that didn&#39;t cost anything, which was a condition for me though not for this question. The link provided by kjhughes covers the first half of the question, performing validation in Java.\r\n\r\nBelow I am using the excellent [IKVM project][1] to reference xerces2-j directly to handle the .Net side of the question. I am using the download, [Xerces-J-bin.2.12.2-xml-schema-1.1.zip][2].\r\n\r\n\r\nThe solution requires four jar files from xerces, which are kept in the subfolder named &#39;include&#39; in this project folder.\r\n 1. cupv10k-runtime.jar\r\n 2. org.eclipse.wst.xml.xpath2.processor_1.2.1.jar\r\n 3. xercesImpl.jar\r\n 4. xml-apis.jar\r\n\r\nThen this must be added to the project file for IKVM to do its thing.\r\n\r\n    &lt;ItemGroup&gt;\r\n\t  &lt;PackageReference Include=&quot;IKVM&quot; Version=&quot;8.7.1&quot; /&gt;\r\n\t&lt;/ItemGroup&gt;\r\n\r\n\t&lt;ItemGroup&gt;\r\n\t\t&lt;IkvmReference Include=&quot;include\\org.eclipse.wst.xml.xpath2.processor_1.2.1.jar&quot;&gt;\r\n\t\t\t&lt;AssemblyName&gt;eclipse-xpath2&lt;/AssemblyName&gt;\r\n\t\t\t&lt;AssemblyVersion&gt;1.2.1.0&lt;/AssemblyVersion&gt;\r\n\t\t\t&lt;AssemblyFileVersion&gt;1.2.1.0&lt;/AssemblyFileVersion&gt;\r\n\t\t&lt;/IkvmReference&gt;\r\n\t\t&lt;IkvmReference Include=&quot;include\\cupv10k-runtime.jar&quot;&gt;\r\n\t\t\t&lt;AssemblyName&gt;cup-runtime&lt;/AssemblyName&gt;\r\n\t\t\t&lt;AssemblyVersion&gt;0.10.0&lt;/AssemblyVersion&gt;\r\n\t\t\t&lt;AssemblyFileVersion&gt;0.10.0&lt;/AssemblyFileVersion&gt;\r\n\t\t&lt;/IkvmReference&gt;\r\n\t\t&lt;IkvmReference Include=&quot;include\\xml-apis.jar&quot;&gt;\r\n\t\t\t&lt;AssemblyName&gt;xml-apis&lt;/AssemblyName&gt;\r\n\t\t\t&lt;AssemblyVersion&gt;1.7.0&lt;/AssemblyVersion&gt;\r\n\t\t\t&lt;AssemblyFileVersion&gt;1.7.0&lt;/AssemblyFileVersion&gt;\r\n\t\t&lt;/IkvmReference&gt;\r\n\t\t&lt;IkvmReference Include=&quot;include\\xercesImpl.jar&quot;&gt;\r\n\t\t\t&lt;AssemblyName&gt;xerces&lt;/AssemblyName&gt;\r\n\t\t\t&lt;AssemblyVersion&gt;2.12.2.0&lt;/AssemblyVersion&gt;\r\n\t\t\t&lt;AssemblyFileVersion&gt;2.12.2.0&lt;/AssemblyFileVersion&gt;\r\n\t\t\t&lt;References&gt;include/cupv10k-runtime.jar;include/org.eclipse.wst.xml.xpath2.processor_1.2.1.jar;include/xml-apis.jar&lt;/References&gt;\r\n\t\t&lt;/IkvmReference&gt;\r\n\t&lt;/ItemGroup&gt;\r\n\r\nThen this simple program.cs will validate xml properly.\r\n\r\n    using javax.xml.transform;\r\n    using javax.xml.transform.stream;\r\n    using jio = java.io;\r\n    using javax.xml.validation;\r\n    using org.apache.xerces.impl;\r\n    using org.xml.sax;\r\n    using System.Reflection;\r\n    internal class Program\r\n    {\r\n    \tstatic void Main(string[] args)\r\n    \t{\r\n    \t\tikvm.runtime.Startup.addBootClassPathAssembly(Assembly.Load(&quot;eclipse-xpath2&quot;));\r\n    \t\tikvm.runtime.Startup.addBootClassPathAssembly(Assembly.Load(&quot;cup-runtime&quot;));\r\n    \t\tikvm.runtime.Startup.addBootClassPathAssembly(Assembly.Load(&quot;xml-apis&quot;));\r\n    \t\tikvm.runtime.Startup.addBootClassPathAssembly(Assembly.Load(&quot;xerces&quot;));\r\n    \t\t\r\n    \t\tjio.File schemaLocation = new jio.File(&quot;/path/to/some.xsd&quot;);\r\n    \t\tjio.File xmlFile\t\t= new jio.File(&quot;/path/to/some.xml&quot;);\r\n    \r\n    \t\tSource xsdSource = new StreamSource(schemaLocation);\r\n    \t\tSource xmlSource = new StreamSource(xmlFile);\r\n    \r\n    \t\tSchemaFactory factory = SchemaFactory.newInstance(Constants.W3C_XML_SCHEMA11_NS_URI);\r\n    \t\tSchema schema = factory.newSchema(xsdSource);\r\n    \t\tValidator validator = schema.newValidator();\r\n    \r\n    \r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\tvalidator.validate(xmlSource);\r\n    \t\t\tConsole.WriteLine(xmlFile.getName() + &quot; is valid.&quot;);\r\n    \t\t}\r\n    \t\tcatch (SAXException ex)\r\n    \t\t{\r\n    \t\t\tConsole.WriteLine(xmlFile.getName() + &quot; is not valid because &quot;);\r\n    \t\t\tConsole.WriteLine(ex.getMessage());\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n\r\n  [1]: https://github.com/ikvmnet/ikvm\r\n  [2]: https://dlcdn.apache.org//xerces/j/binaries/Xerces-J-bin.2.12.2-xml-schema-1.1.zip","title":"XSD 1.1 validation for both Java and .NET C#?","body":"<p>I am late to this question because it has taken me years to find a solution for .Net that didn't cost anything, which was a condition for me though not for this question. The link provided by kjhughes covers the first half of the question, performing validation in Java.</p>\n<p>Below I am using the excellent <a href=\"https://github.com/ikvmnet/ikvm\" rel=\"nofollow noreferrer\">IKVM project</a> to reference xerces2-j directly to handle the .Net side of the question. I am using the download, <a href=\"https://dlcdn.apache.org//xerces/j/binaries/Xerces-J-bin.2.12.2-xml-schema-1.1.zip\" rel=\"nofollow noreferrer\">Xerces-J-bin.2.12.2-xml-schema-1.1.zip</a>.</p>\n<p>The solution requires four jar files from xerces, which are kept in the subfolder named 'include' in this project folder.</p>\n<ol>\n<li>cupv10k-runtime.jar</li>\n<li>org.eclipse.wst.xml.xpath2.processor_1.2.1.jar</li>\n<li>xercesImpl.jar</li>\n<li>xml-apis.jar</li>\n</ol>\n<p>Then this must be added to the project file for IKVM to do its thing.</p>\n<pre><code>&lt;ItemGroup&gt;\n  &lt;PackageReference Include=&quot;IKVM&quot; Version=&quot;8.7.1&quot; /&gt;\n&lt;/ItemGroup&gt;\n\n&lt;ItemGroup&gt;\n    &lt;IkvmReference Include=&quot;include\\org.eclipse.wst.xml.xpath2.processor_1.2.1.jar&quot;&gt;\n        &lt;AssemblyName&gt;eclipse-xpath2&lt;/AssemblyName&gt;\n        &lt;AssemblyVersion&gt;1.2.1.0&lt;/AssemblyVersion&gt;\n        &lt;AssemblyFileVersion&gt;1.2.1.0&lt;/AssemblyFileVersion&gt;\n    &lt;/IkvmReference&gt;\n    &lt;IkvmReference Include=&quot;include\\cupv10k-runtime.jar&quot;&gt;\n        &lt;AssemblyName&gt;cup-runtime&lt;/AssemblyName&gt;\n        &lt;AssemblyVersion&gt;0.10.0&lt;/AssemblyVersion&gt;\n        &lt;AssemblyFileVersion&gt;0.10.0&lt;/AssemblyFileVersion&gt;\n    &lt;/IkvmReference&gt;\n    &lt;IkvmReference Include=&quot;include\\xml-apis.jar&quot;&gt;\n        &lt;AssemblyName&gt;xml-apis&lt;/AssemblyName&gt;\n        &lt;AssemblyVersion&gt;1.7.0&lt;/AssemblyVersion&gt;\n        &lt;AssemblyFileVersion&gt;1.7.0&lt;/AssemblyFileVersion&gt;\n    &lt;/IkvmReference&gt;\n    &lt;IkvmReference Include=&quot;include\\xercesImpl.jar&quot;&gt;\n        &lt;AssemblyName&gt;xerces&lt;/AssemblyName&gt;\n        &lt;AssemblyVersion&gt;2.12.2.0&lt;/AssemblyVersion&gt;\n        &lt;AssemblyFileVersion&gt;2.12.2.0&lt;/AssemblyFileVersion&gt;\n        &lt;References&gt;include/cupv10k-runtime.jar;include/org.eclipse.wst.xml.xpath2.processor_1.2.1.jar;include/xml-apis.jar&lt;/References&gt;\n    &lt;/IkvmReference&gt;\n&lt;/ItemGroup&gt;\n</code></pre>\n<p>Then this simple program.cs will validate xml properly.</p>\n<pre><code>using javax.xml.transform;\nusing javax.xml.transform.stream;\nusing jio = java.io;\nusing javax.xml.validation;\nusing org.apache.xerces.impl;\nusing org.xml.sax;\nusing System.Reflection;\ninternal class Program\n{\n    static void Main(string[] args)\n    {\n        ikvm.runtime.Startup.addBootClassPathAssembly(Assembly.Load(&quot;eclipse-xpath2&quot;));\n        ikvm.runtime.Startup.addBootClassPathAssembly(Assembly.Load(&quot;cup-runtime&quot;));\n        ikvm.runtime.Startup.addBootClassPathAssembly(Assembly.Load(&quot;xml-apis&quot;));\n        ikvm.runtime.Startup.addBootClassPathAssembly(Assembly.Load(&quot;xerces&quot;));\n        \n        jio.File schemaLocation = new jio.File(&quot;/path/to/some.xsd&quot;);\n        jio.File xmlFile        = new jio.File(&quot;/path/to/some.xml&quot;);\n\n        Source xsdSource = new StreamSource(schemaLocation);\n        Source xmlSource = new StreamSource(xmlFile);\n\n        SchemaFactory factory = SchemaFactory.newInstance(Constants.W3C_XML_SCHEMA11_NS_URI);\n        Schema schema = factory.newSchema(xsdSource);\n        Validator validator = schema.newValidator();\n\n\n        try\n        {\n            validator.validate(xmlSource);\n            Console.WriteLine(xmlFile.getName() + &quot; is valid.&quot;);\n        }\n        catch (SAXException ex)\n        {\n            Console.WriteLine(xmlFile.getName() + &quot; is not valid because &quot;);\n            Console.WriteLine(ex.getMessage());\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3976799,"reputation":103,"user_id":3985913,"accept_rate":0,"display_name":"Sumthg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2351,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":61294027,"answer_count":2,"score":4,"last_activity_date":1701074200,"creation_date":1587230946,"question_id":61293382,"body_markdown":"I have an XSD with schema version 1.1, and I want to validate an XML against it programmatically via .NET and Java.\r\n\r\nIn .NET I use `XmlSchemaSet` class to validate XML against XSD, but it throws the following exception:\r\n\r\n&gt; `System.Xml.Schema.XmlSchemaException: The &#39;http://www.w3.org/2001/XMLSchema:assert&#39; element is not supported in this context.\r\n\r\nSo I guess .NET still supports XSD 1.0 and doesn&#39;t support XSD 1.1 ?","title":"XSD 1.1 validation for both Java and .NET C#?","body":"<p>I have an XSD with schema version 1.1, and I want to validate an XML against it programmatically via .NET and Java.</p>\n\n<p>In .NET I use <code>XmlSchemaSet</code> class to validate XML against XSD, but it throws the following exception:</p>\n\n<blockquote>\n  <p>`System.Xml.Schema.XmlSchemaException: The '<a href=\"http://www.w3.org/2001/XMLSchema:assert\" rel=\"nofollow noreferrer\">http://www.w3.org/2001/XMLSchema:assert</a>' element is not supported in this context.</p>\n</blockquote>\n\n<p>So I guess .NET still supports XSD 1.0 and doesn't support XSD 1.1 ?</p>\n"},{"tags":["java","apache-poi"],"answers":[{"comments":[{"owner":{"account_id":4464046,"reputation":119,"user_id":3632143,"display_name":"Prabahar"},"score":0,"creation_date":1529579672,"post_id":48972176,"comment_id":88930528,"body_markdown":"HI Axel, Thanks for the code. But am facing a problem. All the checkboxes are identified, but still for some of the checkboxes, the checked value is not properly returned. Am trying to solve this, but your help will be much appreciated.","body":"HI Axel, Thanks for the code. But am facing a problem. All the checkboxes are identified, but still for some of the checkboxes, the checked value is not properly returned. Am trying to solve this, but your help will be much appreciated."},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1529584449,"post_id":48972176,"comment_id":88933699,"body_markdown":"@Prabahar: As said ActiveX controls cannot be parsed using my code. But if your controls are form controls and it does not work then my suspicion is that the controls were not created and/or manipulated using `Excel` but using any third part software which has not properly updated `/xl/drawings/vmlDrawing1.vml`.","body":"@Prabahar: As said ActiveX controls cannot be parsed using my code. But if your controls are form controls and it does not work then my suspicion is that the controls were not created and/or manipulated using <code>Excel</code> but using any third part software which has not properly updated <code>&#47;xl&#47;drawings&#47;vmlDrawing1.vml</code>."},{"owner":{"account_id":4464046,"reputation":119,"user_id":3632143,"display_name":"Prabahar"},"score":0,"creation_date":1529678736,"post_id":48972176,"comment_id":88975501,"body_markdown":"Axel: It was a mistake in the Document and i have fixed it. now it all works fine. Great!!  I have another query, when i try to use XLS for this code not able to proceed through. getRelations method is not available. Is this code for XLS too? is there any other way i can achieve checkbox reading in XLS?","body":"Axel: It was a mistake in the Document and i have fixed it. now it all works fine. Great!!  I have another query, when i try to use XLS for this code not able to proceed through. getRelations method is not available. Is this code for XLS too? is there any other way i can achieve checkbox reading in XLS?"},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1529679622,"post_id":48972176,"comment_id":88976060,"body_markdown":"@Prabahar: This code is for `XSSF` (Office Open XML file format, `*.xlsx`) only. And no, I do not know how to read form controls from `HSSF`(binary BIFF file format, `*.xls`). HSSF stands for **H**orrible **S**pread**S**heet **F**ormat and this name is true.","body":"@Prabahar: This code is for <code>XSSF</code> (Office Open XML file format, <code>*.xlsx</code>) only. And no, I do not know how to read form controls from <code>HSSF</code>(binary BIFF file format, <code>*.xls</code>). HSSF stands for <b>H</b>orrible <b>S</b>pread<b>S</b>heet <b>F</b>ormat and this name is true."}],"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1701074140,"creation_date":1519551898,"answer_id":48972176,"question_id":48960620,"body_markdown":"Controls are not contained in the cells but hovers in the drawing layer over the sheet as shapes and only are anchored to the cells. So the cell may be null (because of no content in it) although a shape hovers over it and is anchored to it.\r\n\r\nMoreover there are two different kinds of controls possible. There are form controls and `ActiveX` controls. The states of `ActiveX` controls are stored in binary code parts `activeX1.bin` and thus  getting the state of them is very hard.\r\n\r\nIn earlier `Excel` versions (2007 for example) the anchor informations of all controls are stored in `/xl/drawings/vmlDrawing1.vml` only. Later versions are storing them in default drawing and within \r\n\r\n    &lt;controls&gt;\r\n     &lt;mc:AlternateContent&gt;\r\n      ...\r\n     &lt;/mc:AlternateContent&gt;\r\n    &lt;/controls&gt;\r\n\r\nparts in the sheet `XML` too. Fortunately there is also `/xl/drawings/vmlDrawing1.vml` for backwards compatibility. \r\n\r\nThe following code does parsing the  `/xl/drawings/vmlDrawing1.vml` to get the control which is possible anchored to a cell. If found, it gets this control and if this control is a form control and **not** a `ActiveX` control, then it also can get it&#39;s state. For `ActiveX` controls it gets only the information, that a &quot;Pict&quot; is anchored to this cell.\r\n\r\nExcel:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nCode:\r\n\r\n    import java.io.*;\r\n    \r\n    import org.apache.poi.ss.usermodel.*;\r\n    import org.apache.poi.xssf.usermodel.*;\r\n    \r\n    import org.apache.poi.POIXMLDocumentPart;\r\n    \r\n    import org.apache.poi.util.Units;\r\n    \r\n    import org.apache.xmlbeans.XmlCursor;\r\n    import org.apache.xmlbeans.XmlObject;\r\n    \r\n    import javax.xml.namespace.QName;\r\n    \r\n    class ReadExcelXSSFControls {\r\n    \r\n     public ReadExcelXSSFControls() throws Exception {\r\n      XSSFWorkbook wb  = (XSSFWorkbook)WorkbookFactory.create(new FileInputStream(&quot;ExcelWithControls.xlsx&quot;));\r\n    \r\n      Sheet sheet = wb.getSheetAt(0);\r\n      for (Row row : sheet) {\r\n       for (int c = 0; c &lt; 2; c++) {\r\n        Cell cell = row.getCell(c);\r\n        if (row.getRowNum() == 0) {\r\n         System.out.print(cell + &quot;\\t&quot;);\r\n        } else {\r\n         if (c == 0) {\r\n          System.out.print(cell + &quot;\\t&quot;);\r\n         } else if (c == 1) {\r\n          if (cell == null) cell = row.createCell(c);\r\n          Control contol = getControlAt((XSSFCell)cell);\r\n          System.out.print(contol);     \r\n         }\r\n        }\r\n       }\r\n       System.out.println();\r\n      }\r\n    \r\n      wb.close();\r\n     }\r\n    \r\n     private Control getControlAt(XSSFCell cell) throws Exception {\r\n      XSSFSheet sheet = cell.getSheet();\r\n      Row row =  cell.getRow();\r\n      int r = row.getRowNum();\r\n      int c = cell.getColumnIndex();\r\n    \r\n      int drheight = (int)Math.round(sheet.getDefaultRowHeightInPoints() * Units.PIXEL_DPI / Units.POINT_DPI);\r\n      int rheight = (int)Math.round(row.getHeightInPoints() * Units.PIXEL_DPI / Units.POINT_DPI);\r\n      row = null;\r\n      if(r &gt; 0) row = sheet.getRow(r-1);\r\n      int rheightbefore = (row!=null)?(int)Math.round(row.getHeightInPoints() * Units.PIXEL_DPI / Units.POINT_DPI):drheight;\r\n      row = sheet.getRow(r+1);\r\n      int rheightafter = (row!=null)?(int)Math.round(row.getHeightInPoints() * Units.PIXEL_DPI / Units.POINT_DPI):drheight;\r\n    \r\n      String name = null;\r\n      String objectType = null;\r\n      String checked = null;\r\n    \r\n      XmlCursor xmlcursor = null;\r\n      if (sheet.getCTWorksheet().getLegacyDrawing() != null) {\r\n       String legacyDrawingId = sheet.getCTWorksheet().getLegacyDrawing().getId();\r\n       POIXMLDocumentPart part = sheet.getRelationById(legacyDrawingId);\r\n       XmlObject xmlDrawing = XmlObject.Factory.parse(part.getPackagePart().getInputStream());\r\n       xmlcursor = xmlDrawing.newCursor();\r\n       QName qnameClientData = new QName(&quot;urn:schemas-microsoft-com:office:excel&quot;, &quot;ClientData&quot;, &quot;x&quot;);\r\n       QName qnameAnchor = new QName(&quot;urn:schemas-microsoft-com:office:excel&quot;, &quot;Anchor&quot;, &quot;x&quot;);\r\n       boolean controlFound = false;\r\n       while (xmlcursor.hasNextToken()) {\r\n        XmlCursor.TokenType tokentype = xmlcursor.toNextToken();\r\n        if (tokentype.isStart()) {\r\n         if (qnameClientData.equals(xmlcursor.getName())) {\r\n          controlFound = true;\r\n          XmlObject clientdata = xmlcursor.getObject();\r\n          XmlObject[] xmlchecked = clientdata.selectPath(&quot;declare namespace x=&#39;urn:schemas-microsoft-com:office:excel&#39; x:Checked&quot;);\r\n          if (xmlchecked.length &gt; 0) {\r\n           checked = &quot;Checked&quot;;\r\n          } else {\r\n           checked = &quot;Not checked&quot;;\r\n          }\r\n          while (xmlcursor.hasNextToken()) {\r\n           tokentype = xmlcursor.toNextToken(); \r\n           if (tokentype.isAttr()) {\r\n            if (new QName(&quot;ObjectType&quot;).equals(xmlcursor.getName())) {\r\n             objectType = xmlcursor.getTextValue();\r\n             name = objectType + &quot; in row &quot; + (r+1);\r\n            } \r\n           } else {\r\n            break;\r\n           }\r\n          }\r\n         } else if (qnameAnchor.equals(xmlcursor.getName()) &amp;&amp; controlFound) {\r\n          controlFound = false;\r\n          String anchorContent = xmlcursor.getTextValue().trim();\r\n          String[] anchorparts = anchorContent.split(&quot;,&quot;);\r\n          int fromCol = Integer.parseInt(anchorparts[0].trim());\r\n          int fromColDx = Integer.parseInt(anchorparts[1].trim());\r\n          int fromRow = Integer.parseInt(anchorparts[2].trim());\r\n          int fromRowDy = Integer.parseInt(anchorparts[3].trim());\r\n          int toCol = Integer.parseInt(anchorparts[4].trim());\r\n          int toColDx = Integer.parseInt(anchorparts[5].trim());\r\n          int toRow = Integer.parseInt(anchorparts[6].trim());\r\n          int toRowDy = Integer.parseInt(anchorparts[7].trim());\r\n    \r\n          if (fromCol == c /*needs only starting into the column*/\r\n           &amp;&amp; (fromRow == r || (fromRow == r-1 &amp;&amp; fromRowDy &gt; rheightbefore/2f)) \r\n           &amp;&amp; (toRow == r || (toRow == r+1 &amp;&amp; toRowDy &lt; rheightafter/2f))) {\r\n    //System.out.print(fromCol + &quot;:&quot; +fromColDx + &quot;:&quot; + fromRow + &quot;:&quot; + fromRowDy + &quot;:&quot; + toCol + &quot;:&quot; + toColDx + &quot;:&quot; + toRow + &quot;:&quot; + toRowDy);\r\n           break;\r\n          }\r\n         } \r\n        } \r\n       }\r\n      }\r\n    \r\n      if (xmlcursor!=null &amp;&amp; xmlcursor.hasNextToken()) \r\n       return new Control(name, objectType, checked, r, c);\r\n    \r\n      return new Control(&quot;Not found&quot;, &quot;unknown&quot;, &quot;undefined&quot;, r, c); \r\n     }\r\n    \r\n     public static void main(String[] args) throws Exception {\r\n      ReadExcelXSSFControls o = new ReadExcelXSSFControls();\r\n     }\r\n    \r\n     private class Control {\r\n      private String name;\r\n      private String objectType;\r\n      private String checked;\r\n      private int row;\r\n      private int col;\r\n      public Control(String name, String objectType, String checked, int row, int col) {\r\n       this.name = name;\r\n       this.objectType = objectType;\r\n       this.checked = checked;\r\n       this.row = row;\r\n       this.col= col;\r\n      }\r\n      public String getName() {\r\n       return this.name;\r\n      }\r\n      public String getObjectType() {\r\n       return this.objectType;\r\n      }\r\n      public String getChecked() {\r\n       return this.checked;\r\n      }\r\n      public int getRow() {\r\n       return this.row;\r\n      }\r\n      public int getCol() {\r\n       return this.col;\r\n      }\r\n      public String toString() {\r\n       return this.name + &quot;:r/c:&quot; +row+ &quot;/&quot; + col + &quot;:&quot; + this.checked;\r\n      }\r\n     }\r\n    }\r\n\r\nResult:\r\n\r\n    axel@arichter:~/Dokumente/JAVA/poi/poi-3.17$ java -cp .:./*:./lib/*:./ooxml-lib/* ReadExcelXSSFControls \r\n    Product\t Status\t\r\n    a\t     Checkbox in row 2:r/c:1/1:Checked\r\n    b\t     Not found:r/c:2/1:undefined\r\n    c\t     Checkbox in row 4:r/c:3/1:Not checked\r\n    d\t     Checkbox in row 5:r/c:4/1:Checked\r\n    e\t     Radio in row 6:r/c:5/1:Checked\r\n    f\t     Not found:r/c:6/1:undefined\r\n    g\t     Not found:r/c:7/1:undefined\r\n    e\t     Checkbox in row 9:r/c:8/1:Checked\r\n    f\t     Not found:r/c:9/1:undefined\r\n    h\t     Radio in row 11:r/c:10/1:Not checked\r\n    ActiveX\t Pict in row 14:r/c:13/1:Not checked\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/inHIo.png\r\n\r\n_____________________________________________________________________\r\n\r\nSince Apache POI version 5 it is:\r\n\r\n    ...\r\n    //import org.apache.poi.POIXMLDocumentPart;\r\n    import org.apache.poi.ooxml.POIXMLDocumentPart;\r\n    ...\r\n\r\n\r\n","title":"How to get the checkbox value selected from excel sheet","body":"<p>Controls are not contained in the cells but hovers in the drawing layer over the sheet as shapes and only are anchored to the cells. So the cell may be null (because of no content in it) although a shape hovers over it and is anchored to it.</p>\n<p>Moreover there are two different kinds of controls possible. There are form controls and <code>ActiveX</code> controls. The states of <code>ActiveX</code> controls are stored in binary code parts <code>activeX1.bin</code> and thus  getting the state of them is very hard.</p>\n<p>In earlier <code>Excel</code> versions (2007 for example) the anchor informations of all controls are stored in <code>/xl/drawings/vmlDrawing1.vml</code> only. Later versions are storing them in default drawing and within</p>\n<pre><code>&lt;controls&gt;\n &lt;mc:AlternateContent&gt;\n  ...\n &lt;/mc:AlternateContent&gt;\n&lt;/controls&gt;\n</code></pre>\n<p>parts in the sheet <code>XML</code> too. Fortunately there is also <code>/xl/drawings/vmlDrawing1.vml</code> for backwards compatibility.</p>\n<p>The following code does parsing the  <code>/xl/drawings/vmlDrawing1.vml</code> to get the control which is possible anchored to a cell. If found, it gets this control and if this control is a form control and <strong>not</strong> a <code>ActiveX</code> control, then it also can get it's state. For <code>ActiveX</code> controls it gets only the information, that a &quot;Pict&quot; is anchored to this cell.</p>\n<p>Excel:</p>\n<p><a href=\"https://i.stack.imgur.com/inHIo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/inHIo.png\" alt=\"enter image description here\" /></a></p>\n<p>Code:</p>\n<pre><code>import java.io.*;\n\nimport org.apache.poi.ss.usermodel.*;\nimport org.apache.poi.xssf.usermodel.*;\n\nimport org.apache.poi.POIXMLDocumentPart;\n\nimport org.apache.poi.util.Units;\n\nimport org.apache.xmlbeans.XmlCursor;\nimport org.apache.xmlbeans.XmlObject;\n\nimport javax.xml.namespace.QName;\n\nclass ReadExcelXSSFControls {\n\n public ReadExcelXSSFControls() throws Exception {\n  XSSFWorkbook wb  = (XSSFWorkbook)WorkbookFactory.create(new FileInputStream(&quot;ExcelWithControls.xlsx&quot;));\n\n  Sheet sheet = wb.getSheetAt(0);\n  for (Row row : sheet) {\n   for (int c = 0; c &lt; 2; c++) {\n    Cell cell = row.getCell(c);\n    if (row.getRowNum() == 0) {\n     System.out.print(cell + &quot;\\t&quot;);\n    } else {\n     if (c == 0) {\n      System.out.print(cell + &quot;\\t&quot;);\n     } else if (c == 1) {\n      if (cell == null) cell = row.createCell(c);\n      Control contol = getControlAt((XSSFCell)cell);\n      System.out.print(contol);     \n     }\n    }\n   }\n   System.out.println();\n  }\n\n  wb.close();\n }\n\n private Control getControlAt(XSSFCell cell) throws Exception {\n  XSSFSheet sheet = cell.getSheet();\n  Row row =  cell.getRow();\n  int r = row.getRowNum();\n  int c = cell.getColumnIndex();\n\n  int drheight = (int)Math.round(sheet.getDefaultRowHeightInPoints() * Units.PIXEL_DPI / Units.POINT_DPI);\n  int rheight = (int)Math.round(row.getHeightInPoints() * Units.PIXEL_DPI / Units.POINT_DPI);\n  row = null;\n  if(r &gt; 0) row = sheet.getRow(r-1);\n  int rheightbefore = (row!=null)?(int)Math.round(row.getHeightInPoints() * Units.PIXEL_DPI / Units.POINT_DPI):drheight;\n  row = sheet.getRow(r+1);\n  int rheightafter = (row!=null)?(int)Math.round(row.getHeightInPoints() * Units.PIXEL_DPI / Units.POINT_DPI):drheight;\n\n  String name = null;\n  String objectType = null;\n  String checked = null;\n\n  XmlCursor xmlcursor = null;\n  if (sheet.getCTWorksheet().getLegacyDrawing() != null) {\n   String legacyDrawingId = sheet.getCTWorksheet().getLegacyDrawing().getId();\n   POIXMLDocumentPart part = sheet.getRelationById(legacyDrawingId);\n   XmlObject xmlDrawing = XmlObject.Factory.parse(part.getPackagePart().getInputStream());\n   xmlcursor = xmlDrawing.newCursor();\n   QName qnameClientData = new QName(&quot;urn:schemas-microsoft-com:office:excel&quot;, &quot;ClientData&quot;, &quot;x&quot;);\n   QName qnameAnchor = new QName(&quot;urn:schemas-microsoft-com:office:excel&quot;, &quot;Anchor&quot;, &quot;x&quot;);\n   boolean controlFound = false;\n   while (xmlcursor.hasNextToken()) {\n    XmlCursor.TokenType tokentype = xmlcursor.toNextToken();\n    if (tokentype.isStart()) {\n     if (qnameClientData.equals(xmlcursor.getName())) {\n      controlFound = true;\n      XmlObject clientdata = xmlcursor.getObject();\n      XmlObject[] xmlchecked = clientdata.selectPath(&quot;declare namespace x='urn:schemas-microsoft-com:office:excel' x:Checked&quot;);\n      if (xmlchecked.length &gt; 0) {\n       checked = &quot;Checked&quot;;\n      } else {\n       checked = &quot;Not checked&quot;;\n      }\n      while (xmlcursor.hasNextToken()) {\n       tokentype = xmlcursor.toNextToken(); \n       if (tokentype.isAttr()) {\n        if (new QName(&quot;ObjectType&quot;).equals(xmlcursor.getName())) {\n         objectType = xmlcursor.getTextValue();\n         name = objectType + &quot; in row &quot; + (r+1);\n        } \n       } else {\n        break;\n       }\n      }\n     } else if (qnameAnchor.equals(xmlcursor.getName()) &amp;&amp; controlFound) {\n      controlFound = false;\n      String anchorContent = xmlcursor.getTextValue().trim();\n      String[] anchorparts = anchorContent.split(&quot;,&quot;);\n      int fromCol = Integer.parseInt(anchorparts[0].trim());\n      int fromColDx = Integer.parseInt(anchorparts[1].trim());\n      int fromRow = Integer.parseInt(anchorparts[2].trim());\n      int fromRowDy = Integer.parseInt(anchorparts[3].trim());\n      int toCol = Integer.parseInt(anchorparts[4].trim());\n      int toColDx = Integer.parseInt(anchorparts[5].trim());\n      int toRow = Integer.parseInt(anchorparts[6].trim());\n      int toRowDy = Integer.parseInt(anchorparts[7].trim());\n\n      if (fromCol == c /*needs only starting into the column*/\n       &amp;&amp; (fromRow == r || (fromRow == r-1 &amp;&amp; fromRowDy &gt; rheightbefore/2f)) \n       &amp;&amp; (toRow == r || (toRow == r+1 &amp;&amp; toRowDy &lt; rheightafter/2f))) {\n//System.out.print(fromCol + &quot;:&quot; +fromColDx + &quot;:&quot; + fromRow + &quot;:&quot; + fromRowDy + &quot;:&quot; + toCol + &quot;:&quot; + toColDx + &quot;:&quot; + toRow + &quot;:&quot; + toRowDy);\n       break;\n      }\n     } \n    } \n   }\n  }\n\n  if (xmlcursor!=null &amp;&amp; xmlcursor.hasNextToken()) \n   return new Control(name, objectType, checked, r, c);\n\n  return new Control(&quot;Not found&quot;, &quot;unknown&quot;, &quot;undefined&quot;, r, c); \n }\n\n public static void main(String[] args) throws Exception {\n  ReadExcelXSSFControls o = new ReadExcelXSSFControls();\n }\n\n private class Control {\n  private String name;\n  private String objectType;\n  private String checked;\n  private int row;\n  private int col;\n  public Control(String name, String objectType, String checked, int row, int col) {\n   this.name = name;\n   this.objectType = objectType;\n   this.checked = checked;\n   this.row = row;\n   this.col= col;\n  }\n  public String getName() {\n   return this.name;\n  }\n  public String getObjectType() {\n   return this.objectType;\n  }\n  public String getChecked() {\n   return this.checked;\n  }\n  public int getRow() {\n   return this.row;\n  }\n  public int getCol() {\n   return this.col;\n  }\n  public String toString() {\n   return this.name + &quot;:r/c:&quot; +row+ &quot;/&quot; + col + &quot;:&quot; + this.checked;\n  }\n }\n}\n</code></pre>\n<p>Result:</p>\n<pre><code>axel@arichter:~/Dokumente/JAVA/poi/poi-3.17$ java -cp .:./*:./lib/*:./ooxml-lib/* ReadExcelXSSFControls \nProduct  Status \na        Checkbox in row 2:r/c:1/1:Checked\nb        Not found:r/c:2/1:undefined\nc        Checkbox in row 4:r/c:3/1:Not checked\nd        Checkbox in row 5:r/c:4/1:Checked\ne        Radio in row 6:r/c:5/1:Checked\nf        Not found:r/c:6/1:undefined\ng        Not found:r/c:7/1:undefined\ne        Checkbox in row 9:r/c:8/1:Checked\nf        Not found:r/c:9/1:undefined\nh        Radio in row 11:r/c:10/1:Not checked\nActiveX  Pict in row 14:r/c:13/1:Not checked\n</code></pre>\n<hr />\n<p>Since Apache POI version 5 it is:</p>\n<pre><code>...\n//import org.apache.poi.POIXMLDocumentPart;\nimport org.apache.poi.ooxml.POIXMLDocumentPart;\n...\n</code></pre>\n"}],"owner":{"account_id":12133038,"reputation":39,"user_id":8859337,"display_name":"Ram Veladri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3546,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":1,"score":3,"last_activity_date":1701074140,"creation_date":1519458624,"question_id":48960620,"body_markdown":"I am working on a task related to reading an excel which contains radio buttons and checkbox using Java, I have tried a lot but can&#39;t move further on this, when I am trying to read the data of cell containing Checkbox it is returning a null value.\r\n\r\n[![enter image description here] [1]][1]\r\n\r\nCan someone please help with this.\r\n\r\n  [1]: https://i.stack.imgur.com/TYIhn.png","title":"How to get the checkbox value selected from excel sheet","body":"<p>I am working on a task related to reading an excel which contains radio buttons and checkbox using Java, I have tried a lot but can't move further on this, when I am trying to read the data of cell containing Checkbox it is returning a null value.</p>\n\n<p><a href=\"https://i.stack.imgur.com/TYIhn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TYIhn.png\" alt=\"enter image description here\"></a></p>\n\n<p>Can someone please help with this.</p>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1700253698,"post_id":77503129,"comment_id":136636211,"body_markdown":"It is not clear what you are asking. Please read [How to Ask](https://stackoverflow.com/help/how-to-ask) and improve the question.","body":"It is not clear what you are asking. Please read <a href=\"https://stackoverflow.com/help/how-to-ask\">How to Ask</a> and improve the question."}],"answers":[{"tags":[],"owner":{"account_id":11712095,"reputation":102,"user_id":8574917,"display_name":"Micah"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701073604,"creation_date":1701073604,"answer_id":77555445,"question_id":77503129,"body_markdown":"Finally, I found solution only using reflection\r\n\r\n```\r\npublic abstract class SoqTask extends DefaultTask {\r\n    @Input\r\n    public abstract Property&lt;File&gt; getOutputDir();\r\n    @Input\r\n    public abstract ListProperty&lt;URL&gt; getInputUrls();\r\n    @Input\r\n    public abstract Property&lt;String&gt; getSerializerFileName();\r\n\r\n    @TaskAction\r\n    public void generate() {\r\n        URL[] urls = getInputUrls().get().toArray(new URL[0]);\r\n        try (URLClassLoader urlClassLoader = new URLClassLoader(urls)) {\r\n            Class&lt;?&gt; factoryClass =\r\n                    urlClassLoader.loadClass(&quot;my.org.GoodRecordFactory&quot;);\r\n            Method getInstanceMethod = factoryClass.getMethod(&quot;instance&quot;);\r\n            Object recordSerializer = getInstanceMethod.invoke(factoryClass);\r\n            Objects.requireNonNull(recordSerializer);\r\n\r\n            Class&lt;?&gt; serializerUtils =\r\n                    urlClassLoader.loadClass(&quot;my.org.Util&quot;);\r\n            Method serializeMethod = Arrays.stream(serializerUtils.getMethods())\r\n                    .filter(e -&gt; &quot;serialize&quot;.equals(e.getName()))\r\n                    .findFirst().orElseThrow(RuntimeException::new);\r\n            byte[] serializedBytes = (byte[]) serializeMethod.invoke(serializerUtils, recordSerializer);\r\n            \r\n            File outputFile = new File(getOutputDir().get(), getSerializerFileName().get());\r\n            try (FileOutputStream outputStream = new FileOutputStream(outputFile)) {\r\n                outputStream.write(serializedBytes);\r\n            }\r\n        } catch (Exception e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\nand in gradle using:\r\n\r\n```\r\nimport one.ids.gradle.SoqTask\r\ntasks.register(&quot;oqTask&quot;, SoqTask) {\r\n    dependsOn(serverJava)\r\n    inputUrls = (sourceSets.server.output.getClassesDirs() + sourceSets.server.runtimeClasspath.files)\r\n            .collect(f -&gt; f.toURI().toURL() as URL)\r\n    outputDir = sourceSets.server.java.destinationDirectory.get().asFile\r\n    serializerFileName = &quot;serializer.bin&quot;\r\n}\r\n```\r\n\r\n\r\n","title":"How to use source code inside gradle task for create file and then make jar with all of them?","body":"<p>Finally, I found solution only using reflection</p>\n<pre><code>public abstract class SoqTask extends DefaultTask {\n    @Input\n    public abstract Property&lt;File&gt; getOutputDir();\n    @Input\n    public abstract ListProperty&lt;URL&gt; getInputUrls();\n    @Input\n    public abstract Property&lt;String&gt; getSerializerFileName();\n\n    @TaskAction\n    public void generate() {\n        URL[] urls = getInputUrls().get().toArray(new URL[0]);\n        try (URLClassLoader urlClassLoader = new URLClassLoader(urls)) {\n            Class&lt;?&gt; factoryClass =\n                    urlClassLoader.loadClass(&quot;my.org.GoodRecordFactory&quot;);\n            Method getInstanceMethod = factoryClass.getMethod(&quot;instance&quot;);\n            Object recordSerializer = getInstanceMethod.invoke(factoryClass);\n            Objects.requireNonNull(recordSerializer);\n\n            Class&lt;?&gt; serializerUtils =\n                    urlClassLoader.loadClass(&quot;my.org.Util&quot;);\n            Method serializeMethod = Arrays.stream(serializerUtils.getMethods())\n                    .filter(e -&gt; &quot;serialize&quot;.equals(e.getName()))\n                    .findFirst().orElseThrow(RuntimeException::new);\n            byte[] serializedBytes = (byte[]) serializeMethod.invoke(serializerUtils, recordSerializer);\n            \n            File outputFile = new File(getOutputDir().get(), getSerializerFileName().get());\n            try (FileOutputStream outputStream = new FileOutputStream(outputFile)) {\n                outputStream.write(serializedBytes);\n            }\n        } catch (Exception e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n}\n</code></pre>\n<p>and in gradle using:</p>\n<pre><code>import one.ids.gradle.SoqTask\ntasks.register(&quot;oqTask&quot;, SoqTask) {\n    dependsOn(serverJava)\n    inputUrls = (sourceSets.server.output.getClassesDirs() + sourceSets.server.runtimeClasspath.files)\n            .collect(f -&gt; f.toURI().toURL() as URL)\n    outputDir = sourceSets.server.java.destinationDirectory.get().asFile\n    serializerFileName = &quot;serializer.bin&quot;\n}\n</code></pre>\n"}],"owner":{"account_id":11712095,"reputation":102,"user_id":8574917,"display_name":"Micah"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701073604,"creation_date":1700237898,"question_id":77503129,"body_markdown":"I have task in projectRoot/buildSrc\r\n\r\n```\r\npackage myapp.gradle;\r\n\r\nimport myapp.Utils;\r\nimport myapp.GoodRecord;\r\nimport myapp.GoodRecordFactory;\r\nimport org.apache.commons.io.FileUtils;\r\nimport org.gradle.api.DefaultTask;\r\nimport org.gradle.api.tasks.TaskAction;\r\n\r\nimport java.io.File;\r\nimport java.io.IOException;\r\n\r\npublic class SoqTask extends DefaultTask {\r\n    private File saveToDir;\r\n\r\n    public void setSaveToDir(File saveToDir) {\r\n        this.saveToDir = saveToDir;\r\n    }\r\n    @TaskAction\r\n    public void run() {\r\n        try {\r\n            GoodRecord instance = GoodRecordFactory.instance();\r\n            byte[] serialize = Utils.serialize(instance);\r\n            FileUtils.writeByteArrayToFile(new File(saveToDir, &quot;goodrecord.bin&quot;), serialize);\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nbut SoqTask doesn&#39;t have access for necessary imported classes. \r\n\r\nHow to use project code for create the file and then build it together in one jar?","title":"How to use source code inside gradle task for create file and then make jar with all of them?","body":"<p>I have task in projectRoot/buildSrc</p>\n<pre><code>package myapp.gradle;\n\nimport myapp.Utils;\nimport myapp.GoodRecord;\nimport myapp.GoodRecordFactory;\nimport org.apache.commons.io.FileUtils;\nimport org.gradle.api.DefaultTask;\nimport org.gradle.api.tasks.TaskAction;\n\nimport java.io.File;\nimport java.io.IOException;\n\npublic class SoqTask extends DefaultTask {\n    private File saveToDir;\n\n    public void setSaveToDir(File saveToDir) {\n        this.saveToDir = saveToDir;\n    }\n    @TaskAction\n    public void run() {\n        try {\n            GoodRecord instance = GoodRecordFactory.instance();\n            byte[] serialize = Utils.serialize(instance);\n            FileUtils.writeByteArrayToFile(new File(saveToDir, &quot;goodrecord.bin&quot;), serialize);\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n}\n</code></pre>\n<p>but SoqTask doesn't have access for necessary imported classes.</p>\n<p>How to use project code for create the file and then build it together in one jar?</p>\n"},{"tags":["java","elasticsearch","hibernate-search","hibernate-search-6"],"answers":[{"tags":[],"owner":{"account_id":8974783,"reputation":9445,"user_id":6692043,"display_name":"yrodiere"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701073297,"creation_date":1701073297,"answer_id":77555419,"question_id":77552121,"body_markdown":"You can [target multiple fields explicitly](https://docs.jboss.org/hibernate/stable/search/reference/en-US/html_single/#search-dsl-predicate-simpleQueryString-multiple-fields) when you define your predicate:\r\n\r\n\r\n```java\r\nSearchResult&lt;Employee&gt; searchResult = searchSession.search(Employee.class)\r\n        .where(f -&gt; f.simpleQueryString()\r\n                .fields(&quot;employee_key&quot;, &quot;first_name&quot;, &quot;addresses.address_key&quot;)\r\n                .matching(queryString))\r\n        .fetch(Math.toIntExact(page.getOffset()), page.getPageSize());\r\n```\r\n\r\nThere is no option to just target &quot;all text fields&quot; at the moment; see https://hibernate.atlassian.net/browse/HSEARCH-3926 .\r\n\r\n---\r\n\r\n\r\nAlso, just to be clear, the simple-query-string syntax does not support explicitly referring to fields in the query string.\r\n\r\nIn this example:\r\n\r\n```java\r\nf.simpleQueryString().fields(&quot;addresses.address_key&quot;)\r\n        .matching(&quot;addresses.address_key:123&quot;)\r\n```\r\n\r\n... the &quot;addresses.address_key:&quot; prefix in the searched string (&quot;addresses.address_key:123&quot;) has not particular meaning and will just be interpreted as terms to be found in the document.\r\n\r\nYou might as well have written it like this:\r\n\r\n\r\n```java\r\nf.simpleQueryString().fields(&quot;addresses.address_key&quot;)\r\n        .matching(&quot;addresses.address_key 123&quot;)\r\n```\r\n\r\nBut really, I think what you want is this:\r\n\r\n\r\n```java\r\nf.simpleQueryString().fields(&quot;addresses.address_key&quot;)\r\n        .matching(&quot;123&quot;)\r\n```","title":"How to search in all fields of indexed entities in ElasticSeacrch using hibernateSearch 6","body":"<p>You can <a href=\"https://docs.jboss.org/hibernate/stable/search/reference/en-US/html_single/#search-dsl-predicate-simpleQueryString-multiple-fields\" rel=\"nofollow noreferrer\">target multiple fields explicitly</a> when you define your predicate:</p>\n<pre class=\"lang-java prettyprint-override\"><code>SearchResult&lt;Employee&gt; searchResult = searchSession.search(Employee.class)\n        .where(f -&gt; f.simpleQueryString()\n                .fields(&quot;employee_key&quot;, &quot;first_name&quot;, &quot;addresses.address_key&quot;)\n                .matching(queryString))\n        .fetch(Math.toIntExact(page.getOffset()), page.getPageSize());\n</code></pre>\n<p>There is no option to just target &quot;all text fields&quot; at the moment; see <a href=\"https://hibernate.atlassian.net/browse/HSEARCH-3926\" rel=\"nofollow noreferrer\">https://hibernate.atlassian.net/browse/HSEARCH-3926</a> .</p>\n<hr />\n<p>Also, just to be clear, the simple-query-string syntax does not support explicitly referring to fields in the query string.</p>\n<p>In this example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>f.simpleQueryString().fields(&quot;addresses.address_key&quot;)\n        .matching(&quot;addresses.address_key:123&quot;)\n</code></pre>\n<p>... the &quot;addresses.address_key:&quot; prefix in the searched string (&quot;addresses.address_key:123&quot;) has not particular meaning and will just be interpreted as terms to be found in the document.</p>\n<p>You might as well have written it like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>f.simpleQueryString().fields(&quot;addresses.address_key&quot;)\n        .matching(&quot;addresses.address_key 123&quot;)\n</code></pre>\n<p>But really, I think what you want is this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>f.simpleQueryString().fields(&quot;addresses.address_key&quot;)\n        .matching(&quot;123&quot;)\n</code></pre>\n"}],"owner":{"account_id":3074142,"reputation":991,"user_id":2603985,"accept_rate":41,"display_name":"javaguy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701073297,"creation_date":1701009591,"question_id":77552121,"body_markdown":"   \r\nI have following method which searches in ElasticSearch using Hibernate Search API. I pass queryString value as &quot;addresses.address_key:123&quot; which searches in addresses.address_key as mentioned in fields(addresses.address_key).\r\n\r\nHow can I make this method take any input in queryString, for example: first_name:john\r\nand make it search in all FullTextFields.\r\n\r\nElasticSearch version: 8.10\r\nHibernateSearch version: 6.2.2\r\n\r\n    public Page&lt;Employee&gt; searchEmployee(String queryString) {\r\n           try {\r\n                SearchSession searchSession = Search.session(entityManager);\r\n    \r\n                SearchResult&lt;Employee&gt; searchResult = searchSession.search(Employee.class)\r\n                        .extension(ElasticsearchExtension.get())\r\n                        .where(f -&gt; f.simpleQueryString().fields(&quot;addresses.address_key&quot;).matching(queryString))\r\n                        .fetch(Math.toIntExact(page.getOffset()), page.getPageSize());\r\n    \r\n                Page&lt;Employee&gt; pageResult = new PageImpl&lt;&gt;(searchResult.hits(), page, searchResult.total().hitCount());\r\n                return pageResult;\r\n            } catch (SearchException pe) {\r\n               throw pe;\r\n            }\r\n    }\r\n\r\nEntity classes which are indexed:\r\n\r\n    @Indexed(index = &quot;employee&quot;)\r\n    public class Employee {\r\n    \r\n      @FullTextField(name = &quot;employee_key&quot;)\r\n      private String employeeKey;\r\n    \r\n      @FullTextField(name = &quot;first_name&quot;)\r\n      private String firstName;\r\n    \t\r\n      @IndexedEmbedded(includeEmbeddedObjectId = true, includeDepth = 2)\r\n      private Address addresses;\r\n    }\r\n    \r\n    public class Address {\r\n    \t\r\n      @FullTextField(name = &quot;address_key&quot;)\r\n      private String addressKey;\r\n    \r\n      @FullTextField(name = &quot;street_name&quot;)\r\n      private String streetName;\r\n    \r\n    } ","title":"How to search in all fields of indexed entities in ElasticSeacrch using hibernateSearch 6","body":"<p>I have following method which searches in ElasticSearch using Hibernate Search API. I pass queryString value as &quot;addresses.address_key:123&quot; which searches in addresses.address_key as mentioned in fields(addresses.address_key).</p>\n<p>How can I make this method take any input in queryString, for example: first_name:john\nand make it search in all FullTextFields.</p>\n<p>ElasticSearch version: 8.10\nHibernateSearch version: 6.2.2</p>\n<pre><code>public Page&lt;Employee&gt; searchEmployee(String queryString) {\n       try {\n            SearchSession searchSession = Search.session(entityManager);\n\n            SearchResult&lt;Employee&gt; searchResult = searchSession.search(Employee.class)\n                    .extension(ElasticsearchExtension.get())\n                    .where(f -&gt; f.simpleQueryString().fields(&quot;addresses.address_key&quot;).matching(queryString))\n                    .fetch(Math.toIntExact(page.getOffset()), page.getPageSize());\n\n            Page&lt;Employee&gt; pageResult = new PageImpl&lt;&gt;(searchResult.hits(), page, searchResult.total().hitCount());\n            return pageResult;\n        } catch (SearchException pe) {\n           throw pe;\n        }\n}\n</code></pre>\n<p>Entity classes which are indexed:</p>\n<pre><code>@Indexed(index = &quot;employee&quot;)\npublic class Employee {\n\n  @FullTextField(name = &quot;employee_key&quot;)\n  private String employeeKey;\n\n  @FullTextField(name = &quot;first_name&quot;)\n  private String firstName;\n    \n  @IndexedEmbedded(includeEmbeddedObjectId = true, includeDepth = 2)\n  private Address addresses;\n}\n\npublic class Address {\n    \n  @FullTextField(name = &quot;address_key&quot;)\n  private String addressKey;\n\n  @FullTextField(name = &quot;street_name&quot;)\n  private String streetName;\n\n} \n</code></pre>\n"},{"tags":["java","spring","graphql","spring-graphql"],"comments":[{"owner":{"account_id":11818,"reputation":57413,"user_id":22982,"accept_rate":100,"display_name":"Brian Clozel"},"score":0,"creation_date":1700576226,"post_id":77523076,"comment_id":136669820,"body_markdown":"Could you share the error you&#39;re getting?","body":"Could you share the error you&#39;re getting?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1700638210,"post_id":77523076,"comment_id":136677803,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":19828591,"reputation":11,"user_id":14523664,"display_name":"SwimmingHigh"},"score":0,"creation_date":1700648550,"post_id":77523076,"comment_id":136679529,"body_markdown":"@BrianClozel, I&#39;ve added the error message. Could you please check again?","body":"@BrianClozel, I&#39;ve added the error message. Could you please check again?"},{"owner":{"account_id":11818,"reputation":57413,"user_id":22982,"accept_rate":100,"display_name":"Brian Clozel"},"score":0,"creation_date":1700834278,"post_id":77523076,"comment_id":136704898,"body_markdown":"I can&#39;t reproduce this problem with Spring Boot 2.7.18. Can you create a sample application that shows the problem?","body":"I can&#39;t reproduce this problem with Spring Boot 2.7.18. Can you create a sample application that shows the problem?"},{"owner":{"account_id":19828591,"reputation":11,"user_id":14523664,"display_name":"SwimmingHigh"},"score":0,"creation_date":1701074319,"post_id":77523076,"comment_id":136725197,"body_markdown":"@BrianClozel I should&#39;ve posted the entire related code, but couldn&#39;t due to some reasons. I&#39;ve found the solution, and hope you can confirm it too. Thanks for your time.","body":"@BrianClozel I should&#39;ve posted the entire related code, but couldn&#39;t due to some reasons. I&#39;ve found the solution, and hope you can confirm it too. Thanks for your time."}],"answers":[{"tags":[],"owner":{"account_id":19828591,"reputation":11,"user_id":14523664,"display_name":"SwimmingHigh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701073264,"creation_date":1701073264,"answer_id":77555416,"question_id":77523076,"body_markdown":"**TLDR:**\r\nMatch the name of your object in the GraphQL schema to your Java class (along with case sensitivity), and you&#39;ll have a working code. \r\n\r\n---\r\nI solved the error I was getting. \r\nApparently, for the normal GraphQL queries, it doesn&#39;t matter if the name of your entity in the GraphQL schema, as well as the Java class, is the same or not. \r\n\r\nHowever, when you create a union with the same entities, the names in the GraphQL schema and Java class must match with case sensitivity. \r\n\r\nBasically, if you have an object Address, and you make the GraphQL schema like this:\r\n\r\n    type address{\r\n    .....\r\n    }\r\n\r\nand the Java Object like this:\r\n\r\n    Class Address{\r\n    ....\r\n    }\r\n\r\na simple GraphQL query like this would still work:\r\n\r\n    type Query{\r\n       getAddress: address\r\n    }\r\n\r\nHowever, if you create a union of the Tables as I did, it&#39;ll throw an error.  \r\n\r\nThe following code won&#39;t work and will throw the error that I had been receiving. \r\n\r\n   \r\n\r\n    type Query{ \r\n       getData: [Tables]\r\n    }\r\n    \r\n    type address{\r\n       .....\r\n    }\r\n        \r\n    union Tables = address | identifier\r\n\r\n**You need the name of your object in the GraphQL schema and the Java class to be exactly the same (along with case sensitivity).**\r\nI changed &#39;address&#39; to &#39;Address&#39; in the GraphQL schema, and voila!!\r\n\r\n**The final code that worked is as follows:**\r\n\r\nJava class:\r\n\r\n    Class Address{\r\n    ....\r\n    }\r\n\r\nGraphQL schema:\r\n\r\n    type Address{\r\n        .....\r\n    }\r\n\r\n    type Query{ \r\n       getData: [Tables]\r\n    }\r\n        \r\n    union Tables = Address | Identifier\r\n","title":"How to implement union in spring-graphql? I get error that I&#39;m requesting object but its rather a &#39;graphql.schema.GraphQLUnionType&#39;","body":"<p><strong>TLDR:</strong>\nMatch the name of your object in the GraphQL schema to your Java class (along with case sensitivity), and you'll have a working code.</p>\n<hr />\n<p>I solved the error I was getting.\nApparently, for the normal GraphQL queries, it doesn't matter if the name of your entity in the GraphQL schema, as well as the Java class, is the same or not.</p>\n<p>However, when you create a union with the same entities, the names in the GraphQL schema and Java class must match with case sensitivity.</p>\n<p>Basically, if you have an object Address, and you make the GraphQL schema like this:</p>\n<pre><code>type address{\n.....\n}\n</code></pre>\n<p>and the Java Object like this:</p>\n<pre><code>Class Address{\n....\n}\n</code></pre>\n<p>a simple GraphQL query like this would still work:</p>\n<pre><code>type Query{\n   getAddress: address\n}\n</code></pre>\n<p>However, if you create a union of the Tables as I did, it'll throw an error.</p>\n<p>The following code won't work and will throw the error that I had been receiving.</p>\n<pre><code>type Query{ \n   getData: [Tables]\n}\n\ntype address{\n   .....\n}\n    \nunion Tables = address | identifier\n</code></pre>\n<p><strong>You need the name of your object in the GraphQL schema and the Java class to be exactly the same (along with case sensitivity).</strong>\nI changed 'address' to 'Address' in the GraphQL schema, and voila!!</p>\n<p><strong>The final code that worked is as follows:</strong></p>\n<p>Java class:</p>\n<pre><code>Class Address{\n....\n}\n</code></pre>\n<p>GraphQL schema:</p>\n<pre><code>type Address{\n    .....\n}\n\ntype Query{ \n   getData: [Tables]\n}\n    \nunion Tables = Address | Identifier\n</code></pre>\n"}],"owner":{"account_id":19828591,"reputation":11,"user_id":14523664,"display_name":"SwimmingHigh"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77555416,"answer_count":1,"score":0,"last_activity_date":1701073264,"creation_date":1700572055,"question_id":77523076,"body_markdown":"I wanted to create a union named Tables, that holds all the other tables and the user can request the table accordingly.\r\nI get the error:\r\nYou have asked for named object type &#39;Tables&#39;, but it&#39;s not an object type but rather a &#39;graphql.schema.GraphQLUnionType&#39;\r\n\r\n\r\nHere is my graphql schema:\r\n\r\n```\r\ntype Query{ \r\n  getData: [Tables]\r\n}\r\nunion Tables = address | identifier\r\n```\r\nMy query is a simple one: \r\n```\r\nquery allData{ \r\n getData{ \r\n  __typename \r\n } \r\n}\r\n```\r\n\r\nMy Java method looks like this:\r\n```\r\n@QueryMapping \r\npublic List getData() { \r\n return List.of(new Address());\r\n}\r\n```\r\n\r\nHere is the error I&#39;m receiving:\r\n\r\n```\r\nERROR 14724 - [nio-8880-exec-1] o.a.c.c.[. [. [/].[dispatcherServlet] : Servlet.service() for servlet\r\n[dispatcherServlet] threw exception\r\n\r\njava.util.concurrent.CompletionException Create breakpoint: graphql.AssertException: You have asked for named object type &#39;Tables&#39; but its not an object type but rather a &#39;graphql.schema.GraphQLUnionType&#39;\r\n\r\nat java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331) ~[na:na]\r\n\r\nat java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346) ~[na:na] at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete (CompletableFuture.java:870) ~[na:na]\r\n\r\njava.base/java.util.concurrent.CompletableFuture.uniWhenCompleteStage(CompletableFuture.java:883) -[na:na]\r\n\r\nat at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:2251) ~[na:na]\r\n\r\nat graphql.execution.Execution.executeoperation(Execution.java:174) ~[graphql-java-18.5.jar:na]\r\n\r\nat graphql.execution.Execution.execute(Execution.java:105) -[graphql-java-18.5.jar:na]\r\n\r\nat graphql.GraphQL.execute(GraphQL.java:641) [graphql-java-18.5.jar:na]\r\n\r\nat graphql.GraphQL.LambdasparseValidateAndExecute$11(GraphQL.java:561) -[graphql-java-18.5.jar:na] at java.base/java.util.concurrent.CompletableFuture.uniComposeStage(CompletableFuture.java:1106)-[na:na]\r\n\r\nat java.base/java.util.concurrent.CompletableFuture.thenCompose(CompletableFuture.java:2235)-[na:na]\r\n\r\nat graphql.GraphQL.parseValidateAndExecute(GraphQL.java:556) -[graphql-java-18.5.jar:na] at graphql.GraphQL.executeAsync(Graphq.java:524) [graphql-java-18.5.jar:na]\r\n\r\nat org.springframework.graphql.execution.DefaultExecutionGraphql.Service.Lambda$execute$2(DefaultExecution@nave -[spring-graphql-1.0.6.jar:1.0.6]\r\n\r\nat reactor.core.publisher.MonoDeferContextual.subscribe(MongDeferContextual.java:47) -[ reactor-core-3.4.33.jar:3.4.33]\r\n```\r\n\r\nI saw some implementations and this should work, but throws an error in my case. \r\n\r\n**My Classes Address and Identifier are Hibernate Entities**. \r\n\r\nI simply wanted to create a generic controller that can serve as an entry point for all the tables. \r\nI thought union would do the job, what can I do in this case? ","title":"How to implement union in spring-graphql? I get error that I&#39;m requesting object but its rather a &#39;graphql.schema.GraphQLUnionType&#39;","body":"<p>I wanted to create a union named Tables, that holds all the other tables and the user can request the table accordingly.\nI get the error:\nYou have asked for named object type 'Tables', but it's not an object type but rather a 'graphql.schema.GraphQLUnionType'</p>\n<p>Here is my graphql schema:</p>\n<pre><code>type Query{ \n  getData: [Tables]\n}\nunion Tables = address | identifier\n</code></pre>\n<p>My query is a simple one:</p>\n<pre><code>query allData{ \n getData{ \n  __typename \n } \n}\n</code></pre>\n<p>My Java method looks like this:</p>\n<pre><code>@QueryMapping \npublic List getData() { \n return List.of(new Address());\n}\n</code></pre>\n<p>Here is the error I'm receiving:</p>\n<pre><code>ERROR 14724 - [nio-8880-exec-1] o.a.c.c.[. [. [/].[dispatcherServlet] : Servlet.service() for servlet\n[dispatcherServlet] threw exception\n\njava.util.concurrent.CompletionException Create breakpoint: graphql.AssertException: You have asked for named object type 'Tables' but its not an object type but rather a 'graphql.schema.GraphQLUnionType'\n\nat java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331) ~[na:na]\n\nat java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346) ~[na:na] at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete (CompletableFuture.java:870) ~[na:na]\n\njava.base/java.util.concurrent.CompletableFuture.uniWhenCompleteStage(CompletableFuture.java:883) -[na:na]\n\nat at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:2251) ~[na:na]\n\nat graphql.execution.Execution.executeoperation(Execution.java:174) ~[graphql-java-18.5.jar:na]\n\nat graphql.execution.Execution.execute(Execution.java:105) -[graphql-java-18.5.jar:na]\n\nat graphql.GraphQL.execute(GraphQL.java:641) [graphql-java-18.5.jar:na]\n\nat graphql.GraphQL.LambdasparseValidateAndExecute$11(GraphQL.java:561) -[graphql-java-18.5.jar:na] at java.base/java.util.concurrent.CompletableFuture.uniComposeStage(CompletableFuture.java:1106)-[na:na]\n\nat java.base/java.util.concurrent.CompletableFuture.thenCompose(CompletableFuture.java:2235)-[na:na]\n\nat graphql.GraphQL.parseValidateAndExecute(GraphQL.java:556) -[graphql-java-18.5.jar:na] at graphql.GraphQL.executeAsync(Graphq.java:524) [graphql-java-18.5.jar:na]\n\nat org.springframework.graphql.execution.DefaultExecutionGraphql.Service.Lambda$execute$2(DefaultExecution@nave -[spring-graphql-1.0.6.jar:1.0.6]\n\nat reactor.core.publisher.MonoDeferContextual.subscribe(MongDeferContextual.java:47) -[ reactor-core-3.4.33.jar:3.4.33]\n</code></pre>\n<p>I saw some implementations and this should work, but throws an error in my case.</p>\n<p><strong>My Classes Address and Identifier are Hibernate Entities</strong>.</p>\n<p>I simply wanted to create a generic controller that can serve as an entry point for all the tables.\nI thought union would do the job, what can I do in this case?</p>\n"},{"tags":["java","elasticsearch","hibernate-search","hibernate-search-6"],"answers":[{"tags":[],"owner":{"account_id":6366204,"reputation":2197,"user_id":4940126,"display_name":"mark_o"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1701072653,"creation_date":1701072653,"answer_id":77555357,"question_id":77553472,"body_markdown":"Hibernate Search expects that you&#39;d pass the query itself without the wrapper JSON object. See an example [here][1]. So in your case you should pass a:\r\n\r\n```json\r\n{\r\n   &quot;query_string&quot;:{\r\n      &quot;fields&quot;:[\r\n         &quot;addresses.address_key&quot;\r\n      ],\r\n      &quot;query&quot;:&quot;3g5g36ee-45b0-4636-79fe-9aaf446b7ab6&quot;\r\n   }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.jboss.org/hibernate/stable/search/reference/en-US/html_single/#search-dsl-predicate-extensions-elasticsearch-from-json","title":"named_object_not_found_exception while querying ElasticSearch","body":"<p>Hibernate Search expects that you'd pass the query itself without the wrapper JSON object. See an example <a href=\"https://docs.jboss.org/hibernate/stable/search/reference/en-US/html_single/#search-dsl-predicate-extensions-elasticsearch-from-json\" rel=\"nofollow noreferrer\">here</a>. So in your case you should pass a:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n   &quot;query_string&quot;:{\n      &quot;fields&quot;:[\n         &quot;addresses.address_key&quot;\n      ],\n      &quot;query&quot;:&quot;3g5g36ee-45b0-4636-79fe-9aaf446b7ab6&quot;\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":3074142,"reputation":991,"user_id":2603985,"accept_rate":41,"display_name":"javaguy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77555357,"answer_count":1,"score":0,"last_activity_date":1701072653,"creation_date":1701032226,"question_id":77553472,"body_markdown":"I am trying to query ElasticSearch using hibernateSearh 6. Following is the Json query which is sent to ElasticSearch. It looks fine as per documentation here : https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl.html\r\n\r\n    {&quot;query&quot;:{&quot;query_string&quot;:{&quot;fields&quot;:[&quot;addresses.address_key&quot;],&quot;query&quot;:&quot;3g5g36ee-45b0-4636-79fe-9aaf446b7ab6&quot;}}}\r\n\r\nHowver, getting following Exception with message:\r\n\r\n    org.hibernate.search.util.common.SearchException: HSEARCH400007: Elasticsearch request failed: HSEARCH400090: Elasticsearch response indicates a failure.\r\n    Request: POST /employee-read/_search with parameters {from=0, size=10, track_total_hits=true}\r\n    Response: 400 &#39;Bad Request&#39; from &#39;http://localhost:9200&#39; with body \r\n    {\r\n      &quot;error&quot;: {\r\n        &quot;root_cause&quot;: [\r\n          {\r\n            &quot;type&quot;: &quot;parsing_exception&quot;,\r\n            &quot;reason&quot;: &quot;unknown query [query]&quot;,\r\n            &quot;line&quot;: 1,\r\n            &quot;col&quot;: 19\r\n          }\r\n        ],\r\n        &quot;type&quot;: &quot;parsing_exception&quot;,\r\n        &quot;reason&quot;: &quot;unknown query [query]&quot;,\r\n        &quot;line&quot;: 1,\r\n        &quot;col&quot;: 19,\r\n        &quot;caused_by&quot;: {\r\n          &quot;type&quot;: &quot;named_object_not_found_exception&quot;,\r\n          &quot;reason&quot;: &quot;[1:19] unknown field [query]&quot;\r\n        }\r\n      },\r\n      &quot;status&quot;: 400\r\n    }\r\n\r\n\r\nHere are the entities:\r\n\r\n    @Indexed(index = &quot;employee&quot;)\r\n    public class Employee {\r\n    \r\n      @FullTextField(name = &quot;employee_key&quot;)\r\n      private String employeeKey;\r\n    \r\n      @FullTextField(name = &quot;first_name&quot;)\r\n      private String firstName;\r\n        \r\n      @IndexedEmbedded(includeEmbeddedObjectId = true, includeDepth = 2)\r\n      private Address addresses;\r\n    }\r\n    \r\n    public class Address {\r\n        \r\n      @FullTextField(name = &quot;address_key&quot;)\r\n      private String addressKey;\r\n    \r\n      @FullTextField(name = &quot;street_name&quot;)\r\n      private String streetName;\r\n    \r\n    } \r\n\r\nand following is the code to fetch data from Elastic where predicateFunction is: `(ElasticsearchSearchPredicateFactory f) -&gt;  f.fromJson(queryJson)`\r\n\r\n    SearchSession searchSession = Search.session(entityManager);\r\n    \r\n                SearchResult&lt;Employee&gt; searchResult = searchSession.search(Employee.class)\r\n                        .extension(ElasticsearchExtension.get())\r\n                        .where(searchPredicateFactory -&gt; {\r\n                            return predicateFunction.apply(searchPredicateFactory);\r\n                        })\r\n                        .fetch(Math.toIntExact(page.getOffset()), page.getPageSize());\r\n\r\n","title":"named_object_not_found_exception while querying ElasticSearch","body":"<p>I am trying to query ElasticSearch using hibernateSearh 6. Following is the Json query which is sent to ElasticSearch. It looks fine as per documentation here : <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl.html\" rel=\"nofollow noreferrer\">https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl.html</a></p>\n<pre><code>{&quot;query&quot;:{&quot;query_string&quot;:{&quot;fields&quot;:[&quot;addresses.address_key&quot;],&quot;query&quot;:&quot;3g5g36ee-45b0-4636-79fe-9aaf446b7ab6&quot;}}}\n</code></pre>\n<p>Howver, getting following Exception with message:</p>\n<pre><code>org.hibernate.search.util.common.SearchException: HSEARCH400007: Elasticsearch request failed: HSEARCH400090: Elasticsearch response indicates a failure.\nRequest: POST /employee-read/_search with parameters {from=0, size=10, track_total_hits=true}\nResponse: 400 'Bad Request' from 'http://localhost:9200' with body \n{\n  &quot;error&quot;: {\n    &quot;root_cause&quot;: [\n      {\n        &quot;type&quot;: &quot;parsing_exception&quot;,\n        &quot;reason&quot;: &quot;unknown query [query]&quot;,\n        &quot;line&quot;: 1,\n        &quot;col&quot;: 19\n      }\n    ],\n    &quot;type&quot;: &quot;parsing_exception&quot;,\n    &quot;reason&quot;: &quot;unknown query [query]&quot;,\n    &quot;line&quot;: 1,\n    &quot;col&quot;: 19,\n    &quot;caused_by&quot;: {\n      &quot;type&quot;: &quot;named_object_not_found_exception&quot;,\n      &quot;reason&quot;: &quot;[1:19] unknown field [query]&quot;\n    }\n  },\n  &quot;status&quot;: 400\n}\n</code></pre>\n<p>Here are the entities:</p>\n<pre><code>@Indexed(index = &quot;employee&quot;)\npublic class Employee {\n\n  @FullTextField(name = &quot;employee_key&quot;)\n  private String employeeKey;\n\n  @FullTextField(name = &quot;first_name&quot;)\n  private String firstName;\n    \n  @IndexedEmbedded(includeEmbeddedObjectId = true, includeDepth = 2)\n  private Address addresses;\n}\n\npublic class Address {\n    \n  @FullTextField(name = &quot;address_key&quot;)\n  private String addressKey;\n\n  @FullTextField(name = &quot;street_name&quot;)\n  private String streetName;\n\n} \n</code></pre>\n<p>and following is the code to fetch data from Elastic where predicateFunction is: <code>(ElasticsearchSearchPredicateFactory f) -&gt;  f.fromJson(queryJson)</code></p>\n<pre><code>SearchSession searchSession = Search.session(entityManager);\n\n            SearchResult&lt;Employee&gt; searchResult = searchSession.search(Employee.class)\n                    .extension(ElasticsearchExtension.get())\n                    .where(searchPredicateFactory -&gt; {\n                        return predicateFunction.apply(searchPredicateFactory);\n                    })\n                    .fetch(Math.toIntExact(page.getOffset()), page.getPageSize());\n</code></pre>\n"},{"tags":["java","mongodb"],"comments":[{"owner":{"account_id":9132122,"reputation":3617,"user_id":6793312,"accept_rate":50,"display_name":"Moshe Arad"},"score":0,"creation_date":1492371901,"post_id":43435637,"comment_id":73939600,"body_markdown":"Which dependencies manager are you using?","body":"Which dependencies manager are you using?"},{"owner":{"account_id":5838262,"reputation":1034,"user_id":4600638,"accept_rate":0,"display_name":"Vaibhav More"},"score":0,"creation_date":1492372554,"post_id":43435637,"comment_id":73939816,"body_markdown":"I figured it out I used the wrong dependencies we must use mongo-java-driver-2.10.1 dependencies. Thanks for the suggestion","body":"I figured it out I used the wrong dependencies we must use mongo-java-driver-2.10.1 dependencies. Thanks for the suggestion"},{"owner":{"account_id":9132122,"reputation":3617,"user_id":6793312,"accept_rate":50,"display_name":"Moshe Arad"},"score":0,"creation_date":1492372617,"post_id":43435637,"comment_id":73939839,"body_markdown":"Cheers, a vote up will be nice @Akshay Naik","body":"Cheers, a vote up will be nice @Akshay Naik"}],"answers":[{"comments":[{"owner":{"account_id":2317007,"reputation":1009,"user_id":2033832,"accept_rate":67,"display_name":"yanman1234"},"score":3,"creation_date":1501762392,"post_id":45483255,"comment_id":77928141,"body_markdown":"Can you explain why adding this fixed the problem? This helps others learn from your answer, rather than just copy it without understanding why.","body":"Can you explain why adding this fixed the problem? This helps others learn from your answer, rather than just copy it without understanding why."}],"tags":[],"owner":{"account_id":6623825,"reputation":373,"user_id":5114663,"display_name":"Vasudeva Krishnan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1501769126,"creation_date":1501760769,"answer_id":45483255,"question_id":43435637,"body_markdown":"Adding:\r\n\r\n    # mongo-java-driver-3.4.2.jar \r\n    # mongob-driver-3.4.2\r\n\r\nto my `Web-content &gt; WEB-INF &gt; lib` folder in Eclipse Luna solved my problem. Use the latest driver available, the ones listed are the latest at the time of posting this.","title":"MongoClient cannot be resolved to a type","body":"<p>Adding:</p>\n\n<pre><code># mongo-java-driver-3.4.2.jar \n# mongob-driver-3.4.2\n</code></pre>\n\n<p>to my <code>Web-content &gt; WEB-INF &gt; lib</code> folder in Eclipse Luna solved my problem. Use the latest driver available, the ones listed are the latest at the time of posting this.</p>\n"},{"tags":[],"owner":{"account_id":10212086,"reputation":169,"user_id":7538871,"accept_rate":0,"display_name":"Krishna Mohan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1539588212,"creation_date":1539588212,"answer_id":52811612,"question_id":43435637,"body_markdown":"I think `MongoDatabase` class file not available in the `mongodb-driver-3.8.0-beta3` jar file. That is why you are unable to import it. You can use stable version `3.7.1 of mongo jar`. MongoDatabase class is available in stable version. Source : [mvnrepository.com/artifact/org.mongodb/mongo-java-driver/3.7.1][1]\r\n\r\n\r\n  [1]: http://I%20think%20MongoDatabase%20class%20file%20not%20available%20in%20the%20mongodb-driver-3.8.0-beta3%20jar%20file.%20That%20is%20why%20you%20are%20unable%20to%20import%20it.%20You%20can%20use%20stable%20version%203.7.1%20of%20mongo%20jar.%20MongoDatabase%20class%20is%20available%20in%20stable%20version.%20Source%20:%20mvnrepository.com/artifact/org.mongodb/mongo-java-driver/3.7.1","title":"MongoClient cannot be resolved to a type","body":"<p>I think <code>MongoDatabase</code> class file not available in the <code>mongodb-driver-3.8.0-beta3</code> jar file. That is why you are unable to import it. You can use stable version <code>3.7.1 of mongo jar</code>. MongoDatabase class is available in stable version. Source : <a href=\"http://I%20think%20MongoDatabase%20class%20file%20not%20available%20in%20the%20mongodb-driver-3.8.0-beta3%20jar%20file.%20That%20is%20why%20you%20are%20unable%20to%20import%20it.%20You%20can%20use%20stable%20version%203.7.1%20of%20mongo%20jar.%20MongoDatabase%20class%20is%20available%20in%20stable%20version.%20Source%20:%20mvnrepository.com/artifact/org.mongodb/mongo-java-driver/3.7.1\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/org.mongodb/mongo-java-driver/3.7.1</a></p>\n"}],"owner":{"account_id":5838262,"reputation":1034,"user_id":4600638,"accept_rate":0,"display_name":"Vaibhav More"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10726,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1701072400,"creation_date":1492334012,"question_id":43435637,"body_markdown":"I am new to MongoDB and I want to establish connection with my mongod server.\r\nBut I get the error `MongoClient cannot be resolved to a type` I have included external Jar into my project but still cannot fix the error\r\n\r\nHere is my code I think there is no error in my code but I have included wrong JAR file in my project\r\n\r\n    import com.mongodb.*;\r\n    import java.util.concurrent.locks.Lock;\r\n    import java.util.concurrent.locks.ReentrantLock;\r\n\r\n    public class Dining {\r\n\r\n    public static void main(String[] args) {\r\n    Lock forks[] = new ReentrantLock[5];\r\n    \r\n    try {\r\n\t\tMongoClient mongoClient = new  MongoClient(&quot;mongo&quot;);\r\n\t\tSystem.out.println(&quot;Connection to mongodb successful.&quot;);\r\n\t\tDB db = mongoClient.getDB( &quot;mydb&quot; );\r\n\t\tSystem.out.println(&quot;Database &#39;mydb&#39; created.&quot;);\r\n\t\tDBCollection coll = db.createCollection(&quot;mycol&quot;, null);\r\n\t\tSystem.out.println(&quot;Collection &#39;mycol&#39; created.&quot;);\r\n\t} catch (Exception e) {\r\n\t\t// TODO Auto-generated catch block\r\n\t\te.printStackTrace();\r\n\t}\r\n    \r\n       for(int i = 0; i&lt;5; i++){\r\n        forks[i] = new ReentrantLock(); \r\n    }\r\n\r\n    Thread p1 = new Thread(new Philosopher(forks[4], forks[0], &quot;first&quot;));\r\n    Thread p2 = new Thread(new Philosopher(forks[0], forks[1], &quot;second&quot;));\r\n    Thread p3 = new Thread(new Philosopher(forks[1], forks[2], &quot;third&quot;));\r\n    Thread p4 = new Thread(new Philosopher(forks[2], forks[3], &quot;fourth&quot;));\r\n    Thread p5 = new Thread(new Philosopher(forks[3], forks[4], &quot;fifth&quot;));\r\n\r\n    p1.start();\r\n    p2.start();\r\n    p3.start();\r\n    p4.start();\r\n    p5.start(); \r\n\r\n\r\n    }\r\n    }\r\n\r\n    class Philosopher implements Runnable {\r\n    Lock leftFork = new ReentrantLock();\r\n    Lock rightFork = new ReentrantLock();\r\n    String name;\r\n\r\n\r\n    public Philosopher(Lock leftFork, Lock rightFork, String name) {\r\n    this.leftFork = leftFork;\r\n    this.rightFork = rightFork;\r\n    this.name = name; \r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n\ttry {\r\n    think(name);\r\n\teat(leftFork, rightFork, name); \r\n\t} catch (Exception e) {\r\n\t\t// TODO Auto-generated catch block\r\n\t\te.printStackTrace();\r\n\t}\r\n    }\r\n\r\n    private void eat(Lock leftFork, Lock rightFork, String name) throws Exception{\r\n    leftFork.lock();\r\n    rightFork.lock();\r\n    try\r\n    {\r\n    MongoClient mongoClient = new MongoClient(&quot;localhost&quot;);\r\n    DB db = mongoClient.getDB( &quot;mydb&quot; );\r\n    DBCollection coll = db.getCollection(&quot;mycol&quot;);\r\n\r\n    System.out.println(name + &quot; eating...&quot;);\r\n    BasicDBObject doc1 = new BasicDBObject(name , &quot; eating...&quot;);\r\n    coll.insert(doc1);\r\n\r\n        Thread.sleep(1000);\r\n    } catch (Exception e) {\r\n        // TODO Auto-generated catch block\r\n        e.printStackTrace();\r\n    } \r\n    finally{\r\n        System.out.println(name + &quot; done eating and now thinking...&quot;);\r\n        MongoClient mongoClient = new MongoClient(&quot;localhost&quot;);\r\n        DB db = mongoClient.getDB( &quot;mydb&quot; );\r\n\t\tDBCollection coll = db.getCollection(&quot;mycol&quot;);\r\n\t\tBasicDBObject doc2 = new BasicDBObject(name , &quot; done eating and now thinking...&quot;);\r\n\t\tcoll.insert(doc2);\r\n        leftFork.unlock();\r\n        rightFork.unlock(); \r\n    }\r\n    }\r\n\r\n    public void think(String name) throws Exception{\r\n\ttry\r\n    {\r\n    MongoClient mongoClient = new MongoClient(&quot;localhost&quot;);\r\n    DB db = mongoClient.getDB( &quot;mydb&quot; );\r\n    DBCollection coll = db.getCollection(&quot;mycol&quot;);\r\n    System.out.println(name + &quot; thinking...&quot;);\r\n    BasicDBObject doc = new BasicDBObject(name , &quot; thinking...&quot;);\r\n    coll.insert(doc);\r\n        Thread.sleep(1000);\r\n    } catch (InterruptedException e) {\r\n        // TODO Auto-generated catch block\r\n        e.printStackTrace();\r\n    } \r\n    }\r\n\r\n    }","title":"MongoClient cannot be resolved to a type","body":"<p>I am new to MongoDB and I want to establish connection with my mongod server.\nBut I get the error <code>MongoClient cannot be resolved to a type</code> I have included external Jar into my project but still cannot fix the error</p>\n\n<p>Here is my code I think there is no error in my code but I have included wrong JAR file in my project</p>\n\n<pre><code>import com.mongodb.*;\nimport java.util.concurrent.locks.Lock;\nimport java.util.concurrent.locks.ReentrantLock;\n\npublic class Dining {\n\npublic static void main(String[] args) {\nLock forks[] = new ReentrantLock[5];\n\ntry {\n    MongoClient mongoClient = new  MongoClient(\"mongo\");\n    System.out.println(\"Connection to mongodb successful.\");\n    DB db = mongoClient.getDB( \"mydb\" );\n    System.out.println(\"Database 'mydb' created.\");\n    DBCollection coll = db.createCollection(\"mycol\", null);\n    System.out.println(\"Collection 'mycol' created.\");\n} catch (Exception e) {\n    // TODO Auto-generated catch block\n    e.printStackTrace();\n}\n\n   for(int i = 0; i&lt;5; i++){\n    forks[i] = new ReentrantLock(); \n}\n\nThread p1 = new Thread(new Philosopher(forks[4], forks[0], \"first\"));\nThread p2 = new Thread(new Philosopher(forks[0], forks[1], \"second\"));\nThread p3 = new Thread(new Philosopher(forks[1], forks[2], \"third\"));\nThread p4 = new Thread(new Philosopher(forks[2], forks[3], \"fourth\"));\nThread p5 = new Thread(new Philosopher(forks[3], forks[4], \"fifth\"));\n\np1.start();\np2.start();\np3.start();\np4.start();\np5.start(); \n\n\n}\n}\n\nclass Philosopher implements Runnable {\nLock leftFork = new ReentrantLock();\nLock rightFork = new ReentrantLock();\nString name;\n\n\npublic Philosopher(Lock leftFork, Lock rightFork, String name) {\nthis.leftFork = leftFork;\nthis.rightFork = rightFork;\nthis.name = name; \n}\n\n@Override\npublic void run() {\ntry {\nthink(name);\neat(leftFork, rightFork, name); \n} catch (Exception e) {\n    // TODO Auto-generated catch block\n    e.printStackTrace();\n}\n}\n\nprivate void eat(Lock leftFork, Lock rightFork, String name) throws Exception{\nleftFork.lock();\nrightFork.lock();\ntry\n{\nMongoClient mongoClient = new MongoClient(\"localhost\");\nDB db = mongoClient.getDB( \"mydb\" );\nDBCollection coll = db.getCollection(\"mycol\");\n\nSystem.out.println(name + \" eating...\");\nBasicDBObject doc1 = new BasicDBObject(name , \" eating...\");\ncoll.insert(doc1);\n\n    Thread.sleep(1000);\n} catch (Exception e) {\n    // TODO Auto-generated catch block\n    e.printStackTrace();\n} \nfinally{\n    System.out.println(name + \" done eating and now thinking...\");\n    MongoClient mongoClient = new MongoClient(\"localhost\");\n    DB db = mongoClient.getDB( \"mydb\" );\n    DBCollection coll = db.getCollection(\"mycol\");\n    BasicDBObject doc2 = new BasicDBObject(name , \" done eating and now thinking...\");\n    coll.insert(doc2);\n    leftFork.unlock();\n    rightFork.unlock(); \n}\n}\n\npublic void think(String name) throws Exception{\ntry\n{\nMongoClient mongoClient = new MongoClient(\"localhost\");\nDB db = mongoClient.getDB( \"mydb\" );\nDBCollection coll = db.getCollection(\"mycol\");\nSystem.out.println(name + \" thinking...\");\nBasicDBObject doc = new BasicDBObject(name , \" thinking...\");\ncoll.insert(doc);\n    Thread.sleep(1000);\n} catch (InterruptedException e) {\n    // TODO Auto-generated catch block\n    e.printStackTrace();\n} \n}\n\n}\n</code></pre>\n"},{"tags":["java","android","arrays","json","sketchware"],"answers":[{"comments":[{"owner":{"account_id":29998958,"reputation":3,"user_id":22989514,"display_name":"inshanity ina"},"score":0,"creation_date":1701075190,"post_id":77553643,"comment_id":136725327,"body_markdown":"How to add all the key in user array to the listmap and view to the recyclerview","body":"How to add all the key in user array to the listmap and view to the recyclerview"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1701108031,"post_id":77553643,"comment_id":136731631,"body_markdown":"@inshanityina, just the _keys_, or the _values_ as well?","body":"@inshanityina, just the <i>keys</i>, or the <i>values</i> as well?"}],"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701036083,"creation_date":1701036083,"answer_id":77553643,"question_id":77553467,"body_markdown":"If you know the _JSON_ _values_, you can be explicit.\r\n\r\nHere is an example, where _s_ is the _String_.\r\n\r\n```java\r\nGson g = new Gson();\r\nMap&lt;String, List&lt;Map&lt;String, String&gt;&gt;&gt; m\r\n    = g.&lt;Map&lt;String, List&lt;Map&lt;String, String&gt;&gt;&gt;&gt;fromJson(s, Map.class);\r\n\r\nSystem.out.println(m);\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n{user=[{id=string, address=string, contact=string, name=string, description=string, image_url=}], next=string}\r\n```\r\n\r\nIf not, define the _type-parameter_ as _Object_, and cast the _Map_ _value_.\r\n\r\n```java\r\nGson g = new Gson();\r\nMap&lt;String, Object&gt; m = g.&lt;Map&lt;String, Object&gt;&gt;fromJson(s, Map.class);\r\n\r\n@SuppressWarnings(&quot;unchecked&quot;)\r\nList&lt;Map&lt;String, Object&gt;&gt; users = (List&lt;Map&lt;String, Object&gt;&gt;) m.get(&quot;user&quot;);\r\nSystem.out.println(users);\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n[{id=string, address=string, contact=string, name=string, description=string, image_url=}]\r\n```","title":"BEGIN_ARRAY but was STRING at line 1 column 1 java android sketchware","body":"<p>If you know the <em>JSON</em> <em>values</em>, you can be explicit.</p>\n<p>Here is an example, where <em>s</em> is the <em>String</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Gson g = new Gson();\nMap&lt;String, List&lt;Map&lt;String, String&gt;&gt;&gt; m\n    = g.&lt;Map&lt;String, List&lt;Map&lt;String, String&gt;&gt;&gt;&gt;fromJson(s, Map.class);\n\nSystem.out.println(m);\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>{user=[{id=string, address=string, contact=string, name=string, description=string, image_url=}], next=string}\n</code></pre>\n<p>If not, define the <em>type-parameter</em> as <em>Object</em>, and cast the <em>Map</em> <em>value</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Gson g = new Gson();\nMap&lt;String, Object&gt; m = g.&lt;Map&lt;String, Object&gt;&gt;fromJson(s, Map.class);\n\n@SuppressWarnings(&quot;unchecked&quot;)\nList&lt;Map&lt;String, Object&gt;&gt; users = (List&lt;Map&lt;String, Object&gt;&gt;) m.get(&quot;user&quot;);\nSystem.out.println(users);\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>[{id=string, address=string, contact=string, name=string, description=string, image_url=}]\n</code></pre>\n"},{"comments":[{"owner":{"account_id":29998958,"reputation":3,"user_id":22989514,"display_name":"inshanity ina"},"score":0,"creation_date":1701075135,"post_id":77553664,"comment_id":136725317,"body_markdown":"how to add the key and value to listmap and show to the recyclerview","body":"how to add the key and value to listmap and show to the recyclerview"}],"tags":[],"owner":{"account_id":17589845,"reputation":276,"user_id":12761938,"display_name":"Oyindamola Gideon Olarewaju"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1701037198,"creation_date":1701036580,"answer_id":77553664,"question_id":77553467,"body_markdown":"The warning is there, Array was expected but found string, please show your response model for more context. \r\nFrom your json response model class or model data class, user should be an array like below. \r\n\r\n   For Kotlin\r\n   \r\n\r\n    data class Data (\r\n\r\n     @SerializedName(&quot;user&quot; ) var user : ArrayList&lt;User&gt; = arrayListOf(),\r\n     @SerializedName(&quot;next&quot; ) var next : String?         = null\r\n\r\n     )\r\n\r\n\r\n    data class User (\r\n      @SerializedName(&quot;id&quot;          ) var id          : String? = null,\r\n      @SerializedName(&quot;address&quot;     ) var address     : String? = null,\r\n      @SerializedName(&quot;contact&quot;     ) var contact     : String? = null,\r\n      @SerializedName(&quot;name&quot;        ) var name        : String? = null,\r\n      @SerializedName(&quot;description&quot; ) var description : String? = null,\r\n      @SerializedName(&quot;image_url&quot;   ) var imageUrl    : String? = null\r\n    )\r\n\r\n\r\nJava Should be:\r\n\r\n     public class Data{\r\n      public ArrayList&lt;User&gt; user;\r\n      public String next;\r\n     }\r\n\r\n     public class User{\r\n      public String id;\r\n      public String address;\r\n      public String contact;\r\n      public String name;\r\n      public String description;\r\n      public String image_url;\r\n     }\r\n\r\n","title":"BEGIN_ARRAY but was STRING at line 1 column 1 java android sketchware","body":"<p>The warning is there, Array was expected but found string, please show your response model for more context.\nFrom your json response model class or model data class, user should be an array like below.</p>\n<p>For Kotlin</p>\n<pre><code>data class Data (\n\n @SerializedName(&quot;user&quot; ) var user : ArrayList&lt;User&gt; = arrayListOf(),\n @SerializedName(&quot;next&quot; ) var next : String?         = null\n\n )\n\n\ndata class User (\n  @SerializedName(&quot;id&quot;          ) var id          : String? = null,\n  @SerializedName(&quot;address&quot;     ) var address     : String? = null,\n  @SerializedName(&quot;contact&quot;     ) var contact     : String? = null,\n  @SerializedName(&quot;name&quot;        ) var name        : String? = null,\n  @SerializedName(&quot;description&quot; ) var description : String? = null,\n  @SerializedName(&quot;image_url&quot;   ) var imageUrl    : String? = null\n)\n</code></pre>\n<p>Java Should be:</p>\n<pre><code> public class Data{\n  public ArrayList&lt;User&gt; user;\n  public String next;\n }\n\n public class User{\n  public String id;\n  public String address;\n  public String contact;\n  public String name;\n  public String description;\n  public String image_url;\n }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":29998958,"reputation":3,"user_id":22989514,"display_name":"inshanity ina"},"score":0,"creation_date":1701075053,"post_id":77555306,"comment_id":136725309,"body_markdown":"card_list = new Gson().fromJson(array.toString(), new TypeToken&lt;List&lt;Map&lt;String, String&gt;&gt;&gt;(){}.getType());\n\t                                                      ^^^^^^^^^\nTypeToken cannot be resolved to a type\n----------\n\tcard_list = new Gson().fromJson(array.toString(), new TypeToken&lt;List&lt;Map&lt;String, String&gt;&gt;&gt;(){}.getType());\n\t                                                                                               ^^^^^^^\nThe method getType() is undefined for the type new TypeToken&lt;List&lt;Map&lt;String,String&gt;&gt;&gt;(){}","body":"card_list = new Gson().fromJson(array.toString(), new TypeToken&lt;List&lt;Map&lt;String, String&gt;&gt;&gt;(){}.getType()); \t                                                      ^^^^^^^^^ TypeToken cannot be resolved to a type ---------- \tcard_list = new Gson().fromJson(array.toString(), new TypeToken&lt;List&lt;Map&lt;String, String&gt;&gt;&gt;(){}.getType()); \t                                                                                               ^^^^^^^ The method getType() is undefined for the type new TypeToken&lt;List&lt;Map&lt;String,String&gt;&gt;&gt;(){}"},{"owner":{"account_id":29998958,"reputation":3,"user_id":22989514,"display_name":"inshanity ina"},"score":0,"creation_date":1701163108,"post_id":77555306,"comment_id":136738183,"body_markdown":"Thank you, That really helps to understand","body":"Thank you, That really helps to understand"}],"tags":[],"owner":{"account_id":29439484,"reputation":94,"user_id":22557788,"display_name":"Davit Hovhannisyan"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701071981,"creation_date":1701071981,"answer_id":77555306,"question_id":77553467,"body_markdown":"Try your code this way:\r\n\r\n\r\n    try {\r\n        JSONObject jsonResponse = new JSONObject(_response);\r\n    \r\n        JSONArray userArray = jsonResponse.getJSONArray(&quot;user&quot;);\r\n        \r\n        card_list = new Gson().fromJson(userArray.toString(), new TypeToken&lt;List&lt;Map&lt;String, String&gt;&gt;&gt;(){}.getType());\r\n    \r\n        if (card_list.size() &gt; 5) {\r\n            recyclerview1.setAdapter(new Recyclerview1Adapter(card_list));\r\n        } else {\r\n            SketchwareUtil.showMessage(getApplicationContext(), &quot;Not enough data for RecyclerView&quot;);\r\n        }\r\n    } catch (JSONException e) {\r\n        e.printStackTrace();\r\n        SketchwareUtil.showMessage(getApplicationContext(), &quot;Error parsing JSON&quot;);\r\n    }\r\n\r\n","title":"BEGIN_ARRAY but was STRING at line 1 column 1 java android sketchware","body":"<p>Try your code this way:</p>\n<pre><code>try {\n    JSONObject jsonResponse = new JSONObject(_response);\n\n    JSONArray userArray = jsonResponse.getJSONArray(&quot;user&quot;);\n    \n    card_list = new Gson().fromJson(userArray.toString(), new TypeToken&lt;List&lt;Map&lt;String, String&gt;&gt;&gt;(){}.getType());\n\n    if (card_list.size() &gt; 5) {\n        recyclerview1.setAdapter(new Recyclerview1Adapter(card_list));\n    } else {\n        SketchwareUtil.showMessage(getApplicationContext(), &quot;Not enough data for RecyclerView&quot;);\n    }\n} catch (JSONException e) {\n    e.printStackTrace();\n    SketchwareUtil.showMessage(getApplicationContext(), &quot;Error parsing JSON&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":29998958,"reputation":3,"user_id":22989514,"display_name":"inshanity ina"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77555306,"answer_count":3,"score":0,"last_activity_date":1701071981,"creation_date":1701032091,"question_id":77553467,"body_markdown":"OnResponse code :\r\n\r\n\r\n&lt;pre&gt;card_list = new Gson().fromJson(_response, new TypeToken&lt;ArrayList&lt;HashMap&lt;String, Object&gt;&gt;&gt;(){}.getType());\r\n\r\n\r\nif (card_list.size() &gt; 5) {\r\n\r\n\trecyclerview1.setAdapter(new Recyclerview1Adapter(card_list));\r\n\r\n}else{\r\n\r\nSketchwareUtil.showMessage(getApplicationContext(), _response);\r\n\r\n}&lt;/pre&gt;\r\n\r\nJson 200 Result like :\r\n\r\n\r\n\r\n&lt;pre&gt;{\r\n\r\n  &quot;user&quot;: [\r\n\r\n    {\r\n\r\n      &quot;id&quot;: &quot;string&quot;,\r\n\r\n      &quot;address&quot;: &quot;string&quot;,\r\n\r\n      &quot;contact&quot;: &quot;string&quot;,\r\n\r\n      &quot;name&quot;: &quot;string&quot;,\r\n\r\n      &quot;description&quot;: &quot;string&quot;,\r\n\r\n      &quot;image_url&quot;: &quot;&quot;\r\n\r\n    },{...},{...}\r\n\r\n  ],\r\n\r\n  &quot;next&quot;: &quot;string&quot;\r\n\r\n}&lt;/pre&gt;\r\n\r\nBut have the error when opening an activity :\r\n\r\nBEGIN_ARRAY but was STRING at line 1 column 1\r\n\r\nPlease help me solve the code to retrieve json array to listmap for recyclerview in java android or sketchware","title":"BEGIN_ARRAY but was STRING at line 1 column 1 java android sketchware","body":"<p>OnResponse code :</p>\n<pre>card_list = new Gson().fromJson(_response, new TypeToken>>(){}.getType());\n\n\nif (card_list.size() > 5) {\n\n    recyclerview1.setAdapter(new Recyclerview1Adapter(card_list));\n\n}else{\n\nSketchwareUtil.showMessage(getApplicationContext(), _response);\n\n}</pre>\n<p>Json 200 Result like :</p>\n<pre>{\n\n  \"user\": [\n\n    {\n\n      \"id\": \"string\",\n\n      \"address\": \"string\",\n\n      \"contact\": \"string\",\n\n      \"name\": \"string\",\n\n      \"description\": \"string\",\n\n      \"image_url\": \"\"\n\n    },{...},{...}\n\n  ],\n\n  \"next\": \"string\"\n\n}</pre>\n<p>But have the error when opening an activity :</p>\n<p>BEGIN_ARRAY but was STRING at line 1 column 1</p>\n<p>Please help me solve the code to retrieve json array to listmap for recyclerview in java android or sketchware</p>\n"},{"tags":["java","intellij-idea","testcase","sonarlint-intellij"],"comments":[{"owner":{"account_id":4079887,"reputation":546,"user_id":3350632,"accept_rate":57,"display_name":"Vaibhav_Sharma"},"score":0,"creation_date":1574255824,"post_id":50036502,"comment_id":104166229,"body_markdown":"I believe it not possible as per standards defined by the makers of this plugin. It is not advisable also. https://community.sonarsource.com/t/sonarlint-and-sonarqube-analysis-on-automation-test-scripts/910","body":"I believe it not possible as per standards defined by the makers of this plugin. It is not advisable also. <a href=\"https://community.sonarsource.com/t/sonarlint-and-sonarqube-analysis-on-automation-test-scripts/910\" rel=\"nofollow noreferrer\">community.sonarsource.com/t/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":22205107,"reputation":19,"user_id":16445140,"display_name":"Long Nguyn Vn"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701071849,"creation_date":1701071849,"answer_id":77555297,"question_id":50036502,"body_markdown":"Just change the test/java folder to &quot;Source Root&quot; as follows.\r\nThen restart or disable then enable SonarLint.\r\nI tried it and it works fine.\r\n\r\n[![make folder test to Source][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4PvUC.png","title":"How to analyse Testcases from src/test/java folder using sonarlint in intellij","body":"<p>Just change the test/java folder to &quot;Source Root&quot; as follows.\nThen restart or disable then enable SonarLint.\nI tried it and it works fine.</p>\n<p><a href=\"https://i.stack.imgur.com/4PvUC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4PvUC.png\" alt=\"make folder test to Source\" /></a></p>\n"}],"owner":{"account_id":5444686,"reputation":384,"user_id":5527977,"display_name":"Diptman"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":777,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1701071849,"creation_date":1524725276,"question_id":50036502,"body_markdown":"How to use `sonarlint` for analyzing testcases? I have found similar thing in sonar cube `sonar.test.inclusions` as property but couldn&#39;t find anything similar in `sonarlint &gt; intellij.`\r\n\r\nFolder I need to analyse: `src/test/java`\r\n\r\n**Work around:**\r\n\r\n\r\n----------\r\n Renaming test folder worked for me.I changed test to test1. Is there proper way/steps I can follow and can analyse testcases? ","title":"How to analyse Testcases from src/test/java folder using sonarlint in intellij","body":"<p>How to use <code>sonarlint</code> for analyzing testcases? I have found similar thing in sonar cube <code>sonar.test.inclusions</code> as property but couldn't find anything similar in <code>sonarlint &gt; intellij.</code></p>\n\n<p>Folder I need to analyse: <code>src/test/java</code></p>\n\n<p><strong>Work around:</strong></p>\n\n<hr>\n\n<p>Renaming test folder worked for me.I changed test to test1. Is there proper way/steps I can follow and can analyse testcases? </p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","spring-data"],"answers":[{"comments":[{"owner":{"account_id":21128754,"reputation":3,"user_id":15533575,"display_name":"TakeMeH0ME"},"score":0,"creation_date":1699201504,"post_id":77426590,"comment_id":136498969,"body_markdown":"Thank you for help. Unfortunately It doesn&#39;t works. SQL syntax error still occurs..","body":"Thank you for help. Unfortunately It doesn&#39;t works. SQL syntax error still occurs.."},{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1699201566,"post_id":77426590,"comment_id":136498977,"body_markdown":"have you removed `nativeQuery = true` ?","body":"have you removed <code>nativeQuery = true</code> ?"},{"owner":{"account_id":21128754,"reputation":3,"user_id":15533575,"display_name":"TakeMeH0ME"},"score":1,"creation_date":1699203187,"post_id":77426590,"comment_id":136499171,"body_markdown":"oh.. oh...!!! I really appreciate!! Since the entity package path was already imported, I changed query to &quot;SELECT new MemberEntity(m.password, m.refreshToken) FROM MemberEntity m where m.id = :memberId&quot;.  And also removed the &quot;nativeQuery = true&quot; as you informed me!!! Finally!!! I really really appreciate!!!! Have a good day my hero!!","body":"oh.. oh...!!! I really appreciate!! Since the entity package path was already imported, I changed query to &quot;SELECT new MemberEntity(m.password, m.refreshToken) FROM MemberEntity m where m.id = :memberId&quot;.  And also removed the &quot;nativeQuery = true&quot; as you informed me!!! Finally!!! I really really appreciate!!!! Have a good day my hero!!"},{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1699203302,"post_id":77426590,"comment_id":136499189,"body_markdown":"you are welcome, also don`t forget to upvote and also accept my answer, if someone in the future will have the same problem.","body":"you are welcome, also don`t forget to upvote and also accept my answer, if someone in the future will have the same problem."},{"owner":{"account_id":21128754,"reputation":3,"user_id":15533575,"display_name":"TakeMeH0ME"},"score":0,"creation_date":1699203641,"post_id":77426590,"comment_id":136499243,"body_markdown":"I&#39;m sorry about upvote... I really want to upvote, but the system says I need 15 reputation.","body":"I&#39;m sorry about upvote... I really want to upvote, but the system says I need 15 reputation."},{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1699203915,"post_id":77426590,"comment_id":136499279,"body_markdown":"ok, no problem.","body":"ok, no problem."}],"tags":[],"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699199171,"creation_date":1699199171,"answer_id":77426590,"question_id":77426497,"body_markdown":"Based on your information that you provide I can suggest you to do something like next one approach.\r\n\r\nIn `MemberEntity` create a Constructor that match your requirements about fields.\r\n\r\n    public class MemberEntity {\r\n         \r\n         //fields\r\n           ...\r\n          public MemberEntity(String password, String refreshToken) {\r\n            this.password = password;\r\n            this.refreshToken = refreshToken;\r\n          }\r\n    }\r\n\r\nTo know if the query is a native one it cannot use framework features as(DTO Projection) or anything else and based on it the query now should be as next one.\r\n\r\n      @Query(value = &quot;SELECT new com.project.myProject.member.domain.entity.MemberEntity(m.password, m.refreshToken) FROM MemberEntity m WHERE m.id = :memberId &quot;)\r\n      MemberEntity findByMemberId(@Param(&quot;memberId&quot;) String memberId);\r\n\r\nAnd I should fix your current problem.\r\n\r\n","title":"Is there any way to select specific columns and make them entity without creating any interface or DTO class?","body":"<p>Based on your information that you provide I can suggest you to do something like next one approach.</p>\n<p>In <code>MemberEntity</code> create a Constructor that match your requirements about fields.</p>\n<pre><code>public class MemberEntity {\n     \n     //fields\n       ...\n      public MemberEntity(String password, String refreshToken) {\n        this.password = password;\n        this.refreshToken = refreshToken;\n      }\n}\n</code></pre>\n<p>To know if the query is a native one it cannot use framework features as(DTO Projection) or anything else and based on it the query now should be as next one.</p>\n<pre><code>  @Query(value = &quot;SELECT new com.project.myProject.member.domain.entity.MemberEntity(m.password, m.refreshToken) FROM MemberEntity m WHERE m.id = :memberId &quot;)\n  MemberEntity findByMemberId(@Param(&quot;memberId&quot;) String memberId);\n</code></pre>\n<p>And I should fix your current problem.</p>\n"},{"tags":[],"owner":{"account_id":29231405,"reputation":1,"user_id":22395035,"display_name":"kush parsaniya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701071327,"creation_date":1701071327,"answer_id":77555245,"question_id":77426497,"body_markdown":"if You want to select some specific column as response than \r\nYou Can try using @JsonIgnore(on field you dont want) or @JsonIgnoreProperties (class level) but it filters response for all beans if you want custom(dynamic) filter for differnt bean than use @JsonFilter &lt;br /&gt;\r\nYou can Search for this anotation and how to use it.","title":"Is there any way to select specific columns and make them entity without creating any interface or DTO class?","body":"<p>if You want to select some specific column as response than\nYou Can try using @JsonIgnore(on field you dont want) or @JsonIgnoreProperties (class level) but it filters response for all beans if you want custom(dynamic) filter for differnt bean than use @JsonFilter <br />\nYou can Search for this anotation and how to use it.</p>\n"}],"owner":{"account_id":21128754,"reputation":3,"user_id":15533575,"display_name":"TakeMeH0ME"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77426590,"answer_count":2,"score":0,"last_activity_date":1701071327,"creation_date":1699197366,"question_id":77426497,"body_markdown":"I would like to select only some specific columns from the table. And I want to receive the result as an entity without creating any interface or DTO to projection.\r\n\r\nHere&#39;s my entity and query\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@Table(name = &quot;member&quot;)\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Entity\r\npublic class MemberEntity {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;member_num&quot;)\r\n    private Integer memberNum;\r\n\r\n    @Column(name = &quot;member_id&quot;)\r\n    private String id;\r\n\r\n    @Column(name = &quot;member_password&quot;)\r\n    private String password;\r\n\r\n    @Column(name = &quot;member_name&quot;)\r\n    private String name;\r\n\r\n    @Column(name = &quot;member_email&quot;)\r\n    private String email;\r\n\r\n    @Column(name = &quot;member_phone&quot;)\r\n    private String phone;\r\n\r\n    @Column(name = &quot;member_student_num&quot;)\r\n    private String studentNum;\r\n\r\n    @Column(name = &quot;member_type&quot;)\r\n    private String type;\r\n\r\n    @Column(name = &quot;member_refresh_token&quot;)\r\n    private String refreshToken;\r\n\r\n    @Column(name = &quot;member_dormitory&quot;)\r\n    private Integer dormitoryNum;\r\n}\r\n```\r\n\r\n```\r\n@Query(value = &quot;SELECT new com.project.myProject.member.domain.entity.MemberEntity(,,m.member_password,,,,,,m.member_refresh_token,) FROM myProject.member as m WHERE m.member_id = :memberId&quot;, nativeQuery = true)\r\n    MemberEntity findByMemberId(@Param(&quot;memberId&quot;) String memberId);\r\n```\r\n\r\nWhen I run this query an error occurs.\r\n\r\n&gt; 2023-11-05T22:55:32.027+09:00 ERROR 58940 --- \\[ main\\] o.h.engine.jdbc.spi.SqlExceptionHelper : You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;.project.myProject.member.domain.entity.MemberEntity(,,m.member_password,,,,,,m.me&#39; at line 1\r\n&gt;\r\n&gt; org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL \\[SELECT new com.project.myProject.member.domain.entity.MemberEntity(,,m.member_password,,,,,,m.member_refresh_token,) FROM myProject.member as m WHERE m.member_id = ?\\] \\[You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;.project.myProject.member.domain.entity.MemberEntity(,,m.member_password,,,,,,m.me&#39; at line 1\\] \\[n/a\\]; SQL \\[n/a\\]\r\n\r\nHere&#39;s what I&#39;ve tried\r\n\r\n1. Replace @NoArgsConstructor, @AllArgsConstructor to @RequiredArgsConstructor in MemberEntity Class\r\n2. change **&quot;new com.project.myProject.member.domain.entity.MemberEntity(, , m.member_password, , , , , , m.member_refresh_token, )&quot;** to **&quot;new com.project.myProject.member.domain.entity.MemberEntity(m.member_password, m.member_refresh_token)&quot;** in query","title":"Is there any way to select specific columns and make them entity without creating any interface or DTO class?","body":"<p>I would like to select only some specific columns from the table. And I want to receive the result as an entity without creating any interface or DTO to projection.</p>\n<p>Here's my entity and query</p>\n<pre><code>@Getter\n@Setter\n@Table(name = &quot;member&quot;)\n@NoArgsConstructor\n@AllArgsConstructor\n@Entity\npublic class MemberEntity {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;member_num&quot;)\n    private Integer memberNum;\n\n    @Column(name = &quot;member_id&quot;)\n    private String id;\n\n    @Column(name = &quot;member_password&quot;)\n    private String password;\n\n    @Column(name = &quot;member_name&quot;)\n    private String name;\n\n    @Column(name = &quot;member_email&quot;)\n    private String email;\n\n    @Column(name = &quot;member_phone&quot;)\n    private String phone;\n\n    @Column(name = &quot;member_student_num&quot;)\n    private String studentNum;\n\n    @Column(name = &quot;member_type&quot;)\n    private String type;\n\n    @Column(name = &quot;member_refresh_token&quot;)\n    private String refreshToken;\n\n    @Column(name = &quot;member_dormitory&quot;)\n    private Integer dormitoryNum;\n}\n</code></pre>\n<pre><code>@Query(value = &quot;SELECT new com.project.myProject.member.domain.entity.MemberEntity(,,m.member_password,,,,,,m.member_refresh_token,) FROM myProject.member as m WHERE m.member_id = :memberId&quot;, nativeQuery = true)\n    MemberEntity findByMemberId(@Param(&quot;memberId&quot;) String memberId);\n</code></pre>\n<p>When I run this query an error occurs.</p>\n<blockquote>\n<p>2023-11-05T22:55:32.027+09:00 ERROR 58940 --- [ main] o.h.engine.jdbc.spi.SqlExceptionHelper : You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '.project.myProject.member.domain.entity.MemberEntity(,,m.member_password,,,,,,m.me' at line 1</p>\n<p>org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [SELECT new com.project.myProject.member.domain.entity.MemberEntity(,,m.member_password,,,,,,m.member_refresh_token,) FROM myProject.member as m WHERE m.member_id = ?] [You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '.project.myProject.member.domain.entity.MemberEntity(,,m.member_password,,,,,,m.me' at line 1] [n/a]; SQL [n/a]</p>\n</blockquote>\n<p>Here's what I've tried</p>\n<ol>\n<li>Replace @NoArgsConstructor, @AllArgsConstructor to @RequiredArgsConstructor in MemberEntity Class</li>\n<li>change <strong>&quot;new com.project.myProject.member.domain.entity.MemberEntity(, , m.member_password, , , , , , m.member_refresh_token, )&quot;</strong> to <strong>&quot;new com.project.myProject.member.domain.entity.MemberEntity(m.member_password, m.member_refresh_token)&quot;</strong> in query</li>\n</ol>\n"},{"tags":["java","java-stream","string-formatting"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1701087197,"post_id":77554522,"comment_id":136727391,"body_markdown":"The meaning of a string is determined by the way you use it. In this specific example, the string is passed as first argument to [`replaceAll`](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html#replaceAll(java.lang.String,java.lang.String)) which expects a regex pattern string. But note that this entire method can be shorted to `return text.replaceAll(&quot;(?m) *([&quot; + String.join(&quot;&quot;, commentSymbols) + &quot;].*)?$&quot;, &quot;&quot;);` which does not use the `format` method, showing that this method is not relevant here (and probably the most abused method ever).","body":"The meaning of a string is determined by the way you use it. In this specific example, the string is passed as first argument to <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html#replaceAll(java.lang.String,java.lang.String)\" rel=\"nofollow noreferrer\"><code>replaceAll</code></a> which expects a regex pattern string. But note that this entire method can be shorted to <code>return text.replaceAll(&quot;(?m) *([&quot; + String.join(&quot;&quot;, commentSymbols) + &quot;].*)?$&quot;, &quot;&quot;);</code> which does not use the <code>format</code> method, showing that this method is not relevant here (and probably the most abused method ever)."}],"answers":[{"comments":[{"owner":{"account_id":2983071,"reputation":5017,"user_id":2532621,"display_name":"ash"},"score":0,"creation_date":1701061964,"post_id":77554627,"comment_id":136723833,"body_markdown":"BTW, I recommend making a small `public static void main(String[] args) {...}` program with the code and try it out.  Start with small parts of the code and see what they are doing.","body":"BTW, I recommend making a small <code>public static void main(String[] args) {...}</code> program with the code and try it out.  Start with small parts of the code and see what they are doing."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":5,"creation_date":1701065224,"post_id":77554627,"comment_id":136724131,"body_markdown":"Also note that one could replace `Arrays.stream( commentSymbols ).collect( Collectors.joining() )` with the shorter and simpler `String.join(&quot;&quot;, commentSymbols)`","body":"Also note that one could replace <code>Arrays.stream( commentSymbols ).collect( Collectors.joining() )</code> with the shorter and simpler <code>String.join(&quot;&quot;, commentSymbols)</code>"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1701087279,"post_id":77554627,"comment_id":136727401,"body_markdown":"@ThomasKl&#228;ger the entire method can be shortened to `return text.replaceAll(&quot;(?m) *([&quot; + String.join(&quot;&quot;, commentSymbols) + &quot;].*)?$&quot;, &quot;&quot;);`","body":"@ThomasKl&#228;ger the entire method can be shortened to <code>return text.replaceAll(&quot;(?m) *([&quot; + String.join(&quot;&quot;, commentSymbols) + &quot;].*)?$&quot;, &quot;&quot;);</code>"}],"tags":[],"owner":{"account_id":2983071,"reputation":5017,"user_id":2532621,"display_name":"ash"},"comment_count":3,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1701061853,"creation_date":1701061853,"answer_id":77554627,"question_id":77554522,"body_markdown":"It helps to break down the steps in the code.  There is a lot in that example packed into a small space.\r\n\r\nThe `x -&gt; x.replaceAll( pattern, &quot;&quot; )` expression is calling the `replaceAll` method on a string named `x`.  If you look at that method definition, you will see how the regular expression, `[ ]*([#!].*)?$`, is used.  Yes, that regular expression is being passed in as a String.\r\n\r\nAnd, yes, if you hard-code the same string and pass it to `replaceAll` it will produce the same result.\r\n\r\nThe `Arrays.stream()` call is using minimal syntax to iterate over the elements of the array `commentSymbols`.  If you look up the `Collectors.joining()` method call, you will find that concatenates all of the strings it is fed.  So if you input 2 strings, `&quot;a&quot;` and `&quot;b&quot;`, it will end up producing a single String, `&quot;ab&quot;`.\r\n\r\nThen the return value of `Arrays.stream()` is passed to `String.format` where the `%s` in the first, format, argument is replaced with that value.","title":"Is a formatted string still a string? Is it still printable, or it is just a bunch of rules?","body":"<p>It helps to break down the steps in the code.  There is a lot in that example packed into a small space.</p>\n<p>The <code>x -&gt; x.replaceAll( pattern, &quot;&quot; )</code> expression is calling the <code>replaceAll</code> method on a string named <code>x</code>.  If you look at that method definition, you will see how the regular expression, <code>[ ]*([#!].*)?$</code>, is used.  Yes, that regular expression is being passed in as a String.</p>\n<p>And, yes, if you hard-code the same string and pass it to <code>replaceAll</code> it will produce the same result.</p>\n<p>The <code>Arrays.stream()</code> call is using minimal syntax to iterate over the elements of the array <code>commentSymbols</code>.  If you look up the <code>Collectors.joining()</code> method call, you will find that concatenates all of the strings it is fed.  So if you input 2 strings, <code>&quot;a&quot;</code> and <code>&quot;b&quot;</code>, it will end up producing a single String, <code>&quot;ab&quot;</code>.</p>\n<p>Then the return value of <code>Arrays.stream()</code> is passed to <code>String.format</code> where the <code>%s</code> in the first, format, argument is replaced with that value.</p>\n"},{"tags":[],"owner":{"account_id":18989040,"reputation":9,"user_id":13858712,"display_name":"Minsu Kim"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701070666,"creation_date":1701062369,"answer_id":77554652,"question_id":77554522,"body_markdown":"Yes, the two patterns you provided are functionally equivalent. Both patterns, `[ ]*([%s].*)?$ and [ ]*([#!].*)?$`, serve the same purpose in the context of the stripComments method. They are designed to match and remove any characters following the specified comment symbols (`#` and `!` in this case) until the end of the line.\r\n\r\nThe `%s` in the first pattern is a placeholder for the characters in the commentSymbols array, and when you substitute it with actual values using String.format, it becomes `[ ]*([#!].*)?$`, which is the same as the second pattern.\r\n\r\nSo, both patterns are equivalent and will produce the same result when used in the `stripComments` method for the given input.","title":"Is a formatted string still a string? Is it still printable, or it is just a bunch of rules?","body":"<p>Yes, the two patterns you provided are functionally equivalent. Both patterns, <code>[ ]*([%s].*)?$ and [ ]*([#!].*)?$</code>, serve the same purpose in the context of the stripComments method. They are designed to match and remove any characters following the specified comment symbols (<code>#</code> and <code>!</code> in this case) until the end of the line.</p>\n<p>The <code>%s</code> in the first pattern is a placeholder for the characters in the commentSymbols array, and when you substitute it with actual values using String.format, it becomes <code>[ ]*([#!].*)?$</code>, which is the same as the second pattern.</p>\n<p>So, both patterns are equivalent and will produce the same result when used in the <code>stripComments</code> method for the given input.</p>\n"}],"owner":{"account_id":30000651,"reputation":11,"user_id":22990729,"display_name":"RockBottom1114"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1701070824,"creation_date":1701058963,"question_id":77554522,"body_markdown":"I am looking at other code on a Java practice. Here is his code:\r\n\r\n```\r\nimport java.util.Arrays;\r\nimport java.util.stream.Collectors;\r\n\r\npublic class StripComments {\r\n\r\n\tpublic static String stripComments(String text, String[] commentSymbols) {\r\n\t\tString pattern = String.format(\r\n\t\t\t\t&quot;[ ]*([%s].*)?$&quot;,\r\n\t\t\t\tArrays.stream( commentSymbols ).collect( Collectors.joining() )\r\n\t\t);\r\n\t\treturn Arrays.stream( text.split( &quot;\\n&quot; ) )\r\n\t\t\t\t.map( x -&gt; x.replaceAll( pattern, &quot;&quot; ) )\r\n\t\t\t\t.collect( Collectors.joining( &quot;\\n&quot; ) );\r\n\t}\r\n\r\n}\r\n```\r\nIn his code, the pattern is representing something after whatever in the commentSymbols, right? If I decide to print the pattern right after the string creation, what would the pattern be like? If pattern is a printable string, why in the later sentence we can use it to filter out the sentence we want to delete?\r\n\r\nI used debug mode and it showed pattern looks like this `&quot;[ ]*([#!].*)?$&quot;` while the inputs are `(&quot;apples, pears # and bananas\\ngrapes\\nbananas !apples&quot;, new String[]{&quot;#&quot;, &quot;!&quot;})`. Does this string have any meaning? If I just initialize a new string and assign this value `&quot;[ ]*([#!].*)?$&quot;` to it, would it work same?","title":"Is a formatted string still a string? Is it still printable, or it is just a bunch of rules?","body":"<p>I am looking at other code on a Java practice. Here is his code:</p>\n<pre><code>import java.util.Arrays;\nimport java.util.stream.Collectors;\n\npublic class StripComments {\n\n    public static String stripComments(String text, String[] commentSymbols) {\n        String pattern = String.format(\n                &quot;[ ]*([%s].*)?$&quot;,\n                Arrays.stream( commentSymbols ).collect( Collectors.joining() )\n        );\n        return Arrays.stream( text.split( &quot;\\n&quot; ) )\n                .map( x -&gt; x.replaceAll( pattern, &quot;&quot; ) )\n                .collect( Collectors.joining( &quot;\\n&quot; ) );\n    }\n\n}\n</code></pre>\n<p>In his code, the pattern is representing something after whatever in the commentSymbols, right? If I decide to print the pattern right after the string creation, what would the pattern be like? If pattern is a printable string, why in the later sentence we can use it to filter out the sentence we want to delete?</p>\n<p>I used debug mode and it showed pattern looks like this <code>&quot;[ ]*([#!].*)?$&quot;</code> while the inputs are <code>(&quot;apples, pears # and bananas\\ngrapes\\nbananas !apples&quot;, new String[]{&quot;#&quot;, &quot;!&quot;})</code>. Does this string have any meaning? If I just initialize a new string and assign this value <code>&quot;[ ]*([#!].*)?$&quot;</code> to it, would it work same?</p>\n"},{"tags":["java","android","arrays"],"comments":[{"owner":{"account_id":23647963,"reputation":237,"user_id":17677301,"display_name":"M&#227;"},"score":0,"creation_date":1700979413,"post_id":77550641,"comment_id":136716921,"body_markdown":"put the whole generation code in a try catch so you what is the error since it ain&#39;t provided in the post.","body":"put the whole generation code in a try catch so you what is the error since it ain&#39;t provided in the post."},{"owner":{"account_id":23647963,"reputation":237,"user_id":17677301,"display_name":"M&#227;"},"score":0,"creation_date":1700979454,"post_id":77550641,"comment_id":136716926,"body_markdown":"you sure int has enough space ?","body":"you sure int has enough space ?"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1700979460,"post_id":77550641,"comment_id":136716927,"body_markdown":"What is the maximum possible value of an `int`? How many digits in that max number?","body":"What is the maximum possible value of an <code>int</code>? How many digits in that max number?"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1700979539,"post_id":77550641,"comment_id":136716930,"body_markdown":"[`Integer.MAX_VALUE`](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Integer.html#MAX_VALUE)","body":"<a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Integer.html#MAX_VALUE\" rel=\"nofollow noreferrer\"><code>Integer.MAX_VALUE</code></a>"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1700979784,"post_id":77550641,"comment_id":136716943,"body_markdown":"See this code: https://ideone.com/AwxQ35","body":"See this code: <a href=\"https://ideone.com/AwxQ35\" rel=\"nofollow noreferrer\">ideone.com/AwxQ35</a>"},{"owner":{"account_id":29755489,"reputation":31,"user_id":22804287,"display_name":"Maria"},"score":0,"creation_date":1700979808,"post_id":77550641,"comment_id":136716944,"body_markdown":"In Logcat following error show me   java.lang.NumberFormatException: For input string: &quot;03336241441&quot;","body":"In Logcat following error show me   java.lang.NumberFormatException: For input string: &quot;03336241441&quot;"},{"owner":{"account_id":29755489,"reputation":31,"user_id":22804287,"display_name":"Maria"},"score":0,"creation_date":1700980045,"post_id":77550641,"comment_id":136716959,"body_markdown":"int max value is up to 10 .(2147483647)","body":"int max value is up to 10 .(2147483647)"},{"owner":{"account_id":29755489,"reputation":31,"user_id":22804287,"display_name":"Maria"},"score":0,"creation_date":1700980101,"post_id":77550641,"comment_id":136716961,"body_markdown":"What substitutes can be used instead of int?","body":"What substitutes can be used instead of int?"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1700980254,"post_id":77550641,"comment_id":136716968,"body_markdown":"`long` would work well.  You&#39;ll need to write `Long.parseLong` instead of `Integer.parseInt`.","body":"<code>long</code> would work well.  You&#39;ll need to write <code>Long.parseLong</code> instead of <code>Integer.parseInt</code>."},{"owner":{"account_id":23647963,"reputation":237,"user_id":17677301,"display_name":"M&#227;"},"score":0,"creation_date":1700981600,"post_id":77550641,"comment_id":136717043,"body_markdown":"for (long i = value1; i &lt;= value2; i++) {\n                list.add(String.format(&quot;%011d&quot;, i));","body":"for (long i = value1; i &lt;= value2; i++) {                 list.add(String.format(&quot;%011d&quot;, i));"},{"owner":{"account_id":29755489,"reputation":31,"user_id":22804287,"display_name":"Maria"},"score":0,"creation_date":1700982118,"post_id":77550641,"comment_id":136717077,"body_markdown":"anybody have solution for this.  Long Using is also useless .","body":"anybody have solution for this.  Long Using is also useless ."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1700982803,"post_id":77550641,"comment_id":136717123,"body_markdown":"Isn&#39;t there a bigint ? And how would a list be able to host so many strings?","body":"Isn&#39;t there a bigint ? And how would a list be able to host so many strings?"},{"owner":{"account_id":29755489,"reputation":31,"user_id":22804287,"display_name":"Maria"},"score":0,"creation_date":1700982861,"post_id":77550641,"comment_id":136717129,"body_markdown":"I have made the following changes in the code. This time also the value contains 11 characters such as 03336241441 but the answer is coming in 10 digits and the leading zero has been removed( such as 3336241441) for(Long i = (Long) value1; i&lt;=value2; i++){","body":"I have made the following changes in the code. This time also the value contains 11 characters such as 03336241441 but the answer is coming in 10 digits and the leading zero has been removed( such as 3336241441) for(Long i = (Long) value1; i&lt;=value2; i++){"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1700983571,"post_id":77550641,"comment_id":136717166,"body_markdown":"With value1=0 and value2=10000000 you will put only ten million values in a list. Any use for that?","body":"With value1=0 and value2=10000000 you will put only ten million values in a list. Any use for that?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1700983717,"post_id":77550641,"comment_id":136717173,"body_markdown":"Any child can tell you the next value of 543234789456783453. It&quot;s pretty easy to write some code that does the same and comes up with 543234789456783454.","body":"Any child can tell you the next value of 543234789456783453. It&quot;s pretty easy to write some code that does the same and comes up with 543234789456783454."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1700984030,"post_id":77550641,"comment_id":136717206,"body_markdown":"Also any child can add up 543234789456783453 and 3234789456783. It wil just write them below each other on a piece of paper and start at the right adding up two digits. You can write code to do the same.","body":"Also any child can add up 543234789456783453 and 3234789456783. It wil just write them below each other on a piece of paper and start at the right adding up two digits. You can write code to do the same."},{"owner":{"account_id":29755489,"reputation":31,"user_id":22804287,"display_name":"Maria"},"score":0,"creation_date":1700984755,"post_id":77550641,"comment_id":136717252,"body_markdown":"There is some work in my office in which sometimes I have to prepare a list of mobile numbers of users and you know that some countries have 10 digit mobile numbers and some have 11 digits etc.","body":"There is some work in my office in which sometimes I have to prepare a list of mobile numbers of users and you know that some countries have 10 digit mobile numbers and some have 11 digits etc."}],"answers":[{"comments":[{"owner":{"account_id":29755489,"reputation":31,"user_id":22804287,"display_name":"Maria"},"score":0,"creation_date":1700984920,"post_id":77550798,"comment_id":136717262,"body_markdown":"I have already thought so. I know we need to check the difference between the digits we want to get the list by difference. But  I want to make today&#39;s experience the reason for my knowledge growth.","body":"I have already thought so. I know we need to check the difference between the digits we want to get the list by difference. But  I want to make today&#39;s experience the reason for my knowledge growth."}],"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1700983186,"creation_date":1700983186,"answer_id":77550798,"question_id":77550641,"body_markdown":"This is a totally broken idea for how to code this.  You&#39;re creating an array that can be every number that&#39;s 11 digits long.  That&#39;s 11 billion items.  Even if every object only takes up 8 bytes (4 for the value, 4 for the reference.  And it will be more than that in reality), that&#39;s 88 billion bytes, or approximately 9.5 GB.  That will never fit in memory, you&#39;re going OOM WAY before that.\r\n\r\nThere&#39;s ways to do this.  Your adapter doesn&#39;t need to have an array of every item in it, since it&#39;s one continuous range it only needs the start and end index and can calculate the value of each index from the start index and offset.  But having a list of every value is not ever going to work.","title":"How to generate serial numbers up to a specified range of 11 digits?","body":"<p>This is a totally broken idea for how to code this.  You're creating an array that can be every number that's 11 digits long.  That's 11 billion items.  Even if every object only takes up 8 bytes (4 for the value, 4 for the reference.  And it will be more than that in reality), that's 88 billion bytes, or approximately 9.5 GB.  That will never fit in memory, you're going OOM WAY before that.</p>\n<p>There's ways to do this.  Your adapter doesn't need to have an array of every item in it, since it's one continuous range it only needs the start and end index and can calculate the value of each index from the start index and offset.  But having a list of every value is not ever going to work.</p>\n"},{"tags":[],"owner":{"account_id":29755489,"reputation":31,"user_id":22804287,"display_name":"Maria"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1701069956,"creation_date":1700987854,"answer_id":77550989,"question_id":77550641,"body_markdown":"I have solved the solution that I needed by myself and with the help of all of you. I am presenting it here so that someone else can get information about it. Anyway, thank you all from the bottom of my heart\r\n\r\n```java\r\nbtngenerate.setOnClickListener(new View.OnClickListener() {\r\n\t@SuppressLint(&quot;DefaultLocale&quot;)\r\n\t@Override\r\n\tpublic void onClick(View view) {\r\n\t\ttry {\r\n\t\t\tlong value1;\r\n\t\t\tlong value2;\r\n\t\t\tvalue1 = Long.parseLong(txtfirst.getText().toString());\r\n\t\t\tvalue2 = Long.parseLong(txtsecond.getText().toString());\r\n\r\n\t\t\tfor(Long i = (Long) value1; i&lt;=value2; i++) {\r\n\t\t\t\tlist.add(String.format(&quot;%011d&quot;, i));\r\n\t\t\t\tli.setAdapter(arrayAdapter);\r\n\t\t\t}\r\n\r\n\t\t} catch (NumberFormatException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n});","title":"How to generate serial numbers up to a specified range of 11 digits?","body":"<p>I have solved the solution that I needed by myself and with the help of all of you. I am presenting it here so that someone else can get information about it. Anyway, thank you all from the bottom of my heart</p>\n<pre class=\"lang-java prettyprint-override\"><code>btngenerate.setOnClickListener(new View.OnClickListener() {\n    @SuppressLint(&quot;DefaultLocale&quot;)\n    @Override\n    public void onClick(View view) {\n        try {\n            long value1;\n            long value2;\n            value1 = Long.parseLong(txtfirst.getText().toString());\n            value2 = Long.parseLong(txtsecond.getText().toString());\n\n            for(Long i = (Long) value1; i&lt;=value2; i++) {\n                list.add(String.format(&quot;%011d&quot;, i));\n                li.setAdapter(arrayAdapter);\n            }\n\n        } catch (NumberFormatException e) {\n            e.printStackTrace();\n        }\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701042750,"creation_date":1701042444,"answer_id":77553917,"question_id":77550641,"body_markdown":"In _Java_, the _[int](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html)_ _data-type_ utilizes a _32-bit_ _[container](https://en.wikipedia.org/wiki/Call_stack)_, reserving a bit for a signum, when negative.\\\r\nThe maximum value, would be _2&lt;sup&gt; 31&lt;/sup&gt; &amp;minus; 1_, or _2,147,483,647_.\\\r\n_[Integer (Java SE 21 &amp;amp; JDK 21) &amp;ndash; MAX_VALUE](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Integer.html#MAX_VALUE)_.\r\n\r\nThe typical solution here, is to use the _[BigInteger](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/math/BigInteger.html)_ _class_, which provides an unlimited accuracy.\r\n\r\nHere is an example.\r\n\r\n```java\r\nList&lt;String&gt; generate(String a, String b) {\r\n    BigInteger x = new BigInteger(a), y = new BigInteger(b), i = x;\r\n    List&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n    int w = Math.max(a.length(), b.length());\r\n    String f = &quot;%0&quot; + w + &quot;d&quot;;\r\n    while (i.compareTo(y) &lt;= 0) {\r\n        list.add(f.formatted(i));\r\n        i = i.add(BigInteger.ONE);\r\n    }\r\n    return list;\r\n}\r\n```\r\n\r\nAnd, here is an example usage.\r\n\r\n```java\r\nfor (String s : generate(&quot;03336241441&quot;, &quot;03336241450&quot;))\r\n    System.out.println(s);\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n03336241441\r\n03336241442\r\n03336241443\r\n03336241444\r\n03336241445\r\n03336241446\r\n03336241447\r\n03336241448\r\n03336241449\r\n03336241450\r\n```","title":"How to generate serial numbers up to a specified range of 11 digits?","body":"<p>In <em>Java</em>, the <em><a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html\" rel=\"nofollow noreferrer\">int</a></em> <em>data-type</em> utilizes a <em>32-bit</em> <em><a href=\"https://en.wikipedia.org/wiki/Call_stack\" rel=\"nofollow noreferrer\">container</a></em>, reserving a bit for a signum, when negative.<br />\nThe maximum value, would be <em>2<sup> 31</sup>  1</em>, or <em>2,147,483,647</em>.<br />\n<em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Integer.html#MAX_VALUE\" rel=\"nofollow noreferrer\">Integer (Java SE 21 &amp; JDK 21)  MAX_VALUE</a></em>.</p>\n<p>The typical solution here, is to use the <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/math/BigInteger.html\" rel=\"nofollow noreferrer\">BigInteger</a></em> <em>class</em>, which provides an unlimited accuracy.</p>\n<p>Here is an example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; generate(String a, String b) {\n    BigInteger x = new BigInteger(a), y = new BigInteger(b), i = x;\n    List&lt;String&gt; list = new ArrayList&lt;&gt;();\n    int w = Math.max(a.length(), b.length());\n    String f = &quot;%0&quot; + w + &quot;d&quot;;\n    while (i.compareTo(y) &lt;= 0) {\n        list.add(f.formatted(i));\n        i = i.add(BigInteger.ONE);\n    }\n    return list;\n}\n</code></pre>\n<p>And, here is an example usage.</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (String s : generate(&quot;03336241441&quot;, &quot;03336241450&quot;))\n    System.out.println(s);\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>03336241441\n03336241442\n03336241443\n03336241444\n03336241445\n03336241446\n03336241447\n03336241448\n03336241449\n03336241450\n</code></pre>\n"}],"owner":{"account_id":29755489,"reputation":31,"user_id":22804287,"display_name":"Maria"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77550989,"answer_count":3,"score":2,"last_activity_date":1701069956,"creation_date":1700978793,"question_id":77550641,"body_markdown":"I am using the given code to generate a serial number into Listview up to a specific range of 11 digits. Up to ten digits, the serial is generated like 0333624140 to 0333624160 (such as 0333624140,0333624141,0333624142,0333624143 etc.), but if we change the required value to 11 digits like 03336241441 to 03336241450 then the app crashes.\r\n\r\n    btngenerate.setOnClickListener(new View.OnClickListener() {\r\n        @Override\r\n        public void onClick(View view) {\r\n            int value1;\r\n            int value2;\r\n            value1 = Integer.parseInt(txtfirst.getText().toString());\r\n            value2 = Integer.parseInt(txtsecond.getText().toString());\r\n            for(int i=value1;i&lt;=value2;i++){\r\n                list.add(&quot;&quot;+i);\r\n                li.setAdapter(arrayAdapter);\r\n            }\r\n\r\n        }\r\n    });","title":"How to generate serial numbers up to a specified range of 11 digits?","body":"<p>I am using the given code to generate a serial number into Listview up to a specific range of 11 digits. Up to ten digits, the serial is generated like 0333624140 to 0333624160 (such as 0333624140,0333624141,0333624142,0333624143 etc.), but if we change the required value to 11 digits like 03336241441 to 03336241450 then the app crashes.</p>\n<pre><code>btngenerate.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View view) {\n        int value1;\n        int value2;\n        value1 = Integer.parseInt(txtfirst.getText().toString());\n        value2 = Integer.parseInt(txtsecond.getText().toString());\n        for(int i=value1;i&lt;=value2;i++){\n            list.add(&quot;&quot;+i);\n            li.setAdapter(arrayAdapter);\n        }\n\n    }\n});\n</code></pre>\n"},{"tags":["java","json","rest","jersey"],"comments":[{"owner":{"account_id":29432,"reputation":2651,"user_id":79505,"accept_rate":64,"display_name":"Kees Kist"},"score":0,"creation_date":1364916847,"post_id":15767973,"comment_id":22412986,"body_markdown":"Sorry, I messed up the sample code while anonymizing it. Fixing it now.","body":"Sorry, I messed up the sample code while anonymizing it. Fixing it now."}],"answers":[{"comments":[{"owner":{"account_id":1051966,"reputation":32747,"user_id":1055664,"accept_rate":57,"display_name":"Michael"},"score":0,"creation_date":1411053503,"post_id":16495032,"comment_id":40567459,"body_markdown":"Do you place to init-param just in your web.xml or do you connect it to some entry?","body":"Do you place to init-param just in your web.xml or do you connect it to some entry?"},{"owner":{"account_id":2285285,"reputation":805,"user_id":2009411,"display_name":"Kim D."},"score":0,"creation_date":1411094136,"post_id":16495032,"comment_id":40584201,"body_markdown":"Yes in the web.xml inside the jersey servlet element","body":"Yes in the web.xml inside the jersey servlet element"}],"tags":[],"owner":{"account_id":2285285,"reputation":805,"user_id":2009411,"display_name":"Kim D."},"comment_count":2,"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1368261526,"creation_date":1368258692,"answer_id":16495032,"question_id":15767973,"body_markdown":"I had the same &quot;info&quot; message as well. I didn&#39;t manage to fix it (yet) for basic java types (Boolean, String...) but for my own custom classes if I add the @XmlRootElement annotation and a default no-param constructor the message dissapears.\r\n\r\nDigging into jersey source code I noticed the class &quot;WadlGeneratorJAXBGrammarGenerator&quot; the following code :\r\n\r\n    Object parameterClassInstance = null;\r\n    try {\r\n        Constructor&lt;?&gt; defaultConstructor = type.getDeclaredConstructor();\r\n        defaultConstructor.setAccessible(true);\r\n        parameterClassInstance = defaultConstructor.newInstance();\r\n    } catch (InstantiationException ex) {\r\n        LOGGER.log(Level.FINE, null, ex);\r\n    } catch (IllegalAccessException ex) {\r\n        LOGGER.log(Level.FINE, null, ex);\r\n    } catch (IllegalArgumentException ex) {\r\n        LOGGER.log(Level.FINE, null, ex);\r\n    } catch (InvocationTargetException ex) {\r\n        LOGGER.log(Level.FINE, null, ex);\r\n    } catch (SecurityException ex) {\r\n        LOGGER.log(Level.FINE, null, ex);\r\n    } catch (NoSuchMethodException ex) {\r\n        //getting here for Boolean/String and some other primitive data type\r\n        LOGGER.log(Level.FINE, null, ex);\r\n    }\r\n        \r\n    if (parameterClassInstance==null) {\r\n        return null;\r\n    }\r\n\r\n\r\nSo basically there is no default constructor for String, Boolean and few others then it throws a NoSuchMethodException therefore it return nulls and log the info message.\r\n\r\nSo still no idea why it happens but in my case the solution was to disable the wadl generation since I was not using it.\r\nJust add the following param to your web.xml\r\n\r\n      &lt;init-param&gt;\r\n             &lt;param-name&gt;com.sun.jersey.config.feature.DisableWADL&lt;/param-name&gt;\r\n             &lt;param-value&gt;true&lt;/param-value&gt;\r\n         &lt;/init-param&gt;","title":"Jersey: what does &quot;couldn&#39;t find grammar element&quot; mean?","body":"<p>I had the same \"info\" message as well. I didn't manage to fix it (yet) for basic java types (Boolean, String...) but for my own custom classes if I add the @XmlRootElement annotation and a default no-param constructor the message dissapears.</p>\n\n<p>Digging into jersey source code I noticed the class \"WadlGeneratorJAXBGrammarGenerator\" the following code :</p>\n\n<pre><code>Object parameterClassInstance = null;\ntry {\n    Constructor&lt;?&gt; defaultConstructor = type.getDeclaredConstructor();\n    defaultConstructor.setAccessible(true);\n    parameterClassInstance = defaultConstructor.newInstance();\n} catch (InstantiationException ex) {\n    LOGGER.log(Level.FINE, null, ex);\n} catch (IllegalAccessException ex) {\n    LOGGER.log(Level.FINE, null, ex);\n} catch (IllegalArgumentException ex) {\n    LOGGER.log(Level.FINE, null, ex);\n} catch (InvocationTargetException ex) {\n    LOGGER.log(Level.FINE, null, ex);\n} catch (SecurityException ex) {\n    LOGGER.log(Level.FINE, null, ex);\n} catch (NoSuchMethodException ex) {\n    //getting here for Boolean/String and some other primitive data type\n    LOGGER.log(Level.FINE, null, ex);\n}\n\nif (parameterClassInstance==null) {\n    return null;\n}\n</code></pre>\n\n<p>So basically there is no default constructor for String, Boolean and few others then it throws a NoSuchMethodException therefore it return nulls and log the info message.</p>\n\n<p>So still no idea why it happens but in my case the solution was to disable the wadl generation since I was not using it.\nJust add the following param to your web.xml</p>\n\n<pre><code>  &lt;init-param&gt;\n         &lt;param-name&gt;com.sun.jersey.config.feature.DisableWADL&lt;/param-name&gt;\n         &lt;param-value&gt;true&lt;/param-value&gt;\n     &lt;/init-param&gt;\n</code></pre>\n"}],"owner":{"account_id":29432,"reputation":2651,"user_id":79505,"accept_rate":64,"display_name":"Kees Kist"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14971,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":16495032,"answer_count":1,"score":9,"last_activity_date":1701069906,"creation_date":1364916196,"question_id":15767973,"body_markdown":"After upgrading Jersey from version 1.15 to 1.17 it started to log the following messages:\r\n\r\n    Apr 2, 2013 5:13:06 PM com.sun.jersey.server.wadl.generators.AbstractWadlGeneratorGrammarGenerator attachTypes\r\n    INFO: Couldn&#39;t find grammar element for class java.lang.String\r\n\r\nAn example of a service that produces such a message:\r\n\r\n    @GET\r\n    @Path(&quot;/bla/{a}&quot;)\r\n    @Produces(&quot;application/json&quot;)\r\n    public String doStuff(@PathParam(&quot;a&quot;) String a) {\r\n        return a;\r\n    }\r\n\r\nMy first impression would be to consider this an error message, purely based on the way the message is phrased (&quot;couldn&#39;t find&quot;). However, it&#39;s logged at a level of INFO, and it doesn&#39;t seem to have any effects in practice since all services continue to work. \r\n\r\nSo my question is whether these log messages indicate a (potential) problem with the way we are configuring or using Jersey. Since it didn&#39;t happen with the previous version I already checked the release notes, but didn&#39;t find anything related.","title":"Jersey: what does &quot;couldn&#39;t find grammar element&quot; mean?","body":"<p>After upgrading Jersey from version 1.15 to 1.17 it started to log the following messages:</p>\n\n<pre><code>Apr 2, 2013 5:13:06 PM com.sun.jersey.server.wadl.generators.AbstractWadlGeneratorGrammarGenerator attachTypes\nINFO: Couldn't find grammar element for class java.lang.String\n</code></pre>\n\n<p>An example of a service that produces such a message:</p>\n\n<pre><code>@GET\n@Path(\"/bla/{a}\")\n@Produces(\"application/json\")\npublic String doStuff(@PathParam(\"a\") String a) {\n    return a;\n}\n</code></pre>\n\n<p>My first impression would be to consider this an error message, purely based on the way the message is phrased (\"couldn't find\"). However, it's logged at a level of INFO, and it doesn't seem to have any effects in practice since all services continue to work. </p>\n\n<p>So my question is whether these log messages indicate a (potential) problem with the way we are configuring or using Jersey. Since it didn't happen with the previous version I already checked the release notes, but didn't find anything related.</p>\n"},{"tags":["java","maven","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":16326832,"reputation":1,"user_id":11791201,"display_name":"metaxiii"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701069812,"creation_date":1701025009,"answer_id":77553057,"question_id":77284916,"body_markdown":"This warning can be safely ignore : you can manage to not show this error anymore with a simple configuration tag and adding a default profile inside \r\nlike : \r\n\r\n```xml\r\n&lt;plugin&gt;\r\n\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t&lt;executions&gt;\r\n\t\t&lt;execution&gt;\r\n\t\t\t&lt;id&gt;default-compile&lt;/id&gt;\r\n\t\t\t&lt;configuration&gt;\r\n\t\t\t\t&lt;annotationProcessorPaths&gt;\r\n\t\t\t\t\t&lt;path&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;version&gt;${mapstruct.version}&lt;/version&gt;\r\n\t\t\t\t\t&lt;/path&gt;\r\n\t\t\t\t\t&lt;path&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;version&gt;${lombok.version}&lt;/version&gt;\r\n\t\t\t\t\t&lt;/path&gt;\r\n\t\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;version&gt;0.2.0&lt;/version&gt;\r\n\t\t\t\t\t&lt;/dependency&gt;\r\n\t\t\t\t&lt;/annotationProcessorPaths&gt;\r\n\t\t\t\t&lt;compilerArgs&gt;\r\n\t\t\t\t\t&lt;compilerArg&gt;\r\n                        -Amapstruct.defaultComponentModel=spring\r\n\t\t\t\t\t&lt;/compilerArg&gt;\r\n\t\t\t\t&lt;/compilerArgs&gt;\r\n\t\t\t&lt;/configuration&gt;\r\n\t\t&lt;/execution&gt;\r\n\t&lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nHowever you&#39;ll get another issue when testing, some mappers will not be implementated without the package stage from maven.\r\nMy advice is to simply ignore this warning","title":"The option mapstruct.defaultComponentModel is not being recognized","body":"<p>This warning can be safely ignore : you can manage to not show this error anymore with a simple configuration tag and adding a default profile inside\nlike :</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;default-compile&lt;/id&gt;\n            &lt;configuration&gt;\n                &lt;annotationProcessorPaths&gt;\n                    &lt;path&gt;\n                        &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                        &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n                        &lt;version&gt;${mapstruct.version}&lt;/version&gt;\n                    &lt;/path&gt;\n                    &lt;path&gt;\n                        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;version&gt;${lombok.version}&lt;/version&gt;\n                    &lt;/path&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                        &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\n                        &lt;version&gt;0.2.0&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/annotationProcessorPaths&gt;\n                &lt;compilerArgs&gt;\n                    &lt;compilerArg&gt;\n                        -Amapstruct.defaultComponentModel=spring\n                    &lt;/compilerArg&gt;\n                &lt;/compilerArgs&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>However you'll get another issue when testing, some mappers will not be implementated without the package stage from maven.\nMy advice is to simply ignore this warning</p>\n"}],"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701069812,"creation_date":1697167935,"question_id":77284916,"body_markdown":"I have this configuration in my `pom.xml` file:\r\n```xml\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;11&lt;/java.version&gt;\r\n        &lt;org.mapstruct.version&gt;1.4.2.Final&lt;/org.mapstruct.version&gt;\r\n&lt;!-- more pom code --&gt;\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;11&lt;/source&gt;\r\n                    &lt;target&gt;11&lt;/target&gt;\r\n                    &lt;annotationProcessorPaths&gt;\r\n                        &lt;path&gt;\r\n                            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n                            &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\r\n                        &lt;/path&gt;\r\n                        &lt;path&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                            &lt;version&gt;${lombok.version}&lt;/version&gt;\r\n                        &lt;/path&gt;\r\n                        &lt;dependency&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\r\n                            &lt;version&gt;0.2.0&lt;/version&gt;\r\n                        &lt;/dependency&gt;\r\n                        &lt;path&gt;\r\n                            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n                            &lt;version&gt;2.6.6&lt;/version&gt;\r\n                        &lt;/path&gt;\r\n                    &lt;/annotationProcessorPaths&gt;\r\n                    &lt;compilerArgs&gt;\r\n                        &lt;arg&gt;\r\n                            -Amapstruct.defaultComponentModel=spring\r\n                        &lt;/arg&gt;\r\n                    &lt;/compilerArgs&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n```\r\nBut I still get the warning during building `java: The following options were not recognized by any processor: &#39;[mapstruct.defaultComponentModel]&#39;`\r\n\r\nI believe my configuration follows the [Mapstruct documentation][1]\r\n\r\nWhy is the option not recognized?\r\n\r\n[This question][2] doesn&#39;t appear to be helpful\r\n\r\n\r\n  [1]: https://mapstruct.org/documentation/stable/reference/html/\r\n  [2]: https://stackoverflow.com/questions/74853001/warning-the-following-options-were-not-recognized-by-any-processor-for-mapstr","title":"The option mapstruct.defaultComponentModel is not being recognized","body":"<p>I have this configuration in my <code>pom.xml</code> file:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n        &lt;org.mapstruct.version&gt;1.4.2.Final&lt;/org.mapstruct.version&gt;\n&lt;!-- more pom code --&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;11&lt;/source&gt;\n                    &lt;target&gt;11&lt;/target&gt;\n                    &lt;annotationProcessorPaths&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n                            &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\n                        &lt;/path&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                            &lt;version&gt;${lombok.version}&lt;/version&gt;\n                        &lt;/path&gt;\n                        &lt;dependency&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\n                            &lt;version&gt;0.2.0&lt;/version&gt;\n                        &lt;/dependency&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n                            &lt;version&gt;2.6.6&lt;/version&gt;\n                        &lt;/path&gt;\n                    &lt;/annotationProcessorPaths&gt;\n                    &lt;compilerArgs&gt;\n                        &lt;arg&gt;\n                            -Amapstruct.defaultComponentModel=spring\n                        &lt;/arg&gt;\n                    &lt;/compilerArgs&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>But I still get the warning during building <code>java: The following options were not recognized by any processor: '[mapstruct.defaultComponentModel]'</code></p>\n<p>I believe my configuration follows the <a href=\"https://mapstruct.org/documentation/stable/reference/html/\" rel=\"nofollow noreferrer\">Mapstruct documentation</a></p>\n<p>Why is the option not recognized?</p>\n<p><a href=\"https://stackoverflow.com/questions/74853001/warning-the-following-options-were-not-recognized-by-any-processor-for-mapstr\">This question</a> doesn't appear to be helpful</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1124247,"reputation":608,"user_id":1111895,"display_name":"Helder Magalh&#227;es"},"score":0,"creation_date":1701172931,"post_id":77554125,"comment_id":136739930,"body_markdown":"The root cause seems to be around MIME type, for which your infrastructure is not prepared to handle Excel files. See https://stackoverflow.com/a/1964182/1111895","body":"The root cause seems to be around MIME type, for which your infrastructure is not prepared to handle Excel files. See <a href=\"https://stackoverflow.com/a/1964182/1111895\">stackoverflow.com/a/1964182/1111895</a>"}],"answers":[{"tags":[],"owner":{"account_id":18663230,"reputation":1,"user_id":13603902,"display_name":"Timothy-cc"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701069588,"creation_date":1701048647,"answer_id":77554128,"question_id":77554125,"body_markdown":"I tried to solve the problem and found that some of the reasons for the problem were the response logic of the whole package of my system, so I also returned the success and failure logic after downloading the file. But it doesn&#39;t support\r\n\r\n\r\n\r\n---\r\n\r\n\r\n&#127822;Solution: Add a converterit does work and solves the problem\r\n\r\n**Here is a reference code:**\r\n\r\n\r\n```java\r\n@Override\r\npublic void configureMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\r\n\r\n\tWebMvcConfigurer.super.configureMessageConverters(converters);\r\n           \r\n\tFastJsonHttpMessageConverter convert = new FastJsonHttpMessageConverter();\r\n           \r\n\tFastJsonConfig config = new FastJsonConfig();\r\n            \r\n\tconfig.setSerializerFeatures(SerializerFeature.PrettyFormat,\r\n\tSerializerFeature.WriteNullStringAsEmpty,\r\n\tSerializerFeature.WriteNullNumberAsZero,\r\n\tSerializerFeature.WriteNullListAsEmpty,\r\n\tSerializerFeature.WriteNullBooleanAsFalse,\r\n\tSerializerFeature.WriteMapNullValue,\r\n                  \r\n\tSerializerFeature.DisableCircularReferenceDetect);\r\n\tconfig.setDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n\tconfig.setCharset(Charset.forName(&quot;UTF-8&quot;));\r\n\tconvert.setFastJsonConfig(config);\r\n\tconvert.setSupportedMediaTypes(getSupportedMediaTypes());\r\n\tconverters.add(convert);\r\n}\r\n\r\npublic List&lt;MediaType&gt; getSupportedMediaTypes() {\r\n\r\n\tList&lt;MediaType&gt; supportedMediaTypes = new ArrayList&lt;&gt;();\r\n\tsupportedMediaTypes.add(MediaType.APPLICATION_JSON);\r\n\tsupportedMediaTypes.add(MediaType.APPLICATION_JSON_UTF8);\r\n\tsupportedMediaTypes.add(MediaType.APPLICATION_ATOM_XML);\r\n\tsupportedMediaTypes.add(MediaType.APPLICATION_FORM_URLENCODED);\r\n\tsupportedMediaTypes.add(MediaType.APPLICATION_OCTET_STREAM);\r\n\tsupportedMediaTypes.add(MediaType.APPLICATION_PDF);\r\n\tsupportedMediaTypes.add(MediaType.APPLICATION_RSS_XML);\r\n\tsupportedMediaTypes.add(MediaType.APPLICATION_XHTML_XML);\r\n\tsupportedMediaTypes.add(MediaType.APPLICATION_XML);\r\n\tsupportedMediaTypes.add(MediaType.IMAGE_GIF);\r\n\tsupportedMediaTypes.add(MediaType.IMAGE_JPEG);\r\n\tsupportedMediaTypes.add(MediaType.IMAGE_PNG);\r\n\tsupportedMediaTypes.add(MediaType.TEXT_EVENT_STREAM);\r\n\tsupportedMediaTypes.add(MediaType.TEXT_HTML);\r\n\tsupportedMediaTypes.add(MediaType.TEXT_MARKDOWN);\r\n\tsupportedMediaTypes.add(MediaType.TEXT_PLAIN);\r\n\tsupportedMediaTypes.add(MediaType.TEXT_XML);\r\n\tsupportedMediaTypes.add(MediaType.ALL);\r\n\treturn supportedMediaTypes;\r\n}\r\n```\r\n","title":"How to solve &quot; No converter for XXX with preset Content-Type application/octet-streamcharset=UTF-8 &quot;","body":"<p>I tried to solve the problem and found that some of the reasons for the problem were the response logic of the whole package of my system, so I also returned the success and failure logic after downloading the file. But it doesn't support</p>\n<hr />\n<p>Solution: Add a converterit does work and solves the problem</p>\n<p><strong>Here is a reference code:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void configureMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\n\n    WebMvcConfigurer.super.configureMessageConverters(converters);\n           \n    FastJsonHttpMessageConverter convert = new FastJsonHttpMessageConverter();\n           \n    FastJsonConfig config = new FastJsonConfig();\n            \n    config.setSerializerFeatures(SerializerFeature.PrettyFormat,\n    SerializerFeature.WriteNullStringAsEmpty,\n    SerializerFeature.WriteNullNumberAsZero,\n    SerializerFeature.WriteNullListAsEmpty,\n    SerializerFeature.WriteNullBooleanAsFalse,\n    SerializerFeature.WriteMapNullValue,\n                  \n    SerializerFeature.DisableCircularReferenceDetect);\n    config.setDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\n    config.setCharset(Charset.forName(&quot;UTF-8&quot;));\n    convert.setFastJsonConfig(config);\n    convert.setSupportedMediaTypes(getSupportedMediaTypes());\n    converters.add(convert);\n}\n\npublic List&lt;MediaType&gt; getSupportedMediaTypes() {\n\n    List&lt;MediaType&gt; supportedMediaTypes = new ArrayList&lt;&gt;();\n    supportedMediaTypes.add(MediaType.APPLICATION_JSON);\n    supportedMediaTypes.add(MediaType.APPLICATION_JSON_UTF8);\n    supportedMediaTypes.add(MediaType.APPLICATION_ATOM_XML);\n    supportedMediaTypes.add(MediaType.APPLICATION_FORM_URLENCODED);\n    supportedMediaTypes.add(MediaType.APPLICATION_OCTET_STREAM);\n    supportedMediaTypes.add(MediaType.APPLICATION_PDF);\n    supportedMediaTypes.add(MediaType.APPLICATION_RSS_XML);\n    supportedMediaTypes.add(MediaType.APPLICATION_XHTML_XML);\n    supportedMediaTypes.add(MediaType.APPLICATION_XML);\n    supportedMediaTypes.add(MediaType.IMAGE_GIF);\n    supportedMediaTypes.add(MediaType.IMAGE_JPEG);\n    supportedMediaTypes.add(MediaType.IMAGE_PNG);\n    supportedMediaTypes.add(MediaType.TEXT_EVENT_STREAM);\n    supportedMediaTypes.add(MediaType.TEXT_HTML);\n    supportedMediaTypes.add(MediaType.TEXT_MARKDOWN);\n    supportedMediaTypes.add(MediaType.TEXT_PLAIN);\n    supportedMediaTypes.add(MediaType.TEXT_XML);\n    supportedMediaTypes.add(MediaType.ALL);\n    return supportedMediaTypes;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29843989,"reputation":1,"user_id":22871483,"display_name":"Liu ShuoZhen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701054721,"creation_date":1701054006,"answer_id":77554309,"question_id":77554125,"body_markdown":"You set the response Content-Type to application/octet-stream,\r\nBut what you responded to was a custom object ResultBean. Spring tried to convert the ResultBean object into a response body in application/octet-stream format, but did not find a suitable converter, so it threw an HttpMessageNotWritableException. \r\n\r\n    @GetMapping(&quot;/common/download&quot;)\r\n    public void download(HttpServletResponse httpServletReesponse){\r\n    \ttry {\r\n    \t\t// ... download\r\n    \t} catch (Exception e){\r\n    \r\n    \t\te.printStackTrace();\r\n    \t\thttpServletResponse.reset();\r\n    \t\tResultBean&lt;T&gt; result = new ResultBean&lt;&gt;(HttpSStatus.ERROR, e.getM\r\n    \t\tString str = JSON.toJSONString(result);\r\n    \t\tServletUtils.renderString(httpServletResponse, str)\r\n    \t}\r\n    }\r\n    public static void renderString(HttpServletResponsse response, String str){\r\n        \t\ttry {\r\n        \t\t\tresponse.setStatus(200);\r\n        \t\t\tresponse.setContentType(&quot;application/json&quot;);\r\n        \t\t\tresponse.setCharacterEncoding(&quot;utf-8&quot;);\r\n        \t\t\tresponse.getWriter().print(string);\r\n        \t\t} catch (IOException e) {\r\n        \t\t\te.printStackTrace();\r\n        \t}\r\n    }\r\n\r\n","title":"How to solve &quot; No converter for XXX with preset Content-Type application/octet-streamcharset=UTF-8 &quot;","body":"<p>You set the response Content-Type to application/octet-stream,\nBut what you responded to was a custom object ResultBean. Spring tried to convert the ResultBean object into a response body in application/octet-stream format, but did not find a suitable converter, so it threw an HttpMessageNotWritableException.</p>\n<pre><code>@GetMapping(&quot;/common/download&quot;)\npublic void download(HttpServletResponse httpServletReesponse){\n    try {\n        // ... download\n    } catch (Exception e){\n\n        e.printStackTrace();\n        httpServletResponse.reset();\n        ResultBean&lt;T&gt; result = new ResultBean&lt;&gt;(HttpSStatus.ERROR, e.getM\n        String str = JSON.toJSONString(result);\n        ServletUtils.renderString(httpServletResponse, str)\n    }\n}\npublic static void renderString(HttpServletResponsse response, String str){\n            try {\n                response.setStatus(200);\n                response.setContentType(&quot;application/json&quot;);\n                response.setCharacterEncoding(&quot;utf-8&quot;);\n                response.getWriter().print(string);\n            } catch (IOException e) {\n                e.printStackTrace();\n        }\n}\n</code></pre>\n"}],"owner":{"account_id":18663230,"reputation":1,"user_id":13603902,"display_name":"Timothy-cc"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1701069588,"creation_date":1701048575,"question_id":77554125,"body_markdown":"When I encapsulated the interface logic for downloading excel in the background, the response returned success after the file stream was closed, but the background reported an error\r\n\r\n\r\nI ran into a problem when I tried to use a tool or library with the following error message: \r\n\r\n&gt; No converter for XXX with preset Content-Type &#39;application/octet-stream; charset=UTF-8&#39;\r\n\r\nI&#39;m trying to do some kind of conversion or processing operation, but I can&#39;t find a suitable converter. The error appears to be content-type related and specifies &quot;application/octet-stream; charset=UTF-8&quot; as the default content type.\r\n\r\nHow to solve this problem so that I can successfully complete the operation? What tool or library am I using? Do I need to configure or add specific converters? Are there other possible solutions?\r\n\r\nPlease provide detailed steps and sample code so that I can better understand and try to solve this problem. Thank you!\r\n\r\n\r\nError message:\r\n```\r\norg.springframework.http.converter.HttpMessageNotWritableException: No converter for [class com.foxconn.common.beans.ResultBean] with preset Content-Type &#39;application/octet-stream&#39;\r\n\tat org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:299)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.handleReturnValue(RequestResponseBodyMethodProcessor.java:181)\r\n\tat org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:82)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:123)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:878)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:792)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:626)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n```\r\nWhen I encapsulated the interface logic for downloading excel in the background, the response returned success after the file stream was closed, but the background reported an error","title":"How to solve &quot; No converter for XXX with preset Content-Type application/octet-streamcharset=UTF-8 &quot;","body":"<p>When I encapsulated the interface logic for downloading excel in the background, the response returned success after the file stream was closed, but the background reported an error</p>\n<p>I ran into a problem when I tried to use a tool or library with the following error message:</p>\n<blockquote>\n<p>No converter for XXX with preset Content-Type 'application/octet-stream; charset=UTF-8'</p>\n</blockquote>\n<p>I'm trying to do some kind of conversion or processing operation, but I can't find a suitable converter. The error appears to be content-type related and specifies &quot;application/octet-stream; charset=UTF-8&quot; as the default content type.</p>\n<p>How to solve this problem so that I can successfully complete the operation? What tool or library am I using? Do I need to configure or add specific converters? Are there other possible solutions?</p>\n<p>Please provide detailed steps and sample code so that I can better understand and try to solve this problem. Thank you!</p>\n<p>Error message:</p>\n<pre><code>org.springframework.http.converter.HttpMessageNotWritableException: No converter for [class com.foxconn.common.beans.ResultBean] with preset Content-Type 'application/octet-stream'\n    at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:299)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.handleReturnValue(RequestResponseBodyMethodProcessor.java:181)\n    at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:82)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:123)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:878)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:792)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:626)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n</code></pre>\n<p>When I encapsulated the interface logic for downloading excel in the background, the response returned success after the file stream was closed, but the background reported an error</p>\n"},{"tags":["java","database","performance","rocksdb","column-family"],"answers":[{"tags":[],"owner":{"account_id":5191510,"reputation":1415,"user_id":4154302,"display_name":"Asad Awadia"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657503300,"creation_date":1657503300,"answer_id":72932966,"question_id":72899986,"body_markdown":"Are all gets slow or only the first one? There isn&#39;t much you can do as they are just virtual dataspaces\r\n\r\nThe only alternative is to not use column families and prefix your keys with the column family name","title":"How to implement ColumnFamilies in RocksDB in Java?","body":"<p>Are all gets slow or only the first one? There isn't much you can do as they are just virtual dataspaces</p>\n<p>The only alternative is to not use column families and prefix your keys with the column family name</p>\n"}],"owner":{"account_id":18162045,"reputation":13,"user_id":13213289,"display_name":"Awdsa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":528,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701069285,"creation_date":1657205540,"question_id":72899986,"body_markdown":"I am trying to use column families in RocksDB through java binding.\r\n\r\n```\r\nRocksDB.loadLibrary();\r\n\t\tString threat = &quot;threat_data&quot;;\r\n\t\tString ipRange = &quot;ip_range&quot;;\r\n\t\toptions = new DBOptions();\r\n\t    options.setCreateIfMissing(true);\r\n\t    options.setCreateMissingColumnFamilies(true);\r\n\t    ColumnFamilyOptions cfOpts = new ColumnFamilyOptions().optimizeUniversalStyleCompaction();\r\n\t\tList cfDescriptors = Arrays.asList(\r\n                new ColumnFamilyDescriptor(RocksDB.DEFAULT_COLUMN_FAMILY, cfOpts),\r\n                new ColumnFamilyDescriptor(threat.getBytes(), cfOpts),\r\n                new ColumnFamilyDescriptor(ipRange.getBytes(),cfOpts)\r\n        );\r\n\t\tList&lt;ColumnFamilyHandle&gt; cfHandles = new ArrayList&lt;&gt;();\r\n\t\trocksDb = RocksDB.open(options, new File(&quot;/tmp/benchmark&quot;, &quot;rockdb-threat-detection.db&quot;).getAbsolutePath(),cfDescriptors,cfHandles);\r\n\t\t\r\n\t\tcfHandleThreat = (ColumnFamilyHandle) ((List) cfHandles.stream().filter(x -&gt; {\r\n            try {\r\n\t\t\t\treturn (new String(x.getName())).equals(threat);\r\n\t\t\t} catch (RocksDBException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t\treturn false;\r\n        }).collect(Collectors.toList())).get(0);\r\n\t\t\r\n\t\tcfHandleIp = (ColumnFamilyHandle) ((List) cfHandles.stream().filter(x -&gt; {\r\n            try {\r\n\t\t\t\treturn (new String(x.getName())).equals(ipRange);\r\n\t\t\t} catch (RocksDBException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t\treturn false;\r\n        }).collect(Collectors.toList())).get(0);\r\n```\r\nI am creating 2 column families threat_data and ip_range. But if trying to read from using get() function, the performance hits low.\r\n\r\n```\r\nmapThreat.get(ipToLong(&quot;157.49.194.173&quot;))\r\n```\r\n\r\nThe performance between using columnfamilies and not using them changes drastically. Is there anything I am doing wrong or How should I improve performance?\r\n","title":"How to implement ColumnFamilies in RocksDB in Java?","body":"<p>I am trying to use column families in RocksDB through java binding.</p>\n<pre><code>RocksDB.loadLibrary();\n        String threat = &quot;threat_data&quot;;\n        String ipRange = &quot;ip_range&quot;;\n        options = new DBOptions();\n        options.setCreateIfMissing(true);\n        options.setCreateMissingColumnFamilies(true);\n        ColumnFamilyOptions cfOpts = new ColumnFamilyOptions().optimizeUniversalStyleCompaction();\n        List cfDescriptors = Arrays.asList(\n                new ColumnFamilyDescriptor(RocksDB.DEFAULT_COLUMN_FAMILY, cfOpts),\n                new ColumnFamilyDescriptor(threat.getBytes(), cfOpts),\n                new ColumnFamilyDescriptor(ipRange.getBytes(),cfOpts)\n        );\n        List&lt;ColumnFamilyHandle&gt; cfHandles = new ArrayList&lt;&gt;();\n        rocksDb = RocksDB.open(options, new File(&quot;/tmp/benchmark&quot;, &quot;rockdb-threat-detection.db&quot;).getAbsolutePath(),cfDescriptors,cfHandles);\n        \n        cfHandleThreat = (ColumnFamilyHandle) ((List) cfHandles.stream().filter(x -&gt; {\n            try {\n                return (new String(x.getName())).equals(threat);\n            } catch (RocksDBException e) {\n                e.printStackTrace();\n            }\n            return false;\n        }).collect(Collectors.toList())).get(0);\n        \n        cfHandleIp = (ColumnFamilyHandle) ((List) cfHandles.stream().filter(x -&gt; {\n            try {\n                return (new String(x.getName())).equals(ipRange);\n            } catch (RocksDBException e) {\n                e.printStackTrace();\n            }\n            return false;\n        }).collect(Collectors.toList())).get(0);\n</code></pre>\n<p>I am creating 2 column families threat_data and ip_range. But if trying to read from using get() function, the performance hits low.</p>\n<pre><code>mapThreat.get(ipToLong(&quot;157.49.194.173&quot;))\n</code></pre>\n<p>The performance between using columnfamilies and not using them changes drastically. Is there anything I am doing wrong or How should I improve performance?</p>\n"},{"tags":["java","android","xml","xml-parsing"],"comments":[{"owner":{"account_id":415074,"reputation":14411,"user_id":789657,"accept_rate":84,"display_name":"Simon"},"score":0,"creation_date":1357075499,"post_id":14114328,"comment_id":19533117,"body_markdown":"Is it static content?  You could convert it to JSON (there are converters online and a number of text editors that will do the job).  For regular data, JSON is much faster.","body":"Is it static content?  You could convert it to JSON (there are converters online and a number of text editors that will do the job).  For regular data, JSON is much faster."},{"owner":{"account_id":1986529,"reputation":645,"user_id":1781589,"accept_rate":48,"display_name":"Mr. Spock"},"score":0,"creation_date":1357077788,"post_id":14114328,"comment_id":19533676,"body_markdown":"Unfortunately no, it is NOT static - it&#39;s changed a couple times a week as more messages are recorded. What you suggest IS interesting, though. Since it changes so infrequently I COULD convert it periodically, but that just adds something else to the mix I have to deal with. Good info and I&#39;ll take what you have recommended into consideration.","body":"Unfortunately no, it is NOT static - it&#39;s changed a couple times a week as more messages are recorded. What you suggest IS interesting, though. Since it changes so infrequently I COULD convert it periodically, but that just adds something else to the mix I have to deal with. Good info and I&#39;ll take what you have recommended into consideration."},{"owner":{"account_id":15024,"reputation":4414,"user_id":31325,"accept_rate":49,"display_name":"baash05"},"score":0,"creation_date":1384995612,"post_id":14114328,"comment_id":29966634,"body_markdown":"to the end to end (wish it was json) bit.  What if you wrote a piggyback server app.  I&#39;ve done this for my apps when the source content was nuts.  My app hits a service that hits the actual destination.  Loaded it up on heroku (free) and it was all good.","body":"to the end to end (wish it was json) bit.  What if you wrote a piggyback server app.  I&#39;ve done this for my apps when the source content was nuts.  My app hits a service that hits the actual destination.  Loaded it up on heroku (free) and it was all good."}],"answers":[{"comments":[{"owner":{"account_id":1986529,"reputation":645,"user_id":1781589,"accept_rate":48,"display_name":"Mr. Spock"},"score":2,"creation_date":1361652412,"post_id":14114398,"comment_id":21148691,"body_markdown":"The biggest problem, as you eluded to, is that the emulator is VERY SLOW. On my PC, the XML-parsing code takes 7-8 minutes. On an old LG LS670, running Android 2.3.3, it took 6 seconds!\n\n&quot;Great improvements&quot; from using a real device is the understatement of the year. Ha! Thanks again for your help.","body":"The biggest problem, as you eluded to, is that the emulator is VERY SLOW. On my PC, the XML-parsing code takes 7-8 minutes. On an old LG LS670, running Android 2.3.3, it took 6 seconds!  &quot;Great improvements&quot; from using a real device is the understatement of the year. Ha! Thanks again for your help."},{"owner":{"account_id":1986529,"reputation":645,"user_id":1781589,"accept_rate":48,"display_name":"Mr. Spock"},"score":0,"creation_date":1363297976,"post_id":14114398,"comment_id":21807349,"body_markdown":"Choosing to run the x86 emulator also speeds things up - significantly. It takes only 17 seconds to pull and load the data. Here&#39;s a decent article on installing it: http://www.pommepause.com/blog/2012/09/how-to-run-a-super-fast-android-emulator-with-intel-x86-system-images/ \n\nI don&#39;t have hardware acceleration and it&#39;s still WAY faster.","body":"Choosing to run the x86 emulator also speeds things up - significantly. It takes only 17 seconds to pull and load the data. Here&#39;s a decent article on installing it: <a href=\"http://www.pommepause.com/blog/2012/09/how-to-run-a-super-fast-android-emulator-with-intel-x86-system-images/\" rel=\"nofollow noreferrer\">pommepause.com/blog/2012/09/&hellip;</a>   I don&#39;t have hardware acceleration and it&#39;s still WAY faster."},{"owner":{"account_id":15024,"reputation":4414,"user_id":31325,"accept_rate":49,"display_name":"baash05"},"score":0,"creation_date":1384995348,"post_id":14114398,"comment_id":29966545,"body_markdown":"staggering how slow the emulator is eh.  Considering the PPC, blackberry and even palm had emulators and ran like ten bears were chasing them.","body":"staggering how slow the emulator is eh.  Considering the PPC, blackberry and even palm had emulators and ran like ten bears were chasing them."}],"tags":[],"owner":{"account_id":1063646,"reputation":31628,"user_id":1064728,"accept_rate":77,"display_name":"Jave"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1357075820,"creation_date":1357075820,"answer_id":14114398,"question_id":14114328,"body_markdown":"Use [vtd-xml][1].\r\n\r\n[Here are some benchmarks.][2]\r\n\r\nAlso, the emulator is extremely slow, so try it on a real device and you will likely see great improvements.\r\n\r\n\r\n  [1]: http://vtd-xml.sourceforge.net/\r\n  [2]: http://vtd-xml.sourceforge.net/benchmark1.html","title":"How Can I Speed Up Android XML Parsing?","body":"<p>Use <a href=\"http://vtd-xml.sourceforge.net/\" rel=\"nofollow\">vtd-xml</a>.</p>\n\n<p><a href=\"http://vtd-xml.sourceforge.net/benchmark1.html\" rel=\"nofollow\">Here are some benchmarks.</a></p>\n\n<p>Also, the emulator is extremely slow, so try it on a real device and you will likely see great improvements.</p>\n"},{"tags":[],"owner":{"account_id":3089512,"reputation":1693,"user_id":2615957,"display_name":"Maksym Kalin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701069259,"creation_date":1428594528,"answer_id":29543194,"question_id":14114328,"body_markdown":"I agree with **Jave&#39;s**  answer. The best choice is [VTD-XML library][1]\r\nThis example demonstrate how you can use this library.\r\n\r\nXML file:\r\n\r\n     &lt;database name=&quot;products&quot;&gt;\r\n            &lt;table name=&quot;category&quot;&gt;\r\n                &lt;column name=&quot;catId&quot;&gt;20&lt;/column&gt;\r\n                &lt;column name=&quot;catName&quot;&gt;Fruit&lt;/column&gt;\r\n            &lt;/table&gt;\r\n            &lt;table name=&quot;category&quot;&gt;\r\n                &lt;column name=&quot;catId&quot;&gt;31&lt;/column&gt;\r\n                &lt;column name=&quot;catName&quot;&gt;Vegetables&lt;/column&gt;\r\n            &lt;/table&gt;\r\n            &lt;table name=&quot;category&quot;&gt;\r\n                &lt;column name=&quot;catId&quot;&gt;45&lt;/column&gt;\r\n                &lt;column name=&quot;catName&quot;&gt;Rice&lt;/column&gt;\r\n            &lt;/table&gt;\r\n            &lt;table name=&quot;category&quot;&gt;\r\n                &lt;column name=&quot;catId&quot;&gt;50&lt;/column&gt;\r\n                &lt;column name=&quot;catName&quot;&gt;Potatoes&lt;/column&gt;\r\n            &lt;/table&gt;\r\n    &lt;/database&gt;\r\n\r\n\r\nSource code example:\r\n\r\n    import com.ximpleware.AutoPilot;\r\n    import com.ximpleware.VTDGen;\r\n    import com.ximpleware.VTDNav;\r\n    \r\n    \r\n    String fileName = &quot;products.xml&quot;;\r\n    \r\n    VTDGen vg = new VTDGen();\r\n    \r\n    if (vg.parseFile(fileName, true)) {\r\n    \r\n    \t VTDNav vn = vg.getNav();\r\n         AutoPilot table = new AutoPilot(vn);\r\n         table.selectXPath(&quot;database/table&quot;);\r\n    \r\n         while (table.iterate()) {\r\n         \tString tableName = vn.toString(vn.getAttrVal(&quot;name&quot;));\r\n            \r\n            if (tableName.equals(&quot;category&quot;)) {\r\n            \tAutoPilot column = new AutoPilot(vn);\r\n                column.selectElement(&quot;column&quot;);\r\n    \r\n                while (column.iterate()) {\r\n                \t String text = vn.toNormalizedString(vn.getText());\r\n                     String name = vn.toString(vn.getAttrVal(&quot;name&quot;));\r\n    \t\t\t     \r\n    \t\t\t     if (name.equals(&quot;catId&quot;)) {\r\n                        Log.d(&quot;Category ID = &quot; + text);\r\n                     } else if (name.equals(&quot;catName&quot;)) {\r\n                        Log.d(&quot;Category Name = &quot; + text);\r\n                     } \r\n                     \r\n                }\r\n            }\r\n         }\r\n    }\r\n\r\n  [1]: http://vtd-xml.sourceforge.net/\r\n\r\n\r\nit works for me and hope it helps you.","title":"How Can I Speed Up Android XML Parsing?","body":"<p>I agree with <strong>Jave's</strong>  answer. The best choice is <a href=\"http://vtd-xml.sourceforge.net/\" rel=\"nofollow noreferrer\">VTD-XML library</a>\nThis example demonstrate how you can use this library.</p>\n<p>XML file:</p>\n<pre><code> &lt;database name=&quot;products&quot;&gt;\n        &lt;table name=&quot;category&quot;&gt;\n            &lt;column name=&quot;catId&quot;&gt;20&lt;/column&gt;\n            &lt;column name=&quot;catName&quot;&gt;Fruit&lt;/column&gt;\n        &lt;/table&gt;\n        &lt;table name=&quot;category&quot;&gt;\n            &lt;column name=&quot;catId&quot;&gt;31&lt;/column&gt;\n            &lt;column name=&quot;catName&quot;&gt;Vegetables&lt;/column&gt;\n        &lt;/table&gt;\n        &lt;table name=&quot;category&quot;&gt;\n            &lt;column name=&quot;catId&quot;&gt;45&lt;/column&gt;\n            &lt;column name=&quot;catName&quot;&gt;Rice&lt;/column&gt;\n        &lt;/table&gt;\n        &lt;table name=&quot;category&quot;&gt;\n            &lt;column name=&quot;catId&quot;&gt;50&lt;/column&gt;\n            &lt;column name=&quot;catName&quot;&gt;Potatoes&lt;/column&gt;\n        &lt;/table&gt;\n&lt;/database&gt;\n</code></pre>\n<p>Source code example:</p>\n<pre><code>import com.ximpleware.AutoPilot;\nimport com.ximpleware.VTDGen;\nimport com.ximpleware.VTDNav;\n\n\nString fileName = &quot;products.xml&quot;;\n\nVTDGen vg = new VTDGen();\n\nif (vg.parseFile(fileName, true)) {\n\n     VTDNav vn = vg.getNav();\n     AutoPilot table = new AutoPilot(vn);\n     table.selectXPath(&quot;database/table&quot;);\n\n     while (table.iterate()) {\n        String tableName = vn.toString(vn.getAttrVal(&quot;name&quot;));\n        \n        if (tableName.equals(&quot;category&quot;)) {\n            AutoPilot column = new AutoPilot(vn);\n            column.selectElement(&quot;column&quot;);\n\n            while (column.iterate()) {\n                 String text = vn.toNormalizedString(vn.getText());\n                 String name = vn.toString(vn.getAttrVal(&quot;name&quot;));\n                 \n                 if (name.equals(&quot;catId&quot;)) {\n                    Log.d(&quot;Category ID = &quot; + text);\n                 } else if (name.equals(&quot;catName&quot;)) {\n                    Log.d(&quot;Category Name = &quot; + text);\n                 } \n                 \n            }\n        }\n     }\n}\n</code></pre>\n<p>it works for me and hope it helps you.</p>\n"}],"owner":{"account_id":1986529,"reputation":645,"user_id":1781589,"accept_rate":48,"display_name":"Mr. Spock"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2188,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":14114398,"answer_count":2,"score":5,"last_activity_date":1701069259,"creation_date":1357075177,"question_id":14114328,"body_markdown":"Good afternoon (depending on where you live)!\r\n\r\nI&#39;m fairly new to Android development and I&#39;m currently working on moving the functionality from an existing iOS app to Android. Part of this functionality is to parse a &quot;large&quot; (~13,000 line) RSS XML file that contains about 500 entries. I&#39;ve spent anywhere from 10-15 hours researching XML parsing on Android AND trying out the major XML parsers: DOM, SAX, and Pull-parsing. Here are my results, running within&#39; the emulator on my box (32-bit Windows Vista, 2.2 GHz Dual CPU, 3 GB RAM):\r\n\r\nSAX: ~6:00 minutes\r\n\r\nPull-Parsing: ~4:00 minutes\r\n\r\nDOM: Greater than 4:00 minutes, but didn&#39;t time it when I had that implementation coded.\r\n\r\nI also tried this RSS Reader from github, but it took &gt;10:00 minutes:\r\n\r\nhttps://github.com/matshofman/Android-RSS-Reader-Library\r\n\r\nThe implementations for the SAX, PP, and DOM were all taken from stackoverflow.com threads, so I feel fairly confident that I didn&#39;t do anything non-standard in them (though, I&#39;m not ruling that out). I&#39;ve decided to appeal to a larger, more experienced, crowd to get some ideas of what else I can try.\r\n\r\nI don&#39;t have any control over the format of the file. If I was implementing this end-to-end, I would just write a Web Service that did all the heavy-lifting on the server and then sent down a small, compact, JSON-serialized list. Instead, I have the 13K line file. :)\r\n\r\nAny insight into what I can do? It seems to be a fairly common problem, but most responses just say to try one of the different main XML parsers. In my case, I&#39;ve tried all three and even the fastest seems way too slow.\r\n\r\nWhat am I doing wrong? Are there any normal &quot;newbie&quot; problems that people usually encounter when doing XML parsing over the network on Android???\r\n\r\nThank you in advance for any help you can provide!","title":"How Can I Speed Up Android XML Parsing?","body":"<p>Good afternoon (depending on where you live)!</p>\n\n<p>I'm fairly new to Android development and I'm currently working on moving the functionality from an existing iOS app to Android. Part of this functionality is to parse a \"large\" (~13,000 line) RSS XML file that contains about 500 entries. I've spent anywhere from 10-15 hours researching XML parsing on Android AND trying out the major XML parsers: DOM, SAX, and Pull-parsing. Here are my results, running within' the emulator on my box (32-bit Windows Vista, 2.2 GHz Dual CPU, 3 GB RAM):</p>\n\n<p>SAX: ~6:00 minutes</p>\n\n<p>Pull-Parsing: ~4:00 minutes</p>\n\n<p>DOM: Greater than 4:00 minutes, but didn't time it when I had that implementation coded.</p>\n\n<p>I also tried this RSS Reader from github, but it took >10:00 minutes:</p>\n\n<p><a href=\"https://github.com/matshofman/Android-RSS-Reader-Library\" rel=\"noreferrer\">https://github.com/matshofman/Android-RSS-Reader-Library</a></p>\n\n<p>The implementations for the SAX, PP, and DOM were all taken from stackoverflow.com threads, so I feel fairly confident that I didn't do anything non-standard in them (though, I'm not ruling that out). I've decided to appeal to a larger, more experienced, crowd to get some ideas of what else I can try.</p>\n\n<p>I don't have any control over the format of the file. If I was implementing this end-to-end, I would just write a Web Service that did all the heavy-lifting on the server and then sent down a small, compact, JSON-serialized list. Instead, I have the 13K line file. :)</p>\n\n<p>Any insight into what I can do? It seems to be a fairly common problem, but most responses just say to try one of the different main XML parsers. In my case, I've tried all three and even the fastest seems way too slow.</p>\n\n<p>What am I doing wrong? Are there any normal \"newbie\" problems that people usually encounter when doing XML parsing over the network on Android???</p>\n\n<p>Thank you in advance for any help you can provide!</p>\n"},{"tags":["java","selenium"],"comments":[{"owner":{"account_id":7782111,"reputation":571,"user_id":5888214,"display_name":"Dani R"},"score":1,"creation_date":1563873798,"post_id":54563331,"comment_id":100835741,"body_markdown":"Possible duplicate of [Selenium Web Driver: Extracted Chrome Browser logs are incomplete](https://stackoverflow.com/questions/57146129/selenium-web-driver-extracted-chrome-browser-logs-are-incomplete)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/57146129/selenium-web-driver-extracted-chrome-browser-logs-are-incomplete\">Selenium Web Driver: Extracted Chrome Browser logs are incomplete</a>"}],"answers":[{"comments":[{"owner":{"account_id":12543757,"reputation":973,"user_id":9127854,"display_name":"Pran Kumar Sarkar"},"score":0,"creation_date":1625084537,"post_id":54569048,"comment_id":120536920,"body_markdown":"It didn&#39;t work for me. It is still logging only errors.","body":"It didn&#39;t work for me. It is still logging only errors."},{"owner":{"account_id":7945919,"reputation":137,"user_id":6267432,"display_name":"S Chathuranga Jayasinghe"},"score":0,"creation_date":1637968176,"post_id":54569048,"comment_id":123971304,"body_markdown":"This worked for me. Thanks a lot! This saved my day!","body":"This worked for me. Thanks a lot! This saved my day!"}],"tags":[],"owner":{"account_id":13638490,"reputation":1041,"user_id":9838946,"display_name":"Timothy T."},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1549528682,"creation_date":1549527915,"answer_id":54569048,"question_id":54563331,"body_markdown":"From the documentation (http://chromedriver.chromium.org/logging): \r\n&gt; By default ChromeDriver logs only warnings/errors to stderr. When debugging issues, it is helpful to enable more verbose logging.\r\n\r\nAlso from documentation:\r\n\r\n    System.setProperty(&quot;webdriver.chrome.logfile&quot;, &quot;D:\\\\chromedriver.log&quot;);\r\n    System.setProperty(&quot;webdriver.chrome.verboseLogging&quot;, &quot;true&quot;);\r\n\r\nHope that works. \r\n\r\n\r\n**Alternative Option**\r\n\r\nYou could try the following if the above doesn&#39;t work, this time using the `ChromeOptions` object instead:\r\n    \r\n    ChromeOptions options = new ChromeOptions();\r\n    options.setArguments(&quot;--log-level=1&quot;);\r\n\r\nor from (https://www.chromium.org/for-testers/enable-logging)\r\n\r\n&gt; To enable logging, launch Chrome with these command line flags:\r\n&gt; --enable-logging --v=1\r\n\r\nWhich translates into:\r\n\r\n    options.setArguments(&quot;--enable-logging --v=1&quot;);","title":"How to get Chrome browser console log [INFO] entries with Selenium","body":"<p>From the documentation (<a href=\"http://chromedriver.chromium.org/logging\" rel=\"nofollow noreferrer\">http://chromedriver.chromium.org/logging</a>): </p>\n\n<blockquote>\n  <p>By default ChromeDriver logs only warnings/errors to stderr. When debugging issues, it is helpful to enable more verbose logging.</p>\n</blockquote>\n\n<p>Also from documentation:</p>\n\n<pre><code>System.setProperty(\"webdriver.chrome.logfile\", \"D:\\\\chromedriver.log\");\nSystem.setProperty(\"webdriver.chrome.verboseLogging\", \"true\");\n</code></pre>\n\n<p>Hope that works. </p>\n\n<p><strong>Alternative Option</strong></p>\n\n<p>You could try the following if the above doesn't work, this time using the <code>ChromeOptions</code> object instead:</p>\n\n<pre><code>ChromeOptions options = new ChromeOptions();\noptions.setArguments(\"--log-level=1\");\n</code></pre>\n\n<p>or from (<a href=\"https://www.chromium.org/for-testers/enable-logging\" rel=\"nofollow noreferrer\">https://www.chromium.org/for-testers/enable-logging</a>)</p>\n\n<blockquote>\n  <p>To enable logging, launch Chrome with these command line flags:\n  --enable-logging --v=1</p>\n</blockquote>\n\n<p>Which translates into:</p>\n\n<pre><code>options.setArguments(\"--enable-logging --v=1\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15281028,"reputation":211,"user_id":11025423,"display_name":"ciconq"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1549532528,"creation_date":1549532528,"answer_id":54570357,"question_id":54563331,"body_markdown":"thank you for your answer but unfortunately none of them worked for me, I have managed to come up with a solution for my issue using:\r\n\r\n        ChromeOptions options = new ChromeOptions();\r\n        options.setCapability(ChromeOptions.CAPABILITY, getCap());\r\n        WebDriver driver = new ChromeDriver(options);\r\n\r\nAlongside with the custom made method:\r\n\r\n    private static DesiredCapabilities getCap() {\r\n        DesiredCapabilities caps = DesiredCapabilities.chrome();\r\n        LoggingPreferences logPrefs = new LoggingPreferences();\r\n        logPrefs.enable(LogType.PERFORMANCE, Level.INFO);\r\n        logPrefs.enable(LogType.PROFILER, Level.INFO);\r\n        logPrefs.enable(LogType.BROWSER, Level.INFO);\r\n        logPrefs.enable(LogType.CLIENT, Level.INFO);\r\n        logPrefs.enable(LogType.DRIVER, Level.INFO);\r\n        logPrefs.enable(LogType.SERVER, Level.INFO);\r\n        caps.setCapability(CapabilityType.LOGGING_PREFS, logPrefs);\r\n        return caps;\r\n    }\r\n\r\nAnd finally had to make a filter method as the Selenium one was not working properly for me and was returning all of the entries:\r\n\r\n    private static List&lt;LogEntry&gt; filterLog(LogEntries entries) {\r\n        List&lt;LogEntry&gt; logs = new ArrayList&lt;&gt;();\r\n        for (LogEntry entry : entries) {\r\n            if(entry.getLevel().toString().equals(INFO)) {\r\n                logs.add(entry);\r\n            }\r\n        }\r\n        return logs;\r\n    }\r\n\r\n            ","title":"How to get Chrome browser console log [INFO] entries with Selenium","body":"<p>thank you for your answer but unfortunately none of them worked for me, I have managed to come up with a solution for my issue using:</p>\n\n<pre><code>    ChromeOptions options = new ChromeOptions();\n    options.setCapability(ChromeOptions.CAPABILITY, getCap());\n    WebDriver driver = new ChromeDriver(options);\n</code></pre>\n\n<p>Alongside with the custom made method:</p>\n\n<pre><code>private static DesiredCapabilities getCap() {\n    DesiredCapabilities caps = DesiredCapabilities.chrome();\n    LoggingPreferences logPrefs = new LoggingPreferences();\n    logPrefs.enable(LogType.PERFORMANCE, Level.INFO);\n    logPrefs.enable(LogType.PROFILER, Level.INFO);\n    logPrefs.enable(LogType.BROWSER, Level.INFO);\n    logPrefs.enable(LogType.CLIENT, Level.INFO);\n    logPrefs.enable(LogType.DRIVER, Level.INFO);\n    logPrefs.enable(LogType.SERVER, Level.INFO);\n    caps.setCapability(CapabilityType.LOGGING_PREFS, logPrefs);\n    return caps;\n}\n</code></pre>\n\n<p>And finally had to make a filter method as the Selenium one was not working properly for me and was returning all of the entries:</p>\n\n<pre><code>private static List&lt;LogEntry&gt; filterLog(LogEntries entries) {\n    List&lt;LogEntry&gt; logs = new ArrayList&lt;&gt;();\n    for (LogEntry entry : entries) {\n        if(entry.getLevel().toString().equals(INFO)) {\n            logs.add(entry);\n        }\n    }\n    return logs;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18298189,"reputation":1,"user_id":13323648,"display_name":"Arbetraryday"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701068034,"creation_date":1701067946,"answer_id":77554986,"question_id":54563331,"body_markdown":"For anyone doing this using chrome.Options\r\n\r\nSimply set the capability:\r\n\r\n    options = Options()\r\n    options.set_capability(&#39;goog:loggingPrefs&#39;, { &#39;browser&#39;:&#39;ALL&#39; })\r\n\r\n\r\nTo use the logs:\r\n\r\n    logs = driver.get_log(&quot;browser&quot;)\r\n    for log in logs:\r\n        print(log)\r\n","title":"How to get Chrome browser console log [INFO] entries with Selenium","body":"<p>For anyone doing this using chrome.Options</p>\n<p>Simply set the capability:</p>\n<pre><code>options = Options()\noptions.set_capability('goog:loggingPrefs', { 'browser':'ALL' })\n</code></pre>\n<p>To use the logs:</p>\n<pre><code>logs = driver.get_log(&quot;browser&quot;)\nfor log in logs:\n    print(log)\n</code></pre>\n"}],"owner":{"account_id":15281028,"reputation":211,"user_id":11025423,"display_name":"ciconq"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16689,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":54570357,"answer_count":3,"score":8,"last_activity_date":1701068034,"creation_date":1549490947,"question_id":54563331,"body_markdown":"I am having issues getting chrome browser console log [INFO] entries with Selenium and the only Level type of entries I am getting are the errors(WARNING, SEVERE).\r\n\r\nIs there any way to get anything different than the error entries as I need to get the [INFO] entries and assert based on their content, I have read recently that Selenium is able to return entries only for errors is that accurate?\r\n\r\n\r\nWould really appreciate any information given,\r\nthank you for your attention and time!\r\n\r\n","title":"How to get Chrome browser console log [INFO] entries with Selenium","body":"<p>I am having issues getting chrome browser console log [INFO] entries with Selenium and the only Level type of entries I am getting are the errors(WARNING, SEVERE).</p>\n\n<p>Is there any way to get anything different than the error entries as I need to get the [INFO] entries and assert based on their content, I have read recently that Selenium is able to return entries only for errors is that accurate?</p>\n\n<p>Would really appreciate any information given,\nthank you for your attention and time!</p>\n"},{"tags":["java","temporal","temporal-workflow"],"comments":[{"owner":{"account_id":3447097,"reputation":4331,"user_id":2887657,"display_name":"James"},"score":0,"creation_date":1701098765,"post_id":77554961,"comment_id":136729752,"body_markdown":"I&#39;m having a lot of difficulty understanding your question as it currently stand.","body":"I&#39;m having a lot of difficulty understanding your question as it currently stand."},{"owner":{"account_id":3447097,"reputation":4331,"user_id":2887657,"display_name":"James"},"score":0,"creation_date":1701098801,"post_id":77554961,"comment_id":136729760,"body_markdown":"Do I understand correctly that you mean the following: &quot;I&#39;m writing a Temporal Workflow using the Java SDK. In my Workflow code, I have some Promise object, on which I call `.get()` to await for that promise completion. Q1: Will this block the Worker&#39;s main thread until the promise resolves? Q2: Will this cause resource usage (for example: threads, memory or CPU) on the worker machine until that Promise resolves? Q3: Will the Worker be able to fall into some kind of sleep mode until the Promise resolves?&quot;","body":"Do I understand correctly that you mean the following: &quot;I&#39;m writing a Temporal Workflow using the Java SDK. In my Workflow code, I have some Promise object, on which I call <code>.get()</code> to await for that promise completion. Q1: Will this block the Worker&#39;s main thread until the promise resolves? Q2: Will this cause resource usage (for example: threads, memory or CPU) on the worker machine until that Promise resolves? Q3: Will the Worker be able to fall into some kind of sleep mode until the Promise resolves?&quot;"},{"owner":{"account_id":3447097,"reputation":4331,"user_id":2887657,"display_name":"James"},"score":0,"creation_date":1701100414,"post_id":77554961,"comment_id":136730150,"body_markdown":"If my understanding of your question is not correct, please reformulate your question by yourself. You may want to use some automated tool to translate your question from your own language to English.","body":"If my understanding of your question is not correct, please reformulate your question by yourself. You may want to use some automated tool to translate your question from your own language to English."},{"owner":{"account_id":3447097,"reputation":4331,"user_id":2887657,"display_name":"James"},"score":0,"creation_date":1701101207,"post_id":77554961,"comment_id":136730334,"body_markdown":"Also, get a look at advices given on [this page](https://meta.stackoverflow.com/questions/291362/advice-for-non-native-english-speakers). In particular, **avoid politeness constructs**. They are not required (this is a help site and people expect you to ask for help), and makes your question confusing. For example, you use the word &quot;query&quot; twice in your question... Is your question specifically about sending a query to a workflow?","body":"Also, get a look at advices given on <a href=\"https://meta.stackoverflow.com/questions/291362/advice-for-non-native-english-speakers\">this page</a>. In particular, <b>avoid politeness constructs</b>. They are not required (this is a help site and people expect you to ask for help), and makes your question confusing. For example, you use the word &quot;query&quot; twice in your question... Is your question specifically about sending a query to a workflow?"}],"owner":{"account_id":9558737,"reputation":16,"user_id":7212163,"display_name":"Kachida"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701067603,"creation_date":1701067603,"question_id":77554961,"body_markdown":"SDK : Temporal Java SDK\r\n\r\n\r\nIn the workflow code, we&#39;re trying to resolve the promise with get() method call, since its blocking call, i&#39;ve below queries team, can you please clarify on this -\r\n\r\nwhether the workflow worker&#39;s main thread will be blocked or will it initiate new thread and resolve that promise.\r\nwhether the workflow worker will get into sleep mode and it will get invoked when promise gets resolved.\r\n\r\nIn high level, we understand that get() method will block the main workflow thread.","title":"Temporal : Query on Promise with get() method call","body":"<p>SDK : Temporal Java SDK</p>\n<p>In the workflow code, we're trying to resolve the promise with get() method call, since its blocking call, i've below queries team, can you please clarify on this -</p>\n<p>whether the workflow worker's main thread will be blocked or will it initiate new thread and resolve that promise.\nwhether the workflow worker will get into sleep mode and it will get invoked when promise gets resolved.</p>\n<p>In high level, we understand that get() method will block the main workflow thread.</p>\n"},{"tags":["java","spring","spring-boot","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":24083109,"reputation":194,"user_id":18057525,"display_name":"Octavia"},"score":1,"creation_date":1675066965,"post_id":75281727,"comment_id":132840561,"body_markdown":"in the Query you wrote, I see no &quot;order by&quot;. Does Spring adds this by its own?","body":"in the Query you wrote, I see no &quot;order by&quot;. Does Spring adds this by its own?"},{"owner":{"account_id":14352417,"reputation":171,"user_id":10367451,"display_name":"JohnnySmith88"},"score":0,"creation_date":1675067069,"post_id":75281727,"comment_id":132840594,"body_markdown":"yes, it adds it by its own, I&#39;ve enabled spring.jpa.show-sql=true and can see it. it generates my sql then just adds that order by","body":"yes, it adds it by its own, I&#39;ve enabled spring.jpa.show-sql=true and can see it. it generates my sql then just adds that order by"},{"owner":{"account_id":24083109,"reputation":194,"user_id":18057525,"display_name":"Octavia"},"score":0,"creation_date":1675067575,"post_id":75281727,"comment_id":132840724,"body_markdown":"I&#39;m not sure, but I believe that is always done for native queries. Could you write instead a non-native query? Something like @Query(value = &quot;SELECT * FROM  Treatments INNER JOIN Animals ON Treatments.animal_id = Animals.animal_id WHERE Animals.owner_id = :ownerId AND Treatments.enddate &gt; curdate()&quot;)\n        Page&lt;Treatments&gt; findAll(@Param(&quot;ownerId&quot;) Optional&lt;Owner&gt; owner, Pageable pageable);","body":"I&#39;m not sure, but I believe that is always done for native queries. Could you write instead a non-native query? Something like @Query(value = &quot;SELECT * FROM  Treatments INNER JOIN Animals ON Treatments.animal_id = Animals.animal_id WHERE Animals.owner_id = :ownerId AND Treatments.enddate &gt; curdate()&quot;)         Page&lt;Treatments&gt; findAll(@Param(&quot;ownerId&quot;) Optional&lt;Owner&gt; owner, Pageable pageable);"},{"owner":{"account_id":19934545,"reputation":554,"user_id":14607529,"display_name":"ODDminus1"},"score":1,"creation_date":1675069324,"post_id":75281727,"comment_id":132841219,"body_markdown":"It seems like it somehow interprets &quot;INNER&quot; as an alias to the table name &quot;Treatments&quot;. You don&#39;t have an explicit alias for that table, so perhaps adding one would help the interpreter? I.e. change the query to &quot;SELECT * FROM  Treatments as t INNER JOIN...&quot;","body":"It seems like it somehow interprets &quot;INNER&quot; as an alias to the table name &quot;Treatments&quot;. You don&#39;t have an explicit alias for that table, so perhaps adding one would help the interpreter? I.e. change the query to &quot;SELECT * FROM  Treatments as t INNER JOIN...&quot;"}],"answers":[{"comments":[{"owner":{"account_id":14352417,"reputation":171,"user_id":10367451,"display_name":"JohnnySmith88"},"score":0,"creation_date":1675083767,"post_id":75281856,"comment_id":132845648,"body_markdown":"works good now with countQuery and aliases","body":"works good now with countQuery and aliases"}],"tags":[],"owner":{"account_id":1460128,"reputation":10123,"user_id":1374678,"accept_rate":93,"display_name":"rolve"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675067565,"creation_date":1675067565,"answer_id":75281856,"question_id":75281727,"body_markdown":"I suppose Spring modifies your query because you use `Page` as the return type. When you use a native query together with `Page`, you should add a `countQuery`, see [Spring Documentation][1].\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.at-query.native","title":"Spring Boot unknown column &#39;INNER. &#39; in order clause","body":"<p>I suppose Spring modifies your query because you use <code>Page</code> as the return type. When you use a native query together with <code>Page</code>, you should add a <code>countQuery</code>, see <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.at-query.native\" rel=\"nofollow noreferrer\">Spring Documentation</a>.</p>\n"},{"tags":[],"owner":{"account_id":12174696,"reputation":515,"user_id":8888136,"display_name":"Diep Gepa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701066890,"creation_date":1700979076,"answer_id":77550659,"question_id":75281727,"body_markdown":"My version spring boot: 2.3.12.RELEASE\r\n\r\nDefine exactly which columns need to be selected and redefine column name again(`SELECT Treatments.animal_id AS animal_id,..`). Trust me, don&#39;t missing `AS`\r\n\r\nNot working with `SELECT Treatments.animal_id,..` OR `SELECT Treatments.animal_id animal_id,..`\r\n\r\nYou need this native query:\r\n```sql\r\nSELECT Treatments.animal_id AS animal_id, Treatments.enddate AS enddate, Animals.owner_id AS owner_id\r\nFROM  Treatments INNER JOIN Animals\r\nON Treatments.animal_id = Animals.animal_id\r\nWHERE Animals.owner_id = ?1 AND Treatments.enddate &gt; curdate()\r\n```\r\n\r\nOr:\r\n```sql\r\nSELECT m.* FROM (\r\n\tSELECT a.animal_id AS animal_id, a.enddate AS enddate, b.owner_id AS owner_id\r\n\tFROM  Treatments a INNER JOIN Animals b ON a.animal_id = b.animal_id\r\n) AS m WHERE owner_id = ?1 AND enddate &gt; curdate()\r\n```","title":"Spring Boot unknown column &#39;INNER. &#39; in order clause","body":"<p>My version spring boot: 2.3.12.RELEASE</p>\n<p>Define exactly which columns need to be selected and redefine column name again(<code>SELECT Treatments.animal_id AS animal_id,..</code>). Trust me, don't missing <code>AS</code></p>\n<p>Not working with <code>SELECT Treatments.animal_id,..</code> OR <code>SELECT Treatments.animal_id animal_id,..</code></p>\n<p>You need this native query:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT Treatments.animal_id AS animal_id, Treatments.enddate AS enddate, Animals.owner_id AS owner_id\nFROM  Treatments INNER JOIN Animals\nON Treatments.animal_id = Animals.animal_id\nWHERE Animals.owner_id = ?1 AND Treatments.enddate &gt; curdate()\n</code></pre>\n<p>Or:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT m.* FROM (\n    SELECT a.animal_id AS animal_id, a.enddate AS enddate, b.owner_id AS owner_id\n    FROM  Treatments a INNER JOIN Animals b ON a.animal_id = b.animal_id\n) AS m WHERE owner_id = ?1 AND enddate &gt; curdate()\n</code></pre>\n"}],"owner":{"account_id":14352417,"reputation":171,"user_id":10367451,"display_name":"JohnnySmith88"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":390,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75281856,"answer_count":2,"score":1,"last_activity_date":1701066890,"creation_date":1675066735,"question_id":75281727,"body_markdown":"I am using Spring Data JPA to get data from a MySQL database. I have this function adnotated with @Query in a repository\r\n\r\n    @Query(value = &quot;SELECT * FROM  Treatments INNER JOIN Animals ON Treatments.animal_id = Animals.animal_id WHERE Animals.owner_id = ?1 AND Treatments.enddate &gt; curdate()&quot;, nativeQuery = true)\r\n        \tPage&lt;Treatments&gt; findAll(@Param(&quot;ownerId&quot;) Optional&lt;Owner&gt; owner, Pageable pageable);\r\n\r\nSpring generates the SQL as it is, then adds `order by INNER.startdate asc limit ?`\r\nAnd then it throws this error \r\n`Unknown column &#39;INNER.startdate&#39; in &#39;order clause&#39;`\r\nWhy is this happening? I tried adding an orderby clause myself but it will just add its own orderby clause anyway and throw the error. The query works inside MySql.","title":"Spring Boot unknown column &#39;INNER. &#39; in order clause","body":"<p>I am using Spring Data JPA to get data from a MySQL database. I have this function adnotated with @Query in a repository</p>\n<pre><code>@Query(value = &quot;SELECT * FROM  Treatments INNER JOIN Animals ON Treatments.animal_id = Animals.animal_id WHERE Animals.owner_id = ?1 AND Treatments.enddate &gt; curdate()&quot;, nativeQuery = true)\n        Page&lt;Treatments&gt; findAll(@Param(&quot;ownerId&quot;) Optional&lt;Owner&gt; owner, Pageable pageable);\n</code></pre>\n<p>Spring generates the SQL as it is, then adds <code>order by INNER.startdate asc limit ?</code>\nAnd then it throws this error\n<code>Unknown column 'INNER.startdate' in 'order clause'</code>\nWhy is this happening? I tried adding an orderby clause myself but it will just add its own orderby clause anyway and throw the error. The query works inside MySql.</p>\n"},{"tags":["java","class","sealed-class","java-17","java-sealed-type"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":7,"creation_date":1631860282,"post_id":69218585,"comment_id":122341222,"body_markdown":"Just a few days ago, [this article](https://www.techwell.com/techwell-insights/2021/09/sealed-classes-java-17) was released about this very topic. It may give you an idea about `sealed` classes.","body":"Just a few days ago, <a href=\"https://www.techwell.com/techwell-insights/2021/09/sealed-classes-java-17\" rel=\"nofollow noreferrer\">this article</a> was released about this very topic. It may give you an idea about <code>sealed</code> classes."},{"owner":{"account_id":3040236,"reputation":101,"user_id":2577463,"display_name":"Doug Warren"},"score":3,"creation_date":1631892790,"post_id":69218585,"comment_id":122354884,"body_markdown":"To paraphrase Douglas Adams: &quot;In the beginning [inheritance] was [invented].\nThis has made a lot of people very angry and been widely regarded as a bad move.&quot;","body":"To paraphrase Douglas Adams: &quot;In the beginning [inheritance] was [invented]. This has made a lot of people very angry and been widely regarded as a bad move.&quot;"},{"owner":{"account_id":1416522,"reputation":91364,"user_id":3553087,"display_name":"Brian Goetz"},"score":4,"creation_date":1631911068,"post_id":69218585,"comment_id":122360729,"body_markdown":"Here&#39;s a more authoritative article: https://www.infoq.com/articles/java-sealed-classes/","body":"Here&#39;s a more authoritative article: <a href=\"https://www.infoq.com/articles/java-sealed-classes/\" rel=\"nofollow noreferrer\">infoq.com/articles/java-sealed-classes</a>"},{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1698262296,"post_id":69218585,"comment_id":136384472,"body_markdown":"Re *&quot;In the beginning...&quot;*: [A clip](https://www.youtube.com/watch?v=UuCqeg4zV_o&amp;t=1m10s) (at 1 min 10 secs).","body":"Re <i>&quot;In the beginning...&quot;</i>: <a href=\"https://www.youtube.com/watch?v=UuCqeg4zV_o&amp;t=1m10s\" rel=\"nofollow noreferrer\">A clip</a> (at 1 min 10 secs)."}],"answers":[{"comments":[{"owner":{"account_id":300800,"reputation":10941,"user_id":608164,"accept_rate":62,"display_name":"30thh"},"score":17,"creation_date":1632716571,"post_id":69218715,"comment_id":122558512,"body_markdown":"There is one question which puzzles me. Why it is useful to restrict the amount of implementations. It will make troubles for writing unit tests and I don&#39;t see real advantages...","body":"There is one question which puzzles me. Why it is useful to restrict the amount of implementations. It will make troubles for writing unit tests and I don&#39;t see real advantages..."},{"owner":{"account_id":3549814,"reputation":640,"user_id":2964951,"display_name":"JDTheOne"},"score":5,"creation_date":1632726314,"post_id":69218715,"comment_id":122560611,"body_markdown":"I don&#39;t see how this will make it harder to write unit tests, please elaborate.\nWriting with sealed classes makes it very clear what the intents of the class or interface is  and could help avoid some unfortunate things in larger code repositories with a large amount of developers working on it.","body":"I don&#39;t see how this will make it harder to write unit tests, please elaborate. Writing with sealed classes makes it very clear what the intents of the class or interface is  and could help avoid some unfortunate things in larger code repositories with a large amount of developers working on it."},{"owner":{"account_id":300800,"reputation":10941,"user_id":608164,"accept_rate":62,"display_name":"30thh"},"score":1,"creation_date":1632729418,"post_id":69218715,"comment_id":122561691,"body_markdown":"One need workarounds creating mock objects for sealed classes. I see, the clear structure is a nice thing, but if it as useful, that we need a special keyword. We have already &quot;final&quot; with very similar purpose...","body":"One need workarounds creating mock objects for sealed classes. I see, the clear structure is a nice thing, but if it as useful, that we need a special keyword. We have already &quot;final&quot; with very similar purpose..."},{"owner":{"account_id":9162680,"reputation":3767,"user_id":6813506,"accept_rate":22,"display_name":"Rohit Gaikwad"},"score":0,"creation_date":1635392238,"post_id":69218715,"comment_id":123287139,"body_markdown":"Oracle/JDK does not cares about whether the objects can be mocked or not! final keyword on interface will led Oracle to work upon their existing internal implementation of &quot;Class A implements B&quot; and can be confusing as well.","body":"Oracle/JDK does not cares about whether the objects can be mocked or not! final keyword on interface will led Oracle to work upon their existing internal implementation of &quot;Class A implements B&quot; and can be confusing as well."},{"owner":{"account_id":1425678,"reputation":111,"user_id":1349263,"display_name":"Yair Galler"},"score":1,"creation_date":1658036560,"post_id":69218715,"comment_id":128948875,"body_markdown":"@30thh Related - now that Kotlin is moving to Java 17 byte code (in Kotlin 1.7), we are seeing just such a case: https://github.com/mockk/mockk/issues/832#issuecomment-1184975908","body":"@30thh Related - now that Kotlin is moving to Java 17 byte code (in Kotlin 1.7), we are seeing just such a case: <a href=\"https://github.com/mockk/mockk/issues/832#issuecomment-1184975908\" rel=\"nofollow noreferrer\">github.com/mockk/mockk/issues/832#issuecomment-1184975908</a>"},{"owner":{"account_id":4463525,"reputation":480,"user_id":3631728,"display_name":"Calle Bergstr&#246;m"},"score":0,"creation_date":1670932359,"post_id":69218715,"comment_id":131982733,"body_markdown":"At the surface the more concerning thing about sealed classes is that higher-level interfaces has knowledge of lower-level concepts such as `Car` IMO. I do not fully understand why this is needed to allow for pattern matching, as the compiler already knows who implements the interface during compile-time, no?","body":"At the surface the more concerning thing about sealed classes is that higher-level interfaces has knowledge of lower-level concepts such as <code>Car</code> IMO. I do not fully understand why this is needed to allow for pattern matching, as the compiler already knows who implements the interface during compile-time, no?"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1673594139,"post_id":69218715,"comment_id":132538384,"body_markdown":"@CalleBergstr&#246;m But a non-sealed interface can be implemented by anyone at any time, including by a project developed after a pattern-matching `switch` on that interface was compiled. The compiler can&#39;t possibly know about implementations that don&#39;t even exist yet. Using `sealed` works much like an `enum` in this caseit allows the compiler to enforce completeness.","body":"@CalleBergstr&#246;m But a non-sealed interface can be implemented by anyone at any time, including by a project developed after a pattern-matching <code>switch</code> on that interface was compiled. The compiler can&#39;t possibly know about implementations that don&#39;t even exist yet. Using <code>sealed</code> works much like an <code>enum</code> in this caseit allows the compiler to enforce completeness."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1673594637,"post_id":69218715,"comment_id":132538505,"body_markdown":"@30thh One common pattern in Kotlin is to have a `sealed` &quot;result class&quot; that has a set number of subclasses indicating different kinds of results, allowing you to react to the different results via a `when` expression. I suspect that could be one use case for `sealed` interfaces/classes in Java as well. Another possible use case is to have a common `sealed` interface with a few `non-sealed` sub-interfaces, because your API design demands you only implement the sub-interfaces, not the common interface directly. That may not be proper OOP, but that doesn&#39;t mean some APIs would not benefit.","body":"@30thh One common pattern in Kotlin is to have a <code>sealed</code> &quot;result class&quot; that has a set number of subclasses indicating different kinds of results, allowing you to react to the different results via a <code>when</code> expression. I suspect that could be one use case for <code>sealed</code> interfaces/classes in Java as well. Another possible use case is to have a common <code>sealed</code> interface with a few <code>non-sealed</code> sub-interfaces, because your API design demands you only implement the sub-interfaces, not the common interface directly. That may not be proper OOP, but that doesn&#39;t mean some APIs would not benefit."}],"tags":[],"owner":{"account_id":3549814,"reputation":640,"user_id":2964951,"display_name":"JDTheOne"},"comment_count":8,"down_vote_count":3,"up_vote_count":48,"is_accepted":true,"score":45,"last_activity_date":1669030077,"creation_date":1631860187,"answer_id":69218715,"question_id":69218585,"body_markdown":"[You can follow this link for examples.](https://www.baeldung.com/java-sealed-classes-interfaces)\r\n\r\nIn short sealed classes gives you the control of which models, classes etc. that can implement or extend that class/interface.\r\n\r\nExample from the link:\r\n\r\n    public sealed interface Service permits Car, Truck {\r\n\r\n        int getMaxServiceIntervalInMonths();\r\n\r\n        default int getMaxDistanceBetweenServicesInKilometers() {\r\n            return 100000;\r\n        }\r\n    }\r\n\r\nThis interface only permits Car and Truck to implement it.","title":"What are sealed classes in Java 17?","body":"<p><a href=\"https://www.baeldung.com/java-sealed-classes-interfaces\" rel=\"noreferrer\">You can follow this link for examples.</a></p>\n<p>In short sealed classes gives you the control of which models, classes etc. that can implement or extend that class/interface.</p>\n<p>Example from the link:</p>\n<pre><code>public sealed interface Service permits Car, Truck {\n\n    int getMaxServiceIntervalInMonths();\n\n    default int getMaxDistanceBetweenServicesInKilometers() {\n        return 100000;\n    }\n}\n</code></pre>\n<p>This interface only permits Car and Truck to implement it.</p>\n"},{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"comment_count":0,"down_vote_count":1,"up_vote_count":32,"is_accepted":false,"score":31,"last_activity_date":1638279629,"creation_date":1631965293,"answer_id":69234315,"question_id":69218585,"body_markdown":"The [JEP 409][1] explains it as\r\n\r\n&gt; A sealed class or interface can be extended or implemented only by\r\n&gt; those classes and interfaces permitted to do so.\r\n\r\nA more practical explanation is the following:\r\n\r\n***The situation in the past was:***\r\n * You could not restrict an interface being extended by another interface\r\n * You could not constraint which classes where able to implement a specific interface.\r\n * You had to declare a class as final in order to not be extended by another class. This way no class could extend the declared final class. This was black or white approach.\r\n\r\n***The current situation with sealed keyword is:***\r\n * You can now restrict an interface being extended by other interfaces and make a rule for only some specific interfaces which will be allowed to extend it. \r\n\r\n    Example: \r\n    \r\n       public sealed interface MotherInterface permits ChildInterfacePermitted {}\r\n     \r\n       //Has to be declared either as sealed or non-sealed\r\n       public non-sealed interface ChildInterfacePermitted extends MotherInterface {}  \r\n\r\n       public interface AnotherChildInterface extends MotherInterface {} \r\n       //compiler error! It is not included in the permits of mother inteface\r\n\r\n * You can now create an interface and select only specific classes that are allowed\r\n to implement that interface. All other classes are not allowed to implement it.\r\n\r\n      Example: \r\n    \r\n        public sealed interface MotherInterface permits ImplementationClass1 {} \r\n         \r\n        //Has to be declared either as final or as sealed or as non-sealed\r\n        public final class ImplementationClass1 implements MotherInterface {} \r\n\r\n        public class ImplementationClass2 implements MotherInterface {} \r\n        //compiler error! It is not included in the permits of mother inteface\r\n\r\n * You can now restrict a class being extended (same as before with final) but you can now allow some specific classes to extend it. So now you have more control as before the keyword final was absolute restricting every class from extending the declared final class\r\n\r\n    Example: \r\n    \r\n       public sealed class MotherClass permits ChildClass1 {}\r\n\r\n       //Has to be declared either as final or as sealed or as non-sealed\r\n       public non-sealed class ChildClass1 extends MotherClass {} \r\n\r\n        public class ChildClass2 extends MotherClass {} \r\n        //compiler error! It is not included in the permits of MotherClass\r\n\r\n\r\n***Important notes:***\r\n----------------------\r\n\r\n* The sealed class and its permitted subclasses must belong to the same module, and, if declared in an unnamed module, to the same package.\r\n\r\n    Example: \r\n    \r\n    Let&#39;s say that we have the same unnamed module and the following packages\r\n         \r\n        -packageA\r\n           -Implementationclass1.java\r\n        -packageB\r\n           -MotherClass.java\r\n\r\n    or  \r\n\r\n         -root\r\n            -MotherClass.java\r\n            -packageA\r\n               -Implementationclass1.java\r\n        \r\n\r\n  You will get the error *Class is not allowed to extend sealed class from another package*. So if you have an unnamed module all participating classes and interfaces for the sealed function must be placed exactly on the same package.\r\n* Every permitted subclass must directly extend the sealed class.\r\n\r\n\r\n  [1]: http://openjdk.java.net/jeps/409","title":"What are sealed classes in Java 17?","body":"<p>The <a href=\"http://openjdk.java.net/jeps/409\" rel=\"noreferrer\">JEP 409</a> explains it as</p>\n<blockquote>\n<p>A sealed class or interface can be extended or implemented only by\nthose classes and interfaces permitted to do so.</p>\n</blockquote>\n<p>A more practical explanation is the following:</p>\n<p><em><strong>The situation in the past was:</strong></em></p>\n<ul>\n<li>You could not restrict an interface being extended by another interface</li>\n<li>You could not constraint which classes where able to implement a specific interface.</li>\n<li>You had to declare a class as final in order to not be extended by another class. This way no class could extend the declared final class. This was black or white approach.</li>\n</ul>\n<p><em><strong>The current situation with sealed keyword is:</strong></em></p>\n<ul>\n<li><p>You can now restrict an interface being extended by other interfaces and make a rule for only some specific interfaces which will be allowed to extend it.</p>\n<p>Example:</p>\n<pre><code>public sealed interface MotherInterface permits ChildInterfacePermitted {}\n\n//Has to be declared either as sealed or non-sealed\npublic non-sealed interface ChildInterfacePermitted extends MotherInterface {}  \n\npublic interface AnotherChildInterface extends MotherInterface {} \n//compiler error! It is not included in the permits of mother inteface\n</code></pre>\n</li>\n<li><p>You can now create an interface and select only specific classes that are allowed\nto implement that interface. All other classes are not allowed to implement it.</p>\n<p>Example:</p>\n<pre><code> public sealed interface MotherInterface permits ImplementationClass1 {} \n\n //Has to be declared either as final or as sealed or as non-sealed\n public final class ImplementationClass1 implements MotherInterface {} \n\n public class ImplementationClass2 implements MotherInterface {} \n //compiler error! It is not included in the permits of mother inteface\n</code></pre>\n</li>\n<li><p>You can now restrict a class being extended (same as before with final) but you can now allow some specific classes to extend it. So now you have more control as before the keyword final was absolute restricting every class from extending the declared final class</p>\n<p>Example:</p>\n<pre><code>public sealed class MotherClass permits ChildClass1 {}\n\n//Has to be declared either as final or as sealed or as non-sealed\npublic non-sealed class ChildClass1 extends MotherClass {} \n\n public class ChildClass2 extends MotherClass {} \n //compiler error! It is not included in the permits of MotherClass\n</code></pre>\n</li>\n</ul>\n<h2><em><strong>Important notes:</strong></em></h2>\n<ul>\n<li><p>The sealed class and its permitted subclasses must belong to the same module, and, if declared in an unnamed module, to the same package.</p>\n<p>Example:</p>\n<p>Let's say that we have the same unnamed module and the following packages</p>\n<pre><code>  -packageA\n     -Implementationclass1.java\n  -packageB\n     -MotherClass.java\n</code></pre>\n<p>or</p>\n<pre><code>   -root\n      -MotherClass.java\n      -packageA\n         -Implementationclass1.java\n</code></pre>\n<p>You will get the error <em>Class is not allowed to extend sealed class from another package</em>. So if you have an unnamed module all participating classes and interfaces for the sealed function must be placed exactly on the same package.</p>\n</li>\n<li><p>Every permitted subclass must directly extend the sealed class.</p>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":23027967,"reputation":531,"user_id":17147888,"display_name":"Praj"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636166288,"creation_date":1636166288,"answer_id":69861052,"question_id":69218585,"body_markdown":"As per this [documentation][1], Sealed classes and interfaces restrict which other classes or interfaces may extend or implement them. It is more of a declarative way to restrict the use of a superclass rather than using access modifiers.\r\n\r\nIn Java, a class can be final so no other classes can subclass it. If a class is not final, then it is open to all other classes to support code reusability. Doing so would raise data modeling concerns.\r\n\r\nThe below NumberSystem class is open to all classes, so any subclass can extend it. What if you want to restrict this NumberSystem to a fixed set of subclasses (Binary, Decimal, Octal, and HexaDecimal)?. It means you dont want any other arbitrary class to extend this NumberSystem class.\r\n\r\n    class NumberSystem { ... }\r\n    final class Binary extends NumberSystem { ... }\r\n    final class Decimal extends NumberSystem { ... }\r\n    final class Octal extends NumberSystem { ... }\r\n    final class HexaDecimal extends NumberSystem { ... }\r\n\r\nUsing sealed class, you can achieve it by controlling the subclasses that can extend it and prevent any other arbitrary class from doing so.\r\n\r\n\r\n  [1]: https://tedblob.com/sealed-classes-and-interfaces-in-jdk-17/","title":"What are sealed classes in Java 17?","body":"<p>As per this <a href=\"https://tedblob.com/sealed-classes-and-interfaces-in-jdk-17/\" rel=\"nofollow noreferrer\">documentation</a>, Sealed classes and interfaces restrict which other classes or interfaces may extend or implement them. It is more of a declarative way to restrict the use of a superclass rather than using access modifiers.</p>\n<p>In Java, a class can be final so no other classes can subclass it. If a class is not final, then it is open to all other classes to support code reusability. Doing so would raise data modeling concerns.</p>\n<p>The below NumberSystem class is open to all classes, so any subclass can extend it. What if you want to restrict this NumberSystem to a fixed set of subclasses (Binary, Decimal, Octal, and HexaDecimal)?. It means you dont want any other arbitrary class to extend this NumberSystem class.</p>\n<pre><code>class NumberSystem { ... }\nfinal class Binary extends NumberSystem { ... }\nfinal class Decimal extends NumberSystem { ... }\nfinal class Octal extends NumberSystem { ... }\nfinal class HexaDecimal extends NumberSystem { ... }\n</code></pre>\n<p>Using sealed class, you can achieve it by controlling the subclasses that can extend it and prevent any other arbitrary class from doing so.</p>\n"},{"comments":[{"owner":{"account_id":13113492,"reputation":1198,"user_id":10082531,"display_name":"Michael Pfaff"},"score":0,"creation_date":1656793895,"post_id":70758473,"comment_id":128659958,"body_markdown":"Sealed classes without the `permits` keyword compile just fine, so it seems that it is not actually required. From my testing, it appears that when the `permits` keyword is omitted, only nested classes are permitted to extend the sealed class. (I&#39;d assume this applies to interfaces too, but I haven&#39;t tested)","body":"Sealed classes without the <code>permits</code> keyword compile just fine, so it seems that it is not actually required. From my testing, it appears that when the <code>permits</code> keyword is omitted, only nested classes are permitted to extend the sealed class. (I&#39;d assume this applies to interfaces too, but I haven&#39;t tested)"}],"tags":[],"owner":{"account_id":5612578,"reputation":65,"user_id":4785682,"accept_rate":100,"display_name":"Naveen K"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645025465,"creation_date":1642520888,"answer_id":70758473,"question_id":69218585,"body_markdown":"All `sealed` java classes or interfaces must use `permits` keyword. For example:\r\n\r\nParent.class:\r\n\r\n```java\r\npublic sealed class Parent permits Child1, Child2 {\r\n  void parentMethod() {\r\n    System.out.println(&quot;from a sealed parent class &quot;);\r\n  }\r\n}\r\n```\r\n\r\nChild1.java:\r\n\r\n```java\r\npublic final class Child1 extends Parent {\r\n  public static void main(String[] args) {\r\n    Child1 obj = new Child1();\r\n    obj.parentMethod();\r\n  }\r\n}\r\n```\r\n\r\nChild2.java:\r\n\r\n```java\r\npublic final class Child2 extends Parent {\r\n  public static void main(String[] args) {\r\n    Child2 obj = new Child2();\r\n    obj.parentMethod();\r\n  }\r\n}\r\n```\r\n\r\nChild3.java\r\n\r\n```java\r\npublic final class Child3 extends Parent {\r\n  public static void main(String[] args) {\r\n    Child3 obj = new Child3();\r\n    obj.parentMethod();\r\n  }\r\n}\r\n```\r\n\r\nThis `Child3` class code will throw a compile-time error saying\r\nThe type Child3 extending a sealed class Parent should be a permitted subtype of Parent (`permits Child3`, just like `Child1` and `Child2`).","title":"What are sealed classes in Java 17?","body":"<p>All <code>sealed</code> java classes or interfaces must use <code>permits</code> keyword. For example:</p>\n<p>Parent.class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public sealed class Parent permits Child1, Child2 {\n  void parentMethod() {\n    System.out.println(&quot;from a sealed parent class &quot;);\n  }\n}\n</code></pre>\n<p>Child1.java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public final class Child1 extends Parent {\n  public static void main(String[] args) {\n    Child1 obj = new Child1();\n    obj.parentMethod();\n  }\n}\n</code></pre>\n<p>Child2.java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public final class Child2 extends Parent {\n  public static void main(String[] args) {\n    Child2 obj = new Child2();\n    obj.parentMethod();\n  }\n}\n</code></pre>\n<p>Child3.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>public final class Child3 extends Parent {\n  public static void main(String[] args) {\n    Child3 obj = new Child3();\n    obj.parentMethod();\n  }\n}\n</code></pre>\n<p>This <code>Child3</code> class code will throw a compile-time error saying\nThe type Child3 extending a sealed class Parent should be a permitted subtype of Parent (<code>permits Child3</code>, just like <code>Child1</code> and <code>Child2</code>).</p>\n"},{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1660282270,"creation_date":1660282270,"answer_id":73329618,"question_id":69218585,"body_markdown":"**Sealed classes**\r\n\r\nA sealed class is a constraint that permits only given classes to implement it. These permitted classes must explicitly extend the sealed class and also have one of the  `sealed`, `non-sealed`, or `final` modifiers. The feature is delivered as of java 17 ([JEP 409](https://openjdk.org/jeps/409)) and was available as a preview longer before (Java 15).\r\n\r\n```\r\nsealed interface IdentificationDocument permits IdCard, Passport, DrivingLicence { }\r\n```\r\n```\r\nfinal class IdCard implements IdentificationDocument { }\r\nfinal class Passport implements IdentificationDocument { }\r\nnon-sealed class DrivingLicence implements IdentificationDocument { }\r\nclass InternationalDrivingPermit extends DrivingLicence {}\r\n```\r\n\r\n**Usage with pattern matching**\r\n\r\nI find this new feature awesome in conjunction with pattern matching introduced as a preview as of Java 17 ([JEP 406](https://openjdk.org/jeps/406))!\r\n\r\nThe permitted class restriction assures all the subclasses are known in compile time. Using the `switch` expressions ([JEP 361](https://openjdk.org/jeps/361) as of Java 14) the compiler requires either to list **all** the permitted classes or use the `default` keyword for the remaining ones. Consider the following example using the classes above:\r\n\r\n\r\n```\r\nfinal String code = switch(identificationDocument) {\r\n\tcase IdCard idCard -&gt; &quot;I&quot;;\r\n\tcase Passport passport -&gt; &quot;P&quot;;\r\n};\r\n```\r\nThe compiler upon `javac Application.java --enable-preview -source 17` results in an error:\r\n&gt; ```\r\n&gt; Application.java:9: error: the switch expression does not cover all possible input values\r\n&gt;                 final String code = switch(identificationDocument) {\r\n&gt;                                     ^\r\n&gt; Note: Application.java uses preview features of Java SE 17.\r\n&gt; Note: Recompile with -Xlint:preview for details.\r\n&gt; 1 error\r\n&gt; ```\r\n\r\nOnce all permitted classes or the `default` keyword are used, the compilation is successful:\r\n\r\n```\r\nfinal String code = switch(identificationDocument) {\r\n\tcase IdCard idCard -&gt; &quot;I&quot;;\r\n\tcase Passport passport -&gt; &quot;P&quot;;\r\n\tcase DrivingLicence drivingLicence -&gt; &quot;D&quot;;\r\n};\r\n```","title":"What are sealed classes in Java 17?","body":"<p><strong>Sealed classes</strong></p>\n<p>A sealed class is a constraint that permits only given classes to implement it. These permitted classes must explicitly extend the sealed class and also have one of the  <code>sealed</code>, <code>non-sealed</code>, or <code>final</code> modifiers. The feature is delivered as of java 17 (<a href=\"https://openjdk.org/jeps/409\" rel=\"nofollow noreferrer\">JEP 409</a>) and was available as a preview longer before (Java 15).</p>\n<pre><code>sealed interface IdentificationDocument permits IdCard, Passport, DrivingLicence { }\n</code></pre>\n<pre><code>final class IdCard implements IdentificationDocument { }\nfinal class Passport implements IdentificationDocument { }\nnon-sealed class DrivingLicence implements IdentificationDocument { }\nclass InternationalDrivingPermit extends DrivingLicence {}\n</code></pre>\n<p><strong>Usage with pattern matching</strong></p>\n<p>I find this new feature awesome in conjunction with pattern matching introduced as a preview as of Java 17 (<a href=\"https://openjdk.org/jeps/406\" rel=\"nofollow noreferrer\">JEP 406</a>)!</p>\n<p>The permitted class restriction assures all the subclasses are known in compile time. Using the <code>switch</code> expressions (<a href=\"https://openjdk.org/jeps/361\" rel=\"nofollow noreferrer\">JEP 361</a> as of Java 14) the compiler requires either to list <strong>all</strong> the permitted classes or use the <code>default</code> keyword for the remaining ones. Consider the following example using the classes above:</p>\n<pre><code>final String code = switch(identificationDocument) {\n    case IdCard idCard -&gt; &quot;I&quot;;\n    case Passport passport -&gt; &quot;P&quot;;\n};\n</code></pre>\n<p>The compiler upon <code>javac Application.java --enable-preview -source 17</code> results in an error:</p>\n<blockquote>\n<pre><code>Application.java:9: error: the switch expression does not cover all possible input values\n                final String code = switch(identificationDocument) {\n                                    ^\nNote: Application.java uses preview features of Java SE 17.\nNote: Recompile with -Xlint:preview for details.\n1 error\n</code></pre>\n</blockquote>\n<p>Once all permitted classes or the <code>default</code> keyword are used, the compilation is successful:</p>\n<pre><code>final String code = switch(identificationDocument) {\n    case IdCard idCard -&gt; &quot;I&quot;;\n    case Passport passport -&gt; &quot;P&quot;;\n    case DrivingLicence drivingLicence -&gt; &quot;D&quot;;\n};\n</code></pre>\n"},{"tags":[],"owner":{"account_id":179957,"reputation":1300,"user_id":412965,"display_name":"raiks"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1665138544,"creation_date":1665138544,"answer_id":73985785,"question_id":69218585,"body_markdown":"Sealed classes is an addition to the Java language giving a class author a fine-grained control over which classes can extend it. Before, you could either allow everyone to inherit your class or disallow it completely (using &quot;final&quot;). It also works for interfaces.\r\n\r\nAdditionally, it&#39;s a prerequisite for the pattern matching feature because all descendants are known during compilation.\r\n\r\nAs usual, there is a downside - sealed classes and interfaces can&#39;t be mocked / faked which is a testing impediment.","title":"What are sealed classes in Java 17?","body":"<p>Sealed classes is an addition to the Java language giving a class author a fine-grained control over which classes can extend it. Before, you could either allow everyone to inherit your class or disallow it completely (using &quot;final&quot;). It also works for interfaces.</p>\n<p>Additionally, it's a prerequisite for the pattern matching feature because all descendants are known during compilation.</p>\n<p>As usual, there is a downside - sealed classes and interfaces can't be mocked / faked which is a testing impediment.</p>\n"},{"comments":[{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1697656753,"post_id":76654554,"comment_id":136308830,"body_markdown":"Related: *[What do we do with answers that are entirely copied and improperly attributed (only a &quot;reference&quot; link or similar is included)?](https://meta.stackoverflow.com/questions/321299/)*","body":"Related: <i><a href=\"https://meta.stackoverflow.com/questions/321299/\">What do we do with answers that are entirely copied and improperly attributed (only a &quot;reference&quot; link or similar is included)?</a></i>"}],"tags":[],"owner":{"account_id":13365877,"reputation":11,"user_id":9646171,"display_name":"Pritam Nath"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688997909,"creation_date":1688997909,"answer_id":76654554,"question_id":69218585,"body_markdown":"Sealed Classes: Sealed classes are a feature that allows developers to control the extent to which other classes can inherit from them. By declaring a class as sealed, you can specify which other classes are allowed to subclass it. This feature enhances encapsulation and provides more control over class hierarchies and extensions.\r\nhttps://java-speed.blogspot.com/2023/07/what-is-sealed-classes-in-java-17.html","title":"What are sealed classes in Java 17?","body":"<p>Sealed Classes: Sealed classes are a feature that allows developers to control the extent to which other classes can inherit from them. By declaring a class as sealed, you can specify which other classes are allowed to subclass it. This feature enhances encapsulation and provides more control over class hierarchies and extensions.\n<a href=\"https://java-speed.blogspot.com/2023/07/what-is-sealed-classes-in-java-17.html\" rel=\"nofollow noreferrer\">https://java-speed.blogspot.com/2023/07/what-is-sealed-classes-in-java-17.html</a></p>\n"},{"tags":[],"owner":{"account_id":8056033,"reputation":2316,"user_id":6073148,"accept_rate":75,"display_name":"Zahid Khan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701066587,"creation_date":1701016070,"answer_id":77552520,"question_id":69218585,"body_markdown":"## What Are Sealed Classes in Java?\r\n\r\nThe `final` modifier can be considered a strong form of sealing, where extension/implementation is prohibited **completely**. \r\n\r\nConceptually: `final` = `sealed` + an empty `permits` clause.\r\n\r\nUnlike `final` which completely prohibits extension/implementation. \r\nA `Sealed` `class`/`interface` restrict which other classes or interfaces may extend or implement them. \r\n\r\n---\r\n\r\n## History \r\n\r\n 1. Sealed Classes were proposed by JEP 360 and delivered in JDK 15 as a\r\n    preview feature.  \r\n 2. They were proposed again, with refinements, by JEP 397 and delivered\r\n    in JDK 16 as a preview feature. \r\n 3. This JEP proposes to finalize Sealed\r\n    Classes in JDK 17, with no changes from JDK 16.\r\n\r\n## Goals\r\n\r\n - Allow the author of a class or interface to control which code is\r\n   responsible for implementing it.\r\n   \r\n   \r\n - Provide a more declarative way than access modifiers to restrict the\r\n   use of a superclass.\r\n\r\n## Description\r\n\r\n 1. A class/interface is sealed by applying the `sealed` modifier to its declaration. \r\n 2. Then, after any extends and implements clauses, the `permits` clause specifies the classes that are permitted to extend the sealed class. \r\n\r\n    #### Example \r\n    For example, the following declaration of `Loan` specifies permitted `UnsecuredLoan`, `SecuredLoan` subclasses:\r\n    \r\n      ```java\r\n      sealed interface Loan permits UnsecuredLoan,SecuredLoan{}\r\n\r\n      final class UnsecuredLoan implements Loan {}\r\n\r\n      record SecuredLoan() implements Loan{}\r\n      ```\r\n    \r\n\r\n### Benefits Of Sealed Class With Pattern Matching\r\n\r\nUsing Pattern Matching, instead of inspecting an instance of a sealed class with *if-else* chains, we can use a `switch` enhanced with type test patterns. \r\n\r\nThis will allow the Java compiler to check all the permitted classes are covered for us.\r\n\r\nFor example, consider this code:\r\n\r\n```java\r\nvoid checkLoanType(Loan loan) {\r\n    if (loan instanceof UnsecuredLoan unsecuredLoan) {\r\n//    something\r\n    } else if (loan instanceof SecuredLoan securedLoan) {\r\n//     something\r\n    }\r\n}\r\n```\r\n\r\n**The Java compiler cannot ensure that the instanceof tests cover all the permitted subclasses of Loan.** Thus, no compile-time error message would be issued if any instanceof Loan was omitted.\r\n\r\nIn contrast, using a pattern matching `switch` expression, the compiler can confirm that every permitted subclass of Loan is covered. **The compiler will, moreover, issue an error message if any of the cases are missing**:\r\n\r\n```java\r\nvoid checkLoanType(Loan loan) {\r\n     switch (loan) { \r\n       case SecuredLoan securedLoan -&gt; {} //generated by compiler.\r\n       case UnsecuredLoan unsecuredLoan -&gt; {} //generated by compiler.\r\n     }\r\n}\r\n```\r\n\r\nReference:\r\n[JEP 360: Sealed Classes][1]\r\n\r\n\r\n  [1]: https://openjdk.org/jeps/360","title":"What are sealed classes in Java 17?","body":"<h2>What Are Sealed Classes in Java?</h2>\n<p>The <code>final</code> modifier can be considered a strong form of sealing, where extension/implementation is prohibited <strong>completely</strong>.</p>\n<p>Conceptually: <code>final</code> = <code>sealed</code> + an empty <code>permits</code> clause.</p>\n<p>Unlike <code>final</code> which completely prohibits extension/implementation.\nA <code>Sealed</code> <code>class</code>/<code>interface</code> restrict which other classes or interfaces may extend or implement them.</p>\n<hr />\n<h2>History</h2>\n<ol>\n<li>Sealed Classes were proposed by JEP 360 and delivered in JDK 15 as a\npreview feature.</li>\n<li>They were proposed again, with refinements, by JEP 397 and delivered\nin JDK 16 as a preview feature.</li>\n<li>This JEP proposes to finalize Sealed\nClasses in JDK 17, with no changes from JDK 16.</li>\n</ol>\n<h2>Goals</h2>\n<ul>\n<li><p>Allow the author of a class or interface to control which code is\nresponsible for implementing it.</p>\n</li>\n<li><p>Provide a more declarative way than access modifiers to restrict the\nuse of a superclass.</p>\n</li>\n</ul>\n<h2>Description</h2>\n<ol>\n<li><p>A class/interface is sealed by applying the <code>sealed</code> modifier to its declaration.</p>\n</li>\n<li><p>Then, after any extends and implements clauses, the <code>permits</code> clause specifies the classes that are permitted to extend the sealed class.</p>\n<h4>Example</h4>\n<p>For example, the following declaration of <code>Loan</code> specifies permitted <code>UnsecuredLoan</code>, <code>SecuredLoan</code> subclasses:</p>\n<pre class=\"lang-java prettyprint-override\"><code>sealed interface Loan permits UnsecuredLoan,SecuredLoan{}\n\nfinal class UnsecuredLoan implements Loan {}\n\nrecord SecuredLoan() implements Loan{}\n</code></pre>\n</li>\n</ol>\n<h3>Benefits Of Sealed Class With Pattern Matching</h3>\n<p>Using Pattern Matching, instead of inspecting an instance of a sealed class with <em>if-else</em> chains, we can use a <code>switch</code> enhanced with type test patterns.</p>\n<p>This will allow the Java compiler to check all the permitted classes are covered for us.</p>\n<p>For example, consider this code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>void checkLoanType(Loan loan) {\n    if (loan instanceof UnsecuredLoan unsecuredLoan) {\n//    something\n    } else if (loan instanceof SecuredLoan securedLoan) {\n//     something\n    }\n}\n</code></pre>\n<p><strong>The Java compiler cannot ensure that the instanceof tests cover all the permitted subclasses of Loan.</strong> Thus, no compile-time error message would be issued if any instanceof Loan was omitted.</p>\n<p>In contrast, using a pattern matching <code>switch</code> expression, the compiler can confirm that every permitted subclass of Loan is covered. <strong>The compiler will, moreover, issue an error message if any of the cases are missing</strong>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>void checkLoanType(Loan loan) {\n     switch (loan) { \n       case SecuredLoan securedLoan -&gt; {} //generated by compiler.\n       case UnsecuredLoan unsecuredLoan -&gt; {} //generated by compiler.\n     }\n}\n</code></pre>\n<p>Reference:\n<a href=\"https://openjdk.org/jeps/360\" rel=\"nofollow noreferrer\">JEP 360: Sealed Classes</a></p>\n"}],"owner":{"display_name":"user16411474"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37485,"favorite_count":0,"down_vote_count":7,"up_vote_count":64,"accepted_answer_id":69218715,"answer_count":8,"score":57,"last_activity_date":1701066587,"creation_date":1631859507,"question_id":69218585,"body_markdown":"Today, I updated my Java version from 16 to 17, and I found that `sealed` classes is a new feature in it. I think it can be declared like this:\r\n\r\n    public sealed class Main permits AClass, AnotherClass {\r\n    }\r\n\r\nBut, what is the use of sealed classes in Java? \r\n\r\nI also knew that it was a *preview* feature in [JDK 15][1].\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Java_version_history#Java_15","title":"What are sealed classes in Java 17?","body":"<p>Today, I updated my Java version from 16 to 17, and I found that <code>sealed</code> classes is a new feature in it. I think it can be declared like this:</p>\n<pre><code>public sealed class Main permits AClass, AnotherClass {\n}\n</code></pre>\n<p>But, what is the use of sealed classes in Java?</p>\n<p>I also knew that it was a <em>preview</em> feature in <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_15\" rel=\"nofollow noreferrer\">JDK 15</a>.</p>\n"},{"tags":["java","directory","java-io","java-nio"],"answers":[{"comments":[{"owner":{"account_id":484452,"reputation":21496,"user_id":900130,"accept_rate":65,"display_name":"Zolt&#225;n"},"score":0,"creation_date":1416562738,"post_id":3090789,"comment_id":42631455,"body_markdown":"This only works if the file was created with a path string which contains a parent directory, i.e. `new File(&quot;file.txt&quot;).getParentFile()` returns `null`, `new File(&quot;dir/file.txt&quot;).getParentFile()` returns the same as `new File(&quot;dir&quot;)`","body":"This only works if the file was created with a path string which contains a parent directory, i.e. <code>new File(&quot;file.txt&quot;).getParentFile()</code> returns <code>null</code>, <code>new File(&quot;dir&#47;file.txt&quot;).getParentFile()</code> returns the same as <code>new File(&quot;dir&quot;)</code>"},{"owner":{"account_id":484452,"reputation":21496,"user_id":900130,"accept_rate":65,"display_name":"Zolt&#225;n"},"score":1,"creation_date":1416562944,"post_id":3090789,"comment_id":42631566,"body_markdown":"True, you don&#39;t need `mkdirs` if the file you are trying to create is not in a non-existent directory, but my use case is that I am creating multiple files, _some_ of which have parent directories, while others do not.","body":"True, you don&#39;t need <code>mkdirs</code> if the file you are trying to create is not in a non-existent directory, but my use case is that I am creating multiple files, <i>some</i> of which have parent directories, while others do not."},{"owner":{"account_id":16752149,"reputation":2993,"user_id":12109043,"display_name":"zr0gravity7"},"score":0,"creation_date":1644352061,"post_id":3090789,"comment_id":125583244,"body_markdown":"If your `File` instance is itself intended to be a folder, you can simply do: `folder.mkdirs();`.","body":"If your <code>File</code> instance is itself intended to be a folder, you can simply do: <code>folder.mkdirs();</code>."}],"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":3,"down_vote_count":0,"up_vote_count":178,"is_accepted":true,"score":178,"last_activity_date":1277188331,"creation_date":1277188331,"answer_id":3090789,"question_id":3090761,"body_markdown":"Have you tried this?\r\n\r\n    file.getParentFile().mkdirs();\r\n    file.createNewFile();\r\n\r\nI don&#39;t know of a *single* method call that will do this, but it&#39;s pretty easy as two statements.","title":"How to create a new file together with missing parent directories?","body":"<p>Have you tried this?</p>\n\n<pre><code>file.getParentFile().mkdirs();\nfile.createNewFile();\n</code></pre>\n\n<p>I don't know of a <em>single</em> method call that will do this, but it's pretty easy as two statements.</p>\n"},{"comments":[{"owner":{"account_id":1099514,"reputation":2234,"user_id":1092271,"accept_rate":56,"display_name":"NikkyD"},"score":0,"creation_date":1441812096,"post_id":27058578,"comment_id":52827818,"body_markdown":"for a lot of reasons you should always include a path. How else should the system know where you want to put that file ?","body":"for a lot of reasons you should always include a path. How else should the system know where you want to put that file ?"},{"owner":{"account_id":484452,"reputation":21496,"user_id":900130,"accept_rate":65,"display_name":"Zolt&#225;n"},"score":0,"creation_date":1441812373,"post_id":27058578,"comment_id":52828006,"body_markdown":"@NikkyD I&#39;m sorry, I don&#39;t quite understand your comment. In my answer, I&#39;m not saying you&#39;re not including a path, but that the path passed may not include _parent directories_. There is also an example for such a path in the answer.","body":"@NikkyD I&#39;m sorry, I don&#39;t quite understand your comment. In my answer, I&#39;m not saying you&#39;re not including a path, but that the path passed may not include <i>parent directories</i>. There is also an example for such a path in the answer."}],"tags":[],"owner":{"account_id":484452,"reputation":21496,"user_id":900130,"accept_rate":65,"display_name":"Zolt&#225;n"},"comment_count":2,"down_vote_count":1,"up_vote_count":21,"is_accepted":false,"score":20,"last_activity_date":1416564582,"creation_date":1416563777,"answer_id":27058578,"question_id":3090761,"body_markdown":"Jon&#39;s answer works if you are certain that the path string with which you are creating a file includes parent directories, i.e. if you are certain that the path is of the form `&lt;parent-dir&gt;/&lt;file-name&gt;`.\r\n\r\nIf it does not, i.e. it is a relative path of the form `&lt;file-name&gt;`, then `getParentFile()` will return `null`.\r\n\r\nE.g.\r\n\r\n    File f = new File(&quot;dir/text.txt&quot;);\r\n    f.getParentFile().mkdirs();     // works fine because the path includes a parent directory.\r\n\r\n    File f = new File(&quot;text.txt&quot;);\r\n    f.getParentFile().mkdirs();     // throws NullPointerException because the parent file is unknown, i.e. `null`.\r\n\r\nSo if your file path may or may not include parent directories, you are safer with the following code:\r\n\r\n    File f = new File(filename);\r\n    if (f.getParentFile() != null) {\r\n      f.getParentFile().mkdirs();\r\n    }\r\n    f.createNewFile();","title":"How to create a new file together with missing parent directories?","body":"<p>Jon's answer works if you are certain that the path string with which you are creating a file includes parent directories, i.e. if you are certain that the path is of the form <code>&lt;parent-dir&gt;/&lt;file-name&gt;</code>.</p>\n\n<p>If it does not, i.e. it is a relative path of the form <code>&lt;file-name&gt;</code>, then <code>getParentFile()</code> will return <code>null</code>.</p>\n\n<p>E.g.</p>\n\n<pre><code>File f = new File(\"dir/text.txt\");\nf.getParentFile().mkdirs();     // works fine because the path includes a parent directory.\n\nFile f = new File(\"text.txt\");\nf.getParentFile().mkdirs();     // throws NullPointerException because the parent file is unknown, i.e. `null`.\n</code></pre>\n\n<p>So if your file path may or may not include parent directories, you are safer with the following code:</p>\n\n<pre><code>File f = new File(filename);\nif (f.getParentFile() != null) {\n  f.getParentFile().mkdirs();\n}\nf.createNewFile();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":449182,"reputation":1521,"user_id":843828,"display_name":"Ted"},"comment_count":0,"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1554960527,"creation_date":1554960527,"answer_id":55625317,"question_id":3090761,"body_markdown":"As of java7, you can also use NIO2 API:\r\n\r\n    void createFile() throws IOException {\r\n        Path fp = Paths.get(&quot;dir1/dir2/newfile.txt&quot;);\r\n        Files.createDirectories(fp.getParent());\r\n        Files.createFile(fp);\r\n    }\r\n\r\n","title":"How to create a new file together with missing parent directories?","body":"<p>As of java7, you can also use NIO2 API:</p>\n\n<pre><code>void createFile() throws IOException {\n    Path fp = Paths.get(\"dir1/dir2/newfile.txt\");\n    Files.createDirectories(fp.getParent());\n    Files.createFile(fp);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":250783,"reputation":16159,"user_id":527702,"accept_rate":63,"display_name":"hippietrail"},"score":0,"creation_date":1701067571,"post_id":76788323,"comment_id":136724344,"body_markdown":"Do I need to `import` something or put something in my `build.gradle.kts`? I&#39;m still a bit of a noob at Android+Kotlin stuff and I just get `Unresolved reference: createParentDirectories` in the Android Studio IDE.","body":"Do I need to <code>import</code> something or put something in my <code>build.gradle.kts</code>? I&#39;m still a bit of a noob at Android+Kotlin stuff and I just get <code>Unresolved reference: createParentDirectories</code> in the Android Studio IDE."},{"owner":{"account_id":11726648,"reputation":19553,"user_id":8583692,"display_name":"Mahozad"},"score":1,"creation_date":1701089123,"post_id":76788323,"comment_id":136727741,"body_markdown":"@hippietrail The Kotlin version used (embedded) for Gradle scripts themselves may be different from the Kotlin version you have used/specified for your project &quot;real&quot; code. As of now, it seems the latest version of Gradle (8.4) is set to support Kotlin language version 1.8. So, to use this new function (introduced in Kotlin 1.9) in build scripts, should wait for new Gradle versions (and update to that) and hope its Kotlin language level is 1.9 or higher. See https://docs.gradle.org/current/userguide/compatibility.html#kotlin","body":"@hippietrail The Kotlin version used (embedded) for Gradle scripts themselves may be different from the Kotlin version you have used/specified for your project &quot;real&quot; code. As of now, it seems the latest version of Gradle (8.4) is set to support Kotlin language version 1.8. So, to use this new function (introduced in Kotlin 1.9) in build scripts, should wait for new Gradle versions (and update to that) and hope its Kotlin language level is 1.9 or higher. See <a href=\"https://docs.gradle.org/current/userguide/compatibility.html#kotlin\" rel=\"nofollow noreferrer\">docs.gradle.org/current/userguide/compatibility.html#kotlin</a>"},{"owner":{"account_id":250783,"reputation":16159,"user_id":527702,"accept_rate":63,"display_name":"hippietrail"},"score":0,"creation_date":1701140714,"post_id":76788323,"comment_id":136735687,"body_markdown":"Thanks! I see I only have Gradle 8.1 in my Android Studio. After updating to 8.4, `createParentDirectories()` is still not available in my Kotlin. I actually do want to use it in my Gradle script where I&#39;m generating a source code file. Android Studio says my Kotlin version is `223-1.9.0-release-358-AS8836.35.2231.11090377` so does that mean it should work?","body":"Thanks! I see I only have Gradle 8.1 in my Android Studio. After updating to 8.4, <code>createParentDirectories()</code> is still not available in my Kotlin. I actually do want to use it in my Gradle script where I&#39;m generating a source code file. Android Studio says my Kotlin version is <code>223-1.9.0-release-358-AS8836.35.2231.11090377</code> so does that mean it should work?"},{"owner":{"account_id":11726648,"reputation":19553,"user_id":8583692,"display_name":"Mahozad"},"score":0,"creation_date":1701173810,"post_id":76788323,"comment_id":136740099,"body_markdown":"@hippietrail As I said, Gradle scripts (like `build.gradle.kts` and `settings.gradle.kts`) use their own Kotlin version which may be different from the Kotlin version used for your app source code (`*.kt` files in `src/main/kotlin/` and `src/main/java/` and `src/test/kotlin/` and...). And again, as I said, Gradle **8.4** has Kotlin language version `1.8.x` which means it does not have `createParentDirectories()` in build scripts. We should wait for Gradle **8.5** and hope its Kotling language version is set to `1.9.x.`","body":"@hippietrail As I said, Gradle scripts (like <code>build.gradle.kts</code> and <code>settings.gradle.kts</code>) use their own Kotlin version which may be different from the Kotlin version used for your app source code (<code>*.kt</code> files in <code>src&#47;main&#47;kotlin&#47;</code> and <code>src&#47;main&#47;java&#47;</code> and <code>src&#47;test&#47;kotlin&#47;</code> and...). And again, as I said, Gradle <b>8.4</b> has Kotlin language version <code>1.8.x</code> which means it does not have <code>createParentDirectories()</code> in build scripts. We should wait for Gradle <b>8.5</b> and hope its Kotling language version is set to <code>1.9.x.</code>"},{"owner":{"account_id":11726648,"reputation":19553,"user_id":8583692,"display_name":"Mahozad"},"score":1,"creation_date":1701174713,"post_id":76788323,"comment_id":136740242,"body_markdown":"In other words, you can change the version of Kotlin used for your app `src/...` code (confusingly, defined in your build.gradle.kts or settings.gradle.kts or libs.versions.toml  or gradle.properties) but you can NOT change the version of Kotlin for Gradle scripts themselves (AFAIK). Each Gradle version ships with its embedded Kotlin used only in Gradle scripts.","body":"In other words, you can change the version of Kotlin used for your app <code>src&#47;...</code> code (confusingly, defined in your build.gradle.kts or settings.gradle.kts or libs.versions.toml  or gradle.properties) but you can NOT change the version of Kotlin for Gradle scripts themselves (AFAIK). Each Gradle version ships with its embedded Kotlin used only in Gradle scripts."}],"tags":[],"owner":{"account_id":11726648,"reputation":19553,"user_id":8583692,"display_name":"Mahozad"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701065950,"creation_date":1690551351,"answer_id":76788323,"question_id":3090761,"body_markdown":"Searching for a Kotlin solution this generally-titled question pops up.  \r\nSo, for Kotlin 1.9.0 and newer there is a new [`createParentDirectories()`][1] method on `Path` class:\r\n\r\n```kotlin\r\nPath(&quot;my/path/to/file.txt&quot;).createParentDirectories()\r\n```\r\n\r\n\r\n  [1]: https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.io.path/java.nio.file.-path/create-parent-directories.html","title":"How to create a new file together with missing parent directories?","body":"<p>Searching for a Kotlin solution this generally-titled question pops up.<br />\nSo, for Kotlin 1.9.0 and newer there is a new <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.io.path/java.nio.file.-path/create-parent-directories.html\" rel=\"nofollow noreferrer\"><code>createParentDirectories()</code></a> method on <code>Path</code> class:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>Path(&quot;my/path/to/file.txt&quot;).createParentDirectories()\n</code></pre>\n"}],"owner":{"account_id":88036,"reputation":205429,"user_id":243782,"accept_rate":94,"display_name":"Pentium10"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56602,"favorite_count":0,"down_vote_count":0,"up_vote_count":120,"accepted_answer_id":3090789,"answer_count":4,"score":120,"last_activity_date":1701065950,"creation_date":1277188041,"question_id":3090761,"body_markdown":"When using \r\n\r\n```java\r\nfile.createNewFile();\r\n```\r\n\r\nI get the following exception\r\n\r\n    java.io.IOException: Parent directory of file does not exist: /.../pkg/databases/mydb\r\n\r\nI am wondering is there a createNewFile that creates the missing parent directories?\r\n","title":"How to create a new file together with missing parent directories?","body":"<p>When using</p>\n<pre class=\"lang-java prettyprint-override\"><code>file.createNewFile();\n</code></pre>\n<p>I get the following exception</p>\n<pre><code>java.io.IOException: Parent directory of file does not exist: /.../pkg/databases/mydb\n</code></pre>\n<p>I am wondering is there a createNewFile that creates the missing parent directories?</p>\n"},{"tags":["java","android","encryption","rsa"],"answers":[{"tags":[],"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1701065569,"creation_date":1508358958,"answer_id":46818820,"question_id":46818580,"body_markdown":"What you generate is a key *pair* for Java. The public and private keys of the key pair *always share the same modulus*: the calculations are performed within that domain.\r\n\r\nWhat is kept secure is not the modulus but the private exponent and - generally also available - the parameters required to perform the fast exponentiation using the Chinese Remainder Theorem (CRT). These are basically the parameters such as prime P and Q used to calculate the private key and indeed the modulus.\r\n\r\nActually, you can use the modulus to determine that the key *pair* is unique as each key pair should have a unique modulus. This way you can also check if the public key and private key are part of the same pair - without doing signature generation / verification.\r\n\r\n---\r\n\r\nThe private exponent and the CRT parameters are of course not printed; the modulus is enough to identify the private key and you would not want to destroy the security of the private key by printing them out.\r\n\r\nIf you want to see the private exponent and CRT parameters, then *cast* your private key to [`RSAPrivateCrtKey`](https://docs.oracle.com/javase/7/docs/api/java/security/interfaces/RSAPrivateCrtKey.html) and use the getters of that class. If you just need the private exponent then casting to `RSAPrivateKey` would be less error prone. It would be a good idea to first check the type of the variable before casting unless you are OK with possible `ClassCastException`. In general the software generators will create a `RSAPrivateCrtKey` although the use of CRT parameters doesn&#39;t seem to be explicitly specified.\r\n\r\nNote that only software based keys will probably have the getters return information so be aware that trying to get to the private parameters you may have to deal with runtime exceptions if the keys may be stored in a hardware device such as a smart card or HSM.","title":"Generated RSA Public and Private key modulus are the same in Java/Android","body":"<p>What you generate is a key <em>pair</em> for Java. The public and private keys of the key pair <em>always share the same modulus</em>: the calculations are performed within that domain.</p>\n<p>What is kept secure is not the modulus but the private exponent and - generally also available - the parameters required to perform the fast exponentiation using the Chinese Remainder Theorem (CRT). These are basically the parameters such as prime P and Q used to calculate the private key and indeed the modulus.</p>\n<p>Actually, you can use the modulus to determine that the key <em>pair</em> is unique as each key pair should have a unique modulus. This way you can also check if the public key and private key are part of the same pair - without doing signature generation / verification.</p>\n<hr />\n<p>The private exponent and the CRT parameters are of course not printed; the modulus is enough to identify the private key and you would not want to destroy the security of the private key by printing them out.</p>\n<p>If you want to see the private exponent and CRT parameters, then <em>cast</em> your private key to <a href=\"https://docs.oracle.com/javase/7/docs/api/java/security/interfaces/RSAPrivateCrtKey.html\" rel=\"nofollow noreferrer\"><code>RSAPrivateCrtKey</code></a> and use the getters of that class. If you just need the private exponent then casting to <code>RSAPrivateKey</code> would be less error prone. It would be a good idea to first check the type of the variable before casting unless you are OK with possible <code>ClassCastException</code>. In general the software generators will create a <code>RSAPrivateCrtKey</code> although the use of CRT parameters doesn't seem to be explicitly specified.</p>\n<p>Note that only software based keys will probably have the getters return information so be aware that trying to get to the private parameters you may have to deal with runtime exceptions if the keys may be stored in a hardware device such as a smart card or HSM.</p>\n"}],"owner":{"account_id":10536984,"reputation":15,"user_id":7764538,"display_name":"Duenytz Sierra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2407,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":46818820,"answer_count":1,"score":1,"last_activity_date":1701065569,"creation_date":1508357993,"question_id":46818580,"body_markdown":"I&#39;m a newbie in Cryptography, and probably I&#39;m asking a dumb question but I have been unable to find an answer to this. I&#39;m generating the RSA keys in Java in an POC Android project. My purpose is to encrypt the user password with the public key and decrypt it with the private key in the server, also applying this will allow me the keep the password in the device in a more secure way (encrypted) to then use it automatically when fingerprint auth is used. I&#39;m generating the keys with the regular Java method:\r\n\r\n    KeyPairGenerator keyGen = KeyPairGenerator.getInstance(&quot;RSA&quot;);\r\n    keyGen.initialize(1024);\r\n    KeyPair key = keyGen.generateKeyPair();\r\n    PublicKey publicKey = key.getPublic();\r\n    PrivateKey privateKey = key.getPrivate();\r\n\r\nThen I just log both keys to the Android Studio Logcat this way:\r\n\r\n    Log.e(TAG, &quot;Public key: &quot; + publicKey);\r\n    Log.e(TAG, &quot;Private key: &quot; + privateKey);\r\n\r\n...and this is what I get logged:\r\n\r\n    10-18 15:27:17.570 22426-22426/cliu.tutorialcrypto E/AsymmetricAlgorithmRSA: Public key: OpenSSLRSAPublicKey{modulus=c1312eb5c24da9577dd40263cec233b8be40ed227b81df3c442363f1dfd5364e9e2ba96d4dd7c1011d2633d6603beb1a483b75b8af8a87b10ebe918729b6afe95893d5c93b3f99727785110f2373d20ced8bfe2421c9c682ee737c60a7c6199be3d2e7e4687d69cedc50965b8cebc4445cdfe7a13a7df5eda6a6d4304d057505,publicExponent=10001}\r\n    10-18 15:27:17.570 22426-22426/cliu.tutorialcrypto E/AsymmetricAlgorithmRSA: Private key: OpenSSLRSAPrivateCrtKey{modulus=c1312eb5c24da9577dd40263cec233b8be40ed227b81df3c442363f1dfd5364e9e2ba96d4dd7c1011d2633d6603beb1a483b75b8af8a87b10ebe918729b6afe95893d5c93b3f99727785110f2373d20ced8bfe2421c9c682ee737c60a7c6199be3d2e7e4687d69cedc50965b8cebc4445cdfe7a13a7df5eda6a6d4304d057505,publicExponent=10001}\r\n\r\n\r\nQuestion: Why both modulus in the generated keys are equal? I assume this is not secure enough since just having the public key modulus someone could easily come up with the private key, right?\r\n","title":"Generated RSA Public and Private key modulus are the same in Java/Android","body":"<p>I'm a newbie in Cryptography, and probably I'm asking a dumb question but I have been unable to find an answer to this. I'm generating the RSA keys in Java in an POC Android project. My purpose is to encrypt the user password with the public key and decrypt it with the private key in the server, also applying this will allow me the keep the password in the device in a more secure way (encrypted) to then use it automatically when fingerprint auth is used. I'm generating the keys with the regular Java method:</p>\n\n<pre><code>KeyPairGenerator keyGen = KeyPairGenerator.getInstance(\"RSA\");\nkeyGen.initialize(1024);\nKeyPair key = keyGen.generateKeyPair();\nPublicKey publicKey = key.getPublic();\nPrivateKey privateKey = key.getPrivate();\n</code></pre>\n\n<p>Then I just log both keys to the Android Studio Logcat this way:</p>\n\n<pre><code>Log.e(TAG, \"Public key: \" + publicKey);\nLog.e(TAG, \"Private key: \" + privateKey);\n</code></pre>\n\n<p>...and this is what I get logged:</p>\n\n<pre><code>10-18 15:27:17.570 22426-22426/cliu.tutorialcrypto E/AsymmetricAlgorithmRSA: Public key: OpenSSLRSAPublicKey{modulus=c1312eb5c24da9577dd40263cec233b8be40ed227b81df3c442363f1dfd5364e9e2ba96d4dd7c1011d2633d6603beb1a483b75b8af8a87b10ebe918729b6afe95893d5c93b3f99727785110f2373d20ced8bfe2421c9c682ee737c60a7c6199be3d2e7e4687d69cedc50965b8cebc4445cdfe7a13a7df5eda6a6d4304d057505,publicExponent=10001}\n10-18 15:27:17.570 22426-22426/cliu.tutorialcrypto E/AsymmetricAlgorithmRSA: Private key: OpenSSLRSAPrivateCrtKey{modulus=c1312eb5c24da9577dd40263cec233b8be40ed227b81df3c442363f1dfd5364e9e2ba96d4dd7c1011d2633d6603beb1a483b75b8af8a87b10ebe918729b6afe95893d5c93b3f99727785110f2373d20ced8bfe2421c9c682ee737c60a7c6199be3d2e7e4687d69cedc50965b8cebc4445cdfe7a13a7df5eda6a6d4304d057505,publicExponent=10001}\n</code></pre>\n\n<p>Question: Why both modulus in the generated keys are equal? I assume this is not secure enough since just having the public key modulus someone could easily come up with the private key, right?</p>\n"},{"tags":["java","apache-spark","bigdata"],"comments":[{"owner":{"account_id":7520274,"reputation":1589,"user_id":5712410,"accept_rate":55,"display_name":"Marko Avlija"},"score":0,"creation_date":1493708827,"post_id":43731967,"comment_id":74507067,"body_markdown":"Welcome to StackOverflow. Please see here [how to format code](https://stackoverflow.com/editing-help)","body":"Welcome to StackOverflow. Please see here <a href=\"https://stackoverflow.com/editing-help\">how to format code</a>"},{"owner":{"account_id":2638897,"reputation":7820,"user_id":2282988,"accept_rate":50,"display_name":"Sandeep Singh"},"score":0,"creation_date":1493714753,"post_id":43731967,"comment_id":74510246,"body_markdown":"Can you provide your code ?","body":"Can you provide your code ?"},{"owner":{"account_id":10809526,"reputation":61,"user_id":7950527,"display_name":"arpit bhatnagar"},"score":0,"creation_date":1493876426,"post_id":43731967,"comment_id":74590174,"body_markdown":"i have updated my code in correct format. Please check","body":"i have updated my code in correct format. Please check"},{"owner":{"account_id":10320319,"reputation":126,"user_id":7613426,"display_name":"Germ&#225;n Aquino"},"score":0,"creation_date":1495890408,"post_id":43731967,"comment_id":75445133,"body_markdown":"I run into the same issue just by exiting spark-shell, or by running any of the examples. It is not a permission issue because I also tried specifying a different working dir with --conf spark.local.dir. If anyone has a solution, please share.","body":"I run into the same issue just by exiting spark-shell, or by running any of the examples. It is not a permission issue because I also tried specifying a different working dir with --conf spark.local.dir. If anyone has a solution, please share."}],"answers":[{"tags":[],"owner":{"account_id":12642748,"reputation":1,"user_id":9189618,"display_name":"user9189618"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1515441364,"creation_date":1515440191,"answer_id":48156996,"question_id":43731967,"body_markdown":"this is probably because you are instantiating the SparkContext without a SPARK_HOME or HUPA_HOME that allows the program to find winutils.exe in the bin directory. I found that when I went from \r\n\r\n    SparkConf conf = new SparkConf();\r\n    JavaSparkContext sc = new JavaSparkContext(conf);\r\n\r\nto\r\n\r\n    JavaSparkContext sc = new JavaSparkContext(&quot;local[*], &quot;programname&quot;, \r\n    System.getenv(&quot;SPARK_HOME&quot;), System.getenv(&quot;JARS&quot;));\r\n\r\nthe error went away. ","title":"Spark failed to delete temp directory","body":"<p>this is probably because you are instantiating the SparkContext without a SPARK_HOME or HUPA_HOME that allows the program to find winutils.exe in the bin directory. I found that when I went from </p>\n\n<pre><code>SparkConf conf = new SparkConf();\nJavaSparkContext sc = new JavaSparkContext(conf);\n</code></pre>\n\n<p>to</p>\n\n<pre><code>JavaSparkContext sc = new JavaSparkContext(\"local[*], \"programname\", \nSystem.getenv(\"SPARK_HOME\"), System.getenv(\"JARS\"));\n</code></pre>\n\n<p>the error went away. </p>\n"},{"comments":[{"owner":{"account_id":38287,"reputation":416,"user_id":109811,"display_name":"alexs"},"score":0,"creation_date":1609619311,"post_id":53759242,"comment_id":115880793,"body_markdown":"I&#39;ve set both variables and still get the same error","body":"I&#39;ve set both variables and still get the same error"}],"tags":[],"owner":{"account_id":3165718,"reputation":109,"user_id":2675788,"display_name":"Shambhu Nath"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1544695251,"creation_date":1544695251,"answer_id":53759242,"question_id":43731967,"body_markdown":"I believed, you are trying to execute program without setting up user variables HADOOP_HOME or SPARK_LOCAL_DIRS.\r\nI had same issued, resolved it by creating variables e.g HADOOP_HOME-&gt; C:\\Hadoop, SPARK_LOCAL_DIRS-&gt;C:\\tmp\\spark  ","title":"Spark failed to delete temp directory","body":"<p>I believed, you are trying to execute program without setting up user variables HADOOP_HOME or SPARK_LOCAL_DIRS.\nI had same issued, resolved it by creating variables e.g HADOOP_HOME-> C:\\Hadoop, SPARK_LOCAL_DIRS->C:\\tmp\\spark  </p>\n"}],"owner":{"account_id":10809526,"reputation":61,"user_id":7950527,"display_name":"arpit bhatnagar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8426,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1701065246,"creation_date":1493708506,"question_id":43731967,"body_markdown":"I am trying to submit spark program from cmd in windows 10 with below mentioned command:\r\n\r\n    spark-submit --class abc.Main --master local[2] C:\\Users\\arpitbh\\Desktop\\AmdocsIDE\\workspace\\Line_Count_Spark\\target\\Line_Count_Spark-0.0.1-SNAPSHOT.jar\r\n\r\nbut after running this i am getting error:\r\n\r\n    17/05/02 11:56:57 INFO ShutdownHookManager: Deleting directory C:\\Users\\arpitbh\\AppData\\Local\\Temp\\spark-03f14dbe-1802-40ca-906c-af8de0f462f9\r\n    17/05/02 11:56:57 ERROR ShutdownHookManager: Exception while deleting Spark temp dir: C:\\Users\\arpitbh\\AppData\\Local\\Temp\\spark-03f14dbe-1802-40ca-906c-af8de0f462f9\r\n    java.io.IOException: Failed to delete: C:\\Users\\arpitbh\\AppData\\Local\\Temp\\spark-03f14dbe-1802-40ca-906c-af8de0f462f9\r\n            at org.apache.spark.util.Utils$.deleteRecursively(Utils.scala:1010)\r\n            at org.apache.spark.util.ShutdownHookManager$$anonfun$1$$anonfun$apply$mcV$sp$3.apply(ShutdownHookManager.scala:65)\r\n            at org.apache.spark.util.ShutdownHookManager$$anonfun$1$$anonfun$apply$mcV$sp$3.apply(ShutdownHookManager.scala:62)\r\n            at scala.collection.IndexedSeqOptimized$class.foreach(IndexedSeqOptimized.scala:33)\r\n            at scala.collection.mutable.ArrayOps$ofRef.foreach(ArrayOps.scala:186)\r\n            at org.apache.spark.util.ShutdownHookManager$$anonfun$1.apply$mcV$sp(ShutdownHookManager.scala:62)\r\n            at org.apache.spark.util.SparkShutdownHook.run(ShutdownHookManager.scala:216)\r\n            at org.apache.spark.util.SparkShutdownHookManager$$anonfun$runAll$1$$anonfun$apply$mcV$sp$1.apply$mcV$sp(ShutdownHookManager.scala:188)\r\n            at org.apache.spark.util.SparkShutdownHookManager$$anonfun$runAll$1$$anonfun$apply$mcV$sp$1.apply(ShutdownHookManager.scala:188)\r\n            at org.apache.spark.util.SparkShutdownHookManager$$anonfun$runAll$1$$anonfun$apply$mcV$sp$1.apply(ShutdownHookManager.scala:188)\r\n            at org.apache.spark.util.Utils$.logUncaughtExceptions(Utils.scala:1951)\r\n            at org.apache.spark.util.SparkShutdownHookManager$$anonfun$runAll$1.apply$mcV$sp(ShutdownHookManager.scala:188)\r\n            at org.apache.spark.util.SparkShutdownHookManager$$anonfun$runAll$1.apply(ShutdownHookManager.scala:188)\r\n            at org.apache.spark.util.SparkShutdownHookManager$$anonfun$runAll$1.apply(ShutdownHookManager.scala:188)\r\n            at scala.util.Try$.apply(Try.scala:192)\r\n            at org.apache.spark.util.SparkShutdownHookManager.runAll(ShutdownHookManager.scala:188)\r\n            at org.apache.spark.util.SparkShutdownHookManager$$anon$2.run(ShutdownHookManager.scala:178)\r\n            at org.apache.hadoop.util.ShutdownHookManager$1.run(ShutdownHookManager.java:54)\r\n\r\n\r\nI have also checked JIRA of apache spark, This defect has been marked solved but no solution is mentioned. Please help.\r\n\r\n\r\n    package abc;\r\n    \r\n    import org.apache.spark.SparkConf;\r\n    import org.apache.spark.api.java.JavaRDD;\r\n    import org.apache.spark.api.java.JavaSparkContext;\r\n    \r\n    \r\n    public class Main {\r\n    \r\n    \t/**\r\n    \t * @param args\r\n    \t */\r\n    \tpublic static void main(String[] args) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \r\n    \t\tSparkConf conf =new SparkConf().setAppName(&quot;Line_Count&quot;).setMaster(&quot;local[2]&quot;);\r\n    \t\tJavaSparkContext ctx= new JavaSparkContext(conf);\r\n    \t\t\r\n    \t\tJavaRDD&lt;String&gt; textLoadRDD = ctx.textFile(&quot;C:/spark/README.md&quot;);\r\n    \t\tSystem.out.println(textLoadRDD.count());\r\n    \t\tSystem.getProperty(&quot;java.io.tmpdir&quot;);\r\n    \t\t\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"Spark failed to delete temp directory","body":"<p>I am trying to submit spark program from cmd in windows 10 with below mentioned command:</p>\n\n<pre><code>spark-submit --class abc.Main --master local[2] C:\\Users\\arpitbh\\Desktop\\AmdocsIDE\\workspace\\Line_Count_Spark\\target\\Line_Count_Spark-0.0.1-SNAPSHOT.jar\n</code></pre>\n\n<p>but after running this i am getting error:</p>\n\n<pre><code>17/05/02 11:56:57 INFO ShutdownHookManager: Deleting directory C:\\Users\\arpitbh\\AppData\\Local\\Temp\\spark-03f14dbe-1802-40ca-906c-af8de0f462f9\n17/05/02 11:56:57 ERROR ShutdownHookManager: Exception while deleting Spark temp dir: C:\\Users\\arpitbh\\AppData\\Local\\Temp\\spark-03f14dbe-1802-40ca-906c-af8de0f462f9\njava.io.IOException: Failed to delete: C:\\Users\\arpitbh\\AppData\\Local\\Temp\\spark-03f14dbe-1802-40ca-906c-af8de0f462f9\n        at org.apache.spark.util.Utils$.deleteRecursively(Utils.scala:1010)\n        at org.apache.spark.util.ShutdownHookManager$$anonfun$1$$anonfun$apply$mcV$sp$3.apply(ShutdownHookManager.scala:65)\n        at org.apache.spark.util.ShutdownHookManager$$anonfun$1$$anonfun$apply$mcV$sp$3.apply(ShutdownHookManager.scala:62)\n        at scala.collection.IndexedSeqOptimized$class.foreach(IndexedSeqOptimized.scala:33)\n        at scala.collection.mutable.ArrayOps$ofRef.foreach(ArrayOps.scala:186)\n        at org.apache.spark.util.ShutdownHookManager$$anonfun$1.apply$mcV$sp(ShutdownHookManager.scala:62)\n        at org.apache.spark.util.SparkShutdownHook.run(ShutdownHookManager.scala:216)\n        at org.apache.spark.util.SparkShutdownHookManager$$anonfun$runAll$1$$anonfun$apply$mcV$sp$1.apply$mcV$sp(ShutdownHookManager.scala:188)\n        at org.apache.spark.util.SparkShutdownHookManager$$anonfun$runAll$1$$anonfun$apply$mcV$sp$1.apply(ShutdownHookManager.scala:188)\n        at org.apache.spark.util.SparkShutdownHookManager$$anonfun$runAll$1$$anonfun$apply$mcV$sp$1.apply(ShutdownHookManager.scala:188)\n        at org.apache.spark.util.Utils$.logUncaughtExceptions(Utils.scala:1951)\n        at org.apache.spark.util.SparkShutdownHookManager$$anonfun$runAll$1.apply$mcV$sp(ShutdownHookManager.scala:188)\n        at org.apache.spark.util.SparkShutdownHookManager$$anonfun$runAll$1.apply(ShutdownHookManager.scala:188)\n        at org.apache.spark.util.SparkShutdownHookManager$$anonfun$runAll$1.apply(ShutdownHookManager.scala:188)\n        at scala.util.Try$.apply(Try.scala:192)\n        at org.apache.spark.util.SparkShutdownHookManager.runAll(ShutdownHookManager.scala:188)\n        at org.apache.spark.util.SparkShutdownHookManager$$anon$2.run(ShutdownHookManager.scala:178)\n        at org.apache.hadoop.util.ShutdownHookManager$1.run(ShutdownHookManager.java:54)\n</code></pre>\n\n<p>I have also checked JIRA of apache spark, This defect has been marked solved but no solution is mentioned. Please help.</p>\n\n<pre><code>package abc;\n\nimport org.apache.spark.SparkConf;\nimport org.apache.spark.api.java.JavaRDD;\nimport org.apache.spark.api.java.JavaSparkContext;\n\n\npublic class Main {\n\n    /**\n     * @param args\n     */\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n\n        SparkConf conf =new SparkConf().setAppName(\"Line_Count\").setMaster(\"local[2]\");\n        JavaSparkContext ctx= new JavaSparkContext(conf);\n\n        JavaRDD&lt;String&gt; textLoadRDD = ctx.textFile(\"C:/spark/README.md\");\n        System.out.println(textLoadRDD.count());\n        System.getProperty(\"java.io.tmpdir\");\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-webflux"],"comments":[{"owner":{"account_id":9141547,"reputation":573,"user_id":6799230,"display_name":"Pierre Janineh"},"score":0,"creation_date":1701094536,"post_id":77554769,"comment_id":136728760,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking. &quot;Code is not getting called&quot; is too broad. be specific, please.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking. &quot;Code is not getting called&quot; is too broad. be specific, please."}],"owner":{"account_id":30001065,"reputation":1,"user_id":22991046,"display_name":"Gaurav Sharma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701064628,"creation_date":1701064628,"question_id":77554769,"body_markdown":"I am having following code, which is not being called, I tried it debugging it, but the code is not getting called in any way.\r\n\r\n    private Mono&lt;ServerResponse&gt; validateRequestData(ServerRequest serverRequest)\r\n    {\r\n     return serverRequest.bodyToMono(this.validationClass)\r\n      .flatMap(body -&gt; {\r\n       Errors errors = new BeanPropertyBindingResult(body,this.validationClass.getName());\r\n       this.validator.validate(body, errors);\r\n       if (!errors.getAllErrors().isEmpty()) {\r\n       return onValidationErrors(errors, body, serverRequest);\r\n    }\r\n      return Mono.empty();\r\n     });\r\n   }\r\n\r\n\r\n\r\nAnything I am missing in this? \r\n\r\nPlease guide,\r\nRegards,\r\nGaurav\r\n\r\nI tried debugging it, this code is actually meant for validating the Server Request from the POST call from postman.","title":"webflux bodyToMono code block not getting called","body":"<p>I am having following code, which is not being called, I tried it debugging it, but the code is not getting called in any way.</p>\n<pre><code>private Mono&lt;ServerResponse&gt; validateRequestData(ServerRequest serverRequest)\n{\n return serverRequest.bodyToMono(this.validationClass)\n  .flatMap(body -&gt; {\n   Errors errors = new BeanPropertyBindingResult(body,this.validationClass.getName());\n   this.validator.validate(body, errors);\n   if (!errors.getAllErrors().isEmpty()) {\n   return onValidationErrors(errors, body, serverRequest);\n}\n  return Mono.empty();\n });\n</code></pre>\n<p>}</p>\n<p>Anything I am missing in this?</p>\n<p>Please guide,\nRegards,\nGaurav</p>\n<p>I tried debugging it, this code is actually meant for validating the Server Request from the POST call from postman.</p>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":19696870,"reputation":1,"user_id":14420602,"display_name":"Somanath Goudar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701063132,"creation_date":1701063132,"answer_id":77554697,"question_id":76658826,"body_markdown":"I was facing the same issue.\r\n\r\n**I fixed this by doing the following**\r\n\r\n 1. Reduced my java SDK version to 1.8 (File -&gt; Project Structure)\r\n 2. Edited source, target properties to 1.8","title":"BeanDefinitionStoreException: Failed to read candidate component class : Unsupported class file major version 64","body":"<p>I was facing the same issue.</p>\n<p><strong>I fixed this by doing the following</strong></p>\n<ol>\n<li>Reduced my java SDK version to 1.8 (File -&gt; Project Structure)</li>\n<li>Edited source, target properties to 1.8</li>\n</ol>\n"}],"owner":{"account_id":25455169,"reputation":173,"user_id":19255938,"display_name":"Shashank Deepak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1701063132,"creation_date":1689051579,"question_id":76658826,"body_markdown":"When I was creating a component and scanning it in XML, the following error was thrown\r\n```\r\nBeanDefinitionStoreException: Failed to read candidate component class : nested exception is java.lang.IllegalArgumentException: Unsupported class file major version 64\r\n```\r\nI am currently using Java 20 with the spring-context version of 5.3.14 and IntelliJ IDE. The error keeps happening even if I upgrade or downgrade the spring-context version.\r\n\r\nEverything is properly working when I am defining a bean and its property in XML, the error occurs when using the @Component.\r\n\r\nThis is the class where I am creating the component.\r\n\r\n```\r\npackage com.javaLearn;\r\n\r\nimport org.springframework.stereotype.Component;\r\n\r\n@Component\r\npublic class Doctor  implements Staff{\r\n    public void assist() {\r\n        System.out.println(&quot;Doctor is assisting&quot;);\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nThis is my XML file.\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;beans xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n       xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n       xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\r\n    http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd&quot;&gt;\r\n\r\n    &lt;!--    Search for all the components in this package   --&gt;\r\n    &lt;context:component-scan base-package=&quot;com.javaLearn&quot;&gt; &lt;/context:component-scan&gt;\r\n&lt;/beans&gt;\r\n```\r\n\r\nThe entire error description\r\n```\r\nException in thread &quot;main&quot; org.springframework.beans.factory.BeanDefinitionStoreException: Failed to read candidate component class: file [E:\\JavaLearn\\SpringFrameworkDemo\\target\\classes\\com\\javaLearn\\Doctor.class]; nested exception is org.springframework.core.NestedIOException: ASM ClassReader failed to parse class file - probably due to a new Java class file version that isn&#39;t supported yet: file [E:\\JavaLearn\\SpringFrameworkDemo\\target\\classes\\com\\javaLearn\\Doctor.class]; nested exception is java.lang.IllegalArgumentException: Unsupported class file major version 64\r\n\tat org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.scanCandidateComponents(ClassPathScanningCandidateComponentProvider.java:454)\r\n\tat org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.findCandidateComponents(ClassPathScanningCandidateComponentProvider.java:316)\r\n\tat org.springframework.context.annotation.ClassPathBeanDefinitionScanner.doScan(ClassPathBeanDefinitionScanner.java:276)\r\n\tat org.springframework.context.annotation.ComponentScanBeanDefinitionParser.parse(ComponentScanBeanDefinitionParser.java:90)\r\n\tat org.springframework.beans.factory.xml.NamespaceHandlerSupport.parse(NamespaceHandlerSupport.java:74)\r\n\tat org.springframework.beans.factory.xml.BeanDefinitionParserDelegate.parseCustomElement(BeanDefinitionParserDelegate.java:1391)\r\n\tat org.springframework.beans.factory.xml.BeanDefinitionParserDelegate.parseCustomElement(BeanDefinitionParserDelegate.java:1371)\r\n\tat org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.parseBeanDefinitions(DefaultBeanDefinitionDocumentReader.java:179)\r\n\tat org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.doRegisterBeanDefinitions(DefaultBeanDefinitionDocumentReader.java:149)\r\n\tat org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.registerBeanDefinitions(DefaultBeanDefinitionDocumentReader.java:96)\r\n\tat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.registerBeanDefinitions(XmlBeanDefinitionReader.java:514)\r\n\tat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.doLoadBeanDefinitions(XmlBeanDefinitionReader.java:394)\r\n\tat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:337)\r\n\tat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:305)\r\n\tat org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:188)\r\n\tat org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:224)\r\n\tat org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:195)\r\n\tat org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:257)\r\n\tat org.springframework.context.support.AbstractXmlApplicationContext.loadBeanDefinitions(AbstractXmlApplicationContext.java:128)\r\n\tat org.springframework.context.support.AbstractXmlApplicationContext.loadBeanDefinitions(AbstractXmlApplicationContext.java:94)\r\n\tat org.springframework.context.support.AbstractRefreshableApplicationContext.refreshBeanFactory(AbstractRefreshableApplicationContext.java:133)\r\n\tat org.springframework.context.support.AbstractApplicationContext.obtainFreshBeanFactory(AbstractApplicationContext.java:637)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:522)\r\n\tat org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:144)\r\n\tat org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:85)\r\n\tat com.javaLearn.Main.main(Main.java:15)\r\nCaused by: org.springframework.core.NestedIOException: ASM ClassReader failed to parse class file - probably due to a new Java class file version that isn&#39;t supported yet: file [E:\\JavaLearn\\SpringFrameworkDemo\\target\\classes\\com\\javaLearn\\Doctor.class]; nested exception is java.lang.IllegalArgumentException: Unsupported class file major version 64\r\n\tat org.springframework.core.type.classreading.SimpleMetadataReader.getClassReader(SimpleMetadataReader.java:61)\r\n\tat org.springframework.core.type.classreading.SimpleMetadataReader.&lt;init&gt;(SimpleMetadataReader.java:50)\r\n\tat org.springframework.core.type.classreading.SimpleMetadataReaderFactory.getMetadataReader(SimpleMetadataReaderFactory.java:103)\r\n\tat org.springframework.core.type.classreading.CachingMetadataReaderFactory.getMetadataReader(CachingMetadataReaderFactory.java:123)\r\n\tat org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.scanCandidateComponents(ClassPathScanningCandidateComponentProvider.java:430)\r\n\t... 25 more\r\nCaused by: java.lang.IllegalArgumentException: Unsupported class file major version 64\r\n\tat org.springframework.asm.ClassReader.&lt;init&gt;(ClassReader.java:195)\r\n\tat org.springframework.asm.ClassReader.&lt;init&gt;(ClassReader.java:176)\r\n\tat org.springframework.asm.ClassReader.&lt;init&gt;(ClassReader.java:162)\r\n\tat org.springframework.asm.ClassReader.&lt;init&gt;(ClassReader.java:283)\r\n\tat org.springframework.core.type.classreading.SimpleMetadataReader.getClassReader(SimpleMetadataReader.java:58)\r\n\t... 29 more\r\n```\r\n\r\n","title":"BeanDefinitionStoreException: Failed to read candidate component class : Unsupported class file major version 64","body":"<p>When I was creating a component and scanning it in XML, the following error was thrown</p>\n<pre><code>BeanDefinitionStoreException: Failed to read candidate component class : nested exception is java.lang.IllegalArgumentException: Unsupported class file major version 64\n</code></pre>\n<p>I am currently using Java 20 with the spring-context version of 5.3.14 and IntelliJ IDE. The error keeps happening even if I upgrade or downgrade the spring-context version.</p>\n<p>Everything is properly working when I am defining a bean and its property in XML, the error occurs when using the @Component.</p>\n<p>This is the class where I am creating the component.</p>\n<pre><code>package com.javaLearn;\n\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class Doctor  implements Staff{\n    public void assist() {\n        System.out.println(&quot;Doctor is assisting&quot;);\n    }\n\n}\n\n</code></pre>\n<p>This is my XML file.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n       xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\n       xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\n    http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd&quot;&gt;\n\n    &lt;!--    Search for all the components in this package   --&gt;\n    &lt;context:component-scan base-package=&quot;com.javaLearn&quot;&gt; &lt;/context:component-scan&gt;\n&lt;/beans&gt;\n</code></pre>\n<p>The entire error description</p>\n<pre><code>Exception in thread &quot;main&quot; org.springframework.beans.factory.BeanDefinitionStoreException: Failed to read candidate component class: file [E:\\JavaLearn\\SpringFrameworkDemo\\target\\classes\\com\\javaLearn\\Doctor.class]; nested exception is org.springframework.core.NestedIOException: ASM ClassReader failed to parse class file - probably due to a new Java class file version that isn't supported yet: file [E:\\JavaLearn\\SpringFrameworkDemo\\target\\classes\\com\\javaLearn\\Doctor.class]; nested exception is java.lang.IllegalArgumentException: Unsupported class file major version 64\n    at org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.scanCandidateComponents(ClassPathScanningCandidateComponentProvider.java:454)\n    at org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.findCandidateComponents(ClassPathScanningCandidateComponentProvider.java:316)\n    at org.springframework.context.annotation.ClassPathBeanDefinitionScanner.doScan(ClassPathBeanDefinitionScanner.java:276)\n    at org.springframework.context.annotation.ComponentScanBeanDefinitionParser.parse(ComponentScanBeanDefinitionParser.java:90)\n    at org.springframework.beans.factory.xml.NamespaceHandlerSupport.parse(NamespaceHandlerSupport.java:74)\n    at org.springframework.beans.factory.xml.BeanDefinitionParserDelegate.parseCustomElement(BeanDefinitionParserDelegate.java:1391)\n    at org.springframework.beans.factory.xml.BeanDefinitionParserDelegate.parseCustomElement(BeanDefinitionParserDelegate.java:1371)\n    at org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.parseBeanDefinitions(DefaultBeanDefinitionDocumentReader.java:179)\n    at org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.doRegisterBeanDefinitions(DefaultBeanDefinitionDocumentReader.java:149)\n    at org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.registerBeanDefinitions(DefaultBeanDefinitionDocumentReader.java:96)\n    at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.registerBeanDefinitions(XmlBeanDefinitionReader.java:514)\n    at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.doLoadBeanDefinitions(XmlBeanDefinitionReader.java:394)\n    at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:337)\n    at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:305)\n    at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:188)\n    at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:224)\n    at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:195)\n    at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:257)\n    at org.springframework.context.support.AbstractXmlApplicationContext.loadBeanDefinitions(AbstractXmlApplicationContext.java:128)\n    at org.springframework.context.support.AbstractXmlApplicationContext.loadBeanDefinitions(AbstractXmlApplicationContext.java:94)\n    at org.springframework.context.support.AbstractRefreshableApplicationContext.refreshBeanFactory(AbstractRefreshableApplicationContext.java:133)\n    at org.springframework.context.support.AbstractApplicationContext.obtainFreshBeanFactory(AbstractApplicationContext.java:637)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:522)\n    at org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:144)\n    at org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:85)\n    at com.javaLearn.Main.main(Main.java:15)\nCaused by: org.springframework.core.NestedIOException: ASM ClassReader failed to parse class file - probably due to a new Java class file version that isn't supported yet: file [E:\\JavaLearn\\SpringFrameworkDemo\\target\\classes\\com\\javaLearn\\Doctor.class]; nested exception is java.lang.IllegalArgumentException: Unsupported class file major version 64\n    at org.springframework.core.type.classreading.SimpleMetadataReader.getClassReader(SimpleMetadataReader.java:61)\n    at org.springframework.core.type.classreading.SimpleMetadataReader.&lt;init&gt;(SimpleMetadataReader.java:50)\n    at org.springframework.core.type.classreading.SimpleMetadataReaderFactory.getMetadataReader(SimpleMetadataReaderFactory.java:103)\n    at org.springframework.core.type.classreading.CachingMetadataReaderFactory.getMetadataReader(CachingMetadataReaderFactory.java:123)\n    at org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.scanCandidateComponents(ClassPathScanningCandidateComponentProvider.java:430)\n    ... 25 more\nCaused by: java.lang.IllegalArgumentException: Unsupported class file major version 64\n    at org.springframework.asm.ClassReader.&lt;init&gt;(ClassReader.java:195)\n    at org.springframework.asm.ClassReader.&lt;init&gt;(ClassReader.java:176)\n    at org.springframework.asm.ClassReader.&lt;init&gt;(ClassReader.java:162)\n    at org.springframework.asm.ClassReader.&lt;init&gt;(ClassReader.java:283)\n    at org.springframework.core.type.classreading.SimpleMetadataReader.getClassReader(SimpleMetadataReader.java:58)\n    ... 29 more\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-test"],"answers":[{"tags":[],"owner":{"account_id":2983071,"reputation":5017,"user_id":2532621,"display_name":"ash"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701062610,"creation_date":1701062610,"answer_id":77554667,"question_id":77554605,"body_markdown":"If those factories are a compile-time dependency for `A` then it won&#39;t be possible to exclude them only at test time for `B`.  However, if they are not needed at compile time, but only at runtime, then you may be able to use the `runtime` scope for those dependencies to solve the problem.\r\n\r\nWith that said, I personally avoid this type of grey-box testing.  Here&#39;s a link to a blog that may help: https://github.com/savoirtech/black-box-system-test.\r\n","title":"Exclude spring.factories dependencies for Spring Boot test","body":"<p>If those factories are a compile-time dependency for <code>A</code> then it won't be possible to exclude them only at test time for <code>B</code>.  However, if they are not needed at compile time, but only at runtime, then you may be able to use the <code>runtime</code> scope for those dependencies to solve the problem.</p>\n<p>With that said, I personally avoid this type of grey-box testing.  Here's a link to a blog that may help: <a href=\"https://github.com/savoirtech/black-box-system-test\" rel=\"nofollow noreferrer\">https://github.com/savoirtech/black-box-system-test</a>.</p>\n"}],"owner":{"account_id":24235896,"reputation":9,"user_id":18189028,"display_name":"Sakshi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1701062610,"creation_date":1701061342,"question_id":77554605,"body_markdown":"There is one parent project A and the project which is using A&#39;s dependencies let&#39;s called it as B.\r\nEverything is working fine except testcases. I am using SpringBootTest which is fetching all the dependencies from spring.factories of project A. I want to disable these dependencies for project B for testcases but need it to run project B.\r\nThe spring.factories file present in META-INF of project A contains - \r\n\r\n    1. org.springframework.cloud.bootstrap.BootstrapConfiguration\r\n    2. org.springframework.boot.autoconfigure.EnableAutoConfiguration\r\n    3. org.springframework.boot.env.EnvironmentPostProcessor.\r\n\r\nEach with packages of project A.\r\n\r\n\r\nI tried using Import annotation and passed my own configuration. ConponentScan annotation with project B base package. But nothing really helped. ","title":"Exclude spring.factories dependencies for Spring Boot test","body":"<p>There is one parent project A and the project which is using A's dependencies let's called it as B.\nEverything is working fine except testcases. I am using SpringBootTest which is fetching all the dependencies from spring.factories of project A. I want to disable these dependencies for project B for testcases but need it to run project B.\nThe spring.factories file present in META-INF of project A contains -</p>\n<pre><code>1. org.springframework.cloud.bootstrap.BootstrapConfiguration\n2. org.springframework.boot.autoconfigure.EnableAutoConfiguration\n3. org.springframework.boot.env.EnvironmentPostProcessor.\n</code></pre>\n<p>Each with packages of project A.</p>\n<p>I tried using Import annotation and passed my own configuration. ConponentScan annotation with project B base package. But nothing really helped.</p>\n"},{"tags":["java","spring-boot","gradle","lombok","querydsl"],"owner":{"account_id":26249263,"reputation":21,"user_id":20039263,"display_name":"Vandit Shah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701061728,"creation_date":1701061728,"question_id":77554623,"body_markdown":"This question has been shown up on stackoverflow for multiple times, but it doesn&#39;t solve my issue, I am using Java 17 with queryDSL 5.0 and Spring boot 3.2.0 with lombok 1.18.30 and gradle 7.4.1 distribution.\r\n\r\nThe annotation processing is such that it generates the QClasses for the Java POJOs, but the gradle build causes the issue stating that\r\n`Attempt to recreate a file for type com.example.project.domain.QXXXXX`\r\n\r\nThe entire stack trace via build --debug appears to be a such \r\n\r\n```\r\nException is:\r\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:compileJava&#39;.\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:147)\r\n\tat org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:282)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:145)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:133)\r\n\tat org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:77)\r\n\tat org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\r\n\tat org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\r\n\tat org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\r\n\tat org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\r\n\tat org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\r\n\tat org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:74)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:333)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:320)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:313)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:299)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.lambda$run$0(DefaultPlanExecutor.java:143)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:227)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:218)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:140)\r\n\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\nCaused by: org.gradle.api.internal.tasks.compile.CompilationFailedException: Compilation failed; see the compiler error output for details.\r\n\tat org.gradle.api.internal.tasks.compile.JdkJavaCompiler.execute(JdkJavaCompiler.java:56)\r\n\tat org.gradle.api.internal.tasks.compile.JdkJavaCompiler.execute(JdkJavaCompiler.java:39)\r\n\tat org.gradle.api.internal.tasks.compile.NormalizingJavaCompiler.delegateAndHandleErrors(NormalizingJavaCompiler.java:97)\r\n\tat org.gradle.api.internal.tasks.compile.NormalizingJavaCompiler.execute(NormalizingJavaCompiler.java:51)\r\n\tat org.gradle.api.internal.tasks.compile.NormalizingJavaCompiler.execute(NormalizingJavaCompiler.java:37)\r\n\tat org.gradle.api.internal.tasks.compile.AnnotationProcessorDiscoveringCompiler.execute(AnnotationProcessorDiscoveringCompiler.java:51)\r\n\tat org.gradle.api.internal.tasks.compile.AnnotationProcessorDiscoveringCompiler.execute(AnnotationProcessorDiscoveringCompiler.java:37)\r\n\tat org.gradle.api.internal.tasks.compile.ModuleApplicationNameWritingCompiler.execute(ModuleApplicationNameWritingCompiler.java:46)\r\n\tat org.gradle.api.internal.tasks.compile.ModuleApplicationNameWritingCompiler.execute(ModuleApplicationNameWritingCompiler.java:36)\r\n\tat org.gradle.jvm.toolchain.internal.DefaultToolchainJavaCompiler.execute(DefaultToolchainJavaCompiler.java:57)\r\n\tat org.gradle.api.tasks.compile.JavaCompile.lambda$createToolchainCompiler$1(JavaCompile.java:232)\r\n\tat org.gradle.api.internal.tasks.compile.CleaningJavaCompiler.execute(CleaningJavaCompiler.java:53)\r\n\tat org.gradle.api.internal.tasks.compile.incremental.IncrementalCompilerFactory.lambda$createRebuildAllCompiler$0(IncrementalCompilerFactory.java:52)\r\n\tat org.gradle.api.internal.tasks.compile.incremental.SelectiveCompiler.execute(SelectiveCompiler.java:67)\r\n\tat org.gradle.api.internal.tasks.compile.incremental.SelectiveCompiler.execute(SelectiveCompiler.java:41)\r\n\tat org.gradle.api.internal.tasks.compile.incremental.IncrementalResultStoringCompiler.execute(IncrementalResultStoringCompiler.java:66)\r\n\tat org.gradle.api.internal.tasks.compile.incremental.IncrementalResultStoringCompiler.execute(IncrementalResultStoringCompiler.java:52)\r\n\tat org.gradle.api.internal.tasks.compile.CompileJavaBuildOperationReportingCompiler$2.call(CompileJavaBuildOperationReportingCompiler.java:59)\r\n\tat org.gradle.api.internal.tasks.compile.CompileJavaBuildOperationReportingCompiler$2.call(CompileJavaBuildOperationReportingCompiler.java:51)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n\tat org.gradle.api.internal.tasks.compile.CompileJavaBuildOperationReportingCompiler.execute(CompileJavaBuildOperationReportingCompiler.java:51)\r\n\tat org.gradle.api.tasks.compile.JavaCompile.performCompilation(JavaCompile.java:279)\r\n\tat org.gradle.api.tasks.compile.JavaCompile.performIncrementalCompilation(JavaCompile.java:165)\r\n\tat org.gradle.api.tasks.compile.JavaCompile.compile(JavaCompile.java:146)\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor499.invoke(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:104)\r\n\tat org.gradle.api.internal.project.taskfactory.IncrementalInputsTaskAction.doExecute(IncrementalInputsTaskAction.java:32)\r\n\tat org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:51)\r\n\tat org.gradle.api.internal.project.taskfactory.AbstractIncrementalTaskAction.execute(AbstractIncrementalTaskAction.java:25)\r\n\tat org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:29)\r\n\tat org.gradle.api.internal.tasks.execution.TaskExecution$3.run(TaskExecution.java:242)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\r\n\tat org.gradle.api.internal.tasks.execution.TaskExecution.executeAction(TaskExecution.java:227)\r\n\tat org.gradle.api.internal.tasks.execution.TaskExecution.executeActions(TaskExecution.java:210)\r\n\tat org.gradle.api.internal.tasks.execution.TaskExecution.executeWithPreviousOutputFiles(TaskExecution.java:193)\r\n\tat org.gradle.api.internal.tasks.execution.TaskExecution.execute(TaskExecution.java:171)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep.executeInternal(ExecuteStep.java:89)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep.access$000(ExecuteStep.java:40)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:53)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:50)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:50)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:40)\r\n\tat org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:68)\r\n\tat org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:38)\r\n\tat org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:48)\r\n\tat org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:36)\r\n\tat org.gradle.internal.execution.steps.CancelExecutionStep.execute(CancelExecutionStep.java:41)\r\n\tat org.gradle.internal.execution.steps.TimeoutStep.executeWithoutTimeout(TimeoutStep.java:74)\r\n\tat org.gradle.internal.execution.steps.TimeoutStep.execute(TimeoutStep.java:55)\r\n\tat org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:51)\r\n\tat org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:29)\r\n\tat org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:61)\r\n\tat org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:42)\r\n\tat org.gradle.internal.execution.steps.BroadcastChangingOutputsStep.execute(BroadcastChangingOutputsStep.java:60)\r\n\tat org.gradle.internal.execution.steps.BroadcastChangingOutputsStep.execute(BroadcastChangingOutputsStep.java:27)\r\n\tat org.gradle.internal.execution.steps.BuildCacheStep.executeWithoutCache(BuildCacheStep.java:180)\r\n\tat org.gradle.internal.execution.steps.BuildCacheStep.lambda$execute$1(BuildCacheStep.java:75)\r\n\tat org.gradle.internal.Either$Right.fold(Either.java:175)\r\n\tat org.gradle.internal.execution.caching.CachingState.fold(CachingState.java:59)\r\n\tat org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:73)\r\n\tat org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:48)\r\n\tat org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:36)\r\n\tat org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:25)\r\n\tat org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:36)\r\n\tat org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:22)\r\n\tat org.gradle.internal.execution.steps.SkipUpToDateStep.executeBecause(SkipUpToDateStep.java:110)\r\n\tat org.gradle.internal.execution.steps.SkipUpToDateStep.lambda$execute$2(SkipUpToDateStep.java:56)\r\n\tat org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:56)\r\n\tat org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:38)\r\n\tat org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:73)\r\n\tat org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:44)\r\n\tat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:37)\r\n\tat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:27)\r\n\tat org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:89)\r\n\tat org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:50)\r\n\tat org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:114)\r\n\tat org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:57)\r\n\tat org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:76)\r\n\tat org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:50)\r\n\tat org.gradle.internal.execution.steps.SkipEmptyWorkStep.executeWithNoEmptySources(SkipEmptyWorkStep.java:249)\r\n\tat org.gradle.internal.execution.steps.SkipEmptyWorkStep.executeWithNoEmptySources(SkipEmptyWorkStep.java:204)\r\n\tat org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:83)\r\n\tat org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:54)\r\n\tat org.gradle.internal.execution.steps.RemoveUntrackedExecutionStateStep.execute(RemoveUntrackedExecutionStateStep.java:32)\r\n\tat org.gradle.internal.execution.steps.RemoveUntrackedExecutionStateStep.execute(RemoveUntrackedExecutionStateStep.java:21)\r\n\tat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsStartedStep.execute(MarkSnapshottingInputsStartedStep.java:38)\r\n\tat org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:43)\r\n\tat org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:31)\r\n\tat org.gradle.internal.execution.steps.AssignWorkspaceStep.lambda$execute$0(AssignWorkspaceStep.java:40)\r\n\tat org.gradle.api.internal.tasks.execution.TaskExecution$4.withWorkspace(TaskExecution.java:287)\r\n\tat org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:40)\r\n\tat org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:30)\r\n\tat org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:37)\r\n\tat org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:27)\r\n\tat org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:44)\r\n\tat org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:33)\r\n\tat org.gradle.internal.execution.impl.DefaultExecutionEngine$1.execute(DefaultExecutionEngine.java:76)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:144)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:133)\r\n\tat org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:77)\r\n\tat org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\r\n\tat org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\r\n\tat org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\r\n\tat org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\r\n\tat org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\r\n\tat org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:74)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:333)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:320)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:313)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:299)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.lambda$run$0(DefaultPlanExecutor.java:143)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:227)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:218)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:140)\r\n\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n```\r\n\r\n\r\nI understand the due files are getting created multiple times, but I am not sure which task is causes the duplicate creation of the same QClasses.\r\n\r\n\r\nHereby I am attaching the build.gradle for your reference\r\n\r\n```\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;org.springframework.boot&#39; version &#39;3.2.0&#39;\r\n    id &#39;io.spring.dependency-management&#39; version &#39;1.0.11.RELEASE&#39;\r\n    id &#39;com.ewerk.gradle.plugins.querydsl&#39; version &#39;1.0.10&#39;\r\n    id &quot;io.freefair.lombok&quot; version &quot;8.4&quot;\r\n}\r\n\r\ngroup = &#39;com.speed&#39;\r\nversion = &#39;0.0.1&#39;\r\nsourceCompatibility = &#39;17&#39;\r\n\r\n\r\nrepositories {\r\n    maven {\r\n        url &quot;https://plugins.gradle.org/m2/&quot;\r\n    }\r\n    mavenCentral()\r\n}\r\n\r\nconfigurations {\r\n    compileOnly {\r\n        extendsFrom annotationProcessor\r\n    }\r\n}\r\nconfigurations {\r\n    querydsl.extendsFrom implementation, compileClasspath\r\n}\r\n\r\ncompileQuerydsl {\r\n    options.annotationProcessorPath = configurations.querydsl\r\n}\r\n\r\nquerydsl {\r\n    library = &#39;com.querydsl:querydsl-apt:5.0.0&#39;\r\n    jpa = true\r\n}\r\n\r\nafterEvaluate {\r\n    project.tasks.compileQuerydsl.options.compilerArgs = [\r\n            &quot;-proc:only&quot;,\r\n            &quot;-processor&quot;, project.querydsl.processors() +\r\n                    &#39;,lombok.launch.AnnotationProcessorHider$AnnotationProcessor&#39;\r\n    ]\r\n}\r\n\r\ndependencies {\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-actuator&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    implementation &#39;org.hibernate:hibernate-core:6.2.13.Final&#39;\r\n    implementation &#39;com.mysql:mysql-connector-j:8.2.0&#39;\r\n    implementation &#39;org.json:json:20231013&#39;\r\n    implementation &#39;com.querydsl:querydsl-jpa:5.0.0:jakarta&#39;\r\n    annotationProcessor &#39;com.querydsl:querydsl-apt:5.0.0:jakarta&#39;\r\n    annotationProcessor &#39;jakarta.persistence:jakarta.persistence-api:3.1.0&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter&#39;\r\n    testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n}\r\n\r\njar {\r\n    enabled = false\r\n}\r\n\r\nsourceSets {\r\n    main {\r\n        java {\r\n            srcDirs = [&#39;src/main/java&#39;, &#39;src/querydsl/java&#39;]\r\n        }\r\n    }\r\n}\r\n\r\ntest {\r\n    useJUnitPlatform()\r\n}\r\n```\r\n","title":"QClasses not generated for Entities with Java 17","body":"<p>This question has been shown up on stackoverflow for multiple times, but it doesn't solve my issue, I am using Java 17 with queryDSL 5.0 and Spring boot 3.2.0 with lombok 1.18.30 and gradle 7.4.1 distribution.</p>\n<p>The annotation processing is such that it generates the QClasses for the Java POJOs, but the gradle build causes the issue stating that\n<code>Attempt to recreate a file for type com.example.project.domain.QXXXXX</code></p>\n<p>The entire stack trace via build --debug appears to be a such</p>\n<pre><code>Exception is:\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task ':compileJava'.\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:147)\n    at org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:282)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:145)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:133)\n    at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:77)\n    at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\n    at org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\n    at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\n    at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\n    at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\n    at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:74)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:333)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:320)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:313)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:299)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.lambda$run$0(DefaultPlanExecutor.java:143)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:227)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:218)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:140)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\nCaused by: org.gradle.api.internal.tasks.compile.CompilationFailedException: Compilation failed; see the compiler error output for details.\n    at org.gradle.api.internal.tasks.compile.JdkJavaCompiler.execute(JdkJavaCompiler.java:56)\n    at org.gradle.api.internal.tasks.compile.JdkJavaCompiler.execute(JdkJavaCompiler.java:39)\n    at org.gradle.api.internal.tasks.compile.NormalizingJavaCompiler.delegateAndHandleErrors(NormalizingJavaCompiler.java:97)\n    at org.gradle.api.internal.tasks.compile.NormalizingJavaCompiler.execute(NormalizingJavaCompiler.java:51)\n    at org.gradle.api.internal.tasks.compile.NormalizingJavaCompiler.execute(NormalizingJavaCompiler.java:37)\n    at org.gradle.api.internal.tasks.compile.AnnotationProcessorDiscoveringCompiler.execute(AnnotationProcessorDiscoveringCompiler.java:51)\n    at org.gradle.api.internal.tasks.compile.AnnotationProcessorDiscoveringCompiler.execute(AnnotationProcessorDiscoveringCompiler.java:37)\n    at org.gradle.api.internal.tasks.compile.ModuleApplicationNameWritingCompiler.execute(ModuleApplicationNameWritingCompiler.java:46)\n    at org.gradle.api.internal.tasks.compile.ModuleApplicationNameWritingCompiler.execute(ModuleApplicationNameWritingCompiler.java:36)\n    at org.gradle.jvm.toolchain.internal.DefaultToolchainJavaCompiler.execute(DefaultToolchainJavaCompiler.java:57)\n    at org.gradle.api.tasks.compile.JavaCompile.lambda$createToolchainCompiler$1(JavaCompile.java:232)\n    at org.gradle.api.internal.tasks.compile.CleaningJavaCompiler.execute(CleaningJavaCompiler.java:53)\n    at org.gradle.api.internal.tasks.compile.incremental.IncrementalCompilerFactory.lambda$createRebuildAllCompiler$0(IncrementalCompilerFactory.java:52)\n    at org.gradle.api.internal.tasks.compile.incremental.SelectiveCompiler.execute(SelectiveCompiler.java:67)\n    at org.gradle.api.internal.tasks.compile.incremental.SelectiveCompiler.execute(SelectiveCompiler.java:41)\n    at org.gradle.api.internal.tasks.compile.incremental.IncrementalResultStoringCompiler.execute(IncrementalResultStoringCompiler.java:66)\n    at org.gradle.api.internal.tasks.compile.incremental.IncrementalResultStoringCompiler.execute(IncrementalResultStoringCompiler.java:52)\n    at org.gradle.api.internal.tasks.compile.CompileJavaBuildOperationReportingCompiler$2.call(CompileJavaBuildOperationReportingCompiler.java:59)\n    at org.gradle.api.internal.tasks.compile.CompileJavaBuildOperationReportingCompiler$2.call(CompileJavaBuildOperationReportingCompiler.java:51)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\n    at org.gradle.api.internal.tasks.compile.CompileJavaBuildOperationReportingCompiler.execute(CompileJavaBuildOperationReportingCompiler.java:51)\n    at org.gradle.api.tasks.compile.JavaCompile.performCompilation(JavaCompile.java:279)\n    at org.gradle.api.tasks.compile.JavaCompile.performIncrementalCompilation(JavaCompile.java:165)\n    at org.gradle.api.tasks.compile.JavaCompile.compile(JavaCompile.java:146)\n    at jdk.internal.reflect.GeneratedMethodAccessor499.invoke(Unknown Source)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:104)\n    at org.gradle.api.internal.project.taskfactory.IncrementalInputsTaskAction.doExecute(IncrementalInputsTaskAction.java:32)\n    at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:51)\n    at org.gradle.api.internal.project.taskfactory.AbstractIncrementalTaskAction.execute(AbstractIncrementalTaskAction.java:25)\n    at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:29)\n    at org.gradle.api.internal.tasks.execution.TaskExecution$3.run(TaskExecution.java:242)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\n    at org.gradle.api.internal.tasks.execution.TaskExecution.executeAction(TaskExecution.java:227)\n    at org.gradle.api.internal.tasks.execution.TaskExecution.executeActions(TaskExecution.java:210)\n    at org.gradle.api.internal.tasks.execution.TaskExecution.executeWithPreviousOutputFiles(TaskExecution.java:193)\n    at org.gradle.api.internal.tasks.execution.TaskExecution.execute(TaskExecution.java:171)\n    at org.gradle.internal.execution.steps.ExecuteStep.executeInternal(ExecuteStep.java:89)\n    at org.gradle.internal.execution.steps.ExecuteStep.access$000(ExecuteStep.java:40)\n    at org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:53)\n    at org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:50)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\n    at org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:50)\n    at org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:40)\n    at org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:68)\n    at org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:38)\n    at org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:48)\n    at org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:36)\n    at org.gradle.internal.execution.steps.CancelExecutionStep.execute(CancelExecutionStep.java:41)\n    at org.gradle.internal.execution.steps.TimeoutStep.executeWithoutTimeout(TimeoutStep.java:74)\n    at org.gradle.internal.execution.steps.TimeoutStep.execute(TimeoutStep.java:55)\n    at org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:51)\n    at org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:29)\n    at org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:61)\n    at org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:42)\n    at org.gradle.internal.execution.steps.BroadcastChangingOutputsStep.execute(BroadcastChangingOutputsStep.java:60)\n    at org.gradle.internal.execution.steps.BroadcastChangingOutputsStep.execute(BroadcastChangingOutputsStep.java:27)\n    at org.gradle.internal.execution.steps.BuildCacheStep.executeWithoutCache(BuildCacheStep.java:180)\n    at org.gradle.internal.execution.steps.BuildCacheStep.lambda$execute$1(BuildCacheStep.java:75)\n    at org.gradle.internal.Either$Right.fold(Either.java:175)\n    at org.gradle.internal.execution.caching.CachingState.fold(CachingState.java:59)\n    at org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:73)\n    at org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:48)\n    at org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:36)\n    at org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:25)\n    at org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:36)\n    at org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:22)\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.executeBecause(SkipUpToDateStep.java:110)\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.lambda$execute$2(SkipUpToDateStep.java:56)\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:56)\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:38)\n    at org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:73)\n    at org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:44)\n    at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:37)\n    at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:27)\n    at org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:89)\n    at org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:50)\n    at org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:114)\n    at org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:57)\n    at org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:76)\n    at org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:50)\n    at org.gradle.internal.execution.steps.SkipEmptyWorkStep.executeWithNoEmptySources(SkipEmptyWorkStep.java:249)\n    at org.gradle.internal.execution.steps.SkipEmptyWorkStep.executeWithNoEmptySources(SkipEmptyWorkStep.java:204)\n    at org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:83)\n    at org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:54)\n    at org.gradle.internal.execution.steps.RemoveUntrackedExecutionStateStep.execute(RemoveUntrackedExecutionStateStep.java:32)\n    at org.gradle.internal.execution.steps.RemoveUntrackedExecutionStateStep.execute(RemoveUntrackedExecutionStateStep.java:21)\n    at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsStartedStep.execute(MarkSnapshottingInputsStartedStep.java:38)\n    at org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:43)\n    at org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:31)\n    at org.gradle.internal.execution.steps.AssignWorkspaceStep.lambda$execute$0(AssignWorkspaceStep.java:40)\n    at org.gradle.api.internal.tasks.execution.TaskExecution$4.withWorkspace(TaskExecution.java:287)\n    at org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:40)\n    at org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:30)\n    at org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:37)\n    at org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:27)\n    at org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:44)\n    at org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:33)\n    at org.gradle.internal.execution.impl.DefaultExecutionEngine$1.execute(DefaultExecutionEngine.java:76)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:144)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:133)\n    at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:77)\n    at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\n    at org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\n    at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\n    at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\n    at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\n    at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:74)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:333)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:320)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:313)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:299)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.lambda$run$0(DefaultPlanExecutor.java:143)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:227)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:218)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:140)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n</code></pre>\n<p>I understand the due files are getting created multiple times, but I am not sure which task is causes the duplicate creation of the same QClasses.</p>\n<p>Hereby I am attaching the build.gradle for your reference</p>\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '3.2.0'\n    id 'io.spring.dependency-management' version '1.0.11.RELEASE'\n    id 'com.ewerk.gradle.plugins.querydsl' version '1.0.10'\n    id &quot;io.freefair.lombok&quot; version &quot;8.4&quot;\n}\n\ngroup = 'com.speed'\nversion = '0.0.1'\nsourceCompatibility = '17'\n\n\nrepositories {\n    maven {\n        url &quot;https://plugins.gradle.org/m2/&quot;\n    }\n    mavenCentral()\n}\n\nconfigurations {\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n}\nconfigurations {\n    querydsl.extendsFrom implementation, compileClasspath\n}\n\ncompileQuerydsl {\n    options.annotationProcessorPath = configurations.querydsl\n}\n\nquerydsl {\n    library = 'com.querydsl:querydsl-apt:5.0.0'\n    jpa = true\n}\n\nafterEvaluate {\n    project.tasks.compileQuerydsl.options.compilerArgs = [\n            &quot;-proc:only&quot;,\n            &quot;-processor&quot;, project.querydsl.processors() +\n                    ',lombok.launch.AnnotationProcessorHider$AnnotationProcessor'\n    ]\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    implementation 'org.springframework.boot:spring-boot-starter-actuator'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.hibernate:hibernate-core:6.2.13.Final'\n    implementation 'com.mysql:mysql-connector-j:8.2.0'\n    implementation 'org.json:json:20231013'\n    implementation 'com.querydsl:querydsl-jpa:5.0.0:jakarta'\n    annotationProcessor 'com.querydsl:querydsl-apt:5.0.0:jakarta'\n    annotationProcessor 'jakarta.persistence:jakarta.persistence-api:3.1.0'\n    implementation 'org.springframework.boot:spring-boot-starter'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n}\n\njar {\n    enabled = false\n}\n\nsourceSets {\n    main {\n        java {\n            srcDirs = ['src/main/java', 'src/querydsl/java']\n        }\n    }\n}\n\ntest {\n    useJUnitPlatform()\n}\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate"],"comments":[{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1701079130,"post_id":77554568,"comment_id":136726083,"body_markdown":"Can you please reduce that to a [mcve]?","body":"Can you please reduce that to a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>?"}],"owner":{"account_id":2898866,"reputation":167,"user_id":2486070,"accept_rate":20,"display_name":"Arthur Saint-Genis"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701060395,"creation_date":1701060395,"question_id":77554568,"body_markdown":"My project is currently working properly in spring-boot version 3.0.6 with Hibernate 6.1.7.\r\n\r\nSince the release of spring-boot 3.1, which upgrade Hibernate to 6.2.2 (issue still present with spring-boot 3.2 and hibernate 6.3.1), the application is failing at start up because hibernate don&#39;t generate some COUNT request correctly from the JPQL.\r\n\r\nWe use postgresQL 15\r\n\r\nI get the following error :\r\n\r\n    org.hibernate.query.SyntaxException: At 1:28 and token &#39;as&#39;, no viable alternative at input &#39;SELECT count(DISTINCT f.id *as fooId, .....]\r\n\tat org.hibernate.query.hql.internal.StandardHqlTranslator$1.syntaxError(StandardHqlTranslator.java:108) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]\r\n\r\nThe COUNT query is not specified and is automatically generated by hibernate for the following method :\r\n\r\n    @Query(&quot;&quot;&quot;\r\n    SELECT DISTINCT\r\n        qr.id as fooId,\r\n        MAX(c.name) as fooGroupName,\r\n        MAX(d.lastUpdatedDate) as fooDate,\r\n        MAX(l.startDepartureDate) as fooSecondDate,\r\n        MAX(d.destination.code) as destination,\r\n        MAX(d.origin.code) as origin,\r\n        f.type as fooType,\r\n        f.status as fooStatus\r\n    FROM FooEntity f\r\n        JOIN f.fooUser u\r\n        JOIN f.fooDetails d\r\n        JOIN f.fooCategory c\r\n        JOIN d.fooLines l\r\n        JOIN f.userCompany uc\r\n    WHERE\r\n        d.status IN (:fooDetailStatuses)\r\n        AND f.status IN (:fooStatuses)\r\n        AND (:source = &#39;ALL&#39; OR f.source = :source)\r\n        AND (:fromDate IS NULL OR cast(l.fromDate as String) &gt;= :fromDate)\r\n        AND (:toDate IS NULL OR cast(l.toDate as String) &lt;= :toDate)\r\n        AND (:#{#origins.size} = 0 OR d.origin.code IN :origins)\r\n        AND (:#{#destinations.size} = 0 OR d.destination.code IN :destinations)\r\n        AND (:#{#brands.size} = 0 OR d.brands.code IN :brands)\r\n        AND c.level = 1\r\n        AND (:#{#categories.size} = 0 OR c.id IN :categories)\r\n    GROUP BY f.id, f.type, f.status\r\n    &quot;&quot;&quot;)\r\n        Page&lt;Map&lt;String, Object&gt;&gt; findPaginatedId(Pageable pageable, String source, \r\n                                              @Param(&quot;fooDetailStatuses&quot;) List&lt;FooDetailStatus&gt; fooDetailStatuses,\r\n                                              @Param(&quot;fooStatuses&quot;) List&lt;FooStatus&gt; fooStatuses,\r\n                                              String fromDate, String toDate, List&lt;String&gt; origins, List&lt;String&gt; destinations, List&lt;String&gt; brands, List&lt;Integer&gt; categories);\r\n\r\nI didn&#39;t find anything on the hibernate documentation that would indicate that my request is not valid.\r\n\r\n\r\n","title":"Spring-boot 3.1.0+ / Hibernate 6.2+ - Unable to generate the COUNT query from JPQL","body":"<p>My project is currently working properly in spring-boot version 3.0.6 with Hibernate 6.1.7.</p>\n<p>Since the release of spring-boot 3.1, which upgrade Hibernate to 6.2.2 (issue still present with spring-boot 3.2 and hibernate 6.3.1), the application is failing at start up because hibernate don't generate some COUNT request correctly from the JPQL.</p>\n<p>We use postgresQL 15</p>\n<p>I get the following error :</p>\n<pre><code>org.hibernate.query.SyntaxException: At 1:28 and token 'as', no viable alternative at input 'SELECT count(DISTINCT f.id *as fooId, .....]\nat org.hibernate.query.hql.internal.StandardHqlTranslator$1.syntaxError(StandardHqlTranslator.java:108) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]\n</code></pre>\n<p>The COUNT query is not specified and is automatically generated by hibernate for the following method :</p>\n<pre><code>@Query(&quot;&quot;&quot;\nSELECT DISTINCT\n    qr.id as fooId,\n    MAX(c.name) as fooGroupName,\n    MAX(d.lastUpdatedDate) as fooDate,\n    MAX(l.startDepartureDate) as fooSecondDate,\n    MAX(d.destination.code) as destination,\n    MAX(d.origin.code) as origin,\n    f.type as fooType,\n    f.status as fooStatus\nFROM FooEntity f\n    JOIN f.fooUser u\n    JOIN f.fooDetails d\n    JOIN f.fooCategory c\n    JOIN d.fooLines l\n    JOIN f.userCompany uc\nWHERE\n    d.status IN (:fooDetailStatuses)\n    AND f.status IN (:fooStatuses)\n    AND (:source = 'ALL' OR f.source = :source)\n    AND (:fromDate IS NULL OR cast(l.fromDate as String) &gt;= :fromDate)\n    AND (:toDate IS NULL OR cast(l.toDate as String) &lt;= :toDate)\n    AND (:#{#origins.size} = 0 OR d.origin.code IN :origins)\n    AND (:#{#destinations.size} = 0 OR d.destination.code IN :destinations)\n    AND (:#{#brands.size} = 0 OR d.brands.code IN :brands)\n    AND c.level = 1\n    AND (:#{#categories.size} = 0 OR c.id IN :categories)\nGROUP BY f.id, f.type, f.status\n&quot;&quot;&quot;)\n    Page&lt;Map&lt;String, Object&gt;&gt; findPaginatedId(Pageable pageable, String source, \n                                          @Param(&quot;fooDetailStatuses&quot;) List&lt;FooDetailStatus&gt; fooDetailStatuses,\n                                          @Param(&quot;fooStatuses&quot;) List&lt;FooStatus&gt; fooStatuses,\n                                          String fromDate, String toDate, List&lt;String&gt; origins, List&lt;String&gt; destinations, List&lt;String&gt; brands, List&lt;Integer&gt; categories);\n</code></pre>\n<p>I didn't find anything on the hibernate documentation that would indicate that my request is not valid.</p>\n"},{"tags":["javascript","java","ajax","spring-boot"],"comments":[{"owner":{"account_id":8180710,"reputation":578,"user_id":6158032,"display_name":"Joel Garcia Nu&#241;o"},"score":0,"creation_date":1701063731,"post_id":77554426,"comment_id":136723989,"body_markdown":"Did you try to return instance new ResponseEntity&lt;&gt;(&quot;Custom message&quot;, HttpStatus.BAD_REQUEST) ? Modifying the header http status &gt; 400","body":"Did you try to return instance new ResponseEntity&lt;&gt;(&quot;Custom message&quot;, HttpStatus.BAD_REQUEST) ? Modifying the header http status &gt; 400"}],"owner":{"account_id":15726555,"reputation":527,"user_id":11348034,"display_name":"Meera"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1701057305,"creation_date":1701056766,"question_id":77554426,"body_markdown":"jsp \r\n```lang-html\r\n&lt;button\r\n  type=&quot;submit&quot;\r\n  id=&quot;btn_load&quot;\r\n  value=&quot;Search&quot;\r\n  class=&quot;btn btn-primary&quot;\r\n&gt;Generate I-618&lt;/button&gt;\r\n```\r\njs\r\n```lang-js\r\n$(&quot;#btn_load&quot;).click(function (e) {\r\n  event.preventDefault();\r\n  form = $(&quot;#bookList&quot;);\r\n  var post_url = form.attr(&quot;action&quot;);\r\n  let form_data = form.serialize();\r\n\r\n  $.ajax({\r\n    url: post_url,\r\n    type: &quot;POST&quot;,\r\n    data: form_data,\r\n    success: function (data, textStatus, jqX) {\r\n      // Create a Blob from the data\r\n      var blob = new Blob([data], { type: &quot;text/plain&quot; });\r\n\r\n      // Create a link element\r\n      var link = document.createElement(&quot;a&quot;);\r\n\r\n      // Set the download attribute and create a URL for the file\r\n      link.download = &quot;your_filename.txt&quot;;\r\n      link.href = window.URL.createObjectURL(blob);\r\n\r\n      // Append the link to the document\r\n      document.body.appendChild(link);\r\n\r\n      // Trigger a click on the link to initiate the download\r\n      link.click();\r\n\r\n      // Remove the link from the document\r\n      document.body.removeChild(link);\r\n      $(&quot;.alert.alert-danger&quot;).text(&quot;Alert:success&quot;);\r\n    },\r\n    error: function (XMLHttpRequest, textStatus, errorThrown) {\r\n      // Handle errors by Displaying a message to user????\r\n      $(&quot;.alert.alert-danger&quot;).text(&quot;Alert: Failure&quot;);\r\n    },\r\n  });\r\n});\r\n```\r\n\r\njava\r\n```lang-java\r\n@RequestMapping(value = &quot;/book.htm&quot;)\r\npublic ResponseEntity&lt;InputStreamResource&gt; bookselection(\r\n        @ModelAttribute(&quot;books&quot;) Books book, Model model,\r\n        HttpServletRequest request, BindingResult result) {\r\n    List&lt;InputStreamResource&gt; listStream = new ArrayList&lt;InputStreamResource&gt;();\r\n    String fileName = &quot;book.txt&quot;\r\n    if (CollectionUtils.isNotEmpty(bookList)) {\r\n        File file = File.createTempFile(fileName, &quot;.txt&quot;);\r\n        FileWriter interfaceFileWriter = new FileWriter(file);\r\n        BufferedWriter interfaceBufferedWriter = new BufferedWriter(interfaceFileWriter);\r\n        //write to file\r\n        for (Book list : bookList) {\r\n        interfaceBufferedWriter.write(list.getDelimitedRecord(delimiter, nullValue));\r\n        }\r\n        interfaceBufferedWriter.close();\r\n        HttpHeaders headers = new HttpHeaders();\r\n        headers.setCacheControl(&quot;must-revalidate, post-check=0, pre-check=0&quot;);\r\n        headers.setContentDispositionFormData(fileName + &quot;.txt&quot;, fileName + &quot;.txt&quot;);\r\n\r\n        InputStreamResource resource = new InputStreamResource(new FileInputStream(file));\r\n        if (file != null &amp;&amp; file.exists()) {\r\n            listStream.add(resource);\r\n            return ResponseEntity.ok().contentType(MediaType.TEXT_PLAIN).headers(headers).body(resource);\r\n        }\r\n    }\r\n    return null; //HOW TO RETURN ERROR STRING OR OBJECT??\r\n}\r\n```\r\nif there is an error in Java code while writing to file, I would like return error string. Since the method returns `ResponseEntity&lt;InputStreamResource&gt;`, how do I handle sending error message from java to ajax. \r\n\r\n- How to return error message/error object from java ??\r\n- How to read error Ajax &quot;error:&quot; that was returned by server??\r\n\r\n\r\n\r\n","title":"AJAX callback for file download including error handling","body":"<p>jsp</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;button\n  type=&quot;submit&quot;\n  id=&quot;btn_load&quot;\n  value=&quot;Search&quot;\n  class=&quot;btn btn-primary&quot;\n&gt;Generate I-618&lt;/button&gt;\n</code></pre>\n<p>js</p>\n<pre class=\"lang-js prettyprint-override\"><code>$(&quot;#btn_load&quot;).click(function (e) {\n  event.preventDefault();\n  form = $(&quot;#bookList&quot;);\n  var post_url = form.attr(&quot;action&quot;);\n  let form_data = form.serialize();\n\n  $.ajax({\n    url: post_url,\n    type: &quot;POST&quot;,\n    data: form_data,\n    success: function (data, textStatus, jqX) {\n      // Create a Blob from the data\n      var blob = new Blob([data], { type: &quot;text/plain&quot; });\n\n      // Create a link element\n      var link = document.createElement(&quot;a&quot;);\n\n      // Set the download attribute and create a URL for the file\n      link.download = &quot;your_filename.txt&quot;;\n      link.href = window.URL.createObjectURL(blob);\n\n      // Append the link to the document\n      document.body.appendChild(link);\n\n      // Trigger a click on the link to initiate the download\n      link.click();\n\n      // Remove the link from the document\n      document.body.removeChild(link);\n      $(&quot;.alert.alert-danger&quot;).text(&quot;Alert:success&quot;);\n    },\n    error: function (XMLHttpRequest, textStatus, errorThrown) {\n      // Handle errors by Displaying a message to user????\n      $(&quot;.alert.alert-danger&quot;).text(&quot;Alert: Failure&quot;);\n    },\n  });\n});\n</code></pre>\n<p>java</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RequestMapping(value = &quot;/book.htm&quot;)\npublic ResponseEntity&lt;InputStreamResource&gt; bookselection(\n        @ModelAttribute(&quot;books&quot;) Books book, Model model,\n        HttpServletRequest request, BindingResult result) {\n    List&lt;InputStreamResource&gt; listStream = new ArrayList&lt;InputStreamResource&gt;();\n    String fileName = &quot;book.txt&quot;\n    if (CollectionUtils.isNotEmpty(bookList)) {\n        File file = File.createTempFile(fileName, &quot;.txt&quot;);\n        FileWriter interfaceFileWriter = new FileWriter(file);\n        BufferedWriter interfaceBufferedWriter = new BufferedWriter(interfaceFileWriter);\n        //write to file\n        for (Book list : bookList) {\n        interfaceBufferedWriter.write(list.getDelimitedRecord(delimiter, nullValue));\n        }\n        interfaceBufferedWriter.close();\n        HttpHeaders headers = new HttpHeaders();\n        headers.setCacheControl(&quot;must-revalidate, post-check=0, pre-check=0&quot;);\n        headers.setContentDispositionFormData(fileName + &quot;.txt&quot;, fileName + &quot;.txt&quot;);\n\n        InputStreamResource resource = new InputStreamResource(new FileInputStream(file));\n        if (file != null &amp;&amp; file.exists()) {\n            listStream.add(resource);\n            return ResponseEntity.ok().contentType(MediaType.TEXT_PLAIN).headers(headers).body(resource);\n        }\n    }\n    return null; //HOW TO RETURN ERROR STRING OR OBJECT??\n}\n</code></pre>\n<p>if there is an error in Java code while writing to file, I would like return error string. Since the method returns <code>ResponseEntity&lt;InputStreamResource&gt;</code>, how do I handle sending error message from java to ajax.</p>\n<ul>\n<li>How to return error message/error object from java ??</li>\n<li>How to read error Ajax &quot;error:&quot; that was returned by server??</li>\n</ul>\n"},{"tags":["java","intellij-idea","compilation","bytecode"],"comments":[{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":1,"creation_date":1701046634,"post_id":77554025,"comment_id":136722868,"body_markdown":"From the [FernFlower](https://github.com/fesh0r/fernflower) GitHub: _&quot;Fernflower is the first actually working analytical decompiler for Java and probably for a high-level programming language in general. ***Naturally it is still under development, please send your bug reports and improvement suggestions to the issue tracker.***&quot;_","body":"From the <a href=\"https://github.com/fesh0r/fernflower\" rel=\"nofollow noreferrer\">FernFlower</a> GitHub: <i>&quot;Fernflower is the first actually working analytical decompiler for Java and probably for a high-level programming language in general. <b>*Naturally it is still under development, please send your bug reports and improvement suggestions to the issue tracker.*</b>&quot;</i>"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1701047367,"post_id":77554025,"comment_id":136722919,"body_markdown":"what discrepancy are you referring to? That the generated java code, called &quot;**.class file**&quot;, 2nd snippet above, is different than the &quot;**original .java file**&quot;? Or do you mean the difference between the 2nd snippet (&quot;**.class file**&quot;) and the last snippet, &quot;**show bytecode result**&quot;? || Mind that what is called &quot;**.class file**&quot; above is actually the decompiled code, not the real .class file content (aka bytecode); neither is the last one, called &quot;**show bytecode result**&quot;, is not *just* the bytecode  - it is some representation of bytecode, augmented with additional information","body":"what discrepancy are you referring to? That the generated java code, called &quot;<b>.class file</b>&quot;, 2nd snippet above, is different than the &quot;<b>original .java file</b>&quot;? Or do you mean the difference between the 2nd snippet (&quot;<b>.class file</b>&quot;) and the last snippet, &quot;<b>show bytecode result</b>&quot;? || Mind that what is called &quot;<b>.class file</b>&quot; above is actually the decompiled code, not the real .class file content (aka bytecode); neither is the last one, called &quot;<b>show bytecode result</b>&quot;, is not <i>just</i> the bytecode  - it is some representation of bytecode, augmented with additional information"},{"owner":{"account_id":29999796,"reputation":3,"user_id":22990097,"display_name":"Person239183218930"},"score":0,"creation_date":1701047547,"post_id":77554025,"comment_id":136722934,"body_markdown":"This refers to the discrepancy between the class file and show bytecode results.","body":"This refers to the discrepancy between the class file and show bytecode results."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":1,"creation_date":1701047679,"post_id":77554025,"comment_id":136722943,"body_markdown":"well, as already written, the 2nd one is not showing bytecode, but as its header states: &quot;*Source code recreated from a .class file*&quot;. While the last one is, as explained in first answer, showing bytecode in a more readable form (kind of disassembled)","body":"well, as already written, the 2nd one is not showing bytecode, but as its header states: &quot;<i>Source code recreated from a .class file</i>&quot;. While the last one is, as explained in first answer, showing bytecode in a more readable form (kind of disassembled)"}],"answers":[{"tags":[],"owner":{"account_id":14261458,"reputation":590,"user_id":10302104,"display_name":"smallpepperz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701046883,"creation_date":1701046546,"answer_id":77554050,"question_id":77554025,"body_markdown":"What you&#39;re referring to as the `.class` file is actually, as the FernFlower comment explains, recreated source code. The `.class` file was run through a decompiler that attempts to convert the bytecode back into its original source code.\r\n\r\nThe &quot;show bytecode result&quot; code that you pasted is just a readable representation of the contents of the file","title":"Why is there a mismatch between show bytecode and class file?","body":"<p>What you're referring to as the <code>.class</code> file is actually, as the FernFlower comment explains, recreated source code. The <code>.class</code> file was run through a decompiler that attempts to convert the bytecode back into its original source code.</p>\n<p>The &quot;show bytecode result&quot; code that you pasted is just a readable representation of the contents of the file</p>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1701070717,"post_id":77554160,"comment_id":136724717,"body_markdown":"That&#39;s not a correct analysis.  While the value of `i` cannot be observed using &quot;pure Java&quot; code, you should be able to use reflection to get hold of the `java.lang.Field` for the `i` field and then use that to interrogate `i`s value at runtime.  The decompilation is incorrect.   (If the JIT compiler was somehow able to determine that the field was never access, it could be eliminated *at runtime*.  But that&#39;s a different issue.  And ... I don&#39;t think it is feasible to even do that.)","body":"That&#39;s not a correct analysis.  While the value of <code>i</code> cannot be observed using &quot;pure Java&quot; code, you should be able to use reflection to get hold of the <code>java.lang.Field</code> for the <code>i</code> field and then use that to interrogate <code>i</code>s value at runtime.  The decompilation is incorrect.   (If the JIT compiler was somehow able to determine that the field was never access, it could be eliminated <i>at runtime</i>.  But that&#39;s a different issue.  And ... I don&#39;t think it is feasible to even do that.)"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1701071180,"post_id":77554160,"comment_id":136724776,"body_markdown":"I don&#39;t think that this is the decompiler trying to be smart.  I think it is just plain wrong.  But it is not unusual for decompilers to get things wrong.  They are typically implemented as a bunch of heuristics and pattern matches.  They don&#39;t have a deep understanding of the meaning of code they are working on.","body":"I don&#39;t think that this is the decompiler trying to be smart.  I think it is just plain wrong.  But it is not unusual for decompilers to get things wrong.  They are typically implemented as a bunch of heuristics and pattern matches.  They don&#39;t have a deep understanding of the meaning of code they are working on."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1701071935,"post_id":77554160,"comment_id":136724886,"body_markdown":"Anyway: https://youtrack.jetbrains.com/issue/IDEA-339031","body":"Anyway: <a href=\"https://youtrack.jetbrains.com/issue/IDEA-339031\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/IDEA-339031</a>"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1701073319,"post_id":77554160,"comment_id":136725053,"body_markdown":"We have no control over what the OP puts in his Intellij bug reports.  (I assume it was him ... based on the wording and the timing.)","body":"We have no control over what the OP puts in his Intellij bug reports.  (I assume it was him ... based on the wording and the timing.)"}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1701057220,"creation_date":1701049559,"answer_id":77554160,"question_id":77554025,"body_markdown":"&gt; Why is there a discrepancy between the two?\r\n\r\nIf you are asking why there is a discrepancy between &quot;.class file&quot; and &quot;show bytecode result&quot;, that is because they are showing different things:\r\n\r\n  - the former shows the decompiler&#39;s attempt to reconstruct source code from the bytecodes.\r\n  - the latter shows a disassembly of the bytecodes; i.e. the bytecodes rendered as (an approximation to) bytecode assembly language.  This is designed for people who want to&lt;sup&gt;1&lt;/sup&gt; **read the bytecodes** output by the Java compiler with the aid of the JVM spec.\r\n\r\nIf you are asking why &quot;original .java file&quot; and &quot;.class file&quot; are different, they are (once again) showing different things.\r\n\r\n  - the former shows the Java source code that you wrote\r\n  - the latter shows *reconstructed* Java code, that was generated by the decompiler.  Basically, the original code was compiled to bytecodes, and then it was *decompiled* back to Java source code.  This code may or may not be correct&lt;sup&gt;2&lt;/sup&gt;.\r\n\r\n----------------------\r\n\r\nIn this case, the decompiled code is different to the original.  It looks like the decompiler was not able to reconstruct the constructor for the `enum` and its `private int` variable.  That is a *limitation* of the decompiler that Intellij is using.  I imagine that that limitation *could* be fixed&lt;sup&gt;3&lt;/sup&gt;.  However decompilers limitations are inherent, and can&#39;t be fixed.  These include:\r\n\r\n  - Decompilers cannot reconstruct the original code layout, javadocs, comments and so forth that are not present in the &quot;.class&quot; file.\r\n  - If two different Java source constructs compile to the same bytecodes, the decompiler can&#39;t tell which one was used originally.\r\n  - Bytecode obfuscators, deliberately do things to the bytecodes to make it harder to reconstruct valid Java source code ... let alone code that is readable. \r\n\r\n----------------------\r\n\r\n&lt;sup&gt;1 - This is not as useful as you might think.  The &quot;problem&quot; is that bytecodes are (deliberately) not optimized.  Instead the JIT compiler will (eventually) compile + optimize the bytecodes to native code.  Often the transformations performed by the JIT compiler are pretty radical; e.g. inlining methods, optimizing away unnecessary loops, and so on.  This means that supposed performance insights you might get from reading the bytecodes are (at best) unreliable.&lt;br&gt;\r\n2 - It may not be functionally identical to the original code.  Indeed, it may not even be valid Java source code.  There are various reasons for this.&lt;br&gt;\r\n3 - ... if someone is willing to put in the work.  Indeed, it is possible that the problem is already addressed in a (hypothetical) more recent version of the decompiler.&lt;/sup&gt;\r\n","title":"Why is there a mismatch between show bytecode and class file?","body":"<blockquote>\n<p>Why is there a discrepancy between the two?</p>\n</blockquote>\n<p>If you are asking why there is a discrepancy between &quot;.class file&quot; and &quot;show bytecode result&quot;, that is because they are showing different things:</p>\n<ul>\n<li>the former shows the decompiler's attempt to reconstruct source code from the bytecodes.</li>\n<li>the latter shows a disassembly of the bytecodes; i.e. the bytecodes rendered as (an approximation to) bytecode assembly language.  This is designed for people who want to<sup>1</sup> <strong>read the bytecodes</strong> output by the Java compiler with the aid of the JVM spec.</li>\n</ul>\n<p>If you are asking why &quot;original .java file&quot; and &quot;.class file&quot; are different, they are (once again) showing different things.</p>\n<ul>\n<li>the former shows the Java source code that you wrote</li>\n<li>the latter shows <em>reconstructed</em> Java code, that was generated by the decompiler.  Basically, the original code was compiled to bytecodes, and then it was <em>decompiled</em> back to Java source code.  This code may or may not be correct<sup>2</sup>.</li>\n</ul>\n<hr />\n<p>In this case, the decompiled code is different to the original.  It looks like the decompiler was not able to reconstruct the constructor for the <code>enum</code> and its <code>private int</code> variable.  That is a <em>limitation</em> of the decompiler that Intellij is using.  I imagine that that limitation <em>could</em> be fixed<sup>3</sup>.  However decompilers limitations are inherent, and can't be fixed.  These include:</p>\n<ul>\n<li>Decompilers cannot reconstruct the original code layout, javadocs, comments and so forth that are not present in the &quot;.class&quot; file.</li>\n<li>If two different Java source constructs compile to the same bytecodes, the decompiler can't tell which one was used originally.</li>\n<li>Bytecode obfuscators, deliberately do things to the bytecodes to make it harder to reconstruct valid Java source code ... let alone code that is readable.</li>\n</ul>\n<hr />\n<p><sup>1 - This is not as useful as you might think.  The &quot;problem&quot; is that bytecodes are (deliberately) not optimized.  Instead the JIT compiler will (eventually) compile + optimize the bytecodes to native code.  Often the transformations performed by the JIT compiler are pretty radical; e.g. inlining methods, optimizing away unnecessary loops, and so on.  This means that supposed performance insights you might get from reading the bytecodes are (at best) unreliable.<br>\n2 - It may not be functionally identical to the original code.  Indeed, it may not even be valid Java source code.  There are various reasons for this.<br>\n3 - ... if someone is willing to put in the work.  Indeed, it is possible that the problem is already addressed in a (hypothetical) more recent version of the decompiler.</sup></p>\n"}],"owner":{"account_id":29999796,"reputation":3,"user_id":22990097,"display_name":"Person239183218930"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1701057220,"creation_date":1701045809,"question_id":77554025,"body_markdown":"## original .java file\r\n\r\n```java\r\npublic enum Fruit {\r\n    ORANGE(1), APPLE(2);\r\n    private final int i;\r\n    Fruit(int i){\r\n        this.i=i;\r\n    }\r\n}\r\n\r\n```\r\n\r\n## .class file\r\n\r\n```java\r\n//\r\n// Source code recreated from a .class file by IntelliJ IDEA\r\n// (powered by FernFlower decompiler)\r\n//\r\n\r\npublic enum Fruit {\r\n    ORANGE,\r\n    APPLE;\r\n\r\n    private Fruit() {\r\n    }\r\n}\r\n\r\n```\r\n\r\n## show bytecode result \r\n\r\n```java\r\n// class version 61.0 (61)\r\n// access flags 0x4031\r\n// signature Ljava/lang/Enum&lt;LFruit;&gt;;\r\n// declaration: Fruit extends java.lang.Enum&lt;Fruit&gt;\r\npublic final enum Fruit extends java/lang/Enum {\r\n\r\n  // compiled from: Fruit.java\r\n\r\n  // access flags 0x4019\r\n  public final static enum LFruit; ORANGE\r\n\r\n  // access flags 0x4019\r\n  public final static enum LFruit; APPLE\r\n\r\n  // access flags 0x12\r\n  private final I i\r\n\r\n  // access flags 0x101A\r\n  private final static synthetic [LFruit; $VALUES\r\n\r\n  // access flags 0x9\r\n  public static values()[LFruit;\r\n   L0\r\n    LINENUMBER 1 L0\r\n    GETSTATIC Fruit.$VALUES : [LFruit;\r\n    INVOKEVIRTUAL [LFruit;.clone ()Ljava/lang/Object;\r\n    CHECKCAST [LFruit;\r\n    ARETURN\r\n    MAXSTACK = 1\r\n    MAXLOCALS = 0\r\n\r\n  // access flags 0x9\r\n  public static valueOf(Ljava/lang/String;)LFruit;\r\n   L0\r\n    LINENUMBER 1 L0\r\n    LDC LFruit;.class\r\n    ALOAD 0\r\n    INVOKESTATIC java/lang/Enum.valueOf (Ljava/lang/Class;Ljava/lang/String;)Ljava/lang/Enum;\r\n    CHECKCAST Fruit\r\n    ARETURN\r\n   L1\r\n    LOCALVARIABLE name Ljava/lang/String; L0 L1 0\r\n    MAXSTACK = 2\r\n    MAXLOCALS = 1\r\n\r\n  // access flags 0x2\r\n  // signature (I)V\r\n  // declaration: void &lt;init&gt;(int)\r\n  private &lt;init&gt;(Ljava/lang/String;II)V\r\n   L0\r\n    LINENUMBER 4 L0\r\n    ALOAD 0\r\n    ALOAD 1\r\n    ILOAD 2\r\n    INVOKESPECIAL java/lang/Enum.&lt;init&gt; (Ljava/lang/String;I)V\r\n   L1\r\n    LINENUMBER 5 L1\r\n    ALOAD 0\r\n    ILOAD 3\r\n    PUTFIELD Fruit.i : I\r\n   L2\r\n    LINENUMBER 6 L2\r\n    RETURN\r\n   L3\r\n    LOCALVARIABLE this LFruit; L0 L3 0\r\n    LOCALVARIABLE i I L0 L3 3\r\n    MAXSTACK = 3\r\n    MAXLOCALS = 4\r\n\r\n  // access flags 0x100A\r\n  private static synthetic $values()[LFruit;\r\n   L0\r\n    LINENUMBER 1 L0\r\n    ICONST_2\r\n    ANEWARRAY Fruit\r\n    DUP\r\n    ICONST_0\r\n    GETSTATIC Fruit.ORANGE : LFruit;\r\n    AASTORE\r\n    DUP\r\n    ICONST_1\r\n    GETSTATIC Fruit.APPLE : LFruit;\r\n    AASTORE\r\n    ARETURN\r\n    MAXSTACK = 4\r\n    MAXLOCALS = 0\r\n\r\n  // access flags 0x8\r\n  static &lt;clinit&gt;()V\r\n   L0\r\n    LINENUMBER 2 L0\r\n    NEW Fruit\r\n    DUP\r\n    LDC &quot;ORANGE&quot;\r\n    ICONST_0\r\n    ICONST_1\r\n    INVOKESPECIAL Fruit.&lt;init&gt; (Ljava/lang/String;II)V\r\n    PUTSTATIC Fruit.ORANGE : LFruit;\r\n    NEW Fruit\r\n    DUP\r\n    LDC &quot;APPLE&quot;\r\n    ICONST_1\r\n    ICONST_2\r\n    INVOKESPECIAL Fruit.&lt;init&gt; (Ljava/lang/String;II)V\r\n    PUTSTATIC Fruit.APPLE : LFruit;\r\n   L1\r\n    LINENUMBER 1 L1\r\n    INVOKESTATIC Fruit.$values ()[LFruit;\r\n    PUTSTATIC Fruit.$VALUES : [LFruit;\r\n    RETURN\r\n    MAXSTACK = 5\r\n    MAXLOCALS = 0\r\n}\r\n\r\n```\r\n\r\nWhy is there a mismatch between show bytecode and class file?\r\n\r\n\r\nI looked into how to proceed with the Decompile process in intellij, but I couldn&#39;t find any official reference.\r\n\r\nI believe the result of show bytecode is not the raw ByteCode. This is because the raw bytecode is not human-readable.\r\n\r\nSo, as a result of Show bytecode, the decompiled version of the class file is both in processed form. Why is there a discrepancy between the two?\r\n\r\n(I also heard that class files are composed of bytecode)\r\n\r\nIs this a problem caused by a difference between the decompilation process and the show bytecode process, and the latter being more resilient of the two? (guess)","title":"Why is there a mismatch between show bytecode and class file?","body":"<h2>original .java file</h2>\n<pre class=\"lang-java prettyprint-override\"><code>public enum Fruit {\n    ORANGE(1), APPLE(2);\n    private final int i;\n    Fruit(int i){\n        this.i=i;\n    }\n}\n\n</code></pre>\n<h2>.class file</h2>\n<pre class=\"lang-java prettyprint-override\"><code>//\n// Source code recreated from a .class file by IntelliJ IDEA\n// (powered by FernFlower decompiler)\n//\n\npublic enum Fruit {\n    ORANGE,\n    APPLE;\n\n    private Fruit() {\n    }\n}\n\n</code></pre>\n<h2>show bytecode result</h2>\n<pre class=\"lang-java prettyprint-override\"><code>// class version 61.0 (61)\n// access flags 0x4031\n// signature Ljava/lang/Enum&lt;LFruit;&gt;;\n// declaration: Fruit extends java.lang.Enum&lt;Fruit&gt;\npublic final enum Fruit extends java/lang/Enum {\n\n  // compiled from: Fruit.java\n\n  // access flags 0x4019\n  public final static enum LFruit; ORANGE\n\n  // access flags 0x4019\n  public final static enum LFruit; APPLE\n\n  // access flags 0x12\n  private final I i\n\n  // access flags 0x101A\n  private final static synthetic [LFruit; $VALUES\n\n  // access flags 0x9\n  public static values()[LFruit;\n   L0\n    LINENUMBER 1 L0\n    GETSTATIC Fruit.$VALUES : [LFruit;\n    INVOKEVIRTUAL [LFruit;.clone ()Ljava/lang/Object;\n    CHECKCAST [LFruit;\n    ARETURN\n    MAXSTACK = 1\n    MAXLOCALS = 0\n\n  // access flags 0x9\n  public static valueOf(Ljava/lang/String;)LFruit;\n   L0\n    LINENUMBER 1 L0\n    LDC LFruit;.class\n    ALOAD 0\n    INVOKESTATIC java/lang/Enum.valueOf (Ljava/lang/Class;Ljava/lang/String;)Ljava/lang/Enum;\n    CHECKCAST Fruit\n    ARETURN\n   L1\n    LOCALVARIABLE name Ljava/lang/String; L0 L1 0\n    MAXSTACK = 2\n    MAXLOCALS = 1\n\n  // access flags 0x2\n  // signature (I)V\n  // declaration: void &lt;init&gt;(int)\n  private &lt;init&gt;(Ljava/lang/String;II)V\n   L0\n    LINENUMBER 4 L0\n    ALOAD 0\n    ALOAD 1\n    ILOAD 2\n    INVOKESPECIAL java/lang/Enum.&lt;init&gt; (Ljava/lang/String;I)V\n   L1\n    LINENUMBER 5 L1\n    ALOAD 0\n    ILOAD 3\n    PUTFIELD Fruit.i : I\n   L2\n    LINENUMBER 6 L2\n    RETURN\n   L3\n    LOCALVARIABLE this LFruit; L0 L3 0\n    LOCALVARIABLE i I L0 L3 3\n    MAXSTACK = 3\n    MAXLOCALS = 4\n\n  // access flags 0x100A\n  private static synthetic $values()[LFruit;\n   L0\n    LINENUMBER 1 L0\n    ICONST_2\n    ANEWARRAY Fruit\n    DUP\n    ICONST_0\n    GETSTATIC Fruit.ORANGE : LFruit;\n    AASTORE\n    DUP\n    ICONST_1\n    GETSTATIC Fruit.APPLE : LFruit;\n    AASTORE\n    ARETURN\n    MAXSTACK = 4\n    MAXLOCALS = 0\n\n  // access flags 0x8\n  static &lt;clinit&gt;()V\n   L0\n    LINENUMBER 2 L0\n    NEW Fruit\n    DUP\n    LDC &quot;ORANGE&quot;\n    ICONST_0\n    ICONST_1\n    INVOKESPECIAL Fruit.&lt;init&gt; (Ljava/lang/String;II)V\n    PUTSTATIC Fruit.ORANGE : LFruit;\n    NEW Fruit\n    DUP\n    LDC &quot;APPLE&quot;\n    ICONST_1\n    ICONST_2\n    INVOKESPECIAL Fruit.&lt;init&gt; (Ljava/lang/String;II)V\n    PUTSTATIC Fruit.APPLE : LFruit;\n   L1\n    LINENUMBER 1 L1\n    INVOKESTATIC Fruit.$values ()[LFruit;\n    PUTSTATIC Fruit.$VALUES : [LFruit;\n    RETURN\n    MAXSTACK = 5\n    MAXLOCALS = 0\n}\n\n</code></pre>\n<p>Why is there a mismatch between show bytecode and class file?</p>\n<p>I looked into how to proceed with the Decompile process in intellij, but I couldn't find any official reference.</p>\n<p>I believe the result of show bytecode is not the raw ByteCode. This is because the raw bytecode is not human-readable.</p>\n<p>So, as a result of Show bytecode, the decompiled version of the class file is both in processed form. Why is there a discrepancy between the two?</p>\n<p>(I also heard that class files are composed of bytecode)</p>\n<p>Is this a problem caused by a difference between the decompilation process and the show bytecode process, and the latter being more resilient of the two? (guess)</p>\n"},{"tags":["java","database","swing","jtable"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1701018628,"post_id":77552555,"comment_id":136720268,"body_markdown":"You&#39;re not &quot;updating&quot; afaics. Where is the method `upload_data` called?","body":"You&#39;re not &quot;updating&quot; afaics. Where is the method <code>upload_data</code> called?"},{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":0,"creation_date":1701018724,"post_id":77552555,"comment_id":136720280,"body_markdown":"It&#39;s odd that TableData extends JFrame, shouldn&#39;t it be just a data-container? Are you sure that the connection is referencing the same JTable, that you have in your PanelForm?","body":"It&#39;s odd that TableData extends JFrame, shouldn&#39;t it be just a data-container? Are you sure that the connection is referencing the same JTable, that you have in your PanelForm?"},{"owner":{"account_id":22517525,"reputation":3,"user_id":19230297,"display_name":"pyChris"},"score":0,"creation_date":1701019268,"post_id":77552555,"comment_id":136720348,"body_markdown":"the `upload_data` method is used to upload data in the database, I use the `get_data` method, to get data from database. @ValerijDobler I&#39;m not sure about that, I think that is the problem, but I don&#39;t know how to solve it.","body":"the <code>upload_data</code> method is used to upload data in the database, I use the <code>get_data</code> method, to get data from database. @ValerijDobler I&#39;m not sure about that, I think that is the problem, but I don&#39;t know how to solve it."},{"owner":{"account_id":22517525,"reputation":3,"user_id":19230297,"display_name":"pyChris"},"score":0,"creation_date":1701019963,"post_id":77552555,"comment_id":136720448,"body_markdown":"yes, I have deleted some not relevant object and I uploaded the code about visible component","body":"yes, I have deleted some not relevant object and I uploaded the code about visible component"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1701020529,"post_id":77552555,"comment_id":136720523,"body_markdown":"What you posted is incomplete. Nothing has added `TableData` to anything here so as far as we&#39;re concerned, you shouldn&#39;t see *anything*","body":"What you posted is incomplete. Nothing has added <code>TableData</code> to anything here so as far as we&#39;re concerned, you shouldn&#39;t see <i>anything</i>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1701021207,"post_id":77552555,"comment_id":136720594,"body_markdown":"You have two separate and unconnected instances of `TableData`. The one you display is *not* the one owned by the connection-bound class, so will do nothing","body":"You have two separate and unconnected instances of <code>TableData</code>. The one you display is <i>not</i> the one owned by the connection-bound class, so will do nothing"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1701021217,"post_id":77552555,"comment_id":136720597,"body_markdown":"As @user85421 has requested, please create and post your [mre] with this question. You are asking about code that runs but that misbehaves, and the best way for us to figure out why is to have working code that reproduces the problem. This is not a request for the entire program but rather for a new small program. Please read or re-read the link. Comment if you have any questions about the construct.","body":"As @user85421 has requested, please create and post your <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> with this question. You are asking about code that runs but that misbehaves, and the best way for us to figure out why is to have working code that reproduces the problem. This is not a request for the entire program but rather for a new small program. Please read or re-read the link. Comment if you have any questions about the construct."},{"owner":{"account_id":22517525,"reputation":3,"user_id":19230297,"display_name":"pyChris"},"score":0,"creation_date":1701021511,"post_id":77552555,"comment_id":136720623,"body_markdown":"@g00se how can I connect the two instances of TableData? Sorry, but I&#39;m still a novice","body":"@g00se how can I connect the two instances of TableData? Sorry, but I&#39;m still a novice"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1701022753,"post_id":77552555,"comment_id":136720753,"body_markdown":"You don&#39;t want to connect them. You need to get rid of one of them. I think your shortest route for now is to get rid of `ConnectionDB` but to incorporate its code into `TableData`. Make sure you only create *one* instance of that class. Every query should close all db objects","body":"You don&#39;t want to connect them. You need to get rid of one of them. I think your shortest route for now is to get rid of <code>ConnectionDB</code> but to incorporate its code into <code>TableData</code>. Make sure you only create <i>one</i> instance of that class. Every query should close all db objects"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1701028092,"post_id":77552555,"comment_id":136721317,"body_markdown":"1. You might want to investigate concepts like dependency injection and the observer pattern.  2. Your `ConnectionDB` should be generating a data model.  This would then be either be wrapped in or update a `TableModel` which would be attached to the `JTable` itself","body":"1. You might want to investigate concepts like dependency injection and the observer pattern.  2. Your <code>ConnectionDB</code> should be generating a data model.  This would then be either be wrapped in or update a <code>TableModel</code> which would be attached to the <code>JTable</code> itself"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1701057175,"creation_date":1701057175,"answer_id":77554442,"question_id":77552555,"body_markdown":"So immediately, you&#39;re creating multiple instances of `TableData`....\r\n\r\n    public class ConnectionDB {\r\n        //...\r\n        TableData tableData = new TableData();\r\n\r\n    public class HomePage extends JFrame {\r\n        private PanelForm panelForm;\r\n        private TableData tableData;\r\n        HomePage(){\r\n            //..\r\n            tableData = new TableData();\r\n\r\nNeither of these two instances have anything to do with each other, so updating one will not update the other.\r\n\r\nThis suggests that you need to spend some more time researching concepts like\r\n\r\n* [Dependency injection](https://www.google.com/search?q=java+dependency+injection&amp;oq=java+dependency+injection)\r\n* [Single Responsibility Principle](https://www.google.com/search?q=java+single+responsibility+principle)\r\n* [Model-View-Controller](https://www.google.com/search?q=java+model+view+controller)\r\n\r\nLet&#39;s start with, you&#39;re using an Object Oriented language, this means, you should be trying to describe your data more as &quot;objects&quot; rather then a lose connection of elements in an array.\r\n\r\nLet&#39;s start with a &quot;book&quot; concept...\r\n\r\n    public interface Book {\r\n        public String getTitle();\r\n        public String getAuthor();\r\n        public int getPrice();\r\n    }\r\n\r\nI like `interface`s they free your code from changes which might occur at an implementation level, should you need to shift your data source from say something like a local database to a web API.\r\n\r\nHaving said that, we&#39;re still going to need a concrete implement...\r\n\r\n    public class DefaultBook implements Book {\r\n        private String title;\r\n        private String author;\r\n        private int price;\r\n\r\n        public DefaultBook(String title, String author, int price) {\r\n            this.title = title;\r\n            this.author = author;\r\n            this.price = price;\r\n        }\r\n        \r\n        @Override\r\n        public String getTitle() {\r\n            return title;\r\n        }\r\n\r\n        @Override\r\n        public String getAuthor() {\r\n            return author;\r\n        }\r\n\r\n        @Override\r\n        public int getPrice() {\r\n            return price;\r\n        }\r\n    }\r\n\r\nI might be tempted to also inject that the records database key into an implementation, but that&#39;s details you can address later.\r\n\r\nNext, lets take a look at the `ConnectionDB`...\r\n\r\n    public class ConnectionDB {\r\n        //...\r\n        public void upload_data(String titolo, String autore, int prezzo){\r\n            try{\r\n                Connection con = DriverManager.getConnection(url, user, password);\r\n                Statement statement = con.createStatement();\r\n                String query = &quot;insert into libri(titolo, autore, prezzo)&quot; +\r\n                               &quot;values (&#39;&quot;+titolo+&quot;&#39;,&#39;&quot;+autore+&quot;&#39;,&#39;&quot;+prezzo+&quot;&#39;)&quot;;\r\n                statement.executeUpdate(query);\r\n                System.out.println(&quot;success&quot;);\r\n            }\r\n            catch(Exception e){\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\nThis is not only inefficient and slow, it&#39;s also dangerous.\r\n\r\nCreate a new instance of the `Connection` each time is slow and you&#39;re leaving yourself open to [sql injection](https://www.google.com/search?q=java+sql+injection) attacks.  You&#39;re also not closing any of the resources, which could mean that the connection will keep them open, degrading the performance of your database.\r\n\r\nStart by taking a look at [The try-with-resources Statement](https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html) and [Using Prepared Statements](https://docs.oracle.com/javase/tutorial/jdbc/basics/prepared.html).\r\n\r\nInstead, you should be making use of dependency injection to pass in a reference to the `Connection`.  This resolves the class of the responsibility of creating the connection, allow you to create what ever connection you need to what ever database you want.\r\n\r\n    public class ConnectionDB {\r\n        private Connection connection;\r\n\r\n        public ConnectionDB(Connection connction) {\r\n            this.connection = connction;\r\n        }\r\n\r\n        protected Connection getConnection() {\r\n            return connection;\r\n        }\r\n\r\n        public void uploadData(Book book) throws SQLException {\r\n            try(PreparedStatement statement = getConnection().prepareStatement(&quot;insert into libri(titolo, autore, prezzo) values (?, ?, ?)&quot;)) {\r\n                statement.setString(1, book.getTitle());\r\n                statement.setString(2, book.getAuthor());\r\n                statement.setInt(3, book.getPrice());\r\n                statement.executeUpdate();\r\n                System.out.println(&quot;success&quot;);\r\n            }\r\n        }\r\n\r\n        public List&lt;Book&gt; getData() throws SQLException {\r\n            List&lt;Book&gt; books = new ArrayList&lt;&gt;(32);\r\n            try (Statement statement = getConnection().createStatement()) {\r\n                ResultSet resultSet = statement.executeQuery(&quot;select titolo, autore, prezzo from libri&quot;);\r\n                while (resultSet.next()) {\r\n                    String title = resultSet.getString(1);\r\n                    String author = resultSet.getString(2);\r\n                    int price = resultSet.getInt(3);\r\n                    \r\n                    books.add(new DefaultBook(title, author, price));\r\n                }\r\n            }\r\n            return books;\r\n        }\r\n    }\r\n\r\nYou will note that `getData` returns a `List` of `Book`s, this is important, as it removes any implementation details that previously existed.  The `ConnectionDB` doesn&#39;t care how you might use the data, only that when requested, it will return a `List` of data for you.\r\n\r\nAlso note, I&#39;m not consuming the errors.  Error management (beyond cleaning up the resources) isn&#39;t this classes responsibility, the caller will want to know when something goes wrong.\r\n\r\nOkay, let&#39;s move onto the UI by stating with how you would model the data from `ConnectionDB` for the UI.\r\n\r\nI would, personally, create a custom `TableModel` which could take a `List` of `Book`s and model it as I needed, for example...\r\n\r\n    public class BookTableModel extends AbstractTableModel {\r\n        private List&lt;Book&gt; books;\r\n        private String[] columnNames = new String[] {\r\n            &quot;Title&quot;, &quot;Author&quot;, &quot;Price&quot;\r\n        };\r\n\r\n        public BookTableModel(List&lt;Book&gt; books) {\r\n            this.books = books;\r\n        }\r\n\r\n        public List&lt;Book&gt; getBooks() {\r\n            return books;\r\n        }\r\n        \r\n        @Override\r\n        public int getRowCount() {\r\n            return getBooks().size();\r\n        }\r\n\r\n        @Override\r\n        public int getColumnCount() {\r\n            return columnNames.length;\r\n        }\r\n\r\n        @Override\r\n        public String getColumnName(int column) {\r\n            return columnNames[column];\r\n        }\r\n\r\n        @Override\r\n        public Object getValueAt(int rowIndex, int columnIndex) {\r\n            Book book = getBooks().get(rowIndex);\r\n            switch (columnIndex) {\r\n                case 0: return book.getTitle();\r\n                case 1: return book.getAuthor();\r\n                case 2: return book.getPrice();\r\n            }\r\n            return null;\r\n        }\r\n\r\n        @Override\r\n        public Class&lt;?&gt; getColumnClass(int columnIndex) {\r\n            switch (columnIndex) {\r\n                case 0: return String.class;\r\n                case 1: return String.class;\r\n                case 2: return Integer.class;\r\n            }\r\n            return Object.class;\r\n        }        \r\n    }\r\n\r\nThis is important, because I could use a `ListModel` instead if I wanted to!  Same data, different presentation!\r\n\r\n    public class BookTable extends JPanel {\r\n        private JTable table;\r\n        \r\n        public BookTable(BookTableModel model) {\r\n            setLayout(new BorderLayout());\r\n            table = new JTable(model);\r\n            add(new JScrollPane(table));\r\n        }\r\n\r\n        protected JTable getTable() {\r\n            return table;\r\n        }\r\n\r\n        public BookTableModel getModel() {\r\n            return (BookTableModel) getTable().getModel();\r\n        }\r\n\r\n        public void setModel(BookTableModel model) {\r\n            getTable().setModel(model);\r\n        }\r\n    }\r\n\r\nNow, unless my UI was suitably complex, I might not seperate the table management to a seperate class, instead, I might just do something like...\r\n\r\n    public class BookPane extends JPanel {\r\n        private ConnectionDB connectionDB;\r\n        \r\n        private JTable bookTable;\r\n\r\n        public BookPane(ConnectionDB connectionDB) {\r\n            this.connectionDB = connectionDB;\r\n            setLayout(new BorderLayout());\r\n            \r\n            // You could add a empty constructor to the\r\n            // BookTableModel to make this a bit easier\r\n            bookTable = new JTable(new BookTableModel(new ArrayList&lt;&gt;()));\r\n            \r\n            add(new JScrollPane(bookTable));\r\n            \r\n            JButton loadButton = new JButton(&quot;Load&quot;);\r\n            loadButton.addActionListener(new ActionListener() {\r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n                    try {\r\n                        List&lt;Book&gt; data = getConnectionDB().getData();\r\n                        // You could just replace the `List` managed by\r\n                        // BookTableModel, but this is just simpler\r\n                        getBookTable().setModel(new BookTableModel(data));\r\n                    } catch (SQLException ex) {\r\n                        ex.printStackTrace();\r\n                        JOptionPane.showMessageDialog(BookPane.this, &quot;Failed to load data&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        public ConnectionDB getConnectionDB() {\r\n            return connectionDB;\r\n        }\r\n\r\n        protected JTable getBookTable() {\r\n            return bookTable;\r\n        }               \r\n    }\r\n\r\nSo, how does this all tie together?  Well, maybe something like...\r\n\r\n    Connection connection = ...; // Create an instance of a Connection for your database\r\n    ConnectionDB connectionDB = new ConnectionDB(connection);\r\n\r\n    EventQueue.invokeLater(new Runnable() {\r\n        @Override\r\n        public void run() {\r\n            JFrame frame = new JFrame();\r\n            frame.add(new BookPane(connectionDB));\r\n            frame.pack();\r\n            frame.setLocationRelativeTo(null);\r\n            frame.setVisible(true);\r\n        }\r\n    });\r\n","title":"How to update a Jtable?","body":"<p>So immediately, you're creating multiple instances of <code>TableData</code>....</p>\n<pre><code>public class ConnectionDB {\n    //...\n    TableData tableData = new TableData();\n\npublic class HomePage extends JFrame {\n    private PanelForm panelForm;\n    private TableData tableData;\n    HomePage(){\n        //..\n        tableData = new TableData();\n</code></pre>\n<p>Neither of these two instances have anything to do with each other, so updating one will not update the other.</p>\n<p>This suggests that you need to spend some more time researching concepts like</p>\n<ul>\n<li><a href=\"https://www.google.com/search?q=java+dependency+injection&amp;oq=java+dependency+injection\" rel=\"nofollow noreferrer\">Dependency injection</a></li>\n<li><a href=\"https://www.google.com/search?q=java+single+responsibility+principle\" rel=\"nofollow noreferrer\">Single Responsibility Principle</a></li>\n<li><a href=\"https://www.google.com/search?q=java+model+view+controller\" rel=\"nofollow noreferrer\">Model-View-Controller</a></li>\n</ul>\n<p>Let's start with, you're using an Object Oriented language, this means, you should be trying to describe your data more as &quot;objects&quot; rather then a lose connection of elements in an array.</p>\n<p>Let's start with a &quot;book&quot; concept...</p>\n<pre><code>public interface Book {\n    public String getTitle();\n    public String getAuthor();\n    public int getPrice();\n}\n</code></pre>\n<p>I like <code>interface</code>s they free your code from changes which might occur at an implementation level, should you need to shift your data source from say something like a local database to a web API.</p>\n<p>Having said that, we're still going to need a concrete implement...</p>\n<pre><code>public class DefaultBook implements Book {\n    private String title;\n    private String author;\n    private int price;\n\n    public DefaultBook(String title, String author, int price) {\n        this.title = title;\n        this.author = author;\n        this.price = price;\n    }\n    \n    @Override\n    public String getTitle() {\n        return title;\n    }\n\n    @Override\n    public String getAuthor() {\n        return author;\n    }\n\n    @Override\n    public int getPrice() {\n        return price;\n    }\n}\n</code></pre>\n<p>I might be tempted to also inject that the records database key into an implementation, but that's details you can address later.</p>\n<p>Next, lets take a look at the <code>ConnectionDB</code>...</p>\n<pre><code>public class ConnectionDB {\n    //...\n    public void upload_data(String titolo, String autore, int prezzo){\n        try{\n            Connection con = DriverManager.getConnection(url, user, password);\n            Statement statement = con.createStatement();\n            String query = &quot;insert into libri(titolo, autore, prezzo)&quot; +\n                           &quot;values ('&quot;+titolo+&quot;','&quot;+autore+&quot;','&quot;+prezzo+&quot;')&quot;;\n            statement.executeUpdate(query);\n            System.out.println(&quot;success&quot;);\n        }\n        catch(Exception e){\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>This is not only inefficient and slow, it's also dangerous.</p>\n<p>Create a new instance of the <code>Connection</code> each time is slow and you're leaving yourself open to <a href=\"https://www.google.com/search?q=java+sql+injection\" rel=\"nofollow noreferrer\">sql injection</a> attacks.  You're also not closing any of the resources, which could mean that the connection will keep them open, degrading the performance of your database.</p>\n<p>Start by taking a look at <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">The try-with-resources Statement</a> and <a href=\"https://docs.oracle.com/javase/tutorial/jdbc/basics/prepared.html\" rel=\"nofollow noreferrer\">Using Prepared Statements</a>.</p>\n<p>Instead, you should be making use of dependency injection to pass in a reference to the <code>Connection</code>.  This resolves the class of the responsibility of creating the connection, allow you to create what ever connection you need to what ever database you want.</p>\n<pre><code>public class ConnectionDB {\n    private Connection connection;\n\n    public ConnectionDB(Connection connction) {\n        this.connection = connction;\n    }\n\n    protected Connection getConnection() {\n        return connection;\n    }\n\n    public void uploadData(Book book) throws SQLException {\n        try(PreparedStatement statement = getConnection().prepareStatement(&quot;insert into libri(titolo, autore, prezzo) values (?, ?, ?)&quot;)) {\n            statement.setString(1, book.getTitle());\n            statement.setString(2, book.getAuthor());\n            statement.setInt(3, book.getPrice());\n            statement.executeUpdate();\n            System.out.println(&quot;success&quot;);\n        }\n    }\n\n    public List&lt;Book&gt; getData() throws SQLException {\n        List&lt;Book&gt; books = new ArrayList&lt;&gt;(32);\n        try (Statement statement = getConnection().createStatement()) {\n            ResultSet resultSet = statement.executeQuery(&quot;select titolo, autore, prezzo from libri&quot;);\n            while (resultSet.next()) {\n                String title = resultSet.getString(1);\n                String author = resultSet.getString(2);\n                int price = resultSet.getInt(3);\n                \n                books.add(new DefaultBook(title, author, price));\n            }\n        }\n        return books;\n    }\n}\n</code></pre>\n<p>You will note that <code>getData</code> returns a <code>List</code> of <code>Book</code>s, this is important, as it removes any implementation details that previously existed.  The <code>ConnectionDB</code> doesn't care how you might use the data, only that when requested, it will return a <code>List</code> of data for you.</p>\n<p>Also note, I'm not consuming the errors.  Error management (beyond cleaning up the resources) isn't this classes responsibility, the caller will want to know when something goes wrong.</p>\n<p>Okay, let's move onto the UI by stating with how you would model the data from <code>ConnectionDB</code> for the UI.</p>\n<p>I would, personally, create a custom <code>TableModel</code> which could take a <code>List</code> of <code>Book</code>s and model it as I needed, for example...</p>\n<pre><code>public class BookTableModel extends AbstractTableModel {\n    private List&lt;Book&gt; books;\n    private String[] columnNames = new String[] {\n        &quot;Title&quot;, &quot;Author&quot;, &quot;Price&quot;\n    };\n\n    public BookTableModel(List&lt;Book&gt; books) {\n        this.books = books;\n    }\n\n    public List&lt;Book&gt; getBooks() {\n        return books;\n    }\n    \n    @Override\n    public int getRowCount() {\n        return getBooks().size();\n    }\n\n    @Override\n    public int getColumnCount() {\n        return columnNames.length;\n    }\n\n    @Override\n    public String getColumnName(int column) {\n        return columnNames[column];\n    }\n\n    @Override\n    public Object getValueAt(int rowIndex, int columnIndex) {\n        Book book = getBooks().get(rowIndex);\n        switch (columnIndex) {\n            case 0: return book.getTitle();\n            case 1: return book.getAuthor();\n            case 2: return book.getPrice();\n        }\n        return null;\n    }\n\n    @Override\n    public Class&lt;?&gt; getColumnClass(int columnIndex) {\n        switch (columnIndex) {\n            case 0: return String.class;\n            case 1: return String.class;\n            case 2: return Integer.class;\n        }\n        return Object.class;\n    }        \n}\n</code></pre>\n<p>This is important, because I could use a <code>ListModel</code> instead if I wanted to!  Same data, different presentation!</p>\n<pre><code>public class BookTable extends JPanel {\n    private JTable table;\n    \n    public BookTable(BookTableModel model) {\n        setLayout(new BorderLayout());\n        table = new JTable(model);\n        add(new JScrollPane(table));\n    }\n\n    protected JTable getTable() {\n        return table;\n    }\n\n    public BookTableModel getModel() {\n        return (BookTableModel) getTable().getModel();\n    }\n\n    public void setModel(BookTableModel model) {\n        getTable().setModel(model);\n    }\n}\n</code></pre>\n<p>Now, unless my UI was suitably complex, I might not seperate the table management to a seperate class, instead, I might just do something like...</p>\n<pre><code>public class BookPane extends JPanel {\n    private ConnectionDB connectionDB;\n    \n    private JTable bookTable;\n\n    public BookPane(ConnectionDB connectionDB) {\n        this.connectionDB = connectionDB;\n        setLayout(new BorderLayout());\n        \n        // You could add a empty constructor to the\n        // BookTableModel to make this a bit easier\n        bookTable = new JTable(new BookTableModel(new ArrayList&lt;&gt;()));\n        \n        add(new JScrollPane(bookTable));\n        \n        JButton loadButton = new JButton(&quot;Load&quot;);\n        loadButton.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                try {\n                    List&lt;Book&gt; data = getConnectionDB().getData();\n                    // You could just replace the `List` managed by\n                    // BookTableModel, but this is just simpler\n                    getBookTable().setModel(new BookTableModel(data));\n                } catch (SQLException ex) {\n                    ex.printStackTrace();\n                    JOptionPane.showMessageDialog(BookPane.this, &quot;Failed to load data&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\n                }\n            }\n        });\n    }\n\n    public ConnectionDB getConnectionDB() {\n        return connectionDB;\n    }\n\n    protected JTable getBookTable() {\n        return bookTable;\n    }               \n}\n</code></pre>\n<p>So, how does this all tie together?  Well, maybe something like...</p>\n<pre><code>Connection connection = ...; // Create an instance of a Connection for your database\nConnectionDB connectionDB = new ConnectionDB(connection);\n\nEventQueue.invokeLater(new Runnable() {\n    @Override\n    public void run() {\n        JFrame frame = new JFrame();\n        frame.add(new BookPane(connectionDB));\n        frame.pack();\n        frame.setLocationRelativeTo(null);\n        frame.setVisible(true);\n    }\n});\n</code></pre>\n"}],"owner":{"account_id":22517525,"reputation":3,"user_id":19230297,"display_name":"pyChris"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77554442,"answer_count":1,"score":0,"last_activity_date":1701057175,"creation_date":1701016494,"question_id":77552555,"body_markdown":"I created a java swing application, which takes data from a database, and displays it in a JTable. I&#39;m currently just trying to view all the data in my database. But when I click the button to send the query to the database and view the obtained data on the jtable, the table does not update. This is my code:\r\n\r\n``` TableData.java``` \r\n``` import com.mysql.cj.xdevapi.Table;\r\n\r\nimport javax.swing.*;\r\nimport javax.swing.border.Border;\r\nimport javax.swing.table.DefaultTableModel;\r\nimport java.awt.*;\r\n\r\npublic class TableData extends JPanel {\r\n    private JTable table;\r\n    private DefaultTableModel model;\r\n    private final Object Column[] = {&quot;id&quot;, &quot;titolo&quot;, &quot;autore&quot;, &quot;prezzo&quot;};\r\n    TableData(){\r\n        model = new DefaultTableModel();\r\n        table = new JTable(model);\r\n        model.setColumnIdentifiers(Column);\r\n        setLayout(new BorderLayout());\r\n        add(new JScrollPane(table), BorderLayout.CENTER);\r\n    }\r\n    public void updateTable(Object row[]){\r\n        model.addRow(row);\r\n    }\r\n}\r\n``` \r\n\r\n``` ConnectionDB.java``` \r\n\r\n``` import java.sql.Connection;\r\nimport java.sql.Statement;\r\nimport java.sql.DriverManager;\r\nimport java.sql.ResultSet;\r\n\r\npublic class ConnectionDB {\r\n    private String url = &quot;jdbc:mysql://localhost:4444/database_name&quot;;\r\n    private String user = &quot;root&quot;;\r\n    private String password = &quot;password&quot;;\r\n    TableData tableData = new TableData();\r\n    //id titolo autore prezzo\r\n    public void upload_data(String titolo, String autore, int prezzo){\r\n        try{\r\n            Connection con = DriverManager.getConnection(url, user, password);\r\n            Statement statement = con.createStatement();\r\n            String query = &quot;insert into libri(titolo, autore, prezzo)&quot; +\r\n                           &quot;values (&#39;&quot;+titolo+&quot;&#39;,&#39;&quot;+autore+&quot;&#39;,&#39;&quot;+prezzo+&quot;&#39;)&quot;;\r\n            statement.executeUpdate(query);\r\n            System.out.println(&quot;success&quot;);\r\n        }\r\n        catch(Exception e){\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n    public void get_data(){\r\n        Object row[] = new Object[4];\r\n        try{\r\n            Connection conn = DriverManager.getConnection(url, user, password);\r\n            Statement statement = conn.createStatement();\r\n            ResultSet resultSet = statement.executeQuery(&quot;select * from libri&quot;);\r\n            while(resultSet.next()){\r\n                for(int i = 1; i&lt;=4; i++){\r\n                    row[i-1] = resultSet.getString(i);\r\n                }\r\n                tableData.updateTable(row);\r\n            }\r\n        }\r\n        catch(Exception e){\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n``` \r\n``` PanelForm.java``` \r\n``` import javax.swing.*;\r\nimport javax.swing.border.Border;\r\nimport java.awt.*;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.util.jar.JarEntry;\r\n\r\npublic class PanelForm extends JPanel {\r\n    ....somebutton.....\r\n    ConnectionDB conn = new ConnectionDB();\r\n\r\n    ....some board....\r\n        buttonVisualizza.addActionListener(new ActionListener() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                conn.get_data();\r\n            }\r\n        });\r\n    }\r\n}\r\n``` \r\nThis is my ```HomePage.java ``` \r\n```import javax.swing.*;\r\nimport javax.swing.text.AbstractDocument;\r\nimport java.awt.*;\r\n\r\npublic class HomePage extends JFrame {\r\n    private PanelForm panelForm;\r\n    private TableData tableData;\r\n    HomePage(){\r\n        super(&quot;Home&quot;);\r\n        setSize(800,500);\r\n        setDefaultCloseOperation(EXIT_ON_CLOSE);\r\n        setLocation(200,200);\r\n        setLayout(new BorderLayout());\r\n\r\n        panelForm = new PanelForm();\r\n        tableData = new TableData();\r\n        add(panelForm, BorderLayout.LINE_START);\r\n        add(tableData, BorderLayout.CENTER);\r\n        setVisible(true);\r\n\r\n    }\r\n}\r\n ``` \r\nI have already tried to reload the model, and this command: ``` model.fireTableDataChanged();``` \r\n","title":"How to update a Jtable?","body":"<p>I created a java swing application, which takes data from a database, and displays it in a JTable. I'm currently just trying to view all the data in my database. But when I click the button to send the query to the database and view the obtained data on the jtable, the table does not update. This is my code:</p>\n<p><code> TableData.java</code></p>\n<pre><code>\nimport javax.swing.*;\nimport javax.swing.border.Border;\nimport javax.swing.table.DefaultTableModel;\nimport java.awt.*;\n\npublic class TableData extends JPanel {\n    private JTable table;\n    private DefaultTableModel model;\n    private final Object Column[] = {&quot;id&quot;, &quot;titolo&quot;, &quot;autore&quot;, &quot;prezzo&quot;};\n    TableData(){\n        model = new DefaultTableModel();\n        table = new JTable(model);\n        model.setColumnIdentifiers(Column);\n        setLayout(new BorderLayout());\n        add(new JScrollPane(table), BorderLayout.CENTER);\n    }\n    public void updateTable(Object row[]){\n        model.addRow(row);\n    }\n}\n</code></pre>\n<p><code> ConnectionDB.java</code></p>\n<pre><code>import java.sql.Statement;\nimport java.sql.DriverManager;\nimport java.sql.ResultSet;\n\npublic class ConnectionDB {\n    private String url = &quot;jdbc:mysql://localhost:4444/database_name&quot;;\n    private String user = &quot;root&quot;;\n    private String password = &quot;password&quot;;\n    TableData tableData = new TableData();\n    //id titolo autore prezzo\n    public void upload_data(String titolo, String autore, int prezzo){\n        try{\n            Connection con = DriverManager.getConnection(url, user, password);\n            Statement statement = con.createStatement();\n            String query = &quot;insert into libri(titolo, autore, prezzo)&quot; +\n                           &quot;values ('&quot;+titolo+&quot;','&quot;+autore+&quot;','&quot;+prezzo+&quot;')&quot;;\n            statement.executeUpdate(query);\n            System.out.println(&quot;success&quot;);\n        }\n        catch(Exception e){\n            e.printStackTrace();\n        }\n    }\n    public void get_data(){\n        Object row[] = new Object[4];\n        try{\n            Connection conn = DriverManager.getConnection(url, user, password);\n            Statement statement = conn.createStatement();\n            ResultSet resultSet = statement.executeQuery(&quot;select * from libri&quot;);\n            while(resultSet.next()){\n                for(int i = 1; i&lt;=4; i++){\n                    row[i-1] = resultSet.getString(i);\n                }\n                tableData.updateTable(row);\n            }\n        }\n        catch(Exception e){\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p><code> PanelForm.java</code></p>\n<pre><code>import javax.swing.border.Border;\nimport java.awt.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.util.jar.JarEntry;\n\npublic class PanelForm extends JPanel {\n    ....somebutton.....\n    ConnectionDB conn = new ConnectionDB();\n\n    ....some board....\n        buttonVisualizza.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                conn.get_data();\n            }\n        });\n    }\n}\n</code></pre>\n<p>This is my <code>HomePage.java </code></p>\n<pre><code>import javax.swing.text.AbstractDocument;\nimport java.awt.*;\n\npublic class HomePage extends JFrame {\n    private PanelForm panelForm;\n    private TableData tableData;\n    HomePage(){\n        super(&quot;Home&quot;);\n        setSize(800,500);\n        setDefaultCloseOperation(EXIT_ON_CLOSE);\n        setLocation(200,200);\n        setLayout(new BorderLayout());\n\n        panelForm = new PanelForm();\n        tableData = new TableData();\n        add(panelForm, BorderLayout.LINE_START);\n        add(tableData, BorderLayout.CENTER);\n        setVisible(true);\n\n    }\n}\n</code></pre>\n<p>I have already tried to reload the model, and this command: <code> model.fireTableDataChanged();</code></p>\n"},{"tags":["java","azure","intune"],"comments":[{"owner":{"account_id":26619036,"reputation":1003,"user_id":20238030,"display_name":"Suresh Chikkam"},"score":0,"creation_date":1700930936,"post_id":77547136,"comment_id":136713489,"body_markdown":"Hi @Burdarper you are trying to execute all uninstall commands at once using `cmd /c &quot;$Deinstallcommands&quot;` . However, you should iterate over each uninstall command separately.","body":"Hi @Burdarper you are trying to execute all uninstall commands at once using <code>cmd &#47;c &quot;$Deinstallcommands&quot;</code> . However, you should iterate over each uninstall command separately."},{"owner":{"account_id":29988743,"reputation":11,"user_id":22981943,"display_name":"Burdarper"},"score":1,"creation_date":1700990515,"post_id":77547136,"comment_id":136717641,"body_markdown":"Hello Suresh,\nthank you for your answer. @SureshChikkam\n\nI guess this is what ForEach is already doing:\n\nwrite-Output $Deinstallcommands is :\n\n\nMsiExec.exe /x{71324AE4-039E-4CA4-87B4-2F64180391F0}\nMsiExec.exe /x{4A03706F-666A-4037-7777-5F2748764D10}\n\n\nWrite-output $IdentifyingNumber after foreach only shows the first entry so this is already correct in my opinion:\n\nIf I copy&amp;paste the $Deinstallcommands output manually in CMD is works and asks me whether I want to deinstall.","body":"Hello Suresh, thank you for your answer. @SureshChikkam  I guess this is what ForEach is already doing:  write-Output $Deinstallcommands is :   MsiExec.exe /x{71324AE4-039E-4CA4-87B4-2F64180391F0} MsiExec.exe /x{4A03706F-666A-4037-7777-5F2748764D10}   Write-output $IdentifyingNumber after foreach only shows the first entry so this is already correct in my opinion:  If I copy&amp;paste the $Deinstallcommands output manually in CMD is works and asks me whether I want to deinstall."},{"owner":{"account_id":29988743,"reputation":11,"user_id":22981943,"display_name":"Burdarper"},"score":0,"creation_date":1700990521,"post_id":77547136,"comment_id":136717643,"body_markdown":"If it is done through &amp;cmd /c via powershell like in my case it prompts me with wrong msiexec command spelling like described before.","body":"If it is done through &amp;cmd /c via powershell like in my case it prompts me with wrong msiexec command spelling like described before."},{"owner":{"account_id":26619036,"reputation":1003,"user_id":20238030,"display_name":"Suresh Chikkam"},"score":0,"creation_date":1700991714,"post_id":77547136,"comment_id":136717742,"body_markdown":"Use this cmdlet `Start-Process` to execute the `msiexec.exe` command with the appropriate arguments.\n\n`Start-Process -FilePath &quot;$env:SystemRoot\\system32\\msiexec.exe&quot; -ArgumentList &quot;/x $IdentifyingNumber /quiet&quot; -Wait -PassThru`","body":"Use this cmdlet <code>Start-Process</code> to execute the <code>msiexec.exe</code> command with the appropriate arguments.  <code>Start-Process -FilePath &quot;$env:SystemRoot\\system32\\msiexec.exe&quot; -ArgumentList &quot;&#47;x $IdentifyingNumber &#47;quiet&quot; -Wait -PassThru</code>"}],"answers":[{"comments":[{"owner":{"account_id":29988743,"reputation":11,"user_id":22981943,"display_name":"Burdarper"},"score":0,"creation_date":1701066567,"post_id":77554428,"comment_id":136724251,"body_markdown":"Thanks for your efforts.\nWas jsut trying your prevous suggestions, but instead of prompting for wrong msiexec parameters like before it just listed the following and did nothing else:","body":"Thanks for your efforts. Was jsut trying your prevous suggestions, but instead of prompting for wrong msiexec parameters like before it just listed the following and did nothing else:"},{"owner":{"account_id":29988743,"reputation":11,"user_id":22981943,"display_name":"Burdarper"},"score":0,"creation_date":1701066589,"post_id":77554428,"comment_id":136724255,"body_markdown":"Handles  NPM(K)    PM(K)      WS(K)     CPU(s)     Id  SI ProcessName                                                                                                                \n-------  ------    -----      -----     ------     --  -- -----------                                                                                                                \n      0       2      432       1632       0,00  33300   1 msiexec                                                                 \n      0       2      428       1632       0,02  25396   1 msiexec","body":"Handles  NPM(K)    PM(K)      WS(K)     CPU(s)     Id  SI ProcessName                                                                                                                 -------  ------    -----      -----     ------     --  -- -----------                                                                                                                       0       2      432       1632       0,00  33300   1 msiexec                                                                        0       2      428       1632       0,02  25396   1 msiexec"},{"owner":{"account_id":29988743,"reputation":11,"user_id":22981943,"display_name":"Burdarper"},"score":0,"creation_date":1701067641,"post_id":77554428,"comment_id":136724352,"body_markdown":"Testing your last suggestion now.\n\nTwo times a cmd window popped up and immediately vanished:\n\n\nOutput: \n&#39;\nRunning: MsiExec.exe /x @{IdentifyingNumber={71324AE4-039E-4CA4-87B4-2F64180391F0}} /qn \nRunning: MsiExec.exe /x @{IdentifyingNumber={4A03706F-666A-4037-7777-5F2748764D10}} /qn \nOracle Java uninstallation complete\n&#39;\n\n\nBut oracle Java is still installed ( PS is running in adm mode )","body":"Testing your last suggestion now.  Two times a cmd window popped up and immediately vanished:   Output:  &#39; Running: MsiExec.exe /x @{IdentifyingNumber={71324AE4-039E-4CA4-87B4-2F64180391F0}} /qn  Running: MsiExec.exe /x @{IdentifyingNumber={4A03706F-666A-4037-7777-5F2748764D10}} /qn  Oracle Java uninstallation complete &#39;   But oracle Java is still installed ( PS is running in adm mode )"},{"owner":{"account_id":29988743,"reputation":11,"user_id":22981943,"display_name":"Burdarper"},"score":0,"creation_date":1701067736,"post_id":77554428,"comment_id":136724363,"body_markdown":"sry I was trying to edit the textblock in a more readeable manner, but it doesn&#180;t let me","body":"sry I was trying to edit the textblock in a more readeable manner, but it doesn&#180;t let me"}],"tags":[],"owner":{"account_id":26619036,"reputation":1003,"user_id":20238030,"display_name":"Suresh Chikkam"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701056793,"creation_date":1701056793,"answer_id":77554428,"question_id":77547136,"body_markdown":"&gt;`ForEach($IdentifyingNumber in $Deinstallcommands) {&amp; cmd /c &quot;$Deinstallcommands&quot;}`\r\n\r\n- Actually, the loop in the remediation script seems to be incorrect, and you are using the entire array of `IdentifyingNumber` for each iteration.\r\n\r\n```powershell\r\n# Detection\r\n$MSICode = Get-WmiObject Win32_Product -Filter &quot;name like &#39;Java%&#39; AND vendor like &#39;Oracle%&#39;&quot; | Select-Object -ExpandProperty IdentifyingNumber\r\n\r\nif ($MSICode -eq $null) {\r\n    Write-Host &quot;Oracle Java installations not found&quot;\r\n    Exit 0\r\n} else {\r\n    Write-Host &quot;Oracle Java installations found&quot;\r\n    Exit 1\r\n}\r\n\r\n# Remediation\r\nforeach ($IdentifyingNumber in $MSICode) {\r\n    $DeinstallCommand = &quot;MsiExec.exe /x $IdentifyingNumber /qn&quot;\r\n    Write-Host &quot;Running: $DeinstallCommand&quot;\r\n    Start-Process -FilePath &quot;cmd.exe&quot; -ArgumentList &quot;/c $DeinstallCommand&quot; -Wait\r\n}\r\n\r\nWrite-Host &quot;Oracle Java uninstallation complete&quot;\r\nExit 0\r\n```\r\n\r\n- `Get-WmiObject`, which is a more modern and PowerShell-native way of retrieving WMI information and `Select-Object -ExpandProperty IdentifyingNumber` to extract the IdentifyingNumber from the WMI query resu\tlt.\r\n\r\n- I modified the loop to use each individual `IdentifyingNumber` in the uninstallation command and added `/qn` to the `MsiExec.exe` command for silent uninstallation (no user interface).\r\n\r\n![enter image description here](https://i.imgur.com/9Fd2dr4.png)","title":"Create remediation script for deinstalling oracle java on every azure-managed client","body":"<blockquote>\n<p><code>ForEach($IdentifyingNumber in $Deinstallcommands) {&amp; cmd /c &quot;$Deinstallcommands&quot;}</code></p>\n</blockquote>\n<ul>\n<li>Actually, the loop in the remediation script seems to be incorrect, and you are using the entire array of <code>IdentifyingNumber</code> for each iteration.</li>\n</ul>\n<pre><code># Detection\n$MSICode = Get-WmiObject Win32_Product -Filter &quot;name like 'Java%' AND vendor like 'Oracle%'&quot; | Select-Object -ExpandProperty IdentifyingNumber\n\nif ($MSICode -eq $null) {\n    Write-Host &quot;Oracle Java installations not found&quot;\n    Exit 0\n} else {\n    Write-Host &quot;Oracle Java installations found&quot;\n    Exit 1\n}\n\n# Remediation\nforeach ($IdentifyingNumber in $MSICode) {\n    $DeinstallCommand = &quot;MsiExec.exe /x $IdentifyingNumber /qn&quot;\n    Write-Host &quot;Running: $DeinstallCommand&quot;\n    Start-Process -FilePath &quot;cmd.exe&quot; -ArgumentList &quot;/c $DeinstallCommand&quot; -Wait\n}\n\nWrite-Host &quot;Oracle Java uninstallation complete&quot;\nExit 0\n</code></pre>\n<ul>\n<li><p><code>Get-WmiObject</code>, which is a more modern and PowerShell-native way of retrieving WMI information and <code>Select-Object -ExpandProperty IdentifyingNumber</code> to extract the IdentifyingNumber from the WMI query resu    lt.</p>\n</li>\n<li><p>I modified the loop to use each individual <code>IdentifyingNumber</code> in the uninstallation command and added <code>/qn</code> to the <code>MsiExec.exe</code> command for silent uninstallation (no user interface).</p>\n</li>\n</ul>\n<p><img src=\"https://i.imgur.com/9Fd2dr4.png\" alt=\"enter image description here\" /></p>\n"}],"owner":{"account_id":29988743,"reputation":11,"user_id":22981943,"display_name":"Burdarper"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1701056793,"creation_date":1700900481,"question_id":77547136,"body_markdown":"while silently reading here for half an eternity, now comes the point where I&#180;d like to ask a question.\r\n\r\nWe have been carved out from a big company lately and one of the endless things we have to solve is caring for sw-licensing.\r\n\r\nHowever in this process it turned out that oracle is not a software company having at least a slight interest in senseful co-existing but a plain mafia-gang. \r\nSo after a few meetings with those self-righteous mobsters I just quitted and promised to wipe and extinct their SW from each server/client in order to not step in their criminal-licensing-traps.\r\nWhile we already got rid of all oracleDBs, oracle java is still a problem also because employees keep installing it here and there not caring for consequences. (worldwide ~7500clients azure-managed).\r\n\r\nSo I want to come up with an remediation script looking for oracle java periodicly and deleting it.\r\n\r\nWhile detection is working I cannot figure out why remediation is not working; So after two days of struggling around (I&#180;m quite new to remediation methods and not a pro in powershell ) I&#180;d like to know how you would do it:\r\n\r\n\r\nDetection (works)\r\n\r\n```\r\n$MSICode = gwmi Win32_Product -filter &quot;name like &#39;Java%&#39; AND vendor like &#39;Oracle%&#39;&quot; | select IdentifyingNumber\r\n\r\nif ($MSICode -eq $null){\r\n    Write-Host &quot;oracle java installations not found&quot;\r\n    Exit 0\r\n}else{\r\n    Write-Host &quot;oracle java installations found&quot;\r\n    Exit 1\r\n}\r\n```\r\n\r\n\r\nRemediation (Always prompts me with msiexec error asking for the right syntax while &quot;write-Output $Deinstallcommands&quot; shows the right values\r\n\r\n```\r\n$MSICode = gwmi Win32_Product -filter &quot;name like &#39;Java%&#39; AND vendor like &#39;Oracle%&#39;&quot; | select IdentifyingNumber\r\n\r\n# Variable &quot;Deinstallcommands&quot; bereinigt die MSICode Variable ( + silent deinstall ) sodass sie wie cmd ausgef&#252;hrt werden kann.\r\n\r\n$Deinstallcommands = $MSICode.IdentifyingNumber -replace &quot;{&quot;,&quot;MsiExec.exe /x{&quot;\r\n\r\n# Alle Deinstallcommands ausf&#252;hren\r\n \r\n#write-Output $Deinstallcommands\r\n\r\nForEach($IdentifyingNumber in $Deinstallcommands) {&amp; cmd /c &quot;$Deinstallcommands&quot;}\r\n```\r\n\r\n\r\nLooking forward to your replies\r\n\r\n","title":"Create remediation script for deinstalling oracle java on every azure-managed client","body":"<p>while silently reading here for half an eternity, now comes the point where Id like to ask a question.</p>\n<p>We have been carved out from a big company lately and one of the endless things we have to solve is caring for sw-licensing.</p>\n<p>However in this process it turned out that oracle is not a software company having at least a slight interest in senseful co-existing but a plain mafia-gang.\nSo after a few meetings with those self-righteous mobsters I just quitted and promised to wipe and extinct their SW from each server/client in order to not step in their criminal-licensing-traps.\nWhile we already got rid of all oracleDBs, oracle java is still a problem also because employees keep installing it here and there not caring for consequences. (worldwide ~7500clients azure-managed).</p>\n<p>So I want to come up with an remediation script looking for oracle java periodicly and deleting it.</p>\n<p>While detection is working I cannot figure out why remediation is not working; So after two days of struggling around (Im quite new to remediation methods and not a pro in powershell ) Id like to know how you would do it:</p>\n<p>Detection (works)</p>\n<pre><code>$MSICode = gwmi Win32_Product -filter &quot;name like 'Java%' AND vendor like 'Oracle%'&quot; | select IdentifyingNumber\n\nif ($MSICode -eq $null){\n    Write-Host &quot;oracle java installations not found&quot;\n    Exit 0\n}else{\n    Write-Host &quot;oracle java installations found&quot;\n    Exit 1\n}\n</code></pre>\n<p>Remediation (Always prompts me with msiexec error asking for the right syntax while &quot;write-Output $Deinstallcommands&quot; shows the right values</p>\n<pre><code>$MSICode = gwmi Win32_Product -filter &quot;name like 'Java%' AND vendor like 'Oracle%'&quot; | select IdentifyingNumber\n\n# Variable &quot;Deinstallcommands&quot; bereinigt die MSICode Variable ( + silent deinstall ) sodass sie wie cmd ausgefhrt werden kann.\n\n$Deinstallcommands = $MSICode.IdentifyingNumber -replace &quot;{&quot;,&quot;MsiExec.exe /x{&quot;\n\n# Alle Deinstallcommands ausfhren\n \n#write-Output $Deinstallcommands\n\nForEach($IdentifyingNumber in $Deinstallcommands) {&amp; cmd /c &quot;$Deinstallcommands&quot;}\n</code></pre>\n<p>Looking forward to your replies</p>\n"},{"tags":["java","ajax"],"comments":[{"owner":{"account_id":5907283,"reputation":1489,"user_id":4648586,"accept_rate":60,"display_name":"Bagus Tesa"},"score":1,"creation_date":1701053930,"post_id":77554295,"comment_id":136723360,"body_markdown":"how about opening the url using `window.open` while the server giving `application/octet-stream` as mime type?","body":"how about opening the url using <code>window.open</code> while the server giving <code>application&#47;octet-stream</code> as mime type?"}],"answers":[{"comments":[{"owner":{"account_id":15726555,"reputation":527,"user_id":11348034,"display_name":"Meera"},"score":0,"creation_date":1701055519,"post_id":77554305,"comment_id":136723459,"body_markdown":"hi Adrid - That&#39;s worked. thank you so much. Follow up question, if there is an error in Java code while writing to file, I would like return error string. Since the method returns ResponseEntity&lt;InputStreamResource&gt;, how do I handle sending error message from java to ajax error: section. I would like to display the message to user.","body":"hi Adrid - That&#39;s worked. thank you so much. Follow up question, if there is an error in Java code while writing to file, I would like return error string. Since the method returns ResponseEntity&lt;InputStreamResource&gt;, how do I handle sending error message from java to ajax error: section. I would like to display the message to user."},{"owner":{"account_id":29849205,"reputation":667,"user_id":22875510,"display_name":"Adrid"},"score":0,"creation_date":1701055730,"post_id":77554305,"comment_id":136723470,"body_markdown":"My answer is too long to add as a comment. Why don&#39;t you make a new question? And could you accept my answer if it works correctly?","body":"My answer is too long to add as a comment. Why don&#39;t you make a new question? And could you accept my answer if it works correctly?"}],"tags":[],"owner":{"account_id":29849205,"reputation":667,"user_id":22875510,"display_name":"Adrid"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1701053895,"creation_date":1701053895,"answer_id":77554305,"question_id":77554295,"body_markdown":"To trigger an automatic download of a file in response to an AJAX call, you can dynamically create a link with the download attribute and trigger a click on that link. Here&#39;s how you can modify your success callback to achieve this:\r\n\r\n    $(&quot;#btn_load&quot;).click(function (e) {\r\n      event.preventDefault();\r\n      form = $(&quot;#bookList&quot;);\r\n      var post_url = form.attr(&quot;action&quot;);\r\n      let form_data = form.serialize();\r\n\r\n      $.ajax({\r\n        url: post_url,\r\n        type: &quot;POST&quot;,\r\n        data: form_data,\r\n        success: function (data, textStatus, jqX) {\r\n          // Create a Blob from the data\r\n          var blob = new Blob([data], { type: &quot;text/plain&quot; });\r\n\r\n          // Create a link element\r\n          var link = document.createElement(&quot;a&quot;);\r\n\r\n          // Set the download attribute and create a URL for the file\r\n          link.download = &quot;your_filename.txt&quot;;\r\n          link.href = window.URL.createObjectURL(blob);\r\n\r\n          // Append the link to the document\r\n          document.body.appendChild(link);\r\n\r\n          // Trigger a click on the link to initiate the download\r\n          link.click();\r\n\r\n          // Remove the link from the document\r\n          document.body.removeChild(link);\r\n        },\r\n        error: function (XMLHttpRequest, textStatus, errorThrown) {\r\n          // Handle errors\r\n        },\r\n      });\r\n    });\r\n\r\n\r\nThis code creates a `Blob` from the data received in the AJAX response, creates a link element, sets the `download` attribute and a URL for the file, appends the link to the document, triggers a click on the link, and finally removes the link from the document.\r\n\r\nMake sure to replace `&#39;your_filename.txt&#39;` with the desired filename for the downloaded file.","title":"AJAX call back to download file by browser","body":"<p>To trigger an automatic download of a file in response to an AJAX call, you can dynamically create a link with the download attribute and trigger a click on that link. Here's how you can modify your success callback to achieve this:</p>\n<pre><code>$(&quot;#btn_load&quot;).click(function (e) {\n  event.preventDefault();\n  form = $(&quot;#bookList&quot;);\n  var post_url = form.attr(&quot;action&quot;);\n  let form_data = form.serialize();\n\n  $.ajax({\n    url: post_url,\n    type: &quot;POST&quot;,\n    data: form_data,\n    success: function (data, textStatus, jqX) {\n      // Create a Blob from the data\n      var blob = new Blob([data], { type: &quot;text/plain&quot; });\n\n      // Create a link element\n      var link = document.createElement(&quot;a&quot;);\n\n      // Set the download attribute and create a URL for the file\n      link.download = &quot;your_filename.txt&quot;;\n      link.href = window.URL.createObjectURL(blob);\n\n      // Append the link to the document\n      document.body.appendChild(link);\n\n      // Trigger a click on the link to initiate the download\n      link.click();\n\n      // Remove the link from the document\n      document.body.removeChild(link);\n    },\n    error: function (XMLHttpRequest, textStatus, errorThrown) {\n      // Handle errors\n    },\n  });\n});\n</code></pre>\n<p>This code creates a <code>Blob</code> from the data received in the AJAX response, creates a link element, sets the <code>download</code> attribute and a URL for the file, appends the link to the document, triggers a click on the link, and finally removes the link from the document.</p>\n<p>Make sure to replace <code>'your_filename.txt'</code> with the desired filename for the downloaded file.</p>\n"}],"owner":{"account_id":15726555,"reputation":527,"user_id":11348034,"display_name":"Meera"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77554305,"answer_count":1,"score":0,"last_activity_date":1701054618,"creation_date":1701053635,"question_id":77554295,"body_markdown":"When user clicks the button, there is ajax calls to server. The server returns a text file. \r\nI would like browser to download the file automatically.\r\n\r\n    .jsp button\r\n    &lt;button type=&quot;submit&quot; id=&quot;btn_load&quot; value=&quot;Search&quot; class=&quot;btn btn-primary&quot;&gt;Generate I-618&lt;/button&gt;\r\n    \r\n    .js file - when button is click \r\n    $(&quot;#btn_load&quot;).click(function(e) {\r\n    \t \t\tevent.preventDefault(); \r\n                form = $(&#39;#bookList&#39;);\r\n                var post_url = form.attr(&quot;action&quot;); \r\n                let form_data = form.serialize();  \r\n                 $.ajax({\r\n                    url: post_url,\r\n                    type: &quot;POST&quot;,\r\n                    data: form_data,\r\n                    success: function(data, textStatus, jqX) {\r\n                    \t// **data is a .txt file. HOW TO TELL BROWSER TO DOWNLOAD THE .TXT FILE ?**\r\n                        console.log(data); //print the data from the file\r\n                    },\r\n                    error: function(XMLHttpRequest, textStatus,  errorThrown) {\r\n                    }\r\n                });\r\n    \t});\r\n    });\r\n\r\njava: function returns a .text file that would like to download from browser when user click the button\r\n\r\n\t@RequestMapping(value = &quot;/book.htm&quot;)\r\n\tpublic ResponseEntity&lt;InputStreamResource&gt; bookselection(\r\n\t\t\t@ModelAttribute(&quot;books&quot;) Books book, Model model,\r\n\t\t\tHttpServletRequest request, BindingResult result) {\r\n\t\tList&lt;InputStreamResource&gt; listStream = new ArrayList&lt;InputStreamResource&gt;();\r\n\t\tString fileName = &quot;book.txt&quot;\r\n\t\tif (CollectionUtils.isNotEmpty(bookList)) {\r\n\t\t\tFile file = File.createTempFile(fileName, &quot;.txt&quot;);\r\n\t\t\tFileWriter interfaceFileWriter = new FileWriter(file);\r\n\t\t\tBufferedWriter interfaceBufferedWriter = new BufferedWriter(interfaceFileWriter);\r\n\t\t\t//write to file\r\n\t\t\tfor (Book list : bookList) {\r\n\t\t\tinterfaceBufferedWriter.write(list.getDelimitedRecord(delimiter, nullValue));\r\n\t\t\t}\r\n\t\t\tinterfaceBufferedWriter.close();\r\n\t\t\tHttpHeaders headers = new HttpHeaders();\r\n\t\t\theaders.setCacheControl(&quot;must-revalidate, post-check=0, pre-check=0&quot;);\r\n\t\t\theaders.setContentDispositionFormData(fileName + &quot;.txt&quot;, fileName + &quot;.txt&quot;);\r\n\r\n\t\t\tInputStreamResource resource = new InputStreamResource(new FileInputStream(file));\r\n\t\t\tif (file != null &amp;&amp; file.exists()) {\r\n\t\t\t\tlistStream.add(resource);\r\n\t\t\t\treturn ResponseEntity.ok().contentType(MediaType.TEXT_PLAIN).headers(headers).body(resource);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\t\r\n\r\nHow to tell browser to download the file automatically which is ajax response (data)?\r\n","title":"AJAX call back to download file by browser","body":"<p>When user clicks the button, there is ajax calls to server. The server returns a text file.\nI would like browser to download the file automatically.</p>\n<pre><code>.jsp button\n&lt;button type=&quot;submit&quot; id=&quot;btn_load&quot; value=&quot;Search&quot; class=&quot;btn btn-primary&quot;&gt;Generate I-618&lt;/button&gt;\n\n.js file - when button is click \n$(&quot;#btn_load&quot;).click(function(e) {\n            event.preventDefault(); \n            form = $('#bookList');\n            var post_url = form.attr(&quot;action&quot;); \n            let form_data = form.serialize();  \n             $.ajax({\n                url: post_url,\n                type: &quot;POST&quot;,\n                data: form_data,\n                success: function(data, textStatus, jqX) {\n                    // **data is a .txt file. HOW TO TELL BROWSER TO DOWNLOAD THE .TXT FILE ?**\n                    console.log(data); //print the data from the file\n                },\n                error: function(XMLHttpRequest, textStatus,  errorThrown) {\n                }\n            });\n    });\n});\n</code></pre>\n<p>java: function returns a .text file that would like to download from browser when user click the button</p>\n<pre><code>@RequestMapping(value = &quot;/book.htm&quot;)\npublic ResponseEntity&lt;InputStreamResource&gt; bookselection(\n        @ModelAttribute(&quot;books&quot;) Books book, Model model,\n        HttpServletRequest request, BindingResult result) {\n    List&lt;InputStreamResource&gt; listStream = new ArrayList&lt;InputStreamResource&gt;();\n    String fileName = &quot;book.txt&quot;\n    if (CollectionUtils.isNotEmpty(bookList)) {\n        File file = File.createTempFile(fileName, &quot;.txt&quot;);\n        FileWriter interfaceFileWriter = new FileWriter(file);\n        BufferedWriter interfaceBufferedWriter = new BufferedWriter(interfaceFileWriter);\n        //write to file\n        for (Book list : bookList) {\n        interfaceBufferedWriter.write(list.getDelimitedRecord(delimiter, nullValue));\n        }\n        interfaceBufferedWriter.close();\n        HttpHeaders headers = new HttpHeaders();\n        headers.setCacheControl(&quot;must-revalidate, post-check=0, pre-check=0&quot;);\n        headers.setContentDispositionFormData(fileName + &quot;.txt&quot;, fileName + &quot;.txt&quot;);\n\n        InputStreamResource resource = new InputStreamResource(new FileInputStream(file));\n        if (file != null &amp;&amp; file.exists()) {\n            listStream.add(resource);\n            return ResponseEntity.ok().contentType(MediaType.TEXT_PLAIN).headers(headers).body(resource);\n        }\n    }\n    return null;\n}\n</code></pre>\n<p>How to tell browser to download the file automatically which is ajax response (data)?</p>\n"},{"tags":["java","list","arraylist"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1701096964,"post_id":77554313,"comment_id":136729302,"body_markdown":"Have the answers to the question, of which this was judged to be a duplicate, solved the problem? If not, can you, please, edit the question to explain why they didn&#39;t help?","body":"Have the answers to the question, of which this was judged to be a duplicate, solved the problem? If not, can you, please, edit the question to explain why they didn&#39;t help?"}],"owner":{"account_id":22211564,"reputation":109,"user_id":16450641,"display_name":"Brendan R."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1701054521,"answer_count":0,"score":-1,"last_activity_date":1701054437,"creation_date":1701054117,"question_id":77554313,"body_markdown":"I have a list in Java, and I need to get a sublist of it. I am trying to avoid creating a new list and populating that, is it possible to create a list that is at the same point in memory, just shorter?\r\n```java\r\ndouble[] list1 = {1, 2, 3, 4};\r\n\r\n// later:\r\ndouble[] list2 = list1[0:2] //?\r\n````\r\nIn the example above, I want `list2` to be a sublist of 0 to 2 (`{1, 2}`).\r\nIs this possible? Or should I switch to using ArrayLists `sublist` method? I am trying to avoid this.\r\n\r\nI am trying to avoid ArrayLists, because I am using a library that requires an argument to be a `double[]` list.","title":"Get Sublist of Java List, Without Creating a New List?","body":"<p>I have a list in Java, and I need to get a sublist of it. I am trying to avoid creating a new list and populating that, is it possible to create a list that is at the same point in memory, just shorter?</p>\n<pre class=\"lang-java prettyprint-override\"><code>double[] list1 = {1, 2, 3, 4};\n\n// later:\ndouble[] list2 = list1[0:2] //?\n</code></pre>\n<p>In the example above, I want <code>list2</code> to be a sublist of 0 to 2 (<code>{1, 2}</code>).\nIs this possible? Or should I switch to using ArrayLists <code>sublist</code> method? I am trying to avoid this.</p>\n<p>I am trying to avoid ArrayLists, because I am using a library that requires an argument to be a <code>double[]</code> list.</p>\n"},{"tags":["java","list","arraylist"],"comments":[{"owner":{"account_id":4362282,"reputation":92954,"user_id":3558960,"accept_rate":60,"display_name":"Robby Cornelissen"},"score":0,"creation_date":1701054483,"post_id":77554315,"comment_id":136723397,"body_markdown":"Java is not Python, so that&#39;s not a list. It&#39;s an array. If you don&#39;t want to use (`Array`)`List`s, and you don&#39;t want to create a new array and populate that, I&#39;m afraid you&#39;re out of options.","body":"Java is not Python, so that&#39;s not a list. It&#39;s an array. If you don&#39;t want to use (<code>Array</code>)<code>List</code>s, and you don&#39;t want to create a new array and populate that, I&#39;m afraid you&#39;re out of options."},{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1701057066,"post_id":77554315,"comment_id":136723554,"body_markdown":"No, but you could implement one for read-only.  But if you want read and write but share structures, you will want to look at https://en.wikipedia.org/wiki/Persistent_data_structure","body":"No, but you could implement one for read-only.  But if you want read and write but share structures, you will want to look at <a href=\"https://en.wikipedia.org/wiki/Persistent_data_structure\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Persistent_data_structure</a>"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1701096322,"post_id":77554315,"comment_id":136729170,"body_markdown":"I suggest comments be at https://stackoverflow.com/questions/77554313/get-sublist-of-java-list-without-creating-a-new-list , which was closed for being a duplicate of an already existing question with answers.  (This was closed because it is a duplicate of that question.)","body":"I suggest comments be at <a href=\"https://stackoverflow.com/questions/77554313/get-sublist-of-java-list-without-creating-a-new-list\" title=\"get sublist of java list without creating a new list\">stackoverflow.com/questions/77554313/&hellip;</a> , which was closed for being a duplicate of an already existing question with answers.  (This was closed because it is a duplicate of that question.)"}],"owner":{"account_id":22211564,"reputation":109,"user_id":16450641,"display_name":"Brendan R."},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1701054462,"answer_count":0,"score":0,"last_activity_date":1701054124,"creation_date":1701054124,"question_id":77554315,"body_markdown":"I have a list in Java, and I need to get a sublist of it. I am trying to avoid creating a new list and populating that, is it possible to create a list that is at the same point in memory, just shorter?\r\n```java\r\ndouble[] list1 = {1, 2, 3, 4};\r\n\r\n// later:\r\ndouble[] list2 = list1[0:2] //?\r\n````\r\nIn the example above, I want `list2` to be a sublist of 0 to 2 (`{1, 2}`).\r\nIs this possible? Or should I switch to using ArrayLists `sublist` method? I am trying to avoid this.\r\n\r\nI am trying to avoid ArrayLists, because I am using a library that requires an argument to be a `double[]` list.","title":"Get Sublist of Java List, Without Creating a New List?","body":"<p>I have a list in Java, and I need to get a sublist of it. I am trying to avoid creating a new list and populating that, is it possible to create a list that is at the same point in memory, just shorter?</p>\n<pre class=\"lang-java prettyprint-override\"><code>double[] list1 = {1, 2, 3, 4};\n\n// later:\ndouble[] list2 = list1[0:2] //?\n</code></pre>\n<p>In the example above, I want <code>list2</code> to be a sublist of 0 to 2 (<code>{1, 2}</code>).\nIs this possible? Or should I switch to using ArrayLists <code>sublist</code> method? I am trying to avoid this.</p>\n<p>I am trying to avoid ArrayLists, because I am using a library that requires an argument to be a <code>double[]</code> list.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9882,"page":35,"page_size":100}
