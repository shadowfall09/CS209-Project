{"items":[{"tags":["java","algorithm","recursion","time-complexity","big-o"],"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1611183603,"post_id":65818868,"comment_id":116372885,"body_markdown":"Are you asking about how long it takes to run, or how big its output is?","body":"Are you asking about how long it takes to run, or how big its output is?"},{"owner":{"account_id":8306545,"reputation":47696,"user_id":6243352,"display_name":"ggorlen"},"score":1,"creation_date":1611183724,"post_id":65818868,"comment_id":116372910,"body_markdown":"Welcome to SO! Looks like O(log(n)) to me but it&#39;s rather ambiguous because `expIterativ`&#39;s behavior on negative numbers is unclear. If it only does work from `0 &lt; n &lt;= 4` then it&#39;s constant time and you&#39;re left with 2*log(n) == O(log(n)). I assume this function is always called with positive numbers.","body":"Welcome to SO! Looks like O(log(n)) to me but it&#39;s rather ambiguous because <code>expIterativ</code>&#39;s behavior on negative numbers is unclear. If it only does work from <code>0 &lt; n &lt;= 4</code> then it&#39;s constant time and you&#39;re left with 2*log(n) == O(log(n)). I assume this function is always called with positive numbers."},{"owner":{"account_id":20505102,"reputation":1,"user_id":15048122,"display_name":"TheCoder"},"score":0,"creation_date":1611184245,"post_id":65818868,"comment_id":116373044,"body_markdown":"Ok, thanks! Yes, expIterative only works for n &gt;= 0. But I still can&#39;t understand how to make a recurrence relation T(n) = aT(n/b) + n^c  with expRecursive.","body":"Ok, thanks! Yes, expIterative only works for n &gt;= 0. But I still can&#39;t understand how to make a recurrence relation T(n) = aT(n/b) + n^c  with expRecursive."},{"owner":{"account_id":20505102,"reputation":1,"user_id":15048122,"display_name":"TheCoder"},"score":0,"creation_date":1611189570,"post_id":65818868,"comment_id":116374213,"body_markdown":"Can someone help me to understand how to write the recurrence relation T(n) = aT(n/b) + n^c? :)","body":"Can someone help me to understand how to write the recurrence relation T(n) = aT(n/b) + n^c? :)"}],"answers":[{"comments":[{"owner":{"account_id":20505102,"reputation":1,"user_id":15048122,"display_name":"TheCoder"},"score":0,"creation_date":1611233541,"post_id":65824361,"comment_id":116388160,"body_markdown":"Why is the annotation of return expIterative(x, n) O(1)? Is this because n is bounded as you said and does not depend on n from expRecursive(x, n)? This is a little hard for me to understand since the method expIterative(x, n) itself is O(n).","body":"Why is the annotation of return expIterative(x, n) O(1)? Is this because n is bounded as you said and does not depend on n from expRecursive(x, n)? This is a little hard for me to understand since the method expIterative(x, n) itself is O(n)."},{"owner":{"account_id":352700,"reputation":5437,"user_id":689923,"accept_rate":50,"display_name":"Mo B."},"score":0,"creation_date":1611233608,"post_id":65824361,"comment_id":116388193,"body_markdown":"@TheCoder The annotatation of the *multiplication* is O(1). The annotation for the recursive calls are both `T(n/2)`.","body":"@TheCoder The annotatation of the <i>multiplication</i> is O(1). The annotation for the recursive calls are both <code>T(n&#47;2)</code>."},{"owner":{"account_id":20505102,"reputation":1,"user_id":15048122,"display_name":"TheCoder"},"score":0,"creation_date":1611233952,"post_id":65824361,"comment_id":116388359,"body_markdown":"Would the annotation for return expIterative(x,n) be O(1) no matter what the specific method has as time complexity as it is bounded? Let&#39;s say if expIterative(x, n) was O(n^2), would it still be O(1) as in the annotation you made?","body":"Would the annotation for return expIterative(x,n) be O(1) no matter what the specific method has as time complexity as it is bounded? Let&#39;s say if expIterative(x, n) was O(n^2), would it still be O(1) as in the annotation you made?"},{"owner":{"account_id":352700,"reputation":5437,"user_id":689923,"accept_rate":50,"display_name":"Mo B."},"score":0,"creation_date":1611237211,"post_id":65824361,"comment_id":116390069,"body_markdown":"@TheCoder Oh sorry, I misread your first comment. Yes, since `n` is bounded, it doesn&#39;t matter what `expIterative` does. After all, the upper bound for the number of execution steps of `expIterative` (as called from this method) is independent of `n`. (I&#39;m implicitly assuming it&#39;s also independent of `x`.)","body":"@TheCoder Oh sorry, I misread your first comment. Yes, since <code>n</code> is bounded, it doesn&#39;t matter what <code>expIterative</code> does. After all, the upper bound for the number of execution steps of <code>expIterative</code> (as called from this method) is independent of <code>n</code>. (I&#39;m implicitly assuming it&#39;s also independent of <code>x</code>.)"}],"tags":[],"owner":{"account_id":352700,"reputation":5437,"user_id":689923,"accept_rate":50,"display_name":"Mo B."},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611220762,"creation_date":1611220762,"answer_id":65824361,"question_id":65818868,"body_markdown":"To get the recurrence relation, it helps to first annotate the code:\r\n```\r\ndouble expRecursive(double x, int n) {\r\n    if (n &lt;= 4) {\r\n        return expIterativ(x, n);       // O(1) since n is bounded\r\n    }\r\n\r\n    return expRecursive(x, n/2)         // T(n/2)\r\n           *                            // O(1)\r\n           expRecursive(x, (n + 1)/2);  // T(n/2)\r\n}\r\n```\r\n\r\nSo the recurrence relation is\r\n```\r\nT(n) = O(1),              for 0 &lt;= n &lt;= 4\r\nT(n) = 2 * T(n/2) + O(1), for n &gt; 4\r\n```\r\nwhich has the solution `T(n) ∈ Ө(n)`.","title":"Time-Complexity of recursive function","body":"<p>To get the recurrence relation, it helps to first annotate the code:</p>\n<pre><code>double expRecursive(double x, int n) {\n    if (n &lt;= 4) {\n        return expIterativ(x, n);       // O(1) since n is bounded\n    }\n\n    return expRecursive(x, n/2)         // T(n/2)\n           *                            // O(1)\n           expRecursive(x, (n + 1)/2);  // T(n/2)\n}\n</code></pre>\n<p>So the recurrence relation is</p>\n<pre><code>T(n) = O(1),              for 0 &lt;= n &lt;= 4\nT(n) = 2 * T(n/2) + O(1), for n &gt; 4\n</code></pre>\n<p>which has the solution <code>T(n) ∈ Ө(n)</code>.</p>\n"}],"owner":{"account_id":20505102,"reputation":1,"user_id":15048122,"display_name":"TheCoder"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":361,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672869108,"creation_date":1611183277,"question_id":65818868,"body_markdown":"I&#39;m having some trouble determining the time complexity of this recursive function in terms of Big-O notation.\r\n\r\n````java\r\ndouble expRecursive(double x, int n) {\r\n    if (n &lt;= 4) {\r\n        return expIterativ(x, n);\r\n    }\r\n\r\n    return expRecursive(x, n/2) *\r\n           expRecursive(x, (n + 1)/2);\r\n}\r\n````\r\n(The time complexity of the method expIterative is O(n))\r\n\r\nIs the recurrence relation of expRecursive() T(n) = 2T(n/2) + n?\r\n\r\nIf this is the case I suppose T(n) = O(nlogn) after applying the master theorem?\r\n\r\nMy biggest problem is coming up with the correct recurrence relation...\r\n","title":"Time-Complexity of recursive function","body":"<p>I'm having some trouble determining the time complexity of this recursive function in terms of Big-O notation.</p>\n<pre class=\"lang-java prettyprint-override\"><code>double expRecursive(double x, int n) {\n    if (n &lt;= 4) {\n        return expIterativ(x, n);\n    }\n\n    return expRecursive(x, n/2) *\n           expRecursive(x, (n + 1)/2);\n}\n</code></pre>\n<p>(The time complexity of the method expIterative is O(n))</p>\n<p>Is the recurrence relation of expRecursive() T(n) = 2T(n/2) + n?</p>\n<p>If this is the case I suppose T(n) = O(nlogn) after applying the master theorem?</p>\n<p>My biggest problem is coming up with the correct recurrence relation...</p>\n"},{"tags":["javascript","java","android","reverse-engineering","frida"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":1,"creation_date":1672867824,"post_id":75010587,"comment_id":132372727,"body_markdown":"You could simply have edit your old question and modify it to this question. Also the link I had posted may be of use to others as it in the end contained the solution you describe in your answer.","body":"You could simply have edit your old question and modify it to this question. Also the link I had posted may be of use to others as it in the end contained the solution you describe in your answer."}],"answers":[{"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1672867871,"post_id":75010669,"comment_id":132372741,"body_markdown":"You should edit your answer and include the link I had posted on your last now deleted question as it contained the solution you have posted in this answer.","body":"You should edit your answer and include the link I had posted on your last now deleted question as it contained the solution you have posted in this answer."},{"owner":{"account_id":25660142,"reputation":55,"user_id":19425991,"display_name":"na29"},"score":0,"creation_date":1672868387,"post_id":75010669,"comment_id":132372871,"body_markdown":"@Robert yes sorry","body":"@Robert yes sorry"}],"tags":[],"owner":{"account_id":25660142,"reputation":55,"user_id":19425991,"display_name":"na29"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672868436,"creation_date":1672862372,"answer_id":75010669,"question_id":75010587,"body_markdown":"I have solved this by using `android.app.ApplicationPackageManager` instead of `android.content.pm.PackageManager`.\r\n\r\nThanks to @Robert for giving me the link to this example code: https://codeshare.frida.re/@limyout/test/","title":"Why Frida (Inject) doesn&#39;t hook getPackageInfo and other methods?","body":"<p>I have solved this by using <code>android.app.ApplicationPackageManager</code> instead of <code>android.content.pm.PackageManager</code>.</p>\n<p>Thanks to @Robert for giving me the link to this example code: <a href=\"https://codeshare.frida.re/@limyout/test/\" rel=\"nofollow noreferrer\">https://codeshare.frida.re/@limyout/test/</a></p>\n"}],"owner":{"account_id":25660142,"reputation":55,"user_id":19425991,"display_name":"na29"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":425,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75010669,"answer_count":1,"score":0,"last_activity_date":1672868436,"creation_date":1672861940,"question_id":75010587,"body_markdown":"I am having problems creating a script in JavaScript for Frida.\r\nI want to hook the `getPackageInfo` method in order to log when it is called in the console, i have overloaded the old and the new version of it using this code:\r\n```\r\n    jPM = Java.use(&#39;android.content.pm.PackageManager&#39;);\r\n    jPM.getPackageInfo.overload(&#39;java.lang.String&#39;,&#39;int&#39;).implementation=(pname,f)=&gt;{\r\n        console.warn(&quot;Called =&gt; getPackageInfo (&quot;+f+&quot;)&quot;);\r\n        return jPM.getPackageInfo.call(this,pname,f);\r\n    }\r\n    jPM.getPackageInfo.overload(&#39;android.content.pm.VersionedPackage&#39;,&#39;int&#39;).implementation=(vp,f)=&gt;{\r\n        console.warn(&quot;Called =&gt; getPackageInfo [API level 33] (&quot;+f+&quot;)&quot;);\r\n        return jPM.getPackageInfo.call(this,vp,f);\r\n    }\r\n```\r\nWhen i try to run the script I don&#39;t get any error, but I don&#39;t get any log in the console.\r\nI am sure that the method that is being called is the first, because it&#39;s signature is this in smali:\r\n\r\n```Landroid/content/pm/PackageManager;-&gt;getPackageInfo(Ljava/lang/String;I)Landroid/content/pm/PackageInfo;```\r\n\r\nI can&#39;t understand what am I doing wrong, if i use the same code to hook other methods it works. Please help me","title":"Why Frida (Inject) doesn&#39;t hook getPackageInfo and other methods?","body":"<p>I am having problems creating a script in JavaScript for Frida.\nI want to hook the <code>getPackageInfo</code> method in order to log when it is called in the console, i have overloaded the old and the new version of it using this code:</p>\n<pre><code>    jPM = Java.use('android.content.pm.PackageManager');\n    jPM.getPackageInfo.overload('java.lang.String','int').implementation=(pname,f)=&gt;{\n        console.warn(&quot;Called =&gt; getPackageInfo (&quot;+f+&quot;)&quot;);\n        return jPM.getPackageInfo.call(this,pname,f);\n    }\n    jPM.getPackageInfo.overload('android.content.pm.VersionedPackage','int').implementation=(vp,f)=&gt;{\n        console.warn(&quot;Called =&gt; getPackageInfo [API level 33] (&quot;+f+&quot;)&quot;);\n        return jPM.getPackageInfo.call(this,vp,f);\n    }\n</code></pre>\n<p>When i try to run the script I don't get any error, but I don't get any log in the console.\nI am sure that the method that is being called is the first, because it's signature is this in smali:</p>\n<p><code>Landroid/content/pm/PackageManager;-&gt;getPackageInfo(Ljava/lang/String;I)Landroid/content/pm/PackageInfo;</code></p>\n<p>I can't understand what am I doing wrong, if i use the same code to hook other methods it works. Please help me</p>\n"},{"tags":["java","mysql","spring-boot","docker","flyway"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1671671053,"post_id":74882779,"comment_id":132151142,"body_markdown":"[Dup1](https://stackoverflow.com/q/16459990/592355), [dup2](https://stackoverflow.com/q/6865538/592355) ..in your case, i think you just forgot to forward/map the port of MySQL image ... `-p 3306:3306`","body":"<a href=\"https://stackoverflow.com/q/16459990/592355\">Dup1</a>, <a href=\"https://stackoverflow.com/q/6865538/592355\">dup2</a> ..in your case, i think you just forgot to forward/map the port of MySQL image ... <code>-p 3306:3306</code>"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1672733334,"post_id":74882779,"comment_id":132335852,"body_markdown":"There is no `MYSQL_ROOT_USER` property for the container, hence the setting of the user to `sa` will not work and the user is still `root` and not `sa`.","body":"There is no <code>MYSQL_ROOT_USER</code> property for the container, hence the setting of the user to <code>sa</code> will not work and the user is still <code>root</code> and not <code>sa</code>."}],"answers":[{"tags":[],"owner":{"account_id":11289641,"reputation":11,"user_id":8279202,"display_name":"m.zolfaghari"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672733011,"creation_date":1672733011,"answer_id":74990522,"question_id":74882779,"body_markdown":"add ``` -p 3306:3306 ``` to your docker run mysql command.\r\nyour command should be like this:\r\n```\r\ndocker run -it --name mysqldb -p 3306:3306 --network=my-net -e MYSQL_ROOT_USER=sa -e \r\n MYSQL_ROOT_PASSWORD=1234 -e MYSQL_DATABASE=mydb -d mysql:latest\r\n```","title":"Running SpringBoot and MySQL with Flyway in Docker","body":"<p>add <code>-p 3306:3306</code> to your docker run mysql command.\nyour command should be like this:</p>\n<pre><code>docker run -it --name mysqldb -p 3306:3306 --network=my-net -e MYSQL_ROOT_USER=sa -e \n MYSQL_ROOT_PASSWORD=1234 -e MYSQL_DATABASE=mydb -d mysql:latest\n</code></pre>\n"},{"comments":[{"owner":{"account_id":17877766,"reputation":368,"user_id":12987334,"display_name":"continuousLearner"},"score":0,"creation_date":1672832874,"post_id":74990606,"comment_id":132360608,"body_markdown":"Thanks for the response. However, when starting the service in docker-compose, I get the same error. The service container exits and mysql runs. Only when I restart the service container, it starts properly. I had applied `restart: always` for both service and mysql. What could be the reason here?","body":"Thanks for the response. However, when starting the service in docker-compose, I get the same error. The service container exits and mysql runs. Only when I restart the service container, it starts properly. I had applied <code>restart: always</code> for both service and mysql. What could be the reason here?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1672837189,"post_id":74990606,"comment_id":132362000,"body_markdown":"Your question states nothing about docker compose, where did that rabbit come from all of a sudden? It has also nothing to do with the initial question at hand which( according to your comment) seems resolved.","body":"Your question states nothing about docker compose, where did that rabbit come from all of a sudden? It has also nothing to do with the initial question at hand which( according to your comment) seems resolved."},{"owner":{"account_id":17877766,"reputation":368,"user_id":12987334,"display_name":"continuousLearner"},"score":0,"creation_date":1672840741,"post_id":74990606,"comment_id":132363354,"body_markdown":"Absolutely, it&#39;s just the next step in the process. I wanted to somehow get it working so tried with docker-compose. Btw, I still face the connection issue while running the instance via docker commands","body":"Absolutely, it&#39;s just the next step in the process. I wanted to somehow get it working so tried with docker-compose. Btw, I still face the connection issue while running the instance via docker commands"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1672840866,"post_id":74990606,"comment_id":132363401,"body_markdown":"Then why you stated it starts properly? Did you actually modify either your user or added the other user?","body":"Then why you stated it starts properly? Did you actually modify either your user or added the other user?"},{"owner":{"account_id":17877766,"reputation":368,"user_id":12987334,"display_name":"continuousLearner"},"score":0,"creation_date":1672842427,"post_id":74990606,"comment_id":132364020,"body_markdown":"Please see the docker-compose added to the question. I have not added a new user while using docker-compose if that&#39;s the question nor while running docker commands `docker run -it --name mysqldb --network mynet -p 3306:3306 -e MYSQL_ROOT_PASSWORD=rootpass -e MYSQL_\nDATABASE=mydb -d mysql:latest`","body":"Please see the docker-compose added to the question. I have not added a new user while using docker-compose if that&#39;s the question nor while running docker commands <code>docker run -it --name mysqldb --network mynet -p 3306:3306 -e MYSQL_ROOT_PASSWORD=rootpass -e MYSQL_ DATABASE=mydb -d mysql:latest</code>"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1672842459,"post_id":74990606,"comment_id":132364031,"body_markdown":"You edited my answer not thhe question!. Nonetheless if you still use `sa` for the user in your application properties it still won&#39;t connect as that is just the wrong user.","body":"You edited my answer not thhe question!. Nonetheless if you still use <code>sa</code> for the user in your application properties it still won&#39;t connect as that is just the wrong user."},{"owner":{"account_id":17877766,"reputation":368,"user_id":12987334,"display_name":"continuousLearner"},"score":0,"creation_date":1672842516,"post_id":74990606,"comment_id":132364053,"body_markdown":"My bad, working on a tiny laptop.","body":"My bad, working on a tiny laptop."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1672842583,"post_id":74990606,"comment_id":132364083,"body_markdown":"Judging from that edit you still use `MYSQL_ROOT_USER` which doestn&#39; exists, which means you haven&#39;t changed a bit only moved to docker compose and hoped it would work.","body":"Judging from that edit you still use <code>MYSQL_ROOT_USER</code> which doestn&#39; exists, which means you haven&#39;t changed a bit only moved to docker compose and hoped it would work."},{"owner":{"account_id":17877766,"reputation":368,"user_id":12987334,"display_name":"continuousLearner"},"score":0,"creation_date":1672868205,"post_id":74990606,"comment_id":132372834,"body_markdown":"I have `username: root`  `password: rootpass`   `url: jdbc:mysql://localhost:3306/mydb?createDatabaseIfNotExist=true` in the app.yml. The following are the commands used - `docker run -it --name mysqldb -e MYSQL_ROOT_PASSWORD=rootpass -e MYSQL_DATABASE=mydb -d mysql:latest` &amp; `docker run --name app -p 8080:8080 testapp`. Please let me know what I am missing here. The database gets created on app startup via flyway initialization.","body":"I have <code>username: root</code>  <code>password: rootpass</code>   <code>url: jdbc:mysql:&#47;&#47;localhost:3306&#47;mydb?createDatabaseIfNotExist=tr&zwnj;&#8203;ue</code> in the app.yml. The following are the commands used - <code>docker run -it --name mysqldb -e MYSQL_ROOT_PASSWORD=rootpass -e MYSQL_DATABASE=mydb -d mysql:latest</code> &amp; <code>docker run --name app -p 8080:8080 testapp</code>. Please let me know what I am missing here. The database gets created on app startup via flyway initialization."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1672901707,"post_id":74990606,"comment_id":132378452,"body_markdown":"Your config is confusing and inconsistent. I have no clue on what you have now or are trying. You are throwing a docker compose in there with different settings, now you claim you aren&#39;t using it. Your question now shows conflcting information. I give up. The error is in your configuration figure out what.","body":"Your config is confusing and inconsistent. I have no clue on what you have now or are trying. You are throwing a docker compose in there with different settings, now you claim you aren&#39;t using it. Your question now shows conflcting information. I give up. The error is in your configuration figure out what."}],"tags":[],"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"comment_count":10,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672733628,"creation_date":1672733628,"answer_id":74990606,"question_id":74882779,"body_markdown":"According to [the documentation][1] of the MySQL Docker Container there is no `MYSQL_ROOT_USER` property. Hence trying to connect with user `sa` will fail as there is no user named `sa` but only `root`. \r\n\r\nIf you want to create a super-user use the `MYSQL_USER` and `MYSQL_PASSWORD`  properties.\r\n\r\n```\r\ndocker run -it --name mysqldb --network=my-net -e \r\n MYSQL_ROOT_PASSWORD=1234 -e MYSQL_USER=sa -e MYSQL_PASSWORD=1234 -e MYSQL_DATABASE=mydb -d mysql:latest\r\n```\r\n\r\nThis will change the password of the root user to `1234` and as well create a superuser named `sa` with the same password. Now the `sa` user should work (not sure what rights it has). \r\n\r\nOr simply use the `root` user instead of `sa` in your application configuration. \r\n\r\n```\r\nspring:\r\n  application:\r\n    name: manager-app\r\n  datasource:\r\n    url: jdbc:mysql://mysqldb:3306/mydb?useSSL=false\r\n    driverClassName: com.mysql.cj.jdbc.Driver\r\n    username: root\r\n    password: 1234\r\n```\r\n\r\n[1]: https://hub.docker.com/_/mysql ","title":"Running SpringBoot and MySQL with Flyway in Docker","body":"<p>According to <a href=\"https://hub.docker.com/_/mysql\" rel=\"nofollow noreferrer\">the documentation</a> of the MySQL Docker Container there is no <code>MYSQL_ROOT_USER</code> property. Hence trying to connect with user <code>sa</code> will fail as there is no user named <code>sa</code> but only <code>root</code>.</p>\n<p>If you want to create a super-user use the <code>MYSQL_USER</code> and <code>MYSQL_PASSWORD</code>  properties.</p>\n<pre><code>docker run -it --name mysqldb --network=my-net -e \n MYSQL_ROOT_PASSWORD=1234 -e MYSQL_USER=sa -e MYSQL_PASSWORD=1234 -e MYSQL_DATABASE=mydb -d mysql:latest\n</code></pre>\n<p>This will change the password of the root user to <code>1234</code> and as well create a superuser named <code>sa</code> with the same password. Now the <code>sa</code> user should work (not sure what rights it has).</p>\n<p>Or simply use the <code>root</code> user instead of <code>sa</code> in your application configuration.</p>\n<pre><code>spring:\n  application:\n    name: manager-app\n  datasource:\n    url: jdbc:mysql://mysqldb:3306/mydb?useSSL=false\n    driverClassName: com.mysql.cj.jdbc.Driver\n    username: root\n    password: 1234\n</code></pre>\n"}],"owner":{"account_id":17877766,"reputation":368,"user_id":12987334,"display_name":"continuousLearner"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":601,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1672868403,"creation_date":1671665648,"question_id":74882779,"body_markdown":"Starting the spring boot application with a docker mysql instance ends up in the below exception. I have started the mysql docker instance and was able to view the databases via cli. I am not using docker-compose but docker commands as I am setting it up. I am following [this](https://www.javainuse.com/devOps/docker/docker-mysql) to run springboot/mysql in docker. However, only additional component which is not mentioned in the link is the usage of Flyway. \r\n\r\n\r\nI started the mysql container in a network\r\n\r\n    docker run -it --name mysqldb --network=my-net -e MYSQL_ROOT_USER=sa -e \r\n     MYSQL_ROOT_PASSWORD=1234 -e MYSQL_DATABASE=mydb -d mysql:latest\r\n\r\n\r\nAnd then the springboot container in the same network which ends up in the below error\r\n\r\n    docker run --network=my-net --name manager-app -p 8080:8080 -d manager-app\r\n\r\nBelow is the container log of manager-app\r\n\r\n\r\n\t\t\t--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n\t\t\tSQL State  : 08S01\r\n\t\t\tError Code : 0\r\n\t\t\tMessage    : Communications link failure\r\n\r\n\t\t\tThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\n\r\n\t\t\t\t\tat org.flywaydb.core.internal.jdbc.JdbcUtils.openConnection(JdbcUtils.java:60) ~[flyway-core-8.5.13.jar!/:na]\r\n\t\t\t\t\tat org.flywaydb.core.internal.jdbc.JdbcConnectionFactory.&lt;init&gt;(JdbcConnectionFactory.java:75) ~[flyway-core-8.5.13.jar!/:na]\r\n\t\t\t\t\tat org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:147) ~[flyway-core-8.5.13.jar!/:na]\r\n\t\t\t\t\tat org.flywaydb.core.Flyway.migrate(Flyway.java:124) ~[flyway-core-8.5.13.jar!/:na]\r\n\t\t\t\t\tat org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66) ~[spring-boot-autoconfigure-2.7.7-SNAPSHOT.jar!/:2.7.7-SNAPSHOT]\r\n\t\t\t\t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.24.jar!/:5.3.24]\r\n\t\t\t\t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.24.jar!/:5.3.24]\r\n\t\t\t\t\t... 26 common frames omitted\r\n\t\t\tCaused by: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure\r\n\r\n\t\t\tThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\n\t\t\t\t\tat com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\r\n\t\t\t\t\tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\r\n\t\t\t\t\tat com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:828) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\r\n\t\t\t\t\tat com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:448) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\r\n\t\t\t\t\tat com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:241) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\r\n\t\t\t\t\tat com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\r\n\t\t\t\t\tat com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-4.0.3.jar!/:na]\r\n\t\t\t\t\tat com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364) ~[HikariCP-4.0.3.jar!/:na]\r\n\t\t\t\t\tat com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206) ~[HikariCP-4.0.3.jar!/:na]\r\n\t\t\t\t\tat com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476) ~[HikariCP-4.0.3.jar!/:na]\r\n\t\t\t\t\tat com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-4.0.3.jar!/:na]\r\n\t\t\t\t\tat com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115) ~[HikariCP-4.0.3.jar!/:na]\r\n\t\t\t\t\tat com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-4.0.3.jar!/:na]\r\n\t\t\t\t\tat org.flywaydb.core.internal.jdbc.JdbcUtils.openConnection(JdbcUtils.java:48) ~[flyway-core-8.5.13.jar!/:na]\r\n\t\t\t\t\t... 32 common frames omitted\r\n\t\t\tCaused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure\r\n\r\n\t\t\tThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\n\t\t\t\t\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\r\n\t\t\t\t\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:na]\r\n\t\t\t\t\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\r\n\t\t\t\t\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490) ~[na:na]\r\n\t\t\t\t\tat com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\r\n\t\t\t\t\tat com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\r\n\t\t\t\t\tat com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\r\n\t\t\t\t\tat com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\r\n\t\t\t\t\tat com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:89) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\r\n\t\t\t\t\tat com.mysql.cj.NativeSession.connect(NativeSession.java:120) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\r\n\t\t\t\t\tat com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:948) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\r\n\t\t\t\t\tat com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:818) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\r\n\t\t\t\t\t... 43 common frames omitted\r\n\t\t\tCaused by: java.net.ConnectException: Connection refused (Connection refused)\r\n\t\t\t\t\tat java.base/java.net.PlainSocketImpl.socketConnect(Native Method) ~[na:na]\r\n\t\t\t\t\tat java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399) ~[na:na]\r\n\t\t\t\t\tat java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242) ~[na:na]\r\n\t\t\t\t\tat java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224) ~[na:na]\r\n\t\t\t\t\tat java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:na]\r\n\t\t\t\t\tat java.base/java.net.Socket.connect(Socket.java:609) ~[na:na]\r\n\t\t\t\t\tat com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:153) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\r\n\t\t\t\t\tat com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:63) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\r\n\t\t\t\t\t... 46 common frames omitted\r\n\r\nI tried localhost and container name in the jdbc url but did not help. I am using the below configurations.\r\n\r\npom.xml\r\n\r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n            &lt;version&gt;8.0.31&lt;/version&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\r\n            &lt;artifactId&gt;flyway-core&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\r\n            &lt;artifactId&gt;flyway-mysql&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\napplication.yml\r\n    \r\n    server:\r\n      port: 8080\r\n\r\n\tspring:\r\n\t  application:\r\n\t\tname: manager-app\r\n\t  datasource:\r\n\t\turl: jdbc:mysql://mysqldb:3306/mydb?useSSL=false\r\n\t\tdriverClassName: com.mysql.cj.jdbc.Driver\r\n\t\tusername: root\r\n\t\tpassword: rootpass\r\n\r\n\t  profiles:\r\n\t\tactive: dev\r\n\r\n\t  jpa:\r\n\t\tshow-sql: true\r\n\t\tproperties:\r\n\t\t  hibernate:\r\n\t\t\tdialect: org.hibernate.dialect.MySQL5InnoDBDialect\r\n\t\t\tddl-auto: update\r\n\t  h2:\r\n\t\tconsole:\r\n\t\t  enabled: true\r\n\t  flyway:\r\n\t\tlocations: classpath:db/migration\r\n\r\nMy target is to get the springboot service with Flyway and MySQL run in docker environment. Is there anything I am missing here? I am new to Flyway. Any help/hint is much appreciated. Thanks!","title":"Running SpringBoot and MySQL with Flyway in Docker","body":"<p>Starting the spring boot application with a docker mysql instance ends up in the below exception. I have started the mysql docker instance and was able to view the databases via cli. I am not using docker-compose but docker commands as I am setting it up. I am following <a href=\"https://www.javainuse.com/devOps/docker/docker-mysql\" rel=\"nofollow noreferrer\">this</a> to run springboot/mysql in docker. However, only additional component which is not mentioned in the link is the usage of Flyway.</p>\n<p>I started the mysql container in a network</p>\n<pre><code>docker run -it --name mysqldb --network=my-net -e MYSQL_ROOT_USER=sa -e \n MYSQL_ROOT_PASSWORD=1234 -e MYSQL_DATABASE=mydb -d mysql:latest\n</code></pre>\n<p>And then the springboot container in the same network which ends up in the below error</p>\n<pre><code>docker run --network=my-net --name manager-app -p 8080:8080 -d manager-app\n</code></pre>\n<p>Below is the container log of manager-app</p>\n<pre><code>        --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\n        SQL State  : 08S01\n        Error Code : 0\n        Message    : Communications link failure\n\n        The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\n\n                at org.flywaydb.core.internal.jdbc.JdbcUtils.openConnection(JdbcUtils.java:60) ~[flyway-core-8.5.13.jar!/:na]\n                at org.flywaydb.core.internal.jdbc.JdbcConnectionFactory.&lt;init&gt;(JdbcConnectionFactory.java:75) ~[flyway-core-8.5.13.jar!/:na]\n                at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:147) ~[flyway-core-8.5.13.jar!/:na]\n                at org.flywaydb.core.Flyway.migrate(Flyway.java:124) ~[flyway-core-8.5.13.jar!/:na]\n                at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66) ~[spring-boot-autoconfigure-2.7.7-SNAPSHOT.jar!/:2.7.7-SNAPSHOT]\n                at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.24.jar!/:5.3.24]\n                at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.24.jar!/:5.3.24]\n                ... 26 common frames omitted\n        Caused by: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure\n\n        The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\n                at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\n                at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\n                at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:828) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\n                at com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:448) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\n                at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:241) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\n                at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\n                at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-4.0.3.jar!/:na]\n                at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364) ~[HikariCP-4.0.3.jar!/:na]\n                at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206) ~[HikariCP-4.0.3.jar!/:na]\n                at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476) ~[HikariCP-4.0.3.jar!/:na]\n                at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-4.0.3.jar!/:na]\n                at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115) ~[HikariCP-4.0.3.jar!/:na]\n                at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-4.0.3.jar!/:na]\n                at org.flywaydb.core.internal.jdbc.JdbcUtils.openConnection(JdbcUtils.java:48) ~[flyway-core-8.5.13.jar!/:na]\n                ... 32 common frames omitted\n        Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure\n\n        The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\n                at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\n                at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:na]\n                at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\n                at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490) ~[na:na]\n                at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\n                at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\n                at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\n                at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\n                at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:89) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\n                at com.mysql.cj.NativeSession.connect(NativeSession.java:120) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\n                at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:948) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\n                at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:818) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\n                ... 43 common frames omitted\n        Caused by: java.net.ConnectException: Connection refused (Connection refused)\n                at java.base/java.net.PlainSocketImpl.socketConnect(Native Method) ~[na:na]\n                at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399) ~[na:na]\n                at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242) ~[na:na]\n                at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224) ~[na:na]\n                at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:na]\n                at java.base/java.net.Socket.connect(Socket.java:609) ~[na:na]\n                at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:153) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\n                at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:63) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\n                ... 46 common frames omitted\n</code></pre>\n<p>I tried localhost and container name in the jdbc url but did not help. I am using the below configurations.</p>\n<p>pom.xml</p>\n<pre><code>      &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;version&gt;8.0.31&lt;/version&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\n        &lt;artifactId&gt;flyway-core&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\n        &lt;artifactId&gt;flyway-mysql&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>application.yml</p>\n<pre><code>server:\n  port: 8080\n\nspring:\n  application:\n    name: manager-app\n  datasource:\n    url: jdbc:mysql://mysqldb:3306/mydb?useSSL=false\n    driverClassName: com.mysql.cj.jdbc.Driver\n    username: root\n    password: rootpass\n\n  profiles:\n    active: dev\n\n  jpa:\n    show-sql: true\n    properties:\n      hibernate:\n        dialect: org.hibernate.dialect.MySQL5InnoDBDialect\n        ddl-auto: update\n  h2:\n    console:\n      enabled: true\n  flyway:\n    locations: classpath:db/migration\n</code></pre>\n<p>My target is to get the springboot service with Flyway and MySQL run in docker environment. Is there anything I am missing here? I am new to Flyway. Any help/hint is much appreciated. Thanks!</p>\n"},{"tags":["java","http","serversocket"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1672847293,"post_id":75007883,"comment_id":132365971,"body_markdown":"Have you debugged this? Does the file exist? &quot;Connection reset&quot; sounds like an `Exception` is being thrown. I recommend not to include the `size` in the loop, but just write the data to the file until `fis.read` returns `-1`. Or even simpler: use [`transferTo`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/InputStream.html#transferTo(java.io.OutputStream)).","body":"Have you debugged this? Does the file exist? &quot;Connection reset&quot; sounds like an <code>Exception</code> is being thrown. I recommend not to include the <code>size</code> in the loop, but just write the data to the file until <code>fis.read</code> returns <code>-1</code>. Or even simpler: use <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/InputStream.html#transferTo(java.io.OutputStream)\" rel=\"nofollow noreferrer\"><code>transferTo</code></a>."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1672847499,"post_id":75007883,"comment_id":132366047,"body_markdown":"Also `application/force-download` might not reliably cause the client to download the data: https://stackoverflow.com/questions/10615797/utility-of-http-header-content-type-application-force-download-for-mobile","body":"Also <code>application&#47;force-download</code> might not reliably cause the client to download the data: <a href=\"https://stackoverflow.com/questions/10615797/utility-of-http-header-content-type-application-force-download-for-mobile\" title=\"utility of http header content type application force download for mobile\">stackoverflow.com/questions/10615797/&hellip;</a>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1672848431,"post_id":75007883,"comment_id":132366427,"body_markdown":"How are you running the server and what url do you use to connect to it?","body":"How are you running the server and what url do you use to connect to it?"}],"answers":[{"comments":[{"owner":{"account_id":25589,"reputation":562161,"user_id":65863,"accept_rate":75,"display_name":"Remy Lebeau"},"score":0,"creation_date":1672942552,"post_id":75011471,"comment_id":132392302,"body_markdown":"@f1sh Regarding concatenation, if you read the link I posted, you&#39;d see that using `operator+` to concat an integer creates a temporary `StringBuilder` to convert the integer to a `String`. If you had a bunch of values to concat, that would be inefficient. Better to use `String.valueOf()` for individual values, or use a single explicit `StringBuilder` to build up the final `String` entirely","body":"@f1sh Regarding concatenation, if you read the link I posted, you&#39;d see that using <code>operator+</code> to concat an integer creates a temporary <code>StringBuilder</code> to convert the integer to a <code>String</code>. If you had a bunch of values to concat, that would be inefficient. Better to use <code>String.valueOf()</code> for individual values, or use a single explicit <code>StringBuilder</code> to build up the final <code>String</code> entirely"}],"tags":[],"owner":{"account_id":25589,"reputation":562161,"user_id":65863,"accept_rate":75,"display_name":"Remy Lebeau"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1672867620,"creation_date":1672867282,"answer_id":75011471,"question_id":75007883,"body_markdown":"`application/force-download` is not a valid media type (see https://stackoverflow.com/questions/10615797/).\r\n\r\nYou could use `application/octet-stream` instead, but a better option is to send the correct media type for the file type, ie `application/pdf` for a PDF file, etc (see https://stackoverflow.com/questions/51438/), and then send a separate [`Content-Disposition: attachment`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Disposition) header to trigger a download.\r\n\r\nAlso, when creating the `Content-Length` header, it is more efficient to use `String.valueOf()` or `String.format()` to convert the `size` integer to a `String`, rather than letting the `operator+` do the conversion implicitly (see [Concatenate integers to a String in Java](https://www.techiedelight.com/concatenate-integers-to-string-java/) for why).\r\n \r\nTry this:\r\n\r\n```\r\nvoid binaryResponse(OutputStream clientOutput, File file) throws IOException {\r\n    int size = (int) file.length();\r\n    String responseStr = &quot;HTTP/1.1 200 OK\\r\\n&quot;;\r\n    responseStr += &quot;Content-Type: application/octet-stream\\r\\n&quot;;\r\n    responseStr += &quot;Content-Length: &quot; + String.valueOf(size) + &quot;\\r\\n&quot;;\r\n    responseStr += &quot;Content-Disposition: attachment; filename=\\&quot;&quot; + file.getName() + &quot;\\&quot;\\r\\n\\r\\n&quot;;\r\n\r\n    clientOutput.write(responseStr.getBytes());\r\n\r\n    FileInputStream fis = new FileInputStream(file);\r\n    int bytes;\r\n    byte[] buffer = new byte[4*1024];\r\n    while (size &gt; 0 &amp;&amp; (bytes = fis.read(buffer, 0, Math.min(buffer.length, size))) != -1){\r\n        clientOutput.write(buffer, 0, bytes);\r\n        size -= bytes;\r\n    }\r\n\r\n    clientOutput.flush();\r\n    fis.close();\r\n}","title":"How to send a video file from Java server socket to browser for downloading?","body":"<p><code>application/force-download</code> is not a valid media type (see <a href=\"https://stackoverflow.com/questions/10615797/\">Utility of HTTP header &quot;Content-Type: application/force-download&quot; for mobile?</a>).</p>\n<p>You could use <code>application/octet-stream</code> instead, but a better option is to send the correct media type for the file type, ie <code>application/pdf</code> for a PDF file, etc (see <a href=\"https://stackoverflow.com/questions/51438/\">How to get a file&#39;s Media Type (MIME type)?</a>), and then send a separate <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Disposition\" rel=\"nofollow noreferrer\"><code>Content-Disposition: attachment</code></a> header to trigger a download.</p>\n<p>Also, when creating the <code>Content-Length</code> header, it is more efficient to use <code>String.valueOf()</code> or <code>String.format()</code> to convert the <code>size</code> integer to a <code>String</code>, rather than letting the <code>operator+</code> do the conversion implicitly (see <a href=\"https://www.techiedelight.com/concatenate-integers-to-string-java/\" rel=\"nofollow noreferrer\">Concatenate integers to a String in Java</a> for why).</p>\n<p>Try this:</p>\n<pre><code>void binaryResponse(OutputStream clientOutput, File file) throws IOException {\n    int size = (int) file.length();\n    String responseStr = &quot;HTTP/1.1 200 OK\\r\\n&quot;;\n    responseStr += &quot;Content-Type: application/octet-stream\\r\\n&quot;;\n    responseStr += &quot;Content-Length: &quot; + String.valueOf(size) + &quot;\\r\\n&quot;;\n    responseStr += &quot;Content-Disposition: attachment; filename=\\&quot;&quot; + file.getName() + &quot;\\&quot;\\r\\n\\r\\n&quot;;\n\n    clientOutput.write(responseStr.getBytes());\n\n    FileInputStream fis = new FileInputStream(file);\n    int bytes;\n    byte[] buffer = new byte[4*1024];\n    while (size &gt; 0 &amp;&amp; (bytes = fis.read(buffer, 0, Math.min(buffer.length, size))) != -1){\n        clientOutput.write(buffer, 0, bytes);\n        size -= bytes;\n    }\n\n    clientOutput.flush();\n    fis.close();\n}\n</code></pre>\n"}],"owner":{"account_id":17191993,"reputation":55,"user_id":12445607,"display_name":"MD. MEHEDI IMAM"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672867620,"creation_date":1672847023,"question_id":75007883,"body_markdown":"I am trying to implement a server using Java. When I try to send a file, such as video or pdf, the connection is always reset. I am currently using OpenJDK 11 and Ubuntu.\r\n\r\n```java\r\nvoid binaryResponse(OutputStream clientOutput, File file) throws IOException {\r\n\r\n    int size= (int) file.length();\r\n    String responseStr=&quot;HTTP/1.1 200 OK\\r\\n&quot;;\r\n    responseStr+=&quot;Content-Type: application/force-download\\r\\n&quot;;\r\n    responseStr+=&quot;Content-Length: &quot; + size + &quot;\\r\\n\\r\\n&quot;;\r\n\r\n    clientOutput.write(responseStr.getBytes());\r\n\r\n    FileInputStream fis = new FileInputStream(file);\r\n    int bytes;\r\n    byte[] buffer = new byte[4*1024];\r\n    while (size &gt; 0 &amp;&amp; (bytes = fis.read(buffer, 0, Math.min(buffer.length, size))) != -1){\r\n        clientOutput.write(buffer, 0, bytes);\r\n        size -= bytes;\r\n    }\r\n\r\n    clientOutput.flush();\r\n    fis.close();\r\n}\r\n```","title":"How to send a video file from Java server socket to browser for downloading?","body":"<p>I am trying to implement a server using Java. When I try to send a file, such as video or pdf, the connection is always reset. I am currently using OpenJDK 11 and Ubuntu.</p>\n<pre class=\"lang-java prettyprint-override\"><code>void binaryResponse(OutputStream clientOutput, File file) throws IOException {\n\n    int size= (int) file.length();\n    String responseStr=&quot;HTTP/1.1 200 OK\\r\\n&quot;;\n    responseStr+=&quot;Content-Type: application/force-download\\r\\n&quot;;\n    responseStr+=&quot;Content-Length: &quot; + size + &quot;\\r\\n\\r\\n&quot;;\n\n    clientOutput.write(responseStr.getBytes());\n\n    FileInputStream fis = new FileInputStream(file);\n    int bytes;\n    byte[] buffer = new byte[4*1024];\n    while (size &gt; 0 &amp;&amp; (bytes = fis.read(buffer, 0, Math.min(buffer.length, size))) != -1){\n        clientOutput.write(buffer, 0, bytes);\n        size -= bytes;\n    }\n\n    clientOutput.flush();\n    fis.close();\n}\n</code></pre>\n"},{"tags":["java","android","webview","qr-code"],"comments":[{"owner":{"account_id":20662432,"reputation":1076,"user_id":15170120,"display_name":"TarHalda"},"score":0,"creation_date":1672845726,"post_id":75007516,"comment_id":132365294,"body_markdown":"Please add some code to show what you currently have - that will make it much easier for us to help you find the problem and will increase the value for future visitors.","body":"Please add some code to show what you currently have - that will make it much easier for us to help you find the problem and will increase the value for future visitors."}],"answers":[{"tags":[],"owner":{"account_id":19615181,"reputation":732,"user_id":15394019,"display_name":"mindoverflow"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672857019,"creation_date":1672857019,"answer_id":75009736,"question_id":75007516,"body_markdown":"It might help us to approach this problem in phases.\r\n\r\n* Tasks\r\n  * Set up QR Code &#39;grabber&#39;.\r\n  * Set up grabbed QR Code &#39;parser&#39;.\r\n  * Set up WebView component initialized to load &#39;google.com&#39; in stable efficient manner.\r\n  * Set up basic JS interop for DOM manipulation. [Best to use native Android API for JS interop](https://developer.android.com/develop/ui/views/layout/webapps/webview). Every time we&#39;re just making one simple pass from App to WebView anyway, aka the representation of the QR Code.\r\n  * Make sure QR Code &#39;parsed&#39; data is converted to __HTML friendly string__.\r\n  * _In the meantime, we just load up google and inspect the seachbox and search button DOM element vars for the Google main page. This is not really app related_.\r\n  * We target these DOM element vars, set the search box text to final converted parsed data, activate the search submit button via JS and we should be more or less on the right path.\r\n\r\nPersonally, I&#39;d possibly just load the QR Code stuff directly so it gets handled fairly proper by native WebView framework. This will mitigate well for general situations. But any time we allow end-users to interact with DOM like that we are inviting exponential __JS havoc__. To be honest this would be a rather alarming feature to have on an official app.","title":"How can I apply the QR Code scanner to my webview application and then put the QR Code in the Google search engine, for example","body":"<p>It might help us to approach this problem in phases.</p>\n<ul>\n<li>Tasks\n<ul>\n<li>Set up QR Code 'grabber'.</li>\n<li>Set up grabbed QR Code 'parser'.</li>\n<li>Set up WebView component initialized to load 'google.com' in stable efficient manner.</li>\n<li>Set up basic JS interop for DOM manipulation. <a href=\"https://developer.android.com/develop/ui/views/layout/webapps/webview\" rel=\"nofollow noreferrer\">Best to use native Android API for JS interop</a>. Every time we're just making one simple pass from App to WebView anyway, aka the representation of the QR Code.</li>\n<li>Make sure QR Code 'parsed' data is converted to <strong>HTML friendly string</strong>.</li>\n<li><em>In the meantime, we just load up google and inspect the seachbox and search button DOM element vars for the Google main page. This is not really app related</em>.</li>\n<li>We target these DOM element vars, set the search box text to final converted parsed data, activate the search submit button via JS and we should be more or less on the right path.</li>\n</ul>\n</li>\n</ul>\n<p>Personally, I'd possibly just load the QR Code stuff directly so it gets handled fairly proper by native WebView framework. This will mitigate well for general situations. But any time we allow end-users to interact with DOM like that we are inviting exponential <strong>JS havoc</strong>. To be honest this would be a rather alarming feature to have on an official app.</p>\n"}],"owner":{"account_id":27431874,"reputation":1,"user_id":20928427,"display_name":"Bilal Alkahalaifeh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":192,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672867601,"creation_date":1672845318,"question_id":75007516,"body_markdown":"How can I apply the QR Code scanner to my Webview application in android studio and then put the QRCode in the Google search engine, for example, the application now puts the QR Code in the result box. Please help me.\r\n\r\n```    \r\npublic class MainActivity extends AppCompatActivity {\r\n    Button btn_scan;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        btn_scan = findViewById(R.id.btn_scan);\r\n        btn_scan.setOnClickListener(v -&gt; {\r\n            scanCode();\r\n        });\r\n    }\r\n\r\n    private void scanCode() {\r\n        ScanOptions options = new ScanOptions();\r\n        options.setPrompt(&quot;Volume up to flash on&quot;);\r\n        options.setBeepEnabled(true);\r\n        options.setOrientationLocked(true);\r\n        options.setCaptureActivity(CaptureAct.class);\r\n        barlaucher.launch(options);\r\n    }\r\n\r\n    ActivityResultLauncher&lt;ScanOptions&gt; barlaucher = registerForActivityResult(new ScanContract(), result -&gt; {\r\n        if (result.getContents() != null) {\r\n            AlertDialog.Builder builder = new AlertDialog.Builder(MainActivity.this);\r\n            builder.setTitle(&quot;Result&quot;);\r\n            builder.setMessage(result.getContents());\r\n            builder.setPositiveButton(&quot;ok&quot;, new DialogInterface.OnClickListener() {\r\n                @Override\r\n                public void onClick(DialogInterface dialogInterface, int i) {\r\n                    dialogInterface.dismiss();\r\n                }\r\n            }).show();\r\n        }\r\n    });\r\n}\r\n```\r\n","title":"How can I apply the QR Code scanner to my webview application and then put the QR Code in the Google search engine, for example","body":"<p>How can I apply the QR Code scanner to my Webview application in android studio and then put the QRCode in the Google search engine, for example, the application now puts the QR Code in the result box. Please help me.</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n    Button btn_scan;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        btn_scan = findViewById(R.id.btn_scan);\n        btn_scan.setOnClickListener(v -&gt; {\n            scanCode();\n        });\n    }\n\n    private void scanCode() {\n        ScanOptions options = new ScanOptions();\n        options.setPrompt(&quot;Volume up to flash on&quot;);\n        options.setBeepEnabled(true);\n        options.setOrientationLocked(true);\n        options.setCaptureActivity(CaptureAct.class);\n        barlaucher.launch(options);\n    }\n\n    ActivityResultLauncher&lt;ScanOptions&gt; barlaucher = registerForActivityResult(new ScanContract(), result -&gt; {\n        if (result.getContents() != null) {\n            AlertDialog.Builder builder = new AlertDialog.Builder(MainActivity.this);\n            builder.setTitle(&quot;Result&quot;);\n            builder.setMessage(result.getContents());\n            builder.setPositiveButton(&quot;ok&quot;, new DialogInterface.OnClickListener() {\n                @Override\n                public void onClick(DialogInterface dialogInterface, int i) {\n                    dialogInterface.dismiss();\n                }\n            }).show();\n        }\n    });\n}\n</code></pre>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":19615181,"reputation":732,"user_id":15394019,"display_name":"mindoverflow"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672867095,"creation_date":1672867095,"answer_id":75011449,"question_id":75006506,"body_markdown":"We should **NOT** do this. These params are there for testing convenience.\r\n\r\nWe should **NEVER** store **ANY** crucial, personal, sensitive information as plaintext.\r\n\r\nThe testing key passwords and stuff just use dummy values. The actual release key we generate via AndroidStudio or Java keystore directly.\r\n\r\nFor PlayStore app releases, key files I usually let Google assign, manage and maintain via Developer Dashboard.","title":"Android Studio singningConfigs, is it safe to include the password?","body":"<p>We should <strong>NOT</strong> do this. These params are there for testing convenience.</p>\n<p>We should <strong>NEVER</strong> store <strong>ANY</strong> crucial, personal, sensitive information as plaintext.</p>\n<p>The testing key passwords and stuff just use dummy values. The actual release key we generate via AndroidStudio or Java keystore directly.</p>\n<p>For PlayStore app releases, key files I usually let Google assign, manage and maintain via Developer Dashboard.</p>\n"}],"owner":{"account_id":21079421,"reputation":85,"user_id":15494076,"display_name":"web216"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75011449,"answer_count":1,"score":1,"last_activity_date":1672867095,"creation_date":1672840514,"question_id":75006506,"body_markdown":"My question is that there is a section in the gradle file called signingConfigs.\r\nIs it a problem if the password is entered here?\r\nShould I be worried about this?\r\nThanks.[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Ch9YM.png","title":"Android Studio singningConfigs, is it safe to include the password?","body":"<p>My question is that there is a section in the gradle file called signingConfigs.\nIs it a problem if the password is entered here?\nShould I be worried about this?\nThanks.<a href=\"https://i.stack.imgur.com/Ch9YM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ch9YM.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","string","character-encoding","stdin"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1672867575,"post_id":75011444,"comment_id":132372656,"body_markdown":"What does `chcp` give in cmd.exe?","body":"What does <code>chcp</code> give in cmd.exe?"},{"owner":{"account_id":24821485,"reputation":82,"user_id":18701785,"display_name":"rfl890"},"score":0,"creation_date":1672867679,"post_id":75011444,"comment_id":132372682,"body_markdown":"@g00se `Active code page: 437`","body":"@g00se <code>Active code page: 437</code>"},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1672867779,"post_id":75011444,"comment_id":132372716,"body_markdown":"It is possible that the characters that you are testing with are interpreted differently (in terms of bytes) this would be true if one console is expecting utf-8 characters and other is using a different text format.","body":"It is possible that the characters that you are testing with are interpreted differently (in terms of bytes) this would be true if one console is expecting utf-8 characters and other is using a different text format."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1672867912,"post_id":75011444,"comment_id":132372758,"body_markdown":"That&#39;s a type of [ASCII](https://en.m.wikipedia.org/wiki/Code_page_437). You could try changing the code page to the utf-8 equivalent but you might be better off trying powershell","body":"That&#39;s a type of <a href=\"https://en.m.wikipedia.org/wiki/Code_page_437\" rel=\"nofollow noreferrer\">ASCII</a>. You could try changing the code page to the utf-8 equivalent but you might be better off trying powershell"},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":1,"creation_date":1672867913,"post_id":75011444,"comment_id":132372759,"body_markdown":"Why don&#39;t you remove the `Readers` from System.in and try reading in the bytes as raw bytes?","body":"Why don&#39;t you remove the <code>Readers</code> from System.in and try reading in the bytes as raw bytes?"},{"owner":{"account_id":24821485,"reputation":82,"user_id":18701785,"display_name":"rfl890"},"score":0,"creation_date":1672868338,"post_id":75011444,"comment_id":132372860,"body_markdown":"@user16320675 I have tried changing the code page, this just turns every character into a null byte (0). And using `System.in.read` returns the same results (65, or 0 with `chcp 65001`.)","body":"@user16320675 I have tried changing the code page, this just turns every character into a null byte (0). And using <code>System.in.read</code> returns the same results (65, or 0 with <code>chcp 65001</code>.)"}],"owner":{"account_id":24821485,"reputation":82,"user_id":18701785,"display_name":"rfl890"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672867066,"creation_date":1672867066,"question_id":75011444,"body_markdown":"While reading input from the console via cmd.exe using Java, I noticed that if I input a string with Chinese characters (`你好`), it would always return a 65 (Char code for ?) in place of the character. The characters display correctly inside my terminal.  \r\n\r\n[![enter image description here][1]][1]  \r\n\r\n I have also set the encoding for the `InputStreamReader` and in `-Dfile.encoding` to UTF-8 (also tried Windows-1252, and it returns the same results).  I used both Java 8 and 17.\r\n\r\nHere is the code I used:\r\n```java\r\nimport java.io.BufferedReader;\r\nimport java.io.IOException;\r\nimport java.io.InputStreamReader;\r\nimport java.nio.charset.StandardCharsets;\r\nimport java.util.stream.Collectors;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) throws IOException {\r\n        BufferedReader reader = new BufferedReader(new InputStreamReader(System.in, StandardCharsets.UTF_8));\r\n        String in = reader.readLine();\r\n        String chars = in.codePoints()\r\n                .mapToObj(Integer::toString)\r\n                .collect(Collectors.joining(&quot;,&quot;));\r\n        System.out.println(chars);\r\n    }\r\n}\r\n```\r\n\r\nWhen I tested with another language (Node.js), it returned the correct set of bytes for the characters I input (`228,189,160,229,165,189`).\r\n\r\nHere is the code I used to test in Node.js:\r\n```javascript\r\nconst readline = require(&quot;readline&quot;);\r\nconst rl = readline.createInterface(process.stdin);\r\n\r\nrl.question(&quot;&quot;, (result) =&gt; console.log(new TextEncoder().encode(result).join(&quot;,&quot;)));\r\n```\r\n\r\nHow can I get the correct string from stdin?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/I9vCh.png","title":"Java - Unicode input in cmd.exe doesn&#39;t match from other languages (like Node)","body":"<p>While reading input from the console via cmd.exe using Java, I noticed that if I input a string with Chinese characters (<code>你好</code>), it would always return a 65 (Char code for ?) in place of the character. The characters display correctly inside my terminal.</p>\n<p><a href=\"https://i.stack.imgur.com/I9vCh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/I9vCh.png\" alt=\"enter image description here\" /></a></p>\n<p>I have also set the encoding for the <code>InputStreamReader</code> and in <code>-Dfile.encoding</code> to UTF-8 (also tried Windows-1252, and it returns the same results).  I used both Java 8 and 17.</p>\n<p>Here is the code I used:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.nio.charset.StandardCharsets;\nimport java.util.stream.Collectors;\n\npublic class Main {\n    public static void main(String[] args) throws IOException {\n        BufferedReader reader = new BufferedReader(new InputStreamReader(System.in, StandardCharsets.UTF_8));\n        String in = reader.readLine();\n        String chars = in.codePoints()\n                .mapToObj(Integer::toString)\n                .collect(Collectors.joining(&quot;,&quot;));\n        System.out.println(chars);\n    }\n}\n</code></pre>\n<p>When I tested with another language (Node.js), it returned the correct set of bytes for the characters I input (<code>228,189,160,229,165,189</code>).</p>\n<p>Here is the code I used to test in Node.js:</p>\n<pre class=\"lang-js prettyprint-override\"><code>const readline = require(&quot;readline&quot;);\nconst rl = readline.createInterface(process.stdin);\n\nrl.question(&quot;&quot;, (result) =&gt; console.log(new TextEncoder().encode(result).join(&quot;,&quot;)));\n</code></pre>\n<p>How can I get the correct string from stdin?</p>\n"},{"tags":["java","scala","read-eval-print-loop"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":2,"creation_date":1672867437,"post_id":75011437,"comment_id":132372624,"body_markdown":"Consider a library such as [jline](https://jline.github.io/)","body":"Consider a library such as <a href=\"https://jline.github.io/\" rel=\"nofollow noreferrer\">jline</a>"},{"owner":{"account_id":14436534,"reputation":879,"user_id":10428392,"display_name":"counter2015"},"score":0,"creation_date":1672888413,"post_id":75011437,"comment_id":132376403,"body_markdown":"You can try &quot;\\r&quot;, e.g. `for (i &lt;- 1 to 10) {\n      Thread.sleep(1000)\n      print(s&quot;$i\\r&quot;)\n    }`","body":"You can try &quot;\\r&quot;, e.g. <code>for (i &lt;- 1 to 10) {       Thread.sleep(1000)       print(s&quot;$i\\r&quot;)     }</code>"}],"owner":{"account_id":215504,"reputation":52472,"user_id":470184,"accept_rate":91,"display_name":"blue-sky"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672867004,"creation_date":1672867004,"question_id":75011437,"body_markdown":"I&#39;m attempting to update a value printed to the console in order to implement a simple REPL that supports predictive commands.\r\n\r\nSo after &quot;-&gt;&quot; is printed to the screen using\r\n\r\n    Console.print(&quot;-&gt;&quot;)\r\n\r\nand the user enters &quot;d&quot; followed by the &quot;tab&quot; key then then the existing output &quot;-&gt;&quot; should be converted to &quot;-&gt; dir&quot;\r\n\r\nI read the input using : \r\n\r\n    val input = scala.io.StdIn.readLine()\r\n\r\nI have yet to implement the listener to determine when the tab key is pressed. At this point I&#39;m attempting to prove if command line output can be updated in place.","title":"Update value printed to console","body":"<p>I'm attempting to update a value printed to the console in order to implement a simple REPL that supports predictive commands.</p>\n<p>So after &quot;-&gt;&quot; is printed to the screen using</p>\n<pre><code>Console.print(&quot;-&gt;&quot;)\n</code></pre>\n<p>and the user enters &quot;d&quot; followed by the &quot;tab&quot; key then then the existing output &quot;-&gt;&quot; should be converted to &quot;-&gt; dir&quot;</p>\n<p>I read the input using :</p>\n<pre><code>val input = scala.io.StdIn.readLine()\n</code></pre>\n<p>I have yet to implement the listener to determine when the tab key is pressed. At this point I'm attempting to prove if command line output can be updated in place.</p>\n"},{"tags":["java","json","spring-boot"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":3,"creation_date":1527922274,"post_id":50654291,"comment_id":88318846,"body_markdown":"Possible duplicate of [Spring MVC - How to return simple String as JSON in Rest Controller](https://stackoverflow.com/questions/30895286/spring-mvc-how-to-return-simple-string-as-json-in-rest-controller)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/30895286/spring-mvc-how-to-return-simple-string-as-json-in-rest-controller\">Spring MVC - How to return simple String as JSON in Rest Controller</a>"},{"owner":{"account_id":2366187,"reputation":60172,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":2,"creation_date":1527925083,"post_id":50654291,"comment_id":88319399,"body_markdown":"What on earth is `Util`? It scares me... Why would a class save things to repos and create response entities; in what version of the world are they within the same responsibility set?","body":"What on earth is <code>Util</code>? It scares me... Why would a class save things to repos and create response entities; in what version of the world are they within the same responsibility set?"},{"owner":{"account_id":2513745,"reputation":786,"user_id":2185599,"display_name":"T Tse"},"score":0,"creation_date":1609746622,"post_id":50654291,"comment_id":115908900,"body_markdown":"The only sane way that this happens is if Util was an inner class of the controller taking care of calling services so the controller can focus on messing with input/output","body":"The only sane way that this happens is if Util was an inner class of the controller taking care of calling services so the controller can focus on messing with input/output"}],"answers":[{"comments":[{"owner":{"account_id":2366187,"reputation":60172,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1527926873,"post_id":50654381,"comment_id":88319816,"body_markdown":"`ResponseEntity&lt;User&gt; addTopic` and `return user` - won&#39;t compile.","body":"<code>ResponseEntity&lt;User&gt; addTopic</code> and <code>return user</code> - won&#39;t compile."}],"tags":[],"owner":{"account_id":3365752,"reputation":2491,"user_id":2826417,"accept_rate":50,"display_name":"Sanjay"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1528441414,"creation_date":1527922912,"answer_id":50654381,"question_id":50654291,"body_markdown":"Create model and store value in that model and return model from controller.\r\nCheck Below code.\r\n    \r\n    class User{\r\n         private String name;\r\n         //getter and setter\r\n    }\r\n    \r\n    \r\n     @RequestMapping(method = RequestMethod.POST , produces = &quot;application/json&quot;)\r\n        ResponseEntity&lt;User&gt; addTopic(@RequestBody Topic topic) {\r\n              User user=new User();\r\n              user.setName(&quot;myname&quot;);\r\n               HttpHeaders httpHeaders = new HttpHeaders();\r\n              return new ResponseEntity&lt;User&gt;(user, httpHeaders, HttpStatus.CREATED);\t\r\n        }\r\n\r\n","title":"springboot return responseentity return JSON","body":"<p>Create model and store value in that model and return model from controller.\nCheck Below code.</p>\n\n<pre><code>class User{\n     private String name;\n     //getter and setter\n}\n\n\n @RequestMapping(method = RequestMethod.POST , produces = \"application/json\")\n    ResponseEntity&lt;User&gt; addTopic(@RequestBody Topic topic) {\n          User user=new User();\n          user.setName(\"myname\");\n           HttpHeaders httpHeaders = new HttpHeaders();\n          return new ResponseEntity&lt;User&gt;(user, httpHeaders, HttpStatus.CREATED);   \n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2420186,"reputation":1395,"user_id":2113338,"accept_rate":50,"display_name":"abstractKarshit"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1527922922,"creation_date":1527922922,"answer_id":50654382,"question_id":50654291,"body_markdown":"Try wrapping your response in object.\r\n\r\n    class Response implements Serializable {\r\n        private String name;\r\n\r\n        public String getName() {\r\n            return name;\r\n        }\r\n\r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    }\r\n\r\nAnd Controller can be like this:\r\n\r\n    @RequestMapping(method = RequestMethod.POST , produces = &quot;application/json&quot;)\r\n    ResponseEntity&lt;?&gt; addTopic(@RequestBody Topic topic) {\r\n\r\n        if (Util.save(topicRepository, new Topic(topic.getTopicName(), topic.getQuestionCount())) != null) {\r\n            Response response = new Response();\r\n            response.setName(&quot;jackie&quot;);\r\n            return new ResponseEntity&lt;&gt;(response, HttpStatus.CREATED);\r\n        }\r\n        return Util.createResponseEntity(&quot;Error creating resource&quot;, HttpStatus.BAD_REQUEST);\r\n    }\r\n\r\n","title":"springboot return responseentity return JSON","body":"<p>Try wrapping your response in object.</p>\n\n<pre><code>class Response implements Serializable {\n    private String name;\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n}\n</code></pre>\n\n<p>And Controller can be like this:</p>\n\n<pre><code>@RequestMapping(method = RequestMethod.POST , produces = \"application/json\")\nResponseEntity&lt;?&gt; addTopic(@RequestBody Topic topic) {\n\n    if (Util.save(topicRepository, new Topic(topic.getTopicName(), topic.getQuestionCount())) != null) {\n        Response response = new Response();\n        response.setName(\"jackie\");\n        return new ResponseEntity&lt;&gt;(response, HttpStatus.CREATED);\n    }\n    return Util.createResponseEntity(\"Error creating resource\", HttpStatus.BAD_REQUEST);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8928754,"reputation":7427,"user_id":6662058,"display_name":"Ashwin"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1599442897,"creation_date":1599442897,"answer_id":63770407,"question_id":50654291,"body_markdown":"This is what I use:\r\n\r\n    @GetMapping(produces = MediaType.APPLICATION_JSON_VALUE)\r\n    public ResponseEntity&lt;Map&lt;String, String&gt;&gt; hello() {\r\n        try {\r\n            Map&lt;String, String&gt; body = new HashMap&lt;&gt;();\r\n            body.put(&quot;message&quot;, &quot;Hello world&quot;);\r\n            return new ResponseEntity&lt;&gt;(body, HttpStatus.OK);\r\n        } catch (Exception e) {\r\n            return new ResponseEntity&lt;&gt;(HttpStatus.INTERNAL_SERVER_ERROR);\r\n        }\r\n    }","title":"springboot return responseentity return JSON","body":"<p>This is what I use:</p>\n<pre><code>@GetMapping(produces = MediaType.APPLICATION_JSON_VALUE)\npublic ResponseEntity&lt;Map&lt;String, String&gt;&gt; hello() {\n    try {\n        Map&lt;String, String&gt; body = new HashMap&lt;&gt;();\n        body.put(&quot;message&quot;, &quot;Hello world&quot;);\n        return new ResponseEntity&lt;&gt;(body, HttpStatus.OK);\n    } catch (Exception e) {\n        return new ResponseEntity&lt;&gt;(HttpStatus.INTERNAL_SERVER_ERROR);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":16476161,"reputation":9,"user_id":11904083,"display_name":"GuniorG"},"score":0,"creation_date":1672867054,"post_id":75011427,"comment_id":132372536,"body_markdown":"in the above solution the providerContext is the object reference of the POJO class that we have to write as JSON response to ResponseEntity","body":"in the above solution the providerContext is the object reference of the POJO class that we have to write as JSON response to ResponseEntity"}],"tags":[],"owner":{"account_id":16476161,"reputation":9,"user_id":11904083,"display_name":"GuniorG"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672866973,"creation_date":1672866973,"answer_id":75011427,"question_id":50654291,"body_markdown":"    @PostMapping(&quot;/register/service/provider&quot;)\r\n    public ResponseEntity&lt;?&gt; registerServiceProvider(@RequestBody ServiceProviderRequestPayload providerContext) {\r\n\r\n        try {\r\n            if (providerContext == null)\r\n                throw new BadRequestException(&quot;the request body can not be null or empty.&quot;);\r\n\r\n            if (!providerContext.isValid())\r\n                throw new BadRequestException(&quot;The request body doesn&#39;t seems to be valid&quot;);\r\n\r\n\r\n            return ResponseEntity.ok().contentType(MediaType.APPLICATION_JSON).body(new ObjectMapper().writeValueAsString(providerContext));\r\n        } catch (BadRequestException | IllegalArgumentException e) {\r\n            return ResponseEntity.badRequest().header(&quot;message&quot;, e.getMessage())\r\n                    .contentType(MediaType.APPLICATION_JSON).build();\r\n        } catch (DuplicateKeyException keyException) {\r\n            return ResponseEntity.badRequest().header(&quot;message&quot;, &quot;There seems to be farmer config&quot; + keyException.getCause())\r\n                    .contentType(MediaType.APPLICATION_JSON).build();\r\n        } catch (JsonProcessingException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }","title":"springboot return responseentity return JSON","body":"<pre><code>@PostMapping(&quot;/register/service/provider&quot;)\npublic ResponseEntity&lt;?&gt; registerServiceProvider(@RequestBody ServiceProviderRequestPayload providerContext) {\n\n    try {\n        if (providerContext == null)\n            throw new BadRequestException(&quot;the request body can not be null or empty.&quot;);\n\n        if (!providerContext.isValid())\n            throw new BadRequestException(&quot;The request body doesn't seems to be valid&quot;);\n\n\n        return ResponseEntity.ok().contentType(MediaType.APPLICATION_JSON).body(new ObjectMapper().writeValueAsString(providerContext));\n    } catch (BadRequestException | IllegalArgumentException e) {\n        return ResponseEntity.badRequest().header(&quot;message&quot;, e.getMessage())\n                .contentType(MediaType.APPLICATION_JSON).build();\n    } catch (DuplicateKeyException keyException) {\n        return ResponseEntity.badRequest().header(&quot;message&quot;, &quot;There seems to be farmer config&quot; + keyException.getCause())\n                .contentType(MediaType.APPLICATION_JSON).build();\n    } catch (JsonProcessingException e) {\n        throw new RuntimeException(e);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":13688743,"reputation":29,"user_id":9877159,"display_name":"sussie"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26373,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":4,"score":2,"last_activity_date":1672866973,"creation_date":1527922155,"question_id":50654291,"body_markdown":"I want to return JSON below.\r\n\r\n&gt; {\r\n\t&quot;name&quot;: &quot;jackie&quot;\r\n}\r\n\r\nPostman is giving me error. Stating\r\n\r\n&gt; Unexpected &#39;n&#39;\r\n\r\nNew to Spring Boot here. 1 day old. Is there a proper way to do this?\r\n\r\n       // POST method here\r\n        @RequestMapping(method = RequestMethod.POST , produces = &quot;application/json&quot;)\r\n        ResponseEntity&lt;?&gt; addTopic(@RequestBody Topic topic) {\r\n    \r\n            if (Util.save(topicRepository, new Topic(topic.getTopicName(), topic.getQuestionCount())) != null) {\r\n                return Util.createResponseEntity(&quot;Name : jackie&quot;, HttpStatus.CREATED);\r\n            }\r\n            return Util.createResponseEntity(&quot;Error creating resource&quot;, HttpStatus.BAD_REQUEST);\r\n        }","title":"springboot return responseentity return JSON","body":"<p>I want to return JSON below.</p>\n\n<blockquote>\n  <p>{\n      \"name\": \"jackie\"\n  }</p>\n</blockquote>\n\n<p>Postman is giving me error. Stating</p>\n\n<blockquote>\n  <p>Unexpected 'n'</p>\n</blockquote>\n\n<p>New to Spring Boot here. 1 day old. Is there a proper way to do this?</p>\n\n<pre><code>   // POST method here\n    @RequestMapping(method = RequestMethod.POST , produces = \"application/json\")\n    ResponseEntity&lt;?&gt; addTopic(@RequestBody Topic topic) {\n\n        if (Util.save(topicRepository, new Topic(topic.getTopicName(), topic.getQuestionCount())) != null) {\n            return Util.createResponseEntity(\"Name : jackie\", HttpStatus.CREATED);\n        }\n        return Util.createResponseEntity(\"Error creating resource\", HttpStatus.BAD_REQUEST);\n    }\n</code></pre>\n"},{"tags":["java","option-type","non-nullable"],"comments":[{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":7,"creation_date":1532537143,"post_id":51523859,"comment_id":90016668,"body_markdown":"If you return Optional, then you should never return null, no need for documentation","body":"If you return Optional, then you should never return null, no need for documentation"},{"owner":{"account_id":57788,"reputation":46120,"user_id":173149,"accept_rate":62,"display_name":"gavenkoa"},"score":0,"creation_date":1532537301,"post_id":51523859,"comment_id":90016750,"body_markdown":"There is `Optional.of` which forbid `null`. Is there subclass of Optional that itself says container has value? Or it is not possible to use sub-type due to type erasure of generics?","body":"There is <code>Optional.of</code> which forbid <code>null</code>. Is there subclass of Optional that itself says container has value? Or it is not possible to use sub-type due to type erasure of generics?"},{"owner":{"display_name":"anon"},"score":0,"creation_date":1532537413,"post_id":51523859,"comment_id":90016799,"body_markdown":"Sounds like you need to just... read the Optional documentation and experiment with Optional. You seem to be operating under a couple of pretty serious misconceptions, and the documentation is good enough to sort them out for you.","body":"Sounds like you need to just... read the Optional documentation and experiment with Optional. You seem to be operating under a couple of pretty serious misconceptions, and the documentation is good enough to sort them out for you."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1532547888,"post_id":51523859,"comment_id":90021689,"body_markdown":"Returning non-null values should be the normal state of things;  it should be implied.  It is methods which actually can return null that need to be explicitly documented as doing so.  (Whether that should be done with Optional depends on the method and the design;  see https://stackoverflow.com/questions/26327957/should-java-8-getters-return-optional-type for an authoritative answer.)","body":"Returning non-null values should be the normal state of things;  it should be implied.  It is methods which actually can return null that need to be explicitly documented as doing so.  (Whether that should be done with Optional depends on the method and the design;  see <a href=\"https://stackoverflow.com/questions/26327957/should-java-8-getters-return-optional-type\" title=\"should java 8 getters return optional type\">stackoverflow.com/questions/26327957/&hellip;</a> for an authoritative answer.)"}],"answers":[{"tags":[],"owner":{"account_id":9190575,"reputation":8919,"user_id":6831257,"display_name":"GolamMazid Sajib"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1532537085,"creation_date":1532537085,"answer_id":51523946,"question_id":51523859,"body_markdown":"you can use .OrElse(). See this example\r\n\r\n    Optional&lt;String&gt; response = Optional.of(&quot;Not Null&quot;);\r\n        Optional&lt;String&gt; response2 = Optional.empty();\r\n        System.out.println(response.orElse(&quot;&quot;));\r\n        System.out.println(response2.orElse(&quot;Dont want to return null&quot;));","title":"Is it possible to document that return value is not null with Java Optional?","body":"<p>you can use .OrElse(). See this example</p>\n\n<pre><code>Optional&lt;String&gt; response = Optional.of(\"Not Null\");\n    Optional&lt;String&gt; response2 = Optional.empty();\n    System.out.println(response.orElse(\"\"));\n    System.out.println(response2.orElse(\"Dont want to return null\"));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1136217,"reputation":14336,"user_id":1121249,"accept_rate":86,"display_name":"rkosegi"},"score":0,"creation_date":1532537659,"post_id":51524077,"comment_id":90016935,"body_markdown":"Just to add javax.annotation.Nonnull, edu.umd.cs.findbugs.annotations.NonNull,","body":"Just to add javax.annotation.Nonnull, edu.umd.cs.findbugs.annotations.NonNull,"},{"owner":{"account_id":57788,"reputation":46120,"user_id":173149,"accept_rate":62,"display_name":"gavenkoa"},"score":0,"creation_date":1532537707,"post_id":51524077,"comment_id":90016960,"body_markdown":"Seems lombok developers refused to add check for non-null return value: https://github.com/rzwitserloot/lombok/issues/907","body":"Seems lombok developers refused to add check for non-null return value: <a href=\"https://github.com/rzwitserloot/lombok/issues/907\" rel=\"nofollow noreferrer\">github.com/rzwitserloot/lombok/issues/907</a>"},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1532537826,"post_id":51524077,"comment_id":90017021,"body_markdown":"@rkosegi The umd documentation is on sourceforge, which my company blocks. If you can add the appropriate documentation I would be grateful.","body":"@rkosegi The umd documentation is on sourceforge, which my company blocks. If you can add the appropriate documentation I would be grateful."},{"owner":{"account_id":57788,"reputation":46120,"user_id":173149,"accept_rate":62,"display_name":"gavenkoa"},"score":0,"creation_date":1532538123,"post_id":51524077,"comment_id":90017188,"body_markdown":"Wow! [Java Validation 2.0 works on method return values](http://www.baeldung.com/javax-validation-method-constraints)! Seems that it is not possible to express non-null return value in Java types. Java type system is not enough smart. **The only way is to go with static code analysis tools**.","body":"Wow! <a href=\"http://www.baeldung.com/javax-validation-method-constraints\" rel=\"nofollow noreferrer\">Java Validation 2.0 works on method return values</a>! Seems that it is not possible to express non-null return value in Java types. Java type system is not enough smart. <b>The only way is to go with static code analysis tools</b>."},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1532538292,"post_id":51524077,"comment_id":90017272,"body_markdown":"@gavenkoa Exactly. It sounds like you want Kotlin. [Null was a mistake](https://news.ycombinator.com/item?id=12427069)","body":"@gavenkoa Exactly. It sounds like you want Kotlin. <a href=\"https://news.ycombinator.com/item?id=12427069\" rel=\"nofollow noreferrer\">Null was a mistake</a>"}],"tags":[],"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"comment_count":5,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1532538237,"creation_date":1532537542,"answer_id":51524077,"question_id":51523859,"body_markdown":"I don&#39;t know why you&#39;re under the impression that most of them apply only to parameters.\r\n\r\n**org.eclipse.jdt.annotation.NonNull**\r\n\r\n    @Documented\r\n    @Retention(value=CLASS)\r\n    @Target(value={FIELD,METHOD,PARAMETER,LOCAL_VARIABLE})\r\n    public @interface NonNull\r\n\r\n**org.jetbrains.annotations.NotNull**\r\n\r\n&gt; The @NotNull annotation is, actually, an explicit contract declaring\r\n&gt; that:\r\n&gt; \r\n&gt;  - A method should not return null\r\n&gt;  - Variables (fields, local variables, and parameters) cannot hold a null value\r\n\r\nUsage:\r\n\r\n[![intellij @NotNull][1]][1]\r\n\r\n**javax.validation.constraints.NotNull**\r\n\r\n    @Target(value={METHOD,FIELD,ANNOTATION_TYPE,CONSTRUCTOR,PARAMETER})\r\n    @Retention(value=RUNTIME)\r\n    @Documented\r\n    @Constraint(validatedBy={})\r\n    public @interface NotNull\r\n\r\n**javax.annotation.Nonnull**\r\n\r\n    @Documented\r\n    @TypeQualifier\r\n    @Retention(value=RUNTIME)\r\n    public @interface Nonnull\r\n\r\nUsage:\r\n\r\n[![javax @Nonnull][2]][2]\r\n\r\n----\r\n\r\nSo feel free to use any one of these four on your method.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3tuF6.png\r\n  [2]: https://i.stack.imgur.com/MymYe.png","title":"Is it possible to document that return value is not null with Java Optional?","body":"<p>I don't know why you're under the impression that most of them apply only to parameters.</p>\n\n<p><strong>org.eclipse.jdt.annotation.NonNull</strong></p>\n\n<pre><code>@Documented\n@Retention(value=CLASS)\n@Target(value={FIELD,METHOD,PARAMETER,LOCAL_VARIABLE})\npublic @interface NonNull\n</code></pre>\n\n<p><strong>org.jetbrains.annotations.NotNull</strong></p>\n\n<blockquote>\n  <p>The @NotNull annotation is, actually, an explicit contract declaring\n  that:</p>\n  \n  <ul>\n  <li>A method should not return null</li>\n  <li>Variables (fields, local variables, and parameters) cannot hold a null value</li>\n  </ul>\n</blockquote>\n\n<p>Usage:</p>\n\n<p><a href=\"https://i.stack.imgur.com/3tuF6.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/3tuF6.png\" alt=\"intellij @NotNull\"></a></p>\n\n<p><strong>javax.validation.constraints.NotNull</strong></p>\n\n<pre><code>@Target(value={METHOD,FIELD,ANNOTATION_TYPE,CONSTRUCTOR,PARAMETER})\n@Retention(value=RUNTIME)\n@Documented\n@Constraint(validatedBy={})\npublic @interface NotNull\n</code></pre>\n\n<p><strong>javax.annotation.Nonnull</strong></p>\n\n<pre><code>@Documented\n@TypeQualifier\n@Retention(value=RUNTIME)\npublic @interface Nonnull\n</code></pre>\n\n<p>Usage:</p>\n\n<p><a href=\"https://i.stack.imgur.com/MymYe.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/MymYe.png\" alt=\"javax @Nonnull\"></a></p>\n\n<hr>\n\n<p>So feel free to use any one of these four on your method.</p>\n"}],"owner":{"account_id":57788,"reputation":46120,"user_id":173149,"accept_rate":62,"display_name":"gavenkoa"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9206,"favorite_count":0,"down_vote_count":1,"up_vote_count":9,"accepted_answer_id":51524077,"answer_count":2,"score":8,"last_activity_date":1672866821,"creation_date":1532536741,"question_id":51523859,"body_markdown":"Is it possible to document that return value is not `null` with Java `Optional`?\r\n\r\n[Most tools and frameworks](https://stackoverflow.com/questions/4963300/which-notnull-java-annotation-should-i-use) care only about arguments but I&#39;d like to express in type that return value is not `null` (instead of doing that in JavaDoc).\r\n\r\n**UPDATE** Looks like you can agree with team to use `Optional` as return value if you want to express possible `null` and direct object when it is definitely not null:\r\n\r\n    public Optional&lt;Job&gt; getJob() {  ... }\r\n    public Job extractJob(NonNullJobHolder&lt;Job&gt; holder) { ... }\r\n","title":"Is it possible to document that return value is not null with Java Optional?","body":"<p>Is it possible to document that return value is not <code>null</code> with Java <code>Optional</code>?</p>\n<p><a href=\"https://stackoverflow.com/questions/4963300/which-notnull-java-annotation-should-i-use\">Most tools and frameworks</a> care only about arguments but I'd like to express in type that return value is not <code>null</code> (instead of doing that in JavaDoc).</p>\n<p><strong>UPDATE</strong> Looks like you can agree with team to use <code>Optional</code> as return value if you want to express possible <code>null</code> and direct object when it is definitely not null:</p>\n<pre><code>public Optional&lt;Job&gt; getJob() {  ... }\npublic Job extractJob(NonNullJobHolder&lt;Job&gt; holder) { ... }\n</code></pre>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":6639546,"reputation":337,"user_id":5125690,"accept_rate":75,"display_name":"Cplusplusplus"},"score":0,"creation_date":1442605256,"post_id":29519714,"comment_id":53166097,"body_markdown":"One thing, can you please highlight line 140","body":"One thing, can you please highlight line 140"}],"answers":[{"tags":[],"owner":{"account_id":9433446,"reputation":1,"user_id":7016172,"display_name":"humanG"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672866774,"creation_date":1672866774,"answer_id":75011387,"question_id":29519714,"body_markdown":"I&#39;m guessing since this issue is over 7 years old you&#39;ve probably figured this out by now.\r\n\r\nYou might need to just add the images to your eclipse classpath.  You can do it by right clicking the folder the images are stored in and right click the folder mouse over build path and just click &quot;add to build path&quot;.  ","title":"Eclipse Error (FNAF Minigame Simulation)","body":"<p>I'm guessing since this issue is over 7 years old you've probably figured this out by now.</p>\n<p>You might need to just add the images to your eclipse classpath.  You can do it by right clicking the folder the images are stored in and right click the folder mouse over build path and just click &quot;add to build path&quot;.</p>\n"}],"owner":{"account_id":5957583,"reputation":27,"user_id":4683655,"accept_rate":0,"display_name":"MjlDoesProgramming"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":567,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1672866774,"creation_date":1428509016,"question_id":29519714,"body_markdown":"I have one last error for the FNAF mini-game simulation.  It&#39;s something about an illegal argument?\r\n\r\nNow, here is my error :\r\n\r\n`Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: input == null!\r\n\tat javax.imageio.ImageIO.read(ImageIO.java:1388)\r\n\tat Minigame.&lt;init&gt;(Minigame.java:40)\r\n\tat Minigame.main(Minigame.java:140)\r\n`\r\n\r\n...And here is my code (one class only) :\r\n\r\n    import java.awt.*; \r\n    import java.awt.event.*;\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.IOException;\r\n    import javax.imageio.ImageIO;\r\n    import javax.swing.*;\r\n\r\n    public class Minigame extends JPanel\r\n    {\t\r\n\tprivate static final long serialVersionUID = 1L;\r\n\t\r\n\tGameEvents gameEvents = new GameEvents();\r\n\tTimer gameTimer = new Timer(1, gameEvents);\r\n\tint i = 0; \r\n\tint horizontalposition = 500;\r\n\tint verticalposition = 500;\r\n\t\r\n\tBufferedImage Picture;\r\n\tBufferedImage Picture2;\r\n\tBufferedImage Picture3;\r\n\tBufferedImage Picture4;\r\n\tBufferedImage Picture5;\r\n\tBufferedImage Picture6; \r\n\r\n\t//Don&#39;t forget to declare your variables!\r\n\r\n\r\n\tMinigame() {\r\n\t\tgameTimer.start();\r\n\t\tthis.addKeyListener(gameEvents);\r\n\r\n\t\ttry \r\n\t\t{\r\n\t\t\t\r\n\t\t\tSystem.out.println(&quot;Processing...&quot;);\r\n\t\t\t\r\n\t\t\tPicture = ImageIO.read(getClass().getResource(&quot;Child.gif&quot;));\r\n\t\t\tPicture2 = ImageIO.read(getClass().getResource(&quot;Static_Background.jpg&quot;));\r\n\t\t\tPicture3 = ImageIO.read(getClass().getResource(&quot;Purple_Person.png&quot;));\r\n\t\t\tPicture4 = ImageIO.read(getClass().getResource(&quot;Cake_Child_Idle.png&quot;));\r\n\t\t\tPicture5 = ImageIO.read(getClass().getResource(&quot;Freddy2.gif&quot;));\r\n\t\t\tPicture6 = ImageIO.read(getClass().getResource(&quot;Freddy.gif&quot;));\r\n\t\t\t//How do you use gifs?\r\n\t\t\t//The format for this is Picture = ImageIO.read(getClass().getResource(&quot;NameOfFile.typeoffile&quot;));\r\n\t\t}\r\n\t\tcatch (IOException e)\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;Pictures failed to load&quot;);\r\n\t\t}\r\n\t}\r\n\r\n\t@Override\r\n\tprotected void paintComponent(Graphics g)\r\n\t{\r\n\t\tg.setColor(Color.black);\r\n\t\tg.fillRect(0,0,this.getWidth(), this.getHeight());\r\n\t\t\r\n\t\t///g.drawImage(Picture, horizontalposition, verticalposition, 100, 150, null);\r\n\t\tg.drawImage(Picture2, 0, 0, 1500, 1700, null);\r\n\t\tg.drawImage(Picture, 200, 10, 70, 100, null);\r\n\t\tg.drawImage(Picture, 200, 100, 70, 100, null);\r\n\t\tg.drawImage(Picture, 200, 200, 70, 100, null);\r\n\t\tg.drawImage(Picture, 200, 300, 70, 100, null);\r\n\t\tg.drawImage(Picture, 200, 400, 70, 100, null);\r\n\t\tg.drawImage(Picture, 200, 500, 70, 100, null);\r\n\t\tg.drawImage(Picture3, 1100, 50, 100, 150, null);\r\n\t\tg.drawImage(Picture4, 1000, 100, 70, 100, null);\r\n\t\tg.drawImage(Picture6, horizontalposition, verticalposition, 100, 150, null);\r\n\t\t\r\n\t}\r\n\r\n\tpublic class GameEvents implements ActionListener, KeyListener\r\n\t{\r\n\t\t@Override\r\n\t\tpublic void actionPerformed(ActionEvent arg0) \r\n\t\t{\r\n\t\t\trepaint();\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void keyPressed(KeyEvent key) //stuff inside here happens when a key is pressed\r\n\t\t{\r\n\t\t\tif(key.getKeyChar()==&#39;d&#39;)\r\n\t\t\t{\r\n\t\t\t\thorizontalposition=horizontalposition+50;\r\n\t\t\t}\r\n\t\t\tif(key.getKeyChar()==&#39;s&#39;)\r\n\t\t\t{\r\n\t\t\t\tverticalposition=verticalposition+50;\r\n\t\t\t}\r\n\t\t\tif(key.getKeyChar()==&#39;w&#39;)\r\n\t\t\t{\r\n\t\t\t\tverticalposition=verticalposition-50;\r\n\t\t\t}\r\n\t\t\tif(key.getKeyChar()==&#39;a&#39;)\r\n\t\t\t{\r\n\t\t\t\thorizontalposition=horizontalposition-50;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif(horizontalposition&lt;200)\r\n\t\t\t{\r\n\t\t\t\thorizontalposition=200;\r\n\t\t\t}\r\n\t\t\tif(horizontalposition&gt;900)\r\n\t\t\t{\r\n\t\t\t\thorizontalposition=900;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif(verticalposition&lt;-50)\r\n\t\t\t{\r\n\t\t\t\tverticalposition=-50;\r\n\t\t\t}\r\n\t\t\tif(verticalposition&gt;525)\r\n\t\t\t{\r\n\t\t\t\tverticalposition=525;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tSystem.out.println(key.getKeyChar());\r\n\t\t\tSystem.out.println(&#39;d&#39;);\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void keyReleased(KeyEvent arg0) {\r\n\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void keyTyped(KeyEvent arg0) {\r\n\t\t}\r\n\r\n\t}\r\n\tpublic static void main(String[] args) \r\n\t{\r\n\t\t\r\n\t\tJFrame f = new JFrame(&quot;Java Graphics Example Project&quot;);\r\n\t\tf.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tMinigame p = new Minigame();\r\n\t\tf.setSize(1500,700);\r\n\t\tSystem.out.println(&quot;Processer Complete.&quot;);\r\n\t\tf.add(p);\r\n\t\tSystem.out.println(&quot;IT&#39;S ME.&quot;);\r\n\t\tf.setVisible(true);\r\n\t\tp.requestFocusInWindow();\r\n\t\r\n\t    }\r\n\r\n    }\r\n\r\nAnyways, I am very new to Eclipse, so please be specific. Thanks for your help.","title":"Eclipse Error (FNAF Minigame Simulation)","body":"<p>I have one last error for the FNAF mini-game simulation.  It's something about an illegal argument?</p>\n\n<p>Now, here is my error :</p>\n\n<p><code>Exception in thread \"main\" java.lang.IllegalArgumentException: input == null!\n    at javax.imageio.ImageIO.read(ImageIO.java:1388)\n    at Minigame.&lt;init&gt;(Minigame.java:40)\n    at Minigame.main(Minigame.java:140)\n</code></p>\n\n<p>...And here is my code (one class only) :</p>\n\n<pre><code>import java.awt.*; \nimport java.awt.event.*;\nimport java.awt.image.BufferedImage;\nimport java.io.IOException;\nimport javax.imageio.ImageIO;\nimport javax.swing.*;\n\npublic class Minigame extends JPanel\n{   \nprivate static final long serialVersionUID = 1L;\n\nGameEvents gameEvents = new GameEvents();\nTimer gameTimer = new Timer(1, gameEvents);\nint i = 0; \nint horizontalposition = 500;\nint verticalposition = 500;\n\nBufferedImage Picture;\nBufferedImage Picture2;\nBufferedImage Picture3;\nBufferedImage Picture4;\nBufferedImage Picture5;\nBufferedImage Picture6; \n\n//Don't forget to declare your variables!\n\n\nMinigame() {\n    gameTimer.start();\n    this.addKeyListener(gameEvents);\n\n    try \n    {\n\n        System.out.println(\"Processing...\");\n\n        Picture = ImageIO.read(getClass().getResource(\"Child.gif\"));\n        Picture2 = ImageIO.read(getClass().getResource(\"Static_Background.jpg\"));\n        Picture3 = ImageIO.read(getClass().getResource(\"Purple_Person.png\"));\n        Picture4 = ImageIO.read(getClass().getResource(\"Cake_Child_Idle.png\"));\n        Picture5 = ImageIO.read(getClass().getResource(\"Freddy2.gif\"));\n        Picture6 = ImageIO.read(getClass().getResource(\"Freddy.gif\"));\n        //How do you use gifs?\n        //The format for this is Picture = ImageIO.read(getClass().getResource(\"NameOfFile.typeoffile\"));\n    }\n    catch (IOException e)\n    {\n        System.out.println(\"Pictures failed to load\");\n    }\n}\n\n@Override\nprotected void paintComponent(Graphics g)\n{\n    g.setColor(Color.black);\n    g.fillRect(0,0,this.getWidth(), this.getHeight());\n\n    ///g.drawImage(Picture, horizontalposition, verticalposition, 100, 150, null);\n    g.drawImage(Picture2, 0, 0, 1500, 1700, null);\n    g.drawImage(Picture, 200, 10, 70, 100, null);\n    g.drawImage(Picture, 200, 100, 70, 100, null);\n    g.drawImage(Picture, 200, 200, 70, 100, null);\n    g.drawImage(Picture, 200, 300, 70, 100, null);\n    g.drawImage(Picture, 200, 400, 70, 100, null);\n    g.drawImage(Picture, 200, 500, 70, 100, null);\n    g.drawImage(Picture3, 1100, 50, 100, 150, null);\n    g.drawImage(Picture4, 1000, 100, 70, 100, null);\n    g.drawImage(Picture6, horizontalposition, verticalposition, 100, 150, null);\n\n}\n\npublic class GameEvents implements ActionListener, KeyListener\n{\n    @Override\n    public void actionPerformed(ActionEvent arg0) \n    {\n        repaint();\n    }\n\n    @Override\n    public void keyPressed(KeyEvent key) //stuff inside here happens when a key is pressed\n    {\n        if(key.getKeyChar()=='d')\n        {\n            horizontalposition=horizontalposition+50;\n        }\n        if(key.getKeyChar()=='s')\n        {\n            verticalposition=verticalposition+50;\n        }\n        if(key.getKeyChar()=='w')\n        {\n            verticalposition=verticalposition-50;\n        }\n        if(key.getKeyChar()=='a')\n        {\n            horizontalposition=horizontalposition-50;\n        }\n\n        if(horizontalposition&lt;200)\n        {\n            horizontalposition=200;\n        }\n        if(horizontalposition&gt;900)\n        {\n            horizontalposition=900;\n        }\n\n        if(verticalposition&lt;-50)\n        {\n            verticalposition=-50;\n        }\n        if(verticalposition&gt;525)\n        {\n            verticalposition=525;\n        }\n\n        System.out.println(key.getKeyChar());\n        System.out.println('d');\n    }\n\n    @Override\n    public void keyReleased(KeyEvent arg0) {\n\n    }\n\n    @Override\n    public void keyTyped(KeyEvent arg0) {\n    }\n\n}\npublic static void main(String[] args) \n{\n\n    JFrame f = new JFrame(\"Java Graphics Example Project\");\n    f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    Minigame p = new Minigame();\n    f.setSize(1500,700);\n    System.out.println(\"Processer Complete.\");\n    f.add(p);\n    System.out.println(\"IT'S ME.\");\n    f.setVisible(true);\n    p.requestFocusInWindow();\n\n    }\n\n}\n</code></pre>\n\n<p>Anyways, I am very new to Eclipse, so please be specific. Thanks for your help.</p>\n"},{"tags":["java","sql","javafx","fxml"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1672847305,"post_id":75007532,"comment_id":132365976,"body_markdown":"This looks like completely the wrong approach: the button should not be part of your model class (`BorrowedBook`). There are several questions and answers on this site about putting buttons in each row of a table column which do so without polluting your model class.","body":"This looks like completely the wrong approach: the button should not be part of your model class (<code>BorrowedBook</code>). There are several questions and answers on this site about putting buttons in each row of a table column which do so without polluting your model class."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1672847500,"post_id":75007532,"comment_id":132366048,"body_markdown":"That said, I’m not sure I actually see the problem. If you move `returnOnClick.setOnAction(…)` to *after* the line `BorrowedBook borrowedBook = new BorrowedBook(…)` then you can simply do `returnOnClick.serOnAction(event -&gt; { /* do what you need with borrowedBook */ });`","body":"That said, I’m not sure I actually see the problem. If you move <code>returnOnClick.setOnAction(…)</code> to <i>after</i> the line <code>BorrowedBook borrowedBook = new BorrowedBook(…)</code> then you can simply do <code>returnOnClick.serOnAction(event -&gt; { &#47;* do what you need with borrowedBook *&#47; });</code>"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1672849745,"post_id":75007532,"comment_id":132366872,"body_markdown":"[Here is an example](https://stackoverflow.com/a/32284751/2189127) of a delete button in each row in a table, without resorting to any of the ridiculous hacks you seem to have in your code.","body":"<a href=\"https://stackoverflow.com/a/32284751/2189127\">Here is an example</a> of a delete button in each row in a table, without resorting to any of the ridiculous hacks you seem to have in your code."}],"owner":{"account_id":18140834,"reputation":33,"user_id":13194694,"display_name":"Kratos"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1672860429,"answer_count":0,"score":0,"last_activity_date":1672866551,"creation_date":1672845395,"question_id":75007532,"body_markdown":"I have a problem with the below code. On click the last row button, i want to get the current row data and execute a delete to SQL database bun I don&#39;t know how to get the row data.\r\n\r\nI create the table and column in the fxml file and populate it with data and button on MainController and HomeController but I spent many hours looking for a solution to get the row data on witch the button is located.\r\n\r\nHomeController.java\r\n```\r\n\r\npublic class HomeController implements Initializable{\r\n    ObservableList&lt;Book&gt; recordsBook = FXCollections.observableArrayList();\r\n    ObservableList&lt;BorrowedBook&gt; recordsBorrowedBooks = FXCollections.observableArrayList();\r\n    @Override\r\n    public void initialize(URL url, ResourceBundle resourceBundle) {\r\n\r\n    }\r\n    public ObservableList&lt;Book&gt; getBooks(){\r\n        DatabaseConnection connectionNew = new DatabaseConnection();\r\n        Connection connectDB = connectionNew.getConnection();\r\n\r\n        String books = &quot;SELECT * FROM books&quot;;\r\n        try{\r\n            Statement statement = connectDB.createStatement();\r\n            ResultSet rs = statement.executeQuery(books);\r\n\r\n            while(rs.next()){\r\n                Book book = new Book(rs.getInt(&quot;Id&quot;),rs.getString(&quot;Title&quot;),rs.getString(&quot;PublicatedOn&quot;),rs.getString(&quot;PublishingHouse&quot;),rs.getString(&quot;Cover&quot;),rs.getString(&quot;Summary&quot;),rs.getInt(&quot;Price&quot;));\r\n                recordsBook.add(book);\r\n            }\r\n        }catch (Exception e) {\r\n            throw new RuntimeException(&quot;unhandled&quot;, e);\r\n        }\r\n\r\n        return recordsBook;\r\n    }\r\n\r\n    public ObservableList&lt;BorrowedBook&gt; getBorrowedBooks(int userId){\r\n        DatabaseConnection connectionNew = new DatabaseConnection();\r\n        Connection connectDB = connectionNew.getConnection();\r\n\r\n        String books = &quot;SELECT b.Title,a.borrowDate,a.returnDate,a.id FROM borrowed_books a INNER JOIN books b on a.bookId = b.Id INNER JOIN users c on a.userId = c.Id WHERE a.userId = &quot; + userId;\r\n        try{\r\n            Statement statement = connectDB.createStatement();\r\n            ResultSet rs = statement.executeQuery(books);\r\n            while(rs.next()){\r\n                int remainingDays = getDaysDiff(rs.getString(&quot;ReturnDate&quot;));\r\n\r\n                Button returnOnClick = new Button(&quot;Inapoiaza&quot;);\r\n                returnOnClick.setOnAction((ActionEvent event) -&gt; {\r\n                    System.out.println(event);\r\n                });\r\n\r\n                BorrowedBook borrowedBook = new BorrowedBook(rs.getString(&quot;Title&quot;), rs.getString(&quot;BorrowDate&quot;), rs.getString(&quot;ReturnDate&quot;), remainingDays, returnOnClick);\r\n\r\n                recordsBorrowedBooks.add(borrowedBook);\r\n            }\r\n        }catch (Exception e) {\r\n            throw new RuntimeException(&quot;unhandled&quot;, e);\r\n        }\r\n\r\n        return recordsBorrowedBooks;\r\n    }\r\n\r\n    public boolean borrowBook(Integer bookId, Integer userId) throws SQLException {\r\n        DatabaseConnection connectionNew = new DatabaseConnection();\r\n        Connection connectDB = connectionNew.getConnection();\r\n        LocalDate date = LocalDate.now();\r\n\r\n        String checkBookExist = &quot;SELECT count(1) FROM borrowed_books WHERE bookId= ? AND userId =? AND `returnDate` &gt; CURRENT_DATE()&quot;;\r\n        PreparedStatement prepareStatementSelect=connectDB.prepareStatement(checkBookExist);\r\n        prepareStatementSelect.setInt(1, bookId);\r\n        prepareStatementSelect.setInt(2, userId);\r\n\r\n        try{\r\n            ResultSet rs = prepareStatementSelect.executeQuery();\r\n\r\n            while(rs.next()){\r\n\r\n                if(rs.getInt(1) == 0){\r\n                    String borrowString = &quot;INSERT INTO borrowed_books (bookId, userId, borrowDate, returnDate) VALUES (?, ?, ?, ?);&quot;;\r\n                    PreparedStatement prepareStatementInsert=connectDB.prepareStatement(borrowString);\r\n                    prepareStatementInsert.setInt(1, bookId);\r\n                    prepareStatementInsert.setInt(2, userId);\r\n                    prepareStatementInsert.setString(3, date.toString());\r\n                    prepareStatementInsert.setString(4, String.valueOf(date.plusMonths(1)));\r\n                    try{\r\n                        prepareStatementInsert.executeUpdate();\r\n                        return true;\r\n                    }catch (Exception e) {\r\n                        throw new RuntimeException(&quot;unhandled&quot;, e);\r\n                    }\r\n                }else{\r\n                    return false;\r\n                }\r\n            }\r\n        }catch (Exception e) {\r\n            throw new RuntimeException(&quot;unhandled&quot;, e);\r\n        }\r\n        return false;\r\n    }\r\n    public int getDaysDiff(String dateStop) throws ParseException {\r\n        LocalDate dt1 = LocalDate.now();\r\n        LocalDate dt2 = LocalDate.parse(dateStop);\r\n\r\n        long diffDays = ChronoUnit.DAYS.between(dt1, dt2);\r\n\r\n        return (int)diffDays;\r\n    }\r\n}\r\n\r\n```\r\n\r\nMainController.java\r\n\r\n```\r\npackage com.example.library;\r\nimport javafx.beans.binding.Bindings;\r\nimport javafx.event.ActionEvent;\r\nimport javafx.fxml.FXML;\r\nimport javafx.fxml.Initializable;\r\nimport javafx.scene.control.*;\r\nimport javafx.scene.control.cell.PropertyValueFactory;\r\nimport javafx.scene.image.Image;\r\nimport javafx.scene.image.ImageView;\r\nimport javafx.scene.layout.FlowPane;\r\nimport javafx.scene.layout.Pane;\r\nimport javafx.stage.Stage;\r\n\r\nimport java.io.*;\r\nimport java.net.URL;\r\nimport java.sql.SQLException;\r\nimport java.time.LocalDate;\r\nimport java.time.format.DateTimeFormatter;\r\nimport java.util.ResourceBundle;\r\n\r\npublic class MainController implements Initializable {\r\n\r\n    private static String paneName;\r\n    private static String defaultImagePath = &quot;C:\\\\Users\\\\costi\\\\Desktop\\\\LibraryImages\\\\&quot;;\r\n    private static String defaultImageName = &quot;default.png&quot;;\r\n    public TableView&lt;Book&gt; tableViewSearch, tableViewHome;\r\n    public TableView&lt;BorrowedBook&gt; tableViewBorrowed;\r\n    public TableColumn&lt;Book,String&gt; colActions, colSearchTitle, colHomeTitle, colSearchPublicatedOn, colHomePublicatedOn, colSearchPublishingHouse, colHomePublishingHouse, colSearchSummary, colHomeSummary, colBorrowedTitle, colBorrowedDateStart, colBorrowedDateEnd;\r\n    public TableColumn&lt;Book,Integer&gt; colSearchPrice, colHomePrice, colSearchId, colHomeId, colBorrowedRemainingDays;\r\n    @FXML\r\n    private Button cancelButton, menuHomeButton, menuSearchButton, borrowBookButton, menuBorrowButton;\r\n    @FXML\r\n    private Pane paneHome, paneSearch, paneBookDetails, paneBorrowed;\r\n    @FXML\r\n    private TextField searchField, titleField, publishingHouseField, priceField, bookIdField;\r\n    @FXML\r\n    private DatePicker publishedOnField;\r\n    @FXML\r\n    private TextArea summaryTextArea;\r\n    @FXML\r\n    private FlowPane flowPaneCoverImage;\r\n    @FXML\r\n    private Label statusLabel;\r\n\r\n    public void initialize(URL url, ResourceBundle resourceBundle) {\r\n        paneHome.toFront();\r\n        setPaneName(&quot;paneHome&quot;);\r\n        setMainData();\r\n    }\r\n    public void setMainData(){\r\n        colHomeId.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;Id&quot;));\r\n        colHomeTitle.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;Title&quot;));\r\n        colHomePublicatedOn.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;PublicatedOn&quot;));\r\n        colHomePublishingHouse.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;PublishingHouse&quot;));\r\n        colHomeSummary.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;Summary&quot;));\r\n        colHomePrice.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;Price&quot;));\r\n        HomeController homeController = new HomeController();\r\n        tableViewHome.setRowFactory( tv -&gt; {\r\n            TableRow&lt;Book&gt; row = new TableRow&lt;&gt;();\r\n            row.setOnMouseClicked(event -&gt; {\r\n                if (event.getClickCount() == 2 &amp;&amp; (! row.isEmpty()) ) {\r\n                    paneBookDetails.toFront();\r\n                    Book rowData = row.getItem();\r\n\r\n                    String date = rowData.getPublicatedOn();\r\n                    var dateTimeFormatter = DateTimeFormatter.ofPattern(&quot;dd.MM.yyyy&quot;);\r\n                    var dateTime = LocalDate.parse(date, dateTimeFormatter);\r\n\r\n                    bookIdField.setText(Integer.toString(rowData.getId()));\r\n                    titleField.setText(rowData.getTitle());\r\n                    publishingHouseField.setText(rowData.getPublishingHouse());\r\n                    priceField.setText(Integer.toString(rowData.getPrice()));\r\n                    publishedOnField.setValue(dateTime);\r\n                    summaryTextArea.setText(rowData.getSummary());\r\n\r\n                    InputStream stream = null;\r\n                    try {\r\n                        stream = new FileInputStream(defaultImagePath + rowData.getCover());\r\n                    } catch (FileNotFoundException e) {\r\n                        try {\r\n                            stream = new FileInputStream(defaultImagePath + defaultImageName);\r\n                        } catch (FileNotFoundException ex) {\r\n                        }\r\n                    }\r\n\r\n                    Image image = new Image(stream);\r\n                    ImageView imageView = new ImageView(image);\r\n                    imageView.setFitHeight(flowPaneCoverImage.getHeight());\r\n                    imageView.setFitWidth(flowPaneCoverImage.getWidth());\r\n                    flowPaneCoverImage.getChildren().clear();\r\n                    flowPaneCoverImage.getChildren().add(imageView);\r\n                }\r\n            });\r\n            return row ;\r\n        });\r\n\r\n        tableViewHome.setItems(homeController.getBooks());\r\n    }\r\n\r\n    public void searchButtonOnAction(ActionEvent event) {\r\n        colSearchId.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;Id&quot;));\r\n        colSearchTitle.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;Title&quot;));\r\n        colSearchPublicatedOn.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;PublicatedOn&quot;));\r\n        colSearchPublishingHouse.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;PublishingHouse&quot;));\r\n        colSearchSummary.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;Summary&quot;));\r\n        colSearchPrice.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;Price&quot;));\r\n        tableViewSearch.setRowFactory( tv -&gt; {\r\n            TableRow&lt;Book&gt; row = new TableRow&lt;&gt;();\r\n            row.setOnMouseClicked(ev -&gt; {\r\n                if (ev.getClickCount() == 2 &amp;&amp; (! row.isEmpty()) ) {\r\n                    paneBookDetails.toFront();\r\n                    Book rowData = row.getItem();\r\n\r\n                    String date = rowData.getPublicatedOn();\r\n                    var dateTimeFormatter = DateTimeFormatter.ofPattern(&quot;dd.MM.yyyy&quot;);\r\n                    var dateTime = LocalDate.parse(date, dateTimeFormatter);\r\n\r\n                    bookIdField.setText(Integer.toString(rowData.getId()));\r\n                    titleField.setText(rowData.getTitle());\r\n                    publishingHouseField.setText(rowData.getPublishingHouse());\r\n                    priceField.setText(Integer.toString(rowData.getPrice()));\r\n                    publishedOnField.setValue(dateTime);\r\n                    summaryTextArea.setText(rowData.getSummary());\r\n\r\n                    InputStream stream = null;\r\n                    try {\r\n                        stream = new FileInputStream(defaultImagePath + rowData.getCover());\r\n                    } catch (FileNotFoundException e) {\r\n                        try {\r\n                            stream = new FileInputStream(defaultImagePath + defaultImageName);\r\n                        } catch (FileNotFoundException ex) {\r\n                        }\r\n                    }\r\n\r\n                    Image image = new Image(stream);\r\n                    ImageView imageView = new ImageView(image);\r\n                    imageView.setFitHeight(flowPaneCoverImage.getHeight());\r\n                    imageView.setFitWidth(flowPaneCoverImage.getWidth());\r\n                    flowPaneCoverImage.getChildren().clear();\r\n                    flowPaneCoverImage.getChildren().add(imageView);\r\n                }\r\n            });\r\n            return row ;\r\n        });\r\n        SearchController searchController = new SearchController();\r\n        tableViewSearch.setItems(searchController.getBooks(searchField.getText()));\r\n    }\r\n\r\n    public void setBorrowedData(){\r\n        colBorrowedTitle.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;Title&quot;));\r\n        colBorrowedDateStart.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;DateStart&quot;));\r\n        colBorrowedDateEnd.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;DateEnd&quot;));\r\n        colBorrowedRemainingDays.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;RemainingDays&quot;));\r\n        colActions.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;button&quot;));\r\n        HomeController homeController = new HomeController();\r\n        tableViewBorrowed.setRowFactory( tv -&gt; {\r\n            TableRow&lt;BorrowedBook&gt; row = new TableRow&lt;&gt;(){\r\n                @Override\r\n                public void updateItem(BorrowedBook item, boolean empty) {\r\n                    super.updateItem(item, empty) ;\r\n                    if (item == null) {\r\n                        setStyle(&quot;&quot;);\r\n                    } else if (item.getRemainingDays() &lt; 0) {\r\n                        setStyle(&quot;-fx-background-color: #ff5d5d;&quot;);\r\n                    } else {\r\n                        setStyle(&quot;&quot;);\r\n                    }\r\n                }\r\n            };\r\n            return row ;\r\n        });\r\n\r\n        tableViewBorrowed.setItems(homeController.getBorrowedBooks(Global.getUserId()));\r\n    }\r\n\r\n    public void cancelButtonOnAction(ActionEvent event){\r\n        Stage stage = (Stage) cancelButton.getScene().getWindow();\r\n        stage.close();\r\n    }\r\n\r\n    public void menuButtonOnAction(ActionEvent event){\r\n        statusLabel.setText(&quot;&quot;);\r\n        if(event.getSource() == menuHomeButton){\r\n            setPaneName(&quot;paneHome&quot;);\r\n            paneHome.toFront();\r\n            setMainData();\r\n        }else if(event.getSource() == menuSearchButton){\r\n            setPaneName(&quot;paneSearch&quot;);\r\n            paneSearch.toFront();\r\n        }else if(event.getSource() == menuBorrowButton){\r\n            setPaneName(&quot;paneBorrowed&quot;);\r\n            paneBorrowed.toFront();\r\n            setBorrowedData();\r\n        }\r\n    }\r\n\r\n    public void backButtonOnAction(ActionEvent event){\r\n        var lastPannelName = getPaneName();\r\n        statusLabel.setText(&quot;&quot;);\r\n        if(lastPannelName == &quot;paneHome&quot;){\r\n            paneHome.toFront();\r\n        }else if(lastPannelName == &quot;paneSearch&quot;){\r\n            paneSearch.toFront();\r\n        }\r\n    }\r\n\r\n    public void borrowBookOnAction(ActionEvent event){\r\n        HomeController homeController = new HomeController();\r\n        int currentUserId = Global.getUserId();\r\n        var currentBookId = Integer.valueOf(bookIdField.getText());\r\n        try {\r\n            boolean inserted = homeController.borrowBook(currentBookId, currentUserId);\r\n            if(inserted){\r\n                statusLabel.setText(&quot;Cartea a fost imprumutata pentru 1 luna.&quot;);\r\n            }else{\r\n                statusLabel.setText(&quot;Ai imprumutat deja aceasta carte.&quot;);\r\n            }\r\n        } catch (SQLException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n    public static String getPaneName() {\r\n        return paneName;\r\n    }\r\n\r\n    public static void setPaneName(String paneName) {\r\n        MainController.paneName = paneName;\r\n    }\r\n\r\n}\r\n\r\n```","title":"Javafx - Add action to button click on table row","body":"<p>I have a problem with the below code. On click the last row button, i want to get the current row data and execute a delete to SQL database bun I don't know how to get the row data.</p>\n<p>I create the table and column in the fxml file and populate it with data and button on MainController and HomeController but I spent many hours looking for a solution to get the row data on witch the button is located.</p>\n<p>HomeController.java</p>\n<pre><code>\npublic class HomeController implements Initializable{\n    ObservableList&lt;Book&gt; recordsBook = FXCollections.observableArrayList();\n    ObservableList&lt;BorrowedBook&gt; recordsBorrowedBooks = FXCollections.observableArrayList();\n    @Override\n    public void initialize(URL url, ResourceBundle resourceBundle) {\n\n    }\n    public ObservableList&lt;Book&gt; getBooks(){\n        DatabaseConnection connectionNew = new DatabaseConnection();\n        Connection connectDB = connectionNew.getConnection();\n\n        String books = &quot;SELECT * FROM books&quot;;\n        try{\n            Statement statement = connectDB.createStatement();\n            ResultSet rs = statement.executeQuery(books);\n\n            while(rs.next()){\n                Book book = new Book(rs.getInt(&quot;Id&quot;),rs.getString(&quot;Title&quot;),rs.getString(&quot;PublicatedOn&quot;),rs.getString(&quot;PublishingHouse&quot;),rs.getString(&quot;Cover&quot;),rs.getString(&quot;Summary&quot;),rs.getInt(&quot;Price&quot;));\n                recordsBook.add(book);\n            }\n        }catch (Exception e) {\n            throw new RuntimeException(&quot;unhandled&quot;, e);\n        }\n\n        return recordsBook;\n    }\n\n    public ObservableList&lt;BorrowedBook&gt; getBorrowedBooks(int userId){\n        DatabaseConnection connectionNew = new DatabaseConnection();\n        Connection connectDB = connectionNew.getConnection();\n\n        String books = &quot;SELECT b.Title,a.borrowDate,a.returnDate,a.id FROM borrowed_books a INNER JOIN books b on a.bookId = b.Id INNER JOIN users c on a.userId = c.Id WHERE a.userId = &quot; + userId;\n        try{\n            Statement statement = connectDB.createStatement();\n            ResultSet rs = statement.executeQuery(books);\n            while(rs.next()){\n                int remainingDays = getDaysDiff(rs.getString(&quot;ReturnDate&quot;));\n\n                Button returnOnClick = new Button(&quot;Inapoiaza&quot;);\n                returnOnClick.setOnAction((ActionEvent event) -&gt; {\n                    System.out.println(event);\n                });\n\n                BorrowedBook borrowedBook = new BorrowedBook(rs.getString(&quot;Title&quot;), rs.getString(&quot;BorrowDate&quot;), rs.getString(&quot;ReturnDate&quot;), remainingDays, returnOnClick);\n\n                recordsBorrowedBooks.add(borrowedBook);\n            }\n        }catch (Exception e) {\n            throw new RuntimeException(&quot;unhandled&quot;, e);\n        }\n\n        return recordsBorrowedBooks;\n    }\n\n    public boolean borrowBook(Integer bookId, Integer userId) throws SQLException {\n        DatabaseConnection connectionNew = new DatabaseConnection();\n        Connection connectDB = connectionNew.getConnection();\n        LocalDate date = LocalDate.now();\n\n        String checkBookExist = &quot;SELECT count(1) FROM borrowed_books WHERE bookId= ? AND userId =? AND `returnDate` &gt; CURRENT_DATE()&quot;;\n        PreparedStatement prepareStatementSelect=connectDB.prepareStatement(checkBookExist);\n        prepareStatementSelect.setInt(1, bookId);\n        prepareStatementSelect.setInt(2, userId);\n\n        try{\n            ResultSet rs = prepareStatementSelect.executeQuery();\n\n            while(rs.next()){\n\n                if(rs.getInt(1) == 0){\n                    String borrowString = &quot;INSERT INTO borrowed_books (bookId, userId, borrowDate, returnDate) VALUES (?, ?, ?, ?);&quot;;\n                    PreparedStatement prepareStatementInsert=connectDB.prepareStatement(borrowString);\n                    prepareStatementInsert.setInt(1, bookId);\n                    prepareStatementInsert.setInt(2, userId);\n                    prepareStatementInsert.setString(3, date.toString());\n                    prepareStatementInsert.setString(4, String.valueOf(date.plusMonths(1)));\n                    try{\n                        prepareStatementInsert.executeUpdate();\n                        return true;\n                    }catch (Exception e) {\n                        throw new RuntimeException(&quot;unhandled&quot;, e);\n                    }\n                }else{\n                    return false;\n                }\n            }\n        }catch (Exception e) {\n            throw new RuntimeException(&quot;unhandled&quot;, e);\n        }\n        return false;\n    }\n    public int getDaysDiff(String dateStop) throws ParseException {\n        LocalDate dt1 = LocalDate.now();\n        LocalDate dt2 = LocalDate.parse(dateStop);\n\n        long diffDays = ChronoUnit.DAYS.between(dt1, dt2);\n\n        return (int)diffDays;\n    }\n}\n\n</code></pre>\n<p>MainController.java</p>\n<pre><code>package com.example.library;\nimport javafx.beans.binding.Bindings;\nimport javafx.event.ActionEvent;\nimport javafx.fxml.FXML;\nimport javafx.fxml.Initializable;\nimport javafx.scene.control.*;\nimport javafx.scene.control.cell.PropertyValueFactory;\nimport javafx.scene.image.Image;\nimport javafx.scene.image.ImageView;\nimport javafx.scene.layout.FlowPane;\nimport javafx.scene.layout.Pane;\nimport javafx.stage.Stage;\n\nimport java.io.*;\nimport java.net.URL;\nimport java.sql.SQLException;\nimport java.time.LocalDate;\nimport java.time.format.DateTimeFormatter;\nimport java.util.ResourceBundle;\n\npublic class MainController implements Initializable {\n\n    private static String paneName;\n    private static String defaultImagePath = &quot;C:\\\\Users\\\\costi\\\\Desktop\\\\LibraryImages\\\\&quot;;\n    private static String defaultImageName = &quot;default.png&quot;;\n    public TableView&lt;Book&gt; tableViewSearch, tableViewHome;\n    public TableView&lt;BorrowedBook&gt; tableViewBorrowed;\n    public TableColumn&lt;Book,String&gt; colActions, colSearchTitle, colHomeTitle, colSearchPublicatedOn, colHomePublicatedOn, colSearchPublishingHouse, colHomePublishingHouse, colSearchSummary, colHomeSummary, colBorrowedTitle, colBorrowedDateStart, colBorrowedDateEnd;\n    public TableColumn&lt;Book,Integer&gt; colSearchPrice, colHomePrice, colSearchId, colHomeId, colBorrowedRemainingDays;\n    @FXML\n    private Button cancelButton, menuHomeButton, menuSearchButton, borrowBookButton, menuBorrowButton;\n    @FXML\n    private Pane paneHome, paneSearch, paneBookDetails, paneBorrowed;\n    @FXML\n    private TextField searchField, titleField, publishingHouseField, priceField, bookIdField;\n    @FXML\n    private DatePicker publishedOnField;\n    @FXML\n    private TextArea summaryTextArea;\n    @FXML\n    private FlowPane flowPaneCoverImage;\n    @FXML\n    private Label statusLabel;\n\n    public void initialize(URL url, ResourceBundle resourceBundle) {\n        paneHome.toFront();\n        setPaneName(&quot;paneHome&quot;);\n        setMainData();\n    }\n    public void setMainData(){\n        colHomeId.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;Id&quot;));\n        colHomeTitle.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;Title&quot;));\n        colHomePublicatedOn.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;PublicatedOn&quot;));\n        colHomePublishingHouse.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;PublishingHouse&quot;));\n        colHomeSummary.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;Summary&quot;));\n        colHomePrice.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;Price&quot;));\n        HomeController homeController = new HomeController();\n        tableViewHome.setRowFactory( tv -&gt; {\n            TableRow&lt;Book&gt; row = new TableRow&lt;&gt;();\n            row.setOnMouseClicked(event -&gt; {\n                if (event.getClickCount() == 2 &amp;&amp; (! row.isEmpty()) ) {\n                    paneBookDetails.toFront();\n                    Book rowData = row.getItem();\n\n                    String date = rowData.getPublicatedOn();\n                    var dateTimeFormatter = DateTimeFormatter.ofPattern(&quot;dd.MM.yyyy&quot;);\n                    var dateTime = LocalDate.parse(date, dateTimeFormatter);\n\n                    bookIdField.setText(Integer.toString(rowData.getId()));\n                    titleField.setText(rowData.getTitle());\n                    publishingHouseField.setText(rowData.getPublishingHouse());\n                    priceField.setText(Integer.toString(rowData.getPrice()));\n                    publishedOnField.setValue(dateTime);\n                    summaryTextArea.setText(rowData.getSummary());\n\n                    InputStream stream = null;\n                    try {\n                        stream = new FileInputStream(defaultImagePath + rowData.getCover());\n                    } catch (FileNotFoundException e) {\n                        try {\n                            stream = new FileInputStream(defaultImagePath + defaultImageName);\n                        } catch (FileNotFoundException ex) {\n                        }\n                    }\n\n                    Image image = new Image(stream);\n                    ImageView imageView = new ImageView(image);\n                    imageView.setFitHeight(flowPaneCoverImage.getHeight());\n                    imageView.setFitWidth(flowPaneCoverImage.getWidth());\n                    flowPaneCoverImage.getChildren().clear();\n                    flowPaneCoverImage.getChildren().add(imageView);\n                }\n            });\n            return row ;\n        });\n\n        tableViewHome.setItems(homeController.getBooks());\n    }\n\n    public void searchButtonOnAction(ActionEvent event) {\n        colSearchId.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;Id&quot;));\n        colSearchTitle.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;Title&quot;));\n        colSearchPublicatedOn.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;PublicatedOn&quot;));\n        colSearchPublishingHouse.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;PublishingHouse&quot;));\n        colSearchSummary.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;Summary&quot;));\n        colSearchPrice.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;Price&quot;));\n        tableViewSearch.setRowFactory( tv -&gt; {\n            TableRow&lt;Book&gt; row = new TableRow&lt;&gt;();\n            row.setOnMouseClicked(ev -&gt; {\n                if (ev.getClickCount() == 2 &amp;&amp; (! row.isEmpty()) ) {\n                    paneBookDetails.toFront();\n                    Book rowData = row.getItem();\n\n                    String date = rowData.getPublicatedOn();\n                    var dateTimeFormatter = DateTimeFormatter.ofPattern(&quot;dd.MM.yyyy&quot;);\n                    var dateTime = LocalDate.parse(date, dateTimeFormatter);\n\n                    bookIdField.setText(Integer.toString(rowData.getId()));\n                    titleField.setText(rowData.getTitle());\n                    publishingHouseField.setText(rowData.getPublishingHouse());\n                    priceField.setText(Integer.toString(rowData.getPrice()));\n                    publishedOnField.setValue(dateTime);\n                    summaryTextArea.setText(rowData.getSummary());\n\n                    InputStream stream = null;\n                    try {\n                        stream = new FileInputStream(defaultImagePath + rowData.getCover());\n                    } catch (FileNotFoundException e) {\n                        try {\n                            stream = new FileInputStream(defaultImagePath + defaultImageName);\n                        } catch (FileNotFoundException ex) {\n                        }\n                    }\n\n                    Image image = new Image(stream);\n                    ImageView imageView = new ImageView(image);\n                    imageView.setFitHeight(flowPaneCoverImage.getHeight());\n                    imageView.setFitWidth(flowPaneCoverImage.getWidth());\n                    flowPaneCoverImage.getChildren().clear();\n                    flowPaneCoverImage.getChildren().add(imageView);\n                }\n            });\n            return row ;\n        });\n        SearchController searchController = new SearchController();\n        tableViewSearch.setItems(searchController.getBooks(searchField.getText()));\n    }\n\n    public void setBorrowedData(){\n        colBorrowedTitle.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;Title&quot;));\n        colBorrowedDateStart.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;DateStart&quot;));\n        colBorrowedDateEnd.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;DateEnd&quot;));\n        colBorrowedRemainingDays.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;RemainingDays&quot;));\n        colActions.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;button&quot;));\n        HomeController homeController = new HomeController();\n        tableViewBorrowed.setRowFactory( tv -&gt; {\n            TableRow&lt;BorrowedBook&gt; row = new TableRow&lt;&gt;(){\n                @Override\n                public void updateItem(BorrowedBook item, boolean empty) {\n                    super.updateItem(item, empty) ;\n                    if (item == null) {\n                        setStyle(&quot;&quot;);\n                    } else if (item.getRemainingDays() &lt; 0) {\n                        setStyle(&quot;-fx-background-color: #ff5d5d;&quot;);\n                    } else {\n                        setStyle(&quot;&quot;);\n                    }\n                }\n            };\n            return row ;\n        });\n\n        tableViewBorrowed.setItems(homeController.getBorrowedBooks(Global.getUserId()));\n    }\n\n    public void cancelButtonOnAction(ActionEvent event){\n        Stage stage = (Stage) cancelButton.getScene().getWindow();\n        stage.close();\n    }\n\n    public void menuButtonOnAction(ActionEvent event){\n        statusLabel.setText(&quot;&quot;);\n        if(event.getSource() == menuHomeButton){\n            setPaneName(&quot;paneHome&quot;);\n            paneHome.toFront();\n            setMainData();\n        }else if(event.getSource() == menuSearchButton){\n            setPaneName(&quot;paneSearch&quot;);\n            paneSearch.toFront();\n        }else if(event.getSource() == menuBorrowButton){\n            setPaneName(&quot;paneBorrowed&quot;);\n            paneBorrowed.toFront();\n            setBorrowedData();\n        }\n    }\n\n    public void backButtonOnAction(ActionEvent event){\n        var lastPannelName = getPaneName();\n        statusLabel.setText(&quot;&quot;);\n        if(lastPannelName == &quot;paneHome&quot;){\n            paneHome.toFront();\n        }else if(lastPannelName == &quot;paneSearch&quot;){\n            paneSearch.toFront();\n        }\n    }\n\n    public void borrowBookOnAction(ActionEvent event){\n        HomeController homeController = new HomeController();\n        int currentUserId = Global.getUserId();\n        var currentBookId = Integer.valueOf(bookIdField.getText());\n        try {\n            boolean inserted = homeController.borrowBook(currentBookId, currentUserId);\n            if(inserted){\n                statusLabel.setText(&quot;Cartea a fost imprumutata pentru 1 luna.&quot;);\n            }else{\n                statusLabel.setText(&quot;Ai imprumutat deja aceasta carte.&quot;);\n            }\n        } catch (SQLException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    public static String getPaneName() {\n        return paneName;\n    }\n\n    public static void setPaneName(String paneName) {\n        MainController.paneName = paneName;\n    }\n\n}\n\n</code></pre>\n"},{"tags":["java","http","sockets","tcp"],"comments":[{"owner":{"account_id":18655,"reputation":4922,"user_id":42962,"accept_rate":71,"display_name":"hooknc"},"score":0,"creation_date":1672853350,"post_id":75008232,"comment_id":132368161,"body_markdown":"Possible duplicate?  https://stackoverflow.com/q/46794420/42962","body":"Possible duplicate?  <a href=\"https://stackoverflow.com/q/46794420/42962\">stackoverflow.com/q/46794420/42962</a>"}],"answers":[{"comments":[{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1672860883,"post_id":75008425,"comment_id":132370572,"body_markdown":"@IssacKim Re: I got it! &lt;&lt; Excellent! Please make sure to click the checkmark by this answer to mark your question as answered.","body":"@IssacKim Re: I got it! &lt;&lt; Excellent! Please make sure to click the checkmark by this answer to mark your question as answered."},{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1672877266,"post_id":75008425,"comment_id":132374711,"body_markdown":"Does this really answer the question? You saying that switching from Data\\*Streams to regular Input/Output Streams will result in wireshark recognizing the protocol as HTTP?","body":"Does this really answer the question? You saying that switching from Data*Streams to regular Input/Output Streams will result in wireshark recognizing the protocol as HTTP?"},{"owner":{"account_id":23018541,"reputation":13,"user_id":17139907,"display_name":"Issac Kim"},"score":0,"creation_date":1672882458,"post_id":75008425,"comment_id":132375504,"body_markdown":"Instead of using DataInputStream, DataOutputStream, i used InputStream, OutputStream and it worked!","body":"Instead of using DataInputStream, DataOutputStream, i used InputStream, OutputStream and it worked!"}],"tags":[],"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672849790,"creation_date":1672849790,"answer_id":75008425,"question_id":75008232,"body_markdown":"The Data Input/Output streams send and receive serialized Java objects. This was a solution to the &quot;endian&quot; problem that existed back in 1994 (but no longer exists) You want raw bytes, so just stick to plain Input and Output streams.\r\n\r\nAlso, just FYI (not in your question but I&#39;ve added anyway): Stream buffers improve performance only when you are doing inefficient reading and writing. If you are just gobbling bytes as quickly as possible (using a byte[] with InputStream&#39;s read method) you don&#39;t need a buffer. If, however, you want to read line by line (ie inefficient reading) a buffer will help.\r\n\r\nLikewise, a BufferedOutputStream can help if you are doing multiple small writes... BufferedOutputStream will store the data until there is sufficient data to send, rather than sending out multiple small data packets","title":"how can i pop up with http protocol? not TCP","body":"<p>The Data Input/Output streams send and receive serialized Java objects. This was a solution to the &quot;endian&quot; problem that existed back in 1994 (but no longer exists) You want raw bytes, so just stick to plain Input and Output streams.</p>\n<p>Also, just FYI (not in your question but I've added anyway): Stream buffers improve performance only when you are doing inefficient reading and writing. If you are just gobbling bytes as quickly as possible (using a byte[] with InputStream's read method) you don't need a buffer. If, however, you want to read line by line (ie inefficient reading) a buffer will help.</p>\n<p>Likewise, a BufferedOutputStream can help if you are doing multiple small writes... BufferedOutputStream will store the data until there is sufficient data to send, rather than sending out multiple small data packets</p>\n"}],"owner":{"account_id":23018541,"reputation":13,"user_id":17139907,"display_name":"Issac Kim"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75008425,"answer_count":1,"score":1,"last_activity_date":1672866503,"creation_date":1672848908,"question_id":75008232,"body_markdown":"I wrote the below socket communication code in Java. When I checked the protocol with WireShark, it said TCP protocol, not HTTP protocol. Didn&#39;t I follow the HTTP header format? I want to pop up with HTTP protocol when captured with WireShark. How do I modify the code?\r\n\r\nHere is `MyServer.java`:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    import java.net.ServerSocket;\r\n    import java.net.Socket;\r\n    import java.io.InputStream;\r\n    import java.io.DataInputStream;\r\n    import java.io.OutputStream;\r\n    import java.io.DataOutputStream;\r\n    import java.util.Date;\r\n    import java.text.SimpleDateFormat;\r\n    import java.util.Locale;\r\n    \r\n    \r\n    public class MyServer {\r\n        public static void main(String[] args) {\r\n    \r\n            ServerSocket serverSocket = null;\r\n            Socket socket = null;\r\n    \r\n            InputStream inputStream = null;\r\n            DataInputStream dataInputStream = null;\r\n    \r\n            OutputStream outputStream = null;\r\n            DataOutputStream dataOutputStream = null;\r\n    \r\n            String blank = &quot;&quot;;\r\n    \r\n            try {\r\n                serverSocket = new ServerSocket(9000);\r\n                System.out.println(&quot;클라이언트로부터 데이터 전송받을 준비 완료&quot;);\r\n    \r\n                socket = serverSocket.accept();\r\n                System.out.println(&quot;클라이언트 연결 완료&quot;);\r\n                System.out.println(&quot;socket: &quot; + socket);\r\n    \r\n                inputStream = socket.getInputStream();\r\n                dataInputStream = new DataInputStream(inputStream);\r\n    \r\n                outputStream = socket.getOutputStream();\r\n                dataOutputStream = new DataOutputStream(outputStream);\r\n    \r\n                while (true) {\r\n    \r\n                    String clientMessage = dataInputStream.readUTF();\r\n                    String[] clientMessages = clientMessage.split(&quot;\\r\\n&quot;);\r\n                    String slot1 = clientMessages[0]; // 예시) &quot;GET / HTTP/1.1&quot;\r\n                    String[] slot2 = slot1.split(&quot; &quot;);\r\n                    String request_method = slot2[0]; // 예시) GET\r\n                    String request_version = slot2[2]; // 예시) HTTP/1.1\r\n    \r\n                    String server_name = &quot;Socket Server&quot;;\r\n                    String strDate = &quot;&quot;;\r\n    \r\n                    Date date = new Date();\r\n                    SimpleDateFormat sdf = new SimpleDateFormat(&quot;EEE, dd MMM yyyy HH:mm:ss z&quot;, Locale.US);\r\n                    strDate = sdf.format(date);\r\n                    String response_data = &quot;&quot;;\r\n    \r\n                    if (request_method.equals(&quot;GET&quot;) &amp;&amp; request_version.equals(&quot;HTTP/1.1&quot;)){\r\n                        System.out.printf(&quot;%s %s 200\\n&quot;, request_method, request_version);\r\n                        response_data = String.format(&quot;%s 200 OK\\nServer: %s\\nDate: %s\\n&quot;, request_version, server_name, strDate);\r\n                    }\r\n                    else if (request_method.equals(&quot;POST&quot;) &amp;&amp; request_version.equals(&quot;HTTP/1.1&quot;)){\r\n                        System.out.printf(&quot;%s %s 201&quot;, request_method, request_version);\r\n                        response_data = String.format(&quot;%s 201 OK\\nServer: %s\\nDate: %s\\n&quot;, request_version, server_name, strDate);\r\n                    }\r\n                    else if (request_method.equals(&quot;HEAD&quot;) &amp;&amp; request_version.equals(&quot;HTTP/1.1&quot;)){\r\n                        System.out.printf(&quot;%s %s 203&quot;, request_method, request_version);\r\n                        response_data = String.format(&quot;%s 203 OK\\nServer: %s\\nDate: %s\\n&quot;, request_version, server_name, strDate);\r\n                    }\r\n                    else if (request_method.equals(&quot;PUT&quot;) &amp;&amp; request_version.equals(&quot;HTTP/1.1&quot;)){\r\n                        System.out.printf(&quot;%s %s 202&quot;, request_method, request_version);\r\n                        response_data = String.format(&quot;%s 202 OK\\nServer: %s\\nDate: %s\\n&quot;, request_version, server_name, strDate);\r\n                    }\r\n                    else if (request_method.equals(&quot;DELETE&quot;) &amp;&amp; request_version.equals(&quot;HTTP/1.1&quot;)){\r\n                        System.out.printf(&quot;%s %s 204&quot;, request_method, request_version);\r\n                        response_data = String.format(&quot;%s 204 OK\\nServer: %s\\nDate: %s\\n&quot;, request_version, server_name, strDate);\r\n                    }\r\n                    else {\r\n                        System.out.printf(&quot;%s %s 405&quot;, request_method, request_version);\r\n                        response_data = String.format(&quot;%s 405 OK\\nServer: %s\\nDate: %s\\n&quot;, request_version, server_name, strDate);\r\n                    }\r\n    \r\n                    dataOutputStream.writeUTF(response_data);\r\n                    dataOutputStream.flush();\r\n    \r\n                    if (clientMessage.equals(&quot;STOP&quot;)) break;\r\n                }\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            } finally {\r\n                try {\r\n                    if (dataOutputStream != null) dataOutputStream.close();\r\n                    if (outputStream != null) outputStream.close();\r\n                    if (dataInputStream != null) dataInputStream.close();\r\n                    if (inputStream != null) inputStream.close();\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nHere is `MyClient.java`:\r\n\r\n```java\r\npublic class MyClient {\r\n    public static void main(String[] args) {\r\n        Socket socket = null;\r\n\r\n        OutputStream outputStream = null;\r\n        DataOutputStream dataOutputStream = null;\r\n\r\n        InputStream inputStream = null;\r\n        DataInputStream dataInputStream = null;\r\n\r\n        String inputMessage = &quot;&quot;;\r\n        String outputMessage = &quot;&quot;;\r\n        Scanner scanner = null;\r\n\r\n        try{\r\n            socket = new Socket(&quot;localhost&quot;, 9000);\r\n            System.out.println(&quot;서버 연결 완료&quot;);\r\n\r\n            outputStream = socket.getOutputStream();\r\n            dataOutputStream = new DataOutputStream(outputStream);\r\n\r\n            inputStream = socket.getInputStream();\r\n            dataInputStream = new DataInputStream(inputStream);\r\n\r\n            scanner = new Scanner(System.in);\r\n\r\n            while(true){\r\n                System.out.print(&quot;메세지를 입력해주세요:&quot;);\r\n\r\n                inputMessage = scanner.next();\r\n\r\n                if (inputMessage.equals(&quot;GET&quot;)) {\r\n                    outputMessage = &quot;GET / HTTP/1.1\\r\\nHost: 127.0.0.1:9000\\r\\nUser-Agent: Mozilla/5.0\\r\\nAccept: */*\\r\\n\\r\\n&quot;;\r\n                } else if (inputMessage.equals(&quot;POST&quot;)) {\r\n                    outputMessage = &quot;POST / HTTP/1.1\\r\\nHost: 127.0.0.1:9000\\r\\nUser-Agent: insomnia/2022.2.1\\r\\nAccept: */*\\r\\nContent-Length: 0\\r\\n\\r\\n&quot;;\r\n                } else if (inputMessage.equals(&quot;HEAD&quot;)) {\r\n                    outputMessage = &quot;HEAD / HTTP/1.1\\r\\nHost: 127.0.0.1:9000\\r\\nUser-Agent: insomnia/2022.2.1\\r\\nAccept: */*\\r\\n\\r\\n&quot;;\r\n                } else if (inputMessage.equals(&quot;PUT&quot;)) {\r\n                    outputMessage = &quot;PUT / HTTP/1.1\\r\\nHost: 127.0.0.1:9000\\r\\nUser-Agent: insomnia/2022.2.1\\r\\nAccept: */*\\r\\nContent-Length: 0\\r\\n\\r\\n&quot;;\r\n                } else if (inputMessage.equals(&quot;DELETE&quot;)) {\r\n                    outputMessage = &quot;DELETE / HTTP/1.1\\r\\nHost: 127.0.0.1:9000\\r\\nUser-Agent: insomnia/2022.2.1\\r\\nAccept: */*\\r\\n\\r\\n&quot;;\r\n                } else {\r\n                    outputMessage = &quot;NotAllowed / HTTP/1.1\\r\\nHost: 127.0.0.1:9000\\r\\nUser-Agent: insomnia/2022.2.1\\r\\nAccept: */*\\r\\n\\r\\n&quot;;\r\n                }\r\n                dataOutputStream.writeUTF(outputMessage);\r\n                dataOutputStream.flush();\r\n                String receivedMessage = dataInputStream.readUTF();\r\n                System.out.println(receivedMessage);\r\n\r\n                if (inputMessage.equals(&quot;STOP&quot;)) break;\r\n            }\r\n        } catch (Exception e){\r\n            e.printStackTrace();\r\n        } finally {\r\n            try{\r\n                if (dataOutputStream != null) dataOutputStream.close();\r\n                if (outputStream != null) outputStream.close();\r\n                if (dataInputStream != null) dataInputStream.close();\r\n                if (inputStream != null) inputStream.close();\r\n            } catch (Exception e){\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n}\r\n```","title":"how can i pop up with http protocol? not TCP","body":"<p>I wrote the below socket communication code in Java. When I checked the protocol with WireShark, it said TCP protocol, not HTTP protocol. Didn't I follow the HTTP header format? I want to pop up with HTTP protocol when captured with WireShark. How do I modify the code?</p>\n<p>Here is <code>MyServer.java</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.net.ServerSocket;\nimport java.net.Socket;\nimport java.io.InputStream;\nimport java.io.DataInputStream;\nimport java.io.OutputStream;\nimport java.io.DataOutputStream;\nimport java.util.Date;\nimport java.text.SimpleDateFormat;\nimport java.util.Locale;\n\n\npublic class MyServer {\n    public static void main(String[] args) {\n\n        ServerSocket serverSocket = null;\n        Socket socket = null;\n\n        InputStream inputStream = null;\n        DataInputStream dataInputStream = null;\n\n        OutputStream outputStream = null;\n        DataOutputStream dataOutputStream = null;\n\n        String blank = &quot;&quot;;\n\n        try {\n            serverSocket = new ServerSocket(9000);\n            System.out.println(&quot;클라이언트로부터 데이터 전송받을 준비 완료&quot;);\n\n            socket = serverSocket.accept();\n            System.out.println(&quot;클라이언트 연결 완료&quot;);\n            System.out.println(&quot;socket: &quot; + socket);\n\n            inputStream = socket.getInputStream();\n            dataInputStream = new DataInputStream(inputStream);\n\n            outputStream = socket.getOutputStream();\n            dataOutputStream = new DataOutputStream(outputStream);\n\n            while (true) {\n\n                String clientMessage = dataInputStream.readUTF();\n                String[] clientMessages = clientMessage.split(&quot;\\r\\n&quot;);\n                String slot1 = clientMessages[0]; // 예시) &quot;GET / HTTP/1.1&quot;\n                String[] slot2 = slot1.split(&quot; &quot;);\n                String request_method = slot2[0]; // 예시) GET\n                String request_version = slot2[2]; // 예시) HTTP/1.1\n\n                String server_name = &quot;Socket Server&quot;;\n                String strDate = &quot;&quot;;\n\n                Date date = new Date();\n                SimpleDateFormat sdf = new SimpleDateFormat(&quot;EEE, dd MMM yyyy HH:mm:ss z&quot;, Locale.US);\n                strDate = sdf.format(date);\n                String response_data = &quot;&quot;;\n\n                if (request_method.equals(&quot;GET&quot;) &amp;&amp; request_version.equals(&quot;HTTP/1.1&quot;)){\n                    System.out.printf(&quot;%s %s 200\\n&quot;, request_method, request_version);\n                    response_data = String.format(&quot;%s 200 OK\\nServer: %s\\nDate: %s\\n&quot;, request_version, server_name, strDate);\n                }\n                else if (request_method.equals(&quot;POST&quot;) &amp;&amp; request_version.equals(&quot;HTTP/1.1&quot;)){\n                    System.out.printf(&quot;%s %s 201&quot;, request_method, request_version);\n                    response_data = String.format(&quot;%s 201 OK\\nServer: %s\\nDate: %s\\n&quot;, request_version, server_name, strDate);\n                }\n                else if (request_method.equals(&quot;HEAD&quot;) &amp;&amp; request_version.equals(&quot;HTTP/1.1&quot;)){\n                    System.out.printf(&quot;%s %s 203&quot;, request_method, request_version);\n                    response_data = String.format(&quot;%s 203 OK\\nServer: %s\\nDate: %s\\n&quot;, request_version, server_name, strDate);\n                }\n                else if (request_method.equals(&quot;PUT&quot;) &amp;&amp; request_version.equals(&quot;HTTP/1.1&quot;)){\n                    System.out.printf(&quot;%s %s 202&quot;, request_method, request_version);\n                    response_data = String.format(&quot;%s 202 OK\\nServer: %s\\nDate: %s\\n&quot;, request_version, server_name, strDate);\n                }\n                else if (request_method.equals(&quot;DELETE&quot;) &amp;&amp; request_version.equals(&quot;HTTP/1.1&quot;)){\n                    System.out.printf(&quot;%s %s 204&quot;, request_method, request_version);\n                    response_data = String.format(&quot;%s 204 OK\\nServer: %s\\nDate: %s\\n&quot;, request_version, server_name, strDate);\n                }\n                else {\n                    System.out.printf(&quot;%s %s 405&quot;, request_method, request_version);\n                    response_data = String.format(&quot;%s 405 OK\\nServer: %s\\nDate: %s\\n&quot;, request_version, server_name, strDate);\n                }\n\n                dataOutputStream.writeUTF(response_data);\n                dataOutputStream.flush();\n\n                if (clientMessage.equals(&quot;STOP&quot;)) break;\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        } finally {\n            try {\n                if (dataOutputStream != null) dataOutputStream.close();\n                if (outputStream != null) outputStream.close();\n                if (dataInputStream != null) dataInputStream.close();\n                if (inputStream != null) inputStream.close();\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }\n    }\n}\n</code></pre>\n<p>Here is <code>MyClient.java</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyClient {\n    public static void main(String[] args) {\n        Socket socket = null;\n\n        OutputStream outputStream = null;\n        DataOutputStream dataOutputStream = null;\n\n        InputStream inputStream = null;\n        DataInputStream dataInputStream = null;\n\n        String inputMessage = &quot;&quot;;\n        String outputMessage = &quot;&quot;;\n        Scanner scanner = null;\n\n        try{\n            socket = new Socket(&quot;localhost&quot;, 9000);\n            System.out.println(&quot;서버 연결 완료&quot;);\n\n            outputStream = socket.getOutputStream();\n            dataOutputStream = new DataOutputStream(outputStream);\n\n            inputStream = socket.getInputStream();\n            dataInputStream = new DataInputStream(inputStream);\n\n            scanner = new Scanner(System.in);\n\n            while(true){\n                System.out.print(&quot;메세지를 입력해주세요:&quot;);\n\n                inputMessage = scanner.next();\n\n                if (inputMessage.equals(&quot;GET&quot;)) {\n                    outputMessage = &quot;GET / HTTP/1.1\\r\\nHost: 127.0.0.1:9000\\r\\nUser-Agent: Mozilla/5.0\\r\\nAccept: */*\\r\\n\\r\\n&quot;;\n                } else if (inputMessage.equals(&quot;POST&quot;)) {\n                    outputMessage = &quot;POST / HTTP/1.1\\r\\nHost: 127.0.0.1:9000\\r\\nUser-Agent: insomnia/2022.2.1\\r\\nAccept: */*\\r\\nContent-Length: 0\\r\\n\\r\\n&quot;;\n                } else if (inputMessage.equals(&quot;HEAD&quot;)) {\n                    outputMessage = &quot;HEAD / HTTP/1.1\\r\\nHost: 127.0.0.1:9000\\r\\nUser-Agent: insomnia/2022.2.1\\r\\nAccept: */*\\r\\n\\r\\n&quot;;\n                } else if (inputMessage.equals(&quot;PUT&quot;)) {\n                    outputMessage = &quot;PUT / HTTP/1.1\\r\\nHost: 127.0.0.1:9000\\r\\nUser-Agent: insomnia/2022.2.1\\r\\nAccept: */*\\r\\nContent-Length: 0\\r\\n\\r\\n&quot;;\n                } else if (inputMessage.equals(&quot;DELETE&quot;)) {\n                    outputMessage = &quot;DELETE / HTTP/1.1\\r\\nHost: 127.0.0.1:9000\\r\\nUser-Agent: insomnia/2022.2.1\\r\\nAccept: */*\\r\\n\\r\\n&quot;;\n                } else {\n                    outputMessage = &quot;NotAllowed / HTTP/1.1\\r\\nHost: 127.0.0.1:9000\\r\\nUser-Agent: insomnia/2022.2.1\\r\\nAccept: */*\\r\\n\\r\\n&quot;;\n                }\n                dataOutputStream.writeUTF(outputMessage);\n                dataOutputStream.flush();\n                String receivedMessage = dataInputStream.readUTF();\n                System.out.println(receivedMessage);\n\n                if (inputMessage.equals(&quot;STOP&quot;)) break;\n            }\n        } catch (Exception e){\n            e.printStackTrace();\n        } finally {\n            try{\n                if (dataOutputStream != null) dataOutputStream.close();\n                if (outputStream != null) outputStream.close();\n                if (dataInputStream != null) dataInputStream.close();\n                if (inputStream != null) inputStream.close();\n            } catch (Exception e){\n                e.printStackTrace();\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","pdf"],"owner":{"account_id":3780735,"reputation":35,"user_id":3140288,"display_name":"Bharat Radhakrishnan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1672866399,"creation_date":1672866399,"question_id":75011324,"body_markdown":"I am trying to fix a bug in which the date field is not populated when the PDF is signed using docusign , but it works fine when it is done via Adobe sign.\r\n\r\nWhen I debug this issue , I see the form fields are not at all coming when the PDF is signed using docusign\r\n\r\n           PDDocument agreementDocument = PDDocument.load(file);\r\n\r\n\t\t\tPDAcroForm acroForm = agreementDocument.getDocumentCatalog().getAcroForm();\r\n\r\n\t\t\tif (acroForm != null) {\r\n\t\t\t\tPDTextField printName = (PDTextField) acroForm.getField(&quot;date&quot;);\r\n\t\t\t\tif (printName != null) {\r\n\t\t\t\t\tprintName.setReadOnly(true);\r\n\t\t\t\t\tprintName.setValue(new SimpleDateFormat(MM_DD_YYYY).format(date));\r\n\t\t\t\t}\r\n\r\nHere I see that the printName is coming as null when the pdf is signed by docusign , but it works fine when it is done by Adobe sign. I have tried with this https://stackoverflow.com/questions/71177868/empty-adobe-pdf-fields-stripped-from-document-when-returned-from-docusign\r\nand this https://stackoverflow.com/questions/72529503/docusign-listing-document-custom-fields-%E2%86%92-empty-json-response\r\n\r\nbut I seem to be getting lost :( , any help will be greatly appreciated.\r\n\r\n","title":"The form fields in PDF become empty when it is signed by docusign","body":"<p>I am trying to fix a bug in which the date field is not populated when the PDF is signed using docusign , but it works fine when it is done via Adobe sign.</p>\n<p>When I debug this issue , I see the form fields are not at all coming when the PDF is signed using docusign</p>\n<pre><code>       PDDocument agreementDocument = PDDocument.load(file);\n\n        PDAcroForm acroForm = agreementDocument.getDocumentCatalog().getAcroForm();\n\n        if (acroForm != null) {\n            PDTextField printName = (PDTextField) acroForm.getField(&quot;date&quot;);\n            if (printName != null) {\n                printName.setReadOnly(true);\n                printName.setValue(new SimpleDateFormat(MM_DD_YYYY).format(date));\n            }\n</code></pre>\n<p>Here I see that the printName is coming as null when the pdf is signed by docusign , but it works fine when it is done by Adobe sign. I have tried with this <a href=\"https://stackoverflow.com/questions/71177868/empty-adobe-pdf-fields-stripped-from-document-when-returned-from-docusign\">Empty Adobe PDF fields stripped from document when returned from DocuSign</a>\nand this <a href=\"https://stackoverflow.com/questions/72529503/docusign-listing-document-custom-fields-%E2%86%92-empty-json-response\">DocuSign: listing Document Custom fields → Empty JSON response</a></p>\n<p>but I seem to be getting lost :( , any help will be greatly appreciated.</p>\n"},{"tags":["java","mysql","hibernate","entity"],"comments":[{"owner":{"account_id":104911,"reputation":119222,"user_id":280244,"accept_rate":81,"display_name":"Ralph"},"score":0,"creation_date":1449395177,"post_id":34115642,"comment_id":55981279,"body_markdown":"Auto increment is a Hibernate/JPA feature, but has nothing to do with Spring.","body":"Auto increment is a Hibernate/JPA feature, but has nothing to do with Spring."},{"owner":{"account_id":5713384,"reputation":573,"user_id":4514541,"display_name":"gigin26"},"score":2,"creation_date":1449396613,"post_id":34115642,"comment_id":55981614,"body_markdown":"I&#39;m Using this in Spring and therefore the tag","body":"I&#39;m Using this in Spring and therefore the tag"},{"owner":{"account_id":104911,"reputation":119222,"user_id":280244,"accept_rate":81,"display_name":"Ralph"},"score":0,"creation_date":1449398431,"post_id":34115642,"comment_id":55982014,"body_markdown":"I understand you, but trust me, Spring has really nothing to do with Hibernat Auto Increament.","body":"I understand you, but trust me, Spring has really nothing to do with Hibernat Auto Increament."},{"owner":{"account_id":5713384,"reputation":573,"user_id":4514541,"display_name":"gigin26"},"score":0,"creation_date":1449595700,"post_id":34115642,"comment_id":56071152,"body_markdown":"But in my current usage, The database is being generated by Spring! So any method to generate the Database with my key field as auto-increment would also help me! therefore I thought it was worth mentioning!","body":"But in my current usage, The database is being generated by Spring! So any method to generate the Database with my key field as auto-increment would also help me! therefore I thought it was worth mentioning!"},{"owner":{"account_id":104911,"reputation":119222,"user_id":280244,"accept_rate":81,"display_name":"Ralph"},"score":0,"creation_date":1449603054,"post_id":34115642,"comment_id":56075680,"body_markdown":"I you do not trust me (I am using Spring and Hibernate for more then 9 years on a professional day by day basis), then add this tags again and rename you question.","body":"I you do not trust me (I am using Spring and Hibernate for more then 9 years on a professional day by day basis), then add this tags again and rename you question."},{"owner":{"account_id":5713384,"reputation":573,"user_id":4514541,"display_name":"gigin26"},"score":0,"creation_date":1449837965,"post_id":34115642,"comment_id":56191627,"body_markdown":"I totally trust you and I started using spring just 3 weeks ago. So you&#39;re the expert here. And with your experience, along with modifying my question you could&#39;ve provided a solution or pointed out that it was totally impossible.","body":"I totally trust you and I started using spring just 3 weeks ago. So you&#39;re the expert here. And with your experience, along with modifying my question you could&#39;ve provided a solution or pointed out that it was totally impossible."}],"answers":[{"comments":[{"owner":{"account_id":3661889,"reputation":5731,"user_id":3098087,"display_name":"Umesh Singh Kushwaha"},"score":1,"creation_date":1679288652,"post_id":34116600,"comment_id":133688127,"body_markdown":"You can use sequence generator https://thorben-janssen.com/composite-primary-keys-sequence/","body":"You can use sequence generator <a href=\"https://thorben-janssen.com/composite-primary-keys-sequence/\" rel=\"nofollow noreferrer\">thorben-janssen.com/composite-primary-keys-sequence</a>"}],"tags":[],"owner":{"account_id":2134002,"reputation":8980,"user_id":1894198,"accept_rate":52,"display_name":"tharindu_DG"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1449399238,"creation_date":1449399238,"answer_id":34116600,"question_id":34115642,"body_markdown":"You cannot use `@GeneratedValue` with `@EmbeddedId`, `@Embeddable` or `@IdClass`, the `@GeneratedValue` annotation gets ignored. \r\n**You have to manually assign the values.**\r\n\r\nCheck the following references : \r\n\r\nhttps://java.net/jira/browse/GLASSFISH-13567\r\n\r\n[https://forums.hibernate.org/viewtopic.php?p=2393944&amp;sid=57b20ef2c7de6f6bcba632130987bc22][1]\r\n\r\n\r\n  [1]: https://forums.hibernate.org/viewtopic.php?p=2393944&amp;sid=57b20ef2c7de6f6bcba632130987bc22","title":"Auto Increment not working for Entity class with composite Key","body":"<p>You cannot use <code>@GeneratedValue</code> with <code>@EmbeddedId</code>, <code>@Embeddable</code> or <code>@IdClass</code>, the <code>@GeneratedValue</code> annotation gets ignored. \n<strong>You have to manually assign the values.</strong></p>\n\n<p>Check the following references : </p>\n\n<p><a href=\"https://java.net/jira/browse/GLASSFISH-13567\" rel=\"nofollow\">https://java.net/jira/browse/GLASSFISH-13567</a></p>\n\n<p><a href=\"https://forums.hibernate.org/viewtopic.php?p=2393944&amp;sid=57b20ef2c7de6f6bcba632130987bc22\" rel=\"nofollow\">https://forums.hibernate.org/viewtopic.php?p=2393944&amp;sid=57b20ef2c7de6f6bcba632130987bc22</a></p>\n"},{"tags":[],"owner":{"account_id":7993603,"reputation":1201,"user_id":6030719,"accept_rate":50,"display_name":"S&#233;rgio Thiago Mendon&#231;a"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672866347,"creation_date":1672866347,"answer_id":75011313,"question_id":34115642,"body_markdown":"This is wrong, but i will give you the response:\r\n\r\nUse something like that to get the next val and set before your save.\r\n\r\nIn Repository: \r\n\r\n    @Query(value = &quot;SELECT SQ_CD_PLANO.nextVal FROM dual&quot;, nativeQuery = true)\r\n    Long getNextSequence();\r\n\r\n\r\nIn service:\r\n\r\n    Long nextVal = planHistRepository.getNextSequence();\r\n    planHist.getPlanHistId().setPlanCode(nextVal);\r\n    PlanHist planHistSaved = planHistRepository.save(planHist);\r\n\r\nWhy is it wrong? Because @EmbeddedId ignore @GeneratedValue inside itself. But the work around that i pass will make you smile.\r\n\r\nNote: I use ORACLE DATABASE in this demonstration.\r\nNote2: SQ_CD_PLANO is the sequence created for the auto increment.\r\n","title":"Auto Increment not working for Entity class with composite Key","body":"<p>This is wrong, but i will give you the response:</p>\n<p>Use something like that to get the next val and set before your save.</p>\n<p>In Repository:</p>\n<pre><code>@Query(value = &quot;SELECT SQ_CD_PLANO.nextVal FROM dual&quot;, nativeQuery = true)\nLong getNextSequence();\n</code></pre>\n<p>In service:</p>\n<pre><code>Long nextVal = planHistRepository.getNextSequence();\nplanHist.getPlanHistId().setPlanCode(nextVal);\nPlanHist planHistSaved = planHistRepository.save(planHist);\n</code></pre>\n<p>Why is it wrong? Because @EmbeddedId ignore @GeneratedValue inside itself. But the work around that i pass will make you smile.</p>\n<p>Note: I use ORACLE DATABASE in this demonstration.\nNote2: SQ_CD_PLANO is the sequence created for the auto increment.</p>\n"}],"owner":{"account_id":5713384,"reputation":573,"user_id":4514541,"display_name":"gigin26"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2267,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":34116600,"answer_count":2,"score":4,"last_activity_date":1672866347,"creation_date":1449391849,"question_id":34115642,"body_markdown":"I want one of my Composite key elements to be auto incremented and I am using Embedded Key for my entity class and therefore I am not able to use the Generated Values Annotation to solve the problem since `@GeneratedValue` annotation is ignored when using `@Embeddable` or `@EmbeddedId`. ","title":"Auto Increment not working for Entity class with composite Key","body":"<p>I want one of my Composite key elements to be auto incremented and I am using Embedded Key for my entity class and therefore I am not able to use the Generated Values Annotation to solve the problem since <code>@GeneratedValue</code> annotation is ignored when using <code>@Embeddable</code> or <code>@EmbeddedId</code>. </p>\n"},{"tags":["java","hashmap","java-stream"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1672863071,"post_id":75010731,"comment_id":132371323,"body_markdown":"&quot;*`outputList = inputList.stream().forEach(...)`*&quot; - This will not compile, [`forEach(...)` is a terminal operation, and returns `void`](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#forEach-java.util.function.Consumer-).","body":"&quot;<i><code>outputList = inputList.stream().forEach(...)</code></i>&quot; - This will not compile, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#forEach-java.util.function.Consumer-\" rel=\"nofollow noreferrer\"><code>forEach(...)</code> is a terminal operation, and returns <code>void</code></a>."},{"owner":{"account_id":27317711,"reputation":15,"user_id":20831957,"display_name":"bon mohanty"},"score":0,"creation_date":1672863202,"post_id":75010731,"comment_id":132371365,"body_markdown":"Fixed the code block.","body":"Fixed the code block."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1672863606,"post_id":75010731,"comment_id":132371493,"body_markdown":"&quot;*... if I use recommended way of using map() function...*&quot; - Who says that this is the recommended way? I do see nothing wrong with using `forEach(...)` (except, maybe, that I would remove the `stream()` since [each `Iterable` has a `forEach(...)` method](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Iterable.html#forEach(java.util.function.Consumer))). I personally would just stream the list twice, once for each mapping, but that is just preference-based.","body":"&quot;<i>... if I use recommended way of using map() function...</i>&quot; - Who says that this is the recommended way? I do see nothing wrong with using <code>forEach(...)</code> (except, maybe, that I would remove the <code>stream()</code> since <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Iterable.html#forEach(java.util.function.Consumer)\" rel=\"nofollow noreferrer\">each <code>Iterable</code> has a <code>forEach(...)</code> method</a>). I personally would just stream the list twice, once for each mapping, but that is just preference-based."},{"owner":{"account_id":19987292,"reputation":424,"user_id":14649181,"display_name":"Oskar"},"score":0,"creation_date":1672863733,"post_id":75010731,"comment_id":132371526,"body_markdown":"You can just write simple for loop.","body":"You can just write simple for loop."},{"owner":{"account_id":27317711,"reputation":15,"user_id":20831957,"display_name":"bon mohanty"},"score":0,"creation_date":1672863819,"post_id":75010731,"comment_id":132371557,"body_markdown":"@Turing85 1)  would be it be advisable to modify external collections from inside stream 2) will making database calls from stream of a list cause reduced performance  ?","body":"@Turing85 1)  would be it be advisable to modify external collections from inside stream 2) will making database calls from stream of a list cause reduced performance  ?"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1672864006,"post_id":75010731,"comment_id":132371621,"body_markdown":"You have to do something in a terminal `void` operation. Changing the state of anything is not really reactive, but it gets the job done. With respect to the database... a batch get would most probably perform better. How many entries are we talking?","body":"You have to do something in a terminal <code>void</code> operation. Changing the state of anything is not really reactive, but it gets the job done. With respect to the database... a batch get would most probably perform better. How many entries are we talking?"},{"owner":{"account_id":27317711,"reputation":15,"user_id":20831957,"display_name":"bon mohanty"},"score":0,"creation_date":1672864076,"post_id":75010731,"comment_id":132371645,"body_markdown":"@Turing85 in the range of 200-500 entries","body":"@Turing85 in the range of 200-500 entries"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1672864152,"post_id":75010731,"comment_id":132371660,"body_markdown":"Then I would advice to fetch the entities beforehand, through a single batch-call, and then operate on the fetched entities.","body":"Then I would advice to fetch the entities beforehand, through a single batch-call, and then operate on the fetched entities."},{"owner":{"account_id":27317711,"reputation":15,"user_id":20831957,"display_name":"bon mohanty"},"score":0,"creation_date":1672864509,"post_id":75010731,"comment_id":132371770,"body_markdown":"In that case, should the batch call involve data retrieval with SQL &#39;IN&#39; keyword?","body":"In that case, should the batch call involve data retrieval with SQL &#39;IN&#39; keyword?"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1672864756,"post_id":75010731,"comment_id":132371835,"body_markdown":"Different question. Depends on what exactly you are using (I am guessing spring-boot with a `JpaRepository` or `CrudRepository`), and how the entity is structured. Simplest case: you have the ids, then just call `findAllById(...)`. For other cases, I recommend googling. If you want to write the actual sql to execute then yes, this would most probably invovle an `IN` statement.","body":"Different question. Depends on what exactly you are using (I am guessing spring-boot with a <code>JpaRepository</code> or <code>CrudRepository</code>), and how the entity is structured. Simplest case: you have the ids, then just call <code>findAllById(...)</code>. For other cases, I recommend googling. If you want to write the actual sql to execute then yes, this would most probably invovle an <code>IN</code> statement."}],"answers":[{"comments":[{"owner":{"account_id":27317711,"reputation":15,"user_id":20831957,"display_name":"bon mohanty"},"score":0,"creation_date":1673819738,"post_id":75011164,"comment_id":132577440,"body_markdown":"Unfortunately my repository is framework provided, so Joins degrade performance. So i went with for-each","body":"Unfortunately my repository is framework provided, so Joins degrade performance. So i went with for-each"}],"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672865556,"creation_date":1672865556,"answer_id":75011164,"question_id":75010731,"body_markdown":"You cannot perform a map operation and collect two results into two different collections, so the `foreach` is already a good approach.\r\n\r\nIf you are concerned about performance you might be better off with a plain old `for` loop.\r\n\r\nIf your original list is the result of a database query probably you better do the join operation in a database query instead of performing an extra query for each entry in the list - but how to perform that is topic for another question (and needs other details to be included in the question anyways).","title":"Perform multiple unrelated operations in map function","body":"<p>You cannot perform a map operation and collect two results into two different collections, so the <code>foreach</code> is already a good approach.</p>\n<p>If you are concerned about performance you might be better off with a plain old <code>for</code> loop.</p>\n<p>If your original list is the result of a database query probably you better do the join operation in a database query instead of performing an extra query for each entry in the list - but how to perform that is topic for another question (and needs other details to be included in the question anyways).</p>\n"},{"comments":[{"owner":{"account_id":27317711,"reputation":15,"user_id":20831957,"display_name":"bon mohanty"},"score":0,"creation_date":1673444403,"post_id":75011274,"comment_id":132500201,"body_markdown":"Unfortunately my repository is framework provided, so Joins degrade performance","body":"Unfortunately my repository is framework provided, so Joins degrade performance"}],"tags":[],"owner":{"account_id":6748429,"reputation":163,"user_id":5199289,"display_name":"stilllearning"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672866105,"creation_date":1672866105,"answer_id":75011274,"question_id":75010731,"body_markdown":"Joining should probably be done in your repository, so you can just fetch an employee with details and skills.\r\n\r\nTo answer your specific question how to do it with streams and map you can do something like this, you will still need an Employee wrapper class though. Here I assumed Employee would have a constructor that would take the id.\r\n\r\n```java\r\ninput.stream()\r\n        .map(Employee::new)\r\n        .map(employee -&gt; {\r\n            employee.setSkills(getEmployeeSkills(employee.getId()));\r\n            return employee;\r\n        })\r\n        .map(employee -&gt; {\r\n            employee.setDetails(getEmployeeDetails(employee.getId()));\r\n            return employee;\r\n        })\r\n        .collect(Collectors.toList());\r\n```","title":"Perform multiple unrelated operations in map function","body":"<p>Joining should probably be done in your repository, so you can just fetch an employee with details and skills.</p>\n<p>To answer your specific question how to do it with streams and map you can do something like this, you will still need an Employee wrapper class though. Here I assumed Employee would have a constructor that would take the id.</p>\n<pre class=\"lang-java prettyprint-override\"><code>input.stream()\n        .map(Employee::new)\n        .map(employee -&gt; {\n            employee.setSkills(getEmployeeSkills(employee.getId()));\n            return employee;\n        })\n        .map(employee -&gt; {\n            employee.setDetails(getEmployeeDetails(employee.getId()));\n            return employee;\n        })\n        .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2124329,"reputation":612,"user_id":1886904,"display_name":"egeorge"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672866231,"creation_date":1672866231,"answer_id":75011293,"question_id":75010731,"body_markdown":"Since you are not really collecting the `outputMap` using the stream functionality, you *can* use map effectively for this purpose. \r\n\r\n```Java\r\noutputMap = new HashMap&lt;String, Skills&gt;();\r\noutputList = inputList.stream()\r\n    .map(elem -&gt; {\r\n       outputMap.put(elem, employeeRepository.getEmployeeSkills(elem));    \r\n       return employeeRepository.getEmployeeDetails(elem));\r\n    })\r\n    .collect(Collectors.toList());\r\n```\r\nIt is not beautiful to have a side effect in the stream like that, but it is simple to read, and I don&#39;t think you will get anything to run much faster.","title":"Perform multiple unrelated operations in map function","body":"<p>Since you are not really collecting the <code>outputMap</code> using the stream functionality, you <em>can</em> use map effectively for this purpose.</p>\n<pre><code>outputMap = new HashMap&lt;String, Skills&gt;();\noutputList = inputList.stream()\n    .map(elem -&gt; {\n       outputMap.put(elem, employeeRepository.getEmployeeSkills(elem));    \n       return employeeRepository.getEmployeeDetails(elem));\n    })\n    .collect(Collectors.toList());\n</code></pre>\n<p>It is not beautiful to have a side effect in the stream like that, but it is simple to read, and I don't think you will get anything to run much faster.</p>\n"}],"owner":{"account_id":27317711,"reputation":15,"user_id":20831957,"display_name":"bon mohanty"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1672866231,"creation_date":1672862831,"question_id":75010731,"body_markdown":"I have a list &#39;inputList&#39; where I want to apply a method on each element, and add the result in another list &#39;outputList&#39; and in another map &#39;outputMap&#39;. Below are the 2 Operations \r\n\r\n```\r\ngetEmployeeDetails(String employeeId) \r\n\r\n```\r\nand\r\n```\r\ngetEmployeeSkills( String employeeId) \r\n```\r\nneed to be performed for all elements of inputList.\r\n\r\nWhen I use foreach as below , in this case I can do multiple operations\r\n\r\n```\r\ninputList.stream()\r\n        .foreach ( elem -&gt; \r\n              {\r\n                outputList.add( employeeRepository.getEmployeeDetails(elem));       \r\n                outputMap.put( elem, employeeRepository.getEmployeeSkills(elem);                                                                                       });\r\n\r\n```\r\n\r\nHowever, if I use recommended way of using map() function, then I am unable to perform both operations and able to perform only getEmployeeDetails() functions.\r\n\r\n```\r\noutputList = inputList.stream()\r\n        .map(elem -&gt; employeeRepository.getEmployeeDetails(elem))\r\n        .collect(Collectors.toList()); \r\n\r\n```\r\n       \r\n\r\nIs it possible to do something like this?\r\n\r\n```\r\noutputList = inputList.stream()\r\n        .map(elem -&gt; {\r\n                        employeeRepository.getEmployeeDetails(elem));\r\n                        outputMap.put( elem, employeeRepository.getEmployeeSkills(elem);    \r\n        .collect(Collectors.toList()).collect(Collectors.toMap()); \r\n\r\n```\r\n\r\nOne more clarification is it is advisable to make database calls from stream? If not, what would be the better approach?\r\n\r\n```\r\n inputList .stream()\r\n        .foreach ( elem -&gt; \r\n              {\r\n                outputList.add( employeeRepository.getEmployeeDetails(elem));       \r\n                outputMap.put( elem, employeeRepository.getEmployeeSkills(elem);     \r\n                                                                                     });\r\n```","title":"Perform multiple unrelated operations in map function","body":"<p>I have a list 'inputList' where I want to apply a method on each element, and add the result in another list 'outputList' and in another map 'outputMap'. Below are the 2 Operations</p>\n<pre><code>getEmployeeDetails(String employeeId) \n\n</code></pre>\n<p>and</p>\n<pre><code>getEmployeeSkills( String employeeId) \n</code></pre>\n<p>need to be performed for all elements of inputList.</p>\n<p>When I use foreach as below , in this case I can do multiple operations</p>\n<pre><code>inputList.stream()\n        .foreach ( elem -&gt; \n              {\n                outputList.add( employeeRepository.getEmployeeDetails(elem));       \n                outputMap.put( elem, employeeRepository.getEmployeeSkills(elem);                                                                                       });\n\n</code></pre>\n<p>However, if I use recommended way of using map() function, then I am unable to perform both operations and able to perform only getEmployeeDetails() functions.</p>\n<pre><code>outputList = inputList.stream()\n        .map(elem -&gt; employeeRepository.getEmployeeDetails(elem))\n        .collect(Collectors.toList()); \n\n</code></pre>\n<p>Is it possible to do something like this?</p>\n<pre><code>outputList = inputList.stream()\n        .map(elem -&gt; {\n                        employeeRepository.getEmployeeDetails(elem));\n                        outputMap.put( elem, employeeRepository.getEmployeeSkills(elem);    \n        .collect(Collectors.toList()).collect(Collectors.toMap()); \n\n</code></pre>\n<p>One more clarification is it is advisable to make database calls from stream? If not, what would be the better approach?</p>\n<pre><code> inputList .stream()\n        .foreach ( elem -&gt; \n              {\n                outputList.add( employeeRepository.getEmployeeDetails(elem));       \n                outputMap.put( elem, employeeRepository.getEmployeeSkills(elem);     \n                                                                                     });\n</code></pre>\n"},{"tags":["java","email","exchangewebservices","ewsjavaapi","email-body"],"answers":[{"comments":[{"owner":{"account_id":3088909,"reputation":1219,"user_id":2615499,"accept_rate":56,"display_name":"Anjan Baradwaj"},"score":0,"creation_date":1672903803,"post_id":75011226,"comment_id":132378951,"body_markdown":"Thanks, it appears that there was some issue with parsing and I was able to troubleshoot it based on your suggestion.","body":"Thanks, it appears that there was some issue with parsing and I was able to troubleshoot it based on your suggestion."}],"tags":[],"owner":{"account_id":1085024,"reputation":20756,"user_id":1080923,"display_name":"Glen Scales"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672865897,"creation_date":1672865897,"answer_id":75011226,"question_id":75008308,"body_markdown":"I would try to enable tracing https://learn.microsoft.com/en-us/exchange/client-developer/exchange-web-services/how-to-trace-requests-responses-to-troubleshoot-ews-managed-api-applications or look at the actually soap responses your getting it could be a parsing issue at the client side (eg bug in the library). You could also try getting the Mimecontent of the Message instead and then parse back the body from that content. Something like EWSEditor might be useful for trying to diagnose what is going on it will show you what the responses look like and allow you to test mimecontent etc without needing to write any code https://github.com/dseph/EwsEditor/releases.","title":"Why am I not able to read the complete email body using Exchange Web Service Java API?","body":"<p>I would try to enable tracing <a href=\"https://learn.microsoft.com/en-us/exchange/client-developer/exchange-web-services/how-to-trace-requests-responses-to-troubleshoot-ews-managed-api-applications\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/exchange/client-developer/exchange-web-services/how-to-trace-requests-responses-to-troubleshoot-ews-managed-api-applications</a> or look at the actually soap responses your getting it could be a parsing issue at the client side (eg bug in the library). You could also try getting the Mimecontent of the Message instead and then parse back the body from that content. Something like EWSEditor might be useful for trying to diagnose what is going on it will show you what the responses look like and allow you to test mimecontent etc without needing to write any code <a href=\"https://github.com/dseph/EwsEditor/releases\" rel=\"nofollow noreferrer\">https://github.com/dseph/EwsEditor/releases</a>.</p>\n"}],"owner":{"account_id":3088909,"reputation":1219,"user_id":2615499,"accept_rate":56,"display_name":"Anjan Baradwaj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75011226,"answer_count":1,"score":0,"last_activity_date":1672865897,"creation_date":1672849267,"question_id":75008308,"body_markdown":"I am using EWS Java API to read and process emails. One such email contains few conversation and a MS Teams meeting information at the end. While reading such an email, the `EmailMessage.getBody()` returns only the MS Teams meeting information and all the other contents of the email body are ommitted. Sample code below:\r\n\r\n\r\n`EmailMessage message = EmailMessage.bind(service, new ItemId(item.get(nMessagePos).getId().getUniqueId()));`\r\n\r\n`String emailBody = message.getBody().toString()`\r\n\r\nI tried setting the `BodyType` property to both HTML and Text and then fetched the body of the email but it still returns only the Meeting invite details.\r\n\r\nIs there any specific reason for this and is there a way for me to get the complete email body?","title":"Why am I not able to read the complete email body using Exchange Web Service Java API?","body":"<p>I am using EWS Java API to read and process emails. One such email contains few conversation and a MS Teams meeting information at the end. While reading such an email, the <code>EmailMessage.getBody()</code> returns only the MS Teams meeting information and all the other contents of the email body are ommitted. Sample code below:</p>\n<p><code>EmailMessage message = EmailMessage.bind(service, new ItemId(item.get(nMessagePos).getId().getUniqueId()));</code></p>\n<p><code>String emailBody = message.getBody().toString()</code></p>\n<p>I tried setting the <code>BodyType</code> property to both HTML and Text and then fetched the body of the email but it still returns only the Meeting invite details.</p>\n<p>Is there any specific reason for this and is there a way for me to get the complete email body?</p>\n"},{"tags":["java","apache-kafka","apache-kafka-streams"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1672847459,"post_id":75007923,"comment_id":132366034,"body_markdown":"`value == value.get(&quot;email&quot;)` or `value == value.getEmail()` doesn&#39;t seem right in any case. Not even `equals()` would make sense here this seems to be a &quot;value container&quot; that has sub-elements and a container never is the same as the element it contains. Maybe try `value.get(&quot;email&quot;) == null` or something similar (I don&#39;t know the format here) to basically find out whether `value` represents an email address.","body":"<code>value == value.get(&quot;email&quot;)</code> or <code>value == value.getEmail()</code> doesn&#39;t seem right in any case. Not even <code>equals()</code> would make sense here this seems to be a &quot;value container&quot; that has sub-elements and a container never is the same as the element it contains. Maybe try <code>value.get(&quot;email&quot;) == null</code> or something similar (I don&#39;t know the format here) to basically find out whether <code>value</code> represents an email address."},{"owner":{"account_id":25291877,"reputation":1,"user_id":19117790,"display_name":"Anis"},"score":0,"creation_date":1672862702,"post_id":75007923,"comment_id":132371184,"body_markdown":"thanks for the reply. I already tried that also, still no field is been dropped. I think the answer might lie with &quot;mapValues&quot;  but I still don&#39;t get how to map multiple fields","body":"thanks for the reply. I already tried that also, still no field is been dropped. I think the answer might lie with &quot;mapValues&quot;  but I still don&#39;t get how to map multiple fields"}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672865875,"creation_date":1672865123,"answer_id":75011089,"question_id":75007923,"body_markdown":"You don&#39;t &quot;drop fields&quot; with `filter`, you drop _records_.\r\n\r\nI order to drop fields, you need to use `mapValues` and **return a new object without those fields**. \r\n\r\ne.g. \r\n\r\n```\r\nstream.mapValues((value) -&gt; {\r\n  return FooBuilder\r\n      .withEmail(value.get(&quot;email&quot;))\r\n      .withOrderId(value.get(&quot;orderId&quot;))\r\n      .build();\r\n});\r\n```\r\n\r\nAvro shouldn&#39;t matter, other than you&#39;ll need a new schema for the &quot;reduced object&quot; or make the not-set fields as nullable. ","title":"How to drop fields from avro data in kafka streams","body":"<p>You don't &quot;drop fields&quot; with <code>filter</code>, you drop <em>records</em>.</p>\n<p>I order to drop fields, you need to use <code>mapValues</code> and <strong>return a new object without those fields</strong>.</p>\n<p>e.g.</p>\n<pre><code>stream.mapValues((value) -&gt; {\n  return FooBuilder\n      .withEmail(value.get(&quot;email&quot;))\n      .withOrderId(value.get(&quot;orderId&quot;))\n      .build();\n});\n</code></pre>\n<p>Avro shouldn't matter, other than you'll need a new schema for the &quot;reduced object&quot; or make the not-set fields as nullable.</p>\n"}],"owner":{"account_id":25291877,"reputation":1,"user_id":19117790,"display_name":"Anis"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672865875,"creation_date":1672847236,"question_id":75007923,"body_markdown":"I have an avro data with fields `userid, email, orderid, totalcost, address .....`\r\nI want drop some fields from the data in kafka streams\r\n\r\nI have tried this to drop both the email and orderid field\r\n\r\n```java\r\navrodata.peek((key, value) -&gt; System.out.println(&quot;incoming &quot; + value))\r\n        .filterNot((key, value) -&gt; value == value.get(&quot;email&quot;))\r\n        .filterNot((key, value) -&gt; value == value.get(&quot;orderid&quot;))\r\n        .peek((key, value) -&gt; System.out.println(&quot;processed &quot; + value));\r\n```\r\n\r\nand also this using the getter from the Avro Maven plugin generated class\r\n\r\n```java\r\navrodata.peek((key, value) -&gt; System.out.println(&quot;incoming &quot; + value))\r\n        .filterNot((key, value) -&gt; value == value.getEmail())\r\n        .filterNot((key, value) -&gt; value == value.getOrderid())\r\n        .peek((key, value) -&gt; System.out.println(&quot;processed &quot; + value));\r\n```\r\n\r\nbut the second peek shows that no filtering is happening. also i am not sure if filterNot is the correct solution\r\n\r\ni also try using `mapValues` but cant figure out how to map multiple fields\r\n\r\nthanks.","title":"How to drop fields from avro data in kafka streams","body":"<p>I have an avro data with fields <code>userid, email, orderid, totalcost, address .....</code>\nI want drop some fields from the data in kafka streams</p>\n<p>I have tried this to drop both the email and orderid field</p>\n<pre class=\"lang-java prettyprint-override\"><code>avrodata.peek((key, value) -&gt; System.out.println(&quot;incoming &quot; + value))\n        .filterNot((key, value) -&gt; value == value.get(&quot;email&quot;))\n        .filterNot((key, value) -&gt; value == value.get(&quot;orderid&quot;))\n        .peek((key, value) -&gt; System.out.println(&quot;processed &quot; + value));\n</code></pre>\n<p>and also this using the getter from the Avro Maven plugin generated class</p>\n<pre class=\"lang-java prettyprint-override\"><code>avrodata.peek((key, value) -&gt; System.out.println(&quot;incoming &quot; + value))\n        .filterNot((key, value) -&gt; value == value.getEmail())\n        .filterNot((key, value) -&gt; value == value.getOrderid())\n        .peek((key, value) -&gt; System.out.println(&quot;processed &quot; + value));\n</code></pre>\n<p>but the second peek shows that no filtering is happening. also i am not sure if filterNot is the correct solution</p>\n<p>i also try using <code>mapValues</code> but cant figure out how to map multiple fields</p>\n<p>thanks.</p>\n"},{"tags":["java","spring","spring-boot","aspectj","load-time-weaving"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1672840101,"post_id":75004866,"comment_id":132363098,"body_markdown":"Following a manual for the 3.2.0 version of the framework where you are on 5.3 isn&#39;t the best idea. Also why both java-agents? You should only need 1. Next to that loadtimeweaving in Spring Boot is a bit of a pain to get to work (imho).","body":"Following a manual for the 3.2.0 version of the framework where you are on 5.3 isn&#39;t the best idea. Also why both java-agents? You should only need 1. Next to that loadtimeweaving in Spring Boot is a bit of a pain to get to work (imho)."},{"owner":{"account_id":14447739,"reputation":137,"user_id":10436325,"display_name":"Mina Kh"},"score":0,"creation_date":1672841628,"post_id":75004866,"comment_id":132363695,"body_markdown":"I searched alot and looked at many tutorials they where all the same with a little less or more. Yes definitely ltw in spring is pain but i have a requirement and also so curious about it. Thank&#39;s for your advice i will try to find related document. And i also tried one agent but got the same exception.","body":"I searched alot and looked at many tutorials they where all the same with a little less or more. Yes definitely ltw in spring is pain but i have a requirement and also so curious about it. Thank&#39;s for your advice i will try to find related document. And i also tried one agent but got the same exception."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1672847424,"post_id":75004866,"comment_id":132366021,"body_markdown":"Welcome to SO. I have a few educated guesses what might be wrong with your approach. But I cannot say for sure, unless you post a link to an [MCVE](https://stackoverflow.com/help/mcve), ideally a Maven project on GitHub. If I can reproduce your problem, it will be easy to fix. But I do not like speculating, possibly needing multiple iterations due to incomplete information.","body":"Welcome to SO. I have a few educated guesses what might be wrong with your approach. But I cannot say for sure, unless you post a link to an <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a>, ideally a Maven project on GitHub. If I can reproduce your problem, it will be easy to fix. But I do not like speculating, possibly needing multiple iterations due to incomplete information."},{"owner":{"account_id":14447739,"reputation":137,"user_id":10436325,"display_name":"Mina Kh"},"score":0,"creation_date":1672849593,"post_id":75004866,"comment_id":132366806,"body_markdown":"I uploaded the code in my github and put the link in post. thanks in advance. https://github.com/minakh1993/LoadTimeWeavingSample","body":"I uploaded the code in my github and put the link in post. thanks in advance. <a href=\"https://github.com/minakh1993/LoadTimeWeavingSample\" rel=\"nofollow noreferrer\">github.com/minakh1993/LoadTimeWeavingSample</a>"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1672850866,"post_id":75004866,"comment_id":132367294,"body_markdown":"IMO you don&#39;t need to configure the bean with TestAspect testAspect = Aspects.aspectOf(TestAspect.class);","body":"IMO you don&#39;t need to configure the bean with TestAspect testAspect = Aspects.aspectOf(TestAspect.class);"},{"owner":{"account_id":14447739,"reputation":137,"user_id":10436325,"display_name":"Mina Kh"},"score":0,"creation_date":1672851833,"post_id":75004866,"comment_id":132367653,"body_markdown":"I know i added it to show the exception on startup for simplicity...otherwise the exception shows itself on calling the pointcut.","body":"I know i added it to show the exception on startup for simplicity...otherwise the exception shows itself on calling the pointcut."}],"answers":[{"comments":[{"owner":{"account_id":14447739,"reputation":137,"user_id":10436325,"display_name":"Mina Kh"},"score":0,"creation_date":1672861535,"post_id":75010362,"comment_id":132370792,"body_markdown":"Actually the pointcut was correct i wanted a pointcut in a dependency. The annotation was left in project from previous attempts. For the same pointcut as before does aop.xml have problem?","body":"Actually the pointcut was correct i wanted a pointcut in a dependency. The annotation was left in project from previous attempts. For the same pointcut as before does aop.xml have problem?"},{"owner":{"account_id":14447739,"reputation":137,"user_id":10436325,"display_name":"Mina Kh"},"score":0,"creation_date":1672861610,"post_id":75010362,"comment_id":132370814,"body_markdown":"So why does on startup log shows that weaving has happend? But aspectOf method doesn&#39;t exist? I sincerely appreciate for the time you spend.","body":"So why does on startup log shows that weaving has happend? But aspectOf method doesn&#39;t exist? I sincerely appreciate for the time you spend."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1672862683,"post_id":75010362,"comment_id":132371177,"body_markdown":"Like @Simon Martinelli previously said in a comment: It is simply not necessary to create a bean for a native AspectJ aspect, unless you want to inject Spring components into them. Keep it simple!","body":"Like @Simon Martinelli previously said in a comment: It is simply not necessary to create a bean for a native AspectJ aspect, unless you want to inject Spring components into them. Keep it simple!"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1672863031,"post_id":75010362,"comment_id":132371302,"body_markdown":"But if you like to keep the `@Bean` method for the aspect, it should work. For me, it works nicely. Add this method to your aspect: `public void doSomething() { System.out.println(&quot;aspect doing something&quot;); }` Then, add this to your main method: `appContext.getBean(TestAspect.class).doSomething();` That will print `aspect doing something`, FWIW.","body":"But if you like to keep the <code>@Bean</code> method for the aspect, it should work. For me, it works nicely. Add this method to your aspect: <code>public void doSomething() { System.out.println(&quot;aspect doing something&quot;); }</code> Then, add this to your main method: <code>appContext.getBean(TestAspect.class).doSomething();</code> That will print <code>aspect doing something</code>, FWIW."},{"owner":{"account_id":14447739,"reputation":137,"user_id":10436325,"display_name":"Mina Kh"},"score":0,"creation_date":1672863256,"post_id":75010362,"comment_id":132371376,"body_markdown":"i updated the github repository with the annotation pointcut and something really strange is happening. when this line exist &lt;include within=&quot;com.sample.demo..*&quot;/&gt; the other pointcut in dependency is working fine but when i remove this one the other pointcut doesn&#39;t work with the same exception no aspectOf method exist. what is the reason of this behavior? actually the problem is now having one pointcut  in dependency classes.","body":"i updated the github repository with the annotation pointcut and something really strange is happening. when this line exist &lt;include within=&quot;com.sample.demo..*&quot;/&gt; the other pointcut in dependency is working fine but when i remove this one the other pointcut doesn&#39;t work with the same exception no aspectOf method exist. what is the reason of this behavior? actually the problem is now having one pointcut  in dependency classes."},{"owner":{"account_id":14447739,"reputation":137,"user_id":10436325,"display_name":"Mina Kh"},"score":0,"creation_date":1672863849,"post_id":75010362,"comment_id":132371566,"body_markdown":"I also noticed that @EnableLoadTimeWeaving() annotation is useless. when i remove it there is no reaction and the weaving is done. is there any way to disable load time weaving with a spring property on runtime? because there was suggestions on web on using @EnableLoadTimeWeaving() and @Profile together in order to use ltw in specific profiles.","body":"I also noticed that @EnableLoadTimeWeaving() annotation is useless. when i remove it there is no reaction and the weaving is done. is there any way to disable load time weaving with a spring property on runtime? because there was suggestions on web on using @EnableLoadTimeWeaving() and @Profile together in order to use ltw in specific profiles."},{"owner":{"account_id":14447739,"reputation":137,"user_id":10436325,"display_name":"Mina Kh"},"score":0,"creation_date":1672864271,"post_id":75010362,"comment_id":132371698,"body_markdown":"I answer my first question as this : when ever we want to specify a pointcut in other library there must be two weaver path: one for the path of aspect and one for the path of  pointcut in order to work. problem solved by adding this to another weaver path:  &lt;include within=&quot;com.sample.demo.aspect.TestAspect&quot;/&gt;","body":"I answer my first question as this : when ever we want to specify a pointcut in other library there must be two weaver path: one for the path of aspect and one for the path of  pointcut in order to work. problem solved by adding this to another weaver path:  &lt;include within=&quot;com.sample.demo.aspect.TestAspect&quot;/&gt;"},{"owner":{"account_id":14447739,"reputation":137,"user_id":10436325,"display_name":"Mina Kh"},"score":0,"creation_date":1672864817,"post_id":75010362,"comment_id":132371855,"body_markdown":"I greatly appreciate your help  kriegaex. the problem was absence of aspect path in aop.xml that i updated it and solved the problem. i assume that configuring  load time weaving with spring profiles is not possible since @EnableLoadTimeWeaving have no affect.","body":"I greatly appreciate your help  kriegaex. the problem was absence of aspect path in aop.xml that i updated it and solved the problem. i assume that configuring  load time weaving with spring profiles is not possible since @EnableLoadTimeWeaving have no affect."}],"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"comment_count":8,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672860517,"creation_date":1672860517,"answer_id":75010362,"question_id":75004866,"body_markdown":"Thanks for the GitHub repo. It was easy to fix the problem like this, you did yourself a great favour by preparing it.\r\n\r\nFirstly, the pointcut and weaver configuration does not fit the example class name. Please change\r\n```java\r\n@Pointcut(&quot;execution(public * com.tosan.http.server.starter.logger.ServiceLogger.log(..))&quot;)\r\n```\r\nto\r\n```java\r\n@Pointcut(&quot;execution(* *(..)) &amp;&amp; @annotation(com.sample.demo.TestAnnotation)&quot;)\r\n```\r\nbecause I guess you want to intercept methods with marker annotations.\r\n\r\nIn _aop.xml_, remove line\r\n```xml\r\n&lt;include within=&quot;com.tosan.http.server.starter.logger.ServiceLogger&quot;/&gt;\r\n```\r\nor replace it by something like\r\n```xml\r\n&lt;include within=&quot;com.sample.demo..*&quot;/&gt;\r\n```\r\n\r\nNext, get rid of factory method `@Bean TestAspect testAspect()`. You do not need it. Instead, in order to test the aspect, simply change the main method to:\r\n\r\n```java\r\n  public static void main(String[] args) {\r\n    try (ConfigurableApplicationContext appContext = SpringApplication.run(DemoApplication.class, args)) {\r\n      appContext.getBean(TestController.class).test();\r\n    }\r\n  }\r\n```\r\n\r\nIf now you run your application like before, the console log says:\r\n\r\n```none\r\n(...)\r\n[AppClassLoader@4d7e1886] info register aspect com.sample.demo.aspect.TestAspect\r\n(...)\r\n  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::                (v2.7.5)\r\n\r\n(...)\r\n[AppClassLoader@4d7e1886] weaveinfo Join point &#39;method-execution(void com.sample.demo.controller.TestController.test())&#39; in Type &#39;com.sample.demo.controller.TestController&#39; (TestController.java:17) advised by around advice from &#39;com.sample.demo.aspect.TestAspect&#39; (TestAspect.java)\r\n(...)\r\n2023-01-04 20:25:47.599  INFO 20208 --- [           main] c.sample.demo.controller.TestController  : {\r\n  &quot;service&quot; : &quot;test&quot;,\r\n  &quot;request&quot; : { }\r\n}\r\naspect invocation\r\ntest\r\n2023-01-04 20:25:47.611  INFO 20208 --- [           main] c.sample.demo.controller.TestController  : {\r\n  &quot;service&quot; : &quot;test&quot;,\r\n  &quot;duration&quot; : &quot;0.026s&quot;,\r\n  &quot;response&quot; : { }\r\n}\r\n(...)\r\n```\r\n\r\nPlease note `aspect invocation` printed by the aspect.","title":"NoSuchMethodException aspectOf in aspectj load time weaving in spring boot","body":"<p>Thanks for the GitHub repo. It was easy to fix the problem like this, you did yourself a great favour by preparing it.</p>\n<p>Firstly, the pointcut and weaver configuration does not fit the example class name. Please change</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Pointcut(&quot;execution(public * com.tosan.http.server.starter.logger.ServiceLogger.log(..))&quot;)\n</code></pre>\n<p>to</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Pointcut(&quot;execution(* *(..)) &amp;&amp; @annotation(com.sample.demo.TestAnnotation)&quot;)\n</code></pre>\n<p>because I guess you want to intercept methods with marker annotations.</p>\n<p>In <em>aop.xml</em>, remove line</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;include within=&quot;com.tosan.http.server.starter.logger.ServiceLogger&quot;/&gt;\n</code></pre>\n<p>or replace it by something like</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;include within=&quot;com.sample.demo..*&quot;/&gt;\n</code></pre>\n<p>Next, get rid of factory method <code>@Bean TestAspect testAspect()</code>. You do not need it. Instead, in order to test the aspect, simply change the main method to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  public static void main(String[] args) {\n    try (ConfigurableApplicationContext appContext = SpringApplication.run(DemoApplication.class, args)) {\n      appContext.getBean(TestController.class).test();\n    }\n  }\n</code></pre>\n<p>If now you run your application like before, the console log says:</p>\n<pre class=\"lang-none prettyprint-override\"><code>(...)\n[AppClassLoader@4d7e1886] info register aspect com.sample.demo.aspect.TestAspect\n(...)\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::                (v2.7.5)\n\n(...)\n[AppClassLoader@4d7e1886] weaveinfo Join point 'method-execution(void com.sample.demo.controller.TestController.test())' in Type 'com.sample.demo.controller.TestController' (TestController.java:17) advised by around advice from 'com.sample.demo.aspect.TestAspect' (TestAspect.java)\n(...)\n2023-01-04 20:25:47.599  INFO 20208 --- [           main] c.sample.demo.controller.TestController  : {\n  &quot;service&quot; : &quot;test&quot;,\n  &quot;request&quot; : { }\n}\naspect invocation\ntest\n2023-01-04 20:25:47.611  INFO 20208 --- [           main] c.sample.demo.controller.TestController  : {\n  &quot;service&quot; : &quot;test&quot;,\n  &quot;duration&quot; : &quot;0.026s&quot;,\n  &quot;response&quot; : { }\n}\n(...)\n</code></pre>\n<p>Please note <code>aspect invocation</code> printed by the aspect.</p>\n"}],"owner":{"account_id":14447739,"reputation":137,"user_id":10436325,"display_name":"Mina Kh"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":415,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75010362,"answer_count":1,"score":2,"last_activity_date":1672865628,"creation_date":1672832286,"question_id":75004866,"body_markdown":"I used [spring ltw documentation][1] to configure load time weaving in my spring boot app.\r\nbelow dependencies are in pom file:\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n         &lt;dependency&gt;\r\n             &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n             &lt;artifactId&gt;spring-instrument&lt;/artifactId&gt;\r\n         &lt;/dependency&gt;\r\n\r\n\r\naop.xml is configured as below and have placed in resources/META-INF\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;!DOCTYPE aspectj PUBLIC\r\n        &quot;-//AspectJ//DTD//EN&quot; &quot;http://www.eclipse.org/aspectj/dtd/aspectj.dtd&quot;&gt;\r\n    &lt;aspectj&gt;\r\n        &lt;weaver options=&quot;-verbose -showWeaveInfo&quot;&gt;\r\n            &lt;include within=&quot;com.tosan.http.server.starter.logger.ServiceLogger&quot;/&gt;\r\n        &lt;/weaver&gt;\r\n    &lt;aspects&gt;\r\n        &lt;aspect name=&quot;com.sample.demo.aspect.TestAspect&quot;/&gt;\r\n    &lt;/aspects&gt;\r\n&lt;/aspectj&gt;\r\n\r\nI also enabled aspectj load time weaving with spring boot configuration:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @Configuration\r\n    @EnableLoadTimeWeaving()\r\n    public class DemoConfig {\r\n\r\n       @Bean\r\n       public TestAspect testAspect() {\r\n           TestAspect testAspect = Aspects.aspectOf(TestAspect.class);\r\n           return testAspect;\r\n       }\r\n    }\r\n\r\non running program javaagent is passed as below:\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    -javaagent:\\aspectjweaver.jar \r\n    -javaagent:\\spring-instrument-5.3.23.jar\r\n\r\napp give noSuchMethodException on start up:\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    [AppClassLoader@368239c8] weaveinfo Join point &#39;method-execution(java.lang.Object \r\n    com.tosan.http.server.starter.logger.ServiceLogger.log(org.aspectj.lang.ProceedingJoinPoint))&#39; \r\n    in Type &#39;com.tosan.http.server.starter.logger.ServiceLogger&#39; (ServiceLogger.java:17) advised \r\n    by around advice from &#39;com.sample.demo.aspect.TestAspect&#39; (TestAspect.java)\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name \r\n    &#39;testAspect&#39; defined in class path resource [com/sample/demo/DemoConfig.class]: Bean \r\n    instantiation via factory method failed; nested exception is \r\n    org.springframework.beans.BeanInstantiationException: Failed to instantiate \r\n    [com.sample.demo.aspect.TestAspect]: Factory method &#39;testAspect&#39; threw exception; nested \r\n    exception is org.aspectj.lang.NoAspectBoundException: Exception while initializing \r\n    com.sample.demo.aspect.TestAspect: java.lang.NoSuchMethodException: \r\n    com.sample.demo.aspect.TestAspect.aspectOf()\r\n\tat \r\n\r\nI should also mention that when i add ajc compiler(with com.nickwongdev plugin) app starts fine but the aspect execute twice. also tried ajc compiler and only aspectjWeaver as agent and it gives error for not finding spring specific weaver classes and tried ajc compiler with only spring weaver agent that doesn&#39;t give any error but aspect is not executed.\r\nany help would be appreciated.\r\n\r\nComplete code sample on [github][2].\r\n\r\nupadate: problem solved by adding the path of aspect in weaver:\r\n\r\n    &lt;include within=&quot;com.sample.demo.aspect.TestAspect&quot;/&gt;\r\n\r\nI also noticed by removing @EnableLoadTimeWeaving() nothing happen and ltw is done in presence or absence of this annotation. This annotation only force the presence of spring weaver as javaagent in runtime. \r\n\r\ncorrect code is updated on github.\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/3.2.0.RELEASE/spring-framework-reference/htmlsingle/#aop-aj-ltw\r\n  [2]: https://github.com/minakh1993/LoadTimeWeavingSample","title":"NoSuchMethodException aspectOf in aspectj load time weaving in spring boot","body":"<p>I used <a href=\"https://docs.spring.io/spring-framework/docs/3.2.0.RELEASE/spring-framework-reference/htmlsingle/#aop-aj-ltw\" rel=\"nofollow noreferrer\">spring ltw documentation</a> to configure load time weaving in my spring boot app.\nbelow dependencies are in pom file:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n        &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n        &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n     &lt;dependency&gt;\n         &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n         &lt;artifactId&gt;spring-instrument&lt;/artifactId&gt;\n     &lt;/dependency&gt;\n</code></pre>\n<p>aop.xml is configured as below and have placed in resources/META-INF</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!DOCTYPE aspectj PUBLIC\n    &quot;-//AspectJ//DTD//EN&quot; &quot;http://www.eclipse.org/aspectj/dtd/aspectj.dtd&quot;&gt;\n&lt;aspectj&gt;\n    &lt;weaver options=&quot;-verbose -showWeaveInfo&quot;&gt;\n        &lt;include within=&quot;com.tosan.http.server.starter.logger.ServiceLogger&quot;/&gt;\n    &lt;/weaver&gt;\n&lt;aspects&gt;\n    &lt;aspect name=&quot;com.sample.demo.aspect.TestAspect&quot;/&gt;\n&lt;/aspects&gt;\n</code></pre>\n\n<p>I also enabled aspectj load time weaving with spring boot configuration:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableLoadTimeWeaving()\npublic class DemoConfig {\n\n   @Bean\n   public TestAspect testAspect() {\n       TestAspect testAspect = Aspects.aspectOf(TestAspect.class);\n       return testAspect;\n   }\n}\n</code></pre>\n<p>on running program javaagent is passed as below:</p>\n<pre class=\"lang-none prettyprint-override\"><code>-javaagent:\\aspectjweaver.jar \n-javaagent:\\spring-instrument-5.3.23.jar\n</code></pre>\n<p>app give noSuchMethodException on start up:</p>\n<pre class=\"lang-none prettyprint-override\"><code>[AppClassLoader@368239c8] weaveinfo Join point 'method-execution(java.lang.Object \ncom.tosan.http.server.starter.logger.ServiceLogger.log(org.aspectj.lang.ProceedingJoinPoint))' \nin Type 'com.tosan.http.server.starter.logger.ServiceLogger' (ServiceLogger.java:17) advised \nby around advice from 'com.sample.demo.aspect.TestAspect' (TestAspect.java)\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name \n'testAspect' defined in class path resource [com/sample/demo/DemoConfig.class]: Bean \ninstantiation via factory method failed; nested exception is \norg.springframework.beans.BeanInstantiationException: Failed to instantiate \n[com.sample.demo.aspect.TestAspect]: Factory method 'testAspect' threw exception; nested \nexception is org.aspectj.lang.NoAspectBoundException: Exception while initializing \ncom.sample.demo.aspect.TestAspect: java.lang.NoSuchMethodException: \ncom.sample.demo.aspect.TestAspect.aspectOf()\nat \n</code></pre>\n<p>I should also mention that when i add ajc compiler(with com.nickwongdev plugin) app starts fine but the aspect execute twice. also tried ajc compiler and only aspectjWeaver as agent and it gives error for not finding spring specific weaver classes and tried ajc compiler with only spring weaver agent that doesn't give any error but aspect is not executed.\nany help would be appreciated.</p>\n<p>Complete code sample on <a href=\"https://github.com/minakh1993/LoadTimeWeavingSample\" rel=\"nofollow noreferrer\">github</a>.</p>\n<p>upadate: problem solved by adding the path of aspect in weaver:</p>\n<pre><code>&lt;include within=&quot;com.sample.demo.aspect.TestAspect&quot;/&gt;\n</code></pre>\n<p>I also noticed by removing @EnableLoadTimeWeaving() nothing happen and ltw is done in presence or absence of this annotation. This annotation only force the presence of spring weaver as javaagent in runtime.</p>\n<p>correct code is updated on github.</p>\n"},{"tags":["java","scala","apache-spark","amazon-s3"],"comments":[{"owner":{"account_id":3221623,"reputation":3136,"user_id":2718939,"display_name":"Ronak Jain"},"score":0,"creation_date":1672857444,"post_id":75008484,"comment_id":132369510,"body_markdown":"The way is correct I think the problem is with org.apache.hadoop:hadoop-aws dependency not getting resolved properly.","body":"The way is correct I think the problem is with org.apache.hadoop:hadoop-aws dependency not getting resolved properly."},{"owner":{"account_id":13559063,"reputation":547,"user_id":9781480,"display_name":"PiFace"},"score":0,"creation_date":1672858742,"post_id":75008484,"comment_id":132369898,"body_markdown":"Is it a version mismatch? Reading data from S3 inside the application (e.g. `spark.read.parquet(&quot;s3a://path/to/file.parquet&quot;)`) works just fine, so I think it should be working.","body":"Is it a version mismatch? Reading data from S3 inside the application (e.g. <code>spark.read.parquet(&quot;s3a:&#47;&#47;path&#47;to&#47;file.parquet&quot;)</code>) works just fine, so I think it should be working."},{"owner":{"account_id":3221623,"reputation":3136,"user_id":2718939,"display_name":"Ronak Jain"},"score":0,"creation_date":1672861884,"post_id":75008484,"comment_id":132370910,"body_markdown":"Just realized you&#39;re using client mode, and with client mode only local paths work","body":"Just realized you&#39;re using client mode, and with client mode only local paths work"},{"owner":{"account_id":3221623,"reputation":3136,"user_id":2718939,"display_name":"Ronak Jain"},"score":0,"creation_date":1672863950,"post_id":75008484,"comment_id":132371600,"body_markdown":"Added my answer based on observation, let me know if it helps","body":"Added my answer based on observation, let me know if it helps"}],"answers":[{"comments":[{"owner":{"account_id":13559063,"reputation":547,"user_id":9781480,"display_name":"PiFace"},"score":0,"creation_date":1672923867,"post_id":75010905,"comment_id":132385144,"body_markdown":"So, I&#39;d have to add hadoop-aws to the classpath _before_ running spark? What is the correct way to do that?","body":"So, I&#39;d have to add hadoop-aws to the classpath <i>before</i> running spark? What is the correct way to do that?"},{"owner":{"account_id":3221623,"reputation":3136,"user_id":2718939,"display_name":"Ronak Jain"},"score":0,"creation_date":1672925003,"post_id":75010905,"comment_id":132385545,"body_markdown":"@PiFace You won&#39;t be able to do that with Spark-submit. Instead as an alternative you can download the Jar locally and use --jars with local URI or place the Jar in the cluster manually or try with Cluster Mode.","body":"@PiFace You won&#39;t be able to do that with Spark-submit. Instead as an alternative you can download the Jar locally and use --jars with local URI or place the Jar in the cluster manually or try with Cluster Mode."},{"owner":{"account_id":3221623,"reputation":3136,"user_id":2718939,"display_name":"Ronak Jain"},"score":0,"creation_date":1672925273,"post_id":75010905,"comment_id":132385651,"body_markdown":"* spark-submit and maven coordinates.\n \nIf you have only one JAR I would recommend just having it locally. If not, then download the Hadoop-aws jar and use extraClassPath. Check https://aws.amazon.com/premiumsupport/knowledge-center/emr-spark-classnotfoundexception/","body":"* spark-submit and maven coordinates.   If you have only one JAR I would recommend just having it locally. If not, then download the Hadoop-aws jar and use extraClassPath. Check <a href=\"https://aws.amazon.com/premiumsupport/knowledge-center/emr-spark-classnotfoundexception/\" rel=\"nofollow noreferrer\">aws.amazon.com/premiumsupport/knowledge-center/&hellip;</a>"},{"owner":{"account_id":13559063,"reputation":547,"user_id":9781480,"display_name":"PiFace"},"score":0,"creation_date":1672925481,"post_id":75010905,"comment_id":132385725,"body_markdown":"I see, thanks for pointing out this information.","body":"I see, thanks for pointing out this information."},{"owner":{"account_id":3221623,"reputation":3136,"user_id":2718939,"display_name":"Ronak Jain"},"score":0,"creation_date":1672925582,"post_id":75010905,"comment_id":132385761,"body_markdown":"@PiFace Glad! Let me know if you need help with the same,","body":"@PiFace Glad! Let me know if you need help with the same,"}],"tags":[],"owner":{"account_id":3221623,"reputation":3136,"user_id":2718939,"display_name":"Ronak Jain"},"comment_count":5,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1672864594,"creation_date":1672863913,"answer_id":75010905,"question_id":75008484,"body_markdown":"This may be because when in client mode - Spark during its boot distributes the Jars (specified in --jars) via Netty first. To download a remote JAR from a third-party file system (i.e. S3), it&#39;ll need the right dependency (i.e. hadoop-aws) in the classpath already (before it prepares the final classpath).\r\n\r\nBut since it is yet to distribute the JARs it has not prepared the classpath - thus when it tries to download the JAR from s3, it fails with ClassNotFound (as hadoop-aws is yet to be on the classpath), but when doing the same in the application code it succeeds - as by that time the classpath has been resolved.\r\n\r\n**i.e. Downloading the dependency is dependent on a library that will be loaded later.** \r\n","title":"How to run Apache Spark applications with a JAR dependency from AWS S3?","body":"<p>This may be because when in client mode - Spark during its boot distributes the Jars (specified in --jars) via Netty first. To download a remote JAR from a third-party file system (i.e. S3), it'll need the right dependency (i.e. hadoop-aws) in the classpath already (before it prepares the final classpath).</p>\n<p>But since it is yet to distribute the JARs it has not prepared the classpath - thus when it tries to download the JAR from s3, it fails with ClassNotFound (as hadoop-aws is yet to be on the classpath), but when doing the same in the application code it succeeds - as by that time the classpath has been resolved.</p>\n<p><strong>i.e. Downloading the dependency is dependent on a library that will be loaded later.</strong></p>\n"}],"owner":{"account_id":13559063,"reputation":547,"user_id":9781480,"display_name":"PiFace"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":988,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75010905,"answer_count":1,"score":1,"last_activity_date":1672864594,"creation_date":1672850064,"question_id":75008484,"body_markdown":"I have a `.jar` file containing useful functions for my application located in an AWS S3 bucket, and I want to use it as a dependency in Spark without having to first download it locally. Is it possible to directly reference the `.jar` file with `spark-submit` (or `pyspark`) `--jars` option?\r\n\r\nSo far, I have tried the following:\r\n\r\n```bash\r\nspark-shell --packages com.amazonaws:aws-java-sdk:1.12.336,org.apache.hadoop:hadoop-aws:3.3.4 --jars s3a://bucket/path/to/jar/file.jar\r\n```\r\n\r\nThe `AWS_ACCESS_KEY_ID` and `AWS_SECRET_ACCESS_KEY` variables are correctly set, since when running the same command without the `--jars` option, other files in the same bucket are successfully read. However, if the option is added, I get the following error:\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.RuntimeException: java.lang.ClassNotFoundException: Class org.apache.hadoop.fs.s3a.S3AFileSystem not found\r\n\tat org.apache.hadoop.conf.Configuration.getClass(Configuration.java:2688)\r\n\tat org.apache.hadoop.fs.FileSystem.getFileSystemClass(FileSystem.java:3431)\r\n\tat org.apache.hadoop.fs.FileSystem.createFileSystem(FileSystem.java:3466)\r\n\tat org.apache.hadoop.fs.FileSystem.access$300(FileSystem.java:174)\r\n\tat org.apache.hadoop.fs.FileSystem$Cache.getInternal(FileSystem.java:3574)\r\n\tat org.apache.hadoop.fs.FileSystem$Cache.get(FileSystem.java:3521)\r\n\tat org.apache.hadoop.fs.FileSystem.get(FileSystem.java:540)\r\n\tat org.apache.spark.util.DependencyUtils$.resolveGlobPath(DependencyUtils.scala:317)\r\n\tat org.apache.spark.util.DependencyUtils$.$anonfun$resolveGlobPaths$2(DependencyUtils.scala:273)\r\n\tat org.apache.spark.util.DependencyUtils$.$anonfun$resolveGlobPaths$2$adapted(DependencyUtils.scala:271)\r\n\tat scala.collection.TraversableLike.$anonfun$flatMap$1(TraversableLike.scala:293)\r\n\tat scala.collection.IndexedSeqOptimized.foreach(IndexedSeqOptimized.scala:36)\r\n\tat scala.collection.IndexedSeqOptimized.foreach$(IndexedSeqOptimized.scala:33)\r\n\tat scala.collection.mutable.WrappedArray.foreach(WrappedArray.scala:38)\r\n\tat scala.collection.TraversableLike.flatMap(TraversableLike.scala:293)\r\n\tat scala.collection.TraversableLike.flatMap$(TraversableLike.scala:290)\r\n\tat scala.collection.AbstractTraversable.flatMap(Traversable.scala:108)\r\n\tat org.apache.spark.util.DependencyUtils$.resolveGlobPaths(DependencyUtils.scala:271)\r\n\tat org.apache.spark.deploy.SparkSubmit.$anonfun$prepareSubmitEnvironment$4(SparkSubmit.scala:364)\r\n\tat scala.Option.map(Option.scala:230)\r\n\tat org.apache.spark.deploy.SparkSubmit.prepareSubmitEnvironment(SparkSubmit.scala:364)\r\n\tat org.apache.spark.deploy.SparkSubmit.org$apache$spark$deploy$SparkSubmit$$runMain(SparkSubmit.scala:901)\r\n\tat org.apache.spark.deploy.SparkSubmit.doRunMain$1(SparkSubmit.scala:180)\r\n\tat org.apache.spark.deploy.SparkSubmit.submit(SparkSubmit.scala:203)\r\n\tat org.apache.spark.deploy.SparkSubmit.doSubmit(SparkSubmit.scala:90)\r\n\tat org.apache.spark.deploy.SparkSubmit$$anon$2.doSubmit(SparkSubmit.scala:1046)\r\n\tat org.apache.spark.deploy.SparkSubmit$.main(SparkSubmit.scala:1055)\r\n\tat org.apache.spark.deploy.SparkSubmit.main(SparkSubmit.scala)\r\nCaused by: java.lang.ClassNotFoundException: Class org.apache.hadoop.fs.s3a.S3AFileSystem not found\r\n\tat org.apache.hadoop.conf.Configuration.getClassByName(Configuration.java:2592)\r\n\tat org.apache.hadoop.conf.Configuration.getClass(Configuration.java:2686)\r\n\t... 27 more\r\n```\r\n\r\nI&#39;m using Spark 3.3.1 pre-built for Apache Hadoop 3.3 and later. \r\n","title":"How to run Apache Spark applications with a JAR dependency from AWS S3?","body":"<p>I have a <code>.jar</code> file containing useful functions for my application located in an AWS S3 bucket, and I want to use it as a dependency in Spark without having to first download it locally. Is it possible to directly reference the <code>.jar</code> file with <code>spark-submit</code> (or <code>pyspark</code>) <code>--jars</code> option?</p>\n<p>So far, I have tried the following:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>spark-shell --packages com.amazonaws:aws-java-sdk:1.12.336,org.apache.hadoop:hadoop-aws:3.3.4 --jars s3a://bucket/path/to/jar/file.jar\n</code></pre>\n<p>The <code>AWS_ACCESS_KEY_ID</code> and <code>AWS_SECRET_ACCESS_KEY</code> variables are correctly set, since when running the same command without the <code>--jars</code> option, other files in the same bucket are successfully read. However, if the option is added, I get the following error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.RuntimeException: java.lang.ClassNotFoundException: Class org.apache.hadoop.fs.s3a.S3AFileSystem not found\n    at org.apache.hadoop.conf.Configuration.getClass(Configuration.java:2688)\n    at org.apache.hadoop.fs.FileSystem.getFileSystemClass(FileSystem.java:3431)\n    at org.apache.hadoop.fs.FileSystem.createFileSystem(FileSystem.java:3466)\n    at org.apache.hadoop.fs.FileSystem.access$300(FileSystem.java:174)\n    at org.apache.hadoop.fs.FileSystem$Cache.getInternal(FileSystem.java:3574)\n    at org.apache.hadoop.fs.FileSystem$Cache.get(FileSystem.java:3521)\n    at org.apache.hadoop.fs.FileSystem.get(FileSystem.java:540)\n    at org.apache.spark.util.DependencyUtils$.resolveGlobPath(DependencyUtils.scala:317)\n    at org.apache.spark.util.DependencyUtils$.$anonfun$resolveGlobPaths$2(DependencyUtils.scala:273)\n    at org.apache.spark.util.DependencyUtils$.$anonfun$resolveGlobPaths$2$adapted(DependencyUtils.scala:271)\n    at scala.collection.TraversableLike.$anonfun$flatMap$1(TraversableLike.scala:293)\n    at scala.collection.IndexedSeqOptimized.foreach(IndexedSeqOptimized.scala:36)\n    at scala.collection.IndexedSeqOptimized.foreach$(IndexedSeqOptimized.scala:33)\n    at scala.collection.mutable.WrappedArray.foreach(WrappedArray.scala:38)\n    at scala.collection.TraversableLike.flatMap(TraversableLike.scala:293)\n    at scala.collection.TraversableLike.flatMap$(TraversableLike.scala:290)\n    at scala.collection.AbstractTraversable.flatMap(Traversable.scala:108)\n    at org.apache.spark.util.DependencyUtils$.resolveGlobPaths(DependencyUtils.scala:271)\n    at org.apache.spark.deploy.SparkSubmit.$anonfun$prepareSubmitEnvironment$4(SparkSubmit.scala:364)\n    at scala.Option.map(Option.scala:230)\n    at org.apache.spark.deploy.SparkSubmit.prepareSubmitEnvironment(SparkSubmit.scala:364)\n    at org.apache.spark.deploy.SparkSubmit.org$apache$spark$deploy$SparkSubmit$$runMain(SparkSubmit.scala:901)\n    at org.apache.spark.deploy.SparkSubmit.doRunMain$1(SparkSubmit.scala:180)\n    at org.apache.spark.deploy.SparkSubmit.submit(SparkSubmit.scala:203)\n    at org.apache.spark.deploy.SparkSubmit.doSubmit(SparkSubmit.scala:90)\n    at org.apache.spark.deploy.SparkSubmit$$anon$2.doSubmit(SparkSubmit.scala:1046)\n    at org.apache.spark.deploy.SparkSubmit$.main(SparkSubmit.scala:1055)\n    at org.apache.spark.deploy.SparkSubmit.main(SparkSubmit.scala)\nCaused by: java.lang.ClassNotFoundException: Class org.apache.hadoop.fs.s3a.S3AFileSystem not found\n    at org.apache.hadoop.conf.Configuration.getClassByName(Configuration.java:2592)\n    at org.apache.hadoop.conf.Configuration.getClass(Configuration.java:2686)\n    ... 27 more\n</code></pre>\n<p>I'm using Spark 3.3.1 pre-built for Apache Hadoop 3.3 and later.</p>\n"},{"tags":["java","spring-boot","docker","maven","microservices"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1672844936,"post_id":75007391,"comment_id":132364947,"body_markdown":"Add all information as text not ass image if possible","body":"Add all information as text not ass image if possible"},{"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"score":0,"creation_date":1672845380,"post_id":75007391,"comment_id":132365147,"body_markdown":"I can see your application is built uisng maven multi modules. Are you dockerizing parent app?","body":"I can see your application is built uisng maven multi modules. Are you dockerizing parent app?"},{"owner":{"account_id":20141613,"reputation":27,"user_id":14771241,"display_name":"Thiago Salgado"},"score":0,"creation_date":1672845498,"post_id":75007391,"comment_id":132365197,"body_markdown":"Ok @Jens, next time will do that.","body":"Ok @Jens, next time will do that."},{"owner":{"account_id":20141613,"reputation":27,"user_id":14771241,"display_name":"Thiago Salgado"},"score":0,"creation_date":1672845888,"post_id":75007391,"comment_id":132365358,"body_markdown":"@RohitAgarwal what do you mean when saying &quot;dockerzing parent app&quot;? As you can see in my project structure, my parent app doesn&#39;t exist, its only a maven module used to encapsulate the other ones.","body":"@RohitAgarwal what do you mean when saying &quot;dockerzing parent app&quot;? As you can see in my project structure, my parent app doesn&#39;t exist, its only a maven module used to encapsulate the other ones."},{"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"score":0,"creation_date":1672848921,"post_id":75007391,"comment_id":132366555,"body_markdown":"Then this is your parent module only because it contains child as well. Can you please share main class?","body":"Then this is your parent module only because it contains child as well. Can you please share main class?"},{"owner":{"account_id":20141613,"reputation":27,"user_id":14771241,"display_name":"Thiago Salgado"},"score":0,"creation_date":1672852731,"post_id":75007391,"comment_id":132367964,"body_markdown":"As I said, my project contains multiple &quot;main&quot; classes, one for each module, do I have to specify a main class? How do I build a microservice then?","body":"As I said, my project contains multiple &quot;main&quot; classes, one for each module, do I have to specify a main class? How do I build a microservice then?"}],"answers":[{"tags":[],"owner":{"account_id":20141613,"reputation":27,"user_id":14771241,"display_name":"Thiago Salgado"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672863544,"creation_date":1672863544,"answer_id":75010847,"question_id":75007391,"body_markdown":"I&#39;ve discovered that the problem wasn&#39;t with my project, but with the &quot;target/&quot; folder, which is generated by maven when running &quot;mvn install&quot;, since I haven&#39;t cleaned my &quot;target/&quot; folder after my first install (which didn&#39;t had the spring-boot-maven-plugin), docker was using it to build my application, hence the &quot;no main manifest&quot; error. After running &quot;mvn clean&quot; and \r\n&quot;mvn install&quot; for each module, docker was able to build and run both containers with no problem at all.","title":"No main manifest error when running spring boot microservice docker image","body":"<p>I've discovered that the problem wasn't with my project, but with the &quot;target/&quot; folder, which is generated by maven when running &quot;mvn install&quot;, since I haven't cleaned my &quot;target/&quot; folder after my first install (which didn't had the spring-boot-maven-plugin), docker was using it to build my application, hence the &quot;no main manifest&quot; error. After running &quot;mvn clean&quot; and\n&quot;mvn install&quot; for each module, docker was able to build and run both containers with no problem at all.</p>\n"}],"owner":{"account_id":20141613,"reputation":27,"user_id":14771241,"display_name":"Thiago Salgado"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":549,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75010847,"answer_count":1,"score":-1,"last_activity_date":1672863544,"creation_date":1672844806,"question_id":75007391,"body_markdown":"I&#39;m trying to dockerize a microservice I&#39;ve build with SpringBoot and Maven, I can build the image properly but when trying to run it inside a docker container I get the following error: \r\n[![enter image description here][1]][1]\r\n\r\nI&#39;ve read that this error has something to do with the spring-boot-maven-plugin, I&#39;ve added it to my project main pom.xml file, but it still gives me the error (I&#39;ve included a screenshot of the pom.xml at the end of this question).\r\n\r\nThis is my current Dockerfile:\r\n\r\n\r\n [![enter image description here][2]][2]\r\n\r\n\r\nProject structure: \r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\nMain pom.xml: \r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7NdK4.png\r\n  [2]: https://i.stack.imgur.com/rEr8e.png\r\n  [3]: https://i.stack.imgur.com/JUCU7.png\r\n  [4]: https://i.stack.imgur.com/fTj8f.png","title":"No main manifest error when running spring boot microservice docker image","body":"<p>I'm trying to dockerize a microservice I've build with SpringBoot and Maven, I can build the image properly but when trying to run it inside a docker container I get the following error:\n<a href=\"https://i.stack.imgur.com/7NdK4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7NdK4.png\" alt=\"enter image description here\" /></a></p>\n<p>I've read that this error has something to do with the spring-boot-maven-plugin, I've added it to my project main pom.xml file, but it still gives me the error (I've included a screenshot of the pom.xml at the end of this question).</p>\n<p>This is my current Dockerfile:</p>\n<p><a href=\"https://i.stack.imgur.com/rEr8e.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rEr8e.png\" alt=\"enter image description here\" /></a></p>\n<p>Project structure:</p>\n<p><a href=\"https://i.stack.imgur.com/JUCU7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JUCU7.png\" alt=\"enter image description here\" /></a></p>\n<p>Main pom.xml:</p>\n<p><a href=\"https://i.stack.imgur.com/fTj8f.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fTj8f.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-boot","jpa"],"comments":[{"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1672840110,"post_id":75006388,"comment_id":132363109,"body_markdown":"For the &quot;Not working&quot; formula/query, why do you want to put the query at the field level in the first place?  It belongs in a JPA repository class IMO.","body":"For the &quot;Not working&quot; formula/query, why do you want to put the query at the field level in the first place?  It belongs in a JPA repository class IMO."}],"answers":[{"tags":[],"owner":{"account_id":9176602,"reputation":26,"user_id":14393863,"display_name":"hariprasad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672841634,"creation_date":1672841634,"answer_id":75006707,"question_id":75006388,"body_markdown":"I&#39;m not sure you can retrieve like Map&lt;string, String&gt;. Suppose you declare another field how you going to retrieve. you can receive as a List&lt;Object&gt; instead of Map&lt;st..., str..&gt;. \r\n\r\nInstead of @Formulae, you can use @OneToMany &amp; @ManyToOne. through a Bi-direction connection, you achieve your scenario.","title":"Spring JPA Formula with multiple columns","body":"<p>I'm not sure you can retrieve like Map&lt;string, String&gt;. Suppose you declare another field how you going to retrieve. you can receive as a List instead of Map&lt;st..., str..&gt;.</p>\n<p>Instead of @Formulae, you can use @OneToMany &amp; @ManyToOne. through a Bi-direction connection, you achieve your scenario.</p>\n"},{"tags":[],"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672863261,"creation_date":1672863261,"answer_id":75010804,"question_id":75006388,"body_markdown":"This looks more like it should be using JPA&#39;s ElementCollection mapping to the Area table, with a [MapKeyColumn][1] mapping:\r\n\r\n\r\n    public class ContactInfo {\r\n      ..\r\n      @ElementCollection\r\n      @MapKeyColumn(name=&quot;code&quot;)//key\r\n      @Column(name=&quot;area&quot;) //value\r\n      @CollectionTable(name=&quot;areas&quot;,\r\n            joinColumns=@JoinColumn(name=&quot;area_id&quot;))//fk from Areas-&gt;contacts.id\r\n      private Map&lt;String, String&gt; vals;\r\n      ..\r\n\r\nSee [this][2] for some more information and examples.\r\n\r\n\r\n\r\n  [1]: https://javadoc.io/static/org.eclipse.persistence/javax.persistence/2.2.0-RC1/javax/persistence/MapKeyColumn.html\r\n  [2]: https://wiki.eclipse.org/EclipseLink/Examples/JPA/2.0/MapKeyColumns\r\n","title":"Spring JPA Formula with multiple columns","body":"<p>This looks more like it should be using JPA's ElementCollection mapping to the Area table, with a <a href=\"https://javadoc.io/static/org.eclipse.persistence/javax.persistence/2.2.0-RC1/javax/persistence/MapKeyColumn.html\" rel=\"nofollow noreferrer\">MapKeyColumn</a> mapping:</p>\n<pre><code>public class ContactInfo {\n  ..\n  @ElementCollection\n  @MapKeyColumn(name=&quot;code&quot;)//key\n  @Column(name=&quot;area&quot;) //value\n  @CollectionTable(name=&quot;areas&quot;,\n        joinColumns=@JoinColumn(name=&quot;area_id&quot;))//fk from Areas-&gt;contacts.id\n  private Map&lt;String, String&gt; vals;\n  ..\n</code></pre>\n<p>See <a href=\"https://wiki.eclipse.org/EclipseLink/Examples/JPA/2.0/MapKeyColumns\" rel=\"nofollow noreferrer\">this</a> for some more information and examples.</p>\n"}],"owner":{"account_id":1272260,"reputation":1003,"user_id":1228276,"accept_rate":18,"display_name":"rakeeee"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":404,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1672863261,"creation_date":1672839927,"question_id":75006388,"body_markdown":"I am trying to read data from another table based on the value of one of the fields in the current entity. But somehow I am facing an issue selecting multiple fields inside the formula.\r\n\r\n    @Entity\r\n    @Table(name = &quot;contacts&quot;)\r\n    @Data\r\n    @Builder\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class ContactInfo {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot;)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;name&quot;)\r\n    private String name;\r\n\r\n    @Column(name = &quot;url&quot;)\r\n    private String imageUrl;\r\n\r\n    //Not working\r\n    @Formula(&quot;(select code,area from areas where area_id=id)&quot;)\r\n    private Map&lt;String, String&gt; vals;\r\n\r\n    //working\r\n    @Formula(&quot;(select code from areas where area_id=id)&quot;)\r\n    private String someVal;\r\n\r\n}\r\n\r\nis there any way that I can use the formula for retrieving multiple columns of data with multiple rows?\r\n\r\nThanks for your help.\r\n\r\n\r\n\r\n","title":"Spring JPA Formula with multiple columns","body":"<p>I am trying to read data from another table based on the value of one of the fields in the current entity. But somehow I am facing an issue selecting multiple fields inside the formula.</p>\n<pre><code>@Entity\n@Table(name = &quot;contacts&quot;)\n@Data\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\npublic class ContactInfo {\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\n@Column(name = &quot;id&quot;)\nprivate Long id;\n\n@Column(name = &quot;name&quot;)\nprivate String name;\n\n@Column(name = &quot;url&quot;)\nprivate String imageUrl;\n\n//Not working\n@Formula(&quot;(select code,area from areas where area_id=id)&quot;)\nprivate Map&lt;String, String&gt; vals;\n\n//working\n@Formula(&quot;(select code from areas where area_id=id)&quot;)\nprivate String someVal;\n</code></pre>\n<p>}</p>\n<p>is there any way that I can use the formula for retrieving multiple columns of data with multiple rows?</p>\n<p>Thanks for your help.</p>\n"},{"tags":["java","postgresql","reactive-programming","spring-webflux"],"comments":[{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1672450019,"post_id":74953221,"comment_id":132293265,"body_markdown":"Dont subscribe, the calling client is the subscriber. Your service is a producer that others subscribe to","body":"Dont subscribe, the calling client is the subscriber. Your service is a producer that others subscribe to"}],"answers":[{"tags":[],"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672863067,"creation_date":1672857250,"answer_id":75009777,"question_id":74953221,"body_markdown":"It&#39;s worth to take into account that you&#39;re mixing the imperative-style code with functional-style code here, which is incorrect way to use reactive.\r\n\r\nFirst: you&#39;re calling subscribe() inside the method of your service. Avoid this.\r\n\r\nSecond: you have created `List&lt;ViewLeaveRequestsDto&gt; dtoList = new ArrayList&lt;&gt;();` and you&#39;re adding elements in there from flatMap() function which is incorrect. flatMap() is async and concurrent by it&#39;s nature, so this approach can lead to problems with thread-safety and etc.\r\n\r\nThird: why are you using `Mono&lt;List&lt;T&gt;&gt;` in your controller if you can return `Flux&lt;T&gt;` directly?\r\n\r\nHaving that said I think your code inside your service should look like:\r\n\r\n    return leaveRequestRepository.findByStatus(status)\r\n                    .switchIfEmpty(\r\n                            Mono.error(new LmsException(ErrorCode.NO_DATA_FOUND, &quot;No Data matching for given Status&quot;)))\r\n                    .doOnNext(leaveRequest1 -&gt; {\r\n                        LOGGER.info(&quot;searchLeaveRequestsResponse | {}&quot;, leaveRequest1);\r\n                    })\r\n                    .flatMap(entity -&gt; leaveTypeRepository.findById(entity.getLeaveTypeId())\r\n                            .map(leaveType -&gt; {\r\n                                // build your DTO using leaveType and fields from entity and return DTO\r\n                            })\r\n                    );\r\n\r\nAnd change the signature of your method to return Flux&lt;DTO&gt; of your DTOs\r\nand also change the signature of your controller method to return Flux&lt;DTO&gt;\r\n\r\n**UPDATED**\r\n\r\nShortly answering why you&#39;re getting dupplicates:\r\n\r\nLet&#39;s say you have 3 rows/documents in your db.\r\nYou start streaming them from db with Flux, on each element you call .flatMap() and there you add element (updating your collection every flatMap() call) to your ArrayList. From this flatMap() you return Flux that is made from your ArrayList (updated ArrayList).\r\nThis flux &quot;merges&quot; to your &quot;main&quot; flux.\r\nIn the resulting list (`.collectList()`)you will get:\r\n1 element + 2 elements + 3 elements = 6 elements in summary\r\n\r\nSo as I said above, you&#39;re handling incorrectly with your initial Flux.\r\n\r\n**UPDATED_2**\r\n\r\nI think I figured out why you want to return `Mono&lt;List&lt;DTO&gt;&gt;` instead of `Flux&lt;DTO&gt;`, I noticed that in your controller you call `.map()` to measure the total time taken to collect list of your DTOs. \r\nTwo things:\r\n\r\n1) If for some reason you want to return `Mono&lt;List&lt;DTO&gt;&gt;`, then it&#39;s not a problem, in my code (inside your service) just call `.collectList()` in the end, so you&#39;ll return `Mono&lt;List&lt;DTO&gt;&gt;`, but you should know that this approach forces to collect all the results in memory in time.\r\n\r\n2) `.map()` operator semantically assumes that you want to map the given object to some another or to change something within that object. \r\nIf you want to just log something using this object or do another kind of things (some side effects), then use, for example, `doOnNext()` operator","title":"Create DTO using get results from repository returns duplicate values in Spring Boot Reactive WebFlux","body":"<p>It's worth to take into account that you're mixing the imperative-style code with functional-style code here, which is incorrect way to use reactive.</p>\n<p>First: you're calling subscribe() inside the method of your service. Avoid this.</p>\n<p>Second: you have created <code>List&lt;ViewLeaveRequestsDto&gt; dtoList = new ArrayList&lt;&gt;();</code> and you're adding elements in there from flatMap() function which is incorrect. flatMap() is async and concurrent by it's nature, so this approach can lead to problems with thread-safety and etc.</p>\n<p>Third: why are you using <code>Mono&lt;List&lt;T&gt;&gt;</code> in your controller if you can return <code>Flux&lt;T&gt;</code> directly?</p>\n<p>Having that said I think your code inside your service should look like:</p>\n<pre><code>return leaveRequestRepository.findByStatus(status)\n                .switchIfEmpty(\n                        Mono.error(new LmsException(ErrorCode.NO_DATA_FOUND, &quot;No Data matching for given Status&quot;)))\n                .doOnNext(leaveRequest1 -&gt; {\n                    LOGGER.info(&quot;searchLeaveRequestsResponse | {}&quot;, leaveRequest1);\n                })\n                .flatMap(entity -&gt; leaveTypeRepository.findById(entity.getLeaveTypeId())\n                        .map(leaveType -&gt; {\n                            // build your DTO using leaveType and fields from entity and return DTO\n                        })\n                );\n</code></pre>\n<p>And change the signature of your method to return Flux of your DTOs\nand also change the signature of your controller method to return Flux</p>\n<p><strong>UPDATED</strong></p>\n<p>Shortly answering why you're getting dupplicates:</p>\n<p>Let's say you have 3 rows/documents in your db.\nYou start streaming them from db with Flux, on each element you call .flatMap() and there you add element (updating your collection every flatMap() call) to your ArrayList. From this flatMap() you return Flux that is made from your ArrayList (updated ArrayList).\nThis flux &quot;merges&quot; to your &quot;main&quot; flux.\nIn the resulting list (<code>.collectList()</code>)you will get:\n1 element + 2 elements + 3 elements = 6 elements in summary</p>\n<p>So as I said above, you're handling incorrectly with your initial Flux.</p>\n<p><strong>UPDATED_2</strong></p>\n<p>I think I figured out why you want to return <code>Mono&lt;List&lt;DTO&gt;&gt;</code> instead of <code>Flux&lt;DTO&gt;</code>, I noticed that in your controller you call <code>.map()</code> to measure the total time taken to collect list of your DTOs.\nTwo things:</p>\n<ol>\n<li><p>If for some reason you want to return <code>Mono&lt;List&lt;DTO&gt;&gt;</code>, then it's not a problem, in my code (inside your service) just call <code>.collectList()</code> in the end, so you'll return <code>Mono&lt;List&lt;DTO&gt;&gt;</code>, but you should know that this approach forces to collect all the results in memory in time.</p>\n</li>\n<li><p><code>.map()</code> operator semantically assumes that you want to map the given object to some another or to change something within that object.\nIf you want to just log something using this object or do another kind of things (some side effects), then use, for example, <code>doOnNext()</code> operator</p>\n</li>\n</ol>\n"}],"owner":{"account_id":14332400,"reputation":369,"user_id":10352835,"display_name":"Nisha"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":792,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75009777,"answer_count":1,"score":0,"last_activity_date":1672863067,"creation_date":1672328881,"question_id":74953221,"body_markdown":"I&#39;m new to reactive programming. I have to create a API call to search-leave-requests. I have to filter leave request by status(PENDING,APPROVED,REJECTED) and  logged user role(HR,AHR,RM) and if role is RM(reporting Manager) I have to query from reporting_manager_id and status. If logged user is HR or AHR only need to query from status.\r\n\r\nController\r\n```\r\n@GetMapping(value = &quot;/search-leave-requests&quot;)\r\npublic Mono&lt;List&lt;ViewLeaveRequestsDto&gt;&gt; searchLeaveRequests(@RequestParam(&quot;status&quot;) String status,\r\n      @RequestParam(value = &quot;page&quot;, defaultValue = &quot;1&quot;) int page,\r\n      @RequestParam(value = &quot;size&quot;, defaultValue = &quot;9&quot;) int size,\r\n      @RequestParam(value = &quot;reporting_manager_id&quot;) Optional&lt;Long&gt; reporting_manager_id,\r\n      @RequestParam(value = &quot;role&quot;) String role) {\r\n\r\n   long startTime = System.currentTimeMillis();\r\n   LOGGER.info(&quot;searchLeaveRequestsRequest : status={}&quot;, status);\r\n\r\n   return leaveRequestService.searchLeaveRequests(status, page, size, reporting_manager_id, role).map(\r\n         response -&gt; {\r\n            LOGGER.info(&quot;searchLeaveRequestsResponse : timeTaken={}|response={}&quot;,\r\n                  CommonUtil.getTimeTaken(startTime),\r\n                  CommonUtil.convertToString(response));\r\n\r\n            return response;\r\n         });\r\n\r\n}\r\n```\r\n\r\nService\r\n```\r\npublic interface LeaveRequestService {\r\n\r\n   public Mono&lt;List&lt;ViewLeaveRequestsDto&gt;&gt; searchLeaveRequests(String status, int page, int size,\r\n                                                   Optional&lt;Long&gt; reporting_manager_id, String role);\r\n\r\n```\r\n\r\nServiceImpl\r\n```\r\n@Override\r\n   public Mono&lt;List&lt;ViewLeaveRequestsDto&gt;&gt; searchLeaveRequests(String status, int page, int size, Optional&lt;Long&gt; reporting_manager_id, String role) {\r\n\r\n      Flux&lt;LeaveRequest&gt; leaveRequestByStatus = leaveRequestRepository.findByStatus(status)\r\n            .switchIfEmpty(\r\n                  Mono.error(new LmsException(ErrorCode.NO_DATA_FOUND, &quot;No Data matching for given Status&quot;)))\r\n//          .skip((page - 1) * size)\r\n//          .limitRequest(size)\r\n            .doOnNext(leaveRequest1 -&gt; {\r\n               LOGGER.info(&quot;searchLeaveRequestsResponse | {}&quot;, leaveRequest1);\r\n            });\r\n      /* */\r\n//    AtomicLong sizeOfFlux = new AtomicLong();\r\n//    leaveRequestByStatus.subscribe(object -&gt; sizeOfFlux.incrementAndGet());\r\n      List&lt;ViewLeaveRequestsDto&gt; dtoList = new ArrayList&lt;&gt;();\r\n\r\n      Mono&lt;List&lt;ViewLeaveRequestsDto&gt;&gt; dtoListMono = leaveRequestByStatus.flatMap(entity -&gt; {\r\n\r\n//       for (int i = 0; i &lt; sizeOfFlux.get(); i++) {\r\n            ViewLeaveRequestsDto dto = new ViewLeaveRequestsDto();\r\n            dto.setLeave_request_id(entity.getId());\r\n            dto.setLeave_request_date(entity.getFromDate());\r\n            Mono&lt;LeaveType&gt; leaveType = leaveTypeRepository.findById(entity.getLeaveTypeId());\r\n            leaveType.subscribe(s -&gt; dto.setLeave_type(s.getTypeName()));\r\n            dto.setFrom_date(entity.getFromDate());\r\n            dto.setTo_date(entity.getToDate());\r\n            dto.setNumber_of_days(entity.getDaysCount());\r\n            dto.setReason(entity.getLeaveReason());\r\n            dto.setStatus(entity.getStatus().toString());\r\n            dto.setAttachment(entity.getAttachment());\r\n            dto.setDay_type(entity.getDateType());\r\n            dto.setHalf_day_type(entity.getHalfDayType());\r\n            dto.setCovering_employee(entity.getCoveringEmployeeId().toString());\r\n            dto.setReporting_manager(entity.getReportingManagerId().toString());\r\n            // TODO set profile_image, designation and total_leave_available\r\n\r\n            dtoList.add(dto);\r\n//       }\r\n\r\n         return Flux.fromIterable(dtoList);\r\n      }).collectList();\r\n      return dtoListMono;\r\n   }\r\n```\r\n\r\nRepository\r\n\r\n```\r\n@Repository\r\npublic interface LeaveRequestRepository extends ReactiveCrudRepository&lt;LeaveRequest, Long&gt; {\r\n\r\n    Flux&lt;LeaveRequest&gt; findByStatus(String status);\r\n\r\n    Flux&lt;LeaveRequest&gt; findByStatusAndReportingManagerId(String status, Optional&lt;Long&gt; reporting_manager_id);\r\n}\r\n\r\n```\r\n\r\nLeaveRequest Entity\r\n```\r\n@Table(name = &quot;leave_request&quot;)\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class LeaveRequest {\r\n\r\n   @Id\r\n   @GeneratedValue(strategy = GenerationType.AUTO)\r\n   @Column(&quot;id&quot;)\r\n   private Long id;\r\n\r\n   @Column(&quot;employee_id&quot;)\r\n   private Long employeeId;\r\n\r\n   @Column(&quot;date_type&quot;)\r\n   private Boolean dateType;\r\n\r\n   @Column(&quot;half_day_type&quot;)\r\n   private Boolean halfDayType;\r\n\r\n   @Column(&quot;leave_request_date&quot;)\r\n   private LocalDate leaveRequestDate;\r\n\r\n   @Column(&quot;from_date&quot;)\r\n   private LocalDate fromDate;\r\n\r\n   @Column(&quot;to_date&quot;)\r\n   private LocalDate toDate;\r\n\r\n   @Column(&quot;leave_reason&quot;)\r\n   private String leaveReason;\r\n\r\n   @Column(&quot;attachment&quot;)\r\n   private String attachment;\r\n\r\n   @Column(&quot;days_count&quot;)\r\n   private Integer daysCount;\r\n\r\n   @Enumerated(EnumType.STRING)\r\n   private Status status;\r\n\r\n   @Column(&quot;reporting_manager_id&quot;)\r\n   private Long reportingManagerId;\r\n\r\n   @Column(&quot;covering_employee_id&quot;)\r\n   private Long coveringEmployeeId;\r\n\r\n   @Column(&quot;leave_type_id&quot;)\r\n   private Long leaveTypeId;\r\n\r\n}\r\n\r\n```\r\n\r\n\r\nViewLeaveRequestsDto\r\n```\r\n@Getter\r\n@Setter\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Data\r\npublic class ViewLeaveRequestsDto {\r\n\r\n    private Long leave_request_id;\r\n    private String profile_image;\r\n    private String designation;\r\n    private String requester_name;\r\n    private LocalDate leave_request_date;\r\n    private String leave_type;\r\n    private Boolean day_type;\r\n    private Boolean half_day_type;\r\n    private String covering_employee;\r\n    private LocalDate from_date;\r\n    private LocalDate to_date;\r\n    private Integer number_of_days;\r\n    private String reason;\r\n    private Integer total_leave_available;\r\n    private String attachment;\r\n    private String reporting_manager;\r\n    private String status;\r\n}\r\n\r\n```\r\n\r\nWhen I run this code, I got duplicate records. I have only 3 records in my DB. But in postman response I got many records. Any idea How to fix this ?\r\n\r\nPS: My java version - 18\r\n    spring-boot version - 2.7","title":"Create DTO using get results from repository returns duplicate values in Spring Boot Reactive WebFlux","body":"<p>I'm new to reactive programming. I have to create a API call to search-leave-requests. I have to filter leave request by status(PENDING,APPROVED,REJECTED) and  logged user role(HR,AHR,RM) and if role is RM(reporting Manager) I have to query from reporting_manager_id and status. If logged user is HR or AHR only need to query from status.</p>\n<p>Controller</p>\n<pre><code>@GetMapping(value = &quot;/search-leave-requests&quot;)\npublic Mono&lt;List&lt;ViewLeaveRequestsDto&gt;&gt; searchLeaveRequests(@RequestParam(&quot;status&quot;) String status,\n      @RequestParam(value = &quot;page&quot;, defaultValue = &quot;1&quot;) int page,\n      @RequestParam(value = &quot;size&quot;, defaultValue = &quot;9&quot;) int size,\n      @RequestParam(value = &quot;reporting_manager_id&quot;) Optional&lt;Long&gt; reporting_manager_id,\n      @RequestParam(value = &quot;role&quot;) String role) {\n\n   long startTime = System.currentTimeMillis();\n   LOGGER.info(&quot;searchLeaveRequestsRequest : status={}&quot;, status);\n\n   return leaveRequestService.searchLeaveRequests(status, page, size, reporting_manager_id, role).map(\n         response -&gt; {\n            LOGGER.info(&quot;searchLeaveRequestsResponse : timeTaken={}|response={}&quot;,\n                  CommonUtil.getTimeTaken(startTime),\n                  CommonUtil.convertToString(response));\n\n            return response;\n         });\n\n}\n</code></pre>\n<p>Service</p>\n<pre><code>public interface LeaveRequestService {\n\n   public Mono&lt;List&lt;ViewLeaveRequestsDto&gt;&gt; searchLeaveRequests(String status, int page, int size,\n                                                   Optional&lt;Long&gt; reporting_manager_id, String role);\n\n</code></pre>\n<p>ServiceImpl</p>\n<pre><code>@Override\n   public Mono&lt;List&lt;ViewLeaveRequestsDto&gt;&gt; searchLeaveRequests(String status, int page, int size, Optional&lt;Long&gt; reporting_manager_id, String role) {\n\n      Flux&lt;LeaveRequest&gt; leaveRequestByStatus = leaveRequestRepository.findByStatus(status)\n            .switchIfEmpty(\n                  Mono.error(new LmsException(ErrorCode.NO_DATA_FOUND, &quot;No Data matching for given Status&quot;)))\n//          .skip((page - 1) * size)\n//          .limitRequest(size)\n            .doOnNext(leaveRequest1 -&gt; {\n               LOGGER.info(&quot;searchLeaveRequestsResponse | {}&quot;, leaveRequest1);\n            });\n      /* */\n//    AtomicLong sizeOfFlux = new AtomicLong();\n//    leaveRequestByStatus.subscribe(object -&gt; sizeOfFlux.incrementAndGet());\n      List&lt;ViewLeaveRequestsDto&gt; dtoList = new ArrayList&lt;&gt;();\n\n      Mono&lt;List&lt;ViewLeaveRequestsDto&gt;&gt; dtoListMono = leaveRequestByStatus.flatMap(entity -&gt; {\n\n//       for (int i = 0; i &lt; sizeOfFlux.get(); i++) {\n            ViewLeaveRequestsDto dto = new ViewLeaveRequestsDto();\n            dto.setLeave_request_id(entity.getId());\n            dto.setLeave_request_date(entity.getFromDate());\n            Mono&lt;LeaveType&gt; leaveType = leaveTypeRepository.findById(entity.getLeaveTypeId());\n            leaveType.subscribe(s -&gt; dto.setLeave_type(s.getTypeName()));\n            dto.setFrom_date(entity.getFromDate());\n            dto.setTo_date(entity.getToDate());\n            dto.setNumber_of_days(entity.getDaysCount());\n            dto.setReason(entity.getLeaveReason());\n            dto.setStatus(entity.getStatus().toString());\n            dto.setAttachment(entity.getAttachment());\n            dto.setDay_type(entity.getDateType());\n            dto.setHalf_day_type(entity.getHalfDayType());\n            dto.setCovering_employee(entity.getCoveringEmployeeId().toString());\n            dto.setReporting_manager(entity.getReportingManagerId().toString());\n            // TODO set profile_image, designation and total_leave_available\n\n            dtoList.add(dto);\n//       }\n\n         return Flux.fromIterable(dtoList);\n      }).collectList();\n      return dtoListMono;\n   }\n</code></pre>\n<p>Repository</p>\n<pre><code>@Repository\npublic interface LeaveRequestRepository extends ReactiveCrudRepository&lt;LeaveRequest, Long&gt; {\n\n    Flux&lt;LeaveRequest&gt; findByStatus(String status);\n\n    Flux&lt;LeaveRequest&gt; findByStatusAndReportingManagerId(String status, Optional&lt;Long&gt; reporting_manager_id);\n}\n\n</code></pre>\n<p>LeaveRequest Entity</p>\n<pre><code>@Table(name = &quot;leave_request&quot;)\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class LeaveRequest {\n\n   @Id\n   @GeneratedValue(strategy = GenerationType.AUTO)\n   @Column(&quot;id&quot;)\n   private Long id;\n\n   @Column(&quot;employee_id&quot;)\n   private Long employeeId;\n\n   @Column(&quot;date_type&quot;)\n   private Boolean dateType;\n\n   @Column(&quot;half_day_type&quot;)\n   private Boolean halfDayType;\n\n   @Column(&quot;leave_request_date&quot;)\n   private LocalDate leaveRequestDate;\n\n   @Column(&quot;from_date&quot;)\n   private LocalDate fromDate;\n\n   @Column(&quot;to_date&quot;)\n   private LocalDate toDate;\n\n   @Column(&quot;leave_reason&quot;)\n   private String leaveReason;\n\n   @Column(&quot;attachment&quot;)\n   private String attachment;\n\n   @Column(&quot;days_count&quot;)\n   private Integer daysCount;\n\n   @Enumerated(EnumType.STRING)\n   private Status status;\n\n   @Column(&quot;reporting_manager_id&quot;)\n   private Long reportingManagerId;\n\n   @Column(&quot;covering_employee_id&quot;)\n   private Long coveringEmployeeId;\n\n   @Column(&quot;leave_type_id&quot;)\n   private Long leaveTypeId;\n\n}\n\n</code></pre>\n<p>ViewLeaveRequestsDto</p>\n<pre><code>@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\n@Data\npublic class ViewLeaveRequestsDto {\n\n    private Long leave_request_id;\n    private String profile_image;\n    private String designation;\n    private String requester_name;\n    private LocalDate leave_request_date;\n    private String leave_type;\n    private Boolean day_type;\n    private Boolean half_day_type;\n    private String covering_employee;\n    private LocalDate from_date;\n    private LocalDate to_date;\n    private Integer number_of_days;\n    private String reason;\n    private Integer total_leave_available;\n    private String attachment;\n    private String reporting_manager;\n    private String status;\n}\n\n</code></pre>\n<p>When I run this code, I got duplicate records. I have only 3 records in my DB. But in postman response I got many records. Any idea How to fix this ?</p>\n<p>PS: My java version - 18\nspring-boot version - 2.7</p>\n"},{"tags":["java","lombok"],"answers":[{"tags":[],"owner":{"account_id":8369136,"reputation":3472,"user_id":6284785,"accept_rate":50,"display_name":"Anatoly"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672862804,"creation_date":1672862804,"answer_id":75010724,"question_id":74999345,"body_markdown":"In case of these strange kinds of mistakes better to create a new pom.xml from start.spring.io\r\nIt worked out for me.","title":"WebJarAssetLocator and ClassGraph not compatible in a simple Java project","body":"<p>In case of these strange kinds of mistakes better to create a new pom.xml from start.spring.io\nIt worked out for me.</p>\n"}],"owner":{"account_id":8369136,"reputation":3472,"user_id":6284785,"accept_rate":50,"display_name":"Anatoly"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":347,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672862804,"creation_date":1672785635,"question_id":74999345,"body_markdown":"When app starts, the following error occurs:\r\n\r\n    /home/anatoly/.jdks/corretto-18.0.2-1/bin/java -XX:TieredStopAtLevel=1 -Dspring.profiles.active=dev,prod -Dspring.output.ansi.enabled=always -Dcom.sun.management.jmxremote -Dspring.jmx.enabled=true -Dspring.liveBeansView.mbeanDomain -Dspring.application.admin.enabled=true -Dmanagement.endpoints.jmx.exposure.include=* -javaagent:/snap/intellij-idea-ultimate/401/lib/idea_rt.jar=40323:/snap/intellij-idea-ultimate/401/bin -Dfile.encoding=UTF-8 -Dsun.stdout.encoding=UTF-8 -Dsun.stderr.encoding=UTF-8 -classpath /home/anatoly/IdeaProjects/LingvoHack/target/classes:/home/anatoly/.m2/repository/org/springframework/boot/spring-boot-starter-data-jpa/2.7.4/spring-boot-starter-data-jpa-2.7.4.jar:/home/anatoly/.m2/repository/org/springframework/boot/spring-boot-starter-aop/3.0.1/spring-boot-starter-aop-3.0.1.jar:/home/anatoly/.m2/repository/org/aspectj/aspectjweaver/1.9.19/aspectjweaver-1.9.19.jar:/home/anatoly/.m2/repository/org/springframework/boot/spring-boot-starter-jdbc/3.0.1/spring-boot-starter-jdbc-3.0.1.jar:/home/anatoly/.m2/repository/com/zaxxer/HikariCP/5.0.1/HikariCP-5.0.1.jar:/home/anatoly/.m2/repository/org/springframework/spring-jdbc/6.0.3/spring-jdbc-6.0.3.jar:/home/anatoly/.m2/repository/jakarta/transaction/jakarta.transaction-api/2.0.1/jakarta.transaction-api-2.0.1.jar:/home/anatoly/.m2/repository/jakarta/persistence/jakarta.persistence-api/3.1.0/jakarta.persistence-api-3.1.0.jar:/home/anatoly/.m2/repository/org/hibernate/hibernate-core/5.6.11.Final/hibernate-core-5.6.11.Final.jar:/home/anatoly/.m2/repository/org/jboss/logging/jboss-logging/3.5.0.Final/jboss-logging-3.5.0.Final.jar:/home/anatoly/.m2/repository/net/bytebuddy/byte-buddy/1.12.20/byte-buddy-1.12.20.jar:/home/anatoly/.m2/repository/antlr/antlr/2.7.7/antlr-2.7.7.jar:/home/anatoly/.m2/repository/org/jboss/jandex/2.4.2.Final/jandex-2.4.2.Final.jar:/home/anatoly/.m2/repository/org/hibernate/common/hibernate-commons-annotations/5.1.2.Final/hibernate-commons-annotations-5.1.2.Final.jar:/home/anatoly/.m2/repository/org/glassfish/jaxb/jaxb-runtime/4.0.1/jaxb-runtime-4.0.1.jar:/home/anatoly/.m2/repository/org/glassfish/jaxb/jaxb-core/4.0.1/jaxb-core-4.0.1.jar:/home/anatoly/.m2/repository/org/eclipse/angus/angus-activation/1.0.0/angus-activation-1.0.0.jar:/home/anatoly/.m2/repository/org/glassfish/jaxb/txw2/4.0.1/txw2-4.0.1.jar:/home/anatoly/.m2/repository/com/sun/istack/istack-commons-runtime/4.1.1/istack-commons-runtime-4.1.1.jar:/home/anatoly/.m2/repository/org/springframework/data/spring-data-jpa/3.0.0/spring-data-jpa-3.0.0.jar:/home/anatoly/.m2/repository/org/springframework/data/spring-data-commons/3.0.0/spring-data-commons-3.0.0.jar:/home/anatoly/.m2/repository/org/springframework/spring-orm/6.0.3/spring-orm-6.0.3.jar:/home/anatoly/.m2/repository/org/springframework/spring-context/6.0.3/spring-context-6.0.3.jar:/home/anatoly/.m2/repository/org/springframework/spring-tx/6.0.3/spring-tx-6.0.3.jar:/home/anatoly/.m2/repository/org/springframework/spring-beans/6.0.3/spring-beans-6.0.3.jar:/home/anatoly/.m2/repository/jakarta/annotation/jakarta.annotation-api/2.1.1/jakarta.annotation-api-2.1.1.jar:/home/anatoly/.m2/repository/org/springframework/spring-aspects/6.0.3/spring-aspects-6.0.3.jar:/home/anatoly/.m2/repository/org/springframework/boot/spring-boot-starter-web/2.7.4/spring-boot-starter-web-2.7.4.jar:/home/anatoly/.m2/repository/org/springframework/boot/spring-boot-starter/3.0.1/spring-boot-starter-3.0.1.jar:/home/anatoly/.m2/repository/org/springframework/boot/spring-boot/3.0.1/spring-boot-3.0.1.jar:/home/anatoly/.m2/repository/org/springframework/boot/spring-boot-autoconfigure/3.0.1/spring-boot-autoconfigure-3.0.1.jar:/home/anatoly/.m2/repository/org/springframework/boot/spring-boot-starter-json/3.0.1/spring-boot-starter-json-3.0.1.jar:/home/anatoly/.m2/repository/com/fasterxml/jackson/core/jackson-databind/2.14.1/jackson-databind-2.14.1.jar:/home/anatoly/.m2/repository/com/fasterxml/jackson/datatype/jackson-datatype-jdk8/2.14.1/jackson-datatype-jdk8-2.14.1.jar:/home/anatoly/.m2/repository/com/fasterxml/jackson/datatype/jackson-datatype-jsr310/2.14.1/jackson-datatype-jsr310-2.14.1.jar:/home/anatoly/.m2/repository/com/fasterxml/jackson/module/jackson-module-parameter-names/2.14.1/jackson-module-parameter-names-2.14.1.jar:/home/anatoly/.m2/repository/org/springframework/boot/spring-boot-starter-tomcat/3.0.1/spring-boot-starter-tomcat-3.0.1.jar:/home/anatoly/.m2/repository/org/apache/tomcat/embed/tomcat-embed-core/10.1.4/tomcat-embed-core-10.1.4.jar:/home/anatoly/.m2/repository/org/apache/tomcat/embed/tomcat-embed-el/10.1.4/tomcat-embed-el-10.1.4.jar:/home/anatoly/.m2/repository/org/apache/tomcat/embed/tomcat-embed-websocket/10.1.4/tomcat-embed-websocket-10.1.4.jar:/home/anatoly/.m2/repository/org/springframework/spring-web/6.0.3/spring-web-6.0.3.jar:/home/anatoly/.m2/repository/org/springframework/spring-webmvc/6.0.3/spring-webmvc-6.0.3.jar:/home/anatoly/.m2/repository/org/springframework/spring-expression/6.0.3/spring-expression-6.0.3.jar:/home/anatoly/.m2/repository/org/springdoc/springdoc-openapi-ui/1.4.8/springdoc-openapi-ui-1.4.8.jar:/home/anatoly/.m2/repository/org/springdoc/springdoc-openapi-webmvc-core/1.4.8/springdoc-openapi-webmvc-core-1.4.8.jar:/home/anatoly/.m2/repository/org/springdoc/springdoc-openapi-common/1.4.8/springdoc-openapi-common-1.4.8.jar:/home/anatoly/.m2/repository/io/swagger/core/v3/swagger-models/2.1.4/swagger-models-2.1.4.jar:/home/anatoly/.m2/repository/io/swagger/core/v3/swagger-integration/2.1.4/swagger-integration-2.1.4.jar:/home/anatoly/.m2/repository/io/swagger/core/v3/swagger-core/2.1.4/swagger-core-2.1.4.jar:/home/anatoly/.m2/repository/com/fasterxml/jackson/dataformat/jackson-dataformat-yaml/2.14.1/jackson-dataformat-yaml-2.14.1.jar:/home/anatoly/.m2/repository/jakarta/validation/jakarta.validation-api/3.0.2/jakarta.validation-api-3.0.2.jar:/home/anatoly/.m2/repository/org/webjars/swagger-ui/3.34.0/swagger-ui-3.34.0.jar:/home/anatoly/.m2/repository/org/webjars/webjars-locator-core/0.52/webjars-locator-core-0.52.jar:/home/anatoly/.m2/repository/com/fasterxml/jackson/core/jackson-core/2.14.1/jackson-core-2.14.1.jar:/home/anatoly/.m2/repository/org/springdoc/springdoc-openapi-data-rest/1.4.8/springdoc-openapi-data-rest-1.4.8.jar:/home/anatoly/.m2/repository/org/springdoc/springdoc-openapi-hateoas/1.4.8/springdoc-openapi-hateoas-1.4.8.jar:/home/anatoly/.m2/repository/org/springframework/hateoas/spring-hateoas/2.0.0/spring-hateoas-2.0.0.jar:/home/anatoly/.m2/repository/org/springframework/data/spring-data-rest-core/4.0.0/spring-data-rest-core-4.0.0.jar:/home/anatoly/.m2/repository/org/atteo/evo-inflector/1.3/evo-inflector-1.3.jar:/home/anatoly/.m2/repository/com/fasterxml/jackson/core/jackson-annotations/2.14.1/jackson-annotations-2.14.1.jar:/home/anatoly/.m2/repository/org/apache/httpcomponents/httpclient/4.5.13/httpclient-4.5.13.jar:/home/anatoly/.m2/repository/org/apache/httpcomponents/httpcore/4.4.16/httpcore-4.4.16.jar:/home/anatoly/.m2/repository/commons-codec/commons-codec/1.15/commons-codec-1.15.jar:/home/anatoly/.m2/repository/com/jayway/jsonpath/json-path/2.7.0/json-path-2.7.0.jar:/home/anatoly/.m2/repository/net/minidev/json-smart/2.4.8/json-smart-2.4.8.jar:/home/anatoly/.m2/repository/net/minidev/accessors-smart/2.4.8/accessors-smart-2.4.8.jar:/home/anatoly/.m2/repository/org/ow2/asm/asm/9.1/asm-9.1.jar:/home/anatoly/.m2/repository/jakarta/xml/bind/jakarta.xml.bind-api/4.0.0/jakarta.xml.bind-api-4.0.0.jar:/home/anatoly/.m2/repository/jakarta/activation/jakarta.activation-api/2.1.0/jakarta.activation-api-2.1.0.jar:/home/anatoly/.m2/repository/org/springframework/spring-core/6.0.3/spring-core-6.0.3.jar:/home/anatoly/.m2/repository/org/springframework/spring-jcl/6.0.3/spring-jcl-6.0.3.jar:/home/anatoly/.m2/repository/org/projectlombok/lombok/1.18.20/lombok-1.18.20.jar:/home/anatoly/.m2/repository/org/postgresql/postgresql/42.5.0/postgresql-42.5.0.jar:/home/anatoly/.m2/repository/org/checkerframework/checker-qual/3.5.0/checker-qual-3.5.0.jar:/home/anatoly/.m2/repository/org/thingsboard/springfox-swagger2/3.0.4/springfox-swagger2-3.0.4.jar:/home/anatoly/.m2/repository/org/thingsboard/springfox-spi/3.0.4/springfox-spi-3.0.4.jar:/home/anatoly/.m2/repository/org/thingsboard/springfox-core/3.0.4/springfox-core-3.0.4.jar:/home/anatoly/.m2/repository/org/thingsboard/springfox-schema/3.0.4/springfox-schema-3.0.4.jar:/home/anatoly/.m2/repository/org/thingsboard/springfox-swagger-common/3.0.4/springfox-swagger-common-3.0.4.jar:/home/anatoly/.m2/repository/io/swagger/core/v3/swagger-annotations/2.1.2/swagger-annotations-2.1.2.jar:/home/anatoly/.m2/repository/org/thingsboard/springfox-spring-web/3.0.4/springfox-spring-web-3.0.4.jar:/home/anatoly/.m2/repository/io/github/classgraph/classgraph/4.8.83/classgraph-4.8.83.jar:/home/anatoly/.m2/repository/org/thingsboard/springfox-spring-webmvc/3.0.4/springfox-spring-webmvc-3.0.4.jar:/home/anatoly/.m2/repository/org/thingsboard/springfox-spring-webflux/3.0.4/springfox-spring-webflux-3.0.4.jar:/home/anatoly/.m2/repository/com/fasterxml/classmate/1.5.1/classmate-1.5.1.jar:/home/anatoly/.m2/repository/org/slf4j/slf4j-api/2.0.6/slf4j-api-2.0.6.jar:/home/anatoly/.m2/repository/org/springframework/plugin/spring-plugin-core/2.0.0.RELEASE/spring-plugin-core-2.0.0.RELEASE.jar:/home/anatoly/.m2/repository/org/springframework/plugin/spring-plugin-metadata/2.0.0.RELEASE/spring-plugin-metadata-2.0.0.RELEASE.jar:/home/anatoly/.m2/repository/io/swagger/swagger-annotations/1.5.20/swagger-annotations-1.5.20.jar:/home/anatoly/.m2/repository/io/swagger/swagger-models/1.5.20/swagger-models-1.5.20.jar:/home/anatoly/.m2/repository/org/mapstruct/mapstruct/1.3.1.Final/mapstruct-1.3.1.Final.jar:/home/anatoly/.m2/repository/org/springframework/boot/spring-boot-starter-actuator/3.0.1/spring-boot-starter-actuator-3.0.1.jar:/home/anatoly/.m2/repository/org/springframework/boot/spring-boot-actuator-autoconfigure/3.0.1/spring-boot-actuator-autoconfigure-3.0.1.jar:/home/anatoly/.m2/repository/org/springframework/boot/spring-boot-actuator/3.0.1/spring-boot-actuator-3.0.1.jar:/home/anatoly/.m2/repository/io/micrometer/micrometer-observation/1.10.2/micrometer-observation-1.10.2.jar:/home/anatoly/.m2/repository/io/micrometer/micrometer-commons/1.10.2/micrometer-commons-1.10.2.jar:/home/anatoly/.m2/repository/io/micrometer/micrometer-core/1.10.2/micrometer-core-1.10.2.jar:/home/anatoly/.m2/repository/org/hdrhistogram/HdrHistogram/2.1.12/HdrHistogram-2.1.12.jar:/home/anatoly/.m2/repository/org/latencyutils/LatencyUtils/2.0.3/LatencyUtils-2.0.3.jar:/home/anatoly/.m2/repository/io/springfox/springfox-swagger-ui/2.9.2/springfox-swagger-ui-2.9.2.jar:/home/anatoly/.m2/repository/io/springfox/springfox-spring-web/2.9.2/springfox-spring-web-2.9.2.jar:/home/anatoly/.m2/repository/com/google/guava/guava/20.0/guava-20.0.jar:/home/anatoly/.m2/repository/io/springfox/springfox-spi/2.9.2/springfox-spi-2.9.2.jar:/home/anatoly/.m2/repository/io/springfox/springfox-core/2.9.2/springfox-core-2.9.2.jar:/home/anatoly/.m2/repository/org/springframework/boot/spring-boot-starter-thymeleaf/2.7.0/spring-boot-starter-thymeleaf-2.7.0.jar:/home/anatoly/.m2/repository/org/thymeleaf/thymeleaf-spring5/3.0.15.RELEASE/thymeleaf-spring5-3.0.15.RELEASE.jar:/home/anatoly/.m2/repository/org/thymeleaf/thymeleaf/3.1.1.RELEASE/thymeleaf-3.1.1.RELEASE.jar:/home/anatoly/.m2/repository/org/attoparser/attoparser/2.0.6.RELEASE/attoparser-2.0.6.RELEASE.jar:/home/anatoly/.m2/repository/org/unbescape/unbescape/1.1.6.RELEASE/unbescape-1.1.6.RELEASE.jar:/home/anatoly/.m2/repository/org/thymeleaf/extras/thymeleaf-extras-java8time/3.0.4.RELEASE/thymeleaf-extras-java8time-3.0.4.RELEASE.jar:/home/anatoly/.m2/repository/org/liquibase/liquibase-core/4.17.2/liquibase-core-4.17.2.jar:/home/anatoly/.m2/repository/javax/xml/bind/jaxb-api/2.3.1/jaxb-api-2.3.1.jar:/home/anatoly/.m2/repository/javax/activation/javax.activation-api/1.2.0/javax.activation-api-1.2.0.jar:/home/anatoly/.m2/repository/org/yaml/snakeyaml/1.33/snakeyaml-1.33.jar:/home/anatoly/.m2/repository/com/opencsv/opencsv/5.7.1/opencsv-5.7.1.jar:/home/anatoly/.m2/repository/org/apache/commons/commons-lang3/3.12.0/commons-lang3-3.12.0.jar:/home/anatoly/.m2/repository/org/apache/commons/commons-text/1.10.0/commons-text-1.10.0.jar:/home/anatoly/.m2/repository/org/apache/commons/commons-collections4/4.4/commons-collections4-4.4.jar:/home/anatoly/.m2/repository/org/springframework/boot/spring-boot-starter-log4j2/2.7.3/spring-boot-starter-log4j2-2.7.3.jar:/home/anatoly/.m2/repository/org/apache/logging/log4j/log4j-slf4j-impl/2.19.0/log4j-slf4j-impl-2.19.0.jar:/home/anatoly/.m2/repository/org/apache/logging/log4j/log4j-api/2.19.0/log4j-api-2.19.0.jar:/home/anatoly/.m2/repository/org/apache/logging/log4j/log4j-core/2.19.0/log4j-core-2.19.0.jar:/home/anatoly/.m2/repository/org/apache/logging/log4j/log4j-jul/2.19.0/log4j-jul-2.19.0.jar:/home/anatoly/.m2/repository/org/slf4j/jul-to-slf4j/2.0.6/jul-to-slf4j-2.0.6.jar:/home/anatoly/.m2/repository/org/springframework/boot/spring-boot-starter-security/3.0.1/spring-boot-starter-security-3.0.1.jar:/home/anatoly/.m2/repository/org/springframework/spring-aop/6.0.3/spring-aop-6.0.3.jar:/home/anatoly/.m2/repository/org/springframework/security/spring-security-config/6.0.1/spring-security-config-6.0.1.jar:/home/anatoly/.m2/repository/org/springframework/security/spring-security-core/6.0.1/spring-security-core-6.0.1.jar:/home/anatoly/.m2/repository/org/springframework/security/spring-security-crypto/6.0.1/spring-security-crypto-6.0.1.jar:/home/anatoly/.m2/repository/org/springframework/security/spring-security-web/6.0.1/spring-security-web-6.0.1.jar fairytale.DemoApplication\r\n    2023-01-04T01:23:05.425+03:00  INFO 9467 --- [           main] f.DemoApplication                        : Starting DemoApplication using Java 18.0.2 with PID 9467 (/home/anatoly/IdeaProjects/LingvoHack/target/classes started by anatoly in /home/anatoly/IdeaProjects/LingvoHack)\r\n    2023-01-04T01:23:05.442+03:00  INFO 9467 --- [           main] f.DemoApplication                        : The following 2 profiles are active: &quot;dev&quot;, &quot;prod&quot;\r\n    SLF4J: No SLF4J providers were found.\r\n    SLF4J: Defaulting to no-operation (NOP) logger implementation\r\n    SLF4J: See https://www.slf4j.org/codes.html#noProviders for further details.\r\n    SLF4J: Class path contains SLF4J bindings targeting slf4j-api versions 1.7.x or earlier.\r\n    SLF4J: Ignoring binding found at [jar:file:/home/anatoly/.m2/repository/org/apache/logging/log4j/log4j-slf4j-impl/2.19.0/log4j-slf4j-impl-2.19.0.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\n    SLF4J: See https://www.slf4j.org/codes.html#ignoredBindings for an explanation.\r\n    2023-01-04T01:23:06.814+03:00  INFO 9467 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n    2023-01-04T01:23:06.844+03:00  INFO 9467 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 20 ms. Found 0 JPA repository interfaces.\r\n    2023-01-04T01:23:07.655+03:00  INFO 9467 --- [           main] o.s.b.w.e.t.TomcatWebServer              : Tomcat initialized with port(s): 8888 (http)\r\n    2023-01-04T01:23:07.669+03:00  INFO 9467 --- [           main] o.a.c.c.StandardService                  : Starting service [Tomcat]\r\n    2023-01-04T01:23:07.669+03:00  INFO 9467 --- [           main] o.a.c.c.StandardEngine                   : Starting Servlet engine: [Apache Tomcat/10.1.4]\r\n    2023-01-04T01:23:07.793+03:00  INFO 9467 --- [           main] o.a.c.c.C.[.[.[/]                        : Initializing Spring embedded WebApplicationContext\r\n    2023-01-04T01:23:07.794+03:00  INFO 9467 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2280 ms\r\n    2023-01-04T01:23:08.565+03:00  WARN 9467 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;resourceHandlerMapping&#39; defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Failed to instantiate [org.springframework.web.servlet.HandlerMapping]: Factory method &#39;resourceHandlerMapping&#39; threw exception with message: &#39;io.github.classgraph.ClassGraph io.github.classgraph.ClassGraph.acceptPaths(java.lang.String[])&#39;\r\n    2023-01-04T01:23:08.570+03:00  INFO 9467 --- [           main] o.a.c.c.StandardService                  : Stopping service [Tomcat]\r\n    2023-01-04T01:23:08.606+03:00  INFO 9467 --- [           main] .s.b.a.l.ConditionEvaluationReportLogger : \r\n    \r\n    Error starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\n    2023-01-04T01:23:08.639+03:00 ERROR 9467 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \r\n    \r\n    ***************************\r\n    APPLICATION FAILED TO START\r\n    ***************************\r\n    \r\n    Description:\r\n    \r\n    An attempt was made to call a method that does not exist. The attempt was made from the following location:\r\n    \r\n        org.webjars.WebJarAssetLocator.scanForWebJars(WebJarAssetLocator.java:188)\r\n    \r\n    The following method did not exist:\r\n    \r\n        &#39;io.github.classgraph.ClassGraph io.github.classgraph.ClassGraph.acceptPaths(java.lang.String[])&#39;\r\n    \r\n    The calling method&#39;s class, org.webjars.WebJarAssetLocator, was loaded from the following location:\r\n    \r\n        jar:file:/home/anatoly/.m2/repository/org/webjars/webjars-locator-core/0.52/webjars-locator-core-0.52.jar!/org/webjars/WebJarAssetLocator.class\r\n    \r\n    The called method&#39;s class, io.github.classgraph.ClassGraph, is available from the following locations:\r\n    \r\n        jar:file:/home/anatoly/.m2/repository/io/github/classgraph/classgraph/4.8.83/classgraph-4.8.83.jar!/io/github/classgraph/ClassGraph.class\r\n    \r\n    The called method&#39;s class hierarchy was loaded from the following locations:\r\n    \r\n        io.github.classgraph.ClassGraph: file:/home/anatoly/.m2/repository/io/github/classgraph/classgraph/4.8.83/classgraph-4.8.83.jar\r\n    \r\n    \r\n    Action:\r\n    \r\n    Correct the classpath of your application so that it contains compatible versions of the classes org.webjars.WebJarAssetLocator and io.github.classgraph.ClassGraph\r\n    \r\n    \r\n    Process finished with exit code 1\r\n\r\nI throwed out all spring dependencies to firstly try to boot simple app.\r\nNevertheless, the error came here ))\r\n\r\nWhat can be done? \r\n","title":"WebJarAssetLocator and ClassGraph not compatible in a simple Java project","body":"<p>When app starts, the following error occurs:</p>\n<pre><code>/home/anatoly/.jdks/corretto-18.0.2-1/bin/java -XX:TieredStopAtLevel=1 -Dspring.profiles.active=dev,prod -Dspring.output.ansi.enabled=always -Dcom.sun.management.jmxremote -Dspring.jmx.enabled=true -Dspring.liveBeansView.mbeanDomain -Dspring.application.admin.enabled=true -Dmanagement.endpoints.jmx.exposure.include=* -javaagent:/snap/intellij-idea-ultimate/401/lib/idea_rt.jar=40323:/snap/intellij-idea-ultimate/401/bin -Dfile.encoding=UTF-8 -Dsun.stdout.encoding=UTF-8 -Dsun.stderr.encoding=UTF-8 -classpath /home/anatoly/IdeaProjects/LingvoHack/target/classes:/home/anatoly/.m2/repository/org/springframework/boot/spring-boot-starter-data-jpa/2.7.4/spring-boot-starter-data-jpa-2.7.4.jar:/home/anatoly/.m2/repository/org/springframework/boot/spring-boot-starter-aop/3.0.1/spring-boot-starter-aop-3.0.1.jar:/home/anatoly/.m2/repository/org/aspectj/aspectjweaver/1.9.19/aspectjweaver-1.9.19.jar:/home/anatoly/.m2/repository/org/springframework/boot/spring-boot-starter-jdbc/3.0.1/spring-boot-starter-jdbc-3.0.1.jar:/home/anatoly/.m2/repository/com/zaxxer/HikariCP/5.0.1/HikariCP-5.0.1.jar:/home/anatoly/.m2/repository/org/springframework/spring-jdbc/6.0.3/spring-jdbc-6.0.3.jar:/home/anatoly/.m2/repository/jakarta/transaction/jakarta.transaction-api/2.0.1/jakarta.transaction-api-2.0.1.jar:/home/anatoly/.m2/repository/jakarta/persistence/jakarta.persistence-api/3.1.0/jakarta.persistence-api-3.1.0.jar:/home/anatoly/.m2/repository/org/hibernate/hibernate-core/5.6.11.Final/hibernate-core-5.6.11.Final.jar:/home/anatoly/.m2/repository/org/jboss/logging/jboss-logging/3.5.0.Final/jboss-logging-3.5.0.Final.jar:/home/anatoly/.m2/repository/net/bytebuddy/byte-buddy/1.12.20/byte-buddy-1.12.20.jar:/home/anatoly/.m2/repository/antlr/antlr/2.7.7/antlr-2.7.7.jar:/home/anatoly/.m2/repository/org/jboss/jandex/2.4.2.Final/jandex-2.4.2.Final.jar:/home/anatoly/.m2/repository/org/hibernate/common/hibernate-commons-annotations/5.1.2.Final/hibernate-commons-annotations-5.1.2.Final.jar:/home/anatoly/.m2/repository/org/glassfish/jaxb/jaxb-runtime/4.0.1/jaxb-runtime-4.0.1.jar:/home/anatoly/.m2/repository/org/glassfish/jaxb/jaxb-core/4.0.1/jaxb-core-4.0.1.jar:/home/anatoly/.m2/repository/org/eclipse/angus/angus-activation/1.0.0/angus-activation-1.0.0.jar:/home/anatoly/.m2/repository/org/glassfish/jaxb/txw2/4.0.1/txw2-4.0.1.jar:/home/anatoly/.m2/repository/com/sun/istack/istack-commons-runtime/4.1.1/istack-commons-runtime-4.1.1.jar:/home/anatoly/.m2/repository/org/springframework/data/spring-data-jpa/3.0.0/spring-data-jpa-3.0.0.jar:/home/anatoly/.m2/repository/org/springframework/data/spring-data-commons/3.0.0/spring-data-commons-3.0.0.jar:/home/anatoly/.m2/repository/org/springframework/spring-orm/6.0.3/spring-orm-6.0.3.jar:/home/anatoly/.m2/repository/org/springframework/spring-context/6.0.3/spring-context-6.0.3.jar:/home/anatoly/.m2/repository/org/springframework/spring-tx/6.0.3/spring-tx-6.0.3.jar:/home/anatoly/.m2/repository/org/springframework/spring-beans/6.0.3/spring-beans-6.0.3.jar:/home/anatoly/.m2/repository/jakarta/annotation/jakarta.annotation-api/2.1.1/jakarta.annotation-api-2.1.1.jar:/home/anatoly/.m2/repository/org/springframework/spring-aspects/6.0.3/spring-aspects-6.0.3.jar:/home/anatoly/.m2/repository/org/springframework/boot/spring-boot-starter-web/2.7.4/spring-boot-starter-web-2.7.4.jar:/home/anatoly/.m2/repository/org/springframework/boot/spring-boot-starter/3.0.1/spring-boot-starter-3.0.1.jar:/home/anatoly/.m2/repository/org/springframework/boot/spring-boot/3.0.1/spring-boot-3.0.1.jar:/home/anatoly/.m2/repository/org/springframework/boot/spring-boot-autoconfigure/3.0.1/spring-boot-autoconfigure-3.0.1.jar:/home/anatoly/.m2/repository/org/springframework/boot/spring-boot-starter-json/3.0.1/spring-boot-starter-json-3.0.1.jar:/home/anatoly/.m2/repository/com/fasterxml/jackson/core/jackson-databind/2.14.1/jackson-databind-2.14.1.jar:/home/anatoly/.m2/repository/com/fasterxml/jackson/datatype/jackson-datatype-jdk8/2.14.1/jackson-datatype-jdk8-2.14.1.jar:/home/anatoly/.m2/repository/com/fasterxml/jackson/datatype/jackson-datatype-jsr310/2.14.1/jackson-datatype-jsr310-2.14.1.jar:/home/anatoly/.m2/repository/com/fasterxml/jackson/module/jackson-module-parameter-names/2.14.1/jackson-module-parameter-names-2.14.1.jar:/home/anatoly/.m2/repository/org/springframework/boot/spring-boot-starter-tomcat/3.0.1/spring-boot-starter-tomcat-3.0.1.jar:/home/anatoly/.m2/repository/org/apache/tomcat/embed/tomcat-embed-core/10.1.4/tomcat-embed-core-10.1.4.jar:/home/anatoly/.m2/repository/org/apache/tomcat/embed/tomcat-embed-el/10.1.4/tomcat-embed-el-10.1.4.jar:/home/anatoly/.m2/repository/org/apache/tomcat/embed/tomcat-embed-websocket/10.1.4/tomcat-embed-websocket-10.1.4.jar:/home/anatoly/.m2/repository/org/springframework/spring-web/6.0.3/spring-web-6.0.3.jar:/home/anatoly/.m2/repository/org/springframework/spring-webmvc/6.0.3/spring-webmvc-6.0.3.jar:/home/anatoly/.m2/repository/org/springframework/spring-expression/6.0.3/spring-expression-6.0.3.jar:/home/anatoly/.m2/repository/org/springdoc/springdoc-openapi-ui/1.4.8/springdoc-openapi-ui-1.4.8.jar:/home/anatoly/.m2/repository/org/springdoc/springdoc-openapi-webmvc-core/1.4.8/springdoc-openapi-webmvc-core-1.4.8.jar:/home/anatoly/.m2/repository/org/springdoc/springdoc-openapi-common/1.4.8/springdoc-openapi-common-1.4.8.jar:/home/anatoly/.m2/repository/io/swagger/core/v3/swagger-models/2.1.4/swagger-models-2.1.4.jar:/home/anatoly/.m2/repository/io/swagger/core/v3/swagger-integration/2.1.4/swagger-integration-2.1.4.jar:/home/anatoly/.m2/repository/io/swagger/core/v3/swagger-core/2.1.4/swagger-core-2.1.4.jar:/home/anatoly/.m2/repository/com/fasterxml/jackson/dataformat/jackson-dataformat-yaml/2.14.1/jackson-dataformat-yaml-2.14.1.jar:/home/anatoly/.m2/repository/jakarta/validation/jakarta.validation-api/3.0.2/jakarta.validation-api-3.0.2.jar:/home/anatoly/.m2/repository/org/webjars/swagger-ui/3.34.0/swagger-ui-3.34.0.jar:/home/anatoly/.m2/repository/org/webjars/webjars-locator-core/0.52/webjars-locator-core-0.52.jar:/home/anatoly/.m2/repository/com/fasterxml/jackson/core/jackson-core/2.14.1/jackson-core-2.14.1.jar:/home/anatoly/.m2/repository/org/springdoc/springdoc-openapi-data-rest/1.4.8/springdoc-openapi-data-rest-1.4.8.jar:/home/anatoly/.m2/repository/org/springdoc/springdoc-openapi-hateoas/1.4.8/springdoc-openapi-hateoas-1.4.8.jar:/home/anatoly/.m2/repository/org/springframework/hateoas/spring-hateoas/2.0.0/spring-hateoas-2.0.0.jar:/home/anatoly/.m2/repository/org/springframework/data/spring-data-rest-core/4.0.0/spring-data-rest-core-4.0.0.jar:/home/anatoly/.m2/repository/org/atteo/evo-inflector/1.3/evo-inflector-1.3.jar:/home/anatoly/.m2/repository/com/fasterxml/jackson/core/jackson-annotations/2.14.1/jackson-annotations-2.14.1.jar:/home/anatoly/.m2/repository/org/apache/httpcomponents/httpclient/4.5.13/httpclient-4.5.13.jar:/home/anatoly/.m2/repository/org/apache/httpcomponents/httpcore/4.4.16/httpcore-4.4.16.jar:/home/anatoly/.m2/repository/commons-codec/commons-codec/1.15/commons-codec-1.15.jar:/home/anatoly/.m2/repository/com/jayway/jsonpath/json-path/2.7.0/json-path-2.7.0.jar:/home/anatoly/.m2/repository/net/minidev/json-smart/2.4.8/json-smart-2.4.8.jar:/home/anatoly/.m2/repository/net/minidev/accessors-smart/2.4.8/accessors-smart-2.4.8.jar:/home/anatoly/.m2/repository/org/ow2/asm/asm/9.1/asm-9.1.jar:/home/anatoly/.m2/repository/jakarta/xml/bind/jakarta.xml.bind-api/4.0.0/jakarta.xml.bind-api-4.0.0.jar:/home/anatoly/.m2/repository/jakarta/activation/jakarta.activation-api/2.1.0/jakarta.activation-api-2.1.0.jar:/home/anatoly/.m2/repository/org/springframework/spring-core/6.0.3/spring-core-6.0.3.jar:/home/anatoly/.m2/repository/org/springframework/spring-jcl/6.0.3/spring-jcl-6.0.3.jar:/home/anatoly/.m2/repository/org/projectlombok/lombok/1.18.20/lombok-1.18.20.jar:/home/anatoly/.m2/repository/org/postgresql/postgresql/42.5.0/postgresql-42.5.0.jar:/home/anatoly/.m2/repository/org/checkerframework/checker-qual/3.5.0/checker-qual-3.5.0.jar:/home/anatoly/.m2/repository/org/thingsboard/springfox-swagger2/3.0.4/springfox-swagger2-3.0.4.jar:/home/anatoly/.m2/repository/org/thingsboard/springfox-spi/3.0.4/springfox-spi-3.0.4.jar:/home/anatoly/.m2/repository/org/thingsboard/springfox-core/3.0.4/springfox-core-3.0.4.jar:/home/anatoly/.m2/repository/org/thingsboard/springfox-schema/3.0.4/springfox-schema-3.0.4.jar:/home/anatoly/.m2/repository/org/thingsboard/springfox-swagger-common/3.0.4/springfox-swagger-common-3.0.4.jar:/home/anatoly/.m2/repository/io/swagger/core/v3/swagger-annotations/2.1.2/swagger-annotations-2.1.2.jar:/home/anatoly/.m2/repository/org/thingsboard/springfox-spring-web/3.0.4/springfox-spring-web-3.0.4.jar:/home/anatoly/.m2/repository/io/github/classgraph/classgraph/4.8.83/classgraph-4.8.83.jar:/home/anatoly/.m2/repository/org/thingsboard/springfox-spring-webmvc/3.0.4/springfox-spring-webmvc-3.0.4.jar:/home/anatoly/.m2/repository/org/thingsboard/springfox-spring-webflux/3.0.4/springfox-spring-webflux-3.0.4.jar:/home/anatoly/.m2/repository/com/fasterxml/classmate/1.5.1/classmate-1.5.1.jar:/home/anatoly/.m2/repository/org/slf4j/slf4j-api/2.0.6/slf4j-api-2.0.6.jar:/home/anatoly/.m2/repository/org/springframework/plugin/spring-plugin-core/2.0.0.RELEASE/spring-plugin-core-2.0.0.RELEASE.jar:/home/anatoly/.m2/repository/org/springframework/plugin/spring-plugin-metadata/2.0.0.RELEASE/spring-plugin-metadata-2.0.0.RELEASE.jar:/home/anatoly/.m2/repository/io/swagger/swagger-annotations/1.5.20/swagger-annotations-1.5.20.jar:/home/anatoly/.m2/repository/io/swagger/swagger-models/1.5.20/swagger-models-1.5.20.jar:/home/anatoly/.m2/repository/org/mapstruct/mapstruct/1.3.1.Final/mapstruct-1.3.1.Final.jar:/home/anatoly/.m2/repository/org/springframework/boot/spring-boot-starter-actuator/3.0.1/spring-boot-starter-actuator-3.0.1.jar:/home/anatoly/.m2/repository/org/springframework/boot/spring-boot-actuator-autoconfigure/3.0.1/spring-boot-actuator-autoconfigure-3.0.1.jar:/home/anatoly/.m2/repository/org/springframework/boot/spring-boot-actuator/3.0.1/spring-boot-actuator-3.0.1.jar:/home/anatoly/.m2/repository/io/micrometer/micrometer-observation/1.10.2/micrometer-observation-1.10.2.jar:/home/anatoly/.m2/repository/io/micrometer/micrometer-commons/1.10.2/micrometer-commons-1.10.2.jar:/home/anatoly/.m2/repository/io/micrometer/micrometer-core/1.10.2/micrometer-core-1.10.2.jar:/home/anatoly/.m2/repository/org/hdrhistogram/HdrHistogram/2.1.12/HdrHistogram-2.1.12.jar:/home/anatoly/.m2/repository/org/latencyutils/LatencyUtils/2.0.3/LatencyUtils-2.0.3.jar:/home/anatoly/.m2/repository/io/springfox/springfox-swagger-ui/2.9.2/springfox-swagger-ui-2.9.2.jar:/home/anatoly/.m2/repository/io/springfox/springfox-spring-web/2.9.2/springfox-spring-web-2.9.2.jar:/home/anatoly/.m2/repository/com/google/guava/guava/20.0/guava-20.0.jar:/home/anatoly/.m2/repository/io/springfox/springfox-spi/2.9.2/springfox-spi-2.9.2.jar:/home/anatoly/.m2/repository/io/springfox/springfox-core/2.9.2/springfox-core-2.9.2.jar:/home/anatoly/.m2/repository/org/springframework/boot/spring-boot-starter-thymeleaf/2.7.0/spring-boot-starter-thymeleaf-2.7.0.jar:/home/anatoly/.m2/repository/org/thymeleaf/thymeleaf-spring5/3.0.15.RELEASE/thymeleaf-spring5-3.0.15.RELEASE.jar:/home/anatoly/.m2/repository/org/thymeleaf/thymeleaf/3.1.1.RELEASE/thymeleaf-3.1.1.RELEASE.jar:/home/anatoly/.m2/repository/org/attoparser/attoparser/2.0.6.RELEASE/attoparser-2.0.6.RELEASE.jar:/home/anatoly/.m2/repository/org/unbescape/unbescape/1.1.6.RELEASE/unbescape-1.1.6.RELEASE.jar:/home/anatoly/.m2/repository/org/thymeleaf/extras/thymeleaf-extras-java8time/3.0.4.RELEASE/thymeleaf-extras-java8time-3.0.4.RELEASE.jar:/home/anatoly/.m2/repository/org/liquibase/liquibase-core/4.17.2/liquibase-core-4.17.2.jar:/home/anatoly/.m2/repository/javax/xml/bind/jaxb-api/2.3.1/jaxb-api-2.3.1.jar:/home/anatoly/.m2/repository/javax/activation/javax.activation-api/1.2.0/javax.activation-api-1.2.0.jar:/home/anatoly/.m2/repository/org/yaml/snakeyaml/1.33/snakeyaml-1.33.jar:/home/anatoly/.m2/repository/com/opencsv/opencsv/5.7.1/opencsv-5.7.1.jar:/home/anatoly/.m2/repository/org/apache/commons/commons-lang3/3.12.0/commons-lang3-3.12.0.jar:/home/anatoly/.m2/repository/org/apache/commons/commons-text/1.10.0/commons-text-1.10.0.jar:/home/anatoly/.m2/repository/org/apache/commons/commons-collections4/4.4/commons-collections4-4.4.jar:/home/anatoly/.m2/repository/org/springframework/boot/spring-boot-starter-log4j2/2.7.3/spring-boot-starter-log4j2-2.7.3.jar:/home/anatoly/.m2/repository/org/apache/logging/log4j/log4j-slf4j-impl/2.19.0/log4j-slf4j-impl-2.19.0.jar:/home/anatoly/.m2/repository/org/apache/logging/log4j/log4j-api/2.19.0/log4j-api-2.19.0.jar:/home/anatoly/.m2/repository/org/apache/logging/log4j/log4j-core/2.19.0/log4j-core-2.19.0.jar:/home/anatoly/.m2/repository/org/apache/logging/log4j/log4j-jul/2.19.0/log4j-jul-2.19.0.jar:/home/anatoly/.m2/repository/org/slf4j/jul-to-slf4j/2.0.6/jul-to-slf4j-2.0.6.jar:/home/anatoly/.m2/repository/org/springframework/boot/spring-boot-starter-security/3.0.1/spring-boot-starter-security-3.0.1.jar:/home/anatoly/.m2/repository/org/springframework/spring-aop/6.0.3/spring-aop-6.0.3.jar:/home/anatoly/.m2/repository/org/springframework/security/spring-security-config/6.0.1/spring-security-config-6.0.1.jar:/home/anatoly/.m2/repository/org/springframework/security/spring-security-core/6.0.1/spring-security-core-6.0.1.jar:/home/anatoly/.m2/repository/org/springframework/security/spring-security-crypto/6.0.1/spring-security-crypto-6.0.1.jar:/home/anatoly/.m2/repository/org/springframework/security/spring-security-web/6.0.1/spring-security-web-6.0.1.jar fairytale.DemoApplication\n2023-01-04T01:23:05.425+03:00  INFO 9467 --- [           main] f.DemoApplication                        : Starting DemoApplication using Java 18.0.2 with PID 9467 (/home/anatoly/IdeaProjects/LingvoHack/target/classes started by anatoly in /home/anatoly/IdeaProjects/LingvoHack)\n2023-01-04T01:23:05.442+03:00  INFO 9467 --- [           main] f.DemoApplication                        : The following 2 profiles are active: &quot;dev&quot;, &quot;prod&quot;\nSLF4J: No SLF4J providers were found.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See https://www.slf4j.org/codes.html#noProviders for further details.\nSLF4J: Class path contains SLF4J bindings targeting slf4j-api versions 1.7.x or earlier.\nSLF4J: Ignoring binding found at [jar:file:/home/anatoly/.m2/repository/org/apache/logging/log4j/log4j-slf4j-impl/2.19.0/log4j-slf4j-impl-2.19.0.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: See https://www.slf4j.org/codes.html#ignoredBindings for an explanation.\n2023-01-04T01:23:06.814+03:00  INFO 9467 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2023-01-04T01:23:06.844+03:00  INFO 9467 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 20 ms. Found 0 JPA repository interfaces.\n2023-01-04T01:23:07.655+03:00  INFO 9467 --- [           main] o.s.b.w.e.t.TomcatWebServer              : Tomcat initialized with port(s): 8888 (http)\n2023-01-04T01:23:07.669+03:00  INFO 9467 --- [           main] o.a.c.c.StandardService                  : Starting service [Tomcat]\n2023-01-04T01:23:07.669+03:00  INFO 9467 --- [           main] o.a.c.c.StandardEngine                   : Starting Servlet engine: [Apache Tomcat/10.1.4]\n2023-01-04T01:23:07.793+03:00  INFO 9467 --- [           main] o.a.c.c.C.[.[.[/]                        : Initializing Spring embedded WebApplicationContext\n2023-01-04T01:23:07.794+03:00  INFO 9467 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2280 ms\n2023-01-04T01:23:08.565+03:00  WARN 9467 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'resourceHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Failed to instantiate [org.springframework.web.servlet.HandlerMapping]: Factory method 'resourceHandlerMapping' threw exception with message: 'io.github.classgraph.ClassGraph io.github.classgraph.ClassGraph.acceptPaths(java.lang.String[])'\n2023-01-04T01:23:08.570+03:00  INFO 9467 --- [           main] o.a.c.c.StandardService                  : Stopping service [Tomcat]\n2023-01-04T01:23:08.606+03:00  INFO 9467 --- [           main] .s.b.a.l.ConditionEvaluationReportLogger : \n\nError starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\n2023-01-04T01:23:08.639+03:00 ERROR 9467 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \n\n***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nAn attempt was made to call a method that does not exist. The attempt was made from the following location:\n\n    org.webjars.WebJarAssetLocator.scanForWebJars(WebJarAssetLocator.java:188)\n\nThe following method did not exist:\n\n    'io.github.classgraph.ClassGraph io.github.classgraph.ClassGraph.acceptPaths(java.lang.String[])'\n\nThe calling method's class, org.webjars.WebJarAssetLocator, was loaded from the following location:\n\n    jar:file:/home/anatoly/.m2/repository/org/webjars/webjars-locator-core/0.52/webjars-locator-core-0.52.jar!/org/webjars/WebJarAssetLocator.class\n\nThe called method's class, io.github.classgraph.ClassGraph, is available from the following locations:\n\n    jar:file:/home/anatoly/.m2/repository/io/github/classgraph/classgraph/4.8.83/classgraph-4.8.83.jar!/io/github/classgraph/ClassGraph.class\n\nThe called method's class hierarchy was loaded from the following locations:\n\n    io.github.classgraph.ClassGraph: file:/home/anatoly/.m2/repository/io/github/classgraph/classgraph/4.8.83/classgraph-4.8.83.jar\n\n\nAction:\n\nCorrect the classpath of your application so that it contains compatible versions of the classes org.webjars.WebJarAssetLocator and io.github.classgraph.ClassGraph\n\n\nProcess finished with exit code 1\n</code></pre>\n<p>I throwed out all spring dependencies to firstly try to boot simple app.\nNevertheless, the error came here ))</p>\n<p>What can be done?</p>\n"},{"tags":["java","unit-testing","junit","junit5"],"comments":[{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1653416656,"post_id":72367687,"comment_id":127846310,"body_markdown":"In general, you should only provide input to your methods as parameters, not the expected results.","body":"In general, you should only provide input to your methods as parameters, not the expected results."},{"owner":{"account_id":18383045,"reputation":517,"user_id":13604662,"display_name":"Soumalya Bhattacharya"},"score":0,"creation_date":1653417304,"post_id":72367687,"comment_id":127846531,"body_markdown":"Ok that I know I can provide with @ValueSource annotation in JUnit5 but then how do I check if the returned string is my expected one or not","body":"Ok that I know I can provide with @ValueSource annotation in JUnit5 but then how do I check if the returned string is my expected one or not"}],"answers":[{"comments":[{"owner":{"account_id":18383045,"reputation":517,"user_id":13604662,"display_name":"Soumalya Bhattacharya"},"score":0,"creation_date":1653418161,"post_id":72367965,"comment_id":127846853,"body_markdown":"@CsvSource does the work fine without the additional function Thanks..","body":"@CsvSource does the work fine without the additional function Thanks.."}],"tags":[],"owner":{"account_id":2742245,"reputation":10850,"user_id":2363517,"display_name":"mszalbach"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1653417757,"creation_date":1653417757,"answer_id":72367965,"question_id":72367687,"body_markdown":"With JUnit 5 you have ParameterizedTest and a Source for the input parameters, which are simple the parameters of the method.\r\n\r\nSo you want a Method with this signature:\r\n\r\n    @ParameterizedTest\r\n    //Source Annotation\r\n    void truncateAInFirst2Positions_A_atStart(String actual, String expected) {\r\n\r\nAnd now you look up a for your use case matching source. When you want to proivde your test data with your method you could use `@MethodSource(&quot;testConditions&quot;)`. The String in the annotation points to the static method providing your test data. The test will be executed x times where x is the count of pairs in your collection. The elements in your String Array will be used as method arguments.\r\n\r\nFor simple types like Strings a CSV source can be simpler and easier to read:\r\n\r\n    @CsvSource({\r\n    &quot;AACD, CD&quot;,\r\n    &quot;ACD, CD&quot;\r\n    })\r\n\r\nYou can check all possible sources and possiblites in the offcial documentation:\r\nhttps://junit.org/junit5/docs/current/user-guide/#writing-tests-parameterized-tests","title":"How to pass expected and actual value in paramererized test in JUnit 5","body":"<p>With JUnit 5 you have ParameterizedTest and a Source for the input parameters, which are simple the parameters of the method.</p>\n<p>So you want a Method with this signature:</p>\n<pre><code>@ParameterizedTest\n//Source Annotation\nvoid truncateAInFirst2Positions_A_atStart(String actual, String expected) {\n</code></pre>\n<p>And now you look up a for your use case matching source. When you want to proivde your test data with your method you could use <code>@MethodSource(&quot;testConditions&quot;)</code>. The String in the annotation points to the static method providing your test data. The test will be executed x times where x is the count of pairs in your collection. The elements in your String Array will be used as method arguments.</p>\n<p>For simple types like Strings a CSV source can be simpler and easier to read:</p>\n<pre><code>@CsvSource({\n&quot;AACD, CD&quot;,\n&quot;ACD, CD&quot;\n})\n</code></pre>\n<p>You can check all possible sources and possiblites in the offcial documentation:\n<a href=\"https://junit.org/junit5/docs/current/user-guide/#writing-tests-parameterized-tests\" rel=\"nofollow noreferrer\">https://junit.org/junit5/docs/current/user-guide/#writing-tests-parameterized-tests</a></p>\n"},{"comments":[{"owner":{"account_id":1503775,"reputation":18065,"user_id":1407656,"accept_rate":81,"display_name":"toniedzwiedz"},"score":0,"creation_date":1671117090,"post_id":73047627,"comment_id":132033142,"body_markdown":"Thank you! Just what I&#39;ve been looking for. Underrated answer :)","body":"Thank you! Just what I&#39;ve been looking for. Underrated answer :)"}],"tags":[],"owner":{"account_id":5623697,"reputation":480,"user_id":4452737,"display_name":"markus_"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1672862721,"creation_date":1658302434,"answer_id":73047627,"question_id":72367687,"body_markdown":"Just for reference as the question is already answered, but if you need something else than strings (e.g. your own objects) you can use [`org.junit.jupiter.params.provider.Arguments.arguments`](https://junit.org/junit5/docs/5.7.2/api/org.junit.jupiter.params/org/junit/jupiter/params/provider/Arguments.html#arguments(java.lang.Object...)), e.g.:  \r\n\r\n    @ParameterizedTest\r\n    @MethodSource(&quot;provideMyObject&quot;)\r\n    void myTestMethod(ActualObject actual, ExpectedObject expected) {\r\n       // ...\r\n    }\r\n\r\n    static Stream&lt;Arguments&gt; provideMyObject() {\r\n        return Stream.of(\r\n                org.junit.jupiter.params.provider.Arguments.arguments(new ActualObject(&quot;foo&quot;), new ExpectedObject(&quot;foo&quot;)),\r\n                org.junit.jupiter.params.provider.Arguments.arguments(new ActualObject(&quot;bar&quot;), new ExpectedObject(&quot;bar))\r\n        );\r\n    }\r\n\r\nsee also: https://junit.org/junit5/docs/current/user-guide/#writing-tests-parameterized-tests-sources-MethodSource","title":"How to pass expected and actual value in paramererized test in JUnit 5","body":"<p>Just for reference as the question is already answered, but if you need something else than strings (e.g. your own objects) you can use <a href=\"https://junit.org/junit5/docs/5.7.2/api/org.junit.jupiter.params/org/junit/jupiter/params/provider/Arguments.html#arguments(java.lang.Object...)\" rel=\"nofollow noreferrer\"><code>org.junit.jupiter.params.provider.Arguments.arguments</code></a>, e.g.:</p>\n<pre><code>@ParameterizedTest\n@MethodSource(&quot;provideMyObject&quot;)\nvoid myTestMethod(ActualObject actual, ExpectedObject expected) {\n   // ...\n}\n\nstatic Stream&lt;Arguments&gt; provideMyObject() {\n    return Stream.of(\n            org.junit.jupiter.params.provider.Arguments.arguments(new ActualObject(&quot;foo&quot;), new ExpectedObject(&quot;foo&quot;)),\n            org.junit.jupiter.params.provider.Arguments.arguments(new ActualObject(&quot;bar&quot;), new ExpectedObject(&quot;bar))\n    );\n}\n</code></pre>\n<p>see also: <a href=\"https://junit.org/junit5/docs/current/user-guide/#writing-tests-parameterized-tests-sources-MethodSource\" rel=\"nofollow noreferrer\">https://junit.org/junit5/docs/current/user-guide/#writing-tests-parameterized-tests-sources-MethodSource</a></p>\n"}],"owner":{"account_id":18383045,"reputation":517,"user_id":13604662,"display_name":"Soumalya Bhattacharya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4779,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":72367965,"answer_count":2,"score":3,"last_activity_date":1672862721,"creation_date":1653416352,"question_id":72367687,"body_markdown":"I am trying to implement Parameterized test in which I have a set of input and expected values which I want to test using `assertEquals` method of `JUnit`. **I&#39;m using JUnit version 5.x for this** I am passing the input value to my custom method defined in other package (that I&#39;m testing) and I am checking it with an expected value with `assertEquals` method.\r\n\r\n    import static org.junit.jupiter.api.Assertions.assertEquals;\r\n    \r\n    import java.util.Arrays;\r\n    import java.util.Collection;\r\n    \r\n    import org.junit.jupiter.api.Test;\r\n    import org.junit.jupiter.params.ParameterizedTest;\r\n    import org.junit.runners.Parameterized.Parameters;\r\n    \r\n    class StringHelperTest {\r\n    \tprivate StringHelper helper = new StringHelper();\r\n    \tprivate String input;\r\n    \tprivate String expectedOutput;\r\n    \r\n    \tpublic String getInput() {\r\n    \t\treturn input;\r\n    \t}\r\n    \r\n    \tpublic void setInput(String input) {\r\n    \t\tthis.input = input;\r\n    \t}\r\n    \r\n    \tpublic String getExpectedOutput() {\r\n    \t\treturn expectedOutput;\r\n    \t}\r\n    \r\n    \tpublic void setExpectedOutput(String expectedOutput) {\r\n    \t\tthis.expectedOutput = expectedOutput;\r\n    \t}\r\n    \r\n    \t@Parameters\r\n    \tpublic static Collection&lt;String[]&gt; testConditions() {\r\n    \t\tString[][] expectedOutputs = { { &quot;AACD&quot;, &quot;CD&quot; }, { &quot;ACD&quot;, &quot;CD&quot; }, { &quot;CDEF&quot;, &quot;CDEF&quot; }, { &quot;CDAA&quot;, &quot;CDAA&quot; } };\r\n    \t\treturn Arrays.asList(expectedOutputs);\r\n    \t}\r\n    \r\n    \t@ParameterizedTest\r\n    \t@Test\r\n    \tpublic void truncateAInFirst2Positions_A_atStart() {\r\n    \t\tassertEquals(expectedOutput, helper.truncateAInFirst2Positions(input));\r\n    \r\n    \t}\r\n    }\r\n\r\nIn the method `testConditions()` the actual and expected values are given as a 2 dimensinonal String array `expectedOutputs` {{&lt;actual_value&gt;,&lt;expected_value&gt;},{...}}.\r\n\r\nHow do I pass `expectedOutputs` array to the `truncateAInFirst2Positions_A_atStart()` method to test all conditions mentioned in `expectedOutputs` array","title":"How to pass expected and actual value in paramererized test in JUnit 5","body":"<p>I am trying to implement Parameterized test in which I have a set of input and expected values which I want to test using <code>assertEquals</code> method of <code>JUnit</code>. <strong>I'm using JUnit version 5.x for this</strong> I am passing the input value to my custom method defined in other package (that I'm testing) and I am checking it with an expected value with <code>assertEquals</code> method.</p>\n<pre><code>import static org.junit.jupiter.api.Assertions.assertEquals;\n\nimport java.util.Arrays;\nimport java.util.Collection;\n\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.params.ParameterizedTest;\nimport org.junit.runners.Parameterized.Parameters;\n\nclass StringHelperTest {\n    private StringHelper helper = new StringHelper();\n    private String input;\n    private String expectedOutput;\n\n    public String getInput() {\n        return input;\n    }\n\n    public void setInput(String input) {\n        this.input = input;\n    }\n\n    public String getExpectedOutput() {\n        return expectedOutput;\n    }\n\n    public void setExpectedOutput(String expectedOutput) {\n        this.expectedOutput = expectedOutput;\n    }\n\n    @Parameters\n    public static Collection&lt;String[]&gt; testConditions() {\n        String[][] expectedOutputs = { { &quot;AACD&quot;, &quot;CD&quot; }, { &quot;ACD&quot;, &quot;CD&quot; }, { &quot;CDEF&quot;, &quot;CDEF&quot; }, { &quot;CDAA&quot;, &quot;CDAA&quot; } };\n        return Arrays.asList(expectedOutputs);\n    }\n\n    @ParameterizedTest\n    @Test\n    public void truncateAInFirst2Positions_A_atStart() {\n        assertEquals(expectedOutput, helper.truncateAInFirst2Positions(input));\n\n    }\n}\n</code></pre>\n<p>In the method <code>testConditions()</code> the actual and expected values are given as a 2 dimensinonal String array <code>expectedOutputs</code> {{&lt;actual_value&gt;,&lt;expected_value&gt;},{...}}.</p>\n<p>How do I pass <code>expectedOutputs</code> array to the <code>truncateAInFirst2Positions_A_atStart()</code> method to test all conditions mentioned in <code>expectedOutputs</code> array</p>\n"},{"tags":["java","operator-keyword","bigdecimal"],"comments":[{"owner":{"account_id":2011141,"reputation":7317,"user_id":1799530,"accept_rate":47,"display_name":"SomeJavaGuy"},"score":0,"creation_date":1452257796,"post_id":34677644,"comment_id":57100234,"body_markdown":"since `BigDecimal` is an `Object`, no this doesn&#180;t work. But you could simply subtract one from each other and check if the resulting value is `&lt;0`, `==0` or `&gt;0`. Otherwise you could go the standard way with the provided methods from [BigDecimal](http://stackoverflow.com/questions/6787142/bigdecimal-equals-versus-compareto)","body":"since <code>BigDecimal</code> is an <code>Object</code>, no this doesn&#180;t work. But you could simply subtract one from each other and check if the resulting value is <code>&lt;0</code>, <code>==0</code> or <code>&gt;0</code>. Otherwise you could go the standard way with the provided methods from <a href=\"http://stackoverflow.com/questions/6787142/bigdecimal-equals-versus-compareto\">BigDecimal</a>"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":3,"creation_date":1452257877,"post_id":34677644,"comment_id":57100286,"body_markdown":"That why there is a `compareTo` method which returns -1, 0 or 1. Which is basically the [`Comparable`](https://docs.oracle.com/javase/7/docs/api/java/lang/Comparable.html).","body":"That why there is a <code>compareTo</code> method which returns -1, 0 or 1. Which is basically the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Comparable.html\" rel=\"nofollow noreferrer\"><code>Comparable</code></a>."},{"owner":{"account_id":1523181,"reputation":2433,"user_id":1422297,"accept_rate":100,"display_name":"Morteza Adi"},"score":0,"creation_date":1538308207,"post_id":34677644,"comment_id":92090420,"body_markdown":"https://github.com/mortezaadi/bigdecimal-utils","body":"<a href=\"https://github.com/mortezaadi/bigdecimal-utils\" rel=\"nofollow noreferrer\">github.com/mortezaadi/bigdecimal-utils</a>"}],"answers":[{"comments":[{"owner":{"account_id":3762651,"reputation":3511,"user_id":3127109,"accept_rate":44,"display_name":"user3127109"},"score":1,"creation_date":1452257977,"post_id":34677687,"comment_id":57100347,"body_markdown":"But does the compareTo method helps in finding like whether the price is greater than, equals to or lower than?","body":"But does the compareTo method helps in finding like whether the price is greater than, equals to or lower than?"},{"owner":{"account_id":5263098,"reputation":4148,"user_id":4204026,"accept_rate":90,"display_name":"Drew Kennedy"},"score":2,"creation_date":1452258097,"post_id":34677687,"comment_id":57100424,"body_markdown":"Yes. That information is in the link provided in the answer.","body":"Yes. That information is in the link provided in the answer."},{"owner":{"account_id":484452,"reputation":21496,"user_id":900130,"accept_rate":65,"display_name":"Zolt&#225;n"},"score":7,"creation_date":1452258154,"post_id":34677687,"comment_id":57100469,"body_markdown":"@user3127109 yes, `a.compareTo(b)` returns a number greater than zero if `a &gt; b`, `0` if `a == b`, and less than zero if `a &lt; b`.","body":"@user3127109 yes, <code>a.compareTo(b)</code> returns a number greater than zero if <code>a &gt; b</code>, <code>0</code> if <code>a == b</code>, and less than zero if <code>a &lt; b</code>."}],"tags":[],"owner":{"account_id":1642943,"reputation":19407,"user_id":1515052,"accept_rate":90,"display_name":"Simulant"},"comment_count":3,"down_vote_count":3,"up_vote_count":158,"is_accepted":true,"score":155,"last_activity_date":1469643009,"creation_date":1452257870,"answer_id":34677687,"question_id":34677644,"body_markdown":"Every object of the Class `BigDecimal` has a method [`compareTo`][1] you can use to compare it to another BigDecimal. The result of `compareTo` is then compared `&gt; 0`, `== 0` or `&lt; 0` depending on what you need. Read the documentation and you will find out.\r\n\r\nThe operators `==`, `&lt;`, `&gt;` and so on can only be used on primitive data types like `int`, `long`, `double` or their wrapper classes like `Integer`and `Double`.\r\n\r\nFrom the documentation of `compareTo`:\r\n\r\n&gt; Compares this `BigDecimal` with the specified `BigDecimal`. \r\n\r\n&gt; Two `BigDecimal`\r\n&gt; objects that are equal in value but have a different scale (like 2.0\r\n&gt; and 2.00) are considered equal by this method. This method is provided\r\n&gt; in preference to individual methods for each of the six boolean\r\n&gt; comparison operators (&lt;, ==, &gt;, &gt;=, !=, &lt;=). The suggested idiom for\r\n&gt; performing these comparisons is: `(x.compareTo(y) &lt;op&gt; 0)`, where `&lt;op&gt;`\r\n&gt; is one of the six comparison operators.\r\n\r\n&gt; Returns:\r\n&gt; -1, 0, or 1 as this BigDecimal is numerically less than, equal to, or greater than val.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html#compareTo-java.math.BigDecimal-","title":"How to use comparison operators like &gt;, =, &lt; on BigDecimal","body":"<p>Every object of the Class <code>BigDecimal</code> has a method <a href=\"https://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html#compareTo-java.math.BigDecimal-\" rel=\"noreferrer\"><code>compareTo</code></a> you can use to compare it to another BigDecimal. The result of <code>compareTo</code> is then compared <code>&gt; 0</code>, <code>== 0</code> or <code>&lt; 0</code> depending on what you need. Read the documentation and you will find out.</p>\n\n<p>The operators <code>==</code>, <code>&lt;</code>, <code>&gt;</code> and so on can only be used on primitive data types like <code>int</code>, <code>long</code>, <code>double</code> or their wrapper classes like <code>Integer</code>and <code>Double</code>.</p>\n\n<p>From the documentation of <code>compareTo</code>:</p>\n\n<blockquote>\n  <p>Compares this <code>BigDecimal</code> with the specified <code>BigDecimal</code>. </p>\n  \n  <p>Two <code>BigDecimal</code>\n  objects that are equal in value but have a different scale (like 2.0\n  and 2.00) are considered equal by this method. This method is provided\n  in preference to individual methods for each of the six boolean\n  comparison operators (&lt;, ==, >, >=, !=, &lt;=). The suggested idiom for\n  performing these comparisons is: <code>(x.compareTo(y) &lt;op&gt; 0)</code>, where <code>&lt;op&gt;</code>\n  is one of the six comparison operators.</p>\n  \n  <p>Returns:\n  -1, 0, or 1 as this BigDecimal is numerically less than, equal to, or greater than val.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":7373320,"reputation":17364,"user_id":5612858,"display_name":"Arnaud"},"comment_count":0,"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1514551478,"creation_date":1452257955,"answer_id":34677715,"question_id":34677644,"body_markdown":"Use the [`compareTo`][1] method of BigDecimal :\r\n\r\n\r\n&gt; public int compareTo(BigDecimal val) Compares this BigDecimal with the\r\n&gt; specified BigDecimal. \r\n&gt; \r\n&gt; \r\n&gt;     Returns:\r\n&gt;     -1, 0, or 1 as this BigDecimal is numerically less than, equal to, or greater than val.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html#compareTo-java.math.BigDecimal-","title":"How to use comparison operators like &gt;, =, &lt; on BigDecimal","body":"<p>Use the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html#compareTo-java.math.BigDecimal-\" rel=\"noreferrer\"><code>compareTo</code></a> method of BigDecimal :</p>\n\n<blockquote>\n  <p>public int compareTo(BigDecimal val) Compares this BigDecimal with the\n  specified BigDecimal. </p>\n\n<pre><code>Returns:\n-1, 0, or 1 as this BigDecimal is numerically less than, equal to, or greater than val.\n</code></pre>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2818342,"reputation":299906,"user_id":2422776,"display_name":"Mureinik"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1505836480,"creation_date":1452257987,"answer_id":34677727,"question_id":34677644,"body_markdown":"[`BigDecimal`](https://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html) isn&#39;t a primitive, so you cannot use the `&lt;`, `&gt;` operators. However, since it&#39;s a [`Comparable`](https://docs.oracle.com/javase/8/docs/api/java/lang/Comparable.html), you can use the [`compareTo(BigDecimal)`](https://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html#compareTo-java.math.BigDecimal-) to the same effect. E.g.:\r\n\r\n    public class Domain {\r\n        private BigDecimal unitPrice;\r\n    \r\n        public boolean isCheaperThan(BigDecimal other) {\r\n            return unitPirce.compareTo(other.unitPrice) &lt; 0;\r\n        }\r\n    \r\n        // etc...\r\n    }\r\n","title":"How to use comparison operators like &gt;, =, &lt; on BigDecimal","body":"<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html\" rel=\"noreferrer\"><code>BigDecimal</code></a> isn't a primitive, so you cannot use the <code>&lt;</code>, <code>&gt;</code> operators. However, since it's a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Comparable.html\" rel=\"noreferrer\"><code>Comparable</code></a>, you can use the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html#compareTo-java.math.BigDecimal-\" rel=\"noreferrer\"><code>compareTo(BigDecimal)</code></a> to the same effect. E.g.:</p>\n\n<pre><code>public class Domain {\n    private BigDecimal unitPrice;\n\n    public boolean isCheaperThan(BigDecimal other) {\n        return unitPirce.compareTo(other.unitPrice) &lt; 0;\n    }\n\n    // etc...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1267801,"reputation":1144,"user_id":1224718,"accept_rate":58,"display_name":"Agung Setiawan"},"comment_count":0,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1452258003,"creation_date":1452258003,"answer_id":34677731,"question_id":34677644,"body_markdown":"You can use method named `compareTo`, `x.compareTo(y)`. It will return 0 if x and y are equal, 1 if x is greater than y and -1 if x is smaller than y","title":"How to use comparison operators like &gt;, =, &lt; on BigDecimal","body":"<p>You can use method named <code>compareTo</code>, <code>x.compareTo(y)</code>. It will return 0 if x and y are equal, 1 if x is greater than y and -1 if x is smaller than y</p>\n"},{"tags":[],"owner":{"account_id":6379814,"reputation":3935,"user_id":4949653,"display_name":"torina"},"comment_count":0,"down_vote_count":1,"up_vote_count":261,"is_accepted":false,"score":260,"last_activity_date":1539256066,"creation_date":1515176461,"answer_id":48119203,"question_id":34677644,"body_markdown":"To be short: \r\n\r\n    firstBigDecimal.compareTo(secondBigDecimal) &lt; 0 // &quot;&lt;&quot;\r\n    firstBigDecimal.compareTo(secondBigDecimal) &gt; 0 // &quot;&gt;&quot;    \r\n    firstBigDecimal.compareTo(secondBigDecimal) == 0 // &quot;==&quot;  \r\n    firstBigDecimal.compareTo(secondBigDecimal) &gt;= 0 // &quot;&gt;=&quot;    ","title":"How to use comparison operators like &gt;, =, &lt; on BigDecimal","body":"<p>To be short: </p>\n\n<pre><code>firstBigDecimal.compareTo(secondBigDecimal) &lt; 0 // \"&lt;\"\nfirstBigDecimal.compareTo(secondBigDecimal) &gt; 0 // \"&gt;\"    \nfirstBigDecimal.compareTo(secondBigDecimal) == 0 // \"==\"  \nfirstBigDecimal.compareTo(secondBigDecimal) &gt;= 0 // \"&gt;=\"    \n</code></pre>\n"},{"tags":[],"owner":{"account_id":1874029,"reputation":37,"user_id":1695651,"display_name":"Alexey"},"comment_count":0,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1518595718,"creation_date":1518595483,"answer_id":48782335,"question_id":34677644,"body_markdown":"Using *com.ibm.etools.marshall.util.BigDecimalRange* util class of IBM one can compare if *BigDecimal* in range.\r\n\r\n    boolean isCalculatedSumInRange = BigDecimalRange.isInRange(low, high, calculatedSum);","title":"How to use comparison operators like &gt;, =, &lt; on BigDecimal","body":"<p>Using <em>com.ibm.etools.marshall.util.BigDecimalRange</em> util class of IBM one can compare if <em>BigDecimal</em> in range.</p>\n\n<pre><code>boolean isCalculatedSumInRange = BigDecimalRange.isInRange(low, high, calculatedSum);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2657838,"reputation":1407,"user_id":2298162,"display_name":"ognjenkl"},"comment_count":0,"down_vote_count":1,"up_vote_count":26,"is_accepted":false,"score":25,"last_activity_date":1540067382,"creation_date":1540065916,"answer_id":52909664,"question_id":34677644,"body_markdown":"Here is an example for all six boolean comparison operators (&lt;, ==, &gt;, &gt;=, !=, &lt;=): \r\n\r\n    BigDecimal big10 = new BigDecimal(10);\r\n    BigDecimal big20 = new BigDecimal(20);\r\n    \r\n    System.out.println(big10.compareTo(big20) &lt; -1);  // false\r\n    System.out.println(big10.compareTo(big20) &lt;= -1); // true\r\n    System.out.println(big10.compareTo(big20) == -1); // true\r\n    System.out.println(big10.compareTo(big20) &gt;= -1); // true\r\n    System.out.println(big10.compareTo(big20) &gt; -1);  // false\r\n    System.out.println(big10.compareTo(big20) != -1); // false\r\n\r\n    System.out.println(big10.compareTo(big20) &lt; 0);   // true\r\n    System.out.println(big10.compareTo(big20) &lt;= 0);  // true\r\n    System.out.println(big10.compareTo(big20) == 0);  // false\r\n    System.out.println(big10.compareTo(big20) &gt;= 0);  // false\r\n    System.out.println(big10.compareTo(big20) &gt; 0);   // false\r\n    System.out.println(big10.compareTo(big20) != 0);  // true\r\n\r\n    System.out.println(big10.compareTo(big20) &lt; 1);   // true\r\n    System.out.println(big10.compareTo(big20) &lt;= 1);  // true\r\n    System.out.println(big10.compareTo(big20) == 1);  // false\r\n    System.out.println(big10.compareTo(big20) &gt;= 1);  // false\r\n    System.out.println(big10.compareTo(big20) &gt; 1);   // false\r\n    System.out.println(big10.compareTo(big20) != 1);  // true\r\n\r\n","title":"How to use comparison operators like &gt;, =, &lt; on BigDecimal","body":"<p>Here is an example for all six boolean comparison operators (&lt;, ==, >, >=, !=, &lt;=): </p>\n\n<pre><code>BigDecimal big10 = new BigDecimal(10);\nBigDecimal big20 = new BigDecimal(20);\n\nSystem.out.println(big10.compareTo(big20) &lt; -1);  // false\nSystem.out.println(big10.compareTo(big20) &lt;= -1); // true\nSystem.out.println(big10.compareTo(big20) == -1); // true\nSystem.out.println(big10.compareTo(big20) &gt;= -1); // true\nSystem.out.println(big10.compareTo(big20) &gt; -1);  // false\nSystem.out.println(big10.compareTo(big20) != -1); // false\n\nSystem.out.println(big10.compareTo(big20) &lt; 0);   // true\nSystem.out.println(big10.compareTo(big20) &lt;= 0);  // true\nSystem.out.println(big10.compareTo(big20) == 0);  // false\nSystem.out.println(big10.compareTo(big20) &gt;= 0);  // false\nSystem.out.println(big10.compareTo(big20) &gt; 0);   // false\nSystem.out.println(big10.compareTo(big20) != 0);  // true\n\nSystem.out.println(big10.compareTo(big20) &lt; 1);   // true\nSystem.out.println(big10.compareTo(big20) &lt;= 1);  // true\nSystem.out.println(big10.compareTo(big20) == 1);  // false\nSystem.out.println(big10.compareTo(big20) &gt;= 1);  // false\nSystem.out.println(big10.compareTo(big20) &gt; 1);   // false\nSystem.out.println(big10.compareTo(big20) != 1);  // true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":300884,"reputation":30561,"user_id":1071320,"accept_rate":88,"display_name":"Adil Hussain"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1651836453,"creation_date":1576262811,"answer_id":59328241,"question_id":34677644,"body_markdown":"### Discussion\r\n\r\nThis thread has plenty of answers stating that the [BigDecimal.compareTo(BigDecimal)][1] method is the one to use to compare [BigDecimal][2] instances. I just wanted to add for anyone not experienced with using the [BigDecimal.compareTo(BigDecimal)][1] method: Be careful with how you create your [BigDecimal][2] instances. For example:\r\n\r\n- `new BigDecimal(0.8)` will create a `BigDecimal` instance with a value which is *not* exactly `0.8` and which has a scale of 50+,\r\n- `new BigDecimal(&quot;0.8&quot;)` will create a `BigDecimal` instance with a value which *is* exactly `0.8` and which has a scale of 1.\r\n\r\nThese two [BigDecimal][2] instances are unequal according to the [BigDecimal.compareTo(BigDecimal)][1] method because their values are unequal when the scale is not limited to a few decimal places.\r\n\r\n### Summary\r\n\r\nFirstly, be careful to create your `BigDecimal` instances with the `BigDecimal(String val)` constructor or the `BigDecimal.valueOf(double val)` method rather than the `BigDecimal(double val)` constructor. Secondly, note that you can limit the scale of [BigDecimal][2] instances prior to comparing them by means of the [BigDecimal.setScale(int newScale, RoundingMode roundingMode)][3] method.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html#compareTo-java.math.BigDecimal-\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html#setScale-int-java.math.RoundingMode-","title":"How to use comparison operators like &gt;, =, &lt; on BigDecimal","body":"<h3>Discussion</h3>\n<p>This thread has plenty of answers stating that the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html#compareTo-java.math.BigDecimal-\" rel=\"nofollow noreferrer\">BigDecimal.compareTo(BigDecimal)</a> method is the one to use to compare <a href=\"https://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html\" rel=\"nofollow noreferrer\">BigDecimal</a> instances. I just wanted to add for anyone not experienced with using the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html#compareTo-java.math.BigDecimal-\" rel=\"nofollow noreferrer\">BigDecimal.compareTo(BigDecimal)</a> method: Be careful with how you create your <a href=\"https://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html\" rel=\"nofollow noreferrer\">BigDecimal</a> instances. For example:</p>\n<ul>\n<li><code>new BigDecimal(0.8)</code> will create a <code>BigDecimal</code> instance with a value which is <em>not</em> exactly <code>0.8</code> and which has a scale of 50+,</li>\n<li><code>new BigDecimal(&quot;0.8&quot;)</code> will create a <code>BigDecimal</code> instance with a value which <em>is</em> exactly <code>0.8</code> and which has a scale of 1.</li>\n</ul>\n<p>These two <a href=\"https://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html\" rel=\"nofollow noreferrer\">BigDecimal</a> instances are unequal according to the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html#compareTo-java.math.BigDecimal-\" rel=\"nofollow noreferrer\">BigDecimal.compareTo(BigDecimal)</a> method because their values are unequal when the scale is not limited to a few decimal places.</p>\n<h3>Summary</h3>\n<p>Firstly, be careful to create your <code>BigDecimal</code> instances with the <code>BigDecimal(String val)</code> constructor or the <code>BigDecimal.valueOf(double val)</code> method rather than the <code>BigDecimal(double val)</code> constructor. Secondly, note that you can limit the scale of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html\" rel=\"nofollow noreferrer\">BigDecimal</a> instances prior to comparing them by means of the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html#setScale-int-java.math.RoundingMode-\" rel=\"nofollow noreferrer\">BigDecimal.setScale(int newScale, RoundingMode roundingMode)</a> method.</p>\n"},{"tags":[],"owner":{"account_id":2233181,"reputation":3815,"user_id":1970299,"accept_rate":72,"display_name":"Mehdi"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1644892305,"creation_date":1644829701,"answer_id":71109383,"question_id":34677644,"body_markdown":"You can follow this utility static method and Operator enum for comparing the two numbers:\r\n\r\n    public static boolean check(BigDecimal firstNum, Operator operator, BigDecimal secondNum) {\r\n        switch (operator) {\r\n            case EQUALS:\r\n                return firstNum.compareTo(secondNum) == 0;\r\n            case LESS_THAN:\r\n                return firstNum.compareTo(secondNum) &lt; 0;\r\n            case LESS_THAN_OR_EQUALS:\r\n                return firstNum.compareTo(secondNum) &lt;= 0;\r\n            case GREATER_THAN:\r\n                return firstNum.compareTo(secondNum) &gt; 0;\r\n            case GREATER_THAN_OR_EQUALS:\r\n                return firstNum.compareTo(secondNum) &gt;= 0;\r\n        }\r\n    \r\n        throw new IllegalArgumentException(&quot;Will never reach here&quot;);\r\n    }\r\n    \r\n    public enum Operator {\r\n        LESS_THAN, LESS_THAN_OR_EQUALS, GREATER_THAN, GREATER_THAN_OR_EQUALS, EQUALS\r\n    }","title":"How to use comparison operators like &gt;, =, &lt; on BigDecimal","body":"<p>You can follow this utility static method and Operator enum for comparing the two numbers:</p>\n<pre><code>public static boolean check(BigDecimal firstNum, Operator operator, BigDecimal secondNum) {\n    switch (operator) {\n        case EQUALS:\n            return firstNum.compareTo(secondNum) == 0;\n        case LESS_THAN:\n            return firstNum.compareTo(secondNum) &lt; 0;\n        case LESS_THAN_OR_EQUALS:\n            return firstNum.compareTo(secondNum) &lt;= 0;\n        case GREATER_THAN:\n            return firstNum.compareTo(secondNum) &gt; 0;\n        case GREATER_THAN_OR_EQUALS:\n            return firstNum.compareTo(secondNum) &gt;= 0;\n    }\n\n    throw new IllegalArgumentException(&quot;Will never reach here&quot;);\n}\n\npublic enum Operator {\n    LESS_THAN, LESS_THAN_OR_EQUALS, GREATER_THAN, GREATER_THAN_OR_EQUALS, EQUALS\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":18253860,"reputation":418,"user_id":13288265,"display_name":"jksevend"},"score":0,"creation_date":1691590259,"post_id":73500623,"comment_id":135512420,"body_markdown":"Really helpful!","body":"Really helpful!"}],"tags":[],"owner":{"account_id":1008930,"reputation":2893,"user_id":1021943,"accept_rate":80,"display_name":"Priidu Neemre"},"comment_count":1,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1661599245,"creation_date":1661514721,"answer_id":73500623,"question_id":34677644,"body_markdown":"Alternatively, if you&#39;re already using `commons-lang3` (version `3.10` and up), you can leverage their `ComparableUtils` API like so:\r\n```\r\nimport static org.apache.commons.lang3.compare.ComparableUtils.is;\r\n\r\nvar areEqual = is(first).equalTo(second);\r\nvar isGreater = is(first).greaterThan(second);\r\nvar isLess = is(first).lessThan(second);\r\nvar isBetween = is(first).between(second, third);\r\n// etc.\r\n```\r\nNowadays, most large projects include `commons-lang3` as a dependency, anyway.","title":"How to use comparison operators like &gt;, =, &lt; on BigDecimal","body":"<p>Alternatively, if you're already using <code>commons-lang3</code> (version <code>3.10</code> and up), you can leverage their <code>ComparableUtils</code> API like so:</p>\n<pre><code>import static org.apache.commons.lang3.compare.ComparableUtils.is;\n\nvar areEqual = is(first).equalTo(second);\nvar isGreater = is(first).greaterThan(second);\nvar isLess = is(first).lessThan(second);\nvar isBetween = is(first).between(second, third);\n// etc.\n</code></pre>\n<p>Nowadays, most large projects include <code>commons-lang3</code> as a dependency, anyway.</p>\n"},{"tags":[],"owner":{"account_id":7822670,"reputation":1609,"user_id":5915318,"display_name":"David Kariuki"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663846499,"creation_date":1663846499,"answer_id":73813912,"question_id":34677644,"body_markdown":"Below is an example to compare two `BigDecimal` values.\r\n\r\n\r\n    public class BigDecimalDemo {\r\n    \r\n       public static void main(String[] args) {\r\n    \r\n          // create 2 BigDecimal objects\r\n          BigDecimal bg1, bg2;\r\n    \r\n          bg1 = new BigDecimal(&quot;10&quot;);\r\n          bg2 = new BigDecimal(&quot;20&quot;);\r\n    \r\n          //create int object\r\n          int res;\r\n    \r\n          res = bg1.compareTo(bg2); // compare bg1 with bg2\r\n    \r\n          String str1 = &quot;Both values are equal &quot;;\r\n          String str2 = &quot;First Value is greater &quot;;\r\n          String str3 = &quot;Second value is greater&quot;;\r\n    \r\n          if( res == 0 )\r\n             System.out.println( str1 );\r\n          else if( res == 1 )\r\n             System.out.println( str2 );\r\n          else if( res == -1 )\r\n             System.out.println( str3 );\r\n       }\r\n    }","title":"How to use comparison operators like &gt;, =, &lt; on BigDecimal","body":"<p>Below is an example to compare two <code>BigDecimal</code> values.</p>\n<pre><code>public class BigDecimalDemo {\n\n   public static void main(String[] args) {\n\n      // create 2 BigDecimal objects\n      BigDecimal bg1, bg2;\n\n      bg1 = new BigDecimal(&quot;10&quot;);\n      bg2 = new BigDecimal(&quot;20&quot;);\n\n      //create int object\n      int res;\n\n      res = bg1.compareTo(bg2); // compare bg1 with bg2\n\n      String str1 = &quot;Both values are equal &quot;;\n      String str2 = &quot;First Value is greater &quot;;\n      String str3 = &quot;Second value is greater&quot;;\n\n      if( res == 0 )\n         System.out.println( str1 );\n      else if( res == 1 )\n         System.out.println( str2 );\n      else if( res == -1 )\n         System.out.println( str3 );\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":3762651,"reputation":3511,"user_id":3127109,"accept_rate":44,"display_name":"user3127109"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":344107,"favorite_count":0,"down_vote_count":0,"up_vote_count":181,"accepted_answer_id":34677687,"answer_count":11,"score":181,"last_activity_date":1672862652,"creation_date":1452257700,"question_id":34677644,"body_markdown":"I have a domain class with `unitPrice` set as `BigDecimal` data type. Now I am trying to create a method to compare price but it seems like I can&#39;t have comparison operators in `BigDecimal` data type. Do I have to change data type or is there other way around?","title":"How to use comparison operators like &gt;, =, &lt; on BigDecimal","body":"<p>I have a domain class with <code>unitPrice</code> set as <code>BigDecimal</code> data type. Now I am trying to create a method to compare price but it seems like I can't have comparison operators in <code>BigDecimal</code> data type. Do I have to change data type or is there other way around?</p>\n"},{"tags":["java","corretto"],"answers":[{"comments":[{"owner":{"account_id":4218123,"reputation":9909,"user_id":3453898,"accept_rate":75,"display_name":"pixel"},"score":0,"creation_date":1672439986,"post_id":74966285,"comment_id":132291896,"body_markdown":"Thanks, and yes, I saw this as well and it was also confusing part.  For example, if you look at Corretto 17, it nowhere says it is based on OpenJDK 17","body":"Thanks, and yes, I saw this as well and it was also confusing part.  For example, if you look at Corretto 17, it nowhere says it is based on OpenJDK 17"}],"tags":[],"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1672439472,"creation_date":1672439472,"answer_id":74966285,"question_id":74965353,"body_markdown":"[**Amazon Corretto currently provides 8 11 and 15 to 19 (including 17).**](https://docs.aws.amazon.com/corretto/index.html) More completely it follows Oracle and (at least most) other OpenJDK packagers by supporting designated LTS versions 8 11 17 long-term, but non-LTS versions only for a limited period (so 15 and 16 should go away soonish as 20 and 21 are added). Major version 11 was _initially_ released in 2018 but the [most recent maintenance aka patch version of 11 from Corretto is 11.0.17.8.1](https://github.com/corretto/corretto-11/releases) just a few months ago, approximately the same as Oracle (my current Oracle 11 identifies as 11.0.17+10-LTS-269). ","title":"OpenJdk LTS vs AWS Corretto - both offer LTS, Corretto seam to be 4 yrs behind?","body":"<p><a href=\"https://docs.aws.amazon.com/corretto/index.html\" rel=\"nofollow noreferrer\"><strong>Amazon Corretto currently provides 8 11 and 15 to 19 (including 17).</strong></a> More completely it follows Oracle and (at least most) other OpenJDK packagers by supporting designated LTS versions 8 11 17 long-term, but non-LTS versions only for a limited period (so 15 and 16 should go away soonish as 20 and 21 are added). Major version 11 was <em>initially</em> released in 2018 but the <a href=\"https://github.com/corretto/corretto-11/releases\" rel=\"nofollow noreferrer\">most recent maintenance aka patch version of 11 from Corretto is 11.0.17.8.1</a> just a few months ago, approximately the same as Oracle (my current Oracle 11 identifies as 11.0.17+10-LTS-269).</p>\n"},{"comments":[{"owner":{"account_id":4218123,"reputation":9909,"user_id":3453898,"accept_rate":75,"display_name":"pixel"},"score":0,"creation_date":1672444033,"post_id":74966570,"comment_id":132292513,"body_markdown":"So, you are saying that Corretto 11 is based on OpenJdk 11, Corretto 17 is based off OpenJdk 17, Corretto 19 is based off OpenJdk 19 etc?  If so, how come it does not says so on any of these Corretto versions pages?  All they say is OpenJdk","body":"So, you are saying that Corretto 11 is based on OpenJdk 11, Corretto 17 is based off OpenJdk 17, Corretto 19 is based off OpenJdk 19 etc?  If so, how come it does not says so on any of these Corretto versions pages?  All they say is OpenJdk"},{"owner":{"account_id":4218123,"reputation":9909,"user_id":3453898,"accept_rate":75,"display_name":"pixel"},"score":1,"creation_date":1672856829,"post_id":74966570,"comment_id":132369313,"body_markdown":"It looks like their Github page now provides this info clearly, thank you https://github.com/corretto","body":"It looks like their Github page now provides this info clearly, thank you <a href=\"https://github.com/corretto\" rel=\"nofollow noreferrer\">github.com/corretto</a>"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1672862472,"post_id":74966570,"comment_id":132371117,"body_markdown":"@pixel Thanks for that link, I’ll add it to the Answer. Their other pages are not clear on the point of which version of Java is being implemented.","body":"@pixel Thanks for that link, I’ll add it to the Answer. Their other pages are not clear on the point of which version of Java is being implemented."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1672862607,"creation_date":1672443038,"answer_id":74966570,"question_id":74965353,"body_markdown":"&gt; but OpenJDK also has LTS support (8, 11, 17, ..)\r\n\r\nBe careful with your use of names here. \r\n\r\n*OpenJDK* is the name of an open-source project. That project implements the Java specifications published by Oracle. The *OpenJDK* project is owned by Oracle Corp but enjoys the contributions of code and labor by IBM, Apple, and other companies and individuals. \r\n\r\nThe *OpenJDK* project provides only source code.  For executable builds of that software, and installers for that software, you must look elsewhere. Several vendors offer binaries and installers. \r\n\r\nThe confusion comes from the fact that Oracle Corp legally allows vendors to use the word “OpenJDK” in the name of their JDK products. This naming represents the fact that their product is based largely (if not entirely) on the *OpenJDK* source code. \r\n\r\n&gt; what is the point of using Corretto\r\n\r\nYou have a choice of obtaining a JDK (implementation of the Java specs) from several vendors. You may have various reasons motivating your choice. One reason might be the possibility of purchasing a support plan. Another reason might be needing an implementation for a particular less-common platform. Another reason might be convenience, or familiarity with the vendor. \r\n\r\nSome folks choose AWS Corretto because they intend to deploy on AWS cloud. Amazon promises to keep Corretto as close as is practicable to the same as what executes on the AWS cloud. \r\n\r\n\r\n&gt; Why is Corretto so behind given that OpenJDK LTS is 17 and Correto is based on OpenJdk 11?\r\n\r\nAs explained well in the [Answer by dave_thompson_085][1], your understanding of those versions is incorrect. \r\n\r\nAmazon maintains [releases of Corretto][2] for all three long-term support (LTS) versions of Java: 8, 11, and 17. Amazon also has a release for the current version of Java, 19. \r\n\r\nThe version number of each Corretto release corresponds with the version of Java specs being implemented, as noted on [their GitHub site](https://github.com/corretto).\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/74966285/642706\r\n  [2]: https://aws.amazon.com/corretto/?filtered-posts.sort-by=item.additionalFields.createdDate&amp;filtered-posts.sort-order=desc","title":"OpenJdk LTS vs AWS Corretto - both offer LTS, Corretto seam to be 4 yrs behind?","body":"<blockquote>\n<p>but OpenJDK also has LTS support (8, 11, 17, ..)</p>\n</blockquote>\n<p>Be careful with your use of names here.</p>\n<p><em>OpenJDK</em> is the name of an open-source project. That project implements the Java specifications published by Oracle. The <em>OpenJDK</em> project is owned by Oracle Corp but enjoys the contributions of code and labor by IBM, Apple, and other companies and individuals.</p>\n<p>The <em>OpenJDK</em> project provides only source code.  For executable builds of that software, and installers for that software, you must look elsewhere. Several vendors offer binaries and installers.</p>\n<p>The confusion comes from the fact that Oracle Corp legally allows vendors to use the word “OpenJDK” in the name of their JDK products. This naming represents the fact that their product is based largely (if not entirely) on the <em>OpenJDK</em> source code.</p>\n<blockquote>\n<p>what is the point of using Corretto</p>\n</blockquote>\n<p>You have a choice of obtaining a JDK (implementation of the Java specs) from several vendors. You may have various reasons motivating your choice. One reason might be the possibility of purchasing a support plan. Another reason might be needing an implementation for a particular less-common platform. Another reason might be convenience, or familiarity with the vendor.</p>\n<p>Some folks choose AWS Corretto because they intend to deploy on AWS cloud. Amazon promises to keep Corretto as close as is practicable to the same as what executes on the AWS cloud.</p>\n<blockquote>\n<p>Why is Corretto so behind given that OpenJDK LTS is 17 and Correto is based on OpenJdk 11?</p>\n</blockquote>\n<p>As explained well in the <a href=\"https://stackoverflow.com/a/74966285/642706\">Answer by dave_thompson_085</a>, your understanding of those versions is incorrect.</p>\n<p>Amazon maintains <a href=\"https://aws.amazon.com/corretto/?filtered-posts.sort-by=item.additionalFields.createdDate&amp;filtered-posts.sort-order=desc\" rel=\"nofollow noreferrer\">releases of Corretto</a> for all three long-term support (LTS) versions of Java: 8, 11, and 17. Amazon also has a release for the current version of Java, 19.</p>\n<p>The version number of each Corretto release corresponds with the version of Java specs being implemented, as noted on <a href=\"https://github.com/corretto\" rel=\"nofollow noreferrer\">their GitHub site</a>.</p>\n"}],"owner":{"account_id":4218123,"reputation":9909,"user_id":3453898,"accept_rate":75,"display_name":"pixel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":731,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74966570,"answer_count":2,"score":0,"last_activity_date":1672862607,"creation_date":1672430133,"question_id":74965353,"body_markdown":"I understand differences btw Oracle Jdk, OpenJdk, AWS Corretto.\r\n\r\nI know AWS team maintains Corretto, gives long term support for free but OpenJDK also has LTS support (8, 11, 17, ..) so other than Amazon adding fixes faster, I see no other benefit in Corretto.\r\n\r\n\r\nIf both OpenJdk and Corretto provide LTS, what is the point of using Corretto?\r\n\r\n**UPDATE**\r\n\r\nhttps://github.com/corretto gave me answers regarding the versioning confusion I had.","title":"OpenJdk LTS vs AWS Corretto - both offer LTS, Corretto seam to be 4 yrs behind?","body":"<p>I understand differences btw Oracle Jdk, OpenJdk, AWS Corretto.</p>\n<p>I know AWS team maintains Corretto, gives long term support for free but OpenJDK also has LTS support (8, 11, 17, ..) so other than Amazon adding fixes faster, I see no other benefit in Corretto.</p>\n<p>If both OpenJdk and Corretto provide LTS, what is the point of using Corretto?</p>\n<p><strong>UPDATE</strong></p>\n<p><a href=\"https://github.com/corretto\" rel=\"nofollow noreferrer\">https://github.com/corretto</a> gave me answers regarding the versioning confusion I had.</p>\n"},{"tags":["java","eclipse","debugging","intellij-idea","dependencies"],"comments":[{"owner":{"account_id":6948780,"reputation":431,"user_id":5332102,"display_name":"G&#246;khan Polat"},"score":1,"creation_date":1672862899,"post_id":75010695,"comment_id":132371260,"body_markdown":"If you&#39;re using maven-shade-plugin, there&#39;s no support in debugger for this yet in idea.","body":"If you&#39;re using maven-shade-plugin, there&#39;s no support in debugger for this yet in idea."},{"owner":{"account_id":10989073,"reputation":37,"user_id":8073716,"display_name":"maverick_devil"},"score":0,"creation_date":1672921406,"post_id":75010695,"comment_id":132384287,"body_markdown":"Yes @G&#246;khanPolat, I read about it on their website. So as a last hope I came to stackoverflow.","body":"Yes @G&#246;khanPolat, I read about it on their website. So as a last hope I came to stackoverflow."}],"owner":{"account_id":10989073,"reputation":37,"user_id":8073716,"display_name":"maverick_devil"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672862547,"creation_date":1672862547,"question_id":75010695,"body_markdown":"\r\nI&#39;m trying to debug a java-agent jar file in IntelliJ. This jar contains some shaded classes. I&#39;m unable to debug them, since their .java files do not have same package name.\r\n\r\nFor eg. I have a class com.mypackage.MyClass, which after shading becomes com.shaded.mypackage.MyClass. \r\n\r\nSo, I opened .class file of these shaded classes in IntelliJ and set break points. But no luck, since code&#39;s line number was different in .class file , and IntelliJ sets break points to code at specified line numbers in .java file.\r\n\r\nAny idea how to debug the shaded classes? Suggestions for other editors are welcome.\r\n\r\n","title":"Debugging Java Shaded Dependencies","body":"<p>I'm trying to debug a java-agent jar file in IntelliJ. This jar contains some shaded classes. I'm unable to debug them, since their .java files do not have same package name.</p>\n<p>For eg. I have a class com.mypackage.MyClass, which after shading becomes com.shaded.mypackage.MyClass.</p>\n<p>So, I opened .class file of these shaded classes in IntelliJ and set break points. But no luck, since code's line number was different in .class file , and IntelliJ sets break points to code at specified line numbers in .java file.</p>\n<p>Any idea how to debug the shaded classes? Suggestions for other editors are welcome.</p>\n"},{"tags":["java","spring-data-jpa","integration-testing","spring-test","testcontainers"],"answers":[{"tags":[],"owner":{"account_id":6676840,"reputation":2927,"user_id":5151202,"display_name":"times29"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672823189,"creation_date":1672823189,"answer_id":75003157,"question_id":74998594,"body_markdown":"You shouldn&#39;t combine `@SpringBootTest` and `@DataJpaTest`, it&#39;s either or. [`@SpringBootTest`][1] creates the whole application context (with adjustments for testing) whereas [`@DataJpaTest`][2] only creates the JPA layer of the Spring application and executes every test by default in a transaction. Check the documentation provided with the links for more details.  \r\n\r\nMoreover, if you specify `classes = ApplicationFunctionalTests.class` in the `@SpringBootTest` annotation, you limit the application context basically to only this class which is most likely not enough for a working application context.  \r\n\r\nI suggest you study the Spring documentation on [Testing Spring Boot Applications][3] and [Auto-configured Data JPA Tests][4].\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/context/SpringBootTest.html\r\n  [2]: https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/autoconfigure/orm/jpa/DataJpaTest.html\r\n  [3]: https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.testing.spring-boot-applications\r\n  [4]: https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.testing.spring-boot-applications.autoconfigured-spring-data-jpa","title":"Errors when try to use TestEntityManager in my functional test","body":"<p>You shouldn't combine <code>@SpringBootTest</code> and <code>@DataJpaTest</code>, it's either or. <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/context/SpringBootTest.html\" rel=\"nofollow noreferrer\"><code>@SpringBootTest</code></a> creates the whole application context (with adjustments for testing) whereas <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/autoconfigure/orm/jpa/DataJpaTest.html\" rel=\"nofollow noreferrer\"><code>@DataJpaTest</code></a> only creates the JPA layer of the Spring application and executes every test by default in a transaction. Check the documentation provided with the links for more details.</p>\n<p>Moreover, if you specify <code>classes = ApplicationFunctionalTests.class</code> in the <code>@SpringBootTest</code> annotation, you limit the application context basically to only this class which is most likely not enough for a working application context.</p>\n<p>I suggest you study the Spring documentation on <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.testing.spring-boot-applications\" rel=\"nofollow noreferrer\">Testing Spring Boot Applications</a> and <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.testing.spring-boot-applications.autoconfigured-spring-data-jpa\" rel=\"nofollow noreferrer\">Auto-configured Data JPA Tests</a>.</p>\n"}],"owner":{"account_id":3546793,"reputation":1587,"user_id":2962555,"accept_rate":44,"display_name":"Laodao"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":215,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672862504,"creation_date":1672779418,"question_id":74998594,"body_markdown":"I am trying to write some functional testings with some data pre-inserted by TestEntityManager. Below is my code\r\n```java\r\n@RunWith(SpringRunner.class)\r\n@SpringBootTest(\r\n        classes = ApplicationFunctionalTests.class,\r\n        webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n@DataJpaTest\r\npublic abstract class BaseFunctionalTest {\r\n\r\n    @Autowired\r\n    protected TestEntityManager testEntityManager;\r\n\r\n    .....\r\n\r\n}\r\n```\r\nHowever, when I try to run the testing code, I got the following error:\r\n``` lang-text\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/springframework/data/repository/config/BootstrapMode\r\n  \tat java.lang.Class.getDeclaredMethods0(Native Method)\r\n   \tat java.lang.Class.privateGetDeclaredMethods(Class.java:2729)\r\n   \tat java.lang.Class.getDeclaredMethods(Class.java:2003)\r\n   \tat sun.reflect.annotation.AnnotationType$1.run(AnnotationType.java:112)\r\n   \tat sun.reflect.annotation.AnnotationType$1.run(AnnotationType.java:109)\r\n   \tat java.security.AccessController.doPrivileged(Native Method)\r\n   \tat sun.reflect.annotation.AnnotationType.&lt;init&gt;(AnnotationType.java:109)\r\n   \tat sun.reflect.annotation.AnnotationType.getInstance(AnnotationType.java:85)\r\n   \tat sun.reflect.annotation.AnnotationParser.parseAnnotation2(AnnotationParser.java:266)\r\n   \tat sun.reflect.annotation.AnnotationParser.parseAnnotations2(AnnotationParser.java:120)\r\n   \tat sun.reflect.annotation.AnnotationParser.parseAnnotations(AnnotationParser.java:72)\r\n   \tat java.lang.Class.createAnnotationData(Class.java:3549)\r\n   \tat java.lang.Class.annotationData(Class.java:3538)\r\n   \tat java.lang.Class.createAnnotationData(Class.java:3554)\r\n   \tat java.lang.Class.annotationData(Class.java:3538)\r\n   \tat java.lang.Class.getAnnotation(Class.java:3443)\r\n   \tat com.intellij.junit4.JUnit4TestRunnerUtil.buildRequest(JUnit4TestRunnerUtil.java:131)\r\n   \tat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:47)\r\n   \tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n   \tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n   \tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n   \tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n   \tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\nCaused by: java.lang.ClassNotFoundException: org.springframework.data.repository.config.BootstrapMode\r\n   \tat java.net.URLClassLoader.findClass(URLClassLoader.java:387)\r\n   \tat java.lang.ClassLoader.loadClass(ClassLoader.java:418)\r\n   \tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\r\n   \tat java.lang.ClassLoader.loadClass(ClassLoader.java:351)\r\n   \t... 23 more\r\n```\r\nMy pom.xml is as below:\r\n```xml\r\n&lt;dependencies&gt;\r\n    &lt;!-- test dependencies --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.github.tomakehurst&lt;/groupId&gt;\r\n        &lt;artifactId&gt;wiremock-jre8&lt;/artifactId&gt;\r\n        &lt;version&gt;2.27.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\r\n        &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\r\n        &lt;version&gt;4.5.1&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.assertj&lt;/groupId&gt;\r\n        &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\r\n        &lt;version&gt;3.19.0&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mockito-junit-jupiter&lt;/artifactId&gt;\r\n        &lt;version&gt;3.8.0&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.0&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\r\n        &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n        &lt;version&gt;1.17.3&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-webflux&lt;/artifactId&gt;\r\n        &lt;version&gt;5.3.20&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;io.projectreactor.netty&lt;/groupId&gt;\r\n        &lt;artifactId&gt;reactor-netty-http&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0.19&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;io.projectreactor.netty&lt;/groupId&gt;\r\n        &lt;artifactId&gt;reactor-netty-http&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0.19&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;jakarta.validation&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jakarta.validation-api&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0.2&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n\r\n&lt;properties&gt;\r\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n&lt;/properties&gt;\r\n```\r\nPlease help. Thanks.","title":"Errors when try to use TestEntityManager in my functional test","body":"<p>I am trying to write some functional testings with some data pre-inserted by TestEntityManager. Below is my code</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RunWith(SpringRunner.class)\n@SpringBootTest(\n        classes = ApplicationFunctionalTests.class,\n        webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\n@DataJpaTest\npublic abstract class BaseFunctionalTest {\n\n    @Autowired\n    protected TestEntityManager testEntityManager;\n\n    .....\n\n}\n</code></pre>\n<p>However, when I try to run the testing code, I got the following error:</p>\n<pre class=\"lang-text prettyprint-override\"><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/springframework/data/repository/config/BootstrapMode\n    at java.lang.Class.getDeclaredMethods0(Native Method)\n    at java.lang.Class.privateGetDeclaredMethods(Class.java:2729)\n    at java.lang.Class.getDeclaredMethods(Class.java:2003)\n    at sun.reflect.annotation.AnnotationType$1.run(AnnotationType.java:112)\n    at sun.reflect.annotation.AnnotationType$1.run(AnnotationType.java:109)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at sun.reflect.annotation.AnnotationType.&lt;init&gt;(AnnotationType.java:109)\n    at sun.reflect.annotation.AnnotationType.getInstance(AnnotationType.java:85)\n    at sun.reflect.annotation.AnnotationParser.parseAnnotation2(AnnotationParser.java:266)\n    at sun.reflect.annotation.AnnotationParser.parseAnnotations2(AnnotationParser.java:120)\n    at sun.reflect.annotation.AnnotationParser.parseAnnotations(AnnotationParser.java:72)\n    at java.lang.Class.createAnnotationData(Class.java:3549)\n    at java.lang.Class.annotationData(Class.java:3538)\n    at java.lang.Class.createAnnotationData(Class.java:3554)\n    at java.lang.Class.annotationData(Class.java:3538)\n    at java.lang.Class.getAnnotation(Class.java:3443)\n    at com.intellij.junit4.JUnit4TestRunnerUtil.buildRequest(JUnit4TestRunnerUtil.java:131)\n    at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:47)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\nCaused by: java.lang.ClassNotFoundException: org.springframework.data.repository.config.BootstrapMode\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:387)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\n    ... 23 more\n</code></pre>\n<p>My pom.xml is as below:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependencies&gt;\n    &lt;!-- test dependencies --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.github.tomakehurst&lt;/groupId&gt;\n        &lt;artifactId&gt;wiremock-jre8&lt;/artifactId&gt;\n        &lt;version&gt;2.27.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\n        &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\n        &lt;version&gt;4.5.1&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.assertj&lt;/groupId&gt;\n        &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\n        &lt;version&gt;3.19.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n        &lt;artifactId&gt;mockito-junit-jupiter&lt;/artifactId&gt;\n        &lt;version&gt;3.8.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;version&gt;2.7.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n        &lt;version&gt;1.17.3&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-webflux&lt;/artifactId&gt;\n        &lt;version&gt;5.3.20&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.projectreactor.netty&lt;/groupId&gt;\n        &lt;artifactId&gt;reactor-netty-http&lt;/artifactId&gt;\n        &lt;version&gt;1.0.19&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.projectreactor.netty&lt;/groupId&gt;\n        &lt;artifactId&gt;reactor-netty-http&lt;/artifactId&gt;\n        &lt;version&gt;1.0.19&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;jakarta.validation&lt;/groupId&gt;\n        &lt;artifactId&gt;jakarta.validation-api&lt;/artifactId&gt;\n        &lt;version&gt;2.0.2&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;properties&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n&lt;/properties&gt;\n</code></pre>\n<p>Please help. Thanks.</p>\n"},{"tags":["java","docker","elasticsearch"],"comments":[{"owner":{"account_id":4739993,"reputation":1837,"user_id":3833111,"accept_rate":100,"display_name":"Mr_Thorynque"},"score":1,"creation_date":1672157135,"post_id":74931250,"comment_id":132232009,"body_markdown":"What give &quot;docker ps&quot; command ?","body":"What give &quot;docker ps&quot; command ?"},{"owner":{"account_id":4717622,"reputation":93,"user_id":3816378,"accept_rate":57,"display_name":"user3816378"},"score":0,"creation_date":1672157806,"post_id":74931250,"comment_id":132232216,"body_markdown":"@Mr_Thorynque \nI&#39;m now trying to run docker in wsl same issues, same visibility:\ne696e29f7823   docker.elastic.co/kibana/kibana:6.2.4                 &quot;/bin/bash /usr/loca…&quot;   31 minutes ago   Up 6 minutes   0.0.0.0:5601-&gt;5601/tcp, :::5601-&gt;5601/tcp                                              kibana\nfdb667b362c8   docker.elastic.co/elasticsearch/elasticsearch:6.2.4   &quot;/usr/local/bin/dock…&quot;   31 minutes ago   Up 6 minutes   0.0.0.0:9200-&gt;9200/tcp, :::9200-&gt;9200/tcp, 0.0.0.0:9300-&gt;9300/tcp, :::9300-&gt;9300/tcp   elasticsearch","body":"@Mr_Thorynque  I&#39;m now trying to run docker in wsl same issues, same visibility: e696e29f7823   docker.elastic.co/kibana/kibana:6.2.4                 &quot;/bin/bash /usr/loca…&quot;   31 minutes ago   Up 6 minutes   0.0.0.0:5601-&gt;5601/tcp, :::5601-&gt;5601/tcp                                              kibana fdb667b362c8   docker.elastic.co/elasticsearch/elasticsearch:6.2.4   &quot;/usr/local/bin/dock…&quot;   31 minutes ago   Up 6 minutes   0.0.0.0:9200-&gt;9200/tcp, :::9200-&gt;9200/tcp, 0.0.0.0:9300-&gt;9300/tcp, :::9300-&gt;9300/tcp   elasticsearch"},{"owner":{"account_id":4739993,"reputation":1837,"user_id":3833111,"accept_rate":100,"display_name":"Mr_Thorynque"},"score":1,"creation_date":1672158132,"post_id":74931250,"comment_id":132232317,"body_markdown":"9300 seems to be exposed on host. With wsl you can try &quot;nc -vz -w5 127.0.0.1 9300&quot; to check the port on localhost.","body":"9300 seems to be exposed on host. With wsl you can try &quot;nc -vz -w5 127.0.0.1 9300&quot; to check the port on localhost."},{"owner":{"account_id":4717622,"reputation":93,"user_id":3816378,"accept_rate":57,"display_name":"user3816378"},"score":0,"creation_date":1672158407,"post_id":74931250,"comment_id":132232387,"body_markdown":"Connection to 127.0.0.1 9300 port [tcp/*] succeeded!\n\nelastic seem to be up but java app cannot find it","body":"Connection to 127.0.0.1 9300 port [tcp/*] succeeded!  elastic seem to be up but java app cannot find it"},{"owner":{"account_id":4739993,"reputation":1837,"user_id":3833111,"accept_rate":100,"display_name":"Mr_Thorynque"},"score":1,"creation_date":1672159055,"post_id":74931250,"comment_id":132232572,"body_markdown":"So how is starting springboot application ? It&#39;s a docker ? If it is you need to setup it in the same network than the elastics docker-compose.","body":"So how is starting springboot application ? It&#39;s a docker ? If it is you need to setup it in the same network than the elastics docker-compose."},{"owner":{"account_id":4717622,"reputation":93,"user_id":3816378,"accept_rate":57,"display_name":"user3816378"},"score":0,"creation_date":1672159164,"post_id":74931250,"comment_id":132232595,"body_markdown":"I&#39;m starting springboot in IntelliJ. I&#39;ve just started the spring boot jar in wsl as java -jar and it works that way, but not when i start it outside wsl.","body":"I&#39;m starting springboot in IntelliJ. I&#39;ve just started the spring boot jar in wsl as java -jar and it works that way, but not when i start it outside wsl."},{"owner":{"account_id":4739993,"reputation":1837,"user_id":3833111,"accept_rate":100,"display_name":"Mr_Thorynque"},"score":0,"creation_date":1672159448,"post_id":74931250,"comment_id":132232694,"body_markdown":"Did you try to configure elastics url with 127.0.0.1 in place of localhost in java application ?","body":"Did you try to configure elastics url with 127.0.0.1 in place of localhost in java application ?"},{"owner":{"account_id":4739993,"reputation":1837,"user_id":3833111,"accept_rate":100,"display_name":"Mr_Thorynque"},"score":0,"creation_date":1672159607,"post_id":74931250,"comment_id":132232751,"body_markdown":"Maybe that link can help you https://www.jetbrains.com/help/idea/how-to-use-wsl-development-environment-in-product.html#create_project_for_wsl","body":"Maybe that link can help you <a href=\"https://www.jetbrains.com/help/idea/how-to-use-wsl-development-environment-in-product.html#create_project_for_wsl\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":4717622,"reputation":93,"user_id":3816378,"accept_rate":57,"display_name":"user3816378"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672403137,"creation_date":1672403137,"answer_id":74961523,"question_id":74931250,"body_markdown":"The answer is to add the following environment variables to docker-compose.yaml of the elasticsearch service:\r\n\r\n    environment:\r\n      - discovery.type=single-node\r\n      - network.host=_local_,_site_\r\n      - network.publish_host=_local_\r\n\r\nor to start the elasticsearch with the command:\r\n\r\n    command: elasticsearch -Enetwork.host=_local_,_site_ -Enetwork.publish_host=_local_\r\n\r\n\r\nSolution thanks to https://github.com/olivere/elastic-with-docker/","title":"Java cannot access Elasticsearch running in Docker on Windows 11","body":"<p>The answer is to add the following environment variables to docker-compose.yaml of the elasticsearch service:</p>\n<pre><code>environment:\n  - discovery.type=single-node\n  - network.host=_local_,_site_\n  - network.publish_host=_local_\n</code></pre>\n<p>or to start the elasticsearch with the command:</p>\n<pre><code>command: elasticsearch -Enetwork.host=_local_,_site_ -Enetwork.publish_host=_local_\n</code></pre>\n<p>Solution thanks to <a href=\"https://github.com/olivere/elastic-with-docker/\" rel=\"nofollow noreferrer\">https://github.com/olivere/elastic-with-docker/</a></p>\n"}],"owner":{"account_id":4717622,"reputation":93,"user_id":3816378,"accept_rate":57,"display_name":"user3816378"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":341,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":74961523,"answer_count":1,"score":4,"last_activity_date":1672862411,"creation_date":1672155366,"question_id":74931250,"body_markdown":"**EDIT: it works if I disable transport client sniffing.**\r\n\r\n```\r\nSettings settings = Settings.builder()\r\n\t\t\t\t.put(&quot;cluster.name&quot;, clusterName)\r\n\t\t\t\t.put(&quot;client.transport.sniff&quot;, false)\r\n\t\t\t\t.build();\r\n```\r\n\r\nAny ideas how to fix it?\r\n\r\n-------\r\n\r\nFirst of all, everything works fine in Ubuntu 20.04, but when I try to run the same project using Docker Desktop on Windows 10, 11, and macOS, it fails.\r\n\r\nWhen the Spring service starts it tries to find the Elasticsearch node and it fails, the exception is the following: \r\n\r\n```\r\n2022-12-27 16:20:40.459  INFO 23752 --- [           main] o.e.p.PluginsService                     : no modules loaded\r\n2022-12-27 16:20:40.459  INFO 23752 --- [           main] o.e.p.PluginsService                     : loaded plugin [org.elasticsearch.index.reindex.ReindexPlugin]\r\n2022-12-27 16:20:40.460  INFO 23752 --- [           main] o.e.p.PluginsService                     : loaded plugin [org.elasticsearch.join.ParentJoinPlugin]\r\n2022-12-27 16:20:40.460  INFO 23752 --- [           main] o.e.p.PluginsService                     : loaded plugin [org.elasticsearch.percolator.PercolatorPlugin]\r\n2022-12-27 16:20:40.460  INFO 23752 --- [           main] o.e.p.PluginsService                     : loaded plugin [org.elasticsearch.script.mustache.MustachePlugin]\r\n2022-12-27 16:20:40.460  INFO 23752 --- [           main] o.e.p.PluginsService                     : loaded plugin [org.elasticsearch.transport.Netty4Plugin]\r\n2022-12-27 16:21:02.679  INFO 23752 --- [           main] c.u.OnStartup                            : -----&gt; APPLICATION INITIALIZATION &lt;-----\r\n2022-12-27 16:21:02.679  INFO 23752 --- [           main] c.u.OnStartup                            : -----&gt; SETTING TIMEZONE\r\n2022-12-27 16:21:02.679  INFO 23752 --- [           main] c.u.OnStartup                            : -----&gt; CREATE INDEXES AND MAPPINGS NOW\r\n2022-12-27 16:21:02.683 ERROR 23752 --- [           main] c.u.OnStartup                            : Elasticsearch unavailable, skipping creating of indexes\r\n\r\norg.elasticsearch.client.transport.NoNodeAvailableException: None of the configured nodes are available: [{#transport#-1}{CA1SJmWMQfe1sRIDTY_Lpw}{localhost}{127.0.0.1:9300}]\r\n\tat org.elasticsearch.client.transport.TransportClientNodesService.ensureNodesAreAvailable(TransportClientNodesService.java:347) ~[elasticsearch-6.2.4.jar:6.2.4]\r\n\tat org.elasticsearch.client.transport.TransportClientNodesService.execute(TransportClientNodesService.java:245) ~[elasticsearch-6.2.4.jar:6.2.4]\r\n\tat org.elasticsearch.client.transport.TransportProxyClient.execute(TransportProxyClient.java:60) ~[elasticsearch-6.2.4.jar:6.2.4]\r\n\tat org.elasticsearch.client.transport.TransportClient.doExecute(TransportClient.java:371) ~[elasticsearch-6.2.4.jar:6.2.4]\r\n\tat org.elasticsearch.client.support.AbstractClient.execute(AbstractClient.java:405) ~[elasticsearch-6.2.4.jar:6.2.4]\r\n\tat org.elasticsearch.client.support.AbstractClient.execute(AbstractClient.java:394) ~[elasticsearch-6.2.4.jar:6.2.4]\r\n\tat org.elasticsearch.client.support.AbstractClient$IndicesAdmin.execute(AbstractClient.java:1247) ~[elasticsearch-6.2.4.jar:6.2.4]\r\n\tat org.elasticsearch.action.ActionRequestBuilder.execute(ActionRequestBuilder.java:46) ~[elasticsearch-6.2.4.jar:6.2.4]\r\n\tat com.mymy.service.services.impl.IndexAndTypeManagementServiceImpl.indexExists(IndexAndTypeManagementServiceImpl.java:65) ~[classes/:?]\r\n\tat com.mymy.service.services.impl.IndexAndTypeManagementServiceImpl.createIndex(IndexAndTypeManagementServiceImpl.java:95) ~[classes/:?]\r\n\tat com.mymy.OnStartup.createIndexes(OnStartup.java:87) ~[classes/:?]\r\n\tat com.mymy.OnStartup.init(OnStartup.java:55) ~[classes/:?]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_352]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_352]\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_352]\r\n\tat java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_352]\r\n\tat org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:363) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n\tat org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:307) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n\tat org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:136) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:414) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) [spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) [spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) [spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:845) [spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:877) [spring-context-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) [spring-context-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) [spring-boot-2.1.6.RELEASE.jar:2.1.6.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:742) [spring-boot-2.1.6.RELEASE.jar:2.1.6.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:389) [spring-boot-2.1.6.RELEASE.jar:2.1.6.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:311) [spring-boot-2.1.6.RELEASE.jar:2.1.6.RELEASE]\r\n\tat\r\n```\r\n\r\nThe docker-compose file looks like:\r\n\r\n```\r\nversion: &#39;3.5&#39;\r\n\r\nservices:\r\n  elasticsearch:\r\n    image: docker.elastic.co/elasticsearch/elasticsearch:6.2.4\r\n    container_name: elasticsearch\r\n    ports: \r\n      - 9200:9200\r\n      - 9300:9300\r\n    environment:\r\n      - discovery.type=single-node\r\n      - cluster.name=mycluster\r\n      - &quot;ES_JAVA_OPTS=-Xms512m -Xmx512m&quot;\r\n      - xpack.security.enabled=false\r\n    ulimits:\r\n      memlock:\r\n        soft: -1\r\n        hard: -1\r\n    volumes:\r\n      - elastic_data:/usr/share/elasticsearch/data\r\n\r\n  kibana:\r\n    image: docker.elastic.co/kibana/kibana:6.2.4\r\n    container_name: kibana\r\n    environment:\r\n      SERVER_NAME: localhost\r\n      ELASTICSEARCH_URL: http://elasticsearch:9200/\r\n    ports:\r\n      - 5601:5601\r\n    volumes: \r\n      - kibana_data:/var/log\r\n    depends_on: \r\n      - elasticsearch\r\nvolumes:\r\n  elastic_data:\r\n  kibana_data:\r\n```\r\n\r\nJava version is 1.8. Any suggestion on how to fix it?\r\n\r\nElasticsearch is accessible via Elasticsearch tools in the browser.","title":"Java cannot access Elasticsearch running in Docker on Windows 11","body":"<p><strong>EDIT: it works if I disable transport client sniffing.</strong></p>\n<pre><code>Settings settings = Settings.builder()\n                .put(&quot;cluster.name&quot;, clusterName)\n                .put(&quot;client.transport.sniff&quot;, false)\n                .build();\n</code></pre>\n<p>Any ideas how to fix it?</p>\n<hr />\n<p>First of all, everything works fine in Ubuntu 20.04, but when I try to run the same project using Docker Desktop on Windows 10, 11, and macOS, it fails.</p>\n<p>When the Spring service starts it tries to find the Elasticsearch node and it fails, the exception is the following:</p>\n<pre><code>2022-12-27 16:20:40.459  INFO 23752 --- [           main] o.e.p.PluginsService                     : no modules loaded\n2022-12-27 16:20:40.459  INFO 23752 --- [           main] o.e.p.PluginsService                     : loaded plugin [org.elasticsearch.index.reindex.ReindexPlugin]\n2022-12-27 16:20:40.460  INFO 23752 --- [           main] o.e.p.PluginsService                     : loaded plugin [org.elasticsearch.join.ParentJoinPlugin]\n2022-12-27 16:20:40.460  INFO 23752 --- [           main] o.e.p.PluginsService                     : loaded plugin [org.elasticsearch.percolator.PercolatorPlugin]\n2022-12-27 16:20:40.460  INFO 23752 --- [           main] o.e.p.PluginsService                     : loaded plugin [org.elasticsearch.script.mustache.MustachePlugin]\n2022-12-27 16:20:40.460  INFO 23752 --- [           main] o.e.p.PluginsService                     : loaded plugin [org.elasticsearch.transport.Netty4Plugin]\n2022-12-27 16:21:02.679  INFO 23752 --- [           main] c.u.OnStartup                            : -----&gt; APPLICATION INITIALIZATION &lt;-----\n2022-12-27 16:21:02.679  INFO 23752 --- [           main] c.u.OnStartup                            : -----&gt; SETTING TIMEZONE\n2022-12-27 16:21:02.679  INFO 23752 --- [           main] c.u.OnStartup                            : -----&gt; CREATE INDEXES AND MAPPINGS NOW\n2022-12-27 16:21:02.683 ERROR 23752 --- [           main] c.u.OnStartup                            : Elasticsearch unavailable, skipping creating of indexes\n\norg.elasticsearch.client.transport.NoNodeAvailableException: None of the configured nodes are available: [{#transport#-1}{CA1SJmWMQfe1sRIDTY_Lpw}{localhost}{127.0.0.1:9300}]\n    at org.elasticsearch.client.transport.TransportClientNodesService.ensureNodesAreAvailable(TransportClientNodesService.java:347) ~[elasticsearch-6.2.4.jar:6.2.4]\n    at org.elasticsearch.client.transport.TransportClientNodesService.execute(TransportClientNodesService.java:245) ~[elasticsearch-6.2.4.jar:6.2.4]\n    at org.elasticsearch.client.transport.TransportProxyClient.execute(TransportProxyClient.java:60) ~[elasticsearch-6.2.4.jar:6.2.4]\n    at org.elasticsearch.client.transport.TransportClient.doExecute(TransportClient.java:371) ~[elasticsearch-6.2.4.jar:6.2.4]\n    at org.elasticsearch.client.support.AbstractClient.execute(AbstractClient.java:405) ~[elasticsearch-6.2.4.jar:6.2.4]\n    at org.elasticsearch.client.support.AbstractClient.execute(AbstractClient.java:394) ~[elasticsearch-6.2.4.jar:6.2.4]\n    at org.elasticsearch.client.support.AbstractClient$IndicesAdmin.execute(AbstractClient.java:1247) ~[elasticsearch-6.2.4.jar:6.2.4]\n    at org.elasticsearch.action.ActionRequestBuilder.execute(ActionRequestBuilder.java:46) ~[elasticsearch-6.2.4.jar:6.2.4]\n    at com.mymy.service.services.impl.IndexAndTypeManagementServiceImpl.indexExists(IndexAndTypeManagementServiceImpl.java:65) ~[classes/:?]\n    at com.mymy.service.services.impl.IndexAndTypeManagementServiceImpl.createIndex(IndexAndTypeManagementServiceImpl.java:95) ~[classes/:?]\n    at com.mymy.OnStartup.createIndexes(OnStartup.java:87) ~[classes/:?]\n    at com.mymy.OnStartup.init(OnStartup.java:55) ~[classes/:?]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_352]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_352]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_352]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_352]\n    at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:363) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:307) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:136) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:414) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) [spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) [spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) [spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:845) [spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:877) [spring-context-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) [spring-context-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) [spring-boot-2.1.6.RELEASE.jar:2.1.6.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:742) [spring-boot-2.1.6.RELEASE.jar:2.1.6.RELEASE]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:389) [spring-boot-2.1.6.RELEASE.jar:2.1.6.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:311) [spring-boot-2.1.6.RELEASE.jar:2.1.6.RELEASE]\n    at\n</code></pre>\n<p>The docker-compose file looks like:</p>\n<pre><code>version: '3.5'\n\nservices:\n  elasticsearch:\n    image: docker.elastic.co/elasticsearch/elasticsearch:6.2.4\n    container_name: elasticsearch\n    ports: \n      - 9200:9200\n      - 9300:9300\n    environment:\n      - discovery.type=single-node\n      - cluster.name=mycluster\n      - &quot;ES_JAVA_OPTS=-Xms512m -Xmx512m&quot;\n      - xpack.security.enabled=false\n    ulimits:\n      memlock:\n        soft: -1\n        hard: -1\n    volumes:\n      - elastic_data:/usr/share/elasticsearch/data\n\n  kibana:\n    image: docker.elastic.co/kibana/kibana:6.2.4\n    container_name: kibana\n    environment:\n      SERVER_NAME: localhost\n      ELASTICSEARCH_URL: http://elasticsearch:9200/\n    ports:\n      - 5601:5601\n    volumes: \n      - kibana_data:/var/log\n    depends_on: \n      - elasticsearch\nvolumes:\n  elastic_data:\n  kibana_data:\n</code></pre>\n<p>Java version is 1.8. Any suggestion on how to fix it?</p>\n<p>Elasticsearch is accessible via Elasticsearch tools in the browser.</p>\n"},{"tags":["java","arrays","string","random","char"],"comments":[{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":2,"creation_date":1672854608,"post_id":75009340,"comment_id":132368587,"body_markdown":"Your alphabet consists of 10 distinct characters. Your password is 4 characters long. 10^4 possibilities.  On average an exhaustive search will take 5000 tries.","body":"Your alphabet consists of 10 distinct characters. Your password is 4 characters long. 10^4 possibilities.  On average an exhaustive search will take 5000 tries."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1672854872,"post_id":75009340,"comment_id":132368681,"body_markdown":"Don&#39;t need to store anything other than one value. Just have a random break and store the value at that point. Then look for it using the code you&#39;ve got","body":"Don&#39;t need to store anything other than one value. Just have a random break and store the value at that point. Then look for it using the code you&#39;ve got"},{"owner":{"account_id":27433517,"reputation":1,"user_id":20929795,"display_name":"lookingforhelp"},"score":0,"creation_date":1672855465,"post_id":75009340,"comment_id":132368887,"body_markdown":"Sorry but I am completly lost, wich value and how? I&#39;m thinking about an Array List","body":"Sorry but I am completly lost, wich value and how? I&#39;m thinking about an Array List"},{"owner":{"account_id":81168,"reputation":234365,"user_id":229044,"accept_rate":83,"display_name":"user229044"},"score":0,"creation_date":1672856440,"post_id":75009340,"comment_id":132369212,"body_markdown":"I realize this is likely an assignment and you&#39;re simply trying to satisfy the requirements given to you, but you don&#39;t actually need to do anything here except pick a random number between 0 and the number of possible passwords, which will give you an identical result to actually computing the whole set of passwords, picking a random one, and then counting how many guesses it takes to find it.","body":"I realize this is likely an assignment and you&#39;re simply trying to satisfy the requirements given to you, but you don&#39;t actually need to do anything here except pick a random number between 0 and the number of possible passwords, which will give you an identical result to actually computing the whole set of passwords, picking a random one, and then counting how many guesses it takes to find it."}],"answers":[{"tags":[],"owner":{"account_id":6098363,"reputation":64,"user_id":4758401,"display_name":"pgeadas"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672856345,"creation_date":1672856345,"answer_id":75009641,"question_id":75009340,"body_markdown":"Do you really need to store the values in a list beforehand? \r\nDo you need to generate each value exactly once, or it does not matter?\r\n\r\nIf you can just generate random passwords of size 4 N times, you could try something like this:\r\n\r\n    public class RandomPass {\r\n    static Random random = new Random();\r\n\r\n    public static void main(String[] args) {\r\n        String alphabet = &quot;ABCabc012!&quot;;\r\n        String password = generatePassword(4, alphabet);\r\n        System.out.println(&quot;PW is: &quot; + password);\r\n\r\n        int counter = 0;\r\n        while (!generatePassword(4, alphabet).equals(password)) {\r\n            counter++;\r\n        }\r\n\r\n        System.out.println(&quot;It took: &quot; + counter + &quot; times.&quot;);\r\n    }\r\n\r\n    private static String generatePassword(int size, String alphabet) {\r\n        StringBuilder pw = new StringBuilder();\r\n\r\n        for (int i = 0; i &lt; size; i++) {\r\n            pw.append(alphabet.charAt(random.nextInt(0, alphabet.length())));\r\n        }\r\n        return pw.toString();\r\n    }\r\n\r\n} \r\n\r\nIf you really need to store them, so do it inside an ArrayList, instead of printing them as you are doing in your code.\r\n\r\nAfter that, you can just traverse the ArrayList and search for your password in there.","title":"Random Password with 4 characters from String","body":"<p>Do you really need to store the values in a list beforehand?\nDo you need to generate each value exactly once, or it does not matter?</p>\n<p>If you can just generate random passwords of size 4 N times, you could try something like this:</p>\n<pre><code>public class RandomPass {\nstatic Random random = new Random();\n\npublic static void main(String[] args) {\n    String alphabet = &quot;ABCabc012!&quot;;\n    String password = generatePassword(4, alphabet);\n    System.out.println(&quot;PW is: &quot; + password);\n\n    int counter = 0;\n    while (!generatePassword(4, alphabet).equals(password)) {\n        counter++;\n    }\n\n    System.out.println(&quot;It took: &quot; + counter + &quot; times.&quot;);\n}\n\nprivate static String generatePassword(int size, String alphabet) {\n    StringBuilder pw = new StringBuilder();\n\n    for (int i = 0; i &lt; size; i++) {\n        pw.append(alphabet.charAt(random.nextInt(0, alphabet.length())));\n    }\n    return pw.toString();\n}\n</code></pre>\n<p>}</p>\n<p>If you really need to store them, so do it inside an ArrayList, instead of printing them as you are doing in your code.</p>\n<p>After that, you can just traverse the ArrayList and search for your password in there.</p>\n"},{"tags":[],"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672862265,"creation_date":1672862265,"answer_id":75010654,"question_id":75009340,"body_markdown":"You&#39;re actually pretty close! \r\n\r\nHere&#39;s how to build the combinations, add them to the ArrayList, output them, pick a random password from the list, then randomly generate passwords until you get a match:\r\n\r\n      public static void main(String[] args) {\r\n        String alphabet = &quot;ABCabc012!&quot;;\r\n        char pw[] = alphabet.toCharArray();\r\n    \r\n        // generate the combinations\r\n        ArrayList&lt;String&gt; combos = new ArrayList&lt;&gt;();\r\n        for (int i = 0; i &lt; pw.length ; i++) {\r\n            for (int j = 0; j &lt; pw.length ; j++) {\r\n                for (int k = 0; k &lt; pw.length ; k++) {\r\n                    for (int l = 0; l &lt; pw.length ; l++) {\r\n                      String pwCombo = &quot;&quot; + pw[i] + pw[j] + pw[k] + pw[l];\r\n                      combos.add(pwCombo);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    \r\n        // output the combinations\r\n        for(String password : combos) {\r\n          System.out.println(password);\r\n        }\r\n    \r\n        // pick a random passwrod\r\n        Random r = new Random();    \r\n        int index = r.nextInt(combos.size());\r\n        String pwToGuess = combos.get(index);\r\n        System.out.println(&quot;Password to guess: &quot; + pwToGuess);\r\n    \r\n        // randomly generate a password until it matches\r\n        int tries = 0;\r\n        String pwGuess = &quot;&quot;;\r\n        do {\r\n          tries++;\r\n          pwGuess = &quot;&quot; + pw[r.nextInt(pw.length)] + pw[r.nextInt(pw.length)] + pw[r.nextInt(pw.length)] + pw[r.nextInt(pw.length)];\r\n        } while (!pwGuess.equals(pwToGuess));\r\n        System.out.println(&quot;It took &quot; + tries + &quot; tries to guess the password!&quot;);\r\n      }\r\n\r\n","title":"Random Password with 4 characters from String","body":"<p>You're actually pretty close!</p>\n<p>Here's how to build the combinations, add them to the ArrayList, output them, pick a random password from the list, then randomly generate passwords until you get a match:</p>\n<pre><code>  public static void main(String[] args) {\n    String alphabet = &quot;ABCabc012!&quot;;\n    char pw[] = alphabet.toCharArray();\n\n    // generate the combinations\n    ArrayList&lt;String&gt; combos = new ArrayList&lt;&gt;();\n    for (int i = 0; i &lt; pw.length ; i++) {\n        for (int j = 0; j &lt; pw.length ; j++) {\n            for (int k = 0; k &lt; pw.length ; k++) {\n                for (int l = 0; l &lt; pw.length ; l++) {\n                  String pwCombo = &quot;&quot; + pw[i] + pw[j] + pw[k] + pw[l];\n                  combos.add(pwCombo);\n                }\n            }\n        }\n    }\n\n    // output the combinations\n    for(String password : combos) {\n      System.out.println(password);\n    }\n\n    // pick a random passwrod\n    Random r = new Random();    \n    int index = r.nextInt(combos.size());\n    String pwToGuess = combos.get(index);\n    System.out.println(&quot;Password to guess: &quot; + pwToGuess);\n\n    // randomly generate a password until it matches\n    int tries = 0;\n    String pwGuess = &quot;&quot;;\n    do {\n      tries++;\n      pwGuess = &quot;&quot; + pw[r.nextInt(pw.length)] + pw[r.nextInt(pw.length)] + pw[r.nextInt(pw.length)] + pw[r.nextInt(pw.length)];\n    } while (!pwGuess.equals(pwToGuess));\n    System.out.println(&quot;It took &quot; + tries + &quot; tries to guess the password!&quot;);\n  }\n</code></pre>\n"}],"owner":{"account_id":27433517,"reputation":1,"user_id":20929795,"display_name":"lookingforhelp"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":259,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1672862265,"creation_date":1672854519,"question_id":75009340,"body_markdown":"I made a code that gives me every possible 4 character combination of a String.\r\nNow I need to make a program that chooses 1 random combination as a Password and then goes over every possible combination till it finds the chosen one and then tells me how many guesses it took to find the right one. This is what I have so far:\r\n\r\n\r\n```\r\nString alphabet = &quot;ABCabc012!&quot;;\r\n        char pw[] = alphabet.toCharArray();\r\n        \r\n\r\n        for (int i = 0; i &lt; pw.length ; i++) {\r\n            for (int j = 0; j &lt; pw.length ; j++) {\r\n                for (int k = 0; k &lt; pw.length ; k++) {\r\n                    for (int l = 0; l &lt; pw.length ; l++) {\r\n\r\n                        System.out.println(pw[i] + &quot; &quot; + pw[j] + &quot; &quot; + pw[k] + &quot; &quot; + pw[l]);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n```\r\n\r\n\r\nI tried to store the pw[] in an array but I dont know exactly how to do it.","title":"Random Password with 4 characters from String","body":"<p>I made a code that gives me every possible 4 character combination of a String.\nNow I need to make a program that chooses 1 random combination as a Password and then goes over every possible combination till it finds the chosen one and then tells me how many guesses it took to find the right one. This is what I have so far:</p>\n<pre><code>String alphabet = &quot;ABCabc012!&quot;;\n        char pw[] = alphabet.toCharArray();\n        \n\n        for (int i = 0; i &lt; pw.length ; i++) {\n            for (int j = 0; j &lt; pw.length ; j++) {\n                for (int k = 0; k &lt; pw.length ; k++) {\n                    for (int l = 0; l &lt; pw.length ; l++) {\n\n                        System.out.println(pw[i] + &quot; &quot; + pw[j] + &quot; &quot; + pw[k] + &quot; &quot; + pw[l]);\n                    }\n                }\n            }\n        }\n</code></pre>\n<p>I tried to store the pw[] in an array but I dont know exactly how to do it.</p>\n"},{"tags":["java","model-view-controller"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1672861240,"post_id":75010374,"comment_id":132370705,"body_markdown":"I suppose that you develop a desktop application and not a web application? (Because in the latter case you might already have found your way to Spring MVC, it&#39;s nearly un-avoidable to stumble over that in the web)","body":"I suppose that you develop a desktop application and not a web application? (Because in the latter case you might already have found your way to Spring MVC, it&#39;s nearly un-avoidable to stumble over that in the web)"},{"owner":{"account_id":27434378,"reputation":1,"user_id":20930546,"display_name":"AlexV"},"score":0,"creation_date":1672862020,"post_id":75010374,"comment_id":132370959,"body_markdown":"Yes, I am developing desktop app, not web. Web was just for an example. I wanted to know any solutions for desktop","body":"Yes, I am developing desktop app, not web. Web was just for an example. I wanted to know any solutions for desktop"},{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":0,"creation_date":1672862254,"post_id":75010374,"comment_id":132371040,"body_markdown":"Especially for a desktop application, why not use  a framework like Spring or Guava that gives you MVC with Dependency Injection out of the box?","body":"Especially for a desktop application, why not use  a framework like Spring or Guava that gives you MVC with Dependency Injection out of the box?"},{"owner":{"account_id":2796564,"reputation":301,"user_id":2405699,"accept_rate":33,"display_name":"alex"},"score":0,"creation_date":1672864772,"post_id":75010374,"comment_id":132371841,"body_markdown":"I&#39;d say, register callbacks with the models, as the data in the model changes notify/update the views.","body":"I&#39;d say, register callbacks with the models, as the data in the model changes notify/update the views."}],"owner":{"account_id":27434378,"reputation":1,"user_id":20930546,"display_name":"AlexV"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672862175,"creation_date":1672860589,"question_id":75010374,"body_markdown":"I am building desktop app and trying to use `MVC pattern`. I want models &amp; controllers to be accessible in  GUI (views), but I need to init all controllers and models in the root of the app. Moreover - I need to pass all of them to my GUI init method and in all child methods. \r\n\r\nIs there any simple way to init and call models and controllers in views components? I am currently have 7 models and 7 controllers, but what if in the future there will be more, should I hardcode them, is it ok?\r\n\r\nI am actually WEB developer, so I can show as an example Javascript implementations for storage usages. There is frameworks for convinient storage usage for the entire app - React(Redux) Vue(Vuex). They are registered as plugins and accessible in all app, maybe there is something same in java for mvc\r\n\r\n```\r\n    import com.base.views.MainWindow;\r\n    import com.base.models.ActionsModel;\r\n    // models...\r\n    import com.base.controllers.ActionsController;\r\n    // controllers...\r\n    \r\n    public class Main {\r\n        ActionsModel actionsModel = new ActionsModel();\r\n        // models...\r\n        ActionsController actionsController= new ActionsController();\r\n        // controllers...\r\n    \r\n        public static void main(String[] args) {\r\n            MainWindow viewMainWindow = new MainWindow();\r\n            viewMainWindow.init(actionsModel, actionsController, ....); // I want to use models and controllers in MainWindow (GUI)\r\n        }\r\n    \r\n    }\r\n```","title":"Where to init and how to use controllers and models in MVC pattern in Java application?","body":"<p>I am building desktop app and trying to use <code>MVC pattern</code>. I want models &amp; controllers to be accessible in  GUI (views), but I need to init all controllers and models in the root of the app. Moreover - I need to pass all of them to my GUI init method and in all child methods.</p>\n<p>Is there any simple way to init and call models and controllers in views components? I am currently have 7 models and 7 controllers, but what if in the future there will be more, should I hardcode them, is it ok?</p>\n<p>I am actually WEB developer, so I can show as an example Javascript implementations for storage usages. There is frameworks for convinient storage usage for the entire app - React(Redux) Vue(Vuex). They are registered as plugins and accessible in all app, maybe there is something same in java for mvc</p>\n<pre><code>    import com.base.views.MainWindow;\n    import com.base.models.ActionsModel;\n    // models...\n    import com.base.controllers.ActionsController;\n    // controllers...\n    \n    public class Main {\n        ActionsModel actionsModel = new ActionsModel();\n        // models...\n        ActionsController actionsController= new ActionsController();\n        // controllers...\n    \n        public static void main(String[] args) {\n            MainWindow viewMainWindow = new MainWindow();\n            viewMainWindow.init(actionsModel, actionsController, ....); // I want to use models and controllers in MainWindow (GUI)\n        }\n    \n    }\n</code></pre>\n"},{"tags":["java","java-stream","reduce","reduction"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":2,"creation_date":1672859617,"post_id":75010049,"comment_id":132370152,"body_markdown":"Streams are meant for stateless operations. The maximum difference in a list is not a stateless operation. What you want is not possible (well... it is, but is against the idea of streams and most probably slower than an imperative approauch). The easiest way to solve this with streams is most probably to determine the `min()` and `max()` of the list, and subtract the `min()` from the `max()`.","body":"Streams are meant for stateless operations. The maximum difference in a list is not a stateless operation. What you want is not possible (well... it is, but is against the idea of streams and most probably slower than an imperative approauch). The easiest way to solve this with streams is most probably to determine the <code>min()</code> and <code>max()</code> of the list, and subtract the <code>min()</code> from the <code>max()</code>."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1672859787,"post_id":75010049,"comment_id":132370206,"body_markdown":"as `max` and `min` are already specialized methods of `reduce`, are you searching for their non-terminal implementation?","body":"as <code>max</code> and <code>min</code> are already specialized methods of <code>reduce</code>, are you searching for their non-terminal implementation?"},{"owner":{"account_id":5647593,"reputation":498,"user_id":4469165,"accept_rate":62,"display_name":"Andy"},"score":0,"creation_date":1672860413,"post_id":75010049,"comment_id":132370412,"body_markdown":"@cyberbrain - actually I was searching for a customized accumulator and combiner for the reduce(U identity, BiFunction&lt;U,? super T,U&gt; accumulator, BinaryOperator&lt;U&gt; combiner) method. But I doubt, like Turing85 stated, that there is a practicable and performant solution.","body":"@cyberbrain - actually I was searching for a customized accumulator and combiner for the reduce(U identity, BiFunction&lt;U,? super T,U&gt; accumulator, BinaryOperator&lt;U&gt; combiner) method. But I doubt, like Turing85 stated, that there is a practicable and performant solution."}],"answers":[{"comments":[{"owner":{"account_id":6790343,"reputation":1483,"user_id":5227721,"display_name":"Berk Kurkcuoglu"},"score":1,"creation_date":1672860954,"post_id":75010350,"comment_id":132370596,"body_markdown":"Just as a side note, teeing is only supported on Java 12 and above.","body":"Just as a side note, teeing is only supported on Java 12 and above."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":2,"creation_date":1672860993,"post_id":75010350,"comment_id":132370608,"body_markdown":"Minor nitpick: I know that the `Optional`s in the `merger` cannot be empty, but I would suggest to replace `.get()` with `orElseThrow()`.","body":"Minor nitpick: I know that the <code>Optional</code>s in the <code>merger</code> cannot be empty, but I would suggest to replace <code>.get()</code> with <code>orElseThrow()</code>."},{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":2,"creation_date":1672863024,"post_id":75010350,"comment_id":132371298,"body_markdown":"@Turing85 they can, with an empty `List.of()` the merger is still applied to two absent optionals and will throw a `NoSuchElementException: No value present`.","body":"@Turing85 they can, with an empty <code>List.of()</code> the merger is still applied to two absent optionals and will throw a <code>NoSuchElementException: No value present</code>."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1672863156,"post_id":75010350,"comment_id":132371351,"body_markdown":"@zapl huh true. Thought the `Exception` cam from an earlier point. Nice.","body":"@zapl huh true. Thought the <code>Exception</code> cam from an earlier point. Nice."},{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":2,"creation_date":1672863871,"post_id":75010350,"comment_id":132371577,"body_markdown":"there&#39;s also a slight flaw with `DoubleSummaryStatistics` because min/max for an empty list will be +Infinity and -Infinity and the diff will be -Infinity. Could be fixed by doing `double diff = statistics.getCount() &gt; 0 ? statistics.getMax() - statistics.getMin() : 0.0;`","body":"there&#39;s also a slight flaw with <code>DoubleSummaryStatistics</code> because min/max for an empty list will be +Infinity and -Infinity and the diff will be -Infinity. Could be fixed by doing <code>double diff = statistics.getCount() &gt; 0 ? statistics.getMax() - statistics.getMin() : 0.0;</code>"}],"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"comment_count":5,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1672860463,"creation_date":1672860463,"answer_id":75010350,"question_id":75010049,"body_markdown":"You can avoid streaming over the list twice by using the teeing collector:\r\n\r\n    double diff = list.stream()\r\n                      .collect(Collectors.teeing(\r\n                              Collectors.reducing(Double::max),\r\n                              Collectors.reducing(Double::min),\r\n                              (max,min) -&gt; max.get() - min.get()));\r\n\r\nOr using summaryStatistics\r\n\r\n    DoubleSummaryStatistics statistics = list.stream()\r\n                                             .mapToDouble(Double::doubleValue)\r\n                                             .summaryStatistics();\r\n    double diff = statistics.getMax() - statistics.getMin();\r\n\r\n ","title":"Implementing a reduction operation for finding the maximum difference of numbers?","body":"<p>You can avoid streaming over the list twice by using the teeing collector:</p>\n<pre><code>double diff = list.stream()\n                  .collect(Collectors.teeing(\n                          Collectors.reducing(Double::max),\n                          Collectors.reducing(Double::min),\n                          (max,min) -&gt; max.get() - min.get()));\n</code></pre>\n<p>Or using summaryStatistics</p>\n<pre><code>DoubleSummaryStatistics statistics = list.stream()\n                                         .mapToDouble(Double::doubleValue)\n                                         .summaryStatistics();\ndouble diff = statistics.getMax() - statistics.getMin();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5647593,"reputation":498,"user_id":4469165,"accept_rate":62,"display_name":"Andy"},"score":0,"creation_date":1672905912,"post_id":75010624,"comment_id":132379437,"body_markdown":"even though not practicable nice solution :-)","body":"even though not practicable nice solution :-)"}],"tags":[],"owner":{"account_id":16773423,"reputation":576,"user_id":12125351,"display_name":"wannaBeDev"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672862076,"creation_date":1672862076,"answer_id":75010624,"question_id":75010049,"body_markdown":"For small list you could possibly make a Cartesian product of the list with itself and calculate the difference of every combination before reducing:\r\n\r\n    double maxDiff = list.stream()\r\n                         .flatMap(a -&gt; list.stream().map(b -&gt; a - b))\r\n                         .reduce(Double::max)\r\n                         .get();\r\n    System.out.println(maxDiff);\r\n\r\n","title":"Implementing a reduction operation for finding the maximum difference of numbers?","body":"<p>For small list you could possibly make a Cartesian product of the list with itself and calculate the difference of every combination before reducing:</p>\n<pre><code>double maxDiff = list.stream()\n                     .flatMap(a -&gt; list.stream().map(b -&gt; a - b))\n                     .reduce(Double::max)\n                     .get();\nSystem.out.println(maxDiff);\n</code></pre>\n"}],"owner":{"account_id":5647593,"reputation":498,"user_id":4469165,"accept_rate":62,"display_name":"Andy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1672862076,"creation_date":1672858811,"question_id":75010049,"body_markdown":"I am searching for a suitable stream-based reduction operation to find the maximum difference of a double-list. (Please no solutions with old-style nested for-loops...)\r\n\r\nLets say my double list is  \r\n`List&lt;Double&gt; list = List.of(1.1, 0.3, 7.8, 1.0, 9.1, 2.3);`  \r\nthen the maximum difference would result to the value  \r\n`9.1 - 0.3 = 8.8`&lt;p&gt;  \r\nMy first working approach with the use of java-streams is:  \r\n\r\n    List&lt;Double&gt; list = List.of(1.1, 0.3, 7.8, 1.0, 9.1, 2.3);\r\n    double maxDiff = list.stream().max(Double::compareTo).get()\r\n        - list.stream().min(Double::compareTo).get();\r\n\r\n**How to implement a custom accumulator and combiner for the reduction operation **`Stream.reduce()`** to achieve the same?**","title":"Implementing a reduction operation for finding the maximum difference of numbers?","body":"<p>I am searching for a suitable stream-based reduction operation to find the maximum difference of a double-list. (Please no solutions with old-style nested for-loops...)</p>\n<p>Lets say my double list is<br />\n<code>List&lt;Double&gt; list = List.of(1.1, 0.3, 7.8, 1.0, 9.1, 2.3);</code><br />\nthen the maximum difference would result to the value<br />\n<code>9.1 - 0.3 = 8.8</code><p><br />\nMy first working approach with the use of java-streams is:</p>\n<pre><code>List&lt;Double&gt; list = List.of(1.1, 0.3, 7.8, 1.0, 9.1, 2.3);\ndouble maxDiff = list.stream().max(Double::compareTo).get()\n    - list.stream().min(Double::compareTo).get();\n</code></pre>\n<p><strong>How to implement a custom accumulator and combiner for the reduction operation <strong><code>Stream.reduce()</code></strong> to achieve the same?</strong></p>\n"},{"tags":["java","file","servlets","opencsv"],"comments":[{"owner":{"account_id":4728704,"reputation":17032,"user_id":3824919,"display_name":"Tom"},"score":0,"creation_date":1412063702,"post_id":26114624,"comment_id":40928545,"body_markdown":"Instead of `new File(path2+File.separator+fileName)` use `new File(path2, fileName)`. That way you can&#39;t forget to add the separator.","body":"Instead of <code>new File(path2+File.separator+fileName)</code> use <code>new File(path2, fileName)</code>. That way you can&#39;t forget to add the separator."}],"answers":[{"comments":[{"owner":{"account_id":4389460,"reputation":43,"user_id":3578385,"display_name":"Abhiroop"},"score":0,"creation_date":1412063226,"post_id":26115299,"comment_id":40928319,"body_markdown":"No there arent any commas in any of the contents. Actually I&#39;m trying to split these entries into smaller files of 10000 entries each. But some entries get missed in each smaller file in the last row.","body":"No there arent any commas in any of the contents. Actually I&#39;m trying to split these entries into smaller files of 10000 entries each. But some entries get missed in each smaller file in the last row."},{"owner":{"account_id":3018431,"reputation":43,"user_id":2559984,"display_name":"javaist"},"score":0,"creation_date":1412065799,"post_id":26115299,"comment_id":40929623,"body_markdown":"are there any other escape characters (such as , &#39; &quot; etc.) in the values prior to the missing values?\ni had a similar problem in the past, and it turned out the values in the csv files contained escape characters, that the opencsv didn&#39;t handle well.","body":"are there any other escape characters (such as , &#39; &quot; etc.) in the values prior to the missing values? i had a similar problem in the past, and it turned out the values in the csv files contained escape characters, that the opencsv didn&#39;t handle well."},{"owner":{"account_id":4389460,"reputation":43,"user_id":3578385,"display_name":"Abhiroop"},"score":0,"creation_date":1412155933,"post_id":26115299,"comment_id":40969940,"body_markdown":"There are only words. Even if it were to exist, y does it not write only the last row properly? I find it peculiar.","body":"There are only words. Even if it were to exist, y does it not write only the last row properly? I find it peculiar."},{"owner":{"account_id":3018431,"reputation":43,"user_id":2559984,"display_name":"javaist"},"score":0,"creation_date":1412163842,"post_id":26115299,"comment_id":40974143,"body_markdown":"do you have a header row? in that case, the fileContents.size() value for the index, is 1 row short.","body":"do you have a header row? in that case, the fileContents.size() value for the index, is 1 row short."}],"tags":[],"owner":{"account_id":3018431,"reputation":43,"user_id":2559984,"display_name":"javaist"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1412062707,"creation_date":1412062707,"answer_id":26115299,"question_id":26114624,"body_markdown":"please check if prior to the missing values, one of the values has a comma inside (i.e. &quot;this is a csv value, with a comma inside it&quot;).\r\n\r\n","title":"Incomplete OpenCSV import","body":"<p>please check if prior to the missing values, one of the values has a comma inside (i.e. \"this is a csv value, with a comma inside it\").</p>\n"},{"tags":[],"owner":{"account_id":4389460,"reputation":43,"user_id":3578385,"display_name":"Abhiroop"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1413375492,"creation_date":1413375492,"answer_id":26382420,"question_id":26114624,"body_markdown":"I figured out the error. I wasnt closing the writer.\r\n writer.close();\r\nAnd the file was completely written. Don&#39;t know why it doesnt complete writing the file otherwise.","title":"Incomplete OpenCSV import","body":"<p>I figured out the error. I wasnt closing the writer.\n writer.close();\nAnd the file was completely written. Don't know why it doesnt complete writing the file otherwise.</p>\n"},{"tags":[],"owner":{"account_id":10398091,"reputation":65,"user_id":7667292,"display_name":"chrisb89"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1672861983,"creation_date":1672846823,"answer_id":75007841,"question_id":26114624,"body_markdown":"Had a similar problem as described by Abhiroop when using `StatefulBeanToCsv&lt;T&gt; beanWriter`. Thanks for documenting the error with `writer.close`!\r\n\r\nSince a Writer implements `Closeable` which extends `AutoCloseable`, it should be wrapped in a try-with-resources as shown below.\r\n\r\nFor me, the advantage of `StatefulBeanToCsv` is that it can be used with a `MappingStrategy&lt;T&gt;`.\r\n\r\n```` lang-java\r\npublic void exportToCsv(List&lt;T&gt; beans) {\r\n    try (PrintWriter printWriter = new PrintWriter(FILE_PATH_NAME)) {\r\n        final StatefulBeanToCsv&lt;T&gt; beanWriter = new StatefulBeanToCsvBuilder&lt;T&gt;(printWriter).build();\r\n        beanWriter.write(beans);\r\n    } catch (Exception e) {\r\n        throw new IllegalStateException(&quot;export failed&quot;, e);\r\n    }\r\n}\r\n````","title":"Incomplete OpenCSV import","body":"<p>Had a similar problem as described by Abhiroop when using <code>StatefulBeanToCsv&lt;T&gt; beanWriter</code>. Thanks for documenting the error with <code>writer.close</code>!</p>\n<p>Since a Writer implements <code>Closeable</code> which extends <code>AutoCloseable</code>, it should be wrapped in a try-with-resources as shown below.</p>\n<p>For me, the advantage of <code>StatefulBeanToCsv</code> is that it can be used with a <code>MappingStrategy&lt;T&gt;</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void exportToCsv(List&lt;T&gt; beans) {\n    try (PrintWriter printWriter = new PrintWriter(FILE_PATH_NAME)) {\n        final StatefulBeanToCsv&lt;T&gt; beanWriter = new StatefulBeanToCsvBuilder&lt;T&gt;(printWriter).build();\n        beanWriter.write(beans);\n    } catch (Exception e) {\n        throw new IllegalStateException(&quot;export failed&quot;, e);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4389460,"reputation":43,"user_id":3578385,"display_name":"Abhiroop"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1209,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":26382420,"answer_count":3,"score":0,"last_activity_date":1672861983,"creation_date":1412060311,"question_id":26114624,"body_markdown":"I tried importing the records from a CSV file using OpenCSV. I observed that OpenCSV was actually missing out some of the entries in the last row of my file. The code is as below. I know that I can do a writeAll operation. But i need individual rows for some other operations. The number of records are around 56000 in my file. \r\n\r\n    CSVReader reader = new CSVReader(new BufferedReader(new InputStreamReader(new FileInputStream(inputFile))));\r\n    \r\n    CSVWriter writer = new CSVWriter(new BufferedWriter(new OutputStreamWriter(new FileOutputStream(new File(path2+File.separator+fileName)))), &#39;,&#39;);\r\n    \r\n    List&lt;String[]&gt; fileContents = new ArrayList&lt;String[]&gt;();\r\n    fileContents = reader.readAll();\r\n    for(int i=0; i&lt;fileContents.size(); i++){\r\n    \tString[] row = fileContents.get(i);\r\n    writer.writeNext(row);","title":"Incomplete OpenCSV import","body":"<p>I tried importing the records from a CSV file using OpenCSV. I observed that OpenCSV was actually missing out some of the entries in the last row of my file. The code is as below. I know that I can do a writeAll operation. But i need individual rows for some other operations. The number of records are around 56000 in my file. </p>\n\n<pre><code>CSVReader reader = new CSVReader(new BufferedReader(new InputStreamReader(new FileInputStream(inputFile))));\n\nCSVWriter writer = new CSVWriter(new BufferedWriter(new OutputStreamWriter(new FileOutputStream(new File(path2+File.separator+fileName)))), ',');\n\nList&lt;String[]&gt; fileContents = new ArrayList&lt;String[]&gt;();\nfileContents = reader.readAll();\nfor(int i=0; i&lt;fileContents.size(); i++){\n    String[] row = fileContents.get(i);\nwriter.writeNext(row);\n</code></pre>\n"},{"tags":["java","swing","jtable","scrollbar","jscrollpane"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1427868223,"post_id":29383552,"comment_id":46946309,"body_markdown":"Seems like the making of an unusable GUI, when you expect the user to scroll in order to see the content of table cells.","body":"Seems like the making of an unusable GUI, when you expect the user to scroll in order to see the content of table cells."},{"owner":{"account_id":5207957,"reputation":156,"user_id":4165265,"accept_rate":25,"display_name":"anand kulkarni"},"score":0,"creation_date":1427868297,"post_id":29383552,"comment_id":46946335,"body_markdown":"may be following links will helpful to you.\r\n\r\nhttp://stackoverflow.com/questions/6388453/adding-a-jscrollpane-component-to-a-jtable-column\r\n\r\nhttp://stackoverflow.com/questions/9395554/scrollable-cells-in-jtable","body":"may be following links will helpful to you.    <a href=\"http://stackoverflow.com/questions/6388453/adding-a-jscrollpane-component-to-a-jtable-column\" title=\"adding a jscrollpane component to a jtable column\">stackoverflow.com/questions/6388453/&hellip;</a>    <a href=\"http://stackoverflow.com/questions/9395554/scrollable-cells-in-jtable\" title=\"scrollable cells in jtable\">stackoverflow.com/questions/9395554/scrollable-cells-in-jtab&zwnj;&#8203;le</a>"}],"answers":[{"comments":[{"owner":{"account_id":5865330,"reputation":21,"user_id":4619500,"display_name":"Isbelmont"},"score":0,"creation_date":1427869992,"post_id":29383920,"comment_id":46946950,"body_markdown":"maybe you dont need to scroll, you need change the height of every row with the mouse","body":"maybe you dont need to scroll, you need change the height of every row with the mouse"},{"owner":{"account_id":5865330,"reputation":21,"user_id":4619500,"display_name":"Isbelmont"},"score":0,"creation_date":1455977865,"post_id":29383920,"comment_id":58738407,"body_markdown":"When you have lot of data you will see the scroll bar","body":"When you have lot of data you will see the scroll bar"}],"tags":[],"owner":{"account_id":5865330,"reputation":21,"user_id":4619500,"display_name":"Isbelmont"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1427868449,"creation_date":1427868449,"answer_id":29383920,"question_id":29383552,"body_markdown":"1. Right click on your jscrollpane\r\n2. Properties\r\n3. HOrizontal scrollbarpolicy = always\r\n4. Vertical scrollbarpolicy = always\r\n\r\nTo be able to scroll\r\nRight Click on Jtable\r\nAutocreatecolumnfrommodel =false(deactivaded)","title":"Scrolling inside a JTable cell in Swing","body":"<ol>\n<li>Right click on your jscrollpane</li>\n<li>Properties</li>\n<li>HOrizontal scrollbarpolicy = always</li>\n<li>Vertical scrollbarpolicy = always</li>\n</ol>\n\n<p>To be able to scroll\nRight Click on Jtable\nAutocreatecolumnfrommodel =false(deactivaded)</p>\n"},{"tags":[],"owner":{"account_id":17033457,"reputation":31,"user_id":12323075,"display_name":"alcan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672861906,"creation_date":1672861629,"answer_id":75010552,"question_id":29383552,"body_markdown":"In order to be able to set the focus on the cell (so you can use the inside scroll pane), you can get it through &quot;edit mode&quot;:\r\n1. Create a custom cell editor:\r\n\r\n    \t\tpublic class MyCustomCellEditor extends AbstractCellEditor implements TableCellEditor{\r\n    \t\t@Override\r\n    \t\tpublic Component getTableCellEditorComponent(JTable table,Object value,boolean isSelected,int row,int column) {\r\n    \t\t\r\n    \t\t    \t\tJScrollPane your_custom_panel=new JScrollPane();\r\n    \t\t            return your_custom_panel; // your _pane\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic Object getCellEditorValue() {\r\n    \t\t\treturn null;\r\n    \t\t}\r\n\r\n\t\r\n\r\n2. Set it on your table:\r\n\r\n    \t\ttable.setDefaultEditor(MyCustomCellValueType.class,new MyCustomCellEditor());\r\n\r\n\r\nNow you only need to manage how to enter in &quot;edit mode&quot; and you should be able to scroll inside the cell.\r\n\r\n","title":"Scrolling inside a JTable cell in Swing","body":"<p>In order to be able to set the focus on the cell (so you can use the inside scroll pane), you can get it through &quot;edit mode&quot;:</p>\n<ol>\n<li><p>Create a custom cell editor:</p>\n<pre><code>     public class MyCustomCellEditor extends AbstractCellEditor implements TableCellEditor{\n     @Override\n     public Component getTableCellEditorComponent(JTable table,Object value,boolean isSelected,int row,int column) {\n\n                 JScrollPane your_custom_panel=new JScrollPane();\n                 return your_custom_panel; // your _pane\n     }\n\n     @Override\n     public Object getCellEditorValue() {\n         return null;\n     }\n</code></pre>\n</li>\n<li><p>Set it on your table:</p>\n<pre><code>     table.setDefaultEditor(MyCustomCellValueType.class,new MyCustomCellEditor());\n</code></pre>\n</li>\n</ol>\n<p>Now you only need to manage how to enter in &quot;edit mode&quot; and you should be able to scroll inside the cell.</p>\n"}],"owner":{"account_id":4798661,"reputation":120,"user_id":3875834,"accept_rate":0,"display_name":"Rama Krishna"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":952,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1672861906,"creation_date":1427866596,"question_id":29383552,"body_markdown":"I have a table each cell contains a image. if the image size is more than row height, I have added `JScrollPane`.  Now when I run the application, scroll is visible in each cell but I&#39;m not able to scroll it.\r\n\r\nHow can I do it?\r\n\r\nBelow is the code I&#39;m using to add scroll pane.\r\n\r\nAny sample code will be appreciated. \r\n\r\n         private final JTable table = new JTable(model)\r\n\r\n        {\r\n\r\n        @Override public Component prepareRenderer(TableCellRenderer tcr, int      row, int column) \r\n\r\n        {\r\n             Component c = super.prepareRenderer(tcr, row, column);\r\n             if(isRowSelected(row))              \r\n             {\r\n                 c.setForeground(getSelectionForeground());\r\n                 c.setBackground(getSelectionBackground());             \r\n             }             \r\n           else{\r\n                 c.setForeground(getForeground());\r\n                 c.setBackground((row%2==0)?evenColor:getBackground());\r\n             }\r\n             JScrollPane _pane=new JScrollPane(c);\r\n             table.setRowHeight(100);\r\n             return _pane;\r\n         }\r\n    };\r\n \r\n\r\n","title":"Scrolling inside a JTable cell in Swing","body":"<p>I have a table each cell contains a image. if the image size is more than row height, I have added <code>JScrollPane</code>.  Now when I run the application, scroll is visible in each cell but I'm not able to scroll it.</p>\n\n<p>How can I do it?</p>\n\n<p>Below is the code I'm using to add scroll pane.</p>\n\n<p>Any sample code will be appreciated. </p>\n\n<pre><code>     private final JTable table = new JTable(model)\n\n    {\n\n    @Override public Component prepareRenderer(TableCellRenderer tcr, int      row, int column) \n\n    {\n         Component c = super.prepareRenderer(tcr, row, column);\n         if(isRowSelected(row))              \n         {\n             c.setForeground(getSelectionForeground());\n             c.setBackground(getSelectionBackground());             \n         }             \n       else{\n             c.setForeground(getForeground());\n             c.setBackground((row%2==0)?evenColor:getBackground());\n         }\n         JScrollPane _pane=new JScrollPane(c);\n         table.setRowHeight(100);\n         return _pane;\n     }\n};\n</code></pre>\n"},{"tags":["java","amazon-web-services","amazon-dynamodb-dax"],"comments":[{"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"score":0,"creation_date":1672882210,"post_id":75010563,"comment_id":132375464,"body_markdown":"WHy are you using the AWS SDK for Java V1 API that is marked deprecated in AWS Github: https://github.com/awsdocs/aws-doc-sdk-examples.  Using a deprecated API can result in issues like this.","body":"WHy are you using the AWS SDK for Java V1 API that is marked deprecated in AWS Github: <a href=\"https://github.com/awsdocs/aws-doc-sdk-examples\" rel=\"nofollow noreferrer\">github.com/awsdocs/aws-doc-sdk-examples</a>.  Using a deprecated API can result in issues like this."}],"owner":{"account_id":4411211,"reputation":71,"user_id":3594089,"display_name":"user3594089"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1672861757,"creation_date":1672861757,"question_id":75010563,"body_markdown":"I am trying to implement a POC on DAX with DynamoDB. What is the correct DAX java client dependency I need to use ?\r\nExamples refer to \r\n```\r\n    &lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;amazon-dax-client&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;1.0.230341.0&lt;/version&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n```\r\nBut this dependency throws the following error :\r\ncom.amazonaws:aws-java-sdk-dynamodb:pom:1.11 was not found in maven repository during a previous attempt. This failure was cached in the local repository and resolution is not reattempted until the update interval of central has elapsed or updates are forced\r\n","title":"Java DAX client dependency throws &quot;com.amazonaws:aws-java-sdk-dynamodb:pom:1.11 was not found&quot; error","body":"<p>I am trying to implement a POC on DAX with DynamoDB. What is the correct DAX java client dependency I need to use ?\nExamples refer to</p>\n<pre><code>    &lt;dependency&gt;\n                    &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n                    &lt;artifactId&gt;amazon-dax-client&lt;/artifactId&gt;\n                    &lt;version&gt;1.0.230341.0&lt;/version&gt;\n                &lt;/dependency&gt;\n</code></pre>\n<p>But this dependency throws the following error :\ncom.amazonaws:aws-java-sdk-dynamodb:pom:1.11 was not found in maven repository during a previous attempt. This failure was cached in the local repository and resolution is not reattempted until the update interval of central has elapsed or updates are forced</p>\n"},{"tags":["java","android","listview"],"answers":[{"comments":[{"owner":{"account_id":27374274,"reputation":5,"user_id":20879867,"display_name":"Xiayan"},"score":0,"creation_date":1672863422,"post_id":75010520,"comment_id":132371432,"body_markdown":"My problem is perfectly solved! Thank you so much!","body":"My problem is perfectly solved! Thank you so much!"}],"tags":[],"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672861647,"creation_date":1672861336,"answer_id":75010520,"question_id":75009749,"body_markdown":"In `Activity` in `onSave` you are setting `&quot;memo&quot;` text, but you are not returning your `&quot;requestCode&quot;`, thus `int requestCode = data.getIntExtra(&quot;requestCode&quot;, 0);` is always `0` (as `0` set as default param when lack of `&quot;requestCode&quot;` key), so edited item will always be this one on position = 0.\r\n\r\nStore passed `&quot;requestCode&quot;` in `d_Game_message_edit` `Activity` (read it in `onCreate`) \r\n\r\n    ...\r\n    private int position = 0;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n       super.onCreate(savedInstanceState);\r\n       setContentView(R.layout.activity_dgame_message_edit);\r\n\r\n       Intent it = getIntent();               \r\n       String s = it.getStringExtra(&quot;memo&quot;); \r\n       position = it.getIntExtra(&quot;requestCode&quot;);\r\n       ...\r\n\r\nand return it in same `Intent` next to `&quot;memo&quot;` text when `onSave` runs\r\n\r\n    public void onSave(View v) {    \r\n        Intent it2 = new Intent();\r\n        it2.putExtra(&quot;memo&quot;, txv.getText() + &quot; &quot; + edt.getText());\r\n        it2.putExtra(&quot;requestCode&quot;, position);\r\n        setResult(RESULT_OK, it2); \r\n        finish();    \r\n    }\r\n\r\nAnd change `&quot;requestCode&quot;` naming, it may be confusing...","title":"Android How to change the content of the item I selected on the listview","body":"<p>In <code>Activity</code> in <code>onSave</code> you are setting <code>&quot;memo&quot;</code> text, but you are not returning your <code>&quot;requestCode&quot;</code>, thus <code>int requestCode = data.getIntExtra(&quot;requestCode&quot;, 0);</code> is always <code>0</code> (as <code>0</code> set as default param when lack of <code>&quot;requestCode&quot;</code> key), so edited item will always be this one on position = 0.</p>\n<p>Store passed <code>&quot;requestCode&quot;</code> in <code>d_Game_message_edit</code> <code>Activity</code> (read it in <code>onCreate</code>)</p>\n<pre><code>...\nprivate int position = 0;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n   super.onCreate(savedInstanceState);\n   setContentView(R.layout.activity_dgame_message_edit);\n\n   Intent it = getIntent();               \n   String s = it.getStringExtra(&quot;memo&quot;); \n   position = it.getIntExtra(&quot;requestCode&quot;);\n   ...\n</code></pre>\n<p>and return it in same <code>Intent</code> next to <code>&quot;memo&quot;</code> text when <code>onSave</code> runs</p>\n<pre><code>public void onSave(View v) {    \n    Intent it2 = new Intent();\n    it2.putExtra(&quot;memo&quot;, txv.getText() + &quot; &quot; + edt.getText());\n    it2.putExtra(&quot;requestCode&quot;, position);\n    setResult(RESULT_OK, it2); \n    finish();    \n}\n</code></pre>\n<p>And change <code>&quot;requestCode&quot;</code> naming, it may be confusing...</p>\n"}],"owner":{"account_id":27374274,"reputation":5,"user_id":20879867,"display_name":"Xiayan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75010520,"answer_count":1,"score":0,"last_activity_date":1672861647,"creation_date":1672857089,"question_id":75009749,"body_markdown":"I&#39;m writing a MEMO app, but there have some problum\r\nWhen I want to edit MEMO, whatever item I choose , it always only change the first item, It only got the item number in front of the string\r\n[Like this][1]\r\nI want the result that I can change any item which I click\r\n\r\nThis is my code:\r\n\r\n ```\r\npublic class d_Game_message extends AppCompatActivity\r\n        implements AdapterView.OnItemClickListener, AdapterView.OnItemLongClickListener {\r\n\r\n    private static final int REQUEST_CODE_EDIT = 1;\r\n\r\n    String[] aMemo ={\r\n            &quot;1.按一下可以編輯備忘&quot;,\r\n            &quot;2.長按可以清除備忘&quot;,&quot;3.&quot;,&quot;4.&quot;,&quot;5.&quot;,&quot;6.&quot;};\r\n    ListView lv;\r\n    ArrayAdapter&lt;String&gt; aa;\r\n\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_dgame_message);\r\n\r\n        lv = (ListView)findViewById(R.id.listView);\r\n        aa = new ArrayAdapter&lt;&gt;(this,\r\n                android.R.layout.simple_list_item_1, aMemo);\r\n\r\n        lv.setAdapter(aa);    \r\n\r\n        lv.setOnItemClickListener(this);\r\n        lv.setOnItemLongClickListener(this);\r\n\r\n    @Override\r\n    public void onItemClick(AdapterView&lt;?&gt; a, View v, int pos, long id) {\r\n        Intent it = new Intent(this, d_Game_message_edit.class);\r\n        it.putExtra(&quot;requestCode&quot;,pos);      //附加編號\r\n        it.putExtra(&quot;memo&quot;, aMemo[pos]); //附加備忘項目的內容\r\n        activityResultLaunch.launch(it);\r\n    }\r\n\r\n\r\n    @Override\r\n    public boolean onItemLongClick(AdapterView&lt;?&gt; a, View v, int pos, long id) {\r\n        aMemo[pos] = (pos+1) + &quot;.&quot;; //將內容清除 (只剩編號)\r\n        aa.notifyDataSetChanged();  //通知 Adapter 要更新陣列內容\r\n        return true;     \t\t\t//傳回 true 表示此事件已處理\r\n    }\r\n    \r\n\r\n    ActivityResultLauncher&lt;Intent&gt; activityResultLaunch = registerForActivityResult(\r\n            new ActivityResultContracts.StartActivityForResult(),\r\n            new ActivityResultCallback&lt;ActivityResult&gt;() {\r\n                @Override\r\n                public void onActivityResult(ActivityResult result) {\r\n                    if (result.getResultCode() == RESULT_OK) {\r\n                        Intent data = result.getData();\r\n                        int requestCode = data.getIntExtra(&quot;requestCode&quot;, 0);\r\n                        aMemo[requestCode] = data.getStringExtra(&quot;memo&quot;); \r\n                        aa.notifyDataSetChanged(); \r\n                    }\r\n                }\r\n            });\r\n ```\r\n\r\nThis is edit activity\r\n\r\n ```\r\npublic class d_Game_message_edit extends AppCompatActivity {\r\n\r\n    TextView txv;\r\n    EditText edt;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_dgame_message_edit);\r\n\r\n        Intent it = getIntent();               \r\n        String s = it.getStringExtra(&quot;memo&quot;);  \r\n\r\n        txv = (TextView)findViewById(R.id.textView);\r\n        txv.setText(s.substring(0, 2));                 \r\n        edt = (EditText)findViewById(R.id.editText);\r\n        if(s.length() &gt; 3)\r\n            edt.setText(s.substring(2)); \r\n    }\r\n\r\n    public void onCancel(View v) {  \r\n        setResult(RESULT_CANCELED);\r\n        finish();    \r\n    }\r\n\r\n    public void onSave(View v) {    \r\n        Intent it2 = new Intent();\r\n        it2.putExtra(&quot;memo&quot;, txv.getText() + &quot; &quot; + edt.getText()); \r\n        setResult(RESULT_OK, it2); \r\n        finish();    \r\n    }\r\n    }\r\n ```\r\n\r\nI am a novice, thanks a lot for the help!!\r\n\r\n  [1]: https://i.stack.imgur.com/jaLsF.png","title":"Android How to change the content of the item I selected on the listview","body":"<p>I'm writing a MEMO app, but there have some problum\nWhen I want to edit MEMO, whatever item I choose , it always only change the first item, It only got the item number in front of the string\n<a href=\"https://i.stack.imgur.com/jaLsF.png\" rel=\"nofollow noreferrer\">Like this</a>\nI want the result that I can change any item which I click</p>\n<p>This is my code:</p>\n<pre><code>public class d_Game_message extends AppCompatActivity\n       implements AdapterView.OnItemClickListener, AdapterView.OnItemLongClickListener {\n\n   private static final int REQUEST_CODE_EDIT = 1;\n\n   String[] aMemo ={\n           &quot;1.按一下可以編輯備忘&quot;,\n           &quot;2.長按可以清除備忘&quot;,&quot;3.&quot;,&quot;4.&quot;,&quot;5.&quot;,&quot;6.&quot;};\n   ListView lv;\n   ArrayAdapter&lt;String&gt; aa;\n\n\n\n   @Override\n   protected void onCreate(Bundle savedInstanceState) {\n       super.onCreate(savedInstanceState);\n       setContentView(R.layout.activity_dgame_message);\n\n       lv = (ListView)findViewById(R.id.listView);\n       aa = new ArrayAdapter&lt;&gt;(this,\n               android.R.layout.simple_list_item_1, aMemo);\n\n       lv.setAdapter(aa);    \n\n       lv.setOnItemClickListener(this);\n       lv.setOnItemLongClickListener(this);\n\n   @Override\n   public void onItemClick(AdapterView&lt;?&gt; a, View v, int pos, long id) {\n       Intent it = new Intent(this, d_Game_message_edit.class);\n       it.putExtra(&quot;requestCode&quot;,pos);      //附加編號\n       it.putExtra(&quot;memo&quot;, aMemo[pos]); //附加備忘項目的內容\n       activityResultLaunch.launch(it);\n   }\n\n\n   @Override\n   public boolean onItemLongClick(AdapterView&lt;?&gt; a, View v, int pos, long id) {\n       aMemo[pos] = (pos+1) + &quot;.&quot;; //將內容清除 (只剩編號)\n       aa.notifyDataSetChanged();  //通知 Adapter 要更新陣列內容\n       return true;                //傳回 true 表示此事件已處理\n   }\n   \n\n   ActivityResultLauncher&lt;Intent&gt; activityResultLaunch = registerForActivityResult(\n           new ActivityResultContracts.StartActivityForResult(),\n           new ActivityResultCallback&lt;ActivityResult&gt;() {\n               @Override\n               public void onActivityResult(ActivityResult result) {\n                   if (result.getResultCode() == RESULT_OK) {\n                       Intent data = result.getData();\n                       int requestCode = data.getIntExtra(&quot;requestCode&quot;, 0);\n                       aMemo[requestCode] = data.getStringExtra(&quot;memo&quot;); \n                       aa.notifyDataSetChanged(); \n                   }\n               }\n           });\n</code></pre>\n<p>This is edit activity</p>\n<pre><code>public class d_Game_message_edit extends AppCompatActivity {\n\n   TextView txv;\n   EditText edt;\n\n   @Override\n   protected void onCreate(Bundle savedInstanceState) {\n       super.onCreate(savedInstanceState);\n       setContentView(R.layout.activity_dgame_message_edit);\n\n       Intent it = getIntent();               \n       String s = it.getStringExtra(&quot;memo&quot;);  \n\n       txv = (TextView)findViewById(R.id.textView);\n       txv.setText(s.substring(0, 2));                 \n       edt = (EditText)findViewById(R.id.editText);\n       if(s.length() &gt; 3)\n           edt.setText(s.substring(2)); \n   }\n\n   public void onCancel(View v) {  \n       setResult(RESULT_CANCELED);\n       finish();    \n   }\n\n   public void onSave(View v) {    \n       Intent it2 = new Intent();\n       it2.putExtra(&quot;memo&quot;, txv.getText() + &quot; &quot; + edt.getText()); \n       setResult(RESULT_OK, it2); \n       finish();    \n   }\n   }\n</code></pre>\n<p>I am a novice, thanks a lot for the help!!</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"score":0,"creation_date":1672861016,"post_id":75010426,"comment_id":132370623,"body_markdown":"Your code works fine other than the fact that `grade1:  grade2:  grade3:` all print at the same time, you want to have 3 different print statements between each `nextDouble` in order to format it correctly.","body":"Your code works fine other than the fact that <code>grade1:  grade2:  grade3:</code> all print at the same time, you want to have 3 different print statements between each <code>nextDouble</code> in order to format it correctly."},{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":0,"creation_date":1672861535,"post_id":75010426,"comment_id":132370791,"body_markdown":"Does this answer your question? [nextDouble() throws an InputMismatchException when I enter a double](https://stackoverflow.com/questions/5929120/nextdouble-throws-an-inputmismatchexception-when-i-enter-a-double)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/5929120/nextdouble-throws-an-inputmismatchexception-when-i-enter-a-double\">nextDouble() throws an InputMismatchException when I enter a double</a>"},{"owner":{"account_id":27434508,"reputation":1,"user_id":20930650,"display_name":"Braumasta"},"score":0,"creation_date":1672861601,"post_id":75010426,"comment_id":132370810,"body_markdown":"yeah i figured when i did split them to each of their own double the code worked","body":"yeah i figured when i did split them to each of their own double the code worked"}],"owner":{"account_id":27434508,"reputation":1,"user_id":20930650,"display_name":"Braumasta"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672861550,"creation_date":1672860835,"question_id":75010426,"body_markdown":"java -cp /tmp/NmkWULoGu6 Main\r\nEnter student name: mohammed\r\n\r\nEnter \r\n\r\ngrade1: 2\r\n\r\ngrade2: 5\r\n\r\ngrade3: 4\r\n\r\n    Exception in thread &quot;main&quot; java.util.InputMismatchExceptionat java.base/java.util.Scanner.throwFor(Scanner.java:939)\r\n    at java.base/java.util.Scanner.next(Scanner.java:1594)\r\n    at java.base/java.util.Scanner.nextDouble(Scanner.java:2564)\r\n    at Main.main(Main.java:8)\r\n\r\nThe error is above  I have been trying to fix the code for an hour and couldn&#39;t fix it is it wrong ?\r\n\r\nThe Code is below\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class Main{\r\n    \r\n        public static void main(String args[]){\r\n    \r\n            Scanner scan = new Scanner(System.in);\r\n    \r\n            System.out.print(&quot;Enter student name: &quot;);\r\n    \r\n            String name = scan.next();\r\n    \r\n            System.out.print(&quot;Enter \\ngrade1: \\ngrade2: \\ngrade3: &quot;);\r\n    \r\n            double grade1 = scan.nextDouble();\r\n    \r\n            double grade2 = scan.nextDouble();\r\n    \r\n            double grade3 = scan.nextDouble();\r\n    \r\n                    double average = ((grade1 * 0.25) + (grade2 * 0.25) + (grade3 * 0.50));\r\n    \r\n            System.out.println(name + &quot;, Your average is &quot; + average);\r\n    \r\n            }\r\n       } \r\n","title":"I am having an issue with this code it keeps spitting out the same error","body":"<p>java -cp /tmp/NmkWULoGu6 Main\nEnter student name: mohammed</p>\n<p>Enter</p>\n<p>grade1: 2</p>\n<p>grade2: 5</p>\n<p>grade3: 4</p>\n<pre><code>Exception in thread &quot;main&quot; java.util.InputMismatchExceptionat java.base/java.util.Scanner.throwFor(Scanner.java:939)\nat java.base/java.util.Scanner.next(Scanner.java:1594)\nat java.base/java.util.Scanner.nextDouble(Scanner.java:2564)\nat Main.main(Main.java:8)\n</code></pre>\n<p>The error is above  I have been trying to fix the code for an hour and couldn't fix it is it wrong ?</p>\n<p>The Code is below</p>\n<pre><code>import java.util.Scanner;\n\npublic class Main{\n\n    public static void main(String args[]){\n\n        Scanner scan = new Scanner(System.in);\n\n        System.out.print(&quot;Enter student name: &quot;);\n\n        String name = scan.next();\n\n        System.out.print(&quot;Enter \\ngrade1: \\ngrade2: \\ngrade3: &quot;);\n\n        double grade1 = scan.nextDouble();\n\n        double grade2 = scan.nextDouble();\n\n        double grade3 = scan.nextDouble();\n\n                double average = ((grade1 * 0.25) + (grade2 * 0.25) + (grade3 * 0.50));\n\n        System.out.println(name + &quot;, Your average is &quot; + average);\n\n        }\n   } \n</code></pre>\n"},{"tags":["java","tomcat","servlets"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1672862704,"post_id":75010282,"comment_id":132371185,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":11732452,"reputation":21,"user_id":8587449,"display_name":"Sergey Grigoriev"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672861274,"creation_date":1672860869,"answer_id":75010432,"question_id":75010282,"body_markdown":"You can override `&lt;welcome-file-list&gt;` in `$TOMCAT_HOME/conf/web.xml` or in `web.xml` of your web application.\r\n\r\nMore details you can find here: https://cwiki.apache.org/confluence/plugins/servlet/mobile?contentId=103099265#content/view/103099265\r\n","title":"How to turn off indexing in my Java Servlet Application","body":"<p>You can override <code>&lt;welcome-file-list&gt;</code> in <code>$TOMCAT_HOME/conf/web.xml</code> or in <code>web.xml</code> of your web application.</p>\n<p>More details you can find here: <a href=\"https://cwiki.apache.org/confluence/plugins/servlet/mobile?contentId=103099265#content/view/103099265\" rel=\"nofollow noreferrer\">https://cwiki.apache.org/confluence/plugins/servlet/mobile?contentId=103099265#content/view/103099265</a></p>\n"}],"owner":{"account_id":23121656,"reputation":1,"user_id":20930603,"display_name":"G H"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1672861274,"creation_date":1672860048,"question_id":75010282,"body_markdown":"While &quot;index.html&quot; file is situated at the root of my web app, the request on the root path automatically gets back that &quot;index.html&quot; file, even if there&#39;s some mapping for root path requests. \r\n\r\nHelp me pls to turn off automatical serving of index file in TomCat.  ","title":"How to turn off indexing in my Java Servlet Application","body":"<p>While &quot;index.html&quot; file is situated at the root of my web app, the request on the root path automatically gets back that &quot;index.html&quot; file, even if there's some mapping for root path requests.</p>\n<p>Help me pls to turn off automatical serving of index file in TomCat.</p>\n"},{"tags":["java","junit","junit4","junit5","test-runner"],"comments":[{"owner":{"account_id":15361,"reputation":4976,"user_id":32352,"accept_rate":62,"display_name":"johanneslink"},"score":0,"creation_date":1672560842,"post_id":74972545,"comment_id":132305836,"body_markdown":"Can you elaborate the purpose of GradedTestResult? What do you want to do with it after or during the test run? I have an inkling that the Launcher API is not really what you need, but the purpose of the annotation is not clear to me.","body":"Can you elaborate the purpose of GradedTestResult? What do you want to do with it after or during the test run? I have an inkling that the Launcher API is not really what you need, but the purpose of the annotation is not clear to me."},{"owner":{"account_id":315381,"reputation":6586,"user_id":631051,"accept_rate":85,"display_name":"Ellen Spertus"},"score":0,"creation_date":1672604690,"post_id":74972545,"comment_id":132312327,"body_markdown":"@johanneslink `GradedTestResult` collects information about each annotated test, including its name, number of points, and whether it passed. This is used to create a report. It is used for autograding student code submissions.","body":"@johanneslink <code>GradedTestResult</code> collects information about each annotated test, including its name, number of points, and whether it passed. This is used to create a report. It is used for autograding student code submissions."}],"answers":[{"comments":[{"owner":{"account_id":15361,"reputation":4976,"user_id":32352,"accept_rate":62,"display_name":"johanneslink"},"score":1,"creation_date":1672643116,"post_id":74977246,"comment_id":132317121,"body_markdown":"Have a look JUnit‘s AnnotationSupport class. It could simplify your code a bit.","body":"Have a look JUnit‘s AnnotationSupport class. It could simplify your code a bit."},{"owner":{"account_id":315381,"reputation":6586,"user_id":631051,"accept_rate":85,"display_name":"Ellen Spertus"},"score":0,"creation_date":1672681884,"post_id":74977246,"comment_id":132326983,"body_markdown":"@johanneslink Thanks very much, although it&#39;s not clear to me how that would simplify the code. I still want to execute unannotated methods, just not run the conditional code. In order to get the annotation, I&#39;d need the class, which would require an instance variable or extracting it from the `identifier`. Do you think that would be more robust than relying on `getSource()`?","body":"@johanneslink Thanks very much, although it&#39;s not clear to me how that would simplify the code. I still want to execute unannotated methods, just not run the conditional code. In order to get the annotation, I&#39;d need the class, which would require an instance variable or extracting it from the <code>identifier</code>. Do you think that would be more robust than relying on <code>getSource()</code>?"},{"owner":{"account_id":15361,"reputation":4976,"user_id":32352,"accept_rate":62,"display_name":"johanneslink"},"score":1,"creation_date":1672728681,"post_id":74977246,"comment_id":132334812,"body_markdown":"getSource() is the right way to get at the test class and method. Using AnnotationSupport allows you to treat annotations the same way JUnit does, including inheritance and meta annotations - if you want that.","body":"getSource() is the right way to get at the test class and method. Using AnnotationSupport allows you to treat annotations the same way JUnit does, including inheritance and meta annotations - if you want that."}],"tags":[],"owner":{"account_id":315381,"reputation":6586,"user_id":631051,"accept_rate":85,"display_name":"Ellen Spertus"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672861094,"creation_date":1672605298,"answer_id":74977246,"question_id":74972545,"body_markdown":"I did find a way to get annotations, but I do not know how robust it is. This is how I overrode `SummaryGeneratingListener.executionStarted(TestIdentifier identifier)`:\r\n\r\n    @Override\r\n    public void executionStarted(TestIdentifier identifier) {\r\n        super.executionStarted(identifier);\r\n        this.currentGradedTestResult = null;\r\n\r\n        // Check if this is an atomic test, not a container.\r\n        if (identifier.isTest()) {\r\n            // Check if the test&#39;s source is provided.\r\n            TestSource source = identifier.getSource().orElse(null);\r\n            // If so, and if it&#39;s a MethodSource, get and use the annotation if present.\r\n            if (source != null &amp;&amp; source instanceof MethodSource) {\r\n                GradedTest gradedTestAnnotation = ((MethodSource) source).getJavaMethod().getAnnotation(GradedTest.class);\r\n                if (gradedTestAnnotation != null) {\r\n                    this.currentGradedTestResult = new GradedTestResult(\r\n                            gradedTestAnnotation.name(),\r\n                            gradedTestAnnotation.number(),\r\n                            gradedTestAnnotation.points(),\r\n                            gradedTestAnnotation.visibility()\r\n                    );\r\n\r\n                    this.currentGradedTestResult.setScore(gradedTestAnnotation.points());\r\n                }\r\n            }\r\n        }\r\n\r\n        this.testOutput = new ByteArrayOutputStream();\r\n        System.setOut(new PrintStream(this.testOutput));\r\n    }\r\n\r\nThe weak link is [`TestIdentifier.getSource()`](https://junit.org/junit5/docs/5.8.2/api/org.junit.platform.launcher/org/junit/platform/launcher/TestIdentifier.html#getSource()). The documentation says it gets &quot;the source of the represented test or container, _if available_.&quot; It works for my tests, but I don&#39;t know under what circumstances the source is (not) available.\r\n","title":"How to access an annotation value (JUnit 4 -&gt; JUnit 5)","body":"<p>I did find a way to get annotations, but I do not know how robust it is. This is how I overrode <code>SummaryGeneratingListener.executionStarted(TestIdentifier identifier)</code>:</p>\n<pre><code>@Override\npublic void executionStarted(TestIdentifier identifier) {\n    super.executionStarted(identifier);\n    this.currentGradedTestResult = null;\n\n    // Check if this is an atomic test, not a container.\n    if (identifier.isTest()) {\n        // Check if the test's source is provided.\n        TestSource source = identifier.getSource().orElse(null);\n        // If so, and if it's a MethodSource, get and use the annotation if present.\n        if (source != null &amp;&amp; source instanceof MethodSource) {\n            GradedTest gradedTestAnnotation = ((MethodSource) source).getJavaMethod().getAnnotation(GradedTest.class);\n            if (gradedTestAnnotation != null) {\n                this.currentGradedTestResult = new GradedTestResult(\n                        gradedTestAnnotation.name(),\n                        gradedTestAnnotation.number(),\n                        gradedTestAnnotation.points(),\n                        gradedTestAnnotation.visibility()\n                );\n\n                this.currentGradedTestResult.setScore(gradedTestAnnotation.points());\n            }\n        }\n    }\n\n    this.testOutput = new ByteArrayOutputStream();\n    System.setOut(new PrintStream(this.testOutput));\n}\n</code></pre>\n<p>The weak link is <a href=\"https://junit.org/junit5/docs/5.8.2/api/org.junit.platform.launcher/org/junit/platform/launcher/TestIdentifier.html#getSource()\" rel=\"nofollow noreferrer\"><code>TestIdentifier.getSource()</code></a>. The documentation says it gets &quot;the source of the represented test or container, <em>if available</em>.&quot; It works for my tests, but I don't know under what circumstances the source is (not) available.</p>\n"}],"owner":{"account_id":315381,"reputation":6586,"user_id":631051,"accept_rate":85,"display_name":"Ellen Spertus"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":203,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74977246,"answer_count":1,"score":0,"last_activity_date":1672861094,"creation_date":1672530190,"question_id":74972545,"body_markdown":"I am trying to port a project from JUnit 4 to JUnit 5. The project includes a custom runner that has a listener that detects whether a test has a certain annotation (`@GradedTest`) and accesses the annotation&#39;s key-value pairs. For example, it would be able to access the values associated with `name` and `points` in this code:\r\n\r\n    @Test\r\n    @GradedTest(name = &quot;greet() test&quot;, points = &quot;1&quot;)\r\n    public void defaultGreeting() {\r\n        assertEquals(GREETING, unit.greet());\r\n    }\r\n\r\n\r\nThe existing JUnit 4 code has a [listener](https://github.com/tkutcher/jgrade/blob/dev/src/main/java/com/github/tkutcher/jgrade/gradedtest/GradedTestListener.java) that extends `RunListener` and [overrides](https://github.com/tkutcher/jgrade/blob/6049a0acfb17d829fb61488f9763913f3d7f65d7/src/main/java/com/github/tkutcher/jgrade/gradedtest/GradedTestListener.java#L81) `testStarted()`:\r\n\r\n    @Override\r\n    public void testStarted(Description description) throws Exception {\r\n        super.testStarted(description);\r\n\r\n        this.currentGradedTestResult = null;\r\n\r\n        GradedTest gradedTestAnnotation = description.getAnnotation(GradedTest.class);\r\n        if (gradedTestAnnotation != null) {\r\n            this.currentGradedTestResult =  new GradedTestResult(\r\n                    gradedTestAnnotation.name(),\r\n                    gradedTestAnnotation.number(),\r\n                    gradedTestAnnotation.points(),\r\n                    gradedTestAnnotation.visibility()\r\n            );\r\n        }\r\n    }\r\n\r\nNote that this makes use of [`Description.getAnnotation()`](https://junit.org/junit4/javadoc/4.13/org/junit/runner/Description.html#getAnnotation(java.lang.Class)).\r\n\r\nI am trying to switch to the [JUnit Platform Launcher API][2]. I can use a [`LauncherDiscoveryRequestBuilder`](https://junit.org/junit5/docs/5.1.1/api/org/junit/platform/launcher/core/LauncherDiscoveryRequestBuilder.html) to select the tests I want to run, and I can create listeners that extend [`SummaryGeneratingListener`](https://junit.org/junit5/docs/5.0.0/api/org/junit/platform/launcher/listeners/SummaryGeneratingListener.html) and override [`executionStarted(TestIdentifier testIdentifier)`](https://junit.org/junit5/docs/5.0.0/api/org/junit/platform/launcher/listeners/SummaryGeneratingListener.html#executionStarted-org.junit.platform.launcher.TestIdentifier-). I see no way, however, to get an annotation and its values from a [`TestIdentifier`](https://junit.org/junit5/docs/5.0.0/api/org/junit/platform/launcher/TestIdentifier.html).\r\n\r\nWhat is the JUnit 5 equivalent of [`Description.getAnnotation()`](https://junit.org/junit4/javadoc/4.13/org/junit/runner/Description.html#getAnnotation(java.lang.Class)) or the new way of getting a test annotation&#39;s values?\r\n\r\n\r\n  [2]: https://junit.org/junit5/docs/current/user-guide/#launcher-api","title":"How to access an annotation value (JUnit 4 -&gt; JUnit 5)","body":"<p>I am trying to port a project from JUnit 4 to JUnit 5. The project includes a custom runner that has a listener that detects whether a test has a certain annotation (<code>@GradedTest</code>) and accesses the annotation's key-value pairs. For example, it would be able to access the values associated with <code>name</code> and <code>points</code> in this code:</p>\n<pre><code>@Test\n@GradedTest(name = &quot;greet() test&quot;, points = &quot;1&quot;)\npublic void defaultGreeting() {\n    assertEquals(GREETING, unit.greet());\n}\n</code></pre>\n<p>The existing JUnit 4 code has a <a href=\"https://github.com/tkutcher/jgrade/blob/dev/src/main/java/com/github/tkutcher/jgrade/gradedtest/GradedTestListener.java\" rel=\"nofollow noreferrer\">listener</a> that extends <code>RunListener</code> and <a href=\"https://github.com/tkutcher/jgrade/blob/6049a0acfb17d829fb61488f9763913f3d7f65d7/src/main/java/com/github/tkutcher/jgrade/gradedtest/GradedTestListener.java#L81\" rel=\"nofollow noreferrer\">overrides</a> <code>testStarted()</code>:</p>\n<pre><code>@Override\npublic void testStarted(Description description) throws Exception {\n    super.testStarted(description);\n\n    this.currentGradedTestResult = null;\n\n    GradedTest gradedTestAnnotation = description.getAnnotation(GradedTest.class);\n    if (gradedTestAnnotation != null) {\n        this.currentGradedTestResult =  new GradedTestResult(\n                gradedTestAnnotation.name(),\n                gradedTestAnnotation.number(),\n                gradedTestAnnotation.points(),\n                gradedTestAnnotation.visibility()\n        );\n    }\n}\n</code></pre>\n<p>Note that this makes use of <a href=\"https://junit.org/junit4/javadoc/4.13/org/junit/runner/Description.html#getAnnotation(java.lang.Class)\" rel=\"nofollow noreferrer\"><code>Description.getAnnotation()</code></a>.</p>\n<p>I am trying to switch to the <a href=\"https://junit.org/junit5/docs/current/user-guide/#launcher-api\" rel=\"nofollow noreferrer\">JUnit Platform Launcher API</a>. I can use a <a href=\"https://junit.org/junit5/docs/5.1.1/api/org/junit/platform/launcher/core/LauncherDiscoveryRequestBuilder.html\" rel=\"nofollow noreferrer\"><code>LauncherDiscoveryRequestBuilder</code></a> to select the tests I want to run, and I can create listeners that extend <a href=\"https://junit.org/junit5/docs/5.0.0/api/org/junit/platform/launcher/listeners/SummaryGeneratingListener.html\" rel=\"nofollow noreferrer\"><code>SummaryGeneratingListener</code></a> and override <a href=\"https://junit.org/junit5/docs/5.0.0/api/org/junit/platform/launcher/listeners/SummaryGeneratingListener.html#executionStarted-org.junit.platform.launcher.TestIdentifier-\" rel=\"nofollow noreferrer\"><code>executionStarted(TestIdentifier testIdentifier)</code></a>. I see no way, however, to get an annotation and its values from a <a href=\"https://junit.org/junit5/docs/5.0.0/api/org/junit/platform/launcher/TestIdentifier.html\" rel=\"nofollow noreferrer\"><code>TestIdentifier</code></a>.</p>\n<p>What is the JUnit 5 equivalent of <a href=\"https://junit.org/junit4/javadoc/4.13/org/junit/runner/Description.html#getAnnotation(java.lang.Class)\" rel=\"nofollow noreferrer\"><code>Description.getAnnotation()</code></a> or the new way of getting a test annotation's values?</p>\n"},{"tags":["java","sqlite","gradle","build.gradle"],"comments":[{"owner":{"account_id":6948780,"reputation":431,"user_id":5332102,"display_name":"G&#246;khan Polat"},"score":0,"creation_date":1672861481,"post_id":75010303,"comment_id":132370780,"body_markdown":"Did you run &quot;gradle clean build&quot; command in gradle file directory?","body":"Did you run &quot;gradle clean build&quot; command in gradle file directory?"},{"owner":{"account_id":21633799,"reputation":11,"user_id":15956986,"display_name":"EzequielS121"},"score":0,"creation_date":1672869351,"post_id":75010303,"comment_id":132373111,"body_markdown":"Yes, I did, and then I rebuilt the project.","body":"Yes, I did, and then I rebuilt the project."},{"owner":{"account_id":6948780,"reputation":431,"user_id":5332102,"display_name":"G&#246;khan Polat"},"score":0,"creation_date":1672909762,"post_id":75010303,"comment_id":132380525,"body_markdown":"There might be conflicting dependencies. Check gradle dependency tree to see if you dependency is overwritten","body":"There might be conflicting dependencies. Check gradle dependency tree to see if you dependency is overwritten"},{"owner":{"account_id":7719031,"reputation":2254,"user_id":5845802,"display_name":"PrasadU"},"score":0,"creation_date":1672914464,"post_id":75010303,"comment_id":132382039,"body_markdown":"how do you run the main ? via gradle or by command line or some custom script ? `gradle run` seems to work ok for me","body":"how do you run the main ? via gradle or by command line or some custom script ? <code>gradle run</code> seems to work ok for me"},{"owner":{"account_id":21633799,"reputation":11,"user_id":15956986,"display_name":"EzequielS121"},"score":0,"creation_date":1672938387,"post_id":75010303,"comment_id":132390869,"body_markdown":"@G&#246;khanPolat I don&#39;t know how to do that, could you provide me with a link please?","body":"@G&#246;khanPolat I don&#39;t know how to do that, could you provide me with a link please?"},{"owner":{"account_id":21633799,"reputation":11,"user_id":15956986,"display_name":"EzequielS121"},"score":0,"creation_date":1672939087,"post_id":75010303,"comment_id":132391115,"body_markdown":"@PrasadU I ran it both ways and it still didn&#39;t import the libraries.","body":"@PrasadU I ran it both ways and it still didn&#39;t import the libraries."}],"owner":{"account_id":21633799,"reputation":11,"user_id":15956986,"display_name":"EzequielS121"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672860428,"creation_date":1672860189,"question_id":75010303,"body_markdown":"First of all, I&#39;m pretty new to Gradle. My problem is that Gradle isn&#39;t adding the SQLite JAR files to my project even though I included them in my build.gradle file and the project was built correctly.\r\n\r\nI followed the following tutorial in order to build my Java project with Gradle:\r\n[Building Java Applications Sample](https://docs.gradle.org/current/samples/sample_building_java_applications.html)\r\nThen I added the following code to my build.gradle file:\r\n\r\n```\r\nplugins {\r\n    // Apply the application plugin to add support for building a CLI application in Java.\r\n    id &#39;application&#39;\r\n}\r\n\r\nrepositories {\r\n    // Use Maven Central for resolving dependencies.\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    // This dependency is used by the application.\r\n    implementation &#39;com.google.guava:guava:31.1-jre&#39;\r\n    implementation &#39;com.toedter:jcalendar:1.4&#39;\r\n    implementation group: &#39;org.xerial&#39;, name: &#39;sqlite-jdbc&#39;, version: &#39;3.40.0.0&#39;\r\n}\r\n\r\ntesting {\r\n    suites {\r\n        // Configure the built-in test suite\r\n        test {\r\n            // Use JUnit Jupiter test framework\r\n            useJUnitJupiter(&#39;5.9.1&#39;)\r\n        }\r\n    }\r\n}\r\n\r\napplication {\r\n    // Define the main class for the application.\r\n    mainClass = &#39;myApp.App&#39;\r\n}\r\n```\r\n\r\nNotice that I&#39;ve also used the JCalendar library, which works just fine.\r\nDespite being able to build the project succesfully and using the JCalendar library, when I check if the SQLite library is available I can&#39;t find nor use it. Also, when I execute the following code:\r\n\r\n```\r\npublic static void main( String args[] ) {\r\n\t\tConnection c = null;\r\n\t\ttry {\r\n\t\t\tClass.forName(&quot;org.sqlite.JDBC&quot;);\r\n\t\t\tc = DriverManager.getConnection(&quot;jdbc:sqlite:database.db&quot;);\r\n\t\t} catch ( Exception e ) {\r\n\t\t\tSystem.err.println( e.getClass().getName() + &quot;: &quot; + e.getMessage() );\r\n\t\t\tSystem.exit(0);\r\n\t\t}\r\n\t\tSystem.out.println(&quot;Opened database successfully&quot;);\r\n\t}\r\n```\r\n\r\nI get the following error:\r\n`java.lang.ClassNotFoundException: org.sqlite.JDBC`\r\nAny suggestions?","title":"Why isn&#39;t Gradle adding the SQLite JAR files to my Java project?","body":"<p>First of all, I'm pretty new to Gradle. My problem is that Gradle isn't adding the SQLite JAR files to my project even though I included them in my build.gradle file and the project was built correctly.</p>\n<p>I followed the following tutorial in order to build my Java project with Gradle:\n<a href=\"https://docs.gradle.org/current/samples/sample_building_java_applications.html\" rel=\"nofollow noreferrer\">Building Java Applications Sample</a>\nThen I added the following code to my build.gradle file:</p>\n<pre><code>plugins {\n    // Apply the application plugin to add support for building a CLI application in Java.\n    id 'application'\n}\n\nrepositories {\n    // Use Maven Central for resolving dependencies.\n    mavenCentral()\n}\n\ndependencies {\n    // This dependency is used by the application.\n    implementation 'com.google.guava:guava:31.1-jre'\n    implementation 'com.toedter:jcalendar:1.4'\n    implementation group: 'org.xerial', name: 'sqlite-jdbc', version: '3.40.0.0'\n}\n\ntesting {\n    suites {\n        // Configure the built-in test suite\n        test {\n            // Use JUnit Jupiter test framework\n            useJUnitJupiter('5.9.1')\n        }\n    }\n}\n\napplication {\n    // Define the main class for the application.\n    mainClass = 'myApp.App'\n}\n</code></pre>\n<p>Notice that I've also used the JCalendar library, which works just fine.\nDespite being able to build the project succesfully and using the JCalendar library, when I check if the SQLite library is available I can't find nor use it. Also, when I execute the following code:</p>\n<pre><code>public static void main( String args[] ) {\n        Connection c = null;\n        try {\n            Class.forName(&quot;org.sqlite.JDBC&quot;);\n            c = DriverManager.getConnection(&quot;jdbc:sqlite:database.db&quot;);\n        } catch ( Exception e ) {\n            System.err.println( e.getClass().getName() + &quot;: &quot; + e.getMessage() );\n            System.exit(0);\n        }\n        System.out.println(&quot;Opened database successfully&quot;);\n    }\n</code></pre>\n<p>I get the following error:\n<code>java.lang.ClassNotFoundException: org.sqlite.JDBC</code>\nAny suggestions?</p>\n"},{"tags":["java","spring-boot","lombok"],"comments":[{"owner":{"account_id":10308879,"reputation":517,"user_id":7605320,"display_name":"Marco"},"score":0,"creation_date":1672325799,"post_id":74952527,"comment_id":132268140,"body_markdown":"Did u clean the project? and if you have io.spring.dependency-management you can leave the responsibility to set the correct version of lombok to spring like:\n\n `implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\n  compileOnly &#39;org.projectlombok:lombok&#39;\n  annotationProcessor &#39;org.projectlombok:lombok&#39;\n`","body":"Did u clean the project? and if you have io.spring.dependency-management you can leave the responsibility to set the correct version of lombok to spring like:   <code>implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;   compileOnly &#39;org.projectlombok:lombok&#39;   annotationProcessor &#39;org.projectlombok:lombok&#39; </code>"}],"answers":[{"tags":[],"owner":{"account_id":27365656,"reputation":49,"user_id":20872564,"display_name":"Guilherme de Mira"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1672327803,"creation_date":1672327803,"answer_id":74953023,"question_id":74952527,"body_markdown":"You can leave it to Spring to manage the Lombok version.\r\n\r\nHere&#39;s an example if you&#39;re using **Maven**:\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n\t\t\t    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t    &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t    &lt;optional&gt;true&lt;/optional&gt;\r\n\t    &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n\r\n    &lt;build&gt;\r\n\t\t&lt;finalName&gt;project-name&lt;/finalName&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.8.1&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;source&gt;17&lt;/source&gt;\r\n\t\t\t\t\t&lt;target&gt;17&lt;/target&gt;\r\n\t\t\t\t\t&lt;annotationProcessorPaths&gt;\r\n\t\t\t\t\t\t&lt;path&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t&lt;version&gt;${lombok.version}&lt;/version&gt;\r\n\t\t\t\t\t\t&lt;/path&gt;\r\n\t\t\t\t\t&lt;/annotationProcessorPaths&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\nRun `mvn clean install` on your terminal to test it.\r\n    \r\n\r\n\r\n","title":"Spring Boot 3 with Lombok","body":"<p>You can leave it to Spring to manage the Lombok version.</p>\n<p>Here's an example if you're using <strong>Maven</strong>:</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n\n&lt;build&gt;\n    &lt;finalName&gt;project-name&lt;/finalName&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.8.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;17&lt;/source&gt;\n                &lt;target&gt;17&lt;/target&gt;\n                &lt;annotationProcessorPaths&gt;\n                    &lt;path&gt;\n                        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;version&gt;${lombok.version}&lt;/version&gt;\n                    &lt;/path&gt;\n                &lt;/annotationProcessorPaths&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>Run <code>mvn clean install</code> on your terminal to test it.</p>\n"},{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"comment_count":0,"down_vote_count":1,"up_vote_count":7,"is_accepted":true,"score":6,"last_activity_date":1672333553,"creation_date":1672333553,"answer_id":74954046,"question_id":74952527,"body_markdown":" You should update to the lattest version of lombok `1.18.24` which runs without problems with `spring-boot-3.0.1`\r\n\r\n      &lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.18.24&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n\r\nProblem is not occuring actually from `spring-boot` but from `jdk` since `spring-boot-3` requires as minimum `jdk17` and older versions of lombok are not compatible with `jdk17` or newer.\r\n\r\nAs can be seen from [changelog][1] `lombok 1.18.22` is the first version compatible with jdk17.\r\n\r\n\r\n  [1]: https://projectlombok.org/changelog","title":"Spring Boot 3 with Lombok","body":"<p>You should update to the lattest version of lombok <code>1.18.24</code> which runs without problems with <code>spring-boot-3.0.1</code></p>\n<pre><code>  &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;version&gt;1.18.24&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Problem is not occuring actually from <code>spring-boot</code> but from <code>jdk</code> since <code>spring-boot-3</code> requires as minimum <code>jdk17</code> and older versions of lombok are not compatible with <code>jdk17</code> or newer.</p>\n<p>As can be seen from <a href=\"https://projectlombok.org/changelog\" rel=\"noreferrer\">changelog</a> <code>lombok 1.18.22</code> is the first version compatible with jdk17.</p>\n"}],"owner":{"account_id":1360570,"reputation":5882,"user_id":1298028,"accept_rate":85,"display_name":"Łukasz Rzeszotarski"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9396,"favorite_count":0,"down_vote_count":1,"up_vote_count":9,"accepted_answer_id":74954046,"answer_count":2,"score":8,"last_activity_date":1672860270,"creation_date":1672325005,"question_id":74952527,"body_markdown":"After I upgraded my project from Spring Boot 2.7 to 3.0 I am getting \r\n\r\n&gt; cannot find symbol\r\n\r\ncompiler errors because of Lombok generated code. \r\n\r\nIs there any way to make it work together - Spring Boot 3 and Lombok annotations. ","title":"Spring Boot 3 with Lombok","body":"<p>After I upgraded my project from Spring Boot 2.7 to 3.0 I am getting</p>\n<blockquote>\n<p>cannot find symbol</p>\n</blockquote>\n<p>compiler errors because of Lombok generated code.</p>\n<p>Is there any way to make it work together - Spring Boot 3 and Lombok annotations.</p>\n"},{"tags":["java","windows","apache-spark","hadoop"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1671723272,"post_id":74881854,"comment_id":132163430,"body_markdown":"HADOOP_HOME needs to be the actual hadoop install directory, not the winutils directory. You should upgrade Spark, though, anyway for other reasons and use Java 11","body":"HADOOP_HOME needs to be the actual hadoop install directory, not the winutils directory. You should upgrade Spark, though, anyway for other reasons and use Java 11"},{"owner":{"account_id":27321084,"reputation":1,"user_id":20834765,"display_name":"Luke J Callaghan"},"score":0,"creation_date":1672850931,"post_id":74881854,"comment_id":132367317,"body_markdown":"Upgrading spark did not help.  If I point HADOOP_HOME to anywhere else than where it is right now, my program crashes much earlier.  As it stands, the crash happens when I try to write the data frame to my local FS, but when HADOOP_HOME points anywhere else, it crashes far before this.","body":"Upgrading spark did not help.  If I point HADOOP_HOME to anywhere else than where it is right now, my program crashes much earlier.  As it stands, the crash happens when I try to write the data frame to my local FS, but when HADOOP_HOME points anywhere else, it crashes far before this."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1672860211,"post_id":74881854,"comment_id":132370334,"body_markdown":"I have not used Hadoop/Spark on Windows in years. Is there a specific reason you need to do that compared to using WSL2? That way, it doesn&#39;t need any DLL files, or winutils, etc.","body":"I have not used Hadoop/Spark on Windows in years. Is there a specific reason you need to do that compared to using WSL2? That way, it doesn&#39;t need any DLL files, or winutils, etc."},{"owner":{"account_id":161047,"reputation":121,"user_id":381534,"display_name":"S&#246;ren Brunk"},"score":0,"creation_date":1688642020,"post_id":74881854,"comment_id":135102716,"body_markdown":"You could try the windows `FileSystem` implementation as shown in https://stackoverflow.com/a/74376758/381534","body":"You could try the windows <code>FileSystem</code> implementation as shown in <a href=\"https://stackoverflow.com/a/74376758/381534\">stackoverflow.com/a/74376758/381534</a>"}],"owner":{"account_id":27321084,"reputation":1,"user_id":20834765,"display_name":"Luke J Callaghan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":538,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672860179,"creation_date":1671657444,"question_id":74881854,"body_markdown":"I am using Spark version 3.0.3, and I am having trouble with an &quot;Unsatisfied Link Error&quot; when trying to save Spark Data Frame to my local disk on Windows.  The error originates from &quot;NativeIO$Windows.createFileWithMode0&quot;.  I have tried searching for this error on Stack Overflow and other places, but most of the results talk about installing winutils.exe in the correct place, something I have already done.\r\n\r\nI have `HADOOP_HOME=C://Tools/winutils`, and inside of `C://Tools/winutils` I have `C://Tools/winutils/bin/winutils.exe`.  I have also tried putting hadoop.dll inside of that directory, but no luck there either.  I&#39;ve tried 64-bit winutils, and 32-bit winutils with various versions of each but nothing seems to work.  I am using a 64-bit 1.8 Java JDK, but I&#39;ve tried 32-bit as well, and still the same error.  I have also tried upgrading Spark to 3.2.3, but that doesn&#39;t help either.\r\n\r\nHere is the exact line of code that crashes my Spark program:\r\n\r\n```\r\ndf.write()\r\n    .option(&quot;maxRecordsPerFile&quot;, 10000)\r\n    .option(&quot;compression&quot;, &quot;gzip&quot;)\r\n    .mode(&quot;overwrite&quot;)\r\n    .format(codec)\r\n    .save(parquetDir);\r\n```\r\n\r\nI&#39;ve tried changing where the save file directory points to, changing the codes from &quot;parquet&quot; to &quot;csv&quot;, and I&#39;ve tried removing each of the `.option()` options as well.\r\n\r\nI&#39;m pretty sure it isn&#39;t a permissions issue, as I&#39;ve used the regular Java file API to create files in that location. Adding the line `new File(parquetDir + &quot;/test.txt&quot;).createNewFile()` creates a new file in `parquetDir` just fine.\r\n\r\nDoes anyone have any suggestions for what I can do to fix this issue?  Other people I&#39;ve spoken with have followed the same directions as me, but it&#39;s worked for them, so I can&#39;t figure out where I am going wrong.\r\n\r\nHere is a little more from the stack trace to give more info:\r\n\r\n```\r\njava.lang.UnsatisfiedLinkError: org.apache.hadoop.io.nativeio.NativeIO$Windows.createFileWithMode0(Ljava/lang/String;JJJI)Ljava/io/FileDescriptor;\r\n\tat org.apache.hadoop.io.nativeio.NativeIO$Windows.createFileWithMode0(Native Method)\r\n\tat org.apache.hadoop.io.nativeio.NativeIO$Windows.createFileOutputStreamWithMode(NativeIO.java:556)\r\n\tat org.apache.hadoop.fs.RawLocalFileSystem$LocalFSFileOutputStream.&lt;init&gt;(RawLocalFileSystem.java:231)\r\n\tat org.apache.hadoop.fs.RawLocalFileSystem$LocalFSFileOutputStream.&lt;init&gt;(RawLocalFileSystem.java:221)\r\n\tat org.apache.hadoop.fs.RawLocalFileSystem.createOutputStreamWithMode(RawLocalFileSystem.java:319)\r\n\tat org.apache.hadoop.fs.RawLocalFileSystem.create(RawLocalFileSystem.java:307)\r\n\tat org.apache.hadoop.fs.RawLocalFileSystem.create(RawLocalFileSystem.java:339)\r\n\tat org.apache.hadoop.fs.ChecksumFileSystem$ChecksumFSOutputSummer.&lt;init&gt;(ChecksumFileSystem.java:399)\r\n\tat org.apache.hadoop.fs.ChecksumFileSystem.create(ChecksumFileSystem.java:462)\r\n\tat org.apache.hadoop.fs.ChecksumFileSystem.create(ChecksumFileSystem.java:441)\r\n\tat org.apache.hadoop.fs.FileSystem.create(FileSystem.java:929)\r\n\tat org.apache.hadoop.fs.FileSystem.create(FileSystem.java:910)\r\n\tat org.apache.parquet.hadoop.util.HadoopOutputFile.create(HadoopOutputFile.java:74)\r\n\tat org.apache.parquet.hadoop.ParquetFileWriter.&lt;init&gt;(ParquetFileWriter.java:248)\r\n\tat org.apache.parquet.hadoop.ParquetOutputFormat.getRecordWriter(ParquetOutputFormat.java:390)\r\n\tat org.apache.parquet.hadoop.ParquetOutputFormat.getRecordWriter(ParquetOutputFormat.java:349)\r\n\tat org.apache.spark.sql.execution.datasources.parquet.ParquetOutputWriter.&lt;init&gt;(ParquetOutputWriter.scala:37)\r\n\tat org.apache.spark.sql.execution.datasources.parquet.ParquetFileFormat$$anon$1.newInstance(ParquetFileFormat.scala:150)\r\n\tat org.apache.spark.sql.execution.datasources.SingleDirectoryDataWriter.newOutputWriter(FileFormatDataWriter.scala:126)\r\n\tat org.apache.spark.sql.execution.datasources.SingleDirectoryDataWriter.&lt;init&gt;(FileFormatDataWriter.scala:111)\r\n\tat org.apache.spark.sql.execution.datasources.FileFormatWriter$.executeTask(FileFormatWriter.scala:269)\r\n\tat org.apache.spark.sql.execution.datasources.FileFormatWriter$.$anonfun$write$15(FileFormatWriter.scala:210)\r\n\tat org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:90)\r\n\tat org.apache.spark.scheduler.Task.run(Task.scala:127)\r\n\tat org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$3(Executor.scala:463)\r\n\tat org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1377)\r\n\tat org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:466)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n2022-12-21 15:56:34 WARN  TaskSetManager:69 - Lost task 0.0 in stage 1.0 (TID 1, P23566.ieee.org, executor driver): java.lang.UnsatisfiedLinkError: org.apache.hadoop.io.nativeio.NativeIO$Windows.createFileWithMode0(Ljava/lang/String;JJJI)Ljava/io/FileDescriptor;\r\n\tat org.apache.hadoop.io.nativeio.NativeIO$Windows.createFileWithMode0(Native Method)\r\n\tat org.apache.hadoop.io.nativeio.NativeIO$Windows.createFileOutputStreamWithMode(NativeIO.java:556)\r\n\tat org.apache.hadoop.fs.RawLocalFileSystem$LocalFSFileOutputStream.&lt;init&gt;(RawLocalFileSystem.java:231)\r\n\tat org.apache.hadoop.fs.RawLocalFileSystem$LocalFSFileOutputStream.&lt;init&gt;(RawLocalFileSystem.java:221)\r\n\tat org.apache.hadoop.fs.RawLocalFileSystem.createOutputStreamWithMode(RawLocalFileSystem.java:319)\r\n\tat org.apache.hadoop.fs.RawLocalFileSystem.create(RawLocalFileSystem.java:307)\r\n\tat org.apache.hadoop.fs.RawLocalFileSystem.create(RawLocalFileSystem.java:339)\r\n\tat org.apache.hadoop.fs.ChecksumFileSystem$ChecksumFSOutputSummer.&lt;init&gt;(ChecksumFileSystem.java:399)\r\n\tat org.apache.hadoop.fs.ChecksumFileSystem.create(ChecksumFileSystem.java:462)\r\n\tat org.apache.hadoop.fs.ChecksumFileSystem.create(ChecksumFileSystem.java:441)\r\n\tat org.apache.hadoop.fs.FileSystem.create(FileSystem.java:929)\r\n\tat org.apache.hadoop.fs.FileSystem.create(FileSystem.java:910)\r\n\tat org.apache.parquet.hadoop.util.HadoopOutputFile.create(HadoopOutputFile.java:74)\r\n\tat org.apache.parquet.hadoop.ParquetFileWriter.&lt;init&gt;(ParquetFileWriter.java:248)\r\n\tat org.apache.parquet.hadoop.ParquetOutputFormat.getRecordWriter(ParquetOutputFormat.java:390)\r\n\tat org.apache.parquet.hadoop.ParquetOutputFormat.getRecordWriter(ParquetOutputFormat.java:349)\r\n\tat org.apache.spark.sql.execution.datasources.parquet.ParquetOutputWriter.&lt;init&gt;(ParquetOutputWriter.scala:37)\r\n\tat org.apache.spark.sql.execution.datasources.parquet.ParquetFileFormat$$anon$1.newInstance(ParquetFileFormat.scala:150)\r\n\tat org.apache.spark.sql.execution.datasources.SingleDirectoryDataWriter.newOutputWriter(FileFormatDataWriter.scala:126)\r\n\tat org.apache.spark.sql.execution.datasources.SingleDirectoryDataWriter.&lt;init&gt;(FileFormatDataWriter.scala:111)\r\n\tat org.apache.spark.sql.execution.datasources.FileFormatWriter$.executeTask(FileFormatWriter.scala:269)\r\n\tat org.apache.spark.sql.execution.datasources.FileFormatWriter$.$anonfun$write$15(FileFormatWriter.scala:210)\r\n\tat org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:90)\r\n\tat org.apache.spark.scheduler.Task.run(Task.scala:127)\r\n\tat org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$3(Executor.scala:463)\r\n\tat org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1377)\r\n\tat org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:466)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n\r\n```\r\n","title":"Spark/Hadoop: Getting &quot;Unsatisfied Link Error: NativeIO$Windows.createFileWithMode0&quot; (with winutils.exe installed correctly)","body":"<p>I am using Spark version 3.0.3, and I am having trouble with an &quot;Unsatisfied Link Error&quot; when trying to save Spark Data Frame to my local disk on Windows.  The error originates from &quot;NativeIO$Windows.createFileWithMode0&quot;.  I have tried searching for this error on Stack Overflow and other places, but most of the results talk about installing winutils.exe in the correct place, something I have already done.</p>\n<p>I have <code>HADOOP_HOME=C://Tools/winutils</code>, and inside of <code>C://Tools/winutils</code> I have <code>C://Tools/winutils/bin/winutils.exe</code>.  I have also tried putting hadoop.dll inside of that directory, but no luck there either.  I've tried 64-bit winutils, and 32-bit winutils with various versions of each but nothing seems to work.  I am using a 64-bit 1.8 Java JDK, but I've tried 32-bit as well, and still the same error.  I have also tried upgrading Spark to 3.2.3, but that doesn't help either.</p>\n<p>Here is the exact line of code that crashes my Spark program:</p>\n<pre><code>df.write()\n    .option(&quot;maxRecordsPerFile&quot;, 10000)\n    .option(&quot;compression&quot;, &quot;gzip&quot;)\n    .mode(&quot;overwrite&quot;)\n    .format(codec)\n    .save(parquetDir);\n</code></pre>\n<p>I've tried changing where the save file directory points to, changing the codes from &quot;parquet&quot; to &quot;csv&quot;, and I've tried removing each of the <code>.option()</code> options as well.</p>\n<p>I'm pretty sure it isn't a permissions issue, as I've used the regular Java file API to create files in that location. Adding the line <code>new File(parquetDir + &quot;/test.txt&quot;).createNewFile()</code> creates a new file in <code>parquetDir</code> just fine.</p>\n<p>Does anyone have any suggestions for what I can do to fix this issue?  Other people I've spoken with have followed the same directions as me, but it's worked for them, so I can't figure out where I am going wrong.</p>\n<p>Here is a little more from the stack trace to give more info:</p>\n<pre><code>java.lang.UnsatisfiedLinkError: org.apache.hadoop.io.nativeio.NativeIO$Windows.createFileWithMode0(Ljava/lang/String;JJJI)Ljava/io/FileDescriptor;\n    at org.apache.hadoop.io.nativeio.NativeIO$Windows.createFileWithMode0(Native Method)\n    at org.apache.hadoop.io.nativeio.NativeIO$Windows.createFileOutputStreamWithMode(NativeIO.java:556)\n    at org.apache.hadoop.fs.RawLocalFileSystem$LocalFSFileOutputStream.&lt;init&gt;(RawLocalFileSystem.java:231)\n    at org.apache.hadoop.fs.RawLocalFileSystem$LocalFSFileOutputStream.&lt;init&gt;(RawLocalFileSystem.java:221)\n    at org.apache.hadoop.fs.RawLocalFileSystem.createOutputStreamWithMode(RawLocalFileSystem.java:319)\n    at org.apache.hadoop.fs.RawLocalFileSystem.create(RawLocalFileSystem.java:307)\n    at org.apache.hadoop.fs.RawLocalFileSystem.create(RawLocalFileSystem.java:339)\n    at org.apache.hadoop.fs.ChecksumFileSystem$ChecksumFSOutputSummer.&lt;init&gt;(ChecksumFileSystem.java:399)\n    at org.apache.hadoop.fs.ChecksumFileSystem.create(ChecksumFileSystem.java:462)\n    at org.apache.hadoop.fs.ChecksumFileSystem.create(ChecksumFileSystem.java:441)\n    at org.apache.hadoop.fs.FileSystem.create(FileSystem.java:929)\n    at org.apache.hadoop.fs.FileSystem.create(FileSystem.java:910)\n    at org.apache.parquet.hadoop.util.HadoopOutputFile.create(HadoopOutputFile.java:74)\n    at org.apache.parquet.hadoop.ParquetFileWriter.&lt;init&gt;(ParquetFileWriter.java:248)\n    at org.apache.parquet.hadoop.ParquetOutputFormat.getRecordWriter(ParquetOutputFormat.java:390)\n    at org.apache.parquet.hadoop.ParquetOutputFormat.getRecordWriter(ParquetOutputFormat.java:349)\n    at org.apache.spark.sql.execution.datasources.parquet.ParquetOutputWriter.&lt;init&gt;(ParquetOutputWriter.scala:37)\n    at org.apache.spark.sql.execution.datasources.parquet.ParquetFileFormat$$anon$1.newInstance(ParquetFileFormat.scala:150)\n    at org.apache.spark.sql.execution.datasources.SingleDirectoryDataWriter.newOutputWriter(FileFormatDataWriter.scala:126)\n    at org.apache.spark.sql.execution.datasources.SingleDirectoryDataWriter.&lt;init&gt;(FileFormatDataWriter.scala:111)\n    at org.apache.spark.sql.execution.datasources.FileFormatWriter$.executeTask(FileFormatWriter.scala:269)\n    at org.apache.spark.sql.execution.datasources.FileFormatWriter$.$anonfun$write$15(FileFormatWriter.scala:210)\n    at org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:90)\n    at org.apache.spark.scheduler.Task.run(Task.scala:127)\n    at org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$3(Executor.scala:463)\n    at org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1377)\n    at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:466)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:748)\n2022-12-21 15:56:34 WARN  TaskSetManager:69 - Lost task 0.0 in stage 1.0 (TID 1, P23566.ieee.org, executor driver): java.lang.UnsatisfiedLinkError: org.apache.hadoop.io.nativeio.NativeIO$Windows.createFileWithMode0(Ljava/lang/String;JJJI)Ljava/io/FileDescriptor;\n    at org.apache.hadoop.io.nativeio.NativeIO$Windows.createFileWithMode0(Native Method)\n    at org.apache.hadoop.io.nativeio.NativeIO$Windows.createFileOutputStreamWithMode(NativeIO.java:556)\n    at org.apache.hadoop.fs.RawLocalFileSystem$LocalFSFileOutputStream.&lt;init&gt;(RawLocalFileSystem.java:231)\n    at org.apache.hadoop.fs.RawLocalFileSystem$LocalFSFileOutputStream.&lt;init&gt;(RawLocalFileSystem.java:221)\n    at org.apache.hadoop.fs.RawLocalFileSystem.createOutputStreamWithMode(RawLocalFileSystem.java:319)\n    at org.apache.hadoop.fs.RawLocalFileSystem.create(RawLocalFileSystem.java:307)\n    at org.apache.hadoop.fs.RawLocalFileSystem.create(RawLocalFileSystem.java:339)\n    at org.apache.hadoop.fs.ChecksumFileSystem$ChecksumFSOutputSummer.&lt;init&gt;(ChecksumFileSystem.java:399)\n    at org.apache.hadoop.fs.ChecksumFileSystem.create(ChecksumFileSystem.java:462)\n    at org.apache.hadoop.fs.ChecksumFileSystem.create(ChecksumFileSystem.java:441)\n    at org.apache.hadoop.fs.FileSystem.create(FileSystem.java:929)\n    at org.apache.hadoop.fs.FileSystem.create(FileSystem.java:910)\n    at org.apache.parquet.hadoop.util.HadoopOutputFile.create(HadoopOutputFile.java:74)\n    at org.apache.parquet.hadoop.ParquetFileWriter.&lt;init&gt;(ParquetFileWriter.java:248)\n    at org.apache.parquet.hadoop.ParquetOutputFormat.getRecordWriter(ParquetOutputFormat.java:390)\n    at org.apache.parquet.hadoop.ParquetOutputFormat.getRecordWriter(ParquetOutputFormat.java:349)\n    at org.apache.spark.sql.execution.datasources.parquet.ParquetOutputWriter.&lt;init&gt;(ParquetOutputWriter.scala:37)\n    at org.apache.spark.sql.execution.datasources.parquet.ParquetFileFormat$$anon$1.newInstance(ParquetFileFormat.scala:150)\n    at org.apache.spark.sql.execution.datasources.SingleDirectoryDataWriter.newOutputWriter(FileFormatDataWriter.scala:126)\n    at org.apache.spark.sql.execution.datasources.SingleDirectoryDataWriter.&lt;init&gt;(FileFormatDataWriter.scala:111)\n    at org.apache.spark.sql.execution.datasources.FileFormatWriter$.executeTask(FileFormatWriter.scala:269)\n    at org.apache.spark.sql.execution.datasources.FileFormatWriter$.$anonfun$write$15(FileFormatWriter.scala:210)\n    at org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:90)\n    at org.apache.spark.scheduler.Task.run(Task.scala:127)\n    at org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$3(Executor.scala:463)\n    at org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1377)\n    at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:466)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:748)\n\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1672860915,"post_id":75010237,"comment_id":132370577,"body_markdown":"https://developer.android.com/guide/health-and-fitness/health-connect","body":"<a href=\"https://developer.android.com/guide/health-and-fitness/health-connect\" rel=\"nofollow noreferrer\">developer.android.com/guide/health-and-fitness/health-connec&zwnj;&#8203;t</a>"}],"owner":{"account_id":2574048,"reputation":1215,"user_id":2232156,"accept_rate":51,"display_name":"Mert Serimer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672859804,"creation_date":1672859804,"question_id":75010237,"body_markdown":"I want to get every past day&#39;s step count. I will not be publishing this app, i want to create a better tracker for myself. I know my phone stores that information. I tried `SensorManager` but it does not both fire `sensorChange` event and get historical data. I dont want to use `GoogleFitApi`.\r\n\r\nWhich library or class should i use?","title":"Android - Getting Historical Step Counter Data","body":"<p>I want to get every past day's step count. I will not be publishing this app, i want to create a better tracker for myself. I know my phone stores that information. I tried <code>SensorManager</code> but it does not both fire <code>sensorChange</code> event and get historical data. I dont want to use <code>GoogleFitApi</code>.</p>\n<p>Which library or class should i use?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":680,"reputation":960785,"user_id":893,"accept_rate":84,"display_name":"Greg Hewgill"},"score":0,"creation_date":1247570891,"post_id":1124788,"comment_id":941651,"body_markdown":"What did you do to cause this error?","body":"What did you do to cause this error?"},{"owner":{"account_id":4380701,"reputation":1299,"user_id":3572417,"display_name":"pesch&#252;"},"score":0,"creation_date":1575637126,"post_id":1124788,"comment_id":104643397,"body_markdown":"I caused this error by renaming an input parameter and not renaming all occurrences of that parameter in a method. Interestingly `mvn compile` does not cause an error, but running the program does. `mvn clean compile` shows the error during compilation (as expected).","body":"I caused this error by renaming an input parameter and not renaming all occurrences of that parameter in a method. Interestingly <code>mvn compile</code> does not cause an error, but running the program does. <code>mvn clean compile</code> shows the error during compilation (as expected)."}],"answers":[{"comments":[{"owner":{"display_name":"Frank"},"score":0,"creation_date":1247656219,"post_id":1124806,"comment_id":948015,"body_markdown":"That&#39;s not my case. I saw this after deploying JAR files (build using Maven) to a server.","body":"That&#39;s not my case. I saw this after deploying JAR files (build using Maven) to a server."},{"owner":{"account_id":9193,"reputation":343123,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"score":1,"creation_date":1247657002,"post_id":1124806,"comment_id":948071,"body_markdown":"Maybe there&#39;s a problem with your Maven build config and it&#39;s using .class files from your eclipse output directory. Anyhow, the only time I&#39;ve seen that error is when running code with compilation errors in eclipse.","body":"Maybe there&#39;s a problem with your Maven build config and it&#39;s using .class files from your eclipse output directory. Anyhow, the only time I&#39;ve seen that error is when running code with compilation errors in eclipse."},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":1,"creation_date":1247680094,"post_id":1124806,"comment_id":950336,"body_markdown":"In that case your maven build is most likely broken.  Try cleaning and recompiling from the command line, with Eclipse shut down.","body":"In that case your maven build is most likely broken.  Try cleaning and recompiling from the command line, with Eclipse shut down."},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1247680857,"post_id":1124806,"comment_id":950423,"body_markdown":"Didn&#39;t see you edited the question.   I would reinvestigate the Maven build process since it appears to be not completely clean.   It should NOT be able to create broken jars!\n\nDo you have a build server?","body":"Didn&#39;t see you edited the question.   I would reinvestigate the Maven build process since it appears to be not completely clean.   It should NOT be able to create broken jars!  Do you have a build server?"},{"owner":{"account_id":2464,"reputation":9505,"user_id":3432,"accept_rate":86,"display_name":"Wouter Coekaerts"},"score":0,"creation_date":1251364086,"post_id":1124806,"comment_id":1174491,"body_markdown":"I just had the same problem. It looks like, as Michael said, this was Maven picking up the class files generated by Eclipse.","body":"I just had the same problem. It looks like, as Michael said, this was Maven picking up the class files generated by Eclipse."},{"owner":{"account_id":410264,"reputation":3756,"user_id":782011,"accept_rate":47,"display_name":"pacoverflow"},"score":0,"creation_date":1403189936,"post_id":1124806,"comment_id":37570978,"body_markdown":"So how do you change that default setting in Eclipse so it doesn&#39;t generate code when there are errors?","body":"So how do you change that default setting in Eclipse so it doesn&#39;t generate code when there are errors?"},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1403252542,"post_id":1124806,"comment_id":37595775,"body_markdown":"Preferences -&gt; Java -&gt; Compiler -&gt; Errors/Warnings -&gt; Treat above errors like fatal compile errors (make compiled code not executable)","body":"Preferences -&gt; Java -&gt; Compiler -&gt; Errors/Warnings -&gt; Treat above errors like fatal compile errors (make compiled code not executable)"},{"owner":{"account_id":1016880,"reputation":1118,"user_id":1028259,"accept_rate":50,"display_name":"dmansfield"},"score":0,"creation_date":1431630494,"post_id":1124806,"comment_id":48591685,"body_markdown":"I had the same problem just now.  Nothing would fix except for Project-&gt;Clean and clean all projects in the workspace.  After a full rebuild problem was gone.","body":"I had the same problem just now.  Nothing would fix except for Project-&gt;Clean and clean all projects in the workspace.  After a full rebuild problem was gone."},{"owner":{"account_id":6473006,"reputation":27420,"user_id":6296561,"accept_rate":95,"display_name":"Zoe is on strike"},"score":0,"creation_date":1614720165,"post_id":1124806,"comment_id":117470500,"body_markdown":"better yet, this extends to JDT.LS. Not using eclipse, but using Eclipse&#39;s language server, still makes this happen, but it&#39;s much more of a pain to fix. Removing _everything_ eclipse and cleaning makes it go away, so it&#39;s definitely Eclipse&#39;s fault. Extremely annoying that the presence of Eclipse files is enough to make this happen, though - makes it a pain in the ass to work with other editors relying on JDT.LS for Java completion while using Maven","body":"better yet, this extends to JDT.LS. Not using eclipse, but using Eclipse&#39;s language server, still makes this happen, but it&#39;s much more of a pain to fix. Removing <i>everything</i> eclipse and cleaning makes it go away, so it&#39;s definitely Eclipse&#39;s fault. Extremely annoying that the presence of Eclipse files is enough to make this happen, though - makes it a pain in the ass to work with other editors relying on JDT.LS for Java completion while using Maven"},{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1675257392,"post_id":1124806,"comment_id":132888949,"body_markdown":"FYI: Since VisualStudio Code also uses the JDT language server for Java compilation, this problem can also occur with VS code.","body":"FYI: Since VisualStudio Code also uses the JDT language server for Java compilation, this problem can also occur with VS code."}],"tags":[],"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"comment_count":10,"down_vote_count":0,"up_vote_count":76,"is_accepted":false,"score":76,"last_activity_date":1672859274,"creation_date":1247570969,"answer_id":1124806,"question_id":1124788,"body_markdown":"(rewritten 2015-07-28)\r\n\r\nSummary: Eclipse had compiled some or all of the classes, and its compiler is more tolerant of errors. \r\n\r\nLong explanation:\r\n\r\nThe default behavior of Eclipse when compiling code with errors in it, is to generate byte code throwing the exception you see, allowing the program to be run.  This is possible as Eclipse uses its own built-in compiler, instead of `javac` from the JDK which Apache Maven uses, and which fails the compilation completely for errors.  If you use Eclipse on a Maven project which you are also working with using the command line `mvn` command, this may happen.\r\n\r\nThe cure is to fix the errors and recompile, before running again.\r\n\r\nThe setting is marked with a red box in this screendump:\r\n\r\n[![Eclipse Preferences under OS X][1]][1]\r\n\r\n\r\n\r\n\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/7yWav.png","title":"Java: Unresolved compilation problem","body":"<p>(rewritten 2015-07-28)</p>\n<p>Summary: Eclipse had compiled some or all of the classes, and its compiler is more tolerant of errors.</p>\n<p>Long explanation:</p>\n<p>The default behavior of Eclipse when compiling code with errors in it, is to generate byte code throwing the exception you see, allowing the program to be run.  This is possible as Eclipse uses its own built-in compiler, instead of <code>javac</code> from the JDK which Apache Maven uses, and which fails the compilation completely for errors.  If you use Eclipse on a Maven project which you are also working with using the command line <code>mvn</code> command, this may happen.</p>\n<p>The cure is to fix the errors and recompile, before running again.</p>\n<p>The setting is marked with a red box in this screendump:</p>\n<p><a href=\"https://i.stack.imgur.com/7yWav.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7yWav.png\" alt=\"Eclipse Preferences under OS X\" /></a></p>\n"},{"tags":[],"owner":{"account_id":642444,"reputation":81,"user_id":423569,"display_name":"Steve Pearson"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1282104608,"creation_date":1282104608,"answer_id":3508916,"question_id":1124788,"body_markdown":"Your compiled classes may need to be recompiled from the source with the new jars.\r\n\r\nTry running &quot;mvn clean&quot; and then rebuild","title":"Java: Unresolved compilation problem","body":"<p>Your compiled classes may need to be recompiled from the source with the new jars.</p>\n\n<p>Try running \"mvn clean\" and then rebuild</p>\n"},{"tags":[],"owner":{"account_id":255201,"reputation":460,"user_id":535083,"accept_rate":0,"display_name":"micahli123"},"comment_count":0,"down_vote_count":2,"up_vote_count":18,"is_accepted":false,"score":16,"last_activity_date":1334540926,"creation_date":1334540926,"answer_id":10167858,"question_id":1124788,"body_markdown":"try to clean the eclipse project","title":"Java: Unresolved compilation problem","body":"<p>try to clean the eclipse project</p>\n"},{"comments":[{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1451445598,"post_id":18571710,"comment_id":56786431,"body_markdown":"Given the current quality (2015) of the m2e Eclipse plugin, I would suggest using an Eclipse with that instead of the various eclipse maven targets.","body":"Given the current quality (2015) of the m2e Eclipse plugin, I would suggest using an Eclipse with that instead of the various eclipse maven targets."}],"tags":[],"owner":{"account_id":3053016,"reputation":1631,"user_id":2587223,"accept_rate":86,"display_name":"jaideep"},"comment_count":1,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1378381634,"creation_date":1378119911,"answer_id":18571710,"question_id":1124788,"body_markdown":"you just try to clean maven by command\r\n\r\n    mvn clean\r\nand after that following command \r\n\r\n    mvn eclipse:clean eclipse:eclipse\r\nand rebuild your project....","title":"Java: Unresolved compilation problem","body":"<p>you just try to clean maven by command</p>\n\n<pre><code>mvn clean\n</code></pre>\n\n<p>and after that following command </p>\n\n<pre><code>mvn eclipse:clean eclipse:eclipse\n</code></pre>\n\n<p>and rebuild your project....</p>\n"},{"tags":[],"owner":{"account_id":11149,"reputation":4960,"user_id":21352,"accept_rate":50,"display_name":"djb"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1427155948,"creation_date":1427155948,"answer_id":29222767,"question_id":1124788,"body_markdown":"I had this error when I used a launch configuration that had an invalid classpath. In my case, I had a project that initially used Maven and thus a launch configuration had a Maven classpath element in it. I had later changed the project to use Gradle and removed the Maven classpath from the project&#39;s classpath, but the launch configuration still used it. I got this error trying to run it. Cleaning and rebuilding the project did not resolve this error. Instead, edit the launch configuration, remove the project classpath element, then add the project back to the User Entries in the classpath.","title":"Java: Unresolved compilation problem","body":"<p>I had this error when I used a launch configuration that had an invalid classpath. In my case, I had a project that initially used Maven and thus a launch configuration had a Maven classpath element in it. I had later changed the project to use Gradle and removed the Maven classpath from the project's classpath, but the launch configuration still used it. I got this error trying to run it. Cleaning and rebuilding the project did not resolve this error. Instead, edit the launch configuration, remove the project classpath element, then add the project back to the User Entries in the classpath.</p>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1564800857,"post_id":29957977,"comment_id":101159703,"body_markdown":"Well yes ... but doing what the accepted answer says would have worked quicker.   It&#39;s just a single flag in the preferences.","body":"Well yes ... but doing what the accepted answer says would have worked quicker.   It&#39;s just a single flag in the preferences."}],"tags":[],"owner":{"account_id":1753737,"reputation":56,"user_id":1602240,"display_name":"Vinh"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1430360710,"creation_date":1430360710,"answer_id":29957977,"question_id":1124788,"body_markdown":"I got this error multiple times and struggled to work out. Finally, I removed the run configuration and re-added the default entries. It worked beautifully.","title":"Java: Unresolved compilation problem","body":"<p>I got this error multiple times and struggled to work out. Finally, I removed the run configuration and re-added the default entries. It worked beautifully.</p>\n"},{"comments":[{"owner":{"account_id":4380701,"reputation":1299,"user_id":3572417,"display_name":"pesch&#252;"},"score":0,"creation_date":1575637227,"post_id":30006813,"comment_id":104643435,"body_markdown":"I do not think this is a concurrency issue, as it is very systematic and always happens. I think somehow the code gets compiled on demand during loading when it is really used by the JVM. No idea why this is possible. I thought that compile-time-checking is the thing that makes Java an advantage over Python...","body":"I do not think this is a concurrency issue, as it is very systematic and always happens. I think somehow the code gets compiled on demand during loading when it is really used by the JVM. No idea why this is possible. I thought that compile-time-checking is the thing that makes Java an advantage over Python..."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1656080522,"post_id":30006813,"comment_id":128491795,"body_markdown":"@pesch&#252; - Well it does do that ... normally.  This is caused by an &gt;Eclipse&lt; Java compiler misfeature.  They were apparently trying to cater for the case where the developer knows about a compilation error in (say) `method1` but wants to test `method2`.  Unfortunately, it is too easy to turn this feature on by accident ... or forget to turn it off.","body":"@pesch&#252; - Well it does do that ... normally.  This is caused by an &gt;Eclipse&lt; Java compiler misfeature.  They were apparently trying to cater for the case where the developer knows about a compilation error in (say) <code>method1</code> but wants to test <code>method2</code>.  Unfortunately, it is too easy to turn this feature on by accident ... or forget to turn it off."}],"tags":[],"owner":{"account_id":5853491,"reputation":8043,"user_id":4611488,"display_name":"Stephan Herrmann"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1630831983,"creation_date":1430596643,"answer_id":30006813,"question_id":1124788,"body_markdown":"The major part is correctly answered by Thorbj&#248;rn Ravn Andersen.\r\n\r\nThis answer tries to shed light on the remaining question: how could the class file with errors end up in the jar?\r\n\r\nEach build (Maven &amp; javac or Eclipse) signals in its specific way when it hits a compile error, and will refuse to create a Jar file from it (or at least prominently alert you). The most likely cause for silently getting class files with errors into a jar is by concurrent operation of Maven and Eclipse.\r\n\r\nIf you have Eclipse open while running a mvn build, you should *disable* **Project** &gt; **Build Automatically** until mvn completes.\r\n\r\n**EDIT**:\r\nLet&#39;s try to split the riddle into three parts:\r\n\r\n&gt; (1) What is the meaning of &quot;java.lang.Error: Unresolved compilation\r\n&gt; problem&quot;\r\n\r\nThis has been explained by Thorbj&#248;rn Ravn Andersen. There is no doubt that Eclipse found an error *at compile time*.\r\n\r\n&gt; (2) How can an eclipse-compiled class file end up in jar file created\r\n&gt; by maven (assuming maven is *not* configured to used ecj for\r\n&gt; compilation)?\r\n\r\nThis could happen either by invoking Maven with no or incomplete cleaning. Or, an automatic Eclipse build could react to changes in the filesystem (done by Maven) and re-compile a class, *before* Maven proceeds to collect class files into the jar (*this is what I meant by &quot;concurrent operation&quot; in my original answer*).\r\n\r\n&gt; (3) How come there is a compile error, but `mvn clean` succeeds?\r\n\r\nAgain several possibilities: (a) compilers don&#39;t agree whether or not the source code is legal, or (b) Eclipse compiles with broken settings like incomplete classpath, wrong Java compliance etc. Either way a sequence of refresh and clean build in Eclipse should surface the problem.","title":"Java: Unresolved compilation problem","body":"<p>The major part is correctly answered by Thorbjørn Ravn Andersen.</p>\n<p>This answer tries to shed light on the remaining question: how could the class file with errors end up in the jar?</p>\n<p>Each build (Maven &amp; javac or Eclipse) signals in its specific way when it hits a compile error, and will refuse to create a Jar file from it (or at least prominently alert you). The most likely cause for silently getting class files with errors into a jar is by concurrent operation of Maven and Eclipse.</p>\n<p>If you have Eclipse open while running a mvn build, you should <em>disable</em> <strong>Project</strong> &gt; <strong>Build Automatically</strong> until mvn completes.</p>\n<p><strong>EDIT</strong>:\nLet's try to split the riddle into three parts:</p>\n<blockquote>\n<p>(1) What is the meaning of &quot;java.lang.Error: Unresolved compilation\nproblem&quot;</p>\n</blockquote>\n<p>This has been explained by Thorbjørn Ravn Andersen. There is no doubt that Eclipse found an error <em>at compile time</em>.</p>\n<blockquote>\n<p>(2) How can an eclipse-compiled class file end up in jar file created\nby maven (assuming maven is <em>not</em> configured to used ecj for\ncompilation)?</p>\n</blockquote>\n<p>This could happen either by invoking Maven with no or incomplete cleaning. Or, an automatic Eclipse build could react to changes in the filesystem (done by Maven) and re-compile a class, <em>before</em> Maven proceeds to collect class files into the jar (<em>this is what I meant by &quot;concurrent operation&quot; in my original answer</em>).</p>\n<blockquote>\n<p>(3) How come there is a compile error, but <code>mvn clean</code> succeeds?</p>\n</blockquote>\n<p>Again several possibilities: (a) compilers don't agree whether or not the source code is legal, or (b) Eclipse compiles with broken settings like incomplete classpath, wrong Java compliance etc. Either way a sequence of refresh and clean build in Eclipse should surface the problem.</p>\n"},{"tags":[],"owner":{"account_id":16601830,"reputation":11,"user_id":11997259,"display_name":"krishna prasad peram"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622007096,"creation_date":1622007096,"answer_id":67699018,"question_id":1124788,"body_markdown":" 1. Just try to include `package` name in eclipse in case if you forgot it\r\n 2. **Import all packages** before using it, EX: `import java.util.Scanner` before using **Scanner class**.\r\n 3. These improvements might work and it will not give `Java: Unresolved compilation problem` anymore.\r\n 4. Also make sure to check `compiler compliance level` and selected `jdk version` is same\r\n\r\n","title":"Java: Unresolved compilation problem","body":"<ol>\n<li>Just try to include <code>package</code> name in eclipse in case if you forgot it</li>\n<li><strong>Import all packages</strong> before using it, EX: <code>import java.util.Scanner</code> before using <strong>Scanner class</strong>.</li>\n<li>These improvements might work and it will not give <code>Java: Unresolved compilation problem</code> anymore.</li>\n<li>Also make sure to check <code>compiler compliance level</code> and selected <code>jdk version</code> is same</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1656080285,"post_id":69548637,"comment_id":128491695,"body_markdown":"Well that&#39;s exactly what happens in all cases.  The problem was that there were compilation errors when Eclipse generated the `.class` file, but Eclipse had been (previously) configured to generate the `.class` anyway.","body":"Well that&#39;s exactly what happens in all cases.  The problem was that there were compilation errors when Eclipse generated the <code>.class</code> file, but Eclipse had been (previously) configured to generate the <code>.class</code> anyway."}],"tags":[],"owner":{"account_id":1257847,"reputation":1816,"user_id":7676742,"display_name":"yılmaz"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1634087897,"creation_date":1634087897,"answer_id":69548637,"question_id":1124788,"body_markdown":"As a weird case, I encountered such an exception where the exception message (unresolved compilation bla bla) was hardcoded inside of generated class&#39; itself. Decompiling the class revealed this.","title":"Java: Unresolved compilation problem","body":"<p>As a weird case, I encountered such an exception where the exception message (unresolved compilation bla bla) was hardcoded inside of generated class' itself. Decompiling the class revealed this.</p>\n"},{"tags":[],"owner":{"account_id":5572094,"reputation":71,"user_id":10564053,"display_name":"spm"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645503608,"creation_date":1645503608,"answer_id":71215870,"question_id":1124788,"body_markdown":"I had the same issue using the visual studio Code. The root cause was backup java file was left in the same directory. \r\n\r\nRemoved the backup java file \r\nWhen the build failed, selected the Fix it, it cleaned up the cache and restarted the workSpace.    \r\n\r\n","title":"Java: Unresolved compilation problem","body":"<p>I had the same issue using the visual studio Code. The root cause was backup java file was left in the same directory.</p>\n<p>Removed the backup java file\nWhen the build failed, selected the Fix it, it cleaned up the cache and restarted the workSpace.</p>\n"}],"owner":{"display_name":"Frank"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":296829,"favorite_count":0,"down_vote_count":0,"up_vote_count":91,"answer_count":10,"score":91,"last_activity_date":1672859274,"creation_date":1247570748,"question_id":1124788,"body_markdown":"What are the possible causes of a &quot;java.lang.Error: Unresolved compilation problem&quot;?\r\n\r\nAdditional information: \r\n\r\nI have seen this after copying a set of updated JAR files from a build on top of the existing JARs and restarting the application. The JARs are built using a Maven build process.\r\n\r\nI would expect to see LinkageErrors or ClassNotFound errors if interfaces changed. The above error hints at some lower level problem.\r\n\r\nA clean rebuild and redeployment fixed the problem. Could this error indicate a corrupted JAR?\r\n\r\n","title":"Java: Unresolved compilation problem","body":"<p>What are the possible causes of a \"java.lang.Error: Unresolved compilation problem\"?</p>\n\n<p>Additional information: </p>\n\n<p>I have seen this after copying a set of updated JAR files from a build on top of the existing JARs and restarting the application. The JARs are built using a Maven build process.</p>\n\n<p>I would expect to see LinkageErrors or ClassNotFound errors if interfaces changed. The above error hints at some lower level problem.</p>\n\n<p>A clean rebuild and redeployment fixed the problem. Could this error indicate a corrupted JAR?</p>\n"},{"tags":["java","oop","object","computer-science"],"comments":[{"owner":{"account_id":4623229,"reputation":2072,"user_id":3747720,"accept_rate":89,"display_name":"js_248"},"score":2,"creation_date":1467354374,"post_id":38138270,"comment_id":63707145,"body_markdown":"you can refer to https://mail.mozilla.org/pipermail/es-discuss/2010-December/012334.html","body":"you can refer to <a href=\"https://mail.mozilla.org/pipermail/es-discuss/2010-December/012334.html\" rel=\"nofollow noreferrer\">mail.mozilla.org/pipermail/es-discuss/2010-December/012334.h&zwnj;&#8203;tml</a>"}],"answers":[{"tags":[],"owner":{"account_id":5468895,"reputation":974,"user_id":4348811,"accept_rate":100,"display_name":"Gaurava Agarwal"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1467354806,"creation_date":1467354806,"answer_id":38138568,"question_id":38138270,"body_markdown":"Here is basic difference. It varies based on usage and view point.\r\n\r\nPrivate fields are example of Strong Encapsulation.\r\n\r\nPublic fields are example of Weak Encapsulation. In this case fields are still encapsulated in the class, but visible to outside world. \r\n\r\nProtected/default fields show moderate Encapsulation.\r\n\r\n","title":"Strong and Weak encapsulation in Java","body":"<p>Here is basic difference. It varies based on usage and view point.</p>\n\n<p>Private fields are example of Strong Encapsulation.</p>\n\n<p>Public fields are example of Weak Encapsulation. In this case fields are still encapsulated in the class, but visible to outside world. </p>\n\n<p>Protected/default fields show moderate Encapsulation.</p>\n"},{"tags":[],"owner":{"account_id":8697666,"reputation":21,"user_id":6508574,"display_name":"Sangeetha Gopal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1467361776,"creation_date":1467361776,"answer_id":38140628,"question_id":38138270,"body_markdown":"Strong encapsulation means that the code implementing an abstraction can\r\ncontrol the visibility of its fields (i.e. where they can be accessed\r\nfrom), without any loopholes that can be exploited by code outside the\r\nabstraction&#39;s scope. Weak encapsulation allows such loopholes.","title":"Strong and Weak encapsulation in Java","body":"<p>Strong encapsulation means that the code implementing an abstraction can\ncontrol the visibility of its fields (i.e. where they can be accessed\nfrom), without any loopholes that can be exploited by code outside the\nabstraction's scope. Weak encapsulation allows such loopholes.</p>\n"},{"tags":[],"owner":{"account_id":3300108,"reputation":3814,"user_id":2776473,"accept_rate":25,"display_name":"Shmulik Klein"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1467362932,"creation_date":1467362932,"answer_id":38140985,"question_id":38138270,"body_markdown":"Encapsulation is an OOP concept that keeps data and functions from outside interference or misuse. Encapsulation enables hiding the implementation from the client and enables changes in the code without affecting the client. The adjectives &#39;Weak&#39; or &#39;Strong&#39; refer to how good this concept enforced in your code. \r\n\r\nFor example, consider you have a class called ```Person``` which has a field called ```name```. Encapsulation suggests to &quot;hide&quot; this field from a client of the class so he won&#39;t harm or misuse it. You can achieve such a behavior by making the ```name``` attribute ```private``` (so the only code which can refer to this attribute is the one that implementing ```Person```) and provide a getter method ```getName()``` which will return the name property to the client. This will be considered strong encapsulation - the property isn&#39;t reachable from outside and can&#39;t be misused. \r\n\r\nA weak encapsulation will be providing a method that as a side effect changes the state of this property and by that &quot;exposing&quot; the property and creates a loophole.  ","title":"Strong and Weak encapsulation in Java","body":"<p>Encapsulation is an OOP concept that keeps data and functions from outside interference or misuse. Encapsulation enables hiding the implementation from the client and enables changes in the code without affecting the client. The adjectives 'Weak' or 'Strong' refer to how good this concept enforced in your code. </p>\n\n<p>For example, consider you have a class called <code>Person</code> which has a field called <code>name</code>. Encapsulation suggests to \"hide\" this field from a client of the class so he won't harm or misuse it. You can achieve such a behavior by making the <code>name</code> attribute <code>private</code> (so the only code which can refer to this attribute is the one that implementing <code>Person</code>) and provide a getter method <code>getName()</code> which will return the name property to the client. This will be considered strong encapsulation - the property isn't reachable from outside and can't be misused. </p>\n\n<p>A weak encapsulation will be providing a method that as a side effect changes the state of this property and by that \"exposing\" the property and creates a loophole.  </p>\n"},{"tags":[],"owner":{"account_id":15243550,"reputation":1,"user_id":10999020,"display_name":"Shilpa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1548991408,"creation_date":1548991408,"answer_id":54472434,"question_id":38138270,"body_markdown":"Strong Encapsulation means a class that contains all property access levels as private &amp; every method as a public. Then that satisfies the Strong Encapsulation and then that class is called as Strong Encapsulation class.\r\nThrough Strong Encapsulation we can’t access any properties directly outside from the class.If want to access or initialize the value to the properties. Then we should run through public method.\r\nWeak Encapsulation is like if class contain any property access level other than private and method access level other than public. Then that class is called as Weak Encapsulated class.","title":"Strong and Weak encapsulation in Java","body":"<p>Strong Encapsulation means a class that contains all property access levels as private &amp; every method as a public. Then that satisfies the Strong Encapsulation and then that class is called as Strong Encapsulation class.\nThrough Strong Encapsulation we can’t access any properties directly outside from the class.If want to access or initialize the value to the properties. Then we should run through public method.\nWeak Encapsulation is like if class contain any property access level other than private and method access level other than public. Then that class is called as Weak Encapsulated class.</p>\n"},{"tags":[],"owner":{"account_id":15305578,"reputation":2692,"user_id":11042460,"display_name":"Java wanna bee"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1595942396,"creation_date":1595942396,"answer_id":63135117,"question_id":38138270,"body_markdown":"`private &amp; geterMethod` = Strong encapsulation\r\n\r\n`private &amp; seterMethod` = Weak encapsulation","title":"Strong and Weak encapsulation in Java","body":"<p><code>private &amp; geterMethod</code> = Strong encapsulation</p>\n<p><code>private &amp; seterMethod</code> = Weak encapsulation</p>\n"}],"owner":{"account_id":8739077,"reputation":53,"user_id":6536663,"display_name":"java lover"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5003,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":38138568,"answer_count":5,"score":5,"last_activity_date":1672858946,"creation_date":1467353640,"question_id":38138270,"body_markdown":"Please, tell me the difference between strong and weak encapsulation w.r.t. java language.\r\nEncapsulation is the binding of data and its associated functions in a single unit called a class. So, what does the term mean e.g. weak and strong encapsulation? ","title":"Strong and Weak encapsulation in Java","body":"<p>Please, tell me the difference between strong and weak encapsulation w.r.t. java language.\nEncapsulation is the binding of data and its associated functions in a single unit called a class. So, what does the term mean e.g. weak and strong encapsulation?</p>\n"},{"tags":["java","mongodb","morphia","nosql"],"answers":[{"comments":[{"owner":{"account_id":2359983,"reputation":4895,"user_id":2066880,"accept_rate":83,"display_name":"user2066880"},"score":0,"creation_date":1421350834,"post_id":27960709,"comment_id":44335914,"body_markdown":"Yeah after considering my problem, I don&#39;t think its necessary to store null/empty fields. I was stuck in relational mode.","body":"Yeah after considering my problem, I don&#39;t think its necessary to store null/empty fields. I was stuck in relational mode."},{"owner":{"account_id":1414206,"reputation":6122,"user_id":1340183,"display_name":"evanchooly"},"score":0,"creation_date":1421414903,"post_id":27960709,"comment_id":44361017,"body_markdown":"Indexing can get weird if you index on a field that may or may not be in a document so it&#39;s beneficial sometimes to store them.","body":"Indexing can get weird if you index on a field that may or may not be in a document so it&#39;s beneficial sometimes to store them."},{"owner":{"account_id":278525,"reputation":10554,"user_id":573153,"accept_rate":94,"display_name":"xeraa"},"score":0,"creation_date":1421415915,"post_id":27960709,"comment_id":44361541,"body_markdown":"&quot;weird&quot; == a query using the index will never return a document where the indexed field is null, right? But are dummy values so helpful (especially in terms of performance)?","body":"&quot;weird&quot; == a query using the index will never return a document where the indexed field is null, right? But are dummy values so helpful (especially in terms of performance)?"},{"owner":{"account_id":1505508,"reputation":885,"user_id":1408973,"accept_rate":78,"display_name":"Alessandro Giannone"},"score":0,"creation_date":1422057134,"post_id":27960709,"comment_id":44615421,"body_markdown":"Actually pre-populating the field can increase performance when the field is eventually written to as it won&#39;t be necessary to replace the document in memory. So it depends on the use of the field. If it&#39;s null and will never be changed, then don&#39;t set it, if the field is likely to be changed in the future and is frequently accessed, then pre-populate it.","body":"Actually pre-populating the field can increase performance when the field is eventually written to as it won&#39;t be necessary to replace the document in memory. So it depends on the use of the field. If it&#39;s null and will never be changed, then don&#39;t set it, if the field is likely to be changed in the future and is frequently accessed, then pre-populate it."},{"owner":{"account_id":278525,"reputation":10554,"user_id":573153,"accept_rate":94,"display_name":"xeraa"},"score":0,"creation_date":1422057356,"post_id":27960709,"comment_id":44615487,"body_markdown":"are you talking about the index or growing dicuments, which need to be moved on the disk?","body":"are you talking about the index or growing dicuments, which need to be moved on the disk?"}],"tags":[],"owner":{"account_id":278525,"reputation":10554,"user_id":573153,"accept_rate":94,"display_name":"xeraa"},"comment_count":5,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1421315395,"creation_date":1421315395,"answer_id":27960709,"question_id":27959186,"body_markdown":"This is a feature and one of the points of a document store. Don&#39;t waste space (both on RAM, disk, and for transfers) on missing data.\r\n\r\nIf you use primitive types instead of object types, a value will be saved, since there&#39;s no null value. For example ``long`` instead of ``Long``. For ``String`` you&#39;d need to store an empty (or some dummy) value.\r\n\r\nOut of interest: Why would you want to explicitly store null / empty fields? Maybe there&#39;s a better solution for what you are trying to do.","title":"How to store null fields with Morphia","body":"<p>This is a feature and one of the points of a document store. Don't waste space (both on RAM, disk, and for transfers) on missing data.</p>\n\n<p>If you use primitive types instead of object types, a value will be saved, since there's no null value. For example <code>long</code> instead of <code>Long</code>. For <code>String</code> you'd need to store an empty (or some dummy) value.</p>\n\n<p>Out of interest: Why would you want to explicitly store null / empty fields? Maybe there's a better solution for what you are trying to do.</p>\n"},{"comments":[{"owner":{"account_id":2359983,"reputation":4895,"user_id":2066880,"accept_rate":83,"display_name":"user2066880"},"score":0,"creation_date":1421873907,"post_id":28068454,"comment_id":44532317,"body_markdown":"Yeah its probably a code smell, as in my case, if you need to store null values in a document store.  But this is definitely the answer to my question.","body":"Yeah its probably a code smell, as in my case, if you need to store null values in a document store.  But this is definitely the answer to my question."},{"owner":{"account_id":7547772,"reputation":8593,"user_id":5730279,"display_name":"hc_dev"},"score":0,"creation_date":1672857372,"post_id":28068454,"comment_id":132369483,"body_markdown":"Improved formatting and updated according to [your commit &quot;created a builder for MapperOptions&quot; from Dec 2018](https://github.com/MorphiaOrg/morphia/commit/ba59808bcfa93ac6b5e85d4ad2e9e9871e80bc4e) which apparently was released with Morphia 1.5.3","body":"Improved formatting and updated according to <a href=\"https://github.com/MorphiaOrg/morphia/commit/ba59808bcfa93ac6b5e85d4ad2e9e9871e80bc4e\" rel=\"nofollow noreferrer\">your commit &quot;created a builder for MapperOptions&quot; from Dec 2018</a> which apparently was released with Morphia 1.5.3"},{"owner":{"account_id":7547772,"reputation":8593,"user_id":5730279,"display_name":"hc_dev"},"score":0,"creation_date":1672861736,"post_id":28068454,"comment_id":132370855,"body_markdown":"For **Morphia 2.0** and above, see [this answer explaining the &#127381;  `MapperOptions.Builder`](https://stackoverflow.com/a/75010039/5730279).","body":"For <b>Morphia 2.0</b> and above, see <a href=\"https://stackoverflow.com/a/75010039/5730279\">this answer explaining the 🆕  <code>MapperOptions.Builder</code></a>."}],"tags":[],"owner":{"account_id":1414206,"reputation":6122,"user_id":1340183,"display_name":"evanchooly"},"comment_count":3,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1672856335,"creation_date":1421846902,"answer_id":28068454,"question_id":27959186,"body_markdown":"In the interests of answering the question asked, you can:\r\n\r\n* store **nulls** by configuring [`MapperOptions.setStoreNulls(boolean)`][1] \r\n* store **empty values** by configuring [`MapperOptions.setStoreEmpties(boolean)`][2].\r\n\r\nYou can get a `MapperOptions` reference from the mapper instance by [`Mapper.getOptions()`][3].\r\n\r\n### Deprecation Update\r\nHowever, the `Mapper` class is internal only and is deprecated:\r\n&gt; this class will be internalized in 2.0\r\n\r\nSame deprecation applies for before mentioned setter methods in class `MapperOptions`, instead the JavaDocs recommend:\r\n\r\n&gt; use the Builder instead \r\n\r\n\r\n  [1]: https://morphia.dev/morphia/1.6/javadoc/dev/morphia/mapping/MapperOptions.html#setStoreNulls(boolean)\r\n  [2]: https://morphia.dev/morphia/1.6/javadoc/dev/morphia/mapping/MapperOptions.html#setStoreEmpties(boolean)\r\n  [3]: https://morphia.dev/morphia/1.6/javadoc/dev/morphia/mapping/Mapper.html#getOptions()","title":"How to store null fields with Morphia","body":"<p>In the interests of answering the question asked, you can:</p>\n<ul>\n<li>store <strong>nulls</strong> by configuring <a href=\"https://morphia.dev/morphia/1.6/javadoc/dev/morphia/mapping/MapperOptions.html#setStoreNulls(boolean)\" rel=\"nofollow noreferrer\"><code>MapperOptions.setStoreNulls(boolean)</code></a></li>\n<li>store <strong>empty values</strong> by configuring <a href=\"https://morphia.dev/morphia/1.6/javadoc/dev/morphia/mapping/MapperOptions.html#setStoreEmpties(boolean)\" rel=\"nofollow noreferrer\"><code>MapperOptions.setStoreEmpties(boolean)</code></a>.</li>\n</ul>\n<p>You can get a <code>MapperOptions</code> reference from the mapper instance by <a href=\"https://morphia.dev/morphia/1.6/javadoc/dev/morphia/mapping/Mapper.html#getOptions()\" rel=\"nofollow noreferrer\"><code>Mapper.getOptions()</code></a>.</p>\n<h3>Deprecation Update</h3>\n<p>However, the <code>Mapper</code> class is internal only and is deprecated:</p>\n<blockquote>\n<p>this class will be internalized in 2.0</p>\n</blockquote>\n<p>Same deprecation applies for before mentioned setter methods in class <code>MapperOptions</code>, instead the JavaDocs recommend:</p>\n<blockquote>\n<p>use the Builder instead</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":7547772,"reputation":8593,"user_id":5730279,"display_name":"hc_dev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672858755,"creation_date":1672858755,"answer_id":75010039,"question_id":27959186,"body_markdown":"To allow null or empty values for fields, you can configure the Mapper behavior trough `MapperOptions`, as already [answered by evanchooly][1] (main contributor to Morphia).\r\n\r\n### Use `MapperOptions.Builder`\r\nSince version 2.0 use the [`MapperOptions.Builder`][2] for that.\r\nIt has setter for both:\r\n* `storeNulls(boolean)`\r\n* `storeEmpties(boolean)`\r\n\r\nSince Morphia version 2.0 the `MapperOptions` are **immutable**, but very powerful to control [mapping-behavior][3]. To store null or empty values build the mapper-options as follows:\r\n```java\r\nString databaseName = &quot;morphia_example&quot;;\r\n\r\nMapperOptions options = MapperOptions.builder()\r\n    .setStoreNulls(true)\r\n    .setStoreEmpties(true)\r\n    .build();\r\n\r\nDatastore datastore = Morphia.createDatastore(databaseName, options)\r\n```\r\n\r\n### See also\r\n* [Introduce builder for MapperOptions &#183; Issue #1134 &#183; MorphiaOrg/morphia &#183; GitHub](https://github.com/MorphiaOrg/morphia/issues/1134)\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/28068454/5730279\r\n  [2]: https://morphia.dev/morphia/1.6/javadoc/dev/morphia/mapping/MapperOptions.Builder.html\r\n  [3]: https://morphia.dev/morphia/2.1/mapping.html","title":"How to store null fields with Morphia","body":"<p>To allow null or empty values for fields, you can configure the Mapper behavior trough <code>MapperOptions</code>, as already <a href=\"https://stackoverflow.com/a/28068454/5730279\">answered by evanchooly</a> (main contributor to Morphia).</p>\n<h3>Use <code>MapperOptions.Builder</code></h3>\n<p>Since version 2.0 use the <a href=\"https://morphia.dev/morphia/1.6/javadoc/dev/morphia/mapping/MapperOptions.Builder.html\" rel=\"nofollow noreferrer\"><code>MapperOptions.Builder</code></a> for that.\nIt has setter for both:</p>\n<ul>\n<li><code>storeNulls(boolean)</code></li>\n<li><code>storeEmpties(boolean)</code></li>\n</ul>\n<p>Since Morphia version 2.0 the <code>MapperOptions</code> are <strong>immutable</strong>, but very powerful to control <a href=\"https://morphia.dev/morphia/2.1/mapping.html\" rel=\"nofollow noreferrer\">mapping-behavior</a>. To store null or empty values build the mapper-options as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String databaseName = &quot;morphia_example&quot;;\n\nMapperOptions options = MapperOptions.builder()\n    .setStoreNulls(true)\n    .setStoreEmpties(true)\n    .build();\n\nDatastore datastore = Morphia.createDatastore(databaseName, options)\n</code></pre>\n<h3>See also</h3>\n<ul>\n<li><a href=\"https://github.com/MorphiaOrg/morphia/issues/1134\" rel=\"nofollow noreferrer\">Introduce builder for MapperOptions · Issue #1134 · MorphiaOrg/morphia · GitHub</a></li>\n</ul>\n"}],"owner":{"account_id":2359983,"reputation":4895,"user_id":2066880,"accept_rate":83,"display_name":"user2066880"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2589,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":28068454,"answer_count":3,"score":4,"last_activity_date":1672858755,"creation_date":1421310004,"question_id":27959186,"body_markdown":"[Morphia][1] does not store null/empty fields by default.  Is there a way to enable this?\r\n\r\n\r\n  [1]: https://github.com/mongodb/morphia","title":"How to store null fields with Morphia","body":"<p><a href=\"https://github.com/mongodb/morphia\" rel=\"nofollow\">Morphia</a> does not store null/empty fields by default.  Is there a way to enable this?</p>\n"},{"tags":["java","spring","google-cloud-platform","bucket"],"answers":[{"comments":[{"owner":{"account_id":18597571,"reputation":15,"user_id":13553163,"display_name":"FishOnAComputer"},"score":0,"creation_date":1672860596,"post_id":75010010,"comment_id":132370467,"body_markdown":"this seems to work well, if there are subfolders will I have to know that sub folder or how does that work? I understand I can do something like below\n```\nSystem.out.println(&quot;gs://&quot;+&lt;bucket_name&gt;+&quot;/&quot;+&lt;file_path_inside_bucket&gt;);\n```\nbut what if there is a sub folder in between the bucket and object is there a way to account for that?","body":"this seems to work well, if there are subfolders will I have to know that sub folder or how does that work? I understand I can do something like below ``` System.out.println(&quot;gs://&quot;+&lt;bucket_name&gt;+&quot;/&quot;+&lt;file_path_insi&zwnj;&#8203;de_bucket&gt;); ``` but what if there is a sub folder in between the bucket and object is there a way to account for that?"},{"owner":{"account_id":1929103,"reputation":13972,"user_id":1738915,"accept_rate":90,"display_name":"Kolban"},"score":0,"creation_date":1672863667,"post_id":75010010,"comment_id":132371511,"body_markdown":"To me, folders are an &quot;illusion&quot; in GCS (Google Cloud Storage) ... see:\n\nhttps://cloud.google.com/storage/docs/folders\n\nWhat this means is that there are ONLY files (blobs) and those files are named and in the name the &quot;/&quot; character is literally part of the name of the file.  Logically, an application can &quot;treat&quot; the &quot;/&quot; as a delimiter ... so if I have files &quot;f/x.txt&quot; and &quot;f/y.txt&quot; we can logically say that &quot;x.txt&quot; and &quot;y.txt&quot; and in a folder called &quot;f&quot; but from a GCS perspective we ONLY have files called &quot;f/x.txt&quot; and &quot;f/y.txt&quot;.","body":"To me, folders are an &quot;illusion&quot; in GCS (Google Cloud Storage) ... see:  <a href=\"https://cloud.google.com/storage/docs/folders\" rel=\"nofollow noreferrer\">cloud.google.com/storage/docs/folders</a>  What this means is that there are ONLY files (blobs) and those files are named and in the name the &quot;/&quot; character is literally part of the name of the file.  Logically, an application can &quot;treat&quot; the &quot;/&quot; as a delimiter ... so if I have files &quot;f/x.txt&quot; and &quot;f/y.txt&quot; we can logically say that &quot;x.txt&quot; and &quot;y.txt&quot; and in a folder called &quot;f&quot; but from a GCS perspective we ONLY have files called &quot;f/x.txt&quot; and &quot;f/y.txt&quot;."}],"tags":[],"owner":{"account_id":1929103,"reputation":13972,"user_id":1738915,"accept_rate":90,"display_name":"Kolban"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672858603,"creation_date":1672858603,"answer_id":75010010,"question_id":75009738,"body_markdown":"Looking at the Java class [Blob](https://javadoc.io/static/com.google.cloud/google-cloud-storage/2.16.0/com/google/cloud/storage/Blob.html) we seem to find that it extends [BlobInfo](https://javadoc.io/static/com.google.cloud/google-cloud-storage/2.16.0/com/google/cloud/storage/BlobInfo.html) which contains a lot of properties including:\r\n\r\n* `getOwner()` - The owner of the blob.\r\n* `getSelfLink()` - The URL of the blob.\r\n* `getUpdateTimeOffsetDateTime()` - The last update time.\r\n* `getGeneration()` - The current generation (version) of the blob.\r\n\r\nAs for the identity of a Blob ... it should be composed of two parts ... the bucket name as returned by `getBucket()` and the blob name as returned by `getName()`.","title":"How do I obtain meta data from GCP bucket objects like author, latest version, Gsuite URI, etc?","body":"<p>Looking at the Java class <a href=\"https://javadoc.io/static/com.google.cloud/google-cloud-storage/2.16.0/com/google/cloud/storage/Blob.html\" rel=\"nofollow noreferrer\">Blob</a> we seem to find that it extends <a href=\"https://javadoc.io/static/com.google.cloud/google-cloud-storage/2.16.0/com/google/cloud/storage/BlobInfo.html\" rel=\"nofollow noreferrer\">BlobInfo</a> which contains a lot of properties including:</p>\n<ul>\n<li><code>getOwner()</code> - The owner of the blob.</li>\n<li><code>getSelfLink()</code> - The URL of the blob.</li>\n<li><code>getUpdateTimeOffsetDateTime()</code> - The last update time.</li>\n<li><code>getGeneration()</code> - The current generation (version) of the blob.</li>\n</ul>\n<p>As for the identity of a Blob ... it should be composed of two parts ... the bucket name as returned by <code>getBucket()</code> and the blob name as returned by <code>getName()</code>.</p>\n"}],"owner":{"account_id":18597571,"reputation":15,"user_id":13553163,"display_name":"FishOnAComputer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75010010,"answer_count":1,"score":0,"last_activity_date":1672858603,"creation_date":1672857021,"question_id":75009738,"body_markdown":"I am using the java GCP SDK and want to save some information about an object to a postgreSQL table right after creating it. I have found methods using the Blob type and various getter methods for that type but there are more that I need such as URI, author, last updated, latest author, and many more. Is there somewhere I can see a list of all available methods to get this type of data? \r\n\r\nI have tried getting the URI by a few different methods and have ended up using the method below\r\n\r\n\r\n```\r\nString gUri = blob.getSelfLink();\r\nSystem.out.println(&quot;Gsuite URI: &quot;+URI.create(gUri));\r\n```\r\nThis method returns a regular URL not a URI and then furthermore I would have to parse it and add a few thigs. Is there a way to get the URI directly from google?","title":"How do I obtain meta data from GCP bucket objects like author, latest version, Gsuite URI, etc?","body":"<p>I am using the java GCP SDK and want to save some information about an object to a postgreSQL table right after creating it. I have found methods using the Blob type and various getter methods for that type but there are more that I need such as URI, author, last updated, latest author, and many more. Is there somewhere I can see a list of all available methods to get this type of data?</p>\n<p>I have tried getting the URI by a few different methods and have ended up using the method below</p>\n<pre><code>String gUri = blob.getSelfLink();\nSystem.out.println(&quot;Gsuite URI: &quot;+URI.create(gUri));\n</code></pre>\n<p>This method returns a regular URL not a URI and then furthermore I would have to parse it and add a few thigs. Is there a way to get the URI directly from google?</p>\n"},{"tags":["java","javafx","awt","awtrobot"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1561830385,"post_id":56819623,"comment_id":100192280,"body_markdown":"What do their relative API&#39;s have to say?","body":"What do their relative API&#39;s have to say?"},{"owner":{"account_id":3583958,"reputation":80987,"user_id":2991525,"display_name":"fabian"},"score":2,"creation_date":1561830570,"post_id":56819623,"comment_id":100192330,"body_markdown":"Comparing the javadoc for both the functionality seems almost the same: https://openjfx.io/javadoc/12/javafx.graphics/javafx/scene/robot/Robot.html https://docs.oracle.com/en/java/javase/11/docs/api/java.desktop/java/awt/Robot.html (JavaFX seems to be lacking the &quot;idle&quot; part though...)","body":"Comparing the javadoc for both the functionality seems almost the same: <a href=\"https://openjfx.io/javadoc/12/javafx.graphics/javafx/scene/robot/Robot.html\" rel=\"nofollow noreferrer\">openjfx.io/javadoc/12/javafx.graphics/javafx/scene/robot/&hellip;</a> <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.desktop/java/awt/Robot.html\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/11/docs/api/java.desktop/java&zwnj;&#8203;/&hellip;</a> (JavaFX seems to be lacking the &quot;idle&quot; part though...)"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1561830682,"post_id":56819623,"comment_id":100192349,"body_markdown":"But do notice the different images that they can create, one that can be used by AWT, BufferedImage, and the other that can be used by JavaFX.","body":"But do notice the different images that they can create, one that can be used by AWT, BufferedImage, and the other that can be used by JavaFX."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1561838671,"post_id":56819623,"comment_id":100194008,"body_markdown":"The difference is also in the implementation. One uses the AWT libraries and the other uses the JavaFX libraries.","body":"The difference is also in the implementation. One uses the AWT libraries and the other uses the JavaFX libraries."}],"answers":[{"tags":[],"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672858325,"creation_date":1672858325,"answer_id":75009968,"question_id":56819623,"body_markdown":"In my opinion, the biggest difference is:\r\n\r\nThe JavaFX Robot must run on the JavaFX thread.\r\n\r\nThe AWT Robot can run anywhere. ","title":"javafx.scene.robot.Robot vs java.awt.Robot","body":"<p>In my opinion, the biggest difference is:</p>\n<p>The JavaFX Robot must run on the JavaFX thread.</p>\n<p>The AWT Robot can run anywhere.</p>\n"}],"owner":{"account_id":11389275,"reputation":79,"user_id":8349931,"display_name":"J. Doe"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1083,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":1,"score":3,"last_activity_date":1672858325,"creation_date":1561830265,"question_id":56819623,"body_markdown":"I just read that JavaFX has its own [`javafx.scene.robot.Robot`][1] class. How does it differ from [`java.awt.Robot`][2]?\r\nI also don&#39;t really understand why `Robot` class was packed in `java.awt` package instead of e.g. `java.util` as it doesn&#39;t seem to be related to GUI components. Could someone explain it please?\r\n\r\n  [1]: https://openjfx.io/javadoc/12/javafx.graphics/javafx/scene/robot/Robot.html\r\n  [2]: https://docs.oracle.com/en/java/javase/11/docs/api/java.desktop/java/awt/Robot.html","title":"javafx.scene.robot.Robot vs java.awt.Robot","body":"<p>I just read that JavaFX has its own <a href=\"https://openjfx.io/javadoc/12/javafx.graphics/javafx/scene/robot/Robot.html\" rel=\"nofollow noreferrer\"><code>javafx.scene.robot.Robot</code></a> class. How does it differ from <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.desktop/java/awt/Robot.html\" rel=\"nofollow noreferrer\"><code>java.awt.Robot</code></a>?\nI also don't really understand why <code>Robot</code> class was packed in <code>java.awt</code> package instead of e.g. <code>java.util</code> as it doesn't seem to be related to GUI components. Could someone explain it please?</p>\n"},{"tags":["java","spring","elasticsearch","mockito"],"comments":[{"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"score":0,"creation_date":1608475345,"post_id":65380848,"comment_id":115589769,"body_markdown":"Excellent question !","body":"Excellent question !"}],"answers":[{"comments":[{"owner":{"account_id":2108163,"reputation":1498,"user_id":1873995,"accept_rate":71,"display_name":"Kamil"},"score":0,"creation_date":1608487726,"post_id":65381040,"comment_id":115593459,"body_markdown":"ahh I was so close, I was almost there - just generated `CloseableIterator` but didn&#39;t know how to link it with my `Iterator` instance; passing an iterator and using its method `hasNext()` and `next()` inside the CloseableIterator is brilliant, thank you :)","body":"ahh I was so close, I was almost there - just generated <code>CloseableIterator</code> but didn&#39;t know how to link it with my <code>Iterator</code> instance; passing an iterator and using its method <code>hasNext()</code> and <code>next()</code> inside the CloseableIterator is brilliant, thank you :)"}],"tags":[],"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1608475473,"creation_date":1608475131,"answer_id":65381040,"question_id":65380848,"body_markdown":"`org.springframework.data.util.CloseableIterator.CloseableIterator` from Spring  and `java.util.Iterator` from JDK are close enough interfaces :  indeed `CloseableIterator` has `Iterator` as parent interface.   \r\nWhich means that you can substitute a `Iterator` by a `CloseableIterator` but not the reverse : what you need.   \r\nWhile you cannot return an `Iterator` in your mock record, you can still convert an `Iterator` to a `CloseableIterator`.  Which is not very hard thank to method delegation while it still requires a small amount of boilerplate.    \r\n\r\nExample : \r\n\r\n\r\n    import org.junit.jupiter.api.Test;\r\n    import org.junit.jupiter.api.extension.ExtendWith;\r\n    import org.mockito.Mock;\r\n    import org.mockito.Mockito;\r\n    import org.springframework.data.elasticsearch.core.ElasticsearchTemplate;\r\n    import org.springframework.data.elasticsearch.core.query.SearchQuery;\r\n    import org.springframework.data.util.CloseableIterator;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.Iterator;\r\n    import java.util.List;\r\n    \r\n    import static org.mockito.ArgumentMatchers.any;\r\n    import static org.mockito.ArgumentMatchers.eq;\r\n    \r\n    @ExtendWith(MockitoExtension.class)\r\n    public class MockCloseableIteratorTest {\r\n    \r\n      @Mock\r\n      ElasticsearchTemplate mockTemplateMock;\r\n    \r\n      @Test\r\n      void foo() {\r\n        List&lt;String&gt; foo = new ArrayList&lt;&gt;();\r\n        // and then I add some elements\r\n        Mockito.when(mockTemplateMock.stream(any(SearchQuery.class), eq(String.class)))\r\n               .thenReturn(createCloseableIterator(foo.iterator()));\r\n    \r\n      }\r\n    \r\n      private &lt;T&gt; CloseableIterator&lt;T&gt; createCloseableIterator(Iterator&lt;T&gt; iterator) {\r\n        return new CloseableIterator&lt;T&gt;() {\r\n          @Override public void close() {\r\n          }\r\n    \r\n          @Override public boolean hasNext() {\r\n            return iterator.hasNext();\r\n          }\r\n    \r\n          @Override public T next() {\r\n            return iterator.next();\r\n          }\r\n        };\r\n      }\r\n    }\r\n\r\n","title":"How to mock CloseableIterator in a test?","body":"<p><code>org.springframework.data.util.CloseableIterator.CloseableIterator</code> from Spring  and <code>java.util.Iterator</code> from JDK are close enough interfaces :  indeed <code>CloseableIterator</code> has <code>Iterator</code> as parent interface.<br />\nWhich means that you can substitute a <code>Iterator</code> by a <code>CloseableIterator</code> but not the reverse : what you need.<br />\nWhile you cannot return an <code>Iterator</code> in your mock record, you can still convert an <code>Iterator</code> to a <code>CloseableIterator</code>.  Which is not very hard thank to method delegation while it still requires a small amount of boilerplate.</p>\n<p>Example :</p>\n<pre><code>import org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.mockito.Mock;\nimport org.mockito.Mockito;\nimport org.springframework.data.elasticsearch.core.ElasticsearchTemplate;\nimport org.springframework.data.elasticsearch.core.query.SearchQuery;\nimport org.springframework.data.util.CloseableIterator;\n\nimport java.util.ArrayList;\nimport java.util.Iterator;\nimport java.util.List;\n\nimport static org.mockito.ArgumentMatchers.any;\nimport static org.mockito.ArgumentMatchers.eq;\n\n@ExtendWith(MockitoExtension.class)\npublic class MockCloseableIteratorTest {\n\n  @Mock\n  ElasticsearchTemplate mockTemplateMock;\n\n  @Test\n  void foo() {\n    List&lt;String&gt; foo = new ArrayList&lt;&gt;();\n    // and then I add some elements\n    Mockito.when(mockTemplateMock.stream(any(SearchQuery.class), eq(String.class)))\n           .thenReturn(createCloseableIterator(foo.iterator()));\n\n  }\n\n  private &lt;T&gt; CloseableIterator&lt;T&gt; createCloseableIterator(Iterator&lt;T&gt; iterator) {\n    return new CloseableIterator&lt;T&gt;() {\n      @Override public void close() {\n      }\n\n      @Override public boolean hasNext() {\n        return iterator.hasNext();\n      }\n\n      @Override public T next() {\n        return iterator.next();\n      }\n    };\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4923650,"reputation":985,"user_id":3965524,"accept_rate":91,"display_name":"JavaTec"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625248225,"creation_date":1625248225,"answer_id":68229450,"question_id":65380848,"body_markdown":"For those working on Kotlin, following will be the syntax for createCloseableIterator method:\r\n\r\n        private fun &lt;T&gt; createCloseableIterator(iterator: Iterator&lt;T&gt;): CloseableIterator&lt;T&gt;? =\r\n        object : CloseableIterator&lt;T&gt; {\r\n            override fun close() {}\r\n            override fun hasNext() = iterator.hasNext()\r\n            override fun next() = iterator.next()\r\n            override fun remove() {}\r\n        }","title":"How to mock CloseableIterator in a test?","body":"<p>For those working on Kotlin, following will be the syntax for createCloseableIterator method:</p>\n<pre><code>    private fun &lt;T&gt; createCloseableIterator(iterator: Iterator&lt;T&gt;): CloseableIterator&lt;T&gt;? =\n    object : CloseableIterator&lt;T&gt; {\n        override fun close() {}\n        override fun hasNext() = iterator.hasNext()\n        override fun next() = iterator.next()\n        override fun remove() {}\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10294808,"reputation":1177,"user_id":7595371,"display_name":"Michael"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672857953,"creation_date":1672857953,"answer_id":75009900,"question_id":65380848,"body_markdown":"    @MockK\r\n    private lateinit var closeableIterator: CloseableIterator&lt;YourClass&gt;\r\n    \r\n    fun() {\r\n            every { closeableIterator.hasNext() } returnsMany listOf(true, false)\r\n            every { closeableIterator.next() } returnsMany listOf(YourClass())\r\n    }\r\n\r\nFor another Kotlin version that worked for me.","title":"How to mock CloseableIterator in a test?","body":"<pre><code>@MockK\nprivate lateinit var closeableIterator: CloseableIterator&lt;YourClass&gt;\n\nfun() {\n        every { closeableIterator.hasNext() } returnsMany listOf(true, false)\n        every { closeableIterator.next() } returnsMany listOf(YourClass())\n}\n</code></pre>\n<p>For another Kotlin version that worked for me.</p>\n"}],"owner":{"account_id":2108163,"reputation":1498,"user_id":1873995,"accept_rate":71,"display_name":"Kamil"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":922,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":65381040,"answer_count":3,"score":3,"last_activity_date":1672857953,"creation_date":1608473837,"question_id":65380848,"body_markdown":"In my implementation I&#39;m grabbing data from ElasticSearch via [ElasticsearchTemplate#stream()][1] which returns `CloseableIterator&lt;&gt;`.\r\n\r\nI&#39;d like to mock this method by doing:\r\n\r\n    List&lt;MyClass&gt; foo = new ArrayList&lt;&gt;(); // and then I add some elements\r\n    when(mockTemplate.stream(any(SearchQuery.class), eq(MyClass.class))\r\n     .thenReturn(foo.iterator());\r\n\r\nbut `iterator()` returns `Iterator&lt;MyClass&gt;` which is not `CloseableIterator&lt;MyClass&gt;` and I have no clue how to cast it or find a workaround.\r\n\r\n  [1]: https://docs.spring.io/spring-data/elasticsearch/docs/3.2.1.RELEASE/api/org/springframework/data/elasticsearch/core/ElasticsearchTemplate.html#stream-org.springframework.data.elasticsearch.core.query.SearchQuery-java.lang.Class-","title":"How to mock CloseableIterator in a test?","body":"<p>In my implementation I'm grabbing data from ElasticSearch via <a href=\"https://docs.spring.io/spring-data/elasticsearch/docs/3.2.1.RELEASE/api/org/springframework/data/elasticsearch/core/ElasticsearchTemplate.html#stream-org.springframework.data.elasticsearch.core.query.SearchQuery-java.lang.Class-\" rel=\"nofollow noreferrer\">ElasticsearchTemplate#stream()</a> which returns <code>CloseableIterator&lt;&gt;</code>.</p>\n<p>I'd like to mock this method by doing:</p>\n<pre><code>List&lt;MyClass&gt; foo = new ArrayList&lt;&gt;(); // and then I add some elements\nwhen(mockTemplate.stream(any(SearchQuery.class), eq(MyClass.class))\n .thenReturn(foo.iterator());\n</code></pre>\n<p>but <code>iterator()</code> returns <code>Iterator&lt;MyClass&gt;</code> which is not <code>CloseableIterator&lt;MyClass&gt;</code> and I have no clue how to cast it or find a workaround.</p>\n"},{"tags":["java","intellij-idea","nullpointerexception","resources"],"answers":[{"comments":[{"owner":{"account_id":1776193,"reputation":2542,"user_id":1619950,"display_name":"Aleksandr Podkutin"},"score":0,"creation_date":1471000417,"post_id":38916339,"comment_id":65190143,"body_markdown":"@BlueTooth4269 Check my answer. I supplemented it.","body":"@BlueTooth4269 Check my answer. I supplemented it."},{"owner":{"account_id":5054381,"reputation":123,"user_id":4058045,"accept_rate":88,"display_name":"BlueTooth4269"},"score":0,"creation_date":1471004196,"post_id":38916339,"comment_id":65192428,"body_markdown":"Nope :( Still nothing.\nI also tried printing the classpath via getting all the folder urls through `ClassLoader` and the `/htmltemplates`folder is not included","body":"Nope :( Still nothing. I also tried printing the classpath via getting all the folder urls through <code>ClassLoader</code> and the <code>&#47;htmltemplates</code>folder is not included"},{"owner":{"account_id":1776193,"reputation":2542,"user_id":1619950,"display_name":"Aleksandr Podkutin"},"score":0,"creation_date":1471008236,"post_id":38916339,"comment_id":65194959,"body_markdown":"@BlueTooth4269 I tried this at my project and all works fine.","body":"@BlueTooth4269 I tried this at my project and all works fine."},{"owner":{"account_id":5054381,"reputation":123,"user_id":4058045,"accept_rate":88,"display_name":"BlueTooth4269"},"score":0,"creation_date":1471009504,"post_id":38916339,"comment_id":65195770,"body_markdown":"So has a colleague of mine. We even did it simultaneously, step by step. His works. Mine doesn&#39;t.\nAs I said, my initial attempt SHOULD have worked. It did in a previous project. Something is very, very wrong.","body":"So has a colleague of mine. We even did it simultaneously, step by step. His works. Mine doesn&#39;t. As I said, my initial attempt SHOULD have worked. It did in a previous project. Something is very, very wrong."}],"tags":[],"owner":{"account_id":1776193,"reputation":2542,"user_id":1619950,"display_name":"Aleksandr Podkutin"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1471000378,"creation_date":1470999486,"answer_id":38916339,"question_id":38916218,"body_markdown":"You need to set relative path not an absolute, like this `htmltemplates` without slash.\r\n\r\nAnd try to add any file to `htmltemplate` folder. Because, if this folder is empty, IDE does not create folder `htmltemplate` in *target\\classes* path.\r\n\r\nBefore run your application, make your project in *Build &gt; Make Project* menu item.","title":"IntelliJ - can&#39;t find resource, nullPointerException using getResource()","body":"<p>You need to set relative path not an absolute, like this <code>htmltemplates</code> without slash.</p>\n\n<p>And try to add any file to <code>htmltemplate</code> folder. Because, if this folder is empty, IDE does not create folder <code>htmltemplate</code> in <em>target\\classes</em> path.</p>\n\n<p>Before run your application, make your project in <em>Build > Make Project</em> menu item.</p>\n"},{"comments":[{"owner":{"account_id":5054381,"reputation":123,"user_id":4058045,"accept_rate":88,"display_name":"BlueTooth4269"},"score":0,"creation_date":1471003798,"post_id":38916603,"comment_id":65192187,"body_markdown":"No, as I pointed out in my original question, I&#39;ve been building a `.jar`artifact, but that doesn&#39;t work either. It should be able to find the resource folder even without this step anyway, it was in the previous project I mentioned.","body":"No, as I pointed out in my original question, I&#39;ve been building a <code>.jar</code>artifact, but that doesn&#39;t work either. It should be able to find the resource folder even without this step anyway, it was in the previous project I mentioned."},{"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"score":0,"creation_date":1471015981,"post_id":38916603,"comment_id":65199942,"body_markdown":"I just tried it myself: running from IntelliJ works and creating a jar and running from that jar works as well. So it is not mistake in the code. Have you checked that the created jar contains the htmltemplates directory?","body":"I just tried it myself: running from IntelliJ works and creating a jar and running from that jar works as well. So it is not mistake in the code. Have you checked that the created jar contains the htmltemplates directory?"},{"owner":{"account_id":1636318,"reputation":14452,"user_id":1509695,"accept_rate":38,"display_name":"matanster"},"score":0,"creation_date":1564964902,"post_id":38916603,"comment_id":101190043,"body_markdown":"This solves it. Why however does IntelliJ actually not build the project automatically before trying to run it? would there be cases where that would make sense?","body":"This solves it. Why however does IntelliJ actually not build the project automatically before trying to run it? would there be cases where that would make sense?"}],"tags":[],"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1471000384,"creation_date":1471000384,"answer_id":38916603,"question_id":38916218,"body_markdown":"your code is ok, but for the program to find the resources when started from within IntelliJ, you first have to build your project with *Build/Make project*. This build step copies the files from _src/main/resources_ to to the classes output directory (_target/classes_ if you have a maven project) and then the classloader is able to find them.","title":"IntelliJ - can&#39;t find resource, nullPointerException using getResource()","body":"<p>your code is ok, but for the program to find the resources when started from within IntelliJ, you first have to build your project with <em>Build/Make project</em>. This build step copies the files from <em>src/main/resources</em> to to the classes output directory (<em>target/classes</em> if you have a maven project) and then the classloader is able to find them.</p>\n"},{"tags":[],"owner":{"account_id":5054381,"reputation":123,"user_id":4058045,"accept_rate":88,"display_name":"BlueTooth4269"},"comment_count":0,"down_vote_count":3,"up_vote_count":1,"is_accepted":true,"score":-2,"last_activity_date":1471348792,"creation_date":1471348792,"answer_id":38974388,"question_id":38916218,"body_markdown":"I finally solved the issue by switching to Maven instead of using the built-in IntelliJ artifact builder. It works, but don&#39;t ask me why, I haven&#39;t the slightest.","title":"IntelliJ - can&#39;t find resource, nullPointerException using getResource()","body":"<p>I finally solved the issue by switching to Maven instead of using the built-in IntelliJ artifact builder. It works, but don't ask me why, I haven't the slightest.</p>\n"},{"tags":[],"owner":{"account_id":8706554,"reputation":1,"user_id":6514339,"display_name":"tomerkay"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1496343891,"creation_date":1496343891,"answer_id":44315250,"question_id":38916218,"body_markdown":"I had the same problem, hope I can help you.\r\nI resolved it by putting the useResource.java in the same package hierarchy as the resourceFile.txt\r\nIn the useResource.java that ask for the resourceFile.txt I just wrote the name as if they were in the same directory.\r\n\r\nFor example, I wrote this line in the useResource.java code:\r\n        database.insertMultipleEntriesAsCSV(&quot;resourceFile.txt&quot;));\r\n\r\nThe useResource.java was inside a directory called &quot;database&quot; inside the &quot;java&quot; directory, and the resourceFile.txt was inside a directory called &quot;database&quot; inside the &quot;resources&quot; directory.\r\nNotice that in Project Structure I marked the &quot;java&quot; directory as &quot;Test&quot; and the &quot;resources&quot; directory as &quot;Resources&quot;.\r\n\r\nBest Regards,\r\nTomer \r\n ","title":"IntelliJ - can&#39;t find resource, nullPointerException using getResource()","body":"<p>I had the same problem, hope I can help you.\nI resolved it by putting the useResource.java in the same package hierarchy as the resourceFile.txt\nIn the useResource.java that ask for the resourceFile.txt I just wrote the name as if they were in the same directory.</p>\n\n<p>For example, I wrote this line in the useResource.java code:\n        database.insertMultipleEntriesAsCSV(\"resourceFile.txt\"));</p>\n\n<p>The useResource.java was inside a directory called \"database\" inside the \"java\" directory, and the resourceFile.txt was inside a directory called \"database\" inside the \"resources\" directory.\nNotice that in Project Structure I marked the \"java\" directory as \"Test\" and the \"resources\" directory as \"Resources\".</p>\n\n<p>Best Regards,\nTomer </p>\n"},{"tags":[],"owner":{"account_id":24905995,"reputation":106,"user_id":18776053,"display_name":"Царь всея мира"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672857920,"creation_date":1672857920,"answer_id":75009891,"question_id":38916218,"body_markdown":"For anyone experiencing the same problem. I solved it by using the using the Classloader of the thirdparty class containing the code above and setting it on the current thread. Something like the following:\r\n\r\n```\r\n- resource \r\n- ---- my.properties\r\n```\r\n\r\n```\r\nThread.currentThread().setContextClassLoader(org.your.clazz.ProblemCode.class.getClassLoader());\r\n\r\nInputStream resourceStream = Thread.currentThread().getContextClassLoader().getResourceAsStream(&quot;my.properties&quot;);\r\n```","title":"IntelliJ - can&#39;t find resource, nullPointerException using getResource()","body":"<p>For anyone experiencing the same problem. I solved it by using the using the Classloader of the thirdparty class containing the code above and setting it on the current thread. Something like the following:</p>\n<pre><code>- resource \n- ---- my.properties\n</code></pre>\n<pre><code>Thread.currentThread().setContextClassLoader(org.your.clazz.ProblemCode.class.getClassLoader());\n\nInputStream resourceStream = Thread.currentThread().getContextClassLoader().getResourceAsStream(&quot;my.properties&quot;);\n</code></pre>\n"}],"owner":{"account_id":5054381,"reputation":123,"user_id":4058045,"accept_rate":88,"display_name":"BlueTooth4269"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4061,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":38974388,"answer_count":5,"score":1,"last_activity_date":1672857920,"creation_date":1470999130,"question_id":38916218,"body_markdown":"Essentially, I&#39;m using (or trying to use) Freemarker, which requires me to set up a folder for templates using\r\n\r\n    cfg.setDirectoryForTemplateLoading(File dir);\r\n\r\nI&#39;ve created a folder `/htmltemplates` in `src/main/resources/htmltemplates`. The class I&#39;m trying to access the resource from is in `src/main/java`.\r\n\r\nHowever, when I try to use \r\n\r\n    URL url = getClass().getResource(&quot;/htmltemplates&quot;);\r\n    File dir = new File(url.toString());\r\n\r\nI get a nullPointerException. I&#39;ve tried various combinations of ClassLoader, tried using a file instead of a directory (useless, he finds nothing), searched on StackOverflow for over an hour...\r\nI had an almost identical setup on a previous occasion, everything worked swimmingly, but now - nothing. Attempts to work out what might be different have led to absolutely zilch.\r\n\r\nI&#39;ve been running the program through IntelliJ&#39;s build environment, also tried building a `.jar` artifact (which I&#39;d been doing before, no problem) and then running it via console, nothing works. Any ideas why this is happening?\r\n\r\nEDIT: This just keeps getting stranger. I&#39;ve had other people at work try it out, we&#39;ve both started new IntelliJ projects simultaneously, set them up identically, and they *can&#39;t replicate my problem*. What the hell?","title":"IntelliJ - can&#39;t find resource, nullPointerException using getResource()","body":"<p>Essentially, I'm using (or trying to use) Freemarker, which requires me to set up a folder for templates using</p>\n\n<pre><code>cfg.setDirectoryForTemplateLoading(File dir);\n</code></pre>\n\n<p>I've created a folder <code>/htmltemplates</code> in <code>src/main/resources/htmltemplates</code>. The class I'm trying to access the resource from is in <code>src/main/java</code>.</p>\n\n<p>However, when I try to use </p>\n\n<pre><code>URL url = getClass().getResource(\"/htmltemplates\");\nFile dir = new File(url.toString());\n</code></pre>\n\n<p>I get a nullPointerException. I've tried various combinations of ClassLoader, tried using a file instead of a directory (useless, he finds nothing), searched on StackOverflow for over an hour...\nI had an almost identical setup on a previous occasion, everything worked swimmingly, but now - nothing. Attempts to work out what might be different have led to absolutely zilch.</p>\n\n<p>I've been running the program through IntelliJ's build environment, also tried building a <code>.jar</code> artifact (which I'd been doing before, no problem) and then running it via console, nothing works. Any ideas why this is happening?</p>\n\n<p>EDIT: This just keeps getting stranger. I've had other people at work try it out, we've both started new IntelliJ projects simultaneously, set them up identically, and they <em>can't replicate my problem</em>. What the hell?</p>\n"},{"tags":["java","maven","logging","logback","slf4j"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1672850219,"post_id":75008433,"comment_id":132367055,"body_markdown":"Why do you have compile scope on the slf4j dependency? Get rid of that","body":"Why do you have compile scope on the slf4j dependency? Get rid of that"},{"owner":{"account_id":9993220,"reputation":611,"user_id":7391720,"accept_rate":38,"display_name":"efoc"},"score":0,"creation_date":1672850549,"post_id":75008433,"comment_id":132367168,"body_markdown":"@g00se I added the dependency back to pom and removed it. the scope, as well as added back logback-core dependency. It still has the same issue.","body":"@g00se I added the dependency back to pom and removed it. the scope, as well as added back logback-core dependency. It still has the same issue."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1672851238,"post_id":75008433,"comment_id":132367432,"body_markdown":"Can you please repost pom.xml then?","body":"Can you please repost pom.xml then?"},{"owner":{"account_id":9993220,"reputation":611,"user_id":7391720,"accept_rate":38,"display_name":"efoc"},"score":0,"creation_date":1672851426,"post_id":75008433,"comment_id":132367503,"body_markdown":"Reposted pom.xml with its update","body":"Reposted pom.xml with its update"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1672852865,"post_id":75008433,"comment_id":132368013,"body_markdown":"Update both logbacks to version 1.4.5 and you need `&lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;` in logback.xml. You certainly have a typo at the moment and in the version I just recommended, that&#39;s the right package","body":"Update both logbacks to version 1.4.5 and you need <code>&lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;</code> in logback.xml. You certainly have a typo at the moment and in the version I just recommended, that&#39;s the right package"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1672858808,"post_id":75008433,"comment_id":132369920,"body_markdown":"Updating logback will work, because logback 1.3 and higher support SLF4J 2.x, while logback 1.2 and earlier support SLF4J 1.x. In SLF4J, the discovery for bindings has changed in an incompatible way. That won&#39;t be a problem if your SLF4J API and binding (logback-classic) use the same SLF4J version, but in your case the binding is for SLF4J 1.x. In fact, I&#39;d also keep the logback dependencies at the same version.","body":"Updating logback will work, because logback 1.3 and higher support SLF4J 2.x, while logback 1.2 and earlier support SLF4J 1.x. In SLF4J, the discovery for bindings has changed in an incompatible way. That won&#39;t be a problem if your SLF4J API and binding (logback-classic) use the same SLF4J version, but in your case the binding is for SLF4J 1.x. In fact, I&#39;d also keep the logback dependencies at the same version."}],"answers":[{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672857828,"creation_date":1672857828,"answer_id":75009871,"question_id":75008433,"body_markdown":"Working pom.xml:\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    \r\n        &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n        &lt;artifactId&gt;Project&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    \r\n    \r\n        &lt;packaging&gt;jar&lt;/packaging&gt;\r\n        &lt;name&gt;Project&lt;/name&gt;\r\n        &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n            &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n        &lt;/properties&gt;\r\n        &lt;build&gt;\r\n            &lt;pluginManagement&gt;\r\n                &lt;plugins&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;3.2.1&lt;/version&gt;\r\n                    &lt;/plugin&gt;\r\n                &lt;/plugins&gt;\r\n            &lt;/pluginManagement&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.2.1&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;phase&gt;package&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;shade&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;transformers&gt;\r\n                                    &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n                                        &lt;mainClass&gt;org.Project.AppMain&lt;/mainClass&gt;\r\n                                    &lt;/transformer&gt;\r\n                                &lt;/transformers&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n                &lt;version&gt;2.0.4&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n                &lt;artifactId&gt;logback-core&lt;/artifactId&gt;\r\n                &lt;version&gt;1.4.5&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n                &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n                &lt;version&gt;1.4.5&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\r\n                &lt;artifactId&gt;json-simple&lt;/artifactId&gt;\r\n                &lt;version&gt;1.1&lt;/version&gt;\r\n                &lt;scope&gt;compile&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n                &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n                &lt;version&gt;2.9.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;junit&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n                &lt;version&gt;RELEASE&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;junit&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n                &lt;version&gt;RELEASE&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n\r\nWorking logback config:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;configuration&gt;\r\n        &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n            &lt;layout class=&quot;ch.qos.logback.classic.PatternLayout&quot;&gt;\r\n                &lt;pattern&gt;%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n&lt;/pattern&gt;\r\n            &lt;/layout&gt;\r\n        &lt;/appender&gt;\r\n    \r\n        &lt;root level=&quot;info&quot;&gt;\r\n            &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\r\n        &lt;/root&gt;\r\n    &lt;/configuration&gt;\r\n\r\n\r\n","title":"Java Maven, Logback library not being setup properly","body":"<p>Working pom.xml:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;Project&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;name&gt;Project&lt;/name&gt;\n    &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n    &lt;build&gt;\n        &lt;pluginManagement&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.2.1&lt;/version&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2.1&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;shade&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;transformers&gt;\n                                &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\n                                    &lt;mainClass&gt;org.Project.AppMain&lt;/mainClass&gt;\n                                &lt;/transformer&gt;\n                            &lt;/transformers&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n            &lt;artifactId&gt;logback-core&lt;/artifactId&gt;\n            &lt;version&gt;1.4.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n            &lt;version&gt;1.4.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\n            &lt;artifactId&gt;json-simple&lt;/artifactId&gt;\n            &lt;version&gt;1.1&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\n            &lt;version&gt;2.9.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;3.8.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n            &lt;version&gt;RELEASE&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;RELEASE&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Working logback config:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;configuration&gt;\n    &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n        &lt;layout class=&quot;ch.qos.logback.classic.PatternLayout&quot;&gt;\n            &lt;pattern&gt;%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n&lt;/pattern&gt;\n        &lt;/layout&gt;\n    &lt;/appender&gt;\n\n    &lt;root level=&quot;info&quot;&gt;\n        &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\n    &lt;/root&gt;\n&lt;/configuration&gt;\n</code></pre>\n"}],"owner":{"account_id":9993220,"reputation":611,"user_id":7391720,"accept_rate":38,"display_name":"efoc"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":774,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672857828,"creation_date":1672849817,"question_id":75008433,"body_markdown":"I am getting this is same issue of &#39;No SLF4J providers were found.&#39; and &#39;Ignoring binding found at StaticLoggerBinder.class&#39;\r\n\r\nI have tried added dependencies for Logback such as classic and core but I still face the same issue. I don&#39;t know what I am doing wrong. I just have a basic logback.xml as well just to check if it works. I commented out some of the dependencies to see if it changes the error output but it is still the same.\r\n\r\nFrom my understanding, just having logback-classic and logback-core should suffice to make it work. Some of the tutorials I followed just had logback-classic in the pom.xml, unfortunately it does not work for me.\r\n\r\nerror output\r\n```\r\nPicked up JAVA_TOOL_OPTIONS: -agentpath:&quot;C:\\WINDOWS\\system32\\Aternity\\Java\\JavaHookLoader.dll&quot;=&quot;C:\\ProgramData\\Aternity\\hooks&quot;\r\nSLF4J: No SLF4J providers were found.\r\nSLF4J: Defaulting to no-operation (NOP) logger implementation\r\nSLF4J: See https://www.slf4j.org/codes.html#noProviders for further details.\r\nSLF4J: Class path contains SLF4J bindings targeting slf4j-api versions 1.7.x or earlier.\r\nSLF4J: Ignoring binding found at [jar:file:/C:/Users/username/.m2/repository/ch/qos/logback/logback-classic/1.2.3/logback-classic-1.2.3.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\nSLF4J: See https://www.slf4j.org/codes.html#ignoredBindings for an explanation.\r\n```\r\n\r\npom.xml\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n\r\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;Project&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    &lt;name&gt;Project&lt;/name&gt;\r\n    &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n    &lt;build&gt;\r\n        &lt;pluginManagement&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.2.1&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.1&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;shade&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;transformers&gt;\r\n                                &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n                                    &lt;mainClass&gt;org.Project.AppMain&lt;/mainClass&gt;\r\n                                &lt;/transformer&gt;\r\n                            &lt;/transformers&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n            &lt;artifactId&gt;logback-core&lt;/artifactId&gt;\r\n            &lt;version&gt;1.3.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\r\n            &lt;artifactId&gt;json-simple&lt;/artifactId&gt;\r\n            &lt;version&gt;1.1&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n            &lt;version&gt;2.9.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;version&gt;3.8.1&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n            &lt;version&gt;RELEASE&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;version&gt;RELEASE&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n\r\n``` \r\n\r\nMain class\r\n```\r\npackage org.project;\r\n\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\npublic class AppMain\r\n{\r\n    private static final Logger logger = LoggerFactory.getLogger(AppMain.class);\r\n    public static void main( String[] args )\r\n    {\r\n        logger.debug(&quot;Starting&quot;);\r\n        new ProcessFiles();\r\n        logger.debug(&quot;Finished&quot;);\r\n    }\r\n}\r\n```\r\n\r\nlogback.xml (in resources package under main package)\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;configuration&gt;\r\n    &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.console.consoleAppender&quot;&gt;\r\n        &lt;layout class=&quot;ch.qos.logback.classic.PatternLayout&quot;&gt;\r\n            &lt;pattern&gt;%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n&lt;/pattern&gt;\r\n        &lt;/layout&gt;\r\n    &lt;/appender&gt;\r\n\r\n    &lt;root level=&quot;info&quot;&gt;\r\n        &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\r\n    &lt;/root&gt;\r\n&lt;/configuration&gt;\r\n```","title":"Java Maven, Logback library not being setup properly","body":"<p>I am getting this is same issue of 'No SLF4J providers were found.' and 'Ignoring binding found at StaticLoggerBinder.class'</p>\n<p>I have tried added dependencies for Logback such as classic and core but I still face the same issue. I don't know what I am doing wrong. I just have a basic logback.xml as well just to check if it works. I commented out some of the dependencies to see if it changes the error output but it is still the same.</p>\n<p>From my understanding, just having logback-classic and logback-core should suffice to make it work. Some of the tutorials I followed just had logback-classic in the pom.xml, unfortunately it does not work for me.</p>\n<p>error output</p>\n<pre><code>Picked up JAVA_TOOL_OPTIONS: -agentpath:&quot;C:\\WINDOWS\\system32\\Aternity\\Java\\JavaHookLoader.dll&quot;=&quot;C:\\ProgramData\\Aternity\\hooks&quot;\nSLF4J: No SLF4J providers were found.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See https://www.slf4j.org/codes.html#noProviders for further details.\nSLF4J: Class path contains SLF4J bindings targeting slf4j-api versions 1.7.x or earlier.\nSLF4J: Ignoring binding found at [jar:file:/C:/Users/username/.m2/repository/ch/qos/logback/logback-classic/1.2.3/logback-classic-1.2.3.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: See https://www.slf4j.org/codes.html#ignoredBindings for an explanation.\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;Project&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;name&gt;Project&lt;/name&gt;\n    &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n    &lt;build&gt;\n        &lt;pluginManagement&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.2.1&lt;/version&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2.1&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;shade&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;transformers&gt;\n                                &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\n                                    &lt;mainClass&gt;org.Project.AppMain&lt;/mainClass&gt;\n                                &lt;/transformer&gt;\n                            &lt;/transformers&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n            &lt;artifactId&gt;logback-core&lt;/artifactId&gt;\n            &lt;version&gt;1.3.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n            &lt;version&gt;1.2.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\n            &lt;artifactId&gt;json-simple&lt;/artifactId&gt;\n            &lt;version&gt;1.1&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\n            &lt;version&gt;2.9.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;3.8.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n            &lt;version&gt;RELEASE&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;RELEASE&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n\n</code></pre>\n<p>Main class</p>\n<pre><code>package org.project;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\npublic class AppMain\n{\n    private static final Logger logger = LoggerFactory.getLogger(AppMain.class);\n    public static void main( String[] args )\n    {\n        logger.debug(&quot;Starting&quot;);\n        new ProcessFiles();\n        logger.debug(&quot;Finished&quot;);\n    }\n}\n</code></pre>\n<p>logback.xml (in resources package under main package)</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;configuration&gt;\n    &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.console.consoleAppender&quot;&gt;\n        &lt;layout class=&quot;ch.qos.logback.classic.PatternLayout&quot;&gt;\n            &lt;pattern&gt;%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n&lt;/pattern&gt;\n        &lt;/layout&gt;\n    &lt;/appender&gt;\n\n    &lt;root level=&quot;info&quot;&gt;\n        &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\n    &lt;/root&gt;\n&lt;/configuration&gt;\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":7508054,"reputation":31,"user_id":5703984,"display_name":"shakawy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672857281,"creation_date":1672857145,"answer_id":75009762,"question_id":73397761,"body_markdown":"I faced same issue on macOS.\r\n\r\nFor mac ONLY, add the following line to `~/.zshrc` file.\r\n\r\n`export PLAYWRIGHT_JAVA_SRC=/usr/libexec/java_home`\r\n\r\nDon&#39;t forget to close your current terminal and open a new one in order to read the updated env variables.","title":"How to set Playwright Source root directory via PLAYWRIGHT_JAVA_SRC environment variable when source collection is enabled -How to set it for linux","body":"<p>I faced same issue on macOS.</p>\n<p>For mac ONLY, add the following line to <code>~/.zshrc</code> file.</p>\n<p><code>export PLAYWRIGHT_JAVA_SRC=/usr/libexec/java_home</code></p>\n<p>Don't forget to close your current terminal and open a new one in order to read the updated env variables.</p>\n"}],"owner":{"account_id":26076836,"reputation":1,"user_id":19775666,"display_name":"vasanth"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":319,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672857281,"creation_date":1660799679,"question_id":73397761,"body_markdown":"I&#39;m trying to run my  Playwright trace using java and I&#39;m getting the below error, I&#39;m not sure what I&#39;m missing out and I&#39;m running my code in eclipse\r\n\r\n    final Browser.NewContextOptions browserContextOptions = new Browser.NewContextOptions().setIgnoreHTTPSErrors(true).setViewportSize(width,height);\r\n    \t    context = browser.newContext(browserContextOptions);\r\n    \t\t//context = browser.newContext(new Browser.NewContextOptions().setViewportSize(width, height));\r\n    \r\n    \t\t// Start tracing before creating / navigating a page.\r\n    \t\tcontext.tracing().start(new Tracing.StartOptions()\r\n    \t\t\t\t.setScreenshots(true)\r\n    \t\t\t\t.setSnapshots(true)\r\n    \t\t\t\t.setSources(true));\r\n    \t\tpage = context.newPage();\r\n\r\n\r\nI am getting the following error\r\n\r\n\r\n&gt; [RemoteTestNG] detected TestNG version 7.4.0 FAILED CONFIGURATION:\r\n&gt; @BeforeMethod doLaunchBrowser\r\n&gt; com.microsoft.playwright.PlaywrightException: Source root directory\r\n&gt; must be specified via PLAYWRIGHT_JAVA_SRC environment variable when\r\n&gt; source collection is enabled \tat\r\n&gt; com.microsoft.playwright.impl.TracingImpl.startImpl(TracingImpl.java:94)\r\n&gt; \tat\r\n&gt; com.microsoft.playwright.impl.TracingImpl.lambda$start$0(TracingImpl.java:68)\r\n&gt; \tat\r\n&gt; com.microsoft.playwright.impl.LoggingSupport.lambda$withLogging$0(LoggingSupport.java:36)\r\n&gt; \tat\r\n&gt; com.microsoft.playwright.impl.LoggingSupport.withLogging(LoggingSupport.java:47)\r\n&gt; \tat\r\n&gt; com.microsoft.playwright.impl.ChannelOwner.withLogging(ChannelOwner.java:85)\r\n&gt; \tat\r\n&gt; com.microsoft.playwright.impl.LoggingSupport.withLogging(LoggingSupport.java:35)\r\n&gt; \tat\r\n&gt; com.microsoft.playwright.impl.TracingImpl.start(TracingImpl.java:68)\r\n&gt; \tat\r\n&gt; com.united_arab_bank.base.BasePage.doLaunchBrowser(BasePage.java:91)\r\n&gt; \tat\r\n&gt; java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native\r\n&gt; Method) \tat\r\n&gt; java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n&gt; \tat\r\n&gt; java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n&gt; \tat java.base/java.lang.reflect.Method.invoke(Method.java:568) \tat\r\n&gt; org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:133)\r\n&gt; \tat\r\n&gt; org.testng.internal.MethodInvocationHelper.invokeMethodConsideringTimeout(MethodInvocationHelper.java:62)\r\n&gt; \tat\r\n&gt; org.testng.internal.ConfigInvoker.invokeConfigurationMethod(ConfigInvoker.java:385)\r\n&gt; \tat\r\n&gt; org.testng.internal.ConfigInvoker.invokeConfigurations(ConfigInvoker.java:321)\r\n&gt; \tat\r\n&gt; org.testng.internal.TestInvoker.runConfigMethods(TestInvoker.java:700)\r\n&gt; \tat org.testng.internal.TestInvoker.invokeMethod(TestInvoker.java:527)\r\n&gt; \tat\r\n&gt; org.testng.internal.TestInvoker.invokeTestMethod(TestInvoker.java:173)\r\n&gt; \tat\r\n&gt; org.testng.internal.MethodRunner.runInSequence(MethodRunner.java:46)\r\n&gt; \tat\r\n&gt; org.testng.internal.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:824)\r\n&gt; \tat\r\n&gt; org.testng.internal.TestInvoker.invokeTestMethods(TestInvoker.java:146)\r\n&gt; \tat\r\n&gt; org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:146)\r\n&gt; \tat\r\n&gt; org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:128)\r\n&gt; \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511) \tat\r\n&gt; org.testng.TestRunner.privateRun(TestRunner.java:794) \tat\r\n&gt; org.testng.TestRunner.run(TestRunner.java:596) \tat\r\n&gt; org.testng.SuiteRunner.runTest(SuiteRunner.java:377) \tat\r\n&gt; org.testng.SuiteRunner.runSequentially(SuiteRunner.java:371) \tat\r\n&gt; org.testng.SuiteRunner.privateRun(SuiteRunner.java:332) \tat\r\n&gt; org.testng.SuiteRunner.run(SuiteRunner.java:276) \tat\r\n&gt; org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53) \tat\r\n&gt; org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:96) \tat\r\n&gt; org.testng.TestNG.runSuitesSequentially(TestNG.java:1212) \tat\r\n&gt; org.testng.TestNG.runSuitesLocally(TestNG.java:1134) \tat\r\n&gt; org.testng.TestNG.runSuites(TestNG.java:1063) \tat\r\n&gt; org.testng.TestNG.run(TestNG.java:1031) \tat\r\n&gt; org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:115)\r\n&gt; \tat org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:251)\r\n&gt; \tat org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:77)\r\n\r\n","title":"How to set Playwright Source root directory via PLAYWRIGHT_JAVA_SRC environment variable when source collection is enabled -How to set it for linux","body":"<p>I'm trying to run my  Playwright trace using java and I'm getting the below error, I'm not sure what I'm missing out and I'm running my code in eclipse</p>\n<pre><code>final Browser.NewContextOptions browserContextOptions = new Browser.NewContextOptions().setIgnoreHTTPSErrors(true).setViewportSize(width,height);\n        context = browser.newContext(browserContextOptions);\n        //context = browser.newContext(new Browser.NewContextOptions().setViewportSize(width, height));\n\n        // Start tracing before creating / navigating a page.\n        context.tracing().start(new Tracing.StartOptions()\n                .setScreenshots(true)\n                .setSnapshots(true)\n                .setSources(true));\n        page = context.newPage();\n</code></pre>\n<p>I am getting the following error</p>\n<blockquote>\n<p>[RemoteTestNG] detected TestNG version 7.4.0 FAILED CONFIGURATION:\n@BeforeMethod doLaunchBrowser\ncom.microsoft.playwright.PlaywrightException: Source root directory\nmust be specified via PLAYWRIGHT_JAVA_SRC environment variable when\nsource collection is enabled  at\ncom.microsoft.playwright.impl.TracingImpl.startImpl(TracingImpl.java:94)\nat\ncom.microsoft.playwright.impl.TracingImpl.lambda$start$0(TracingImpl.java:68)\nat\ncom.microsoft.playwright.impl.LoggingSupport.lambda$withLogging$0(LoggingSupport.java:36)\nat\ncom.microsoft.playwright.impl.LoggingSupport.withLogging(LoggingSupport.java:47)\nat\ncom.microsoft.playwright.impl.ChannelOwner.withLogging(ChannelOwner.java:85)\nat\ncom.microsoft.playwright.impl.LoggingSupport.withLogging(LoggingSupport.java:35)\nat\ncom.microsoft.playwright.impl.TracingImpl.start(TracingImpl.java:68)\nat\ncom.united_arab_bank.base.BasePage.doLaunchBrowser(BasePage.java:91)\nat\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native\nMethod)   at\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\nat\njava.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:568)   at\norg.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:133)\nat\norg.testng.internal.MethodInvocationHelper.invokeMethodConsideringTimeout(MethodInvocationHelper.java:62)\nat\norg.testng.internal.ConfigInvoker.invokeConfigurationMethod(ConfigInvoker.java:385)\nat\norg.testng.internal.ConfigInvoker.invokeConfigurations(ConfigInvoker.java:321)\nat\norg.testng.internal.TestInvoker.runConfigMethods(TestInvoker.java:700)\nat org.testng.internal.TestInvoker.invokeMethod(TestInvoker.java:527)\nat\norg.testng.internal.TestInvoker.invokeTestMethod(TestInvoker.java:173)\nat\norg.testng.internal.MethodRunner.runInSequence(MethodRunner.java:46)\nat\norg.testng.internal.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:824)\nat\norg.testng.internal.TestInvoker.invokeTestMethods(TestInvoker.java:146)\nat\norg.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:146)\nat\norg.testng.internal.TestMethodWorker.run(TestMethodWorker.java:128)\nat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)   at\norg.testng.TestRunner.privateRun(TestRunner.java:794)     at\norg.testng.TestRunner.run(TestRunner.java:596)    at\norg.testng.SuiteRunner.runTest(SuiteRunner.java:377)  at\norg.testng.SuiteRunner.runSequentially(SuiteRunner.java:371)  at\norg.testng.SuiteRunner.privateRun(SuiteRunner.java:332)   at\norg.testng.SuiteRunner.run(SuiteRunner.java:276)  at\norg.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)  at\norg.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:96)   at\norg.testng.TestNG.runSuitesSequentially(TestNG.java:1212)     at\norg.testng.TestNG.runSuitesLocally(TestNG.java:1134)  at\norg.testng.TestNG.runSuites(TestNG.java:1063)     at\norg.testng.TestNG.run(TestNG.java:1031)   at\norg.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:115)\nat org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:251)\nat org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:77)</p>\n</blockquote>\n"},{"tags":["java","mysql","spring","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":23483000,"reputation":56,"user_id":17534884,"display_name":"Samir Zafar"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1672856646,"creation_date":1672856646,"answer_id":75009688,"question_id":75009628,"body_markdown":"In your UserRepository you could try the following...\r\n&lt;!-- language-all: java--&gt;\r\n\r\n    @Query(&quot;select u from User u order by u.followers.size&quot;)\r\n    User findAllOrderedByFollowing();\r\n\r\nTaking full advantage of JPA. Hope this helps.\r\n","title":"Order by most relations in Spring JPA","body":"<p>In your UserRepository you could try the following...</p>\n\n<pre><code>@Query(&quot;select u from User u order by u.followers.size&quot;)\nUser findAllOrderedByFollowing();\n</code></pre>\n<p>Taking full advantage of JPA. Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672856754,"creation_date":1672856754,"answer_id":75009702,"question_id":75009628,"body_markdown":"I have definitely done this in MySQL; I don&#39;t have the query where I did this right on hand though.\r\n\r\nI think it is something like\r\n\r\n    select id, count(followers) as indx from ..., collate by id, order by indx","title":"Order by most relations in Spring JPA","body":"<p>I have definitely done this in MySQL; I don't have the query where I did this right on hand though.</p>\n<p>I think it is something like</p>\n<pre><code>select id, count(followers) as indx from ..., collate by id, order by indx\n</code></pre>\n"}],"owner":{"display_name":"user19845343"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75009688,"answer_count":2,"score":0,"last_activity_date":1672856754,"creation_date":1672856289,"question_id":75009628,"body_markdown":"I am trying to develop a social network in Angular and Spring.\r\n\r\nI have users and they can follow eachother.\r\nMy User class looks something like this.\r\n\r\n    public class User {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long userId;\r\n    \r\n        @OneToMany(mappedBy = &quot;following&quot;)\r\n        private List&lt;Follow&gt; followers;\r\n    \r\n        @OneToMany(mappedBy = &quot;follower&quot;)\r\n        private List&lt;Follow&gt; following;\r\n    \r\n    }\r\n\r\nIs there anyway I can get all the users ordered by the number of followers?","title":"Order by most relations in Spring JPA","body":"<p>I am trying to develop a social network in Angular and Spring.</p>\n<p>I have users and they can follow eachother.\nMy User class looks something like this.</p>\n<pre><code>public class User {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long userId;\n\n    @OneToMany(mappedBy = &quot;following&quot;)\n    private List&lt;Follow&gt; followers;\n\n    @OneToMany(mappedBy = &quot;follower&quot;)\n    private List&lt;Follow&gt; following;\n\n}\n</code></pre>\n<p>Is there anyway I can get all the users ordered by the number of followers?</p>\n"},{"tags":["java","discord","discord-jda","lavaplayer"],"answers":[{"tags":[],"owner":{"account_id":14719989,"reputation":5877,"user_id":10630900,"display_name":"Minn"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656969987,"creation_date":1656958291,"answer_id":72860632,"question_id":72859697,"body_markdown":"The most common issues that can cause lags are:\r\n\r\n1. An internet connection with limited download/upload (especially applies to home connections)\r\n2. Garbage-Collection (GC) pauses caused by the JVM cleaning up unused memory\r\n\r\nYou can use [jda-nas](https://github.com/sedmelluq/jda-nas) to avoid the issue of GC pauses interrupting your playback.\r\n\r\nThe main downside of jda-nas, is that you can no longer use voice receive if you change your send-factory.\r\n\r\nAnother alternative is to use [lavalink](https://github.com/freyacodes/lavalink), but setting that up requires some extra effort.","title":"JDA Lavaplayer Discord Bot lagging","body":"<p>The most common issues that can cause lags are:</p>\n<ol>\n<li>An internet connection with limited download/upload (especially applies to home connections)</li>\n<li>Garbage-Collection (GC) pauses caused by the JVM cleaning up unused memory</li>\n</ol>\n<p>You can use <a href=\"https://github.com/sedmelluq/jda-nas\" rel=\"nofollow noreferrer\">jda-nas</a> to avoid the issue of GC pauses interrupting your playback.</p>\n<p>The main downside of jda-nas, is that you can no longer use voice receive if you change your send-factory.</p>\n<p>Another alternative is to use <a href=\"https://github.com/freyacodes/lavalink\" rel=\"nofollow noreferrer\">lavalink</a>, but setting that up requires some extra effort.</p>\n"}],"owner":{"account_id":10790028,"reputation":11,"user_id":14537141,"display_name":"DanceDown"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":437,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672855835,"creation_date":1656951976,"question_id":72859697,"body_markdown":"I&#39;ve been programming a Discord Bot using Lavaplayer and the JDA and they work fine, but sometimes the bot is **extremely laggy**. When I invited other bots before, they also lagged (but often times not as hard as mine). The difference to other questions on StackOverflow concerning this topic is, that my bot is already lagging when I start it locally, which makes me think, that my code is wrong. Sometimes it works for 10 minutes and then it lags for 5 minutes, sometimes it lags for 20 minutes and then works fine for 1 minute; very inconsistent.\r\nI run my bot on a raspberry (but that&#39;s not the reason and my internet connection is also good enough); it sounds like if a cache, buffer or something is overflowing or there may be lots packets being lost and the audio is **very distorted**.\r\n\r\nI uploaded the code for the bot on [GitHub](https://github.com/DanceDown/Musikroboter). (Only the &quot;Musikroboter&quot; class has a German name, the rest should be English)\r\n\r\nEdit: Others also experience these lags.","title":"JDA Lavaplayer Discord Bot lagging","body":"<p>I've been programming a Discord Bot using Lavaplayer and the JDA and they work fine, but sometimes the bot is <strong>extremely laggy</strong>. When I invited other bots before, they also lagged (but often times not as hard as mine). The difference to other questions on StackOverflow concerning this topic is, that my bot is already lagging when I start it locally, which makes me think, that my code is wrong. Sometimes it works for 10 minutes and then it lags for 5 minutes, sometimes it lags for 20 minutes and then works fine for 1 minute; very inconsistent.\nI run my bot on a raspberry (but that's not the reason and my internet connection is also good enough); it sounds like if a cache, buffer or something is overflowing or there may be lots packets being lost and the audio is <strong>very distorted</strong>.</p>\n<p>I uploaded the code for the bot on <a href=\"https://github.com/DanceDown/Musikroboter\" rel=\"nofollow noreferrer\">GitHub</a>. (Only the &quot;Musikroboter&quot; class has a German name, the rest should be English)</p>\n<p>Edit: Others also experience these lags.</p>\n"},{"tags":["java","android","browser"],"comments":[{"owner":{"account_id":8391404,"reputation":293,"user_id":6300032,"display_name":"SimGel"},"score":0,"creation_date":1666429385,"post_id":74161992,"comment_id":130938391,"body_markdown":"are you really running ajva in the browser? or is it javascript?","body":"are you really running ajva in the browser? or is it javascript?"},{"owner":{"account_id":6599826,"reputation":213,"user_id":7390327,"display_name":"Jan"},"score":0,"creation_date":1666448358,"post_id":74161992,"comment_id":130941835,"body_markdown":"What does browser extension run? Javascript?","body":"What does browser extension run? Javascript?"}],"answers":[{"comments":[{"owner":{"account_id":6599826,"reputation":213,"user_id":7390327,"display_name":"Jan"},"score":0,"creation_date":1666448482,"post_id":74162218,"comment_id":130941860,"body_markdown":"I think that most browsers can receive Firebase Cloud Messages. So if it is not websocket, could I use FCM to send small amount of data from mobile directly to browser without any (other than FCM) third server?","body":"I think that most browsers can receive Firebase Cloud Messages. So if it is not websocket, could I use FCM to send small amount of data from mobile directly to browser without any (other than FCM) third server?"},{"owner":{"account_id":8391404,"reputation":293,"user_id":6300032,"display_name":"SimGel"},"score":0,"creation_date":1666449669,"post_id":74162218,"comment_id":130942165,"body_markdown":"FCM was build to send notifications to mobile devices. But you can also send notifications to the browser.\nIt was not build to transfer lots of data between devices. If it fits your use-case give it a try.","body":"FCM was build to send notifications to mobile devices. But you can also send notifications to the browser. It was not build to transfer lots of data between devices. If it fits your use-case give it a try."},{"owner":{"account_id":6599826,"reputation":213,"user_id":7390327,"display_name":"Jan"},"score":0,"creation_date":1666464733,"post_id":74162218,"comment_id":130945385,"body_markdown":"By the way, when Whatsapp web communicates with Whatsapp on mobile, I do not think it goes over some 3rd party server. It seems to me that by pairing over QR code some kind of p2p authorization and connection is estabilished and then when mobile device receives the message, it is send from mobile straight to browser session. I only think so, I can&#39;t prove it.","body":"By the way, when Whatsapp web communicates with Whatsapp on mobile, I do not think it goes over some 3rd party server. It seems to me that by pairing over QR code some kind of p2p authorization and connection is estabilished and then when mobile device receives the message, it is send from mobile straight to browser session. I only think so, I can&#39;t prove it."}],"tags":[],"owner":{"account_id":8391404,"reputation":293,"user_id":6300032,"display_name":"SimGel"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1672855537,"creation_date":1666428929,"answer_id":74162218,"question_id":74161992,"body_markdown":"Since both applications (browser + app) are both websocket clients, you need a third application acting as the websocket \r\nserver. This third application has to offer the websocket(s) that both applications connect to `ws://third-app/socket`.\r\n\r\nIf this app is running locally in your network or on a server on the Internet is up to you. But if both devices are in different subnets your firewalls/routers have to ensure that both devices can reach the websocket server.\r\n","title":"Is it possible to create connection (websocket?) from mobile phone to java on desktop?","body":"<p>Since both applications (browser + app) are both websocket clients, you need a third application acting as the websocket\nserver. This third application has to offer the websocket(s) that both applications connect to <code>ws://third-app/socket</code>.</p>\n<p>If this app is running locally in your network or on a server on the Internet is up to you. But if both devices are in different subnets your firewalls/routers have to ensure that both devices can reach the websocket server.</p>\n"}],"owner":{"account_id":6599826,"reputation":213,"user_id":7390327,"display_name":"Jan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":602,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1672855537,"creation_date":1666425938,"question_id":74161992,"body_markdown":"I would like to send data directly from my Android phone to Java in the web browser on my desktop. Both devices may not be on the same subnet. Is it actually possible, or do the both devices first need to connect to a common server on the Internet that relays the data between two [websockets][1]?\r\n\r\n  [1]: https://en.wikipedia.org/wiki/WebSocket\r\n","title":"Is it possible to create connection (websocket?) from mobile phone to java on desktop?","body":"<p>I would like to send data directly from my Android phone to Java in the web browser on my desktop. Both devices may not be on the same subnet. Is it actually possible, or do the both devices first need to connect to a common server on the Internet that relays the data between two <a href=\"https://en.wikipedia.org/wiki/WebSocket\" rel=\"nofollow noreferrer\">websockets</a>?</p>\n"},{"tags":["java","linux","centos7"],"answers":[{"comments":[{"owner":{"account_id":9768165,"reputation":4821,"user_id":7240957,"display_name":"Petar Tonev"},"score":0,"creation_date":1519062691,"post_id":48871393,"comment_id":84746905,"body_markdown":"Thanks you for your answer, the paths to the commands did work, however even with the new state of /etc/environment the path variable is still broken:","body":"Thanks you for your answer, the paths to the commands did work, however even with the new state of /etc/environment the path variable is still broken:"},{"owner":{"account_id":9768165,"reputation":4821,"user_id":7240957,"display_name":"Petar Tonev"},"score":0,"creation_date":1519062697,"post_id":48871393,"comment_id":84746909,"body_markdown":"JAVA_HOME=/opt/jdk1.8.0_161\nJRE_HOME=/opt/jdk1.8.0_161/jre\nPATH=$PATH:/opt/jdk1.8.0_161/bin:/opt/jdk1.8.0_161/jre/bin","body":"JAVA_HOME=/opt/jdk1.8.0_161 JRE_HOME=/opt/jdk1.8.0_161/jre PATH=$PATH:/opt/jdk1.8.0_161/bin:/opt/jdk1.8.0_161/jre/bin"},{"owner":{"account_id":1994140,"reputation":2375,"user_id":1787434,"accept_rate":80,"display_name":"the_storyteller"},"score":0,"creation_date":1519062733,"post_id":48871393,"comment_id":84746925,"body_markdown":"Have you exited/reloaded the shell?","body":"Have you exited/reloaded the shell?"},{"owner":{"account_id":9768165,"reputation":4821,"user_id":7240957,"display_name":"Petar Tonev"},"score":0,"creation_date":1519062789,"post_id":48871393,"comment_id":84746954,"body_markdown":"Yes, i restarted the whole box - once with an empty file - which worked, then with this, which does not work","body":"Yes, i restarted the whole box - once with an empty file - which worked, then with this, which does not work"},{"owner":{"account_id":1994140,"reputation":2375,"user_id":1787434,"accept_rate":80,"display_name":"the_storyteller"},"score":0,"creation_date":1519062903,"post_id":48871393,"comment_id":84747004,"body_markdown":"Instead of `PATH=$PATH:/bla`, try appending your `/opt/java/bla` paths to the existing `PATH` in `/etc/environment`","body":"Instead of <code>PATH=$PATH:&#47;bla</code>, try appending your <code>&#47;opt&#47;java&#47;bla</code> paths to the existing <code>PATH</code> in <code>&#47;etc&#47;environment</code>"},{"owner":{"account_id":9768165,"reputation":4821,"user_id":7240957,"display_name":"Petar Tonev"},"score":0,"creation_date":1519063053,"post_id":48871393,"comment_id":84747066,"body_markdown":"There isn&#39;t such - when I first opened the file - it was empty. What I have posted here are all of its contents.","body":"There isn&#39;t such - when I first opened the file - it was empty. What I have posted here are all of its contents."},{"owner":{"account_id":1994140,"reputation":2375,"user_id":1787434,"accept_rate":80,"display_name":"the_storyteller"},"score":0,"creation_date":1519063096,"post_id":48871393,"comment_id":84747090,"body_markdown":"My `/etc/environment` has `PATH` in it.\n`PATH=&quot;/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin&quot;`","body":"My <code>&#47;etc&#47;environment</code> has <code>PATH</code> in it. <code>PATH=&quot;&#47;usr&#47;local&#47;sbin:&#47;usr&#47;local&#47;bin:&#47;usr&#47;sbin:&#47;usr&#47;bin:&#47;sbi&zwnj;&#8203;n:&#47;bin&quot;</code>"},{"owner":{"account_id":9768165,"reputation":4821,"user_id":7240957,"display_name":"Petar Tonev"},"score":0,"creation_date":1519063730,"post_id":48871393,"comment_id":84747424,"body_markdown":"So, I had a look at the path that I have with empty env file and it look similar to yours, but when I modify it through env, the initial values seem to disappear, so I added them as well and everything seems to be working fine now. Thanks!","body":"So, I had a look at the path that I have with empty env file and it look similar to yours, but when I modify it through env, the initial values seem to disappear, so I added them as well and everything seems to be working fine now. Thanks!"},{"owner":{"account_id":1994140,"reputation":2375,"user_id":1787434,"accept_rate":80,"display_name":"the_storyteller"},"score":1,"creation_date":1519063971,"post_id":48871393,"comment_id":84747569,"body_markdown":"Glad it worked.\nI was just reading about CentOS environment, and it looks like ideally you should create an `/etc/profile.d` script, such as `/etc/profile.d/java.sh`, and set your environment variable and path in there, which wouldn&#39;t mess up your path like setting them in `/etc/environment` did.","body":"Glad it worked. I was just reading about CentOS environment, and it looks like ideally you should create an <code>&#47;etc&#47;profile.d</code> script, such as <code>&#47;etc&#47;profile.d&#47;java.sh</code>, and set your environment variable and path in there, which wouldn&#39;t mess up your path like setting them in <code>&#47;etc&#47;environment</code> did."}],"tags":[],"owner":{"account_id":1994140,"reputation":2375,"user_id":1787434,"accept_rate":80,"display_name":"the_storyteller"},"comment_count":9,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1672855364,"creation_date":1519061817,"answer_id":48871393,"question_id":48871323,"body_markdown":"Don&#39;t `export` in `/etc/environment`. Instead, provide only the definitions, such as `JAVA_HOME=/opt/jdk1.8.0_161`.\r\n\r\nUse the full path to `vi`, such as `/usr/bin/vi` to fix the file. This way `PATH` (which is exported in the now failing `/etc/environment`) won&#39;t be searched.\r\n\r\nHere is an example command.\r\n\r\n    /usr/bin/sudo /usr/bin/vi /etc/environment","title":"Setting Java environmental variables on Centos 7 breaks the $PATH","body":"<p>Don't <code>export</code> in <code>/etc/environment</code>. Instead, provide only the definitions, such as <code>JAVA_HOME=/opt/jdk1.8.0_161</code>.</p>\n<p>Use the full path to <code>vi</code>, such as <code>/usr/bin/vi</code> to fix the file. This way <code>PATH</code> (which is exported in the now failing <code>/etc/environment</code>) won't be searched.</p>\n<p>Here is an example command.</p>\n<pre><code>/usr/bin/sudo /usr/bin/vi /etc/environment\n</code></pre>\n"}],"owner":{"account_id":9768165,"reputation":4821,"user_id":7240957,"display_name":"Petar Tonev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2053,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":48871393,"answer_count":1,"score":0,"last_activity_date":1672855364,"creation_date":1519061538,"question_id":48871323,"body_markdown":"After installing Java 8 on a Centos 7 server I added the following lines to /etc/environment\r\n\r\n    export JAVA_HOME=/opt/jdk1.8.0_161\r\n    export JRE_HOME=/opt/jdk1.8.0_161/jre\r\n    export PATH=$PATH:/opt/jdk1.8.0_161/bin:/opt/jdk1.8.0_161/jre/bin\r\n\r\nHowever after a restart on the box, after I login it comes up with \r\n\r\n    -bash: id: command not found\r\n    -bash: id: command not found\r\n    -bash: id: command not found\r\n    /usr/libexec/grepconf.sh: line 5: grep: command not found\r\n\r\nThis makes me think I have broken the PATH variable somehow, but I cannot open /etc/environment as &quot;less&quot;, &quot;vi&quot; and etc are not recognised as commands.\r\n\r\nAnd ideas on that I did wrong and how do I fix the current state?","title":"Setting Java environmental variables on Centos 7 breaks the $PATH","body":"<p>After installing Java 8 on a Centos 7 server I added the following lines to /etc/environment</p>\n\n<pre><code>export JAVA_HOME=/opt/jdk1.8.0_161\nexport JRE_HOME=/opt/jdk1.8.0_161/jre\nexport PATH=$PATH:/opt/jdk1.8.0_161/bin:/opt/jdk1.8.0_161/jre/bin\n</code></pre>\n\n<p>However after a restart on the box, after I login it comes up with </p>\n\n<pre><code>-bash: id: command not found\n-bash: id: command not found\n-bash: id: command not found\n/usr/libexec/grepconf.sh: line 5: grep: command not found\n</code></pre>\n\n<p>This makes me think I have broken the PATH variable somehow, but I cannot open /etc/environment as \"less\", \"vi\" and etc are not recognised as commands.</p>\n\n<p>And ideas on that I did wrong and how do I fix the current state?</p>\n"},{"tags":["java","maven","aws-sdk"],"comments":[{"owner":{"account_id":4651861,"reputation":592,"user_id":3768529,"accept_rate":44,"display_name":"June"},"score":0,"creation_date":1545835346,"post_id":53933424,"comment_id":94707216,"body_markdown":"What happens when you run `mvn clean install`? Is the JAR file being downloaded?","body":"What happens when you run <code>mvn clean install</code>? Is the JAR file being downloaded?"},{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1545835417,"post_id":53933424,"comment_id":94707232,"body_markdown":"[This page](https://docs.aws.amazon.com/sdk-for-java/v1/developer-guide/setup-project-maven.html#configuring-maven-individual-components) should help.","body":"<a href=\"https://docs.aws.amazon.com/sdk-for-java/v1/developer-guide/setup-project-maven.html#configuring-maven-individual-components\" rel=\"nofollow noreferrer\">This page</a> should help."},{"owner":{"account_id":15000157,"reputation":201,"user_id":10828089,"display_name":"Chris Carman"},"score":0,"creation_date":1545839623,"post_id":53933424,"comment_id":94708569,"body_markdown":"@AndrewS that appears to be an old outdated page. The new one is https://docs.aws.amazon.com/sdk-for-java/v2/developer-guide/setup-project-maven.html","body":"@AndrewS that appears to be an old outdated page. The new one is <a href=\"https://docs.aws.amazon.com/sdk-for-java/v2/developer-guide/setup-project-maven.html\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/sdk-for-java/v2/developer-guide/&hellip;</a>"},{"owner":{"account_id":15000157,"reputation":201,"user_id":10828089,"display_name":"Chris Carman"},"score":1,"creation_date":1545839748,"post_id":53933424,"comment_id":94708601,"body_markdown":"@June as far as I can tell, nothing is being downloaded on a `clean install`","body":"@June as far as I can tell, nothing is being downloaded on a <code>clean install</code>"},{"owner":{"account_id":7193109,"reputation":649,"user_id":5492742,"display_name":"Midhun Mohan"},"score":0,"creation_date":1545851196,"post_id":53933424,"comment_id":94712268,"body_markdown":"`&lt;dependency&gt;\n &lt;groupId&gt;com.amazonaws&lt;/groupId&gt; \n&lt;artifactId&gt;aws-java-sdk&lt;/artifactId&gt; \n&lt;version&gt;1.11.18&lt;/version&gt; \n&lt;/dependency&gt;`\ntry this","body":"<code>&lt;dependency&gt;  &lt;groupId&gt;com.amazonaws&lt;&#47;groupId&gt;  &lt;artifactId&gt;aws-java-sdk&lt;&#47;artifactId&gt;  &lt;version&gt;1.11.18&lt;&#47;version&gt;  &lt;&#47;dependency&gt;</code> try this"}],"answers":[{"comments":[{"owner":{"account_id":86429,"reputation":8135,"user_id":240358,"accept_rate":65,"display_name":"David Souther"},"score":1,"creation_date":1676870645,"post_id":53936261,"comment_id":133217624,"body_markdown":"The groupId, distribution channel, etc are different entirely for v1 and v2.","body":"The groupId, distribution channel, etc are different entirely for v1 and v2."}],"tags":[],"owner":{"account_id":7193109,"reputation":649,"user_id":5492742,"display_name":"Midhun Mohan"},"comment_count":1,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1545852261,"creation_date":1545852261,"answer_id":53936261,"question_id":53933424,"body_markdown":"replace existing one with the following and try(version can be changed)\r\n\r\n\r\n       &lt;dependency&gt;\r\n         &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n         &lt;artifactId&gt;aws-java-sdk&lt;/artifactId&gt;\r\n         &lt;version&gt;1.11.18&lt;/version&gt; \r\n        &lt;/dependency&gt;","title":"Maven fails to find aws s3 sdk","body":"<p>replace existing one with the following and try(version can be changed)</p>\n\n<pre><code>   &lt;dependency&gt;\n     &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n     &lt;artifactId&gt;aws-java-sdk&lt;/artifactId&gt;\n     &lt;version&gt;1.11.18&lt;/version&gt; \n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15000157,"reputation":201,"user_id":10828089,"display_name":"Chris Carman"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1547278675,"creation_date":1547278675,"answer_id":54157639,"question_id":53933424,"body_markdown":"For the record, the solution is:\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n                &lt;artifactId&gt;bom&lt;/artifactId&gt;\r\n                &lt;version&gt;2.2.0&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n            &lt;artifactId&gt;s3&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n  \t        &lt;groupId&gt;junit&lt;/groupId&gt;\r\n    \t      &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n      \t    &lt;version&gt;3.8.1&lt;/version&gt;\r\n      \t    &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n","title":"Maven fails to find aws s3 sdk","body":"<p>For the record, the solution is:</p>\n\n<pre><code>&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n            &lt;artifactId&gt;bom&lt;/artifactId&gt;\n            &lt;version&gt;2.2.0&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n        &lt;artifactId&gt;s3&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n          &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;version&gt;3.8.1&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10006774,"reputation":168,"user_id":7400965,"display_name":"jkim"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637288764,"creation_date":1637288764,"answer_id":70029103,"question_id":53933424,"body_markdown":"The cleanest solution, if it can work, is as follow:\r\n\r\n 1. `mvn clean install`, or\r\n 2. Right click on pom.xml, Reload project.","title":"Maven fails to find aws s3 sdk","body":"<p>The cleanest solution, if it can work, is as follow:</p>\n<ol>\n<li><code>mvn clean install</code>, or</li>\n<li>Right click on pom.xml, Reload project.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1106282,"reputation":2649,"user_id":1097603,"accept_rate":14,"display_name":"iamcrypticcoder"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672855115,"creation_date":1672855115,"answer_id":75009449,"question_id":53933424,"body_markdown":"In case you are using **Gradle Kotlin**, then you have to write like the below:\r\n\r\n\r\n    implementation(platform(&quot;software.amazon.awssdk:bom:2.19.8&quot;))","title":"Maven fails to find aws s3 sdk","body":"<p>In case you are using <strong>Gradle Kotlin</strong>, then you have to write like the below:</p>\n<pre><code>implementation(platform(&quot;software.amazon.awssdk:bom:2.19.8&quot;))\n</code></pre>\n"}],"owner":{"account_id":15000157,"reputation":201,"user_id":10828089,"display_name":"Chris Carman"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12224,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":54157639,"answer_count":4,"score":5,"last_activity_date":1672855115,"creation_date":1545834828,"question_id":53933424,"body_markdown":"Trying to set up a new project with the Amazon AWS Java SDK via Maven, and apparently Maven can&#39;t find the s3 package.\r\n\r\n\r\n\r\n\r\n\r\n\r\nThis is the error:\r\n&gt;[ERROR] /X:/java/amazon/S3/s3shell/src/main/java/me/s3/S3Shell.java:[4,42] package software.amazon.awssdk.services.s3 does not exist\r\n\r\nAnd these are the dependencies in the pom file:\r\n\r\n    &lt;dependencyManagement&gt;\r\n  \t&lt;dependencies&gt;\r\n\t&lt;dependency&gt;\r\n  \t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n      \t&lt;version&gt;3.8.1&lt;/version&gt;\r\n      \t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n      \t&lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n      \t&lt;artifactId&gt;bom&lt;/artifactId&gt;\r\n      \t&lt;version&gt;2.2.0&lt;/version&gt;\r\n      \t&lt;type&gt;pom&lt;/type&gt;\r\n      \t&lt;scope&gt;import&lt;/scope&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t  &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n    \t  &lt;artifactId&gt;s3&lt;/artifactId&gt;\r\n    \t  &lt;version&gt;2.2.0&lt;/version&gt;\r\n    \t  &lt;type&gt;pom&lt;/type&gt;\r\n    \t  &lt;scope&gt;import&lt;/scope&gt;\r\n    \t&lt;/dependency&gt;\r\n  \t&lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n\r\n","title":"Maven fails to find aws s3 sdk","body":"<p>Trying to set up a new project with the Amazon AWS Java SDK via Maven, and apparently Maven can't find the s3 package.</p>\n\n<p>This is the error:</p>\n\n<blockquote>\n  <p>[ERROR] /X:/java/amazon/S3/s3shell/src/main/java/me/s3/S3Shell.java:[4,42] package software.amazon.awssdk.services.s3 does not exist</p>\n</blockquote>\n\n<p>And these are the dependencies in the pom file:</p>\n\n<pre><code>&lt;dependencyManagement&gt;\n&lt;dependencies&gt;\n&lt;dependency&gt;\n&lt;groupId&gt;junit&lt;/groupId&gt;\n    &lt;artifactId&gt;junit&lt;/artifactId&gt;\n    &lt;version&gt;3.8.1&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n    &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n    &lt;artifactId&gt;bom&lt;/artifactId&gt;\n    &lt;version&gt;2.2.0&lt;/version&gt;\n    &lt;type&gt;pom&lt;/type&gt;\n    &lt;scope&gt;import&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n      &lt;artifactId&gt;s3&lt;/artifactId&gt;\n      &lt;version&gt;2.2.0&lt;/version&gt;\n      &lt;type&gt;pom&lt;/type&gt;\n      &lt;scope&gt;import&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n</code></pre>\n"},{"tags":["java","cas","apereo"],"owner":{"account_id":4516602,"reputation":405,"user_id":3671230,"accept_rate":43,"display_name":"Abdul Razak AK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672854551,"creation_date":1672854551,"question_id":75009349,"body_markdown":"I am planning to implement CAS with MongoDB authentication and also planning to use existing MongoDB collection which is not following the expected Document scheme as mentioned in apreo documentation.\r\n\r\nAs per documents,\r\n\r\nAccounts are expected to be found as such in collections:\r\n```\r\n{\r\n    &quot;username&quot;: &quot;casuser&quot;,\r\n    &quot;password&quot;: &quot;34598dfkjdjk3487jfdkh874395&quot;,\r\n    &quot;first_name&quot;: &quot;john&quot;,\r\n    &quot;last_name&quot;: &quot;smith&quot;\r\n}\r\n```\r\n\r\nis there way to customize the username and password attributes something like below\r\n```\r\n{\r\n    &quot;_id&quot; : &quot;000debf7-ee17-42ec-b267-9028b721cd57&quot;,\r\n    &quot;firstName&quot; : &quot;Steve Ward&quot;,\r\n    &quot;lastName&quot; : &quot;Steve Ward&quot;,\r\n    &quot;emailAddress1&quot; : &quot;test@inter.com&quot;,\r\n    &quot;status&quot; : &quot;active&quot;,\r\n    &quot;users&quot; : [\r\n        {\r\n            &quot;userName&quot; : &quot;weldoneinc&quot;,\r\n            &quot;password&quot; : &quot;KJH8u3lRYvm82EbiGjKZs7exPbY=&quot;,\r\n            &quot;createUser&quot; : &quot;TEST&quot;,\r\n            &quot;createDate&quot; : ISODate(&quot;2020-05-22T15:28:54.439+0000&quot;),\r\n            &quot;updateUser&quot; : &quot;TEST&quot;,\r\n            &quot;updateDate&quot; : ISODate(&quot;2020-05-22T15:28:54.439+0000&quot;)\r\n\t\t\t}\r\n\t\t\t]\r\n\r\n}\r\n\r\n```\r\n","title":"is there a way to change the CAS APEREO collection structure?","body":"<p>I am planning to implement CAS with MongoDB authentication and also planning to use existing MongoDB collection which is not following the expected Document scheme as mentioned in apreo documentation.</p>\n<p>As per documents,</p>\n<p>Accounts are expected to be found as such in collections:</p>\n<pre><code>{\n    &quot;username&quot;: &quot;casuser&quot;,\n    &quot;password&quot;: &quot;34598dfkjdjk3487jfdkh874395&quot;,\n    &quot;first_name&quot;: &quot;john&quot;,\n    &quot;last_name&quot;: &quot;smith&quot;\n}\n</code></pre>\n<p>is there way to customize the username and password attributes something like below</p>\n<pre><code>{\n    &quot;_id&quot; : &quot;000debf7-ee17-42ec-b267-9028b721cd57&quot;,\n    &quot;firstName&quot; : &quot;Steve Ward&quot;,\n    &quot;lastName&quot; : &quot;Steve Ward&quot;,\n    &quot;emailAddress1&quot; : &quot;test@inter.com&quot;,\n    &quot;status&quot; : &quot;active&quot;,\n    &quot;users&quot; : [\n        {\n            &quot;userName&quot; : &quot;weldoneinc&quot;,\n            &quot;password&quot; : &quot;KJH8u3lRYvm82EbiGjKZs7exPbY=&quot;,\n            &quot;createUser&quot; : &quot;TEST&quot;,\n            &quot;createDate&quot; : ISODate(&quot;2020-05-22T15:28:54.439+0000&quot;),\n            &quot;updateUser&quot; : &quot;TEST&quot;,\n            &quot;updateDate&quot; : ISODate(&quot;2020-05-22T15:28:54.439+0000&quot;)\n            }\n            ]\n\n}\n\n</code></pre>\n"},{"tags":["java","rsa","bouncycastle","signature"],"comments":[{"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"score":3,"creation_date":1672849652,"post_id":75007913,"comment_id":132366840,"body_markdown":"To achieve this, the public key in the certificate would have to be 2048 bits and the signing (private) key 1024 bits. So it is possible, but not for a self-signed certificate that is generated by your code (where the public and private keys belong together and thus have the same size).","body":"To achieve this, the public key in the certificate would have to be 2048 bits and the signing (private) key 1024 bits. So it is possible, but not for a self-signed certificate that is generated by your code (where the public and private keys belong together and thus have the same size)."},{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":1,"creation_date":1672853785,"post_id":75007913,"comment_id":132368300,"body_markdown":"Good news! You could randomize the signature, say using RSA-PSS, and then try and compute about 2\\*\\*1024 randomized signatures. You&#39;d expect about one of these to be &lt;= 128 bytes. However, bad news! You could never finish this in the lifetime of the universe, and your adversaries could factor your modulus and forge your signatures long before you&#39;d gotten your 128-byte result. Math giveth and math taketh away.","body":"Good news! You could randomize the signature, say using RSA-PSS, and then try and compute about 2**1024 randomized signatures. You&#39;d expect about one of these to be &lt;= 128 bytes. However, bad news! You could never finish this in the lifetime of the universe, and your adversaries could factor your modulus and forge your signatures long before you&#39;d gotten your 128-byte result. Math giveth and math taketh away."},{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1672854208,"post_id":75007913,"comment_id":132368457,"body_markdown":"That certificate is *signed* with a 1024-bit RSA key. It isn&#39;t self-signed, it&#39;s signed with the key of the issuer. It would be considered insecure by modern standards and most browsers would show some kind of warning.","body":"That certificate is <i>signed</i> with a 1024-bit RSA key. It isn&#39;t self-signed, it&#39;s signed with the key of the issuer. It would be considered insecure by modern standards and most browsers would show some kind of warning."},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1678626822,"post_id":75007913,"comment_id":133566310,"body_markdown":"You have got a different issuer and subject, so by definition it is not a self signed certificate. If you create a separate keypair for the subject (2048 bits) &amp; issuer (1024 bits) and use the public key of the subject and the private key of the issuer then you&#39;ve fulfilled your request. Of course, that means that the issuer would have a shorter key than the issuer, and that&#39;s exactly the wrong way around. Generally the certificates of the issuer are valid for longer and as they can sign multiple certs, the key should be stronger not shorter/weaker.","body":"You have got a different issuer and subject, so by definition it is not a self signed certificate. If you create a separate keypair for the subject (2048 bits) &amp; issuer (1024 bits) and use the public key of the subject and the private key of the issuer then you&#39;ve fulfilled your request. Of course, that means that the issuer would have a shorter key than the issuer, and that&#39;s exactly the wrong way around. Generally the certificates of the issuer are valid for longer and as they can sign multiple certs, the key should be stronger not shorter/weaker."}],"answers":[{"comments":[{"owner":{"account_id":17840673,"reputation":121,"user_id":12958611,"display_name":"Dong0321"},"score":0,"creation_date":1672848388,"post_id":75008105,"comment_id":132366413,"body_markdown":"Thank you for your reply. but it is possible, I have a demo DER file what I wanna make. It has 2048 RSA key and 128 signature length.","body":"Thank you for your reply. but it is possible, I have a demo DER file what I wanna make. It has 2048 RSA key and 128 signature length."},{"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":1,"creation_date":1672852208,"post_id":75008105,"comment_id":132367801,"body_markdown":"@Dong0321 No, it&#39;s not possible to get a 128-byte signature with a 2048-bit key. What you are describing is the signed content being a 2048-bit key. That&#39;s no problem; you can sign any data, of any length. It could be a shopping list, a photo of your toe, or another public key. But the resulting RSA signature will be the size of the signing key. So if you want a 128-byte signature, you *must* sign with a 1024-bit key (which is not recommended from a security perspective).","body":"@Dong0321 No, it&#39;s not possible to get a 128-byte signature with a 2048-bit key. What you are describing is the signed content being a 2048-bit key. That&#39;s no problem; you can sign any data, of any length. It could be a shopping list, a photo of your toe, or another public key. But the resulting RSA signature will be the size of the signing key. So if you want a 128-byte signature, you <i>must</i> sign with a 1024-bit key (which is not recommended from a security perspective)."},{"owner":{"account_id":17840673,"reputation":121,"user_id":12958611,"display_name":"Dong0321"},"score":0,"creation_date":1672853727,"post_id":75008105,"comment_id":132368275,"body_markdown":"then... is it possible to make RSA key pair with 1024 private key and 2048 public key?","body":"then... is it possible to make RSA key pair with 1024 private key and 2048 public key?"},{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":2,"creation_date":1672854008,"post_id":75008105,"comment_id":132368386,"body_markdown":"@Dong0321: Yes, but not really, it&#39;s the size of the modulus (public key) that counts here. You need to use elliptic curves, not RSA, if you want shorter signatures.","body":"@Dong0321: Yes, but not really, it&#39;s the size of the modulus (public key) that counts here. You need to use elliptic curves, not RSA, if you want shorter signatures."}],"tags":[],"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1672848130,"creation_date":1672848130,"answer_id":75008105,"question_id":75007913,"body_markdown":"The output of RSA operations is always the size of the RSA key used. 2048 bits is 256 bytes. It&#39;s impossible to get a 128-byte result using a 256-byte key.","title":"How to set Signature size in java (bouncycastle)?","body":"<p>The output of RSA operations is always the size of the RSA key used. 2048 bits is 256 bytes. It's impossible to get a 128-byte result using a 256-byte key.</p>\n"}],"owner":{"account_id":17840673,"reputation":121,"user_id":12958611,"display_name":"Dong0321"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":221,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1672853997,"creation_date":1672847210,"question_id":75007913,"body_markdown":"Are there any way to set the signature size while making DER file using bouncycastle.\r\n\r\n\r\nNow I am making cert file using org.bouncycastle.\r\nThe following is my code. It works fine, but I could not handle the signature length.\r\n\r\n** for the SHA256WITHRSA signature algorithm, the length is static as 256 for 2048 RSA key, and 128 for 1024 RSA key.**\r\n\r\n*I want to make a cert with 2048 public key and 128 signature.*\r\n\r\n```\r\nSecurity.addProvider(new BouncyCastleProvider());\r\nKeyPair keyPair = createKeyPair();\r\n\r\nJcaX509v3CertificateBuilder certBuilder = new JcaX509v3CertificateBuilder(new X500Name(&quot;CN=Issuer&quot;), BigInteger.ONE, new GregorianCalendar().getTime(), new GregorianCalendar().getTime(), new X500Name(&quot;CN=Subject&quot;), keyPair.getPublic());\r\n            \r\nJcaContentSignerBuilder signerBuiler = new JcaContentSignerBuilder(&quot;SHA256WITHRSA&quot;).setProvider(BouncyCastleProvider.PROVIDER_NAME);\r\nContentSigner contentSigner = signerBuiler.build(keyPair.getPrivate());\r\nX509Certificate certificate = new JcaX509CertificateConverter().setProvider(BouncyCastleProvider.PROVIDER_NAME).getCertificate(certBuilder.build(contentSigner));\r\n\r\ncertificate.verify(keyPair.getPublic());\r\nSystem.out.println( certificate);\r\n```\r\n\r\nAs the following, it has 2048 public key, but the signature size is 128 byte. This is DER file what I wanna make.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/H4bUT.png","title":"How to set Signature size in java (bouncycastle)?","body":"<p>Are there any way to set the signature size while making DER file using bouncycastle.</p>\n<p>Now I am making cert file using org.bouncycastle.\nThe following is my code. It works fine, but I could not handle the signature length.</p>\n<p>** for the SHA256WITHRSA signature algorithm, the length is static as 256 for 2048 RSA key, and 128 for 1024 RSA key.**</p>\n<p><em>I want to make a cert with 2048 public key and 128 signature.</em></p>\n<pre><code>Security.addProvider(new BouncyCastleProvider());\nKeyPair keyPair = createKeyPair();\n\nJcaX509v3CertificateBuilder certBuilder = new JcaX509v3CertificateBuilder(new X500Name(&quot;CN=Issuer&quot;), BigInteger.ONE, new GregorianCalendar().getTime(), new GregorianCalendar().getTime(), new X500Name(&quot;CN=Subject&quot;), keyPair.getPublic());\n            \nJcaContentSignerBuilder signerBuiler = new JcaContentSignerBuilder(&quot;SHA256WITHRSA&quot;).setProvider(BouncyCastleProvider.PROVIDER_NAME);\nContentSigner contentSigner = signerBuiler.build(keyPair.getPrivate());\nX509Certificate certificate = new JcaX509CertificateConverter().setProvider(BouncyCastleProvider.PROVIDER_NAME).getCertificate(certBuilder.build(contentSigner));\n\ncertificate.verify(keyPair.getPublic());\nSystem.out.println( certificate);\n</code></pre>\n<p>As the following, it has 2048 public key, but the signature size is 128 byte. This is DER file what I wanna make.\n<a href=\"https://i.stack.imgur.com/H4bUT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/H4bUT.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","wiremock"],"answers":[{"comments":[{"owner":{"account_id":15026563,"reputation":117,"user_id":10846199,"display_name":"alexey kurbatov"},"score":0,"creation_date":1671897424,"post_id":74900564,"comment_id":132194428,"body_markdown":"hey, in my question I added a code snippet where I remove stub but I do not like the approach. I am looking for a nice and neat way to disable/remove the stub","body":"hey, in my question I added a code snippet where I remove stub but I do not like the approach. I am looking for a nice and neat way to disable/remove the stub"}],"tags":[],"owner":{"account_id":16106441,"reputation":6176,"user_id":11625850,"display_name":"agoff"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1671804523,"creation_date":1671804523,"answer_id":74900564,"question_id":74900054,"body_markdown":"You can use [either `.reset()` or `.resetToDefault()`][1] to remove added stubs. From the documentation:\r\n&gt; The WireMock server can be reset at any time, removing all stub mappings and deleting the request log. If you’re using either of the JUnit rules this will happen automatically at the start of every test case. However you can do it yourself via a call to WireMock.reset() in Java\r\n\r\n&gt; If you’ve created some file based stub mappings to be loaded at startup and you don’t want these to disappear when you do a reset you can call WireMock.resetToDefault() instead\r\n\r\nSo, either use `getWireMock().reset()` or `getWireMock().resetToDefault()` depending on your use case.\r\n\r\n[Additionally, you can use `.removeStub()`][2]. In this case, I&#39;d recommend declaring your `.stubFor()` as a variable, so you can more easily remove it later.\r\n\r\n\r\n  [1]: https://wiremock.org/docs/stubbing/#reset\r\n  [2]: https://wiremock.org/docs/stubbing/#removing-stubs","title":"Remove/disable wiremock stub when it was called one time","body":"<p>You can use <a href=\"https://wiremock.org/docs/stubbing/#reset\" rel=\"nofollow noreferrer\">either <code>.reset()</code> or <code>.resetToDefault()</code></a> to remove added stubs. From the documentation:</p>\n<blockquote>\n<p>The WireMock server can be reset at any time, removing all stub mappings and deleting the request log. If you’re using either of the JUnit rules this will happen automatically at the start of every test case. However you can do it yourself via a call to WireMock.reset() in Java</p>\n</blockquote>\n<blockquote>\n<p>If you’ve created some file based stub mappings to be loaded at startup and you don’t want these to disappear when you do a reset you can call WireMock.resetToDefault() instead</p>\n</blockquote>\n<p>So, either use <code>getWireMock().reset()</code> or <code>getWireMock().resetToDefault()</code> depending on your use case.</p>\n<p><a href=\"https://wiremock.org/docs/stubbing/#removing-stubs\" rel=\"nofollow noreferrer\">Additionally, you can use <code>.removeStub()</code></a>. In this case, I'd recommend declaring your <code>.stubFor()</code> as a variable, so you can more easily remove it later.</p>\n"},{"tags":[],"owner":{"account_id":480519,"reputation":1382,"user_id":1423361,"accept_rate":100,"display_name":"Robert Elliot"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672853846,"creation_date":1672853846,"answer_id":75009210,"question_id":74900054,"body_markdown":"There&#39;s nothing out of the box that will delete a stub on request, but you can get it to work with [Webhooks](https://wiremock.org/docs/webhooks-and-callbacks/):\r\n\r\n**IMPORTANT** webhook requests are made asynchronously - the stub will not necessarily have been deleted yet when your request returns a response.\r\n\r\n```java\r\nimport com.github.tomakehurst.wiremock.WireMockServer;\r\nimport org.wiremock.webhooks.Webhooks;\r\n\r\nimport java.io.IOException;\r\nimport java.net.URI;\r\nimport java.net.http.HttpClient;\r\nimport java.net.http.HttpRequest;\r\nimport java.net.http.HttpResponse;\r\nimport java.util.UUID;\r\n\r\nimport static com.github.tomakehurst.wiremock.client.WireMock.*;\r\nimport static com.github.tomakehurst.wiremock.core.WireMockConfiguration.wireMockConfig;\r\nimport static com.github.tomakehurst.wiremock.http.RequestMethod.DELETE;\r\nimport static org.wiremock.webhooks.Webhooks.webhook;\r\n\r\n...\r\n\r\nwireMockServer = new WireMockServer(wireMockConfig().extensions(Webhooks.class));\r\n\r\n...\r\n\r\nUUID stubId = UUID.randomUUID();\r\ngetWiremock().stubFor(get(urlMatching(&quot;/rs-queue/messages.*&quot;))\r\n    .withId(stubId)\r\n    .withPostServeAction(&quot;webhook&quot;, webhook()\r\n        .withMethod(DELETE)\r\n        .withUrl(getWiremock().url(&quot;/__admin/mappings/&quot; + stubId))\r\n    )\r\n    .willReturn(aResponse()\r\n        .withStatus(200)\r\n        .withHeader(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n        .withBody(fromObjectToString(queueMessageItem))\r\n    ));\r\n```","title":"Remove/disable wiremock stub when it was called one time","body":"<p>There's nothing out of the box that will delete a stub on request, but you can get it to work with <a href=\"https://wiremock.org/docs/webhooks-and-callbacks/\" rel=\"nofollow noreferrer\">Webhooks</a>:</p>\n<p><strong>IMPORTANT</strong> webhook requests are made asynchronously - the stub will not necessarily have been deleted yet when your request returns a response.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.github.tomakehurst.wiremock.WireMockServer;\nimport org.wiremock.webhooks.Webhooks;\n\nimport java.io.IOException;\nimport java.net.URI;\nimport java.net.http.HttpClient;\nimport java.net.http.HttpRequest;\nimport java.net.http.HttpResponse;\nimport java.util.UUID;\n\nimport static com.github.tomakehurst.wiremock.client.WireMock.*;\nimport static com.github.tomakehurst.wiremock.core.WireMockConfiguration.wireMockConfig;\nimport static com.github.tomakehurst.wiremock.http.RequestMethod.DELETE;\nimport static org.wiremock.webhooks.Webhooks.webhook;\n\n...\n\nwireMockServer = new WireMockServer(wireMockConfig().extensions(Webhooks.class));\n\n...\n\nUUID stubId = UUID.randomUUID();\ngetWiremock().stubFor(get(urlMatching(&quot;/rs-queue/messages.*&quot;))\n    .withId(stubId)\n    .withPostServeAction(&quot;webhook&quot;, webhook()\n        .withMethod(DELETE)\n        .withUrl(getWiremock().url(&quot;/__admin/mappings/&quot; + stubId))\n    )\n    .willReturn(aResponse()\n        .withStatus(200)\n        .withHeader(&quot;Content-Type&quot;, &quot;application/json&quot;)\n        .withBody(fromObjectToString(queueMessageItem))\n    ));\n</code></pre>\n"}],"owner":{"account_id":15026563,"reputation":117,"user_id":10846199,"display_name":"alexey kurbatov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1420,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1672853846,"creation_date":1671801167,"question_id":74900054,"body_markdown":"I create a stub in Wiremock using this code:\r\n\r\n```\r\n        getWiremock().stubFor(get(urlMatching(&quot;/rs-queue/messages.*&quot;))\r\n            .willReturn(aResponse()\r\n                .withStatus(200)\r\n                .withHeader(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n                .withBody(fromObjectToString(queueMessageItem))\r\n            ));\r\n```\r\n\r\nI want this stub to be removed/disabled after it was called one time. I did not find any example in Wiremock docs. Have an idea to create a new thread and run this code in it:\r\n```\r\n RequestPatternBuilder requestPatternBuilder = postRequestedFor(urlEqualTo(url))\r\n            .withRequestBody(new EqualToPattern(fromObjectToString(queueMessageItem)));\r\n\r\n        Awaitility.waitAtMost(Duration.of(1, ChronoUnit.MINUTES))\r\n            .pollInterval(Duration.of(3, ChronoUnit.SECONDS))\r\n            .until(() -&gt; {\r\n                try {\r\n                    verify(moreThanOrExactly(1), requestPatternBuilder);\r\n                    getWiremock().removeStubMapping(stubMapping.getUuid());\r\n                } catch (VerificationException exception) {\r\n                    return false;\r\n                }\r\n                return true;\r\n            });\r\n```\r\n\r\nThe approach looks dirty and too complicated and I still believe it is possible to configure wiremock stub to be auto removed after calling it one time. Any ideas?","title":"Remove/disable wiremock stub when it was called one time","body":"<p>I create a stub in Wiremock using this code:</p>\n<pre><code>        getWiremock().stubFor(get(urlMatching(&quot;/rs-queue/messages.*&quot;))\n            .willReturn(aResponse()\n                .withStatus(200)\n                .withHeader(&quot;Content-Type&quot;, &quot;application/json&quot;)\n                .withBody(fromObjectToString(queueMessageItem))\n            ));\n</code></pre>\n<p>I want this stub to be removed/disabled after it was called one time. I did not find any example in Wiremock docs. Have an idea to create a new thread and run this code in it:</p>\n<pre><code> RequestPatternBuilder requestPatternBuilder = postRequestedFor(urlEqualTo(url))\n            .withRequestBody(new EqualToPattern(fromObjectToString(queueMessageItem)));\n\n        Awaitility.waitAtMost(Duration.of(1, ChronoUnit.MINUTES))\n            .pollInterval(Duration.of(3, ChronoUnit.SECONDS))\n            .until(() -&gt; {\n                try {\n                    verify(moreThanOrExactly(1), requestPatternBuilder);\n                    getWiremock().removeStubMapping(stubMapping.getUuid());\n                } catch (VerificationException exception) {\n                    return false;\n                }\n                return true;\n            });\n</code></pre>\n<p>The approach looks dirty and too complicated and I still believe it is possible to configure wiremock stub to be auto removed after calling it one time. Any ideas?</p>\n"},{"tags":["java","spring-boot","unit-testing","junit","mockito"],"comments":[{"owner":{"account_id":18002520,"reputation":324,"user_id":13084140,"display_name":"Ryednap"},"score":0,"creation_date":1672853091,"post_id":75008972,"comment_id":132368081,"body_markdown":"Does this answer your query? [How do I test a class that has private methods, fields, or inner classes?](https://stackoverflow.com/questions/34571/how-do-i-test-a-class-that-has-private-methods-fields-or-inner-classes)","body":"Does this answer your query? <a href=\"https://stackoverflow.com/questions/34571/how-do-i-test-a-class-that-has-private-methods-fields-or-inner-classes\">How do I test a class that has private methods, fields, or inner classes?</a>"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1672880260,"post_id":75008972,"comment_id":132375129,"body_markdown":"Your test is mocking `RequestValidationHelper` (which I assume is the class you want to test, although your question doesn&#39;t say), so you are not testing anything. There is no point asserting on the result of calling methods on mocks.","body":"Your test is mocking <code>RequestValidationHelper</code> (which I assume is the class you want to test, although your question doesn&#39;t say), so you are not testing anything. There is no point asserting on the result of calling methods on mocks."}],"answers":[{"tags":[],"owner":{"account_id":12495312,"reputation":1364,"user_id":9095554,"display_name":"Fabiano"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672853731,"creation_date":1672853731,"answer_id":75009181,"question_id":75008972,"body_markdown":"In short: you should treat the content of the private methods as part of the public method you are testing. That means you should have test cases for each validation performed on the private methods, and you would test it by calling the public `#validate` method.\r\n\r\nFor instance, in one case, you would use a request with an invalid date range and assert your `#validate` method throws the `ValidationException` with the expected message. And you should create cases for each one of the cases you are validating.","title":"Unit Test Java Method That call Private Methods and has Super class","body":"<p>In short: you should treat the content of the private methods as part of the public method you are testing. That means you should have test cases for each validation performed on the private methods, and you would test it by calling the public <code>#validate</code> method.</p>\n<p>For instance, in one case, you would use a request with an invalid date range and assert your <code>#validate</code> method throws the <code>ValidationException</code> with the expected message. And you should create cases for each one of the cases you are validating.</p>\n"}],"owner":{"account_id":26130100,"reputation":21,"user_id":19820952,"display_name":"user19820952"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1672853731,"creation_date":1672852554,"question_id":75008972,"body_markdown":"The Method Under Unit Test is this. \r\n\r\n```\r\n    public void validate(PurchaseOrderRequest request)\r\n    {\r\n        validateBuyers(request);\r\n        validateOrders(request);\r\n        validateSuppliers(request);\r\n        validateDateRange(request);\r\n        validateStatuses(request);\r\n    }\r\n```\r\nThe Private Methods Look Like this \r\n\r\n\r\n```\r\nprivate void validateDateRange(PurchaseOrderRequest request)\r\n    {\r\n        if (request.getFromDeliveryDate() != null &amp;&amp; request.getThruDeliveryDate() != null &amp;&amp;\r\n                request.getFromDeliveryDate().isAfter(request.getThruDeliveryDate()))\r\n        {\r\n            throw new ValidationException(String.format(\r\n                    &quot;From delivery Date %s is invalid (cannot be after Thru Delivery Date of %s)&quot;,\r\n                    request.getFromDeliveryDate(), request.getThruDeliveryDate()));\r\n        }\r\n    }\r\n\r\n private void validateBuyers(PurchaseOrderRequest request)\r\n    {\r\n        if (request.getBuyers() != null)\r\n        {\r\n            request.getBuyers().forEach(elem -&gt; {\r\n                validateNotNull(elem, String.format(&quot;Buyer %s is invalid&quot;, elem));\r\n                validateRange(elem, buyerRange, String.format(&quot;Buyer %s is invalid&quot;, elem));\r\n            });\r\n            validateListMaxSize(request.getBuyers(), 50, &quot;Buyers&quot;);\r\n        }\r\n    }\r\n```\r\nMy question is, what do I need to test to ensure I get the code coverage as well as useful Unit test cases? The class under test is also a child class, and with that and the private methods, it&#39;s kind of throwing me off, or maybe I&#39;m just over thinking it. \r\n\r\n\r\n\r\n\r\nI currently have this: \r\n\r\n\r\n```\r\n@Test\r\n    void validate()\r\n    {\r\n        RmsPurchaseOrderHeaderRequest rmsPurchaseOrderHeaderRequest = Mockito.mock(RmsPurchaseOrderHeaderRequest.class);\r\n        RequestValidationHelper requestValidationHelper = Mockito.mock(RequestValidationHelper.class);\r\n\r\n        requestValidationHelper.validate(rmsPurchaseOrderHeaderRequest);\r\n        String toStringBuyers = rmsPurchaseOrderHeaderRequest.getBuyers().toString();\r\n        String toStringOrders = rmsPurchaseOrderHeaderRequest.getOrders().toString();\r\n\r\n        Assertions.assertNotNull(requestValidationHelper);\r\n        Assertions.assertEquals(rmsPurchaseOrderHeaderRequest.getBuyers().toString(),toStringBuyers);\r\n        Assertions.assertEquals(rmsPurchaseOrderHeaderRequest.getOrders().toString(),toStringOrders);\r\n\r\n    }\r\n```\r\n\r\nbut I feel like I&#39;m way off... \r\nalso if anyone knows of a good plugin to show code coverage that would be great as well. I can&#39;t get sonar lint to work. ","title":"Unit Test Java Method That call Private Methods and has Super class","body":"<p>The Method Under Unit Test is this.</p>\n<pre><code>    public void validate(PurchaseOrderRequest request)\n    {\n        validateBuyers(request);\n        validateOrders(request);\n        validateSuppliers(request);\n        validateDateRange(request);\n        validateStatuses(request);\n    }\n</code></pre>\n<p>The Private Methods Look Like this</p>\n<pre><code>private void validateDateRange(PurchaseOrderRequest request)\n    {\n        if (request.getFromDeliveryDate() != null &amp;&amp; request.getThruDeliveryDate() != null &amp;&amp;\n                request.getFromDeliveryDate().isAfter(request.getThruDeliveryDate()))\n        {\n            throw new ValidationException(String.format(\n                    &quot;From delivery Date %s is invalid (cannot be after Thru Delivery Date of %s)&quot;,\n                    request.getFromDeliveryDate(), request.getThruDeliveryDate()));\n        }\n    }\n\n private void validateBuyers(PurchaseOrderRequest request)\n    {\n        if (request.getBuyers() != null)\n        {\n            request.getBuyers().forEach(elem -&gt; {\n                validateNotNull(elem, String.format(&quot;Buyer %s is invalid&quot;, elem));\n                validateRange(elem, buyerRange, String.format(&quot;Buyer %s is invalid&quot;, elem));\n            });\n            validateListMaxSize(request.getBuyers(), 50, &quot;Buyers&quot;);\n        }\n    }\n</code></pre>\n<p>My question is, what do I need to test to ensure I get the code coverage as well as useful Unit test cases? The class under test is also a child class, and with that and the private methods, it's kind of throwing me off, or maybe I'm just over thinking it.</p>\n<p>I currently have this:</p>\n<pre><code>@Test\n    void validate()\n    {\n        RmsPurchaseOrderHeaderRequest rmsPurchaseOrderHeaderRequest = Mockito.mock(RmsPurchaseOrderHeaderRequest.class);\n        RequestValidationHelper requestValidationHelper = Mockito.mock(RequestValidationHelper.class);\n\n        requestValidationHelper.validate(rmsPurchaseOrderHeaderRequest);\n        String toStringBuyers = rmsPurchaseOrderHeaderRequest.getBuyers().toString();\n        String toStringOrders = rmsPurchaseOrderHeaderRequest.getOrders().toString();\n\n        Assertions.assertNotNull(requestValidationHelper);\n        Assertions.assertEquals(rmsPurchaseOrderHeaderRequest.getBuyers().toString(),toStringBuyers);\n        Assertions.assertEquals(rmsPurchaseOrderHeaderRequest.getOrders().toString(),toStringOrders);\n\n    }\n</code></pre>\n<p>but I feel like I'm way off...\nalso if anyone knows of a good plugin to show code coverage that would be great as well. I can't get sonar lint to work.</p>\n"},{"tags":["java","android","mobile","location","maps"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1672853089,"post_id":75009040,"comment_id":132368079,"body_markdown":"Please [edit] the post and include the full compiler error.","body":"Please <a href=\"https://stackoverflow.com/posts/75009040/edit\">edit</a> the post and include the full compiler error."},{"owner":{"account_id":19615181,"reputation":732,"user_id":15394019,"display_name":"mindoverflow"},"score":0,"creation_date":1672858753,"post_id":75009040,"comment_id":132369903,"body_markdown":"just looking at the nature of the exception seems to indicate you are possibly __a__ using a deprecated feature not supported anymore in the API you&#39;re compiling on and targeting, __b__ using an identical named component, but from a different native android package or __c__ the component used by uber or what you&#39;re referencing has the same name, but is actually third party component provided by an external lib you have to implemment on your gradle build script.","body":"just looking at the nature of the exception seems to indicate you are possibly <b>a</b> using a deprecated feature not supported anymore in the API you&#39;re compiling on and targeting, <b>b</b> using an identical named component, but from a different native android package or <b>c</b> the component used by uber or what you&#39;re referencing has the same name, but is actually third party component provided by an external lib you have to implemment on your gradle build script."},{"owner":{"account_id":19615181,"reputation":732,"user_id":15394019,"display_name":"mindoverflow"},"score":0,"creation_date":1672859126,"post_id":75009040,"comment_id":132370005,"body_markdown":"ah yes there we go: https://stackoverflow.com/questions/57410135/fusedlocationapi-is-deprecated","body":"ah yes there we go: <a href=\"https://stackoverflow.com/questions/57410135/fusedlocationapi-is-deprecated\" title=\"fusedlocationapi is deprecated\">stackoverflow.com/questions/57410135/&hellip;</a>"},{"owner":{"account_id":19615181,"reputation":732,"user_id":15394019,"display_name":"mindoverflow"},"score":0,"creation_date":1672859676,"post_id":75009040,"comment_id":132370166,"body_markdown":"[another one](https://stackoverflow.com/questions/46481789/android-locationservices-fusedlocationapi-deprecated). to be honest, android backward compatibility support is a __proper mess__. may i suggest searching ```site:github.com android location api``` on google for third party in-packaged solutions for an even experience. every new API messes up device hard access, perhaps due to fast rate of tech growth / security-efficiency-design issues","body":"<a href=\"https://stackoverflow.com/questions/46481789/android-locationservices-fusedlocationapi-deprecated\">another one</a>. to be honest, android backward compatibility support is a <b>proper mess</b>. may i suggest searching <code>site:github.com android location api</code> on google for third party in-packaged solutions for an even experience. every new API messes up device hard access, perhaps due to fast rate of tech growth / security-efficiency-design issues"},{"owner":{"account_id":27430605,"reputation":1,"user_id":20927390,"display_name":"Mohamad Software"},"score":0,"creation_date":1672860767,"post_id":75009040,"comment_id":132370530,"body_markdown":"unfortunately this doesn&#39;t help me","body":"unfortunately this doesn&#39;t help me"},{"owner":{"account_id":10283144,"reputation":2440,"user_id":7587451,"display_name":"Giovanni Contreras"},"score":0,"creation_date":1672883939,"post_id":75009040,"comment_id":132375728,"body_markdown":"please paste stacktrace as well","body":"please paste stacktrace as well"}],"owner":{"account_id":27430605,"reputation":1,"user_id":20927390,"display_name":"Mohamad Software"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672853722,"creation_date":1672852987,"question_id":75009040,"body_markdown":"I&#39;m trying to clone Uber, I want to access the driver current location, but when implementing  `LocationServices.FusedLocationApi.requestLocationUpdates(googleApiClient,locationRequest,this);` Iam getting an error as follow:\r\n\r\nCannot resolve method &#39;requestLocationUpdates(com.google.android.gms.common.api.GoogleApiClient, android.location.LocationRequest, com.example.codingcafe.cab.DriversMapActivity)&#39;\r\n\r\n\r\n\r\nThis is my class, I tried to add LocationListener to the implements, I changed the gms-location implementation in the build.gradle, nothing worked\r\n\r\n```\r\npackage com.example.codingcafe.cab;\r\n\r\n\r\nimport android.Manifest;\r\nimport android.content.pm.PackageManager;\r\nimport android.location.Location;\r\nimport android.location.LocationRequest;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.core.app.ActivityCompat;\r\nimport androidx.fragment.app.FragmentActivity;\r\n\r\nimport com.example.codingcafe.cab.databinding.ActivityDriversMapBinding;\r\nimport com.google.android.gms.common.ConnectionResult;\r\nimport com.google.android.gms.common.api.GoogleApiClient;\r\nimport com.google.android.gms.location.LocationServices;\r\nimport com.google.android.gms.maps.CameraUpdateFactory;\r\nimport com.google.android.gms.maps.GoogleMap;\r\nimport com.google.android.gms.maps.OnMapReadyCallback;\r\nimport com.google.android.gms.maps.SupportMapFragment;\r\nimport com.google.android.gms.maps.model.LatLng;\r\nimport com.google.android.gms.maps.model.MarkerOptions;\r\nimport android.location.LocationListener;\r\n\r\npublic class DriversMapActivity extends FragmentActivity implements OnMapReadyCallback,\r\n        GoogleApiClient.ConnectionCallbacks,\r\n        GoogleApiClient.OnConnectionFailedListener,\r\n        com.google.android.gms.location.LocationListener{\r\n\r\n    private GoogleMap mMap;\r\n    private ActivityDriversMapBinding binding;\r\n    GoogleApiClient googleApiClient;\r\n    Location LastLocation;\r\n    LocationRequest locationRequest;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n        binding = ActivityDriversMapBinding.inflate(getLayoutInflater());\r\n        setContentView(binding.getRoot());\r\n\r\n        // Obtain the SupportMapFragment and get notified when the map is ready to be used.\r\n        SupportMapFragment mapFragment = (SupportMapFragment) getSupportFragmentManager()\r\n                .findFragmentById(R.id.map);\r\n        mapFragment.getMapAsync(this);\r\n    }\r\n\r\n    /**\r\n     * Manipulates the map once available.\r\n     * This callback is triggered when the map is ready to be used.\r\n     * This is where we can add markers or lines, add listeners or move the camera. In this case,\r\n     * we just add a marker near Sydney, Australia.\r\n     * If Google Play services is not installed on the device, the user will be prompted to install\r\n     * it inside the SupportMapFragment. This method will only be triggered once the user has\r\n     * installed Google Play services and returned to the app.\r\n     */\r\n    @Override\r\n    public void onMapReady(GoogleMap googleMap) {\r\n        mMap = googleMap;\r\n\r\n        // Add a marker in Sydney and move the camera\r\n        LatLng sydney = new LatLng(-34, 151);\r\n        mMap.addMarker(new MarkerOptions().position(sydney).title(&quot;Marker in Sydney&quot;));\r\n        mMap.moveCamera(CameraUpdateFactory.newLatLngZoom(sydney,17));\r\n    }\r\n\r\n    @Override\r\n    public void onConnected(@Nullable Bundle bundle) {\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S) {\r\n            locationRequest = new LocationRequest.Builder( 1000)\r\n                    .setMinUpdateIntervalMillis(500)\r\n                    .setQuality(LocationRequest.QUALITY_HIGH_ACCURACY)\r\n                    .setMaxUpdateDelayMillis(1000)\r\n                    .build();\r\n\r\n        }\r\n\r\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION)\r\n                != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this,\r\n                Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED)\r\n        {\r\n            return;\r\n        }\r\n        LocationServices.FusedLocationApi.requestLocationUpdates(googleApiClient,locationRequest,this);\r\n\r\n        //it will handle the refreshment of the location\r\n        //if we dont call it we will get location only once\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onConnectionSuspended(int i) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onConnectionFailed(@NonNull ConnectionResult connectionResult) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onLocationChanged(Location location) {\r\n\r\n    }\r\n}  \r\n```\r\n ","title":"I&#39;m cloning Uber, I&#39;m having an error in &quot;requestLocationUpdates&quot;, trying to access my current location(Driver Location)","body":"<p>I'm trying to clone Uber, I want to access the driver current location, but when implementing  <code>LocationServices.FusedLocationApi.requestLocationUpdates(googleApiClient,locationRequest,this);</code> Iam getting an error as follow:</p>\n<p>Cannot resolve method 'requestLocationUpdates(com.google.android.gms.common.api.GoogleApiClient, android.location.LocationRequest, com.example.codingcafe.cab.DriversMapActivity)'</p>\n<p>This is my class, I tried to add LocationListener to the implements, I changed the gms-location implementation in the build.gradle, nothing worked</p>\n<pre><code>package com.example.codingcafe.cab;\n\n\nimport android.Manifest;\nimport android.content.pm.PackageManager;\nimport android.location.Location;\nimport android.location.LocationRequest;\nimport android.os.Build;\nimport android.os.Bundle;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.core.app.ActivityCompat;\nimport androidx.fragment.app.FragmentActivity;\n\nimport com.example.codingcafe.cab.databinding.ActivityDriversMapBinding;\nimport com.google.android.gms.common.ConnectionResult;\nimport com.google.android.gms.common.api.GoogleApiClient;\nimport com.google.android.gms.location.LocationServices;\nimport com.google.android.gms.maps.CameraUpdateFactory;\nimport com.google.android.gms.maps.GoogleMap;\nimport com.google.android.gms.maps.OnMapReadyCallback;\nimport com.google.android.gms.maps.SupportMapFragment;\nimport com.google.android.gms.maps.model.LatLng;\nimport com.google.android.gms.maps.model.MarkerOptions;\nimport android.location.LocationListener;\n\npublic class DriversMapActivity extends FragmentActivity implements OnMapReadyCallback,\n        GoogleApiClient.ConnectionCallbacks,\n        GoogleApiClient.OnConnectionFailedListener,\n        com.google.android.gms.location.LocationListener{\n\n    private GoogleMap mMap;\n    private ActivityDriversMapBinding binding;\n    GoogleApiClient googleApiClient;\n    Location LastLocation;\n    LocationRequest locationRequest;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        binding = ActivityDriversMapBinding.inflate(getLayoutInflater());\n        setContentView(binding.getRoot());\n\n        // Obtain the SupportMapFragment and get notified when the map is ready to be used.\n        SupportMapFragment mapFragment = (SupportMapFragment) getSupportFragmentManager()\n                .findFragmentById(R.id.map);\n        mapFragment.getMapAsync(this);\n    }\n\n    /**\n     * Manipulates the map once available.\n     * This callback is triggered when the map is ready to be used.\n     * This is where we can add markers or lines, add listeners or move the camera. In this case,\n     * we just add a marker near Sydney, Australia.\n     * If Google Play services is not installed on the device, the user will be prompted to install\n     * it inside the SupportMapFragment. This method will only be triggered once the user has\n     * installed Google Play services and returned to the app.\n     */\n    @Override\n    public void onMapReady(GoogleMap googleMap) {\n        mMap = googleMap;\n\n        // Add a marker in Sydney and move the camera\n        LatLng sydney = new LatLng(-34, 151);\n        mMap.addMarker(new MarkerOptions().position(sydney).title(&quot;Marker in Sydney&quot;));\n        mMap.moveCamera(CameraUpdateFactory.newLatLngZoom(sydney,17));\n    }\n\n    @Override\n    public void onConnected(@Nullable Bundle bundle) {\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S) {\n            locationRequest = new LocationRequest.Builder( 1000)\n                    .setMinUpdateIntervalMillis(500)\n                    .setQuality(LocationRequest.QUALITY_HIGH_ACCURACY)\n                    .setMaxUpdateDelayMillis(1000)\n                    .build();\n\n        }\n\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION)\n                != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this,\n                Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED)\n        {\n            return;\n        }\n        LocationServices.FusedLocationApi.requestLocationUpdates(googleApiClient,locationRequest,this);\n\n        //it will handle the refreshment of the location\n        //if we dont call it we will get location only once\n\n    }\n\n    @Override\n    public void onConnectionSuspended(int i) {\n\n    }\n\n    @Override\n    public void onConnectionFailed(@NonNull ConnectionResult connectionResult) {\n\n    }\n\n    @Override\n    public void onLocationChanged(Location location) {\n\n    }\n}  \n</code></pre>\n"},{"tags":["java","sql","postgresql","spring-boot","hibernate"],"comments":[{"owner":{"account_id":13542195,"reputation":139,"user_id":9769594,"display_name":"warmCabin"},"score":0,"creation_date":1672770012,"post_id":74996781,"comment_id":132347594,"body_markdown":"Does this help? https://thorben-janssen.com/ternary-associations/\nBased on this article, seems like you&#39;ve got it right with a `@OneToMany Set&lt;Bookings&gt;` in the other entities.","body":"Does this help? <a href=\"https://thorben-janssen.com/ternary-associations/\" rel=\"nofollow noreferrer\">thorben-janssen.com/ternary-associations</a> Based on this article, seems like you&#39;ve got it right with a <code>@OneToMany Set&lt;Bookings&gt;</code> in the other entities."}],"answers":[{"tags":[],"owner":{"account_id":23217269,"reputation":21,"user_id":17310018,"display_name":"peebee"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672852581,"creation_date":1672852581,"answer_id":75008980,"question_id":74996781,"body_markdown":"This is how I solved it using the info provided in the article sent by @warmCabin ([thorben-janssen.com/ternary-associations][1]):\r\n\r\nUsing an association table class like above with the attributes startDate, endDate, booking_id and the references to the three entities Room, Customer, CustomerServant, provided that theres an according @ManyToOne annotation for the three referencing entities, just like in the question above.\r\n\r\ne.g. like above\r\n\r\n    @ManyToOne (cascade = CascadeType.ALL, fetch = FetchType.EAGER)\r\n    @JoinColumn(name = &quot;customer&quot;, insertable = false, updatable = false)\r\n       private Customer customer = new Customer();\r\n\r\nThen I added this to all entities that are connected via the ternary relation:\r\n\r\n    @OneToMany(mappedBy = &quot;&lt;enter varName from ternary relation table&gt;&quot;)\r\n       Set&lt;T&gt; var = new HashSet&lt;&gt;();\r\n\r\nWith this line of code, when a relation is stored e.g. a booking like in my case, this relation gets stored in every participating entity and every stored relation gets the Ids of all participating entities.\r\n\r\nIn my case it would look like this, for the three entities:\r\n\r\n    @Entity(name=&quot;Room&quot;)\r\n    @Table(name=&quot;Room&quot;)\r\n    class Room {\r\n\r\n       //attributes...\r\n       \r\n       @OneToMany(mappedBy = &quot;room&quot;)\r\n       Set&lt;Bookings&gt; bookings = new HashSet&lt;&gt;();\r\n       \r\n       //...\r\n    }\r\n\r\n    @Entity(name=&quot;Customer&quot;)\r\n    @Table(name=&quot;Customer&quot;)\r\n    class Customer {\r\n\r\n       //attributes...\r\n       \r\n       @OneToMany(mappedBy = &quot;customer&quot;)\r\n       Set&lt;Bookings&gt; bookings = new HashSet&lt;&gt;();\r\n       \r\n       //...\r\n    }\r\n\r\n    @Entity(name=&quot;CustomerServant&quot;)\r\n    @Table(name=&quot;CustomerServant&quot;)\r\n    class CustomerServant {\r\n\r\n       //attributes...\r\n       \r\n       @OneToMany(mappedBy = &quot;customerServant&quot;)\r\n       Set&lt;Bookings&gt; bookings = new HashSet&lt;&gt;();\r\n       \r\n       //...\r\n    }\r\n\r\nIn the article cited above it is said that its also possible to create such a relation with a HashMap, but because the first appraoch, with an own entity class as a ternary relation, works for me, I didnt check if it would also work in my case. If necessary check the article [thorben-janssen.com/ternary-associations][1].\r\n\r\n\r\n  [1]: https://thorben-janssen.com/ternary-associations/","title":"Ternary m-to-m-to-m relation in springboot/postgresql","body":"<p>This is how I solved it using the info provided in the article sent by @warmCabin (<a href=\"https://thorben-janssen.com/ternary-associations/\" rel=\"nofollow noreferrer\">thorben-janssen.com/ternary-associations</a>):</p>\n<p>Using an association table class like above with the attributes startDate, endDate, booking_id and the references to the three entities Room, Customer, CustomerServant, provided that theres an according @ManyToOne annotation for the three referencing entities, just like in the question above.</p>\n<p>e.g. like above</p>\n<pre><code>@ManyToOne (cascade = CascadeType.ALL, fetch = FetchType.EAGER)\n@JoinColumn(name = &quot;customer&quot;, insertable = false, updatable = false)\n   private Customer customer = new Customer();\n</code></pre>\n<p>Then I added this to all entities that are connected via the ternary relation:</p>\n<pre><code>@OneToMany(mappedBy = &quot;&lt;enter varName from ternary relation table&gt;&quot;)\n   Set&lt;T&gt; var = new HashSet&lt;&gt;();\n</code></pre>\n<p>With this line of code, when a relation is stored e.g. a booking like in my case, this relation gets stored in every participating entity and every stored relation gets the Ids of all participating entities.</p>\n<p>In my case it would look like this, for the three entities:</p>\n<pre><code>@Entity(name=&quot;Room&quot;)\n@Table(name=&quot;Room&quot;)\nclass Room {\n\n   //attributes...\n   \n   @OneToMany(mappedBy = &quot;room&quot;)\n   Set&lt;Bookings&gt; bookings = new HashSet&lt;&gt;();\n   \n   //...\n}\n\n@Entity(name=&quot;Customer&quot;)\n@Table(name=&quot;Customer&quot;)\nclass Customer {\n\n   //attributes...\n   \n   @OneToMany(mappedBy = &quot;customer&quot;)\n   Set&lt;Bookings&gt; bookings = new HashSet&lt;&gt;();\n   \n   //...\n}\n\n@Entity(name=&quot;CustomerServant&quot;)\n@Table(name=&quot;CustomerServant&quot;)\nclass CustomerServant {\n\n   //attributes...\n   \n   @OneToMany(mappedBy = &quot;customerServant&quot;)\n   Set&lt;Bookings&gt; bookings = new HashSet&lt;&gt;();\n   \n   //...\n}\n</code></pre>\n<p>In the article cited above it is said that its also possible to create such a relation with a HashMap, but because the first appraoch, with an own entity class as a ternary relation, works for me, I didnt check if it would also work in my case. If necessary check the article <a href=\"https://thorben-janssen.com/ternary-associations/\" rel=\"nofollow noreferrer\">thorben-janssen.com/ternary-associations</a>.</p>\n"}],"owner":{"account_id":23217269,"reputation":21,"user_id":17310018,"display_name":"peebee"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672852581,"creation_date":1672767442,"question_id":74996781,"body_markdown":"I am trying to implement a ternary relation with the entities Customer, CustomerServant and Room. The teranry relation also has the additional attributes StartDate, EndDate and also an Id. Therefore I created this class to get the relation table:\r\n\r\n    @Entity(name = &quot;bookings&quot;)\r\n    @Table(name = &quot;bookings&quot;)\r\n    public class Bookings {\r\n\r\n\r\n    @Id\r\n    @SequenceGenerator(\r\n            name = &quot;bookings_sequence&quot;,\r\n            sequenceName = &quot;bookings_sequence&quot;,\r\n            allocationSize = 1\r\n    )\r\n    @GeneratedValue(\r\n            strategy = SEQUENCE,\r\n            generator = &quot;bookings_sequence&quot;\r\n    )\r\n    @Column(\r\n            name = &quot;bookings_id&quot;,\r\n            updatable = false\r\n    )\r\n    private Long Id;\r\n\r\n    @Column(\r\n            name = &quot;Travel_Start_Date&quot;,\r\n            nullable = false\r\n    )\r\n    private String travelStartDate ;\r\n\r\n    @Column(\r\n            name = &quot;Travel_End_Date&quot;,\r\n            nullable = false\r\n    )\r\n    private String travelEndDate;\r\n\r\n    @ManyToOne (  cascade = CascadeType.ALL, fetch = FetchType.EAGER)\r\n    @JoinColumn(name = &quot;customer&quot;, insertable = false, updatable = false)\r\n    private Customer customer = new Customer();\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;room&quot;, insertable = false, updatable = false)\r\n    private Room room;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;customerServant&quot;, insertable = false, updatable = false)\r\n    private CustomerServant customerServant;\r\n\r\nWhat I am struggling with is what I should write in the other three classes which are referencing each other. \r\nI do understand that to create a single m-to-m relation with additional relational attributes I can implement a class as I did above and simply write: e.g.\r\n```\r\n class Bookings {\r\n   int Id;\r\n   Date StartDate;\r\n   Date EndDate;\r\n   \r\n   @ManyToOne\r\n   @JoinColumn(name = &quot;customer_id&quot;)\r\n   Customer customer;\r\n\r\n   @ManyToOne\r\n   @JoinColumn(name = &quot;Room&quot;)\r\n   Room room;\r\n }\r\n class Customer {\r\n   //...\r\n   @OneToMany(mappedBy = &quot;customer&quot;)\r\n   Set&lt;Bookings&gt; bookings;\r\n }\r\n class Room {\r\n   @OneToMany(mappedBy = &quot;room&quot;)\r\n   Set&lt;Bookings&gt; bookings;\r\n```\r\nbut what do I do when I want a ternary relation?","title":"Ternary m-to-m-to-m relation in springboot/postgresql","body":"<p>I am trying to implement a ternary relation with the entities Customer, CustomerServant and Room. The teranry relation also has the additional attributes StartDate, EndDate and also an Id. Therefore I created this class to get the relation table:</p>\n<pre><code>@Entity(name = &quot;bookings&quot;)\n@Table(name = &quot;bookings&quot;)\npublic class Bookings {\n\n\n@Id\n@SequenceGenerator(\n        name = &quot;bookings_sequence&quot;,\n        sequenceName = &quot;bookings_sequence&quot;,\n        allocationSize = 1\n)\n@GeneratedValue(\n        strategy = SEQUENCE,\n        generator = &quot;bookings_sequence&quot;\n)\n@Column(\n        name = &quot;bookings_id&quot;,\n        updatable = false\n)\nprivate Long Id;\n\n@Column(\n        name = &quot;Travel_Start_Date&quot;,\n        nullable = false\n)\nprivate String travelStartDate ;\n\n@Column(\n        name = &quot;Travel_End_Date&quot;,\n        nullable = false\n)\nprivate String travelEndDate;\n\n@ManyToOne (  cascade = CascadeType.ALL, fetch = FetchType.EAGER)\n@JoinColumn(name = &quot;customer&quot;, insertable = false, updatable = false)\nprivate Customer customer = new Customer();\n\n@ManyToOne\n@JoinColumn(name = &quot;room&quot;, insertable = false, updatable = false)\nprivate Room room;\n\n@ManyToOne\n@JoinColumn(name = &quot;customerServant&quot;, insertable = false, updatable = false)\nprivate CustomerServant customerServant;\n</code></pre>\n<p>What I am struggling with is what I should write in the other three classes which are referencing each other.\nI do understand that to create a single m-to-m relation with additional relational attributes I can implement a class as I did above and simply write: e.g.</p>\n<pre><code> class Bookings {\n   int Id;\n   Date StartDate;\n   Date EndDate;\n   \n   @ManyToOne\n   @JoinColumn(name = &quot;customer_id&quot;)\n   Customer customer;\n\n   @ManyToOne\n   @JoinColumn(name = &quot;Room&quot;)\n   Room room;\n }\n class Customer {\n   //...\n   @OneToMany(mappedBy = &quot;customer&quot;)\n   Set&lt;Bookings&gt; bookings;\n }\n class Room {\n   @OneToMany(mappedBy = &quot;room&quot;)\n   Set&lt;Bookings&gt; bookings;\n</code></pre>\n<p>but what do I do when I want a ternary relation?</p>\n"},{"tags":["java","spring-boot","spring-security"],"comments":[{"owner":{"account_id":948742,"reputation":733,"user_id":975386,"display_name":"Jean-Alexis Aufauvre"},"score":0,"creation_date":1675449575,"post_id":74926313,"comment_id":132939003,"body_markdown":"You don&#39;t need all this code. See: https://stackoverflow.com/questions/70364411/my-spring-customsecurityexpressionroot-not-working/70365925#70365925","body":"You don&#39;t need all this code. See: <a href=\"https://stackoverflow.com/questions/70364411/my-spring-customsecurityexpressionroot-not-working/70365925#70365925\" title=\"my spring customsecurityexpressionroot not working\">stackoverflow.com/questions/70364411/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":16731772,"reputation":1574,"user_id":12093975,"display_name":"skyho"},"score":1,"creation_date":1672260717,"post_id":74926747,"comment_id":132255034,"body_markdown":"however , the question was different : ..... class GlobalMethodSecurityConfiguration is deprecated...  how to create Custom Expresion handler ....?  for example, how to redo what is described in the article :   ttps://www.baeldung.com/spring-deny-access  . That is, to remove the outdated API","body":"however , the question was different : ..... class GlobalMethodSecurityConfiguration is deprecated...  how to create Custom Expresion handler ....?  for example, how to redo what is described in the article :   ttps://www.baeldung.com/spring-deny-access  . That is, to remove the outdated API"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":1,"creation_date":1672265808,"post_id":74926747,"comment_id":132256207,"body_markdown":"@skyho Oops, I must have been very sleepy, while writing this. Thanks for pointing that, fixed the answer, and approved yours.","body":"@skyho Oops, I must have been very sleepy, while writing this. Thanks for pointing that, fixed the answer, and approved yours."}],"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":2,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1672265457,"creation_date":1672126699,"answer_id":74926747,"question_id":74926313,"body_markdown":"# Expression Handler\r\n\r\nIn order to customize expression handling mechanism [Reference documentation of Spring Security 6.0][expressionHendler] suggests registering `MethodSecurityExpressionHandler` as a Bean in the Context, by defining `@Bean` annotated method in the configuration class. The method is advised to be marked with `static` modifier, so that it gets executed, and a custom expression handler gets registered in the Context before the configuration class would be instantiated and initialized.\r\n\r\n&gt; If you need to customize the way that expressions are handled, \r\n&gt; you can expose a custom `MethodSecurityExpressionHandler`, like so:\r\n&gt; \r\n&gt; ```\r\n&gt; @Bean\r\n&gt; static MethodSecurityExpressionHandler\r\n&gt; methodSecurityExpressionHandler() {\r\n&gt; \t  // instantiating the handler\r\n&gt; \t  return handler;\r\n&gt; }\r\n&gt; ```\r\n&gt; \r\n&gt; We expose MethodSecurityExpressionHandler using a `static` method to\r\n&gt; ensure that Spring publishes it before it initializes Spring\r\n&gt; Security’s method security `@Configuration` classes.\r\n\r\n\r\n# [`@EnableMethodSecurity`][enableMethodSecurity]\r\n\r\n[`@EnableMethodSecurity`][enableMethodSecurity] annotation is a recommended replacement for deprecated &lt;del&gt;`@EnableGlobalMethodSecurity`&lt;/del&gt;.\r\n\r\nIts property `prePostEnabled` is by default set to `true`.\r\n\r\nSo to enable usage of `@PreAuthorize/@PostAuthorize` and `@PreFilter/@PostFilter` which are the most widely used annotations for customizing access control on the method-level, you can apply `@EnableMethodSecurity` without providing any arguments.\r\n\r\n\r\n\r\n   [expressionHendler]: https://docs.spring.io/spring-security/reference/servlet/authorization/method-security.html#_customizing_authorization\r\n\r\n   [enableMethodSecurity]: https://docs.spring.io/spring-security/site/docs/5.7.0/api/org/springframework/security/config/annotation/method/configuration/EnableMethodSecurity.html","title":"GlobalMethodSecurityConfiguration is deprecated in spring boot 3, how to create Custom Expresion handler in 3?","body":"<h1>Expression Handler</h1>\n<p>In order to customize expression handling mechanism <a href=\"https://docs.spring.io/spring-security/reference/servlet/authorization/method-security.html#_customizing_authorization\" rel=\"noreferrer\">Reference documentation of Spring Security 6.0</a> suggests registering <code>MethodSecurityExpressionHandler</code> as a Bean in the Context, by defining <code>@Bean</code> annotated method in the configuration class. The method is advised to be marked with <code>static</code> modifier, so that it gets executed, and a custom expression handler gets registered in the Context before the configuration class would be instantiated and initialized.</p>\n<blockquote>\n<p>If you need to customize the way that expressions are handled,\nyou can expose a custom <code>MethodSecurityExpressionHandler</code>, like so:</p>\n<pre><code>@Bean\nstatic MethodSecurityExpressionHandler\nmethodSecurityExpressionHandler() {\n    // instantiating the handler\n    return handler;\n}\n</code></pre>\n<p>We expose MethodSecurityExpressionHandler using a <code>static</code> method to\nensure that Spring publishes it before it initializes Spring\nSecurity’s method security <code>@Configuration</code> classes.</p>\n</blockquote>\n<h1><a href=\"https://docs.spring.io/spring-security/site/docs/5.7.0/api/org/springframework/security/config/annotation/method/configuration/EnableMethodSecurity.html\" rel=\"noreferrer\"><code>@EnableMethodSecurity</code></a></h1>\n<p><a href=\"https://docs.spring.io/spring-security/site/docs/5.7.0/api/org/springframework/security/config/annotation/method/configuration/EnableMethodSecurity.html\" rel=\"noreferrer\"><code>@EnableMethodSecurity</code></a> annotation is a recommended replacement for deprecated <del><code>@EnableGlobalMethodSecurity</code></del>.</p>\n<p>Its property <code>prePostEnabled</code> is by default set to <code>true</code>.</p>\n<p>So to enable usage of <code>@PreAuthorize/@PostAuthorize</code> and <code>@PreFilter/@PostFilter</code> which are the most widely used annotations for customizing access control on the method-level, you can apply <code>@EnableMethodSecurity</code> without providing any arguments.</p>\n"},{"tags":[],"owner":{"account_id":16731772,"reputation":1574,"user_id":12093975,"display_name":"skyho"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1672261721,"creation_date":1672261299,"answer_id":74944960,"question_id":74926313,"body_markdown":"Try this:\r\n\r\n```java\r\n@Configuration\r\n@RequiredArgsConstructor\r\npublic class DenyMethodSecurityConfig {\r\n    \r\n    private final ApplicationContext applicationContext;\r\n\r\n    @Bean\r\n    protected MethodSecurityExpressionHandler createExpressionHandler() {\r\n        CustomMethodSecurityExpressionHandler expressionHandler = new CustomMethodSecurityExpressionHandler();\r\n        expressionHandler.setPermissionEvaluator(new CustomPermissionEvaluator());\r\n        expressionHandler.setApplicationContext(applicationContext);\r\n        return expressionHandler;\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\nIf you need an annotation @EnableGlobalMethodSecurity that to replace on @EnableMethodSecurity (note: prePostEnabled() default true).\r\n\r\nIf you use an annotated approach, then set this annotation above the class where you use annotations: @Pre/Post***, \r\nsince incorrect work is possible if you set annotation @EnableMethodSecurity above the class that only describes the configurations (marked as @Configuration),\r\nyou may observe incorrect operation of the authorization mechanism. However, I suggest you check it yourself.","title":"GlobalMethodSecurityConfiguration is deprecated in spring boot 3, how to create Custom Expresion handler in 3?","body":"<p>Try this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@RequiredArgsConstructor\npublic class DenyMethodSecurityConfig {\n    \n    private final ApplicationContext applicationContext;\n\n    @Bean\n    protected MethodSecurityExpressionHandler createExpressionHandler() {\n        CustomMethodSecurityExpressionHandler expressionHandler = new CustomMethodSecurityExpressionHandler();\n        expressionHandler.setPermissionEvaluator(new CustomPermissionEvaluator());\n        expressionHandler.setApplicationContext(applicationContext);\n        return expressionHandler;\n    }\n}\n\n\n</code></pre>\n<p>If you need an annotation @EnableGlobalMethodSecurity that to replace on @EnableMethodSecurity (note: prePostEnabled() default true).</p>\n<p>If you use an annotated approach, then set this annotation above the class where you use annotations: @Pre/Post***,\nsince incorrect work is possible if you set annotation @EnableMethodSecurity above the class that only describes the configurations (marked as @Configuration),\nyou may observe incorrect operation of the authorization mechanism. However, I suggest you check it yourself.</p>\n"}],"owner":{"account_id":3695262,"reputation":8590,"user_id":3391490,"accept_rate":100,"display_name":"Thirumal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5125,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1672852278,"creation_date":1672122603,"question_id":74926313,"body_markdown":"Currently, I have created custom expression handler by overriding the `createExpressionHandler` function from `GlobalMethodSecurityConfiguration`. The code is \r\n\r\n    @Configuration\r\n    @EnableGlobalMethodSecurity(prePostEnabled = true)\r\n    public class MethodSecurityConfig extends GlobalMethodSecurityConfiguration {\r\n    \r\n    \tLogger logger = LoggerFactory.getLogger(this.getClass());\r\n    \t\r\n    \t@Autowired\r\n        private ApplicationContext applicationContext;\r\n    \t\r\n    \t@Override\r\n    \tprotected MethodSecurityExpressionHandler createExpressionHandler() {\r\n    \t\tCustomMethodSecurityExpressionHandler expressionHandler = new CustomMethodSecurityExpressionHandler();\r\n    \t\texpressionHandler.setPermissionEvaluator(new CustomPermissionEvaluator());\r\n    \t\texpressionHandler.setApplicationContext(applicationContext);\r\n    \t\treturn expressionHandler;\r\n    \t}\r\n    \t\r\n    }\r\n\r\n-- CustomMethodSecurityExpressionHandler class\r\n\r\n    public class CustomMethodSecurityExpressionHandler extends DefaultMethodSecurityExpressionHandler {\r\n    \t\r\n    \tprivate ApplicationContext applicationContext;\r\n    \tprivate AuthenticationTrustResolver trustResolver = new AuthenticationTrustResolverImpl();\r\n    \r\n    \t@Override\r\n    \tprotected MethodSecurityExpressionOperations createSecurityExpressionRoot(Authentication authentication,\r\n    \t\t\tMethodInvocation invocation) {\r\n    \t\tCustomMethodSecurityExpressionRoot root = new CustomMethodSecurityExpressionRoot(authentication);\r\n    \t\troot.setPermissionEvaluator(getPermissionEvaluator());\r\n    \t\troot.setTrustResolver(this.trustResolver);\r\n    \t\troot.setRoleHierarchy(getRoleHierarchy());\r\n    \t\troot.setG(this.applicationContext.getBean(CustomTraversalSource.class));\r\n    \t\treturn root;\r\n    \t}\r\n    \t\r\n    \t//This setter method will be called from the config class\r\n    \t@Override\r\n        public void setApplicationContext(ApplicationContext applicationContext) {\r\n            super.setApplicationContext(applicationContext);\r\n            this.applicationContext=applicationContext;\r\n        }\r\n    }\r\n\r\nAnd CustomPermissionEvaluator\r\n\r\n    @Component\r\n    public class CustomPermissionEvaluator implements PermissionEvaluator {\r\n    \r\n    \t@Override\r\n    \tpublic boolean hasPermission(Authentication authentication, Object targetDomainObject, Object permission) {\r\n    \t\tif ((authentication == null) || (targetDomainObject == null) || !(permission instanceof String)){\r\n                return false;\r\n            }\r\n            String targetType = targetDomainObject.getClass().getSimpleName().toUpperCase();\r\n            \r\n            return hasPrivilege(authentication, targetType, permission.toString().toUpperCase());\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean hasPermission(Authentication authentication, Serializable targetId, String targetType,\r\n    \t\t\tObject permission) {\r\n    \t\tif ((authentication == null) || (targetType == null) || !(permission instanceof String)) {\r\n                return false;\r\n            }\r\n            return hasPrivilege(authentication, targetType.toUpperCase(), \r\n              permission.toString().toUpperCase());\r\n    \t}\r\n    \r\n    \tprivate boolean hasPrivilege(Authentication authentication, String targetType, String permission) {\r\n    \t\tfor (GrantedAuthority grantedAuth : authentication.getAuthorities()) {\r\n    \t        if (grantedAuth.getAuthority().startsWith(targetType) &amp;&amp; \r\n    \t          grantedAuth.getAuthority().contains(permission)) {\r\n    \t            return true;\r\n    \t        }\r\n    \t    }\r\n    \t    return false;\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"GlobalMethodSecurityConfiguration is deprecated in spring boot 3, how to create Custom Expresion handler in 3?","body":"<p>Currently, I have created custom expression handler by overriding the <code>createExpressionHandler</code> function from <code>GlobalMethodSecurityConfiguration</code>. The code is</p>\n<pre><code>@Configuration\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class MethodSecurityConfig extends GlobalMethodSecurityConfiguration {\n\n    Logger logger = LoggerFactory.getLogger(this.getClass());\n    \n    @Autowired\n    private ApplicationContext applicationContext;\n    \n    @Override\n    protected MethodSecurityExpressionHandler createExpressionHandler() {\n        CustomMethodSecurityExpressionHandler expressionHandler = new CustomMethodSecurityExpressionHandler();\n        expressionHandler.setPermissionEvaluator(new CustomPermissionEvaluator());\n        expressionHandler.setApplicationContext(applicationContext);\n        return expressionHandler;\n    }\n    \n}\n</code></pre>\n<p>-- CustomMethodSecurityExpressionHandler class</p>\n<pre><code>public class CustomMethodSecurityExpressionHandler extends DefaultMethodSecurityExpressionHandler {\n    \n    private ApplicationContext applicationContext;\n    private AuthenticationTrustResolver trustResolver = new AuthenticationTrustResolverImpl();\n\n    @Override\n    protected MethodSecurityExpressionOperations createSecurityExpressionRoot(Authentication authentication,\n            MethodInvocation invocation) {\n        CustomMethodSecurityExpressionRoot root = new CustomMethodSecurityExpressionRoot(authentication);\n        root.setPermissionEvaluator(getPermissionEvaluator());\n        root.setTrustResolver(this.trustResolver);\n        root.setRoleHierarchy(getRoleHierarchy());\n        root.setG(this.applicationContext.getBean(CustomTraversalSource.class));\n        return root;\n    }\n    \n    //This setter method will be called from the config class\n    @Override\n    public void setApplicationContext(ApplicationContext applicationContext) {\n        super.setApplicationContext(applicationContext);\n        this.applicationContext=applicationContext;\n    }\n}\n</code></pre>\n<p>And CustomPermissionEvaluator</p>\n<pre><code>@Component\npublic class CustomPermissionEvaluator implements PermissionEvaluator {\n\n    @Override\n    public boolean hasPermission(Authentication authentication, Object targetDomainObject, Object permission) {\n        if ((authentication == null) || (targetDomainObject == null) || !(permission instanceof String)){\n            return false;\n        }\n        String targetType = targetDomainObject.getClass().getSimpleName().toUpperCase();\n        \n        return hasPrivilege(authentication, targetType, permission.toString().toUpperCase());\n    }\n\n    @Override\n    public boolean hasPermission(Authentication authentication, Serializable targetId, String targetType,\n            Object permission) {\n        if ((authentication == null) || (targetType == null) || !(permission instanceof String)) {\n            return false;\n        }\n        return hasPrivilege(authentication, targetType.toUpperCase(), \n          permission.toString().toUpperCase());\n    }\n\n    private boolean hasPrivilege(Authentication authentication, String targetType, String permission) {\n        for (GrantedAuthority grantedAuth : authentication.getAuthorities()) {\n            if (grantedAuth.getAuthority().startsWith(targetType) &amp;&amp; \n              grantedAuth.getAuthority().contains(permission)) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","reactjs","spring-boot","spring-security","basic-authentication"],"answers":[{"comments":[{"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"score":0,"creation_date":1667124774,"post_id":74246556,"comment_id":131092427,"body_markdown":"Thanks for the reply but I don&#39;t want to use any other service between frontend and backend","body":"Thanks for the reply but I don&#39;t want to use any other service between frontend and backend"}],"tags":[],"owner":{"account_id":11365395,"reputation":17,"user_id":8332452,"display_name":"Mandeep"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667057481,"creation_date":1667057481,"answer_id":74246556,"question_id":74244567,"body_markdown":"If you use some kind of reverse proxy (e.g. nginx) to serve your frontend, you can set the basic authentication parameters there.\r\n\r\ne.g.\r\n\r\n```\r\n location / {\r\n    ...\r\n    proxy_pass http://127.0.0.1:8080;\r\n    proxy_set_header Authorization &quot;Basic TOKEN&quot;;\r\n }\r\n```\r\n\r\nwhere `TOKEN` = `base64(username:password)`","title":"Bypass basic authentication for only frontend application","body":"<p>If you use some kind of reverse proxy (e.g. nginx) to serve your frontend, you can set the basic authentication parameters there.</p>\n<p>e.g.</p>\n<pre><code> location / {\n    ...\n    proxy_pass http://127.0.0.1:8080;\n    proxy_set_header Authorization &quot;Basic TOKEN&quot;;\n }\n</code></pre>\n<p>where <code>TOKEN</code> = <code>base64(username:password)</code></p>\n"}],"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":603,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672852233,"creation_date":1667039743,"question_id":74244567,"body_markdown":"I have a **frontend** application written in **React** and a **backend** application written in **SpringBoot**. I have implemented basic authentication in the backend application(for all endpoints) using Spring Security. So now a username and password are required to access every endpoint.\r\n\r\n***Requirement*** :\r\n\r\n1. I don&#39;t want to pass a username and password from the frontend application to access backend application endpoints so basically, I want to bypass basic authentication for my frontend application.\r\n\r\n2. If someone wants to access any endpoint outside my frontend app for example Postman, RestTemplate, etc then a username and password are required.\r\n\r\nFor example -\r\n\r\n*if the request is coming from www.abc.com (frontend app URL) then* basic authentication should be bypassed *for all endpoints but if the request is coming from www.xyz.com, Postman, RestTemplate, or any other client then basic authentication should not be bypassed.*\r\n\r\nI know how to bypass authentication on a specific endpoint within the backend application but I don&#39;t know how to bypass authentication for the requester, I did research over the internet as well but not found something useful. Looking for working code to fulfill the requirement.","title":"Bypass basic authentication for only frontend application","body":"<p>I have a <strong>frontend</strong> application written in <strong>React</strong> and a <strong>backend</strong> application written in <strong>SpringBoot</strong>. I have implemented basic authentication in the backend application(for all endpoints) using Spring Security. So now a username and password are required to access every endpoint.</p>\n<p><em><strong>Requirement</strong></em> :</p>\n<ol>\n<li><p>I don't want to pass a username and password from the frontend application to access backend application endpoints so basically, I want to bypass basic authentication for my frontend application.</p>\n</li>\n<li><p>If someone wants to access any endpoint outside my frontend app for example Postman, RestTemplate, etc then a username and password are required.</p>\n</li>\n</ol>\n<p>For example -</p>\n<p><em>if the request is coming from <a href=\"http://www.abc.com\" rel=\"nofollow noreferrer\">www.abc.com</a> (frontend app URL) then</em> basic authentication should be bypassed <em>for all endpoints but if the request is coming from <a href=\"http://www.xyz.com\" rel=\"nofollow noreferrer\">www.xyz.com</a>, Postman, RestTemplate, or any other client then basic authentication should not be bypassed.</em></p>\n<p>I know how to bypass authentication on a specific endpoint within the backend application but I don't know how to bypass authentication for the requester, I did research over the internet as well but not found something useful. Looking for working code to fulfill the requirement.</p>\n"},{"tags":["java","maven","amazon-s3","wagon"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1633680376,"post_id":69492475,"comment_id":122829201,"body_markdown":"*&quot;WagonTransporterFactory: Unsupported transport protocol s3&quot;* - something does not / no longer support s3 protocol urls","body":"<i>&quot;WagonTransporterFactory: Unsupported transport protocol s3&quot;</i> - something does not / no longer support s3 protocol urls"},{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1633681291,"post_id":69492475,"comment_id":122829531,"body_markdown":"Have you updated anything recently? JDK? Maven? urls ?","body":"Have you updated anything recently? JDK? Maven? urls ?"}],"answers":[{"tags":[],"owner":{"account_id":5539077,"reputation":21,"user_id":4474669,"display_name":"Joe Fair"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672852095,"creation_date":1672852095,"answer_id":75008879,"question_id":69492475,"body_markdown":"Your .yml file has xml in it.\r\n\r\nI added this to the pom.xml and it started working.\r\n\r\n       &lt;extensions&gt;\r\n            &lt;extension&gt;\r\n                &lt;groupId&gt;com.github.seahen&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-s3-wagon&lt;/artifactId&gt;\r\n                &lt;version&gt;1.3.3&lt;/version&gt;\r\n            &lt;/extension&gt;\r\n        &lt;/extensions&gt;\r\n","title":"Why does our Maven S3 wagon config no longer work?","body":"<p>Your .yml file has xml in it.</p>\n<p>I added this to the pom.xml and it started working.</p>\n<pre><code>   &lt;extensions&gt;\n        &lt;extension&gt;\n            &lt;groupId&gt;com.github.seahen&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-s3-wagon&lt;/artifactId&gt;\n            &lt;version&gt;1.3.3&lt;/version&gt;\n        &lt;/extension&gt;\n    &lt;/extensions&gt;\n</code></pre>\n"}],"owner":{"account_id":4130402,"reputation":2606,"user_id":3388491,"accept_rate":46,"display_name":"oschlueter"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":964,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1672852095,"creation_date":1633680178,"question_id":69492475,"body_markdown":"We have a custom Maven repository hosted with AWS S3.\r\nWe&#39;ve been using it for years and haven&#39;t had a problem with it until now.\r\nMy settings are based on our company-internal documentation:\r\n\r\n    $ cat ~/.m2/settings.xml \r\n    \r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;settings xmlns=&quot;http://maven.apache.org/SETTINGS/1.0.0&quot;\r\n            xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n            xsi:schemaLocation=&quot;http://maven.apache.org/SETTINGS/1.0.0\r\n            http://maven.apache.org/xsd/settings-1.0.0.xsd&quot;&gt;\r\n        &lt;servers&gt;\r\n            &lt;server&gt;\r\n                &lt;id&gt;company-s3-release-repo&lt;/id&gt;\r\n                &lt;username&gt;AKxxxxxxxxxxxxxxxx4A&lt;/username&gt;\r\n                &lt;password&gt;sFxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxRI/8xxS&lt;/password&gt;\r\n            &lt;/server&gt;\r\n            &lt;server&gt;\r\n                &lt;id&gt;company-s3-snapshot-repo&lt;/id&gt;\r\n                &lt;username&gt;AKxxxxxxxxxxxxxxxx4A&lt;/username&gt;\r\n                &lt;password&gt;sFxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxRI/8xxS&lt;/password&gt;\r\n            &lt;/server&gt;\r\n        &lt;/servers&gt;\r\n    \r\n        &lt;profiles&gt;\r\n            &lt;profile&gt;\r\n                &lt;id&gt;default&lt;/id&gt;\r\n                &lt;repositories&gt;\r\n                    &lt;repository&gt;\r\n                        &lt;releases&gt;\r\n                            &lt;updatePolicy&gt;always&lt;/updatePolicy&gt;\r\n                            &lt;checksumPolicy&gt;fail&lt;/checksumPolicy&gt;\r\n                        &lt;/releases&gt;\r\n                        &lt;snapshots&gt;\r\n                            &lt;enabled&gt;false&lt;/enabled&gt;\r\n                        &lt;/snapshots&gt;\r\n                        &lt;id&gt;company-s3-release-repo&lt;/id&gt;\r\n                        &lt;name&gt;company AWS Release Repository&lt;/name&gt;\r\n                        &lt;url&gt;s3://maven.company.de/release&lt;/url&gt;\r\n                    &lt;/repository&gt;\r\n                    &lt;repository&gt;\r\n                        &lt;releases&gt;\r\n                            &lt;enabled&gt;false&lt;/enabled&gt;\r\n                        &lt;/releases&gt;\r\n                        &lt;snapshots&gt;\r\n                            &lt;updatePolicy&gt;always&lt;/updatePolicy&gt;\r\n                            &lt;checksumPolicy&gt;fail&lt;/checksumPolicy&gt;\r\n                        &lt;/snapshots&gt;\r\n                        &lt;id&gt;company-s3-snapshot-repo&lt;/id&gt;\r\n                        &lt;name&gt;company AWS Snapshot Repository&lt;/name&gt;\r\n                        &lt;url&gt;s3://maven.company.de/snapshot&lt;/url&gt;\r\n                    &lt;/repository&gt;\r\n                &lt;/repositories&gt;\r\n            &lt;/profile&gt;\r\n        &lt;/profiles&gt;\r\n        &lt;activeProfiles&gt;\r\n            &lt;activeProfile&gt;default&lt;/activeProfile&gt;\r\n        &lt;/activeProfiles&gt;\r\n    &lt;/settings&gt;\r\n\r\nThe wagon is configured via `.mvn/extensions.yml`:\r\n\r\n    $ cat .mvn/extensions.yml\r\n    \r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;extensions&gt;\r\n        &lt;extension&gt;\r\n            &lt;groupId&gt;org.springframework.build&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aws-maven&lt;/artifactId&gt;\r\n            &lt;version&gt;5.0.0.RELEASE&lt;/version&gt;\r\n        &lt;/extension&gt;\r\n    &lt;/extensions&gt;\r\n\r\nTrying to download an artifact from our repo no longer works using `mvn -B dependency:get`:\r\n\r\n```lang-none\r\n$ mvn -B dependency:get -Dtransitive=false -Dartifact=de.company.artifact:artifact:6.0.4\r\n[INFO] Scanning for projects...\r\n[INFO]\r\n[INFO] ------------------&lt; org.apache.maven:standalone-pom &gt;-------------------\r\n[INFO] Building Maven Stub Project (No POM) 1\r\n[INFO] --------------------------------[ pom ]---------------------------------\r\n[INFO]\r\n[INFO] --- maven-dependency-plugin:2.8:get (default-cli) @ standalone-pom ---\r\n[INFO] Resolving de.company.artifact:artifact:jar:6.0.4\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  1.265 s\r\n[INFO] Finished at: 2021-10-08T09:37:07+02:00\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-dependency-plugin:2.8:get (default-cli) on project standalone-pom: Couldn&#39;t download artifact: Could not transfer artifact de.company.artifact:artifact:jar:6.0.4 from/to company-s3-release-repo (s3://maven.company.de/release): Cannot access s3://maven.company.de/release with type default using the available connector factories: BasicRepositoryConnectorFactory\r\n[ERROR]   de.company.artifact:artifact:jar:6.0.4\r\n[ERROR]\r\n[ERROR] from the specified remote repositories:\r\n[ERROR]   company-s3-release-repo (s3://maven.company.de/release, releases=true, snapshots=false),\r\n[ERROR]   company-s3-snapshot-repo (s3://maven.company.de/snapshot, releases=false, snapshots=true),\r\n[ERROR]   central (https://repo.maven.apache.org/maven2, releases=true, snapshots=false): Cannot access s3://maven.company.de/release using the registered transporter factories: WagonTransporterFactory: Unsupported transport protocol s3: java.util.NoSuchElementException\r\n[ERROR]       role: org.apache.maven.wagon.Wagon\r\n[ERROR]   roleHint: s3\r\n[ERROR] -&gt; [Help 1]\r\n[ERROR]\r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n[ERROR]\r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n```\r\n\r\nI&#39;m using Maven version 3.8.2:\r\n\r\n```lang-none\r\n$ mvn --version\r\nApache Maven 3.8.2 (ea98e05a04480131370aa0c110b8c54cf726c06f)\r\nMaven home: /usr/local/Cellar/maven/3.8.2/libexec\r\nJava version: 17, vendor: Homebrew, runtime: /usr/local/Cellar/openjdk/17/libexec/openjdk.jdk/Contents/Home\r\nDefault locale: en_DE, platform encoding: UTF-8\r\nOS name: &quot;mac os x&quot;, version: &quot;11.6&quot;, arch: &quot;x86_64&quot;, family: &quot;mac&quot;\r\n```\r\n\r\nI tried with alternative wagon configurations in my `.mvn/extensions.yml`, namely `com.allogy.maven.wagon.maven-s3-wagon:1.2.0` as well as `org.zalando.org.springframework.build.aws-maven:5.0.0.RELEASE-zal-2`. \r\nUnfortunately those did not work either with identical error messages. \r\n","title":"Why does our Maven S3 wagon config no longer work?","body":"<p>We have a custom Maven repository hosted with AWS S3.\nWe've been using it for years and haven't had a problem with it until now.\nMy settings are based on our company-internal documentation:</p>\n<pre><code>$ cat ~/.m2/settings.xml \n\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;settings xmlns=&quot;http://maven.apache.org/SETTINGS/1.0.0&quot;\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n        xsi:schemaLocation=&quot;http://maven.apache.org/SETTINGS/1.0.0\n        http://maven.apache.org/xsd/settings-1.0.0.xsd&quot;&gt;\n    &lt;servers&gt;\n        &lt;server&gt;\n            &lt;id&gt;company-s3-release-repo&lt;/id&gt;\n            &lt;username&gt;AKxxxxxxxxxxxxxxxx4A&lt;/username&gt;\n            &lt;password&gt;sFxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxRI/8xxS&lt;/password&gt;\n        &lt;/server&gt;\n        &lt;server&gt;\n            &lt;id&gt;company-s3-snapshot-repo&lt;/id&gt;\n            &lt;username&gt;AKxxxxxxxxxxxxxxxx4A&lt;/username&gt;\n            &lt;password&gt;sFxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxRI/8xxS&lt;/password&gt;\n        &lt;/server&gt;\n    &lt;/servers&gt;\n\n    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;default&lt;/id&gt;\n            &lt;repositories&gt;\n                &lt;repository&gt;\n                    &lt;releases&gt;\n                        &lt;updatePolicy&gt;always&lt;/updatePolicy&gt;\n                        &lt;checksumPolicy&gt;fail&lt;/checksumPolicy&gt;\n                    &lt;/releases&gt;\n                    &lt;snapshots&gt;\n                        &lt;enabled&gt;false&lt;/enabled&gt;\n                    &lt;/snapshots&gt;\n                    &lt;id&gt;company-s3-release-repo&lt;/id&gt;\n                    &lt;name&gt;company AWS Release Repository&lt;/name&gt;\n                    &lt;url&gt;s3://maven.company.de/release&lt;/url&gt;\n                &lt;/repository&gt;\n                &lt;repository&gt;\n                    &lt;releases&gt;\n                        &lt;enabled&gt;false&lt;/enabled&gt;\n                    &lt;/releases&gt;\n                    &lt;snapshots&gt;\n                        &lt;updatePolicy&gt;always&lt;/updatePolicy&gt;\n                        &lt;checksumPolicy&gt;fail&lt;/checksumPolicy&gt;\n                    &lt;/snapshots&gt;\n                    &lt;id&gt;company-s3-snapshot-repo&lt;/id&gt;\n                    &lt;name&gt;company AWS Snapshot Repository&lt;/name&gt;\n                    &lt;url&gt;s3://maven.company.de/snapshot&lt;/url&gt;\n                &lt;/repository&gt;\n            &lt;/repositories&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n    &lt;activeProfiles&gt;\n        &lt;activeProfile&gt;default&lt;/activeProfile&gt;\n    &lt;/activeProfiles&gt;\n&lt;/settings&gt;\n</code></pre>\n<p>The wagon is configured via <code>.mvn/extensions.yml</code>:</p>\n<pre><code>$ cat .mvn/extensions.yml\n\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;extensions&gt;\n    &lt;extension&gt;\n        &lt;groupId&gt;org.springframework.build&lt;/groupId&gt;\n        &lt;artifactId&gt;aws-maven&lt;/artifactId&gt;\n        &lt;version&gt;5.0.0.RELEASE&lt;/version&gt;\n    &lt;/extension&gt;\n&lt;/extensions&gt;\n</code></pre>\n<p>Trying to download an artifact from our repo no longer works using <code>mvn -B dependency:get</code>:</p>\n<pre class=\"lang-none prettyprint-override\"><code>$ mvn -B dependency:get -Dtransitive=false -Dartifact=de.company.artifact:artifact:6.0.4\n[INFO] Scanning for projects...\n[INFO]\n[INFO] ------------------&lt; org.apache.maven:standalone-pom &gt;-------------------\n[INFO] Building Maven Stub Project (No POM) 1\n[INFO] --------------------------------[ pom ]---------------------------------\n[INFO]\n[INFO] --- maven-dependency-plugin:2.8:get (default-cli) @ standalone-pom ---\n[INFO] Resolving de.company.artifact:artifact:jar:6.0.4\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  1.265 s\n[INFO] Finished at: 2021-10-08T09:37:07+02:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-dependency-plugin:2.8:get (default-cli) on project standalone-pom: Couldn't download artifact: Could not transfer artifact de.company.artifact:artifact:jar:6.0.4 from/to company-s3-release-repo (s3://maven.company.de/release): Cannot access s3://maven.company.de/release with type default using the available connector factories: BasicRepositoryConnectorFactory\n[ERROR]   de.company.artifact:artifact:jar:6.0.4\n[ERROR]\n[ERROR] from the specified remote repositories:\n[ERROR]   company-s3-release-repo (s3://maven.company.de/release, releases=true, snapshots=false),\n[ERROR]   company-s3-snapshot-repo (s3://maven.company.de/snapshot, releases=false, snapshots=true),\n[ERROR]   central (https://repo.maven.apache.org/maven2, releases=true, snapshots=false): Cannot access s3://maven.company.de/release using the registered transporter factories: WagonTransporterFactory: Unsupported transport protocol s3: java.util.NoSuchElementException\n[ERROR]       role: org.apache.maven.wagon.Wagon\n[ERROR]   roleHint: s3\n[ERROR] -&gt; [Help 1]\n[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n</code></pre>\n<p>I'm using Maven version 3.8.2:</p>\n<pre class=\"lang-none prettyprint-override\"><code>$ mvn --version\nApache Maven 3.8.2 (ea98e05a04480131370aa0c110b8c54cf726c06f)\nMaven home: /usr/local/Cellar/maven/3.8.2/libexec\nJava version: 17, vendor: Homebrew, runtime: /usr/local/Cellar/openjdk/17/libexec/openjdk.jdk/Contents/Home\nDefault locale: en_DE, platform encoding: UTF-8\nOS name: &quot;mac os x&quot;, version: &quot;11.6&quot;, arch: &quot;x86_64&quot;, family: &quot;mac&quot;\n</code></pre>\n<p>I tried with alternative wagon configurations in my <code>.mvn/extensions.yml</code>, namely <code>com.allogy.maven.wagon.maven-s3-wagon:1.2.0</code> as well as <code>org.zalando.org.springframework.build.aws-maven:5.0.0.RELEASE-zal-2</code>.\nUnfortunately those did not work either with identical error messages.</p>\n"},{"tags":["java","spring-data-jpa"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1672849365,"post_id":75008264,"comment_id":132366726,"body_markdown":"Every column in a database needs a primary key. We cannot `null` this column. --- What are you actually trying to achieve? Do you want to remove the link from a `Component` to a `Manufacturer`? If so, `component.setManufaturer(null)` should do the trick.","body":"Every column in a database needs a primary key. We cannot <code>null</code> this column. --- What are you actually trying to achieve? Do you want to remove the link from a <code>Component</code> to a <code>Manufacturer</code>? If so, <code>component.setManufaturer(null)</code> should do the trick."}],"answers":[{"tags":[],"owner":{"account_id":2124329,"reputation":612,"user_id":1886904,"display_name":"egeorge"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1672850551,"creation_date":1672850551,"answer_id":75008571,"question_id":75008264,"body_markdown":"You are setting the manufacturer&#39;s id from whatever it was to `null` here:\r\n```Java\r\ncomponent.get().getManufacturer().setId(null);\r\n```\r\n\r\nWhen you call `.getManufacturer()` you are getting the actual entity linked to the record in the *manufacturer* table. When you call `.setId(null)` on that object, you are modifying the manufacturer.\r\n\r\nI suspect what you are *trying* to do is disassociate the component from the manufacturer, so that on the *component* record, the `manufacturerid` is null. To do that, you need this:\r\n```Java\r\ncomponent.get().setManufacturer(null);\r\n```","title":"JPA identifier of an instance was altered from &#39;X&#39; to null","body":"<p>You are setting the manufacturer's id from whatever it was to <code>null</code> here:</p>\n<pre><code>component.get().getManufacturer().setId(null);\n</code></pre>\n<p>When you call <code>.getManufacturer()</code> you are getting the actual entity linked to the record in the <em>manufacturer</em> table. When you call <code>.setId(null)</code> on that object, you are modifying the manufacturer.</p>\n<p>I suspect what you are <em>trying</em> to do is disassociate the component from the manufacturer, so that on the <em>component</em> record, the <code>manufacturerid</code> is null. To do that, you need this:</p>\n<pre><code>component.get().setManufacturer(null);\n</code></pre>\n"}],"owner":{"account_id":19591044,"reputation":81,"user_id":14338059,"display_name":"Nandor Krizbai"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":653,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75008571,"answer_count":1,"score":0,"last_activity_date":1672852093,"creation_date":1672849022,"question_id":75008264,"body_markdown":"## Issue\r\nThis is my first time working with JPA. I have 2 entities: `Component` and `Manufacturer`, which are in `ManyToOne` relation. The Manufacturer&#39;s ID is the foreign key in Component. Only the foreign key should be deleted. When I try to set a component&#39;s ID to null and save it, the following exception occurs: \r\n\r\n```java\r\n&quot;identifier of an instance of spring.model.Manufacturer was altered\r\n from 1 to null; nested exception is org.hibernate.HibernateException: identifier of an \r\ninstance of spring.model.Manufacturer was altered from 1 to null&quot;,\r\n```\r\n## ER Diagram\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/794AK.png\r\n\r\n## Models\r\n\r\n### BaseEntity\r\n```java\r\n@Data\r\n@MappedSuperclass\r\npublic class BaseEntity implements Serializable {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    protected Long id;\r\n}\r\n```\r\n\r\n### Component\r\n```java\r\n@Data\r\n@EqualsAndHashCode(callSuper = true)\r\n@ToString(callSuper = true)\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Entity\r\n@Table(name = &quot;Components&quot;)\r\npublic class Component extends BaseEntity {\r\n\r\n    @Column(nullable = false)\r\n    private String type;\r\n\r\n    @Column(nullable = false)\r\n    private String name;\r\n\r\n    @Column(nullable = false)\r\n    private Double price;\r\n\r\n    @Column(nullable = false, length = 2048)\r\n    private String description;\r\n\r\n    @Column(nullable = false)\r\n    private Integer rating;\r\n\r\n    @ManyToOne()\r\n    @JoinColumn(name = &quot;manufacturerId&quot;)\r\n    private Manufacturer manufacturer;\r\n}\r\n```\r\n\r\n### Manufacturer\r\n```java\r\n@Data\r\n@EqualsAndHashCode(callSuper = true)\r\n@ToString(callSuper = true)\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Entity\r\n@Table(name = &quot;Manufacturers&quot;)\r\npublic class Manufacturer extends BaseEntity {\r\n\r\n    @Column(nullable = false, unique = true)\r\n    private String name;\r\n\r\n    @Column(nullable = false)\r\n    private Integer foundingYear;\r\n\r\n    @Column(nullable = false)\r\n    private Double revenue;\r\n\r\n    @OneToMany(mappedBy = &quot;manufacturer&quot;, cascade = CascadeType.ALL, fetch = FetchType.LAZY)\r\n    private List&lt;Component&gt; components = new ArrayList&lt;&gt;();\r\n}\r\n```\r\n\r\n## Current code\r\n\r\n```java\r\n@DeleteMapping\r\n@ResponseStatus(HttpStatus.NO_CONTENT)\r\npublic void deleteComponentManufacturer(@PathVariable(&quot;componentId&quot;) Long id) {\r\n    Optional&lt;Component&gt; component = componentDao.findById(id);\r\n    if (component.isEmpty()) {\r\n        throw new BadRequestException(&quot;Could not delete component&#39;s (ID: &quot; + id + &quot;) manufacturer&quot;);\r\n    }\r\n    if (component.get().getManufacturer() == null) {\r\n        throw new BadRequestException(&quot;Component with ID: &quot; + id + &quot; has no manufacturer&quot;);\r\n    }\r\n    component.get().getManufacturer().setId(null);\r\n     componentDao.save(component.get());              // Error is thrown here\r\n}\r\n```","title":"JPA identifier of an instance was altered from &#39;X&#39; to null","body":"<h2>Issue</h2>\n<p>This is my first time working with JPA. I have 2 entities: <code>Component</code> and <code>Manufacturer</code>, which are in <code>ManyToOne</code> relation. The Manufacturer's ID is the foreign key in Component. Only the foreign key should be deleted. When I try to set a component's ID to null and save it, the following exception occurs:</p>\n<pre class=\"lang-java prettyprint-override\"><code>&quot;identifier of an instance of spring.model.Manufacturer was altered\n from 1 to null; nested exception is org.hibernate.HibernateException: identifier of an \ninstance of spring.model.Manufacturer was altered from 1 to null&quot;,\n</code></pre>\n<h2>ER Diagram</h2>\n<p><a href=\"https://i.stack.imgur.com/794AK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/794AK.png\" alt=\"enter image description here\" /></a></p>\n<h2>Models</h2>\n<h3>BaseEntity</h3>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@MappedSuperclass\npublic class BaseEntity implements Serializable {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    protected Long id;\n}\n</code></pre>\n<h3>Component</h3>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@EqualsAndHashCode(callSuper = true)\n@ToString(callSuper = true)\n@NoArgsConstructor\n@AllArgsConstructor\n@Entity\n@Table(name = &quot;Components&quot;)\npublic class Component extends BaseEntity {\n\n    @Column(nullable = false)\n    private String type;\n\n    @Column(nullable = false)\n    private String name;\n\n    @Column(nullable = false)\n    private Double price;\n\n    @Column(nullable = false, length = 2048)\n    private String description;\n\n    @Column(nullable = false)\n    private Integer rating;\n\n    @ManyToOne()\n    @JoinColumn(name = &quot;manufacturerId&quot;)\n    private Manufacturer manufacturer;\n}\n</code></pre>\n<h3>Manufacturer</h3>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@EqualsAndHashCode(callSuper = true)\n@ToString(callSuper = true)\n@NoArgsConstructor\n@AllArgsConstructor\n@Entity\n@Table(name = &quot;Manufacturers&quot;)\npublic class Manufacturer extends BaseEntity {\n\n    @Column(nullable = false, unique = true)\n    private String name;\n\n    @Column(nullable = false)\n    private Integer foundingYear;\n\n    @Column(nullable = false)\n    private Double revenue;\n\n    @OneToMany(mappedBy = &quot;manufacturer&quot;, cascade = CascadeType.ALL, fetch = FetchType.LAZY)\n    private List&lt;Component&gt; components = new ArrayList&lt;&gt;();\n}\n</code></pre>\n<h2>Current code</h2>\n<pre class=\"lang-java prettyprint-override\"><code>@DeleteMapping\n@ResponseStatus(HttpStatus.NO_CONTENT)\npublic void deleteComponentManufacturer(@PathVariable(&quot;componentId&quot;) Long id) {\n    Optional&lt;Component&gt; component = componentDao.findById(id);\n    if (component.isEmpty()) {\n        throw new BadRequestException(&quot;Could not delete component's (ID: &quot; + id + &quot;) manufacturer&quot;);\n    }\n    if (component.get().getManufacturer() == null) {\n        throw new BadRequestException(&quot;Component with ID: &quot; + id + &quot; has no manufacturer&quot;);\n    }\n    component.get().getManufacturer().setId(null);\n     componentDao.save(component.get());              // Error is thrown here\n}\n</code></pre>\n"},{"tags":["java","driver","mysql-connector"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1672844930,"post_id":75007327,"comment_id":132364940,"body_markdown":"*javac -cp /usr/share/java/mysql-connector-j-8.0.31.jar TestApplication.java* That&#39;s unnecessary at compile time. Only necessary at runtime. Get used to using try-with-resources for your java.sql objects","body":"<i>javac -cp /usr/share/java/mysql-connector-j-8.0.31.jar TestApplication.java</i> That&#39;s unnecessary at compile time. Only necessary at runtime. Get used to using try-with-resources for your java.sql objects"},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1672845067,"post_id":75007327,"comment_id":132365012,"body_markdown":"Check the command you use to execute the code. You did not share it.","body":"Check the command you use to execute the code. You did not share it."},{"owner":{"account_id":5218051,"reputation":1,"user_id":12063634,"display_name":"Jesse Brent Coats"},"score":0,"creation_date":1672847339,"post_id":75007327,"comment_id":132365991,"body_markdown":"mysql-connector-j-8.0.31.jar is the mysql-connector.jar","body":"mysql-connector-j-8.0.31.jar is the mysql-connector.jar"},{"owner":{"account_id":5218051,"reputation":1,"user_id":12063634,"display_name":"Jesse Brent Coats"},"score":0,"creation_date":1672847372,"post_id":75007327,"comment_id":132366001,"body_markdown":"The line is use to execute is java TestApplication.","body":"The line is use to execute is java TestApplication."},{"owner":{"account_id":5218051,"reputation":1,"user_id":12063634,"display_name":"Jesse Brent Coats"},"score":0,"creation_date":1672847804,"post_id":75007327,"comment_id":132366184,"body_markdown":"java -cp /usr/share/java/mysql-connector-j-8.0.31.jar TestApplication causes the following error: Error: Could not find or load main class TestApplication\nCaused by: java.lang.ClassNotFoundException: TestApplication","body":"java -cp /usr/share/java/mysql-connector-j-8.0.31.jar TestApplication causes the following error: Error: Could not find or load main class TestApplication Caused by: java.lang.ClassNotFoundException: TestApplication"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1672848056,"post_id":75007327,"comment_id":132366305,"body_markdown":"Your classpath doesn&#39;t include your own code","body":"Your classpath doesn&#39;t include your own code"},{"owner":{"account_id":5218051,"reputation":1,"user_id":12063634,"display_name":"Jesse Brent Coats"},"score":0,"creation_date":1672849057,"post_id":75007327,"comment_id":132366601,"body_markdown":"adding my own code to the class path doesn&#39;t make a difference.","body":"adding my own code to the class path doesn&#39;t make a difference."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1672849526,"post_id":75007327,"comment_id":132366779,"body_markdown":"Show us what you did","body":"Show us what you did"},{"owner":{"account_id":5218051,"reputation":1,"user_id":12063634,"display_name":"Jesse Brent Coats"},"score":0,"creation_date":1672850283,"post_id":75007327,"comment_id":132367076,"body_markdown":"java -cp /home/opiejbc1/java/TestApplication:/usr/share/java/mysql-connector-j-8.0.31.jar TestApplication.class causes \nError: Could not find or load main class TestApplication.class\nCaused by: java.lang.ClassNotFoundException: TestApplication.class","body":"java -cp /home/opiejbc1/java/TestApplication:/usr/share/java/mysql-co&zwnj;&#8203;nnector-j-8.0.31.jar TestApplication.class causes  Error: Could not find or load main class TestApplication.class Caused by: java.lang.ClassNotFoundException: TestApplication.class"},{"owner":{"account_id":5218051,"reputation":1,"user_id":12063634,"display_name":"Jesse Brent Coats"},"score":0,"creation_date":1672850346,"post_id":75007327,"comment_id":132367099,"body_markdown":"java -cp /home/opiejbc1/java/TestApplication.class:/usr/share/java/mysql-connector-j-8.0.31.jar TestApplication.class also causes                                                                                          Error: Could not find or load main class TestApplication.class\nCaused by: java.lang.ClassNotFoundException: TestApplication.class","body":"java -cp /home/opiejbc1/java/TestApplication.class:/usr/share/java/my&zwnj;&#8203;sql-connector-j-8.0.&zwnj;&#8203;31.jar TestApplication.class also causes                                                                                          Error: Could not find or load main class TestApplication.class Caused by: java.lang.ClassNotFoundException: TestApplication.class"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1672850549,"post_id":75007327,"comment_id":132367167,"body_markdown":"That&#39;s not a classpath. In which directory are your classes being placed? Does your code use packages?","body":"That&#39;s not a classpath. In which directory are your classes being placed? Does your code use packages?"},{"owner":{"account_id":5218051,"reputation":1,"user_id":12063634,"display_name":"Jesse Brent Coats"},"score":0,"creation_date":1672850702,"post_id":75007327,"comment_id":132367229,"body_markdown":"I don&#39;t use a package. What do you mean by &quot;That&#39;s not a  classpath.&quot;","body":"I don&#39;t use a package. What do you mean by &quot;That&#39;s not a  classpath.&quot;"},{"owner":{"account_id":5218051,"reputation":1,"user_id":12063634,"display_name":"Jesse Brent Coats"},"score":0,"creation_date":1672851007,"post_id":75007327,"comment_id":132367347,"body_markdown":"My classes are in my current directory: /home/opiejbc1/java","body":"My classes are in my current directory: /home/opiejbc1/java"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1672851038,"post_id":75007327,"comment_id":132367361,"body_markdown":"If that&#39;s the path where TestApplication.class is, then your classpath is: `java -cp /home/opiejbc1/java:/usr/share/java/mysql-connector-j-8.0.31.jar TestApplication`","body":"If that&#39;s the path where TestApplication.class is, then your classpath is: <code>java -cp &#47;home&#47;opiejbc1&#47;java:&#47;usr&#47;share&#47;java&#47;mysql-connector-j-8.0.31&zwnj;&#8203;.jar TestApplication</code>"},{"owner":{"account_id":5218051,"reputation":1,"user_id":12063634,"display_name":"Jesse Brent Coats"},"score":0,"creation_date":1672851206,"post_id":75007327,"comment_id":132367418,"body_markdown":"Tried that with the same result.","body":"Tried that with the same result."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1672851300,"post_id":75007327,"comment_id":132367466,"body_markdown":"Please post output of `ls -l /home/opiejbc1/java/TestApplication.class`","body":"Please post output of <code>ls -l &#47;home&#47;opiejbc1&#47;java&#47;TestApplication.class</code>"}],"answers":[{"comments":[{"owner":{"account_id":5218051,"reputation":1,"user_id":12063634,"display_name":"Jesse Brent Coats"},"score":0,"creation_date":1672849343,"post_id":75007386,"comment_id":132366717,"body_markdown":"mysql-connector-j-8.0.31.jar is the mysql-connector.jar","body":"mysql-connector-j-8.0.31.jar is the mysql-connector.jar"}],"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672851857,"creation_date":1672844776,"answer_id":75007386,"question_id":75007327,"body_markdown":"Ensure your [mysql connector jar][1] is on your classpath when running the code.\r\n\r\n**Edit considering all the comments:**\r\n\r\nIf `java TestApplication` delivers `java.lang.ClassNotFoundException: com.mysql.cj.jdbc.Driver`, then try this from the same directory:\r\n\r\n    java -cp /home/opiejbc1/java:/usr/share/java/mysql-connector.jar:. TestApplication\r\n\r\nNote the `:.` in the classpath.\r\n\r\n  [1]: https://cdn.mysql.com//Downloads/Connector-J/mysql-connector-j-8.0.31.zip","title":"Error java.sql.SQLException: No suitable driver found for jdbc:mysql://localhost:3306/opiejbc1","body":"<p>Ensure your <a href=\"https://cdn.mysql.com//Downloads/Connector-J/mysql-connector-j-8.0.31.zip\" rel=\"nofollow noreferrer\">mysql connector jar</a> is on your classpath when running the code.</p>\n<p><strong>Edit considering all the comments:</strong></p>\n<p>If <code>java TestApplication</code> delivers <code>java.lang.ClassNotFoundException: com.mysql.cj.jdbc.Driver</code>, then try this from the same directory:</p>\n<pre><code>java -cp /home/opiejbc1/java:/usr/share/java/mysql-connector.jar:. TestApplication\n</code></pre>\n<p>Note the <code>:.</code> in the classpath.</p>\n"}],"owner":{"account_id":5218051,"reputation":1,"user_id":12063634,"display_name":"Jesse Brent Coats"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672851857,"creation_date":1672844521,"question_id":75007327,"body_markdown":"I&#39;m having trouble accessing MySql from Java.\r\n\r\nI&#39;m using:\r\n\r\n&gt;  **Operating system**: Ubuntu 20.04.5 LTS (GNU/Linux\r\n&gt; 5.15.79.1-microsoft-standard-WSL2 x86_64)\r\n&gt; \r\n&gt;  **mysql**  Ver 8.0.31-0ubuntu0.20.04.2 for Linux on x86_64 ((Ubuntu))\r\n&gt; \r\n&gt;  javac 11.0.17\r\n\r\nI use the following compilation line:\r\n\r\n```bash\r\n javac -cp /usr/share/java/mysql-connector-j-8.0.31.jar TestApplication.java\r\n\r\nmysql-connector-j-8.0.31.jar is the mysql-connector.jar\r\n\r\n```\r\nI use the following line to execute:\r\n\r\n java TestApplication\r\n\r\nOne of the lines produced by jar `tf /usr/share/java/mysql-connector-j-8.0.31.jar`\r\n\r\n com/mysql/cj/jdbc/Driver.class\r\n\r\nMy source code:\r\n```java\r\n    import java.sql.*;\r\n\r\n    public class TestApplication {\r\n       static final String DB_URL = &quot;jdbc:mysql://localhost:3306/opiejbc1&quot;;\r\n       static final String USER = &quot;opiejbc1&quot;;\r\n       static final String PWD = &quot;Linux@Me1&quot;;\r\n       static final String QUERY = &quot;SELECT * FROM Test1&quot;;\r\n       static final String DRIVER = &quot;com.mysql.cj.jdbc.Driver&quot;;\r\n   \r\n       public static void main(String[] args) {\r\n          // Open a connection\r\n          try {\r\n             Connection conn = DriverManager.getConnection(DB_URL, USER, PWD);\r\n             Statement stmt = conn.createStatement();\r\n             ResultSet rs = stmt.executeQuery(QUERY);\r\n             // Extract data from result set\r\n             while (rs.next()) {\r\n                // Retrieve by column name\r\n                System.out.print(&quot;Name: &quot; + rs.getInt(&quot;Name&quot;));\r\n                System.out.print(&quot;, Phone: &quot; + rs.getInt(&quot;Phone&quot;));\r\n             }\r\n          } catch (SQLException e) {\r\n             e.printStackTrace();\r\n          }   \r\n       }\r\n    }\r\n```\r\nOn execution I received:\r\n```java\r\n java.sql.SQLException: No suitable driver found for jdbc:mysql://localhost:3306/opiejbc1\r\n```\r\nI&#39;ve also tried the following:\r\n```java\r\n    import java.sql.*;\r\n\r\n    public class TestApplication {\r\n       static final String DB_URL = &quot;jdbc:mysql://localhost:3306/opiejbc1&quot;;\r\n       static final String USER = &quot;opiejbc1&quot;;\r\n       static final String PWD = &quot;Linux@Me1&quot;;\r\n       static final String QUERY = &quot;SELECT * FROM Test1&quot;;\r\n       static final String DRIVER = &quot;com.mysql.cj.jdbc.Driver&quot;;\r\n   \r\n       public static void main(String[] args) {\r\n           // Open a connection\r\n          try {\r\n             Class.forName(DRIVER);\r\n             Connection conn = DriverManager.getConnection(DB_URL, USER, PWD);\r\n             Statement stmt = conn.createStatement();\r\n             ResultSet rs = stmt.executeQuery(QUERY);\r\n             // Extract data from result set\r\n             while (rs.next()) {\r\n                // Retrieve by column name\r\n                System.out.print(&quot;Name: &quot; + rs.getInt(&quot;Name&quot;));\r\n                System.out.print(&quot;, Phone: &quot; + rs.getInt(&quot;Phone&quot;));\r\n             }\r\n          } catch (SQLException e) {\r\n             e.printStackTrace();\r\n          } catch (ClassNotFoundException e) {\r\n             e.printStackTrace();\r\n          }\r\n        }\r\n    }\r\n```\r\nOn execution I receive the:\r\n```java\r\n java.lang.ClassNotFoundException: com.mysql.cj.jdbc.Driver\r\n```\r\nWhat am I doing wrong?\r\n","title":"Error java.sql.SQLException: No suitable driver found for jdbc:mysql://localhost:3306/opiejbc1","body":"<p>I'm having trouble accessing MySql from Java.</p>\n<p>I'm using:</p>\n<blockquote>\n<p><strong>Operating system</strong>: Ubuntu 20.04.5 LTS (GNU/Linux\n5.15.79.1-microsoft-standard-WSL2 x86_64)</p>\n<p><strong>mysql</strong>  Ver 8.0.31-0ubuntu0.20.04.2 for Linux on x86_64 ((Ubuntu))</p>\n<p>javac 11.0.17</p>\n</blockquote>\n<p>I use the following compilation line:</p>\n<pre class=\"lang-bash prettyprint-override\"><code> javac -cp /usr/share/java/mysql-connector-j-8.0.31.jar TestApplication.java\n\nmysql-connector-j-8.0.31.jar is the mysql-connector.jar\n\n</code></pre>\n<p>I use the following line to execute:</p>\n<p>java TestApplication</p>\n<p>One of the lines produced by jar <code>tf /usr/share/java/mysql-connector-j-8.0.31.jar</code></p>\n<p>com/mysql/cj/jdbc/Driver.class</p>\n<p>My source code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    import java.sql.*;\n\n    public class TestApplication {\n       static final String DB_URL = &quot;jdbc:mysql://localhost:3306/opiejbc1&quot;;\n       static final String USER = &quot;opiejbc1&quot;;\n       static final String PWD = &quot;Linux@Me1&quot;;\n       static final String QUERY = &quot;SELECT * FROM Test1&quot;;\n       static final String DRIVER = &quot;com.mysql.cj.jdbc.Driver&quot;;\n   \n       public static void main(String[] args) {\n          // Open a connection\n          try {\n             Connection conn = DriverManager.getConnection(DB_URL, USER, PWD);\n             Statement stmt = conn.createStatement();\n             ResultSet rs = stmt.executeQuery(QUERY);\n             // Extract data from result set\n             while (rs.next()) {\n                // Retrieve by column name\n                System.out.print(&quot;Name: &quot; + rs.getInt(&quot;Name&quot;));\n                System.out.print(&quot;, Phone: &quot; + rs.getInt(&quot;Phone&quot;));\n             }\n          } catch (SQLException e) {\n             e.printStackTrace();\n          }   \n       }\n    }\n</code></pre>\n<p>On execution I received:</p>\n<pre class=\"lang-java prettyprint-override\"><code> java.sql.SQLException: No suitable driver found for jdbc:mysql://localhost:3306/opiejbc1\n</code></pre>\n<p>I've also tried the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    import java.sql.*;\n\n    public class TestApplication {\n       static final String DB_URL = &quot;jdbc:mysql://localhost:3306/opiejbc1&quot;;\n       static final String USER = &quot;opiejbc1&quot;;\n       static final String PWD = &quot;Linux@Me1&quot;;\n       static final String QUERY = &quot;SELECT * FROM Test1&quot;;\n       static final String DRIVER = &quot;com.mysql.cj.jdbc.Driver&quot;;\n   \n       public static void main(String[] args) {\n           // Open a connection\n          try {\n             Class.forName(DRIVER);\n             Connection conn = DriverManager.getConnection(DB_URL, USER, PWD);\n             Statement stmt = conn.createStatement();\n             ResultSet rs = stmt.executeQuery(QUERY);\n             // Extract data from result set\n             while (rs.next()) {\n                // Retrieve by column name\n                System.out.print(&quot;Name: &quot; + rs.getInt(&quot;Name&quot;));\n                System.out.print(&quot;, Phone: &quot; + rs.getInt(&quot;Phone&quot;));\n             }\n          } catch (SQLException e) {\n             e.printStackTrace();\n          } catch (ClassNotFoundException e) {\n             e.printStackTrace();\n          }\n        }\n    }\n</code></pre>\n<p>On execution I receive the:</p>\n<pre class=\"lang-java prettyprint-override\"><code> java.lang.ClassNotFoundException: com.mysql.cj.jdbc.Driver\n</code></pre>\n<p>What am I doing wrong?</p>\n"},{"tags":["java","postgresql","grpc"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1672835804,"post_id":75000504,"comment_id":132361529,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":5967476,"reputation":24635,"user_id":4690866,"display_name":"Eric Anderson"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672851688,"creation_date":1672851688,"answer_id":75008798,"question_id":75000504,"body_markdown":"Use `io.grpc.Context` to propagate the value to the service implementation, using `Contexts.interceptCall()`. The [jwt-auth example](https://github.com/grpc/grpc-java/blob/f4cda008ee1c0e10de8575e1b4be6841d5364b72/examples/example-jwt-auth/src/main/java/io/grpc/examples/jwtauth/JwtServerInterceptor.java#L64-L66) does this as well as some other StackOverflow [questions](https://stackoverflow.com/q/44773152/4690866) [and](https://stackoverflow.com/a/71473852/4690866) [answers](https://stackoverflow.com/a/40113309/4690866).\r\n\r\nEssentially, you just create a new Context with the information you want to communicate, and use `Contexts.interceptCall()` to make it available to the service as a ThreadLocal. If your service does processing on another thread, you need to either propagate the Context to that other thread or save the value ahead-of-time.\r\n\r\n```java\r\npublic class AddToContextInterceptor implements ServerInterceptor {\r\n  // Context keys use reference equality, so the consumer of the value\r\n  // must use this specific object.\r\n  public static final Context.Key&lt;MyObject&gt; MY_KEY = Context.key(&quot;MY_KEY&quot;);\r\n\r\n  @Override\r\n  public &lt;ReqT,RespT&gt; ServerCall.Listener&lt;ReqT&gt; interceptCall(\r\n      ServerCall&lt;ReqT,RespT&gt; call, Metadata headers,\r\n      ServerCallHandler&lt;ReqT,RespT&gt; next) {\r\n    Context newContext =\r\n        Context.current().withValue(MY_KEY, metadata.get(SOME_KEY));\r\n    return Contexts.interceptCall(newContext, call, headers, next);\r\n  }\r\n}\r\n\r\n// In the service:\r\nMyObject o = AddToContextInterceptor.MY_KEY.get();\r\n```","title":"The gRPC server obtains the request header","body":"<p>Use <code>io.grpc.Context</code> to propagate the value to the service implementation, using <code>Contexts.interceptCall()</code>. The <a href=\"https://github.com/grpc/grpc-java/blob/f4cda008ee1c0e10de8575e1b4be6841d5364b72/examples/example-jwt-auth/src/main/java/io/grpc/examples/jwtauth/JwtServerInterceptor.java#L64-L66\" rel=\"nofollow noreferrer\">jwt-auth example</a> does this as well as some other StackOverflow <a href=\"https://stackoverflow.com/q/44773152/4690866\">questions</a> <a href=\"https://stackoverflow.com/a/71473852/4690866\">and</a> <a href=\"https://stackoverflow.com/a/40113309/4690866\">answers</a>.</p>\n<p>Essentially, you just create a new Context with the information you want to communicate, and use <code>Contexts.interceptCall()</code> to make it available to the service as a ThreadLocal. If your service does processing on another thread, you need to either propagate the Context to that other thread or save the value ahead-of-time.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class AddToContextInterceptor implements ServerInterceptor {\n  // Context keys use reference equality, so the consumer of the value\n  // must use this specific object.\n  public static final Context.Key&lt;MyObject&gt; MY_KEY = Context.key(&quot;MY_KEY&quot;);\n\n  @Override\n  public &lt;ReqT,RespT&gt; ServerCall.Listener&lt;ReqT&gt; interceptCall(\n      ServerCall&lt;ReqT,RespT&gt; call, Metadata headers,\n      ServerCallHandler&lt;ReqT,RespT&gt; next) {\n    Context newContext =\n        Context.current().withValue(MY_KEY, metadata.get(SOME_KEY));\n    return Contexts.interceptCall(newContext, call, headers, next);\n  }\n}\n\n// In the service:\nMyObject o = AddToContextInterceptor.MY_KEY.get();\n</code></pre>\n"}],"owner":{"account_id":27426414,"reputation":1,"user_id":20923830,"display_name":"Java_Baby"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":976,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672851688,"creation_date":1672800563,"question_id":75000504,"body_markdown":" I build the server of Java gRPC and want to obtain the data transmitted by the client through the request header. At present, I can only use the ServerInterceptor class to intercept the parsing request header Metadata, but I want to obtain it during service operation. What is the solution?\r\n\r\nI tried to access and transfer data through redis, but the gRPC I wrote is multi-data source, the same client request has multiple, if different clients to me a request, but they carry different request headers, other interface names and parameters are the same, It&#39;s possible that the request header of a later request will overwrite the redis result of the previous request header, so I can&#39;t guarantee the consistency of request and request header!\r\n\r\n ","title":"The gRPC server obtains the request header","body":"<p>I build the server of Java gRPC and want to obtain the data transmitted by the client through the request header. At present, I can only use the ServerInterceptor class to intercept the parsing request header Metadata, but I want to obtain it during service operation. What is the solution?</p>\n<p>I tried to access and transfer data through redis, but the gRPC I wrote is multi-data source, the same client request has multiple, if different clients to me a request, but they carry different request headers, other interface names and parameters are the same, It's possible that the request header of a later request will overwrite the redis result of the previous request header, so I can't guarantee the consistency of request and request header!</p>\n"},{"tags":["java","rest","authentication","groovy","camunda"],"owner":{"account_id":13142746,"reputation":1,"user_id":9493787,"display_name":"Hi_im L&#233;&#233;mo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672851339,"creation_date":1672848783,"question_id":75008214,"body_markdown":"Basically i&#39;m new to groovy, and i&#39;m trying to use it to add a device to &quot;netbox&quot; using API, i tried some GET requests that needed authentication and they worked fine, but i couldn&#39;t make any POST request work, i&#39;m always getting 403 no matter what method i try to authenticate Basic using creds or using API Token.\r\n\r\nHere&#39;s the code i wrote for the POST request :\r\n\r\n```\r\ndef url = &quot;http://192.168.12.89:8000/api/dcim/devices&quot;\r\ndef connection = url.toURL().openConnection()\r\ndef message = &#39;{&quot;name&quot;:&quot;R4&quot;,&quot;device_type&quot;:&quot;1&quot;,&quot;device_role&quot;:&quot;1&quot;,&quot;site&quot;:&quot;1&quot;}&#39;\r\nconnection.setRequestMethod(&quot;POST&quot;)\r\nconnection.setDoOutput(true)\r\nconnection.setDoInput(true)\r\nconnection.addRequestProperty(&quot;Accept&quot;, &quot;application/json;charset=UTF-8&quot;)\r\nconnection.addRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n\r\n//def auth = &quot;admin:admin&quot;.bytes.encodeBase64()\r\n//connection.setRequestProperty(&quot;Authorization&quot;, &quot;Basic ${auth}&quot;)\r\nconnection.setRequestProperty(&quot;Authorization&quot;, &quot;Token 63091d94b00d40e9e0a4e1286e181c09deca6e89&quot;)\r\n\r\n\r\n\r\nconnection.getOutputStream().write(message.getBytes(&quot;UTF-8&quot;))\r\n\r\ndef responseCode = connection.getResponseCode()\r\nInputStream response = null\r\nprintln &quot;${responseCode}&quot;\r\nif (responseCode != 200) {\r\n    response = connection.getErrorStream()\r\n} else {\r\n    response = connection.getInputStream()\r\n}\r\n\r\ndef responseBody = response?.text\r\nresponse?.close()\r\nprintln responseBody\r\n\r\n```\r\n\r\n\r\nMy API key works fine with the get method and it has the write permissions included, also tried a python POST request works perfectly fine, so i guess the problem is in my groovy coding.\r\n\r\nI hope i can get a bit of help cause i&#39;ve been trying for two days :x\r\nThank you :x","title":"Can&#39;t authenticate using REST POST method","body":"<p>Basically i'm new to groovy, and i'm trying to use it to add a device to &quot;netbox&quot; using API, i tried some GET requests that needed authentication and they worked fine, but i couldn't make any POST request work, i'm always getting 403 no matter what method i try to authenticate Basic using creds or using API Token.</p>\n<p>Here's the code i wrote for the POST request :</p>\n<pre><code>def url = &quot;http://192.168.12.89:8000/api/dcim/devices&quot;\ndef connection = url.toURL().openConnection()\ndef message = '{&quot;name&quot;:&quot;R4&quot;,&quot;device_type&quot;:&quot;1&quot;,&quot;device_role&quot;:&quot;1&quot;,&quot;site&quot;:&quot;1&quot;}'\nconnection.setRequestMethod(&quot;POST&quot;)\nconnection.setDoOutput(true)\nconnection.setDoInput(true)\nconnection.addRequestProperty(&quot;Accept&quot;, &quot;application/json;charset=UTF-8&quot;)\nconnection.addRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;)\n\n//def auth = &quot;admin:admin&quot;.bytes.encodeBase64()\n//connection.setRequestProperty(&quot;Authorization&quot;, &quot;Basic ${auth}&quot;)\nconnection.setRequestProperty(&quot;Authorization&quot;, &quot;Token 63091d94b00d40e9e0a4e1286e181c09deca6e89&quot;)\n\n\n\nconnection.getOutputStream().write(message.getBytes(&quot;UTF-8&quot;))\n\ndef responseCode = connection.getResponseCode()\nInputStream response = null\nprintln &quot;${responseCode}&quot;\nif (responseCode != 200) {\n    response = connection.getErrorStream()\n} else {\n    response = connection.getInputStream()\n}\n\ndef responseBody = response?.text\nresponse?.close()\nprintln responseBody\n\n</code></pre>\n<p>My API key works fine with the get method and it has the write permissions included, also tried a python POST request works perfectly fine, so i guess the problem is in my groovy coding.</p>\n<p>I hope i can get a bit of help cause i've been trying for two days :x\nThank you :x</p>\n"},{"tags":["java","spring","maven","tomcat","catalina"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":2,"creation_date":1490604314,"post_id":43041695,"comment_id":73167842,"body_markdown":"You have an incompatible `servlet-api.jar` in your dependency list `javax.servlet.ServletContext.getVirtualServerName()Ljava/lang/String;`. I think you have Version 3.x but you need 2.1","body":"You have an incompatible <code>servlet-api.jar</code> in your dependency list <code>javax.servlet.ServletContext.getVirtualServerName()Ljava&#47;lan&zwnj;&#8203;g&#47;String;</code>. I think you have Version 3.x but you need 2.1"},{"owner":{"account_id":2731132,"reputation":1212,"user_id":2354908,"accept_rate":45,"display_name":"Betafish"},"score":0,"creation_date":1490606826,"post_id":43041695,"comment_id":73169593,"body_markdown":"I use another library which uses **javax.servlet** internally, which is of version 3.0.1. I have modified my pom.xml file to `&lt;dependency&gt;\n    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n    &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\n    &lt;version&gt;2.2&lt;/version&gt;\n&lt;/dependency&gt; ` and also added to the library `&lt;exclusions&gt;\n      \t&lt;exclusion&gt;\n      \t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n      \t\t&lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n      \t&lt;/exclusion&gt;`. But, the error is still the same.","body":"I use another library which uses <b>javax.servlet</b> internally, which is of version 3.0.1. I have modified my pom.xml file to <code>&lt;dependency&gt;     &lt;groupId&gt;javax.servlet&lt;&#47;groupId&gt;     &lt;artifactId&gt;servlet-api&lt;&#47;artifactId&gt;     &lt;version&gt;2.2&lt;&#47;version&gt; &lt;&#47;dependency&gt; </code> and also added to the library <code>&lt;exclusions&gt;       \t&lt;exclusion&gt;       \t\t&lt;groupId&gt;javax.servlet&lt;&#47;groupId&gt;       \t\t&lt;artifactId&gt;javax.servlet-api&lt;&#47;artifactId&gt;       \t&lt;&#47;exclusion&gt;</code>. But, the error is still the same."},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1490606877,"post_id":43041695,"comment_id":73169631,"body_markdown":"Look into the dependencies which lib is used","body":"Look into the dependencies which lib is used"}],"answers":[{"comments":[{"owner":{"account_id":6960621,"reputation":623,"user_id":5340181,"display_name":"JMess"},"score":1,"creation_date":1521143821,"post_id":43056178,"comment_id":85618413,"body_markdown":"This was a helpful clue for me. I solved this issue by excluding all transitive servlet dependencies","body":"This was a helpful clue for me. I solved this issue by excluding all transitive servlet dependencies"}],"tags":[],"owner":{"account_id":2529186,"reputation":3484,"user_id":2197837,"accept_rate":25,"display_name":"Praneeth Ramesh"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1490647479,"creation_date":1490647479,"answer_id":43056178,"question_id":43041695,"body_markdown":"Looks like you have an incompatible version of Servlet API in ur classpath.\r\nThis could have been as a dependencies to Jersey jars.\r\nTry pulling jersey starter from Spring boot starters.\r\n\r\n    org.springframework.boot : spring-boot-starter-jersey\r\n\r\nThis will bring the right version into your classpath.\r\n","title":"Failed to start component [StandardEngine[Tomcat].StandardHost[localhost].TomcatEmbeddedContext[]]","body":"<p>Looks like you have an incompatible version of Servlet API in ur classpath.\nThis could have been as a dependencies to Jersey jars.\nTry pulling jersey starter from Spring boot starters.</p>\n\n<pre><code>org.springframework.boot : spring-boot-starter-jersey\n</code></pre>\n\n<p>This will bring the right version into your classpath.</p>\n"},{"tags":[],"owner":{"account_id":934222,"reputation":611,"user_id":1823408,"display_name":"Buminda"},"comment_count":0,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1491908545,"creation_date":1491908545,"answer_id":43344085,"question_id":43041695,"body_markdown":"I had the same issue, After commenting out the below it was fixed. One of the follwoing dependency was the culprit.\r\n\r\n        &lt;!--  dependency&gt;\r\n    \t&lt;groupId&gt;me.fhir&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;fhir&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.12.0-RELEASE&lt;/version&gt;\r\n    &lt;/dependency--&gt;\r\n    &lt;!--  dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n        &lt;version&gt;2.8.8&lt;/version&gt;\r\n    &lt;/dependency--&gt;\r\n    &lt;!-- dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n        &lt;version&gt;2.8.8&lt;/version&gt;\r\n    &lt;/dependency--&gt;","title":"Failed to start component [StandardEngine[Tomcat].StandardHost[localhost].TomcatEmbeddedContext[]]","body":"<p>I had the same issue, After commenting out the below it was fixed. One of the follwoing dependency was the culprit.</p>\n\n<pre><code>    &lt;!--  dependency&gt;\n    &lt;groupId&gt;me.fhir&lt;/groupId&gt;\n    &lt;artifactId&gt;fhir&lt;/artifactId&gt;\n    &lt;version&gt;0.12.0-RELEASE&lt;/version&gt;\n&lt;/dependency--&gt;\n&lt;!--  dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n    &lt;version&gt;2.8.8&lt;/version&gt;\n&lt;/dependency--&gt;\n&lt;!-- dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n    &lt;version&gt;2.8.8&lt;/version&gt;\n&lt;/dependency--&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":765834,"reputation":3026,"user_id":786676,"accept_rate":75,"display_name":"somnathchakrabarti"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1513260365,"creation_date":1513260365,"answer_id":47815281,"question_id":43041695,"body_markdown":"My guess is you have to use the default `ServletInitializer` class that is provided within the `Spring Boot Project template` of Eclipse.\r\n\r\n    //SpringBootApplication.java\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    \r\n    @SpringBootApplication\r\n    public class SpringBootApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(SpringBootApplication.class, args);\r\n    \t}\r\n    }\r\n\r\n    //ServletInitializer.java\r\n    public class ServletInitializer extends SpringBootServletInitializer {\r\n    \r\n    \t@Override\r\n    \tprotected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\r\n    \t\treturn application.sources(SpringBootApplication.class);\r\n    \t}\r\n    \r\n    }\r\n\r\nIf you are not using `ServletInitializer` class as specified in `Spring Boot Starter Project` template, try to extend `SpringBootServletInitializer` from your App class\r\n\r\n    public class App extends SpringBootServletInitializer\r\n\r\nPlease check a similar answer [here][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/47814769/786676","title":"Failed to start component [StandardEngine[Tomcat].StandardHost[localhost].TomcatEmbeddedContext[]]","body":"<p>My guess is you have to use the default <code>ServletInitializer</code> class that is provided within the <code>Spring Boot Project template</code> of Eclipse.</p>\n\n<pre><code>//SpringBootApplication.java\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class SpringBootApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(SpringBootApplication.class, args);\n    }\n}\n\n//ServletInitializer.java\npublic class ServletInitializer extends SpringBootServletInitializer {\n\n    @Override\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\n        return application.sources(SpringBootApplication.class);\n    }\n\n}\n</code></pre>\n\n<p>If you are not using <code>ServletInitializer</code> class as specified in <code>Spring Boot Starter Project</code> template, try to extend <code>SpringBootServletInitializer</code> from your App class</p>\n\n<pre><code>public class App extends SpringBootServletInitializer\n</code></pre>\n\n<p>Please check a similar answer <a href=\"https://stackoverflow.com/a/47814769/786676\">here</a></p>\n"},{"tags":[],"owner":{"account_id":3569748,"reputation":2756,"user_id":2980375,"display_name":"Elhanan Mishraky"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1615421176,"creation_date":1544009066,"answer_id":53631200,"question_id":43041695,"body_markdown":"For me, upgrading javax.servlet-api to 4.0.1 did the trick:\r\n\r\n```XML\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n   &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n   &lt;version&gt;4.0.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"Failed to start component [StandardEngine[Tomcat].StandardHost[localhost].TomcatEmbeddedContext[]]","body":"<p>For me, upgrading javax.servlet-api to 4.0.1 did the trick:</p>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n   &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n   &lt;version&gt;4.0.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11418021,"reputation":4780,"user_id":8370334,"display_name":"Abd Abughazaleh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594493419,"creation_date":1594493419,"answer_id":62853258,"question_id":43041695,"body_markdown":"I solved this problem using `tomcat` configuration in `pom.xml`\r\n\r\n\r\nFirst go to tomcat folder and open `cmd` in bin my path is : \r\n\r\n`C:\\Program Files\\Apache Software Foundation\\Tomcat 8.5\\bin&gt;`\r\n\r\nget tomcat version using this command \r\n\r\n`C:\\Program Files\\Apache Software Foundation\\Tomcat 8.5\\bin&gt;catalina.sh version`\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LIlWz.png\r\n\r\n\r\nAfter this add this in `pom.xml`\r\n\r\n    &lt;properties&gt;\r\n            &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n            &lt;tomcat.version&gt;8.5.43&lt;/tomcat.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n","title":"Failed to start component [StandardEngine[Tomcat].StandardHost[localhost].TomcatEmbeddedContext[]]","body":"<p>I solved this problem using <code>tomcat</code> configuration in <code>pom.xml</code></p>\n<p>First go to tomcat folder and open <code>cmd</code> in bin my path is :</p>\n<p><code>C:\\Program Files\\Apache Software Foundation\\Tomcat 8.5\\bin&gt;</code></p>\n<p>get tomcat version using this command</p>\n<p><code>C:\\Program Files\\Apache Software Foundation\\Tomcat 8.5\\bin&gt;catalina.sh version</code></p>\n<p><a href=\"https://i.stack.imgur.com/LIlWz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LIlWz.png\" alt=\"enter image description here\" /></a></p>\n<p>After this add this in <code>pom.xml</code></p>\n<pre><code>&lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;tomcat.version&gt;8.5.43&lt;/tomcat.version&gt;\n&lt;/properties&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25658948,"reputation":1,"user_id":19424944,"display_name":"mohammad amoli"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656320726,"creation_date":1656320726,"answer_id":72769534,"question_id":43041695,"body_markdown":"It was solution for me after 2 days, \r\njust add this part to pom.xml\r\n\r\n\r\n    &lt;plugin&gt;\r\n         &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n         &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n         &lt;version&gt;2.22.2&lt;/version&gt;\r\n         &lt;configuration&gt;\r\n             &lt;skipTests&gt;true&lt;/skipTests&gt;\r\n         &lt;/configuration&gt;\r\n     &lt;/plugin&gt;\r\n\r\n ","title":"Failed to start component [StandardEngine[Tomcat].StandardHost[localhost].TomcatEmbeddedContext[]]","body":"<p>It was solution for me after 2 days,\njust add this part to pom.xml</p>\n<pre><code>&lt;plugin&gt;\n     &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n     &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n     &lt;version&gt;2.22.2&lt;/version&gt;\n     &lt;configuration&gt;\n         &lt;skipTests&gt;true&lt;/skipTests&gt;\n     &lt;/configuration&gt;\n &lt;/plugin&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8452580,"reputation":2051,"user_id":6340959,"accept_rate":91,"display_name":"Saeed Zhiany"},"score":1,"creation_date":1658121528,"post_id":72951485,"comment_id":128962993,"body_markdown":"Please read [How do I write a good answer?](https://stackoverflow.com/help/how-to-answer). While this code block may answer the OP&#39;s question, this answer would be much more useful if you explain how this code is different from the code in the question, what you&#39;ve changed, why you&#39;ve changed it and why that solves the problem without introducing others. - [From Review](https://stackoverflow.com/review/low-quality-posts/32238228)","body":"Please read <a href=\"https://stackoverflow.com/help/how-to-answer\">How do I write a good answer?</a>. While this code block may answer the OP&#39;s question, this answer would be much more useful if you explain how this code is different from the code in the question, what you&#39;ve changed, why you&#39;ve changed it and why that solves the problem without introducing others. - <a href=\"https://stackoverflow.com/review/low-quality-posts/32238228\">From Review</a>"}],"tags":[],"owner":{"account_id":18125903,"reputation":1,"user_id":13181429,"display_name":"Lipsa Priyadarsani"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1657624939,"creation_date":1657624862,"answer_id":72951485,"question_id":43041695,"body_markdown":"\r\n\r\n       &lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;9.0.44&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;","title":"Failed to start component [StandardEngine[Tomcat].StandardHost[localhost].TomcatEmbeddedContext[]]","body":"<pre><code>   &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n        &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n        &lt;version&gt;9.0.44&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":14304118,"reputation":11,"user_id":10332636,"display_name":"Swetaparna Jena"},"score":0,"creation_date":1662632508,"post_id":73647494,"comment_id":130052845,"body_markdown":"I just remove the version of  (tomcat-embed-jasper ) , it&#39;s worked for me","body":"I just remove the version of  (tomcat-embed-jasper ) , it&#39;s worked for me"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1663036798,"post_id":73647494,"comment_id":130139136,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/73647494/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":14304118,"reputation":11,"user_id":10332636,"display_name":"Swetaparna Jena"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662632397,"creation_date":1662632397,"answer_id":73647494,"question_id":43041695,"body_markdown":"I just remove my (tomcat-embed-jasper ) , it&#39;s worked for me .","title":"Failed to start component [StandardEngine[Tomcat].StandardHost[localhost].TomcatEmbeddedContext[]]","body":"<p>I just remove my (tomcat-embed-jasper ) , it's worked for me .</p>\n"},{"tags":[],"owner":{"account_id":8165290,"reputation":11,"user_id":10996247,"display_name":"Anibal Rodriguez"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672851281,"creation_date":1672851234,"answer_id":75008704,"question_id":43041695,"body_markdown":"I had the same problem with a different cause.\r\n\r\nI was trying to run a project on Eclipse and I received this error, and my problem was the version of JDK chosen to run the project.\r\n\r\n[Run configuration with JDK][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7SXHL.png\r\n\r\nI had to set my run configuration to 1.8, same as project.","title":"Failed to start component [StandardEngine[Tomcat].StandardHost[localhost].TomcatEmbeddedContext[]]","body":"<p>I had the same problem with a different cause.</p>\n<p>I was trying to run a project on Eclipse and I received this error, and my problem was the version of JDK chosen to run the project.</p>\n<p><a href=\"https://i.stack.imgur.com/7SXHL.png\" rel=\"nofollow noreferrer\">Run configuration with JDK</a></p>\n<p>I had to set my run configuration to 1.8, same as project.</p>\n"}],"owner":{"account_id":2731132,"reputation":1212,"user_id":2354908,"accept_rate":45,"display_name":"Betafish"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80282,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":9,"score":12,"last_activity_date":1672851281,"creation_date":1490604217,"question_id":43041695,"body_markdown":"I am trying to build a SpringBoot application.\r\n\r\n   \r\n\r\n     import org.springframework.boot.SpringApplication;\r\n     import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n     import org.springframework.context.ApplicationContext;\r\n        \r\n        @SpringBootApplication\r\n        public class App {\r\n        \r\n        \t@SuppressWarnings(&quot;unused&quot;)\r\n        \tpublic static void main(String[] args) throws Exception {\r\n        \t\tApplicationContext ctx = SpringApplication.run(App.class, args);\r\n         \t}\r\n        }\r\n\r\nBut, when I try to run the app, it throws me the below error:\r\n\r\n    2017-03-27 13:55:58.281  INFO 8608 --- [           main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8080 (http)\r\n    2017-03-27 13:55:58.299  INFO 8608 --- [           main] o.apache.catalina.core.StandardService   : Starting service Tomcat\r\n    2017-03-27 13:55:58.302  INFO 8608 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.11\r\n    2017-03-27 13:55:58.554 ERROR 8608 --- [cat-startStop-1] org.apache.catalina.core.ContainerBase   : A child container failed during start\r\n    \r\n    java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Tomcat].StandardHost[localhost].TomcatEmbeddedContext[]]\r\n    \tat java.util.concurrent.FutureTask.report(FutureTask.java:122) [na:1.8.0_73]\r\n    \tat java.util.concurrent.FutureTask.get(FutureTask.java:192) [na:1.8.0_73]\r\n    \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:939) ~[tomcat-embed-core-8.5.11.jar:8.5.11]\r\n    \tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:872) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1419) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1409) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java:266) [na:1.8.0_73]\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_73]\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_73]\r\n    \tat java.lang.Thread.run(Thread.java:745) [na:1.8.0_73]\r\n    Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Tomcat].StandardHost[localhost].TomcatEmbeddedContext[]]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:167) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n    \t... 6 common frames omitted\r\n    Caused by: org.apache.catalina.LifecycleException: Failed to start component [Pipeline[StandardEngine[Tomcat].StandardHost[localhost].TomcatEmbeddedContext[]]]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:167) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n    \tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5099) ~[tomcat-embed-core-8.5.11.jar:8.5.11]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n    \t... 6 common frames omitted\r\n    Caused by: org.apache.catalina.LifecycleException: Failed to start component [org.apache.catalina.authenticator.NonLoginAuthenticator[]]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:167) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n    \tat org.apache.catalina.core.StandardPipeline.startInternal(StandardPipeline.java:170) ~[tomcat-embed-core-8.5.11.jar:8.5.11]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n    \t... 8 common frames omitted\r\n    Caused by: java.lang.NoSuchMethodError: javax.servlet.ServletContext.getVirtualServerName()Ljava/lang/String;\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.startInternal(AuthenticatorBase.java:1137) ~[tomcat-embed-core-8.5.11.jar:8.5.11]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n    \t... 10 common frames omitted\r\n\r\n\r\nmy current pom.xml file is as follows:\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;XXXX&lt;/groupId&gt;\r\n      &lt;artifactId&gt;XXXX&lt;/artifactId&gt;\r\n      &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \r\n    &lt;!-- JSON --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\r\n        &lt;artifactId&gt;json-simple&lt;/artifactId&gt;\r\n        &lt;version&gt;1.1.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n     &lt;dependency&gt;\r\n       &lt;groupId&gt;commons-lang&lt;/groupId&gt;\r\n       &lt;artifactId&gt;commons-lang&lt;/artifactId&gt;\r\n       &lt;version&gt;2.2&lt;/version&gt;\r\n     &lt;/dependency&gt;\r\n     \r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\r\n       &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\r\n       &lt;version&gt;1.19.3&lt;/version&gt;\r\n    &lt;/dependency &gt;\r\n    \r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\r\n       &lt;artifactId&gt;jersey-json&lt;/artifactId&gt;\r\n       &lt;version&gt;1.19.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;!-- REST Services  --&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n        &lt;version&gt;1.5.0.RELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt;  \r\n     \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;version&gt;1.5.0.RELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;!-- &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n        &lt;version&gt;1.5.0.RELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt; --&gt;\r\n    \r\n      \r\n      &lt;!-- SLF4J Logging --&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n        &lt;version&gt;1.6.4&lt;/version&gt;\r\n        &lt;scope&gt;compile&lt;/scope&gt;\r\n      &lt;/dependency&gt;  \r\n    \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jcl-over-slf4j&lt;/artifactId&gt;\r\n        &lt;version&gt;1.6.4&lt;/version&gt;\r\n        &lt;scope&gt;runtime&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n    \r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n        &lt;version&gt;1.6.4&lt;/version&gt;\r\n        &lt;scope&gt;runtime&lt;/scope&gt;\r\n      &lt;/dependency&gt; \r\n    \r\n      &lt;/dependencies&gt;\r\n    \r\n      &lt;build&gt;\r\n      &lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\r\n      &lt;plugins&gt;\r\n      \r\n        &lt;!-- Set a compiler level --&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.3&lt;/version&gt;\r\n          &lt;configuration&gt;\r\n            &lt;source&gt;1.8&lt;/source&gt;\r\n            &lt;target&gt;1.8&lt;/target&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n\r\nAs mentioned in some **SO** posts, I tried removing (Jersey), adding (embedded tomcat) dependencies. But the error seems not to be having an effect on the changes.\r\n\r\nI also tried and another simple project (app) from Spring Tutorials (to add two numbers), this has the following pom.xml\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;SpringBootDemoProject&lt;/groupId&gt;\r\n      &lt;artifactId&gt;SpringBootDemoProject&lt;/artifactId&gt;\r\n      &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n      &lt;dependencies&gt;\r\n      &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n        &lt;version&gt;1.5.0.RELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt;  \r\n     &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-web --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;version&gt;1.5.0.RELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n      &lt;/dependencies&gt;\r\n      &lt;build&gt;  \r\n        &lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.3&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n              &lt;source&gt;1.8&lt;/source&gt;\r\n              &lt;target&gt;1.8&lt;/target&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nThis works completely fine. Any pointers as to why this is the case?","title":"Failed to start component [StandardEngine[Tomcat].StandardHost[localhost].TomcatEmbeddedContext[]]","body":"<p>I am trying to build a SpringBoot application.</p>\n\n<pre><code> import org.springframework.boot.SpringApplication;\n import org.springframework.boot.autoconfigure.SpringBootApplication;\n import org.springframework.context.ApplicationContext;\n\n    @SpringBootApplication\n    public class App {\n\n        @SuppressWarnings(\"unused\")\n        public static void main(String[] args) throws Exception {\n            ApplicationContext ctx = SpringApplication.run(App.class, args);\n        }\n    }\n</code></pre>\n\n<p>But, when I try to run the app, it throws me the below error:</p>\n\n<pre><code>2017-03-27 13:55:58.281  INFO 8608 --- [           main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8080 (http)\n2017-03-27 13:55:58.299  INFO 8608 --- [           main] o.apache.catalina.core.StandardService   : Starting service Tomcat\n2017-03-27 13:55:58.302  INFO 8608 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.11\n2017-03-27 13:55:58.554 ERROR 8608 --- [cat-startStop-1] org.apache.catalina.core.ContainerBase   : A child container failed during start\n\njava.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Tomcat].StandardHost[localhost].TomcatEmbeddedContext[]]\n    at java.util.concurrent.FutureTask.report(FutureTask.java:122) [na:1.8.0_73]\n    at java.util.concurrent.FutureTask.get(FutureTask.java:192) [na:1.8.0_73]\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:939) ~[tomcat-embed-core-8.5.11.jar:8.5.11]\n    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:872) [tomcat-embed-core-8.5.11.jar:8.5.11]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150) [tomcat-embed-core-8.5.11.jar:8.5.11]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1419) [tomcat-embed-core-8.5.11.jar:8.5.11]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1409) [tomcat-embed-core-8.5.11.jar:8.5.11]\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266) [na:1.8.0_73]\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_73]\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_73]\n    at java.lang.Thread.run(Thread.java:745) [na:1.8.0_73]\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Tomcat].StandardHost[localhost].TomcatEmbeddedContext[]]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:167) [tomcat-embed-core-8.5.11.jar:8.5.11]\n    ... 6 common frames omitted\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [Pipeline[StandardEngine[Tomcat].StandardHost[localhost].TomcatEmbeddedContext[]]]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:167) [tomcat-embed-core-8.5.11.jar:8.5.11]\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5099) ~[tomcat-embed-core-8.5.11.jar:8.5.11]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150) [tomcat-embed-core-8.5.11.jar:8.5.11]\n    ... 6 common frames omitted\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [org.apache.catalina.authenticator.NonLoginAuthenticator[]]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:167) [tomcat-embed-core-8.5.11.jar:8.5.11]\n    at org.apache.catalina.core.StandardPipeline.startInternal(StandardPipeline.java:170) ~[tomcat-embed-core-8.5.11.jar:8.5.11]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150) [tomcat-embed-core-8.5.11.jar:8.5.11]\n    ... 8 common frames omitted\nCaused by: java.lang.NoSuchMethodError: javax.servlet.ServletContext.getVirtualServerName()Ljava/lang/String;\n    at org.apache.catalina.authenticator.AuthenticatorBase.startInternal(AuthenticatorBase.java:1137) ~[tomcat-embed-core-8.5.11.jar:8.5.11]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150) [tomcat-embed-core-8.5.11.jar:8.5.11]\n    ... 10 common frames omitted\n</code></pre>\n\n<p>my current pom.xml file is as follows:</p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;XXXX&lt;/groupId&gt;\n  &lt;artifactId&gt;XXXX&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n\n&lt;!-- JSON --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\n    &lt;artifactId&gt;json-simple&lt;/artifactId&gt;\n    &lt;version&gt;1.1.1&lt;/version&gt;\n&lt;/dependency&gt;\n\n &lt;dependency&gt;\n   &lt;groupId&gt;commons-lang&lt;/groupId&gt;\n   &lt;artifactId&gt;commons-lang&lt;/artifactId&gt;\n   &lt;version&gt;2.2&lt;/version&gt;\n &lt;/dependency&gt;\n\n&lt;dependency&gt;\n   &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\n   &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\n   &lt;version&gt;1.19.3&lt;/version&gt;\n&lt;/dependency &gt;\n\n&lt;dependency&gt;\n   &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\n   &lt;artifactId&gt;jersey-json&lt;/artifactId&gt;\n   &lt;version&gt;1.19.3&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;!-- REST Services  --&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n    &lt;version&gt;1.5.0.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;  \n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;version&gt;1.5.0.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;!-- &lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n    &lt;version&gt;1.5.0.RELEASE&lt;/version&gt;\n&lt;/dependency&gt; --&gt;\n\n\n  &lt;!-- SLF4J Logging --&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n    &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n    &lt;version&gt;1.6.4&lt;/version&gt;\n    &lt;scope&gt;compile&lt;/scope&gt;\n  &lt;/dependency&gt;  \n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n    &lt;artifactId&gt;jcl-over-slf4j&lt;/artifactId&gt;\n    &lt;version&gt;1.6.4&lt;/version&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n  &lt;/dependency&gt;\n\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n    &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n    &lt;version&gt;1.6.4&lt;/version&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n  &lt;/dependency&gt; \n\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n  &lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\n  &lt;plugins&gt;\n\n    &lt;!-- Set a compiler level --&gt;\n    &lt;plugin&gt;\n      &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n      &lt;version&gt;3.3&lt;/version&gt;\n      &lt;configuration&gt;\n        &lt;source&gt;1.8&lt;/source&gt;\n        &lt;target&gt;1.8&lt;/target&gt;\n      &lt;/configuration&gt;\n    &lt;/plugin&gt;\n  &lt;/plugins&gt;\n&lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>As mentioned in some <strong>SO</strong> posts, I tried removing (Jersey), adding (embedded tomcat) dependencies. But the error seems not to be having an effect on the changes.</p>\n\n<p>I also tried and another simple project (app) from Spring Tutorials (to add two numbers), this has the following pom.xml</p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;SpringBootDemoProject&lt;/groupId&gt;\n  &lt;artifactId&gt;SpringBootDemoProject&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;dependencies&gt;\n  &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n    &lt;version&gt;1.5.0.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;  \n &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-web --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;version&gt;1.5.0.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n\n  &lt;/dependencies&gt;\n  &lt;build&gt;  \n    &lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.3&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;source&gt;1.8&lt;/source&gt;\n          &lt;target&gt;1.8&lt;/target&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>This works completely fine. Any pointers as to why this is the case?</p>\n"},{"tags":["java","spring","hibernate","validation"],"answers":[{"comments":[{"owner":{"account_id":13675664,"reputation":43,"user_id":9867208,"display_name":"Steffan Martins"},"score":0,"creation_date":1529107877,"post_id":50868532,"comment_id":88769894,"body_markdown":"What I want is a bending validation. I&#39;ll updated my question with more code for best undertanding, thanks","body":"What I want is a bending validation. I&#39;ll updated my question with more code for best undertanding, thanks"}],"tags":[],"owner":{"account_id":7300349,"reputation":31,"user_id":5563384,"display_name":"l.dan"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1529032544,"creation_date":1529031408,"answer_id":50868532,"question_id":50867826,"body_markdown":"I think `UniqueUsernameValidator` actions as expected.\r\n\r\nI am not very clear about your application.So it is difficult to implement an method to to check if validating user have the same id or not of user in database.May be you should provide more details, such as code of method `usuarioService.existe(username)`.\r\n\r\nFor me, to assure that the username is unique, i do this:\r\n\r\n    @Column(unique=true)\r\n    String username;\r\n\r\nor use @UniqueConstraint\r\n\r\n    @Table(name = &quot;users&quot;, uniqueConstraints = {\r\n        @UniqueConstraint(columnNames = {\r\n            &quot;username&quot;\r\n        })\r\n    })\r\n\r\nbut **note** that it will work if you let JPA create your tables.\r\n\r\n - [@UniqueConstraint](https://docs.oracle.com/javaee/7/api/javax/persistence/UniqueConstraint.html)","title":"Custom UniqueUsername validation with Spring","body":"<p>I think <code>UniqueUsernameValidator</code> actions as expected.</p>\n\n<p>I am not very clear about your application.So it is difficult to implement an method to to check if validating user have the same id or not of user in database.May be you should provide more details, such as code of method <code>usuarioService.existe(username)</code>.</p>\n\n<p>For me, to assure that the username is unique, i do this:</p>\n\n<pre><code>@Column(unique=true)\nString username;\n</code></pre>\n\n<p>or use @UniqueConstraint</p>\n\n<pre><code>@Table(name = \"users\", uniqueConstraints = {\n    @UniqueConstraint(columnNames = {\n        \"username\"\n    })\n})\n</code></pre>\n\n<p>but <strong>note</strong> that it will work if you let JPA create your tables.</p>\n\n<ul>\n<li><a href=\"https://docs.oracle.com/javaee/7/api/javax/persistence/UniqueConstraint.html\" rel=\"nofollow noreferrer\">@UniqueConstraint</a></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":13675664,"reputation":43,"user_id":9867208,"display_name":"Steffan Martins"},"score":0,"creation_date":1529173275,"post_id":50886569,"comment_id":88782108,"body_markdown":"almost there... Is there a way to combine @ Valid and @ Validation? I have in my entity other annotations such as @ NotBlank. When I use @ Validated(UserCreateValidationGroup.class) in my controller, all default validations are skipped. I dont wanna put (groups = UserCreateValidationGroup.class) in @ NotBlank too.","body":"almost there... Is there a way to combine @ Valid and @ Validation? I have in my entity other annotations such as @ NotBlank. When I use @ Validated(UserCreateValidationGroup.class) in my controller, all default validations are skipped. I dont wanna put (groups = UserCreateValidationGroup.class) in @ NotBlank too."}],"tags":[],"owner":{"account_id":2563377,"reputation":7174,"user_id":2224047,"display_name":"Nikolai  Shevchenko"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1529140724,"creation_date":1529140724,"answer_id":50886569,"question_id":50867826,"body_markdown":"You can try following approach using validation groups:\r\n\r\nCreate a marker interface (or class)\r\n\r\n    public interface UserCreateValidationGroup {\r\n    }\r\n\r\nThen use it in you entity like following\r\n\r\n    @NotBlank\r\n    @UniqueUsername(groups = UserCreateValidationGroup.class)\r\n    private String username;\r\n\r\nAnd then use it in Controller along with `@Validated` (Spring&#39;s variant for JSR-303). Note that you&#39;ll have to split your single method into separate create and update methods, to distinct validation.\r\n\r\nCreate:\r\n\r\n    @PostMapping(&quot;/cadastrar/sindico&quot;)\r\n    public ModelAndView create(\r\n        @Validated(UserCreateValidationGroup.class) @ModelAttribute(&quot;usuario&quot;) Usuario usuario, \r\n        BindingResult validacao, \r\n        ModelMap model\r\n    ) { ... }\r\n\r\nUpdate:\r\n\r\n    // note, here I did use PUT and no argument for @Validated annotation\r\n    @PutMapping(&quot;/cadastrar/sindico&quot;) \r\n    public ModelAndView update(\r\n        @Validated @ModelAttribute(&quot;usuario&quot;) Usuario usuario, \r\n        BindingResult validacao, \r\n        ModelMap model\r\n    ) { ... }\r\n\r\n\r\nHowever, you&#39;ll have to perform manual check (`UsuarioService.existe`) for username in the update case. ","title":"Custom UniqueUsername validation with Spring","body":"<p>You can try following approach using validation groups:</p>\n\n<p>Create a marker interface (or class)</p>\n\n<pre><code>public interface UserCreateValidationGroup {\n}\n</code></pre>\n\n<p>Then use it in you entity like following</p>\n\n<pre><code>@NotBlank\n@UniqueUsername(groups = UserCreateValidationGroup.class)\nprivate String username;\n</code></pre>\n\n<p>And then use it in Controller along with <code>@Validated</code> (Spring's variant for JSR-303). Note that you'll have to split your single method into separate create and update methods, to distinct validation.</p>\n\n<p>Create:</p>\n\n<pre><code>@PostMapping(\"/cadastrar/sindico\")\npublic ModelAndView create(\n    @Validated(UserCreateValidationGroup.class) @ModelAttribute(\"usuario\") Usuario usuario, \n    BindingResult validacao, \n    ModelMap model\n) { ... }\n</code></pre>\n\n<p>Update:</p>\n\n<pre><code>// note, here I did use PUT and no argument for @Validated annotation\n@PutMapping(\"/cadastrar/sindico\") \npublic ModelAndView update(\n    @Validated @ModelAttribute(\"usuario\") Usuario usuario, \n    BindingResult validacao, \n    ModelMap model\n) { ... }\n</code></pre>\n\n<p>However, you'll have to perform manual check (<code>UsuarioService.existe</code>) for username in the update case. </p>\n"}],"owner":{"account_id":13675664,"reputation":43,"user_id":9867208,"display_name":"Steffan Martins"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":652,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":50886569,"answer_count":2,"score":1,"last_activity_date":1672851235,"creation_date":1529023939,"question_id":50867826,"body_markdown":"I want to assure that the username is unique when creating a new one or updating one username. I wrote the code below and it works fine for creating and updating the username. But when updating only other user fields, like age or sex, and maintaining the same username, it returns invalid because the username already exists.\r\n\r\nIt&#39;s important to say that the validation I want is using BindingResult. I already have a database which considers username a unique constraint. But now I want the same validation with BindingResult. But the way I did causes error when updating an user.\r\n\r\nDefining of the annotation @UniqueUsername\r\n\r\n    package app.condominio.validator;\r\n    \r\n    import java.lang.annotation.Documented;\r\n    import java.lang.annotation.ElementType;\r\n    import java.lang.annotation.Retention;\r\n    import java.lang.annotation.RetentionPolicy;\r\n    import java.lang.annotation.Target;\r\n    \r\n    import javax.validation.Constraint;\r\n    import javax.validation.Payload;\r\n    \r\n    @Documented\r\n    @Constraint(validatedBy = UniqueUsernameValidator.class)\r\n    @Target({ ElementType.METHOD, ElementType.FIELD })\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    public @interface UniqueUsername {\r\n    \tString message() default &quot;Nome de usu&#225;rio j&#225; est&#225; sendo usado&quot;;\r\n    \r\n    \tClass&lt;?&gt;[] groups() default {};\r\n    \r\n    \tClass&lt;? extends Payload&gt;[] payload() default {};\r\n    }\r\n\r\nImplementing the validator\r\n\r\n    package app.condominio.validator;\r\n    \r\n    import javax.validation.ConstraintValidator;\r\n    import javax.validation.ConstraintValidatorContext;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    \r\n    import app.condominio.service.UsuarioService;\r\n    \r\n    public class UniqueUsernameValidator implements ConstraintValidator&lt;UniqueUsername, String&gt; {\r\n    \r\n    \t@Autowired\r\n    \tUsuarioService usuarioService;\r\n    \r\n    \t@Override\r\n    \tpublic void initialize(UniqueUsername username) {\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean isValid(String username, ConstraintValidatorContext cxt) {\r\n    \t\treturn !usuarioService.existe(username);\r\n    \t}\r\n    }\r\n\r\nIn Usuario.class\r\n\r\n    @Entity\r\n    @Table(name = &quot;Usuarios&quot;)\r\n    public class Usuario implements Serializable {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n\t@NotBlank\r\n\t@UniqueUsername\r\n\tprivate String username;\r\n\r\n\t@NotBlank\r\n\tprivate String password;\r\n\r\n\t@NotBlank\r\n\tprivate String nome;\r\n\r\n\t@Email\r\n\tprivate String email;\r\n\r\n\t...\r\n\r\nUsuarioService\r\n\r\n    @Service\r\n    @Transactional\r\n    public class UsuarioServiceImpl implements UsuarioService {\r\n    \r\n    \t@Autowired\r\n    \tprivate UsuarioDao usuarioDao;\r\n    \r\n        @Override\r\n    \t@Transactional(readOnly = true, propagation = Propagation.SUPPORTS)\r\n    \tpublic boolean existe(String username) {\r\n    \t\treturn usuarioDao.existsByUsername(username);\r\n    \t}\r\n\r\nUsuarioDao\r\n\r\n    public interface UsuarioDao extends CrudRepository&lt;Usuario, Long&gt; {\r\n    \r\n    \tUsuario findByUsername(String username);\r\n    \t\r\n    \tBoolean existsByUsername(String username);\r\n    \r\n    }\r\n\r\nController\r\n\r\n    @Controller\r\n    @RequestMapping(&quot;conta&quot;)\r\n    public class UsuarioController {\r\n    \r\n        @Autowired\r\n    \tprivate UsuarioService usuarioService;\r\n    \r\n    \t@GetMapping(&quot;/cadastrar/sindico&quot;)\r\n    \tpublic ModelAndView preCadastro(@ModelAttribute(&quot;usuario&quot;) Usuario usuario, ModelMap model) {\r\n    \t\tmodel.addAttribute(&quot;conteudo&quot;, &quot;cadastrarSindico&quot;);\r\n    \t\treturn new ModelAndView(&quot;site/layout&quot;, model);\r\n    \t}\r\n    \r\n    \t@PostMapping(&quot;/cadastrar/sindico&quot;)\r\n    \tpublic ModelAndView posCadastro(@Valid @ModelAttribute(&quot;usuario&quot;) Usuario usuario, BindingResult validacao, ModelMap model) {\r\n    \t\tif (validacao.hasErrors()) {\r\n    \t\t\treturn preCadastro(usuario, model);\r\n    \t\t}\r\n    \t\tusuarioService.salvarSindico(usuario);\r\n    \t\tmodel.addAttribute(usuario);\r\n    \t\tmodel.addAttribute(&quot;conteudo&quot;, &quot;cadastrarCondominio&quot;);\r\n    \t\treturn new ModelAndView(&quot;site/layout&quot;, model);\r\n    \t}\r\n","title":"Custom UniqueUsername validation with Spring","body":"<p>I want to assure that the username is unique when creating a new one or updating one username. I wrote the code below and it works fine for creating and updating the username. But when updating only other user fields, like age or sex, and maintaining the same username, it returns invalid because the username already exists.</p>\n<p>It's important to say that the validation I want is using BindingResult. I already have a database which considers username a unique constraint. But now I want the same validation with BindingResult. But the way I did causes error when updating an user.</p>\n<p>Defining of the annotation @UniqueUsername</p>\n<pre><code>package app.condominio.validator;\n\nimport java.lang.annotation.Documented;\nimport java.lang.annotation.ElementType;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\nimport java.lang.annotation.Target;\n\nimport javax.validation.Constraint;\nimport javax.validation.Payload;\n\n@Documented\n@Constraint(validatedBy = UniqueUsernameValidator.class)\n@Target({ ElementType.METHOD, ElementType.FIELD })\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface UniqueUsername {\n    String message() default &quot;Nome de usuário já está sendo usado&quot;;\n\n    Class&lt;?&gt;[] groups() default {};\n\n    Class&lt;? extends Payload&gt;[] payload() default {};\n}\n</code></pre>\n<p>Implementing the validator</p>\n<pre><code>package app.condominio.validator;\n\nimport javax.validation.ConstraintValidator;\nimport javax.validation.ConstraintValidatorContext;\n\nimport org.springframework.beans.factory.annotation.Autowired;\n\nimport app.condominio.service.UsuarioService;\n\npublic class UniqueUsernameValidator implements ConstraintValidator&lt;UniqueUsername, String&gt; {\n\n    @Autowired\n    UsuarioService usuarioService;\n\n    @Override\n    public void initialize(UniqueUsername username) {\n    }\n\n    @Override\n    public boolean isValid(String username, ConstraintValidatorContext cxt) {\n        return !usuarioService.existe(username);\n    }\n}\n</code></pre>\n<p>In Usuario.class</p>\n<pre><code>@Entity\n@Table(name = &quot;Usuarios&quot;)\npublic class Usuario implements Serializable {\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate Long id;\n\n@NotBlank\n@UniqueUsername\nprivate String username;\n\n@NotBlank\nprivate String password;\n\n@NotBlank\nprivate String nome;\n\n@Email\nprivate String email;\n\n...\n</code></pre>\n<p>UsuarioService</p>\n<pre><code>@Service\n@Transactional\npublic class UsuarioServiceImpl implements UsuarioService {\n\n    @Autowired\n    private UsuarioDao usuarioDao;\n\n    @Override\n    @Transactional(readOnly = true, propagation = Propagation.SUPPORTS)\n    public boolean existe(String username) {\n        return usuarioDao.existsByUsername(username);\n    }\n</code></pre>\n<p>UsuarioDao</p>\n<pre><code>public interface UsuarioDao extends CrudRepository&lt;Usuario, Long&gt; {\n\n    Usuario findByUsername(String username);\n    \n    Boolean existsByUsername(String username);\n\n}\n</code></pre>\n<p>Controller</p>\n<pre><code>@Controller\n@RequestMapping(&quot;conta&quot;)\npublic class UsuarioController {\n\n    @Autowired\n    private UsuarioService usuarioService;\n\n    @GetMapping(&quot;/cadastrar/sindico&quot;)\n    public ModelAndView preCadastro(@ModelAttribute(&quot;usuario&quot;) Usuario usuario, ModelMap model) {\n        model.addAttribute(&quot;conteudo&quot;, &quot;cadastrarSindico&quot;);\n        return new ModelAndView(&quot;site/layout&quot;, model);\n    }\n\n    @PostMapping(&quot;/cadastrar/sindico&quot;)\n    public ModelAndView posCadastro(@Valid @ModelAttribute(&quot;usuario&quot;) Usuario usuario, BindingResult validacao, ModelMap model) {\n        if (validacao.hasErrors()) {\n            return preCadastro(usuario, model);\n        }\n        usuarioService.salvarSindico(usuario);\n        model.addAttribute(usuario);\n        model.addAttribute(&quot;conteudo&quot;, &quot;cadastrarCondominio&quot;);\n        return new ModelAndView(&quot;site/layout&quot;, model);\n    }\n</code></pre>\n"},{"tags":["java","jvm"],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1238078639,"creation_date":1238078639,"answer_id":686097,"question_id":686079,"body_markdown":"No, static variables aren&#39;t between JVMs. Yes, there&#39;s a separate JVM process for each Java app you run.\r\n\r\nIn some implementations I believe they may share *some* resources (e.g. memory for JITted code of JRE classes) but I&#39;m not sure. I believe there&#39;s ongoing work to enable more sharing, but still in a robust way. (You don&#39;t really want one JVM crashing to affect others.)\r\n\r\nNo, you can&#39;t make programs share variables transparently.\r\n\r\nI believe there are books about the JVM, but I can&#39;t recommend any. You&#39;d probably be best off looking for HotSpot white papers for details of that. [This one][1] is a pretty good starting point.\r\n\r\n\r\n  [1]: http://java.sun.com/products/hotspot/whitepaper.html","title":"In Java, are static class members shared among programs?","body":"<p>No, static variables aren't between JVMs. Yes, there's a separate JVM process for each Java app you run.</p>\n\n<p>In some implementations I believe they may share <em>some</em> resources (e.g. memory for JITted code of JRE classes) but I'm not sure. I believe there's ongoing work to enable more sharing, but still in a robust way. (You don't really want one JVM crashing to affect others.)</p>\n\n<p>No, you can't make programs share variables transparently.</p>\n\n<p>I believe there are books about the JVM, but I can't recommend any. You'd probably be best off looking for HotSpot white papers for details of that. <a href=\"http://java.sun.com/products/hotspot/whitepaper.html\" rel=\"noreferrer\">This one</a> is a pretty good starting point.</p>\n"},{"tags":[],"owner":{"account_id":7745,"reputation":189765,"user_id":13531,"accept_rate":75,"display_name":"Michael Myers"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1238078655,"creation_date":1238078655,"answer_id":686098,"question_id":686079,"body_markdown":"You are correct in your assumption. Yes, each JVM is a separate process. You can confirm this by opening Task Manager when you&#39;re running two Java programs (sort processes by name and look for java.exe or javaw.exe).\r\n\r\nIt is possible to make JVMs connect to each other (with local sockets, for instance), but there&#39;s nothing built in.","title":"In Java, are static class members shared among programs?","body":"<p>You are correct in your assumption. Yes, each JVM is a separate process. You can confirm this by opening Task Manager when you're running two Java programs (sort processes by name and look for java.exe or javaw.exe).</p>\n\n<p>It is possible to make JVMs connect to each other (with local sockets, for instance), but there's nothing built in.</p>\n"},{"comments":[{"owner":{"account_id":11385,"reputation":24062,"user_id":21925,"accept_rate":62,"display_name":"Robin"},"score":1,"creation_date":1238080110,"post_id":686110,"comment_id":499705,"body_markdown":"+1 for the classloaders, that is what determines the scope of a static variable.  Not specific to the thread though, as the classloader can change even on a single thread of execution.  Quite common in JEE and OSGi environments.","body":"+1 for the classloaders, that is what determines the scope of a static variable.  Not specific to the thread though, as the classloader can change even on a single thread of execution.  Quite common in JEE and OSGi environments."}],"tags":[],"owner":{"account_id":15706,"reputation":4489,"user_id":33433,"display_name":"mkoeller"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1238078815,"creation_date":1238078815,"answer_id":686110,"question_id":686079,"body_markdown":"you should probably search more in the area of class loading if your main interest is about how static class members are instantiated. \r\n\r\nDifferent threads on the same VM may have their own static class nember instances if they used separate class loaders. \r\n\r\nThe classic example here would be [Apache Tomcat][1] keeping different web applications separate, though lib jars might be common to all applications.\r\n\r\n\r\n  [1]: http://tomcat.apache.org/","title":"In Java, are static class members shared among programs?","body":"<p>you should probably search more in the area of class loading if your main interest is about how static class members are instantiated. </p>\n\n<p>Different threads on the same VM may have their own static class nember instances if they used separate class loaders. </p>\n\n<p>The classic example here would be <a href=\"http://tomcat.apache.org/\" rel=\"noreferrer\">Apache Tomcat</a> keeping different web applications separate, though lib jars might be common to all applications.</p>\n"},{"tags":[],"owner":{"account_id":25591,"reputation":61024,"user_id":65868,"accept_rate":68,"display_name":"TofuBeer"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1238079043,"creation_date":1238079043,"answer_id":686122,"question_id":686079,"body_markdown":"Depends on the implementation, but yes there are ways things are shared.  There is/was work underway to change that, and Sun (via Apple) has done a lot of work in sharing data between instances of the VM.  There is a link that discusses some of that [here][1].\r\n\r\nTo do any sort of sharing requires the VM implementor to do it, you as a programmer cannot do anything to make it happen.\r\n\r\nThe VM spec is [here][2], there are some (older) books about it as well.  You can also look at the source for [Kaffe][3] which is pretty small.\r\n\r\n\r\n  [1]: http://www.javalobby.org/java/forums/t72620.html?start=30\r\n  [2]: http://java.sun.com/docs/books/jvms/second_edition/html/VMSpecTOC.doc.html\r\n  [3]: http://www.kaffe.org/","title":"In Java, are static class members shared among programs?","body":"<p>Depends on the implementation, but yes there are ways things are shared.  There is/was work underway to change that, and Sun (via Apple) has done a lot of work in sharing data between instances of the VM.  There is a link that discusses some of that <a href=\"http://www.javalobby.org/java/forums/t72620.html?start=30\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>To do any sort of sharing requires the VM implementor to do it, you as a programmer cannot do anything to make it happen.</p>\n\n<p>The VM spec is <a href=\"http://java.sun.com/docs/books/jvms/second_edition/html/VMSpecTOC.doc.html\" rel=\"nofollow noreferrer\">here</a>, there are some (older) books about it as well.  You can also look at the source for <a href=\"http://www.kaffe.org/\" rel=\"nofollow noreferrer\">Kaffe</a> which is pretty small.</p>\n"},{"tags":[],"owner":{"account_id":11636,"reputation":41624,"user_id":22514,"accept_rate":86,"display_name":"Kevin Hakanson"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1238079836,"creation_date":1238079836,"answer_id":686174,"question_id":686079,"body_markdown":"If you want to share variables across JVMs, you could look at clustering products like [Terracotta][1]. They refer to themselves as &quot;network attached memory&quot; and let you share object references across JVMs using replication technology.\r\n\r\n\r\n  [1]: http://www.terracotta.org/web/display/orgsite/What+Is+Terracotta","title":"In Java, are static class members shared among programs?","body":"<p>If you want to share variables across JVMs, you could look at clustering products like <a href=\"http://www.terracotta.org/web/display/orgsite/What+Is+Terracotta\" rel=\"nofollow noreferrer\">Terracotta</a>. They refer to themselves as \"network attached memory\" and let you share object references across JVMs using replication technology.</p>\n"},{"tags":[],"owner":{"account_id":11822,"reputation":18142,"user_id":22992,"accept_rate":76,"display_name":"Miguel Ping"},"comment_count":0,"down_vote_count":0,"up_vote_count":28,"is_accepted":true,"score":28,"last_activity_date":1452535667,"creation_date":1238080559,"answer_id":686221,"question_id":686079,"body_markdown":"&gt; In Java, are static class members\r\n&gt; shared among programs?\r\n\r\nA class is defined by its full name and the class loader that loaded it. If the same class is within the same JVM process and the two programs loaded the class through the same class loader then the static members are shared. Classloading rules are of extreme importance.\r\n\r\n\r\n&gt; I imagine that no, they aren&#39;t,\r\n&gt; because every process has its own\r\n&gt; memory space, of course.\r\n\r\nIf you are using two separate JVMs to launch two apps, you are correct. But take the case of application/servlet containers such as tomcat: they load several apps through the same process (the tomcat host process).\r\n\r\n\r\n&gt; But how does the whole JVM thing\r\n&gt; actually work? Is there a separate JVM\r\n&gt; in a separate process for every Java\r\n&gt; program that I launch? Do Java\r\n&gt; programs running in a system share\r\n&gt; anything at all?\r\n\r\nEvery time you type `&gt;java -cp...` at the command line, you are creating a new process. Bear in mind that when you run eclipse or call an ant java task with `fork=true` you are also creating new processes.\r\n\r\n&gt;  Are there differences between OSs and\r\n&gt; JVM implementations? Can I make\r\n&gt; programs share variables (i. e.\r\n&gt; directly through the JVM rather than\r\n&gt; the usual IPC mechanisms)? Are there\r\n&gt; more exotic one-process JVMs for\r\n&gt; special purposes?\r\n\r\nLike a poster said, there are projects like Terracota that facilitate this for you. A general approach for this kind of sharing is a distributed cache.\r\n","title":"In Java, are static class members shared among programs?","body":"<blockquote>\n  <p>In Java, are static class members\n  shared among programs?</p>\n</blockquote>\n\n<p>A class is defined by its full name and the class loader that loaded it. If the same class is within the same JVM process and the two programs loaded the class through the same class loader then the static members are shared. Classloading rules are of extreme importance.</p>\n\n<blockquote>\n  <p>I imagine that no, they aren't,\n  because every process has its own\n  memory space, of course.</p>\n</blockquote>\n\n<p>If you are using two separate JVMs to launch two apps, you are correct. But take the case of application/servlet containers such as tomcat: they load several apps through the same process (the tomcat host process).</p>\n\n<blockquote>\n  <p>But how does the whole JVM thing\n  actually work? Is there a separate JVM\n  in a separate process for every Java\n  program that I launch? Do Java\n  programs running in a system share\n  anything at all?</p>\n</blockquote>\n\n<p>Every time you type <code>&gt;java -cp...</code> at the command line, you are creating a new process. Bear in mind that when you run eclipse or call an ant java task with <code>fork=true</code> you are also creating new processes.</p>\n\n<blockquote>\n  <p>Are there differences between OSs and\n  JVM implementations? Can I make\n  programs share variables (i. e.\n  directly through the JVM rather than\n  the usual IPC mechanisms)? Are there\n  more exotic one-process JVMs for\n  special purposes?</p>\n</blockquote>\n\n<p>Like a poster said, there are projects like Terracota that facilitate this for you. A general approach for this kind of sharing is a distributed cache.</p>\n"},{"tags":[],"owner":{"account_id":10142,"reputation":4936,"user_id":19013,"display_name":"Taylor Gautier"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1238081034,"creation_date":1238081034,"answer_id":686256,"question_id":686079,"body_markdown":"Just to follow on to what Kevin mentioned, there are no JVM implementations that I am aware of that allow you to share static variables across JVM instances.  As previous answers have stated (correctly) - each JVM instance is it&#39;s own process.\r\n\r\nTerracotta (which is a clustering technology, not a JVM) allows for arbitrary sharing of object instances across JVM process boundaries - including sharing static variables.  Thus the moniker &quot;network attached memory&quot;.  For all intents and purposes, when using Terracotta technology in your JVM process, all of the threads in all of the VMs behave as if they were all looking at a single, large, shared heap.  (With caveats of course, since that&#39;s not physically possible, Terracotta manages it through sophisticated sharing and replication algorithms which involve network io to move data - so therefore there are times when latency and throughput will not compare to native memory access)\r\n\r\nThere are abundant examples in the Cookbook section of the Terracotta site - I recommend you start with the Hello [Clustered Instance Recipe][1] to get a feel for how it works. \r\n\r\n\r\n  [1]: http://www.terracotta.org/web/display/orgsite/Recipe?recipe=helloclusteredinstance","title":"In Java, are static class members shared among programs?","body":"<p>Just to follow on to what Kevin mentioned, there are no JVM implementations that I am aware of that allow you to share static variables across JVM instances.  As previous answers have stated (correctly) - each JVM instance is it's own process.</p>\n\n<p>Terracotta (which is a clustering technology, not a JVM) allows for arbitrary sharing of object instances across JVM process boundaries - including sharing static variables.  Thus the moniker \"network attached memory\".  For all intents and purposes, when using Terracotta technology in your JVM process, all of the threads in all of the VMs behave as if they were all looking at a single, large, shared heap.  (With caveats of course, since that's not physically possible, Terracotta manages it through sophisticated sharing and replication algorithms which involve network io to move data - so therefore there are times when latency and throughput will not compare to native memory access)</p>\n\n<p>There are abundant examples in the Cookbook section of the Terracotta site - I recommend you start with the Hello <a href=\"http://www.terracotta.org/web/display/orgsite/Recipe?recipe=helloclusteredinstance\" rel=\"nofollow noreferrer\">Clustered Instance Recipe</a> to get a feel for how it works. </p>\n"},{"tags":[],"owner":{"account_id":16476161,"reputation":9,"user_id":11904083,"display_name":"GuniorG"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1672851177,"creation_date":1672851177,"answer_id":75008696,"question_id":686079,"body_markdown":"Yes, **static** variables are shared among the applications only those which are running on **the same JVM and having Same class name, and also having the same**\r\npackage&#39;s structure. \r\n\r\nLike if, I am having the two projects **&#39;A&#39;** and **&#39;B&#39;** and the project &#39;A&#39; is having the packages under **src like (com.azoop.eagle)** and project &#39;B&#39; also having the same project structure as above **(com.azoop.eagle)** and having the same class name &#39;Example.java&#39; containing the same static variable as &#39;**static String logFile=&quot;./resource/sms.log**&#39; in both of the projects. Then if both the projects are running in the same JVM instance then only they will share the same value of static variables. As static variables are loaded only one time in whole life cycle of the project after that they will be shared with the same value if not modified. This can happen only when both the classes should to loaded by the same ***ClassLoader*** among both of the projects.\r\n\r\n\r\nI have faced this issue when I were having two different web-projects but they are running under the same **&#39;WebServer&#39; (JBOSS 7.3)** and having the same cases as explained above.","title":"In Java, are static class members shared among programs?","body":"<p>Yes, <strong>static</strong> variables are shared among the applications only those which are running on <strong>the same JVM and having Same class name, and also having the same</strong>\npackage's structure.</p>\n<p>Like if, I am having the two projects <strong>'A'</strong> and <strong>'B'</strong> and the project 'A' is having the packages under <strong>src like (com.azoop.eagle)</strong> and project 'B' also having the same project structure as above <strong>(com.azoop.eagle)</strong> and having the same class name 'Example.java' containing the same static variable as '<strong>static String logFile=&quot;./resource/sms.log</strong>' in both of the projects. Then if both the projects are running in the same JVM instance then only they will share the same value of static variables. As static variables are loaded only one time in whole life cycle of the project after that they will be shared with the same value if not modified. This can happen only when both the classes should to loaded by the same <em><strong>ClassLoader</strong></em> among both of the projects.</p>\n<p>I have faced this issue when I were having two different web-projects but they are running under the same <strong>'WebServer' (JBOSS 7.3)</strong> and having the same cases as explained above.</p>\n"}],"owner":{"account_id":1552,"reputation":30929,"user_id":2077,"accept_rate":84,"display_name":"Hanno Fietz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12915,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":686221,"answer_count":8,"score":20,"last_activity_date":1672851177,"creation_date":1238078394,"question_id":686079,"body_markdown":"**I imagine that no, they aren&#39;t, because every process has its own memory space, of course.**\r\n\r\nBut how does the whole JVM thing actually work? Is there a separate JVM in a separate process for every Java program that I launch? Do Java programs running in a system share anything at all? Are there differences between OSs and JVM implementations? Can I *make* programs share variables (i. e. directly through the JVM rather than the usual IPC mechanisms)? Are there more exotic one-process JVMs for special purposes?\r\n\r\nGenerally, what are recommendable reads about the guts of JVMs? The [spec][1]? The source code of some implementation? Websites? Books?\r\n\r\n[1]: http://java.sun.com/docs/books/jls/third_edition/html/j3TOC.html","title":"In Java, are static class members shared among programs?","body":"<p><strong>I imagine that no, they aren't, because every process has its own memory space, of course.</strong></p>\n\n<p>But how does the whole JVM thing actually work? Is there a separate JVM in a separate process for every Java program that I launch? Do Java programs running in a system share anything at all? Are there differences between OSs and JVM implementations? Can I <em>make</em> programs share variables (i. e. directly through the JVM rather than the usual IPC mechanisms)? Are there more exotic one-process JVMs for special purposes?</p>\n\n<p>Generally, what are recommendable reads about the guts of JVMs? The <a href=\"http://java.sun.com/docs/books/jls/third_edition/html/j3TOC.html\" rel=\"noreferrer\">spec</a>? The source code of some implementation? Websites? Books?</p>\n"},{"tags":["java","algorithm","artificial-intelligence","depth-first-search"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1672850569,"post_id":75008512,"comment_id":132367175,"body_markdown":"In DFS, we need to visit all children of a node. This, in essence, means we need two loops: one for the termination condition, one to iterate over all children of the current node. Normally, we do this by adding a `Dequeue&lt;...&gt;` of work to do. If we read and write from the same side, we have a DFS algorithm. If we read form one side, but write to anoteher, we have BFS. I have a DFS implementation [here](https://github.com/turing85/advent-of-code-2022/blob/main/day-19/src/main/java/de/turing85/advent/of/code/tttt/day/nineteen/model/BlueprintEvaluator.java#L33) if you want to take a look.","body":"In DFS, we need to visit all children of a node. This, in essence, means we need two loops: one for the termination condition, one to iterate over all children of the current node. Normally, we do this by adding a <code>Dequeue&lt;...&gt;</code> of work to do. If we read and write from the same side, we have a DFS algorithm. If we read form one side, but write to anoteher, we have BFS. I have a DFS implementation <a href=\"https://github.com/turing85/advent-of-code-2022/blob/main/day-19/src/main/java/de/turing85/advent/of/code/tttt/day/nineteen/model/BlueprintEvaluator.java#L33\" rel=\"nofollow noreferrer\">here</a> if you want to take a look."},{"owner":{"account_id":5788487,"reputation":313,"user_id":4566850,"accept_rate":100,"display_name":"Boris Zhguchev"},"score":0,"creation_date":1672851850,"post_id":75008512,"comment_id":132367660,"body_markdown":"Also, if the target node is a final node of the graph or even absent at all, then all nodes will be traversed.","body":"Also, if the target node is a final node of the graph or even absent at all, then all nodes will be traversed."}],"answers":[{"tags":[],"owner":{"account_id":5823420,"reputation":785,"user_id":6656833,"display_name":"Pavel"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1672851099,"creation_date":1672851099,"answer_id":75008677,"question_id":75008512,"body_markdown":"Your algorithm is not DFS, it visits the neighbours of the node `v` and that&#39;s it. A DFS would look something like this:\r\n```java\r\nvoid DFSUtil(int v, int goal, boolean visited[]) {\r\n        Stack&lt;Integer&gt; stack = new Stack&lt;&gt;();\r\n        stack.add(v);\r\n\r\n        while (!stack.isEmpty()) {\r\n            var n = stack.pop();\r\n            if (!visited[n]) {\r\n                if (n == goal) {\r\n                    System.err.print(infoLinkedList.get(1).nameStation + &quot;:&quot;);\r\n                    System.err.print(&quot; |&quot; + goal + &quot;| -&gt; &quot;);\r\n                    return;\r\n                }\r\n                visited[n] = true;\r\n                Iterator&lt;Integer&gt; i = adj[n].listIterator();\r\n                while (i.hasNext()) {\r\n                    stack.add(i.next());\r\n                }\r\n            }\r\n        }\r\n    }\r\n```","title":"Depth First Search algorithm with target node","body":"<p>Your algorithm is not DFS, it visits the neighbours of the node <code>v</code> and that's it. A DFS would look something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>void DFSUtil(int v, int goal, boolean visited[]) {\n        Stack&lt;Integer&gt; stack = new Stack&lt;&gt;();\n        stack.add(v);\n\n        while (!stack.isEmpty()) {\n            var n = stack.pop();\n            if (!visited[n]) {\n                if (n == goal) {\n                    System.err.print(infoLinkedList.get(1).nameStation + &quot;:&quot;);\n                    System.err.print(&quot; |&quot; + goal + &quot;| -&gt; &quot;);\n                    return;\n                }\n                visited[n] = true;\n                Iterator&lt;Integer&gt; i = adj[n].listIterator();\n                while (i.hasNext()) {\n                    stack.add(i.next());\n                }\n            }\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":17276750,"reputation":43,"user_id":12511226,"display_name":"Yara Abd"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":247,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75008677,"answer_count":1,"score":0,"last_activity_date":1672851099,"creation_date":1672850217,"question_id":75008512,"body_markdown":"I have to use DFS algorithm for my university project. I saw this link [DFS][1] but i face this problem. The Depth First Search algorithm is Traversal it goes to every node in the graph but i want to define a target node when i reach to it i want to stop the algorithm\r\ni tried the following code but it still go to all node\r\n\r\n    void DFSUtil(int v, int goal, boolean visited[]) {\r\n                visited[v] = true;\r\n\r\n                Iterator&lt;Integer&gt; i = adj[v].listIterator();\r\n    \r\n                while (i.hasNext()) {\r\n                    int n = i.next();\r\n                    if (!visited[n]) {\r\n                        if (n == goal) {\r\n                            System.err.print(infoLinkedList.get(1).nameStation+&quot;:&quot;);\r\n                            System.err.print(&quot; |&quot;+goal+ &quot;| -&gt; &quot;);\r\n                            return;\r\n                        }\r\n                    }\r\n                }\r\n        }\r\n\r\n\r\n  [1]: https://www.javatpoint.com/depth-first-search-algorithm","title":"Depth First Search algorithm with target node","body":"<p>I have to use DFS algorithm for my university project. I saw this link <a href=\"https://www.javatpoint.com/depth-first-search-algorithm\" rel=\"nofollow noreferrer\">DFS</a> but i face this problem. The Depth First Search algorithm is Traversal it goes to every node in the graph but i want to define a target node when i reach to it i want to stop the algorithm\ni tried the following code but it still go to all node</p>\n<pre><code>void DFSUtil(int v, int goal, boolean visited[]) {\n            visited[v] = true;\n\n            Iterator&lt;Integer&gt; i = adj[v].listIterator();\n\n            while (i.hasNext()) {\n                int n = i.next();\n                if (!visited[n]) {\n                    if (n == goal) {\n                        System.err.print(infoLinkedList.get(1).nameStation+&quot;:&quot;);\n                        System.err.print(&quot; |&quot;+goal+ &quot;| -&gt; &quot;);\n                        return;\n                    }\n                }\n            }\n    }\n</code></pre>\n"},{"tags":["java","mongodb","reactive"],"owner":{"account_id":25986960,"reputation":1,"user_id":19699811,"display_name":"Igor G"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672850965,"creation_date":1672850965,"question_id":75008648,"body_markdown":"We run the same query using reactive and non-reactive mongodb clients on the same mongodb servers and same collection (mongoTemplate is of type `MongoTemplate `and `ReactiveMongoTemplate`) respectively)\r\n \r\n&gt; Pageable pageable = PageRequest.of(0, 5000);\r\n&gt; Query query = new Query().with(pageable);\r\n&gt; query.fields().include(fieldsToProject.toArray(String[]::new));\r\n&gt; return mongoTemplate.find(query, MyEntity.class);\r\n&gt; \r\nOn reactive it takes about **twice** more time\r\n\r\nI found some info that reactive is a bit heavier but not THAT much.\r\nI was expecting to see similar of slightly different performance but not that much difference\r\nIs there indeed some known issue about it? Any idea how to troubleshoot?\r\n\r\nthank you\r\n","title":"Reactive mongodb performance vs non-reactive","body":"<p>We run the same query using reactive and non-reactive mongodb clients on the same mongodb servers and same collection (mongoTemplate is of type <code>MongoTemplate </code>and <code>ReactiveMongoTemplate</code>) respectively)</p>\n<blockquote>\n<p>Pageable pageable = PageRequest.of(0, 5000);\nQuery query = new Query().with(pageable);\nquery.fields().include(fieldsToProject.toArray(String[]::new));\nreturn mongoTemplate.find(query, MyEntity.class);</p>\n</blockquote>\n<p>On reactive it takes about <strong>twice</strong> more time</p>\n<p>I found some info that reactive is a bit heavier but not THAT much.\nI was expecting to see similar of slightly different performance but not that much difference\nIs there indeed some known issue about it? Any idea how to troubleshoot?</p>\n<p>thank you</p>\n"},{"tags":["java","email","outlook","azure-ad-graph-api"],"answers":[{"tags":[],"owner":{"account_id":131793,"reputation":64015,"user_id":332059,"accept_rate":57,"display_name":"Dmitry Streblechenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672850902,"creation_date":1672850902,"answer_id":75008632,"question_id":75007034,"body_markdown":"No headers will be copied in replies. You cannot even expect the subject to be the same since the user can change it. Your best hope is that &quot;in-Reply-To&quot; header will be set to the message id of your original email. ","title":"Header missing in mail reply","body":"<p>No headers will be copied in replies. You cannot even expect the subject to be the same since the user can change it. Your best hope is that &quot;in-Reply-To&quot; header will be set to the message id of your original email.</p>\n"}],"owner":{"account_id":25547109,"reputation":1,"user_id":19332246,"display_name":"Nishant Kumar Jain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672850902,"creation_date":1672843192,"question_id":75007034,"body_markdown":"I was trying to send mail with graphClient with custom headers and expecting same headers in reply mails also so that i can track my conversation but i didn&#39;t got same headers in reply is that any way to got same headers in all reply .\r\n\r\n    \tMessage message = new Message();\r\n    \tmessage.subject = &quot;9/9/2018: DRaft _ testing&quot;;\r\n    \tItemBody body = new ItemBody();\r\n    \tbody.content = &quot;The group represents Nevada.&quot;;\r\n    \tmessage.body = body;\r\n    \tLinkedList&lt;Recipient&gt; toRecipientsList = new LinkedList&lt;Recipient&gt;();\r\n    \tRecipient toRecipients = new Recipient();\r\n    \tEmailAddress emailAddress = new EmailAddress();\r\n    \temailAddress.address = &quot;dummy@ggg.net&quot;;\r\n    \ttoRecipients.emailAddress = emailAddress;\r\n    \ttoRecipientsList.add(toRecipients);\r\n    \tmessage.toRecipients = toRecipientsList;\r\n    \r\n    \tSingleValueLegacyExtendedProperty singleValueLegacyExtendedProperty = new SingleValueLegacyExtendedProperty();\r\n    \tsingleValueLegacyExtendedProperty.id=&quot;propery-id_graph&quot;;\r\n    \tsingleValueLegacyExtendedProperty.value =&quot;propery-id_graph/Aamir&quot;;\r\n    \tList&lt;SingleValueLegacyExtendedProperty&gt; singleValueLegacyExtendedProperties = new LinkedList&lt;&gt;();\r\n    \tsingleValueLegacyExtendedProperties.add(singleValueLegacyExtendedProperty);\r\n    \tSingleValueLegacyExtendedPropertyCollectionRequestBuilder builder=new SingleValueLegacyExtendedPropertyCollectionRequestBuilder()\r\n    \tmessage.singleValueExtendedProperties = new SingleValueLegacyExtendedPropertyCollectionPage(singleValueLegacyExtendedProperties);\r\n    \tLinkedList&lt;InternetMessageHeader&gt; internetMessageHeadersList = new LinkedList&lt;InternetMessageHeader&gt;();\r\n    \tInternetMessageHeader internetMessageHeaders = new InternetMessageHeader();\r\n    \tinternetMessageHeaders.name = &quot;x-Header-1&quot;;\r\n    \tinternetMessageHeaders.value = &quot;aaa&quot;;\r\n    \tinternetMessageHeadersList.add(internetMessageHeaders);\r\n    \tInternetMessageHeader internetMessageHeaders1 = new InternetMessageHeader();\r\n    \tinternetMessageHeaders1.name = &quot;x-Header-2&quot;;\r\n    \tinternetMessageHeaders1.value = &quot;bbb&quot;;\r\n    \tinternetMessageHeadersList.add(internetMessageHeaders1);\r\n    \tmessage.internetMessageHeaders = internetMessageHeadersList;","title":"Header missing in mail reply","body":"<p>I was trying to send mail with graphClient with custom headers and expecting same headers in reply mails also so that i can track my conversation but i didn't got same headers in reply is that any way to got same headers in all reply .</p>\n<pre><code>    Message message = new Message();\n    message.subject = &quot;9/9/2018: DRaft _ testing&quot;;\n    ItemBody body = new ItemBody();\n    body.content = &quot;The group represents Nevada.&quot;;\n    message.body = body;\n    LinkedList&lt;Recipient&gt; toRecipientsList = new LinkedList&lt;Recipient&gt;();\n    Recipient toRecipients = new Recipient();\n    EmailAddress emailAddress = new EmailAddress();\n    emailAddress.address = &quot;dummy@ggg.net&quot;;\n    toRecipients.emailAddress = emailAddress;\n    toRecipientsList.add(toRecipients);\n    message.toRecipients = toRecipientsList;\n\n    SingleValueLegacyExtendedProperty singleValueLegacyExtendedProperty = new SingleValueLegacyExtendedProperty();\n    singleValueLegacyExtendedProperty.id=&quot;propery-id_graph&quot;;\n    singleValueLegacyExtendedProperty.value =&quot;propery-id_graph/Aamir&quot;;\n    List&lt;SingleValueLegacyExtendedProperty&gt; singleValueLegacyExtendedProperties = new LinkedList&lt;&gt;();\n    singleValueLegacyExtendedProperties.add(singleValueLegacyExtendedProperty);\n    SingleValueLegacyExtendedPropertyCollectionRequestBuilder builder=new SingleValueLegacyExtendedPropertyCollectionRequestBuilder()\n    message.singleValueExtendedProperties = new SingleValueLegacyExtendedPropertyCollectionPage(singleValueLegacyExtendedProperties);\n    LinkedList&lt;InternetMessageHeader&gt; internetMessageHeadersList = new LinkedList&lt;InternetMessageHeader&gt;();\n    InternetMessageHeader internetMessageHeaders = new InternetMessageHeader();\n    internetMessageHeaders.name = &quot;x-Header-1&quot;;\n    internetMessageHeaders.value = &quot;aaa&quot;;\n    internetMessageHeadersList.add(internetMessageHeaders);\n    InternetMessageHeader internetMessageHeaders1 = new InternetMessageHeader();\n    internetMessageHeaders1.name = &quot;x-Header-2&quot;;\n    internetMessageHeaders1.value = &quot;bbb&quot;;\n    internetMessageHeadersList.add(internetMessageHeaders1);\n    message.internetMessageHeaders = internetMessageHeadersList;\n</code></pre>\n"},{"tags":["java","activemq"],"answers":[{"tags":[],"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672813320,"creation_date":1672813320,"answer_id":75001606,"question_id":75001504,"body_markdown":"The value for `${activemq.data}` is read from the environment variable `$ACTIVEMQ_DATA` by the `activemq` script when starting the broker. For example, when you start the broker using the default configuration you&#39;ll see this logged:\r\n```\r\n$ ./activemq console\r\n...\r\nACTIVEMQ_HOME: /home/jbertram/java/apache-activemq-5.15.8\r\nACTIVEMQ_BASE: /home/jbertram/java/apache-activemq-5.15.8\r\nACTIVEMQ_CONF: /home/jbertram/java/apache-activemq-5.15.8/conf\r\nACTIVEMQ_DATA: /home/jbertram/java/apache-activemq-5.15.8/data\r\nLoading message broker from: xbean:activemq.xml\r\n...\r\n```\r\nHowever, if you set the `$ACTIVEMQ_DATA` variable to something else, e.g.:\r\n```\r\n$ export ACTIVEMQ_DATA=/tmp\r\n```\r\nThen this will be logged:\r\n```\r\n$ ./activemq console\r\n...\r\nACTIVEMQ_HOME: /home/jbertram/java/apache-activemq-5.15.8\r\nACTIVEMQ_BASE: /home/jbertram/java/apache-activemq-5.15.8\r\nACTIVEMQ_CONF: /home/jbertram/java/apache-activemq-5.15.8/conf\r\nACTIVEMQ_DATA: /tmp\r\nLoading message broker from: xbean:activemq.xml\r\n...\r\n```\r\nYou can also change this using the `bin/env` file. This is what the default `env` contains:\r\n```\r\n...\r\n# Active MQ installation dirs\r\n# ACTIVEMQ_HOME=&quot;&lt;Installationdir&gt;/&quot;\r\n# ACTIVEMQ_BASE=&quot;$ACTIVEMQ_HOME&quot;\r\n# ACTIVEMQ_CONF=&quot;$ACTIVEMQ_BASE/conf&quot;\r\n# ACTIVEMQ_DATA=&quot;$ACTIVEMQ_BASE/data&quot;\r\n# ACTIVEMQ_TMP=&quot;$ACTIVEMQ_BASE/tmp&quot;\r\n...\r\n```\r\nYou could change this to be something like this:\r\n```\r\n...\r\n# Active MQ installation dirs\r\n# ACTIVEMQ_HOME=&quot;&lt;Installationdir&gt;/&quot;\r\n# ACTIVEMQ_BASE=&quot;$ACTIVEMQ_HOME&quot;\r\n# ACTIVEMQ_CONF=&quot;$ACTIVEMQ_BASE/conf&quot;\r\nACTIVEMQ_DATA=&quot;/tmp&quot;\r\n# ACTIVEMQ_TMP=&quot;$ACTIVEMQ_BASE/tmp&quot;\r\n...\r\n```\r\nIt&#39;s worth noting that ActiveMQ &quot;Classic&quot; 5.15.0 was released in June of 2017 (i.e. over 5 years ago now). I strongly recommend you upgrade to a more recent release, ideally [the latest][1].\r\n\r\n\r\n  [1]: https://activemq.apache.org/components/classic/download/","title":"ActiveMQ data and conf folder needs to be changed to different file system in Linux","body":"<p>The value for <code>${activemq.data}</code> is read from the environment variable <code>$ACTIVEMQ_DATA</code> by the <code>activemq</code> script when starting the broker. For example, when you start the broker using the default configuration you'll see this logged:</p>\n<pre><code>$ ./activemq console\n...\nACTIVEMQ_HOME: /home/jbertram/java/apache-activemq-5.15.8\nACTIVEMQ_BASE: /home/jbertram/java/apache-activemq-5.15.8\nACTIVEMQ_CONF: /home/jbertram/java/apache-activemq-5.15.8/conf\nACTIVEMQ_DATA: /home/jbertram/java/apache-activemq-5.15.8/data\nLoading message broker from: xbean:activemq.xml\n...\n</code></pre>\n<p>However, if you set the <code>$ACTIVEMQ_DATA</code> variable to something else, e.g.:</p>\n<pre><code>$ export ACTIVEMQ_DATA=/tmp\n</code></pre>\n<p>Then this will be logged:</p>\n<pre><code>$ ./activemq console\n...\nACTIVEMQ_HOME: /home/jbertram/java/apache-activemq-5.15.8\nACTIVEMQ_BASE: /home/jbertram/java/apache-activemq-5.15.8\nACTIVEMQ_CONF: /home/jbertram/java/apache-activemq-5.15.8/conf\nACTIVEMQ_DATA: /tmp\nLoading message broker from: xbean:activemq.xml\n...\n</code></pre>\n<p>You can also change this using the <code>bin/env</code> file. This is what the default <code>env</code> contains:</p>\n<pre><code>...\n# Active MQ installation dirs\n# ACTIVEMQ_HOME=&quot;&lt;Installationdir&gt;/&quot;\n# ACTIVEMQ_BASE=&quot;$ACTIVEMQ_HOME&quot;\n# ACTIVEMQ_CONF=&quot;$ACTIVEMQ_BASE/conf&quot;\n# ACTIVEMQ_DATA=&quot;$ACTIVEMQ_BASE/data&quot;\n# ACTIVEMQ_TMP=&quot;$ACTIVEMQ_BASE/tmp&quot;\n...\n</code></pre>\n<p>You could change this to be something like this:</p>\n<pre><code>...\n# Active MQ installation dirs\n# ACTIVEMQ_HOME=&quot;&lt;Installationdir&gt;/&quot;\n# ACTIVEMQ_BASE=&quot;$ACTIVEMQ_HOME&quot;\n# ACTIVEMQ_CONF=&quot;$ACTIVEMQ_BASE/conf&quot;\nACTIVEMQ_DATA=&quot;/tmp&quot;\n# ACTIVEMQ_TMP=&quot;$ACTIVEMQ_BASE/tmp&quot;\n...\n</code></pre>\n<p>It's worth noting that ActiveMQ &quot;Classic&quot; 5.15.0 was released in June of 2017 (i.e. over 5 years ago now). I strongly recommend you upgrade to a more recent release, ideally <a href=\"https://activemq.apache.org/components/classic/download/\" rel=\"nofollow noreferrer\">the latest</a>.</p>\n"}],"owner":{"account_id":27333419,"reputation":5,"user_id":20845225,"display_name":"Ashutosh Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":331,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75001606,"answer_count":1,"score":0,"last_activity_date":1672850577,"creation_date":1672812306,"question_id":75001504,"body_markdown":"I have downloaded and setup ActiveMQ 5.15.0 in my machine and followed this [guide.](https://activemq.apache.org/getting-started)\r\n\r\nIn `conf` folder I see in `conf/log4j.properties` there is a line with the path for Log Location.\r\n```text\r\nlog4j.appender.logfile.file=${activemq.data}/activemq.log \r\n```\r\nHow this variable `${activemq.data}` is configured and how to change it?","title":"ActiveMQ data and conf folder needs to be changed to different file system in Linux","body":"<p>I have downloaded and setup ActiveMQ 5.15.0 in my machine and followed this <a href=\"https://activemq.apache.org/getting-started\" rel=\"nofollow noreferrer\">guide.</a></p>\n<p>In <code>conf</code> folder I see in <code>conf/log4j.properties</code> there is a line with the path for Log Location.</p>\n<pre><code>log4j.appender.logfile.file=${activemq.data}/activemq.log \n</code></pre>\n<p>How this variable <code>${activemq.data}</code> is configured and how to change it?</p>\n"},{"tags":["java","swing","jtextpane","imageicon"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1672569789,"post_id":74974107,"comment_id":132306798,"body_markdown":"Refer to [JTextPane appending a new string](https://stackoverflow.com/questions/4059198/jtextpane-appending-a-new-string)","body":"Refer to <a href=\"https://stackoverflow.com/questions/4059198/jtextpane-appending-a-new-string\">JTextPane appending a new string</a>"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1672570305,"post_id":74974107,"comment_id":132306833,"body_markdown":"Have you considered using HTML based text?","body":"Have you considered using HTML based text?"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1672572429,"post_id":74974107,"comment_id":132307036,"body_markdown":"Maybe using something like [this example](https://stackoverflow.com/questions/52232214/adding-image-and-text-to-jtextpane/52232322#52232322)","body":"Maybe using something like <a href=\"https://stackoverflow.com/questions/52232214/adding-image-and-text-to-jtextpane/52232322#52232322\">this example</a>"}],"answers":[{"comments":[{"owner":{"account_id":23761543,"reputation":59,"user_id":17776870,"display_name":"Danilo Djurovic"},"score":0,"creation_date":1672954266,"post_id":74996125,"comment_id":132395709,"body_markdown":"Thanks, both yours and the comment/example from @MadProgrammer helped me to get the wanted result.","body":"Thanks, both yours and the comment/example from @MadProgrammer helped me to get the wanted result."}],"tags":[],"owner":{"account_id":1295413,"reputation":617,"user_id":1246600,"display_name":"Michael"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1672850545,"creation_date":1672763770,"answer_id":74996125,"question_id":74974107,"body_markdown":"Here&#39;s how you can vertically align images in a JTextPane using the underlying [StyledDocument][1]. With this document, you can manually add line breaks at a position of your choice.\r\n\r\n    BufferedImage img1 = ...\r\n    BufferedImage img2 = ...\r\n\r\n    // add first image\r\n    jTextPane.insertIcon(img1);\r\n\r\n    // add line break at the end\r\n    StyledDocument doc = jTextPane.getStyledDocument();\r\n    doc.insertString(doc.getLength(), &quot;\\n&quot; , null);\r\n\r\n    // add second image\r\n    jTextPane.insertIcon(img2);\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/javax/swing/text/StyledDocument.html","title":"How to show ImageIcons in JTextPane only vertically, one below the other?","body":"<p>Here's how you can vertically align images in a JTextPane using the underlying <a href=\"https://docs.oracle.com/javase/7/docs/api/javax/swing/text/StyledDocument.html\" rel=\"nofollow noreferrer\">StyledDocument</a>. With this document, you can manually add line breaks at a position of your choice.</p>\n<pre><code>BufferedImage img1 = ...\nBufferedImage img2 = ...\n\n// add first image\njTextPane.insertIcon(img1);\n\n// add line break at the end\nStyledDocument doc = jTextPane.getStyledDocument();\ndoc.insertString(doc.getLength(), &quot;\\n&quot; , null);\n\n// add second image\njTextPane.insertIcon(img2);\n</code></pre>\n"}],"owner":{"account_id":23761543,"reputation":59,"user_id":17776870,"display_name":"Danilo Djurovic"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74996125,"answer_count":1,"score":1,"last_activity_date":1672850545,"creation_date":1672568758,"question_id":74974107,"body_markdown":"I&#39;m getting BufferdImages from a device and converting them to ImageIcons and showing them in JTextPane.\r\n\r\n    public static void insertImage(BufferedImage img, JTextPane jTextPane){\r\n\r\n        ImageIcon icon = new ImageIcon(img);\r\n        jTextPane.insertIcon(icon);\r\n\r\n    }\r\n\r\nMy problem is that images are added one after another in one line and I have to scroll horizontally to see them.\r\nI want each new ImageIcon to go below the previous one, in other words, to add a new line after each ImageIcon.\r\n\r\nI tried doing `jTextPane.setText(&quot;\\n&quot;);` after adding each image, but this only reset the whole jTextPane.\r\n\r\nI need to show these images in a Swing application among some other data, and if someone has a better suggestion on what to use instead jTextPane for this purpose, please suggest it.\r\n\r\nThanks in advance.","title":"How to show ImageIcons in JTextPane only vertically, one below the other?","body":"<p>I'm getting BufferdImages from a device and converting them to ImageIcons and showing them in JTextPane.</p>\n<pre><code>public static void insertImage(BufferedImage img, JTextPane jTextPane){\n\n    ImageIcon icon = new ImageIcon(img);\n    jTextPane.insertIcon(icon);\n\n}\n</code></pre>\n<p>My problem is that images are added one after another in one line and I have to scroll horizontally to see them.\nI want each new ImageIcon to go below the previous one, in other words, to add a new line after each ImageIcon.</p>\n<p>I tried doing <code>jTextPane.setText(&quot;\\n&quot;);</code> after adding each image, but this only reset the whole jTextPane.</p>\n<p>I need to show these images in a Swing application among some other data, and if someone has a better suggestion on what to use instead jTextPane for this purpose, please suggest it.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","spring","unit-testing"],"comments":[{"owner":{"account_id":18002520,"reputation":324,"user_id":13084140,"display_name":"Ryednap"},"score":0,"creation_date":1672845505,"post_id":75007487,"comment_id":132365202,"body_markdown":"Place your code here. It&#39;s tough to identify problems just by reading your words..","body":"Place your code here. It&#39;s tough to identify problems just by reading your words.."},{"owner":{"account_id":25565209,"reputation":11,"user_id":19346819,"display_name":"Bibou"},"score":0,"creation_date":1672848062,"post_id":75007487,"comment_id":132366308,"body_markdown":"@Ryednap I updated the post, do you have a suggestion ?","body":"@Ryednap I updated the post, do you have a suggestion ?"},{"owner":{"account_id":18002520,"reputation":324,"user_id":13084140,"display_name":"Ryednap"},"score":0,"creation_date":1672849016,"post_id":75007487,"comment_id":132366588,"body_markdown":"Are you wiring `entityManager` in your test class? As you are having the usage of that in your `setup()` method","body":"Are you wiring <code>entityManager</code> in your test class? As you are having the usage of that in your <code>setup()</code> method"},{"owner":{"account_id":25565209,"reputation":11,"user_id":19346819,"display_name":"Bibou"},"score":0,"creation_date":1672850569,"post_id":75007487,"comment_id":132367173,"body_markdown":"I added @Autowired, but still getting the same error.","body":"I added @Autowired, but still getting the same error."},{"owner":{"account_id":18002520,"reputation":324,"user_id":13084140,"display_name":"Ryednap"},"score":0,"creation_date":1672852093,"post_id":75007487,"comment_id":132367746,"body_markdown":"For the wiring to work you need to annotate your test class with `@SpringBootTest`. By default, it is not injected. Kindly confirm if this solves your problem.","body":"For the wiring to work you need to annotate your test class with <code>@SpringBootTest</code>. By default, it is not injected. Kindly confirm if this solves your problem."}],"owner":{"account_id":25565209,"reputation":11,"user_id":19346819,"display_name":"Bibou"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672850464,"creation_date":1672845211,"question_id":75007487,"body_markdown":"I have a unit test that covers a `@transactional` method, however, I&#39;m getting No EntityManager when I try to run it. As I&#39;ve seen in many places, I put the `@Transactional` annotation before the test method, I tried also before the whole class, but still had the same issue.\r\n```java\r\n@Transactional\r\n@RunWith(KronosSpringTestRunner.class)\r\n@ClassesToTest(classes = {\r\n      \r\n}, bindAllMocks = true\r\n)\r\npublic class ShiftAuditJPADataReadUsingIndexServiceTest {\r\n\r\n    @Inject\r\n    private ShiftAuditJPADataReadUsingIndexService underTest;\r\n\r\n\r\n    @Before\r\n    public void setup() {\r\n\r\n        when(entityManager.unwrap(Session.class)).thenReturn(sessionMock);\r\n    }\r\n\r\n    @Test\r\n    public void test_findByEmployee() {\r\n    \r\n\r\n        List&lt;ShiftAudit&gt; expected = Collections.singletonList(new ShiftAudit());\r\n\r\n        when(properties.getProperty(QUERY_BATCH_SIZE, DEFAULT_QUERY_BATCH_SIZE)).thenReturn(DEFAULT_QUERY_BATCH_SIZE);\r\n\r\n        when(sessionMock.createSQLQuery(anyString())).thenReturn(sqlQuery);\r\n        when(sqlQuery.setResultTransformer(any(ResultTransformer.class))).thenReturn(queryMock);\r\n        when(jpaDataReadServiceHelper.queryList(sqlQuery, employeeIds, scheduleStartDate, scheduleEndDate, false)).thenReturn(expected);\r\n\r\n        Collection&lt;ShiftAudit&gt; actual = underTest.findByEmployee(employeeId, scheduleStartDate, scheduleEndDate, false);\r\n\r\n        assertEquals(expected, actual);\r\n        verify(sessionMock).createSQLQuery(anyString());\r\n    }\r\n\r\n```\r\n    \r\n\r\n\r\n\r\n\r\n","title":"Unit test fail with No EntityManager available","body":"<p>I have a unit test that covers a <code>@transactional</code> method, however, I'm getting No EntityManager when I try to run it. As I've seen in many places, I put the <code>@Transactional</code> annotation before the test method, I tried also before the whole class, but still had the same issue.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Transactional\n@RunWith(KronosSpringTestRunner.class)\n@ClassesToTest(classes = {\n      \n}, bindAllMocks = true\n)\npublic class ShiftAuditJPADataReadUsingIndexServiceTest {\n\n    @Inject\n    private ShiftAuditJPADataReadUsingIndexService underTest;\n\n\n    @Before\n    public void setup() {\n\n        when(entityManager.unwrap(Session.class)).thenReturn(sessionMock);\n    }\n\n    @Test\n    public void test_findByEmployee() {\n    \n\n        List&lt;ShiftAudit&gt; expected = Collections.singletonList(new ShiftAudit());\n\n        when(properties.getProperty(QUERY_BATCH_SIZE, DEFAULT_QUERY_BATCH_SIZE)).thenReturn(DEFAULT_QUERY_BATCH_SIZE);\n\n        when(sessionMock.createSQLQuery(anyString())).thenReturn(sqlQuery);\n        when(sqlQuery.setResultTransformer(any(ResultTransformer.class))).thenReturn(queryMock);\n        when(jpaDataReadServiceHelper.queryList(sqlQuery, employeeIds, scheduleStartDate, scheduleEndDate, false)).thenReturn(expected);\n\n        Collection&lt;ShiftAudit&gt; actual = underTest.findByEmployee(employeeId, scheduleStartDate, scheduleEndDate, false);\n\n        assertEquals(expected, actual);\n        verify(sessionMock).createSQLQuery(anyString());\n    }\n\n</code></pre>\n"},{"tags":["java","junit","jakarta-mail","mime-message"],"answers":[{"tags":[],"owner":{"account_id":2826194,"reputation":10795,"user_id":2428802,"display_name":"jmehrens"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1672850458,"creation_date":1496930829,"answer_id":44438011,"question_id":44435457,"body_markdown":"Fix the [most common mistakes people make when using JavaMail][1] in your code first.\r\n\r\n[DNS lookup][2] can hurt performance on some machines. For the JDK you can change the security properties for caching DNS lookup [`networkaddress.cache.ttl` and `networkaddress.cache.negative.ttl`][3] or set the system properties [`sun.net.inetaddr.ttl` and `sun.net.inetaddr.negative.ttl`][3].  The default behavior in JDK 7 and later does a good job of caching so you shouldn&#39;t have to change these settings.\r\n\r\nPreferably, you can use the session properties to avoid some these lookups.\r\n\r\n1. Add session property for [`mail.from` or `mail.host`][5] (these exact key names) as either property will prevent the name lookup inside of [`InternetAddress.getLocalAddress(Session)`][6].  These properties can be set in addition to or without their counterpart properties which contain the protocol in the key names (more on that later).  These properties will improve the performance of [`MimeMessage.saveChanges()`][7], [`MimeMessage.updateHeaders()`][8], [`MimeMessage.updateMessageID()`][9], and [`MimeMessage.setFrom()`][10] which all call `InternetAddress::getLocalAddress`.  If the above properties are not set then this method will attempt to query for the host name.  By setting the properties, this method will pull the host name string from the session instead of attempting the expensive DNS lookup.\r\n2. Set the session property for [`mail.smtp.localhost` or `mail.smtps.localhost`][4] to prevent name lookup on the HELO command on transport.\r\n3. Set session property for [`mail.smtp.from` or `mail.smtps.from`][11] to prevent lookup on EHLO command on transport.\r\n4. Alternatively, you can set the system property [`mail.mime.address.usecanonicalhostname`][12] to `false` if your code is relying on the [`setFrom()`][10] but this will be handled if you applied point #1.\r\n5. For IMAP, you can try to set [`mail.imap.sasl.usecanonicalhostname` or `mail.imaps.sasl.usecanonicalhostname`][13] to `false` which is the default value.\r\n\r\nSince your are not transporting a message, apply rule #1 by changing your code to:\r\n\r\n    @Test\r\n    public void test1() throws MessagingException, IOException {\r\n        Properties props = new Properties();\r\n        props.put(&quot;mail.host&quot;, &quot;localhost&quot;); //Or use IP.\r\n        Session s = Session.getInstance(props);\r\n        MimeMessage m = new MimeMessage(s);\r\n        m.setContent(&quot;&lt;b&gt;Hello&lt;/b&gt;&quot;, &quot;text/html; charset=utf-8&quot;);\r\n        m.saveChanges();\r\n        assertEquals(m.getContent(), &quot;&lt;b&gt;Hello&lt;/b&gt;&quot;);\r\n        assertEquals(m.getContentType(), &quot;text/html; charset=utf-8&quot;);\r\n    }\r\n\r\nIf you are transporting a message then combine the rules #1, #2, and #3 which will prevent accessing the host system for a name lookup.  If you want to prevent all DNS lookups during a transport then you have to use IP addresses.\r\n\r\n  [1]: https://javaee.github.io/javamail/FAQ#commonmistakes\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/net/InetAddress.html#getCanonicalHostName--\r\n  [3]: https://docs.oracle.com/javase/8/docs/technotes/guides/net/properties.html\r\n  [4]: https://javaee.github.io/javamail/docs/api/com/sun/mail/smtp/package-summary.html\r\n  [5]: https://javaee.github.io/javamail/docs/api/\r\n  [6]: https://javaee.github.io/javamail/docs/api/javax/mail/internet/InternetAddress.html#getLocalAddress-javax.mail.Session-\r\n  [7]: https://javaee.github.io/javamail/docs/api/javax/mail/internet/MimeMessage.html#saveChanges--\r\n  [8]: https://javaee.github.io/javamail/docs/api/javax/mail/internet/MimeMessage.html#updateHeaders--\r\n  [9]: https://javaee.github.io/javamail/docs/api/javax/mail/internet/MimeMessage.html#updateMessageID--\r\n  [10]: https://javaee.github.io/javamail/docs/api/javax/mail/internet/MimeMessage.html#setFrom--\r\n  [11]: https://javaee.github.io/javamail/docs/api/com/sun/mail/smtp/SMTPTransport.html#ehlo-java.lang.String-\r\n  [12]: https://javaee.github.io/javamail/docs/api/javax/mail/internet/package-summary.html\r\n  [13]: https://javaee.github.io/javamail/docs/api/com/sun/mail/imap/package-summary.html","title":"MimeMessage.saveChanges is really slow","body":"<p>Fix the <a href=\"https://javaee.github.io/javamail/FAQ#commonmistakes\" rel=\"nofollow noreferrer\">most common mistakes people make when using JavaMail</a> in your code first.</p>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/net/InetAddress.html#getCanonicalHostName--\" rel=\"nofollow noreferrer\">DNS lookup</a> can hurt performance on some machines. For the JDK you can change the security properties for caching DNS lookup <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/net/properties.html\" rel=\"nofollow noreferrer\"><code>networkaddress.cache.ttl</code> and <code>networkaddress.cache.negative.ttl</code></a> or set the system properties <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/net/properties.html\" rel=\"nofollow noreferrer\"><code>sun.net.inetaddr.ttl</code> and <code>sun.net.inetaddr.negative.ttl</code></a>.  The default behavior in JDK 7 and later does a good job of caching so you shouldn't have to change these settings.</p>\n<p>Preferably, you can use the session properties to avoid some these lookups.</p>\n<ol>\n<li>Add session property for <a href=\"https://javaee.github.io/javamail/docs/api/\" rel=\"nofollow noreferrer\"><code>mail.from</code> or <code>mail.host</code></a> (these exact key names) as either property will prevent the name lookup inside of <a href=\"https://javaee.github.io/javamail/docs/api/javax/mail/internet/InternetAddress.html#getLocalAddress-javax.mail.Session-\" rel=\"nofollow noreferrer\"><code>InternetAddress.getLocalAddress(Session)</code></a>.  These properties can be set in addition to or without their counterpart properties which contain the protocol in the key names (more on that later).  These properties will improve the performance of <a href=\"https://javaee.github.io/javamail/docs/api/javax/mail/internet/MimeMessage.html#saveChanges--\" rel=\"nofollow noreferrer\"><code>MimeMessage.saveChanges()</code></a>, <a href=\"https://javaee.github.io/javamail/docs/api/javax/mail/internet/MimeMessage.html#updateHeaders--\" rel=\"nofollow noreferrer\"><code>MimeMessage.updateHeaders()</code></a>, <a href=\"https://javaee.github.io/javamail/docs/api/javax/mail/internet/MimeMessage.html#updateMessageID--\" rel=\"nofollow noreferrer\"><code>MimeMessage.updateMessageID()</code></a>, and <a href=\"https://javaee.github.io/javamail/docs/api/javax/mail/internet/MimeMessage.html#setFrom--\" rel=\"nofollow noreferrer\"><code>MimeMessage.setFrom()</code></a> which all call <code>InternetAddress::getLocalAddress</code>.  If the above properties are not set then this method will attempt to query for the host name.  By setting the properties, this method will pull the host name string from the session instead of attempting the expensive DNS lookup.</li>\n<li>Set the session property for <a href=\"https://javaee.github.io/javamail/docs/api/com/sun/mail/smtp/package-summary.html\" rel=\"nofollow noreferrer\"><code>mail.smtp.localhost</code> or <code>mail.smtps.localhost</code></a> to prevent name lookup on the HELO command on transport.</li>\n<li>Set session property for <a href=\"https://javaee.github.io/javamail/docs/api/com/sun/mail/smtp/SMTPTransport.html#ehlo-java.lang.String-\" rel=\"nofollow noreferrer\"><code>mail.smtp.from</code> or <code>mail.smtps.from</code></a> to prevent lookup on EHLO command on transport.</li>\n<li>Alternatively, you can set the system property <a href=\"https://javaee.github.io/javamail/docs/api/javax/mail/internet/package-summary.html\" rel=\"nofollow noreferrer\"><code>mail.mime.address.usecanonicalhostname</code></a> to <code>false</code> if your code is relying on the <a href=\"https://javaee.github.io/javamail/docs/api/javax/mail/internet/MimeMessage.html#setFrom--\" rel=\"nofollow noreferrer\"><code>setFrom()</code></a> but this will be handled if you applied point #1.</li>\n<li>For IMAP, you can try to set <a href=\"https://javaee.github.io/javamail/docs/api/com/sun/mail/imap/package-summary.html\" rel=\"nofollow noreferrer\"><code>mail.imap.sasl.usecanonicalhostname</code> or <code>mail.imaps.sasl.usecanonicalhostname</code></a> to <code>false</code> which is the default value.</li>\n</ol>\n<p>Since your are not transporting a message, apply rule #1 by changing your code to:</p>\n<pre><code>@Test\npublic void test1() throws MessagingException, IOException {\n    Properties props = new Properties();\n    props.put(&quot;mail.host&quot;, &quot;localhost&quot;); //Or use IP.\n    Session s = Session.getInstance(props);\n    MimeMessage m = new MimeMessage(s);\n    m.setContent(&quot;&lt;b&gt;Hello&lt;/b&gt;&quot;, &quot;text/html; charset=utf-8&quot;);\n    m.saveChanges();\n    assertEquals(m.getContent(), &quot;&lt;b&gt;Hello&lt;/b&gt;&quot;);\n    assertEquals(m.getContentType(), &quot;text/html; charset=utf-8&quot;);\n}\n</code></pre>\n<p>If you are transporting a message then combine the rules #1, #2, and #3 which will prevent accessing the host system for a name lookup.  If you want to prevent all DNS lookups during a transport then you have to use IP addresses.</p>\n"}],"owner":{"account_id":300614,"reputation":12850,"user_id":607846,"accept_rate":65,"display_name":"Baz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3266,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":44438011,"answer_count":1,"score":4,"last_activity_date":1672850458,"creation_date":1496923884,"question_id":44435457,"body_markdown":"The following test is taking around 5 seconds to execute due to the inclusion of `m.saveChanges()`.\r\n\r\n    import org.junit.Before;\r\n    import org.junit.Test;    \r\n    import javax.mail.MessagingException;\r\n    import javax.mail.Session;\r\n    import javax.mail.internet.MimeMessage;\r\n    import java.io.IOException;\r\n    import java.util.Properties;\r\n    import static org.junit.Assert.assertEquals;   \r\n    import static org.mockito.Mockito.mock;\r\n    import static org.mockito.Mockito.when;\r\n\r\n    @Test\r\n    public void test1() throws MessagingException, IOException {\r\n        Session s = Session.getDefaultInstance(new Properties());\r\n        MimeMessage m = new MimeMessage(s);\r\n        m.setContent(&quot;&lt;b&gt;Hello&lt;/b&gt;&quot;, &quot;text/html; charset=utf-8&quot;);\r\n        m.saveChanges();\r\n        assertEquals(m.getContent(), &quot;&lt;b&gt;Hello&lt;/b&gt;&quot;);\r\n        assertEquals(m.getContentType(), &quot;text/html; charset=utf-8&quot;);\r\n    }\r\n\r\nI have also mocked the Session with mockito but it doesn&#39;t help:\r\n\r\n    Session s = mock(Session.class);\r\n    when(s.getProperties()).thenReturn(new Properties());\r\n\r\n\r\nWhat is the problem here? What can I mock to speed things up?","title":"MimeMessage.saveChanges is really slow","body":"<p>The following test is taking around 5 seconds to execute due to the inclusion of <code>m.saveChanges()</code>.</p>\n\n<pre><code>import org.junit.Before;\nimport org.junit.Test;    \nimport javax.mail.MessagingException;\nimport javax.mail.Session;\nimport javax.mail.internet.MimeMessage;\nimport java.io.IOException;\nimport java.util.Properties;\nimport static org.junit.Assert.assertEquals;   \nimport static org.mockito.Mockito.mock;\nimport static org.mockito.Mockito.when;\n\n@Test\npublic void test1() throws MessagingException, IOException {\n    Session s = Session.getDefaultInstance(new Properties());\n    MimeMessage m = new MimeMessage(s);\n    m.setContent(\"&lt;b&gt;Hello&lt;/b&gt;\", \"text/html; charset=utf-8\");\n    m.saveChanges();\n    assertEquals(m.getContent(), \"&lt;b&gt;Hello&lt;/b&gt;\");\n    assertEquals(m.getContentType(), \"text/html; charset=utf-8\");\n}\n</code></pre>\n\n<p>I have also mocked the Session with mockito but it doesn't help:</p>\n\n<pre><code>Session s = mock(Session.class);\nwhen(s.getProperties()).thenReturn(new Properties());\n</code></pre>\n\n<p>What is the problem here? What can I mock to speed things up?</p>\n"},{"tags":["java","jenkins","spock","jenkins-spock"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1672867551,"post_id":75008546,"comment_id":132372649,"body_markdown":"Please learn [how to ask a question on SO](https://stackoverflow.com/help/how-to-ask) and provide a [minimal, complete, and verifiable example](https://stackoverflow.com/help/mcve). Nobody here has a magic crystal globe. Thank you.","body":"Please learn <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask a question on SO</a> and provide a <a href=\"https://stackoverflow.com/help/mcve\">minimal, complete, and verifiable example</a>. Nobody here has a magic crystal globe. Thank you."},{"owner":{"account_id":3570177,"reputation":199,"user_id":3085387,"display_name":"Prabagaran Sellamuthu"},"score":0,"creation_date":1672876205,"post_id":75008546,"comment_id":132374547,"body_markdown":"The method has Jenkins.get() to get the Jenkins instance\nNow in spock ,I need to mock Jenkins class and set the instance back to Jenkins, how to set the instance","body":"The method has Jenkins.get() to get the Jenkins instance Now in spock ,I need to mock Jenkins class and set the instance back to Jenkins, how to set the instance"}],"owner":{"account_id":3570177,"reputation":199,"user_id":3085387,"display_name":"Prabagaran Sellamuthu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672850441,"creation_date":1672850441,"question_id":75008546,"body_markdown":"I am writing a test for which having a Jenkins instance . so I need to mock the Jenkins class and set the instance to Jenkins. What is the method to set the instance?\r\n\r\nImport jenkins.model.Jenkins\r\n\r\n","title":"jenkins instance is missing when writing spock test","body":"<p>I am writing a test for which having a Jenkins instance . so I need to mock the Jenkins class and set the instance to Jenkins. What is the method to set the instance?</p>\n<p>Import jenkins.model.Jenkins</p>\n"},{"tags":["java","amazon-web-services","amazon-iam"],"answers":[{"tags":[],"owner":{"account_id":11259643,"reputation":1,"user_id":8258362,"display_name":"Kamandol"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672849789,"creation_date":1672849789,"answer_id":75008424,"question_id":72486224,"body_markdown":"I&#39;ve run into a similar situation by calling `simulate-principal-policy` directly:\r\n\r\n`AllowedByOrganizations: false` indicates there is an Organization SCP, an organisation-wide service control policy applied that somehow the simulator interprets as its denying access.\r\n\r\nThe issue in my case is that there are some of Org SCP that deny all kind of access to some regions, but not to others.\r\n\r\nThe simulator seems to be unable to discern a given region from others, or at least I did not find a way to overcome this problem.","title":"AWS Simulate principal policy Showing incorrect results","body":"<p>I've run into a similar situation by calling <code>simulate-principal-policy</code> directly:</p>\n<p><code>AllowedByOrganizations: false</code> indicates there is an Organization SCP, an organisation-wide service control policy applied that somehow the simulator interprets as its denying access.</p>\n<p>The issue in my case is that there are some of Org SCP that deny all kind of access to some regions, but not to others.</p>\n<p>The simulator seems to be unable to discern a given region from others, or at least I did not find a way to overcome this problem.</p>\n"}],"owner":{"account_id":19459171,"reputation":1,"user_id":14233802,"display_name":"Susheel Harsoor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":300,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672849789,"creation_date":1654241882,"question_id":72486224,"body_markdown":"Iam trying to run simulateprincipalpolicy through java SDK and getting incorrect results.\r\n\r\nI have policy something like this and attached this policy to role &#39;Myrole&#39;:\r\n \r\n\r\n    {\r\n        &quot;Version&quot;: &quot;2012-10-17&quot;,\r\n        &quot;Statement&quot;: [\r\n            {\r\n                &quot;Sid&quot;: &quot;id&quot;,\r\n                &quot;Effect&quot;: &quot;Allow&quot;,\r\n                &quot;Action&quot;: [\r\n                    &quot;ec2:DescribeTags&quot;\r\n                ],\r\n                &quot;Resource&quot;: &quot;*&quot;\r\n            }\r\n        ]\r\n    }\r\n\r\nJava Code :\r\n\r\n    SimulatePrincipalPolicyRequest simulatePrincipalPolicyRequest = new SimulatePrincipalPolicyRequest()\r\n    simulatePrincipalPolicyRequest.setPolicySourceArn(&quot;arn:aws:iam::123456789012:role/Myrole&quot;);\r\n    simulatePrincipalPolicyRequest.withActionNames(&quot;ec2:DescribeTags&quot;);\r\n\r\n  \r\n    \r\nResult:\r\n\r\n    {\r\n    EvalActionName: ec2:DescribeTags\r\n    EvalResourceName: *\r\n    EvalDecision: implicitDeny\r\n    MatchedStatements: []\r\n    MissingContextValues: []\r\n    OrganizationsDecisionDetail: {AllowedByOrganizations: false}\r\n    EvalDecisionDetails: {}\r\n    ResourceSpecificResults: []\r\n    }\r\n\r\nThe response is incorrect because when i try to perform that action Im able to do so.\r\n","title":"AWS Simulate principal policy Showing incorrect results","body":"<p>Iam trying to run simulateprincipalpolicy through java SDK and getting incorrect results.</p>\n<p>I have policy something like this and attached this policy to role 'Myrole':</p>\n<pre><code>{\n    &quot;Version&quot;: &quot;2012-10-17&quot;,\n    &quot;Statement&quot;: [\n        {\n            &quot;Sid&quot;: &quot;id&quot;,\n            &quot;Effect&quot;: &quot;Allow&quot;,\n            &quot;Action&quot;: [\n                &quot;ec2:DescribeTags&quot;\n            ],\n            &quot;Resource&quot;: &quot;*&quot;\n        }\n    ]\n}\n</code></pre>\n<p>Java Code :</p>\n<pre><code>SimulatePrincipalPolicyRequest simulatePrincipalPolicyRequest = new SimulatePrincipalPolicyRequest()\nsimulatePrincipalPolicyRequest.setPolicySourceArn(&quot;arn:aws:iam::123456789012:role/Myrole&quot;);\nsimulatePrincipalPolicyRequest.withActionNames(&quot;ec2:DescribeTags&quot;);\n</code></pre>\n<p>Result:</p>\n<pre><code>{\nEvalActionName: ec2:DescribeTags\nEvalResourceName: *\nEvalDecision: implicitDeny\nMatchedStatements: []\nMissingContextValues: []\nOrganizationsDecisionDetail: {AllowedByOrganizations: false}\nEvalDecisionDetails: {}\nResourceSpecificResults: []\n}\n</code></pre>\n<p>The response is incorrect because when i try to perform that action Im able to do so.</p>\n"},{"tags":["java","rest","jetty-9"],"owner":{"account_id":2934651,"reputation":1282,"user_id":2513916,"display_name":"Rando Shtishi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672849598,"creation_date":1672849598,"question_id":75008382,"body_markdown":"- runtime environment: OpenJDK version &quot;1.8.0_322&quot;\r\n - server: jetty-server version 9.2.2.v20140723\r\n - servlet: jetty-servlets version 9.2.2.v20140723\r\n\r\n\r\nMy goal is to try to reproduce locally the idle timeout error, full message is like:\r\n\r\n```\r\n{&quot;error&quot;:true,&quot;msg&quot;:&quot;java.io.IOException: java.util.concurrent.TimeoutException: Idle timeout expired: 30000/30000 ms trace\r\n```\r\n\r\nThe error above is thrown by the rest endpoint for exporting data in different formats.\r\n\r\n`_idleTimeout` is a property set on the `ServerConnector.java` class. The description of the `_idleTimeout` specifies that:\r\n\r\n&gt; Sets the maximum Idle time for a connection, which roughly translates to the Socket.setSoTimeout(int) call, although with NIO implementations other mechanisms may be used to implement the timeout. The max idle time is applied:\r\n\r\n&gt; - When waiting for a new message to be received on a connection \r\n&gt; - When waiting for a new message to be sent on a connection\r\n\r\n&gt; This value is interpreted as the maximum time between some progress being made on the connection. So if a single byte is read or written, then the timeout is reset.\r\n\r\nThis error happens infrequently and it is hard to reproduce. \r\n\r\nFirst, I tried to create an endpoint that will sleep for more than 30 seconds like the below:\r\n\r\n```\r\n    @Path(value = &quot;test&quot;, method = HttpMethod.GET)\r\n    public void test(WebiContext ctxt) throws InterruptedException {\r\n           Thread.sleep(550000);\r\n    }\r\n```\r\n\r\nI wasn&#39;t able to reproduce with the endpoint above, when I called the endpoint the connection remained for more than 30 s.\r\n\r\nThen I modified the new test endpoint by copying code(skipping business logic part) from the export endpoint(the endpoint having this issue) to the test endpoint like below:\r\n\r\n```\r\n    @Path(value = &quot;test&quot;, method = HttpMethod.GET)\r\n    public void test(WebiContext ctxt) throws InterruptedException, IOException {\r\n        ctxt.setHeader(&quot;Content-type&quot;, &quot;application/json; charset=utf-8&quot;);\r\n        ctxt.setHeader(&quot;Content-disposition&quot;, String.format(&quot;attachment; filename=test.json&quot;));\r\n        ctxt.flushBuffer();\r\n\r\n        JsonFactory jsonFactory = new JsonFactory();\r\n        JsonGenerator writer = jsonFactory.createGenerator(ctxt.getOutputStream(), JsonEncoding.UTF8);\r\n        writer.writeStartObject();\r\n        writer.flush();\r\n\r\n        int i=0;\r\n        while (i&lt;10) {\r\n            writer.writeRaw(&quot;{\\&quot;title\\&quot;: \\&quot;example glossary\\&quot;}&quot;);\r\n            Thread.sleep(550000);\r\n        }\r\n\r\n        writer.writeEndObject();\r\n        writer.flush();\r\n        ctxt.flushBuffer();\r\n    }\r\n```\r\n\r\nI will appreciate any help or guidance towards reproducing this issue.\r\n\r\nThanks in advance,\r\nRando.\r\n\r\nP.S\r\n\r\nI have used the python script below to reproduce the issue in production, but I failing to reproduce it locally.\r\n\r\n```\r\nimport requests\r\nimport os\r\nimport time\r\n\r\nlocal_filename = &quot;LargeFile.csv&quot;\r\n\r\nurl = &quot;http://localhost:4010/rest/test/test&quot;\r\n\r\n\r\nquerystring = {&quot;format&quot;:&quot;json&quot;}\r\n\r\n\r\npayload = &quot;&quot;\r\nheaders = {\r\n    &quot;Accept&quot;: &quot;application/json&quot;,\r\n    &quot;Content-Type&quot;: &quot;application/json&quot;\r\n}\r\n\r\nfile_nr = 3\r\n\r\nwhile 1:\r\n\r\n    file_nr+=1\r\n\r\n    local_filename = &quot;LargeFile&quot;+str(file_nr)+&quot;.csv&quot;\r\n\r\n    with requests.request(&quot;GET&quot;, url, data=payload, headers=headers, params=querystring, stream=True) as r:\r\n        r.raise_for_status()\r\n        \r\n        with open(local_filename, &#39;wb&#39;) as f:\r\n\r\n            size = 0\r\n            for chunk in r.iter_content(chunk_size=None): \r\n                r.raise_for_status()\r\n                if chunk:\r\n                    size+=len(chunk)\r\n                    f.write(chunk)\r\n                    f.flush()\r\n                    os.fsync(f.fileno())\r\n                    os.system(&#39;cls&#39;)\r\n                    print(&quot;File: &quot;+str(file_nr))\r\n                    print(size/(1024*1024))\r\n                else:\r\n                    print(&quot;chunk error&quot;)\r\n```","title":"Trouble to reproduce Jetty idleTimeout Issue","body":"<ul>\n<li>runtime environment: OpenJDK version &quot;1.8.0_322&quot;</li>\n<li>server: jetty-server version 9.2.2.v20140723</li>\n<li>servlet: jetty-servlets version 9.2.2.v20140723</li>\n</ul>\n<p>My goal is to try to reproduce locally the idle timeout error, full message is like:</p>\n<pre><code>{&quot;error&quot;:true,&quot;msg&quot;:&quot;java.io.IOException: java.util.concurrent.TimeoutException: Idle timeout expired: 30000/30000 ms trace\n</code></pre>\n<p>The error above is thrown by the rest endpoint for exporting data in different formats.</p>\n<p><code>_idleTimeout</code> is a property set on the <code>ServerConnector.java</code> class. The description of the <code>_idleTimeout</code> specifies that:</p>\n<blockquote>\n<p>Sets the maximum Idle time for a connection, which roughly translates to the Socket.setSoTimeout(int) call, although with NIO implementations other mechanisms may be used to implement the timeout. The max idle time is applied:</p>\n</blockquote>\n<blockquote>\n<ul>\n<li>When waiting for a new message to be received on a connection</li>\n<li>When waiting for a new message to be sent on a connection</li>\n</ul>\n</blockquote>\n<blockquote>\n<p>This value is interpreted as the maximum time between some progress being made on the connection. So if a single byte is read or written, then the timeout is reset.</p>\n</blockquote>\n<p>This error happens infrequently and it is hard to reproduce.</p>\n<p>First, I tried to create an endpoint that will sleep for more than 30 seconds like the below:</p>\n<pre><code>    @Path(value = &quot;test&quot;, method = HttpMethod.GET)\n    public void test(WebiContext ctxt) throws InterruptedException {\n           Thread.sleep(550000);\n    }\n</code></pre>\n<p>I wasn't able to reproduce with the endpoint above, when I called the endpoint the connection remained for more than 30 s.</p>\n<p>Then I modified the new test endpoint by copying code(skipping business logic part) from the export endpoint(the endpoint having this issue) to the test endpoint like below:</p>\n<pre><code>    @Path(value = &quot;test&quot;, method = HttpMethod.GET)\n    public void test(WebiContext ctxt) throws InterruptedException, IOException {\n        ctxt.setHeader(&quot;Content-type&quot;, &quot;application/json; charset=utf-8&quot;);\n        ctxt.setHeader(&quot;Content-disposition&quot;, String.format(&quot;attachment; filename=test.json&quot;));\n        ctxt.flushBuffer();\n\n        JsonFactory jsonFactory = new JsonFactory();\n        JsonGenerator writer = jsonFactory.createGenerator(ctxt.getOutputStream(), JsonEncoding.UTF8);\n        writer.writeStartObject();\n        writer.flush();\n\n        int i=0;\n        while (i&lt;10) {\n            writer.writeRaw(&quot;{\\&quot;title\\&quot;: \\&quot;example glossary\\&quot;}&quot;);\n            Thread.sleep(550000);\n        }\n\n        writer.writeEndObject();\n        writer.flush();\n        ctxt.flushBuffer();\n    }\n</code></pre>\n<p>I will appreciate any help or guidance towards reproducing this issue.</p>\n<p>Thanks in advance,\nRando.</p>\n<p>P.S</p>\n<p>I have used the python script below to reproduce the issue in production, but I failing to reproduce it locally.</p>\n<pre><code>import requests\nimport os\nimport time\n\nlocal_filename = &quot;LargeFile.csv&quot;\n\nurl = &quot;http://localhost:4010/rest/test/test&quot;\n\n\nquerystring = {&quot;format&quot;:&quot;json&quot;}\n\n\npayload = &quot;&quot;\nheaders = {\n    &quot;Accept&quot;: &quot;application/json&quot;,\n    &quot;Content-Type&quot;: &quot;application/json&quot;\n}\n\nfile_nr = 3\n\nwhile 1:\n\n    file_nr+=1\n\n    local_filename = &quot;LargeFile&quot;+str(file_nr)+&quot;.csv&quot;\n\n    with requests.request(&quot;GET&quot;, url, data=payload, headers=headers, params=querystring, stream=True) as r:\n        r.raise_for_status()\n        \n        with open(local_filename, 'wb') as f:\n\n            size = 0\n            for chunk in r.iter_content(chunk_size=None): \n                r.raise_for_status()\n                if chunk:\n                    size+=len(chunk)\n                    f.write(chunk)\n                    f.flush()\n                    os.fsync(f.fileno())\n                    os.system('cls')\n                    print(&quot;File: &quot;+str(file_nr))\n                    print(size/(1024*1024))\n                else:\n                    print(&quot;chunk error&quot;)\n</code></pre>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":3,"creation_date":1672802446,"post_id":75000629,"comment_id":132353904,"body_markdown":"You&#39;re declaring `vowels` to be a single `char`. It needs to be an aary of characters, i.e. `char[]`","body":"You&#39;re declaring <code>vowels</code> to be a single <code>char</code>. It needs to be an aary of characters, i.e. <code>char[]</code>"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1672804542,"post_id":75000629,"comment_id":132354180,"body_markdown":"You should also read a tutorial on arrays https://docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.html","body":"You should also read a tutorial on arrays <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.htm&zwnj;&#8203;l</a>"}],"answers":[{"comments":[{"owner":{"account_id":210082,"reputation":19409,"user_id":461499,"accept_rate":73,"display_name":"Rob Audenaerde"},"score":0,"creation_date":1672822694,"post_id":75002836,"comment_id":132357568,"body_markdown":"While this answer is correct, it is not very useful imho, because there is no explanation of what is going on. It uses regex, which is a bit more involved that the basic character logic the OP is asking about.","body":"While this answer is correct, it is not very useful imho, because there is no explanation of what is going on. It uses regex, which is a bit more involved that the basic character logic the OP is asking about."}],"tags":[],"owner":{"account_id":12646737,"reputation":1077,"user_id":9192223,"display_name":"hiren"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672823173,"creation_date":1672821395,"answer_id":75002836,"question_id":75000629,"body_markdown":"Try replacing vowels with this built-in method:\r\n\r\n    String[] hit_str = { &quot;every&quot;, &quot;nearing&quot;, &quot;checking&quot;, &quot;food&quot;, &quot;stand&quot;, &quot;value&quot; };\r\n    \r\n    for (String str : hit_str) {\r\n    \tSystem.out.println(str.replaceAll(&quot;[AaEeIiOoUu]&quot;, &quot;&quot;));\r\n    }\r\n\r\nHere, the `for` loop iterates over your input string/s and uses `Regex` to check if char(s) is/are found from the provided `Regex`. `[AaEeIiOoUu]` tries to match all chars of `Regex` individually in the string chars. Using `Regex` is better than declaring a `char[]` as it improves code readability and saves us from writing complex logics.","title":"removing vowels from array","body":"<p>Try replacing vowels with this built-in method:</p>\n<pre><code>String[] hit_str = { &quot;every&quot;, &quot;nearing&quot;, &quot;checking&quot;, &quot;food&quot;, &quot;stand&quot;, &quot;value&quot; };\n\nfor (String str : hit_str) {\n    System.out.println(str.replaceAll(&quot;[AaEeIiOoUu]&quot;, &quot;&quot;));\n}\n</code></pre>\n<p>Here, the <code>for</code> loop iterates over your input string/s and uses <code>Regex</code> to check if char(s) is/are found from the provided <code>Regex</code>. <code>[AaEeIiOoUu]</code> tries to match all chars of <code>Regex</code> individually in the string chars. Using <code>Regex</code> is better than declaring a <code>char[]</code> as it improves code readability and saves us from writing complex logics.</p>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672844281,"creation_date":1672823839,"answer_id":75003287,"question_id":75000629,"body_markdown":"There&#39;re many way to do this. I reccomen to split 2 tasks: remove vowels and print the results.\r\n\r\n```java\r\nprivate static final Pattern VOWELS = Pattern.compile(&quot;(?i)[aeiou]&quot;);\r\n\r\npublic static String[] removeVowels(String[] words) {\r\n    return Arrays.stream(words)\r\n                 .map(word -&gt; VOWELS.matcher(word).replaceAll(&quot;&quot;))\r\n                 .toArray(String[]::new);\r\n```\r\n\r\nIn case you are **able to modife** the original array, you can avoid creation of the new one.\r\n\r\n```java\r\npublic static String[] removeVowels(String[] words) {\r\n    for (int i = 0; i &lt; words.length; i++)\r\n        words[i] = VOWELS.matcher(words[i]).replaceAll(&quot;&quot;);\r\n\r\n    return words;\r\n}\r\n```","title":"removing vowels from array","body":"<p>There're many way to do this. I reccomen to split 2 tasks: remove vowels and print the results.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static final Pattern VOWELS = Pattern.compile(&quot;(?i)[aeiou]&quot;);\n\npublic static String[] removeVowels(String[] words) {\n    return Arrays.stream(words)\n                 .map(word -&gt; VOWELS.matcher(word).replaceAll(&quot;&quot;))\n                 .toArray(String[]::new);\n</code></pre>\n<p>In case you are <strong>able to modife</strong> the original array, you can avoid creation of the new one.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String[] removeVowels(String[] words) {\n    for (int i = 0; i &lt; words.length; i++)\n        words[i] = VOWELS.matcher(words[i]).replaceAll(&quot;&quot;);\n\n    return words;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9235242,"reputation":1488,"user_id":6860078,"display_name":"tbatch"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672849479,"creation_date":1672849479,"answer_id":75008360,"question_id":75000629,"body_markdown":"## Assumptions\r\nThis looks like a college class task.  So, I&#39;m going to answer assuming that you can&#39;t use more advanced data structures such as `List`, `Set`, etc.  I&#39;m also going to assume that you can&#39;t box and unbox your primitives (i.e. change `int` to `Integer`).  If I recall from my college courses, the main point of these tasks is to learn to implement basic logic and loops.  This means you don&#39;t need to use advanced Java features such as `Pattern` and `Stream`.\r\n\r\nThis means that we need to stick with primitives, basic arrays, basic loops, and basic java functionality.  This also means that the code likely isn&#39;t going to be efficient, but it will meet the requirements of your course.\r\n\r\n## Error Message\r\nYour Error message says \r\n&gt; &quot;illegal initializer for char&quot;\r\n\r\nYou are trying to shove an array into a single character.  You can&#39;t do that.  Put some brackets after `char`, and your error message should go away.\r\n\r\n```java\r\nchar[] vowels = {\r\n      &#39;a&#39;,\r\n      &#39;e&#39;,\r\n      &#39;i&#39;,\r\n      &#39;o&#39;,\r\n      &#39;u&#39;,\r\n      &#39;A&#39;,\r\n      &#39;E&#39;,\r\n      &#39;I&#39;,\r\n      &#39;O&#39;,\r\n      &#39;U&#39;\r\n    };\r\n```\r\n\r\nThat being said, don&#39;t use this.  It&#39;s clunky and error prone.  There are better ways.\r\n\r\n## Remove Vowels Method\r\n\r\nThat&#39;s not the only problem with your code though.  Your void method `removeVowels` has a return value.  void methods don&#39;t return anything.\r\n\r\n### Working through the task\r\n\r\nSince the instructions say you have to receive an array of Strings, we know that your method, at a minimum, should look something like\r\n```java\r\nvoid removeVowels(String[] hit_str);\r\n```\r\nor\r\n```java\r\nString[] removeVowels(String[] hit_str);\r\n```\r\nSince you can modify the String array without having to pass it around, the void method should work fine.  So, now we can look at what the method should do.  Here&#39;s some pseudo code:\r\n\r\n```\r\nvoid removeVowels(String[] hit_str){\r\n  for (int i = 0; i &lt; hit_str.length; i++) {\r\n    // if hit_str[i] contains a vowel, then remove it &lt;-- Pseudo Code\r\n  }\r\n}\r\n```\r\n\r\n### Fleshing out the Pseudo Code\r\n\r\nAt the point we hit the pseudo code, we know that hit_str[i] is a value within the array, and we know that it is a String.  Since String extends Java&#39;s Object, we know that it can be null.  We also know that `&quot;&quot;` is a valid empty String.  We also know that `&quot;cdf&quot;` is also a valid String which doesn&#39;t contain any vowels.\r\n\r\nSo, we know that we should account for a null value in the array, as well as a value that has a length of 0, and a value that already matches our required criteria of no vowels.\r\n\r\nSo, our pseudo code now looks something like this\r\n```java\r\n// this could also be if (hit_str[i] != null ...\r\nif (Objects.nonNull(hit_str[i]) &amp;&amp; !hit_str[i].isEmpty()) {\r\n  // remove vowels if they exist\r\n}\r\n```\r\n\r\n### Getting to work\r\n\r\nNow that we finally have a String to work with, how do we remove the vowels from it.  Since our object is a String, java has a lot of methods to help us.  The best method would be `replaceAll`.\r\n\r\n`replaceAll` uses a regex pattern to find any elements in the String that match the pattern, and replaces them with your designated replacement.  Our Regex would look like this `&quot;(?i)[aeiou]&quot;`.  It can be a bit confusing at first, but the elements in parentheses are the modifiers.  The `?` says match everything after, and the `i` means case insensitive.  The elements in the brackets are the elements to match.  So, this regex says to match everything in the string, case insensitive, against the letters in the brackets.\r\n\r\nExample:\r\n```java\r\nString myString = &quot;Look at all the vowels aeiou and AEIOU both upper and lower case&quot;;\r\nSystem.out.println(myString.replaceAll(&quot;(?i)[aeiou]&quot;, &quot;&quot;));\r\n```\r\nThis code produces `Lk t ll th vwls  nd  bth ppr nd lwr cs`.\r\n\r\n### Putting it together\r\n\r\nSo, our final code would look something like this.\r\n\r\n```java\r\nvoid removeVowels(String[] hit_str){\r\n  for (int i = 0; i &lt; hit_str.length; i++) {\r\n    if (Objects.nonNull(hit_str[i]) &amp;&amp; !hit_str[i].isEmpty()) {\r\n      hit_str[i] = hit_str[i].replaceAll(&quot;(?i)[aeiou]&quot;, &quot;&quot;));\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n### Using the method\r\n\r\nYour `main` method should now look like this after the String[] array has been created.\r\n\r\n```java\r\nremoveVowels(wordList);\r\nfor (int i = 0; i &lt; wordList.length; i++) {\r\n  System.out.println(wordList[i]);\r\n}\r\n```","title":"removing vowels from array","body":"<h2>Assumptions</h2>\n<p>This looks like a college class task.  So, I'm going to answer assuming that you can't use more advanced data structures such as <code>List</code>, <code>Set</code>, etc.  I'm also going to assume that you can't box and unbox your primitives (i.e. change <code>int</code> to <code>Integer</code>).  If I recall from my college courses, the main point of these tasks is to learn to implement basic logic and loops.  This means you don't need to use advanced Java features such as <code>Pattern</code> and <code>Stream</code>.</p>\n<p>This means that we need to stick with primitives, basic arrays, basic loops, and basic java functionality.  This also means that the code likely isn't going to be efficient, but it will meet the requirements of your course.</p>\n<h2>Error Message</h2>\n<p>Your Error message says</p>\n<blockquote>\n<p>&quot;illegal initializer for char&quot;</p>\n</blockquote>\n<p>You are trying to shove an array into a single character.  You can't do that.  Put some brackets after <code>char</code>, and your error message should go away.</p>\n<pre class=\"lang-java prettyprint-override\"><code>char[] vowels = {\n      'a',\n      'e',\n      'i',\n      'o',\n      'u',\n      'A',\n      'E',\n      'I',\n      'O',\n      'U'\n    };\n</code></pre>\n<p>That being said, don't use this.  It's clunky and error prone.  There are better ways.</p>\n<h2>Remove Vowels Method</h2>\n<p>That's not the only problem with your code though.  Your void method <code>removeVowels</code> has a return value.  void methods don't return anything.</p>\n<h3>Working through the task</h3>\n<p>Since the instructions say you have to receive an array of Strings, we know that your method, at a minimum, should look something like</p>\n<pre class=\"lang-java prettyprint-override\"><code>void removeVowels(String[] hit_str);\n</code></pre>\n<p>or</p>\n<pre class=\"lang-java prettyprint-override\"><code>String[] removeVowels(String[] hit_str);\n</code></pre>\n<p>Since you can modify the String array without having to pass it around, the void method should work fine.  So, now we can look at what the method should do.  Here's some pseudo code:</p>\n<pre><code>void removeVowels(String[] hit_str){\n  for (int i = 0; i &lt; hit_str.length; i++) {\n    // if hit_str[i] contains a vowel, then remove it &lt;-- Pseudo Code\n  }\n}\n</code></pre>\n<h3>Fleshing out the Pseudo Code</h3>\n<p>At the point we hit the pseudo code, we know that hit_str[i] is a value within the array, and we know that it is a String.  Since String extends Java's Object, we know that it can be null.  We also know that <code>&quot;&quot;</code> is a valid empty String.  We also know that <code>&quot;cdf&quot;</code> is also a valid String which doesn't contain any vowels.</p>\n<p>So, we know that we should account for a null value in the array, as well as a value that has a length of 0, and a value that already matches our required criteria of no vowels.</p>\n<p>So, our pseudo code now looks something like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>// this could also be if (hit_str[i] != null ...\nif (Objects.nonNull(hit_str[i]) &amp;&amp; !hit_str[i].isEmpty()) {\n  // remove vowels if they exist\n}\n</code></pre>\n<h3>Getting to work</h3>\n<p>Now that we finally have a String to work with, how do we remove the vowels from it.  Since our object is a String, java has a lot of methods to help us.  The best method would be <code>replaceAll</code>.</p>\n<p><code>replaceAll</code> uses a regex pattern to find any elements in the String that match the pattern, and replaces them with your designated replacement.  Our Regex would look like this <code>&quot;(?i)[aeiou]&quot;</code>.  It can be a bit confusing at first, but the elements in parentheses are the modifiers.  The <code>?</code> says match everything after, and the <code>i</code> means case insensitive.  The elements in the brackets are the elements to match.  So, this regex says to match everything in the string, case insensitive, against the letters in the brackets.</p>\n<p>Example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String myString = &quot;Look at all the vowels aeiou and AEIOU both upper and lower case&quot;;\nSystem.out.println(myString.replaceAll(&quot;(?i)[aeiou]&quot;, &quot;&quot;));\n</code></pre>\n<p>This code produces <code>Lk t ll th vwls  nd  bth ppr nd lwr cs</code>.</p>\n<h3>Putting it together</h3>\n<p>So, our final code would look something like this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>void removeVowels(String[] hit_str){\n  for (int i = 0; i &lt; hit_str.length; i++) {\n    if (Objects.nonNull(hit_str[i]) &amp;&amp; !hit_str[i].isEmpty()) {\n      hit_str[i] = hit_str[i].replaceAll(&quot;(?i)[aeiou]&quot;, &quot;&quot;));\n    }\n  }\n}\n</code></pre>\n<h3>Using the method</h3>\n<p>Your <code>main</code> method should now look like this after the String[] array has been created.</p>\n<pre class=\"lang-java prettyprint-override\"><code>removeVowels(wordList);\nfor (int i = 0; i &lt; wordList.length; i++) {\n  System.out.println(wordList[i]);\n}\n</code></pre>\n"}],"owner":{"account_id":27426721,"reputation":11,"user_id":20924091,"display_name":"oinkkkk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":427,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1672849479,"creation_date":1672802196,"question_id":75000629,"body_markdown":"The instructions &gt;&gt;  \r\nImplement the method named `removeVowels` which processes the array of strings named `words` by printing each string from `words` with only non-vowels on its own line.\r\n\r\nFor example, if words contains:\r\n```java\r\n{&quot;every&quot;, &quot;nearing&quot;, &quot;checking&quot;, &quot;food&quot;, &quot;stand&quot;, &quot;value&quot;}\r\n```\r\nThe method should output:\r\n```none\r\nvry\r\nnrng\r\nchckng\r\nfd\r\nstnd\r\nvl\r\n```\r\nSo far, I have:\r\n```java\r\npublic class U6_L3_Activity_Two {\r\n  public static void removeVowels(String[] hit_str) {\r\n    char vowels = {\r\n      &#39;a&#39;,\r\n      &#39;e&#39;,\r\n      &#39;i&#39;,\r\n      &#39;o&#39;,\r\n      &#39;u&#39;,\r\n      &#39;A&#39;,\r\n      &#39;E&#39;,\r\n      &#39;I&#39;,\r\n      &#39;O&#39;,\r\n      &#39;U&#39;\r\n    };\r\n    for (int i = 0; i &lt; hit_str.length; i++) {\r\n      if (find(vowels.begin(), vowels.end(),\r\n          hit_str[i]) != vowels.end()) {\r\n        hit_str = hit_str.replace(i, 1, &quot;&quot;);\r\n        i -= 1;\r\n      }\r\n    }\r\n    return hit_str;\r\n  }\r\n}\r\n```\r\nRunner:\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class runner_U6_L3_Activity_Two\r\n{\r\n  public static void main(String[] args)\r\n  {\r\n    Scanner scan = new Scanner(System.in);\r\n    System.out.println(&quot;Enter array length:&quot;);\r\n    int len = scan.nextInt();\r\n    scan.nextLine();\r\n    String[] wordList = new String[len];\r\n    System.out.println(&quot;Enter values:&quot;);\r\n    for(int i = 0; i &lt; len; i++)\r\n    {\r\n      wordList[i] = scan.nextLine();\r\n    }\r\n    U6_L3_Activity_Two.removeVowels(wordList);\r\n  }\r\n}\r\n```\r\nThe error message i&#39;m getting says:\r\n```none\r\nU6_L3_Activity_Two.java:3: error: illegal initializer for char\r\nchar vowels = {\r\n^\r\n```\r\nI&#39;ve tried a bunch of different ways to make a list of vowels but none of them seem to work.","title":"removing vowels from array","body":"<p>The instructions &gt;&gt;<br />\nImplement the method named <code>removeVowels</code> which processes the array of strings named <code>words</code> by printing each string from <code>words</code> with only non-vowels on its own line.</p>\n<p>For example, if words contains:</p>\n<pre class=\"lang-java prettyprint-override\"><code>{&quot;every&quot;, &quot;nearing&quot;, &quot;checking&quot;, &quot;food&quot;, &quot;stand&quot;, &quot;value&quot;}\n</code></pre>\n<p>The method should output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>vry\nnrng\nchckng\nfd\nstnd\nvl\n</code></pre>\n<p>So far, I have:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class U6_L3_Activity_Two {\n  public static void removeVowels(String[] hit_str) {\n    char vowels = {\n      'a',\n      'e',\n      'i',\n      'o',\n      'u',\n      'A',\n      'E',\n      'I',\n      'O',\n      'U'\n    };\n    for (int i = 0; i &lt; hit_str.length; i++) {\n      if (find(vowels.begin(), vowels.end(),\n          hit_str[i]) != vowels.end()) {\n        hit_str = hit_str.replace(i, 1, &quot;&quot;);\n        i -= 1;\n      }\n    }\n    return hit_str;\n  }\n}\n</code></pre>\n<p>Runner:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class runner_U6_L3_Activity_Two\n{\n  public static void main(String[] args)\n  {\n    Scanner scan = new Scanner(System.in);\n    System.out.println(&quot;Enter array length:&quot;);\n    int len = scan.nextInt();\n    scan.nextLine();\n    String[] wordList = new String[len];\n    System.out.println(&quot;Enter values:&quot;);\n    for(int i = 0; i &lt; len; i++)\n    {\n      wordList[i] = scan.nextLine();\n    }\n    U6_L3_Activity_Two.removeVowels(wordList);\n  }\n}\n</code></pre>\n<p>The error message i'm getting says:</p>\n<pre class=\"lang-none prettyprint-override\"><code>U6_L3_Activity_Two.java:3: error: illegal initializer for char\nchar vowels = {\n^\n</code></pre>\n<p>I've tried a bunch of different ways to make a list of vowels but none of them seem to work.</p>\n"},{"tags":["java","cloud-document-ai"],"answers":[{"tags":[],"owner":{"account_id":8268323,"reputation":1936,"user_id":6216983,"display_name":"Holt Skinner"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1672849352,"creation_date":1672849352,"answer_id":75008332,"question_id":74941015,"body_markdown":"Currently, Document AI doesn&#39;t support creating labels with the REST API or client libraries.\r\n\r\nI recommend following the [Release Notes for Document AI](https://cloud.google.com/document-ai/docs/release-notes) for updates on supported features for the product.","title":"Need to create labels/entity types for a Custom Document Extractor using Java client libraries","body":"<p>Currently, Document AI doesn't support creating labels with the REST API or client libraries.</p>\n<p>I recommend following the <a href=\"https://cloud.google.com/document-ai/docs/release-notes\" rel=\"nofollow noreferrer\">Release Notes for Document AI</a> for updates on supported features for the product.</p>\n"}],"owner":{"account_id":27044863,"reputation":1,"user_id":20599181,"display_name":"Usha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1672849352,"creation_date":1672235121,"question_id":74941015,"body_markdown":"I have successfully created a Custom Document Extractor processor in the Google Cloud Console as described [here](https://cloud.google.com/document-ai/docs/workbench/build-custom-processor). I have defined labels trained new version as well.\r\n\r\nAlso I achieved the same programmatically using the client libraries with the processor using the latest Java client library `google.cloud.documentai.v1beta3`. I am able to train models and process documents.\r\n\r\nIs it possible to create labels / entities using the client libraries or REST calls?\r\n\r\n","title":"Need to create labels/entity types for a Custom Document Extractor using Java client libraries","body":"<p>I have successfully created a Custom Document Extractor processor in the Google Cloud Console as described <a href=\"https://cloud.google.com/document-ai/docs/workbench/build-custom-processor\" rel=\"nofollow noreferrer\">here</a>. I have defined labels trained new version as well.</p>\n<p>Also I achieved the same programmatically using the client libraries with the processor using the latest Java client library <code>google.cloud.documentai.v1beta3</code>. I am able to train models and process documents.</p>\n<p>Is it possible to create labels / entities using the client libraries or REST calls?</p>\n"},{"tags":["java","spring-boot"],"owner":{"account_id":27179488,"reputation":1,"user_id":20872504,"display_name":"user20872504"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672849018,"creation_date":1672846214,"question_id":75007722,"body_markdown":"I have two tokens one is brandwiseBearerToken which is a string and another is `thirdPartyPaymentGatewayToken` it belongs form my POJO class, and I want to pass these two values as dynamic. but in my case, I pass as hard-coded how I can make it dynamic. for your reference, I share my code.\r\n\r\nI want to dynamic exact at this point \r\n```java\r\nString thirdPartyPaymentGatewayTokenJson = ow.writeValueAsString(thirdPartyPaymentGatewayToken);\r\n\r\nRequestBody body = RequestBody.create(mediaType,thirdPartyPaymentGatewayTokenJson);\r\n```\r\nI don&#39;t want to pass hard-coded data\r\n\r\n```java\r\n public ThirdPartyPaymentGatewayResponse getThirdPartyPaymentGatewayToken(ThirdPartyPaymentGatewayToken thirdPartyPaymentGatewayToken, String managedBy)\r\n         throws AuthenticationException, UnknownHostException, BadRequestException {\r\n         String brandwiseBearerToken = authenticationToken();\r\n         String thirdPartyPaymentGatewayTokenJson = ow.writeValueAsString(thirdPartyPaymentGatewayToken);\r\n        \r\n         RequestBody body = RequestBody.create(mediaType, thirdPartyPaymentGatewayTokenJson);\r\n         Request request = new Request.Builder().url(brandwiseThirdPartypaymentGatewayURL)\r\n             \t\t\t\t\t\t.post(body)\r\n             \t\t\t\t\t\t.addHeader(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n             \t\t\t\t\t\t.addHeader(&quot;Bearer&quot;, brandwiseBearerToken)\r\n             \t\t\t\t\t\t.build();\r\n        \r\n         Response response = client.newCall(request).execute();\r\n         ResponseBody responseBody = response.body();\r\n        \r\n         JsonObject jsonObject = new Gson().fromJson(responseBody.string(), JsonObject.class);\r\n         JsonElement error = jsonObject.get(&quot;Message&quot;);\r\n        \r\n         }\r\n         ```","title":"How to pass dynamic value inside Request body","body":"<p>I have two tokens one is brandwiseBearerToken which is a string and another is <code>thirdPartyPaymentGatewayToken</code> it belongs form my POJO class, and I want to pass these two values as dynamic. but in my case, I pass as hard-coded how I can make it dynamic. for your reference, I share my code.</p>\n<p>I want to dynamic exact at this point</p>\n<pre class=\"lang-java prettyprint-override\"><code>String thirdPartyPaymentGatewayTokenJson = ow.writeValueAsString(thirdPartyPaymentGatewayToken);\n\nRequestBody body = RequestBody.create(mediaType,thirdPartyPaymentGatewayTokenJson);\n</code></pre>\n<p>I don't want to pass hard-coded data</p>\n<pre class=\"lang-java prettyprint-override\"><code> public ThirdPartyPaymentGatewayResponse getThirdPartyPaymentGatewayToken(ThirdPartyPaymentGatewayToken thirdPartyPaymentGatewayToken, String managedBy)\n         throws AuthenticationException, UnknownHostException, BadRequestException {\n         String brandwiseBearerToken = authenticationToken();\n         String thirdPartyPaymentGatewayTokenJson = ow.writeValueAsString(thirdPartyPaymentGatewayToken);\n        \n         RequestBody body = RequestBody.create(mediaType, thirdPartyPaymentGatewayTokenJson);\n         Request request = new Request.Builder().url(brandwiseThirdPartypaymentGatewayURL)\n                                    .post(body)\n                                    .addHeader(&quot;Content-Type&quot;, &quot;application/json&quot;)\n                                    .addHeader(&quot;Bearer&quot;, brandwiseBearerToken)\n                                    .build();\n        \n         Response response = client.newCall(request).execute();\n         ResponseBody responseBody = response.body();\n        \n         JsonObject jsonObject = new Gson().fromJson(responseBody.string(), JsonObject.class);\n         JsonElement error = jsonObject.get(&quot;Message&quot;);\n        \n         }\n         ```\n</code></pre>\n"},{"tags":["java","string","selenium","selenium-webdriver","compare"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":3,"creation_date":1672842168,"post_id":75006806,"comment_id":132363922,"body_markdown":"Don&#39;t compare strings. Extract the numerical part, convert to a number, and compare those.","body":"Don&#39;t compare strings. Extract the numerical part, convert to a number, and compare those."},{"owner":{"account_id":9804742,"reputation":3296,"user_id":8157304,"accept_rate":75,"display_name":"sound wave"},"score":0,"creation_date":1672842209,"post_id":75006806,"comment_id":132363935,"body_markdown":"you should split the string on the new line character `\\n` then keep only the one you need","body":"you should split the string on the new line character <code>\\n</code> then keep only the one you need"},{"owner":{"account_id":24682121,"reputation":75,"user_id":18575723,"display_name":"Jackie M"},"score":0,"creation_date":1672842300,"post_id":75006806,"comment_id":132363972,"body_markdown":"@soundwave How to do that?","body":"@soundwave How to do that?"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1672842316,"post_id":75006806,"comment_id":132363976,"body_markdown":"&quot;*`if(tooltiptext.getText()&gt;30c){`*&quot; - This is not legal java syntax; `30c` is not a literal.","body":"&quot;<i><code>if(tooltiptext.getText()&gt;30c){</code></i>&quot; - This is not legal java syntax; <code>30c</code> is not a literal."},{"owner":{"account_id":24682121,"reputation":75,"user_id":18575723,"display_name":"Jackie M"},"score":0,"creation_date":1672842391,"post_id":75006806,"comment_id":132364000,"body_markdown":"@Turing85 How to do that?","body":"@Turing85 How to do that?"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1672842452,"post_id":75006806,"comment_id":132364027,"body_markdown":"Please read: [Using Regular Expressions to Extract a Value in Java](https://stackoverflow.com/questions/237061/using-regular-expressions-to-extract-a-value-in-java)","body":"Please read: <a href=\"https://stackoverflow.com/questions/237061/using-regular-expressions-to-extract-a-value-in-java\">Using Regular Expressions to Extract a Value in Java</a>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1672842586,"post_id":75006806,"comment_id":132364085,"body_markdown":"`Scanner s = new Scanner(getText());` is also an option with `s.nextLine`","body":"<code>Scanner s = new Scanner(getText());</code> is also an option with <code>s.nextLine</code>"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1672843249,"post_id":75006806,"comment_id":132364315,"body_markdown":"You need to isolate the numerical value, then convert it to an `Integer` or `Double`. Then you can compare it reliably. `split` your input to get the individual lines, then use a regex to find the number.","body":"You need to isolate the numerical value, then convert it to an <code>Integer</code> or <code>Double</code>. Then you can compare it reliably. <code>split</code> your input to get the individual lines, then use a regex to find the number."}],"answers":[{"comments":[{"owner":{"account_id":24682121,"reputation":75,"user_id":18575723,"display_name":"Jackie M"},"score":0,"creation_date":1672846423,"post_id":75007281,"comment_id":132365612,"body_markdown":"I am getting `java.lang.NumberFormatException` when I try to print `tempInCelsius`.","body":"I am getting <code>java.lang.NumberFormatException</code> when I try to print <code>tempInCelsius</code>."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1672847824,"post_id":75007281,"comment_id":132366193,"body_markdown":"@JackieM [Cannot reproduce](https://ideone.com/3Kp6mT).","body":"@JackieM <a href=\"https://ideone.com/3Kp6mT\" rel=\"nofollow noreferrer\">Cannot reproduce</a>."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1672849590,"post_id":75007281,"comment_id":132366803,"body_markdown":"*I&#39;m getting...* You *did* copy and paste the code right..?","body":"<i>I&#39;m getting...</i> You <i>did</i> copy and paste the code right..?"}],"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672844323,"creation_date":1672844323,"answer_id":75007281,"question_id":75006806,"body_markdown":"You might try the following:\r\n\r\n    int tempInCelsius = Integer.parseInt(getText().replaceAll(&quot;(?s).*?\\\\b(\\\\d+)c\\\\b.*&quot;, &quot;$1&quot;));\r\n\r\n","title":"How to compare String value to another string after using getText()?","body":"<p>You might try the following:</p>\n<pre><code>int tempInCelsius = Integer.parseInt(getText().replaceAll(&quot;(?s).*?\\\\b(\\\\d+)c\\\\b.*&quot;, &quot;$1&quot;));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16161082,"reputation":113,"user_id":11667138,"display_name":"Kashan Nadeem"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672848502,"creation_date":1672848502,"answer_id":75008182,"question_id":75006806,"body_markdown":"This should do it:\r\n\r\n```\r\nString tooltipText = &quot;outside\\ntemperature\\n20c&quot;;\r\n// ensure that we parse only the last line, so if digits appear in the other lines, there is no impact\r\nString toolipTempText = tooltipText.split(&quot;\\n&quot;)[2];\r\nint tempInCelsius = Integer.parseInt(toolipTempText.replaceAll(&quot;[^0-9]&quot;, &quot;&quot;));\r\nif (tempInCelsius &gt; 30) {\r\n  System.out.println(&quot;temperature is too low outside&quot;);\r\n} else {\r\n  System.out.println(&quot;temperature is too hot outside&quot;);\r\n}\r\n```","title":"How to compare String value to another string after using getText()?","body":"<p>This should do it:</p>\n<pre><code>String tooltipText = &quot;outside\\ntemperature\\n20c&quot;;\n// ensure that we parse only the last line, so if digits appear in the other lines, there is no impact\nString toolipTempText = tooltipText.split(&quot;\\n&quot;)[2];\nint tempInCelsius = Integer.parseInt(toolipTempText.replaceAll(&quot;[^0-9]&quot;, &quot;&quot;));\nif (tempInCelsius &gt; 30) {\n  System.out.println(&quot;temperature is too low outside&quot;);\n} else {\n  System.out.println(&quot;temperature is too hot outside&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":24682121,"reputation":75,"user_id":18575723,"display_name":"Jackie M"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":175,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":75008182,"answer_count":2,"score":-2,"last_activity_date":1672848502,"creation_date":1672842080,"question_id":75006806,"body_markdown":"When I extract tooltiptext using `getText()` method, output\r\ncomes in three lines: \r\n\r\n    outside \r\n    temperature\r\n    20c\r\n\r\nBut how to compare extracted `20c` to another string `30c`?\r\n\r\nMy approach:\r\n\r\n    if (tooltiptext.getText() &gt; 30c) {\r\n        System.out.println(&quot;temperature is too low outside&quot;);\r\n    } else {\r\n        System.out.println(&quot;temperature is hot outside&quot;);\r\n    }\r\n\r\n","title":"How to compare String value to another string after using getText()?","body":"<p>When I extract tooltiptext using <code>getText()</code> method, output\ncomes in three lines:</p>\n<pre><code>outside \ntemperature\n20c\n</code></pre>\n<p>But how to compare extracted <code>20c</code> to another string <code>30c</code>?</p>\n<p>My approach:</p>\n<pre><code>if (tooltiptext.getText() &gt; 30c) {\n    System.out.println(&quot;temperature is too low outside&quot;);\n} else {\n    System.out.println(&quot;temperature is hot outside&quot;);\n}\n</code></pre>\n"},{"tags":["java","maven","tomcat","properties-file"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1672841639,"post_id":75006664,"comment_id":132363701,"body_markdown":"Better to load your files/images as resources:\n[Netbeans](https://technojeeves.com/index.php/aliasjava1/78-loading-files-as-resources-in-java-with-netbeans)\n[Eclipse](https://technojeeves.com/index.php/aliasjava1/80-loading-files-as-resources-in-java-with-eclipse)","body":"Better to load your files/images as resources: <a href=\"https://technojeeves.com/index.php/aliasjava1/78-loading-files-as-resources-in-java-with-netbeans\" rel=\"nofollow noreferrer\">Netbeans</a> <a href=\"https://technojeeves.com/index.php/aliasjava1/80-loading-files-as-resources-in-java-with-eclipse\" rel=\"nofollow noreferrer\">Eclipse</a>"},{"owner":{"account_id":20556015,"reputation":23,"user_id":17969715,"display_name":"frann"},"score":0,"creation_date":1672844526,"post_id":75006664,"comment_id":132364777,"body_markdown":"I would like to be able to do it but in the project I am in, it is set as I have shown and I do not have permission to change it :(","body":"I would like to be able to do it but in the project I am in, it is set as I have shown and I do not have permission to change it :("},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1672844722,"post_id":75006664,"comment_id":132364864,"body_markdown":"Then you need to &#39;calculate&#39; the [current directory](https://technojeeves.com/index.php/aliasjava1/91-find-the-current-directory-in-java)\n and use `Path` and/or `Paths` to correctly relativise. You should check out `getRealPath` too","body":"Then you need to &#39;calculate&#39; the <a href=\"https://technojeeves.com/index.php/aliasjava1/91-find-the-current-directory-in-java\" rel=\"nofollow noreferrer\">current directory</a>  and use <code>Path</code> and/or <code>Paths</code> to correctly relativise. You should check out <code>getRealPath</code> too"},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":2,"creation_date":1672846491,"post_id":75006664,"comment_id":132365644,"body_markdown":"File is not where you think it is.","body":"File is not where you think it is."},{"owner":{"account_id":20556015,"reputation":23,"user_id":17969715,"display_name":"frann"},"score":0,"creation_date":1672848556,"post_id":75006664,"comment_id":132366479,"body_markdown":"Hi! I have tried the routes on a main class as I show in the code and both work, but after deploy the project in tomcat it does not work, it shows null pointer exepction","body":"Hi! I have tried the routes on a main class as I show in the code and both work, but after deploy the project in tomcat it does not work, it shows null pointer exepction"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1672849866,"post_id":75006664,"comment_id":132366914,"body_markdown":"If you&#39;re determined to access resources as files, you need to ensure that the file is going to be present *after* deployment on the server. Did you do that?","body":"If you&#39;re determined to access resources as files, you need to ensure that the file is going to be present <i>after</i> deployment on the server. Did you do that?"},{"owner":{"account_id":3142246,"reputation":2632,"user_id":2657515,"accept_rate":75,"display_name":"JonathanDavidArndt"},"score":0,"creation_date":1672859133,"post_id":75006664,"comment_id":132370006,"body_markdown":"Instead of showing the structure of the project, we will need to see the structure of the deployed .WAR on the Tomcat server.","body":"Instead of showing the structure of the project, we will need to see the structure of the deployed .WAR on the Tomcat server."}],"owner":{"account_id":20556015,"reputation":23,"user_id":17969715,"display_name":"frann"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":250,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1672848430,"creation_date":1672841398,"question_id":75006664,"body_markdown":"I am trying to read a .properties file from a class that is in a different folder than this .properties. Firstly, I have used another class with a main (testLogin.java) to see if the paths I use are correct and success!\r\n\r\nI used an absolute path to read this file and it hasn&#39;t given me any problems, in the same way I&#39;ve tried using a relative one and everything is correct.\r\n\r\n**Absolute path:** &quot;C:\\\\User\\\\Documents\\\\project-web\\\\src\\\\main\\\\config\\\\local\\\\application.properties&quot;\r\n\r\n**Relative path:** &quot;src/main/config/local/application.properties&quot;\r\n\r\nI don&#39;t know if this error can occur because the file .properties is in a folder (src/main/config/development/application.properties) and not in a package as it is said in this post\r\nhttps://softwareengineering.stackexchange.com/questions/238208/properties-files-in-regular-src-folder-okay\r\n\r\nIn the class that I want to implement this function (login.java) **I use the absolute path** to test and it works for me. I compile, run tomcat and everything is correct. **However when implementing the relative**, I don&#39;t :(, compile, run tomcat and get null. Do you know what this could be? I&#39;m using Servlets and Maven for the build. My code:\r\n\r\nlogin.java\r\n```\r\npublic void doAction(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException{\r\n   Properties properties = new Properties();\r\n\r\n//Using relative path\r\n   try(InputStream is = new FileInputStream(&quot;src/main/config/local/application.properties&quot;)){ //null when i test after the deploy of the .war in tomcat. But if I execute into a main class it works. It&#180;s strange because only with tomcat it doesn&#180;t works\r\n       properties.load(is);\r\n       System.out.println(properties.getProperty(&quot;enviroment&quot;));\r\n   }catch(FileNotFoundException e){\r\n       e.printstackTrace();\r\n   }catch(IOException e){\r\n       e.printstackTrace();\r\n   }\r\n\r\n//Using absolute path\r\n   try(InputStream is = new FileInputStream(&quot;C:\\\\Usuario\\\\Documents\\\\project-web\\\\src\\\\main\\\\config\\\\local\\\\application.properties&quot;)){ //OK\r\n       properties.load(is);\r\n       System.out.println(properties.getProperty(&quot;enviroment&quot;)); //localhost\r\n   }catch(FileNotFoundException e){\r\n       e.printstackTrace();\r\n   }catch(IOException e){\r\n       e.printstackTrace();\r\n   }\r\n}\r\n\r\n```\r\n\r\nStructure of my project:\r\n\r\n[![Structure][1]][1]\r\n\r\n\r\nError when i try go in after deploy with mvn tomcat7:run\r\n[![Error Cmd Tomcat][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LKKMc.jpg\r\n  [2]: https://i.stack.imgur.com/O4A1x.jpg","title":"I have a null when using a relative path when reading a FileInputStream","body":"<p>I am trying to read a .properties file from a class that is in a different folder than this .properties. Firstly, I have used another class with a main (testLogin.java) to see if the paths I use are correct and success!</p>\n<p>I used an absolute path to read this file and it hasn't given me any problems, in the same way I've tried using a relative one and everything is correct.</p>\n<p><strong>Absolute path:</strong> &quot;C:\\User\\Documents\\project-web\\src\\main\\config\\local\\application.properties&quot;</p>\n<p><strong>Relative path:</strong> &quot;src/main/config/local/application.properties&quot;</p>\n<p>I don't know if this error can occur because the file .properties is in a folder (src/main/config/development/application.properties) and not in a package as it is said in this post\n<a href=\"https://softwareengineering.stackexchange.com/questions/238208/properties-files-in-regular-src-folder-okay\">https://softwareengineering.stackexchange.com/questions/238208/properties-files-in-regular-src-folder-okay</a></p>\n<p>In the class that I want to implement this function (login.java) <strong>I use the absolute path</strong> to test and it works for me. I compile, run tomcat and everything is correct. <strong>However when implementing the relative</strong>, I don't :(, compile, run tomcat and get null. Do you know what this could be? I'm using Servlets and Maven for the build. My code:</p>\n<p>login.java</p>\n<pre><code>public void doAction(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException{\n   Properties properties = new Properties();\n\n//Using relative path\n   try(InputStream is = new FileInputStream(&quot;src/main/config/local/application.properties&quot;)){ //null when i test after the deploy of the .war in tomcat. But if I execute into a main class it works. It´s strange because only with tomcat it doesn´t works\n       properties.load(is);\n       System.out.println(properties.getProperty(&quot;enviroment&quot;));\n   }catch(FileNotFoundException e){\n       e.printstackTrace();\n   }catch(IOException e){\n       e.printstackTrace();\n   }\n\n//Using absolute path\n   try(InputStream is = new FileInputStream(&quot;C:\\\\Usuario\\\\Documents\\\\project-web\\\\src\\\\main\\\\config\\\\local\\\\application.properties&quot;)){ //OK\n       properties.load(is);\n       System.out.println(properties.getProperty(&quot;enviroment&quot;)); //localhost\n   }catch(FileNotFoundException e){\n       e.printstackTrace();\n   }catch(IOException e){\n       e.printstackTrace();\n   }\n}\n\n</code></pre>\n<p>Structure of my project:</p>\n<p><a href=\"https://i.stack.imgur.com/LKKMc.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LKKMc.jpg\" alt=\"Structure\" /></a></p>\n<p>Error when i try go in after deploy with mvn tomcat7:run\n<a href=\"https://i.stack.imgur.com/O4A1x.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/O4A1x.jpg\" alt=\"Error Cmd Tomcat\" /></a></p>\n"},{"tags":["java","spring","spring-security","spring-boot"],"comments":[{"owner":{"account_id":87204,"reputation":22463,"user_id":241990,"accept_rate":100,"display_name":"Shaun the Sheep"},"score":3,"creation_date":1409338889,"post_id":25570237,"comment_id":39942223,"body_markdown":"No, it doesn&#39;t call the init methods. See the [Filter Lifecycle](http://docs.spring.io/spring-security/site/docs/3.2.5.RELEASE/apidocs/org/springframework/security/web/FilterChainProxy.html) section in the class Javadoc.","body":"No, it doesn&#39;t call the init methods. See the <a href=\"http://docs.spring.io/spring-security/site/docs/3.2.5.RELEASE/apidocs/org/springframework/security/web/FilterChainProxy.html\" rel=\"nofollow noreferrer\">Filter Lifecycle</a> section in the class Javadoc."},{"owner":{"account_id":296495,"reputation":17580,"user_id":601493,"accept_rate":73,"display_name":"Jan Zyka"},"score":0,"creation_date":1409665899,"post_id":25570237,"comment_id":40034468,"body_markdown":"This answers my question, thank you. If you wanna make it an answer I would accept it immediately.","body":"This answers my question, thank you. If you wanna make it an answer I would accept it immediately."}],"answers":[{"tags":[],"owner":{"account_id":13362718,"reputation":763,"user_id":9644150,"display_name":"muditrustagii"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672848381,"creation_date":1672848381,"answer_id":75008160,"question_id":25570237,"body_markdown":"Yes, `FilterChainProxy` doesnt invoke the init() and destroy() methods. But for me it was a necessity so i used `DelegatingFilterProxy`, it does have a way to alter this via the &quot;targetFilterLifecycle&quot; property, when it&#39;s set to true. This way the init() and destroy() will be invoked as usual. Read more here - https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/filter/DelegatingFilterProxy.html ","title":"Why is init() not called on filters within FilterChainProxy in spring security?","body":"<p>Yes, <code>FilterChainProxy</code> doesnt invoke the init() and destroy() methods. But for me it was a necessity so i used <code>DelegatingFilterProxy</code>, it does have a way to alter this via the &quot;targetFilterLifecycle&quot; property, when it's set to true. This way the init() and destroy() will be invoked as usual. Read more here - <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/filter/DelegatingFilterProxy.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/filter/DelegatingFilterProxy.html</a></p>\n"}],"owner":{"account_id":296495,"reputation":17580,"user_id":601493,"accept_rate":73,"display_name":"Jan Zyka"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2494,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1672848381,"creation_date":1409321948,"question_id":25570237,"body_markdown":"I have configured my own filter to be part of `FilterChainProxy` in spring security. I was surprised that `init()` method (implemented from `Filter` interface) is not being called on this filter. When I moved the filter out of the `FilterChainProxy` to the main chain the `init()` method is called as expected\r\n\r\nDoes `FilterChainProxy` treat its filters differently?\r\n\r\nOne Boot note:\r\n\r\nI had to provide `FilterRegistrationBean` with `enabled=false` to avoid registration to the main filter chain but I don&#39;t believe this is the cause as I have seen the behaviour in non-boot applicaitons.","title":"Why is init() not called on filters within FilterChainProxy in spring security?","body":"<p>I have configured my own filter to be part of <code>FilterChainProxy</code> in spring security. I was surprised that <code>init()</code> method (implemented from <code>Filter</code> interface) is not being called on this filter. When I moved the filter out of the <code>FilterChainProxy</code> to the main chain the <code>init()</code> method is called as expected</p>\n\n<p>Does <code>FilterChainProxy</code> treat its filters differently?</p>\n\n<p>One Boot note:</p>\n\n<p>I had to provide <code>FilterRegistrationBean</code> with <code>enabled=false</code> to avoid registration to the main filter chain but I don't believe this is the cause as I have seen the behaviour in non-boot applicaitons.</p>\n"},{"tags":["java","forms","parameters","jax-rs","resteasy"],"answers":[{"comments":[{"owner":{"account_id":724774,"reputation":14026,"user_id":668650,"accept_rate":77,"display_name":"Kevin Rave"},"score":0,"creation_date":1372881745,"post_id":17457026,"comment_id":25364441,"body_markdown":"Would you be able to put a complete example? I tried even without @Context param. The binding just did not work.","body":"Would you be able to put a complete example? I tried even without @Context param. The binding just did not work."},{"owner":{"account_id":27720,"reputation":13164,"user_id":73446,"accept_rate":80,"display_name":"gregwhitaker"},"score":0,"creation_date":1372881883,"post_id":17457026,"comment_id":25364510,"body_markdown":"What version of resteasy are you using?  I just looked in the docs and I don&#39;t see any mention of injecting &quot;@Context&quot; into &quot;@Form&quot; like I have seen in previous versions of resteasy.","body":"What version of resteasy are you using?  I just looked in the docs and I don&#39;t see any mention of injecting &quot;@Context&quot; into &quot;@Form&quot; like I have seen in previous versions of resteasy."},{"owner":{"account_id":27720,"reputation":13164,"user_id":73446,"accept_rate":80,"display_name":"gregwhitaker"},"score":0,"creation_date":1372882231,"post_id":17457026,"comment_id":25364699,"body_markdown":"@Kevin - I just created the example above and the HttpRequest was injected correctly.  I am using version 2.3.6 of RestEasy.","body":"@Kevin - I just created the example above and the HttpRequest was injected correctly.  I am using version 2.3.6 of RestEasy."},{"owner":{"account_id":724774,"reputation":14026,"user_id":668650,"accept_rate":77,"display_name":"Kevin Rave"},"score":0,"creation_date":1372882333,"post_id":17457026,"comment_id":25364758,"body_markdown":"I am just using &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\n&lt;artifactId&gt;resteasy-jaxrs&lt;/artifactId&gt;","body":"I am just using &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt; &lt;artifactId&gt;resteasy-jaxrs&lt;/artifactId&gt;"},{"owner":{"account_id":27720,"reputation":13164,"user_id":73446,"accept_rate":80,"display_name":"gregwhitaker"},"score":0,"creation_date":1372883277,"post_id":17457026,"comment_id":25365221,"body_markdown":"@Kevin - See my edited answer.  I added the code that I used to prove it works.","body":"@Kevin - See my edited answer.  I added the code that I used to prove it works."}],"tags":[],"owner":{"account_id":27720,"reputation":13164,"user_id":73446,"accept_rate":80,"display_name":"gregwhitaker"},"comment_count":5,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1372883920,"creation_date":1372881460,"answer_id":17457026,"question_id":17455291,"body_markdown":"You can inject `@Context` values into properties just like the form, path, and header parameters.\r\n\r\nExample Resource Method:\r\n\r\n\t@POST\r\n\t@Path(&quot;/test/{personId}/{addressId}&quot;)\r\n\tpublic void createUser(@Form MyForm form)\r\n\t{\r\n\t\tSystem.out.println(form.toString());\r\n\t}    \r\nExample Form Class:\r\n    \r\n    public class MyForm {\r\n    \r\n    \tprivate String personId;\r\n    \tprivate String addressId;\r\n    \tprivate HttpRequest request;\r\n    \t\r\n    \tpublic MyForm() {\r\n    \t\t\r\n    \t}\r\n    \t\r\n        @PathParam(&quot;personId&quot;)\r\n        public void setPersonId(String personId) {\r\n             this.personId = personId;\r\n        }\r\n    \r\n        @PathParam(&quot;addressId&quot;)\r\n        public void setAddressId(String addressId) {\r\n             this.addressId = addressId;\r\n        }\r\n    \r\n    \tpublic HttpRequest getRequest() {\r\n    \t\treturn request;\r\n    \t}\r\n    \r\n    \t@Context\r\n    \tpublic void setRequest(HttpRequest request) {\r\n    \t\tthis.request = request;\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn String.format(&quot;MyForm: [personId: &#39;%s&#39;, addressId: &#39;%s&#39;, request: &#39;%s&#39;]&quot;, \r\n    \t\t\t\tthis.personId, this.addressId, this.request);\r\n    \t}\r\n    }\r\n\r\nUrl:\r\n\r\n    http://localhost:7016/v1/test/1/1\r\n\r\n\r\n\r\nOutput:\r\n\r\n    MyForm: [personId: &#39;1&#39;, addressId: &#39;1&#39;, request: &#39;org.jboss.resteasy.plugins.server.servlet.HttpServletInputMessage@15d694da&#39;]\r\n\r\n","title":"Parameter binding to a VO with @Form- RestEasy - JAX-Rs","body":"<p>You can inject <code>@Context</code> values into properties just like the form, path, and header parameters.</p>\n\n<p>Example Resource Method:</p>\n\n<pre><code>@POST\n@Path(\"/test/{personId}/{addressId}\")\npublic void createUser(@Form MyForm form)\n{\n    System.out.println(form.toString());\n}    \n</code></pre>\n\n<p>Example Form Class:</p>\n\n<pre><code>public class MyForm {\n\n    private String personId;\n    private String addressId;\n    private HttpRequest request;\n\n    public MyForm() {\n\n    }\n\n    @PathParam(\"personId\")\n    public void setPersonId(String personId) {\n         this.personId = personId;\n    }\n\n    @PathParam(\"addressId\")\n    public void setAddressId(String addressId) {\n         this.addressId = addressId;\n    }\n\n    public HttpRequest getRequest() {\n        return request;\n    }\n\n    @Context\n    public void setRequest(HttpRequest request) {\n        this.request = request;\n    }\n\n    @Override\n    public String toString() {\n        return String.format(\"MyForm: [personId: '%s', addressId: '%s', request: '%s']\", \n                this.personId, this.addressId, this.request);\n    }\n}\n</code></pre>\n\n<p>Url:</p>\n\n<pre><code>http://localhost:7016/v1/test/1/1\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>MyForm: [personId: '1', addressId: '1', request: 'org.jboss.resteasy.plugins.server.servlet.HttpServletInputMessage@15d694da']\n</code></pre>\n"},{"tags":[],"owner":{"account_id":329138,"reputation":8059,"user_id":652497,"accept_rate":91,"display_name":"Jonathan S. Fisher"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574737943,"creation_date":1574737943,"answer_id":59043202,"question_id":17455291,"body_markdown":"I thought I would add an answer for those that are using pure JAX-RS not not RestEasy specifically. Faced with the same problem, and surprised that JAX-RS doesn&#39;t have out-of-box support for http Form binding to Java Objects, I created a Java API to marshal/unmarshal java objects to forms, and then used that to create a JAX-RS messagebody reader and writer.\r\n\r\nhttps://github.com/exabrial/form-binding","title":"Parameter binding to a VO with @Form- RestEasy - JAX-Rs","body":"<p>I thought I would add an answer for those that are using pure JAX-RS not not RestEasy specifically. Faced with the same problem, and surprised that JAX-RS doesn't have out-of-box support for http Form binding to Java Objects, I created a Java API to marshal/unmarshal java objects to forms, and then used that to create a JAX-RS messagebody reader and writer.</p>\n\n<p><a href=\"https://github.com/exabrial/form-binding\" rel=\"nofollow noreferrer\">https://github.com/exabrial/form-binding</a></p>\n"}],"owner":{"account_id":724774,"reputation":14026,"user_id":668650,"accept_rate":77,"display_name":"Kevin Rave"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1383,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":17457026,"answer_count":2,"score":1,"last_activity_date":1672848292,"creation_date":1372875022,"question_id":17455291,"body_markdown":"I have a few variables as `@PathParam`. I want to put them in a Bean and accept all of them in one.\r\n\r\n    public void show( @PathParam(&quot;personId&quot;&gt; String personId, \r\n                      @PathParam(&quot;addressId&quot;) String addressId \r\n                      @Context HttpRequest request) {\r\n           // Code\r\n    }\r\n\r\nNow I would like to put all of the parameters in a Bean/VO with `@Form` argument.\r\nMy class:\r\n\r\n    class RData {\r\n       \tprivate String personId;\r\n        private String addressId;\r\n        private InputStream requestBody;\r\n\r\n        @PathParam(&quot;personId&quot;)\r\n        public void setPersonId(String personId) {\r\n             this.personId = personId;\r\n        }\r\n\r\n        @PathParam(&quot;addressId&quot;)\r\n        public void setAddressId(String addressId) {\r\n             this.addressId = addressId;\r\n        }\r\n\r\n        // NOW HERE I NEED TO BIND HttpRequest Context object  to request object in my VO.\r\n        // That is @Context param in the original method.\r\n    }\r\n\r\nMy method would change to:\r\n\r\n    public void show( @Form RData rData) {\r\n           // Code\r\n    }\r\n\r\n\r\nMy VO class above contains what I need to do.\r\nSo I need to map `@Context HttpRequest request` to `HttpRequest` instance variable in my VO.\r\n\r\nHow to do that? Because it does not have an attribute name like `@PathParam`.\r\n","title":"Parameter binding to a VO with @Form- RestEasy - JAX-Rs","body":"<p>I have a few variables as <code>@PathParam</code>. I want to put them in a Bean and accept all of them in one.</p>\n<pre><code>public void show( @PathParam(&quot;personId&quot;&gt; String personId, \n                  @PathParam(&quot;addressId&quot;) String addressId \n                  @Context HttpRequest request) {\n       // Code\n}\n</code></pre>\n<p>Now I would like to put all of the parameters in a Bean/VO with <code>@Form</code> argument.\nMy class:</p>\n<pre><code>class RData {\n    private String personId;\n    private String addressId;\n    private InputStream requestBody;\n\n    @PathParam(&quot;personId&quot;)\n    public void setPersonId(String personId) {\n         this.personId = personId;\n    }\n\n    @PathParam(&quot;addressId&quot;)\n    public void setAddressId(String addressId) {\n         this.addressId = addressId;\n    }\n\n    // NOW HERE I NEED TO BIND HttpRequest Context object  to request object in my VO.\n    // That is @Context param in the original method.\n}\n</code></pre>\n<p>My method would change to:</p>\n<pre><code>public void show( @Form RData rData) {\n       // Code\n}\n</code></pre>\n<p>My VO class above contains what I need to do.\nSo I need to map <code>@Context HttpRequest request</code> to <code>HttpRequest</code> instance variable in my VO.</p>\n<p>How to do that? Because it does not have an attribute name like <code>@PathParam</code>.</p>\n"},{"tags":["java","spring-boot","apache-camel","junit5"],"comments":[{"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"score":0,"creation_date":1672830119,"post_id":75003600,"comment_id":132359825,"body_markdown":"You could use the `template.sendBody` method","body":"You could use the <code>template.sendBody</code> method"},{"owner":{"account_id":26014900,"reputation":23,"user_id":20825594,"display_name":"John"},"score":0,"creation_date":1672830258,"post_id":75003600,"comment_id":132359872,"body_markdown":"I have a predicate checking headers so I need to send headers, what difference is there between template.sendBody and         template.sendBodyAndHeaders? Issue seems to be that when I mock the endpoint with &quot;mock:&quot; in test class it does not puck up the .to() endpoint - I manually added the &quot;mock:&quot; into the route as well and it worked but I am sure this is not the proper way..","body":"I have a predicate checking headers so I need to send headers, what difference is there between template.sendBody and         template.sendBodyAndHeaders? Issue seems to be that when I mock the endpoint with &quot;mock:&quot; in test class it does not puck up the .to() endpoint - I manually added the &quot;mock:&quot; into the route as well and it worked but I am sure this is not the proper way.."},{"owner":{"account_id":26014900,"reputation":23,"user_id":20825594,"display_name":"John"},"score":0,"creation_date":1672831628,"post_id":75003600,"comment_id":132360270,"body_markdown":"Believe I may need to use Advice with not sure how to implement...","body":"Believe I may need to use Advice with not sure how to implement..."}],"answers":[{"comments":[{"owner":{"account_id":26014900,"reputation":23,"user_id":20825594,"display_name":"John"},"score":0,"creation_date":1672838535,"post_id":75005927,"comment_id":132362495,"body_markdown":"is&quot;yourrouteID&quot; the .from() or .to in your camel route? I want to send to the actual .from() but want the .from() redirected to the mock I am gonna make","body":"is&quot;yourrouteID&quot; the .from() or .to in your camel route? I want to send to the actual .from() but want the .from() redirected to the mock I am gonna make"},{"owner":{"account_id":26014900,"reputation":23,"user_id":20825594,"display_name":"John"},"score":0,"creation_date":1672839481,"post_id":75005927,"comment_id":132362849,"body_markdown":"(updated the question with new edit","body":"(updated the question with new edit"}],"tags":[],"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672837733,"creation_date":1672837733,"answer_id":75005927,"question_id":75003600,"body_markdown":"Here is an example with route advice. Note that you probably will need to do some cleanup after your test to reset the data!\r\n\r\nA bit older code in kotlin but should get the idea:\r\n```\r\n@SpringBootTest\r\nclass YourTest {\r\n    @Autowired\r\n    private lateinit var camelContext: CamelContext\r\n\r\n    @Autowired\r\n    private lateinit var template: ProducerTemplate\r\n\r\n    // No MockEndpoints\r\n\r\n    ...\r\n\r\n    @Throws(Exception::class)\r\n    private fun configureMockEndpoint() {\r\n        AdviceWith.adviceWith(\r\n            camelContext,\r\n            &quot;yourRouteId&quot;\r\n        ) { adviceWithRouteBuilder: AdviceWithRouteBuilder -&gt;\r\n            adviceWithRouteBuilder.replaceFromWith(&quot;direct:test&quot;)\r\n        }\r\n    }\r\n\r\n    @Test\r\n    fun yourTest() {\r\n        configureMockEndpoint()\r\n        template.sendBodyAndHeader(&quot;direct:test&quot;, &quot;Your headers&quot;, &quot;&quot;&quot;\r\n            your content\r\n        &quot;&quot;&quot;.trimIndent())\r\n        // asserts\r\n        // cleanups\r\n    }\r\n\r\n}\r\n```","title":"Writing a apache camel test case but getting this error","body":"<p>Here is an example with route advice. Note that you probably will need to do some cleanup after your test to reset the data!</p>\n<p>A bit older code in kotlin but should get the idea:</p>\n<pre><code>@SpringBootTest\nclass YourTest {\n    @Autowired\n    private lateinit var camelContext: CamelContext\n\n    @Autowired\n    private lateinit var template: ProducerTemplate\n\n    // No MockEndpoints\n\n    ...\n\n    @Throws(Exception::class)\n    private fun configureMockEndpoint() {\n        AdviceWith.adviceWith(\n            camelContext,\n            &quot;yourRouteId&quot;\n        ) { adviceWithRouteBuilder: AdviceWithRouteBuilder -&gt;\n            adviceWithRouteBuilder.replaceFromWith(&quot;direct:test&quot;)\n        }\n    }\n\n    @Test\n    fun yourTest() {\n        configureMockEndpoint()\n        template.sendBodyAndHeader(&quot;direct:test&quot;, &quot;Your headers&quot;, &quot;&quot;&quot;\n            your content\n        &quot;&quot;&quot;.trimIndent())\n        // asserts\n        // cleanups\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":26014900,"reputation":23,"user_id":20825594,"display_name":"John"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":348,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1672848282,"creation_date":1672825475,"question_id":75003600,"body_markdown":"am writing a camel route test case but am getting this issue,  have also included the camel route. Have debugged looks like the object is flowing through properly but on my assertion it seems to fail... \r\n\r\n\r\n\r\n&gt; java.lang.AssertionError:\r\n&gt; mock://seda:processMessage?blockWhenFull=true Received message count.\r\n&gt; Expected: &lt;1&gt; but was: &lt;0&gt;\r\n\r\n\t\r\n\r\n\r\n    import java.math.BigDecimal;\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    \r\n    import org.apache.camel.EndpointInject;\r\n    import org.apache.camel.ProducerTemplate;\r\n    import org.apache.camel.component.mock.MockEndpoint;\r\n    import org.apache.camel.test.spring.MockEndpoints;\r\n    import org.apache.camel.test.spring.junit5.CamelSpringBootTest;\r\n    import org.junit.jupiter.api.Test;\r\n    import org.mockito.Mock;\r\n    import org.mockito.Mockito;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.boot.test.context.SpringBootTest;\r\n    \r\n    import com.fasterxml.jackson.core.JsonProcessingException;\r\n    import com.sams.pricing.prism.data.processor.model.CostIQRetail;\r\n    import com.sams.pricing.prism.data.processor.service.RulesEngineClient;\r\n    import com.sams.pricing.prism.data.processor.util.Endpoints;\r\n    \r\n    \r\n    \r\n    @SpringBootTest\r\n    @CamelSpringBootTest\r\n    @MockEndpoints( Endpoints.SEDA_PROCESS_ENDPOINT)\r\n    public class CamelRouteTests3  {\r\n    \r\n    \r\n    \t\r\n    \r\n    \t    @Autowired\r\n    \t    private ProducerTemplate template;\r\n    \r\n    \t    @EndpointInject(&quot;mock:&quot;+ Endpoints.SEDA_PROCESS_ENDPOINT)\r\n    \t    private MockEndpoint mock;\r\n    \r\n    \t    @Mock\r\n    \t    private RulesEngineClient rulesEngineClientMock;\r\n    \r\n    \t\r\n    \t\r\n    \r\n    \tpublic CostIQRetail costIQObject() {\r\n    \r\n    \t\tCostIQRetail obj = new CostIQRetail();\r\n    \r\n    \t\tobj.setItemNbr(123);\r\n    \t\tobj.setLocationNbr(4931);\r\n    \t\tobj.setIsDcFlag(false) ;\r\n    \t\tobj.setStatus(&quot;SUCCESS&quot;);\r\n    \t\tobj.setOrderableCost(new BigDecimal((10.0)));\r\n    \t\tobj.setWarehousePackCost(new BigDecimal(100.0));\r\n    \t\tobj.setOrderablePrepaidCost(null) ;\r\n    \t\tobj.setOrderableCollectCost(null) ;\r\n    \t\tobj.setReasonCode(&quot;Markdown - category funded&quot;);\r\n    \t\tobj.setEffectiveDate(&quot;2022-12-29&quot;);\r\n    \t\tobj.setIsFutureEffectiveDate(false);\r\n    \t\tobj.setCostType(&quot;WAREHOUSE PACK COST&quot;);\r\n    \t\tobj.setSource(&quot;COST IQ&quot;);\r\n    \t\tobj.setCreatedBy(&quot;lab1 account&quot;);\r\n    \t\tobj.setCreatedByUserId(&quot;LB-cost-test&quot;);\r\n    \t\tobj.setCreatedTs(&quot;2022-12-29T02:42:25.529Z&quot;);\r\n    \t\tobj.setCurrentRetailPrice(new BigDecimal(55.0)) ;\r\n    \t\tobj.setCurrentOrderableCost(null);\r\n    \t\tobj.setCurrentWarehousePackCost(new BigDecimal((0.0)));\r\n    \t\tobj.setCurrentOrderablePrepaidCost(null) ;\r\n    \t\tobj.setCurrentOrderableCollectCost(null);\r\n    \t\tobj.setMarginChange(new BigDecimal((-100.0)));\r\n    \t\tobj.setOwedToClub(new BigDecimal((0.0))); \r\n    \t\tobj.setItemSourceId(3572924); \r\n    \t\tobj.setPriceDestId(701800);\r\n    \t\tobj.setCategory(87);\r\n    \t\tobj.setOrderableQty(null);\r\n    \t\tobj.setOldMargin(new BigDecimal((100.0)));\r\n    \t\tobj.setNewMargin(new BigDecimal(0.0));  \r\n    \r\n    \t\treturn obj;\r\n    \t}\r\n    \r\n    \tprivate String costIQPayloadString() throws JsonProcessingException\r\n    \t{\r\n    \r\n    \t\t String key =  &quot;{\\&quot;retailTypeReasonCode\\&quot;:{\\&quot;retailTypeReasonCodeId\\&quot;:{\\&quot;retailType\\&quot;:\\&quot;BP\\&quot;,\\&quot;retailReasonCode\\&quot;:\\&quot;CC\\&quot;}},\\&quot;expirationDate\\&quot;:null,\\&quot;customerRetailAmount\\&quot;:0.0,\\&quot;auditMessage\\&quot;:null,\\&quot;createdTimestamp\\&quot;:null,\\&quot;clientID\\&quot;:\\&quot;COST IQ\\&quot;,\\&quot;rowNumber\\&quot;:0,\\&quot;auditRecordTimestamp\\&quot;:null,\\&quot;clubNumber\\&quot;:4931,\\&quot;itemNumber\\&quot;:123,\\&quot;effectiveDate\\&quot;:\\&quot;2022-12-29\\&quot;,\\&quot;submissionID\\&quot;:null,\\&quot;retailAmount\\&quot;:55.0,\\&quot;createdBy\\&quot;:\\&quot;lab1 account\\&quot;}&quot;;\r\n    \t//\t String key2 = &quot;{\\&quot;retailTypeReasonCode\\&quot;:{\\&quot;retailTypeReasonCodeId\\&quot;:{\\&quot;retailType\\&quot;:\\&quot;BP\\&quot;,\\&quot;retailReasonCode\\&quot;:\\&quot;CC\\&quot;}},\\&quot;expirationDate\\&quot;:null,\\&quot;customerRetailAmount\\&quot;:0.0,\\&quot;auditMessage\\&quot;:null,\\&quot;createdTimestamp\\&quot;:null,\\&quot;clientID\\&quot;:\\&quot;COST IQ\\&quot;,\\&quot;rowNumber\\&quot;:0,\\&quot;auditRecordTimestamp\\&quot;:null,\\&quot;categoryId\\&quot;:87,\\&quot;subCategoryId\\&quot;:1,\\&quot;clubNumber\\&quot;:4931,\\&quot;itemNumber\\&quot;:123,\\&quot;effectiveDate\\&quot;:\\&quot;2022-12-29\\&quot;,\\&quot;submissionID\\&quot;:null,\\&quot;retailAmount\\&quot;:10.0,\\&quot;createdBy\\&quot;:\\&quot;lab1 account\\&quot;}&quot;;\r\n    \t\t return key;\r\n    \r\n    //\t\tCostIQPayloadTransformer transformer = new CostIQPayloadTransformer();\r\n    //\t\treturn transformer.payloadTransformer(costIQObject());\r\n    \t}\r\n    \r\n    \r\n    \t@Test\r\n    \t void test() throws Exception {\r\n    \t\t// Set up the mock endpoints\r\n    \t\tmock.expectedBodiesReceived(costIQPayloadString());\r\n    \t\t\r\n    \t\t//getMockEndpoint( mock  +  Endpoints.SEDA_PROCESS_ENDPOINT).expectedBodiesReceived(costIQPayloadString());\r\n    \r\n    \r\n    \t\t//**need to properly mock and return this value\r\n    \t\tMockito.when(rulesEngineClientMock.validateRules((costIQObject()))).thenReturn(costIQObject());  //.thenR\r\n    \r\n    \t\tMap&lt;String, Object&gt; headers = new HashMap&lt;&gt;();\r\n    \t\theaders.put(&quot;appName&quot;, &quot;costIQ&quot;);\r\n    \r\n    \t\t//   Send the test message to the SEDA_SEND_ENDPOINT\r\n    \t\ttemplate.sendBodyAndHeaders(Endpoints.SEDA_SEND_ENDPOINT, costIQObject(), headers);\r\n    \r\n    \t\t//System.out.println(&quot;here &quot; +mock.());\r\n    \t\tmock.assertIsSatisfied();\r\n    \r\n    \r\n    \t\r\n    \t}\r\n    \r\n    \r\n    \r\n    }\r\n\r\n\r\n(below is the camel route ) \r\n\r\n\r\n     ThreadPoolExecutor executor = (ThreadPoolExecutor) Executors.newFixedThreadPool(2);\r\n        ExecutorService executorService =\r\n            MoreExecutors.getExitingExecutorService(executor, 100, TimeUnit.MILLISECONDS);\r\n    \r\n        @SuppressWarnings(&quot;resource&quot;)\r\n    \tThrottlingInflightRoutePolicy throttlingInflightRoutePolicy =\r\n            new ThrottlingInflightRoutePolicy();\r\n        throttlingInflightRoutePolicy.setMaxInflightExchanges(150);\r\n        throttlingInflightRoutePolicy.setResumePercentOfMax(25);\r\n    \r\n        // Camel&#39;s error handler that will attempt to redeliver the message 3 times\r\n        errorHandler(deadLetterChannel(&quot;seda:costIqDeadLetterChannel&quot;)\r\n                        .maximumRedeliveries(3)\r\n                        .redeliveryDelay(3000)\r\n        );\r\n    \r\n        // SEDA Endpoint Stage Event Driven Architecture\r\n        from(Endpoints.SEDA_SEND_ENDPOINT)\r\n            .messageHistory()\r\n            // Route Name\r\n            .routeId(Endpoints.SEDA_SEND_ENDPOINT)\r\n    \r\n            // multicast\r\n            .multicast()\r\n            .parallelProcessing() // create parallel threads\r\n    \r\n            // thread pool\r\n            .threads()\r\n            .executorService(executorService) // specific thread pool\r\n            .log(&quot;Camel Route Started Message Processing : - ${body}&quot;)\r\n    \r\n            .choice()\r\n            .when(PrismUtility.costIQPredicate)\r\n            .circuitBreaker()\r\n            .inheritErrorHandler(true)\r\n            .bean(CostIQService.class, PrismConstants.CALCULATE_PRICE) // rules engine call\r\n            .bean(\r\n                CostIQPayloadTransformer.class,\r\n                PrismConstants.PAYLOAD_TRANSFORMER) // payload transformer\r\n            .to(\r\n                Endpoints.SEDA_PROCESS_ENDPOINT // consumer 1\r\n                )\r\n            .endCircuitBreaker()\r\n            .endChoice()\r\n    \r\n            .log(&quot;Final :- ${body}&quot;)\r\n            .end();\r\n\r\n\r\nEdit :\r\n\r\nI modified the class like below by adding &quot;mock:&quot; to my route but  is there a way to go around this? seems like it is not sending to the proper endpoint without me changing and adding the &quot;mock:&quot; value to where it is sending  \r\n\r\n\r\n\r\nEdit :\r\n\r\nI added in this peice of code - to try to use adviceWith in my test class. I am calling the endpoint like so \r\n\r\n        getMockEndpoint(&quot;mock:&quot;+Endpoints.SEDA_PROCESS_ENDPOINT).expectedBodiesReceived(costIQPayloadString());\r\n\r\nBut am getting the error\r\n\r\n&gt; Cannot advice routes as there are no routes\r\n\r\n \r\n\r\n       @Test\r\n        public void testReplaceFrom() throws Exception {\r\n        \tAdviceWith.adviceWith(context, Endpoints.SEDA_PROCESS_ENDPOINT, a -&gt; {\r\n        \t    a.mockEndpoints(&quot;mock:&quot;+Endpoints.SEDA_PROCESS_ENDPOINT);\r\n        \t});\r\n        \t}\r\n","title":"Writing a apache camel test case but getting this error","body":"<p>am writing a camel route test case but am getting this issue,  have also included the camel route. Have debugged looks like the object is flowing through properly but on my assertion it seems to fail...</p>\n<blockquote>\n<p>java.lang.AssertionError:\nmock://seda:processMessage?blockWhenFull=true Received message count.\nExpected: &lt;1&gt; but was: &lt;0&gt;</p>\n</blockquote>\n<pre><code>import java.math.BigDecimal;\nimport java.util.HashMap;\nimport java.util.Map;\n\nimport org.apache.camel.EndpointInject;\nimport org.apache.camel.ProducerTemplate;\nimport org.apache.camel.component.mock.MockEndpoint;\nimport org.apache.camel.test.spring.MockEndpoints;\nimport org.apache.camel.test.spring.junit5.CamelSpringBootTest;\nimport org.junit.jupiter.api.Test;\nimport org.mockito.Mock;\nimport org.mockito.Mockito;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.context.SpringBootTest;\n\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.sams.pricing.prism.data.processor.model.CostIQRetail;\nimport com.sams.pricing.prism.data.processor.service.RulesEngineClient;\nimport com.sams.pricing.prism.data.processor.util.Endpoints;\n\n\n\n@SpringBootTest\n@CamelSpringBootTest\n@MockEndpoints( Endpoints.SEDA_PROCESS_ENDPOINT)\npublic class CamelRouteTests3  {\n\n\n    \n\n        @Autowired\n        private ProducerTemplate template;\n\n        @EndpointInject(&quot;mock:&quot;+ Endpoints.SEDA_PROCESS_ENDPOINT)\n        private MockEndpoint mock;\n\n        @Mock\n        private RulesEngineClient rulesEngineClientMock;\n\n    \n    \n\n    public CostIQRetail costIQObject() {\n\n        CostIQRetail obj = new CostIQRetail();\n\n        obj.setItemNbr(123);\n        obj.setLocationNbr(4931);\n        obj.setIsDcFlag(false) ;\n        obj.setStatus(&quot;SUCCESS&quot;);\n        obj.setOrderableCost(new BigDecimal((10.0)));\n        obj.setWarehousePackCost(new BigDecimal(100.0));\n        obj.setOrderablePrepaidCost(null) ;\n        obj.setOrderableCollectCost(null) ;\n        obj.setReasonCode(&quot;Markdown - category funded&quot;);\n        obj.setEffectiveDate(&quot;2022-12-29&quot;);\n        obj.setIsFutureEffectiveDate(false);\n        obj.setCostType(&quot;WAREHOUSE PACK COST&quot;);\n        obj.setSource(&quot;COST IQ&quot;);\n        obj.setCreatedBy(&quot;lab1 account&quot;);\n        obj.setCreatedByUserId(&quot;LB-cost-test&quot;);\n        obj.setCreatedTs(&quot;2022-12-29T02:42:25.529Z&quot;);\n        obj.setCurrentRetailPrice(new BigDecimal(55.0)) ;\n        obj.setCurrentOrderableCost(null);\n        obj.setCurrentWarehousePackCost(new BigDecimal((0.0)));\n        obj.setCurrentOrderablePrepaidCost(null) ;\n        obj.setCurrentOrderableCollectCost(null);\n        obj.setMarginChange(new BigDecimal((-100.0)));\n        obj.setOwedToClub(new BigDecimal((0.0))); \n        obj.setItemSourceId(3572924); \n        obj.setPriceDestId(701800);\n        obj.setCategory(87);\n        obj.setOrderableQty(null);\n        obj.setOldMargin(new BigDecimal((100.0)));\n        obj.setNewMargin(new BigDecimal(0.0));  \n\n        return obj;\n    }\n\n    private String costIQPayloadString() throws JsonProcessingException\n    {\n\n         String key =  &quot;{\\&quot;retailTypeReasonCode\\&quot;:{\\&quot;retailTypeReasonCodeId\\&quot;:{\\&quot;retailType\\&quot;:\\&quot;BP\\&quot;,\\&quot;retailReasonCode\\&quot;:\\&quot;CC\\&quot;}},\\&quot;expirationDate\\&quot;:null,\\&quot;customerRetailAmount\\&quot;:0.0,\\&quot;auditMessage\\&quot;:null,\\&quot;createdTimestamp\\&quot;:null,\\&quot;clientID\\&quot;:\\&quot;COST IQ\\&quot;,\\&quot;rowNumber\\&quot;:0,\\&quot;auditRecordTimestamp\\&quot;:null,\\&quot;clubNumber\\&quot;:4931,\\&quot;itemNumber\\&quot;:123,\\&quot;effectiveDate\\&quot;:\\&quot;2022-12-29\\&quot;,\\&quot;submissionID\\&quot;:null,\\&quot;retailAmount\\&quot;:55.0,\\&quot;createdBy\\&quot;:\\&quot;lab1 account\\&quot;}&quot;;\n    //   String key2 = &quot;{\\&quot;retailTypeReasonCode\\&quot;:{\\&quot;retailTypeReasonCodeId\\&quot;:{\\&quot;retailType\\&quot;:\\&quot;BP\\&quot;,\\&quot;retailReasonCode\\&quot;:\\&quot;CC\\&quot;}},\\&quot;expirationDate\\&quot;:null,\\&quot;customerRetailAmount\\&quot;:0.0,\\&quot;auditMessage\\&quot;:null,\\&quot;createdTimestamp\\&quot;:null,\\&quot;clientID\\&quot;:\\&quot;COST IQ\\&quot;,\\&quot;rowNumber\\&quot;:0,\\&quot;auditRecordTimestamp\\&quot;:null,\\&quot;categoryId\\&quot;:87,\\&quot;subCategoryId\\&quot;:1,\\&quot;clubNumber\\&quot;:4931,\\&quot;itemNumber\\&quot;:123,\\&quot;effectiveDate\\&quot;:\\&quot;2022-12-29\\&quot;,\\&quot;submissionID\\&quot;:null,\\&quot;retailAmount\\&quot;:10.0,\\&quot;createdBy\\&quot;:\\&quot;lab1 account\\&quot;}&quot;;\n         return key;\n\n//      CostIQPayloadTransformer transformer = new CostIQPayloadTransformer();\n//      return transformer.payloadTransformer(costIQObject());\n    }\n\n\n    @Test\n     void test() throws Exception {\n        // Set up the mock endpoints\n        mock.expectedBodiesReceived(costIQPayloadString());\n        \n        //getMockEndpoint( mock  +  Endpoints.SEDA_PROCESS_ENDPOINT).expectedBodiesReceived(costIQPayloadString());\n\n\n        //**need to properly mock and return this value\n        Mockito.when(rulesEngineClientMock.validateRules((costIQObject()))).thenReturn(costIQObject());  //.thenR\n\n        Map&lt;String, Object&gt; headers = new HashMap&lt;&gt;();\n        headers.put(&quot;appName&quot;, &quot;costIQ&quot;);\n\n        //   Send the test message to the SEDA_SEND_ENDPOINT\n        template.sendBodyAndHeaders(Endpoints.SEDA_SEND_ENDPOINT, costIQObject(), headers);\n\n        //System.out.println(&quot;here &quot; +mock.());\n        mock.assertIsSatisfied();\n\n\n    \n    }\n\n\n\n}\n</code></pre>\n<p>(below is the camel route )</p>\n<pre><code> ThreadPoolExecutor executor = (ThreadPoolExecutor) Executors.newFixedThreadPool(2);\n    ExecutorService executorService =\n        MoreExecutors.getExitingExecutorService(executor, 100, TimeUnit.MILLISECONDS);\n\n    @SuppressWarnings(&quot;resource&quot;)\n    ThrottlingInflightRoutePolicy throttlingInflightRoutePolicy =\n        new ThrottlingInflightRoutePolicy();\n    throttlingInflightRoutePolicy.setMaxInflightExchanges(150);\n    throttlingInflightRoutePolicy.setResumePercentOfMax(25);\n\n    // Camel's error handler that will attempt to redeliver the message 3 times\n    errorHandler(deadLetterChannel(&quot;seda:costIqDeadLetterChannel&quot;)\n                    .maximumRedeliveries(3)\n                    .redeliveryDelay(3000)\n    );\n\n    // SEDA Endpoint Stage Event Driven Architecture\n    from(Endpoints.SEDA_SEND_ENDPOINT)\n        .messageHistory()\n        // Route Name\n        .routeId(Endpoints.SEDA_SEND_ENDPOINT)\n\n        // multicast\n        .multicast()\n        .parallelProcessing() // create parallel threads\n\n        // thread pool\n        .threads()\n        .executorService(executorService) // specific thread pool\n        .log(&quot;Camel Route Started Message Processing : - ${body}&quot;)\n\n        .choice()\n        .when(PrismUtility.costIQPredicate)\n        .circuitBreaker()\n        .inheritErrorHandler(true)\n        .bean(CostIQService.class, PrismConstants.CALCULATE_PRICE) // rules engine call\n        .bean(\n            CostIQPayloadTransformer.class,\n            PrismConstants.PAYLOAD_TRANSFORMER) // payload transformer\n        .to(\n            Endpoints.SEDA_PROCESS_ENDPOINT // consumer 1\n            )\n        .endCircuitBreaker()\n        .endChoice()\n\n        .log(&quot;Final :- ${body}&quot;)\n        .end();\n</code></pre>\n<p>Edit :</p>\n<p>I modified the class like below by adding &quot;mock:&quot; to my route but  is there a way to go around this? seems like it is not sending to the proper endpoint without me changing and adding the &quot;mock:&quot; value to where it is sending</p>\n<p>Edit :</p>\n<p>I added in this peice of code - to try to use adviceWith in my test class. I am calling the endpoint like so</p>\n<pre><code>    getMockEndpoint(&quot;mock:&quot;+Endpoints.SEDA_PROCESS_ENDPOINT).expectedBodiesReceived(costIQPayloadString());\n</code></pre>\n<p>But am getting the error</p>\n<blockquote>\n<p>Cannot advice routes as there are no routes</p>\n</blockquote>\n<pre><code>   @Test\n    public void testReplaceFrom() throws Exception {\n        AdviceWith.adviceWith(context, Endpoints.SEDA_PROCESS_ENDPOINT, a -&gt; {\n            a.mockEndpoints(&quot;mock:&quot;+Endpoints.SEDA_PROCESS_ENDPOINT);\n        });\n        }\n</code></pre>\n"},{"tags":["java","spring-boot","keycloak","spring-cloud","spring-cloud-gateway"],"comments":[{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":1,"creation_date":1672861225,"post_id":75008132,"comment_id":132370702,"body_markdown":"This does not answer your question, but, in my opinion, an API gateway in OAuth2 ecosystem is a resource-server. An OAuth2 request to a secured resource should be authorized: the clients should have positioned an Authorization header with a Bearer access-token already. Use a [certified OpenID client lib](https://openid.net/developers/certified/) in your clients and send already authorized requests to your API, things will be easier.","body":"This does not answer your question, but, in my opinion, an API gateway in OAuth2 ecosystem is a resource-server. An OAuth2 request to a secured resource should be authorized: the clients should have positioned an Authorization header with a Bearer access-token already. Use a <a href=\"https://openid.net/developers/certified/\" rel=\"nofollow noreferrer\">certified OpenID client lib</a> in your clients and send already authorized requests to your API, things will be easier."},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1672861327,"post_id":75008132,"comment_id":132370733,"body_markdown":"Otherwise, in your conf, write a `provider` for each Keycloak realm and matching clients.","body":"Otherwise, in your conf, write a <code>provider</code> for each Keycloak realm and matching clients."},{"owner":{"account_id":4224410,"reputation":638,"user_id":3458271,"display_name":"user3458271"},"score":0,"creation_date":1672909654,"post_id":75008132,"comment_id":132380494,"body_markdown":"@ch4mp, Yes that make sense but our application is fully SaaS based so the client won&#39;t have direct access to anything, users and realms everything will be created on the fly, so to generate access-token right now they won&#39;t have any information. And to create new provider we have to restart server every time that we don&#39;t want to do it.","body":"@ch4mp, Yes that make sense but our application is fully SaaS based so the client won&#39;t have direct access to anything, users and realms everything will be created on the fly, so to generate access-token right now they won&#39;t have any information. And to create new provider we have to restart server every time that we don&#39;t want to do it."}],"owner":{"account_id":4224410,"reputation":638,"user_id":3458271,"display_name":"user3458271"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":504,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672848265,"creation_date":1672848265,"question_id":75008132,"body_markdown":"I am building one spring cloud gateway and in that I am implementing Keycloak Security everything works fine but need to do programmatically instead of writing in yml file there can be multiple Realms.\r\n\r\nBelow are the dependencies which I am using: \r\n\r\n    &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-starter-gateway&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n And my application Api gateway start application code is as below:\r\n\r\n    @SpringBootApplication\r\n    @ComponentScan(basePackages = {&quot;com&quot;, &quot;com.b&quot;,&quot;com.auth&quot;,&quot;com.security&quot;})\r\n    public class APIGatewayApplication {\r\n       public static void main(String[] args) {\r\n    \t\tSpringApplication.run(APIGatewayApplication.class, args);\r\n    \t}\r\n       @Bean\r\n    \tpublic KeycloakConfigResolver keycloakConfigResolver() {\r\n    \t\treturn new PathBasedKeycloakConfigResolver();\r\n    \t}\r\n    }\r\n\r\nSecurity Config http code is as below:\r\n\r\n    @Configuration\r\n    public class SecurityConfig {\r\n    \r\n        @Bean\r\n        public SecurityWebFilterChain springSecurityFilterChain (ServerHttpSecurity http) {\r\n    \r\n            http\r\n                    .authorizeExchange()\r\n                    .anyExchange()\r\n                    .authenticated()\r\n                    .and()\r\n                    .oauth2Login(); // to redirect to oauth2 login page.\r\n    \r\n            return http.build();\r\n        }\r\n    \r\n    }\r\n\r\nand in my application.yml file I am adding below configuration:\r\n\r\n    spring:\r\n      security:\r\n        oauth2:\r\n          client:\r\n            provider:\r\n              my-keycloak-provider:\r\n                issuer-uri: http://localhost:8280/auth/realms/Default\r\n            registration:\r\n              keycloak-spring-gateway-client:\r\n                provider: my-keycloak-provider\r\n                client-id: Default\r\n                client-secret: 8ZRUH62Pfhfde6uqasD8dfgdhvqWt03K6\r\n                authorization-grant-type: authorization_code\r\n                redirect-uri: &#39;{baseUrl}/app&#39;\r\n      main:\r\n        web-application-type: reactive\r\n      application:\r\n        name: app\r\n      cloud:\r\n        gateway:\r\n          default-filters:\r\n            - TokenRelay\r\n\r\nSo we can in configuration file I am manually adding configs for one Realms but there can be multiple realms in that how to do it programmatically dynamic? .","title":"How to programmatically configure keycloak with spring cloud gateway api?","body":"<p>I am building one spring cloud gateway and in that I am implementing Keycloak Security everything works fine but need to do programmatically instead of writing in yml file there can be multiple Realms.</p>\n<p>Below are the dependencies which I am using:</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-starter-gateway&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>And my application Api gateway start application code is as below:</p>\n<pre><code>@SpringBootApplication\n@ComponentScan(basePackages = {&quot;com&quot;, &quot;com.b&quot;,&quot;com.auth&quot;,&quot;com.security&quot;})\npublic class APIGatewayApplication {\n   public static void main(String[] args) {\n        SpringApplication.run(APIGatewayApplication.class, args);\n    }\n   @Bean\n    public KeycloakConfigResolver keycloakConfigResolver() {\n        return new PathBasedKeycloakConfigResolver();\n    }\n}\n</code></pre>\n<p>Security Config http code is as below:</p>\n<pre><code>@Configuration\npublic class SecurityConfig {\n\n    @Bean\n    public SecurityWebFilterChain springSecurityFilterChain (ServerHttpSecurity http) {\n\n        http\n                .authorizeExchange()\n                .anyExchange()\n                .authenticated()\n                .and()\n                .oauth2Login(); // to redirect to oauth2 login page.\n\n        return http.build();\n    }\n\n}\n</code></pre>\n<p>and in my application.yml file I am adding below configuration:</p>\n<pre><code>spring:\n  security:\n    oauth2:\n      client:\n        provider:\n          my-keycloak-provider:\n            issuer-uri: http://localhost:8280/auth/realms/Default\n        registration:\n          keycloak-spring-gateway-client:\n            provider: my-keycloak-provider\n            client-id: Default\n            client-secret: 8ZRUH62Pfhfde6uqasD8dfgdhvqWt03K6\n            authorization-grant-type: authorization_code\n            redirect-uri: '{baseUrl}/app'\n  main:\n    web-application-type: reactive\n  application:\n    name: app\n  cloud:\n    gateway:\n      default-filters:\n        - TokenRelay\n</code></pre>\n<p>So we can in configuration file I am manually adding configs for one Realms but there can be multiple realms in that how to do it programmatically dynamic? .</p>\n"},{"tags":["java","spring-boot","keycloak","spring-cloud","spring-cloud-gateway"],"comments":[{"owner":{"account_id":4224410,"reputation":638,"user_id":3458271,"display_name":"user3458271"},"score":0,"creation_date":1672925580,"post_id":75008081,"comment_id":132385760,"body_markdown":"removing &quot; redirect-uri&quot; works fine but not sure why it is happening because of it.","body":"removing &quot; redirect-uri&quot; works fine but not sure why it is happening because of it."}],"owner":{"account_id":4224410,"reputation":638,"user_id":3458271,"display_name":"user3458271"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":346,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672848166,"creation_date":1672848002,"question_id":75008081,"body_markdown":"I am building one spring cloud gateway and in that I am implementing Keycloak Security everything works fine but once login done on keycloak it is not redirecting back and showing error too many redirects I am not sure what I am missing?\r\n\r\nBelow are the dependencies which I am using: \r\n\r\n    &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-starter-gateway&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n And my application Api gateway start application code is as below:\r\n\r\n    @SpringBootApplication\r\n    @ComponentScan(basePackages = {&quot;com&quot;, &quot;com.b&quot;,&quot;com.auth&quot;,&quot;com.security&quot;})\r\n    public class APIGatewayApplication {\r\n       public static void main(String[] args) {\r\n    \t\tSpringApplication.run(APIGatewayApplication.class, args);\r\n    \t}\r\n       @Bean\r\n    \tpublic KeycloakConfigResolver keycloakConfigResolver() {\r\n    \t\treturn new PathBasedKeycloakConfigResolver();\r\n    \t}\r\n    }\r\n\r\nSecurity Config http code is as below:\r\n\r\n    @Configuration\r\n    public class SecurityConfig {\r\n    \r\n        @Bean\r\n        public SecurityWebFilterChain springSecurityFilterChain (ServerHttpSecurity http) {\r\n    \r\n            http\r\n                    .authorizeExchange()\r\n                    .anyExchange()\r\n                    .authenticated()\r\n                    .and()\r\n                    .oauth2Login(); // to redirect to oauth2 login page.\r\n    \r\n            return http.build();\r\n        }\r\n    \r\n    }\r\n\r\nand in my application.yml file I am adding below configuration:\r\n\r\n    spring:\r\n      security:\r\n        oauth2:\r\n          client:\r\n            provider:\r\n              my-keycloak-provider:\r\n                issuer-uri: http://localhost:8280/auth/realms/Default\r\n            registration:\r\n              keycloak-spring-gateway-client:\r\n                provider: my-keycloak-provider\r\n                client-id: Default\r\n                client-secret: 8ZRUH62Pfhfde6uqasD8dfgdhvqWt03K6\r\n                authorization-grant-type: authorization_code\r\n                redirect-uri: &#39;{baseUrl}/app&#39;\r\n      main:\r\n        web-application-type: reactive\r\n      application:\r\n        name: app\r\n      cloud:\r\n        gateway:\r\n          default-filters:\r\n            - TokenRelay\r\n\r\nSo when I start application it is running fine and it is getting redirected to the Keycloak login page and after login it shows error &quot;**localhost redirected you too many times.**&quot; How to resolve it so once it is login it should redirected once only to main application? Please help.","title":"Keycloak redirects too many times after login in Spring gateway cloud","body":"<p>I am building one spring cloud gateway and in that I am implementing Keycloak Security everything works fine but once login done on keycloak it is not redirecting back and showing error too many redirects I am not sure what I am missing?</p>\n<p>Below are the dependencies which I am using:</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-starter-gateway&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>And my application Api gateway start application code is as below:</p>\n<pre><code>@SpringBootApplication\n@ComponentScan(basePackages = {&quot;com&quot;, &quot;com.b&quot;,&quot;com.auth&quot;,&quot;com.security&quot;})\npublic class APIGatewayApplication {\n   public static void main(String[] args) {\n        SpringApplication.run(APIGatewayApplication.class, args);\n    }\n   @Bean\n    public KeycloakConfigResolver keycloakConfigResolver() {\n        return new PathBasedKeycloakConfigResolver();\n    }\n}\n</code></pre>\n<p>Security Config http code is as below:</p>\n<pre><code>@Configuration\npublic class SecurityConfig {\n\n    @Bean\n    public SecurityWebFilterChain springSecurityFilterChain (ServerHttpSecurity http) {\n\n        http\n                .authorizeExchange()\n                .anyExchange()\n                .authenticated()\n                .and()\n                .oauth2Login(); // to redirect to oauth2 login page.\n\n        return http.build();\n    }\n\n}\n</code></pre>\n<p>and in my application.yml file I am adding below configuration:</p>\n<pre><code>spring:\n  security:\n    oauth2:\n      client:\n        provider:\n          my-keycloak-provider:\n            issuer-uri: http://localhost:8280/auth/realms/Default\n        registration:\n          keycloak-spring-gateway-client:\n            provider: my-keycloak-provider\n            client-id: Default\n            client-secret: 8ZRUH62Pfhfde6uqasD8dfgdhvqWt03K6\n            authorization-grant-type: authorization_code\n            redirect-uri: '{baseUrl}/app'\n  main:\n    web-application-type: reactive\n  application:\n    name: app\n  cloud:\n    gateway:\n      default-filters:\n        - TokenRelay\n</code></pre>\n<p>So when I start application it is running fine and it is getting redirected to the Keycloak login page and after login it shows error &quot;<strong>localhost redirected you too many times.</strong>&quot; How to resolve it so once it is login it should redirected once only to main application? Please help.</p>\n"},{"tags":["java","performance","optimization"],"comments":[{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1671477472,"post_id":74855037,"comment_id":132103488,"body_markdown":"An array isn’t meant for efficiently checking membership, that’s what a set is for.","body":"An array isn’t meant for efficiently checking membership, that’s what a set is for."},{"owner":{"account_id":5688520,"reputation":7765,"user_id":4497253,"display_name":"CoronA"},"score":0,"creation_date":1671477501,"post_id":74855037,"comment_id":132103492,"body_markdown":"Bound checking is almost never on the critical path. And both `blocksArr[x][y][z] != null` and `blocksArr[x][y][z] != undefined` are shorthands for bound checking in Javascript.","body":"Bound checking is almost never on the critical path. And both <code>blocksArr[x][y][z] != null</code> and <code>blocksArr[x][y][z] != undefined</code> are shorthands for bound checking in Javascript."},{"owner":{"display_name":"user1196549"},"score":2,"creation_date":1671477570,"post_id":74855037,"comment_id":132103518,"body_markdown":"I don&#39;t see a faster way, but even if executed thousand times, this should not be a bottleneck. Did you pofile the code ?","body":"I don&#39;t see a faster way, but even if executed thousand times, this should not be a bottleneck. Did you pofile the code ?"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1671477888,"post_id":74855037,"comment_id":132103595,"body_markdown":"Can it happen that any of your variables is negative?","body":"Can it happen that any of your variables is negative?"},{"owner":{"display_name":"user20716279"},"score":0,"creation_date":1671477967,"post_id":74855037,"comment_id":132103621,"body_markdown":"not sure if that would make a difference but what about use blocksArr[x][y][z] and surround it by try and catch to catch any exception or that not available for your use case","body":"not sure if that would make a difference but what about use blocksArr[x][y][z] and surround it by try and catch to catch any exception or that not available for your use case"},{"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"score":2,"creation_date":1671478129,"post_id":74855037,"comment_id":132103662,"body_markdown":"That&#39;s one of the fastest things you can possible do, so most likely your problem in not here. What makes you think this is causing problems? Also why have you checked against `undefined` in Java (that&#39;s Javascript)","body":"That&#39;s one of the fastest things you can possible do, so most likely your problem in not here. What makes you think this is causing problems? Also why have you checked against <code>undefined</code> in Java (that&#39;s Javascript)"},{"owner":{"account_id":9961217,"reputation":497,"user_id":7370494,"display_name":"Ansar Ozden"},"score":0,"creation_date":1671478162,"post_id":74855037,"comment_id":132103669,"body_markdown":"You can use much more memory and keep blocksArr[] always filled. This way you can get rid of any bound checks for x, y and z.","body":"You can use much more memory and keep blocksArr[] always filled. This way you can get rid of any bound checks for x, y and z."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1671480673,"post_id":74855037,"comment_id":132104309,"body_markdown":"Are the lengths changing ? Is the array jagged (different sizes) ?","body":"Are the lengths changing ? Is the array jagged (different sizes) ?"},{"owner":{"account_id":14943184,"reputation":10724,"user_id":10789207,"display_name":"AirSquid"},"score":0,"creation_date":1672015793,"post_id":74855037,"comment_id":132208247,"body_markdown":"I&#39;d suggest re-titling this question.  In no part of the question are we checking membership in an array...  Just lengths.","body":"I&#39;d suggest re-titling this question.  In no part of the question are we checking membership in an array...  Just lengths."}],"answers":[{"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1671483969,"post_id":74855739,"comment_id":132105263,"body_markdown":"having two `if`s is no change at all - `&amp;&amp;` is *shortcircuit* and, that is, the second operand is only evaluated if needed (first is true) - but putting the single tests at the start would be an improvement - I would even move `y &gt;= 0` and `z &gt;= 0` before the length test","body":"having two <code>if</code>s is no change at all - <code>&amp;&amp;</code> is <i>shortcircuit</i> and, that is, the second operand is only evaluated if needed (first is true) - but putting the single tests at the start would be an improvement - I would even move <code>y &gt;= 0</code> and <code>z &gt;= 0</code> before the length test"}],"tags":[],"owner":{"account_id":26879596,"reputation":1092,"user_id":20460267,"display_name":"Simon Goater"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671489412,"creation_date":1671482202,"answer_id":74855739,"question_id":74855037,"body_markdown":"I don&#39;t know java but in general, I would expect the following to be at least as fast, possibly faster. \r\nYour compiler may do something like this anyway so it might not be faster. You can split the &#39;If&#39; statement up so that it will do fewer lookups. Sorry, but I&#39;ll have to write it as c code. You can get the idea and translate to java.\r\n\r\n    if (x &gt;= 0 &amp;&amp; y &gt;= 0 &amp;&amp; z &gt;= 0 &amp;&amp; x &lt; blocksArr.length) {\r\n      if (y &lt; blocksArr[x].length &amp;&amp; z &lt; blocksArr[x][y].length &amp;&amp; blocksArr[x][y][z]) {\r\n        .....\r\n      }\r\n    }\r\n\r\nAssuming user16320675 is correct about the evaluation order, you could use one &#39;if&#39; statement. I don&#39;t know how the java compiler works.\r\n\r\n\r\n    if (x &gt;= 0 &amp;&amp; y &gt;= 0 &amp;&amp; z &gt;= 0 &amp;&amp; x &lt; blocksArr.length &amp;&amp; y &lt; blocksArr[x].length &amp;&amp; z &lt; blocksArr[x][y].length &amp;&amp; blocksArr[x][y][z]) .....\r\n\r\n","title":"More efficient way to check if a value is included in an array?","body":"<p>I don't know java but in general, I would expect the following to be at least as fast, possibly faster.\nYour compiler may do something like this anyway so it might not be faster. You can split the 'If' statement up so that it will do fewer lookups. Sorry, but I'll have to write it as c code. You can get the idea and translate to java.</p>\n<pre><code>if (x &gt;= 0 &amp;&amp; y &gt;= 0 &amp;&amp; z &gt;= 0 &amp;&amp; x &lt; blocksArr.length) {\n  if (y &lt; blocksArr[x].length &amp;&amp; z &lt; blocksArr[x][y].length &amp;&amp; blocksArr[x][y][z]) {\n    .....\n  }\n}\n</code></pre>\n<p>Assuming user16320675 is correct about the evaluation order, you could use one 'if' statement. I don't know how the java compiler works.</p>\n<pre><code>if (x &gt;= 0 &amp;&amp; y &gt;= 0 &amp;&amp; z &gt;= 0 &amp;&amp; x &lt; blocksArr.length &amp;&amp; y &lt; blocksArr[x].length &amp;&amp; z &lt; blocksArr[x][y].length &amp;&amp; blocksArr[x][y][z]) .....\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9696025,"reputation":322,"user_id":7192440,"display_name":"Big Guy"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1671525790,"creation_date":1671525790,"answer_id":74860423,"question_id":74855037,"body_markdown":"What you are doing is a bounds check, to make sure that the indexes ```x```, ```y```, and ```z``` are valid indices in the ```blocksArr[][][]``` array. In C, this is necessary as C allows you to go outside the array.\r\n\r\nJava, however, does a bounds check every time you access the array. So you are doing a manual bounds check, then another check, plus Java is doing a check on two dimensions, and finally Java does another check on three dimensions.\r\n\r\nAll you really need to do is access the array, let Java do the bounds check, and catch an exception if any of the indices are out of bounds.\r\n\r\n```\r\n    boolean value;\r\n\r\n    try\r\n    {\r\n        value = blocksArr[x][y][z];\r\n    }\r\n    catch (ArrayIndexOutOfBoundsException e )\r\n    {\r\n        value = false;\r\n    }\r\n```\r\n\r\nThere is some overhead in setting up a try/catch block, but overall it should be faster.","title":"More efficient way to check if a value is included in an array?","body":"<p>What you are doing is a bounds check, to make sure that the indexes <code>x</code>, <code>y</code>, and <code>z</code> are valid indices in the <code>blocksArr[][][]</code> array. In C, this is necessary as C allows you to go outside the array.</p>\n<p>Java, however, does a bounds check every time you access the array. So you are doing a manual bounds check, then another check, plus Java is doing a check on two dimensions, and finally Java does another check on three dimensions.</p>\n<p>All you really need to do is access the array, let Java do the bounds check, and catch an exception if any of the indices are out of bounds.</p>\n<pre><code>    boolean value;\n\n    try\n    {\n        value = blocksArr[x][y][z];\n    }\n    catch (ArrayIndexOutOfBoundsException e )\n    {\n        value = false;\n    }\n</code></pre>\n<p>There is some overhead in setting up a try/catch block, but overall it should be faster.</p>\n"},{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1672846306,"post_id":74861030,"comment_id":132365553,"body_markdown":"The return value of `compareUnsigned` is still the same in future Java versions, so you can’t suddenly omit the `&lt;0`. It’s a pity that the new API doesn’t support bits (yet?). As otherwise, you could simply define a `MemoryLayout` for the array and get a `VarHandle` which can be used with all three indices without calculating the addresses manually.","body":"The return value of <code>compareUnsigned</code> is still the same in future Java versions, so you can’t suddenly omit the <code>&lt;0</code>. It’s a pity that the new API doesn’t support bits (yet?). As otherwise, you could simply define a <code>MemoryLayout</code> for the array and get a <code>VarHandle</code> which can be used with all three indices without calculating the addresses manually."},{"owner":{"account_id":22931464,"reputation":459,"user_id":17065671,"display_name":"Qu&#226;n Anh Mai"},"score":0,"creation_date":1672847976,"post_id":74861030,"comment_id":132366271,"body_markdown":"@Holger Oh my bad copying and pasting things, fixed now","body":"@Holger Oh my bad copying and pasting things, fixed now"}],"tags":[],"owner":{"account_id":22931464,"reputation":459,"user_id":17065671,"display_name":"Qu&#226;n Anh Mai"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672848004,"creation_date":1671528984,"answer_id":74861030,"question_id":74855037,"body_markdown":"In general, the most efficient way of doing `t &gt;= 0 &amp;&amp; t &lt; u` with `u` known to be positive is to compare the unsigned value of `t` and `u` using `Integer.compareUnsigned(t, u) &lt; 0`. As a result, your `if` can be more efficiently expressed as\r\n\r\n    if (Integer.compareUnsigned(x, blocksArr.length) &lt; 0 &amp;&amp;\r\n        Integer.compareUnsigned(y, blocksArr[x].length) &lt; 0 &amp;&amp;\r\n        Integer.compareUnsigned(z, blocksArr[x][y].length) &lt; 0 &amp;&amp;\r\n        blocksArr[x][y][z])\r\n\r\nHowever, I think your representation of `blocksArr` as a 3-dimensional array is really inefficient and results in a lot of indirections, which greatly hinders the potential performance. A more logical approach is to represent it as a single array and have length, width, height being stored separately. This would result in your code looks something like this:\r\n\r\n    if (Integer.compareUnsigned(x, length) &lt; 0 &amp;&amp;\r\n        Integer.compareUnsigned(y, width) &lt; 0 &amp;&amp;\r\n        Integer.compareUnsigned(z, height) &lt; 0 &amp;&amp;\r\n        blocksArr[x * (width * height) + y * height + z])\r\n\r\nThis however limits your block to around 2 billion elements, to overcome this limitation, you need to resort to the Memory Access API, which is currently in preview. It has an important advantage that it allows the allocation and deallocation of memory blocks to be deterministic, which is much more desirable for too large memory pieces. Using a memory segment to represent the `blocksArr`, your code would become:\r\n\r\n    if (Long.compareUnsigned(x, length) &lt; 0 &amp;&amp;\r\n        Long.compareUnsigned(y, width) &lt; 0 &amp;&amp;\r\n        Long.compareUnsigned(z, height) &lt; 0 &amp;&amp;\r\n        blocksArr.get(ValueLayout.JAVA_BOOLEAN, x * (width * height) + y * height + z))\r\n\r\nMoreover, since `blocksArr` is a block of boolean values, packing them so that each element occupies only 1 bit will improve the memory consumption and cache pressure greatly. The check now can be expressed as:\r\n\r\n    long index = x * (width * height) + y * height + z;\r\n    long byteIndex = index &gt;&gt;&gt; 3;\r\n    int shift = (int)(index &amp; 7);\r\n    if (Long.compareUnsigned(x, length) &lt; 0 &amp;&amp;\r\n        Long.compareUnsigned(y, width) &lt; 0 &amp;&amp;\r\n        Long.compareUnsigned(z, height) &lt; 0 &amp;&amp;\r\n        blocksArr.get(ValueLayout.JAVA_BYTE, byteIndex) &amp; (1 &lt;&lt; shift) != 0)","title":"More efficient way to check if a value is included in an array?","body":"<p>In general, the most efficient way of doing <code>t &gt;= 0 &amp;&amp; t &lt; u</code> with <code>u</code> known to be positive is to compare the unsigned value of <code>t</code> and <code>u</code> using <code>Integer.compareUnsigned(t, u) &lt; 0</code>. As a result, your <code>if</code> can be more efficiently expressed as</p>\n<pre><code>if (Integer.compareUnsigned(x, blocksArr.length) &lt; 0 &amp;&amp;\n    Integer.compareUnsigned(y, blocksArr[x].length) &lt; 0 &amp;&amp;\n    Integer.compareUnsigned(z, blocksArr[x][y].length) &lt; 0 &amp;&amp;\n    blocksArr[x][y][z])\n</code></pre>\n<p>However, I think your representation of <code>blocksArr</code> as a 3-dimensional array is really inefficient and results in a lot of indirections, which greatly hinders the potential performance. A more logical approach is to represent it as a single array and have length, width, height being stored separately. This would result in your code looks something like this:</p>\n<pre><code>if (Integer.compareUnsigned(x, length) &lt; 0 &amp;&amp;\n    Integer.compareUnsigned(y, width) &lt; 0 &amp;&amp;\n    Integer.compareUnsigned(z, height) &lt; 0 &amp;&amp;\n    blocksArr[x * (width * height) + y * height + z])\n</code></pre>\n<p>This however limits your block to around 2 billion elements, to overcome this limitation, you need to resort to the Memory Access API, which is currently in preview. It has an important advantage that it allows the allocation and deallocation of memory blocks to be deterministic, which is much more desirable for too large memory pieces. Using a memory segment to represent the <code>blocksArr</code>, your code would become:</p>\n<pre><code>if (Long.compareUnsigned(x, length) &lt; 0 &amp;&amp;\n    Long.compareUnsigned(y, width) &lt; 0 &amp;&amp;\n    Long.compareUnsigned(z, height) &lt; 0 &amp;&amp;\n    blocksArr.get(ValueLayout.JAVA_BOOLEAN, x * (width * height) + y * height + z))\n</code></pre>\n<p>Moreover, since <code>blocksArr</code> is a block of boolean values, packing them so that each element occupies only 1 bit will improve the memory consumption and cache pressure greatly. The check now can be expressed as:</p>\n<pre><code>long index = x * (width * height) + y * height + z;\nlong byteIndex = index &gt;&gt;&gt; 3;\nint shift = (int)(index &amp; 7);\nif (Long.compareUnsigned(x, length) &lt; 0 &amp;&amp;\n    Long.compareUnsigned(y, width) &lt; 0 &amp;&amp;\n    Long.compareUnsigned(z, height) &lt; 0 &amp;&amp;\n    blocksArr.get(ValueLayout.JAVA_BYTE, byteIndex) &amp; (1 &lt;&lt; shift) != 0)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1672848589,"post_id":74915883,"comment_id":132366487,"body_markdown":"Practically every CPU has an intrinsic “compare against zero” operation, so if you ever encounter a difference between `x &gt;= 0` and `x &gt; -1` it will be that `x &gt;= 0` is faster, as it does not need to load zero into a register. But using constants instead of a dynamic `array.length` may indeed improve the performance.","body":"Practically every CPU has an intrinsic “compare against zero” operation, so if you ever encounter a difference between <code>x &gt;= 0</code> and <code>x &gt; -1</code> it will be that <code>x &gt;= 0</code> is faster, as it does not need to load zero into a register. But using constants instead of a dynamic <code>array.length</code> may indeed improve the performance."},{"owner":{"account_id":9696025,"reputation":322,"user_id":7192440,"display_name":"Big Guy"},"score":0,"creation_date":1673384799,"post_id":74915883,"comment_id":132485929,"body_markdown":"@Holger I did not know about the intrinsic zero check, I leaned this stuff on 8 bit CPU&#39;s :-). Nevertheless, two checks need to be done: (x=0 and x&gt;0) even though there is a single ASM command, so extra CPU cycles.","body":"@Holger I did not know about the intrinsic zero check, I leaned this stuff on 8 bit CPU&#39;s :-). Nevertheless, two checks need to be done: (x=0 and x&gt;0) even though there is a single ASM command, so extra CPU cycles."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1673433049,"post_id":74915883,"comment_id":132496163,"body_markdown":"No, there are *not* two checks. There’s one check that sets multiple status bits, then a single branch or conditional instruction depending on a combination of those bits. In fact, `x &gt;= 0` is true when the uppermost bit is zero which is even cheaper than testing whether all bits are zero. I think, even most 8 bit CPUs have a builtin test for this. Most CPUs perform this check automatically when the value is loaded into a register, so there’s not even a test instruction needed.","body":"No, there are <i>not</i> two checks. There’s one check that sets multiple status bits, then a single branch or conditional instruction depending on a combination of those bits. In fact, <code>x &gt;= 0</code> is true when the uppermost bit is zero which is even cheaper than testing whether all bits are zero. I think, even most 8 bit CPUs have a builtin test for this. Most CPUs perform this check automatically when the value is loaded into a register, so there’s not even a test instruction needed."}],"tags":[],"owner":{"account_id":9696025,"reputation":322,"user_id":7192440,"display_name":"Big Guy"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672002192,"creation_date":1672002192,"answer_id":74915883,"question_id":74855037,"body_markdown":"You have a box determined by three dimensions, ```x```, ```y```, and ```z```.\r\n\r\nIf any of those indices are outside the boundaries of the box, then the entire ```if()``` statement is false. So there is no need to walk through things like ``` blocksArr[x].length```\r\n\r\nAlso, think about what is actually going on under the hood. The variable ```x``` is in fact a pointer to a location in memory which holds the value. To process a statement like ```x &gt;= 0```, the computer must locate the memory location for ```x```, fetch that value and put it into one of its internal registers, say register A. It then takes that value 0 and puts it into register B. It compares Register A to register B. if A &gt; B, then it goes on to the next operation, otherwise it compares A to B again. If the comparison is zero, then it goes to the next operation, otherwise it move the operation pointer past the ```if()``` statement.\r\n\r\nFor comparing ```x &lt; blocksArr.length```, it again fetches ```x```, then fetches ```blocksArr``` calculates the offset to the ```length``` value, then fetches that into the register, where it does the comparison.\r\n\r\nYou can shorten all of this by using some static constants.\r\n\r\nConsider that ```x &gt;= 0``` can be re-written as ```x &gt; -1```. This can potentially reduce 2 comparisons to 1, so a few CPU cycles saved.\r\n\r\nAn array construct is an immutable object, that is it cannot be changed after being created. So an array&#39;s length will never be different. So if you created an array with size 5, blocksArr.length will always return 5. in the comparison ```x &lt; blocksArr.length``` you could substitute ```x &lt; 5```, which means the CPU does not need to fetch blocksArr.length, which saves CPU cycles.\r\n\r\nSo you could re-write the array creation, and your if statement to:\r\n\r\n```\r\npublic static final int MAX_X = 10;\r\npublic static final int MAX_Y = 15;\r\npublic static final int MAX_Z = 20;\r\n\r\npublic boolean blocksArr[][][] = new boolean[MAX_X][MAX_Y][MAX_Z];\r\n  \r\n.\r\n.\r\n.\r\n\r\n  if ( ( x &gt; -1 &amp;&amp; x &lt; MAX_X ) &amp;&amp; // validate for X dimension\r\n       ( y &gt; -1 &amp;&amp; y &lt; MAX_Y ) &amp;&amp; // validate for Y dimension\r\n       ( z &gt; -1 &amp;&amp; z &lt; MAX_Z ) &amp;&amp; // validate for Z dimension\r\n       blocksArr[x][y][z] )       // check value \r\n```\r\n\r\nI think this is the least CPU intensive way of doing this.  \r\n ","title":"More efficient way to check if a value is included in an array?","body":"<p>You have a box determined by three dimensions, <code>x</code>, <code>y</code>, and <code>z</code>.</p>\n<p>If any of those indices are outside the boundaries of the box, then the entire <code>if()</code> statement is false. So there is no need to walk through things like <code> blocksArr[x].length</code></p>\n<p>Also, think about what is actually going on under the hood. The variable <code>x</code> is in fact a pointer to a location in memory which holds the value. To process a statement like <code>x &gt;= 0</code>, the computer must locate the memory location for <code>x</code>, fetch that value and put it into one of its internal registers, say register A. It then takes that value 0 and puts it into register B. It compares Register A to register B. if A &gt; B, then it goes on to the next operation, otherwise it compares A to B again. If the comparison is zero, then it goes to the next operation, otherwise it move the operation pointer past the <code>if()</code> statement.</p>\n<p>For comparing <code>x &lt; blocksArr.length</code>, it again fetches <code>x</code>, then fetches <code>blocksArr</code> calculates the offset to the <code>length</code> value, then fetches that into the register, where it does the comparison.</p>\n<p>You can shorten all of this by using some static constants.</p>\n<p>Consider that <code>x &gt;= 0</code> can be re-written as <code>x &gt; -1</code>. This can potentially reduce 2 comparisons to 1, so a few CPU cycles saved.</p>\n<p>An array construct is an immutable object, that is it cannot be changed after being created. So an array's length will never be different. So if you created an array with size 5, blocksArr.length will always return 5. in the comparison <code>x &lt; blocksArr.length</code> you could substitute <code>x &lt; 5</code>, which means the CPU does not need to fetch blocksArr.length, which saves CPU cycles.</p>\n<p>So you could re-write the array creation, and your if statement to:</p>\n<pre><code>public static final int MAX_X = 10;\npublic static final int MAX_Y = 15;\npublic static final int MAX_Z = 20;\n\npublic boolean blocksArr[][][] = new boolean[MAX_X][MAX_Y][MAX_Z];\n  \n.\n.\n.\n\n  if ( ( x &gt; -1 &amp;&amp; x &lt; MAX_X ) &amp;&amp; // validate for X dimension\n       ( y &gt; -1 &amp;&amp; y &lt; MAX_Y ) &amp;&amp; // validate for Y dimension\n       ( z &gt; -1 &amp;&amp; z &lt; MAX_Z ) &amp;&amp; // validate for Z dimension\n       blocksArr[x][y][z] )       // check value \n</code></pre>\n<p>I think this is the least CPU intensive way of doing this.</p>\n"}],"owner":{"account_id":14518937,"reputation":1,"user_id":10487128,"display_name":"Emerson Mitchell"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":208,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1672848004,"creation_date":1671477182,"question_id":74855037,"body_markdown":"Writing a game that does lots of comparisons, and it&#39;s lagging. I&#39;m trying to speed it up, and this particular chunk of code is run thousands of times every frame, for different values of x y and z. Is there a better way to check if the values of x y and z are valid in the array? (java)\r\n\r\n\r\n`if (x &gt;= 0 &amp;&amp; x &lt; blocksArr.length &amp;&amp; y &gt;= 0 &amp;&amp; y &lt; blocksArr[x].length &amp;&amp; z &gt;= 0 &amp;&amp; z &lt; blocksArr[x][y].length &amp;&amp; blocksArr[x][y][z])`\r\n\r\nI&#39;ve tried checking if blocksArr[x][y][z] != null and checking if blocksArr[x][y][z] != undefined but neither give results.","title":"More efficient way to check if a value is included in an array?","body":"<p>Writing a game that does lots of comparisons, and it's lagging. I'm trying to speed it up, and this particular chunk of code is run thousands of times every frame, for different values of x y and z. Is there a better way to check if the values of x y and z are valid in the array? (java)</p>\n<p><code>if (x &gt;= 0 &amp;&amp; x &lt; blocksArr.length &amp;&amp; y &gt;= 0 &amp;&amp; y &lt; blocksArr[x].length &amp;&amp; z &gt;= 0 &amp;&amp; z &lt; blocksArr[x][y].length &amp;&amp; blocksArr[x][y][z])</code></p>\n<p>I've tried checking if blocksArr[x][y][z] != null and checking if blocksArr[x][y][z] != undefined but neither give results.</p>\n"},{"tags":["java","thymeleaf","spring-thymeleaf"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1672844225,"post_id":75007241,"comment_id":132364657,"body_markdown":"Add code as text not as image","body":"Add code as text not as image"},{"owner":{"account_id":3793951,"reputation":655,"user_id":3149693,"display_name":"Arnas"},"score":0,"creation_date":1672905624,"post_id":75007241,"comment_id":132379379,"body_markdown":"Read the message suggested by intelliJ IDEA","body":"Read the message suggested by intelliJ IDEA"}],"owner":{"account_id":26899934,"reputation":11,"user_id":20477235,"display_name":"Никита Мозолевский"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1672847812,"creation_date":1672844156,"question_id":75007241,"body_markdown":"At startup, the spring application works with view, but the html code is highlighted in red when it is written, respectively, it is not convenient to look for errors in html, here are photos and code of html and the controller:\r\n(https://i.stack.imgur.com/RDPvL.png)\r\n(https://i.stack.imgur.com/Bm1vQ.png)\r\n\r\n```\r\npackage com.nikita.al_fp.controllers;\r\n\r\nimport com.nikita.al_fp.entity.Book;\r\nimport com.nikita.al_fp.entity.Person;\r\nimport com.nikita.al_fp.service.BookService;\r\nimport com.nikita.al_fp.service.PersonService;\r\nimport com.nikita.al_fp.util.BookValidator;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.validation.BindingResult;\r\nimport org.springframework.web.bind.annotation.*;\r\nimport javax.validation.Valid;\r\n\r\n@Controller\r\n@RequestMapping(&quot;/book&quot;)\r\npublic class BookController {\r\n\r\n    private final BookValidator bookValidator;\r\n    private final PersonService personService;\r\n    private final BookService bookService;\r\n    public static final String BOOK_REDIRECT_PAGE = &quot;redirect:/book&quot;;\r\n\r\n    @Autowired\r\n    public BookController(BookValidator bookValidator, PersonService personService, BookService bookService) {\r\n        this.bookValidator = bookValidator;\r\n        this.personService = personService;\r\n        this.bookService = bookService;\r\n        personService.startProgramProcessPerson();\r\n        bookService.startProgramProcessBook();\r\n    }\r\n\r\n    @GetMapping\r\n    public String selectBook(Model model) {\r\n        model.addAttribute(&quot;books&quot;, bookService.findAll());\r\n        return &quot;/book/select_book&quot;;\r\n    }\r\n}\r\n\r\n```\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n    &lt;title&gt;Select Book&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n\r\n&lt;div th:each=&quot;book : ${books}&quot;&gt;\r\n    &lt;a th:href=&quot;@{/book/{id}(id=${book.getId()})}&quot;\r\n       th:text=&quot;${book.getName() + &#39;, &#39; + book.getAuthor() + &#39;, &#39; + book.getYear()}&quot;&gt;book&lt;/a&gt;\r\n    &lt;br/&gt;\r\n&lt;/div&gt;\r\n\r\n&lt;br/&gt;\r\n&lt;hr/&gt;\r\n\r\n&lt;a href=&quot;/book/new&quot;&gt;Add book&lt;/a&gt;\r\n&lt;br&gt;\r\n&lt;a href=&quot;/people&quot;&gt;Show User List&lt;/a&gt;\r\n\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n\r\n\r\n```\r\n\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.1&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.nikita&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;al_fp&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;al_fp&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.1.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n\r\n\r\nI tried to find a solution on the Internet, unsuccessfully, but views work when app runned","title":"Can&#39;t join @Controller and Thymeleaf view","body":"<p>At startup, the spring application works with view, but the html code is highlighted in red when it is written, respectively, it is not convenient to look for errors in html, here are photos and code of html and the controller:\n(<a href=\"https://i.stack.imgur.com/RDPvL.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/RDPvL.png</a>)\n(<a href=\"https://i.stack.imgur.com/Bm1vQ.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/Bm1vQ.png</a>)</p>\n<pre><code>package com.nikita.al_fp.controllers;\n\nimport com.nikita.al_fp.entity.Book;\nimport com.nikita.al_fp.entity.Person;\nimport com.nikita.al_fp.service.BookService;\nimport com.nikita.al_fp.service.PersonService;\nimport com.nikita.al_fp.util.BookValidator;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.validation.BindingResult;\nimport org.springframework.web.bind.annotation.*;\nimport javax.validation.Valid;\n\n@Controller\n@RequestMapping(&quot;/book&quot;)\npublic class BookController {\n\n    private final BookValidator bookValidator;\n    private final PersonService personService;\n    private final BookService bookService;\n    public static final String BOOK_REDIRECT_PAGE = &quot;redirect:/book&quot;;\n\n    @Autowired\n    public BookController(BookValidator bookValidator, PersonService personService, BookService bookService) {\n        this.bookValidator = bookValidator;\n        this.personService = personService;\n        this.bookService = bookService;\n        personService.startProgramProcessPerson();\n        bookService.startProgramProcessBook();\n    }\n\n    @GetMapping\n    public String selectBook(Model model) {\n        model.addAttribute(&quot;books&quot;, bookService.findAll());\n        return &quot;/book/select_book&quot;;\n    }\n}\n\n</code></pre>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;title&gt;Select Book&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n&lt;div th:each=&quot;book : ${books}&quot;&gt;\n    &lt;a th:href=&quot;@{/book/{id}(id=${book.getId()})}&quot;\n       th:text=&quot;${book.getName() + ', ' + book.getAuthor() + ', ' + book.getYear()}&quot;&gt;book&lt;/a&gt;\n    &lt;br/&gt;\n&lt;/div&gt;\n\n&lt;br/&gt;\n&lt;hr/&gt;\n\n&lt;a href=&quot;/book/new&quot;&gt;Add book&lt;/a&gt;\n&lt;br&gt;\n&lt;a href=&quot;/people&quot;&gt;Show User List&lt;/a&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n\n\n</code></pre>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.1&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.nikita&lt;/groupId&gt;\n    &lt;artifactId&gt;al_fp&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;al_fp&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0.1.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>I tried to find a solution on the Internet, unsuccessfully, but views work when app runned</p>\n"},{"tags":["java","spring","spring-boot","tomcat"],"comments":[{"owner":{"account_id":18532310,"reputation":11,"user_id":13502779,"display_name":"Manuel Motta"},"score":0,"creation_date":1672769914,"post_id":74997126,"comment_id":132347570,"body_markdown":"Does this answer your question? https://stackoverflow.com/questions/35957040/how-to-show-custom-404-page-when-user-enters-invalid-url-in-spring-boot-applicat","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/35957040/how-to-show-custom-404-page-when-user-enters-invalid-url-in-spring-boot-applicat\" title=\"how to show custom 404 page when user enters invalid url in spring boot applicat\">stackoverflow.com/questions/35957040/&hellip;</a>"},{"owner":{"account_id":26843578,"reputation":33,"user_id":20429686,"display_name":"TheDude"},"score":0,"creation_date":1672771631,"post_id":74997126,"comment_id":132348009,"body_markdown":"Hello, i tried it but it doesn&#39;t work :(","body":"Hello, i tried it but it doesn&#39;t work :("}],"owner":{"account_id":26843578,"reputation":33,"user_id":20429686,"display_name":"TheDude"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":256,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1672847680,"creation_date":1672769426,"question_id":74997126,"body_markdown":"i want to make my application to return JSON instead of html response when trying to get localhost:8080, but i cannot achieve the desired result because this is before the  \r\n\r\n     servlet:\r\n        context-path: /v0\r\nand everything before &quot;/v0&quot; is returning index.html\r\n\r\n I want everything before &quot;/v0&quot; to return something like this:\r\n\r\n    {\r\n      &quot;timestamp&quot;: &quot;2022-12-01T12:59:51.832+00:00&quot;,\r\n      &quot;status&quot;: 404,\r\n      &quot;error&quot;: &quot;Not Found&quot;,\r\n      &quot;path&quot;: &quot;/&quot;\r\n    }\r\n\r\n  \r\n\r\nI tried to add this in my @ControllerAdvice \r\n\r\n    @ExceptionHandler(NoHandlerFoundException.class)\r\n    public ResponseEntity&lt;Map&lt;String, Object&gt;&gt; unhandledPath(Exception e) {\r\n      Map&lt;String, Object&gt; errorInfo = new LinkedHashMap&lt;&gt;();\r\n      errorInfo.put(&quot;timestamp&quot;, new Date());\r\n      errorInfo.put(&quot;httpCode&quot;, HttpStatus.NOT_FOUND.value());\r\n      errorInfo.put(&quot;httpStatus&quot;, HttpStatus.NOT_FOUND.getReasonPhrase());\r\n      errorInfo.put(&quot;errorMessage&quot;, e.getMessage());\r\n      return new ResponseEntity&lt;Map&lt;String, Object&gt;&gt;(errorInfo, HttpStatus.NOT_FOUND);\r\n    }\r\n\r\nBut it does&#39;t return the json instead returns this:\r\n\r\nhttps://i.stack.imgur.com/FlxiQ.png","title":"How to make an invalid url in spring boot to return JSON response instead of index.html","body":"<p>i want to make my application to return JSON instead of html response when trying to get localhost:8080, but i cannot achieve the desired result because this is before the</p>\n<pre><code> servlet:\n    context-path: /v0\n</code></pre>\n<p>and everything before &quot;/v0&quot; is returning index.html</p>\n<p>I want everything before &quot;/v0&quot; to return something like this:</p>\n<pre><code>{\n  &quot;timestamp&quot;: &quot;2022-12-01T12:59:51.832+00:00&quot;,\n  &quot;status&quot;: 404,\n  &quot;error&quot;: &quot;Not Found&quot;,\n  &quot;path&quot;: &quot;/&quot;\n}\n</code></pre>\n<p>I tried to add this in my @ControllerAdvice</p>\n<pre><code>@ExceptionHandler(NoHandlerFoundException.class)\npublic ResponseEntity&lt;Map&lt;String, Object&gt;&gt; unhandledPath(Exception e) {\n  Map&lt;String, Object&gt; errorInfo = new LinkedHashMap&lt;&gt;();\n  errorInfo.put(&quot;timestamp&quot;, new Date());\n  errorInfo.put(&quot;httpCode&quot;, HttpStatus.NOT_FOUND.value());\n  errorInfo.put(&quot;httpStatus&quot;, HttpStatus.NOT_FOUND.getReasonPhrase());\n  errorInfo.put(&quot;errorMessage&quot;, e.getMessage());\n  return new ResponseEntity&lt;Map&lt;String, Object&gt;&gt;(errorInfo, HttpStatus.NOT_FOUND);\n}\n</code></pre>\n<p>But it does't return the json instead returns this:</p>\n<p><a href=\"https://i.stack.imgur.com/FlxiQ.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/FlxiQ.png</a></p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","spring-profiles"],"comments":[{"owner":{"account_id":4487116,"reputation":429,"user_id":3649352,"accept_rate":67,"display_name":"Kunal Varpe"},"score":0,"creation_date":1672857053,"post_id":75008001,"comment_id":132369391,"body_markdown":"Where you have provided profile value can you update the question please.","body":"Where you have provided profile value can you update the question please."}],"owner":{"account_id":4996271,"reputation":971,"user_id":4108345,"accept_rate":61,"display_name":"Harsh Kanakhara"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":330,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672847645,"creation_date":1672847645,"question_id":75008001,"body_markdown":"In my spring boot application, I have multiple profiles as below:\r\n\r\n    application.yml\r\n    application-dev.yml\r\n    application-local.yml\r\n    application-qa.yml\r\n    application-prod.yml\r\n\r\nEach profile will have its own datasource configured. For testing purpose, same datasource configuration are passed in all profiles. \r\n\r\nIn application.yml if I mention `spring.profiles.active=dev` it is connecting to DB successfully. But if I mention `spring.profiles.active=local` then on server startup local profile is getting active with below error\r\n\r\n    ***************************\r\n    APPLICATION FAILED TO START\r\n    ***************************\r\n    \r\n    Description:\r\n    \r\n    Failed to configure a DataSource: &#39;url&#39; attribute is not specified and no embedded datasource could be configured.\r\n    \r\n    Reason: Failed to determine a suitable driver class\r\n    \r\n    \r\n    Action:\r\n    \r\n    Consider the following:\r\n    \tIf you want an embedded database (H2, HSQL or Derby), please put it on the classpath.\r\n    \tIf you have database settings to be loaded from a particular profile you may need to activate it (the profiles lcl are currently active).\r\n\r\n\r\nBelow configuration passed in all profiles excluding `application.yml`\r\n\r\n    spring:\r\n      datasource:\r\n        driver-class-name: com.mysql.cj.jdbc.Driver\r\n        password: root\r\n        url: jdbc:mysql://localhost:3306/local_db?useSSL=false\r\n        username: root\r\n      jpa:\r\n        hibernate:\r\n          ddl-auto: update\r\n        show-sql: true\r\n      liquibase:\r\n        change-log: classpath:db/changelog/db.changelog-master.json\r\n\r\n","title":"spring.profiles.active not working for all profiles","body":"<p>In my spring boot application, I have multiple profiles as below:</p>\n<pre><code>application.yml\napplication-dev.yml\napplication-local.yml\napplication-qa.yml\napplication-prod.yml\n</code></pre>\n<p>Each profile will have its own datasource configured. For testing purpose, same datasource configuration are passed in all profiles.</p>\n<p>In application.yml if I mention <code>spring.profiles.active=dev</code> it is connecting to DB successfully. But if I mention <code>spring.profiles.active=local</code> then on server startup local profile is getting active with below error</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nFailed to configure a DataSource: 'url' attribute is not specified and no embedded datasource could be configured.\n\nReason: Failed to determine a suitable driver class\n\n\nAction:\n\nConsider the following:\n    If you want an embedded database (H2, HSQL or Derby), please put it on the classpath.\n    If you have database settings to be loaded from a particular profile you may need to activate it (the profiles lcl are currently active).\n</code></pre>\n<p>Below configuration passed in all profiles excluding <code>application.yml</code></p>\n<pre><code>spring:\n  datasource:\n    driver-class-name: com.mysql.cj.jdbc.Driver\n    password: root\n    url: jdbc:mysql://localhost:3306/local_db?useSSL=false\n    username: root\n  jpa:\n    hibernate:\n      ddl-auto: update\n    show-sql: true\n  liquibase:\n    change-log: classpath:db/changelog/db.changelog-master.json\n</code></pre>\n"},{"tags":["java","android","itext","itext7"],"answers":[{"comments":[{"owner":{"account_id":18364441,"reputation":275,"user_id":13375840,"display_name":"zyngot"},"score":0,"creation_date":1668076294,"post_id":74387476,"comment_id":131321264,"body_markdown":"I have both of them in my android studio IDE, my question clearly was where exactly am I supposed to put the JSON file? and how exactly do I get the path? \nAn example would do it for me.","body":"I have both of them in my android studio IDE, my question clearly was where exactly am I supposed to put the JSON file? and how exactly do I get the path?  An example would do it for me."},{"owner":{"account_id":345916,"reputation":461,"user_id":679116,"display_name":"S_G"},"score":0,"creation_date":1668084450,"post_id":74387476,"comment_id":131323988,"body_markdown":"Did you check the API documentation of loadLicenseFile method? It accepts File well as InputStream as an argument. So, it really doesn&#39;t matter, and you can keep JSON file wherever you want and pass that file system path or Inputstream as an argument to load your JSON fie using loadLicenseFile method.","body":"Did you check the API documentation of loadLicenseFile method? It accepts File well as InputStream as an argument. So, it really doesn&#39;t matter, and you can keep JSON file wherever you want and pass that file system path or Inputstream as an argument to load your JSON fie using loadLicenseFile method."},{"owner":{"account_id":18364441,"reputation":275,"user_id":13375840,"display_name":"zyngot"},"score":0,"creation_date":1668085356,"post_id":74387476,"comment_id":131324287,"body_markdown":"can you give an example please? \nLike code?","body":"can you give an example please?  Like code?"},{"owner":{"account_id":345916,"reputation":461,"user_id":679116,"display_name":"S_G"},"score":0,"creation_date":1668129414,"post_id":74387476,"comment_id":131337293,"body_markdown":"LicenseKey.loadLicenseFile(new File(&quot;src/main/resources/load/license.json&quot;));\nLicenseKey.loadLicenseFile(new File(&quot;C:\\\\load\\\\license.json&quot;));","body":"LicenseKey.loadLicenseFile(new File(&quot;src/main/resources/load/license.json&quot;)); LicenseKey.loadLicenseFile(new File(&quot;C:\\\\load\\\\license.json&quot;));"}],"tags":[],"owner":{"account_id":345916,"reputation":461,"user_id":679116,"display_name":"S_G"},"comment_count":4,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1668076109,"creation_date":1668076109,"answer_id":74387476,"question_id":74387198,"body_markdown":"In order to load iText 7 trial JSON license file, you need to have iText 7.2.4 and licensing base 4.0.4 jar file into your workspace. Once these dependencies are pulled through maven into your local workspace then you can invoke below line of code to load trial license. Please refer step by step installation guideline on how to pull dependencies here at https://kb.itextpdf.com/home/it7kb/installation-guidelines/installing-the-itext-license-key-and-license-key-library-for-java-and-net\r\n\r\nLicenseKey.loadLicenseFile(new File(&quot;path/to/itextkey.json&quot;));","title":"Itext 7 license","body":"<p>In order to load iText 7 trial JSON license file, you need to have iText 7.2.4 and licensing base 4.0.4 jar file into your workspace. Once these dependencies are pulled through maven into your local workspace then you can invoke below line of code to load trial license. Please refer step by step installation guideline on how to pull dependencies here at <a href=\"https://kb.itextpdf.com/home/it7kb/installation-guidelines/installing-the-itext-license-key-and-license-key-library-for-java-and-net\" rel=\"nofollow noreferrer\">https://kb.itextpdf.com/home/it7kb/installation-guidelines/installing-the-itext-license-key-and-license-key-library-for-java-and-net</a></p>\n<p>LicenseKey.loadLicenseFile(new File(&quot;path/to/itextkey.json&quot;));</p>\n"},{"tags":[],"owner":{"account_id":27432684,"reputation":1,"user_id":20929099,"display_name":"Carl"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672847551,"creation_date":1672847551,"answer_id":75007982,"question_id":74387198,"body_markdown":"First, make sure you add the license key file to your project.\r\nFor me, I used AppDomain.CurrentDomain.BaseDirectory for the location of my file.\r\nFinally, in Solution Explorer, I highlighted the license key file and in the properties window, I set &quot;Copy to Output Directory&quot; to &quot;Copy always&quot; to make it available during runtime.\r\n\r\n","title":"Itext 7 license","body":"<p>First, make sure you add the license key file to your project.\nFor me, I used AppDomain.CurrentDomain.BaseDirectory for the location of my file.\nFinally, in Solution Explorer, I highlighted the license key file and in the properties window, I set &quot;Copy to Output Directory&quot; to &quot;Copy always&quot; to make it available during runtime.</p>\n"}],"owner":{"account_id":18364441,"reputation":275,"user_id":13375840,"display_name":"zyngot"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":630,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1672847551,"creation_date":1668074545,"question_id":74387198,"body_markdown":"I can&#39;t seem to figure how to load the license file for itext 7. I got the trial license but I don&#39;t know where to put it, classpath? where is classpath? and when I put it anywhere how can I get its path in order to put it in the\r\n\r\n    LicenseKey.loadLicenseFile(new File(&quot;path/to/itextkey.json&quot;));\r\n\r\nI keep getting the error\r\n\r\n    License file can not be null. \r\nwhenever I try putting it somewhere and adding the path but I am certain I am doing it wrong, can someone explain to me how?","title":"Itext 7 license","body":"<p>I can't seem to figure how to load the license file for itext 7. I got the trial license but I don't know where to put it, classpath? where is classpath? and when I put it anywhere how can I get its path in order to put it in the</p>\n<pre><code>LicenseKey.loadLicenseFile(new File(&quot;path/to/itextkey.json&quot;));\n</code></pre>\n<p>I keep getting the error</p>\n<pre><code>License file can not be null. \n</code></pre>\n<p>whenever I try putting it somewhere and adding the path but I am certain I am doing it wrong, can someone explain to me how?</p>\n"},{"tags":["java","windows","random"],"comments":[{"owner":{"account_id":1220452,"reputation":2159,"user_id":1187194,"display_name":"lxbndr"},"score":1,"creation_date":1332840231,"post_id":9885380,"comment_id":12610335,"body_markdown":"Take a look at answer [here](http://stackoverflow.com/questions/8667129/cryptacquirecontexta-fails-in-c-clr-for-aloaha-cryptographic-provider). Are race conditions possible in your environment?","body":"Take a look at answer <a href=\"http://stackoverflow.com/questions/8667129/cryptacquirecontexta-fails-in-c-clr-for-aloaha-cryptographic-provider\">here</a>. Are race conditions possible in your environment?"}],"answers":[{"comments":[{"owner":{"account_id":392219,"reputation":1197,"user_id":753352,"accept_rate":40,"display_name":"jeffery.yuan"},"score":1,"creation_date":1346518399,"post_id":11550349,"comment_id":16387798,"body_markdown":"Thanks for your reply, yes, as you said this is a concurrent access related problem, we optimize our code: in old code, we can generateSeed for each request, this is bad, as generateSeed consumes a lot of resource. In the new code, we only call generateSeed one time. This seems solved the problem customer met.","body":"Thanks for your reply, yes, as you said this is a concurrent access related problem, we optimize our code: in old code, we can generateSeed for each request, this is bad, as generateSeed consumes a lot of resource. In the new code, we only call generateSeed one time. This seems solved the problem customer met."}],"tags":[],"owner":{"account_id":329138,"reputation":8059,"user_id":652497,"accept_rate":91,"display_name":"Jonathan S. Fisher"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1342645557,"creation_date":1342645557,"answer_id":11550349,"question_id":9885380,"body_markdown":"While your problem smells like a concurrent access problem, I have a workaround for you: Use bouncycastle as a JCE provider and see if that fixes your problem. Put the jar into your classpath, then at some point run this code: `Security.addProvider(new BouncyCastleProvider());`","title":"In windows Java SecureRandom.generateSeed failed: Unexpected CryptoAPI failure","body":"<p>While your problem smells like a concurrent access problem, I have a workaround for you: Use bouncycastle as a JCE provider and see if that fixes your problem. Put the jar into your classpath, then at some point run this code: <code>Security.addProvider(new BouncyCastleProvider());</code></p>\n"},{"tags":[],"owner":{"account_id":2708748,"reputation":188,"user_id":2337743,"display_name":"Mario.Cadiz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672847204,"creation_date":1672847204,"answer_id":75007911,"question_id":9885380,"body_markdown":"Indeed, the generation of random number has a high resource consumption in terms of CPU cycles. If you have the possibility to minimize the number of calls to the java.security.SecureRandom.generateSeed method, go ahead, that will definitely will help. \r\n\r\nOn the other hand, note that the seed generation is finally implemented by the security providers calling to native functions. \r\n\r\nThe list of SPs is located at JAVA_HOME/jre/lib/security/java.security file, and by default, that sun.security.provider.Sun is on the top. If that guy is causing problems, it could be disabled, making sure the indexes are restructured as well.\r\n\r\nFor future references on how to disable a security provider from the java.security file: https://docs.oracle.com/javase/8/docs/technotes/guides/security/p11guide.html#Disable-pkcs11","title":"In windows Java SecureRandom.generateSeed failed: Unexpected CryptoAPI failure","body":"<p>Indeed, the generation of random number has a high resource consumption in terms of CPU cycles. If you have the possibility to minimize the number of calls to the java.security.SecureRandom.generateSeed method, go ahead, that will definitely will help.</p>\n<p>On the other hand, note that the seed generation is finally implemented by the security providers calling to native functions.</p>\n<p>The list of SPs is located at JAVA_HOME/jre/lib/security/java.security file, and by default, that sun.security.provider.Sun is on the top. If that guy is causing problems, it could be disabled, making sure the indexes are restructured as well.</p>\n<p>For future references on how to disable a security provider from the java.security file: <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/security/p11guide.html#Disable-pkcs11\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/technotes/guides/security/p11guide.html#Disable-pkcs11</a></p>\n"}],"owner":{"account_id":392219,"reputation":1197,"user_id":753352,"accept_rate":40,"display_name":"jeffery.yuan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4954,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":11550349,"answer_count":2,"score":6,"last_activity_date":1672847204,"creation_date":1332834714,"question_id":9885380,"body_markdown":"In production environment(Windows 2008 R2, AMD 64, 8 GB RAM), the application sometimes throws the following exception - restart the application solves the problem.\r\n\r\n    Caused by: java.lang.InternalError: Unexpected CryptoAPI failure generating seed\r\n\tat sun.security.provider.NativeSeedGenerator.getSeedBytes(NativeSeedGenerator.java:43)\r\n\tat sun.security.provider.SeedGenerator.generateSeed(SeedGenerator.java:117)\r\n\tat sun.security.provider.SecureRandom.engineGenerateSeed(SecureRandom.java:114)\r\n\tat java.security.SecureRandom.generateSeed(SecureRandom.java:475)\r\n\r\nThe code should have no problem :\r\n\r\n\t\tpublic void generateToken ()\r\n\t\t{\r\n\t\t\tSecureRandom secureRandom = new SecureRandom();\r\n\t\t\tint seedByteCount = 20;\r\n\t\t\tbyte[] seed = secureRandom.generateSeed(seedByteCount);\r\n\t\t\tsecureRandom.setSeed(seed);\r\n\t\t\tString random = String.valueOf(secureRandom.nextLong());\r\n\t\t\tsetToken(random);\r\n\t\t}\r\n\r\n\t\r\nTook a look at JDK code, find out that the error is because `Java_sun_security_provider_NativeSeedGenerator_nativeGenerateSeed` returns **false** :\r\n\r\n&gt;openjdk-7u2-fcs-src-b13-17_nov_2011\\jdk\\src\\windows\\native\\sun\\security\\provider\\WinCAPISeedGenerator.c :\r\n\r\n\t\tJNIEXPORT jboolean JNICALL Java_sun_security_provider_NativeSeedGenerator_nativeGenerateSeed(JNIEnv *env, jclass clazz, jbyteArray randArray)\r\n\t\t{\r\n\t\t\tHCRYPTPROV hCryptProv;\r\n\t\t\tjboolean result = JNI_FALSE;\r\n\t\t\tjsize numBytes;\r\n\t\t\tjbyte* randBytes;\r\n\r\n\t\t\tif (CryptAcquireContextA(&amp;hCryptProv, &quot;J2SE&quot;, NULL, PROV_RSA_FULL, 0) == FALSE) {\r\n\t\t\t\t/* If CSP context hasn&#39;t been created, create one. */\r\n\t\t\t\tif (CryptAcquireContextA(&amp;hCryptProv, &quot;J2SE&quot;, NULL, PROV_RSA_FULL,\r\n\t\t\t\t\t\tCRYPT_NEWKEYSET) == FALSE) {\r\n\t\t\t\t\treturn result;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tnumBytes = (*env)-&gt;GetArrayLength(env, randArray);\r\n\t\t\trandBytes = (*env)-&gt;GetByteArrayElements(env, randArray, NULL);\r\n\t\t\tif (CryptGenRandom(hCryptProv, numBytes, randBytes)) {\r\n\t\t\t\tresult = JNI_TRUE;\r\n\t\t\t}\r\n\t\t\t(*env)-&gt;ReleaseByteArrayElements(env, randArray, randBytes, 0);\r\n\r\n\t\t\tCryptReleaseContext(hCryptProv, 0);\r\n\r\n\t\t\treturn result;\r\n\t\t}\r\n`CryptGenRandom` or `CryptAcquireContextA` returns **false**, but I don&#39;t know why it fails, and how to work around it.\r\n\r\nAnyone knows why this happens, the work around or how to continue to investigate this problem? \r\n\r\nThanks for any advice or reply. Thanks...\r\n\r\nBtw - I found the following resources - but not quite useful to this problem.\r\n\r\n- https://forums.oracle.com/forums/thread.jspa?threadID=2231037\r\n\r\n- https://bugs.java.com/bugdatabase/view_bug?bug_id=6202721\r\n\r\n- [Proper use of Java’s SecureRandom][1]\r\n\r\n\r\n- [Secure Random Number Generation in JAVA][2]\r\n\r\n\r\n  [1]: http://www.cigital.com/justice-league-blog/2009/08/14/proper-use-of-javas-securerandom/\r\n  [2]: http://resources.infosecinstitute.com/random-number-generation-java/","title":"In windows Java SecureRandom.generateSeed failed: Unexpected CryptoAPI failure","body":"<p>In production environment(Windows 2008 R2, AMD 64, 8 GB RAM), the application sometimes throws the following exception - restart the application solves the problem.</p>\n<pre><code>Caused by: java.lang.InternalError: Unexpected CryptoAPI failure generating seed\nat sun.security.provider.NativeSeedGenerator.getSeedBytes(NativeSeedGenerator.java:43)\nat sun.security.provider.SeedGenerator.generateSeed(SeedGenerator.java:117)\nat sun.security.provider.SecureRandom.engineGenerateSeed(SecureRandom.java:114)\nat java.security.SecureRandom.generateSeed(SecureRandom.java:475)\n</code></pre>\n<p>The code should have no problem :</p>\n<pre><code>    public void generateToken ()\n    {\n        SecureRandom secureRandom = new SecureRandom();\n        int seedByteCount = 20;\n        byte[] seed = secureRandom.generateSeed(seedByteCount);\n        secureRandom.setSeed(seed);\n        String random = String.valueOf(secureRandom.nextLong());\n        setToken(random);\n    }\n</code></pre>\n<p>Took a look at JDK code, find out that the error is because <code>Java_sun_security_provider_NativeSeedGenerator_nativeGenerateSeed</code> returns <strong>false</strong> :</p>\n<blockquote>\n<p>openjdk-7u2-fcs-src-b13-17_nov_2011\\jdk\\src\\windows\\native\\sun\\security\\provider\\WinCAPISeedGenerator.c :</p>\n</blockquote>\n<pre><code>    JNIEXPORT jboolean JNICALL Java_sun_security_provider_NativeSeedGenerator_nativeGenerateSeed(JNIEnv *env, jclass clazz, jbyteArray randArray)\n    {\n        HCRYPTPROV hCryptProv;\n        jboolean result = JNI_FALSE;\n        jsize numBytes;\n        jbyte* randBytes;\n\n        if (CryptAcquireContextA(&amp;hCryptProv, &quot;J2SE&quot;, NULL, PROV_RSA_FULL, 0) == FALSE) {\n            /* If CSP context hasn't been created, create one. */\n            if (CryptAcquireContextA(&amp;hCryptProv, &quot;J2SE&quot;, NULL, PROV_RSA_FULL,\n                    CRYPT_NEWKEYSET) == FALSE) {\n                return result;\n            }\n        }\n\n        numBytes = (*env)-&gt;GetArrayLength(env, randArray);\n        randBytes = (*env)-&gt;GetByteArrayElements(env, randArray, NULL);\n        if (CryptGenRandom(hCryptProv, numBytes, randBytes)) {\n            result = JNI_TRUE;\n        }\n        (*env)-&gt;ReleaseByteArrayElements(env, randArray, randBytes, 0);\n\n        CryptReleaseContext(hCryptProv, 0);\n\n        return result;\n    }\n</code></pre>\n<p><code>CryptGenRandom</code> or <code>CryptAcquireContextA</code> returns <strong>false</strong>, but I don't know why it fails, and how to work around it.</p>\n<p>Anyone knows why this happens, the work around or how to continue to investigate this problem?</p>\n<p>Thanks for any advice or reply. Thanks...</p>\n<p>Btw - I found the following resources - but not quite useful to this problem.</p>\n<ul>\n<li><p><a href=\"https://forums.oracle.com/forums/thread.jspa?threadID=2231037\" rel=\"nofollow noreferrer\">https://forums.oracle.com/forums/thread.jspa?threadID=2231037</a></p>\n</li>\n<li><p><a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=6202721\" rel=\"nofollow noreferrer\">https://bugs.java.com/bugdatabase/view_bug?bug_id=6202721</a></p>\n</li>\n<li><p><a href=\"http://www.cigital.com/justice-league-blog/2009/08/14/proper-use-of-javas-securerandom/\" rel=\"nofollow noreferrer\">Proper use of Java’s SecureRandom</a></p>\n</li>\n<li><p><a href=\"http://resources.infosecinstitute.com/random-number-generation-java/\" rel=\"nofollow noreferrer\">Secure Random Number Generation in JAVA</a></p>\n</li>\n</ul>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9466,"page":757,"page_size":100}
