{"items":[{"tags":["java","arrays","swap"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1666503930,"post_id":74168850,"comment_id":130950149,"body_markdown":"Please explain what order you want the output in. Showing a single example doesn&#39;t explain what you need.","body":"Please explain what order you want the output in. Showing a single example doesn&#39;t explain what you need."}],"answers":[{"comments":[{"owner":{"account_id":26688583,"reputation":13,"user_id":20297496,"display_name":"WcruzX"},"score":0,"creation_date":1666560659,"post_id":74170300,"comment_id":130960831,"body_markdown":"Thank u very much friend, it helped a lot, I will study your instructions.","body":"Thank u very much friend, it helped a lot, I will study your instructions."}],"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666520041,"creation_date":1666520041,"answer_id":74170300,"question_id":74168850,"body_markdown":"What isn&#39;t clear, except through what is considered your example of valid output, is when should the value of 3 and 5 (or 5 and 3) be swapped, **before** *Even &amp; Odd* is determined or **after** *Even &amp; Odd* is determined. Your example indicates **after** the *Even &amp; Odd* are determined. Whichever it truly is, it&#39;s just a matter of placing the swapping algorithm either before or after the *Even/Odd* algorithm.\r\n\r\nThe key here is to keep everything as an array throughout the *Even/Odd* algorithm instead of printing results. This can be done in a different int[] Array which can be copied over the existing array when the *Even/Odd* process is done using the [Arrays#copyOf()](https://www.tutorialspoint.com/java/util/arrays_copyof_int.htm) method (or do it the long way). Why keep it all as an array? So that swapping can be done at an index level (swap by index). Swap by value can be done but there is a lot more code required since you only want to swap the first two Swap values encountered and not all of them. Here is an example:\r\n\r\n    Scanner input = new Scanner(System.in);\r\n\r\n    int n;\r\n    System.out.print(&quot;Enter length of Array: -&gt; &quot;);\r\n    n = input.nextInt();\r\n    \r\n    int swapA = 3;   // (or 5)\r\n    int swapB = 5;   // (or 3)\r\n\r\n    int atIndexA = -1;  // Used for swapping\r\n    int atIndexB = -1;  // Used for swapping\r\n    int tmp = -1;       // Used for swapping \r\n        \r\n    // Create and fill Array\r\n    int nums[] = new int[n];\r\n    for (int i = 0; i &lt; n; i++) {\r\n        System.out.print(&quot;Enter number #&quot; + (i+1) + &quot;: -&gt; &quot;);\r\n        nums[i] = input.nextInt();\r\n    }\r\n    System.out.println(&quot;Original Entry:  &quot; + Arrays.toString(nums));\r\n        \r\n    /* Get the even and odd values:\r\n       Even numbers are placed into a temporary \r\n       array first and then the Odd numbers.\r\n    EVEN Numbers:                         */          \r\n    int[] tmpArray = new int[n];\r\n    int indexCounter = 0;\r\n        \r\n    for (int i = 0; i &lt; n; i++) {\r\n        if (nums[i] % 2 == 0) {\r\n            tmpArray[indexCounter] = nums[i];\r\n            indexCounter++;\r\n        }\r\n    }\r\n    // ODD Numbers:\r\n    for (int i = 0; i &lt; n; i++) {\r\n        if (nums[i] % 2 != 0) {\r\n            tmpArray[indexCounter] = nums[i];\r\n            indexCounter++;\r\n        }\r\n    }\r\n        \r\n    // Overwrite the nums[] array with tmpArray[]:\r\n    nums = Arrays.copyOf(tmpArray, n);\r\n    System.out.println(&quot;Evens &amp; Odds:    &quot; + Arrays.toString(nums));\r\n        \r\n    /* Do the required swap (if the two digits exist).\r\n       Get the index values of the first two swap values. */\r\n    for (int i = 0; i &lt; n; i++) {\r\n        if (nums[i] == swapA &amp;&amp; atIndexA == -1) {\r\n            atIndexA = i;\r\n        } \r\n        else if (nums[i] == swapB &amp;&amp; atIndexB == -1) {\r\n            atIndexB = i;\r\n        }\r\n    }\r\n    /* If either atIndexA or atIndexB equals -1 then one\r\n       or both of the swap values do not exit within the \r\n       int[] Array.                 */\r\n    if (atIndexA != -1 &amp;&amp; atIndexB != -1) {\r\n        tmp = nums[atIndexA];\r\n        nums[atIndexA] = nums[atIndexB];\r\n        nums[atIndexB] = tmp;\r\n    }\r\n        \r\n    /* You can delete this...It just indicates which swap \r\n       value(s) is not conatined within the int[] Array. */\r\n    if (atIndexA == -1) {\r\n            System.out.println(&quot;Swap Value &#39;&quot; + swapA + &quot;&#39; is not within the Array!&quot;);\r\n        }\r\n        if (atIndexB == -1) {\r\n            System.out.println(&quot;Swap Value &#39;&quot; + swapB + &quot;&#39; is not within the Array!&quot;);\r\n    }\r\n            \r\n    // Display the overall Result.\r\n    System.out.println(&quot;Numbers Swapped: &quot; + Arrays.toString(nums));   \r\n\r\nHere is what your Console Window could display:\r\n\r\n```\r\nEnter length of Array: -&gt; 5\r\nEnter number #1: -&gt; 1\r\nEnter number #2: -&gt; 3\r\nEnter number #3: -&gt; 4\r\nEnter number #4: -&gt; 5\r\nEnter number #5: -&gt; 2\r\nOriginal Entry:  [1, 3, 4, 5, 2]\r\nEvens &amp; Odds:    [4, 2, 1, 3, 5]\r\nNumbers Swapped: [4, 2, 1, 5, 3]\r\n```","title":"Challenge: Sorting Arrays","body":"<p>What isn't clear, except through what is considered your example of valid output, is when should the value of 3 and 5 (or 5 and 3) be swapped, <strong>before</strong> <em>Even &amp; Odd</em> is determined or <strong>after</strong> <em>Even &amp; Odd</em> is determined. Your example indicates <strong>after</strong> the <em>Even &amp; Odd</em> are determined. Whichever it truly is, it's just a matter of placing the swapping algorithm either before or after the <em>Even/Odd</em> algorithm.</p>\n<p>The key here is to keep everything as an array throughout the <em>Even/Odd</em> algorithm instead of printing results. This can be done in a different int[] Array which can be copied over the existing array when the <em>Even/Odd</em> process is done using the <a href=\"https://www.tutorialspoint.com/java/util/arrays_copyof_int.htm\" rel=\"nofollow noreferrer\">Arrays#copyOf()</a> method (or do it the long way). Why keep it all as an array? So that swapping can be done at an index level (swap by index). Swap by value can be done but there is a lot more code required since you only want to swap the first two Swap values encountered and not all of them. Here is an example:</p>\n<pre><code>Scanner input = new Scanner(System.in);\n\nint n;\nSystem.out.print(&quot;Enter length of Array: -&gt; &quot;);\nn = input.nextInt();\n\nint swapA = 3;   // (or 5)\nint swapB = 5;   // (or 3)\n\nint atIndexA = -1;  // Used for swapping\nint atIndexB = -1;  // Used for swapping\nint tmp = -1;       // Used for swapping \n    \n// Create and fill Array\nint nums[] = new int[n];\nfor (int i = 0; i &lt; n; i++) {\n    System.out.print(&quot;Enter number #&quot; + (i+1) + &quot;: -&gt; &quot;);\n    nums[i] = input.nextInt();\n}\nSystem.out.println(&quot;Original Entry:  &quot; + Arrays.toString(nums));\n    \n/* Get the even and odd values:\n   Even numbers are placed into a temporary \n   array first and then the Odd numbers.\nEVEN Numbers:                         */          \nint[] tmpArray = new int[n];\nint indexCounter = 0;\n    \nfor (int i = 0; i &lt; n; i++) {\n    if (nums[i] % 2 == 0) {\n        tmpArray[indexCounter] = nums[i];\n        indexCounter++;\n    }\n}\n// ODD Numbers:\nfor (int i = 0; i &lt; n; i++) {\n    if (nums[i] % 2 != 0) {\n        tmpArray[indexCounter] = nums[i];\n        indexCounter++;\n    }\n}\n    \n// Overwrite the nums[] array with tmpArray[]:\nnums = Arrays.copyOf(tmpArray, n);\nSystem.out.println(&quot;Evens &amp; Odds:    &quot; + Arrays.toString(nums));\n    \n/* Do the required swap (if the two digits exist).\n   Get the index values of the first two swap values. */\nfor (int i = 0; i &lt; n; i++) {\n    if (nums[i] == swapA &amp;&amp; atIndexA == -1) {\n        atIndexA = i;\n    } \n    else if (nums[i] == swapB &amp;&amp; atIndexB == -1) {\n        atIndexB = i;\n    }\n}\n/* If either atIndexA or atIndexB equals -1 then one\n   or both of the swap values do not exit within the \n   int[] Array.                 */\nif (atIndexA != -1 &amp;&amp; atIndexB != -1) {\n    tmp = nums[atIndexA];\n    nums[atIndexA] = nums[atIndexB];\n    nums[atIndexB] = tmp;\n}\n    \n/* You can delete this...It just indicates which swap \n   value(s) is not conatined within the int[] Array. */\nif (atIndexA == -1) {\n        System.out.println(&quot;Swap Value '&quot; + swapA + &quot;' is not within the Array!&quot;);\n    }\n    if (atIndexB == -1) {\n        System.out.println(&quot;Swap Value '&quot; + swapB + &quot;' is not within the Array!&quot;);\n}\n        \n// Display the overall Result.\nSystem.out.println(&quot;Numbers Swapped: &quot; + Arrays.toString(nums));   \n</code></pre>\n<p>Here is what your Console Window could display:</p>\n<pre><code>Enter length of Array: -&gt; 5\nEnter number #1: -&gt; 1\nEnter number #2: -&gt; 3\nEnter number #3: -&gt; 4\nEnter number #4: -&gt; 5\nEnter number #5: -&gt; 2\nOriginal Entry:  [1, 3, 4, 5, 2]\nEvens &amp; Odds:    [4, 2, 1, 3, 5]\nNumbers Swapped: [4, 2, 1, 5, 3]\n</code></pre>\n"}],"owner":{"account_id":26688583,"reputation":13,"user_id":20297496,"display_name":"WcruzX"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1666554843,"accepted_answer_id":74170300,"answer_count":1,"score":-1,"last_activity_date":1666765551,"creation_date":1666502764,"question_id":74168850,"body_markdown":"I need a little help, I made a code to read a sequence of numbers, store them in an array and then print the even ones and then odd ones, but the test has a catch where I need to change the position of two values to pass 5 and 3:\r\n\r\nInput data: 13452\r\n\r\nExpected output: 42153\r\n\r\nMy output: 42135\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n\r\n    Scanner input = new Scanner(System.in);\r\n    \r\n    int N;\r\n    N = input.nextInt();\r\n    int nums[] = new int[N];\r\n\r\n    for (int i = 0; i &lt; N; i++) {\r\n        nums[i] = input.nextInt();\r\n    }\r\n    for (int i = 0; i &lt; N; i++) {\r\n        if (nums[i] % 2 == 0) {\r\n            System.out.print(nums[i]);\r\n            System.out.println();\r\n        }\r\n    }\r\n    \r\n    for (int i = 0; i &lt; N; i++) {\r\n        if (nums[i] % 2 != 0) {\r\n            System.out.print(nums[i]);\r\n            System.out.println();\r\n        }\r\n    }\r\n}\r\n```","title":"Challenge: Sorting Arrays","body":"<p>I need a little help, I made a code to read a sequence of numbers, store them in an array and then print the even ones and then odd ones, but the test has a catch where I need to change the position of two values to pass 5 and 3:</p>\n<p>Input data: 13452</p>\n<p>Expected output: 42153</p>\n<p>My output: 42135</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n\n    Scanner input = new Scanner(System.in);\n    \n    int N;\n    N = input.nextInt();\n    int nums[] = new int[N];\n\n    for (int i = 0; i &lt; N; i++) {\n        nums[i] = input.nextInt();\n    }\n    for (int i = 0; i &lt; N; i++) {\n        if (nums[i] % 2 == 0) {\n            System.out.print(nums[i]);\n            System.out.println();\n        }\n    }\n    \n    for (int i = 0; i &lt; N; i++) {\n        if (nums[i] % 2 != 0) {\n            System.out.print(nums[i]);\n            System.out.println();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","scala","apache-spark","sbt","akka-stream"],"comments":[{"owner":{"account_id":26509964,"reputation":13,"user_id":20145439,"display_name":"ajits089"},"score":0,"creation_date":1666294306,"post_id":74132055,"comment_id":130909183,"body_markdown":"I have reported this as a bug on sbt gitHub page.\nhttps://github.com/sbt/sbt/issues/7055","body":"I have reported this as a bug on sbt gitHub page. <a href=\"https://github.com/sbt/sbt/issues/7055\" rel=\"nofollow noreferrer\">github.com/sbt/sbt/issues/7055</a>"}],"answers":[{"tags":[],"owner":{"account_id":26509964,"reputation":13,"user_id":20145439,"display_name":"ajits089"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666765512,"creation_date":1666765512,"answer_id":74203466,"question_id":74132055,"body_markdown":"The problem gets solved after adding `run / connectInput := true` to build.sbt.\r\nmore on this: https://github.com/sbt/sbt/issues/229","title":"Removing run / fork := true from sbt results in [runtime, notfound] exception, and if not removed i can&#39;t take user input from console","body":"<p>The problem gets solved after adding <code>run / connectInput := true</code> to build.sbt.\nmore on this: <a href=\"https://github.com/sbt/sbt/issues/229\" rel=\"nofollow noreferrer\">https://github.com/sbt/sbt/issues/229</a></p>\n"}],"owner":{"account_id":26509964,"reputation":13,"user_id":20145439,"display_name":"ajits089"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74203466,"answer_count":1,"score":0,"last_activity_date":1666765512,"creation_date":1666214568,"question_id":74132055,"body_markdown":" ```\r\nimport Dependencies._\r\nimport sbt.Keys.{libraryDependencies, resolvers}\r\nimport sbt.Resolver\r\n\r\nThisBuild / scalaVersion := &quot;3.1.0&quot;\r\nThisBuild / version := &quot;0.1.0-SNAPSHOT&quot;\r\nThisBuild / organization := &quot;com.example&quot;\r\nThisBuild / organizationName := &quot;example&quot;\r\nThisBuild / scalacOptions ++= Seq(&quot;-language:implicitConversions&quot;, &quot;-deprecation&quot;, &quot;-feature&quot;)\r\n\r\nval AkkaVersion = &quot;2.6.17&quot;\r\nlazy val root = (project in file(&quot;.&quot;))\r\n  .settings(\r\n    name := &quot;sensor-nws&quot;,\r\n    libraryDependencies ++= Seq(\r\n      &quot;org.scalameta&quot; %% &quot;munit&quot; % &quot;0.7.26&quot; % Test,\r\n      excludes((&quot;com.typesafe.akka&quot; %% &quot;akka-stream&quot; % AkkaVersion).cross(CrossVersion.for3Use2_13)),\r\n      excludes((&quot;org.apache.spark&quot; %% &quot;spark-core&quot; % &quot;3.2.0&quot;).cross(CrossVersion.for3Use2_13)),\r\n      excludes((&quot;org.apache.spark&quot; %% &quot;spark-sql&quot; % &quot;3.2.0&quot;).cross(CrossVersion.for3Use2_13))),\r\n    resolvers ++= Seq(Resolver.typesafeIvyRepo(&quot;releases&quot;),\r\n      &quot;Artima Maven Repository&quot; at &quot;https://repo.artima.com/releases&quot;,\r\n      &quot;spark.jars.repositories&quot; at &quot;https://oss.sonatype.org/content/repositories/releases&quot;\r\n    )\r\n  )\r\n\r\n//netty-all replaces all these excludes\r\ndef excludes(m: ModuleID): ModuleID =\r\n  m.exclude(&quot;io.netty&quot;, &quot;netty-common&quot;).\r\n    exclude(&quot;io.netty&quot;, &quot;netty-handler&quot;).\r\n    exclude(&quot;io.netty&quot;, &quot;netty-transport&quot;).\r\n    exclude(&quot;io.netty&quot;, &quot;netty-buffer&quot;).\r\n    exclude(&quot;io.netty&quot;, &quot;netty-codec&quot;).\r\n    exclude(&quot;io.netty&quot;, &quot;netty-resolver&quot;).\r\n    exclude(&quot;io.netty&quot;, &quot;netty-transport-native-epoll&quot;).\r\n    exclude(&quot;io.netty&quot;, &quot;netty-transport-native-unix-common&quot;).\r\n    exclude(&quot;javax.xml.bind&quot;, &quot;jaxb-api&quot;).\r\n    exclude(&quot;jakarta.xml.bind&quot;, &quot;jaxb-api&quot;).\r\n    exclude(&quot;javax.activation&quot;, &quot;activation&quot;).\r\n    exclude(&quot;jakarta.annotation&quot;, &quot;jakarta.annotation-api&quot;).\r\n    exclude(&quot;javax.annotation&quot;, &quot;javax.annotation-api&quot;)\r\n\r\nrun / fork := true\r\nTest / fork := true\r\n```\r\n*if run / fork := true is removed from sbt then: Caused by: java.io.FileNotFoundException: /Users/ajitkumar/Downloads/flice/sensor-nws/target/bg-jobs/sbt_4be36759/target/135c9252/81ecd14d/hadoop-client-api-3.3.1.jar (No such file or directory)\r\n\r\nif not removed the below code results in \r\n```\r\n    println(&quot;Enter the directory path&quot;)\r\n    val dir = scala.io.StdIn.readLine()\r\n    print(&quot;dir -&gt;&quot;, dir)\r\n``\r\n[info] Enter the directory path\r\n[error] Exception in thread &quot;main&quot; java.lang.NullPointerException\r\n","title":"Removing run / fork := true from sbt results in [runtime, notfound] exception, and if not removed i can&#39;t take user input from console","body":"<pre><code>import Dependencies._\nimport sbt.Keys.{libraryDependencies, resolvers}\nimport sbt.Resolver\n\nThisBuild / scalaVersion := &quot;3.1.0&quot;\nThisBuild / version := &quot;0.1.0-SNAPSHOT&quot;\nThisBuild / organization := &quot;com.example&quot;\nThisBuild / organizationName := &quot;example&quot;\nThisBuild / scalacOptions ++= Seq(&quot;-language:implicitConversions&quot;, &quot;-deprecation&quot;, &quot;-feature&quot;)\n\nval AkkaVersion = &quot;2.6.17&quot;\nlazy val root = (project in file(&quot;.&quot;))\n .settings(\n   name := &quot;sensor-nws&quot;,\n   libraryDependencies ++= Seq(\n     &quot;org.scalameta&quot; %% &quot;munit&quot; % &quot;0.7.26&quot; % Test,\n     excludes((&quot;com.typesafe.akka&quot; %% &quot;akka-stream&quot; % AkkaVersion).cross(CrossVersion.for3Use2_13)),\n     excludes((&quot;org.apache.spark&quot; %% &quot;spark-core&quot; % &quot;3.2.0&quot;).cross(CrossVersion.for3Use2_13)),\n     excludes((&quot;org.apache.spark&quot; %% &quot;spark-sql&quot; % &quot;3.2.0&quot;).cross(CrossVersion.for3Use2_13))),\n   resolvers ++= Seq(Resolver.typesafeIvyRepo(&quot;releases&quot;),\n     &quot;Artima Maven Repository&quot; at &quot;https://repo.artima.com/releases&quot;,\n     &quot;spark.jars.repositories&quot; at &quot;https://oss.sonatype.org/content/repositories/releases&quot;\n   )\n )\n\n//netty-all replaces all these excludes\ndef excludes(m: ModuleID): ModuleID =\n m.exclude(&quot;io.netty&quot;, &quot;netty-common&quot;).\n   exclude(&quot;io.netty&quot;, &quot;netty-handler&quot;).\n   exclude(&quot;io.netty&quot;, &quot;netty-transport&quot;).\n   exclude(&quot;io.netty&quot;, &quot;netty-buffer&quot;).\n   exclude(&quot;io.netty&quot;, &quot;netty-codec&quot;).\n   exclude(&quot;io.netty&quot;, &quot;netty-resolver&quot;).\n   exclude(&quot;io.netty&quot;, &quot;netty-transport-native-epoll&quot;).\n   exclude(&quot;io.netty&quot;, &quot;netty-transport-native-unix-common&quot;).\n   exclude(&quot;javax.xml.bind&quot;, &quot;jaxb-api&quot;).\n   exclude(&quot;jakarta.xml.bind&quot;, &quot;jaxb-api&quot;).\n   exclude(&quot;javax.activation&quot;, &quot;activation&quot;).\n   exclude(&quot;jakarta.annotation&quot;, &quot;jakarta.annotation-api&quot;).\n   exclude(&quot;javax.annotation&quot;, &quot;javax.annotation-api&quot;)\n\nrun / fork := true\nTest / fork := true\n</code></pre>\n<p>*if run / fork := true is removed from sbt then: Caused by: java.io.FileNotFoundException: /Users/ajitkumar/Downloads/flice/sensor-nws/target/bg-jobs/sbt_4be36759/target/135c9252/81ecd14d/hadoop-client-api-3.3.1.jar (No such file or directory)</p>\n<p>if not removed the below code results in</p>\n<pre><code>    println(&quot;Enter the directory path&quot;)\n    val dir = scala.io.StdIn.readLine()\n    print(&quot;dir -&gt;&quot;, dir)\n``\n[info] Enter the directory path\n[error] Exception in thread &quot;main&quot; java.lang.NullPointerException\n</code></pre>\n"},{"tags":["java","spring","maven","spring-properties"],"answers":[{"tags":[],"owner":{"account_id":4525750,"reputation":401,"user_id":3677636,"accept_rate":50,"display_name":"user3677636"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647600310,"creation_date":1647599896,"answer_id":71525735,"question_id":71525717,"body_markdown":"Turns out that you can&#39;t use @PropertySource with a yml file.\r\nIt needs to be a .properties file.","title":"Load spring properties from library module properties file","body":"<p>Turns out that you can't use @PropertySource with a yml file.\nIt needs to be a .properties file.</p>\n"},{"tags":[],"owner":{"account_id":9874831,"reputation":9,"user_id":7313011,"display_name":"Pradeesh gpr"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666765465,"creation_date":1666342688,"answer_id":74151203,"question_id":71525717,"body_markdown":"If u want to use yml file Try using this\r\n```java\r\n@PropertySource(value = &quot;${secrets.filePath}&quot;, factory = YamlPropertySourceFactory.class)\r\npublic class ClassToLoadProperty {}\r\n```\r\n\r\n```java\r\n@Configuration\r\n@Component\r\npublic class YamlPropertySourceFactory extends DefaultPropertySourceFactory {\r\n    public YamlPropertySourceFactory() {}\r\n    \r\n    public PropertySource createPropertySource(String name, EncodedResource resource) throws IOException {\r\n        if (resource == null) {\r\n            return super.createPropertySource(name, resource);\r\n        } else {\r\n            List&lt;PropertySource&lt;?&gt;&gt; propertySourceList = (new YamlPropertySourceLoader()).load(resource.getResource().getFilename(), resource.getResource());\r\n            return !propertySourceList.isEmpty() ? (PropertySource)propertySourceList.iterator().next() : super.createPropertySource(name, resource);\r\n        }\r\n    }\r\n}\r\n```","title":"Load spring properties from library module properties file","body":"<p>If u want to use yml file Try using this</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PropertySource(value = &quot;${secrets.filePath}&quot;, factory = YamlPropertySourceFactory.class)\npublic class ClassToLoadProperty {}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@Component\npublic class YamlPropertySourceFactory extends DefaultPropertySourceFactory {\n    public YamlPropertySourceFactory() {}\n    \n    public PropertySource createPropertySource(String name, EncodedResource resource) throws IOException {\n        if (resource == null) {\n            return super.createPropertySource(name, resource);\n        } else {\n            List&lt;PropertySource&lt;?&gt;&gt; propertySourceList = (new YamlPropertySourceLoader()).load(resource.getResource().getFilename(), resource.getResource());\n            return !propertySourceList.isEmpty() ? (PropertySource)propertySourceList.iterator().next() : super.createPropertySource(name, resource);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4525750,"reputation":401,"user_id":3677636,"accept_rate":50,"display_name":"user3677636"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1855,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1666765465,"creation_date":1647599794,"question_id":71525717,"body_markdown":"I have a spring application where I have created a library module for accessing AWS Cognito that are going to be used by multiple applications.\r\nThe service needs a couple of properties in order to work which will be the same everywhere.\r\nSo I would like to have the properties file in the library module and force the properties to be loaded from there whenever the library is imported.\r\n\r\nI have tried creating a file called `cognito-properties.yml` in the library&#39;s resource folder and created a configuration file that is supposed to read from it.\r\n\r\n    @Configuration\r\n    @EnableAutoConfiguration\r\n    @ComponentScan(basePackageClasses = CognitoService.class)\r\n    @PropertySource(&quot;classpath:/cognito-properties.yml&quot;)\r\n    public class CognitoConfiguration {\r\n        @Value(&quot;${cognito.accessKey}&quot;)\r\n        private String accessKey;\r\n        @Value(&quot;${cognito.secretKey}&quot;)\r\n        private String secretKey;\r\n\r\n        @Bean\r\n        public AWSCognitoIdentityProvider awsCognitoIdentityProvider() {\r\n            return AWSCognitoIdentityProviderClientBuilder.standard()\r\n                .withCredentials(new AWSStaticCredentialsProvider(\r\n                    new BasicAWSCredentials(accessKey, secretKey)))\r\n                .withRegion(Regions.EU_NORTH_1)\r\n                .build();\r\n        }\r\n    }\r\n\r\nBut I can&#39;t get the properties to load from the properties.yml file in the library.\r\nWhen I add the properties to the applications application.yml file it works fine.","title":"Load spring properties from library module properties file","body":"<p>I have a spring application where I have created a library module for accessing AWS Cognito that are going to be used by multiple applications.\nThe service needs a couple of properties in order to work which will be the same everywhere.\nSo I would like to have the properties file in the library module and force the properties to be loaded from there whenever the library is imported.</p>\n<p>I have tried creating a file called <code>cognito-properties.yml</code> in the library's resource folder and created a configuration file that is supposed to read from it.</p>\n<pre><code>@Configuration\n@EnableAutoConfiguration\n@ComponentScan(basePackageClasses = CognitoService.class)\n@PropertySource(&quot;classpath:/cognito-properties.yml&quot;)\npublic class CognitoConfiguration {\n    @Value(&quot;${cognito.accessKey}&quot;)\n    private String accessKey;\n    @Value(&quot;${cognito.secretKey}&quot;)\n    private String secretKey;\n\n    @Bean\n    public AWSCognitoIdentityProvider awsCognitoIdentityProvider() {\n        return AWSCognitoIdentityProviderClientBuilder.standard()\n            .withCredentials(new AWSStaticCredentialsProvider(\n                new BasicAWSCredentials(accessKey, secretKey)))\n            .withRegion(Regions.EU_NORTH_1)\n            .build();\n    }\n}\n</code></pre>\n<p>But I can't get the properties to load from the properties.yml file in the library.\nWhen I add the properties to the applications application.yml file it works fine.</p>\n"},{"tags":["java","arrays","interface","iterator"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":2,"creation_date":1666685198,"post_id":74190886,"comment_id":130989542,"body_markdown":"debug your test and see where it fails","body":"debug your test and see where it fails"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1666685217,"post_id":74190886,"comment_id":130989546,"body_markdown":"Think about `if (index &lt;= items.length)`","body":"Think about <code>if (index &lt;= items.length)</code>"},{"owner":{"account_id":22999051,"reputation":285,"user_id":17123296,"display_name":"Nutnicha"},"score":0,"creation_date":1666688006,"post_id":74190886,"comment_id":130990601,"body_markdown":"@英語は苦手 what do u suggest I change in my code then? can you please explain","body":"@英語は苦手 what do u suggest I change in my code then? can you please explain"},{"owner":{"display_name":"user17233545"},"score":0,"creation_date":1666688010,"post_id":74190886,"comment_id":130990603,"body_markdown":"`getCount()` does not call `L.next()`, so it may loop infinitely.","body":"<code>getCount()</code> does not call <code>L.next()</code>, so it may loop infinitely."}],"answers":[{"comments":[{"owner":{"account_id":22999051,"reputation":285,"user_id":17123296,"display_name":"Nutnicha"},"score":0,"creation_date":1666689560,"post_id":74191553,"comment_id":130991099,"body_markdown":"because elemcount starts from 0 so it goes 0, 1,2 and 3","body":"because elemcount starts from 0 so it goes 0, 1,2 and 3"},{"owner":{"account_id":22999051,"reputation":285,"user_id":17123296,"display_name":"Nutnicha"},"score":0,"creation_date":1666689640,"post_id":74191553,"comment_id":130991127,"body_markdown":"also is it possible to show the iterator way of doing this, since I want to learn that way first. I haven&#39;t learnt about streams yet and I would like to start with iterator first, thank you","body":"also is it possible to show the iterator way of doing this, since I want to learn that way first. I haven&#39;t learnt about streams yet and I would like to start with iterator first, thank you"},{"owner":{"account_id":10455291,"reputation":1835,"user_id":7707631,"display_name":"Stefan Warminski"},"score":0,"creation_date":1666690590,"post_id":74191553,"comment_id":130991462,"body_markdown":"@Nutnicha `iter.hasNext()` will return `true` 4 times as well as `elemCount++;` so this will be 4 ;) I modified my answer getting rid of `Stream`","body":"@Nutnicha <code>iter.hasNext()</code> will return <code>true</code> 4 times as well as <code>elemCount++;</code> so this will be 4 ;) I modified my answer getting rid of <code>Stream</code>"}],"tags":[],"owner":{"account_id":10455291,"reputation":1835,"user_id":7707631,"display_name":"Stefan Warminski"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666690552,"creation_date":1666688474,"answer_id":74191553,"question_id":74190886,"body_markdown":"The error is in your `Iterate`.\r\nYou throw that exception `if (index &lt;= items.length)`.\r\n`index` starts with 0 so this is always `true`.\r\nYou only have to change to `&gt;=`\r\n\r\nAs mentioned by 英語は苦手 your `while` in `getCount` does not call `next`.\r\nSince you iterate over the items directly I would prefer to remove the `Iterator` at all.\r\nAnd a `Stream` may increase readability:\r\n```\r\nreturn (int) Stream.of(this.items)\r\n    .filter(dt -&gt; dt == item)\r\n    .count();\r\n```\r\nEDIT: without `Stream`-API you can iterate over your `items` directly:\r\n```\r\nfor (SL dt : this.items) {\r\n    if (dt == item) {\r\n        n++;\r\n    }\r\n}\r\n```\r\nIf you want to use the `Iterator` you have to call `next`\r\n```\r\nwhile (L.hasNext()) {\r\n    SL dt = L.next();\r\n    if (dt == item) {\r\n        n++;\r\n    }\r\n}\r\n```\r\n\r\nBTW: why `assertEquals(3, elemCount);`? There are 4 elements","title":"How can I correctly implement the methods in my class?","body":"<p>The error is in your <code>Iterate</code>.\nYou throw that exception <code>if (index &lt;= items.length)</code>.\n<code>index</code> starts with 0 so this is always <code>true</code>.\nYou only have to change to <code>&gt;=</code></p>\n<p>As mentioned by 英語は苦手 your <code>while</code> in <code>getCount</code> does not call <code>next</code>.\nSince you iterate over the items directly I would prefer to remove the <code>Iterator</code> at all.\nAnd a <code>Stream</code> may increase readability:</p>\n<pre><code>return (int) Stream.of(this.items)\n    .filter(dt -&gt; dt == item)\n    .count();\n</code></pre>\n<p>EDIT: without <code>Stream</code>-API you can iterate over your <code>items</code> directly:</p>\n<pre><code>for (SL dt : this.items) {\n    if (dt == item) {\n        n++;\n    }\n}\n</code></pre>\n<p>If you want to use the <code>Iterator</code> you have to call <code>next</code></p>\n<pre><code>while (L.hasNext()) {\n    SL dt = L.next();\n    if (dt == item) {\n        n++;\n    }\n}\n</code></pre>\n<p>BTW: why <code>assertEquals(3, elemCount);</code>? There are 4 elements</p>\n"}],"owner":{"account_id":22999051,"reputation":285,"user_id":17123296,"display_name":"Nutnicha"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":74191553,"answer_count":1,"score":-1,"last_activity_date":1666764871,"creation_date":1666685139,"question_id":74190886,"body_markdown":"I have a class `SimpHisto` that takes in an array of generic type `SL`, and returns the size and the count of a specific element of that array. My code is provided down below.\r\n\r\n    public class SimpHisto&lt;SL&gt; implements Histo&lt;SL&gt;, Iterable&lt;SL&gt; {\r\n        DT[] items;\r\n    \r\n        public SimpHisto() {\r\n        }\r\n    \r\n        public SimpHisto(SL[] items) {\r\n    \r\n            this.items = items;\r\n        }\r\n    \r\n        public int getCount(SL item) {\r\n            var n = 0;\r\n            Iterator&lt;SL&gt; L = this.iterator();\r\n            while (L.hasNext()) {\r\n                for (DT dt : items) {\r\n                    if (dt == item) {\r\n                        n++;\r\n                    }\r\n                }\r\n            }\r\n            return n;\r\n        }\r\n        @Override\r\n        public Iterator&lt;SL&gt; iterator() {\r\n    \r\n            return new Iterate();\r\n        }\r\n    \r\n        @Override\r\n        public int getTotalCount() {\r\n            return items.length;\r\n        }\r\n    \r\n        private class Iterate implements Iterator&lt;SL&gt; {\r\n            int index = 0;\r\n            boolean lastRemoved = false;\r\n    \r\n            @Override\r\n            public boolean hasNext() {\r\n                return (index &lt; items.length);\r\n            }\r\n    \r\n            @Override\r\n            public SL next() {\r\n                if (index &lt;= items.length)\r\n                    throw new NoSuchElementException(&quot;No element at index&quot;);\r\n                SL object = items[index];\r\n                index++;\r\n                lastRemoved = false;\r\n                return object;\r\n            }\r\n        }\r\n\r\nAfter I tried to run my code using the snippet down below...\r\n\r\n    public class SimpleHistogramTest {\r\n    \r\n        @Test\r\n        public void testHistogram() {\r\n            Character[] s = {&#39;a&#39;,&#39;b&#39;,&#39;c&#39;,&#39;a&#39;};\r\n            Histo&lt;Character&gt; h = new SimpHisto&lt;&gt;(s);\r\n            Iterator&lt;Character&gt; iter = h.iterator();\r\n            int elemCount = 0;\r\n            while(iter.hasNext()) {\r\n                iter.next();\r\n                elemCount++;\r\n            }\r\n    \r\n            assertEquals(3, elemCount);\r\n            assertEquals(2, h.getCount(&#39;a&#39;));\r\n            assertEquals(1, h.getCount(&#39;b&#39;));\r\n            assertEquals(1, h.getCount(&#39;c&#39;));\r\n            assertEquals(4, h.getTotalCount());\r\n        }\r\n    }\r\n\r\nI get an error saying:\r\n\r\n    &gt; Task :compileJava UP-TO-DATE\r\n    &gt; Task :processResources UP-TO-DATE\r\n    &gt; Task :classes UP-TO-DATE\r\n    &gt; Task :compileTestJava\r\n    &gt; Task :processTestResources NO-SOURCE\r\n    &gt; Task :testClasses\r\n    &gt; Task :test FAILED\r\n    \r\n    No element at index\r\n        \r\nCan someone please explain what&#39;s wrong with my code and provide any explanations on solutions?\r\n\r\nThank you\r\n\r\nP.S. this is interface `Histo` which is implemented by `SimpHisto`\r\n\r\n    public interface Histo&lt;DT&gt; extends Iterable&lt;DT&gt; {\r\n    \r\n        public int getTotalCount();\r\n        public int getCount(DT item);\r\n        public void setCount(DT item, int count);\r\n    }\r\n\r\n","title":"How can I correctly implement the methods in my class?","body":"<p>I have a class <code>SimpHisto</code> that takes in an array of generic type <code>SL</code>, and returns the size and the count of a specific element of that array. My code is provided down below.</p>\n<pre><code>public class SimpHisto&lt;SL&gt; implements Histo&lt;SL&gt;, Iterable&lt;SL&gt; {\n    DT[] items;\n\n    public SimpHisto() {\n    }\n\n    public SimpHisto(SL[] items) {\n\n        this.items = items;\n    }\n\n    public int getCount(SL item) {\n        var n = 0;\n        Iterator&lt;SL&gt; L = this.iterator();\n        while (L.hasNext()) {\n            for (DT dt : items) {\n                if (dt == item) {\n                    n++;\n                }\n            }\n        }\n        return n;\n    }\n    @Override\n    public Iterator&lt;SL&gt; iterator() {\n\n        return new Iterate();\n    }\n\n    @Override\n    public int getTotalCount() {\n        return items.length;\n    }\n\n    private class Iterate implements Iterator&lt;SL&gt; {\n        int index = 0;\n        boolean lastRemoved = false;\n\n        @Override\n        public boolean hasNext() {\n            return (index &lt; items.length);\n        }\n\n        @Override\n        public SL next() {\n            if (index &lt;= items.length)\n                throw new NoSuchElementException(&quot;No element at index&quot;);\n            SL object = items[index];\n            index++;\n            lastRemoved = false;\n            return object;\n        }\n    }\n</code></pre>\n<p>After I tried to run my code using the snippet down below...</p>\n<pre><code>public class SimpleHistogramTest {\n\n    @Test\n    public void testHistogram() {\n        Character[] s = {'a','b','c','a'};\n        Histo&lt;Character&gt; h = new SimpHisto&lt;&gt;(s);\n        Iterator&lt;Character&gt; iter = h.iterator();\n        int elemCount = 0;\n        while(iter.hasNext()) {\n            iter.next();\n            elemCount++;\n        }\n\n        assertEquals(3, elemCount);\n        assertEquals(2, h.getCount('a'));\n        assertEquals(1, h.getCount('b'));\n        assertEquals(1, h.getCount('c'));\n        assertEquals(4, h.getTotalCount());\n    }\n}\n</code></pre>\n<p>I get an error saying:</p>\n<pre><code>&gt; Task :compileJava UP-TO-DATE\n&gt; Task :processResources UP-TO-DATE\n&gt; Task :classes UP-TO-DATE\n&gt; Task :compileTestJava\n&gt; Task :processTestResources NO-SOURCE\n&gt; Task :testClasses\n&gt; Task :test FAILED\n\nNo element at index\n    \n</code></pre>\n<p>Can someone please explain what's wrong with my code and provide any explanations on solutions?</p>\n<p>Thank you</p>\n<p>P.S. this is interface <code>Histo</code> which is implemented by <code>SimpHisto</code></p>\n<pre><code>public interface Histo&lt;DT&gt; extends Iterable&lt;DT&gt; {\n\n    public int getTotalCount();\n    public int getCount(DT item);\n    public void setCount(DT item, int count);\n}\n</code></pre>\n"},{"tags":["java","delphi","hash"],"comments":[{"owner":{"account_id":5399016,"reputation":5264,"user_id":4299358,"display_name":"AmigoJack"},"score":0,"creation_date":1666776989,"post_id":74203339,"comment_id":131014361,"body_markdown":"Hashing is about bytes, not texts. Make sure your Delphi `String` really has an UTF-8 encoding, otherwise hash sums will differ.","body":"Hashing is about bytes, not texts. Make sure your Delphi <code>String</code> really has an UTF-8 encoding, otherwise hash sums will differ."},{"owner":{"account_id":14649258,"reputation":329,"user_id":10579713,"display_name":"Johan"},"score":0,"creation_date":1666860617,"post_id":74203339,"comment_id":131036899,"body_markdown":"function TfrmMain.GetXMLHashCode(pString: string): string;\nvar\n  SHA1: TIdHashSHA1;\n  Hash: TidBytes;\nbegin\n  SHA1 := TIdHashSHA1.Create;\n  try\n    try\n      Hash := SHA1.HashString(pString);\n      Result := TNetEncoding.Base64.EncodeBytesToString(Hash);\n    except on E: Exception do\n      Result := &#39;&#39;;\n    end;\n  finally\n    SHA1.Free;\n  end;\nend;","body":"function TfrmMain.GetXMLHashCode(pString: string): string; var   SHA1: TIdHashSHA1;   Hash: TidBytes; begin   SHA1 := TIdHashSHA1.Create;   try     try       Hash := SHA1.HashString(pString);       Result := TNetEncoding.Base64.EncodeBytesToString(Hash);     except on E: Exception do       Result := &#39;&#39;;     end;   finally     SHA1.Free;   end; end;"}],"owner":{"account_id":14649258,"reputation":329,"user_id":10579713,"display_name":"Johan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1666765463,"answer_count":0,"score":0,"last_activity_date":1666764605,"creation_date":1666764605,"question_id":74203339,"body_markdown":"I have the following Java routine that I need to translate to Delphi. I know how to do the Base64 encoding but I am not sure what the Delphi equivalent for MessageDigest is. How would I write this method in Delphi?\r\n\r\n```\r\n    private String getHashCode(String s) {\r\n        String outputHash;\r\n        try {\r\n            MessageDigest digest = MessageDigest.getInstance(&quot;SHA-1&quot;); // SHA-256\r\n            byte[] hash = digest.digest(s.getBytes(StandardCharsets.UTF_8));\r\n            outputHash = Base64.getEncoder().encodeToString(hash);\r\n        } catch (Exception ex) {\r\n            outputHash = &quot;&quot;;\r\n        }\r\n        return outputHash;\r\n    }\r\n```","title":"Translate Hash routine from Java to Delphi","body":"<p>I have the following Java routine that I need to translate to Delphi. I know how to do the Base64 encoding but I am not sure what the Delphi equivalent for MessageDigest is. How would I write this method in Delphi?</p>\n<pre><code>    private String getHashCode(String s) {\n        String outputHash;\n        try {\n            MessageDigest digest = MessageDigest.getInstance(&quot;SHA-1&quot;); // SHA-256\n            byte[] hash = digest.digest(s.getBytes(StandardCharsets.UTF_8));\n            outputHash = Base64.getEncoder().encodeToString(hash);\n        } catch (Exception ex) {\n            outputHash = &quot;&quot;;\n        }\n        return outputHash;\n    }\n</code></pre>\n"},{"tags":["java","spring","hibernate","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1666720685,"post_id":74198146,"comment_id":131002031,"body_markdown":"I don&#39;t know how it would have done so before, as it requires a full persistence unit to push the JPQL (or HQL) string to, and then parameters to bind to the query for an exception. I believe it can only validate it can build a query after deploying the persistence unit, not that it can really run.","body":"I don&#39;t know how it would have done so before, as it requires a full persistence unit to push the JPQL (or HQL) string to, and then parameters to bind to the query for an exception. I believe it can only validate it can build a query after deploying the persistence unit, not that it can really run."},{"owner":{"account_id":156734,"reputation":26707,"user_id":374198,"accept_rate":62,"display_name":"Josh M."},"score":0,"creation_date":1666721417,"post_id":74198146,"comment_id":131002232,"body_markdown":"Why would it be able to validate that the entity names are correct, but not the parameter names?","body":"Why would it be able to validate that the entity names are correct, but not the parameter names?"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1666727495,"post_id":74198146,"comment_id":131003979,"body_markdown":"Because it can build the query object after deployment, which gives JPA a chance to parse the query is valid for the entity. I seem to recall Spring doing this for its own generated queries when you don&#39;t specify the query string to use, ie findBySomeField(@Param(name = &quot;someParam&quot;) String someParam);  criteria queries allow defining a parameter and its type which can be checked against the entity. JPQL queries though only offer setParameter where you pass in the parameter name and an object value, and most providers only validate it on execution anyway.","body":"Because it can build the query object after deployment, which gives JPA a chance to parse the query is valid for the entity. I seem to recall Spring doing this for its own generated queries when you don&#39;t specify the query string to use, ie findBySomeField(@Param(name = &quot;someParam&quot;) String someParam);  criteria queries allow defining a parameter and its type which can be checked against the entity. JPQL queries though only offer setParameter where you pass in the parameter name and an object value, and most providers only validate it on execution anyway."}],"answers":[{"comments":[{"owner":{"account_id":156734,"reputation":26707,"user_id":374198,"accept_rate":62,"display_name":"Josh M."},"score":0,"creation_date":1666807782,"post_id":74203322,"comment_id":131025595,"body_markdown":"Native queries would specifically _not_ be validated.","body":"Native queries would specifically <i>not</i> be validated."}],"tags":[],"owner":{"account_id":21967042,"reputation":84,"user_id":16244113,"display_name":"mamJavad"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666764465,"creation_date":1666764465,"answer_id":74203322,"question_id":74198146,"body_markdown":"I think you have to use     @Query(nativeQuery = true , value = &quot;YOUR QUERY&quot;)","title":"Spring Data JPA query parameters not validated at startup","body":"<p>I think you have to use     @Query(nativeQuery = true , value = &quot;YOUR QUERY&quot;)</p>\n"}],"owner":{"account_id":156734,"reputation":26707,"user_id":374198,"accept_rate":62,"display_name":"Josh M."},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":325,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666764465,"creation_date":1666719724,"question_id":74198146,"body_markdown":"In the past, I swear Spring would validate `@Query` parameters at startup (e.g. `./gradlew bootrun`). However, we just noticed this runtime exception:\r\n\r\n```\r\norg.springframework.dao.InvalidDataAccessResourceUsageException: Named parameter not bound : someParamWithTypo\r\n    nested exception is org.hibernate.QueryException: Named parameter not bound : someParamWithTypo\r\n```\r\n\r\nFor the query:\r\n\r\n```\r\n@Query(&quot;FROM MyEntity WHERE someField = :someParamWithTypo&quot;)\r\nMyEntity search(@Param(name = &quot;someParam&quot;) String someParam);\r\n```\r\n\r\nNote that the `@Query` references the parameter `:someParamWithTypo` but the proper name of this parameter is `someParam`. Yet the application starts up fine. If I purposely rename `MyEntity` to something invalid, e.g. `MyEnnnntity`, then start-up fails correctly.\r\n\r\n---\r\n\r\n- Spring Boot: 2.7.1\r\n- Hibernate: 5.6.9","title":"Spring Data JPA query parameters not validated at startup","body":"<p>In the past, I swear Spring would validate <code>@Query</code> parameters at startup (e.g. <code>./gradlew bootrun</code>). However, we just noticed this runtime exception:</p>\n<pre><code>org.springframework.dao.InvalidDataAccessResourceUsageException: Named parameter not bound : someParamWithTypo\n    nested exception is org.hibernate.QueryException: Named parameter not bound : someParamWithTypo\n</code></pre>\n<p>For the query:</p>\n<pre><code>@Query(&quot;FROM MyEntity WHERE someField = :someParamWithTypo&quot;)\nMyEntity search(@Param(name = &quot;someParam&quot;) String someParam);\n</code></pre>\n<p>Note that the <code>@Query</code> references the parameter <code>:someParamWithTypo</code> but the proper name of this parameter is <code>someParam</code>. Yet the application starts up fine. If I purposely rename <code>MyEntity</code> to something invalid, e.g. <code>MyEnnnntity</code>, then start-up fails correctly.</p>\n<hr />\n<ul>\n<li>Spring Boot: 2.7.1</li>\n<li>Hibernate: 5.6.9</li>\n</ul>\n"},{"tags":["java","while-loop"],"comments":[{"owner":{"account_id":10455291,"reputation":1835,"user_id":7707631,"display_name":"Stefan Warminski"},"score":1,"creation_date":1666706558,"post_id":74195295,"comment_id":130997035,"body_markdown":"Extract your code into a method and call this method in another loop where you can check the retry option","body":"Extract your code into a method and call this method in another loop where you can check the retry option"},{"owner":{"account_id":10455291,"reputation":1835,"user_id":7707631,"display_name":"Stefan Warminski"},"score":0,"creation_date":1666706743,"post_id":74195295,"comment_id":130997099,"body_markdown":"Note: all of your `while` will never stop if entered once. Since you&#39;re just printing some text I think `if` would be better","body":"Note: all of your <code>while</code> will never stop if entered once. Since you&#39;re just printing some text I think <code>if</code> would be better"},{"owner":{"account_id":26500366,"reputation":7,"user_id":20137415,"display_name":"razorGold"},"score":0,"creation_date":1666706938,"post_id":74195295,"comment_id":130997164,"body_markdown":"@StefanWarminski oh thats explains it, though i also want the program to ask if the user wants to try again when the program has successfully ran","body":"@StefanWarminski oh thats explains it, though i also want the program to ask if the user wants to try again when the program has successfully ran"}],"answers":[{"comments":[{"owner":{"account_id":259805,"reputation":386,"user_id":542938,"display_name":"vivek"},"score":0,"creation_date":1666769487,"post_id":74195739,"comment_id":131011948,"body_markdown":"You should not ask for Retry in the loop, as this would mean asking after every number in the range is printed. The loop should only print the numbers, then the Retry (Y/N) should be asked.","body":"You should not ask for Retry in the loop, as this would mean asking after every number in the range is printed. The loop should only print the numbers, then the Retry (Y/N) should be asked."}],"tags":[],"owner":{"account_id":26727920,"reputation":13,"user_id":20330766,"display_name":"Jayant Verma"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666708259,"creation_date":1666708259,"answer_id":74195739,"question_id":74195295,"body_markdown":"I can see a few significant problems in your code. \r\nLike all of your while loops are infinite. You can just use &quot;if-else&quot; instead.\r\nNext, I&#39;m not sure why you put that for loop inside that endless while loop.\r\nWhat you can do instead is, do your printing inside for loop and then ask if they want to retry. Here&#39;s an example :\r\n\r\n    for (int i = start; i &lt; end; i = i + step)\r\n    {\r\n         System.out.println(i);\r\n         System.out.println(&quot;Retry (Y/N) : &quot;);\r\n         option = input.nextChar();\r\n         if (option == &#39;N&#39;)\r\n         {\r\n              break;\r\n         }\r\n    }\r\n\r\n","title":"I want to add the a feature where the program to ask the user if they want to continue","body":"<p>I can see a few significant problems in your code.\nLike all of your while loops are infinite. You can just use &quot;if-else&quot; instead.\nNext, I'm not sure why you put that for loop inside that endless while loop.\nWhat you can do instead is, do your printing inside for loop and then ask if they want to retry. Here's an example :</p>\n<pre><code>for (int i = start; i &lt; end; i = i + step)\n{\n     System.out.println(i);\n     System.out.println(&quot;Retry (Y/N) : &quot;);\n     option = input.nextChar();\n     if (option == 'N')\n     {\n          break;\n     }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":259805,"reputation":386,"user_id":542938,"display_name":"vivek"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666710957,"creation_date":1666710957,"answer_id":74196372,"question_id":74195295,"body_markdown":"You can add a do-while loop and put all your logic within it. So basically it should begin before your first sysout and should end after your commented code at the end.\r\n\r\nBut there are some other problems in your code. For example,\r\n1.  while(step == 0) should be if(step == 0) or better if(step &lt;=0), because you want to show the message if step is 0 or negative, otherwise you want to print the numbers, correct? \r\n\r\n2. You don&#39;t need the while(true) around the for loop. For loop itself should be enough.\r\n\r\nTake this as a suggestion and build around your code.","title":"I want to add the a feature where the program to ask the user if they want to continue","body":"<p>You can add a do-while loop and put all your logic within it. So basically it should begin before your first sysout and should end after your commented code at the end.</p>\n<p>But there are some other problems in your code. For example,</p>\n<ol>\n<li><p>while(step == 0) should be if(step == 0) or better if(step &lt;=0), because you want to show the message if step is 0 or negative, otherwise you want to print the numbers, correct?</p>\n</li>\n<li><p>You don't need the while(true) around the for loop. For loop itself should be enough.</p>\n</li>\n</ol>\n<p>Take this as a suggestion and build around your code.</p>\n"}],"owner":{"account_id":26500366,"reputation":7,"user_id":20137415,"display_name":"razorGold"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1666763781,"creation_date":1666706411,"question_id":74195295,"body_markdown":"I want to add a feature to my while loop if they want to try again but I don&#39;t know where to put the code. If the user enters &lt;kbd&gt;N&lt;/kbd&gt;, the code shall stop and if he enters &lt;kbd&gt;Y&lt;/kbd&gt;, it shall re-ask for the start, end and step.\r\n\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class Sum3 {\r\n    public static void main(String[] args) {\r\n        Scanner input = new Scanner(System.in);\r\n        int start, end, step;\r\n        char option;\r\n        \r\n        \r\n        System.out.print(&quot;Enter START value: &quot;);\r\n        start = input.nextInt();\r\n        System.out.print(&quot;Enter END value: &quot;);\r\n        end = input.nextInt();\r\n        System.out.print(&quot;Enter STEP value: &quot;);\r\n        step = input.nextInt();\r\n         \r\n        while (start &gt; end)\r\n            System.out.println(&quot;Start is larger than End&quot;);\r\n\r\n        while (step == 0)\r\n            System.out.println(&quot;Step is larger than the zero&quot;);\r\n\r\n        while (true)\r\n            for (int i = start; i &lt; end; i += step)\r\n                System.out.println(i);\r\n\r\n        /*System.out.println(&quot;Would you still want to continue? (Y/ N)&quot;);\r\n        option = input.next().charAt(0);*/\r\n    }\r\n}\r\n```","title":"I want to add the a feature where the program to ask the user if they want to continue","body":"<p>I want to add a feature to my while loop if they want to try again but I don't know where to put the code. If the user enters <kbd>N</kbd>, the code shall stop and if he enters <kbd>Y</kbd>, it shall re-ask for the start, end and step.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class Sum3 {\n    public static void main(String[] args) {\n        Scanner input = new Scanner(System.in);\n        int start, end, step;\n        char option;\n        \n        \n        System.out.print(&quot;Enter START value: &quot;);\n        start = input.nextInt();\n        System.out.print(&quot;Enter END value: &quot;);\n        end = input.nextInt();\n        System.out.print(&quot;Enter STEP value: &quot;);\n        step = input.nextInt();\n         \n        while (start &gt; end)\n            System.out.println(&quot;Start is larger than End&quot;);\n\n        while (step == 0)\n            System.out.println(&quot;Step is larger than the zero&quot;);\n\n        while (true)\n            for (int i = start; i &lt; end; i += step)\n                System.out.println(i);\n\n        /*System.out.println(&quot;Would you still want to continue? (Y/ N)&quot;);\n        option = input.next().charAt(0);*/\n    }\n}\n</code></pre>\n"},{"tags":["java","debugging","intellij-idea","methods","profiling"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1586554333,"post_id":61148980,"comment_id":108178570,"body_markdown":"Add a static variable that is incremented. If you use threads, consider using a [LongAdder](https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/util/concurrent/atomic/LongAdder.html).","body":"Add a static variable that is incremented. If you use threads, consider using a <a href=\"https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/util/concurrent/atomic/LongAdder.html\" rel=\"nofollow noreferrer\">LongAdder</a>."},{"owner":{"account_id":13482973,"reputation":1362,"user_id":9727674,"display_name":"Moritz Gro&#223;"},"score":0,"creation_date":1586554853,"post_id":61148980,"comment_id":108178726,"body_markdown":"Yea I know, but there has to be something cleaner than that.","body":"Yea I know, but there has to be something cleaner than that."},{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1586557714,"post_id":61148980,"comment_id":108179595,"body_markdown":"@Morinator does [this answer](https://intellij-support.jetbrains.com/hc/en-us/community/posts/206893895-Some-questions-on-debugging-in-Idea-?page=1#community_comment_206985409) help?","body":"@Morinator does <a href=\"https://intellij-support.jetbrains.com/hc/en-us/community/posts/206893895-Some-questions-on-debugging-in-Idea-?page=1#community_comment_206985409\" rel=\"nofollow noreferrer\">this answer</a> help?"},{"owner":{"account_id":13482973,"reputation":1362,"user_id":9727674,"display_name":"Moritz Gro&#223;"},"score":0,"creation_date":1586559411,"post_id":61148980,"comment_id":108180040,"body_markdown":"I will look into it. Thanks in advance @CrazyCoder.","body":"I will look into it. Thanks in advance @CrazyCoder."}],"answers":[{"comments":[{"owner":{"account_id":13482973,"reputation":1362,"user_id":9727674,"display_name":"Moritz Gro&#223;"},"score":0,"creation_date":1666809798,"post_id":74203123,"comment_id":131026261,"body_markdown":"I guess technically this answers it, but I want to analyze a searchtree-algorithm, where I&#39;d need to count the calls for many different functions. I feel like this doesn&#39;t scale well.","body":"I guess technically this answers it, but I want to analyze a searchtree-algorithm, where I&#39;d need to count the calls for many different functions. I feel like this doesn&#39;t scale well."}],"tags":[],"owner":{"account_id":3558883,"reputation":1652,"user_id":2971851,"accept_rate":100,"display_name":"Steven Chou"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1666762745,"creation_date":1666762745,"answer_id":74203123,"question_id":61148980,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n1. Set up a breakpoint\r\n2. Uncheck the suspend\r\n3. Check the &quot;Breakpoint hit&quot; message\r\n4. After running the code, search the printed message and find the count.\r\n\r\n  [1]: https://i.stack.imgur.com/Wvcy2.png","title":"IntelliJ Debugger: Count how many times a function is called","body":"<p><a href=\"https://i.stack.imgur.com/Wvcy2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Wvcy2.png\" alt=\"enter image description here\" /></a></p>\n<ol>\n<li>Set up a breakpoint</li>\n<li>Uncheck the suspend</li>\n<li>Check the &quot;Breakpoint hit&quot; message</li>\n<li>After running the code, search the printed message and find the count.</li>\n</ol>\n"}],"owner":{"account_id":13482973,"reputation":1362,"user_id":9727674,"display_name":"Moritz Gro&#223;"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1498,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666762745,"creation_date":1586554225,"question_id":61148980,"body_markdown":"I want to count how many times a function is called overall in my program. The method is called in different objects and I dont want to pass one variable through and let them all add to it.  \r\nIs there a feature in the IntelliJ Debugger that&#39;s counts how often a function is called overall?\r\n\r\nSpecificially, my program is a search-tree algorithm for a graph-problem and I want to count, how many different branches the generated search-tree has. Each of these branches corresponds to a call of the mentioned function.","title":"IntelliJ Debugger: Count how many times a function is called","body":"<p>I want to count how many times a function is called overall in my program. The method is called in different objects and I dont want to pass one variable through and let them all add to it.<br>\nIs there a feature in the IntelliJ Debugger that's counts how often a function is called overall?</p>\n\n<p>Specificially, my program is a search-tree algorithm for a graph-problem and I want to count, how many different branches the generated search-tree has. Each of these branches corresponds to a call of the mentioned function.</p>\n"},{"tags":["java","android","android-asynctask"],"comments":[{"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"score":0,"creation_date":1666762867,"post_id":74203120,"comment_id":131010238,"body_markdown":"Any stack trace please?","body":"Any stack trace please?"},{"owner":{"account_id":456501,"reputation":2813,"user_id":855303,"accept_rate":43,"display_name":"Karan_Rana"},"score":0,"creation_date":1666764043,"post_id":74203120,"comment_id":131010501,"body_markdown":"Stack trace please","body":"Stack trace please"},{"owner":{"account_id":9172301,"reputation":4168,"user_id":6819340,"accept_rate":39,"display_name":"darshan"},"score":2,"creation_date":1666765346,"post_id":74203120,"comment_id":131010793,"body_markdown":"Your `File` instance in `downloadFile` is null. You are initialising it as `null` but it is never changed.","body":"Your <code>File</code> instance in <code>downloadFile</code> is null. You are initialising it as <code>null</code> but it is never changed."},{"owner":{"account_id":17438053,"reputation":29,"user_id":12640693,"display_name":"M. Hayyan Ali"},"score":0,"creation_date":1666767337,"post_id":74203120,"comment_id":131011290,"body_markdown":"Oh, then what will be the parameters inside new File(); ?","body":"Oh, then what will be the parameters inside new File(); ?"},{"owner":{"account_id":270025,"reputation":6187,"user_id":3649629,"accept_rate":67,"display_name":"Gleichmut"},"score":0,"creation_date":1666771709,"post_id":74203120,"comment_id":131012645,"body_markdown":"Please take a look on this code sample to get a general understanding how to read data from the web stream and write to the file https://stackoverflow.com/questions/26409640/android-file-stream. Also please note ```AsyncTask``` is exist for ~15 years and officially deprecated since API 30, it is recommended to ```Use the standard java.util.concurrent or Kotlin concurrency utilities instead```","body":"Please take a look on this code sample to get a general understanding how to read data from the web stream and write to the file <a href=\"https://stackoverflow.com/questions/26409640/android-file-stream\">stackoverflow.com/questions/26409640/android-file-stream</a>. Also please note <code>AsyncTask</code> is exist for ~15 years and officially deprecated since API 30, it is recommended to <code>Use the standard java.util.concurrent or Kotlin concurrency utilities instead</code>"}],"owner":{"account_id":17438053,"reputation":29,"user_id":12640693,"display_name":"M. Hayyan Ali"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666762692,"creation_date":1666762692,"question_id":74203120,"body_markdown":"I&#39;m developing an app which downloads any image or pdf file in internal storage using a url. For this I&#39;m using the AsyncTask class. The problem occurs as soon as I click the download button. My app crashes and when I check the internal storage of the emnulator, no file is saved. This problem is only occuring in the AsyncTask class. The rest of the class are giving no such issues.\r\n\r\n\r\n```\r\nclass FileDownload extends AsyncTask&lt;String, Void, File&gt; {\r\n    ProgressDialog p;\r\n\r\n    public File downloadFile(String url) {\r\n        File file = null;\r\n        try {\r\n            InputStream inputStream = new URL(url).openStream();\r\n            inputStream.close();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return file;\r\n    }\r\n\r\n    public void saveImage(Context context, File file, String imageName) {\r\n        FileOutputStream foStream;\r\n        try {\r\n            foStream = context.openFileOutput(imageName, Context.MODE_PRIVATE);\r\n            foStream.close();\r\n        } catch (Exception e) {\r\n            Log.d(&quot;saveFile&quot;, &quot;Oops! Something went wrong!&quot;);\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void onPreExecute() {\r\n        super.onPreExecute();\r\n        p = new ProgressDialog(p.getContext());\r\n        p.setMessage(&quot;Downloading. Please wait...&quot;);\r\n        p.setIndeterminate(false);\r\n        p.setCancelable(false);\r\n        p.show();\r\n    }\r\n\r\n    @Override\r\n    protected File doInBackground(String... strings) {\r\n        return downloadFile(strings[0]);\r\n    }\r\n\r\n    @Override\r\n    protected void onPostExecute(File file) {\r\n        super.onPostExecute(file);\r\n        saveImage(p.getContext(), file, &quot;file&quot;);\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\nMaybe I&#39;m writing some line(s) of code(s) in the wrong place which is why my app is crashing, but I can&#39;t figure out where it is. Help please! :(","title":"My app keeps crashing on when I&#39;m using AsyncTask","body":"<p>I'm developing an app which downloads any image or pdf file in internal storage using a url. For this I'm using the AsyncTask class. The problem occurs as soon as I click the download button. My app crashes and when I check the internal storage of the emnulator, no file is saved. This problem is only occuring in the AsyncTask class. The rest of the class are giving no such issues.</p>\n<pre><code>class FileDownload extends AsyncTask&lt;String, Void, File&gt; {\n    ProgressDialog p;\n\n    public File downloadFile(String url) {\n        File file = null;\n        try {\n            InputStream inputStream = new URL(url).openStream();\n            inputStream.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        return file;\n    }\n\n    public void saveImage(Context context, File file, String imageName) {\n        FileOutputStream foStream;\n        try {\n            foStream = context.openFileOutput(imageName, Context.MODE_PRIVATE);\n            foStream.close();\n        } catch (Exception e) {\n            Log.d(&quot;saveFile&quot;, &quot;Oops! Something went wrong!&quot;);\n            e.printStackTrace();\n        }\n    }\n\n    @Override\n    protected void onPreExecute() {\n        super.onPreExecute();\n        p = new ProgressDialog(p.getContext());\n        p.setMessage(&quot;Downloading. Please wait...&quot;);\n        p.setIndeterminate(false);\n        p.setCancelable(false);\n        p.show();\n    }\n\n    @Override\n    protected File doInBackground(String... strings) {\n        return downloadFile(strings[0]);\n    }\n\n    @Override\n    protected void onPostExecute(File file) {\n        super.onPostExecute(file);\n        saveImage(p.getContext(), file, &quot;file&quot;);\n    }\n\n}\n</code></pre>\n<p>Maybe I'm writing some line(s) of code(s) in the wrong place which is why my app is crashing, but I can't figure out where it is. Help please! :(</p>\n"},{"tags":["java","data-structures","tree","reddit","threaded-comments"],"answers":[{"comments":[{"owner":{"account_id":32778,"reputation":219,"user_id":91219,"accept_rate":100,"display_name":"Hula"},"score":0,"creation_date":1239949589,"post_id":759225,"comment_id":571179,"body_markdown":"Why faulty? Doesn&#39;t it make sense to try to start with the most efficient data structure when you can anticipate performance overhead?","body":"Why faulty? Doesn&#39;t it make sense to try to start with the most efficient data structure when you can anticipate performance overhead?"},{"owner":{"account_id":8291,"reputation":860527,"user_id":14860,"accept_rate":100,"display_name":"paxdiablo"},"score":3,"creation_date":1239950044,"post_id":759225,"comment_id":571204,"body_markdown":"Maybe the quote should be: &quot;Premature optimization is evil, but so is choosing a stupid data structure&quot; :-) [The word &quot;stupid&quot; is NOT in reference to anything Stu or Hula said, I&#39;d just like to make that clear].","body":"Maybe the quote should be: &quot;Premature optimization is evil, but so is choosing a stupid data structure&quot; :-) [The word &quot;stupid&quot; is NOT in reference to anything Stu or Hula said, I&#39;d just like to make that clear]."},{"owner":{"account_id":2147,"reputation":38490,"user_id":2961,"accept_rate":79,"display_name":"Stu Thompson"},"score":1,"creation_date":1239953899,"post_id":759225,"comment_id":571330,"body_markdown":"*Possibly* faulty because you won&#39;t know what the most efficient data structure is for your use case until you try it out.  (Plenty of folks attempt optimization only to have it be slower than simpler code.) Until then, use the structure that results in clearly readable code, which matches your ideas.","body":"<i>Possibly</i> faulty because you won&#39;t know what the most efficient data structure is for your use case until you try it out.  (Plenty of folks attempt optimization only to have it be slower than simpler code.) Until then, use the structure that results in clearly readable code, which matches your ideas."}],"tags":[],"owner":{"account_id":2147,"reputation":38490,"user_id":2961,"accept_rate":79,"display_name":"Stu Thompson"},"comment_count":3,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1239948595,"creation_date":1239948595,"answer_id":759225,"question_id":759208,"body_markdown":"&gt; This would be important if I have voting on each comment. Because then the tree would need to be reordered after each vote - a potentially expensive operation computationally.\r\n\r\nSounds like a premature optimization to me, possibly even a faulty optimization.\r\n\r\nYour tree data structure sounds logical for representing your data.  I say stick with it.  Optimize it later only if a performance problem is detected and measured, and can be compared with alternatives.","title":"Most efficient data structure to represent threaded comments in Java?","body":"<blockquote>\n  <p>This would be important if I have voting on each comment. Because then the tree would need to be reordered after each vote - a potentially expensive operation computationally.</p>\n</blockquote>\n\n<p>Sounds like a premature optimization to me, possibly even a faulty optimization.</p>\n\n<p>Your tree data structure sounds logical for representing your data.  I say stick with it.  Optimize it later only if a performance problem is detected and measured, and can be compared with alternatives.</p>\n"},{"tags":[],"owner":{"account_id":17095,"reputation":6286,"user_id":37923,"display_name":"Mark"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1239950548,"creation_date":1239948707,"answer_id":759229,"question_id":759208,"body_markdown":"The tree is right (with getLastSibling and getNextSibling), but if you&#39;re storing/querying the data, you probably want to store a lineage for each entry, or number by a preorder traversal:\r\n\r\nhttp://www.sitepoint.com/article/hierarchical-data-database/2/\r\n\r\nFor loss of the exact number of subnodes, you can leave gaps to minimise renumbering.  Still, I&#39;m not certain that this will be noticeably faster than traversing the tree each time.  I guess it depends how deep your tree grows.\r\n\r\nSee also:\r\n\r\nhttps://stackoverflow.com/questions/38801/sql-how-to-store-and-navigate-hierarchies\r\nhttp://www.ibase.ru/devinfo/DBMSTrees/sqltrees.html (this scheme is also call a Celko tree)","title":"Most efficient data structure to represent threaded comments in Java?","body":"<p>The tree is right (with getLastSibling and getNextSibling), but if you're storing/querying the data, you probably want to store a lineage for each entry, or number by a preorder traversal:</p>\n\n<p><a href=\"http://www.sitepoint.com/article/hierarchical-data-database/2/\" rel=\"nofollow noreferrer\">http://www.sitepoint.com/article/hierarchical-data-database/2/</a></p>\n\n<p>For loss of the exact number of subnodes, you can leave gaps to minimise renumbering.  Still, I'm not certain that this will be noticeably faster than traversing the tree each time.  I guess it depends how deep your tree grows.</p>\n\n<p>See also:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/38801/sql-how-to-store-and-navigate-hierarchies\">SQL - How to store and navigate hierarchies?</a>\n<a href=\"http://www.ibase.ru/devinfo/DBMSTrees/sqltrees.html\" rel=\"nofollow noreferrer\">http://www.ibase.ru/devinfo/DBMSTrees/sqltrees.html</a> (this scheme is also call a Celko tree)</p>\n"},{"comments":[{"owner":{"account_id":32778,"reputation":219,"user_id":91219,"accept_rate":100,"display_name":"Hula"},"score":0,"creation_date":1239976388,"post_id":759235,"comment_id":572354,"body_markdown":"Wow! Thanks for taking the time explain this. I appreciate it.","body":"Wow! Thanks for taking the time explain this. I appreciate it."}],"tags":[],"owner":{"account_id":8291,"reputation":860527,"user_id":14860,"accept_rate":100,"display_name":"paxdiablo"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1239958686,"creation_date":1239948893,"answer_id":759235,"question_id":759208,"body_markdown":"I would use levels of linked lists.\r\n\r\n    message1\r\n        message2\r\n            message3\r\n            message4\r\n        message5\r\n        message6\r\n            message7\r\n\r\nEach node would have a pointer to its:\r\n\r\n    - forward sibling  (2-&gt;5, 3-&gt;4, 5-&gt;6,                   1/4/6/7-&gt;NULL).\r\n    - backward sibling (4-&gt;3, 5-&gt;2, 6-&gt;5,                   1/2/3/7-&gt;NULL).\r\n    - first child      (1-&gt;2, 2-&gt;3, 6-&gt;7,                   3/4/5/7-&gt;NULL).\r\n    - parent           (2-&gt;1, 3-&gt;2, 4-&gt;2, 5-&gt;1, 6-&gt;1, 7-&gt;6,       1-&gt;NULL).\r\n\r\nWithin each level, messages would be sorted in the list by vote count (or whatever other score you wanted to use).\r\n\r\nThat would give you maximum flexibility for moving things around and you could move whole sub-trees (e.g., `message2`) just by changing the links at the parent and that level.\r\n\r\nFor example, say `message6` gets a influx of votes that makes it more popular than `message5`. The changes are (adjusting both the next and previous sibling pointers):\r\n\r\n  - `message2 -&gt; message6`\r\n  - `message6 -&gt; message5`\r\n  - `message5 -&gt; NULL`.\r\n\r\nto get:\r\n\r\n    message1\r\n        message2\r\n            message3\r\n            message4\r\n        message6\r\n            message7\r\n        message5\r\n\r\nIf it continues until it garners more votes than `message2`, the following occurs:\r\n\r\n  - `message6 -&gt; message2`\r\n  - `message2 -&gt; message5`\r\n\r\n*AND* the first-child pointer of `message1` is set to `message6` (it was `message2`), still relatively easy, to get:\r\n\r\n    message1\r\n        message6\r\n            message7\r\n        message2\r\n            message3\r\n            message4\r\n        message5\r\n\r\nRe-ordering only needs to occur when a score change results in a message becoming more than its upper sibling or less than its lower sibling. You don&#39;t need to re-order after every score change.\r\n","title":"Most efficient data structure to represent threaded comments in Java?","body":"<p>I would use levels of linked lists.</p>\n\n<pre><code>message1\n    message2\n        message3\n        message4\n    message5\n    message6\n        message7\n</code></pre>\n\n<p>Each node would have a pointer to its:</p>\n\n<pre><code>- forward sibling  (2-&gt;5, 3-&gt;4, 5-&gt;6,                   1/4/6/7-&gt;NULL).\n- backward sibling (4-&gt;3, 5-&gt;2, 6-&gt;5,                   1/2/3/7-&gt;NULL).\n- first child      (1-&gt;2, 2-&gt;3, 6-&gt;7,                   3/4/5/7-&gt;NULL).\n- parent           (2-&gt;1, 3-&gt;2, 4-&gt;2, 5-&gt;1, 6-&gt;1, 7-&gt;6,       1-&gt;NULL).\n</code></pre>\n\n<p>Within each level, messages would be sorted in the list by vote count (or whatever other score you wanted to use).</p>\n\n<p>That would give you maximum flexibility for moving things around and you could move whole sub-trees (e.g., <code>message2</code>) just by changing the links at the parent and that level.</p>\n\n<p>For example, say <code>message6</code> gets a influx of votes that makes it more popular than <code>message5</code>. The changes are (adjusting both the next and previous sibling pointers):</p>\n\n<ul>\n<li><code>message2 -&gt; message6</code></li>\n<li><code>message6 -&gt; message5</code></li>\n<li><code>message5 -&gt; NULL</code>.</li>\n</ul>\n\n<p>to get:</p>\n\n<pre><code>message1\n    message2\n        message3\n        message4\n    message6\n        message7\n    message5\n</code></pre>\n\n<p>If it continues until it garners more votes than <code>message2</code>, the following occurs:</p>\n\n<ul>\n<li><code>message6 -&gt; message2</code></li>\n<li><code>message2 -&gt; message5</code></li>\n</ul>\n\n<p><em>AND</em> the first-child pointer of <code>message1</code> is set to <code>message6</code> (it was <code>message2</code>), still relatively easy, to get:</p>\n\n<pre><code>message1\n    message6\n        message7\n    message2\n        message3\n        message4\n    message5\n</code></pre>\n\n<p>Re-ordering only needs to occur when a score change results in a message becoming more than its upper sibling or less than its lower sibling. You don't need to re-order after every score change.</p>\n"}],"owner":{"account_id":32778,"reputation":219,"user_id":91219,"accept_rate":100,"display_name":"Hula"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4828,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":759235,"answer_count":3,"score":4,"last_activity_date":1666762624,"creation_date":1239948235,"question_id":759208,"body_markdown":"I want to represent **threaded comments** in Java. This would look similar to the way comments are threaded on ***reddit.com***\r\n\r\n    hello\r\n       hello\r\n          hello\r\n          hello\r\n       hello\r\n       hello\r\n          hello\r\n\r\nAs in the example above, responses are nested in the HTML with appropriate indentation to reflect their relationship to prior comments.\r\n\r\nWhat would be an efficient way to represent this in Java?\r\n\r\nI&#39;m thinking some kind of **tree data structure** would be appropriate. \r\n\r\nBut is there one in particular which would be *most efficient* to minimize tree traversals? \r\n\r\nThis would be important if I have voting on each comment. Because then the tree would need to be reordered after each vote - a potentially expensive operation computationally.\r\n\r\nBy the way, if anyone knows of an open source existing implementation of this in Java, that would help too.","title":"Most efficient data structure to represent threaded comments in Java?","body":"<p>I want to represent <strong>threaded comments</strong> in Java. This would look similar to the way comments are threaded on <strong><em>reddit.com</em></strong></p>\n\n<pre><code>hello\n   hello\n      hello\n      hello\n   hello\n   hello\n      hello\n</code></pre>\n\n<p>As in the example above, responses are nested in the HTML with appropriate indentation to reflect their relationship to prior comments.</p>\n\n<p>What would be an efficient way to represent this in Java?</p>\n\n<p>I'm thinking some kind of <strong>tree data structure</strong> would be appropriate. </p>\n\n<p>But is there one in particular which would be <em>most efficient</em> to minimize tree traversals? </p>\n\n<p>This would be important if I have voting on each comment. Because then the tree would need to be reordered after each vote - a potentially expensive operation computationally.</p>\n\n<p>By the way, if anyone knows of an open source existing implementation of this in Java, that would help too.</p>\n"},{"tags":["java","elasticsearch","lucene","resthighlevelclient","elasticsearch-high-level-restclient"],"answers":[{"comments":[{"owner":{"account_id":12989716,"reputation":3034,"user_id":9389293,"display_name":"Abhishek Sengupta"},"score":0,"creation_date":1666762817,"post_id":74203038,"comment_id":131010227,"body_markdown":"HI @Amit thanks for the reply. but here my requirement is bit different, for sone use case I cannot modify the original Java object/DSL. SO at the very end I just need to remove the agg block from the SSB. I cannot stop aggs getting added to it . But at the last I just want to stop aggs block to go to ES for querying.","body":"HI @Amit thanks for the reply. but here my requirement is bit different, for sone use case I cannot modify the original Java object/DSL. SO at the very end I just need to remove the agg block from the SSB. I cannot stop aggs getting added to it . But at the last I just want to stop aggs block to go to ES for querying."},{"owner":{"account_id":5028364,"reputation":31224,"user_id":4039431,"accept_rate":94,"display_name":"Amit"},"score":0,"creation_date":1666763013,"post_id":74203038,"comment_id":131010278,"body_markdown":"@AbhishekSengupta, you have to do it conditionally in your code, there is no other way.. since you are building the queries in Java and you if know in what cases you want the `agss` block its easy to do it programatically in java code","body":"@AbhishekSengupta, you have to do it conditionally in your code, there is no other way.. since you are building the queries in Java and you if know in what cases you want the <code>agss</code> block its easy to do it programatically in java code"},{"owner":{"account_id":12989716,"reputation":3034,"user_id":9389293,"display_name":"Abhishek Sengupta"},"score":0,"creation_date":1666763127,"post_id":74203038,"comment_id":131010301,"body_markdown":"yeah looks like thats the only way to do it... thanks","body":"yeah looks like thats the only way to do it... thanks"},{"owner":{"account_id":5028364,"reputation":31224,"user_id":4039431,"accept_rate":94,"display_name":"Amit"},"score":1,"creation_date":1667546539,"post_id":74203038,"comment_id":131196162,"body_markdown":"@AbhishekSengupta its been sometime, please upvote and accept the answer if it was useful :) Thanks in advance","body":"@AbhishekSengupta its been sometime, please upvote and accept the answer if it was useful :) Thanks in advance"}],"tags":[],"owner":{"account_id":5028364,"reputation":31224,"user_id":4039431,"accept_rate":94,"display_name":"Amit"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666761966,"creation_date":1666761966,"answer_id":74203038,"question_id":74202845,"body_markdown":"`SearchSourceBuilder` class has multiple `aggregation` methods to build different types of aggregations as shown in the intelliJ image below\r\n\r\n**You just need to remove those aggregation method from SearchSourceBuilder**\r\n\r\nFor example, my below code uses `query filters`, `size` and `agss` \r\n\r\n```\r\nSearchSourceBuilder queryBuilder = new SearchSourceBuilder()\r\n                .query(queryFilters)\r\n                .size(0)\r\n                .aggregation(nodeTasksAggs);\r\n```\r\n\r\nAnd if I don&#39;t want `aggs`, I can just use below code\r\n\r\n```\r\nSearchSourceBuilder queryBuilder = new SearchSourceBuilder()\r\n                .query(queryFilters)\r\n                .size(0);\r\n```\r\n\r\n\r\n [![enter image description here][1]][1] \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2L5i1.png","title":"How to remove all aggregation from a SearchSourceBuilder fully?","body":"<p><code>SearchSourceBuilder</code> class has multiple <code>aggregation</code> methods to build different types of aggregations as shown in the intelliJ image below</p>\n<p><strong>You just need to remove those aggregation method from SearchSourceBuilder</strong></p>\n<p>For example, my below code uses <code>query filters</code>, <code>size</code> and <code>agss</code></p>\n<pre><code>SearchSourceBuilder queryBuilder = new SearchSourceBuilder()\n                .query(queryFilters)\n                .size(0)\n                .aggregation(nodeTasksAggs);\n</code></pre>\n<p>And if I don't want <code>aggs</code>, I can just use below code</p>\n<pre><code>SearchSourceBuilder queryBuilder = new SearchSourceBuilder()\n                .query(queryFilters)\n                .size(0);\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/2L5i1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2L5i1.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":12989716,"reputation":3034,"user_id":9389293,"display_name":"Abhishek Sengupta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74203038,"answer_count":1,"score":1,"last_activity_date":1666761966,"creation_date":1666759915,"question_id":74202845,"body_markdown":"I have a SearchSourceBuilder which has all blocks like Query,From, Size, Aggregations etc. But later I want to remove only the Aggregations blocks for some use case fully before sending the DSL to ES.\r\n\r\nExample, I need to remove the entire aggregations block from the SearchSourceBuilder from the entire DSL\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EhNDn.png","title":"How to remove all aggregation from a SearchSourceBuilder fully?","body":"<p>I have a SearchSourceBuilder which has all blocks like Query,From, Size, Aggregations etc. But later I want to remove only the Aggregations blocks for some use case fully before sending the DSL to ES.</p>\n<p>Example, I need to remove the entire aggregations block from the SearchSourceBuilder from the entire DSL\n<a href=\"https://i.stack.imgur.com/EhNDn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EhNDn.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","types"],"comments":[{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":0,"creation_date":1666414590,"post_id":74161090,"comment_id":130936699,"body_markdown":"I would build a table that contains the min and max values for each type you want to consider.  Start with an empty list.  Then just iterate over the table and test if the number in question fits within the range of each type.  If you find that it fits, then add the name of that type to the list.  You can use the constants provided by Java...`Integer.MIN_VALUE`, `Integer.MAX_VALUE`, etc.  If you want to be really clever, you can include `BigDecimal` in every list.  It can contain a number of any size and precesion.","body":"I would build a table that contains the min and max values for each type you want to consider.  Start with an empty list.  Then just iterate over the table and test if the number in question fits within the range of each type.  If you find that it fits, then add the name of that type to the list.  You can use the constants provided by Java...<code>Integer.MIN_VALUE</code>, <code>Integer.MAX_VALUE</code>, etc.  If you want to be really clever, you can include <code>BigDecimal</code> in every list.  It can contain a number of any size and precesion."}],"answers":[{"tags":[],"owner":{"account_id":23167396,"reputation":21,"user_id":17267123,"display_name":"Brando Jeanpier"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666760581,"creation_date":1666418145,"answer_id":74161403,"question_id":74161090,"body_markdown":"You can use the primitive data types *wrappers* , they all contain a constant value with the max and min value they can hold up. \r\n\r\nThey are:\r\n\r\n    Byte.MIN_VALUE; //-128\r\n    \r\n    Byte.MAX_VALUE; //127\r\n    \r\n    Short.MIN_VALUE; //-32768\r\n    \r\n    Short.MAX_VALUE; //32767\r\n    \r\n    Integer.MIN_VALUE; //0x80000000\r\n    \r\n    Integer.MAX_VALUE; //0x7fffffff\r\n    \r\n    Long.MIN_VALUE; //0x8000000000000000L\r\n    \r\n    Long.MAX_VALUE; //0x7fffffffffffffffL\r\n\r\n\r\nHere&#39;s my solution:\r\n\r\n        long n = 0;\r\n        try {\r\n            n = new Scanner(System.in).nextLong();\r\n        } catch (InputMismatchException e) { //we&#39;re expecting just numbers anyway\r\n            System.out.println(&quot;doesn&#39;t fit anywhere&quot;);\r\n        }\r\n        \r\n        if (n &gt; 0) {\r\n            //since n is positive,\r\n            //first let&#39;s evaluate if it&#39;s not too big to fit in a byte data type\r\n            if (n &lt;= Byte.MAX_VALUE) System.out.println(&quot;fits in a byte&quot;);\r\n            \r\n            //now let&#39;s evaluate if n is not too big to fit in a short data type\r\n            if (n &lt;= Short.MAX_VALUE) System.out.println(&quot;fits in a short&quot;);\r\n            \r\n            //now let&#39;s evaluate if n is not too big to fit in an int data type\r\n            if (n &lt;= Integer.MAX_VALUE) System.out.println(&quot;fits in an int&quot;);\r\n            \r\n            \r\n        } else {\r\n            //similar code for negative numbers\r\n            if (n &gt;= Byte.MIN_VALUE) System.out.println(&quot;fits in a byte&quot;);\r\n            if (n &gt;= Short.MIN_VALUE) System.out.println(&quot;fits in a short&quot;);\r\n            if (n &gt;= Integer.MIN_VALUE) System.out.println(&quot;fits in an int&quot;);\r\n        }\r\n        //well, since we already verified n doesn&#180;t overtake a long with try block\r\n        // n will always fit in a long\r\n        System.out.println(&quot;fits in a long&quot;);\r\n\r\n","title":"How can I find out which data type is correct to store a given integer in Java?","body":"<p>You can use the primitive data types <em>wrappers</em> , they all contain a constant value with the max and min value they can hold up.</p>\n<p>They are:</p>\n<pre><code>Byte.MIN_VALUE; //-128\n\nByte.MAX_VALUE; //127\n\nShort.MIN_VALUE; //-32768\n\nShort.MAX_VALUE; //32767\n\nInteger.MIN_VALUE; //0x80000000\n\nInteger.MAX_VALUE; //0x7fffffff\n\nLong.MIN_VALUE; //0x8000000000000000L\n\nLong.MAX_VALUE; //0x7fffffffffffffffL\n</code></pre>\n<p>Here's my solution:</p>\n<pre><code>    long n = 0;\n    try {\n        n = new Scanner(System.in).nextLong();\n    } catch (InputMismatchException e) { //we're expecting just numbers anyway\n        System.out.println(&quot;doesn't fit anywhere&quot;);\n    }\n    \n    if (n &gt; 0) {\n        //since n is positive,\n        //first let's evaluate if it's not too big to fit in a byte data type\n        if (n &lt;= Byte.MAX_VALUE) System.out.println(&quot;fits in a byte&quot;);\n        \n        //now let's evaluate if n is not too big to fit in a short data type\n        if (n &lt;= Short.MAX_VALUE) System.out.println(&quot;fits in a short&quot;);\n        \n        //now let's evaluate if n is not too big to fit in an int data type\n        if (n &lt;= Integer.MAX_VALUE) System.out.println(&quot;fits in an int&quot;);\n        \n        \n    } else {\n        //similar code for negative numbers\n        if (n &gt;= Byte.MIN_VALUE) System.out.println(&quot;fits in a byte&quot;);\n        if (n &gt;= Short.MIN_VALUE) System.out.println(&quot;fits in a short&quot;);\n        if (n &gt;= Integer.MIN_VALUE) System.out.println(&quot;fits in an int&quot;);\n    }\n    //well, since we already verified n doesn´t overtake a long with try block\n    // n will always fit in a long\n    System.out.println(&quot;fits in a long&quot;);\n</code></pre>\n"}],"owner":{"account_id":22314483,"reputation":21,"user_id":16538037,"display_name":"Ali"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666761179,"creation_date":1666413211,"question_id":74161090,"body_markdown":"Suppose I have been given a number and asked to find out which data type is suitable for storing it. For instance suppose, if the number is *741*, then it can be stored in **short**, **int**, as well as **long** data types. However, if the number entered is huge say, *-100000000000000*, then it can be stored only in **long** data type. Depending on the number entered by the user, I need to provide all possible data types that can be used to store it. \r\n\r\nPS: this is a problem that is given on the Hackerrank platform with Java Datatypes. \r\nProblem link:- https://www.hackerrank.com/challenges/java-datatypes/problem?h_r=next-challenge&amp;h_v=zen&amp;isFullScreen=false","title":"How can I find out which data type is correct to store a given integer in Java?","body":"<p>Suppose I have been given a number and asked to find out which data type is suitable for storing it. For instance suppose, if the number is <em>741</em>, then it can be stored in <strong>short</strong>, <strong>int</strong>, as well as <strong>long</strong> data types. However, if the number entered is huge say, <em>-100000000000000</em>, then it can be stored only in <strong>long</strong> data type. Depending on the number entered by the user, I need to provide all possible data types that can be used to store it.</p>\n<p>PS: this is a problem that is given on the Hackerrank platform with Java Datatypes.\nProblem link:- <a href=\"https://www.hackerrank.com/challenges/java-datatypes/problem?h_r=next-challenge&amp;h_v=zen&amp;isFullScreen=false\" rel=\"nofollow noreferrer\">https://www.hackerrank.com/challenges/java-datatypes/problem?h_r=next-challenge&amp;h_v=zen&amp;isFullScreen=false</a></p>\n"},{"tags":["java","spring-boot","maven","intellij-idea"],"answers":[{"comments":[{"owner":{"account_id":26733175,"reputation":1,"user_id":20335170,"display_name":"백송이"},"score":1,"creation_date":1666923283,"post_id":74202941,"comment_id":131055075,"body_markdown":"thank you! Thank you very much for providing detailed information.","body":"thank you! Thank you very much for providing detailed information."}],"tags":[],"owner":{"account_id":19196094,"reputation":474,"user_id":14024740,"display_name":"AussieDev81"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666760855,"creation_date":1666760855,"answer_id":74202941,"question_id":74201708,"body_markdown":"I&#39;m not 100% clear on your question so apologies in advance if this is not helpful.\r\n\r\nIn a normal [monolithic module application](https://en.wikipedia.org/wiki/Monolithic_application) (which is what I think you&#39;re talking about) there&#39;s only one main class (and method) so only the one port required.\r\nAny changes to the port number in any other modules will be overridden by whatever is set in the main &#39;driver&#39; module&#39;s settings.\r\n\r\nFor example if you have `server.port=8081` in your main driver module&#39;s `application.properties` file, but then another module called `admin` that defines `server.port=8082` in it&#39;s properties file, `8082` will get overriden with `8081`.\r\n\r\nThe normal approach would be to define domains (using endpoints) that separate the zones, and then [allow users access to each zone based on their roles using Spring Security](https://www.baeldung.com/role-and-privilege-for-spring-security-registration).\r\nFor example:\r\n- Users with the role `ROLE_ADMIN` might be able to access anything including `your-host/admin/**`\r\n- Users with the role `ROLE_USER` might only be given access to `your-host/public/**`\r\n\r\nIf you&#39;re specifically looking for a solution with different port numbers, I suggest using a microservices architecture rather than the modular monolith approach, where each service is it&#39;s own application and runs independent of each other.\r\n\r\nIf you search [modular monolith vs microservices](https://www.google.com/search?q=modular+monolith+vs+microservices&amp;sxsrf=ALiCzsZOV7rdGfcPPA8MdvFjEa8-6O9zGg%3A1666760145605&amp;source=hp&amp;ei=0b1YY9GSIsPw4-EPkc-yoAg&amp;iflsig=AJiK0e8AAAAAY1jL4YIOj3YE9osTGQi3-4Dpak12zjkW&amp;oq=monolith+modules+vs+&amp;gs_lcp=Cgdnd3Mtd2l6EAMYADIGCAAQFhAeMgYIABAWEB4yBggAEBYQHjIGCAAQFhAeMgYIABAWEB4yBggAEBYQHjIGCAAQFhAeMgYIABAWEB4yBQgAEIYDMgUIABCGAzoHCCMQ6gIQJzoECCMQJzoFCAAQkQI6CAguENQCEJECOgsIABCABBCxAxCDAToRCC4QgAQQsQMQgwEQxwEQ0QM6CAgAELEDEIMBOg4ILhCxAxCDARDHARDRAzoOCC4QgAQQsQMQxwEQrwE6BQgAEIAEOggIABCABBCxAzoOCC4QgAQQsQMQgwEQ1AI6CAgAEIAEEMkDOhEILhCABBCxAxCDARDHARCvAToFCC4QgAQ6BwgAEIAEEAM6CwguEIAEEMcBENEDOg0IABCABBCxAxBGEPkBOggIABAWEB4QD1CmCVjyUWCWY2gBcAB4AIAB1wGIAfcbkgEGMC4xNy4zmAEAoAEBsAEK&amp;sclient=gws-wiz) you will find lots of interesting reads ","title":"Regarding multi-module project, can I set each port?","body":"<p>I'm not 100% clear on your question so apologies in advance if this is not helpful.</p>\n<p>In a normal <a href=\"https://en.wikipedia.org/wiki/Monolithic_application\" rel=\"nofollow noreferrer\">monolithic module application</a> (which is what I think you're talking about) there's only one main class (and method) so only the one port required.\nAny changes to the port number in any other modules will be overridden by whatever is set in the main 'driver' module's settings.</p>\n<p>For example if you have <code>server.port=8081</code> in your main driver module's <code>application.properties</code> file, but then another module called <code>admin</code> that defines <code>server.port=8082</code> in it's properties file, <code>8082</code> will get overriden with <code>8081</code>.</p>\n<p>The normal approach would be to define domains (using endpoints) that separate the zones, and then <a href=\"https://www.baeldung.com/role-and-privilege-for-spring-security-registration\" rel=\"nofollow noreferrer\">allow users access to each zone based on their roles using Spring Security</a>.\nFor example:</p>\n<ul>\n<li>Users with the role <code>ROLE_ADMIN</code> might be able to access anything including <code>your-host/admin/**</code></li>\n<li>Users with the role <code>ROLE_USER</code> might only be given access to <code>your-host/public/**</code></li>\n</ul>\n<p>If you're specifically looking for a solution with different port numbers, I suggest using a microservices architecture rather than the modular monolith approach, where each service is it's own application and runs independent of each other.</p>\n<p>If you search <a href=\"https://www.google.com/search?q=modular+monolith+vs+microservices&amp;sxsrf=ALiCzsZOV7rdGfcPPA8MdvFjEa8-6O9zGg%3A1666760145605&amp;source=hp&amp;ei=0b1YY9GSIsPw4-EPkc-yoAg&amp;iflsig=AJiK0e8AAAAAY1jL4YIOj3YE9osTGQi3-4Dpak12zjkW&amp;oq=monolith+modules+vs+&amp;gs_lcp=Cgdnd3Mtd2l6EAMYADIGCAAQFhAeMgYIABAWEB4yBggAEBYQHjIGCAAQFhAeMgYIABAWEB4yBggAEBYQHjIGCAAQFhAeMgYIABAWEB4yBQgAEIYDMgUIABCGAzoHCCMQ6gIQJzoECCMQJzoFCAAQkQI6CAguENQCEJECOgsIABCABBCxAxCDAToRCC4QgAQQsQMQgwEQxwEQ0QM6CAgAELEDEIMBOg4ILhCxAxCDARDHARDRAzoOCC4QgAQQsQMQxwEQrwE6BQgAEIAEOggIABCABBCxAzoOCC4QgAQQsQMQgwEQ1AI6CAgAEIAEEMkDOhEILhCABBCxAxCDARDHARCvAToFCC4QgAQ6BwgAEIAEEAM6CwguEIAEEMcBENEDOg0IABCABBCxAxBGEPkBOggIABAWEB4QD1CmCVjyUWCWY2gBcAB4AIAB1wGIAfcbkgEGMC4xNy4zmAEAoAEBsAEK&amp;sclient=gws-wiz\" rel=\"nofollow noreferrer\">modular monolith vs microservices</a> you will find lots of interesting reads</p>\n"}],"owner":{"account_id":26733175,"reputation":1,"user_id":20335170,"display_name":"백송이"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":278,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666760855,"creation_date":1666747154,"question_id":74201708,"body_markdown":"In a multi-module project, can normal users use the public port and the admin can set it to use the localHost port?\r\n\r\nI know each port can use a different port, but I want to know if I can mix public and localhost ports.\r\n\r\nI&#39;m still a beginner, so I&#39;ve set up 2 localhost ports in a hands-on project, not a real server. in actual use\r\nI wonder if it is possible to operate with one localhost and one actual port instead of two localhosts.","title":"Regarding multi-module project, can I set each port?","body":"<p>In a multi-module project, can normal users use the public port and the admin can set it to use the localHost port?</p>\n<p>I know each port can use a different port, but I want to know if I can mix public and localhost ports.</p>\n<p>I'm still a beginner, so I've set up 2 localhost ports in a hands-on project, not a real server. in actual use\nI wonder if it is possible to operate with one localhost and one actual port instead of two localhosts.</p>\n"},{"tags":["java","spring","hibernate","jdbc","transactions"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1666764384,"post_id":74202929,"comment_id":131010572,"body_markdown":"Why not move `@Transactional` from `saveAllBpsPositionData` to `insertBpsPositionData`?  That way you don&#39;t need to think about propagation [which is not necessarily supported by your transaction manager](https://www.baeldung.com/spring-transactional-propagation-isolation)","body":"Why not move <code>@Transactional</code> from <code>saveAllBpsPositionData</code> to <code>insertBpsPositionData</code>?  That way you don&#39;t need to think about propagation <a href=\"https://www.baeldung.com/spring-transactional-propagation-isolation\" rel=\"nofollow noreferrer\">which is not necessarily supported by your transaction manager</a>"},{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":0,"creation_date":1666773305,"post_id":74202929,"comment_id":131013177,"body_markdown":"The problem is most probably because you are calling an intercepted method locally. Unless you are using Spring&#39;s bytecode weaving for implementing the `@Transactional`, it will **not take effect for local calls**, e.g. for `this.overwriteBpsData(businessDate)`. Simplest solution is to move `overwriteBpsData` to another bean. REQUIRES_NEW should work (and I think it has more support than NESTED).","body":"The problem is most probably because you are calling an intercepted method locally. Unless you are using Spring&#39;s bytecode weaving for implementing the <code>@Transactional</code>, it will <b>not take effect for local calls</b>, e.g. for <code>this.overwriteBpsData(businessDate)</code>. Simplest solution is to move <code>overwriteBpsData</code> to another bean. REQUIRES_NEW should work (and I think it has more support than NESTED)."},{"owner":{"account_id":8903518,"reputation":488,"user_id":8383744,"accept_rate":75,"display_name":"Beez"},"score":0,"creation_date":1666800240,"post_id":74202929,"comment_id":131023023,"body_markdown":"@NikosParaskevopoulos - So move overwriteBpsData into another component class, then use REQUIRES_NEW?","body":"@NikosParaskevopoulos - So move overwriteBpsData into another component class, then use REQUIRES_NEW?"},{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":1,"creation_date":1666874022,"post_id":74202929,"comment_id":131041494,"body_markdown":"@Beez yes, that&#39;s the idea. The reason is that `@Transactional` is implemented in Spring (and JEE) with interceptors that work through the scoped proxy. If a call bypasses the scoped proxy, like local calls do, it also bypasses the functionality of `@Transactional`.","body":"@Beez yes, that&#39;s the idea. The reason is that <code>@Transactional</code> is implemented in Spring (and JEE) with interceptors that work through the scoped proxy. If a call bypasses the scoped proxy, like local calls do, it also bypasses the functionality of <code>@Transactional</code>."}],"owner":{"account_id":8903518,"reputation":488,"user_id":8383744,"accept_rate":75,"display_name":"Beez"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":236,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666760724,"creation_date":1666760724,"question_id":74202929,"body_markdown":"I&#39;m trying to delete all existing records in the postgres database, if we try to load a new dataset that contains data for the same date. I&#39;m trying to use `@Transactional` with propagation, but the initial transaction needs to finish, before the NESTED, or REQUIRES_NEW Transaction comes in. So essentially the Transaction tries to insert into the database before the data was deleted, causing a unique constraint violation. Any help on understanding the flow of @Transactional would be very beneficial here. As I want to delete the data before I even attempt to insert the new data, as you can see by the `saveAllPositionData()` method. I need the `overwriteBpsData()` to commit its transaction before the insert statements are called in the original `saveAllPositionData()` method. Any thoughts on the flaw in my logic would be very helpful. \r\n\r\nThanks\r\n\r\n```\r\n  @Transactional\r\n  public void saveAllBpsPositionData(InputStream is) throws IOException {\r\n\r\n    log.info(&quot;Parsing position data...&quot;);\r\n    BPSParsingResult bpsParsingResult = bpsPositionParser.parse(is);\r\n    if (!bpsParsingResult.getBpsPositions().isEmpty()) {\r\n      LocalDate businessDate = bpsParsingResult.getBpsPositions().get(0).getBusinessDate();\r\n      overwriteBpsData(businessDate);\r\n    }\r\n    log.info(&quot;Saving BPS Position Data...&quot;);\r\n    if (!bpsParsingResult.getBpsPositions().isEmpty()) {\r\n      insertBpsPositionData(bpsParsingResult.getBpsPositions());\r\n    }\r\n    log.info(&quot;Saving BPS Price Data...&quot;);\r\n    if (!bpsParsingResult.getBpsPrices().isEmpty()) {\r\n      insertBpsPriceData(bpsParsingResult.getBpsPrices());\r\n    }\r\n  }\r\n\r\n  private void insertBpsPositionData(List&lt;BPSPositionTable&gt; bpsPositions) {\r\n    try (Connection connection = hikariDataSource.getConnection();\r\n        PreparedStatement positionStatement = connection.prepareStatement(POSITION_SQL);\r\n        PreparedStatement memoStatement = connection.prepareStatement(MEMO_SQL)) {\r\n      int count = 0;\r\n      for (BPSPositionTable position : bpsPositions) {\r\n        positionStatement.clearParameters();\r\n        positionStatement.setString(1, position.getSRMASKey());\r\n        // ....\r\n        // ....\r\n        positionStatement.setInt(33, position.getWhenIssueIndicator());\r\n        positionStatement.setDate(\r\n            34,\r\n            position.getBusinessDate() == null ? null : Date.valueOf(position.getBusinessDate()));\r\n        positionStatement.addBatch();\r\n\r\n        if ((count + 1) % batchSize == 0 || (count + 1) == bpsPositions.size()) {\r\n          positionStatement.executeBatch();\r\n          positionStatement.clearBatch();\r\n          memoStatement.executeBatch();\r\n          memoStatement.clearBatch();\r\n        }\r\n\r\n        if (position.getNumberOfMemos() &gt; 0) {\r\n          for (BPSMemoTable memoTable : position.getCorrespondingMemos()) {\r\n            memoStatement.setString(1, memoTable.getSRMASKey());\r\n            memoStatement.setString(2, memoTable.getMemoTypeIndicator());\r\n            memoStatement.setBigDecimal(3, memoTable.getMemoTypeQuantity());\r\n            memoStatement.setDate(\r\n                4,\r\n                memoTable.getBusinessDate() == null\r\n                    ? null\r\n                    : Date.valueOf(memoTable.getBusinessDate()));\r\n            memoStatement.addBatch();\r\n          }\r\n        }\r\n        count++;\r\n      }\r\n      log.info(&quot;BPS Position Data Saved Successfully!&quot;);\r\n    } catch (Exception e) {\r\n      log.warn(&quot;Failure Inserting BPS Position Data: {}&quot;, e.getMessage());\r\n    }\r\n  }\r\n\r\n  private void insertBpsPriceData(List&lt;BPSPriceTable&gt; bpsPrices) {\r\n    try (Connection connection = hikariDataSource.getConnection();\r\n        PreparedStatement statement = connection.prepareStatement(PRICE_SQL)) {\r\n      int count = 0;\r\n      for (BPSPriceTable price : bpsPrices) {\r\n        statement.setInt(1, price.getClientNumber());\r\n        statement.setString(2, price.getCusip());\r\n        statement.setString(3, price.getSymbol());\r\n        statement.setString(4, price.getCurrency());\r\n        // ...\r\n        // ...\r\n        statement.setString(15, price.getSedol());\r\n        statement.setDate(\r\n            16, price.getBusinessDate() == null ? null : Date.valueOf(price.getBusinessDate()));\r\n        statement.addBatch();\r\n        if ((count + 1) % batchSize == 0 || (count + 1) == bpsPrices.size()) {\r\n          statement.executeBatch();\r\n          statement.clearBatch();\r\n        }\r\n        count++;\r\n      }\r\n      log.info(&quot;BPS Price Data Saved Successfully!&quot;);\r\n    } catch (Exception e) {\r\n      log.warn(&quot;Failure Inserting BPS Price Data: {}&quot;, e.getMessage());\r\n    }\r\n  }\r\n\r\n  @Transactional(propagation = Propagation.REQUIRES_NEW) // Also have tried NESTED\r\n  public void overwriteBpsData(LocalDate businessDate) {\r\n    if (bpsMemoRepo.countByBusinessDate(businessDate) &gt; 0) {\r\n      log.warn(\r\n              &quot;BPS Memo record(s) found by {} business date. Existing data will be overridden.&quot;,\r\n              businessDate);\r\n      bpsMemoRepo.deleteByBusinessDate(businessDate);\r\n    }\r\n    if (bpsPriceRepo.countByBusinessDate(businessDate) &gt; 0) {\r\n      log.warn(\r\n              &quot;BPS Price record(s) found by {} business date. Existing data will be overridden.&quot;,\r\n              businessDate);\r\n      bpsPriceRepo.deleteByBusinessDate(businessDate);\r\n    }\r\n    if (bpsPositionRepo.countByBusinessDate(businessDate) &gt; 0) {\r\n      log.warn(\r\n              &quot;BPS Position record(s) found by {} business date. Existing data will be overridden.&quot;,\r\n              businessDate);\r\n      bpsPositionRepo.deleteByBusinessDate(businessDate);\r\n    }\r\n  }\r\n}\r\n```","title":"@Transactional Method to override data before new insert happens","body":"<p>I'm trying to delete all existing records in the postgres database, if we try to load a new dataset that contains data for the same date. I'm trying to use <code>@Transactional</code> with propagation, but the initial transaction needs to finish, before the NESTED, or REQUIRES_NEW Transaction comes in. So essentially the Transaction tries to insert into the database before the data was deleted, causing a unique constraint violation. Any help on understanding the flow of @Transactional would be very beneficial here. As I want to delete the data before I even attempt to insert the new data, as you can see by the <code>saveAllPositionData()</code> method. I need the <code>overwriteBpsData()</code> to commit its transaction before the insert statements are called in the original <code>saveAllPositionData()</code> method. Any thoughts on the flaw in my logic would be very helpful.</p>\n<p>Thanks</p>\n<pre><code>  @Transactional\n  public void saveAllBpsPositionData(InputStream is) throws IOException {\n\n    log.info(&quot;Parsing position data...&quot;);\n    BPSParsingResult bpsParsingResult = bpsPositionParser.parse(is);\n    if (!bpsParsingResult.getBpsPositions().isEmpty()) {\n      LocalDate businessDate = bpsParsingResult.getBpsPositions().get(0).getBusinessDate();\n      overwriteBpsData(businessDate);\n    }\n    log.info(&quot;Saving BPS Position Data...&quot;);\n    if (!bpsParsingResult.getBpsPositions().isEmpty()) {\n      insertBpsPositionData(bpsParsingResult.getBpsPositions());\n    }\n    log.info(&quot;Saving BPS Price Data...&quot;);\n    if (!bpsParsingResult.getBpsPrices().isEmpty()) {\n      insertBpsPriceData(bpsParsingResult.getBpsPrices());\n    }\n  }\n\n  private void insertBpsPositionData(List&lt;BPSPositionTable&gt; bpsPositions) {\n    try (Connection connection = hikariDataSource.getConnection();\n        PreparedStatement positionStatement = connection.prepareStatement(POSITION_SQL);\n        PreparedStatement memoStatement = connection.prepareStatement(MEMO_SQL)) {\n      int count = 0;\n      for (BPSPositionTable position : bpsPositions) {\n        positionStatement.clearParameters();\n        positionStatement.setString(1, position.getSRMASKey());\n        // ....\n        // ....\n        positionStatement.setInt(33, position.getWhenIssueIndicator());\n        positionStatement.setDate(\n            34,\n            position.getBusinessDate() == null ? null : Date.valueOf(position.getBusinessDate()));\n        positionStatement.addBatch();\n\n        if ((count + 1) % batchSize == 0 || (count + 1) == bpsPositions.size()) {\n          positionStatement.executeBatch();\n          positionStatement.clearBatch();\n          memoStatement.executeBatch();\n          memoStatement.clearBatch();\n        }\n\n        if (position.getNumberOfMemos() &gt; 0) {\n          for (BPSMemoTable memoTable : position.getCorrespondingMemos()) {\n            memoStatement.setString(1, memoTable.getSRMASKey());\n            memoStatement.setString(2, memoTable.getMemoTypeIndicator());\n            memoStatement.setBigDecimal(3, memoTable.getMemoTypeQuantity());\n            memoStatement.setDate(\n                4,\n                memoTable.getBusinessDate() == null\n                    ? null\n                    : Date.valueOf(memoTable.getBusinessDate()));\n            memoStatement.addBatch();\n          }\n        }\n        count++;\n      }\n      log.info(&quot;BPS Position Data Saved Successfully!&quot;);\n    } catch (Exception e) {\n      log.warn(&quot;Failure Inserting BPS Position Data: {}&quot;, e.getMessage());\n    }\n  }\n\n  private void insertBpsPriceData(List&lt;BPSPriceTable&gt; bpsPrices) {\n    try (Connection connection = hikariDataSource.getConnection();\n        PreparedStatement statement = connection.prepareStatement(PRICE_SQL)) {\n      int count = 0;\n      for (BPSPriceTable price : bpsPrices) {\n        statement.setInt(1, price.getClientNumber());\n        statement.setString(2, price.getCusip());\n        statement.setString(3, price.getSymbol());\n        statement.setString(4, price.getCurrency());\n        // ...\n        // ...\n        statement.setString(15, price.getSedol());\n        statement.setDate(\n            16, price.getBusinessDate() == null ? null : Date.valueOf(price.getBusinessDate()));\n        statement.addBatch();\n        if ((count + 1) % batchSize == 0 || (count + 1) == bpsPrices.size()) {\n          statement.executeBatch();\n          statement.clearBatch();\n        }\n        count++;\n      }\n      log.info(&quot;BPS Price Data Saved Successfully!&quot;);\n    } catch (Exception e) {\n      log.warn(&quot;Failure Inserting BPS Price Data: {}&quot;, e.getMessage());\n    }\n  }\n\n  @Transactional(propagation = Propagation.REQUIRES_NEW) // Also have tried NESTED\n  public void overwriteBpsData(LocalDate businessDate) {\n    if (bpsMemoRepo.countByBusinessDate(businessDate) &gt; 0) {\n      log.warn(\n              &quot;BPS Memo record(s) found by {} business date. Existing data will be overridden.&quot;,\n              businessDate);\n      bpsMemoRepo.deleteByBusinessDate(businessDate);\n    }\n    if (bpsPriceRepo.countByBusinessDate(businessDate) &gt; 0) {\n      log.warn(\n              &quot;BPS Price record(s) found by {} business date. Existing data will be overridden.&quot;,\n              businessDate);\n      bpsPriceRepo.deleteByBusinessDate(businessDate);\n    }\n    if (bpsPositionRepo.countByBusinessDate(businessDate) &gt; 0) {\n      log.warn(\n              &quot;BPS Position record(s) found by {} business date. Existing data will be overridden.&quot;,\n              businessDate);\n      bpsPositionRepo.deleteByBusinessDate(businessDate);\n    }\n  }\n}\n</code></pre>\n"},{"tags":["java","android","terminal","view","android-custom-view"],"comments":[{"owner":{"account_id":21371577,"reputation":1913,"user_id":15739040,"display_name":"Vishal Beep"},"score":0,"creation_date":1666765981,"post_id":74202805,"comment_id":131010934,"body_markdown":"does something like this [Console](https://github.com/jraska/Console)","body":"does something like this <a href=\"https://github.com/jraska/Console\" rel=\"nofollow noreferrer\">Console</a>"},{"owner":{"account_id":9651603,"reputation":394,"user_id":7162592,"display_name":"kelmi92"},"score":0,"creation_date":1666779043,"post_id":74202805,"comment_id":131015028,"body_markdown":"Writing a &quot;console emulator&quot; is not a simply task, many things must be considered(arguments, options, etc). I suggest you first try to develp it just like a java application, then put it on your android app. If you struggle, try looking fore some console project online like @VishalBeep told you and use that as a base.","body":"Writing a &quot;console emulator&quot; is not a simply task, many things must be considered(arguments, options, etc). I suggest you first try to develp it just like a java application, then put it on your android app. If you struggle, try looking fore some console project online like @VishalBeep told you and use that as a base."}],"owner":{"account_id":20930392,"reputation":77,"user_id":15376918,"display_name":"Dave Co."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666759547,"creation_date":1666759547,"question_id":74202805,"body_markdown":"i want to build terminal like view in Java. Like Termux have i only want view not shell. Please help me. \r\n\r\nI tried Terminal View from Termux as a library but it builds sh shell i don&#39;t want sh or other shell. I only want view. ","title":"Terminal like view in Java Android","body":"<p>i want to build terminal like view in Java. Like Termux have i only want view not shell. Please help me.</p>\n<p>I tried Terminal View from Termux as a library but it builds sh shell i don't want sh or other shell. I only want view.</p>\n"},{"tags":["java","file","txt"],"comments":[{"owner":{"account_id":24564,"reputation":123812,"user_id":62576,"accept_rate":100,"display_name":"Ken White"},"score":0,"creation_date":1666750371,"post_id":74201952,"comment_id":131008396,"body_markdown":"When asking a code-related question, the very first tag you should add is for the language being used. You&#39;ve not provided such a tag.","body":"When asking a code-related question, the very first tag you should add is for the language being used. You&#39;ve not provided such a tag."},{"owner":{"account_id":26337897,"reputation":9,"user_id":19997478,"display_name":"turtlered9"},"score":0,"creation_date":1666750786,"post_id":74201952,"comment_id":131008457,"body_markdown":"Im sorry im a little new to the site but i have fixed it now so hopefully someone out there can help me with my actual problem","body":"Im sorry im a little new to the site but i have fixed it now so hopefully someone out there can help me with my actual problem"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1666751205,"post_id":74201952,"comment_id":131008524,"body_markdown":"Have you tried using a while loop to read each **line** out of the scanner (using nextLine()) rather than only the first number?","body":"Have you tried using a while loop to read each <b>line</b> out of the scanner (using nextLine()) rather than only the first number?"},{"owner":{"account_id":15628680,"reputation":501,"user_id":11275562,"display_name":"Icarus"},"score":0,"creation_date":1666752053,"post_id":74201952,"comment_id":131008658,"body_markdown":"use ```while(sc.hasNextLine){String line = sc.nextLine();}``` to read file line by line","body":"use <code>while(sc.hasNextLine){String line = sc.nextLine();}</code> to read file line by line"},{"owner":{"account_id":24783875,"reputation":6014,"user_id":18667225,"display_name":"Markus"},"score":0,"creation_date":1666766921,"post_id":74201952,"comment_id":131011183,"body_markdown":"What is the purpose of the first line with only two numbers?","body":"What is the purpose of the first line with only two numbers?"}],"answers":[{"tags":[],"owner":{"account_id":20437730,"reputation":13,"user_id":14995173,"display_name":"safa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666759484,"creation_date":1666759484,"answer_id":74202800,"question_id":74201952,"body_markdown":"To read data from a file, we will use the Scanner and provide it with our file as input. Using the `hasNextLine()` method we can find the number of rows in the matrix.&lt;br&gt;&lt;br&gt;\r\nThe number of rows can be found by finding the line with the most rows. We read the line and separate it into an array, so that we may get the number of rows each line has.\r\n\r\n    import java.io.FileInputStream;\r\n    import java.io.InputStream;\r\n    import java.util.Scanner;\r\n    \r\n    class Main{\r\n        public static void main(String[]args){\r\n            if(args.length&gt;0){\r\n                try {\r\n                    int rows = 0;\r\n                    int cols = 0;\r\n                    InputStream inputStream = new FileInputStream(args[0]);\r\n                    Scanner scanner = new Scanner(inputStream);\r\n                    while (scanner.hasNext()) {\r\n                        String line = scanner.nextLine();\r\n                        rows++;\r\n                        String[] currentCols = line.split(&quot; &quot;);\r\n                        if(currentCols.length &gt; cols)\r\n                            cols = currentCols.length;\r\n                    }\r\n                    System.out.println(&quot;Rows=&quot; + rows); //Print result\r\n                    System.out.println(&quot;Cols=&quot; + cols); //Print result\r\n                }\r\n                catch(Exception e){\r\n                    System.out.println(&quot;ERROR&quot;);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nYou will get\r\n\r\n&gt; Rows=9 &lt;br&gt;\r\n&gt; Cols=6","title":"I need help reading in a file and storing them as variables","body":"<p>To read data from a file, we will use the Scanner and provide it with our file as input. Using the <code>hasNextLine()</code> method we can find the number of rows in the matrix.<br><br>\nThe number of rows can be found by finding the line with the most rows. We read the line and separate it into an array, so that we may get the number of rows each line has.</p>\n<pre><code>import java.io.FileInputStream;\nimport java.io.InputStream;\nimport java.util.Scanner;\n\nclass Main{\n    public static void main(String[]args){\n        if(args.length&gt;0){\n            try {\n                int rows = 0;\n                int cols = 0;\n                InputStream inputStream = new FileInputStream(args[0]);\n                Scanner scanner = new Scanner(inputStream);\n                while (scanner.hasNext()) {\n                    String line = scanner.nextLine();\n                    rows++;\n                    String[] currentCols = line.split(&quot; &quot;);\n                    if(currentCols.length &gt; cols)\n                        cols = currentCols.length;\n                }\n                System.out.println(&quot;Rows=&quot; + rows); //Print result\n                System.out.println(&quot;Cols=&quot; + cols); //Print result\n            }\n            catch(Exception e){\n                System.out.println(&quot;ERROR&quot;);\n            }\n        }\n    }\n}\n</code></pre>\n<p>You will get</p>\n<blockquote>\n<p>Rows=9 <br>\nCols=6</p>\n</blockquote>\n"}],"owner":{"account_id":26337897,"reputation":9,"user_id":19997478,"display_name":"turtlered9"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1666759484,"creation_date":1666750105,"question_id":74201952,"body_markdown":"I have three matrix.txt files that all have different numbers and rows and columns in them. I am trying to read them into my code and store the number of rows and columns in Main. This is the code I have so far\r\n\r\n```\r\npublic static void main(String[] args){\r\n\t\tif(args.length &gt; 0){\r\n\t\t\tFile f = new File(args[0]);\r\n\t\t\ttry(Scanner sc = new Scanner(f)){\r\n\t\t\t\tString line = sc.next();\r\n\t\t\t}\r\n\t\t\tcatch(IOException e){\r\n\t\t\t\tSystem.out.println(&quot;ERROR!&quot;);\r\n\t\t\t\tSystem.exit(1);\r\n\t\t\t}\r\n\t\t}\r\n```\r\nThe matrix.txt files look like this. \r\n```\r\n4 6\r\n2 3 1 2 5 1\r\n3 1 2 2 2 4\r\n1 2 3 2 7 2\r\n3 6 1 5 1 3\r\n6 5 4 1 4 3\r\n3 3 2 2 1 1\r\n7 5 4 3 2 5\r\n2 1 8 4 8 4\r\n```\r\n\r\n\r\nJust different numbers, rows, and columns in the other two. \r\n\r\nI tried splitting it using &quot; &quot;, but I don&#39;t know what to do after that.","title":"I need help reading in a file and storing them as variables","body":"<p>I have three matrix.txt files that all have different numbers and rows and columns in them. I am trying to read them into my code and store the number of rows and columns in Main. This is the code I have so far</p>\n<pre><code>public static void main(String[] args){\n        if(args.length &gt; 0){\n            File f = new File(args[0]);\n            try(Scanner sc = new Scanner(f)){\n                String line = sc.next();\n            }\n            catch(IOException e){\n                System.out.println(&quot;ERROR!&quot;);\n                System.exit(1);\n            }\n        }\n</code></pre>\n<p>The matrix.txt files look like this.</p>\n<pre><code>4 6\n2 3 1 2 5 1\n3 1 2 2 2 4\n1 2 3 2 7 2\n3 6 1 5 1 3\n6 5 4 1 4 3\n3 3 2 2 1 1\n7 5 4 3 2 5\n2 1 8 4 8 4\n</code></pre>\n<p>Just different numbers, rows, and columns in the other two.</p>\n<p>I tried splitting it using &quot; &quot;, but I don't know what to do after that.</p>\n"},{"tags":["java","selenium","nosuchelementexception"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1666772691,"post_id":74202682,"comment_id":131012970,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":8109631,"reputation":2744,"user_id":6110169,"accept_rate":92,"display_name":"AutoTester213"},"score":0,"creation_date":1666794410,"post_id":74202682,"comment_id":131020646,"body_markdown":"&quot;I have use findElement By.name&quot; Why are you trying to find a locator By.name if you have an ID element that is unique?","body":"&quot;I have use findElement By.name&quot; Why are you trying to find a locator By.name if you have an ID element that is unique?"}],"owner":{"account_id":26733419,"reputation":1,"user_id":20335371,"display_name":"newb03"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666758188,"creation_date":1666758188,"question_id":74202682,"body_markdown":"I have indicated the correct name but why is the input element still not found? \r\n\r\nWARNING: Unable to find an exact match for CDP version 107, so returning the closest version found: 106\r\nException in thread &quot;main&quot; org.openqa.selenium.NoSuchElementException: no such element: Unable to locate element: {&quot;method&quot;:&quot;css selector&quot;,&quot;selector&quot;:&quot;#\\&quot;firstname\\&quot;&quot;}\r\nDriver info: org.openqa.selenium.chrome.ChromeDriver\r\nCommand: [9d77f, findElement {using=name, value=&quot;firstname&quot;}]\r\n\r\nhtml\r\n```\r\n&lt;input type=&quot;text&quot; id=&quot;firstname&quot; name=&quot;firstname&quot; value=&quot;&quot; title=&quot;First Name&quot; class=&quot;input-text required-entry&quot; data-validate=&quot;{required:true}&quot; autocomplete=&quot;off&quot; aria-required=&quot;true&quot;&gt;\r\n\r\n```\r\n```\r\n.......\r\nsel.Fields(&quot;textbox&quot;, &quot;firstname&quot;);\r\n\r\n}\r\n\r\npublic boolean Fields(String field, String name) {\r\n    boolean f;\r\n     if (field.equals(&quot;textbox&quot;)){\r\n            return f= driver.findElement(By.name(&#39;&quot;&#39;+ name +&#39;&quot;&#39;)).isDisplayed();\r\n           \r\n     }\r\n\r\n     return false;\r\n\r\n        }\r\n```\r\n\r\n\r\n\r\nCan anyone help me on this as I have use findElement By.name","title":"Unable to find the element - org.openqa.selenium.NoSuchElementException","body":"<p>I have indicated the correct name but why is the input element still not found?</p>\n<p>WARNING: Unable to find an exact match for CDP version 107, so returning the closest version found: 106\nException in thread &quot;main&quot; org.openqa.selenium.NoSuchElementException: no such element: Unable to locate element: {&quot;method&quot;:&quot;css selector&quot;,&quot;selector&quot;:&quot;#&quot;firstname&quot;&quot;}\nDriver info: org.openqa.selenium.chrome.ChromeDriver\nCommand: [9d77f, findElement {using=name, value=&quot;firstname&quot;}]</p>\n<p>html</p>\n<pre><code>&lt;input type=&quot;text&quot; id=&quot;firstname&quot; name=&quot;firstname&quot; value=&quot;&quot; title=&quot;First Name&quot; class=&quot;input-text required-entry&quot; data-validate=&quot;{required:true}&quot; autocomplete=&quot;off&quot; aria-required=&quot;true&quot;&gt;\n\n</code></pre>\n<pre><code>.......\nsel.Fields(&quot;textbox&quot;, &quot;firstname&quot;);\n\n}\n\npublic boolean Fields(String field, String name) {\n    boolean f;\n     if (field.equals(&quot;textbox&quot;)){\n            return f= driver.findElement(By.name('&quot;'+ name +'&quot;')).isDisplayed();\n           \n     }\n\n     return false;\n\n        }\n</code></pre>\n<p>Can anyone help me on this as I have use findElement By.name</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":1,"creation_date":1666744402,"post_id":74201420,"comment_id":131007456,"body_markdown":"Why is there even a broadcast receiver here?  If all you want to do is launch an Activity in another app, just set it to be exported=true and launch it via an Intent from the other app.","body":"Why is there even a broadcast receiver here?  If all you want to do is launch an Activity in another app, just set it to be exported=true and launch it via an Intent from the other app."},{"owner":{"account_id":12924971,"reputation":2766,"user_id":9346054,"accept_rate":100,"display_name":"Ticherhaz FreePalestine"},"score":0,"creation_date":1666749862,"post_id":74201420,"comment_id":131008306,"body_markdown":"@aux can you share your `AndroidManifest.xml` ?","body":"@aux can you share your <code>AndroidManifest.xml</code> ?"},{"owner":{"account_id":25994570,"reputation":11,"user_id":19706178,"display_name":"aux"},"score":0,"creation_date":1666757417,"post_id":74201420,"comment_id":131009369,"body_markdown":"@GabeSechan uni project requirement.","body":"@GabeSechan uni project requirement."}],"owner":{"account_id":25994570,"reputation":11,"user_id":19706178,"display_name":"aux"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666757381,"creation_date":1666743365,"question_id":74201420,"body_markdown":"I have two apps. One defines a broadcast receiver and the other send the broadcast.\r\n\r\nThis is the onReceive() method in the receiver --\r\n\r\n```\r\n@Override\r\n    public void onReceive(Context context, Intent intent) {\r\n        String action = intent.getAction();\r\n        Log.i(&quot;Started&quot;,action);\r\n        Intent i = null;\r\n        if(action.equals(&quot;LAUNCH_ATTRACTIONS_ACTIVITY&quot;)) {\r\n            i = new Intent(context.getApplicationContext(), MainActivity.class);\r\n        } else if(action.equals(&quot;LAUNCH_HOTELS_ACTIVITY&quot;)){\r\n            i = new Intent(context.getApplicationContext(), HotelsActivity.class);\r\n        }\r\n        context.startActivity(i);\r\n    }\r\n```\r\n\r\n&quot;LAUNCH_ATTRACTIONS_ACTIVITY&quot; and &quot;LAUNCH_HOTELS_ACTIVITY&quot; are two intent actions I have specified in the intent filter while registering the receiver in the MainActivity.class file like so -\r\n\r\n```\r\nintentFilter.addAction(&quot;LAUNCH_ATTRACTIONS_ACTIVITY&quot;);\r\nintentFilter.addAction(&quot;LAUNCH_HOTELS_ACTIVITY&quot;);\r\n\r\nregisterReceiver(myReceiver, intentFilter, &quot;edu.uic.cs478.fall22.mp3&quot;, null,RECEIVER_EXPORTED);\r\n```\r\n\r\nIn the broadcast sender I am sending the broadcast like so -\r\n\r\n```\r\nsendBroadcast(new Intent(&quot;LAUNCH_ATTRACTIONS_ACTIVITY&quot;));\r\n```\r\n\r\nNow, I first open the receiver application on the emulator and then I open the sender application and press a button to send the broadcast. But, the activity in the receiver only opens if the receiver app is the last opened app on the device before the sender app. So for example, if I open the receiver app and then navigate to the home screen, then open the sender app and send the broadcast, the activity is not opened even though broadcast is being received (Log.i() is run in the onReceive()). But, if I open the receiver app, then go to the recents menu and open the sender app and then send the broadcast, the receiver app responds and the activity is opened. Why is this happening and how do I fix this?\r\n\r\nEdit: This is my Manifest.xml file for the receiver app.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        package=&quot;com.example.p3_app2&quot;&gt;\r\n    \r\n        &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    \r\n        &lt;application\r\n            android:allowBackup=&quot;true&quot;\r\n            android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n            android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n            android:icon=&quot;@mipmap/ic_launcher&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n            android:supportsRtl=&quot;true&quot;\r\n            android:theme=&quot;@style/Theme.P3_App2&quot;\r\n            tools:targetApi=&quot;31&quot;&gt;\r\n            &lt;receiver\r\n                android:name=&quot;.MyReceiver&quot;\r\n                android:enabled=&quot;true&quot;\r\n                android:exported=&quot;true&quot;&gt;&lt;/receiver&gt;\r\n    \r\n            &lt;activity\r\n                android:name=&quot;.HotelsActivity&quot;\r\n                android:exported=&quot;false&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;.MainActivity&quot;\r\n                android:exported=&quot;true&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n    \r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n        &lt;/application&gt;\r\n    \r\n    &lt;/manifest&gt;","title":"Broadcast Receiver not starting Activity in Another app","body":"<p>I have two apps. One defines a broadcast receiver and the other send the broadcast.</p>\n<p>This is the onReceive() method in the receiver --</p>\n<pre><code>@Override\n    public void onReceive(Context context, Intent intent) {\n        String action = intent.getAction();\n        Log.i(&quot;Started&quot;,action);\n        Intent i = null;\n        if(action.equals(&quot;LAUNCH_ATTRACTIONS_ACTIVITY&quot;)) {\n            i = new Intent(context.getApplicationContext(), MainActivity.class);\n        } else if(action.equals(&quot;LAUNCH_HOTELS_ACTIVITY&quot;)){\n            i = new Intent(context.getApplicationContext(), HotelsActivity.class);\n        }\n        context.startActivity(i);\n    }\n</code></pre>\n<p>&quot;LAUNCH_ATTRACTIONS_ACTIVITY&quot; and &quot;LAUNCH_HOTELS_ACTIVITY&quot; are two intent actions I have specified in the intent filter while registering the receiver in the MainActivity.class file like so -</p>\n<pre><code>intentFilter.addAction(&quot;LAUNCH_ATTRACTIONS_ACTIVITY&quot;);\nintentFilter.addAction(&quot;LAUNCH_HOTELS_ACTIVITY&quot;);\n\nregisterReceiver(myReceiver, intentFilter, &quot;edu.uic.cs478.fall22.mp3&quot;, null,RECEIVER_EXPORTED);\n</code></pre>\n<p>In the broadcast sender I am sending the broadcast like so -</p>\n<pre><code>sendBroadcast(new Intent(&quot;LAUNCH_ATTRACTIONS_ACTIVITY&quot;));\n</code></pre>\n<p>Now, I first open the receiver application on the emulator and then I open the sender application and press a button to send the broadcast. But, the activity in the receiver only opens if the receiver app is the last opened app on the device before the sender app. So for example, if I open the receiver app and then navigate to the home screen, then open the sender app and send the broadcast, the activity is not opened even though broadcast is being received (Log.i() is run in the onReceive()). But, if I open the receiver app, then go to the recents menu and open the sender app and then send the broadcast, the receiver app responds and the activity is opened. Why is this happening and how do I fix this?</p>\n<p>Edit: This is my Manifest.xml file for the receiver app.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    package=&quot;com.example.p3_app2&quot;&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.P3_App2&quot;\n        tools:targetApi=&quot;31&quot;&gt;\n        &lt;receiver\n            android:name=&quot;.MyReceiver&quot;\n            android:enabled=&quot;true&quot;\n            android:exported=&quot;true&quot;&gt;&lt;/receiver&gt;\n\n        &lt;activity\n            android:name=&quot;.HotelsActivity&quot;\n            android:exported=&quot;false&quot; /&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n"},{"tags":["java","algorithm","binary-tree"],"comments":[{"owner":{"account_id":1449144,"reputation":2901,"user_id":1366643,"accept_rate":53,"display_name":"Herokiller"},"score":0,"creation_date":1415810825,"post_id":26891747,"comment_id":42338014,"body_markdown":"do necessarily need to use recursion?","body":"do necessarily need to use recursion?"},{"owner":{"display_name":"user1196549"},"score":0,"creation_date":1415811059,"post_id":26891747,"comment_id":42338169,"body_markdown":"The nulls are not reduntant. If you don&#39;t specifiy the shape of the tree and the missing nodes, no program can guess them.","body":"The nulls are not reduntant. If you don&#39;t specifiy the shape of the tree and the missing nodes, no program can guess them."},{"owner":{"account_id":1168783,"reputation":6419,"user_id":1146450,"accept_rate":78,"display_name":"rekinyz"},"score":0,"creation_date":1415811152,"post_id":26891747,"comment_id":42338222,"body_markdown":"@Herokiller, any better idea even without recursion is also welcome.","body":"@Herokiller, any better idea even without recursion is also welcome."},{"owner":{"account_id":1449144,"reputation":2901,"user_id":1366643,"accept_rate":53,"display_name":"Herokiller"},"score":0,"creation_date":1415811303,"post_id":26891747,"comment_id":42338297,"body_markdown":"@user1146450 then u may use queue to add tree nodes","body":"@user1146450 then u may use queue to add tree nodes"},{"owner":{"account_id":3231607,"reputation":6171,"user_id":2726734,"display_name":"ryanpattison"},"score":0,"creation_date":1415811361,"post_id":26891747,"comment_id":42338329,"body_markdown":"@YvesDaoust They are redundant when the parent is `NULL`. There are encodings which use this fact.","body":"@YvesDaoust They are redundant when the parent is <code>NULL</code>. There are encodings which use this fact."}],"answers":[{"tags":[],"owner":{"display_name":"user1196549"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1415812827,"creation_date":1415812438,"answer_id":26892659,"question_id":26891747,"body_markdown":"If you read the tree in preorder, you will find `1, -, 2, 3, -`. Just construct the tree using the same order and not looking up the string at `index*2` and `index*2+1`, but left to right. (You can discard the final nulls if you like).\r\n\r\nFor a more &quot;complex&quot; example:\r\n\r\n           1\r\n         /   \\\r\n       2       3\r\n        \\     / \\\r\n         4   5   6\r\n              7   8\r\n    \r\n    1, 2, -, 4, 3, 5, -, 7, 6, -, 8\r\n\r\n\r\n","title":"convert integer array into a binary tree","body":"<p>If you read the tree in preorder, you will find <code>1, -, 2, 3, -</code>. Just construct the tree using the same order and not looking up the string at <code>index*2</code> and <code>index*2+1</code>, but left to right. (You can discard the final nulls if you like).</p>\n\n<p>For a more \"complex\" example:</p>\n\n<pre><code>       1\n     /   \\\n   2       3\n    \\     / \\\n     4   5   6\n          7   8\n\n1, 2, -, 4, 3, 5, -, 7, 6, -, 8\n</code></pre>\n"},{"comments":[{"owner":{"account_id":13459927,"reputation":195,"user_id":9712336,"display_name":"zfgo"},"score":0,"creation_date":1599330131,"post_id":56246354,"comment_id":112744202,"body_markdown":"this is not correct, using {1, null,2, 3} gives null pointer exception in fromArray","body":"this is not correct, using {1, null,2, 3} gives null pointer exception in fromArray"}],"tags":[],"owner":{"account_id":15985596,"reputation":395,"user_id":11536176,"display_name":"irisha_murrr"},"comment_count":1,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1559132623,"creation_date":1558472692,"answer_id":56246354,"question_id":26891747,"body_markdown":"Here is a java-monster and it solves the task with the possibility of debugging\r\n```java\r\n\r\nimport java.util.*;\r\n\r\npublic class TreeCreator {\r\n\r\n    public static void main(String[] args) {\r\n        Integer[] tree = new Integer[]{1, null, 2, 3};\r\n        TreeCreator tr = new TreeCreator();\r\n        TreeNode treeNode = tr.fromArray(tree);\r\n        List&lt;Integer&gt; list = tr.postorderTraversal(treeNode);\r\n        list.forEach(System.out::println); // postOrder is 3 2 1\r\n\r\n    }\r\n\r\n    public TreeNode fromArray(Integer[] tree) {\r\n        if (tree.length == 0) return null;\r\n        TreeNode root = new TreeNode(tree[0]);\r\n        Queue&lt;TreeNode&gt; q = new LinkedList&lt;&gt;();\r\n        q.add(root);\r\n        for (int i = 1; i &lt; tree.length; i++) {\r\n            TreeNode node = q.peek();\r\n            if (node.left == null) {\r\n                node.left = new TreeNode(tree[i]);\r\n                if (tree[i] != null) q.add(node.left);\r\n            } else if (node.right == null) {\r\n                node.right = new TreeNode(tree[i]);\r\n                if (tree[i] != null) q.add(node.right);\r\n                q.remove();\r\n            }\r\n        }\r\n        return root;\r\n    }\r\n\r\n    private static class TreeNode {\r\n        Integer val;\r\n        TreeNode left;\r\n        TreeNode right;\r\n\r\n        TreeNode(Integer x) {\r\n            val = x;\r\n        }\r\n    }\r\n\r\n    public List&lt;Integer&gt; postorderTraversal(TreeNode root) {\r\n        List&lt;Integer&gt; l = new ArrayList&lt;&gt;();\r\n        if (root == null) return l;\r\n        funcPostOrder(root, l);\r\n        return l;\r\n    }\r\n\r\n    private void funcPostOrder(TreeNode c, List&lt;Integer&gt; l) {\r\n        if (c.left != null &amp;&amp; c.left.val != null) {\r\n            funcPostOrder(c.left, l);\r\n        }\r\n        if (c.right != null) {\r\n            funcPostOrder(c.right, l);\r\n        }\r\n        l.add(c.val);\r\n    }\r\n}\r\n```\r\nmore interesing example is  \r\n```java\r\nInteger[] tree = new Integer[]{5,4,8,11,null,13,4,7,2,null,null,null,1};\r\n```","title":"convert integer array into a binary tree","body":"<p>Here is a java-monster and it solves the task with the possibility of debugging</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>\nimport java.util.*;\n\npublic class TreeCreator {\n\n    public static void main(String[] args) {\n        Integer[] tree = new Integer[]{1, null, 2, 3};\n        TreeCreator tr = new TreeCreator();\n        TreeNode treeNode = tr.fromArray(tree);\n        List&lt;Integer&gt; list = tr.postorderTraversal(treeNode);\n        list.forEach(System.out::println); // postOrder is 3 2 1\n\n    }\n\n    public TreeNode fromArray(Integer[] tree) {\n        if (tree.length == 0) return null;\n        TreeNode root = new TreeNode(tree[0]);\n        Queue&lt;TreeNode&gt; q = new LinkedList&lt;&gt;();\n        q.add(root);\n        for (int i = 1; i &lt; tree.length; i++) {\n            TreeNode node = q.peek();\n            if (node.left == null) {\n                node.left = new TreeNode(tree[i]);\n                if (tree[i] != null) q.add(node.left);\n            } else if (node.right == null) {\n                node.right = new TreeNode(tree[i]);\n                if (tree[i] != null) q.add(node.right);\n                q.remove();\n            }\n        }\n        return root;\n    }\n\n    private static class TreeNode {\n        Integer val;\n        TreeNode left;\n        TreeNode right;\n\n        TreeNode(Integer x) {\n            val = x;\n        }\n    }\n\n    public List&lt;Integer&gt; postorderTraversal(TreeNode root) {\n        List&lt;Integer&gt; l = new ArrayList&lt;&gt;();\n        if (root == null) return l;\n        funcPostOrder(root, l);\n        return l;\n    }\n\n    private void funcPostOrder(TreeNode c, List&lt;Integer&gt; l) {\n        if (c.left != null &amp;&amp; c.left.val != null) {\n            funcPostOrder(c.left, l);\n        }\n        if (c.right != null) {\n            funcPostOrder(c.right, l);\n        }\n        l.add(c.val);\n    }\n}\n</code></pre>\n\n<p>more interesing example is  </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Integer[] tree = new Integer[]{5,4,8,11,null,13,4,7,2,null,null,null,1};\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18168278,"reputation":11,"user_id":13218408,"display_name":"eldho2000"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1625316281,"creation_date":1625316281,"answer_id":68236375,"question_id":26891747,"body_markdown":"This should solve the problem.\r\n    \r\n    public class TreeNode {\r\n    int val;\r\n    TreeNode left;\r\n    TreeNode right;\r\n\r\n    TreeNode() {\r\n    }\r\n\r\n    TreeNode(int val) {\r\n        this.val = val;\r\n    }\r\n\r\n    TreeNode(int val, TreeNode left, TreeNode right) {\r\n        this.val = val;\r\n        this.left = left;\r\n        this.right = right;\r\n    }\r\n\r\n    static TreeNode arrayToTree(Integer array[]) {\r\n        return arrayToTree(array, 0);\r\n    }\r\n\r\n    static TreeNode arrayToTree(Integer array[], int index) {\r\n        if (index &gt;= array.length)\r\n            return null;\r\n        if (array[index] == null)\r\n            return null;\r\n        return new TreeNode(array[index], arrayToTree(array, index * 2 + 1), arrayToTree(array, index * 2 + 2));\r\n    }\r\n\r\n\r\n\r\n","title":"convert integer array into a binary tree","body":"<p>This should solve the problem.</p>\n<pre><code>public class TreeNode {\nint val;\nTreeNode left;\nTreeNode right;\n\nTreeNode() {\n}\n\nTreeNode(int val) {\n    this.val = val;\n}\n\nTreeNode(int val, TreeNode left, TreeNode right) {\n    this.val = val;\n    this.left = left;\n    this.right = right;\n}\n\nstatic TreeNode arrayToTree(Integer array[]) {\n    return arrayToTree(array, 0);\n}\n\nstatic TreeNode arrayToTree(Integer array[], int index) {\n    if (index &gt;= array.length)\n        return null;\n    if (array[index] == null)\n        return null;\n    return new TreeNode(array[index], arrayToTree(array, index * 2 + 1), arrayToTree(array, index * 2 + 2));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26734145,"reputation":1,"user_id":20335990,"display_name":"LionLoin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666757248,"creation_date":1666757201,"answer_id":74202594,"question_id":26891747,"body_markdown":"&gt; Here is a java-monster and it solves the task with the possibility of debugging\r\n\r\nUse Integer to prevent NPE.\r\n\r\n    public class TreeNode {\r\n        Integer val;\r\n        TreeNode left;\r\n        TreeNode right;\r\n    \r\n        TreeNode() {\r\n        }\r\n    \r\n        TreeNode(Integer val) {\r\n            this.val = val;\r\n        }\r\n    \r\n        TreeNode(Integer val, TreeNode left, TreeNode right) {\r\n            this.val = val;\r\n            this.left = left;\r\n            this.right = right;\r\n        }\r\n    \r\n        public List&lt;Integer&gt; postorderTraversal() {\r\n            List&lt;Integer&gt; l = new ArrayList&lt;&gt;();\r\n            if (this == null) return l;\r\n            printPostOrder(this, l);\r\n            return l;\r\n        }\r\n    \r\n        private void printPostOrder(TreeNode c, List&lt;Integer&gt; l) {\r\n            if (c.left != null &amp;&amp; c.left.val != null) {\r\n                printPostOrder(c.left, l);\r\n            }\r\n            if (c.right != null) {\r\n                printPostOrder(c.right, l);\r\n            }\r\n            l.add(c.val);\r\n        }\r\n    \r\n        public static TreeNode fromArray(Integer[] tree) {\r\n            if (tree.length == 0) return null;\r\n            TreeNode root = new TreeNode(tree[0]);\r\n            Queue&lt;TreeNode&gt; q = new LinkedList&lt;&gt;();\r\n            q.add(root);\r\n            for (int i = 1; i &lt; tree.length; i++) {\r\n                TreeNode node = q.peek();\r\n                if (node.left == null) {\r\n                    node.left = new TreeNode(tree[i]);\r\n                    if (tree[i] != null) q.add(node.left);\r\n                } else if (node.right == null) {\r\n                    node.right = new TreeNode(tree[i]);\r\n                    if (tree[i] != null) q.add(node.right);\r\n                    q.remove();\r\n                }\r\n            }\r\n            return root;\r\n        }\r\n    }\r\n\r\n\r\n    public static void main(String[] args) {\r\n        Integer[] integers = new Integer[]{1, null, 2, 3};\r\n        TreeNode treeNode = TreeNode.fromArray(integers);\r\n        List&lt;Integer&gt; list = treeNode.postorderTraversal();\r\n        list.forEach(System.out::println);\r\n    }","title":"convert integer array into a binary tree","body":"<blockquote>\n<p>Here is a java-monster and it solves the task with the possibility of debugging</p>\n</blockquote>\n<p>Use Integer to prevent NPE.</p>\n<pre><code>public class TreeNode {\n    Integer val;\n    TreeNode left;\n    TreeNode right;\n\n    TreeNode() {\n    }\n\n    TreeNode(Integer val) {\n        this.val = val;\n    }\n\n    TreeNode(Integer val, TreeNode left, TreeNode right) {\n        this.val = val;\n        this.left = left;\n        this.right = right;\n    }\n\n    public List&lt;Integer&gt; postorderTraversal() {\n        List&lt;Integer&gt; l = new ArrayList&lt;&gt;();\n        if (this == null) return l;\n        printPostOrder(this, l);\n        return l;\n    }\n\n    private void printPostOrder(TreeNode c, List&lt;Integer&gt; l) {\n        if (c.left != null &amp;&amp; c.left.val != null) {\n            printPostOrder(c.left, l);\n        }\n        if (c.right != null) {\n            printPostOrder(c.right, l);\n        }\n        l.add(c.val);\n    }\n\n    public static TreeNode fromArray(Integer[] tree) {\n        if (tree.length == 0) return null;\n        TreeNode root = new TreeNode(tree[0]);\n        Queue&lt;TreeNode&gt; q = new LinkedList&lt;&gt;();\n        q.add(root);\n        for (int i = 1; i &lt; tree.length; i++) {\n            TreeNode node = q.peek();\n            if (node.left == null) {\n                node.left = new TreeNode(tree[i]);\n                if (tree[i] != null) q.add(node.left);\n            } else if (node.right == null) {\n                node.right = new TreeNode(tree[i]);\n                if (tree[i] != null) q.add(node.right);\n                q.remove();\n            }\n        }\n        return root;\n    }\n}\n\n\npublic static void main(String[] args) {\n    Integer[] integers = new Integer[]{1, null, 2, 3};\n    TreeNode treeNode = TreeNode.fromArray(integers);\n    List&lt;Integer&gt; list = treeNode.postorderTraversal();\n    list.forEach(System.out::println);\n}\n</code></pre>\n"}],"owner":{"account_id":1168783,"reputation":6419,"user_id":1146450,"accept_rate":78,"display_name":"rekinyz"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16079,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":4,"score":5,"last_activity_date":1666757248,"creation_date":1415809588,"question_id":26891747,"body_markdown":"I can already convert an array into a binary tree using following algorithm in java:\r\n\r\n\r\n    public class TreeNode {\r\n        public TreeNode left, right;\r\n        public int val;\r\n\r\n        public TreeNode(int val) {\r\n            this.val = val;\r\n        }\r\n    }\r\n\r\n    public TreeNode arrayToTree(Integer[] input){\r\n        TreeNode root = createTreeNode(input,1);\r\n        return root;\r\n    }\r\n   \r\n    private TreeNode createTreeNode(Integer[] input, int index){\r\n        if(index&lt;=input.length){\r\n            Integer value = input[index-1];\r\n            if(value!=null){\r\n            \tTreeNode t = new TreeNode(value);\r\n                t.left = createTreeNode(input, index*2);\r\n                t.right = createTreeNode(input, index*2+1);\r\n                return t;\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\nwhen the input is *{1,null,2,null,null,3}*, I get following tree:\r\n\r\n    1        \r\n     \\   \r\n      2    \r\n     /   \r\n    3\r\n\r\nhowever I think the input *{1,null,2,3}* is clear enough to define a tree like above. \r\n\r\nAny good idea to avoid the redundant **nulls** defined in the input array?\r\n","title":"convert integer array into a binary tree","body":"<p>I can already convert an array into a binary tree using following algorithm in java:</p>\n\n<pre><code>public class TreeNode {\n    public TreeNode left, right;\n    public int val;\n\n    public TreeNode(int val) {\n        this.val = val;\n    }\n}\n\npublic TreeNode arrayToTree(Integer[] input){\n    TreeNode root = createTreeNode(input,1);\n    return root;\n}\n\nprivate TreeNode createTreeNode(Integer[] input, int index){\n    if(index&lt;=input.length){\n        Integer value = input[index-1];\n        if(value!=null){\n            TreeNode t = new TreeNode(value);\n            t.left = createTreeNode(input, index*2);\n            t.right = createTreeNode(input, index*2+1);\n            return t;\n        }\n    }\n    return null;\n}\n</code></pre>\n\n<p>when the input is <em>{1,null,2,null,null,3}</em>, I get following tree:</p>\n\n<pre><code>1        \n \\   \n  2    \n /   \n3\n</code></pre>\n\n<p>however I think the input <em>{1,null,2,3}</em> is clear enough to define a tree like above. </p>\n\n<p>Any good idea to avoid the redundant <strong>nulls</strong> defined in the input array?</p>\n"},{"tags":["java","arrays","heap","bottom-up"],"answers":[{"comments":[{"owner":{"account_id":2583127,"reputation":59,"user_id":2239374,"accept_rate":56,"display_name":"hockeyfreak863"},"score":0,"creation_date":1397002350,"post_id":22948921,"comment_id":35039404,"body_markdown":"its better, however now i get a sorted heap im getting 9 8 7 6 5 2 when the correct output is 9 6 8 2 5 7","body":"its better, however now i get a sorted heap im getting 9 8 7 6 5 2 when the correct output is 9 6 8 2 5 7"},{"owner":{"account_id":4240333,"reputation":5530,"user_id":3470414,"accept_rate":75,"display_name":"Always Learning"},"score":0,"creation_date":1397006712,"post_id":22948921,"comment_id":35040557,"body_markdown":"From the indentation of your pseudo-code, it looks like the last line `H[k] &lt;-V` is outside of the while, but in your code it&#39;s inside the while.","body":"From the indentation of your pseudo-code, it looks like the last line <code>H[k] &lt;-V</code> is outside of the while, but in your code it&#39;s inside the while."},{"owner":{"account_id":971754,"reputation":48147,"user_id":1477667,"accept_rate":56,"display_name":"dfeuer"},"score":0,"creation_date":1397023524,"post_id":22948921,"comment_id":35045333,"body_markdown":"Note that if it&#39;s easier to understand, or faster, to use a 1-indexed array, you can always make the array just a drop bigger than necessary, and don&#39;t use the 0th entry.","body":"Note that if it&#39;s easier to understand, or faster, to use a 1-indexed array, you can always make the array just a drop bigger than necessary, and don&#39;t use the 0th entry."}],"tags":[],"owner":{"account_id":4240333,"reputation":5530,"user_id":3470414,"accept_rate":75,"display_name":"Always Learning"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1396993923,"creation_date":1396993923,"answer_id":22948921,"question_id":22948762,"body_markdown":"Arrays in Java start at index `0` and go to `n-1` (not 1 to n as in the pseudo-code).  You correctly initialize n to be `array.length-1`, but then you should also make the for-loop go while `i &gt;= 0` not `i &gt;= 1`.  I didn&#39;t run your program to see if there are other problems, but that seems like the first thing to fix.","title":"building a bottomUp heap","body":"<p>Arrays in Java start at index <code>0</code> and go to <code>n-1</code> (not 1 to n as in the pseudo-code).  You correctly initialize n to be <code>array.length-1</code>, but then you should also make the for-loop go while <code>i &gt;= 0</code> not <code>i &gt;= 1</code>.  I didn't run your program to see if there are other problems, but that seems like the first thing to fix.</p>\n"},{"tags":[],"owner":{"account_id":2104681,"reputation":1531,"user_id":1871293,"accept_rate":88,"display_name":"Daniel Qiu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1397023310,"creation_date":1397022485,"answer_id":22953849,"question_id":22948762,"body_markdown":"The key points are:\r\n\r\n - In order to hold the property of a node at position j that its left\r\n   child is at 2j, its right child is at 2j +1 and its parent is at j/2,\r\n   the range of j is: 1&lt;=j&lt;=n.\r\n - The array range is from 0 to n-1\r\n\r\nThe trick is: In the for and while loops, you still think of the range 1 to n, but when you do the array manipulation, you only need to offset 1, ie, array[j-1] for the position j.\r\n\r\nTry with the following code, I tested and it worked - the output is 9 6 8 2 5 7. Please be aware that array[k-1]=v isn&#39;t in the while loop.\r\n    \r\n    public class heapbottomup {\r\n        public static void main(String args[]){\r\n            int[] array = {2 ,9 ,7 ,6 ,5 ,8};\r\n            BottomUp(array);\r\n        }\r\n    \r\n        static int[] BottomUp (int[]array){\r\n            int n = array.length;\r\n    \r\n            for(int i=(n/2);i&gt;=1;i--){\r\n                int k =i;\r\n                int v = array[k-1];\r\n                boolean Heap = false;\r\n    \r\n                while(!Heap &amp;&amp; ((2*k)&lt;=n)){ \r\n                    int j = 2*k;\r\n                    if (j&lt;n){\r\n                        if(array[j-1]&lt;array[j]) j =j+1;\r\n                    }\r\n                    if(v&gt;=array[j-1]){\r\n                        Heap=true;\r\n                    }\r\n                    else{\r\n                        array[k-1]= array[j-1];  \r\n                        k=j; \r\n                    }                \r\n                }//end while\r\n                \r\n                array[k-1]=v; \r\n    \r\n            }//end for\r\n            print(array);\r\n            return(array);\r\n        }\r\n    \r\n        static void print(int[]array){\r\n            if(array==null){\r\n                System.out.println(&quot;empty&quot;);\r\n                return;\r\n            }\r\n            for(int i =0;i&lt;array.length;i++){\r\n                System.out.print(array[i] + &quot; &quot;);\r\n            }\r\n            System.out.println();\r\n        }//end print\r\n    }","title":"building a bottomUp heap","body":"<p>The key points are:</p>\n\n<ul>\n<li>In order to hold the property of a node at position j that its left\nchild is at 2j, its right child is at 2j +1 and its parent is at j/2,\nthe range of j is: 1&lt;=j&lt;=n.</li>\n<li>The array range is from 0 to n-1</li>\n</ul>\n\n<p>The trick is: In the for and while loops, you still think of the range 1 to n, but when you do the array manipulation, you only need to offset 1, ie, array[j-1] for the position j.</p>\n\n<p>Try with the following code, I tested and it worked - the output is 9 6 8 2 5 7. Please be aware that array[k-1]=v isn't in the while loop.</p>\n\n<pre><code>public class heapbottomup {\n    public static void main(String args[]){\n        int[] array = {2 ,9 ,7 ,6 ,5 ,8};\n        BottomUp(array);\n    }\n\n    static int[] BottomUp (int[]array){\n        int n = array.length;\n\n        for(int i=(n/2);i&gt;=1;i--){\n            int k =i;\n            int v = array[k-1];\n            boolean Heap = false;\n\n            while(!Heap &amp;&amp; ((2*k)&lt;=n)){ \n                int j = 2*k;\n                if (j&lt;n){\n                    if(array[j-1]&lt;array[j]) j =j+1;\n                }\n                if(v&gt;=array[j-1]){\n                    Heap=true;\n                }\n                else{\n                    array[k-1]= array[j-1];  \n                    k=j; \n                }                \n            }//end while\n\n            array[k-1]=v; \n\n        }//end for\n        print(array);\n        return(array);\n    }\n\n    static void print(int[]array){\n        if(array==null){\n            System.out.println(\"empty\");\n            return;\n        }\n        for(int i =0;i&lt;array.length;i++){\n            System.out.print(array[i] + \" \");\n        }\n        System.out.println();\n    }//end print\n}\n</code></pre>\n"}],"owner":{"account_id":2583127,"reputation":59,"user_id":2239374,"accept_rate":56,"display_name":"hockeyfreak863"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7986,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1666757205,"creation_date":1396993317,"question_id":22948762,"body_markdown":"im trying to do a heap bottom up construction from Psuedo code from my text book however the output im getting is not a correct heap im getting out 2 9 8 6 5 7\r\n\r\nanyone know where im going wrong(pseudo code is from a text book, and heap needs to be array)\r\n\r\nhere is the PsuedoCode bottom up im working with\r\n    \r\n    //constructs a heap from elements of a given array by bottom up algorithm\r\n    //input an array H[1...n] of orderable items\r\n    //output a heap H[1...n]\r\n    \r\n    for i&lt;- [n/2] downto 1 do\r\n     k&lt;-i; v&lt;-H[k];\r\n     heap&lt;-False\r\n      while not heap and 2*k &lt;= n do\r\n       j&lt;-2*k\r\n       if(j&lt;n) //there are two children\r\n        if H[j] &lt; H[j+1] j&lt;- j+1\r\n       if v&gt;=h[j]\r\n        heap = true\r\n       else H[k]&lt;-H[j]  k&lt;-j\r\n     H[k] &lt;-V\r\n\r\n\r\n\r\n\r\n\r\nhere is my code\r\n    \r\n    package heapbottomup;\r\n\r\n    import javax.swing.Spring;\r\n\r\n    public class heapbottomup {\r\n\tpublic static void main(String args[]){\r\n\t\tint[] array = {2 ,9 ,7 ,6 ,5 ,8};\r\n\t\tBottomUp(array);\r\n\t}\r\n\t\r\n\tstatic int[] BottomUp (int[]array){\r\n\t\tint n = array.length-1;\r\n\t\t\r\n\t\tfor(int i=(n/2);i&gt;=1;i--){\r\n\t\t\tint k =i;\r\n\t\t\tint v = array[k];\r\n\t\t\tboolean Heap = false;\r\n\t\t\t\r\n\t\t\twhile(!Heap &amp;&amp; ((2*k)&lt;=n)){\r\n\t\t\t\tint j = 2*k;\r\n\t\t\t\tif (j&lt;n){\r\n\t\t\t\t\tif(array[j]&lt;array[j+1]) j =j+1;\r\n\t\t\t\t}\r\n\t\t\t\tif(v&gt;=array[j]){\r\n\t\t\t\t\tHeap=true;\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\tarray[k]= array[j];\r\n\t\t\t\t\tk=j;\r\n\t\t\t\t}\r\n\t\t\t\tarray[k]=v;\r\n\t\t\t}//end while\r\n\r\n\t\t}//end for\r\n\t\tprint(array);\r\n\t\treturn(array);\r\n\t}\r\n\t\r\n\t\r\n\tstatic void print(int[]array){\r\n\t\tif(array==null){\r\n\t\t\tSystem.out.println(&quot;empty&quot;);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tfor(int i =0;i&lt;array.length;i++){\r\n\t\t\tSystem.out.print(array[i] + &quot; &quot;);\r\n\t\t}\r\n\t\tSystem.out.println();\r\n\t}//end print\r\n\t\r\n\t\r\n    }\r\n\r\n\r\n","title":"building a bottomUp heap","body":"<p>im trying to do a heap bottom up construction from Psuedo code from my text book however the output im getting is not a correct heap im getting out 2 9 8 6 5 7</p>\n\n<p>anyone know where im going wrong(pseudo code is from a text book, and heap needs to be array)</p>\n\n<p>here is the PsuedoCode bottom up im working with</p>\n\n<pre><code>//constructs a heap from elements of a given array by bottom up algorithm\n//input an array H[1...n] of orderable items\n//output a heap H[1...n]\n\nfor i&lt;- [n/2] downto 1 do\n k&lt;-i; v&lt;-H[k];\n heap&lt;-False\n  while not heap and 2*k &lt;= n do\n   j&lt;-2*k\n   if(j&lt;n) //there are two children\n    if H[j] &lt; H[j+1] j&lt;- j+1\n   if v&gt;=h[j]\n    heap = true\n   else H[k]&lt;-H[j]  k&lt;-j\n H[k] &lt;-V\n</code></pre>\n\n<p>here is my code</p>\n\n<pre><code>package heapbottomup;\n\nimport javax.swing.Spring;\n\npublic class heapbottomup {\npublic static void main(String args[]){\n    int[] array = {2 ,9 ,7 ,6 ,5 ,8};\n    BottomUp(array);\n}\n\nstatic int[] BottomUp (int[]array){\n    int n = array.length-1;\n\n    for(int i=(n/2);i&gt;=1;i--){\n        int k =i;\n        int v = array[k];\n        boolean Heap = false;\n\n        while(!Heap &amp;&amp; ((2*k)&lt;=n)){\n            int j = 2*k;\n            if (j&lt;n){\n                if(array[j]&lt;array[j+1]) j =j+1;\n            }\n            if(v&gt;=array[j]){\n                Heap=true;\n            }\n            else{\n                array[k]= array[j];\n                k=j;\n            }\n            array[k]=v;\n        }//end while\n\n    }//end for\n    print(array);\n    return(array);\n}\n\n\nstatic void print(int[]array){\n    if(array==null){\n        System.out.println(\"empty\");\n        return;\n    }\n    for(int i =0;i&lt;array.length;i++){\n        System.out.print(array[i] + \" \");\n    }\n    System.out.println();\n}//end print\n\n\n}\n</code></pre>\n"},{"tags":["java","testing","testng"],"answers":[{"tags":[],"owner":{"account_id":346350,"reputation":14221,"user_id":679824,"accept_rate":40,"display_name":"Krishnan Mahadevan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666757138,"creation_date":1666757138,"answer_id":74202592,"question_id":74175161,"body_markdown":"&gt; Factory methods are expected to produce testclass (A class which has\r\n&gt; one or more `@Test` methods is called a test class) instances.\r\n\r\nFactory methods are invoked via two mechanisms:\r\n\r\n 1. Annotating a parameterised constructor (this is usually coupled with a data provider so that one can create multiple test class instances) with a `@Factory` annotation.\r\n 2. Creating a static method of the form `public static Object[] myMethod()` and having it annotated with the `@Factory` annotation.\r\n\r\nIn both the cases, TestNG would end up invoking the factory method all the time and it can&#39;t be done selectively.\r\n\r\n    Test class is a regular class which houses one or more `@Test` annotated test methods.\r\n\r\nSo you are expecting that we build some condition (based on positivity of a number that gets yielded by every test class) based on which the factory method returns or does not return the test class instance.\r\n\r\nHere&#39;s where the confusion starts:\r\n\r\n - If the field is an instance level field, then the factory method would not be able to access the field until the object gets instantiated and that is what we are conditionally trying to control.\r\n - If the field is a static field, then you would need to use reflection to check the value of that field (if you would like it to be generic) and then proceed with instantiation, which in my opinion is kind of over engineering.\r\n\r\n\r\nSo in short, there&#39;s no built in way in which you can have a selective execution of a Factory method.","title":"Can we skip instantiation of test class inside factory method in TestNG?","body":"<blockquote>\n<p>Factory methods are expected to produce testclass (A class which has\none or more <code>@Test</code> methods is called a test class) instances.</p>\n</blockquote>\n<p>Factory methods are invoked via two mechanisms:</p>\n<ol>\n<li>Annotating a parameterised constructor (this is usually coupled with a data provider so that one can create multiple test class instances) with a <code>@Factory</code> annotation.</li>\n<li>Creating a static method of the form <code>public static Object[] myMethod()</code> and having it annotated with the <code>@Factory</code> annotation.</li>\n</ol>\n<p>In both the cases, TestNG would end up invoking the factory method all the time and it can't be done selectively.</p>\n<pre><code>Test class is a regular class which houses one or more `@Test` annotated test methods.\n</code></pre>\n<p>So you are expecting that we build some condition (based on positivity of a number that gets yielded by every test class) based on which the factory method returns or does not return the test class instance.</p>\n<p>Here's where the confusion starts:</p>\n<ul>\n<li>If the field is an instance level field, then the factory method would not be able to access the field until the object gets instantiated and that is what we are conditionally trying to control.</li>\n<li>If the field is a static field, then you would need to use reflection to check the value of that field (if you would like it to be generic) and then proceed with instantiation, which in my opinion is kind of over engineering.</li>\n</ul>\n<p>So in short, there's no built in way in which you can have a selective execution of a Factory method.</p>\n"}],"owner":{"account_id":26712142,"reputation":3,"user_id":20317320,"display_name":"Java Enthusiast"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74202592,"answer_count":1,"score":0,"last_activity_date":1666757138,"creation_date":1666563025,"question_id":74175161,"body_markdown":"So my class structure is as follows:\r\n(Note that I am using **TestNG** framework.)\r\n\r\n```java\r\npublic class A {\r\n    @Factory \r\n    public Object[] tst_createFactoryTests() {\r\n        // Creates test classes if NUM is positive\r\n    }\r\n}\r\n\r\npublic class B extends A {\r\n    private static final int NUM = 10;\r\n}\r\n\r\npublic class C extends A {\r\n    private static final int NUM = 20;\r\n}\r\n\r\npublic class D extends A {\r\n    private static final int NUM = -30;\r\n}\r\n```\r\n\r\n - So, basically we have a super class A. And classes B, C, &amp; D extend class A.\r\n - Every time when class A is invoked by one of it&#39;s subclass, it is supposed to create a test for the class which invokes it if the value of NUM is positive\r\n - For example, in case of class B and class C, since the value of NUM is positive, the factory method in class A should create test for them (one for class B and one for class C).\r\n - On the other hand, in case of class D, since the value of NUM is negative (-30), the factory method in class A should skip test instantiation for class D.\r\n - I tried to implement it with a simple if-else logic, but I am getting following error:\r\n\r\n  ```An error occurred while instantiating class A. Check to make sure it can be instantiated. Root cause: The Factory method A.tst_createFactoryTests() should have produced at-least one instance```\r\n - So, my question is do we have a way by which we can skip instantiation of a factory method based on a condition for some of the sub-classes which invoke it? Let me know if I need to provide any more context to it. Note that I am using **TestNG** framework.\r\n\r\nThanks in advance!!\r\n","title":"Can we skip instantiation of test class inside factory method in TestNG?","body":"<p>So my class structure is as follows:\n(Note that I am using <strong>TestNG</strong> framework.)</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class A {\n    @Factory \n    public Object[] tst_createFactoryTests() {\n        // Creates test classes if NUM is positive\n    }\n}\n\npublic class B extends A {\n    private static final int NUM = 10;\n}\n\npublic class C extends A {\n    private static final int NUM = 20;\n}\n\npublic class D extends A {\n    private static final int NUM = -30;\n}\n</code></pre>\n<ul>\n<li>So, basically we have a super class A. And classes B, C, &amp; D extend class A.</li>\n<li>Every time when class A is invoked by one of it's subclass, it is supposed to create a test for the class which invokes it if the value of NUM is positive</li>\n<li>For example, in case of class B and class C, since the value of NUM is positive, the factory method in class A should create test for them (one for class B and one for class C).</li>\n<li>On the other hand, in case of class D, since the value of NUM is negative (-30), the factory method in class A should skip test instantiation for class D.</li>\n<li>I tried to implement it with a simple if-else logic, but I am getting following error:</li>\n</ul>\n<p><code>An error occurred while instantiating class A. Check to make sure it can be instantiated. Root cause: The Factory method A.tst_createFactoryTests() should have produced at-least one instance</code></p>\n<ul>\n<li>So, my question is do we have a way by which we can skip instantiation of a factory method based on a condition for some of the sub-classes which invoke it? Let me know if I need to provide any more context to it. Note that I am using <strong>TestNG</strong> framework.</li>\n</ul>\n<p>Thanks in advance!!</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1553096335,"post_id":55264623,"comment_id":97260736,"body_markdown":"Please expand upon &quot;didn&#39;t worked&quot;.","body":"Please expand upon &quot;didn&#39;t worked&quot;."},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":2,"creation_date":1553096349,"post_id":55264623,"comment_id":97260746,"body_markdown":"For starters, you&#39;re only selecting from 3 of the 4 character sets, and you&#39;re only doing it once for each, not twice.","body":"For starters, you&#39;re only selecting from 3 of the 4 character sets, and you&#39;re only doing it once for each, not twice."},{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":0,"creation_date":1553097060,"post_id":55264623,"comment_id":97261277,"body_markdown":"Too tired to write a detailed answer, this should give you an idea: https://ideone.com/MtSwUc","body":"Too tired to write a detailed answer, this should give you an idea: <a href=\"https://ideone.com/MtSwUc\" rel=\"nofollow noreferrer\">ideone.com/MtSwUc</a>"},{"owner":{"account_id":2617694,"reputation":1456,"user_id":2266428,"accept_rate":57,"display_name":"J E Carter II"},"score":0,"creation_date":1553097064,"post_id":55264623,"comment_id":97261281,"body_markdown":"Please make sure your question includes the output you are seeing, including any stack traces, so that help can be provided.","body":"Please make sure your question includes the output you are seeing, including any stack traces, so that help can be provided."},{"owner":{"account_id":5076770,"reputation":295,"user_id":4073935,"accept_rate":25,"display_name":"Unicorn"},"score":0,"creation_date":1553097350,"post_id":55264623,"comment_id":97261498,"body_markdown":"have added the output","body":"have added the output"},{"owner":{"account_id":6379952,"reputation":3111,"user_id":4949750,"display_name":"Amongalen"},"score":1,"creation_date":1553097486,"post_id":55264623,"comment_id":97261590,"body_markdown":"Not really important, but why are you using `rnd.nextFloat() * chars.length()` instead of `rnd.nextInt(chars.length())`? No need to cast then.","body":"Not really important, but why are you using <code>rnd.nextFloat() * chars.length()</code> instead of <code>rnd.nextInt(chars.length())</code>? No need to cast then."},{"owner":{"account_id":6379952,"reputation":3111,"user_id":4949750,"display_name":"Amongalen"},"score":0,"creation_date":1553097683,"post_id":55264623,"comment_id":97261732,"body_markdown":"It is not possible for code you have included to produce such output. You&#39;re appending 3 characters only and the output has 8. Unless you start with an unempty `pass` variable.","body":"It is not possible for code you have included to produce such output. You&#39;re appending 3 characters only and the output has 8. Unless you start with an unempty <code>pass</code> variable."},{"owner":{"account_id":2983677,"reputation":9704,"user_id":2533082,"accept_rate":63,"display_name":"Vinz243"},"score":0,"creation_date":1553097936,"post_id":55264623,"comment_id":97261882,"body_markdown":"random isn&#39;t safe by theway","body":"random isn&#39;t safe by theway"}],"answers":[{"comments":[{"owner":{"account_id":6379952,"reputation":3111,"user_id":4949750,"display_name":"Amongalen"},"score":1,"creation_date":1553097503,"post_id":55265081,"comment_id":97261608,"body_markdown":"Not really important, but why are you using `rnd.nextFloat() * src.length()` instead of `rnd.nextInt(src.length())`? No need to cast then","body":"Not really important, but why are you using <code>rnd.nextFloat() * src.length()</code> instead of <code>rnd.nextInt(src.length())</code>? No need to cast then"}],"tags":[],"owner":{"account_id":15568089,"reputation":11,"user_id":11231277,"display_name":"Fenirine"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1553097371,"creation_date":1553097371,"answer_id":55265081,"question_id":55264623,"body_markdown":"This would do the trick:\r\n\r\n    private String chars = &quot;abcdefghijklmnopqrstuvwxyz&quot;;\r\n    private String CHARS = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;;\r\n    private String NUMS = &quot;1234567890&quot;;\r\n    private String SPEC = &quot;@#$%^&amp;+=&quot;;\r\n    private Random rnd = new Random();\r\n    \r\n    private String getTwoFrom(String src) {\r\n    \tint index1 = (int) (rnd.nextFloat() * src.length()),\r\n    \t\t\tindex2 = (int) (rnd.nextFloat() * src.length());\r\n    \treturn &quot;&quot; + src.charAt(index1) + src.charAt(index2);\r\n    }\r\n    \r\n    public String createPassword() {\r\n    \treturn getTwoFrom(chars) + getTwoFrom(CHARS) + getTwoFrom(NUMS) + getTwoFrom(SPEC);\r\n    }","title":"Java - Generate Random Password with special characters","body":"<p>This would do the trick:</p>\n\n<pre><code>private String chars = \"abcdefghijklmnopqrstuvwxyz\";\nprivate String CHARS = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ\";\nprivate String NUMS = \"1234567890\";\nprivate String SPEC = \"@#$%^&amp;+=\";\nprivate Random rnd = new Random();\n\nprivate String getTwoFrom(String src) {\n    int index1 = (int) (rnd.nextFloat() * src.length()),\n            index2 = (int) (rnd.nextFloat() * src.length());\n    return \"\" + src.charAt(index1) + src.charAt(index2);\n}\n\npublic String createPassword() {\n    return getTwoFrom(chars) + getTwoFrom(CHARS) + getTwoFrom(NUMS) + getTwoFrom(SPEC);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4597596,"reputation":3927,"user_id":3729184,"accept_rate":67,"display_name":"Omri Attiya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1553097649,"creation_date":1553097649,"answer_id":55265171,"question_id":55264623,"body_markdown":"I inferred from your question that you wanted to pick 2 random characters from each set of characters but instead you only picked 1. Moreover I used `nextInt` instead `nextFloat` because I think that its more readable, and I think you were using `List` or a `StringBuffer` so I removed it because its unnecessary here (it can be done with `String` only). The final result looks like this:\r\n\r\n    static String chars = &quot;abcdefghijklmnopqrstuvwxyz&quot;;\r\n    static String CHARS = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;;\r\n    static String NUMS = &quot;1234567890&quot;;\r\n    static String SPEC = &quot;@#$%^&amp;+=&quot;;\r\n\r\n\r\n    public static String passwordGenerator() {\r\n        int index;\r\n        String pass = &quot;&quot;;\r\n        Random rnd = new Random();\r\n\r\n        // 2 random chars from &#39;chars&#39;\r\n        index = rnd.nextInt(chars.length());\r\n        pass += chars.charAt(index);\r\n        index = rnd.nextInt(chars.length());\r\n        pass += chars.charAt(index);\r\n\r\n        // 2 random chars from &#39;CHARS&#39;\r\n        index = rnd.nextInt(CHARS.length());\r\n        pass += CHARS.charAt(index);\r\n        index = rnd.nextInt(CHARS.length());\r\n        pass += CHARS.charAt(index);\r\n\r\n        // 2 random chars from &#39;NUMS&#39;\r\n        index = rnd.nextInt(NUMS.length());\r\n        pass += NUMS.charAt(index);\r\n        index = rnd.nextInt(NUMS.length());\r\n        pass += NUMS.charAt(index);\r\n\r\n        // 2 random chars from &#39;SPEC&#39;\r\n        index = rnd.nextInt(SPEC.length());\r\n        pass += SPEC.charAt(index);\r\n        index = rnd.nextInt(SPEC.length());\r\n        pass += SPEC.charAt(index);\r\n\r\n        return pass;\r\n    }","title":"Java - Generate Random Password with special characters","body":"<p>I inferred from your question that you wanted to pick 2 random characters from each set of characters but instead you only picked 1. Moreover I used <code>nextInt</code> instead <code>nextFloat</code> because I think that its more readable, and I think you were using <code>List</code> or a <code>StringBuffer</code> so I removed it because its unnecessary here (it can be done with <code>String</code> only). The final result looks like this:</p>\n\n<pre><code>static String chars = \"abcdefghijklmnopqrstuvwxyz\";\nstatic String CHARS = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ\";\nstatic String NUMS = \"1234567890\";\nstatic String SPEC = \"@#$%^&amp;+=\";\n\n\npublic static String passwordGenerator() {\n    int index;\n    String pass = \"\";\n    Random rnd = new Random();\n\n    // 2 random chars from 'chars'\n    index = rnd.nextInt(chars.length());\n    pass += chars.charAt(index);\n    index = rnd.nextInt(chars.length());\n    pass += chars.charAt(index);\n\n    // 2 random chars from 'CHARS'\n    index = rnd.nextInt(CHARS.length());\n    pass += CHARS.charAt(index);\n    index = rnd.nextInt(CHARS.length());\n    pass += CHARS.charAt(index);\n\n    // 2 random chars from 'NUMS'\n    index = rnd.nextInt(NUMS.length());\n    pass += NUMS.charAt(index);\n    index = rnd.nextInt(NUMS.length());\n    pass += NUMS.charAt(index);\n\n    // 2 random chars from 'SPEC'\n    index = rnd.nextInt(SPEC.length());\n    pass += SPEC.charAt(index);\n    index = rnd.nextInt(SPEC.length());\n    pass += SPEC.charAt(index);\n\n    return pass;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2649462,"reputation":1554,"user_id":2291516,"accept_rate":48,"display_name":"lgc_ustc"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1553099606,"creation_date":1553099606,"answer_id":55265816,"question_id":55264623,"body_markdown":"This is a working solution:\r\n\r\n    package com.mycompany.app;\r\n    \r\n    import java.util.Random;\r\n    \r\n    public class Solution {\r\n        public static String twoRandChars(String src) {\r\n            Random rnd = new Random();\r\n            int index1 = (int) (rnd.nextFloat() * src.length());\r\n            int index2 = (int) (rnd.nextFloat() * src.length());\r\n            return &quot;&quot; + src.charAt(index1) + src.charAt(index2);\r\n        }\r\n    \r\n        public static void main(String args[]) {\r\n            String chars = &quot;abcdefghijklmnopqrstuvwxyz&quot;;\r\n            String CHARS = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;;\r\n            String NUMS = &quot;1234567890&quot;;\r\n            String SPEC = &quot;@#$%^&amp;+=&quot;;\r\n    \r\n            String pass = twoRandChars(chars) + twoRandChars(CHARS) + twoRandChars(NUMS) + twoRandChars(SPEC);\r\n    \r\n            System.out.print(pass);\r\n        }\r\n    }\r\n\r\n[Check the demo][1]\r\n\r\n\r\n  [1]: https://codidate.com/code/sandbox?s=f3j86mlavw","title":"Java - Generate Random Password with special characters","body":"<p>This is a working solution:</p>\n\n<pre><code>package com.mycompany.app;\n\nimport java.util.Random;\n\npublic class Solution {\n    public static String twoRandChars(String src) {\n        Random rnd = new Random();\n        int index1 = (int) (rnd.nextFloat() * src.length());\n        int index2 = (int) (rnd.nextFloat() * src.length());\n        return \"\" + src.charAt(index1) + src.charAt(index2);\n    }\n\n    public static void main(String args[]) {\n        String chars = \"abcdefghijklmnopqrstuvwxyz\";\n        String CHARS = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ\";\n        String NUMS = \"1234567890\";\n        String SPEC = \"@#$%^&amp;+=\";\n\n        String pass = twoRandChars(chars) + twoRandChars(CHARS) + twoRandChars(NUMS) + twoRandChars(SPEC);\n\n        System.out.print(pass);\n    }\n}\n</code></pre>\n\n<p><a href=\"https://codidate.com/code/sandbox?s=f3j86mlavw\" rel=\"nofollow noreferrer\">Check the demo</a></p>\n"},{"tags":[],"owner":{"account_id":16573402,"reputation":11,"user_id":11975851,"display_name":"Istiak Ahmed"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666756793,"creation_date":1666756793,"answer_id":74202557,"question_id":55264623,"body_markdown":"Generating random username or password of a user defined length with at least 1 upper Case, 1 lower Case and 1 number. You may also add special character if you like.\r\n\r\n\r\n\r\n    \r\n\r\n\r\n        String ALPHABETIC_UPPERCASE_SYMBOLS = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;;\r\n        String ALPHABETIC_LOWERCASE_SYMBOLS = &quot;abcdefghijklmnopqrstuvwxyz&quot;;\r\n        String NUMERIC_SYMBOLS = &quot;0123456789&quot;;\r\n\r\n        String ALPHANUMERIC_AND_SPECIAL_SYMBOLS =\r\n                ALPHABETIC_UPPERCASE_SYMBOLS +\r\n                        ALPHABETIC_LOWERCASE_SYMBOLS +\r\n                        NUMERIC_SYMBOLS;\r\n\r\n\r\n        List&lt;Character&gt; chars = new ArrayList&lt;&gt;(length);\r\n        boolean hasUpper = false;\r\n        boolean hasLower = false;\r\n        boolean hasNumber = false;\r\n        for (int i = 0; i &lt; length; i++) {\r\n            // Make sure we have at least one upper, lower, and number\r\n            // Then, fill randomly from set containing all characters.\r\n            if (!hasUpper) {\r\n                chars.add(ALPHABETIC_UPPERCASE_SYMBOLS.charAt(RandomUtils.nextInt(0, ALPHABETIC_UPPERCASE_SYMBOLS.length())));\r\n                hasUpper = true;\r\n            } else if (!hasLower) {\r\n                chars.add(ALPHABETIC_LOWERCASE_SYMBOLS.charAt(RandomUtils.nextInt(0, ALPHABETIC_LOWERCASE_SYMBOLS.length())));\r\n                hasLower = true;\r\n            } else if (!hasNumber) {\r\n                chars.add(NUMERIC_SYMBOLS.charAt(RandomUtils.nextInt(0, NUMERIC_SYMBOLS.length())));\r\n                hasNumber = true;\r\n            } else {\r\n                chars.add(ALPHANUMERIC_AND_SPECIAL_SYMBOLS.charAt(RandomUtils.nextInt(0, ALPHANUMERIC_AND_SPECIAL_SYMBOLS.length())));\r\n            }\r\n        }\r\n\r\n        // Shuffle characters to mix up the first 4 characters\r\n        Collections.shuffle(chars);\r\n\r\n        return StringUtils.join(chars, &quot;&quot;);\r\n\r\n    }\r\n\r\n ","title":"Java - Generate Random Password with special characters","body":"<p>Generating random username or password of a user defined length with at least 1 upper Case, 1 lower Case and 1 number. You may also add special character if you like.</p>\n<pre><code>    String ALPHABETIC_UPPERCASE_SYMBOLS = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;;\n    String ALPHABETIC_LOWERCASE_SYMBOLS = &quot;abcdefghijklmnopqrstuvwxyz&quot;;\n    String NUMERIC_SYMBOLS = &quot;0123456789&quot;;\n\n    String ALPHANUMERIC_AND_SPECIAL_SYMBOLS =\n            ALPHABETIC_UPPERCASE_SYMBOLS +\n                    ALPHABETIC_LOWERCASE_SYMBOLS +\n                    NUMERIC_SYMBOLS;\n\n\n    List&lt;Character&gt; chars = new ArrayList&lt;&gt;(length);\n    boolean hasUpper = false;\n    boolean hasLower = false;\n    boolean hasNumber = false;\n    for (int i = 0; i &lt; length; i++) {\n        // Make sure we have at least one upper, lower, and number\n        // Then, fill randomly from set containing all characters.\n        if (!hasUpper) {\n            chars.add(ALPHABETIC_UPPERCASE_SYMBOLS.charAt(RandomUtils.nextInt(0, ALPHABETIC_UPPERCASE_SYMBOLS.length())));\n            hasUpper = true;\n        } else if (!hasLower) {\n            chars.add(ALPHABETIC_LOWERCASE_SYMBOLS.charAt(RandomUtils.nextInt(0, ALPHABETIC_LOWERCASE_SYMBOLS.length())));\n            hasLower = true;\n        } else if (!hasNumber) {\n            chars.add(NUMERIC_SYMBOLS.charAt(RandomUtils.nextInt(0, NUMERIC_SYMBOLS.length())));\n            hasNumber = true;\n        } else {\n            chars.add(ALPHANUMERIC_AND_SPECIAL_SYMBOLS.charAt(RandomUtils.nextInt(0, ALPHANUMERIC_AND_SPECIAL_SYMBOLS.length())));\n        }\n    }\n\n    // Shuffle characters to mix up the first 4 characters\n    Collections.shuffle(chars);\n\n    return StringUtils.join(chars, &quot;&quot;);\n\n}\n</code></pre>\n"}],"owner":{"account_id":5076770,"reputation":295,"user_id":4073935,"accept_rate":25,"display_name":"Unicorn"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1524,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":55265171,"answer_count":4,"score":0,"last_activity_date":1666756793,"creation_date":1553096174,"question_id":55264623,"body_markdown":"Hi I would like to pick 2 random character from each String mentioned below.\r\n\r\n        String chars = &quot;abcdefghijklmnopqrstuvwxyz&quot;;\r\n\t\tString CHARS = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;;\r\n\t    String NUMS = &quot;1234567890&quot;;\r\n\t    String SPEC = &quot;@#$%^&amp;+=&quot;;\r\n\r\nEg. Expected - cdAB43#- \r\n\r\nI tried below but didn&#39;t worked.\r\n\r\n            Random rnd = new Random();\r\n            index = (int) (rnd.nextFloat() * chars.length());\r\n    \t    pass.append(chars.charAt(index));\r\n    \t    index = (int) (rnd.nextFloat() * NUMS.length());\r\n    \t    pass.append(NUMS.charAt(index));\r\n    \t    index = (int) (rnd.nextFloat() * SPEC.length());\r\n    \t    pass.append(SPEC.charAt(index));\r\n    \t     \r\n    \t    String password = pass.toString();\r\n    \t    return password;\r\n\r\nOutput- \r\n\r\n    VNVLZt5#\r\n\r\nAny help would appreciate.\r\n\r\n","title":"Java - Generate Random Password with special characters","body":"<p>Hi I would like to pick 2 random character from each String mentioned below.</p>\n\n<pre><code>    String chars = \"abcdefghijklmnopqrstuvwxyz\";\n    String CHARS = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ\";\n    String NUMS = \"1234567890\";\n    String SPEC = \"@#$%^&amp;+=\";\n</code></pre>\n\n<p>Eg. Expected - cdAB43#- </p>\n\n<p>I tried below but didn't worked.</p>\n\n<pre><code>        Random rnd = new Random();\n        index = (int) (rnd.nextFloat() * chars.length());\n        pass.append(chars.charAt(index));\n        index = (int) (rnd.nextFloat() * NUMS.length());\n        pass.append(NUMS.charAt(index));\n        index = (int) (rnd.nextFloat() * SPEC.length());\n        pass.append(SPEC.charAt(index));\n\n        String password = pass.toString();\n        return password;\n</code></pre>\n\n<p>Output- </p>\n\n<pre><code>VNVLZt5#\n</code></pre>\n\n<p>Any help would appreciate.</p>\n"},{"tags":["java","audio","javasound"],"answers":[{"tags":[],"owner":{"account_id":26733750,"reputation":1,"user_id":20335666,"display_name":"Yup"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666754313,"creation_date":1666754313,"answer_id":74202336,"question_id":74202285,"body_markdown":"It turns out that U-LAW encoding is not supported and I needed to change it to PCM-UNSIGNED","title":"Java Sound LineUnavailableException: Format not supported","body":"<p>It turns out that U-LAW encoding is not supported and I needed to change it to PCM-UNSIGNED</p>\n"}],"owner":{"account_id":26733750,"reputation":1,"user_id":20335666,"display_name":"Yup"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1666754313,"creation_date":1666753606,"question_id":74202285,"body_markdown":"I am new to Java and I was attempting to create a sort of audio clip player that I can play with. I have no clue why this is happening and I just though I post it on here so someone smarter can take a look\r\n\r\n\r\n    try\r\n      {\r\n        File snareFile = new File(&quot;Snare.WAV&quot;);\r\n        AudioInputStream snare = AudioSystem.getAudioInputStream(snareFile.getAbsoluteFile());\r\n        println(snare.getFormat()); \r\n        clip = AudioSystem.getClip();\r\n        clip.open(snare);\r\n      }\r\n      catch(UnsupportedAudioFileException e)\r\n      {\r\n        println(&quot;unsupported audio&quot;);\r\n      }\r\n      catch(FileNotFoundException e)\r\n      {\r\n        println(&quot;try a new path&quot;);\r\n      }\r\n      catch(IOException e)\r\n      {\r\n        println(&quot;IO issue&quot;);\r\n      }\r\n      catch(Exception e)\r\n      {\r\n       println(&quot;Other issue: &quot; + e);\r\n      }\r\n\r\nand the error I get is:\r\n&gt; javax.sound.sampled.LineUnavailableException: line with format ULAW 48000.0 Hz, 8 bit, mono, 1 bytes/frame not supported.\r\n\r\n\r\n\r\nI have tried changing the format of the audio file, and spending hours researching something I know very minimally about. Thanks in advance!","title":"Java Sound LineUnavailableException: Format not supported","body":"<p>I am new to Java and I was attempting to create a sort of audio clip player that I can play with. I have no clue why this is happening and I just though I post it on here so someone smarter can take a look</p>\n<pre><code>try\n  {\n    File snareFile = new File(&quot;Snare.WAV&quot;);\n    AudioInputStream snare = AudioSystem.getAudioInputStream(snareFile.getAbsoluteFile());\n    println(snare.getFormat()); \n    clip = AudioSystem.getClip();\n    clip.open(snare);\n  }\n  catch(UnsupportedAudioFileException e)\n  {\n    println(&quot;unsupported audio&quot;);\n  }\n  catch(FileNotFoundException e)\n  {\n    println(&quot;try a new path&quot;);\n  }\n  catch(IOException e)\n  {\n    println(&quot;IO issue&quot;);\n  }\n  catch(Exception e)\n  {\n   println(&quot;Other issue: &quot; + e);\n  }\n</code></pre>\n<p>and the error I get is:</p>\n<blockquote>\n<p>javax.sound.sampled.LineUnavailableException: line with format ULAW 48000.0 Hz, 8 bit, mono, 1 bytes/frame not supported.</p>\n</blockquote>\n<p>I have tried changing the format of the audio file, and spending hours researching something I know very minimally about. Thanks in advance!</p>\n"},{"tags":["java","maven"],"answers":[{"tags":[],"owner":{"account_id":6878158,"reputation":1996,"user_id":5285894,"accept_rate":62,"display_name":"Arar"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1526490216,"creation_date":1526490216,"answer_id":50376452,"question_id":50295487,"body_markdown":"I added the below configuration to **maven-surefire-plugin** to run tests with the needed parameters, It seems that surefire does not get the needed parameters when it forks. \r\n    \r\n    &lt;plugin&gt;\r\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n      &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n      &lt;configuration&gt;\r\n            &lt;forkMode&gt;always&lt;/forkMode&gt;\r\n            &lt;argLine&gt;--add-modules java.xml.bind&lt;/argLine&gt;\r\n            &lt;argLine&gt;--add-modules java.activation&lt;/argLine&gt;\r\n            &lt;argLine&gt;--add-opens=java.base/java.lang=ALL-UNNAMED --illegal-access=deny&lt;/argLine&gt;\r\n      &lt;/configuration&gt;\r\n    &lt;/plugin&gt;","title":"NoClassDefFoundError: Could not initialize class com.sun.xml.bind.v2.model.impl.RuntimeBuiltinLeafInfoImpl","body":"<p>I added the below configuration to <strong>maven-surefire-plugin</strong> to run tests with the needed parameters, It seems that surefire does not get the needed parameters when it forks. </p>\n\n<pre><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n  &lt;configuration&gt;\n        &lt;forkMode&gt;always&lt;/forkMode&gt;\n        &lt;argLine&gt;--add-modules java.xml.bind&lt;/argLine&gt;\n        &lt;argLine&gt;--add-modules java.activation&lt;/argLine&gt;\n        &lt;argLine&gt;--add-opens=java.base/java.lang=ALL-UNNAMED --illegal-access=deny&lt;/argLine&gt;\n  &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16057087,"reputation":41,"user_id":11589061,"display_name":"Antony Inthirani"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1559474953,"creation_date":1559461383,"answer_id":56413123,"question_id":50295487,"body_markdown":"When migrating our web project to **Java 11** we had to add `jaxb` and `javax.annotations` to prevent `ClassNotFoundException`. Added the following libaries as additional Maven dependencies to our POMs:\r\n\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;javax.annotation&lt;/groupId&gt;\r\n    &lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\r\n    &lt;version&gt;1.3.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n    &lt;version&gt;2.4.0-b180725.0427&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\r\n    &lt;version&gt;2.4.0-b180725.0644&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"NoClassDefFoundError: Could not initialize class com.sun.xml.bind.v2.model.impl.RuntimeBuiltinLeafInfoImpl","body":"<p>When migrating our web project to <strong>Java 11</strong> we had to add <code>jaxb</code> and <code>javax.annotations</code> to prevent <code>ClassNotFoundException</code>. Added the following libaries as additional Maven dependencies to our POMs:</p>\n\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;javax.annotation&lt;/groupId&gt;\n&lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\n&lt;version&gt;1.3.2&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n&lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n&lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n&lt;version&gt;2.4.0-b180725.0427&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n&lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n&lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\n&lt;version&gt;2.4.0-b180725.0644&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10872990,"reputation":1661,"user_id":7994269,"display_name":"Jorge Santos Neill"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1560894888,"creation_date":1560894888,"answer_id":56657541,"question_id":50295487,"body_markdown":"The solution that worked for me using jdk-12.0.1 is the folling:\r\n\r\n    \r\n    &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;javax.annotation&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.3.2&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.4.0-b180725.0427&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.4.0-b180725.0644&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n\t    &lt;version&gt;2.3.0&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nPlease check the follwing link [here][1] for know the reason\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/43574426/how-to-resolve-java-lang-noclassdeffounderror-javax-xml-bind-jaxbexception-in-j","title":"NoClassDefFoundError: Could not initialize class com.sun.xml.bind.v2.model.impl.RuntimeBuiltinLeafInfoImpl","body":"<p>The solution that worked for me using jdk-12.0.1 is the folling:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.annotation&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\n    &lt;version&gt;1.3.2&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n    &lt;version&gt;2.4.0-b180725.0427&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\n    &lt;version&gt;2.4.0-b180725.0644&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n    &lt;version&gt;2.3.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Please check the follwing link <a href=\"https://stackoverflow.com/questions/43574426/how-to-resolve-java-lang-noclassdeffounderror-javax-xml-bind-jaxbexception-in-j\">here</a> for know the reason</p>\n"},{"tags":[],"owner":{"account_id":10755707,"reputation":321,"user_id":7913731,"display_name":"Wu Weijie"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666754309,"creation_date":1666754309,"answer_id":74202335,"question_id":50295487,"body_markdown":"I&#39;ve met the same problem. `--add-modules` didn&#39;t worked for me.\r\n\r\nI found the error \r\n`java.lang.NoClassDefFoundError: Could not initialize class com.sun.xml.bind.v2.model.impl.RuntimeBuiltinLeafInfoImpl` could be caused by missing `javax.activation.DataSource`.\r\n\r\n```\r\nCaused by: java.lang.NoClassDefFoundError: javax/activation/DataSource\r\n\tat com.sun.xml.bind.v2.model.impl.RuntimeBuiltinLeafInfoImpl.&lt;clinit&gt;(RuntimeBuiltinLeafInfoImpl.java:478)\r\n\tat com.sun.xml.bind.v2.model.impl.RuntimeTypeInfoSetImpl.&lt;init&gt;(RuntimeTypeInfoSetImpl.java:63)\r\n\tat com.sun.xml.bind.v2.model.impl.RuntimeModelBuilder.createTypeInfoSet(RuntimeModelBuilder.java:128)\r\n\tat com.sun.xml.bind.v2.model.impl.RuntimeModelBuilder.createTypeInfoSet(RuntimeModelBuilder.java:84)\r\n\tat com.sun.xml.bind.v2.model.impl.ModelBuilder.&lt;init&gt;(ModelBuilder.java:162)\r\n\tat com.sun.xml.bind.v2.model.impl.RuntimeModelBuilder.&lt;init&gt;(RuntimeModelBuilder.java:92)\r\n\tat com.sun.xml.bind.v2.runtime.JAXBContextImpl.getTypeInfoSet(JAXBContextImpl.java:455)\r\n\tat com.sun.xml.bind.v2.runtime.JAXBContextImpl.&lt;init&gt;(JAXBContextImpl.java:303)\r\n\tat com.sun.xml.bind.v2.runtime.JAXBContextImpl.&lt;init&gt;(JAXBContextImpl.java:139)\r\n\tat com.sun.xml.bind.v2.runtime.JAXBContextImpl$JAXBContextBuilder.build(JAXBContextImpl.java:1156)\r\n\tat com.sun.xml.bind.v2.ContextFactory.createContext(ContextFactory.java:165)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat javax.xml.bind.ContextFinder.newInstance(ContextFinder.java:297)\r\n\tat javax.xml.bind.ContextFinder.newInstance(ContextFinder.java:286)\r\n\tat javax.xml.bind.ContextFinder.find(ContextFinder.java:409)\r\n\tat javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:721)\r\n\tat javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:662)\r\n\tat org.apache.shardingsphere.elasticjob.lite.ui.repository.impl.AbstractXmlRepositoryImpl.&lt;init&gt;(AbstractXmlRepositoryImpl.java:47)\r\n```\r\n\r\n## Solution\r\n\r\nAdd the following dependencies.\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;javax.activation&lt;/groupId&gt;\r\n    &lt;artifactId&gt;javax.activation-api&lt;/artifactId&gt;\r\n    &lt;version&gt;1.2.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"NoClassDefFoundError: Could not initialize class com.sun.xml.bind.v2.model.impl.RuntimeBuiltinLeafInfoImpl","body":"<p>I've met the same problem. <code>--add-modules</code> didn't worked for me.</p>\n<p>I found the error\n<code>java.lang.NoClassDefFoundError: Could not initialize class com.sun.xml.bind.v2.model.impl.RuntimeBuiltinLeafInfoImpl</code> could be caused by missing <code>javax.activation.DataSource</code>.</p>\n<pre><code>Caused by: java.lang.NoClassDefFoundError: javax/activation/DataSource\n    at com.sun.xml.bind.v2.model.impl.RuntimeBuiltinLeafInfoImpl.&lt;clinit&gt;(RuntimeBuiltinLeafInfoImpl.java:478)\n    at com.sun.xml.bind.v2.model.impl.RuntimeTypeInfoSetImpl.&lt;init&gt;(RuntimeTypeInfoSetImpl.java:63)\n    at com.sun.xml.bind.v2.model.impl.RuntimeModelBuilder.createTypeInfoSet(RuntimeModelBuilder.java:128)\n    at com.sun.xml.bind.v2.model.impl.RuntimeModelBuilder.createTypeInfoSet(RuntimeModelBuilder.java:84)\n    at com.sun.xml.bind.v2.model.impl.ModelBuilder.&lt;init&gt;(ModelBuilder.java:162)\n    at com.sun.xml.bind.v2.model.impl.RuntimeModelBuilder.&lt;init&gt;(RuntimeModelBuilder.java:92)\n    at com.sun.xml.bind.v2.runtime.JAXBContextImpl.getTypeInfoSet(JAXBContextImpl.java:455)\n    at com.sun.xml.bind.v2.runtime.JAXBContextImpl.&lt;init&gt;(JAXBContextImpl.java:303)\n    at com.sun.xml.bind.v2.runtime.JAXBContextImpl.&lt;init&gt;(JAXBContextImpl.java:139)\n    at com.sun.xml.bind.v2.runtime.JAXBContextImpl$JAXBContextBuilder.build(JAXBContextImpl.java:1156)\n    at com.sun.xml.bind.v2.ContextFactory.createContext(ContextFactory.java:165)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at javax.xml.bind.ContextFinder.newInstance(ContextFinder.java:297)\n    at javax.xml.bind.ContextFinder.newInstance(ContextFinder.java:286)\n    at javax.xml.bind.ContextFinder.find(ContextFinder.java:409)\n    at javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:721)\n    at javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:662)\n    at org.apache.shardingsphere.elasticjob.lite.ui.repository.impl.AbstractXmlRepositoryImpl.&lt;init&gt;(AbstractXmlRepositoryImpl.java:47)\n</code></pre>\n<h2>Solution</h2>\n<p>Add the following dependencies.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.activation&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.activation-api&lt;/artifactId&gt;\n    &lt;version&gt;1.2.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":6878158,"reputation":1996,"user_id":5285894,"accept_rate":62,"display_name":"Arar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28302,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":50376452,"answer_count":4,"score":10,"last_activity_date":1666754309,"creation_date":1526052098,"question_id":50295487,"body_markdown":"I am trying to migrate a project from *Java8* into *Java9* but I am running into the run time exception below, I tried every possible solution suggested by the Stack-overflow community and other blogs but nothing solved the problem, I might be missing something in the *pom* file that I am not aware of or missing something in the arguments that need to be passed `maven-compiler-plugin` \r\n\r\n**Exception** \r\n\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;validator&#39; defined in com.test-java9.content.config.ValidationConfiguration: Invocation of init method failed; nested exception is java.lang.NoClassDefFoundError: Could not initialize class com.sun.xml.bind.v2.model.impl.RuntimeBuiltinLeafInfoImpl\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1628)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\r\n    \tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066)\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:835)\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:741)\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:467)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1173)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1067)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\r\n    \tat org.springframework.context.support.PostProcessorRegistrationDelegate.registerBeanPostProcessors(PostProcessorRegistrationDelegate.java:225)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.registerBeanPostProcessors(AbstractApplicationContext.java:703)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:528)\r\n    \tat org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:128)\r\n    \tat org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:60)\r\n    \tat org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.delegateLoading(AbstractDelegatingSmartContextLoader.java:106)\r\n    \tat org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.loadContext(AbstractDelegatingSmartContextLoader.java:249)\r\n    \tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98)\r\n    \tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116)\r\n    \tat org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83)\r\n    \tat org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:117)\r\n    \tat org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)\r\n    \tat org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287)\r\n    \tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)\r\n    \tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n    \tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n    \tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n    \tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n    \tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n    \tat org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\r\n    \tat org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\r\n    \tat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)\r\n    \tat org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:264)\r\n    \tat org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:153)\r\n    \tat org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:124)\r\n    \tat org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:200)\r\n    \tat org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:153)\r\n    \tat org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)\r\n    Caused by: java.lang.NoClassDefFoundError: Could not initialize class com.sun.xml.bind.v2.model.impl.RuntimeBuiltinLeafInfoImpl\r\n    \tat com.sun.xml.bind.v2.model.impl.RuntimeTypeInfoSetImpl.&lt;init&gt;(RuntimeTypeInfoSetImpl.java:63)\r\n    \tat com.sun.xml.bind.v2.model.impl.RuntimeModelBuilder.createTypeInfoSet(RuntimeModelBuilder.java:128)\r\n    \tat com.sun.xml.bind.v2.model.impl.RuntimeModelBuilder.createTypeInfoSet(RuntimeModelBuilder.java:84)\r\n    \tat com.sun.xml.bind.v2.model.impl.ModelBuilder.&lt;init&gt;(ModelBuilder.java:162)\r\n    \tat com.sun.xml.bind.v2.model.impl.RuntimeModelBuilder.&lt;init&gt;(RuntimeModelBuilder.java:92)\r\n    \tat com.sun.xml.bind.v2.runtime.JAXBContextImpl.getTypeInfoSet(JAXBContextImpl.java:455)\r\n    \tat com.sun.xml.bind.v2.runtime.JAXBContextImpl.&lt;init&gt;(JAXBContextImpl.java:303)\r\n    \tat com.sun.xml.bind.v2.runtime.JAXBContextImpl.&lt;init&gt;(JAXBContextImpl.java:139)\r\n    \tat com.sun.xml.bind.v2.runtime.JAXBContextImpl$JAXBContextBuilder.build(JAXBContextImpl.java:1156)\r\n    \tat com.sun.xml.bind.v2.ContextFactory.createContext(ContextFactory.java:165)\r\n    \tat jdk.internal.reflect.GeneratedMethodAccessor61.invoke(Unknown Source)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:564)\r\n    \tat javax.xml.bind.ContextFinder.newInstance(ContextFinder.java:297)\r\n    \tat javax.xml.bind.ContextFinder.newInstance(ContextFinder.java:286)\r\n    \tat javax.xml.bind.ContextFinder.find(ContextFinder.java:409)\r\n    \tat javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:721)\r\n    \tat javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:662)\r\n    \tat org.hibernate.validator.internal.util.privilegedactions.NewJaxbContext.run(NewJaxbContext.java:33)\r\n    \tat org.hibernate.validator.internal.util.privilegedactions.NewJaxbContext.run(NewJaxbContext.java:19)\r\n    \tat org.hibernate.validator.internal.xml.ValidationXmlParser.run(ValidationXmlParser.java:219)\r\n    \tat org.hibernate.validator.internal.xml.ValidationXmlParser.unmarshal(ValidationXmlParser.java:127)\r\n    \tat org.hibernate.validator.internal.xml.ValidationXmlParser.parseValidationXml(ValidationXmlParser.java:88)\r\n    \tat org.hibernate.validator.internal.engine.ConfigurationImpl.getBootstrapConfiguration(ConfigurationImpl.java:393)\r\n    \tat org.hibernate.validator.internal.engine.ConfigurationImpl.parseValidationXml(ConfigurationImpl.java:476)\r\n    \tat org.hibernate.validator.internal.engine.ConfigurationImpl.buildValidatorFactory(ConfigurationImpl.java:309)\r\n    \tat org.springframework.validation.beanvalidation.LocalValidatorFactoryBean.afterPropertiesSet(LocalValidatorFactoryBean.java:305)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1687)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1624)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\r\n    \tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066)\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:835)\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:741)\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:467)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1173)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1067)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\r\n    \tat org.springframework.context.support.PostProcessorRegistrationDelegate.registerBeanPostProcessors(PostProcessorRegistrationDelegate.java:225)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.registerBeanPostProcessors(AbstractApplicationContext.java:703)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:528)\r\n    \tat org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:128)\r\n    \tat org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:60)\r\n    \tat org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.delegateLoading(AbstractDelegatingSmartContextLoader.java:106)\r\n    \tat org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.loadContext(AbstractDelegatingSmartContextLoader.java:249)\r\n    \tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98)\r\n    \tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116)\r\n    \tat org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83)\r\n    \tat org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:117)\r\n    \tat org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)\r\n    \tat org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287)\r\n    \tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)\r\n    \tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n    \tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n    \tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n    \tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n    \tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n    \tat org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\r\n    \tat org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\r\n    \tat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)\r\n    \tat org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:264)\r\n    \tat org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:153)\r\n    \tat org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:124)\r\n    \tat org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:200)\r\n    \tat org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:153)\r\n    \tat org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)\r\n\r\n\r\n\r\n**POM File** \r\nI have the below dependencies available \r\n\r\n    &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n                &lt;version&gt;2.3.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n                &lt;version&gt;2.3.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\r\n                &lt;version&gt;2.3.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\n\r\nAnd I am passing the needed parameters to the **maven-plugin-compiler**\r\n\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.7.0&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;${java.version}&lt;/source&gt;\r\n                        &lt;target&gt;${java.version}&lt;/target&gt;\r\n                        &lt;showWarnings&gt;true&lt;/showWarnings&gt;\r\n                        &lt;showDeprecation&gt;true&lt;/showDeprecation&gt;\r\n                        &lt;compilerArgs&gt;\r\n                            &lt;arg&gt;--add-modules=java.xml.bind&lt;/arg&gt;\r\n                            &lt;arg&gt;--add-opens=java.base/java.lang=ALL-UNNAMED --illegal-access=deny&lt;/arg&gt;\r\n                        &lt;/compilerArgs&gt;\r\n                        &lt;!-- without forking compilation happens in the\r\n    \t                    same process, so no arguments are applied --&gt;\r\n                        &lt;fork&gt;true&lt;/fork&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n\r\n\r\nI also created the **jvm.config** file under the project directory as per some recommendations \r\n\r\n    --add-modules java.xml.bind\r\n    --add-opens java.base/java.lang=ALL-UNNAMED\r\n    --illegal-access=deny ","title":"NoClassDefFoundError: Could not initialize class com.sun.xml.bind.v2.model.impl.RuntimeBuiltinLeafInfoImpl","body":"<p>I am trying to migrate a project from <em>Java8</em> into <em>Java9</em> but I am running into the run time exception below, I tried every possible solution suggested by the Stack-overflow community and other blogs but nothing solved the problem, I might be missing something in the <em>pom</em> file that I am not aware of or missing something in the arguments that need to be passed <code>maven-compiler-plugin</code> </p>\n\n<p><strong>Exception</strong> </p>\n\n<pre><code>Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'validator' defined in com.test-java9.content.config.ValidationConfiguration: Invocation of init method failed; nested exception is java.lang.NoClassDefFoundError: Could not initialize class com.sun.xml.bind.v2.model.impl.RuntimeBuiltinLeafInfoImpl\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1628)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066)\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:835)\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:741)\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:467)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1173)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1067)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.registerBeanPostProcessors(PostProcessorRegistrationDelegate.java:225)\n    at org.springframework.context.support.AbstractApplicationContext.registerBeanPostProcessors(AbstractApplicationContext.java:703)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:528)\n    at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:128)\n    at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:60)\n    at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.delegateLoading(AbstractDelegatingSmartContextLoader.java:106)\n    at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.loadContext(AbstractDelegatingSmartContextLoader.java:249)\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98)\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116)\n    at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83)\n    at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:117)\n    at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)\n    at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n    at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\n    at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)\n    at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:264)\n    at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:153)\n    at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:124)\n    at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:200)\n    at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:153)\n    at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)\nCaused by: java.lang.NoClassDefFoundError: Could not initialize class com.sun.xml.bind.v2.model.impl.RuntimeBuiltinLeafInfoImpl\n    at com.sun.xml.bind.v2.model.impl.RuntimeTypeInfoSetImpl.&lt;init&gt;(RuntimeTypeInfoSetImpl.java:63)\n    at com.sun.xml.bind.v2.model.impl.RuntimeModelBuilder.createTypeInfoSet(RuntimeModelBuilder.java:128)\n    at com.sun.xml.bind.v2.model.impl.RuntimeModelBuilder.createTypeInfoSet(RuntimeModelBuilder.java:84)\n    at com.sun.xml.bind.v2.model.impl.ModelBuilder.&lt;init&gt;(ModelBuilder.java:162)\n    at com.sun.xml.bind.v2.model.impl.RuntimeModelBuilder.&lt;init&gt;(RuntimeModelBuilder.java:92)\n    at com.sun.xml.bind.v2.runtime.JAXBContextImpl.getTypeInfoSet(JAXBContextImpl.java:455)\n    at com.sun.xml.bind.v2.runtime.JAXBContextImpl.&lt;init&gt;(JAXBContextImpl.java:303)\n    at com.sun.xml.bind.v2.runtime.JAXBContextImpl.&lt;init&gt;(JAXBContextImpl.java:139)\n    at com.sun.xml.bind.v2.runtime.JAXBContextImpl$JAXBContextBuilder.build(JAXBContextImpl.java:1156)\n    at com.sun.xml.bind.v2.ContextFactory.createContext(ContextFactory.java:165)\n    at jdk.internal.reflect.GeneratedMethodAccessor61.invoke(Unknown Source)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:564)\n    at javax.xml.bind.ContextFinder.newInstance(ContextFinder.java:297)\n    at javax.xml.bind.ContextFinder.newInstance(ContextFinder.java:286)\n    at javax.xml.bind.ContextFinder.find(ContextFinder.java:409)\n    at javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:721)\n    at javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:662)\n    at org.hibernate.validator.internal.util.privilegedactions.NewJaxbContext.run(NewJaxbContext.java:33)\n    at org.hibernate.validator.internal.util.privilegedactions.NewJaxbContext.run(NewJaxbContext.java:19)\n    at org.hibernate.validator.internal.xml.ValidationXmlParser.run(ValidationXmlParser.java:219)\n    at org.hibernate.validator.internal.xml.ValidationXmlParser.unmarshal(ValidationXmlParser.java:127)\n    at org.hibernate.validator.internal.xml.ValidationXmlParser.parseValidationXml(ValidationXmlParser.java:88)\n    at org.hibernate.validator.internal.engine.ConfigurationImpl.getBootstrapConfiguration(ConfigurationImpl.java:393)\n    at org.hibernate.validator.internal.engine.ConfigurationImpl.parseValidationXml(ConfigurationImpl.java:476)\n    at org.hibernate.validator.internal.engine.ConfigurationImpl.buildValidatorFactory(ConfigurationImpl.java:309)\n    at org.springframework.validation.beanvalidation.LocalValidatorFactoryBean.afterPropertiesSet(LocalValidatorFactoryBean.java:305)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1687)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1624)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066)\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:835)\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:741)\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:467)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1173)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1067)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.registerBeanPostProcessors(PostProcessorRegistrationDelegate.java:225)\n    at org.springframework.context.support.AbstractApplicationContext.registerBeanPostProcessors(AbstractApplicationContext.java:703)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:528)\n    at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:128)\n    at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:60)\n    at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.delegateLoading(AbstractDelegatingSmartContextLoader.java:106)\n    at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.loadContext(AbstractDelegatingSmartContextLoader.java:249)\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98)\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116)\n    at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83)\n    at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:117)\n    at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)\n    at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n    at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\n    at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)\n    at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:264)\n    at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:153)\n    at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:124)\n    at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:200)\n    at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:153)\n    at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)\n</code></pre>\n\n<p><strong>POM File</strong> \nI have the below dependencies available </p>\n\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n            &lt;version&gt;2.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n            &lt;version&gt;2.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\n            &lt;version&gt;2.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n\n<p>And I am passing the needed parameters to the <strong>maven-plugin-compiler</strong></p>\n\n<pre><code>            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.7.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;${java.version}&lt;/source&gt;\n                    &lt;target&gt;${java.version}&lt;/target&gt;\n                    &lt;showWarnings&gt;true&lt;/showWarnings&gt;\n                    &lt;showDeprecation&gt;true&lt;/showDeprecation&gt;\n                    &lt;compilerArgs&gt;\n                        &lt;arg&gt;--add-modules=java.xml.bind&lt;/arg&gt;\n                        &lt;arg&gt;--add-opens=java.base/java.lang=ALL-UNNAMED --illegal-access=deny&lt;/arg&gt;\n                    &lt;/compilerArgs&gt;\n                    &lt;!-- without forking compilation happens in the\n                        same process, so no arguments are applied --&gt;\n                    &lt;fork&gt;true&lt;/fork&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n</code></pre>\n\n<p>I also created the <strong>jvm.config</strong> file under the project directory as per some recommendations </p>\n\n<pre><code>--add-modules java.xml.bind\n--add-opens java.base/java.lang=ALL-UNNAMED\n--illegal-access=deny \n</code></pre>\n"},{"tags":["java","spring","unit-testing","spring-mvc","controller"],"comments":[{"owner":{"account_id":277416,"reputation":681888,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1545986572,"post_id":53955509,"comment_id":94749526,"body_markdown":"post the code of the controller that you&#39;re trying to unit test, and the code of the test that you have now, even if not working","body":"post the code of the controller that you&#39;re trying to unit test, and the code of the test that you have now, even if not working"},{"owner":{"account_id":277416,"reputation":681888,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1545987530,"post_id":53955509,"comment_id":94749819,"body_markdown":"OK. Your code is untestable, because you&#39;re relying on global static state, which is exactly the kind of stuff that makes testing hard, and that is avoided by using dependency injection, which Spring allows doing in the first place. If you want to access request attributes, then just pass the HttpServletRequest as argument to the method, and get the attributes from the request. Your filter can set the attributes in the request. Or the filter and the controller can both use an autowired  request-scope bean to store the request-bound data, and you can create a mock bean in your unit test.","body":"OK. Your code is untestable, because you&#39;re relying on global static state, which is exactly the kind of stuff that makes testing hard, and that is avoided by using dependency injection, which Spring allows doing in the first place. If you want to access request attributes, then just pass the HttpServletRequest as argument to the method, and get the attributes from the request. Your filter can set the attributes in the request. Or the filter and the controller can both use an autowired  request-scope bean to store the request-bound data, and you can create a mock bean in your unit test."}],"answers":[{"tags":[],"owner":{"account_id":26733763,"reputation":1,"user_id":20335677,"display_name":"Wee Sing Yap"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666753230,"creation_date":1666753230,"answer_id":74202250,"question_id":53955509,"body_markdown":"You can set the request attributes when you are performing the call with mockMvc.\r\n\r\nBased on your test code, you can modify it to:\r\n```\r\npublic class ControllerTest extends BaseControllerTest {\r\n    @Test\r\n    public void testControllerMethod() {\r\n        mockMvc.perform(post(&quot;&lt;url&gt;&quot;)\r\n            .content(&quot;&lt;post params here&gt;&quot;))\r\n            .requestAttr(&quot;my-request-attribute&quot;, &quot;some-value&quot;)\r\n            .andExpect(status().isOk());\r\n        // some more codes here\r\n    }\r\n}\r\n\r\n\r\n\r\npublic class Controller {\r\n    @PostMapping\r\n    public String controllerMethod() {\r\n        // some more codes here\r\n        Object myObject = RequestContextHolder\r\n            .currentRequestAttributes()\r\n            .getAttribute(&quot;my-request-attribute&quot;, RequestAttributes.SCOPE_REQUEST);\r\n        // some more codes here\r\n    }\r\n}\r\n```\r\n\r\nI think your first method of solving it (i.e. setting your RequestContextHolder&#39;s attribute directly) only applies if there were no actual request happening (e.g. testing service layer).\r\n\r\nIn your case, since we are dealing with mock MVC here, this means that a mocked request is being setup, which comes with it&#39;s own request context (and thus it&#39;s own request context attributes).\r\n\r\nHope this helps!","title":"Unit testing a controller using @WebMvcTest is not working when controller is dependent to request context","body":"<p>You can set the request attributes when you are performing the call with mockMvc.</p>\n<p>Based on your test code, you can modify it to:</p>\n<pre><code>public class ControllerTest extends BaseControllerTest {\n    @Test\n    public void testControllerMethod() {\n        mockMvc.perform(post(&quot;&lt;url&gt;&quot;)\n            .content(&quot;&lt;post params here&gt;&quot;))\n            .requestAttr(&quot;my-request-attribute&quot;, &quot;some-value&quot;)\n            .andExpect(status().isOk());\n        // some more codes here\n    }\n}\n\n\n\npublic class Controller {\n    @PostMapping\n    public String controllerMethod() {\n        // some more codes here\n        Object myObject = RequestContextHolder\n            .currentRequestAttributes()\n            .getAttribute(&quot;my-request-attribute&quot;, RequestAttributes.SCOPE_REQUEST);\n        // some more codes here\n    }\n}\n</code></pre>\n<p>I think your first method of solving it (i.e. setting your RequestContextHolder's attribute directly) only applies if there were no actual request happening (e.g. testing service layer).</p>\n<p>In your case, since we are dealing with mock MVC here, this means that a mocked request is being setup, which comes with it's own request context (and thus it's own request context attributes).</p>\n<p>Hope this helps!</p>\n"}],"owner":{"account_id":7273002,"reputation":55,"user_id":5545327,"display_name":"jngacayan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1485,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666753230,"creation_date":1545985054,"question_id":53955509,"body_markdown":"I am doing a unit test for my controller using `@WebMvcTest` in my unit test. My controller retrieves `RequestAttributes` data from `RequestContextHolder`: \r\n\r\n    RequestContextHolder.currentRequestAttributes().getAttribute(name, RequestAttributes.SCOPE_REQUEST)\r\n\r\nThe data stored here is set in the interceptor:\r\n\r\n    RequestAttributes reqAttr = RequestContextHolder.currentRequestAttributes();\r\n    reqAttr.setAttribute(name, value, RequestAttributes.SCOPE_REQUEST);\r\n    RequestContextHolder.setRequestAttributes(reqAttr, true);\r\n\r\nIn my controller unit test, the interceptor is not running so I tried to set the request attributes before running my test but I am getting this error:\r\n\r\n&gt; java.lang.IllegalStateException: No thread-bound request found: Are you referring to request attributes outside of an actual web request, or processing a request outside of the originally receiving thread? If you are actually operating within a web request and still receive this message, your code is probably running outside of DispatcherServlet: In this case, use RequestContextListener or RequestContextFilter to expose the current request.\r\n\r\nI have tried this answer https://stackoverflow.com/a/9419859/5545327. I added:\r\n\r\n    @Mock\r\n    private RequestAttributes attrs;\r\n    \r\n    @Before\r\n    public void before() {\r\n        MockitoAnnotations.initMocks(this);\r\n        RequestContextHolder.setRequestAttributes(attrs);\r\n    }\r\n    \r\n    @Test\r\n    public void testController() {\r\n        when(requestAttributes.getAttribute(eq(&quot;&lt;attribute name&gt;&quot;),\r\n            eq(RequestAttributes.SCOPE_REQUEST))).thenReturn(&lt;mockReturn&gt;);\r\n        // do your test...\r\n    }\r\n\r\nBut it is not working. The error is gone but the controller is getting `null` value from the `RequestContextHolder`. By the way I am testing my controller by doing this:\r\n\r\n    mockMvc.perform(post(&quot;&lt;url&gt;&quot;).content(&quot;&lt;post params here&gt;&quot;)).andExpect(status().isOk());\r\n\r\nwhere `mockMvc` is from `@WebMvcTest`.\r\n\r\n**Note:** I have a different class for integration test that is why I am using `@WebMvcTest` here instead of `@SpringBootTest`\r\n\r\nI am hoping you can give a descriptive answer since I am also quite new to Spring.\r\n\r\n\r\nThanks!\r\n\r\nEdit:\r\n\r\n- I can&#39;t simply put the data in the actual HttpRequest attribute. If I am not mistaken, the HttpRequest attributes are not automatically added as a request attribute in `RequestContextHolder`. Also, the data that I need is not from the HttpRequest but based on the HttpRequest. And I am mocking it since I know the actual request since this is my unit test.\r\n\r\nCode looks like this:\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @WebMvcTest\r\n    @OverrideAutoConfiguration(enabled = true)\r\n    @ActiveProfiles(&quot;test&quot;)\r\n    public abstract class BaseControllerTest {\r\n        @Autowired\r\n        protected MockMvc mockMvc;\r\n    }\r\n    \r\n    public class ControllerTest extends BaseControllerTest {\r\n        @Test\r\n        public void testControllerMethod() {\r\n            mockMvc.perform(post(&quot;&lt;url&gt;&quot;).content(&quot;&lt;post params here&gt;&quot;)).andExpect(status().isOk());\r\n            // some more codes here\r\n        }\r\n    }\r\n\r\n    public class Controller {\r\n        @PostMapping\r\n        public String controllerMethod() {\r\n            // some more codes here\r\n            Object myObject = RequestContextHolder.currentRequestAttributes().getAttribute(name, RequestAttributes.SCOPE_REQUEST);\r\n            // some more codes here\r\n        }\r\n    }\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n        ","title":"Unit testing a controller using @WebMvcTest is not working when controller is dependent to request context","body":"<p>I am doing a unit test for my controller using <code>@WebMvcTest</code> in my unit test. My controller retrieves <code>RequestAttributes</code> data from <code>RequestContextHolder</code>: </p>\n\n<pre><code>RequestContextHolder.currentRequestAttributes().getAttribute(name, RequestAttributes.SCOPE_REQUEST)\n</code></pre>\n\n<p>The data stored here is set in the interceptor:</p>\n\n<pre><code>RequestAttributes reqAttr = RequestContextHolder.currentRequestAttributes();\nreqAttr.setAttribute(name, value, RequestAttributes.SCOPE_REQUEST);\nRequestContextHolder.setRequestAttributes(reqAttr, true);\n</code></pre>\n\n<p>In my controller unit test, the interceptor is not running so I tried to set the request attributes before running my test but I am getting this error:</p>\n\n<blockquote>\n  <p>java.lang.IllegalStateException: No thread-bound request found: Are you referring to request attributes outside of an actual web request, or processing a request outside of the originally receiving thread? If you are actually operating within a web request and still receive this message, your code is probably running outside of DispatcherServlet: In this case, use RequestContextListener or RequestContextFilter to expose the current request.</p>\n</blockquote>\n\n<p>I have tried this answer <a href=\"https://stackoverflow.com/a/9419859/5545327\">https://stackoverflow.com/a/9419859/5545327</a>. I added:</p>\n\n<pre><code>@Mock\nprivate RequestAttributes attrs;\n\n@Before\npublic void before() {\n    MockitoAnnotations.initMocks(this);\n    RequestContextHolder.setRequestAttributes(attrs);\n}\n\n@Test\npublic void testController() {\n    when(requestAttributes.getAttribute(eq(\"&lt;attribute name&gt;\"),\n        eq(RequestAttributes.SCOPE_REQUEST))).thenReturn(&lt;mockReturn&gt;);\n    // do your test...\n}\n</code></pre>\n\n<p>But it is not working. The error is gone but the controller is getting <code>null</code> value from the <code>RequestContextHolder</code>. By the way I am testing my controller by doing this:</p>\n\n<pre><code>mockMvc.perform(post(\"&lt;url&gt;\").content(\"&lt;post params here&gt;\")).andExpect(status().isOk());\n</code></pre>\n\n<p>where <code>mockMvc</code> is from <code>@WebMvcTest</code>.</p>\n\n<p><strong>Note:</strong> I have a different class for integration test that is why I am using <code>@WebMvcTest</code> here instead of <code>@SpringBootTest</code></p>\n\n<p>I am hoping you can give a descriptive answer since I am also quite new to Spring.</p>\n\n<p>Thanks!</p>\n\n<p>Edit:</p>\n\n<ul>\n<li>I can't simply put the data in the actual HttpRequest attribute. If I am not mistaken, the HttpRequest attributes are not automatically added as a request attribute in <code>RequestContextHolder</code>. Also, the data that I need is not from the HttpRequest but based on the HttpRequest. And I am mocking it since I know the actual request since this is my unit test.</li>\n</ul>\n\n<p>Code looks like this:</p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@WebMvcTest\n@OverrideAutoConfiguration(enabled = true)\n@ActiveProfiles(\"test\")\npublic abstract class BaseControllerTest {\n    @Autowired\n    protected MockMvc mockMvc;\n}\n\npublic class ControllerTest extends BaseControllerTest {\n    @Test\n    public void testControllerMethod() {\n        mockMvc.perform(post(\"&lt;url&gt;\").content(\"&lt;post params here&gt;\")).andExpect(status().isOk());\n        // some more codes here\n    }\n}\n\npublic class Controller {\n    @PostMapping\n    public String controllerMethod() {\n        // some more codes here\n        Object myObject = RequestContextHolder.currentRequestAttributes().getAttribute(name, RequestAttributes.SCOPE_REQUEST);\n        // some more codes here\n    }\n}\n</code></pre>\n"},{"tags":["java","google-cloud-platform","google-bigquery","oauth-2.0","google-oauth"],"answers":[{"comments":[{"owner":{"account_id":352002,"reputation":3871,"user_id":688843,"accept_rate":87,"display_name":"Buffalo"},"score":0,"creation_date":1689262497,"post_id":74202186,"comment_id":135191742,"body_markdown":"what does the key.json look like? what are its contents?","body":"what does the key.json look like? what are its contents?"}],"tags":[],"owner":{"account_id":12018362,"reputation":17,"user_id":8792717,"display_name":"ij007"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666752624,"creation_date":1666752624,"answer_id":74202186,"question_id":74199253,"body_markdown":"  This fixed my issue. more here https://cloud.google.com/bigquery/docs/authorization\r\n\r\n    import com.google.auth.Credentials;\r\n    import com.google.auth.oauth2.ServiceAccountJwtAccessCredentials;\r\n    import com.google.cloud.bigquery.BigQuery;\r\n    import com.google.cloud.bigquery.BigQueryOptions;\r\n    import com.google.cloud.bigquery.Dataset;\r\n    \r\n    import java.io.FileInputStream;\r\n    import java.net.URI;\r\n    \r\n    public class Example {\r\n        public static void main(String... args) throws Exception {\r\n            String projectId = &quot;myproject&quot;;\r\n            // Load JSON file that contains service account keys and create ServiceAccountJwtAccessCredentials object.\r\n            String credentialsPath = &quot;/path/to/key.json&quot;;\r\n            URI audience = URI.create(&quot;https://bigquery.googleapis.com/&quot;);\r\n            Credentials credentials = null;\r\n            try (FileInputStream is = new FileInputStream(credentialsPath)) {\r\n                credentials = ServiceAccountJwtAccessCredentials.fromStream(is, audience);\r\n            }\r\n            // Instantiate BigQuery client with the credentials object.\r\n            BigQuery bigquery =\r\n                    BigQueryOptions.newBuilder().setCredentials(credentials).build().getService();\r\n            // Use the client to list BigQuery datasets.\r\n            System.out.println(&quot;Datasets:&quot;);\r\n            bigquery\r\n                .listDatasets(projectId)\r\n                .iterateAll()\r\n                .forEach(dataset -&gt; System.out.printf(&quot;%s%n&quot;, dataset.getDatasetId().getDataset()));\r\n        }\r\n    }","title":"Having Issue with error refreshing access token","body":"<p>This fixed my issue. more here <a href=\"https://cloud.google.com/bigquery/docs/authorization\" rel=\"nofollow noreferrer\">https://cloud.google.com/bigquery/docs/authorization</a></p>\n<pre><code>import com.google.auth.Credentials;\nimport com.google.auth.oauth2.ServiceAccountJwtAccessCredentials;\nimport com.google.cloud.bigquery.BigQuery;\nimport com.google.cloud.bigquery.BigQueryOptions;\nimport com.google.cloud.bigquery.Dataset;\n\nimport java.io.FileInputStream;\nimport java.net.URI;\n\npublic class Example {\n    public static void main(String... args) throws Exception {\n        String projectId = &quot;myproject&quot;;\n        // Load JSON file that contains service account keys and create ServiceAccountJwtAccessCredentials object.\n        String credentialsPath = &quot;/path/to/key.json&quot;;\n        URI audience = URI.create(&quot;https://bigquery.googleapis.com/&quot;);\n        Credentials credentials = null;\n        try (FileInputStream is = new FileInputStream(credentialsPath)) {\n            credentials = ServiceAccountJwtAccessCredentials.fromStream(is, audience);\n        }\n        // Instantiate BigQuery client with the credentials object.\n        BigQuery bigquery =\n                BigQueryOptions.newBuilder().setCredentials(credentials).build().getService();\n        // Use the client to list BigQuery datasets.\n        System.out.println(&quot;Datasets:&quot;);\n        bigquery\n            .listDatasets(projectId)\n            .iterateAll()\n            .forEach(dataset -&gt; System.out.printf(&quot;%s%n&quot;, dataset.getDatasetId().getDataset()));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":12018362,"reputation":17,"user_id":8792717,"display_name":"ij007"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":464,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666752624,"creation_date":1666726184,"question_id":74199253,"body_markdown":"Hi I am trying to connect to Big Query and I am using a google service account with a JSON key.  I am getting the below error. This is in my java batch program. \r\n\r\nInsert operation not performed \r\ncom.google.cloud.bigquery.BigQueryException: Unexpected error refreshing access token\r\n\r\n\r\n\r\n","title":"Having Issue with error refreshing access token","body":"<p>Hi I am trying to connect to Big Query and I am using a google service account with a JSON key.  I am getting the below error. This is in my java batch program.</p>\n<p>Insert operation not performed\ncom.google.cloud.bigquery.BigQueryException: Unexpected error refreshing access token</p>\n"},{"tags":["java","jsp","spring-mvc","spring-boot"],"comments":[{"owner":{"account_id":3980890,"reputation":8836,"user_id":3282808,"accept_rate":36,"display_name":"SparkOn"},"score":0,"creation_date":1404671242,"post_id":24598711,"comment_id":38112129,"body_markdown":"try `http://localHost:port/YourProjectName/users/register`","body":"try <code>http:&#47;&#47;localHost:port&#47;YourProjectName&#47;users&#47;register</code>"},{"owner":{"account_id":22565,"reputation":11004,"user_id":55794,"accept_rate":54,"display_name":"emeraldjava"},"score":0,"creation_date":1435332665,"post_id":24598711,"comment_id":50172443,"body_markdown":"Make sure your pom packaging is war and not jar.","body":"Make sure your pom packaging is war and not jar."}],"answers":[{"tags":[],"owner":{"account_id":115659,"reputation":32567,"user_id":303598,"accept_rate":84,"display_name":"matsev"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1404671784,"creation_date":1404671169,"answer_id":24598958,"question_id":24598711,"body_markdown":"Spring Boot has limited support for JSP, because of its use of an embedded servlet container. From the Spring Boot [reference documentation][1]:\r\n\r\n&gt; When running a Spring Boot application that uses an embedded servlet container (and is packaged as an executable archive), there are some limitations in the JSP support.\r\n\r\n&gt; - With Tomcat it should work if you use war packaging, i.e. an executable war will work, and will also be deployable to a standard container (not limited to, but including Tomcat). An executable jar will not work because of a hard coded file pattern in Tomcat.\r\n- Jetty does not currently work as an embedded container with JSPs.\r\nThere is a [JSP sample][2] so you can see how to set things up.\r\n\r\nStart by making your app an executable war, and make sure that you use Tomcat (check the log when you start the application). Unless you explicitly have stated you Jetty should be included, you are using Tomcat since that is provided by default. Alternatively, try change your view technology, which probably requires more initial work, but can significantly reduce the turnaround time during development, see [Hotswapping][3].\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-boot/docs/1.1.x/reference/html/boot-features-developing-web-applications.html#boot-features-jsp-limitations\r\n  [2]: http://github.com/spring-projects/spring-boot/tree/v1.1.3.RELEASE/spring-boot-samples/spring-boot-sample-web-jsp\r\n  [3]: http://docs.spring.io/spring-boot/docs/1.1.x/reference/html/howto-hotswapping.html","title":"Spring boot - Unable to resolve jsp views","body":"<p>Spring Boot has limited support for JSP, because of its use of an embedded servlet container. From the Spring Boot <a href=\"http://docs.spring.io/spring-boot/docs/1.1.x/reference/html/boot-features-developing-web-applications.html#boot-features-jsp-limitations\">reference documentation</a>:</p>\n\n<blockquote>\n  <p>When running a Spring Boot application that uses an embedded servlet container (and is packaged as an executable archive), there are some limitations in the JSP support.</p>\n  \n  <ul>\n  <li>With Tomcat it should work if you use war packaging, i.e. an executable war will work, and will also be deployable to a standard container (not limited to, but including Tomcat). An executable jar will not work because of a hard coded file pattern in Tomcat.</li>\n  <li>Jetty does not currently work as an embedded container with JSPs.\n  There is a <a href=\"http://github.com/spring-projects/spring-boot/tree/v1.1.3.RELEASE/spring-boot-samples/spring-boot-sample-web-jsp\">JSP sample</a> so you can see how to set things up.</li>\n  </ul>\n</blockquote>\n\n<p>Start by making your app an executable war, and make sure that you use Tomcat (check the log when you start the application). Unless you explicitly have stated you Jetty should be included, you are using Tomcat since that is provided by default. Alternatively, try change your view technology, which probably requires more initial work, but can significantly reduce the turnaround time during development, see <a href=\"http://docs.spring.io/spring-boot/docs/1.1.x/reference/html/howto-hotswapping.html\">Hotswapping</a>.</p>\n"},{"comments":[{"owner":{"account_id":10187542,"reputation":409,"user_id":20692967,"display_name":"Sergey Zolotarev"},"score":0,"creation_date":1679549269,"post_id":50840718,"comment_id":133742354,"body_markdown":"I did as you said but still get 404. Why? In case you may need it, here&#39;s my repo: https://github.com/NadChel/CRUD_user_boot","body":"I did as you said but still get 404. Why? In case you may need it, here&#39;s my repo: <a href=\"https://github.com/NadChel/CRUD_user_boot\" rel=\"nofollow noreferrer\">github.com/NadChel/CRUD_user_boot</a>"}],"tags":[],"owner":{"account_id":6121684,"reputation":3977,"user_id":5150013,"accept_rate":88,"display_name":"code4kix"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1528904056,"creation_date":1528902856,"answer_id":50840718,"question_id":24598711,"body_markdown":"I ran into this problem recently while upgrading an old project that needed to have `jsps` as the view technology with `tomcat` as an embedded `servlet-container`. Caveat: Pick an alternative [templating engine][1], and avoid jsps if you can. But if you can&#39;t avoid jsps, and your application is not able to resolve them, at the time of this writing (spring-boot 2.x.x), ensure the following:\r\n\r\n - Ensure that application [packaged][2] as a war and not a jar. Although it is not impossible to get jsps to work with a jar packaging, it is  a little complicated due to certain [limitations][3]. You could just run them with a war package in a server or container just fine like: `java -jar war-filename.war`\r\n - Verify that    your controllers have the `@Controller` annotation\r\n   **BUT NOT** the    annnotation `@EnableWebMvc`. That&#39;s because you are using    `spring-boot` to configure WebMVC for you.\r\n - Is your controller being scanned and injected as a component? If you have defined your controllers in a different package, maybe you are missing a `@ComponentScan` annotation?\r\n - Are you jsps located and configured correctly? For example, let&#39;s say your jsps are located in /src/main/webapp/WEB-INF/jsp/, then your `application.properties` should have something like so:\r\n`\r\nspring.mvc.view.prefix: /WEB-INF/jsp/\r\nspring.mvc.view.suffix: .jsp\r\n`\r\n\r\nAlso, since you are using spring-boot, there is no need for your `Application` to extend the `SpringBootServletInitializer`. It will work too, but to keep it simple, all you need is a class like below:\r\n\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.EnableAutoConfiguration;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    \r\n    @SpringBootApplication\r\n    public class Application {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(Application.class, args);\r\n    \t}\r\n    }\r\n\r\nFYI, the minimal set of dependencies needed are mentioned below (Maven Example):\r\n\r\n    &lt;parent&gt;\r\n    \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t&lt;version&gt;2.0.2.RELEASE&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;!-- spring-boot dependencies below --&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n    \t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;!-- jstl and jsp compilation support below --&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n    \t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t&lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-developing-web-applications.html#boot-features-spring-mvc-template-engines\r\n  [2]: https://docs.spring.io/spring-boot/docs/current/reference/html/build-tool-plugins-maven-plugin.html#build-tool-plugins-maven-packaging\r\n  [3]: https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-developing-web-applications.html#boot-features-jsp-limitations","title":"Spring boot - Unable to resolve jsp views","body":"<p>I ran into this problem recently while upgrading an old project that needed to have <code>jsps</code> as the view technology with <code>tomcat</code> as an embedded <code>servlet-container</code>. Caveat: Pick an alternative <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-developing-web-applications.html#boot-features-spring-mvc-template-engines\" rel=\"nofollow noreferrer\">templating engine</a>, and avoid jsps if you can. But if you can't avoid jsps, and your application is not able to resolve them, at the time of this writing (spring-boot 2.x.x), ensure the following:</p>\n\n<ul>\n<li>Ensure that application <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/build-tool-plugins-maven-plugin.html#build-tool-plugins-maven-packaging\" rel=\"nofollow noreferrer\">packaged</a> as a war and not a jar. Although it is not impossible to get jsps to work with a jar packaging, it is  a little complicated due to certain <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-developing-web-applications.html#boot-features-jsp-limitations\" rel=\"nofollow noreferrer\">limitations</a>. You could just run them with a war package in a server or container just fine like: <code>java -jar war-filename.war</code></li>\n<li>Verify that    your controllers have the <code>@Controller</code> annotation\n<strong>BUT NOT</strong> the    annnotation <code>@EnableWebMvc</code>. That's because you are using    <code>spring-boot</code> to configure WebMVC for you.</li>\n<li>Is your controller being scanned and injected as a component? If you have defined your controllers in a different package, maybe you are missing a <code>@ComponentScan</code> annotation?</li>\n<li>Are you jsps located and configured correctly? For example, let's say your jsps are located in /src/main/webapp/WEB-INF/jsp/, then your <code>application.properties</code> should have something like so:\n<code>\nspring.mvc.view.prefix: /WEB-INF/jsp/\nspring.mvc.view.suffix: .jsp\n</code></li>\n</ul>\n\n<p>Also, since you are using spring-boot, there is no need for your <code>Application</code> to extend the <code>SpringBootServletInitializer</code>. It will work too, but to keep it simple, all you need is a class like below:</p>\n\n<pre><code>import org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.EnableAutoConfiguration;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n}\n</code></pre>\n\n<p>FYI, the minimal set of dependencies needed are mentioned below (Maven Example):</p>\n\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.0.2.RELEASE&lt;/version&gt;\n&lt;/parent&gt;\n&lt;dependencies&gt;\n    &lt;!-- spring-boot dependencies below --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;!-- jstl and jsp compilation support below --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n        &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14139185,"reputation":9,"user_id":10214539,"display_name":"Bhavesh Chetwani"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1588533675,"creation_date":1588533675,"answer_id":61580334,"question_id":24598711,"body_markdown":"Agree with [@code4kix][1], If all of this doesn&#39;t work, try adding below property in your application.properties file\r\n\r\nspring.thymeleaf.enabled=false\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/5150013/code4kix","title":"Spring boot - Unable to resolve jsp views","body":"<p>Agree with <a href=\"https://stackoverflow.com/users/5150013/code4kix\">@code4kix</a>, If all of this doesn't work, try adding below property in your application.properties file</p>\n\n<p>spring.thymeleaf.enabled=false</p>\n"},{"tags":[],"owner":{"account_id":24323906,"reputation":128,"user_id":18263761,"display_name":"ilia"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666751974,"creation_date":1666751565,"answer_id":74202087,"question_id":24598711,"body_markdown":"In my case that solved my problem\r\n\r\nLocation of JSP file: `src/main/resources` -&gt; `/META-INF/resources/WEB-INF/jsp/sayHello.jsp`\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIn `pom.xml` :\r\n\r\n\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nIn `application.properties`:\r\n\r\n    spring.mvc.view.prefix= /WEB-INF/jsp/\r\n    spring.mvc.view.suffix= .jsp\r\n    #For debug reason\r\n    logging.level.org.springframework=debug\r\nIn Contoller: \r\n\r\n    @Controller\r\n    public class HelloController {\r\n     @RequestMapping(&quot;say-hello-jsp&quot;)\r\n        public String sayHelloJsp() {\r\n            return &quot;sayHello&quot;;\r\n        }\r\n    }\r\n\r\nIntellij still show it as error, but it works\r\n[![enter image description here][2]][2]\r\n\r\n\r\nIn IntelliJ, if you have the same configurations and it still doesn&#39;t work do this:\r\n\r\nFile -&gt; Invalidate Caches -&gt; mark first 2 lines -&gt; Invalidate and Restart. Then it will work fine\r\n\r\n  [1]: https://i.stack.imgur.com/fkL2M.png\r\n  [2]: https://i.stack.imgur.com/SZLgx.png","title":"Spring boot - Unable to resolve jsp views","body":"<p>In my case that solved my problem</p>\n<p>Location of JSP file: <code>src/main/resources</code> -&gt; <code>/META-INF/resources/WEB-INF/jsp/sayHello.jsp</code></p>\n<p><a href=\"https://i.stack.imgur.com/fkL2M.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fkL2M.png\" alt=\"enter image description here\" /></a></p>\n<p>In <code>pom.xml</code> :</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n        &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>In <code>application.properties</code>:</p>\n<pre><code>spring.mvc.view.prefix= /WEB-INF/jsp/\nspring.mvc.view.suffix= .jsp\n#For debug reason\nlogging.level.org.springframework=debug\n</code></pre>\n<p>In Contoller:</p>\n<pre><code>@Controller\npublic class HelloController {\n @RequestMapping(&quot;say-hello-jsp&quot;)\n    public String sayHelloJsp() {\n        return &quot;sayHello&quot;;\n    }\n}\n</code></pre>\n<p>Intellij still show it as error, but it works\n<a href=\"https://i.stack.imgur.com/SZLgx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SZLgx.png\" alt=\"enter image description here\" /></a></p>\n<p>In IntelliJ, if you have the same configurations and it still doesn't work do this:</p>\n<p>File -&gt; Invalidate Caches -&gt; mark first 2 lines -&gt; Invalidate and Restart. Then it will work fine</p>\n"}],"owner":{"account_id":3663881,"reputation":899,"user_id":3052930,"display_name":"Balasubramanian"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11445,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":4,"score":6,"last_activity_date":1666751974,"creation_date":1404669550,"question_id":24598711,"body_markdown":"I am trying to build a basic MVC app using Spring boot with Hibernate as ORM and MySql as Database. The problem that I am facing is that the **jsp views** are **not getting resolved**. \n\nI get a **404** error when I try to fetch the registration form using a GET request with the following URL:\n&gt; `http://localhost:9000/users/register/`\n\nThis is the set-up that I have in my application. \n\n**Directory structure:**\n\n    -src\n      -main\n        -java\n            -com\n              ApplicationStart.java\n              -controllers\n                UserController.java\n              -repositories\n                UserRepository.java\n    \n        -webapp\n            -WEB-INF\n              -jsp\n                register.jsp\n\n        -resources\n            application.properties\n\n\n**UserController:**\n\n    @RestController\n    public class UserController {\n\n        private UserRepository userRepository;\n\n        @Autowired\n        public UserController(UserRepository userRepository)\n        {\n            this.userRepository = userRepository;\n        }\n\n       @RequestMapping(value = &quot;/users/register&quot;, method = RequestMethod.GET)\n       public String Register()\n       {\n           return &quot;register&quot;;\n       }\n\n    }  \n\n**Application.properties:**\n\n&gt;server.port: 9000\n&gt;\n&gt;spring.datasource.url: jdbc:mysql://localhost/Contacts\n&gt;\n&gt;spring.datasource.driverClassName: com.mysql.jdbc.Driver\n&gt;\n&gt;spring.datasource.username: root\n&gt;\n&gt;spring.datasource.password:\n&gt;\n&gt;spring.view.prefix: /WEB-INF/jsp/\n&gt;\n&gt;spring.view.suffix: .jsp\n\n**POM.xml**\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;1.1.3.RELEASE&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;!-- HIBERNATE --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- MYSQL --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n**MAIN CLASS**\n\n\n    @ComponentScan\n    @Configuration\n    @EnableAutoConfiguration\n    public class ApplicationStart {\n        public static void main(String[] args)\n        {\n            SpringApplication.run(ApplicationStart.class, args);\n        }\n    }\n\nThis is the current setup of my application. Any help on how to resolve the issue is much appreciated.\n\nPlease comment if more information is required.\n\nThanks-  \n\n    ","title":"Spring boot - Unable to resolve jsp views","body":"<p>I am trying to build a basic MVC app using Spring boot with Hibernate as ORM and MySql as Database. The problem that I am facing is that the <strong>jsp views</strong> are <strong>not getting resolved</strong>.</p>\n<p>I get a <strong>404</strong> error when I try to fetch the registration form using a GET request with the following URL:</p>\n<blockquote>\n<p><code>http://localhost:9000/users/register/</code></p>\n</blockquote>\n<p>This is the set-up that I have in my application.</p>\n<p><strong>Directory structure:</strong></p>\n<pre><code>-src\n  -main\n    -java\n        -com\n          ApplicationStart.java\n          -controllers\n            UserController.java\n          -repositories\n            UserRepository.java\n\n    -webapp\n        -WEB-INF\n          -jsp\n            register.jsp\n\n    -resources\n        application.properties\n</code></pre>\n<p><strong>UserController:</strong></p>\n<pre><code>@RestController\npublic class UserController {\n\n    private UserRepository userRepository;\n\n    @Autowired\n    public UserController(UserRepository userRepository)\n    {\n        this.userRepository = userRepository;\n    }\n\n   @RequestMapping(value = &quot;/users/register&quot;, method = RequestMethod.GET)\n   public String Register()\n   {\n       return &quot;register&quot;;\n   }\n\n}  \n</code></pre>\n<p><strong>Application.properties:</strong></p>\n<blockquote>\n<p>server.port: 9000</p>\n<p>spring.datasource.url: jdbc:mysql://localhost/Contacts</p>\n<p>spring.datasource.driverClassName: com.mysql.jdbc.Driver</p>\n<p>spring.datasource.username: root</p>\n<p>spring.datasource.password:</p>\n<p>spring.view.prefix: /WEB-INF/jsp/</p>\n<p>spring.view.suffix: .jsp</p>\n</blockquote>\n<p><strong>POM.xml</strong></p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;1.1.3.RELEASE&lt;/version&gt;\n&lt;/parent&gt;\n\n&lt;dependencies&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n\n    &lt;!-- HIBERNATE --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- MYSQL --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n&lt;/dependencies&gt;\n</code></pre>\n<p><strong>MAIN CLASS</strong></p>\n<pre><code>@ComponentScan\n@Configuration\n@EnableAutoConfiguration\npublic class ApplicationStart {\n    public static void main(String[] args)\n    {\n        SpringApplication.run(ApplicationStart.class, args);\n    }\n}\n</code></pre>\n<p>This is the current setup of my application. Any help on how to resolve the issue is much appreciated.</p>\n<p>Please comment if more information is required.</p>\n<p>Thanks-</p>\n"},{"tags":["java","selenium","invalidselectorexception"],"answers":[{"comments":[{"owner":{"account_id":26733419,"reputation":1,"user_id":20335371,"display_name":"newb03"},"score":0,"creation_date":1666750202,"post_id":74201900,"comment_id":131008369,"body_markdown":"Hey thanks! i am no longer getting the exception error but on &quot;tf = driver.findElement(By.name(&#39;&quot;&#39;+ name +&#39;&quot;&#39;)).isDisplayed();&quot;   the &quot;driver&quot; has this error java.lang.Error: Unresolved compilation problem: \n\tdriver cannot be resolved","body":"Hey thanks! i am no longer getting the exception error but on &quot;tf = driver.findElement(By.name(&#39;&quot;&#39;+ name +&#39;&quot;&#39;)).isDisplayed();&quot;   the &quot;driver&quot; has this error java.lang.Error: Unresolved compilation problem:  \tdriver cannot be resolved"},{"owner":{"account_id":10404380,"reputation":2588,"user_id":7671727,"display_name":"AbiSaran"},"score":0,"creation_date":1666750300,"post_id":74201900,"comment_id":131008385,"body_markdown":"If it works, accept this as the answer","body":"If it works, accept this as the answer"}],"tags":[],"owner":{"account_id":10404380,"reputation":2588,"user_id":7671727,"display_name":"AbiSaran"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666749470,"creation_date":1666749470,"answer_id":74201900,"question_id":74201874,"body_markdown":"Instead of this line:\r\n\r\n    return f= driver.findElement(By.name(&quot;&#39;+ name +&#39;&quot;)).isDisplayed();\r\n\r\nUse this:\r\n\r\n    return f= driver.findElement(By.name(&#39;&quot;&#39;+ name +&#39;&quot;&#39;)).isDisplayed();","title":"Java Selenium - An invalid or illegal selector was specified","body":"<p>Instead of this line:</p>\n<pre><code>return f= driver.findElement(By.name(&quot;'+ name +'&quot;)).isDisplayed();\n</code></pre>\n<p>Use this:</p>\n<pre><code>return f= driver.findElement(By.name('&quot;'+ name +'&quot;')).isDisplayed();\n</code></pre>\n"}],"owner":{"account_id":26733419,"reputation":1,"user_id":20335371,"display_name":"newb03"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666751685,"creation_date":1666749144,"question_id":74201874,"body_markdown":"I wanted to create an method that I can reuse whenever there is a form/textbox on the page and check if it is existing by returning True/False. I created Fields() that I placed on the same Sele class But I am not sure why I am getting the error :\r\n\r\nException in thread &quot;main&quot; org.openqa.selenium.InvalidSelectorException: invalid selector: An invalid or illegal selector was specified\r\n\r\n\r\n\r\n----------------------------------------------------------------------\r\n\r\n\r\n````\r\n\r\n\r\npublic boolean Fields(String field, String name) {\r\n\tboolean f;\r\n\t if (field.equals(&quot;textbox&quot;)){\r\n            return f= driver.findElement(By.name(&quot;&#39;+ name +&#39;&quot;)).isDisplayed();\r\n           \r\n\t }\r\n\r\n\t return false;\r\n\r\n        }\r\n\r\n\r\n\r\n```\r\n`","title":"Java Selenium - An invalid or illegal selector was specified","body":"<p>I wanted to create an method that I can reuse whenever there is a form/textbox on the page and check if it is existing by returning True/False. I created Fields() that I placed on the same Sele class But I am not sure why I am getting the error :</p>\n<p>Exception in thread &quot;main&quot; org.openqa.selenium.InvalidSelectorException: invalid selector: An invalid or illegal selector was specified</p>\n<hr />\n<pre><code>\n\npublic boolean Fields(String field, String name) {\n    boolean f;\n     if (field.equals(&quot;textbox&quot;)){\n            return f= driver.findElement(By.name(&quot;'+ name +'&quot;)).isDisplayed();\n           \n     }\n\n     return false;\n\n        }\n\n\n\n```\n`\n</code></pre>\n"},{"tags":["java","mysql","sql","navicat"],"comments":[{"owner":{"account_id":24525044,"reputation":1,"user_id":18437603,"display_name":"uuQi"},"score":0,"creation_date":1666750349,"post_id":74201953,"comment_id":131008394,"body_markdown":"navicat mysql ,use sql to count what i have mentioned","body":"navicat mysql ,use sql to count what i have mentioned"},{"owner":{"account_id":24525044,"reputation":1,"user_id":18437603,"display_name":"uuQi"},"score":0,"creation_date":1666750511,"post_id":74201953,"comment_id":131008416,"body_markdown":"data: tabel---User(id,name,age,hobby,sports)","body":"data: tabel---User(id,name,age,hobby,sports)"},{"owner":{"account_id":24525044,"reputation":1,"user_id":18437603,"display_name":"uuQi"},"score":0,"creation_date":1666750558,"post_id":74201953,"comment_id":131008425,"body_markdown":"User(1,&quot;zhangsan&quot;,18,null,null), the result of count is 3","body":"User(1,&quot;zhangsan&quot;,18,null,null), the result of count is 3"},{"owner":{"account_id":24525044,"reputation":1,"user_id":18437603,"display_name":"uuQi"},"score":0,"creation_date":1666751002,"post_id":74201953,"comment_id":131008494,"body_markdown":"The data is relatively simple. Where are the tags you are referring to?","body":"The data is relatively simple. Where are the tags you are referring to?"},{"owner":{"account_id":1144312,"reputation":25594,"user_id":1127428,"accept_rate":79,"display_name":"Dale K"},"score":1,"creation_date":1666751085,"post_id":74201953,"comment_id":131008506,"body_markdown":"As you say it is very simple, so what are you stuck on? What have you tried?","body":"As you say it is very simple, so what are you stuck on? What have you tried?"},{"owner":{"account_id":24525044,"reputation":1,"user_id":18437603,"display_name":"uuQi"},"score":0,"creation_date":1666751200,"post_id":74201953,"comment_id":131008523,"body_markdown":"OK，the tagged is updated","body":"OK，the tagged is updated"},{"owner":{"account_id":168647,"reputation":80160,"user_id":1570000,"accept_rate":100,"display_name":"John Cappelletti"},"score":1,"creation_date":1666751244,"post_id":74201953,"comment_id":131008533,"body_markdown":"You say simple but your request ambiguous.   Are you looking for the non-NULL columns which in your sample is 3 ?","body":"You say simple but your request ambiguous.   Are you looking for the non-NULL columns which in your sample is 3 ?"},{"owner":{"account_id":24525044,"reputation":1,"user_id":18437603,"display_name":"uuQi"},"score":0,"creation_date":1666751293,"post_id":74201953,"comment_id":131008541,"body_markdown":"If there are 20 fields in a record, and only the first 10 fields have data, how to count the number of field data through sql statement, this is what bothers me","body":"If there are 20 fields in a record, and only the first 10 fields have data, how to count the number of field data through sql statement, this is what bothers me"},{"owner":{"account_id":24525044,"reputation":1,"user_id":18437603,"display_name":"uuQi"},"score":0,"creation_date":1666751436,"post_id":74201953,"comment_id":131008568,"body_markdown":"I am not looking for a non-empty column with a sample of 3, but in a record, such as the User table above, there are 3 fields with data in it, then the count is 3, and I am confused about how to write it through the sql statement","body":"I am not looking for a non-empty column with a sample of 3, but in a record, such as the User table above, there are 3 fields with data in it, then the count is 3, and I am confused about how to write it through the sql statement"},{"owner":{"account_id":24525044,"reputation":1,"user_id":18437603,"display_name":"uuQi"},"score":0,"creation_date":1666751523,"post_id":74201953,"comment_id":131008579,"body_markdown":"can u write the sql Can you help to write the above sql statement about the User table, thank you","body":"can u write the sql Can you help to write the above sql statement about the User table, thank you"},{"owner":{"account_id":168647,"reputation":80160,"user_id":1570000,"accept_rate":100,"display_name":"John Cappelletti"},"score":0,"creation_date":1666751533,"post_id":74201953,"comment_id":131008583,"body_markdown":"One option is to calculate the length of a string  len(concat( left(id,1),left(name,1),left(age,1),left(hobby,1),left(sports,1)))","body":"One option is to calculate the length of a string  len(concat( left(id,1),left(name,1),left(age,1),left(hobby,1),left(sport&zwnj;&#8203;s,1)))"}],"answers":[{"comments":[{"owner":{"account_id":24525044,"reputation":1,"user_id":18437603,"display_name":"uuQi"},"score":0,"creation_date":1666751765,"post_id":74202093,"comment_id":131008612,"body_markdown":"it is amaing , i am trying","body":"it is amaing , i am trying"},{"owner":{"account_id":24525044,"reputation":1,"user_id":18437603,"display_name":"uuQi"},"score":0,"creation_date":1666752098,"post_id":74202093,"comment_id":131008667,"body_markdown":"Perfect solution to my current problem as you have described and written, thanks a lot","body":"Perfect solution to my current problem as you have described and written, thanks a lot"},{"owner":{"account_id":24525044,"reputation":1,"user_id":18437603,"display_name":"uuQi"},"score":1,"creation_date":1666752251,"post_id":74202093,"comment_id":131008704,"body_markdown":"To tell you the truth, I am relatively new, can you tell me where to receive the answer?","body":"To tell you the truth, I am relatively new, can you tell me where to receive the answer?"}],"tags":[],"owner":{"account_id":1144312,"reputation":25594,"user_id":1127428,"accept_rate":79,"display_name":"Dale K"},"comment_count":3,"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1666751639,"creation_date":1666751639,"answer_id":74202093,"question_id":74201953,"body_markdown":"Use `CASE` expressions to count each column.\r\n```\r\nSELECT\r\n    CASE WHEN Column1 IS NOT NULL THEN 1 ELSE 0 END\r\n    + CASE WHEN Column2 IS NOT NULL THEN 1 ELSE 0 END\r\n    -- repeat for all columns\r\n    AS NumberOfNonNullColumns\r\nFROM MyTable\r\n```","title":"Count the number of existing values in a field in a record","body":"<p>Use <code>CASE</code> expressions to count each column.</p>\n<pre><code>SELECT\n    CASE WHEN Column1 IS NOT NULL THEN 1 ELSE 0 END\n    + CASE WHEN Column2 IS NOT NULL THEN 1 ELSE 0 END\n    -- repeat for all columns\n    AS NumberOfNonNullColumns\nFROM MyTable\n</code></pre>\n"}],"owner":{"account_id":24525044,"reputation":1,"user_id":18437603,"display_name":"uuQi"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":5,"up_vote_count":0,"closed_date":1666758950,"accepted_answer_id":74202093,"answer_count":1,"score":-5,"last_activity_date":1666751639,"creation_date":1666750109,"question_id":74201953,"body_markdown":"1. Such as I have a table of User---(id,name,age,hobby,sports)\r\n2. Then it has a record that (1,&quot;zhangsan&quot;,18,null,null);\r\n3. Next you can see the total of record is 3, because hobby and sports are null.\r\n\r\n\r\nuse SQL sentences to count the number of existing values in a field in a record\r\n\r\nHelp and thanks","title":"Count the number of existing values in a field in a record","body":"<ol>\n<li>Such as I have a table of User---(id,name,age,hobby,sports)</li>\n<li>Then it has a record that (1,&quot;zhangsan&quot;,18,null,null);</li>\n<li>Next you can see the total of record is 3, because hobby and sports are null.</li>\n</ol>\n<p>use SQL sentences to count the number of existing values in a field in a record</p>\n<p>Help and thanks</p>\n"},{"tags":["java","spring","spring-boot","ssl","encryption"],"comments":[{"owner":{"account_id":19482153,"reputation":53,"user_id":14252219,"display_name":"Madhan Kumar"},"score":0,"creation_date":1657568868,"post_id":72943023,"comment_id":128837361,"body_markdown":"I would think of adding these properties in a pipeline and using those via pipelinefile in your project. If you are familiar with Jenkins, then go with that.","body":"I would think of adding these properties in a pipeline and using those via pipelinefile in your project. If you are familiar with Jenkins, then go with that."}],"answers":[{"tags":[],"owner":{"account_id":26733674,"reputation":1,"user_id":20335595,"display_name":"andy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666751626,"creation_date":1666751626,"answer_id":74202091,"question_id":72943023,"body_markdown":"do it before the SpringApplication.run() in main:\r\n\r\n\tpublic static void main(String[] args) throws Exception {    \t\r\n\t\tString syskeystorePsw = &quot;your password&quot;;\r\n    \tSystem.setProperty(&quot;server.ssl.key-store-password&quot;, syskeystorePsw);\r\n    \t\t\r\n\t\tSpringApplication.run(MySpringbootApplication.class, args);\r\n    }\r\n\r\n\r\n","title":"Modify server.ssl passwords on Spring Initialization","body":"<p>do it before the SpringApplication.run() in main:</p>\n<pre><code>public static void main(String[] args) throws Exception {       \n    String syskeystorePsw = &quot;your password&quot;;\n    System.setProperty(&quot;server.ssl.key-store-password&quot;, syskeystorePsw);\n        \n    SpringApplication.run(MySpringbootApplication.class, args);\n}\n</code></pre>\n"}],"owner":{"account_id":25783758,"reputation":1,"user_id":19528972,"display_name":"shadicar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":313,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666751626,"creation_date":1657563811,"question_id":72943023,"body_markdown":"I have a spring application that uses `server.ssl.trust-store-password` and `server.ssl.key-store-password` properties. The app works fine, but now I want to encrypt this variables and decrypt this properties on Spring initialization.\r\n\r\nSo, at the end, my application.properties file will look like this:\r\n\r\n    server.ssl.key-store-password= encryptedPassword\r\n    server.ssl.trust-store-password= encryptedPassword\r\n\r\nOR properties with different names if needed:\r\n\r\n```\r\n    key-store-encrypted-password= encryptedPassword\r\n    trust-store-encrypted-password= encryptedPassword\r\n````\r\n\r\nWhat is the best way to do this?\r\n\r\nWhat I&#39;ve tried:\r\n\r\nCreating a bean which will load first and set the system property, but for some reason Spring isn&#39;t using this properties.\r\n\r\n```\r\n@Order(Ordered.LOWEST_PRECEDENCE)\r\n@Configuration\r\npublic class SSLEnvironmentProcessor\r\n{\r\n  @Autowired\r\n  private ConfigurableEnvironment environment;\r\n\r\n  @Bean\r\n  public void loadProperties()\r\n  {\r\n    String valueKey = environment.getProperty(&quot;key-store-password-encrypted&quot;);\r\n    String valueTrust = environment.getProperty(&quot;trust-store-password-encrypted&quot;);\r\n\r\n    System.setProperty(&quot;server.ssl.key-store-password&quot;, decrypt(valueKey));\r\n    System.setProperty(&quot;server.ssl.trust-store-password&quot;, decrypt(valueTrust));\r\n\r\n  }\r\n}\r\n````\r\n\r\nmy application.properties:\r\n\r\n````\r\n\r\nkey-store-password-encrypted=encryptedPASS\r\ntrust-store-password-encrypted=encryptedPASS\r\n````\r\n\r\nError:\r\n\r\n```\r\norg.springframework.context.ApplicationContextException: Failed to start bean &#39;webServerStartStop&#39;; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat server\r\norg.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:586) ~[spring-context-5.3.14.jar:5.3.14]\r\n......\r\nCaused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat server\r\n\tat \r\n\t... 19 more\r\nCaused by: org.apache.catalina.LifecycleException: Protocol handler start failed\r\n\tat org.apache.catalina.connector.Connector.startInternal(Connector.java:1075) ~\r\n\t... 19 more\r\nCaused by: java.lang.IllegalArgumentException: keystore password was incorrect\r\n\tat org.apache.tomcat.util.net.AbstractJsseEndpoint.createSSLContext(AbstractJsseEndpoint.java:99) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat \r\n\t... 19 more\r\nCaused by: java.io.IOException: keystore password was incorrect\r\n\tat sun.security.pkcs12.PKCS12KeyStore.engineLoad(PKCS12KeyStore.java:2069) ~[?:1.8.0_311]\r\n\tat sun.security.provider.KeyStoreDelegator.engineLoad(KeyStoreDelegator.java:238) ~[?:1.8.0_311]\r\n\t... 19 more\r\nCaused by: java.security.UnrecoverableKeyException: failed to decrypt safe contents entry: javax.crypto.BadPaddingException: Given final block not properly padded. Such issues can arise if a bad key is used during decryption.\r\n\tat sun.security.pkcs12.PKCS12KeyStore.engineLoad(PKCS12KeyStore.java:2069) \r\n````\r\n","title":"Modify server.ssl passwords on Spring Initialization","body":"<p>I have a spring application that uses <code>server.ssl.trust-store-password</code> and <code>server.ssl.key-store-password</code> properties. The app works fine, but now I want to encrypt this variables and decrypt this properties on Spring initialization.</p>\n<p>So, at the end, my application.properties file will look like this:</p>\n<pre><code>server.ssl.key-store-password= encryptedPassword\nserver.ssl.trust-store-password= encryptedPassword\n</code></pre>\n<p>OR properties with different names if needed:</p>\n<pre><code>    key-store-encrypted-password= encryptedPassword\n    trust-store-encrypted-password= encryptedPassword\n</code></pre>\n<p>What is the best way to do this?</p>\n<p>What I've tried:</p>\n<p>Creating a bean which will load first and set the system property, but for some reason Spring isn't using this properties.</p>\n<pre><code>@Order(Ordered.LOWEST_PRECEDENCE)\n@Configuration\npublic class SSLEnvironmentProcessor\n{\n  @Autowired\n  private ConfigurableEnvironment environment;\n\n  @Bean\n  public void loadProperties()\n  {\n    String valueKey = environment.getProperty(&quot;key-store-password-encrypted&quot;);\n    String valueTrust = environment.getProperty(&quot;trust-store-password-encrypted&quot;);\n\n    System.setProperty(&quot;server.ssl.key-store-password&quot;, decrypt(valueKey));\n    System.setProperty(&quot;server.ssl.trust-store-password&quot;, decrypt(valueTrust));\n\n  }\n}\n</code></pre>\n<p>my application.properties:</p>\n<pre><code>\nkey-store-password-encrypted=encryptedPASS\ntrust-store-password-encrypted=encryptedPASS\n</code></pre>\n<p>Error:</p>\n<pre><code>org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat server\norg.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:586) ~[spring-context-5.3.14.jar:5.3.14]\n......\nCaused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat server\n    at \n    ... 19 more\nCaused by: org.apache.catalina.LifecycleException: Protocol handler start failed\n    at org.apache.catalina.connector.Connector.startInternal(Connector.java:1075) ~\n    ... 19 more\nCaused by: java.lang.IllegalArgumentException: keystore password was incorrect\n    at org.apache.tomcat.util.net.AbstractJsseEndpoint.createSSLContext(AbstractJsseEndpoint.java:99) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at \n    ... 19 more\nCaused by: java.io.IOException: keystore password was incorrect\n    at sun.security.pkcs12.PKCS12KeyStore.engineLoad(PKCS12KeyStore.java:2069) ~[?:1.8.0_311]\n    at sun.security.provider.KeyStoreDelegator.engineLoad(KeyStoreDelegator.java:238) ~[?:1.8.0_311]\n    ... 19 more\nCaused by: java.security.UnrecoverableKeyException: failed to decrypt safe contents entry: javax.crypto.BadPaddingException: Given final block not properly padded. Such issues can arise if a bad key is used during decryption.\n    at sun.security.pkcs12.PKCS12KeyStore.engineLoad(PKCS12KeyStore.java:2069) \n</code></pre>\n"},{"tags":["java","recursion","tic-tac-toe","minimax"],"comments":[{"owner":{"account_id":15969180,"reputation":275,"user_id":11523845,"display_name":"m_ognjen"},"score":0,"creation_date":1666741243,"post_id":74201198,"comment_id":131007043,"body_markdown":"How many times is this function called? Assuming your gameEnd method works as intended, it could be that the function is called way too many times either way, which can fill up the stack.","body":"How many times is this function called? Assuming your gameEnd method works as intended, it could be that the function is called way too many times either way, which can fill up the stack."},{"owner":{"account_id":26294543,"reputation":51,"user_id":19961014,"display_name":"RunTimeError31415"},"score":0,"creation_date":1666741693,"post_id":74201198,"comment_id":131007091,"body_markdown":"I give array = [ [ 2,1,1 ], [ 0,2,2 ], [ 1,0,1 ] ]  and win = 3 and turn = 2 as the input. win =3 means that there should be 3 items in a row for the game to end. turn 2 means its the second player turn (which by looking at the numbers theres 4 1s and 3 2s). Because there is only 2 empty spots the score method in only called *3* times. (because one of the situations the board has a winning state). So do you think that my current implementation is correct and there might be a fault in my other methods?","body":"I give array = [ [ 2,1,1 ], [ 0,2,2 ], [ 1,0,1 ] ]  and win = 3 and turn = 2 as the input. win =3 means that there should be 3 items in a row for the game to end. turn 2 means its the second player turn (which by looking at the numbers theres 4 1s and 3 2s). Because there is only 2 empty spots the score method in only called <i>3</i> times. (because one of the situations the board has a winning state). So do you think that my current implementation is correct and there might be a fault in my other methods?"},{"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"score":1,"creation_date":1666742099,"post_id":74201198,"comment_id":131007147,"body_markdown":"The thing to do is to instrument the code.  E.g. display the board on every entry into score().  ie., debugging is called for.","body":"The thing to do is to instrument the code.  E.g. display the board on every entry into score().  ie., debugging is called for."},{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1666764553,"post_id":74201198,"comment_id":131010611,"body_markdown":"Not enough information to reproduce the issue.","body":"Not enough information to reproduce the issue."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1666844710,"post_id":74201198,"comment_id":131032950,"body_markdown":"The problem might be in the `children` method, which you haven&#39;t shown.  What is that method supposed to do?","body":"The problem might be in the <code>children</code> method, which you haven&#39;t shown.  What is that method supposed to do?"}],"answers":[{"comments":[{"owner":{"account_id":26294543,"reputation":51,"user_id":19961014,"display_name":"RunTimeError31415"},"score":0,"creation_date":1666794258,"post_id":74202084,"comment_id":131020571,"body_markdown":"I&#39;ve tried your solution but still get stackoverflow. Thanks though","body":"I&#39;ve tried your solution but still get stackoverflow. Thanks though"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1666844630,"post_id":74202084,"comment_id":131032937,"body_markdown":"This will make no difference at all.  The only part of an extended for loop that&#39;s repeated is the part between the `{ }` characters.","body":"This will make no difference at all.  The only part of an extended for loop that&#39;s repeated is the part between the <code>{ }</code> characters."}],"tags":[],"owner":{"account_id":6496686,"reputation":578,"user_id":5029081,"display_name":"Haroldo Macedo"},"comment_count":2,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1666751518,"creation_date":1666751518,"answer_id":74202084,"question_id":74201198,"body_markdown":"Your code seems wrong in the loop:\r\n\r\n    for (int[][] i : children(array, win, turn)) {\r\n\r\nI haven’t tested, but you should call the method *children()* outside the *for*.\r\nBy calling the method within the *for* clause, you are always returning the initial array instead of iterating through it.\r\n\r\nSo try putting the *children()* method return to a variable and iterate through this variable.\r\n\r\nSomething like:\r\n\r\n    … c = children(…)\r\n    for(int[][] i : c) {\r\n    …\r\n\r\n","title":"Java recursive function below what is the problem?","body":"<p>Your code seems wrong in the loop:</p>\n<pre><code>for (int[][] i : children(array, win, turn)) {\n</code></pre>\n<p>I haven’t tested, but you should call the method <em>children()</em> outside the <em>for</em>.\nBy calling the method within the <em>for</em> clause, you are always returning the initial array instead of iterating through it.</p>\n<p>So try putting the <em>children()</em> method return to a variable and iterate through this variable.</p>\n<p>Something like:</p>\n<pre><code>… c = children(…)\nfor(int[][] i : c) {\n…\n</code></pre>\n"}],"owner":{"account_id":26294543,"reputation":51,"user_id":19961014,"display_name":"RunTimeError31415"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1666751518,"creation_date":1666740938,"question_id":74201198,"body_markdown":"```\r\n\tpublic static int score(int[][] array, int win, int turn) {\r\n\t\tint score = 0;\r\n\t\tif (GamePrinciples.gameEnd(array, win)) {\r\n\t\t\tif (GamePrinciples.draw(array)) {\r\n\t\t\t\tscore = 0;\r\n\t\t\t} else if (GamePrinciples.winningBoard(array, win)[0] == 1) {\r\n\t\t\t\tscore = 1;\r\n\t\t\t} else {\r\n\t\t\t\tscore = -1;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tfor (int[][] i : children(array, win, turn)) {\r\n\t\t\t\tscore += score(i, win, GamePrinciples.nextPlayer(turn));\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn score;\r\n\t}\r\n\r\n```\r\n\r\nbriefly this program is part of my minimax algorithm. So the problem is that I get a stack over flow. Where am I going wrong? \r\nif an array is in ending mode then if it is a draw it gives a score of zero if player one wins then a score of one and if player two wins it gives a score of two.\r\nif the array is however not in the ending state we get the children of the array (immediate children that is the boards that result from the current board with only one move). The score of the board will be the sum of the score of each of its children. The logic seems okay and the other methods such as children, nextPlayer, winningBoard, draw all work fine with testing. So I am guessing there is problem with this kind of recursive implementation. Can anyone help? Thanks in advance","title":"Java recursive function below what is the problem?","body":"<pre><code>    public static int score(int[][] array, int win, int turn) {\n        int score = 0;\n        if (GamePrinciples.gameEnd(array, win)) {\n            if (GamePrinciples.draw(array)) {\n                score = 0;\n            } else if (GamePrinciples.winningBoard(array, win)[0] == 1) {\n                score = 1;\n            } else {\n                score = -1;\n            }\n        } else {\n            for (int[][] i : children(array, win, turn)) {\n                score += score(i, win, GamePrinciples.nextPlayer(turn));\n            }\n        }\n        return score;\n    }\n\n</code></pre>\n<p>briefly this program is part of my minimax algorithm. So the problem is that I get a stack over flow. Where am I going wrong?\nif an array is in ending mode then if it is a draw it gives a score of zero if player one wins then a score of one and if player two wins it gives a score of two.\nif the array is however not in the ending state we get the children of the array (immediate children that is the boards that result from the current board with only one move). The score of the board will be the sum of the score of each of its children. The logic seems okay and the other methods such as children, nextPlayer, winningBoard, draw all work fine with testing. So I am guessing there is problem with this kind of recursive implementation. Can anyone help? Thanks in advance</p>\n"},{"tags":["java","hadoop","mapreduce","hive","hdfs"],"comments":[{"owner":{"account_id":296864,"reputation":4138,"user_id":602076,"display_name":"mohit6up"},"score":0,"creation_date":1364162737,"post_id":15571584,"comment_id":22130000,"body_markdown":"Do you have the right file permissions on this file?","body":"Do you have the right file permissions on this file?"},{"owner":{"account_id":1623002,"reputation":1520,"user_id":1532882,"accept_rate":100,"display_name":"Jake Z"},"score":5,"creation_date":1386697329,"post_id":15571584,"comment_id":30644900,"body_markdown":"Make sure the `dfs.datanode.address` port address is open. I had a similar error happen to me and it turned out that out of the several ports I needed to open, I neglected `50010`.","body":"Make sure the <code>dfs.datanode.address</code> port address is open. I had a similar error happen to me and it turned out that out of the several ports I needed to open, I neglected <code>50010</code>."},{"owner":{"account_id":4033122,"reputation":27140,"user_id":3318517,"accept_rate":67,"display_name":"Daniel Darabos"},"score":0,"creation_date":1420632724,"post_id":15571584,"comment_id":44044214,"body_markdown":"Thanks @MarkW, that was my mistake too. Care to add this as an answer?","body":"Thanks @MarkW, that was my mistake too. Care to add this as an answer?"}],"answers":[{"comments":[{"owner":{"account_id":194867,"reputation":282,"user_id":437441,"accept_rate":47,"display_name":"John Jiang"},"score":0,"creation_date":1380779487,"post_id":15571928,"comment_id":28328655,"body_markdown":"This is the only solution to the OP&#39;s question that worked for me. I was trying to follow the example in [link](http://blog.tundramonkey.com/2013/02/24/setting-up-hadoop-on-osx-mountain-lion) on my Macbook osx mountain lion 10.8.5, but could not see the datanode being generated after start-all.sh, until I deleted the data and name and namesecondary folders as mentioned above. Thank you!","body":"This is the only solution to the OP&#39;s question that worked for me. I was trying to follow the example in <a href=\"http://blog.tundramonkey.com/2013/02/24/setting-up-hadoop-on-osx-mountain-lion\" rel=\"nofollow noreferrer\">link</a> on my Macbook osx mountain lion 10.8.5, but could not see the datanode being generated after start-all.sh, until I deleted the data and name and namesecondary folders as mentioned above. Thank you!"}],"tags":[],"owner":{"account_id":1121609,"reputation":419,"user_id":1109819,"accept_rate":100,"display_name":"lvella"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1363959991,"creation_date":1363959991,"answer_id":15571928,"question_id":15571584,"body_markdown":"What I usually do when this happens is that I go to *tmp/hadoop-username/dfs/* directory and manually delete the *data* and *name* folders (assuming you are running in a Linux environment).\r\n\r\nThen format the dfs by calling *bin/hadoop namenode -format* (make sure that you answer with a capital *Y* when you are asked whether you want to format; if you are not asked, then re-run the command again).\r\n\r\nYou can then start hadoop again by calling *bin/start-all.sh*","title":"Writing to HDFS could only be replicated to 0 nodes instead of minReplication (=1)","body":"<p>What I usually do when this happens is that I go to <em>tmp/hadoop-username/dfs/</em> directory and manually delete the <em>data</em> and <em>name</em> folders (assuming you are running in a Linux environment).</p>\n\n<p>Then format the dfs by calling <em>bin/hadoop namenode -format</em> (make sure that you answer with a capital <em>Y</em> when you are asked whether you want to format; if you are not asked, then re-run the command again).</p>\n\n<p>You can then start hadoop again by calling <em>bin/start-all.sh</em></p>\n"},{"tags":[],"owner":{"account_id":2738449,"reputation":14392,"user_id":2360535,"accept_rate":64,"display_name":"twlkyao"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1387011582,"creation_date":1387011582,"answer_id":20581413,"question_id":15571584,"body_markdown":" 1. Check whether your DataNode is running,use the command:`jps`.\r\n 2. If it is **not running** wait sometime and retry.\r\n 3. If it is **running**, I think you have to re-format your DataNode.","title":"Writing to HDFS could only be replicated to 0 nodes instead of minReplication (=1)","body":"<ol>\n<li>Check whether your DataNode is running,use the command:<code>jps</code>.</li>\n<li>If it is <strong>not running</strong> wait sometime and retry.</li>\n<li>If it is <strong>running</strong>, I think you have to re-format your DataNode.</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":2860448,"reputation":437,"user_id":2969224,"display_name":"UnixAgain"},"score":9,"creation_date":1475915326,"post_id":24583936,"comment_id":67143280,"body_markdown":"I run into the same problem, would you please explain why should I do this to solve the problem and if the data would be lost?","body":"I run into the same problem, would you please explain why should I do this to solve the problem and if the data would be lost?"},{"owner":{"account_id":14790822,"reputation":1718,"user_id":10681828,"display_name":"pavel_orekhov"},"score":6,"creation_date":1549474073,"post_id":24583936,"comment_id":95918099,"body_markdown":"This ain&#39;t no solution. -1","body":"This ain&#39;t no solution. -1"}],"tags":[],"owner":{"account_id":3391423,"reputation":692,"user_id":2846171,"display_name":"Devan M S"},"comment_count":2,"down_vote_count":7,"up_vote_count":19,"is_accepted":true,"score":12,"last_activity_date":1432315105,"creation_date":1404543979,"answer_id":24583936,"question_id":15571584,"body_markdown":"1.Stop all Hadoop daemons \r\n\r\n    for x in `cd /etc/init.d ; ls hadoop*` ; do sudo service $x stop ; done\r\n\r\n2.Remove all files from `/var/lib/hadoop-hdfs/cache/hdfs/dfs/name` \r\n\r\n    Eg: devan@Devan-PC:~$ sudo rm -r /var/lib/hadoop-hdfs/cache/\r\n\r\n3.Format Namenode\r\n\r\n    sudo -u hdfs hdfs namenode -format\r\n\r\n4.Start all Hadoop daemons\r\n\r\n    for x in `cd /etc/init.d ; ls hadoop*` ; do sudo service $x start ; done\r\n\r\n[Stop All Hadoop Service][1]\r\n  [1]: http://www.cloudera.com/content/cloudera/en/documentation/cdh4/latest/CDH4-Installation-Guide/cdh4ig_topic_27_3.html","title":"Writing to HDFS could only be replicated to 0 nodes instead of minReplication (=1)","body":"<p>1.Stop all Hadoop daemons </p>\n\n<pre><code>for x in `cd /etc/init.d ; ls hadoop*` ; do sudo service $x stop ; done\n</code></pre>\n\n<p>2.Remove all files from <code>/var/lib/hadoop-hdfs/cache/hdfs/dfs/name</code> </p>\n\n<pre><code>Eg: devan@Devan-PC:~$ sudo rm -r /var/lib/hadoop-hdfs/cache/\n</code></pre>\n\n<p>3.Format Namenode</p>\n\n<pre><code>sudo -u hdfs hdfs namenode -format\n</code></pre>\n\n<p>4.Start all Hadoop daemons</p>\n\n<pre><code>for x in `cd /etc/init.d ; ls hadoop*` ; do sudo service $x start ; done\n</code></pre>\n\n<p><a href=\"http://www.cloudera.com/content/cloudera/en/documentation/cdh4/latest/CDH4-Installation-Guide/cdh4ig_topic_27_3.html\" rel=\"noreferrer\">Stop All Hadoop Service</a></p>\n"},{"comments":[{"owner":{"account_id":1684769,"reputation":1215,"user_id":1548275,"display_name":"Jari Turkia"},"score":0,"creation_date":1524479239,"post_id":29476823,"comment_id":86973585,"body_markdown":"Thanks for this! My one-node system was misconfigured to run from an incorrect partition and it simply didn&#39;t have the capcity in it to hold yet another file.","body":"Thanks for this! My one-node system was misconfigured to run from an incorrect partition and it simply didn&#39;t have the capcity in it to hold yet another file."}],"tags":[],"owner":{"account_id":3271551,"reputation":253,"user_id":2754816,"display_name":"divyaravi"},"comment_count":1,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1428343476,"creation_date":1428343476,"answer_id":29476823,"question_id":15571584,"body_markdown":"I had the same issue, I was running very low on disk space. Freeing up disk solved it.","title":"Writing to HDFS could only be replicated to 0 nodes instead of minReplication (=1)","body":"<p>I had the same issue, I was running very low on disk space. Freeing up disk solved it.</p>\n"},{"comments":[{"owner":{"account_id":9552240,"reputation":392,"user_id":7096004,"display_name":"benaou mouad"},"score":0,"creation_date":1584906652,"post_id":37883534,"comment_id":107578204,"body_markdown":"could please explain more your steps","body":"could please explain more your steps"}],"tags":[],"owner":{"account_id":7247808,"reputation":3044,"user_id":5819877,"accept_rate":100,"display_name":"Praveen Kumar K S"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1466171908,"creation_date":1466171908,"answer_id":37883534,"question_id":15571584,"body_markdown":"**Very Simple fix for the same issue on Windows 8.1**&lt;br&gt;\r\nI used Windows 8.1 OS and Hadoop 2.7.2, Did the following things to overcome this issue.\r\n\r\n 1. When I started the hdfs namenode -format, I noticed there is a lock in my directory. please refer the figure below.&lt;br&gt;\r\n[![HadoopNameNode][1]][1]\r\n 2. Once I deleted the full folder as shown below, and again I did the **hdfs namenode -format.**\r\n[![Folder location][2]][2] &lt;br&gt;\r\n[![Full Folder Delete][3]][3]\r\n 3. After performing above two steps, I could successfully place my required files in HDFS system. I used **start-all.cmd** command to start yarn and namenode.\r\n\r\n  [1]: http://i.stack.imgur.com/EJZQl.png\r\n  [2]: http://i.stack.imgur.com/SNu7y.png\r\n  [3]: http://i.stack.imgur.com/4Ub3w.png","title":"Writing to HDFS could only be replicated to 0 nodes instead of minReplication (=1)","body":"<p><strong>Very Simple fix for the same issue on Windows 8.1</strong><br>\nI used Windows 8.1 OS and Hadoop 2.7.2, Did the following things to overcome this issue.</p>\n\n<ol>\n<li>When I started the hdfs namenode -format, I noticed there is a lock in my directory. please refer the figure below.<br>\n<a href=\"https://i.stack.imgur.com/EJZQl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EJZQl.png\" alt=\"HadoopNameNode\"></a></li>\n<li>Once I deleted the full folder as shown below, and again I did the <strong>hdfs namenode -format.</strong>\n<a href=\"https://i.stack.imgur.com/SNu7y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SNu7y.png\" alt=\"Folder location\"></a> <br>\n<a href=\"https://i.stack.imgur.com/4Ub3w.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4Ub3w.png\" alt=\"Full Folder Delete\"></a></li>\n<li>After performing above two steps, I could successfully place my required files in HDFS system. I used <strong>start-all.cmd</strong> command to start yarn and namenode.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":5346693,"reputation":2655,"user_id":4262053,"accept_rate":78,"display_name":"Reihan_amn"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1505878749,"creation_date":1505878749,"answer_id":46312888,"question_id":15571584,"body_markdown":"I had this problem and I solved it as bellow:\r\n\r\n\r\n 1. Find where are your datanode and namenode metadata/data saved; if you cannot find it, simply do this command on mac to find it (there are located in a folder called &quot;tmp&quot;)\r\n\r\n     **find /usr/local/Cellar/ -name &quot;tmp&quot;;**   \r\n\r\n     find command is like this: find &lt;&quot;directory&quot;&gt; -name &lt;&quot;any string clue for that directory or file&quot;&gt;\r\n\r\n\r\n\r\n 2. After finding that file, cd into it.\r\n    /usr/local/Cellar//hadoop/hdfs/tmp\r\n    \r\n    then cd to dfs\r\n \r\n    then using -ls command see that data and name directories are located there.\r\n\r\n\r\n 3. Using remove command, remove them both:\r\n\r\n **rm -R data .      and      rm -R name**\r\n\r\n 4. Go to bin folder and end everything if you already have not done it:\r\n\r\n    **sbin/end-dfs.sh**\r\n\r\n 5. Exit from the server or localhost.\r\n\r\n 6. Log into the server again: ssh &lt;&quot;server name&quot;&gt;\r\n\r\n 7. start the dfs:\r\n\r\n      **sbin/start-dfs.sh**\r\n 8. Format the namenode for being sure:\r\n\r\n    **bin/hdfs namenode -format**\r\n\r\n 9. you can now use hdfs commands to upload your data into dfs and run MapReduce jobs.","title":"Writing to HDFS could only be replicated to 0 nodes instead of minReplication (=1)","body":"<p>I had this problem and I solved it as bellow:</p>\n\n<ol>\n<li><p>Find where are your datanode and namenode metadata/data saved; if you cannot find it, simply do this command on mac to find it (there are located in a folder called \"tmp\")</p>\n\n<p><strong>find /usr/local/Cellar/ -name \"tmp\";</strong>   </p>\n\n<p>find command is like this: find &lt;\"directory\"> -name &lt;\"any string clue for that directory or file\"></p></li>\n<li><p>After finding that file, cd into it.\n/usr/local/Cellar//hadoop/hdfs/tmp</p>\n\n<p>then cd to dfs</p>\n\n<p>then using -ls command see that data and name directories are located there.</p></li>\n<li><p>Using remove command, remove them both:</p>\n\n<p><strong>rm -R data .      and      rm -R name</strong></p></li>\n<li><p>Go to bin folder and end everything if you already have not done it:</p>\n\n<p><strong>sbin/end-dfs.sh</strong></p></li>\n<li><p>Exit from the server or localhost.</p></li>\n<li><p>Log into the server again: ssh &lt;\"server name\"></p></li>\n<li><p>start the dfs:</p>\n\n<p><strong>sbin/start-dfs.sh</strong></p></li>\n<li><p>Format the namenode for being sure:</p>\n\n<p><strong>bin/hdfs namenode -format</strong></p></li>\n<li><p>you can now use hdfs commands to upload your data into dfs and run MapReduce jobs.</p></li>\n</ol>\n"},{"comments":[{"owner":{"account_id":9552240,"reputation":392,"user_id":7096004,"display_name":"benaou mouad"},"score":1,"creation_date":1584909253,"post_id":54923444,"comment_id":107578965,"body_markdown":"can you be more specific , which protocole should I use , and the name of the programme ...","body":"can you be more specific , which protocole should I use , and the name of the programme ..."},{"owner":{"account_id":12449354,"reputation":813,"user_id":9064636,"display_name":"Averell"},"score":0,"creation_date":1585622081,"post_id":54923444,"comment_id":107819437,"body_markdown":"Thanks. I got the same error message as the OP, while all my datanodes are healthy. It turned out that the master could not connect to those datanodes on port 50010.","body":"Thanks. I got the same error message as the OP, while all my datanodes are healthy. It turned out that the master could not connect to those datanodes on port 50010."}],"tags":[],"owner":{"account_id":106641,"reputation":2427,"user_id":283998,"accept_rate":80,"display_name":"fracca"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1551349673,"creation_date":1551349673,"answer_id":54923444,"question_id":15571584,"body_markdown":"In my case, this issue was resolved by opening the firewall port on 50010 on the datanodes.","title":"Writing to HDFS could only be replicated to 0 nodes instead of minReplication (=1)","body":"<p>In my case, this issue was resolved by opening the firewall port on 50010 on the datanodes.</p>\n"},{"tags":[],"owner":{"account_id":6339270,"reputation":503,"user_id":4934659,"accept_rate":83,"display_name":"SparkleGoat"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1610729468,"creation_date":1610729468,"answer_id":65740209,"question_id":15571584,"body_markdown":"In my case the dfs.datanode.du.reserved in the hdfs-site.xml was too large as well as the name node giving out the private ip address of the data node so it could not route properly. The solution to the private ip was to switch the docker container to host network and place the hostname in the host properties of the config files.\r\n\r\nThis goes over other possibilities\r\n[Stack Question on replication issue](https://stackoverflow.com/questions/36015864/hadoop-be-replicated-to-0-nodes-instead-of-minreplication-1-there-are-1/36310025)","title":"Writing to HDFS could only be replicated to 0 nodes instead of minReplication (=1)","body":"<p>In my case the dfs.datanode.du.reserved in the hdfs-site.xml was too large as well as the name node giving out the private ip address of the data node so it could not route properly. The solution to the private ip was to switch the docker container to host network and place the hostname in the host properties of the config files.</p>\n<p>This goes over other possibilities\n<a href=\"https://stackoverflow.com/questions/36015864/hadoop-be-replicated-to-0-nodes-instead-of-minreplication-1-there-are-1/36310025\">Stack Question on replication issue</a></p>\n"},{"tags":[],"owner":{"account_id":18301226,"reputation":35,"user_id":13325970,"display_name":"alD"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666751387,"creation_date":1666751387,"answer_id":74202076,"question_id":15571584,"body_markdown":"The answers saying to open port numbered `50010` *might* only apply to an older version of Hadoop. I&#39;m using Hadoop version `3.3.4` and the port you should open to fix this error is `9866`. You need to open this port on all of the Hadoop dataNodes.\r\nHere&#39;s a code snippet you can use in RHEL 8:\r\n\r\n    sudo firewall-cmd --zone=public --permanent --add-port 9866/tcp\r\n    sudo firewall-cmd --reload","title":"Writing to HDFS could only be replicated to 0 nodes instead of minReplication (=1)","body":"<p>The answers saying to open port numbered <code>50010</code> <em>might</em> only apply to an older version of Hadoop. I'm using Hadoop version <code>3.3.4</code> and the port you should open to fix this error is <code>9866</code>. You need to open this port on all of the Hadoop dataNodes.\nHere's a code snippet you can use in RHEL 8:</p>\n<pre><code>sudo firewall-cmd --zone=public --permanent --add-port 9866/tcp\nsudo firewall-cmd --reload\n</code></pre>\n"}],"owner":{"account_id":207189,"reputation":1597,"user_id":456917,"accept_rate":39,"display_name":"Ashish Sharma"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71801,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"accepted_answer_id":24583936,"answer_count":9,"score":28,"last_activity_date":1666751387,"creation_date":1363958959,"question_id":15571584,"body_markdown":"I have 3 data nodes running, while running a job i am getting the following given below error ,\r\n\r\n&gt; \r\njava.io.IOException: File /user/ashsshar/olhcache/loaderMap9b663bd9 could only be replicated to 0 nodes instead of minReplication (=1).  There are 3 datanode(s) running and 3 node(s) are excluded in this operation.\r\n        at org.apache.hadoop.hdfs.server.blockmanagement.BlockManager.chooseTarget(BlockManager.java:1325)\r\n\r\n\r\nThis error mainly comes when our DataNode instances have ran out of space or if DataNodes are not running.\r\nI tried restarting the DataNodes but still getting the same error.\r\n\r\ndfsadmin -reports  at my cluster nodes clearly shows a lots of space is available.\r\n\r\nI am not sure why this is happending.\r\n\r\n","title":"Writing to HDFS could only be replicated to 0 nodes instead of minReplication (=1)","body":"<p>I have 3 data nodes running, while running a job i am getting the following given below error ,</p>\n\n<blockquote>\n  <p>java.io.IOException: File /user/ashsshar/olhcache/loaderMap9b663bd9 could only be replicated to 0 nodes instead of minReplication (=1).  There are 3 datanode(s) running and 3 node(s) are excluded in this operation.\n          at org.apache.hadoop.hdfs.server.blockmanagement.BlockManager.chooseTarget(BlockManager.java:1325)</p>\n</blockquote>\n\n<p>This error mainly comes when our DataNode instances have ran out of space or if DataNodes are not running.\nI tried restarting the DataNodes but still getting the same error.</p>\n\n<p>dfsadmin -reports  at my cluster nodes clearly shows a lots of space is available.</p>\n\n<p>I am not sure why this is happending.</p>\n"},{"tags":["java","primes"],"comments":[{"owner":{"account_id":18725445,"reputation":100,"user_id":15050200,"display_name":"space-ninja-x"},"score":0,"creation_date":1666751276,"post_id":74201398,"comment_id":131008539,"body_markdown":"The 2 answers posted, contain working code and an explanation.\nI would like to suggest that you try working out the problem (in fact, any problem) on paper first. It will help you loads! Like, how do YOU know that 6 is the largest difference?? If you understand how you arrived at your conclusion, you will be able to write the code.","body":"The 2 answers posted, contain working code and an explanation. I would like to suggest that you try working out the problem (in fact, any problem) on paper first. It will help you loads! Like, how do YOU know that 6 is the largest difference?? If you understand how you arrived at your conclusion, you will be able to write the code."}],"answers":[{"tags":[],"owner":{"account_id":22807677,"reputation":414,"user_id":16959486,"display_name":"Teddy Tsai"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666747812,"creation_date":1666747812,"answer_id":74201764,"question_id":74201398,"body_markdown":"You do not need a double loop, think about the problem, what you are doing is only calculating the differenct between a number and the one after it.\r\n\r\nYou only need to store one local variable max, assign a new value to max each time the difference is bigger than max.\r\n\r\nIt is also unclear what your input is, where does the list of primes come from&gt;? Is n the size of the list of primes starting from 2?","title":"How to find the maximum distance in a set on consecutive prime numbers?","body":"<p>You do not need a double loop, think about the problem, what you are doing is only calculating the differenct between a number and the one after it.</p>\n<p>You only need to store one local variable max, assign a new value to max each time the difference is bigger than max.</p>\n<p>It is also unclear what your input is, where does the list of primes come from&gt;? Is n the size of the list of primes starting from 2?</p>\n"},{"tags":[],"owner":{"account_id":25329751,"reputation":1,"user_id":19149728,"display_name":"pageqiu009"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666749917,"creation_date":1666749917,"answer_id":74201939,"question_id":74201398,"body_markdown":"I think you want code like this:\r\n\r\n    \tList&lt;Integer&gt; primeList = new ArrayList&lt;&gt;();\r\n\t\tprimeList.add(2);\r\n\t\tprimeList.add(3);\r\n\t\tprimeList.add(5);\r\n\t\tprimeList.add(7);\r\n\t\tprimeList.add(11);\r\n\t\tprimeList.add(13);\r\n\t\tprimeList.add(17);\r\n\t\tprimeList.add(19);\r\n\t\tprimeList.add(23);\r\n\t\tprimeList.add(29);\r\n\r\n\t\tint distance = 0;\r\n\t\tfor(int i=1;i &lt;primeList.size();i++) {\r\n\t\t\tint tempDistance = primeList.get(i)-primeList.get(i-1);\r\n\t\t\tif (tempDistance&gt;distance) {\r\n\t\t\t\tdistance = tempDistance;\r\n\t\t\t}\r\n\t\t}\r\n\t\tSystem.out.println(distance);\r\n\t}","title":"How to find the maximum distance in a set on consecutive prime numbers?","body":"<p>I think you want code like this:</p>\n<pre><code>    List&lt;Integer&gt; primeList = new ArrayList&lt;&gt;();\n    primeList.add(2);\n    primeList.add(3);\n    primeList.add(5);\n    primeList.add(7);\n    primeList.add(11);\n    primeList.add(13);\n    primeList.add(17);\n    primeList.add(19);\n    primeList.add(23);\n    primeList.add(29);\n\n    int distance = 0;\n    for(int i=1;i &lt;primeList.size();i++) {\n        int tempDistance = primeList.get(i)-primeList.get(i-1);\n        if (tempDistance&gt;distance) {\n            distance = tempDistance;\n        }\n    }\n    System.out.println(distance);\n}\n</code></pre>\n"}],"owner":{"display_name":"user20146539"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":226,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1666749917,"creation_date":1666743168,"question_id":74201398,"body_markdown":"I am writing a method that finds the largest distance in a consecutive set of prime numbers. For example, if the set is 2,3,5,7,11,13,17,19,23,29; the method would return 6 because the greatest distance within the set is 6 (23-29).\r\n\r\nMy code so far is:\r\n     \r\n\r\n     public static double primeSpace(int n)\r\n    {\r\n        int i = 0;\r\n        int Prime1;\r\n        int Prime2;\r\n        while (i &lt;= 0)\r\n        {\r\n            for(; i &lt;= n; i++)\r\n            {\r\n                if (isPrime(n))\r\n                {\r\n                    Prime1 = n;\r\n                    \r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n\r\nSo as is obvious, I am not sure of how to store a value for prime2 so I can subtract and after that I am lost.","title":"How to find the maximum distance in a set on consecutive prime numbers?","body":"<p>I am writing a method that finds the largest distance in a consecutive set of prime numbers. For example, if the set is 2,3,5,7,11,13,17,19,23,29; the method would return 6 because the greatest distance within the set is 6 (23-29).</p>\n<p>My code so far is:</p>\n<pre><code> public static double primeSpace(int n)\n{\n    int i = 0;\n    int Prime1;\n    int Prime2;\n    while (i &lt;= 0)\n    {\n        for(; i &lt;= n; i++)\n        {\n            if (isPrime(n))\n            {\n                Prime1 = n;\n                \n            }\n        }\n    }\n\n}\n</code></pre>\n<p>So as is obvious, I am not sure of how to store a value for prime2 so I can subtract and after that I am lost.</p>\n"},{"tags":["java","colors","set","overlay","tiff"],"answers":[{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666749823,"creation_date":1341016961,"answer_id":11270571,"question_id":11270150,"body_markdown":"You can make the `Color.white` pixels transparent using `RGBImageFilter`, shown [here][1], or `LookupOp`, mentioned [here][2]. Then you can use the `AlphaComposite.SRC_OVER` rule to combine the images. [`AlphaCompositeDemo`][3] is an example that lets one explore the available modes, and there&#39;s related example [here][4]. Of course, you&#39;ll need to profile both approaches to see which is faster.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/4380790/230513\r\n  [2]: https://stackoverflow.com/a/4383798/230513\r\n  [3]: https://sites.google.com/site/drjohnbmatthews/composite\r\n  [4]: https://stackoverflow.com/a/7824225/230513","title":"What is high performance for creating a TIF image from a background TIF and a foreground TIF in java","body":"<p>You can make the <code>Color.white</code> pixels transparent using <code>RGBImageFilter</code>, shown <a href=\"https://stackoverflow.com/a/4380790/230513\">here</a>, or <code>LookupOp</code>, mentioned <a href=\"https://stackoverflow.com/a/4383798/230513\">here</a>. Then you can use the <code>AlphaComposite.SRC_OVER</code> rule to combine the images. <a href=\"https://sites.google.com/site/drjohnbmatthews/composite\" rel=\"nofollow noreferrer\"><code>AlphaCompositeDemo</code></a> is an example that lets one explore the available modes, and there's related example <a href=\"https://stackoverflow.com/a/7824225/230513\">here</a>. Of course, you'll need to profile both approaches to see which is faster.</p>\n"}],"owner":{"account_id":1614165,"reputation":1,"user_id":1492318,"display_name":"Caliboy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666749823,"creation_date":1341012460,"question_id":11270150,"body_markdown":"I have two TIF files, one is background (overlay) and the other is foreground. The following code is currently used for combining two TIFs.\r\n\r\n\t\t// Background color of foreground image\r\n\t\tint w = Color.WHITE.getRGB();\r\n\r\n\t\t// Fill all pixels which are not background color\r\n\t\tfor (int i = 0; i &lt; foregroundImage.getWidth(); i++)\r\n\t\t{\r\n\t\t\tfor (int j = 0; j &lt; foregroundImage.getHeight(); j++)\r\n\t\t\t{\r\n\t\t\t\tint x = foregroundImage.getRGB(i, j);\r\n\t\t\t\tif (x != w)\r\n\t\t\t\t\tbackgroundImage.setRGB(i, j, x);\r\n\t\t\t}\r\n\t\t}\r\n\r\nIs there any other way that has a better performance to do this?\r\n\r\n","title":"What is high performance for creating a TIF image from a background TIF and a foreground TIF in java","body":"<p>I have two TIF files, one is background (overlay) and the other is foreground. The following code is currently used for combining two TIFs.</p>\n\n<pre><code>    // Background color of foreground image\n    int w = Color.WHITE.getRGB();\n\n    // Fill all pixels which are not background color\n    for (int i = 0; i &lt; foregroundImage.getWidth(); i++)\n    {\n        for (int j = 0; j &lt; foregroundImage.getHeight(); j++)\n        {\n            int x = foregroundImage.getRGB(i, j);\n            if (x != w)\n                backgroundImage.setRGB(i, j, x);\n        }\n    }\n</code></pre>\n\n<p>Is there any other way that has a better performance to do this?</p>\n"},{"tags":["java","junit","hamcrest"],"answers":[{"comments":[{"owner":{"account_id":979173,"reputation":981,"user_id":999371,"accept_rate":89,"display_name":"Eyad Ebrahim"},"score":0,"creation_date":1412620218,"post_id":21628859,"comment_id":41126426,"body_markdown":"+1 for the &quot;If you really want to call that same method with the contents of a List&quot;. Sadly I couldn&#39;t get that solved myself. Specially that there is a constructor that takes in a collection.","body":"+1 for the &quot;If you really want to call that same method with the contents of a List&quot;. Sadly I couldn&#39;t get that solved myself. Specially that there is a constructor that takes in a collection."},{"owner":{"account_id":379763,"reputation":29886,"user_id":733345,"display_name":"Joe"},"score":4,"creation_date":1436265445,"post_id":21628859,"comment_id":50527203,"body_markdown":"@Tim Not quite; `containsInAnyOrder` requires that *all* elements are present, so that first assertion will fail. See `hasItems` if you want to check that *at least* those elements are present.","body":"@Tim Not quite; <code>containsInAnyOrder</code> requires that <i>all</i> elements are present, so that first assertion will fail. See <code>hasItems</code> if you want to check that <i>at least</i> those elements are present."},{"owner":{"account_id":2552047,"reputation":3028,"user_id":2215617,"accept_rate":71,"display_name":"Martin"},"score":4,"creation_date":1448033483,"post_id":21628859,"comment_id":55425672,"body_markdown":"If you use containsInAnyOrder, you should first make sure both lists have the same size... If `actual.getList()` happens to contain `&quot;item1&quot;, &quot;item3&quot;, &quot;item2&quot;`, the test will pass and maybe you want to make sure it only contains the items listed... In that case you could use `assertThat(actual.getList().size(), equalTo(2));` before the containsInAnyOrder, this way you make sure both lists have the same contents.","body":"If you use containsInAnyOrder, you should first make sure both lists have the same size... If <code>actual.getList()</code> happens to contain <code>&quot;item1&quot;, &quot;item3&quot;, &quot;item2&quot;</code>, the test will pass and maybe you want to make sure it only contains the items listed... In that case you could use <code>assertThat(actual.getList().size(), equalTo(2));</code> before the containsInAnyOrder, this way you make sure both lists have the same contents."},{"owner":{"account_id":379763,"reputation":29886,"user_id":733345,"display_name":"Joe"},"score":2,"creation_date":1448088226,"post_id":21628859,"comment_id":55445997,"body_markdown":"@Martin you&#39;re thinking of `hasItems`. The extra check is unnecessary here. See the comment to Tim above, and also [How do Hamcrest&#39;s hasItems, contains and containsInAnyOrder differ?](http://stackoverflow.com/q/33840531/733345)","body":"@Martin you&#39;re thinking of <code>hasItems</code>. The extra check is unnecessary here. See the comment to Tim above, and also <a href=\"http://stackoverflow.com/q/33840531/733345\">How do Hamcrest&#39;s hasItems, contains and containsInAnyOrder differ?</a>"},{"owner":{"account_id":1623435,"reputation":151,"user_id":1499537,"display_name":"James Bowman"},"score":4,"creation_date":1544470798,"post_id":21628859,"comment_id":94279472,"body_markdown":"**Kotlin users**: don&#39;t forget to add the spread operator (`*expectedList.toTypedArray()`) when passing an array as varargs!","body":"<b>Kotlin users</b>: don&#39;t forget to add the spread operator (<code>*expectedList.toTypedArray()</code>) when passing an array as varargs!"},{"owner":{"account_id":5379853,"reputation":535,"user_id":4285435,"display_name":"MarkAddison"},"score":0,"creation_date":1665656155,"post_id":21628859,"comment_id":130752876,"body_markdown":"Can I draw your attention to https://stackoverflow.com/questions/68107741/hamcrest-matchers-containsinanyorder-does-not-work\n\nI tried the above and was dealing with a significantly more complex list of items to match - the answer here resolved me issue","body":"Can I draw your attention to <a href=\"https://stackoverflow.com/questions/68107741/hamcrest-matchers-containsinanyorder-does-not-work\" title=\"hamcrest matchers containsinanyorder does not work\">stackoverflow.com/questions/68107741/&hellip;</a>  I tried the above and was dealing with a significantly more complex list of items to match - the answer here resolved me issue"}],"tags":[],"owner":{"account_id":379763,"reputation":29886,"user_id":733345,"display_name":"Joe"},"comment_count":6,"down_vote_count":1,"up_vote_count":205,"is_accepted":true,"score":204,"last_activity_date":1391779260,"creation_date":1391779260,"answer_id":21628859,"question_id":21624592,"body_markdown":"If you want to assert that the two lists are identical, don&#39;t complicate things with Hamcrest:\r\n\r\n    assertEquals(expectedList, actual.getList());\r\n\r\nIf you really intend to perform an order-insensitive comparison, you can call the `containsInAnyOrder` varargs method and provide values directly:\r\n\r\n    assertThat(actual.getList(), containsInAnyOrder(&quot;item1&quot;, &quot;item2&quot;));\r\n\r\n(Assuming that your list is of `String`, rather than `Agent`, for this example.)\r\n\r\nIf you really want to call that same method with the contents of a `List`:\r\n\r\n    assertThat(actual.getList(), containsInAnyOrder(expectedList.toArray(new String[expectedList.size()]));\r\n\r\nWithout this, you&#39;re calling the method with a single argument and creating a `Matcher` that expects to match an `Iterable` where *each element* is a `List`. This can&#39;t be used to match a `List`.\r\n\r\nThat is, you can&#39;t match a `List&lt;Agent&gt;` with a `Matcher&lt;Iterable&lt;List&lt;Agent&gt;&gt;`, which is what your code is attempting.\r\n","title":"Hamcrest compare collections","body":"<p>If you want to assert that the two lists are identical, don't complicate things with Hamcrest:</p>\n\n<pre><code>assertEquals(expectedList, actual.getList());\n</code></pre>\n\n<p>If you really intend to perform an order-insensitive comparison, you can call the <code>containsInAnyOrder</code> varargs method and provide values directly:</p>\n\n<pre><code>assertThat(actual.getList(), containsInAnyOrder(\"item1\", \"item2\"));\n</code></pre>\n\n<p>(Assuming that your list is of <code>String</code>, rather than <code>Agent</code>, for this example.)</p>\n\n<p>If you really want to call that same method with the contents of a <code>List</code>:</p>\n\n<pre><code>assertThat(actual.getList(), containsInAnyOrder(expectedList.toArray(new String[expectedList.size()]));\n</code></pre>\n\n<p>Without this, you're calling the method with a single argument and creating a <code>Matcher</code> that expects to match an <code>Iterable</code> where <em>each element</em> is a <code>List</code>. This can't be used to match a <code>List</code>.</p>\n\n<p>That is, you can't match a <code>List&lt;Agent&gt;</code> with a <code>Matcher&lt;Iterable&lt;List&lt;Agent&gt;&gt;</code>, which is what your code is attempting.</p>\n"},{"tags":[],"owner":{"account_id":482605,"reputation":7823,"user_id":897090,"accept_rate":70,"display_name":"Nelson Tatius"},"comment_count":0,"down_vote_count":1,"up_vote_count":84,"is_accepted":false,"score":83,"last_activity_date":1534873175,"creation_date":1425180348,"answer_id":28789747,"question_id":21624592,"body_markdown":"    List&lt;Long&gt; actual = Arrays.asList(1L, 2L);\r\n    List&lt;Long&gt; expected = Arrays.asList(2L, 1L);\r\n    assertThat(actual, containsInAnyOrder(expected.toArray()));\r\n\r\nShorter version of @Joe&#39;s answer without redundant parameters.","title":"Hamcrest compare collections","body":"<pre><code>List&lt;Long&gt; actual = Arrays.asList(1L, 2L);\nList&lt;Long&gt; expected = Arrays.asList(2L, 1L);\nassertThat(actual, containsInAnyOrder(expected.toArray()));\n</code></pre>\n\n<p>Shorter version of @Joe's answer without redundant parameters.</p>\n"},{"comments":[{"owner":{"account_id":2287025,"reputation":545,"user_id":2010794,"display_name":"kamczak"},"score":0,"creation_date":1453381633,"post_id":33656283,"comment_id":57582678,"body_markdown":"This does not answer the question.","body":"This does not answer the question."},{"owner":{"account_id":1230894,"reputation":2364,"user_id":1195507,"accept_rate":100,"display_name":"rvazquezglez"},"score":0,"creation_date":1478052453,"post_id":33656283,"comment_id":67996248,"body_markdown":"It partially does.","body":"It partially does."},{"owner":{"account_id":6429844,"reputation":3522,"user_id":4983501,"accept_rate":41,"display_name":"niaomingjian"},"score":0,"creation_date":1494906843,"post_id":33656283,"comment_id":75013138,"body_markdown":"@rvazquezglez What do you mean? Why do you say that? The result of the method is right in my environment.","body":"@rvazquezglez What do you mean? Why do you say that? The result of the method is right in my environment."},{"owner":{"account_id":1230894,"reputation":2364,"user_id":1195507,"accept_rate":100,"display_name":"rvazquezglez"},"score":0,"creation_date":1495038838,"post_id":33656283,"comment_id":75087208,"body_markdown":"@niaomingjian The code is checking that the `actualList` contains the elements inside of `contains` matcher, that will fail if the elements are not in the same order and will fail too if it contains more elements or is missing one.","body":"@niaomingjian The code is checking that the <code>actualList</code> contains the elements inside of <code>contains</code> matcher, that will fail if the elements are not in the same order and will fail too if it contains more elements or is missing one."},{"owner":{"account_id":6429844,"reputation":3522,"user_id":4983501,"accept_rate":41,"display_name":"niaomingjian"},"score":0,"creation_date":1495069164,"post_id":33656283,"comment_id":75100514,"body_markdown":"@rvazquezglez so the purpose of the code is to examine the exact equality(same lengths, values and order) in two lists, right?","body":"@rvazquezglez so the purpose of the code is to examine the exact equality(same lengths, values and order) in two lists, right?"},{"owner":{"account_id":1230894,"reputation":2364,"user_id":1195507,"accept_rate":100,"display_name":"rvazquezglez"},"score":0,"creation_date":1495172023,"post_id":33656283,"comment_id":75148842,"body_markdown":"@niaomingjian right, I added some other hamcrest methods in a separate answer for when you want to compare other aspects of a list and its contents","body":"@niaomingjian right, I added some other hamcrest methods in a separate answer for when you want to compare other aspects of a list and its contents"}],"tags":[],"owner":{"account_id":5055569,"reputation":3946,"user_id":4058910,"accept_rate":23,"display_name":"Shravan Ramamurthy"},"comment_count":6,"down_vote_count":9,"up_vote_count":3,"is_accepted":false,"score":-6,"last_activity_date":1625685763,"creation_date":1447262885,"answer_id":33656283,"question_id":21624592,"body_markdown":"To compare two lists with the order preserved (strict order) use.\r\n\r\n    assertThat(actualList, contains(&quot;item1&quot;,&quot;item2&quot;));\r\n\r\nIf we want to compare without a specific order we can use below command\r\n\r\n    assertThat(collection, containsInAnyOrder(&quot;item1&quot;,&quot;item2&quot;));","title":"Hamcrest compare collections","body":"<p>To compare two lists with the order preserved (strict order) use.</p>\n<pre><code>assertThat(actualList, contains(&quot;item1&quot;,&quot;item2&quot;));\n</code></pre>\n<p>If we want to compare without a specific order we can use below command</p>\n<pre><code>assertThat(collection, containsInAnyOrder(&quot;item1&quot;,&quot;item2&quot;));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8897,"reputation":11219,"user_id":16206,"accept_rate":78,"display_name":"borjab"},"comment_count":0,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1457550731,"creation_date":1457550050,"answer_id":35900341,"question_id":21624592,"body_markdown":"For list of objects you may need something like this: \n\n    import static org.hamcrest.MatcherAssert.assertThat;\n    import static org.hamcrest.Matchers.contains;\n    import static org.hamcrest.Matchers.allOf;\n    import static org.hamcrest.beans.HasPropertyWithValue.hasProperty;\n    import static org.hamcrest.Matchers.is;\n\n    @Test\n    @SuppressWarnings(&quot;unchecked&quot;)\n    public void test_returnsList(){\n\n        arrange();\n      \n        List&lt;MyBean&gt; myList = act();\n        \n        assertThat(myList , contains(allOf(hasProperty(&quot;id&quot;,          is(7L)), \n                                           hasProperty(&quot;name&quot;,        is(&quot;testName1&quot;)),\n                                           hasProperty(&quot;description&quot;, is(&quot;testDesc1&quot;))),\n                                     allOf(hasProperty(&quot;id&quot;,          is(11L)), \n                                           hasProperty(&quot;name&quot;,        is(&quot;testName2&quot;)),\n                                           hasProperty(&quot;description&quot;, is(&quot;testDesc2&quot;)))));\n    }\n\nUse [containsInAnyOrder][1] if you do not want to check the order of the objects.\n\nP.S. Any help to avoid the warning that is suppresed will be really appreciated.\n\n  [1]: http://hamcrest.org/JavaHamcrest/javadoc/1.3/org/hamcrest/Matchers.html#containsInAnyOrder(org.hamcrest.Matcher...)","title":"Hamcrest compare collections","body":"<p>For list of objects you may need something like this:</p>\n<pre><code>import static org.hamcrest.MatcherAssert.assertThat;\nimport static org.hamcrest.Matchers.contains;\nimport static org.hamcrest.Matchers.allOf;\nimport static org.hamcrest.beans.HasPropertyWithValue.hasProperty;\nimport static org.hamcrest.Matchers.is;\n\n@Test\n@SuppressWarnings(&quot;unchecked&quot;)\npublic void test_returnsList(){\n\n    arrange();\n  \n    List&lt;MyBean&gt; myList = act();\n    \n    assertThat(myList , contains(allOf(hasProperty(&quot;id&quot;,          is(7L)), \n                                       hasProperty(&quot;name&quot;,        is(&quot;testName1&quot;)),\n                                       hasProperty(&quot;description&quot;, is(&quot;testDesc1&quot;))),\n                                 allOf(hasProperty(&quot;id&quot;,          is(11L)), \n                                       hasProperty(&quot;name&quot;,        is(&quot;testName2&quot;)),\n                                       hasProperty(&quot;description&quot;, is(&quot;testDesc2&quot;)))));\n}\n</code></pre>\n<p>Use <a href=\"http://hamcrest.org/JavaHamcrest/javadoc/1.3/org/hamcrest/Matchers.html#containsInAnyOrder(org.hamcrest.Matcher...)\" rel=\"nofollow noreferrer\">containsInAnyOrder</a> if you do not want to check the order of the objects.</p>\n<p>P.S. Any help to avoid the warning that is suppresed will be really appreciated.</p>\n"},{"comments":[{"owner":{"account_id":13250,"reputation":6025,"user_id":26494,"accept_rate":49,"display_name":"pihentagy"},"score":4,"creation_date":1473254627,"post_id":38262680,"comment_id":66070271,"body_markdown":"Nice one, I will use this helper. The assert message here is more informative: it names the missing items one-by-one, not just: the list should be elem1, elem2, .. elem99, but I got elem1, elem2, ..., elem98 -- good luck finding the missing one.","body":"Nice one, I will use this helper. The assert message here is more informative: it names the missing items one-by-one, not just: the list should be elem1, elem2, .. elem99, but I got elem1, elem2, ..., elem98 -- good luck finding the missing one."}],"tags":[],"owner":{"account_id":112936,"reputation":2411,"user_id":297710,"display_name":"yvolk"},"comment_count":1,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1467968278,"creation_date":1467968278,"answer_id":38262680,"question_id":21624592,"body_markdown":"With existing Hamcrest libraries (as of v.2.0.0.0) you are forced to use Collection.toArray() method on your Collection in order to use containsInAnyOrder Matcher.\r\nFar nicer would be to add this as a separate method to org.hamcrest.Matchers:\r\n\r\n    public static &lt;T&gt; org.hamcrest.Matcher&lt;java.lang.Iterable&lt;? extends T&gt;&gt; containsInAnyOrder(Collection&lt;T&gt; items) {\r\n        return org.hamcrest.collection.IsIterableContainingInAnyOrder.&lt;T&gt;containsInAnyOrder((T[]) items.toArray());\r\n    }\r\n\r\nActually I ended up adding this method to my custom test library and use it to increase readability of my test cases (due to less verbosity).","title":"Hamcrest compare collections","body":"<p>With existing Hamcrest libraries (as of v.2.0.0.0) you are forced to use Collection.toArray() method on your Collection in order to use containsInAnyOrder Matcher.\nFar nicer would be to add this as a separate method to org.hamcrest.Matchers:</p>\n\n<pre><code>public static &lt;T&gt; org.hamcrest.Matcher&lt;java.lang.Iterable&lt;? extends T&gt;&gt; containsInAnyOrder(Collection&lt;T&gt; items) {\n    return org.hamcrest.collection.IsIterableContainingInAnyOrder.&lt;T&gt;containsInAnyOrder((T[]) items.toArray());\n}\n</code></pre>\n\n<p>Actually I ended up adding this method to my custom test library and use it to increase readability of my test cases (due to less verbosity).</p>\n"},{"comments":[{"owner":{"account_id":10114868,"reputation":720,"user_id":7473896,"display_name":"Stanislav Tsepa"},"score":1,"creation_date":1548925367,"post_id":44030511,"comment_id":95721707,"body_markdown":"Great decision in case list items are not of primitive type.","body":"Great decision in case list items are not of primitive type."},{"owner":{"account_id":18687,"reputation":1624,"user_id":43046,"accept_rate":65,"display_name":"andresp"},"score":2,"creation_date":1596050249,"post_id":44030511,"comment_id":111689023,"body_markdown":"Is there a type safe way of doing this?","body":"Is there a type safe way of doing this?"}],"tags":[],"owner":{"account_id":1230894,"reputation":2364,"user_id":1195507,"accept_rate":100,"display_name":"rvazquezglez"},"comment_count":2,"down_vote_count":0,"up_vote_count":49,"is_accepted":false,"score":49,"last_activity_date":1666749491,"creation_date":1495039244,"answer_id":44030511,"question_id":21624592,"body_markdown":"To complement @Joe&#39;s answer:\r\n\r\nHamcrest provides you with four main methods to match a list:\r\n\r\n`contains` Checks for matching all the elements considering the order. If the list has more or fewer elements, it will fail\r\n\r\n`containsInAnyOrder` Checks for matching all the elements, and it doesn&#39;t matter the order. If the list has more or fewer elements, will fail\r\n\r\n`hasItems` Checks just for the specified objects it doesn&#39;t matter if the list has more\r\n\r\n`hasItem` Checks just for one object it doesn&#39;t matter if the list has more\r\n\r\nAll of them can receive a list of objects and use the `equals` method for comparison or can be mixed with other matchers like @borjab mentioned:\r\n\r\n    assertThat(myList , contains(allOf(hasProperty(&quot;id&quot;, is(7L)), \r\n                                       hasProperty(&quot;name&quot;, is(&quot;testName1&quot;)),\r\n                                       hasProperty(&quot;description&quot;, is(&quot;testDesc1&quot;))),\r\n                                 allOf(hasProperty(&quot;id&quot;, is(11L)), \r\n                                       hasProperty(&quot;name&quot;, is(&quot;testName2&quot;)),\r\n                                       hasProperty(&quot;description&quot;, is(&quot;testDesc2&quot;)))));\r\n\r\nhttp://hamcrest.org/JavaHamcrest/javadoc/1.3/org/hamcrest/Matchers.html#contains(E...)\r\nhttp://hamcrest.org/JavaHamcrest/javadoc/1.3/org/hamcrest/Matchers.html#containsInAnyOrder(java.util.Collection)\r\nhttp://hamcrest.org/JavaHamcrest/javadoc/1.3/org/hamcrest/Matchers.html#hasItems(T...)","title":"Hamcrest compare collections","body":"<p>To complement @Joe's answer:</p>\n<p>Hamcrest provides you with four main methods to match a list:</p>\n<p><code>contains</code> Checks for matching all the elements considering the order. If the list has more or fewer elements, it will fail</p>\n<p><code>containsInAnyOrder</code> Checks for matching all the elements, and it doesn't matter the order. If the list has more or fewer elements, will fail</p>\n<p><code>hasItems</code> Checks just for the specified objects it doesn't matter if the list has more</p>\n<p><code>hasItem</code> Checks just for one object it doesn't matter if the list has more</p>\n<p>All of them can receive a list of objects and use the <code>equals</code> method for comparison or can be mixed with other matchers like @borjab mentioned:</p>\n<pre><code>assertThat(myList , contains(allOf(hasProperty(&quot;id&quot;, is(7L)), \n                                   hasProperty(&quot;name&quot;, is(&quot;testName1&quot;)),\n                                   hasProperty(&quot;description&quot;, is(&quot;testDesc1&quot;))),\n                             allOf(hasProperty(&quot;id&quot;, is(11L)), \n                                   hasProperty(&quot;name&quot;, is(&quot;testName2&quot;)),\n                                   hasProperty(&quot;description&quot;, is(&quot;testDesc2&quot;)))));\n</code></pre>\n<p><a href=\"http://hamcrest.org/JavaHamcrest/javadoc/1.3/org/hamcrest/Matchers.html#contains(E...)\" rel=\"noreferrer\">http://hamcrest.org/JavaHamcrest/javadoc/1.3/org/hamcrest/Matchers.html#contains(E...)</a>\n<a href=\"http://hamcrest.org/JavaHamcrest/javadoc/1.3/org/hamcrest/Matchers.html#containsInAnyOrder(java.util.Collection)\" rel=\"noreferrer\">http://hamcrest.org/JavaHamcrest/javadoc/1.3/org/hamcrest/Matchers.html#containsInAnyOrder(java.util.Collection)</a>\n<a href=\"http://hamcrest.org/JavaHamcrest/javadoc/1.3/org/hamcrest/Matchers.html#hasItems(T...)\" rel=\"noreferrer\">http://hamcrest.org/JavaHamcrest/javadoc/1.3/org/hamcrest/Matchers.html#hasItems(T...)</a></p>\n"},{"tags":[],"owner":{"account_id":93757,"reputation":458,"user_id":256365,"accept_rate":75,"display_name":"Jim Jarrett"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1601761649,"creation_date":1507826852,"answer_id":46714949,"question_id":21624592,"body_markdown":"Make sure that the `Object`s in your list have `equals()` defined on them. Then\r\n\r\n    assertThat(generatedList, is(equalTo(expectedList)));\r\n\r\nworks.","title":"Hamcrest compare collections","body":"<p>Make sure that the <code>Object</code>s in your list have <code>equals()</code> defined on them. Then</p>\n<pre><code>assertThat(generatedList, is(equalTo(expectedList)));\n</code></pre>\n<p>works.</p>\n"}],"owner":{"account_id":1214616,"reputation":3054,"user_id":1182469,"accept_rate":87,"display_name":"xander27"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":166133,"favorite_count":0,"down_vote_count":1,"up_vote_count":150,"accepted_answer_id":21628859,"answer_count":7,"score":149,"last_activity_date":1666749491,"creation_date":1391767207,"question_id":21624592,"body_markdown":"I&#39;m trying to compare 2 lists:\r\n\r\n    assertThat(actual.getList(), is(Matchers.containsInAnyOrder(expectedList)));\r\n\r\nBut idea \r\n\r\n    java: no suitable method found for assertThat(java.util.List&lt;Agent&gt;,org.hamcrest.Matcher&lt;java.lang.Iterable&lt;? extends model.Agents&gt;&gt;)\r\n    method org.junit.Assert.&lt;T&gt;assertThat(T,org.hamcrest.Matcher&lt;T&gt;) is not applicable\r\n      (no instance(s) of type variable(s) T exist so that argument type org.hamcrest.Matcher&lt;java.lang.Iterable&lt;? extends model.Agents&gt;&gt; conforms to formal parameter type org.hamcrest.Matcher&lt;T&gt;)\r\n    method org.junit.Assert.&lt;T&gt;assertThat(java.lang.String,T,org.hamcrest.Matcher&lt;T&gt;) is not applicable\r\n      (cannot instantiate from arguments because actual and formal argument lists differ in length)\r\n\r\nHow should I write it?","title":"Hamcrest compare collections","body":"<p>I'm trying to compare 2 lists:</p>\n\n<pre><code>assertThat(actual.getList(), is(Matchers.containsInAnyOrder(expectedList)));\n</code></pre>\n\n<p>But idea </p>\n\n<pre><code>java: no suitable method found for assertThat(java.util.List&lt;Agent&gt;,org.hamcrest.Matcher&lt;java.lang.Iterable&lt;? extends model.Agents&gt;&gt;)\nmethod org.junit.Assert.&lt;T&gt;assertThat(T,org.hamcrest.Matcher&lt;T&gt;) is not applicable\n  (no instance(s) of type variable(s) T exist so that argument type org.hamcrest.Matcher&lt;java.lang.Iterable&lt;? extends model.Agents&gt;&gt; conforms to formal parameter type org.hamcrest.Matcher&lt;T&gt;)\nmethod org.junit.Assert.&lt;T&gt;assertThat(java.lang.String,T,org.hamcrest.Matcher&lt;T&gt;) is not applicable\n  (cannot instantiate from arguments because actual and formal argument lists differ in length)\n</code></pre>\n\n<p>How should I write it?</p>\n"},{"tags":["java","spring-boot","jpa","spring-data-jpa","crud"],"answers":[{"comments":[{"owner":{"account_id":12265267,"reputation":36,"user_id":8951973,"display_name":"sachin lobo"},"score":0,"creation_date":1666774584,"post_id":74201824,"comment_id":131013576,"body_markdown":"So jre 1.8 is java 8? Now I am running with jre 1.8 (changed in edit run configuration) it worked. (I think postgress not working).....why I cant run that using latest version?","body":"So jre 1.8 is java 8? Now I am running with jre 1.8 (changed in edit run configuration) it worked. (I think postgress not working).....why I cant run that using latest version?"},{"owner":{"account_id":8794729,"reputation":15307,"user_id":6572971,"display_name":"Alien"},"score":0,"creation_date":1666776474,"post_id":74201824,"comment_id":131014173,"body_markdown":"Yes correct...1.8 is generally called 8 and so on.","body":"Yes correct...1.8 is generally called 8 and so on."}],"tags":[],"owner":{"account_id":8794729,"reputation":15307,"user_id":6572971,"display_name":"Alien"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666748579,"creation_date":1666748579,"answer_id":74201824,"question_id":74201770,"body_markdown":"The example you are referring is using Java version 8.\r\n\r\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\r\nAnd you are using Java 18 as you said, hence the mismatch is happening.\r\n\r\nEither use java 8 or migrate it to 18.","title":"Cannot load configuration class: net.guides.springboot2.crud.Application Error in JPA spring boot","body":"<p>The example you are referring is using Java version 8.</p>\n<pre><code>&lt;java.version&gt;1.8&lt;/java.version&gt;\n</code></pre>\n<p>And you are using Java 18 as you said, hence the mismatch is happening.</p>\n<p>Either use java 8 or migrate it to 18.</p>\n"}],"owner":{"account_id":12265267,"reputation":36,"user_id":8951973,"display_name":"sachin lobo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":324,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74201824,"answer_count":1,"score":0,"last_activity_date":1666748579,"creation_date":1666747941,"question_id":74201770,"body_markdown":"Here is a complete error log\r\n\r\n    2022-10-25 18:11:09.510  INFO 12252 --- [           main] net.guides.springboot2.crud.Application  : Starting Application on DESKTOP-L7QADCR with PID 12252 (C:\\Users\\Seema\\springboot-postgresql-hibernate-crud-example-main\\springboot-postgresql-hibernate-crud-example-main\\target\\classes started by Seema in C:\\Users\\Seema\\springboot-postgresql-hibernate-crud-example-main\\springboot-postgresql-hibernate-crud-example-main)\r\n    2022-10-25 18:11:09.533  INFO 12252 --- [           main] net.guides.springboot2.crud.Application  : No active profile set, falling back to default profiles: default\r\n    2022-10-25 18:11:10.019  INFO 12252 --- [           main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@4c12331b: startup date [Tue Oct 25 18:11:10 IST 2022]; root of context hierarchy\r\n    2022-10-25 18:11:19.081 ERROR 12252 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n    \r\n    java.lang.IllegalStateException: Cannot load configuration class: net.guides.springboot2.crud.Application\r\n    \tat org.springframework.context.annotation.ConfigurationClassPostProcessor.enhanceConfigurationClasses(ConfigurationClassPostProcessor.java:414) ~[spring-context-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n    \tat org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanFactory(ConfigurationClassPostProcessor.java:254) ~[spring-context-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n    \tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:282) ~[spring-context-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n    \tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:126) ~[spring-context-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:694) ~[spring-context-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:532) ~[spring-context-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:780) ~[spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:412) ~[spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:333) ~[spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1277) ~[spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1265) ~[spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]\r\n    \tat net.guides.springboot2.crud.Application.main(Application.java:11) ~[classes/:na]\r\n    Caused by: java.lang.ExceptionInInitializerError: null\r\n    \tat org.springframework.context.annotation.ConfigurationClassEnhancer.newEnhancer(ConfigurationClassEnhancer.java:122) ~[spring-context-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n    \tat org.springframework.context.annotation.ConfigurationClassEnhancer.enhance(ConfigurationClassEnhancer.java:110) ~[spring-context-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n    \tat org.springframework.context.annotation.ConfigurationClassPostProcessor.enhanceConfigurationClasses(ConfigurationClassPostProcessor.java:403) ~[spring-context-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n    \t... 12 common frames omitted\r\n    Caused by: org.springframework.cglib.core.CodeGenerationException: java.lang.reflect.InaccessibleObjectException--&gt;Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @184f6be2\r\n    \tat org.springframework.cglib.core.ReflectUtils.defineClass(ReflectUtils.java:464) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n    \tat org.springframework.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:336) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n    \tat org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:93) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n    \tat org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:91) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n    \tat org.springframework.cglib.core.internal.LoadingCache$2.call(LoadingCache.java:54) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n    \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\r\n    \tat org.springframework.cglib.core.internal.LoadingCache.createEntry(LoadingCache.java:61) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n    \tat org.springframework.cglib.core.internal.LoadingCache.get(LoadingCache.java:34) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n    \tat org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData.get(AbstractClassGenerator.java:116) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n    \tat org.springframework.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:291) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n    \tat org.springframework.cglib.core.KeyFactory$Generator.create(KeyFactory.java:221) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n    \tat org.springframework.cglib.core.KeyFactory.create(KeyFactory.java:174) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n    \tat org.springframework.cglib.core.KeyFactory.create(KeyFactory.java:153) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n    \tat org.springframework.cglib.proxy.Enhancer.&lt;clinit&gt;(Enhancer.java:73) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n    \t... 15 common frames omitted\r\n    Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @184f6be2\r\n    \tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354) ~[na:na]\r\n    \tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:200) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.setAccessible(Method.java:194) ~[na:na]\r\n\r\nhttps://github.com/RameshMF/springboot-postgresql-hibernate-crud-example\r\nI got one tutorial from youtube. It is a simple crud application on spring boot jpa , but I am getting this error while running.\r\nI am using jdk 18 version ","title":"Cannot load configuration class: net.guides.springboot2.crud.Application Error in JPA spring boot","body":"<p>Here is a complete error log</p>\n<pre><code>2022-10-25 18:11:09.510  INFO 12252 --- [           main] net.guides.springboot2.crud.Application  : Starting Application on DESKTOP-L7QADCR with PID 12252 (C:\\Users\\Seema\\springboot-postgresql-hibernate-crud-example-main\\springboot-postgresql-hibernate-crud-example-main\\target\\classes started by Seema in C:\\Users\\Seema\\springboot-postgresql-hibernate-crud-example-main\\springboot-postgresql-hibernate-crud-example-main)\n2022-10-25 18:11:09.533  INFO 12252 --- [           main] net.guides.springboot2.crud.Application  : No active profile set, falling back to default profiles: default\n2022-10-25 18:11:10.019  INFO 12252 --- [           main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@4c12331b: startup date [Tue Oct 25 18:11:10 IST 2022]; root of context hierarchy\n2022-10-25 18:11:19.081 ERROR 12252 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\njava.lang.IllegalStateException: Cannot load configuration class: net.guides.springboot2.crud.Application\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.enhanceConfigurationClasses(ConfigurationClassPostProcessor.java:414) ~[spring-context-5.0.9.RELEASE.jar:5.0.9.RELEASE]\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanFactory(ConfigurationClassPostProcessor.java:254) ~[spring-context-5.0.9.RELEASE.jar:5.0.9.RELEASE]\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:282) ~[spring-context-5.0.9.RELEASE.jar:5.0.9.RELEASE]\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:126) ~[spring-context-5.0.9.RELEASE.jar:5.0.9.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:694) ~[spring-context-5.0.9.RELEASE.jar:5.0.9.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:532) ~[spring-context-5.0.9.RELEASE.jar:5.0.9.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:780) ~[spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:412) ~[spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:333) ~[spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1277) ~[spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1265) ~[spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]\n    at net.guides.springboot2.crud.Application.main(Application.java:11) ~[classes/:na]\nCaused by: java.lang.ExceptionInInitializerError: null\n    at org.springframework.context.annotation.ConfigurationClassEnhancer.newEnhancer(ConfigurationClassEnhancer.java:122) ~[spring-context-5.0.9.RELEASE.jar:5.0.9.RELEASE]\n    at org.springframework.context.annotation.ConfigurationClassEnhancer.enhance(ConfigurationClassEnhancer.java:110) ~[spring-context-5.0.9.RELEASE.jar:5.0.9.RELEASE]\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.enhanceConfigurationClasses(ConfigurationClassPostProcessor.java:403) ~[spring-context-5.0.9.RELEASE.jar:5.0.9.RELEASE]\n    ... 12 common frames omitted\nCaused by: org.springframework.cglib.core.CodeGenerationException: java.lang.reflect.InaccessibleObjectException--&gt;Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @184f6be2\n    at org.springframework.cglib.core.ReflectUtils.defineClass(ReflectUtils.java:464) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]\n    at org.springframework.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:336) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]\n    at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:93) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]\n    at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:91) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]\n    at org.springframework.cglib.core.internal.LoadingCache$2.call(LoadingCache.java:54) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\n    at org.springframework.cglib.core.internal.LoadingCache.createEntry(LoadingCache.java:61) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]\n    at org.springframework.cglib.core.internal.LoadingCache.get(LoadingCache.java:34) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]\n    at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData.get(AbstractClassGenerator.java:116) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]\n    at org.springframework.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:291) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]\n    at org.springframework.cglib.core.KeyFactory$Generator.create(KeyFactory.java:221) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]\n    at org.springframework.cglib.core.KeyFactory.create(KeyFactory.java:174) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]\n    at org.springframework.cglib.core.KeyFactory.create(KeyFactory.java:153) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]\n    at org.springframework.cglib.proxy.Enhancer.&lt;clinit&gt;(Enhancer.java:73) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]\n    ... 15 common frames omitted\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @184f6be2\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354) ~[na:na]\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297) ~[na:na]\n    at java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:200) ~[na:na]\n    at java.base/java.lang.reflect.Method.setAccessible(Method.java:194) ~[na:na]\n</code></pre>\n<p><a href=\"https://github.com/RameshMF/springboot-postgresql-hibernate-crud-example\" rel=\"nofollow noreferrer\">https://github.com/RameshMF/springboot-postgresql-hibernate-crud-example</a>\nI got one tutorial from youtube. It is a simple crud application on spring boot jpa , but I am getting this error while running.\nI am using jdk 18 version</p>\n"},{"tags":["java","spring-boot","logging","spring-boot-actuator"],"comments":[{"owner":{"account_id":2429732,"reputation":148,"user_id":2120924,"display_name":"Vish"},"score":0,"creation_date":1570553500,"post_id":58290677,"comment_id":102945889,"body_markdown":"@bur&#230;quete Do you have any idea regarding this? Thanks!","body":"@bur&#230;quete Do you have any idea regarding this? Thanks!"}],"answers":[{"comments":[{"owner":{"account_id":9346423,"reputation":1452,"user_id":6937584,"display_name":"cdalxndr"},"score":0,"creation_date":1572034725,"post_id":58291157,"comment_id":103448947,"body_markdown":"Note that since Spring Boot 2.2.0, HealthAggregator is [deprecated in favor of StatusAggregator](https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/actuate/health/HealthAggregator.html)","body":"Note that since Spring Boot 2.2.0, HealthAggregator is <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/actuate/health/HealthAggregator.html\" rel=\"nofollow noreferrer\">deprecated in favor of StatusAggregator</a>"},{"owner":{"account_id":892776,"reputation":19529,"user_id":930728,"accept_rate":60,"display_name":"Christian Schneider"},"score":0,"creation_date":1652709219,"post_id":58291157,"comment_id":127664620,"body_markdown":"I just tried on a new spring boot version (2.6.6). There is only StatusAggregator but from Status I do not get enough details for proper logging.\nIs there some other way to achieve this?","body":"I just tried on a new spring boot version (2.6.6). There is only StatusAggregator but from Status I do not get enough details for proper logging. Is there some other way to achieve this?"}],"tags":[],"owner":{"account_id":3175510,"reputation":2055,"user_id":2683501,"accept_rate":82,"display_name":"pL4Gu33"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1570555211,"creation_date":1570555211,"answer_id":58291157,"question_id":58290677,"body_markdown":"You could write your own HealthAggregator and set the Default Spring Aggregator in it and use it. \r\n\r\n    public class OwnHealthAggregator implements HealthAggregator {\r\n\r\n    private final HealthAggregator defaultHealth;\r\n\r\n    public OwnHealthAggregator(HealthAggregator defaultHealth) {\r\n        this.defaultHealth = defaultHealth;\r\n    }\r\n\r\n    @Override\r\n    public Health aggregate(Map&lt;String, Health&gt; healths) {\r\n        Health result = this.defaultHealth.aggregate(healths);\r\n        // LOG Result here\r\n        return result;\r\n    }\r\n\r\n    }\r\n\r\nDefine a bean and use the default one:\r\n   \r\n    @Bean\r\n    public HealthAggregator health() {\r\n        return new OwnHealthAggregator(new OrderedHealthAggregator());\r\n    }\r\n\r\n----\r\nOff-topic when you use actuator in this version, you should be careful because many endpoints are enable by default (like /beans, /env, /dump).","title":"Logging Spring Boot Actuator health status in the application log file","body":"<p>You could write your own HealthAggregator and set the Default Spring Aggregator in it and use it. </p>\n\n<pre><code>public class OwnHealthAggregator implements HealthAggregator {\n\nprivate final HealthAggregator defaultHealth;\n\npublic OwnHealthAggregator(HealthAggregator defaultHealth) {\n    this.defaultHealth = defaultHealth;\n}\n\n@Override\npublic Health aggregate(Map&lt;String, Health&gt; healths) {\n    Health result = this.defaultHealth.aggregate(healths);\n    // LOG Result here\n    return result;\n}\n\n}\n</code></pre>\n\n<p>Define a bean and use the default one:</p>\n\n<pre><code>@Bean\npublic HealthAggregator health() {\n    return new OwnHealthAggregator(new OrderedHealthAggregator());\n}\n</code></pre>\n\n<hr>\n\n<p>Off-topic when you use actuator in this version, you should be careful because many endpoints are enable by default (like /beans, /env, /dump).</p>\n"},{"tags":[],"owner":{"account_id":204659,"reputation":37559,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1570559864,"creation_date":1570559864,"answer_id":58292238,"question_id":58290677,"body_markdown":"Spring will inject a list of all components that implement a specific interface.\r\nFor example:\r\n`private List&lt;HealthIndicator&gt; healthIndicatorList`\r\nwill contain every class that implements the `HealthIndicator` class.\r\n\r\nYou could implement the `HealthIndicator` class in your own component and\r\nthen call the `health()` method on each member of the healthIndicatorList and log the result.\r\n\r\nOf course,\r\ndo not recursively call the `health()` method of your logging health indicator.\r\nHere is some code:\r\n```Java\r\n@Component\r\npublic class LoggingHealthIndicator implements HealthIndicator\r\n{\r\n    @Autowired\r\n    private List&lt;HealthIndicator&gt; healthIndicatorList\r\n\r\n    @Override\r\n    public Health health()\r\n\t{\r\n        for (final HealthIndicator current : healthIndicatorList)\r\n\t\t{\r\n\t\t\tif (current != this)\r\n\t\t\t{\r\n\t\t\t\t// assumes SLF4j\r\n\t\t\t\tlogger.log(&quot;blam message; {}&quot;, current.health());\r\n\t\t\t}\r\n\t\t}\t\t\r\n        return Health.up().build();\r\n    }\r\n}\r\n```\r\n\r\nThat code might not work because you class wants all\r\nHealthIndictor implementations and is a HealthIndicator itself.\r\n\r\nYou might need to add a `@PostConstruct` method and retrieve the list of HealthIndictor components yourself.","title":"Logging Spring Boot Actuator health status in the application log file","body":"<p>Spring will inject a list of all components that implement a specific interface.\nFor example:\n<code>private List&lt;HealthIndicator&gt; healthIndicatorList</code>\nwill contain every class that implements the <code>HealthIndicator</code> class.</p>\n\n<p>You could implement the <code>HealthIndicator</code> class in your own component and\nthen call the <code>health()</code> method on each member of the healthIndicatorList and log the result.</p>\n\n<p>Of course,\ndo not recursively call the <code>health()</code> method of your logging health indicator.\nHere is some code:</p>\n\n<pre><code>@Component\npublic class LoggingHealthIndicator implements HealthIndicator\n{\n    @Autowired\n    private List&lt;HealthIndicator&gt; healthIndicatorList\n\n    @Override\n    public Health health()\n    {\n        for (final HealthIndicator current : healthIndicatorList)\n        {\n            if (current != this)\n            {\n                // assumes SLF4j\n                logger.log(\"blam message; {}\", current.health());\n            }\n        }       \n        return Health.up().build();\n    }\n}\n</code></pre>\n\n<p>That code might not work because you class wants all\nHealthIndictor implementations and is a HealthIndicator itself.</p>\n\n<p>You might need to add a <code>@PostConstruct</code> method and retrieve the list of HealthIndictor components yourself.</p>\n"}],"owner":{"account_id":2429732,"reputation":148,"user_id":2120924,"display_name":"Vish"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4774,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":58291157,"answer_count":2,"score":3,"last_activity_date":1666748331,"creation_date":1570553072,"question_id":58290677,"body_markdown":"Currently we are using Spring boot actuator **vr 1.5.10** and we can access our health page with **/health** endpoint successfully. But while accessing our health endpoint, we need to log that health status in our application&#39;s log file as well so later we can create a Kibana watcher alert based on the status. \r\n\r\nI saw that we can extend the health endpoint with &quot;**@EndpointWebExtension**&quot; and log the status there as proposed in [here][1]. But seems like that is not supported with vr 1.5.10. \r\n\r\nAny direction will be really appreciated! \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/54977273/enable-logging-in-spring-boot-actuator-health-check-api","title":"Logging Spring Boot Actuator health status in the application log file","body":"<p>Currently we are using Spring boot actuator <strong>vr 1.5.10</strong> and we can access our health page with <strong>/health</strong> endpoint successfully. But while accessing our health endpoint, we need to log that health status in our application's log file as well so later we can create a Kibana watcher alert based on the status. </p>\n\n<p>I saw that we can extend the health endpoint with \"<strong>@EndpointWebExtension</strong>\" and log the status there as proposed in <a href=\"https://stackoverflow.com/questions/54977273/enable-logging-in-spring-boot-actuator-health-check-api\">here</a>. But seems like that is not supported with vr 1.5.10. </p>\n\n<p>Any direction will be really appreciated! </p>\n"},{"tags":["java","multidimensional-array"],"comments":[{"owner":{"account_id":24509269,"reputation":184,"user_id":18423808,"display_name":"IndexZero"},"score":0,"creation_date":1666743171,"post_id":74201374,"comment_id":131007288,"body_markdown":"you&#39;re using a nested loop but you  are never using i for anything. Most likely a typo on mangerTable[row][1]. Also please read the guidlines for questions","body":"you&#39;re using a nested loop but you  are never using i for anything. Most likely a typo on mangerTable[row][1]. Also please read the guidlines for questions"}],"answers":[{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666748308,"creation_date":1666748308,"answer_id":74201799,"question_id":74201374,"body_markdown":"It looks like the ID for each manager is the **second** element in each row as you&#39;ve indicated in your code (`if(mangerTable[row][1].equals(workId)){`) so, with that in mind and with so little information, I think what you are trying to do is something like this (read comments in code):\r\n\r\n    // searching for matching id\r\n    int i = -1;\r\n    do {\r\n        String id = &quot;&quot;;\r\n        while (id.isEmpty()) {\r\n            System.out.print(&quot;Enter ID to Find (q to quit): -&gt; &quot;);\r\n            id = input.nextLine();\r\n            // Quit?\r\n            if (id.equalsIgnoreCase(&quot;q&quot;)) {\r\n                return;\r\n            }\r\n            /* Validate input. Assuming all ID&#39;s are numerical:\r\n               Are all characters supplied numerical digits? */ \r\n            if (!id.matches(&quot;\\\\d+&quot;)) {\r\n                System.out.println(&quot;Invalid ID! (&quot; + id + &quot;) Try again...&quot;\r\n                                 + System.lineSeparator());\r\n                id = &quot;&quot;; // Empty id to ensure re-loop.\r\n            }\r\n        }\r\n\r\n        for (int row = 0; row &lt; mangerTable.length; row++) {\r\n            if (mangerTable[row][1].equals(id)) {\r\n                //there is a match\r\n                i = row;\r\n                break; // Found...no need to carry on.\r\n            }\r\n        }\r\n        if (i &gt;= 0) {\r\n            //there is a match\r\n            System.out.println(&quot;Match Found In Row Index: &quot; + i \r\n                    + &quot;  (literal Row #&quot; + (i + 1) + &quot;)&quot;);\r\n            System.out.println(&quot;Contents of Row:  &quot; + Arrays.toString(mangerTable[i]));\r\n            String yn = &quot;&quot;;\r\n            while (yn.isEmpty()) {\r\n                System.out.print(&quot;Want to Find another ID? (y/n): &quot;);\r\n                yn = input.nextLine();\r\n                /* Validate input:\r\n                   Is either the `y` or `n` supplied (in any letter case)? \r\n                   `(?i)` makes the expression letter case insensitive. */\r\n                if (!yn.matches(&quot;(?i)[yn]&quot;)) {\r\n                    System.out.println(&quot;Invalid choice (&quot; + yn + &quot;)! Try Again...&quot;\r\n                            + System.lineSeparator());\r\n                    yn = &quot;&quot;;  // Empty yn to ensure re-loop.\r\n                }\r\n            }\r\n            if (yn.equalsIgnoreCase(&quot;y&quot;)) {\r\n                System.out.println();\r\n                i = -1;  // -1 to i to ensure do/while re-loop.\r\n            }\r\n        }\r\n        else {\r\n            //there isn&#39;t match\r\n            System.out.println(&quot;No ID Match Found!&quot; + System.lineSeparator());\r\n        }\r\n    } while (i &lt; 0);","title":"searching in 2d loop","body":"<p>It looks like the ID for each manager is the <strong>second</strong> element in each row as you've indicated in your code (<code>if(mangerTable[row][1].equals(workId)){</code>) so, with that in mind and with so little information, I think what you are trying to do is something like this (read comments in code):</p>\n<pre><code>// searching for matching id\nint i = -1;\ndo {\n    String id = &quot;&quot;;\n    while (id.isEmpty()) {\n        System.out.print(&quot;Enter ID to Find (q to quit): -&gt; &quot;);\n        id = input.nextLine();\n        // Quit?\n        if (id.equalsIgnoreCase(&quot;q&quot;)) {\n            return;\n        }\n        /* Validate input. Assuming all ID's are numerical:\n           Are all characters supplied numerical digits? */ \n        if (!id.matches(&quot;\\\\d+&quot;)) {\n            System.out.println(&quot;Invalid ID! (&quot; + id + &quot;) Try again...&quot;\n                             + System.lineSeparator());\n            id = &quot;&quot;; // Empty id to ensure re-loop.\n        }\n    }\n\n    for (int row = 0; row &lt; mangerTable.length; row++) {\n        if (mangerTable[row][1].equals(id)) {\n            //there is a match\n            i = row;\n            break; // Found...no need to carry on.\n        }\n    }\n    if (i &gt;= 0) {\n        //there is a match\n        System.out.println(&quot;Match Found In Row Index: &quot; + i \n                + &quot;  (literal Row #&quot; + (i + 1) + &quot;)&quot;);\n        System.out.println(&quot;Contents of Row:  &quot; + Arrays.toString(mangerTable[i]));\n        String yn = &quot;&quot;;\n        while (yn.isEmpty()) {\n            System.out.print(&quot;Want to Find another ID? (y/n): &quot;);\n            yn = input.nextLine();\n            /* Validate input:\n               Is either the `y` or `n` supplied (in any letter case)? \n               `(?i)` makes the expression letter case insensitive. */\n            if (!yn.matches(&quot;(?i)[yn]&quot;)) {\n                System.out.println(&quot;Invalid choice (&quot; + yn + &quot;)! Try Again...&quot;\n                        + System.lineSeparator());\n                yn = &quot;&quot;;  // Empty yn to ensure re-loop.\n            }\n        }\n        if (yn.equalsIgnoreCase(&quot;y&quot;)) {\n            System.out.println();\n            i = -1;  // -1 to i to ensure do/while re-loop.\n        }\n    }\n    else {\n        //there isn't match\n        System.out.println(&quot;No ID Match Found!&quot; + System.lineSeparator());\n    }\n} while (i &lt; 0);\n</code></pre>\n"}],"owner":{"account_id":26732903,"reputation":1,"user_id":20334942,"display_name":"rose"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666748308,"creation_date":1666742871,"question_id":74201374,"body_markdown":"why do i always get the output incorrect! even if enter the matching id\r\nits a string 2d array\r\n\r\n    public void getWorkId(){\r\n    int i = 0;\r\n    do{\r\n        //taking id\r\n    System.out.println(&quot;id: &quot;);\r\n    workId= input.next();\r\n    //searching for matching id\r\n    for(int row = 0; row &lt; mangerTable.length; row++){\r\n            if(mangerTable[row][1].equals(workId)){\r\n                //there is a match\r\n                i=1;\r\n                break;\r\n            }else{\r\n                //there isn&#39;t match\r\n                System.out.println(&quot;incorrect!&quot;);\r\n                i= -1;\r\n                break;\r\n            }//end else\r\n        }//end row loop\r\n    }while(i&gt;0);\r\n\r\n    }","title":"searching in 2d loop","body":"<p>why do i always get the output incorrect! even if enter the matching id\nits a string 2d array</p>\n<pre><code>public void getWorkId(){\nint i = 0;\ndo{\n    //taking id\nSystem.out.println(&quot;id: &quot;);\nworkId= input.next();\n//searching for matching id\nfor(int row = 0; row &lt; mangerTable.length; row++){\n        if(mangerTable[row][1].equals(workId)){\n            //there is a match\n            i=1;\n            break;\n        }else{\n            //there isn't match\n            System.out.println(&quot;incorrect!&quot;);\n            i= -1;\n            break;\n        }//end else\n    }//end row loop\n}while(i&gt;0);\n\n}\n</code></pre>\n"},{"tags":["java","spring","apache-camel","spring-camel"],"comments":[{"owner":{"account_id":1464652,"reputation":12323,"user_id":1377895,"accept_rate":100,"display_name":"Roman Vottner"},"score":1,"creation_date":1508842389,"post_id":46907227,"comment_id":80763822,"body_markdown":"Actually my comment refered to using `.to(&quot;bean:nameOfBeanInRegistry(${body})` instead of using `.bean(Class, String)` if you want to stick with `?method=...` syntax. I&#39;m not aware of `.bean(...)` supporting that syntax as it supports an additional parameters that is explicitly invoking a method that was not annotated with `@Handler`. This annotation is used in cases when the bean has multiple public methods available to invoke to tell Camel which one should be used by not specifying the name directly. Furthermore, you did not specify any argument for the method invoked, though smth requires 1","body":"Actually my comment refered to using <code>.to(&quot;bean:nameOfBeanInRegistry(${body})</code> instead of using <code>.bean(Class, String)</code> if you want to stick with <code>?method=...</code> syntax. I&#39;m not aware of <code>.bean(...)</code> supporting that syntax as it supports an additional parameters that is explicitly invoking a method that was not annotated with <code>@Handler</code>. This annotation is used in cases when the bean has multiple public methods available to invoke to tell Camel which one should be used by not specifying the name directly. Furthermore, you did not specify any argument for the method invoked, though smth requires 1"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1508847152,"post_id":46907227,"comment_id":80766996,"body_markdown":"@Roman Vottner, can you, please just write working  code ?\n **to(&quot;bean:nameOfBeanInRegistry(${body})** - where should I write a  **?method=...** and what should I write to provide argument for smth method?","body":"@Roman Vottner, can you, please just write working  code ?  <b>to(&quot;bean:nameOfBeanInRegistry(${body})</b> - where should I write a  <b>?method=...</b> and what should I write to provide argument for smth method?"}],"answers":[{"comments":[{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1508838939,"post_id":46907355,"comment_id":80761508,"body_markdown":"Actually I want to know how to use notation like *?option=value*","body":"Actually I want to know how to use notation like <i>?option=value</i>"},{"owner":{"account_id":1464652,"reputation":12323,"user_id":1377895,"accept_rate":100,"display_name":"Roman Vottner"},"score":0,"creation_date":1508839583,"post_id":46907355,"comment_id":80761967,"body_markdown":"@gstackoverflow you mean something like `.to(bean:helloWorld?method=smth())`? Here, this bean needs to be available within Camel&#39;s registry. So either register the bean with Camel&#39;s registry or name the Spring bean via `@Bean(name=&quot;helloWorld&quot;)` which Camel will add to its registry automatically. For more information have a look at http://camel.apache.org/bean-binding.html","body":"@gstackoverflow you mean something like <code>.to(bean:helloWorld?method=smth())</code>? Here, this bean needs to be available within Camel&#39;s registry. So either register the bean with Camel&#39;s registry or name the Spring bean via <code>@Bean(name=&quot;helloWorld&quot;)</code> which Camel will add to its registry automatically. For more information have a look at <a href=\"http://camel.apache.org/bean-binding.html\" rel=\"nofollow noreferrer\">camel.apache.org/bean-binding.html</a>"}],"tags":[],"owner":{"account_id":403034,"reputation":3576,"user_id":770557,"display_name":"cristianoms"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1508838692,"creation_date":1508838692,"answer_id":46907355,"question_id":46907227,"body_markdown":"As you&#39;re already using Spring, why not annotate your bean with `@Component` and use an autowired instance inside your route?","title":"org.apache.camel.NoSuchBeanException: No bean could be found in the registry for:","body":"<p>As you're already using Spring, why not annotate your bean with <code>@Component</code> and use an autowired instance inside your route?</p>\n"},{"tags":[],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1508838886,"creation_date":1508838886,"answer_id":46907420,"question_id":46907227,"body_markdown":"this works:\r\n\r\n  \r\n\r\n     from(&quot;seda:second&quot;)               \r\n         .bean(HelloWorld.class, &quot;smth&quot;)","title":"org.apache.camel.NoSuchBeanException: No bean could be found in the registry for:","body":"<p>this works:</p>\n\n<pre><code> from(\"seda:second\")               \n     .bean(HelloWorld.class, \"smth\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8213997,"reputation":78,"user_id":6181070,"display_name":"Od Chan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1568979806,"creation_date":1568967324,"answer_id":58024454,"question_id":46907227,"body_markdown":"The way you give the class name and method to &quot;bean&quot; is wrong!\r\nIf you wanna use ```bean``` then these are acceptable ways for how to work with it:\r\n\r\n```\r\nfrom(&quot;direct:a&quot;).bean(ClassName.class , &quot;methodName&quot;).to(&quot;direct:b&quot;);\r\n```\r\n```\r\nfrom(&quot;direct:a&quot;).bean(&quot;registeredClassName&quot;,&quot;methodName&quot;).to(&quot;direct:b&quot;); \r\n// this registered named is the name that you give to spring annotations like\r\n//@Component , @Configuration , @Service , @Controller , @Bean etc...\r\n// If you are using Camel stand alone then registeredClassName is the name that \r\n// you gave to  camel&#39;s registry. \r\n//For example:\r\n\r\nSimpleRegistry simpleRegistry = new SimpleRegistry(); // this class is just a mapper\r\nsimpleRegistry.put(&quot;registeredClassName&quot;,new ClassName());\r\n\r\nCamelContext camelContext = new DefaultCamelContext(simpleRegistry);\r\n```\r\n```\r\n// In Spring Boot \r\n@Autowired \r\nprivate ClassName instanceOfClassName;\r\nfrom(&quot;direct:a&quot;).bean(instanceOfClassName , &quot;methodName&quot;).to(&quot;direct:b&quot;);\r\n```\r\nAnd this is the right way for using class and method together like the way you went through: \r\n\r\n```\r\nfrom(&quot;direct:a&quot;).to(&quot;bean:registeredClassName?method=methodName&quot;).to(&quot;direct:b&quot;);\r\n// remember no parenthesis () for methodName \r\n```\r\n```\r\n\r\nfrom(&quot;direct:a&quot;).to(&quot;bean:FullyQualifiedClassName?method=Name&quot;).to(&quot;direct:b&quot;);\r\n```\r\n\r\nAlso this is another way of invoking bean and its&#39; method although it is a little advance and you need to know what is Simple-Language. \r\n```\r\nfrom(&quot;direct:start&quot;).bean(&quot;registeredClassName&quot;,&quot;methodName(${body},${header.customerId},${header.customerType}&quot;);\r\n```\r\nThat&#39;s all :))\r\n","title":"org.apache.camel.NoSuchBeanException: No bean could be found in the registry for:","body":"<p>The way you give the class name and method to \"bean\" is wrong!\nIf you wanna use <code>bean</code> then these are acceptable ways for how to work with it:</p>\n\n<pre><code>from(\"direct:a\").bean(ClassName.class , \"methodName\").to(\"direct:b\");\n</code></pre>\n\n<pre><code>from(\"direct:a\").bean(\"registeredClassName\",\"methodName\").to(\"direct:b\"); \n// this registered named is the name that you give to spring annotations like\n//@Component , @Configuration , @Service , @Controller , @Bean etc...\n// If you are using Camel stand alone then registeredClassName is the name that \n// you gave to  camel's registry. \n//For example:\n\nSimpleRegistry simpleRegistry = new SimpleRegistry(); // this class is just a mapper\nsimpleRegistry.put(\"registeredClassName\",new ClassName());\n\nCamelContext camelContext = new DefaultCamelContext(simpleRegistry);\n</code></pre>\n\n<pre><code>// In Spring Boot \n@Autowired \nprivate ClassName instanceOfClassName;\nfrom(\"direct:a\").bean(instanceOfClassName , \"methodName\").to(\"direct:b\");\n</code></pre>\n\n<p>And this is the right way for using class and method together like the way you went through: </p>\n\n<pre><code>from(\"direct:a\").to(\"bean:registeredClassName?method=methodName\").to(\"direct:b\");\n// remember no parenthesis () for methodName \n</code></pre>\n\n<pre><code>\nfrom(\"direct:a\").to(\"bean:FullyQualifiedClassName?method=Name\").to(\"direct:b\");\n</code></pre>\n\n<p>Also this is another way of invoking bean and its' method although it is a little advance and you need to know what is Simple-Language. </p>\n\n<pre><code>from(\"direct:start\").bean(\"registeredClassName\",\"methodName(${body},${header.customerId},${header.customerType}\");\n</code></pre>\n\n<p>That's all :))</p>\n"},{"tags":[],"owner":{"account_id":15279532,"reputation":559,"user_id":11024336,"display_name":"Indika_Nuwan95"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666748115,"creation_date":1666748115,"answer_id":74201786,"question_id":46907227,"body_markdown":"I was trying to execute a method under another class using camel beans. so i had to use &#39;to&#39; instead of bean. this is what worked for me.\r\n\r\n            //add class instance and add it to the registry as a bean\r\n        MyService myService = new MyService();\r\n\r\n        SimpleRegistry registry = new SimpleRegistry();\r\n\r\n        registry.bind(&quot;myServiceBean&quot;, myService);\r\n\r\n\r\n\r\n        CamelContext context = new DefaultCamelContext(registry);\r\n\r\n        context.addRoutes(new RouteBuilder() {\r\n            @Override\r\n            public void configure() throws Exception {\r\n                from(&quot;direct:start&quot;)\r\n                        .to(&quot;bean:myServiceBean?method=messageReciever&quot;);\r\n            }\r\n        });\r\n    context.start();","title":"org.apache.camel.NoSuchBeanException: No bean could be found in the registry for:","body":"<p>I was trying to execute a method under another class using camel beans. so i had to use 'to' instead of bean. this is what worked for me.</p>\n<pre><code>        //add class instance and add it to the registry as a bean\n    MyService myService = new MyService();\n\n    SimpleRegistry registry = new SimpleRegistry();\n\n    registry.bind(&quot;myServiceBean&quot;, myService);\n\n\n\n    CamelContext context = new DefaultCamelContext(registry);\n\n    context.addRoutes(new RouteBuilder() {\n        @Override\n        public void configure() throws Exception {\n            from(&quot;direct:start&quot;)\n                    .to(&quot;bean:myServiceBean?method=messageReciever&quot;);\n        }\n    });\ncontext.start();\n</code></pre>\n"}],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28222,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":46907420,"answer_count":4,"score":5,"last_activity_date":1666748115,"creation_date":1508838346,"question_id":46907227,"body_markdown":"I have the following route definition:\r\n\r\n    @Component\r\n    public class CamelRoutes extends RouteBuilder {\r\n        @Override\r\n        public void configure() throws Exception {\r\n               from(&quot;seda:second&quot;)                   \r\n                    .bean(&quot;helloWorld?method=smth&quot;)    \r\n                    .process(exchange -&gt; {\r\n                        System.out.println(&quot;Message:&quot; + exchange.getIn().getBody());\r\n                    })\r\n                    .log(&quot;body:${body}&quot;);\r\n\r\nand following bean:\r\n\r\n  \r\n\r\n    public static class HelloWorld {\r\n           public void execute(String str){\r\n               System.out.println(&quot;HelloWorld#execute: &quot; + str);\r\n           }\r\n            public void smth(String str){\r\n                System.out.println(&quot;HelloWorld#smth: &quot; + str);\r\n            }\r\n        }\r\n\r\n\r\nBut application doesn&#39;t start.  \r\ntrace:\r\n\r\n    org.apache.camel.RuntimeCamelException: org.apache.camel.FailedToCreateRouteException: Failed to create route route4 at: &gt;&gt;&gt; Bean[ref:helloWorld?method=smth] &lt;&lt;&lt; in route: Route(route4)[[From[seda:second]] -&gt; [Bean[ref:helloWorld?me... because of No bean could be found in the registry for: helloWorld?method=smth\r\n    \tat org.apache.camel.util.ObjectHelper.wrapRuntimeCamelException(ObjectHelper.java:1831) ~[camel-core-2.20.0.jar:2.20.0]\r\n    \tat org.apache.camel.spring.SpringCamelContext.start(SpringCamelContext.java:136) ~[camel-spring-2.20.0.jar:2.20.0]\r\n    \tat org.apache.camel.spring.SpringCamelContext.onApplicationEvent(SpringCamelContext.java:174) ~[camel-spring-2.20.0.jar:2.20.0]\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:167) ~[spring-context-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139) ~[spring-context-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:383) ~[spring-context-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:337) ~[spring-context-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:882) ~[spring-context-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n    \tat org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.finishRefresh(EmbeddedWebApplicationContext.java:144) ~[spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:545) ~[spring-context-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n    \tat org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:122) ~[spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:737) [spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:370) [spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:314) [spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1162) [spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1151) [spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]\r\n    \tat SpringBootCamelIntegrationApplication.main(SpringBootCamelIntegrationApplication.java:9) [classes/:na]\r\n    Caused by: org.apache.camel.FailedToCreateRouteException: Failed to create route route4 at: &gt;&gt;&gt; Bean[ref:helloWorld?method=smth] &lt;&lt;&lt; in route: Route(route4)[[From[seda:second]] -&gt; [Bean[ref:helloWorld?me... because of No bean could be found in the registry for: helloWorld?method=smth\r\n    \tat org.apache.camel.model.RouteDefinition.addRoutes(RouteDefinition.java:1298) ~[camel-core-2.20.0.jar:2.20.0]\r\n    \tat org.apache.camel.model.RouteDefinition.addRoutes(RouteDefinition.java:204) ~[camel-core-2.20.0.jar:2.20.0]\r\n    \tat org.apache.camel.impl.DefaultCamelContext.startRoute(DefaultCamelContext.java:1135) ~[camel-core-2.20.0.jar:2.20.0]\r\n    \tat org.apache.camel.impl.DefaultCamelContext.startRouteDefinitions(DefaultCamelContext.java:3714) ~[camel-core-2.20.0.jar:2.20.0]\r\n    \tat org.apache.camel.impl.DefaultCamelContext.doStartCamel(DefaultCamelContext.java:3428) ~[camel-core-2.20.0.jar:2.20.0]\r\n    \tat org.apache.camel.impl.DefaultCamelContext.access$000(DefaultCamelContext.java:208) ~[camel-core-2.20.0.jar:2.20.0]\r\n    \tat org.apache.camel.impl.DefaultCamelContext$2.call(DefaultCamelContext.java:3236) ~[camel-core-2.20.0.jar:2.20.0]\r\n    \tat org.apache.camel.impl.DefaultCamelContext$2.call(DefaultCamelContext.java:3232) ~[camel-core-2.20.0.jar:2.20.0]\r\n    \tat org.apache.camel.impl.DefaultCamelContext.doWithDefinedClassLoader(DefaultCamelContext.java:3255) ~[camel-core-2.20.0.jar:2.20.0]\r\n    \tat org.apache.camel.impl.DefaultCamelContext.doStart(DefaultCamelContext.java:3232) ~[camel-core-2.20.0.jar:2.20.0]\r\n    \tat org.apache.camel.support.ServiceSupport.start(ServiceSupport.java:61) ~[camel-core-2.20.0.jar:2.20.0]\r\n    \tat org.apache.camel.impl.DefaultCamelContext.start(DefaultCamelContext.java:3155) ~[camel-core-2.20.0.jar:2.20.0]\r\n    \tat org.apache.camel.spring.SpringCamelContext.start(SpringCamelContext.java:133) ~[camel-spring-2.20.0.jar:2.20.0]\r\n    \t... 15 common frames omitted\r\n    Caused by: org.apache.camel.NoSuchBeanException: No bean could be found in the registry for: helloWorld?method=smth\r\n    \tat org.apache.camel.component.bean.RegistryBean.getBean(RegistryBean.java:94) ~[camel-core-2.20.0.jar:2.20.0]\r\n    \tat org.apache.camel.component.bean.RegistryBean.createCacheHolder(RegistryBean.java:69) ~[camel-core-2.20.0.jar:2.20.0]\r\n    \tat org.apache.camel.model.BeanDefinition.createProcessor(BeanDefinition.java:251) ~[camel-core-2.20.0.jar:2.20.0]\r\n    \tat org.apache.camel.model.ProcessorDefinition.makeProcessorImpl(ProcessorDefinition.java:549) ~[camel-core-2.20.0.jar:2.20.0]\r\n    \tat org.apache.camel.model.ProcessorDefinition.makeProcessor(ProcessorDefinition.java:510) ~[camel-core-2.20.0.jar:2.20.0]\r\n    \tat org.apache.camel.model.ProcessorDefinition.addRoutes(ProcessorDefinition.java:226) ~[camel-core-2.20.0.jar:2.20.0]\r\n    \tat org.apache.camel.model.RouteDefinition.addRoutes(RouteDefinition.java:1295) ~[camel-core-2.20.0.jar:2.20.0]\r\n    \t... 27 common frames omitted\r\n\r\nWhat wrong with my code base ?\r\n\r\nupdate:\r\n-\r\n\r\nAccording [Romat Vottnet advice][1] I&#39;ve wrote following:\r\n\r\n    @Component\r\n    public class CamelRoutes extends RouteBuilder {\r\n        @Override\r\n        public void configure() throws Exception {\r\n            \r\n            from(&quot;seda:second&quot;)                    \r\n                    .bean(&quot;helloWorld?method=smth()&quot;);\r\n                   \r\n        }\r\n    \r\n        public static class HelloWorld {\r\n            public void execute(String str) {\r\n                System.out.println(&quot;HelloWorld#execute: &quot; + str);\r\n            }\r\n    \r\n            public void smth(String str) {\r\n                System.out.println(&quot;HelloWorld#smth: &quot; + str);\r\n            }\r\n        }\r\n    \r\n        @Bean(name = &quot;helloWorld&quot;)\r\n        public HelloWorld helloWorld() {\r\n            return new HelloWorld();\r\n        }\r\n    }\r\n\r\nBut I see:\r\n\r\n    org.apache.camel.RuntimeCamelException: org.apache.camel.FailedToCreateRouteException: Failed to create route route4 at: &gt;&gt;&gt; Bean[ref:helloWorld?method=smth()] &lt;&lt;&lt; in route: Route(route4)[[From[seda:second]] -&gt; [Bean[ref:helloWorld?me... because of No bean could be found in the registry for: helloWorld?method=smth()\r\n    \tat org.apache.camel.util.ObjectHelper.wrapRuntimeCamelException(ObjectHelper.java:1831) ~[camel-core-2.20.0.jar:2.20.0]\r\n    \tat org.apache.camel.spring.SpringCamelContext.start(SpringCamelContext.java:136) ~[camel-spring-2.20.0.jar:2.20.0]\r\n    \tat org.apache.camel.spring.SpringCamelContext.onApplicationEvent(SpringCamelContext.java:174) ~[camel-spring-2.20.0.jar:2.20.0]\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:167) ~[spring-context-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139) ~[spring-context-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:383) ~[spring-context-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:337) ~[spring-context-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:882) ~[spring-context-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n    \tat org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.finishRefresh(EmbeddedWebApplicationContext.java:144) ~[spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:545) ~[spring-context-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n    \tat org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:122) ~[spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:737) [spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:370) [spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:314) [spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1162) [spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1151) [spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]\r\n    \tat SpringBootCamelIntegrationApplication.main(SpringBootCamelIntegrationApplication.java:9) [classes/:na]\r\n    Caused by: org.apache.camel.FailedToCreateRouteException: Failed to create route route4 at: &gt;&gt;&gt; Bean[ref:helloWorld?method=smth()] &lt;&lt;&lt; in route: Route(route4)[[From[seda:second]] -&gt; [Bean[ref:helloWorld?me... because of No bean could be found in the registry for: helloWorld?method=smth()\r\n    \tat org.apache.camel.model.RouteDefinition.addRoutes(RouteDefinition.java:1298) ~[camel-core-2.20.0.jar:2.20.0]\r\n    \tat org.apache.camel.model.RouteDefinition.addRoutes(RouteDefinition.java:204) ~[camel-core-2.20.0.jar:2.20.0]\r\n    \tat org.apache.camel.impl.DefaultCamelContext.startRoute(DefaultCamelContext.java:1135) ~[camel-core-2.20.0.jar:2.20.0]\r\n    \tat org.apache.camel.impl.DefaultCamelContext.startRouteDefinitions(DefaultCamelContext.java:3714) ~[camel-core-2.20.0.jar:2.20.0]\r\n    \tat org.apache.camel.impl.DefaultCamelContext.doStartCamel(DefaultCamelContext.java:3428) ~[camel-core-2.20.0.jar:2.20.0]\r\n    \tat org.apache.camel.impl.DefaultCamelContext.access$000(DefaultCamelContext.java:208) ~[camel-core-2.20.0.jar:2.20.0]\r\n    \tat org.apache.camel.impl.DefaultCamelContext$2.call(DefaultCamelContext.java:3236) ~[camel-core-2.20.0.jar:2.20.0]\r\n    \tat org.apache.camel.impl.DefaultCamelContext$2.call(DefaultCamelContext.java:3232) ~[camel-core-2.20.0.jar:2.20.0]\r\n    \tat org.apache.camel.impl.DefaultCamelContext.doWithDefinedClassLoader(DefaultCamelContext.java:3255) ~[camel-core-2.20.0.jar:2.20.0]\r\n    \tat org.apache.camel.impl.DefaultCamelContext.doStart(DefaultCamelContext.java:3232) ~[camel-core-2.20.0.jar:2.20.0]\r\n    \tat org.apache.camel.support.ServiceSupport.start(ServiceSupport.java:61) ~[camel-core-2.20.0.jar:2.20.0]\r\n    \tat org.apache.camel.impl.DefaultCamelContext.start(DefaultCamelContext.java:3155) ~[camel-core-2.20.0.jar:2.20.0]\r\n    \tat org.apache.camel.spring.SpringCamelContext.start(SpringCamelContext.java:133) ~[camel-spring-2.20.0.jar:2.20.0]\r\n    \t... 15 common frames omitted\r\n    Caused by: org.apache.camel.NoSuchBeanException: No bean could be found in the registry for: helloWorld?method=smth()\r\n    \tat org.apache.camel.component.bean.RegistryBean.getBean(RegistryBean.java:94) ~[camel-core-2.20.0.jar:2.20.0]\r\n    \tat org.apache.camel.component.bean.RegistryBean.createCacheHolder(RegistryBean.java:69) ~[camel-core-2.20.0.jar:2.20.0]\r\n    \tat org.apache.camel.model.BeanDefinition.createProcessor(BeanDefinition.java:251) ~[camel-core-2.20.0.jar:2.20.0]\r\n    \tat org.apache.camel.model.ProcessorDefinition.makeProcessorImpl(ProcessorDefinition.java:549) ~[camel-core-2.20.0.jar:2.20.0]\r\n    \tat org.apache.camel.model.ProcessorDefinition.makeProcessor(ProcessorDefinition.java:510) ~[camel-core-2.20.0.jar:2.20.0]\r\n    \tat org.apache.camel.model.ProcessorDefinition.addRoutes(ProcessorDefinition.java:226) ~[camel-core-2.20.0.jar:2.20.0]\r\n    \tat org.apache.camel.model.RouteDefinition.addRoutes(RouteDefinition.java:1295) ~[camel-core-2.20.0.jar:2.20.0]\r\n    \t... 27 common frames omitted\r\n\r\n\r\nwhen application starts.\r\n\r\nI checked - method marked as `@Bean` is invoked.\r\n\r\n  [1]: https://stackoverflow.com/questions/46907227/org-apache-camel-nosuchbeanexception-no-bean-could-be-found-in-the-registry-for/46907355?noredirect=1#comment80761967_46907355\r\n","title":"org.apache.camel.NoSuchBeanException: No bean could be found in the registry for:","body":"<p>I have the following route definition:</p>\n\n<pre><code>@Component\npublic class CamelRoutes extends RouteBuilder {\n    @Override\n    public void configure() throws Exception {\n           from(\"seda:second\")                   \n                .bean(\"helloWorld?method=smth\")    \n                .process(exchange -&gt; {\n                    System.out.println(\"Message:\" + exchange.getIn().getBody());\n                })\n                .log(\"body:${body}\");\n</code></pre>\n\n<p>and following bean:</p>\n\n<pre><code>public static class HelloWorld {\n       public void execute(String str){\n           System.out.println(\"HelloWorld#execute: \" + str);\n       }\n        public void smth(String str){\n            System.out.println(\"HelloWorld#smth: \" + str);\n        }\n    }\n</code></pre>\n\n<p>But application doesn't start.<br>\ntrace:</p>\n\n<pre><code>org.apache.camel.RuntimeCamelException: org.apache.camel.FailedToCreateRouteException: Failed to create route route4 at: &gt;&gt;&gt; Bean[ref:helloWorld?method=smth] &lt;&lt;&lt; in route: Route(route4)[[From[seda:second]] -&gt; [Bean[ref:helloWorld?me... because of No bean could be found in the registry for: helloWorld?method=smth\n    at org.apache.camel.util.ObjectHelper.wrapRuntimeCamelException(ObjectHelper.java:1831) ~[camel-core-2.20.0.jar:2.20.0]\n    at org.apache.camel.spring.SpringCamelContext.start(SpringCamelContext.java:136) ~[camel-spring-2.20.0.jar:2.20.0]\n    at org.apache.camel.spring.SpringCamelContext.onApplicationEvent(SpringCamelContext.java:174) ~[camel-spring-2.20.0.jar:2.20.0]\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:167) ~[spring-context-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139) ~[spring-context-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:383) ~[spring-context-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:337) ~[spring-context-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:882) ~[spring-context-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n    at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.finishRefresh(EmbeddedWebApplicationContext.java:144) ~[spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:545) ~[spring-context-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n    at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:122) ~[spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:737) [spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:370) [spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:314) [spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1162) [spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1151) [spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]\n    at SpringBootCamelIntegrationApplication.main(SpringBootCamelIntegrationApplication.java:9) [classes/:na]\nCaused by: org.apache.camel.FailedToCreateRouteException: Failed to create route route4 at: &gt;&gt;&gt; Bean[ref:helloWorld?method=smth] &lt;&lt;&lt; in route: Route(route4)[[From[seda:second]] -&gt; [Bean[ref:helloWorld?me... because of No bean could be found in the registry for: helloWorld?method=smth\n    at org.apache.camel.model.RouteDefinition.addRoutes(RouteDefinition.java:1298) ~[camel-core-2.20.0.jar:2.20.0]\n    at org.apache.camel.model.RouteDefinition.addRoutes(RouteDefinition.java:204) ~[camel-core-2.20.0.jar:2.20.0]\n    at org.apache.camel.impl.DefaultCamelContext.startRoute(DefaultCamelContext.java:1135) ~[camel-core-2.20.0.jar:2.20.0]\n    at org.apache.camel.impl.DefaultCamelContext.startRouteDefinitions(DefaultCamelContext.java:3714) ~[camel-core-2.20.0.jar:2.20.0]\n    at org.apache.camel.impl.DefaultCamelContext.doStartCamel(DefaultCamelContext.java:3428) ~[camel-core-2.20.0.jar:2.20.0]\n    at org.apache.camel.impl.DefaultCamelContext.access$000(DefaultCamelContext.java:208) ~[camel-core-2.20.0.jar:2.20.0]\n    at org.apache.camel.impl.DefaultCamelContext$2.call(DefaultCamelContext.java:3236) ~[camel-core-2.20.0.jar:2.20.0]\n    at org.apache.camel.impl.DefaultCamelContext$2.call(DefaultCamelContext.java:3232) ~[camel-core-2.20.0.jar:2.20.0]\n    at org.apache.camel.impl.DefaultCamelContext.doWithDefinedClassLoader(DefaultCamelContext.java:3255) ~[camel-core-2.20.0.jar:2.20.0]\n    at org.apache.camel.impl.DefaultCamelContext.doStart(DefaultCamelContext.java:3232) ~[camel-core-2.20.0.jar:2.20.0]\n    at org.apache.camel.support.ServiceSupport.start(ServiceSupport.java:61) ~[camel-core-2.20.0.jar:2.20.0]\n    at org.apache.camel.impl.DefaultCamelContext.start(DefaultCamelContext.java:3155) ~[camel-core-2.20.0.jar:2.20.0]\n    at org.apache.camel.spring.SpringCamelContext.start(SpringCamelContext.java:133) ~[camel-spring-2.20.0.jar:2.20.0]\n    ... 15 common frames omitted\nCaused by: org.apache.camel.NoSuchBeanException: No bean could be found in the registry for: helloWorld?method=smth\n    at org.apache.camel.component.bean.RegistryBean.getBean(RegistryBean.java:94) ~[camel-core-2.20.0.jar:2.20.0]\n    at org.apache.camel.component.bean.RegistryBean.createCacheHolder(RegistryBean.java:69) ~[camel-core-2.20.0.jar:2.20.0]\n    at org.apache.camel.model.BeanDefinition.createProcessor(BeanDefinition.java:251) ~[camel-core-2.20.0.jar:2.20.0]\n    at org.apache.camel.model.ProcessorDefinition.makeProcessorImpl(ProcessorDefinition.java:549) ~[camel-core-2.20.0.jar:2.20.0]\n    at org.apache.camel.model.ProcessorDefinition.makeProcessor(ProcessorDefinition.java:510) ~[camel-core-2.20.0.jar:2.20.0]\n    at org.apache.camel.model.ProcessorDefinition.addRoutes(ProcessorDefinition.java:226) ~[camel-core-2.20.0.jar:2.20.0]\n    at org.apache.camel.model.RouteDefinition.addRoutes(RouteDefinition.java:1295) ~[camel-core-2.20.0.jar:2.20.0]\n    ... 27 common frames omitted\n</code></pre>\n\n<p>What wrong with my code base ?</p>\n\n<h2>update:</h2>\n\n<p>According <a href=\"https://stackoverflow.com/questions/46907227/org-apache-camel-nosuchbeanexception-no-bean-could-be-found-in-the-registry-for/46907355?noredirect=1#comment80761967_46907355\">Romat Vottnet advice</a> I've wrote following:</p>\n\n<pre><code>@Component\npublic class CamelRoutes extends RouteBuilder {\n    @Override\n    public void configure() throws Exception {\n\n        from(\"seda:second\")                    \n                .bean(\"helloWorld?method=smth()\");\n\n    }\n\n    public static class HelloWorld {\n        public void execute(String str) {\n            System.out.println(\"HelloWorld#execute: \" + str);\n        }\n\n        public void smth(String str) {\n            System.out.println(\"HelloWorld#smth: \" + str);\n        }\n    }\n\n    @Bean(name = \"helloWorld\")\n    public HelloWorld helloWorld() {\n        return new HelloWorld();\n    }\n}\n</code></pre>\n\n<p>But I see:</p>\n\n<pre><code>org.apache.camel.RuntimeCamelException: org.apache.camel.FailedToCreateRouteException: Failed to create route route4 at: &gt;&gt;&gt; Bean[ref:helloWorld?method=smth()] &lt;&lt;&lt; in route: Route(route4)[[From[seda:second]] -&gt; [Bean[ref:helloWorld?me... because of No bean could be found in the registry for: helloWorld?method=smth()\n    at org.apache.camel.util.ObjectHelper.wrapRuntimeCamelException(ObjectHelper.java:1831) ~[camel-core-2.20.0.jar:2.20.0]\n    at org.apache.camel.spring.SpringCamelContext.start(SpringCamelContext.java:136) ~[camel-spring-2.20.0.jar:2.20.0]\n    at org.apache.camel.spring.SpringCamelContext.onApplicationEvent(SpringCamelContext.java:174) ~[camel-spring-2.20.0.jar:2.20.0]\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:167) ~[spring-context-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139) ~[spring-context-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:383) ~[spring-context-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:337) ~[spring-context-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:882) ~[spring-context-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n    at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.finishRefresh(EmbeddedWebApplicationContext.java:144) ~[spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:545) ~[spring-context-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n    at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:122) ~[spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:737) [spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:370) [spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:314) [spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1162) [spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1151) [spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]\n    at SpringBootCamelIntegrationApplication.main(SpringBootCamelIntegrationApplication.java:9) [classes/:na]\nCaused by: org.apache.camel.FailedToCreateRouteException: Failed to create route route4 at: &gt;&gt;&gt; Bean[ref:helloWorld?method=smth()] &lt;&lt;&lt; in route: Route(route4)[[From[seda:second]] -&gt; [Bean[ref:helloWorld?me... because of No bean could be found in the registry for: helloWorld?method=smth()\n    at org.apache.camel.model.RouteDefinition.addRoutes(RouteDefinition.java:1298) ~[camel-core-2.20.0.jar:2.20.0]\n    at org.apache.camel.model.RouteDefinition.addRoutes(RouteDefinition.java:204) ~[camel-core-2.20.0.jar:2.20.0]\n    at org.apache.camel.impl.DefaultCamelContext.startRoute(DefaultCamelContext.java:1135) ~[camel-core-2.20.0.jar:2.20.0]\n    at org.apache.camel.impl.DefaultCamelContext.startRouteDefinitions(DefaultCamelContext.java:3714) ~[camel-core-2.20.0.jar:2.20.0]\n    at org.apache.camel.impl.DefaultCamelContext.doStartCamel(DefaultCamelContext.java:3428) ~[camel-core-2.20.0.jar:2.20.0]\n    at org.apache.camel.impl.DefaultCamelContext.access$000(DefaultCamelContext.java:208) ~[camel-core-2.20.0.jar:2.20.0]\n    at org.apache.camel.impl.DefaultCamelContext$2.call(DefaultCamelContext.java:3236) ~[camel-core-2.20.0.jar:2.20.0]\n    at org.apache.camel.impl.DefaultCamelContext$2.call(DefaultCamelContext.java:3232) ~[camel-core-2.20.0.jar:2.20.0]\n    at org.apache.camel.impl.DefaultCamelContext.doWithDefinedClassLoader(DefaultCamelContext.java:3255) ~[camel-core-2.20.0.jar:2.20.0]\n    at org.apache.camel.impl.DefaultCamelContext.doStart(DefaultCamelContext.java:3232) ~[camel-core-2.20.0.jar:2.20.0]\n    at org.apache.camel.support.ServiceSupport.start(ServiceSupport.java:61) ~[camel-core-2.20.0.jar:2.20.0]\n    at org.apache.camel.impl.DefaultCamelContext.start(DefaultCamelContext.java:3155) ~[camel-core-2.20.0.jar:2.20.0]\n    at org.apache.camel.spring.SpringCamelContext.start(SpringCamelContext.java:133) ~[camel-spring-2.20.0.jar:2.20.0]\n    ... 15 common frames omitted\nCaused by: org.apache.camel.NoSuchBeanException: No bean could be found in the registry for: helloWorld?method=smth()\n    at org.apache.camel.component.bean.RegistryBean.getBean(RegistryBean.java:94) ~[camel-core-2.20.0.jar:2.20.0]\n    at org.apache.camel.component.bean.RegistryBean.createCacheHolder(RegistryBean.java:69) ~[camel-core-2.20.0.jar:2.20.0]\n    at org.apache.camel.model.BeanDefinition.createProcessor(BeanDefinition.java:251) ~[camel-core-2.20.0.jar:2.20.0]\n    at org.apache.camel.model.ProcessorDefinition.makeProcessorImpl(ProcessorDefinition.java:549) ~[camel-core-2.20.0.jar:2.20.0]\n    at org.apache.camel.model.ProcessorDefinition.makeProcessor(ProcessorDefinition.java:510) ~[camel-core-2.20.0.jar:2.20.0]\n    at org.apache.camel.model.ProcessorDefinition.addRoutes(ProcessorDefinition.java:226) ~[camel-core-2.20.0.jar:2.20.0]\n    at org.apache.camel.model.RouteDefinition.addRoutes(RouteDefinition.java:1295) ~[camel-core-2.20.0.jar:2.20.0]\n    ... 27 common frames omitted\n</code></pre>\n\n<p>when application starts.</p>\n\n<p>I checked - method marked as <code>@Bean</code> is invoked.</p>\n"},{"tags":["java","spring-boot","azure","azure-active-directory","active-directory"],"comments":[{"owner":{"account_id":19892464,"reputation":11446,"user_id":14574199,"display_name":"Tiny Wang"},"score":1,"creation_date":1666771256,"post_id":74200252,"comment_id":131012474,"body_markdown":"here a sample:https://github.com/Azure-Samples/ms-identity-msal-java-samples/tree/main/4.%20Spring%20Framework%20Web%20App%20Tutorial/1-Authentication/sign-in","body":"here a sample:<a href=\"https://github.com/Azure-Samples/ms-identity-msal-java-samples/tree/main/4.%20Spring%20Framework%20Web%20App%20Tutorial/1-Authentication/sign-in\" rel=\"nofollow noreferrer\">github.com/Azure-Samples/ms-identity-msal-java-sample&zwnj;&#8203;s/tree/&hellip;</a>"}],"owner":{"account_id":9590901,"reputation":151,"user_id":7121820,"display_name":"Alex"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":421,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666747698,"creation_date":1666732282,"question_id":74200252,"body_markdown":"I tried to integrate Azure AD with a Spring Boot web application, I followed the example from the [Azure&#39;s documentation][1] but I encountered an error message: &quot;[invalid_request] AADSTS9000411: The request is not properly formatted. The parameter &#39;scope&#39; is duplicated...&quot;, as shown in the below screenshot.\r\n\r\nI can&#39;t find any `scope` parameter to figure out why it says is duplicated.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nI have in the `application.properties` file the following setup:\r\n\r\n    spring.cloud.azure.active-directory.enabled=true\r\n    #Specifies your Active Directory ID:\r\n    spring.cloud.azure.active-directory.credential.client-id=...\r\n    spring.cloud.azure.active-directory.profile.tenant-id=...\r\n    spring.cloud.azure.active-directory.credential.client-secret=...\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/azure/developer/java/spring-framework/configure-spring-boot-starter-java-app-with-azure-active-directory\r\n  [2]: https://i.stack.imgur.com/Sr7Rt.jpg\r\n\r\nDoes anyone had the same issue?","title":"Azure AD configuration for Spring Boot","body":"<p>I tried to integrate Azure AD with a Spring Boot web application, I followed the example from the <a href=\"https://learn.microsoft.com/en-us/azure/developer/java/spring-framework/configure-spring-boot-starter-java-app-with-azure-active-directory\" rel=\"nofollow noreferrer\">Azure's documentation</a> but I encountered an error message: &quot;[invalid_request] AADSTS9000411: The request is not properly formatted. The parameter 'scope' is duplicated...&quot;, as shown in the below screenshot.</p>\n<p>I can't find any <code>scope</code> parameter to figure out why it says is duplicated.</p>\n<p><a href=\"https://i.stack.imgur.com/Sr7Rt.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Sr7Rt.jpg\" alt=\"enter image description here\" /></a></p>\n<p>I have in the <code>application.properties</code> file the following setup:</p>\n<pre><code>spring.cloud.azure.active-directory.enabled=true\n#Specifies your Active Directory ID:\nspring.cloud.azure.active-directory.credential.client-id=...\nspring.cloud.azure.active-directory.profile.tenant-id=...\nspring.cloud.azure.active-directory.credential.client-secret=...\n</code></pre>\n<p>Does anyone had the same issue?</p>\n"},{"tags":["java","garbage-collection"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1663747406,"post_id":73797246,"comment_id":130309613,"body_markdown":"Some garbage collectors require more memory than others for their own bookkeeping (that is, BTW, not Java heap memory). Likely you&#39;re now using G1GC, which requires more memory than the CMS-GC you were previously using. Also, each GC has its own memory-behaviour (e.g. some are likely to only allocate memory when really needed, while others are more prone to be generous in memory consumption to reduce CPU cost of GC, etc.)","body":"Some garbage collectors require more memory than others for their own bookkeeping (that is, BTW, not Java heap memory). Likely you&#39;re now using G1GC, which requires more memory than the CMS-GC you were previously using. Also, each GC has its own memory-behaviour (e.g. some are likely to only allocate memory when really needed, while others are more prone to be generous in memory consumption to reduce CPU cost of GC, etc.)"},{"owner":{"account_id":16348542,"reputation":551,"user_id":11807683,"display_name":"czr_RR"},"score":0,"creation_date":1663749430,"post_id":73797246,"comment_id":130310254,"body_markdown":"Thanks for replying @MarkRotteveel, just did a quick test with the following command to see which GC would it choose with the pod specs `docker run --cpus=0.5 --memory=256Mi --rm -it eclipse-temurin:17-jre java -Xlog:gc\\* -version` and the output is `[0.005s][info][gc] Using Serial`","body":"Thanks for replying @MarkRotteveel, just did a quick test with the following command to see which GC would it choose with the pod specs <code>docker run --cpus=0.5 --memory=256Mi --rm -it eclipse-temurin:17-jre java -Xlog:gc\\* -version</code> and the output is <code>[0.005s][info][gc] Using Serial</code>"}],"owner":{"account_id":16348542,"reputation":551,"user_id":11807683,"display_name":"czr_RR"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1406,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666747562,"creation_date":1663747172,"question_id":73797246,"body_markdown":"Recently, I upgraded a Docker image from `opendjk:11-jre` to `eclipse-temurin:17-jre`, and since the change has been performed I&#39;ve just realised that the heap memory consumption has grown significantly (60MiB to 140MiB in some cases). I was wondering, is this a memory leak or misconfiguration in the flags when launching the image?\r\n\r\nAlso, I noticed that GC takes place way less times than before.\r\n\r\nIn Java 11, I had these options enabled so that memory consumption was uniform and no restarts due to OOMs were identified: `-XX:+UseConcMarkSweepGC -XX:+CMSParallelRemarkEnabled`, but now those options are long gone and cannot be used in Java 17.\r\n\r\nIs there a clear reason for the increase in memory consumption and restarts due to OOMs? Am I missing some flags in Java 17?","title":"Increase in heap memory consumption and OOMs after upgrade to Java 17?","body":"<p>Recently, I upgraded a Docker image from <code>opendjk:11-jre</code> to <code>eclipse-temurin:17-jre</code>, and since the change has been performed I've just realised that the heap memory consumption has grown significantly (60MiB to 140MiB in some cases). I was wondering, is this a memory leak or misconfiguration in the flags when launching the image?</p>\n<p>Also, I noticed that GC takes place way less times than before.</p>\n<p>In Java 11, I had these options enabled so that memory consumption was uniform and no restarts due to OOMs were identified: <code>-XX:+UseConcMarkSweepGC -XX:+CMSParallelRemarkEnabled</code>, but now those options are long gone and cannot be used in Java 17.</p>\n<p>Is there a clear reason for the increase in memory consumption and restarts due to OOMs? Am I missing some flags in Java 17?</p>\n"},{"tags":["java","api","automation","report","karate"],"comments":[{"owner":{"account_id":48302,"reputation":55363,"user_id":143475,"display_name":"Peter Thomas"},"score":1,"creation_date":1666763446,"post_id":74201418,"comment_id":131010376,"body_markdown":"here&#39;s my personal opinion: go and talk to your client and get them to agree to the report that karate gives out by default. the goal of your team should be to do testing, not waste time creating pretty documents. just because someone created an excel template in the past doesn&#39;t mean that everything has to be in that template. anyway, with that rant out of the way - if you really need a custom format, you can do that with karate - but you have to be prepared to write some code, which I think is perfectly reasonable - see the linked answer.","body":"here&#39;s my personal opinion: go and talk to your client and get them to agree to the report that karate gives out by default. the goal of your team should be to do testing, not waste time creating pretty documents. just because someone created an excel template in the past doesn&#39;t mean that everything has to be in that template. anyway, with that rant out of the way - if you really need a custom format, you can do that with karate - but you have to be prepared to write some code, which I think is perfectly reasonable - see the linked answer."}],"answers":[{"tags":[],"owner":{"account_id":25207878,"reputation":119,"user_id":19045949,"display_name":"HopefullyHelpful"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666747346,"creation_date":1666747346,"answer_id":74201719,"question_id":74201418,"body_markdown":"Apologies as this isn&#39;t meant as an answer but I do not have the required reputation to simply add a comment. \r\n\r\nAs of karate 1.0 the `doc` command has been added - documentation [here][1]\r\n\r\nI believe you can find more information about it from [this][2] link which I found from the karate [site][3] (that hasn&#39;t been updated for awhile)\r\n\r\n\r\n  [1]: https://github.com/karatelabs/karate#doc\r\n  [2]: https://www.thymeleaf.org/index.html\r\n  [3]: https://software-that-matters.com/2021/01/27/7-new-features-in-karate-test-automation-version-1_0/","title":"How to create customized report using karate with all scenarios (from multiple feature files)","body":"<p>Apologies as this isn't meant as an answer but I do not have the required reputation to simply add a comment.</p>\n<p>As of karate 1.0 the <code>doc</code> command has been added - documentation <a href=\"https://github.com/karatelabs/karate#doc\" rel=\"nofollow noreferrer\">here</a></p>\n<p>I believe you can find more information about it from <a href=\"https://www.thymeleaf.org/index.html\" rel=\"nofollow noreferrer\">this</a> link which I found from the karate <a href=\"https://software-that-matters.com/2021/01/27/7-new-features-in-karate-test-automation-version-1_0/\" rel=\"nofollow noreferrer\">site</a> (that hasn't been updated for awhile)</p>\n"}],"owner":{"account_id":5324775,"reputation":11,"user_id":4247101,"display_name":"UMADEVI MANIMARAN"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":637,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1666763173,"answer_count":1,"score":1,"last_activity_date":1666747346,"creation_date":1666743352,"question_id":74201418,"body_markdown":"I want to create a status report that can be email to client on a daily basis.\r\n\r\nThere are multiple feature file and each feature file have multiple scenarios in the framework.\r\nI want to consolidate everything and generate a report and send that report through jenkins run everyday.\r\n\r\nUsing karate, I am able to generate karate-summary report and cucumber-report, But client is expecting the report with Test case name, status, Duration of testcase run, failure reasons which is something like this, Any suggestions on how to achieve this?\r\n\r\n[![enter image description here](https://i.stack.imgur.com/Ncidw.png)](https://i.stack.imgur.com/Ncidw.png)\r\n\r\n[![enter image description here](https://i.stack.imgur.com/tdY4c.png)](https://i.stack.imgur.com/tdY4c.png)\r\n","title":"How to create customized report using karate with all scenarios (from multiple feature files)","body":"<p>I want to create a status report that can be email to client on a daily basis.</p>\n<p>There are multiple feature file and each feature file have multiple scenarios in the framework.\nI want to consolidate everything and generate a report and send that report through jenkins run everyday.</p>\n<p>Using karate, I am able to generate karate-summary report and cucumber-report, But client is expecting the report with Test case name, status, Duration of testcase run, failure reasons which is something like this, Any suggestions on how to achieve this?</p>\n<p><a href=\"https://i.stack.imgur.com/Ncidw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ncidw.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/tdY4c.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tdY4c.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["javascript","java","node.js","spring","express"],"comments":[{"owner":{"account_id":4600649,"reputation":209693,"user_id":3731501,"accept_rate":77,"display_name":"Estus Flask"},"score":1,"creation_date":1537622404,"post_id":52456877,"comment_id":91856322,"body_markdown":"They are totally different. Express is barebone web server framework and has no opinionated first-part counterpart to Spring Boot. The question is offtopic on SO.","body":"They are totally different. Express is barebone web server framework and has no opinionated first-part counterpart to Spring Boot. The question is offtopic on SO."},{"owner":{"account_id":18360968,"reputation":425,"user_id":13373095,"display_name":"Rituraj Shakti"},"score":0,"creation_date":1625151244,"post_id":52456877,"comment_id":120556822,"body_markdown":"Express is better because it uses node.js which can handle high traffic simultaneously. Whereas Spring uses java which is ofcourse much faster than node.js, but its not good for simultaneous larger traffic handling. So, (node.js + express) is best suited for REST API.\n\nMany companies have already switched from Java/Spring to node/express.","body":"Express is better because it uses node.js which can handle high traffic simultaneously. Whereas Spring uses java which is ofcourse much faster than node.js, but its not good for simultaneous larger traffic handling. So, (node.js + express) is best suited for REST API.  Many companies have already switched from Java/Spring to node/express."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1666744285,"post_id":52456877,"comment_id":131007447,"body_markdown":"@RiturajShakti Java/Spring can handle large traffic absolutely fine, especially using Spring Webflux. There&#39;s probably many companies switching from Java to Go or Rust as well, so it&#39;s unclear what point you&#39;re trying to make.","body":"@RiturajShakti Java/Spring can handle large traffic absolutely fine, especially using Spring Webflux. There&#39;s probably many companies switching from Java to Go or Rust as well, so it&#39;s unclear what point you&#39;re trying to make."}],"answers":[{"tags":[],"owner":{"account_id":8317671,"reputation":4009,"user_id":6250402,"display_name":"hong4rc"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1537621715,"creation_date":1537621715,"answer_id":52456957,"question_id":52456877,"body_markdown":"You can&#39;t say what is better.\r\n\r\nBut I like Express.js, it is easy to learn, setup(There are lot of choices in Spring can make you confused easily).\r\n\r\nI don&#39;t compare it, you can check\r\n\r\n - [Should I be Node.js or Java Spring developer?][1]\r\n - [What are the advantages of Spring Boot over Node.js for a RESTful web service?][2]\r\n - etc with [Express.js vs Spring][3]\r\n\r\n \r\n\r\n\r\n  [1]: https://www.quora.com/Should-I-be-Node-js-or-Java-Spring-developer\r\n  [2]: https://www.quora.com/What-are-the-advantages-of-Spring-Boot-over-Node-js-for-a-RESTful-web-service\r\n  [3]: https://www.google.com.vn/search?q=Express.js%20vs%20Spring","title":"Express.js vs Spring who&#39;s the best","body":"<p>You can't say what is better.</p>\n\n<p>But I like Express.js, it is easy to learn, setup(There are lot of choices in Spring can make you confused easily).</p>\n\n<p>I don't compare it, you can check</p>\n\n<ul>\n<li><a href=\"https://www.quora.com/Should-I-be-Node-js-or-Java-Spring-developer\" rel=\"noreferrer\">Should I be Node.js or Java Spring developer?</a></li>\n<li><a href=\"https://www.quora.com/What-are-the-advantages-of-Spring-Boot-over-Node-js-for-a-RESTful-web-service\" rel=\"noreferrer\">What are the advantages of Spring Boot over Node.js for a RESTful web service?</a></li>\n<li>etc with <a href=\"https://www.google.com.vn/search?q=Express.js%20vs%20Spring\" rel=\"noreferrer\">Express.js vs Spring</a></li>\n</ul>\n"}],"owner":{"account_id":7571501,"reputation":53,"user_id":5745235,"display_name":"powerxon"},"comment_count":3,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21940,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"closed_date":1537685147,"accepted_answer_id":52456957,"answer_count":1,"score":1,"last_activity_date":1666744356,"creation_date":1537621111,"question_id":52456877,"body_markdown":"what is the best framework to start developing a strong web application?  \r\nthat in a future it is easy to maintain and that in a team it is easy to develop?  \r\nmaybe it&#39;s better something like Scala and the Play framework?\r\n\r\nwhy use one rather than another?  \r\nwho in the future will have the best from the web point of view?\r\n\r\nI&#39;m undecided about using one of these\r\n\r\n","title":"Express.js vs Spring who&#39;s the best","body":"<p>what is the best framework to start developing a strong web application?<br />\nthat in a future it is easy to maintain and that in a team it is easy to develop?<br />\nmaybe it's better something like Scala and the Play framework?</p>\n<p>why use one rather than another?<br />\nwho in the future will have the best from the web point of view?</p>\n<p>I'm undecided about using one of these</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":517968,"reputation":619,"user_id":2881548,"accept_rate":0,"display_name":"THM"},"score":0,"creation_date":1666778267,"post_id":74201395,"comment_id":131014766,"body_markdown":"instead of use static methods recommend you @UtilityClass (https://projectlombok.org/features/experimental/UtilityClass)","body":"instead of use static methods recommend you @UtilityClass (<a href=\"https://projectlombok.org/features/experimental/UtilityClass\" rel=\"nofollow noreferrer\">projectlombok.org/features/experimental/UtilityClass</a>)"}],"answers":[{"tags":[],"owner":{"account_id":75804,"reputation":94840,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1666744276,"creation_date":1666744276,"answer_id":74201494,"question_id":74201395,"body_markdown":"First of all, you shouldn&#39;t use a static method to get the time. You can inject a Clock implementation into spring components so that tests can substitute their own predictable clock. That way code that gets the time can assert the expected value of the time. \r\n\r\nSpring has control over how it creates component objects but it has no control over classloading, spring can&#39;t control which class loads first and make sure static fields have valid values at a given time.  It&#39;s always better not to use static methods in spring for anything but code that has no dependencies or side effects whatsoever. ","title":"Spring - Difference between using static method and @Component","body":"<p>First of all, you shouldn't use a static method to get the time. You can inject a Clock implementation into spring components so that tests can substitute their own predictable clock. That way code that gets the time can assert the expected value of the time.</p>\n<p>Spring has control over how it creates component objects but it has no control over classloading, spring can't control which class loads first and make sure static fields have valid values at a given time.  It's always better not to use static methods in spring for anything but code that has no dependencies or side effects whatsoever.</p>\n"}],"owner":{"account_id":26732850,"reputation":13,"user_id":20334895,"display_name":"Submarine"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":537,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74201494,"answer_count":1,"score":0,"last_activity_date":1666744276,"creation_date":1666743110,"question_id":74201395,"body_markdown":"I&#39;m working on Java Spring \r\n\r\nI wanna make simple Util methods like &#39;get current time as string, split string on special condition,  etc..) \r\n\r\n\r\nI think there is two ways to develop;\r\n\r\n**1. using static method**\r\n```java\r\n/* using static method */\r\npublic class TestUtil {\r\n  public static String printTest() {\r\n    System.out.println(&quot;test!&quot;);\r\n  }\r\n}\r\n\r\n// Call Method\r\npublic class Caller {\r\n  public void callTest() {\r\n    TestUtil.printTest();\r\n  }\r\n}\r\n\r\n```\r\n\r\n**2. set as component**\r\n```java\r\n/* using as @component */\r\n@Component\r\npublic class TestUtil {\r\n  public String printTest() {\r\n    System.out.println(&quot;test!&quot;);\r\n  }\r\n}\r\n\r\n\r\n// Call Method\r\npublic class Caller {\r\n\r\n  @Autowired\r\n  TestUtil testutil;\r\n\r\n  public void callTest() {\r\n    testutil.printTest();\r\n  }\r\n}\r\n```\r\n\r\nWhich of the two looks better? And What is the main difference?\r\n\r\nCan you answer, you have great mercy on this miserable junior developer.\r\nThank for your answer\r\n\r\n","title":"Spring - Difference between using static method and @Component","body":"<p>I'm working on Java Spring</p>\n<p>I wanna make simple Util methods like 'get current time as string, split string on special condition,  etc..)</p>\n<p>I think there is two ways to develop;</p>\n<p><strong>1. using static method</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>/* using static method */\npublic class TestUtil {\n  public static String printTest() {\n    System.out.println(&quot;test!&quot;);\n  }\n}\n\n// Call Method\npublic class Caller {\n  public void callTest() {\n    TestUtil.printTest();\n  }\n}\n\n</code></pre>\n<p><strong>2. set as component</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>/* using as @component */\n@Component\npublic class TestUtil {\n  public String printTest() {\n    System.out.println(&quot;test!&quot;);\n  }\n}\n\n\n// Call Method\npublic class Caller {\n\n  @Autowired\n  TestUtil testutil;\n\n  public void callTest() {\n    testutil.printTest();\n  }\n}\n</code></pre>\n<p>Which of the two looks better? And What is the main difference?</p>\n<p>Can you answer, you have great mercy on this miserable junior developer.\nThank for your answer</p>\n"},{"tags":["java","callback","function-pointers"],"comments":[{"owner":{"account_id":443137,"reputation":7855,"user_id":834176,"accept_rate":90,"display_name":"Keith Pinson"},"score":55,"creation_date":1313175240,"post_id":443708,"comment_id":8420126,"body_markdown":"It&#39;s overkill because Java is nonfunctional (that&#39;s supposed to be a pun...).","body":"It&#39;s overkill because Java is nonfunctional (that&#39;s supposed to be a pun...)."},{"owner":{"account_id":297814,"reputation":25324,"user_id":603516,"accept_rate":100,"display_name":"Vadzim"},"score":0,"creation_date":1498642389,"post_id":443708,"comment_id":76577520,"body_markdown":"Another java 8 example: https://stackoverflow.com/questions/14319787/how-to-specify-function-types-for-void-not-void-methods-in-java8","body":"Another java 8 example: <a href=\"https://stackoverflow.com/questions/14319787/how-to-specify-function-types-for-void-not-void-methods-in-java8\" title=\"how to specify function types for void not void methods in java8\">stackoverflow.com/questions/14319787/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":16216,"reputation":110786,"user_id":35092,"accept_rate":83,"display_name":"Charlie Martin"},"score":4,"creation_date":1231952743,"post_id":443741,"comment_id":265389,"body_markdown":"This is the canonical method since Java 1.0.","body":"This is the canonical method since Java 1.0."},{"owner":{"account_id":10732,"reputation":54830,"user_id":20400,"accept_rate":72,"display_name":"Omar Kooheji"},"score":2,"creation_date":1254412929,"post_id":443741,"comment_id":1358018,"body_markdown":"I&#39;ve been usign this, it&#39;s slioghtly more verbose than what I&#39;d like, but it works.","body":"I&#39;ve been usign this, it&#39;s slioghtly more verbose than what I&#39;d like, but it works."},{"owner":{"account_id":12585,"reputation":303280,"user_id":24874,"accept_rate":78,"display_name":"Drew Noakes"},"score":25,"creation_date":1304348203,"post_id":443741,"comment_id":6732811,"body_markdown":"@Omar, agreed.  I&#39;ve come back to Java after a long stint with C# and really miss lambdas/delegates.  Come on Java!","body":"@Omar, agreed.  I&#39;ve come back to Java after a long stint with C# and really miss lambdas/delegates.  Come on Java!"},{"owner":{"account_id":243942,"reputation":14357,"user_id":516433,"accept_rate":69,"display_name":"Lucas"},"score":4,"creation_date":1364830197,"post_id":443741,"comment_id":22375386,"body_markdown":"@DrewNoakes, good news is, [Java 8](http://www.techempower.com/blog/2013/03/26/everything-about-java-8/) has lambdas (mostly)...","body":"@DrewNoakes, good news is, <a href=\"http://www.techempower.com/blog/2013/03/26/everything-about-java-8/\" rel=\"nofollow noreferrer\">Java 8</a> has lambdas (mostly)..."},{"owner":{"account_id":4304114,"reputation":4450,"user_id":3517025,"accept_rate":73,"display_name":"Joey Baruch"},"score":2,"creation_date":1444754497,"post_id":443741,"comment_id":54030797,"body_markdown":"since you&#39;ve defined the interface Visitor with a single method, you can pass lambdas that match instead of it.","body":"since you&#39;ve defined the interface Visitor with a single method, you can pass lambdas that match instead of it."}],"tags":[],"owner":{"account_id":7226,"reputation":29731,"user_id":12460,"accept_rate":95,"display_name":"Gant"},"comment_count":5,"down_vote_count":3,"up_vote_count":179,"is_accepted":true,"score":176,"last_activity_date":1387285171,"creation_date":1231951693,"answer_id":443741,"question_id":443708,"body_markdown":"If you mean somthing like .NET anonymous delegate, I think Java&#39;s anonymous class can be used as well. \r\n\r\n    public class Main {\r\n    \r\n        public interface Visitor{\r\n            int doJob(int a, int b);\r\n        }\r\n    \r\n    \r\n        public static void main(String[] args) {\r\n            Visitor adder = new Visitor(){\r\n                public int doJob(int a, int b) {\r\n                    return a + b;\r\n                }\r\n            };\r\n    \r\n            Visitor multiplier = new Visitor(){\r\n                public int doJob(int a, int b) {\r\n                    return a*b;\r\n                }\r\n            };\r\n    \r\n            System.out.println(adder.doJob(10, 20));\r\n            System.out.println(multiplier.doJob(10, 20));\r\n    \r\n        }\r\n    }","title":"Callback functions in Java","body":"<p>If you mean somthing like .NET anonymous delegate, I think Java's anonymous class can be used as well. </p>\n\n<pre><code>public class Main {\n\n    public interface Visitor{\n        int doJob(int a, int b);\n    }\n\n\n    public static void main(String[] args) {\n        Visitor adder = new Visitor(){\n            public int doJob(int a, int b) {\n                return a + b;\n            }\n        };\n\n        Visitor multiplier = new Visitor(){\n            public int doJob(int a, int b) {\n                return a*b;\n            }\n        };\n\n        System.out.println(adder.doJob(10, 20));\n        System.out.println(multiplier.doJob(10, 20));\n\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":23414,"reputation":7718,"user_id":58668,"accept_rate":39,"display_name":"Jonas K&#246;lker"},"score":1,"creation_date":1242556496,"post_id":443746,"comment_id":681790,"body_markdown":"&quot;A method is not (yet) a first-class object in Java&quot; -- well, there&#39;s the method class[1], of which you can certainly pass around instances.  It&#39;s not the clean, idiomatic, OO code that you&#39;d expect from java, but it might be expedient.  Certainly something to consider, though.\n\n[1] http://java.sun.com/j2se/1.4.2/docs/api/java/lang/reflect/Method.html","body":"&quot;A method is not (yet) a first-class object in Java&quot; -- well, there&#39;s the method class[1], of which you can certainly pass around instances.  It&#39;s not the clean, idiomatic, OO code that you&#39;d expect from java, but it might be expedient.  Certainly something to consider, though.  [1] <a href=\"http://java.sun.com/j2se/1.4.2/docs/api/java/lang/reflect/Method.html\" rel=\"nofollow noreferrer\">java.sun.com/j2se/1.4.2/docs/api/java/lang/reflect/Method.ht&zwnj;&#8203;ml</a>"}],"tags":[],"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1231951733,"creation_date":1231951733,"answer_id":443746,"question_id":443708,"body_markdown":"A method is not (yet) a first-class object in Java; you can&#39;t pass a function pointer as a callback. Instead, create an object (which usually implements an interface) that contains the method you need and pass that.\r\n\r\nProposals for closures in Java&amp;mdash;which would provide the behavior you are looking for&amp;mdash;have been made, but none will be included in the upcoming Java 7 release.","title":"Callback functions in Java","body":"<p>A method is not (yet) a first-class object in Java; you can't pass a function pointer as a callback. Instead, create an object (which usually implements an interface) that contains the method you need and pass that.</p>\n\n<p>Proposals for closures in Java&mdash;which would provide the behavior you are looking for&mdash;have been made, but none will be included in the upcoming Java 7 release.</p>\n"},{"tags":[],"owner":{"account_id":21632,"reputation":10223,"user_id":52734,"accept_rate":100,"display_name":"MattK"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1231951849,"creation_date":1231951849,"answer_id":443759,"question_id":443708,"body_markdown":"When I need this kind of functionality in Java, I usually use the &lt;a href=&quot;http://en.wikipedia.org/wiki/Observer_pattern&quot;&gt;Observer pattern&lt;/a&gt;.  It does imply an extra object, but I think it&#39;s a clean way to go, and is a widely understood pattern, which helps with code readability.","title":"Callback functions in Java","body":"<p>When I need this kind of functionality in Java, I usually use the <a href=\"http://en.wikipedia.org/wiki/Observer_pattern\" rel=\"nofollow noreferrer\">Observer pattern</a>.  It does imply an extra object, but I think it's a clean way to go, and is a widely understood pattern, which helps with code readability.</p>\n"},{"comments":[{"owner":{"account_id":10732,"reputation":54830,"user_id":20400,"accept_rate":72,"display_name":"Omar Kooheji"},"score":13,"creation_date":1254411974,"post_id":1026410,"comment_id":1357905,"body_markdown":"Yes that is what i meant. With 30 or so events you end up with 30 classes.","body":"Yes that is what i meant. With 30 or so events you end up with 30 classes."}],"tags":[],"owner":{"account_id":9193,"reputation":343123,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"comment_count":1,"down_vote_count":1,"up_vote_count":18,"is_accepted":false,"score":17,"last_activity_date":1245665637,"creation_date":1245665637,"answer_id":1026410,"question_id":443708,"body_markdown":"A little nitpicking:\r\n\r\n&gt; I&#39;ve seem people suggesting creating a\r\n&gt; separate object but that seems\r\n&gt; overkill\r\n\r\nPassing a callback includes creating a separate object in pretty much any OO language, so it can hardly be considered overkill. What you probably mean is that in Java, it requires you to create a separate class, which is more verbose (and more resource-intensive) than in languages with explicit first-class functions or closures. However, anonymous classes at least reduce the verbosity and can be used inline.","title":"Callback functions in Java","body":"<p>A little nitpicking:</p>\n\n<blockquote>\n  <p>I've seem people suggesting creating a\n  separate object but that seems\n  overkill</p>\n</blockquote>\n\n<p>Passing a callback includes creating a separate object in pretty much any OO language, so it can hardly be considered overkill. What you probably mean is that in Java, it requires you to create a separate class, which is more verbose (and more resource-intensive) than in languages with explicit first-class functions or closures. However, anonymous classes at least reduce the verbosity and can be used inline.</p>\n"},{"tags":[],"owner":{"account_id":39135,"reputation":13588,"user_id":112779,"accept_rate":67,"display_name":"Mario Fusco"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1252762371,"creation_date":1252762371,"answer_id":1415126,"question_id":443708,"body_markdown":"Check the closures how they have been implemented in the lambdaj library. They actually have a behavior very similar to C# delegates:\r\n\r\nhttp://code.google.com/p/lambdaj/wiki/Closures\r\n","title":"Callback functions in Java","body":"<p>Check the closures how they have been implemented in the lambdaj library. They actually have a behavior very similar to C# delegates:</p>\n\n<p><a href=\"http://code.google.com/p/lambdaj/wiki/Closures\" rel=\"nofollow noreferrer\">http://code.google.com/p/lambdaj/wiki/Closures</a></p>\n"},{"comments":[{"owner":{"account_id":92486,"reputation":45195,"user_id":253468,"accept_rate":79,"display_name":"TWiStErRob"},"score":0,"creation_date":1361095549,"post_id":5428621,"comment_id":20932804,"body_markdown":"How do you pass null as an arg?","body":"How do you pass null as an arg?"},{"owner":{"account_id":174677,"reputation":1614,"user_id":404192,"accept_rate":93,"display_name":"LiuYan 刘研"},"score":0,"creation_date":1361121030,"post_id":5428621,"comment_id":20939237,"body_markdown":"@TWiStErRob, in this sample, it would be like `timer.SetTimer ((int)(Math.random ()*10), System.out, &quot;printf&quot;, &quot;%s: [%s]&quot;, new Object[]{&quot;null test&quot;, null});`. output will be `null test: [null]`","body":"@TWiStErRob, in this sample, it would be like <code>timer.SetTimer ((int)(Math.random ()*10), System.out, &quot;printf&quot;, &quot;%s: [%s]&quot;, new Object[]{&quot;null test&quot;, null});</code>. output will be <code>null test: [null]</code>"},{"owner":{"account_id":92486,"reputation":45195,"user_id":253468,"accept_rate":79,"display_name":"TWiStErRob"},"score":0,"creation_date":1361121813,"post_id":5428621,"comment_id":20939494,"body_markdown":"Wouldn&#39;t it NPE on `args[i].getClass()`? My point is that it doesn&#39;t work if you select method based on argument types. It works with `String.format`, but may not work with something else which accepts `null`.","body":"Wouldn&#39;t it NPE on <code>args[i].getClass()</code>? My point is that it doesn&#39;t work if you select method based on argument types. It works with <code>String.format</code>, but may not work with something else which accepts <code>null</code>."},{"owner":{"account_id":174677,"reputation":1614,"user_id":404192,"accept_rate":93,"display_name":"LiuYan 刘研"},"score":0,"creation_date":1361127583,"post_id":5428621,"comment_id":20941199,"body_markdown":"@TWiStErRob, Good point! I&#39;ve added a function which can manually pass `argTypes` array, so now we can pass `null` argument/parameter without NullPointerException occured. Sample output: `NullParameterTest: String parameter=null, int parameter=888`","body":"@TWiStErRob, Good point! I&#39;ve added a function which can manually pass <code>argTypes</code> array, so now we can pass <code>null</code> argument/parameter without NullPointerException occured. Sample output: <code>NullParameterTest: String parameter=null, int parameter=888</code>"}],"tags":[],"owner":{"account_id":174677,"reputation":1614,"user_id":404192,"accept_rate":93,"display_name":"LiuYan 刘研"},"comment_count":4,"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1361127291,"creation_date":1301028085,"answer_id":5428621,"question_id":443708,"body_markdown":"I tried using java.lang.reflect to implement &#39;callback&#39;, here&#39;s a sample:\r\n\r\n    package StackOverflowQ443708_JavaCallBackTest;\r\n\r\n    import java.lang.reflect.*;\r\n    import java.util.concurrent.*;\r\n\r\n    class MyTimer\r\n    {\r\n\t    ExecutorService EXE =\r\n\t\t    //Executors.newCachedThreadPool ();\r\n\t\t    Executors.newSingleThreadExecutor ();\r\n\r\n\t    public static void PrintLine ()\r\n\t    {\r\n\t\t    System.out.println (&quot;--------------------------------------------------------------------------------&quot;);\r\n\t    }\r\n\t\r\n\t    public void SetTimer (final int timeout, final Object obj, final String methodName, final Object... args)\r\n\t    {\r\n\t\t    SetTimer (timeout, obj, false, methodName, args);\r\n\t    }\r\n\t    public void SetTimer (final int timeout, final Object obj, final boolean isStatic, final String methodName, final Object... args)\r\n\t    {\r\n\t\t    Class&lt;?&gt;[] argTypes = null;\r\n\t\t    if (args != null)\r\n\t\t    {\r\n\t\t\t    argTypes = new Class&lt;?&gt; [args.length];\r\n\t\t\t    for (int i=0; i&lt;args.length; i++)\r\n\t\t\t    {\r\n\t\t\t\t    argTypes[i] = args[i].getClass ();\r\n\t\t\t    }\r\n\t\t    }\r\n\t\t\r\n\t\t    SetTimer (timeout, obj, isStatic, methodName, argTypes, args);\r\n\t    }\r\n\t    public void SetTimer (final int timeout, final Object obj, final String methodName, final Class&lt;?&gt;[] argTypes, final Object... args)\r\n\t    {\r\n\t\t    SetTimer (timeout, obj, false, methodName, argTypes, args);\r\n\t    }\r\n\t    public void SetTimer (final int timeout, final Object obj, final boolean isStatic, final String methodName, final Class&lt;?&gt;[] argTypes, final Object... args)\r\n\t    {\r\n\t\t    EXE.execute (\r\n\t\t\t    new Runnable()\r\n\t\t\t    {\r\n\t\t\t\t    public void run ()\r\n\t\t\t\t    {\r\n\t\t\t\t\t    Class&lt;?&gt; c;\r\n\t\t\t\t\t    Method method;\r\n\t\t\t\t\t    try\r\n\t\t\t\t\t    {\r\n\t\t\t\t\t\t    if (isStatic) c = (Class&lt;?&gt;)obj;\r\n\t\t\t\t\t\t    else c = obj.getClass ();\r\n\r\n\t\t\t\t\t\t    System.out.println (&quot;Wait for &quot; + timeout + &quot; seconds to invoke &quot; + c.getSimpleName () + &quot;::[&quot; + methodName + &quot;]&quot;);\r\n\t\t\t\t\t\t    TimeUnit.SECONDS.sleep (timeout);\r\n\t\t\t\t\t\t    System.out.println ();\r\n\t\t\t\t\t\t    System.out.println (&quot;invoking &quot; + c.getSimpleName () + &quot;::[&quot; + methodName + &quot;]...&quot;);\r\n\t\t\t\t\t\t    PrintLine ();\r\n\t\t\t\t\t\t    method = c.getDeclaredMethod (methodName, argTypes);\r\n\t\t\t\t\t\t    method.invoke (obj, args);\r\n\t\t\t\t\t    }\r\n\t\t\t\t\t    catch (Exception e)\r\n\t\t\t\t\t    {\r\n\t\t\t\t\t\t    e.printStackTrace();\r\n\t\t\t\t\t    }\r\n\t\t\t\t\t    finally\r\n\t\t\t\t\t    {\r\n\t\t\t\t\t\t    PrintLine ();\r\n\t\t\t\t\t    }\r\n\t\t\t\t    }\r\n\t\t\t    }\r\n\t\t    );\r\n\t    }\r\n\t    public void ShutdownTimer ()\r\n\t    {\r\n\t\t    EXE.shutdown ();\r\n\t    }\r\n    }\r\n\r\n    public class CallBackTest\r\n    {\r\n\t    public void onUserTimeout ()\r\n\t    {\r\n\t\t    System.out.println (&quot;onUserTimeout&quot;);\r\n\t    }\r\n\t    public void onTestEnd ()\r\n\t    {\r\n\t\t    System.out.println (&quot;onTestEnd&quot;);\r\n\t    }\r\n\t    public void NullParameterTest (String sParam, int iParam)\r\n\t    {\r\n\t\t    System.out.println (&quot;NullParameterTest: String parameter=&quot; + sParam + &quot;, int parameter=&quot; + iParam);\r\n\t    }\r\n\t    public static void main (String[] args)\r\n\t    {\r\n\t\t    CallBackTest test = new CallBackTest ();\r\n\t\t    MyTimer timer = new MyTimer ();\r\n\r\n\t\t    timer.SetTimer ((int)(Math.random ()*10), test, &quot;onUserTimeout&quot;);\r\n\t\t    timer.SetTimer ((int)(Math.random ()*10), test, &quot;onTestEnd&quot;);\r\n\t\t    timer.SetTimer ((int)(Math.random ()*10), test, &quot;A-Method-Which-Is-Not-Exists&quot;);\t// java.lang.NoSuchMethodException\r\n\r\n\t\t    timer.SetTimer ((int)(Math.random ()*10), System.out, &quot;println&quot;, &quot;this is an argument of System.out.println() which is called by timer&quot;);\r\n\t\t    timer.SetTimer ((int)(Math.random ()*10), System.class, true, &quot;currentTimeMillis&quot;);\r\n\t\t    timer.SetTimer ((int)(Math.random ()*10), System.class, true, &quot;currentTimeMillis&quot;, &quot;Should-Not-Pass-Arguments&quot;);\t// java.lang.NoSuchMethodException\r\n\r\n\t\t    timer.SetTimer ((int)(Math.random ()*10), String.class, true, &quot;format&quot;, &quot;%d %X&quot;, 100, 200);\t// java.lang.NoSuchMethodException\r\n\t\t    timer.SetTimer ((int)(Math.random ()*10), String.class, true, &quot;format&quot;, &quot;%d %X&quot;, new Object[]{100, 200});\r\n\r\n\t\t    timer.SetTimer ((int)(Math.random ()*10), test, &quot;NullParameterTest&quot;, new Class&lt;?&gt;[]{String.class, int.class}, null, 888);\r\n\r\n\t\t    timer.ShutdownTimer ();\r\n\t    }\r\n    }\r\n","title":"Callback functions in Java","body":"<p>I tried using java.lang.reflect to implement 'callback', here's a sample:</p>\n\n<pre><code>package StackOverflowQ443708_JavaCallBackTest;\n\nimport java.lang.reflect.*;\nimport java.util.concurrent.*;\n\nclass MyTimer\n{\n    ExecutorService EXE =\n        //Executors.newCachedThreadPool ();\n        Executors.newSingleThreadExecutor ();\n\n    public static void PrintLine ()\n    {\n        System.out.println (\"--------------------------------------------------------------------------------\");\n    }\n\n    public void SetTimer (final int timeout, final Object obj, final String methodName, final Object... args)\n    {\n        SetTimer (timeout, obj, false, methodName, args);\n    }\n    public void SetTimer (final int timeout, final Object obj, final boolean isStatic, final String methodName, final Object... args)\n    {\n        Class&lt;?&gt;[] argTypes = null;\n        if (args != null)\n        {\n            argTypes = new Class&lt;?&gt; [args.length];\n            for (int i=0; i&lt;args.length; i++)\n            {\n                argTypes[i] = args[i].getClass ();\n            }\n        }\n\n        SetTimer (timeout, obj, isStatic, methodName, argTypes, args);\n    }\n    public void SetTimer (final int timeout, final Object obj, final String methodName, final Class&lt;?&gt;[] argTypes, final Object... args)\n    {\n        SetTimer (timeout, obj, false, methodName, argTypes, args);\n    }\n    public void SetTimer (final int timeout, final Object obj, final boolean isStatic, final String methodName, final Class&lt;?&gt;[] argTypes, final Object... args)\n    {\n        EXE.execute (\n            new Runnable()\n            {\n                public void run ()\n                {\n                    Class&lt;?&gt; c;\n                    Method method;\n                    try\n                    {\n                        if (isStatic) c = (Class&lt;?&gt;)obj;\n                        else c = obj.getClass ();\n\n                        System.out.println (\"Wait for \" + timeout + \" seconds to invoke \" + c.getSimpleName () + \"::[\" + methodName + \"]\");\n                        TimeUnit.SECONDS.sleep (timeout);\n                        System.out.println ();\n                        System.out.println (\"invoking \" + c.getSimpleName () + \"::[\" + methodName + \"]...\");\n                        PrintLine ();\n                        method = c.getDeclaredMethod (methodName, argTypes);\n                        method.invoke (obj, args);\n                    }\n                    catch (Exception e)\n                    {\n                        e.printStackTrace();\n                    }\n                    finally\n                    {\n                        PrintLine ();\n                    }\n                }\n            }\n        );\n    }\n    public void ShutdownTimer ()\n    {\n        EXE.shutdown ();\n    }\n}\n\npublic class CallBackTest\n{\n    public void onUserTimeout ()\n    {\n        System.out.println (\"onUserTimeout\");\n    }\n    public void onTestEnd ()\n    {\n        System.out.println (\"onTestEnd\");\n    }\n    public void NullParameterTest (String sParam, int iParam)\n    {\n        System.out.println (\"NullParameterTest: String parameter=\" + sParam + \", int parameter=\" + iParam);\n    }\n    public static void main (String[] args)\n    {\n        CallBackTest test = new CallBackTest ();\n        MyTimer timer = new MyTimer ();\n\n        timer.SetTimer ((int)(Math.random ()*10), test, \"onUserTimeout\");\n        timer.SetTimer ((int)(Math.random ()*10), test, \"onTestEnd\");\n        timer.SetTimer ((int)(Math.random ()*10), test, \"A-Method-Which-Is-Not-Exists\");    // java.lang.NoSuchMethodException\n\n        timer.SetTimer ((int)(Math.random ()*10), System.out, \"println\", \"this is an argument of System.out.println() which is called by timer\");\n        timer.SetTimer ((int)(Math.random ()*10), System.class, true, \"currentTimeMillis\");\n        timer.SetTimer ((int)(Math.random ()*10), System.class, true, \"currentTimeMillis\", \"Should-Not-Pass-Arguments\");    // java.lang.NoSuchMethodException\n\n        timer.SetTimer ((int)(Math.random ()*10), String.class, true, \"format\", \"%d %X\", 100, 200); // java.lang.NoSuchMethodException\n        timer.SetTimer ((int)(Math.random ()*10), String.class, true, \"format\", \"%d %X\", new Object[]{100, 200});\n\n        timer.SetTimer ((int)(Math.random ()*10), test, \"NullParameterTest\", new Class&lt;?&gt;[]{String.class, int.class}, null, 888);\n\n        timer.ShutdownTimer ();\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5333,"reputation":5802,"user_id":8524,"accept_rate":58,"display_name":"Diederik"},"score":0,"creation_date":1331817912,"post_id":6702643,"comment_id":12357884,"body_markdown":"Looks a bit like overkill (/me ducks)","body":"Looks a bit like overkill (/me ducks)"},{"owner":{"account_id":1245419,"reputation":14808,"user_id":1206998,"accept_rate":80,"display_name":"Juh_"},"score":0,"creation_date":1415267763,"post_id":6702643,"comment_id":42131174,"body_markdown":"depends on the number of use and the size of the project: overkill for a few-class project, practical on a large one.","body":"depends on the number of use and the size of the project: overkill for a few-class project, practical on a large one."},{"owner":{"account_id":1245419,"reputation":14808,"user_id":1206998,"accept_rate":80,"display_name":"Juh_"},"score":0,"creation_date":1415267939,"post_id":6702643,"comment_id":42131273,"body_markdown":"Also, take a look at the answer of @monnoo","body":"Also, take a look at the answer of @monnoo"}],"tags":[],"owner":{"account_id":177338,"reputation":7283,"user_id":408598,"accept_rate":83,"display_name":"Programming Guy"},"comment_count":3,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1310703527,"creation_date":1310703527,"answer_id":6702643,"question_id":443708,"body_markdown":"I found the idea of implementing using the reflect library interesting and came up with this which I think works quite well. The only down side is losing the compile time check that you are passing valid parameters.\r\n\r\n    public class CallBack {\r\n    \tprivate String methodName;\r\n    \tprivate Object scope;\r\n    \r\n    \tpublic CallBack(Object scope, String methodName) {\r\n    \t\tthis.methodName = methodName;\r\n    \t\tthis.scope = scope;\r\n    \t}\r\n    \r\n    \tpublic Object invoke(Object... parameters) throws InvocationTargetException, IllegalAccessException, NoSuchMethodException {\r\n    \t\tMethod method = scope.getClass().getMethod(methodName, getParameterClasses(parameters));\r\n    \t\treturn method.invoke(scope, parameters);\r\n    \t}\r\n    \r\n    \tprivate Class[] getParameterClasses(Object... parameters) {\r\n    \t\tClass[] classes = new Class[parameters.length];\r\n    \t\tfor (int i=0; i &lt; classes.length; i++) {\r\n    \t\t\tclasses[i] = parameters[i].getClass();\r\n    \t\t}\r\n    \t\treturn classes;\r\n    \t}\r\n    }\r\n\r\nYou use it like this\r\n\r\n    public class CallBackTest {\r\n    \t@Test\r\n    \tpublic void testCallBack() throws NoSuchMethodException, InvocationTargetException, IllegalAccessException {\r\n    \t\tTestClass testClass = new TestClass();\r\n    \t\tCallBack callBack = new CallBack(testClass, &quot;hello&quot;);\r\n    \t\tcallBack.invoke();\r\n    \t\tcallBack.invoke(&quot;Fred&quot;);\r\n    \t}\r\n    \r\n    \tpublic class TestClass {\r\n    \t\tpublic void hello() {\r\n    \t\t\tSystem.out.println(&quot;Hello World&quot;);\r\n    \t\t}\r\n    \r\n    \t\tpublic void hello(String name) {\r\n    \t\t\tSystem.out.println(&quot;Hello &quot; + name);\r\n    \t\t}\r\n    \t}\r\n    }","title":"Callback functions in Java","body":"<p>I found the idea of implementing using the reflect library interesting and came up with this which I think works quite well. The only down side is losing the compile time check that you are passing valid parameters.</p>\n\n<pre><code>public class CallBack {\n    private String methodName;\n    private Object scope;\n\n    public CallBack(Object scope, String methodName) {\n        this.methodName = methodName;\n        this.scope = scope;\n    }\n\n    public Object invoke(Object... parameters) throws InvocationTargetException, IllegalAccessException, NoSuchMethodException {\n        Method method = scope.getClass().getMethod(methodName, getParameterClasses(parameters));\n        return method.invoke(scope, parameters);\n    }\n\n    private Class[] getParameterClasses(Object... parameters) {\n        Class[] classes = new Class[parameters.length];\n        for (int i=0; i &lt; classes.length; i++) {\n            classes[i] = parameters[i].getClass();\n        }\n        return classes;\n    }\n}\n</code></pre>\n\n<p>You use it like this</p>\n\n<pre><code>public class CallBackTest {\n    @Test\n    public void testCallBack() throws NoSuchMethodException, InvocationTargetException, IllegalAccessException {\n        TestClass testClass = new TestClass();\n        CallBack callBack = new CallBack(testClass, \"hello\");\n        callBack.invoke();\n        callBack.invoke(\"Fred\");\n    }\n\n    public class TestClass {\n        public void hello() {\n            System.out.println(\"Hello World\");\n        }\n\n        public void hello(String name) {\n            System.out.println(\"Hello \" + name);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":924603,"reputation":301,"user_id":955627,"display_name":"monnoo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1448828949,"creation_date":1316551798,"answer_id":7491588,"question_id":443708,"body_markdown":"it&#39;s a bit old, but nevertheless... I found the answer of Peter Wilkinson nice except for the fact that it does not work for primitive types like int/Integer. \r\nThe problem is the `.getClass()` for the `parameters[i]`, which returns for instance `java.lang.Integer`, which on the other hand will not be correctly interpreted by `getMethod(methodName,parameters[])` (Java&#39;s fault) ...\r\n \r\nI combined it with the suggestion of Daniel Spiewak ([in his answer to this][1]); steps to success included: catching `NoSuchMethodException` -&gt; `getMethods()` -&gt; looking for the matching one by `method.getName()` -&gt; and then explicitly looping through the list of parameters and applying Daniels solution, such identifying the type matches and the signature matches.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/180097/dynamically-find-the-class-that-represents-a-primitive-java-type","title":"Callback functions in Java","body":"<p>it's a bit old, but nevertheless... I found the answer of Peter Wilkinson nice except for the fact that it does not work for primitive types like int/Integer. \nThe problem is the <code>.getClass()</code> for the <code>parameters[i]</code>, which returns for instance <code>java.lang.Integer</code>, which on the other hand will not be correctly interpreted by <code>getMethod(methodName,parameters[])</code> (Java's fault) ...</p>\n\n<p>I combined it with the suggestion of Daniel Spiewak (<a href=\"https://stackoverflow.com/questions/180097/dynamically-find-the-class-that-represents-a-primitive-java-type\">in his answer to this</a>); steps to success included: catching <code>NoSuchMethodException</code> -> <code>getMethods()</code> -> looking for the matching one by <code>method.getName()</code> -> and then explicitly looping through the list of parameters and applying Daniels solution, such identifying the type matches and the signature matches.</p>\n"},{"comments":[{"owner":{"account_id":1289403,"reputation":2407,"user_id":1241783,"accept_rate":61,"display_name":"Bruce"},"score":3,"creation_date":1442135356,"post_id":20571565,"comment_id":52952352,"body_markdown":"I like this because I don&#39;t need to create a new interface or class just to do a simple callback. Thanks for the tip!","body":"I like this because I don&#39;t need to create a new interface or class just to do a simple callback. Thanks for the tip!"},{"owner":{"account_id":641346,"reputation":1312,"user_id":409604,"display_name":"Marco C."},"score":1,"creation_date":1446651926,"post_id":20571565,"comment_id":54833377,"body_markdown":"`public interface SimpleCallback {\n    void callback(Object... objects);\n}`\nThis is quite straightforward and could be useful you need to pass some params too.","body":"<code>public interface SimpleCallback {     void callback(Object... objects); }</code> This is quite straightforward and could be useful you need to pass some params too."},{"owner":{"account_id":5103964,"reputation":620,"user_id":4092675,"accept_rate":50,"display_name":"Chris Chevalier"},"score":0,"creation_date":1487870525,"post_id":20571565,"comment_id":71990134,"body_markdown":"@cprcrack no way to pass a value in the run() function?","body":"@cprcrack no way to pass a value in the run() function?"},{"owner":{"account_id":1674530,"reputation":11374,"user_id":1540350,"accept_rate":69,"display_name":"Martin Braun"},"score":0,"creation_date":1616855087,"post_id":20571565,"comment_id":118136446,"body_markdown":"The beauty about this is that you can use a short lambda expression when you pass the function, i.e. `runCallback(() -&gt; { /* running callback */ })`. This is great for simple stuff. For more complex stuff I recommend to look into `CompletableFuture`s.","body":"The beauty about this is that you can use a short lambda expression when you pass the function, i.e. <code>runCallback(() -&gt; { &#47;* running callback *&#47; })</code>. This is great for simple stuff. For more complex stuff I recommend to look into <code>CompletableFuture</code>s."}],"tags":[],"owner":{"account_id":186063,"reputation":17556,"user_id":423171,"accept_rate":83,"display_name":"cprcrack"},"comment_count":4,"down_vote_count":1,"up_vote_count":46,"is_accepted":false,"score":45,"last_activity_date":1666742741,"creation_date":1386952860,"answer_id":20571565,"question_id":443708,"body_markdown":"For simplicity, you can use a **Runnable**:\r\n\r\n    private void runCallback(Runnable callback)\r\n    {\r\n        // Run callback\r\n        callback.run();\r\n    }\r\n\r\nUsage:\r\n\r\n    runCallback(new Runnable()\r\n    {\r\n        @Override\r\n        public void run()\r\n        {\r\n            // Running callback\r\n        }\r\n    });\r\n\r\nor with Java8 lambdas\r\n\r\n```\r\nrunCallback(() -&gt; {\r\n    // Running callback\r\n});\r\n```","title":"Callback functions in Java","body":"<p>For simplicity, you can use a <strong>Runnable</strong>:</p>\n<pre><code>private void runCallback(Runnable callback)\n{\n    // Run callback\n    callback.run();\n}\n</code></pre>\n<p>Usage:</p>\n<pre><code>runCallback(new Runnable()\n{\n    @Override\n    public void run()\n    {\n        // Running callback\n    }\n});\n</code></pre>\n<p>or with Java8 lambdas</p>\n<pre><code>runCallback(() -&gt; {\n    // Running callback\n});\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1015060,"reputation":11794,"user_id":1026805,"accept_rate":86,"display_name":"Sri Harsha Chilakapati"},"score":1,"creation_date":1418218780,"post_id":26776520,"comment_id":43249563,"body_markdown":"For CallBacks, it would be better to write your own functional interface since each callback type would usually have multiple syntaxes.","body":"For CallBacks, it would be better to write your own functional interface since each callback type would usually have multiple syntaxes."},{"owner":{"account_id":1245419,"reputation":14808,"user_id":1206998,"accept_rate":80,"display_name":"Juh_"},"score":0,"creation_date":1418220613,"post_id":26776520,"comment_id":43250769,"body_markdown":"I am not sure to understand. If one of the classes in `java.util.function` is what you are looking for, then you&#39;re good to go. Then you can play with generics for the I/O. (?)","body":"I am not sure to understand. If one of the classes in <code>java.util.function</code> is what you are looking for, then you&#39;re good to go. Then you can play with generics for the I/O. (?)"},{"owner":{"account_id":1015060,"reputation":11794,"user_id":1026805,"accept_rate":86,"display_name":"Sri Harsha Chilakapati"},"score":0,"creation_date":1418223656,"post_id":26776520,"comment_id":43252997,"body_markdown":"You didn&#39;t get me, what I said is about translating C++ code which uses callback functions to Java 8, There, for each unique function pointer, you have to create a Functional interface in Java, since there will be more parameters in the real production code.","body":"You didn&#39;t get me, what I said is about translating C++ code which uses callback functions to Java 8, There, for each unique function pointer, you have to create a Functional interface in Java, since there will be more parameters in the real production code."},{"owner":{"account_id":1015060,"reputation":11794,"user_id":1026805,"accept_rate":86,"display_name":"Sri Harsha Chilakapati"},"score":2,"creation_date":1418223729,"post_id":26776520,"comment_id":43253043,"body_markdown":"My conclusion is that most of the time, you are required to write your own functional interfaces since the default provided ones, in `java.util.function` aren&#39;t sufficient.","body":"My conclusion is that most of the time, you are required to write your own functional interfaces since the default provided ones, in <code>java.util.function</code> aren&#39;t sufficient."},{"owner":{"account_id":1245419,"reputation":14808,"user_id":1206998,"accept_rate":80,"display_name":"Juh_"},"score":0,"creation_date":1563454906,"post_id":26776520,"comment_id":100711528,"body_markdown":"Then use scala, much simpler for functional interface :-)","body":"Then use scala, much simpler for functional interface :-)"},{"owner":{"account_id":1245419,"reputation":14808,"user_id":1206998,"accept_rate":80,"display_name":"Juh_"},"score":1,"creation_date":1572516282,"post_id":26776520,"comment_id":103587278,"body_markdown":"I added a note on existing functional interfaces and how to create new ones","body":"I added a note on existing functional interfaces and how to create new ones"},{"owner":{"account_id":4730340,"reputation":6453,"user_id":3826175,"display_name":"mikep"},"score":0,"creation_date":1614850946,"post_id":26776520,"comment_id":117513066,"body_markdown":"Thanks, for very interesting answer. Please update &quot;Note&quot; section and mention that not all interfaces are called using `f.apply()` ... in my case I used `BiConsumer` and it is called using `f.accept()` (I did not tested other ones how they are called, maybe you know it)","body":"Thanks, for very interesting answer. Please update &quot;Note&quot; section and mention that not all interfaces are called using <code>f.apply()</code> ... in my case I used <code>BiConsumer</code> and it is called using <code>f.accept()</code> (I did not tested other ones how they are called, maybe you know it)"}],"tags":[],"owner":{"account_id":1245419,"reputation":14808,"user_id":1206998,"accept_rate":80,"display_name":"Juh_"},"comment_count":7,"down_vote_count":0,"up_vote_count":76,"is_accepted":false,"score":76,"last_activity_date":1636364084,"creation_date":1415268149,"answer_id":26776520,"question_id":443708,"body_markdown":"Since Java 8, there are lambda and method references:\r\n\r\n - [Oracle Docs: Lambda Expressions][1]\r\n - [Oracle Docs: Method References][2]\r\n\r\nFor example, if you want a functional interface `A -&gt; B`, you can use:\r\n\r\n    import java.util.function.Function;\r\n    \r\n    public MyClass {\r\n        public static String applyFunction(String name, Function&lt;String,String&gt; function){\r\n            return function.apply(name);\r\n        }\r\n    }\r\n\r\nAnd here is how you can call it:\r\n\r\n    MyClass.applyFunction(&quot;42&quot;, str -&gt; &quot;the answer is: &quot; + str);\r\n    // returns &quot;the answer is: 42&quot;\r\n\r\nAlso you can pass class method. For example:\r\n\r\n    @Value // lombok\r\n    public class PrefixAppender {\r\n        private String prefix;\r\n\r\n        public String addPrefix(String suffix){\r\n            return prefix +&quot;:&quot;+suffix;\r\n        }\r\n    }\r\n\r\nThen you can do:\r\n\r\n    PrefixAppender prefixAppender= new PrefixAppender(&quot;prefix&quot;);\r\n    MyClass.applyFunction(&quot;some text&quot;, prefixAppender::addPrefix);\r\n    // returns &quot;prefix:some text&quot;\r\n\r\n\r\n**Note**:\r\n\r\nHere I used the functional interface `Function&lt;A,B&gt;`, but there are many others in the package `java.util.function`. Most notable ones are\r\n\r\n - `Supplier`: `void -&gt; A`\r\n - `Consumer`: `A -&gt; void`\r\n - `BiConsumer`: `(A,B) -&gt; void`\r\n - `Function`: `A -&gt; B`\r\n - `BiFunction`: `(A,B) -&gt; C`\r\n\r\nand many others that specialize on some of the input/output type. Then, if it doesn&#39;t provide the one you need, you can create your own `FunctionalInterface`:\r\n\r\n    @FunctionalInterface\r\n    interface Function3&lt;In1, In2, In3, Out&gt; { // (In1,In2,In3) -&gt; Out\r\n        public Out apply(In1 in1, In2 in2, In3 in3);\r\n    }\r\n\r\nExample of use:\r\n\r\n    String computeAnswer(Function3&lt;String, Integer, Integer, String&gt; f){\r\n        return f.apply(&quot;6x9=&quot;, 6, 9);\r\n    }\r\n\r\n    computeAnswer((question, a, b) -&gt; question + &quot;42&quot;);\r\n    // &quot;6*9=42&quot;\r\n\r\nAnd you can also do that with thrown exception:\r\n\r\n    @FunctionalInterface\r\n    interface FallibleFunction&lt;In, Out, Ex extends Exception&gt; {\r\n        Out get(In input) throws Ex;\r\n    }\r\n    public &lt;Ex extends IOException&gt; String yo(FallibleFunction&lt;Integer, String, Ex&gt; f) throws Ex {\r\n        return f.get(42);\r\n    }\r\n\r\n\r\n\r\n[1]:http://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\r\n[2]:http://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html","title":"Callback functions in Java","body":"<p>Since Java 8, there are lambda and method references:</p>\n<ul>\n<li><a href=\"http://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\" rel=\"noreferrer\">Oracle Docs: Lambda Expressions</a></li>\n<li><a href=\"http://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\" rel=\"noreferrer\">Oracle Docs: Method References</a></li>\n</ul>\n<p>For example, if you want a functional interface <code>A -&gt; B</code>, you can use:</p>\n<pre><code>import java.util.function.Function;\n\npublic MyClass {\n    public static String applyFunction(String name, Function&lt;String,String&gt; function){\n        return function.apply(name);\n    }\n}\n</code></pre>\n<p>And here is how you can call it:</p>\n<pre><code>MyClass.applyFunction(&quot;42&quot;, str -&gt; &quot;the answer is: &quot; + str);\n// returns &quot;the answer is: 42&quot;\n</code></pre>\n<p>Also you can pass class method. For example:</p>\n<pre><code>@Value // lombok\npublic class PrefixAppender {\n    private String prefix;\n\n    public String addPrefix(String suffix){\n        return prefix +&quot;:&quot;+suffix;\n    }\n}\n</code></pre>\n<p>Then you can do:</p>\n<pre><code>PrefixAppender prefixAppender= new PrefixAppender(&quot;prefix&quot;);\nMyClass.applyFunction(&quot;some text&quot;, prefixAppender::addPrefix);\n// returns &quot;prefix:some text&quot;\n</code></pre>\n<p><strong>Note</strong>:</p>\n<p>Here I used the functional interface <code>Function&lt;A,B&gt;</code>, but there are many others in the package <code>java.util.function</code>. Most notable ones are</p>\n<ul>\n<li><code>Supplier</code>: <code>void -&gt; A</code></li>\n<li><code>Consumer</code>: <code>A -&gt; void</code></li>\n<li><code>BiConsumer</code>: <code>(A,B) -&gt; void</code></li>\n<li><code>Function</code>: <code>A -&gt; B</code></li>\n<li><code>BiFunction</code>: <code>(A,B) -&gt; C</code></li>\n</ul>\n<p>and many others that specialize on some of the input/output type. Then, if it doesn't provide the one you need, you can create your own <code>FunctionalInterface</code>:</p>\n<pre><code>@FunctionalInterface\ninterface Function3&lt;In1, In2, In3, Out&gt; { // (In1,In2,In3) -&gt; Out\n    public Out apply(In1 in1, In2 in2, In3 in3);\n}\n</code></pre>\n<p>Example of use:</p>\n<pre><code>String computeAnswer(Function3&lt;String, Integer, Integer, String&gt; f){\n    return f.apply(&quot;6x9=&quot;, 6, 9);\n}\n\ncomputeAnswer((question, a, b) -&gt; question + &quot;42&quot;);\n// &quot;6*9=42&quot;\n</code></pre>\n<p>And you can also do that with thrown exception:</p>\n<pre><code>@FunctionalInterface\ninterface FallibleFunction&lt;In, Out, Ex extends Exception&gt; {\n    Out get(In input) throws Ex;\n}\npublic &lt;Ex extends IOException&gt; String yo(FallibleFunction&lt;Integer, String, Ex&gt; f) throws Ex {\n    return f.get(42);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5288475,"reputation":1,"user_id":4221681,"display_name":"Abhishek Abhyankar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1445309237,"creation_date":1430467314,"answer_id":29983500,"question_id":443708,"body_markdown":"    public class HelloWorldAnonymousClasses {\r\n    \r\n        //this is an interface with only one method\r\n        interface HelloWorld {\r\n            public void printSomething(String something);\r\n        }\r\n    \r\n        //this is a simple function called from main()\r\n        public void sayHello() {\r\n    \r\n        //this is an object with interface reference followed by the definition of the interface itself\r\n    \r\n            new HelloWorld() {\r\n                public void printSomething(String something) {\r\n                    System.out.println(&quot;Hello &quot; + something);\r\n                }\r\n            }.printSomething(&quot;Abhi&quot;);\r\n    \r\n         //imagine this as an object which is calling the function&#39;printSomething()&quot;\r\n        }\r\n    \r\n        public static void main(String... args) {\r\n            HelloWorldAnonymousClasses myApp =\r\n                    new HelloWorldAnonymousClasses();\r\n            myApp.sayHello();\r\n        }\r\n    }\r\n    //Output is &quot;Hello Abhi&quot;\r\n\r\nBasically if you want to make the object of an interface it is\r\nnot possible, because interface cannot have objects.\r\n\r\nThe option is to let some class implement the interface and then call that function using the object of that class.\r\nBut this approach is really verbose.\r\n\r\nAlternatively, write new HelloWorld() (*oberserve this is an interface not a class) and then follow it up with the defination of the interface methods itself. (*This defination is in reality the anonymous class).\r\nThen you get the object reference through which you can call the method itself.","title":"Callback functions in Java","body":"<pre><code>public class HelloWorldAnonymousClasses {\n\n    //this is an interface with only one method\n    interface HelloWorld {\n        public void printSomething(String something);\n    }\n\n    //this is a simple function called from main()\n    public void sayHello() {\n\n    //this is an object with interface reference followed by the definition of the interface itself\n\n        new HelloWorld() {\n            public void printSomething(String something) {\n                System.out.println(\"Hello \" + something);\n            }\n        }.printSomething(\"Abhi\");\n\n     //imagine this as an object which is calling the function'printSomething()\"\n    }\n\n    public static void main(String... args) {\n        HelloWorldAnonymousClasses myApp =\n                new HelloWorldAnonymousClasses();\n        myApp.sayHello();\n    }\n}\n//Output is \"Hello Abhi\"\n</code></pre>\n\n<p>Basically if you want to make the object of an interface it is\nnot possible, because interface cannot have objects.</p>\n\n<p>The option is to let some class implement the interface and then call that function using the object of that class.\nBut this approach is really verbose.</p>\n\n<p>Alternatively, write new HelloWorld() (*oberserve this is an interface not a class) and then follow it up with the defination of the interface methods itself. (*This defination is in reality the anonymous class).\nThen you get the object reference through which you can call the method itself.</p>\n"},{"tags":[],"owner":{"account_id":4304114,"reputation":4450,"user_id":3517025,"accept_rate":73,"display_name":"Joey Baruch"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1444809782,"creation_date":1444809782,"answer_id":33119860,"question_id":443708,"body_markdown":"I&#39;ve recently started doing something like this:\r\n\r\n    public class Main {\r\n        @FunctionalInterface\r\n        public interface NotDotNetDelegate {\r\n            int doSomething(int a, int b);\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            // in java 8 (lambdas):\r\n            System.out.println(functionThatTakesDelegate((a, b) -&gt; {return a*b;} , 10, 20));\r\n    \r\n        }\r\n    \r\n        public static int functionThatTakesDelegate(NotDotNetDelegate del, int a, int b) {\r\n            // ...\r\n            return del.doSomething(a, b);\r\n        }\r\n    }\r\n\r\n","title":"Callback functions in Java","body":"<p>I've recently started doing something like this:</p>\n\n<pre><code>public class Main {\n    @FunctionalInterface\n    public interface NotDotNetDelegate {\n        int doSomething(int a, int b);\n    }\n\n    public static void main(String[] args) {\n        // in java 8 (lambdas):\n        System.out.println(functionThatTakesDelegate((a, b) -&gt; {return a*b;} , 10, 20));\n\n    }\n\n    public static int functionThatTakesDelegate(NotDotNetDelegate del, int a, int b) {\n        // ...\n        return del.doSomething(a, b);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7136132,"reputation":893,"user_id":5455691,"display_name":"S&#233;bastien"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1467838044,"creation_date":1467829167,"answer_id":38231043,"question_id":443708,"body_markdown":"You also can do the`Callback` using the `Delegate` pattern:\r\n\r\nCallback.java\r\n\r\n    public interface Callback {\r\n        void onItemSelected(int position);\r\n    }\r\n\r\nPagerActivity.java\r\n    \r\n    public class PagerActivity implements Callback {\r\n    \r\n        CustomPagerAdapter mPagerAdapter;\r\n        \r\n        public PagerActivity() {\r\n            mPagerAdapter = new CustomPagerAdapter(this);\r\n        }\r\n            \r\n        @Override\r\n        public void onItemSelected(int position) {\r\n            // Do something\r\n            System.out.println(&quot;Item &quot; + postion + &quot; selected&quot;)\r\n        }\r\n    }\r\n\r\nCustomPagerAdapter.java\r\n\r\n    public class CustomPagerAdapter {\r\n        private static final int DEFAULT_POSITION = 1;\r\n        public CustomPagerAdapter(Callback callback) {\r\n            callback.onItemSelected(DEFAULT_POSITION);\r\n        }\r\n    }","title":"Callback functions in Java","body":"<p>You also can do the<code>Callback</code> using the <code>Delegate</code> pattern:</p>\n\n<p>Callback.java</p>\n\n<pre><code>public interface Callback {\n    void onItemSelected(int position);\n}\n</code></pre>\n\n<p>PagerActivity.java</p>\n\n<pre><code>public class PagerActivity implements Callback {\n\n    CustomPagerAdapter mPagerAdapter;\n\n    public PagerActivity() {\n        mPagerAdapter = new CustomPagerAdapter(this);\n    }\n\n    @Override\n    public void onItemSelected(int position) {\n        // Do something\n        System.out.println(\"Item \" + postion + \" selected\")\n    }\n}\n</code></pre>\n\n<p>CustomPagerAdapter.java</p>\n\n<pre><code>public class CustomPagerAdapter {\n    private static final int DEFAULT_POSITION = 1;\n    public CustomPagerAdapter(Callback callback) {\n        callback.onItemSelected(DEFAULT_POSITION);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2356843,"reputation":515,"user_id":2064459,"display_name":"Nashev"},"score":0,"creation_date":1497887616,"post_id":43192755,"comment_id":76255602,"body_markdown":"Will it be like this in case with argument? https://pastebin.com/KFFtXPNA","body":"Will it be like this in case with argument? <a href=\"https://pastebin.com/KFFtXPNA\" rel=\"nofollow noreferrer\">pastebin.com/KFFtXPNA</a>"},{"owner":{"display_name":"user7810456"},"score":1,"creation_date":1497888864,"post_id":43192755,"comment_id":76256377,"body_markdown":"Yep. Any amount of arguments (or none) will work as long as proper lambda syntax is maintained.","body":"Yep. Any amount of arguments (or none) will work as long as proper lambda syntax is maintained."}],"tags":[],"owner":{"display_name":"user7810456"},"comment_count":2,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1491247623,"creation_date":1491247623,"answer_id":43192755,"question_id":443708,"body_markdown":"This is very easy in Java 8 with lambdas.\r\n\r\n    public interface Callback {\r\n        void callback();\r\n    }\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            methodThatExpectsACallback(() -&gt; System.out.println(&quot;I am the callback.&quot;));\r\n        }\r\n        private static void methodThatExpectsACallback(Callback callback){\r\n            System.out.println(&quot;I am the method.&quot;);\r\n            callback.callback();\r\n        }\r\n    }\r\n\r\n\r\n\r\n","title":"Callback functions in Java","body":"<p>This is very easy in Java 8 with lambdas.</p>\n\n<pre><code>public interface Callback {\n    void callback();\n}\n\npublic class Main {\n    public static void main(String[] args) {\n        methodThatExpectsACallback(() -&gt; System.out.println(\"I am the callback.\"));\n    }\n    private static void methodThatExpectsACallback(Callback callback){\n        System.out.println(\"I am the method.\");\n        callback.callback();\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2679536,"reputation":667,"user_id":2315166,"display_name":"garish"},"score":0,"creation_date":1595488007,"post_id":47877553,"comment_id":111492859,"body_markdown":"this is very easy","body":"this is very easy"},{"owner":{"account_id":8650156,"reputation":280,"user_id":6476139,"accept_rate":100,"display_name":"Squareoot"},"score":0,"creation_date":1678915835,"post_id":47877553,"comment_id":133628083,"body_markdown":"best solution, very understandable","body":"best solution, very understandable"}],"tags":[],"owner":{"account_id":6229685,"reputation":4214,"user_id":4846859,"display_name":"Biskrem Muhammad"},"comment_count":2,"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1535446072,"creation_date":1513637276,"answer_id":47877553,"question_id":443708,"body_markdown":"yet i see there is most preferred way which was what i was looking for.. it&#39;s basically derived from these answers but i had to manipulate it to more more redundant and efficient.. **and i think everybody looking for what i come up with**\r\n\r\n### To the point::\r\nfirst make an Interface _that simple_\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public interface myCallback {\r\n        void onSuccess();\r\n        void onError(String err);\r\n    }\r\n\r\nnow to make this callback run when ever you wish to do to handle the results - _**more likely after async call and you wanna run some stuff which depends on these reuslts**_\r\n\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    // import the Interface class here\r\n    \r\n    public class App {\r\n    \r\n        public static void main(String[] args) {\r\n            // call your method\r\n            doSomething(&quot;list your Params&quot;, new myCallback(){\r\n                @Override\r\n                public void onSuccess() {\r\n                    // no errors\r\n                    System.out.println(&quot;Done&quot;);\r\n                }\r\n    \r\n                @Override\r\n                public void onError(String err) {\r\n                    // error happen\r\n                    System.out.println(err);\r\n                }\r\n            });\r\n        }\r\n    \r\n        private void doSomething(String param, // some params..\r\n                                 myCallback callback) {\r\n            // now call onSuccess whenever you want if results are ready\r\n            if(results_success)\r\n                callback.onSuccess();\r\n            else\r\n                callback.onError(someError);\r\n        }\r\n    \r\n    }\r\n\r\n\r\n`doSomething` is the function that takes some time you wanna add a callback to it to notify you when the results came, add the call back interface as a parameter to this method\r\n\r\n### hope my point is clear, enjoy ;)","title":"Callback functions in Java","body":"<p>yet i see there is most preferred way which was what i was looking for.. it's basically derived from these answers but i had to manipulate it to more more redundant and efficient.. <strong>and i think everybody looking for what i come up with</strong></p>\n\n<h3>To the point::</h3>\n\n<p>first make an Interface <em>that simple</em></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public interface myCallback {\n    void onSuccess();\n    void onError(String err);\n}\n</code></pre>\n\n<p>now to make this callback run when ever you wish to do to handle the results - <em><strong>more likely after async call and you wanna run some stuff which depends on these reuslts</strong></em></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>// import the Interface class here\n\npublic class App {\n\n    public static void main(String[] args) {\n        // call your method\n        doSomething(\"list your Params\", new myCallback(){\n            @Override\n            public void onSuccess() {\n                // no errors\n                System.out.println(\"Done\");\n            }\n\n            @Override\n            public void onError(String err) {\n                // error happen\n                System.out.println(err);\n            }\n        });\n    }\n\n    private void doSomething(String param, // some params..\n                             myCallback callback) {\n        // now call onSuccess whenever you want if results are ready\n        if(results_success)\n            callback.onSuccess();\n        else\n            callback.onError(someError);\n    }\n\n}\n</code></pre>\n\n<p><code>doSomething</code> is the function that takes some time you wanna add a callback to it to notify you when the results came, add the call back interface as a parameter to this method</p>\n\n<h3>hope my point is clear, enjoy ;)</h3>\n"},{"tags":[],"owner":{"account_id":4709355,"reputation":603,"user_id":4491572,"accept_rate":100,"display_name":"Balu mallisetty"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1560183641,"creation_date":1560183252,"answer_id":56529951,"question_id":443708,"body_markdown":"Create an Interface, and Create the Same Interface Property in Callback Class.\r\n\r\n    interface dataFetchDelegate {\r\n    \tvoid didFetchdata(String data);\r\n    }\r\n    //callback class\r\n    public class BackendManager{\r\n       public dataFetchDelegate Delegate;\r\n       \r\n       public void getData() {\r\n    \t   //Do something, Http calls/ Any other work\r\n    \t   Delegate.didFetchdata(&quot;this is callbackdata&quot;);\r\n       }\r\n       \r\n    }\r\n\r\nNow in the class where you want to get called back implement the above Created Interface.\r\nand Also Pass &quot;this&quot; Object/Reference of your class to be called back.\r\n\r\n    public class Main implements dataFetchDelegate\r\n    {\t    \r\n        public static void main( String[] args )\r\n        {\r\n        \tnew Main().getDatafromBackend();\r\n        }\r\n        \r\n        public void getDatafromBackend() {\r\n        \tBackendManager inc = new BackendManager();\r\n            //Pass this object as reference.in this Scenario this is Main Object        \t\r\n            inc.Delegate = this;\r\n            //make call\r\n        \tinc.getData();\r\n        }\r\n        \r\n        //This method is called after task/Code Completion\r\n        public void didFetchdata(String callbackData) {\r\n        \t// TODO Auto-generated method stub\r\n        \tSystem.out.println(callbackData);\r\n        }\r\n    }\r\n\r\n","title":"Callback functions in Java","body":"<p>Create an Interface, and Create the Same Interface Property in Callback Class.</p>\n\n<pre><code>interface dataFetchDelegate {\n    void didFetchdata(String data);\n}\n//callback class\npublic class BackendManager{\n   public dataFetchDelegate Delegate;\n\n   public void getData() {\n       //Do something, Http calls/ Any other work\n       Delegate.didFetchdata(\"this is callbackdata\");\n   }\n\n}\n</code></pre>\n\n<p>Now in the class where you want to get called back implement the above Created Interface.\nand Also Pass \"this\" Object/Reference of your class to be called back.</p>\n\n<pre><code>public class Main implements dataFetchDelegate\n{       \n    public static void main( String[] args )\n    {\n        new Main().getDatafromBackend();\n    }\n\n    public void getDatafromBackend() {\n        BackendManager inc = new BackendManager();\n        //Pass this object as reference.in this Scenario this is Main Object            \n        inc.Delegate = this;\n        //make call\n        inc.getData();\n    }\n\n    //This method is called after task/Code Completion\n    public void didFetchdata(String callbackData) {\n        // TODO Auto-generated method stub\n        System.out.println(callbackData);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12189253,"reputation":413,"user_id":8897553,"display_name":"JayLord Abueva"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1606864391,"creation_date":1606864391,"answer_id":65099966,"question_id":443708,"body_markdown":"Simpliest and easiest way is by creating a reusable model and trigger.... https://onecompiler.com/java/3wejrcby2?fbclid=IwAR0dHbGDChRUJoCZ3CIDW-JQu7Dz3iYGNGYjxYVCPCWfEqQDogFGTwuOuO8","title":"Callback functions in Java","body":"<p>Simpliest and easiest way is by creating a reusable model and trigger.... <a href=\"https://onecompiler.com/java/3wejrcby2?fbclid=IwAR0dHbGDChRUJoCZ3CIDW-JQu7Dz3iYGNGYjxYVCPCWfEqQDogFGTwuOuO8\" rel=\"nofollow noreferrer\">https://onecompiler.com/java/3wejrcby2?fbclid=IwAR0dHbGDChRUJoCZ3CIDW-JQu7Dz3iYGNGYjxYVCPCWfEqQDogFGTwuOuO8</a></p>\n"},{"tags":[],"owner":{"account_id":10645250,"reputation":3023,"user_id":7838169,"display_name":"badger"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1622661000,"creation_date":1622661000,"answer_id":67811128,"question_id":443708,"body_markdown":"with java 8 this task is kinda easy, if you want to use callback in multi-thread scenario you can do something similar like the following:\r\n\r\n    public  void methodA (int n, IntConsumer consumer) {\r\n        \r\n        // create a thread\r\n        Thread t = new Thread(() -&gt; {\r\n            // some time consuming operation\r\n            int result = IntStream.range(0, n).sum();\r\n            // after the result is ready do something with it.\r\n            consumer.accept(result);\r\n        });\r\n        t.start();\r\n    }\r\n\r\nand to use this method do:\r\n\r\n    methodA(1000000, System.out::println);","title":"Callback functions in Java","body":"<p>with java 8 this task is kinda easy, if you want to use callback in multi-thread scenario you can do something similar like the following:</p>\n<pre><code>public  void methodA (int n, IntConsumer consumer) {\n    \n    // create a thread\n    Thread t = new Thread(() -&gt; {\n        // some time consuming operation\n        int result = IntStream.range(0, n).sum();\n        // after the result is ready do something with it.\n        consumer.accept(result);\n    });\n    t.start();\n}\n</code></pre>\n<p>and to use this method do:</p>\n<pre><code>methodA(1000000, System.out::println);\n</code></pre>\n"}],"owner":{"account_id":10732,"reputation":54830,"user_id":20400,"accept_rate":72,"display_name":"Omar Kooheji"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":317981,"favorite_count":0,"down_vote_count":0,"up_vote_count":208,"accepted_answer_id":443741,"answer_count":18,"score":208,"last_activity_date":1666742741,"creation_date":1231951216,"question_id":443708,"body_markdown":"Is there a way to pass a call back function in a Java method?\r\n\r\nThe behavior I&#39;m trying to mimic is a .Net Delegate being passed to a function.\r\n\r\nI&#39;ve seen people suggesting creating a separate object but that seems overkill, however I am aware that sometimes overkill is the only way to do things.","title":"Callback functions in Java","body":"<p>Is there a way to pass a call back function in a Java method?</p>\n\n<p>The behavior I'm trying to mimic is a .Net Delegate being passed to a function.</p>\n\n<p>I've seen people suggesting creating a separate object but that seems overkill, however I am aware that sometimes overkill is the only way to do things.</p>\n"},{"tags":["java","c++","java-native-interface","kinect","com+"],"answers":[{"comments":[{"owner":{"account_id":1293012,"reputation":1282,"user_id":1244730,"accept_rate":67,"display_name":"seveves"},"score":0,"creation_date":1331275125,"post_id":9629859,"comment_id":12222356,"body_markdown":"Oh of course ... sockets! I gonna have a closer look on that. ty!","body":"Oh of course ... sockets! I gonna have a closer look on that. ty!"},{"owner":{"account_id":1293012,"reputation":1282,"user_id":1244730,"accept_rate":67,"display_name":"seveves"},"score":0,"creation_date":1331314330,"post_id":9629859,"comment_id":12235289,"body_markdown":"Works like a charm! I decided to use UDP ... seems fine ;) ... thanks!","body":"Works like a charm! I decided to use UDP ... seems fine ;) ... thanks!"},{"owner":{"account_id":88112,"reputation":51921,"user_id":243943,"accept_rate":89,"display_name":"npinti"},"score":0,"creation_date":1331314744,"post_id":9629859,"comment_id":12235431,"body_markdown":"@SeveFriede: Keep in mind that despite being faster, UDP does not guarantee the delivery of the package. This might be problematic if you decide to make your applications communicate over larger distances ;)","body":"@SeveFriede: Keep in mind that despite being faster, UDP does not guarantee the delivery of the package. This might be problematic if you decide to make your applications communicate over larger distances ;)"},{"owner":{"account_id":1293012,"reputation":1282,"user_id":1244730,"accept_rate":67,"display_name":"seveves"},"score":0,"creation_date":1331314962,"post_id":9629859,"comment_id":12235509,"body_markdown":"Thx for the hint! But at the moment the whole thing is running on a local machine ;)","body":"Thx for the hint! But at the moment the whole thing is running on a local machine ;)"}],"tags":[],"owner":{"account_id":88112,"reputation":51921,"user_id":243943,"accept_rate":89,"display_name":"npinti"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1331274573,"creation_date":1331274573,"answer_id":9629859,"question_id":9629766,"body_markdown":"I have found some examples such as [here][1], [here][2] and [here][3] which recommend you either used a shared memory structure or else use sockets. \r\n\r\nI think that in this case, letting your programs communicate through sockets would be the best idea since your applications will not be that tightly coupled, so you just need to expose an IP, a port and a set of commands. \r\n\r\nAccording to [this][4] it seems possible to create a C++ server on the Kinect, but other than that I can&#39;t say much since I have never worked on Kinect related projects.\r\n\r\n\r\n  [1]: http://drdobbs.com/cpp/222900697\r\n  [2]: http://www.velocityreviews.com/forums/t279534-communication-between-a-c-and-java-program.html\r\n  [3]: https://stackoverflow.com/questions/1209406/interprocess-communication-between-c-app-and-java-app-in-windows-os-environmen\r\n  [4]: http://kinect.dashhacks.com/kinect-news/2011/01/14/blitz-c-socket-server-kinect-output-flash-silverlight-html-and-unity","title":"Communication between Java Application and C++ Application","body":"<p>I have found some examples such as <a href=\"http://drdobbs.com/cpp/222900697\" rel=\"nofollow noreferrer\">here</a>, <a href=\"http://www.velocityreviews.com/forums/t279534-communication-between-a-c-and-java-program.html\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://stackoverflow.com/questions/1209406/interprocess-communication-between-c-app-and-java-app-in-windows-os-environmen\">here</a> which recommend you either used a shared memory structure or else use sockets. </p>\n\n<p>I think that in this case, letting your programs communicate through sockets would be the best idea since your applications will not be that tightly coupled, so you just need to expose an IP, a port and a set of commands. </p>\n\n<p>According to <a href=\"http://kinect.dashhacks.com/kinect-news/2011/01/14/blitz-c-socket-server-kinect-output-flash-silverlight-html-and-unity\" rel=\"nofollow noreferrer\">this</a> it seems possible to create a C++ server on the Kinect, but other than that I can't say much since I have never worked on Kinect related projects.</p>\n"},{"tags":[],"owner":{"account_id":1106279,"reputation":9834,"user_id":1097600,"accept_rate":80,"display_name":"Sorter"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1354605557,"creation_date":1353476594,"answer_id":13487079,"question_id":9629766,"body_markdown":"May be you should have  a look at google&#39;s [Protocol Buffers](https://developers.google.com/protocol-buffers/docs/overview).\r\n\r\nSince you are considering [JNI](http://en.wikipedia.org/wiki/Java_Native_Interface).\r\nI&#39;d suggest you refer to this [IBM tutorial](http://www.ibm.com/developerworks/java/tutorials/j-jni/).\r\n \r\nJNI allows the java application to call c/c++ methods and vice-versa.\r\n\r\n\r\n\r\nAlso have  a look at this \r\n[question](https://stackoverflow.com/questions/992836/how-to-access-the-java-method-in-a-c-application/13486890), if you are calling java from c++.","title":"Communication between Java Application and C++ Application","body":"<p>May be you should have  a look at google's <a href=\"https://developers.google.com/protocol-buffers/docs/overview\" rel=\"nofollow noreferrer\">Protocol Buffers</a>.</p>\n\n<p>Since you are considering <a href=\"http://en.wikipedia.org/wiki/Java_Native_Interface\" rel=\"nofollow noreferrer\">JNI</a>.\nI'd suggest you refer to this <a href=\"http://www.ibm.com/developerworks/java/tutorials/j-jni/\" rel=\"nofollow noreferrer\">IBM tutorial</a>.</p>\n\n<p>JNI allows the java application to call c/c++ methods and vice-versa.</p>\n\n<p>Also have  a look at this \n<a href=\"https://stackoverflow.com/questions/992836/how-to-access-the-java-method-in-a-c-application/13486890\">question</a>, if you are calling java from c++.</p>\n"},{"tags":[],"owner":{"account_id":3723682,"reputation":657,"user_id":3098044,"display_name":"mkumar0304"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666742135,"creation_date":1526561457,"answer_id":50391934,"question_id":9629766,"body_markdown":"JNI (Java Native Interface) allows the java application to call c/c++ \r\nmethods.\r\n\r\nAll this requires that we have a means of communicating (Integrating Java \r\nwith C++) between Java and C++. This is provided by the JNI (Java Native \r\nInterface).\r\n\r\nFor a practical example of using the JNI and calling native methods from Java, see [this InfoWorld article][1].\r\n\r\n\r\n  [1]: https://www.infoworld.com/article/2077513/java-tip-17--integrating-java-with-c--.html","title":"Communication between Java Application and C++ Application","body":"<p>JNI (Java Native Interface) allows the java application to call c/c++\nmethods.</p>\n<p>All this requires that we have a means of communicating (Integrating Java\nwith C++) between Java and C++. This is provided by the JNI (Java Native\nInterface).</p>\n<p>For a practical example of using the JNI and calling native methods from Java, see <a href=\"https://www.infoworld.com/article/2077513/java-tip-17--integrating-java-with-c--.html\" rel=\"nofollow noreferrer\">this InfoWorld article</a>.</p>\n"}],"owner":{"account_id":1293012,"reputation":1282,"user_id":1244730,"accept_rate":67,"display_name":"seveves"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14729,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":9629859,"answer_count":3,"score":4,"last_activity_date":1666742135,"creation_date":1331273846,"question_id":9629766,"body_markdown":"I&#39;m trying to write a plugin for a Java Application. The plugin should be able to tell the Java Application that new events have been recognized (Observer Design Pattern, Polling ... thats not the point). The problem is that the events are tracked gestures coming from a Microsoft Kinect controller (I&#180;m using C++ and the Microsoft Kinect SDK because I have to). So that means I have to communicate between the Java Application and my Kinect Application.\r\nI thought of something like an adapter design pattern where the Java application is &quot;including&quot; the interface (c++ header file, dll etc.). First I thought of JNI but then I have to write a DLL that will be used on both application sides, right? Another thing I thought of was to provide the gesture data via a protocol like UDP (or something more lightweight?). The last thing I heard of was to write a COM+ assembly ... but to be honest my knowledge about COM+ is rather little.\r\n\r\n    JAVA APPLICATION &lt;&lt; ----- ??? ----- &gt;&gt; KINECT APPLICATION","title":"Communication between Java Application and C++ Application","body":"<p>I'm trying to write a plugin for a Java Application. The plugin should be able to tell the Java Application that new events have been recognized (Observer Design Pattern, Polling ... thats not the point). The problem is that the events are tracked gestures coming from a Microsoft Kinect controller (I´m using C++ and the Microsoft Kinect SDK because I have to). So that means I have to communicate between the Java Application and my Kinect Application.\nI thought of something like an adapter design pattern where the Java application is \"including\" the interface (c++ header file, dll etc.). First I thought of JNI but then I have to write a DLL that will be used on both application sides, right? Another thing I thought of was to provide the gesture data via a protocol like UDP (or something more lightweight?). The last thing I heard of was to write a COM+ assembly ... but to be honest my knowledge about COM+ is rather little.</p>\n\n<pre><code>JAVA APPLICATION &lt;&lt; ----- ??? ----- &gt;&gt; KINECT APPLICATION\n</code></pre>\n"},{"tags":["java","spring-boot","spring-webflux","okhttp","junit5"],"comments":[{"owner":{"account_id":1799873,"reputation":3402,"user_id":1638483,"accept_rate":69,"display_name":"gudepier"},"score":0,"creation_date":1623337399,"post_id":67923626,"comment_id":120056509,"body_markdown":"FYI when I downgrade the spring-boot-dependencies to **2.3.11.RELEASE**, it&#39;s working like a charm -_-","body":"FYI when I downgrade the spring-boot-dependencies to <b>2.3.11.RELEASE</b>, it&#39;s working like a charm -_-"}],"answers":[{"tags":[],"owner":{"account_id":1799873,"reputation":3402,"user_id":1638483,"accept_rate":69,"display_name":"gudepier"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623670126,"creation_date":1623398810,"answer_id":67933431,"question_id":67923626,"body_markdown":"It seems that the issue has been resolved by using the *spring-boot-dependencies* since the **2.4.5** version (i didn&#39;t tested the intermediates versions).\r\n\r\n---\r\nUPDATE:\r\n\r\nPay attention to your local hosts file...\r\n\r\nI&#39;ve updated mine by adding `.local` as suffix of `localhost` &amp; `&lt;myHostname&gt;` because the issue reappeared this morning (without any changes -_-)\r\n\r\n    127.0.0.1\tlocalhost.local,&lt;myHostname&gt;.local\r\n    255.255.255.255\tbroadcasthost\r\n    ::1             localhost.local,&lt;myHostname&gt;.local\r\n","title":"okhhtp3 mockserver: connection refused","body":"<p>It seems that the issue has been resolved by using the <em>spring-boot-dependencies</em> since the <strong>2.4.5</strong> version (i didn't tested the intermediates versions).</p>\n<hr />\n<p>UPDATE:</p>\n<p>Pay attention to your local hosts file...</p>\n<p>I've updated mine by adding <code>.local</code> as suffix of <code>localhost</code> &amp; <code>&lt;myHostname&gt;</code> because the issue reappeared this morning (without any changes -_-)</p>\n<pre><code>127.0.0.1   localhost.local,&lt;myHostname&gt;.local\n255.255.255.255 broadcasthost\n::1             localhost.local,&lt;myHostname&gt;.local\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18735289,"reputation":1,"user_id":13659776,"display_name":"MrDostoievski"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666740371,"creation_date":1666740371,"answer_id":74201134,"question_id":67923626,"body_markdown":"in my case, I had commented this line in my hosts file.\r\n\r\n    127.0.0.1 localhost\r\n\r\nUncommenting this fixed my problem.","title":"okhhtp3 mockserver: connection refused","body":"<p>in my case, I had commented this line in my hosts file.</p>\n<pre><code>127.0.0.1 localhost\n</code></pre>\n<p>Uncommenting this fixed my problem.</p>\n"}],"owner":{"account_id":1799873,"reputation":3402,"user_id":1638483,"accept_rate":69,"display_name":"gudepier"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2043,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1666740371,"creation_date":1623336678,"question_id":67923626,"body_markdown":"Since I&#39;ve upgraded my ```spring-boot-dependencies``` version from 2.2.5.RELEASE to **2.4.0**, all tests where MockWebServer is used are failing with the following error:\r\n\r\n```org.springframework.web.reactive.function.client.WebClientRequestException: Connection refused: localhost/0:0:0:0:0:0:0:1:56338; nested exception is io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/0:0:0:0:0:0:0:1:56338```\r\n\r\nAny clue? Wrong depedency used / deprecated stuff?\r\n\r\n---\r\nMaven depedency\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;version&gt;2.4.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n        &lt;version&gt;2.4.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n        &lt;version&gt;2.4.0&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n        &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;version&gt;5.7.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mockwebserver&lt;/artifactId&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;version&gt;3.14.9&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\r\n        &lt;artifactId&gt;okhttp&lt;/artifactId&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;version&gt;3.14.9&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nI have writen a simple test case inside of my current , but i got always the same issue... (thanks to &lt;https://stackoverflow.com/a/62528728/1638483&gt;)\r\n\r\n    import com.fasterxml.jackson.databind.JsonNode;\r\n    import org.springframework.web.reactive.function.client.WebClient;\r\n\r\n    public class QuoteClient {\r\n\r\n        private final WebClient webClient;\r\n\r\n        public QuoteClient(WebClient.Builder builder, String baseUrl) {\r\n            this.webClient = builder.baseUrl(baseUrl).build();\r\n        }\r\n\r\n        public JsonNode getData() {\r\n            return this.webClient\r\n                    .get()\r\n                    .retrieve()\r\n                    .bodyToMono(JsonNode.class)\r\n                    .block();\r\n        }\r\n    }\r\n\r\n\r\n\r\n    import com.fasterxml.jackson.databind.JsonNode;\r\n    import okhttp3.mockwebserver.MockResponse;\r\n    import okhttp3.mockwebserver.MockWebServer;\r\n    import org.junit.jupiter.api.BeforeEach;\r\n    import org.junit.jupiter.api.Test;\r\n    import org.springframework.web.reactive.function.client.WebClient;\r\n    \r\n    import static org.junit.Assert.assertNotNull;\r\n    \r\n    public class QuotesClientTest {\r\n        private QuoteClient quotesClient;\r\n        private MockWebServer server;\r\n    \r\n        @BeforeEach\r\n        public void setup() {\r\n            this.server = new MockWebServer();\r\n            this.quotesClient = new QuoteClient(WebClient.builder(), server.url(&quot;/&quot;).toString());\r\n        }\r\n    \r\n        @Test\r\n        public void test() {\r\n            server.enqueue(new MockResponse()\r\n                    .setStatus(&quot;HTTP/1.1 200&quot;)\r\n                    .setBody(&quot;{\\&quot;bar\\&quot;:\\&quot;barbar\\&quot;,\\&quot;foo\\&quot;:\\&quot;foofoo\\&quot;}&quot;)\r\n                    .addHeader(&quot;Content-Type&quot;, &quot;application/json&quot;));\r\n    \r\n            JsonNode data = quotesClient.getData();\r\n            assertNotNull(data);\r\n    \r\n            System.out.println(data);\r\n    \r\n        }\r\n    }\r\n\r\n\r\nStackTrace\r\n\r\n    org.springframework.web.reactive.function.client.WebClientRequestException: Connection refused: localhost/0:0:0:0:0:0:0:1:56382; nested exception is io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/0:0:0:0:0:0:0:1:56382\r\n    \r\n           at org.springframework.web.reactive.function.client.ExchangeFunctions$DefaultExchangeFunction.lambda$wrapException$9(ExchangeFunctions.java:137)\r\n           Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException:\r\n    Error has been observed at the following site(s):\r\n       |_ checkpoint ⇢ Request to GET null [DefaultWebClient]\r\n    Stack trace:\r\n           at org.springframework.web.reactive.function.client.ExchangeFunctions$DefaultExchangeFunction.lambda$wrapException$9(ExchangeFunctions.java:137)\r\n           at reactor.core.publisher.MonoErrorSupplied.subscribe(MonoErrorSupplied.java:70)\r\n           at reactor.core.publisher.Mono.subscribe(Mono.java:3987)\r\n           at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103)\r\n           at reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:221)\r\n           at reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:221)\r\n           at reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:221)\r\n    //...\r\n           at reactor.netty.transport.TransportConnector$MonoChannelPromise.tryFailure(TransportConnector.java:464)\r\n           at reactor.netty.transport.TransportConnector$MonoChannelPromise$1.tryFailure(TransportConnector.java:515)\r\n           at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.fulfillConnectPromise(AbstractNioChannel.java:321)\r\n           at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:337)\r\n           at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:707)\r\n           at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:655)\r\n           at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:581)\r\n           at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)\r\n           at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\r\n           at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n           at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n           at java.lang.Thread.run(Thread.java:748)\r\n       Suppressed: java.lang.Exception: #block terminated with an error\r\n           at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:99)\r\n           at reactor.core.publisher.Mono.block(Mono.java:1679)\r\n           at QuoteClient.getData(QuoteClient.java:23)\r\n           at QuotesClientTest.test(QuotesClientTest.java:30)\r\n           at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n           at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n           at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n           at java.lang.reflect.Method.invoke(Method.java:498)\r\n           at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:688)\r\n           at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n           at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n    //...\r\n           at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\r\n           at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n           at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n           at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n           at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n           at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\r\n           at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)\r\n       Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/0:0:0:0:0:0:0:1:56382\r\n       Caused by: java.net.ConnectException: Connection refused\r\n           at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)\r\n           at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:717)\r\n           at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:330)\r\n           at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:334)\r\n           at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:707)\r\n           at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:655)\r\n           at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:581)\r\n           at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)\r\n           at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\r\n           at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n           at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n           at java.lang.Thread.run(Thread.java:748)\r\n","title":"okhhtp3 mockserver: connection refused","body":"<p>Since I've upgraded my <code>spring-boot-dependencies</code> version from 2.2.5.RELEASE to <strong>2.4.0</strong>, all tests where MockWebServer is used are failing with the following error:</p>\n<p><code>org.springframework.web.reactive.function.client.WebClientRequestException: Connection refused: localhost/0:0:0:0:0:0:0:1:56338; nested exception is io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/0:0:0:0:0:0:0:1:56338</code></p>\n<p>Any clue? Wrong depedency used / deprecated stuff?</p>\n<hr />\n<p>Maven depedency</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;version&gt;2.4.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n    &lt;version&gt;2.4.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n    &lt;version&gt;2.4.0&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n    &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n    &lt;version&gt;5.7.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\n    &lt;artifactId&gt;mockwebserver&lt;/artifactId&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n    &lt;version&gt;3.14.9&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\n    &lt;artifactId&gt;okhttp&lt;/artifactId&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n    &lt;version&gt;3.14.9&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I have writen a simple test case inside of my current , but i got always the same issue... (thanks to <a href=\"https://stackoverflow.com/a/62528728/1638483\">https://stackoverflow.com/a/62528728/1638483</a>)</p>\n<pre><code>import com.fasterxml.jackson.databind.JsonNode;\nimport org.springframework.web.reactive.function.client.WebClient;\n\npublic class QuoteClient {\n\n    private final WebClient webClient;\n\n    public QuoteClient(WebClient.Builder builder, String baseUrl) {\n        this.webClient = builder.baseUrl(baseUrl).build();\n    }\n\n    public JsonNode getData() {\n        return this.webClient\n                .get()\n                .retrieve()\n                .bodyToMono(JsonNode.class)\n                .block();\n    }\n}\n\n\n\nimport com.fasterxml.jackson.databind.JsonNode;\nimport okhttp3.mockwebserver.MockResponse;\nimport okhttp3.mockwebserver.MockWebServer;\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\nimport org.springframework.web.reactive.function.client.WebClient;\n\nimport static org.junit.Assert.assertNotNull;\n\npublic class QuotesClientTest {\n    private QuoteClient quotesClient;\n    private MockWebServer server;\n\n    @BeforeEach\n    public void setup() {\n        this.server = new MockWebServer();\n        this.quotesClient = new QuoteClient(WebClient.builder(), server.url(&quot;/&quot;).toString());\n    }\n\n    @Test\n    public void test() {\n        server.enqueue(new MockResponse()\n                .setStatus(&quot;HTTP/1.1 200&quot;)\n                .setBody(&quot;{\\&quot;bar\\&quot;:\\&quot;barbar\\&quot;,\\&quot;foo\\&quot;:\\&quot;foofoo\\&quot;}&quot;)\n                .addHeader(&quot;Content-Type&quot;, &quot;application/json&quot;));\n\n        JsonNode data = quotesClient.getData();\n        assertNotNull(data);\n\n        System.out.println(data);\n\n    }\n}\n</code></pre>\n<p>StackTrace</p>\n<pre><code>org.springframework.web.reactive.function.client.WebClientRequestException: Connection refused: localhost/0:0:0:0:0:0:0:1:56382; nested exception is io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/0:0:0:0:0:0:0:1:56382\n\n       at org.springframework.web.reactive.function.client.ExchangeFunctions$DefaultExchangeFunction.lambda$wrapException$9(ExchangeFunctions.java:137)\n       Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException:\nError has been observed at the following site(s):\n   |_ checkpoint ⇢ Request to GET null [DefaultWebClient]\nStack trace:\n       at org.springframework.web.reactive.function.client.ExchangeFunctions$DefaultExchangeFunction.lambda$wrapException$9(ExchangeFunctions.java:137)\n       at reactor.core.publisher.MonoErrorSupplied.subscribe(MonoErrorSupplied.java:70)\n       at reactor.core.publisher.Mono.subscribe(Mono.java:3987)\n       at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103)\n       at reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:221)\n       at reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:221)\n       at reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:221)\n//...\n       at reactor.netty.transport.TransportConnector$MonoChannelPromise.tryFailure(TransportConnector.java:464)\n       at reactor.netty.transport.TransportConnector$MonoChannelPromise$1.tryFailure(TransportConnector.java:515)\n       at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.fulfillConnectPromise(AbstractNioChannel.java:321)\n       at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:337)\n       at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:707)\n       at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:655)\n       at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:581)\n       at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)\n       at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\n       at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n       at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n       at java.lang.Thread.run(Thread.java:748)\n   Suppressed: java.lang.Exception: #block terminated with an error\n       at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:99)\n       at reactor.core.publisher.Mono.block(Mono.java:1679)\n       at QuoteClient.getData(QuoteClient.java:23)\n       at QuotesClientTest.test(QuotesClientTest.java:30)\n       at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n       at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n       at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n       at java.lang.reflect.Method.invoke(Method.java:498)\n       at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:688)\n       at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n       at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n//...\n       at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\n       at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n       at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n       at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n       at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n       at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\n       at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)\n   Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/0:0:0:0:0:0:0:1:56382\n   Caused by: java.net.ConnectException: Connection refused\n       at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)\n       at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:717)\n       at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:330)\n       at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:334)\n       at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:707)\n       at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:655)\n       at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:581)\n       at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)\n       at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\n       at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n       at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n       at java.lang.Thread.run(Thread.java:748)\n</code></pre>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":11089,"reputation":400050,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"score":2,"creation_date":1269891605,"post_id":2540725,"comment_id":2541267,"body_markdown":"Before you solve that, you need to solve the problem of how to phrase a question.","body":"Before you solve that, you need to solve the problem of how to phrase a question."},{"owner":{"account_id":55654,"reputation":90573,"user_id":166712,"accept_rate":100,"display_name":"Anthony Forloney"},"score":1,"creation_date":1269891721,"post_id":2540725,"comment_id":2541285,"body_markdown":"Arg, I tried my best to save and transform the question actually into a question.","body":"Arg, I tried my best to save and transform the question actually into a question."},{"owner":{"account_id":22951,"reputation":12505,"user_id":57120,"accept_rate":83,"display_name":"Beska"},"score":1,"creation_date":1269891797,"post_id":2540725,"comment_id":2541295,"body_markdown":"@Anthony: You were editing it as the same time as me...and we were both doing it while other people were closing the question.  :)","body":"@Anthony: You were editing it as the same time as me...and we were both doing it while other people were closing the question.  :)"},{"owner":{"account_id":55654,"reputation":90573,"user_id":166712,"accept_rate":100,"display_name":"Anthony Forloney"},"score":1,"creation_date":1269891848,"post_id":2540725,"comment_id":2541301,"body_markdown":"@Beska: We tried but epically failed. :/","body":"@Beska: We tried but epically failed. :/"},{"owner":{"account_id":7745,"reputation":189765,"user_id":13531,"accept_rate":75,"display_name":"Michael Myers"},"score":4,"creation_date":1269892452,"post_id":2540725,"comment_id":2541366,"body_markdown":"This question should be re-opened now that it has been edited into shape. (It actually should never have been closed in the first place.)","body":"This question should be re-opened now that it has been edited into shape. (It actually should never have been closed in the first place.)"}],"answers":[{"comments":[{"owner":{"account_id":7745,"reputation":189765,"user_id":13531,"accept_rate":75,"display_name":"Michael Myers"},"score":0,"creation_date":1269893327,"post_id":2540899,"comment_id":2541463,"body_markdown":"Rats, you beat me. I&#39;d typed up pretty much the same answer but didn&#39;t refresh the page quick enough.","body":"Rats, you beat me. I&#39;d typed up pretty much the same answer but didn&#39;t refresh the page quick enough."},{"owner":{"account_id":7745,"reputation":189765,"user_id":13531,"accept_rate":75,"display_name":"Michael Myers"},"score":0,"creation_date":1269893663,"post_id":2540899,"comment_id":2541512,"body_markdown":"The loop limit should not be `str.length() - 4`, it should be `str.length() - 2`. Otherwise you&#39;ll miss a cat or dog appearing at the very end of the string.","body":"The loop limit should not be <code>str.length() - 4</code>, it should be <code>str.length() - 2</code>. Otherwise you&#39;ll miss a cat or dog appearing at the very end of the string."},{"owner":{"account_id":3969,"reputation":486,"user_id":5829,"display_name":"roryparle"},"score":0,"creation_date":1269893933,"post_id":2540899,"comment_id":2541549,"body_markdown":"mmyers: Nope. str.length() - 3 should be the last index. Think of the string &quot;cat&quot;. Do you want to call &quot;cat&quot;.substring(1, 4) ?","body":"mmyers: Nope. str.length() - 3 should be the last index. Think of the string &quot;cat&quot;. Do you want to call &quot;cat&quot;.substring(1, 4) ?"},{"owner":{"account_id":41728,"reputation":37898,"user_id":121364,"accept_rate":72,"display_name":"J&#248;rn Schou-Rode"},"score":0,"creation_date":1269893949,"post_id":2540899,"comment_id":2541552,"body_markdown":"@mmeyers: Heh, I started typing up my answer just after casting my vote to reopen, as a compensation for the early close. I really have no idea how I ended up at `str.length() - 4`, but at least it is fixed now, thanks to you :)","body":"@mmeyers: Heh, I started typing up my answer just after casting my vote to reopen, as a compensation for the early close. I really have no idea how I ended up at <code>str.length() - 4</code>, but at least it is fixed now, thanks to you :)"},{"owner":{"account_id":41728,"reputation":37898,"user_id":121364,"accept_rate":72,"display_name":"J&#248;rn Schou-Rode"},"score":0,"creation_date":1269894039,"post_id":2540899,"comment_id":2541567,"body_markdown":"@roryparle: Note the use of &quot;explicitly less than&quot; `&lt;` in both the original code and the answer. Using `&lt;=` and `3` might make the code more obvious though.","body":"@roryparle: Note the use of &quot;explicitly less than&quot; <code>&lt;</code> in both the original code and the answer. Using <code>&lt;=</code> and <code>3</code> might make the code more obvious though."},{"owner":{"account_id":7745,"reputation":189765,"user_id":13531,"accept_rate":75,"display_name":"Michael Myers"},"score":0,"creation_date":1269898275,"post_id":2540899,"comment_id":2542085,"body_markdown":"@roryparle: I did test it before commenting, just in case I&#39;d made an off-by-one error.","body":"@roryparle: I did test it before commenting, just in case I&#39;d made an off-by-one error."}],"tags":[],"owner":{"account_id":41728,"reputation":37898,"user_id":121364,"accept_rate":72,"display_name":"J&#248;rn Schou-Rode"},"comment_count":6,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1562634399,"creation_date":1269893220,"answer_id":2540899,"question_id":2540725,"body_markdown":"While you are pretty close to a solution, there are a few critical problems in your code:\r\n\r\n1. Your call to `substring()` fetches a string of size `2`. That string can *never* be `cat` nor `dog`. Change the second parameter in the method call to `i + 3` to get `3` characters.\r\n\r\n2. Your call to `substring()` will throw an `IndexOutOfRangeException`, as `i` approaches the end of the length of the input string. Make sure you do not ask for a substring that &quot;overflows&quot; the length of the input string. One way to fix this bug, would be to change the conditional expression in your `for` loop to `i &lt; str.length() - 2`.\r\n\r\n3. The return value of your method will always be `true`. In the case where `dogAnswer != catAnswer` you return exactly that expression - which will resolve to `true`. A possible solution: Merge the two `return` statements into `return dogAnswer == catAnswer`.  \r\n\r\nAdditionally, there are a few things you could do to make your code simpler:\r\n\r\n1. There really is no need to copy `cat_Count` into `catAnswer` and `dog_Count` into `dogAnswer`. Throw away two of the variables, and use the other pair exclusively.\r\n\r\n2. &lt;del&gt;If the input string is not allowed to contain anything else than `cat` and `dog`, your loop can be optimized to only consider every third position in the input string. Change `i++` into `i += 3`.&lt;/del&gt; &lt;ins&gt;(Update: after seeing the test data used at [CodingBat][1], I can tell that this is not the case.)&lt;/ins&gt;\r\n\r\nAfter implementing fix #1, #2 and #3 as well as suggestion #1, I have made a test run using the provided [test bench][1], and the result is quite  satisfying:\r\n\r\n# [![][3]][3]\n&lt;!-- source: http://codingbat.com/c2big.jpg --&gt; All correct\r\n\r\n[1]: https://codingbat.com/prob/p111624\r\n[2]: http://codingbat.com/c2big.jpg\n [3]: https://i.stack.imgur.com/Apntt.jpg","title":"catDog string problem at Codingbat.com","body":"<p>While you are pretty close to a solution, there are a few critical problems in your code:</p>\n\n<ol>\n<li><p>Your call to <code>substring()</code> fetches a string of size <code>2</code>. That string can <em>never</em> be <code>cat</code> nor <code>dog</code>. Change the second parameter in the method call to <code>i + 3</code> to get <code>3</code> characters.</p></li>\n<li><p>Your call to <code>substring()</code> will throw an <code>IndexOutOfRangeException</code>, as <code>i</code> approaches the end of the length of the input string. Make sure you do not ask for a substring that \"overflows\" the length of the input string. One way to fix this bug, would be to change the conditional expression in your <code>for</code> loop to <code>i &lt; str.length() - 2</code>.</p></li>\n<li><p>The return value of your method will always be <code>true</code>. In the case where <code>dogAnswer != catAnswer</code> you return exactly that expression - which will resolve to <code>true</code>. A possible solution: Merge the two <code>return</code> statements into <code>return dogAnswer == catAnswer</code>.  </p></li>\n</ol>\n\n<p>Additionally, there are a few things you could do to make your code simpler:</p>\n\n<ol>\n<li><p>There really is no need to copy <code>cat_Count</code> into <code>catAnswer</code> and <code>dog_Count</code> into <code>dogAnswer</code>. Throw away two of the variables, and use the other pair exclusively.</p></li>\n<li><p><del>If the input string is not allowed to contain anything else than <code>cat</code> and <code>dog</code>, your loop can be optimized to only consider every third position in the input string. Change <code>i++</code> into <code>i += 3</code>.</del> (Update: after seeing the test data used at <a href=\"https://codingbat.com/prob/p111624\" rel=\"nofollow noreferrer\">CodingBat</a>, I can tell that this is not the case.)</p></li>\n</ol>\n\n<p>After implementing fix #1, #2 and #3 as well as suggestion #1, I have made a test run using the provided <a href=\"https://codingbat.com/prob/p111624\" rel=\"nofollow noreferrer\">test bench</a>, and the result is quite  satisfying:</p>\n\n<h1><a href=\"https://i.stack.imgur.com/Apntt.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Apntt.jpg\" alt=\"\"></a></h1>\n\n<p> All correct</p>\n"},{"comments":[{"owner":{"account_id":9079,"reputation":16719,"user_id":16623,"accept_rate":100,"display_name":"Michael Todd"},"score":0,"creation_date":1269895934,"post_id":2541153,"comment_id":2541839,"body_markdown":"You&#39;d do better to edit your post and add information, rather than adding an answer. I&#39;ve already done that, but what you can do _now_ is delete this answer before _it_ gets downvotes....","body":"You&#39;d do better to edit your post and add information, rather than adding an answer. I&#39;ve already done that, but what you can do <i>now</i> is delete this answer before <i>it</i> gets downvotes...."},{"owner":{"account_id":41728,"reputation":37898,"user_id":121364,"accept_rate":72,"display_name":"J&#248;rn Schou-Rode"},"score":1,"creation_date":1269898009,"post_id":2541153,"comment_id":2542052,"body_markdown":"@stanny: `i &lt; str.length() - 4` was a blunder by me, and it has been fixed (see comments on my answer). You will get exceptions if you follow my advice #1 alone. Implement #2 as well to make the exceptions go away, and #3 to get the right return values.","body":"@stanny: <code>i &lt; str.length() - 4</code> was a blunder by me, and it has been fixed (see comments on my answer). You will get exceptions if you follow my advice #1 alone. Implement #2 as well to make the exceptions go away, and #3 to get the right return values."},{"owner":{"account_id":7745,"reputation":189765,"user_id":13531,"accept_rate":75,"display_name":"Michael Myers"},"score":0,"creation_date":1269898401,"post_id":2541153,"comment_id":2542102,"body_markdown":"@Michael Todd: Looks like he&#39;s lost the cookie, so he can&#39;t edit the question.","body":"@Michael Todd: Looks like he&#39;s lost the cookie, so he can&#39;t edit the question."}],"tags":[],"owner":{"account_id":116097,"reputation":1,"user_id":304581,"display_name":"stanny110"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1269896150,"creation_date":1269895512,"answer_id":2541153,"question_id":2540725,"body_markdown":"1.\r\nif i use i + 3 i get an error code Exception:java.lang.StringIndexOutOfBoundsException: String index out of range: 7 (line number:10) - hence i use i + 2 (no errors are reported with it\r\n2.changing to i &lt; str.length() - 4 gives a blanket response of true despite some of the test strings containing an unequal number of &quot;cat&quot; &amp; &quot;dog &quot; tokens\r\n\r\nThe crux of the problem is that the response is either all true or all false despite there being a variable numbers of &quot;cat&quot; &amp; &quot;dog&quot; tokens in the various  strings\r\n\r\nthe output from the code can be seen at http://codingbat.com/prob/p111624 - catDog string problem\r\n\r\nPlease try in cutting and pasting my code to see the output - this will explain more graphically than i could say  ","title":"catDog string problem at Codingbat.com","body":"<p>1.\nif i use i + 3 i get an error code Exception:java.lang.StringIndexOutOfBoundsException: String index out of range: 7 (line number:10) - hence i use i + 2 (no errors are reported with it\n2.changing to i &lt; str.length() - 4 gives a blanket response of true despite some of the test strings containing an unequal number of \"cat\" &amp; \"dog \" tokens</p>\n\n<p>The crux of the problem is that the response is either all true or all false despite there being a variable numbers of \"cat\" &amp; \"dog\" tokens in the various  strings</p>\n\n<p>the output from the code can be seen at <a href=\"http://codingbat.com/prob/p111624\" rel=\"nofollow noreferrer\">http://codingbat.com/prob/p111624</a> - catDog string problem</p>\n\n<p>Please try in cutting and pasting my code to see the output - this will explain more graphically than i could say  </p>\n"},{"tags":[],"owner":{"account_id":30171,"reputation":40012,"user_id":82118,"accept_rate":72,"display_name":"Carl Manaster"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1269897305,"creation_date":1269897305,"answer_id":2541329,"question_id":2540725,"body_markdown":"A solution with less duplication would be to write a function that counts occurrences of a substring within a string, then call that function with the string and &quot;cat&quot;, and with the string and &quot;dog&quot;, and return whether the two counts agree.","title":"catDog string problem at Codingbat.com","body":"<p>A solution with less duplication would be to write a function that counts occurrences of a substring within a string, then call that function with the string and \"cat\", and with the string and \"dog\", and return whether the two counts agree.</p>\n"},{"tags":[],"owner":{"account_id":102991,"reputation":378292,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1269928218,"creation_date":1269925040,"answer_id":2542946,"question_id":2540725,"body_markdown":"    int count(String needle, String haystack) {\r\n      return haystack.split(needle, -1).length - 1;\r\n    }\r\n    \r\n    public boolean catDog(String str) {\r\n      return count(&quot;dog&quot;, str) == count(&quot;cat&quot;, str);\r\n    }\r\n\r\nHere&#39;s an &quot;All Correct&quot; solution that uses `split`. The `-1` is used to preserve trailing empty strings.","title":"catDog string problem at Codingbat.com","body":"<pre><code>int count(String needle, String haystack) {\n  return haystack.split(needle, -1).length - 1;\n}\n\npublic boolean catDog(String str) {\n  return count(\"dog\", str) == count(\"cat\", str);\n}\n</code></pre>\n\n<p>Here's an \"All Correct\" solution that uses <code>split</code>. The <code>-1</code> is used to preserve trailing empty strings.</p>\n"},{"tags":[],"owner":{"account_id":3953975,"reputation":1,"user_id":3263207,"display_name":"hani"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1391358012,"creation_date":1391358012,"answer_id":21512907,"question_id":2540725,"body_markdown":"\tpublic boolean catDog(String str) {\r\n\t\tint cdog = 0;\r\n\t\tint ccat = 0;\r\n\r\n\t\tfor (int i = 0; i &lt; str.length()-2; i++)\r\n\t\t{\r\n\t\t\tif (str.charAt(i)== &#39;c&#39; &amp;&amp; str.charAt(i+1)== &#39;a&#39; &amp;&amp; str.charAt(i+2)== &#39;t&#39;)\r\n\t\t\t{\r\n\t\t\t\tccat++;\r\n\t\t\t}\r\n\r\n\t\t\telse if(str.charAt(i) == &#39;d&#39; &amp;&amp; str.charAt(i+1)== &#39;o&#39; &amp;&amp; str.charAt(i+2)== &#39;g&#39;)\r\n\t\t\t{\r\n\t\t\t\tcdog++;\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif (cdog == ccat)\r\n\t\t\treturn true;\r\n\r\n\t\telse\r\n\t\t\treturn false;\r\n\t}","title":"catDog string problem at Codingbat.com","body":"<pre><code>public boolean catDog(String str) {\n    int cdog = 0;\n    int ccat = 0;\n\n    for (int i = 0; i &lt; str.length()-2; i++)\n    {\n        if (str.charAt(i)== 'c' &amp;&amp; str.charAt(i+1)== 'a' &amp;&amp; str.charAt(i+2)== 't')\n        {\n            ccat++;\n        }\n\n        else if(str.charAt(i) == 'd' &amp;&amp; str.charAt(i+1)== 'o' &amp;&amp; str.charAt(i+2)== 'g')\n        {\n            cdog++;\n        }\n\n    }\n\n    if (cdog == ccat)\n        return true;\n\n    else\n        return false;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7888738,"reputation":86,"user_id":5959740,"display_name":"Abdul Hanan Khan"},"score":0,"creation_date":1461784616,"post_id":36898851,"comment_id":61362003,"body_markdown":"we can also use str.substring(i.i+3) instead of charAt() method to check cat and dog appearance in string.","body":"we can also use str.substring(i.i+3) instead of charAt() method to check cat and dog appearance in string."}],"tags":[],"owner":{"account_id":7888738,"reputation":86,"user_id":5959740,"display_name":"Abdul Hanan Khan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1461784231,"creation_date":1461784231,"answer_id":36898851,"question_id":2540725,"body_markdown":"\r\n    public boolean catDog(String str) {\r\n      boolean x =false;  // created a boolean variable.\r\n      int cCount=0;    // variable to count cat in string.\r\n      int dCount=0;    // variable to count dog in string.\r\n      for(int i =0;i&lt;str.length()-2;i++){\r\n        if(str.charAt(i)==&#39;c&#39;&amp;&amp;str.charAt(i+1)==&#39;a&#39;&amp;&amp;str.charAt(i+2)==&#39;t&#39;){ // checking if the string has cat if it does count how many time it has.\r\n          ++cCount;\r\n        }\r\n        if(str.charAt(i)==&#39;d&#39;&amp;&amp;str.charAt(i+1)==&#39;o&#39;&amp;&amp;str.charAt(i+2)==&#39;g&#39;){  // checking if the string has dog if it does count how many time it has.\r\n          ++dCount;\r\n        }\r\n      }\r\n      if(cCount==dCount){  // comparing cat and dog count.\r\n        return true;\r\n      }\r\n      return x;\r\n    }","title":"catDog string problem at Codingbat.com","body":"<pre><code>public boolean catDog(String str) {\n  boolean x =false;  // created a boolean variable.\n  int cCount=0;    // variable to count cat in string.\n  int dCount=0;    // variable to count dog in string.\n  for(int i =0;i&lt;str.length()-2;i++){\n    if(str.charAt(i)=='c'&amp;&amp;str.charAt(i+1)=='a'&amp;&amp;str.charAt(i+2)=='t'){ // checking if the string has cat if it does count how many time it has.\n      ++cCount;\n    }\n    if(str.charAt(i)=='d'&amp;&amp;str.charAt(i+1)=='o'&amp;&amp;str.charAt(i+2)=='g'){  // checking if the string has dog if it does count how many time it has.\n      ++dCount;\n    }\n  }\n  if(cCount==dCount){  // comparing cat and dog count.\n    return true;\n  }\n  return x;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5051836,"reputation":12363,"user_id":4056181,"accept_rate":74,"display_name":"jmd_dk"},"score":0,"creation_date":1483292454,"post_id":41417312,"comment_id":70039699,"body_markdown":"You should explain why this solves the problem, not just post code.","body":"You should explain why this solves the problem, not just post code."}],"tags":[],"owner":{"account_id":8365660,"reputation":9,"user_id":6282455,"display_name":"M.zar"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1483290721,"creation_date":1483290721,"answer_id":41417312,"question_id":2540725,"body_markdown":"    public boolean catDog(String str) {\r\n      \r\n      int countcat = 0;\r\n      int countdog = 0;\r\n      \r\n      if( str.length() &gt;= 3){\r\n      for( int i = 0 ; i &lt; str.length()-2 ; i++){\r\n      if ( str.substring(i,i+3).equals(&quot;cat&quot;))\r\n      countcat = countcat + 1;\r\n      }\r\n      \r\n      \r\n      for( int j = 0 ; j &lt; str.length()-2 ; j++){\r\n      if ( str.substring(j,j+3).equals(&quot;dog&quot;))\r\n      countdog = countdog + 1;\r\n      }}\r\n      \r\n      if (countdog == countcat )\r\n      return true;\r\n    \r\n      \r\n      return false;\r\n      \r\n    }","title":"catDog string problem at Codingbat.com","body":"<pre><code>public boolean catDog(String str) {\n\n  int countcat = 0;\n  int countdog = 0;\n\n  if( str.length() &gt;= 3){\n  for( int i = 0 ; i &lt; str.length()-2 ; i++){\n  if ( str.substring(i,i+3).equals(\"cat\"))\n  countcat = countcat + 1;\n  }\n\n\n  for( int j = 0 ; j &lt; str.length()-2 ; j++){\n  if ( str.substring(j,j+3).equals(\"dog\"))\n  countdog = countdog + 1;\n  }}\n\n  if (countdog == countcat )\n  return true;\n\n\n  return false;\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8640602,"reputation":410,"user_id":6469399,"accept_rate":0,"display_name":"Ravi Vyas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1485641298,"creation_date":1485641298,"answer_id":41915384,"question_id":2540725,"body_markdown":"\tpublic boolean catDog(String str) {\r\n\t\tint cat, dog;\r\n\t\tcat = 0;\r\n\t\tdog = 0;\r\n\t\tfor (int i = 0; i &lt; str.length() - 1; i++) {\r\n\t\t\tif ((i + 3) &gt; str.length()) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tif (str.substring(i, i + 3).equals(&quot;cat&quot;)) {\r\n\t\t\t\tcat++;\r\n\t\t\t}\r\n\t\t}\r\n\t\tfor (int i = 0; i &lt; str.length() - 1; i++) {\r\n\t\t\tif ((i + 3) &gt; str.length()) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tif (str.substring(i, i + 3).equals(&quot;dog&quot;)) {\r\n\t\t\t\tdog++;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (cat == dog) {\r\n\t\t\treturn true;\r\n\t\t} else\r\n\t\t\treturn false;\r\n\r\n\t}","title":"catDog string problem at Codingbat.com","body":"<pre><code>public boolean catDog(String str) {\n    int cat, dog;\n    cat = 0;\n    dog = 0;\n    for (int i = 0; i &lt; str.length() - 1; i++) {\n        if ((i + 3) &gt; str.length()) {\n            break;\n        }\n        if (str.substring(i, i + 3).equals(\"cat\")) {\n            cat++;\n        }\n    }\n    for (int i = 0; i &lt; str.length() - 1; i++) {\n        if ((i + 3) &gt; str.length()) {\n            break;\n        }\n        if (str.substring(i, i + 3).equals(\"dog\")) {\n            dog++;\n        }\n    }\n    if (cat == dog) {\n        return true;\n    } else\n        return false;\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10684871,"reputation":1,"user_id":7865705,"display_name":"Huỳnh C&#244;ng Tiến"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1501518105,"creation_date":1501518105,"answer_id":45420892,"question_id":2540725,"body_markdown":"Here&#39;s my answer. It works well. Hope it helps if you&#39;re stuck.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    public boolean catDog(String str) {\r\n      int cat = 0 ;\r\n      int dog = 0 ;\r\n      for(int i  = 0 ; i &lt; str.length()-2; i++){\r\n        String temp = str.substring(i,i+3);\r\n        if(temp.compareTo(&quot;cat&quot;)==0)\r\n          cat++;\r\n         if(temp.compareTo(&quot;dog&quot;)==0)\r\n          dog++;\r\n      }\r\n      return cat==dog?true:false;\r\n        \r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"catDog string problem at Codingbat.com","body":"<p>Here's my answer. It works well. Hope it helps if you're stuck.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>public boolean catDog(String str) {\r\n  int cat = 0 ;\r\n  int dog = 0 ;\r\n  for(int i  = 0 ; i &lt; str.length()-2; i++){\r\n    String temp = str.substring(i,i+3);\r\n    if(temp.compareTo(\"cat\")==0)\r\n      cat++;\r\n     if(temp.compareTo(\"dog\")==0)\r\n      dog++;\r\n  }\r\n  return cat==dog?true:false;\r\n    \r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":12287338,"reputation":1,"user_id":8966142,"display_name":"Siddharth Pathak"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1511242133,"creation_date":1511240617,"answer_id":47405575,"question_id":2540725,"body_markdown":"    public boolean catDog(String str) {\r\n        int count=0;\r\n        int flag=0;\r\n        for (int i=0; i&lt;str.length()-2; i++)\r\n        {\r\n            if (str.length()&gt;=3&amp;&amp;str.substring(i,i+3).equals(&quot;cat&quot;))\r\n                count++;\r\n            if (str.length()&gt;=3&amp;&amp;str.substring(i,i+3).equals(&quot;dog&quot;))\r\n                flag++;\r\n        }\r\n\r\n        if (count==flag)\r\n            return true;\r\n        else \r\n           return false;\r\n    }\r\n","title":"catDog string problem at Codingbat.com","body":"<pre><code>public boolean catDog(String str) {\n    int count=0;\n    int flag=0;\n    for (int i=0; i&lt;str.length()-2; i++)\n    {\n        if (str.length()&gt;=3&amp;&amp;str.substring(i,i+3).equals(\"cat\"))\n            count++;\n        if (str.length()&gt;=3&amp;&amp;str.substring(i,i+3).equals(\"dog\"))\n            flag++;\n    }\n\n    if (count==flag)\n        return true;\n    else \n       return false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14070224,"reputation":31,"user_id":10163903,"display_name":"Morriss"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1533103390,"creation_date":1533102676,"answer_id":51626126,"question_id":2540725,"body_markdown":"You will want to iterate each character in your string and then check to see if the substring is equal to either cat or dog and increments the counts.\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    public boolean catDog(String str) {\r\n\r\n      int end = str.length();\r\n      int cDog = 0;\r\n      int cCat = 0;\r\n    \r\n      // We don&#39;t need to go to the end because cat/dog are 3 characters long each. So we can avoid extra checks.\r\n      for (int i=0; i &lt; end-2; i++) {\r\n            if(str.substring(i, i+3).equals(&quot;cat&quot;)) {\r\n              cCat++;\r\n            } else if(str.substring(i, i+3).equals(&quot;dog&quot;)) {\r\n              cDog++;\r\n            }  \r\n       }\r\n\r\n       return cCat == cDog ? true : false;\r\n    }\r\n","title":"catDog string problem at Codingbat.com","body":"<p>You will want to iterate each character in your string and then check to see if the substring is equal to either cat or dog and increments the counts.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public boolean catDog(String str) {\n\n  int end = str.length();\n  int cDog = 0;\n  int cCat = 0;\n\n  // We don't need to go to the end because cat/dog are 3 characters long each. So we can avoid extra checks.\n  for (int i=0; i &lt; end-2; i++) {\n        if(str.substring(i, i+3).equals(\"cat\")) {\n          cCat++;\n        } else if(str.substring(i, i+3).equals(\"dog\")) {\n          cDog++;\n        }  \n   }\n\n   return cCat == cDog ? true : false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user6156595"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1570259091,"creation_date":1570253504,"answer_id":58245625,"question_id":2540725,"body_markdown":"```\r\npublic boolean catDog(String str) {\r\n\r\n  return str.replace(&quot;cat&quot;,&quot;@@&quot;).length()==str.replace(&quot;dog&quot;,&quot;&amp;&amp;&quot;).length();\r\n\r\n}\r\n```","title":"catDog string problem at Codingbat.com","body":"<pre><code>public boolean catDog(String str) {\n\n  return str.replace(\"cat\",\"@@\").length()==str.replace(\"dog\",\"&amp;&amp;\").length();\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19290120,"reputation":1,"user_id":14100333,"display_name":"Ben91"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597332365,"creation_date":1597332365,"answer_id":63398319,"question_id":2540725,"body_markdown":"My simple python solution:\r\n```\r\ndef cat_dog(str):\r\n  \r\n  cat_sum, dog_sum = 0, 0\r\n  for i in range(len(str)-1):\r\n    if str[i:i+3] == &#39;cat&#39;:\r\n      cat_sum += 1\r\n    elif str[i:i+3] == &#39;dog&#39;:\r\n        dog_sum += 1\r\n  if dog_sum == cat_sum:\r\n    return True\r\n  else:\r\n    return False\r\n```","title":"catDog string problem at Codingbat.com","body":"<p>My simple python solution:</p>\n<pre><code>def cat_dog(str):\n  \n  cat_sum, dog_sum = 0, 0\n  for i in range(len(str)-1):\n    if str[i:i+3] == 'cat':\n      cat_sum += 1\n    elif str[i:i+3] == 'dog':\n        dog_sum += 1\n  if dog_sum == cat_sum:\n    return True\n  else:\n    return False\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21308464,"reputation":1,"user_id":15683279,"display_name":"user15683279"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1618760592,"creation_date":1618760498,"answer_id":67150398,"question_id":2540725,"body_markdown":"```java\r\n#String-2 &gt; cat_dog(pyton 3)\r\ndef cat_dog(str):\r\n    c_c=0\r\n    c_d=0\r\n    for i  in range(len(str)-2):\r\n        if str[i:i+3]==&#39;cat&#39;:\r\n            c_c+=1\r\n        if str[i:i+3]== &#39;dog&#39;:\r\n            c_d+=1\r\n    return c_c==c_d\r\n```","title":"catDog string problem at Codingbat.com","body":"<pre class=\"lang-java prettyprint-override\"><code>#String-2 &gt; cat_dog(pyton 3)\ndef cat_dog(str):\n    c_c=0\n    c_d=0\n    for i  in range(len(str)-2):\n        if str[i:i+3]=='cat':\n            c_c+=1\n        if str[i:i+3]== 'dog':\n            c_d+=1\n    return c_c==c_d\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8733553,"reputation":1,"user_id":6532851,"display_name":"Amarnadh Reddy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651613309,"creation_date":1651613309,"answer_id":72105648,"question_id":2540725,"body_markdown":"This helps:\r\n\r\n    def cat_dog(str):\r\n        return str.count(&#39;cat&#39;)==str.count(&#39;dog&#39;)","title":"catDog string problem at Codingbat.com","body":"<p>This helps:</p>\n<pre><code>def cat_dog(str):\n    return str.count('cat')==str.count('dog')\n</code></pre>\n"}],"owner":{"account_id":604104,"reputation":39,"user_id":304527,"display_name":"stanny110"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14903,"favorite_count":0,"down_vote_count":3,"up_vote_count":6,"answer_count":15,"score":3,"last_activity_date":1666739307,"creation_date":1269891505,"question_id":2540725,"body_markdown":"Could anyone check my solution?\r\n\r\nI want to return true if the string &quot;cat&quot; and &quot;dog&quot; appear the same number of times in the given string. There are various strings with different numbers of &quot;cat&quot; and &quot;dog&quot;.\r\n\r\n    public boolean catDog(String str) \r\n    {  \r\n      int catAnswer = 0;\r\n      int dogAnswer = 0;\r\n      int cat_Count = 0;\r\n      int dog_Count = 0;\r\n      \r\n      for (int i=0; i&lt; str.length()-1; i++) \r\n      {\r\n        String sub = str.substring(i, i+2);\r\n         \r\n         \r\n        if ((sub.equals(&quot;cat&quot;)))  cat_Count++;\r\n        if ((sub.equals(&quot;dog&quot;)))  dog_Count++;\r\n        catAnswer = cat_Count; \r\n        dogAnswer = dog_Count;\r\n    \r\n      } //end for\r\n       \r\n      if(dogAnswer == catAnswer ) {return true;}\r\n      // else\r\n      return (dogAnswer != catAnswer);\r\n    }\r\n\r\nUPDATE: \r\n\r\n 1. If i use i + 3 i get an error code\r\n    Exception:java.lang.StringIndexOutOfBoundsException:\r\n    String index out of range: 7 (line\r\n    number:10) - hence i use i + 2 (no\r\n    errors are reported with it \r\n    \r\n 2. Changing to i &lt; str.length() - 4 gives a blanket response of true\r\n    despite some of the test strings\r\n    containing an unequal number of\r\n    &quot;cat&quot; &amp; &quot;dog &quot; tokens\r\n\r\nThe crux of the problem is that the response is either all true or all false when there is variable numbers of &quot;cat&quot; &amp; &quot;dog&quot; in the various strings\r\n\r\nthe output from the code can be seen at http://codingbat.com/prob/p111624 - catDog string problem\r\n\r\nPlease try in cutting and pasting my code to see the output - this will explain more graphically than i could say\r\n","title":"catDog string problem at Codingbat.com","body":"<p>Could anyone check my solution?</p>\n\n<p>I want to return true if the string \"cat\" and \"dog\" appear the same number of times in the given string. There are various strings with different numbers of \"cat\" and \"dog\".</p>\n\n<pre><code>public boolean catDog(String str) \n{  \n  int catAnswer = 0;\n  int dogAnswer = 0;\n  int cat_Count = 0;\n  int dog_Count = 0;\n\n  for (int i=0; i&lt; str.length()-1; i++) \n  {\n    String sub = str.substring(i, i+2);\n\n\n    if ((sub.equals(\"cat\")))  cat_Count++;\n    if ((sub.equals(\"dog\")))  dog_Count++;\n    catAnswer = cat_Count; \n    dogAnswer = dog_Count;\n\n  } //end for\n\n  if(dogAnswer == catAnswer ) {return true;}\n  // else\n  return (dogAnswer != catAnswer);\n}\n</code></pre>\n\n<p>UPDATE: </p>\n\n<ol>\n<li><p>If i use i + 3 i get an error code\nException:java.lang.StringIndexOutOfBoundsException:\nString index out of range: 7 (line\nnumber:10) - hence i use i + 2 (no\nerrors are reported with it </p></li>\n<li><p>Changing to i &lt; str.length() - 4 gives a blanket response of true\ndespite some of the test strings\ncontaining an unequal number of\n\"cat\" &amp; \"dog \" tokens</p></li>\n</ol>\n\n<p>The crux of the problem is that the response is either all true or all false when there is variable numbers of \"cat\" &amp; \"dog\" in the various strings</p>\n\n<p>the output from the code can be seen at <a href=\"http://codingbat.com/prob/p111624\" rel=\"nofollow noreferrer\">http://codingbat.com/prob/p111624</a> - catDog string problem</p>\n\n<p>Please try in cutting and pasting my code to see the output - this will explain more graphically than i could say</p>\n"},{"tags":["java","singleton","powermock","suppress"],"answers":[{"comments":[{"owner":{"account_id":1034930,"reputation":85,"user_id":1042480,"display_name":"Chad Blomquist"},"score":0,"creation_date":1321054865,"post_id":8100905,"comment_id":9932668,"body_markdown":"This annotation didn&#39;t change anything. I tried using ClassToBeTested.class and MySingleton.class, neither of which seemed to change the outcome in any way.","body":"This annotation didn&#39;t change anything. I tried using ClassToBeTested.class and MySingleton.class, neither of which seemed to change the outcome in any way."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1321055039,"post_id":8100905,"comment_id":9932692,"body_markdown":"@user1042480 What version of PowerMock?","body":"@user1042480 What version of PowerMock?"},{"owner":{"account_id":1034930,"reputation":85,"user_id":1042480,"display_name":"Chad Blomquist"},"score":0,"creation_date":1321055771,"post_id":8100905,"comment_id":9932798,"body_markdown":"Using powermock-easymock-1.4.10-full with easymock-3.1. Java 1.6","body":"Using powermock-easymock-1.4.10-full with easymock-3.1. Java 1.6"},{"owner":{"account_id":1034930,"reputation":85,"user_id":1042480,"display_name":"Chad Blomquist"},"score":0,"creation_date":1321056231,"post_id":8100905,"comment_id":9932873,"body_markdown":"I&#39;ve modified the test method some, and that combined with the annotations you suggest seems to have done the trick. The annotations were definitely part of the problem, so thanks for the help!","body":"I&#39;ve modified the test method some, and that combined with the annotations you suggest seems to have done the trick. The annotations were definitely part of the problem, so thanks for the help!"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1321057656,"post_id":8100905,"comment_id":9933066,"body_markdown":"@user1042480 By the way, I&#39;m not sure you&#39;d need to suppress both ctors; I think if you suppress the superclass ctor the base won&#39;t be called.","body":"@user1042480 By the way, I&#39;m not sure you&#39;d need to suppress both ctors; I think if you suppress the superclass ctor the base won&#39;t be called."},{"owner":{"account_id":3652290,"reputation":2120,"user_id":3044117,"accept_rate":38,"display_name":"Eduardo"},"score":0,"creation_date":1500571427,"post_id":8100905,"comment_id":77409012,"body_markdown":"cannot find the `constructor` method, would you mind to add the needed imports to the example?","body":"cannot find the <code>constructor</code> method, would you mind to add the needed imports to the example?"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1500576107,"post_id":8100905,"comment_id":77411796,"body_markdown":"@Eduardo I have no idea what it&#39;d be anymore-I&#39;m sure things have changed over the past six years.","body":"@Eduardo I have no idea what it&#39;d be anymore-I&#39;m sure things have changed over the past six years."}],"tags":[],"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"comment_count":7,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1666738922,"creation_date":1321051786,"answer_id":8100905,"question_id":8100816,"body_markdown":"You need to annotate `TestClass` with the `@PrepareForTest` annotation so it has a chance to manipulate the bytecode of the singletons.\r\n\r\nAlso, the superclass ctor supression signature should include `somevar`&#39;s class; right now you&#39;re just suppressing the default ctor. \r\n\r\nSee the [`@PrepareForTest` API docs.][1] Here&#39;s a [blog post][2] with some more details as well.\r\n\r\nFWIW, it&#39;s working for me:\r\n\r\n```java\r\n\r\n    @RunWith(PowerMockRunner.class)\r\n    @PrepareForTest({EvilBase.class, NicerSingleton.class})\r\n    public class TestEvil {\r\n    \r\n        @Test\r\n        public void testEvil() {\r\n            suppress(constructor(EvilBase.class));\r\n            assertEquals(69, EvilBase.getInstance().theMethod());\r\n        }\r\n    \r\n        @Test \r\n        public void testNice() {\r\n            suppress(constructor(EvilBase.class));\r\n            suppress(constructor(NicerSingleton.class));\r\n            assertEquals(42, NicerSingleton.getInstance().theMethod());\r\n        }\r\n\r\n    }\r\n```\r\n\r\n\r\n\r\n  [1]: http://powermock.googlecode.com/svn/docs/powermock-1.3.7/apidocs/org/powermock/core/classloader/annotations/PrepareForTest.html\r\n  [2]: http://www.gitshah.com/2010/06/how-to-supress-methods-and-constructors.html\r\n","title":"suppress a singleton constructor in java with powermock","body":"<p>You need to annotate <code>TestClass</code> with the <code>@PrepareForTest</code> annotation so it has a chance to manipulate the bytecode of the singletons.</p>\n<p>Also, the superclass ctor supression signature should include <code>somevar</code>'s class; right now you're just suppressing the default ctor.</p>\n<p>See the <a href=\"http://powermock.googlecode.com/svn/docs/powermock-1.3.7/apidocs/org/powermock/core/classloader/annotations/PrepareForTest.html\" rel=\"nofollow noreferrer\"><code>@PrepareForTest</code> API docs.</a> Here's a <a href=\"http://www.gitshah.com/2010/06/how-to-supress-methods-and-constructors.html\" rel=\"nofollow noreferrer\">blog post</a> with some more details as well.</p>\n<p>FWIW, it's working for me:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n    @RunWith(PowerMockRunner.class)\n    @PrepareForTest({EvilBase.class, NicerSingleton.class})\n    public class TestEvil {\n    \n        @Test\n        public void testEvil() {\n            suppress(constructor(EvilBase.class));\n            assertEquals(69, EvilBase.getInstance().theMethod());\n        }\n    \n        @Test \n        public void testNice() {\n            suppress(constructor(EvilBase.class));\n            suppress(constructor(NicerSingleton.class));\n            assertEquals(42, NicerSingleton.getInstance().theMethod());\n        }\n\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1034930,"reputation":85,"user_id":1042480,"display_name":"Chad Blomquist"},"score":1,"creation_date":1321054665,"post_id":8100938,"comment_id":9932631,"body_markdown":"Thanks for the advice, but that&#39;s not an option.","body":"Thanks for the advice, but that&#39;s not an option."}],"tags":[],"owner":{"account_id":265406,"reputation":3155,"user_id":552347,"display_name":"Ravi Bhatt"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1548679827,"creation_date":1321051981,"answer_id":8100938,"question_id":8100816,"body_markdown":"I am not sure what is it that you are doing wrong. But on the design side, i can suggest you look into dependency injection i.e. DI.\r\n\r\nFor making your code testable, make use of DI. With DI you would pass the singleton class as an constructor argument to your test class. And now since you pass an argument, inside your test case you can create a custom implementation of the `AbstractSingleton` class and your test case should work fine.\r\n\r\nWith DI, your code will become more testable. ","title":"suppress a singleton constructor in java with powermock","body":"<p>I am not sure what is it that you are doing wrong. But on the design side, i can suggest you look into dependency injection i.e. DI.</p>\n\n<p>For making your code testable, make use of DI. With DI you would pass the singleton class as an constructor argument to your test class. And now since you pass an argument, inside your test case you can create a custom implementation of the <code>AbstractSingleton</code> class and your test case should work fine.</p>\n\n<p>With DI, your code will become more testable. </p>\n"},{"tags":[],"owner":{"account_id":114124,"reputation":10809,"user_id":300248,"accept_rate":74,"display_name":"simpatico"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1321563283,"creation_date":1321563283,"answer_id":8174161,"question_id":8100816,"body_markdown":"How about you set the instance field (`&#39;only&#39;` in your code) of your Singleton with an instance instantiated with the constructor you want (you can do all of this with the Reflection API or [dp4j][1]).\r\n\r\nThe motivating example of [a dp4j publication][2] discusses that.\r\n\r\n  [1]: http://dp4j.com\r\n  [2]: https://docs.google.com/viewer?a=v&amp;pid=explorer&amp;chrome=true&amp;srcid=0B7OkJm_8TIzzMGIzYzM4NDktZDhiNS00NmVlLTg1OTgtN2ZlMDdmNmYxYzY5&amp;hl=en","title":"suppress a singleton constructor in java with powermock","body":"<p>How about you set the instance field (<code>'only'</code> in your code) of your Singleton with an instance instantiated with the constructor you want (you can do all of this with the Reflection API or <a href=\"http://dp4j.com\" rel=\"nofollow\">dp4j</a>).</p>\n\n<p>The motivating example of <a href=\"https://docs.google.com/viewer?a=v&amp;pid=explorer&amp;chrome=true&amp;srcid=0B7OkJm_8TIzzMGIzYzM4NDktZDhiNS00NmVlLTg1OTgtN2ZlMDdmNmYxYzY5&amp;hl=en\" rel=\"nofollow\">a dp4j publication</a> discusses that.</p>\n"}],"owner":{"account_id":1034930,"reputation":85,"user_id":1042480,"display_name":"Chad Blomquist"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8581,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":8100905,"answer_count":3,"score":4,"last_activity_date":1666738922,"creation_date":1321050985,"question_id":8100816,"body_markdown":"I&#39;m trying to unit-test some classes that make use of a Singleton class whose constructor does some things I can&#39;t (and shouldn&#39;t) do from the unit-test environment. My ideal scenario would be to end up with the constructor completely suppressed and then stub out the other member methods that my test classes invoke. My problem is that I can&#39;t seem to get the constructor suppressed.\r\n\r\nMy understanding of a way to solve this would be something like the following:\r\n\r\n    public class MySingleton extends AbstractSingletonParent {\r\n        public final static MySingleton Only = new MySingleton();\r\n        private MySingleton(){\r\n            super(someVar); // I want the super-class constructor to not be called\r\n            //\r\n            //more code I want to avoid\r\n        }\r\n    \r\n        public Object stubbedMethod() {}\r\n    }\r\n\r\n    public class ClassToBeTested {\r\n        public void SomeMethod(){\r\n            Object o = MySingleton.Only.stubbedMethod();\r\n        }\r\n    }\r\n\r\n\r\n    @RunWith(PowerMockRunner.class)\r\n    @PrepareForTest(MySingleton.class)\r\n    public class TestClass {\r\n        @Test\r\n        public void SomeTest() {\r\n            suppress(constructor(MySingleton.class));\r\n            mockStatic(MySingleton.class);\r\n            \r\n            PowerMock.replay(MySingleton.class);\r\n            // invoke ClassToBeTested, etc\r\n            \r\n            PowerMock.verify(MySingleton.class);\r\n\r\n            //make some assertions\r\n        }\r\n    }\r\n\r\n\r\nUnfortunately during the createMock invocation, the MySingleton constructor is hit, and it still calls the super constructor.\r\n\r\nAm I doing something silly? I found an example on the web doing almost exactly this, but it was using a deprecated suppressConstructor method. Despite the deprecation I tried that, too, to no avail...\r\n\r\nIs what I&#39;m trying to do possible? If so, what am I doing wrong?\r\n\r\n\r\n\r\n*Edited version now works.\r\n","title":"suppress a singleton constructor in java with powermock","body":"<p>I'm trying to unit-test some classes that make use of a Singleton class whose constructor does some things I can't (and shouldn't) do from the unit-test environment. My ideal scenario would be to end up with the constructor completely suppressed and then stub out the other member methods that my test classes invoke. My problem is that I can't seem to get the constructor suppressed.</p>\n\n<p>My understanding of a way to solve this would be something like the following:</p>\n\n<pre><code>public class MySingleton extends AbstractSingletonParent {\n    public final static MySingleton Only = new MySingleton();\n    private MySingleton(){\n        super(someVar); // I want the super-class constructor to not be called\n        //\n        //more code I want to avoid\n    }\n\n    public Object stubbedMethod() {}\n}\n\npublic class ClassToBeTested {\n    public void SomeMethod(){\n        Object o = MySingleton.Only.stubbedMethod();\n    }\n}\n\n\n@RunWith(PowerMockRunner.class)\n@PrepareForTest(MySingleton.class)\npublic class TestClass {\n    @Test\n    public void SomeTest() {\n        suppress(constructor(MySingleton.class));\n        mockStatic(MySingleton.class);\n\n        PowerMock.replay(MySingleton.class);\n        // invoke ClassToBeTested, etc\n\n        PowerMock.verify(MySingleton.class);\n\n        //make some assertions\n    }\n}\n</code></pre>\n\n<p>Unfortunately during the createMock invocation, the MySingleton constructor is hit, and it still calls the super constructor.</p>\n\n<p>Am I doing something silly? I found an example on the web doing almost exactly this, but it was using a deprecated suppressConstructor method. Despite the deprecation I tried that, too, to no avail...</p>\n\n<p>Is what I'm trying to do possible? If so, what am I doing wrong?</p>\n\n<p>*Edited version now works.</p>\n"},{"tags":["java","sdk","sdkman"],"answers":[{"tags":[],"owner":{"account_id":4393877,"reputation":6964,"user_id":3581539,"accept_rate":48,"display_name":"Kirill"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666737556,"creation_date":1666737556,"answer_id":74200863,"question_id":73490734,"body_markdown":"Unfortunately, as for now it&#39;s not supported. There is an open feature request ([#1102](https://github.com/sdkman/sdkman-cli/issues/1102)) to support this.\r\n\r\nIt [was also suggested to respect the closest `.sdkmanrc`](https://github.com/sdkman/sdkman-cli/issues/756#issuecomment-622947190) on the initial auto-env feature implementation, but was decided to keep it simple first.","title":"Why does sdkman not update Java SDK version for project subdirectories?","body":"<p>Unfortunately, as for now it's not supported. There is an open feature request (<a href=\"https://github.com/sdkman/sdkman-cli/issues/1102\" rel=\"nofollow noreferrer\">#1102</a>) to support this.</p>\n<p>It <a href=\"https://github.com/sdkman/sdkman-cli/issues/756#issuecomment-622947190\" rel=\"nofollow noreferrer\">was also suggested to respect the closest <code>.sdkmanrc</code></a> on the initial auto-env feature implementation, but was decided to keep it simple first.</p>\n"}],"owner":{"account_id":3484828,"reputation":11,"user_id":2916035,"display_name":"Brockenbrough"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":461,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666737556,"creation_date":1661443932,"question_id":73490734,"body_markdown":"After setting the Java version for a project directory via the .sdkmanenv file, the Java versions only gets updated when navigating to the root directory.\r\n\r\nIs this just expected behavior?\r\nDoes the .sdkmanrc file need to be propagated to all sub-directories? \r\n\r\nExample:\r\n\r\n```\r\n~ % mkdir root_dir\r\n~ % cd root_dir\r\nroot_dir % mkdir sub_dir\r\nroot_dir % sdk env init\r\n  .sdkmanrc created.\r\nroot_dir % cat .sdkmanrc\r\n  # Enable auto-env through the sdkman_auto_env \r\n  config\r\n  # Add key=value pairs of SDKs to use below\r\n  java=8.0.345-tem\r\nroot_dir % sed -i&quot;&quot; -e &#39;s/8.0.345-tem/11.0.16-tem/&#39; .sdkmanrc\r\nroot_dir % cat .sdkmanrc\r\n  # Enable auto-env through the sdkman_auto_env config\r\n  # Add key=value pairs of SDKs to use below\r\n  java=11.0.16-tem\r\nroot_dir % cd ..\r\n~ % cd root_dir/sub_dir\r\nsub_dir % cd ..\r\n  Using java version 11.0.16-tem in this shell.\r\nroot_dir % cd ..\r\n  Restored java version to 8.0.345-tem (default)\r\n```\r\nFor reference, I am using the following versions of sdkman and macOS, respectively.\r\n```\r\n% sdk version\r\nSDKMAN 5.16.0\r\n\r\n#macOS version\r\n% sw_vers -productVersion\r\n12.5.1\r\n```\r\nAlso, I have &#39;sdkman_auto_env=true&#39; set via &#39;sdk config&#39;\r\n```\r\n% grep sdkman_auto_env .sdkman/etc/config\r\nsdkman_auto_env=true\r\n```","title":"Why does sdkman not update Java SDK version for project subdirectories?","body":"<p>After setting the Java version for a project directory via the .sdkmanenv file, the Java versions only gets updated when navigating to the root directory.</p>\n<p>Is this just expected behavior?\nDoes the .sdkmanrc file need to be propagated to all sub-directories?</p>\n<p>Example:</p>\n<pre><code>~ % mkdir root_dir\n~ % cd root_dir\nroot_dir % mkdir sub_dir\nroot_dir % sdk env init\n  .sdkmanrc created.\nroot_dir % cat .sdkmanrc\n  # Enable auto-env through the sdkman_auto_env \n  config\n  # Add key=value pairs of SDKs to use below\n  java=8.0.345-tem\nroot_dir % sed -i&quot;&quot; -e 's/8.0.345-tem/11.0.16-tem/' .sdkmanrc\nroot_dir % cat .sdkmanrc\n  # Enable auto-env through the sdkman_auto_env config\n  # Add key=value pairs of SDKs to use below\n  java=11.0.16-tem\nroot_dir % cd ..\n~ % cd root_dir/sub_dir\nsub_dir % cd ..\n  Using java version 11.0.16-tem in this shell.\nroot_dir % cd ..\n  Restored java version to 8.0.345-tem (default)\n</code></pre>\n<p>For reference, I am using the following versions of sdkman and macOS, respectively.</p>\n<pre><code>% sdk version\nSDKMAN 5.16.0\n\n#macOS version\n% sw_vers -productVersion\n12.5.1\n</code></pre>\n<p>Also, I have 'sdkman_auto_env=true' set via 'sdk config'</p>\n<pre><code>% grep sdkman_auto_env .sdkman/etc/config\nsdkman_auto_env=true\n</code></pre>\n"},{"tags":["java","date","datetime"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1666340361,"post_id":74150169,"comment_id":130918436,"body_markdown":"What is `Holiday`, why do you need this class to begin with?","body":"What is <code>Holiday</code>, why do you need this class to begin with?"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":5,"creation_date":1666340487,"post_id":74150169,"comment_id":130918476,"body_markdown":"Why are you mixing legacy `Date` API with the new Java-time API, meaning why do you need both `LocalDate` and legacy `Date`?","body":"Why are you mixing legacy <code>Date</code> API with the new Java-time API, meaning why do you need both <code>LocalDate</code> and legacy <code>Date</code>?"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":2,"creation_date":1666340756,"post_id":74150169,"comment_id":130918549,"body_markdown":"`.noneMatch(app2 -&gt; Hoildays.getHoildayDate().equals(list))` - condition inside `noneMatch()` is wrong for several reasons. The most obvious: it doesn&#39;t check stream elements, which makes the stream poinless.","body":"<code>.noneMatch(app2 -&gt; Hoildays.getHoildayDate().equals(list))</code> - condition inside <code>noneMatch()</code> is wrong for several reasons. The most obvious: it doesn&#39;t check stream elements, which makes the stream poinless."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1666341199,"post_id":74150169,"comment_id":130918719,"body_markdown":"Your current question is unclear. Please, improve it, use the *edit* button or this [link](https://stackoverflow.com/posts/74150169/edit).","body":"Your current question is unclear. Please, improve it, use the <i>edit</i> button or this <a href=\"https://stackoverflow.com/posts/74150169/edit\">link</a>."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1666348214,"post_id":74150169,"comment_id":130921050,"body_markdown":"I strongly recommend you don’t use `SimpleDateFormat` nor `Date` (any of the `Date` classes). They are troublesome, poorly designed and long outdated, nothing you want to struggle with. Use `LocalDate`. See also [Insert &amp; fetch java.time.LocalDate objects to/from an SQL database such as H2](https://stackoverflow.com/questions/43039614/insert-fetch-java-time-localdate-objects-to-from-an-sql-database-such-as-h2).","body":"I strongly recommend you don’t use <code>SimpleDateFormat</code> nor <code>Date</code> (any of the <code>Date</code> classes). They are troublesome, poorly designed and long outdated, nothing you want to struggle with. Use <code>LocalDate</code>. See also <a href=\"https://stackoverflow.com/questions/43039614/insert-fetch-java-time-localdate-objects-to-from-an-sql-database-such-as-h2\">Insert &amp; fetch java.time.LocalDate objects to/from an SQL database such as H2</a>."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1666348770,"post_id":74150169,"comment_id":130921219,"body_markdown":"I’d probably convert the list of `Holiday` to a list of `LocalDate` using a not too complicated stream operation. And then call `removeAll()` on a copy of the list of the employee’s leave dates (assuming they are `LocalDate` too).","body":"I’d probably convert the list of <code>Holiday</code> to a list of <code>LocalDate</code> using a not too complicated stream operation. And then call <code>removeAll()</code> on a copy of the list of the employee’s leave dates (assuming they are <code>LocalDate</code> too)."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666735285,"creation_date":1666734459,"answer_id":74200536,"question_id":74150169,"body_markdown":"# tl;dr\r\n\r\nAddressing a simplified version of your Question&#39;s problem, narrowing down a list of holidays to those landing on weekdays.\r\n\r\n    new TreeSet&lt; LocalDate &gt;()\r\n    …\r\n    .stream()\r\n    .filter( localDate -&gt; ! Set.of( DayOfWeek.SATURDAY , DayOfWeek.SUNDAY ).contains( localDate )\r\n    .toList() \r\n\r\n\r\n# Details\r\n\r\n&gt;The class Name is Holiday, it holds only one variable named holiday date.\r\n\r\nSo drop the class. If its only feature is a member field holding a date value, just use [`java.time.LocalDate`][1].\r\n\r\nAvoid legacy date-time classes. **Use only *java.time* classes.** Never use `SimpleDateFormat` nor either of the `Date` classes. \r\n\r\nI imagine it would be helpful to use the holiday dates in their chronological order. So we use [`NavigableSet`][2] interface, with implementation [`TreeSet`][3]. A [`Set`][4] eliminates duplicates.\r\n\r\n    final NavigableSet&lt; LocalDate &gt; holidays = new TreeSet&lt;&gt;() ;\r\n    …\r\n    LocalDate ld = myResultSet.getObject( … , LocalDate.class ) ;\r\n    holidays.add( ld ) ;\r\n\r\nI will drastically simplify your Question to ignore the employee aspect, and instead narrow down this set of holidays to those dates not landing on a Saturday or Sunday. You can apply the same principles in similar code to address your employee problem.\r\n\r\nUse the `java.time.DayOfWeek` enum for day of week. Use an `EnumSet` for efficiency in defining an weekend.\r\n\r\n    final Set&lt; DayOfWeek &gt; weekend = EnumSet.of( SATURDAY , SUNDAY ) ;\r\n\r\nFilter your set of holidays.\r\n\r\n    List&lt; LocalDate &gt; weekdayHolidays = \r\n        holidays\r\n        .stream()\r\n        .filter( holiday -&gt; ! weekend.contains( holiday ) )\r\n        .toList() ;\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDate.html\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/NavigableSet.html\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/TreeSet.html\r\n  [4]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Set.html","title":"how to sort weekends from the Date array list in java","body":"<h1>tl;dr</h1>\n<p>Addressing a simplified version of your Question's problem, narrowing down a list of holidays to those landing on weekdays.</p>\n<pre><code>new TreeSet&lt; LocalDate &gt;()\n…\n.stream()\n.filter( localDate -&gt; ! Set.of( DayOfWeek.SATURDAY , DayOfWeek.SUNDAY ).contains( localDate )\n.toList() \n</code></pre>\n<h1>Details</h1>\n<blockquote>\n<p>The class Name is Holiday, it holds only one variable named holiday date.</p>\n</blockquote>\n<p>So drop the class. If its only feature is a member field holding a date value, just use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDate.html\" rel=\"nofollow noreferrer\"><code>java.time.LocalDate</code></a>.</p>\n<p>Avoid legacy date-time classes. <strong>Use only <em>java.time</em> classes.</strong> Never use <code>SimpleDateFormat</code> nor either of the <code>Date</code> classes.</p>\n<p>I imagine it would be helpful to use the holiday dates in their chronological order. So we use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/NavigableSet.html\" rel=\"nofollow noreferrer\"><code>NavigableSet</code></a> interface, with implementation <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/TreeSet.html\" rel=\"nofollow noreferrer\"><code>TreeSet</code></a>. A <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Set.html\" rel=\"nofollow noreferrer\"><code>Set</code></a> eliminates duplicates.</p>\n<pre><code>final NavigableSet&lt; LocalDate &gt; holidays = new TreeSet&lt;&gt;() ;\n…\nLocalDate ld = myResultSet.getObject( … , LocalDate.class ) ;\nholidays.add( ld ) ;\n</code></pre>\n<p>I will drastically simplify your Question to ignore the employee aspect, and instead narrow down this set of holidays to those dates not landing on a Saturday or Sunday. You can apply the same principles in similar code to address your employee problem.</p>\n<p>Use the <code>java.time.DayOfWeek</code> enum for day of week. Use an <code>EnumSet</code> for efficiency in defining an weekend.</p>\n<pre><code>final Set&lt; DayOfWeek &gt; weekend = EnumSet.of( SATURDAY , SUNDAY ) ;\n</code></pre>\n<p>Filter your set of holidays.</p>\n<pre><code>List&lt; LocalDate &gt; weekdayHolidays = \n    holidays\n    .stream()\n    .filter( holiday -&gt; ! weekend.contains( holiday ) )\n    .toList() ;\n</code></pre>\n"}],"owner":{"account_id":26621031,"reputation":19,"user_id":20239816,"display_name":"Hari Krishnan"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":140,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1666735285,"creation_date":1666337488,"question_id":74150169,"body_markdown":"  I just want to (filter/sort/remove) the weekends(Saturday and Sunday) in the list and store them in a new list in java.\r\ni). The class Name is Holiday, it holds only one variable named holiday date.\r\n\r\nii). And I have a table named Holiday, in this table I have data stored (Holidays list for 2022), totally I have 17 records in a table.\r\n\r\niii). That table data record can be fetched as a list.\r\n\r\niv). Have to find, if the employee takes a leave, that comes in holiday.\r\n\r\nv). Now, compare an employee holiday with the Holidays list for 2022(17 records) \r\n\r\nvi)If employee leave is the same as the date of the holiday list means I want to remove it and filter other normal working days &amp; Store the dates in new array list.\r\n\r\nvii) I just check the what diff between the two date formats.\r\n\r\nviii) I am new to Java 8 concepts so. now only I start to learn java 8 \r\nthat&#39;s why face this problem I just copy the code from this link and alternate it stackoverflow.com/questions/58134699/…\r\n\r\n    \t\r\n\t\t\r\n\t\t  String from=&quot;28/04/2022&quot;,;\r\n\t        String to=&quot;28/07/2022&quot;,;\r\n\t       \r\n\t        Date d_from = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;).parse(from);\r\n\t        Date d_to = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;).parse(to);\r\n\t       \r\n\t        //System.out.println(d_from.getTime());\r\n\t       \r\n\t        long t1=d_from.getTime();\r\n\t        long t2=d_to.getTime();\r\n\t       \r\n\t        SimpleDateFormat f=new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\r\n\t        \r\n\t        List&lt;Hoilday&gt; Hoilday_list = new ArrayList&lt;&gt;();\r\n            Map&lt;String, Object&gt; paramMap = new HashMap&lt;&gt;();\r\n            \r\n            StringBuilder sb = new StringBuilder();\r\n    \t\tString sql = &quot;&quot;;\r\n    \t\tsb.append(&quot;select holidayDate as hoildayDate from hoildays &quot;);\r\n    \t\tsql = sb.toString();\r\n    \t\tHoilday_list = namedParameter.query(sql, paramMap, new BeanPropertyRowMapper&lt;&gt;(Hoilday.class));\r\n\t       \r\n\t        if(t1&lt;t2)\r\n\t        {\r\n\t            //1 = 1000\r\n\t            for(long i=t1;i&lt;=t2;i+=86400000)\r\n\t            {\r\n\t              \r\n         \r\n\t               String allDates  = f.format(i);\r\n\t             List&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n\t            list.add(allDates);\r\n           \r\n\t    \t\t\r\n\t          \r\n\t    \t\tfor(Hoilday Hoildays: Hoilday_list) {\r\n\t    \t\t\t\r\n\t    \t\t\t\r\n\t    \t\t\tList&lt;Hoilday&gt; result = Hoilday_list.stream()\r\n\t    \t\t\t        .filter(app1 -&gt; list.stream()\r\n\t    \t\t\t                .noneMatch(app2 -&gt; Hoildays.getHoildayDate().equals(list)))\r\n\t    \t\t\t        .collect(Collectors.toList());\r\n\t    \t\tlog.info(result);\r\n\r\nIn Advance Thank you for solving the question.\r\n\r\n ","title":"how to sort weekends from the Date array list in java","body":"<p>I just want to (filter/sort/remove) the weekends(Saturday and Sunday) in the list and store them in a new list in java.\ni). The class Name is Holiday, it holds only one variable named holiday date.</p>\n<p>ii). And I have a table named Holiday, in this table I have data stored (Holidays list for 2022), totally I have 17 records in a table.</p>\n<p>iii). That table data record can be fetched as a list.</p>\n<p>iv). Have to find, if the employee takes a leave, that comes in holiday.</p>\n<p>v). Now, compare an employee holiday with the Holidays list for 2022(17 records)</p>\n<p>vi)If employee leave is the same as the date of the holiday list means I want to remove it and filter other normal working days &amp; Store the dates in new array list.</p>\n<p>vii) I just check the what diff between the two date formats.</p>\n<p>viii) I am new to Java 8 concepts so. now only I start to learn java 8\nthat's why face this problem I just copy the code from this link and alternate it stackoverflow.com/questions/58134699/…</p>\n<pre><code>      String from=&quot;28/04/2022&quot;,;\n        String to=&quot;28/07/2022&quot;,;\n       \n        Date d_from = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;).parse(from);\n        Date d_to = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;).parse(to);\n       \n        //System.out.println(d_from.getTime());\n       \n        long t1=d_from.getTime();\n        long t2=d_to.getTime();\n       \n        SimpleDateFormat f=new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\n        \n        List&lt;Hoilday&gt; Hoilday_list = new ArrayList&lt;&gt;();\n        Map&lt;String, Object&gt; paramMap = new HashMap&lt;&gt;();\n        \n        StringBuilder sb = new StringBuilder();\n        String sql = &quot;&quot;;\n        sb.append(&quot;select holidayDate as hoildayDate from hoildays &quot;);\n        sql = sb.toString();\n        Hoilday_list = namedParameter.query(sql, paramMap, new BeanPropertyRowMapper&lt;&gt;(Hoilday.class));\n       \n        if(t1&lt;t2)\n        {\n            //1 = 1000\n            for(long i=t1;i&lt;=t2;i+=86400000)\n            {\n              \n     \n               String allDates  = f.format(i);\n             List&lt;String&gt; list = new ArrayList&lt;String&gt;();\n            list.add(allDates);\n       \n            \n          \n            for(Hoilday Hoildays: Hoilday_list) {\n                \n                \n                List&lt;Hoilday&gt; result = Hoilday_list.stream()\n                        .filter(app1 -&gt; list.stream()\n                                .noneMatch(app2 -&gt; Hoildays.getHoildayDate().equals(list)))\n                        .collect(Collectors.toList());\n            log.info(result);\n</code></pre>\n<p>In Advance Thank you for solving the question.</p>\n"},{"tags":["java","arrays","object"],"answers":[{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666734768,"creation_date":1666734768,"answer_id":74200579,"question_id":74200465,"body_markdown":"In Java, declaration and initialization of an object should be as close together as possible, and for newer Java versions you could skip the type on the declaration and replace it with the `var` keyword.\r\n\r\nMaybe this rewrite of your first example explains it better:\r\n``` lang-java\r\nvar obj1 = new SomeObject();\r\nvar obj2 = new SomeObject();\r\nvar obj3 = new SomeObject();\r\n```\r\n\r\nBut don&#39;t think it is equal to JavaScript - in Java you cannot change the type of `obj1`, `obj2` and `obj3` later (e.g. with another assignment), the compiler derives it from the initialization.\r\n\r\nIf you want to have individual names for your variables, this one-by-one is the only way you can initialize them, but don&#39;t initialize everything &quot;at the beginning&quot; but as close to the actual usage as possible. (It&#39;s called _minimize visibility_)\r\n\r\nIf you want to work with an array, as in your second example, and the objects don&#39;t need individual names, but index numbers are fine, you would do it like this:\r\n\r\n``` lang-java\r\nSomeObject[] objectArray = new SomeObject[3];\r\nfor (int i = 0; i &lt; 3; i++) {\r\n    objectArray[i] = new SomeObject(Math.random());\r\n}\r\n\r\nSystem.out.println(objectArray[2]);\r\n\r\nvar obj1 = objectArray[0];\r\nSystem.out.println(obj1);\r\n```\r\n\r\nYou always have to access the elements of the array with the index (`[0]` etc.)\r\n \r\nBut you could assign an element of your array to an individually named variable after the initialization.","title":"Java - Initialize multiple objects using loop","body":"<p>In Java, declaration and initialization of an object should be as close together as possible, and for newer Java versions you could skip the type on the declaration and replace it with the <code>var</code> keyword.</p>\n<p>Maybe this rewrite of your first example explains it better:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var obj1 = new SomeObject();\nvar obj2 = new SomeObject();\nvar obj3 = new SomeObject();\n</code></pre>\n<p>But don't think it is equal to JavaScript - in Java you cannot change the type of <code>obj1</code>, <code>obj2</code> and <code>obj3</code> later (e.g. with another assignment), the compiler derives it from the initialization.</p>\n<p>If you want to have individual names for your variables, this one-by-one is the only way you can initialize them, but don't initialize everything &quot;at the beginning&quot; but as close to the actual usage as possible. (It's called <em>minimize visibility</em>)</p>\n<p>If you want to work with an array, as in your second example, and the objects don't need individual names, but index numbers are fine, you would do it like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>SomeObject[] objectArray = new SomeObject[3];\nfor (int i = 0; i &lt; 3; i++) {\n    objectArray[i] = new SomeObject(Math.random());\n}\n\nSystem.out.println(objectArray[2]);\n\nvar obj1 = objectArray[0];\nSystem.out.println(obj1);\n</code></pre>\n<p>You always have to access the elements of the array with the index (<code>[0]</code> etc.)</p>\n<p>But you could assign an element of your array to an individually named variable after the initialization.</p>\n"}],"owner":{"account_id":16273341,"reputation":81,"user_id":11751265,"display_name":"blaccod"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74200579,"answer_count":1,"score":0,"last_activity_date":1666734768,"creation_date":1666733872,"question_id":74200465,"body_markdown":"So I have 5 objects that I want to instantiate them using a for-loop\r\n\r\n```\r\nSomeObject obj1, obj2, obj3, obj4, obj5;\r\n\r\n//Instead of having to write this\r\nobj1 = new SomeObject();\r\nobj2 = new SomeObject();\r\nobj3 = new SomeObject();\r\n\r\n//I want to be able to do this\r\nfor (int i = 0; i &lt; 5; i++) {\r\n    //instantiate the objects with &quot;new&quot; keyword here\r\n}\r\n```\r\n\r\nI have tried using an array, but they only create instances of objects inside the array only, and the original obj1,... didn&#39;t change at all\r\n\r\nWhat I tried:\r\n\r\n```\r\nSomeObject obj1, obj2, obj3, obj4, obj5;\r\n\r\nSomeObject[] objectArray = {obj1, obj2, obj3, obj4, obj5} //IntelliJ gives warning &quot;Value obj1,... is always null&quot;\r\n\r\nfor (int i = 0; i &lt; 5; i++) {\r\n    objectArray[i] = new SomeObject(someRandomValueInsideHere);\r\n}\r\n\r\nSystem.out.println(obj1); //obj1 is still null, even though the loop instantiated the objects\r\nSystem.out.println(objectArray[0]); //this exists. The whole array is also correctly populated\r\n```\r\n\r\nI read somewhere else about java objects being &quot;passing reference by value&quot;. Can someone further explain that? Am I missing something really obvious here?","title":"Java - Initialize multiple objects using loop","body":"<p>So I have 5 objects that I want to instantiate them using a for-loop</p>\n<pre><code>SomeObject obj1, obj2, obj3, obj4, obj5;\n\n//Instead of having to write this\nobj1 = new SomeObject();\nobj2 = new SomeObject();\nobj3 = new SomeObject();\n\n//I want to be able to do this\nfor (int i = 0; i &lt; 5; i++) {\n    //instantiate the objects with &quot;new&quot; keyword here\n}\n</code></pre>\n<p>I have tried using an array, but they only create instances of objects inside the array only, and the original obj1,... didn't change at all</p>\n<p>What I tried:</p>\n<pre><code>SomeObject obj1, obj2, obj3, obj4, obj5;\n\nSomeObject[] objectArray = {obj1, obj2, obj3, obj4, obj5} //IntelliJ gives warning &quot;Value obj1,... is always null&quot;\n\nfor (int i = 0; i &lt; 5; i++) {\n    objectArray[i] = new SomeObject(someRandomValueInsideHere);\n}\n\nSystem.out.println(obj1); //obj1 is still null, even though the loop instantiated the objects\nSystem.out.println(objectArray[0]); //this exists. The whole array is also correctly populated\n</code></pre>\n<p>I read somewhere else about java objects being &quot;passing reference by value&quot;. Can someone further explain that? Am I missing something really obvious here?</p>\n"},{"tags":["java","oauth-2.0"],"comments":[{"owner":{"account_id":14583346,"reputation":898,"user_id":10533012,"display_name":"Elyorbek Ibrokhimov"},"score":0,"creation_date":1666687003,"post_id":74189958,"comment_id":130990256,"body_markdown":"There is a very good article by Tanzu. [Faking OAuth2](https://tanzu.vmware.com/content/pivotal-engineering-journal/faking-oauth2-single-sign-on-in-spring-3-ways). I personally would go with WireMock","body":"There is a very good article by Tanzu. <a href=\"https://tanzu.vmware.com/content/pivotal-engineering-journal/faking-oauth2-single-sign-on-in-spring-3-ways\" rel=\"nofollow noreferrer\">Faking OAuth2</a>. I personally would go with WireMock"}],"answers":[{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666734393,"creation_date":1666698541,"answer_id":74193613,"question_id":74189958,"body_markdown":"My preferred way to go for unit and integration testing of Spring resource-servers (REST APIs secured with OAuth2) is to use no authorization-server at all and mock Authentication. Have a look at unit and integration tests in this [tutorials][1] or [samples][2] for illustration. \r\n\r\nThe exact way to do it depends on quite a few factors, but most are covered in samples linked above: \r\n- are you using MockMvc or WebTestClient?\r\n- Is your secured component under test a controller, a service, a repository? \r\n- What type of Authentication have you configured? (what is the output of `SecurityContextHolder.getContext().getAuthentication().getClass()`? )\r\n\r\nNow, for working with real client (like Angular app) connected to real resource-server (Spring API), I use a real authorization-server: either one from staging environments or a Keycloak instance running on my own machine (standalone or in a docker container). \r\n\r\n\r\n  [1]: https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials\r\n  [2]: https://github.com/ch4mpy/spring-addons/tree/master/samples","title":"How do I create a fake OpenID Connect Provider for testing an OAuth-2.0 (Java) server?","body":"<p>My preferred way to go for unit and integration testing of Spring resource-servers (REST APIs secured with OAuth2) is to use no authorization-server at all and mock Authentication. Have a look at unit and integration tests in this <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials\" rel=\"nofollow noreferrer\">tutorials</a> or <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples\" rel=\"nofollow noreferrer\">samples</a> for illustration.</p>\n<p>The exact way to do it depends on quite a few factors, but most are covered in samples linked above:</p>\n<ul>\n<li>are you using MockMvc or WebTestClient?</li>\n<li>Is your secured component under test a controller, a service, a repository?</li>\n<li>What type of Authentication have you configured? (what is the output of <code>SecurityContextHolder.getContext().getAuthentication().getClass()</code>? )</li>\n</ul>\n<p>Now, for working with real client (like Angular app) connected to real resource-server (Spring API), I use a real authorization-server: either one from staging environments or a Keycloak instance running on my own machine (standalone or in a docker container).</p>\n"}],"owner":{"account_id":2309641,"reputation":4648,"user_id":2028066,"accept_rate":52,"display_name":"MiguelMunoz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":697,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666734393,"creation_date":1666679910,"question_id":74189958,"body_markdown":"I need to develop a java Spring-Boot server that uses OAuth 2.0 to handle logins. Unfortunately, the very tight security on my office network prevents me from accessing well known OAuth 2.0 OpenId Connect providers like GitHub, so I need a fake OpenID Connect server to test my code. Everywhere I go for examples, I find advice that tells me to just use GitHub or some other site that&#39;s restricted. I&#39;m not even clear on the protocol that a connection would use. How can I create a dummy OAuth 2.0 server (preferably in Java) to handle the identity layer of the protocol and feed me the necessary authorization grants?","title":"How do I create a fake OpenID Connect Provider for testing an OAuth-2.0 (Java) server?","body":"<p>I need to develop a java Spring-Boot server that uses OAuth 2.0 to handle logins. Unfortunately, the very tight security on my office network prevents me from accessing well known OAuth 2.0 OpenId Connect providers like GitHub, so I need a fake OpenID Connect server to test my code. Everywhere I go for examples, I find advice that tells me to just use GitHub or some other site that's restricted. I'm not even clear on the protocol that a connection would use. How can I create a dummy OAuth 2.0 server (preferably in Java) to handle the identity layer of the protocol and feed me the necessary authorization grants?</p>\n"},{"tags":["java","cryptography","bouncycastle"],"answers":[{"tags":[],"owner":{"account_id":11125108,"reputation":5965,"user_id":8166854,"display_name":"Michael Fehr"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666734089,"creation_date":1666734089,"answer_id":74200491,"question_id":74199386,"body_markdown":"This is a complete running example for NTRU, it is not a general encryption algorithm but a key exchange algorithm (KEM). To get this to work you need an actual Bouncy Castle lib available (I tested with BC verson 1.71 and 1.72).\r\n\r\nIt is taken from my Android app to test some Post Quantum Algorithms (PQC) with complete code here: https://github.com/MichaelsPlayground/PostQuantumCryptographyBc172\r\n\r\n    import org.bouncycastle.crypto.AsymmetricCipherKeyPair;\r\n    import org.bouncycastle.crypto.InvalidCipherTextException;\r\n    import org.bouncycastle.crypto.params.AsymmetricKeyParameter;\r\n    import org.bouncycastle.jcajce.SecretKeyWithEncapsulation;\r\n    import org.bouncycastle.jcajce.spec.KEMExtractSpec;\r\n    import org.bouncycastle.jcajce.spec.KEMGenerateSpec;\r\n    import org.bouncycastle.pqc.jcajce.provider.BouncyCastlePQCProvider;\r\n    import org.bouncycastle.pqc.legacy.crypto.ntru.NTRUEncryptionKeyGenerationParameters;\r\n    import org.bouncycastle.pqc.legacy.crypto.ntru.NTRUEncryptionKeyPairGenerator;\r\n    import org.bouncycastle.pqc.legacy.crypto.ntru.NTRUEncryptionParameters;\r\n    import org.bouncycastle.pqc.legacy.crypto.ntru.NTRUEncryptionPrivateKeyParameters;\r\n    import org.bouncycastle.pqc.legacy.crypto.ntru.NTRUEncryptionPublicKeyParameters;\r\n    import org.bouncycastle.pqc.legacy.crypto.ntru.NTRUEngine;\r\n    import org.bouncycastle.util.Arrays;\r\n    \r\n    import java.io.IOException;\r\n    import java.nio.charset.StandardCharsets;\r\n    import java.security.InvalidAlgorithmParameterException;\r\n    import java.security.KeyFactory;\r\n    import java.security.NoSuchAlgorithmException;\r\n    import java.security.NoSuchProviderException;\r\n    import java.security.PrivateKey;\r\n    import java.security.PublicKey;\r\n    import java.security.SecureRandom;\r\n    import java.security.Security;\r\n    import java.security.spec.InvalidKeySpecException;\r\n    import java.security.spec.X509EncodedKeySpec;\r\n    \r\n    import javax.crypto.KeyGenerator;\r\n    \r\n    public class PqcNtruKem {\r\n    \r\n    \r\n        public static void main(String[] args) {\r\n            //Security.addProvider(new BouncyCastleProvider());\r\n            // we do need the regular Bouncy Castle file that includes the PQC provider\r\n            // get Bouncy Castle here: https://mvnrepository.com/artifact/org.bouncycastle/bcprov-jdk15on\r\n            // tested with BC version 1.71\r\n            if (Security.getProvider(&quot;BCPQC&quot;) == null) {\r\n                Security.addProvider(new BouncyCastlePQCProvider());\r\n            }\r\n            System.out.println(&quot;PQC NTRU kem&quot;);\r\n    \r\n            System.out.println(&quot;\\n************************************\\n&quot; +\r\n                    &quot;* # # SERIOUS SECURITY WARNING # # *\\n&quot; +\r\n                    &quot;* This program is a CONCEPT STUDY  *\\n&quot; +\r\n                    &quot;* for the algorithm                *\\n&quot; +\r\n                    &quot;* NTRU [key exchange mechanism]    *\\n&quot; +\r\n                    &quot;* The program is using an          *\\n&quot; +\r\n                    &quot;* parameter set that I cannot      *\\n&quot; +\r\n                    &quot;* check for the correctness of the *\\n&quot; +\r\n                    &quot;* output and other details         *\\n&quot; +\r\n                    &quot;*                                  *\\n&quot; +\r\n                    &quot;*    DO NOT USE THE PROGRAM IN     *\\n&quot; +\r\n                    &quot;*    ANY PRODUCTION ENVIRONMENT    *\\n&quot; +\r\n                    &quot;************************************&quot;);\r\n    \r\n            // as there are 7 parameter sets available the program runs all of them\r\n            NTRUEncryptionKeyGenerationParameters[] ntruEncryptionKeyGenerationParameterSets = {\r\n                    NTRUEncryptionKeyGenerationParameters.EES1087EP2,\r\n                    NTRUEncryptionKeyGenerationParameters.EES1171EP1,\r\n                    NTRUEncryptionKeyGenerationParameters.EES1499EP1,\r\n                    NTRUEncryptionKeyGenerationParameters.APR2011_439,\r\n                    NTRUEncryptionKeyGenerationParameters.APR2011_439_FAST,\r\n                    NTRUEncryptionKeyGenerationParameters.APR2011_743,\r\n                    NTRUEncryptionKeyGenerationParameters.APR2011_743_FAST,\r\n            };\r\n            // short name of the parameters for the summary print out\r\n            String[] ntruEncryptionKeyGenerationParameterNames = {\r\n                    &quot;EES1087EP2&quot;,\r\n                    &quot;EES1171EP1&quot;,\r\n                    &quot;EES1499EP1&quot;,\r\n                    &quot;APR2011_439&quot;,\r\n                    &quot;APR2011_439_FAST&quot;,\r\n                    &quot;APR2011_743&quot;,\r\n                    &quot;APR2011_743_FAST&quot;\r\n            };\r\n    \r\n            // statistics\r\n            int nrOfSpecs = ntruEncryptionKeyGenerationParameterSets.length;\r\n            String[] parameterSpecName = new String[nrOfSpecs];\r\n            int[] privateKeyLength = new int[nrOfSpecs];\r\n            int[] publicKeyLength = new int[nrOfSpecs];\r\n            int[] encryptedKeyLength = new int[nrOfSpecs];\r\n            boolean[] encryptionKeysEquals = new boolean[nrOfSpecs];\r\n    \r\n            // data to encrypt is usually a 32 bytes long (randomly generated) AES key\r\n            String keyToEncryptString = &quot;1234567890ABCDEF1122334455667788&quot;;\r\n            byte[] keyToEncrypt = keyToEncryptString.getBytes(StandardCharsets.UTF_8);\r\n    \r\n            for (int i = 0; i &lt; nrOfSpecs; i++) {\r\n                // generation of the NTRU key pair\r\n                NTRUEncryptionKeyGenerationParameters ntruEncryptionKeyGenerationParameters = ntruEncryptionKeyGenerationParameterSets[i];\r\n                String ntruParameterSpecName = ntruEncryptionKeyGenerationParameterNames[i];\r\n                parameterSpecName[i] = ntruParameterSpecName;\r\n                System.out.println(&quot;\\nNTRU KEM with parameterset &quot; + ntruParameterSpecName);\r\n                AsymmetricCipherKeyPair keyPair = generateNtruKeyPair(ntruEncryptionKeyGenerationParameters);\r\n    \r\n                // get private and public key\r\n                AsymmetricKeyParameter privateKey = keyPair.getPrivate();\r\n                AsymmetricKeyParameter publicKey = keyPair.getPublic();\r\n    \r\n                // storing the key as byte array\r\n                byte[] privateKeyByte = ((NTRUEncryptionPrivateKeyParameters) privateKey).getEncoded();\r\n                byte[] publicKeyByte = ((NTRUEncryptionPublicKeyParameters) publicKey).getEncoded();\r\n                System.out.println(&quot;\\ngenerated private key length: &quot; + privateKeyByte.length);\r\n                System.out.println(&quot;generated public key length:  &quot; + publicKeyByte.length);\r\n                privateKeyLength[i] = privateKeyByte.length;\r\n                publicKeyLength[i] = publicKeyByte.length;\r\n    \r\n                // generate the keys from a byte array\r\n                NTRUEncryptionPrivateKeyParameters privateKeyLoad = getNtruPrivateKeyFromEncoded(privateKeyByte, ntruEncryptionKeyGenerationParameters);\r\n                NTRUEncryptionPublicKeyParameters publicKeyLoad = getNtruPublicKeyFromEncoded(publicKeyByte, ntruEncryptionKeyGenerationParameters);\r\n    \r\n                // generate the encryption key and the encapsulated key\r\n                System.out.println(&quot;\\nEncryption side: generate the encryption key&quot;);\r\n                byte[] encryptedKey = pqcNtruEncryptKey(publicKeyLoad, keyToEncrypt);\r\n                System.out.println(&quot;encrypted key length: &quot; + encryptedKey.length\r\n                        + &quot; key: &quot; + bytesToHex(encryptedKey));\r\n                encryptedKeyLength[i] = encryptedKey.length;\r\n    \r\n                System.out.println(&quot;\\nDecryption side: receive the encrypted key and decrypt it to the decryption key&quot;);\r\n                byte[] decryptedKey = pqcNtruDecryptKey(privateKeyLoad, encryptedKey);\r\n                System.out.println(&quot;decryption key length: &quot; + decryptedKey.length + &quot; key: &quot; + bytesToHex(decryptedKey));\r\n                boolean keysAreEqual = Arrays.areEqual(keyToEncrypt, decryptedKey);\r\n                System.out.println(&quot;decrypted key is equal to keyToEncrypt: &quot; + keysAreEqual);\r\n                encryptionKeysEquals[i] = keysAreEqual;\r\n            }\r\n    \r\n            System.out.println(&quot;\\nTest results&quot;);\r\n            System.out.println(&quot;parameter spec name  priKL   pubKL encKL  keyE&quot;);\r\n            for (int i = 0; i &lt; nrOfSpecs; i++) {\r\n                 System.out.format(&quot;%-20s%6d%8d%6d%6b%n&quot;, parameterSpecName[i], privateKeyLength[i], publicKeyLength[i], encryptedKeyLength[i], encryptionKeysEquals[i]);\r\n            }\r\n            System.out.println(&quot;Legend: priKL privateKey length, pubKL publicKey length, encKL encryption key length, keyE encryption keys are equal\\n&quot;);\r\n        }\r\n    \r\n        private static AsymmetricCipherKeyPair generateNtruKeyPair(NTRUEncryptionKeyGenerationParameters ntruEncryptionKeyGenerationParameters) {\r\n            NTRUEncryptionKeyPairGenerator ntruEncryptionKeyPairGenerator = new NTRUEncryptionKeyPairGenerator();\r\n            ntruEncryptionKeyPairGenerator.init(ntruEncryptionKeyGenerationParameters);\r\n            AsymmetricCipherKeyPair kp = ntruEncryptionKeyPairGenerator.generateKeyPair();\r\n            return kp;\r\n        }\r\n    \r\n        private static byte[] pqcNtruEncryptKey(AsymmetricKeyParameter publicKey, byte[] keyToEncrypt) {\r\n            NTRUEngine ntru = new NTRUEngine();\r\n            ntru.init(true, publicKey);\r\n            try {\r\n                return ntru.processBlock(keyToEncrypt, 0, keyToEncrypt.length);\r\n            } catch (InvalidCipherTextException e) {\r\n                e.printStackTrace();\r\n                return null;\r\n            }\r\n        }\r\n    \r\n        private static byte[] pqcNtruDecryptKey(AsymmetricKeyParameter privateKey, byte[] encryptedKeyToDecrypt) {\r\n            NTRUEngine ntru = new NTRUEngine();\r\n            ntru.init(false, privateKey);\r\n            try {\r\n                return ntru.processBlock(encryptedKeyToDecrypt, 0, encryptedKeyToDecrypt.length);\r\n            } catch (InvalidCipherTextException e) {\r\n                e.printStackTrace();\r\n                return null;\r\n            }\r\n        }\r\n    \r\n        public static SecretKeyWithEncapsulation pqcGenerateNtruEncryptionKey(PublicKey publicKey) {\r\n            KeyGenerator keyGen = null;\r\n            try {\r\n                keyGen = KeyGenerator.getInstance(&quot;Frodo&quot;, &quot;BCPQC&quot;);\r\n                keyGen.init(new KEMGenerateSpec((PublicKey) publicKey, &quot;AES&quot;), new SecureRandom());\r\n                SecretKeyWithEncapsulation secEnc1 = (SecretKeyWithEncapsulation) keyGen.generateKey();\r\n                return secEnc1;\r\n            } catch (NoSuchAlgorithmException | NoSuchProviderException | InvalidAlgorithmParameterException e) {\r\n                e.printStackTrace();\r\n                return null;\r\n            }\r\n        }\r\n    \r\n        public static byte[] pqcGenerateFrodoDecryptionKey(PrivateKey privateKey, byte[] encapsulatedKey) {\r\n            KeyGenerator keyGen = null;\r\n            try {\r\n                keyGen = KeyGenerator.getInstance(&quot;Frodo&quot;, &quot;BCPQC&quot;);\r\n                keyGen.init(new KEMExtractSpec((PrivateKey) privateKey, encapsulatedKey, &quot;AES&quot;), new SecureRandom());\r\n                SecretKeyWithEncapsulation secEnc2 = (SecretKeyWithEncapsulation) keyGen.generateKey();\r\n                return secEnc2.getEncoded();\r\n            } catch (NoSuchAlgorithmException | NoSuchProviderException | InvalidAlgorithmParameterException e) {\r\n                e.printStackTrace();\r\n                return null;\r\n            }\r\n        }\r\n    \r\n        private static NTRUEncryptionPrivateKeyParameters getNtruPrivateKeyFromEncoded(byte[] encodedKey, NTRUEncryptionKeyGenerationParameters ntruEncryptionKeyGenerationParameters) {\r\n            NTRUEncryptionParameters ntruEncryptionParameters = ntruEncryptionKeyGenerationParameters.getEncryptionParameters();\r\n            try {\r\n                return new NTRUEncryptionPrivateKeyParameters(encodedKey, ntruEncryptionParameters);\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n                return null;\r\n            }\r\n        }\r\n    \r\n        private static NTRUEncryptionPublicKeyParameters getNtruPublicKeyFromEncoded(byte[] encodedKey, NTRUEncryptionKeyGenerationParameters ntruEncryptionKeyGenerationParameters) {\r\n            NTRUEncryptionParameters ntruEncryptionParameters = ntruEncryptionKeyGenerationParameters.getEncryptionParameters();\r\n            return new NTRUEncryptionPublicKeyParameters(encodedKey, ntruEncryptionParameters);\r\n        }\r\n    \r\n        private static PublicKey getFrodoPublicKeyFromEncoded(byte[] encodedKey) {\r\n            X509EncodedKeySpec x509EncodedKeySpec = new X509EncodedKeySpec(encodedKey);\r\n            KeyFactory keyFactory = null;\r\n            try {\r\n                keyFactory = KeyFactory.getInstance(&quot;Frodo&quot;, &quot;BCPQC&quot;);\r\n                return keyFactory.generatePublic(x509EncodedKeySpec);\r\n            } catch (NoSuchAlgorithmException | NoSuchProviderException | InvalidKeySpecException e) {\r\n                e.printStackTrace();\r\n                return null;\r\n            }\r\n        }\r\n    \r\n        private static String bytesToHex(byte[] bytes) {\r\n            StringBuffer result = new StringBuffer();\r\n            for (byte b : bytes) result.append(Integer.toString((b &amp; 0xff) + 0x100, 16).substring(1));\r\n            return result.toString();\r\n        }\r\n    }\r\n\r\n","title":"NTRU BouncyCastle","body":"<p>This is a complete running example for NTRU, it is not a general encryption algorithm but a key exchange algorithm (KEM). To get this to work you need an actual Bouncy Castle lib available (I tested with BC verson 1.71 and 1.72).</p>\n<p>It is taken from my Android app to test some Post Quantum Algorithms (PQC) with complete code here: <a href=\"https://github.com/MichaelsPlayground/PostQuantumCryptographyBc172\" rel=\"nofollow noreferrer\">https://github.com/MichaelsPlayground/PostQuantumCryptographyBc172</a></p>\n<pre><code>import org.bouncycastle.crypto.AsymmetricCipherKeyPair;\nimport org.bouncycastle.crypto.InvalidCipherTextException;\nimport org.bouncycastle.crypto.params.AsymmetricKeyParameter;\nimport org.bouncycastle.jcajce.SecretKeyWithEncapsulation;\nimport org.bouncycastle.jcajce.spec.KEMExtractSpec;\nimport org.bouncycastle.jcajce.spec.KEMGenerateSpec;\nimport org.bouncycastle.pqc.jcajce.provider.BouncyCastlePQCProvider;\nimport org.bouncycastle.pqc.legacy.crypto.ntru.NTRUEncryptionKeyGenerationParameters;\nimport org.bouncycastle.pqc.legacy.crypto.ntru.NTRUEncryptionKeyPairGenerator;\nimport org.bouncycastle.pqc.legacy.crypto.ntru.NTRUEncryptionParameters;\nimport org.bouncycastle.pqc.legacy.crypto.ntru.NTRUEncryptionPrivateKeyParameters;\nimport org.bouncycastle.pqc.legacy.crypto.ntru.NTRUEncryptionPublicKeyParameters;\nimport org.bouncycastle.pqc.legacy.crypto.ntru.NTRUEngine;\nimport org.bouncycastle.util.Arrays;\n\nimport java.io.IOException;\nimport java.nio.charset.StandardCharsets;\nimport java.security.InvalidAlgorithmParameterException;\nimport java.security.KeyFactory;\nimport java.security.NoSuchAlgorithmException;\nimport java.security.NoSuchProviderException;\nimport java.security.PrivateKey;\nimport java.security.PublicKey;\nimport java.security.SecureRandom;\nimport java.security.Security;\nimport java.security.spec.InvalidKeySpecException;\nimport java.security.spec.X509EncodedKeySpec;\n\nimport javax.crypto.KeyGenerator;\n\npublic class PqcNtruKem {\n\n\n    public static void main(String[] args) {\n        //Security.addProvider(new BouncyCastleProvider());\n        // we do need the regular Bouncy Castle file that includes the PQC provider\n        // get Bouncy Castle here: https://mvnrepository.com/artifact/org.bouncycastle/bcprov-jdk15on\n        // tested with BC version 1.71\n        if (Security.getProvider(&quot;BCPQC&quot;) == null) {\n            Security.addProvider(new BouncyCastlePQCProvider());\n        }\n        System.out.println(&quot;PQC NTRU kem&quot;);\n\n        System.out.println(&quot;\\n************************************\\n&quot; +\n                &quot;* # # SERIOUS SECURITY WARNING # # *\\n&quot; +\n                &quot;* This program is a CONCEPT STUDY  *\\n&quot; +\n                &quot;* for the algorithm                *\\n&quot; +\n                &quot;* NTRU [key exchange mechanism]    *\\n&quot; +\n                &quot;* The program is using an          *\\n&quot; +\n                &quot;* parameter set that I cannot      *\\n&quot; +\n                &quot;* check for the correctness of the *\\n&quot; +\n                &quot;* output and other details         *\\n&quot; +\n                &quot;*                                  *\\n&quot; +\n                &quot;*    DO NOT USE THE PROGRAM IN     *\\n&quot; +\n                &quot;*    ANY PRODUCTION ENVIRONMENT    *\\n&quot; +\n                &quot;************************************&quot;);\n\n        // as there are 7 parameter sets available the program runs all of them\n        NTRUEncryptionKeyGenerationParameters[] ntruEncryptionKeyGenerationParameterSets = {\n                NTRUEncryptionKeyGenerationParameters.EES1087EP2,\n                NTRUEncryptionKeyGenerationParameters.EES1171EP1,\n                NTRUEncryptionKeyGenerationParameters.EES1499EP1,\n                NTRUEncryptionKeyGenerationParameters.APR2011_439,\n                NTRUEncryptionKeyGenerationParameters.APR2011_439_FAST,\n                NTRUEncryptionKeyGenerationParameters.APR2011_743,\n                NTRUEncryptionKeyGenerationParameters.APR2011_743_FAST,\n        };\n        // short name of the parameters for the summary print out\n        String[] ntruEncryptionKeyGenerationParameterNames = {\n                &quot;EES1087EP2&quot;,\n                &quot;EES1171EP1&quot;,\n                &quot;EES1499EP1&quot;,\n                &quot;APR2011_439&quot;,\n                &quot;APR2011_439_FAST&quot;,\n                &quot;APR2011_743&quot;,\n                &quot;APR2011_743_FAST&quot;\n        };\n\n        // statistics\n        int nrOfSpecs = ntruEncryptionKeyGenerationParameterSets.length;\n        String[] parameterSpecName = new String[nrOfSpecs];\n        int[] privateKeyLength = new int[nrOfSpecs];\n        int[] publicKeyLength = new int[nrOfSpecs];\n        int[] encryptedKeyLength = new int[nrOfSpecs];\n        boolean[] encryptionKeysEquals = new boolean[nrOfSpecs];\n\n        // data to encrypt is usually a 32 bytes long (randomly generated) AES key\n        String keyToEncryptString = &quot;1234567890ABCDEF1122334455667788&quot;;\n        byte[] keyToEncrypt = keyToEncryptString.getBytes(StandardCharsets.UTF_8);\n\n        for (int i = 0; i &lt; nrOfSpecs; i++) {\n            // generation of the NTRU key pair\n            NTRUEncryptionKeyGenerationParameters ntruEncryptionKeyGenerationParameters = ntruEncryptionKeyGenerationParameterSets[i];\n            String ntruParameterSpecName = ntruEncryptionKeyGenerationParameterNames[i];\n            parameterSpecName[i] = ntruParameterSpecName;\n            System.out.println(&quot;\\nNTRU KEM with parameterset &quot; + ntruParameterSpecName);\n            AsymmetricCipherKeyPair keyPair = generateNtruKeyPair(ntruEncryptionKeyGenerationParameters);\n\n            // get private and public key\n            AsymmetricKeyParameter privateKey = keyPair.getPrivate();\n            AsymmetricKeyParameter publicKey = keyPair.getPublic();\n\n            // storing the key as byte array\n            byte[] privateKeyByte = ((NTRUEncryptionPrivateKeyParameters) privateKey).getEncoded();\n            byte[] publicKeyByte = ((NTRUEncryptionPublicKeyParameters) publicKey).getEncoded();\n            System.out.println(&quot;\\ngenerated private key length: &quot; + privateKeyByte.length);\n            System.out.println(&quot;generated public key length:  &quot; + publicKeyByte.length);\n            privateKeyLength[i] = privateKeyByte.length;\n            publicKeyLength[i] = publicKeyByte.length;\n\n            // generate the keys from a byte array\n            NTRUEncryptionPrivateKeyParameters privateKeyLoad = getNtruPrivateKeyFromEncoded(privateKeyByte, ntruEncryptionKeyGenerationParameters);\n            NTRUEncryptionPublicKeyParameters publicKeyLoad = getNtruPublicKeyFromEncoded(publicKeyByte, ntruEncryptionKeyGenerationParameters);\n\n            // generate the encryption key and the encapsulated key\n            System.out.println(&quot;\\nEncryption side: generate the encryption key&quot;);\n            byte[] encryptedKey = pqcNtruEncryptKey(publicKeyLoad, keyToEncrypt);\n            System.out.println(&quot;encrypted key length: &quot; + encryptedKey.length\n                    + &quot; key: &quot; + bytesToHex(encryptedKey));\n            encryptedKeyLength[i] = encryptedKey.length;\n\n            System.out.println(&quot;\\nDecryption side: receive the encrypted key and decrypt it to the decryption key&quot;);\n            byte[] decryptedKey = pqcNtruDecryptKey(privateKeyLoad, encryptedKey);\n            System.out.println(&quot;decryption key length: &quot; + decryptedKey.length + &quot; key: &quot; + bytesToHex(decryptedKey));\n            boolean keysAreEqual = Arrays.areEqual(keyToEncrypt, decryptedKey);\n            System.out.println(&quot;decrypted key is equal to keyToEncrypt: &quot; + keysAreEqual);\n            encryptionKeysEquals[i] = keysAreEqual;\n        }\n\n        System.out.println(&quot;\\nTest results&quot;);\n        System.out.println(&quot;parameter spec name  priKL   pubKL encKL  keyE&quot;);\n        for (int i = 0; i &lt; nrOfSpecs; i++) {\n             System.out.format(&quot;%-20s%6d%8d%6d%6b%n&quot;, parameterSpecName[i], privateKeyLength[i], publicKeyLength[i], encryptedKeyLength[i], encryptionKeysEquals[i]);\n        }\n        System.out.println(&quot;Legend: priKL privateKey length, pubKL publicKey length, encKL encryption key length, keyE encryption keys are equal\\n&quot;);\n    }\n\n    private static AsymmetricCipherKeyPair generateNtruKeyPair(NTRUEncryptionKeyGenerationParameters ntruEncryptionKeyGenerationParameters) {\n        NTRUEncryptionKeyPairGenerator ntruEncryptionKeyPairGenerator = new NTRUEncryptionKeyPairGenerator();\n        ntruEncryptionKeyPairGenerator.init(ntruEncryptionKeyGenerationParameters);\n        AsymmetricCipherKeyPair kp = ntruEncryptionKeyPairGenerator.generateKeyPair();\n        return kp;\n    }\n\n    private static byte[] pqcNtruEncryptKey(AsymmetricKeyParameter publicKey, byte[] keyToEncrypt) {\n        NTRUEngine ntru = new NTRUEngine();\n        ntru.init(true, publicKey);\n        try {\n            return ntru.processBlock(keyToEncrypt, 0, keyToEncrypt.length);\n        } catch (InvalidCipherTextException e) {\n            e.printStackTrace();\n            return null;\n        }\n    }\n\n    private static byte[] pqcNtruDecryptKey(AsymmetricKeyParameter privateKey, byte[] encryptedKeyToDecrypt) {\n        NTRUEngine ntru = new NTRUEngine();\n        ntru.init(false, privateKey);\n        try {\n            return ntru.processBlock(encryptedKeyToDecrypt, 0, encryptedKeyToDecrypt.length);\n        } catch (InvalidCipherTextException e) {\n            e.printStackTrace();\n            return null;\n        }\n    }\n\n    public static SecretKeyWithEncapsulation pqcGenerateNtruEncryptionKey(PublicKey publicKey) {\n        KeyGenerator keyGen = null;\n        try {\n            keyGen = KeyGenerator.getInstance(&quot;Frodo&quot;, &quot;BCPQC&quot;);\n            keyGen.init(new KEMGenerateSpec((PublicKey) publicKey, &quot;AES&quot;), new SecureRandom());\n            SecretKeyWithEncapsulation secEnc1 = (SecretKeyWithEncapsulation) keyGen.generateKey();\n            return secEnc1;\n        } catch (NoSuchAlgorithmException | NoSuchProviderException | InvalidAlgorithmParameterException e) {\n            e.printStackTrace();\n            return null;\n        }\n    }\n\n    public static byte[] pqcGenerateFrodoDecryptionKey(PrivateKey privateKey, byte[] encapsulatedKey) {\n        KeyGenerator keyGen = null;\n        try {\n            keyGen = KeyGenerator.getInstance(&quot;Frodo&quot;, &quot;BCPQC&quot;);\n            keyGen.init(new KEMExtractSpec((PrivateKey) privateKey, encapsulatedKey, &quot;AES&quot;), new SecureRandom());\n            SecretKeyWithEncapsulation secEnc2 = (SecretKeyWithEncapsulation) keyGen.generateKey();\n            return secEnc2.getEncoded();\n        } catch (NoSuchAlgorithmException | NoSuchProviderException | InvalidAlgorithmParameterException e) {\n            e.printStackTrace();\n            return null;\n        }\n    }\n\n    private static NTRUEncryptionPrivateKeyParameters getNtruPrivateKeyFromEncoded(byte[] encodedKey, NTRUEncryptionKeyGenerationParameters ntruEncryptionKeyGenerationParameters) {\n        NTRUEncryptionParameters ntruEncryptionParameters = ntruEncryptionKeyGenerationParameters.getEncryptionParameters();\n        try {\n            return new NTRUEncryptionPrivateKeyParameters(encodedKey, ntruEncryptionParameters);\n        } catch (IOException e) {\n            e.printStackTrace();\n            return null;\n        }\n    }\n\n    private static NTRUEncryptionPublicKeyParameters getNtruPublicKeyFromEncoded(byte[] encodedKey, NTRUEncryptionKeyGenerationParameters ntruEncryptionKeyGenerationParameters) {\n        NTRUEncryptionParameters ntruEncryptionParameters = ntruEncryptionKeyGenerationParameters.getEncryptionParameters();\n        return new NTRUEncryptionPublicKeyParameters(encodedKey, ntruEncryptionParameters);\n    }\n\n    private static PublicKey getFrodoPublicKeyFromEncoded(byte[] encodedKey) {\n        X509EncodedKeySpec x509EncodedKeySpec = new X509EncodedKeySpec(encodedKey);\n        KeyFactory keyFactory = null;\n        try {\n            keyFactory = KeyFactory.getInstance(&quot;Frodo&quot;, &quot;BCPQC&quot;);\n            return keyFactory.generatePublic(x509EncodedKeySpec);\n        } catch (NoSuchAlgorithmException | NoSuchProviderException | InvalidKeySpecException e) {\n            e.printStackTrace();\n            return null;\n        }\n    }\n\n    private static String bytesToHex(byte[] bytes) {\n        StringBuffer result = new StringBuffer();\n        for (byte b : bytes) result.append(Integer.toString((b &amp; 0xff) + 0x100, 16).substring(1));\n        return result.toString();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26731299,"reputation":3,"user_id":20333591,"display_name":"XIO_ennu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":237,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":74200491,"answer_count":1,"score":-2,"last_activity_date":1666734089,"creation_date":1666726864,"question_id":74199386,"body_markdown":"I am developing a Java application and I want to add a special encryption method - NTRU. Before that I used symmetric and asymmetric methods supplied by the bouncycastle provider however now I can&#39;t understand how works Post-Quantum algorithms in bouncycastle due to lack of any information on the network. Please help me implement NTRU text encryption code.\r\n\r\n\r\n\r\n\r\nI tried using the light-weight API but it didn&#39;t work, my code refuses to do anything\r\n\r\n","title":"NTRU BouncyCastle","body":"<p>I am developing a Java application and I want to add a special encryption method - NTRU. Before that I used symmetric and asymmetric methods supplied by the bouncycastle provider however now I can't understand how works Post-Quantum algorithms in bouncycastle due to lack of any information on the network. Please help me implement NTRU text encryption code.</p>\n<p>I tried using the light-weight API but it didn't work, my code refuses to do anything</p>\n"},{"tags":["java","dependency-injection","guice"],"answers":[{"comments":[{"owner":{"account_id":2034566,"reputation":415,"user_id":1819924,"accept_rate":40,"display_name":"BobIsNotMyName"},"score":0,"creation_date":1666734274,"post_id":74200475,"comment_id":131005782,"body_markdown":"Perfect. Simple enough, thanks so much for the explanation!","body":"Perfect. Simple enough, thanks so much for the explanation!"}],"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666733945,"creation_date":1666733945,"answer_id":74200475,"question_id":74200008,"body_markdown":"As you configured it, Guice can only decide by the type which object to inject and you have two methods that provide `Automobile`. The methods name is irrelevant.\r\n\r\nYou will have to specify which method provides which kind of `Automobile`, you could do this by adding annotations `@Named(&quot;Car&quot;)` and `@Named(&quot;Truck&quot;)` to your methods.\r\n\r\nTo get exactly the right kind of `Automobile` injected, you have to specify that same annotation (`@Named...`) also at the place where you get it injected.\r\n\r\n\r\nYour module would then look something like this:\r\n``` lang-java\r\npublic class AutomobileModule extends AbstractModule {\r\n   @Provides\r\n   @Singleton\r\n   @Named(&quot;Car&quot;)\r\n   Automobile getCar(final AutomobileFactory automobileFactory) {\r\n      return automobileFactory.createAutomobile(&quot;Car&quot;);\r\n   }\r\n\r\n   @Provides\r\n   @Singleton\r\n   AutomobileFactory getAutomobileFactory(final AutomobileConfiguration automobileConfiguration) {\r\n      return new AutomobileFactory(automobileConfiguration);\r\n   }\r\n\r\n   @Provides\r\n   @Singleton\r\n   AutomobileConfiguration getAutomobileConfiguration() {\r\n      return new AutomobileConfiguration();\r\n   }\r\n\r\n   @Provides\r\n   @Singleton\r\n   @Named(&quot;Truck&quot;)\r\n   Automobile getTruck(final AutomobileFactory automobileFactory) {\r\n      return automobileFactory.createAutomobile(&quot;Truck&quot;);\r\n   }\r\n}\r\n```\r\n\r\nSee the [official user guide](https://github.com/google/guice/wiki/ProvidesMethods)  for more information and this accepted [SO answer](https://stackoverflow.com/a/12309758/2846138) (together with the question) for a better example than in the user guide.","title":"Guice module provides singleton with two bindings?","body":"<p>As you configured it, Guice can only decide by the type which object to inject and you have two methods that provide <code>Automobile</code>. The methods name is irrelevant.</p>\n<p>You will have to specify which method provides which kind of <code>Automobile</code>, you could do this by adding annotations <code>@Named(&quot;Car&quot;)</code> and <code>@Named(&quot;Truck&quot;)</code> to your methods.</p>\n<p>To get exactly the right kind of <code>Automobile</code> injected, you have to specify that same annotation (<code>@Named...</code>) also at the place where you get it injected.</p>\n<p>Your module would then look something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class AutomobileModule extends AbstractModule {\n   @Provides\n   @Singleton\n   @Named(&quot;Car&quot;)\n   Automobile getCar(final AutomobileFactory automobileFactory) {\n      return automobileFactory.createAutomobile(&quot;Car&quot;);\n   }\n\n   @Provides\n   @Singleton\n   AutomobileFactory getAutomobileFactory(final AutomobileConfiguration automobileConfiguration) {\n      return new AutomobileFactory(automobileConfiguration);\n   }\n\n   @Provides\n   @Singleton\n   AutomobileConfiguration getAutomobileConfiguration() {\n      return new AutomobileConfiguration();\n   }\n\n   @Provides\n   @Singleton\n   @Named(&quot;Truck&quot;)\n   Automobile getTruck(final AutomobileFactory automobileFactory) {\n      return automobileFactory.createAutomobile(&quot;Truck&quot;);\n   }\n}\n</code></pre>\n<p>See the <a href=\"https://github.com/google/guice/wiki/ProvidesMethods\" rel=\"nofollow noreferrer\">official user guide</a>  for more information and this accepted <a href=\"https://stackoverflow.com/a/12309758/2846138\">SO answer</a> (together with the question) for a better example than in the user guide.</p>\n"}],"owner":{"account_id":2034566,"reputation":415,"user_id":1819924,"accept_rate":40,"display_name":"BobIsNotMyName"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":179,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74200475,"answer_count":1,"score":1,"last_activity_date":1666733945,"creation_date":1666730803,"question_id":74200008,"body_markdown":"I&#39;m very new to Guice (and I&#39;m much more proficient in languages other than Java), but essentially what I want to do is edit some code to convert something like this:\r\n\r\n```\r\npublic class AutomobileModule extends AbstractModule {\r\n   @Provides\r\n   @Singleton\r\n   Automobile getCar(final AutomobileFactory automobileFactory) {\r\n      return automobileFactory.createAutomobile(&quot;Car&quot;);\r\n   }\r\n\r\n   @Provides\r\n   @Singleton\r\n   AutomobileFactory getAutomobileFactory(final AutomobileConfiguration automobileConfiguration) {\r\n      return new AutomobileFactory(automobileConfiguration);\r\n   }\r\n\r\n   @Provides\r\n   @Singleton\r\n   AutomobileConfiguration getAutomobileConfiguration() {\r\n      return new AutomobileConfiguration();\r\n   }\r\n}\r\n```\r\nby adding\r\n```\r\npublic class AutomobileModule extends AbstractModule {\r\n   &lt;...SNIP...&gt;\r\n\r\n   @Provides\r\n   @Singleton\r\n   Automobile getTruck(final AutomobileFactory automobileFactory) {\r\n      return automobileFactory.createAutomobile(&quot;Truck&quot;);\r\n   }\r\n}\r\n```\r\n\r\nHowever, if I try this, I get &quot;A binding to... was already configured at&quot; error. So what&#39;s the correct way to share dependencies this way? Or do people usually just create multiple factories, etc, in cases like this.","title":"Guice module provides singleton with two bindings?","body":"<p>I'm very new to Guice (and I'm much more proficient in languages other than Java), but essentially what I want to do is edit some code to convert something like this:</p>\n<pre><code>public class AutomobileModule extends AbstractModule {\n   @Provides\n   @Singleton\n   Automobile getCar(final AutomobileFactory automobileFactory) {\n      return automobileFactory.createAutomobile(&quot;Car&quot;);\n   }\n\n   @Provides\n   @Singleton\n   AutomobileFactory getAutomobileFactory(final AutomobileConfiguration automobileConfiguration) {\n      return new AutomobileFactory(automobileConfiguration);\n   }\n\n   @Provides\n   @Singleton\n   AutomobileConfiguration getAutomobileConfiguration() {\n      return new AutomobileConfiguration();\n   }\n}\n</code></pre>\n<p>by adding</p>\n<pre><code>public class AutomobileModule extends AbstractModule {\n   &lt;...SNIP...&gt;\n\n   @Provides\n   @Singleton\n   Automobile getTruck(final AutomobileFactory automobileFactory) {\n      return automobileFactory.createAutomobile(&quot;Truck&quot;);\n   }\n}\n</code></pre>\n<p>However, if I try this, I get &quot;A binding to... was already configured at&quot; error. So what's the correct way to share dependencies this way? Or do people usually just create multiple factories, etc, in cases like this.</p>\n"},{"tags":["java","amazon-sqs","java-11","aws-java-sdk-2.x"],"comments":[{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1666733868,"post_id":74173506,"comment_id":131005680,"body_markdown":"sqs does not guarantee that you receive all messages and during testing especially you can sometimes accidentially reject a message that gets returned to the queue. That would only print 1 &amp; delete 1. Have you tried to loop your code (for at least 30 seconds or whatever the visibility timeout is)?","body":"sqs does not guarantee that you receive all messages and during testing especially you can sometimes accidentially reject a message that gets returned to the queue. That would only print 1 &amp; delete 1. Have you tried to loop your code (for at least 30 seconds or whatever the visibility timeout is)?"},{"owner":{"account_id":17561687,"reputation":37,"user_id":12739579,"display_name":"Conquistador"},"score":0,"creation_date":1666777764,"post_id":74173506,"comment_id":131014605,"body_markdown":"@zapl, are you suggesting to run a loop and fetch messages every 30 seconds(assuming visibility timeout is 30 sec).","body":"@zapl, are you suggesting to run a loop and fetch messages every 30 seconds(assuming visibility timeout is 30 sec)."},{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1666790694,"post_id":74173506,"comment_id":131019064,"body_markdown":"Sort of but no waiting 30 seconds. When consuming an SQS Queue you usually have a simple endless loop that constantly calls `receiveMessage` with a configured &quot;WaitTimeSeconds&quot; of 20. No additional delay. The receive request returns immediately if an empty queue suddenly has messages but it returns empty after 20 seconds if there are no messages (long polling). If you somehow received a message but didn&#39;t delete it, you won&#39;t see the message again for 30 seconds (or whatever the &quot;VisibilityTimeout&quot; of the message is). But to ensure you see all messages at some point you have to keep checking","body":"Sort of but no waiting 30 seconds. When consuming an SQS Queue you usually have a simple endless loop that constantly calls <code>receiveMessage</code> with a configured &quot;WaitTimeSeconds&quot; of 20. No additional delay. The receive request returns immediately if an empty queue suddenly has messages but it returns empty after 20 seconds if there are no messages (long polling). If you somehow received a message but didn&#39;t delete it, you won&#39;t see the message again for 30 seconds (or whatever the &quot;VisibilityTimeout&quot; of the message is). But to ensure you see all messages at some point you have to keep checking"}],"owner":{"account_id":17561687,"reputation":37,"user_id":12739579,"display_name":"Conquistador"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":505,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666733541,"creation_date":1666547914,"question_id":74173506,"body_markdown":"I am doing some operations which will publish messages to an SQS, a standard SQS, not a FIFO one. After that I am trying to receive both the messages from SQS and delete both of them. \r\nI have written the following code for receiving and deleting messages from SQS.\r\n\r\n\r\n    private ReceiveMessageRequest getReceiveMessageRequest() {\r\n            return new ReceiveMessageRequest(QUEUE_URL)\r\n                .withMaxNumberOfMessages(5);\r\n        }\r\n    \r\n    private void deleteMessagesInIntegrationQueue(List&lt;Message&gt; messages) {\r\n    \r\n            messages.forEach(\r\n                message -&gt; testSQS.deleteMessage(new DeleteMessageRequest(QUEUE_URL, message.getReceiptHandle()))\r\n            );\r\n        }\r\n    \r\n    List&lt;Message&gt; results = testSQS.receiveMessage(getReceiveMessageRequest()).getMessages();\r\n    SOPL(results);\r\n    \r\n    deleteMessagesInQueue(results);\r\n    \r\n    List&lt;Message&gt; newResults = testSQS.receiveMessage(getReceiveMessageRequest()).getMessages();\r\n            SOPL(newResults);\r\n\r\n\r\n\r\nI am having the following problems with my code.\r\n1. When I am printing results list, I am expecting 2 messages, but only one message is being printed and the list size is also printed as 1.\r\n2. After deleteMessagesInQueue function call, I expect all the messages to be deleted in the SQS and the newResults list size should be 0, but one message is being printed and queue size is printed as 1. I can do purgeQueue instead of delete, but I want to understand what I am doing wrong here?\r\n","title":"AWS SQS Receive Message and Delete message with JAVA","body":"<p>I am doing some operations which will publish messages to an SQS, a standard SQS, not a FIFO one. After that I am trying to receive both the messages from SQS and delete both of them.\nI have written the following code for receiving and deleting messages from SQS.</p>\n<pre><code>private ReceiveMessageRequest getReceiveMessageRequest() {\n        return new ReceiveMessageRequest(QUEUE_URL)\n            .withMaxNumberOfMessages(5);\n    }\n\nprivate void deleteMessagesInIntegrationQueue(List&lt;Message&gt; messages) {\n\n        messages.forEach(\n            message -&gt; testSQS.deleteMessage(new DeleteMessageRequest(QUEUE_URL, message.getReceiptHandle()))\n        );\n    }\n\nList&lt;Message&gt; results = testSQS.receiveMessage(getReceiveMessageRequest()).getMessages();\nSOPL(results);\n\ndeleteMessagesInQueue(results);\n\nList&lt;Message&gt; newResults = testSQS.receiveMessage(getReceiveMessageRequest()).getMessages();\n        SOPL(newResults);\n</code></pre>\n<p>I am having the following problems with my code.</p>\n<ol>\n<li>When I am printing results list, I am expecting 2 messages, but only one message is being printed and the list size is also printed as 1.</li>\n<li>After deleteMessagesInQueue function call, I expect all the messages to be deleted in the SQS and the newResults list size should be 0, but one message is being printed and queue size is printed as 1. I can do purgeQueue instead of delete, but I want to understand what I am doing wrong here?</li>\n</ol>\n"},{"tags":["java","datetime","sqldatetime"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1666717524,"post_id":74197747,"comment_id":131001099,"body_markdown":"Is there any date or time zone involved or implied?","body":"Is there any date or time zone involved or implied?"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1666717600,"post_id":74197747,"comment_id":131001119,"body_markdown":"I changed your examples to 24 hour clock for simplicity, less distraction.","body":"I changed your examples to 24 hour clock for simplicity, less distraction."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1666717668,"post_id":74197747,"comment_id":131001137,"body_markdown":"What *exactly* is the data type of your column with the time? What database?","body":"What <i>exactly</i> is the data type of your column with the time? What database?"},{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1666717883,"post_id":74197747,"comment_id":131001206,"body_markdown":"And when you say &#39;I tried to group by in sql&#39; - show us the SQL, or hibernate, or whatever you do already have.","body":"And when you say &#39;I tried to group by in sql&#39; - show us the SQL, or hibernate, or whatever you do already have."},{"owner":{"account_id":16528235,"reputation":23,"user_id":11942296,"display_name":"Gnanambal Meyyappan"},"score":0,"creation_date":1666759784,"post_id":74197747,"comment_id":131009716,"body_markdown":"@rzwitserloot please find the querySELECT\n\n  max(convert(varchar,(CAST (DATEADD(SECOND,signin_timestamp/1000 ,&#39;1970/1/1&#39;) AS datetime)),8)) as session_start_date,\n\n  count(*) as number_of_sessions\n\nFROM [dbo].[user_attendance_information]\n\nWHERE (CAST (DATEADD(SECOND,signin_timestamp/1000 ,&#39;1970/1/1&#39;) AS date)) = &#39;2022-08-17&#39;\n\nGROUP by\n\n  datepart(hour, (CAST (DATEADD(SECOND,signin_timestamp/1000 ,&#39;1970/1/1&#39;) AS smalldatetime))),\n\n  datepart(minute, \n\n  (CAST (DATEADD(SECOND,signin_timestamp/1000 ,&#39;1970/1/1&#39;) AS smalldatetime)));","body":"@rzwitserloot please find the querySELECT    max(convert(varchar,(CAST (DATEADD(SECOND,signin_timestamp/1000 ,&#39;1970/1/1&#39;) AS datetime)),8)) as session_start_date,    count(*) as number_of_sessions  FROM [dbo].[user_attendance_information]  WHERE (CAST (DATEADD(SECOND,signin_timestamp/1000 ,&#39;1970/1/1&#39;) AS date)) = &#39;2022-08-17&#39;  GROUP by    datepart(hour, (CAST (DATEADD(SECOND,signin_timestamp/1000 ,&#39;1970/1/1&#39;) AS smalldatetime))),    datepart(minute,     (CAST (DATEADD(SECOND,signin_timestamp/1000 ,&#39;1970/1/1&#39;) AS smalldatetime)));"}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666730340,"creation_date":1666730340,"answer_id":74199939,"question_id":74197747,"body_markdown":"Assume you have different times (whatever the datatype) and need to aggregate over 24 hours/day. It just means 24 buckets to host.\r\n\r\nInitialize an array of 24 integers to contain all zeros.\r\nThe loop over your times. For each of them just drop the minutes so you are left with the hour-of-day. Find the according int in your array and increase the value.\r\n\r\nFinally just print your array and you see how many times you had in each hour of the day.\r\n\r\nNow when you want to have 30 minute intervals, just increase the number of buckets to 48 and instead of dropping the minutes decide whether it is in the first or second half of the hour.","title":"Java / SQL -How to group time in intervals of 30 minutes or 1 hour","body":"<p>Assume you have different times (whatever the datatype) and need to aggregate over 24 hours/day. It just means 24 buckets to host.</p>\n<p>Initialize an array of 24 integers to contain all zeros.\nThe loop over your times. For each of them just drop the minutes so you are left with the hour-of-day. Find the according int in your array and increase the value.</p>\n<p>Finally just print your array and you see how many times you had in each hour of the day.</p>\n<p>Now when you want to have 30 minute intervals, just increase the number of buckets to 48 and instead of dropping the minutes decide whether it is in the first or second half of the hour.</p>\n"},{"tags":[],"owner":{"account_id":6674353,"reputation":505,"user_id":5149545,"display_name":"c3R1cGFy"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666733363,"creation_date":1666732552,"answer_id":74200284,"question_id":74197747,"body_markdown":"Here are the code snippets for classic (algorithmic) approach and the second one that uses java streams api:\r\n```java\r\n// algorithmic approach\r\nLocalDateTime[] times = Array.randomLocalDateTimes(5);\r\nArray.print(times);\r\n\r\nMap&lt;Integer, Integer&gt; counts = new HashMap&lt;&gt;();\r\nfor (LocalDateTime time : times) {\r\n    int hour = time.get(ChronoField.HOUR_OF_DAY);\r\n    int count = counts.getOrDefault(hour, 0);\r\n    counts.put(hour, count+1);\r\n}\r\nSystem.out.println(counts);\r\n\r\n\r\n// java streams aproach\r\nMap&lt;Integer, Integer&gt; counts2 = Arrays.stream(times)\r\n     .collect(Collectors.toMap(time -&gt; time.get(ChronoField.HOUR_OF_DAY), hour -&gt; 1, Integer::sum));\r\nSystem.out.println(counts2);\r\n\r\n\r\n// java streams for 30 minutes\r\nMap&lt;String, Integer&gt; counts3 = Arrays.stream(times)\r\n     .collect(Collectors.toMap(time -&gt; time.get(ChronoField.HOUR_OF_DAY) + &quot;:&quot; + (time.get(ChronoField.MINUTE_OF_HOUR) &lt; 30 ? &quot;00&quot; : &quot;30&quot;),\r\n                        interval -&gt; 1,\r\n                        Integer::sum));\r\nSystem.out.println(counts3);\r\n```\r\n\r\n\r\nOutput:\r\n```bash\r\n2022-10-25T18:06:14.245215, 2022-10-25T22:15:14.246607, 2022-10-25T19:29:14.246624, 2022-10-25T18:08:14.246635, 2022-10-25T10:21:14.246645\r\n{18=2, 19=1, 22=1, 10=1}\r\n{18=2, 19=1, 22=1, 10=1}\r\n{10:00=1, 22:00=1, 19:00=1, 18:00=2}\r\n```","title":"Java / SQL -How to group time in intervals of 30 minutes or 1 hour","body":"<p>Here are the code snippets for classic (algorithmic) approach and the second one that uses java streams api:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// algorithmic approach\nLocalDateTime[] times = Array.randomLocalDateTimes(5);\nArray.print(times);\n\nMap&lt;Integer, Integer&gt; counts = new HashMap&lt;&gt;();\nfor (LocalDateTime time : times) {\n    int hour = time.get(ChronoField.HOUR_OF_DAY);\n    int count = counts.getOrDefault(hour, 0);\n    counts.put(hour, count+1);\n}\nSystem.out.println(counts);\n\n\n// java streams aproach\nMap&lt;Integer, Integer&gt; counts2 = Arrays.stream(times)\n     .collect(Collectors.toMap(time -&gt; time.get(ChronoField.HOUR_OF_DAY), hour -&gt; 1, Integer::sum));\nSystem.out.println(counts2);\n\n\n// java streams for 30 minutes\nMap&lt;String, Integer&gt; counts3 = Arrays.stream(times)\n     .collect(Collectors.toMap(time -&gt; time.get(ChronoField.HOUR_OF_DAY) + &quot;:&quot; + (time.get(ChronoField.MINUTE_OF_HOUR) &lt; 30 ? &quot;00&quot; : &quot;30&quot;),\n                        interval -&gt; 1,\n                        Integer::sum));\nSystem.out.println(counts3);\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>2022-10-25T18:06:14.245215, 2022-10-25T22:15:14.246607, 2022-10-25T19:29:14.246624, 2022-10-25T18:08:14.246635, 2022-10-25T10:21:14.246645\n{18=2, 19=1, 22=1, 10=1}\n{18=2, 19=1, 22=1, 10=1}\n{10:00=1, 22:00=1, 19:00=1, 18:00=2}\n</code></pre>\n"}],"owner":{"account_id":16528235,"reputation":23,"user_id":11942296,"display_name":"Gnanambal Meyyappan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":371,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74200284,"answer_count":2,"score":0,"last_activity_date":1666733363,"creation_date":1666717279,"question_id":74197747,"body_markdown":"I need a solution to group the times of entry and the display the respective time interval and count of users/records during that time interval\r\neg\r\n\r\nTime Interval\t   Count\r\n\r\n07:00 AM-07:30\t24\r\n\r\n12:30 PM-13:00\t26\r\n\r\nHow can we group time based on interval in Java or SQL\r\n\r\nI tried group by in sql and LocalTime grouping by using streams\r\nBut i m not able to segregate based on the time interval\r\n\r\nTime Interval\t   Count\r\n\r\n07:00:34 \t        12\r\n\r\n12:30:23 \t        14\r\n\r\n07:23:53            12\r\n\r\n12:46:21            12\r\n\r\nI m able to get data in the above format only using sql/java(tried both ways)","title":"Java / SQL -How to group time in intervals of 30 minutes or 1 hour","body":"<p>I need a solution to group the times of entry and the display the respective time interval and count of users/records during that time interval\neg</p>\n<p>Time Interval      Count</p>\n<p>07:00 AM-07:30  24</p>\n<p>12:30 PM-13:00  26</p>\n<p>How can we group time based on interval in Java or SQL</p>\n<p>I tried group by in sql and LocalTime grouping by using streams\nBut i m not able to segregate based on the time interval</p>\n<p>Time Interval      Count</p>\n<p>07:00:34            12</p>\n<p>12:30:23            14</p>\n<p>07:23:53            12</p>\n<p>12:46:21            12</p>\n<p>I m able to get data in the above format only using sql/java(tried both ways)</p>\n"},{"tags":["java","arrays"],"answers":[{"comments":[{"owner":{"account_id":16663,"reputation":14248,"user_id":36545,"accept_rate":76,"display_name":"kylex"},"score":0,"creation_date":1226546456,"post_id":286163,"comment_id":135908,"body_markdown":"what is stored in element 5 if nothing has been assigned to it then?","body":"what is stored in element 5 if nothing has been assigned to it then?"},{"owner":{"display_name":"user29053"},"score":0,"creation_date":1226546579,"post_id":286163,"comment_id":135911,"body_markdown":"Integers are initialized to 0 by default.","body":"Integers are initialized to 0 by default."},{"owner":{"account_id":1322191,"reputation":11583,"user_id":1267768,"accept_rate":83,"display_name":"Matt"},"score":1,"creation_date":1342378812,"post_id":286163,"comment_id":15184022,"body_markdown":"it&#39;s dependent on the array&#39;s component type.  for all numerical primitives, it&#39;s 0.  For char it&#39;s ascii code 0 (aka the null char).  For byte, it&#39;s byte value 0.  For boolean it would be false.  And for any non-primitive (ie an Object), it&#39;s null.","body":"it&#39;s dependent on the array&#39;s component type.  for all numerical primitives, it&#39;s 0.  For char it&#39;s ascii code 0 (aka the null char).  For byte, it&#39;s byte value 0.  For boolean it would be false.  And for any non-primitive (ie an Object), it&#39;s null."}],"tags":[],"owner":{"account_id":15786,"reputation":161764,"user_id":33732,"accept_rate":67,"display_name":"Rob Kennedy"},"comment_count":3,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1226546675,"creation_date":1226546341,"answer_id":286163,"question_id":286161,"body_markdown":"There is no such thing as an &quot;empty&quot; element in a Java array. If the array&#39;s length is at least six, then element 5 exists and it has a value. If you have not assigned anything else to that location, then it will have the value zero, just like an object&#39;s uninitialized field would have.\r\n\r\nIf it is an array of `Object` descendants, then you can check whether the element is equal to `null`.","title":"How can I see if an element in an int array is empty?","body":"<p>There is no such thing as an \"empty\" element in a Java array. If the array's length is at least six, then element 5 exists and it has a value. If you have not assigned anything else to that location, then it will have the value zero, just like an object's uninitialized field would have.</p>\n\n<p>If it is an array of <code>Object</code> descendants, then you can check whether the element is equal to <code>null</code>.</p>\n"},{"comments":[{"owner":{"account_id":5100,"reputation":29377,"user_id":8026,"accept_rate":63,"display_name":"MetroidFan2002"},"score":0,"creation_date":1226550004,"post_id":286167,"comment_id":135952,"body_markdown":"Just as an aside, I believe (though I am not 100% on this) that int[] myArray = new int[] {12, 7, 32, 15, 113, 0, 7}; is also allowed.  That is, I believe you are allowed (though you do not have to) to put new int[] in front of your created array.","body":"Just as an aside, I believe (though I am not 100% on this) that int[] myArray = new int[] {12, 7, 32, 15, 113, 0, 7}; is also allowed.  That is, I believe you are allowed (though you do not have to) to put new int[] in front of your created array."},{"owner":{"account_id":970,"reputation":399857,"user_id":1288,"accept_rate":93,"display_name":"Bill the Lizard"},"score":0,"creation_date":1226583960,"post_id":286167,"comment_id":136385,"body_markdown":"@MetroidFan2002:  Yes, that syntax is also valid.","body":"@MetroidFan2002:  Yes, that syntax is also valid."},{"owner":{"account_id":1322191,"reputation":11583,"user_id":1267768,"accept_rate":83,"display_name":"Matt"},"score":1,"creation_date":1342378653,"post_id":286167,"comment_id":15183984,"body_markdown":"If you want Null values, you should declare it as Integer [] array.  The problem with using int[] is that you can&#39;t tell the difference between someone assigning a 0 value, and it having defaulted to that.  If this is OK, then you can use the primitive.  If you need to know the difference, you&#39;ll have to use Integer.","body":"If you want Null values, you should declare it as Integer [] array.  The problem with using int[] is that you can&#39;t tell the difference between someone assigning a 0 value, and it having defaulted to that.  If this is OK, then you can use the primitive.  If you need to know the difference, you&#39;ll have to use Integer."}],"tags":[],"owner":{"account_id":970,"reputation":399857,"user_id":1288,"accept_rate":93,"display_name":"Bill the Lizard"},"comment_count":3,"down_vote_count":0,"up_vote_count":22,"is_accepted":true,"score":22,"last_activity_date":1343599890,"creation_date":1226546442,"answer_id":286167,"question_id":286161,"body_markdown":"Elements in primitive arrays can&#39;t be empty.  They&#39;ll always get initialized to something (usually `0` for `int` arrays, but depends on how you declare the array).\r\n\r\nIf you declare the array like so (for example):\r\n\r\n    int [] myArray ;\r\n    myArray = new int[7] ;\r\n\r\nthen all of the elements will default to `0`.\r\n\r\nAn alternative syntax for declaring arrays is\r\n\r\n    int[] myArray = { 12, 7, 32, 15, 113, 0, 7 };\r\n\r\nwhere the initial values for an array (of size seven in this case) are given in the curly braces `{}`.\r\n\r\n","title":"How can I see if an element in an int array is empty?","body":"<p>Elements in primitive arrays can't be empty.  They'll always get initialized to something (usually <code>0</code> for <code>int</code> arrays, but depends on how you declare the array).</p>\n\n<p>If you declare the array like so (for example):</p>\n\n<pre><code>int [] myArray ;\nmyArray = new int[7] ;\n</code></pre>\n\n<p>then all of the elements will default to <code>0</code>.</p>\n\n<p>An alternative syntax for declaring arrays is</p>\n\n<pre><code>int[] myArray = { 12, 7, 32, 15, 113, 0, 7 };\n</code></pre>\n\n<p>where the initial values for an array (of size seven in this case) are given in the curly braces <code>{}</code>.</p>\n"},{"tags":[],"owner":{"account_id":13598,"reputation":102599,"user_id":27439,"accept_rate":100,"display_name":"Vincent Ramdhanie"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1226546590,"creation_date":1226546590,"answer_id":286171,"question_id":286161,"body_markdown":"You have to define what you mean by empty. Depending on the datatype of the array you can decide on the semantics of empty. For example, if you have an array of ints you can decide that 0 is empty. Or if the array is of reference types then you can decide that null is empty. Then you simply check by comparing array[5] == null or array[5] == 0 etc.","title":"How can I see if an element in an int array is empty?","body":"<p>You have to define what you mean by empty. Depending on the datatype of the array you can decide on the semantics of empty. For example, if you have an array of ints you can decide that 0 is empty. Or if the array is of reference types then you can decide that null is empty. Then you simply check by comparing array[5] == null or array[5] == 0 etc.</p>\n"},{"comments":[{"owner":{"account_id":12404,"reputation":62016,"user_id":24396,"accept_rate":74,"display_name":"Steve Kuo"},"score":1,"creation_date":1226611302,"post_id":286252,"comment_id":137490,"body_markdown":"int will always default to 0, this is defined in the Java language specification","body":"int will always default to 0, this is defined in the Java language specification"}],"tags":[],"owner":{"account_id":16879,"reputation":31,"user_id":37224,"display_name":"Terry Lacy"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1226550279,"creation_date":1226550279,"answer_id":286252,"question_id":286161,"body_markdown":"Primitive arrays (int, float, char, etc) are never &quot;empty&quot; (by which I assume you mean &quot;null&quot;), because primitive array elements can never be null.\r\n\r\nBy default, an int array usually contains 0 when allocated.  However, I never rely on this (spent too much time writing C code, I guess).\r\n\r\nOne way is to pick a value that you want to treat as &quot;uninitialized&quot;.  It could be 0, or -1, or some other value that you&#39;re not going to use as a valid value.  Initialize your array to that value after allocating it.\r\n\r\nObject arrays (String[] and any array of objects that extend Object), *can* have null elements, so you could create an Integer[] array and initialize it to nulls. I think I like that idea better than using a magic value as described above.","title":"How can I see if an element in an int array is empty?","body":"<p>Primitive arrays (int, float, char, etc) are never \"empty\" (by which I assume you mean \"null\"), because primitive array elements can never be null.</p>\n\n<p>By default, an int array usually contains 0 when allocated.  However, I never rely on this (spent too much time writing C code, I guess).</p>\n\n<p>One way is to pick a value that you want to treat as \"uninitialized\".  It could be 0, or -1, or some other value that you're not going to use as a valid value.  Initialize your array to that value after allocating it.</p>\n\n<p>Object arrays (String[] and any array of objects that extend Object), <em>can</em> have null elements, so you could create an Integer[] array and initialize it to nulls. I think I like that idea better than using a magic value as described above.</p>\n"},{"comments":[{"owner":{"account_id":941,"reputation":50408,"user_id":1237,"accept_rate":95,"display_name":"Jacob Mattison"},"score":0,"creation_date":1226588176,"post_id":286746,"comment_id":136537,"body_markdown":"It&#39;s tough to come up with a constant that you can guarantee will never be a valid value that could legitimately be put in the array. \n\nIf you really have to know whether anything has been added, probably better to use an array of Integers and check for null.","body":"It&#39;s tough to come up with a constant that you can guarantee will never be a valid value that could legitimately be put in the array.   If you really have to know whether anything has been added, probably better to use an array of Integers and check for null."},{"owner":{"account_id":13070,"reputation":4278,"user_id":26061,"display_name":"Leigh"},"score":0,"creation_date":1226593426,"post_id":286746,"comment_id":136742,"body_markdown":"Yeah that&#39;s a fair point, but I find in practice there is usually a range of valid integers that will be added to the array, so for example, a negative integer, or Integer.MAX/MIN_VALUE, can be used as EMPTY.","body":"Yeah that&#39;s a fair point, but I find in practice there is usually a range of valid integers that will be added to the array, so for example, a negative integer, or Integer.MAX/MIN_VALUE, can be used as EMPTY."}],"tags":[],"owner":{"account_id":13070,"reputation":4278,"user_id":26061,"display_name":"Leigh"},"comment_count":2,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1226571960,"creation_date":1226571960,"answer_id":286746,"question_id":286161,"body_markdown":"Create a constant to define the empty value, eg:\r\n\r\n    private static final int EMPTY = -1;\r\n\r\nthen create the array like this:\r\n\r\n    int[] myArray = new int[size];\r\n    Arrays.fill(myArray, EMPTY);\r\n\r\nthen to check if an element is &#39;empty&#39;, do this:\r\n\r\n    if (myArray[i] == EMPTY)\r\n    {\r\n       //element i is empty\r\n    }","title":"How can I see if an element in an int array is empty?","body":"<p>Create a constant to define the empty value, eg:</p>\n\n<pre><code>private static final int EMPTY = -1;\n</code></pre>\n\n<p>then create the array like this:</p>\n\n<pre><code>int[] myArray = new int[size];\nArrays.fill(myArray, EMPTY);\n</code></pre>\n\n<p>then to check if an element is 'empty', do this:</p>\n\n<pre><code>if (myArray[i] == EMPTY)\n{\n   //element i is empty\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666733088,"creation_date":1666731665,"answer_id":74200153,"question_id":286161,"body_markdown":"# tl;dr\r\n\r\nUse objects rather than primitives.\r\n\r\n    Integer[] myArray …\r\n    … Objects.isNull( myArray[ 5 ] ) …\r\n    … Objects.nonNull( myArray[ 5 ] ) …\r\n\r\n\r\n# Use objects, not primitives ➠ &lt;s&gt;`int[]`&lt;/s&gt; `Integer[]`\r\n\r\nThe [Answer by Bill the Lizard][1] is correct. An **array of primitive values has no empty** slots. All slots hold an element with a default value for that data type. For `int`, the default is `0`, zero.\r\n\r\nIf you want to track empty slots, or “holes”, in your array, define the array as **holding object references rather than primitive** values. So you would want a `Integer[]` rather than &lt;s&gt;`int[]`&lt;/s&gt;. \r\n\r\n    Integer[] integers = new Integer[ 12 ] ;\r\n    System.out.println( Arrays.toString( integers ) ) ;\r\n\r\n## `null`\r\n\r\nWhen run we see that all the elements are `null`. This means no object references has yet been placed in that slot. \r\n\r\n&gt;[null, null, null, null, null, null, null, null, null, null, null, null]\r\n\r\nLet&#39;s assign some values. Java provides [auto-boxing][2] for automatically converting `int` values into `Integer` objects. \r\n\r\n\t    \r\n\t    integers[ 2 ] = 42 ;                      // Auto-boxing.\r\n\t    integers[ 5 ] = Integer.valueOf( 99 ) ;   // Unnecessary, because of auto-boxing.\r\n\t    System.out.println( Arrays.toString( integers ) ) ;\r\n\r\nWhen run, we see two slots are used while ten remain unused (`null`). \r\n\r\n&gt;[null, null, 42, null, null, 99, null, null, null, null, null, null]\r\n\r\nSee this [code run at Ideone.com][3].\r\n\r\nYou said:\r\n\r\n&gt;I want to see if `array[5]` holds a value or is empty.\r\n\r\nTest for `null`.\r\n\r\n    boolean slotAtIndex5HoldsObjectRef = ( null != integers[ 5 ] ) ;  // Parens are not necessary, but improve readability.\r\n\r\n&gt;true\r\n\r\nMore elegant to use the [`Objects`][4] utility class.\r\n\r\n    boolean slot5Filled = Objects.nonNull( integers[ 5 ] ) ;\r\n\r\n&gt;true\r\n\r\nSpecify [a default value][5] if none assigned.\r\n\r\n\t    Integer x = Objects.requireNonNullElse( integers[ 5 ] , Integer.valueOf( 101 ) ) ;\r\n\t    Integer y = Objects.requireNonNullElse( integers[ 7 ] , Integer.valueOf( 101 ) ) ;\r\n\r\n&gt;x: 99\r\n&gt;\r\n&gt;y: 101\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/286167/642706\r\n  [2]: https://en.wikipedia.org/wiki/Boxing_(computer_science)#Autoboxing\r\n  [3]: https://ideone.com/QccXf7\r\n  [4]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Objects.html\r\n  [5]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Objects.html#requireNonNullElse(T,T)","title":"How can I see if an element in an int array is empty?","body":"<h1>tl;dr</h1>\n<p>Use objects rather than primitives.</p>\n<pre><code>Integer[] myArray …\n… Objects.isNull( myArray[ 5 ] ) …\n… Objects.nonNull( myArray[ 5 ] ) …\n</code></pre>\n<h1>Use objects, not primitives ➠ <s><code>int[]</code></s> <code>Integer[]</code></h1>\n<p>The <a href=\"https://stackoverflow.com/a/286167/642706\">Answer by Bill the Lizard</a> is correct. An <strong>array of primitive values has no empty</strong> slots. All slots hold an element with a default value for that data type. For <code>int</code>, the default is <code>0</code>, zero.</p>\n<p>If you want to track empty slots, or “holes”, in your array, define the array as <strong>holding object references rather than primitive</strong> values. So you would want a <code>Integer[]</code> rather than <s><code>int[]</code></s>.</p>\n<pre><code>Integer[] integers = new Integer[ 12 ] ;\nSystem.out.println( Arrays.toString( integers ) ) ;\n</code></pre>\n<h2><code>null</code></h2>\n<p>When run we see that all the elements are <code>null</code>. This means no object references has yet been placed in that slot.</p>\n<blockquote>\n<p>[null, null, null, null, null, null, null, null, null, null, null, null]</p>\n</blockquote>\n<p>Let's assign some values. Java provides <a href=\"https://en.wikipedia.org/wiki/Boxing_(computer_science)#Autoboxing\" rel=\"nofollow noreferrer\">auto-boxing</a> for automatically converting <code>int</code> values into <code>Integer</code> objects.</p>\n<pre><code>    integers[ 2 ] = 42 ;                      // Auto-boxing.\n    integers[ 5 ] = Integer.valueOf( 99 ) ;   // Unnecessary, because of auto-boxing.\n    System.out.println( Arrays.toString( integers ) ) ;\n</code></pre>\n<p>When run, we see two slots are used while ten remain unused (<code>null</code>).</p>\n<blockquote>\n<p>[null, null, 42, null, null, 99, null, null, null, null, null, null]</p>\n</blockquote>\n<p>See this <a href=\"https://ideone.com/QccXf7\" rel=\"nofollow noreferrer\">code run at Ideone.com</a>.</p>\n<p>You said:</p>\n<blockquote>\n<p>I want to see if <code>array[5]</code> holds a value or is empty.</p>\n</blockquote>\n<p>Test for <code>null</code>.</p>\n<pre><code>boolean slotAtIndex5HoldsObjectRef = ( null != integers[ 5 ] ) ;  // Parens are not necessary, but improve readability.\n</code></pre>\n<blockquote>\n<p>true</p>\n</blockquote>\n<p>More elegant to use the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Objects.html\" rel=\"nofollow noreferrer\"><code>Objects</code></a> utility class.</p>\n<pre><code>boolean slot5Filled = Objects.nonNull( integers[ 5 ] ) ;\n</code></pre>\n<blockquote>\n<p>true</p>\n</blockquote>\n<p>Specify <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Objects.html#requireNonNullElse(T,T)\" rel=\"nofollow noreferrer\">a default value</a> if none assigned.</p>\n<pre><code>    Integer x = Objects.requireNonNullElse( integers[ 5 ] , Integer.valueOf( 101 ) ) ;\n    Integer y = Objects.requireNonNullElse( integers[ 7 ] , Integer.valueOf( 101 ) ) ;\n</code></pre>\n<blockquote>\n<p>x: 99</p>\n<p>y: 101</p>\n</blockquote>\n"}],"owner":{"account_id":16663,"reputation":14248,"user_id":36545,"accept_rate":76,"display_name":"kylex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79040,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":286167,"answer_count":6,"score":10,"last_activity_date":1666733088,"creation_date":1226546176,"question_id":286161,"body_markdown":"example:\r\n\r\nI want to see if `array[5]` holds a value or is empty.","title":"How can I see if an element in an int array is empty?","body":"<p>example:</p>\n\n<p>I want to see if <code>array[5]</code> holds a value or is empty.</p>\n"},{"tags":["java","serialization"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1666592852,"post_id":74177255,"comment_id":130965009,"body_markdown":"I would *suspect* `javax.swing.event.EventListenerList` from the start of the exception (I am also pretty sure that most Swing classes have a warning regarding serialization (something like incompatibility with future versions)","body":"I would <i>suspect</i> <code>javax.swing.event.EventListenerList</code> from the start of the exception (I am also pretty sure that most Swing classes have a warning regarding serialization (something like incompatibility with future versions)"},{"owner":{"account_id":1246433,"reputation":93,"user_id":1207781,"display_name":"claire"},"score":0,"creation_date":1666593023,"post_id":74177255,"comment_id":130965038,"body_markdown":"@user16320675 Ah. It seems obvious now! Thanks.","body":"@user16320675 Ah. It seems obvious now! Thanks."}],"answers":[{"comments":[{"owner":{"account_id":1246433,"reputation":93,"user_id":1207781,"display_name":"claire"},"score":0,"creation_date":1666593456,"post_id":74177324,"comment_id":130965124,"body_markdown":"Thanks - yes, the Swing class shouldn&#39;t have been serialized, it was supposed to be a transient variable. I hadn&#39;t noticed the error before because presumably I was serializing and deserializing with the same version of Java so it wasn&#39;t causing a problem.","body":"Thanks - yes, the Swing class shouldn&#39;t have been serialized, it was supposed to be a transient variable. I hadn&#39;t noticed the error before because presumably I was serializing and deserializing with the same version of Java so it wasn&#39;t causing a problem."}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666593073,"creation_date":1666593073,"answer_id":74177324,"question_id":74177255,"body_markdown":"The class that is causing this is `javax.swing.event.EventListenerList`.\r\n\r\nNote that you should generally avoid serializing Swing classes.  Many Swing classes state this in their javadocs:\r\n\r\n&gt;  *&quot;Serialized objects of this class will not be compatible with future Swing releases.&quot;*\r\n\r\nSo if your use-case entails serializing with one version of Java and *potentialiiy* deserializing with another version, you are liable to run into this kind of problem.\r\n","title":"java.io.invalidClassException - which class is causing it?","body":"<p>The class that is causing this is <code>javax.swing.event.EventListenerList</code>.</p>\n<p>Note that you should generally avoid serializing Swing classes.  Many Swing classes state this in their javadocs:</p>\n<blockquote>\n<p><em>&quot;Serialized objects of this class will not be compatible with future Swing releases.&quot;</em></p>\n</blockquote>\n<p>So if your use-case entails serializing with one version of Java and <em>potentialiiy</em> deserializing with another version, you are liable to run into this kind of problem.</p>\n"}],"owner":{"account_id":1246433,"reputation":93,"user_id":1207781,"display_name":"claire"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666733087,"creation_date":1666592516,"question_id":74177255,"body_markdown":"I am getting an InvalidClassException when trying to open a serialized class. The class I am trying to open is quite complex and contains several other classes. Is there any way of telling which class is causing the exception?\r\n\r\nI have set serialVersionUID on all classes and used transient variables where necessary. Presumably I have failed do to this for all classes, but I would like to find a way of locating the error without having to read through the code for every class.\r\n\r\nHere is the stack trace I&#39;m getting:\r\n\r\n    java.io.InvalidClassException: javax.swing.event.EventListenerList; local class incompatible: stream classdesc serialVersionUID = -5677132037850737084, local class serialVersionUID = -7977902244297240866\r\n        at java.base/java.io.ObjectStreamClass.initNonProxy(ObjectStreamClass.java:728)\r\n        at java.base/java.io.ObjectInputStream.readNonProxyDesc(ObjectInputStream.java:2086)\r\n        at java.base/java.io.ObjectInputStream.readClassDesc(ObjectInputStream.java:1933)\r\n        at java.base/java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2259)\r\n        at java.base/java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1768)\r\n        at java.base/java.io.ObjectInputStream$FieldValues.&lt;init&gt;(ObjectInputStream.java:2641)\r\n        at java.base/java.io.ObjectInputStream.readFields(ObjectInputStream.java:725)\r\n        at java.desktop/javax.swing.tree.DefaultTreeModel.readObject(DefaultTreeModel.java:704)\r\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:577)\r\n        at java.base/java.io.ObjectStreamClass.invokeReadObject(ObjectStreamClass.java:1231)\r\n        at java.base/java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2458)\r\n        at java.base/java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2292)\r\n        at java.base/java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1768)\r\n        at java.base/java.io.ObjectInputStream$FieldValues.&lt;init&gt;(ObjectInputStream.java:2641)\r\n        at java.base/java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2492)\r\n        at java.base/java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2292)\r\n        at java.base/java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1768)\r\n        at java.base/java.io.ObjectInputStream.readObject(ObjectInputStream.java:543)\r\n        at java.base/java.io.ObjectInputStream.readObject(ObjectInputStream.java:501)\r\n        at combined.CombinedInterface.open(CombinedInterface.java:82)\r\n        at combined.CombinedInterface.main(CombinedInterface.java:18)\r\n\r\nAlso, this problem doesn&#39;t occur when I&#39;m running the program in NetBeans, it only occurs when I&#39;m running it from a jar file outside of Netbeans.","title":"java.io.invalidClassException - which class is causing it?","body":"<p>I am getting an InvalidClassException when trying to open a serialized class. The class I am trying to open is quite complex and contains several other classes. Is there any way of telling which class is causing the exception?</p>\n<p>I have set serialVersionUID on all classes and used transient variables where necessary. Presumably I have failed do to this for all classes, but I would like to find a way of locating the error without having to read through the code for every class.</p>\n<p>Here is the stack trace I'm getting:</p>\n<pre><code>java.io.InvalidClassException: javax.swing.event.EventListenerList; local class incompatible: stream classdesc serialVersionUID = -5677132037850737084, local class serialVersionUID = -7977902244297240866\n    at java.base/java.io.ObjectStreamClass.initNonProxy(ObjectStreamClass.java:728)\n    at java.base/java.io.ObjectInputStream.readNonProxyDesc(ObjectInputStream.java:2086)\n    at java.base/java.io.ObjectInputStream.readClassDesc(ObjectInputStream.java:1933)\n    at java.base/java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2259)\n    at java.base/java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1768)\n    at java.base/java.io.ObjectInputStream$FieldValues.&lt;init&gt;(ObjectInputStream.java:2641)\n    at java.base/java.io.ObjectInputStream.readFields(ObjectInputStream.java:725)\n    at java.desktop/javax.swing.tree.DefaultTreeModel.readObject(DefaultTreeModel.java:704)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:577)\n    at java.base/java.io.ObjectStreamClass.invokeReadObject(ObjectStreamClass.java:1231)\n    at java.base/java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2458)\n    at java.base/java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2292)\n    at java.base/java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1768)\n    at java.base/java.io.ObjectInputStream$FieldValues.&lt;init&gt;(ObjectInputStream.java:2641)\n    at java.base/java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2492)\n    at java.base/java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2292)\n    at java.base/java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1768)\n    at java.base/java.io.ObjectInputStream.readObject(ObjectInputStream.java:543)\n    at java.base/java.io.ObjectInputStream.readObject(ObjectInputStream.java:501)\n    at combined.CombinedInterface.open(CombinedInterface.java:82)\n    at combined.CombinedInterface.main(CombinedInterface.java:18)\n</code></pre>\n<p>Also, this problem doesn't occur when I'm running the program in NetBeans, it only occurs when I'm running it from a jar file outside of Netbeans.</p>\n"},{"tags":["java"],"answers":[{"comments":[{"owner":{"account_id":2846024,"reputation":139,"user_id":2444400,"accept_rate":27,"display_name":"user2444400"},"score":0,"creation_date":1454805117,"post_id":35248300,"comment_id":58210327,"body_markdown":"Hm. I think I imght&#39;ve fixed it by putting a try and catch into the code. Was it not possible to open files without a try?","body":"Hm. I think I imght&#39;ve fixed it by putting a try and catch into the code. Was it not possible to open files without a try?"},{"owner":{"account_id":4361066,"reputation":2144,"user_id":3558133,"display_name":"Marcinek"},"score":0,"creation_date":1454805268,"post_id":35248300,"comment_id":58210358,"body_markdown":"Sorry, i can&#39;t follow you. Please ask one question per question. Scanner throws a FileNotFoundException you have to catch this, but the error would be different then","body":"Sorry, i can&#39;t follow you. Please ask one question per question. Scanner throws a FileNotFoundException you have to catch this, but the error would be different then"}],"tags":[],"owner":{"account_id":4361066,"reputation":2144,"user_id":3558133,"display_name":"Marcinek"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1454805416,"creation_date":1454804940,"answer_id":35248300,"question_id":35248238,"body_markdown":"Every java jvm has a working path. Usually it is the same from where the jvm is started. But you always can change this.\r\n\r\nYour IDE has a default working path set. Depending on your IDE this can be changed in the starting options.\r\n\r\nTo find your current working path you can just print the absolute path to the current directory:\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSystem.out.println(new File(&quot;.&quot;).getAbsolutePath());\r\n\t}\r\n\r\nYou should have your file in this folder if you are using relative path.\r\n\r\nHow ever using an absolute path should not throw any FNF exception.\r\n\r\n---\r\nTo use the scanner you can use this example:\r\n\r\n        try {\r\n\t\t\tScanner s = new Scanner(new FileInputStream(&quot;text.xml&quot;));\r\n\t\t\t\r\n\t\t\twhile (s.hasNextInt()){ \r\n\t\t\t // bla bla\r\n\t\t\t}\r\n\t\t} catch (FileNotFoundException e) {\r\n\t\t\t// Please handle this exception ;)\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\nPlease note, that you try to invoke `hasNextInt()` on a `File` object which does not have such method. You have to invoke it on a `Scanner` object.\r\n","title":"java.io.FileNotFoundException. Trying to pass in args[0]","body":"<p>Every java jvm has a working path. Usually it is the same from where the jvm is started. But you always can change this.</p>\n\n<p>Your IDE has a default working path set. Depending on your IDE this can be changed in the starting options.</p>\n\n<p>To find your current working path you can just print the absolute path to the current directory:</p>\n\n<pre><code>public static void main(String[] args) {\n    System.out.println(new File(\".\").getAbsolutePath());\n}\n</code></pre>\n\n<p>You should have your file in this folder if you are using relative path.</p>\n\n<p>How ever using an absolute path should not throw any FNF exception.</p>\n\n<hr>\n\n<p>To use the scanner you can use this example:</p>\n\n<pre><code>    try {\n        Scanner s = new Scanner(new FileInputStream(\"text.xml\"));\n\n        while (s.hasNextInt()){ \n         // bla bla\n        }\n    } catch (FileNotFoundException e) {\n        // Please handle this exception ;)\n        e.printStackTrace();\n    }\n</code></pre>\n\n<p>Please note, that you try to invoke <code>hasNextInt()</code> on a <code>File</code> object which does not have such method. You have to invoke it on a <code>Scanner</code> object.</p>\n"},{"tags":[],"owner":{"display_name":"user5616935"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1454805010,"creation_date":1454805010,"answer_id":35248308,"question_id":35248238,"body_markdown":"simple code in files use accordingly\r\n\r\n    BufferedReader br = null;\r\n\r\n\t\ttry {\r\n\r\n\t\t\tString sCurrentLine;\r\n\r\n\t\t\tbr = new BufferedReader(new FileReader(&quot;C:\\\\testing.txt&quot;));\r\n\r\n\t\t\twhile ((sCurrentLine = br.readLine()) != null) {\r\n\t\t\t\tSystem.out.println(sCurrentLine);\r\n\t\t\t}","title":"java.io.FileNotFoundException. Trying to pass in args[0]","body":"<p>simple code in files use accordingly</p>\n\n<pre><code>BufferedReader br = null;\n\n    try {\n\n        String sCurrentLine;\n\n        br = new BufferedReader(new FileReader(\"C:\\\\testing.txt\"));\n\n        while ((sCurrentLine = br.readLine()) != null) {\n            System.out.println(sCurrentLine);\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26538697,"reputation":11,"user_id":20169811,"display_name":"MaiNgo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666733060,"creation_date":1666413799,"answer_id":74161124,"question_id":35248238,"body_markdown":"Lets try this solution using `.getAbsolutePath()` or `.getCanonicalPath()` \r\n\r\n```java\r\nimport java.util.*;\r\nimport java.io.*;\r\npublic class Main {\r\n\r\n    public static void main(String[] args) throws IOException {\r\n\r\n        // write your code here\r\n\r\n\r\n        Scanner scan = new Scanner(System.in);\r\n\r\n        String input = scan.nextLine();\r\n        //FileInputStream file = new FileInputStream(input);\r\n        File file = new File(input);\r\n        //String inputF = file.getAbsolutePath().replace(&quot;\\\\&quot;, &quot;\\\\\\\\&quot;);\r\n        String inputF = file.getCanonicalPath().replace(&quot;\\\\&quot;, &quot;\\\\\\\\&quot;);\r\n\r\n\r\n        File n = new File(inputF);\r\n        Scanner nq = new Scanner(n);\r\n        while (nq.hasNext()) {\r\n            String data = nq.nextLine();\r\n            System.out.println(data);\r\n\r\n\r\n        }\r\n    }\r\n}\r\n```\r\nInput:\r\ntext.txt\r\n\r\n\r\nYou can visit this to understand more these methods: https://www.digitalocean.com/community/tutorials/java-file-path-absolute-canonical\r\n","title":"java.io.FileNotFoundException. Trying to pass in args[0]","body":"<p>Lets try this solution using <code>.getAbsolutePath()</code> or <code>.getCanonicalPath()</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\nimport java.io.*;\npublic class Main {\n\n    public static void main(String[] args) throws IOException {\n\n        // write your code here\n\n\n        Scanner scan = new Scanner(System.in);\n\n        String input = scan.nextLine();\n        //FileInputStream file = new FileInputStream(input);\n        File file = new File(input);\n        //String inputF = file.getAbsolutePath().replace(&quot;\\\\&quot;, &quot;\\\\\\\\&quot;);\n        String inputF = file.getCanonicalPath().replace(&quot;\\\\&quot;, &quot;\\\\\\\\&quot;);\n\n\n        File n = new File(inputF);\n        Scanner nq = new Scanner(n);\n        while (nq.hasNext()) {\n            String data = nq.nextLine();\n            System.out.println(data);\n\n\n        }\n    }\n}\n</code></pre>\n<p>Input:\ntext.txt</p>\n<p>You can visit this to understand more these methods: <a href=\"https://www.digitalocean.com/community/tutorials/java-file-path-absolute-canonical\" rel=\"nofollow noreferrer\">https://www.digitalocean.com/community/tutorials/java-file-path-absolute-canonical</a></p>\n"}],"owner":{"account_id":2846024,"reputation":139,"user_id":2444400,"accept_rate":27,"display_name":"user2444400"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1417,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1666733060,"creation_date":1454804457,"question_id":35248238,"body_markdown":"I&#39;ve been trying to convert my C++ code into Java and I&#39;m getting stuck particularly on the file input.\r\n\r\n    String inputfilename = args[0];\r\n        Scanner infile = new Scanner (new FileInputStream(inputfilename));\r\n\r\n\r\nThis keeps giving me a java.io.FileNotFoundException error. My file that I&#39;m trying to pass in &quot;StackData.txt&quot; is put correctly into the command line arguements. I&#39;ve put it in the root directory and the project\\src\\ folder, and neither are working for me. I&#39;ve tried to name the inputfilename string and do   like -\r\n\r\n    String inputfilename = &quot;StackData.txt&quot;;\r\n    Scanner infile = new Scanner (new FileInputStream(inputfilename));\r\n\r\n\r\nand that doesn&#39;t seem to work either. Neither does trying to throw the directory path into the string name also. Am I making a really juvenile error somewhere?\r\n\r\nI&#39;ve tried using \r\n   \r\n    File infile = new File(args[0]);\r\n\r\nas well but if I try to use a method for my while loop\r\n\r\n    while (infile.hasNextInt()){ blah blah\r\n     }\r\n\r\nit says the method cannot be resolved, which I figured means to use the hasNextInt() method I have to initiate the file with FileInputStream.","title":"java.io.FileNotFoundException. Trying to pass in args[0]","body":"<p>I've been trying to convert my C++ code into Java and I'm getting stuck particularly on the file input.</p>\n\n<pre><code>String inputfilename = args[0];\n    Scanner infile = new Scanner (new FileInputStream(inputfilename));\n</code></pre>\n\n<p>This keeps giving me a java.io.FileNotFoundException error. My file that I'm trying to pass in \"StackData.txt\" is put correctly into the command line arguements. I've put it in the root directory and the project\\src\\ folder, and neither are working for me. I've tried to name the inputfilename string and do   like -</p>\n\n<pre><code>String inputfilename = \"StackData.txt\";\nScanner infile = new Scanner (new FileInputStream(inputfilename));\n</code></pre>\n\n<p>and that doesn't seem to work either. Neither does trying to throw the directory path into the string name also. Am I making a really juvenile error somewhere?</p>\n\n<p>I've tried using </p>\n\n<pre><code>File infile = new File(args[0]);\n</code></pre>\n\n<p>as well but if I try to use a method for my while loop</p>\n\n<pre><code>while (infile.hasNextInt()){ blah blah\n }\n</code></pre>\n\n<p>it says the method cannot be resolved, which I figured means to use the hasNextInt() method I have to initiate the file with FileInputStream.</p>\n"},{"tags":["java","spring-boot","groovy","spock"],"answers":[{"comments":[{"owner":{"account_id":13104635,"reputation":186,"user_id":9467865,"display_name":"Dariusz Urbanek"},"score":0,"creation_date":1666724417,"post_id":74197194,"comment_id":131003095,"body_markdown":"Thanks for this answer but I don&#39;t think it will work for me. I need information &quot;hidden&quot; in the opaque token later in the code.","body":"Thanks for this answer but I don&#39;t think it will work for me. I need information &quot;hidden&quot; in the opaque token later in the code."},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1666724956,"post_id":74197194,"comment_id":131003237,"body_markdown":"Yes, it does work. The information associated to the token is not &quot;hidden&quot; anymore after token introspection, which happens before `BearerTokenAuthentication` is build and put in security context.","body":"Yes, it does work. The information associated to the token is not &quot;hidden&quot; anymore after token introspection, which happens before <code>BearerTokenAuthentication</code> is build and put in security context."},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1666732116,"post_id":74197194,"comment_id":131005268,"body_markdown":"@DariuszUrbanek see my updated answer: how do you plan to test a secured `@Component` that is not a `@Controller`? Also please, be curious enough to try the proposed solution and also to inspect, from within a controller or service at runtime (with a real token introspection), the content of `((BearerTokenAuthentication) SecurityContextHolder.getContext().getAuthentication()).getTokenAttributes()`: you should see the information is not hidden in there.","body":"@DariuszUrbanek see my updated answer: how do you plan to test a secured <code>@Component</code> that is not a <code>@Controller</code>? Also please, be curious enough to try the proposed solution and also to inspect, from within a controller or service at runtime (with a real token introspection), the content of <code>((BearerTokenAuthentication) SecurityContextHolder.getContext().getAuthentication()).getT&zwnj;&#8203;okenAttributes()</code>: you should see the information is not hidden in there."},{"owner":{"account_id":13104635,"reputation":186,"user_id":9467865,"display_name":"Dariusz Urbanek"},"score":0,"creation_date":1666768348,"post_id":74197194,"comment_id":131011572,"body_markdown":"For some reason I am having problems with your dependency:\n `Could not resolve com.c4-soft.springaddons:spring-addons-oauth2-test:6.0.3`\nAlso, Your test works with annotated @Test - what about Spock and Groovy? Will it be applicable? I am keen to try it anyway, but will probably have to park it for now.","body":"For some reason I am having problems with your dependency:  <code>Could not resolve com.c4-soft.springaddons:spring-addons-oauth2-test:6.0.3</code> Also, Your test works with annotated @Test - what about Spock and Groovy? Will it be applicable? I am keen to try it anyway, but will probably have to park it for now."},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1666800562,"post_id":74197194,"comment_id":131023137,"body_markdown":"You might have a typo or issue to access maven-central https://repo1.maven.org/maven2/com/c4-soft/springaddons/spring-addons-oauth2-test/6.0.3/ And yes, as already wrote, annotation should work the same with Spock + Groovy as it does with the samples @Test linked (written with JUnit +Java)","body":"You might have a typo or issue to access maven-central <a href=\"https://repo1.maven.org/maven2/com/c4-soft/springaddons/spring-addons-oauth2-test/6.0.3/\" rel=\"nofollow noreferrer\">repo1.maven.org/maven2/com/c4-soft/springaddons/&hellip;</a> And yes, as already wrote, annotation should work the same with Spock + Groovy as it does with the samples @Test linked (written with JUnit +Java)"}],"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666733018,"creation_date":1666714626,"answer_id":74197194,"question_id":74194362,"body_markdown":"There is no difference between Spock and JUnit when mocking spring security-context. You can provide with mocked `Authentication` for both unit (`@WebFluxTest`) and integration (`@SpringBootTest`) with either:\r\n- `org.springframework.security.test.web.reactive.server.SecurityMockServerConfigurers.mockOpaqueToken` mutator for WebTestClient\r\n- `@WithMockBearerTokenAuthentication` annotation.\r\n\r\nMocked `BearerTokenAuthentication`, Spring&#39;s auth implementation for token introspection (unless you explicitly changed it in your conf), is put in test security-context directly by annotation or mutator: authorization header is not introspected (it is completely ignored and can be omitted).\r\n\r\nSample (with JUnit, just adapt to your test framework) in [this project][1]:\r\n```java\r\n@Test\r\nvoid securedRouteWithAuthorizedPersonnelViaMutatorIsOk() throws Exception {\r\n    api\r\n        .mutateWith(mockOpaqueToken()\r\n            .attributes(attributes -&gt; attributes.put(StandardClaimNames.PREFERRED_USERNAME, &quot;Ch4mpy&quot;))\r\n            .authorities(new SimpleGrantedAuthority(&quot;ROLE_AUTHORIZED_PERSONNEL&quot;)))\r\n        .get().uri(&quot;https://localhost/secured-route&quot;)\r\n        .exchange()\r\n        .expectStatus().isOk();\r\n}\r\n\r\n@Test\r\n@WithMockBearerTokenAuthentication(\r\n    authorities = &quot;ROLE_AUTHORIZED_PERSONNEL&quot;,\r\n    attributes = @OpenIdClaims(preferredUsername = &quot;Ch4mpy&quot;))\r\nvoid securedRouteWithAuthorizedPersonnelViaAnnotationIsOk() throws Exception {\r\n    api\r\n        .get().uri(&quot;https://localhost/secured-route&quot;)\r\n        .exchange()\r\n        .expectStatus().isOk();\r\n}\r\n```\r\n\r\nWhen testing other secured `@Component` type than `@Controller` (like `@Service` or `@Repository`), only test annotation is usable as there is no HTTP request:\r\n```java\r\n@Import({ SecurityConfig.class, SecretRepo.class })\r\nclass SecretRepoTest {\r\n    // auto-wire tested component\r\n    @Autowired\r\n    SecretRepo secretRepo;\r\n\r\n    @Test\r\n    void whenNotAuthenticatedThenThrows() {\r\n        // call tested components methods directly (do not use MockMvc nor\r\n        // WebTestClient)\r\n        assertThrows(Exception.class, () -&gt; secretRepo.findSecretByUsername(&quot;ch4mpy&quot;).block());\r\n    }\r\n\r\n    @Test\r\n    @WithMockBearerTokenAuthentication(attributes = @OpenIdClaims(preferredUsername = &quot;Tonton Pirate&quot;))\r\n    void whenAuthenticatedAsSomeoneElseThenThrows() {\r\n        assertThrows(Exception.class, () -&gt; secretRepo.findSecretByUsername(&quot;ch4mpy&quot;).block());\r\n    }\r\n\r\n    @Test\r\n    @WithMockBearerTokenAuthentication(attributes = @OpenIdClaims(preferredUsername = &quot;ch4mpy&quot;))\r\n    void whenAuthenticatedWithSameUsernameThenReturns() {\r\n        assertEquals(&quot;Don&#39;t ever tell it&quot;, secretRepo.findSecretByUsername(&quot;ch4mpy&quot;).block());\r\n    }\r\n}\r\n```\r\n\r\nAnnotation is available from\r\n```xml\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;com.c4-soft.springaddons&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-addons-oauth2-test&lt;/artifactId&gt;\r\n\t&lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\nWhich is a transient dependency of\r\n```xml\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;com.c4-soft.springaddons&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-addons-webflux-introspecting-test&lt;/artifactId&gt;\r\n\t&lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\nI used the later in sample to also have `WebTestClientSupport`, but first is enough for just test annotations.  \r\n\r\n  [1]: https://github.com/ch4mpy/spring-addons/tree/master/samples/webflux-introspecting-default","title":"How to mock OAuth2 token introspect using Spock","body":"<p>There is no difference between Spock and JUnit when mocking spring security-context. You can provide with mocked <code>Authentication</code> for both unit (<code>@WebFluxTest</code>) and integration (<code>@SpringBootTest</code>) with either:</p>\n<ul>\n<li><code>org.springframework.security.test.web.reactive.server.SecurityMockServerConfigurers.mockOpaqueToken</code> mutator for WebTestClient</li>\n<li><code>@WithMockBearerTokenAuthentication</code> annotation.</li>\n</ul>\n<p>Mocked <code>BearerTokenAuthentication</code>, Spring's auth implementation for token introspection (unless you explicitly changed it in your conf), is put in test security-context directly by annotation or mutator: authorization header is not introspected (it is completely ignored and can be omitted).</p>\n<p>Sample (with JUnit, just adapt to your test framework) in <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/webflux-introspecting-default\" rel=\"nofollow noreferrer\">this project</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\nvoid securedRouteWithAuthorizedPersonnelViaMutatorIsOk() throws Exception {\n    api\n        .mutateWith(mockOpaqueToken()\n            .attributes(attributes -&gt; attributes.put(StandardClaimNames.PREFERRED_USERNAME, &quot;Ch4mpy&quot;))\n            .authorities(new SimpleGrantedAuthority(&quot;ROLE_AUTHORIZED_PERSONNEL&quot;)))\n        .get().uri(&quot;https://localhost/secured-route&quot;)\n        .exchange()\n        .expectStatus().isOk();\n}\n\n@Test\n@WithMockBearerTokenAuthentication(\n    authorities = &quot;ROLE_AUTHORIZED_PERSONNEL&quot;,\n    attributes = @OpenIdClaims(preferredUsername = &quot;Ch4mpy&quot;))\nvoid securedRouteWithAuthorizedPersonnelViaAnnotationIsOk() throws Exception {\n    api\n        .get().uri(&quot;https://localhost/secured-route&quot;)\n        .exchange()\n        .expectStatus().isOk();\n}\n</code></pre>\n<p>When testing other secured <code>@Component</code> type than <code>@Controller</code> (like <code>@Service</code> or <code>@Repository</code>), only test annotation is usable as there is no HTTP request:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Import({ SecurityConfig.class, SecretRepo.class })\nclass SecretRepoTest {\n    // auto-wire tested component\n    @Autowired\n    SecretRepo secretRepo;\n\n    @Test\n    void whenNotAuthenticatedThenThrows() {\n        // call tested components methods directly (do not use MockMvc nor\n        // WebTestClient)\n        assertThrows(Exception.class, () -&gt; secretRepo.findSecretByUsername(&quot;ch4mpy&quot;).block());\n    }\n\n    @Test\n    @WithMockBearerTokenAuthentication(attributes = @OpenIdClaims(preferredUsername = &quot;Tonton Pirate&quot;))\n    void whenAuthenticatedAsSomeoneElseThenThrows() {\n        assertThrows(Exception.class, () -&gt; secretRepo.findSecretByUsername(&quot;ch4mpy&quot;).block());\n    }\n\n    @Test\n    @WithMockBearerTokenAuthentication(attributes = @OpenIdClaims(preferredUsername = &quot;ch4mpy&quot;))\n    void whenAuthenticatedWithSameUsernameThenReturns() {\n        assertEquals(&quot;Don't ever tell it&quot;, secretRepo.findSecretByUsername(&quot;ch4mpy&quot;).block());\n    }\n}\n</code></pre>\n<p>Annotation is available from</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.c4-soft.springaddons&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-addons-oauth2-test&lt;/artifactId&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Which is a transient dependency of</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.c4-soft.springaddons&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-addons-webflux-introspecting-test&lt;/artifactId&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I used the later in sample to also have <code>WebTestClientSupport</code>, but first is enough for just test annotations.</p>\n"},{"comments":[{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1666730851,"post_id":74198888,"comment_id":131004907,"body_markdown":"Consider how more verbose this is compared to test annotation exposed in my answer. Also this solution requires to maintain a separate json test resource for each and every user profile. Last, even if you are not directly impacted (for now), this is applicable for introspection only and not for JWT decoding: JWTs are signed with authorization-server private key, which makes it impossible to produce valid JWTs for wiremock.","body":"Consider how more verbose this is compared to test annotation exposed in my answer. Also this solution requires to maintain a separate json test resource for each and every user profile. Last, even if you are not directly impacted (for now), this is applicable for introspection only and not for JWT decoding: JWTs are signed with authorization-server private key, which makes it impossible to produce valid JWTs for wiremock."},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1666733259,"post_id":74198888,"comment_id":131005543,"body_markdown":"Also, this won&#39;t work for tests that are neither `@SpringBootTest` nor `@WebFluxTest` like when unit-testing a secured `@Service` or `@Repository`","body":"Also, this won&#39;t work for tests that are neither <code>@SpringBootTest</code> nor <code>@WebFluxTest</code> like when unit-testing a secured <code>@Service</code> or <code>@Repository</code>"}],"tags":[],"owner":{"account_id":13104635,"reputation":186,"user_id":9467865,"display_name":"Dariusz Urbanek"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666724830,"creation_date":1666724024,"answer_id":74198888,"question_id":74194362,"body_markdown":"I found the solution.\r\n\r\nYou have to configure WireMockServer and then stub the response. Working solution below:\r\n\r\n``` groovy\r\n@ContextConfiguration\r\n@SpringBootTest(webEnvironment = WebEnvironment.RANDOM_PORT)\r\nclass SomeTest extends Specification {\r\n\r\n  private static final int PORT = 8089;\r\n\r\n  private WireMockServer wireMockServer;\r\n\r\n  def setup() {\r\n    wireMockServer = new WireMockServer(options().port(PORT))\r\n    wireMockServer.start()\r\n    WireMock.configureFor(&quot;localhost&quot;, wireMockServer.port())\r\n\r\n  def stubIntrospection() {\r\n    stubFor(post(&quot;/api/v1/oauth/token/introspect&quot;)\r\n        .willReturn(aResponse()\r\n            .withStatus(200)\r\n            .withHeader(&quot;Content-Type&quot;, MediaType.APPLICATION_JSON_VALUE)\r\n            .withBodyFile(&quot;path-to-my-file.json&quot;)))\r\n  }\r\n\r\n  def &quot;my test case&quot; () {\r\n\r\n    stubIntrospection()\r\n\r\n    //my test here    \r\n  }\r\n\r\n  }\r\n```\r\n","title":"How to mock OAuth2 token introspect using Spock","body":"<p>I found the solution.</p>\n<p>You have to configure WireMockServer and then stub the response. Working solution below:</p>\n<pre><code>@ContextConfiguration\n@SpringBootTest(webEnvironment = WebEnvironment.RANDOM_PORT)\nclass SomeTest extends Specification {\n\n  private static final int PORT = 8089;\n\n  private WireMockServer wireMockServer;\n\n  def setup() {\n    wireMockServer = new WireMockServer(options().port(PORT))\n    wireMockServer.start()\n    WireMock.configureFor(&quot;localhost&quot;, wireMockServer.port())\n\n  def stubIntrospection() {\n    stubFor(post(&quot;/api/v1/oauth/token/introspect&quot;)\n        .willReturn(aResponse()\n            .withStatus(200)\n            .withHeader(&quot;Content-Type&quot;, MediaType.APPLICATION_JSON_VALUE)\n            .withBodyFile(&quot;path-to-my-file.json&quot;)))\n  }\n\n  def &quot;my test case&quot; () {\n\n    stubIntrospection()\n\n    //my test here    \n  }\n\n  }\n</code></pre>\n"}],"owner":{"account_id":13104635,"reputation":186,"user_id":9467865,"display_name":"Dariusz Urbanek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":899,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1666733018,"creation_date":1666702200,"question_id":74194362,"body_markdown":"I have a spring-boot Webflux application and I am writing some tests using Spock and Groovy.\r\n\r\nMy Controllers are secured with OAuth opaque token which I need to mock a response from introspection.\r\nMy test properties are:\r\n\r\n    spring.security.oauth2.resourceserver.opaquetoken.client-id=fake_client\r\n    spring.security.oauth2.resourceserver.opaquetoken.client-secret=fake_secret\r\n    spring.security.oauth2.resourceserver.opaquetoken.introspection-uri=http://localhost:8089/api/v1/oauth/token/introspect\r\n\r\nMy test uses `WebClient` as below:\r\n\r\n``` java\r\nwebClient.post()\r\n    .uri(URL.toString()))\r\n    .accept(MediaType.APPLICATION_JSON)\r\n    .headers(http -&gt; http.setBearerAuth(&quot;bearer_token&quot;))\r\n    .exchange()\r\n    .expectStatus()\r\n    .is2xxSuccessful()\r\n```\r\n\r\n","title":"How to mock OAuth2 token introspect using Spock","body":"<p>I have a spring-boot Webflux application and I am writing some tests using Spock and Groovy.</p>\n<p>My Controllers are secured with OAuth opaque token which I need to mock a response from introspection.\nMy test properties are:</p>\n<pre><code>spring.security.oauth2.resourceserver.opaquetoken.client-id=fake_client\nspring.security.oauth2.resourceserver.opaquetoken.client-secret=fake_secret\nspring.security.oauth2.resourceserver.opaquetoken.introspection-uri=http://localhost:8089/api/v1/oauth/token/introspect\n</code></pre>\n<p>My test uses <code>WebClient</code> as below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>webClient.post()\n    .uri(URL.toString()))\n    .accept(MediaType.APPLICATION_JSON)\n    .headers(http -&gt; http.setBearerAuth(&quot;bearer_token&quot;))\n    .exchange()\n    .expectStatus()\n    .is2xxSuccessful()\n</code></pre>\n"},{"tags":["java","android","layout","android-linearlayout","android-cardview"],"answers":[{"tags":[],"owner":{"account_id":14033656,"reputation":105,"user_id":13463349,"display_name":"Chris972"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666732855,"creation_date":1666732855,"answer_id":74200315,"question_id":74008984,"body_markdown":"I finaly had to add a LinearLayout, inside the cardView; which is the one I `setSelected()` and the result is what I needed.","title":"migrate LinearLayout to Cardview selectable","body":"<p>I finaly had to add a LinearLayout, inside the cardView; which is the one I <code>setSelected()</code> and the result is what I needed.</p>\n"}],"owner":{"account_id":14033656,"reputation":105,"user_id":13463349,"display_name":"Chris972"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74200315,"answer_count":1,"score":0,"last_activity_date":1666732855,"creation_date":1665356876,"question_id":74008984,"body_markdown":"My recyclerview is:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout android:layout_width=&quot;match_parent&quot;\r\n    \txmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    \txmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    \tandroid:layout_height=&quot;wrap_content&quot;\r\n    \tandroid:orientation=&quot;horizontal&quot;\r\n    \tandroid:background=&quot;@drawable/recyclerview_highlight&quot;\r\n    \tandroid:layout_margin=&quot;6dp&quot;&gt;\r\n    \r\n    \t&lt;androidx.constraintlayout.widget.ConstraintLayout\r\n    \t\tandroid:layout_width=&quot;match_parent&quot;\r\n    \t\tandroid:layout_height=&quot;wrap_content&quot;\r\n    \t\tandroid:padding=&quot;6dp&quot;&gt;\r\n    \r\n    \t\t&lt;TextView\r\n    \t\t\tandroid:id=&quot;@+id/articleCategTextView&quot;\r\n    \t\t\tandroid:layout_width=&quot;0dp&quot;\r\n    \t\t\tandroid:layout_height=&quot;wrap_content&quot;\r\n    \t\t\tandroid:ellipsize=&quot;end&quot;\r\n    \t\t\tandroid:maxLines=&quot;1&quot;\r\n    \t\t\tandroid:text=&quot;@null&quot;\r\n    \t\t\tapp:layout_constraintBottom_toTopOf=&quot;@id/articleNameTextView&quot;\r\n    \t\t\tapp:layout_constraintRight_toLeftOf=&quot;@id/articleQteTextView&quot;\r\n    \t\t\tapp:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n    \t\t\tapp:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n    \r\n    \t\t&lt;TextView\r\n    \t\t\tandroid:id=&quot;@+id/articleQteTextView&quot;\r\n    \t\t\tandroid:layout_width=&quot;wrap_content&quot;\r\n    \t\t\tandroid:layout_height=&quot;wrap_content&quot;\r\n    \t\t\tapp:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n    \t\t\tapp:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n    \t\t\tapp:layout_constraintLeft_toRightOf=&quot;@id/articleCategTextView&quot;\r\n    \t\t\tapp:layout_constraintBottom_toTopOf=&quot;@id/articleNameTextView&quot;\r\n    \t\t\tandroid:text=&quot;@null&quot; /&gt;\r\n    \r\n    \t\t&lt;TextView\r\n    \t\t\tandroid:id=&quot;@+id/articleNameTextView&quot;\r\n    \t\t\tandroid:layout_width=&quot;match_parent&quot;\r\n    \t\t\tandroid:layout_height=&quot;wrap_content&quot;\r\n    \t\t\tandroid:ellipsize=&quot;end&quot;\r\n    \t\t\tandroid:maxLines=&quot;1&quot;\r\n    \t\t\tapp:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n    \t\t\tandroid:text=&quot;@null&quot; /&gt;\r\n    \r\n    \t&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n    \r\n    &lt;/LinearLayout&gt;\r\n\r\n**@drawable/recyclerview_highlight**:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;selector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n    \t&lt;item android:state_selected=&quot;true&quot; android:drawable=&quot;@color/selected_color&quot;/&gt;\r\n    &lt;/selector&gt;\r\n\r\nIn &quot;onBindViewHolder&quot;, I highlight it, when selected with:\r\n\r\n    holder.itemView.setSelected(article.isSelected());\r\n\r\nAll is ok BUT, for a little more visual elegance, I wanted to transform the LinearLayout into Cardview.\r\nAnd when I try it, setSelected has not effect anymore. I even try to &quot;setActivated&quot; with state_activated but not better.\r\n\r\nWhat should I modify to obtain the same type of operation? Is it at the level of the layout, the selector or the java code, and what to use instead of &quot;selected&quot;?","title":"migrate LinearLayout to Cardview selectable","body":"<p>My recyclerview is:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout android:layout_width=&quot;match_parent&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:orientation=&quot;horizontal&quot;\n    android:background=&quot;@drawable/recyclerview_highlight&quot;\n    android:layout_margin=&quot;6dp&quot;&gt;\n\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:padding=&quot;6dp&quot;&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/articleCategTextView&quot;\n            android:layout_width=&quot;0dp&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:ellipsize=&quot;end&quot;\n            android:maxLines=&quot;1&quot;\n            android:text=&quot;@null&quot;\n            app:layout_constraintBottom_toTopOf=&quot;@id/articleNameTextView&quot;\n            app:layout_constraintRight_toLeftOf=&quot;@id/articleQteTextView&quot;\n            app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/articleQteTextView&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintLeft_toRightOf=&quot;@id/articleCategTextView&quot;\n            app:layout_constraintBottom_toTopOf=&quot;@id/articleNameTextView&quot;\n            android:text=&quot;@null&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/articleNameTextView&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:ellipsize=&quot;end&quot;\n            android:maxLines=&quot;1&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            android:text=&quot;@null&quot; /&gt;\n\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n<p><strong>@drawable/recyclerview_highlight</strong>:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;selector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n    &lt;item android:state_selected=&quot;true&quot; android:drawable=&quot;@color/selected_color&quot;/&gt;\n&lt;/selector&gt;\n</code></pre>\n<p>In &quot;onBindViewHolder&quot;, I highlight it, when selected with:</p>\n<pre><code>holder.itemView.setSelected(article.isSelected());\n</code></pre>\n<p>All is ok BUT, for a little more visual elegance, I wanted to transform the LinearLayout into Cardview.\nAnd when I try it, setSelected has not effect anymore. I even try to &quot;setActivated&quot; with state_activated but not better.</p>\n<p>What should I modify to obtain the same type of operation? Is it at the level of the layout, the selector or the java code, and what to use instead of &quot;selected&quot;?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1666642994,"post_id":74186364,"comment_id":130981697,"body_markdown":"Hi &amp; welcome! ..introduce variable (before while loop) `int count = 0;` ..change your while condition to `while(running &amp;&amp; count &lt; 3)`.. increment `count` in the according blocks (alternatively: increment it &quot;generally&quot;&amp; decrement &quot;where needed&quot;)","body":"Hi &amp; welcome! ..introduce variable (before while loop) <code>int count = 0;</code> ..change your while condition to <code>while(running &amp;&amp; count &lt; 3)</code>.. increment <code>count</code> in the according blocks (alternatively: increment it &quot;generally&quot;&amp; decrement &quot;where needed&quot;)"},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1666643010,"post_id":74186364,"comment_id":130981702,"body_markdown":"Add an `int` variable, initialized to 0, and increase it for each question. Set `running` to `false` when your counter is 3.","body":"Add an <code>int</code> variable, initialized to 0, and increase it for each question. Set <code>running</code> to <code>false</code> when your counter is 3."},{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":0,"creation_date":1666643509,"post_id":74186364,"comment_id":130981835,"body_markdown":"Sorry Basil, but none of the dupes you linked would actually answer this question.  This one&#39;s deceptively more straightforward than just a forever-loop for a break.","body":"Sorry Basil, but none of the dupes you linked would actually answer this question.  This one&#39;s deceptively more straightforward than just a forever-loop for a break."}],"answers":[{"tags":[],"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666643444,"creation_date":1666643444,"answer_id":74186514,"question_id":74186364,"body_markdown":"1. Change `running` from `boolean` to `int`.  Call it `runningCount`.\r\n2. Establish your `while` loop to only run while `runningCount &lt; 3`.\r\n3. In each question, *increment* `runningCount`.\r\n\r\nThe application will stop after you ask three questions as you require.","title":"How to make the program end after 3 questions in java?","body":"<ol>\n<li>Change <code>running</code> from <code>boolean</code> to <code>int</code>.  Call it <code>runningCount</code>.</li>\n<li>Establish your <code>while</code> loop to only run while <code>runningCount &lt; 3</code>.</li>\n<li>In each question, <em>increment</em> <code>runningCount</code>.</li>\n</ol>\n<p>The application will stop after you ask three questions as you require.</p>\n"}],"owner":{"account_id":26720968,"reputation":9,"user_id":20324821,"display_name":"mrspjsh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1666732682,"creation_date":1666642606,"question_id":74186364,"body_markdown":"I made a program that answers individual questions and I would like it to end after asking 3 questions in any order. I only did that when I write Bye, the program will end and I don&#39;t know how to turn it into these 3 questions. I would like the answer to this question to be related to this code, please\r\n\r\n    import java.util.Scanner;\r\n        \r\n    class Bot {\r\n        public static void main(String[] args) {\r\n            System.out.println(&quot;QUESTIONS: How old are you? | What is your name? | What did you eat for breakfast?&quot;);\r\n            System.out.println(&quot;Ask a question?&quot;);\r\n        \r\n            Scanner pytania = new Scanner(System.in);\r\n            String input;\r\n            \r\n            boolean running = true;\r\n            while (running) {\r\n                System.out.println(&quot; &quot;);\r\n                input = pytania.nextLine();\r\n        \r\n                if (input.equals(&quot;How old are you?&quot;)) {\r\n                    System.out.println(&quot;I am 125 years old&quot;);\r\n                } else if (input.equals(&quot;Bye&quot;)) {\r\n                    System.out.println(&quot;Bye!&quot;);\r\n                    running = false;\r\n                } else if (input.equals(&quot;What is your name?&quot;)) {\r\n                    System.out.println(&quot;My name is Christopher&quot;);\r\n                } else if (input.equals(&quot;What did you eat for breakfast?&quot;)) {\r\n                    System.out.println(&quot;I had scrambled eggs for breakfast&quot;);\r\n                } else {\r\n                    System.out.println(&quot;Sorry, I don&#39;t understand the question!&quot;);\r\n                }\r\n            }\r\n        }\r\n    }","title":"How to make the program end after 3 questions in java?","body":"<p>I made a program that answers individual questions and I would like it to end after asking 3 questions in any order. I only did that when I write Bye, the program will end and I don't know how to turn it into these 3 questions. I would like the answer to this question to be related to this code, please</p>\n<pre><code>import java.util.Scanner;\n    \nclass Bot {\n    public static void main(String[] args) {\n        System.out.println(&quot;QUESTIONS: How old are you? | What is your name? | What did you eat for breakfast?&quot;);\n        System.out.println(&quot;Ask a question?&quot;);\n    \n        Scanner pytania = new Scanner(System.in);\n        String input;\n        \n        boolean running = true;\n        while (running) {\n            System.out.println(&quot; &quot;);\n            input = pytania.nextLine();\n    \n            if (input.equals(&quot;How old are you?&quot;)) {\n                System.out.println(&quot;I am 125 years old&quot;);\n            } else if (input.equals(&quot;Bye&quot;)) {\n                System.out.println(&quot;Bye!&quot;);\n                running = false;\n            } else if (input.equals(&quot;What is your name?&quot;)) {\n                System.out.println(&quot;My name is Christopher&quot;);\n            } else if (input.equals(&quot;What did you eat for breakfast?&quot;)) {\n                System.out.println(&quot;I had scrambled eggs for breakfast&quot;);\n            } else {\n                System.out.println(&quot;Sorry, I don't understand the question!&quot;);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","android","azure","azure-maps"],"answers":[{"comments":[{"owner":{"account_id":25794920,"reputation":49,"user_id":19538282,"display_name":"Francisco Torres"},"score":0,"creation_date":1666631530,"post_id":74184337,"comment_id":130978093,"body_markdown":"Ok, thanks man, i was strugling to get that code, apreciated.","body":"Ok, thanks man, i was strugling to get that code, apreciated."},{"owner":{"account_id":1293887,"reputation":17020,"user_id":1245450,"display_name":"rbrundritt"},"score":0,"creation_date":1666633979,"post_id":74184337,"comment_id":130978850,"body_markdown":"It came from these docs: https://learn.microsoft.com/en-us/azure/azure-maps/set-android-map-styles?pivots=programming-language-java-android","body":"It came from these docs: <a href=\"https://learn.microsoft.com/en-us/azure/azure-maps/set-android-map-styles?pivots=programming-language-java-android\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/azure/azure-maps/&hellip;</a>"},{"owner":{"account_id":25794920,"reputation":49,"user_id":19538282,"display_name":"Francisco Torres"},"score":0,"creation_date":1666690920,"post_id":74184337,"comment_id":130991572,"body_markdown":"Yes, but it wont acept the zoom call, it says it needs an expression, ive tried everything and nothing works. i can only center the map, but cant zoom in","body":"Yes, but it wont acept the zoom call, it says it needs an expression, ive tried everything and nothing works. i can only center the map, but cant zoom in"},{"owner":{"account_id":1293887,"reputation":17020,"user_id":1245450,"display_name":"rbrundritt"},"score":0,"creation_date":1666711813,"post_id":74184337,"comment_id":130999102,"body_markdown":"That doesn&#39;t sound right. But if that&#39;s the case try the `literal` expression, like `zoom(literal(14))`","body":"That doesn&#39;t sound right. But if that&#39;s the case try the <code>literal</code> expression, like <code>zoom(literal(14))</code>"},{"owner":{"account_id":25794920,"reputation":49,"user_id":19538282,"display_name":"Francisco Torres"},"score":1,"creation_date":1666718463,"post_id":74184337,"comment_id":131001373,"body_markdown":"I figure it out, i just needed to add cameraOptions.zoom(), dont knwo why, but it worked. Thanks","body":"I figure it out, i just needed to add cameraOptions.zoom(), dont knwo why, but it worked. Thanks"}],"tags":[],"owner":{"account_id":1293887,"reputation":17020,"user_id":1245450,"display_name":"rbrundritt"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666630052,"creation_date":1666630052,"answer_id":74184337,"question_id":74184131,"body_markdown":"You can use the maps `setCamera` function like this:\r\n\r\n```\r\nmap.setCamera(center(Point.fromLngLat(-122.33, 47.64)), zoom(14));\r\n```","title":"How do I send my map to a specific coordinate on Azure maps for Android?","body":"<p>You can use the maps <code>setCamera</code> function like this:</p>\n<pre><code>map.setCamera(center(Point.fromLngLat(-122.33, 47.64)), zoom(14));\n</code></pre>\n"}],"owner":{"account_id":25794920,"reputation":49,"user_id":19538282,"display_name":"Francisco Torres"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74184337,"answer_count":1,"score":1,"last_activity_date":1666732619,"creation_date":1666628891,"question_id":74184131,"body_markdown":"So, I have my map all configured, but I can&#39;t find the way to center it on a specific coordinate and zoom in. Does anyone know how to do that on Android?\r\n\r\nHere is my function where I receive an array with both coordinates.\r\n\r\n```\r\nmBtnlocation.setOnClickListener(new View.OnClickListener() {\r\n    @Override\r\n    public void onClick(View view) {\r\n        double[] coor = new double[2];\r\n        coor = getLastLocation();\r\n    }\r\n}\r\n```\r\n","title":"How do I send my map to a specific coordinate on Azure maps for Android?","body":"<p>So, I have my map all configured, but I can't find the way to center it on a specific coordinate and zoom in. Does anyone know how to do that on Android?</p>\n<p>Here is my function where I receive an array with both coordinates.</p>\n<pre><code>mBtnlocation.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View view) {\n        double[] coor = new double[2];\n        coor = getLastLocation();\n    }\n}\n</code></pre>\n"},{"tags":["java","json","spring-boot","rest","jackson"],"answers":[{"tags":[],"owner":{"account_id":24234668,"reputation":111,"user_id":18187974,"display_name":"Lazaros Chatzimichalakis"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666732479,"creation_date":1666732479,"answer_id":74200277,"question_id":74194204,"body_markdown":"Jackson provides an annotation that can be used on class level like this \r\n\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    public class BenzenoidCriterions\r\n    {\r\n        ...\r\n    }\r\n\r\nThis way Jackson will ignore missing fields.","title":"SpringBoot : JSON parse error: Cannot construct instance of `com.example.new_model.BenzenoidCriterions`","body":"<p>Jackson provides an annotation that can be used on class level like this</p>\n<pre><code>@JsonIgnoreProperties(ignoreUnknown = true)\npublic class BenzenoidCriterions\n{\n    ...\n}\n</code></pre>\n<p>This way Jackson will ignore missing fields.</p>\n"}],"owner":{"account_id":12202724,"reputation":415,"user_id":8906596,"accept_rate":38,"display_name":"Adrien Varet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":514,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666732479,"creation_date":1666701434,"question_id":74194204,"body_markdown":"I&#39;m using SpringBoot and I have the following controller: \r\n\r\n```\r\n@Autowired\r\nBenzenoidService service;\r\n\r\n@PostMapping(&quot;/find_benzenoid&quot;)\r\npublic List&lt;Benzenoid&gt; find(@RequestBody BenzenoidCriterions benzenoidData) {\r\n\tTriplet&lt;String[], Operator[], Object[]&gt; arrays = buildArrays(benzenoidData);\r\n\treturn service.findBenzenoids(arrays.getX(), arrays.getY(), arrays.getZ());\r\n}\r\n\r\n```\r\nAnd the following @RequestBody BenzenoidCriterions:\r\n\r\n```\r\npublic class BenzenoidCriterions {\r\n\t\r\n\tprivate String id = &quot;&quot;;\r\n\tprivate String name = &quot;&quot;;\r\n\tprivate String nbHexagons = &quot;&quot;;\r\n\tprivate String nbCarbons = &quot;&quot;;\r\n\tprivate String nbHydrogens = &quot;&quot;;\r\n\tprivate String irregularity = &quot;&quot;;\r\n\t\r\n\tpublic BenzenoidCriterions() {\r\n\t\tsuper();\r\n\t}\r\n\t\r\n\tpublic BenzenoidCriterions(String id, String name, String nbHexagons,\r\n\t\t\tString nbCarbons, String nbHydrogens, String irregularity) {\r\n\t\tthis.id = id;\r\n\t\tthis.name = name;\r\n\t\tthis.nbHexagons = nbHexagons;\r\n\t\tthis.nbCarbons = nbCarbons;\r\n\t\tthis.nbHydrogens = nbHydrogens;\r\n\t\tthis.irregularity = irregularity;\r\n\t}\r\n\r\n\t// getters\r\n}\r\n```\r\nActually, it is working when I provide a JSON input with all the fields of BenzenoidCriterions, but when I skip one or many fields in the input, I got the following error message: \r\n\r\n```\r\n2022-10-25 13:53:37.409  WARN 25509 --- [nio-8894-exec-1] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot construct instance of `com.example.new_model.BenzenoidCriterions`, problem: `java.lang.NullPointerException`; nested exception is com.fasterxml.jackson.databind.exc.ValueInstantiationException: Cannot construct instance of `com.example.new_model.BenzenoidCriterions`, problem: `java.lang.NullPointerException`\r\n at [Source: (PushbackInputStream); line: 1, column: 91]]\r\n```\r\nThe problem seems to be related to Jackson, which is supposed to parse the JSON input and convert it into an instance of BenzenoidCriterions. \r\n\r\nDoes someone have the solution for this, please ?\r\n\r\nThank you.","title":"SpringBoot : JSON parse error: Cannot construct instance of `com.example.new_model.BenzenoidCriterions`","body":"<p>I'm using SpringBoot and I have the following controller:</p>\n<pre><code>@Autowired\nBenzenoidService service;\n\n@PostMapping(&quot;/find_benzenoid&quot;)\npublic List&lt;Benzenoid&gt; find(@RequestBody BenzenoidCriterions benzenoidData) {\n    Triplet&lt;String[], Operator[], Object[]&gt; arrays = buildArrays(benzenoidData);\n    return service.findBenzenoids(arrays.getX(), arrays.getY(), arrays.getZ());\n}\n\n</code></pre>\n<p>And the following @RequestBody BenzenoidCriterions:</p>\n<pre><code>public class BenzenoidCriterions {\n    \n    private String id = &quot;&quot;;\n    private String name = &quot;&quot;;\n    private String nbHexagons = &quot;&quot;;\n    private String nbCarbons = &quot;&quot;;\n    private String nbHydrogens = &quot;&quot;;\n    private String irregularity = &quot;&quot;;\n    \n    public BenzenoidCriterions() {\n        super();\n    }\n    \n    public BenzenoidCriterions(String id, String name, String nbHexagons,\n            String nbCarbons, String nbHydrogens, String irregularity) {\n        this.id = id;\n        this.name = name;\n        this.nbHexagons = nbHexagons;\n        this.nbCarbons = nbCarbons;\n        this.nbHydrogens = nbHydrogens;\n        this.irregularity = irregularity;\n    }\n\n    // getters\n}\n</code></pre>\n<p>Actually, it is working when I provide a JSON input with all the fields of BenzenoidCriterions, but when I skip one or many fields in the input, I got the following error message:</p>\n<pre><code>2022-10-25 13:53:37.409  WARN 25509 --- [nio-8894-exec-1] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot construct instance of `com.example.new_model.BenzenoidCriterions`, problem: `java.lang.NullPointerException`; nested exception is com.fasterxml.jackson.databind.exc.ValueInstantiationException: Cannot construct instance of `com.example.new_model.BenzenoidCriterions`, problem: `java.lang.NullPointerException`\n at [Source: (PushbackInputStream); line: 1, column: 91]]\n</code></pre>\n<p>The problem seems to be related to Jackson, which is supposed to parse the JSON input and convert it into an instance of BenzenoidCriterions.</p>\n<p>Does someone have the solution for this, please ?</p>\n<p>Thank you.</p>\n"},{"tags":["java","amazon-web-services","amazon-ec2"],"comments":[{"owner":{"account_id":68986,"reputation":21295,"user_id":200987,"accept_rate":69,"display_name":"oligofren"},"score":0,"creation_date":1665958288,"post_id":74090784,"comment_id":130815313,"body_markdown":"would be so funny if Tinder (the app) was run like this.","body":"would be so funny if Tinder (the app) was run like this."},{"owner":{"account_id":22321312,"reputation":3,"user_id":16543910,"display_name":"big O"},"score":0,"creation_date":1665958578,"post_id":74090784,"comment_id":130815373,"body_markdown":"it`s just deployment part :)","body":"it`s just deployment part :)"}],"owner":{"account_id":22321312,"reputation":3,"user_id":16543910,"display_name":"big O"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666732469,"creation_date":1665955306,"question_id":74090784,"body_markdown":"After running `java -jar tinder-app-final.jar`:\r\n```\r\nError: Unable to initialize main class tinder.ServerApp\r\nCaused by: java.lang.NoClassDefFoundError: org/eclipse/jetty/server/Handler\r\n```\r\nI am trying to deploy a Java Servlet app to AWS (EC2). Here in putty console (Amazon Linux 2 AMI) I&#39;m getting this error:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nHere is my `pom.xml` file:\r\n```\r\n    &lt;dependencies&gt;        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jetty-server&lt;/artifactId&gt;\r\n            &lt;version&gt;9.4.49.v20220914&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n      \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jetty-servlet&lt;/artifactId&gt;\r\n            &lt;version&gt;9.4.49.v20220914&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        // Other required dependencies...\r\n    &lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;mainClass&gt;tinder.ServerApp&lt;/mainClass&gt;\r\n                        &lt;/manifest&gt;\r\n                    &lt;/archive&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n        &lt;finalName&gt;tinder-app-final&lt;/finalName&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/7kgJf.png","title":"Error: Unable to initialize main class tinder.ServerApp Caused by: java.lang.NoClassDefFoundError: org/eclipse/jetty/server/Handler","body":"<p>After running <code>java -jar tinder-app-final.jar</code>:</p>\n<pre><code>Error: Unable to initialize main class tinder.ServerApp\nCaused by: java.lang.NoClassDefFoundError: org/eclipse/jetty/server/Handler\n</code></pre>\n<p>I am trying to deploy a Java Servlet app to AWS (EC2). Here in putty console (Amazon Linux 2 AMI) I'm getting this error:</p>\n<p><a href=\"https://i.stack.imgur.com/7kgJf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7kgJf.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is my <code>pom.xml</code> file:</p>\n<pre><code>    &lt;dependencies&gt;        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\n            &lt;artifactId&gt;jetty-server&lt;/artifactId&gt;\n            &lt;version&gt;9.4.49.v20220914&lt;/version&gt;\n        &lt;/dependency&gt;\n      \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\n            &lt;artifactId&gt;jetty-servlet&lt;/artifactId&gt;\n            &lt;version&gt;9.4.49.v20220914&lt;/version&gt;\n        &lt;/dependency&gt;\n        // Other required dependencies...\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;mainClass&gt;tinder.ServerApp&lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n        &lt;finalName&gt;tinder-app-final&lt;/finalName&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":11095946,"reputation":315,"user_id":8146089,"display_name":"Dennis LLopis"},"score":0,"creation_date":1666698002,"post_id":74193284,"comment_id":130993944,"body_markdown":"Can you post the whole vehicle class as well? You might be having an issue with synchronization. Sharing resources with multiple threads can cause race-conditions like flipping a boolean value in this case.","body":"Can you post the whole vehicle class as well? You might be having an issue with synchronization. Sharing resources with multiple threads can cause race-conditions like flipping a boolean value in this case."},{"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"score":0,"creation_date":1666704499,"post_id":74193284,"comment_id":130996174,"body_markdown":"unrelated question but - why not a `AtomicBoolean` instead?","body":"unrelated question but - why not a <code>AtomicBoolean</code> instead?"},{"owner":{"account_id":24658885,"reputation":3,"user_id":18556811,"display_name":"bdvazquez17"},"score":0,"creation_date":1666704916,"post_id":74193284,"comment_id":130996328,"body_markdown":"@Shark I implemented accelerationCheck like this:      private volatile boolean updateCheck = false;","body":"@Shark I implemented accelerationCheck like this:      private volatile boolean updateCheck = false;"},{"owner":{"account_id":4200525,"reputation":61370,"user_id":3440745,"display_name":"Tsyvarev"},"score":0,"creation_date":1666714378,"post_id":74193284,"comment_id":131000097,"body_markdown":"&quot;I&#180;m trying to set a volatile boolean variable, called `accelerationCheck`, in other thread and retrieve its value from a &quot;main thread&quot;.&quot; - I see setting of this variable in `Executor` part of your code, but see **no retrieving** of that variable in other parts of your code. Please, prepare [mcve] which would demonstrate your problem. Note, that size of the code for class `VehicleDataStore` is far beyond &quot;minimal&quot;.","body":"&quot;I&#180;m trying to set a volatile boolean variable, called <code>accelerationCheck</code>, in other thread and retrieve its value from a &quot;main thread&quot;.&quot; - I see setting of this variable in <code>Executor</code> part of your code, but see <b>no retrieving</b> of that variable in other parts of your code. Please, prepare <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> which would demonstrate your problem. Note, that size of the code for class <code>VehicleDataStore</code> is far beyond &quot;minimal&quot;."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1666722168,"post_id":74193284,"comment_id":131002454,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"score":0,"creation_date":1666729700,"post_id":74193284,"comment_id":131004597,"body_markdown":"FYI: The main thread is the main thread.  If it is executing in an executor then it&#39;s another thread.","body":"FYI: The main thread is the main thread.  If it is executing in an executor then it&#39;s another thread."}],"answers":[{"comments":[{"owner":{"account_id":24658885,"reputation":3,"user_id":18556811,"display_name":"bdvazquez17"},"score":0,"creation_date":1666705968,"post_id":74194938,"comment_id":130996797,"body_markdown":"Hi, Sergio! Thanks for the help, could you share a sample of this solution?","body":"Hi, Sergio! Thanks for the help, could you share a sample of this solution?"},{"owner":{"account_id":24658885,"reputation":3,"user_id":18556811,"display_name":"bdvazquez17"},"score":0,"creation_date":1666708657,"post_id":74194938,"comment_id":130997853,"body_markdown":"I would really appreciate if you could share your AccelerationChecker. I have posted in the original question my AccelerationChecker class code. Thanks!","body":"I would really appreciate if you could share your AccelerationChecker. I have posted in the original question my AccelerationChecker class code. Thanks!"}],"tags":[],"owner":{"account_id":1697486,"reputation":36,"user_id":1558552,"display_name":"Sergio"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666710378,"creation_date":1666704998,"answer_id":74194938,"question_id":74193284,"body_markdown":"Instead of doing scheduled checks from the threads a better solution would be to make a call from setVehicleAcceleration to e.g. AccelerationChecker.handleAccelerationChange(long newValue). In that class you can implement the check logic using timestamps and the boolean flag.\r\n\r\nHereby a draft implementation:\r\n\r\nwithin `VehicleDataStore`:\r\n\r\n    private VehicleDataService service;\r\n    private AccelerationChecker accelerationChecker; // field to store AccelerationChecker\r\n    \r\n    public VehicleDataStore(VehicleDataService service, AccelerationChecker accelerationChecker) {\r\n        this.service = service;\r\n        this.accelerationChecker = accelerationChecker; // inject the AccelerationChecker\r\n        registerListeners(service);\r\n        this.isRunning = true;\r\n    }\r\n...\r\n\r\n    // VehicleAcceleration\r\n    private void setVehicleAcceleration(Cell cell) {\r\n        if (cell.getCellType() == CellType.DataCell) {\r\n            DataCell dataCell = (DataCell) cell;\r\n            // Acceleration in 0.1 m/s2\r\n            long newValue = (long) (dataCell.getCellValue());\r\n            if (newValue &lt; -160 || newValue &gt; 160) {\r\n                newValue = 161;\r\n            }\r\n            if (this.vehicleAcceleration != newValue) {\r\n                this.vehicleAcceleration = newValue;\r\n                this.accelerationChecker.handleAccelerationChange(newValue); // notify AccelerationChecker about the changed value\r\n            }\r\n            Activator.println(&quot;VehicleAcc: &quot; + vehicleAcceleration);\r\n        }\r\n    }\r\n\r\n`AccelerationChecker` class:\r\n\r\n    public class AccelerationChecker {\r\n    \r\n        private final static long THRESHOLD_VALUE = -7;\r\n        private final static long VALIDATION_TIME_MS = 500;\r\n    \r\n        private long lastTimeBelowThreshold = Long.MAX_VALUE;\r\n        private long lastValue = Long.MAX_VALUE;\r\n    \r\n        public boolean isAccelerationLongBelowThreshold() {\r\n            return (lastValue &lt; THRESHOLD_VALUE &amp;&amp; System.currentTimeMillis() - lastTimeBelowThreshold &gt; VALIDATION_TIME_MS);\r\n        }\r\n    \r\n        public void handleAccelerationChange(long newValue) {\r\n            if (newValue &lt; THRESHOLD_VALUE) {\r\n                if (lastValue &gt;= THRESHOLD_VALUE) {\r\n                    lastTimeBelowThreshold = System.currentTimeMillis();\r\n                }\r\n            } else {\r\n                lastTimeBelowThreshold = Long.MAX_VALUE;\r\n            }\r\n            lastValue = newValue;\r\n        }\r\n    }\r\nJust create an instance of `AccelerationChecker` and pass it to `VehicleDataStore` constructor. Then call `accelerationChecker.isAccelerationLongBelowThreshold()` to get the result of the check.","title":"Setting a volatile variable inside a thread","body":"<p>Instead of doing scheduled checks from the threads a better solution would be to make a call from setVehicleAcceleration to e.g. AccelerationChecker.handleAccelerationChange(long newValue). In that class you can implement the check logic using timestamps and the boolean flag.</p>\n<p>Hereby a draft implementation:</p>\n<p>within <code>VehicleDataStore</code>:</p>\n<pre><code>private VehicleDataService service;\nprivate AccelerationChecker accelerationChecker; // field to store AccelerationChecker\n\npublic VehicleDataStore(VehicleDataService service, AccelerationChecker accelerationChecker) {\n    this.service = service;\n    this.accelerationChecker = accelerationChecker; // inject the AccelerationChecker\n    registerListeners(service);\n    this.isRunning = true;\n}\n</code></pre>\n<p>...</p>\n<pre><code>// VehicleAcceleration\nprivate void setVehicleAcceleration(Cell cell) {\n    if (cell.getCellType() == CellType.DataCell) {\n        DataCell dataCell = (DataCell) cell;\n        // Acceleration in 0.1 m/s2\n        long newValue = (long) (dataCell.getCellValue());\n        if (newValue &lt; -160 || newValue &gt; 160) {\n            newValue = 161;\n        }\n        if (this.vehicleAcceleration != newValue) {\n            this.vehicleAcceleration = newValue;\n            this.accelerationChecker.handleAccelerationChange(newValue); // notify AccelerationChecker about the changed value\n        }\n        Activator.println(&quot;VehicleAcc: &quot; + vehicleAcceleration);\n    }\n}\n</code></pre>\n<p><code>AccelerationChecker</code> class:</p>\n<pre><code>public class AccelerationChecker {\n\n    private final static long THRESHOLD_VALUE = -7;\n    private final static long VALIDATION_TIME_MS = 500;\n\n    private long lastTimeBelowThreshold = Long.MAX_VALUE;\n    private long lastValue = Long.MAX_VALUE;\n\n    public boolean isAccelerationLongBelowThreshold() {\n        return (lastValue &lt; THRESHOLD_VALUE &amp;&amp; System.currentTimeMillis() - lastTimeBelowThreshold &gt; VALIDATION_TIME_MS);\n    }\n\n    public void handleAccelerationChange(long newValue) {\n        if (newValue &lt; THRESHOLD_VALUE) {\n            if (lastValue &gt;= THRESHOLD_VALUE) {\n                lastTimeBelowThreshold = System.currentTimeMillis();\n            }\n        } else {\n            lastTimeBelowThreshold = Long.MAX_VALUE;\n        }\n        lastValue = newValue;\n    }\n}\n</code></pre>\n<p>Just create an instance of <code>AccelerationChecker</code> and pass it to <code>VehicleDataStore</code> constructor. Then call <code>accelerationChecker.isAccelerationLongBelowThreshold()</code> to get the result of the check.</p>\n"},{"tags":[],"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666732253,"creation_date":1666730125,"answer_id":74199901,"question_id":74193284,"body_markdown":"&gt; The thing is I&#39;m getting sometimes true when it should be false and vice versa. Why do you think this is happening?\r\n\r\nYour code is very complex and needs to be boiled down for SO to help with this.  I would suggest that you add some `System.out.println(...)` statements to the key parts of the code which may change its behavior (because `System.out` is a synchronized class) but should show you that it is executing in a manner that you aren&#39;t expecting.\r\n\r\nI see at least one place where you are mutating a unsynchronized class in multiple threads.  The `this.accTimer` is started by the thread running in the scheduled executor as well as the caller.  This means that its method should be `synchronized` most likely.  Not sure if it is the source of your overall problem.\r\n\r\nWithout seeing a much shorter example, it is very hard to understand the thread architecture so that I can help more.\r\n\r\nOh and to be pedantic, the &quot;main thread&quot; is the thread that executes the `main()` method.  As soon as you run code in an executor it is a different thread.\r\n","title":"Setting a volatile variable inside a thread","body":"<blockquote>\n<p>The thing is I'm getting sometimes true when it should be false and vice versa. Why do you think this is happening?</p>\n</blockquote>\n<p>Your code is very complex and needs to be boiled down for SO to help with this.  I would suggest that you add some <code>System.out.println(...)</code> statements to the key parts of the code which may change its behavior (because <code>System.out</code> is a synchronized class) but should show you that it is executing in a manner that you aren't expecting.</p>\n<p>I see at least one place where you are mutating a unsynchronized class in multiple threads.  The <code>this.accTimer</code> is started by the thread running in the scheduled executor as well as the caller.  This means that its method should be <code>synchronized</code> most likely.  Not sure if it is the source of your overall problem.</p>\n<p>Without seeing a much shorter example, it is very hard to understand the thread architecture so that I can help more.</p>\n<p>Oh and to be pedantic, the &quot;main thread&quot; is the thread that executes the <code>main()</code> method.  As soon as you run code in an executor it is a different thread.</p>\n"}],"owner":{"account_id":24658885,"reputation":3,"user_id":18556811,"display_name":"bdvazquez17"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1666732253,"creation_date":1666696937,"question_id":74193284,"body_markdown":"I&#180;m trying to set a volatile boolean variable, called `accelerationCheck`, in other thread and retrieve its value from a &quot;main thread&quot;. This variable has to be true if the acceleration is below -7 during at least 500ms if not, false. The thing is I&#39;m getting sometimes true when it should be false and vice versa. Why do you think this is happening? The code below is contained in the &quot;main thread&quot;, this main thread is executed every 30ms with an `Executor`:\r\n```java\r\nif(vehicleData.getVehicleAcceleration() &lt; -7) {\r\n    if(this.accTimer == null) {\r\n        this.accTimer = new CustomTimer();\r\n    }\r\n    this.accTimer.start();\r\n    this.accelerationObserver = new Runnable() {\r\n        public void run() {\r\n            accTimer.stop();\r\n            if(accTimer.getElapsedMilliseconds() &gt;= 500) {\r\n                accelerationCheck = true;\r\n                accTimer.stop();\r\n                accTimer.start();\r\n            }\r\n        }\r\n    };\r\n    this.executor = Executors.newScheduledThreadPool(1);\r\n    executor.scheduleAtFixedRate(accelerationObserver, 0, 100, TimeUnit.MILLISECONDS);\r\n}\r\nelse {\r\n    this.accelerationObserver = null;\r\n    this.executor = null;\r\n    this.accTimer.stop();\r\n    this.accTimer = null;\r\n    this.accelerationCheck = false;\r\n}\r\n```\r\nCustomTimer class:\r\n\r\n\r\n    public class CustomTimer {\r\n        private final long nanoSecondsPerMillisecond = 1000000;\r\n    \r\n        private long stopWatchStartTime = 0;\r\n        private long stopWatchStopTime = 0;\r\n        private boolean stopWatchRunning = false;\r\n    \r\n    \r\n        public void start() {\r\n            this.stopWatchStartTime = System.nanoTime();\r\n            this.stopWatchRunning = true;\r\n        }\r\n    \r\n    \r\n        public void stop() {\r\n            this.stopWatchStopTime = System.nanoTime();\r\n            this.stopWatchRunning = false;\r\n        }\r\n        \r\n        public boolean isRunning() {\r\n          return this.stopWatchRunning;\r\n        }\r\n    \r\n    \r\n        public long getElapsedMilliseconds() {\r\n            long elapsedTime;\r\n    \r\n            if (stopWatchRunning)\r\n                elapsedTime = (System.nanoTime() - stopWatchStartTime);\r\n            else\r\n                elapsedTime = (stopWatchStopTime - stopWatchStartTime);\r\n    \r\n            return elapsedTime / nanoSecondsPerMillisecond;\r\n        }\r\n    }\r\n\r\n\r\nVariable `vehicleData` is an object of this class: \r\n\r\n    public class VehicleDataStore extends Thread implements VehicleDataValueListener{\r\n      \r\n    \r\n      private long yawRate = 32767;\r\n      private long lateralAcceleration = 161;\r\n      private long vehicleAcceleration = 161;\r\n      private long speed = 16383;\r\n      private double accelerationPedal = 0.0;\r\n      private double brakePressure = 0.0;\r\n      private int accelerationControl = 0;\r\n      private int driveDirection = 2;\r\n    \r\n      // Lights\r\n      private boolean highBeam = false;\r\n      private boolean lowBeam = false;\r\n      private boolean dayTimeRunning = false;\r\n      private boolean reverseLight = false;\r\n      private boolean fogLight = false;\r\n      private boolean parkingLights = false;\r\n    \r\n      // AcelerationControl\r\n      private boolean emergencyBrake = false;\r\n      private boolean collisionWarning = false;\r\n      private boolean speedLimiter = false;\r\n      private boolean acc = false;\r\n      private boolean cruiseControl = false;\r\n      private boolean brakeActivated = false;\r\n      private boolean gasPedalActivated = false;\r\n    \r\n      private long curvature = 1023;\r\n      private int hazardLights;\r\n      // private double vehicleSpeedKM100 = 0.0;\r\n      private boolean turnLeft = false;\r\n      private boolean turnRight = false;\r\n      private int warningLights = 0;\r\n      private int vehicleRole = Activator.vehicleRole;\r\n      private int stationType = Activator.stationType;\r\n    \r\n      private DatagramSocket socket;\r\n      InetAddress inetAddress;\r\n      private int etsiPort = 12346;\r\n      private boolean isRunning = false;\r\n      private boolean embarkationStatus = false;\r\n      private int ptActivationType = 0;\r\n      private byte[] ptActivationData = null;\r\n      private int dangerousGoods = 0;\r\n      private boolean ligthSirenLb = false;\r\n      private boolean ligthSirenS = false;\r\n      private int steeringWheel = 512;\r\n      private int brakePressure05;\r\n      private boolean emergencyServiceCan = false;\r\n      \r\n      private VehicleDataService service;\r\n      \r\n      public VehicleDataStore(VehicleDataService service) {\r\n        this.service = service;\r\n        registerListeners(service);\r\n        this.isRunning = true;\r\n      }\r\n      \r\n      \r\n    \r\n      public void onVehicleDataChange(String name, Cell cell) {\r\n        if (name.equalsIgnoreCase(&quot;AccelerationPedal&quot;)) {\r\n          setAccelerationPedal(cell);\r\n        } else if (name.equalsIgnoreCase(&quot;VehicleAcceleration&quot;)) {\r\n          setVehicleAcceleration(cell);\r\n        } else if (name.equalsIgnoreCase(&quot;VehicleSpeed&quot;)) {\r\n          setVehicleSpeed(cell);\r\n        } else if (name.equalsIgnoreCase(&quot;DriveDirection&quot;)) {\r\n          setDriveDirection(cell);\r\n          setReverseLight(cell);\r\n        } else if (name.equalsIgnoreCase(&quot;YawRate&quot;)) {\r\n          setYawRate(cell);\r\n        } else if (name.equalsIgnoreCase(&quot;LateralAcceleration&quot;)) {\r\n          setLateralAcceleration(cell);\r\n        } else if (name.equalsIgnoreCase(&quot;BrakePressure&quot;)) {\r\n          setBrakePressure(cell);\r\n        } else if (name.equalsIgnoreCase(&quot;AccelerationControl&quot;)) {\r\n          setAccelerationControl(cell);\r\n        } else if (name.equalsIgnoreCase(&quot;LowBeam&quot;)) {\r\n          setLowBeam(cell);\r\n        } else if (name.equalsIgnoreCase(&quot;HighBeam&quot;)) {\r\n          setHighBeam(cell);\r\n        } else if (name.equalsIgnoreCase(&quot;HazardLigths&quot;)) {\r\n          setHazardLigths(cell);\r\n        } else if (name.equalsIgnoreCase(&quot;TurnLeft&quot;)) {\r\n          setTurnLeft(cell);\r\n        } else if (name.equalsIgnoreCase(&quot;TurnRight&quot;)) {\r\n          setTurnRight(cell);\r\n        } else if (name.equalsIgnoreCase(&quot;WarningLights&quot;)) {\r\n          setWarningLights(cell);\r\n        } else if (name.equalsIgnoreCase(&quot;SteeringWheel&quot;)) {\r\n          setSteeringWheel(cell);\r\n        } /*else if (name.equalsIgnoreCase(&quot;EmergencyService&quot;)) {\r\n          setEmergencyService(cell);\r\n        }*/\r\n      }\r\n      \r\n      private void registerListeners(VehicleDataService vehicleDataService) {\r\n        HashMap&lt;String, VehicleData&gt; vehicleDataMap = vehicleDataService.getMapVehicleDatabyName();\r\n        if (vehicleDataMap.containsKey(&quot;AccelerationPedal&quot;)) {\r\n          VehicleData data = vehicleDataMap.get(&quot;AccelerationPedal&quot;);\r\n          data.addCellValueListener(this);\r\n          setAccelerationPedal(data.getVehicleDataCell());\r\n        }\r\n        if (vehicleDataMap.containsKey(&quot;VehicleAcceleration&quot;)) {\r\n          VehicleData data = vehicleDataMap.get(&quot;VehicleAcceleration&quot;);\r\n          data.addCellValueListener(this);\r\n          setVehicleAcceleration(data.getVehicleDataCell());\r\n        }\r\n        if (vehicleDataMap.containsKey(&quot;VehicleSpeed&quot;)) {\r\n          VehicleData data = vehicleDataMap.get(&quot;VehicleSpeed&quot;);\r\n          data.addCellValueListener(this);\r\n          setVehicleSpeed(data.getVehicleDataCell());\r\n        }\r\n        if (vehicleDataMap.containsKey(&quot;DriveDirection&quot;)) {\r\n          VehicleData data = vehicleDataMap.get(&quot;DriveDirection&quot;);\r\n          data.addCellValueListener(this);\r\n          setDriveDirection(data.getVehicleDataCell());\r\n          setReverseLight(data.getVehicleDataCell());\r\n        }\r\n        if (vehicleDataMap.containsKey(&quot;YawRate&quot;)) {\r\n          VehicleData data = vehicleDataMap.get(&quot;YawRate&quot;);\r\n          data.addCellValueListener(this);\r\n          setYawRate(data.getVehicleDataCell());\r\n        }\r\n        if (vehicleDataMap.containsKey(&quot;LateralAcceleration&quot;)) {\r\n          VehicleData data = vehicleDataMap.get(&quot;LateralAcceleration&quot;);\r\n          data.addCellValueListener(this);\r\n          setLateralAcceleration(data.getVehicleDataCell());\r\n        }\r\n        if (vehicleDataMap.containsKey(&quot;BrakePressure&quot;)) {\r\n          VehicleData data = vehicleDataMap.get(&quot;BrakePressure&quot;);\r\n          data.addCellValueListener(this);\r\n          setBrakePressure(data.getVehicleDataCell());\r\n        }\r\n        if (vehicleDataMap.containsKey(&quot;AccelerationControl&quot;)) {\r\n          VehicleData data = vehicleDataMap.get(&quot;AccelerationControl&quot;);\r\n          data.addCellValueListener(this);\r\n          setAccelerationControl(data.getVehicleDataCell());\r\n        }\r\n        if (vehicleDataMap.containsKey(&quot;LowBeam&quot;)) {\r\n          VehicleData data = vehicleDataMap.get(&quot;LowBeam&quot;);\r\n          data.addCellValueListener(this);\r\n          setLowBeam(data.getVehicleDataCell());\r\n        }\r\n        if (vehicleDataMap.containsKey(&quot;HighBeam&quot;)) {\r\n          VehicleData data = vehicleDataMap.get(&quot;HighBeam&quot;);\r\n          data.addCellValueListener(this);\r\n          setHighBeam(data.getVehicleDataCell());\r\n        }\r\n        if (vehicleDataMap.containsKey(&quot;HazardLigths&quot;)) {\r\n          VehicleData data = vehicleDataMap.get(&quot;HazardLigths&quot;);\r\n          data.addCellValueListener(this);\r\n          setHazardLigths(data.getVehicleDataCell());\r\n        }\r\n        if (vehicleDataMap.containsKey(&quot;TurnLeft&quot;)) {\r\n          VehicleData data = vehicleDataMap.get(&quot;TurnLeft&quot;);\r\n          data.addCellValueListener(this);\r\n          setTurnLeft(data.getVehicleDataCell());\r\n        }\r\n        if (vehicleDataMap.containsKey(&quot;TurnRight&quot;)) {\r\n          VehicleData data = vehicleDataMap.get(&quot;TurnRight&quot;);\r\n          data.addCellValueListener(this);\r\n          setTurnRight(data.getVehicleDataCell());\r\n        }\r\n        if (vehicleDataMap.containsKey(&quot;WarningLights&quot;)) {\r\n          VehicleData data = vehicleDataMap.get(&quot;WarningLights&quot;);\r\n          data.addCellValueListener(this);\r\n          setWarningLights(data.getVehicleDataCell());\r\n        }\r\n        if (vehicleDataMap.containsKey(&quot;SteeringWheel&quot;)) {\r\n          VehicleData data = vehicleDataMap.get(&quot;SteeringWheel&quot;);\r\n          data.addCellValueListener(this);\r\n          setSteeringWheel(data.getVehicleDataCell());\r\n        }\r\n        /*if (vehicleDataMap.containsKey(&quot;EmergencyService&quot;)) {\r\n          VehicleData data = vehicleDataMap.get(&quot;EmergencyService&quot;);\r\n          data.addCellValueListener(this);\r\n          setEmergencyService(data.getVehicleDataCell());\r\n        }*/\r\n      }\r\n      \r\n    /*\r\n      private void setEmergencyService(Cell cell) {\r\n        int emergencyServiceInt = 0;\r\n        if (cell.getCellType() == CellType.StateDataCell) {\r\n          StateDataCell dataCell = (StateDataCell) cell;\r\n          emergencyServiceInt = (int) dataCell.getCellValue();\r\n          if (emergencyServiceInt == 1) {\r\n            this.emergencyServiceCan = true;\r\n          } else {\r\n            this.emergencyServiceCan = false;\r\n          }\r\n          Activator.println(&quot;EmergencyServiceCan: &quot; + emergencyServiceCan);\r\n    \r\n          checkEmergency();\r\n        }\r\n      }\r\n    \r\n      private void checkEmergency() {\r\n        if (emergencyServiceCan) {\r\n          Activator.println(&quot;Priority Activated&quot;);\r\n          setLigthSirenLb(true);\r\n          CanWriterThread.setStatus(1);\r\n        } else {\r\n          setLigthSirenLb(false);\r\n          CanWriterThread.setStatus(2);\r\n        }\r\n      }*/\r\n    \r\n      // AccelerationPedal\r\n      private void setAccelerationPedal(Cell cell) {\r\n        if (cell.getCellType() == CellType.DataCell) {\r\n          DataCell dataCell = (DataCell) cell;\r\n          this.accelerationPedal = dataCell.getCellValue();\r\n          if (this.accelerationPedal &gt; 0.0) {\r\n            setGasPedalActivated(true);\r\n          } else {\r\n            setGasPedalActivated(false);\r\n          }\r\n          Activator.println(&quot;AccPedal: &quot; + accelerationPedal);\r\n        }\r\n      }\r\n    \r\n      // BrakePressure\r\n      private void setBrakePressure(Cell cell) {\r\n        if (cell.getCellType() == CellType.DataCell) {\r\n          DataCell dataCell = (DataCell) cell;\r\n          this.brakePressure = dataCell.getCellValue();\r\n          this.brakePressure05 = (int) (dataCell.getCellValue() / 0.5);\r\n          if (this.brakePressure &gt; 0.0) {\r\n            setBrakeActivated(true);\r\n          } else {\r\n            setBrakeActivated(false);\r\n          }\r\n          Activator.println(&quot;BrakePressure: &quot; + brakePressure);\r\n        }\r\n      }\r\n    \r\n      public int getBrakePressure() {\r\n        return this.brakePressure05;\r\n      }\r\n    \r\n      // AccelerationControl\r\n      private void setAccelerationControl(Cell cell) {\r\n        if (cell.getCellType() == CellType.StateDataCell) {\r\n          StateDataCell dataCell = (StateDataCell) cell;\r\n          this.accelerationControl = (int) dataCell.getCellValue();\r\n    \r\n          setSpeedLimiter(false);\r\n          setAcc(false);\r\n          setCruiseControl(false);\r\n    \r\n          switch (this.accelerationControl) {\r\n            case 1:\r\n              setCruiseControl(true);\r\n              break;\r\n            case 2:\r\n              setSpeedLimiter(true);\r\n              break;\r\n            case 3:\r\n              setAcc(true);\r\n              break;\r\n    \r\n            default:\r\n              break;\r\n          }\r\n    \r\n          Activator.println(&quot;AccControl: &quot; + accelerationControl);\r\n        }\r\n      }\r\n    \r\n      // VehicleSpeed\r\n      private void setVehicleSpeed(Cell cell) {\r\n        // 0.01ms\r\n        if (cell.getCellType() == CellType.DataCell) {\r\n          // Speed in Km/h\r\n          DataCell dataCell = (DataCell) cell;\r\n          // Change to 0.01 m/s\r\n          this.speed = (long) (dataCell.getCellValue() * 3.6);\r\n          // this.vehicleSpeedKM100 = dataCell.getCellValue() * 100;\r\n          if (this.speed &lt; 0 || this.speed &gt; 16382) {\r\n            this.speed = SpeedValue.unavailable;\r\n            this.curvature = CurvatureValue.unavailable;\r\n          } else {\r\n            setCurvature();\r\n          }\r\n          Activator.println(&quot;Speed: &quot; + this.speed);\r\n        }\r\n      }\r\n    \r\n      public long getVehicleSpeed() {\r\n        return this.speed;\r\n    \r\n      }\r\n    \r\n      // VehicleAcceleration\r\n      private void setVehicleAcceleration(Cell cell) {\r\n        if (cell.getCellType() == CellType.DataCell) {\r\n          DataCell dataCell = (DataCell) cell;\r\n          // Acceleration in 0.1 m/s2\r\n          this.vehicleAcceleration = (long) (dataCell.getCellValue());\r\n          if (this.vehicleAcceleration &lt; -160 || this.vehicleAcceleration &gt; 160) {\r\n            this.vehicleAcceleration = 161;\r\n          }\r\n          Activator.println(&quot;VehicleAcc: &quot; + vehicleAcceleration);\r\n        }\r\n      }\r\n    \r\n      public long getVehicleAcceleration() {\r\n        return this.vehicleAcceleration;\r\n      }\r\n    \r\n      // YawRate\r\n      private void setYawRate(Cell cell) {\r\n        if (cell.getCellType() == CellType.DataCell) {\r\n          DataCell dataCell = (DataCell) cell;\r\n          // YawRate in 0.01 &#186;/s\r\n          this.yawRate = (long) (dataCell.getCellValue());\r\n          if (this.yawRate &lt; -32766 || this.yawRate &gt; 32766) {\r\n            this.yawRate = 32767;\r\n          }\r\n          Activator.println(&quot;YawRate: &quot; + yawRate);\r\n        }\r\n      }\r\n    \r\n      public long getYawRate() {\r\n        return this.yawRate;\r\n      }\r\n    \r\n      private void setSteeringWheel(Cell cell) {\r\n        DataCell dataCell = (DataCell) cell;\r\n        this.steeringWheel = (int) (dataCell.getCellValue() / 1.5);\r\n        if (this.steeringWheel &gt;= 511) {\r\n          this.steeringWheel = 511;\r\n        }\r\n        if (this.steeringWheel &lt;= -511) {\r\n          this.steeringWheel = -511;\r\n        }\r\n    \r\n        Activator.println(&quot;SteeringWheel: &quot; + steeringWheel);\r\n      }\r\n    \r\n      public int getSteeringWheelAngle() {\r\n        return this.steeringWheel;\r\n      }\r\n    \r\n      // LateralAcceleration\r\n      private void setLateralAcceleration(Cell cell) {\r\n        if (cell.getCellType() == CellType.DataCell) {\r\n          DataCell dataCell = (DataCell) cell;\r\n          this.lateralAcceleration = (long) (dataCell.getCellValue());\r\n          if (this.lateralAcceleration &lt; -160 || this.lateralAcceleration &gt; 160) {\r\n            this.lateralAcceleration = 161;\r\n          }\r\n          Activator.println(&quot;LatAcc: &quot; + lateralAcceleration);\r\n        }\r\n      }\r\n    \r\n      public long getLateralAcceleration() {\r\n        return this.lateralAcceleration;\r\n      }\r\n    \r\n      // Curvature\r\n      public long getCurvature() {\r\n        return this.curvature;\r\n      }\r\n    \r\n      public void setCurvature() {\r\n        this.curvature = 1023;\r\n    \r\n        if (this.speed &gt; 0) {\r\n          double radius = (this.yawRate / this.speed) * (Math.PI / 180);\r\n          this.curvature = (long) (1 / radius) * 10000;\r\n        }\r\n    \r\n        if (this.curvature &lt; -1023) {\r\n          this.curvature = -1023;\r\n        }\r\n    \r\n        if (this.curvature &gt; 1022) {\r\n          this.curvature = 1022;\r\n        }\r\n      }\r\n    \r\n      public boolean isHighBeam() {\r\n        return highBeam;\r\n      }\r\n    \r\n      public void setHighBeam(boolean highBeam) {\r\n        this.highBeam = highBeam;\r\n      }\r\n    \r\n      private void setHighBeam(Cell cell) {\r\n        int highBeamInt = 0;\r\n        if (cell.getCellType() == CellType.StateDataCell) {\r\n          StateDataCell dataCell = (StateDataCell) cell;\r\n          highBeamInt = (int) dataCell.getCellValue();\r\n          if (highBeamInt == 1) {\r\n            this.highBeam = true;\r\n          } else {\r\n            this.highBeam = false;\r\n          }\r\n          Activator.println(&quot;HighBeam: &quot; + highBeam);\r\n        }\r\n      }\r\n    \r\n      // LowBeam\r\n      private void setLowBeam(Cell cell) {\r\n        int lowBeamInt = 0;\r\n        if (cell.getCellType() == CellType.StateDataCell) {\r\n          StateDataCell dataCell = (StateDataCell) cell;\r\n          lowBeamInt = (int) dataCell.getCellValue();\r\n          if (lowBeamInt == 1) {\r\n            this.lowBeam = true;\r\n          } else {\r\n            this.lowBeam = false;\r\n          }\r\n          Activator.println(&quot;LowBeam: &quot; + lowBeam);\r\n        }\r\n      }\r\n    \r\n      public boolean isLowBeam() {\r\n        return this.lowBeam;\r\n      }\r\n    \r\n      public boolean isDayTimeRunning() {\r\n        return dayTimeRunning;\r\n      }\r\n    \r\n      public void setDayTimeRunning(boolean dayTimeRunning) {\r\n        this.dayTimeRunning = dayTimeRunning;\r\n      }\r\n    \r\n      public boolean isReverseLight() {\r\n        return reverseLight;\r\n      }\r\n    \r\n      public void setReverseLight(boolean reverseLight) {\r\n        this.reverseLight = reverseLight;\r\n      }\r\n    \r\n      private void setReverseLight(Cell cell) {\r\n        int reverseLightInt = 0;\r\n        if (cell.getCellType() == CellType.StateDataCell) {\r\n          StateDataCell dataCell = (StateDataCell) cell;\r\n          reverseLightInt = (int) dataCell.getCellValue();\r\n          if (reverseLightInt == 1) {\r\n            this.reverseLight = true;\r\n          } else {\r\n            this.reverseLight = false;\r\n          }\r\n          Activator.println(&quot;ReverseLight: &quot; + reverseLight);\r\n        }\r\n      }\r\n    \r\n      public boolean isFogLight() {\r\n        return fogLight;\r\n      }\r\n    \r\n      public void setFogLight(boolean fogLight) {\r\n        this.fogLight = fogLight;\r\n      }\r\n    \r\n      public boolean isParkingLights() {\r\n        return parkingLights;\r\n      }\r\n    \r\n      public void setParkingLights(boolean parkingLights) {\r\n        this.parkingLights = parkingLights;\r\n      }\r\n    \r\n      // DriveDirection\r\n      private void setDriveDirection(Cell cell) {\r\n        if (cell.getCellType() == CellType.StateDataCell) {\r\n          StateDataCell dataCell = (StateDataCell) cell;\r\n          int canDriveDirection = (int) dataCell.getCellValue();\r\n          this.driveDirection = canDriveDirection;\r\n          // switch (canDriveDirection) {\r\n          // case 0:\r\n          // this.driveDirection = 2;\r\n          // break;\r\n          // case 1:\r\n          // this.driveDirection = 0;\r\n          // break;\r\n          // case 2:\r\n          // this.driveDirection = 1;\r\n          // break;\r\n          // case 3:\r\n          // this.driveDirection = 2;\r\n          // break;\r\n          //\r\n          // default:\r\n          // break;\r\n          // }\r\n          Activator.println(&quot;DriveDirection: &quot; + driveDirection);\r\n        }\r\n      }\r\n    \r\n      public final int getDriveDirection() {\r\n        return this.driveDirection;\r\n      }\r\n    \r\n      // SpeedLimiter\r\n      public boolean isSpeedLimiter() {\r\n        return speedLimiter;\r\n      }\r\n    \r\n      private void setSpeedLimiter(boolean speedLimiter) {\r\n        this.speedLimiter = speedLimiter;\r\n      }\r\n    \r\n      // Acc\r\n      public boolean isAcc() {\r\n        return acc;\r\n      }\r\n    \r\n      private void setAcc(boolean acc) {\r\n        this.acc = acc;\r\n      }\r\n    \r\n      // CruiseControl\r\n      public boolean isCruiseControl() {\r\n        return cruiseControl;\r\n      }\r\n    \r\n      private void setCruiseControl(boolean cruiseControl) {\r\n        this.cruiseControl = cruiseControl;\r\n      }\r\n    \r\n      // BrakeActivated\r\n      public boolean isBrakeActivated() {\r\n        return brakeActivated;\r\n      }\r\n    \r\n      private void setBrakeActivated(boolean brakeActivated) {\r\n        this.brakeActivated = brakeActivated;\r\n      }\r\n    \r\n      // GasPedalActivated\r\n      public boolean isGasPedalActivated() {\r\n        return gasPedalActivated;\r\n      }\r\n    \r\n      private void setGasPedalActivated(boolean gasPedalActivated) {\r\n        this.gasPedalActivated = gasPedalActivated;\r\n      }\r\n    \r\n      public boolean isEmergencyBrake() {\r\n        return emergencyBrake;\r\n      }\r\n    \r\n      public void setEmergencyBrake(boolean emergencyBrake) {\r\n        this.emergencyBrake = emergencyBrake;\r\n      }\r\n    \r\n      public boolean isCollisionWarning() {\r\n        return collisionWarning;\r\n      }\r\n    \r\n      public void setCollisionWarning(boolean collisionWarning) {\r\n        this.collisionWarning = collisionWarning;\r\n      }\r\n    \r\n      // HazardLights\r\n      private void setHazardLigths(Cell cell) {\r\n        StateDataCell dataCell = (StateDataCell) cell;\r\n        this.hazardLights = (int) dataCell.getCellValue();\r\n        Activator.println(&quot;HazardLights: &quot; + hazardLights);\r\n      }\r\n    \r\n      public boolean isHazardLights() {\r\n        boolean hazardLights = false;\r\n        if (this.hazardLights == 1) {\r\n          hazardLights = true;\r\n        }\r\n        return hazardLights;\r\n      }\r\n    \r\n      // TurnRight\r\n      private void setTurnRight(Cell cell) {\r\n        // TODO Auto-generated method stub\r\n        StateDataCell dataCell = (StateDataCell) cell;\r\n        if ((int) (dataCell.getCellValue()) == 0) {\r\n          this.turnRight = false;\r\n        } else {\r\n          this.turnRight = true;\r\n        }\r\n        Activator.println(&quot;TurnRight: &quot; + turnRight);\r\n      }\r\n    \r\n      public boolean isTurnRightActivated() {\r\n        return turnRight;\r\n      }\r\n    \r\n      // TurnLeft\r\n      private void setTurnLeft(Cell cell) {\r\n        // TODO Auto-generated method stub\r\n        StateDataCell dataCell = (StateDataCell) cell;\r\n        if ((int) (dataCell.getCellValue()) == 0) {\r\n          this.turnLeft = false;\r\n        } else {\r\n          this.turnLeft = true;\r\n        }\r\n        Activator.println(&quot;TurnLeft: &quot; + turnLeft);\r\n      }\r\n    \r\n      public boolean isTurnLeftActivated() {\r\n        return turnLeft;\r\n      }\r\n    \r\n      // WarningLights\r\n      private void setWarningLights(Cell cell) {\r\n        // TODO Auto-generated method stub\r\n        StateDataCell dataCell = (StateDataCell) cell;\r\n        this.warningLights = (int) dataCell.getCellValue();\r\n        Activator.println(&quot;WarningLights: &quot; + warningLights);\r\n      }\r\n    \r\n      public boolean isWarningLightsActivated() {\r\n        boolean warningLights = false;\r\n        if (this.warningLights == 1) {\r\n          warningLights = true;\r\n        }\r\n        return warningLights;\r\n      }\r\n    \r\n      public int getVehicleRole() {\r\n        return vehicleRole;\r\n      }\r\n    \r\n      public void setVehicleRole(int vehicleRole) {\r\n        this.vehicleRole = vehicleRole;\r\n      }\r\n    \r\n      public int getStationType() {\r\n        return stationType;\r\n      }\r\n    \r\n      public void setStationType(int stationType) {\r\n        this.stationType = stationType;\r\n      }\r\n    \r\n      public boolean isEmbarkationStatus() {\r\n        return embarkationStatus;\r\n      }\r\n    \r\n      public void setEmbarkationStatus(boolean embarkationStatus) {\r\n        this.embarkationStatus = embarkationStatus;\r\n      }\r\n    \r\n      public int getPtActivationType() {\r\n        return ptActivationType;\r\n      }\r\n    \r\n      public void setPtActivationType(int ptActivationType) {\r\n        this.ptActivationType = ptActivationType;\r\n      }\r\n    \r\n      public byte[] getPtActivationData() {\r\n        return ptActivationData;\r\n      }\r\n    \r\n      public void setPtActivationData(byte[] ptActivationData) {\r\n        this.ptActivationData = ptActivationData;\r\n      }\r\n    \r\n      public int getDangerousGoods() {\r\n        return dangerousGoods;\r\n      }\r\n    \r\n      public void setDangerousGoods(int dangerousGoods) {\r\n        this.dangerousGoods = dangerousGoods;\r\n      }\r\n    \r\n      public boolean isLigthSirenLb() {\r\n        return ligthSirenLb;\r\n      }\r\n    \r\n      public void setLigthSirenLb(boolean ligthSirenLb) {\r\n        this.ligthSirenLb = ligthSirenLb;\r\n      }\r\n    \r\n      public boolean isLigthSirenS() {\r\n        return ligthSirenS;\r\n      }\r\n    \r\n      public void setLigthSirenS(boolean ligthSirenS) {\r\n        this.ligthSirenS = ligthSirenS;\r\n      }\r\n\r\n  \r\n\r\n    public void stopThread() {\r\n        this.isRunning = false;\r\n    \r\n        if (this.socket != null) {\r\n          this.socket.close();\r\n        }\r\n      }\r\n    \r\n      \r\n    }\r\n\r\nAccelerationChecker class code:\r\n\r\n    public class AccelerationChecker{\r\n      \r\n      private long currentAcceleration;\r\n      \r\n      private double startTime;\r\n      \r\n      private double currentTime;\r\n      \r\n      private double elapsedTime;\r\n      \r\n      private boolean flag;\r\n      \r\n      public AccelerationChecker() {\r\n        this.currentAcceleration = 0;\r\n        this.flag = false;\r\n        this.startTime = 0;\r\n        this.currentTime = 0;\r\n      }\r\n        \r\n      public void handleAccelerationCheck(long newValue) {\r\n        if(newValue &lt; -7) {\r\n          this.startTime = System.nanoTime();\r\n          this.currentTime = System.nanoTime();\r\n          this.elapsedTime = this.currentTime - this.startTime;\r\n          if(this.elapsedTime &gt;= 500) {\r\n            this.flag = true;\r\n          }\r\n          else {\r\n            this.flag = false;\r\n          }\r\n        }\r\n      }\r\n      \r\n      public boolean getFlag() {\r\n        return flag;\r\n      }\r\n    }","title":"Setting a volatile variable inside a thread","body":"<p>I´m trying to set a volatile boolean variable, called <code>accelerationCheck</code>, in other thread and retrieve its value from a &quot;main thread&quot;. This variable has to be true if the acceleration is below -7 during at least 500ms if not, false. The thing is I'm getting sometimes true when it should be false and vice versa. Why do you think this is happening? The code below is contained in the &quot;main thread&quot;, this main thread is executed every 30ms with an <code>Executor</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if(vehicleData.getVehicleAcceleration() &lt; -7) {\n    if(this.accTimer == null) {\n        this.accTimer = new CustomTimer();\n    }\n    this.accTimer.start();\n    this.accelerationObserver = new Runnable() {\n        public void run() {\n            accTimer.stop();\n            if(accTimer.getElapsedMilliseconds() &gt;= 500) {\n                accelerationCheck = true;\n                accTimer.stop();\n                accTimer.start();\n            }\n        }\n    };\n    this.executor = Executors.newScheduledThreadPool(1);\n    executor.scheduleAtFixedRate(accelerationObserver, 0, 100, TimeUnit.MILLISECONDS);\n}\nelse {\n    this.accelerationObserver = null;\n    this.executor = null;\n    this.accTimer.stop();\n    this.accTimer = null;\n    this.accelerationCheck = false;\n}\n</code></pre>\n<p>CustomTimer class:</p>\n<pre><code>public class CustomTimer {\n    private final long nanoSecondsPerMillisecond = 1000000;\n\n    private long stopWatchStartTime = 0;\n    private long stopWatchStopTime = 0;\n    private boolean stopWatchRunning = false;\n\n\n    public void start() {\n        this.stopWatchStartTime = System.nanoTime();\n        this.stopWatchRunning = true;\n    }\n\n\n    public void stop() {\n        this.stopWatchStopTime = System.nanoTime();\n        this.stopWatchRunning = false;\n    }\n    \n    public boolean isRunning() {\n      return this.stopWatchRunning;\n    }\n\n\n    public long getElapsedMilliseconds() {\n        long elapsedTime;\n\n        if (stopWatchRunning)\n            elapsedTime = (System.nanoTime() - stopWatchStartTime);\n        else\n            elapsedTime = (stopWatchStopTime - stopWatchStartTime);\n\n        return elapsedTime / nanoSecondsPerMillisecond;\n    }\n}\n</code></pre>\n<p>Variable <code>vehicleData</code> is an object of this class:</p>\n<pre><code>public class VehicleDataStore extends Thread implements VehicleDataValueListener{\n  \n\n  private long yawRate = 32767;\n  private long lateralAcceleration = 161;\n  private long vehicleAcceleration = 161;\n  private long speed = 16383;\n  private double accelerationPedal = 0.0;\n  private double brakePressure = 0.0;\n  private int accelerationControl = 0;\n  private int driveDirection = 2;\n\n  // Lights\n  private boolean highBeam = false;\n  private boolean lowBeam = false;\n  private boolean dayTimeRunning = false;\n  private boolean reverseLight = false;\n  private boolean fogLight = false;\n  private boolean parkingLights = false;\n\n  // AcelerationControl\n  private boolean emergencyBrake = false;\n  private boolean collisionWarning = false;\n  private boolean speedLimiter = false;\n  private boolean acc = false;\n  private boolean cruiseControl = false;\n  private boolean brakeActivated = false;\n  private boolean gasPedalActivated = false;\n\n  private long curvature = 1023;\n  private int hazardLights;\n  // private double vehicleSpeedKM100 = 0.0;\n  private boolean turnLeft = false;\n  private boolean turnRight = false;\n  private int warningLights = 0;\n  private int vehicleRole = Activator.vehicleRole;\n  private int stationType = Activator.stationType;\n\n  private DatagramSocket socket;\n  InetAddress inetAddress;\n  private int etsiPort = 12346;\n  private boolean isRunning = false;\n  private boolean embarkationStatus = false;\n  private int ptActivationType = 0;\n  private byte[] ptActivationData = null;\n  private int dangerousGoods = 0;\n  private boolean ligthSirenLb = false;\n  private boolean ligthSirenS = false;\n  private int steeringWheel = 512;\n  private int brakePressure05;\n  private boolean emergencyServiceCan = false;\n  \n  private VehicleDataService service;\n  \n  public VehicleDataStore(VehicleDataService service) {\n    this.service = service;\n    registerListeners(service);\n    this.isRunning = true;\n  }\n  \n  \n\n  public void onVehicleDataChange(String name, Cell cell) {\n    if (name.equalsIgnoreCase(&quot;AccelerationPedal&quot;)) {\n      setAccelerationPedal(cell);\n    } else if (name.equalsIgnoreCase(&quot;VehicleAcceleration&quot;)) {\n      setVehicleAcceleration(cell);\n    } else if (name.equalsIgnoreCase(&quot;VehicleSpeed&quot;)) {\n      setVehicleSpeed(cell);\n    } else if (name.equalsIgnoreCase(&quot;DriveDirection&quot;)) {\n      setDriveDirection(cell);\n      setReverseLight(cell);\n    } else if (name.equalsIgnoreCase(&quot;YawRate&quot;)) {\n      setYawRate(cell);\n    } else if (name.equalsIgnoreCase(&quot;LateralAcceleration&quot;)) {\n      setLateralAcceleration(cell);\n    } else if (name.equalsIgnoreCase(&quot;BrakePressure&quot;)) {\n      setBrakePressure(cell);\n    } else if (name.equalsIgnoreCase(&quot;AccelerationControl&quot;)) {\n      setAccelerationControl(cell);\n    } else if (name.equalsIgnoreCase(&quot;LowBeam&quot;)) {\n      setLowBeam(cell);\n    } else if (name.equalsIgnoreCase(&quot;HighBeam&quot;)) {\n      setHighBeam(cell);\n    } else if (name.equalsIgnoreCase(&quot;HazardLigths&quot;)) {\n      setHazardLigths(cell);\n    } else if (name.equalsIgnoreCase(&quot;TurnLeft&quot;)) {\n      setTurnLeft(cell);\n    } else if (name.equalsIgnoreCase(&quot;TurnRight&quot;)) {\n      setTurnRight(cell);\n    } else if (name.equalsIgnoreCase(&quot;WarningLights&quot;)) {\n      setWarningLights(cell);\n    } else if (name.equalsIgnoreCase(&quot;SteeringWheel&quot;)) {\n      setSteeringWheel(cell);\n    } /*else if (name.equalsIgnoreCase(&quot;EmergencyService&quot;)) {\n      setEmergencyService(cell);\n    }*/\n  }\n  \n  private void registerListeners(VehicleDataService vehicleDataService) {\n    HashMap&lt;String, VehicleData&gt; vehicleDataMap = vehicleDataService.getMapVehicleDatabyName();\n    if (vehicleDataMap.containsKey(&quot;AccelerationPedal&quot;)) {\n      VehicleData data = vehicleDataMap.get(&quot;AccelerationPedal&quot;);\n      data.addCellValueListener(this);\n      setAccelerationPedal(data.getVehicleDataCell());\n    }\n    if (vehicleDataMap.containsKey(&quot;VehicleAcceleration&quot;)) {\n      VehicleData data = vehicleDataMap.get(&quot;VehicleAcceleration&quot;);\n      data.addCellValueListener(this);\n      setVehicleAcceleration(data.getVehicleDataCell());\n    }\n    if (vehicleDataMap.containsKey(&quot;VehicleSpeed&quot;)) {\n      VehicleData data = vehicleDataMap.get(&quot;VehicleSpeed&quot;);\n      data.addCellValueListener(this);\n      setVehicleSpeed(data.getVehicleDataCell());\n    }\n    if (vehicleDataMap.containsKey(&quot;DriveDirection&quot;)) {\n      VehicleData data = vehicleDataMap.get(&quot;DriveDirection&quot;);\n      data.addCellValueListener(this);\n      setDriveDirection(data.getVehicleDataCell());\n      setReverseLight(data.getVehicleDataCell());\n    }\n    if (vehicleDataMap.containsKey(&quot;YawRate&quot;)) {\n      VehicleData data = vehicleDataMap.get(&quot;YawRate&quot;);\n      data.addCellValueListener(this);\n      setYawRate(data.getVehicleDataCell());\n    }\n    if (vehicleDataMap.containsKey(&quot;LateralAcceleration&quot;)) {\n      VehicleData data = vehicleDataMap.get(&quot;LateralAcceleration&quot;);\n      data.addCellValueListener(this);\n      setLateralAcceleration(data.getVehicleDataCell());\n    }\n    if (vehicleDataMap.containsKey(&quot;BrakePressure&quot;)) {\n      VehicleData data = vehicleDataMap.get(&quot;BrakePressure&quot;);\n      data.addCellValueListener(this);\n      setBrakePressure(data.getVehicleDataCell());\n    }\n    if (vehicleDataMap.containsKey(&quot;AccelerationControl&quot;)) {\n      VehicleData data = vehicleDataMap.get(&quot;AccelerationControl&quot;);\n      data.addCellValueListener(this);\n      setAccelerationControl(data.getVehicleDataCell());\n    }\n    if (vehicleDataMap.containsKey(&quot;LowBeam&quot;)) {\n      VehicleData data = vehicleDataMap.get(&quot;LowBeam&quot;);\n      data.addCellValueListener(this);\n      setLowBeam(data.getVehicleDataCell());\n    }\n    if (vehicleDataMap.containsKey(&quot;HighBeam&quot;)) {\n      VehicleData data = vehicleDataMap.get(&quot;HighBeam&quot;);\n      data.addCellValueListener(this);\n      setHighBeam(data.getVehicleDataCell());\n    }\n    if (vehicleDataMap.containsKey(&quot;HazardLigths&quot;)) {\n      VehicleData data = vehicleDataMap.get(&quot;HazardLigths&quot;);\n      data.addCellValueListener(this);\n      setHazardLigths(data.getVehicleDataCell());\n    }\n    if (vehicleDataMap.containsKey(&quot;TurnLeft&quot;)) {\n      VehicleData data = vehicleDataMap.get(&quot;TurnLeft&quot;);\n      data.addCellValueListener(this);\n      setTurnLeft(data.getVehicleDataCell());\n    }\n    if (vehicleDataMap.containsKey(&quot;TurnRight&quot;)) {\n      VehicleData data = vehicleDataMap.get(&quot;TurnRight&quot;);\n      data.addCellValueListener(this);\n      setTurnRight(data.getVehicleDataCell());\n    }\n    if (vehicleDataMap.containsKey(&quot;WarningLights&quot;)) {\n      VehicleData data = vehicleDataMap.get(&quot;WarningLights&quot;);\n      data.addCellValueListener(this);\n      setWarningLights(data.getVehicleDataCell());\n    }\n    if (vehicleDataMap.containsKey(&quot;SteeringWheel&quot;)) {\n      VehicleData data = vehicleDataMap.get(&quot;SteeringWheel&quot;);\n      data.addCellValueListener(this);\n      setSteeringWheel(data.getVehicleDataCell());\n    }\n    /*if (vehicleDataMap.containsKey(&quot;EmergencyService&quot;)) {\n      VehicleData data = vehicleDataMap.get(&quot;EmergencyService&quot;);\n      data.addCellValueListener(this);\n      setEmergencyService(data.getVehicleDataCell());\n    }*/\n  }\n  \n/*\n  private void setEmergencyService(Cell cell) {\n    int emergencyServiceInt = 0;\n    if (cell.getCellType() == CellType.StateDataCell) {\n      StateDataCell dataCell = (StateDataCell) cell;\n      emergencyServiceInt = (int) dataCell.getCellValue();\n      if (emergencyServiceInt == 1) {\n        this.emergencyServiceCan = true;\n      } else {\n        this.emergencyServiceCan = false;\n      }\n      Activator.println(&quot;EmergencyServiceCan: &quot; + emergencyServiceCan);\n\n      checkEmergency();\n    }\n  }\n\n  private void checkEmergency() {\n    if (emergencyServiceCan) {\n      Activator.println(&quot;Priority Activated&quot;);\n      setLigthSirenLb(true);\n      CanWriterThread.setStatus(1);\n    } else {\n      setLigthSirenLb(false);\n      CanWriterThread.setStatus(2);\n    }\n  }*/\n\n  // AccelerationPedal\n  private void setAccelerationPedal(Cell cell) {\n    if (cell.getCellType() == CellType.DataCell) {\n      DataCell dataCell = (DataCell) cell;\n      this.accelerationPedal = dataCell.getCellValue();\n      if (this.accelerationPedal &gt; 0.0) {\n        setGasPedalActivated(true);\n      } else {\n        setGasPedalActivated(false);\n      }\n      Activator.println(&quot;AccPedal: &quot; + accelerationPedal);\n    }\n  }\n\n  // BrakePressure\n  private void setBrakePressure(Cell cell) {\n    if (cell.getCellType() == CellType.DataCell) {\n      DataCell dataCell = (DataCell) cell;\n      this.brakePressure = dataCell.getCellValue();\n      this.brakePressure05 = (int) (dataCell.getCellValue() / 0.5);\n      if (this.brakePressure &gt; 0.0) {\n        setBrakeActivated(true);\n      } else {\n        setBrakeActivated(false);\n      }\n      Activator.println(&quot;BrakePressure: &quot; + brakePressure);\n    }\n  }\n\n  public int getBrakePressure() {\n    return this.brakePressure05;\n  }\n\n  // AccelerationControl\n  private void setAccelerationControl(Cell cell) {\n    if (cell.getCellType() == CellType.StateDataCell) {\n      StateDataCell dataCell = (StateDataCell) cell;\n      this.accelerationControl = (int) dataCell.getCellValue();\n\n      setSpeedLimiter(false);\n      setAcc(false);\n      setCruiseControl(false);\n\n      switch (this.accelerationControl) {\n        case 1:\n          setCruiseControl(true);\n          break;\n        case 2:\n          setSpeedLimiter(true);\n          break;\n        case 3:\n          setAcc(true);\n          break;\n\n        default:\n          break;\n      }\n\n      Activator.println(&quot;AccControl: &quot; + accelerationControl);\n    }\n  }\n\n  // VehicleSpeed\n  private void setVehicleSpeed(Cell cell) {\n    // 0.01ms\n    if (cell.getCellType() == CellType.DataCell) {\n      // Speed in Km/h\n      DataCell dataCell = (DataCell) cell;\n      // Change to 0.01 m/s\n      this.speed = (long) (dataCell.getCellValue() * 3.6);\n      // this.vehicleSpeedKM100 = dataCell.getCellValue() * 100;\n      if (this.speed &lt; 0 || this.speed &gt; 16382) {\n        this.speed = SpeedValue.unavailable;\n        this.curvature = CurvatureValue.unavailable;\n      } else {\n        setCurvature();\n      }\n      Activator.println(&quot;Speed: &quot; + this.speed);\n    }\n  }\n\n  public long getVehicleSpeed() {\n    return this.speed;\n\n  }\n\n  // VehicleAcceleration\n  private void setVehicleAcceleration(Cell cell) {\n    if (cell.getCellType() == CellType.DataCell) {\n      DataCell dataCell = (DataCell) cell;\n      // Acceleration in 0.1 m/s2\n      this.vehicleAcceleration = (long) (dataCell.getCellValue());\n      if (this.vehicleAcceleration &lt; -160 || this.vehicleAcceleration &gt; 160) {\n        this.vehicleAcceleration = 161;\n      }\n      Activator.println(&quot;VehicleAcc: &quot; + vehicleAcceleration);\n    }\n  }\n\n  public long getVehicleAcceleration() {\n    return this.vehicleAcceleration;\n  }\n\n  // YawRate\n  private void setYawRate(Cell cell) {\n    if (cell.getCellType() == CellType.DataCell) {\n      DataCell dataCell = (DataCell) cell;\n      // YawRate in 0.01 º/s\n      this.yawRate = (long) (dataCell.getCellValue());\n      if (this.yawRate &lt; -32766 || this.yawRate &gt; 32766) {\n        this.yawRate = 32767;\n      }\n      Activator.println(&quot;YawRate: &quot; + yawRate);\n    }\n  }\n\n  public long getYawRate() {\n    return this.yawRate;\n  }\n\n  private void setSteeringWheel(Cell cell) {\n    DataCell dataCell = (DataCell) cell;\n    this.steeringWheel = (int) (dataCell.getCellValue() / 1.5);\n    if (this.steeringWheel &gt;= 511) {\n      this.steeringWheel = 511;\n    }\n    if (this.steeringWheel &lt;= -511) {\n      this.steeringWheel = -511;\n    }\n\n    Activator.println(&quot;SteeringWheel: &quot; + steeringWheel);\n  }\n\n  public int getSteeringWheelAngle() {\n    return this.steeringWheel;\n  }\n\n  // LateralAcceleration\n  private void setLateralAcceleration(Cell cell) {\n    if (cell.getCellType() == CellType.DataCell) {\n      DataCell dataCell = (DataCell) cell;\n      this.lateralAcceleration = (long) (dataCell.getCellValue());\n      if (this.lateralAcceleration &lt; -160 || this.lateralAcceleration &gt; 160) {\n        this.lateralAcceleration = 161;\n      }\n      Activator.println(&quot;LatAcc: &quot; + lateralAcceleration);\n    }\n  }\n\n  public long getLateralAcceleration() {\n    return this.lateralAcceleration;\n  }\n\n  // Curvature\n  public long getCurvature() {\n    return this.curvature;\n  }\n\n  public void setCurvature() {\n    this.curvature = 1023;\n\n    if (this.speed &gt; 0) {\n      double radius = (this.yawRate / this.speed) * (Math.PI / 180);\n      this.curvature = (long) (1 / radius) * 10000;\n    }\n\n    if (this.curvature &lt; -1023) {\n      this.curvature = -1023;\n    }\n\n    if (this.curvature &gt; 1022) {\n      this.curvature = 1022;\n    }\n  }\n\n  public boolean isHighBeam() {\n    return highBeam;\n  }\n\n  public void setHighBeam(boolean highBeam) {\n    this.highBeam = highBeam;\n  }\n\n  private void setHighBeam(Cell cell) {\n    int highBeamInt = 0;\n    if (cell.getCellType() == CellType.StateDataCell) {\n      StateDataCell dataCell = (StateDataCell) cell;\n      highBeamInt = (int) dataCell.getCellValue();\n      if (highBeamInt == 1) {\n        this.highBeam = true;\n      } else {\n        this.highBeam = false;\n      }\n      Activator.println(&quot;HighBeam: &quot; + highBeam);\n    }\n  }\n\n  // LowBeam\n  private void setLowBeam(Cell cell) {\n    int lowBeamInt = 0;\n    if (cell.getCellType() == CellType.StateDataCell) {\n      StateDataCell dataCell = (StateDataCell) cell;\n      lowBeamInt = (int) dataCell.getCellValue();\n      if (lowBeamInt == 1) {\n        this.lowBeam = true;\n      } else {\n        this.lowBeam = false;\n      }\n      Activator.println(&quot;LowBeam: &quot; + lowBeam);\n    }\n  }\n\n  public boolean isLowBeam() {\n    return this.lowBeam;\n  }\n\n  public boolean isDayTimeRunning() {\n    return dayTimeRunning;\n  }\n\n  public void setDayTimeRunning(boolean dayTimeRunning) {\n    this.dayTimeRunning = dayTimeRunning;\n  }\n\n  public boolean isReverseLight() {\n    return reverseLight;\n  }\n\n  public void setReverseLight(boolean reverseLight) {\n    this.reverseLight = reverseLight;\n  }\n\n  private void setReverseLight(Cell cell) {\n    int reverseLightInt = 0;\n    if (cell.getCellType() == CellType.StateDataCell) {\n      StateDataCell dataCell = (StateDataCell) cell;\n      reverseLightInt = (int) dataCell.getCellValue();\n      if (reverseLightInt == 1) {\n        this.reverseLight = true;\n      } else {\n        this.reverseLight = false;\n      }\n      Activator.println(&quot;ReverseLight: &quot; + reverseLight);\n    }\n  }\n\n  public boolean isFogLight() {\n    return fogLight;\n  }\n\n  public void setFogLight(boolean fogLight) {\n    this.fogLight = fogLight;\n  }\n\n  public boolean isParkingLights() {\n    return parkingLights;\n  }\n\n  public void setParkingLights(boolean parkingLights) {\n    this.parkingLights = parkingLights;\n  }\n\n  // DriveDirection\n  private void setDriveDirection(Cell cell) {\n    if (cell.getCellType() == CellType.StateDataCell) {\n      StateDataCell dataCell = (StateDataCell) cell;\n      int canDriveDirection = (int) dataCell.getCellValue();\n      this.driveDirection = canDriveDirection;\n      // switch (canDriveDirection) {\n      // case 0:\n      // this.driveDirection = 2;\n      // break;\n      // case 1:\n      // this.driveDirection = 0;\n      // break;\n      // case 2:\n      // this.driveDirection = 1;\n      // break;\n      // case 3:\n      // this.driveDirection = 2;\n      // break;\n      //\n      // default:\n      // break;\n      // }\n      Activator.println(&quot;DriveDirection: &quot; + driveDirection);\n    }\n  }\n\n  public final int getDriveDirection() {\n    return this.driveDirection;\n  }\n\n  // SpeedLimiter\n  public boolean isSpeedLimiter() {\n    return speedLimiter;\n  }\n\n  private void setSpeedLimiter(boolean speedLimiter) {\n    this.speedLimiter = speedLimiter;\n  }\n\n  // Acc\n  public boolean isAcc() {\n    return acc;\n  }\n\n  private void setAcc(boolean acc) {\n    this.acc = acc;\n  }\n\n  // CruiseControl\n  public boolean isCruiseControl() {\n    return cruiseControl;\n  }\n\n  private void setCruiseControl(boolean cruiseControl) {\n    this.cruiseControl = cruiseControl;\n  }\n\n  // BrakeActivated\n  public boolean isBrakeActivated() {\n    return brakeActivated;\n  }\n\n  private void setBrakeActivated(boolean brakeActivated) {\n    this.brakeActivated = brakeActivated;\n  }\n\n  // GasPedalActivated\n  public boolean isGasPedalActivated() {\n    return gasPedalActivated;\n  }\n\n  private void setGasPedalActivated(boolean gasPedalActivated) {\n    this.gasPedalActivated = gasPedalActivated;\n  }\n\n  public boolean isEmergencyBrake() {\n    return emergencyBrake;\n  }\n\n  public void setEmergencyBrake(boolean emergencyBrake) {\n    this.emergencyBrake = emergencyBrake;\n  }\n\n  public boolean isCollisionWarning() {\n    return collisionWarning;\n  }\n\n  public void setCollisionWarning(boolean collisionWarning) {\n    this.collisionWarning = collisionWarning;\n  }\n\n  // HazardLights\n  private void setHazardLigths(Cell cell) {\n    StateDataCell dataCell = (StateDataCell) cell;\n    this.hazardLights = (int) dataCell.getCellValue();\n    Activator.println(&quot;HazardLights: &quot; + hazardLights);\n  }\n\n  public boolean isHazardLights() {\n    boolean hazardLights = false;\n    if (this.hazardLights == 1) {\n      hazardLights = true;\n    }\n    return hazardLights;\n  }\n\n  // TurnRight\n  private void setTurnRight(Cell cell) {\n    // TODO Auto-generated method stub\n    StateDataCell dataCell = (StateDataCell) cell;\n    if ((int) (dataCell.getCellValue()) == 0) {\n      this.turnRight = false;\n    } else {\n      this.turnRight = true;\n    }\n    Activator.println(&quot;TurnRight: &quot; + turnRight);\n  }\n\n  public boolean isTurnRightActivated() {\n    return turnRight;\n  }\n\n  // TurnLeft\n  private void setTurnLeft(Cell cell) {\n    // TODO Auto-generated method stub\n    StateDataCell dataCell = (StateDataCell) cell;\n    if ((int) (dataCell.getCellValue()) == 0) {\n      this.turnLeft = false;\n    } else {\n      this.turnLeft = true;\n    }\n    Activator.println(&quot;TurnLeft: &quot; + turnLeft);\n  }\n\n  public boolean isTurnLeftActivated() {\n    return turnLeft;\n  }\n\n  // WarningLights\n  private void setWarningLights(Cell cell) {\n    // TODO Auto-generated method stub\n    StateDataCell dataCell = (StateDataCell) cell;\n    this.warningLights = (int) dataCell.getCellValue();\n    Activator.println(&quot;WarningLights: &quot; + warningLights);\n  }\n\n  public boolean isWarningLightsActivated() {\n    boolean warningLights = false;\n    if (this.warningLights == 1) {\n      warningLights = true;\n    }\n    return warningLights;\n  }\n\n  public int getVehicleRole() {\n    return vehicleRole;\n  }\n\n  public void setVehicleRole(int vehicleRole) {\n    this.vehicleRole = vehicleRole;\n  }\n\n  public int getStationType() {\n    return stationType;\n  }\n\n  public void setStationType(int stationType) {\n    this.stationType = stationType;\n  }\n\n  public boolean isEmbarkationStatus() {\n    return embarkationStatus;\n  }\n\n  public void setEmbarkationStatus(boolean embarkationStatus) {\n    this.embarkationStatus = embarkationStatus;\n  }\n\n  public int getPtActivationType() {\n    return ptActivationType;\n  }\n\n  public void setPtActivationType(int ptActivationType) {\n    this.ptActivationType = ptActivationType;\n  }\n\n  public byte[] getPtActivationData() {\n    return ptActivationData;\n  }\n\n  public void setPtActivationData(byte[] ptActivationData) {\n    this.ptActivationData = ptActivationData;\n  }\n\n  public int getDangerousGoods() {\n    return dangerousGoods;\n  }\n\n  public void setDangerousGoods(int dangerousGoods) {\n    this.dangerousGoods = dangerousGoods;\n  }\n\n  public boolean isLigthSirenLb() {\n    return ligthSirenLb;\n  }\n\n  public void setLigthSirenLb(boolean ligthSirenLb) {\n    this.ligthSirenLb = ligthSirenLb;\n  }\n\n  public boolean isLigthSirenS() {\n    return ligthSirenS;\n  }\n\n  public void setLigthSirenS(boolean ligthSirenS) {\n    this.ligthSirenS = ligthSirenS;\n  }\n\n\n\npublic void stopThread() {\n    this.isRunning = false;\n\n    if (this.socket != null) {\n      this.socket.close();\n    }\n  }\n\n  \n}\n</code></pre>\n<p>AccelerationChecker class code:</p>\n<pre><code>public class AccelerationChecker{\n  \n  private long currentAcceleration;\n  \n  private double startTime;\n  \n  private double currentTime;\n  \n  private double elapsedTime;\n  \n  private boolean flag;\n  \n  public AccelerationChecker() {\n    this.currentAcceleration = 0;\n    this.flag = false;\n    this.startTime = 0;\n    this.currentTime = 0;\n  }\n    \n  public void handleAccelerationCheck(long newValue) {\n    if(newValue &lt; -7) {\n      this.startTime = System.nanoTime();\n      this.currentTime = System.nanoTime();\n      this.elapsedTime = this.currentTime - this.startTime;\n      if(this.elapsedTime &gt;= 500) {\n        this.flag = true;\n      }\n      else {\n        this.flag = false;\n      }\n    }\n  }\n  \n  public boolean getFlag() {\n    return flag;\n  }\n}\n</code></pre>\n"},{"tags":["java","android"],"owner":{"account_id":19092813,"reputation":727,"user_id":13942764,"display_name":"Deepika"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666732146,"creation_date":1666732146,"question_id":74200235,"body_markdown":"I am doing my android project and I am using an external API to connect it with the database. I have done the create and view by id. But when it comes to update and deleteI am getting error as `E/Failure&#160;message: java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING at line 1 column 2 path $`. But I am getting the success message and the the error.\r\n\r\n[![Success message and error][1]][1]\r\n\r\nWhen I delete I am getting this error but when I re build the app the data is deleted. But the update is not working.\r\n\r\nThis is my external API\r\n\r\n    \r\n    //Update fuel details\r\n    @PUT(&quot;/api/fuel/{id}&quot;)\r\n    Call&lt;Fuel&gt; updateFuel(@Path(&quot;id&quot;) int id,@Body Fuel fuel);\r\n\r\n    //Delete fuel details\r\n    @DELETE(&quot;/api/fuel/{id}&quot;)\r\n    Call&lt;Fuel&gt; deleteFuel(@Path(&quot;id&quot;) int id);\r\n\r\nAnd this is my java class for the update and delete. I have tried for 2 days and still couldn&#39;t find a solution for this. Please give me some support. Thank You.\r\n\r\n    public class ShedFuelUpdateFormActivity  extends AppCompatActivity {\r\n\r\n    EditText fuelType, arrivalTime, arrivalAmount, availableAmount, finishTime;\r\n    Button deleteButton, updateButton;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_shed_fuel_update_form_screen);\r\n\r\n        fuelType = findViewById(R.id.fuelType );\r\n        arrivalTime = findViewById(R.id.arrivalTime );\r\n        arrivalAmount = findViewById(R.id.arrivalAmount );\r\n        availableAmount = findViewById(R.id.availableAmount );\r\n        finishTime = findViewById(R.id.finishTime );\r\n\r\n        deleteButton = findViewById(R.id.deleteButton );\r\n        updateButton = findViewById(R.id.updateButton );\r\n\r\n        Intent intent = getIntent();\r\n        int fuelId = Integer.parseInt(intent.getStringExtra(&quot;fuelId&quot;));\r\n\r\n        //Get fuel by id\r\n        new Handler(Looper.myLooper()).postDelayed(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                getFuel(fuelId);\r\n            }\r\n        }, 1000);\r\n\r\n        //Call delete function\r\n        deleteButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                deleteFuel(fuelId);\r\n\r\n            }\r\n        });\r\n\r\n        //Call update function\r\n        updateButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                saveFuel(fuelId, updateFuel());\r\n\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n    //Get fuel by id details\r\n    public void getFuel(int id){\r\n        Call&lt;Fuel&gt; getFuelCall = ApiClient.getFuelServices().getFuelById(id);\r\n        getFuelCall.enqueue(new Callback&lt;Fuel&gt;() {\r\n            @Override\r\n            public void onResponse(Call&lt;Fuel&gt; call, Response&lt;Fuel&gt; response) {\r\n                if(response.isSuccessful()){\r\n                    String fuelTypeData = response.body().getFuelType();\r\n                    String arrivalTimeData = response.body().getFuelArivalTime();\r\n                    String arrivalAmountData = String.valueOf(response.body().getArivalAmount());\r\n                    String availableAmountData = String.valueOf(response.body().getCurrentAvailableAmount());\r\n                    String finishTimeData = response.body().getFuelFinishedTime();\r\n\r\n                    fuelType.setText(fuelTypeData);\r\n                    arrivalTime.setText(arrivalTimeData);\r\n                    arrivalAmount.setText(arrivalAmountData);\r\n                    availableAmount.setText(availableAmountData);\r\n                    finishTime.setText(finishTimeData);\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onFailure(Call&lt;Fuel&gt; call, Throwable t) {\r\n                Log.e(&quot;Failure message&quot;,t.getLocalizedMessage());\r\n            }\r\n        });\r\n    }\r\n\r\n    //Delete fuel details\r\n    public void deleteFuel(int id){\r\n        Call&lt;Fuel&gt; deleteFuelCall = ApiClient.getFuelServices().deleteFuel(id);\r\n        deleteFuelCall.enqueue(new Callback&lt;Fuel&gt;() {\r\n            @Override\r\n            public void onResponse(Call&lt;Fuel&gt; call, Response&lt;Fuel&gt; response) {\r\n                if(response.isSuccessful()){\r\n                    Toast.makeText(ShedFuelUpdateFormActivity.this, &quot;Fuel deleted successfully&quot;, Toast.LENGTH_LONG).show();\r\n                    Intent intent = getIntent();\r\n                    String shedId = intent.getStringExtra(&quot;shedId&quot;);\r\n                    Intent i = new Intent(ShedFuelUpdateFormActivity.this, ShedOwnerHomeActivity.class).putExtra(&quot;shedId&quot;,shedId);;\r\n                    startActivity(i);\r\n                }\r\n                else{\r\n                    Toast.makeText(ShedFuelUpdateFormActivity.this, &quot;Failed to delete fuel&quot;, Toast.LENGTH_LONG).show();\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onFailure(Call&lt;Fuel&gt; call, Throwable t) {\r\n                Log.e(&quot;Failure message&quot;,t.getLocalizedMessage());\r\n            }\r\n        });\r\n    }\r\n\r\n    //Update fuel\r\n    public Fuel updateFuel(){\r\n        Fuel fuel = new Fuel();\r\n        Intent intent = getIntent();\r\n        int shedId = Integer.parseInt(intent.getStringExtra(&quot;shedId&quot;));\r\n        fuel.setShedId(shedId);\r\n        fuel.setFuelType(fuelType.getText().toString());\r\n        fuel.setFuelArivalTime(arrivalTime.getText().toString());\r\n        fuel.setArivalAmount(Integer.parseInt(arrivalAmount.getText().toString()));\r\n        fuel.setCurrentAvailableAmount(Integer.parseInt(availableAmount.getText().toString()));\r\n        fuel.setFuelFinishedTime(finishTime.getText().toString());\r\n\r\n        return fuel;\r\n    }\r\n\r\n    //Save updated fuel\r\n    public void saveFuel (int id, Fuel fuel){\r\n        Call&lt;Fuel&gt; createFuelCall = ApiClient.getFuelServices().updateFuel(id, fuel);\r\n        createFuelCall.enqueue(new Callback&lt;Fuel&gt;() {\r\n            @Override\r\n            public void onResponse(Call&lt;Fuel&gt; call, Response&lt;Fuel&gt; response) {\r\n                if(response.isSuccessful()){\r\n                    Toast.makeText(ShedFuelUpdateFormActivity.this, &quot;Fuel details updated successfully&quot;, Toast.LENGTH_LONG).show();\r\n                    Intent intent = getIntent();\r\n                    String shedId = intent.getStringExtra(&quot;shedId&quot;);\r\n                    Intent i = new Intent(ShedFuelUpdateFormActivity.this, ShedOwnerHomeActivity.class).putExtra(&quot;shedId&quot;,shedId);;\r\n                    startActivity(i);\r\n                }\r\n                else{\r\n                    Toast.makeText(ShedFuelUpdateFormActivity.this, &quot;Failed to update fuel&quot;, Toast.LENGTH_LONG).show();\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onFailure(Call&lt;Fuel&gt; call, Throwable t) {\r\n                Log.e(&quot;Failure message&quot;,t.getLocalizedMessage());\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Znumu.png","title":"Java update and delete function is giving me &#39;java.lang.IllegalStateException&#39;","body":"<p>I am doing my android project and I am using an external API to connect it with the database. I have done the create and view by id. But when it comes to update and deleteI am getting error as <code>E/Failure message: java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING at line 1 column 2 path $</code>. But I am getting the success message and the the error.</p>\n<p><a href=\"https://i.stack.imgur.com/Znumu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Znumu.png\" alt=\"Success message and error\" /></a></p>\n<p>When I delete I am getting this error but when I re build the app the data is deleted. But the update is not working.</p>\n<p>This is my external API</p>\n<pre><code>//Update fuel details\n@PUT(&quot;/api/fuel/{id}&quot;)\nCall&lt;Fuel&gt; updateFuel(@Path(&quot;id&quot;) int id,@Body Fuel fuel);\n\n//Delete fuel details\n@DELETE(&quot;/api/fuel/{id}&quot;)\nCall&lt;Fuel&gt; deleteFuel(@Path(&quot;id&quot;) int id);\n</code></pre>\n<p>And this is my java class for the update and delete. I have tried for 2 days and still couldn't find a solution for this. Please give me some support. Thank You.</p>\n<pre><code>public class ShedFuelUpdateFormActivity  extends AppCompatActivity {\n\nEditText fuelType, arrivalTime, arrivalAmount, availableAmount, finishTime;\nButton deleteButton, updateButton;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_shed_fuel_update_form_screen);\n\n    fuelType = findViewById(R.id.fuelType );\n    arrivalTime = findViewById(R.id.arrivalTime );\n    arrivalAmount = findViewById(R.id.arrivalAmount );\n    availableAmount = findViewById(R.id.availableAmount );\n    finishTime = findViewById(R.id.finishTime );\n\n    deleteButton = findViewById(R.id.deleteButton );\n    updateButton = findViewById(R.id.updateButton );\n\n    Intent intent = getIntent();\n    int fuelId = Integer.parseInt(intent.getStringExtra(&quot;fuelId&quot;));\n\n    //Get fuel by id\n    new Handler(Looper.myLooper()).postDelayed(new Runnable() {\n        @Override\n        public void run() {\n            getFuel(fuelId);\n        }\n    }, 1000);\n\n    //Call delete function\n    deleteButton.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            deleteFuel(fuelId);\n\n        }\n    });\n\n    //Call update function\n    updateButton.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            saveFuel(fuelId, updateFuel());\n\n\n        }\n    });\n}\n\n//Get fuel by id details\npublic void getFuel(int id){\n    Call&lt;Fuel&gt; getFuelCall = ApiClient.getFuelServices().getFuelById(id);\n    getFuelCall.enqueue(new Callback&lt;Fuel&gt;() {\n        @Override\n        public void onResponse(Call&lt;Fuel&gt; call, Response&lt;Fuel&gt; response) {\n            if(response.isSuccessful()){\n                String fuelTypeData = response.body().getFuelType();\n                String arrivalTimeData = response.body().getFuelArivalTime();\n                String arrivalAmountData = String.valueOf(response.body().getArivalAmount());\n                String availableAmountData = String.valueOf(response.body().getCurrentAvailableAmount());\n                String finishTimeData = response.body().getFuelFinishedTime();\n\n                fuelType.setText(fuelTypeData);\n                arrivalTime.setText(arrivalTimeData);\n                arrivalAmount.setText(arrivalAmountData);\n                availableAmount.setText(availableAmountData);\n                finishTime.setText(finishTimeData);\n            }\n        }\n\n        @Override\n        public void onFailure(Call&lt;Fuel&gt; call, Throwable t) {\n            Log.e(&quot;Failure message&quot;,t.getLocalizedMessage());\n        }\n    });\n}\n\n//Delete fuel details\npublic void deleteFuel(int id){\n    Call&lt;Fuel&gt; deleteFuelCall = ApiClient.getFuelServices().deleteFuel(id);\n    deleteFuelCall.enqueue(new Callback&lt;Fuel&gt;() {\n        @Override\n        public void onResponse(Call&lt;Fuel&gt; call, Response&lt;Fuel&gt; response) {\n            if(response.isSuccessful()){\n                Toast.makeText(ShedFuelUpdateFormActivity.this, &quot;Fuel deleted successfully&quot;, Toast.LENGTH_LONG).show();\n                Intent intent = getIntent();\n                String shedId = intent.getStringExtra(&quot;shedId&quot;);\n                Intent i = new Intent(ShedFuelUpdateFormActivity.this, ShedOwnerHomeActivity.class).putExtra(&quot;shedId&quot;,shedId);;\n                startActivity(i);\n            }\n            else{\n                Toast.makeText(ShedFuelUpdateFormActivity.this, &quot;Failed to delete fuel&quot;, Toast.LENGTH_LONG).show();\n            }\n        }\n\n        @Override\n        public void onFailure(Call&lt;Fuel&gt; call, Throwable t) {\n            Log.e(&quot;Failure message&quot;,t.getLocalizedMessage());\n        }\n    });\n}\n\n//Update fuel\npublic Fuel updateFuel(){\n    Fuel fuel = new Fuel();\n    Intent intent = getIntent();\n    int shedId = Integer.parseInt(intent.getStringExtra(&quot;shedId&quot;));\n    fuel.setShedId(shedId);\n    fuel.setFuelType(fuelType.getText().toString());\n    fuel.setFuelArivalTime(arrivalTime.getText().toString());\n    fuel.setArivalAmount(Integer.parseInt(arrivalAmount.getText().toString()));\n    fuel.setCurrentAvailableAmount(Integer.parseInt(availableAmount.getText().toString()));\n    fuel.setFuelFinishedTime(finishTime.getText().toString());\n\n    return fuel;\n}\n\n//Save updated fuel\npublic void saveFuel (int id, Fuel fuel){\n    Call&lt;Fuel&gt; createFuelCall = ApiClient.getFuelServices().updateFuel(id, fuel);\n    createFuelCall.enqueue(new Callback&lt;Fuel&gt;() {\n        @Override\n        public void onResponse(Call&lt;Fuel&gt; call, Response&lt;Fuel&gt; response) {\n            if(response.isSuccessful()){\n                Toast.makeText(ShedFuelUpdateFormActivity.this, &quot;Fuel details updated successfully&quot;, Toast.LENGTH_LONG).show();\n                Intent intent = getIntent();\n                String shedId = intent.getStringExtra(&quot;shedId&quot;);\n                Intent i = new Intent(ShedFuelUpdateFormActivity.this, ShedOwnerHomeActivity.class).putExtra(&quot;shedId&quot;,shedId);;\n                startActivity(i);\n            }\n            else{\n                Toast.makeText(ShedFuelUpdateFormActivity.this, &quot;Failed to update fuel&quot;, Toast.LENGTH_LONG).show();\n            }\n        }\n\n        @Override\n        public void onFailure(Call&lt;Fuel&gt; call, Throwable t) {\n            Log.e(&quot;Failure message&quot;,t.getLocalizedMessage());\n        }\n    });\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":1,"creation_date":1666732036,"post_id":74199864,"comment_id":131005251,"body_markdown":"The type of root.getChildren() is ObservableList&lt;Node&gt;. You used ObservableList - which is called raw generic - raw means you did not specify the type of item in the list. Raw generics exist for compatibility with java 1.4, which did not have generics at all.","body":"The type of root.getChildren() is ObservableList&lt;Node&gt;. You used ObservableList - which is called raw generic - raw means you did not specify the type of item in the list. Raw generics exist for compatibility with java 1.4, which did not have generics at all."}],"answers":[{"comments":[{"owner":{"account_id":26731653,"reputation":3,"user_id":20333907,"display_name":"Resul Haydarmyradov"},"score":0,"creation_date":1666732446,"post_id":74200209,"comment_id":131005361,"body_markdown":"Hi DunkG! Thank you for answering. I checked your version, but the compiler now claims that there is an error here. ---`C:\\Users\\Resul\\Desktop\\Skills For Java&gt;javac DisplayingText.java DisplayingText.java:23: error: &#39;;&#39; expected ObservableList&lt;Node&gt; list.getChildren();\n1 error`---","body":"Hi DunkG! Thank you for answering. I checked your version, but the compiler now claims that there is an error here. ---<code>C:\\Users\\Resul\\Desktop\\Skills For Java&gt;javac DisplayingText.java DisplayingText.java:23: error: &#39;;&#39; expected ObservableList&lt;Node&gt; list.getChildren(); 1 error</code>---"},{"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1666732550,"post_id":74200209,"comment_id":131005380,"body_markdown":"@ResulHaydarmyradov Reload the page, I made a mistake in the declaration of `list`","body":"@ResulHaydarmyradov Reload the page, I made a mistake in the declaration of <code>list</code>"},{"owner":{"account_id":26731653,"reputation":3,"user_id":20333907,"display_name":"Resul Haydarmyradov"},"score":0,"creation_date":1666732851,"post_id":74200209,"comment_id":131005444,"body_markdown":"Now the Compiler says: \n`C:\\Users\\Resul\\Desktop\\Skills For Java javac DisplayingText.java DisplayingText.java:23: error: cannot find symbol\nObservableList&lt;Node&gt; list = root.getChildren();\nsymbol: class Node location: class DisplayingText\nerror\n1` The compiler points to the word &lt;Node&gt;","body":"Now the Compiler says:  <code>C:\\Users\\Resul\\Desktop\\Skills For Java javac DisplayingText.java DisplayingText.java:23: error: cannot find symbol ObservableList&lt;Node&gt; list = root.getChildren(); symbol: class Node location: class DisplayingText error 1</code> The compiler points to the word &lt;Node&gt;"},{"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1666733033,"post_id":74200209,"comment_id":131005490,"body_markdown":"You need to `import javafx.scene.Node;` too","body":"You need to <code>import javafx.scene.Node;</code> too"}],"tags":[],"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"comment_count":4,"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1666731988,"creation_date":1666731988,"answer_id":74200209,"question_id":74199864,"body_markdown":"The warning is telling you that the parameter passed to `add` is unknown type (not compile time checked). This would be fixed if you use the proper return type of `root.getChildren()` which  is declared as:\r\n\r\n     ObservableList&lt;Node&gt; list = root.getChildren();\r\n\r\nAfter this change, any attempt to add something that isn&#39;t a`Node` would be spotted by the compiler.","title":"recompile with -xlint: unchecked/unsafe operations","body":"<p>The warning is telling you that the parameter passed to <code>add</code> is unknown type (not compile time checked). This would be fixed if you use the proper return type of <code>root.getChildren()</code> which  is declared as:</p>\n<pre><code> ObservableList&lt;Node&gt; list = root.getChildren();\n</code></pre>\n<p>After this change, any attempt to add something that isn't a<code>Node</code> would be spotted by the compiler.</p>\n"}],"owner":{"account_id":26731653,"reputation":3,"user_id":20333907,"display_name":"Resul Haydarmyradov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1666732166,"accepted_answer_id":74200209,"answer_count":1,"score":-1,"last_activity_date":1666731988,"creation_date":1666729914,"question_id":74199864,"body_markdown":"\r\n```\r\nimport javafx.application.Application;\r\nimport javafx.collections.ObservableList;\r\nimport javafx.scene.Group;\r\nimport javafx.scene.Scene;\r\nimport javafx.stage.Stage;\r\nimport javafx.scene.text.Font;\r\nimport javafx.scene.text.Text;\r\n\r\npublic class DisplayingText extends Application {\r\n\t@Override\r\n\tpublic void start(Stage stage) {\r\n\t\tText text = new Text();\r\n\r\n\t\ttext.setFont(new Font(45));\r\n\r\n\t\ttext.setX(50);\r\n\t\ttext.setY(50);\r\n\r\n\t\ttext.setText(&quot;Welcome my friend!&quot;);\r\n\r\n\t\tGroup root = new Group();\r\n\r\n\t\tObservableList list = root.getChildren();\r\n\r\n\t\tlist.add(text);\r\n\r\n\t\tScene scene = new Scene(root, 600, 300);\r\n\r\n\t\tstage.setTitle(&quot;Sample Application&quot;);\r\n\r\n\t\tstage.setScene(scene);\r\n\r\n\t\tstage.show();\r\n\r\n\t}\r\n\tpublic static void main(String args[]) {\r\n\t\tlaunch(args);\r\n\t}\r\n}\r\n```\r\n\r\nThe compiler says I am using something not something. Here&#39;s what the compiler says: \r\n\r\n\r\n\r\n&gt;C:\\Users\\Resul\\Desktop\\Skills\\For Java&gt;javac -Xlint:unchecked DisplayingText.jav a\r\nDisplayingText.java:25: warning: [unchecked] unchecked call to add(E) as a membe r of the raw type List\r\nlist.add(text);\r\nwhere E is a type-variable:\r\nE extends Object declared in interface List 1 warning\r\nC:\\Users\\Resul\\Desktop\\Skills For Java&gt;\r\n\r\n\r\n\r\n\r\nSince I don&#39;t know English well, I translated everything the compiler said. But still, I didn&#39;t understand what exactly the compiler wants. because it&#39;s the first time I&#39;m facing this.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nf3Ql.png","title":"recompile with -xlint: unchecked/unsafe operations","body":"<pre><code>import javafx.application.Application;\nimport javafx.collections.ObservableList;\nimport javafx.scene.Group;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\nimport javafx.scene.text.Font;\nimport javafx.scene.text.Text;\n\npublic class DisplayingText extends Application {\n    @Override\n    public void start(Stage stage) {\n        Text text = new Text();\n\n        text.setFont(new Font(45));\n\n        text.setX(50);\n        text.setY(50);\n\n        text.setText(&quot;Welcome my friend!&quot;);\n\n        Group root = new Group();\n\n        ObservableList list = root.getChildren();\n\n        list.add(text);\n\n        Scene scene = new Scene(root, 600, 300);\n\n        stage.setTitle(&quot;Sample Application&quot;);\n\n        stage.setScene(scene);\n\n        stage.show();\n\n    }\n    public static void main(String args[]) {\n        launch(args);\n    }\n}\n</code></pre>\n<p>The compiler says I am using something not something. Here's what the compiler says:</p>\n<blockquote>\n<p>C:\\Users\\Resul\\Desktop\\Skills\\For Java&gt;javac -Xlint:unchecked DisplayingText.jav a\nDisplayingText.java:25: warning: [unchecked] unchecked call to add(E) as a membe r of the raw type List\nlist.add(text);\nwhere E is a type-variable:\nE extends Object declared in interface List 1 warning\nC:\\Users\\Resul\\Desktop\\Skills For Java&gt;</p>\n</blockquote>\n<p>Since I don't know English well, I translated everything the compiler said. But still, I didn't understand what exactly the compiler wants. because it's the first time I'm facing this.</p>\n"},{"tags":["java","android","kotlin"],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1666654488,"creation_date":1666654488,"answer_id":74187787,"question_id":74187738,"body_markdown":"&gt; Is this normal?\r\n\r\nYes. Most permissions are not set up this way, but this pair is. After all, if you can measure location within a few dozen meters (`ACCESS_FINE_LOCATION`), then by definition you can measure location within a much larger radius (`ACCESS_COARSE_LOCATION`).","title":"android.permission.ACCESS_FINE_LOCATION also gives permission to android.permission.ACCESS_COARSE_LOCATION","body":"<blockquote>\n<p>Is this normal?</p>\n</blockquote>\n<p>Yes. Most permissions are not set up this way, but this pair is. After all, if you can measure location within a few dozen meters (<code>ACCESS_FINE_LOCATION</code>), then by definition you can measure location within a much larger radius (<code>ACCESS_COARSE_LOCATION</code>).</p>\n"}],"owner":{"account_id":24134501,"reputation":35,"user_id":18101638,"display_name":"lacrimosa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":413,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74187787,"answer_count":1,"score":2,"last_activity_date":1666731862,"creation_date":1666653876,"question_id":74187738,"body_markdown":"I am testing android permissions for both camera and location. Surprisingly to me, I learned that when I give access to fine location, system also gives permission to coarse location. Is this normal? I first checked with Toasts to see the granted accesses. When I give access to coarse only, it shows that fine location permission is denied, which is normal. But when I give access to fine address, it also gives permission to coarse location. Is this normal?\r\n\r\n\r\n    class MainActivity : AppCompatActivity() {\r\n        private lateinit var binding: ActivityMainBinding\r\n        private var cameraResultLauncher: ActivityResultLauncher&lt;String&gt; =\r\n            registerForActivityResult(\r\n            ActivityResultContracts.RequestPermission()){\r\n                isGranted -&gt;\r\n                if (isGranted){\r\n                    Toast.makeText(this, &quot;Permission granted&quot;, Toast.LENGTH_LONG).show()\r\n                }else{\r\n                    Toast.makeText(this, &quot;Permission denied&quot;, Toast.LENGTH_LONG).show()\r\n                }\r\n            }\r\n    \r\n        //This time we create the Activity result launcher of type Array&lt;String&gt;\r\n        private var cameraAndLocationResultLauncher: ActivityResultLauncher&lt;Array&lt;String&gt;&gt; =\r\n            registerForActivityResult(\r\n                ActivityResultContracts.RequestMultiplePermissions()){\r\n                permissions -&gt;\r\n                /**\r\n                Here it returns a Map of permission name as key with boolean as value\r\n                Loop through the map to get the value we need which is the boolean\r\n                value\r\n                 */\r\n                permissions.entries.forEach{\r\n                    val permissionName = it.key\r\n                    val isGranted = it.value\r\n                    println(permissionName)\r\n                    println(isGranted)\r\n                    if (isGranted){\r\n                        if (permissionName == Manifest.permission.ACCESS_FINE_LOCATION){\r\n                            Toast.makeText(this, &quot;Permission granted for fine location&quot;, Toast.LENGTH_LONG).show()\r\n    \r\n                        }else if(permissionName == Manifest.permission.ACCESS_COARSE_LOCATION){\r\n                            Toast.makeText(this, &quot;Permission granted for coarse location&quot;, Toast.LENGTH_LONG).show()\r\n    \r\n                        }else{\r\n                            Toast.makeText(this, &quot;Permission granted for Camera&quot;, Toast.LENGTH_LONG).show()\r\n                        }\r\n                    }else{\r\n                        if (permissionName == Manifest.permission.ACCESS_FINE_LOCATION){\r\n                            Toast.makeText(this, &quot;Permission denied for fine location&quot;, Toast.LENGTH_LONG).show()\r\n    \r\n                        }else if(permissionName == Manifest.permission.ACCESS_COARSE_LOCATION){\r\n                            Toast.makeText(this, &quot;Permission denied for coarse location&quot;, Toast.LENGTH_LONG).show()\r\n    \r\n                        }else{\r\n                            Toast.makeText(this, &quot;Permission denied for Camera&quot;, Toast.LENGTH_LONG).show()\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n    \r\n    \r\n        override fun onCreate(savedInstanceState: Bundle?) {\r\n            super.onCreate(savedInstanceState)\r\n            binding = ActivityMainBinding.inflate(layoutInflater)\r\n            setContentView(binding.root)\r\n    \r\n            val btnCameraPermission: Button = binding.btnCameraPermission\r\n            btnCameraPermission.setOnClickListener {\r\n                if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M &amp;&amp; shouldShowRequestPermissionRationale(\r\n                        Manifest.permission.CAMERA)){\r\n                    showRationaleDialog(&quot;Permission Demo requires camera access&quot;, &quot;Camera cannot be used because Camera access is denied&quot;)\r\n                }else{\r\n                    // You can directly ask for the permission.\r\n                    // The registered ActivityResultCallback gets the result of this request.\r\n    \r\n    //                cameraResultLauncher.launch(Manifest.permission.CAMERA)  this for only camera permission\r\n                    cameraAndLocationResultLauncher.launch(arrayOf(Manifest.permission.CAMERA, Manifest.permission.ACCESS_FINE_LOCATION, Manifest.permission.ACCESS_COARSE_LOCATION))\r\n                }\r\n            }\r\n        }\r\n    \r\n        private fun showRationaleDialog(\r\n            title: String,\r\n            message: String,\r\n        ){\r\n            val builder: AlertDialog.Builder = AlertDialog.Builder(this)\r\n            builder.setTitle(title)\r\n                .setMessage(message)\r\n                .setPositiveButton(&quot;Cancel&quot;){\r\n                        dialog, _-&gt; dialog.dismiss()\r\n                }\r\n            builder.create().show()\r\n        }\r\n    \r\n    }\r\n\r\n    I/System.out: android.permission.ACCESS_FINE_LOCATION\r\n    I/System.out: true\r\n    I/System.out: android.permission.ACCESS_COARSE_LOCATION\r\n    I/System.out: true\r\n","title":"android.permission.ACCESS_FINE_LOCATION also gives permission to android.permission.ACCESS_COARSE_LOCATION","body":"<p>I am testing android permissions for both camera and location. Surprisingly to me, I learned that when I give access to fine location, system also gives permission to coarse location. Is this normal? I first checked with Toasts to see the granted accesses. When I give access to coarse only, it shows that fine location permission is denied, which is normal. But when I give access to fine address, it also gives permission to coarse location. Is this normal?</p>\n<pre><code>class MainActivity : AppCompatActivity() {\n    private lateinit var binding: ActivityMainBinding\n    private var cameraResultLauncher: ActivityResultLauncher&lt;String&gt; =\n        registerForActivityResult(\n        ActivityResultContracts.RequestPermission()){\n            isGranted -&gt;\n            if (isGranted){\n                Toast.makeText(this, &quot;Permission granted&quot;, Toast.LENGTH_LONG).show()\n            }else{\n                Toast.makeText(this, &quot;Permission denied&quot;, Toast.LENGTH_LONG).show()\n            }\n        }\n\n    //This time we create the Activity result launcher of type Array&lt;String&gt;\n    private var cameraAndLocationResultLauncher: ActivityResultLauncher&lt;Array&lt;String&gt;&gt; =\n        registerForActivityResult(\n            ActivityResultContracts.RequestMultiplePermissions()){\n            permissions -&gt;\n            /**\n            Here it returns a Map of permission name as key with boolean as value\n            Loop through the map to get the value we need which is the boolean\n            value\n             */\n            permissions.entries.forEach{\n                val permissionName = it.key\n                val isGranted = it.value\n                println(permissionName)\n                println(isGranted)\n                if (isGranted){\n                    if (permissionName == Manifest.permission.ACCESS_FINE_LOCATION){\n                        Toast.makeText(this, &quot;Permission granted for fine location&quot;, Toast.LENGTH_LONG).show()\n\n                    }else if(permissionName == Manifest.permission.ACCESS_COARSE_LOCATION){\n                        Toast.makeText(this, &quot;Permission granted for coarse location&quot;, Toast.LENGTH_LONG).show()\n\n                    }else{\n                        Toast.makeText(this, &quot;Permission granted for Camera&quot;, Toast.LENGTH_LONG).show()\n                    }\n                }else{\n                    if (permissionName == Manifest.permission.ACCESS_FINE_LOCATION){\n                        Toast.makeText(this, &quot;Permission denied for fine location&quot;, Toast.LENGTH_LONG).show()\n\n                    }else if(permissionName == Manifest.permission.ACCESS_COARSE_LOCATION){\n                        Toast.makeText(this, &quot;Permission denied for coarse location&quot;, Toast.LENGTH_LONG).show()\n\n                    }else{\n                        Toast.makeText(this, &quot;Permission denied for Camera&quot;, Toast.LENGTH_LONG).show()\n                    }\n                }\n            }\n        }\n\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        binding = ActivityMainBinding.inflate(layoutInflater)\n        setContentView(binding.root)\n\n        val btnCameraPermission: Button = binding.btnCameraPermission\n        btnCameraPermission.setOnClickListener {\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M &amp;&amp; shouldShowRequestPermissionRationale(\n                    Manifest.permission.CAMERA)){\n                showRationaleDialog(&quot;Permission Demo requires camera access&quot;, &quot;Camera cannot be used because Camera access is denied&quot;)\n            }else{\n                // You can directly ask for the permission.\n                // The registered ActivityResultCallback gets the result of this request.\n\n//                cameraResultLauncher.launch(Manifest.permission.CAMERA)  this for only camera permission\n                cameraAndLocationResultLauncher.launch(arrayOf(Manifest.permission.CAMERA, Manifest.permission.ACCESS_FINE_LOCATION, Manifest.permission.ACCESS_COARSE_LOCATION))\n            }\n        }\n    }\n\n    private fun showRationaleDialog(\n        title: String,\n        message: String,\n    ){\n        val builder: AlertDialog.Builder = AlertDialog.Builder(this)\n        builder.setTitle(title)\n            .setMessage(message)\n            .setPositiveButton(&quot;Cancel&quot;){\n                    dialog, _-&gt; dialog.dismiss()\n            }\n        builder.create().show()\n    }\n\n}\n\nI/System.out: android.permission.ACCESS_FINE_LOCATION\nI/System.out: true\nI/System.out: android.permission.ACCESS_COARSE_LOCATION\nI/System.out: true\n</code></pre>\n"},{"tags":["java","swing","jpanel","jbutton","jscrollpane"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":2,"creation_date":1666731585,"post_id":74200019,"comment_id":131005108,"body_markdown":"Don&#39;t use setBounds(...) or setSize(...). This implies you are using a null layout which you should NOT be doing. Swing was designed to be used with layout managers. It is the job of the layout manager to set the size/location of components based on the rules of the layout manager.","body":"Don&#39;t use setBounds(...) or setSize(...). This implies you are using a null layout which you should NOT be doing. Swing was designed to be used with layout managers. It is the job of the layout manager to set the size/location of components based on the rules of the layout manager."}],"answers":[{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666731434,"creation_date":1666731434,"answer_id":74200115,"question_id":74200019,"body_markdown":"    cMain.challengeModeScrollPane.add(cMain.challengeModePanel);\r\n\r\nDon&#39;t add components directly to the scroll pane. A scroll panel uses its own layout manager for the scrollbars and &quot;viewport&quot; etc, so the add(...) method doesn&#39;t do what you expect. \r\n\r\nThe component needs to be added to the &quot;viewport&quot; of the scroll pane. \r\n\r\nThis can be done by using:\r\n\r\n    scrollPane.setViewportView(challengeModePanel);\r\n\r\nOr easier is to just use:\r\n\r\n    JScrollPane scrollPane = new JScrollPane(challengeModePanel, ...);\r\n\r\n when you create the scroll pane.\r\n\r\nRead the section from the Swing tutorial on [How to Use Scroll Panes](https://docs.oracle.com/javase/tutorial/uiswing/components/scrollpane.html) for more information.","title":"Making a scrolling JPanel with JButtons and adding it to JScrollPane","body":"<pre><code>cMain.challengeModeScrollPane.add(cMain.challengeModePanel);\n</code></pre>\n<p>Don't add components directly to the scroll pane. A scroll panel uses its own layout manager for the scrollbars and &quot;viewport&quot; etc, so the add(...) method doesn't do what you expect.</p>\n<p>The component needs to be added to the &quot;viewport&quot; of the scroll pane.</p>\n<p>This can be done by using:</p>\n<pre><code>scrollPane.setViewportView(challengeModePanel);\n</code></pre>\n<p>Or easier is to just use:</p>\n<pre><code>JScrollPane scrollPane = new JScrollPane(challengeModePanel, ...);\n</code></pre>\n<p>when you create the scroll pane.</p>\n<p>Read the section from the Swing tutorial on <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/scrollpane.html\" rel=\"nofollow noreferrer\">How to Use Scroll Panes</a> for more information.</p>\n"}],"owner":{"account_id":25745781,"reputation":17,"user_id":19499021,"display_name":"TylerBalaskovitz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1666780983,"answer_count":1,"score":-1,"last_activity_date":1666731729,"creation_date":1666730858,"question_id":74200019,"body_markdown":"I&#39;m trying to make an array of buttons go inside of a JPanel. From there, I want the JPanel to be added to a JScrollPane so if there are more buttons that are needed, I will be able to scroll through all of the buttons as the app scales in size. However, after compiling, the JPanel is fine and will render all 10 buttons fine. Then the trouble begins, once I add the JPanel to the JScrollPane, the entire JScrollPane is completely blank. \r\n\r\n\r\n```\r\n\tcMain.challengeModePanel = new JPanel(new GridLayout(10,1));\r\n\tcMain.challengeModePanel.setBackground(Color.black);\r\n\tcMain.challengeModePanel.setForeground(Color.white);\r\n\tcMain.challengeModePanel.setVisible(true);\r\n\t\r\n\t\r\n\t//panelConfiguration(cMain.challengeModePanel, 175, 240, 250, 250, Color.black, 10,1, cMain.window);\r\n\t\r\n//The button generator method below was created by me to quickly add features to a button such as foreground, background, handlers and the panel it is going to be added to\r\n\r\n\tfor (int i = 0; i &lt; 10; i++) {\r\n\tcMain.challengeModeButtons[i] = new JButton();\r\n\tbuttonGenerator(cMain.challengeModeButtons[i], cMain.font3, Color.black, Color.white, false, cMain.clickerHandler, &quot;StartMenu&quot;, cMain.mouseHandler, cMain.challengeModePanel);\r\n\tcMain.challengeModeButtons[i].setSize(100, 50);\r\n\tcMain.challengeModePanel.add(cMain.challengeModeButtons[i]);\r\n\t\r\n\t}\r\n\r\n\tcMain.challengeModeScrollPane = new JScrollPane(JScrollPane.VERTICAL_SCROLLBAR_ALWAYS, JScrollPane.HORIZONTAL_SCROLLBAR_ALWAYS);\r\n\tcMain.challengeModeScrollPane.setColumnHeaderView(new JLabel(&quot;Challenges:&quot;));\r\n\tcMain.challengeModeScrollPane.setBackground(Color.black);\r\n\tcMain.challengeModeScrollPane.setForeground(Color.white);\r\n\tcMain.challengeModeScrollPane.add(cMain.challengeModePanel);\r\n\tcMain.challengeModeScrollPane.setBounds(130, 180, 200, 300);\r\n\tcMain.challengeModeScrollPane.setVisible(true);\r\n\t\r\n\t\r\n\t\r\n\tcMain.window.add(cMain.challengeModeScrollPane);\r\n```\r\n\r\n\r\nI was expecting the program to render the buttons at the size they were set in within the code. From there, I was hoping that that JPanel would go inside of the JScrollPane and allow me to view it in a smaller area with the ability to scroll through all of the buttons akin to a JTextArea. However, as mentioned above, the JScrollPane is only rendering a blank pane with a vertical scroll and horizontal scroll bar. ","title":"Making a scrolling JPanel with JButtons and adding it to JScrollPane","body":"<p>I'm trying to make an array of buttons go inside of a JPanel. From there, I want the JPanel to be added to a JScrollPane so if there are more buttons that are needed, I will be able to scroll through all of the buttons as the app scales in size. However, after compiling, the JPanel is fine and will render all 10 buttons fine. Then the trouble begins, once I add the JPanel to the JScrollPane, the entire JScrollPane is completely blank.</p>\n<pre><code>    cMain.challengeModePanel = new JPanel(new GridLayout(10,1));\n    cMain.challengeModePanel.setBackground(Color.black);\n    cMain.challengeModePanel.setForeground(Color.white);\n    cMain.challengeModePanel.setVisible(true);\n    \n    \n    //panelConfiguration(cMain.challengeModePanel, 175, 240, 250, 250, Color.black, 10,1, cMain.window);\n    \n//The button generator method below was created by me to quickly add features to a button such as foreground, background, handlers and the panel it is going to be added to\n\n    for (int i = 0; i &lt; 10; i++) {\n    cMain.challengeModeButtons[i] = new JButton();\n    buttonGenerator(cMain.challengeModeButtons[i], cMain.font3, Color.black, Color.white, false, cMain.clickerHandler, &quot;StartMenu&quot;, cMain.mouseHandler, cMain.challengeModePanel);\n    cMain.challengeModeButtons[i].setSize(100, 50);\n    cMain.challengeModePanel.add(cMain.challengeModeButtons[i]);\n    \n    }\n\n    cMain.challengeModeScrollPane = new JScrollPane(JScrollPane.VERTICAL_SCROLLBAR_ALWAYS, JScrollPane.HORIZONTAL_SCROLLBAR_ALWAYS);\n    cMain.challengeModeScrollPane.setColumnHeaderView(new JLabel(&quot;Challenges:&quot;));\n    cMain.challengeModeScrollPane.setBackground(Color.black);\n    cMain.challengeModeScrollPane.setForeground(Color.white);\n    cMain.challengeModeScrollPane.add(cMain.challengeModePanel);\n    cMain.challengeModeScrollPane.setBounds(130, 180, 200, 300);\n    cMain.challengeModeScrollPane.setVisible(true);\n    \n    \n    \n    cMain.window.add(cMain.challengeModeScrollPane);\n</code></pre>\n<p>I was expecting the program to render the buttons at the size they were set in within the code. From there, I was hoping that that JPanel would go inside of the JScrollPane and allow me to view it in a smaller area with the ability to scroll through all of the buttons akin to a JTextArea. However, as mentioned above, the JScrollPane is only rendering a blank pane with a vertical scroll and horizontal scroll bar.</p>\n"},{"tags":["java","filter","collections","java-stream"],"comments":[{"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"score":0,"creation_date":1627421572,"post_id":68551925,"comment_id":121151511,"body_markdown":"You&#39;re calling `findFirst()` which will remove all the elements but the first one. Is this what you intended? \nWhat&#39;s the data type for `getWidgetId()` ? How do you know the id 58 is present?","body":"You&#39;re calling <code>findFirst()</code> which will remove all the elements but the first one. Is this what you intended?  What&#39;s the data type for <code>getWidgetId()</code> ? How do you know the id 58 is present?"},{"owner":{"account_id":21208933,"reputation":922,"user_id":15597975,"display_name":"mars8"},"score":0,"creation_date":1627670320,"post_id":68551925,"comment_id":121227428,"body_markdown":"thanks, the answer that was provided by Deadpool is what i was looking for.","body":"thanks, the answer that was provided by Deadpool is what i was looking for."}],"answers":[{"tags":[],"owner":{"account_id":13798611,"reputation":37885,"user_id":9959152,"display_name":"Ryuzaki L"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1627421639,"creation_date":1627421639,"answer_id":68552001,"question_id":68551925,"body_markdown":"You should `filter` the list first and the use `findFirst`\r\n\r\n    AllData allData = allDataList.stream()\r\n           .filter(e -&gt; e.getMyTicker().getWidgetId() == 58)\r\n           .findFirst().get();\r\n\r\nI would recommend to use [orElse][1] to avoid NoSuchElementException - if there is no value present in Optional\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#orElse-T-","title":"Return Element based on matching criteria from Stream","body":"<p>You should <code>filter</code> the list first and the use <code>findFirst</code></p>\n<pre><code>AllData allData = allDataList.stream()\n       .filter(e -&gt; e.getMyTicker().getWidgetId() == 58)\n       .findFirst().get();\n</code></pre>\n<p>I would recommend to use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#orElse-T-\" rel=\"nofollow noreferrer\">orElse</a> to avoid NoSuchElementException - if there is no value present in Optional</p>\n"},{"comments":[{"owner":{"account_id":4525934,"reputation":1823,"user_id":3677773,"accept_rate":81,"display_name":"Daniel Bragg"},"score":0,"creation_date":1666731641,"post_id":68552885,"comment_id":131005126,"body_markdown":"MyObject object = list.stream().filter(e -&gt; e.getMyTicker().getWidgetId() == 58).findFirst();\n\n\n&quot;.orElse(null)&quot; is unnecessary, as findFirst returns Optional.","body":"MyObject object = list.stream().filter(e -&gt; e.getMyTicker().getWidgetId() == 58).findFirst();   &quot;.orElse(null)&quot; is unnecessary, as findFirst returns Optional."},{"owner":{"account_id":15771587,"reputation":22,"user_id":11380487,"display_name":"Aloha_Scope"},"score":0,"creation_date":1666799075,"post_id":68552885,"comment_id":131022583,"body_markdown":"Correct, findFirst returns an optional which means MyObject object = list.stream().filter(e -&gt; e.getMyTicker().getWidgetId() == 58).findFirst(); won’t compile MyObject object is not an optional. You either have to do Optional&lt;MyObject&gt; object or append the orElse(null) to the stream to avoid it.","body":"Correct, findFirst returns an optional which means MyObject object = list.stream().filter(e -&gt; e.getMyTicker().getWidgetId() == 58).findFirst(); won’t compile MyObject object is not an optional. You either have to do Optional&lt;MyObject&gt; object or append the orElse(null) to the stream to avoid it."}],"tags":[],"owner":{"account_id":15771587,"reputation":22,"user_id":11380487,"display_name":"Aloha_Scope"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627430084,"creation_date":1627430084,"answer_id":68552885,"question_id":68551925,"body_markdown":"What happens if nothing is returned?  You would want a default value to fall back on and also call findFirst() after filter(). Here you go:\r\n\r\n\r\n        public static void main(String[] args) {\r\n        List&lt;MyObject&gt; list = new ArrayList&lt;&gt;();\r\n        MyObject object = list.stream().filter(e -&gt; e.getMyTicker().getWidgetId() == 58).findFirst().orElse(null);\r\n    }\r\n\r\n    public static class MyObject {\r\n        private Ticker myTicker;\r\n\r\n        public Ticker getMyTicker() {\r\n            return myTicker;\r\n        }\r\n    }\r\n\r\n    public static class Ticker {\r\n        private int widgetId;\r\n\r\n        public int getWidgetId() {\r\n            return this.widgetId;\r\n        }\r\n    }\r\n\r\n","title":"Return Element based on matching criteria from Stream","body":"<p>What happens if nothing is returned?  You would want a default value to fall back on and also call findFirst() after filter(). Here you go:</p>\n<pre><code>    public static void main(String[] args) {\n    List&lt;MyObject&gt; list = new ArrayList&lt;&gt;();\n    MyObject object = list.stream().filter(e -&gt; e.getMyTicker().getWidgetId() == 58).findFirst().orElse(null);\n}\n\npublic static class MyObject {\n    private Ticker myTicker;\n\n    public Ticker getMyTicker() {\n        return myTicker;\n    }\n}\n\npublic static class Ticker {\n    private int widgetId;\n\n    public int getWidgetId() {\n        return this.widgetId;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":21208933,"reputation":922,"user_id":15597975,"display_name":"mars8"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3837,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":68552001,"answer_count":2,"score":2,"last_activity_date":1666731610,"creation_date":1627420982,"question_id":68551925,"body_markdown":"I have a list of custom object AllData. I would like to return one element from this list that matches a specific criteria (widgetId = 58). How would i use stream/filter/collections to return single AllData object matching my criteria. I have tried the below, however i get *NoSuchElementException.* \r\n\r\n```\r\nAppDatabase db = AppDatabase.getDbInstance(MyContext.getContext());\r\nList&lt;AllData&gt; allDataList = db.allDataDao().getAllDataList();\r\nAllData allData = allDataList.stream().findFirst().filter(e -&gt; e.getMyTicker().getWidgetId() == 58).get();\r\n```\r\n\r\n","title":"Return Element based on matching criteria from Stream","body":"<p>I have a list of custom object AllData. I would like to return one element from this list that matches a specific criteria (widgetId = 58). How would i use stream/filter/collections to return single AllData object matching my criteria. I have tried the below, however i get <em>NoSuchElementException.</em></p>\n<pre><code>AppDatabase db = AppDatabase.getDbInstance(MyContext.getContext());\nList&lt;AllData&gt; allDataList = db.allDataDao().getAllDataList();\nAllData allData = allDataList.stream().findFirst().filter(e -&gt; e.getMyTicker().getWidgetId() == 58).get();\n</code></pre>\n"},{"tags":["java","java-native-interface"],"comments":[{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":0,"creation_date":1666732879,"post_id":74200023,"comment_id":131005452,"body_markdown":"Returning a `jstring` should be fine. Could try with `-Xcheck:jni`.","body":"Returning a <code>jstring</code> should be fine. Could try with <code>-Xcheck:jni</code>."},{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":0,"creation_date":1666733492,"post_id":74200023,"comment_id":131005601,"body_markdown":"The documentation for `sane_control_option` says &quot;It is a pointer to the memory that holds the option value. The memory area pointed to by v must be big enough to hold the entire option value (determined by member size in the corresponding option descriptor).&quot;. Does your actual code allocate memory for `value`?","body":"The documentation for <code>sane_control_option</code> says &quot;It is a pointer to the memory that holds the option value. The memory area pointed to by v must be big enough to hold the entire option value (determined by member size in the corresponding option descriptor).&quot;. Does your actual code allocate memory for <code>value</code>?"},{"owner":{"account_id":2142244,"reputation":2287,"user_id":1900620,"accept_rate":41,"display_name":"Thiago Say&#227;o"},"score":0,"creation_date":1666740874,"post_id":74200023,"comment_id":131006987,"body_markdown":"@Botje you&#39;re right, I&#39;ve missed that. Will test it, but that&#39;s probably the cause.","body":"@Botje you&#39;re right, I&#39;ve missed that. Will test it, but that&#39;s probably the cause."}],"owner":{"account_id":2142244,"reputation":2287,"user_id":1900620,"accept_rate":41,"display_name":"Thiago Say&#227;o"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666730873,"creation_date":1666730873,"question_id":74200023,"body_markdown":"\r\nI have a [SANE][1] binding with Java throught JNI and I experience crashes when touching the funcion:\r\n\r\n\r\nJava Side\r\n\r\n    native Object nativeGetCurrentValue(long hnd, int num, int type);\r\n\r\nNative Side\r\n\r\n\r\n    JNIEXPORT jobject JNICALL Java_package_Sane_nativeGetCurrentValue(JNIEnv * env, jobject o, jlong hnd, jint num, jint type) {\r\n        void *value;\r\n   \r\n   \r\n        if (sane_control_option((SANE_Handle *) hnd, num, SANE_ACTION_GET_VALUE, value, NULL) == SANE_STATUS_GOOD) {\r\n            switch (type) {\r\n                case SANE_TYPE_BOOL: {\r\n    //                fprintf(stderr, &quot;SANE_TYPE_BOOL...\\n&quot;);\r\n                    jboolean * v = (jboolean *)value;\r\n    \r\n                    jclass cls = env-&gt;FindClass(&quot;java/lang/Boolean&quot;);\r\n                    jmethodID midBool = env-&gt;GetMethodID(cls, &quot;&lt;init&gt;&quot;, &quot;(Z)V&quot;);\r\n                    return env-&gt;NewObject(cls, midBool, *v);\r\n                }\r\n                case SANE_TYPE_FIXED: {\r\n    //                fprintf(stderr, &quot;SANE_TYPE_FIXED...\\n&quot;);\r\n                    SANE_Word * v = (SANE_Word *)value;\r\n                    double d = SANE_UNFIX(*v);\r\n    \r\n                    jclass cls = env-&gt;FindClass(&quot;java/lang/Double&quot;);\r\n                    jmethodID midDoub = env-&gt;GetMethodID(cls, &quot;&lt;init&gt;&quot;, &quot;(D)V&quot;);\r\n                    return env-&gt;NewObject(cls, midDoub, (jdouble)d);\r\n                }\r\n                case SANE_TYPE_INT: {\r\n    //                fprintf(stderr, &quot;SANE_TYPE_INT...\\n&quot;);\r\n                    int * v = (int *)value;\r\n    \r\n                    jclass cls = env-&gt;FindClass(&quot;java/lang/Integer&quot;);\r\n                    jmethodID midInit = env-&gt;GetMethodID(cls, &quot;&lt;init&gt;&quot;, &quot;(I)V&quot;);\r\n                    return env-&gt;NewObject(cls, midInit, *v);\r\n                }\r\n                case SANE_TYPE_STRING:\r\n    //                fprintf(stderr, &quot;SANE_TYPE_STRING...\\n&quot;);\r\n                    jstring str = env-&gt;NewStringUTF((char *)value);\r\n                    return str;\r\n            }\r\n        }\r\n    \r\n        return NULL;\r\n    }\r\n\r\nI suspect I&#39;m doing something wrong.\r\n\r\nIs it ok to return a jstring created with `env-&gt;NewStringUTF` to java?\r\n\r\n  [1]: https://sane-project.gitlab.io/standard/api.html","title":"Java/JNI - Is it OK to return a jstring as a jobject directly to java?","body":"<p>I have a <a href=\"https://sane-project.gitlab.io/standard/api.html\" rel=\"nofollow noreferrer\">SANE</a> binding with Java throught JNI and I experience crashes when touching the funcion:</p>\n<p>Java Side</p>\n<pre><code>native Object nativeGetCurrentValue(long hnd, int num, int type);\n</code></pre>\n<p>Native Side</p>\n<pre><code>JNIEXPORT jobject JNICALL Java_package_Sane_nativeGetCurrentValue(JNIEnv * env, jobject o, jlong hnd, jint num, jint type) {\n    void *value;\n\n\n    if (sane_control_option((SANE_Handle *) hnd, num, SANE_ACTION_GET_VALUE, value, NULL) == SANE_STATUS_GOOD) {\n        switch (type) {\n            case SANE_TYPE_BOOL: {\n//                fprintf(stderr, &quot;SANE_TYPE_BOOL...\\n&quot;);\n                jboolean * v = (jboolean *)value;\n\n                jclass cls = env-&gt;FindClass(&quot;java/lang/Boolean&quot;);\n                jmethodID midBool = env-&gt;GetMethodID(cls, &quot;&lt;init&gt;&quot;, &quot;(Z)V&quot;);\n                return env-&gt;NewObject(cls, midBool, *v);\n            }\n            case SANE_TYPE_FIXED: {\n//                fprintf(stderr, &quot;SANE_TYPE_FIXED...\\n&quot;);\n                SANE_Word * v = (SANE_Word *)value;\n                double d = SANE_UNFIX(*v);\n\n                jclass cls = env-&gt;FindClass(&quot;java/lang/Double&quot;);\n                jmethodID midDoub = env-&gt;GetMethodID(cls, &quot;&lt;init&gt;&quot;, &quot;(D)V&quot;);\n                return env-&gt;NewObject(cls, midDoub, (jdouble)d);\n            }\n            case SANE_TYPE_INT: {\n//                fprintf(stderr, &quot;SANE_TYPE_INT...\\n&quot;);\n                int * v = (int *)value;\n\n                jclass cls = env-&gt;FindClass(&quot;java/lang/Integer&quot;);\n                jmethodID midInit = env-&gt;GetMethodID(cls, &quot;&lt;init&gt;&quot;, &quot;(I)V&quot;);\n                return env-&gt;NewObject(cls, midInit, *v);\n            }\n            case SANE_TYPE_STRING:\n//                fprintf(stderr, &quot;SANE_TYPE_STRING...\\n&quot;);\n                jstring str = env-&gt;NewStringUTF((char *)value);\n                return str;\n        }\n    }\n\n    return NULL;\n}\n</code></pre>\n<p>I suspect I'm doing something wrong.</p>\n<p>Is it ok to return a jstring created with <code>env-&gt;NewStringUTF</code> to java?</p>\n"},{"tags":["java","arrays","multidimensional-array","copy"],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666729944,"creation_date":1666725799,"answer_id":74199189,"question_id":74198091,"body_markdown":"You are doing several things wrong:\r\n- replacing the destination row with an empty array of source size.\r\n- using the destination length instead of the source length\r\n\r\nHere is how it should look.\r\n```\r\n static void copy(int[][] source, int[][] destination) {\r\n\r\n     for (int i = 0; i &lt; source.length; i++) {\r\n         System.arraycopy(source[i], 0, destination[i + 1], 2,\r\n                 source[i].length);\r\n     }\r\n     output(destination);\r\n }\r\n```\r\nI have included a more general solution as follows:\r\n\r\nNot all arrays will lend themselves to this kind of copy.  I return a boolean if the copy was successful or not. Here are some guidelines.\r\n- Copying to center implies the same number of unfilled rows above and below, or the same number of unfilled columns to the left or right. This can be determined by subtracting the smallest dimension from the largest and seeing if the remainder when divided by two equals zero.  If so, the copy should succeed and true is returned.   Else, an informational message is  printed and false is returned.\r\n- The starting location of each row or column is determined by subtracting the shorter dimension from the longer one and dividing by two. \r\n- The loop iterates over the source array while the `System.arraycopy` does the work of copying to the destination, incrementing the destination row index.\r\n```\r\nint[][] arr = { { 11, 12}, { 21,22}};\r\nint[][] dest = new int[4][6];\r\nif (copyToCenter(arr, dest)) {\r\n        for (int[] rows : dest) {\r\n\t        System.out.println(Arrays.toString(rows));\r\n        }\r\n}\r\n```\r\nprints\r\n```\r\n[0, 0, 0, 0, 0, 0]\r\n[0, 0, 11, 12, 0, 0]\r\n[0, 0, 21, 22, 0, 0]\r\n[0, 0, 0, 0, 0, 0]\r\n\r\n```\r\n\r\nThe copy method.\r\n```\r\nstatic boolean copyToCenter(int[][] source, int[][] destination) {\r\n     if ((destination.length - source.length) % 2 != 0\r\n             || (destination[0].length - source[0].length) % 2 != 0) {\r\n         System.out\r\n                 .println(&quot;Arrays do not lend themselves to required copy&quot;);\r\n         return false;\r\n     }\r\n     \r\n     int firstCol = (destination[0].length - source[0].length) / 2;\r\n     int destRow = (destination.length - source.length) / 2;\r\n     for (int[] sourceRow : source) {\r\n             System.arraycopy(sourceRow, 0, destination[destRow++],\r\n                     firstCol, source[0].length);\r\n     }\r\n     return true;\r\n}","title":"Copying 2x2 array contents into 4x6 array in Java","body":"<p>You are doing several things wrong:</p>\n<ul>\n<li>replacing the destination row with an empty array of source size.</li>\n<li>using the destination length instead of the source length</li>\n</ul>\n<p>Here is how it should look.</p>\n<pre><code> static void copy(int[][] source, int[][] destination) {\n\n     for (int i = 0; i &lt; source.length; i++) {\n         System.arraycopy(source[i], 0, destination[i + 1], 2,\n                 source[i].length);\n     }\n     output(destination);\n }\n</code></pre>\n<p>I have included a more general solution as follows:</p>\n<p>Not all arrays will lend themselves to this kind of copy.  I return a boolean if the copy was successful or not. Here are some guidelines.</p>\n<ul>\n<li>Copying to center implies the same number of unfilled rows above and below, or the same number of unfilled columns to the left or right. This can be determined by subtracting the smallest dimension from the largest and seeing if the remainder when divided by two equals zero.  If so, the copy should succeed and true is returned.   Else, an informational message is  printed and false is returned.</li>\n<li>The starting location of each row or column is determined by subtracting the shorter dimension from the longer one and dividing by two.</li>\n<li>The loop iterates over the source array while the <code>System.arraycopy</code> does the work of copying to the destination, incrementing the destination row index.</li>\n</ul>\n<pre><code>int[][] arr = { { 11, 12}, { 21,22}};\nint[][] dest = new int[4][6];\nif (copyToCenter(arr, dest)) {\n        for (int[] rows : dest) {\n            System.out.println(Arrays.toString(rows));\n        }\n}\n</code></pre>\n<p>prints</p>\n<pre><code>[0, 0, 0, 0, 0, 0]\n[0, 0, 11, 12, 0, 0]\n[0, 0, 21, 22, 0, 0]\n[0, 0, 0, 0, 0, 0]\n\n</code></pre>\n<p>The copy method.</p>\n<pre><code>static boolean copyToCenter(int[][] source, int[][] destination) {\n     if ((destination.length - source.length) % 2 != 0\n             || (destination[0].length - source[0].length) % 2 != 0) {\n         System.out\n                 .println(&quot;Arrays do not lend themselves to required copy&quot;);\n         return false;\n     }\n     \n     int firstCol = (destination[0].length - source[0].length) / 2;\n     int destRow = (destination.length - source.length) / 2;\n     for (int[] sourceRow : source) {\n             System.arraycopy(sourceRow, 0, destination[destRow++],\n                     firstCol, source[0].length);\n     }\n     return true;\n}\n</code></pre>\n"}],"owner":{"account_id":25263490,"reputation":3,"user_id":19094058,"display_name":"shousan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74199189,"answer_count":1,"score":0,"last_activity_date":1666729944,"creation_date":1666719396,"question_id":74198091,"body_markdown":"I&#39;m new to Java programming and my assignment was to copy the content of 2x2 two dimensional array into the middle 4x6 two-dimensional array. I did it anyway but it doesn&#39;t print out the way I wanted and I dont know why. Can someone help me identify the problem in my source program. Thanks in advance\r\n\r\n\r\n\r\n\r\n\r\n\r\n```\r\npublic class Main {\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t     int[][] a = {{11,12},{21,22}};\r\n\t     int[][] b = new int[4][6];\r\n\t\r\n\t     System.out.print(&quot;a[][] = \\n&quot;);\r\n\t     output(a);   \r\n\t     System.out.print(&quot;\\nb[][] = \\n&quot;);\r\n\t     copy(a,b);\r\n\r\n\r\n\t}\r\n\t\r\n\tstatic void output(int[][] x) {\r\n\t\r\n\t\tfor(int i=0; i&lt;x.length;i++) {\r\n\t\t\tfor(int j=0;j&lt;x[i].length;j++) {\r\n\t\t\t\tSystem.out.printf(&quot; %2d &quot;, x[i][j]);\r\n\t\t\t}\r\n\t\t\tSystem.out.println();\r\n\t\t}\r\n\t}\r\n\t\r\n\tstatic void  copy(int[][] source, int[][] destination) {\r\n\t\t\r\n\t\tfor(int i=0;i&lt;source.length;i++) {\r\n\t\t\tdestination[i]= new int[source.length];\r\n\t\t\tSystem.arraycopy(source[i], 0, destination[i+1], 2, destination[i].length);\r\n\r\n\t\t\t}\r\n\t\toutput(destination);\r\n\t\t\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\nThe result should be\r\n\r\n```\r\na[][]\r\n 11 12\r\n 21 22\r\nb[][]\r\n  0  0  0  0  0  0\r\n  0  0 11 12  0  0\r\n  0  0 21 22  0  0\r\n  0  0  0  0  0  0\r\n```\r\n\r\nbut I got\r\n\r\n```\r\na[][] = \r\n 11  12 \r\n 21  22 \r\n\r\nb[][] = \r\n  0   0 \r\n  0   0 \r\n  0   0  21  22   0   0 \r\n  0   0   0   0   0   0 \r\n```\r\n\r\ninstead.","title":"Copying 2x2 array contents into 4x6 array in Java","body":"<p>I'm new to Java programming and my assignment was to copy the content of 2x2 two dimensional array into the middle 4x6 two-dimensional array. I did it anyway but it doesn't print out the way I wanted and I dont know why. Can someone help me identify the problem in my source program. Thanks in advance</p>\n<pre><code>public class Main {\n    \n    public static void main(String[] args) {\n        \n         int[][] a = {{11,12},{21,22}};\n         int[][] b = new int[4][6];\n    \n         System.out.print(&quot;a[][] = \\n&quot;);\n         output(a);   \n         System.out.print(&quot;\\nb[][] = \\n&quot;);\n         copy(a,b);\n\n\n    }\n    \n    static void output(int[][] x) {\n    \n        for(int i=0; i&lt;x.length;i++) {\n            for(int j=0;j&lt;x[i].length;j++) {\n                System.out.printf(&quot; %2d &quot;, x[i][j]);\n            }\n            System.out.println();\n        }\n    }\n    \n    static void  copy(int[][] source, int[][] destination) {\n        \n        for(int i=0;i&lt;source.length;i++) {\n            destination[i]= new int[source.length];\n            System.arraycopy(source[i], 0, destination[i+1], 2, destination[i].length);\n\n            }\n        output(destination);\n        \n    }\n    \n}\n</code></pre>\n<p>The result should be</p>\n<pre><code>a[][]\n 11 12\n 21 22\nb[][]\n  0  0  0  0  0  0\n  0  0 11 12  0  0\n  0  0 21 22  0  0\n  0  0  0  0  0  0\n</code></pre>\n<p>but I got</p>\n<pre><code>a[][] = \n 11  12 \n 21  22 \n\nb[][] = \n  0   0 \n  0   0 \n  0   0  21  22   0   0 \n  0   0   0   0   0   0 \n</code></pre>\n<p>instead.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1666806306,"post_id":74199563,"comment_id":131025090,"body_markdown":"[Please post text, not images.](https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors-when-asking-a-question/285557#285557)","body":"<a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors-when-asking-a-question/285557#285557\">Please post text, not images.</a>"}],"answers":[{"tags":[],"owner":{"account_id":3671353,"reputation":313,"user_id":3058494,"display_name":"Carbon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666729602,"creation_date":1666729602,"answer_id":74199813,"question_id":74199563,"body_markdown":"Actually I just found this link and it looks very similar to the issue I&#39;m having. \r\n\r\nhttps://stackoverflow.com/questions/3775483/ssl-handshake-exception\r\n\r\nI&#39;m going to follow the advice from this fix.\r\n\r\nIf anyone has any extra info please feel free to comment.","title":"Java error when running a javaprofile script involving ping authentication","body":"<p>Actually I just found this link and it looks very similar to the issue I'm having.</p>\n<p><a href=\"https://stackoverflow.com/questions/3775483/ssl-handshake-exception\">SSL HandShake exception</a></p>\n<p>I'm going to follow the advice from this fix.</p>\n<p>If anyone has any extra info please feel free to comment.</p>\n"}],"owner":{"account_id":3671353,"reputation":313,"user_id":3058494,"display_name":"Carbon"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666729602,"creation_date":1666727968,"question_id":74199563,"body_markdown":"we&#39;re getting this error when we try to invoke any java script on our Linux box.  \r\n\r\nIs anyone familiar with this error, and what can be done about it? Their saying it has to do with a patch. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LIEzI.png\r\n\r\n\r\nIf this means we have to reinstall the certificate, where can I find out how to do this?\r\n\r\nThanks!","title":"Java error when running a javaprofile script involving ping authentication","body":"<p>we're getting this error when we try to invoke any java script on our Linux box.</p>\n<p>Is anyone familiar with this error, and what can be done about it? Their saying it has to do with a patch.</p>\n<p><a href=\"https://i.stack.imgur.com/LIEzI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LIEzI.png\" alt=\"enter image description here\" /></a></p>\n<p>If this means we have to reinstall the certificate, where can I find out how to do this?</p>\n<p>Thanks!</p>\n"},{"tags":["java","spring","spring-boot","spring-integration"],"answers":[{"comments":[{"owner":{"account_id":26406001,"reputation":1,"user_id":20055777,"display_name":"Choff"},"score":0,"creation_date":1666731521,"post_id":74199795,"comment_id":131005083,"body_markdown":"Can you please give me an example for @InboundChannelAdapter. I am new to this.","body":"Can you please give me an example for @InboundChannelAdapter. I am new to this."},{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1666733141,"post_id":74199795,"comment_id":131005515,"body_markdown":"The `@InboundChannelAdapter` has a `poller` attribute. That one can reference to the `PollerMetadata` where you can provide an `adviceChain` with an impl for that custom `MessageSourceMutator`. With the `setMaxMessagesPerPoll()` there is nothing to do: you just set it to `0` on the injected endpoint and reset it to something else whenever you need. See Control Bus also: https://docs.spring.io/spring-integration/docs/current/reference/html/system-management.html#control-bus","body":"The <code>@InboundChannelAdapter</code> has a <code>poller</code> attribute. That one can reference to the <code>PollerMetadata</code> where you can provide an <code>adviceChain</code> with an impl for that custom <code>MessageSourceMutator</code>. With the <code>setMaxMessagesPerPoll()</code> there is nothing to do: you just set it to <code>0</code> on the injected endpoint and reset it to something else whenever you need. See Control Bus also: <a href=\"https://docs.spring.io/spring-integration/docs/current/reference/html/system-management.html#control-bus\" rel=\"nofollow noreferrer\">docs.spring.io/spring-integration/docs/current/reference/htm&zwnj;&#8203;l/&hellip;</a>"}],"tags":[],"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666729546,"creation_date":1666729546,"answer_id":74199795,"question_id":74199684,"body_markdown":"See `AbstractPollingEndpoint`:\r\n\r\n\t/**\r\n\t * Configure a cap for messages to poll from the source per scheduling cycle.\r\n\t * A negative number means retrieve unlimited messages until the {@code MessageSource} returns {@code null}.\r\n\t * Zero means do not poll for any records - it\r\n\t * can be considered as pausing if &#39;maxMessagesPerPoll&#39; is later changed to a non-zero value.\r\n\t * The polling cycle may exit earlier if the source returns null for the current receive call.\r\n\t * @param maxMessagesPerPoll the number of message to poll per schedule.\r\n\t */\r\n\t@ManagedAttribute\r\n\tpublic void setMaxMessagesPerPoll(long maxMessagesPerPoll) {\r\n\r\nIt is also explained in docs: https://docs.spring.io/spring-integration/docs/current/reference/html/core.html#conditional-pollers\r\n\r\n&gt; Starting with version 5.5, a `0` value for `max-messages-per-poll` has a special meaning - skip the `MessageSource.receive()` call altogether, which may be considered as pausing for this inbound channel adapter until the `maxMessagesPerPoll` is changed to a non-zero value at a later time, e.g. via a Control Bus.\r\n\r\nYou can also do such a control via `MessageSourceMutator` advice injected into the poller configuration. That one has this method to implement:\r\n\r\n\t/**\r\n\t * Subclasses can decide whether to proceed with this poll.\r\n\t * @param source the message source.\r\n\t * @return true to proceed (default).\r\n\t */\r\n\tdefault boolean beforeReceive(MessageSource&lt;?&gt; source) {","title":"Spring Integration - Control sftp polling using a boolean flag for sftp inbound adaptor","body":"<p>See <code>AbstractPollingEndpoint</code>:</p>\n<pre><code>/**\n * Configure a cap for messages to poll from the source per scheduling cycle.\n * A negative number means retrieve unlimited messages until the {@code MessageSource} returns {@code null}.\n * Zero means do not poll for any records - it\n * can be considered as pausing if 'maxMessagesPerPoll' is later changed to a non-zero value.\n * The polling cycle may exit earlier if the source returns null for the current receive call.\n * @param maxMessagesPerPoll the number of message to poll per schedule.\n */\n@ManagedAttribute\npublic void setMaxMessagesPerPoll(long maxMessagesPerPoll) {\n</code></pre>\n<p>It is also explained in docs: <a href=\"https://docs.spring.io/spring-integration/docs/current/reference/html/core.html#conditional-pollers\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-integration/docs/current/reference/html/core.html#conditional-pollers</a></p>\n<blockquote>\n<p>Starting with version 5.5, a <code>0</code> value for <code>max-messages-per-poll</code> has a special meaning - skip the <code>MessageSource.receive()</code> call altogether, which may be considered as pausing for this inbound channel adapter until the <code>maxMessagesPerPoll</code> is changed to a non-zero value at a later time, e.g. via a Control Bus.</p>\n</blockquote>\n<p>You can also do such a control via <code>MessageSourceMutator</code> advice injected into the poller configuration. That one has this method to implement:</p>\n<pre><code>/**\n * Subclasses can decide whether to proceed with this poll.\n * @param source the message source.\n * @return true to proceed (default).\n */\ndefault boolean beforeReceive(MessageSource&lt;?&gt; source) {\n</code></pre>\n"}],"owner":{"account_id":26406001,"reputation":1,"user_id":20055777,"display_name":"Choff"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":222,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666729546,"creation_date":1666728732,"question_id":74199684,"body_markdown":"Is there a way in spring integration sftp adaptor to control the polling based on a boolean flag?\r\nExample \r\n\r\n- boolean flag = true, then poll the directory, and get the file.\r\n- boolean flag = false, then do not poll the directory.","title":"Spring Integration - Control sftp polling using a boolean flag for sftp inbound adaptor","body":"<p>Is there a way in spring integration sftp adaptor to control the polling based on a boolean flag?\nExample</p>\n<ul>\n<li>boolean flag = true, then poll the directory, and get the file.</li>\n<li>boolean flag = false, then do not poll the directory.</li>\n</ul>\n"},{"tags":["java","netsuite","oauth-1.0a","hmacsha256"],"answers":[{"tags":[],"owner":{"account_id":4281162,"reputation":1,"user_id":3500481,"display_name":"geoduck"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666729430,"creation_date":1666729430,"answer_id":74199773,"question_id":74175164,"body_markdown":"We had a similar issue last week (the system not authenticating but the postman test connection from a laptop worked) and it was traced back to the fact that the system&#39;s clock ended up being set a few minutes fast.","title":"NetSuite using signedrequest4j OAuth 1.0 Access denied 401","body":"<p>We had a similar issue last week (the system not authenticating but the postman test connection from a laptop worked) and it was traced back to the fact that the system's clock ended up being set a few minutes fast.</p>\n"}],"owner":{"account_id":8596232,"reputation":45,"user_id":10027440,"display_name":"ElyMan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666729430,"creation_date":1666563051,"question_id":74175164,"body_markdown":"I&#39;m trying to consume services from NetSuite via signedrequest4j. The only result im getting is 401 Access denied, using the same credentials with Postman it works.\r\n\r\nthis the method to get the authorisation header :\r\n\r\n    public String buildAuthorizationHeader(String myRealm, String consumerKey, String consumerSecret, String tokenId, String tockenSecret, String url){\r\n    \tOAuthConsumer consumer = new OAuthConsumer(consumerKey, consumerSecret);\r\n    \tOAuthAccessToken accessToken = new OAuthAccessToken(tokenId, tockenSecret);\r\n    \tOAuthRealm realm = new OAuthRealm(myRealm);\r\n    \tSignedRequest request = SignedRequestFactory.create(realm, consumer, accessToken);\r\n    \trequest.readQueryStringAndAddToSignatureBaseString(url);\r\n    \trequest.setHeader(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n    \tString oAuthNonce = createNonce();\r\n    \tLong oAuthTimestamp = System.currentTimeMillis() / 1000L;\r\n    \tString signature = request.getSignature(url, HttpMethod.GET, oAuthNonce, oAuthTimestamp);\r\n    \tString authorizationHeader = request.getAuthorizationHeader(signature, oAuthNonce, oAuthTimestamp);\r\n    \treturn authorizationHeader;\r\n    }\r\n\r\nto create OauthNonce :\r\n\r\n    public static String createNonce() {\r\n        String nonce = &quot;&quot;;\r\n\r\n        try {\r\n            SecureRandom prng = SecureRandom.getInstance(&quot;SHA256PRNG&quot;);\r\n            String randomNum = String.valueOf(prng.nextInt());\r\n\r\n            MessageDigest sha = MessageDigest.getInstance(&quot;SHA-256&quot;);\r\n            byte[] result = sha.digest(randomNum.getBytes());\r\n            nonce = hexEncode(result);\r\n        } catch (Exception e) {\r\n        }\r\n\r\n        return nonce;\r\n    }\r\n    \r\n    public static String hexEncode(byte[] aInput) {\r\n        StringBuilder result = new StringBuilder();\r\n\r\n        char[] digits = { &#39;0&#39;, &#39;1&#39;, &#39;2&#39;, &#39;3&#39;, &#39;4&#39;, &#39;5&#39;, &#39;6&#39;, &#39;7&#39;, &#39;8&#39;, &#39;9&#39;,\r\n                &#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;e&#39;, &#39;f&#39; };\r\n\r\n        for (int idx = 0; idx &lt; aInput.length; ++idx) {\r\n            byte b = aInput[idx];\r\n            result.append(digits[(b &amp; 0xf0) &gt;&gt; 4]);\r\n            result.append(digits[b &amp; 0x0f]);\r\n        }\r\n\r\n        return result.toString();\r\n    }\r\n\r\nand the method to get get the response: \r\n\r\n    public Response postOAuth(String url, String token, String contentType, String content ) throws IOException, RestException {\r\n        if (url == null)\r\n            throw new IOException(&quot;No URL specified&quot;);\r\n        if (content == null)\r\n            throw new IOException(&quot;No content specified&quot;);\r\n        \r\n        try {\r\n            URL u = new URL(url);\r\n            HttpURLConnection con = (HttpURLConnection) u.openConnection();\r\n            try {\r\n                if (keepAlive != null &amp;&amp; !keepAlive.booleanValue())\r\n                    con.setRequestProperty(&quot;Connection&quot;, &quot;Close&quot;);\r\n                con.setDoOutput(true);\r\n           \r\n                \r\n                byte[] data = content.getBytes(Charset.forName(&quot;UTF8&quot;));\r\n\r\n                con.addRequestProperty(&quot;Authorization&quot;, token);\r\n                \r\n                try (OutputStream out = con.getOutputStream(); \r\n                    InputStream in = new ByteArrayInputStream(data)) {\r\n                    Utils.copy(in, out);\r\n                }\r\n                \r\n                contentType = con.getContentType();\r\n                int contentLength = con.getContentLength();\r\n                InputStream in = con.getInputStream();\r\n                return new Response(contentType, contentLength, in);\r\n            } finally {\r\n                if (con instanceof HttpURLConnection)\r\n                    ((HttpURLConnection) con).disconnect();\r\n            }\r\n        } catch (MalformedURLException e) {\r\n            throw e;\r\n        } catch (FileNotFoundException e) {\r\n        \tif (e.getMessage() != null &amp;&amp; e.getMessage().contains(url))\r\n        \t\tthrow new RestException(HttpConstants.HTTP_NOT_FOUND, &quot;Invalid URL - please check REST server: &quot; + e.getMessage(), e);\r\n            throw e;\r\n        } catch (ConnectException e) {\r\n    \t\tthrow new RestException(HttpConstants.HTTP_UNAVAILABLE, &quot;Connection refused - please check REST server: &quot; + e.getMessage(), e);\r\n        } catch (IOException e) {\r\n        \tString msg = e.getMessage().toUpperCase();\r\n        \tint http = msg.indexOf(&quot; HTTP &quot;);\r\n        \tif (http &gt; 0) {\r\n        \t\tint col = msg.indexOf(&#39;:&#39;, http);\r\n        \t\tif (col &gt; 0) {\r\n        \t\t\tmsg = msg.substring(col+1).trim();\r\n        \t\t\tint end = msg.indexOf(&#39; &#39;);\r\n        \t\t\tif (end &gt; 0 &amp;&amp; end &lt; 5) {\r\n        \t\t\t\ttry {\r\n\t        \t\t\t\tint httpError = Integer.parseInt(msg.substring(0, end));\r\n\t        \t\t\t\tswitch (httpError) {\r\n\t        \t\t\t\tcase HttpConstants.HTTP_FORBIDDEN :\r\n\t        \t\t\t\tcase HttpConstants.HTTP_UNAUTHORIZED :\r\n\t        \t\t\t\tcase HttpConstants.HTTP_PAYMENT_REQUIRED :\r\n\t\t        \t\t\t\tthrow new RestException(httpError, &quot;Access denied to &quot; + url + &quot;: &quot; + e.getMessage(), e);\r\n\t        \t\t\t\tcase HttpConstants.HTTP_BAD_REQUEST :\r\n\t        \t\t\t\tcase HttpConstants.HTTP_BAD_METHOD :\r\n\t        \t\t\t\tcase HttpConstants.HTTP_NOT_ACCEPTABLE :\r\n\t        \t\t\t\t\tthrow new RestException(httpError, &quot;REST bad request &quot; + url + &quot;: &quot; + e.getMessage(), e);\r\n\t        \t\t\t\tdefault :\r\n\t\t        \t\t\t\tthrow new RestException(httpError, &quot;REST server error for &quot; + url + &quot;: &quot; + e.getMessage(), e);\r\n\t        \t\t\t\t}\r\n        \t\t\t\t} catch (NumberFormatException ignore) {\r\n        \t\t\t\t\tthrow e;\r\n        \t\t\t\t}\r\n        \t\t\t}\r\n        \t\t}\r\n        \t}\r\n            throw e;\r\n        }\r\n    }\r\n\r\nps: signedrequest4j doesn&#39;t support SHA256, thats&#39;s why I downloaded the project and implemented a new SignedMethode for the HMAC-SHA256\r\n\r\nthe Project I&#39;m using to get the authorisation header is : \r\n[signedrequest4j][1]\r\n\r\n\r\n  [1]: https://github.com/seratch/signedrequest4j","title":"NetSuite using signedrequest4j OAuth 1.0 Access denied 401","body":"<p>I'm trying to consume services from NetSuite via signedrequest4j. The only result im getting is 401 Access denied, using the same credentials with Postman it works.</p>\n<p>this the method to get the authorisation header :</p>\n<pre><code>public String buildAuthorizationHeader(String myRealm, String consumerKey, String consumerSecret, String tokenId, String tockenSecret, String url){\n    OAuthConsumer consumer = new OAuthConsumer(consumerKey, consumerSecret);\n    OAuthAccessToken accessToken = new OAuthAccessToken(tokenId, tockenSecret);\n    OAuthRealm realm = new OAuthRealm(myRealm);\n    SignedRequest request = SignedRequestFactory.create(realm, consumer, accessToken);\n    request.readQueryStringAndAddToSignatureBaseString(url);\n    request.setHeader(&quot;Content-Type&quot;, &quot;application/json&quot;);\n    String oAuthNonce = createNonce();\n    Long oAuthTimestamp = System.currentTimeMillis() / 1000L;\n    String signature = request.getSignature(url, HttpMethod.GET, oAuthNonce, oAuthTimestamp);\n    String authorizationHeader = request.getAuthorizationHeader(signature, oAuthNonce, oAuthTimestamp);\n    return authorizationHeader;\n}\n</code></pre>\n<p>to create OauthNonce :</p>\n<pre><code>public static String createNonce() {\n    String nonce = &quot;&quot;;\n\n    try {\n        SecureRandom prng = SecureRandom.getInstance(&quot;SHA256PRNG&quot;);\n        String randomNum = String.valueOf(prng.nextInt());\n\n        MessageDigest sha = MessageDigest.getInstance(&quot;SHA-256&quot;);\n        byte[] result = sha.digest(randomNum.getBytes());\n        nonce = hexEncode(result);\n    } catch (Exception e) {\n    }\n\n    return nonce;\n}\n\npublic static String hexEncode(byte[] aInput) {\n    StringBuilder result = new StringBuilder();\n\n    char[] digits = { '0', '1', '2', '3', '4', '5', '6', '7', '8', '9',\n            'a', 'b', 'c', 'd', 'e', 'f' };\n\n    for (int idx = 0; idx &lt; aInput.length; ++idx) {\n        byte b = aInput[idx];\n        result.append(digits[(b &amp; 0xf0) &gt;&gt; 4]);\n        result.append(digits[b &amp; 0x0f]);\n    }\n\n    return result.toString();\n}\n</code></pre>\n<p>and the method to get get the response:</p>\n<pre><code>public Response postOAuth(String url, String token, String contentType, String content ) throws IOException, RestException {\n    if (url == null)\n        throw new IOException(&quot;No URL specified&quot;);\n    if (content == null)\n        throw new IOException(&quot;No content specified&quot;);\n    \n    try {\n        URL u = new URL(url);\n        HttpURLConnection con = (HttpURLConnection) u.openConnection();\n        try {\n            if (keepAlive != null &amp;&amp; !keepAlive.booleanValue())\n                con.setRequestProperty(&quot;Connection&quot;, &quot;Close&quot;);\n            con.setDoOutput(true);\n       \n            \n            byte[] data = content.getBytes(Charset.forName(&quot;UTF8&quot;));\n\n            con.addRequestProperty(&quot;Authorization&quot;, token);\n            \n            try (OutputStream out = con.getOutputStream(); \n                InputStream in = new ByteArrayInputStream(data)) {\n                Utils.copy(in, out);\n            }\n            \n            contentType = con.getContentType();\n            int contentLength = con.getContentLength();\n            InputStream in = con.getInputStream();\n            return new Response(contentType, contentLength, in);\n        } finally {\n            if (con instanceof HttpURLConnection)\n                ((HttpURLConnection) con).disconnect();\n        }\n    } catch (MalformedURLException e) {\n        throw e;\n    } catch (FileNotFoundException e) {\n        if (e.getMessage() != null &amp;&amp; e.getMessage().contains(url))\n            throw new RestException(HttpConstants.HTTP_NOT_FOUND, &quot;Invalid URL - please check REST server: &quot; + e.getMessage(), e);\n        throw e;\n    } catch (ConnectException e) {\n        throw new RestException(HttpConstants.HTTP_UNAVAILABLE, &quot;Connection refused - please check REST server: &quot; + e.getMessage(), e);\n    } catch (IOException e) {\n        String msg = e.getMessage().toUpperCase();\n        int http = msg.indexOf(&quot; HTTP &quot;);\n        if (http &gt; 0) {\n            int col = msg.indexOf(':', http);\n            if (col &gt; 0) {\n                msg = msg.substring(col+1).trim();\n                int end = msg.indexOf(' ');\n                if (end &gt; 0 &amp;&amp; end &lt; 5) {\n                    try {\n                        int httpError = Integer.parseInt(msg.substring(0, end));\n                        switch (httpError) {\n                        case HttpConstants.HTTP_FORBIDDEN :\n                        case HttpConstants.HTTP_UNAUTHORIZED :\n                        case HttpConstants.HTTP_PAYMENT_REQUIRED :\n                            throw new RestException(httpError, &quot;Access denied to &quot; + url + &quot;: &quot; + e.getMessage(), e);\n                        case HttpConstants.HTTP_BAD_REQUEST :\n                        case HttpConstants.HTTP_BAD_METHOD :\n                        case HttpConstants.HTTP_NOT_ACCEPTABLE :\n                            throw new RestException(httpError, &quot;REST bad request &quot; + url + &quot;: &quot; + e.getMessage(), e);\n                        default :\n                            throw new RestException(httpError, &quot;REST server error for &quot; + url + &quot;: &quot; + e.getMessage(), e);\n                        }\n                    } catch (NumberFormatException ignore) {\n                        throw e;\n                    }\n                }\n            }\n        }\n        throw e;\n    }\n}\n</code></pre>\n<p>ps: signedrequest4j doesn't support SHA256, thats's why I downloaded the project and implemented a new SignedMethode for the HMAC-SHA256</p>\n<p>the Project I'm using to get the authorisation header is :\n<a href=\"https://github.com/seratch/signedrequest4j\" rel=\"nofollow noreferrer\">signedrequest4j</a></p>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1666730495,"post_id":74199756,"comment_id":131004822,"body_markdown":"First, you should take the [tour] and read [ask] to see how to participate on this site.  And please include all required classes with getters, setters, toString, equals, etc properly defined.  Your example should be a [mre] so that we can better assist you.","body":"First, you should take the <a href=\"https://stackoverflow.com/tour\">tour</a> and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> to see how to participate on this site.  And please include all required classes with getters, setters, toString, equals, etc properly defined.  Your example should be a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> so that we can better assist you."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1666733492,"post_id":74199756,"comment_id":131005602,"body_markdown":"Your `sort()` method doesn&#39;t sort the `ArrayList` that you pass in, it creates a new, sorted `ArrayList`. Within the `sort()` method you correctly handle this (by using the returned lists `smaller` and `greater`), but in `main()` you ignore the returned (sorted) list and instead print out the unsorted list.","body":"Your <code>sort()</code> method doesn&#39;t sort the <code>ArrayList</code> that you pass in, it creates a new, sorted <code>ArrayList</code>. Within the <code>sort()</code> method you correctly handle this (by using the returned lists <code>smaller</code> and <code>greater</code>), but in <code>main()</code> you ignore the returned (sorted) list and instead print out the unsorted list."}],"owner":{"account_id":26731663,"reputation":1,"user_id":20333916,"display_name":"NewbieDev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666729314,"creation_date":1666729314,"question_id":74199756,"body_markdown":"I am new to programming and am currently working on a CompSci degree, I am trying to sort an array list of objects by a variable (Salary) but for some reason it isn&#39;t sorting. Could anyone let me know where I&#39;m going wrong?\r\n\r\nThanks\r\n\r\n\r\n```\r\n\t public static ArrayList&lt;Employee&gt; sort(ArrayList&lt;Employee&gt; a)\r\n\t {\r\n\t  if(a.size()&lt;=0)\r\n\t     return a;\r\n\t  ArrayList&lt;Employee&gt; smaller = new ArrayList&lt;Employee&gt;();\r\n\t  ArrayList&lt;Employee&gt; greater = new ArrayList&lt;Employee&gt;();\r\n\t  int pivot = a.get(0).getSalary();\r\n\t  for(int i=1; i&lt;a.size(); i++)\r\n\t     {\r\n\t      Integer n = a.get(i).getSalary();\r\n\t      if(n.compareTo(pivot)&lt;0)\r\n\t         smaller.add(a.get(i));\r\n\t      else\r\n\t         greater.add(a.get(i));\r\n\t     }\r\n\t  smaller=sort(smaller);\r\n\t  greater=sort(greater);\r\n\t  smaller.add(a.get(0));\r\n\t  smaller.addAll(greater);\r\n\t  return smaller;\r\n\t }\r\n```\r\n\r\n\r\nI was trying to sort an arraylist by a variable (Salary) but the Arraylist isn&#39;t being sorted - main code  below using to test:\r\n\r\n```\r\npublic static void main(String[] args) {\r\n\t\tDepartment marketing = new Department (&quot;Marketing&quot;, &quot;test avenue&quot;);\r\n\t\tDepartment admin = new Department (&quot;Admin&quot;, &quot;test avenue&quot;);\r\n\t\tDepartment sales = new Department (&quot;Sales&quot;, &quot;test avenue&quot;);\r\n\t\taddEmployee(&quot;A&quot;, &quot;1&quot;, marketing, 1);\r\n\t\taddEmployee(&quot;B&quot;, &quot;2&quot;, sales, 2);\r\n\t\taddEmployee(&quot;C&quot;, &quot;3&quot;, admin, 342);\r\n\t\taddEmployee(&quot;D&quot;, &quot;4&quot;, marketing, 55555);\r\n\t\taddEmployee(&quot;J&quot;, &quot;5&quot;, sales, 7);\r\n\t\t\r\n\t\tprintEmployeeList();\r\n\t\t\r\n\t\tsort(empList);\r\n\t\t\r\n\t\tprintEmployeeList();\r\n\t\t\r\n\t\r\n\t}\r\n```\r\n\r\nresulting in:\r\nEmployee ID:\t1\r\nName:\t\tA 1\r\nDepartment:\tMarketing\r\nSalary:\t\t1\r\n\r\nEmployee ID:\t2\r\nName:\t\tB 2\r\nDepartment:\tSales\r\nSalary:\t\t2\r\n\r\nEmployee ID:\t3\r\nName:\t\tC 3\r\nDepartment:\tAdmin\r\nSalary:\t\t342\r\n\r\nEmployee ID:\t4\r\nName:\t\tD 4\r\nDepartment:\tMarketing\r\nSalary:\t\t55555\r\n\r\nEmployee ID:\t5\r\nName:\t\tJ 5\r\nDepartment:\tSales\r\nSalary:\t\t7\r\n\r\nEmployee ID:\t1\r\nName:\t\tA 1\r\nDepartment:\tMarketing\r\nSalary:\t\t1\r\n\r\nEmployee ID:\t2\r\nName:\t\tB 2\r\nDepartment:\tSales\r\nSalary:\t\t2\r\n\r\nEmployee ID:\t3\r\nName:\t\tC 3\r\nDepartment:\tAdmin\r\nSalary:\t\t342\r\n\r\nEmployee ID:\t4\r\nName:\t\tD 4\r\nDepartment:\tMarketing\r\nSalary:\t\t55555\r\n\r\nEmployee ID:\t5\r\nName:\t\tJ 5\r\nDepartment:\tSales\r\nSalary:\t\t7\r\n","title":"Sorting ArrayList using Quicksort by a Variable","body":"<p>I am new to programming and am currently working on a CompSci degree, I am trying to sort an array list of objects by a variable (Salary) but for some reason it isn't sorting. Could anyone let me know where I'm going wrong?</p>\n<p>Thanks</p>\n<pre><code>     public static ArrayList&lt;Employee&gt; sort(ArrayList&lt;Employee&gt; a)\n     {\n      if(a.size()&lt;=0)\n         return a;\n      ArrayList&lt;Employee&gt; smaller = new ArrayList&lt;Employee&gt;();\n      ArrayList&lt;Employee&gt; greater = new ArrayList&lt;Employee&gt;();\n      int pivot = a.get(0).getSalary();\n      for(int i=1; i&lt;a.size(); i++)\n         {\n          Integer n = a.get(i).getSalary();\n          if(n.compareTo(pivot)&lt;0)\n             smaller.add(a.get(i));\n          else\n             greater.add(a.get(i));\n         }\n      smaller=sort(smaller);\n      greater=sort(greater);\n      smaller.add(a.get(0));\n      smaller.addAll(greater);\n      return smaller;\n     }\n</code></pre>\n<p>I was trying to sort an arraylist by a variable (Salary) but the Arraylist isn't being sorted - main code  below using to test:</p>\n<pre><code>public static void main(String[] args) {\n        Department marketing = new Department (&quot;Marketing&quot;, &quot;test avenue&quot;);\n        Department admin = new Department (&quot;Admin&quot;, &quot;test avenue&quot;);\n        Department sales = new Department (&quot;Sales&quot;, &quot;test avenue&quot;);\n        addEmployee(&quot;A&quot;, &quot;1&quot;, marketing, 1);\n        addEmployee(&quot;B&quot;, &quot;2&quot;, sales, 2);\n        addEmployee(&quot;C&quot;, &quot;3&quot;, admin, 342);\n        addEmployee(&quot;D&quot;, &quot;4&quot;, marketing, 55555);\n        addEmployee(&quot;J&quot;, &quot;5&quot;, sales, 7);\n        \n        printEmployeeList();\n        \n        sort(empList);\n        \n        printEmployeeList();\n        \n    \n    }\n</code></pre>\n<p>resulting in:\nEmployee ID:    1\nName:       A 1\nDepartment: Marketing\nSalary:     1</p>\n<p>Employee ID:    2\nName:       B 2\nDepartment: Sales\nSalary:     2</p>\n<p>Employee ID:    3\nName:       C 3\nDepartment: Admin\nSalary:     342</p>\n<p>Employee ID:    4\nName:       D 4\nDepartment: Marketing\nSalary:     55555</p>\n<p>Employee ID:    5\nName:       J 5\nDepartment: Sales\nSalary:     7</p>\n<p>Employee ID:    1\nName:       A 1\nDepartment: Marketing\nSalary:     1</p>\n<p>Employee ID:    2\nName:       B 2\nDepartment: Sales\nSalary:     2</p>\n<p>Employee ID:    3\nName:       C 3\nDepartment: Admin\nSalary:     342</p>\n<p>Employee ID:    4\nName:       D 4\nDepartment: Marketing\nSalary:     55555</p>\n<p>Employee ID:    5\nName:       J 5\nDepartment: Sales\nSalary:     7</p>\n"},{"tags":["java","performance"],"answers":[{"tags":[],"owner":{"account_id":3054958,"reputation":14933,"user_id":2588800,"accept_rate":100,"display_name":"Svetlin Zarev"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1493878736,"creation_date":1390151062,"answer_id":21219811,"question_id":21219777,"body_markdown":"`Arrays.sort()` uses `Tim sort` - O(N log N)  for array of objects and `QuickSort` for arrays of primitives - again O(N log N).\r\n\r\nHere is an awesome comparison of sorting algorithms: http://www.sorting-algorithms.com/","title":"The Running Time For Arrays.Sort Method in Java","body":"<p><code>Arrays.sort()</code> uses <code>Tim sort</code> - O(N log N)  for array of objects and <code>QuickSort</code> for arrays of primitives - again O(N log N).</p>\n\n<p>Here is an awesome comparison of sorting algorithms: <a href=\"http://www.sorting-algorithms.com/\" rel=\"nofollow noreferrer\">http://www.sorting-algorithms.com/</a></p>\n"},{"comments":[{"owner":{"account_id":3701688,"reputation":3357,"user_id":3081206,"display_name":"takendarkk"},"score":1,"creation_date":1390151630,"post_id":21219858,"comment_id":31959280,"body_markdown":"I also see `The sorting algorithm is a modified mergesort (in which the merge is omitted if the highest element in the low sublist is less than the lowest element in the high sublist). This algorithm offers guaranteed n*log(n) performance.` Seems like the algorithm depends on what you are sorting...","body":"I also see <code>The sorting algorithm is a modified mergesort (in which the merge is omitted if the highest element in the low sublist is less than the lowest element in the high sublist). This algorithm offers guaranteed n*log(n) performance.</code> Seems like the algorithm depends on what you are sorting..."},{"owner":{"account_id":3054958,"reputation":14933,"user_id":2588800,"accept_rate":100,"display_name":"Svetlin Zarev"},"score":1,"creation_date":1390151842,"post_id":21219858,"comment_id":31959359,"body_markdown":"@csmckelvey Yes it is called `Tim sort`","body":"@csmckelvey Yes it is called <code>Tim sort</code>"}],"tags":[],"owner":{"account_id":2730129,"reputation":4790,"user_id":2354099,"accept_rate":74,"display_name":"pinkpanther"},"comment_count":2,"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1390152382,"creation_date":1390151291,"answer_id":21219858,"question_id":21219777,"body_markdown":"From official [docs][1]  \r\n\r\nI&#39;ve observed that there are primarily two approaches. So, it depends on what you are sorting and what overloaded method from `sort` family of methods you are calling.\r\n\r\n\r\n\r\nDocs mention that **for primitive types** such as `long`, `byte` (Ex: `static void sort(long[])`):\r\n\r\n&gt; The sorting algorithm is a tuned quicksort, adapted from Jon L.\r\n&gt; Bentley and M. Douglas McIlroy&#39;s &quot;Engineering a Sort Function&quot;,\r\n&gt; Software-Practice and Experience, Vol. 23(11) P. 1249-1265 (November\r\n&gt; 1993). This algorithm offers n*log(n) performance on many data sets\r\n&gt; that cause other quicksorts to degrade to quadratic performance.\r\n\r\n**For Object types:** (Ex: `void sort(Object list[])`)\r\n\r\n**Guaranteed O(nlogn) performance**\r\n \r\n&gt; The sorting algorithm is a modified mergesort (in which the merge is\r\n&gt; omitted if the highest element in the low sublist is less than the\r\n&gt; lowest element in the high sublist). This algorithm offers guaranteed\r\n&gt; n*log(n) performance.\r\n\r\nHope that helps!\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/Arrays.html#sort%28byte%5B%5D%29","title":"The Running Time For Arrays.Sort Method in Java","body":"<p>From official <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Arrays.html#sort%28byte%5B%5D%29\" rel=\"noreferrer\">docs</a>  </p>\n\n<p>I've observed that there are primarily two approaches. So, it depends on what you are sorting and what overloaded method from <code>sort</code> family of methods you are calling.</p>\n\n<p>Docs mention that <strong>for primitive types</strong> such as <code>long</code>, <code>byte</code> (Ex: <code>static void sort(long[])</code>):</p>\n\n<blockquote>\n  <p>The sorting algorithm is a tuned quicksort, adapted from Jon L.\n  Bentley and M. Douglas McIlroy's \"Engineering a Sort Function\",\n  Software-Practice and Experience, Vol. 23(11) P. 1249-1265 (November\n  1993). This algorithm offers n*log(n) performance on many data sets\n  that cause other quicksorts to degrade to quadratic performance.</p>\n</blockquote>\n\n<p><strong>For Object types:</strong> (Ex: <code>void sort(Object list[])</code>)</p>\n\n<p><strong>Guaranteed O(nlogn) performance</strong></p>\n\n<blockquote>\n  <p>The sorting algorithm is a modified mergesort (in which the merge is\n  omitted if the highest element in the low sublist is less than the\n  lowest element in the high sublist). This algorithm offers guaranteed\n  n*log(n) performance.</p>\n</blockquote>\n\n<p>Hope that helps!</p>\n"},{"tags":[],"owner":{"account_id":20608038,"reputation":21,"user_id":15127799,"display_name":"Tarun Kumar Gola"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623399812,"creation_date":1623399486,"answer_id":67933560,"question_id":21219777,"body_markdown":"I have tested the time complexity of Arrays.sort() in the various datasets. In the worst case, it is O(n^2) time complexity. \r\nTrying doing this question using Arrays.sort() and then using Collections.sort(). You will see the difference. [Question link][1] \r\nwhen I used Arrays.sort() it took more than 2 sec.\r\nand when I  used collections.sort() it took 0.2sec\r\nCollections.sort() uses modified mergesort and Arrays.sort() uses QuickSort(). Below code is the best way to sort in java if you are using Array. In case of list you can use Collections.sort() by default.\r\n\r\n    static void sort(long[] a) {\r\n\t\tArrayList&lt;Long&gt; l=new ArrayList&lt;&gt;();\r\n\t\tfor (long i:a) l.add(i);\r\n\t\tCollections.sort(l);\r\n\t\tfor (int i=0; i&lt;a.length; i++) a[i]=l.get(i);\r\n\t}\r\n\r\n\r\n  [1]: https://codeforces.com/contest/1538/problem/C","title":"The Running Time For Arrays.Sort Method in Java","body":"<p>I have tested the time complexity of Arrays.sort() in the various datasets. In the worst case, it is O(n^2) time complexity.\nTrying doing this question using Arrays.sort() and then using Collections.sort(). You will see the difference. <a href=\"https://codeforces.com/contest/1538/problem/C\" rel=\"nofollow noreferrer\">Question link</a>\nwhen I used Arrays.sort() it took more than 2 sec.\nand when I  used collections.sort() it took 0.2sec\nCollections.sort() uses modified mergesort and Arrays.sort() uses QuickSort(). Below code is the best way to sort in java if you are using Array. In case of list you can use Collections.sort() by default.</p>\n<pre><code>static void sort(long[] a) {\n    ArrayList&lt;Long&gt; l=new ArrayList&lt;&gt;();\n    for (long i:a) l.add(i);\n    Collections.sort(l);\n    for (int i=0; i&lt;a.length; i++) a[i]=l.get(i);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3930435,"reputation":2483,"user_id":3249257,"display_name":"Denis Stafichuk"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666729195,"creation_date":1666729195,"answer_id":74199742,"question_id":21219777,"body_markdown":"It depends on what you are sorting and on your Java version. Sort methods for arrays of different types have different time and space complexities. There are also improvements in the latter Java versions.\r\n\r\nArrays.sort(int[])\r\n=====\r\n\r\nAs well as Arrays.sort(long[]), Arrays.sort(float[]) and Arrays.sort(double[])\r\n\r\nTime complexity\r\n---------------\r\n\r\nTime complexity of `Arrays.sort(int[])` depends on the version of Java.\r\n\r\n**Prior to Java 14**\r\n\r\nA pretty ordinary quicksort was used with time complexity ranging from O(n) (when the array is already sorted and we are only checking that it is) to O(n&lt;sup&gt;2&lt;/sup&gt;) for certain inputs that cause extremely uneven distribution of elements into parts with an average complexity of O(n log(n)). You can find a detailed analysis [here][1].\r\n\r\n**From Java 14 to Java 19**\r\n\r\nIn Java 14 the implementation was improved to guarantee the worst-case time complexity of O(n log(n)). The function was [changed][2] to [resort to heapsort][3] if recursion becomes too deep:\r\n```java\r\nif ((bits += DELTA) &gt; MAX_RECURSION_DEPTH) {\r\n  heapSort(a, low, high);\r\n  return;\r\n}\r\n```\r\nwhich prevents the method from degrading to quadratic time complexity.\r\n\r\n**Glimpse into the future**\r\n\r\nThere is an [initiative][4] to switch to radix sort for almost random big enough arrays thus reducing the time complexity to O(n) in the worst-case.\r\n\r\nSpace complexity\r\n----------------\r\n\r\nIn all versions, the algorithm has space complexity ranging from O(1) (when the array is already sorted and we only to check that it is) to O(n) (when the array is highly structured (there is a small number of sorted subarrays inside the original array and we merge those subarrays)).\r\n\r\nHere&#39;s where allocation happens in the worst case:\r\n```java\r\n/*\r\n * Merge runs of highly structured array.\r\n */\r\nif (count &gt; 1) {\r\n  int[] b; int offset = low;\r\n\r\n  if (sorter == null || (b = (int[]) sorter.b) == null) {\r\n    b = new int[size];\r\n  } else {\r\n    offset = sorter.offset;\r\n  }\r\n  mergeRuns(a, b, offset, 1, sorter != null, run, 0, count);\r\n}\r\nreturn true;\r\n```\r\n[DualPivotQuicksort.java][5]\r\n\r\n*While the question asks specifically about Arrays.sort(int[]) method I still decided to include answers for other data types since this is the first result when you look for Arrays.sort() time and space complexity in Google and it is not easy to find correct answers to this simple question in other places.*\r\n\r\nArrays.sort(short[])\r\n=====\r\n\r\nAs well as Arrays.sort(char[]) and Arrays.sort(byte[])\r\n\r\nTime and space complexity\r\n---------------\r\nAlthough the documentation says:\r\n\r\n&gt; The sorting algorithm is a Dual-Pivot Quicksort by Vladimir Yaroslavskiy, Jon Bentley, and Joshua Bloch. This algorithm offers O(n log(n)) performance on all data sets, and is typically faster than traditional (one-pivot) Quicksort implementations.\r\n\r\nThis is not true at least starting from Java 7. Actually, an in-place [counting sort][counting-sort-wiki] used for big enough arrays, which has linear time complexity and constant space complexity:\r\n```java\r\nprivate static void countingSort(short[] a, int low, int high) {\r\n    int[] count = new int[NUM_SHORT_VALUES];\r\n\r\n    /*\r\n     * Compute a histogram with the number of each values.\r\n     */\r\n    for (int i = high; i &gt; low; ++count[a[--i] &amp; 0xFFFF]);\r\n\r\n    /*\r\n     * Place values on their final positions.\r\n     */\r\n    if (high - low &gt; NUM_SHORT_VALUES) {\r\n        for (int i = MAX_SHORT_INDEX; --i &gt; Short.MAX_VALUE; ) {\r\n            int value = i &amp; 0xFFFF;\r\n\r\n            for (low = high - count[value]; high &gt; low;\r\n                a[--high] = (short) value\r\n            );\r\n        }\r\n    } else {\r\n        for (int i = MAX_SHORT_INDEX; high &gt; low; ) {\r\n            while (count[--i &amp; 0xFFFF] == 0);\r\n\r\n            int value = i &amp; 0xFFFF;\r\n            int c = count[value];\r\n\r\n            do {\r\n                a[--high] = (short) value;\r\n            } while (--c &gt; 0);\r\n        }\r\n    }\r\n}\r\n```\r\n[Counting sort implementation][counting-sort-jdk]\r\n\r\nArrays.sort(Object[])\r\n=====================\r\n\r\nUnlike other methods, this one is well-documented and the documentation here corresponds to reality.\r\n\r\nTime complexity\r\n---------------\r\n\r\nO(n log(n))\r\n\r\n**Starting from Java 7**\r\n\r\n&gt; This implementation is a stable, adaptive, iterative mergesort that requires far fewer than n lg(n) comparisons when the input array is partially sorted, while offering the performance of a traditional mergesort when the input array is randomly ordered. If the input array is nearly sorted, the implementation requires approximately n comparisons.\r\n\r\nhttps://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#sort(java.lang.Object[])\r\n\r\n**Before Java 7**\r\n\r\n&gt;The sorting algorithm is a modified mergesort (in which the merge is omitted if the highest element in the low sublist is less than the lowest element in the high sublist). This algorithm offers guaranteed n*log(n) performance.\r\n\r\nhttps://docs.oracle.com/javase/6/docs/api/java/util/Arrays.html#sort(java.lang.Object[])\r\n\r\nSpace complexity\r\n---------------\r\n\r\nO(n)\r\n\r\n**Starting from Java 7**\r\n\r\n&gt;Temporary storage requirements vary from a small constant for nearly sorted input arrays to n/2 object references for randomly ordered input arrays.\r\n\r\nhttps://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#sort(java.lang.Object[])\r\n\r\n**Before Java 7**\r\n\r\n&gt;The algorithm used by java.util.Arrays.sort and (indirectly) by java.util.Collections.sort to sort object references is a &quot;modified mergesort (in which the merge is omitted if the highest element in the low sublist is less than the lowest element in the high sublist).&quot; It is a reasonably fast stable sort that guarantees O(n log n) performance and requires O(n) extra space. \r\n\r\nhttps://bugs.openjdk.org/browse/JDK-6804124\r\n\r\n  [counting-sort-wiki]: https://en.wikipedia.org/wiki/Counting_sort\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Quicksort#Formal_analysis\r\n  [2]: https://github.com/openjdk/jdk/commit/de54eb15130848d4efc266891e41b978f444f9f3\r\n  [3]: https://github.com/openjdk/jdk/blob/jdk-14-ga/src/java.base/share/classes/java/util/DualPivotQuicksort.java#L961\r\n  [4]: https://bugs.openjdk.org/browse/JDK-8266431\r\n  [5]: https://github.com/openjdk/jdk/blob/jdk-14-ga/src/java.base/share/classes/java/util/DualPivotQuicksort.java#L726\r\n  [counting-sort-jdk]: https://github.com/openjdk/jdk/blob/jdk-14-ga/src/java.base/share/classes/java/util/DualPivotQuicksort.java#L2348","title":"The Running Time For Arrays.Sort Method in Java","body":"<p>It depends on what you are sorting and on your Java version. Sort methods for arrays of different types have different time and space complexities. There are also improvements in the latter Java versions.</p>\n<h1>Arrays.sort(int[])</h1>\n<p>As well as Arrays.sort(long[]), Arrays.sort(float[]) and Arrays.sort(double[])</p>\n<h2>Time complexity</h2>\n<p>Time complexity of <code>Arrays.sort(int[])</code> depends on the version of Java.</p>\n<p><strong>Prior to Java 14</strong></p>\n<p>A pretty ordinary quicksort was used with time complexity ranging from O(n) (when the array is already sorted and we are only checking that it is) to O(n<sup>2</sup>) for certain inputs that cause extremely uneven distribution of elements into parts with an average complexity of O(n log(n)). You can find a detailed analysis <a href=\"https://en.wikipedia.org/wiki/Quicksort#Formal_analysis\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p><strong>From Java 14 to Java 19</strong></p>\n<p>In Java 14 the implementation was improved to guarantee the worst-case time complexity of O(n log(n)). The function was <a href=\"https://github.com/openjdk/jdk/commit/de54eb15130848d4efc266891e41b978f444f9f3\" rel=\"nofollow noreferrer\">changed</a> to <a href=\"https://github.com/openjdk/jdk/blob/jdk-14-ga/src/java.base/share/classes/java/util/DualPivotQuicksort.java#L961\" rel=\"nofollow noreferrer\">resort to heapsort</a> if recursion becomes too deep:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if ((bits += DELTA) &gt; MAX_RECURSION_DEPTH) {\n  heapSort(a, low, high);\n  return;\n}\n</code></pre>\n<p>which prevents the method from degrading to quadratic time complexity.</p>\n<p><strong>Glimpse into the future</strong></p>\n<p>There is an <a href=\"https://bugs.openjdk.org/browse/JDK-8266431\" rel=\"nofollow noreferrer\">initiative</a> to switch to radix sort for almost random big enough arrays thus reducing the time complexity to O(n) in the worst-case.</p>\n<h2>Space complexity</h2>\n<p>In all versions, the algorithm has space complexity ranging from O(1) (when the array is already sorted and we only to check that it is) to O(n) (when the array is highly structured (there is a small number of sorted subarrays inside the original array and we merge those subarrays)).</p>\n<p>Here's where allocation happens in the worst case:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/*\n * Merge runs of highly structured array.\n */\nif (count &gt; 1) {\n  int[] b; int offset = low;\n\n  if (sorter == null || (b = (int[]) sorter.b) == null) {\n    b = new int[size];\n  } else {\n    offset = sorter.offset;\n  }\n  mergeRuns(a, b, offset, 1, sorter != null, run, 0, count);\n}\nreturn true;\n</code></pre>\n<p><a href=\"https://github.com/openjdk/jdk/blob/jdk-14-ga/src/java.base/share/classes/java/util/DualPivotQuicksort.java#L726\" rel=\"nofollow noreferrer\">DualPivotQuicksort.java</a></p>\n<p><em>While the question asks specifically about Arrays.sort(int[]) method I still decided to include answers for other data types since this is the first result when you look for Arrays.sort() time and space complexity in Google and it is not easy to find correct answers to this simple question in other places.</em></p>\n<h1>Arrays.sort(short[])</h1>\n<p>As well as Arrays.sort(char[]) and Arrays.sort(byte[])</p>\n<h2>Time and space complexity</h2>\n<p>Although the documentation says:</p>\n<blockquote>\n<p>The sorting algorithm is a Dual-Pivot Quicksort by Vladimir Yaroslavskiy, Jon Bentley, and Joshua Bloch. This algorithm offers O(n log(n)) performance on all data sets, and is typically faster than traditional (one-pivot) Quicksort implementations.</p>\n</blockquote>\n<p>This is not true at least starting from Java 7. Actually, an in-place <a href=\"https://en.wikipedia.org/wiki/Counting_sort\" rel=\"nofollow noreferrer\">counting sort</a> used for big enough arrays, which has linear time complexity and constant space complexity:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static void countingSort(short[] a, int low, int high) {\n    int[] count = new int[NUM_SHORT_VALUES];\n\n    /*\n     * Compute a histogram with the number of each values.\n     */\n    for (int i = high; i &gt; low; ++count[a[--i] &amp; 0xFFFF]);\n\n    /*\n     * Place values on their final positions.\n     */\n    if (high - low &gt; NUM_SHORT_VALUES) {\n        for (int i = MAX_SHORT_INDEX; --i &gt; Short.MAX_VALUE; ) {\n            int value = i &amp; 0xFFFF;\n\n            for (low = high - count[value]; high &gt; low;\n                a[--high] = (short) value\n            );\n        }\n    } else {\n        for (int i = MAX_SHORT_INDEX; high &gt; low; ) {\n            while (count[--i &amp; 0xFFFF] == 0);\n\n            int value = i &amp; 0xFFFF;\n            int c = count[value];\n\n            do {\n                a[--high] = (short) value;\n            } while (--c &gt; 0);\n        }\n    }\n}\n</code></pre>\n<p><a href=\"https://github.com/openjdk/jdk/blob/jdk-14-ga/src/java.base/share/classes/java/util/DualPivotQuicksort.java#L2348\" rel=\"nofollow noreferrer\">Counting sort implementation</a></p>\n<h1>Arrays.sort(Object[])</h1>\n<p>Unlike other methods, this one is well-documented and the documentation here corresponds to reality.</p>\n<h2>Time complexity</h2>\n<p>O(n log(n))</p>\n<p><strong>Starting from Java 7</strong></p>\n<blockquote>\n<p>This implementation is a stable, adaptive, iterative mergesort that requires far fewer than n lg(n) comparisons when the input array is partially sorted, while offering the performance of a traditional mergesort when the input array is randomly ordered. If the input array is nearly sorted, the implementation requires approximately n comparisons.</p>\n</blockquote>\n<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#sort(java.lang.Object%5B%5D)\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#sort(java.lang.Object[])</a></p>\n<p><strong>Before Java 7</strong></p>\n<blockquote>\n<p>The sorting algorithm is a modified mergesort (in which the merge is omitted if the highest element in the low sublist is less than the lowest element in the high sublist). This algorithm offers guaranteed n*log(n) performance.</p>\n</blockquote>\n<p><a href=\"https://docs.oracle.com/javase/6/docs/api/java/util/Arrays.html#sort(java.lang.Object%5B%5D)\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/6/docs/api/java/util/Arrays.html#sort(java.lang.Object[])</a></p>\n<h2>Space complexity</h2>\n<p>O(n)</p>\n<p><strong>Starting from Java 7</strong></p>\n<blockquote>\n<p>Temporary storage requirements vary from a small constant for nearly sorted input arrays to n/2 object references for randomly ordered input arrays.</p>\n</blockquote>\n<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#sort(java.lang.Object%5B%5D)\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#sort(java.lang.Object[])</a></p>\n<p><strong>Before Java 7</strong></p>\n<blockquote>\n<p>The algorithm used by java.util.Arrays.sort and (indirectly) by java.util.Collections.sort to sort object references is a &quot;modified mergesort (in which the merge is omitted if the highest element in the low sublist is less than the lowest element in the high sublist).&quot; It is a reasonably fast stable sort that guarantees O(n log n) performance and requires O(n) extra space.</p>\n</blockquote>\n<p><a href=\"https://bugs.openjdk.org/browse/JDK-6804124\" rel=\"nofollow noreferrer\">https://bugs.openjdk.org/browse/JDK-6804124</a></p>\n"}],"owner":{"account_id":3879687,"reputation":125,"user_id":3212622,"display_name":"user3212622"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31898,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":21219858,"answer_count":4,"score":11,"last_activity_date":1666729195,"creation_date":1390150864,"question_id":21219777,"body_markdown":"Does anyone know the running time in big O notation for the arrays.sort java method? I need this for my science fair project. ","title":"The Running Time For Arrays.Sort Method in Java","body":"<p>Does anyone know the running time in big O notation for the arrays.sort java method? I need this for my science fair project. </p>\n"},{"tags":["java","jersey","jax-rs","exchangewebservices"],"answers":[{"tags":[],"owner":{"account_id":16273889,"reputation":2910,"user_id":11751648,"display_name":"areus"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666718057,"creation_date":1666718057,"answer_id":74197875,"question_id":74195687,"body_markdown":"The parameter for `Client.target(String)` has to be in URI format so it should be something like\r\n```\r\n .target(&quot;https://login.microsoftonline.com&quot;)\r\n```","title":"javax.ws.rs.client hostname may not be null","body":"<p>The parameter for <code>Client.target(String)</code> has to be in URI format so it should be something like</p>\n<pre><code> .target(&quot;https://login.microsoftonline.com&quot;)\n</code></pre>\n"}],"owner":{"account_id":443973,"reputation":4509,"user_id":835523,"accept_rate":85,"display_name":"Steve"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":312,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666729022,"creation_date":1666708001,"question_id":74195687,"body_markdown":"I am trying to connect to a MS Exchange Server using jax-rs and jersey to get an authentication token\r\n\r\n\r\n        //Set up client configuration for proxy\r\n    \t\tClientConfig config = new ClientConfig();\r\n    \t\tconfig.connectorProvider(new ApacheConnectorProvider());\r\n    \t\tconfig.property(ClientProperties.PROXY_URI, ConfigurationUtil.getProxyURL());\r\n    \t\tconfig.property(ClientProperties.PROXY_USERNAME, ConfigurationUtil.getUser());\r\n    \t\tconfig.property(ClientProperties.PROXY_PASSWORD, ConfigurationUtil.getPassword());\r\n    \t\t\r\n\r\n    //Set up the form\r\n    \t\tForm form = new Form();\r\n    \t\tform.param(OAUTH_GRANT_TYPE, OAUTH_GRANT_TYPE_VALUE);\r\n    \t\tform.param(&quot;client_id&quot;, CLIENT_ID);\r\n    \t\tform.param(&quot;client_secret&quot;, CLIENT_SECRET);\r\n    \t\tform.param(&quot;scope&quot;, &quot;https://outlook.office365.com/EWS.AccessAsUser.All&quot;);\r\n\r\n    //Set the url and make the call\r\n        Response response = ClientBuilder.newClient(config)\r\n        \t\t\t\t.target(&quot;login.microsoftonline.com&quot;)\r\n        \t\t\t\t.path(TENANT_NUMBER)\r\n        \t\t\t\t.path(&quot;oauth2&quot;)\r\n        \t\t\t\t.path(&quot;v2.0&quot;)\r\n        \t\t\t\t.path(&quot;token&quot;)\r\n        \t\t\t\t.request()\r\n        \t\t\t\t.put(Entity.entity(form, MediaType.APPLICATION_FORM_URLENCODED));\r\n\r\n\r\nAnd the error I get is a suprising one, because the host name shouldn&#39;t be null.\r\n\r\n    Exception in thread &quot;main&quot; java.lang.ExceptionInInitializerError\r\n    Caused by: java.lang.IllegalArgumentException: Host name may not be null\r\n\r\nHere is the full stack trace\r\n\r\n    Exception in thread &quot;main&quot; java.lang.ExceptionInInitializerError\r\n    at com.vanguard.tip.ims.fis.service.EmailService.getInstance(EmailService.java:134)\r\n    at com.vanguard.tip.ims.fis.factories.ServiceFactory.createExchangeMailService(ServiceFactory.java:32)\r\n    at com.vanguard.tip.ims.fis.controller.SmartController.execute(SmartController.java:86)\r\n    at com.vanguard.tip.ims.fis.batchlauncher.SmartRunner.run(SmartRunner.java:55)\r\n    at com.vanguard.tip.ims.fis.batchlauncher.Launcher.main(Launcher.java:42)\r\n    Caused by: java.lang.IllegalArgumentException: Host name may not be null\r\n    at org.apache.http.util.Args.containsNoBlanks(Args.java:81)\r\n    at org.apache.http.HttpHost.&lt;init&gt;(HttpHost.java:80)\r\n    at org.glassfish.jersey.apache.connector.ApacheConnector.&lt;init&gt;(ApacheConnector.java:259)\r\n    at org.glassfish.jersey.apache.connector.ApacheConnectorProvider.getConnector(ApacheConnectorProvider.java:116)\r\n    at org.glassfish.jersey.client.ClientConfig$State.initRuntime(ClientConfig.java:425)\r\n    at org.glassfish.jersey.client.ClientConfig$State.access$000(ClientConfig.java:90)\r\n    at org.glassfish.jersey.client.ClientConfig$State$3.get(ClientConfig.java:122)\r\n    at org.glassfish.jersey.client.ClientConfig$State$3.get(ClientConfig.java:119)\r\n    at org.glassfish.jersey.internal.util.collection.Values$LazyValueImpl.get(Values.java:340)\r\n    at org.glassfish.jersey.client.ClientConfig.getRuntime(ClientConfig.java:733)\r\n    at org.glassfish.jersey.client.ClientRequest.getConfiguration(ClientRequest.java:286)\r\n    at org.glassfish.jersey.client.JerseyInvocation.validateHttpMethodAndEntity(JerseyInvocation.java:135)\r\n    at org.glassfish.jersey.client.JerseyInvocation.&lt;init&gt;(JerseyInvocation.java:105)\r\n    at org.glassfish.jersey.client.JerseyInvocation.&lt;init&gt;(JerseyInvocation.java:101)\r\n    at org.glassfish.jersey.client.JerseyInvocation.&lt;init&gt;(JerseyInvocation.java:92)\r\n    at org.glassfish.jersey.client.JerseyInvocation$Builder.method(JerseyInvocation.java:437)\r\n    at org.glassfish.jersey.client.JerseyInvocation$Builder.post(JerseyInvocation.java:343)\r\n    at com.vanguard.tip.ims.fis.service.EmailService.getOAuthToken(EmailService.java:203)\r\n    at com.vanguard.tip.ims.fis.service.EmailService.initializeService(EmailService.java:263)\r\n    at com.vanguard.tip.ims.fis.service.EmailService.&lt;init&gt;(EmailService.java:109)\r\n    at com.vanguard.tip.ims.fis.service.EmailService.&lt;init&gt;(EmailService.java:95)\r\n    at com.vanguard.tip.ims.fis.service.EmailService$SingletonHolder.init(EmailService.java:122)\r\n    at com.vanguard.tip.ims.fis.service.EmailService$SingletonHolder.&lt;clinit&gt;(EmailService.java:115)","title":"javax.ws.rs.client hostname may not be null","body":"<p>I am trying to connect to a MS Exchange Server using jax-rs and jersey to get an authentication token</p>\n<pre><code>    //Set up client configuration for proxy\n        ClientConfig config = new ClientConfig();\n        config.connectorProvider(new ApacheConnectorProvider());\n        config.property(ClientProperties.PROXY_URI, ConfigurationUtil.getProxyURL());\n        config.property(ClientProperties.PROXY_USERNAME, ConfigurationUtil.getUser());\n        config.property(ClientProperties.PROXY_PASSWORD, ConfigurationUtil.getPassword());\n        \n\n//Set up the form\n        Form form = new Form();\n        form.param(OAUTH_GRANT_TYPE, OAUTH_GRANT_TYPE_VALUE);\n        form.param(&quot;client_id&quot;, CLIENT_ID);\n        form.param(&quot;client_secret&quot;, CLIENT_SECRET);\n        form.param(&quot;scope&quot;, &quot;https://outlook.office365.com/EWS.AccessAsUser.All&quot;);\n\n//Set the url and make the call\n    Response response = ClientBuilder.newClient(config)\n                    .target(&quot;login.microsoftonline.com&quot;)\n                    .path(TENANT_NUMBER)\n                    .path(&quot;oauth2&quot;)\n                    .path(&quot;v2.0&quot;)\n                    .path(&quot;token&quot;)\n                    .request()\n                    .put(Entity.entity(form, MediaType.APPLICATION_FORM_URLENCODED));\n</code></pre>\n<p>And the error I get is a suprising one, because the host name shouldn't be null.</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.ExceptionInInitializerError\nCaused by: java.lang.IllegalArgumentException: Host name may not be null\n</code></pre>\n<p>Here is the full stack trace</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.ExceptionInInitializerError\nat com.vanguard.tip.ims.fis.service.EmailService.getInstance(EmailService.java:134)\nat com.vanguard.tip.ims.fis.factories.ServiceFactory.createExchangeMailService(ServiceFactory.java:32)\nat com.vanguard.tip.ims.fis.controller.SmartController.execute(SmartController.java:86)\nat com.vanguard.tip.ims.fis.batchlauncher.SmartRunner.run(SmartRunner.java:55)\nat com.vanguard.tip.ims.fis.batchlauncher.Launcher.main(Launcher.java:42)\nCaused by: java.lang.IllegalArgumentException: Host name may not be null\nat org.apache.http.util.Args.containsNoBlanks(Args.java:81)\nat org.apache.http.HttpHost.&lt;init&gt;(HttpHost.java:80)\nat org.glassfish.jersey.apache.connector.ApacheConnector.&lt;init&gt;(ApacheConnector.java:259)\nat org.glassfish.jersey.apache.connector.ApacheConnectorProvider.getConnector(ApacheConnectorProvider.java:116)\nat org.glassfish.jersey.client.ClientConfig$State.initRuntime(ClientConfig.java:425)\nat org.glassfish.jersey.client.ClientConfig$State.access$000(ClientConfig.java:90)\nat org.glassfish.jersey.client.ClientConfig$State$3.get(ClientConfig.java:122)\nat org.glassfish.jersey.client.ClientConfig$State$3.get(ClientConfig.java:119)\nat org.glassfish.jersey.internal.util.collection.Values$LazyValueImpl.get(Values.java:340)\nat org.glassfish.jersey.client.ClientConfig.getRuntime(ClientConfig.java:733)\nat org.glassfish.jersey.client.ClientRequest.getConfiguration(ClientRequest.java:286)\nat org.glassfish.jersey.client.JerseyInvocation.validateHttpMethodAndEntity(JerseyInvocation.java:135)\nat org.glassfish.jersey.client.JerseyInvocation.&lt;init&gt;(JerseyInvocation.java:105)\nat org.glassfish.jersey.client.JerseyInvocation.&lt;init&gt;(JerseyInvocation.java:101)\nat org.glassfish.jersey.client.JerseyInvocation.&lt;init&gt;(JerseyInvocation.java:92)\nat org.glassfish.jersey.client.JerseyInvocation$Builder.method(JerseyInvocation.java:437)\nat org.glassfish.jersey.client.JerseyInvocation$Builder.post(JerseyInvocation.java:343)\nat com.vanguard.tip.ims.fis.service.EmailService.getOAuthToken(EmailService.java:203)\nat com.vanguard.tip.ims.fis.service.EmailService.initializeService(EmailService.java:263)\nat com.vanguard.tip.ims.fis.service.EmailService.&lt;init&gt;(EmailService.java:109)\nat com.vanguard.tip.ims.fis.service.EmailService.&lt;init&gt;(EmailService.java:95)\nat com.vanguard.tip.ims.fis.service.EmailService$SingletonHolder.init(EmailService.java:122)\nat com.vanguard.tip.ims.fis.service.EmailService$SingletonHolder.&lt;clinit&gt;(EmailService.java:115)\n</code></pre>\n"},{"tags":["java","android","textview","setcontentview"],"comments":[{"owner":{"account_id":2020103,"reputation":550,"user_id":1806493,"display_name":"GGK stands for Ukraine"},"score":0,"creation_date":1666729576,"post_id":74199718,"comment_id":131004561,"body_markdown":"delete `setContentView(R.layout.activity_main);` in counting method and show logcat output with information of the crash please.","body":"delete <code>setContentView(R.layout.activity_main);</code> in counting method and show logcat output with information of the crash please."},{"owner":{"account_id":24419090,"reputation":1,"user_id":20333852,"display_name":"creamsiclecat"},"score":0,"creation_date":1666730391,"post_id":74199718,"comment_id":131004792,"body_markdown":"@GGK stands for Ukraine first time using stackoverflow so sorry if this is the wrong etiquette but it says it&#39;s too long so I&#39;ve posted it on pastebin https://pastebin.com/Djutb8Lh thank you for the quick reply","body":"@GGK stands for Ukraine first time using stackoverflow so sorry if this is the wrong etiquette but it says it&#39;s too long so I&#39;ve posted it on pastebin <a href=\"https://pastebin.com/Djutb8Lh\" rel=\"nofollow noreferrer\">pastebin.com/Djutb8Lh</a> thank you for the quick reply"},{"owner":{"account_id":12924971,"reputation":2766,"user_id":9346054,"accept_rate":100,"display_name":"Ticherhaz FreePalestine"},"score":0,"creation_date":1666751942,"post_id":74199718,"comment_id":131008640,"body_markdown":"@creamsiclecat Are you using Activity or Fragment ?","body":"@creamsiclecat Are you using Activity or Fragment ?"},{"owner":{"account_id":24419090,"reputation":1,"user_id":20333852,"display_name":"creamsiclecat"},"score":0,"creation_date":1666799178,"post_id":74199718,"comment_id":131022632,"body_markdown":"@Ticherhaz FreePalestine \nI did &#39;basic activity&#39; which I edited down because I didn&#39;t actually need all the functions, not sure if that&#39;s where my issue could be coming from. Do you have one you might recommend instead? I haven&#39;t done that much so I&#39;m 100% okay starting over","body":"@Ticherhaz FreePalestine  I did &#39;basic activity&#39; which I edited down because I didn&#39;t actually need all the functions, not sure if that&#39;s where my issue could be coming from. Do you have one you might recommend instead? I haven&#39;t done that much so I&#39;m 100% okay starting over"},{"owner":{"account_id":2020103,"reputation":550,"user_id":1806493,"display_name":"GGK stands for Ukraine"},"score":0,"creation_date":1666808874,"post_id":74199718,"comment_id":131025978,"body_markdown":"the logcat says, that textview is null","body":"the logcat says, that textview is null"}],"owner":{"account_id":24419090,"reputation":1,"user_id":20333852,"display_name":"creamsiclecat"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666728997,"creation_date":1666728997,"question_id":74199718,"body_markdown":"This is my first android app, pretty confused and not sure if I&#39;m doing it right. My app is intended to be a countdown app for a specific date\r\n\r\nHere is what my MainActivity class looks like. I replaced ... where the code I wrote relating to the actual countdown variable was - I have tested it in the console and that part of the program works fine.\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            Toolbar toolbar = findViewById(R.id.toolbar);\r\n            setSupportActionBar(toolbar);\r\n            counting();\r\n        }\r\n\r\n        public void counting() {\r\n            ...\r\n            String reading = days + &quot; days &quot; + hours + &quot; hours &quot; + minutes + &quot; minutes remaining&quot;;\r\n            setContentView(R.layout.activity_main);\r\n            TextView textView = (TextView) findViewById(R.id.textview_first);\r\n            textView.setText(reading);\r\n        }\r\n    }\r\n\r\nIt runs and shows me the &#39;hello&#39; text string specified in strings.xml\r\n\r\n     &lt;string name=&quot;hello_first_fragment&quot;&gt;hello&lt;/string&gt;\r\n\r\nas long as I get rid of both the \r\n\r\n            setContentView(R.layout.activity_main);\r\n\r\n as well as the \r\n\r\n            textView.setText(reading);\r\nlines under my counting function, but I don&#39;t want it to show that string, I would rather it display the value of the variable I want to choose. If I include either or both of them, it crashes the app. \r\n\r\n\r\n\r\n\r\nI&#39;m wondering if maybe I have the textview ID wrong - I got that from my fragment_first.xml file which has \r\n\r\n    &quot;android:id=&quot;@+id/textview_first&quot;&quot; \r\n\r\nunder TextView.\r\n\r\nAnother thing I have tested is with just making the textView.setText field have a non-variable string in it, like\r\n\r\n                textView.setText(&quot;reading&quot;);\r\n\r\nbut it does the same thing\r\n\r\nI&#39;m not sure if I might have to somehow remove the string line in strings.xml somehow or edit it, I tried just deleting it and it wouldn&#39;t compile. \r\n\r\nAnyone have any advice on what I&#39;m doing wrong? \r\n\r\n\r\n\r\n","title":"App crashes when I include setContentView and setText","body":"<p>This is my first android app, pretty confused and not sure if I'm doing it right. My app is intended to be a countdown app for a specific date</p>\n<p>Here is what my MainActivity class looks like. I replaced ... where the code I wrote relating to the actual countdown variable was - I have tested it in the console and that part of the program works fine.</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        Toolbar toolbar = findViewById(R.id.toolbar);\n        setSupportActionBar(toolbar);\n        counting();\n    }\n\n    public void counting() {\n        ...\n        String reading = days + &quot; days &quot; + hours + &quot; hours &quot; + minutes + &quot; minutes remaining&quot;;\n        setContentView(R.layout.activity_main);\n        TextView textView = (TextView) findViewById(R.id.textview_first);\n        textView.setText(reading);\n    }\n}\n</code></pre>\n<p>It runs and shows me the 'hello' text string specified in strings.xml</p>\n<pre><code> &lt;string name=&quot;hello_first_fragment&quot;&gt;hello&lt;/string&gt;\n</code></pre>\n<p>as long as I get rid of both the</p>\n<pre><code>        setContentView(R.layout.activity_main);\n</code></pre>\n<p>as well as the</p>\n<pre><code>        textView.setText(reading);\n</code></pre>\n<p>lines under my counting function, but I don't want it to show that string, I would rather it display the value of the variable I want to choose. If I include either or both of them, it crashes the app.</p>\n<p>I'm wondering if maybe I have the textview ID wrong - I got that from my fragment_first.xml file which has</p>\n<pre><code>&quot;android:id=&quot;@+id/textview_first&quot;&quot; \n</code></pre>\n<p>under TextView.</p>\n<p>Another thing I have tested is with just making the textView.setText field have a non-variable string in it, like</p>\n<pre><code>            textView.setText(&quot;reading&quot;);\n</code></pre>\n<p>but it does the same thing</p>\n<p>I'm not sure if I might have to somehow remove the string line in strings.xml somehow or edit it, I tried just deleting it and it wouldn't compile.</p>\n<p>Anyone have any advice on what I'm doing wrong?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1666728655,"post_id":74199650,"comment_id":131004299,"body_markdown":"Welcome to Stack Overflow.\nPlease take the [tour] to learn how Stack Overflow works and read [ask] on how to improve the quality of your question.\nThen [edit] your question to include your source code as a working [mcve], which can be compiled and tested by others.\nPlease see: [How do I ask and answer homework questions?](https://meta.stackoverflow.com/q/334822)","body":"Welcome to Stack Overflow. Please take the <a href=\"https://stackoverflow.com/tour\">tour</a> to learn how Stack Overflow works and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> on how to improve the quality of your question. Then <a href=\"https://stackoverflow.com/posts/74199650/edit\">edit</a> your question to include your source code as a working <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, which can be compiled and tested by others. Please see: <a href=\"https://meta.stackoverflow.com/q/334822\">How do I ask and answer homework questions?</a>"},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1666728705,"post_id":74199650,"comment_id":131004313,"body_markdown":"You definitely will need to show us much more of your code before we can even try to give you a useful answer.  We&#39;ll need to see the `Object` class, the `for(xy)` details, where `variables` is defined...","body":"You definitely will need to show us much more of your code before we can even try to give you a useful answer.  We&#39;ll need to see the <code>Object</code> class, the <code>for(xy)</code> details, where <code>variables</code> is defined..."}],"answers":[{"comments":[{"owner":{"account_id":26731459,"reputation":1,"user_id":20333737,"display_name":"Ventority"},"score":0,"creation_date":1666728894,"post_id":74199670,"comment_id":131004373,"body_markdown":"So what would you recommend to change/where can I read and learn more about it? Didn&#39;t find anything on google :/","body":"So what would you recommend to change/where can I read and learn more about it? Didn&#39;t find anything on google :/"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1666728914,"post_id":74199670,"comment_id":131004381,"body_markdown":"Read about what? Referential equality?","body":"Read about what? Referential equality?"},{"owner":{"account_id":26731459,"reputation":1,"user_id":20333737,"display_name":"Ventority"},"score":0,"creation_date":1666729055,"post_id":74199670,"comment_id":131004417,"body_markdown":"just forget about it, I thing I don&#39;t have the technical understanding of java to understand that for now. But thank you for your answer, your code snipped helped me to solve my problem :)","body":"just forget about it, I thing I don&#39;t have the technical understanding of java to understand that for now. But thank you for your answer, your code snipped helped me to solve my problem :)"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1666729133,"post_id":74199670,"comment_id":131004438,"body_markdown":"This problem is not unique to Java. Each variable is a reference to space in memory. An array allocates continuous, unique space, to which it can _reference other references_, not &quot;copy them&quot;.","body":"This problem is not unique to Java. Each variable is a reference to space in memory. An array allocates continuous, unique space, to which it can <i>reference other references</i>, not &quot;copy them&quot;."},{"owner":{"account_id":26731459,"reputation":1,"user_id":20333737,"display_name":"Ventority"},"score":0,"creation_date":1666729218,"post_id":74199670,"comment_id":131004464,"body_markdown":"all object oriented languages or just java and some other? just out of curiosity","body":"all object oriented languages or just java and some other? just out of curiosity"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1666729280,"post_id":74199670,"comment_id":131004477,"body_markdown":"Javascript, for example, is not &quot;object oriented&quot;, and would have the same issue when using an array of pre-declared variable references.","body":"Javascript, for example, is not &quot;object oriented&quot;, and would have the same issue when using an array of pre-declared variable references."}],"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666728680,"creation_date":1666728680,"answer_id":74199670,"question_id":74199650,"body_markdown":"`var0` is still a pre-declared variable. `variables[0]` is **its own reference**, not the same as `var0`. \r\n\r\nIf you need &quot;numbered variables&quot;, only use a array or list, not individual objects. \r\n\r\n```\r\nObject[] variables = new Object[5];\r\nfor (int i = 0; i &lt; 2; i++) {\r\n  variables[i] = cords[i];\r\n}\r\nvariables[2] = randomFunction1();\r\n... \r\n```\r\n","title":"My Array does not use the variables specified earlier?","body":"<p><code>var0</code> is still a pre-declared variable. <code>variables[0]</code> is <strong>its own reference</strong>, not the same as <code>var0</code>.</p>\n<p>If you need &quot;numbered variables&quot;, only use a array or list, not individual objects.</p>\n<pre><code>Object[] variables = new Object[5];\nfor (int i = 0; i &lt; 2; i++) {\n  variables[i] = cords[i];\n}\nvariables[2] = randomFunction1();\n... \n</code></pre>\n"}],"owner":{"account_id":26731459,"reputation":1,"user_id":20333737,"display_name":"Ventority"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1666728990,"creation_date":1666728546,"question_id":74199650,"body_markdown":"I have two private objects with custom classes initialized without assigning values to them.\r\n\r\n```\r\nprivate Object var0, var1 var2, var3, var4;\r\n```\r\n\r\nLater, in the same class, I put all of them into an array and try to assign values to them using a for loop like this:\r\n\r\n```\r\nObject[] variables = {var0, var1, var2, var3, var4};\r\n```\r\n\r\n```\r\nfor (xy) {\r\nvariables[i] = new Object(cords[0], cords[1], randomFunc1(), randomFunc2(), ObjectVar.TYPE);\r\n}\r\n```\r\n\r\nBut the IntelliJ Debugger shows me that the actual variables created at the head of the class aren&#39;t touched and are still &quot;null&quot;. Due to that, I can&#39;t access the recently created variables anymore. \r\nWhen I manually assign values like this,\r\n\r\n```\r\nvar0 = new Object(x, y, value0, value1, value3);\r\n```\r\n\r\nthere is no problem and everything works. Unfortunately it is not as easy as it is here and each line would take way more code than my first, not working, solution.","title":"My Array does not use the variables specified earlier?","body":"<p>I have two private objects with custom classes initialized without assigning values to them.</p>\n<pre><code>private Object var0, var1 var2, var3, var4;\n</code></pre>\n<p>Later, in the same class, I put all of them into an array and try to assign values to them using a for loop like this:</p>\n<pre><code>Object[] variables = {var0, var1, var2, var3, var4};\n</code></pre>\n<pre><code>for (xy) {\nvariables[i] = new Object(cords[0], cords[1], randomFunc1(), randomFunc2(), ObjectVar.TYPE);\n}\n</code></pre>\n<p>But the IntelliJ Debugger shows me that the actual variables created at the head of the class aren't touched and are still &quot;null&quot;. Due to that, I can't access the recently created variables anymore.\nWhen I manually assign values like this,</p>\n<pre><code>var0 = new Object(x, y, value0, value1, value3);\n</code></pre>\n<p>there is no problem and everything works. Unfortunately it is not as easy as it is here and each line would take way more code than my first, not working, solution.</p>\n"},{"tags":["java","android"],"answers":[{"comments":[{"owner":{"account_id":702545,"reputation":91,"user_id":587319,"display_name":"Richard"},"score":0,"creation_date":1295864120,"post_id":4780793,"comment_id":5294079,"body_markdown":"Can&#39;t find a single import static anywhere in the project, sorry :&lt;","body":"Can&#39;t find a single import static anywhere in the project, sorry :&lt;"}],"tags":[],"owner":{"account_id":217320,"reputation":42820,"user_id":473070,"accept_rate":82,"display_name":"Vladimir Ivanov"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1295863893,"creation_date":1295863893,"answer_id":4780793,"question_id":4780770,"body_markdown":"Seems you have static imported the constant. Please find the line which begins with `import static` and copy it to another class. More [here][1].\r\n\r\n\r\n  [1]: http://www.deitel.com/articles/java_tutorials/20060211/index.html","title":"TELEPHONY_SERVICE constant not recognised in one class, but is in another","body":"<p>Seems you have static imported the constant. Please find the line which begins with <code>import static</code> and copy it to another class. More <a href=\"http://www.deitel.com/articles/java_tutorials/20060211/index.html\" rel=\"nofollow\">here</a>.</p>\n"},{"comments":[{"owner":{"account_id":83913,"reputation":110658,"user_id":234938,"accept_rate":90,"display_name":"Christopher Orr"},"score":0,"creation_date":1295997978,"post_id":4780803,"comment_id":5319230,"body_markdown":"Yet somehow `getSystemService()` itself works, without a reference to `Context`? Odd!","body":"Yet somehow <code>getSystemService()</code> itself works, without a reference to <code>Context</code>? Odd!"},{"owner":{"account_id":17101,"reputation":9861,"user_id":37941,"accept_rate":70,"display_name":"bacar"},"score":0,"creation_date":1409816427,"post_id":4780803,"comment_id":40097698,"body_markdown":"@Richard, if this solved your problem, please accept the answer.","body":"@Richard, if this solved your problem, please accept the answer."}],"tags":[],"owner":{"account_id":121278,"reputation":13011,"user_id":314256,"accept_rate":86,"display_name":"Gopinath"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1295863941,"creation_date":1295863941,"answer_id":4780803,"question_id":4780770,"body_markdown":"TELEPHONY_SERVICE is a member of the Context class which is the super class of the Activity class. So this constant is available only in Activity or Context sub-classes.\r\n\r\n\r\nhttp://developer.android.com/reference/android/content/Context.html#TELEPHONY_SERVICE\r\n\r\nYou can access the same as Context.TELEPHONY_SERVICE\r\n\r\n","title":"TELEPHONY_SERVICE constant not recognised in one class, but is in another","body":"<p>TELEPHONY_SERVICE is a member of the Context class which is the super class of the Activity class. So this constant is available only in Activity or Context sub-classes.</p>\n\n<p><a href=\"http://developer.android.com/reference/android/content/Context.html#TELEPHONY_SERVICE\" rel=\"noreferrer\">http://developer.android.com/reference/android/content/Context.html#TELEPHONY_SERVICE</a></p>\n\n<p>You can access the same as Context.TELEPHONY_SERVICE</p>\n"},{"tags":[],"owner":{"account_id":260766,"reputation":9609,"user_id":544537,"accept_rate":58,"display_name":"chikka.anddev"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666728726,"creation_date":1295864098,"answer_id":4780827,"question_id":4780770,"body_markdown":"I am finding a little correction in your code.\r\n\r\nJust change:\r\n\r\n    TelephonyManager m_tmgr = (TelephonyManager) getSystemService(TELEPHONY_SERVICE);\r\n\r\nwith:\r\n\r\n     TelephonyManager m_tmgr = (TelephonyManager) getSystemService(Context.TELEPHONY_SERVICE);","title":"TELEPHONY_SERVICE constant not recognised in one class, but is in another","body":"<p>I am finding a little correction in your code.</p>\n<p>Just change:</p>\n<pre><code>TelephonyManager m_tmgr = (TelephonyManager) getSystemService(TELEPHONY_SERVICE);\n</code></pre>\n<p>with:</p>\n<pre><code> TelephonyManager m_tmgr = (TelephonyManager) getSystemService(Context.TELEPHONY_SERVICE);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1295864145,"creation_date":1295864145,"answer_id":4780831,"question_id":4780770,"body_markdown":"replace\r\n \r\n    import android.content.Context;\r\nby  \r\n\r\n    import static android.content.Context.*;","title":"TELEPHONY_SERVICE constant not recognised in one class, but is in another","body":"<p>replace</p>\n\n<pre><code>import android.content.Context;\n</code></pre>\n\n<p>by  </p>\n\n<pre><code>import static android.content.Context.*;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4982337,"reputation":11,"user_id":4006908,"display_name":"Deepak"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1409816352,"creation_date":1409815175,"answer_id":25659477,"question_id":4780770,"body_markdown":"Use this:\r\n\r\n    TelephonyManager tManager = (TelephonyManager) \r\n        getActivity().getSystemService(Context.TELEPHONY_SERVICE);","title":"TELEPHONY_SERVICE constant not recognised in one class, but is in another","body":"<p>Use this:</p>\n\n<pre><code>TelephonyManager tManager = (TelephonyManager) \n    getActivity().getSystemService(Context.TELEPHONY_SERVICE);\n</code></pre>\n"}],"owner":{"account_id":702545,"reputation":91,"user_id":587319,"display_name":"Richard"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4350,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":5,"score":3,"last_activity_date":1666728726,"creation_date":1295863762,"question_id":4780770,"body_markdown":"This feels very much like another case of not seeing the forest for the trees.\r\n\r\nI&#39;ve written a small (non-extending) class for my app that, for now, only contains the one method to scrape a supplied URL and return a string. I was hoping to include the Device ID on the end of the query string, so added the following lines:\r\n\r\n    import android.telephony.TelephonyManager;\r\n    import android.content.Context;\r\n    ...\r\n    TelephonyManager m_tmgr = (TelephonyManager) getSystemService(TELEPHONY_SERVICE);\r\n\r\nHowever, the TELEPHONY_SERVICE constant &quot;cannot be resolved to a variable&quot;, according to Eclipse. If I copy and paste these lines into another class in the package (all the other classes are activities, at the moment, which may have something to do with it?), it all works fine.\r\n\r\nWhat&#39;s the massively obvious thing that I&#39;m missing?","title":"TELEPHONY_SERVICE constant not recognised in one class, but is in another","body":"<p>This feels very much like another case of not seeing the forest for the trees.</p>\n\n<p>I've written a small (non-extending) class for my app that, for now, only contains the one method to scrape a supplied URL and return a string. I was hoping to include the Device ID on the end of the query string, so added the following lines:</p>\n\n<pre><code>import android.telephony.TelephonyManager;\nimport android.content.Context;\n...\nTelephonyManager m_tmgr = (TelephonyManager) getSystemService(TELEPHONY_SERVICE);\n</code></pre>\n\n<p>However, the TELEPHONY_SERVICE constant \"cannot be resolved to a variable\", according to Eclipse. If I copy and paste these lines into another class in the package (all the other classes are activities, at the moment, which may have something to do with it?), it all works fine.</p>\n\n<p>What's the massively obvious thing that I'm missing?</p>\n"},{"tags":["java","multithreading","user-interface","javafx-2"],"comments":[{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1460700493,"post_id":22772379,"comment_id":60873279,"body_markdown":"Related question: [Most efficient way to log messages to JavaFX TextArea via threads](http://stackoverflow.com/questions/24116858/most-efficient-way-to-log-messages-to-javafx-textarea-via-threads-with-simple-cu)","body":"Related question: <a href=\"http://stackoverflow.com/questions/24116858/most-efficient-way-to-log-messages-to-javafx-textarea-via-threads-with-simple-cu\">Most efficient way to log messages to JavaFX TextArea via threads</a>"}],"answers":[{"comments":[{"owner":{"account_id":4257265,"reputation":643,"user_id":3482616,"display_name":"eddy"},"score":0,"creation_date":1396333514,"post_id":22774943,"comment_id":34728469,"body_markdown":"I assumed the coalescing mentioned in the API docs was more complicated, I guess I should look first haha. Anyway this approach prevents the GUI from freezing which is good, but like I said in the last paragraph, I would also like a way to force the back-end to wait for the GUI to update, any ideas? The reason why I want this is because I have a `TextArea` acting as a console, but printing to it is quite time-consuming, and it&#39;s no good to arbitrarily skip prints. Like I said the GA performance is secondary, it&#39;s ok if the system is bottlenecked by the `TextArea` console.","body":"I assumed the coalescing mentioned in the API docs was more complicated, I guess I should look first haha. Anyway this approach prevents the GUI from freezing which is good, but like I said in the last paragraph, I would also like a way to force the back-end to wait for the GUI to update, any ideas? The reason why I want this is because I have a <code>TextArea</code> acting as a console, but printing to it is quite time-consuming, and it&#39;s no good to arbitrarily skip prints. Like I said the GA performance is secondary, it&#39;s ok if the system is bottlenecked by the <code>TextArea</code> console."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1396347952,"post_id":22774943,"comment_id":34736730,"body_markdown":"Updated with an example of throttling the back-end from the UI. There are likely other ways to do it.","body":"Updated with an example of throttling the back-end from the UI. There are likely other ways to do it."},{"owner":{"account_id":4257265,"reputation":643,"user_id":3482616,"display_name":"eddy"},"score":1,"creation_date":1396363662,"post_id":22774943,"comment_id":34748010,"body_markdown":"Thanks for the throttling example, I didn&#39;t think of using a JFX timer like that. The exceptions that might occur during `put()` make it a bit tricky to use with the GA though, so I decided to stick with the boolean variable for now. Thanks for the help!","body":"Thanks for the throttling example, I didn&#39;t think of using a JFX timer like that. The exceptions that might occur during <code>put()</code> make it a bit tricky to use with the GA though, so I decided to stick with the boolean variable for now. Thanks for the help!"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1396364731,"post_id":22774943,"comment_id":34748843,"body_markdown":"`BlockingQueue.put(...)` doesn&#39;t throw an exception unless you interrupt the thread.","body":"<code>BlockingQueue.put(...)</code> doesn&#39;t throw an exception unless you interrupt the thread."},{"owner":{"account_id":199734,"reputation":72873,"user_id":445221,"display_name":"konsolebox"},"score":0,"creation_date":1400782566,"post_id":22774943,"comment_id":36635419,"body_markdown":"This solution is very much helpful to me. It&#39;s ideally the exact thing I needed and saves me a lot of time researching through the docs. Thanks much!","body":"This solution is very much helpful to me. It&#39;s ideally the exact thing I needed and saves me a lot of time researching through the docs. Thanks much!"},{"owner":{"account_id":199734,"reputation":72873,"user_id":445221,"display_name":"konsolebox"},"score":0,"creation_date":1401122056,"post_id":22774943,"comment_id":36749432,"body_markdown":"I found that AnimationTimer actually slows the GUI down. Is there an alternative solution to retrieve messages like a hook to the application thread somewhere? And I don&#39;t like to repeatedly use runLater(). The essence of using a queue seems to be lost in it and I&#39;m also uncertain about the order on how &quot;runLater()&quot; objects gets executed as reference to the actual and strict technical spec of its implementation, not just the current one.","body":"I found that AnimationTimer actually slows the GUI down. Is there an alternative solution to retrieve messages like a hook to the application thread somewhere? And I don&#39;t like to repeatedly use runLater(). The essence of using a queue seems to be lost in it and I&#39;m also uncertain about the order on how &quot;runLater()&quot; objects gets executed as reference to the actual and strict technical spec of its implementation, not just the current one."}],"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"comment_count":6,"down_vote_count":0,"up_vote_count":46,"is_accepted":true,"score":46,"last_activity_date":1600075171,"creation_date":1396313851,"answer_id":22774943,"question_id":22772379,"body_markdown":"Not sure if I completely understand, but I think this may help.\r\n\r\nUsing `Platform.runLater(...)` is an appropriate approach for this.\r\n\r\nThe trick to avoiding flooding the FX Application Thread is to use an Atomic variable to store the value you&#39;re interested in. In the `Platform.runLater` method, retrieve it and set it to a sentinel value. From your background thread, update the Atomic variable, but only issue a new `Platform.runLater` if it&#39;s been set back to its sentinel value. \r\n\r\nI figured this out by looking at the [source code for `Task`][1]. Have a look at how the `updateMessage` method (line 1131 at the time of writing) is implemented. \r\n\r\nHere&#39;s an example which uses the same technique. This just has a (busy) background thread which counts as fast as it can, updating an `IntegerProperty`. An observer watches that property and updates an `AtomicInteger` with the new value. If the current value of the `AtomicInteger` is -1, it schedules a `Platform.runLater`.\r\n\r\nIn the `Platform.runLater`, I retrieve the value of the `AtomicInteger` and use it to update a `Label`, setting the value back to -1 in the process. This signals that I am ready for another UI update.\r\n\r\n    import java.text.NumberFormat;\r\n    import java.util.concurrent.atomic.AtomicInteger;\r\n    import javafx.application.Application;\r\n    import javafx.application.Platform;\r\n    import javafx.beans.property.IntegerProperty;\r\n    import javafx.beans.property.SimpleIntegerProperty;\r\n    import javafx.beans.value.ChangeListener;\r\n    import javafx.beans.value.ObservableValue;\r\n    import javafx.event.ActionEvent;\r\n    import javafx.event.EventHandler;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.Button;\r\n    import javafx.scene.control.Label;\r\n    import javafx.scene.layout.AnchorPane;\r\n    import javafx.stage.Stage;\r\n    \r\n    public class ConcurrentModel extends Application {\r\n    \r\n      @Override\r\n      public void start(Stage primaryStage) {\r\n        \r\n        final AtomicInteger count = new AtomicInteger(-1);\r\n        \r\n        final AnchorPane root = new AnchorPane();\r\n        final Label label = new Label();\r\n        final Model model = new Model();\r\n        final NumberFormat formatter = NumberFormat.getIntegerInstance();\r\n        formatter.setGroupingUsed(true);\r\n        model.intProperty().addListener(new ChangeListener&lt;Number&gt;() {\r\n          @Override\r\n          public void changed(final ObservableValue&lt;? extends Number&gt; observable,\r\n              final Number oldValue, final Number newValue) {\r\n            if (count.getAndSet(newValue.intValue()) == -1) {\r\n              Platform.runLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                  long value = count.getAndSet(-1);\r\n                  label.setText(formatter.format(value));\r\n                }\r\n              });          \r\n            }\r\n    \r\n          }\r\n        });\r\n        final Button startButton = new Button(&quot;Start&quot;);\r\n        startButton.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\r\n          @Override\r\n          public void handle(ActionEvent event) {\r\n            model.start();\r\n          }\r\n        });\r\n    \r\n        AnchorPane.setTopAnchor(label, 10.0);\r\n        AnchorPane.setLeftAnchor(label, 10.0);\r\n        AnchorPane.setBottomAnchor(startButton, 10.0);\r\n        AnchorPane.setLeftAnchor(startButton, 10.0);\r\n        root.getChildren().addAll(label, startButton);\r\n    \r\n        Scene scene = new Scene(root, 100, 100);\r\n        primaryStage.setScene(scene);\r\n        primaryStage.show();\r\n      }\r\n    \r\n      public static void main(String[] args) {\r\n        launch(args);\r\n      }\r\n    \r\n      public class Model extends Thread {\r\n        private IntegerProperty intProperty;\r\n    \r\n        public Model() {\r\n          intProperty = new SimpleIntegerProperty(this, &quot;int&quot;, 0);\r\n          setDaemon(true);\r\n        }\r\n    \r\n        public int getInt() {\r\n          return intProperty.get();\r\n        }\r\n    \r\n        public IntegerProperty intProperty() {\r\n          return intProperty;\r\n        }\r\n    \r\n        @Override\r\n        public void run() {\r\n          while (true) {\r\n            intProperty.set(intProperty.get() + 1);\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n\r\nIf you really want to &quot;drive&quot; the back end from the UI: that is throttle the speed of the backend implementation so you see all updates, consider using an `AnimationTimer`. An `AnimationTimer` has a `handle(...)` which is called once per frame render. So you could block the back-end implementation (for example by using a blocking queue) and release it once per invocation of the handle method. The `handle(...)` method is invoked on the FX Application Thread.\r\n\r\nThe `handle(...)` method takes a parameter which is a timestamp (in nanoseconds), so you can use that to slow the updates further, if once per frame is too fast.\r\n\r\nFor example:\r\n\t\r\n    import java.util.concurrent.ArrayBlockingQueue;\r\n    import java.util.concurrent.BlockingQueue;\r\n    \r\n    import javafx.animation.AnimationTimer;\r\n    import javafx.application.Application;\r\n    import javafx.beans.property.LongProperty;\r\n    import javafx.beans.property.SimpleLongProperty;\r\n    import javafx.geometry.Insets;\r\n    import javafx.geometry.Pos;\r\n    import javafx.stage.Stage;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.Button;\r\n    import javafx.scene.control.TextArea;\r\n    import javafx.scene.layout.BorderPane;\r\n    import javafx.scene.layout.HBox;\r\n    \r\n    \r\n    public class Main extends Application {\r\n    \t@Override\r\n    \tpublic void start(Stage primaryStage) {\r\n    \t\t\r\n    \t\tfinal BlockingQueue&lt;String&gt; messageQueue = new ArrayBlockingQueue&lt;&gt;(1);\r\n    \t\t\r\n    \t\tTextArea console = new TextArea();\r\n    \t\t\r\n    \t\tButton startButton = new Button(&quot;Start&quot;);\r\n    \t\tstartButton.setOnAction(event -&gt; {\r\n    \t\t\tMessageProducer producer = new MessageProducer(messageQueue);\r\n    \t\t\tThread t = new Thread(producer);\r\n    \t\t\tt.setDaemon(true);\r\n    \t\t\tt.start();\r\n    \t\t});\r\n    \t\t\r\n    \t\tfinal LongProperty lastUpdate = new SimpleLongProperty();\r\n    \t\t\r\n    \t\tfinal long minUpdateInterval = 0 ; // nanoseconds. Set to higher number to slow output.\r\n    \t\t\r\n    \t\tAnimationTimer timer = new AnimationTimer() {\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic void handle(long now) {\r\n    \t\t\t\tif (now - lastUpdate.get() &gt; minUpdateInterval) {\r\n    \t\t\t\t\tfinal String message = messageQueue.poll();\r\n    \t\t\t\t\tif (message != null) {\r\n    \t\t\t\t\t\tconsole.appendText(&quot;\\n&quot; + message);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\tlastUpdate.set(now);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t};\r\n    \t\t\r\n    \t\ttimer.start();\r\n    \t\t\r\n    \t\tHBox controls = new HBox(5, startButton);\r\n    \t\tcontrols.setPadding(new Insets(10));\r\n    \t\tcontrols.setAlignment(Pos.CENTER);\r\n    \t\t\r\n    \t\tBorderPane root = new BorderPane(console, null, null, controls, null);\r\n    \t\tScene scene = new Scene(root,600,400);\r\n    \t\tprimaryStage.setScene(scene);\r\n    \t\tprimaryStage.show();\r\n    \t}\r\n    \t\r\n    \tprivate static class MessageProducer implements Runnable {\r\n    \t\tprivate final BlockingQueue&lt;String&gt; messageQueue ;\r\n    \t\t\r\n    \t\tpublic MessageProducer(BlockingQueue&lt;String&gt; messageQueue) {\r\n    \t\t\tthis.messageQueue = messageQueue ;\r\n    \t\t}\r\n    \t\t\r\n    \t\t@Override\r\n    \t\tpublic void run() {\r\n    \t\t\tlong messageCount = 0 ;\r\n    \t\t\ttry {\r\n    \t\t\t\twhile (true) {\r\n    \t\t\t\t\tfinal String message = &quot;Message &quot; + (++messageCount);\r\n    \t\t\t\t\tmessageQueue.put(message);\r\n    \t\t\t\t}\r\n    \t\t\t} catch (InterruptedException exc) {\r\n    \t\t\t\tSystem.out.println(&quot;Message producer interrupted: exiting.&quot;);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tlaunch(args);\r\n    \t}\r\n    }\r\n\r\n  [1]: http://hg.openjdk.java.net/openjfx/8/master/rt/file/f89b7dc932af/modules/graphics/src/main/java/javafx/concurrent/Task.java\r\n\r\n","title":"Updating UI from different threads in JavaFX","body":"<p>Not sure if I completely understand, but I think this may help.</p>\n<p>Using <code>Platform.runLater(...)</code> is an appropriate approach for this.</p>\n<p>The trick to avoiding flooding the FX Application Thread is to use an Atomic variable to store the value you're interested in. In the <code>Platform.runLater</code> method, retrieve it and set it to a sentinel value. From your background thread, update the Atomic variable, but only issue a new <code>Platform.runLater</code> if it's been set back to its sentinel value.</p>\n<p>I figured this out by looking at the <a href=\"http://hg.openjdk.java.net/openjfx/8/master/rt/file/f89b7dc932af/modules/graphics/src/main/java/javafx/concurrent/Task.java\" rel=\"noreferrer\">source code for <code>Task</code></a>. Have a look at how the <code>updateMessage</code> method (line 1131 at the time of writing) is implemented.</p>\n<p>Here's an example which uses the same technique. This just has a (busy) background thread which counts as fast as it can, updating an <code>IntegerProperty</code>. An observer watches that property and updates an <code>AtomicInteger</code> with the new value. If the current value of the <code>AtomicInteger</code> is -1, it schedules a <code>Platform.runLater</code>.</p>\n<p>In the <code>Platform.runLater</code>, I retrieve the value of the <code>AtomicInteger</code> and use it to update a <code>Label</code>, setting the value back to -1 in the process. This signals that I am ready for another UI update.</p>\n<pre><code>import java.text.NumberFormat;\nimport java.util.concurrent.atomic.AtomicInteger;\nimport javafx.application.Application;\nimport javafx.application.Platform;\nimport javafx.beans.property.IntegerProperty;\nimport javafx.beans.property.SimpleIntegerProperty;\nimport javafx.beans.value.ChangeListener;\nimport javafx.beans.value.ObservableValue;\nimport javafx.event.ActionEvent;\nimport javafx.event.EventHandler;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.Label;\nimport javafx.scene.layout.AnchorPane;\nimport javafx.stage.Stage;\n\npublic class ConcurrentModel extends Application {\n\n  @Override\n  public void start(Stage primaryStage) {\n    \n    final AtomicInteger count = new AtomicInteger(-1);\n    \n    final AnchorPane root = new AnchorPane();\n    final Label label = new Label();\n    final Model model = new Model();\n    final NumberFormat formatter = NumberFormat.getIntegerInstance();\n    formatter.setGroupingUsed(true);\n    model.intProperty().addListener(new ChangeListener&lt;Number&gt;() {\n      @Override\n      public void changed(final ObservableValue&lt;? extends Number&gt; observable,\n          final Number oldValue, final Number newValue) {\n        if (count.getAndSet(newValue.intValue()) == -1) {\n          Platform.runLater(new Runnable() {\n            @Override\n            public void run() {\n              long value = count.getAndSet(-1);\n              label.setText(formatter.format(value));\n            }\n          });          \n        }\n\n      }\n    });\n    final Button startButton = new Button(&quot;Start&quot;);\n    startButton.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\n      @Override\n      public void handle(ActionEvent event) {\n        model.start();\n      }\n    });\n\n    AnchorPane.setTopAnchor(label, 10.0);\n    AnchorPane.setLeftAnchor(label, 10.0);\n    AnchorPane.setBottomAnchor(startButton, 10.0);\n    AnchorPane.setLeftAnchor(startButton, 10.0);\n    root.getChildren().addAll(label, startButton);\n\n    Scene scene = new Scene(root, 100, 100);\n    primaryStage.setScene(scene);\n    primaryStage.show();\n  }\n\n  public static void main(String[] args) {\n    launch(args);\n  }\n\n  public class Model extends Thread {\n    private IntegerProperty intProperty;\n\n    public Model() {\n      intProperty = new SimpleIntegerProperty(this, &quot;int&quot;, 0);\n      setDaemon(true);\n    }\n\n    public int getInt() {\n      return intProperty.get();\n    }\n\n    public IntegerProperty intProperty() {\n      return intProperty;\n    }\n\n    @Override\n    public void run() {\n      while (true) {\n        intProperty.set(intProperty.get() + 1);\n      }\n    }\n  }\n}\n</code></pre>\n<p>If you really want to &quot;drive&quot; the back end from the UI: that is throttle the speed of the backend implementation so you see all updates, consider using an <code>AnimationTimer</code>. An <code>AnimationTimer</code> has a <code>handle(...)</code> which is called once per frame render. So you could block the back-end implementation (for example by using a blocking queue) and release it once per invocation of the handle method. The <code>handle(...)</code> method is invoked on the FX Application Thread.</p>\n<p>The <code>handle(...)</code> method takes a parameter which is a timestamp (in nanoseconds), so you can use that to slow the updates further, if once per frame is too fast.</p>\n<p>For example:</p>\n<pre><code>import java.util.concurrent.ArrayBlockingQueue;\nimport java.util.concurrent.BlockingQueue;\n\nimport javafx.animation.AnimationTimer;\nimport javafx.application.Application;\nimport javafx.beans.property.LongProperty;\nimport javafx.beans.property.SimpleLongProperty;\nimport javafx.geometry.Insets;\nimport javafx.geometry.Pos;\nimport javafx.stage.Stage;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.TextArea;\nimport javafx.scene.layout.BorderPane;\nimport javafx.scene.layout.HBox;\n\n\npublic class Main extends Application {\n    @Override\n    public void start(Stage primaryStage) {\n        \n        final BlockingQueue&lt;String&gt; messageQueue = new ArrayBlockingQueue&lt;&gt;(1);\n        \n        TextArea console = new TextArea();\n        \n        Button startButton = new Button(&quot;Start&quot;);\n        startButton.setOnAction(event -&gt; {\n            MessageProducer producer = new MessageProducer(messageQueue);\n            Thread t = new Thread(producer);\n            t.setDaemon(true);\n            t.start();\n        });\n        \n        final LongProperty lastUpdate = new SimpleLongProperty();\n        \n        final long minUpdateInterval = 0 ; // nanoseconds. Set to higher number to slow output.\n        \n        AnimationTimer timer = new AnimationTimer() {\n\n            @Override\n            public void handle(long now) {\n                if (now - lastUpdate.get() &gt; minUpdateInterval) {\n                    final String message = messageQueue.poll();\n                    if (message != null) {\n                        console.appendText(&quot;\\n&quot; + message);\n                    }\n                    lastUpdate.set(now);\n                }\n            }\n            \n        };\n        \n        timer.start();\n        \n        HBox controls = new HBox(5, startButton);\n        controls.setPadding(new Insets(10));\n        controls.setAlignment(Pos.CENTER);\n        \n        BorderPane root = new BorderPane(console, null, null, controls, null);\n        Scene scene = new Scene(root,600,400);\n        primaryStage.setScene(scene);\n        primaryStage.show();\n    }\n    \n    private static class MessageProducer implements Runnable {\n        private final BlockingQueue&lt;String&gt; messageQueue ;\n        \n        public MessageProducer(BlockingQueue&lt;String&gt; messageQueue) {\n            this.messageQueue = messageQueue ;\n        }\n        \n        @Override\n        public void run() {\n            long messageCount = 0 ;\n            try {\n                while (true) {\n                    final String message = &quot;Message &quot; + (++messageCount);\n                    messageQueue.put(message);\n                }\n            } catch (InterruptedException exc) {\n                System.out.println(&quot;Message producer interrupted: exiting.&quot;);\n            }\n        }\n    }\n    \n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4257265,"reputation":643,"user_id":3482616,"display_name":"eddy"},"score":8,"creation_date":1437643035,"post_id":31001381,"comment_id":51118929,"body_markdown":"As I stated in the question, I am using `Task`. The problem, which was solved over a year ago, was that I had multiple values to communicate back to the main thread. `Task` offers a few thread-safe update methods such as `updateProgress`, but I was after a scalable solution not constrained to progress, message, value and title updates.","body":"As I stated in the question, I am using <code>Task</code>. The problem, which was solved over a year ago, was that I had multiple values to communicate back to the main thread. <code>Task</code> offers a few thread-safe update methods such as <code>updateProgress</code>, but I was after a scalable solution not constrained to progress, message, value and title updates."},{"owner":{"account_id":5073286,"reputation":377,"user_id":4071461,"display_name":"kasvith"},"score":1,"creation_date":1540880558,"post_id":31001381,"comment_id":93015731,"body_markdown":"It now supports message, title and value in JDK8","body":"It now supports message, title and value in JDK8"}],"tags":[],"owner":{"account_id":3830880,"reputation":4987,"user_id":3176433,"accept_rate":68,"display_name":"zIronManBox"},"comment_count":2,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1666727933,"creation_date":1435058416,"answer_id":31001381,"question_id":22772379,"body_markdown":"The best way to performing this is by usage of `Task` in JavaFx. This is be by far the best technique I&#39;ve come across to update UI Controls in JavaFx.\r\n\r\n    Task task = new Task&lt;Void&gt;() {\r\n        @Override public Void call() {\r\n            static final int max = 1000000;\r\n            for (int i=1; i&lt;=max; i++) {\r\n                updateProgress(i, max);\r\n            }\r\n            return null;\r\n        }\r\n    };\r\n    ProgressBar bar = new ProgressBar();\r\n    bar.progressProperty().bind(task.progressProperty());\r\n    new Thread(task).start();","title":"Updating UI from different threads in JavaFX","body":"<p>The best way to performing this is by usage of <code>Task</code> in JavaFx. This is be by far the best technique I've come across to update UI Controls in JavaFx.</p>\n<pre><code>Task task = new Task&lt;Void&gt;() {\n    @Override public Void call() {\n        static final int max = 1000000;\n        for (int i=1; i&lt;=max; i++) {\n            updateProgress(i, max);\n        }\n        return null;\n    }\n};\nProgressBar bar = new ProgressBar();\nbar.progressProperty().bind(task.progressProperty());\nnew Thread(task).start();\n</code></pre>\n"}],"owner":{"account_id":4257265,"reputation":643,"user_id":3482616,"display_name":"eddy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86262,"favorite_count":0,"down_vote_count":0,"up_vote_count":42,"accepted_answer_id":22774943,"answer_count":2,"score":42,"last_activity_date":1666727933,"creation_date":1396300681,"question_id":22772379,"body_markdown":"I am developing an application with several `TextField` objects that need to be updated to reflect changes in associated back-end properties. The `TextField`s are not editable, only the back-end may change their content.\r\n\r\nAs I understand, the correct way about this is to run the heavy computation on a separate thread so as not to block the UI. I did this using `javafx.concurrent.Task` and communicated a single value back to the JavaFX thread using `updateMessage()`, which worked well. However, I need more than one value to be updated as the back-end does its crunching.\r\n\r\nSince the back-end values are stored as JavaFX properties, I tried simply binding them to the `textProperty` of each GUI element and let the bindings do the work. This doesn&#39;t work, however; after running for a few moments, the `TextField`s stop updating even though the back-end task is still running. No exceptions are raised.\r\n\r\nI also tried using `Platform.runLater()` to actively update the `TextField`s rather than binding. The issue here is that the `runLater()` tasks are scheduled faster than the platform can run them, and so the GUI becomes sluggish and needs to time to &quot;catch up&quot; even after the back-end task is finished.\r\n\r\nI found a few questions on here:\r\n\r\nhttps://stackoverflow.com/questions/12339853/logger-entries-translated-to-the-ui-stops-being-updated-with-time\r\n\r\nhttps://stackoverflow.com/questions/14674274/multithreading-in-javafx-hangs-the-ui\r\n\r\nbut my issue persists.\r\n\r\nIn summary: I have a back-end making changes to properties, and I want those changes to appear on the GUI. The back-end is a genetic algorithm, so its operation is broken down into discrete generations. What I would like is for the `TextField`s to refresh at least once in between generations, even if this delays the next generation. It is more important that the GUI responds well than that the GA runs fast.\r\n\r\nI can post a few code examples if I haven&#39;t made the issue clear.\r\n\r\n**UPDATE**\r\n\r\nI managed to do it following James_D&#39;s suggestion. To solve the issue of the back-end having to wait for the console to print, I implemented a buffered console of sorts. It stores the strings to print in a `StringBuffer` and actually appends them to the `TextArea` when a `flush()` method is called. I used an AtomicBoolean to prevent the next generation from happening until the flush is complete, as it is done by a `Platform.runLater()` runnable. Also note that this solution is _incredibly_ slow.\r\n\r\n","title":"Updating UI from different threads in JavaFX","body":"<p>I am developing an application with several <code>TextField</code> objects that need to be updated to reflect changes in associated back-end properties. The <code>TextField</code>s are not editable, only the back-end may change their content.</p>\n\n<p>As I understand, the correct way about this is to run the heavy computation on a separate thread so as not to block the UI. I did this using <code>javafx.concurrent.Task</code> and communicated a single value back to the JavaFX thread using <code>updateMessage()</code>, which worked well. However, I need more than one value to be updated as the back-end does its crunching.</p>\n\n<p>Since the back-end values are stored as JavaFX properties, I tried simply binding them to the <code>textProperty</code> of each GUI element and let the bindings do the work. This doesn't work, however; after running for a few moments, the <code>TextField</code>s stop updating even though the back-end task is still running. No exceptions are raised.</p>\n\n<p>I also tried using <code>Platform.runLater()</code> to actively update the <code>TextField</code>s rather than binding. The issue here is that the <code>runLater()</code> tasks are scheduled faster than the platform can run them, and so the GUI becomes sluggish and needs to time to \"catch up\" even after the back-end task is finished.</p>\n\n<p>I found a few questions on here:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/12339853/logger-entries-translated-to-the-ui-stops-being-updated-with-time\">Logger entries translated to the UI stops being updated with time</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/14674274/multithreading-in-javafx-hangs-the-ui\">Multithreading in JavaFX hangs the UI</a></p>\n\n<p>but my issue persists.</p>\n\n<p>In summary: I have a back-end making changes to properties, and I want those changes to appear on the GUI. The back-end is a genetic algorithm, so its operation is broken down into discrete generations. What I would like is for the <code>TextField</code>s to refresh at least once in between generations, even if this delays the next generation. It is more important that the GUI responds well than that the GA runs fast.</p>\n\n<p>I can post a few code examples if I haven't made the issue clear.</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>I managed to do it following James_D's suggestion. To solve the issue of the back-end having to wait for the console to print, I implemented a buffered console of sorts. It stores the strings to print in a <code>StringBuffer</code> and actually appends them to the <code>TextArea</code> when a <code>flush()</code> method is called. I used an AtomicBoolean to prevent the next generation from happening until the flush is complete, as it is done by a <code>Platform.runLater()</code> runnable. Also note that this solution is <em>incredibly</em> slow.</p>\n"},{"tags":["java","multithreading","caching","synchronization","java-memory-model"],"answers":[{"comments":[{"owner":{"account_id":1274415,"reputation":345,"user_id":1229949,"display_name":"Karthik"},"score":0,"creation_date":1343713661,"post_id":11733709,"comment_id":15571628,"body_markdown":"my question was not regarding lock, my question was regarding the memory model, how the values are getting sync with main memory from cache during synchronized method execution.","body":"my question was not regarding lock, my question was regarding the memory model, how the values are getting sync with main memory from cache during synchronized method execution."},{"owner":{"account_id":1355206,"reputation":33312,"user_id":1293744,"accept_rate":44,"display_name":"Kumar Vivek Mitra"},"score":0,"creation_date":1343718912,"post_id":11733709,"comment_id":15573225,"body_markdown":"During the synchronized process there is no sync mechanism...its simply like this.. When A thread alters the state of an crucial data, no other thread can access that data, once thread A is done with and the lock is released, then the other thread B can read it and write it, and at this time thread A canNot access that state of the data. Cache prevention mechanism is done when volatile keyword is used... thats what i tried to explain in my answer....","body":"During the synchronized process there is no sync mechanism...its simply like this.. When A thread alters the state of an crucial data, no other thread can access that data, once thread A is done with and the lock is released, then the other thread B can read it and write it, and at this time thread A canNot access that state of the data. Cache prevention mechanism is done when volatile keyword is used... thats what i tried to explain in my answer...."},{"owner":{"account_id":1274415,"reputation":345,"user_id":1229949,"display_name":"Karthik"},"score":0,"creation_date":1343794139,"post_id":11733709,"comment_id":15601554,"body_markdown":"thanks. Assume the code is running in multiprocessor environment, and threadA is executing in processor 1 and threadB is executing in processor 2. Assume both threads have cached the SharedData instance (as in above example) locally in processor cache. At time t1, threadA executes compute() method and releases the lock. After some time t1+delta (no lock on the instance), threadB executes getResult() method.Now threadB needs to refresh the processor cache for the member values of SharedData instance before executing the getResult(). What member variables gets refreshed (b&amp;c or all) ?","body":"thanks. Assume the code is running in multiprocessor environment, and threadA is executing in processor 1 and threadB is executing in processor 2. Assume both threads have cached the SharedData instance (as in above example) locally in processor cache. At time t1, threadA executes compute() method and releases the lock. After some time t1+delta (no lock on the instance), threadB executes getResult() method.Now threadB needs to refresh the processor cache for the member values of SharedData instance before executing the getResult(). What member variables gets refreshed (b&amp;c or all) ?"}],"tags":[],"owner":{"account_id":1355206,"reputation":33312,"user_id":1293744,"accept_rate":44,"display_name":"Kumar Vivek Mitra"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1343713308,"creation_date":1343712775,"answer_id":11733709,"question_id":11733632,"body_markdown":"**1.** `synchronized` keyword **on a method or on an atomic statement, will lock the access to \r\n       the resource that it can modify, by allowing only one thread to gain the lock.**\r\n\r\n**2.** Now **preventing of caching of values into the variables is done by** `volatile` keyword.\r\n       Using `volatile` keyword **will ask the JVM to make the thread that access the instance variable to reconcile its copy of the instance variable with the one saved in the memory.**\r\n\r\n**3.** Moreover in your above example, if `threadA` execute the `compute()`, then `threadB` **canNot** access the `getResult()` method **simultaneously**, as they **both are synchronized methods, and only one thread can have access to the all the synchronized methods of the object**, cause `its not the method that is locked but the Object. Its` `like this... Every object has one lock, and the thread which wants to access its synchronized block must get that lock`\r\n\r\n**4.** Even **every class has a lock**, that is used to protect the **crucial state of the static variables in the class.**\r\n","title":"Synchronized data read/write to/from main memory","body":"<p><strong>1.</strong> <code>synchronized</code> keyword <strong>on a method or on an atomic statement, will lock the access to \n       the resource that it can modify, by allowing only one thread to gain the lock.</strong></p>\n\n<p><strong>2.</strong> Now <strong>preventing of caching of values into the variables is done by</strong> <code>volatile</code> keyword.\n       Using <code>volatile</code> keyword <strong>will ask the JVM to make the thread that access the instance variable to reconcile its copy of the instance variable with the one saved in the memory.</strong></p>\n\n<p><strong>3.</strong> Moreover in your above example, if <code>threadA</code> execute the <code>compute()</code>, then <code>threadB</code> <strong>canNot</strong> access the <code>getResult()</code> method <strong>simultaneously</strong>, as they <strong>both are synchronized methods, and only one thread can have access to the all the synchronized methods of the object</strong>, cause <code>its not the method that is locked but the Object. Its</code> <code>like this... Every object has one lock, and the thread which wants to access its synchronized block must get that lock</code></p>\n\n<p><strong>4.</strong> Even <strong>every class has a lock</strong>, that is used to protect the <strong>crucial state of the static variables in the class.</strong></p>\n"},{"comments":[{"owner":{"account_id":1274415,"reputation":345,"user_id":1229949,"display_name":"Karthik"},"score":0,"creation_date":1343715984,"post_id":11734000,"comment_id":15572254,"body_markdown":"thanks I went through the link given by you. They have concluded that full flush will not happen. But its based on their assumption, they don’t refer to any proof. Is their any jvm spec which confirms full cache flush will not happen ?","body":"thanks I went through the link given by you. They have concluded that full flush will not happen. But its based on their assumption, they don’t refer to any proof. Is their any jvm spec which confirms full cache flush will not happen ?"},{"owner":{"account_id":126052,"reputation":1290,"user_id":322276,"display_name":"sgp15"},"score":0,"creation_date":1344001480,"post_id":11734000,"comment_id":15673777,"body_markdown":"Apologies for late reply. JVM specs just define a contract. The implementations normally don&#39;t provide details. Lastly, its expensive to flush the whole cache. Therefore, logically, implementations go with optimizations where ever possible.","body":"Apologies for late reply. JVM specs just define a contract. The implementations normally don&#39;t provide details. Lastly, its expensive to flush the whole cache. Therefore, logically, implementations go with optimizations where ever possible."}],"tags":[],"owner":{"account_id":126052,"reputation":1290,"user_id":322276,"display_name":"sgp15"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1343714186,"creation_date":1343714186,"answer_id":11734000,"question_id":11733632,"body_markdown":"I think following thread should answer your question.\r\n\r\nhttps://stackoverflow.com/questions/1850270/memory-effects-of-synchronization-in-java\r\n\r\nIn practice, the whole cache is not flushed.","title":"Synchronized data read/write to/from main memory","body":"<p>I think following thread should answer your question.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/1850270/memory-effects-of-synchronization-in-java\">Memory effects of synchronization in Java</a></p>\n\n<p>In practice, the whole cache is not flushed.</p>\n"},{"comments":[{"owner":{"account_id":1274415,"reputation":345,"user_id":1229949,"display_name":"Karthik"},"score":2,"creation_date":1343794218,"post_id":11735010,"comment_id":15601575,"body_markdown":"thanks. Then why we need volatile key word in Java ? Please check this link [link](http://www.ibm.com/developerworks/java/library/j-jtp06197/index.html)","body":"thanks. Then why we need volatile key word in Java ? Please check this link <a href=\"http://www.ibm.com/developerworks/java/library/j-jtp06197/index.html\" rel=\"nofollow noreferrer\">link</a>"},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":1,"creation_date":1343831210,"post_id":11735010,"comment_id":15615640,"body_markdown":"If you only use synchronized, you wouldn&#39;t need volatile. Volatile is useful if you have a very simple operation for which synchronized would be overkill.","body":"If you only use synchronized, you wouldn&#39;t need volatile. Volatile is useful if you have a very simple operation for which synchronized would be overkill."},{"owner":{"account_id":236561,"reputation":5234,"user_id":504133,"accept_rate":76,"display_name":"nits.kk"},"score":0,"creation_date":1486742921,"post_id":11735010,"comment_id":71492457,"body_markdown":"@PeterLawrey Sir, I have some related doubt abput synchronized block , Would be really helpful if you could enlighten me about my question : http://stackoverflow.com/q/42163468/504133","body":"@PeterLawrey Sir, I have some related doubt abput synchronized block , Would be really helpful if you could enlighten me about my question : <a href=\"http://stackoverflow.com/q/42163468/504133\">stackoverflow.com/q/42163468/504133</a>"},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":1,"creation_date":1486752501,"post_id":11735010,"comment_id":71498023,"body_markdown":"@nits.kk The answer to your question is; yes.  synchronized reads don&#39;t mean anything without synchronized writes.","body":"@nits.kk The answer to your question is; yes.  synchronized reads don&#39;t mean anything without synchronized writes."},{"owner":{"account_id":236561,"reputation":5234,"user_id":504133,"accept_rate":76,"display_name":"nits.kk"},"score":0,"creation_date":1486752741,"post_id":11735010,"comment_id":71498160,"body_markdown":"@PeterLawrey Thanks , I feel I have understood, at least for the time being, will trouble more with further questions If I fail to discover the answers :) Thanks a lot for the help ..","body":"@PeterLawrey Thanks , I feel I have understood, at least for the time being, will trouble more with further questions If I fail to discover the answers :) Thanks a lot for the help .."},{"owner":{"account_id":2097244,"reputation":1405,"user_id":1865719,"accept_rate":78,"display_name":"Mohammad Karmi"},"score":0,"creation_date":1539442496,"post_id":11735010,"comment_id":92508499,"body_markdown":"@PeterLawrey &quot;synchronized ensures you have a consistent view of the data. &quot;  so is the read barrier ensures to read the data even though the synchronize has been done on different object ? eg. :\npublic class SharedData\n{\n\n    int a; int b; int c; int d;\n\n    public SharedData(Object x)\n    {\n         synchronized (x){....};\n  // is a,b,c,d are consistent here ?\n    }","body":"@PeterLawrey &quot;synchronized ensures you have a consistent view of the data. &quot;  so is the read barrier ensures to read the data even though the synchronize has been done on different object ? eg. : public class SharedData {      int a; int b; int c; int d;      public SharedData(Object x)     {          synchronized (x){....};   // is a,b,c,d are consistent here ?     }"},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":1,"creation_date":1539443603,"post_id":11735010,"comment_id":92508802,"body_markdown":"@MohammadKarmi consistent for read only, yes. you can&#39;t do read/write atomically if you use more than one lock. i.e. you get no more guarantee than volatile.","body":"@MohammadKarmi consistent for read only, yes. you can&#39;t do read/write atomically if you use more than one lock. i.e. you get no more guarantee than volatile."}],"tags":[],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":7,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1343719002,"creation_date":1343719002,"answer_id":11735010,"question_id":11733632,"body_markdown":"`synchronized` ensures you have a consistent view of the data.  This means you will read the latest value and other caches will get the latest value.  Caches are smart enough to talk to each other via a special bus (not something required by the JLS, but allowed) This bus means that it doesn&#39;t have to touch main memory to get a consistent view.","title":"Synchronized data read/write to/from main memory","body":"<p><code>synchronized</code> ensures you have a consistent view of the data.  This means you will read the latest value and other caches will get the latest value.  Caches are smart enough to talk to each other via a special bus (not something required by the JLS, but allowed) This bus means that it doesn't have to touch main memory to get a consistent view.</p>\n"},{"tags":[],"owner":{"account_id":6073790,"reputation":3697,"user_id":4741746,"accept_rate":86,"display_name":"Sushant Gosavi"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1666727885,"creation_date":1666727885,"answer_id":74199553,"question_id":11733632,"body_markdown":"Before answering your question lets clear few terms related to Multi-Threaded environments to understand the basic things.\r\n\r\n 1. **Race-Condition :** When two or more thread trying to perform read or write operations on same variable on same time (here same variable = shared data between thread) eg. In your question Thraed-A \r\nexecute ` b = a + 10` which is write operation on b and  At same time Thread-B can execute `b*c` which is read operation on b. So here race condition is happening. \r\nWe can handle race condition by using two ways one is by using  `Synchronized method or block` and second by using `Volatile` Keyword.\r\n\r\n\r\n 2. **Volatile :** Volatile keyword in Java guarantees that the value of the volatile variable will always be read from the main memory and not from Thread’s local cache. Normal variable without Volatile keyword is temporarily stored in Local cache for quick access and easy read write operations. Volatile doesn&#39;t block your thread it just make sure the write and read operation is perform in the sync. In the context of your example we can avoid race condition by making all variable as volatile \r\n\r\n \r\n 1. **Synchronized :** Synchronization is achived by blocking of thread. It means it use lock and key mechanism in such a way that only one thread can execute this block of code at a time. So Thread-B is waiting in the doors of [syncronized block][1] until Thread-A finish completely and release key. if you use syncronized in front of static method then lock is considered on your class (.class) and if method is non static or instance method (same as your case) at that time lock is considered on instance of class or current object [read][2]\r\n\r\nNow come to the point lets modify your example with few print statements and kotlin code \r\n\r\n    class SharedData {\r\n        var a: Int\r\n        var b: Int\r\n        var c: Int\r\n        var d = 10\r\n\r\n        init {\r\n            c = d\r\n            b = c\r\n            a = b\r\n        }\r\n        @Synchronized\r\n        fun compute() : Pair&lt;Int,Int&gt;{\r\n            a = b * 20\r\n            b = a + 10\r\n           return a to b\r\n        }\r\n\r\n        @Synchronized\r\n        fun getComputationResult() : Int{\r\n           return b * c\r\n        }\r\n    }\r\n   \r\n\r\n    @Test\r\n    fun testInstanceNotShared (){\r\n        println(&quot;Instance Not Shared Example&quot;)\r\n        val threadA = Thread{\r\n            val pair = SharedData().compute()\r\n            println(&quot;Running inside  ${Thread.currentThread().name}  compute And get  A = ${pair.first}, B = ${pair.second}  &quot;)\r\n        }\r\n        threadA.name = &quot;threadA&quot;\r\n        threadA.start()\r\n\r\n        val threadB = Thread{\r\n            println(&quot;Running inside  ${Thread.currentThread().name}  getComputationResult = ${SharedData().getComputationResult()}&quot;)\r\n        }\r\n        threadB.name = &quot;threadB&quot;\r\n        threadB.start()\r\n\r\n        threadA.join()\r\n        threadB.join()\r\n\r\n    }\r\n\r\n        // Output\r\n    //Instance Not Shared Example\r\n    //Running inside  threadB  getComputationResult = 100\r\n    //Running inside  threadA  compute And get  A = 200, B = 210\r\n   \r\n\r\n    @Test\r\n    fun testInstanceShared (){\r\n        println(&quot;Instance Shared Example&quot;)\r\n        val sharedInstance = SharedData()\r\n        val threadA = Thread{\r\n            val pair = sharedInstance.compute()\r\n            println(&quot;Running inside  ${Thread.currentThread().name}  compute And get  A = ${pair.first}, B = ${pair.second}  &quot;)\r\n        }\r\n        threadA.name = &quot;threadA&quot;\r\n        threadA.start()\r\n\r\n        val threadB = Thread{\r\n            println(&quot;Running inside  ${Thread.currentThread().name}  getComputationResult = ${sharedInstance.getComputationResult()}&quot;)\r\n        }\r\n        threadB.name = &quot;threadB&quot;\r\n        threadB.start()\r\n\r\n        threadA.join()\r\n        threadB.join()\r\n    }\r\n\r\n    //Instance Shared Example\r\n    //Running inside  threadB  getComputationResult = 2100\r\n    //Running inside  threadA  compute And get  A = 200, B = 210\r\n     \r\n   From above two test case you can identify that answer to your question is actually hidden in way how you call those methods (compute, getComputationResult) in multi-threaded environment. \r\n\r\n \r\n\r\n&gt; After the execution of compute, will threadA update main memory \r\n\r\nThere is no guarantee that threadA Update the value of variable a,b,c,d on main memory but if you use Volatile keyword in front of those variable then it gives you 100% guarantee that those variable is updated with correct state immediately after modification happen \r\n\r\n&gt; before executing getResult will threadB get only the value of b and c from main memory or will it clear the cache and fetch values for all member variables a,b,c and d \r\n\r\nNo \r\n\r\nAddition to this - if you notice that in second test example even when two thread call the method same time you will get exact result. Means calling compute, getComputationResult same time still the getComputationResult method return the updated value from compute method this is because Synchronized and Volatile provide functionality called happens before which make sure that every write operations should be called before subsequent read operation.\r\n\r\n  [1]: https://medium.com/@toimrank/java-synchronized-99ee2879d131\r\n  [2]: https://tarunjain07.medium.com/notes-synchronized-927b0caf01c3","title":"Synchronized data read/write to/from main memory","body":"<p>Before answering your question lets clear few terms related to Multi-Threaded environments to understand the basic things.</p>\n<ol>\n<li><p><strong>Race-Condition :</strong> When two or more thread trying to perform read or write operations on same variable on same time (here same variable = shared data between thread) eg. In your question Thraed-A\nexecute <code> b = a + 10</code> which is write operation on b and  At same time Thread-B can execute <code>b*c</code> which is read operation on b. So here race condition is happening.\nWe can handle race condition by using two ways one is by using  <code>Synchronized method or block</code> and second by using <code>Volatile</code> Keyword.</p>\n</li>\n<li><p><strong>Volatile :</strong> Volatile keyword in Java guarantees that the value of the volatile variable will always be read from the main memory and not from Thread’s local cache. Normal variable without Volatile keyword is temporarily stored in Local cache for quick access and easy read write operations. Volatile doesn't block your thread it just make sure the write and read operation is perform in the sync. In the context of your example we can avoid race condition by making all variable as volatile</p>\n</li>\n<li><p><strong>Synchronized :</strong> Synchronization is achived by blocking of thread. It means it use lock and key mechanism in such a way that only one thread can execute this block of code at a time. So Thread-B is waiting in the doors of <a href=\"https://medium.com/@toimrank/java-synchronized-99ee2879d131\" rel=\"nofollow noreferrer\">syncronized block</a> until Thread-A finish completely and release key. if you use syncronized in front of static method then lock is considered on your class (.class) and if method is non static or instance method (same as your case) at that time lock is considered on instance of class or current object <a href=\"https://tarunjain07.medium.com/notes-synchronized-927b0caf01c3\" rel=\"nofollow noreferrer\">read</a></p>\n</li>\n</ol>\n<p>Now come to the point lets modify your example with few print statements and kotlin code</p>\n<pre><code>class SharedData {\n    var a: Int\n    var b: Int\n    var c: Int\n    var d = 10\n\n    init {\n        c = d\n        b = c\n        a = b\n    }\n    @Synchronized\n    fun compute() : Pair&lt;Int,Int&gt;{\n        a = b * 20\n        b = a + 10\n       return a to b\n    }\n\n    @Synchronized\n    fun getComputationResult() : Int{\n       return b * c\n    }\n}\n\n\n@Test\nfun testInstanceNotShared (){\n    println(&quot;Instance Not Shared Example&quot;)\n    val threadA = Thread{\n        val pair = SharedData().compute()\n        println(&quot;Running inside  ${Thread.currentThread().name}  compute And get  A = ${pair.first}, B = ${pair.second}  &quot;)\n    }\n    threadA.name = &quot;threadA&quot;\n    threadA.start()\n\n    val threadB = Thread{\n        println(&quot;Running inside  ${Thread.currentThread().name}  getComputationResult = ${SharedData().getComputationResult()}&quot;)\n    }\n    threadB.name = &quot;threadB&quot;\n    threadB.start()\n\n    threadA.join()\n    threadB.join()\n\n}\n\n    // Output\n//Instance Not Shared Example\n//Running inside  threadB  getComputationResult = 100\n//Running inside  threadA  compute And get  A = 200, B = 210\n\n\n@Test\nfun testInstanceShared (){\n    println(&quot;Instance Shared Example&quot;)\n    val sharedInstance = SharedData()\n    val threadA = Thread{\n        val pair = sharedInstance.compute()\n        println(&quot;Running inside  ${Thread.currentThread().name}  compute And get  A = ${pair.first}, B = ${pair.second}  &quot;)\n    }\n    threadA.name = &quot;threadA&quot;\n    threadA.start()\n\n    val threadB = Thread{\n        println(&quot;Running inside  ${Thread.currentThread().name}  getComputationResult = ${sharedInstance.getComputationResult()}&quot;)\n    }\n    threadB.name = &quot;threadB&quot;\n    threadB.start()\n\n    threadA.join()\n    threadB.join()\n}\n\n//Instance Shared Example\n//Running inside  threadB  getComputationResult = 2100\n//Running inside  threadA  compute And get  A = 200, B = 210\n \n</code></pre>\n<p>From above two test case you can identify that answer to your question is actually hidden in way how you call those methods (compute, getComputationResult) in multi-threaded environment.</p>\n<blockquote>\n<p>After the execution of compute, will threadA update main memory</p>\n</blockquote>\n<p>There is no guarantee that threadA Update the value of variable a,b,c,d on main memory but if you use Volatile keyword in front of those variable then it gives you 100% guarantee that those variable is updated with correct state immediately after modification happen</p>\n<blockquote>\n<p>before executing getResult will threadB get only the value of b and c from main memory or will it clear the cache and fetch values for all member variables a,b,c and d</p>\n</blockquote>\n<p>No</p>\n<p>Addition to this - if you notice that in second test example even when two thread call the method same time you will get exact result. Means calling compute, getComputationResult same time still the getComputationResult method return the updated value from compute method this is because Synchronized and Volatile provide functionality called happens before which make sure that every write operations should be called before subsequent read operation.</p>\n"}],"owner":{"account_id":1274415,"reputation":345,"user_id":1229949,"display_name":"Karthik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2483,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":4,"score":5,"last_activity_date":1666727885,"creation_date":1343712424,"question_id":11733632,"body_markdown":"When a synchronized method is completed, will it push only the data modified by it to main memory, or all the member variables, similarly when a synchronized method executes, will it read only the data it needs from main memory or will it clear all the member variables in the cache and read their values from main memory ? For example \r\n\r\n    public class SharedData\r\n    {\r\n    \r\n    \tint a; int b; int c; int d;\r\n    \t\r\n    \tpublic SharedData()\r\n    \t{\r\n    \t\ta = b = c = d = 10;\r\n    \t}\r\n    \t\r\n    \tpublic synchronized void compute()\r\n    \t{\r\n    \t\ta = b * 20;\r\n    \t\tb = a + 10;\r\n    \t}\r\n    \t\r\n    \tpublic synchronized int getResult()\r\n    \t{\r\n    \t\treturn b*c;\r\n    \t}\r\n    \r\n    }\r\n\r\nIn the above code assume compute is executed by threadA and getResult is executed by threadB. After the execution of compute, will threadA update main memory with a and b or will it update a,b,c and d. And before executing getResult will threadB get only the value of b and c from main memory or will it clear the cache and fetch values for all member variables a,b,c and d ?\r\n\r\n","title":"Synchronized data read/write to/from main memory","body":"<p>When a synchronized method is completed, will it push only the data modified by it to main memory, or all the member variables, similarly when a synchronized method executes, will it read only the data it needs from main memory or will it clear all the member variables in the cache and read their values from main memory ? For example </p>\n\n<pre><code>public class SharedData\n{\n\n    int a; int b; int c; int d;\n\n    public SharedData()\n    {\n        a = b = c = d = 10;\n    }\n\n    public synchronized void compute()\n    {\n        a = b * 20;\n        b = a + 10;\n    }\n\n    public synchronized int getResult()\n    {\n        return b*c;\n    }\n\n}\n</code></pre>\n\n<p>In the above code assume compute is executed by threadA and getResult is executed by threadB. After the execution of compute, will threadA update main memory with a and b or will it update a,b,c and d. And before executing getResult will threadB get only the value of b and c from main memory or will it clear the cache and fetch values for all member variables a,b,c and d ?</p>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":255453,"reputation":3554,"user_id":535515,"accept_rate":100,"display_name":"Gus"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666726085,"creation_date":1666726085,"answer_id":74199231,"question_id":74198975,"body_markdown":"I modified your code slightly.  Your main issue is that you&#39;re re-throwing that exception when you catch it -- that will stop processing at the first exception.  Then you need some way to store the inputs that cause an error (that&#39;s what `invalidInputs` is for.  I&#39;m assuming that your next step is to actually use the results of that input to convert, otherwise you don&#39;t need to use `map()`, so my &quot;validate&quot; method also just does the conversion too.  I use a JUnit test harness for stuff like this, and I left in the `assert()`s; you should take them (and the `@Test` annotation) out for your code.\r\n\r\n    \t//throws NumberFormatException if input doesn&#39;t parse into an integer\r\n\tpublic static Integer validate(String input) throws Exception{\r\n\t\treturn Integer.parseInt(input);\r\n\t}\r\n\t\r\n\t@Test \r\n\tpublic void testStreamMap() {\r\n\t\tList&lt;String&gt; test = Arrays.asList(&quot;1&quot;, &quot;2,&quot;, &quot;3&quot;);\r\n\t\tList&lt;String&gt; invalidInputs = new ArrayList&lt;&gt;();\r\n\t\tList&lt;Integer&gt; result= test.stream().map(t -&gt; {\r\n\t\t\tInteger localResult;\r\n\t\t  try {\r\n\t\t    localResult=validate(t);\r\n\t\t  } catch (Exception e) {\r\n\t\t    invalidInputs.add(t);\r\n\t\t    localResult=null;\r\n\t\t  }\r\n\t\t  return localResult;\r\n\t\t}).collect(Collectors.toList());\r\n\t\tassertTrue(invalidInputs.contains(&quot;2,&quot;));\r\n\t\tassertFalse(result.contains(2));\r\n\t}","title":"How do I continue with next element in the Java Stream in case of exception?","body":"<p>I modified your code slightly.  Your main issue is that you're re-throwing that exception when you catch it -- that will stop processing at the first exception.  Then you need some way to store the inputs that cause an error (that's what <code>invalidInputs</code> is for.  I'm assuming that your next step is to actually use the results of that input to convert, otherwise you don't need to use <code>map()</code>, so my &quot;validate&quot; method also just does the conversion too.  I use a JUnit test harness for stuff like this, and I left in the <code>assert()</code>s; you should take them (and the <code>@Test</code> annotation) out for your code.</p>\n<pre><code>    //throws NumberFormatException if input doesn't parse into an integer\npublic static Integer validate(String input) throws Exception{\n    return Integer.parseInt(input);\n}\n\n@Test \npublic void testStreamMap() {\n    List&lt;String&gt; test = Arrays.asList(&quot;1&quot;, &quot;2,&quot;, &quot;3&quot;);\n    List&lt;String&gt; invalidInputs = new ArrayList&lt;&gt;();\n    List&lt;Integer&gt; result= test.stream().map(t -&gt; {\n        Integer localResult;\n      try {\n        localResult=validate(t);\n      } catch (Exception e) {\n        invalidInputs.add(t);\n        localResult=null;\n      }\n      return localResult;\n    }).collect(Collectors.toList());\n    assertTrue(invalidInputs.contains(&quot;2,&quot;));\n    assertFalse(result.contains(2));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11358426,"reputation":1127,"user_id":8327330,"display_name":"iamgirdhar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666727519,"creation_date":1666726383,"answer_id":74199290,"question_id":74198975,"body_markdown":"*You can try this approach to **collect all the exceptions in a list** as follows:*\r\n\r\n*Here,*\r\n\r\nI have iterated over the list using `forEach` and in case of `catch` , added the exception `e` in the `listOfExceptions` list.\r\n\r\n - As I have entered three invalid inputs in the list , it is giving three exceptions in the list at the end corresponding to each element which is giving exception.\r\n - **For the demo purpose**, I have created one more list `listOfElementsWithoutExceptions` showing the elements which are processed without any exceptions.\r\n\r\n**Note:** *You can have your own custom exception list in place of `List&lt;Exception&gt;`.*\r\n\r\n    public class Test2 {\r\n        public static void main(String[] args) {\r\n            List&lt;String&gt; test = Arrays.asList(&quot;test1&quot;, &quot;test2&quot;, &quot;3&quot;,&quot;4&quot;,&quot;test5&quot;,&quot;6&quot;);\r\n    \r\n            List&lt;Exception&gt; listOfExceptions = new ArrayList&lt;&gt;();\r\n            List&lt;String&gt; listOfElementsWithoutExceptions = new ArrayList&lt;&gt;();\r\n            test.forEach(t -&gt; {\r\n                try {\r\n                    validate(t);\r\n                    listOfElementsWithoutExceptions.add(t);\r\n                } catch (Exception e) {\r\n                    listOfExceptions.add(e);\r\n                }\r\n            });\r\n            System.out.println(&quot;list of exceptions:: &quot; + listOfExceptions);\r\n            System.out.println(&quot;list of elements without exceptions:: &quot;+ listOfElementsWithoutExceptions);\r\n        }\r\n    \r\n        private static void validate(String t) {\r\n            Integer.parseInt(t);\r\n        }\r\n    }\r\n\r\n**Output:**\r\n\r\n    list of exceptions::\r\n\r\n    [java.lang.NumberFormatException: For input string: &quot;test1&quot;, \r\n    java.lang.NumberFormatException: For input string: &quot;test2&quot;, \r\n    java.lang.NumberFormatException: For input string: &quot;test5&quot;]\r\n    \r\n    list of elements without exceptions:: [3, 4, 6]\r\n\r\n","title":"How do I continue with next element in the Java Stream in case of exception?","body":"<p><em>You can try this approach to <strong>collect all the exceptions in a list</strong> as follows:</em></p>\n<p><em>Here,</em></p>\n<p>I have iterated over the list using <code>forEach</code> and in case of <code>catch</code> , added the exception <code>e</code> in the <code>listOfExceptions</code> list.</p>\n<ul>\n<li>As I have entered three invalid inputs in the list , it is giving three exceptions in the list at the end corresponding to each element which is giving exception.</li>\n<li><strong>For the demo purpose</strong>, I have created one more list <code>listOfElementsWithoutExceptions</code> showing the elements which are processed without any exceptions.</li>\n</ul>\n<p><strong>Note:</strong> <em>You can have your own custom exception list in place of <code>List&lt;Exception&gt;</code>.</em></p>\n<pre><code>public class Test2 {\n    public static void main(String[] args) {\n        List&lt;String&gt; test = Arrays.asList(&quot;test1&quot;, &quot;test2&quot;, &quot;3&quot;,&quot;4&quot;,&quot;test5&quot;,&quot;6&quot;);\n\n        List&lt;Exception&gt; listOfExceptions = new ArrayList&lt;&gt;();\n        List&lt;String&gt; listOfElementsWithoutExceptions = new ArrayList&lt;&gt;();\n        test.forEach(t -&gt; {\n            try {\n                validate(t);\n                listOfElementsWithoutExceptions.add(t);\n            } catch (Exception e) {\n                listOfExceptions.add(e);\n            }\n        });\n        System.out.println(&quot;list of exceptions:: &quot; + listOfExceptions);\n        System.out.println(&quot;list of elements without exceptions:: &quot;+ listOfElementsWithoutExceptions);\n    }\n\n    private static void validate(String t) {\n        Integer.parseInt(t);\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>list of exceptions::\n\n[java.lang.NumberFormatException: For input string: &quot;test1&quot;, \njava.lang.NumberFormatException: For input string: &quot;test2&quot;, \njava.lang.NumberFormatException: For input string: &quot;test5&quot;]\n\nlist of elements without exceptions:: [3, 4, 6]\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1666727302,"post_id":74199425,"comment_id":131003922,"body_markdown":"I&#39;d add `.filter(Objects::nonNull)` before the `toList() `.","body":"I&#39;d add <code>.filter(Objects::nonNull)</code> before the <code>toList() </code>."},{"owner":{"account_id":26527947,"reputation":41,"user_id":20160624,"display_name":"Lewis12"},"score":0,"creation_date":1666728586,"post_id":74199425,"comment_id":131004282,"body_markdown":"Is there a good way to then display all exceptions as a response in a readable way with 500 response?","body":"Is there a good way to then display all exceptions as a response in a readable way with 500 response?"},{"owner":{"account_id":1209109,"reputation":7934,"user_id":1178016,"accept_rate":73,"display_name":"xehpuk"},"score":0,"creation_date":1666730999,"post_id":74199425,"comment_id":131004946,"body_markdown":"@Lewis12 What&#39;s readable is subjective – and not the job of the API.","body":"@Lewis12 What&#39;s readable is subjective – and not the job of the API."}],"tags":[],"owner":{"account_id":1209109,"reputation":7934,"user_id":1178016,"accept_rate":73,"display_name":"xehpuk"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666727345,"creation_date":1666727078,"answer_id":74199425,"question_id":74198975,"body_markdown":"Well, don&#39;t rethrow the exception:\r\n\r\n```\r\nvar exceptions = test.stream().map(t -&gt; {\r\n    try {\r\n      validate(t);\r\n    } catch (Exception e) {\r\n      return e;\r\n    }\r\n\r\n    return null;\r\n  })\r\n    .filter(Objects::nonNull) // if you don&#39;t need to preserve the index\r\n    .toList();\r\n```","title":"How do I continue with next element in the Java Stream in case of exception?","body":"<p>Well, don't rethrow the exception:</p>\n<pre><code>var exceptions = test.stream().map(t -&gt; {\n    try {\n      validate(t);\n    } catch (Exception e) {\n      return e;\n    }\n\n    return null;\n  })\n    .filter(Objects::nonNull) // if you don't need to preserve the index\n    .toList();\n</code></pre>\n"}],"owner":{"account_id":26527947,"reputation":41,"user_id":20160624,"display_name":"Lewis12"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":283,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":74199425,"answer_count":3,"score":-2,"last_activity_date":1666727519,"creation_date":1666724457,"question_id":74198975,"body_markdown":"I have a stream like this,\r\n\r\n    List&lt;String&gt; test = Arrays.asList(&quot;1&quot;, &quot;2,&quot;, &quot;3&quot;);\r\n    \r\n    test.stream().map(t -&gt; {\r\n      try {\r\n        validate(t);\r\n      } catch (Exception e) {\r\n        throw new ResponseStatusException(HttpStatus.INTERNAL_SERVER_ERROR, e.getMessage(), e);\r\n      }\r\n    \r\n      return true;\r\n    })\r\n\r\nIn case of an exception, I would like to store it somewhere, process the next element and then show all exceptions at once. Is this possible?","title":"How do I continue with next element in the Java Stream in case of exception?","body":"<p>I have a stream like this,</p>\n<pre><code>List&lt;String&gt; test = Arrays.asList(&quot;1&quot;, &quot;2,&quot;, &quot;3&quot;);\n\ntest.stream().map(t -&gt; {\n  try {\n    validate(t);\n  } catch (Exception e) {\n    throw new ResponseStatusException(HttpStatus.INTERNAL_SERVER_ERROR, e.getMessage(), e);\n  }\n\n  return true;\n})\n</code></pre>\n<p>In case of an exception, I would like to store it somewhere, process the next element and then show all exceptions at once. Is this possible?</p>\n"},{"tags":["java","ignite","transient"],"answers":[{"comments":[{"owner":{"account_id":7298037,"reputation":500,"user_id":10660307,"display_name":" RichardFeynman"},"score":0,"creation_date":1666786816,"post_id":74199454,"comment_id":131017585,"body_markdown":"I had an error in my build that prevented the annotation from being used.  Thank you for pointing out it should not be used.  Is there a proper way to tell ignite to ignore certain fields?","body":"I had an error in my build that prevented the annotation from being used.  Thank you for pointing out it should not be used.  Is there a proper way to tell ignite to ignore certain fields?"}],"tags":[],"owner":{"account_id":15519994,"reputation":843,"user_id":11196452,"display_name":"Igor Belyakov"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1666727226,"creation_date":1666727226,"answer_id":74199454,"question_id":74198960,"body_markdown":"The `TransientSerializable` annotation is still available in Ignite 2.14.0. You can check it on GitHub [here][1].\r\n\r\nActually, I should mention that it&#39;s a part of Ignite&#39;s internal API and its public usage should be avoided.\r\n\r\n  [1]: https://github.com/apache/ignite/blob/ignite-2.14/modules/core/src/main/java/org/apache/ignite/internal/util/TransientSerializable.java","title":"Ignite 2.14 and TransientSerializable Annotation","body":"<p>The <code>TransientSerializable</code> annotation is still available in Ignite 2.14.0. You can check it on GitHub <a href=\"https://github.com/apache/ignite/blob/ignite-2.14/modules/core/src/main/java/org/apache/ignite/internal/util/TransientSerializable.java\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>Actually, I should mention that it's a part of Ignite's internal API and its public usage should be avoided.</p>\n"}],"owner":{"account_id":7298037,"reputation":500,"user_id":10660307,"display_name":" RichardFeynman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74199454,"answer_count":1,"score":0,"last_activity_date":1666727226,"creation_date":1666724400,"question_id":74198960,"body_markdown":"Has support for TransientSerializable annotation been removed from Ignite 2.14? \r\n\r\nI have used this feature in 2.11 but it seems to be missing in 2.14.\r\n\r\nIf so, what is the current replacement? ","title":"Ignite 2.14 and TransientSerializable Annotation","body":"<p>Has support for TransientSerializable annotation been removed from Ignite 2.14?</p>\n<p>I have used this feature in 2.11 but it seems to be missing in 2.14.</p>\n<p>If so, what is the current replacement?</p>\n"},{"tags":["java","regex","string"],"comments":[{"owner":{"account_id":7089168,"reputation":157141,"user_id":5424988,"display_name":"The fourth bird"},"score":0,"creation_date":1666732569,"post_id":74199450,"comment_id":131005388,"body_markdown":"Why would `Ron O’Henry-Smith-Barnes` not be valid?","body":"Why would <code>Ron O’Henry-Smith-Barnes</code> not be valid?"},{"owner":{"account_id":26731304,"reputation":1,"user_id":20333595,"display_name":"Amelia Beard"},"score":0,"creation_date":1666743638,"post_id":74199450,"comment_id":131007348,"body_markdown":"IDK it&#39;s not my criteria, I wasn&#39;t the one who came up with the invalid names.","body":"IDK it&#39;s not my criteria, I wasn&#39;t the one who came up with the invalid names."},{"owner":{"account_id":7089168,"reputation":157141,"user_id":5424988,"display_name":"The fourth bird"},"score":0,"creation_date":1666905135,"post_id":74199450,"comment_id":131052129,"body_markdown":"But it is your question, there must be a rule that should make that string not a valid match. Is it like using 2 hyphens? Do you have more example strings?","body":"But it is your question, there must be a rule that should make that string not a valid match. Is it like using 2 hyphens? Do you have more example strings?"},{"owner":{"account_id":26731304,"reputation":1,"user_id":20333595,"display_name":"Amelia Beard"},"score":0,"creation_date":1667345647,"post_id":74199450,"comment_id":131144782,"body_markdown":"Oh I actually forgot I posted this haha. I figured it out, thanks for trying though.","body":"Oh I actually forgot I posted this haha. I figured it out, thanks for trying though."}],"owner":{"account_id":26731304,"reputation":1,"user_id":20333595,"display_name":"Amelia Beard"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666727198,"creation_date":1666727198,"question_id":74199450,"body_markdown":"I am writing a code that takes a person&#39;s name and sees if it fits the REGEX criteria. If it does, it follows through a loop and continues on with the code. If the name is not valid, the code will exit. So far I have made it so it can take input and check the names. It is working for all except 2 names. O’Malley, John F. and John O’Malley-Smith. These two names need to be acceptable but the code keeps kicking them out saying they are invalid. \r\n\r\n\r\n\r\n\r\nSo far I have attempted using  \r\n```\r\nString REGEX = (&quot;^[\\\\-\\\\.\\\\&#39;\\\\, a-zA-Z ]*$&quot;);\r\n```\r\nThis gets me a solid return on all the names except for the 2 mentioned above. I know I have to add somethings to the REGEX code, and have attempted \\b boundaries, however have had no luck getting them to work. Any help would be appreciated on what I should add to the REGEX and where to put it inside the code. Here is also the list of valid and invalid names, as well as my code.\r\n\r\nAcceptable inputs for name:  \r\nBruce Schneier \r\n     \r\nSchneier, Bruce \r\n\r\nSchneier, Bruce Wayne \r\n\r\nO’Malley, John F. \r\n\r\nJohn O’Malley-Smith \r\n\r\nCher\r\n\r\nUnacceptable inputs for name: \r\nRon O’’Henry \r\n\r\nRon O’Henry-Smith-Barnes \r\n\r\nL33t Hacker \r\n\r\n//&lt;Script&gt;alert(“XSS”)&lt;/Script&gt;//\r\n\r\nselect * from users; \r\n\r\n\r\n(All Invalid Names Are Not Accepted At This Time) \r\n\r\n\r\n\r\n\r\n\r\n```\r\npublic class InputAsker {\r\n\tpublic static void main (String[]args) {\r\n\r\n\t\t\r\n\t\tScanner keyboard = new Scanner(System.in);\r\n\t\t\r\n\t\tSystem.out.print(&quot;Please Input Your Name: &quot;);\r\n\t\t\r\n\t\tString myName = keyboard.nextLine();\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\tString REGEX = (&quot;^[\\\\-\\\\.\\\\&#39;\\\\, a-zA-Z ]*$&quot;);\r\n\t\t\r\n\r\n\t\t\r\n\t\tPattern pattern = Pattern.compile(REGEX);\r\n\t\t\r\n\t\t\r\n\t\tMatcher matcher = pattern.matcher(myName);\r\n\t\t\r\n\t\t\r\n\t\tboolean matchfound = false;\r\n        while (matcher.find()) {\r\n            System.out.println(&quot;That&#39;s A Great Name! Let&#39;s Continue&quot;);\r\n  \r\n            matchfound = true;\r\n            \r\n            //loop will continue here\r\n        }\r\n        \r\n       \r\n        \r\n        \r\n        if (!matchfound) {\r\n            System.out.println(&quot;Sorry, Not A Valid Name! Please Try Again!&quot;);\r\n            \r\n        }\r\n        \r\n        \r\n       \r\n        \r\n        \r\n        \r\n        \r\n        \r\n    }\r\n\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t}\r\n```\r\n\r\n```\r\n```\r\n\r\n","title":"Valid Name Checker REGEX","body":"<p>I am writing a code that takes a person's name and sees if it fits the REGEX criteria. If it does, it follows through a loop and continues on with the code. If the name is not valid, the code will exit. So far I have made it so it can take input and check the names. It is working for all except 2 names. O’Malley, John F. and John O’Malley-Smith. These two names need to be acceptable but the code keeps kicking them out saying they are invalid.</p>\n<p>So far I have attempted using</p>\n<pre><code>String REGEX = (&quot;^[\\\\-\\\\.\\\\'\\\\, a-zA-Z ]*$&quot;);\n</code></pre>\n<p>This gets me a solid return on all the names except for the 2 mentioned above. I know I have to add somethings to the REGEX code, and have attempted \\b boundaries, however have had no luck getting them to work. Any help would be appreciated on what I should add to the REGEX and where to put it inside the code. Here is also the list of valid and invalid names, as well as my code.</p>\n<p>Acceptable inputs for name:<br />\nBruce Schneier</p>\n<p>Schneier, Bruce</p>\n<p>Schneier, Bruce Wayne</p>\n<p>O’Malley, John F.</p>\n<p>John O’Malley-Smith</p>\n<p>Cher</p>\n<p>Unacceptable inputs for name:\nRon O’’Henry</p>\n<p>Ron O’Henry-Smith-Barnes</p>\n<p>L33t Hacker</p>\n<p>//alert(“XSS”)//</p>\n<p>select * from users;</p>\n<p>(All Invalid Names Are Not Accepted At This Time)</p>\n<pre><code>public class InputAsker {\n    public static void main (String[]args) {\n\n        \n        Scanner keyboard = new Scanner(System.in);\n        \n        System.out.print(&quot;Please Input Your Name: &quot;);\n        \n        String myName = keyboard.nextLine();\n        \n        \n        \n        String REGEX = (&quot;^[\\\\-\\\\.\\\\'\\\\, a-zA-Z ]*$&quot;);\n        \n\n        \n        Pattern pattern = Pattern.compile(REGEX);\n        \n        \n        Matcher matcher = pattern.matcher(myName);\n        \n        \n        boolean matchfound = false;\n        while (matcher.find()) {\n            System.out.println(&quot;That's A Great Name! Let's Continue&quot;);\n  \n            matchfound = true;\n            \n            //loop will continue here\n        }\n        \n       \n        \n        \n        if (!matchfound) {\n            System.out.println(&quot;Sorry, Not A Valid Name! Please Try Again!&quot;);\n            \n        }\n        \n        \n       \n        \n        \n        \n        \n        \n    }\n\n        \n        \n        \n    }\n</code></pre>\n<pre><code></code></pre>\n"},{"tags":["java","cdi","quarkus"],"comments":[{"owner":{"account_id":385127,"reputation":6294,"user_id":742081,"display_name":"Ladicek"},"score":3,"creation_date":1595621029,"post_id":63080232,"comment_id":111549113,"body_markdown":"You can `@Inject Instance&lt;Handler&gt;`, where `Instance` implements `Iterable`. Note that your `Handler` implementations should have a bean defining annotation, such as `@ApplicationScoped`.","body":"You can <code>@Inject Instance&lt;Handler&gt;</code>, where <code>Instance</code> implements <code>Iterable</code>. Note that your <code>Handler</code> implementations should have a bean defining annotation, such as <code>@ApplicationScoped</code>."}],"answers":[{"tags":[],"owner":{"account_id":4233390,"reputation":2124,"user_id":3465242,"accept_rate":57,"display_name":"Ashu"},"comment_count":0,"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1595658484,"creation_date":1595658484,"answer_id":63085128,"question_id":63080232,"body_markdown":"All the implementation needs to be marked for @ApplicationScoped like:\r\n\r\n    @ApplicationScoped\r\n    public class PrintHandler implements Handler {\r\n        public String handle() {\r\n            return &quot;PrintHandler&quot;;\r\n        }\r\n    }\r\n\r\n\r\nIn the class where you want to inject all the implementations, use \r\n\r\n    @Inject\r\n    Instance&lt;Handler&gt; handlers;\r\n\r\n\r\nThis `Instance` is imported from `javax.enterprise.inject.Instance;`\r\n\r\nThis `handlers` variable will have all the implementations of `Handler` interface. \r\n\r\n`javax.enterprise.inject.Instance` also implements the `Iterable` so you can iterate to it and call the required methods. \r\n\r\n\r\n    @Inject\r\n    Instance&lt;Handler&gt; handlers;\r\n\r\n    @GET\r\n    @Produces(MediaType.TEXT_PLAIN)\r\n    public List&lt;String&gt; handle() {\r\n        List&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n        handlers.forEach(handler -&gt; list.add(handler.handle()));\r\n        return list;\r\n    }\r\n\r\n\r\n","title":"Inject list of beans implementing same interface","body":"<p>All the implementation needs to be marked for @ApplicationScoped like:</p>\n<pre><code>@ApplicationScoped\npublic class PrintHandler implements Handler {\n    public String handle() {\n        return &quot;PrintHandler&quot;;\n    }\n}\n</code></pre>\n<p>In the class where you want to inject all the implementations, use</p>\n<pre><code>@Inject\nInstance&lt;Handler&gt; handlers;\n</code></pre>\n<p>This <code>Instance</code> is imported from <code>javax.enterprise.inject.Instance;</code></p>\n<p>This <code>handlers</code> variable will have all the implementations of <code>Handler</code> interface.</p>\n<p><code>javax.enterprise.inject.Instance</code> also implements the <code>Iterable</code> so you can iterate to it and call the required methods.</p>\n<pre><code>@Inject\nInstance&lt;Handler&gt; handlers;\n\n@GET\n@Produces(MediaType.TEXT_PLAIN)\npublic List&lt;String&gt; handle() {\n    List&lt;String&gt; list = new ArrayList&lt;&gt;();\n    handlers.forEach(handler -&gt; list.add(handler.handle()));\n    return list;\n}\n</code></pre>\n"}],"owner":{"account_id":7648311,"reputation":163,"user_id":7196489,"display_name":"Nikita Medvedev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4560,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":63085128,"answer_count":1,"score":6,"last_activity_date":1666726931,"creation_date":1595618529,"question_id":63080232,"body_markdown":"Supposing I have following interface\r\n```java\r\npublic interface Handler {\r\n    void handle(Object o);\r\n}\r\n```\r\nand implementations\r\n```java\r\npublic class PrintHandler implements Handler {\r\n    void handle(Object o) {\r\n        System.out.println(o);\r\n    }\r\n}\r\npublic class YetAnotherHandler implements Handler {\r\n    void handle(Object o) {\r\n        // do some stuff\r\n    }\r\n}\r\n```\r\nI want to inject all `Handler` subclasses into some class\r\n```java\r\npublic class Foo {\r\n    private List&lt;Handler&gt; handlers;\r\n}\r\n```\r\nHow can I achieve this using Quarkus?\r\n","title":"Inject list of beans implementing same interface","body":"<p>Supposing I have following interface</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface Handler {\n    void handle(Object o);\n}\n</code></pre>\n<p>and implementations</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class PrintHandler implements Handler {\n    void handle(Object o) {\n        System.out.println(o);\n    }\n}\npublic class YetAnotherHandler implements Handler {\n    void handle(Object o) {\n        // do some stuff\n    }\n}\n</code></pre>\n<p>I want to inject all <code>Handler</code> subclasses into some class</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Foo {\n    private List&lt;Handler&gt; handlers;\n}\n</code></pre>\n<p>How can I achieve this using Quarkus?</p>\n"},{"tags":["java","arrays","bukkit","spigot"],"comments":[{"owner":{"account_id":21746151,"reputation":433,"user_id":16052812,"display_name":"Lasslos05"},"score":0,"creation_date":1665260710,"post_id":73991877,"comment_id":130659983,"body_markdown":"Can you clarify what your exact question is? Is the problem that you don&#39;t know how to send the message to the player? What is your expected behaviour?","body":"Can you clarify what your exact question is? Is the problem that you don&#39;t know how to send the message to the player? What is your expected behaviour?"},{"owner":{"account_id":24063755,"reputation":1,"user_id":18040614,"display_name":"Julian"},"score":0,"creation_date":1665261799,"post_id":73991877,"comment_id":130660151,"body_markdown":"The problem is that I don&#39;t know how to output an array in the chat without the brackets and commas.","body":"The problem is that I don&#39;t know how to output an array in the chat without the brackets and commas."}],"answers":[{"tags":[],"owner":{"account_id":21746151,"reputation":433,"user_id":16052812,"display_name":"Lasslos05"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1665303955,"creation_date":1665303955,"answer_id":74003183,"question_id":73991877,"body_markdown":"First of all, the solution to your problem: The way to approach this is by declaring a `String result` and then using a for loop to build the String:\r\n```java\r\nString result = &quot;&quot;;\r\nfor (String s : newArrOfStr) {\r\n  result = result + s + &quot; &quot;;\r\n}\r\nplayer.sendMessage(result);\r\n```\r\n\r\nI don&#39;t think your Function does what you want it to do, and there is a lot of unused things or other things that are a little bit more complicated than they should be.\r\n\r\n - I don&#39;t think you need the ArrayList `newArrOfStr` at all, if all you want to do is send the message to the player. Instead of looping over the ArrayList `newArrOfStr`, you can simply just loop over your `arrOfStr`:\r\n\r\n    `for (String s : arrOfStr) {`\r\n\r\n\r\n - If for some other reason you do think you need the ArrayList, instead of adding all the elements with the for loop you have right now, change it to this:\r\n\r\n\r\n```java\r\n//Bad:\r\nfor (String a : arrOfStr)\r\n  newArrOfStr.add(a);\r\n//Good:\r\nnewArrOfStr.addAll(Arrays.asList(arrOfStr));\r\n```\r\n\r\n - Then, you have the unused variable `int i = 0`. Consider removing it.\r\n - The StringBuilder you created is also not used.\r\n\r\nI tried to write your function in a way that I think it will work:\r\n\r\n```java\r\n@EventHandler\r\npublic void onMessageSent(AsyncPlayerChatEvent event) {\r\n  event.setCancelled(true);\r\n  Player player = event.getPlayer();\r\n  String output = event.getMessage();\r\n  String[] wordsInOutput = output.split(&quot; &quot;);\r\n  String result = &quot;&quot;;\r\n  for (int i = 0; i &lt; wordsInOutput.length; i++) {\r\n    String word = wordsInOutput[i];\r\n    String newWord = word.charAt(word.length() - 1) + word.substring(0, word.length() - 1);\r\n    result = result + newWord + &quot; &quot;;\r\n  }\r\n\r\n  player.sendMessage(result);\r\n}\r\n```\r\nThis is the way everyone can understand it, but of course IntelliJ Idea has some suggestions so lets apply those:\r\n```java\r\n@EventHandler\r\npublic void onMessageSent(AsyncPlayerChatEvent event) {\r\n  event.setCancelled(true);\r\n  Player player = event.getPlayer();\r\n  String output = event.getMessage();\r\n  String[] wordsInOutput = output.split(&quot; &quot;);\r\n  StringBuilder result = new StringBuilder();\r\n  for (String word : wordsInOutput) {\r\n    String newWord = word.charAt(word.length() - 1) + word.substring(0, word.length() - 1);\r\n    result.append(newWord).append(&quot; &quot;);\r\n  }\r\n\r\n  player.sendMessage(result.toString());\r\n}\r\n```\r\nNow this is a working function. I hope this helps.","title":"String (sentence) to Array and output Array in one sentence and put the last letter of every word to the beginning of every individual word","body":"<p>First of all, the solution to your problem: The way to approach this is by declaring a <code>String result</code> and then using a for loop to build the String:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String result = &quot;&quot;;\nfor (String s : newArrOfStr) {\n  result = result + s + &quot; &quot;;\n}\nplayer.sendMessage(result);\n</code></pre>\n<p>I don't think your Function does what you want it to do, and there is a lot of unused things or other things that are a little bit more complicated than they should be.</p>\n<ul>\n<li><p>I don't think you need the ArrayList <code>newArrOfStr</code> at all, if all you want to do is send the message to the player. Instead of looping over the ArrayList <code>newArrOfStr</code>, you can simply just loop over your <code>arrOfStr</code>:</p>\n<p><code>for (String s : arrOfStr) {</code></p>\n</li>\n<li><p>If for some other reason you do think you need the ArrayList, instead of adding all the elements with the for loop you have right now, change it to this:</p>\n</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>//Bad:\nfor (String a : arrOfStr)\n  newArrOfStr.add(a);\n//Good:\nnewArrOfStr.addAll(Arrays.asList(arrOfStr));\n</code></pre>\n<ul>\n<li>Then, you have the unused variable <code>int i = 0</code>. Consider removing it.</li>\n<li>The StringBuilder you created is also not used.</li>\n</ul>\n<p>I tried to write your function in a way that I think it will work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@EventHandler\npublic void onMessageSent(AsyncPlayerChatEvent event) {\n  event.setCancelled(true);\n  Player player = event.getPlayer();\n  String output = event.getMessage();\n  String[] wordsInOutput = output.split(&quot; &quot;);\n  String result = &quot;&quot;;\n  for (int i = 0; i &lt; wordsInOutput.length; i++) {\n    String word = wordsInOutput[i];\n    String newWord = word.charAt(word.length() - 1) + word.substring(0, word.length() - 1);\n    result = result + newWord + &quot; &quot;;\n  }\n\n  player.sendMessage(result);\n}\n</code></pre>\n<p>This is the way everyone can understand it, but of course IntelliJ Idea has some suggestions so lets apply those:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@EventHandler\npublic void onMessageSent(AsyncPlayerChatEvent event) {\n  event.setCancelled(true);\n  Player player = event.getPlayer();\n  String output = event.getMessage();\n  String[] wordsInOutput = output.split(&quot; &quot;);\n  StringBuilder result = new StringBuilder();\n  for (String word : wordsInOutput) {\n    String newWord = word.charAt(word.length() - 1) + word.substring(0, word.length() - 1);\n    result.append(newWord).append(&quot; &quot;);\n  }\n\n  player.sendMessage(result.toString());\n}\n</code></pre>\n<p>Now this is a working function. I hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":4919614,"reputation":597,"user_id":3962524,"display_name":"Michael Ziluck"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666726831,"creation_date":1666726831,"answer_id":74199382,"question_id":73991877,"body_markdown":"Don&#39;t need to make this so complicated. Regex is your friend! Here&#39;s all you need:\r\n\r\n```java\r\n@EventHandler\r\npublic void onMessageSent(AsyncPlayerChatEvent event) {\r\n    event.setMessage(event.getMessage().replaceAll(&quot;(\\w)\\B(\\w+)&quot;, &quot;$2$1&quot;));\r\n}\r\n```\r\n\r\nRegex explanation:\r\n- **Group 1** `(\\w)`: Any word character. This is the first character of each word. Surrounded by parenthesis to make it be a replacement group.\r\n- `\\B`: Any non-word boundary. Basically this means &quot;stop matching this string group when you hit a word boundary.\r\n- **Group 2**: `(\\w+)`: That `\\w` is the same as above. `+` means match one or more. Parenthesis again to group them\r\n- `$2$1` - `$2` means the second group, `$1` means the first group.","title":"String (sentence) to Array and output Array in one sentence and put the last letter of every word to the beginning of every individual word","body":"<p>Don't need to make this so complicated. Regex is your friend! Here's all you need:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@EventHandler\npublic void onMessageSent(AsyncPlayerChatEvent event) {\n    event.setMessage(event.getMessage().replaceAll(&quot;(\\w)\\B(\\w+)&quot;, &quot;$2$1&quot;));\n}\n</code></pre>\n<p>Regex explanation:</p>\n<ul>\n<li><strong>Group 1</strong> <code>(\\w)</code>: Any word character. This is the first character of each word. Surrounded by parenthesis to make it be a replacement group.</li>\n<li><code>\\B</code>: Any non-word boundary. Basically this means &quot;stop matching this string group when you hit a word boundary.</li>\n<li><strong>Group 2</strong>: <code>(\\w+)</code>: That <code>\\w</code> is the same as above. <code>+</code> means match one or more. Parenthesis again to group them</li>\n<li><code>$2$1</code> - <code>$2</code> means the second group, <code>$1</code> means the first group.</li>\n</ul>\n"}],"owner":{"account_id":24063755,"reputation":1,"user_id":18040614,"display_name":"Julian"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1666726831,"creation_date":1665170979,"question_id":73991877,"body_markdown":"I have a question regarding \r\n\r\nI want to output following:\r\nWhen the Player types Hello, the output should be oHell.\r\nWhen the Player types Hello World, the output should be oHello dWorl.\r\n\r\n    public class ConnectionListener implements Listener {\r\n\r\n    ArrayList&lt;String&gt; newArrOfStr = new ArrayList&lt;String&gt;();\r\n    @EventHandler\r\n    public void onMessageSent(AsyncPlayerChatEvent event) {\r\n\r\n        Player player = event.getPlayer();\r\n        String output = event.getMessage();\r\n        event.setCancelled(true);\r\n        StringBuffer sb = new StringBuffer(output);\r\n        sb.deleteCharAt(sb.length()-1);\r\n        String[] arrOfStr = output.split(&quot; &quot;);\r\n\r\n\r\n        int i = 0;\r\n        for (String a : arrOfStr)\r\n            newArrOfStr.add(a);\r\n\r\n        player.sendMessage(newArrOfStr(beginning - end));\r\n\r\n        newArrOfStr.clear();\r\n\r\n```\r\nHello &gt;&gt; oHell\r\nHello World &gt;&gt; oHell dWorl\r\nA BC AAR &gt;&gt; A CB RAA\r\n```\r\nI just dont understand how to output an Array to a nondefined ending, beacause the Player could send multiple arguments and not only 1, 2 or 3. \r\n\r\n\r\nThe &quot;beginning -end&quot; is the space I mean. I have the complete Array under the tag &quot;newArrOfStr&quot; and now would like to output the single words with a Space inbetween. It is supposed to be one sentence and should **not** be output like this:\r\n\r\nA\r\nBC\r\nRAA\r\n\r\n[image][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Jekyi.png","title":"String (sentence) to Array and output Array in one sentence and put the last letter of every word to the beginning of every individual word","body":"<p>I have a question regarding</p>\n<p>I want to output following:\nWhen the Player types Hello, the output should be oHell.\nWhen the Player types Hello World, the output should be oHello dWorl.</p>\n<pre><code>public class ConnectionListener implements Listener {\n\nArrayList&lt;String&gt; newArrOfStr = new ArrayList&lt;String&gt;();\n@EventHandler\npublic void onMessageSent(AsyncPlayerChatEvent event) {\n\n    Player player = event.getPlayer();\n    String output = event.getMessage();\n    event.setCancelled(true);\n    StringBuffer sb = new StringBuffer(output);\n    sb.deleteCharAt(sb.length()-1);\n    String[] arrOfStr = output.split(&quot; &quot;);\n\n\n    int i = 0;\n    for (String a : arrOfStr)\n        newArrOfStr.add(a);\n\n    player.sendMessage(newArrOfStr(beginning - end));\n\n    newArrOfStr.clear();\n</code></pre>\n<pre><code>Hello &gt;&gt; oHell\nHello World &gt;&gt; oHell dWorl\nA BC AAR &gt;&gt; A CB RAA\n</code></pre>\n<p>I just dont understand how to output an Array to a nondefined ending, beacause the Player could send multiple arguments and not only 1, 2 or 3.</p>\n<p>The &quot;beginning -end&quot; is the space I mean. I have the complete Array under the tag &quot;newArrOfStr&quot; and now would like to output the single words with a Space inbetween. It is supposed to be one sentence and should <strong>not</strong> be output like this:</p>\n<p>A\nBC\nRAA</p>\n<p><a href=\"https://i.stack.imgur.com/Jekyi.png\" rel=\"nofollow noreferrer\">image</a></p>\n"},{"tags":["java","vector","bukkit","spigot"],"comments":[{"owner":{"account_id":4919614,"reputation":597,"user_id":3962524,"display_name":"Michael Ziluck"},"score":0,"creation_date":1666790572,"post_id":74185528,"comment_id":131019027,"body_markdown":"As a side note, this is one of the most well written questions I&#39;ve seen under the Bukkit tag. I&#39;m not always super active under it but I do peruse fairly often and usually the questions are borderline incoherent. For anyone else scrolling around it, this is how you should ask questions!!","body":"As a side note, this is one of the most well written questions I&#39;ve seen under the Bukkit tag. I&#39;m not always super active under it but I do peruse fairly often and usually the questions are borderline incoherent. For anyone else scrolling around it, this is how you should ask questions!!"}],"answers":[{"tags":[],"owner":{"account_id":4919614,"reputation":597,"user_id":3962524,"display_name":"Michael Ziluck"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1666725836,"creation_date":1666725836,"answer_id":74199192,"question_id":74185528,"body_markdown":"tl;dr:\r\n\r\n```java\r\nVector vector = new Vector(-1 * Math.sin(Math.toRadians(player.getLocation().getYaw())), 0, Math.cos(Math.toRadians(player.getLocation().getYaw())));\r\n```\r\n\r\n----------\r\n\r\nYou are missing a fundamental principal of creating a new `Vector` based on where a player is looking. I don&#39;t know the math of it very well, but I can mess around with the math of people who are better than I at Geometry.\r\n\r\nAs such, let&#39;s try to reduce the number of `Vector` variables you have defined. Taking a quick peek at the source for [`Location`][1], we can actually create your `Vector` directly to avoid having multiple defined.\r\n\r\n```java\r\npublic Vector getDirection() {\r\n    Vector vector = new Vector();\r\n\r\n    double rotX = this.getYaw();\r\n    double rotY = this.getPitch();\r\n\r\n    vector.setY(-Math.sin(Math.toRadians(rotY)));\r\n\r\n    double xz = Math.cos(Math.toRadians(rotY));\r\n\r\n    vector.setX(-xz * Math.sin(Math.toRadians(rotX)));\r\n    vector.setZ(xz * Math.cos(Math.toRadians(rotX)));\r\n\r\n    return vector;\r\n}\r\n```\r\n\r\nAs you can see, the pitch and yaw of a player are not a 1:1 relationship. No idea why, but let&#39;s repurpose their logic.\r\n\r\nHere&#39;s how we&#39;ll do that:\r\n\r\n```java\r\npublic Vector getVectorForAdixe(Location playerLoc) {\r\n    Vector vector = new Vector();\r\n    \r\n    double rotX = playerLoc.getYaw();\r\n    double rotY = 0; // this is the important change from above\r\n\r\n    // Original Code:\r\n    // vector.setY(-Math.sin(Math.toRadians(rotY)));\r\n    // Always resolves to 0, so just do that\r\n    vector.setY(0);\r\n\r\n    // Original Code:\r\n    // double xz = Math.cos(Math.toRadians(rotY));\r\n    // Always resolves to 1, so just do that\r\n    double xz = 1;\r\n\r\n    vector.setX(-xz * Math.sin(Math.toRadians(rotX)));\r\n    vector.setZ(xz * Math.cos(Math.toRadians(rotX)));\r\n\r\n    return vector;\r\n```\r\n\r\nNice! Now, cleaning it up a bit to remove those comments and unnecessary variables:\r\n\r\n```java\r\npublic Vector getVectorForAdixe(Location playerLoc) {\r\n    Vector vector = new Vector();\r\n    \r\n    double rotX = playerLoc.getYaw();\r\n\r\n    vector.setY(0);\r\n\r\n    vector.setX(-1 * Math.sin(Math.toRadians(rotX)));\r\n    vector.setZ(Math.cos(Math.toRadians(rotX)));\r\n\r\n    return vector;\r\n```\r\n\r\nWhy does this math work like that? No idea! But this should almost certainly work for you. Could even inline it if you really wanted to keep it how you had it originally:\r\n\r\n```java\r\nVector vector = new Vector(-1 * Math.sin(Math.toRadians(player.getLocation().getYaw())), 0, Math.cos(Math.toRadians(player.getLocation().getYaw())));\r\n```\r\n\r\nClosing note, if you want to be able to get the pitch/yaw FROM the vector, that code is here: https://hub.spigotmc.org/stash/projects/SPIGOT/repos/bukkit/browse/src/main/java/org/bukkit/Location.java#310\r\n\r\n\r\n  [1]: https://hub.spigotmc.org/stash/projects/SPIGOT/repos/bukkit/browse/src/main/java/org/bukkit/Location.java#286","title":"Java Spigot Set the direction of the vector relative to the player&#39;s position","body":"<p>tl;dr:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Vector vector = new Vector(-1 * Math.sin(Math.toRadians(player.getLocation().getYaw())), 0, Math.cos(Math.toRadians(player.getLocation().getYaw())));\n</code></pre>\n<hr />\n<p>You are missing a fundamental principal of creating a new <code>Vector</code> based on where a player is looking. I don't know the math of it very well, but I can mess around with the math of people who are better than I at Geometry.</p>\n<p>As such, let's try to reduce the number of <code>Vector</code> variables you have defined. Taking a quick peek at the source for <a href=\"https://hub.spigotmc.org/stash/projects/SPIGOT/repos/bukkit/browse/src/main/java/org/bukkit/Location.java#286\" rel=\"nofollow noreferrer\"><code>Location</code></a>, we can actually create your <code>Vector</code> directly to avoid having multiple defined.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Vector getDirection() {\n    Vector vector = new Vector();\n\n    double rotX = this.getYaw();\n    double rotY = this.getPitch();\n\n    vector.setY(-Math.sin(Math.toRadians(rotY)));\n\n    double xz = Math.cos(Math.toRadians(rotY));\n\n    vector.setX(-xz * Math.sin(Math.toRadians(rotX)));\n    vector.setZ(xz * Math.cos(Math.toRadians(rotX)));\n\n    return vector;\n}\n</code></pre>\n<p>As you can see, the pitch and yaw of a player are not a 1:1 relationship. No idea why, but let's repurpose their logic.</p>\n<p>Here's how we'll do that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Vector getVectorForAdixe(Location playerLoc) {\n    Vector vector = new Vector();\n    \n    double rotX = playerLoc.getYaw();\n    double rotY = 0; // this is the important change from above\n\n    // Original Code:\n    // vector.setY(-Math.sin(Math.toRadians(rotY)));\n    // Always resolves to 0, so just do that\n    vector.setY(0);\n\n    // Original Code:\n    // double xz = Math.cos(Math.toRadians(rotY));\n    // Always resolves to 1, so just do that\n    double xz = 1;\n\n    vector.setX(-xz * Math.sin(Math.toRadians(rotX)));\n    vector.setZ(xz * Math.cos(Math.toRadians(rotX)));\n\n    return vector;\n</code></pre>\n<p>Nice! Now, cleaning it up a bit to remove those comments and unnecessary variables:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Vector getVectorForAdixe(Location playerLoc) {\n    Vector vector = new Vector();\n    \n    double rotX = playerLoc.getYaw();\n\n    vector.setY(0);\n\n    vector.setX(-1 * Math.sin(Math.toRadians(rotX)));\n    vector.setZ(Math.cos(Math.toRadians(rotX)));\n\n    return vector;\n</code></pre>\n<p>Why does this math work like that? No idea! But this should almost certainly work for you. Could even inline it if you really wanted to keep it how you had it originally:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Vector vector = new Vector(-1 * Math.sin(Math.toRadians(player.getLocation().getYaw())), 0, Math.cos(Math.toRadians(player.getLocation().getYaw())));\n</code></pre>\n<p>Closing note, if you want to be able to get the pitch/yaw FROM the vector, that code is here: <a href=\"https://hub.spigotmc.org/stash/projects/SPIGOT/repos/bukkit/browse/src/main/java/org/bukkit/Location.java#310\" rel=\"nofollow noreferrer\">https://hub.spigotmc.org/stash/projects/SPIGOT/repos/bukkit/browse/src/main/java/org/bukkit/Location.java#310</a></p>\n"}],"owner":{"account_id":22723442,"reputation":119,"user_id":16887604,"display_name":"Adixe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":537,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":74199192,"answer_count":1,"score":3,"last_activity_date":1666725836,"creation_date":1666637594,"question_id":74185528,"body_markdown":"I have a problem with the correct vector alignment. I want to get a vector pointing in the same direction as the player, but with a constant Y value of 0. The point is, whatever the player&#39;s vertical and horizontal rotation, the vector&#39;s Y value was 0. The vector is always supposed to point horizontally (value 0), but keeping the direction of the player&#39;s rotation.\r\n\r\nThis picture shows the situation from the side. The red line represents an example of the player&#39;s viewing direction (up - down), and the green one the effect I want to achieve. Regardless of the direction in which the player is looking, up or down, the green line remains unchanged:\r\n\r\n[![Side view][1]][1]\r\n\r\nHere, in turn, I have presented this situation from the top. The red line is the player&#39;s viewing direction (left - right) and the green is the effect I want to achieve. As you can see, the player&#39;s rotation on this axis sets my vector exactly the same.\r\n\r\n[![View from above][2]][2]\r\n\r\nI was able to write a piece of code, but it doesn&#39;t behave correctly: the Y axis gets higher and higher as the player turns up or down. I don&#39;t know why:\r\n\r\n    Vector playerDirection = player.getLocation().getDirection();\r\n    \r\n    Vector vector = new Vector(playerDirection.getX(), 0, playerDirection.getZ()).normalize().multiply(3);\r\n\r\nHow to do it correctly?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bYQPQ.png\r\n  [2]: https://i.stack.imgur.com/POQiP.png","title":"Java Spigot Set the direction of the vector relative to the player&#39;s position","body":"<p>I have a problem with the correct vector alignment. I want to get a vector pointing in the same direction as the player, but with a constant Y value of 0. The point is, whatever the player's vertical and horizontal rotation, the vector's Y value was 0. The vector is always supposed to point horizontally (value 0), but keeping the direction of the player's rotation.</p>\n<p>This picture shows the situation from the side. The red line represents an example of the player's viewing direction (up - down), and the green one the effect I want to achieve. Regardless of the direction in which the player is looking, up or down, the green line remains unchanged:</p>\n<p><a href=\"https://i.stack.imgur.com/bYQPQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bYQPQ.png\" alt=\"Side view\" /></a></p>\n<p>Here, in turn, I have presented this situation from the top. The red line is the player's viewing direction (left - right) and the green is the effect I want to achieve. As you can see, the player's rotation on this axis sets my vector exactly the same.</p>\n<p><a href=\"https://i.stack.imgur.com/POQiP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/POQiP.png\" alt=\"View from above\" /></a></p>\n<p>I was able to write a piece of code, but it doesn't behave correctly: the Y axis gets higher and higher as the player turns up or down. I don't know why:</p>\n<pre><code>Vector playerDirection = player.getLocation().getDirection();\n\nVector vector = new Vector(playerDirection.getX(), 0, playerDirection.getZ()).normalize().multiply(3);\n</code></pre>\n<p>How to do it correctly?</p>\n"},{"tags":["java","android","firebase","google-cloud-platform","firebase-realtime-database"],"answers":[{"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1666771578,"post_id":74198603,"comment_id":131012588,"body_markdown":"Hey there. Can I help you with other information?","body":"Hey there. Can I help you with other information?"}],"tags":[],"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666725723,"creation_date":1666722421,"answer_id":74198603,"question_id":74087856,"body_markdown":"When you&#39;re passing the following two arguments to the setQuery() method:\r\n\r\n    .setQuery(FirebaseDatabase.getInstance().getReference().child(&quot;RegParkingArea&quot;), RegisterParking.class)\r\n\r\nIt means that the adapter expects to render on the screen `RegisterParking` objects. If you take a closer look at your database schema, under the `RegParkingArea` node, you can find UIDs and **not** `RegisterParking` objects. The objects that you want to display in the RecycerView exist under each UID. So when reading the data from the database, the Firebase-UI library tries to map each child under the above reference into an object of type `RegisterParking`, which is actually not possible since the UIDs are strings.\r\n\r\nSo if you&#39;re allowed to change the database schema, then you should either denormalize the data, basically copying the data under another node, or change the actual data into:\r\n\r\n    db-root\r\n     |\r\n     --- RegParkingArea\r\n           |\r\n           --- $pushedId\r\n                 |\r\n                 --- uid: &quot;4u9h...XrP2&quot;\r\n                 |\r\n                 --- //other fields.\r\n\r\nWhat I have basically done, I have removed a level from the database tree. If you&#39;ll use this schema, then you can leave the code as it is and everything will work perfectly fine.\r\n\r\nOne more thing to note is that if you need to get all parking of a particular user, then you can use the following query:\r\n\r\n    DatabaseReference db = FirebaseDatabase.getInstance().getReference();\r\n    Query queryByUid = db.child(&quot;RegParkingArea&quot;).orderByChild(&quot;uid&quot;).equalTo(uid);","title":"Retrieve multiple data in recycler view using FirebaseRecyclerOptions","body":"<p>When you're passing the following two arguments to the setQuery() method:</p>\n<pre><code>.setQuery(FirebaseDatabase.getInstance().getReference().child(&quot;RegParkingArea&quot;), RegisterParking.class)\n</code></pre>\n<p>It means that the adapter expects to render on the screen <code>RegisterParking</code> objects. If you take a closer look at your database schema, under the <code>RegParkingArea</code> node, you can find UIDs and <strong>not</strong> <code>RegisterParking</code> objects. The objects that you want to display in the RecycerView exist under each UID. So when reading the data from the database, the Firebase-UI library tries to map each child under the above reference into an object of type <code>RegisterParking</code>, which is actually not possible since the UIDs are strings.</p>\n<p>So if you're allowed to change the database schema, then you should either denormalize the data, basically copying the data under another node, or change the actual data into:</p>\n<pre><code>db-root\n |\n --- RegParkingArea\n       |\n       --- $pushedId\n             |\n             --- uid: &quot;4u9h...XrP2&quot;\n             |\n             --- //other fields.\n</code></pre>\n<p>What I have basically done, I have removed a level from the database tree. If you'll use this schema, then you can leave the code as it is and everything will work perfectly fine.</p>\n<p>One more thing to note is that if you need to get all parking of a particular user, then you can use the following query:</p>\n<pre><code>DatabaseReference db = FirebaseDatabase.getInstance().getReference();\nQuery queryByUid = db.child(&quot;RegParkingArea&quot;).orderByChild(&quot;uid&quot;).equalTo(uid);\n</code></pre>\n"}],"owner":{"account_id":26035795,"reputation":11,"user_id":19741257,"display_name":"SeniorBear"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666725723,"creation_date":1665929805,"question_id":74087856,"body_markdown":"I am using `FirebaseRecyclerOptions` in calling the database, however, I cannot get all of the data in the database. Here is the structure of the database: [database structure][1] the yellow underline is the user id (UID) and below is another node that contains the data that I want to retrieve in the RecyclerView.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hNfjc.png\r\n\r\n\r\nHere is a snippet of the code\r\n\r\n    \r\n        FirebaseRecyclerOptions&lt;RegisterParking&gt; options =\r\n                new FirebaseRecyclerOptions.Builder&lt;RegisterParking&gt;()\r\n                        .setQuery(FirebaseDatabase.getInstance().getReference().child(&quot;RegParkingArea&quot;), RegisterParking.class)\r\n                        .build();\r\n\r\n        voPListAdapter = new VoPListAdapter(options);\r\n        recyclerView.setAdapter(voPListAdapter);","title":"Retrieve multiple data in recycler view using FirebaseRecyclerOptions","body":"<p>I am using <code>FirebaseRecyclerOptions</code> in calling the database, however, I cannot get all of the data in the database. Here is the structure of the database: <a href=\"https://i.stack.imgur.com/hNfjc.png\" rel=\"nofollow noreferrer\">database structure</a> the yellow underline is the user id (UID) and below is another node that contains the data that I want to retrieve in the RecyclerView.</p>\n<p>Here is a snippet of the code</p>\n<pre><code>    FirebaseRecyclerOptions&lt;RegisterParking&gt; options =\n            new FirebaseRecyclerOptions.Builder&lt;RegisterParking&gt;()\n                    .setQuery(FirebaseDatabase.getInstance().getReference().child(&quot;RegParkingArea&quot;), RegisterParking.class)\n                    .build();\n\n    voPListAdapter = new VoPListAdapter(options);\n    recyclerView.setAdapter(voPListAdapter);\n</code></pre>\n"},{"tags":["java","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1666722843,"post_id":74198626,"comment_id":131002631,"body_markdown":"Do you want a projection for query result mapping?","body":"Do you want a projection for query result mapping?"},{"owner":{"account_id":5279068,"reputation":895,"user_id":4215032,"display_name":"Pp88"},"score":0,"creation_date":1666722979,"post_id":74198626,"comment_id":131002669,"body_markdown":"Mmm can’t you make directly a query on TestObject on refId that return a List&lt;TestObject&gt;? Why do you need ParentObject?","body":"Mmm can’t you make directly a query on TestObject on refId that return a List&lt;TestObject&gt;? Why do you need ParentObject?"},{"owner":{"account_id":17795556,"reputation":159,"user_id":12923478,"display_name":"luisenricke"},"score":0,"creation_date":1666723943,"post_id":74198626,"comment_id":131002958,"body_markdown":"What if you use a findByRefId and then a groupingBy with the stream collectors ?","body":"What if you use a findByRefId and then a groupingBy with the stream collectors ?"},{"owner":{"account_id":10950060,"reputation":135,"user_id":8046709,"accept_rate":56,"display_name":"retArdos"},"score":0,"creation_date":1666736111,"post_id":74198626,"comment_id":131006188,"body_markdown":"Well, let&#39;s say TestObject is the basic object that lives for sometimes. Once n TestObjects are associated with the REF_ID column, they are not really used anymore. The ParentObject becomes the one used. And ParentObject should be queryable via classic JpaRepository. In my example case, a parentRepository.findAll() should return a list of two ParentObjects.","body":"Well, let&#39;s say TestObject is the basic object that lives for sometimes. Once n TestObjects are associated with the REF_ID column, they are not really used anymore. The ParentObject becomes the one used. And ParentObject should be queryable via classic JpaRepository. In my example case, a parentRepository.findAll() should return a list of two ParentObjects."}],"owner":{"account_id":10950060,"reputation":135,"user_id":8046709,"accept_rate":56,"display_name":"retArdos"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666725679,"creation_date":1666722544,"question_id":74198626,"body_markdown":"I don&#39;t know how to make it clear, and i couldn&#39;t think of any good title for this. \r\n\r\n\r\nBasically, i have a database table which looks like this\r\n\r\n| ID       | name   | another_column| ref_id    |\r\n| -------- | -------|-------------- |-----------\r\n| 1        | name1  | asdasd       |  same_ref1|\r\n| 2        | name2  |  zzzzzz      |same_ref1   |\r\n|3|name3|aadas|same_ref2|\r\n|4|name4|ppppp|same_ref2|\r\n\r\nI have an entity which maps to this table, lets say, and i can use JpaRepository methods : \r\n\r\n```\r\npublic class TestObject {\r\n   private int id;\r\n   private String name;\r\n   private String anotherColumn;\r\n   private String refId;\r\n}\r\n```\r\n\r\nIs it possible for me to have another object, lets say ParentObject that is mapped based on ref_id column\r\n\r\n```\r\npublic class ParentObject {\r\n  private String refId;\r\n  private List&lt;TestObject&gt; child;\r\n}\r\n```\r\n\r\nThat way when I use a ```JpaRepository&lt;ParentObject&gt;``` for example \r\n```\r\nparentRepository.findById(&quot;same_ref2&quot;);\r\n```\r\nit returns a ParentObject with two children (lines 3 and 4).\r\n\r\nDon&#39;t know if I made that clear. ","title":"JPA map two entities different entities to one table","body":"<p>I don't know how to make it clear, and i couldn't think of any good title for this.</p>\n<p>Basically, i have a database table which looks like this</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>ID</th>\n<th>name</th>\n<th>another_column</th>\n<th>ref_id</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>name1</td>\n<td>asdasd</td>\n<td>same_ref1</td>\n</tr>\n<tr>\n<td>2</td>\n<td>name2</td>\n<td>zzzzzz</td>\n<td>same_ref1</td>\n</tr>\n<tr>\n<td>3</td>\n<td>name3</td>\n<td>aadas</td>\n<td>same_ref2</td>\n</tr>\n<tr>\n<td>4</td>\n<td>name4</td>\n<td>ppppp</td>\n<td>same_ref2</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>I have an entity which maps to this table, lets say, and i can use JpaRepository methods :</p>\n<pre><code>public class TestObject {\n   private int id;\n   private String name;\n   private String anotherColumn;\n   private String refId;\n}\n</code></pre>\n<p>Is it possible for me to have another object, lets say ParentObject that is mapped based on ref_id column</p>\n<pre><code>public class ParentObject {\n  private String refId;\n  private List&lt;TestObject&gt; child;\n}\n</code></pre>\n<p>That way when I use a <code>JpaRepository&lt;ParentObject&gt;</code> for example</p>\n<pre><code>parentRepository.findById(&quot;same_ref2&quot;);\n</code></pre>\n<p>it returns a ParentObject with two children (lines 3 and 4).</p>\n<p>Don't know if I made that clear.</p>\n"},{"tags":["java","spring-boot","hibernate-validator","javax.validation"],"comments":[{"owner":{"account_id":9444927,"reputation":1735,"user_id":7024049,"display_name":"pcsutar"},"score":0,"creation_date":1665674198,"post_id":74057796,"comment_id":130759287,"body_markdown":"If you are getting the id through path variable then no need of accepting the same id in request body. Why did you designed your API like that?","body":"If you are getting the id through path variable then no need of accepting the same id in request body. Why did you designed your API like that?"},{"owner":{"account_id":3899033,"reputation":21460,"user_id":3227319,"accept_rate":48,"display_name":"Jordi"},"score":0,"creation_date":1665675800,"post_id":74057796,"comment_id":130759954,"body_markdown":"Why? Is that not correct? Which is the correct way?","body":"Why? Is that not correct? Which is the correct way?"},{"owner":{"account_id":9444927,"reputation":1735,"user_id":7024049,"display_name":"pcsutar"},"score":0,"creation_date":1665679547,"post_id":74057796,"comment_id":130761202,"body_markdown":"I think no need of accepting same information at two places (request body and path). If you are getting id in path variable then you should not accept the same id in request body. This will help you to avoid the problem that you are facing. You can also remove id from path variable and accept it through request body. If you still want to design your API same way then you can use AOP (Aspect oriented programming) to perform the validations.","body":"I think no need of accepting same information at two places (request body and path). If you are getting id in path variable then you should not accept the same id in request body. This will help you to avoid the problem that you are facing. You can also remove id from path variable and accept it through request body. If you still want to design your API same way then you can use AOP (Aspect oriented programming) to perform the validations."}],"answers":[{"tags":[],"owner":{"account_id":6484184,"reputation":2035,"user_id":5020294,"display_name":"Andriy Slobodyanyk"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666725515,"creation_date":1665673521,"answer_id":74058031,"question_id":74057796,"body_markdown":"&gt; I need to validate that id and qdcf.id are equals.\r\n\r\nI would disagree with this statement.\r\n\r\nI would suggest to separate the concepts and have 3 different classes:\r\n- an incoming request DTO (`QdCFPresenter` in your case), it shouldn&#39;t contain `id` as it is a part neither of `POST` nor `PUT` request\r\n- a domain model (with `id` and `code`)\r\n- an outgoing response DTO (also with `id` and `code`)\r\n\r\nTwo last ones look similar but have different responsibilities. The response DTO is your contract with consumers, it could maintain its documentation and so on. The domain model is your internal thing and shouldn&#39;t be exposed to be able to evolve if required.\r\n\r\nAnd the incoming request DTO is a blueprint for the creation or modification. You shouldn&#39;t require it to have `id` at all.","title":"java and hibernate validation: validate two method parameters","body":"<blockquote>\n<p>I need to validate that id and qdcf.id are equals.</p>\n</blockquote>\n<p>I would disagree with this statement.</p>\n<p>I would suggest to separate the concepts and have 3 different classes:</p>\n<ul>\n<li>an incoming request DTO (<code>QdCFPresenter</code> in your case), it shouldn't contain <code>id</code> as it is a part neither of <code>POST</code> nor <code>PUT</code> request</li>\n<li>a domain model (with <code>id</code> and <code>code</code>)</li>\n<li>an outgoing response DTO (also with <code>id</code> and <code>code</code>)</li>\n</ul>\n<p>Two last ones look similar but have different responsibilities. The response DTO is your contract with consumers, it could maintain its documentation and so on. The domain model is your internal thing and shouldn't be exposed to be able to evolve if required.</p>\n<p>And the incoming request DTO is a blueprint for the creation or modification. You shouldn't require it to have <code>id</code> at all.</p>\n"}],"owner":{"account_id":3899033,"reputation":21460,"user_id":3227319,"accept_rate":48,"display_name":"Jordi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":180,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666725515,"creation_date":1665672548,"question_id":74057796,"body_markdown":"Here my controller:\r\n\r\n```lang-java\r\n@PutMapping(&quot;{id}&quot;)\r\npublic Mono&lt;QdCFPresenter&gt; save(\r\n    Long id,\r\n    @RequestBody @Valid @NotNull QdCFPresenter qdcf\r\n) {\r\n    return this.qdcfService.store(qdcf);\r\n}\r\n```\r\n\r\nI need to validate that `id` and `qdcf.id` are equals.\r\n\r\nThe way I need to accomplish that is using `javax.validation`.\r\n\r\nWe have all validation rules all encapsulated using `javax.validation` validations.\r\n\r\nFor example:\r\n\r\n```lang-java\r\npublic class QdCFPresenter {\r\n\r\n    private Long id;\r\n\r\n    @NotNull\r\n    private Long codi;\r\n\r\n}\r\n```\r\n\r\nSo, is there any way to get it **USING `javax.validation`** validations?","title":"java and hibernate validation: validate two method parameters","body":"<p>Here my controller:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PutMapping(&quot;{id}&quot;)\npublic Mono&lt;QdCFPresenter&gt; save(\n    Long id,\n    @RequestBody @Valid @NotNull QdCFPresenter qdcf\n) {\n    return this.qdcfService.store(qdcf);\n}\n</code></pre>\n<p>I need to validate that <code>id</code> and <code>qdcf.id</code> are equals.</p>\n<p>The way I need to accomplish that is using <code>javax.validation</code>.</p>\n<p>We have all validation rules all encapsulated using <code>javax.validation</code> validations.</p>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class QdCFPresenter {\n\n    private Long id;\n\n    @NotNull\n    private Long codi;\n\n}\n</code></pre>\n<p>So, is there any way to get it <strong>USING <code>javax.validation</code></strong> validations?</p>\n"},{"tags":["java","android","kotlin","android-recyclerview","listadapter"],"answers":[{"comments":[{"owner":{"account_id":23817167,"reputation":1,"user_id":17825267,"display_name":"Artem Barabash"},"score":0,"creation_date":1667136589,"post_id":74198315,"comment_id":131094596,"body_markdown":"how to scroll it?","body":"how to scroll it?"},{"owner":{"account_id":238127,"reputation":86172,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1667147258,"post_id":74198315,"comment_id":131096801,"body_markdown":"What do you mean? Why would you need to scroll only two items?","body":"What do you mean? Why would you need to scroll only two items?"}],"tags":[],"owner":{"account_id":238127,"reputation":86172,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666724904,"creation_date":1666720719,"answer_id":74198315,"question_id":74198038,"body_markdown":"You must not use GlobalScope for this, because it will leak your Activity and/or Fragment for the entire lifetime of your app. Every time the screen changes, it&#39;ll leak another copy of it until your app runs out of memory.\r\n\r\nDispatchers.IO is unnecessary. You are not calling any blocking functions in this coroutine.\r\n\r\nTo limit to two items, you can use `take(2)` on the list before you pass it to the adapter:\r\n\r\n```\r\nlifecycleScope.launch {\r\n    sharedViewModel.getOperationsAll(ACCOUNT.number).collect { opList -&gt;\r\n        operationAdapter.submitList(opList.sortedByDescending { it.time }.take(2))\r\n    }\r\n}\r\n```\r\nIf this is a Fragment, you should use `viewLifecycleOwner.lifecycleScope` instead.","title":"How to show only 2 items in RecyclerView?","body":"<p>You must not use GlobalScope for this, because it will leak your Activity and/or Fragment for the entire lifetime of your app. Every time the screen changes, it'll leak another copy of it until your app runs out of memory.</p>\n<p>Dispatchers.IO is unnecessary. You are not calling any blocking functions in this coroutine.</p>\n<p>To limit to two items, you can use <code>take(2)</code> on the list before you pass it to the adapter:</p>\n<pre><code>lifecycleScope.launch {\n    sharedViewModel.getOperationsAll(ACCOUNT.number).collect { opList -&gt;\n        operationAdapter.submitList(opList.sortedByDescending { it.time }.take(2))\n    }\n}\n</code></pre>\n<p>If this is a Fragment, you should use <code>viewLifecycleOwner.lifecycleScope</code> instead.</p>\n"}],"owner":{"account_id":23817167,"reputation":1,"user_id":17825267,"display_name":"Artem Barabash"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":190,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666724904,"creation_date":1666719091,"question_id":74198038,"body_markdown":"There is a list of operations that I display in the recyclerview through the ListAdapter. The size of the RecyclerView is 2 elements.[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7U1Cg.png\r\n\r\nListAdapter:\r\n\r\n    class OperationAdapter(private val onItemClicked: (Operation) -&gt; Unit) :\r\n    ListAdapter&lt;Operation, OperationAdapter.OperationViewHolder&gt;(DiffCallback) {\r\n\r\n\r\n\r\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): OperationViewHolder {\r\n        val viewHolder = OperationViewHolder(\r\n            OperationItemBinding.inflate(\r\n                LayoutInflater.from(parent.context),\r\n                parent,\r\n                false\r\n            )\r\n        )\r\n\r\n        return viewHolder\r\n    }\r\n\r\n    @SuppressLint(&quot;ResourceAsColor&quot;, &quot;SetTextI18n&quot;)\r\n    override fun onBindViewHolder(holder: OperationViewHolder, position: Int) {\r\n\r\n        holder.bind(getItem(position))\r\n    }\r\n\r\n\r\n    class OperationViewHolder(private var binding: OperationItemBinding): RecyclerView.ViewHolder(binding.root) {\r\n        /*val imageOperation:ImageView = view.findViewById(R.id.imageViewItem)\r\n        val nameOperation:TextView = view.findViewById(R.id.name_operation)\r\n        val balanceOperation:TextView = view.findViewById(R.id.textSum)*/\r\n        fun bind(operation: Operation){\r\n            if(operation.receive == ACCOUNT.number){\r\n                binding.imageViewItem.setImageResource(R.drawable.ic_type_recieve)\r\n\r\n                binding.nameOperation.text = operation.send\r\n                binding.nameOperation.setTextColor(Color.rgb(35, 135, 0))\r\n\r\n                val sum = NumberFormat.getCurrencyInstance(Locale(&quot;en&quot;, &quot;US&quot;)).format(operation.sum)\r\n                binding.textSum.text = sum\r\n                binding.textSum.setTextColor(Color.rgb(35, 135, 0))\r\n            }else{\r\n                binding.imageViewItem.setImageResource(R.drawable.ic_type_sent)\r\n\r\n                binding.nameOperation.text = operation.receive\r\n                binding.nameOperation.setTextColor(Color.rgb(231, 223,255))\r\n\r\n                val sum = NumberFormat.getCurrencyInstance(Locale(&quot;en&quot;, &quot;US&quot;)).format(operation.sum)\r\n                binding.textSum.text = &quot;-$sum&quot;\r\n                binding.textSum.setTextColor(Color.rgb(231, 223,255))\r\n            }\r\n        }\r\n    }\r\n\r\n    companion object{\r\n        private val DiffCallback = object: DiffUtil.ItemCallback&lt;Operation&gt;(){\r\n            override fun areItemsTheSame(oldItem: Operation, newItem: Operation): Boolean {\r\n                return oldItem.id == newItem.id\r\n            }\r\n\r\n            override fun areContentsTheSame(oldItem: Operation, newItem: Operation): Boolean {\r\n                return oldItem == newItem\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n}\r\n\r\nI retrieve list from Room by courotine:\r\n\r\n      GlobalScope.launch(Dispatchers.IO){\r\n            sharedViewModel.getOperationsAll(ACCOUNT.number).collect(){ it -&gt;\r\n                operationAdapter.submitList(it.sortedByDescending { it.time })\r\n            }\r\n        }\r\n\r\n\r\nI cannot output recycler view with only two items, where user can scroll it.\r\n\r\n","title":"How to show only 2 items in RecyclerView?","body":"<p>There is a list of operations that I display in the recyclerview through the ListAdapter. The size of the RecyclerView is 2 elements.<a href=\"https://i.stack.imgur.com/7U1Cg.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>ListAdapter:</p>\n<pre><code>class OperationAdapter(private val onItemClicked: (Operation) -&gt; Unit) :\nListAdapter&lt;Operation, OperationAdapter.OperationViewHolder&gt;(DiffCallback) {\n\n\n\noverride fun onCreateViewHolder(parent: ViewGroup, viewType: Int): OperationViewHolder {\n    val viewHolder = OperationViewHolder(\n        OperationItemBinding.inflate(\n            LayoutInflater.from(parent.context),\n            parent,\n            false\n        )\n    )\n\n    return viewHolder\n}\n\n@SuppressLint(&quot;ResourceAsColor&quot;, &quot;SetTextI18n&quot;)\noverride fun onBindViewHolder(holder: OperationViewHolder, position: Int) {\n\n    holder.bind(getItem(position))\n}\n\n\nclass OperationViewHolder(private var binding: OperationItemBinding): RecyclerView.ViewHolder(binding.root) {\n    /*val imageOperation:ImageView = view.findViewById(R.id.imageViewItem)\n    val nameOperation:TextView = view.findViewById(R.id.name_operation)\n    val balanceOperation:TextView = view.findViewById(R.id.textSum)*/\n    fun bind(operation: Operation){\n        if(operation.receive == ACCOUNT.number){\n            binding.imageViewItem.setImageResource(R.drawable.ic_type_recieve)\n\n            binding.nameOperation.text = operation.send\n            binding.nameOperation.setTextColor(Color.rgb(35, 135, 0))\n\n            val sum = NumberFormat.getCurrencyInstance(Locale(&quot;en&quot;, &quot;US&quot;)).format(operation.sum)\n            binding.textSum.text = sum\n            binding.textSum.setTextColor(Color.rgb(35, 135, 0))\n        }else{\n            binding.imageViewItem.setImageResource(R.drawable.ic_type_sent)\n\n            binding.nameOperation.text = operation.receive\n            binding.nameOperation.setTextColor(Color.rgb(231, 223,255))\n\n            val sum = NumberFormat.getCurrencyInstance(Locale(&quot;en&quot;, &quot;US&quot;)).format(operation.sum)\n            binding.textSum.text = &quot;-$sum&quot;\n            binding.textSum.setTextColor(Color.rgb(231, 223,255))\n        }\n    }\n}\n\ncompanion object{\n    private val DiffCallback = object: DiffUtil.ItemCallback&lt;Operation&gt;(){\n        override fun areItemsTheSame(oldItem: Operation, newItem: Operation): Boolean {\n            return oldItem.id == newItem.id\n        }\n\n        override fun areContentsTheSame(oldItem: Operation, newItem: Operation): Boolean {\n            return oldItem == newItem\n        }\n\n    }\n}\n</code></pre>\n<p>}</p>\n<p>I retrieve list from Room by courotine:</p>\n<pre><code>  GlobalScope.launch(Dispatchers.IO){\n        sharedViewModel.getOperationsAll(ACCOUNT.number).collect(){ it -&gt;\n            operationAdapter.submitList(it.sortedByDescending { it.time })\n        }\n    }\n</code></pre>\n<p>I cannot output recycler view with only two items, where user can scroll it.</p>\n"},{"tags":["java","android","android-activity"],"answers":[{"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666724815,"creation_date":1666724815,"answer_id":74199027,"question_id":74198979,"body_markdown":"You don&#39;t.  You can&#39;t even know that the instance of the parent activity still exists-  it may not (activities are killed in the background for resources all the time, and recreated if you need them again).  There is no connection between an instance of a child activity and their parent.  \r\n\r\nIf you want to call a function on the parent because you want the child to update the parent or return a result, there&#39;s the ActivityResultLauncher functionality which can return a result to the calling activity.  Return whatever data you would have passed in the call, and let it update itself from that when the child is finished.\r\n\r\nIf you want to update some models that are shared between the two activities-  the models should have a reference in both and be shared, update it and make sure that parent activity updates itself in onResume.\r\n\r\nIf you want to do something else-  don&#39;t, for the most part.  There&#39;s better ways to do whatever you want.","title":"How can I call a function from the parent activity when Back Button pressed - Android Dev","body":"<p>You don't.  You can't even know that the instance of the parent activity still exists-  it may not (activities are killed in the background for resources all the time, and recreated if you need them again).  There is no connection between an instance of a child activity and their parent.</p>\n<p>If you want to call a function on the parent because you want the child to update the parent or return a result, there's the ActivityResultLauncher functionality which can return a result to the calling activity.  Return whatever data you would have passed in the call, and let it update itself from that when the child is finished.</p>\n<p>If you want to update some models that are shared between the two activities-  the models should have a reference in both and be shared, update it and make sure that parent activity updates itself in onResume.</p>\n<p>If you want to do something else-  don't, for the most part.  There's better ways to do whatever you want.</p>\n"}],"owner":{"account_id":25267669,"reputation":3,"user_id":19097532,"display_name":"Haitam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74199027,"answer_count":1,"score":0,"last_activity_date":1666724815,"creation_date":1666724474,"question_id":74198979,"body_markdown":"Here, I want to call a function that is in the parent activity (*Parent Activity*) of the current activity (*Child Activity*). Well, the function loads data from a .txt file and updates the components of the *Parent Activity*\\*,\\* and I want to do it when the button to go back is pressed.\r\n\r\nI actually have a solution but I hope you can provide me with a better one: After I opened the *Child Activity* with intent\\*,\\* I closed the *Parent Activity* with the function `finish();` and when the back button is pressed I change to *Parent Activity* with intent and close the *Child Activity* with intent. But I don&#39;t want to create a new instance of *Parent Activity* each time.","title":"How can I call a function from the parent activity when Back Button pressed - Android Dev","body":"<p>Here, I want to call a function that is in the parent activity (<em>Parent Activity</em>) of the current activity (<em>Child Activity</em>). Well, the function loads data from a .txt file and updates the components of the <em>Parent Activity</em>*,* and I want to do it when the button to go back is pressed.</p>\n<p>I actually have a solution but I hope you can provide me with a better one: After I opened the <em>Child Activity</em> with intent*,* I closed the <em>Parent Activity</em> with the function <code>finish();</code> and when the back button is pressed I change to <em>Parent Activity</em> with intent and close the <em>Child Activity</em> with intent. But I don't want to create a new instance of <em>Parent Activity</em> each time.</p>\n"},{"tags":["java","spring-mvc","httprequest"],"comments":[{"owner":{"account_id":69707,"reputation":41791,"user_id":202694,"accept_rate":88,"display_name":"Pace"},"score":0,"creation_date":1307889086,"post_id":6322362,"comment_id":7392156,"body_markdown":"There are a couple issues.  In a ServletRequest you can only call getReader() or getInputStream() not both.  If you call both you get an IllegalStateException.  You could try calling getInputStream but you still may get an error if you read the input stream Spring may not be able to see it. (ServletInputStream may support reset but I don&#39;t think so).\n\nYour best bet is to log the parameters either during the XML deserialization process (you should find out what class does this) or immediately after.","body":"There are a couple issues.  In a ServletRequest you can only call getReader() or getInputStream() not both.  If you call both you get an IllegalStateException.  You could try calling getInputStream but you still may get an error if you read the input stream Spring may not be able to see it. (ServletInputStream may support reset but I don&#39;t think so).  Your best bet is to log the parameters either during the XML deserialization process (you should find out what class does this) or immediately after."},{"owner":{"account_id":378949,"reputation":1413,"user_id":731998,"accept_rate":86,"display_name":"happymeal"},"score":0,"creation_date":1307889735,"post_id":6322362,"comment_id":7392210,"body_markdown":"have you considered configuring your http server to log the request headers or using servlet filters to do the logging?","body":"have you considered configuring your http server to log the request headers or using servlet filters to do the logging?"},{"owner":{"account_id":208225,"reputation":3021,"user_id":458576,"accept_rate":86,"display_name":"Noam Nevo"},"score":0,"creation_date":1307889792,"post_id":6322362,"comment_id":7392213,"body_markdown":"@happymeal I dont need only the headers i need the body as well.","body":"@happymeal I dont need only the headers i need the body as well."},{"owner":{"account_id":378949,"reputation":1413,"user_id":731998,"accept_rate":86,"display_name":"happymeal"},"score":0,"creation_date":1307890253,"post_id":6322362,"comment_id":7392277,"body_markdown":"either solution will still work. in the servlet filter approach, you just have to read from the input stream and printout everything; this will also include the request body. in the http server approach, you have to refer to your documentation as the configuration differs from vendor to vendor.","body":"either solution will still work. in the servlet filter approach, you just have to read from the input stream and printout everything; this will also include the request body. in the http server approach, you have to refer to your documentation as the configuration differs from vendor to vendor."}],"answers":[{"comments":[{"owner":{"account_id":208225,"reputation":3021,"user_id":458576,"accept_rate":86,"display_name":"Noam Nevo"},"score":0,"creation_date":1307890690,"post_id":6322568,"comment_id":7392349,"body_markdown":"Wrapping the request still does not let me call `getReader()` twice. I still get illegalStateException","body":"Wrapping the request still does not let me call <code>getReader()</code> twice. I still get illegalStateException"},{"owner":{"account_id":123612,"reputation":48061,"user_id":318174,"accept_rate":71,"display_name":"Adam Gent"},"score":0,"creation_date":1307890901,"post_id":6322568,"comment_id":7392373,"body_markdown":"Noam Nevo you are going to call the input methods (reader/inputstream) on the original request and then wrap the original request with the request wrapper with getReader() and friends overridden.","body":"Noam Nevo you are going to call the input methods (reader/inputstream) on the original request and then wrap the original request with the request wrapper with getReader() and friends overridden."}],"tags":[],"owner":{"account_id":123612,"reputation":48061,"user_id":318174,"accept_rate":71,"display_name":"Adam Gent"},"comment_count":2,"down_vote_count":1,"up_vote_count":7,"is_accepted":true,"score":6,"last_activity_date":1307891147,"creation_date":1307890123,"answer_id":6322568,"question_id":6322362,"body_markdown":"You can do this with a filter. The request parameters are easy to handle.\r\nHowever dealing with the request body will be much more difficult\r\nand will require wrapping the servlet request see: [HttpServletRequest][1].\r\n\r\nYou will need to look how big the incoming request is and decide whether you want to store the request body as a tmp file or string.\r\n\r\nYou will need to override ServetRequest.getInputStream() with your file or saved string that used for logging.\r\n\r\nIf the request body is huge I recommend putting the input stream into a buffered input stream and then reading the start of the body.\r\n\r\n    public class LogRequest extends HttpServletRequestWrapper {\r\n    \r\n    \tpublic LogRequest(HttpServletRequest request) {\r\n    \t\tsuper(request);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic ServletInputStream getInputStream() throws IOException {\r\n    \t\t//read from tmp file or string.\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic BufferedReader getReader() throws IOException {\r\n    \t\t//read from tmp file or string\r\n    \t}\r\n    \r\n    }\r\n\r\n  [1]: http://download.oracle.com/javaee/6/api/javax/servlet/http/HttpServletRequestWrapper.html","title":"Logging HttpRequest parameters and request body","body":"<p>You can do this with a filter. The request parameters are easy to handle.\nHowever dealing with the request body will be much more difficult\nand will require wrapping the servlet request see: <a href=\"http://download.oracle.com/javaee/6/api/javax/servlet/http/HttpServletRequestWrapper.html\" rel=\"noreferrer\">HttpServletRequest</a>.</p>\n\n<p>You will need to look how big the incoming request is and decide whether you want to store the request body as a tmp file or string.</p>\n\n<p>You will need to override ServetRequest.getInputStream() with your file or saved string that used for logging.</p>\n\n<p>If the request body is huge I recommend putting the input stream into a buffered input stream and then reading the start of the body.</p>\n\n<pre><code>public class LogRequest extends HttpServletRequestWrapper {\n\n    public LogRequest(HttpServletRequest request) {\n        super(request);\n    }\n\n    @Override\n    public ServletInputStream getInputStream() throws IOException {\n        //read from tmp file or string.\n    }\n\n    @Override\n    public BufferedReader getReader() throws IOException {\n        //read from tmp file or string\n    }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2146780,"reputation":1910,"user_id":1904239,"accept_rate":95,"display_name":"Eugene To"},"score":3,"creation_date":1486384094,"post_id":27170744,"comment_id":71306800,"body_markdown":"AbstractRequestLoggingFilter  won&#39;t allow you to log Request before it has been processed. You can&#39;t get payload in AbstractRequestLoggingFilter#beforeRequest.  If it&#39;s ok for you than you can override AbstractRequestLoggingFilter#afterRequest that will log everything including payload.","body":"AbstractRequestLoggingFilter  won&#39;t allow you to log Request before it has been processed. You can&#39;t get payload in AbstractRequestLoggingFilter#beforeRequest.  If it&#39;s ok for you than you can override AbstractRequestLoggingFilter#afterRequest that will log everything including payload."}],"tags":[],"owner":{"account_id":213379,"reputation":9738,"user_id":466738,"accept_rate":94,"display_name":"Adam Michalik"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1417091002,"creation_date":1417091002,"answer_id":27170744,"question_id":6322362,"body_markdown":"Spring has a ready filter to do that for you - see usage of `AbstractRequestLoggingFilter` and its subclasses described in [this answer][1].\r\n\r\nBe aware that when using this solution, the request body will be logged only after the request processing is complete and the body has been read by your application.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/25905296/how-to-log-httprequest-and-httpresponse-in-a-file/25906059#25906059","title":"Logging HttpRequest parameters and request body","body":"<p>Spring has a ready filter to do that for you - see usage of <code>AbstractRequestLoggingFilter</code> and its subclasses described in <a href=\"https://stackoverflow.com/questions/25905296/how-to-log-httprequest-and-httpresponse-in-a-file/25906059#25906059\">this answer</a>.</p>\n\n<p>Be aware that when using this solution, the request body will be logged only after the request processing is complete and the body has been read by your application.</p>\n"},{"tags":[],"owner":{"account_id":2146780,"reputation":1910,"user_id":1904239,"accept_rate":95,"display_name":"Eugene To"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1486383820,"creation_date":1486383820,"answer_id":42067728,"question_id":6322362,"body_markdown":"Simple implementation for small requests. Don&#39;t use it for multipart request.\r\n\r\n    package ru.rbs.logger.web;\r\n    \r\n    import org.apache.commons.io.IOUtils;\r\n    \r\n    import javax.servlet.ReadListener;\r\n    import javax.servlet.ServletInputStream;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletRequestWrapper;\r\n    import java.io.ByteArrayInputStream;\r\n    import java.io.ByteArrayOutputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    \r\n    class CachedRequestWrapper extends HttpServletRequestWrapper {\r\n        private final byte[] cachedBody;\r\n        \r\n        CachedRequestWrapper(HttpServletRequest request) throws IOException {\r\n            super(request);\r\n    \r\n            ByteArrayOutputStream bos = new ByteArrayOutputStream();\r\n            IOUtils.copy(request.getInputStream(), bos);\r\n            cachedBody = bos.toByteArray();\r\n        }\r\n    \r\n        @Override\r\n        public ServletInputStream getInputStream() throws IOException {\r\n            return new CachedServletInputStream();\r\n        }\r\n    \r\n        byte[] toByteArray(){\r\n            return cachedBody;\r\n        }\r\n    \r\n        private class CachedServletInputStream extends ServletInputStream {\r\n            private InputStream baseInputStream;\r\n    \r\n            CachedServletInputStream() throws IOException {\r\n                baseInputStream = new ByteArrayInputStream(cachedBody);\r\n            }\r\n    \r\n            @Override\r\n            public boolean isFinished() {\r\n                return false;\r\n            }\r\n    \r\n            @Override\r\n            public boolean isReady() {\r\n                return false;\r\n            }\r\n    \r\n            @Override\r\n            public void setReadListener(ReadListener readListener) {\r\n    \r\n            }\r\n    \r\n            @Override\r\n            public int read() throws IOException {\r\n                return baseInputStream.read();\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Logging HttpRequest parameters and request body","body":"<p>Simple implementation for small requests. Don't use it for multipart request.</p>\n\n<pre><code>package ru.rbs.logger.web;\n\nimport org.apache.commons.io.IOUtils;\n\nimport javax.servlet.ReadListener;\nimport javax.servlet.ServletInputStream;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletRequestWrapper;\nimport java.io.ByteArrayInputStream;\nimport java.io.ByteArrayOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\n\nclass CachedRequestWrapper extends HttpServletRequestWrapper {\n    private final byte[] cachedBody;\n\n    CachedRequestWrapper(HttpServletRequest request) throws IOException {\n        super(request);\n\n        ByteArrayOutputStream bos = new ByteArrayOutputStream();\n        IOUtils.copy(request.getInputStream(), bos);\n        cachedBody = bos.toByteArray();\n    }\n\n    @Override\n    public ServletInputStream getInputStream() throws IOException {\n        return new CachedServletInputStream();\n    }\n\n    byte[] toByteArray(){\n        return cachedBody;\n    }\n\n    private class CachedServletInputStream extends ServletInputStream {\n        private InputStream baseInputStream;\n\n        CachedServletInputStream() throws IOException {\n            baseInputStream = new ByteArrayInputStream(cachedBody);\n        }\n\n        @Override\n        public boolean isFinished() {\n            return false;\n        }\n\n        @Override\n        public boolean isReady() {\n            return false;\n        }\n\n        @Override\n        public void setReadListener(ReadListener readListener) {\n\n        }\n\n        @Override\n        public int read() throws IOException {\n            return baseInputStream.read();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13145036,"reputation":209,"user_id":9495331,"display_name":"Dylan Powers"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666724532,"creation_date":1666724532,"answer_id":74198986,"question_id":6322362,"body_markdown":"This can be accomplished fairly easily using [`TeeInputStream`](https://commons.apache.org/proper/commons-io/apidocs/org/apache/commons/io/input/TeeInputStream.html). This writes to two streams at once: the source input stream, and some output stream. Simply override the `ServletInputStream` in the request wrapper, and read from the `TeeInputStream`. You can then read from the output stream after calling `chain.doFilter()`:\r\n\r\n```java\r\n@Override\r\npublic void doFilterNonOption(HttpServletRequest request, HttpServletResponse response,\r\n      FilterChain chain) throws IOException, ServletException {\r\n  ByteArrayOutputStream requestBaos = new ByteArrayOutputStream();\r\n  final PrintStream requestPrintStream = new PrintStream(requestBaos);\r\n  final TeeInputStream inputStream = new TeeInputStream(request.getInputStream(), requestPrintStream);\r\n\r\n  HttpServletRequestWrapper wrappedRequest = new HttpServletRequestWrapper(request) {\r\n    @Override\r\n    public ServletInputStream getInputStream() {\r\n      return new ServletInputStream() {\r\n        @Override\r\n        public boolean isFinished() {\r\n          return false;\r\n        }\r\n\r\n        @Override\r\n        public boolean isReady() {\r\n          return true;\r\n        }\r\n\r\n        @Override\r\n        public void setReadListener(ReadListener readListener) {\r\n          // NOOP\r\n        }\r\n\r\n        @Override\r\n        public int read() throws IOException {\r\n          return inputStream.read();\r\n        }\r\n      };\r\n    }\r\n  };\r\n\r\n  try {\r\n    chain.doFilter(wrappedRequest, response);\r\n  } finally {\r\n    System.out.println(requestBaos.toString(StandardCharsets.UTF-8));\r\n  }\r\n}\r\n```","title":"Logging HttpRequest parameters and request body","body":"<p>This can be accomplished fairly easily using <a href=\"https://commons.apache.org/proper/commons-io/apidocs/org/apache/commons/io/input/TeeInputStream.html\" rel=\"nofollow noreferrer\"><code>TeeInputStream</code></a>. This writes to two streams at once: the source input stream, and some output stream. Simply override the <code>ServletInputStream</code> in the request wrapper, and read from the <code>TeeInputStream</code>. You can then read from the output stream after calling <code>chain.doFilter()</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void doFilterNonOption(HttpServletRequest request, HttpServletResponse response,\n      FilterChain chain) throws IOException, ServletException {\n  ByteArrayOutputStream requestBaos = new ByteArrayOutputStream();\n  final PrintStream requestPrintStream = new PrintStream(requestBaos);\n  final TeeInputStream inputStream = new TeeInputStream(request.getInputStream(), requestPrintStream);\n\n  HttpServletRequestWrapper wrappedRequest = new HttpServletRequestWrapper(request) {\n    @Override\n    public ServletInputStream getInputStream() {\n      return new ServletInputStream() {\n        @Override\n        public boolean isFinished() {\n          return false;\n        }\n\n        @Override\n        public boolean isReady() {\n          return true;\n        }\n\n        @Override\n        public void setReadListener(ReadListener readListener) {\n          // NOOP\n        }\n\n        @Override\n        public int read() throws IOException {\n          return inputStream.read();\n        }\n      };\n    }\n  };\n\n  try {\n    chain.doFilter(wrappedRequest, response);\n  } finally {\n    System.out.println(requestBaos.toString(StandardCharsets.UTF-8));\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":208225,"reputation":3021,"user_id":458576,"accept_rate":86,"display_name":"Noam Nevo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29330,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":6322568,"answer_count":4,"score":14,"last_activity_date":1666724532,"creation_date":1307887412,"question_id":6322362,"body_markdown":"I am trying to create a request log for my web app. I am using Spring 3.\r\n0.\r\n\r\n\r\nI implemented a class extending `HandlerInterceptorAdapter` and used the `preHandle(HttpServletRequest request, HttpServletResponse response, Object handler)` to intercept the request.\r\n\r\nIn the method i want to be able to log the request body (my parameters are objects in XML that are written directly to the request body), and for that i use `request.getReader();`\r\n\r\nThe problem is - later on I will get an `IllegalStateException` when the spring controller tries to read the request.\r\n\r\nIs there a way to do what I intend?","title":"Logging HttpRequest parameters and request body","body":"<p>I am trying to create a request log for my web app. I am using Spring 3.\n0.</p>\n\n<p>I implemented a class extending <code>HandlerInterceptorAdapter</code> and used the <code>preHandle(HttpServletRequest request, HttpServletResponse response, Object handler)</code> to intercept the request.</p>\n\n<p>In the method i want to be able to log the request body (my parameters are objects in XML that are written directly to the request body), and for that i use <code>request.getReader();</code></p>\n\n<p>The problem is - later on I will get an <code>IllegalStateException</code> when the spring controller tries to read the request.</p>\n\n<p>Is there a way to do what I intend?</p>\n"},{"tags":["java","authentication","keycloak","bcrypt"],"comments":[{"owner":{"account_id":1107109,"reputation":325,"user_id":1098309,"display_name":"Noa"},"score":0,"creation_date":1559550166,"post_id":53833200,"comment_id":99441903,"body_markdown":"I think your error is related to the algorithm name\nit is better to encrypt the password via  java library and send it as text to keycloak without using setAlgorithm","body":"I think your error is related to the algorithm name it is better to encrypt the password via  java library and send it as text to keycloak without using setAlgorithm"},{"owner":{"account_id":1163469,"reputation":79,"user_id":1142518,"display_name":"Anwar Reefat"},"score":0,"creation_date":1640161877,"post_id":53833200,"comment_id":124527465,"body_markdown":"Did you find any solution?","body":"Did you find any solution?"}],"answers":[{"tags":[],"owner":{"account_id":19435321,"reputation":71,"user_id":14214894,"display_name":"Alex P."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666723957,"creation_date":1666723957,"answer_id":74198875,"question_id":53833200,"body_markdown":"You can do that with Keycloak Admin API: \r\n\r\n 1. [Rest API][1]\r\n 2. [Java Client][2]: \r\n 3. [Nodejs Client][3]\r\n\r\nThere is a nice [tutorial][4] written by Brecht Carnewal\r\n\r\n First you have to install keycloak-bcrypt and the jbcrypt library on your keycloak instance\r\n\r\n    KEYCLOAK_HOME=~/keycloak\r\n\r\n    curl https://repo1.maven.org/maven2/org/mindrot/jbcrypt/0.4/jbcrypt-0.4.jar &gt; jbcrypt-0.4.jar\r\n    $KEYCLOAK_HOME/bin/jboss-cli.sh --command=&quot;module add --name=org.mindrot.jbcrypt --resources=jbcrypt-0.4.jar&quot;\r\n    \r\n    curl -L https://github.com/leroyguillaume/keycloak-bcrypt/releases/download/1.2.0/keycloak-bcrypt-1.2.0.jar &gt; $KEYCLOAK_HOME/standalone/deployments/keycloak-bcrypt-1.2.0.jar\r\n\r\nRestart Keycloak and then setup bcrypt hashing algorithm from the admin panel under Authentication -&gt; Password Policy.\r\n\r\nWrite and run your script\r\n\r\n    import KeycloakAdminClient from &#39;keycloak-admin&#39;;\r\n    const {\r\n      AUTH_URL = &#39;http://localhost:8080/auth&#39;,\r\n      AUTH_REALM_NAME = &#39;myRealmName&#39;,\r\n      AUTH_ADMIN_USERNAME = &#39;admin&#39;,\r\n      AUTH_ADMIN_PASSWORD = &#39;admin&#39;,\r\n      AUTH_ADMIN_CLIENT = &#39;admin-cli&#39;,\r\n      AUTH_ADMIN_SECRET = &#39;jriozejrioezjriorez&#39;,\r\n      // ^ needed if your admin-cli client is set to confidential\r\n    } = process.env;\r\n    \r\n    const authClient = new KeycloakAdminClient({\r\n      baseUrl: AUTH_URL, // http://localhost:8080/auth\r\n      realmName: AUTH_REALM_NAME,\r\n    });\r\n    \r\n    const startMigration = async ({ database }) =&gt; {\r\n      await authClient.auth({\r\n        username: AUTH_ADMIN_USERNAME,\r\n        password: AUTH_ADMIN_PASSWORD,\r\n        clientId: AUTH_ADMIN_CLIENT, // probably admin-cli\r\n        // only needed if your admin client is set to confidential\r\n        clientSecret: AUTH_ADMIN_SECRET,\r\n        grantType: &#39;password&#39;,\r\n      });\r\n    \r\n      const existingUsers = await database.users.find();\r\n    \r\n      for (let existingUser of existingUsers) {\r\n        const user = {\r\n          realm: AUTH_REALM_NAME,\r\n          credentials: [\r\n            {\r\n              algorithm: &#39;bcrypt&#39;,\r\n              hashedSaltedValue: existingUser.password, // the bcrypt-hashed password\r\n              hashIterations: 10,\r\n              type: &#39;password&#39;,\r\n            },\r\n          ],\r\n          email: existingUser.email,\r\n          username: existingUser.email,\r\n          emailVerified: true,\r\n          enabled: true,\r\n        };\r\n        await authClient.users.create(user);\r\n      }\r\n    };\r\n\r\n\r\n  [1]: https://www.keycloak.org/docs-api/18.0/rest-api/index.html\r\n  [2]: https://mvnrepository.com/artifact/org.keycloak/keycloak-admin-client/18.0.2\r\n  [3]: https://github.com/keycloak/keycloak-nodejs-admin-client\r\n  [4]: https://dev.to/carnewal/import-existing-users-with-bcrypt-hashed-passwords-in-keycloak-17oo","title":"Keycloak reset user password","body":"<p>You can do that with Keycloak Admin API:</p>\n<ol>\n<li><a href=\"https://www.keycloak.org/docs-api/18.0/rest-api/index.html\" rel=\"nofollow noreferrer\">Rest API</a></li>\n<li><a href=\"https://mvnrepository.com/artifact/org.keycloak/keycloak-admin-client/18.0.2\" rel=\"nofollow noreferrer\">Java Client</a>:</li>\n<li><a href=\"https://github.com/keycloak/keycloak-nodejs-admin-client\" rel=\"nofollow noreferrer\">Nodejs Client</a></li>\n</ol>\n<p>There is a nice <a href=\"https://dev.to/carnewal/import-existing-users-with-bcrypt-hashed-passwords-in-keycloak-17oo\" rel=\"nofollow noreferrer\">tutorial</a> written by Brecht Carnewal</p>\n<p>First you have to install keycloak-bcrypt and the jbcrypt library on your keycloak instance</p>\n<pre><code>KEYCLOAK_HOME=~/keycloak\n\ncurl https://repo1.maven.org/maven2/org/mindrot/jbcrypt/0.4/jbcrypt-0.4.jar &gt; jbcrypt-0.4.jar\n$KEYCLOAK_HOME/bin/jboss-cli.sh --command=&quot;module add --name=org.mindrot.jbcrypt --resources=jbcrypt-0.4.jar&quot;\n\ncurl -L https://github.com/leroyguillaume/keycloak-bcrypt/releases/download/1.2.0/keycloak-bcrypt-1.2.0.jar &gt; $KEYCLOAK_HOME/standalone/deployments/keycloak-bcrypt-1.2.0.jar\n</code></pre>\n<p>Restart Keycloak and then setup bcrypt hashing algorithm from the admin panel under Authentication -&gt; Password Policy.</p>\n<p>Write and run your script</p>\n<pre><code>import KeycloakAdminClient from 'keycloak-admin';\nconst {\n  AUTH_URL = 'http://localhost:8080/auth',\n  AUTH_REALM_NAME = 'myRealmName',\n  AUTH_ADMIN_USERNAME = 'admin',\n  AUTH_ADMIN_PASSWORD = 'admin',\n  AUTH_ADMIN_CLIENT = 'admin-cli',\n  AUTH_ADMIN_SECRET = 'jriozejrioezjriorez',\n  // ^ needed if your admin-cli client is set to confidential\n} = process.env;\n\nconst authClient = new KeycloakAdminClient({\n  baseUrl: AUTH_URL, // http://localhost:8080/auth\n  realmName: AUTH_REALM_NAME,\n});\n\nconst startMigration = async ({ database }) =&gt; {\n  await authClient.auth({\n    username: AUTH_ADMIN_USERNAME,\n    password: AUTH_ADMIN_PASSWORD,\n    clientId: AUTH_ADMIN_CLIENT, // probably admin-cli\n    // only needed if your admin client is set to confidential\n    clientSecret: AUTH_ADMIN_SECRET,\n    grantType: 'password',\n  });\n\n  const existingUsers = await database.users.find();\n\n  for (let existingUser of existingUsers) {\n    const user = {\n      realm: AUTH_REALM_NAME,\n      credentials: [\n        {\n          algorithm: 'bcrypt',\n          hashedSaltedValue: existingUser.password, // the bcrypt-hashed password\n          hashIterations: 10,\n          type: 'password',\n        },\n      ],\n      email: existingUser.email,\n      username: existingUser.email,\n      emailVerified: true,\n      enabled: true,\n    };\n    await authClient.users.create(user);\n  }\n};\n</code></pre>\n"}],"owner":{"account_id":5909904,"reputation":2554,"user_id":4650497,"accept_rate":88,"display_name":"Krzysztof Majewski"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3169,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666723957,"creation_date":1545136709,"question_id":53833200,"body_markdown":"I have a user in keycloak and I want to reset his password.\r\n\r\nThe password already exists in DB and is created via Spring&#39;s `BCryptPasswordEncoder`.\r\n\r\nThis is my new password: `$2a$10$.Y5G9KV1JCToOifuzvbZf.guYplSLnpqmNkPdD2k2IZc3wNAMpyjC`\r\n\r\nAnd this is how i try to reset existing one:\r\n\r\n    CredentialRepresentation newCreds = new CredentialRepresentation();\r\n    newCreds.setType(CredentialRepresentation.PASSWORD);\r\n    newCreds.setHashedSaltedValue(newPassword);\r\n    newCreds.setAlgorithm(&quot;bcrypt&quot;);\r\n    newCreds.setTemporary(false);\r\n\r\n    getKeycloakClient().realm(&quot;master&quot;).users().get(userId).resetPassword(newCreds);\r\n\r\nIt doesn&#39;t work. I get error: `javax.ws.rs.BadRequestException: HTTP 400 Bad Request`\r\n\r\nBut when I change it to:\r\n\r\n    CredentialRepresentation newCreds = new CredentialRepresentation();\r\n    newCreds.setType(CredentialRepresentation.PASSWORD);\r\n    newCreds.setValue(&quot;testPassword&quot;);\r\n    newCreds.setTemporary(false);\r\n\r\n    getKeycloakClient().realm(&quot;master&quot;).users().get(userId).resetPassword(newCreds);\r\n\r\nIt works fine.\r\n\r\nHow can I reset password in keycloak by using already existed password encrypted with BCrypt?\r\n\r\n\r\n**EDIT:**\r\n\r\nNow I know I have to send also salt for my password by setting `newCreds.setSalt(salt)` but there still is one problem. Keycloak accepts Base64 for this and Spring&#39;s BCryptPasswordEncoder generates values with `.` character which is not accepted in BAse64","title":"Keycloak reset user password","body":"<p>I have a user in keycloak and I want to reset his password.</p>\n\n<p>The password already exists in DB and is created via Spring's <code>BCryptPasswordEncoder</code>.</p>\n\n<p>This is my new password: <code>$2a$10$.Y5G9KV1JCToOifuzvbZf.guYplSLnpqmNkPdD2k2IZc3wNAMpyjC</code></p>\n\n<p>And this is how i try to reset existing one:</p>\n\n<pre><code>CredentialRepresentation newCreds = new CredentialRepresentation();\nnewCreds.setType(CredentialRepresentation.PASSWORD);\nnewCreds.setHashedSaltedValue(newPassword);\nnewCreds.setAlgorithm(\"bcrypt\");\nnewCreds.setTemporary(false);\n\ngetKeycloakClient().realm(\"master\").users().get(userId).resetPassword(newCreds);\n</code></pre>\n\n<p>It doesn't work. I get error: <code>javax.ws.rs.BadRequestException: HTTP 400 Bad Request</code></p>\n\n<p>But when I change it to:</p>\n\n<pre><code>CredentialRepresentation newCreds = new CredentialRepresentation();\nnewCreds.setType(CredentialRepresentation.PASSWORD);\nnewCreds.setValue(\"testPassword\");\nnewCreds.setTemporary(false);\n\ngetKeycloakClient().realm(\"master\").users().get(userId).resetPassword(newCreds);\n</code></pre>\n\n<p>It works fine.</p>\n\n<p>How can I reset password in keycloak by using already existed password encrypted with BCrypt?</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>Now I know I have to send also salt for my password by setting <code>newCreds.setSalt(salt)</code> but there still is one problem. Keycloak accepts Base64 for this and Spring's BCryptPasswordEncoder generates values with <code>.</code> character which is not accepted in BAse64</p>\n"},{"tags":["java","indexing","lucene","porter-stemmer"],"answers":[{"tags":[],"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666721508,"creation_date":1666721508,"answer_id":74198464,"question_id":74198065,"body_markdown":"An alternative approach is to use a custom analyzer, and then use the [`SnowballPorterFilterFactory`](https://lucene.apache.org/core/9_4_0/analysis/common/org/apache/lucene/analysis/snowball/SnowballPorterFilterFactory.html) for both index creation and for queries (and for highlighting).\r\n\r\nSo, for example, as a re-usable class, using Lucene 9.4.0:\r\n\r\n```java\r\nimport java.io.IOException;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\nimport org.apache.lucene.analysis.Analyzer;\r\nimport org.apache.lucene.analysis.miscellaneous.ASCIIFoldingFilterFactory;\r\nimport org.apache.lucene.analysis.core.LowerCaseFilterFactory;\r\nimport org.apache.lucene.analysis.custom.CustomAnalyzer;\r\nimport org.apache.lucene.analysis.en.EnglishPossessiveFilterFactory;\r\nimport org.apache.lucene.analysis.core.StopFilterFactory;\r\nimport org.apache.lucene.analysis.snowball.SnowballPorterFilterFactory;\r\nimport org.apache.lucene.analysis.miscellaneous.KeywordRepeatFilterFactory;\r\nimport org.apache.lucene.analysis.miscellaneous.RemoveDuplicatesTokenFilterFactory;\r\nimport org.apache.lucene.analysis.standard.StandardTokenizerFactory;\r\n\r\nclass MyAnalyzer {\r\n\r\n    public Analyzer get() throws IOException {\r\n\r\n        Map&lt;String, String&gt; snowballParams = new HashMap&lt;&gt;();\r\n        snowballParams.put(&quot;language&quot;, &quot;English&quot;);\r\n\r\n        Map&lt;String, String&gt; stopMap = new HashMap&lt;&gt;();\r\n        stopMap.put(&quot;words&quot;, &quot;stopwords.txt&quot;);\r\n        stopMap.put(&quot;format&quot;, &quot;wordset&quot;);\r\n\r\n        return CustomAnalyzer.builder()\r\n                .withTokenizer(StandardTokenizerFactory.NAME)\r\n                .addTokenFilter(LowerCaseFilterFactory.NAME)\r\n                .addTokenFilter(StopFilterFactory.NAME, stopMap)\r\n                .addTokenFilter(ASCIIFoldingFilterFactory.NAME)\r\n                .addTokenFilter(EnglishPossessiveFilterFactory.NAME)\r\n                .addTokenFilter(KeywordRepeatFilterFactory.NAME)\r\n\r\n                // here is the Porter stemmer step:\r\n                .addTokenFilter(SnowballPorterFilterFactory.NAME, snowballParams)\r\n\r\n                .addTokenFilter(RemoveDuplicatesTokenFilterFactory.NAME)\r\n                .build();\r\n    }\r\n}\r\n```\r\n\r\nAt query time (and when highlighting), use the same custom analyzer.\r\n\r\nYou can obviously change which of the other filters you add/remove in the analyzer, to meet your specific needs. You do not necessarily need to use all the ones I have included in the above example.\r\n\r\n---\r\n\r\nFor highlighting, I use a custom highlighter based on [Lucene&#39;s `Highlighter`](https://lucene.apache.org/core/9_4_0/highlighter/org/apache/lucene/search/highlight/Highlighter.html), into which I also pass my custom analyzer.\r\n\r\nThis highlights the matched content of the original text - and not just the stem.\r\n","title":"In Lucene, how can I build index for stemmed text properly?","body":"<p>An alternative approach is to use a custom analyzer, and then use the <a href=\"https://lucene.apache.org/core/9_4_0/analysis/common/org/apache/lucene/analysis/snowball/SnowballPorterFilterFactory.html\" rel=\"nofollow noreferrer\"><code>SnowballPorterFilterFactory</code></a> for both index creation and for queries (and for highlighting).</p>\n<p>So, for example, as a re-usable class, using Lucene 9.4.0:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.IOException;\nimport java.util.HashMap;\nimport java.util.Map;\nimport org.apache.lucene.analysis.Analyzer;\nimport org.apache.lucene.analysis.miscellaneous.ASCIIFoldingFilterFactory;\nimport org.apache.lucene.analysis.core.LowerCaseFilterFactory;\nimport org.apache.lucene.analysis.custom.CustomAnalyzer;\nimport org.apache.lucene.analysis.en.EnglishPossessiveFilterFactory;\nimport org.apache.lucene.analysis.core.StopFilterFactory;\nimport org.apache.lucene.analysis.snowball.SnowballPorterFilterFactory;\nimport org.apache.lucene.analysis.miscellaneous.KeywordRepeatFilterFactory;\nimport org.apache.lucene.analysis.miscellaneous.RemoveDuplicatesTokenFilterFactory;\nimport org.apache.lucene.analysis.standard.StandardTokenizerFactory;\n\nclass MyAnalyzer {\n\n    public Analyzer get() throws IOException {\n\n        Map&lt;String, String&gt; snowballParams = new HashMap&lt;&gt;();\n        snowballParams.put(&quot;language&quot;, &quot;English&quot;);\n\n        Map&lt;String, String&gt; stopMap = new HashMap&lt;&gt;();\n        stopMap.put(&quot;words&quot;, &quot;stopwords.txt&quot;);\n        stopMap.put(&quot;format&quot;, &quot;wordset&quot;);\n\n        return CustomAnalyzer.builder()\n                .withTokenizer(StandardTokenizerFactory.NAME)\n                .addTokenFilter(LowerCaseFilterFactory.NAME)\n                .addTokenFilter(StopFilterFactory.NAME, stopMap)\n                .addTokenFilter(ASCIIFoldingFilterFactory.NAME)\n                .addTokenFilter(EnglishPossessiveFilterFactory.NAME)\n                .addTokenFilter(KeywordRepeatFilterFactory.NAME)\n\n                // here is the Porter stemmer step:\n                .addTokenFilter(SnowballPorterFilterFactory.NAME, snowballParams)\n\n                .addTokenFilter(RemoveDuplicatesTokenFilterFactory.NAME)\n                .build();\n    }\n}\n</code></pre>\n<p>At query time (and when highlighting), use the same custom analyzer.</p>\n<p>You can obviously change which of the other filters you add/remove in the analyzer, to meet your specific needs. You do not necessarily need to use all the ones I have included in the above example.</p>\n<hr />\n<p>For highlighting, I use a custom highlighter based on <a href=\"https://lucene.apache.org/core/9_4_0/highlighter/org/apache/lucene/search/highlight/Highlighter.html\" rel=\"nofollow noreferrer\">Lucene's <code>Highlighter</code></a>, into which I also pass my custom analyzer.</p>\n<p>This highlights the matched content of the original text - and not just the stem.</p>\n"}],"owner":{"account_id":26729789,"reputation":73,"user_id":20332351,"display_name":"Xuan Chen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":232,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74198464,"answer_count":1,"score":1,"last_activity_date":1666723947,"creation_date":1666719254,"question_id":74198065,"body_markdown":"I am building an index for about 1000 text files (containing titles, abstracts, paragraphs, etc) using Apache Lucene. I&#39;ve already succeeded in building indexes and querying for words that match the text files. However, when I query for the word &quot;forest&quot; for instance, it doesn&#39;t return any results containing &quot;forests&quot;.\r\n\r\nThus, I use Porter Stemming to get stemmed text and build the index for the derived text (not the original one). Also, I stem the words in the query using Porter. Here comes the problem. If I use the Highlighter in Lucene, the highlighted words that will be presented to users are the stemmed ones like &quot;abund&quot; which is expected to be the original word &quot;abundant&quot;.\r\n\r\n```java\r\n// FIXME: using Porter, however the text has already changed when building index\r\ntry {\r\n    String abstractString = TermPreprocessing.getStemmedTerms(xPath.evaluate(ABSTRACT_XPATH, XMLDocument).trim());\r\n    // Here, I use [org.tartarus.snowball.ext.PorterStemmer] to get stemmed the text\r\n    //     the [TextField] is not the original text\r\n    System.out.println(abstractString);\r\n    Field abstractField = new TextField(&quot;abstract&quot;, abstractString, Field.Store.YES);\r\n    luceneDocument.add(abstractField);\r\n} catch (Exception exception) {\r\n    exception.printStackTrace();\r\n}\r\n    // I build the index for original text, too\r\n```\r\n\r\nI build an index for both the original and the stemmed text, which, of course, nearly double the size of the index files. Still, I fail to highlight the correct words, since I query for the stemmed text, but I would like to highlight the original one. \r\n\r\n\r\n```java\r\n// This is the way I query, stemming the words first\r\npublic static void main(String[] args) throws IOException, ParseException {\r\n    // ... obtaining the directory\r\n    IndexReader indexReader = DirectoryReader.open(fsDirectory);\r\n    IndexSearcher indexSearcher = new IndexSearcher(indexReader);\r\n    StandardAnalyzer standardAnalyzer = new StandardAnalyzer();\r\n    MultiFieldQueryParser multiFieldQueryParser = new MultiFieldQueryParser(MULTI_FIELDS, standardAnalyzer);\r\n    Query query = multiFieldQueryParser.parse(getStemmedTerms(EXPRESSION)); // Here, I process the query string\r\n    TopDocs topDocs = indexSearcher.search(query, 20);\r\n\r\n    for (ScoreDoc scoreDoc : topDocs.scoreDocs) { ... }\r\n```\r\n\r\n\r\nI&#39;ve gone through some solutions on Google, however, due to Lucene version issues, they might not work. How to build index correctly if I use Porter Stemmer? Thank you very much.\r\n\r\n[![The environment and the description of the problem](https://i.stack.imgur.com/lYFdK.png)](https://i.stack.imgur.com/lYFdK.png)","title":"In Lucene, how can I build index for stemmed text properly?","body":"<p>I am building an index for about 1000 text files (containing titles, abstracts, paragraphs, etc) using Apache Lucene. I've already succeeded in building indexes and querying for words that match the text files. However, when I query for the word &quot;forest&quot; for instance, it doesn't return any results containing &quot;forests&quot;.</p>\n<p>Thus, I use Porter Stemming to get stemmed text and build the index for the derived text (not the original one). Also, I stem the words in the query using Porter. Here comes the problem. If I use the Highlighter in Lucene, the highlighted words that will be presented to users are the stemmed ones like &quot;abund&quot; which is expected to be the original word &quot;abundant&quot;.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// FIXME: using Porter, however the text has already changed when building index\ntry {\n    String abstractString = TermPreprocessing.getStemmedTerms(xPath.evaluate(ABSTRACT_XPATH, XMLDocument).trim());\n    // Here, I use [org.tartarus.snowball.ext.PorterStemmer] to get stemmed the text\n    //     the [TextField] is not the original text\n    System.out.println(abstractString);\n    Field abstractField = new TextField(&quot;abstract&quot;, abstractString, Field.Store.YES);\n    luceneDocument.add(abstractField);\n} catch (Exception exception) {\n    exception.printStackTrace();\n}\n    // I build the index for original text, too\n</code></pre>\n<p>I build an index for both the original and the stemmed text, which, of course, nearly double the size of the index files. Still, I fail to highlight the correct words, since I query for the stemmed text, but I would like to highlight the original one.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// This is the way I query, stemming the words first\npublic static void main(String[] args) throws IOException, ParseException {\n    // ... obtaining the directory\n    IndexReader indexReader = DirectoryReader.open(fsDirectory);\n    IndexSearcher indexSearcher = new IndexSearcher(indexReader);\n    StandardAnalyzer standardAnalyzer = new StandardAnalyzer();\n    MultiFieldQueryParser multiFieldQueryParser = new MultiFieldQueryParser(MULTI_FIELDS, standardAnalyzer);\n    Query query = multiFieldQueryParser.parse(getStemmedTerms(EXPRESSION)); // Here, I process the query string\n    TopDocs topDocs = indexSearcher.search(query, 20);\n\n    for (ScoreDoc scoreDoc : topDocs.scoreDocs) { ... }\n</code></pre>\n<p>I've gone through some solutions on Google, however, due to Lucene version issues, they might not work. How to build index correctly if I use Porter Stemmer? Thank you very much.</p>\n<p><a href=\"https://i.stack.imgur.com/lYFdK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lYFdK.png\" alt=\"The environment and the description of the problem\" /></a></p>\n"},{"tags":["java","google-play","android-auto"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1666387248,"post_id":74159149,"comment_id":130933492,"body_markdown":"Sounds like a good question to ask on the [official github repository of android auto](https://github.com/google/android-auto-companion-android).","body":"Sounds like a good question to ask on the <a href=\"https://github.com/google/android-auto-companion-android\" rel=\"nofollow noreferrer\">official github repository of android auto</a>."},{"owner":{"account_id":17571005,"reputation":160,"user_id":12746725,"display_name":"Alejandro Gomez"},"score":0,"creation_date":1666723759,"post_id":74159149,"comment_id":131002903,"body_markdown":"recommended site is for Android Automotive OS, not for Android Auto for cars","body":"recommended site is for Android Automotive OS, not for Android Auto for cars"}],"owner":{"account_id":17571005,"reputation":160,"user_id":12746725,"display_name":"Alejandro Gomez"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666723805,"creation_date":1666386389,"question_id":74159149,"body_markdown":"I&#39;m working on `android auto` (**not for** Android Automotive OS). The app runs on `DHU` but publishing in Google Play was rejected:\r\n\r\nReason: application asks for an update which prevents testing of functionality in the Android Auto environment.\r\n\r\nDon&#39;t know what that means.\r\nDoes anyone know what&#39;s to do?\r\n\r\nThanks,\r\nAlejandro","title":"Android Auto: What means - application asks for an update which prevents testing of functionality in the Android Auto environment","body":"<p>I'm working on <code>android auto</code> (<strong>not for</strong> Android Automotive OS). The app runs on <code>DHU</code> but publishing in Google Play was rejected:</p>\n<p>Reason: application asks for an update which prevents testing of functionality in the Android Auto environment.</p>\n<p>Don't know what that means.\nDoes anyone know what's to do?</p>\n<p>Thanks,\nAlejandro</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9289,"page":934,"page_size":100}
