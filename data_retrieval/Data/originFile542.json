{"items":[{"tags":["java","tomcat","jndi","context.xml"],"comments":[{"owner":{"account_id":21945,"reputation":1757,"user_id":53732,"accept_rate":58,"display_name":"takacsot"},"score":0,"creation_date":1331058392,"post_id":9589379,"comment_id":12161623,"body_markdown":"Similar issue: http://stackoverflow.com/questions/4158468/tomcat-context-management","body":"Similar issue: <a href=\"http://stackoverflow.com/questions/4158468/tomcat-context-management\" title=\"tomcat context management\">stackoverflow.com/questions/4158468/tomcat-context-managemen&zwnj;&#8203;t</a>"},{"owner":{"account_id":21945,"reputation":1757,"user_id":53732,"accept_rate":58,"display_name":"takacsot"},"score":0,"creation_date":1331058675,"post_id":9589379,"comment_id":12161736,"body_markdown":"Answer already presented in this site: http://stackoverflow.com/questions/7142365/how-to-provide-a-context-configuration-for-a-web-application-under-tomcat","body":"Answer already presented in this site: <a href=\"http://stackoverflow.com/questions/7142365/how-to-provide-a-context-configuration-for-a-web-application-under-tomcat\" title=\"how to provide a context configuration for a web application under tomcat\">stackoverflow.com/questions/7142365/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":60494,"reputation":34013,"user_id":180659,"accept_rate":54,"display_name":"jarnbjo"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1331057901,"creation_date":1331057901,"answer_id":9589548,"question_id":9589379,"body_markdown":"I&#39;ve run into the same problem and the documentation is at least inadequate, if not directly misleading.\r\n\r\nThe problem is, that if you copy a new version of an already deployed WAR file to the webapps directory, Tomcat will not redeploy the existing application but undeploy the old application and then deploy the new application. The difference may first seem insignificant, but the problem is that during undeployment of the old application, any context files in conf/Catalina/localhost are deleted as well. Then, the new context file from the current WAR file will be copied to conf/Catalina/localhost during deployment of the new application.\r\n\r\nThe only feasible solution I&#39;ve found is not to deploy the new application as a WAR file, but to replace or overwrite the expanded directory, e.g. not to copy aaa.war to webapps/ but to unpack aaa.war directly into webapps/aaa/.","title":"Tomcat updates context.xml but should not","body":"<p>I've run into the same problem and the documentation is at least inadequate, if not directly misleading.</p>\n\n<p>The problem is, that if you copy a new version of an already deployed WAR file to the webapps directory, Tomcat will not redeploy the existing application but undeploy the old application and then deploy the new application. The difference may first seem insignificant, but the problem is that during undeployment of the old application, any context files in conf/Catalina/localhost are deleted as well. Then, the new context file from the current WAR file will be copied to conf/Catalina/localhost during deployment of the new application.</p>\n\n<p>The only feasible solution I've found is not to deploy the new application as a WAR file, but to replace or overwrite the expanded directory, e.g. not to copy aaa.war to webapps/ but to unpack aaa.war directly into webapps/aaa/.</p>\n"},{"tags":[],"owner":{"account_id":35683,"reputation":7004,"user_id":101151,"accept_rate":43,"display_name":"jla"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680022543,"creation_date":1680022543,"answer_id":75869010,"question_id":9589379,"body_markdown":"In your conf/server.xml add copyXML=&quot;false&quot; deployXML=&quot;false&quot;, or at least just deployXML=&quot;false&quot; to your Host (localhost in this case)\r\n\r\nThis should require conf/Catalina/localhost/AppName.xml if webapps/AppName/META-INF/context.xml exists but Tomcat won&#39;t copy context.xml to AppName.xml automatically, requiring an Admin to do it. This should help ensure container environment configuration overrides are in place. Keep a copy of your overrides outside conf/Catalina/localhost/ in case you trigger an undeploy (autoDeploy=&quot;true&quot;) and Tomcat deletes it.\r\n\r\nhttps://tomcat.apache.org/tomcat-9.0-doc/config/host.html","title":"Tomcat updates context.xml but should not","body":"<p>In your conf/server.xml add copyXML=&quot;false&quot; deployXML=&quot;false&quot;, or at least just deployXML=&quot;false&quot; to your Host (localhost in this case)</p>\n<p>This should require conf/Catalina/localhost/AppName.xml if webapps/AppName/META-INF/context.xml exists but Tomcat won't copy context.xml to AppName.xml automatically, requiring an Admin to do it. This should help ensure container environment configuration overrides are in place. Keep a copy of your overrides outside conf/Catalina/localhost/ in case you trigger an undeploy (autoDeploy=&quot;true&quot;) and Tomcat deletes it.</p>\n<p><a href=\"https://tomcat.apache.org/tomcat-9.0-doc/config/host.html\" rel=\"nofollow noreferrer\">https://tomcat.apache.org/tomcat-9.0-doc/config/host.html</a></p>\n"}],"owner":{"account_id":21945,"reputation":1757,"user_id":53732,"accept_rate":58,"display_name":"takacsot"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2301,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":9589548,"answer_count":2,"score":5,"last_activity_date":1680022543,"creation_date":1331057169,"question_id":9589379,"body_markdown":"Tomcat documentation (http://tomcat.apache.org/tomcat-6.0-doc/config/context.html)\r\n\r\n&gt; Only if a context file does not exist for the application in the\r\n&gt; $CATALINA_BASE/conf/[enginename]/[hostname]/, in an individual file at\r\n&gt; /META-INF/context.xml inside the application files. If the web\r\n&gt; application is packaged as a WAR then /META-INF/context.xml will be\r\n&gt; copied to $CATALINA_BASE/conf/[enginename]/[hostname]/ and renamed to\r\n&gt; match the application&#39;s context path. __Once this file exists, it will\r\n&gt; not be replaced if a new WAR with a newer /META-INF/context.xml is\r\n&gt; placed in the host&#39;s appBase.__\r\n\r\nText in bold is clear. But I notify as not true. (I need exactly this behaviour)\r\n\r\nHere are steps:\r\n\r\n1. aaa.war with context.xml included into META-INF\r\n2. copy to webapps. tomcat deploys.  File `conf\\Catalina\\localhost\\aaa.xml` OK\r\n3. change aaa.war by changing META-INF/context.xml\r\n4. copy to webapps\r\n5. File `conf\\Catalina\\localhost\\aaa.xml` is changed!!!\r\n\r\nWhat is wrong? Is it a bug or a hidden feature?\r\n\r\nBackground - the issue I want to resolve:\r\n\r\nConfiguration independent build and installation. I plant to ship war file. Client per-configures his Tomcat using his own settings. when I ship a new release I just delivery the war without config and when deployed it will use client specific configuration.\r\n\r\nBy documentation the best place is the context.xml But if it overwritten each time it make no sense to use at all. (why would I use JNDI and such a things if new deliverable has to  created? Changing something in build-time is not a big configuration advantage.)\r\n\r\n\r\nEnvironment: windows, tomcat 6.0.33\r\n\r\n","title":"Tomcat updates context.xml but should not","body":"<p>Tomcat documentation (http://tomcat.apache.org/tomcat-6.0-doc/config/context.html)</p>\n\n<blockquote>\n  <p>Only if a context file does not exist for the application in the\n  $CATALINA_BASE/conf/[enginename]/[hostname]/, in an individual file at\n  /META-INF/context.xml inside the application files. If the web\n  application is packaged as a WAR then /META-INF/context.xml will be\n  copied to $CATALINA_BASE/conf/[enginename]/[hostname]/ and renamed to\n  match the application's context path. <strong>Once this file exists, it will\n  not be replaced if a new WAR with a newer /META-INF/context.xml is\n  placed in the host's appBase.</strong></p>\n</blockquote>\n\n<p>Text in bold is clear. But I notify as not true. (I need exactly this behaviour)</p>\n\n<p>Here are steps:</p>\n\n<ol>\n<li>aaa.war with context.xml included into META-INF</li>\n<li>copy to webapps. tomcat deploys.  File <code>conf\\Catalina\\localhost\\aaa.xml</code> OK</li>\n<li>change aaa.war by changing META-INF/context.xml</li>\n<li>copy to webapps</li>\n<li>File <code>conf\\Catalina\\localhost\\aaa.xml</code> is changed!!!</li>\n</ol>\n\n<p>What is wrong? Is it a bug or a hidden feature?</p>\n\n<p>Background - the issue I want to resolve:</p>\n\n<p>Configuration independent build and installation. I plant to ship war file. Client per-configures his Tomcat using his own settings. when I ship a new release I just delivery the war without config and when deployed it will use client specific configuration.</p>\n\n<p>By documentation the best place is the context.xml But if it overwritten each time it make no sense to use at all. (why would I use JNDI and such a things if new deliverable has to  created? Changing something in build-time is not a big configuration advantage.)</p>\n\n<p>Environment: windows, tomcat 6.0.33</p>\n"},{"tags":["java","spring","rest","spring-mvc","versioning"],"comments":[{"owner":{"account_id":2237265,"reputation":26976,"user_id":1973271,"accept_rate":100,"display_name":"flup"},"score":0,"creation_date":1385584894,"post_id":20198275,"comment_id":30208022,"body_markdown":"http://stackoverflow.com/questions/11715874/best-practices-examples-on-organizing-versioned-rest-api-code-in-java-spring","body":"<a href=\"http://stackoverflow.com/questions/11715874/best-practices-examples-on-organizing-versioned-rest-api-code-in-java-spring\" title=\"best practices examples on organizing versioned rest api code in java spring\">stackoverflow.com/questions/11715874/&hellip;</a>"},{"owner":{"account_id":301230,"reputation":28997,"user_id":608820,"accept_rate":89,"display_name":"Augusto"},"score":1,"creation_date":1385588266,"post_id":20198275,"comment_id":30209704,"body_markdown":"@flup I don&#39;t understand your comment. That just says that you can use headers and, as I said, what spring provides out of the box is not sufficient to support APIs that are updated constantly. Even worse the link on that answer uses the version in the URL.","body":"@flup I don&#39;t understand your comment. That just says that you can use headers and, as I said, what spring provides out of the box is not sufficient to support APIs that are updated constantly. Even worse the link on that answer uses the version in the URL."},{"owner":{"account_id":952861,"reputation":4985,"user_id":978676,"display_name":"bimsapi"},"score":0,"creation_date":1385589282,"post_id":20198275,"comment_id":30210198,"body_markdown":"Maybe not exactly what you are looking for, but Spring 3.2 supports a &quot;produces&quot; parameter on RequestMapping. The one caveat is that the version list has to be explicit. E.g., `produces={&quot;application/json-1.0&quot;, &quot;application/json-1.1&quot;}`, etc","body":"Maybe not exactly what you are looking for, but Spring 3.2 supports a &quot;produces&quot; parameter on RequestMapping. The one caveat is that the version list has to be explicit. E.g., <code>produces={&quot;application&#47;json-1.0&quot;, &quot;application&#47;json-1.1&quot;}</code>, etc"},{"owner":{"account_id":301230,"reputation":28997,"user_id":608820,"accept_rate":89,"display_name":"Augusto"},"score":0,"creation_date":1385589744,"post_id":20198275,"comment_id":30210438,"body_markdown":"@bimsapi yes I know about that parameter. and you made me realise that I made a mistake in the question. Since produces doesn&#39;t accept a range of versions, I&#39;m writing my own `ProducesRequestCondition`, which can understand versions. As I mentioned above, in order to write this class, I had to also rewrite `RequestMappingInfoHandlerMapping`, `RequestMappingHandlerMapping` and `RequestMappingInfo`, because `RequestMappingInfo` is final :(.","body":"@bimsapi yes I know about that parameter. and you made me realise that I made a mistake in the question. Since produces doesn&#39;t accept a range of versions, I&#39;m writing my own <code>ProducesRequestCondition</code>, which can understand versions. As I mentioned above, in order to write this class, I had to also rewrite <code>RequestMappingInfoHandlerMapping</code>, <code>RequestMappingHandlerMapping</code> and <code>RequestMappingInfo</code>, because <code>RequestMappingInfo</code> is final :(."},{"owner":{"account_id":2237265,"reputation":26976,"user_id":1973271,"accept_rate":100,"display_name":"flup"},"score":0,"creation_date":1385590701,"post_id":20198275,"comment_id":30210860,"body_markdown":"The question/problem looks like a duplicate to me, even if you prefer a different solution direction. The accepted answer there says you can use headers, but other answers using content type would answer the question too.","body":"The question/problem looks like a duplicate to me, even if you prefer a different solution direction. The accepted answer there says you can use headers, but other answers using content type would answer the question too."},{"owner":{"account_id":2939498,"reputation":3137,"user_id":2517719,"accept_rate":67,"display_name":"Floegipoky"},"score":0,"creation_date":1385593107,"post_id":20198275,"comment_id":30211856,"body_markdown":"It looks to me like you don&#39;t have 9 versions of this resource, you only have 2.  I would say that if you want to version the API (it appears you do), then put the version in the URI.  If you want to version the resource (or its representation) that this endpoint refers to, put it in the accept header.  I wouldn&#39;t recommend doing both, or it will get messy (as you&#39;ve discovered).","body":"It looks to me like you don&#39;t have 9 versions of this resource, you only have 2.  I would say that if you want to version the API (it appears you do), then put the version in the URI.  If you want to version the resource (or its representation) that this endpoint refers to, put it in the accept header.  I wouldn&#39;t recommend doing both, or it will get messy (as you&#39;ve discovered)."},{"owner":{"account_id":301230,"reputation":28997,"user_id":608820,"accept_rate":89,"display_name":"Augusto"},"score":1,"creation_date":1385626359,"post_id":20198275,"comment_id":30221893,"body_markdown":"We need to support several versions of our APIs, these differences are usually minor changes that would make some calls from some clients incompatible (it wont be strange if we need to support 4 minor versions, in which some endpoints are incompatible). I appreciate the suggestion to put it in the url, but we know that it&#39;s a step in the wrong direction, as we have a couple of apps with the version in the URL and there&#39;s a lot of work involved every time we need to bump the version.","body":"We need to support several versions of our APIs, these differences are usually minor changes that would make some calls from some clients incompatible (it wont be strange if we need to support 4 minor versions, in which some endpoints are incompatible). I appreciate the suggestion to put it in the url, but we know that it&#39;s a step in the wrong direction, as we have a couple of apps with the version in the URL and there&#39;s a lot of work involved every time we need to bump the version."},{"owner":{"account_id":1120999,"reputation":2035,"user_id":1109309,"accept_rate":62,"display_name":"Alexey Andreev"},"score":1,"creation_date":1385632641,"post_id":20198275,"comment_id":30225551,"body_markdown":"@Augusto, you actually you haven&#39;t too. Just design your API changes a way that doesn&#39;t break backward compatibility. Just give me example of changes that break compatibility and I show you how to make these changes in non-breaking fashion.","body":"@Augusto, you actually you haven&#39;t too. Just design your API changes a way that doesn&#39;t break backward compatibility. Just give me example of changes that break compatibility and I show you how to make these changes in non-breaking fashion."},{"owner":{"account_id":3088832,"reputation":3115,"user_id":2615437,"accept_rate":50,"display_name":"xwoker"},"score":1,"creation_date":1385632951,"post_id":20198275,"comment_id":30225731,"body_markdown":"Did you have a look at http://stackoverflow.com/a/10336769/2615437 which seems to imply that your statement &quot;This is not possible in spring as the 2 methods have the same RequestMapping annotation and Spring fails to load.&quot; is not totally correct?","body":"Did you have a look at <a href=\"http://stackoverflow.com/a/10336769/2615437\">stackoverflow.com/a/10336769/2615437</a> which seems to imply that your statement &quot;This is not possible in spring as the 2 methods have the same RequestMapping annotation and Spring fails to load.&quot; is not totally correct?"},{"owner":{"account_id":301230,"reputation":28997,"user_id":608820,"accept_rate":89,"display_name":"Augusto"},"score":0,"creation_date":1385637137,"post_id":20198275,"comment_id":30228226,"body_markdown":"@xworker I haven&#39;t seen that. It&#39;s a close solution to what I&#39;m doing at the moment (as I need my own custom condition), but it definitely looks **way** tidier than my implementation","body":"@xworker I haven&#39;t seen that. It&#39;s a close solution to what I&#39;m doing at the moment (as I need my own custom condition), but it definitely looks <b>way</b> tidier than my implementation"},{"owner":{"account_id":3088832,"reputation":3115,"user_id":2615437,"accept_rate":50,"display_name":"xwoker"},"score":1,"creation_date":1385644416,"post_id":20198275,"comment_id":30232514,"body_markdown":"xwoker vs. xworker :-)","body":"xwoker vs. xworker :-)"},{"owner":{"account_id":1492815,"reputation":3769,"user_id":1399502,"display_name":"Jonathan W"},"score":0,"creation_date":1386035702,"post_id":20198275,"comment_id":30362391,"body_markdown":"I&#39;m with Alexey on this one. Follow semantic versioning rules and minimize major version changes, and you won&#39;t have to micromanage version ranges. If you&#39;re required to make a series of backwards-incompatible changes, you aren&#39;t managing your system very well. I know that&#39;s not the answer you&#39;re looking for, but sometimes the answer is to not to build a ladder to scale the 20-foot wall at the end of the dark alley, but to turn around and go back to Main Street. :)","body":"I&#39;m with Alexey on this one. Follow semantic versioning rules and minimize major version changes, and you won&#39;t have to micromanage version ranges. If you&#39;re required to make a series of backwards-incompatible changes, you aren&#39;t managing your system very well. I know that&#39;s not the answer you&#39;re looking for, but sometimes the answer is to not to build a ladder to scale the 20-foot wall at the end of the dark alley, but to turn around and go back to Main Street. :)"},{"owner":{"account_id":6283683,"reputation":3277,"user_id":4883754,"display_name":"Jess Chen"},"score":0,"creation_date":1617615617,"post_id":20198275,"comment_id":118344327,"body_markdown":"https://github.com/augusto/restVersioning is too difficult to debug, if error happened.","body":"<a href=\"https://github.com/augusto/restVersioning\" rel=\"nofollow noreferrer\">github.com/augusto/restVersioning</a> is too difficult to debug, if error happened."}],"answers":[{"comments":[{"owner":{"account_id":301230,"reputation":28997,"user_id":608820,"accept_rate":89,"display_name":"Augusto"},"score":0,"creation_date":1385626414,"post_id":20254873,"comment_id":30221918,"body_markdown":"Thanks codesalsa, I&#39;m trying to find a way that is easy to maintain and doesn&#39;t require some to update each endpoint every time we need to bump the version.","body":"Thanks codesalsa, I&#39;m trying to find a way that is easy to maintain and doesn&#39;t require some to update each endpoint every time we need to bump the version."}],"tags":[],"owner":{"account_id":2651380,"reputation":902,"user_id":2292966,"accept_rate":40,"display_name":"codesalsa"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1385593670,"creation_date":1385593670,"answer_id":20254873,"question_id":20198275,"body_markdown":"In produces you can have negation. So for method1 say `produces=&quot;!...1.7&quot;` and in method2 have the positive. \r\n\r\nThe produces is also an array so you for method1 you can say `produces={&quot;...1.6&quot;,&quot;!...1.7&quot;,&quot;...1.8&quot;}` etc (accept all except 1.7)\r\n\r\nOfcourse not as ideal as ranges that you have in mind but I think easier to maintain than other custom stuff if this is something uncommon in your system. Good luck!","title":"How to manage REST API versioning with spring?","body":"<p>In produces you can have negation. So for method1 say <code>produces=\"!...1.7\"</code> and in method2 have the positive. </p>\n\n<p>The produces is also an array so you for method1 you can say <code>produces={\"...1.6\",\"!...1.7\",\"...1.8\"}</code> etc (accept all except 1.7)</p>\n\n<p>Ofcourse not as ideal as ranges that you have in mind but I think easier to maintain than other custom stuff if this is something uncommon in your system. Good luck!</p>\n"},{"tags":[],"owner":{"account_id":3616345,"reputation":1173,"user_id":3016088,"display_name":"elusive-code"},"comment_count":0,"down_vote_count":3,"up_vote_count":21,"is_accepted":false,"score":18,"last_activity_date":1385884695,"creation_date":1385701968,"answer_id":20278798,"question_id":20198275,"body_markdown":"I would still recommend using URL&#39;s for versioning because in URLs @RequestMapping supports patterns and path parameters, which format could be specified with regexp.\r\n\r\nAnd to handle client upgrades (which you mentioned in comment) you can use aliases like &#39;latest&#39;. Or have unversioned version of api which uses latest version (yeah).\r\n\r\nAlso using path parameters you can implement any complex version handling logic, and if you already want to have ranges, you very well might want something more soon enough.\r\n\r\nHere is a couple of examples:\r\n\r\n    @RequestMapping({\r\n        &quot;/**/public_api/1.1/method&quot;,\r\n        &quot;/**/public_api/1.2/method&quot;,\r\n    })\r\n    public void method1(){\r\n    }\r\n\r\n    @RequestMapping({\r\n        &quot;/**/public_api/1.3/method&quot;\r\n        &quot;/**/public_api/latest/method&quot;\r\n        &quot;/**/public_api/method&quot; \r\n    })\r\n    public void method2(){\r\n    }\r\n\r\n    @RequestMapping({\r\n        &quot;/**/public_api/1.4/method&quot;\r\n        &quot;/**/public_api/beta/method&quot;\r\n    })\r\n    public void method2(){\r\n    }\r\n\r\n    //handles all 1.* requests\r\n    @RequestMapping({\r\n        &quot;/**/public_api/{version:1\\\\.\\\\d+}/method&quot;\r\n    })\r\n    public void methodManual1(@PathVariable(&quot;version&quot;) String version){\r\n    }\r\n\r\n    //handles 1.0-1.6 range, but somewhat ugly\r\n    @RequestMapping({\r\n        &quot;/**/public_api/{version:1\\\\.[0123456]?}/method&quot;\r\n    })\r\n    public void methodManual1(@PathVariable(&quot;version&quot;) String version){\r\n    }\r\n\r\n    //fully manual version handling\r\n    @RequestMapping({\r\n        &quot;/**/public_api/{version}/method&quot;\r\n    })\r\n    public void methodManual2(@PathVariable(&quot;version&quot;) String version){\r\n        int[] versionParts = getVersionParts(version);\r\n        //manual handling of versions\r\n    }\r\n\r\n    public int[] getVersionParts(String version){\r\n        try{\r\n            String[] versionParts = version.split(&quot;\\\\.&quot;);\r\n            int[] result = new int[versionParts.length];\r\n            for(int i=0;i&lt;versionParts.length;i++){\r\n                result[i] = Integer.parseInt(versionParts[i]);\r\n            }\r\n            return result;\r\n        }catch (Exception ex) {\r\n            return null;\r\n        }\r\n    }\r\n\r\n**Based on the last approach you can actually implement something like what you want.** \r\n\r\nFor example you can have a controller that contains only method stabs with version handling. \r\n\r\nIn that handling you look (using reflection/AOP/code generation libraries) in some spring service/component or in the same class for method with the same name/signature and required @VersionRange and invoke it passing all parameters.","title":"How to manage REST API versioning with spring?","body":"<p>I would still recommend using URL's for versioning because in URLs @RequestMapping supports patterns and path parameters, which format could be specified with regexp.</p>\n\n<p>And to handle client upgrades (which you mentioned in comment) you can use aliases like 'latest'. Or have unversioned version of api which uses latest version (yeah).</p>\n\n<p>Also using path parameters you can implement any complex version handling logic, and if you already want to have ranges, you very well might want something more soon enough.</p>\n\n<p>Here is a couple of examples:</p>\n\n<pre><code>@RequestMapping({\n    \"/**/public_api/1.1/method\",\n    \"/**/public_api/1.2/method\",\n})\npublic void method1(){\n}\n\n@RequestMapping({\n    \"/**/public_api/1.3/method\"\n    \"/**/public_api/latest/method\"\n    \"/**/public_api/method\" \n})\npublic void method2(){\n}\n\n@RequestMapping({\n    \"/**/public_api/1.4/method\"\n    \"/**/public_api/beta/method\"\n})\npublic void method2(){\n}\n\n//handles all 1.* requests\n@RequestMapping({\n    \"/**/public_api/{version:1\\\\.\\\\d+}/method\"\n})\npublic void methodManual1(@PathVariable(\"version\") String version){\n}\n\n//handles 1.0-1.6 range, but somewhat ugly\n@RequestMapping({\n    \"/**/public_api/{version:1\\\\.[0123456]?}/method\"\n})\npublic void methodManual1(@PathVariable(\"version\") String version){\n}\n\n//fully manual version handling\n@RequestMapping({\n    \"/**/public_api/{version}/method\"\n})\npublic void methodManual2(@PathVariable(\"version\") String version){\n    int[] versionParts = getVersionParts(version);\n    //manual handling of versions\n}\n\npublic int[] getVersionParts(String version){\n    try{\n        String[] versionParts = version.split(\"\\\\.\");\n        int[] result = new int[versionParts.length];\n        for(int i=0;i&lt;versionParts.length;i++){\n            result[i] = Integer.parseInt(versionParts[i]);\n        }\n        return result;\n    }catch (Exception ex) {\n        return null;\n    }\n}\n</code></pre>\n\n<p><strong>Based on the last approach you can actually implement something like what you want.</strong> </p>\n\n<p>For example you can have a controller that contains only method stabs with version handling. </p>\n\n<p>In that handling you look (using reflection/AOP/code generation libraries) in some spring service/component or in the same class for method with the same name/signature and required @VersionRange and invoke it passing all parameters.</p>\n"},{"comments":[{"owner":{"account_id":301230,"reputation":28997,"user_id":608820,"accept_rate":89,"display_name":"Augusto"},"score":3,"creation_date":1385891562,"post_id":20310221,"comment_id":30308208,"body_markdown":"I know about that, but as you noted, on each version I would need to go to all my controllers and add a version, even if they haven&#39;t changed. The range that you mentioned only works on the full type, for example `application/*` and not parts of the type. For example the following is invalid in Spring `&quot;Accept=application/vnd.company.app-1.*+json&quot;`. This is related to how the spring class `MediaType` works","body":"I know about that, but as you noted, on each version I would need to go to all my controllers and add a version, even if they haven&#39;t changed. The range that you mentioned only works on the full type, for example <code>application&#47;*</code> and not parts of the type. For example the following is invalid in Spring <code>&quot;Accept=application&#47;vnd.company.app-1.*+json&quot;</code>. This is related to how the spring class <code>MediaType</code> works"},{"owner":{"account_id":2774008,"reputation":18025,"user_id":2387977,"accept_rate":69,"display_name":"Dherik"},"score":0,"creation_date":1554407080,"post_id":20310221,"comment_id":97751805,"body_markdown":"@Augusto you don&#39;t necessarily need to do this. With this approach, you are not versioning the &quot;API&quot; but &quot;Endpoint&quot;. Each endpoint can have a different version. For me it&#39;s the easiest way to version the API [compared](https://github.com/swagger-api/swagger-core/issues/2099#issuecomment-290052477) [with API version](https://stackoverflow.com/q/39461657/2387977). Swagger is also more [simple to setup](https://stackoverflow.com/q/53615700/2387977). This strategy is called Versioning through content negotiation.","body":"@Augusto you don&#39;t necessarily need to do this. With this approach, you are not versioning the &quot;API&quot; but &quot;Endpoint&quot;. Each endpoint can have a different version. For me it&#39;s the easiest way to version the API <a href=\"https://github.com/swagger-api/swagger-core/issues/2099#issuecomment-290052477\" rel=\"nofollow noreferrer\">compared</a> <a href=\"https://stackoverflow.com/q/39461657/2387977\">with API version</a>. Swagger is also more <a href=\"https://stackoverflow.com/q/53615700/2387977\">simple to setup</a>. This strategy is called Versioning through content negotiation."}],"tags":[],"owner":{"display_name":"user41871"},"comment_count":2,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1385888234,"creation_date":1385886313,"answer_id":20310221,"question_id":20198275,"body_markdown":"The `@RequestMapping` annotation supports a `headers` element that allows you to narrow the matching requests. In particular you can use the `Accept` header here.\r\n\r\n    @RequestMapping(headers = {\r\n        &quot;Accept=application/vnd.company.app-1.0+json&quot;,\r\n        &quot;Accept=application/vnd.company.app-1.1+json&quot;\r\n    })\r\n\r\nThis isn&#39;t exactly what you&#39;re describing, since it doesn&#39;t directly handle ranges, but the element does support the * wildcard as well as !=. So at least you could get away with using a wildcard for cases where all versions support the endpoint in question, or even all minor versions of a given major version (e.g. 1.*).\r\n\r\nI don&#39;t think I&#39;ve actually used this element before (if I have I don&#39;t remember), so I&#39;m just going off the documentation at\r\n\r\nhttp://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/bind/annotation/RequestMapping.html\r\n","title":"How to manage REST API versioning with spring?","body":"<p>The <code>@RequestMapping</code> annotation supports a <code>headers</code> element that allows you to narrow the matching requests. In particular you can use the <code>Accept</code> header here.</p>\n\n<pre><code>@RequestMapping(headers = {\n    \"Accept=application/vnd.company.app-1.0+json\",\n    \"Accept=application/vnd.company.app-1.1+json\"\n})\n</code></pre>\n\n<p>This isn't exactly what you're describing, since it doesn't directly handle ranges, but the element does support the * wildcard as well as !=. So at least you could get away with using a wildcard for cases where all versions support the endpoint in question, or even all minor versions of a given major version (e.g. 1.*).</p>\n\n<p>I don't think I've actually used this element before (if I have I don't remember), so I'm just going off the documentation at</p>\n\n<p><a href=\"http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/bind/annotation/RequestMapping.html\" rel=\"noreferrer\">http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/bind/annotation/RequestMapping.html</a></p>\n"},{"comments":[{"owner":{"account_id":301230,"reputation":28997,"user_id":608820,"accept_rate":89,"display_name":"Augusto"},"score":0,"creation_date":1386065614,"post_id":20346070,"comment_id":30373485,"body_markdown":"Thanks for adding your comment as an answer xwoker. Up to now is the best one. I have implemented the solution based on the links you mentioned and it&#39;s not that bad. The biggest problem will manifest when upgrading to a new version of Spring as it will require to check any changes to the logic behind `mvc:annotation-driven`. Hopefully Spring will provide a version of `mvc:annotation-driven` in which one can define custom conditions.","body":"Thanks for adding your comment as an answer xwoker. Up to now is the best one. I have implemented the solution based on the links you mentioned and it&#39;s not that bad. The biggest problem will manifest when upgrading to a new version of Spring as it will require to check any changes to the logic behind <code>mvc:annotation-driven</code>. Hopefully Spring will provide a version of <code>mvc:annotation-driven</code> in which one can define custom conditions."},{"owner":{"account_id":1395326,"reputation":8690,"user_id":1325216,"accept_rate":58,"display_name":"Sander Verhagen"},"score":0,"creation_date":1403562045,"post_id":20346070,"comment_id":37696278,"body_markdown":"@Augusto, half a year later, how has this been working out for you? Also, I&#39;m curious, are you really versioning on a per-method basis? At this point I&#39;m wondering if it wouldn&#39;t be clearer to version on a per-class/per-controller level granularity?","body":"@Augusto, half a year later, how has this been working out for you? Also, I&#39;m curious, are you really versioning on a per-method basis? At this point I&#39;m wondering if it wouldn&#39;t be clearer to version on a per-class/per-controller level granularity?"},{"owner":{"account_id":301230,"reputation":28997,"user_id":608820,"accept_rate":89,"display_name":"Augusto"},"score":1,"creation_date":1403641735,"post_id":20346070,"comment_id":37734384,"body_markdown":"@SanderVerhagen it&#39;s working, but we do version the whole API, not per method or controller (the API is quite small as it&#39;s focused on one aspect of the business). We do have a considerably bigger project where they chose to use a different version per resource and specify that on the URL (so you can have an endpoint on /v1/sessions and another resource on a completely different version, e.g. /v4/orders)... it&#39;s a bit more flexible, but it puts more pressure on clients to know which version to call of each endpoint.","body":"@SanderVerhagen it&#39;s working, but we do version the whole API, not per method or controller (the API is quite small as it&#39;s focused on one aspect of the business). We do have a considerably bigger project where they chose to use a different version per resource and specify that on the URL (so you can have an endpoint on /v1/sessions and another resource on a completely different version, e.g. /v4/orders)... it&#39;s a bit more flexible, but it puts more pressure on clients to know which version to call of each endpoint."},{"owner":{"account_id":317824,"reputation":699,"user_id":634705,"accept_rate":62,"display_name":"Rick"},"score":3,"creation_date":1488293633,"post_id":20346070,"comment_id":72160952,"body_markdown":"Unfortunately, this doesn&#39;t play nice with Swagger, as a lot of auto configuration is turned off when extending WebMvcConfigurationSupport.","body":"Unfortunately, this doesn&#39;t play nice with Swagger, as a lot of auto configuration is turned off when extending WebMvcConfigurationSupport."},{"owner":{"account_id":4271284,"reputation":12416,"user_id":3493036,"accept_rate":81,"display_name":"Patrick"},"score":0,"creation_date":1596042789,"post_id":20346070,"comment_id":111685746,"body_markdown":"I tried this solution but its actually not working with 2.3.2.RELEASE. Do you have some example project to show?","body":"I tried this solution but its actually not working with 2.3.2.RELEASE. Do you have some example project to show?"},{"owner":{"account_id":3088832,"reputation":3115,"user_id":2615437,"accept_rate":50,"display_name":"xwoker"},"score":0,"creation_date":1596182598,"post_id":20346070,"comment_id":111735883,"body_markdown":"Sorry, no. I haven&#39;t looked into it for a looong time.","body":"Sorry, no. I haven&#39;t looked into it for a looong time."}],"tags":[],"owner":{"account_id":3088832,"reputation":3115,"user_id":2615437,"accept_rate":50,"display_name":"xwoker"},"comment_count":6,"down_vote_count":0,"up_vote_count":84,"is_accepted":true,"score":84,"last_activity_date":1519279155,"creation_date":1386059020,"answer_id":20346070,"question_id":20198275,"body_markdown":"Regardless whether versioning can be avoided by doing backwards compatible changes (which might not always possible when you are bound by some corporate guidelines or your API clients are implemented in a buggy way and would break even if they should not) the abstracted requirement is an interesting one: \r\n\r\n**How can I do a custom request mapping that does arbitrary evaluations of header values from the request without doing the evaluation in the method body?**\r\n\r\nAs described in [this SO answer][1] you actually can have the same `@RequestMapping` and use a different annotation to differentiate during the actual routing that happens during runtime. To do so, you will have to:\r\n\r\n1. Create a new annotation `VersionRange`.\r\n2. Implement a `RequestCondition&lt;VersionRange&gt;`. Since you will have something like a best-match algorithm you will have to check whether methods annotated with other `VersionRange` values provide a better match for the current request.\r\n3. Implement a `VersionRangeRequestMappingHandlerMapping` based on the annotation and request condition (as described in the post[ How to implement @RequestMapping custom properties\r\n][1]).\r\n4. Configure spring to evaluate your `VersionRangeRequestMappingHandlerMapping` before using the default `RequestMappingHandlerMapping` (e.g. by setting its order to 0).\r\n\r\nThis wouldn&#39;t require any hacky replacements of Spring components but uses the Spring configuration and extension mechanisms so it should work even if you update your Spring version (as long as the new version supports these mechanisms).\r\n\r\n  [1]: https://stackoverflow.com/a/10336769/2615437","title":"How to manage REST API versioning with spring?","body":"<p>Regardless whether versioning can be avoided by doing backwards compatible changes (which might not always possible when you are bound by some corporate guidelines or your API clients are implemented in a buggy way and would break even if they should not) the abstracted requirement is an interesting one: </p>\n\n<p><strong>How can I do a custom request mapping that does arbitrary evaluations of header values from the request without doing the evaluation in the method body?</strong></p>\n\n<p>As described in <a href=\"https://stackoverflow.com/a/10336769/2615437\">this SO answer</a> you actually can have the same <code>@RequestMapping</code> and use a different annotation to differentiate during the actual routing that happens during runtime. To do so, you will have to:</p>\n\n<ol>\n<li>Create a new annotation <code>VersionRange</code>.</li>\n<li>Implement a <code>RequestCondition&lt;VersionRange&gt;</code>. Since you will have something like a best-match algorithm you will have to check whether methods annotated with other <code>VersionRange</code> values provide a better match for the current request.</li>\n<li>Implement a <code>VersionRangeRequestMappingHandlerMapping</code> based on the annotation and request condition (as described in the post<a href=\"https://stackoverflow.com/a/10336769/2615437\"> How to implement @RequestMapping custom properties\n</a>).</li>\n<li>Configure spring to evaluate your <code>VersionRangeRequestMappingHandlerMapping</code> before using the default <code>RequestMappingHandlerMapping</code> (e.g. by setting its order to 0).</li>\n</ol>\n\n<p>This wouldn't require any hacky replacements of Spring components but uses the Spring configuration and extension mechanisms so it should work even if you update your Spring version (as long as the new version supports these mechanisms).</p>\n"},{"comments":[{"owner":{"account_id":301230,"reputation":28997,"user_id":608820,"accept_rate":89,"display_name":"Augusto"},"score":0,"creation_date":1386173987,"post_id":20379951,"comment_id":30429091,"body_markdown":"Thanks hevi, I&#39;m looking for a more &quot;spring&quot; friendly way of doing this, as Spring already selects which method to call without using AOP. I&#39;m my view AOP adds a new level of code complexity that I would like to avoid.","body":"Thanks hevi, I&#39;m looking for a more &quot;spring&quot; friendly way of doing this, as Spring already selects which method to call without using AOP. I&#39;m my view AOP adds a new level of code complexity that I would like to avoid."},{"owner":{"account_id":984212,"reputation":62352,"user_id":1003142,"display_name":"Konstantin Yovkov"},"score":0,"creation_date":1386583559,"post_id":20379951,"comment_id":30585093,"body_markdown":"@Augusto, Spring has a great AOP support. You should try it out. :)","body":"@Augusto, Spring has a great AOP support. You should try it out. :)"}],"tags":[],"owner":{"account_id":910866,"reputation":2490,"user_id":944768,"accept_rate":48,"display_name":"hevi"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1386172599,"creation_date":1386172599,"answer_id":20379951,"question_id":20198275,"body_markdown":"You can use AOP, around interception\r\n\r\nConsider having a request mapping which receives all the `/**/public_api/*` and in this method do nothing;\r\n\r\n    @RequestMapping({\r\n        &quot;/**/public_api/*&quot;\r\n    })\r\n    public void method2(Model model){\r\n    }\r\n\r\nAfter\r\n\r\n\t@Override\r\n\tpublic void around(Method method, Object[] args, Object target)\r\n\t\tthrows Throwable {\r\n\t       // look for the requested version from model parameter, call it desired range\r\n\t       // check the target object for @VersionRange annotation with reflection and acquire version ranges, call the function if it is in the desired range\r\n\r\n\r\n\t}\r\nThe only constraint is that all has to be in the same controller.\r\n\r\nFor AOP configuration have a look at http://www.mkyong.com/spring/spring-aop-examples-advice/","title":"How to manage REST API versioning with spring?","body":"<p>You can use AOP, around interception</p>\n\n<p>Consider having a request mapping which receives all the <code>/**/public_api/*</code> and in this method do nothing;</p>\n\n<pre><code>@RequestMapping({\n    \"/**/public_api/*\"\n})\npublic void method2(Model model){\n}\n</code></pre>\n\n<p>After</p>\n\n<pre><code>@Override\npublic void around(Method method, Object[] args, Object target)\n    throws Throwable {\n       // look for the requested version from model parameter, call it desired range\n       // check the target object for @VersionRange annotation with reflection and acquire version ranges, call the function if it is in the desired range\n\n\n}\n</code></pre>\n\n<p>The only constraint is that all has to be in the same controller.</p>\n\n<p>For AOP configuration have a look at <a href=\"http://www.mkyong.com/spring/spring-aop-examples-advice/\" rel=\"nofollow\">http://www.mkyong.com/spring/spring-aop-examples-advice/</a></p>\n"},{"comments":[{"owner":{"account_id":1290924,"reputation":2056,"user_id":1243048,"accept_rate":65,"display_name":"Maelig"},"score":5,"creation_date":1409651263,"post_id":21176971,"comment_id":40025860,"body_markdown":"I changed the int[] into String[] to allow versions like &quot;1.2&quot;, and so I can handle keywords like &quot;latest&quot;","body":"I changed the int[] into String[] to allow versions like &quot;1.2&quot;, and so I can handle keywords like &quot;latest&quot;"},{"owner":{"account_id":1390639,"reputation":23879,"user_id":1321564,"accept_rate":71,"display_name":"Benjamin M"},"score":3,"creation_date":1409669297,"post_id":21176971,"comment_id":40036600,"body_markdown":"Yes, that&#39;s pretty reasonable. For future projects, I&#39;d go a different way for some reasons: **1.** URLs represent resources. `/v1/aResource` and `/v2/aResource` look like different resources, **but** it&#39;s just a different representation of the same resource! **2.** Using HTTP headers looks better, **but** you can&#39;t give someone a URL, because the URL doesn&#39;t contain the header. **3.** Using a URL parameter, i.e. `/aResource?v=2.1` (btw: that&#39;s the way Google does versioning). `...` I&#39;m still not sure if I&#39;d go with option *2* or *3*, but I will never use *1* again for reasons mentioned above.","body":"Yes, that&#39;s pretty reasonable. For future projects, I&#39;d go a different way for some reasons: <b>1.</b> URLs represent resources. <code>&#47;v1&#47;aResource</code> and <code>&#47;v2&#47;aResource</code> look like different resources, <b>but</b> it&#39;s just a different representation of the same resource! <b>2.</b> Using HTTP headers looks better, <b>but</b> you can&#39;t give someone a URL, because the URL doesn&#39;t contain the header. <b>3.</b> Using a URL parameter, i.e. <code>&#47;aResource?v=2.1</code> (btw: that&#39;s the way Google does versioning). <code>...</code> I&#39;m still not sure if I&#39;d go with option <i>2</i> or <i>3</i>, but I will never use <i>1</i> again for reasons mentioned above."},{"owner":{"account_id":1542737,"reputation":4319,"user_id":1436981,"accept_rate":45,"display_name":"stuXnet"},"score":8,"creation_date":1453478886,"post_id":21176971,"comment_id":57633565,"body_markdown":"If you want to inject your own `RequestMappingHandlerMapping` into your `WebMvcConfiguration`, you should overwrite `createRequestMappingHandlerMapping` instead of `requestMappingHandlerMapping`! Otherwise you will encounter weird problems (I suddenly had problems with Hibernates lazy initialization because of a closed session)","body":"If you want to inject your own <code>RequestMappingHandlerMapping</code> into your <code>WebMvcConfiguration</code>, you should overwrite <code>createRequestMappingHandlerMapping</code> instead of <code>requestMappingHandlerMapping</code>! Otherwise you will encounter weird problems (I suddenly had problems with Hibernates lazy initialization because of a closed session)"},{"owner":{"account_id":7693044,"reputation":1702,"user_id":5828621,"accept_rate":37,"display_name":"JDev"},"score":1,"creation_date":1499392691,"post_id":21176971,"comment_id":76898166,"body_markdown":"The approach looks good but somehow seems it doesn&#39;t work with junti test cases(SpringRunner). Any chance that you have got the approach working with test cases","body":"The approach looks good but somehow seems it doesn&#39;t work with junti test cases(SpringRunner). Any chance that you have got the approach working with test cases"},{"owner":{"account_id":488684,"reputation":1276,"user_id":929219,"accept_rate":50,"display_name":"SeB.Fr"},"score":2,"creation_date":1504024505,"post_id":21176971,"comment_id":78846772,"body_markdown":"There is a way to make this work, do not extend `WebMvcConfigurationSupport ` but extend `DelegatingWebMvcConfiguration`. This worked for me (see https://stackoverflow.com/questions/22267191/is-it-possible-to-extend-webmvcconfigurationsupport-and-use-webmvcautoconfigurat)","body":"There is a way to make this work, do not extend <code>WebMvcConfigurationSupport </code> but extend <code>DelegatingWebMvcConfiguration</code>. This worked for me (see <a href=\"https://stackoverflow.com/questions/22267191/is-it-possible-to-extend-webmvcconfigurationsupport-and-use-webmvcautoconfigurat\" title=\"is it possible to extend webmvcconfigurationsupport and use webmvcautoconfigurat\">stackoverflow.com/questions/22267191/&hellip;</a>)"},{"owner":{"account_id":3345758,"reputation":163,"user_id":2810944,"display_name":"alid"},"score":1,"creation_date":1516020776,"post_id":21176971,"comment_id":83509627,"body_markdown":"Overriding requestMappingHandlerMapping of WebMvcConfigurationSupport disables spring boot&#39;s auto configuration, hence things get really messy. DO NOT DO IT! You can override WebMvcRegistrationsAdapter: https://stackoverflow.com/a/45340695","body":"Overriding requestMappingHandlerMapping of WebMvcConfigurationSupport disables spring boot&#39;s auto configuration, hence things get really messy. DO NOT DO IT! You can override WebMvcRegistrationsAdapter: <a href=\"https://stackoverflow.com/a/45340695\">stackoverflow.com/a/45340695</a>"},{"owner":{"account_id":5715909,"reputation":15062,"user_id":4516110,"accept_rate":81,"display_name":"Mehraj Malik"},"score":1,"creation_date":1548069898,"post_id":21176971,"comment_id":95398584,"body_markdown":"**NOTE : THIS VERSION WILL NOT BE SHOWN IN SWAGGER FILE.**","body":"<b>NOTE : THIS VERSION WILL NOT BE SHOWN IN SWAGGER FILE.</b>"},{"owner":{"account_id":882029,"reputation":6941,"user_id":272451,"accept_rate":100,"display_name":"Thihara"},"score":0,"creation_date":1551283306,"post_id":21176971,"comment_id":96586076,"body_markdown":"This no longer works, when trying to define two methods with the same RequestMapping URI, an Caused by: java.lang.IllegalStateException: Ambiguous mapping. exception is thrown","body":"This no longer works, when trying to define two methods with the same RequestMapping URI, an Caused by: java.lang.IllegalStateException: Ambiguous mapping. exception is thrown"},{"owner":{"account_id":337881,"reputation":2204,"user_id":666414,"accept_rate":50,"display_name":"maxxyme"},"score":0,"creation_date":1598625309,"post_id":21176971,"comment_id":112528855,"body_markdown":"OK that might explain my surprise reading the code above, because actually in the version of `org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping` I found in `spring-webmvc-5.1.9.RELEASE.jar` both methods `getCustomMethodCondition()` and `getCustomTypeCondition()` return `null`, so I wonder what&#39;s the purpose of calling them...?!","body":"OK that might explain my surprise reading the code above, because actually in the version of <code>org.springframework.web.servlet.mvc.method.annotation.Reques&zwnj;&#8203;tMappingHandlerMappi&zwnj;&#8203;ng</code> I found in <code>spring-webmvc-5.1.9.RELEASE.jar</code> both methods <code>getCustomMethodCondition()</code> and <code>getCustomTypeCondition()</code> return <code>null</code>, so I wonder what&#39;s the purpose of calling them...?!"}],"tags":[],"owner":{"account_id":1390639,"reputation":23879,"user_id":1321564,"accept_rate":71,"display_name":"Benjamin M"},"comment_count":9,"down_vote_count":0,"up_vote_count":71,"is_accepted":false,"score":71,"last_activity_date":1486658512,"creation_date":1389926995,"answer_id":21176971,"question_id":20198275,"body_markdown":"I just created a custom solution. I&#39;m using the `@ApiVersion` annotation in combination with `@RequestMapping` annotation inside `@Controller` classes.\r\n\r\nExample:\r\n--\r\n\r\n\t@Controller\r\n\t@RequestMapping(&quot;x&quot;)\r\n\t@ApiVersion(1)\r\n\tclass MyController {\r\n\r\n\t\t@RequestMapping(&quot;a&quot;)\r\n\t\tvoid a() {}\t\t\t// maps to /v1/x/a\r\n\r\n\t\t@RequestMapping(&quot;b&quot;)\r\n\t\t@ApiVersion(2)\r\n\t\tvoid b() {}\t\t\t// maps to /v2/x/b\r\n\r\n\t\t@RequestMapping(&quot;c&quot;)\r\n\t\t@ApiVersion({1,3})\r\n\t\tvoid c() {}\t\t\t// maps to /v1/x/c\r\n\t\t\t\t\t\t\t//  and to /v3/x/c\r\n\r\n\t}\r\n\r\nImplementation:\r\n--\r\n\r\n**ApiVersion.java** annotation:\r\n\r\n\t@Target({ElementType.METHOD, ElementType.TYPE})\r\n\t@Retention(RetentionPolicy.RUNTIME)\r\n\tpublic @interface ApiVersion {\r\n\t\tint[] value();\r\n\t}\r\n\r\n**ApiVersionRequestMappingHandlerMapping.java** (this is mostly copy and paste from `RequestMappingHandlerMapping`):\r\n\r\n\tpublic class ApiVersionRequestMappingHandlerMapping extends RequestMappingHandlerMapping {\r\n\r\n\t\tprivate final String prefix;\r\n\t\r\n\t\tpublic ApiVersionRequestMappingHandlerMapping(String prefix) {\r\n\t\t\tthis.prefix = prefix;\r\n\t\t}\r\n\t\t\r\n\t\t@Override\r\n\t\tprotected RequestMappingInfo getMappingForMethod(Method method, Class&lt;?&gt; handlerType) {\r\n\t\t\tRequestMappingInfo info = super.getMappingForMethod(method, handlerType);\r\n\t\t\tif(info == null) return null;\r\n\r\n\t\t\tApiVersion methodAnnotation = AnnotationUtils.findAnnotation(method, ApiVersion.class);\r\n\t\t\tif(methodAnnotation != null) {\r\n\t\t\t\tRequestCondition&lt;?&gt; methodCondition = getCustomMethodCondition(method);\r\n\t\t\t\t// Concatenate our ApiVersion with the usual request mapping\r\n\t\t\t\tinfo = createApiVersionInfo(methodAnnotation, methodCondition).combine(info);\r\n\t\t\t} else {\r\n\t\t\t\tApiVersion typeAnnotation = AnnotationUtils.findAnnotation(handlerType, ApiVersion.class);\r\n\t\t\t\tif(typeAnnotation != null) {\r\n\t\t\t\t\tRequestCondition&lt;?&gt; typeCondition = getCustomTypeCondition(handlerType);\r\n\t\t\t\t\t// Concatenate our ApiVersion with the usual request mapping\r\n\t\t\t\t\tinfo = createApiVersionInfo(typeAnnotation, typeCondition).combine(info);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn info;\r\n\t\t}\r\n\t\t\r\n\t\tprivate RequestMappingInfo createApiVersionInfo(ApiVersion annotation, RequestCondition&lt;?&gt; customCondition) {\r\n\t\t\tint[] values = annotation.value();\r\n\t\t\tString[] patterns = new String[values.length];\r\n\t\t\tfor(int i=0; i&lt;values.length; i++) {\r\n\t\t\t\t// Build the URL prefix\r\n\t\t\t\tpatterns[i] = prefix+values[i]; \r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn new RequestMappingInfo(\r\n\t\t\t\t\tnew PatternsRequestCondition(patterns, getUrlPathHelper(), getPathMatcher(), useSuffixPatternMatch(), useTrailingSlashMatch(), getFileExtensions()),\r\n\t\t\t\t\tnew RequestMethodsRequestCondition(),\r\n\t\t\t\t\tnew ParamsRequestCondition(),\r\n\t\t\t\t\tnew HeadersRequestCondition(),\r\n\t\t\t\t\tnew ConsumesRequestCondition(),\r\n\t\t\t\t\tnew ProducesRequestCondition(),\r\n\t\t\t\t\tcustomCondition);\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\nInjection into WebMvcConfigurationSupport:\r\n\r\n\tpublic class WebMvcConfig extends WebMvcConfigurationSupport {\r\n\t\t@Override\r\n\t\tpublic RequestMappingHandlerMapping requestMappingHandlerMapping() {\r\n\t\t\treturn new ApiVersionRequestMappingHandlerMapping(&quot;v&quot;);\r\n\t\t}\r\n\t}","title":"How to manage REST API versioning with spring?","body":"<p>I just created a custom solution. I'm using the <code>@ApiVersion</code> annotation in combination with <code>@RequestMapping</code> annotation inside <code>@Controller</code> classes.</p>\n\n<h2>Example:</h2>\n\n<pre><code>@Controller\n@RequestMapping(\"x\")\n@ApiVersion(1)\nclass MyController {\n\n    @RequestMapping(\"a\")\n    void a() {}         // maps to /v1/x/a\n\n    @RequestMapping(\"b\")\n    @ApiVersion(2)\n    void b() {}         // maps to /v2/x/b\n\n    @RequestMapping(\"c\")\n    @ApiVersion({1,3})\n    void c() {}         // maps to /v1/x/c\n                        //  and to /v3/x/c\n\n}\n</code></pre>\n\n<h2>Implementation:</h2>\n\n<p><strong>ApiVersion.java</strong> annotation:</p>\n\n<pre><code>@Target({ElementType.METHOD, ElementType.TYPE})\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface ApiVersion {\n    int[] value();\n}\n</code></pre>\n\n<p><strong>ApiVersionRequestMappingHandlerMapping.java</strong> (this is mostly copy and paste from <code>RequestMappingHandlerMapping</code>):</p>\n\n<pre><code>public class ApiVersionRequestMappingHandlerMapping extends RequestMappingHandlerMapping {\n\n    private final String prefix;\n\n    public ApiVersionRequestMappingHandlerMapping(String prefix) {\n        this.prefix = prefix;\n    }\n\n    @Override\n    protected RequestMappingInfo getMappingForMethod(Method method, Class&lt;?&gt; handlerType) {\n        RequestMappingInfo info = super.getMappingForMethod(method, handlerType);\n        if(info == null) return null;\n\n        ApiVersion methodAnnotation = AnnotationUtils.findAnnotation(method, ApiVersion.class);\n        if(methodAnnotation != null) {\n            RequestCondition&lt;?&gt; methodCondition = getCustomMethodCondition(method);\n            // Concatenate our ApiVersion with the usual request mapping\n            info = createApiVersionInfo(methodAnnotation, methodCondition).combine(info);\n        } else {\n            ApiVersion typeAnnotation = AnnotationUtils.findAnnotation(handlerType, ApiVersion.class);\n            if(typeAnnotation != null) {\n                RequestCondition&lt;?&gt; typeCondition = getCustomTypeCondition(handlerType);\n                // Concatenate our ApiVersion with the usual request mapping\n                info = createApiVersionInfo(typeAnnotation, typeCondition).combine(info);\n            }\n        }\n\n        return info;\n    }\n\n    private RequestMappingInfo createApiVersionInfo(ApiVersion annotation, RequestCondition&lt;?&gt; customCondition) {\n        int[] values = annotation.value();\n        String[] patterns = new String[values.length];\n        for(int i=0; i&lt;values.length; i++) {\n            // Build the URL prefix\n            patterns[i] = prefix+values[i]; \n        }\n\n        return new RequestMappingInfo(\n                new PatternsRequestCondition(patterns, getUrlPathHelper(), getPathMatcher(), useSuffixPatternMatch(), useTrailingSlashMatch(), getFileExtensions()),\n                new RequestMethodsRequestCondition(),\n                new ParamsRequestCondition(),\n                new HeadersRequestCondition(),\n                new ConsumesRequestCondition(),\n                new ProducesRequestCondition(),\n                customCondition);\n    }\n\n}\n</code></pre>\n\n<p>Injection into WebMvcConfigurationSupport:</p>\n\n<pre><code>public class WebMvcConfig extends WebMvcConfigurationSupport {\n    @Override\n    public RequestMappingHandlerMapping requestMappingHandlerMapping() {\n        return new ApiVersionRequestMappingHandlerMapping(\"v\");\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2068200,"reputation":5211,"user_id":1843280,"accept_rate":38,"display_name":"Dan Hunex"},"score":1,"creation_date":1460567593,"post_id":35234966,"comment_id":60807478,"body_markdown":"+1 for sharing the code. However, inheritance tightly couples it. Instead. the Controllers(Test1 and Test2) should be just a pass through ...no logic implemenation. Everything logic should be in service class , someService. In that case, just use simple composition and never inherit from the other controller","body":"+1 for sharing the code. However, inheritance tightly couples it. Instead. the Controllers(Test1 and Test2) should be just a pass through ...no logic implemenation. Everything logic should be in service class , someService. In that case, just use simple composition and never inherit from the other controller"},{"owner":{"account_id":1993312,"reputation":1156,"user_id":1786819,"accept_rate":85,"display_name":"jeremieca"},"score":1,"creation_date":1529930790,"post_id":35234966,"comment_id":89040083,"body_markdown":"@dan-hunex It seems Ceekay use the inheritance to manage the different versions of the api. If you remove inheritance, what is the solution ? And why tightly couple is a problem in this example ? From my point of view, Test2 extends Test1 because it&#39;s an improvement of it (with same role and same responsibilities), isn&#39;t it ?","body":"@dan-hunex It seems Ceekay use the inheritance to manage the different versions of the api. If you remove inheritance, what is the solution ? And why tightly couple is a problem in this example ? From my point of view, Test2 extends Test1 because it&#39;s an improvement of it (with same role and same responsibilities), isn&#39;t it ?"}],"tags":[],"owner":{"account_id":1683393,"reputation":802,"user_id":1547153,"accept_rate":57,"display_name":"Tim Schimandle"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1454713110,"creation_date":1454713110,"answer_id":35234966,"question_id":20198275,"body_markdown":"What about just using inheritance to model versioning? That is what I&#39;m using in my project and it requires no special spring configuration and gets me exactly what I want.\r\n\r\n\r\n    @RestController\r\n    @RequestMapping(value = &quot;/test/1&quot;)\r\n    @Deprecated\r\n    public class Test1 {\r\n    ...Fields Getters Setters...\r\n        @RequestMapping(method = RequestMethod.GET)\r\n        @Deprecated\r\n        public Test getTest(Long id) {\r\n            return serviceClass.getTestById(id);\r\n        }\r\n        @RequestMapping(method = RequestMethod.PUT)\r\n        public Test getTest(Test test) {\r\n            return serviceClass.updateTest(test);\r\n        }\r\n    \r\n    }\r\n\r\n    @RestController\r\n    @RequestMapping(value = &quot;/test/2&quot;)\r\n    public class Test2 extends Test1 {\r\n    ...Fields Getters Setters...\r\n        @Override\r\n        @RequestMapping(method = RequestMethod.GET)\r\n        public Test getTest(Long id) {\r\n            return serviceClass.getAUpdated(id);\r\n        }\r\n    \r\n        @RequestMapping(method = RequestMethod.DELETE)\r\n        public Test deleteTest(Long id) {\r\n            return serviceClass.deleteTestById(id);\r\n        }\r\n    }\r\n\r\nThis set up allows for little duplication of code and the ability to overwrite methods into new versions of the api with little work. It also saves the need to complicate your source code with version switching logic. If you don&#39;t code an endpoint in a version it will grab the previous version by default.\r\n\r\nCompared to what others are doing this seems way easier. Is there something I&#39;m missing? ","title":"How to manage REST API versioning with spring?","body":"<p>What about just using inheritance to model versioning? That is what I'm using in my project and it requires no special spring configuration and gets me exactly what I want.</p>\n\n<pre><code>@RestController\n@RequestMapping(value = \"/test/1\")\n@Deprecated\npublic class Test1 {\n...Fields Getters Setters...\n    @RequestMapping(method = RequestMethod.GET)\n    @Deprecated\n    public Test getTest(Long id) {\n        return serviceClass.getTestById(id);\n    }\n    @RequestMapping(method = RequestMethod.PUT)\n    public Test getTest(Test test) {\n        return serviceClass.updateTest(test);\n    }\n\n}\n\n@RestController\n@RequestMapping(value = \"/test/2\")\npublic class Test2 extends Test1 {\n...Fields Getters Setters...\n    @Override\n    @RequestMapping(method = RequestMethod.GET)\n    public Test getTest(Long id) {\n        return serviceClass.getAUpdated(id);\n    }\n\n    @RequestMapping(method = RequestMethod.DELETE)\n    public Test deleteTest(Long id) {\n        return serviceClass.deleteTestById(id);\n    }\n}\n</code></pre>\n\n<p>This set up allows for little duplication of code and the ability to overwrite methods into new versions of the api with little work. It also saves the need to complicate your source code with version switching logic. If you don't code an endpoint in a version it will grab the previous version by default.</p>\n\n<p>Compared to what others are doing this seems way easier. Is there something I'm missing? </p>\n"},{"comments":[{"owner":{"account_id":13540458,"reputation":4811,"user_id":9768291,"display_name":"payne"},"score":1,"creation_date":1599578621,"post_id":39066141,"comment_id":112813655,"body_markdown":"I&#39;d love feedback from people that have tried this solution. :)","body":"I&#39;d love feedback from people that have tried this solution. :)"},{"owner":{"account_id":6160770,"reputation":1423,"user_id":4802448,"accept_rate":100,"display_name":"Daniel Eisenreich"},"score":1,"creation_date":1602241245,"post_id":39066141,"comment_id":113664919,"body_markdown":"Watch out: If you send a request with /v0 or /v-1 a infinite loop happens. To fix it you need to set `if (previousVersion != 0) {` to `&gt;0` and you need to catch the exception in `getPreviousVersion()` and return -1","body":"Watch out: If you send a request with /v0 or /v-1 a infinite loop happens. To fix it you need to set <code>if (previousVersion != 0) {</code> to <code>&gt;0</code> and you need to catch the exception in <code>getPreviousVersion()</code> and return -1"},{"owner":{"account_id":6160770,"reputation":1423,"user_id":4802448,"accept_rate":100,"display_name":"Daniel Eisenreich"},"score":0,"creation_date":1612510478,"post_id":39066141,"comment_id":116794121,"body_markdown":"With the latest Spring version `2.4.2` you need to adjust creating the new request to:https://gist.github.com/eisenreich/6ab40616a9e694bc2220c68ec3a01455","body":"With the latest Spring version <code>2.4.2</code> you need to adjust creating the new request to:<a href=\"https://gist.github.com/eisenreich/6ab40616a9e694bc2220c68ec3a01455\" rel=\"nofollow noreferrer\">gist.github.com/eisenreich/6ab40616a9e694bc2220c68ec3a014&zwnj;&#8203;55</a>"},{"owner":{"account_id":226936,"reputation":1578,"user_id":488265,"accept_rate":88,"display_name":"Jonas Gr&#246;ger"},"score":0,"creation_date":1633616030,"post_id":39066141,"comment_id":122811864,"body_markdown":"https://github.com/OAI/OpenAPI-Specification/issues/146 is solved in the OpenAPI 3.x spec","body":"<a href=\"https://github.com/OAI/OpenAPI-Specification/issues/146\" rel=\"nofollow noreferrer\">github.com/OAI/OpenAPI-Specification/issues/146</a> is solved in the OpenAPI 3.x spec"}],"tags":[],"owner":{"account_id":1931161,"reputation":1869,"user_id":1740520,"accept_rate":20,"display_name":"mspapant"},"comment_count":4,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1471795243,"creation_date":1471795243,"answer_id":39066141,"question_id":20198275,"body_markdown":"I have implemented a solution which handles **PERFECTLY** the problem with rest versioning.\r\n\r\nGeneral Speaking there are 3 major approaches for rest versioning:\r\n\r\n - **Path**-based approch, in which the client defines the version in URL:\r\n\r\n        http://localhost:9001/api/v1/user\r\n        http://localhost:9001/api/v2/user\r\n\r\n - **Content-Type** header, in which the client defines the version in **Accept** header:\r\n\r\n        http://localhost:9001/api/v1/user with \r\n        Accept: application/vnd.app-1.0+json OR application/vnd.app-2.0+json\r\n\r\n - **Custom Header**, in which the client defines the version in a custom header.\r\n\r\nThe **problem** with the **first** approach is that if you change the version let&#39;s say from v1 -&gt; v2, probably you need to copy-paste the v1 resources that haven&#39;t changed to v2 path \r\n\r\nThe **problem** with the **second** approach is that some tools like http://swagger.io/ cannot distinct between operations with same path but different Content-Type (check issue https://github.com/OAI/OpenAPI-Specification/issues/146)\r\n\r\n**The solution**\r\n\r\nSince i am working a lot with rest documentation tools, i prefer to use the first approach. My solution handles the **problem** with the first approach, so you don&#39;t need to copy-paste the endpoint to the new version.\r\n\r\nLet&#39;s say we have v1 and v2 versions for the User controller:\r\n\r\n    package com.mspapant.example.restVersion.controller;\r\n\r\n    import io.swagger.annotations.Api;\r\n    import io.swagger.annotations.ApiOperation;\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RequestMethod;\r\n    import org.springframework.web.bind.annotation.ResponseBody;\r\n\r\n    /**\r\n     * The user controller.\r\n     *\r\n     * @author : Manos Papantonakos on 19/8/2016.\r\n     */\r\n    @Controller\r\n    @Api(value = &quot;user&quot;, description = &quot;Operations about users&quot;)\r\n    public class UserController {\r\n\r\n        /**\r\n         * Return the user.\r\n         *\r\n         * @return the user\r\n         */\r\n        @ResponseBody\r\n        @RequestMapping(method = RequestMethod.GET, value = &quot;/api/v1/user&quot;)\r\n        @ApiOperation(value = &quot;Returns user&quot;, notes = &quot;Returns the user&quot;, tags = {&quot;GET&quot;, &quot;User&quot;})\r\n        public String getUserV1() {\r\n             return &quot;User V1&quot;;\r\n        }\r\n\r\n        /**\r\n         * Return the user.\r\n         *\r\n         * @return the user\r\n         */\r\n        @ResponseBody\r\n        @RequestMapping(method = RequestMethod.GET, value = &quot;/api/v2/user&quot;)\r\n        @ApiOperation(value = &quot;Returns user&quot;, notes = &quot;Returns the user&quot;, tags = {&quot;GET&quot;, &quot;User&quot;})\r\n        public String getUserV2() {\r\n             return &quot;User V2&quot;;\r\n        }\r\n     }\r\n\r\nThe **requirement** is if i request the **v1** for the user resource i have to take the **&quot;User V1&quot;** repsonse, otherwise if i request the **v2**, **v3** and so on i have to take the **&quot;User V2&quot;** response.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nIn order to implement this in spring, we need to override the default **RequestMappingHandlerMapping** behavior:\r\n\r\n    package com.mspapant.example.restVersion.conf.mapping;\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.web.method.HandlerMethod;\r\n    import org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping;\r\n\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletRequestWrapper;\r\n\r\n    public class VersionRequestMappingHandlerMapping extends RequestMappingHandlerMapping {\r\n\r\n        @Value(&quot;${server.apiContext}&quot;)\r\n        private String apiContext;\r\n\r\n        @Value(&quot;${server.versionContext}&quot;)\r\n        private String versionContext;\r\n\r\n        @Override\r\n        protected HandlerMethod lookupHandlerMethod(String lookupPath, HttpServletRequest request) throws Exception {\r\n            HandlerMethod method = super.lookupHandlerMethod(lookupPath, request);\r\n            if (method == null &amp;&amp; lookupPath.contains(getApiAndVersionContext())) {\r\n                String afterAPIURL = lookupPath.substring(lookupPath.indexOf(getApiAndVersionContext()) + getApiAndVersionContext().length());\r\n                String version = afterAPIURL.substring(0, afterAPIURL.indexOf(&quot;/&quot;));\r\n                String path = afterAPIURL.substring(version.length() + 1);\r\n\r\n                int previousVersion = getPreviousVersion(version);\r\n                if (previousVersion != 0) {\r\n                    lookupPath = getApiAndVersionContext() + previousVersion + &quot;/&quot; + path;\r\n                    final String lookupFinal = lookupPath;\r\n                    return lookupHandlerMethod(lookupPath, new HttpServletRequestWrapper(request) {\r\n                        @Override\r\n                        public String getRequestURI() {\r\n                            return lookupFinal;\r\n                        }\r\n\r\n                        @Override\r\n                        public String getServletPath() {\r\n                            return lookupFinal;\r\n                        }});\r\n                }\r\n            }\r\n            return method;\r\n        }\r\n\r\n        private String getApiAndVersionContext() {\r\n            return &quot;/&quot; + apiContext + &quot;/&quot; + versionContext;\r\n        }\r\n\r\n        private int getPreviousVersion(final String version) {\r\n            return new Integer(version) - 1 ;\r\n        }\r\n   }\r\n\r\nThe implementation reads the version in the URL and asks from spring to resolve the URL .In case this URL does not exists (for example the client requested **v3**) then we try with **v2** and so one until we find the **most recent version** for the resource.\r\n\r\nIn order to see the benefits from this implementation, let&#39;s say we have two resources: User and Company:\r\n\r\n    http://localhost:9001/api/v{version}/user\r\n    http://localhost:9001/api/v{version}/company\r\n\r\nLet&#39;s say we made a change in company &quot;contract&quot; that breaks the client. So we implement the `http://localhost:9001/api/v2/company` and we ask from client to change to v2 instead on v1.\r\n\r\nSo the new requests from client are: \r\n\r\n    http://localhost:9001/api/v2/user\r\n    http://localhost:9001/api/v2/company\r\n\r\ninstead of:\r\n\r\n    http://localhost:9001/api/v1/user\r\n    http://localhost:9001/api/v1/company\r\n\r\nThe **best** part here is that with this solution the client will get the user information from v1 and company information from v2 **without the need** to create a new (same) endpoint from user v2!\r\n\r\n\r\n**Rest Documentation**\r\nAs i said before the reason i select the URL-based versioning approach is that some tools like swagger do not document differently the endpoints with the same URL but different content type. With this solution, both endpoints are displayed since have different URL:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/pCP7v.png\r\n  [2]: http://i.stack.imgur.com/Hbeln.png\r\n\r\n\r\n**GIT**\r\n\r\nSolution implementation at:\r\nhttps://github.com/mspapant/restVersioningExample/\r\n","title":"How to manage REST API versioning with spring?","body":"<p>I have implemented a solution which handles <strong>PERFECTLY</strong> the problem with rest versioning.</p>\n\n<p>General Speaking there are 3 major approaches for rest versioning:</p>\n\n<ul>\n<li><p><strong>Path</strong>-based approch, in which the client defines the version in URL:</p>\n\n<pre><code>http://localhost:9001/api/v1/user\nhttp://localhost:9001/api/v2/user\n</code></pre></li>\n<li><p><strong>Content-Type</strong> header, in which the client defines the version in <strong>Accept</strong> header:</p>\n\n<pre><code>http://localhost:9001/api/v1/user with \nAccept: application/vnd.app-1.0+json OR application/vnd.app-2.0+json\n</code></pre></li>\n<li><p><strong>Custom Header</strong>, in which the client defines the version in a custom header.</p></li>\n</ul>\n\n<p>The <strong>problem</strong> with the <strong>first</strong> approach is that if you change the version let's say from v1 -> v2, probably you need to copy-paste the v1 resources that haven't changed to v2 path </p>\n\n<p>The <strong>problem</strong> with the <strong>second</strong> approach is that some tools like <a href=\"http://swagger.io/\" rel=\"noreferrer\">http://swagger.io/</a> cannot distinct between operations with same path but different Content-Type (check issue <a href=\"https://github.com/OAI/OpenAPI-Specification/issues/146\" rel=\"noreferrer\">https://github.com/OAI/OpenAPI-Specification/issues/146</a>)</p>\n\n<p><strong>The solution</strong></p>\n\n<p>Since i am working a lot with rest documentation tools, i prefer to use the first approach. My solution handles the <strong>problem</strong> with the first approach, so you don't need to copy-paste the endpoint to the new version.</p>\n\n<p>Let's say we have v1 and v2 versions for the User controller:</p>\n\n<pre><code>package com.mspapant.example.restVersion.controller;\n\nimport io.swagger.annotations.Api;\nimport io.swagger.annotations.ApiOperation;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\nimport org.springframework.web.bind.annotation.ResponseBody;\n\n/**\n * The user controller.\n *\n * @author : Manos Papantonakos on 19/8/2016.\n */\n@Controller\n@Api(value = \"user\", description = \"Operations about users\")\npublic class UserController {\n\n    /**\n     * Return the user.\n     *\n     * @return the user\n     */\n    @ResponseBody\n    @RequestMapping(method = RequestMethod.GET, value = \"/api/v1/user\")\n    @ApiOperation(value = \"Returns user\", notes = \"Returns the user\", tags = {\"GET\", \"User\"})\n    public String getUserV1() {\n         return \"User V1\";\n    }\n\n    /**\n     * Return the user.\n     *\n     * @return the user\n     */\n    @ResponseBody\n    @RequestMapping(method = RequestMethod.GET, value = \"/api/v2/user\")\n    @ApiOperation(value = \"Returns user\", notes = \"Returns the user\", tags = {\"GET\", \"User\"})\n    public String getUserV2() {\n         return \"User V2\";\n    }\n }\n</code></pre>\n\n<p>The <strong>requirement</strong> is if i request the <strong>v1</strong> for the user resource i have to take the <strong>\"User V1\"</strong> repsonse, otherwise if i request the <strong>v2</strong>, <strong>v3</strong> and so on i have to take the <strong>\"User V2\"</strong> response.</p>\n\n<p><a href=\"https://i.stack.imgur.com/pCP7v.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/pCP7v.png\" alt=\"enter image description here\"></a></p>\n\n<p>In order to implement this in spring, we need to override the default <strong>RequestMappingHandlerMapping</strong> behavior:</p>\n\n<pre><code>package com.mspapant.example.restVersion.conf.mapping;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.web.method.HandlerMethod;\nimport org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping;\n\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletRequestWrapper;\n\npublic class VersionRequestMappingHandlerMapping extends RequestMappingHandlerMapping {\n\n    @Value(\"${server.apiContext}\")\n    private String apiContext;\n\n    @Value(\"${server.versionContext}\")\n    private String versionContext;\n\n    @Override\n    protected HandlerMethod lookupHandlerMethod(String lookupPath, HttpServletRequest request) throws Exception {\n        HandlerMethod method = super.lookupHandlerMethod(lookupPath, request);\n        if (method == null &amp;&amp; lookupPath.contains(getApiAndVersionContext())) {\n            String afterAPIURL = lookupPath.substring(lookupPath.indexOf(getApiAndVersionContext()) + getApiAndVersionContext().length());\n            String version = afterAPIURL.substring(0, afterAPIURL.indexOf(\"/\"));\n            String path = afterAPIURL.substring(version.length() + 1);\n\n            int previousVersion = getPreviousVersion(version);\n            if (previousVersion != 0) {\n                lookupPath = getApiAndVersionContext() + previousVersion + \"/\" + path;\n                final String lookupFinal = lookupPath;\n                return lookupHandlerMethod(lookupPath, new HttpServletRequestWrapper(request) {\n                    @Override\n                    public String getRequestURI() {\n                        return lookupFinal;\n                    }\n\n                    @Override\n                    public String getServletPath() {\n                        return lookupFinal;\n                    }});\n            }\n        }\n        return method;\n    }\n\n    private String getApiAndVersionContext() {\n        return \"/\" + apiContext + \"/\" + versionContext;\n    }\n\n    private int getPreviousVersion(final String version) {\n        return new Integer(version) - 1 ;\n    }\n</code></pre>\n\n<p>}</p>\n\n<p>The implementation reads the version in the URL and asks from spring to resolve the URL .In case this URL does not exists (for example the client requested <strong>v3</strong>) then we try with <strong>v2</strong> and so one until we find the <strong>most recent version</strong> for the resource.</p>\n\n<p>In order to see the benefits from this implementation, let's say we have two resources: User and Company:</p>\n\n<pre><code>http://localhost:9001/api/v{version}/user\nhttp://localhost:9001/api/v{version}/company\n</code></pre>\n\n<p>Let's say we made a change in company \"contract\" that breaks the client. So we implement the <code>http://localhost:9001/api/v2/company</code> and we ask from client to change to v2 instead on v1.</p>\n\n<p>So the new requests from client are: </p>\n\n<pre><code>http://localhost:9001/api/v2/user\nhttp://localhost:9001/api/v2/company\n</code></pre>\n\n<p>instead of:</p>\n\n<pre><code>http://localhost:9001/api/v1/user\nhttp://localhost:9001/api/v1/company\n</code></pre>\n\n<p>The <strong>best</strong> part here is that with this solution the client will get the user information from v1 and company information from v2 <strong>without the need</strong> to create a new (same) endpoint from user v2!</p>\n\n<p><strong>Rest Documentation</strong>\nAs i said before the reason i select the URL-based versioning approach is that some tools like swagger do not document differently the endpoints with the same URL but different content type. With this solution, both endpoints are displayed since have different URL:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Hbeln.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Hbeln.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>GIT</strong></p>\n\n<p>Solution implementation at:\n<a href=\"https://github.com/mspapant/restVersioningExample/\" rel=\"noreferrer\">https://github.com/mspapant/restVersioningExample/</a></p>\n"},{"tags":[],"owner":{"account_id":2774008,"reputation":18025,"user_id":2387977,"accept_rate":69,"display_name":"Dherik"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1641493077,"creation_date":1554408593,"answer_id":55524151,"question_id":20198275,"body_markdown":"I already tried to version my API using the *URI Versioning*, like:\r\n\r\n    /api/v1/orders\r\n    /api/v2/orders\r\n\r\nBut there are some challenges when trying to make this work: how organize your code with different versions? How manage two (or more) versions at the same time? What&#39;s the impact when removing some version?\r\n\r\nThe best alternative that I found was not version the entire API, but **control the version on each endpoint**. This pattern is called [Versioning using Accept header][1] or [Versioning through content negotiation][2]:\r\n\r\n&gt; This approach allows us to version a single resource representation\r\n&gt; instead of versioning the entire API which gives us a more granular\r\n&gt; control over versioning. It also creates a smaller footprint in the\r\n&gt; code base as we dont have to fork the entire application when\r\n&gt; creating a new version. Another advantage of this approach is that it\r\n&gt; doesnt require implementing URI routing rules introduced by\r\n&gt; versioning through the URI path.\r\n\r\n# Implementation on Spring\r\n\r\nFirst, you create a Controller with a `produces` attribute, that will applied by default on each endpoint inside the same class.\r\n\r\n    @RestController\r\n    @RequestMapping(value = &quot;/api/orders/&quot;, produces = &quot;application/vnd.company.etc.v1+json&quot;)\r\n    public class OrderController {\r\n    \r\n    }\r\n\r\nAfter that, we can imagine a possible scenario where you have two versions (*v1* and *v2*) of an endpoint for &quot;create an order&quot;:\r\n\r\n\r\n    @Deprecated\r\n\t@PostMapping\r\n\tpublic ResponseEntity&lt;OrderResponse&gt; createV1(\r\n\t\t\t@RequestBody OrderRequest orderRequest) {\r\n\r\n\t\tOrderResponse response = createOrderService.createOrder(orderRequest);\r\n\t\treturn new ResponseEntity&lt;&gt;(response, HttpStatus.CREATED);\r\n\t}\r\n\r\n\t@PostMapping(\r\n\t\t\tproduces = &quot;application/vnd.company.etc.v2+json&quot;,\r\n\t\t\tconsumes = &quot;application/vnd.company.etc.v2+json&quot;)\r\n\tpublic ResponseEntity&lt;OrderResponseV2&gt; createV2(\r\n\t\t\t@RequestBody OrderRequestV2 orderRequest) {\r\n\r\n\t\tOrderResponse response = createOrderService.createOrder(orderRequest);\r\n\t\treturn new ResponseEntity&lt;&gt;(response, HttpStatus.CREATED);\r\n\t}\r\n\r\nDone! Just call each endpoint using the desired *Http Header* version:\r\n\r\n    Content-Type: application/vnd.company.etc.v1+json\r\n\r\nOr, to call the v2:\r\n\r\n    Content-Type: application/vnd.company.etc.v2+json\r\n\r\nAbout your worries:\r\n\r\n&gt; And since not all methods in an API change in the same release, I\r\n&gt; don&#39;t want to go to each of my controllers and change anything for a\r\n&gt; handler that hasn&#39;t changed between versions\r\n\r\nAs explained, this strategy maintains each Controller and endpoint with his actual version. You only modify the endpoint that have modifications and needs a new version.\r\n\r\n# And the Swagger?\r\n\r\nSetup the Swagger with different versions is also very easy using this strategy. [See this answer][3] to more details.\r\n\r\n\r\n  [1]: https://restfulapi.net/versioning/\r\n  [2]: https://www.xmatters.com/integrations/blog-four-rest-api-versioning-strategies/\r\n  [3]: https://stackoverflow.com/a/53615701/2387977","title":"How to manage REST API versioning with spring?","body":"<p>I already tried to version my API using the <em>URI Versioning</em>, like:</p>\n<pre><code>/api/v1/orders\n/api/v2/orders\n</code></pre>\n<p>But there are some challenges when trying to make this work: how organize your code with different versions? How manage two (or more) versions at the same time? What's the impact when removing some version?</p>\n<p>The best alternative that I found was not version the entire API, but <strong>control the version on each endpoint</strong>. This pattern is called <a href=\"https://restfulapi.net/versioning/\" rel=\"nofollow noreferrer\">Versioning using Accept header</a> or <a href=\"https://www.xmatters.com/integrations/blog-four-rest-api-versioning-strategies/\" rel=\"nofollow noreferrer\">Versioning through content negotiation</a>:</p>\n<blockquote>\n<p>This approach allows us to version a single resource representation\ninstead of versioning the entire API which gives us a more granular\ncontrol over versioning. It also creates a smaller footprint in the\ncode base as we dont have to fork the entire application when\ncreating a new version. Another advantage of this approach is that it\ndoesnt require implementing URI routing rules introduced by\nversioning through the URI path.</p>\n</blockquote>\n<h1>Implementation on Spring</h1>\n<p>First, you create a Controller with a <code>produces</code> attribute, that will applied by default on each endpoint inside the same class.</p>\n<pre><code>@RestController\n@RequestMapping(value = &quot;/api/orders/&quot;, produces = &quot;application/vnd.company.etc.v1+json&quot;)\npublic class OrderController {\n\n}\n</code></pre>\n<p>After that, we can imagine a possible scenario where you have two versions (<em>v1</em> and <em>v2</em>) of an endpoint for &quot;create an order&quot;:</p>\n<pre><code>@Deprecated\n@PostMapping\npublic ResponseEntity&lt;OrderResponse&gt; createV1(\n        @RequestBody OrderRequest orderRequest) {\n\n    OrderResponse response = createOrderService.createOrder(orderRequest);\n    return new ResponseEntity&lt;&gt;(response, HttpStatus.CREATED);\n}\n\n@PostMapping(\n        produces = &quot;application/vnd.company.etc.v2+json&quot;,\n        consumes = &quot;application/vnd.company.etc.v2+json&quot;)\npublic ResponseEntity&lt;OrderResponseV2&gt; createV2(\n        @RequestBody OrderRequestV2 orderRequest) {\n\n    OrderResponse response = createOrderService.createOrder(orderRequest);\n    return new ResponseEntity&lt;&gt;(response, HttpStatus.CREATED);\n}\n</code></pre>\n<p>Done! Just call each endpoint using the desired <em>Http Header</em> version:</p>\n<pre><code>Content-Type: application/vnd.company.etc.v1+json\n</code></pre>\n<p>Or, to call the v2:</p>\n<pre><code>Content-Type: application/vnd.company.etc.v2+json\n</code></pre>\n<p>About your worries:</p>\n<blockquote>\n<p>And since not all methods in an API change in the same release, I\ndon't want to go to each of my controllers and change anything for a\nhandler that hasn't changed between versions</p>\n</blockquote>\n<p>As explained, this strategy maintains each Controller and endpoint with his actual version. You only modify the endpoint that have modifications and needs a new version.</p>\n<h1>And the Swagger?</h1>\n<p>Setup the Swagger with different versions is also very easy using this strategy. <a href=\"https://stackoverflow.com/a/53615701/2387977\">See this answer</a> to more details.</p>\n"},{"comments":[{"owner":{"account_id":301230,"reputation":28997,"user_id":608820,"accept_rate":89,"display_name":"Augusto"},"score":1,"creation_date":1680022417,"post_id":75868902,"comment_id":133824602,"body_markdown":"Just to share that you can drop Spring with Kotlin. There&#39;s no need of all the magic it adds. For kotlin there are far better alternatives that were created with testing at the core. Please check http4k. In a more related topic, over time I found that adding the version to the URL was a lot simpler for developers to understand.","body":"Just to share that you can drop Spring with Kotlin. There&#39;s no need of all the magic it adds. For kotlin there are far better alternatives that were created with testing at the core. Please check http4k. In a more related topic, over time I found that adding the version to the URL was a lot simpler for developers to understand."}],"tags":[],"owner":{"account_id":20070912,"reputation":23,"user_id":14715699,"display_name":"IvarAlek"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680022470,"creation_date":1680021833,"answer_id":75868902,"question_id":20198275,"body_markdown":"Just wanted to share my **Kotlin / Spring 5.3.x implementation** of URL versioning, in case someone finds it useful.\r\n\r\nI have an **Annotation** class defining start and end version. If the end version is not set, it&#39;s only valid for a single version. \r\n\r\n    const val VERSION_PREFIX = &quot;v&quot;\r\n\r\n    @Target(AnnotationTarget.FUNCTION, AnnotationTarget.CLASS)\r\n    @Retention(AnnotationRetention.RUNTIME)\r\n    annotation class VersionedResource(\r\n        val version: Int,\r\n        val toVersion: Int = 0\r\n    )\r\n    \r\n    fun VersionedResource.validate() {\r\n        /* Do whatever validation you need */\r\n    }\r\n\r\n    fun VersionedResource.getRange(): IntRange {\r\n        validate()\r\n        return if (toVersion == 0) version..version\r\n        else version..toVersion\r\n    }\r\n\r\nThis is then utilized by a **custom RequestMappingHandlerMapping** like this: \r\n\r\n    class VersionedRequestHandlerMapping : RequestMappingHandlerMapping() {\r\n\r\n    companion object {\r\n        val logger: Logger = LoggerFactory.getLogger(this::class.java)\r\n    }\r\n\r\n    override fun getMappingForMethod(method: Method, handlerType: Class&lt;*&gt;): RequestMappingInfo? {\r\n        val mappingInfo = super.getMappingForMethod(method, handlerType) ?: return null\r\n        val versions = getAndValidateAnnotatedVersions(method, handlerType) ?: return mappingInfo\r\n\r\n        val versionedPatterns = mutableSetOf&lt;String&gt;()\r\n        mappingInfo.patternsCondition?.apply {\r\n            patterns.forEach { path -&gt;\r\n                versions.forEach { version -&gt;\r\n                    &quot;/$VERSION_PREFIX$version$path&quot;\r\n                        .apply { versionedPatterns.add(this) }\r\n                        .also { logger.debug(&quot;Generated versioned request-mapping: &#39;$it&#39;&quot;) }\r\n                }\r\n            }\r\n        } ?: throw IllegalStateException(\r\n            &quot;Cannot create versioned request mapping patterns when there are no patterns from before.&quot;\r\n        )\r\n\r\n        return buildRequestMappingWithNewPaths(versionedPatterns, mappingInfo)\r\n    }\r\n\r\n    private fun getAndValidateAnnotatedVersions(\r\n        method: Method,\r\n        handlerType: Class&lt;*&gt;\r\n    ): IntRange? {\r\n        return (AnnotationUtils.findAnnotation(method, VersionedResource::class.java) // Prioritizes method before class\r\n            ?: AnnotationUtils.findAnnotation(handlerType, VersionedResource::class.java))\r\n            ?.run { getRange() }\r\n    }\r\n\r\n    private fun buildRequestMappingWithNewPaths(\r\n        versionedPatterns: Set&lt;String&gt;,\r\n        mappingInfo: RequestMappingInfo\r\n    ): RequestMappingInfo {\r\n        return RequestMappingInfo\r\n            .paths(*versionedPatterns.toTypedArray())\r\n            .methods(*mappingInfo.methodsCondition.methods.toTypedArray())\r\n            .params(*mappingInfo.paramsCondition.expressions.map { it.toString() }.toTypedArray())\r\n            .headers(*mappingInfo.headersCondition.expressions.map { it.toString() }.toTypedArray())\r\n            .consumes(*mappingInfo.consumesCondition.expressions.map { it.toString() }.toTypedArray())\r\n            .produces(*mappingInfo.producesCondition.expressions.map { it.toString() }.toTypedArray())\r\n            .apply { mappingInfo.name?.let { mappingName(it) } }\r\n            .build()\r\n    }\r\n    }\r\n\r\n**Config** looks like this. \r\n\r\n    @Configuration\r\n    class VersionedResourceConfig : DelegatingWebMvcConfiguration() {\r\n    \r\n        @Autowired\r\n        private lateinit var context: ApplicationContext\r\n    \r\n        @Autowired\r\n        private lateinit var jacksonObjectMapper: ObjectMapper\r\n    \r\n        override fun createRequestMappingHandlerMapping(): RequestMappingHandlerMapping {\r\n            return VersionedRequestHandlerMapping().apply {\r\n                applicationContext = context\r\n                setRemoveSemicolonContent(false)\r\n                setDetectHandlerMethodsInAncestorContexts(true)\r\n            }\r\n        }\r\n    \r\n        // For some reason I needed to add this, since it was being overridden \r\n        override fun configureMessageConverters(converters: MutableList&lt;HttpMessageConverter&lt;*&gt;?&gt;) {\r\n            converters.add(MappingJackson2HttpMessageConverter(jacksonObjectMapper))\r\n            super.configureMessageConverters(converters)\r\n        }\r\n    }\r\n\r\nNow I&#39;m able to define a **versioned resource** like this: \r\n\r\n    @RestController\r\n    @VersionedResource(version = 1, toVersion =  2)\r\n    @RequestMapping(path = [&quot;/some/resource&quot;]) // Should handle multiple paths as well\r\n    class SomeResource() {\r\n    \r\n        @GetMapping\r\n        fun getSomething() {\r\n            // Will be mapped to /v1/some/resource and /v2/some/resource\r\n        }\r\n    \r\n        @VersionedResource(2)\r\n        @GetMapping(&quot;stuff&quot;)\r\n        fun getSomethingElse() {\r\n            // Will be mapped only to /v2/some/resource/stuff (overrides class spec)\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n","title":"How to manage REST API versioning with spring?","body":"<p>Just wanted to share my <strong>Kotlin / Spring 5.3.x implementation</strong> of URL versioning, in case someone finds it useful.</p>\n<p>I have an <strong>Annotation</strong> class defining start and end version. If the end version is not set, it's only valid for a single version.</p>\n<pre><code>const val VERSION_PREFIX = &quot;v&quot;\n\n@Target(AnnotationTarget.FUNCTION, AnnotationTarget.CLASS)\n@Retention(AnnotationRetention.RUNTIME)\nannotation class VersionedResource(\n    val version: Int,\n    val toVersion: Int = 0\n)\n\nfun VersionedResource.validate() {\n    /* Do whatever validation you need */\n}\n\nfun VersionedResource.getRange(): IntRange {\n    validate()\n    return if (toVersion == 0) version..version\n    else version..toVersion\n}\n</code></pre>\n<p>This is then utilized by a <strong>custom RequestMappingHandlerMapping</strong> like this:</p>\n<pre><code>class VersionedRequestHandlerMapping : RequestMappingHandlerMapping() {\n\ncompanion object {\n    val logger: Logger = LoggerFactory.getLogger(this::class.java)\n}\n\noverride fun getMappingForMethod(method: Method, handlerType: Class&lt;*&gt;): RequestMappingInfo? {\n    val mappingInfo = super.getMappingForMethod(method, handlerType) ?: return null\n    val versions = getAndValidateAnnotatedVersions(method, handlerType) ?: return mappingInfo\n\n    val versionedPatterns = mutableSetOf&lt;String&gt;()\n    mappingInfo.patternsCondition?.apply {\n        patterns.forEach { path -&gt;\n            versions.forEach { version -&gt;\n                &quot;/$VERSION_PREFIX$version$path&quot;\n                    .apply { versionedPatterns.add(this) }\n                    .also { logger.debug(&quot;Generated versioned request-mapping: '$it'&quot;) }\n            }\n        }\n    } ?: throw IllegalStateException(\n        &quot;Cannot create versioned request mapping patterns when there are no patterns from before.&quot;\n    )\n\n    return buildRequestMappingWithNewPaths(versionedPatterns, mappingInfo)\n}\n\nprivate fun getAndValidateAnnotatedVersions(\n    method: Method,\n    handlerType: Class&lt;*&gt;\n): IntRange? {\n    return (AnnotationUtils.findAnnotation(method, VersionedResource::class.java) // Prioritizes method before class\n        ?: AnnotationUtils.findAnnotation(handlerType, VersionedResource::class.java))\n        ?.run { getRange() }\n}\n\nprivate fun buildRequestMappingWithNewPaths(\n    versionedPatterns: Set&lt;String&gt;,\n    mappingInfo: RequestMappingInfo\n): RequestMappingInfo {\n    return RequestMappingInfo\n        .paths(*versionedPatterns.toTypedArray())\n        .methods(*mappingInfo.methodsCondition.methods.toTypedArray())\n        .params(*mappingInfo.paramsCondition.expressions.map { it.toString() }.toTypedArray())\n        .headers(*mappingInfo.headersCondition.expressions.map { it.toString() }.toTypedArray())\n        .consumes(*mappingInfo.consumesCondition.expressions.map { it.toString() }.toTypedArray())\n        .produces(*mappingInfo.producesCondition.expressions.map { it.toString() }.toTypedArray())\n        .apply { mappingInfo.name?.let { mappingName(it) } }\n        .build()\n}\n}\n</code></pre>\n<p><strong>Config</strong> looks like this.</p>\n<pre><code>@Configuration\nclass VersionedResourceConfig : DelegatingWebMvcConfiguration() {\n\n    @Autowired\n    private lateinit var context: ApplicationContext\n\n    @Autowired\n    private lateinit var jacksonObjectMapper: ObjectMapper\n\n    override fun createRequestMappingHandlerMapping(): RequestMappingHandlerMapping {\n        return VersionedRequestHandlerMapping().apply {\n            applicationContext = context\n            setRemoveSemicolonContent(false)\n            setDetectHandlerMethodsInAncestorContexts(true)\n        }\n    }\n\n    // For some reason I needed to add this, since it was being overridden \n    override fun configureMessageConverters(converters: MutableList&lt;HttpMessageConverter&lt;*&gt;?&gt;) {\n        converters.add(MappingJackson2HttpMessageConverter(jacksonObjectMapper))\n        super.configureMessageConverters(converters)\n    }\n}\n</code></pre>\n<p>Now I'm able to define a <strong>versioned resource</strong> like this:</p>\n<pre><code>@RestController\n@VersionedResource(version = 1, toVersion =  2)\n@RequestMapping(path = [&quot;/some/resource&quot;]) // Should handle multiple paths as well\nclass SomeResource() {\n\n    @GetMapping\n    fun getSomething() {\n        // Will be mapped to /v1/some/resource and /v2/some/resource\n    }\n\n    @VersionedResource(2)\n    @GetMapping(&quot;stuff&quot;)\n    fun getSomethingElse() {\n        // Will be mapped only to /v2/some/resource/stuff (overrides class spec)\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":301230,"reputation":28997,"user_id":608820,"accept_rate":89,"display_name":"Augusto"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":130916,"favorite_count":0,"down_vote_count":1,"up_vote_count":151,"accepted_answer_id":20346070,"answer_count":10,"score":150,"last_activity_date":1680022470,"creation_date":1385397469,"question_id":20198275,"body_markdown":"I&#39;ve been searching how to manage a REST API versions using Spring 3.2.x, but I haven&#39;t find anything that is easy to maintain. I&#39;ll explain first the problem I have, and then a solution... but I do wonder if I&#39;m re-inventing the wheel here.\n\nI want to manage the version based on the Accept header, and for example if a request has the Accept header `application/vnd.company.app-1.1+json`, I want spring MVC to forward this to the method that handles this version. And since not all methods in an API change in the same release, I don&#39;t want to go to each of my controllers and change anything for a handler that hasn&#39;t changed between versions. I also don&#39;t want to have the logic to figure out which version to use in the controller themselves (using service locators) as Spring is already discovering which method to call.\n\nSo taken an API with versions 1.0, to 1.8 where a handler was introduced in version 1.0 and modified in v1.7, I would like handle this in the following way. Imagine that the code is inside a controller, and that there&#39;s some code that is able to extract the version from the header. (The following is invalid in Spring)\n\n    @RequestMapping(...)\n    @VersionRange(1.0,1.6)\n    @ResponseBody\n    public Object method1() {\n       // so something\n       return object;\n    }\n\n    @RequestMapping(...) //same Request mapping annotation\n    @VersionRange(1.7)\n    @ResponseBody\n    public Object method2() {\n       // so something\n       return object;\n    }\n\nThis is not possible in spring as the 2 methods have the same `RequestMapping` annotation and Spring fails to load. The idea is that the `VersionRange` annotation can define an open or closed version range. The first method is valid from versions 1.0 to 1.6, while the second for version 1.7 onwards (including the latest version 1.8). I know that this approach breaks if someone decides to pass version 99.99, but that&#39;s something I&#39;m OK to live with.\n\n\nNow, since the above is not possible without a serious rework of how spring works, I was thinking of tinkering with the way handlers matched to requests, in particular to write my own `ProducesRequestCondition`, and have the version range in there. For example\n\nCode:\n\n    @RequestMapping(..., produces = &quot;application/vnd.company.app-[1.0-1.6]+json)\n    @ResponseBody\n    public Object method1() {\n       // so something\n       return object;\n    }\n \n    @RequestMapping(..., produces = &quot;application/vnd.company.app-[1.7-]+json)\n    @ResponseBody\n    public Object method2() {\n       // so something\n       return object;\n    }\n\nIn this way, I can have closed or open version ranges defined in the produces part of the annotation. I&#39;m working on this solution now, with the problem that I still had to replace some core Spring MVC classes (`RequestMappingInfoHandlerMapping`, `RequestMappingHandlerMapping` and `RequestMappingInfo`), which I don&#39;t like, because it means extra work whenever I decide to upgrade to a newer version of spring.\n\n\nI would appreciate any thoughts... and especially, any suggestion to do this in a simpler, easier to maintain way.\n\n---\n## Edit\nAdding a bounty. To get the bounty, please answer the question above without suggesting to have this logic in the controller themselves. Spring already has a lot of logic to select which controller method to call, and I want to piggyback on that.\n\n---\n## Edit 2\nI&#39;ve shared the original POC (with some improvements) in github: https://github.com/augusto/restVersioning\n","title":"How to manage REST API versioning with spring?","body":"<p>I've been searching how to manage a REST API versions using Spring 3.2.x, but I haven't find anything that is easy to maintain. I'll explain first the problem I have, and then a solution... but I do wonder if I'm re-inventing the wheel here.</p>\n<p>I want to manage the version based on the Accept header, and for example if a request has the Accept header <code>application/vnd.company.app-1.1+json</code>, I want spring MVC to forward this to the method that handles this version. And since not all methods in an API change in the same release, I don't want to go to each of my controllers and change anything for a handler that hasn't changed between versions. I also don't want to have the logic to figure out which version to use in the controller themselves (using service locators) as Spring is already discovering which method to call.</p>\n<p>So taken an API with versions 1.0, to 1.8 where a handler was introduced in version 1.0 and modified in v1.7, I would like handle this in the following way. Imagine that the code is inside a controller, and that there's some code that is able to extract the version from the header. (The following is invalid in Spring)</p>\n<pre><code>@RequestMapping(...)\n@VersionRange(1.0,1.6)\n@ResponseBody\npublic Object method1() {\n   // so something\n   return object;\n}\n\n@RequestMapping(...) //same Request mapping annotation\n@VersionRange(1.7)\n@ResponseBody\npublic Object method2() {\n   // so something\n   return object;\n}\n</code></pre>\n<p>This is not possible in spring as the 2 methods have the same <code>RequestMapping</code> annotation and Spring fails to load. The idea is that the <code>VersionRange</code> annotation can define an open or closed version range. The first method is valid from versions 1.0 to 1.6, while the second for version 1.7 onwards (including the latest version 1.8). I know that this approach breaks if someone decides to pass version 99.99, but that's something I'm OK to live with.</p>\n<p>Now, since the above is not possible without a serious rework of how spring works, I was thinking of tinkering with the way handlers matched to requests, in particular to write my own <code>ProducesRequestCondition</code>, and have the version range in there. For example</p>\n<p>Code:</p>\n<pre><code>@RequestMapping(..., produces = &quot;application/vnd.company.app-[1.0-1.6]+json)\n@ResponseBody\npublic Object method1() {\n   // so something\n   return object;\n}\n\n@RequestMapping(..., produces = &quot;application/vnd.company.app-[1.7-]+json)\n@ResponseBody\npublic Object method2() {\n   // so something\n   return object;\n}\n</code></pre>\n<p>In this way, I can have closed or open version ranges defined in the produces part of the annotation. I'm working on this solution now, with the problem that I still had to replace some core Spring MVC classes (<code>RequestMappingInfoHandlerMapping</code>, <code>RequestMappingHandlerMapping</code> and <code>RequestMappingInfo</code>), which I don't like, because it means extra work whenever I decide to upgrade to a newer version of spring.</p>\n<p>I would appreciate any thoughts... and especially, any suggestion to do this in a simpler, easier to maintain way.</p>\n<hr />\n<h2>Edit</h2>\n<p>Adding a bounty. To get the bounty, please answer the question above without suggesting to have this logic in the controller themselves. Spring already has a lot of logic to select which controller method to call, and I want to piggyback on that.</p>\n<hr />\n<h2>Edit 2</h2>\n<p>I've shared the original POC (with some improvements) in github: <a href=\"https://github.com/augusto/restVersioning\" rel=\"noreferrer\">https://github.com/augusto/restVersioning</a></p>\n"},{"tags":["java","generics","comparator"],"comments":[{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1679838334,"post_id":75848087,"comment_id":133788777,"body_markdown":"You need to use a generic comparator which takes a `method reference` or `lambda` which acts as a key extractor to be used for the comparisons.  Take a look at the `Comparator` interface source code included with the `JDK`, usually in `src.zip` to see how it is written.  Or just use the one included in the `JDK`.","body":"You need to use a generic comparator which takes a <code>method reference</code> or <code>lambda</code> which acts as a key extractor to be used for the comparisons.  Take a look at the <code>Comparator</code> interface source code included with the <code>JDK</code>, usually in <code>src.zip</code> to see how it is written.  Or just use the one included in the <code>JDK</code>."},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":1,"creation_date":1679838533,"post_id":75848087,"comment_id":133788797,"body_markdown":"Note: There&#39;s not really a need to check the `src.zip` which may or may not be present - it is [available on GitHub](https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/Comparator.java)","body":"Note: There&#39;s not really a need to check the <code>src.zip</code> which may or may not be present - it is <a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/Comparator.java\" rel=\"nofollow noreferrer\">available on GitHub</a>"},{"owner":{"account_id":195169,"reputation":2946,"user_id":1128593,"display_name":"David Jones"},"score":0,"creation_date":1679849535,"post_id":75848087,"comment_id":133790565,"body_markdown":"You declared `T extends Comparable` but Event doesn&#39;t implement Comparable so it isn&#39;t a suitable T.","body":"You declared <code>T extends Comparable</code> but Event doesn&#39;t implement Comparable so it isn&#39;t a suitable T."},{"owner":{"account_id":28129084,"reputation":11,"user_id":21493967,"display_name":"XterS"},"score":0,"creation_date":1679926333,"post_id":75848087,"comment_id":133803732,"body_markdown":"@DavidJones thank you, turns out I didn&#39;t need generic type T to implement Comparable in this case","body":"@DavidJones thank you, turns out I didn&#39;t need generic type T to implement Comparable in this case"}],"answers":[{"comments":[{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1680022217,"post_id":75858570,"comment_id":133824556,"body_markdown":"You can do that.  But you will need to make the `Node` array `Node&lt;T&gt;[]`  And the compare method I wrote won&#39;t work because type `T` may not be able to compare using `&lt;, &gt;, or ==`.  I would also recommend using a `List&lt;Node&lt;T&gt;&gt;` over an array as generic arrays don&#39;t work well with Java (they work but they can be messy).","body":"You can do that.  But you will need to make the <code>Node</code> array <code>Node&lt;T&gt;[]</code>  And the compare method I wrote won&#39;t work because type <code>T</code> may not be able to compare using <code>&lt;, &gt;, or ==</code>.  I would also recommend using a <code>List&lt;Node&lt;T&gt;&gt;</code> over an array as generic arrays don&#39;t work well with Java (they work but they can be messy)."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1680022565,"post_id":75858570,"comment_id":133824637,"body_markdown":"I updated my answer to make it generic.  Type T refers to the payload on which you  are sorting.","body":"I updated my answer to make it generic.  Type T refers to the payload on which you  are sorting."}],"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680022445,"creation_date":1679937350,"answer_id":75858570,"question_id":75848087,"body_markdown":"I find your design somewhat confusing and overly complicated. So here are some suggestions.\r\n\r\n- Define a `QuickSort` class that has a `static quickSort` method.\r\n- Define a `Node` class (or record) that has the data types on which to sort.  Doing it this way makes it easier to specify multiple Comparator options and also allows the quick sort to be used for a list of Nodes that have different values and types to be sorted.\r\n- First, get you `quickSort` working with no specified comparator.\r\n- Then, get it working using a comparator from the `Comparator interface`. Try different options such as `reverseOrder()`, `thenComparing()`, `etc`.  \r\n\r\nUnless you have to implement your own comparator, you can stop here.  Otherwise, since everthing works, you can focus on your comparators which greatly limits where any developmental errors would originate.\r\n\r\nI would start with something like the following:\r\n```\r\nrecord Node&lt;T&gt;(T data1, T data2) {\r\n}\r\n\r\nclass QuickSort {\r\n    public static &lt;T&gt; void quickSort(Node&lt;T&gt;[] nodes, int low, int high, \r\n                Comparator&lt;Node&lt;T&gt;&gt; comp) { //initially, comp can be ignored.\r\n  \r\n}\r\n```\r\n\r\n```\r\n","title":"How to address a Comparator of a class in external generic method?","body":"<p>I find your design somewhat confusing and overly complicated. So here are some suggestions.</p>\n<ul>\n<li>Define a <code>QuickSort</code> class that has a <code>static quickSort</code> method.</li>\n<li>Define a <code>Node</code> class (or record) that has the data types on which to sort.  Doing it this way makes it easier to specify multiple Comparator options and also allows the quick sort to be used for a list of Nodes that have different values and types to be sorted.</li>\n<li>First, get you <code>quickSort</code> working with no specified comparator.</li>\n<li>Then, get it working using a comparator from the <code>Comparator interface</code>. Try different options such as <code>reverseOrder()</code>, <code>thenComparing()</code>, <code>etc</code>.</li>\n</ul>\n<p>Unless you have to implement your own comparator, you can stop here.  Otherwise, since everthing works, you can focus on your comparators which greatly limits where any developmental errors would originate.</p>\n<p>I would start with something like the following:</p>\n<pre><code>record Node&lt;T&gt;(T data1, T data2) {\n}\n\nclass QuickSort {\n    public static &lt;T&gt; void quickSort(Node&lt;T&gt;[] nodes, int low, int high, \n                Comparator&lt;Node&lt;T&gt;&gt; comp) { //initially, comp can be ignored.\n  \n}\n</code></pre>\n<pre><code></code></pre>\n"}],"owner":{"account_id":28129084,"reputation":11,"user_id":21493967,"display_name":"XterS"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680022445,"creation_date":1679837779,"question_id":75848087,"body_markdown":"I&#39;m looking into how to use comparators to perform comparisons based on different fields.\r\nSo I created a class `Event`, which contains two Comparators. \r\n\r\n    \r\n```\r\nclass Event {\r\n    int x, y;\r\n    boolean isLeft;\r\n    int index;\r\n\r\n    Event(int x, int y, boolean isLeft, int index) {\r\n        this.x = x;\r\n        this.y = y;\r\n        this.isLeft = isLeft;\r\n        this.index = index;\r\n    }\r\n\r\n    public static &lt;T extends Comparable&gt; T[] quickSort(T[] a, int fst, int last, Comparator&lt;T&gt; comp) {\r\n        int left = fst;\r\n        int right = last;\r\n        int middle = (last + fst) / 2;\r\n        T x = a[middle];\r\n\r\n        do {\r\n            while (comp.compare(a[left], x) &lt; 0) left++;\r\n            while (comp.compare(a[right], x) &gt; 0) right--;\r\n            if (left &lt;= right) {\r\n                T temp = a[right];\r\n                a[right] = a[left];\r\n                a[left] = temp;\r\n                left++;\r\n                right--;\r\n            }\r\n        } while (left &lt;= right);\r\n\r\n        if (left &lt; last) {\r\n            quickSort(a, left, last, comp);\r\n        }\r\n        if (fst &lt; right) {\r\n            quickSort(a, fst, right, comp);\r\n        }\r\n\r\n        return a;\r\n    }\r\n\r\n    static class XComparator implements Comparator&lt;Event&gt; {\r\n        @Override\r\n        public int compare(Event e1, Event e2) {\r\n            return (e1.x &lt; e2.x) ? -1 : (e1.x &gt; e2.x) ? 1 : (e1.y &lt; e2.y) ? -1 : 1;\r\n        }\r\n    }\r\n\r\n    static class YComparator implements Comparator&lt;Event&gt; {\r\n        @Override\r\n        public int compare(Event e1, Event e2) {\r\n            return (e1.y &lt; e2.y) ? -1 : (e1.y &gt; e2.y) ? 1 : (e1.x &lt; e2.x) ? -1 : 1;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\nThe problem occurs when I pass the Comparator to a generic method of another class. A conflict of generic types I provide for `value` &amp; `current.value`, and Comparator, is following:\r\n\r\n&gt; &#39;compare(Event, Event)&#39; in &#39;Event.YComparator&#39; cannot be applied to &#39;(T, T)&#39;\r\n\r\n\r\n```\r\nNode Rec(Node current, T value, Event.YComparator comp) {\r\n        if (current == null) {\r\n            size++;\r\n            current = new Node(value);\r\n            return current;\r\n        }\r\n\r\n        else if (comp.compare(value, current.value) &lt; 0) {\r\n            current.leftChild = Rec(current.leftChild, value, comp);\r\n        } else if(comp.compare(value, current.value) &gt; 0) {\r\n            current.rightChild = Rec(current.rightChild, value, comp);\r\n        } else {\r\n            return current;\r\n        }\r\n```\r\n\r\nBut I can&#39;t find a solution, because Comparators are specific and should be tied to a class (they use its&#39; fields).\r\n\r\nI need any insight on this issue.","title":"How to address a Comparator of a class in external generic method?","body":"<p>I'm looking into how to use comparators to perform comparisons based on different fields.\nSo I created a class <code>Event</code>, which contains two Comparators.</p>\n<pre><code>class Event {\n    int x, y;\n    boolean isLeft;\n    int index;\n\n    Event(int x, int y, boolean isLeft, int index) {\n        this.x = x;\n        this.y = y;\n        this.isLeft = isLeft;\n        this.index = index;\n    }\n\n    public static &lt;T extends Comparable&gt; T[] quickSort(T[] a, int fst, int last, Comparator&lt;T&gt; comp) {\n        int left = fst;\n        int right = last;\n        int middle = (last + fst) / 2;\n        T x = a[middle];\n\n        do {\n            while (comp.compare(a[left], x) &lt; 0) left++;\n            while (comp.compare(a[right], x) &gt; 0) right--;\n            if (left &lt;= right) {\n                T temp = a[right];\n                a[right] = a[left];\n                a[left] = temp;\n                left++;\n                right--;\n            }\n        } while (left &lt;= right);\n\n        if (left &lt; last) {\n            quickSort(a, left, last, comp);\n        }\n        if (fst &lt; right) {\n            quickSort(a, fst, right, comp);\n        }\n\n        return a;\n    }\n\n    static class XComparator implements Comparator&lt;Event&gt; {\n        @Override\n        public int compare(Event e1, Event e2) {\n            return (e1.x &lt; e2.x) ? -1 : (e1.x &gt; e2.x) ? 1 : (e1.y &lt; e2.y) ? -1 : 1;\n        }\n    }\n\n    static class YComparator implements Comparator&lt;Event&gt; {\n        @Override\n        public int compare(Event e1, Event e2) {\n            return (e1.y &lt; e2.y) ? -1 : (e1.y &gt; e2.y) ? 1 : (e1.x &lt; e2.x) ? -1 : 1;\n        }\n    }\n}\n</code></pre>\n<p>The problem occurs when I pass the Comparator to a generic method of another class. A conflict of generic types I provide for <code>value</code> &amp; <code>current.value</code>, and Comparator, is following:</p>\n<blockquote>\n<p>'compare(Event, Event)' in 'Event.YComparator' cannot be applied to '(T, T)'</p>\n</blockquote>\n<pre><code>Node Rec(Node current, T value, Event.YComparator comp) {\n        if (current == null) {\n            size++;\n            current = new Node(value);\n            return current;\n        }\n\n        else if (comp.compare(value, current.value) &lt; 0) {\n            current.leftChild = Rec(current.leftChild, value, comp);\n        } else if(comp.compare(value, current.value) &gt; 0) {\n            current.rightChild = Rec(current.rightChild, value, comp);\n        } else {\n            return current;\n        }\n</code></pre>\n<p>But I can't find a solution, because Comparators are specific and should be tied to a class (they use its' fields).</p>\n<p>I need any insight on this issue.</p>\n"},{"tags":["java","selenium-webdriver","selenium-chromedriver"],"comments":[{"owner":{"account_id":9713889,"reputation":2076,"user_id":7204912,"display_name":"ChrisB"},"score":0,"creation_date":1680020411,"post_id":75868489,"comment_id":133824031,"body_markdown":"It might be helful to people if you could translate the contents of the image showing the problem into english. (Maybe just add that as text below).","body":"It might be helful to people if you could translate the contents of the image showing the problem into english. (Maybe just add that as text below)."},{"owner":{"account_id":26859844,"reputation":935,"user_id":20443541,"display_name":"kaliiiiiiiii"},"score":0,"creation_date":1680023851,"post_id":75868489,"comment_id":133824979,"body_markdown":"You&#39;re getting detected. Solutions for Python would be, to use [Selenium-Profiles](https://github.com/kaliiiiiiiiii/Selenium-Profiles) or undetected-chromedriver","body":"You&#39;re getting detected. Solutions for Python would be, to use <a href=\"https://github.com/kaliiiiiiiiii/Selenium-Profiles\" rel=\"nofollow noreferrer\">Selenium-Profiles</a> or undetected-chromedriver"}],"owner":{"account_id":23546909,"reputation":1,"user_id":17590209,"display_name":"dead1nside.qq"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":179,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680022440,"creation_date":1680019068,"question_id":75868489,"body_markdown":"I want to connect to google meet using selenium web driver .But when I run my script I see this:\r\n[![enter image description here][1]][1]\r\n\r\nTranslation - &quot;You are not allowed to participate in this meeting&quot;\r\n\r\nI can&#39;t access google meet because I use selenium web driver. Any ideas how can I pass it?\r\nActually I need solution like this(see below) when i can access google meeting without google acc (in guest mode by entering some name):\r\n[![enter image description here][2]][2]\r\n\r\nAs I see perfect solution, I run google chrome with guest mode and then I enter some name and join to google meet\r\n\r\nI hope to get solution in Java or find out that my problem is not solved in any way or maybe there are some alternatives\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lCLol.png\r\n  [2]: https://i.stack.imgur.com/xDqCT.png","title":"Connect to google meet by selenium web driver","body":"<p>I want to connect to google meet using selenium web driver .But when I run my script I see this:\n<a href=\"https://i.stack.imgur.com/lCLol.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lCLol.png\" alt=\"enter image description here\" /></a></p>\n<p>Translation - &quot;You are not allowed to participate in this meeting&quot;</p>\n<p>I can't access google meet because I use selenium web driver. Any ideas how can I pass it?\nActually I need solution like this(see below) when i can access google meeting without google acc (in guest mode by entering some name):\n<a href=\"https://i.stack.imgur.com/xDqCT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xDqCT.png\" alt=\"enter image description here\" /></a></p>\n<p>As I see perfect solution, I run google chrome with guest mode and then I enter some name and join to google meet</p>\n<p>I hope to get solution in Java or find out that my problem is not solved in any way or maybe there are some alternatives</p>\n"},{"tags":["java","android","google-cloud-platform","google-oauth","mysql-connector"],"comments":[{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":1,"creation_date":1679789597,"post_id":75845224,"comment_id":133783957,"body_markdown":"Please read: [JDBC vs Web Service for Android](https://stackoverflow.com/q/15853367/295004)","body":"Please read: <a href=\"https://stackoverflow.com/q/15853367/295004\">JDBC vs Web Service for Android</a>"},{"owner":{"account_id":5692131,"reputation":23,"user_id":4499868,"display_name":"CurtisF"},"score":0,"creation_date":1679857170,"post_id":75845224,"comment_id":133791840,"body_markdown":"Thanks @MorrisonChang. I am changing my app structure to route through a web server instead of directly connecting.","body":"Thanks @MorrisonChang. I am changing my app structure to route through a web server instead of directly connecting."},{"owner":{"account_id":24326039,"reputation":2411,"user_id":18265570,"display_name":"Roopa M"},"score":0,"creation_date":1679908803,"post_id":75845224,"comment_id":133798893,"body_markdown":"Seems like your issue is resolved, Can you share yours solution as answer so that it helps others too?","body":"Seems like your issue is resolved, Can you share yours solution as answer so that it helps others too?"}],"answers":[{"tags":[],"owner":{"account_id":5692131,"reputation":23,"user_id":4499868,"display_name":"CurtisF"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680022118,"creation_date":1680022118,"answer_id":75868941,"question_id":75845224,"body_markdown":"For anyone having a similar issue, I solved this by using the following architecture: Android App &lt;-&gt; Web Server &lt;-&gt; Cloud SQL. \r\n\r\nApp code to request data from server\r\n```\r\nString url = &quot;http://999.999.9.99:999&quot;;//URL of web server. This example just plugs into one that is locally hosted.\r\nStringRequest strRequest = new StringRequest(Request.Method.GET, url,\r\n                response -&gt; {\r\n                    String result = response.toString();\r\n                    Toast.makeText(MainActivity.this,result, Toast.LENGTH_LONG).show();\r\n                },\r\n                error -&gt; {\r\n                    Toast.makeText(MainActivity.this, &quot;Error&quot;, Toast.LENGTH_LONG).show();\r\n                    Log.e(&quot;MainActivity&quot;, error.getCause().getMessage());\r\n                    Log.e(&quot;MainActivity&quot;, &quot;loadDogImage error: ${error.localizedMessage}&quot;);\r\n                });\r\n       \r\nrequestQueue = Volley.newRequestQueue(MainActivity.this);\r\nrequestQueue.add(strRequest);\r\n```\r\nServer code. I used node.js + the MySQL node library\r\n```\r\nconst express = require(&quot;express&quot;);\r\nconst app = express();\r\nconst port = 80;\r\nconst mysql = require(&#39;mysql&#39;);\r\n\r\nlet connection = mysql.createConnection({\r\n  host: &#39;99.99.99.999&#39;,//cloud SQL access IP Address\r\n  user: &#39;some_user&#39;, //username\r\n  database: &#39;some_database&#39;, //database name\r\n  password: &#39;some_password&#39; //user password\r\n});\r\n\r\n  connection.connect(function(err) {\r\n    if (err) {\r\n      console.error(&#39;Error connecting: &#39; + err.stack);\r\n      return;\r\n    }\r\n    console.log(&#39;Connected as thread id: &#39; + connection.threadId);\r\n  });\r\n\r\napp.get(&quot;/&quot;, (req, res) =&gt; {\r\n  console.log(req.url);\r\n  connection.query(\r\n      &quot;SELECT * FROM `test_table` LIMIT 1&quot;, \r\n      function(error, results, fields) {\r\n        if (error) throw error;\r\n        res.json(results);\r\n      }\r\n    );\r\n});\r\n\r\napp.listen(port,err =&gt; {\r\n  if (err) {\r\n    console.log(&quot;there was a problem&quot;, err);\r\n    return;\r\n  }\r\n  console.log(&#39;listening on port &#39; + port);\r\n\r\n});\r\n\r\n```","title":"Google Cloud SQL Authentication Error When Trying to Connect Through Android App","body":"<p>For anyone having a similar issue, I solved this by using the following architecture: Android App &lt;-&gt; Web Server &lt;-&gt; Cloud SQL.</p>\n<p>App code to request data from server</p>\n<pre><code>String url = &quot;http://999.999.9.99:999&quot;;//URL of web server. This example just plugs into one that is locally hosted.\nStringRequest strRequest = new StringRequest(Request.Method.GET, url,\n                response -&gt; {\n                    String result = response.toString();\n                    Toast.makeText(MainActivity.this,result, Toast.LENGTH_LONG).show();\n                },\n                error -&gt; {\n                    Toast.makeText(MainActivity.this, &quot;Error&quot;, Toast.LENGTH_LONG).show();\n                    Log.e(&quot;MainActivity&quot;, error.getCause().getMessage());\n                    Log.e(&quot;MainActivity&quot;, &quot;loadDogImage error: ${error.localizedMessage}&quot;);\n                });\n       \nrequestQueue = Volley.newRequestQueue(MainActivity.this);\nrequestQueue.add(strRequest);\n</code></pre>\n<p>Server code. I used node.js + the MySQL node library</p>\n<pre><code>const express = require(&quot;express&quot;);\nconst app = express();\nconst port = 80;\nconst mysql = require('mysql');\n\nlet connection = mysql.createConnection({\n  host: '99.99.99.999',//cloud SQL access IP Address\n  user: 'some_user', //username\n  database: 'some_database', //database name\n  password: 'some_password' //user password\n});\n\n  connection.connect(function(err) {\n    if (err) {\n      console.error('Error connecting: ' + err.stack);\n      return;\n    }\n    console.log('Connected as thread id: ' + connection.threadId);\n  });\n\napp.get(&quot;/&quot;, (req, res) =&gt; {\n  console.log(req.url);\n  connection.query(\n      &quot;SELECT * FROM `test_table` LIMIT 1&quot;, \n      function(error, results, fields) {\n        if (error) throw error;\n        res.json(results);\n      }\n    );\n});\n\napp.listen(port,err =&gt; {\n  if (err) {\n    console.log(&quot;there was a problem&quot;, err);\n    return;\n  }\n  console.log('listening on port ' + port);\n\n});\n\n</code></pre>\n"}],"owner":{"account_id":5692131,"reputation":23,"user_id":4499868,"display_name":"CurtisF"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75868941,"answer_count":1,"score":0,"last_activity_date":1680022118,"creation_date":1679789289,"question_id":75845224,"body_markdown":"The task I am trying to complete is to connect to a Google Cloud MySQL database via an Android application. I am following this guide: https://cloud.google.com/sql/docs/mysql/connect-connectors. \r\nI have added my IP address to the allowed networks for the database instance and have enabled the cloud SQL API. I used the example code as a starting point, but I get this error when I run the application (using a simulator):\r\n```\r\n2023-03-25 15:58:37.727 13755-13755/com.example.connectiontest E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.connectiontest, PID: 13755\r\n    com.zaxxer.hikari.pool.HikariPool$PoolInitializationException: Failed to initialize pool: Could not create connection to database server.\r\n        at com.zaxxer.hikari.pool.HikariPool.throwPoolInitializationException(HikariPool.java:595)\r\n        at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:581)\r\n        at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115)\r\n        at com.zaxxer.hikari.HikariDataSource.&lt;init&gt;(HikariDataSource.java:81)\r\n        at com.example.connectiontest.MainActivity$1.onClick(MainActivity.java:53)\r\n        at android.view.View.performClick(View.java:7506)\r\n        at com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1202)\r\n        at android.view.View.performClickInternal(View.java:7483)\r\n        at android.view.View.-$$Nest$mperformClickInternal(Unknown Source:0)\r\n        at android.view.View$PerformClick.run(View.java:29334)\r\n        at android.os.Handler.handleCallback(Handler.java:942)\r\n        at android.os.Handler.dispatchMessage(Handler.java:99)\r\n        at android.os.Looper.loopOnce(Looper.java:201)\r\n        at android.os.Looper.loop(Looper.java:288)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7872)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936)\r\n     Caused by: java.sql.SQLNonTransientConnectionException: Could not create connection to database server.\r\n        at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:110)\r\n        at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)\r\n        at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89)\r\n        at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63)\r\n        at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:997)\r\n        at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:814)\r\n        at com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:444)\r\n        at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:237)\r\n        at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198)\r\n        at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:121)\r\n        at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:358)\r\n        at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)\r\n        at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:477)\r\n        at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:560)\r\n        at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115)&#160;\r\n        at com.zaxxer.hikari.HikariDataSource.&lt;init&gt;(HikariDataSource.java:81)&#160;\r\n        at com.example.connectiontest.MainActivity$1.onClick(MainActivity.java:53)&#160;\r\n        at android.view.View.performClick(View.java:7506)&#160;\r\n        at com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1202)&#160;\r\n        at android.view.View.performClickInternal(View.java:7483)&#160;\r\n        at android.view.View.-$$Nest$mperformClickInternal(Unknown Source:0)&#160;\r\n        at android.view.View$PerformClick.run(View.java:29334)&#160;\r\n        at android.os.Handler.handleCallback(Handler.java:942)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:99)&#160;\r\n        at android.os.Looper.loopOnce(Looper.java:201)&#160;\r\n        at android.os.Looper.loop(Looper.java:288)&#160;\r\n        at android.app.ActivityThread.main(ActivityThread.java:7872)&#160;\r\n        at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)&#160;\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936)&#160;\r\n     Caused by: java.lang.RuntimeException: Unable to obtain credentials to communicate with the Cloud SQL API\r\n        at com.google.cloud.sql.core.CoreSocketFactory$ApplicationDefaultCredentialFactory.create(CoreSocketFactory.java:392)\r\n        at com.google.cloud.sql.core.CoreSocketFactory.getInstance(CoreSocketFactory.java:140)\r\n        at com.google.cloud.sql.core.CoreSocketFactory.connect(CoreSocketFactory.java:256)\r\n        at com.google.cloud.sql.core.CoreSocketFactory.connect(CoreSocketFactory.java:215)\r\n        at com.google.cloud.sql.mysql.SocketFactory.connect(SocketFactory.java:57)\r\n        at com.google.cloud.sql.mysql.SocketFactory.connect(SocketFactory.java:43)\r\n        at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:63)\r\n        at com.mysql.cj.NativeSession.connect(NativeSession.java:120)\r\n        at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:944)\r\n        at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:814)&#160;\r\n        at com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:444)&#160;\r\n        at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:237)&#160;\r\n        at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198)&#160;\r\n        at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:121)&#160;\r\n        at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:358)&#160;\r\n        at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)&#160;\r\n        at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:477)&#160;\r\n        at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:560)&#160;\r\n        at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115)&#160;\r\n        at com.zaxxer.hikari.HikariDataSource.&lt;init&gt;(HikariDataSource.java:81)&#160;\r\n        at com.example.connectiontest.MainActivity$1.onClick(MainActivity.java:53)&#160;\r\n        at android.view.View.performClick(View.java:7506)&#160;\r\n        at com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1202)&#160;\r\n        at android.view.View.performClickInternal(View.java:7483)&#160;\r\n        at android.view.View.-$$Nest$mperformClickInternal(Unknown Source:0)&#160;\r\n        at android.view.View$PerformClick.run(View.java:29334)&#160;\r\n        at android.os.Handler.handleCallback(Handler.java:942)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:99)&#160;\r\n        at android.os.Looper.loopOnce(Looper.java:201)&#160;\r\n        at android.os.Looper.loop(Looper.java:288)&#160;\r\n        at android.app.ActivityThread.main(ActivityThread.java:7872)&#160;\r\n        at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)&#160;\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936)&#160;\r\n     Caused by: java.io.IOException: The Application Default Credentials are not available. They are available if running in Google Compute Engine. Otherwise, the environment variable GOOGLE_APPLICATION_CREDENTIALS must be defined pointing to a file defining the credentials. See https://developers.google.com/accounts/docs/application-default-credentials for more information.\r\n        at com.google.auth.oauth2.DefaultCredentialsProvider.getDefaultCredentials(DefaultCredentialsProvider.java:125)\r\n2023-03-25 15:58:37.728 13755-13755/com.example.connectiontest E/AndroidRuntime:     at com.google.auth.oauth2.GoogleCredentials.getApplicationDefault(GoogleCredentials.java:125)\r\n        at com.google.auth.oauth2.GoogleCredentials.getApplicationDefault(GoogleCredentials.java:97)\r\n        at com.google.cloud.sql.core.CoreSocketFactory$ApplicationDefaultCredentialFactory.create(CoreSocketFactory.java:390)\r\n        \t... 33 more\r\n```\r\nI read up on the Application Default Credentials, but I do not believe environment variables are a thing on mobile devices (correct me if I am wrong), and I have been unsuccessful in finding an alternate method of authentication in Google&#39;s docs. My simplified application code is below for reference. \r\n\r\nMain Activity\r\n```\r\nimport java.sql.PreparedStatement;\r\nimport java.sql.ResultSet;\r\nimport java.sql.SQLException;\r\nimport java.util.Properties;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private static final String CONNECTION_NAME = &quot;***&quot;;\r\n    private static final String DB_NAME = &quot;***&quot;;\r\n    private static final String DB_USER = &quot;***&quot;;\r\n    private static final String DB_PASSWORD = &quot;***&quot;;\r\n\r\n    Button testConn;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        testConn = (Button) findViewById(R.id.button);\r\n        testConn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                String jdbcURL = String.format(&quot;jdbc:mysql:///%s&quot;, DB_NAME);\r\n                Properties connProps = new Properties();\r\n                connProps.setProperty(&quot;user&quot;, DB_USER);\r\n                connProps.setProperty(&quot;password&quot;, DB_PASSWORD);\r\n                connProps.setProperty(&quot;socketFactory&quot;, &quot;com.google.cloud.sql.mysql.SocketFactory&quot;);\r\n                connProps.setProperty(&quot;cloudSqlInstance&quot;, CONNECTION_NAME);\r\n\r\n \r\n                HikariConfig config = new HikariConfig();\r\n                config.setJdbcUrl(jdbcURL);\r\n                config.setDataSourceProperties(connProps);\r\n                config.setConnectionTimeout(10000); \r\n\r\n                HikariDataSource connectionPool = new HikariDataSource(config);//this is where the code breaks\r\n\r\n                try {\r\n                    Connection conn = connectionPool.getConnection();\r\n                    String stmt = &quot;SELECT test_field FROM test_table limit 1;&quot;;\r\n                    PreparedStatement selectStmt = conn.prepareStatement(stmt);\r\n                    selectStmt.setQueryTimeout(10); \r\n                    ResultSet rs = selectStmt.executeQuery();\r\n                    while (rs.next()) {\r\n                        Toast.makeText(getApplicationContext(), rs.getString(&quot;test_field&quot;), Toast.LENGTH_LONG).show();\r\n                    }\r\n                } catch (SQLException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\nbuild.gradle\r\n```\r\nplugins {\r\n    id &#39;com.android.application&#39;\r\n}\r\n\r\nandroid {\r\n    namespace &#39;com.example.connectiontest&#39;\r\n    compileSdk 33\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.example.connectiontest&quot;\r\n        minSdk 26\r\n        targetSdk 33\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    packagingOptions {\r\n        resources.excludes.add(&quot;META-INF/*&quot;)\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n}\r\n\r\ndependencies {\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.6.1&#39;\r\n    implementation &#39;com.google.android.material:material:1.8.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n    implementation files(&#39;libs/mysql-connector-j-8.0.32.jar&#39;)\r\n    implementation &#39;com.zaxxer:HikariCP:3.4.5&#39;\r\n    implementation &#39;com.google.cloud.sql:mysql-socket-factory-connector-j-8:1.11.0&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.5&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.1&#39;\r\n}\r\n```\r\nAny help is be greatly appreciated!","title":"Google Cloud SQL Authentication Error When Trying to Connect Through Android App","body":"<p>The task I am trying to complete is to connect to a Google Cloud MySQL database via an Android application. I am following this guide: <a href=\"https://cloud.google.com/sql/docs/mysql/connect-connectors\" rel=\"nofollow noreferrer\">https://cloud.google.com/sql/docs/mysql/connect-connectors</a>.\nI have added my IP address to the allowed networks for the database instance and have enabled the cloud SQL API. I used the example code as a starting point, but I get this error when I run the application (using a simulator):</p>\n<pre><code>2023-03-25 15:58:37.727 13755-13755/com.example.connectiontest E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.connectiontest, PID: 13755\n    com.zaxxer.hikari.pool.HikariPool$PoolInitializationException: Failed to initialize pool: Could not create connection to database server.\n        at com.zaxxer.hikari.pool.HikariPool.throwPoolInitializationException(HikariPool.java:595)\n        at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:581)\n        at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115)\n        at com.zaxxer.hikari.HikariDataSource.&lt;init&gt;(HikariDataSource.java:81)\n        at com.example.connectiontest.MainActivity$1.onClick(MainActivity.java:53)\n        at android.view.View.performClick(View.java:7506)\n        at com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1202)\n        at android.view.View.performClickInternal(View.java:7483)\n        at android.view.View.-$$Nest$mperformClickInternal(Unknown Source:0)\n        at android.view.View$PerformClick.run(View.java:29334)\n        at android.os.Handler.handleCallback(Handler.java:942)\n        at android.os.Handler.dispatchMessage(Handler.java:99)\n        at android.os.Looper.loopOnce(Looper.java:201)\n        at android.os.Looper.loop(Looper.java:288)\n        at android.app.ActivityThread.main(ActivityThread.java:7872)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936)\n     Caused by: java.sql.SQLNonTransientConnectionException: Could not create connection to database server.\n        at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:110)\n        at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)\n        at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89)\n        at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63)\n        at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:997)\n        at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:814)\n        at com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:444)\n        at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:237)\n        at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198)\n        at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:121)\n        at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:358)\n        at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)\n        at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:477)\n        at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:560)\n        at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115)\n        at com.zaxxer.hikari.HikariDataSource.&lt;init&gt;(HikariDataSource.java:81)\n        at com.example.connectiontest.MainActivity$1.onClick(MainActivity.java:53)\n        at android.view.View.performClick(View.java:7506)\n        at com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1202)\n        at android.view.View.performClickInternal(View.java:7483)\n        at android.view.View.-$$Nest$mperformClickInternal(Unknown Source:0)\n        at android.view.View$PerformClick.run(View.java:29334)\n        at android.os.Handler.handleCallback(Handler.java:942)\n        at android.os.Handler.dispatchMessage(Handler.java:99)\n        at android.os.Looper.loopOnce(Looper.java:201)\n        at android.os.Looper.loop(Looper.java:288)\n        at android.app.ActivityThread.main(ActivityThread.java:7872)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936)\n     Caused by: java.lang.RuntimeException: Unable to obtain credentials to communicate with the Cloud SQL API\n        at com.google.cloud.sql.core.CoreSocketFactory$ApplicationDefaultCredentialFactory.create(CoreSocketFactory.java:392)\n        at com.google.cloud.sql.core.CoreSocketFactory.getInstance(CoreSocketFactory.java:140)\n        at com.google.cloud.sql.core.CoreSocketFactory.connect(CoreSocketFactory.java:256)\n        at com.google.cloud.sql.core.CoreSocketFactory.connect(CoreSocketFactory.java:215)\n        at com.google.cloud.sql.mysql.SocketFactory.connect(SocketFactory.java:57)\n        at com.google.cloud.sql.mysql.SocketFactory.connect(SocketFactory.java:43)\n        at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:63)\n        at com.mysql.cj.NativeSession.connect(NativeSession.java:120)\n        at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:944)\n        at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:814)\n        at com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:444)\n        at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:237)\n        at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198)\n        at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:121)\n        at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:358)\n        at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)\n        at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:477)\n        at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:560)\n        at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115)\n        at com.zaxxer.hikari.HikariDataSource.&lt;init&gt;(HikariDataSource.java:81)\n        at com.example.connectiontest.MainActivity$1.onClick(MainActivity.java:53)\n        at android.view.View.performClick(View.java:7506)\n        at com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1202)\n        at android.view.View.performClickInternal(View.java:7483)\n        at android.view.View.-$$Nest$mperformClickInternal(Unknown Source:0)\n        at android.view.View$PerformClick.run(View.java:29334)\n        at android.os.Handler.handleCallback(Handler.java:942)\n        at android.os.Handler.dispatchMessage(Handler.java:99)\n        at android.os.Looper.loopOnce(Looper.java:201)\n        at android.os.Looper.loop(Looper.java:288)\n        at android.app.ActivityThread.main(ActivityThread.java:7872)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936)\n     Caused by: java.io.IOException: The Application Default Credentials are not available. They are available if running in Google Compute Engine. Otherwise, the environment variable GOOGLE_APPLICATION_CREDENTIALS must be defined pointing to a file defining the credentials. See https://developers.google.com/accounts/docs/application-default-credentials for more information.\n        at com.google.auth.oauth2.DefaultCredentialsProvider.getDefaultCredentials(DefaultCredentialsProvider.java:125)\n2023-03-25 15:58:37.728 13755-13755/com.example.connectiontest E/AndroidRuntime:     at com.google.auth.oauth2.GoogleCredentials.getApplicationDefault(GoogleCredentials.java:125)\n        at com.google.auth.oauth2.GoogleCredentials.getApplicationDefault(GoogleCredentials.java:97)\n        at com.google.cloud.sql.core.CoreSocketFactory$ApplicationDefaultCredentialFactory.create(CoreSocketFactory.java:390)\n            ... 33 more\n</code></pre>\n<p>I read up on the Application Default Credentials, but I do not believe environment variables are a thing on mobile devices (correct me if I am wrong), and I have been unsuccessful in finding an alternate method of authentication in Google's docs. My simplified application code is below for reference.</p>\n<p>Main Activity</p>\n<pre><code>import java.sql.PreparedStatement;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.util.Properties;\n\npublic class MainActivity extends AppCompatActivity {\n\n    private static final String CONNECTION_NAME = &quot;***&quot;;\n    private static final String DB_NAME = &quot;***&quot;;\n    private static final String DB_USER = &quot;***&quot;;\n    private static final String DB_PASSWORD = &quot;***&quot;;\n\n    Button testConn;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        testConn = (Button) findViewById(R.id.button);\n        testConn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                String jdbcURL = String.format(&quot;jdbc:mysql:///%s&quot;, DB_NAME);\n                Properties connProps = new Properties();\n                connProps.setProperty(&quot;user&quot;, DB_USER);\n                connProps.setProperty(&quot;password&quot;, DB_PASSWORD);\n                connProps.setProperty(&quot;socketFactory&quot;, &quot;com.google.cloud.sql.mysql.SocketFactory&quot;);\n                connProps.setProperty(&quot;cloudSqlInstance&quot;, CONNECTION_NAME);\n\n \n                HikariConfig config = new HikariConfig();\n                config.setJdbcUrl(jdbcURL);\n                config.setDataSourceProperties(connProps);\n                config.setConnectionTimeout(10000); \n\n                HikariDataSource connectionPool = new HikariDataSource(config);//this is where the code breaks\n\n                try {\n                    Connection conn = connectionPool.getConnection();\n                    String stmt = &quot;SELECT test_field FROM test_table limit 1;&quot;;\n                    PreparedStatement selectStmt = conn.prepareStatement(stmt);\n                    selectStmt.setQueryTimeout(10); \n                    ResultSet rs = selectStmt.executeQuery();\n                    while (rs.next()) {\n                        Toast.makeText(getApplicationContext(), rs.getString(&quot;test_field&quot;), Toast.LENGTH_LONG).show();\n                    }\n                } catch (SQLException e) {\n                    e.printStackTrace();\n                }\n            }\n        });\n    }\n}\n</code></pre>\n<p>build.gradle</p>\n<pre><code>plugins {\n    id 'com.android.application'\n}\n\nandroid {\n    namespace 'com.example.connectiontest'\n    compileSdk 33\n\n    defaultConfig {\n        applicationId &quot;com.example.connectiontest&quot;\n        minSdk 26\n        targetSdk 33\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    packagingOptions {\n        resources.excludes.add(&quot;META-INF/*&quot;)\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n\ndependencies {\n\n    implementation 'androidx.appcompat:appcompat:1.6.1'\n    implementation 'com.google.android.material:material:1.8.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n    implementation files('libs/mysql-connector-j-8.0.32.jar')\n    implementation 'com.zaxxer:HikariCP:3.4.5'\n    implementation 'com.google.cloud.sql:mysql-socket-factory-connector-j-8:1.11.0'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.5'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'\n}\n</code></pre>\n<p>Any help is be greatly appreciated!</p>\n"},{"tags":["java","spring-boot","gradle"],"answers":[{"tags":[],"owner":{"account_id":1653300,"reputation":968,"user_id":1523450,"display_name":"cdr89"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1658438268,"creation_date":1658438268,"answer_id":73072739,"question_id":73071773,"body_markdown":"The class that your mindBodyClientServiceImpl is using (indirectly) is org.springframework.boot.configurationprocessor.json.JSONException.\r\n\r\nThis comes from your build.gradle:\r\n\r\n    annotationProcessor &#39;org.springframework.boot:spring-boot-configuration-processor&#39;\r\n\r\nSince you have declared as compileOnly here:\r\n\r\n    configurations {\r\n        compileOnly {\r\n            extendsFrom annotationProcessor\r\n        }\r\n    }\r\n\r\nbut apparently the JSONException is used at run time, it makes your app fail when packaging with Jar2exe. The solution to this could be to include the whole dependency like so:\r\n\r\n    implementation &#39;org.springframework.boot:spring-boot-configuration-processor&#39;\r\n\r\nJust a blind guess, but probably your application could fail again, but this time at least you can see the JSONException and fix the underlying issue.\r\n\r\n","title":"How to fix java.lang.ClassNotFoundException: org.springframework.boot.configurationprocessor.json.JSONException error?","body":"<p>The class that your mindBodyClientServiceImpl is using (indirectly) is org.springframework.boot.configurationprocessor.json.JSONException.</p>\n<p>This comes from your build.gradle:</p>\n<pre><code>annotationProcessor 'org.springframework.boot:spring-boot-configuration-processor'\n</code></pre>\n<p>Since you have declared as compileOnly here:</p>\n<pre><code>configurations {\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n}\n</code></pre>\n<p>but apparently the JSONException is used at run time, it makes your app fail when packaging with Jar2exe. The solution to this could be to include the whole dependency like so:</p>\n<pre><code>implementation 'org.springframework.boot:spring-boot-configuration-processor'\n</code></pre>\n<p>Just a blind guess, but probably your application could fail again, but this time at least you can see the JSONException and fix the underlying issue.</p>\n"},{"comments":[{"owner":{"account_id":9709676,"reputation":1447,"user_id":7221628,"accept_rate":100,"display_name":"JGlass"},"score":0,"creation_date":1677789852,"post_id":74191955,"comment_id":133412107,"body_markdown":"Same mistake, worked like a charm!","body":"Same mistake, worked like a charm!"},{"owner":{"account_id":8611315,"reputation":501,"user_id":6449694,"accept_rate":60,"display_name":"Makamu Evans"},"score":0,"creation_date":1702047776,"post_id":74191955,"comment_id":136853185,"body_markdown":"Live saver answer","body":"Live saver answer"}],"tags":[],"owner":{"account_id":8342762,"reputation":950,"user_id":6267583,"accept_rate":100,"display_name":"morecore"},"comment_count":2,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1666690479,"creation_date":1666690479,"answer_id":74191955,"question_id":73071773,"body_markdown":"Starting with SpringBoot 2.4 the dependency \r\n\r\n    org.springframework.boot:spring-boot-configuration-processor\r\n\r\nis no longer contained in the resulting fat-jar ([Spring Boot 2.4 Release Notes][1]).\r\n\r\n&gt; Jar Optimizations\r\n&gt;\r\n&gt; When generating runnable Spring Boot jars, empty starter dependencies will now be automatically removed. Since most starters only provide transitive dependencies, there is little point in packaging them in the final jar.\r\n&gt;\r\n&gt; Spring Boot annotation processors are also removed as well as they are only useful during the build. These are spring-boot-autoconfigure-processor and spring-boot-configuration-processor.\r\n\r\nIf the exception is thrown in you own code, check that you are not using\r\n\r\n    org.springframework.boot.configurationprocessor.json.JSONException\r\n    org.springframework.boot.configurationprocessor.json.JSONObject\r\n\r\nIf you are using those, replace them, e.g.:\r\n\r\n    org.json.JSONException\r\n    org.json.JSONObject\r\n\r\nYou might need to include the related [dependency][2]:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.json&lt;/groupId&gt;\r\n      &lt;artifactId&gt;json&lt;/artifactId&gt;\r\n      &lt;version&gt;20220924&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.4-Release-Notes#jar-optimizations\r\n  [2]: https://search.maven.org/artifact/org.json/json/20220924/bundle","title":"How to fix java.lang.ClassNotFoundException: org.springframework.boot.configurationprocessor.json.JSONException error?","body":"<p>Starting with SpringBoot 2.4 the dependency</p>\n<pre><code>org.springframework.boot:spring-boot-configuration-processor\n</code></pre>\n<p>is no longer contained in the resulting fat-jar (<a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.4-Release-Notes#jar-optimizations\" rel=\"noreferrer\">Spring Boot 2.4 Release Notes</a>).</p>\n<blockquote>\n<p>Jar Optimizations</p>\n<p>When generating runnable Spring Boot jars, empty starter dependencies will now be automatically removed. Since most starters only provide transitive dependencies, there is little point in packaging them in the final jar.</p>\n<p>Spring Boot annotation processors are also removed as well as they are only useful during the build. These are spring-boot-autoconfigure-processor and spring-boot-configuration-processor.</p>\n</blockquote>\n<p>If the exception is thrown in you own code, check that you are not using</p>\n<pre><code>org.springframework.boot.configurationprocessor.json.JSONException\norg.springframework.boot.configurationprocessor.json.JSONObject\n</code></pre>\n<p>If you are using those, replace them, e.g.:</p>\n<pre><code>org.json.JSONException\norg.json.JSONObject\n</code></pre>\n<p>You might need to include the related <a href=\"https://search.maven.org/artifact/org.json/json/20220924/bundle\" rel=\"noreferrer\">dependency</a>:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.json&lt;/groupId&gt;\n  &lt;artifactId&gt;json&lt;/artifactId&gt;\n  &lt;version&gt;20220924&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":17813347,"reputation":1635,"user_id":12937443,"display_name":"DEV"},"score":1,"creation_date":1680448694,"post_id":75868925,"comment_id":133896662,"body_markdown":"It&#39;s better to leave these kind of comments on the post it self","body":"It&#39;s better to leave these kind of comments on the post it self"}],"tags":[],"owner":{"account_id":14545475,"reputation":11,"user_id":10505832,"display_name":"Sudhir Ahirkar"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680022013,"creation_date":1680022013,"answer_id":75868925,"question_id":73071773,"body_markdown":"For me, Same issue occurs in sit environment and jar &#39;spring-boot-configuration-processor&#39; classes (JSONException,JSONObject) creating issues. so have replaced with org.json classes and issue resolved","title":"How to fix java.lang.ClassNotFoundException: org.springframework.boot.configurationprocessor.json.JSONException error?","body":"<p>For me, Same issue occurs in sit environment and jar 'spring-boot-configuration-processor' classes (JSONException,JSONObject) creating issues. so have replaced with org.json classes and issue resolved</p>\n"}],"owner":{"account_id":3274297,"reputation":1267,"user_id":2756820,"accept_rate":96,"display_name":"Ram"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13231,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":73072739,"answer_count":3,"score":4,"last_activity_date":1680022013,"creation_date":1658432314,"question_id":73071773,"body_markdown":"I am getting following error when I run my spring boot service in production as windows service. Service exe is created by [Jar2exe][1].\r\n\r\n    java.lang.reflect.InvocationTargetException\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    \tat org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\r\n    \tat org.springframework.boot.loader.Launcher.launch(Launcher.java:108)\r\n    \tat org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\r\n    \tat org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65)\r\n    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;mindbodyApplication&#39;: Unsatisfied dependency expressed through field &#39;mindBodyClientService&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;mindBodyClientServiceImpl&#39;: Lookup method resolution failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [com.rossmoor.mindbody.services.web.MindBodyClientServiceImpl] from ClassLoader [org.springframework.boot.loader.LaunchedURLClassLoader@18769467]\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659)\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:639)\r\n    \tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\r\n    \tat com.rossmoor.mindbody.MindbodyApplication.main(MindbodyApplication.java:43)\r\n    \t... 8 more\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;mindBodyClientServiceImpl&#39;: Lookup method resolution failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [com.rossmoor.mindbody.services.web.MindBodyClientServiceImpl] from ClassLoader [org.springframework.boot.loader.LaunchedURLClassLoader@18769467]\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:289)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineConstructorsFromBeanPostProcessors(AbstractAutowireCapableBeanFactory.java:1302)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1219)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n    \tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:656)\r\n    \t... 28 more\r\n    Caused by: java.lang.IllegalStateException: Failed to introspect Class [com.rossmoor.mindbody.services.web.MindBodyClientServiceImpl] from ClassLoader [org.springframework.boot.loader.LaunchedURLClassLoader@18769467]\r\n    \tat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:485)\r\n    \tat org.springframework.util.ReflectionUtils.doWithLocalMethods(ReflectionUtils.java:321)\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:267)\r\n    \t... 40 more\r\n    Caused by: java.lang.NoClassDefFoundError: org/springframework/boot/configurationprocessor/json/JSONException\r\n    \tat java.base/java.lang.Class.getDeclaredMethods0(Native Method)\r\n    \tat java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3402)\r\n    \tat java.base/java.lang.Class.getDeclaredMethods(Class.java:2504)\r\n    \tat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:467)\r\n    \t... 42 more\r\n    Caused by: java.lang.ClassNotFoundException: org.springframework.boot.configurationprocessor.json.JSONException\r\n    \tat java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:445)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:587)\r\n    \tat org.springframework.boot.loader.LaunchedURLClassLoader.loadClass(LaunchedURLClassLoader.java:151)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n    \t... 46 more\r\n\r\nStrange thing is it runs properly when I run it through Intellij Idea on production machine.\r\nBoth service exe and code in Intellij Idea work properly on my development machine.\r\nHere is my build.gradle file :\r\n\r\n    plugins {\r\n    \tid &#39;org.springframework.boot&#39; version &#39;2.7.1&#39;\r\n    \tid &#39;io.spring.dependency-management&#39; version &#39;1.0.11.RELEASE&#39;\r\n    \tid &#39;java&#39;\r\n    }\r\n    \r\n    group = &#39;com.example&#39;\r\n    version = &#39;0.0.1-SNAPSHOT&#39;\r\n    sourceCompatibility = &#39;17&#39;\r\n    \r\n    configurations {\r\n    \tcompileOnly {\r\n    \t\textendsFrom annotationProcessor\r\n    \t}\r\n    }\r\n    \r\n    repositories {\r\n    \tmavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n    //\timplementation &#39;org.springframework.boot:spring-boot-starter-actuator&#39;\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-data-jdbc&#39;\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-data-rest&#39;\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-jdbc&#39;\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-oauth2-client&#39;\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-security&#39;\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    \tcompileOnly &#39;org.projectlombok:lombok&#39;\r\n    //\tdevelopmentOnly &#39;org.springframework.boot:spring-boot-devtools&#39;\r\n    \truntimeOnly &#39;com.microsoft.sqlserver:mssql-jdbc&#39;\r\n    \tannotationProcessor &#39;org.springframework.boot:spring-boot-configuration-processor&#39;\r\n    \tannotationProcessor &#39;org.projectlombok:lombok&#39;\r\n    \ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n    \ttestImplementation &#39;org.springframework.security:spring-security-test&#39;\r\n    \r\n    \t// https://mvnrepository.com/artifact/org.apache.commons/commons-lang3\r\n    \timplementation group: &#39;org.apache.commons&#39;, name: &#39;commons-lang3&#39;, version: &#39;3.12.0&#39;\r\n    \r\n    //\t// https://mvnrepository.com/artifact/com.squareup.okhttp3/okhttp\r\n    //\timplementation group: &#39;com.squareup.okhttp3&#39;, name: &#39;okhttp&#39;, version: &#39;4.10.0&#39;\r\n    \r\n    // https://mvnrepository.com/artifact/org.hibernate/hibernate-core\r\n    \timplementation group: &#39;org.hibernate&#39;, name: &#39;hibernate-core&#39;, version: &#39;5.6.9.Final&#39;\r\n    \r\n    \t// https://mvnrepository.com/artifact/antlr/antlr\r\n    \timplementation group: &#39;antlr&#39;, name: &#39;antlr&#39;, version: &#39;2.7.7&#39;\r\n    \r\n    \t// https://mvnrepository.com/artifact/com.fasterxml/classmate\r\n    \timplementation group: &#39;com.fasterxml&#39;, name: &#39;classmate&#39;, version: &#39;1.5.1&#39;\r\n    \r\n    \t// https://mvnrepository.com/artifact/javax.activation/javax.activation-api\r\n    \timplementation group: &#39;javax.activation&#39;, name: &#39;javax.activation-api&#39;, version: &#39;1.2.0&#39;\r\n    \r\n    \t// https://mvnrepository.com/artifact/javax.persistence/javax.persistence-api\r\n    \timplementation group: &#39;javax.persistence&#39;, name: &#39;javax.persistence-api&#39;, version: &#39;2.2&#39;\r\n    \r\n    \t// https://mvnrepository.com/artifact/javax.xml.bind/jaxb-api\r\n    \timplementation group: &#39;javax.xml.bind&#39;, name: &#39;jaxb-api&#39;, version: &#39;2.3.1&#39;\r\n    \r\n    \t// https://mvnrepository.com/artifact/net.bytebuddy/byte-buddy\r\n    \timplementation group: &#39;net.bytebuddy&#39;, name: &#39;byte-buddy&#39;, version: &#39;1.12.12&#39;\r\n    \r\n    \t// https://mvnrepository.com/artifact/org.glassfish.jaxb/jaxb-runtime\r\n    \timplementation group: &#39;org.glassfish.jaxb&#39;, name: &#39;jaxb-runtime&#39;, version: &#39;4.0.0&#39;\r\n    \r\n    \t// https://mvnrepository.com/artifact/org.hibernate.common/hibernate-commons-annotations\r\n    \timplementation group: &#39;org.hibernate.common&#39;, name: &#39;hibernate-commons-annotations&#39;, version: &#39;6.0.2.Final&#39;\r\n    \r\n    \t// https://mvnrepository.com/artifact/org.jboss/jandex\r\n    \timplementation group: &#39;org.jboss&#39;, name: &#39;jandex&#39;, version: &#39;2.4.3.Final&#39;\r\n    \r\n    \t// https://mvnrepository.com/artifact/org.jboss.logging/jboss-logging\r\n    \timplementation group: &#39;org.jboss.logging&#39;, name: &#39;jboss-logging&#39;, version: &#39;3.5.0.Final&#39;\r\n    \r\n    \t// https://mvnrepository.com/artifact/org.jboss.spec.javax.transaction/jboss-transaction-api_1.2_spec\r\n    \timplementation group: &#39;org.jboss.spec.javax.transaction&#39;, name: &#39;jboss-transaction-api_1.2_spec&#39;, version: &#39;1.1.1.Final&#39;\r\n    \r\n    \timplementation files(&#39;lib/connection-manager-2.0.0.1.jar&#39;)\r\n    \timplementation files(&#39;lib/Utils-2.0.0.1.jar&#39;)\r\n    \timplementation files(&#39;lib/TinyLog-2.0.0.1.jar&#39;)\r\n    }\r\n    \r\n    tasks.named(&#39;test&#39;) {\r\n    \tuseJUnitPlatform()\r\n    }\r\n\r\n\r\n  [1]: https://www.jar2exe.com/","title":"How to fix java.lang.ClassNotFoundException: org.springframework.boot.configurationprocessor.json.JSONException error?","body":"<p>I am getting following error when I run my spring boot service in production as windows service. Service exe is created by <a href=\"https://www.jar2exe.com/\" rel=\"nofollow noreferrer\">Jar2exe</a>.</p>\n<pre><code>java.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:108)\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\n    at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65)\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'mindbodyApplication': Unsatisfied dependency expressed through field 'mindBodyClientService'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mindBodyClientServiceImpl': Lookup method resolution failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [com.rossmoor.mindbody.services.web.MindBodyClientServiceImpl] from ClassLoader [org.springframework.boot.loader.LaunchedURLClassLoader@18769467]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:639)\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\n    at com.rossmoor.mindbody.MindbodyApplication.main(MindbodyApplication.java:43)\n    ... 8 more\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mindBodyClientServiceImpl': Lookup method resolution failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [com.rossmoor.mindbody.services.web.MindBodyClientServiceImpl] from ClassLoader [org.springframework.boot.loader.LaunchedURLClassLoader@18769467]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:289)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineConstructorsFromBeanPostProcessors(AbstractAutowireCapableBeanFactory.java:1302)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1219)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:656)\n    ... 28 more\nCaused by: java.lang.IllegalStateException: Failed to introspect Class [com.rossmoor.mindbody.services.web.MindBodyClientServiceImpl] from ClassLoader [org.springframework.boot.loader.LaunchedURLClassLoader@18769467]\n    at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:485)\n    at org.springframework.util.ReflectionUtils.doWithLocalMethods(ReflectionUtils.java:321)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:267)\n    ... 40 more\nCaused by: java.lang.NoClassDefFoundError: org/springframework/boot/configurationprocessor/json/JSONException\n    at java.base/java.lang.Class.getDeclaredMethods0(Native Method)\n    at java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3402)\n    at java.base/java.lang.Class.getDeclaredMethods(Class.java:2504)\n    at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:467)\n    ... 42 more\nCaused by: java.lang.ClassNotFoundException: org.springframework.boot.configurationprocessor.json.JSONException\n    at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:445)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:587)\n    at org.springframework.boot.loader.LaunchedURLClassLoader.loadClass(LaunchedURLClassLoader.java:151)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    ... 46 more\n</code></pre>\n<p>Strange thing is it runs properly when I run it through Intellij Idea on production machine.\nBoth service exe and code in Intellij Idea work properly on my development machine.\nHere is my build.gradle file :</p>\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.7.1'\n    id 'io.spring.dependency-management' version '1.0.11.RELEASE'\n    id 'java'\n}\n\ngroup = 'com.example'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '17'\n\nconfigurations {\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n//  implementation 'org.springframework.boot:spring-boot-starter-actuator'\n    implementation 'org.springframework.boot:spring-boot-starter-data-jdbc'\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    implementation 'org.springframework.boot:spring-boot-starter-data-rest'\n    implementation 'org.springframework.boot:spring-boot-starter-jdbc'\n    implementation 'org.springframework.boot:spring-boot-starter-oauth2-client'\n    implementation 'org.springframework.boot:spring-boot-starter-security'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    compileOnly 'org.projectlombok:lombok'\n//  developmentOnly 'org.springframework.boot:spring-boot-devtools'\n    runtimeOnly 'com.microsoft.sqlserver:mssql-jdbc'\n    annotationProcessor 'org.springframework.boot:spring-boot-configuration-processor'\n    annotationProcessor 'org.projectlombok:lombok'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    testImplementation 'org.springframework.security:spring-security-test'\n\n    // https://mvnrepository.com/artifact/org.apache.commons/commons-lang3\n    implementation group: 'org.apache.commons', name: 'commons-lang3', version: '3.12.0'\n\n//  // https://mvnrepository.com/artifact/com.squareup.okhttp3/okhttp\n//  implementation group: 'com.squareup.okhttp3', name: 'okhttp', version: '4.10.0'\n\n// https://mvnrepository.com/artifact/org.hibernate/hibernate-core\n    implementation group: 'org.hibernate', name: 'hibernate-core', version: '5.6.9.Final'\n\n    // https://mvnrepository.com/artifact/antlr/antlr\n    implementation group: 'antlr', name: 'antlr', version: '2.7.7'\n\n    // https://mvnrepository.com/artifact/com.fasterxml/classmate\n    implementation group: 'com.fasterxml', name: 'classmate', version: '1.5.1'\n\n    // https://mvnrepository.com/artifact/javax.activation/javax.activation-api\n    implementation group: 'javax.activation', name: 'javax.activation-api', version: '1.2.0'\n\n    // https://mvnrepository.com/artifact/javax.persistence/javax.persistence-api\n    implementation group: 'javax.persistence', name: 'javax.persistence-api', version: '2.2'\n\n    // https://mvnrepository.com/artifact/javax.xml.bind/jaxb-api\n    implementation group: 'javax.xml.bind', name: 'jaxb-api', version: '2.3.1'\n\n    // https://mvnrepository.com/artifact/net.bytebuddy/byte-buddy\n    implementation group: 'net.bytebuddy', name: 'byte-buddy', version: '1.12.12'\n\n    // https://mvnrepository.com/artifact/org.glassfish.jaxb/jaxb-runtime\n    implementation group: 'org.glassfish.jaxb', name: 'jaxb-runtime', version: '4.0.0'\n\n    // https://mvnrepository.com/artifact/org.hibernate.common/hibernate-commons-annotations\n    implementation group: 'org.hibernate.common', name: 'hibernate-commons-annotations', version: '6.0.2.Final'\n\n    // https://mvnrepository.com/artifact/org.jboss/jandex\n    implementation group: 'org.jboss', name: 'jandex', version: '2.4.3.Final'\n\n    // https://mvnrepository.com/artifact/org.jboss.logging/jboss-logging\n    implementation group: 'org.jboss.logging', name: 'jboss-logging', version: '3.5.0.Final'\n\n    // https://mvnrepository.com/artifact/org.jboss.spec.javax.transaction/jboss-transaction-api_1.2_spec\n    implementation group: 'org.jboss.spec.javax.transaction', name: 'jboss-transaction-api_1.2_spec', version: '1.1.1.Final'\n\n    implementation files('lib/connection-manager-2.0.0.1.jar')\n    implementation files('lib/Utils-2.0.0.1.jar')\n    implementation files('lib/TinyLog-2.0.0.1.jar')\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n</code></pre>\n"},{"tags":["java","cors","jetty"],"answers":[{"tags":[],"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679943423,"creation_date":1679943423,"answer_id":75859410,"question_id":75848314,"body_markdown":"Capture your HTTP request that triggered this failure, pay attention to the all of the `Origin` headers (and all values).  \r\n\r\nFrom the error on your server, it appears to have received multiple `Origin` headers, and one of them was either empty/null (or had the string `null`), and the other was the value `*`","title":"Java Jetty Server giving error for blocked by CORS policy","body":"<p>Capture your HTTP request that triggered this failure, pay attention to the all of the <code>Origin</code> headers (and all values).</p>\n<p>From the error on your server, it appears to have received multiple <code>Origin</code> headers, and one of them was either empty/null (or had the string <code>null</code>), and the other was the value <code>*</code></p>\n"}],"owner":{"account_id":4232801,"reputation":3900,"user_id":3464777,"accept_rate":68,"display_name":"TheLovelySausage"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":171,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680021752,"creation_date":1679841051,"question_id":75848314,"body_markdown":"I am trying to add a CORS Filter to a Jetty Server (using Jetty 11.0.14) to allow Headers to be used from other domains but I am getting a few errors.\r\n\r\nWhen making a request I am getting\r\n\r\n    from origin &#39;null&#39; has been blocked by CORS policy: The &#39;Access-Control-Allow-Origin&#39; header contains multiple values &#39;null, *&#39;, but only one is allowed.\r\n\r\nI have a simple Jetty Server for testing to reproduce the issue I am having\r\n\r\n    import org.eclipse.jetty.util.thread.*;\r\n    import org.eclipse.jetty.server.*;\r\n    import org.eclipse.jetty.servlet.*;\r\n    import org.eclipse.jetty.servlets.*;\r\n    import jakarta.servlet.*;\r\n    import jakarta.servlet.http.*;\r\n    import java.io.*;\r\n\r\n    public class WebServerUtil {\r\n        public static void main(String[] args) {\r\n            try {\r\n                // setup server\r\n                QueuedThreadPool threadPool = new QueuedThreadPool();\r\n                threadPool.setName(&quot;server&quot;);\r\n                Server server = new Server(threadPool);\r\n\r\n                // setup server connections\r\n                HttpConfiguration config = new HttpConfiguration();\r\n                HttpConnectionFactory httpConnection = new HttpConnectionFactory(config);\r\n                ServerConnector connector = new ServerConnector(server, httpConnection);\r\n                connector.setHost(&quot;0.0.0.0&quot;);\r\n                connector.setPort(8080);\r\n                server.setConnectors(new Connector[] { connector });\r\n\r\n                // setup handler\r\n                ServletHandler handler = new ServletHandler();\r\n                server.setHandler(handler);\r\n\r\n                // setup cors\r\n                FilterHolder filter = new FilterHolder(CrossOriginFilter.class);\r\n                filter.setName(&quot;CORS&quot;);\r\n                filter.setInitParameter(CrossOriginFilter.ALLOWED_ORIGINS_PARAM, &quot;*&quot;);\r\n                filter.setInitParameter(CrossOriginFilter.ALLOWED_HEADERS_PARAM, &quot;*&quot;);\r\n                filter.setInitParameter(CrossOriginFilter.ALLOWED_METHODS_PARAM, &quot;POST, GET, OPTIONS&quot;);\r\n                FilterMapping mapping = new FilterMapping();\r\n                mapping.setFilterName(&quot;CORS&quot;);\r\n                mapping.setPathSpecs(new String[] {&quot;/*&quot;});\r\n                mapping.setDispatches(FilterMapping.ALL);\r\n                handler.addFilter(filter, mapping);\r\n\r\n                // basic route\r\n                ServletHolder nothing = new ServletHolder(new Nothing());\r\n                handler.addServletWithMapping(nothing, &quot;/&quot;);\r\n\r\n                // start server\r\n                server.start();\r\n                server.join();\r\n            } catch(Exception error) {\r\n                System.out.println(error.getMessage());\r\n            }\r\n        }\r\n    }\r\n\r\n    class Nothing extends HttpServlet {\r\n        private static final long serialVersionUID = 1L;\r\n        protected void doGet(HttpServletRequest req, HttpServletResponse res) throws ServletException, IOException {\r\n            res.setStatus(200);\r\n            res.addHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\r\n            res.addHeader(&quot;Access-Control-Allow-Headers&quot;, &quot;*&quot;);\r\n            res.addHeader(&quot;Access-Control-Allow-Methods&quot;, &quot;POST, GET, OPTIONS&quot;);\r\n            res.addHeader(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n            res.getWriter().println(&quot;{\\&quot;message\\&quot;:\\&quot;Nothing\\&quot;}&quot;);\r\n        }\r\n    }\r\n\r\nIf I remove the line for `handler.addFilter(filter, mapping);` under the setup cors bit it works but only when making requests with no Headers. I think I am doing something wrong with the CORS Filter setup\r\n\r\n*UPDATE*\r\n\r\nI have found another scenario where it works for both with and without Headers. If I remove the line for `handler.addFilter(filter, mapping);` under the setup cors and change the Nothing HttpServlet to manually handle the Options\r\n\r\n    class Nothing extends HttpServlet {\r\n        private static final long serialVersionUID = 1L;\r\n        protected void doOptions(HttpServletRequest req, HttpServletResponse res) throws ServletException, IOException {\r\n            res.setStatus(200);\r\n            res.addHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\r\n            res.addHeader(&quot;Access-Control-Allow-Headers&quot;, &quot;*&quot;);\r\n            res.addHeader(&quot;Access-Control-Allow-Methods&quot;, &quot;POST, GET, OPTIONS&quot;);\r\n            res.addHeader(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n            res.getWriter().println(&quot;{}&quot;);\r\n        }\r\n        protected void doGet(HttpServletRequest req, HttpServletResponse res) throws ServletException, IOException {\r\n            res.setStatus(200);\r\n            res.addHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\r\n            res.addHeader(&quot;Access-Control-Allow-Headers&quot;, &quot;*&quot;);\r\n            res.addHeader(&quot;Access-Control-Allow-Methods&quot;, &quot;POST, GET, OPTIONS&quot;);\r\n            res.addHeader(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n            res.getWriter().println(&quot;{\\&quot;message\\&quot;:\\&quot;Nothing\\&quot;}&quot;);\r\n        }\r\n    }\r\n\r\nThen it works fine but this feels like a hack","title":"Java Jetty Server giving error for blocked by CORS policy","body":"<p>I am trying to add a CORS Filter to a Jetty Server (using Jetty 11.0.14) to allow Headers to be used from other domains but I am getting a few errors.</p>\n<p>When making a request I am getting</p>\n<pre><code>from origin 'null' has been blocked by CORS policy: The 'Access-Control-Allow-Origin' header contains multiple values 'null, *', but only one is allowed.\n</code></pre>\n<p>I have a simple Jetty Server for testing to reproduce the issue I am having</p>\n<pre><code>import org.eclipse.jetty.util.thread.*;\nimport org.eclipse.jetty.server.*;\nimport org.eclipse.jetty.servlet.*;\nimport org.eclipse.jetty.servlets.*;\nimport jakarta.servlet.*;\nimport jakarta.servlet.http.*;\nimport java.io.*;\n\npublic class WebServerUtil {\n    public static void main(String[] args) {\n        try {\n            // setup server\n            QueuedThreadPool threadPool = new QueuedThreadPool();\n            threadPool.setName(&quot;server&quot;);\n            Server server = new Server(threadPool);\n\n            // setup server connections\n            HttpConfiguration config = new HttpConfiguration();\n            HttpConnectionFactory httpConnection = new HttpConnectionFactory(config);\n            ServerConnector connector = new ServerConnector(server, httpConnection);\n            connector.setHost(&quot;0.0.0.0&quot;);\n            connector.setPort(8080);\n            server.setConnectors(new Connector[] { connector });\n\n            // setup handler\n            ServletHandler handler = new ServletHandler();\n            server.setHandler(handler);\n\n            // setup cors\n            FilterHolder filter = new FilterHolder(CrossOriginFilter.class);\n            filter.setName(&quot;CORS&quot;);\n            filter.setInitParameter(CrossOriginFilter.ALLOWED_ORIGINS_PARAM, &quot;*&quot;);\n            filter.setInitParameter(CrossOriginFilter.ALLOWED_HEADERS_PARAM, &quot;*&quot;);\n            filter.setInitParameter(CrossOriginFilter.ALLOWED_METHODS_PARAM, &quot;POST, GET, OPTIONS&quot;);\n            FilterMapping mapping = new FilterMapping();\n            mapping.setFilterName(&quot;CORS&quot;);\n            mapping.setPathSpecs(new String[] {&quot;/*&quot;});\n            mapping.setDispatches(FilterMapping.ALL);\n            handler.addFilter(filter, mapping);\n\n            // basic route\n            ServletHolder nothing = new ServletHolder(new Nothing());\n            handler.addServletWithMapping(nothing, &quot;/&quot;);\n\n            // start server\n            server.start();\n            server.join();\n        } catch(Exception error) {\n            System.out.println(error.getMessage());\n        }\n    }\n}\n\nclass Nothing extends HttpServlet {\n    private static final long serialVersionUID = 1L;\n    protected void doGet(HttpServletRequest req, HttpServletResponse res) throws ServletException, IOException {\n        res.setStatus(200);\n        res.addHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\n        res.addHeader(&quot;Access-Control-Allow-Headers&quot;, &quot;*&quot;);\n        res.addHeader(&quot;Access-Control-Allow-Methods&quot;, &quot;POST, GET, OPTIONS&quot;);\n        res.addHeader(&quot;Content-Type&quot;, &quot;application/json&quot;);\n        res.getWriter().println(&quot;{\\&quot;message\\&quot;:\\&quot;Nothing\\&quot;}&quot;);\n    }\n}\n</code></pre>\n<p>If I remove the line for <code>handler.addFilter(filter, mapping);</code> under the setup cors bit it works but only when making requests with no Headers. I think I am doing something wrong with the CORS Filter setup</p>\n<p><em>UPDATE</em></p>\n<p>I have found another scenario where it works for both with and without Headers. If I remove the line for <code>handler.addFilter(filter, mapping);</code> under the setup cors and change the Nothing HttpServlet to manually handle the Options</p>\n<pre><code>class Nothing extends HttpServlet {\n    private static final long serialVersionUID = 1L;\n    protected void doOptions(HttpServletRequest req, HttpServletResponse res) throws ServletException, IOException {\n        res.setStatus(200);\n        res.addHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\n        res.addHeader(&quot;Access-Control-Allow-Headers&quot;, &quot;*&quot;);\n        res.addHeader(&quot;Access-Control-Allow-Methods&quot;, &quot;POST, GET, OPTIONS&quot;);\n        res.addHeader(&quot;Content-Type&quot;, &quot;application/json&quot;);\n        res.getWriter().println(&quot;{}&quot;);\n    }\n    protected void doGet(HttpServletRequest req, HttpServletResponse res) throws ServletException, IOException {\n        res.setStatus(200);\n        res.addHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\n        res.addHeader(&quot;Access-Control-Allow-Headers&quot;, &quot;*&quot;);\n        res.addHeader(&quot;Access-Control-Allow-Methods&quot;, &quot;POST, GET, OPTIONS&quot;);\n        res.addHeader(&quot;Content-Type&quot;, &quot;application/json&quot;);\n        res.getWriter().println(&quot;{\\&quot;message\\&quot;:\\&quot;Nothing\\&quot;}&quot;);\n    }\n}\n</code></pre>\n<p>Then it works fine but this feels like a hack</p>\n"},{"tags":["java","spring","spring-boot","openapi-generator","openapi-generator-maven-plugin"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1679992394,"post_id":75860861,"comment_id":133816024,"body_markdown":"`@Qualifier`/ your config *is the way* to fix the cited problem, but the error message points to constructor... If you plan to re-generate often, you *should* (in any case you *can*) use your config only, and exclude `ApiClient` from &quot;component scanning&quot;. Alternatively you could &quot;appropriate&quot; the generated code... (I.e. making it &quot;regular, versioned source&quot;, improving to your needs...but switching from &quot;API first&quot; to &quot;code next&quot; approach:)","body":"<code>@Qualifier</code>/ your config <i>is the way</i> to fix the cited problem, but the error message points to constructor... If you plan to re-generate often, you <i>should</i> (in any case you <i>can</i>) use your config only, and exclude <code>ApiClient</code> from &quot;component scanning&quot;. Alternatively you could &quot;appropriate&quot; the generated code... (I.e. making it &quot;regular, versioned source&quot;, improving to your needs...but switching from &quot;API first&quot; to &quot;code next&quot; approach:)"},{"owner":{"account_id":9726305,"reputation":68,"user_id":7213133,"display_name":"Berkay Bingol"},"score":0,"creation_date":1679997730,"post_id":75860861,"comment_id":133817431,"body_markdown":"@xerx593 Unfortunately, there is no chance for me to change the approach on a short-notice since it&#39;s a huge project. This ApiClient will be generated for each deployment. I tried to override ApiClient with a custom mustache template, but since there isn&#39;t any clear documentation about how to override the constructor, I couldn&#39;t find anything useful.","body":"@xerx593 Unfortunately, there is no chance for me to change the approach on a short-notice since it&#39;s a huge project. This ApiClient will be generated for each deployment. I tried to override ApiClient with a custom mustache template, but since there isn&#39;t any clear documentation about how to override the constructor, I couldn&#39;t find anything useful."}],"answers":[{"tags":[],"owner":{"account_id":9726305,"reputation":68,"user_id":7213133,"display_name":"Berkay Bingol"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680021436,"creation_date":1680021436,"answer_id":75868856,"question_id":75860861,"body_markdown":"I could be able to solve my problems by writing a custom mvn module with the ApiClient mustache template. \r\nIf you are wondering how is the constructor in this template;\r\n```\r\n    public ApiClient({{#restTemplateBeanName}}@Qualifier(&quot;{{restTemplateBeanName}}&quot;) {{/restTemplateBeanName}}RestTemplate restTemplate) {\r\n        this.restTemplate = restTemplate;\r\n        init();\r\n    }\r\n```Generator class\r\n\r\npublic class RGenerator extends JavaClientCodegen {\r\n\r\n    public static final String NAME = &quot;R&quot;;\r\n    public static final String REST_TEMPLATE_BEAN_NAME = &quot;restTemplateBeanName&quot;;\r\n\r\n    protected String restTemplateBeanName;\r\n\r\n    protected String propertiesConfigName;\r\n\r\n    public CodegenType getTag() {\r\n      return CodegenType.CLIENT;\r\n    }\r\n\r\n    public String getName() {\r\n      return NAME;\r\n    }\r\n\r\n    public String getHelp() {\r\n      return &quot;Generates a R client library.&quot;;\r\n    }\r\n\r\n    public RGenerator() {\r\n        super();\r\n        this.cliOptions.add(CliOption.newString(REST_TEMPLATE_BEAN_NAME, &quot;An optional RestTemplate bean name&quot;));\r\n    }\r\n\r\n    @Override\r\n    public void processOpts() {\r\n        super.processOpts();\r\n        setTemplateDir(NAME);\r\n        if (RESTTEMPLATE.equals(getLibrary())) {\r\n            this.restTemplateBeanName = (String) this.additionalProperties.get(REST_TEMPLATE_BEAN_NAME);\r\n        }\r\n\r\n    }\r\n\r\n```","title":"Spring Boot - Parameter of constructor required a single bean, but multiple were found for Generated ApiClient Constructor","body":"<p>I could be able to solve my problems by writing a custom mvn module with the ApiClient mustache template.\nIf you are wondering how is the constructor in this template;</p>\n<pre><code>    public ApiClient({{#restTemplateBeanName}}@Qualifier(&quot;{{restTemplateBeanName}}&quot;) {{/restTemplateBeanName}}RestTemplate restTemplate) {\n        this.restTemplate = restTemplate;\n        init();\n    }\n```Generator class\n\npublic class RGenerator extends JavaClientCodegen {\n\n    public static final String NAME = &quot;R&quot;;\n    public static final String REST_TEMPLATE_BEAN_NAME = &quot;restTemplateBeanName&quot;;\n\n    protected String restTemplateBeanName;\n\n    protected String propertiesConfigName;\n\n    public CodegenType getTag() {\n      return CodegenType.CLIENT;\n    }\n\n    public String getName() {\n      return NAME;\n    }\n\n    public String getHelp() {\n      return &quot;Generates a R client library.&quot;;\n    }\n\n    public RGenerator() {\n        super();\n        this.cliOptions.add(CliOption.newString(REST_TEMPLATE_BEAN_NAME, &quot;An optional RestTemplate bean name&quot;));\n    }\n\n    @Override\n    public void processOpts() {\n        super.processOpts();\n        setTemplateDir(NAME);\n        if (RESTTEMPLATE.equals(getLibrary())) {\n            this.restTemplateBeanName = (String) this.additionalProperties.get(REST_TEMPLATE_BEAN_NAME);\n        }\n\n    }\n\n</code></pre>\n"}],"owner":{"account_id":9726305,"reputation":68,"user_id":7213133,"display_name":"Berkay Bingol"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":454,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75868856,"answer_count":1,"score":1,"last_activity_date":1680021436,"creation_date":1679955763,"question_id":75860861,"body_markdown":"I&#39;m working on a Spring Boot application and I&#39;m getting an error related to multiple beans being found for generated ApiClient constructor. \r\nThe error message says:\r\n```\r\nParameter 0 of constructor in com.xxx.client.xxx.accounts.ApiClient required a single bean, but 5 were found:\r\n- accessTokenRestTemplate: defined by method &#39;accessTokenRestTemplate&#39; in class path resource [com/XXX/XXX/communication/http/HttpCommunicationConfiguration$OAuth2ClientConfiguration.class]\r\n- interServiceRestTemplate: defined by method &#39;interServiceRestTemplate&#39; in class path resource [com/XXX/XXX/communication/http/HttpCommunicationConfiguration.class]\r\n- fdsRestTemplate: defined by method &#39;fdsRestTemplate&#39; in class path resource [XXX/configuration/ApiRestTemplateOpenApiAutoConfiguration.class]\r\n- pfRestTemplate: defined by method &#39;pfRestTemplate&#39; in class path resource [XXX/openapi/common/configuration/ApiRestTemplateOpenApiAutoConfiguration.class]\r\n- clientRestTemplate: defined by method &#39;clientRestTemplate&#39; in class path resource [XXX/client/resttemplate/configuration/ClientHttpConfiguration.class]\r\n\r\n```\r\n\r\nBasically, my generated ApiClient has a constructor\r\n```\r\n    public ApiClient() {\r\n        this.restTemplate = buildRestTemplate();\r\n        init();\r\n    }\r\n\r\n    @Autowired\r\n    public ApiClient(RestTemplate restTemplate) {\r\n        this.restTemplate = restTemplate;\r\n        init();\r\n    }\r\n```\r\n\r\nThe error points this generated ApiClient and I believe it&#39;s because of this constructor.\r\nI am using &#39;EnableAutoConfiguration&#39; feature and I have the configuration class;\r\n```\r\n@Configuration\r\n@EnableConfigurationProperties({SecurityProperties.class, OrchestrationProperties.class})\r\n@Slf4j\r\npublic class LimitApiRestTemplateAutoConfiguration {\r\n    public static final String ACCOUNT_API_CLIENT = &quot;accountApiClient&quot;;\r\n\r\n    /**\r\n     * Create the limits {@link ApiClient} client.\r\n     *\r\n     * @param fdsRestTemplate The fds {@code RestTemplate}.\r\n     * @param properties      The {@code OrchestrationProperties}.\r\n     * @return The {@code ApiClient}.\r\n     */\r\n    @Bean\r\n    @Qualifier(ACCOUNT_API_CLIENT)\r\n    public ApiClient accountApiClient(@Qualifier(&quot;fdsRestTemplate&quot;) RestTemplate fdsRestTemplate,\r\n                                          LimitApiOrchestrationProperties properties) {\r\n        log.info(&quot;Creating limitsApiClient, properties: {}&quot;, properties);\r\n\r\n        ApiClient apiClient = new ApiClient(fdsRestTemplate);\r\n        apiClient.setBasePath(properties.getLimitsBaseUrl());\r\n\r\n        return apiClient;\r\n    }\r\n\r\n```\r\nI tried to use Qualifier to use &#39;fdsRestTemplate&#39; bean, but it didn&#39;t work. I am still getting the error. \r\n\r\nI also tried to override the ApiClient by using ApiClient.mustache, but it&#39;s really hard. \r\n\r\n\r\nWhat I am missing here? I can provide more details, the ApiClient is generated with an OpenApi Generator.\r\n\r\n","title":"Spring Boot - Parameter of constructor required a single bean, but multiple were found for Generated ApiClient Constructor","body":"<p>I'm working on a Spring Boot application and I'm getting an error related to multiple beans being found for generated ApiClient constructor.\nThe error message says:</p>\n<pre><code>Parameter 0 of constructor in com.xxx.client.xxx.accounts.ApiClient required a single bean, but 5 were found:\n- accessTokenRestTemplate: defined by method 'accessTokenRestTemplate' in class path resource [com/XXX/XXX/communication/http/HttpCommunicationConfiguration$OAuth2ClientConfiguration.class]\n- interServiceRestTemplate: defined by method 'interServiceRestTemplate' in class path resource [com/XXX/XXX/communication/http/HttpCommunicationConfiguration.class]\n- fdsRestTemplate: defined by method 'fdsRestTemplate' in class path resource [XXX/configuration/ApiRestTemplateOpenApiAutoConfiguration.class]\n- pfRestTemplate: defined by method 'pfRestTemplate' in class path resource [XXX/openapi/common/configuration/ApiRestTemplateOpenApiAutoConfiguration.class]\n- clientRestTemplate: defined by method 'clientRestTemplate' in class path resource [XXX/client/resttemplate/configuration/ClientHttpConfiguration.class]\n\n</code></pre>\n<p>Basically, my generated ApiClient has a constructor</p>\n<pre><code>    public ApiClient() {\n        this.restTemplate = buildRestTemplate();\n        init();\n    }\n\n    @Autowired\n    public ApiClient(RestTemplate restTemplate) {\n        this.restTemplate = restTemplate;\n        init();\n    }\n</code></pre>\n<p>The error points this generated ApiClient and I believe it's because of this constructor.\nI am using 'EnableAutoConfiguration' feature and I have the configuration class;</p>\n<pre><code>@Configuration\n@EnableConfigurationProperties({SecurityProperties.class, OrchestrationProperties.class})\n@Slf4j\npublic class LimitApiRestTemplateAutoConfiguration {\n    public static final String ACCOUNT_API_CLIENT = &quot;accountApiClient&quot;;\n\n    /**\n     * Create the limits {@link ApiClient} client.\n     *\n     * @param fdsRestTemplate The fds {@code RestTemplate}.\n     * @param properties      The {@code OrchestrationProperties}.\n     * @return The {@code ApiClient}.\n     */\n    @Bean\n    @Qualifier(ACCOUNT_API_CLIENT)\n    public ApiClient accountApiClient(@Qualifier(&quot;fdsRestTemplate&quot;) RestTemplate fdsRestTemplate,\n                                          LimitApiOrchestrationProperties properties) {\n        log.info(&quot;Creating limitsApiClient, properties: {}&quot;, properties);\n\n        ApiClient apiClient = new ApiClient(fdsRestTemplate);\n        apiClient.setBasePath(properties.getLimitsBaseUrl());\n\n        return apiClient;\n    }\n\n</code></pre>\n<p>I tried to use Qualifier to use 'fdsRestTemplate' bean, but it didn't work. I am still getting the error.</p>\n<p>I also tried to override the ApiClient by using ApiClient.mustache, but it's really hard.</p>\n<p>What I am missing here? I can provide more details, the ApiClient is generated with an OpenApi Generator.</p>\n"},{"tags":["java","spring","validation","web-services","postman"],"answers":[{"comments":[{"owner":{"account_id":10912623,"reputation":23,"user_id":9956200,"display_name":"MoonPie"},"score":0,"creation_date":1679554539,"post_id":75819968,"comment_id":133743112,"body_markdown":"Hi @Sidgate My code is throwing ConstrainViolationException and not MethodArgumentNotValidException.","body":"Hi @Sidgate My code is throwing ConstrainViolationException and not MethodArgumentNotValidException."},{"owner":{"account_id":10912623,"reputation":23,"user_id":9956200,"display_name":"MoonPie"},"score":0,"creation_date":1679559514,"post_id":75819968,"comment_id":133744144,"body_markdown":"Thanks This helped I extracted the message from errs and passed it to our custom error handler","body":"Thanks This helped I extracted the message from errs and passed it to our custom error handler"}],"tags":[],"owner":{"account_id":951981,"reputation":14760,"user_id":977919,"accept_rate":92,"display_name":"sidgate"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679558027,"creation_date":1679554419,"answer_id":75819968,"question_id":75819892,"body_markdown":"You can override the behaviour by implementing custom exception handler\r\n\r\n\r\n    @RestControllerAdvice\r\n    public class GlobalExceptionHandler extends DefaultHandlerExceptionResolver {\r\n    \r\n        @ResponseStatus(BAD_REQUEST)\r\n        @ExceptionHandler(value = {MethodArgumentNotValidException.class})\r\n        protected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid(MethodArgumentNotValidException exception) {\r\n            Map&lt;String, String&gt; errors = new HashMap&lt;&gt;();\r\n            exception.getBindingResult().getAllErrors().forEach((error) -&gt; {\r\n                String fieldName = ((FieldError) error).getField();\r\n                String errorMessage = error.getDefaultMessage();\r\n                errors.put(fieldName, errorMessage);\r\n            });\r\n            return status(BAD_REQUEST).body(Collections.singletonMap(&quot;errors&quot;, errors));\r\n        }\r\n    }\r\n\r\nIn case of `ConstraintVoilationException` you can add new exception handler\r\n\r\n    @ResponseStatus(BAD_REQUEST)\r\n    @ExceptionHandler(value = {ConstraintViolationException.class})\r\n    protected ResponseEntity&lt;Object&gt; handleConstraintVoilation(ConstraintViolationException exception) {\r\n        var violations = exception.getConstraintViolations();\r\n        var errs = violations.\r\n            stream().\r\n            map(ConstraintViolation::getMessage).\r\n            toList();\r\n        Map&lt;String, String&gt; errors = new HashMap&lt;&gt;();\r\n        return status(BAD_REQUEST).body(Collections.singletonMap(&quot;errors&quot;, errs));\r\n    }\r\n","title":"propertyPath being appended in error messages","body":"<p>You can override the behaviour by implementing custom exception handler</p>\n<pre><code>@RestControllerAdvice\npublic class GlobalExceptionHandler extends DefaultHandlerExceptionResolver {\n\n    @ResponseStatus(BAD_REQUEST)\n    @ExceptionHandler(value = {MethodArgumentNotValidException.class})\n    protected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid(MethodArgumentNotValidException exception) {\n        Map&lt;String, String&gt; errors = new HashMap&lt;&gt;();\n        exception.getBindingResult().getAllErrors().forEach((error) -&gt; {\n            String fieldName = ((FieldError) error).getField();\n            String errorMessage = error.getDefaultMessage();\n            errors.put(fieldName, errorMessage);\n        });\n        return status(BAD_REQUEST).body(Collections.singletonMap(&quot;errors&quot;, errors));\n    }\n}\n</code></pre>\n<p>In case of <code>ConstraintVoilationException</code> you can add new exception handler</p>\n<pre><code>@ResponseStatus(BAD_REQUEST)\n@ExceptionHandler(value = {ConstraintViolationException.class})\nprotected ResponseEntity&lt;Object&gt; handleConstraintVoilation(ConstraintViolationException exception) {\n    var violations = exception.getConstraintViolations();\n    var errs = violations.\n        stream().\n        map(ConstraintViolation::getMessage).\n        toList();\n    Map&lt;String, String&gt; errors = new HashMap&lt;&gt;();\n    return status(BAD_REQUEST).body(Collections.singletonMap(&quot;errors&quot;, errs));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10912623,"reputation":23,"user_id":9956200,"display_name":"MoonPie"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680021187,"creation_date":1679561071,"answer_id":75820817,"question_id":75819892,"body_markdown":"Inside your `handleConstraintVoilation(ConstraintViolationException ex)`, you can get a list of all the messages \r\n\r\n    var errors = new ArrayList&lt;&gt;(ex.getConstraintViolations());\r\n    var errs = errors.stream().map(ConstraintViolation::getMessage).toList();","title":"propertyPath being appended in error messages","body":"<p>Inside your <code>handleConstraintVoilation(ConstraintViolationException ex)</code>, you can get a list of all the messages</p>\n<pre><code>var errors = new ArrayList&lt;&gt;(ex.getConstraintViolations());\nvar errs = errors.stream().map(ConstraintViolation::getMessage).toList();\n</code></pre>\n"}],"owner":{"account_id":10912623,"reputation":23,"user_id":9956200,"display_name":"MoonPie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75819968,"answer_count":2,"score":0,"last_activity_date":1680021187,"creation_date":1679553521,"question_id":75819892,"body_markdown":"This is my validation class which implements ConstraintValidator\r\n\r\n```\r\n@Slf4j\r\npublic class DocumentMetaDataValidation implements ConstraintValidator&lt;DocumentMetaDataValidator, DocumentMetaDataApplicationRequest&gt; {\r\n\r\n    @Override\r\n    public boolean isValid(DocumentMetaDataApplicationRequest dataApplicationRequest, ConstraintValidatorContext constraintValidatorContext) {\r\n\r\n        constraintValidatorContext.disableDefaultConstraintViolation();\r\n        if(!Objects.nonNull(dataApplicationRequest)) {\r\n            log.error(&quot;Request Parameter is null/empty : &quot;);\r\n            constraintValidatorContext\r\n                    .buildConstraintViolationWithTemplate(&quot;Required parameter DocumentMetaDataApplicationRequest cannot be null/empty&quot;)\r\n                    .addConstraintViolation();\r\n            return false;\r\n        }\r\n        Set&lt;String&gt; documentTypeSet=new HashSet&lt;&gt;();\r\n        dataApplicationRequest.getDocumentDetails().stream().forEach(documentDetails -&gt;\r\n            documentTypeSet.add(documentDetails.getDocumentType()));\r\n\r\n        if (documentTypeSet.size()!=dataApplicationRequest.getDocumentDetails().size()){\r\n            log.error(&quot;Duplicate document type present &quot;);\r\n            constraintValidatorContext\r\n                    .buildConstraintViolationWithTemplate(&quot;Duplicate document type present&quot;)\r\n                    .addConstraintViolation();\r\n            return false;\r\n        }\r\n\r\n        return true;\r\n    }\r\n}\r\n```\r\n\r\nThis is my controller :\r\n\r\n```\r\n@PostMapping(path = &quot;/{referenceId}&quot;)\r\n  public Mono&lt;DocumentUploadResponse&gt; upload(\r\n      @NotBlank(message = &quot;reference Id cannot be blank&quot;)\r\n      @PathVariable(value = &quot;referenceId&quot;) String referenceId,\r\n      @NotEmpty(message = &quot;List should not be empty&quot;)\r\n      @DocumentValidator @RequestPart(value = &quot;documents&quot;) List&lt;FilePart&gt; document,\r\n      @DocumentMetaDataValidator @Valid @NotNull(message = &quot;DocumentMetadata cannot be null&quot;)\r\n      @RequestPart(value = &quot;documentsMetaData&quot;) DocumentMetaDataApplicationRequest documentMetaDataApplicationRequest) {\r\n\r\n    log.info(&quot;inside DocumentStorageController : uploadDocument()&quot;);\r\n    return documentStorageService.upload(referenceId, document, documentMetaDataApplicationRequest);\r\n\r\n  }\r\n```\r\n\r\n\r\nThis is my validator class\r\n\r\n```\r\n@Target( { FIELD, PARAMETER })\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Documented\r\n@Constraint(validatedBy = DocumentMetaDataValidation.class)\r\npublic @interface DocumentMetaDataValidator {\r\n    public String message() default ErrorMessage.VALIDATION_ERROR;\r\n\r\n    Class&lt;?&gt;[] groups() default {};\r\n\r\n    Class&lt;? extends Payload&gt;[] payload() default {};\r\n}\r\n```\r\n\r\n\r\nInstead of getting error as &quot;Duplicate document type present&quot; im getting &quot;upload.DocumentMetaDataApplicationRequest : Duplicate document type present&quot;\r\nwhere upload is the method in my controller and DocumentMetaDataApplicationRequest is the class that I am trying to validate.\r\n\r\nI tried to go through documentation It seems its is appending something called &quot;propertyPath&quot; which Im not able to get rid of.","title":"propertyPath being appended in error messages","body":"<p>This is my validation class which implements ConstraintValidator</p>\n<pre><code>@Slf4j\npublic class DocumentMetaDataValidation implements ConstraintValidator&lt;DocumentMetaDataValidator, DocumentMetaDataApplicationRequest&gt; {\n\n    @Override\n    public boolean isValid(DocumentMetaDataApplicationRequest dataApplicationRequest, ConstraintValidatorContext constraintValidatorContext) {\n\n        constraintValidatorContext.disableDefaultConstraintViolation();\n        if(!Objects.nonNull(dataApplicationRequest)) {\n            log.error(&quot;Request Parameter is null/empty : &quot;);\n            constraintValidatorContext\n                    .buildConstraintViolationWithTemplate(&quot;Required parameter DocumentMetaDataApplicationRequest cannot be null/empty&quot;)\n                    .addConstraintViolation();\n            return false;\n        }\n        Set&lt;String&gt; documentTypeSet=new HashSet&lt;&gt;();\n        dataApplicationRequest.getDocumentDetails().stream().forEach(documentDetails -&gt;\n            documentTypeSet.add(documentDetails.getDocumentType()));\n\n        if (documentTypeSet.size()!=dataApplicationRequest.getDocumentDetails().size()){\n            log.error(&quot;Duplicate document type present &quot;);\n            constraintValidatorContext\n                    .buildConstraintViolationWithTemplate(&quot;Duplicate document type present&quot;)\n                    .addConstraintViolation();\n            return false;\n        }\n\n        return true;\n    }\n}\n</code></pre>\n<p>This is my controller :</p>\n<pre><code>@PostMapping(path = &quot;/{referenceId}&quot;)\n  public Mono&lt;DocumentUploadResponse&gt; upload(\n      @NotBlank(message = &quot;reference Id cannot be blank&quot;)\n      @PathVariable(value = &quot;referenceId&quot;) String referenceId,\n      @NotEmpty(message = &quot;List should not be empty&quot;)\n      @DocumentValidator @RequestPart(value = &quot;documents&quot;) List&lt;FilePart&gt; document,\n      @DocumentMetaDataValidator @Valid @NotNull(message = &quot;DocumentMetadata cannot be null&quot;)\n      @RequestPart(value = &quot;documentsMetaData&quot;) DocumentMetaDataApplicationRequest documentMetaDataApplicationRequest) {\n\n    log.info(&quot;inside DocumentStorageController : uploadDocument()&quot;);\n    return documentStorageService.upload(referenceId, document, documentMetaDataApplicationRequest);\n\n  }\n</code></pre>\n<p>This is my validator class</p>\n<pre><code>@Target( { FIELD, PARAMETER })\n@Retention(RetentionPolicy.RUNTIME)\n@Documented\n@Constraint(validatedBy = DocumentMetaDataValidation.class)\npublic @interface DocumentMetaDataValidator {\n    public String message() default ErrorMessage.VALIDATION_ERROR;\n\n    Class&lt;?&gt;[] groups() default {};\n\n    Class&lt;? extends Payload&gt;[] payload() default {};\n}\n</code></pre>\n<p>Instead of getting error as &quot;Duplicate document type present&quot; im getting &quot;upload.DocumentMetaDataApplicationRequest : Duplicate document type present&quot;\nwhere upload is the method in my controller and DocumentMetaDataApplicationRequest is the class that I am trying to validate.</p>\n<p>I tried to go through documentation It seems its is appending something called &quot;propertyPath&quot; which Im not able to get rid of.</p>\n"},{"tags":["java","spring","spring-boot","grpc","grpc-java"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1679823878,"post_id":75846759,"comment_id":133786674,"body_markdown":"GRPC doesn&#39;t natively support HTTP1x only HTTP2. If you want to use HTTP1 you need some gateway in between that will do the conversion.","body":"GRPC doesn&#39;t natively support HTTP1x only HTTP2. If you want to use HTTP1 you need some gateway in between that will do the conversion."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1679823903,"post_id":75846759,"comment_id":133786677,"body_markdown":"Probably simply missing the domain and any prefixed protocol. It cannot guess the domain.","body":"Probably simply missing the domain and any prefixed protocol. It cannot guess the domain."},{"owner":{"account_id":15549353,"reputation":147,"user_id":15204797,"display_name":"Pushpak"},"score":0,"creation_date":1679825620,"post_id":75846759,"comment_id":133786870,"body_markdown":"@M.Deinum - That is what I have tried doing by referring to the docs at https://github.com/grpc-ecosystem/grpc-gateway\nThe Docs are in Go reference and tried doing the same for Java, but still not working.","body":"@M.Deinum - That is what I have tried doing by referring to the docs at <a href=\"https://github.com/grpc-ecosystem/grpc-gateway\" rel=\"nofollow noreferrer\">github.com/grpc-ecosystem/grpc-gateway</a> The Docs are in Go reference and tried doing the same for Java, but still not working."}],"answers":[{"tags":[],"owner":{"account_id":24519330,"reputation":91,"user_id":18432631,"display_name":"Terry"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680021107,"creation_date":1680021107,"answer_id":75868805,"question_id":75846759,"body_markdown":"Java gRPC does not support any notion of converting from http1 to http2 and you can not add it to it by utilizing grpc-gateway. You CAN use grpc-gateway to create a separate proxy that can handle this conversion, but it would run as it&#39;s own separate process, independent of your Java application.\r\n\r\nYou may have adopted some Go specific instructions that have grpc-gateway embedded in the gRPC server, but this is only possible for Go implementations. I would recommend taking another look at the instructions and build your standalone gateway.","title":"Not able to execute HTTP/1.x requests for gRPC service","body":"<p>Java gRPC does not support any notion of converting from http1 to http2 and you can not add it to it by utilizing grpc-gateway. You CAN use grpc-gateway to create a separate proxy that can handle this conversion, but it would run as it's own separate process, independent of your Java application.</p>\n<p>You may have adopted some Go specific instructions that have grpc-gateway embedded in the gRPC server, but this is only possible for Go implementations. I would recommend taking another look at the instructions and build your standalone gateway.</p>\n"}],"owner":{"account_id":15549353,"reputation":147,"user_id":15204797,"display_name":"Pushpak"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":543,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680021107,"creation_date":1679820942,"question_id":75846759,"body_markdown":"I am trying to execute an HTTP/1.x request for a gRPC service, but getting below error.\r\n```\r\nio.grpc.netty.shaded.io.netty.handler.codec.http2.Http2Exception: Unexpected HTTP/1.x request: GET /author/1 \r\n\tat io.grpc.netty.shaded.io.netty.handler.codec.http2.Http2Exception.connectionError(Http2Exception.java:109) ~[grpc-netty-shaded-1.51.0.jar:1.51.0]\r\n\tat io.grpc.netty.shaded.io.netty.handler.codec.http2.Http2ConnectionHandler$PrefaceDecoder.readClientPrefaceString(Http2ConnectionHandler.java:317) ~[grpc-netty-shaded-1.51.0.jar:1.51.0]\r\n\tat io.grpc.netty.shaded.io.netty.handler.codec.http2.Http2ConnectionHandler$PrefaceDecoder.decode(Http2ConnectionHandler.java:247) ~[grpc-netty-shaded-1.51.0.jar:1.51.0]\r\n\tat io.grpc.netty.shaded.io.netty.handler.codec.http2.Http2ConnectionHandler.decode(Http2ConnectionHandler.java:453) ~[grpc-netty-shaded-1.51.0.jar:1.51.0]\r\n\tat io.grpc.netty.shaded.io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:510) ~[grpc-netty-shaded-1.51.0.jar:1.51.0]\r\n\tat io.grpc.netty.shaded.io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:449) ~[grpc-netty-shaded-1.51.0.jar:1.51.0]\r\n\tat io.grpc.netty.shaded.io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:279) ~[grpc-netty-shaded-1.51.0.jar:1.51.0]\r\n\tat io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[grpc-netty-shaded-1.51.0.jar:1.51.0]\r\n\tat io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[grpc-netty-shaded-1.51.0.jar:1.51.0]\r\n\tat io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[grpc-netty-shaded-1.51.0.jar:1.51.0]\r\n\tat io.grpc.netty.shaded.io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) ~[grpc-netty-shaded-1.51.0.jar:1.51.0]\r\n\tat io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[grpc-netty-shaded-1.51.0.jar:1.51.0]\r\n\tat io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[grpc-netty-shaded-1.51.0.jar:1.51.0]\r\n\tat io.grpc.netty.shaded.io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) ~[grpc-netty-shaded-1.51.0.jar:1.51.0]\r\n\tat io.grpc.netty.shaded.io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166) ~[grpc-netty-shaded-1.51.0.jar:1.51.0]\r\n\tat io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722) ~[grpc-netty-shaded-1.51.0.jar:1.51.0]\r\n\tat io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658) ~[grpc-netty-shaded-1.51.0.jar:1.51.0]\r\n\tat io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584) ~[grpc-netty-shaded-1.51.0.jar:1.51.0]\r\n\tat io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496) ~[grpc-netty-shaded-1.51.0.jar:1.51.0]\r\n\tat io.grpc.netty.shaded.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[grpc-netty-shaded-1.51.0.jar:1.51.0]\r\n\tat io.grpc.netty.shaded.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[grpc-netty-shaded-1.51.0.jar:1.51.0]\r\n\tat io.grpc.netty.shaded.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[grpc-netty-shaded-1.51.0.jar:1.51.0]\r\n\tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n```\r\nMy .proto file is as below.\r\n```\r\nsyntax = &quot;proto3&quot;;\r\npackage com.myapp.grpc_server.proto;\r\n\r\noption java_multiple_files = true;\r\n\r\nimport &quot;google/api/annotations.proto&quot;;\r\n\r\nmessage Book {\r\n  int32 book_id = 1;\r\n  string title = 2;\r\n  float book_price = 3;\r\n  int32 pages = 4;\r\n  int32 author_id = 5;\r\n}\r\n\r\nmessage Author {\r\n  int32 author_id = 1;\r\n  string first_name = 2;\r\n  string last_name = 3;\r\n  string gender = 4;\r\n  int32 book_id = 5;\r\n}\r\n\r\nservice BookAuthorService {\r\n  //unary - synchronous - client will send one request and one response will be received.\r\n  rpc getAuthor(Author) returns (Author) {\r\n    option (google.api.http) = {\r\n      get: &quot;/author/{id}&quot;\r\n    };\r\n  }\r\n}\r\n```\r\n[![My proto directory containing my .proto file along with annotations.proto and http.proto files copied from googleapis github.com/googleapis/googleapis][1]][1]\r\n\r\n\r\n```\r\nMy proto directory containing my .proto file along with annotations.proto and http.proto files copied from googleapis github.com/googleapis/googleapis\r\n```\r\n[![generated sources after compiling][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/x89oj.png\r\n  [2]: https://i.stack.imgur.com/uAfJB.png\r\n\r\n```\r\ngenerated sources after compiling\r\n```\r\nGrpcService Class\r\n\r\n```\r\npackage com.myapp.grpcserver.service;\r\n\r\nimport com.myapp.grpc_server.proto.Author;\r\nimport com.myapp.grpc_server.proto.Book;\r\nimport com.myapp.grpc_server.proto.BookAuthorServiceGrpc;\r\nimport com.myapp.grpcserver.setup.TempDB;\r\nimport io.grpc.stub.StreamObserver;\r\nimport net.devh.boot.grpc.server.service.GrpcService;\r\n\r\n@GrpcService\r\npublic class BookAuthorService extends BookAuthorServiceGrpc.BookAuthorServiceImplBase {\r\n\r\n    @Override\r\n    public void getAuthor(Author request, StreamObserver&lt;Author&gt; responseObserver) {\r\n        TempDB.authors.stream()\r\n                .filter(author -&gt; author.getAuthorId() == request.getAuthorId())\r\n                .findFirst()\r\n                .ifPresent(responseObserver::onNext);\r\n        responseObserver.onCompleted();\r\n    }\r\n}\r\n```\r\nI am firing a GET Request using browser on the defined end-point but getting above error. Please suggest where I am wrong and what I need to do. Please share any working examples in Java as official docs of grpc-gateway is in Go.","title":"Not able to execute HTTP/1.x requests for gRPC service","body":"<p>I am trying to execute an HTTP/1.x request for a gRPC service, but getting below error.</p>\n<pre><code>io.grpc.netty.shaded.io.netty.handler.codec.http2.Http2Exception: Unexpected HTTP/1.x request: GET /author/1 \n    at io.grpc.netty.shaded.io.netty.handler.codec.http2.Http2Exception.connectionError(Http2Exception.java:109) ~[grpc-netty-shaded-1.51.0.jar:1.51.0]\n    at io.grpc.netty.shaded.io.netty.handler.codec.http2.Http2ConnectionHandler$PrefaceDecoder.readClientPrefaceString(Http2ConnectionHandler.java:317) ~[grpc-netty-shaded-1.51.0.jar:1.51.0]\n    at io.grpc.netty.shaded.io.netty.handler.codec.http2.Http2ConnectionHandler$PrefaceDecoder.decode(Http2ConnectionHandler.java:247) ~[grpc-netty-shaded-1.51.0.jar:1.51.0]\n    at io.grpc.netty.shaded.io.netty.handler.codec.http2.Http2ConnectionHandler.decode(Http2ConnectionHandler.java:453) ~[grpc-netty-shaded-1.51.0.jar:1.51.0]\n    at io.grpc.netty.shaded.io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:510) ~[grpc-netty-shaded-1.51.0.jar:1.51.0]\n    at io.grpc.netty.shaded.io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:449) ~[grpc-netty-shaded-1.51.0.jar:1.51.0]\n    at io.grpc.netty.shaded.io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:279) ~[grpc-netty-shaded-1.51.0.jar:1.51.0]\n    at io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[grpc-netty-shaded-1.51.0.jar:1.51.0]\n    at io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[grpc-netty-shaded-1.51.0.jar:1.51.0]\n    at io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[grpc-netty-shaded-1.51.0.jar:1.51.0]\n    at io.grpc.netty.shaded.io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) ~[grpc-netty-shaded-1.51.0.jar:1.51.0]\n    at io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[grpc-netty-shaded-1.51.0.jar:1.51.0]\n    at io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[grpc-netty-shaded-1.51.0.jar:1.51.0]\n    at io.grpc.netty.shaded.io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) ~[grpc-netty-shaded-1.51.0.jar:1.51.0]\n    at io.grpc.netty.shaded.io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166) ~[grpc-netty-shaded-1.51.0.jar:1.51.0]\n    at io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722) ~[grpc-netty-shaded-1.51.0.jar:1.51.0]\n    at io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658) ~[grpc-netty-shaded-1.51.0.jar:1.51.0]\n    at io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584) ~[grpc-netty-shaded-1.51.0.jar:1.51.0]\n    at io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496) ~[grpc-netty-shaded-1.51.0.jar:1.51.0]\n    at io.grpc.netty.shaded.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[grpc-netty-shaded-1.51.0.jar:1.51.0]\n    at io.grpc.netty.shaded.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[grpc-netty-shaded-1.51.0.jar:1.51.0]\n    at io.grpc.netty.shaded.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[grpc-netty-shaded-1.51.0.jar:1.51.0]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n</code></pre>\n<p>My .proto file is as below.</p>\n<pre><code>syntax = &quot;proto3&quot;;\npackage com.myapp.grpc_server.proto;\n\noption java_multiple_files = true;\n\nimport &quot;google/api/annotations.proto&quot;;\n\nmessage Book {\n  int32 book_id = 1;\n  string title = 2;\n  float book_price = 3;\n  int32 pages = 4;\n  int32 author_id = 5;\n}\n\nmessage Author {\n  int32 author_id = 1;\n  string first_name = 2;\n  string last_name = 3;\n  string gender = 4;\n  int32 book_id = 5;\n}\n\nservice BookAuthorService {\n  //unary - synchronous - client will send one request and one response will be received.\n  rpc getAuthor(Author) returns (Author) {\n    option (google.api.http) = {\n      get: &quot;/author/{id}&quot;\n    };\n  }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/x89oj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/x89oj.png\" alt=\"My proto directory containing my .proto file along with annotations.proto and http.proto files copied from googleapis github.com/googleapis/googleapis\" /></a></p>\n<pre><code>My proto directory containing my .proto file along with annotations.proto and http.proto files copied from googleapis github.com/googleapis/googleapis\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/uAfJB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uAfJB.png\" alt=\"generated sources after compiling\" /></a></p>\n<pre><code>generated sources after compiling\n</code></pre>\n<p>GrpcService Class</p>\n<pre><code>package com.myapp.grpcserver.service;\n\nimport com.myapp.grpc_server.proto.Author;\nimport com.myapp.grpc_server.proto.Book;\nimport com.myapp.grpc_server.proto.BookAuthorServiceGrpc;\nimport com.myapp.grpcserver.setup.TempDB;\nimport io.grpc.stub.StreamObserver;\nimport net.devh.boot.grpc.server.service.GrpcService;\n\n@GrpcService\npublic class BookAuthorService extends BookAuthorServiceGrpc.BookAuthorServiceImplBase {\n\n    @Override\n    public void getAuthor(Author request, StreamObserver&lt;Author&gt; responseObserver) {\n        TempDB.authors.stream()\n                .filter(author -&gt; author.getAuthorId() == request.getAuthorId())\n                .findFirst()\n                .ifPresent(responseObserver::onNext);\n        responseObserver.onCompleted();\n    }\n}\n</code></pre>\n<p>I am firing a GET Request using browser on the defined end-point but getting above error. Please suggest where I am wrong and what I need to do. Please share any working examples in Java as official docs of grpc-gateway is in Go.</p>\n"},{"tags":["java","spring","intellij-idea","model-view-controller"],"comments":[{"owner":{"account_id":8761405,"reputation":1504,"user_id":6551263,"display_name":"Chetan Ahirrao"},"score":0,"creation_date":1679570082,"post_id":75820903,"comment_id":133746711,"body_markdown":"Can you share contents of `pom.xml`","body":"Can you share contents of <code>pom.xml</code>"},{"owner":{"display_name":"user19654017"},"score":0,"creation_date":1679906116,"post_id":75820903,"comment_id":133798248,"body_markdown":"@ChetanAhirrao please check, I have attached pom.xml","body":"@ChetanAhirrao please check, I have attached pom.xml"}],"answers":[{"comments":[{"owner":{"account_id":10158709,"reputation":943,"user_id":7502914,"display_name":"Timmy Chan"},"score":0,"creation_date":1679992719,"post_id":75855421,"comment_id":133816127,"body_markdown":"It is hard to know what cause this error. You may try to remove `&lt;scope&gt;provided&lt;/scope&gt;` that is below  `&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;`. Else, you may need to post another question and provide more info about the configurations of your project.","body":"It is hard to know what cause this error. You may try to remove <code>&lt;scope&gt;provided&lt;&#47;scope&gt;</code> that is below  <code>&lt;artifactId&gt;spring-boot-starter-tomcat&lt;&#47;artifactId&gt;</code>. Else, you may need to post another question and provide more info about the configurations of your project."}],"tags":[],"owner":{"account_id":10158709,"reputation":943,"user_id":7502914,"display_name":"Timmy Chan"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679917836,"creation_date":1679917836,"answer_id":75855421,"question_id":75820903,"body_markdown":"Your error message says this:\r\n```\r\nCaused by: java.lang.ClassNotFoundException: javax.servlet.ServletContext\r\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:583)\r\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n    ... 28 common frames omitted\r\n```\r\n\r\nIt means you are probably missing the `javax.servlet` dependency.\r\n\r\n\r\nAdd this to your pom.xml, and change the version to match your project needs:\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n    &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n    &lt;version&gt;4.0.1&lt;/version&gt;\r\n    &lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```","title":"Failing to parse configuration class [package name] I need to run the application","body":"<p>Your error message says this:</p>\n<pre><code>Caused by: java.lang.ClassNotFoundException: javax.servlet.ServletContext\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:583)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n    ... 28 common frames omitted\n</code></pre>\n<p>It means you are probably missing the <code>javax.servlet</code> dependency.</p>\n<p>Add this to your pom.xml, and change the version to match your project needs:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n    &lt;version&gt;4.0.1&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"display_name":"user19654017"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1518,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680020597,"creation_date":1679561677,"question_id":75820903,"body_markdown":"\r\n\r\nI am running the main class project and expecting to launch the application I am setting up an Intellij Environment and importing the project from Git. While launching the project its throwing me the above error\r\n","title":"Failing to parse configuration class [package name] I need to run the application","body":"<p>I am running the main class project and expecting to launch the application I am setting up an Intellij Environment and importing the project from Git. While launching the project its throwing me the above error</p>\n"},{"tags":["java","database"],"comments":[{"owner":{"account_id":11133396,"reputation":1266,"user_id":9118951,"display_name":"Milan Desai"},"score":0,"creation_date":1560512300,"post_id":56597335,"comment_id":99770798,"body_markdown":"are you sure you have provided correct code as you mentioned in question ? I dont see usage of resultSet","body":"are you sure you have provided correct code as you mentioned in question ? I dont see usage of resultSet"},{"owner":{"account_id":12076549,"reputation":97,"user_id":8829782,"display_name":"Dolly"},"score":0,"creation_date":1560512409,"post_id":56597335,"comment_id":99770859,"body_markdown":"Yes but it was not working","body":"Yes but it was not working"},{"owner":{"account_id":5715690,"reputation":2296,"user_id":4515989,"accept_rate":78,"display_name":"Felix"},"score":0,"creation_date":1560512646,"post_id":56597335,"comment_id":99770969,"body_markdown":"@Dhanraj what he is using is not JDBC, it is DataStax Cassandra Driver","body":"@Dhanraj what he is using is not JDBC, it is DataStax Cassandra Driver"},{"owner":{"account_id":14129013,"reputation":1232,"user_id":10207455,"display_name":"Dhanraj"},"score":0,"creation_date":1560512752,"post_id":56597335,"comment_id":99771015,"body_markdown":"Oh yes.. sorry .. I misundertood","body":"Oh yes.. sorry .. I misundertood"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1560549867,"post_id":56597335,"comment_id":99787364,"body_markdown":"If this is not [JDBC](https://en.wikipedia.org/wiki/Java_Database_Connectivity), make that clear in the body and title of your Question. The Question and comments make this quite unclear.","body":"If this is not <a href=\"https://en.wikipedia.org/wiki/Java_Database_Connectivity\" rel=\"nofollow noreferrer\">JDBC</a>, make that clear in the body and title of your Question. The Question and comments make this quite unclear."}],"answers":[{"tags":[],"owner":{"account_id":5715690,"reputation":2296,"user_id":4515989,"accept_rate":78,"display_name":"Felix"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1560513012,"creation_date":1560513012,"answer_id":56597596,"question_id":56597335,"body_markdown":"You can get the column via the `ResultSet.getColumnDefinitions` Method\r\n\r\n    com.datastax.driver.core.ResultSet result = xxxxx;\r\n            \r\n    for (Definition definition : result.getColumnDefinitions()) {\r\n        String name = definition.getName();\r\n    }","title":"How to fetch database table column names in java","body":"<p>You can get the column via the <code>ResultSet.getColumnDefinitions</code> Method</p>\n\n<pre><code>com.datastax.driver.core.ResultSet result = xxxxx;\n\nfor (Definition definition : result.getColumnDefinitions()) {\n    String name = definition.getName();\n}\n</code></pre>\n"}],"owner":{"account_id":12076549,"reputation":97,"user_id":8829782,"display_name":"Dolly"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":235,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1680020147,"creation_date":1560511949,"question_id":56597335,"body_markdown":"I need to display all the columns from the table in java. So far I have tried resultSet java object but it is not working for me\r\n```java\r\npublic class dbtest {\r\n\r\n\tpublic static Session session = null;\r\n\r\n\tpublic ArrayList &lt; String &gt; ColValue() throws IOException {\r\n\t\t// TODO Auto-generated method stub\r\n\r\n\t\tFileReader reader = new FileReader(&quot;Configuration\\\\Config.properties&quot;);\r\n\r\n\t\tProperties p = new Properties();\r\n\t\tp.load(reader);\r\n\r\n\t\tString serverIp = p.getProperty(&quot;ServerIp&quot;);\r\n\t\tString keyspace = p.getProperty(&quot;ServerPwd&quot;);\r\n\r\n\t\tCluster cluster = Cluster.builder().addContactPoints(serverIp).withCredentials(&quot;user&quot;, &quot;password&quot;).build();\r\n\t\tsession = cluster.connect(server);\r\n\t\tString query = null;\r\n\t\tString cqlStatement = &quot;select * from table_name&quot;;\r\n\r\n\t\tArrayList &lt; String &gt; casVal1 = new ArrayList &lt; &gt;();\r\n\t\tfor (Row row: session.execute(cqlStatement)) {\r\n\t\t\tif (!casVal1.contains(query)) {\r\n\t\t\t\tcasVal1.add(query);\r\n\t\t\t}\r\n\t\t}\r\n\t\tSystem.out.println(casVal1.size());\r\n\t\tSystem.out.println(casVal1);\r\n\r\n\t\treturn (casVal1);\r\n\t}\r\n}\r\n```\r\nNeed all the columns in results as outcomes.","title":"How to fetch database table column names in java","body":"<p>I need to display all the columns from the table in java. So far I have tried resultSet java object but it is not working for me</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class dbtest {\n\n    public static Session session = null;\n\n    public ArrayList &lt; String &gt; ColValue() throws IOException {\n        // TODO Auto-generated method stub\n\n        FileReader reader = new FileReader(\"Configuration\\\\Config.properties\");\n\n        Properties p = new Properties();\n        p.load(reader);\n\n        String serverIp = p.getProperty(\"ServerIp\");\n        String keyspace = p.getProperty(\"ServerPwd\");\n\n        Cluster cluster = Cluster.builder().addContactPoints(serverIp).withCredentials(\"user\", \"password\").build();\n        session = cluster.connect(server);\n        String query = null;\n        String cqlStatement = \"select * from table_name\";\n\n        ArrayList &lt; String &gt; casVal1 = new ArrayList &lt; &gt;();\n        for (Row row: session.execute(cqlStatement)) {\n            if (!casVal1.contains(query)) {\n                casVal1.add(query);\n            }\n        }\n        System.out.println(casVal1.size());\n        System.out.println(casVal1);\n\n        return (casVal1);\n    }\n}\n</code></pre>\n\n<p>Need all the columns in results as outcomes.</p>\n"},{"tags":["java","aerospike"],"comments":[{"owner":{"account_id":7365569,"reputation":114,"user_id":5607380,"display_name":"Rohit Magdum"},"score":1,"creation_date":1457932618,"post_id":35937396,"comment_id":59613739,"body_markdown":"I have not used redis extensively, so not sure if I will be able to answer your question to the point, but as far as I know the difference between Redis and Aerospike is that Aerospike is multi-threaded from the go. Plus Aerospike has a Java client library that is a extra intelligent layer between your code and Aerospike server. So in any case you may not have to worry about pipelining anything in Aerospike. You can use it assuming your commands are pipelined and you should get the response. Hope this helps.","body":"I have not used redis extensively, so not sure if I will be able to answer your question to the point, but as far as I know the difference between Redis and Aerospike is that Aerospike is multi-threaded from the go. Plus Aerospike has a Java client library that is a extra intelligent layer between your code and Aerospike server. So in any case you may not have to worry about pipelining anything in Aerospike. You can use it assuming your commands are pipelined and you should get the response. Hope this helps."}],"answers":[{"comments":[{"owner":{"account_id":284371,"reputation":6961,"user_id":582436,"display_name":"Ronen Botzer"},"score":0,"creation_date":1484858173,"post_id":36108601,"comment_id":70694852,"body_markdown":"Aerospike also has the ability to do batch-reads to get multiple records concurrently.","body":"Aerospike also has the ability to do batch-reads to get multiple records concurrently."},{"owner":{"account_id":26842,"reputation":6543,"user_id":70198,"accept_rate":98,"display_name":"Baiyan Huang"},"score":0,"creation_date":1680010797,"post_id":36108601,"comment_id":133821124,"body_markdown":"&gt; run multiple commands in parallel over the same connection  --- Curious how is this achieved.","body":"&gt; run multiple commands in parallel over the same connection  --- Curious how is this achieved."},{"owner":{"account_id":57854,"reputation":7867,"user_id":173322,"display_name":"Mani Gandham"},"score":0,"creation_date":1680019843,"post_id":36108601,"comment_id":133823833,"body_markdown":"@BaiyanHuang Almost all wire protocols achieve this the same way, by using an abstraction on top of the underlying TCP connection to create command streams and/or add identifiers to requests and responses so that both client and server can process them concurrently. Redis protocol doesn&#39;t have this abstraction and is just a simple TCP server with text-based request/response.","body":"@BaiyanHuang Almost all wire protocols achieve this the same way, by using an abstraction on top of the underlying TCP connection to create command streams and/or add identifiers to requests and responses so that both client and server can process them concurrently. Redis protocol doesn&#39;t have this abstraction and is just a simple TCP server with text-based request/response."}],"tags":[],"owner":{"account_id":57854,"reputation":7867,"user_id":173322,"display_name":"Mani Gandham"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1680019694,"creation_date":1458430815,"answer_id":36108601,"question_id":35937396,"body_markdown":"Redis is a single-threaded database with a simple request/response protocol. Since every command must be processed one by one, and each request has to have a response back, this can add up to a lot of latency if you have many operations. Pipelining is a way to send multiple commands at once, have the server process all of them, then get all the results back in a batch.\r\n\r\nAerospike is multi-threaded with its own custom wire protocol that can run multiple commands in parallel over the same connection. The official drivers handle sending commands as efficiently as possible.\r\n\r\nAerospike does have something called Multiple Operations which means you can send multiple commands that *act on the same key* as one combined command. The java (and other language) drivers also support async operations which should further increase concurrent performance in your code.","title":"How to implements redis pipeline similar behavior in aerospike","body":"<p>Redis is a single-threaded database with a simple request/response protocol. Since every command must be processed one by one, and each request has to have a response back, this can add up to a lot of latency if you have many operations. Pipelining is a way to send multiple commands at once, have the server process all of them, then get all the results back in a batch.</p>\n<p>Aerospike is multi-threaded with its own custom wire protocol that can run multiple commands in parallel over the same connection. The official drivers handle sending commands as efficiently as possible.</p>\n<p>Aerospike does have something called Multiple Operations which means you can send multiple commands that <em>act on the same key</em> as one combined command. The java (and other language) drivers also support async operations which should further increase concurrent performance in your code.</p>\n"}],"owner":{"account_id":5824774,"reputation":233,"user_id":4591582,"accept_rate":44,"display_name":"visingh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":369,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":36108601,"answer_count":1,"score":0,"last_activity_date":1680019694,"creation_date":1457691205,"question_id":35937396,"body_markdown":"Can any one please suggest, how to implement/use redis pipeline like behavior in aerospike java client. \r\n","title":"How to implements redis pipeline similar behavior in aerospike","body":"<p>Can any one please suggest, how to implement/use redis pipeline like behavior in aerospike java client. </p>\n"},{"tags":["java","junit","mockito","assertion"],"answers":[{"tags":[],"owner":{"account_id":22577442,"reputation":758,"user_id":16775102,"display_name":"Feel free"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680019163,"creation_date":1680019163,"answer_id":75868506,"question_id":75868244,"body_markdown":"\r\nYes, you are correct, using thenThrow in a test case for IOException will cover the execution of the catch block.\r\nThis approach is great for testing the behavior of your code when an exception is thrown.\r\n\r\nHowever, it&#39;s also a good idea to verify that the expected logging statement is executed when the exception is caught.\r\nThis ensures that your application logs appropriate information when errors occur, which is important for troubleshooting and debugging.\r\n","title":"Is it necessary to verify/assert values printed by loggers?","body":"<p>Yes, you are correct, using thenThrow in a test case for IOException will cover the execution of the catch block.\nThis approach is great for testing the behavior of your code when an exception is thrown.</p>\n<p>However, it's also a good idea to verify that the expected logging statement is executed when the exception is caught.\nThis ensures that your application logs appropriate information when errors occur, which is important for troubleshooting and debugging.</p>\n"}],"owner":{"account_id":7459880,"reputation":117,"user_id":5672527,"accept_rate":60,"display_name":"sreffejnnayr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680019163,"creation_date":1680017469,"question_id":75868244,"body_markdown":"Given that the most LOGGERs are actually declared as *private static final*, I was wondering for the proper testing standard when asserting methods that fall under the catch block. Although I know PowerMockito can best these kinds of access modifiers, but its too expedient and unnecessary.\r\n\r\n    class Sample {\r\n        private static final Logger LOGGER = LoggerFactory.getLogger(Sample.class);\r\n        .\r\n        .\r\n        .\r\n        private void method() {\r\n        \ttry {\r\n        \t\thttpClient.execute(httpPost);\r\n        \t} catch(IOException e) {\r\n        \t\tLog.e(LOGGER, &quot;Error encountered in service:&quot;, e);\r\n        \t}\r\n        }\r\n    }\r\n\r\nI have seen people use appenders and verify these messages that are received but is it really proper to test that something has been logged? Wouldn&#39;t just using a *thenThrow* cover the catch anyway? \r\n\r\n    when(client.execute(any(HttpPost.class))).thenThrow(new IOException());","title":"Is it necessary to verify/assert values printed by loggers?","body":"<p>Given that the most LOGGERs are actually declared as <em>private static final</em>, I was wondering for the proper testing standard when asserting methods that fall under the catch block. Although I know PowerMockito can best these kinds of access modifiers, but its too expedient and unnecessary.</p>\n<pre><code>class Sample {\n    private static final Logger LOGGER = LoggerFactory.getLogger(Sample.class);\n    .\n    .\n    .\n    private void method() {\n        try {\n            httpClient.execute(httpPost);\n        } catch(IOException e) {\n            Log.e(LOGGER, &quot;Error encountered in service:&quot;, e);\n        }\n    }\n}\n</code></pre>\n<p>I have seen people use appenders and verify these messages that are received but is it really proper to test that something has been logged? Wouldn't just using a <em>thenThrow</em> cover the catch anyway?</p>\n<pre><code>when(client.execute(any(HttpPost.class))).thenThrow(new IOException());\n</code></pre>\n"},{"tags":["java","email","jakarta-mail","james","spamassassin"],"answers":[{"tags":[],"owner":{"account_id":1032936,"reputation":29649,"user_id":1040885,"display_name":"Bill Shannon"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1433530788,"creation_date":1433530788,"answer_id":30673898,"question_id":30667948,"body_markdown":"Are you using JavaMail to send the message to your Apache James server, which is then sending it on to mail-tester.com?  If so, it&#39;s the Apache James configuration you need to worry about, not the JavaMail configuration.  Note that only one of HELO or EHLO is used in a single SMTP conversation.\r\n\r\nIt looks like your Apache James server is using HELO when talking to mail-tester.com, and is not identifying itself properly using the full DNS name of your server.  Make sure your server **has** a DNS name (not just a DHCP acquired IP address) and the name service on the server is properly configured to know the DNS name of the server.","title":"JavaMail JamesServer: Email is marked as spam","body":"<p>Are you using JavaMail to send the message to your Apache James server, which is then sending it on to mail-tester.com?  If so, it's the Apache James configuration you need to worry about, not the JavaMail configuration.  Note that only one of HELO or EHLO is used in a single SMTP conversation.</p>\n\n<p>It looks like your Apache James server is using HELO when talking to mail-tester.com, and is not identifying itself properly using the full DNS name of your server.  Make sure your server <strong>has</strong> a DNS name (not just a DHCP acquired IP address) and the name service on the server is properly configured to know the DNS name of the server.</p>\n"},{"tags":[],"owner":{"account_id":7487632,"reputation":26,"user_id":5690340,"display_name":"Mahadev Aarathri"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1450346061,"creation_date":1450346061,"answer_id":34331525,"question_id":30667948,"body_markdown":"Probably it might be due to the domain of from address i.e. admin@xxxxxxxx.com\r\nThis would not resolve to any particular known hosts.So try after removing it. If your mail is still marked as SPAM, you have to know the filters applied at the receiver&#39;s end.","title":"JavaMail JamesServer: Email is marked as spam","body":"<p>Probably it might be due to the domain of from address i.e. admin@xxxxxxxx.com\nThis would not resolve to any particular known hosts.So try after removing it. If your mail is still marked as SPAM, you have to know the filters applied at the receiver's end.</p>\n"},{"tags":[],"owner":{"account_id":7624172,"reputation":1,"user_id":5781222,"display_name":"Ei Dotter"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680018678,"creation_date":1680010301,"answer_id":75866945,"question_id":30667948,"body_markdown":"    $ sudo nano /etc/postfix/main.cf\r\n\r\nchange:\r\n`myhostname = DOMAIN.TLD`\r\n\r\n    $ sudo systemctl restart postfix\r\n\r\n","title":"JavaMail JamesServer: Email is marked as spam","body":"<pre><code>$ sudo nano /etc/postfix/main.cf\n</code></pre>\n<p>change:\n<code>myhostname = DOMAIN.TLD</code></p>\n<pre><code>$ sudo systemctl restart postfix\n</code></pre>\n"}],"owner":{"account_id":3251977,"reputation":1189,"user_id":2741980,"accept_rate":12,"display_name":"User12111111"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2871,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1680018678,"creation_date":1433511346,"question_id":30667948,"body_markdown":"Email sent from JamesServer are marked as spam. I am using JavaMail to connect to JamesServer to send emails. \r\n\r\nTo test spam, I am using the mail-tester.com site. This site tells me the email are marked as spam with a negative threshold for below: \r\n      \r\n      -3.603\t\tHELO_LOCALHOST\t\tHELO_LOCALHOST\r\n\r\nI came across helo and ehlo parameter based on the site. To override helo and ehlo, I have used &quot;mail.smtp.localhost&quot; property. But I was able to change ehlo but I am not able to change helo value.\r\n\r\nHow do I change value of helo parameter?\r\n\r\nHere is my java sample code:\r\n\r\n\t\timport java.net.InetAddress;\r\n\t\timport java.net.UnknownHostException;\r\n\t\timport java.util.Date;\r\n\t\timport java.util.Properties;\r\n\r\n\t\timport javax.mail.MessagingException;\r\n\t\timport javax.mail.PasswordAuthentication;\r\n\t\timport javax.mail.Session;\r\n\t\timport javax.mail.Transport;\r\n\t\timport javax.mail.internet.InternetAddress;\r\n\t\timport javax.mail.internet.MimeMessage;\r\n\r\n\t\tpublic class TestSendMail {\r\n\t\t\tprivate String fromEmail = &quot;admin@xxxxxxxxxx.com&quot;;\r\n\t\t\tpublic void sendmail() {\r\n\t\t\t\tProperties properties = new Properties();\r\n\t\t\t\t\r\n\t\t\t\tfinal String smtpHost = &quot;xxxxxxxxxx.com&quot;;\r\n\t\t\t\tString port = &quot;25&quot;;\r\n\t\t\t\tString strHostName = smtpHost;\r\n\t\t\t\ttry {\r\n\t\t\t\t\tstrHostName = InetAddress.getLocalHost().getHostName();\r\n\t\t\t\t\tSystem.out.println(strHostName);\r\n\t\t\t\t} catch (UnknownHostException e) {\r\n\t\t\t\t}\r\n\t\t\t\tproperties.put(&quot;helo&quot;, strHostName );\r\n\t\t\t\tproperties.put(&quot;mail.host&quot;, strHostName );\r\n\t\t\t\tproperties.put(&quot;mail.smtp.localhost&quot;, strHostName );\r\n\t\t\t\tproperties.put(&quot;mail.smtps.localhost&quot;, strHostName);\r\n\t\t\t\tproperties.put(&quot;mail.smtp.host&quot;, smtpHost);\r\n\t\t\t\tproperties.put(&quot;mail.smtp.port&quot;, port);\r\n\t\t\t\tproperties.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n\t\t\t\tproperties.put(&quot;mail.transport.protocol&quot;, &quot;smtp&quot;);\r\n\t\t\t\t\r\n\t\t\t\tSession session = Session.getInstance(properties,\r\n\t\t\t\t\t\tnew javax.mail.Authenticator() {\r\n\t\t\t\t\t\t\tprotected PasswordAuthentication getPasswordAuthentication() {\r\n\t\t\t\t\t\t\t\treturn new PasswordAuthentication(fromEmail,&quot;Welcome123!&quot;);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t \r\n\t\t\t\tString toEmail = &quot;web-3a2Lxc@mail-tester.com&quot;;\r\n\t\t\t\tString replyTo = &quot;noreply@&quot; + smtpHost;\r\n\t\t\t\tString messageBody = &quot;&lt;html&gt;&lt;body&gt;Test body&lt;/body&gt;&lt;/html&gt;&quot;;\r\n\t\t\t\ttry {\r\n\t\t\t\t\tMimeMessage message = new MimeMessage(session);\r\n\t\t\t\t\tmessage.setSentDate(new Date());\r\n\t\t\t\t\tmessage.setFrom(new InternetAddress(fromEmail));\r\n\t\t\t\t\tmessage.addRecipient(javax.mail.Message.RecipientType.TO, new InternetAddress(toEmail));\r\n\t\t\t\t\tmessage.setSubject(&quot;Test&quot;);\r\n\t\t\t\t\tmessage.setReplyTo(new javax.mail.Address[]\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tnew InternetAddress(replyTo)\r\n\t\t\t\t\t});\r\n\t\t\t\t\tmessage.setContent(messageBody, &quot;text/html&quot;);\r\n\r\n\t\t\t\t\tTransport.send(message);\r\n\t\t\t\t\tSystem.out.println(&quot;Message sent successfully....&quot;);\r\n\t\t\t\t} catch (MessagingException mex) {\r\n\t\t\t\t\tmex.printStackTrace();\r\n\t\t\t\t\tSystem.out.println(mex.getMessage());\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t \r\n\t\t\tpublic static void main(String[] args) {\r\n\t\t\t\tTestSendMail send = new TestSendMail();\r\n\t\t\t\tsend.sendmail();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n\r\nHere is my email log which I got it from mail-tester.com\r\n\r\n\t\tReceived: by mail-tester.com (Postfix, from userid 500)\tid F01C8A0C53;\r\n\t\t\tFri,  5 Jun 2015 14:01:09 +0200 (CEST)\r\n\t\tX-Spam-Checker-Version: SpamAssassin 3.4.0 (2014-02-07) on mail-tester.com\r\n\t\tX-Spam-Flag: YES\r\n\t\tX-Spam-Level: *****\r\n\t\tX-Spam-Status: Yes/6.0/5.0\r\n\t\tX-Spam-Test-Scores: FSL_HELO_NON_FQDN_1=0.001,HELO_LOCALHOST=3.603,\r\n\t\t\tHTML_MESSAGE=0.001,MIME_HTML_ONLY=1.105,RDNS_NONE=1.274\r\n\t\tX-Spam-Last-External-IP: 128.199.181.189\r\n\t\tX-Spam-Last-External-HELO: localhost\r\n\t\tX-Spam-Last-External-rDNS: \r\n\t\tX-Spam-Date-of-Scan: Fri, 05 Jun 2015 14:01:09 +0200\r\n\t\tX-Spam-Report: *  3.6 HELO_LOCALHOST No description available.\t*  0.0\r\n\t\t FSL_HELO_NON_FQDN_1 No description available.\t*  1.1 MIME_HTML_ONLY BODY:\r\n\t\t Message only has text/html MIME parts\t*  0.0 HTML_MESSAGE BODY: HTML\r\n\t\t included in message\t*  1.3 RDNS_NONE Delivered to internal network by a\r\n\t\t host with no rDNS\r\n\t\tReceived-SPF: None (no SPF record) identity=mailfrom;\r\n\t\t client-ip=128.199.181.189; helo=localhost;\r\n\t\t envelope-from=admin@xxxxxxxxxx.com; receiver=web-3a2lxc@mail-tester.com\r\n\t\tAuthentication-Results: mail-tester.com; dmarc=none\r\n\t\t header.from=xxxxxxxxxx.com\r\n\t\tReceived: from localhost (unknown [128.199.181.189])\r\n\t\t\tby mail-tester.com (Postfix) with ESMTP id 2B6E09F862\r\n\t\t\tfor &lt;web-3a2Lx@mail-tester.com&gt;; Fri,  5 Jun 2015 14:01:07 +0200 (CEST)\r\n\t\tMIME-Version: 1.0\r\n\t\tX-UserIsAuth: true\r\n\t\tReceived: from 122.175.7.239 (EHLO USER-PC) ([122.175.7.239])\r\n\t\t\tby xxxxxxxxxx-01 (JAMES SMTP Server ) with ESMTPA ID 1021366912\r\n\t\t\tfor &lt;web-3a2Lx@mail-tester.com&gt;;\r\n\t\t\tFri, 05 Jun 2015 08:02:40 -0400 (EDT)\r\n\t\tDate: Fri, 5 Jun 2015 17:32:44 +0530 (IST)\r\n\t\tFrom: admin@xxxxxxxxxx.com\r\n\t\tReply-To: noreply@xxxxxxxxxx.com\r\n\t\tTo: web-3a2Lx@mail-tester.com\r\n\t\tMessage-ID: &lt;17905416.0.1433505764473.JavaMail.USER@USER-PC&gt;\r\n\t\tSubject: Test\r\n\t\tReturn-Path: admin@xxxxxxxxxx.com\r\n\t\tContent-Type: text/html; charset=us-ascii\r\n\t\tContent-Transfer-Encoding: 7bit\r\n\r\n\t\t&lt;html&gt;&lt;body&gt;Test body&lt;/body&gt;&lt;/html&gt;\r\n\r\n\r\nAny help is appreciated.\r\n","title":"JavaMail JamesServer: Email is marked as spam","body":"<p>Email sent from JamesServer are marked as spam. I am using JavaMail to connect to JamesServer to send emails. </p>\n\n<p>To test spam, I am using the mail-tester.com site. This site tells me the email are marked as spam with a negative threshold for below: </p>\n\n<pre><code>  -3.603        HELO_LOCALHOST      HELO_LOCALHOST\n</code></pre>\n\n<p>I came across helo and ehlo parameter based on the site. To override helo and ehlo, I have used \"mail.smtp.localhost\" property. But I was able to change ehlo but I am not able to change helo value.</p>\n\n<p>How do I change value of helo parameter?</p>\n\n<p>Here is my java sample code:</p>\n\n<pre><code>    import java.net.InetAddress;\n    import java.net.UnknownHostException;\n    import java.util.Date;\n    import java.util.Properties;\n\n    import javax.mail.MessagingException;\n    import javax.mail.PasswordAuthentication;\n    import javax.mail.Session;\n    import javax.mail.Transport;\n    import javax.mail.internet.InternetAddress;\n    import javax.mail.internet.MimeMessage;\n\n    public class TestSendMail {\n        private String fromEmail = \"admin@xxxxxxxxxx.com\";\n        public void sendmail() {\n            Properties properties = new Properties();\n\n            final String smtpHost = \"xxxxxxxxxx.com\";\n            String port = \"25\";\n            String strHostName = smtpHost;\n            try {\n                strHostName = InetAddress.getLocalHost().getHostName();\n                System.out.println(strHostName);\n            } catch (UnknownHostException e) {\n            }\n            properties.put(\"helo\", strHostName );\n            properties.put(\"mail.host\", strHostName );\n            properties.put(\"mail.smtp.localhost\", strHostName );\n            properties.put(\"mail.smtps.localhost\", strHostName);\n            properties.put(\"mail.smtp.host\", smtpHost);\n            properties.put(\"mail.smtp.port\", port);\n            properties.put(\"mail.smtp.auth\", \"true\");\n            properties.put(\"mail.transport.protocol\", \"smtp\");\n\n            Session session = Session.getInstance(properties,\n                    new javax.mail.Authenticator() {\n                        protected PasswordAuthentication getPasswordAuthentication() {\n                            return new PasswordAuthentication(fromEmail,\"Welcome123!\");\n                        }\n                    });\n\n            String toEmail = \"web-3a2Lxc@mail-tester.com\";\n            String replyTo = \"noreply@\" + smtpHost;\n            String messageBody = \"&lt;html&gt;&lt;body&gt;Test body&lt;/body&gt;&lt;/html&gt;\";\n            try {\n                MimeMessage message = new MimeMessage(session);\n                message.setSentDate(new Date());\n                message.setFrom(new InternetAddress(fromEmail));\n                message.addRecipient(javax.mail.Message.RecipientType.TO, new InternetAddress(toEmail));\n                message.setSubject(\"Test\");\n                message.setReplyTo(new javax.mail.Address[]\n                {\n                    new InternetAddress(replyTo)\n                });\n                message.setContent(messageBody, \"text/html\");\n\n                Transport.send(message);\n                System.out.println(\"Message sent successfully....\");\n            } catch (MessagingException mex) {\n                mex.printStackTrace();\n                System.out.println(mex.getMessage());\n            }\n        }\n\n        public static void main(String[] args) {\n            TestSendMail send = new TestSendMail();\n            send.sendmail();\n        }\n    }\n</code></pre>\n\n<p>Here is my email log which I got it from mail-tester.com</p>\n\n<pre><code>    Received: by mail-tester.com (Postfix, from userid 500) id F01C8A0C53;\n        Fri,  5 Jun 2015 14:01:09 +0200 (CEST)\n    X-Spam-Checker-Version: SpamAssassin 3.4.0 (2014-02-07) on mail-tester.com\n    X-Spam-Flag: YES\n    X-Spam-Level: *****\n    X-Spam-Status: Yes/6.0/5.0\n    X-Spam-Test-Scores: FSL_HELO_NON_FQDN_1=0.001,HELO_LOCALHOST=3.603,\n        HTML_MESSAGE=0.001,MIME_HTML_ONLY=1.105,RDNS_NONE=1.274\n    X-Spam-Last-External-IP: 128.199.181.189\n    X-Spam-Last-External-HELO: localhost\n    X-Spam-Last-External-rDNS: \n    X-Spam-Date-of-Scan: Fri, 05 Jun 2015 14:01:09 +0200\n    X-Spam-Report: *  3.6 HELO_LOCALHOST No description available.  *  0.0\n     FSL_HELO_NON_FQDN_1 No description available.  *  1.1 MIME_HTML_ONLY BODY:\n     Message only has text/html MIME parts  *  0.0 HTML_MESSAGE BODY: HTML\n     included in message    *  1.3 RDNS_NONE Delivered to internal network by a\n     host with no rDNS\n    Received-SPF: None (no SPF record) identity=mailfrom;\n     client-ip=128.199.181.189; helo=localhost;\n     envelope-from=admin@xxxxxxxxxx.com; receiver=web-3a2lxc@mail-tester.com\n    Authentication-Results: mail-tester.com; dmarc=none\n     header.from=xxxxxxxxxx.com\n    Received: from localhost (unknown [128.199.181.189])\n        by mail-tester.com (Postfix) with ESMTP id 2B6E09F862\n        for &lt;web-3a2Lx@mail-tester.com&gt;; Fri,  5 Jun 2015 14:01:07 +0200 (CEST)\n    MIME-Version: 1.0\n    X-UserIsAuth: true\n    Received: from 122.175.7.239 (EHLO USER-PC) ([122.175.7.239])\n        by xxxxxxxxxx-01 (JAMES SMTP Server ) with ESMTPA ID 1021366912\n        for &lt;web-3a2Lx@mail-tester.com&gt;;\n        Fri, 05 Jun 2015 08:02:40 -0400 (EDT)\n    Date: Fri, 5 Jun 2015 17:32:44 +0530 (IST)\n    From: admin@xxxxxxxxxx.com\n    Reply-To: noreply@xxxxxxxxxx.com\n    To: web-3a2Lx@mail-tester.com\n    Message-ID: &lt;17905416.0.1433505764473.JavaMail.USER@USER-PC&gt;\n    Subject: Test\n    Return-Path: admin@xxxxxxxxxx.com\n    Content-Type: text/html; charset=us-ascii\n    Content-Transfer-Encoding: 7bit\n\n    &lt;html&gt;&lt;body&gt;Test body&lt;/body&gt;&lt;/html&gt;\n</code></pre>\n\n<p>Any help is appreciated.</p>\n"},{"tags":["java","android","kotlin","jvm","android-room"],"comments":[{"owner":{"account_id":442814,"reputation":23181,"user_id":833647,"display_name":"Ken Wolf"},"score":0,"creation_date":1680019448,"post_id":75868412,"comment_id":133823716,"body_markdown":"Seeing as you already have evidence yourself that Android Studio is not working great on your system, I think you have answered your own question &#128516;","body":"Seeing as you already have evidence yourself that Android Studio is not working great on your system, I think you have answered your own question "},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":2,"creation_date":1680021102,"post_id":75868412,"comment_id":133824254,"body_markdown":"Its possible to use a text editor to modify your code, and compile it using gradle on the command terminal. Its just not practical because you will spend inordinate amounts of time browsing various library documentation to find the packages and names of classes and functions since you wont have the auto-complete from the IDE. And also youll have to keep compiling it manually to find your syntax and spelling errors.","body":"Its possible to use a text editor to modify your code, and compile it using gradle on the command terminal. Its just not practical because you will spend inordinate amounts of time browsing various library documentation to find the packages and names of classes and functions since you wont have the auto-complete from the IDE. And also youll have to keep compiling it manually to find your syntax and spelling errors."},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":1,"creation_date":1680022818,"post_id":75868412,"comment_id":133824708,"body_markdown":"You shouldnt need the 8GB if you arent running a device emulator. A 4GB system is probably enough, and you can test on a real device instead of an emulator.","body":"You shouldnt need the 8GB if you arent running a device emulator. A 4GB system is probably enough, and you can test on a real device instead of an emulator."},{"owner":{"account_id":4997462,"reputation":10007,"user_id":4017501,"accept_rate":62,"display_name":"cutiko"},"score":0,"creation_date":1680031423,"post_id":75868412,"comment_id":133826844,"body_markdown":"I think Tenfour gave you the right answer, the only alternative I could think of is the Intellij Idea Community edition, which can run Kotlin and Gradle but IDK how much you would have to tinker by yourself. There are things that can alleviate your work: Android Studio can be configured to work offline. Close other programs, Skype? Slack? Discord? Anything that runs on startup. Don&#39;t use the emulator, plug-in a physical device.","body":"I think Tenfour gave you the right answer, the only alternative I could think of is the Intellij Idea Community edition, which can run Kotlin and Gradle but IDK how much you would have to tinker by yourself. There are things that can alleviate your work: Android Studio can be configured to work offline. Close other programs, Skype? Slack? Discord? Anything that runs on startup. Don&#39;t use the emulator, plug-in a physical device."},{"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"score":1,"creation_date":1680032646,"post_id":75868412,"comment_id":133827139,"body_markdown":"Here&#39;s how you can configure it for a low-spec machine: https://developer.android.com/studio/intro/studio-config#low_memory but there will be limits to what you can do!","body":"Here&#39;s how you can configure it for a low-spec machine: <a href=\"https://developer.android.com/studio/intro/studio-config#low_memory\" rel=\"nofollow noreferrer\">developer.android.com/studio/intro/studio-config#low_memory</a> but there will be limits to what you can do!"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1680053548,"post_id":75868412,"comment_id":133830350,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":25956799,"reputation":138,"user_id":19674027,"display_name":"user2357113"},"score":0,"creation_date":1680059329,"post_id":75868412,"comment_id":133830938,"body_markdown":"Okay here is the how started learning android development in back 2019. In 2019 android studio recomended ram is  8 GB but Here is my PC specification 4GB ram dual core processor and 500 GB HDD . I know it make me so frastrated back then but every problem have solution  i solved my problem using changing OS when in 2019 I&#39;m using Windows that take more space In PC so I switched My OS to Linux and it helped me lot I know still it&#39;s not that great experince.","body":"Okay here is the how started learning android development in back 2019. In 2019 android studio recomended ram is  8 GB but Here is my PC specification 4GB ram dual core processor and 500 GB HDD . I know it make me so frastrated back then but every problem have solution  i solved my problem using changing OS when in 2019 I&#39;m using Windows that take more space In PC so I switched My OS to Linux and it helped me lot I know still it&#39;s not that great experince."},{"owner":{"account_id":25956799,"reputation":138,"user_id":19674027,"display_name":"user2357113"},"score":0,"creation_date":1680059426,"post_id":75868412,"comment_id":133830948,"body_markdown":"As you just learning Android you can run you small apps smoothly and you can use some of chrome tabs NOTE: while using android studio please try to close other application ah you can use chrome but limit your tabs if you you increase your tabs you PC will be dead...","body":"As you just learning Android you can run you small apps smoothly and you can use some of chrome tabs NOTE: while using android studio please try to close other application ah you can use chrome but limit your tabs if you you increase your tabs you PC will be dead..."}],"owner":{"account_id":26592119,"reputation":11,"user_id":20215156,"display_name":"Afeez Womiloju"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1680018538,"creation_date":1680018538,"question_id":75868412,"body_markdown":"i have been learning kotlin for android apps at http://developer.android.com/training/basics/firstapp for some time now, but i discovered that my computer specs is lower to android studio requirement. can i continue the lesson without android studio?\r\n\r\n i have downloaded the android studio anyway and readyboosted my system with external flash drives but the android studio still did not work fine.","title":"learning kotlin with a system of lower specs for android studio","body":"<p>i have been learning kotlin for android apps at <a href=\"http://developer.android.com/training/basics/firstapp\" rel=\"nofollow noreferrer\">http://developer.android.com/training/basics/firstapp</a> for some time now, but i discovered that my computer specs is lower to android studio requirement. can i continue the lesson without android studio?</p>\n<p>i have downloaded the android studio anyway and readyboosted my system with external flash drives but the android studio still did not work fine.</p>\n"},{"tags":["java","intellij-idea","javafx","scenebuilder","intellij-13"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1680020466,"post_id":75868411,"comment_id":133824042,"body_markdown":"If you want to make the argument that this is somehow different to any of the dozens (if not hundreds) of similar questions on this site, you need to provide much more detail about what you did. IntelliJ will allow you to create a JavaFX project right out of the box, and it should just run from there with no additional configuration. Other than that, you can follow the instructions in the [documentation](https://openjfx.io/openjfx-docs/). Specify exactly which set of instructions you followed. How are you running the application (via the IDE? from the command line?).","body":"If you want to make the argument that this is somehow different to any of the dozens (if not hundreds) of similar questions on this site, you need to provide much more detail about what you did. IntelliJ will allow you to create a JavaFX project right out of the box, and it should just run from there with no additional configuration. Other than that, you can follow the instructions in the <a href=\"https://openjfx.io/openjfx-docs/\" rel=\"nofollow noreferrer\">documentation</a>. Specify exactly which set of instructions you followed. How are you running the application (via the IDE? from the command line?)."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":3,"creation_date":1680020849,"post_id":75868411,"comment_id":133824180,"body_markdown":"This is a runtime error, not a compile error.  Instructions  to [create a new JavaFX project in Idea](https://www.jetbrains.com/help/idea/javafx.html).","body":"This is a runtime error, not a compile error.  Instructions  to <a href=\"https://www.jetbrains.com/help/idea/javafx.html\" rel=\"nofollow noreferrer\">create a new JavaFX project in Idea</a>."},{"owner":{"account_id":24145329,"reputation":41,"user_id":18111036,"display_name":"Leo Wahlbeck"},"score":0,"creation_date":1680021199,"post_id":75868411,"comment_id":133824288,"body_markdown":"@James_D I have no idea if the issue is different from anyone elses, but from what I have tried none of the existing ones have solved my problem. I reached out here to ask more experienced programmers if they know a basic solution to this problem. As I stated in the question, I am not sure if my problem differs from somebody elses, however, I have tried several already posted methods.","body":"@James_D I have no idea if the issue is different from anyone elses, but from what I have tried none of the existing ones have solved my problem. I reached out here to ask more experienced programmers if they know a basic solution to this problem. As I stated in the question, I am not sure if my problem differs from somebody elses, however, I have tried several already posted methods."}],"owner":{"account_id":24145329,"reputation":41,"user_id":18111036,"display_name":"Leo Wahlbeck"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1680024964,"answer_count":0,"score":0,"last_activity_date":1680018528,"creation_date":1680018528,"question_id":75868411,"body_markdown":"I have looked through similiar posts about this but none of the already posted solutions have worked for me. Therefore I will try to explain my particular situation and hope that someone knows what I have done wrong.\r\n\r\nI am working with IntelliJ and SceneBuilder to build a recipebook for a school project, however, it does not seem to work to compile the project at the moment. \r\n\r\nThe error message I have been given is:\r\n\r\n    Error. JavaFX runtime components are missing, and required to run this application\r\n    \r\n    Process finished with exit code 1\r\n\r\n**What I have done:**\r\n\r\nI have to my knowledge done everything right by adding all libraries in Project Structure such as javafx 17 library, and also the backend for this particular project. I have also configured my VM-options accordingly:\r\n\r\n    --module-path \\Users\\Admin\\Skola2\\javafx-sdk-17.0.6\\lib\\ --add-modules=javafx.controls,javafx.fxml\r\n    \r\nI have also checked whether the JavaFX plugin is active which it is. To my knowledge this should be everything you need to configure in order to know whether the program could compile or not. \r\n\r\n**My main class:**\r\n\r\n    package recipesearch;\r\n    \r\n    \r\n    import java.util.ResourceBundle;\r\n    import javafx.application.Application;\r\n    import javafx.fxml.FXMLLoader;\r\n    import javafx.scene.Parent;\r\n    import javafx.scene.Scene;\r\n    import javafx.stage.Stage;\r\n    \r\n    /*\r\n     * To change this license header, choose License Headers in Project Properties.\r\n     * To change this template file, choose Tools | Templates\r\n     * and open the template in the editor.\r\n     */\r\n    public class RecipeSearch extends Application {\r\n        \r\n        @Override\r\n        public void start(Stage stage) throws Exception {\r\n            \r\n            ResourceBundle bundle = java.util.ResourceBundle.getBundle(&quot;recipesearch/resources/RecipeSearch&quot;);\r\n            \r\n            Parent root = FXMLLoader.load(getClass().getResource(&quot;recipe_search.fxml&quot;), bundle);\r\n            \r\n            Scene scene = new Scene(root, 800, 500);\r\n            \r\n            stage.setTitle(bundle.getString(&quot;application.name&quot;));\r\n            stage.setScene(scene);\r\n            stage.show();\r\n    \r\n        }\r\n    \r\n        /**\r\n         * @param args the command line arguments\r\n         */\r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n        \r\n    }\r\n     \r\n\r\nIf anyone has any idea on what to do, please help! Thank you. ","title":"Error. JavaFX runtime components are missing, and required to run this application","body":"<p>I have looked through similiar posts about this but none of the already posted solutions have worked for me. Therefore I will try to explain my particular situation and hope that someone knows what I have done wrong.</p>\n<p>I am working with IntelliJ and SceneBuilder to build a recipebook for a school project, however, it does not seem to work to compile the project at the moment.</p>\n<p>The error message I have been given is:</p>\n<pre><code>Error. JavaFX runtime components are missing, and required to run this application\n\nProcess finished with exit code 1\n</code></pre>\n<p><strong>What I have done:</strong></p>\n<p>I have to my knowledge done everything right by adding all libraries in Project Structure such as javafx 17 library, and also the backend for this particular project. I have also configured my VM-options accordingly:</p>\n<pre><code>--module-path \\Users\\Admin\\Skola2\\javafx-sdk-17.0.6\\lib\\ --add-modules=javafx.controls,javafx.fxml\n</code></pre>\n<p>I have also checked whether the JavaFX plugin is active which it is. To my knowledge this should be everything you need to configure in order to know whether the program could compile or not.</p>\n<p><strong>My main class:</strong></p>\n<pre><code>package recipesearch;\n\n\nimport java.util.ResourceBundle;\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\n/*\n * To change this license header, choose License Headers in Project Properties.\n * To change this template file, choose Tools | Templates\n * and open the template in the editor.\n */\npublic class RecipeSearch extends Application {\n    \n    @Override\n    public void start(Stage stage) throws Exception {\n        \n        ResourceBundle bundle = java.util.ResourceBundle.getBundle(&quot;recipesearch/resources/RecipeSearch&quot;);\n        \n        Parent root = FXMLLoader.load(getClass().getResource(&quot;recipe_search.fxml&quot;), bundle);\n        \n        Scene scene = new Scene(root, 800, 500);\n        \n        stage.setTitle(bundle.getString(&quot;application.name&quot;));\n        stage.setScene(scene);\n        stage.show();\n\n    }\n\n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String[] args) {\n        launch(args);\n    }\n    \n}\n \n</code></pre>\n<p>If anyone has any idea on what to do, please help! Thank you.</p>\n"},{"tags":["java","android","react-native","gradle","android-gradle-plugin"],"comments":[{"owner":{"account_id":10916684,"reputation":3936,"user_id":8024296,"display_name":"Paul"},"score":1,"creation_date":1681231365,"post_id":75740846,"comment_id":134021913,"body_markdown":"Did you find the solution, I have a similar problem.","body":"Did you find the solution, I have a similar problem."}],"answers":[{"tags":[],"owner":{"account_id":20223462,"reputation":31,"user_id":14832126,"display_name":"fmagesty"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1679419618,"creation_date":1679419618,"answer_id":75804521,"question_id":75740846,"body_markdown":"it seems that you&#39;re lacking a letter `b` on this line: ` uildToolsVersion = &quot;33.0.0&quot;`\r\n\r\nshould be `buildToolsVersion = &quot;33.0.0&quot;`","title":"React native app is not running for gradle plugins issue","body":"<p>it seems that you're lacking a letter <code>b</code> on this line: <code> uildToolsVersion = &quot;33.0.0&quot;</code></p>\n<p>should be <code>buildToolsVersion = &quot;33.0.0&quot;</code></p>\n"}],"owner":{"account_id":22676252,"reputation":37,"user_id":16847205,"display_name":"Nyanjan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1279,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680018482,"creation_date":1678858027,"question_id":75740846,"body_markdown":"Gradle plugin versions are not supported. App is not running for some reasons\r\n\r\n\r\nMy gradle version is 7.5.1\r\nbut, in \r\n\r\n```android/gradle-properties``` file,\r\n\r\n```\r\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-7.5.1-all.zip\r\n```\r\n\r\nIn my ```android/build.gradle```\r\n\r\n``` \r\nbuildscript {\r\n    ext {\r\n        uildToolsVersion = &quot;33.0.0&quot;\r\n        minSdkVersion = 21\r\n        compileSdkVersion = 33\r\n        targetSdkVersion = 33\r\n        // We use NDK 23 which has both M1 support and is the side-by-side NDK version from AGP.\r\n        ndkVersion = &quot;23.1.7779620&quot;\r\n    }\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n    }\r\n    dependencies {\r\n        classpath(&quot;com.android.tools.build:gradle:7.3.1&quot;)\r\n        classpath(&quot;com.facebook.react:react-native-gradle-plugin&quot;)\r\n    }\r\n}\r\n```\r\nThis is the error occurred when i run the app with `npm run android`\r\n```\r\nConfigure project :react-native-reanimated\r\nNo AAR for react-native-reanimated found. Attempting to build from source.\r\nAndroid gradle plugin: 7.3.1\r\nGradle: 7.5.1\r\nWARNING:Software Components will not be created automatically for Maven publishing from Android Gradle Plugin 8.0. To opt-in to the future behavior, set the Gradle property android.disableAutomaticComponentCreation=true in the `gradle.properties` file or use the new publishing DSL.\r\nWARNING:The specified Android SDK Build Tools version (29.0.2) is ignored, as it is below the minimum supported version (30.0.3) for Android Gradle Plugin 7.3.1.\r\nAndroid SDK Build Tools 30.0.3 will be used.\r\nTo suppress this warning, remove &quot;buildToolsVersion &#39;29.0.2&#39;&quot; from your build.gradle file, as each version of the Android Gradle Plugin now has a default version of the build tools.\r\nWARNING:The specified Android SDK Build Tools version (28.0.3) is ignored, as it is below the minimum supported version (30.0.3) for Android Gradle Plugin 7.3.1.\r\nAndroid SDK Build Tools 30.0.3 will be used.\r\nTo suppress this warning, remove &quot;buildToolsVersion &#39;28.0.3&#39;&quot; from your build.gradle file, as each version of the Android Gradle Plugin now has a default version of the build tools.\r\nWARNING:The specified Android SDK Build Tools version (27.0.3) is ignored, as it is below the minimum supported version (30.0.3) for Android Gradle Plugin 7.3.1.\r\nAndroid SDK Build Tools 30.0.3 will be used.\r\nTo suppress this warning, remove &quot;buildToolsVersion &#39;27.0.3&#39;&quot; from your build.gradle file, as each version of the Android Gradle Plugin now has a default version of the build tools.\r\n\r\n&gt; Task :app:checkDevelopmentDebugAarMetadata FAILED\r\n\r\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 8.0.\r\n\r\nYou can use &#39;--warning-mode all&#39; to show the individual deprecation warnings and determine if they come from your own scripts or plugins.\r\n\r\nSee https://docs.gradle.org/7.5.1/userguide/command_line_interface.html#sec:command_line_warnings\r\n26 actionable tasks: 21 executed, 5 up-to-date\r\nPicked up _JAVA_OPTIONS: -Xmx1024M\r\n\r\nFAILURE: Build completed with 2 failures.\r\n\r\n1: Task failed with an exception.\r\n-----------\r\n* What went wrong:\r\nExecution failed for task &#39;:app:checkDevelopmentDebugAarMetadata&#39;.\r\n&gt; Could not resolve all files for configuration &#39;:app:developmentDebugRuntimeClasspath&#39;.\r\n   &gt; Failed to transform react-android-0.71.3-debug.aar (com.facebook.react:react-\r\n==============================================================================\r\n\r\n2: Task failed with an exception.\r\n-----------\r\n* What went wrong:\r\njava.lang.StackOverflowError (no error message)\r\n\r\n==============================================================================\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 27s\r\n\r\nerror Failed to install the app. Make sure you have the Android development environment set up: https://reactnative.dev/docs/environment-setup.\r\nError: Command failed: gradlew.bat app:installDevDebug -PreactNativeDevServerPort=8081\r\nPicked up _JAVA_OPTIONS: -Xmx1024M\r\n\r\nBUILD FAILED in 27s\r\n\r\n    at makeError (C:\\nk-bk-hool\\hoolapp\\node_modules\\execa\\index.js:174:9)\r\n    at C:\\nk-bk-hool\\hoolapp\\node_modules\\execa\\index.js:278:16\r\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\r\n    at async runOnAllDevices (C:\\nk-bk-hool\\hoolapp\\node_modules\\@react-native-community\\cli-platform-android\\build\\commands\\runAndroid\\runOnAllDevices.js:82:7)\r\n```","title":"React native app is not running for gradle plugins issue","body":"<p>Gradle plugin versions are not supported. App is not running for some reasons</p>\n<p>My gradle version is 7.5.1\nbut, in</p>\n<p><code>android/gradle-properties</code> file,</p>\n<pre><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-7.5.1-all.zip\n</code></pre>\n<p>In my <code>android/build.gradle</code></p>\n<pre><code>buildscript {\n    ext {\n        uildToolsVersion = &quot;33.0.0&quot;\n        minSdkVersion = 21\n        compileSdkVersion = 33\n        targetSdkVersion = 33\n        // We use NDK 23 which has both M1 support and is the side-by-side NDK version from AGP.\n        ndkVersion = &quot;23.1.7779620&quot;\n    }\n    repositories {\n        google()\n        mavenCentral()\n    }\n    dependencies {\n        classpath(&quot;com.android.tools.build:gradle:7.3.1&quot;)\n        classpath(&quot;com.facebook.react:react-native-gradle-plugin&quot;)\n    }\n}\n</code></pre>\n<p>This is the error occurred when i run the app with <code>npm run android</code></p>\n<pre><code>Configure project :react-native-reanimated\nNo AAR for react-native-reanimated found. Attempting to build from source.\nAndroid gradle plugin: 7.3.1\nGradle: 7.5.1\nWARNING:Software Components will not be created automatically for Maven publishing from Android Gradle Plugin 8.0. To opt-in to the future behavior, set the Gradle property android.disableAutomaticComponentCreation=true in the `gradle.properties` file or use the new publishing DSL.\nWARNING:The specified Android SDK Build Tools version (29.0.2) is ignored, as it is below the minimum supported version (30.0.3) for Android Gradle Plugin 7.3.1.\nAndroid SDK Build Tools 30.0.3 will be used.\nTo suppress this warning, remove &quot;buildToolsVersion '29.0.2'&quot; from your build.gradle file, as each version of the Android Gradle Plugin now has a default version of the build tools.\nWARNING:The specified Android SDK Build Tools version (28.0.3) is ignored, as it is below the minimum supported version (30.0.3) for Android Gradle Plugin 7.3.1.\nAndroid SDK Build Tools 30.0.3 will be used.\nTo suppress this warning, remove &quot;buildToolsVersion '28.0.3'&quot; from your build.gradle file, as each version of the Android Gradle Plugin now has a default version of the build tools.\nWARNING:The specified Android SDK Build Tools version (27.0.3) is ignored, as it is below the minimum supported version (30.0.3) for Android Gradle Plugin 7.3.1.\nAndroid SDK Build Tools 30.0.3 will be used.\nTo suppress this warning, remove &quot;buildToolsVersion '27.0.3'&quot; from your build.gradle file, as each version of the Android Gradle Plugin now has a default version of the build tools.\n\n&gt; Task :app:checkDevelopmentDebugAarMetadata FAILED\n\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 8.0.\n\nYou can use '--warning-mode all' to show the individual deprecation warnings and determine if they come from your own scripts or plugins.\n\nSee https://docs.gradle.org/7.5.1/userguide/command_line_interface.html#sec:command_line_warnings\n26 actionable tasks: 21 executed, 5 up-to-date\nPicked up _JAVA_OPTIONS: -Xmx1024M\n\nFAILURE: Build completed with 2 failures.\n\n1: Task failed with an exception.\n-----------\n* What went wrong:\nExecution failed for task ':app:checkDevelopmentDebugAarMetadata'.\n&gt; Could not resolve all files for configuration ':app:developmentDebugRuntimeClasspath'.\n   &gt; Failed to transform react-android-0.71.3-debug.aar (com.facebook.react:react-\n==============================================================================\n\n2: Task failed with an exception.\n-----------\n* What went wrong:\njava.lang.StackOverflowError (no error message)\n\n==============================================================================\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 27s\n\nerror Failed to install the app. Make sure you have the Android development environment set up: https://reactnative.dev/docs/environment-setup.\nError: Command failed: gradlew.bat app:installDevDebug -PreactNativeDevServerPort=8081\nPicked up _JAVA_OPTIONS: -Xmx1024M\n\nBUILD FAILED in 27s\n\n    at makeError (C:\\nk-bk-hool\\hoolapp\\node_modules\\execa\\index.js:174:9)\n    at C:\\nk-bk-hool\\hoolapp\\node_modules\\execa\\index.js:278:16\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async runOnAllDevices (C:\\nk-bk-hool\\hoolapp\\node_modules\\@react-native-community\\cli-platform-android\\build\\commands\\runAndroid\\runOnAllDevices.js:82:7)\n</code></pre>\n"},{"tags":["java","logstash"],"owner":{"account_id":10642398,"reputation":6164,"user_id":7836976,"accept_rate":95,"display_name":"runnerpaul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680018198,"creation_date":1680018198,"question_id":75868352,"body_markdown":"I&#39;m using `LogStash` `StructuredArguments` in my `Java` application and have the following:\r\n\r\n```Java\r\nkv(KEY, RESPONSE)\r\n```\r\n\r\nRESPONSE is `Error while calling ELO. {}&quot;` and I want `response.getStatusCode()` in the placeholder. For general logging errors I would use `LOGGER.error(RESPONSE, response.getStatusCodeValue());`\r\n\r\nHow do I do that here? `kv(KEY, RESPONSE, response.getStatusCode())` is clearly not correct.","title":"Use string placeholder in logstash kv value","body":"<p>I'm using <code>LogStash</code> <code>StructuredArguments</code> in my <code>Java</code> application and have the following:</p>\n<pre><code>kv(KEY, RESPONSE)\n</code></pre>\n<p>RESPONSE is <code>Error while calling ELO. {}&quot;</code> and I want <code>response.getStatusCode()</code> in the placeholder. For general logging errors I would use <code>LOGGER.error(RESPONSE, response.getStatusCodeValue());</code></p>\n<p>How do I do that here? <code>kv(KEY, RESPONSE, response.getStatusCode())</code> is clearly not correct.</p>\n"},{"tags":["java","amazon-web-services","docker","devops","amazon-ecs"],"answers":[{"tags":[],"owner":{"account_id":27958543,"reputation":26,"user_id":21350876,"display_name":"Ankit Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680018116,"creation_date":1680017649,"answer_id":75868264,"question_id":75220768,"body_markdown":"I am currently working on container level metrics for aws ecs and came across this link which explains how to calculate CPU usage in percentage from the ecs metadata\r\n[ECS-calculate-CPU-utilization-metadata-endpoint][1]\r\n\r\n\r\n  [1]: https://shihtiy.com/posts/ECS-calculate-CPU-utilization-metadata-endpoing/\r\n\r\nThis is the gist basically:\r\n\r\n1. cpu_delta = cpu_stats.cpu_usage.total_usage - precpu_stats.cpu_usage.total_usage\r\n2. system_cpu_delta = cpu_stats.system_cpu_usage - precpu_stats.system_cpu_usage\r\n3. number_cpus = length(cpu_stats.cpu_usage.percpu_usage) or cpu_stats.online_cpus\r\n\r\nFinally:\r\n\r\nCPU usage % = (cpu_delta / system_cpu_delta) * number_cpus * 100.0\r\n\r\nI am going to implement this right now. This will give the increase or decrease in cpu usage from last sampling time.","title":"Calculate CPU percentage of a docker container based on CPUSTATS and PRECPUSTATS returned from ECS task metadata endpoint","body":"<p>I am currently working on container level metrics for aws ecs and came across this link which explains how to calculate CPU usage in percentage from the ecs metadata\n<a href=\"https://shihtiy.com/posts/ECS-calculate-CPU-utilization-metadata-endpoing/\" rel=\"nofollow noreferrer\">ECS-calculate-CPU-utilization-metadata-endpoint</a></p>\n<p>This is the gist basically:</p>\n<ol>\n<li>cpu_delta = cpu_stats.cpu_usage.total_usage - precpu_stats.cpu_usage.total_usage</li>\n<li>system_cpu_delta = cpu_stats.system_cpu_usage - precpu_stats.system_cpu_usage</li>\n<li>number_cpus = length(cpu_stats.cpu_usage.percpu_usage) or cpu_stats.online_cpus</li>\n</ol>\n<p>Finally:</p>\n<p>CPU usage % = (cpu_delta / system_cpu_delta) * number_cpus * 100.0</p>\n<p>I am going to implement this right now. This will give the increase or decrease in cpu usage from last sampling time.</p>\n"}],"owner":{"account_id":19478568,"reputation":55,"user_id":14249451,"display_name":"john smith"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":446,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75868264,"answer_count":1,"score":0,"last_activity_date":1680018116,"creation_date":1674559407,"question_id":75220768,"body_markdown":"I was trying to calculate the CPU percentage of docker container that was currently up and running.\r\n\r\nA call was made to ECS task metadata endpoint that returns a JSON file was Response which contains CPUSTATS, PRECPUSTATS, online_cpus, system_cpu_usage etc...\r\n\r\nThe formula that I usually using was as follows to calculate CPU percentages\r\n\r\n    Average cpu usage=((cpu_stats.total_usage - precpu_stats.total_usage) / (number of online cpu) )* 100.\r\n\r\nAnd Dividng the Average cpu usage by difference between the read and preread timestamps as follows.\r\n\r\n    CPU PERCENTAGE= Average cpu usage/(read-preread).\r\n\r\nBut from the above calculation the percentage was not accurate it was returing  me a wrong value.\r\n\r\nWhen checked the CPU usage in the host machine using &quot;&quot;docker stats&quot; command it was showing correct results.\r\n\r\nIs this correct way of calculating cpu percentages?\r\n\r\nthanks,","title":"Calculate CPU percentage of a docker container based on CPUSTATS and PRECPUSTATS returned from ECS task metadata endpoint","body":"<p>I was trying to calculate the CPU percentage of docker container that was currently up and running.</p>\n<p>A call was made to ECS task metadata endpoint that returns a JSON file was Response which contains CPUSTATS, PRECPUSTATS, online_cpus, system_cpu_usage etc...</p>\n<p>The formula that I usually using was as follows to calculate CPU percentages</p>\n<pre><code>Average cpu usage=((cpu_stats.total_usage - precpu_stats.total_usage) / (number of online cpu) )* 100.\n</code></pre>\n<p>And Dividng the Average cpu usage by difference between the read and preread timestamps as follows.</p>\n<pre><code>CPU PERCENTAGE= Average cpu usage/(read-preread).\n</code></pre>\n<p>But from the above calculation the percentage was not accurate it was returing  me a wrong value.</p>\n<p>When checked the CPU usage in the host machine using &quot;&quot;docker stats&quot; command it was showing correct results.</p>\n<p>Is this correct way of calculating cpu percentages?</p>\n<p>thanks,</p>\n"},{"tags":["java","swing","jtable"],"comments":[{"owner":{"account_id":52647,"reputation":2436,"user_id":157324,"accept_rate":85,"display_name":"RubyDubee"},"score":0,"creation_date":1269678807,"post_id":2528643,"comment_id":2527217,"body_markdown":"Don&#39;t add column names ... use any other constructor ...  or default?\nI hope you are talking about JTable..","body":"Don&#39;t add column names ... use any other constructor ...  or default? I hope you are talking about JTable.."},{"owner":{"account_id":94218,"reputation":27823,"user_id":257356,"accept_rate":59,"display_name":"SyntaxT3rr0r"},"score":3,"creation_date":1269679232,"post_id":2528643,"comment_id":2527231,"body_markdown":"@saurabh: 3133t speak is not welcome here.  I fixed your post but next time refrain from using &quot;any1&quot;, &quot;plz thx&quot; and several &quot;??&quot;.  Can i haz cheezburger?","body":"@saurabh: 3133t speak is not welcome here.  I fixed your post but next time refrain from using &quot;any1&quot;, &quot;plz thx&quot; and several &quot;??&quot;.  Can i haz cheezburger?"},{"owner":{"account_id":91502,"reputation":88311,"user_id":251173,"accept_rate":86,"display_name":"Buhake Sindi"},"score":2,"creation_date":1269679811,"post_id":2528643,"comment_id":2527253,"body_markdown":"what table? does it need chairs too? lol","body":"what table? does it need chairs too? lol"},{"owner":{"account_id":1107482,"reputation":2870,"user_id":1098603,"accept_rate":94,"display_name":"Matthieu"},"score":0,"creation_date":1484075854,"post_id":2528643,"comment_id":70358079,"body_markdown":"@SyntaxT3rr0r is 3133t name though ;)","body":"@SyntaxT3rr0r is 3133t name though ;)"}],"answers":[{"comments":[{"owner":{"account_id":6285173,"reputation":280,"user_id":4884710,"accept_rate":83,"display_name":"Masked Coder"},"score":1,"creation_date":1438285343,"post_id":2528724,"comment_id":51400817,"body_markdown":"For me, neither solution has any effect on the header.  I&#39;ve even tried `table.getTableHeader.setVisible(false)` but I still have a blank grey spot where the header would be.  I know this is an old post; has the API changed, or am I missing something?","body":"For me, neither solution has any effect on the header.  I&#39;ve even tried <code>table.getTableHeader.setVisible(false)</code> but I still have a blank grey spot where the header would be.  I know this is an old post; has the API changed, or am I missing something?"},{"owner":{"account_id":9400,"reputation":54564,"user_id":17343,"accept_rate":81,"display_name":"Peter Lang"},"score":1,"creation_date":1438419303,"post_id":2528724,"comment_id":51452823,"body_markdown":"Looks like you are missing something, I just tried both suggested ways and they work. Setting the TableHeader invisible indeed leaves a grey spot since the layout does not change. If you cannot solve it, feel free to ask another question with a short example to reproduce your problem and a screenshot of the result.","body":"Looks like you are missing something, I just tried both suggested ways and they work. Setting the TableHeader invisible indeed leaves a grey spot since the layout does not change. If you cannot solve it, feel free to ask another question with a short example to reproduce your problem and a screenshot of the result."}],"tags":[],"owner":{"account_id":9400,"reputation":54564,"user_id":17343,"accept_rate":81,"display_name":"Peter Lang"},"comment_count":2,"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1517571022,"creation_date":1269681331,"answer_id":2528724,"question_id":2528643,"body_markdown":"I don&#39;t think that you want your Sudoku to scroll, so the easiest way should be **not** to put your table into a [`JScrollPane`][1], which is responsible for displaying the header:\r\n\r\n![alt text][2]\r\n\r\n---\r\n\r\nThe other way is to call\r\n\r\n    table.setTableHeader(null);\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/6/docs/api/javax/swing/JScrollPane.html\r\n  [2]: https://docs.oracle.com/javase/6/docs/api/javax/swing/doc-files/JScrollPane-1.gif","title":"JTable without a header","body":"<p>I don't think that you want your Sudoku to scroll, so the easiest way should be <strong>not</strong> to put your table into a <a href=\"https://docs.oracle.com/javase/6/docs/api/javax/swing/JScrollPane.html\" rel=\"noreferrer\"><code>JScrollPane</code></a>, which is responsible for displaying the header:</p>\n\n<p><img src=\"https://docs.oracle.com/javase/6/docs/api/javax/swing/doc-files/JScrollPane-1.gif\" alt=\"alt text\"></p>\n\n<hr>\n\n<p>The other way is to call</p>\n\n<pre><code>table.setTableHeader(null);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":394033,"reputation":10807,"user_id":756233,"accept_rate":71,"display_name":"Ray Hulha"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1443362102,"creation_date":1443362102,"answer_id":32808659,"question_id":2528643,"body_markdown":"So the trick seems to be to first set a header using the DefaultTableModel constructor but then later to call setTableHeader(null);\r\n\r\n[![enter image description here][1]][1]\r\n\r\nHere is some demo code:\r\n\r\n    package net.raysforge.visual.demo;\r\n    \r\n    import java.awt.BorderLayout;\r\n    import java.awt.EventQueue;\r\n    import java.awt.GridBagConstraints;\r\n    import java.awt.GridBagLayout;\r\n    \r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.JTable;\r\n    import javax.swing.table.DefaultTableModel;\r\n    public class JTableAndGBC {\r\n    \r\n        private String[] columnNames = {&quot;Source&quot;, &quot;Hit&quot;, &quot;Last&quot;, &quot;Ur_Diff&quot;};\r\n        private JTable table;\r\n        private Object[][] data = {{&quot;Swing Timer&quot;, 2.99, 5, 1.01},\r\n            {&quot;Swing Worker&quot;, 7.10, 5, 1.010}, {&quot;TableModelListener&quot;, 25.05, 5, 1.01}};\r\n        private DefaultTableModel model = new DefaultTableModel(data, columnNames);\r\n    \r\n        public JTableAndGBC() {\r\n            JPanel panel = new JPanel(new GridBagLayout());\r\n            table = new JTable(model);\r\n            GridBagConstraints gbc = new GridBagConstraints();\r\n            gbc.weightx = 1.0;\r\n            gbc.fill = GridBagConstraints.HORIZONTAL;\r\n            JScrollPane pane = new JScrollPane(table);\r\n            table.setPreferredScrollableViewportSize(table.getPreferredSize());\r\n            table.setTableHeader(null);\r\n            panel.add(pane, gbc);\r\n            JFrame frame = new JFrame();\r\n            frame.add(panel, BorderLayout.CENTER);\r\n            frame.pack();\r\n            frame.setVisible(true);\r\n        }\r\n    \r\n        public static void main(String args[]) throws Exception {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    new JTableAndGBC();\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/54taC.png","title":"JTable without a header","body":"<p>So the trick seems to be to first set a header using the DefaultTableModel constructor but then later to call setTableHeader(null);</p>\n\n<p><a href=\"https://i.stack.imgur.com/54taC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/54taC.png\" alt=\"enter image description here\"></a></p>\n\n<p>Here is some demo code:</p>\n\n<pre><code>package net.raysforge.visual.demo;\n\nimport java.awt.BorderLayout;\nimport java.awt.EventQueue;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\n\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTable;\nimport javax.swing.table.DefaultTableModel;\npublic class JTableAndGBC {\n\n    private String[] columnNames = {\"Source\", \"Hit\", \"Last\", \"Ur_Diff\"};\n    private JTable table;\n    private Object[][] data = {{\"Swing Timer\", 2.99, 5, 1.01},\n        {\"Swing Worker\", 7.10, 5, 1.010}, {\"TableModelListener\", 25.05, 5, 1.01}};\n    private DefaultTableModel model = new DefaultTableModel(data, columnNames);\n\n    public JTableAndGBC() {\n        JPanel panel = new JPanel(new GridBagLayout());\n        table = new JTable(model);\n        GridBagConstraints gbc = new GridBagConstraints();\n        gbc.weightx = 1.0;\n        gbc.fill = GridBagConstraints.HORIZONTAL;\n        JScrollPane pane = new JScrollPane(table);\n        table.setPreferredScrollableViewportSize(table.getPreferredSize());\n        table.setTableHeader(null);\n        panel.add(pane, gbc);\n        JFrame frame = new JFrame();\n        frame.add(panel, BorderLayout.CENTER);\n        frame.pack();\n        frame.setVisible(true);\n    }\n\n    public static void main(String args[]) throws Exception {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                new JTableAndGBC();\n            }\n        });\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":875272,"reputation":1856,"user_id":1008671,"accept_rate":93,"display_name":"Budwise"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1474718506,"creation_date":1474718506,"answer_id":39676115,"question_id":2528643,"body_markdown":"Anyone having problems with the suggested methods, try the following:\r\n\r\n    jTable.getTableHeader().setUI(null);\r\n\r\nThis is tested with Java 8.","title":"JTable without a header","body":"<p>Anyone having problems with the suggested methods, try the following:</p>\n\n<pre><code>jTable.getTableHeader().setUI(null);\n</code></pre>\n\n<p>This is tested with Java 8.</p>\n"},{"tags":[],"owner":{"account_id":10765715,"reputation":9,"user_id":7920774,"display_name":"tharinda"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1498244035,"creation_date":1498239737,"answer_id":44727179,"question_id":2528643,"body_markdown":"[Try These Steps][1]:\r\n\r\n&gt; JtableProperties &gt; TableHeader &gt; CustomCode &gt; Null\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CODTl.png","title":"JTable without a header","body":"<p><a href=\"https://i.stack.imgur.com/CODTl.png\" rel=\"nofollow noreferrer\">Try These Steps</a>:</p>\n\n<blockquote>\n  <p>JtableProperties > TableHeader > CustomCode > Null</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":8065471,"reputation":1181,"user_id":6079771,"display_name":"moolsbytheway"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1521667665,"creation_date":1521667665,"answer_id":49416821,"question_id":2528643,"body_markdown":"Dummies like me: do this :]\r\n\r\n    jTable.setTableHeader(null);","title":"JTable without a header","body":"<p>Dummies like me: do this :]</p>\n\n<pre><code>jTable.setTableHeader(null);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20252311,"reputation":81,"user_id":14853010,"display_name":"Adrian Faur"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1616717045,"creation_date":1616717045,"answer_id":66809230,"question_id":2528643,"body_markdown":"jTable.getTableHeader().setUI(null) will not work after (if) L&amp;F is changed.\r\n\r\nWhat worked for me was to reset the visibility for the column headers of the scrollpane (in my cases assigned to variable scrollPaneSummary) that wraps the JTable this way:\r\n\r\n\r\n\tscrollPaneSummary = new javax.swing.JScrollPane();\r\n\tscrollPaneSummary.setVerticalScrollBarPolicy(javax.swing.JScrollPane.VERTICAL_SCROLLBAR_NEVER);\r\n\tscrollPaneSummary.setHorizontalScrollBarPolicy(javax.swing.JScrollPane.HORIZONTAL_SCROLLBAR_NEVER);\r\n\tscrollPaneSummary.setViewportView(  summaryJtable  );\r\n\tscrollPaneSummary.setColumnHeaderView( summaryJtable.getTableHeader());\r\n\r\n\t// make JTable headers invisible\r\n\tscrollPaneSummary.getColumnHeader().setVisible(false);\r\n\tscrollPaneSummary.revalidate();\r\n\r\n\r\n\t  ","title":"JTable without a header","body":"<p>jTable.getTableHeader().setUI(null) will not work after (if) L&amp;F is changed.</p>\n<p>What worked for me was to reset the visibility for the column headers of the scrollpane (in my cases assigned to variable scrollPaneSummary) that wraps the JTable this way:</p>\n<pre><code>scrollPaneSummary = new javax.swing.JScrollPane();\nscrollPaneSummary.setVerticalScrollBarPolicy(javax.swing.JScrollPane.VERTICAL_SCROLLBAR_NEVER);\nscrollPaneSummary.setHorizontalScrollBarPolicy(javax.swing.JScrollPane.HORIZONTAL_SCROLLBAR_NEVER);\nscrollPaneSummary.setViewportView(  summaryJtable  );\nscrollPaneSummary.setColumnHeaderView( summaryJtable.getTableHeader());\n\n// make JTable headers invisible\nscrollPaneSummary.getColumnHeader().setVisible(false);\nscrollPaneSummary.revalidate();\n\n\n  \n</code></pre>\n"}],"owner":{"account_id":600138,"reputation":271,"user_id":303089,"display_name":"saurabh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30950,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"answer_count":6,"score":27,"last_activity_date":1680018049,"creation_date":1269678525,"question_id":2528643,"body_markdown":"Can anyone tell me how to create a table without a table header?\r\n\r\nI am making Sudoku puzzle and I want to create a table without the table header in Java. Is it possible?\r\n","title":"JTable without a header","body":"<p>Can anyone tell me how to create a table without a table header?</p>\n\n<p>I am making Sudoku puzzle and I want to create a table without the table header in Java. Is it possible?</p>\n"},{"tags":["java","intellij-idea","junit","junit5"],"answers":[{"comments":[{"owner":{"account_id":426005,"reputation":13417,"user_id":806963,"accept_rate":85,"display_name":"Stav Alfi"},"score":0,"creation_date":1489170000,"post_id":42724223,"comment_id":72570079,"body_markdown":"Hi and thanks for the help, I&#39;m a completly begginer in Java so Maven and Gradle are not familiar to me. Which jar files do I need to download and from where and what should I do with them? (the IDE only letting me add JUnit 4 using alt + enter ).","body":"Hi and thanks for the help, I&#39;m a completly begginer in Java so Maven and Gradle are not familiar to me. Which jar files do I need to download and from where and what should I do with them? (the IDE only letting me add JUnit 4 using alt + enter )."},{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":2,"creation_date":1489170606,"post_id":42724223,"comment_id":72570370,"body_markdown":"Try the latest IDE version from http://www.jetbrains.com/idea/download/index.html.","body":"Try the latest IDE version from <a href=\"http://www.jetbrains.com/idea/download/index.html\" rel=\"nofollow noreferrer\">jetbrains.com/idea/download/index.html</a>."}],"tags":[],"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"comment_count":2,"down_vote_count":0,"up_vote_count":25,"is_accepted":true,"score":25,"last_activity_date":1489166862,"creation_date":1489166519,"answer_id":42724223,"question_id":42721368,"body_markdown":"If your project is Maven or Gradle based, the dependency is added via `pom.xml` or `build.gradle`, otherwise you just add the `.jar` files to the [Module Dependencies](http://www.jetbrains.com/idea/webhelp/configuring-module-dependencies-and-libraries.html).\r\n\r\nIDE can help you with that, press &lt;kbd&gt;Alt&lt;/kbd&gt;+&lt;kbd&gt;Enter&lt;/kbd&gt; on the red code:\r\n\r\n[![add library][1]][1]\r\n\r\nThe following dependencies will be downloaded from the Maven repository and added to the classpath:\r\n\r\n[![deps][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YH94S.png\r\n  [2]: https://i.stack.imgur.com/cOXgu.png","title":"Including JUnit 5 dependency in IntelliJ IDEA","body":"<p>If your project is Maven or Gradle based, the dependency is added via <code>pom.xml</code> or <code>build.gradle</code>, otherwise you just add the <code>.jar</code> files to the <a href=\"http://www.jetbrains.com/idea/webhelp/configuring-module-dependencies-and-libraries.html\" rel=\"noreferrer\">Module Dependencies</a>.</p>\n\n<p>IDE can help you with that, press <kbd>Alt</kbd>+<kbd>Enter</kbd> on the red code:</p>\n\n<p><a href=\"https://i.stack.imgur.com/YH94S.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/YH94S.png\" alt=\"add library\"></a></p>\n\n<p>The following dependencies will be downloaded from the Maven repository and added to the classpath:</p>\n\n<p><a href=\"https://i.stack.imgur.com/cOXgu.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/cOXgu.png\" alt=\"deps\"></a></p>\n"},{"comments":[{"owner":{"account_id":426005,"reputation":13417,"user_id":806963,"accept_rate":85,"display_name":"Stav Alfi"},"score":0,"creation_date":1489170063,"post_id":42724384,"comment_id":72570108,"body_markdown":"Where do I write that dependencies?","body":"Where do I write that dependencies?"},{"owner":{"account_id":4206565,"reputation":20016,"user_id":3445320,"display_name":"AAryan"},"score":0,"creation_date":1489200699,"post_id":42724384,"comment_id":72580901,"body_markdown":"write it in your build.gradle of app module","body":"write it in your build.gradle of app module"}],"tags":[],"owner":{"account_id":4206565,"reputation":20016,"user_id":3445320,"display_name":"AAryan"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1489167073,"creation_date":1489167073,"answer_id":42724384,"question_id":42721368,"body_markdown":"Previously you need plugin to run unit test like this\r\n\r\n    buildscript {\r\n        repositories {\r\n            mavenCentral()\r\n            // The following is only necessary if you want to use SNAPSHOT releases.\r\n            // maven { url &#39;https://oss.sonatype.org/content/repositories/snapshots&#39; }\r\n        }\r\n        dependencies {\r\n            classpath &#39;org.junit.platform:junit-platform-gradle-plugin:1.0.0-M2&#39;\r\n        }\r\n    }\r\n    \r\n    apply plugin: &#39;org.junit.platform.gradle.plugin&#39;\r\n\r\n\r\nBut for JUnit5 no need of plugin just compile \r\n\r\n    dependencies {\r\n         testCompile &#39;org.junit.jupiter:junit-jupiter-api:5.0.0-M2&#39;\r\n    }","title":"Including JUnit 5 dependency in IntelliJ IDEA","body":"<p>Previously you need plugin to run unit test like this</p>\n\n<pre><code>buildscript {\n    repositories {\n        mavenCentral()\n        // The following is only necessary if you want to use SNAPSHOT releases.\n        // maven { url 'https://oss.sonatype.org/content/repositories/snapshots' }\n    }\n    dependencies {\n        classpath 'org.junit.platform:junit-platform-gradle-plugin:1.0.0-M2'\n    }\n}\n\napply plugin: 'org.junit.platform.gradle.plugin'\n</code></pre>\n\n<p>But for JUnit5 no need of plugin just compile </p>\n\n<pre><code>dependencies {\n     testCompile 'org.junit.jupiter:junit-jupiter-api:5.0.0-M2'\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12532745,"reputation":143,"user_id":9120412,"display_name":"nahs"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1513729847,"creation_date":1513729847,"answer_id":47897179,"question_id":42721368,"body_markdown":"Got the latest IntelliJ IDEA (2017.3), being able to add JUnit5 library when creating test class in IntelliJ, but still failed to find tests. Tried the suggestion by @CrazyCoder, and found out the org.junit.jupiter.api has existed in my IntelliJ and has the version 5.0.0-M6. And finally solved by downloading  *org.junit.platform:junit-platform-commons:1.0.0-M6* from Maven Repository and adding it into classpath. \r\n\r\nFor someone like me, new to the IntelliJ, the detailed steps I followed: \r\n\r\n 1. Open Project Settings -&gt; Libraries -&gt; + New Project Library -&gt; from Maven...\r\n 2. Search and add *org.junit.platform:junit-platform-commons:1.0.0-M6*\r\n 3. Modules -&gt; *module name you want to add it to* -&gt; Dependencies -&gt; + 2 Library ... *(should have library jar listed)*","title":"Including JUnit 5 dependency in IntelliJ IDEA","body":"<p>Got the latest IntelliJ IDEA (2017.3), being able to add JUnit5 library when creating test class in IntelliJ, but still failed to find tests. Tried the suggestion by @CrazyCoder, and found out the org.junit.jupiter.api has existed in my IntelliJ and has the version 5.0.0-M6. And finally solved by downloading  <em>org.junit.platform:junit-platform-commons:1.0.0-M6</em> from Maven Repository and adding it into classpath. </p>\n\n<p>For someone like me, new to the IntelliJ, the detailed steps I followed: </p>\n\n<ol>\n<li>Open Project Settings -> Libraries -> + New Project Library -> from Maven...</li>\n<li>Search and add <em>org.junit.platform:junit-platform-commons:1.0.0-M6</em></li>\n<li>Modules -> <em>module name you want to add it to</em> -> Dependencies -> + 2 Library ... <em>(should have library jar listed)</em></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":5405196,"reputation":107,"user_id":4303939,"accept_rate":25,"display_name":"Qasim Ali"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1516906988,"creation_date":1516902349,"answer_id":48448984,"question_id":42721368,"body_markdown":"I made this work by adding this to my pom:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n        &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n        &lt;version&gt;5.0.0-M4&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;       \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n        &lt;artifactId&gt;junit-platform-launcher&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0.0-M4&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;","title":"Including JUnit 5 dependency in IntelliJ IDEA","body":"<p>I made this work by adding this to my pom:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n    &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n    &lt;version&gt;5.0.0-M4&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;       \n&lt;dependency&gt;\n    &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n    &lt;artifactId&gt;junit-platform-launcher&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0-M4&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25542375,"reputation":292,"user_id":19328232,"display_name":"GreenMarty"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680017848,"creation_date":1680017848,"answer_id":75868295,"question_id":42721368,"body_markdown":"There is much simpler way to generate test class in IntelliJ IDEA.  \r\n*(Works on IntelliJ IDEA 2022.3.3)*\r\n\r\n 1. Click on class you want to test and press alt+enter or click yellow lightbulb &gt; pick Create Test\r\n[![start test class generation][1]][1]\r\n\r\n 2. Setup where and how you wish to generate test class.     \r\n( *Please note that IntelliJ IDEA will detect if you have appropriate JUnit and prompts you to for automatic download if you don&#39;t.* )[![testing class generation setup][2]][2]\r\n        \r\n 3. Write your test class code [![enter image description here][3]][3]\r\n\r\n\r\nYou can find more details in [jetbrains documentation][4]\r\n   \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HwMB1.gif\r\n  [2]: https://i.stack.imgur.com/JUzMt.png\r\n  [3]: https://i.stack.imgur.com/LdwQE.png\r\n  [4]: https://www.jetbrains.com/help/idea/create-tests.html","title":"Including JUnit 5 dependency in IntelliJ IDEA","body":"<p>There is much simpler way to generate test class in IntelliJ IDEA.<br />\n<em>(Works on IntelliJ IDEA 2022.3.3)</em></p>\n<ol>\n<li><p>Click on class you want to test and press alt+enter or click yellow lightbulb &gt; pick Create Test\n<a href=\"https://i.stack.imgur.com/HwMB1.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HwMB1.gif\" alt=\"start test class generation\" /></a></p>\n</li>\n<li><p>Setup where and how you wish to generate test class.<br />\n( <em>Please note that IntelliJ IDEA will detect if you have appropriate JUnit and prompts you to for automatic download if you don't.</em> )<a href=\"https://i.stack.imgur.com/JUzMt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JUzMt.png\" alt=\"testing class generation setup\" /></a></p>\n</li>\n<li><p>Write your test class code <a href=\"https://i.stack.imgur.com/LdwQE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LdwQE.png\" alt=\"enter image description here\" /></a></p>\n</li>\n</ol>\n<p>You can find more details in <a href=\"https://www.jetbrains.com/help/idea/create-tests.html\" rel=\"nofollow noreferrer\">jetbrains documentation</a></p>\n"}],"owner":{"account_id":426005,"reputation":13417,"user_id":806963,"accept_rate":85,"display_name":"Stav Alfi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46648,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":42724223,"answer_count":5,"score":20,"last_activity_date":1680017848,"creation_date":1489157847,"question_id":42721368,"body_markdown":"From [jetbrains blog][1]:\r\n\r\n&gt; IntelliJ IDEA supports the ability to actually run tests written for\r\n&gt; JUnit 5  theres no need to use the additional libraries (like the\r\n&gt; Gradle or Maven plugins for example), all you need is to include the\r\n&gt; JUnit 5 dependency.\r\n\r\n  [1]: https://blog.jetbrains.com/idea/2016/08/using-junit-5-in-intellij-idea\r\n\r\nI&#39;m new to Java and IntelliJ IDEA and it&#39;s not clear to me what are the steps that I should do for making test using Junit 5.\r\n\r\n","title":"Including JUnit 5 dependency in IntelliJ IDEA","body":"<p>From <a href=\"https://blog.jetbrains.com/idea/2016/08/using-junit-5-in-intellij-idea\" rel=\"noreferrer\">jetbrains blog</a>:</p>\n\n<blockquote>\n  <p>IntelliJ IDEA supports the ability to actually run tests written for\n  JUnit 5  theres no need to use the additional libraries (like the\n  Gradle or Maven plugins for example), all you need is to include the\n  JUnit 5 dependency.</p>\n</blockquote>\n\n<p>I'm new to Java and IntelliJ IDEA and it's not clear to me what are the steps that I should do for making test using Junit 5.</p>\n"},{"tags":["java","audio","illegalargumentexception"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1603933222,"post_id":64583287,"comment_id":114195927,"body_markdown":"1) We don&#39;t know what line 17 is, but I would guess you specified an invalid file. 2) I don&#39;t know what the point of the Scanner is to play audio. 3) See: https://stackoverflow.com/a/64509714/131872 for a working example which will play a file from the internet (and also show how to load a file from your computer).","body":"1) We don&#39;t know what line 17 is, but I would guess you specified an invalid file. 2) I don&#39;t know what the point of the Scanner is to play audio. 3) See: <a href=\"https://stackoverflow.com/a/64509714/131872\">stackoverflow.com/a/64509714/131872</a> for a working example which will play a file from the internet (and also show how to load a file from your computer)."},{"owner":{"account_id":18596532,"reputation":37,"user_id":13552407,"display_name":"Kelxby"},"score":0,"creation_date":1603933588,"post_id":64583287,"comment_id":114196013,"body_markdown":"the scanner is meant to avoid the program from terminating before it even plays audio. line 17 is clip.open(audioStream); , and i highly doubt its an invalid file.","body":"the scanner is meant to avoid the program from terminating before it even plays audio. line 17 is clip.open(audioStream); , and i highly doubt its an invalid file."},{"owner":{"account_id":424804,"reputation":7765,"user_id":805007,"accept_rate":83,"display_name":"Phil Freihofner"},"score":0,"creation_date":1604082704,"post_id":64583287,"comment_id":114248753,"body_markdown":"This is such a common problem! I think the suggestions I posted just three days ago at this thread are worth testing. https://stackoverflow.com/questions/64536221/runtime-error-showing-in-running-wav-audio/64547455#64547455","body":"This is such a common problem! I think the suggestions I posted just three days ago at this thread are worth testing. <a href=\"https://stackoverflow.com/questions/64536221/runtime-error-showing-in-running-wav-audio/64547455#64547455\" title=\"runtime error showing in running wav audio\">stackoverflow.com/questions/64536221/&hellip;</a>"}],"owner":{"account_id":18596532,"reputation":37,"user_id":13552407,"display_name":"Kelxby"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":788,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680017759,"creation_date":1603931948,"question_id":64583287,"body_markdown":"I keep getting an exception saying IllegalArgrumentException, it says audio data &lt; 0 and that there is something wrong on line 17. But I see nothing wrong. I want to be able to play audio.\r\n\r\n```package files;\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.util.Scanner;\r\n\r\nimport javax.sound.sampled.*;\r\n\r\npublic class sound {\r\n\r\npublic static void main(String[] args) throws UnsupportedAudioFileException, IOException, LineUnavailableException{\r\n\t\t\r\n\t\tScanner scanner = new Scanner(System.in);\r\n\t\t\r\n\t\tFile file = new File(&quot;[ONTIVA.COM] YEAY Sound Effect-HQ.wav&quot;);\r\n\t\tAudioInputStream audioStream = AudioSystem.getAudioInputStream(file);\r\n\t\tClip clip = AudioSystem.getClip();\r\n\t\tclip.open(audioStream);\r\n\t\t\r\n\t\tString response = scanner.next();\r\n\t}\r\n\r\n}\r\n```","title":"How do I deal with a java.lang.IllegalArgumentException for play audio?","body":"<p>I keep getting an exception saying IllegalArgrumentException, it says audio data &lt; 0 and that there is something wrong on line 17. But I see nothing wrong. I want to be able to play audio.</p>\n<pre><code>import java.io.File;\nimport java.io.IOException;\nimport java.util.Scanner;\n\nimport javax.sound.sampled.*;\n\npublic class sound {\n\npublic static void main(String[] args) throws UnsupportedAudioFileException, IOException, LineUnavailableException{\n        \n        Scanner scanner = new Scanner(System.in);\n        \n        File file = new File(&quot;[ONTIVA.COM] YEAY Sound Effect-HQ.wav&quot;);\n        AudioInputStream audioStream = AudioSystem.getAudioInputStream(file);\n        Clip clip = AudioSystem.getClip();\n        clip.open(audioStream);\n        \n        String response = scanner.next();\n    }\n\n}\n</code></pre>\n"},{"tags":["java","dynamic-sql","mybatis"],"answers":[{"comments":[{"owner":{"account_id":1827965,"reputation":5603,"user_id":1660192,"accept_rate":80,"display_name":"Aman Gupta"},"score":0,"creation_date":1422511307,"post_id":13221300,"comment_id":44780784,"body_markdown":"for me, it shows `?` instead of actual value. e.g. `where login = ?`. any work around on this ? thanks\n(I am not using mapper class)","body":"for me, it shows <code>?</code> instead of actual value. e.g. <code>where login = ?</code>. any work around on this ? thanks (I am not using mapper class)"},{"owner":{"account_id":9471208,"reputation":153,"user_id":7042004,"display_name":"Rajat Goel"},"score":0,"creation_date":1634975419,"post_id":13221300,"comment_id":123175605,"body_markdown":"You need to do something like this: \n`List&lt;ParameterMapping&gt; boundParams = boundSql.getParameterMappings();\n for (int i = 0; i &lt; boundParams.size(); i++) {\n     preparedStatement.setObject(i + 1, valuesMap.get(boundParams.get(i).getProperty()));\n   }`","body":"You need to do something like this:  <code>List&lt;ParameterMapping&gt; boundParams = boundSql.getParameterMappings();  for (int i = 0; i &lt; boundParams.size(); i++) {      preparedStatement.setObject(i + 1, valuesMap.get(boundParams.get(i).getProperty()));    }</code>"},{"owner":{"account_id":7468577,"reputation":166,"user_id":5677231,"display_name":"Stephen.lin"},"score":0,"creation_date":1673322149,"post_id":13221300,"comment_id":132467439,"body_markdown":"Why do you need to configure the data source configuration? Is there a solution without configuring the data source?","body":"Why do you need to configure the data source configuration? Is there a solution without configuring the data source?"}],"tags":[],"owner":{"account_id":1130089,"reputation":24025,"user_id":1116391,"display_name":"Bogdan"},"comment_count":3,"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1352052041,"creation_date":1352052041,"answer_id":13221300,"question_id":13195144,"body_markdown":"Although MyBatis was designed to execute the query after it builds it, you can make use of it&#39;s configuration and a little bit of &quot;inside knowledge&quot; to get to what you need.\r\n\r\nMyBatis is a very nice framework, unfortunately it lacks on the documentations side so the source code is you friend. If you dig around you should bump into these classes: `org.apache.ibatis.mapping.MappedStatement` and `org.apache.ibatis.mapping.BoundSql` which are key players into building the dynamic SQL. Here is a basic usage example:\r\n\r\nMySQL table `user` with this data in it:\r\n\r\n    name    login\r\n    -----   -----\r\n    Andy\ta\r\n    Barry\tb\r\n    Cris\tc\r\n\r\n`User` class:\r\n\r\n    package pack.test;\r\n    public class User {\r\n        private String name;\r\n        private String login;\r\n        // getters and setters ommited\r\n    }\r\n\r\n`UserService` interface:\r\n\r\n    package pack.test;\r\n    public interface UserService {\r\n        // using a different sort of parameter to show some dynamic SQL\r\n        public User getUser(int loginNumber);\r\n    }\r\n\r\n`UserService.xml` mapper file:\r\n\r\n    &lt;mapper namespace=&quot;pack.test.UserService&quot;&gt;\r\n        &lt;select id=&quot;getUser&quot; resultType=&quot;pack.test.User&quot; parameterType=&quot;int&quot;&gt;\r\n           &lt;!-- dynamic change of parameter from int index to login string --&gt;\r\n           select * from user where login = &lt;choose&gt;\r\n                                               &lt;when test=&quot;_parameter == 1&quot;&gt;&#39;a&#39;&lt;/when&gt;\r\n                                               &lt;when test=&quot;_parameter == 2&quot;&gt;&#39;b&#39;&lt;/when&gt;\r\n                                               &lt;otherwise&gt;&#39;c&#39;&lt;/otherwise&gt;\r\n                                            &lt;/choose&gt;\t\r\n        &lt;/select&gt;\r\n    &lt;/mapper&gt;\r\n\r\n`sqlmap-config.file`:\r\n\r\n    &lt;configuration&gt;\r\n        &lt;settings&gt;\r\n            &lt;setting name=&quot;lazyLoadingEnabled&quot; value=&quot;false&quot; /&gt;\r\n        &lt;/settings&gt;\r\n        &lt;environments default=&quot;development&quot;&gt; \r\n            &lt;environment id=&quot;development&quot;&gt; \r\n                &lt;transactionManager type=&quot;JDBC&quot;/&gt; \r\n                &lt;dataSource type=&quot;POOLED&quot;&gt; \r\n                    &lt;property name=&quot;driver&quot; value=&quot;com.mysql.jdbc.Driver&quot;/&gt; \r\n                    &lt;property name=&quot;url&quot; value=&quot;jdbc:mysql://localhost/test&quot;/&gt; \r\n                    &lt;property name=&quot;username&quot; value=&quot;...&quot;/&gt; \r\n                    &lt;property name=&quot;password&quot; value=&quot;...&quot;/&gt; \r\n                &lt;/dataSource&gt; \r\n            &lt;/environment&gt; \r\n          &lt;/environments&gt;\r\n        &lt;mappers&gt;\r\n            &lt;mapper resource=&quot;pack/test/UserService.xml&quot;/&gt;\r\n        &lt;/mappers&gt;\r\n    &lt;/configuration&gt;\r\n\r\n`AppTester` to show the result:\r\n\r\n    package pack.test;\r\n    \r\n    import java.io.Reader;\r\n    import org.apache.ibatis.io.Resources;\r\n    import org.apache.ibatis.mapping.BoundSql;\r\n    import org.apache.ibatis.mapping.MappedStatement;\r\n    import org.apache.ibatis.session.SqlSession;\r\n    import org.apache.ibatis.session.SqlSessionFactoryBuilder;\r\n    \r\n    public class AppTester {\r\n        private static String CONFIGURATION_FILE = &quot;sqlmap-config.xml&quot;;\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            Reader reader = null;\r\n            SqlSession session = null;\r\n            try {\r\n            \r\n                reader = Resources.getResourceAsReader(CONFIGURATION_FILE);\r\n                session = new SqlSessionFactoryBuilder().build(reader).openSession();\r\n                UserService userService = session.getMapper(UserService.class);\r\n                \r\n    \t\t\t// three users retreived from index\r\n                for (int i = 1; i &lt;= 3; i++) {\r\n                    User user = userService.getUser(i);\r\n                    System.out.println(&quot;Retreived user: &quot; + user.getName() + &quot; &quot; + user.getLogin());\r\n                    \r\n                    // must mimic the internal statement key for the mapper and method you are calling\r\n                    MappedStatement ms = session.getConfiguration().getMappedStatement(UserService.class.getName() + &quot;.getUser&quot;);\r\n                    BoundSql boundSql = ms.getBoundSql(i); // parameter for the SQL statement\r\n                    System.out.println(&quot;SQL used: &quot; + boundSql.getSql());\r\n                    System.out.println();\r\n                }\r\n            \r\n            } finally {\r\n                if (reader != null) {\r\n                    reader.close();\r\n                }\r\n                if (session != null) {\r\n                    session.close();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nAnd the result:\r\n\r\n    Retreived user: Andy a\r\n    SQL used: select * from user where login =  &#39;a&#39;\r\n    \r\n    Retreived user: Barry b\r\n    SQL used: select * from user where login =  &#39;b&#39;\r\n    \r\n    Retreived user: Cris c\r\n    SQL used: select * from user where login =  &#39;c&#39;\r\n\r\n","title":"Can I use MyBatis to generate Dynamic SQL without executing it?","body":"<p>Although MyBatis was designed to execute the query after it builds it, you can make use of it's configuration and a little bit of \"inside knowledge\" to get to what you need.</p>\n\n<p>MyBatis is a very nice framework, unfortunately it lacks on the documentations side so the source code is you friend. If you dig around you should bump into these classes: <code>org.apache.ibatis.mapping.MappedStatement</code> and <code>org.apache.ibatis.mapping.BoundSql</code> which are key players into building the dynamic SQL. Here is a basic usage example:</p>\n\n<p>MySQL table <code>user</code> with this data in it:</p>\n\n<pre><code>name    login\n-----   -----\nAndy    a\nBarry   b\nCris    c\n</code></pre>\n\n<p><code>User</code> class:</p>\n\n<pre><code>package pack.test;\npublic class User {\n    private String name;\n    private String login;\n    // getters and setters ommited\n}\n</code></pre>\n\n<p><code>UserService</code> interface:</p>\n\n<pre><code>package pack.test;\npublic interface UserService {\n    // using a different sort of parameter to show some dynamic SQL\n    public User getUser(int loginNumber);\n}\n</code></pre>\n\n<p><code>UserService.xml</code> mapper file:</p>\n\n<pre><code>&lt;mapper namespace=\"pack.test.UserService\"&gt;\n    &lt;select id=\"getUser\" resultType=\"pack.test.User\" parameterType=\"int\"&gt;\n       &lt;!-- dynamic change of parameter from int index to login string --&gt;\n       select * from user where login = &lt;choose&gt;\n                                           &lt;when test=\"_parameter == 1\"&gt;'a'&lt;/when&gt;\n                                           &lt;when test=\"_parameter == 2\"&gt;'b'&lt;/when&gt;\n                                           &lt;otherwise&gt;'c'&lt;/otherwise&gt;\n                                        &lt;/choose&gt;   \n    &lt;/select&gt;\n&lt;/mapper&gt;\n</code></pre>\n\n<p><code>sqlmap-config.file</code>:</p>\n\n<pre><code>&lt;configuration&gt;\n    &lt;settings&gt;\n        &lt;setting name=\"lazyLoadingEnabled\" value=\"false\" /&gt;\n    &lt;/settings&gt;\n    &lt;environments default=\"development\"&gt; \n        &lt;environment id=\"development\"&gt; \n            &lt;transactionManager type=\"JDBC\"/&gt; \n            &lt;dataSource type=\"POOLED\"&gt; \n                &lt;property name=\"driver\" value=\"com.mysql.jdbc.Driver\"/&gt; \n                &lt;property name=\"url\" value=\"jdbc:mysql://localhost/test\"/&gt; \n                &lt;property name=\"username\" value=\"...\"/&gt; \n                &lt;property name=\"password\" value=\"...\"/&gt; \n            &lt;/dataSource&gt; \n        &lt;/environment&gt; \n      &lt;/environments&gt;\n    &lt;mappers&gt;\n        &lt;mapper resource=\"pack/test/UserService.xml\"/&gt;\n    &lt;/mappers&gt;\n&lt;/configuration&gt;\n</code></pre>\n\n<p><code>AppTester</code> to show the result:</p>\n\n<pre><code>package pack.test;\n\nimport java.io.Reader;\nimport org.apache.ibatis.io.Resources;\nimport org.apache.ibatis.mapping.BoundSql;\nimport org.apache.ibatis.mapping.MappedStatement;\nimport org.apache.ibatis.session.SqlSession;\nimport org.apache.ibatis.session.SqlSessionFactoryBuilder;\n\npublic class AppTester {\n    private static String CONFIGURATION_FILE = \"sqlmap-config.xml\";\n\n    public static void main(String[] args) throws Exception {\n        Reader reader = null;\n        SqlSession session = null;\n        try {\n\n            reader = Resources.getResourceAsReader(CONFIGURATION_FILE);\n            session = new SqlSessionFactoryBuilder().build(reader).openSession();\n            UserService userService = session.getMapper(UserService.class);\n\n            // three users retreived from index\n            for (int i = 1; i &lt;= 3; i++) {\n                User user = userService.getUser(i);\n                System.out.println(\"Retreived user: \" + user.getName() + \" \" + user.getLogin());\n\n                // must mimic the internal statement key for the mapper and method you are calling\n                MappedStatement ms = session.getConfiguration().getMappedStatement(UserService.class.getName() + \".getUser\");\n                BoundSql boundSql = ms.getBoundSql(i); // parameter for the SQL statement\n                System.out.println(\"SQL used: \" + boundSql.getSql());\n                System.out.println();\n            }\n\n        } finally {\n            if (reader != null) {\n                reader.close();\n            }\n            if (session != null) {\n                session.close();\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>And the result:</p>\n\n<pre><code>Retreived user: Andy a\nSQL used: select * from user where login =  'a'\n\nRetreived user: Barry b\nSQL used: select * from user where login =  'b'\n\nRetreived user: Cris c\nSQL used: select * from user where login =  'c'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":108117,"reputation":9982,"user_id":287138,"accept_rate":82,"display_name":"Stefan Haberl"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1390315816,"creation_date":1390315816,"answer_id":21261418,"question_id":13195144,"body_markdown":"Just to add to Bogdan&#39;s correct answer: You need to pass a JavaBean to `getBoundSql()` with getter&#39;s for your interface parameters, if you&#39;re interface has a more complex signature.\r\n\r\nLet&#39;s assume you want to query the user based on the login number and/or the user name. Your interface might look like this:\r\n\r\n    package pack.test;\r\n    public interface UserService {\r\n        // using a different sort of parameter to show some dynamic SQL\r\n        public User getUser(@Param(&quot;number&quot;) int loginNumber, @Param(&quot;name&quot;) String name);\r\n    }\r\n\r\nI&#39;m leaving out the Mapper code since it&#39;s irrelevant for this discussion, but your code in AppTester should become:\r\n\r\n\r\n    [...]\r\n    final String name = &quot;Andy&quot;;\r\n    User user = userService.getUser(i, name);\r\n    System.out.println(&quot;Retreived user: &quot; + user.getName() + &quot; &quot; + user.getLogin());\r\n\r\n    // must mimic the internal statement key for the mapper and method you are calling\r\n    MappedStatement ms  = session.getConfiguration().getMappedStatement(UserService.class.getName() + &quot;.getUser&quot;);\r\n    BoundSql boundSql = ms.getBoundSql(new Object() {\r\n       // provide getters matching the @Param&#39;s in the interface declaration\r\n       public Object getNumber() {\r\n         return i;\r\n       }\r\n       public Object getName() {\r\n         return name;\r\n       }\r\n       \r\n    });\r\n    System.out.println(&quot;SQL used: &quot; + boundSql.getSql());\r\n    System.out.println();\r\n    [...]","title":"Can I use MyBatis to generate Dynamic SQL without executing it?","body":"<p>Just to add to Bogdan's correct answer: You need to pass a JavaBean to <code>getBoundSql()</code> with getter's for your interface parameters, if you're interface has a more complex signature.</p>\n\n<p>Let's assume you want to query the user based on the login number and/or the user name. Your interface might look like this:</p>\n\n<pre><code>package pack.test;\npublic interface UserService {\n    // using a different sort of parameter to show some dynamic SQL\n    public User getUser(@Param(\"number\") int loginNumber, @Param(\"name\") String name);\n}\n</code></pre>\n\n<p>I'm leaving out the Mapper code since it's irrelevant for this discussion, but your code in AppTester should become:</p>\n\n<pre><code>[...]\nfinal String name = \"Andy\";\nUser user = userService.getUser(i, name);\nSystem.out.println(\"Retreived user: \" + user.getName() + \" \" + user.getLogin());\n\n// must mimic the internal statement key for the mapper and method you are calling\nMappedStatement ms  = session.getConfiguration().getMappedStatement(UserService.class.getName() + \".getUser\");\nBoundSql boundSql = ms.getBoundSql(new Object() {\n   // provide getters matching the @Param's in the interface declaration\n   public Object getNumber() {\n     return i;\n   }\n   public Object getName() {\n     return name;\n   }\n\n});\nSystem.out.println(\"SQL used: \" + boundSql.getSql());\nSystem.out.println();\n[...]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":79661,"reputation":1339,"user_id":225730,"display_name":"chad"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1493945225,"creation_date":1481216916,"answer_id":41045024,"question_id":13195144,"body_markdown":"Everyone knows how to use BoundSql.getSql() to get a paramaterized query string from MyBatis, like this:\r\n\r\n    // get parameterized query\r\n    MappedStatement ms = configuration.getMappedStatement(&quot;MyMappedStatementId&quot;);\r\n    BoundSql boundSql = ms.getBoundSql(parameters);\r\n    System.out.println(&quot;SQL&quot; + boundSql.getSql());\r\n    // SELECT species FROM animal WHERE name IN (?, ?) or id = ?\r\n\r\nBut now you need the other half of the equation, the list of values that correspond to the question marks:\r\n    \r\n    // get parameters\r\n    List&lt;ParameterMapping&gt; boundParams = boundSql.getParameterMappings();\r\n    String paramString = &quot;&quot;;\r\n    for(ParameterMapping param : boundParams) {\r\n        paramString += boundSql.getAdditionalParameter(param.getProperty()) + &quot;;&quot;;\r\n    }\r\n    System.out.println(&quot;params:&quot; + paramString);\r\n    // &quot;Spot;Fluffy;42;&quot;\r\n\r\nNow you can serialize it to send elsewhere to be run, or you can print it to a log so you can stitch them together and run the query manually.\r\n\r\n*code not tested, might be minor type issues or the like","title":"Can I use MyBatis to generate Dynamic SQL without executing it?","body":"<p>Everyone knows how to use BoundSql.getSql() to get a paramaterized query string from MyBatis, like this:</p>\n\n<pre><code>// get parameterized query\nMappedStatement ms = configuration.getMappedStatement(\"MyMappedStatementId\");\nBoundSql boundSql = ms.getBoundSql(parameters);\nSystem.out.println(\"SQL\" + boundSql.getSql());\n// SELECT species FROM animal WHERE name IN (?, ?) or id = ?\n</code></pre>\n\n<p>But now you need the other half of the equation, the list of values that correspond to the question marks:</p>\n\n<pre><code>// get parameters\nList&lt;ParameterMapping&gt; boundParams = boundSql.getParameterMappings();\nString paramString = \"\";\nfor(ParameterMapping param : boundParams) {\n    paramString += boundSql.getAdditionalParameter(param.getProperty()) + \";\";\n}\nSystem.out.println(\"params:\" + paramString);\n// \"Spot;Fluffy;42;\"\n</code></pre>\n\n<p>Now you can serialize it to send elsewhere to be run, or you can print it to a log so you can stitch them together and run the query manually.</p>\n\n<p>*code not tested, might be minor type issues or the like</p>\n"},{"tags":[],"owner":{"account_id":9161772,"reputation":589,"user_id":6812862,"display_name":"zwx"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1556173944,"creation_date":1556173944,"answer_id":55843130,"question_id":13195144,"body_markdown":"mybatis version is 3.4.5\r\n\r\n## Util Class\r\n\r\nTo convert mapper to sql, need mapper interface class,method name,paramters,and sqlSession.\r\n\r\n\r\n\t\t\tpackage util;\r\n\r\n\t\t\timport java.lang.reflect.Method;\r\n\t\t\timport java.text.DateFormat;\r\n\t\t\timport java.time.LocalDateTime;\r\n\t\t\timport java.time.format.DateTimeFormatter;\r\n\t\t\timport java.util.Date;\r\n\t\t\timport java.util.List;\r\n\t\t\timport java.util.Locale;\r\n\t\t\timport java.util.regex.Matcher;\r\n\t\t\timport org.apache.ibatis.binding.MapperMethod.MethodSignature;\r\n\t\t\timport org.apache.ibatis.mapping.BoundSql;\r\n\t\t\timport org.apache.ibatis.mapping.MappedStatement;\r\n\t\t\timport org.apache.ibatis.mapping.ParameterMapping;\r\n\t\t\timport org.apache.ibatis.reflection.MetaObject;\r\n\t\t\timport org.apache.ibatis.session.Configuration;\r\n\t\t\timport org.apache.ibatis.session.SqlSession;\r\n\t\t\timport org.apache.ibatis.type.TypeHandlerRegistry;\r\n\t\t\timport org.springframework.util.CollectionUtils;\r\n\r\n\t\t\t/**\r\n\t\t\t * @author zwxbest - 19-4-25\r\n\t\t\t */\r\n\t\t\tpublic class SqlUtil {\r\n\r\n\t\t\t\tpublic static String showSql(SqlSession sqlSession, Class mapperInterface, String methodName,\r\n\t\t\t\t\tObject[] params) {\r\n\t\t\t\t\tConfiguration configuration = sqlSession.getConfiguration();\r\n\t\t\t\t\tMappedStatement ms = configuration.getMappedStatement(\r\n\t\t\t\t\t\tmapperInterface.getName() + &quot;.&quot; + methodName);\r\n\r\n\t\t\t\t\tMethod sqlMethod = null;\r\n\r\n\t\t\t\t\t//find method equals methodName\r\n\t\t\t\t\tfor (Method method : mapperInterface.getDeclaredMethods()) {\r\n\t\t\t\t\t\tif (method.getName().equals(methodName)) {\r\n\t\t\t\t\t\t\tsqlMethod = method;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (sqlMethod == null) {\r\n\t\t\t\t\t\tthrow new RuntimeException(&quot;mapper method is not found&quot;);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tMethodSignature method = new MethodSignature(configuration, mapperInterface, sqlMethod);\r\n\t\t\t\t\tObject paramObject = method.convertArgsToSqlCommandParam(params);\r\n\t\t\t\t\tBoundSql boundSql = ms.getBoundSql(paramObject);\r\n\t\t\t\t\tObject parameterObject = boundSql.getParameterObject();\r\n\t\t\t\t\tList&lt;ParameterMapping&gt; parameterMappings = boundSql\r\n\t\t\t\t\t\t.getParameterMappings();\r\n\t\t\t\t\tString sql = boundSql.getSql().replaceAll(&quot;[\\\\s]+&quot;, &quot; &quot;);\r\n\t\t\t\t\tif (!CollectionUtils.isEmpty(parameterMappings) &amp;&amp; parameterObject != null) {\r\n\t\t\t\t\t\tTypeHandlerRegistry typeHandlerRegistry = configuration\r\n\t\t\t\t\t\t\t.getTypeHandlerRegistry();\r\n\t\t\t\t\t\tif (typeHandlerRegistry.hasTypeHandler(parameterObject.getClass())) {\r\n\t\t\t\t\t\t\tsql = sql.replaceFirst(&quot;\\\\?&quot;,\r\n\t\t\t\t\t\t\t\tMatcher.quoteReplacement(getParameterValue(parameterObject)));\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tMetaObject metaObject = configuration.newMetaObject(\r\n\t\t\t\t\t\t\t\tparameterObject);\r\n\t\t\t\t\t\t\tfor (ParameterMapping parameterMapping : parameterMappings) {\r\n\t\t\t\t\t\t\t\tString propertyName = parameterMapping.getProperty();\r\n\t\t\t\t\t\t\t\tif (metaObject.hasGetter(propertyName)) {\r\n\t\t\t\t\t\t\t\t\tObject obj = metaObject.getValue(propertyName);\r\n\t\t\t\t\t\t\t\t\tsql = sql\r\n\t\t\t\t\t\t\t\t\t\t.replaceFirst(&quot;\\\\?&quot;, Matcher.quoteReplacement(getParameterValue(obj)));\r\n\t\t\t\t\t\t\t\t} else if (boundSql.hasAdditionalParameter(propertyName)) {\r\n\t\t\t\t\t\t\t\t\tObject obj = boundSql.getAdditionalParameter(propertyName);\r\n\t\t\t\t\t\t\t\t\tsql = sql\r\n\t\t\t\t\t\t\t\t\t\t.replaceFirst(&quot;\\\\?&quot;, Matcher.quoteReplacement(getParameterValue(obj)));\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tsql = sql.replaceFirst(&quot;\\\\?&quot;, &quot;missing&quot;);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn sql;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * if param&#39;s type is `String`,add single quotation&lt;br&gt;\r\n\t\t\t\t *\r\n\t\t\t\t * if param&#39;s type is `datetime`,convert to string and quote &lt;br&gt;\r\n\t\t\t\t */\r\n\t\t\t\tprivate static String getParameterValue(Object obj) {\r\n\t\t\t\t\tString value = null;\r\n\t\t\t\t\tif (obj instanceof String) {\r\n\t\t\t\t\t\tvalue = &quot;&#39;&quot; + obj.toString() + &quot;&#39;&quot;;\r\n\t\t\t\t\t} else if (obj instanceof Date) {\r\n\t\t\t\t\t\tDateFormat formatter = DateFormat\r\n\t\t\t\t\t\t\t.getDateTimeInstance(DateFormat.DEFAULT, DateFormat.DEFAULT, Locale.CHINA);\r\n\t\t\t\t\t\tvalue = &quot;&#39;&quot; + formatter.format(new Date()) + &quot;&#39;&quot;;\r\n\t\t\t\t\t} else if (obj instanceof LocalDateTime) {\r\n\t\t\t\t\t\tvalue = &quot;\\&#39;&quot; + ((LocalDateTime) obj)\r\n\t\t\t\t\t\t\t.format(DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;)) + &quot;\\&#39;&quot;;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif (obj != null) {\r\n\t\t\t\t\t\t\tvalue = obj.toString();\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tvalue = &quot;&quot;;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn value;\r\n\t\t\t\t}\r\n\t}\r\n\r\n\r\n## call example\r\n\r\nsqlSession is injected by Spring .\r\n\r\n    @Autowired\r\n    private SqlSession sqlSession;\r\n\r\n        String sql = SqlUtil\r\n            .showSql(sqlSession, PromotionCodeMapper.class, &quot;selectByPromotionCodeForUpdate&quot;,\r\n                new Object[]{&quot;111&quot;});\r\n        log.warn(sql);\r\n","title":"Can I use MyBatis to generate Dynamic SQL without executing it?","body":"<p>mybatis version is 3.4.5</p>\n\n<h2>Util Class</h2>\n\n<p>To convert mapper to sql, need mapper interface class,method name,paramters,and sqlSession.</p>\n\n<pre><code>        package util;\n\n        import java.lang.reflect.Method;\n        import java.text.DateFormat;\n        import java.time.LocalDateTime;\n        import java.time.format.DateTimeFormatter;\n        import java.util.Date;\n        import java.util.List;\n        import java.util.Locale;\n        import java.util.regex.Matcher;\n        import org.apache.ibatis.binding.MapperMethod.MethodSignature;\n        import org.apache.ibatis.mapping.BoundSql;\n        import org.apache.ibatis.mapping.MappedStatement;\n        import org.apache.ibatis.mapping.ParameterMapping;\n        import org.apache.ibatis.reflection.MetaObject;\n        import org.apache.ibatis.session.Configuration;\n        import org.apache.ibatis.session.SqlSession;\n        import org.apache.ibatis.type.TypeHandlerRegistry;\n        import org.springframework.util.CollectionUtils;\n\n        /**\n         * @author zwxbest - 19-4-25\n         */\n        public class SqlUtil {\n\n            public static String showSql(SqlSession sqlSession, Class mapperInterface, String methodName,\n                Object[] params) {\n                Configuration configuration = sqlSession.getConfiguration();\n                MappedStatement ms = configuration.getMappedStatement(\n                    mapperInterface.getName() + \".\" + methodName);\n\n                Method sqlMethod = null;\n\n                //find method equals methodName\n                for (Method method : mapperInterface.getDeclaredMethods()) {\n                    if (method.getName().equals(methodName)) {\n                        sqlMethod = method;\n                        break;\n                    }\n                }\n                if (sqlMethod == null) {\n                    throw new RuntimeException(\"mapper method is not found\");\n                }\n\n                MethodSignature method = new MethodSignature(configuration, mapperInterface, sqlMethod);\n                Object paramObject = method.convertArgsToSqlCommandParam(params);\n                BoundSql boundSql = ms.getBoundSql(paramObject);\n                Object parameterObject = boundSql.getParameterObject();\n                List&lt;ParameterMapping&gt; parameterMappings = boundSql\n                    .getParameterMappings();\n                String sql = boundSql.getSql().replaceAll(\"[\\\\s]+\", \" \");\n                if (!CollectionUtils.isEmpty(parameterMappings) &amp;&amp; parameterObject != null) {\n                    TypeHandlerRegistry typeHandlerRegistry = configuration\n                        .getTypeHandlerRegistry();\n                    if (typeHandlerRegistry.hasTypeHandler(parameterObject.getClass())) {\n                        sql = sql.replaceFirst(\"\\\\?\",\n                            Matcher.quoteReplacement(getParameterValue(parameterObject)));\n                    } else {\n                        MetaObject metaObject = configuration.newMetaObject(\n                            parameterObject);\n                        for (ParameterMapping parameterMapping : parameterMappings) {\n                            String propertyName = parameterMapping.getProperty();\n                            if (metaObject.hasGetter(propertyName)) {\n                                Object obj = metaObject.getValue(propertyName);\n                                sql = sql\n                                    .replaceFirst(\"\\\\?\", Matcher.quoteReplacement(getParameterValue(obj)));\n                            } else if (boundSql.hasAdditionalParameter(propertyName)) {\n                                Object obj = boundSql.getAdditionalParameter(propertyName);\n                                sql = sql\n                                    .replaceFirst(\"\\\\?\", Matcher.quoteReplacement(getParameterValue(obj)));\n                            } else {\n                                sql = sql.replaceFirst(\"\\\\?\", \"missing\");\n                            }\n                        }\n                    }\n                }\n                return sql;\n            }\n\n            /**\n             * if param's type is `String`,add single quotation&lt;br&gt;\n             *\n             * if param's type is `datetime`,convert to string and quote &lt;br&gt;\n             */\n            private static String getParameterValue(Object obj) {\n                String value = null;\n                if (obj instanceof String) {\n                    value = \"'\" + obj.toString() + \"'\";\n                } else if (obj instanceof Date) {\n                    DateFormat formatter = DateFormat\n                        .getDateTimeInstance(DateFormat.DEFAULT, DateFormat.DEFAULT, Locale.CHINA);\n                    value = \"'\" + formatter.format(new Date()) + \"'\";\n                } else if (obj instanceof LocalDateTime) {\n                    value = \"\\'\" + ((LocalDateTime) obj)\n                        .format(DateTimeFormatter.ofPattern(\"yyyy-MM-dd HH:mm:ss\")) + \"\\'\";\n                } else {\n                    if (obj != null) {\n                        value = obj.toString();\n                    } else {\n                        value = \"\";\n                    }\n\n                }\n                return value;\n            }\n}\n</code></pre>\n\n<h2>call example</h2>\n\n<p>sqlSession is injected by Spring .</p>\n\n<pre><code>@Autowired\nprivate SqlSession sqlSession;\n\n    String sql = SqlUtil\n        .showSql(sqlSession, PromotionCodeMapper.class, \"selectByPromotionCodeForUpdate\",\n            new Object[]{\"111\"});\n    log.warn(sql);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7468577,"reputation":166,"user_id":5677231,"display_name":"Stephen.lin"},"score":0,"creation_date":1673325806,"post_id":68842806,"comment_id":132467890,"body_markdown":"a very good solution","body":"a very good solution"},{"owner":{"account_id":254135,"reputation":3720,"user_id":533317,"display_name":"btpka3"},"score":0,"creation_date":1680018312,"post_id":68842806,"comment_id":133823403,"body_markdown":"id is a string , in  the result sql it should be quoted with single quote.\n\n`select * from table where 1 = 1 and id = &#39;1&#39;`","body":"id is a string , in  the result sql it should be quoted with single quote.  <code>select * from table where 1 = 1 and id = &#39;1&#39;</code>"}],"tags":[],"owner":{"account_id":8426660,"reputation":36,"user_id":6536331,"display_name":"elon wen"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1629353342,"creation_date":1629353342,"answer_id":68842806,"question_id":13195144,"body_markdown":"```\r\npublic static void main(String[] args) throws Exception {\r\n\r\n    String script = &quot;&lt;script&gt;select * from table where 1 = 1&lt;if test=&#39;id != null&#39;&gt;and id = ${id} &lt;/if&gt;&lt;/script&gt;&quot;;\r\n\r\n    System.out.println(buildSql(script));\r\n\r\n}\r\n\r\nprivate static String buildSql(String script) {\r\n\r\n    LanguageDriver languageDriver = new XMLLanguageDriver();\r\n\r\n    Configuration configuration = new Configuration();\r\n\r\n    SqlSource sqlSource = languageDriver.createSqlSource(configuration, script, Object.class);\r\n\r\n    Map&lt;String, String&gt; parameters = new HashMap&lt;&gt;();\r\n    parameters.put(&quot;id&quot;, &quot;1&quot;);\r\n\r\n    BoundSql boundSql = sqlSource.getBoundSql(parameters);\r\n\r\n    return boundSql.getSql();\r\n\r\n}\r\n```\r\n\r\nuse ${id} instead of #{id}\r\n\r\nresult is: select * from table where 1 = 1 and id = 1","title":"Can I use MyBatis to generate Dynamic SQL without executing it?","body":"<pre><code>public static void main(String[] args) throws Exception {\n\n    String script = &quot;&lt;script&gt;select * from table where 1 = 1&lt;if test='id != null'&gt;and id = ${id} &lt;/if&gt;&lt;/script&gt;&quot;;\n\n    System.out.println(buildSql(script));\n\n}\n\nprivate static String buildSql(String script) {\n\n    LanguageDriver languageDriver = new XMLLanguageDriver();\n\n    Configuration configuration = new Configuration();\n\n    SqlSource sqlSource = languageDriver.createSqlSource(configuration, script, Object.class);\n\n    Map&lt;String, String&gt; parameters = new HashMap&lt;&gt;();\n    parameters.put(&quot;id&quot;, &quot;1&quot;);\n\n    BoundSql boundSql = sqlSource.getBoundSql(parameters);\n\n    return boundSql.getSql();\n\n}\n</code></pre>\n<p>use ${id} instead of #{id}</p>\n<p>result is: select * from table where 1 = 1 and id = 1</p>\n"},{"tags":[],"owner":{"account_id":254135,"reputation":3720,"user_id":533317,"display_name":"btpka3"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680017415,"creation_date":1680017415,"answer_id":75868232,"question_id":13195144,"body_markdown":"In my case, I need to generate dynamic sql , then submit it to aliyun [MaxCompute](https://help.aliyun.com/document_detail/34614.html) which is a sevice for big data and can not work with mybatis.\r\n\r\nHere is my worked junit5 test case without binding a datasource (only 2 files).\r\n\r\nNotice: after get a `org.apache.ibatis.mapping.BoundSql`, I had to write a custom method `toSqlWithParam` to geneate full sql.\r\n\r\n\r\n`MyBatisGenSql.mapper.xml`\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\r\n&lt;!DOCTYPE mapper PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot; &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot; &gt;\r\n&lt;mapper namespace=&quot;xxxNamespace&quot; &gt;\r\n    &lt;sql id=&quot;Base_Column_List&quot; &gt;\r\n        id\r\n    &lt;/sql&gt;\r\n    &lt;select id=&quot;select01&quot;&gt;\r\n        select &lt;include refid=&quot;Base_Column_List&quot; /&gt;\r\n        from ${table}\r\n        &lt;where&gt;\r\n            &lt;if test=&quot;id != null&quot;&gt;\r\n                AND id = #{id}\r\n            &lt;/if&gt;\r\n            &lt;if test=&quot;name != null&quot;&gt;\r\n                AND ( name = #{name}  or nick = #{name} )\r\n            &lt;/if&gt;\r\n        &lt;/where&gt;\r\n        order by id desc\r\n    &lt;/select&gt;\r\n&lt;/mapper&gt;\r\n```\r\n\r\n`MyBatisGenSqlTest.java`\r\n```java\r\nimport lombok.SneakyThrows;\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport org.apache.ibatis.builder.xml.XMLMapperBuilder;\r\nimport org.apache.ibatis.mapping.BoundSql;\r\nimport org.apache.ibatis.mapping.MappedStatement;\r\nimport org.apache.ibatis.mapping.ParameterMapping;\r\nimport org.apache.ibatis.session.Configuration;\r\nimport org.junit.jupiter.api.Assertions;\r\nimport org.junit.jupiter.api.Test;\r\n\r\nimport java.io.InputStream;\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\n\r\n/**\r\n * @see org.apache.ibatis.builder.xml.XMLConfigBuilder\r\n */\r\n@Slf4j\r\npublic class MyBatisGenSqlTest {\r\n\r\n    @SneakyThrows\r\n    @Test\r\n    public void test() {\r\n\r\n        String resource = &quot;MyBatisGenSql.mapper.xml&quot;;\r\n        InputStream inputStream = MyBatisGenSqlTest.class.getResourceAsStream(resource);\r\n        Configuration configuration = new Configuration();\r\n\r\n        XMLMapperBuilder mapperParser = new XMLMapperBuilder(inputStream, configuration, resource, configuration.getSqlFragments());\r\n        mapperParser.parse();\r\n\r\n        MappedStatement ms = configuration.getMappedStatement(&quot;xxxNamespace.select01&quot;);\r\n        Map&lt;String, Object&gt; parameters = new HashMap&lt;&gt;();\r\n        parameters.put(&quot;table&quot;, &quot;table001&quot;);\r\n        parameters.put(&quot;id&quot;, 1L);\r\n        parameters.put(&quot;name&quot;, &quot;zhang3&quot;);\r\n        BoundSql boundSql = ms.getBoundSql(parameters);\r\n\r\n        String sql = toSqlWithParam(boundSql);\r\n        sql = collapseWhiteSpace(sql);\r\n\r\n        String expectedSql = &quot;select id from table001 WHERE id = 1 AND ( name = &#39;zhang3&#39; or nick = &#39;zhang3&#39; ) order by id desc&quot;;\r\n        Assertions.assertEquals(expectedSql, sql);\r\n    }\r\n\r\n    protected String toSqlWithParam(BoundSql boundSql) {\r\n        String sql = boundSql.getSql();\r\n        List&lt;ParameterMapping&gt; boundParams = boundSql.getParameterMappings();\r\n        Object parameterObj = boundSql.getParameterObject();\r\n        Assertions.assertTrue(parameterObj instanceof Map, &quot;parameterObj only support Map right now.&quot;);\r\n        Map parameterMap = (Map) parameterObj;\r\n        // FIXME &#39;?&#39; in sql comment\r\n        String[] arr = sql.split(&quot;\\\\?&quot;);\r\n        Assertions.assertEquals(arr.length - 1, boundParams.size(), &quot;has `?` in sql comment?&quot;);\r\n        StringBuilder buf = new StringBuilder();\r\n\r\n        for (int i = 0; i &lt; arr.length; i++) {\r\n            buf.append(arr[i]);\r\n            if (i &lt; boundParams.size()) {\r\n                Object param = parameterMap.get(boundParams.get(i).getProperty());\r\n                String paramStr = toParameterString(param);\r\n                buf.append(paramStr);\r\n            }\r\n        }\r\n        return buf.toString();\r\n    }\r\n\r\n    protected String toParameterString(Object param) {\r\n\r\n        if (param == null) {\r\n            return &quot;null&quot;;\r\n        }\r\n        if (param instanceof Number || param instanceof Boolean) {\r\n            return param.toString();\r\n        }\r\n        if (param instanceof CharSequence) {\r\n            return &quot;&#39;&quot; + param + &quot;&#39;&quot;;\r\n        }\r\n        if (param instanceof java.sql.Date) {\r\n            SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n            String str = sdf.format((java.sql.Date) param);\r\n            return &quot;&#39;&quot; + str + &quot;&#39;&quot;;\r\n        }\r\n        if (param instanceof java.sql.Time) {\r\n            SimpleDateFormat sdf = new SimpleDateFormat(&quot;HH:mm:ss&quot;);\r\n            String str = sdf.format((java.sql.Time) param);\r\n            return &quot;&#39;&quot; + str + &quot;&#39;&quot;;\r\n        }\r\n        if (param instanceof java.util.Date) {\r\n            SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n            String str = sdf.format((java.util.Date) param);\r\n            return &quot;&#39;&quot; + str + &quot;&#39;&quot;;\r\n        }\r\n        throw new IllegalArgumentException(&quot;TODO: parameter whit type `&quot; + param.getClass().getName() + &quot;` is not implemented yet.&quot;);\r\n    }\r\n\r\n    /**\r\n     * @see &lt;a href=&quot;http://www.java2s.com/example/java-utility-method/string-whitespace-collapse-index-0.html&quot;&gt;Java Utililty Methods String Whitespace Collapse&lt;/a&gt;\r\n     */\r\n    public String collapseWhiteSpace(String content) {\r\n        return content.replaceAll(&quot;\\\\s+&quot;, &quot; &quot;);\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n","title":"Can I use MyBatis to generate Dynamic SQL without executing it?","body":"<p>In my case, I need to generate dynamic sql , then submit it to aliyun <a href=\"https://help.aliyun.com/document_detail/34614.html\" rel=\"nofollow noreferrer\">MaxCompute</a> which is a sevice for big data and can not work with mybatis.</p>\n<p>Here is my worked junit5 test case without binding a datasource (only 2 files).</p>\n<p>Notice: after get a <code>org.apache.ibatis.mapping.BoundSql</code>, I had to write a custom method <code>toSqlWithParam</code> to geneate full sql.</p>\n<p><code>MyBatisGenSql.mapper.xml</code></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\n&lt;!DOCTYPE mapper PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot; &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot; &gt;\n&lt;mapper namespace=&quot;xxxNamespace&quot; &gt;\n    &lt;sql id=&quot;Base_Column_List&quot; &gt;\n        id\n    &lt;/sql&gt;\n    &lt;select id=&quot;select01&quot;&gt;\n        select &lt;include refid=&quot;Base_Column_List&quot; /&gt;\n        from ${table}\n        &lt;where&gt;\n            &lt;if test=&quot;id != null&quot;&gt;\n                AND id = #{id}\n            &lt;/if&gt;\n            &lt;if test=&quot;name != null&quot;&gt;\n                AND ( name = #{name}  or nick = #{name} )\n            &lt;/if&gt;\n        &lt;/where&gt;\n        order by id desc\n    &lt;/select&gt;\n&lt;/mapper&gt;\n</code></pre>\n<p><code>MyBatisGenSqlTest.java</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>import lombok.SneakyThrows;\nimport lombok.extern.slf4j.Slf4j;\nimport org.apache.ibatis.builder.xml.XMLMapperBuilder;\nimport org.apache.ibatis.mapping.BoundSql;\nimport org.apache.ibatis.mapping.MappedStatement;\nimport org.apache.ibatis.mapping.ParameterMapping;\nimport org.apache.ibatis.session.Configuration;\nimport org.junit.jupiter.api.Assertions;\nimport org.junit.jupiter.api.Test;\n\nimport java.io.InputStream;\nimport java.text.SimpleDateFormat;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\n\n/**\n * @see org.apache.ibatis.builder.xml.XMLConfigBuilder\n */\n@Slf4j\npublic class MyBatisGenSqlTest {\n\n    @SneakyThrows\n    @Test\n    public void test() {\n\n        String resource = &quot;MyBatisGenSql.mapper.xml&quot;;\n        InputStream inputStream = MyBatisGenSqlTest.class.getResourceAsStream(resource);\n        Configuration configuration = new Configuration();\n\n        XMLMapperBuilder mapperParser = new XMLMapperBuilder(inputStream, configuration, resource, configuration.getSqlFragments());\n        mapperParser.parse();\n\n        MappedStatement ms = configuration.getMappedStatement(&quot;xxxNamespace.select01&quot;);\n        Map&lt;String, Object&gt; parameters = new HashMap&lt;&gt;();\n        parameters.put(&quot;table&quot;, &quot;table001&quot;);\n        parameters.put(&quot;id&quot;, 1L);\n        parameters.put(&quot;name&quot;, &quot;zhang3&quot;);\n        BoundSql boundSql = ms.getBoundSql(parameters);\n\n        String sql = toSqlWithParam(boundSql);\n        sql = collapseWhiteSpace(sql);\n\n        String expectedSql = &quot;select id from table001 WHERE id = 1 AND ( name = 'zhang3' or nick = 'zhang3' ) order by id desc&quot;;\n        Assertions.assertEquals(expectedSql, sql);\n    }\n\n    protected String toSqlWithParam(BoundSql boundSql) {\n        String sql = boundSql.getSql();\n        List&lt;ParameterMapping&gt; boundParams = boundSql.getParameterMappings();\n        Object parameterObj = boundSql.getParameterObject();\n        Assertions.assertTrue(parameterObj instanceof Map, &quot;parameterObj only support Map right now.&quot;);\n        Map parameterMap = (Map) parameterObj;\n        // FIXME '?' in sql comment\n        String[] arr = sql.split(&quot;\\\\?&quot;);\n        Assertions.assertEquals(arr.length - 1, boundParams.size(), &quot;has `?` in sql comment?&quot;);\n        StringBuilder buf = new StringBuilder();\n\n        for (int i = 0; i &lt; arr.length; i++) {\n            buf.append(arr[i]);\n            if (i &lt; boundParams.size()) {\n                Object param = parameterMap.get(boundParams.get(i).getProperty());\n                String paramStr = toParameterString(param);\n                buf.append(paramStr);\n            }\n        }\n        return buf.toString();\n    }\n\n    protected String toParameterString(Object param) {\n\n        if (param == null) {\n            return &quot;null&quot;;\n        }\n        if (param instanceof Number || param instanceof Boolean) {\n            return param.toString();\n        }\n        if (param instanceof CharSequence) {\n            return &quot;'&quot; + param + &quot;'&quot;;\n        }\n        if (param instanceof java.sql.Date) {\n            SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\n            String str = sdf.format((java.sql.Date) param);\n            return &quot;'&quot; + str + &quot;'&quot;;\n        }\n        if (param instanceof java.sql.Time) {\n            SimpleDateFormat sdf = new SimpleDateFormat(&quot;HH:mm:ss&quot;);\n            String str = sdf.format((java.sql.Time) param);\n            return &quot;'&quot; + str + &quot;'&quot;;\n        }\n        if (param instanceof java.util.Date) {\n            SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\n            String str = sdf.format((java.util.Date) param);\n            return &quot;'&quot; + str + &quot;'&quot;;\n        }\n        throw new IllegalArgumentException(&quot;TODO: parameter whit type `&quot; + param.getClass().getName() + &quot;` is not implemented yet.&quot;);\n    }\n\n    /**\n     * @see &lt;a href=&quot;http://www.java2s.com/example/java-utility-method/string-whitespace-collapse-index-0.html&quot;&gt;Java Utililty Methods String Whitespace Collapse&lt;/a&gt;\n     */\n    public String collapseWhiteSpace(String content) {\n        return content.replaceAll(&quot;\\\\s+&quot;, &quot; &quot;);\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":283806,"reputation":4839,"user_id":581528,"accept_rate":84,"display_name":"Ray"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18676,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":13221300,"answer_count":6,"score":17,"last_activity_date":1680017415,"creation_date":1351858869,"question_id":13195144,"body_markdown":"I have some complex queries to build with a number of optional filters, for which MyBatis seems like an ideal candidate for generating dynamic SQL.\r\n\r\nHowever, I still want my query to execute in the same framework as the rest of the application (which is not using MyBatis).\r\n\r\nSo what I was hoping to do was use MyBatis strictly for generating the SQL, but from there using the rest of my app to actually execute it. Is this possible? If so, how?","title":"Can I use MyBatis to generate Dynamic SQL without executing it?","body":"<p>I have some complex queries to build with a number of optional filters, for which MyBatis seems like an ideal candidate for generating dynamic SQL.</p>\n\n<p>However, I still want my query to execute in the same framework as the rest of the application (which is not using MyBatis).</p>\n\n<p>So what I was hoping to do was use MyBatis strictly for generating the SQL, but from there using the rest of my app to actually execute it. Is this possible? If so, how?</p>\n"},{"tags":["java","string","substring","indexoutofboundsexception","string-length"],"answers":[{"tags":[],"owner":{"account_id":34468,"reputation":4189,"user_id":97464,"accept_rate":70,"display_name":"Jase Whatson"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1518121264,"creation_date":1244156134,"answer_id":953535,"question_id":953527,"body_markdown":"You really need to check if the string&#39;s length is greater to or equal to 38.\r\n","title":"Java substring: &#39;String index out of range&#39;","body":"<p>You really need to check if the string's length is greater to or equal to 38.</p>\n"},{"tags":[],"owner":{"account_id":2466,"reputation":34852,"user_id":3434,"accept_rate":90,"display_name":"Apocalisp"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1244156201,"creation_date":1244156201,"answer_id":953537,"question_id":953527,"body_markdown":"`substring(0,38)` means the String has to be 38 characters or longer. If not, the &quot;String index is out of range&quot;.","title":"Java substring: &#39;String index out of range&#39;","body":"<p><code>substring(0,38)</code> means the String has to be 38 characters or longer. If not, the \"String index is out of range\".</p>\n"},{"tags":[],"owner":{"account_id":28753,"reputation":7333,"user_id":77097,"accept_rate":70,"display_name":"pugmarx"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1346280199,"creation_date":1244156284,"answer_id":953542,"question_id":953527,"body_markdown":"&lt;code&gt;itemdescription&lt;/code&gt; is shorter than 38 chars. Which is why the `StringOutOfBoundsException` is being thrown.\r\n\r\nChecking `.length() &gt; 0` simply makes sure the `String` has some not-null value, what you need to do is check that the length is long enough. You could try:\r\n\r\n    if(itemdescription.length() &gt; 38)\r\n      ...","title":"Java substring: &#39;String index out of range&#39;","body":"<p><code>itemdescription</code> is shorter than 38 chars. Which is why the <code>StringOutOfBoundsException</code> is being thrown.</p>\n\n<p>Checking <code>.length() &gt; 0</code> simply makes sure the <code>String</code> has some not-null value, what you need to do is check that the length is long enough. You could try:</p>\n\n<pre><code>if(itemdescription.length() &gt; 38)\n  ...\n</code></pre>\n"},{"comments":[{"owner":{"account_id":28753,"reputation":7333,"user_id":77097,"accept_rate":70,"display_name":"pugmarx"},"score":2,"creation_date":1244156724,"post_id":953543,"comment_id":761891,"body_markdown":"I&#39;d be really interested in knowing what itemdescription.substring(0, itemdescription.length()) would return :)","body":"I&#39;d be really interested in knowing what itemdescription.substring(0, itemdescription.length()) would return :)"},{"owner":{"account_id":30236,"reputation":1629,"user_id":82314,"display_name":"tom"},"score":0,"creation_date":1244157513,"post_id":953543,"comment_id":761923,"body_markdown":"var itemdescription = new String(&quot;Hello, World!&quot;);\nalert( itemdescription.substring(0, itemdescription.length) );\n\nreturns &quot;Hello, World!&quot;.","body":"var itemdescription = new String(&quot;Hello, World!&quot;); alert( itemdescription.substring(0, itemdescription.length) );  returns &quot;Hello, World!&quot;."},{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":0,"creation_date":1244157747,"post_id":953543,"comment_id":761934,"body_markdown":"He probably wanted to do *something* with it.","body":"He probably wanted to do <i>something</i> with it."},{"owner":{"account_id":9608,"reputation":17506,"user_id":17832,"display_name":"JeeBee"},"score":0,"creation_date":1244157790,"post_id":953543,"comment_id":761937,"body_markdown":"hmm, yes, should have had an upper bound there. that&#39;s midnight posting for you...","body":"hmm, yes, should have had an upper bound there. that&#39;s midnight posting for you..."}],"tags":[],"owner":{"account_id":9608,"reputation":17506,"user_id":17832,"display_name":"JeeBee"},"comment_count":4,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1244157688,"creation_date":1244156305,"answer_id":953543,"question_id":953527,"body_markdown":"    if (itemdescription != null &amp;&amp; itemdescription.length() &gt; 0) {\r\n        pstmt2.setString(3, itemdescription.substring(0, Math.min(itemdescription.length(), 38))); \r\n    } else { \r\n        pstmt2.setString(3, &quot;_&quot;); \r\n    }\r\n","title":"Java substring: &#39;String index out of range&#39;","body":"<pre><code>if (itemdescription != null &amp;&amp; itemdescription.length() &gt; 0) {\n    pstmt2.setString(3, itemdescription.substring(0, Math.min(itemdescription.length(), 38))); \n} else { \n    pstmt2.setString(3, \"_\"); \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6664,"reputation":85927,"user_id":11296,"display_name":"Bert F"},"comment_count":0,"down_vote_count":0,"up_vote_count":38,"is_accepted":true,"score":38,"last_activity_date":1244201975,"creation_date":1244157421,"answer_id":953592,"question_id":953527,"body_markdown":"&gt; I&quot;m guessing i&#39;m getting this error\r\n&gt; because the string is trying to\r\n&gt; substring a Null value. But wouldn&#39;t\r\n&gt; the &quot;.length() &gt; 0&quot; part eliminate\r\n&gt; that issue?\r\n\r\nNo, calling itemdescription.length() when itemdescription is null would not generate a StringIndexOutOfBoundsException, but rather a NullPointerException since you would essentially be trying to call a method on **null**.\r\n\r\nAs others have indicated, StringIndexOutOfBoundsException indicates that itemdescription is not at least 38 characters long.  You probably want to handle both conditions (I assuming you want to truncate):\r\n\r\n    final String value;\r\n    if (itemdescription == null || itemdescription.length() &lt;= 0) {\r\n        value = &quot;_&quot;;\r\n    } else if (itemdescription.length() &lt;= 38) {\r\n        value = itemdescription;\r\n    } else { \r\n        value = itemdescription.substring(0, 38);\r\n    }\r\n    pstmt2.setString(3, value);\r\n\r\nMight be a good place for a utility function if you do that a lot...\r\n","title":"Java substring: &#39;String index out of range&#39;","body":"<blockquote>\n  <p>I\"m guessing i'm getting this error\n  because the string is trying to\n  substring a Null value. But wouldn't\n  the \".length() > 0\" part eliminate\n  that issue?</p>\n</blockquote>\n\n<p>No, calling itemdescription.length() when itemdescription is null would not generate a StringIndexOutOfBoundsException, but rather a NullPointerException since you would essentially be trying to call a method on <strong>null</strong>.</p>\n\n<p>As others have indicated, StringIndexOutOfBoundsException indicates that itemdescription is not at least 38 characters long.  You probably want to handle both conditions (I assuming you want to truncate):</p>\n\n<pre><code>final String value;\nif (itemdescription == null || itemdescription.length() &lt;= 0) {\n    value = \"_\";\n} else if (itemdescription.length() &lt;= 38) {\n    value = itemdescription;\n} else { \n    value = itemdescription.substring(0, 38);\n}\npstmt2.setString(3, value);\n</code></pre>\n\n<p>Might be a good place for a utility function if you do that a lot...</p>\n"},{"tags":[],"owner":{"account_id":4370,"reputation":7604,"user_id":6527,"accept_rate":67,"display_name":"Chris Gow"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1337241382,"creation_date":1244158649,"answer_id":953637,"question_id":953527,"body_markdown":"I&#39;m assuming your column is 38 characters in length, so you want to **truncate** `itemdescription` to fit within the database. A utility function like the following should do what you want:\r\n\r\n    /**\r\n     * Truncates s to fit within len. If s is null, null is returned.\r\n     **/\r\n    public String truncate(String s, int len) { \r\n      if (s == null) return null;\r\n      return s.substring(0, Math.min(len, s.length()));\r\n    }\r\n\r\nthen you just call it like so:\r\n\r\n    String value = &quot;_&quot;;\r\n    if (itemdescription != null &amp;&amp; itemdescription.length() &gt; 0) {\r\n      value = truncate(itemdescription, 38);\r\n    }\r\n\r\n    pstmt2.setString(3, value);","title":"Java substring: &#39;String index out of range&#39;","body":"<p>I'm assuming your column is 38 characters in length, so you want to <strong>truncate</strong> <code>itemdescription</code> to fit within the database. A utility function like the following should do what you want:</p>\n\n<pre><code>/**\n * Truncates s to fit within len. If s is null, null is returned.\n **/\npublic String truncate(String s, int len) { \n  if (s == null) return null;\n  return s.substring(0, Math.min(len, s.length()));\n}\n</code></pre>\n\n<p>then you just call it like so:</p>\n\n<pre><code>String value = \"_\";\nif (itemdescription != null &amp;&amp; itemdescription.length() &gt; 0) {\n  value = truncate(itemdescription, 38);\n}\n\npstmt2.setString(3, value);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":30651,"reputation":3007,"user_id":83674,"display_name":"HMM"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1244202373,"creation_date":1244202373,"answer_id":955480,"question_id":953527,"body_markdown":"I would recommend [apache commons lang][1]. A one-liner takes care of the problem.\r\n\r\n    pstmt2.setString(3, StringUtils.defaultIfEmpty(\r\n        StringUtils.subString(itemdescription,0, 38), &quot;_&quot;)); \r\n\r\n\r\n  [1]: http://commons.apache.org/lang/","title":"Java substring: &#39;String index out of range&#39;","body":"<p>I would recommend <a href=\"http://commons.apache.org/lang/\" rel=\"noreferrer\">apache commons lang</a>. A one-liner takes care of the problem.</p>\n\n<pre><code>pstmt2.setString(3, StringUtils.defaultIfEmpty(\n    StringUtils.subString(itemdescription,0, 38), \"_\")); \n</code></pre>\n"},{"comments":[{"owner":{"account_id":156734,"reputation":26707,"user_id":374198,"accept_rate":62,"display_name":"Josh M."},"score":10,"creation_date":1541084225,"post_id":22351323,"comment_id":93102898,"body_markdown":"Yes, this is so ridiculous.","body":"Yes, this is so ridiculous."}],"tags":[],"owner":{"account_id":559587,"reputation":11480,"user_id":1245622,"accept_rate":76,"display_name":"linqu"},"comment_count":1,"down_vote_count":0,"up_vote_count":71,"is_accepted":false,"score":71,"last_activity_date":1528879254,"creation_date":1394626733,"answer_id":22351323,"question_id":953527,"body_markdown":"It is a pity that `substring` is not implemented in a way that handles short strings &#160;like in other languages e.g. Python.\r\n\r\nOk, we cannot change that and have to consider this edge case every time we use &lt;code&gt;substr&lt;/code&gt;, instead of if-else clauses I would go for this shorter variant:\r\n\r\n    myText.substring(0, Math.min(6, myText.length()))\r\n","title":"Java substring: &#39;String index out of range&#39;","body":"<p>It is a pity that <code>substring</code> is not implemented in a way that handles short strings like in other languages e.g. Python.</p>\n\n<p>Ok, we cannot change that and have to consider this edge case every time we use <code>substr</code>, instead of if-else clauses I would go for this shorter variant:</p>\n\n<pre><code>myText.substring(0, Math.min(6, myText.length()))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13259,"reputation":67764,"user_id":26510,"accept_rate":99,"display_name":"Brad Parks"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1544798167,"creation_date":1471461278,"answer_id":39004555,"question_id":953527,"body_markdown":"Java&#39;s `substring` method fails when you try and get a substring starting at an index which is longer than the string.\r\n\r\nAn easy alternative is to use [Apache Commons `StringUtils.substring`](https://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/StringUtils.html#substring(java.lang.String,%20int)):\r\n\r\n\r\n    public static String substring(String str, int start)\r\n\r\n    Gets a substring from the specified String avoiding exceptions.\r\n    \r\n    A negative start position can be used to start n characters from the end of the String.\r\n    \r\n    A null String will return null. An empty (&quot;&quot;) String will return &quot;&quot;.\r\n    \r\n     StringUtils.substring(null, *)   = null\r\n     StringUtils.substring(&quot;&quot;, *)     = &quot;&quot;\r\n     StringUtils.substring(&quot;abc&quot;, 0)  = &quot;abc&quot;\r\n     StringUtils.substring(&quot;abc&quot;, 2)  = &quot;c&quot;\r\n     StringUtils.substring(&quot;abc&quot;, 4)  = &quot;&quot;\r\n     StringUtils.substring(&quot;abc&quot;, -2) = &quot;bc&quot;\r\n     StringUtils.substring(&quot;abc&quot;, -4) = &quot;abc&quot;\r\n     \r\n    Parameters:\r\n    str - the String to get the substring from, may be null\r\n    start - the position to start from, negative means count back from the end of the String by this many characters\r\n\r\n    Returns:\r\n    substring from start position, null if null String input\r\n\r\nNote, if you can&#39;t use Apache Commons lib for some reason, you could just [grab the parts you need from the source](http://commons.apache.org/proper/commons-lang/apidocs/src-html/org/apache/commons/lang3/StringUtils.html)\r\n\r\n    // Substring\r\n    //-----------------------------------------------------------------------\r\n    /**\r\n     * &lt;p&gt;Gets a substring from the specified String avoiding exceptions.&lt;/p&gt;\r\n     *\r\n     * &lt;p&gt;A negative start position can be used to start {@code n}\r\n     * characters from the end of the String.&lt;/p&gt;\r\n     *\r\n     * &lt;p&gt;A {@code null} String will return {@code null}.\r\n     * An empty (&quot;&quot;) String will return &quot;&quot;.&lt;/p&gt;\r\n     *\r\n     * &lt;pre&gt;\r\n     * StringUtils.substring(null, *)   = null\r\n     * StringUtils.substring(&quot;&quot;, *)     = &quot;&quot;\r\n     * StringUtils.substring(&quot;abc&quot;, 0)  = &quot;abc&quot;\r\n     * StringUtils.substring(&quot;abc&quot;, 2)  = &quot;c&quot;\r\n     * StringUtils.substring(&quot;abc&quot;, 4)  = &quot;&quot;\r\n     * StringUtils.substring(&quot;abc&quot;, -2) = &quot;bc&quot;\r\n     * StringUtils.substring(&quot;abc&quot;, -4) = &quot;abc&quot;\r\n     * &lt;/pre&gt;\r\n     *\r\n     * @param str  the String to get the substring from, may be null\r\n     * @param start  the position to start from, negative means\r\n     *  count back from the end of the String by this many characters\r\n     * @return substring from start position, {@code null} if null String input\r\n     */\r\n    public static String substring(final String str, int start) {\r\n        if (str == null) {\r\n            return null;\r\n        }\r\n    \r\n        // handle negatives, which means last n characters\r\n        if (start &lt; 0) {\r\n            start = str.length() + start; // remember start is negative\r\n        }\r\n    \r\n        if (start &lt; 0) {\r\n            start = 0;\r\n        }\r\n        if (start &gt; str.length()) {\r\n            return EMPTY;\r\n        }\r\n    \r\n        return str.substring(start);\r\n    }\r\n\r\n","title":"Java substring: &#39;String index out of range&#39;","body":"<p>Java's <code>substring</code> method fails when you try and get a substring starting at an index which is longer than the string.</p>\n\n<p>An easy alternative is to use <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/StringUtils.html#substring(java.lang.String,%20int)\" rel=\"noreferrer\">Apache Commons <code>StringUtils.substring</code></a>:</p>\n\n<pre><code>public static String substring(String str, int start)\n\nGets a substring from the specified String avoiding exceptions.\n\nA negative start position can be used to start n characters from the end of the String.\n\nA null String will return null. An empty (\"\") String will return \"\".\n\n StringUtils.substring(null, *)   = null\n StringUtils.substring(\"\", *)     = \"\"\n StringUtils.substring(\"abc\", 0)  = \"abc\"\n StringUtils.substring(\"abc\", 2)  = \"c\"\n StringUtils.substring(\"abc\", 4)  = \"\"\n StringUtils.substring(\"abc\", -2) = \"bc\"\n StringUtils.substring(\"abc\", -4) = \"abc\"\n\nParameters:\nstr - the String to get the substring from, may be null\nstart - the position to start from, negative means count back from the end of the String by this many characters\n\nReturns:\nsubstring from start position, null if null String input\n</code></pre>\n\n<p>Note, if you can't use Apache Commons lib for some reason, you could just <a href=\"http://commons.apache.org/proper/commons-lang/apidocs/src-html/org/apache/commons/lang3/StringUtils.html\" rel=\"noreferrer\">grab the parts you need from the source</a></p>\n\n<pre><code>// Substring\n//-----------------------------------------------------------------------\n/**\n * &lt;p&gt;Gets a substring from the specified String avoiding exceptions.&lt;/p&gt;\n *\n * &lt;p&gt;A negative start position can be used to start {@code n}\n * characters from the end of the String.&lt;/p&gt;\n *\n * &lt;p&gt;A {@code null} String will return {@code null}.\n * An empty (\"\") String will return \"\".&lt;/p&gt;\n *\n * &lt;pre&gt;\n * StringUtils.substring(null, *)   = null\n * StringUtils.substring(\"\", *)     = \"\"\n * StringUtils.substring(\"abc\", 0)  = \"abc\"\n * StringUtils.substring(\"abc\", 2)  = \"c\"\n * StringUtils.substring(\"abc\", 4)  = \"\"\n * StringUtils.substring(\"abc\", -2) = \"bc\"\n * StringUtils.substring(\"abc\", -4) = \"abc\"\n * &lt;/pre&gt;\n *\n * @param str  the String to get the substring from, may be null\n * @param start  the position to start from, negative means\n *  count back from the end of the String by this many characters\n * @return substring from start position, {@code null} if null String input\n */\npublic static String substring(final String str, int start) {\n    if (str == null) {\n        return null;\n    }\n\n    // handle negatives, which means last n characters\n    if (start &lt; 0) {\n        start = str.length() + start; // remember start is negative\n    }\n\n    if (start &lt; 0) {\n        start = 0;\n    }\n    if (start &gt; str.length()) {\n        return EMPTY;\n    }\n\n    return str.substring(start);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8593046,"reputation":1177,"user_id":6447563,"accept_rate":96,"display_name":"sixtytrees"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1471461603,"creation_date":1471461603,"answer_id":39004645,"question_id":953527,"body_markdown":"You must check the String length. You assume that you can do `substring(0,38)` as long as String is not `null`, but you actually need the String to be of at least 38 characters length.","title":"Java substring: &#39;String index out of range&#39;","body":"<p>You must check the String length. You assume that you can do <code>substring(0,38)</code> as long as String is not <code>null</code>, but you actually need the String to be of at least 38 characters length.</p>\n"},{"tags":[],"owner":{"account_id":9583801,"reputation":1,"user_id":7117373,"display_name":"G. Mas"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1528881540,"creation_date":1528881540,"answer_id":50833519,"question_id":953527,"body_markdown":"You get this if itemdescription is shorter than 38 characters\r\n\r\nYou can look which exceptions are thrown and when in the JAVA API\r\nin you case for String#substring(int,int): https://docs.oracle.com/javase/9/docs/api/java/lang/String.html#substring-int-int-\r\n\r\n\r\n\r\n&lt;pre&gt;&lt;b&gt;substring&lt;/b&gt;\r\n&lt;i&gt;public String substring(int beginIndex, int endIndex)&lt;/i&gt;\r\n   . . .\r\n\r\n&lt;b&gt;Throws:&lt;/b&gt;\r\n &lt;i&gt;IndexOutOfBoundsException&lt;/i&gt;\r\n if the beginIndex is negative,\r\n or &lt;i&gt;endIndex is larger than the length of this String object&lt;/i&gt;, \r\n or beginIndex is larger than endIndex.\r\n\r\n\r\n\r\n(same applies to previous java versions as well)\r\n&lt;/pre&gt;","title":"Java substring: &#39;String index out of range&#39;","body":"<p>You get this if itemdescription is shorter than 38 characters</p>\n\n<p>You can look which exceptions are thrown and when in the JAVA API\nin you case for String#substring(int,int): <a href=\"https://docs.oracle.com/javase/9/docs/api/java/lang/String.html#substring-int-int-\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/9/docs/api/java/lang/String.html#substring-int-int-</a></p>\n\n<pre><b>substring</b>\n<i>public String substring(int beginIndex, int endIndex)</i>\n   . . .\n\n<b>Throws:</b>\n <i>IndexOutOfBoundsException</i>\n if the beginIndex is negative,\n or <i>endIndex is larger than the length of this String object</i>, \n or beginIndex is larger than endIndex.\n\n\n\n(same applies to previous java versions as well)\n</pre>\n"},{"comments":[{"owner":{"account_id":7635183,"reputation":1513,"user_id":5788941,"display_name":"Alexandre Cartapanis"},"score":1,"creation_date":1556230051,"post_id":55857850,"comment_id":98377721,"body_markdown":"Comparing strings with `==` will not work in most of case. Pattern matching is quite different from string comparison, and in this case it is a bad idea, notably (but not only) for performance reason.","body":"Comparing strings with <code>==</code> will not work in most of case. Pattern matching is quite different from string comparison, and in this case it is a bad idea, notably (but not only) for performance reason."},{"owner":{"account_id":11644561,"reputation":3,"user_id":8527891,"display_name":"F. Emond"},"score":0,"creation_date":1556286239,"post_id":55857850,"comment_id":98397886,"body_markdown":"You&#39;re right Alexandre; changed for equals. I find Regex very handy and easy to use, but it&#39;s right also that it is less performant.","body":"You&#39;re right Alexandre; changed for equals. I find Regex very handy and easy to use, but it&#39;s right also that it is less performant."}],"tags":[],"owner":{"account_id":11644561,"reputation":3,"user_id":8527891,"display_name":"F. Emond"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1556286091,"creation_date":1556227535,"answer_id":55857850,"question_id":953527,"body_markdown":"When this is appropriate, I use **matches** instead of **substring**.\r\n\r\nWith **substring**:\r\n    \r\n    if( myString.substring(1,17).equals(&quot;Someting I expect&quot;) ) {\r\n      \t// Do stuff\r\n    }\r\n    // Does NOT work if myString is too short\r\n\r\nWith **matches** (must use Regex notation):\r\n    \r\n    if( myString.matches(&quot;Someting I expect.*&quot;) ) {\r\n     \t// Do stuff\r\n    }\r\n    // This works with all strings","title":"Java substring: &#39;String index out of range&#39;","body":"<p>When this is appropriate, I use <strong>matches</strong> instead of <strong>substring</strong>.</p>\n\n<p>With <strong>substring</strong>:</p>\n\n<pre><code>if( myString.substring(1,17).equals(\"Someting I expect\") ) {\n    // Do stuff\n}\n// Does NOT work if myString is too short\n</code></pre>\n\n<p>With <strong>matches</strong> (must use Regex notation):</p>\n\n<pre><code>if( myString.matches(\"Someting I expect.*\") ) {\n    // Do stuff\n}\n// This works with all strings\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9136294,"reputation":186,"user_id":6795887,"accept_rate":0,"display_name":"Neo Sono"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1602405474,"creation_date":1602405474,"answer_id":64302087,"question_id":953527,"body_markdown":"Should anyone face the same problem.\r\n\r\nDo this: \r\n             str.substring (...(trim()) ;\r\n\r\nHope it helps somebodies &#128526;","title":"Java substring: &#39;String index out of range&#39;","body":"<p>Should anyone face the same problem.</p>\n<p>Do this:\nstr.substring (...(trim()) ;</p>\n<p>Hope it helps somebodies </p>\n"}],"owner":{"account_id":10070,"reputation":13524,"user_id":18853,"accept_rate":66,"display_name":"phill"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":361002,"favorite_count":0,"down_vote_count":0,"up_vote_count":33,"accepted_answer_id":953592,"answer_count":13,"score":33,"last_activity_date":1680017311,"creation_date":1244155998,"question_id":953527,"body_markdown":"I guess I&#39;m getting this error because the string is trying to substring a `null` value. But wouldn&#39;t the `&quot;.length() &gt; 0&quot;` part eliminate that issue?\r\n\r\nHere is the Java snippet:\r\n\r\n    if (itemdescription.length() &gt; 0) {\r\n        pstmt2.setString(3, itemdescription.substring(0,38));\r\n    } else { \r\n        pstmt2.setString(3, &quot;_&quot;);\r\n    } \r\n\r\nI got this error: \r\n\r\n     java.lang.StringIndexOutOfBoundsException: String index out of range: 38\r\n    \tat java.lang.String.substring(Unknown Source)\r\n    \tat MASInsert2.itemimport(MASInsert2.java:192)\r\n    \tat MASInsert2.processRequest(MASInsert2.java:125)\r\n    \tat MASInsert2.doGet(MASInsert2.java:219)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:627)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:729)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:269)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:213)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:172)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:117)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:108)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:174)\r\n    \tat org.apache.coyote.http11.Http11AprProcessor.process(Http11AprProcessor.java:835)\r\n    \tat org.apache.coyote.http11.Http11AprProtocol$Http11ConnectionHandler.process(Http11AprProtocol.java:640)\r\n    \tat org.apache.tomcat.util.net.AprEndpoint$Worker.run(AprEndpoint.java:1286)\r\n    \tat java.lang.Thread.run(Unknown Source)\r\n","title":"Java substring: &#39;String index out of range&#39;","body":"<p>I guess I'm getting this error because the string is trying to substring a <code>null</code> value. But wouldn't the <code>&quot;.length() &gt; 0&quot;</code> part eliminate that issue?</p>\n<p>Here is the Java snippet:</p>\n<pre><code>if (itemdescription.length() &gt; 0) {\n    pstmt2.setString(3, itemdescription.substring(0,38));\n} else { \n    pstmt2.setString(3, &quot;_&quot;);\n} \n</code></pre>\n<p>I got this error:</p>\n<pre><code> java.lang.StringIndexOutOfBoundsException: String index out of range: 38\n    at java.lang.String.substring(Unknown Source)\n    at MASInsert2.itemimport(MASInsert2.java:192)\n    at MASInsert2.processRequest(MASInsert2.java:125)\n    at MASInsert2.doGet(MASInsert2.java:219)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:627)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:729)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:269)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:213)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:172)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:117)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:108)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:174)\n    at org.apache.coyote.http11.Http11AprProcessor.process(Http11AprProcessor.java:835)\n    at org.apache.coyote.http11.Http11AprProtocol$Http11ConnectionHandler.process(Http11AprProtocol.java:640)\n    at org.apache.tomcat.util.net.AprEndpoint$Worker.run(AprEndpoint.java:1286)\n    at java.lang.Thread.run(Unknown Source)\n</code></pre>\n"},{"tags":["java","performance","video-streaming","exoplayer","exoplayer2.x"],"answers":[{"comments":[{"owner":{"account_id":6320104,"reputation":476,"user_id":4908512,"display_name":"VIVEK CHOUDHARY"},"score":0,"creation_date":1606479127,"post_id":55801756,"comment_id":114979704,"body_markdown":"I have tried these settings. It&#39;s not working for me. Do you have any other alternatives?","body":"I have tried these settings. It&#39;s not working for me. Do you have any other alternatives?"},{"owner":{"account_id":6112533,"reputation":1518,"user_id":4768512,"accept_rate":71,"display_name":"Sp4Rx"},"score":0,"creation_date":1606483926,"post_id":55801756,"comment_id":114981704,"body_markdown":"What&#39;s the issue you are facing? @VIVEKCHOUDHARY","body":"What&#39;s the issue you are facing? @VIVEKCHOUDHARY"},{"owner":{"account_id":6320104,"reputation":476,"user_id":4908512,"display_name":"VIVEK CHOUDHARY"},"score":3,"creation_date":1606494036,"post_id":55801756,"comment_id":114985805,"body_markdown":"I tried these options of loadcontrol as stated above. I am directly playing the video from network. When I load the player, it buffers for at least 3-4 seconds then starts playing the video.","body":"I tried these options of loadcontrol as stated above. I am directly playing the video from network. When I load the player, it buffers for at least 3-4 seconds then starts playing the video."},{"owner":{"account_id":6112533,"reputation":1518,"user_id":4768512,"accept_rate":71,"display_name":"Sp4Rx"},"score":0,"creation_date":1606556064,"post_id":55801756,"comment_id":114998991,"body_markdown":"You tweak these settings more. try this `bufferForPlaybackMs 2500; minBufferMs 15000; maxBufferMs 50000; bufferForPlaybackAfterRebufferMs 5000` . Also check your network speed and the quality of the video. If its a HD video it will take more bandwidth. \n\nCompress the video and reduce the resolution and try. @VIVEKCHOUDHARY","body":"You tweak these settings more. try this <code>bufferForPlaybackMs 2500; minBufferMs 15000; maxBufferMs 50000; bufferForPlaybackAfterRebufferMs 5000</code> . Also check your network speed and the quality of the video. If its a HD video it will take more bandwidth.   Compress the video and reduce the resolution and try. @VIVEKCHOUDHARY"},{"owner":{"account_id":6320104,"reputation":476,"user_id":4908512,"display_name":"VIVEK CHOUDHARY"},"score":0,"creation_date":1606802903,"post_id":55801756,"comment_id":115065063,"body_markdown":"Videos are already compressed. Network speed is good. Still it takes time to load.","body":"Videos are already compressed. Network speed is good. Still it takes time to load."},{"owner":{"account_id":5033614,"reputation":1001,"user_id":4043105,"display_name":"Febin Mathew"},"score":0,"creation_date":1646228201,"post_id":55801756,"comment_id":126070571,"body_markdown":"Delay still exists, And it seems like this code is not changing anything at all.","body":"Delay still exists, And it seems like this code is not changing anything at all."},{"owner":{"account_id":6112533,"reputation":1518,"user_id":4768512,"accept_rate":71,"display_name":"Sp4Rx"},"score":0,"creation_date":1646283021,"post_id":55801756,"comment_id":126086357,"body_markdown":"This is for older version of exoplayer. Not sure with the recent changes. And currently not using exo player  @FebinMathew","body":"This is for older version of exoplayer. Not sure with the recent changes. And currently not using exo player  @FebinMathew"},{"owner":{"account_id":11393428,"reputation":115,"user_id":8352632,"display_name":"karan"},"score":0,"creation_date":1669963501,"post_id":55801756,"comment_id":131766592,"body_markdown":"i try this but doesn&#39;t work","body":"i try this but doesn&#39;t work"},{"owner":{"account_id":6112533,"reputation":1518,"user_id":4768512,"accept_rate":71,"display_name":"Sp4Rx"},"score":0,"creation_date":1669982044,"post_id":55801756,"comment_id":131772091,"body_markdown":"This is for older version of exoplayer.","body":"This is for older version of exoplayer."}],"tags":[],"owner":{"account_id":6112533,"reputation":1518,"user_id":4768512,"accept_rate":71,"display_name":"Sp4Rx"},"comment_count":9,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1555971048,"creation_date":1555971048,"answer_id":55801756,"question_id":55773893,"body_markdown":"Try this settings for your load control:\r\n \r\n\r\n    public class VideoPlayerConfig {\r\n        //Minimum Video you want to buffer while Playing\r\n        public static final int MIN_BUFFER_DURATION = 2000;\r\n        //Max Video you want to buffer during PlayBack\r\n        public static final int MAX_BUFFER_DURATION = 5000;\r\n       //Min Video you want to buffer before start Playing it\r\n        public static final int MIN_PLAYBACK_START_BUFFER = 1500;\r\n        //Min video You want to buffer when user resumes video\r\n        public static final int MIN_PLAYBACK_RESUME_BUFFER = 2000;\r\n    }\r\n\r\n    LoadControl loadControl = new DefaultLoadControl.Builder()\r\n                .setAllocator(new DefaultAllocator(true, 16))\r\n                .setBufferDurationsMs(VideoPlayerConfig.MIN_BUFFER_DURATION,\r\n                        VideoPlayerConfig.MAX_BUFFER_DURATION,\r\n                        VideoPlayerConfig.MIN_PLAYBACK_START_BUFFER,\r\n                        VideoPlayerConfig.MIN_PLAYBACK_RESUME_BUFFER)\r\n                .setTargetBufferBytes(-1)\r\n                .setPrioritizeTimeOverSizeThresholds(true).createDefaultLoadControl();\r\n\r\nThe idea is to keep the minimum buffer low so the video loads faster.\r\n\r\n\r\nOff-topic: And I don&#39;t know why are you using singleton pattern, probably to get control everywhere in the app. As you are using singleton pattern you can go with a weak-reference of application context.","title":"How can I fix ExoPlayer slow loading of video?","body":"<p>Try this settings for your load control:</p>\n\n<pre><code>public class VideoPlayerConfig {\n    //Minimum Video you want to buffer while Playing\n    public static final int MIN_BUFFER_DURATION = 2000;\n    //Max Video you want to buffer during PlayBack\n    public static final int MAX_BUFFER_DURATION = 5000;\n   //Min Video you want to buffer before start Playing it\n    public static final int MIN_PLAYBACK_START_BUFFER = 1500;\n    //Min video You want to buffer when user resumes video\n    public static final int MIN_PLAYBACK_RESUME_BUFFER = 2000;\n}\n\nLoadControl loadControl = new DefaultLoadControl.Builder()\n            .setAllocator(new DefaultAllocator(true, 16))\n            .setBufferDurationsMs(VideoPlayerConfig.MIN_BUFFER_DURATION,\n                    VideoPlayerConfig.MAX_BUFFER_DURATION,\n                    VideoPlayerConfig.MIN_PLAYBACK_START_BUFFER,\n                    VideoPlayerConfig.MIN_PLAYBACK_RESUME_BUFFER)\n            .setTargetBufferBytes(-1)\n            .setPrioritizeTimeOverSizeThresholds(true).createDefaultLoadControl();\n</code></pre>\n\n<p>The idea is to keep the minimum buffer low so the video loads faster.</p>\n\n<p>Off-topic: And I don't know why are you using singleton pattern, probably to get control everywhere in the app. As you are using singleton pattern you can go with a weak-reference of application context.</p>\n"}],"owner":{"account_id":11840407,"reputation":383,"user_id":8664445,"display_name":"Alien Geography"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11682,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":1,"score":14,"last_activity_date":1680017163,"creation_date":1555766250,"question_id":55773893,"body_markdown":"I am trying to write an app where I&#39;ll have a couple of video URLs which I need to play. I am using ExoPlayer for playing videos.\r\n  \r\nExoPlayer is playing the videos but the problem I am facing is, ExoPlayer is loading some part of video (let&#39;s say 5 seconds) and then playing them and once exo player is done playing that part, it is trying to load next part of video and then playing that part of video. This problem is occurring even when the Internet speed is good.\r\n\r\nBelow is my code for ExoPlayer&#39;s singleton class:  \r\n\r\n```java\r\n/**\r\n * Singleton class that manages all video playback in the app. Ensures that only a single stream can be heard at a time\r\n * and reports the current playback status to any interested listeners.\r\n */\r\npublic class VideoWrapper {\r\n    private static String TAG = &quot;VideoWrapper&quot;;\r\n\r\n    private int VideoPlaybackState = VideoPlaybackListener.STATE_VIDEO_STOPPED;\r\n\r\n    // Player that plays the videos.\r\n    private SimpleExoPlayer exoPlayer;\r\n\r\n    // Singleton instance of the class\r\n    private static VideoWrapper videoWrapper;\r\n\r\n    // URL of Current Video Item that is getting played.\r\n    private String mCurrentStreamingUrl;\r\n\r\n    // Handler to take request of video playback in-case there is a playlist is being sent for play.\r\n    private Handler handler;\r\n\r\n    // Add the listener and notify them if required. -- For demo i am not using it but for UI updates and all it will be useful.\r\n    private List&lt;VideoPlaybackListener&gt; listeners = new LinkedList&lt;&gt;();\r\n\r\n    // Tells to which screen we have to go back\r\n    private String mPreviousScreenName;\r\n\r\n    private Context context;\r\n\r\n    public static VideoWrapper getInstance() {\r\n        if (videoWrapper == null) {\r\n            videoWrapper = new VideoWrapper();\r\n        }\r\n\r\n        return videoWrapper;\r\n    }\r\n\r\n\t// Default constrructor!\r\n    private VideoWrapper() {\r\n        // Nothing to do.\r\n    }\r\n\r\n    public void setCurrentPreviousScreen(String screen) {\r\n        mPreviousScreenName = screen;\r\n    }\r\n\r\n    public void init(Context context) {\r\n        try {\r\n            this.context = context;\r\n            handler = new Handler(context.getMainLooper());\r\n        } catch (Exception e) {\r\n\t\t\t// TODO\r\n        }\r\n    }\r\n\r\n    public void stopAndReleasePlayer() {\r\n\r\n        // Stop the player first.\r\n        stopVideoStreaming();\r\n\r\n        // Now release the player and make it null.\r\n        if (exoPlayer != null) {\r\n            exoPlayer.release();\r\n            exoPlayer = null;\r\n        }\r\n    }\r\n\r\n    public void addListener(VideoPlaybackListener listener) {\r\n        listeners.add(listener);\r\n    }\r\n\r\n    public void removeListener(VideoPlaybackListener listener) {\r\n        listeners.remove(listener);\r\n    }\r\n\r\n    public int getVideoPlaybackState() {\r\n        return VideoPlaybackState;\r\n    }\r\n\r\n    private SimpleExoPlayer.VideoListener gVideoEventListener = new SimpleExoPlayer.VideoListener() {\r\n        @Override\r\n        public void onVideoSizeChanged(int width, int height, int unappliedRotationDegrees, float pixelWidthHeightRatio) {\r\n\t\t\t// TODO: Do Something!\r\n        }\r\n\r\n        @Override\r\n        public void onRenderedFirstFrame() {\r\n\t\t\t// TODO: Do Something!\r\n        }\r\n    };\r\n\r\n    private ExoPlayer.EventListener eventListener = new ExoPlayer.EventListener() {\r\n        @Override\r\n        public void onTimelineChanged(Timeline timeline, Object manifest) {\r\n\t\t\t// TODO: Do Something!\r\n        }\r\n\r\n        @Override\r\n        public void onTracksChanged(TrackGroupArray trackGroups, TrackSelectionArray trackSelections) {\r\n\t\t\t// TODO: Do Something!\r\n        }\r\n\r\n        @Override\r\n        public void onLoadingChanged(boolean isLoading) {\r\n\t\t\t// TODO: Do Something!\r\n        }\r\n\r\n        @Override\r\n        public void onPlayerStateChanged(boolean playWhenReady, int playbackState) {\r\n            switch (playbackState) {\r\n                // playback state handling serially\r\n                case ExoPlayer.STATE_IDLE:\r\n\t\t\t\t\t// TODO: Do something!\r\n                    break;\r\n\r\n                case ExoPlayer.STATE_BUFFERING:\r\n\t\t\t\t\t// TODO: Do something!\r\n                    break;\r\n\r\n                case ExoPlayer.STATE_READY:\r\n\t\t\t\t\t// TODO: Do something!\r\n                    break;\r\n\r\n                case ExoPlayer.STATE_ENDED:\r\n\t\t\t\t\t// TODO: Do something!\r\n                    break;\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void onPlayerError(ExoPlaybackException error) {\r\n            int errorType = error.type;\r\n            switch (errorType) {\r\n                case ExoPlaybackException.TYPE_RENDERER:\r\n\t\t\t\t\t// TODO: Do something!\r\n                    break;\r\n                case ExoPlaybackException.TYPE_SOURCE:\r\n\t\t\t\t\t// TODO: Do something!\r\n                    break;\r\n                case ExoPlaybackException.TYPE_UNEXPECTED:\r\n\t\t\t\t\t// TODO: Do something!\r\n                    break;\r\n                default:\r\n\t\t\t\t\t// TODO: Do something!\r\n                    break;\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void onPositionDiscontinuity() {\r\n\t\t\t// TODO: Do something!\r\n        }\r\n    };\r\n\r\n    private boolean canPlayCurrentItem() {\r\n        return mCurrentStreamingUrl != null &amp;&amp; !TextUtils.isEmpty(mCurrentStreamingUrl);\r\n    }\r\n\r\n    public void stopVideoStreaming() {\r\n        if (exoPlayer != null) {\r\n            exoPlayer.setPlayWhenReady(false);\r\n        }\r\n    }\r\n\r\n    private void restartVideoStreaming() {\r\n        if (canPlayCurrentItem()) {\r\n            streamCurrentTrack();\r\n        }\r\n    }\r\n\r\n    public void startVideoStreaming(String streamUrl) {\r\n        // Stop any video if it is playing.\r\n        stopVideoStreaming();\r\n        VideoPlaybackState = VideoPlaybackListener.STATE_VIDEO_STOPPED;\r\n        mCurrentStreamingUrl = streamUrl;\r\n\r\n        openStreamUrl();\r\n    }\r\n\r\n    private void openStreamUrl() {\r\n        Uri uri = Uri.parse(mCurrentStreamingUrl);\r\n\r\n        TrackSelector trackSelector = new DefaultTrackSelector();\r\n\r\n        LoadControl loadControl = new DefaultLoadControl();\r\n\r\n        DefaultBandwidthMeter bandwidthMeter = new DefaultBandwidthMeter();\r\n        DataSource.Factory dataSourceFactory = buildDataSourceFactory(bandwidthMeter);\r\n\r\n        // This is the MediaSource representing the media to be played.\r\n        HlsMediaSource mediaSource = new HlsMediaSource(uri, dataSourceFactory, handler, new AdaptiveMediaSourceEventListener() {\r\n            @Override\r\n            public void onLoadStarted(DataSpec dataSpec, int dataType, int trackType, Format trackFormat, int trackSelectionReason, Object trackSelectionData, long mediaStartTimeMs, long mediaEndTimeMs, long elapsedRealtimeMs) {\r\n                // TODO: Do something!\r\n            }\r\n\r\n            @Override\r\n            public void onLoadCompleted(DataSpec dataSpec, int dataType, int trackType, Format trackFormat, int trackSelectionReason, Object trackSelectionData, long mediaStartTimeMs, long mediaEndTimeMs, long elapsedRealtimeMs, long loadDurationMs, long bytesLoaded) {\r\n                // TODO: Do something!\r\n            }\r\n\r\n            @Override\r\n            public void onLoadCanceled(DataSpec dataSpec, int dataType, int trackType, Format trackFormat, int trackSelectionReason, Object trackSelectionData, long mediaStartTimeMs, long mediaEndTimeMs, long elapsedRealtimeMs, long loadDurationMs, long bytesLoaded) {\r\n                // TODO: Do something!\r\n            }\r\n\r\n            @Override\r\n            public void onLoadError(DataSpec dataSpec, int dataType, int trackType, Format trackFormat, int trackSelectionReason, Object trackSelectionData, long mediaStartTimeMs, long mediaEndTimeMs, long elapsedRealtimeMs, long loadDurationMs, long bytesLoaded, IOException error, boolean wasCanceled) {\r\n                // TODO: Do something!\r\n            }\r\n\r\n            @Override\r\n            public void onUpstreamDiscarded(int trackType, long mediaStartTimeMs, long mediaEndTimeMs) {\r\n                // TODO: Do something!\r\n            }\r\n\r\n            @Override\r\n            public void onDownstreamFormatChanged(int trackType, Format trackFormat, int trackSelectionReason, Object trackSelectionData, long mediaTimeMs) {\r\n                // TODO: Do something!\r\n            }\r\n        });\r\n\r\n        exoPlayer.prepare(mediaSource);\r\n\r\n        streamCurrentTrack();\r\n    }\r\n\r\n    private DataSource.Factory buildDataSourceFactory(DefaultBandwidthMeter bandwidthMeter){\r\n        return new DefaultDataSourceFactory(context, bandwidthMeter, buildHttpDataSourceFactory(bandwidthMeter));\r\n    }\r\n\r\n    private HttpDataSource.Factory buildHttpDataSourceFactory(DefaultBandwidthMeter bandwidthMeter){\r\n        return new DefaultHttpDataSourceFactory(&quot;TiVoPhoenix&quot;, bandwidthMeter);\r\n    }\r\n\r\n    public void togglePlayPause() {\r\n        if (canPlayCurrentItem()) {\r\n            if (VideoPlaybackState == PlaybackListener.STATE_PLAYING) {\r\n                stopVideoStreaming();\r\n                VideoPlaybackState = PlaybackListener.STATE_PAUSED;\r\n            } else {\r\n                restartVideoStreaming();\r\n            }\r\n        }\r\n    }\r\n\r\n    private void streamCurrentTrack() {\r\n        VideoPlaybackState = VideoPlaybackListener.STATE_VIDEO_PLAYING;\r\n        exoPlayer.setPlayWhenReady(true);\r\n    }\r\n\r\n    public SimpleExoPlayer getPlayer() {\r\n        TrackSelector trackSelector = new DefaultTrackSelector();\r\n        LoadControl loadControl = new DefaultLoadControl();\r\n\r\n        // Stop and release the video player before re-creating it.\r\n        stopAndReleasePlayer();\r\n\r\n        exoPlayer = ExoPlayerFactory.newSimpleInstance(context, trackSelector, loadControl);\r\n        exoPlayer.addListener(eventListener);\r\n        exoPlayer.setVideoListener(gVideoEventListener);\r\n\r\n        return exoPlayer;\r\n    }\r\n}\r\n```","title":"How can I fix ExoPlayer slow loading of video?","body":"<p>I am trying to write an app where I'll have a couple of video URLs which I need to play. I am using ExoPlayer for playing videos.</p>\n<p>ExoPlayer is playing the videos but the problem I am facing is, ExoPlayer is loading some part of video (let's say 5 seconds) and then playing them and once exo player is done playing that part, it is trying to load next part of video and then playing that part of video. This problem is occurring even when the Internet speed is good.</p>\n<p>Below is my code for ExoPlayer's singleton class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Singleton class that manages all video playback in the app. Ensures that only a single stream can be heard at a time\n * and reports the current playback status to any interested listeners.\n */\npublic class VideoWrapper {\n    private static String TAG = &quot;VideoWrapper&quot;;\n\n    private int VideoPlaybackState = VideoPlaybackListener.STATE_VIDEO_STOPPED;\n\n    // Player that plays the videos.\n    private SimpleExoPlayer exoPlayer;\n\n    // Singleton instance of the class\n    private static VideoWrapper videoWrapper;\n\n    // URL of Current Video Item that is getting played.\n    private String mCurrentStreamingUrl;\n\n    // Handler to take request of video playback in-case there is a playlist is being sent for play.\n    private Handler handler;\n\n    // Add the listener and notify them if required. -- For demo i am not using it but for UI updates and all it will be useful.\n    private List&lt;VideoPlaybackListener&gt; listeners = new LinkedList&lt;&gt;();\n\n    // Tells to which screen we have to go back\n    private String mPreviousScreenName;\n\n    private Context context;\n\n    public static VideoWrapper getInstance() {\n        if (videoWrapper == null) {\n            videoWrapper = new VideoWrapper();\n        }\n\n        return videoWrapper;\n    }\n\n    // Default constrructor!\n    private VideoWrapper() {\n        // Nothing to do.\n    }\n\n    public void setCurrentPreviousScreen(String screen) {\n        mPreviousScreenName = screen;\n    }\n\n    public void init(Context context) {\n        try {\n            this.context = context;\n            handler = new Handler(context.getMainLooper());\n        } catch (Exception e) {\n            // TODO\n        }\n    }\n\n    public void stopAndReleasePlayer() {\n\n        // Stop the player first.\n        stopVideoStreaming();\n\n        // Now release the player and make it null.\n        if (exoPlayer != null) {\n            exoPlayer.release();\n            exoPlayer = null;\n        }\n    }\n\n    public void addListener(VideoPlaybackListener listener) {\n        listeners.add(listener);\n    }\n\n    public void removeListener(VideoPlaybackListener listener) {\n        listeners.remove(listener);\n    }\n\n    public int getVideoPlaybackState() {\n        return VideoPlaybackState;\n    }\n\n    private SimpleExoPlayer.VideoListener gVideoEventListener = new SimpleExoPlayer.VideoListener() {\n        @Override\n        public void onVideoSizeChanged(int width, int height, int unappliedRotationDegrees, float pixelWidthHeightRatio) {\n            // TODO: Do Something!\n        }\n\n        @Override\n        public void onRenderedFirstFrame() {\n            // TODO: Do Something!\n        }\n    };\n\n    private ExoPlayer.EventListener eventListener = new ExoPlayer.EventListener() {\n        @Override\n        public void onTimelineChanged(Timeline timeline, Object manifest) {\n            // TODO: Do Something!\n        }\n\n        @Override\n        public void onTracksChanged(TrackGroupArray trackGroups, TrackSelectionArray trackSelections) {\n            // TODO: Do Something!\n        }\n\n        @Override\n        public void onLoadingChanged(boolean isLoading) {\n            // TODO: Do Something!\n        }\n\n        @Override\n        public void onPlayerStateChanged(boolean playWhenReady, int playbackState) {\n            switch (playbackState) {\n                // playback state handling serially\n                case ExoPlayer.STATE_IDLE:\n                    // TODO: Do something!\n                    break;\n\n                case ExoPlayer.STATE_BUFFERING:\n                    // TODO: Do something!\n                    break;\n\n                case ExoPlayer.STATE_READY:\n                    // TODO: Do something!\n                    break;\n\n                case ExoPlayer.STATE_ENDED:\n                    // TODO: Do something!\n                    break;\n            }\n        }\n\n        @Override\n        public void onPlayerError(ExoPlaybackException error) {\n            int errorType = error.type;\n            switch (errorType) {\n                case ExoPlaybackException.TYPE_RENDERER:\n                    // TODO: Do something!\n                    break;\n                case ExoPlaybackException.TYPE_SOURCE:\n                    // TODO: Do something!\n                    break;\n                case ExoPlaybackException.TYPE_UNEXPECTED:\n                    // TODO: Do something!\n                    break;\n                default:\n                    // TODO: Do something!\n                    break;\n            }\n        }\n\n        @Override\n        public void onPositionDiscontinuity() {\n            // TODO: Do something!\n        }\n    };\n\n    private boolean canPlayCurrentItem() {\n        return mCurrentStreamingUrl != null &amp;&amp; !TextUtils.isEmpty(mCurrentStreamingUrl);\n    }\n\n    public void stopVideoStreaming() {\n        if (exoPlayer != null) {\n            exoPlayer.setPlayWhenReady(false);\n        }\n    }\n\n    private void restartVideoStreaming() {\n        if (canPlayCurrentItem()) {\n            streamCurrentTrack();\n        }\n    }\n\n    public void startVideoStreaming(String streamUrl) {\n        // Stop any video if it is playing.\n        stopVideoStreaming();\n        VideoPlaybackState = VideoPlaybackListener.STATE_VIDEO_STOPPED;\n        mCurrentStreamingUrl = streamUrl;\n\n        openStreamUrl();\n    }\n\n    private void openStreamUrl() {\n        Uri uri = Uri.parse(mCurrentStreamingUrl);\n\n        TrackSelector trackSelector = new DefaultTrackSelector();\n\n        LoadControl loadControl = new DefaultLoadControl();\n\n        DefaultBandwidthMeter bandwidthMeter = new DefaultBandwidthMeter();\n        DataSource.Factory dataSourceFactory = buildDataSourceFactory(bandwidthMeter);\n\n        // This is the MediaSource representing the media to be played.\n        HlsMediaSource mediaSource = new HlsMediaSource(uri, dataSourceFactory, handler, new AdaptiveMediaSourceEventListener() {\n            @Override\n            public void onLoadStarted(DataSpec dataSpec, int dataType, int trackType, Format trackFormat, int trackSelectionReason, Object trackSelectionData, long mediaStartTimeMs, long mediaEndTimeMs, long elapsedRealtimeMs) {\n                // TODO: Do something!\n            }\n\n            @Override\n            public void onLoadCompleted(DataSpec dataSpec, int dataType, int trackType, Format trackFormat, int trackSelectionReason, Object trackSelectionData, long mediaStartTimeMs, long mediaEndTimeMs, long elapsedRealtimeMs, long loadDurationMs, long bytesLoaded) {\n                // TODO: Do something!\n            }\n\n            @Override\n            public void onLoadCanceled(DataSpec dataSpec, int dataType, int trackType, Format trackFormat, int trackSelectionReason, Object trackSelectionData, long mediaStartTimeMs, long mediaEndTimeMs, long elapsedRealtimeMs, long loadDurationMs, long bytesLoaded) {\n                // TODO: Do something!\n            }\n\n            @Override\n            public void onLoadError(DataSpec dataSpec, int dataType, int trackType, Format trackFormat, int trackSelectionReason, Object trackSelectionData, long mediaStartTimeMs, long mediaEndTimeMs, long elapsedRealtimeMs, long loadDurationMs, long bytesLoaded, IOException error, boolean wasCanceled) {\n                // TODO: Do something!\n            }\n\n            @Override\n            public void onUpstreamDiscarded(int trackType, long mediaStartTimeMs, long mediaEndTimeMs) {\n                // TODO: Do something!\n            }\n\n            @Override\n            public void onDownstreamFormatChanged(int trackType, Format trackFormat, int trackSelectionReason, Object trackSelectionData, long mediaTimeMs) {\n                // TODO: Do something!\n            }\n        });\n\n        exoPlayer.prepare(mediaSource);\n\n        streamCurrentTrack();\n    }\n\n    private DataSource.Factory buildDataSourceFactory(DefaultBandwidthMeter bandwidthMeter){\n        return new DefaultDataSourceFactory(context, bandwidthMeter, buildHttpDataSourceFactory(bandwidthMeter));\n    }\n\n    private HttpDataSource.Factory buildHttpDataSourceFactory(DefaultBandwidthMeter bandwidthMeter){\n        return new DefaultHttpDataSourceFactory(&quot;TiVoPhoenix&quot;, bandwidthMeter);\n    }\n\n    public void togglePlayPause() {\n        if (canPlayCurrentItem()) {\n            if (VideoPlaybackState == PlaybackListener.STATE_PLAYING) {\n                stopVideoStreaming();\n                VideoPlaybackState = PlaybackListener.STATE_PAUSED;\n            } else {\n                restartVideoStreaming();\n            }\n        }\n    }\n\n    private void streamCurrentTrack() {\n        VideoPlaybackState = VideoPlaybackListener.STATE_VIDEO_PLAYING;\n        exoPlayer.setPlayWhenReady(true);\n    }\n\n    public SimpleExoPlayer getPlayer() {\n        TrackSelector trackSelector = new DefaultTrackSelector();\n        LoadControl loadControl = new DefaultLoadControl();\n\n        // Stop and release the video player before re-creating it.\n        stopAndReleasePlayer();\n\n        exoPlayer = ExoPlayerFactory.newSimpleInstance(context, trackSelector, loadControl);\n        exoPlayer.addListener(eventListener);\n        exoPlayer.setVideoListener(gVideoEventListener);\n\n        return exoPlayer;\n    }\n}\n</code></pre>\n"},{"tags":["java","android","navigation","mapbox"],"answers":[{"tags":[],"owner":{"account_id":7491245,"reputation":691,"user_id":5692877,"display_name":"Tom Larcher"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1549423213,"creation_date":1547515908,"answer_id":54191563,"question_id":54190924,"body_markdown":"I happened to come across the exact same issue today whilst migrating an Android app from Mapbox Android SDK `6.5.0` to `7.0.0`.\r\n\r\nI too had no `mapbox_styleUrl` usages in my code, so I spent a little time scratching my head before I noticed that the error references `mapbox-android-navigation-ui-0.26.0` which appears to be utilising this attribute (removed in Mapbox Android SDK `7.0.0`). Taking a deeper look into the [Mapbox Navigation Android repository][1], I noticed that the [latest commit][2] (*from ~6 hours ago*) of `mapbox-android-navigation-ui` had brought everything up to date with the Mapbox Android SDK `7.0.0`.\r\n\r\nSince these fixes had not been packaged in an official release as yet, I added the latest snapshot release to my project by updating my dependencies via Gradle:\r\n\r\n    repositories {\r\n        mavenCentral()\r\n        maven { url &quot;http://oss.sonatype.org/content/repositories/snapshots/&quot; }\r\n    }\r\n    \r\n    dependencies {\r\n        implementation &#39;com.mapbox.mapboxsdk:mapbox-android-navigation-ui:0.27.0-SNAPSHOT&#39;\r\n    }\r\n\r\nI sincerely hope that saves you a headache!\r\n\r\n  [1]: https://github.com/mapbox/mapbox-navigation-android\r\n  [2]: https://github.com/mapbox/mapbox-navigation-android/commit/c4a30f2a985a34decdb4838fd6a055f54ecbed68#diff-e6675d661ba806d6f787db3d69e286a1","title":"What is causing the &quot;error: attribute mapbox_styleUrl not found&quot;?","body":"<p>I happened to come across the exact same issue today whilst migrating an Android app from Mapbox Android SDK <code>6.5.0</code> to <code>7.0.0</code>.</p>\n\n<p>I too had no <code>mapbox_styleUrl</code> usages in my code, so I spent a little time scratching my head before I noticed that the error references <code>mapbox-android-navigation-ui-0.26.0</code> which appears to be utilising this attribute (removed in Mapbox Android SDK <code>7.0.0</code>). Taking a deeper look into the <a href=\"https://github.com/mapbox/mapbox-navigation-android\" rel=\"nofollow noreferrer\">Mapbox Navigation Android repository</a>, I noticed that the <a href=\"https://github.com/mapbox/mapbox-navigation-android/commit/c4a30f2a985a34decdb4838fd6a055f54ecbed68#diff-e6675d661ba806d6f787db3d69e286a1\" rel=\"nofollow noreferrer\">latest commit</a> (<em>from ~6 hours ago</em>) of <code>mapbox-android-navigation-ui</code> had brought everything up to date with the Mapbox Android SDK <code>7.0.0</code>.</p>\n\n<p>Since these fixes had not been packaged in an official release as yet, I added the latest snapshot release to my project by updating my dependencies via Gradle:</p>\n\n<pre><code>repositories {\n    mavenCentral()\n    maven { url \"http://oss.sonatype.org/content/repositories/snapshots/\" }\n}\n\ndependencies {\n    implementation 'com.mapbox.mapboxsdk:mapbox-android-navigation-ui:0.27.0-SNAPSHOT'\n}\n</code></pre>\n\n<p>I sincerely hope that saves you a headache!</p>\n"},{"tags":[],"owner":{"account_id":19454128,"reputation":11,"user_id":14229871,"display_name":"Amos Banda"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680017161,"creation_date":1680017161,"answer_id":75868192,"question_id":54190924,"body_markdown":"make sure u are settig the content view to the correct layout\r\n\r\nie: my line on the set content view was set to mainActivity istead of MapsActivity\r\n\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            Mapbox.getInstance(MapsActivity.this, getString(R.string.mapbox_access_token));\r\n            setContentView(R.layout.activity_maps);","title":"What is causing the &quot;error: attribute mapbox_styleUrl not found&quot;?","body":"<p>make sure u are settig the content view to the correct layout</p>\n<p>ie: my line on the set content view was set to mainActivity istead of MapsActivity</p>\n<pre><code>protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        Mapbox.getInstance(MapsActivity.this, getString(R.string.mapbox_access_token));\n        setContentView(R.layout.activity_maps);\n</code></pre>\n"}],"owner":{"account_id":15124698,"reputation":55,"user_id":10914432,"display_name":"Jonasvle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4160,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":54191563,"answer_count":2,"score":3,"last_activity_date":1680017161,"creation_date":1547510226,"question_id":54190924,"body_markdown":"I keep getting the error &quot;attribute mapbox_styleUrl not found&quot; when trying to implement the Navigation SDK of Mapbox into my project.\r\nI think it has to do with the migration of the Map SDK to 7.0.0 where they removed the mapbox_styleUrl XML attribute, but I&#39;m unable to find a way to fix this.\r\n\r\nI&#39;m not using the styleUrl in any of my code. I leave the map style in my layout default and set it in onMapReady.\r\n\r\nThis is the complete error:\r\n\r\n  \r\n    Android resource linking failed\r\n    Output:  C:\\Users\\Jonas\\.gradle\\caches\\transforms-1\\files-1.1\\mapbox-android-navigation-ui-0.26.0.aar\\0ea5c6919c35d65de36f46fe7fce49d7\\res\\layout\\navigation_view_layout.xml:10: error: attribute mapbox_styleUrl (aka com.fishdev.planmyrun:mapbox_styleUrl) not found.\r\n    error: failed linking file resources.\r\n\r\nComplete `build.gradle`\r\n\r\n    apply plugin: &#39;com.android.application&#39;\r\n\r\n    android {\r\n        compileSdkVersion 28\r\n        defaultConfig {\r\n            applicationId &quot;com.fishdev.planmyrun&quot;\r\n            minSdkVersion 24\r\n            targetSdkVersion 28\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n            testInstrumentationRunner &quot;android.support.test.runner.AndroidJUnitRunner&quot;\r\n        }\r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_1_8\r\n            targetCompatibility JavaVersion.VERSION_1_8\r\n        }\r\n    }\r\n\r\n    dependencies {\r\n        implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n        implementation &#39;com.android.support:appcompat-v7:28.0.0&#39;\r\n        implementation &#39;com.android.support.constraint:constraint-layout:1.1.3&#39;\r\n        testImplementation &#39;junit:junit:4.12&#39;\r\n        androidTestImplementation &#39;com.android.support.test:runner:1.0.2&#39;\r\n        androidTestImplementation &#39;com.android.support.test.espresso:espresso-core:3.0.2&#39;\r\n\r\n        //  Mapbox dependencies\r\n        implementation &#39;com.mapbox.mapboxsdk:mapbox-android-sdk:7.0.0&#39;\r\n        implementation &#39;com.mapbox.mapboxsdk:mapbox-android-plugin-annotation-v7:0.4.0&#39;\r\n        implementation &#39;com.mapbox.mapboxsdk:mapbox-android-navigation-ui:0.26.0&#39;\r\n}\r\n\r\nMy MapView in layout:\r\n \r\n    &lt;com.mapbox.mapboxsdk.maps.MapView\r\n            android:id=&quot;@+id/mapView&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            mapbox:mapbox_cameraTargetLat=&quot;50.87485515&quot;\r\n            mapbox:mapbox_cameraTargetLng=&quot;4.707931288875566&quot;\r\n            mapbox:mapbox_cameraZoom=&quot;11&quot;\r\n            /&gt; \r\n\r\n","title":"What is causing the &quot;error: attribute mapbox_styleUrl not found&quot;?","body":"<p>I keep getting the error \"attribute mapbox_styleUrl not found\" when trying to implement the Navigation SDK of Mapbox into my project.\nI think it has to do with the migration of the Map SDK to 7.0.0 where they removed the mapbox_styleUrl XML attribute, but I'm unable to find a way to fix this.</p>\n\n<p>I'm not using the styleUrl in any of my code. I leave the map style in my layout default and set it in onMapReady.</p>\n\n<p>This is the complete error:</p>\n\n<pre><code>Android resource linking failed\nOutput:  C:\\Users\\Jonas\\.gradle\\caches\\transforms-1\\files-1.1\\mapbox-android-navigation-ui-0.26.0.aar\\0ea5c6919c35d65de36f46fe7fce49d7\\res\\layout\\navigation_view_layout.xml:10: error: attribute mapbox_styleUrl (aka com.fishdev.planmyrun:mapbox_styleUrl) not found.\nerror: failed linking file resources.\n</code></pre>\n\n<p>Complete <code>build.gradle</code></p>\n\n<pre><code>apply plugin: 'com.android.application'\n\nandroid {\n    compileSdkVersion 28\n    defaultConfig {\n        applicationId \"com.fishdev.planmyrun\"\n        minSdkVersion 24\n        targetSdkVersion 28\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation 'com.android.support:appcompat-v7:28.0.0'\n    implementation 'com.android.support.constraint:constraint-layout:1.1.3'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'com.android.support.test:runner:1.0.2'\n    androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.2'\n\n    //  Mapbox dependencies\n    implementation 'com.mapbox.mapboxsdk:mapbox-android-sdk:7.0.0'\n    implementation 'com.mapbox.mapboxsdk:mapbox-android-plugin-annotation-v7:0.4.0'\n    implementation 'com.mapbox.mapboxsdk:mapbox-android-navigation-ui:0.26.0'\n</code></pre>\n\n<p>}</p>\n\n<p>My MapView in layout:</p>\n\n<pre><code>&lt;com.mapbox.mapboxsdk.maps.MapView\n        android:id=\"@+id/mapView\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        mapbox:mapbox_cameraTargetLat=\"50.87485515\"\n        mapbox:mapbox_cameraTargetLng=\"4.707931288875566\"\n        mapbox:mapbox_cameraZoom=\"11\"\n        /&gt; \n</code></pre>\n"},{"tags":["java","arrays","string","java.util.scanner"],"comments":[{"owner":{"account_id":220160,"reputation":99410,"user_id":477420,"display_name":"Alexei Levenkov"},"score":0,"creation_date":1431040390,"post_id":30113062,"comment_id":48337246,"body_markdown":"`for (int i = 0; i &lt; 0;){` looks like &quot;typographical error&quot; as it is missing `i++`. If it is not the case and make sure to update your post with actual code.","body":"<code>for (int i = 0; i &lt; 0;){</code> looks like &quot;typographical error&quot; as it is missing <code>i++</code>. If it is not the case and make sure to update your post with actual code."},{"owner":{"account_id":3922730,"reputation":199,"user_id":3244370,"display_name":"Shivam"},"score":0,"creation_date":1503752720,"post_id":30113062,"comment_id":78750203,"body_markdown":"for (int i = 0; i &lt;20;i++){\n            array[i] = s.nextLine();\n        }","body":"for (int i = 0; i &lt;20;i++){             array[i] = s.nextLine();         }"}],"answers":[{"tags":[],"owner":{"account_id":6267301,"reputation":169,"user_id":4872590,"display_name":"Carlos A. Ortiz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1431040883,"creation_date":1431040883,"answer_id":30113265,"question_id":30113062,"body_markdown":"Look at your for-loop, it lacks of increment attribute. Example: `for(int i = 0; i &lt; 0; i++)`\r\nIf you want to debug each loop I recommend you to print assignment inside for-loop\r\n\r\n    for (int i = 0; i &lt; 0;)\r\n    {\r\n        array[i] = s.nextLine();\r\n        System.out.println(array[i]);  // Debug \r\n    }","title":"User input stored in a String array","body":"<p>Look at your for-loop, it lacks of increment attribute. Example: <code>for(int i = 0; i &lt; 0; i++)</code>\nIf you want to debug each loop I recommend you to print assignment inside for-loop</p>\n\n<pre><code>for (int i = 0; i &lt; 0;)\n{\n    array[i] = s.nextLine();\n    System.out.println(array[i]);  // Debug \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1318923,"reputation":9011,"user_id":1265182,"accept_rate":100,"display_name":"Shar1er80"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1431053012,"creation_date":1431053012,"answer_id":30114937,"question_id":30113062,"body_markdown":"Since you know that you want to have an array of 20 string:\r\n\r\n    String[] array = new String[20];\r\n\r\nThen your for loop should use the length of the array to determine when the loop should stop.  Also you loop is missing an incrementer.\r\n\r\nTry the following code to get you going:\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        Scanner s = new Scanner(System.in);\r\n        String[] array = new String[20];\r\n\r\n        System.out.println(&quot;Please enter 20 names to sort&quot;);\r\n\r\n        for (int i = 0; i &lt; array.length; i++) {\r\n            array[i] = s.nextLine();\r\n        }\r\n\r\n        //Just to test\r\n        System.out.println(array[0]);\r\n    }","title":"User input stored in a String array","body":"<p>Since you know that you want to have an array of 20 string:</p>\n\n<pre><code>String[] array = new String[20];\n</code></pre>\n\n<p>Then your for loop should use the length of the array to determine when the loop should stop.  Also you loop is missing an incrementer.</p>\n\n<p>Try the following code to get you going:</p>\n\n<pre><code>public static void main(String[] args) throws Exception {\n    Scanner s = new Scanner(System.in);\n    String[] array = new String[20];\n\n    System.out.println(\"Please enter 20 names to sort\");\n\n    for (int i = 0; i &lt; array.length; i++) {\n        array[i] = s.nextLine();\n    }\n\n    //Just to test\n    System.out.println(array[0]);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1972468,"reputation":2173,"user_id":1771063,"display_name":"Santosh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1431058471,"creation_date":1431058471,"answer_id":30115638,"question_id":30113062,"body_markdown":"    for (int i = 0; i &lt; 0;){\r\n            array[i] = s.nextLine();\r\n        }\r\n\r\nFor the first iteration i will be initialised to &#39;0&#39; and since i should be less then &#39;0&#39; as per your condition it wont even go into the loop.change the loop to \r\n\r\n    for(int i=0;i&lt;20;i++){\r\n    array[i]=s.nextLine();\r\n    }","title":"User input stored in a String array","body":"<pre><code>for (int i = 0; i &lt; 0;){\n        array[i] = s.nextLine();\n    }\n</code></pre>\n\n<p>For the first iteration i will be initialised to '0' and since i should be less then '0' as per your condition it wont even go into the loop.change the loop to </p>\n\n<pre><code>for(int i=0;i&lt;20;i++){\narray[i]=s.nextLine();\n}\n</code></pre>\n"}],"owner":{"account_id":6273543,"reputation":159,"user_id":4876985,"accept_rate":85,"display_name":"MKatana"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":153087,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":30114937,"answer_count":3,"score":0,"last_activity_date":1680017107,"creation_date":1431039709,"question_id":30113062,"body_markdown":"I&#39;m trying to get the user&#39;s input stored in an array. Can you help me understand what I am doing wrong in initializing the for loop?\r\n\r\n    import java.util.Scanner;\r\n\r\n    public class NameSorting {\r\n\r\n\t    public static void main(String[] args) {\r\n\t        Scanner s = new Scanner(System.in);\r\n\t        String[] array = new String[20];\r\n\t\t    System.out.println(&quot;Please enter 20 names to sort&quot;); \t\t      \r\n            Scanner s1 = new Scanner(System.in);\r\n\t\t    for (int i = 0; i &lt; 0;) {\r\n\t\t\t    array[i] = s1.nextLine();\r\n\t\t    }\r\n\r\n\t\t    //Just to test\r\n\t\t    System.out.println(array[0]);\r\n\t    }\r\n    }\r\n","title":"User input stored in a String array","body":"<p>I'm trying to get the user's input stored in an array. Can you help me understand what I am doing wrong in initializing the for loop?</p>\n<pre><code>import java.util.Scanner;\n\npublic class NameSorting {\n\n    public static void main(String[] args) {\n        Scanner s = new Scanner(System.in);\n        String[] array = new String[20];\n        System.out.println(&quot;Please enter 20 names to sort&quot;);              \n        Scanner s1 = new Scanner(System.in);\n        for (int i = 0; i &lt; 0;) {\n            array[i] = s1.nextLine();\n        }\n\n        //Just to test\n        System.out.println(array[0]);\n    }\n}\n</code></pre>\n"},{"tags":["java","android","bluetooth-lowenergy","beacon"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1680067551,"post_id":75868093,"comment_id":133831986,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"comments":[{"owner":{"account_id":28149305,"reputation":15,"user_id":21511150,"display_name":"xavi999"},"score":0,"creation_date":1680105865,"post_id":75868179,"comment_id":133842172,"body_markdown":"I couldn&#39;t be more grateful, you explained it all. Thank you very much, my problem has been solved!","body":"I couldn&#39;t be more grateful, you explained it all. Thank you very much, my problem has been solved!"}],"tags":[],"owner":{"account_id":1574065,"reputation":64130,"user_id":1461050,"accept_rate":89,"display_name":"davidgyoung"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680017105,"creation_date":1680017105,"answer_id":75868179,"question_id":75868093,"body_markdown":"The Android Beacon Library returns ranging results every 1.1 seconds by default.  **You can customize the scan period** by calling a method like this:\r\n\r\n`beaconManager.setForegroundScanPeriod(100)`\r\n\r\nThe above will change the callback rate to 100 milliseconds (10 times per second).  \r\n\r\n**Be careful, however, with setting this period to be very small.**  The smaller you make it, the more likely it is that no beacons will be detected in that short interval.  In that case, you will get a ranging callback with an empty list of beacons.\r\n\r\nWhile some beacons advertise once very ~100ms (10Hz), not all advertisements are received by phones due to a number of factors. (About 80-90 percent it typical at short range.) Also, be aware that many battery powered beacons reduce the advertisement rate to once every 1000 ms or even 5000ms to save power.  If you have a beacon like this, you will get empty ranging callbacks over 90% of the time when setting a short scan period.\r\n\r\nAn alternative approach when moving a map marker is to animate it from the old position to the new position over the update interval.  So if you leave the scan period at the default 1100 milliseconds, and animate the pointer to move over 1100ms, then it will feel more natural.  (More sophisticated techniques are also possible where you calculate a heading and velocity and animate the pointer according to that, correcting as you get new updates.)","title":"Android Beacon Library - Is there any way we can change the interval in which the range notifier updates, which by default is &quot;once every second&quot;","body":"<p>The Android Beacon Library returns ranging results every 1.1 seconds by default.  <strong>You can customize the scan period</strong> by calling a method like this:</p>\n<p><code>beaconManager.setForegroundScanPeriod(100)</code></p>\n<p>The above will change the callback rate to 100 milliseconds (10 times per second).</p>\n<p><strong>Be careful, however, with setting this period to be very small.</strong>  The smaller you make it, the more likely it is that no beacons will be detected in that short interval.  In that case, you will get a ranging callback with an empty list of beacons.</p>\n<p>While some beacons advertise once very ~100ms (10Hz), not all advertisements are received by phones due to a number of factors. (About 80-90 percent it typical at short range.) Also, be aware that many battery powered beacons reduce the advertisement rate to once every 1000 ms or even 5000ms to save power.  If you have a beacon like this, you will get empty ranging callbacks over 90% of the time when setting a short scan period.</p>\n<p>An alternative approach when moving a map marker is to animate it from the old position to the new position over the update interval.  So if you leave the scan period at the default 1100 milliseconds, and animate the pointer to move over 1100ms, then it will feel more natural.  (More sophisticated techniques are also possible where you calculate a heading and velocity and animate the pointer according to that, correcting as you get new updates.)</p>\n"}],"owner":{"account_id":28149305,"reputation":15,"user_id":21511150,"display_name":"xavi999"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75868179,"answer_count":1,"score":1,"last_activity_date":1680017105,"creation_date":1680016582,"question_id":75868093,"body_markdown":"By default, the notifier updates every second. However, if the library is being used to track one&#39;s location using BLE Beacons, this doesn&#39;t seem very effective since the user marker will be moving in a dull and unnatural way.\r\n\r\n\r\n\r\n\r\nIs there any way we can change this update interval, so that the user&#39;s movement feels much smoother?","title":"Android Beacon Library - Is there any way we can change the interval in which the range notifier updates, which by default is &quot;once every second&quot;","body":"<p>By default, the notifier updates every second. However, if the library is being used to track one's location using BLE Beacons, this doesn't seem very effective since the user marker will be moving in a dull and unnatural way.</p>\n<p>Is there any way we can change this update interval, so that the user's movement feels much smoother?</p>\n"},{"tags":["java","spring-boot","mocking","spring-boot-test","wiremock"],"answers":[{"tags":[],"owner":{"account_id":15121473,"reputation":945,"user_id":10912170,"display_name":"Sha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1590937680,"creation_date":1590937680,"answer_id":62118168,"question_id":62113775,"body_markdown":"I solved it like;\r\n\r\n1. Describe test api-url and port. Because Wiremock creates embedded localhost server.\r\n\r\nSo in applicaition-properties: \r\n\r\n    application-test.properties: \r\n      - service.url: http://localhost:8484\r\n    application-prod.properties: \r\n      - service.url: https://external.com/v1\r\n\r\n\r\nThen my test class:\r\n\r\n    @ClassRule\r\n    public static WireMockRule wireMockRule = new WireMockRule(8484);\r\n\r\n    @Test\r\n    public void getResult_successfully()\r\n    {\r\n        Result result = new Result();\r\n        wireMockRule.stubFor(get(urlPathMatching(&quot;/subUrl&quot;))\r\n                .willReturn(aResponse()\r\n                        .proxiedFrom(API_URL)\r\n                        .withStatus(200)\r\n                        .withHeader(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n                        .withBody(gson.toJson(result))));\r\n\r\n        Result returnResult = service.executeRequest(&quot;/subUrl&quot;, GET);\r\n\r\n        assertThat(returnResult).isEqualTo(result);\r\n    }","title":"WireMock On Spring Boot Test With External Https Host","body":"<p>I solved it like;</p>\n\n<ol>\n<li>Describe test api-url and port. Because Wiremock creates embedded localhost server.</li>\n</ol>\n\n<p>So in applicaition-properties: </p>\n\n<pre><code>application-test.properties: \n  - service.url: http://localhost:8484\napplication-prod.properties: \n  - service.url: https://external.com/v1\n</code></pre>\n\n<p>Then my test class:</p>\n\n<pre><code>@ClassRule\npublic static WireMockRule wireMockRule = new WireMockRule(8484);\n\n@Test\npublic void getResult_successfully()\n{\n    Result result = new Result();\n    wireMockRule.stubFor(get(urlPathMatching(\"/subUrl\"))\n            .willReturn(aResponse()\n                    .proxiedFrom(API_URL)\n                    .withStatus(200)\n                    .withHeader(\"Content-Type\", \"application/json\")\n                    .withBody(gson.toJson(result))));\n\n    Result returnResult = service.executeRequest(\"/subUrl\", GET);\n\n    assertThat(returnResult).isEqualTo(result);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24671528,"reputation":41,"user_id":18566493,"display_name":"Sazzad Islam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680017080,"creation_date":1679398163,"answer_id":75800608,"question_id":62113775,"body_markdown":"For me it worked as following\r\n- Set `aplication.yaml` under test directory\r\n```\r\n    api.url=http://localhost:8484\r\n```\r\n- And code change as following\r\n```\r\n@WireMockTest\r\nclass className{\r\n    val wiremockServer = WireMockServer(8484)\r\n    configureFor(&quot;localhost&quot;,8484)\r\n    wiremockServer.start()\r\n...\r\n```\r\ncode written in kotlin\r\n","title":"WireMock On Spring Boot Test With External Https Host","body":"<p>For me it worked as following</p>\n<ul>\n<li>Set <code>aplication.yaml</code> under test directory</li>\n</ul>\n<pre><code>    api.url=http://localhost:8484\n</code></pre>\n<ul>\n<li>And code change as following</li>\n</ul>\n<pre><code>@WireMockTest\nclass className{\n    val wiremockServer = WireMockServer(8484)\n    configureFor(&quot;localhost&quot;,8484)\n    wiremockServer.start()\n...\n</code></pre>\n<p>code written in kotlin</p>\n"}],"owner":{"account_id":15121473,"reputation":945,"user_id":10912170,"display_name":"Sha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1387,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":62118168,"answer_count":2,"score":0,"last_activity_date":1680017080,"creation_date":1590915286,"question_id":62113775,"body_markdown":"In my application, I have external third party API requests. I want to test my application with mocking this API requests.\r\n\r\nMy Service Class:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    String API_URL = &quot;https://external.com/v1/%s&quot;;\r\n    public Result executeRequest(String apiVersion, String subUrl, HttpMethod httpMethod)\r\n    {\r\n        try\r\n        {\r\n            HttpRequestBase httpRequest;\r\n            String url = String.format(API_URL, subUrl);\r\n            if (httpMethod.equals(HttpMethod.GET))\r\n            {\r\n                httpRequest = new HttpGet(url);\r\n            }\r\n            else if (httpMethod.equals(HttpMethod.POST))\r\n            {\r\n                httpRequest = new HttpPost(url);\r\n                ((HttpPost) httpRequest).setEntity(new StringEntity(requestBody, &quot;UTF-8&quot;));\r\n            }\r\n            ...\r\n            headers.forEach(httpRequest::setHeader);\r\n            HttpResponse response = httpClient.execute(httpRequest);\r\n        }\r\n        catch (IOException e)\r\n        {\r\n            logger.error(&quot;IO Error: {}&quot;, e.getMessage());\r\n            return handleExceptions(e);\r\n        }\r\n    }\r\n\r\nTo sum up for service class, requests can be get, post, delete, put. And this requests will be processed with headers or body parts. Then will be handled as http request.\r\n\r\nMy test class:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    @SpringBootTest\r\n    @ActiveProfiles(&quot;test&quot;)\r\n    @RunWith(SpringRunner.class)\r\n    public class ServiceTest\r\n    {\r\n    \r\n        private static final String API_URL = &quot;https://external.com/v1&quot;;\r\n    \r\n        @Autowired\r\n        private Service service;\r\n    \r\n        @Autowired\r\n        protected Gson gson;\r\n    \r\n        @Rule\r\n        public WireMockRule wireMockRule = new WireMockRule();\r\n    \r\n        @Test\r\n        public void getResult_successfully()\r\n        {\r\n            Result result = new Result();\r\n            wireMockRule.stubFor(get(urlPathMatching(&quot;/subUrl&quot;))\r\n                    .willReturn(aResponse()\r\n                            .proxiedFrom(API_URL)\r\n                            .withStatus(200)\r\n                            .withHeader(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n                            .withBody(gson.toJson(result))));\r\n    \r\n            Result returnResult = service.executeRequest(&quot;/subUrl&quot;, GET);\r\n    \r\n            assertThat(returnResult).isEqualTo(result);\r\n        }\r\n    }\r\n\r\nWhen I implement it like above, mocking doesn&#39;t work. Any suggestion?\r\n\r\nNote: I hope code snippets will be enough to understand the code in overall. \r\n","title":"WireMock On Spring Boot Test With External Https Host","body":"<p>In my application, I have external third party API requests. I want to test my application with mocking this API requests.</p>\n\n<p>My Service Class:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>String API_URL = \"https://external.com/v1/%s\";\npublic Result executeRequest(String apiVersion, String subUrl, HttpMethod httpMethod)\n{\n    try\n    {\n        HttpRequestBase httpRequest;\n        String url = String.format(API_URL, subUrl);\n        if (httpMethod.equals(HttpMethod.GET))\n        {\n            httpRequest = new HttpGet(url);\n        }\n        else if (httpMethod.equals(HttpMethod.POST))\n        {\n            httpRequest = new HttpPost(url);\n            ((HttpPost) httpRequest).setEntity(new StringEntity(requestBody, \"UTF-8\"));\n        }\n        ...\n        headers.forEach(httpRequest::setHeader);\n        HttpResponse response = httpClient.execute(httpRequest);\n    }\n    catch (IOException e)\n    {\n        logger.error(\"IO Error: {}\", e.getMessage());\n        return handleExceptions(e);\n    }\n}\n</code></pre>\n\n<p>To sum up for service class, requests can be get, post, delete, put. And this requests will be processed with headers or body parts. Then will be handled as http request.</p>\n\n<p>My test class:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest\n@ActiveProfiles(\"test\")\n@RunWith(SpringRunner.class)\npublic class ServiceTest\n{\n\n    private static final String API_URL = \"https://external.com/v1\";\n\n    @Autowired\n    private Service service;\n\n    @Autowired\n    protected Gson gson;\n\n    @Rule\n    public WireMockRule wireMockRule = new WireMockRule();\n\n    @Test\n    public void getResult_successfully()\n    {\n        Result result = new Result();\n        wireMockRule.stubFor(get(urlPathMatching(\"/subUrl\"))\n                .willReturn(aResponse()\n                        .proxiedFrom(API_URL)\n                        .withStatus(200)\n                        .withHeader(\"Content-Type\", \"application/json\")\n                        .withBody(gson.toJson(result))));\n\n        Result returnResult = service.executeRequest(\"/subUrl\", GET);\n\n        assertThat(returnResult).isEqualTo(result);\n    }\n}\n</code></pre>\n\n<p>When I implement it like above, mocking doesn't work. Any suggestion?</p>\n\n<p>Note: I hope code snippets will be enough to understand the code in overall. </p>\n"},{"tags":["java","spring","spring-boot","url"],"answers":[{"comments":[{"owner":{"account_id":24698282,"reputation":81,"user_id":18589924,"display_name":"4SadMemeXD"},"score":1,"creation_date":1680020108,"post_id":75868161,"comment_id":133823931,"body_markdown":"Actually i used Base64.getEncoder(), so figured it out by changing to Base64.getUrlEncoder(). Thanks a lot!","body":"Actually i used Base64.getEncoder(), so figured it out by changing to Base64.getUrlEncoder(). Thanks a lot!"}],"tags":[],"owner":{"account_id":3517130,"reputation":5214,"user_id":2940265,"accept_rate":91,"display_name":"Menuka Ishan"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680016982,"creation_date":1680016982,"answer_id":75868161,"question_id":75868020,"body_markdown":"If you can change web site encryption part, why don&#39;t you use base64 for encoding before sending it as only an encrypted string?\r\nLike below\r\n\r\n    https://MyWebsite.io/api/v1/auth/verify/{base64-encoded-string}\r\n\r\nYou can encode a string by using btoa() function which is pure Javascript. So you don&#39;t have to worry about the frontend frameworks you use.\r\n\r\nYour backend code should look like below.\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/api/v1/auth&quot;)\r\n    @RequiredArgsConstructor\r\n    public class AuthenticationController {\r\n        @GetMapping(&quot;/verify/{key}&quot;)\r\n        public ResponseEntity&lt;?&gt; verify(@PathVariable String key){\r\n            String decodedInfo = new String(Base64.getUrlDecoder().decode(key));\r\n            return ResponseEntity.ok(decodedInfo);\r\n        }\r\n    }\r\n\r\nThis code will help you avoid special characters.","title":"Can&#39;t properly process incoming request path","body":"<p>If you can change web site encryption part, why don't you use base64 for encoding before sending it as only an encrypted string?\nLike below</p>\n<pre><code>https://MyWebsite.io/api/v1/auth/verify/{base64-encoded-string}\n</code></pre>\n<p>You can encode a string by using btoa() function which is pure Javascript. So you don't have to worry about the frontend frameworks you use.</p>\n<p>Your backend code should look like below.</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api/v1/auth&quot;)\n@RequiredArgsConstructor\npublic class AuthenticationController {\n    @GetMapping(&quot;/verify/{key}&quot;)\n    public ResponseEntity&lt;?&gt; verify(@PathVariable String key){\n        String decodedInfo = new String(Base64.getUrlDecoder().decode(key));\n        return ResponseEntity.ok(decodedInfo);\n    }\n}\n</code></pre>\n<p>This code will help you avoid special characters.</p>\n"}],"owner":{"account_id":24698282,"reputation":81,"user_id":18589924,"display_name":"4SadMemeXD"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75868161,"answer_count":1,"score":1,"last_activity_date":1680016982,"creation_date":1680016209,"question_id":75868020,"body_markdown":"i&#39;m trying to implement verification on java spring and i need to set up method in Controller that will process links like this: \r\n\r\nhttps://MyWebsite.io/api/v1/auth/verify/v1WKKvOWLcLeQepiZ3c0xj9tnPFlW3eOeajASdMhRx1kvhHrdBqDLFlzxE/aLIlo26hh6Q74iPVTjWvDJUVVSM8zEqMxTqBLRjbJaFH3RNnXsNpcRhJSsOSYSOAL0eE/WPiEYwdKmg5zg1VNCo1JFQ==\r\n\r\nwhere v1WKKvOWLcLeQepiZ3c0xj9tnPFlW3eOeajASdMhRx1kvhHrdBqDLFlzxE/aLIlo26hh6Q74iPVTjWvDJUVVSM8zEqMxTqBLRjbJaFH3RNnXsNpcRhJSsOSYSOAL0eE/WPiEYwdKmg5zg1VNCo1JFQ== is a encrypted information about user\r\n\r\nbut i can&#39;t process this url because of the &quot;/&quot;, can i somehow convert this url so it will correctly process in this controller\r\n\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/api/v1/auth&quot;)\r\n    @RequiredArgsConstructor\r\n    public class AuthenticationController {\r\n        @GetMapping(&quot;/verify/{key}&quot;)\r\n        public ResponseEntity&lt;?&gt; verify(@PathVariable String key){\r\n            return ResponseEntity.ok(key);\r\n        }\r\n    \r\n    }","title":"Can&#39;t properly process incoming request path","body":"<p>i'm trying to implement verification on java spring and i need to set up method in Controller that will process links like this:</p>\n<p><a href=\"https://MyWebsite.io/api/v1/auth/verify/v1WKKvOWLcLeQepiZ3c0xj9tnPFlW3eOeajASdMhRx1kvhHrdBqDLFlzxE/aLIlo26hh6Q74iPVTjWvDJUVVSM8zEqMxTqBLRjbJaFH3RNnXsNpcRhJSsOSYSOAL0eE/WPiEYwdKmg5zg1VNCo1JFQ==\" rel=\"nofollow noreferrer\">https://MyWebsite.io/api/v1/auth/verify/v1WKKvOWLcLeQepiZ3c0xj9tnPFlW3eOeajASdMhRx1kvhHrdBqDLFlzxE/aLIlo26hh6Q74iPVTjWvDJUVVSM8zEqMxTqBLRjbJaFH3RNnXsNpcRhJSsOSYSOAL0eE/WPiEYwdKmg5zg1VNCo1JFQ==</a></p>\n<p>where v1WKKvOWLcLeQepiZ3c0xj9tnPFlW3eOeajASdMhRx1kvhHrdBqDLFlzxE/aLIlo26hh6Q74iPVTjWvDJUVVSM8zEqMxTqBLRjbJaFH3RNnXsNpcRhJSsOSYSOAL0eE/WPiEYwdKmg5zg1VNCo1JFQ== is a encrypted information about user</p>\n<p>but i can't process this url because of the &quot;/&quot;, can i somehow convert this url so it will correctly process in this controller</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api/v1/auth&quot;)\n@RequiredArgsConstructor\npublic class AuthenticationController {\n    @GetMapping(&quot;/verify/{key}&quot;)\n    public ResponseEntity&lt;?&gt; verify(@PathVariable String key){\n        return ResponseEntity.ok(key);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring-boot","jpa"],"answers":[{"comments":[{"owner":{"account_id":19515108,"reputation":11,"user_id":14278164,"display_name":"demislam"},"score":0,"creation_date":1679844487,"post_id":75848017,"comment_id":133789676,"body_markdown":"neat library! but I was hoping to find something provided by spring boot to achieve this.","body":"neat library! but I was hoping to find something provided by spring boot to achieve this."}],"tags":[],"owner":{"account_id":2424663,"reputation":13,"user_id":2116886,"display_name":"Nicolae"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679837070,"creation_date":1679837070,"answer_id":75848017,"question_id":75847654,"body_markdown":"You might try using Spring Dynamic JPA library (https://github.com/joutvhu/spring-dynamic-jpa). Instead of having two methods, keep only one, and pass the &quot;group by&quot; criteria as a String argument.","title":"How to reuse common parts of a long but similar native query in spring boot JPA repositories?","body":"<p>You might try using Spring Dynamic JPA library (<a href=\"https://github.com/joutvhu/spring-dynamic-jpa\" rel=\"nofollow noreferrer\">https://github.com/joutvhu/spring-dynamic-jpa</a>). Instead of having two methods, keep only one, and pass the &quot;group by&quot; criteria as a String argument.</p>\n"},{"comments":[{"owner":{"account_id":19515108,"reputation":11,"user_id":14278164,"display_name":"demislam"},"score":0,"creation_date":1680338458,"post_id":75868152,"comment_id":133884377,"body_markdown":"&quot;table1.%s&quot; I need to put &quot;a1&quot; in place of %s here too.","body":"&quot;table1.%s&quot; I need to put &quot;a1&quot; in place of %s here too."},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1680427737,"post_id":75868152,"comment_id":133893920,"body_markdown":"Your question was about &#39;reusing the common parts&quot;. I have answered that. Replacing the &#39;%s&#39; is standard JPA. Use &#39;:s&#39; and https://www.baeldung.com/spring-data-jpa-query  to substitute a named parameter - section 6.2","body":"Your question was about &#39;reusing the common parts&quot;. I have answered that. Replacing the &#39;%s&#39; is standard JPA. Use &#39;:s&#39; and <a href=\"https://www.baeldung.com/spring-data-jpa-query\" rel=\"nofollow noreferrer\">baeldung.com/spring-data-jpa-query</a>  to substitute a named parameter - section 6.2"}],"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680016944,"creation_date":1680016944,"answer_id":75868152,"question_id":75847654,"body_markdown":"You were nearly there, try a constant, ie:\r\n\r\n\tpublic static String MY_GROUP_BY_QUERY = &quot;select table1.%s, sum(table2.b), sum(table2.c) from table2&quot;\r\n\t        + &quot; join table1 on table2.table1_id = table1.id group by table1.&quot;;\r\n\r\n\t@Query(value = MY_GROUP_BY_QUERY + &quot;a1&quot;, nativeQuery = true)\r\n\tpublic List&lt;FooDTO&gt; getAggregateSumWithGroupByA1();\r\n\r\n\t@Query(value = MY_GROUP_BY_QUERY + &quot;a2&quot;, nativeQuery = true)\r\n\tpublic List&lt;FooDTO&gt; getAggregateSumWithGroupByA2();\r\n","title":"How to reuse common parts of a long but similar native query in spring boot JPA repositories?","body":"<p>You were nearly there, try a constant, ie:</p>\n<pre><code>public static String MY_GROUP_BY_QUERY = &quot;select table1.%s, sum(table2.b), sum(table2.c) from table2&quot;\n        + &quot; join table1 on table2.table1_id = table1.id group by table1.&quot;;\n\n@Query(value = MY_GROUP_BY_QUERY + &quot;a1&quot;, nativeQuery = true)\npublic List&lt;FooDTO&gt; getAggregateSumWithGroupByA1();\n\n@Query(value = MY_GROUP_BY_QUERY + &quot;a2&quot;, nativeQuery = true)\npublic List&lt;FooDTO&gt; getAggregateSumWithGroupByA2();\n</code></pre>\n"}],"owner":{"account_id":19515108,"reputation":11,"user_id":14278164,"display_name":"demislam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":348,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1680016944,"creation_date":1679832472,"question_id":75847654,"body_markdown":"In my Repository interface I have 2 similar aggregate queries which only differs on the group by column, \r\n\r\n```Java\r\n@Query(value = &quot;select table1.a1, sum(table2.b), sum(table2.c) from table2&quot; \r\n+ &quot; join table1 on table2.table1_id = table1.id group by table1.a1&quot;, nativeQuery = true)\r\npublic List&lt;FooDTO&gt; getAggregateSumWithGroupByA1();\r\n\r\n@Query(value = &quot;select table1.a2, sum(table2.b), sum(table2.c) from table2&quot;\r\n + &quot; join table1 on table2.table1_id = table1.id group by table1.a2&quot;, nativeQuery = true)\r\npublic List&lt;FooDTO&gt; getAggregateSumWithGroupByA2();\r\n```\r\n\r\nInstead of repeating the common parts of the 2 queries I want to achieve something like this: \r\n\r\n\r\n```Java\r\nString myGroupByQuery = &quot;select table1.%s, sum(table2.b), sum(table2.c) from table2&quot;\r\n        + &quot; join table1 on table2.table1_id = table1.id group by table1.%s&quot;;\r\n\r\n@Query(value = StringFormat.format(myGroupByQuery, &quot;a1&quot;), nativeQuery = true)\r\npublic List&lt;FooDTO&gt; getAggregateSumWithGroupByA1();\r\n\r\n@Query(value = StringFormat.format(myGroupByQuery, &quot;a2&quot;), nativeQuery = true)\r\npublic List&lt;FooDTO&gt; getAggregateSumWithGroupByA2();\r\n```\r\n\r\n\r\nOfcourse the above code shows error: `The value for annotation attribute Query.value must be a constant expression` Any way to do it, or any other suggestions to achieve something similar? Thank you.\r\n\r\nSearched all over but found no solutions that fulfill my requirement.","title":"How to reuse common parts of a long but similar native query in spring boot JPA repositories?","body":"<p>In my Repository interface I have 2 similar aggregate queries which only differs on the group by column,</p>\n<pre><code>@Query(value = &quot;select table1.a1, sum(table2.b), sum(table2.c) from table2&quot; \n+ &quot; join table1 on table2.table1_id = table1.id group by table1.a1&quot;, nativeQuery = true)\npublic List&lt;FooDTO&gt; getAggregateSumWithGroupByA1();\n\n@Query(value = &quot;select table1.a2, sum(table2.b), sum(table2.c) from table2&quot;\n + &quot; join table1 on table2.table1_id = table1.id group by table1.a2&quot;, nativeQuery = true)\npublic List&lt;FooDTO&gt; getAggregateSumWithGroupByA2();\n</code></pre>\n<p>Instead of repeating the common parts of the 2 queries I want to achieve something like this:</p>\n<pre><code>String myGroupByQuery = &quot;select table1.%s, sum(table2.b), sum(table2.c) from table2&quot;\n        + &quot; join table1 on table2.table1_id = table1.id group by table1.%s&quot;;\n\n@Query(value = StringFormat.format(myGroupByQuery, &quot;a1&quot;), nativeQuery = true)\npublic List&lt;FooDTO&gt; getAggregateSumWithGroupByA1();\n\n@Query(value = StringFormat.format(myGroupByQuery, &quot;a2&quot;), nativeQuery = true)\npublic List&lt;FooDTO&gt; getAggregateSumWithGroupByA2();\n</code></pre>\n<p>Ofcourse the above code shows error: <code>The value for annotation attribute Query.value must be a constant expression</code> Any way to do it, or any other suggestions to achieve something similar? Thank you.</p>\n<p>Searched all over but found no solutions that fulfill my requirement.</p>\n"},{"tags":["java","string","nlp","text-processing"],"comments":[{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1679905650,"post_id":75853404,"comment_id":133798136,"body_markdown":"What is your question? You describe a whole problem. What have you tried? Are you looking for an algorithm? What are the data types? Since you mention languages: what sentence/paragraph ending indicators do you need to/want to accept? Just `.` or also the Japanes `` and Arabic ``?","body":"What is your question? You describe a whole problem. What have you tried? Are you looking for an algorithm? What are the data types? Since you mention languages: what sentence/paragraph ending indicators do you need to/want to accept? Just <code>.</code> or also the Japanes <code></code> and Arabic <code></code>?"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":1,"creation_date":1679906145,"post_id":75853404,"comment_id":133798253,"body_markdown":"You need proper rules to define a &quot;paragraph&quot;, because even if you just worked with English, you could get some `.` that doesn&#39;t mark a paragraph, like in `1.` numbered list items or abbreviations like `etc.`.","body":"You need proper rules to define a &quot;paragraph&quot;, because even if you just worked with English, you could get some <code>.</code> that doesn&#39;t mark a paragraph, like in <code>1.</code> numbered list items or abbreviations like <code>etc.</code>."},{"owner":{"account_id":10894378,"reputation":737,"user_id":8008906,"display_name":"djy"},"score":0,"creation_date":1679934708,"post_id":75853404,"comment_id":133806321,"body_markdown":"thanks, I was expecting some NLP magic automatically determine whether one position in string is the end of a paragraph or the end of a sentence.","body":"thanks, I was expecting some NLP magic automatically determine whether one position in string is the end of a paragraph or the end of a sentence."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1679991218,"post_id":75853404,"comment_id":133815698,"body_markdown":"[`BreakIterator`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/text/BreakIterator.html)","body":"<a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/text/BreakIterator.html\" rel=\"nofollow noreferrer\"><code>BreakIterator</code></a>"}],"owner":{"account_id":10894378,"reputation":737,"user_id":8008906,"display_name":"djy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680016763,"creation_date":1679904233,"question_id":75853404,"body_markdown":"I am using okhttp subscribing to a `SSE`( https://en.wikipedia.org/wiki/Server-sent_events) stream, the `onEvent` callback is use to receive new data from upstream and passed by `data` param as `String`\r\n\r\nIt takes too long to wait for all data to arrive and is too frequent to send on every single char arriving, and I need to send proper data segment intermitently.\r\n```\r\n// initiate an SSE request and receive new data by `onEvent`\r\neventSourceFactory.newEventSource(request, new EventSourceListener() {\r\n    // onEvent called every time remote send new data, `data` is new data\r\n    public void onEvent(EventSource eventSource, String id, String type, String data) {\r\n        // pseudo code below\r\n        String stringToSend = process(data, minSplitLength);\r\n        if (!stringToSend.isEmpty()) {\r\n            send(stringToSend);\r\n        }\r\n    }\r\n})\r\n```\r\n**So I want to impl `process(String data, int minSplitLength);` method**\r\n\r\n**It should properly store stream data and emits string `stringToSend`  with length larger than `minSplitLength` e.g. when a paragraph or a sentence is constructed from `data`s with length &gt;= `minSplitLength` or empty string**\r\n\r\nThe `data` param can contain any mainstream natural language, e.g. **en-US**, **zh-CN**, **Russian**, **Arabic**, **ja-JP** , etc\r\n\r\n\r\nI can accept occasionally non-perfect splitting.\r\n\r\nAny other ideas, for example split base both on text content and time is also welcome.\r\n\r\nI want to impl this in Java.\r\n\r\nThanks","title":"How to properly split streaming text into paragraphs?","body":"<p>I am using okhttp subscribing to a <code>SSE</code>( <a href=\"https://en.wikipedia.org/wiki/Server-sent_events\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Server-sent_events</a>) stream, the <code>onEvent</code> callback is use to receive new data from upstream and passed by <code>data</code> param as <code>String</code></p>\n<p>It takes too long to wait for all data to arrive and is too frequent to send on every single char arriving, and I need to send proper data segment intermitently.</p>\n<pre><code>// initiate an SSE request and receive new data by `onEvent`\neventSourceFactory.newEventSource(request, new EventSourceListener() {\n    // onEvent called every time remote send new data, `data` is new data\n    public void onEvent(EventSource eventSource, String id, String type, String data) {\n        // pseudo code below\n        String stringToSend = process(data, minSplitLength);\n        if (!stringToSend.isEmpty()) {\n            send(stringToSend);\n        }\n    }\n})\n</code></pre>\n<p><strong>So I want to impl <code>process(String data, int minSplitLength);</code> method</strong></p>\n<p><strong>It should properly store stream data and emits string <code>stringToSend</code>  with length larger than <code>minSplitLength</code> e.g. when a paragraph or a sentence is constructed from <code>data</code>s with length &gt;= <code>minSplitLength</code> or empty string</strong></p>\n<p>The <code>data</code> param can contain any mainstream natural language, e.g. <strong>en-US</strong>, <strong>zh-CN</strong>, <strong>Russian</strong>, <strong>Arabic</strong>, <strong>ja-JP</strong> , etc</p>\n<p>I can accept occasionally non-perfect splitting.</p>\n<p>Any other ideas, for example split base both on text content and time is also welcome.</p>\n<p>I want to impl this in Java.</p>\n<p>Thanks</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1680017065,"post_id":75867935,"comment_id":133823039,"body_markdown":"&quot;Is there any workaround to split xml file without having necessary a root tag?&quot; Well without a root element, you don&#39;t actually *have* an XML file. You&#39;ve got a file that&#39;s &quot;like XML, but isn&#39;t actually valid XML&quot;. What&#39;s creating this in the first place, and can you get them to emit valid XML instead?","body":"&quot;Is there any workaround to split xml file without having necessary a root tag?&quot; Well without a root element, you don&#39;t actually <i>have</i> an XML file. You&#39;ve got a file that&#39;s &quot;like XML, but isn&#39;t actually valid XML&quot;. What&#39;s creating this in the first place, and can you get them to emit valid XML instead?"},{"owner":{"account_id":6236150,"reputation":15,"user_id":4851394,"display_name":"OHA"},"score":0,"creation_date":1680018028,"post_id":75867935,"comment_id":133823315,"body_markdown":"Hi Jon, Thank you for your answer. I totally agree with you too :)\nAnother team who&#39;s providing the xml file. Ask this team to change the xml structure may be an obstace course :). For this reason I try first to handle this dysfunction from my end.","body":"Hi Jon, Thank you for your answer. I totally agree with you too :) Another team who&#39;s providing the xml file. Ask this team to change the xml structure may be an obstace course :). For this reason I try first to handle this dysfunction from my end."}],"answers":[{"comments":[{"owner":{"account_id":6236150,"reputation":15,"user_id":4851394,"display_name":"OHA"},"score":0,"creation_date":1680017191,"post_id":75868059,"comment_id":133823080,"body_markdown":"Hi Daniel, Thank you for your answer. I totally agree with you.\nI&#39;m dealing with xml file having more that 4.5 GB. Parsing it to add the root tag may take some times if it doesn&#39;t fail before.","body":"Hi Daniel, Thank you for your answer. I totally agree with you. I&#39;m dealing with xml file having more that 4.5 GB. Parsing it to add the root tag may take some times if it doesn&#39;t fail before."}],"tags":[],"owner":{"account_id":18669557,"reputation":640,"user_id":13608717,"display_name":"Daniel"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680016424,"creation_date":1680016424,"answer_id":75868059,"question_id":75867935,"body_markdown":"XML must have exactly 1 root element (as per [specification][1]). And due to shared xml having 3 root elements the exception is thrown.\r\n\r\nTo fix it your would need to add some root element (as you&#39;ve mentioned), so xml would meet its requirements for structure.\r\n\r\nOr, to overcome that - you could add root node programatically\r\n\r\n\r\n  [1]: https://www.w3.org/TR/REC-xml/#dt-root","title":"ParseError at [row,col]:[384,16] Message: The markup in the document following the root element must be well-formed","body":"<p>XML must have exactly 1 root element (as per <a href=\"https://www.w3.org/TR/REC-xml/#dt-root\" rel=\"nofollow noreferrer\">specification</a>). And due to shared xml having 3 root elements the exception is thrown.</p>\n<p>To fix it your would need to add some root element (as you've mentioned), so xml would meet its requirements for structure.</p>\n<p>Or, to overcome that - you could add root node programatically</p>\n"}],"owner":{"account_id":6236150,"reputation":15,"user_id":4851394,"display_name":"OHA"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75868059,"answer_count":1,"score":0,"last_activity_date":1680016590,"creation_date":1680015787,"question_id":75867935,"body_markdown":"I get &quot;**The markup in the document following the root element must be well-formed.**&quot; error while splitting xml file using com.sun.org.apache.xalan.internal.xsltc.trax.TransformerFactoryImpl object.\r\nI know that the root cause of this issue is that the xml tags that I&#39;m trying to split are at the same level and not under a root tag.\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;AB&gt;\r\n\t\t&lt;BC attB=&quot;valB1&quot;&gt;b1&lt;/BC&gt;\r\n\t\t&lt;CD attC=&quot;valC1&quot;&gt;c1&lt;/CD&gt;\r\n\t&lt;/AB&gt;\r\n\t&lt;AB&gt;\r\n\t\t&lt;BC attB=&quot;valB2&quot;&gt;b2&lt;/BC&gt;\r\n\t\t&lt;CD attC=&quot;valC2&quot;&gt;c2&lt;/CD&gt;\r\n\t&lt;/AB&gt;\r\n\t&lt;AB&gt;\r\n\t\t&lt;BC attB=&quot;valB3&quot;&gt;b3&lt;/BC&gt;\r\n\t\t&lt;CD attC=&quot;valC3&quot;&gt;c3&lt;/CD&gt;\r\n\t&lt;/AB&gt;\r\n```\r\n\r\nBelow the code:\r\n```\r\n\tpublic void run(final String inFile, final String outFilePath, final String splitTag, final String chunkNumber) {\r\n\t\tfinal Transformer transformer;\r\n\t\tXMLStreamReader xsr = null;\r\n\t\tXMLStreamWriter xsw = null;\r\n\t\tfinal Byte defaultChunkNumber = (byte) (StringUtils.isBlank(chunkNumber) ?  20000 : Byte.valueOf(chunkNumber));\r\n\t\ttry {\r\n\t\t\t\ttransformer = new TransformerFactoryImpl().newTransformer();\r\n\t\t\t\tfinal XMLInputFactory xif = XMLInputFactory.newInstance();\r\n\t\t\t\txsr = xif.createXMLStreamReader(new FileReader(inFile));\r\n\t\t\t\tByte fileNumber = 0;\r\n\t\t\t\tByte dataRepetitions = 0;\r\n\t\t\t\txsw = write(outFilePath,++fileNumber);\r\n\t\t\t\twhile (xsr.hasNext()) {\r\n\t\t\t\t\txsr.next();\r\n\t\t\t\t\tif (xsr.getEventType() == XMLEvent.START_ELEMENT &amp;&amp; xsr.getLocalName().equals(splitTag)) {\r\n\t\t\t\t\t\tif(dataRepetitions.equals(defaultChunkNumber)) { \r\n\t\t\t\t\t\t\txsw.close();\r\n\t\t\t\t\t\t\txsw = write(outFilePath, ++fileNumber);\r\n\t\t\t\t\t\t\tdataRepetitions = 0;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tfinal StAXSource staxs = new StAXSource(xsr);\r\n\t\t\t\t\t\tfinal FragmentXMLStreamWriterWrapper fxmlsww = new FragmentXMLStreamWriterWrapper(xsw);\r\n\t\t\t\t\t\tfinal StAXResult staxr = new StAXResult(fxmlsww);\r\n\t\t\t\t\t\ttransformer.transform(staxs, staxr);\r\n\t\t\t\t\t\tdataRepetitions++;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t} catch (final TransformerException | FileNotFoundException | XMLStreamException e) {\r\n\t\t\tthrow new SplitXmlRuntimeException(e.getMessage());\r\n\t\t} finally {\r\n\t\t\ttry {\r\n\t\t\t\txsr.close();\r\n\t\t\t\txsw.flush();\r\n\t\t\t\txsw.close();\r\n\t\t\t} catch (final XMLStreamException e) {\r\n\t\t\t\tLOG.error(e.getMessage());\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tprivate XMLStreamWriter write(String outfilePath, Byte fileNumber) throws XMLStreamException, FileNotFoundException  {\r\n\t\tXMLOutputFactory xmlOutputFactory = XMLOutputFactory.newInstance();\r\n\t\tXMLStreamWriter writer = xmlOutputFactory.createXMLStreamWriter(new FileOutputStream(new File(outfilePath, SplitHelper.Methods.File.getXmlFileName((byte) fileNumber)), true));\r\n\t\twriter.writeStartDocument();\r\n\t\twriter.writeCharacters(SplitHelper.Constants.RegExp.BREAK_LINE);\r\n\t\treturn writer;\r\n\t}\r\n```\r\nThis code works since I add manually a dummy root tag to encapsulate ```&lt;AB&gt;``` tags.\r\n\r\nIs there any workaround to split xml file without having necessary a root tag?\r\n\r\nThank you in advance,","title":"ParseError at [row,col]:[384,16] Message: The markup in the document following the root element must be well-formed","body":"<p>I get &quot;<strong>The markup in the document following the root element must be well-formed.</strong>&quot; error while splitting xml file using com.sun.org.apache.xalan.internal.xsltc.trax.TransformerFactoryImpl object.\nI know that the root cause of this issue is that the xml tags that I'm trying to split are at the same level and not under a root tag.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n    &lt;AB&gt;\n        &lt;BC attB=&quot;valB1&quot;&gt;b1&lt;/BC&gt;\n        &lt;CD attC=&quot;valC1&quot;&gt;c1&lt;/CD&gt;\n    &lt;/AB&gt;\n    &lt;AB&gt;\n        &lt;BC attB=&quot;valB2&quot;&gt;b2&lt;/BC&gt;\n        &lt;CD attC=&quot;valC2&quot;&gt;c2&lt;/CD&gt;\n    &lt;/AB&gt;\n    &lt;AB&gt;\n        &lt;BC attB=&quot;valB3&quot;&gt;b3&lt;/BC&gt;\n        &lt;CD attC=&quot;valC3&quot;&gt;c3&lt;/CD&gt;\n    &lt;/AB&gt;\n</code></pre>\n<p>Below the code:</p>\n<pre><code>    public void run(final String inFile, final String outFilePath, final String splitTag, final String chunkNumber) {\n        final Transformer transformer;\n        XMLStreamReader xsr = null;\n        XMLStreamWriter xsw = null;\n        final Byte defaultChunkNumber = (byte) (StringUtils.isBlank(chunkNumber) ?  20000 : Byte.valueOf(chunkNumber));\n        try {\n                transformer = new TransformerFactoryImpl().newTransformer();\n                final XMLInputFactory xif = XMLInputFactory.newInstance();\n                xsr = xif.createXMLStreamReader(new FileReader(inFile));\n                Byte fileNumber = 0;\n                Byte dataRepetitions = 0;\n                xsw = write(outFilePath,++fileNumber);\n                while (xsr.hasNext()) {\n                    xsr.next();\n                    if (xsr.getEventType() == XMLEvent.START_ELEMENT &amp;&amp; xsr.getLocalName().equals(splitTag)) {\n                        if(dataRepetitions.equals(defaultChunkNumber)) { \n                            xsw.close();\n                            xsw = write(outFilePath, ++fileNumber);\n                            dataRepetitions = 0;\n                        }\n                        final StAXSource staxs = new StAXSource(xsr);\n                        final FragmentXMLStreamWriterWrapper fxmlsww = new FragmentXMLStreamWriterWrapper(xsw);\n                        final StAXResult staxr = new StAXResult(fxmlsww);\n                        transformer.transform(staxs, staxr);\n                        dataRepetitions++;\n                    }\n                }\n        } catch (final TransformerException | FileNotFoundException | XMLStreamException e) {\n            throw new SplitXmlRuntimeException(e.getMessage());\n        } finally {\n            try {\n                xsr.close();\n                xsw.flush();\n                xsw.close();\n            } catch (final XMLStreamException e) {\n                LOG.error(e.getMessage());\n            }\n        }\n    }\n    \n    private XMLStreamWriter write(String outfilePath, Byte fileNumber) throws XMLStreamException, FileNotFoundException  {\n        XMLOutputFactory xmlOutputFactory = XMLOutputFactory.newInstance();\n        XMLStreamWriter writer = xmlOutputFactory.createXMLStreamWriter(new FileOutputStream(new File(outfilePath, SplitHelper.Methods.File.getXmlFileName((byte) fileNumber)), true));\n        writer.writeStartDocument();\n        writer.writeCharacters(SplitHelper.Constants.RegExp.BREAK_LINE);\n        return writer;\n    }\n</code></pre>\n<p>This code works since I add manually a dummy root tag to encapsulate <code>&lt;AB&gt;</code> tags.</p>\n<p>Is there any workaround to split xml file without having necessary a root tag?</p>\n<p>Thank you in advance,</p>\n"},{"tags":["java","aws-lambda","twilio","aws-api-gateway","twilio-api"],"owner":{"account_id":13890863,"reputation":211,"user_id":10034073,"display_name":"kviLL"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680016182,"creation_date":1680016182,"question_id":75868015,"body_markdown":"I&#39;m trying to use an AWS Lambda function to process API requests from [Twilio][1] (specifically SMS messages) through an AWS API gateway.\r\n\r\nI need to validate that incoming requests actually came from Twilio. [Twilio&#39;s documentation][2]  says to use the `RequestValidator` class, for which you need a complete request URL and query string.\r\n\r\nIn their example, they use a `javax.servlet.http.HttpServletRequest` to build the URL. They call `HttpServletRequest::getQueryString` and `HttpServletRequest::getRequestURL`. (See line 77 of their code, which defines `getRequestUrlAndQueryString()`).\r\n\r\nI&#39;m using AWS Lambda, however, and I have an `APIGatewayProxyRequestEvent` instead. It doesn&#39;t have a `getRequestURL()` method.\r\n\r\nHow can I validate incoming Twilio requests? Do I have to build the request URL myself from other parameters--and if so, how is this done in Java? Or is there an easier approach?\r\n\r\n\r\n  [1]: https://www.twilio.com/\r\n  [2]: https://www.twilio.com/docs/usage/tutorials/how-to-secure-your-servlet-app-by-validating-incoming-twilio-requests","title":"Get request/query URL from Lambda API request for Twilio validation","body":"<p>I'm trying to use an AWS Lambda function to process API requests from <a href=\"https://www.twilio.com/\" rel=\"nofollow noreferrer\">Twilio</a> (specifically SMS messages) through an AWS API gateway.</p>\n<p>I need to validate that incoming requests actually came from Twilio. <a href=\"https://www.twilio.com/docs/usage/tutorials/how-to-secure-your-servlet-app-by-validating-incoming-twilio-requests\" rel=\"nofollow noreferrer\">Twilio's documentation</a>  says to use the <code>RequestValidator</code> class, for which you need a complete request URL and query string.</p>\n<p>In their example, they use a <code>javax.servlet.http.HttpServletRequest</code> to build the URL. They call <code>HttpServletRequest::getQueryString</code> and <code>HttpServletRequest::getRequestURL</code>. (See line 77 of their code, which defines <code>getRequestUrlAndQueryString()</code>).</p>\n<p>I'm using AWS Lambda, however, and I have an <code>APIGatewayProxyRequestEvent</code> instead. It doesn't have a <code>getRequestURL()</code> method.</p>\n<p>How can I validate incoming Twilio requests? Do I have to build the request URL myself from other parameters--and if so, how is this done in Java? Or is there an easier approach?</p>\n"},{"tags":["java","html","template-engine"],"comments":[{"owner":{"account_id":7421543,"reputation":2874,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"score":1,"creation_date":1680009344,"post_id":75866752,"comment_id":133820648,"body_markdown":"I think you submitted your question before you were finished writing it...","body":"I think you submitted your question before you were finished writing it..."},{"owner":{"account_id":23104207,"reputation":161,"user_id":17506985,"display_name":"Cucumberbatch"},"score":0,"creation_date":1680010837,"post_id":75866752,"comment_id":133821135,"body_markdown":"It&#39;s corrected now, I was interrupted in between","body":"It&#39;s corrected now, I was interrupted in between"},{"owner":{"account_id":7421543,"reputation":2874,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"score":0,"creation_date":1680011418,"post_id":75866752,"comment_id":133821313,"body_markdown":"Thank you for fixing your question. Can you please show us your code? How are you populating the tempate?","body":"Thank you for fixing your question. Can you please show us your code? How are you populating the tempate?"},{"owner":{"account_id":23104207,"reputation":161,"user_id":17506985,"display_name":"Cucumberbatch"},"score":0,"creation_date":1680012454,"post_id":75866752,"comment_id":133821632,"body_markdown":"I edited again to add the mapping of the values !","body":"I edited again to add the mapping of the values !"}],"answers":[{"comments":[{"owner":{"account_id":23104207,"reputation":161,"user_id":17506985,"display_name":"Cucumberbatch"},"score":0,"creation_date":1680076451,"post_id":75867933,"comment_id":133833764,"body_markdown":"Thank you for taking the time to explain me this, I really appreciate that","body":"Thank you for taking the time to explain me this, I really appreciate that"},{"owner":{"account_id":7421543,"reputation":2874,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"score":0,"creation_date":1680092474,"post_id":75867933,"comment_id":133837873,"body_markdown":"@Cucumberbatch I hope this helps. Don&#39;t mind the teasing in my example ;)","body":"@Cucumberbatch I hope this helps. Don&#39;t mind the teasing in my example ;)"}],"tags":[],"owner":{"account_id":7421543,"reputation":2874,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680016138,"creation_date":1680015777,"answer_id":75867933,"question_id":75866752,"body_markdown":"First of all, your HTML is not valid. You have a closing span tag (`&lt;/span&gt;`) without an opening tag. Secondly, you have a variable which I assume looks something like this:\r\n\r\n    String variablesStr = &quot;&lt;br /&gt; &lt;ul&gt;&lt;li&gt; fetch his food today &lt;/li&gt;&lt;li&gt; talk to the blacksmith &lt;/li&gt;&lt;/ul&gt;&quot;;\r\n\r\nYou cannot use `th:text` to inject HTML. Thymeleaf is too smart and will escape any HTML special characters. This means that when you pass your string to Thymeleaf, it becomes:\r\n\r\n    &amp;lt;br /&amp;gt; &amp;lt;ul&amp;gt;&amp;lt;li&amp;gt; fetch his food today &amp;lt;/li&amp;gt;&amp;lt;li&amp;gt; talk to the blacksmith &amp;lt;/li&amp;gt;&amp;lt;/ul&amp;gt;\r\n\r\n[You *can* use `th:utext`][1], but you *should* change your template to use a proper [`th:each`][2]:\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n        &lt;head&gt;\r\n            &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n            &lt;title&gt;Template for reminder to team lead&lt;/title&gt;\r\n        &lt;/head&gt;\r\n        &lt;body&gt;\r\n            &lt;p th:text=&quot;&#39;Hello &#39; + ${firstNameTeamLead} + &#39; &#39; + ${lastNameTeamLead} + &#39;!&#39;&quot;/&gt;\r\n            &lt;p&gt;\r\n                &lt;span th:text=&quot;${member} + &#39; did not:&#39;&quot;/&gt;\r\n                &lt;br /&gt;\r\n                &lt;ul&gt;\r\n                    &lt;li th:each=&quot;step : ${lateSteps}&quot; th:text=&quot;${step}&quot;/&gt;\r\n                &lt;/ul&gt;\r\n            &lt;/p&gt;\r\n        &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nAnd lastly, the variables in your template do not match the variables in your code. For example. your template is expecting the variable &quot;firstNameTeamLead&quot; while your code is providing &quot;firstNameTL&quot;. \r\n\r\nHere is an example of what your code should look like:\r\n\r\n    TeamLead teamLead = mission.getTeamLead();\r\n    Member member = mission.getUMember();\r\n\t\r\n\tList&lt;String&gt; lateSteps = Arrays.asList(&quot;Finish his question&quot;, &quot;Include his source code&quot;,\r\n\t\t\t&quot;Specify his template-engine&quot;, &quot;Check his variable names&quot;);\r\n\r\n\tMap&lt;String, Object&gt; variables = new HashMap&lt;&gt;();\r\n\tvariables.put(&quot;firstNameTeamLead&quot;, teamLead.getFirstName());\r\n\tvariables.put(&quot;lastNameTeamLead&quot;, teamLead.getLastName());\r\n\tvariables.put(&quot;member&quot;, member.getFirstName());\r\n\tvariables.put(&quot;lateSteps&quot;, lateSteps);\r\n\r\nAnd here is the end result:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;\r\n    &lt;head&gt;\r\n        &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n        &lt;title&gt;Template for reminder to team lead&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n        &lt;p&gt;Hello Cardinal System!&lt;/p&gt;\r\n        &lt;p&gt;\r\n            &lt;span&gt;Cucumberbatch did not:&lt;/span&gt;\r\n            &lt;br /&gt;\r\n            &lt;ul&gt;\r\n                &lt;li&gt;Finish his question&lt;/li&gt;\r\n                &lt;li&gt;Include his source code&lt;/li&gt;\r\n                &lt;li&gt;Specify his template-engine&lt;/li&gt;\r\n                &lt;li&gt;Check his variable names&lt;/li&gt;\r\n            &lt;/ul&gt;\r\n        &lt;/p&gt;\r\n    &lt;/body&gt;\r\n&lt;/html&gt;\r\n\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n  [1]: https://stackoverflow.com/a/23294426/5645656\r\n  [2]: https://www.thymeleaf.org/doc/tutorials/2.1/usingthymeleaf.html#using-theach","title":"Mail template from TemplateEngine does not read html tags","body":"<p>First of all, your HTML is not valid. You have a closing span tag (<code>&lt;/span&gt;</code>) without an opening tag. Secondly, you have a variable which I assume looks something like this:</p>\n<pre><code>String variablesStr = &quot;&lt;br /&gt; &lt;ul&gt;&lt;li&gt; fetch his food today &lt;/li&gt;&lt;li&gt; talk to the blacksmith &lt;/li&gt;&lt;/ul&gt;&quot;;\n</code></pre>\n<p>You cannot use <code>th:text</code> to inject HTML. Thymeleaf is too smart and will escape any HTML special characters. This means that when you pass your string to Thymeleaf, it becomes:</p>\n<pre><code>&amp;lt;br /&amp;gt; &amp;lt;ul&amp;gt;&amp;lt;li&amp;gt; fetch his food today &amp;lt;/li&amp;gt;&amp;lt;li&amp;gt; talk to the blacksmith &amp;lt;/li&amp;gt;&amp;lt;/ul&amp;gt;\n</code></pre>\n<p><a href=\"https://stackoverflow.com/a/23294426/5645656\">You <em>can</em> use <code>th:utext</code></a>, but you <em>should</em> change your template to use a proper <a href=\"https://www.thymeleaf.org/doc/tutorials/2.1/usingthymeleaf.html#using-theach\" rel=\"nofollow noreferrer\"><code>th:each</code></a>:</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n    &lt;head&gt;\n        &lt;meta charset=&quot;UTF-8&quot;&gt;\n        &lt;title&gt;Template for reminder to team lead&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;p th:text=&quot;'Hello ' + ${firstNameTeamLead} + ' ' + ${lastNameTeamLead} + '!'&quot;/&gt;\n        &lt;p&gt;\n            &lt;span th:text=&quot;${member} + ' did not:'&quot;/&gt;\n            &lt;br /&gt;\n            &lt;ul&gt;\n                &lt;li th:each=&quot;step : ${lateSteps}&quot; th:text=&quot;${step}&quot;/&gt;\n            &lt;/ul&gt;\n        &lt;/p&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>And lastly, the variables in your template do not match the variables in your code. For example. your template is expecting the variable &quot;firstNameTeamLead&quot; while your code is providing &quot;firstNameTL&quot;.</p>\n<p>Here is an example of what your code should look like:</p>\n<pre><code>TeamLead teamLead = mission.getTeamLead();\nMember member = mission.getUMember();\n\nList&lt;String&gt; lateSteps = Arrays.asList(&quot;Finish his question&quot;, &quot;Include his source code&quot;,\n        &quot;Specify his template-engine&quot;, &quot;Check his variable names&quot;);\n\nMap&lt;String, Object&gt; variables = new HashMap&lt;&gt;();\nvariables.put(&quot;firstNameTeamLead&quot;, teamLead.getFirstName());\nvariables.put(&quot;lastNameTeamLead&quot;, teamLead.getLastName());\nvariables.put(&quot;member&quot;, member.getFirstName());\nvariables.put(&quot;lateSteps&quot;, lateSteps);\n</code></pre>\n<p>And here is the end result:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\n&lt;html xmlns=\"http://www.w3.org/1999/xhtml\"&gt;\n&lt;head&gt;\n    &lt;meta charset=\"UTF-8\"&gt;\n    &lt;title&gt;Template for reminder to team lead&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;p&gt;Hello Cardinal System!&lt;/p&gt;\n    &lt;p&gt;\n        &lt;span&gt;Cucumberbatch did not:&lt;/span&gt;\n        &lt;br /&gt;\n        &lt;ul&gt;\n            &lt;li&gt;Finish his question&lt;/li&gt;\n            &lt;li&gt;Include his source code&lt;/li&gt;\n            &lt;li&gt;Specify his template-engine&lt;/li&gt;\n            &lt;li&gt;Check his variable names&lt;/li&gt;\n        &lt;/ul&gt;\n    &lt;/p&gt;\n&lt;/body&gt;\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":23104207,"reputation":161,"user_id":17506985,"display_name":"Cucumberbatch"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75867933,"answer_count":1,"score":1,"last_activity_date":1680016138,"creation_date":1680009266,"question_id":75866752,"body_markdown":"I have the following template: \r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\r\n      xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n    &lt;head&gt;\r\n        &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n        &lt;title&gt;Template for reminder to team lead&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n        &lt;p&gt;Hello&lt;span th:text=&quot;${firstNameTeamLead}&quot;&gt;&lt;/span&gt; &lt;span th:text=&quot;${lastNameTeamLead}&quot;&gt;!&lt;/span&gt; &lt;/p&gt;\r\n        &lt;p&gt;&lt;/span&gt; &lt;span th:text=&quot;${member}&quot;&gt; !&lt;/span&gt; did not:\r\n        &lt;span th:text=&quot;${lateSteps}&quot;&gt;&lt;/span&gt;&lt;/p&gt;\r\n    &lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\n```lateStep``` is a java string containing a list some html tags to display this list with bullet points. The things is the html is not read and all I have in my mail is a chunk of content mixed with html tags like this:\r\n\r\n```\r\nHello teamLeadFirstName teamLeadLastName !\r\n\r\nmemberName did not: &lt;br /&gt; &lt;ul&gt;&lt;li&gt; fetch his food today &lt;/li&gt;&lt;li&gt; talk to the blacksmith &lt;/li&gt;&lt;/ul&gt;\r\n```\r\n\r\nAnyone has any idea on how can I make the html tags to be read and taken into account ? Therefore, having this as a result:\r\n\r\n\r\n\r\nHello teamLeadFirstName teamLeadLastName !\r\n\r\nmemberName did not: &lt;br /&gt; \r\n&lt;ul&gt;\r\n&lt;li&gt; fetch his food today &lt;/li&gt;\r\n&lt;li&gt; talk to the blacksmith &lt;/li&gt;\r\n&lt;/ul&gt;\r\n\r\nThank you for reading :D\r\n\r\nEdit: \r\n\r\nI am using two methods to populate the template:\r\n&lt;ul&gt;\r\n&lt;li&gt;the first one is a mapper that will map a variable to its value&lt;/li&gt;\r\n\r\n\r\n    private Map&lt;String, Object&gt; createNotificationTlVariables(Mission mission, String variablesStr) {\r\n        Map&lt;String, Object&gt; variables = new HashMap&lt;&gt;();\r\n        TeamLead teamLead= mission.getTeamLead();\r\n        Member member= mission.getUMember();\r\n\r\n        variables.put(&quot;firstNameTL&quot;, teamLead.getFirstName());\r\n        variables.put(&quot;lastNameTL&quot;, teamLead.getLastName());\r\n        variables.put(&quot;firstNameMember&quot;, member.getFirstName());\r\n        variables.put(&quot;lateSteps&quot;, variablesStr);\r\n        return variables;\r\n    }\r\n\r\n&lt;li&gt; The second one is a method formatting the string in question &lt;/li&gt;\r\n\r\nThere, I just have a list of members and for each of them, I check the late steps of the mission that I had to the variablesStr and divide by html tags\r\n\r\n&lt;/ul&gt;","title":"Mail template from TemplateEngine does not read html tags","body":"<p>I have the following template:</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\n      xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n    &lt;head&gt;\n        &lt;meta charset=&quot;UTF-8&quot;&gt;\n        &lt;title&gt;Template for reminder to team lead&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;p&gt;Hello&lt;span th:text=&quot;${firstNameTeamLead}&quot;&gt;&lt;/span&gt; &lt;span th:text=&quot;${lastNameTeamLead}&quot;&gt;!&lt;/span&gt; &lt;/p&gt;\n        &lt;p&gt;&lt;/span&gt; &lt;span th:text=&quot;${member}&quot;&gt; !&lt;/span&gt; did not:\n        &lt;span th:text=&quot;${lateSteps}&quot;&gt;&lt;/span&gt;&lt;/p&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p><code>lateStep</code> is a java string containing a list some html tags to display this list with bullet points. The things is the html is not read and all I have in my mail is a chunk of content mixed with html tags like this:</p>\n<pre><code>Hello teamLeadFirstName teamLeadLastName !\n\nmemberName did not: &lt;br /&gt; &lt;ul&gt;&lt;li&gt; fetch his food today &lt;/li&gt;&lt;li&gt; talk to the blacksmith &lt;/li&gt;&lt;/ul&gt;\n</code></pre>\n<p>Anyone has any idea on how can I make the html tags to be read and taken into account ? Therefore, having this as a result:</p>\n<p>Hello teamLeadFirstName teamLeadLastName !</p>\n<p>memberName did not: <br /></p>\n<ul>\n<li> fetch his food today </li>\n<li> talk to the blacksmith </li>\n</ul>\n<p>Thank you for reading :D</p>\n<p>Edit:</p>\n<p>I am using two methods to populate the template:</p>\n<ul>\n<li>the first one is a mapper that will map a variable to its value</li>\n<pre><code>private Map&lt;String, Object&gt; createNotificationTlVariables(Mission mission, String variablesStr) {\n    Map&lt;String, Object&gt; variables = new HashMap&lt;&gt;();\n    TeamLead teamLead= mission.getTeamLead();\n    Member member= mission.getUMember();\n\n    variables.put(&quot;firstNameTL&quot;, teamLead.getFirstName());\n    variables.put(&quot;lastNameTL&quot;, teamLead.getLastName());\n    variables.put(&quot;firstNameMember&quot;, member.getFirstName());\n    variables.put(&quot;lateSteps&quot;, variablesStr);\n    return variables;\n}\n</code></pre>\n<li> The second one is a method formatting the string in question </li>\n<p>There, I just have a list of members and for each of them, I check the late steps of the mission that I had to the variablesStr and divide by html tags</p>\n</ul>\n"},{"tags":["java","apache-poi","apache-poi-4"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":2,"creation_date":1680017232,"post_id":75868003,"comment_id":133823087,"body_markdown":"Where do you think to see any rounding issue here? All I see is that the column width is too small to show the formatted numbers. That&#39;s why they are showing `####`. Set a greater column width.","body":"Where do you think to see any rounding issue here? All I see is that the column width is too small to show the formatted numbers. That&#39;s why they are showing <code>####</code>. Set a greater column width."},{"owner":{"account_id":6093438,"reputation":493,"user_id":4755024,"display_name":"Sofiane"},"score":0,"creation_date":1680017524,"post_id":75868003,"comment_id":133823185,"body_markdown":"@AxelRichter absolutly !! Thank you man","body":"@AxelRichter absolutly !! Thank you man"}],"owner":{"account_id":6093438,"reputation":493,"user_id":4755024,"display_name":"Sofiane"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680016128,"creation_date":1680016128,"question_id":75868003,"body_markdown":"When extracting data to Excel from my Java code, i got a Double value to export, I&#39;m doing like this :\r\n\r\n    Cell cell = row.createCell(4);\r\n    cell.setCellValue(rowTotal);\r\n    cell.setCellStyle(style);\r\n\r\nthis is working fine but rounding always my values to the top digit and I don&#39;t want that.\r\n\r\nSo I&#39;m using the formatting standard like this :\r\n\r\n    style.setDataFormat(workbook\r\n                    .getCreationHelper()\r\n                    .createDataFormat()\r\n                    .getFormat(&quot;#.##&quot;));\r\nI tried also ##.##, but both values are giving me this [![this][1]][1] for all the numbers with 2 digits before the coma, like &quot;21,75&quot; or &quot;10,08&quot; and when I go to Excel and just format it like a number it apears !\r\n\r\ncan you help me please ?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Ry42X.png","title":"How to avoid ApachPoi and Excel from rounding my Double values?","body":"<p>When extracting data to Excel from my Java code, i got a Double value to export, I'm doing like this :</p>\n<pre><code>Cell cell = row.createCell(4);\ncell.setCellValue(rowTotal);\ncell.setCellStyle(style);\n</code></pre>\n<p>this is working fine but rounding always my values to the top digit and I don't want that.</p>\n<p>So I'm using the formatting standard like this :</p>\n<pre><code>style.setDataFormat(workbook\n                .getCreationHelper()\n                .createDataFormat()\n                .getFormat(&quot;#.##&quot;));\n</code></pre>\n<p>I tried also ##.##, but both values are giving me this <a href=\"https://i.stack.imgur.com/Ry42X.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ry42X.png\" alt=\"this\" /></a> for all the numbers with 2 digits before the coma, like &quot;21,75&quot; or &quot;10,08&quot; and when I go to Excel and just format it like a number it apears !</p>\n<p>can you help me please ?</p>\n"},{"tags":["java","pdfbox"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1680017635,"post_id":75868001,"comment_id":133823210,"body_markdown":"You say those images are base encoded. Have you tried base64-decoding them before feeding them to PDFBox?","body":"You say those images are base encoded. Have you tried base64-decoding them before feeding them to PDFBox?"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1680018682,"post_id":75868001,"comment_id":133823512,"body_markdown":"Are `headerLogo` and `footerLogo` paths of files containing *base64 img*? Or are they already the base64 encoded images themselves?","body":"Are <code>headerLogo</code> and <code>footerLogo</code> paths of files containing <i>base64 img</i>? Or are they already the base64 encoded images themselves?"},{"owner":{"account_id":25230704,"reputation":19,"user_id":19065902,"display_name":"Ganesh Mandapati"},"score":0,"creation_date":1680021156,"post_id":75868001,"comment_id":133824273,"body_markdown":"@mkl pt.getImg1pathEx()-&gt; It will give me the image url. using that image url i&#39;m creating base64 Image","body":"@mkl pt.getImg1pathEx()-&gt; It will give me the image url. using that image url i&#39;m creating base64 Image"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1680024191,"post_id":75868001,"comment_id":133825090,"body_markdown":"Please post a stack trace and complete error message","body":"Please post a stack trace and complete error message"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1680069955,"post_id":75868001,"comment_id":133832322,"body_markdown":"@Ganesh *&quot; pt.getImg1pathEx()-&gt; It will give me the image url. using that image url i&#39;m creating base64 Image&quot;* - so `getBase64Image` returns a String containing the base64 encoded image? Then the issue is clear, the first String argument of `PDImageXObject.createFromFile` is expected to be a file path, not an image. Also, is there a reason why you base64 encode the images? PDFBox expects unencoded images...","body":"@Ganesh <i>&quot; pt.getImg1pathEx()-&gt; It will give me the image url. using that image url i&#39;m creating base64 Image&quot;</i> - so <code>getBase64Image</code> returns a String containing the base64 encoded image? Then the issue is clear, the first String argument of <code>PDImageXObject.createFromFile</code> is expected to be a file path, not an image. Also, is there a reason why you base64 encode the images? PDFBox expects unencoded images..."}],"owner":{"account_id":25230704,"reputation":19,"user_id":19065902,"display_name":"Ganesh Mandapati"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680016117,"creation_date":1680016117,"question_id":75868001,"body_markdown":"I want to add Header and footer in every page in pdf. I have base64 img of the header and footer. When I try to add them in pdf JPEG type images are giving error. PNG images are working fine\r\n\r\n\r\n\r\n```\r\npublic byte[] getPdf(PrintTemplate pt) throws ApplicationException {\r\n        byte[] reportByte = null;\r\n        String headerLogo = getBase64Image(pt.getImg1pathEx());\r\n        String footerLogo = getBase64Image(pt.getImg3pathEx());\r\n        try {\r\n            String inputFilePath = &quot;input.pdf&quot;; \r\n            String outputFilePath = &quot;output.pdf&quot;;\r\n\r\n            File file = new File(inputFilePath);\r\n            \r\n            try (PDDocument doc = PDDocument.load(file)) {\r\n                for (int i = 0; i &lt; doc.getNumberOfPages(); i++) {\r\n                    \r\n                    PDPage page = doc.getPage(i);\r\n                    \r\n                    \r\n                    try (PDPageContentStream contents = new PDPageContentStream(doc, page, PDPageContentStream.AppendMode.APPEND, true, true)) {\r\n                        if(pt.getExternal_file_header_add() !=null &amp;&amp; pt.getExternal_file_header_add()){\r\n                           if(headerLogo !=null &amp;&amp; !&quot;&quot;.equals(headerLogo)){\r\n                              PDImageXObject headerImage = PDImageXObject.createFromFile(headerLogo, doc);\r\n                              contents.drawImage(headerImage,pt.getHeader_x_positionEx() , pt.getHeader_y_positionEx());  //header\r\n                           }\r\n                        }\r\n                        if(pt.getExternal_file_footer_add() !=null &amp;&amp; pt.getExternal_file_footer_add()){\r\n                            if(footerLogo !=null &amp;&amp; !&quot;&quot;.equals(footerLogo)){\r\n                               PDImageXObject footerImage = PDImageXObject.createFromFile(footerLogo, doc);\r\n                                contents.drawImage(footerImage, pt.getFooter_x_positionEx(), pt.getFooter_y_positionEx());  //footer\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                doc.save(outputFilePath);\r\n            }\r\n\r\n            reportByte = convertDocToByteArray(outputFilePath);\r\n\r\n        } catch (Exception e) {\r\n           e.printStackTrace();\r\n            throw new ApplicationException(e.getMessage());\r\n        }\r\n\r\n        return reportByte;\r\n    }\r\n","title":"java.lang.IllegalArgumentException: Image type not supported coming for JPEG Images in PDFBox, How to fix this?","body":"<p>I want to add Header and footer in every page in pdf. I have base64 img of the header and footer. When I try to add them in pdf JPEG type images are giving error. PNG images are working fine</p>\n<pre><code>public byte[] getPdf(PrintTemplate pt) throws ApplicationException {\n        byte[] reportByte = null;\n        String headerLogo = getBase64Image(pt.getImg1pathEx());\n        String footerLogo = getBase64Image(pt.getImg3pathEx());\n        try {\n            String inputFilePath = &quot;input.pdf&quot;; \n            String outputFilePath = &quot;output.pdf&quot;;\n\n            File file = new File(inputFilePath);\n            \n            try (PDDocument doc = PDDocument.load(file)) {\n                for (int i = 0; i &lt; doc.getNumberOfPages(); i++) {\n                    \n                    PDPage page = doc.getPage(i);\n                    \n                    \n                    try (PDPageContentStream contents = new PDPageContentStream(doc, page, PDPageContentStream.AppendMode.APPEND, true, true)) {\n                        if(pt.getExternal_file_header_add() !=null &amp;&amp; pt.getExternal_file_header_add()){\n                           if(headerLogo !=null &amp;&amp; !&quot;&quot;.equals(headerLogo)){\n                              PDImageXObject headerImage = PDImageXObject.createFromFile(headerLogo, doc);\n                              contents.drawImage(headerImage,pt.getHeader_x_positionEx() , pt.getHeader_y_positionEx());  //header\n                           }\n                        }\n                        if(pt.getExternal_file_footer_add() !=null &amp;&amp; pt.getExternal_file_footer_add()){\n                            if(footerLogo !=null &amp;&amp; !&quot;&quot;.equals(footerLogo)){\n                               PDImageXObject footerImage = PDImageXObject.createFromFile(footerLogo, doc);\n                                contents.drawImage(footerImage, pt.getFooter_x_positionEx(), pt.getFooter_y_positionEx());  //footer\n                            }\n                        }\n                    }\n                }\n                doc.save(outputFilePath);\n            }\n\n            reportByte = convertDocToByteArray(outputFilePath);\n\n        } catch (Exception e) {\n           e.printStackTrace();\n            throw new ApplicationException(e.getMessage());\n        }\n\n        return reportByte;\n    }\n</code></pre>\n"},{"tags":["java","database","anylogic"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1482330837,"post_id":41265201,"comment_id":69731144,"body_markdown":"Would be useful to see code, I guess. Or, what exactly makes this a Java question is unclear other than the exception message, which is only a software problem that the support team can help you with. Otherwise this belongs on [su]","body":"Would be useful to see code, I guess. Or, what exactly makes this a Java question is unclear other than the exception message, which is only a software problem that the support team can help you with. Otherwise this belongs on <a href=\"https://superuser.com\">Super User</a>"},{"owner":{"account_id":9894034,"reputation":31,"user_id":7326158,"display_name":"Patrick"},"score":0,"creation_date":1482330967,"post_id":41265201,"comment_id":69731235,"body_markdown":"I adde the java tag as Anylogic is based on java and the second screenshot throws some java exeption","body":"I adde the java tag as Anylogic is based on java and the second screenshot throws some java exeption"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1482331615,"post_id":41265201,"comment_id":69731675,"body_markdown":"&quot;some Java exception&quot; isn&#39;t really answerable here. You have a networking issue, that&#39;s all we can tell","body":"&quot;some Java exception&quot; isn&#39;t really answerable here. You have a networking issue, that&#39;s all we can tell"},{"owner":{"account_id":9894034,"reputation":31,"user_id":7326158,"display_name":"Patrick"},"score":0,"creation_date":1482331977,"post_id":41265201,"comment_id":69731922,"body_markdown":"I added a part of the log file, maybe that helps, the only thing I can read from it is that it lost the connection. But the thing is that I don&#39;t understand how I can loose the connection when everyting is local and the same folder as the rest of the model, which works","body":"I added a part of the log file, maybe that helps, the only thing I can read from it is that it lost the connection. But the thing is that I don&#39;t understand how I can loose the connection when everyting is local and the same folder as the rest of the model, which works"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1482332122,"post_id":41265201,"comment_id":69732003,"body_markdown":"The server isn&#39;t running? You connect to the wrong port number? Your firewall or anti virus is otherwise blocking the connection? There&#39;s lots of things to check for that error","body":"The server isn&#39;t running? You connect to the wrong port number? Your firewall or anti virus is otherwise blocking the connection? There&#39;s lots of things to check for that error"},{"owner":{"account_id":8457758,"reputation":711,"user_id":6344452,"display_name":"Gregory  Monahov"},"score":0,"creation_date":1482838547,"post_id":41265201,"comment_id":69890800,"body_markdown":"Patrick, did you try to execute this command in Windows CMD  &quot;telnet localhost 9001&quot;. What are the results? It requires the telnet client to be enabled in Windows 10. Here is instructions: https://www.rootusers.com/how-to-enable-the-telnet-client-in-windows-10/","body":"Patrick, did you try to execute this command in Windows CMD  &quot;telnet localhost 9001&quot;. What are the results? It requires the telnet client to be enabled in Windows 10. Here is instructions: <a href=\"https://www.rootusers.com/how-to-enable-the-telnet-client-in-windows-10/\" rel=\"nofollow noreferrer\">rootusers.com/how-to-enable-the-telnet-client-in-windows-10</a>"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1485115816,"post_id":41265201,"comment_id":70779354,"body_markdown":"Patrick, since this isn&#39;t a forum, you should not update the question to &quot;SOLVED&quot;. You instead can answer below, or tell @TatianaGomzina to give the answer","body":"Patrick, since this isn&#39;t a forum, you should not update the question to &quot;SOLVED&quot;. You instead can answer below, or tell @TatianaGomzina to give the answer"}],"answers":[{"comments":[{"owner":{"account_id":5568488,"reputation":1272,"user_id":4414774,"accept_rate":77,"display_name":"Sjors Hijgenaar"},"score":0,"creation_date":1485788126,"post_id":41795530,"comment_id":71058001,"body_markdown":"Could you explain what you mean with rules?","body":"Could you explain what you mean with rules?"}],"tags":[],"owner":{"account_id":7846489,"reputation":135,"user_id":5931383,"display_name":"wizzwizz2"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1485115230,"creation_date":1485115230,"answer_id":41795530,"question_id":41265201,"body_markdown":"Try deleting all Anylogic relevant rules. This should solve the problem.","title":"Anylogic: Local Database Connection","body":"<p>Try deleting all Anylogic relevant rules. This should solve the problem.</p>\n"},{"comments":[{"owner":{"account_id":5568488,"reputation":1272,"user_id":4414774,"accept_rate":77,"display_name":"Sjors Hijgenaar"},"score":0,"creation_date":1485788123,"post_id":41851880,"comment_id":71057999,"body_markdown":"Could you explain what you mean with rules?","body":"Could you explain what you mean with rules?"}],"tags":[],"owner":{"account_id":5107122,"reputation":274,"user_id":4095052,"display_name":"Tatiana Gomzina"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1485347963,"creation_date":1485347963,"answer_id":41851880,"question_id":41265201,"body_markdown":"According to the result of listening localhost 9001, something blocked the connection between AnyLogic and Server DB. Deleting all rules defined for Anylogic (though all of them were permit) helped.","title":"Anylogic: Local Database Connection","body":"<p>According to the result of listening localhost 9001, something blocked the connection between AnyLogic and Server DB. Deleting all rules defined for Anylogic (though all of them were permit) helped.</p>\n"},{"tags":[],"owner":{"account_id":10004785,"reputation":71,"user_id":7399618,"display_name":"Patrick Kehrli"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1575540359,"creation_date":1575540359,"answer_id":59192645,"question_id":41265201,"body_markdown":"I faced the same problem. I don&#39;t know exactly why it occurred, but something with storing the Model went wrong. But I managed to reconnect with the following procedure:\r\n\r\n 1. Copy the whole folder of the Project and store it somewhere \r\n 2. In the new folder delete the .original.alp-File\r\n 3. Rename the .alp-File\r\n 4. then open the Renamed .alp-File in an text-editor\r\n\r\nIn that file you&#39;ll find something like that:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    *************************************************\r\n    \t         AnyLogic Project File \r\n    *************************************************\t         \r\n    --&gt;\r\n    &lt;AnyLogicWorkspace WorkspaceVersion=&quot;1.9&quot; AnyLogicVersion=&quot;8.5.1.201910011746&quot; AlpVersion=&quot;8.4.9&quot;&gt;\r\n    &lt;Model&gt;\r\n    \t&lt;Id&gt;1570541727194&lt;/Id&gt;\r\n    \t&lt;Name&gt;&lt;![CDATA[20191030-02-SBB-DAT]]&gt;&lt;/Name&gt;\r\n    \t&lt;EngineVersion&gt;6&lt;/EngineVersion&gt;\r\n    \t&lt;JavaPackageName&gt;&lt;![CDATA[_20191008_02_sbb_dat]]&gt;&lt;/JavaPackageName&gt;\r\n    \t&lt;ModelTimeUnit&gt;&lt;![CDATA[Minute]]&gt;&lt;/ModelTimeUnit&gt;\r\n    \t&lt;ActiveObjectClasses&gt;\r\n    \t\t&lt;!--   =========   Active Object Class   ========  --&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nNow find **all Strings in that file** equals to the packageName, in my case:\r\n\r\n_20191008_02_sbb_dat\r\n\r\nand replace it with the name of your .alp file, in mycase:\r\n\r\nsbb_dat. \r\n\r\nIt should look like this:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;AnyLogicWorkspace WorkspaceVersion=&quot;1.9&quot; AnyLogicVersion=&quot;8.5.1.201910011746&quot; AlpVersion=&quot;8.4.9&quot;&gt;\r\n    &lt;Model&gt;\r\n    \t&lt;Id&gt;1570541727194&lt;/Id&gt;\r\n    \t&lt;Name&gt;&lt;![CDATA[SBB-DAT]]&gt;&lt;/Name&gt;\r\n    \t&lt;EngineVersion&gt;6&lt;/EngineVersion&gt;\r\n    \t&lt;JavaPackageName&gt;&lt;![CDATA[sbb_dat]]&gt;&lt;/JavaPackageName&gt;\r\n    \t&lt;ModelTimeUnit&gt;&lt;![CDATA[Minute]]&gt;&lt;/ModelTimeUnit&gt;\r\n    \t&lt;ActiveObjectClasses&gt;\r\n    \t\t&lt;!--   =========   Active Object Class   ========  --&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nAfter that store and close the file and open it with AnyLogic. In my case this helped.\r\n","title":"Anylogic: Local Database Connection","body":"<p>I faced the same problem. I don't know exactly why it occurred, but something with storing the Model went wrong. But I managed to reconnect with the following procedure:</p>\n\n<ol>\n<li>Copy the whole folder of the Project and store it somewhere </li>\n<li>In the new folder delete the .original.alp-File</li>\n<li>Rename the .alp-File</li>\n<li>then open the Renamed .alp-File in an text-editor</li>\n</ol>\n\n<p>In that file you'll find something like that:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>*************************************************\r\n\t         AnyLogic Project File \r\n*************************************************\t         \r\n--&gt;\r\n&lt;AnyLogicWorkspace WorkspaceVersion=\"1.9\" AnyLogicVersion=\"8.5.1.201910011746\" AlpVersion=\"8.4.9\"&gt;\r\n&lt;Model&gt;\r\n\t&lt;Id&gt;1570541727194&lt;/Id&gt;\r\n\t&lt;Name&gt;&lt;![CDATA[20191030-02-SBB-DAT]]&gt;&lt;/Name&gt;\r\n\t&lt;EngineVersion&gt;6&lt;/EngineVersion&gt;\r\n\t&lt;JavaPackageName&gt;&lt;![CDATA[_20191008_02_sbb_dat]]&gt;&lt;/JavaPackageName&gt;\r\n\t&lt;ModelTimeUnit&gt;&lt;![CDATA[Minute]]&gt;&lt;/ModelTimeUnit&gt;\r\n\t&lt;ActiveObjectClasses&gt;\r\n\t\t&lt;!--   =========   Active Object Class   ========  --&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Now find <strong>all Strings in that file</strong> equals to the packageName, in my case:</p>\n\n<p>_20191008_02_sbb_dat</p>\n\n<p>and replace it with the name of your .alp file, in mycase:</p>\n\n<p>sbb_dat. </p>\n\n<p>It should look like this:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;AnyLogicWorkspace WorkspaceVersion=\"1.9\" AnyLogicVersion=\"8.5.1.201910011746\" AlpVersion=\"8.4.9\"&gt;\r\n&lt;Model&gt;\r\n\t&lt;Id&gt;1570541727194&lt;/Id&gt;\r\n\t&lt;Name&gt;&lt;![CDATA[SBB-DAT]]&gt;&lt;/Name&gt;\r\n\t&lt;EngineVersion&gt;6&lt;/EngineVersion&gt;\r\n\t&lt;JavaPackageName&gt;&lt;![CDATA[sbb_dat]]&gt;&lt;/JavaPackageName&gt;\r\n\t&lt;ModelTimeUnit&gt;&lt;![CDATA[Minute]]&gt;&lt;/ModelTimeUnit&gt;\r\n\t&lt;ActiveObjectClasses&gt;\r\n\t\t&lt;!--   =========   Active Object Class   ========  --&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>After that store and close the file and open it with AnyLogic. In my case this helped.</p>\n"},{"tags":[],"owner":{"account_id":5904784,"reputation":59,"user_id":4646984,"display_name":"cogijl"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1588272384,"creation_date":1588272384,"answer_id":61530609,"question_id":41265201,"body_markdown":"I have also run into this problem. If you go into the database folder of the model and delete the lock file and the previous database folder it will open without throwing that error. ","title":"Anylogic: Local Database Connection","body":"<p>I have also run into this problem. If you go into the database folder of the model and delete the lock file and the previous database folder it will open without throwing that error. </p>\n"},{"tags":[],"owner":{"account_id":10992270,"reputation":41,"user_id":8075804,"display_name":"juanpablorv"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636692374,"creation_date":1636692374,"answer_id":69938079,"question_id":41265201,"body_markdown":"I just got the same error and solved as follow:\r\n(Inspired on @cogijl answer)\r\n\r\n1. Close the model and Anylogic.\r\n2. Go to the model folder and delete the folder &quot;database&quot;.\r\n3. Open the model. This will generate the error again but with something different: you can now add or delete databases (tables) in the database section.\r\n4. Delete the database with the option &quot;Delete database&quot; in the Database section.\r\n5. Add the tables again with the option &quot;Create or Import table...&quot;\r\n6. Make sure you import the tables using the same names as before, otherwise everything will crash.\r\n7. Done, the model runs again. \r\n\r\nthe only thing you will lose, is the Export setting, but it&#39;s easy to set them again.\r\n\r\nHope this helps others. ","title":"Anylogic: Local Database Connection","body":"<p>I just got the same error and solved as follow:\n(Inspired on @cogijl answer)</p>\n<ol>\n<li>Close the model and Anylogic.</li>\n<li>Go to the model folder and delete the folder &quot;database&quot;.</li>\n<li>Open the model. This will generate the error again but with something different: you can now add or delete databases (tables) in the database section.</li>\n<li>Delete the database with the option &quot;Delete database&quot; in the Database section.</li>\n<li>Add the tables again with the option &quot;Create or Import table...&quot;</li>\n<li>Make sure you import the tables using the same names as before, otherwise everything will crash.</li>\n<li>Done, the model runs again.</li>\n</ol>\n<p>the only thing you will lose, is the Export setting, but it's easy to set them again.</p>\n<p>Hope this helps others.</p>\n"},{"tags":[],"owner":{"account_id":3098174,"reputation":11,"user_id":2622960,"display_name":"postlogist"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680015562,"creation_date":1680015562,"answer_id":75867894,"question_id":41265201,"body_markdown":"\r\nWhen the db connection fails after adding the first table to the model, Id suggest checking if some application isnt using the hsqldb port (9001). You could use Sysinternals [tcpview][1] to check that. In my case, Nvidia broadcast application took the port and broke db connections in all of my models.\r\n\r\nAlso, Anylogic db breaks when something is locking the db files. Id suggest storing the models outside of cloud synced folders, and add antivirus exceptions to exclude the &#39;Models&#39; folder from background scanning.\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/sysinternals/downloads/tcpview","title":"Anylogic: Local Database Connection","body":"<p>When the db connection fails after adding the first table to the model, Id suggest checking if some application isnt using the hsqldb port (9001). You could use Sysinternals <a href=\"https://learn.microsoft.com/en-us/sysinternals/downloads/tcpview\" rel=\"nofollow noreferrer\">tcpview</a> to check that. In my case, Nvidia broadcast application took the port and broke db connections in all of my models.</p>\n<p>Also, Anylogic db breaks when something is locking the db files. Id suggest storing the models outside of cloud synced folders, and add antivirus exceptions to exclude the 'Models' folder from background scanning.</p>\n"}],"owner":{"account_id":9894034,"reputation":31,"user_id":7326158,"display_name":"Patrick"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2961,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":6,"score":2,"last_activity_date":1680015562,"creation_date":1482330723,"question_id":41265201,"body_markdown":"I&#39;m really struggeling here. Anylogic gives me the Database Connection Problem for some days now and the support was not able to help me until now \r\n\r\n![Screenshot1][1]\r\n\r\nWhat I got here is a windows mashine running the latest Win10 with Anylogic 7.3 Professional\r\n\r\nMy Anylogic Model is completely local and runs perfect until I try to add an Database Table. As mentioned above Anylogic asks me reconnect the database each time I try to insert a table. Pressing the Connect button does nothing, but showing the same window again. Pressing cancel shows me the following error message:\r\n\r\n![Screenshot2][2]\r\n\r\nTogether with the Anylogic Support I already tried to disable the Antivirus, send them logs,etc. Nothing helped so far. I already tried to reinstall the whole program including a thourough clean (all .Anylogic Folders, files,...).\r\n\r\nI don&#39;t know anymore what else to do at this point. I hope any of you guys can help out a little.\r\n\r\n\r\n    !ENTRY org.eclipse.ui 4 0 2016-12-21 13:48:02.168\r\n    !MESSAGE Unhandled event loop exception\r\n    !STACK 0\r\n    java.lang.RuntimeException: java.sql.SQLException: Connection timed out\r\n    \tat com.anylogic.objectmodel.commands.database.AbstractDatabaseCommand.execute(Unknown Source)\r\n    \tat com.anylogic.objectmodel.commands.CompoundCommand.execute(Unknown Source)\r\n    \tat com.anylogic.objectmodel.commands.BasicCommandStack.execute(Unknown Source)\r\n    \tat com.anylogic.objectmodel.commands.CommandStack.execute(Unknown Source)\r\n    \tat com.anylogic.properties.widget.WidgetBuilder$86.n(Unknown Source)\r\n    \tat com.anylogic.properties.widget.WidgetBuilder$86.onAdd(Unknown Source)\r\n    \tat com.anylogic.properties.widget.base.list.ListWidget.j(Unknown Source)\r\n    \tat com.anylogic.components.button.ButtonDecorator.a(Unknown Source)\r\n    \tat com.anylogic.components.button.ButtonDecorator.a(Unknown Source)\r\n    \tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84)\r\n    \tat org.eclipse.swt.widgets.Display.sendEvent(Display.java:4353)\r\n    \tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1061)\r\n    \tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:4172)\r\n    \tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3761)\r\n    \tat org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$9.run(PartRenderingEngine.java:1151)\r\n    \tat org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332)\r\n    \tat org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.run(PartRenderingEngine.java:1032)\r\n    \tat org.eclipse.e4.ui.internal.workbench.E4Workbench.createAndRunUI(E4Workbench.java:148)\r\n    \tat org.eclipse.ui.internal.Workbench$5.run(Workbench.java:636)\r\n    \tat org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332)\r\n    \tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:579)\r\n    \tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:150)\r\n    \tat com.anylogic.application.AnyLogicApplication.start(Unknown Source)\r\n    \tat org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:196)\r\n    \tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:134)\r\n    \tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:104)\r\n    \tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:382)\r\n    \tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:236)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:497)\r\n    \tat org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:648)\r\n    \tat org.eclipse.equinox.launcher.Main.basicRun(Main.java:603)\r\n    \tat org.eclipse.equinox.launcher.Main.run(Main.java:1465)\r\n    Caused by: java.sql.SQLException: Connection timed out\r\n    \tat com.anylogic.database.DatabaseManager.getConnection(Unknown Source)\r\n    \tat com.anylogic.database.DatabaseManager.getConnection(Unknown Source)\r\n    \tat com.anylogic.database.DatabaseManager.a(Unknown Source)\r\n    \tat com.anylogic.database.DatabaseManager.createColumn(Unknown Source)\r\n    \tat com.anylogic.database.DatabaseManager.createColumn(Unknown Source)\r\n    \tat com.anylogic.objectmodel.commands.database.CreateColumnCommand.doExecute(Unknown Source)\r\n    \t... 35 more\r\n\r\n  [1]: https://i.stack.imgur.com/bVvRT.png\r\n  [2]: https://i.stack.imgur.com/LAI9r.jpg\r\n","title":"Anylogic: Local Database Connection","body":"<p>I'm really struggeling here. Anylogic gives me the Database Connection Problem for some days now and the support was not able to help me until now </p>\n\n<p><img src=\"https://i.stack.imgur.com/bVvRT.png\" alt=\"Screenshot1\"></p>\n\n<p>What I got here is a windows mashine running the latest Win10 with Anylogic 7.3 Professional</p>\n\n<p>My Anylogic Model is completely local and runs perfect until I try to add an Database Table. As mentioned above Anylogic asks me reconnect the database each time I try to insert a table. Pressing the Connect button does nothing, but showing the same window again. Pressing cancel shows me the following error message:</p>\n\n<p><img src=\"https://i.stack.imgur.com/LAI9r.jpg\" alt=\"Screenshot2\"></p>\n\n<p>Together with the Anylogic Support I already tried to disable the Antivirus, send them logs,etc. Nothing helped so far. I already tried to reinstall the whole program including a thourough clean (all .Anylogic Folders, files,...).</p>\n\n<p>I don't know anymore what else to do at this point. I hope any of you guys can help out a little.</p>\n\n<pre><code>!ENTRY org.eclipse.ui 4 0 2016-12-21 13:48:02.168\n!MESSAGE Unhandled event loop exception\n!STACK 0\njava.lang.RuntimeException: java.sql.SQLException: Connection timed out\n    at com.anylogic.objectmodel.commands.database.AbstractDatabaseCommand.execute(Unknown Source)\n    at com.anylogic.objectmodel.commands.CompoundCommand.execute(Unknown Source)\n    at com.anylogic.objectmodel.commands.BasicCommandStack.execute(Unknown Source)\n    at com.anylogic.objectmodel.commands.CommandStack.execute(Unknown Source)\n    at com.anylogic.properties.widget.WidgetBuilder$86.n(Unknown Source)\n    at com.anylogic.properties.widget.WidgetBuilder$86.onAdd(Unknown Source)\n    at com.anylogic.properties.widget.base.list.ListWidget.j(Unknown Source)\n    at com.anylogic.components.button.ButtonDecorator.a(Unknown Source)\n    at com.anylogic.components.button.ButtonDecorator.a(Unknown Source)\n    at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84)\n    at org.eclipse.swt.widgets.Display.sendEvent(Display.java:4353)\n    at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1061)\n    at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:4172)\n    at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3761)\n    at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$9.run(PartRenderingEngine.java:1151)\n    at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332)\n    at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.run(PartRenderingEngine.java:1032)\n    at org.eclipse.e4.ui.internal.workbench.E4Workbench.createAndRunUI(E4Workbench.java:148)\n    at org.eclipse.ui.internal.Workbench$5.run(Workbench.java:636)\n    at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332)\n    at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:579)\n    at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:150)\n    at com.anylogic.application.AnyLogicApplication.start(Unknown Source)\n    at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:196)\n    at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:134)\n    at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:104)\n    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:382)\n    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:236)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:497)\n    at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:648)\n    at org.eclipse.equinox.launcher.Main.basicRun(Main.java:603)\n    at org.eclipse.equinox.launcher.Main.run(Main.java:1465)\nCaused by: java.sql.SQLException: Connection timed out\n    at com.anylogic.database.DatabaseManager.getConnection(Unknown Source)\n    at com.anylogic.database.DatabaseManager.getConnection(Unknown Source)\n    at com.anylogic.database.DatabaseManager.a(Unknown Source)\n    at com.anylogic.database.DatabaseManager.createColumn(Unknown Source)\n    at com.anylogic.database.DatabaseManager.createColumn(Unknown Source)\n    at com.anylogic.objectmodel.commands.database.CreateColumnCommand.doExecute(Unknown Source)\n    ... 35 more\n</code></pre>\n"},{"tags":["java","variables","local","bytecode","java-bytecode-asm"],"comments":[{"owner":{"account_id":78522,"reputation":31537,"user_id":223429,"display_name":"Eugene Kuleshov"},"score":1,"creation_date":1354048348,"post_id":13589924,"comment_id":18631507,"body_markdown":"The visitLocalVariable call is only needed if you want to generate debug information. Otherwise it can be removed. The exception you posted is from data flow analyzer, which is not looking into debug info.","body":"The visitLocalVariable call is only needed if you want to generate debug information. Otherwise it can be removed. The exception you posted is from data flow analyzer, which is not looking into debug info."},{"owner":{"account_id":50105,"reputation":12861,"user_id":149330,"accept_rate":85,"display_name":"int3"},"score":0,"creation_date":1354049185,"post_id":13589924,"comment_id":18631890,"body_markdown":"Are you passing ClassWriter.COMPUTE_MAXS when constructing your ClassWriter, and / or calling `visitMaxs`? You&#39;ll need to do that to change the maximum size of the local variable table.","body":"Are you passing ClassWriter.COMPUTE_MAXS when constructing your ClassWriter, and / or calling <code>visitMaxs</code>? You&#39;ll need to do that to change the maximum size of the local variable table."},{"owner":{"account_id":171450,"reputation":990,"user_id":398882,"accept_rate":100,"display_name":"J&#233;r&#244;me"},"score":0,"creation_date":1354096684,"post_id":13589924,"comment_id":18647229,"body_markdown":"@EugeneKuleshov : OK I didn&#39;t know that variables declaration are not needed. So, can I assume that if I want to use a local variable I just need the table to be big enough?","body":"@EugeneKuleshov : OK I didn&#39;t know that variables declaration are not needed. So, can I assume that if I want to use a local variable I just need the table to be big enough?"},{"owner":{"account_id":171450,"reputation":990,"user_id":398882,"accept_rate":100,"display_name":"J&#233;r&#244;me"},"score":0,"creation_date":1354096728,"post_id":13589924,"comment_id":18647248,"body_markdown":"@int3 Yes I use COMPUTE_MAXS","body":"@int3 Yes I use COMPUTE_MAXS"},{"owner":{"account_id":78522,"reputation":31537,"user_id":223429,"display_name":"Eugene Kuleshov"},"score":0,"creation_date":1354117215,"post_id":13589924,"comment_id":18657648,"body_markdown":"There isn&#39;t really any &quot;table&quot;. With COMPUTE_MAXS flag ASM will calculate maxVars parameter in visitMax() call automatically. Anyhow, you should provide a complete example sufficient to reproduce your issue.","body":"There isn&#39;t really any &quot;table&quot;. With COMPUTE_MAXS flag ASM will calculate maxVars parameter in visitMax() call automatically. Anyhow, you should provide a complete example sufficient to reproduce your issue."}],"answers":[{"tags":[],"owner":{"account_id":1434324,"reputation":3343,"user_id":1356047,"display_name":"Jonas Berlin"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1360261606,"creation_date":1360261606,"answer_id":14758314,"question_id":13589924,"body_markdown":"One convenient way to create new local variables is to extend LocalVariablesSorter instead of MethodAdapter. Then you can allocate local variables as needed using `newLocal()` without interfering with existing variables. See section 3.3.3 of the _ASM 4.0 A Java bytecode engineering library_ on the [ASM homepage][asm] for details.\r\n\r\n[asm]: http://asm.ow2.org/","title":"How to create a local variable with ASM?","body":"<p>One convenient way to create new local variables is to extend LocalVariablesSorter instead of MethodAdapter. Then you can allocate local variables as needed using <code>newLocal()</code> without interfering with existing variables. See section 3.3.3 of the <em>ASM 4.0 A Java bytecode engineering library</em> on the <a href=\"http://asm.ow2.org/\" rel=\"nofollow\">ASM homepage</a> for details.</p>\n"}],"owner":{"account_id":171450,"reputation":990,"user_id":398882,"accept_rate":100,"display_name":"J&#233;r&#244;me"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5191,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":14758314,"answer_count":1,"score":3,"last_activity_date":1680014633,"creation_date":1354037930,"question_id":13589924,"body_markdown":"I&#39;m trying to patch a class with ASM. I need to add some logic in a function. This logic needs a new local variable. Here is what I&#39;ve done:\r\n\r\n    class CreateHashTableMethodAdapter extends MethodAdapter {\r\n        @Override  \r\n        public void visitMethodInsn(int opcode, String owner,String name, String desc){\r\n            System.out.println(opcode + &quot;/&quot; + owner + &quot;/&quot; + name + &quot;/&quot; + desc);\r\n            \r\n            if(opcode == Opcodes.INVOKESPECIAL &amp;&amp;\r\n                    &quot;javax/naming/InitialContext&quot;.equals(owner) &amp;&amp;\r\n                    &quot;&lt;init&gt;&quot;.equals(name) &amp;&amp;\r\n                    &quot;()V&quot;.equals(desc)){\r\n                \r\n                System.out.println(&quot;In mod&quot;);\r\n                //  83:\tnew\t#436; //class javax/naming/InitialContext\r\n                //  86:\tdup\r\n    \r\n    \r\n                mv.visitMethodInsn(Opcodes.INVOKESPECIAL, &quot;javax/naming/InitialContext&quot;, &quot;&lt;init&gt;&quot;, &quot;()V&quot;);\r\n                mv.visitVarInsn(Opcodes.ASTORE, 1);\r\n    \r\n                Label start_patch = new Label();\r\n                Label end_patch = new Label();\r\n    \r\n                mv.visitLabel(start_patch);\r\n    \r\n\r\n                \r\n                mv.visitTypeInsn(Opcodes.NEW,&quot;java/util/Hashtable&quot;);\r\n                mv.visitInsn(Opcodes.DUP);\r\n                mv.visitMethodInsn(Opcodes.INVOKESPECIAL, &quot;java/util/Hashtable&quot;, &quot;&lt;init&gt;&quot;, &quot;()V&quot;);  \r\n                mv.visitVarInsn(Opcodes.ASTORE,9);\r\n    \r\n                // ........ sNip ..........\r\n       \r\n                mv.visitLabel(end_patch);\r\n                mv.visitLocalVariable(&quot;env&quot;,&quot;Ljava/util/Hashtable;&quot;,null,start_patch,end_patch,9);\r\n    \r\n                //    127:\tastore_1\r\n                \r\n            }\r\n            else {\r\n                mv.visitMethodInsn(opcode, owner, name, desc);\r\n            }\r\n        }\r\n    }\r\n\r\nWhen I run this method adapter against `CheckClassAdapter` it states:\r\n\r\n    org.objectweb.asm.tree.analysis.AnalyzerException: Error at instruction 51: Trying to access an inexistant local variable 9\r\n    .... sNiP ....\r\n    00050 R R . . .  : R R  :     INVOKESPECIAL java/util/Hashtable.&lt;init&gt; ()V\r\n    00051 R R . . .  : R  :     ASTORE 9\r\n\r\nI think I misuse the visitLocalVariable, but I can not find out where I&#39;m supposed to call it.\r\n\r\nWhen I javap generated bytecode (without checking), I get the following local variables table:\r\n\r\n    LocalVariableTable: \r\n    Start  Length  Slot  Name   Signature\r\n    91      40      9    env       Ljava/util/Hashtable;\r\n    0      343      0    this       Lpmu/jms/ServerJMS;\r\n    132      146      1    initialContext       Ljavax/naming/InitialContext;\r\n    153      125      2    topicConnectionFactory       Ljavax/jms/TopicConnectionFactory;\r\n    223      55      3    topic       Ljavax/jms/Topic;\r\n    249      29      4    topicSubscriber       Ljavax/jms/TopicSubscriber;\r\n    279      55      1    ex       Ljava/lang/Exception;\r\n    281      53      2    codeMessage       I\r\n    289      45      3    params       Lpmu/data/Parameters;\r\n    325      9      4    messageError       Ljava/lang/String;\r\nAs you may notice, my variable is here but topmost ?!\r\nAny idea ?","title":"How to create a local variable with ASM?","body":"<p>I'm trying to patch a class with ASM. I need to add some logic in a function. This logic needs a new local variable. Here is what I've done:</p>\n\n<pre><code>class CreateHashTableMethodAdapter extends MethodAdapter {\n    @Override  \n    public void visitMethodInsn(int opcode, String owner,String name, String desc){\n        System.out.println(opcode + \"/\" + owner + \"/\" + name + \"/\" + desc);\n\n        if(opcode == Opcodes.INVOKESPECIAL &amp;&amp;\n                \"javax/naming/InitialContext\".equals(owner) &amp;&amp;\n                \"&lt;init&gt;\".equals(name) &amp;&amp;\n                \"()V\".equals(desc)){\n\n            System.out.println(\"In mod\");\n            //  83: new #436; //class javax/naming/InitialContext\n            //  86: dup\n\n\n            mv.visitMethodInsn(Opcodes.INVOKESPECIAL, \"javax/naming/InitialContext\", \"&lt;init&gt;\", \"()V\");\n            mv.visitVarInsn(Opcodes.ASTORE, 1);\n\n            Label start_patch = new Label();\n            Label end_patch = new Label();\n\n            mv.visitLabel(start_patch);\n\n\n\n            mv.visitTypeInsn(Opcodes.NEW,\"java/util/Hashtable\");\n            mv.visitInsn(Opcodes.DUP);\n            mv.visitMethodInsn(Opcodes.INVOKESPECIAL, \"java/util/Hashtable\", \"&lt;init&gt;\", \"()V\");  \n            mv.visitVarInsn(Opcodes.ASTORE,9);\n\n            // ........ sNip ..........\n\n            mv.visitLabel(end_patch);\n            mv.visitLocalVariable(\"env\",\"Ljava/util/Hashtable;\",null,start_patch,end_patch,9);\n\n            //    127:  astore_1\n\n        }\n        else {\n            mv.visitMethodInsn(opcode, owner, name, desc);\n        }\n    }\n}\n</code></pre>\n\n<p>When I run this method adapter against <code>CheckClassAdapter</code> it states:</p>\n\n<pre><code>org.objectweb.asm.tree.analysis.AnalyzerException: Error at instruction 51: Trying to access an inexistant local variable 9\n.... sNiP ....\n00050 R R . . .  : R R  :     INVOKESPECIAL java/util/Hashtable.&lt;init&gt; ()V\n00051 R R . . .  : R  :     ASTORE 9\n</code></pre>\n\n<p>I think I misuse the visitLocalVariable, but I can not find out where I'm supposed to call it.</p>\n\n<p>When I javap generated bytecode (without checking), I get the following local variables table:</p>\n\n<pre><code>LocalVariableTable: \nStart  Length  Slot  Name   Signature\n91      40      9    env       Ljava/util/Hashtable;\n0      343      0    this       Lpmu/jms/ServerJMS;\n132      146      1    initialContext       Ljavax/naming/InitialContext;\n153      125      2    topicConnectionFactory       Ljavax/jms/TopicConnectionFactory;\n223      55      3    topic       Ljavax/jms/Topic;\n249      29      4    topicSubscriber       Ljavax/jms/TopicSubscriber;\n279      55      1    ex       Ljava/lang/Exception;\n281      53      2    codeMessage       I\n289      45      3    params       Lpmu/data/Parameters;\n325      9      4    messageError       Ljava/lang/String;\n</code></pre>\n\n<p>As you may notice, my variable is here but topmost ?!\nAny idea ?</p>\n"},{"tags":["java","jackson","avro"],"answers":[{"tags":[],"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680010711,"creation_date":1680010711,"answer_id":75867029,"question_id":75866754,"body_markdown":"You are almost there. Just define the type and default value as an union. Like this:\r\n\r\n    {\r\n      &quot;name&quot; : &quot;fieldName&quot;,\r\n      { &quot;type&quot; : [ &quot;null&quot;, &quot;string&quot; ],\r\n        &quot;default&quot; : null\r\n      }\r\n    }","title":"Generate Avro schema file using POJO with default null in Java","body":"<p>You are almost there. Just define the type and default value as an union. Like this:</p>\n<pre><code>{\n  &quot;name&quot; : &quot;fieldName&quot;,\n  { &quot;type&quot; : [ &quot;null&quot;, &quot;string&quot; ],\n    &quot;default&quot; : null\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":17087838,"reputation":58,"user_id":12364598,"display_name":"atan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":244,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680014592,"creation_date":1680009285,"question_id":75866754,"body_markdown":"I&#39;m trying to generate an Avro schema file with POJOs using this [reference][1].\r\n\r\nWith this code I&#39;m able to generate a file but I don&#39;t know how to add a `&quot;default&quot; : null` attribute in each object field.\r\n\r\n    ObjectMapper mapper = new ObjectMapper(new AvroFactory());\r\n    AvroSchemaGenerator gen = new AvroSchemaGenerator();\r\n    mapper.acceptJsonFormatVisitor(SampleObject.class, gen);\r\n    AvroSchema schemaWrapper = gen.getGeneratedSchema();\r\n    \r\n    org.apache.avro.Schema avroSchema = schemaWrapper.getAvroSchema();\r\n    String asJson = avroSchema.toString(true);\r\n    // ... (omitted) save string to .avsc file\r\n\r\nFor a POJO field, what I generated is this:\r\n\r\n    ...\r\n    {\r\n      &quot;name&quot; : &quot;fieldName&quot;,\r\n      &quot;type&quot; : [ &quot;null&quot;, &quot;string&quot; ]\r\n    },...\r\n\r\n\r\nBut what I want to generate for all fields is something like this:\r\n\r\n    ...\r\n    {\r\n      &quot;name&quot; : &quot;fieldName&quot;,\r\n      &quot;type&quot; : [ &quot;null&quot;, &quot;string&quot; ],\r\n      &quot;default&quot; : null\r\n    },...\r\n\r\nHow can I add `&quot;default&quot; : null` in all the generated fields when generating the schema using a POJO? What I have are the POJO classes and I want to convert them into Avro schema files.\r\n\r\n\r\n  [1]: https://github.com/FasterXML/jackson-dataformats-binary/tree/master/avro","title":"Generate Avro schema file using POJO with default null in Java","body":"<p>I'm trying to generate an Avro schema file with POJOs using this <a href=\"https://github.com/FasterXML/jackson-dataformats-binary/tree/master/avro\" rel=\"nofollow noreferrer\">reference</a>.</p>\n<p>With this code I'm able to generate a file but I don't know how to add a <code>&quot;default&quot; : null</code> attribute in each object field.</p>\n<pre><code>ObjectMapper mapper = new ObjectMapper(new AvroFactory());\nAvroSchemaGenerator gen = new AvroSchemaGenerator();\nmapper.acceptJsonFormatVisitor(SampleObject.class, gen);\nAvroSchema schemaWrapper = gen.getGeneratedSchema();\n\norg.apache.avro.Schema avroSchema = schemaWrapper.getAvroSchema();\nString asJson = avroSchema.toString(true);\n// ... (omitted) save string to .avsc file\n</code></pre>\n<p>For a POJO field, what I generated is this:</p>\n<pre><code>...\n{\n  &quot;name&quot; : &quot;fieldName&quot;,\n  &quot;type&quot; : [ &quot;null&quot;, &quot;string&quot; ]\n},...\n</code></pre>\n<p>But what I want to generate for all fields is something like this:</p>\n<pre><code>...\n{\n  &quot;name&quot; : &quot;fieldName&quot;,\n  &quot;type&quot; : [ &quot;null&quot;, &quot;string&quot; ],\n  &quot;default&quot; : null\n},...\n</code></pre>\n<p>How can I add <code>&quot;default&quot; : null</code> in all the generated fields when generating the schema using a POJO? What I have are the POJO classes and I want to convert them into Avro schema files.</p>\n"},{"tags":["java","cassandra","apache-beam"],"comments":[{"owner":{"account_id":14798284,"reputation":1363,"user_id":10687325,"display_name":"Alexey Romanenko"},"score":0,"creation_date":1679390850,"post_id":75797946,"comment_id":133708951,"body_markdown":"Can you use &quot;withQuery(String)&quot; (https://beam.apache.org/releases/javadoc/current/org/apache/beam/sdk/io/cassandra/CassandraIO.Read.html#withQuery-java.lang.String-) for that? In this case, you can add &quot;LIMIT N&quot; to your CQL","body":"Can you use &quot;withQuery(String)&quot; (<a href=\"https://beam.apache.org/releases/javadoc/current/org/apache/beam/sdk/io/cassandra/CassandraIO.Read.html#withQuery-java.lang.String-\" rel=\"nofollow noreferrer\">beam.apache.org/releases/javadoc/current/org/apache/beam/sd&zwnj;&#8203;k/io/&hellip;</a>) for that? In this case, you can add &quot;LIMIT N&quot; to your CQL"},{"owner":{"account_id":8954343,"reputation":33,"user_id":6679292,"display_name":"Ashish"},"score":0,"creation_date":1680006404,"post_id":75797946,"comment_id":133819758,"body_markdown":"@AlexeyRomanenko Either reading entire table with read() or read with query, my requirement is to have a condition before reading. e.g. if countRecords &gt; 0 only then I want to read from cassandra if it&#39;s 0 I&#39;ll skip reading from cassandra","body":"@AlexeyRomanenko Either reading entire table with read() or read with query, my requirement is to have a condition before reading. e.g. if countRecords &gt; 0 only then I want to read from cassandra if it&#39;s 0 I&#39;ll skip reading from cassandra"},{"owner":{"account_id":14798284,"reputation":1363,"user_id":10687325,"display_name":"Alexey Romanenko"},"score":0,"creation_date":1680014653,"post_id":75797946,"comment_id":133822256,"body_markdown":"Ok, please, see my answer below.","body":"Ok, please, see my answer below."}],"answers":[{"comments":[{"owner":{"account_id":8954343,"reputation":33,"user_id":6679292,"display_name":"Ashish"},"score":0,"creation_date":1683201053,"post_id":75867708,"comment_id":134331893,"body_markdown":"getting following error with this approach\n`com.datastax.driver.core.exceptions.SyntaxError: line 0:-1 no viable alternative at input &#39;&lt;EOF&gt;&#39;`\n`Caused by: com.datastax.driver.core.exceptions.SyntaxError: line 0:-1 no viable alternative at input &#39;&lt;EOF&gt;&#39;`","body":"getting following error with this approach <code>com.datastax.driver.core.exceptions.SyntaxError: line 0:-1 no viable alternative at input &#39;&lt;EOF&gt;&#39;</code> <code>Caused by: com.datastax.driver.core.exceptions.SyntaxError: line 0:-1 no viable alternative at input &#39;&lt;EOF&gt;&#39;</code>"},{"owner":{"account_id":8954343,"reputation":33,"user_id":6679292,"display_name":"Ashish"},"score":1,"creation_date":1683802512,"post_id":75867708,"comment_id":134423857,"body_markdown":"It seems there are some issues with ringRanges which caused invalid cql query and hence above exception. So, I created a custom SplitFn class as it&#39;s inner private in CassandraIO and used it before readAll() same as mentioned in expand() of Read Transform.\n`.apply(ParDo.of(new SplitFn&lt;&gt;()))\n.setCoder(SerializableCoder.of(new TypeDescriptor&lt;Read&lt; CassandraEntity&gt;&gt;() {}))\n.apply(CassandraIO.&lt;CassandraEntity&gt;readAll()`","body":"It seems there are some issues with ringRanges which caused invalid cql query and hence above exception. So, I created a custom SplitFn class as it&#39;s inner private in CassandraIO and used it before readAll() same as mentioned in expand() of Read Transform. <code>.apply(ParDo.of(new SplitFn&lt;&gt;())) .setCoder(SerializableCoder.of(new TypeDescriptor&lt;Read&lt; CassandraEntity&gt;&gt;() {})) .apply(CassandraIO.&lt;CassandraEntity&gt;readAll()</code>"}],"tags":[],"owner":{"account_id":14798284,"reputation":1363,"user_id":10687325,"display_name":"Alexey Romanenko"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680014522,"creation_date":1680014522,"answer_id":75867708,"question_id":75797946,"body_markdown":"You may want to try to do something like this using conditional creating of `CassandraIO.Read` as an input for `CassandraIO.readAll()`:\r\n\r\n```\r\nPCollection&lt;Long&gt; countRecords = dataPCollection.apply(\r\n        &quot;Count&quot;, Count.globally());\r\n\r\nPCollection&lt;Scientist&gt; output =\r\n    countRecords.apply(ParDo.of(new DoFn&lt;Long, CassandraIO.Read&lt;CassandraEntity&gt;&gt;() {\r\n          @ProcessElement\r\n          public void processElement(ProcessContext context) {\r\n            long numRecords = context.element();\r\n            if (numRecords &gt; 0) {\r\n              context.output(CassandraIO.&lt;CassandraEntity&gt;read()\r\n                  .withCassandraConfig(cassandraConfigSpec)\r\n                  .withTable(&quot;data&quot;)\r\n                  .withEntity(CassandraEntity.class)\r\n                  .withCoder(SerializableCoder.of(CassandraEntity.class)));\r\n            }\r\n          }\r\n        }))\r\n        .apply(\r\n            CassandraIO.&lt;CassandraEntity&gt;readAll().withCoder(SerializableCoder.of(CassandraEntity.class)));\r\n```","title":"How to read from Cassandra using Apache Beam with some pre-conditions","body":"<p>You may want to try to do something like this using conditional creating of <code>CassandraIO.Read</code> as an input for <code>CassandraIO.readAll()</code>:</p>\n<pre><code>PCollection&lt;Long&gt; countRecords = dataPCollection.apply(\n        &quot;Count&quot;, Count.globally());\n\nPCollection&lt;Scientist&gt; output =\n    countRecords.apply(ParDo.of(new DoFn&lt;Long, CassandraIO.Read&lt;CassandraEntity&gt;&gt;() {\n          @ProcessElement\n          public void processElement(ProcessContext context) {\n            long numRecords = context.element();\n            if (numRecords &gt; 0) {\n              context.output(CassandraIO.&lt;CassandraEntity&gt;read()\n                  .withCassandraConfig(cassandraConfigSpec)\n                  .withTable(&quot;data&quot;)\n                  .withEntity(CassandraEntity.class)\n                  .withCoder(SerializableCoder.of(CassandraEntity.class)));\n            }\n          }\n        }))\n        .apply(\n            CassandraIO.&lt;CassandraEntity&gt;readAll().withCoder(SerializableCoder.of(CassandraEntity.class)));\n</code></pre>\n"}],"owner":{"account_id":8954343,"reputation":33,"user_id":6679292,"display_name":"Ashish"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75867708,"answer_count":1,"score":0,"last_activity_date":1680014522,"creation_date":1679380443,"question_id":75797946,"body_markdown":"I am reading from a cassandra table using apache beam CassandraIO. I would like to know if there is a way that can help me to put some condition/filter before reading from cassandra. As the table volume will increase in future, it will take significant amount of time to read the whole table.\r\n\r\nI have following PCollection which holds the count of a pCollection and I want this to use as a pre-condition to read from cassandra if count&gt;0\r\n```\r\nPCollection&lt;Long&gt; countRecords = dataPCollection.apply(\r\n        &quot;Count&quot;, Count.globally());\r\n```\r\n\r\nI am reading from cassandra like this. As per CassandraIO.Read it should be always at the root of the pipeline. Is there any workaround for this?\r\n```\r\nPCollection&lt;CassandraEntity&gt; cassandraEntityPCollection = pipeline\r\n        .apply(&quot;Fetching from Cassandra&quot;,\r\n            CassandraIO.&lt;CassandraEntity&gt;read()\r\n                .withCassandraConfig(cassandraConfigSpec)\r\n                .withTable(&quot;data&quot;)\r\n                .withEntity(CassandraEntity.class)\r\n                .withCoder(SerializableCoder.of(CassandraEntity.class)));\r\n```","title":"How to read from Cassandra using Apache Beam with some pre-conditions","body":"<p>I am reading from a cassandra table using apache beam CassandraIO. I would like to know if there is a way that can help me to put some condition/filter before reading from cassandra. As the table volume will increase in future, it will take significant amount of time to read the whole table.</p>\n<p>I have following PCollection which holds the count of a pCollection and I want this to use as a pre-condition to read from cassandra if count&gt;0</p>\n<pre><code>PCollection&lt;Long&gt; countRecords = dataPCollection.apply(\n        &quot;Count&quot;, Count.globally());\n</code></pre>\n<p>I am reading from cassandra like this. As per CassandraIO.Read it should be always at the root of the pipeline. Is there any workaround for this?</p>\n<pre><code>PCollection&lt;CassandraEntity&gt; cassandraEntityPCollection = pipeline\n        .apply(&quot;Fetching from Cassandra&quot;,\n            CassandraIO.&lt;CassandraEntity&gt;read()\n                .withCassandraConfig(cassandraConfigSpec)\n                .withTable(&quot;data&quot;)\n                .withEntity(CassandraEntity.class)\n                .withCoder(SerializableCoder.of(CassandraEntity.class)));\n</code></pre>\n"},{"tags":["java","spring-boot","spring-boot-actuator"],"answers":[{"comments":[{"owner":{"account_id":26263232,"reputation":11,"user_id":19934211,"display_name":"Sean Scott"},"score":0,"creation_date":1680201920,"post_id":75867630,"comment_id":133862484,"body_markdown":"Thanks; while that would in fact fix it, that&#39;s not directly because of passing the `queryParam` to the builder; note that in the original question, I was still able to use `queryParam` passed to a `UriComponentsBuilder`. Rather, building the URL &quot;outside&quot; of the `uri()` call causes the entire string to be considered a tagged metric, which is too many tags.","body":"Thanks; while that would in fact fix it, that&#39;s not directly because of passing the <code>queryParam</code> to the builder; note that in the original question, I was still able to use <code>queryParam</code> passed to a <code>UriComponentsBuilder</code>. Rather, building the URL &quot;outside&quot; of the <code>uri()</code> call causes the entire string to be considered a tagged metric, which is too many tags."}],"tags":[],"owner":{"account_id":13798611,"reputation":37885,"user_id":9959152,"display_name":"Ryuzaki L"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680014017,"creation_date":1680014017,"answer_id":75867630,"question_id":75867318,"body_markdown":"I have seen this warning and i believe it&#39;s because of adding query param `queryParam(&quot;timezone&quot;, &quot;{timezone}&quot;)`. Even though query param is same the url is being created for every request and will be added as `tag` to micrometer metric\r\n\r\nThe alternative solution we followed is creating complete url with place holders for query param&#39;s and path param&#39;s since all of them were know at beginning and not dynamically added \r\n\r\n    String url = users/{userId}/summary?timezone={timezone}\r\n\r\n\r\nAnd then passing the values in `Map`\r\n\r\n    return webClient\r\n        .get()\r\n        .uri(uri, Map.of(&quot;userId&quot;, userId, &quot;timezone&quot;, timezone)))","title":"How should a URL be formatted in a Spring WebClient to avoid maximum number of URI tags?","body":"<p>I have seen this warning and i believe it's because of adding query param <code>queryParam(&quot;timezone&quot;, &quot;{timezone}&quot;)</code>. Even though query param is same the url is being created for every request and will be added as <code>tag</code> to micrometer metric</p>\n<p>The alternative solution we followed is creating complete url with place holders for query param's and path param's since all of them were know at beginning and not dynamically added</p>\n<pre><code>String url = users/{userId}/summary?timezone={timezone}\n</code></pre>\n<p>And then passing the values in <code>Map</code></p>\n<pre><code>return webClient\n    .get()\n    .uri(uri, Map.of(&quot;userId&quot;, userId, &quot;timezone&quot;, timezone)))\n</code></pre>\n"}],"owner":{"account_id":26263232,"reputation":11,"user_id":19934211,"display_name":"Sean Scott"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":584,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680014056,"creation_date":1680012228,"question_id":75867318,"body_markdown":"We are getting a warning in our logs of\r\n\r\n```\r\nReached the maximum number of URI tags for &#39;http.client.requests&#39;. Are you using &#39;uriVariables&#39;\r\n```\r\n\r\nfrom `org.springframework.boot.actuate.autoconfigure.metrics.OnlyOnceLoggingDenyMeterFilter` which indicates we are not formatting our URIs as expected.\r\n\r\nWe were using \r\n\r\n```java\r\n    return webClient\r\n        .get()\r\n        .uri(\r\n            builder -&gt;\r\n                builder\r\n                    .path(&quot;users/{userId}/summary&quot;)\r\n                    .queryParam(&quot;timezone&quot;, &quot;{timezone}&quot;)\r\n                    .build(Map.of(&quot;userId&quot;, userId, &quot;timezone&quot;, timezone)))\r\n```\r\n\r\nand that did not work (led to the above warning). That&#39;s slightly surprising, since that last argument _is_ uriVariables, as the warning recommends using.\r\n\r\nWe then tried\r\n\r\n```java\r\n    String uri = UriComponentsBuilder.fromPath(&quot;users/{userId}/summary&quot;)\r\n        .queryParam(&quot;timezone&quot;, &quot;{timezone}&quot;)\r\n        .toUriString();\r\n    return webClient\r\n        .get()\r\n        .uri(uri, Map.of(&quot;userId&quot;, userId, &quot;timezone&quot;, timezone)))\r\n    }\r\n```\r\n\r\nBut that _also_ doesn&#39;t work, because the brackets around `userId` get encoded, and then userId doesn&#39;t get substituted by the uriVariables.\r\n\r\nWe can fix this by adding a `.build()` ahead of the `.toUriString()` call to turn the builder into `UriComponents` and skip the encoding step, but that&#39;s very error-prone (if someone forgets that line). Further, this still feels hacky, because the `.uri(` call then creates a builder another time, and builds again.\r\n\r\nHow are you supposed to use `uriVariables` in a clean and straightforward way, so that reporting Actuator metrics works well?","title":"How should a URL be formatted in a Spring WebClient to avoid maximum number of URI tags?","body":"<p>We are getting a warning in our logs of</p>\n<pre><code>Reached the maximum number of URI tags for 'http.client.requests'. Are you using 'uriVariables'\n</code></pre>\n<p>from <code>org.springframework.boot.actuate.autoconfigure.metrics.OnlyOnceLoggingDenyMeterFilter</code> which indicates we are not formatting our URIs as expected.</p>\n<p>We were using</p>\n<pre class=\"lang-java prettyprint-override\"><code>    return webClient\n        .get()\n        .uri(\n            builder -&gt;\n                builder\n                    .path(&quot;users/{userId}/summary&quot;)\n                    .queryParam(&quot;timezone&quot;, &quot;{timezone}&quot;)\n                    .build(Map.of(&quot;userId&quot;, userId, &quot;timezone&quot;, timezone)))\n</code></pre>\n<p>and that did not work (led to the above warning). That's slightly surprising, since that last argument <em>is</em> uriVariables, as the warning recommends using.</p>\n<p>We then tried</p>\n<pre class=\"lang-java prettyprint-override\"><code>    String uri = UriComponentsBuilder.fromPath(&quot;users/{userId}/summary&quot;)\n        .queryParam(&quot;timezone&quot;, &quot;{timezone}&quot;)\n        .toUriString();\n    return webClient\n        .get()\n        .uri(uri, Map.of(&quot;userId&quot;, userId, &quot;timezone&quot;, timezone)))\n    }\n</code></pre>\n<p>But that <em>also</em> doesn't work, because the brackets around <code>userId</code> get encoded, and then userId doesn't get substituted by the uriVariables.</p>\n<p>We can fix this by adding a <code>.build()</code> ahead of the <code>.toUriString()</code> call to turn the builder into <code>UriComponents</code> and skip the encoding step, but that's very error-prone (if someone forgets that line). Further, this still feels hacky, because the <code>.uri(</code> call then creates a builder another time, and builds again.</p>\n<p>How are you supposed to use <code>uriVariables</code> in a clean and straightforward way, so that reporting Actuator metrics works well?</p>\n"},{"tags":["java","spring-boot","unit-testing","junit5","spring-boot-test"],"comments":[{"owner":{"account_id":10429553,"reputation":203,"user_id":7689795,"display_name":"Akash tiwari"},"score":0,"creation_date":1680006629,"post_id":75866170,"comment_id":133819818,"body_markdown":"You are mocking findDeviceByid and findbydevice method of your repository but in your service you are using existbyid","body":"You are mocking findDeviceByid and findbydevice method of your repository but in your service you are using existbyid"},{"owner":{"account_id":28147449,"reputation":1,"user_id":21509548,"display_name":"Tomo"},"score":0,"creation_date":1680007617,"post_id":75866170,"comment_id":133820097,"body_markdown":"So I should add \n        when(deviceRepository.existsById(device.getId())).thenReturn(true); to fix this and same for existsByDevice? Is that what you are saying and if so should I then remove whens for findDeviceById and findByDevice? Sorry just started with testing yesterday and kinda find it hard to wrap my head around it.","body":"So I should add          when(deviceRepository.existsById(device.getId())).thenReturn&zwnj;&#8203;(true); to fix this and same for existsByDevice? Is that what you are saying and if so should I then remove whens for findDeviceById and findByDevice? Sorry just started with testing yesterday and kinda find it hard to wrap my head around it."},{"owner":{"account_id":28147449,"reputation":1,"user_id":21509548,"display_name":"Tomo"},"score":0,"creation_date":1680008517,"post_id":75866170,"comment_id":133820395,"body_markdown":"So I added when(deviceRepository.existsById(device.getId())).thenReturn(true);\n        when(stakeLimitRepository.existsByDevice(device)).thenReturn(true); And now it works. So does that mean I need to mock every repository method I used in my code? Because in my Should_CreateStakeL... method or should I say addStakeLimit method I also use existsByDevice yet even when I don&#39;t mock it the test still passes.","body":"So I added when(deviceRepository.existsById(device.getId())).thenReturn&zwnj;&#8203;(true);         when(stakeLimitRepository.existsByDevice(device)).thenReturn&zwnj;&#8203;(true); And now it works. So does that mean I need to mock every repository method I used in my code? Because in my Should_CreateStakeL... method or should I say addStakeLimit method I also use existsByDevice yet even when I don&#39;t mock it the test still passes."},{"owner":{"account_id":28147449,"reputation":1,"user_id":21509548,"display_name":"Tomo"},"score":0,"creation_date":1680014022,"post_id":75866170,"comment_id":133822065,"body_markdown":"@Akashtiwari thank you very much for the help, adding the two missing mocks fixed the issue, the tutorials I was watching didn&#39;t mention I had to mock every repository method used in service method I was testing so I thought I didn&#39;t need to mock the existsById and existsByDevice.","body":"@Akashtiwari thank you very much for the help, adding the two missing mocks fixed the issue, the tutorials I was watching didn&#39;t mention I had to mock every repository method used in service method I was testing so I thought I didn&#39;t need to mock the existsById and existsByDevice."},{"owner":{"account_id":10429553,"reputation":203,"user_id":7689795,"display_name":"Akash tiwari"},"score":0,"creation_date":1680021339,"post_id":75866170,"comment_id":133824323,"body_markdown":"You don&#39;t have to mock every method of the repository. Take an example that your repository is having 10 methods doing various things. Now as this is a common repository so lots of service or methods might be using different methods of this repository. You also have written a method in service class which in turn using only 2 out of 10 methods of this repository, now when you will write junit test you just have to mock those 2 methods. Check your service method of it is using all methods then you have to mock every method. Hope this helps :)","body":"You don&#39;t have to mock every method of the repository. Take an example that your repository is having 10 methods doing various things. Now as this is a common repository so lots of service or methods might be using different methods of this repository. You also have written a method in service class which in turn using only 2 out of 10 methods of this repository, now when you will write junit test you just have to mock those 2 methods. Check your service method of it is using all methods then you have to mock every method. Hope this helps :)"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1680089470,"post_id":75866170,"comment_id":133837065,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"tags":[],"owner":{"account_id":28147449,"reputation":1,"user_id":21509548,"display_name":"Tomo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680013841,"creation_date":1680013841,"answer_id":75867585,"question_id":75866170,"body_markdown":"So just as @Akashtiwari said I wasn&#39;t mocking two methods I was using in service those being existsById and existsByDevice so adding those two mocks fixed the problem. `when(deviceRepository.existsById(device.getId())).thenReturn(true);` and `when(stakeLimitRepository.existsByDevice(device)).thenReturn(true);` fixed the issue.\r\n","title":"Spring boot is throwing my custom exception in my service unit test yet I see no reason why it is doing that","body":"<p>So just as @Akashtiwari said I wasn't mocking two methods I was using in service those being existsById and existsByDevice so adding those two mocks fixed the problem. <code>when(deviceRepository.existsById(device.getId())).thenReturn(true);</code> and <code>when(stakeLimitRepository.existsByDevice(device)).thenReturn(true);</code> fixed the issue.</p>\n"}],"owner":{"account_id":28147449,"reputation":1,"user_id":21509548,"display_name":"Tomo"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75867585,"answer_count":1,"score":0,"last_activity_date":1680013841,"creation_date":1680005923,"question_id":75866170,"body_markdown":"So I have the small app that I am working on it has 3 entities Device, StakeLimit (which has Device Foreign key) and TicketMessage (this one is irrelevant for the problem), and it has couple of services, controllers etc. The problem is in StakeLimitService specifically in StakeLimitServiceTest unit test that I am writing. The problem is in method that I am testing it keeps throwing my custom exception DeviceNotFoundException which is thrown when device by provided id is not found in repository and the problem there is it should not throw exception yet it does. I tried everything to get rid of it including using chatGPT in hope of finding the solution and I only got it to work with one solution which makes no sense to me why it is working yet my original one is not (this I provided at the bottom).  \r\n\r\nThis is my code:\r\nDevice:\r\n\r\n\r\n```\r\n@Data\r\n@Builder\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Entity(name = &quot;Device&quot;)\r\n@Table(name = &quot;devices&quot;)\r\npublic class Device {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.UUID)\r\n    @Column(\r\n            name = &quot;id&quot;,\r\n            updatable = false\r\n    )\r\n    private UUID id;\r\n\r\n    @Column(name = &quot;blocked&quot;)\r\n    private boolean blocked;\r\n\r\n    @Column(name = &quot;restriction_expires&quot;)\r\n    private boolean restrictionExpires;\r\n\r\n    @Column(name = &quot;restriction_expires_at&quot;)\r\n    private LocalDateTime restrictionExpiresAt;\r\n}\r\n```\r\n\r\n\r\n\r\nDeviceRepository:\r\n\r\n\r\n```\r\n@Repository\r\npublic interface DeviceRepository extends JpaRepository&lt;Device, UUID&gt; {\r\n\r\n    Device findDeviceById(UUID id);\r\n}\r\n```\r\n\r\n\r\n\r\nStakeLimit:\r\n\r\n\r\n```\r\n@Data\r\n@Builder\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Entity(name = &quot;StakeLimit&quot;)\r\n@Table(name = &quot;stake_limits&quot;)\r\npublic class StakeLimit {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.UUID)\r\n    @Column(\r\n            name = &quot;id&quot;,\r\n            updatable = false\r\n    )\r\n    private UUID id;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(\r\n            name = &quot;device_id&quot;,\r\n            nullable = false,\r\n            referencedColumnName = &quot;id&quot;,\r\n            foreignKey = @ForeignKey(\r\n                    name = &quot;device_id_fk&quot;\r\n            )\r\n    )\r\n    private Device device;\r\n\r\n    @Column(\r\n            name = &quot;time_duration&quot;,\r\n            nullable = false\r\n    )\r\n    private Integer timeDuration;\r\n\r\n    @Column(\r\n            name = &quot;stake_limit&quot;,\r\n            nullable = false\r\n    )\r\n    private Double stakeLimit;\r\n\r\n    @Column(\r\n            name = &quot;hot_amount_pctg&quot;,\r\n            nullable = false\r\n    )\r\n    private Integer hotAmountPctg;\r\n\r\n    @Column(\r\n            name = &quot;restr_expiry&quot;,\r\n            nullable = false\r\n    )\r\n    private Integer restrExpiry;\r\n}\r\n```\r\n\r\n\r\nStakeLimitRepository:\r\n\r\n\r\n\r\n```\r\npublic interface StakeLimitRepository extends JpaRepository&lt;StakeLimit, UUID&gt; {\r\n\r\n    boolean existsByDevice(Device device);\r\n    StakeLimit findByDevice(Device device);\r\n\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nStakeLimitRequest:\r\n\r\n\r\n\r\n```\r\n@Data\r\n@Builder\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class StakeLimitRequest {\r\n    //Using String instead of UUID because I could not get my custom validation to work\r\n    @NotEmpty(message = &quot;DeviceId field can&#39;t be empty&quot;)\r\n    private String deviceId;\r\n\r\n    @Min(value = 300, message = &quot;Minimum time duration is 5 minutes (300 seconds)&quot;)\r\n    @Max(value = 86400, message = &quot;Maximum time duration is 24 hours (86400 seconds)&quot;)\r\n    private Integer timeDuration;\r\n\r\n    @Min(value = 1, message = &quot;Minimum stake limit is 1&quot;)\r\n    @Max(value = 10000000, message = &quot;Maximum stake limit is 10000000&quot;)\r\n    private Double stakeLimit;\r\n\r\n    @Min(value = 1, message = &quot;Minimum hot amount percentage is 1&quot;)\r\n    @Max(value = 100, message = &quot;Maximum hot amount percentage is 100&quot;)\r\n    private Integer hotAmountPctg;\r\n\r\n    @Min(value = 0, message = &quot;Minimum restriction expiry is 1 minute (60 seconds)&quot; +\r\n            &quot; while maximum is 0 seconds (it never expires)&quot;)\r\n    private Integer restrExpiry;\r\n}\r\n```\r\n\r\n\r\nStakeLimitResponse:\r\n\r\n\r\n\r\n```\r\n@Data\r\n@Builder\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class StakeLimitResponse {\r\n    private Integer timeDuration;\r\n    private Double stakeLimit;\r\n    private Integer hotAmountPctg;\r\n    private Integer restrExpiry;\r\n}\r\n\r\n```\r\n\r\n\r\n\r\nStakeLimitService:\r\n\r\n\r\n```\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class StakeLimitService {\r\n\r\n    private final StakeLimitRepository stakeLimitRepository;\r\n    private final DeviceRepository deviceRepository;\r\n\r\n    public StakeLimitResponse getStakeLimit(String deviceId) {\r\n        //method for checking if provided deviceId is actually UUID (for more info\r\n        //check comments above isUuidValid method)\r\n        UUID deviceUuid = isUuidValid(deviceId);\r\n        //then check if device by that id exists in our devices table\r\n        if (!deviceRepository.existsById(deviceUuid)) {\r\n            //if it does not throw exp\r\n            throw new DeviceNotFoundException(&quot;Device with &quot; + deviceUuid + &quot; id not found&quot;);\r\n        }\r\n        //else check if that device contains stake limits\r\n        if (!stakeLimitRepository.existsByDevice(deviceRepository.findDeviceById(deviceUuid))) {\r\n            //if not throw exp\r\n            throw new StakeLimitNotFoundException(&quot;Stake limit with device &quot; + deviceUuid + &quot; id not found&quot;);\r\n        }\r\n\r\n        //else get device and then get our stake limit using that device\r\n        var device = deviceRepository.findDeviceById(deviceUuid);\r\n        var stakeLimit = stakeLimitRepository.findByDevice(device);\r\n        //and finally build our response and return it to user\r\n        return StakeLimitResponse.builder()\r\n                .timeDuration(stakeLimit.getTimeDuration())\r\n                .stakeLimit(stakeLimit.getStakeLimit())\r\n                .hotAmountPctg(stakeLimit.getHotAmountPctg())\r\n                .restrExpiry(stakeLimit.getRestrExpiry())\r\n                .build();\r\n    }\r\n\r\n    public StakeLimitResponse addStakeLimit(StakeLimitRequest request) {\r\n        //same as above\r\n        UUID deviceId = isUuidValid(request.getDeviceId());\r\n        //Could also make it if deviceId does not exist, create device with that id\r\n        if (!deviceRepository.existsById(deviceId)) {\r\n            throw new DeviceNotFoundException(&quot;Device with &quot; + deviceId + &quot; id not found&quot;);\r\n        }\r\n        if (stakeLimitRepository.existsByDevice(deviceRepository.findDeviceById(deviceId))) {\r\n            throw new DeviceAlreadyExistsException(\r\n                    &quot;Stake limit with device &quot; + deviceId + &quot; id already exists&quot;\r\n            );\r\n        }\r\n        var device = deviceRepository.findDeviceById(deviceId);\r\n        //when all checks are completed we finally check if restriction is set to\r\n        //expire or not and set it to our device and save it to our db again\r\n        device.setRestrictionExpires(request.getRestrExpiry() != 0);\r\n        deviceRepository.save(device);\r\n\r\n        //then we build our stake limit and save it to db\r\n        var stakeLimit = StakeLimit.builder()\r\n                .device(device)\r\n                .timeDuration(request.getTimeDuration())\r\n                .stakeLimit(request.getStakeLimit())\r\n                .hotAmountPctg(request.getHotAmountPctg())\r\n                .restrExpiry(request.getRestrExpiry())\r\n                .build();\r\n        stakeLimitRepository.save(stakeLimit);\r\n\r\n        //finally build our response and return it\r\n        return StakeLimitResponse.builder()\r\n                .timeDuration(stakeLimit.getTimeDuration())\r\n                .stakeLimit(stakeLimit.getStakeLimit())\r\n                .hotAmountPctg(stakeLimit.getHotAmountPctg())\r\n                .restrExpiry(stakeLimit.getRestrExpiry())\r\n                .build();\r\n    }\r\n\r\n    @Transactional\r\n    public StakeLimitResponse changeStakeLimit(\r\n            String deviceId,\r\n            Integer timeDuration,\r\n            Double stakeLimit,\r\n            Integer hotAmountPctg,\r\n            Integer restrExpiry\r\n    ) {\r\n        //same checks as the above\r\n        UUID deviceUuid = isUuidValid(deviceId);\r\n        if (!deviceRepository.existsById(deviceUuid)) {\r\n            throw new DeviceNotFoundException(&quot;Device with &quot; + deviceUuid + &quot; id not found&quot;);\r\n        }\r\n        if (!stakeLimitRepository.existsByDevice(deviceRepository.findDeviceById(deviceUuid))) {\r\n            throw new StakeLimitNotFoundException(&quot;Stake limit for device with id &quot; + deviceUuid + &quot; not found&quot;);\r\n        }\r\n        var device = deviceRepository.findDeviceById(deviceUuid);\r\n        var stakeLimitDB = stakeLimitRepository.findByDevice(device);\r\n\r\n        //then we check which fields user actually sent (decided to change) and change them\r\n        if (timeDuration != null &amp;&amp; !timeDuration.equals(stakeLimitDB.getTimeDuration())) {\r\n            stakeLimitDB.setTimeDuration(timeDuration);\r\n        }\r\n        if (stakeLimit != null &amp;&amp; !stakeLimit.equals(stakeLimitDB.getStakeLimit())) {\r\n            stakeLimitDB.setStakeLimit(stakeLimit);\r\n        }\r\n        if (hotAmountPctg != null &amp;&amp; !hotAmountPctg.equals(stakeLimitDB.getHotAmountPctg())) {\r\n            stakeLimitDB.setHotAmountPctg(hotAmountPctg);\r\n        }\r\n        if (restrExpiry != null &amp;&amp; !restrExpiry.equals(stakeLimitDB.getRestrExpiry())) {\r\n            device.setRestrictionExpires(restrExpiry != 0);\r\n            deviceRepository.save(device);\r\n            stakeLimitDB.setRestrExpiry(restrExpiry);\r\n        }\r\n        stakeLimitRepository.save(stakeLimitDB);\r\n\r\n        return StakeLimitResponse.builder()\r\n                .timeDuration(stakeLimitDB.getTimeDuration())\r\n                .stakeLimit(stakeLimitDB.getStakeLimit())\r\n                .hotAmountPctg(stakeLimitDB.getHotAmountPctg())\r\n                .restrExpiry(stakeLimitDB.getRestrExpiry())\r\n                .build();\r\n    }\r\n\r\n    //method used for checking if provided UUID is correct\r\n    //because I could not get custom validation to work properly I switched all requests\r\n    //to take String instead of pure UUID, and then i check if that String matches\r\n    //UUID pattern, if it does not match pattern throw custom exception else\r\n    //transform provided String into actual UUID\r\n    private UUID isUuidValid(String uuid) {\r\n        final String uuid_pattern = &quot;^[0-9A-Fa-f]{8}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{12}$&quot;;\r\n\r\n        if (!uuid.matches(uuid_pattern)) {\r\n            throw new UuidNotValidException(uuid + &quot; UUID not valid&quot;);\r\n        }\r\n\r\n        return UUID.fromString(uuid);\r\n    }\r\n}\r\n```\r\n\r\n\r\nStakeLimitServiceTest:\r\n\r\n\r\n```\r\n@ExtendWith(MockitoExtension.class)\r\nclass StakeLimitServiceTest {\r\n\r\n    @Mock\r\n    private StakeLimitRepository stakeLimitRepository;\r\n\r\n    @Mock\r\n    private DeviceRepository deviceRepository;\r\n\r\n    @InjectMocks\r\n    private StakeLimitService stakeLimitService;\r\n\r\n    private StakeLimit stakeLimit;\r\n    private StakeLimitRequest stakeLimitRequest;\r\n    private StakeLimitResponse stakeLimitResponse;\r\n    private Device device;\r\n\r\n    @BeforeEach\r\n    void setUp() {\r\n        device = Device.builder().id(UUID.fromString(&quot;799de2ee-13c2-40a1-8230-d7318de97925&quot;)).build();\r\n        stakeLimit = StakeLimit.builder()\r\n                .device(device)\r\n                .timeDuration(1800)\r\n                .stakeLimit(999.0)\r\n                .hotAmountPctg(80)\r\n                .restrExpiry(300)\r\n                .build();\r\n        stakeLimitRequest = StakeLimitRequest.builder()\r\n                .deviceId(device.getId().toString())\r\n                .timeDuration(1800)\r\n                .stakeLimit(999.0)\r\n                .hotAmountPctg(80)\r\n                .restrExpiry(300)\r\n                .build();\r\n        stakeLimitResponse = StakeLimitResponse.builder()\r\n                .timeDuration(1800)\r\n                .stakeLimit(999.0)\r\n                .hotAmountPctg(80)\r\n                .restrExpiry(300)\r\n                .build();\r\n    }\r\n\r\n    @Test\r\n    void Should_ReturnStakeLimitResponse_When_GetStakeLimit() {\r\n        // when\r\n        when(deviceRepository.findDeviceById(device.getId())).thenReturn(device);\r\n        when(stakeLimitRepository.findByDevice(device)).thenReturn(stakeLimit);\r\n\r\n        StakeLimitResponse response = stakeLimitService.getStakeLimit(device.getId().toString());\r\n\r\n        // then\r\n        assertThat(response).isNotNull();\r\n        verify(deviceRepository).findDeviceById(any());\r\n        verify(stakeLimitRepository).findByDevice(any());\r\n    }\r\n\r\n    @Disabled\r\n    @Test\r\n    void Should_CreateStakeLimitAndReturnStakeLimitResponse_When_AddStakeLimit() {\r\n        // given\r\n        stakeLimitRequest.setDeviceId(device.getId().toString());\r\n        // when\r\n        when(deviceRepository.findDeviceById(device.getId())).thenReturn(device);\r\n        when(stakeLimitRepository.save(any(StakeLimit.class))).thenReturn(stakeLimit);\r\n\r\n        StakeLimitResponse savedStakeLimit = stakeLimitService.addStakeLimit(stakeLimitRequest);\r\n\r\n        // then\r\n        assertThat(savedStakeLimit).isNotNull();\r\n        verify(deviceRepository).findDeviceById(any());\r\n        verify(stakeLimitRepository).save(any());\r\n    }\r\n\r\n    @Disabled\r\n    @Test\r\n    void Should_ChangeStakeLimitAndReturnStakeLimitResponse_When_ChangeStakeLimit() {\r\n    }\r\n}\r\n```\r\n\r\nAlso for some reason when I just try to create new device\r\n`Device device = new Device()`\r\nmy device has null for id rather than auto generating UUID and that is also why I am building the device myself and passing it UUID.\r\n\r\n\r\nThe only thing that worked is when I switched\r\n\r\n\r\n```\r\nUUID deviceUuid = isUuidValid(deviceId);\r\n        if (!deviceRepository.existsById(deviceUuid)) {\r\n            throw new DeviceNotFoundException(&quot;Device with &quot; + deviceUuid + &quot; id not found&quot;);\r\n        }\r\n        if (!stakeLimitRepository.existsByDevice(deviceRepository.findDeviceById(deviceUuid))) {\r\n            throw new StakeLimitNotFoundException(&quot;Stake limit with device &quot; + deviceUuid + &quot; id not found&quot;);\r\n        }\r\n\r\n        var device = deviceRepository.findDeviceById(deviceUuid);\r\n        var stakeLimit = stakeLimitRepository.findByDevice(device);\r\n```\r\n\r\n\r\nFor\r\n\r\n\r\n```\r\nDevice device = deviceRepository.findDeviceById(deviceId);\r\n        UUID deviceUuid = isUuidValid(deviceId);\r\n        Device device = deviceRepository.findDeviceById(deviceUuid);\r\n        if (device == null) {\r\n            throw new DeviceNotFoundException(&quot;Device with &quot; + deviceUuid + &quot; id not found&quot;);\r\n        }\r\n\r\n        StakeLimit stakeLimit = stakeLimitRepository.findByDevice(device);\r\n        if (stakeLimit == null) {\r\n            throw new StakeLimitNotFoundException(&quot;Stake limit not found for device &quot; + deviceUuid);\r\n        }\r\n```\r\n\r\n\r\nwhich chatGPT suggested and I have no clue why that solution works yet mine does not when they basically do the same thing.\r\n","title":"Spring boot is throwing my custom exception in my service unit test yet I see no reason why it is doing that","body":"<p>So I have the small app that I am working on it has 3 entities Device, StakeLimit (which has Device Foreign key) and TicketMessage (this one is irrelevant for the problem), and it has couple of services, controllers etc. The problem is in StakeLimitService specifically in StakeLimitServiceTest unit test that I am writing. The problem is in method that I am testing it keeps throwing my custom exception DeviceNotFoundException which is thrown when device by provided id is not found in repository and the problem there is it should not throw exception yet it does. I tried everything to get rid of it including using chatGPT in hope of finding the solution and I only got it to work with one solution which makes no sense to me why it is working yet my original one is not (this I provided at the bottom).</p>\n<p>This is my code:\nDevice:</p>\n<pre><code>@Data\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity(name = &quot;Device&quot;)\n@Table(name = &quot;devices&quot;)\npublic class Device {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.UUID)\n    @Column(\n            name = &quot;id&quot;,\n            updatable = false\n    )\n    private UUID id;\n\n    @Column(name = &quot;blocked&quot;)\n    private boolean blocked;\n\n    @Column(name = &quot;restriction_expires&quot;)\n    private boolean restrictionExpires;\n\n    @Column(name = &quot;restriction_expires_at&quot;)\n    private LocalDateTime restrictionExpiresAt;\n}\n</code></pre>\n<p>DeviceRepository:</p>\n<pre><code>@Repository\npublic interface DeviceRepository extends JpaRepository&lt;Device, UUID&gt; {\n\n    Device findDeviceById(UUID id);\n}\n</code></pre>\n<p>StakeLimit:</p>\n<pre><code>@Data\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity(name = &quot;StakeLimit&quot;)\n@Table(name = &quot;stake_limits&quot;)\npublic class StakeLimit {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.UUID)\n    @Column(\n            name = &quot;id&quot;,\n            updatable = false\n    )\n    private UUID id;\n\n    @ManyToOne\n    @JoinColumn(\n            name = &quot;device_id&quot;,\n            nullable = false,\n            referencedColumnName = &quot;id&quot;,\n            foreignKey = @ForeignKey(\n                    name = &quot;device_id_fk&quot;\n            )\n    )\n    private Device device;\n\n    @Column(\n            name = &quot;time_duration&quot;,\n            nullable = false\n    )\n    private Integer timeDuration;\n\n    @Column(\n            name = &quot;stake_limit&quot;,\n            nullable = false\n    )\n    private Double stakeLimit;\n\n    @Column(\n            name = &quot;hot_amount_pctg&quot;,\n            nullable = false\n    )\n    private Integer hotAmountPctg;\n\n    @Column(\n            name = &quot;restr_expiry&quot;,\n            nullable = false\n    )\n    private Integer restrExpiry;\n}\n</code></pre>\n<p>StakeLimitRepository:</p>\n<pre><code>public interface StakeLimitRepository extends JpaRepository&lt;StakeLimit, UUID&gt; {\n\n    boolean existsByDevice(Device device);\n    StakeLimit findByDevice(Device device);\n\n}\n</code></pre>\n<p>StakeLimitRequest:</p>\n<pre><code>@Data\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\npublic class StakeLimitRequest {\n    //Using String instead of UUID because I could not get my custom validation to work\n    @NotEmpty(message = &quot;DeviceId field can't be empty&quot;)\n    private String deviceId;\n\n    @Min(value = 300, message = &quot;Minimum time duration is 5 minutes (300 seconds)&quot;)\n    @Max(value = 86400, message = &quot;Maximum time duration is 24 hours (86400 seconds)&quot;)\n    private Integer timeDuration;\n\n    @Min(value = 1, message = &quot;Minimum stake limit is 1&quot;)\n    @Max(value = 10000000, message = &quot;Maximum stake limit is 10000000&quot;)\n    private Double stakeLimit;\n\n    @Min(value = 1, message = &quot;Minimum hot amount percentage is 1&quot;)\n    @Max(value = 100, message = &quot;Maximum hot amount percentage is 100&quot;)\n    private Integer hotAmountPctg;\n\n    @Min(value = 0, message = &quot;Minimum restriction expiry is 1 minute (60 seconds)&quot; +\n            &quot; while maximum is 0 seconds (it never expires)&quot;)\n    private Integer restrExpiry;\n}\n</code></pre>\n<p>StakeLimitResponse:</p>\n<pre><code>@Data\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\npublic class StakeLimitResponse {\n    private Integer timeDuration;\n    private Double stakeLimit;\n    private Integer hotAmountPctg;\n    private Integer restrExpiry;\n}\n\n</code></pre>\n<p>StakeLimitService:</p>\n<pre><code>@Service\n@RequiredArgsConstructor\npublic class StakeLimitService {\n\n    private final StakeLimitRepository stakeLimitRepository;\n    private final DeviceRepository deviceRepository;\n\n    public StakeLimitResponse getStakeLimit(String deviceId) {\n        //method for checking if provided deviceId is actually UUID (for more info\n        //check comments above isUuidValid method)\n        UUID deviceUuid = isUuidValid(deviceId);\n        //then check if device by that id exists in our devices table\n        if (!deviceRepository.existsById(deviceUuid)) {\n            //if it does not throw exp\n            throw new DeviceNotFoundException(&quot;Device with &quot; + deviceUuid + &quot; id not found&quot;);\n        }\n        //else check if that device contains stake limits\n        if (!stakeLimitRepository.existsByDevice(deviceRepository.findDeviceById(deviceUuid))) {\n            //if not throw exp\n            throw new StakeLimitNotFoundException(&quot;Stake limit with device &quot; + deviceUuid + &quot; id not found&quot;);\n        }\n\n        //else get device and then get our stake limit using that device\n        var device = deviceRepository.findDeviceById(deviceUuid);\n        var stakeLimit = stakeLimitRepository.findByDevice(device);\n        //and finally build our response and return it to user\n        return StakeLimitResponse.builder()\n                .timeDuration(stakeLimit.getTimeDuration())\n                .stakeLimit(stakeLimit.getStakeLimit())\n                .hotAmountPctg(stakeLimit.getHotAmountPctg())\n                .restrExpiry(stakeLimit.getRestrExpiry())\n                .build();\n    }\n\n    public StakeLimitResponse addStakeLimit(StakeLimitRequest request) {\n        //same as above\n        UUID deviceId = isUuidValid(request.getDeviceId());\n        //Could also make it if deviceId does not exist, create device with that id\n        if (!deviceRepository.existsById(deviceId)) {\n            throw new DeviceNotFoundException(&quot;Device with &quot; + deviceId + &quot; id not found&quot;);\n        }\n        if (stakeLimitRepository.existsByDevice(deviceRepository.findDeviceById(deviceId))) {\n            throw new DeviceAlreadyExistsException(\n                    &quot;Stake limit with device &quot; + deviceId + &quot; id already exists&quot;\n            );\n        }\n        var device = deviceRepository.findDeviceById(deviceId);\n        //when all checks are completed we finally check if restriction is set to\n        //expire or not and set it to our device and save it to our db again\n        device.setRestrictionExpires(request.getRestrExpiry() != 0);\n        deviceRepository.save(device);\n\n        //then we build our stake limit and save it to db\n        var stakeLimit = StakeLimit.builder()\n                .device(device)\n                .timeDuration(request.getTimeDuration())\n                .stakeLimit(request.getStakeLimit())\n                .hotAmountPctg(request.getHotAmountPctg())\n                .restrExpiry(request.getRestrExpiry())\n                .build();\n        stakeLimitRepository.save(stakeLimit);\n\n        //finally build our response and return it\n        return StakeLimitResponse.builder()\n                .timeDuration(stakeLimit.getTimeDuration())\n                .stakeLimit(stakeLimit.getStakeLimit())\n                .hotAmountPctg(stakeLimit.getHotAmountPctg())\n                .restrExpiry(stakeLimit.getRestrExpiry())\n                .build();\n    }\n\n    @Transactional\n    public StakeLimitResponse changeStakeLimit(\n            String deviceId,\n            Integer timeDuration,\n            Double stakeLimit,\n            Integer hotAmountPctg,\n            Integer restrExpiry\n    ) {\n        //same checks as the above\n        UUID deviceUuid = isUuidValid(deviceId);\n        if (!deviceRepository.existsById(deviceUuid)) {\n            throw new DeviceNotFoundException(&quot;Device with &quot; + deviceUuid + &quot; id not found&quot;);\n        }\n        if (!stakeLimitRepository.existsByDevice(deviceRepository.findDeviceById(deviceUuid))) {\n            throw new StakeLimitNotFoundException(&quot;Stake limit for device with id &quot; + deviceUuid + &quot; not found&quot;);\n        }\n        var device = deviceRepository.findDeviceById(deviceUuid);\n        var stakeLimitDB = stakeLimitRepository.findByDevice(device);\n\n        //then we check which fields user actually sent (decided to change) and change them\n        if (timeDuration != null &amp;&amp; !timeDuration.equals(stakeLimitDB.getTimeDuration())) {\n            stakeLimitDB.setTimeDuration(timeDuration);\n        }\n        if (stakeLimit != null &amp;&amp; !stakeLimit.equals(stakeLimitDB.getStakeLimit())) {\n            stakeLimitDB.setStakeLimit(stakeLimit);\n        }\n        if (hotAmountPctg != null &amp;&amp; !hotAmountPctg.equals(stakeLimitDB.getHotAmountPctg())) {\n            stakeLimitDB.setHotAmountPctg(hotAmountPctg);\n        }\n        if (restrExpiry != null &amp;&amp; !restrExpiry.equals(stakeLimitDB.getRestrExpiry())) {\n            device.setRestrictionExpires(restrExpiry != 0);\n            deviceRepository.save(device);\n            stakeLimitDB.setRestrExpiry(restrExpiry);\n        }\n        stakeLimitRepository.save(stakeLimitDB);\n\n        return StakeLimitResponse.builder()\n                .timeDuration(stakeLimitDB.getTimeDuration())\n                .stakeLimit(stakeLimitDB.getStakeLimit())\n                .hotAmountPctg(stakeLimitDB.getHotAmountPctg())\n                .restrExpiry(stakeLimitDB.getRestrExpiry())\n                .build();\n    }\n\n    //method used for checking if provided UUID is correct\n    //because I could not get custom validation to work properly I switched all requests\n    //to take String instead of pure UUID, and then i check if that String matches\n    //UUID pattern, if it does not match pattern throw custom exception else\n    //transform provided String into actual UUID\n    private UUID isUuidValid(String uuid) {\n        final String uuid_pattern = &quot;^[0-9A-Fa-f]{8}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{12}$&quot;;\n\n        if (!uuid.matches(uuid_pattern)) {\n            throw new UuidNotValidException(uuid + &quot; UUID not valid&quot;);\n        }\n\n        return UUID.fromString(uuid);\n    }\n}\n</code></pre>\n<p>StakeLimitServiceTest:</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\nclass StakeLimitServiceTest {\n\n    @Mock\n    private StakeLimitRepository stakeLimitRepository;\n\n    @Mock\n    private DeviceRepository deviceRepository;\n\n    @InjectMocks\n    private StakeLimitService stakeLimitService;\n\n    private StakeLimit stakeLimit;\n    private StakeLimitRequest stakeLimitRequest;\n    private StakeLimitResponse stakeLimitResponse;\n    private Device device;\n\n    @BeforeEach\n    void setUp() {\n        device = Device.builder().id(UUID.fromString(&quot;799de2ee-13c2-40a1-8230-d7318de97925&quot;)).build();\n        stakeLimit = StakeLimit.builder()\n                .device(device)\n                .timeDuration(1800)\n                .stakeLimit(999.0)\n                .hotAmountPctg(80)\n                .restrExpiry(300)\n                .build();\n        stakeLimitRequest = StakeLimitRequest.builder()\n                .deviceId(device.getId().toString())\n                .timeDuration(1800)\n                .stakeLimit(999.0)\n                .hotAmountPctg(80)\n                .restrExpiry(300)\n                .build();\n        stakeLimitResponse = StakeLimitResponse.builder()\n                .timeDuration(1800)\n                .stakeLimit(999.0)\n                .hotAmountPctg(80)\n                .restrExpiry(300)\n                .build();\n    }\n\n    @Test\n    void Should_ReturnStakeLimitResponse_When_GetStakeLimit() {\n        // when\n        when(deviceRepository.findDeviceById(device.getId())).thenReturn(device);\n        when(stakeLimitRepository.findByDevice(device)).thenReturn(stakeLimit);\n\n        StakeLimitResponse response = stakeLimitService.getStakeLimit(device.getId().toString());\n\n        // then\n        assertThat(response).isNotNull();\n        verify(deviceRepository).findDeviceById(any());\n        verify(stakeLimitRepository).findByDevice(any());\n    }\n\n    @Disabled\n    @Test\n    void Should_CreateStakeLimitAndReturnStakeLimitResponse_When_AddStakeLimit() {\n        // given\n        stakeLimitRequest.setDeviceId(device.getId().toString());\n        // when\n        when(deviceRepository.findDeviceById(device.getId())).thenReturn(device);\n        when(stakeLimitRepository.save(any(StakeLimit.class))).thenReturn(stakeLimit);\n\n        StakeLimitResponse savedStakeLimit = stakeLimitService.addStakeLimit(stakeLimitRequest);\n\n        // then\n        assertThat(savedStakeLimit).isNotNull();\n        verify(deviceRepository).findDeviceById(any());\n        verify(stakeLimitRepository).save(any());\n    }\n\n    @Disabled\n    @Test\n    void Should_ChangeStakeLimitAndReturnStakeLimitResponse_When_ChangeStakeLimit() {\n    }\n}\n</code></pre>\n<p>Also for some reason when I just try to create new device\n<code>Device device = new Device()</code>\nmy device has null for id rather than auto generating UUID and that is also why I am building the device myself and passing it UUID.</p>\n<p>The only thing that worked is when I switched</p>\n<pre><code>UUID deviceUuid = isUuidValid(deviceId);\n        if (!deviceRepository.existsById(deviceUuid)) {\n            throw new DeviceNotFoundException(&quot;Device with &quot; + deviceUuid + &quot; id not found&quot;);\n        }\n        if (!stakeLimitRepository.existsByDevice(deviceRepository.findDeviceById(deviceUuid))) {\n            throw new StakeLimitNotFoundException(&quot;Stake limit with device &quot; + deviceUuid + &quot; id not found&quot;);\n        }\n\n        var device = deviceRepository.findDeviceById(deviceUuid);\n        var stakeLimit = stakeLimitRepository.findByDevice(device);\n</code></pre>\n<p>For</p>\n<pre><code>Device device = deviceRepository.findDeviceById(deviceId);\n        UUID deviceUuid = isUuidValid(deviceId);\n        Device device = deviceRepository.findDeviceById(deviceUuid);\n        if (device == null) {\n            throw new DeviceNotFoundException(&quot;Device with &quot; + deviceUuid + &quot; id not found&quot;);\n        }\n\n        StakeLimit stakeLimit = stakeLimitRepository.findByDevice(device);\n        if (stakeLimit == null) {\n            throw new StakeLimitNotFoundException(&quot;Stake limit not found for device &quot; + deviceUuid);\n        }\n</code></pre>\n<p>which chatGPT suggested and I have no clue why that solution works yet mine does not when they basically do the same thing.</p>\n"},{"tags":["java","osgi","eclipse-rcp","processbuilder","equinox"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1535733518,"post_id":52042629,"comment_id":91190187,"body_markdown":"Do you want to read the `feature.xml` files to find out which bundles are required? To resolve the installation dependencies, Eclipse reads the metadata parts of the p2 repositories created from the feature `feature.xml` and more. It sounds like you want to do what the Equinox p2 director does, whose [command line usage is described in the Eclipse help](https://help.eclipse.org/photon/topic/org.eclipse.platform.doc.isv/guide/p2_director.html). Where do the bundles in your case come from (from a directory, Eclipse installation or from a p2 repository)?","body":"Do you want to read the <code>feature.xml</code> files to find out which bundles are required? To resolve the installation dependencies, Eclipse reads the metadata parts of the p2 repositories created from the feature <code>feature.xml</code> and more. It sounds like you want to do what the Equinox p2 director does, whose <a href=\"https://help.eclipse.org/photon/topic/org.eclipse.platform.doc.isv/guide/p2_director.html\" rel=\"nofollow noreferrer\">command line usage is described in the Eclipse help</a>. Where do the bundles in your case come from (from a directory, Eclipse installation or from a p2 repository)?"},{"owner":{"account_id":3108593,"reputation":177,"user_id":2630884,"display_name":"nmorenor"},"score":0,"creation_date":1543600283,"post_id":52042629,"comment_id":93990660,"body_markdown":"I think you can use the `EquinoxFactory.newFramework()` with the configuration data required, like `osgi.install.area` then you can add bundles to that framework, but that will run in the same jvm, don&#39;t remember exactly the name but it is like a CompositeTarget or was called in that way at some point, unfortunately I can&#39;t point to any docs on that.","body":"I think you can use the <code>EquinoxFactory.newFramework()</code> with the configuration data required, like <code>osgi.install.area</code> then you can add bundles to that framework, but that will run in the same jvm, don&#39;t remember exactly the name but it is like a CompositeTarget or was called in that way at some point, unfortunately I can&#39;t point to any docs on that."},{"owner":{"account_id":2247649,"reputation":470,"user_id":1980653,"display_name":"Hannes Erven"},"score":0,"creation_date":1661805494,"post_id":52042629,"comment_id":129854625,"body_markdown":"`ProcessBuilder.start()` will just execute commands on your system, e.g. you need find a way to launch your processing application as an executable or script on your operating system. As this will be a completely new process, it does not really matter whether the invoking program is OSGi or something else.","body":"<code>ProcessBuilder.start()</code> will just execute commands on your system, e.g. you need find a way to launch your processing application as an executable or script on your operating system. As this will be a completely new process, it does not really matter whether the invoking program is OSGi or something else."},{"owner":{"account_id":7403799,"reputation":135,"user_id":8132767,"accept_rate":80,"display_name":"old_dd"},"score":0,"creation_date":1671590997,"post_id":52042629,"comment_id":132130210,"body_markdown":"This is an old question, but have you looked into the `EquinoxApplication` class provided by `org.eclipse.core.runtime.adaptor.EquinoxApplication`.  It lets you start an OSGi/Equinox container in a separate process and install bundles in the container.","body":"This is an old question, but have you looked into the <code>EquinoxApplication</code> class provided by <code>org.eclipse.core.runtime.adaptor.EquinoxApplication</code>.  It lets you start an OSGi/Equinox container in a separate process and install bundles in the container."}],"answers":[{"tags":[],"owner":{"account_id":28146934,"reputation":1,"user_id":21509108,"display_name":"HALL BRAHM KARATA"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680013766,"creation_date":1680013766,"answer_id":75867570,"question_id":52042629,"body_markdown":"you can use the Equinox Launcher API.\r\nHere&#39;s an example of how you can use the Equinox Launcher api to launch a new instance of equinox with a set of bundles:\r\n`   \r\n    \r\n    EquinoxLauncher launcher = new EquinoxLauncher();\r\n    String equinoxHome = &quot;/path/to/equinox/home&quot;; \r\n    String[] bundlePaths = { &quot;/path/to/bundle1.jar&quot;, &quot;/path/to/bundle2.jar&quot; }; \r\n    \r\n    EquinoxRunConfiguration runConfig = launcher.newConfiguration();\r\n    runConfig.setWorkingDir(new File(equinoxHome));\r\n    runConfig.setFramework(new File(equinoxHome, &quot;plugins/org.eclipse.osgi.jar&quot;));\r\n    runConfig.addProgramArg(&quot;-console&quot;);\r\n    runConfig.addProgramArg(&quot;-noExit&quot;);\r\n    for (String bundlePath : bundlePaths) {\r\n        runConfig.addBundle(new File(bundlePath).toURI());\r\n    }\r\n    \r\n    EquinoxRunMonitor monitor = launcher.launch(runConfig);\r\n\r\n`","title":"How can I run a subprocess in Equinox with dynamic bundle installation?","body":"<p>you can use the Equinox Launcher API.\nHere's an example of how you can use the Equinox Launcher api to launch a new instance of equinox with a set of bundles:\n`</p>\n<pre><code>EquinoxLauncher launcher = new EquinoxLauncher();\nString equinoxHome = &quot;/path/to/equinox/home&quot;; \nString[] bundlePaths = { &quot;/path/to/bundle1.jar&quot;, &quot;/path/to/bundle2.jar&quot; }; \n\nEquinoxRunConfiguration runConfig = launcher.newConfiguration();\nrunConfig.setWorkingDir(new File(equinoxHome));\nrunConfig.setFramework(new File(equinoxHome, &quot;plugins/org.eclipse.osgi.jar&quot;));\nrunConfig.addProgramArg(&quot;-console&quot;);\nrunConfig.addProgramArg(&quot;-noExit&quot;);\nfor (String bundlePath : bundlePaths) {\n    runConfig.addBundle(new File(bundlePath).toURI());\n}\n\nEquinoxRunMonitor monitor = launcher.launch(runConfig);\n</code></pre>\n<p>`</p>\n"}],"owner":{"account_id":6315743,"reputation":1097,"user_id":4905782,"display_name":"mapeters"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":531,"favorite_count":0,"down_vote_count":0,"up_vote_count":42,"answer_count":1,"score":42,"last_activity_date":1680013766,"creation_date":1535384065,"question_id":52042629,"body_markdown":"I have a Java application that runs in OSGi/Equinox. From this application, I need to spawn Java subprocesses (e.g. via `ProcessBuilder.start()`) that run in OSGi/Equinox as well in order to handle class loading correctly. The subprocess will require multiple bundles, so I would ideally like some fairly dynamic way of installing those bundles in the subprocess&#39; Equinox container, such as by reading feature.xml files.\r\n\r\nI have read through program launching [here][1] but I don&#39;t see how Equinox can fit into it. I also looked into doing something like [this][2], but it wouldn&#39;t be very dynamic, especially when the entry-point bundle of the subprocess requires multiple other bundles, which require further bundles, etc.\r\n\r\nSo, how can I spawn a subprocess to run in OSGi/Equinox with a fairly dynamic way of loading bundles into the container?\r\n\r\nNote: I need to use separate processes. The subprocesses will do data processing using a JNA native library that uses global variables (and I can&#39;t modify the native library). So, in order to be able to process different data concurrently, the data processing needs to run in separate processes.\r\n\r\n\r\n  [1]: https://help.eclipse.org/neon/index.jsp?topic=%2Forg.eclipse.platform.doc.isv%2Fguide%2Fdebug.htm\r\n  [2]: https://stackoverflow.com/questions/3601079/run-osgi-bundle-from-command-line","title":"How can I run a subprocess in Equinox with dynamic bundle installation?","body":"<p>I have a Java application that runs in OSGi/Equinox. From this application, I need to spawn Java subprocesses (e.g. via <code>ProcessBuilder.start()</code>) that run in OSGi/Equinox as well in order to handle class loading correctly. The subprocess will require multiple bundles, so I would ideally like some fairly dynamic way of installing those bundles in the subprocess' Equinox container, such as by reading feature.xml files.</p>\n\n<p>I have read through program launching <a href=\"https://help.eclipse.org/neon/index.jsp?topic=%2Forg.eclipse.platform.doc.isv%2Fguide%2Fdebug.htm\" rel=\"noreferrer\">here</a> but I don't see how Equinox can fit into it. I also looked into doing something like <a href=\"https://stackoverflow.com/questions/3601079/run-osgi-bundle-from-command-line\">this</a>, but it wouldn't be very dynamic, especially when the entry-point bundle of the subprocess requires multiple other bundles, which require further bundles, etc.</p>\n\n<p>So, how can I spawn a subprocess to run in OSGi/Equinox with a fairly dynamic way of loading bundles into the container?</p>\n\n<p>Note: I need to use separate processes. The subprocesses will do data processing using a JNA native library that uses global variables (and I can't modify the native library). So, in order to be able to process different data concurrently, the data processing needs to run in separate processes.</p>\n"},{"tags":["java","selenium-webdriver","cucumber","pom.xml"],"comments":[{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":2,"creation_date":1677657174,"post_id":75600567,"comment_id":133378989,"body_markdown":"Can you provide minimal reproducible example for your issue?","body":"Can you provide minimal reproducible example for your issue?"},{"owner":{"account_id":4895787,"reputation":10858,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":1,"creation_date":1677664559,"post_id":75600567,"comment_id":133380838,"body_markdown":"Please don&#39;t use images in your question: https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors","body":"Please don&#39;t use images in your question: <a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors\" title=\"why should i not upload images of code data errors\">meta.stackoverflow.com/questions/285551/&hellip;</a>"}],"owner":{"account_id":23440156,"reputation":21,"user_id":17497769,"display_name":"shrusns49"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1680012411,"creation_date":1677654993,"question_id":75600567,"body_markdown":"In my BDD framework, I have a module runner xml file where I have parallel thread count value = 3 and this module has 13 tcs. But everytime I trigger this module in local, 10 browser instances always opens instead of 3 instances. But in Azure pipeline it works fine according to the thread count given in module runner xml file\r\n\r\nWhen triggered in local 3 browser instances have to open instead of 10. Is there any place where I need to change other than module runner\r\nPlease check the images below:\r\n\r\n\r\n\r\n\r\n\r\n","title":"My cucumber module runner has parallel thread count= 3, but when I try trigger this module 10 browser instances are opened by default always","body":"<p>In my BDD framework, I have a module runner xml file where I have parallel thread count value = 3 and this module has 13 tcs. But everytime I trigger this module in local, 10 browser instances always opens instead of 3 instances. But in Azure pipeline it works fine according to the thread count given in module runner xml file</p>\n<p>When triggered in local 3 browser instances have to open instead of 10. Is there any place where I need to change other than module runner\nPlease check the images below:</p>\n"},{"tags":["java","unit-testing","ide","intellij-idea"],"comments":[{"owner":{"account_id":808171,"reputation":1811,"user_id":911360,"accept_rate":65,"display_name":"sebi"},"score":0,"creation_date":1340426658,"post_id":11166283,"comment_id":14647134,"body_markdown":"Is this test marked red, as in failed, or is it displayed differently?","body":"Is this test marked red, as in failed, or is it displayed differently?"},{"owner":{"account_id":1518504,"reputation":2211,"user_id":1418898,"accept_rate":57,"display_name":"Blueberry"},"score":0,"creation_date":1340456322,"post_id":11166283,"comment_id":14651664,"body_markdown":"Thanks for your reply @sebi.  I have updated the question to include the image.","body":"Thanks for your reply @sebi.  I have updated the question to include the image."},{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1340472205,"post_id":11166283,"comment_id":14654979,"body_markdown":"Looks like a bug, you can submit it at http://youtrack.jetbrains.net/issues/IDEA and attach the sample project with the steps to reproduce.","body":"Looks like a bug, you can submit it at <a href=\"http://youtrack.jetbrains.net/issues/IDEA\" rel=\"nofollow noreferrer\">youtrack.jetbrains.net/issues/IDEA</a> and attach the sample project with the steps to reproduce."},{"owner":{"account_id":1518504,"reputation":2211,"user_id":1418898,"accept_rate":57,"display_name":"Blueberry"},"score":0,"creation_date":1340583745,"post_id":11166283,"comment_id":14673563,"body_markdown":"Thanks @CrazyCoder.  You are right, it does look like a bug.  I cant seem to reproduce a simple sample project to simulate the issue.  Unfortunately, I also can not post my entire project source so in a bit of a pickle.  I will post all the info I can.","body":"Thanks @CrazyCoder.  You are right, it does look like a bug.  I cant seem to reproduce a simple sample project to simulate the issue.  Unfortunately, I also can not post my entire project source so in a bit of a pickle.  I will post all the info I can."},{"owner":{"account_id":428306,"reputation":1151,"user_id":810546,"accept_rate":0,"display_name":"WebComer"},"score":0,"creation_date":1526342316,"post_id":11166283,"comment_id":87697268,"body_markdown":"Same story. &quot;Failed to start: 0 passed, 1 not started&quot;. idea 17.3.4.","body":"Same story. &quot;Failed to start: 0 passed, 1 not started&quot;. idea 17.3.4."}],"answers":[{"comments":[{"owner":{"account_id":3137973,"reputation":7144,"user_id":2654083,"accept_rate":100,"display_name":"ford prefect"},"score":0,"creation_date":1403729349,"post_id":11209868,"comment_id":37776693,"body_markdown":"Any idea if it&#39;s been fixed?","body":"Any idea if it&#39;s been fixed?"},{"owner":{"account_id":4585936,"reputation":810,"user_id":3720611,"accept_rate":92,"display_name":"artis3n"},"score":2,"creation_date":1442600843,"post_id":11209868,"comment_id":53163754,"body_markdown":"If it is a bug, it still exists now. The length that this issue has persisted makes me think that it isn&#39;t a bug","body":"If it is a bug, it still exists now. The length that this issue has persisted makes me think that it isn&#39;t a bug"}],"tags":[],"owner":{"account_id":1518504,"reputation":2211,"user_id":1418898,"accept_rate":57,"display_name":"Blueberry"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1340721791,"creation_date":1340721791,"answer_id":11209868,"question_id":11166283,"body_markdown":"Looks like this may have been a bug on IntelliJ, it has been raised with them.","title":"IntelliJ - Failed to start: 0 passed, 1 not started","body":"<p>Looks like this may have been a bug on IntelliJ, it has been raised with them.</p>\n"},{"comments":[{"owner":{"account_id":3408439,"reputation":1400,"user_id":2858970,"display_name":"FrancescoM"},"score":0,"creation_date":1450796337,"post_id":19677037,"comment_id":56578357,"body_markdown":"Had same issue, \nit was a System.out.printf in some part of the code that was used and called by my test, so be carefull on it.","body":"Had same issue,  it was a System.out.printf in some part of the code that was used and called by my test, so be carefull on it."}],"tags":[],"owner":{"account_id":14232,"reputation":158,"user_id":29106,"display_name":"Bouil"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1591525487,"creation_date":1383121089,"answer_id":19677037,"question_id":11166283,"body_markdown":"I got the same error. It was something weird sent to `System.out` that made IntellJ IDEA test &quot;not started&quot;.","title":"IntelliJ - Failed to start: 0 passed, 1 not started","body":"<p>I got the same error. It was something weird sent to <code>System.out</code> that made IntellJ IDEA test \"not started\".</p>\n"},{"tags":[],"owner":{"account_id":249286,"reputation":1465,"user_id":525240,"accept_rate":42,"display_name":"FinalFive"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1422111311,"creation_date":1422111311,"answer_id":28126784,"question_id":11166283,"body_markdown":"I had this problem (in Android Studio but its a customised IntelliJ) and the reason was WHERE the cursor was when I ran tests using CTRL-SHIFT-F10.\r\n\r\n    @Parameterized.Parameters\r\n    public static Collection data()\r\n\r\nOnce I moved the cursor into a test method or not inside any method, it worked.","title":"IntelliJ - Failed to start: 0 passed, 1 not started","body":"<p>I had this problem (in Android Studio but its a customised IntelliJ) and the reason was WHERE the cursor was when I ran tests using CTRL-SHIFT-F10.</p>\n\n<pre><code>@Parameterized.Parameters\npublic static Collection data()\n</code></pre>\n\n<p>Once I moved the cursor into a test method or not inside any method, it worked.</p>\n"},{"tags":[],"owner":{"account_id":338617,"reputation":5261,"user_id":667586,"accept_rate":47,"display_name":"Abhishek Bedi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1451454276,"creation_date":1451454276,"answer_id":34523617,"question_id":11166283,"body_markdown":"I had the same issue. Whatever be the number of `scenarios`, it was showing 1 extra `scenario` in `NOT STARTED` stage. I was using Scenario Outline to run tests and had commented the rows in the `Example tables`.\r\n\r\nI later found out that **commenting the whole example table** (which I didn&#39;t wanted to run) resolved the issue rather than commenting each row.","title":"IntelliJ - Failed to start: 0 passed, 1 not started","body":"<p>I had the same issue. Whatever be the number of <code>scenarios</code>, it was showing 1 extra <code>scenario</code> in <code>NOT STARTED</code> stage. I was using Scenario Outline to run tests and had commented the rows in the <code>Example tables</code>.</p>\n\n<p>I later found out that <strong>commenting the whole example table</strong> (which I didn't wanted to run) resolved the issue rather than commenting each row.</p>\n"},{"tags":[],"owner":{"account_id":104492,"reputation":4711,"user_id":279355,"accept_rate":50,"display_name":"grundic"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1498482504,"creation_date":1498482504,"answer_id":44760528,"question_id":11166283,"body_markdown":"I&#39;ve created a [ticket][1] for IntelliJ IDEA, you can vote for it if you still encounter this problem.\r\n\r\n\r\n  [1]: https://youtrack.jetbrains.com/issue/IDEA-175006","title":"IntelliJ - Failed to start: 0 passed, 1 not started","body":"<p>I've created a <a href=\"https://youtrack.jetbrains.com/issue/IDEA-175006\" rel=\"nofollow noreferrer\">ticket</a> for IntelliJ IDEA, you can vote for it if you still encounter this problem.</p>\n"},{"tags":[],"owner":{"account_id":9232852,"reputation":1,"user_id":6858393,"display_name":"BottleRocket"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1502444681,"creation_date":1502444681,"answer_id":45631982,"question_id":11166283,"body_markdown":"I had the same issue that cracked me up a little in IntelliJ IDEA 2017.2.1. The test case ran without any recognizable errors or irregularities, but in the end JUnit claimed the case as not started.\r\n\r\nFigured out it was caused by trying to print into a PrintWriter that has already been closed.","title":"IntelliJ - Failed to start: 0 passed, 1 not started","body":"<p>I had the same issue that cracked me up a little in IntelliJ IDEA 2017.2.1. The test case ran without any recognizable errors or irregularities, but in the end JUnit claimed the case as not started.</p>\n\n<p>Figured out it was caused by trying to print into a PrintWriter that has already been closed.</p>\n"},{"tags":[],"owner":{"account_id":14493854,"reputation":859,"user_id":10529573,"display_name":"Mike Menko"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1585900752,"creation_date":1585900752,"answer_id":61007414,"question_id":11166283,"body_markdown":"In my case problem was in pom.\r\nI moved from fulling working application to spring-boot implementation and only imported spring-boot-starter-test in dependency for testing.\r\n\r\nI solved by excluding junit part from spring-boot-starter-test and added junit dependency of latest version in separate block.","title":"IntelliJ - Failed to start: 0 passed, 1 not started","body":"<p>In my case problem was in pom.\nI moved from fulling working application to spring-boot implementation and only imported spring-boot-starter-test in dependency for testing.</p>\n\n<p>I solved by excluding junit part from spring-boot-starter-test and added junit dependency of latest version in separate block.</p>\n"},{"comments":[{"owner":{"account_id":4823943,"reputation":1408,"user_id":3893875,"accept_rate":100,"display_name":"Nox"},"score":3,"creation_date":1612296784,"post_id":64956130,"comment_id":116721572,"body_markdown":"fixed it for me instantly. spent a day trying to figure this out. everything kept telling me to add different items to pom and none of it worked. simply removing the version tag had it all working. This worked a few months ago and randomly stopped. Seems a new dependency fails with certain versions of jupiter","body":"fixed it for me instantly. spent a day trying to figure this out. everything kept telling me to add different items to pom and none of it worked. simply removing the version tag had it all working. This worked a few months ago and randomly stopped. Seems a new dependency fails with certain versions of jupiter"},{"owner":{"account_id":175234,"reputation":4172,"user_id":405117,"accept_rate":74,"display_name":"Vikram"},"score":0,"creation_date":1622474324,"post_id":64956130,"comment_id":119797504,"body_markdown":"I had multiple versions of `junit-jupiter-engine` in my pom that was causing this.","body":"I had multiple versions of <code>junit-jupiter-engine</code> in my pom that was causing this."}],"tags":[],"owner":{"account_id":3349548,"reputation":497,"user_id":2813855,"accept_rate":60,"display_name":"Mohan"},"comment_count":2,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1606059915,"creation_date":1606059915,"answer_id":64956130,"question_id":11166283,"body_markdown":"The issue for me is **Failed to start: 1, passed: 0** . I&#39;m using Spring Boot 2.4.0 with Junit5 to test the Controller Class. I just commented out the version tag in the junit-jupiter-engine dependency. Then it worked. Really strange. It might helpful for someone. ","title":"IntelliJ - Failed to start: 0 passed, 1 not started","body":"<p>The issue for me is <strong>Failed to start: 1, passed: 0</strong> . I'm using Spring Boot 2.4.0 with Junit5 to test the Controller Class. I just commented out the version tag in the junit-jupiter-engine dependency. Then it worked. Really strange. It might helpful for someone.</p>\n"},{"tags":[],"owner":{"account_id":6458850,"reputation":115,"user_id":5003351,"display_name":"&#246;mer.bozkurt"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1620678327,"creation_date":1620678327,"answer_id":67477256,"question_id":11166283,"body_markdown":"In my case I was trying to **mock** a class having a **public static method**. Problem solved when everything is set free from static context. ","title":"IntelliJ - Failed to start: 0 passed, 1 not started","body":"<p>In my case I was trying to <strong>mock</strong> a class having a <strong>public static method</strong>. Problem solved when everything is set free from static context.</p>\n"},{"comments":[{"owner":{"account_id":16027029,"reputation":73,"user_id":11567022,"display_name":"Mirko Manojlovic"},"score":1,"creation_date":1629296359,"post_id":68120695,"comment_id":121649819,"body_markdown":"Oh man I lost 3 hours on this, thank you good sir :)","body":"Oh man I lost 3 hours on this, thank you good sir :)"}],"tags":[],"owner":{"account_id":8670753,"reputation":1558,"user_id":6489768,"display_name":"Seeni"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1624557729,"creation_date":1624557729,"answer_id":68120695,"question_id":11166283,"body_markdown":"Sometimes similar error happens with scala code when you mix sclamock&#39;s `MockFactory` with scalatest&#39;s `AsyncFlatSpec`. \r\n\r\nSo, be sure to use `AsyncMockFactory` like below. \r\n\r\n    class ExampleSpec extends AsyncFlatSpec with AsyncMockFactory","title":"IntelliJ - Failed to start: 0 passed, 1 not started","body":"<p>Sometimes similar error happens with scala code when you mix sclamock's <code>MockFactory</code> with scalatest's <code>AsyncFlatSpec</code>.</p>\n<p>So, be sure to use <code>AsyncMockFactory</code> like below.</p>\n<pre><code>class ExampleSpec extends AsyncFlatSpec with AsyncMockFactory\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2996624,"reputation":758,"user_id":2543055,"accept_rate":83,"display_name":"Simeon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628177908,"creation_date":1628177908,"answer_id":68669592,"question_id":11166283,"body_markdown":"I came along not started tests, when attempting to test code that called `System.exit(1)` . IntelliJ would not start my tests until I removed the exiting behavior like this:\r\n\r\nAt first I replaced all direct lines in the code from\r\n\r\n    System.exit(1)\r\nto\r\n\r\n    onFailure.run();\r\n\r\nwith\r\n\r\n    unnable onFailure = () -&gt; System.exit(1);\r\n\r\nin the code itself. In the Test-Code I replaced the Runnable with a testable mock Runnable\r\n\r\n      Runnable mockOnFailure =\r\n          () -&gt; {\r\n            throw new CustomError(\r\n                &quot;Some descriptive message here.&quot;);\r\n          };\r\n\r\nand than I expected that Error to be thrown like so (using AssertJ for nice assertion statements)\r\n\r\n    import static org.assertj.core.api.Assertions.assertThat;\r\n    import static org.assertj.core.api.Assertions.assertThatExceptionOfType;\r\n\r\n\r\n      assertThatExceptionOfType(CustomError.class).isThrownBy(\r\n          () -&gt; {\r\n            callingCodeThatCallsOnFailure();\r\n          }\r\n      );\r\n\r\nNow the tests are all being startet by the IDE as desired.\r\n\r\nFeel free to reuse that if it is of help to you. I do not claim any ownership or copyright to any of those lines of code.","title":"IntelliJ - Failed to start: 0 passed, 1 not started","body":"<p>I came along not started tests, when attempting to test code that called <code>System.exit(1)</code> . IntelliJ would not start my tests until I removed the exiting behavior like this:</p>\n<p>At first I replaced all direct lines in the code from</p>\n<pre><code>System.exit(1)\n</code></pre>\n<p>to</p>\n<pre><code>onFailure.run();\n</code></pre>\n<p>with</p>\n<pre><code>unnable onFailure = () -&gt; System.exit(1);\n</code></pre>\n<p>in the code itself. In the Test-Code I replaced the Runnable with a testable mock Runnable</p>\n<pre><code>  Runnable mockOnFailure =\n      () -&gt; {\n        throw new CustomError(\n            &quot;Some descriptive message here.&quot;);\n      };\n</code></pre>\n<p>and than I expected that Error to be thrown like so (using AssertJ for nice assertion statements)</p>\n<pre><code>import static org.assertj.core.api.Assertions.assertThat;\nimport static org.assertj.core.api.Assertions.assertThatExceptionOfType;\n\n\n  assertThatExceptionOfType(CustomError.class).isThrownBy(\n      () -&gt; {\n        callingCodeThatCallsOnFailure();\n      }\n  );\n</code></pre>\n<p>Now the tests are all being startet by the IDE as desired.</p>\n<p>Feel free to reuse that if it is of help to you. I do not claim any ownership or copyright to any of those lines of code.</p>\n"},{"tags":[],"owner":{"account_id":2185222,"reputation":3814,"user_id":1933768,"accept_rate":77,"display_name":"JoeMjr2"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680012371,"creation_date":1680012371,"answer_id":75867357,"question_id":11166283,"body_markdown":"In my case, I was mixing AsyncMockFactory with AnyWordSpecLike, which caused all my tests to be silently skipped.  Changing to AsyncWordSpecLike solved it.  \r\n\r\nApparently there&#39;s a fix for this that causes the code to fail to compile if you mix them incorrectly, but it hasn&#39;t made it into a ScalaMock release as of today: \r\n\r\nhttps://github.com/paulbutcher/ScalaMock/pull/451","title":"IntelliJ - Failed to start: 0 passed, 1 not started","body":"<p>In my case, I was mixing AsyncMockFactory with AnyWordSpecLike, which caused all my tests to be silently skipped.  Changing to AsyncWordSpecLike solved it.</p>\n<p>Apparently there's a fix for this that causes the code to fail to compile if you mix them incorrectly, but it hasn't made it into a ScalaMock release as of today:</p>\n<p><a href=\"https://github.com/paulbutcher/ScalaMock/pull/451\" rel=\"nofollow noreferrer\">https://github.com/paulbutcher/ScalaMock/pull/451</a></p>\n"}],"owner":{"account_id":1518504,"reputation":2211,"user_id":1418898,"accept_rate":57,"display_name":"Blueberry"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12236,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":19677037,"answer_count":12,"score":17,"last_activity_date":1680012371,"creation_date":1340418169,"question_id":11166283,"body_markdown":"Just been playing around for the first time with IntelliJ IDEA Community edition, first time I have worked with it so if I&#39;m missing something, please excuse me.\n\nI have a bunch of unit tests which I run, however, when running them in IntelliJ (with the standard setup out of the box), I intermittently get the following error in the console:\n\n&gt;03:14:17 Failed to start: 58 passed, 1 not started\n\nI have searched the web but to no avail.  If I run just the test that failed, it may or may not print out a similar error:\n\n&gt;03:19:54 Failed to start: 0 passed, 1 not started\n\nIf I keep trying, eventually it works and tells me that all of my tests have passed.\n\nThe image is not the error as an exclamation mark, it is a different error icon (![error icon][1]), which I do not recognise.  The error in Event Log window appears as red text.\n\nIt always appears to happen with only one test and it is always the same test for any given set of tests. I.E. In a different project, the same issue also appears, but for a different test (but it&#39;s always the same one in each project or set of tests).\n\nOne more thing to note is that this ONLY happens when debugging and not when running, so it may be something to do with connecting the debugger?\n\nIt all works perfectly fine with Eclipse.\n\nAny ideas what could be causing this?\n\n\n\n\n  [1]: http://i.stack.imgur.com/pN1ti.png","title":"IntelliJ - Failed to start: 0 passed, 1 not started","body":"<p>Just been playing around for the first time with IntelliJ IDEA Community edition, first time I have worked with it so if I'm missing something, please excuse me.</p>\n<p>I have a bunch of unit tests which I run, however, when running them in IntelliJ (with the standard setup out of the box), I intermittently get the following error in the console:</p>\n<blockquote>\n<p>03:14:17 Failed to start: 58 passed, 1 not started</p>\n</blockquote>\n<p>I have searched the web but to no avail.  If I run just the test that failed, it may or may not print out a similar error:</p>\n<blockquote>\n<p>03:19:54 Failed to start: 0 passed, 1 not started</p>\n</blockquote>\n<p>If I keep trying, eventually it works and tells me that all of my tests have passed.</p>\n<p>The image is not the error as an exclamation mark, it is a different error icon (<img src=\"https://i.stack.imgur.com/pN1ti.png\" alt=\"error icon\" />), which I do not recognise.  The error in Event Log window appears as red text.</p>\n<p>It always appears to happen with only one test and it is always the same test for any given set of tests. I.E. In a different project, the same issue also appears, but for a different test (but it's always the same one in each project or set of tests).</p>\n<p>One more thing to note is that this ONLY happens when debugging and not when running, so it may be something to do with connecting the debugger?</p>\n<p>It all works perfectly fine with Eclipse.</p>\n<p>Any ideas what could be causing this?</p>\n"},{"tags":["java","spring","redis","jackson","spring-data-redis"],"comments":[{"owner":{"account_id":17824706,"reputation":137,"user_id":12946201,"display_name":"WhiteCherry"},"score":0,"creation_date":1661714665,"post_id":72931259,"comment_id":129832197,"body_markdown":"Have you figured out how to use it correctly? I&#39;m struggling with the same problem. I&#39;m so frustrated :(","body":"Have you figured out how to use it correctly? I&#39;m struggling with the same problem. I&#39;m so frustrated :("},{"owner":{"account_id":4836407,"reputation":684,"user_id":3902947,"accept_rate":92,"display_name":"After_Sunset"},"score":1,"creation_date":1661870728,"post_id":72931259,"comment_id":129871633,"body_markdown":"I did figure out a solution. I will try to get back to you in the next few days.","body":"I did figure out a solution. I will try to get back to you in the next few days."},{"owner":{"account_id":17824706,"reputation":137,"user_id":12946201,"display_name":"WhiteCherry"},"score":0,"creation_date":1661879138,"post_id":72931259,"comment_id":129874981,"body_markdown":"Fortunately, I was able to solve my problem. My pain point was not setting a default implementation in the `@JsonTypeInfo` on my DTOs. \nBut maybe you could post your solution anyway, I think that would be helpful to others.","body":"Fortunately, I was able to solve my problem. My pain point was not setting a default implementation in the <code>@JsonTypeInfo</code> on my DTOs.  But maybe you could post your solution anyway, I think that would be helpful to others."}],"answers":[{"comments":[{"owner":{"account_id":3386985,"reputation":1096,"user_id":2842750,"display_name":"Pavel Biryukov"},"score":0,"creation_date":1700131750,"post_id":75867309,"comment_id":136618169,"body_markdown":"Thanks!!! This was a very helpful example!","body":"Thanks!!! This was a very helpful example!"}],"tags":[],"owner":{"account_id":28148623,"reputation":11,"user_id":21510560,"display_name":"jsf"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680012181,"creation_date":1680012181,"answer_id":75867309,"question_id":72931259,"body_markdown":"DefaultTyping.EVERYTHING worked for me after a long research. [Reference][1]\r\n\r\n\r\n  [1]: https://github.com/FasterXML/jackson-databind/issues/3512#issuecomment-1150913172\r\n\r\n    @Bean\r\n    public ReactiveRedisTemplate&lt;String, Object&gt; reactiveRedisTemplate(ReactiveRedisConnectionFactory connectionFactory) {\r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n        objectMapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);\r\n        objectMapper.activateDefaultTyping(objectMapper.getPolymorphicTypeValidator(), ObjectMapper.DefaultTyping.EVERYTHING, JsonTypeInfo.As.PROPERTY);\r\n\r\n        RedisSerializer&lt;Object&gt; redisSerializer = new GenericJackson2JsonRedisSerializer(objectMapper);\r\n        RedisSerializationContext&lt;String, Object&gt; context = RedisSerializationContext\r\n                .&lt;String, Object&gt;newSerializationContext(RedisSerializer.string())\r\n                .value(redisSerializer)\r\n                .hashValue(redisSerializer)\r\n                .build();\r\n\r\n        return new ReactiveRedisTemplate&lt;&gt;(connectionFactory, context);\r\n    }","title":"How to correctly use GenericJackson2JsonRedisSerializer to prevent missing type id property @class","body":"<p>DefaultTyping.EVERYTHING worked for me after a long research. <a href=\"https://github.com/FasterXML/jackson-databind/issues/3512#issuecomment-1150913172\" rel=\"nofollow noreferrer\">Reference</a></p>\n<pre><code>@Bean\npublic ReactiveRedisTemplate&lt;String, Object&gt; reactiveRedisTemplate(ReactiveRedisConnectionFactory connectionFactory) {\n    ObjectMapper objectMapper = new ObjectMapper();\n    objectMapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);\n    objectMapper.activateDefaultTyping(objectMapper.getPolymorphicTypeValidator(), ObjectMapper.DefaultTyping.EVERYTHING, JsonTypeInfo.As.PROPERTY);\n\n    RedisSerializer&lt;Object&gt; redisSerializer = new GenericJackson2JsonRedisSerializer(objectMapper);\n    RedisSerializationContext&lt;String, Object&gt; context = RedisSerializationContext\n            .&lt;String, Object&gt;newSerializationContext(RedisSerializer.string())\n            .value(redisSerializer)\n            .hashValue(redisSerializer)\n            .build();\n\n    return new ReactiveRedisTemplate&lt;&gt;(connectionFactory, context);\n}\n</code></pre>\n"}],"owner":{"account_id":4836407,"reputation":684,"user_id":3902947,"accept_rate":92,"display_name":"After_Sunset"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4042,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1680012181,"creation_date":1657480972,"question_id":72931259,"body_markdown":"I have been trying for several days to figure out how to properly configure the GenericJackson2JsonRedisSerializer to work with my Java Pojos. Im using **spring-data-redis-2.3.3.RELEASE**. I have achieved many different results in different configurations but none of which work. Below is what seems to me to be the most correct configuration for what I am trying to achieve based on my research.\r\n\r\n        @Bean\r\n        public RedisTemplate&lt;String,Object&gt; jsonRedisTemplate() {\r\n\r\n        ObjectMapper objectMapper = new Jackson2ObjectMapperBuilder().failOnEmptyBeans(false)\r\n                .failOnUnknownProperties(false)\r\n                .serializationInclusion(JsonInclude.Include.NON_NULL)\r\n                .modules(new JavaTimeModule()).build();\r\n\r\n        objectMapper.activateDefaultTyping(objectMapper.getPolymorphicTypeValidator(),ObjectMapper.DefaultTyping.NON_FINAL, JsonTypeInfo.As.PROPERTY);\r\n        objectMapper.setDateFormat(new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;));\r\n        objectMapper.registerSubtypes(Game.class, String.class, MediaList.class, EventScorecard.class, MainScorecard.class, EventStatus.class, EventAttributes.class, ScoreCard.class);\r\n\r\n        final RedisTemplate&lt;String, Object&gt; redisTemplate = new RedisTemplate&lt;&gt;();\r\n        redisTemplate.setConnectionFactory(lettuceConnectionFactory());\r\n\r\n        redisTemplate.setKeySerializer(new StringRedisSerializer());\r\n        redisTemplate.setValueSerializer(new GenericJackson2JsonRedisSerializer(objectMapper));\r\n        redisTemplate.setHashKeySerializer(new GenericJackson2JsonRedisSerializer(objectMapper));\r\n        redisTemplate.setHashValueSerializer(new GenericJackson2JsonRedisSerializer(objectMapper));\r\n\r\n        return redisTemplate;\r\n    }\r\nUsing this RedisTemplate with the objectMapper and GenericJackson2JsonRedisSerializer always results in the following error\r\n\r\n&gt; Could not resolve subtype of [simple type, class java.lang.Object]: missing type id property &#39;@class&#39;\r\n\r\nOne thing I noticed with this config is if I pass in `new GenericJackson2JsonRedisSerializer(objectMapper)` to the `setKeySerializer` then the error does not occur and an empty `[]` gets returned.\r\n\r\nI&#39;ve read a ton of other stackoverflow questions at this point as well as web pages but I have not found anything that really differs dramatically from what I have so I don&#39;t know where to turn at this point. I am using **Jackson v2.13.3**. Any direction here will be greatly appreciate.\r\n\r\n**Edit**\r\n\r\nI&#39;m noticing with the below configuration that uses `Jackson2JsonRedisSerializer` instead of `GenericJackson2JsonRedisSerializer` that everything works. However, also notice I had to directly pass in a specific type `Game.class` into `Jackson2JsonRedisSerializer ` to get things to work for only this specific object. What I want to have is a single RedisTemplate that can work for all of my classes.\r\n\r\n        @Bean\r\n    public RedisTemplate&lt;String,Object&gt; jsonRedisTemplate() {\r\n\r\n        final RedisTemplate&lt;String, Object&gt; redisTemplate = new RedisTemplate&lt;&gt;();\r\n        redisTemplate.setConnectionFactory(lettuceConnectionFactory());\r\n\r\n        ObjectMapper objectMapper = JsonMapper.builder()\r\n                .addModules(new JsonOrgModule()).build();\r\n        objectMapper.setVisibility(PropertyAccessor.ALL, JsonAutoDetect.Visibility.ANY);\r\n        objectMapper.configure(DeserializationFeature.USE_JAVA_ARRAY_FOR_JSON_ARRAY, true);\r\n        \r\n        objectMapper.setDateFormat(new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;));\r\n        Jackson2JsonRedisSerializer jackson2JsonRedisSerializer = new Jackson2JsonRedisSerializer(Game.class);\r\n        jackson2JsonRedisSerializer.setObjectMapper(objectMapper);\r\n\r\n        redisTemplate.setKeySerializer(new StringRedisSerializer());\r\n        redisTemplate.setValueSerializer(jackson2JsonRedisSerializer);\r\n        redisTemplate.setHashKeySerializer(new StringRedisSerializer());\r\n        redisTemplate.setHashValueSerializer(jackson2JsonRedisSerializer);\r\n        redisTemplate.afterPropertiesSet();\r\n\r\n        return redisTemplate;\r\n    }","title":"How to correctly use GenericJackson2JsonRedisSerializer to prevent missing type id property @class","body":"<p>I have been trying for several days to figure out how to properly configure the GenericJackson2JsonRedisSerializer to work with my Java Pojos. Im using <strong>spring-data-redis-2.3.3.RELEASE</strong>. I have achieved many different results in different configurations but none of which work. Below is what seems to me to be the most correct configuration for what I am trying to achieve based on my research.</p>\n<pre><code>    @Bean\n    public RedisTemplate&lt;String,Object&gt; jsonRedisTemplate() {\n\n    ObjectMapper objectMapper = new Jackson2ObjectMapperBuilder().failOnEmptyBeans(false)\n            .failOnUnknownProperties(false)\n            .serializationInclusion(JsonInclude.Include.NON_NULL)\n            .modules(new JavaTimeModule()).build();\n\n    objectMapper.activateDefaultTyping(objectMapper.getPolymorphicTypeValidator(),ObjectMapper.DefaultTyping.NON_FINAL, JsonTypeInfo.As.PROPERTY);\n    objectMapper.setDateFormat(new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;));\n    objectMapper.registerSubtypes(Game.class, String.class, MediaList.class, EventScorecard.class, MainScorecard.class, EventStatus.class, EventAttributes.class, ScoreCard.class);\n\n    final RedisTemplate&lt;String, Object&gt; redisTemplate = new RedisTemplate&lt;&gt;();\n    redisTemplate.setConnectionFactory(lettuceConnectionFactory());\n\n    redisTemplate.setKeySerializer(new StringRedisSerializer());\n    redisTemplate.setValueSerializer(new GenericJackson2JsonRedisSerializer(objectMapper));\n    redisTemplate.setHashKeySerializer(new GenericJackson2JsonRedisSerializer(objectMapper));\n    redisTemplate.setHashValueSerializer(new GenericJackson2JsonRedisSerializer(objectMapper));\n\n    return redisTemplate;\n}\n</code></pre>\n<p>Using this RedisTemplate with the objectMapper and GenericJackson2JsonRedisSerializer always results in the following error</p>\n<blockquote>\n<p>Could not resolve subtype of [simple type, class java.lang.Object]: missing type id property '@class'</p>\n</blockquote>\n<p>One thing I noticed with this config is if I pass in <code>new GenericJackson2JsonRedisSerializer(objectMapper)</code> to the <code>setKeySerializer</code> then the error does not occur and an empty <code>[]</code> gets returned.</p>\n<p>I've read a ton of other stackoverflow questions at this point as well as web pages but I have not found anything that really differs dramatically from what I have so I don't know where to turn at this point. I am using <strong>Jackson v2.13.3</strong>. Any direction here will be greatly appreciate.</p>\n<p><strong>Edit</strong></p>\n<p>I'm noticing with the below configuration that uses <code>Jackson2JsonRedisSerializer</code> instead of <code>GenericJackson2JsonRedisSerializer</code> that everything works. However, also notice I had to directly pass in a specific type <code>Game.class</code> into <code>Jackson2JsonRedisSerializer </code> to get things to work for only this specific object. What I want to have is a single RedisTemplate that can work for all of my classes.</p>\n<pre><code>    @Bean\npublic RedisTemplate&lt;String,Object&gt; jsonRedisTemplate() {\n\n    final RedisTemplate&lt;String, Object&gt; redisTemplate = new RedisTemplate&lt;&gt;();\n    redisTemplate.setConnectionFactory(lettuceConnectionFactory());\n\n    ObjectMapper objectMapper = JsonMapper.builder()\n            .addModules(new JsonOrgModule()).build();\n    objectMapper.setVisibility(PropertyAccessor.ALL, JsonAutoDetect.Visibility.ANY);\n    objectMapper.configure(DeserializationFeature.USE_JAVA_ARRAY_FOR_JSON_ARRAY, true);\n    \n    objectMapper.setDateFormat(new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;));\n    Jackson2JsonRedisSerializer jackson2JsonRedisSerializer = new Jackson2JsonRedisSerializer(Game.class);\n    jackson2JsonRedisSerializer.setObjectMapper(objectMapper);\n\n    redisTemplate.setKeySerializer(new StringRedisSerializer());\n    redisTemplate.setValueSerializer(jackson2JsonRedisSerializer);\n    redisTemplate.setHashKeySerializer(new StringRedisSerializer());\n    redisTemplate.setHashValueSerializer(jackson2JsonRedisSerializer);\n    redisTemplate.afterPropertiesSet();\n\n    return redisTemplate;\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-webflux","project-reactor"],"answers":[{"comments":[{"owner":{"account_id":11320426,"reputation":403,"user_id":8300911,"display_name":"J&#233;r&#233;my"},"score":0,"creation_date":1680011071,"post_id":75858252,"comment_id":133821194,"body_markdown":"Thanks Igor for your response. Is it possible to call multiple API call into this map ?","body":"Thanks Igor for your response. Is it possible to call multiple API call into this map ?"},{"owner":{"account_id":78088,"reputation":35600,"user_id":222467,"accept_rate":67,"display_name":"Igor Artamonov"},"score":0,"creation_date":1680011739,"post_id":75858252,"comment_id":133821428,"body_markdown":"Yes, but it depends on how you want to call multiple APIs. Here you want just one result (and one HTTP response), so the `map` should receive one input. So you probably want to merge them before. You can use a `zip` for example, like `callOne.zip(callTwo).map {...}`","body":"Yes, but it depends on how you want to call multiple APIs. Here you want just one result (and one HTTP response), so the <code>map</code> should receive one input. So you probably want to merge them before. You can use a <code>zip</code> for example, like <code>callOne.zip(callTwo).map {...}</code>"},{"owner":{"account_id":11320426,"reputation":403,"user_id":8300911,"display_name":"J&#233;r&#233;my"},"score":0,"creation_date":1680014898,"post_id":75858252,"comment_id":133822344,"body_markdown":"In fact its not that simple. callOne return me an id to call callTwo.","body":"In fact its not that simple. callOne return me an id to call callTwo."},{"owner":{"account_id":78088,"reputation":35600,"user_id":222467,"accept_rate":67,"display_name":"Igor Artamonov"},"score":0,"creation_date":1680025149,"post_id":75858252,"comment_id":133825361,"body_markdown":"In that case you can use a `flatMap` like `callOne.flatMap(id -&gt; executeCallTwo(id)).map {}`","body":"In that case you can use a <code>flatMap</code> like <code>callOne.flatMap(id -&gt; executeCallTwo(id)).map {}</code>"}],"tags":[],"owner":{"account_id":78088,"reputation":35600,"user_id":222467,"accept_rate":67,"display_name":"Igor Artamonov"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680011988,"creation_date":1679935121,"answer_id":75858252,"question_id":75857938,"body_markdown":"Your code doesn&#39;t execute the that mono, i.e., there is no subscription to it. \r\nYour `user` Mono kept untouched. \r\n\r\nYou just create an object that could be called, never call it, and then return always 200 response that doesn&#39;t take into account any real work.\r\n\r\nThe code should look like:\r\n\r\n    return user.map(result -&gt; {\r\n        new ResponseEntity(result, HttpStatus.OK)\r\n    });\r\n\r\n\r\nWhich means _subscribe to user mono and then provide with the following result_.\r\n\r\nYou may also want to handle errors and other situations, like:\r\n\r\n\r\n    return user\r\n        .map(result -&gt; {\r\n            new ResponseEntity(result, HttpStatus.OK)\r\n        })\r\n        .onErrorResume(t -&gt; {\r\n            new ResponseEntity(null, HttpStatus.INTERNAL_ERROR)\r\n        })\r\n        .switchIfEmpty(new ResponseEntity(null, HttpStatus.NOT_FOUND);\r\n","title":"How to log Mono call results?","body":"<p>Your code doesn't execute the that mono, i.e., there is no subscription to it.\nYour <code>user</code> Mono kept untouched.</p>\n<p>You just create an object that could be called, never call it, and then return always 200 response that doesn't take into account any real work.</p>\n<p>The code should look like:</p>\n<pre><code>return user.map(result -&gt; {\n    new ResponseEntity(result, HttpStatus.OK)\n});\n</code></pre>\n<p>Which means <em>subscribe to user mono and then provide with the following result</em>.</p>\n<p>You may also want to handle errors and other situations, like:</p>\n<pre><code>return user\n    .map(result -&gt; {\n        new ResponseEntity(result, HttpStatus.OK)\n    })\n    .onErrorResume(t -&gt; {\n        new ResponseEntity(null, HttpStatus.INTERNAL_ERROR)\n    })\n    .switchIfEmpty(new ResponseEntity(null, HttpStatus.NOT_FOUND);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13798611,"reputation":37885,"user_id":9959152,"display_name":"Ryuzaki L"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679936493,"creation_date":1679935669,"answer_id":75858335,"question_id":75857938,"body_markdown":"You need a subscriber to user [Mono][1] and add chain of actions using [map][2] for success response, and on error you can use [onErrorResume][3] to return `ResponseEntity` with appropriate status code\r\n\r\n    return user.map(data -&gt; {\r\n              //log the data if needed\r\n              return new ResponseEntity(data, HttpStatus.OK)\r\n              }).onErrorResume(throwable -&gt; {\r\n                     log.error(&quot;Failed for some reason&quot;, throwable));\r\n                     return new ResponseEntity(null, HttpStatus.INTERNAL_SERVER_ERROR);\r\n                   });\r\n\r\n\r\n  [1]: https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html\r\n  [2]: https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#map-java.util.function.Function-\r\n  [3]: https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#onErrorResume-java.util.function.Function-","title":"How to log Mono call results?","body":"<p>You need a subscriber to user <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html\" rel=\"nofollow noreferrer\">Mono</a> and add chain of actions using <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#map-java.util.function.Function-\" rel=\"nofollow noreferrer\">map</a> for success response, and on error you can use <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#onErrorResume-java.util.function.Function-\" rel=\"nofollow noreferrer\">onErrorResume</a> to return <code>ResponseEntity</code> with appropriate status code</p>\n<pre><code>return user.map(data -&gt; {\n          //log the data if needed\n          return new ResponseEntity(data, HttpStatus.OK)\n          }).onErrorResume(throwable -&gt; {\n                 log.error(&quot;Failed for some reason&quot;, throwable));\n                 return new ResponseEntity(null, HttpStatus.INTERNAL_SERVER_ERROR);\n               });\n</code></pre>\n"}],"owner":{"account_id":11320426,"reputation":403,"user_id":8300911,"display_name":"J&#233;r&#233;my"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":941,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":75858252,"answer_count":2,"score":-2,"last_activity_date":1680011988,"creation_date":1679933093,"question_id":75857938,"body_markdown":"I&#39;m trying to create a controller that call multiple API :\r\n\r\n    FIRST CALL\r\n    \r\n    IF SUCCESS\r\n        CALL ANOTHER FIRST API\r\n        CALL ANOTHER SECOND API\r\n    ELSE\r\n        RETURN API ERROR\r\n\r\nTo do that, i use spring-cloud-gateway. I didnt find any functionality to do this with spring cloud so I realized this via a spring controller.\r\n\r\nSo i have created a class with a method to call my first API :\r\n\r\n    \r\n    public Mono&lt;ProUserResponse&gt; createProUser(UserCreationRequest request) {\r\n                Function&lt;UriBuilder, URI&gt; uri = uriBuilder -&gt; uriBuilder\r\n                        .path(userProperties.getCreateProUser().privateEndpoint())\r\n                        .build();\r\n                HttpClient httpClient = HttpClient.create();\r\n                    httpClient.wiretap(&quot;reactor.netty.http.client.HttpClient&quot;, LogLevel.DEBUG, \r\n                ClientHttpConnector clientHttpConnector = new ReactorClientHttpConnector(httpClient);\r\n        \r\n        \r\n                return WebClient.builder().clientConnector(clientHttpConnector).baseUrl(userProperties.getCreateProUser().baseUrl().toString()).build().post()\r\n                                .uri(uri)\r\n                                .accept(MediaType.APPLICATION_JSON)\r\n                                .contentType(MediaType.APPLICATION_JSON)\r\n                                .bodyValue(request)\r\n                                .retrieve()\r\n                                .bodyToMono(ProUserResponse.class)\r\n                                .retry(3);\r\n            }\r\n\r\nI have also created a controller :\r\n\r\n    public Mono&lt;ResponseEntity&lt;MerchantCreationResponse&gt;&gt; createNewMerchant(@Valid @RequestBody MerchantCreationRequest merchantCreationRequest) throws MerchantCreationException, ExecutionException, InterruptedException {\r\n        // Create User\r\n        Mono&lt;ProUserResponse&gt; user = monolitheHttpClient.createProUser(merchantCreationRequest.merchant()).log(log.getName());\r\n\r\n        final AtomicReference&lt;MerchantCreationResponse&gt; response = null;\r\n        //Long userId = user.toFuture().get().userid();\r\n        user.doOnSuccess(proUserResponse -&gt; {\r\n            log.info(&quot;youpi&quot;);\r\n            System.out.println(&quot;This is a message&quot;);\r\n        }).doOnError(throwable -&gt; log.error(&quot;Failed for some reason&quot;, throwable));\r\n\r\n         return Mono.just(new ResponseEntity(response, HttpStatus.OK));\r\n    }\r\n\r\nWhen i call my controller, the request returns me an Http 200 code but i have no log on the success or on the error.\r\n\r\nHow can i display my query result ? Is it the good approach ?\r\n\r\nThanks for your help !","title":"How to log Mono call results?","body":"<p>I'm trying to create a controller that call multiple API :</p>\n<pre><code>FIRST CALL\n\nIF SUCCESS\n    CALL ANOTHER FIRST API\n    CALL ANOTHER SECOND API\nELSE\n    RETURN API ERROR\n</code></pre>\n<p>To do that, i use spring-cloud-gateway. I didnt find any functionality to do this with spring cloud so I realized this via a spring controller.</p>\n<p>So i have created a class with a method to call my first API :</p>\n<pre><code>public Mono&lt;ProUserResponse&gt; createProUser(UserCreationRequest request) {\n            Function&lt;UriBuilder, URI&gt; uri = uriBuilder -&gt; uriBuilder\n                    .path(userProperties.getCreateProUser().privateEndpoint())\n                    .build();\n            HttpClient httpClient = HttpClient.create();\n                httpClient.wiretap(&quot;reactor.netty.http.client.HttpClient&quot;, LogLevel.DEBUG, \n            ClientHttpConnector clientHttpConnector = new ReactorClientHttpConnector(httpClient);\n    \n    \n            return WebClient.builder().clientConnector(clientHttpConnector).baseUrl(userProperties.getCreateProUser().baseUrl().toString()).build().post()\n                            .uri(uri)\n                            .accept(MediaType.APPLICATION_JSON)\n                            .contentType(MediaType.APPLICATION_JSON)\n                            .bodyValue(request)\n                            .retrieve()\n                            .bodyToMono(ProUserResponse.class)\n                            .retry(3);\n        }\n</code></pre>\n<p>I have also created a controller :</p>\n<pre><code>public Mono&lt;ResponseEntity&lt;MerchantCreationResponse&gt;&gt; createNewMerchant(@Valid @RequestBody MerchantCreationRequest merchantCreationRequest) throws MerchantCreationException, ExecutionException, InterruptedException {\n    // Create User\n    Mono&lt;ProUserResponse&gt; user = monolitheHttpClient.createProUser(merchantCreationRequest.merchant()).log(log.getName());\n\n    final AtomicReference&lt;MerchantCreationResponse&gt; response = null;\n    //Long userId = user.toFuture().get().userid();\n    user.doOnSuccess(proUserResponse -&gt; {\n        log.info(&quot;youpi&quot;);\n        System.out.println(&quot;This is a message&quot;);\n    }).doOnError(throwable -&gt; log.error(&quot;Failed for some reason&quot;, throwable));\n\n     return Mono.just(new ResponseEntity(response, HttpStatus.OK));\n}\n</code></pre>\n<p>When i call my controller, the request returns me an Http 200 code but i have no log on the success or on the error.</p>\n<p>How can i display my query result ? Is it the good approach ?</p>\n<p>Thanks for your help !</p>\n"},{"tags":["java","spring-boot","redis","spring-data-redis","redis-streams"],"comments":[{"owner":{"account_id":3106126,"reputation":31281,"user_id":2628868,"accept_rate":84,"display_name":"Dolphin"},"score":0,"creation_date":1658046165,"post_id":71891101,"comment_id":128950181,"body_markdown":"did you fixed this problem? @Reg Reg","body":"did you fixed this problem? @Reg Reg"},{"owner":{"account_id":7375351,"reputation":49,"user_id":5614178,"display_name":"Reg Reg"},"score":0,"creation_date":1658214536,"post_id":71891101,"comment_id":128989130,"body_markdown":"yes. I have fixed the problem","body":"yes. I have fixed the problem"},{"owner":{"account_id":247414,"reputation":1157,"user_id":2809546,"accept_rate":80,"display_name":"Vlad"},"score":0,"creation_date":1667325399,"post_id":71891101,"comment_id":131139618,"body_markdown":"@RegReg - how have you fixed it?","body":"@RegReg - how have you fixed it?"}],"answers":[{"tags":[],"owner":{"account_id":14762937,"reputation":21,"user_id":10661739,"display_name":"ramit"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680011970,"creation_date":1680011970,"answer_id":75867275,"question_id":71891101,"body_markdown":"Redis streams don&#39;t support delete operations. Only trim() is available to fix the size of stream events by removing older ones. ","title":"Spring Redis Does Not Delete the Stream Entries","body":"<p>Redis streams don't support delete operations. Only trim() is available to fix the size of stream events by removing older ones.</p>\n"}],"owner":{"account_id":7375351,"reputation":49,"user_id":5614178,"display_name":"Reg Reg"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":496,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1680011970,"creation_date":1650083253,"question_id":71891101,"body_markdown":"I&#39;m using the Redis Template and I want to delete the entries of the stream after processing it. I used the below code but it didn&#39;t delete from the Redis Streams. \r\n\r\n    redisTemplate.opsForStream().delete(&quot;my-stream-key&quot;,record.getId().getValue());","title":"Spring Redis Does Not Delete the Stream Entries","body":"<p>I'm using the Redis Template and I want to delete the entries of the stream after processing it. I used the below code but it didn't delete from the Redis Streams.</p>\n<pre><code>redisTemplate.opsForStream().delete(&quot;my-stream-key&quot;,record.getId().getValue());\n</code></pre>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":2154672,"reputation":955,"user_id":1910191,"display_name":"develar"},"score":0,"creation_date":1492012578,"post_id":43355834,"comment_id":73819306,"body_markdown":"Please execute `ps -ef` to get process command line args to understand who and for what run `java` process.","body":"Please execute <code>ps -ef</code> to get process command line args to understand who and for what run <code>java</code> process."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1501311146,"post_id":43355834,"comment_id":77733470,"body_markdown":"Related: [Why does IntelliJ want to accept incoming network connections?](https://stackoverflow.com/q/43444949/642706)","body":"Related: <a href=\"https://stackoverflow.com/q/43444949/642706\">Why does IntelliJ want to accept incoming network connections?</a>"}],"answers":[{"comments":[{"owner":{"account_id":2021629,"reputation":57953,"user_id":1807667,"accept_rate":60,"display_name":"Ortomala Lokni"},"score":1,"creation_date":1492009652,"post_id":43368412,"comment_id":73808754,"body_markdown":"I should have precised that I&#39;m using the macos version.","body":"I should have precised that I&#39;m using the macos version."},{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1492009722,"post_id":43368412,"comment_id":73808819,"body_markdown":"Please add the relevant `lsof` output to show which ports are open on `0.0.0.0` interface.","body":"Please add the relevant <code>lsof</code> output to show which ports are open on <code>0.0.0.0</code> interface."},{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1492013862,"post_id":43368412,"comment_id":73811812,"body_markdown":"Thanks, I can notice it on Windows as well after a project is open. Our developers will investigate it, may take some time.","body":"Thanks, I can notice it on Windows as well after a project is open. Our developers will investigate it, may take some time."},{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1492015134,"post_id":43368412,"comment_id":73812592,"body_markdown":"So far I&#39;ve isolated the problem to the Scala plug-in. Do you have it enabled? Does disabling this plug-in remove the `*` entry from `lsof` output for `idea` process?","body":"So far I&#39;ve isolated the problem to the Scala plug-in. Do you have it enabled? Does disabling this plug-in remove the <code>*</code> entry from <code>lsof</code> output for <code>idea</code> process?"},{"owner":{"account_id":2021629,"reputation":57953,"user_id":1807667,"accept_rate":60,"display_name":"Ortomala Lokni"},"score":0,"creation_date":1492022690,"post_id":43368412,"comment_id":73816722,"body_markdown":"I&#39;ve no Scala plug-in enabled.","body":"I&#39;ve no Scala plug-in enabled."},{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1492022910,"post_id":43368412,"comment_id":73816855,"body_markdown":"OK, it&#39;s weird indeed. We&#39;ve seen this issue on some of the systems and so far were not able to find the root case. Could be RMI subsystem in Java or Netty issue. So far we don&#39;t have an answer how it can be fixed.","body":"OK, it&#39;s weird indeed. We&#39;ve seen this issue on some of the systems and so far were not able to find the root case. Could be RMI subsystem in Java or Netty issue. So far we don&#39;t have an answer how it can be fixed."},{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":1,"creation_date":1500031589,"post_id":43368412,"comment_id":77174565,"body_markdown":"@OrtomalaLokni yes, please follow https://youtrack.jetbrains.com/issue/IDEA-175889 for updates, sorry for the delay","body":"@OrtomalaLokni yes, please follow <a href=\"https://youtrack.jetbrains.com/issue/IDEA-175889\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/IDEA-175889</a> for updates, sorry for the delay"},{"owner":{"account_id":2021629,"reputation":57953,"user_id":1807667,"accept_rate":60,"display_name":"Ortomala Lokni"},"score":2,"creation_date":1543219816,"post_id":43368412,"comment_id":93823897,"body_markdown":"Almost one year and half after, is there any news on this issue?","body":"Almost one year and half after, is there any news on this issue?"}],"tags":[],"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"comment_count":8,"down_vote_count":1,"up_vote_count":5,"is_accepted":true,"score":4,"last_activity_date":1491996887,"creation_date":1491996887,"answer_id":43368412,"question_id":43355834,"body_markdown":"IntelliJ IDEA doesn&#39;t bind any ports on the wildcard interface by default, except for the UDP concurrent licensing check (only for Ultimate). All the ports used for internal needs (Netty library initialization, exclusive folders lock, built-in web server, debugger, compiler/maven/gradle/running process IPC) are open on the `localhost` (`127.0.0.1`) interface:\r\n\r\n[![ports][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JI8bj.png","title":"How to bind IntelliJ IDEA random open ports to localhost only?","body":"<p>IntelliJ IDEA doesn't bind any ports on the wildcard interface by default, except for the UDP concurrent licensing check (only for Ultimate). All the ports used for internal needs (Netty library initialization, exclusive folders lock, built-in web server, debugger, compiler/maven/gradle/running process IPC) are open on the <code>localhost</code> (<code>127.0.0.1</code>) interface:</p>\n\n<p><a href=\"https://i.stack.imgur.com/JI8bj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JI8bj.png\" alt=\"ports\"></a></p>\n"}],"owner":{"account_id":2021629,"reputation":57953,"user_id":1807667,"accept_rate":60,"display_name":"Ortomala Lokni"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3186,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":43368412,"answer_count":1,"score":13,"last_activity_date":1680011725,"creation_date":1491943292,"question_id":43355834,"body_markdown":"When I run IntelliJ IDEA 2021.1.2 (Ultimate or Community edition) on macOS, I observe that 3 random ports are open on all network interfaces (eth0, lo, ...). One random port is open by the idea process and the two other ports are open by a different java process launched by IntelliJ IDEA.\r\n\r\nI&#39;ve removed the only plugin I&#39;ve explicitly installed which is SonarLint.\r\n\r\nThe debugger which is running on port 63342 is bind to localhost and this can be configured in the Preferences menu.\r\n\r\nHere is the relevant part of the output of `lsof -i | grep LISTEN` :\r\n\r\n        idea   3328    orto  187u  IPv4 0x3c332685aa6872fd   0t0  TCP localhost:6942 (LISTEN)\r\n        idea   3328    orto  686u  IPv4 0x3c332685aa623815   0t0  TCP localhost:63342 (LISTEN)\r\n        idea   3328    orto  752u  IPv4 0x3c332685aa676de5   0t0  TCP *:53212 (LISTEN)\r\n        java   3341    orto   33u  IPv6 0x3c332685aa5f899d   0t0  TCP *:61070 (LISTEN)\r\n        java   3341    orto   77u  IPv6 0x3c332685b9885edd   0t0  TCP *:53210 (LISTEN)\r\n    \r\nAs asked, here is the relevant part of `ps -ef | grep 3341` (it&#39;s a RemoteMavenServer):\r\n    \r\n    /Applications/IntelliJ IDEA.app/Contents/jdk/Contents/Home/jre/bin/java -d64 -Djava.awt.headless=true -Didea.version==2017.1.1 -Xmx768m -Didea.maven.embedder.version=3.3.9 -Dfile.encoding=UTF-8 -classpath /Applications/IntelliJ IDEA.app/Contents/lib/resources_en.jar:/Applications/IntelliJ IDEA.app/Contents/lib/log4j.jar:/Applications/IntelliJ IDEA.app/Contents/lib/snappy-in-java-0.5.1.jar:/Applications/IntelliJ IDEA.app/Contents/lib/jna.jar:/Applications/IntelliJ IDEA.app/Contents/lib/jna-platform.jar:/Applications/IntelliJ IDEA.app/Contents/lib/annotations.jar:/Applications/IntelliJ IDEA.app/Contents/lib/oromatcher.jar:/Applications/IntelliJ IDEA.app/Contents/lib/trove4j.jar:/Applications/IntelliJ IDEA.app/Contents/lib/util.jar:/Applications/IntelliJ IDEA.app/Contents/lib/jdom.jar:/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/lucene-core-2.4.1.jar:/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/maven-server-api.jar:/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/maven3-server-common.jar:/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/maven3-server-lib/archetype-catalog-2.2.jar:/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/maven3-server-lib/archetype-common-2.2.jar:/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/maven3-server-lib/maven-dependency-tree-1.2.jar:/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/maven3-server-lib/nexus-indexer-3.0.4.jar:/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/maven3-server-lib/nexus-indexer-artifact-1.0.1.jar:/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/maven3-server-impl.jar:/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/maven3/lib/aether-api-1.0.2.v20150114.jar:/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/maven3/lib/aether-connector-basic-1.0.2.v20150114.jar:/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/maven3/lib/aether-impl-1.0.2.v20150114.jar:/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/maven3/lib/aether-spi-1.0.2.v20150114.jar:/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/maven3/lib/aether-transport-wagon-1.0.2.v20150114.jar:/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/maven3/lib/aether-util-1.0.2.v20150114.jar:/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/maven3/lib/aopalliance-1.0.jar:/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/maven3/lib/cdi-api-1.0.jar:/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/maven3/lib/commons-cli-1.2.jar:/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/maven3/lib/commons-io-2.2.jar:/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/maven3/lib/commons-lang-2.6.jar:/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/maven3/lib/commons-lang3-3.4.jar:/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/maven3/lib/guava-18.0.jar:/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/maven3/lib/guice-4.0-no_aop.jar:/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/maven3/lib/javax.inject-1.jar:/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/maven3/lib/jsoup-1.7.2.jar:/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/maven3/lib/jsr250-api-1.0.jar:/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/maven3/lib/maven-aether-provider-3.3.9.jar:/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/maven3/lib/maven-artifact-3.3.9.jar:/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/maven3/lib/maven-builder-support-3.3.9.jar:/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/maven3/lib/maven-compat-3.3.9.jar:/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/maven3/lib/maven-core-3.3.9.jar:/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/maven3/lib/maven-embedder-3.3.9.jar:/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/maven3/lib/maven-model-3.3.9.jar:/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/maven3/lib/maven-model-builder-3.3.9.jar:/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/maven3/lib/maven-plugin-api-3.3.9.jar:/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/maven3/lib/maven-repository-metadata-3.3.9.jar:/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/maven3/lib/maven-settings-3.3.9.jar:/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/maven3/lib/maven-settings-builder-3.3.9.jar:/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/maven3/lib/org.eclipse.sisu.inject-0.3.2.jar:/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/maven3/lib/org.eclipse.sisu.plexus-0.3.2.jar:/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/maven3/lib/plexus-cipher-1.7.jar:/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/maven3/lib/plexus-component-annotations-1.6.jar:/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/maven3/lib/plexus-interpolation-1.21.jar:/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/maven3/lib/plexus-sec-dispatcher-1.3.jar:/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/maven3/lib/plexus-utils-3.0.22.jar:/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/maven3/lib/slf4j-api-1.7.5.jar:/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/maven3/lib/slf4j-simple-1.7.5.jar:/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/maven3/lib/wagon-file-2.10.jar:/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/maven3/lib/wagon-http-2.10-shaded.jar:/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/maven3/lib/wagon-http-shared-2.10.jar:/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/maven3/lib/wagon-provider-api-2.10.jar:/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/maven3/boot/plexus-classworlds-2.5.2.jar org.jetbrains.idea.maven.server.RemoteMavenServer\r\n\r\nHow to bind these three random open ports to localhost?\r\n\r\nNotes\r\n\r\n - An issue has been created here: https://youtrack.jetbrains.com/issue/IDEA-175889.\r\n - There is a question about this problem on the [\r\nIDEs Support (IntelliJ Platform)](https://intellij-support.jetbrains.com/hc/en-us/community/posts/360003409060-IntelliJ-listens-on-tcp-and-udp-ports-on-address-0-0-0-0-Why-Is-it-unsecure-)\r\n\r\n**== Update 28 March 2023 ==**\r\n\r\nWith IntelliJ 2022.3.3 (Ultimate Edition), I have no more TCP ports bound to the wildcard interface. But two UDP ports are still bound to the wildcard interface as in the screenshot of [the CrazyCoder answer](https://stackoverflow.com/a/43368412/1807667).\r\n","title":"How to bind IntelliJ IDEA random open ports to localhost only?","body":"<p>When I run IntelliJ IDEA 2021.1.2 (Ultimate or Community edition) on macOS, I observe that 3 random ports are open on all network interfaces (eth0, lo, ...). One random port is open by the idea process and the two other ports are open by a different java process launched by IntelliJ IDEA.</p>\n<p>I've removed the only plugin I've explicitly installed which is SonarLint.</p>\n<p>The debugger which is running on port 63342 is bind to localhost and this can be configured in the Preferences menu.</p>\n<p>Here is the relevant part of the output of <code>lsof -i | grep LISTEN</code> :</p>\n<pre><code>    idea   3328    orto  187u  IPv4 0x3c332685aa6872fd   0t0  TCP localhost:6942 (LISTEN)\n    idea   3328    orto  686u  IPv4 0x3c332685aa623815   0t0  TCP localhost:63342 (LISTEN)\n    idea   3328    orto  752u  IPv4 0x3c332685aa676de5   0t0  TCP *:53212 (LISTEN)\n    java   3341    orto   33u  IPv6 0x3c332685aa5f899d   0t0  TCP *:61070 (LISTEN)\n    java   3341    orto   77u  IPv6 0x3c332685b9885edd   0t0  TCP *:53210 (LISTEN)\n</code></pre>\n<p>As asked, here is the relevant part of <code>ps -ef | grep 3341</code> (it's a RemoteMavenServer):</p>\n<pre><code>/Applications/IntelliJ IDEA.app/Contents/jdk/Contents/Home/jre/bin/java -d64 -Djava.awt.headless=true -Didea.version==2017.1.1 -Xmx768m -Didea.maven.embedder.version=3.3.9 -Dfile.encoding=UTF-8 -classpath /Applications/IntelliJ IDEA.app/Contents/lib/resources_en.jar:/Applications/IntelliJ IDEA.app/Contents/lib/log4j.jar:/Applications/IntelliJ IDEA.app/Contents/lib/snappy-in-java-0.5.1.jar:/Applications/IntelliJ IDEA.app/Contents/lib/jna.jar:/Applications/IntelliJ IDEA.app/Contents/lib/jna-platform.jar:/Applications/IntelliJ IDEA.app/Contents/lib/annotations.jar:/Applications/IntelliJ IDEA.app/Contents/lib/oromatcher.jar:/Applications/IntelliJ IDEA.app/Contents/lib/trove4j.jar:/Applications/IntelliJ IDEA.app/Contents/lib/util.jar:/Applications/IntelliJ IDEA.app/Contents/lib/jdom.jar:/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/lucene-core-2.4.1.jar:/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/maven-server-api.jar:/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/maven3-server-common.jar:/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/maven3-server-lib/archetype-catalog-2.2.jar:/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/maven3-server-lib/archetype-common-2.2.jar:/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/maven3-server-lib/maven-dependency-tree-1.2.jar:/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/maven3-server-lib/nexus-indexer-3.0.4.jar:/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/maven3-server-lib/nexus-indexer-artifact-1.0.1.jar:/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/maven3-server-impl.jar:/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/maven3/lib/aether-api-1.0.2.v20150114.jar:/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/maven3/lib/aether-connector-basic-1.0.2.v20150114.jar:/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/maven3/lib/aether-impl-1.0.2.v20150114.jar:/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/maven3/lib/aether-spi-1.0.2.v20150114.jar:/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/maven3/lib/aether-transport-wagon-1.0.2.v20150114.jar:/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/maven3/lib/aether-util-1.0.2.v20150114.jar:/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/maven3/lib/aopalliance-1.0.jar:/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/maven3/lib/cdi-api-1.0.jar:/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/maven3/lib/commons-cli-1.2.jar:/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/maven3/lib/commons-io-2.2.jar:/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/maven3/lib/commons-lang-2.6.jar:/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/maven3/lib/commons-lang3-3.4.jar:/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/maven3/lib/guava-18.0.jar:/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/maven3/lib/guice-4.0-no_aop.jar:/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/maven3/lib/javax.inject-1.jar:/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/maven3/lib/jsoup-1.7.2.jar:/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/maven3/lib/jsr250-api-1.0.jar:/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/maven3/lib/maven-aether-provider-3.3.9.jar:/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/maven3/lib/maven-artifact-3.3.9.jar:/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/maven3/lib/maven-builder-support-3.3.9.jar:/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/maven3/lib/maven-compat-3.3.9.jar:/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/maven3/lib/maven-core-3.3.9.jar:/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/maven3/lib/maven-embedder-3.3.9.jar:/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/maven3/lib/maven-model-3.3.9.jar:/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/maven3/lib/maven-model-builder-3.3.9.jar:/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/maven3/lib/maven-plugin-api-3.3.9.jar:/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/maven3/lib/maven-repository-metadata-3.3.9.jar:/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/maven3/lib/maven-settings-3.3.9.jar:/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/maven3/lib/maven-settings-builder-3.3.9.jar:/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/maven3/lib/org.eclipse.sisu.inject-0.3.2.jar:/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/maven3/lib/org.eclipse.sisu.plexus-0.3.2.jar:/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/maven3/lib/plexus-cipher-1.7.jar:/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/maven3/lib/plexus-component-annotations-1.6.jar:/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/maven3/lib/plexus-interpolation-1.21.jar:/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/maven3/lib/plexus-sec-dispatcher-1.3.jar:/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/maven3/lib/plexus-utils-3.0.22.jar:/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/maven3/lib/slf4j-api-1.7.5.jar:/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/maven3/lib/slf4j-simple-1.7.5.jar:/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/maven3/lib/wagon-file-2.10.jar:/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/maven3/lib/wagon-http-2.10-shaded.jar:/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/maven3/lib/wagon-http-shared-2.10.jar:/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/maven3/lib/wagon-provider-api-2.10.jar:/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/maven3/boot/plexus-classworlds-2.5.2.jar org.jetbrains.idea.maven.server.RemoteMavenServer\n</code></pre>\n<p>How to bind these three random open ports to localhost?</p>\n<p>Notes</p>\n<ul>\n<li>An issue has been created here: <a href=\"https://youtrack.jetbrains.com/issue/IDEA-175889\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/IDEA-175889</a>.</li>\n<li>There is a question about this problem on the <a href=\"https://intellij-support.jetbrains.com/hc/en-us/community/posts/360003409060-IntelliJ-listens-on-tcp-and-udp-ports-on-address-0-0-0-0-Why-Is-it-unsecure-\" rel=\"nofollow noreferrer\">\nIDEs Support (IntelliJ Platform)</a></li>\n</ul>\n<p><strong>== Update 28 March 2023 ==</strong></p>\n<p>With IntelliJ 2022.3.3 (Ultimate Edition), I have no more TCP ports bound to the wildcard interface. But two UDP ports are still bound to the wildcard interface as in the screenshot of <a href=\"https://stackoverflow.com/a/43368412/1807667\">the CrazyCoder answer</a>.</p>\n"},{"tags":["java","hibernate","exception"],"comments":[{"owner":{"account_id":4268353,"reputation":1129,"user_id":3490881,"accept_rate":80,"display_name":"nyarasha"},"score":0,"creation_date":1527017165,"post_id":50475102,"comment_id":87963710,"body_markdown":"Please update the title with a description of the problem so it is easier for people to find your question and help you.","body":"Please update the title with a description of the problem so it is easier for people to find your question and help you."},{"owner":{"account_id":6078,"reputation":61197,"user_id":10077,"accept_rate":90,"display_name":"Fred Larson"},"score":0,"creation_date":1527017245,"post_id":50475102,"comment_id":87963751,"body_markdown":"It appears to be looking for a configuration file in the root directory and it&#39;s not there. I think there&#39;s a bad path somewhere in your setup.","body":"It appears to be looking for a configuration file in the root directory and it&#39;s not there. I think there&#39;s a bad path somewhere in your setup."},{"owner":{"account_id":1382751,"reputation":4828,"user_id":1315419,"accept_rate":44,"display_name":"Vasan"},"score":2,"creation_date":1527017364,"post_id":50475102,"comment_id":87963801,"body_markdown":"Possible duplicate of [Location of hibernate.cfg.xml in project?](https://stackoverflow.com/questions/18736594/location-of-hibernate-cfg-xml-in-project)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/18736594/location-of-hibernate-cfg-xml-in-project\">Location of hibernate.cfg.xml in project?</a>"},{"owner":{"account_id":13627730,"reputation":212,"user_id":9830581,"display_name":"Spack09"},"score":0,"creation_date":1527018557,"post_id":50475102,"comment_id":87964353,"body_markdown":"thanks for the title :) but I do not think the problem is the same","body":"thanks for the title :) but I do not think the problem is the same"}],"answers":[{"tags":[],"owner":{"account_id":1075224,"reputation":990,"user_id":1073529,"display_name":"Marcus K."},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1527019556,"creation_date":1527019556,"answer_id":50475692,"question_id":50475102,"body_markdown":"hibernate.cfg.xml seems to be searched in your classpath root, but is located in the subpackage `com.dede.app1st.controller`. Moving it to the root package should fix the problem.","title":"HibernateException: hibernate.cfg.xml not found","body":"<p>hibernate.cfg.xml seems to be searched in your classpath root, but is located in the subpackage <code>com.dede.app1st.controller</code>. Moving it to the root package should fix the problem.</p>\n"}],"owner":{"account_id":13627730,"reputation":212,"user_id":9830581,"display_name":"Spack09"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":50475692,"answer_count":1,"score":-3,"last_activity_date":1680011654,"creation_date":1527017060,"question_id":50475102,"body_markdown":"Working on my servlet I had this problem:\r\n\r\n![IDE tree view][1]\r\n\r\n    org.hibernate.HibernateException: /hibernate.cfg.xml not found\r\n    \torg.hibernate.internal.util.ConfigHelper.getResourceAsStream(ConfigHelper.java:173)\r\n    \torg.hibernate.cfg.Configuration.getConfigurationInputStream(Configuration.java:2093)\r\n    \torg.hibernate.cfg.Configuration.configure(Configuration.java:2074)\r\n    \torg.hibernate.cfg.Configuration.configure(Configuration.java:2054)\r\n    \tcom.dede.app1st.controller.AddUser.doPost(AddUser.java:26)\r\n    \tjavax.servlet.http.HttpServlet.service(HttpServlet.java:650)\r\n    \tjavax.servlet.http.HttpServlet.service(HttpServlet.java:731)\r\n    \torg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\r\n    \r\n   [1]: https://i.stack.imgur.com/92pwe.jpg\r\n\r\n\r\nWhat is the reason for the error and how do I fix it?","title":"HibernateException: hibernate.cfg.xml not found","body":"<p>Working on my servlet I had this problem:</p>\n<p><img src=\"https://i.stack.imgur.com/92pwe.jpg\" alt=\"IDE tree view\" /></p>\n<pre><code>org.hibernate.HibernateException: /hibernate.cfg.xml not found\n    org.hibernate.internal.util.ConfigHelper.getResourceAsStream(ConfigHelper.java:173)\n    org.hibernate.cfg.Configuration.getConfigurationInputStream(Configuration.java:2093)\n    org.hibernate.cfg.Configuration.configure(Configuration.java:2074)\n    org.hibernate.cfg.Configuration.configure(Configuration.java:2054)\n    com.dede.app1st.controller.AddUser.doPost(AddUser.java:26)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:650)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:731)\n    org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\n</code></pre>\n<p>What is the reason for the error and how do I fix it?</p>\n"},{"tags":["java","kotlin","intellij-idea","build.gradle"],"comments":[{"owner":{"account_id":2273465,"reputation":15439,"user_id":2000323,"display_name":"Andrey"},"score":0,"creation_date":1679994148,"post_id":75858676,"comment_id":133816518,"body_markdown":"Looks like one needs to use Github packages: https://github.com/VorTECHsa/refinery/packages/1073554","body":"Looks like one needs to use Github packages: <a href=\"https://github.com/VorTECHsa/refinery/packages/1073554\" rel=\"nofollow noreferrer\">github.com/VorTECHsa/refinery/packages/1073554</a>"}],"answers":[{"comments":[{"owner":{"account_id":26582014,"reputation":11,"user_id":20206528,"display_name":"GbreH"},"score":0,"creation_date":1679982093,"post_id":75859081,"comment_id":133813883,"body_markdown":"Good afternoon. I  followed the instructions correctly and added the following code to Maven settings:\n```maven {\n    name = &quot;VorTECHsa GitHubPackages&quot;\n    url = uri(&quot;https://maven.pkg.github.com/VorTECHsa/refinery&quot;)\n    credentials {\n        username = &quot;&lt;username&gt;&quot;\n        password = &quot;&lt;password&gt;&quot;\n    }\n}``` However, I&#39;m receiving an error that says `untitled:main: Could not resolve com.github.VorTECHsa:refinery:0691ce7404`. This error message indicates that Maven is unable to find the refinery package in the specified repository. What am I doing wrong?","body":"Good afternoon. I  followed the instructions correctly and added the following code to Maven settings: <code>maven {     name = &quot;VorTECHsa GitHubPackages&quot;     url = uri(&quot;https:&#47;&#47;maven.pkg.github.com&#47;VorTECHsa&#47;refinery&quot;)     credentials {         username = &quot;&lt;username&gt;&quot;         password = &quot;&lt;password&gt;&quot;     } }</code> However, I&#39;m receiving an error that says <code>untitled:main: Could not resolve com.github.VorTECHsa:refinery:0691ce7404</code>. This error message indicates that Maven is unable to find the refinery package in the specified repository. What am I doing wrong?"}],"tags":[],"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679940953,"creation_date":1679940953,"answer_id":75859081,"question_id":75858676,"body_markdown":"I have never seen this before, but this library is unconventional in that they didn&#39;t publish it to Maven Central or make it intentionally buildable by JitPack. Instead, it is only published to GitHub Packages. This makes this into a big hassle, because GitHub requires you to authenticate, even just to read public repositories.\r\n\r\nI think it should work with JitPack though, because the page for this repository on JitPack shows it as a successful build. It just doesn&#39;t have a proper version number for the last commit that corresponds to a release version.  JitPack isn&#39;t something that the library author publishes to, so it may not have the group ID, artifact ID, or version number that the library author intended. JitPack automatically builds projects on demand using a group name based on the GitHub address.\r\n\r\nSo, to do this with Jitpack, which is the easier way:\r\n\r\nAdd to your `repositories` block in the `build.gradle` file the info for this extra Maven repository:\r\n\r\n```groovy\r\nrepositories {\r\n    mavenCentral()\r\n\r\n    maven { url &#39;https://jitpack.io&#39; }\r\n}\r\n```\r\n\r\nAnd change your implementation line to use the JitPack version of this library:\r\n\r\n```\r\nimplementation(&quot;com.github.VorTECHsa:refinery:0691ce7404&quot;)\r\n```\r\nHere, the version number is the commit number that corresponds with the date of their last release. It wasn&#39;t build by JitPack until just a moment ago when I requested it by clicking it on their web site. It looks like it was successful, so this *should* work.\r\n\r\n----\r\n\r\nTo do this with GitHub packages, which is the hard way, but maybe more proper because it&#39;s what the library author intended and has the version number:\r\n\r\nSo first, you need a GitHub account. And then you need to generate a read token for your account according to the [instructions here][1]. Tokens expire after some time, so that&#39;s a gotcha that will bite you down the road when your project stops building and you forgot that you have to occasionally get a refreshed token. When you create the token, you should only need to check the box for `read:packages`.\r\n\r\nThen add to your `repositories` block in the `build.gradle` file the info for this extra Maven repository:\r\n\r\n```groovy\r\nrepositories {\r\n    mavenCentral()\r\n\r\n    maven {\r\n        name = &quot;VorTECHsa GitHubPackages&quot;\r\n        url = &quot;https://maven.pkg.github.com/VorTECHsa/refinery&quot;\r\n        credentials {\r\n            username = &quot;&lt;your github username&gt;&quot;\r\n            password = &quot;&lt;the token you generated&gt;&quot;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nSince it&#39;s not a good idea to check a token into version control, you are recommended to put your token into your system variables. Then you can reference it in Gradle like this:\r\n\r\n```\r\npassword = System.getEnv(&quot;YOUR_GITHUB_TOKEN_ENVIRONMENT_VARIABLE_KEY&quot;)\r\n```\r\n\r\nYou can do the same thing with your GitHub user name if you don&#39;t want to check that into version control either.\r\n\r\n  [1]: https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/creating-a-personal-access-token","title":"How to configure Gradle to connect to the repository with the source code of the library from Github?","body":"<p>I have never seen this before, but this library is unconventional in that they didn't publish it to Maven Central or make it intentionally buildable by JitPack. Instead, it is only published to GitHub Packages. This makes this into a big hassle, because GitHub requires you to authenticate, even just to read public repositories.</p>\n<p>I think it should work with JitPack though, because the page for this repository on JitPack shows it as a successful build. It just doesn't have a proper version number for the last commit that corresponds to a release version.  JitPack isn't something that the library author publishes to, so it may not have the group ID, artifact ID, or version number that the library author intended. JitPack automatically builds projects on demand using a group name based on the GitHub address.</p>\n<p>So, to do this with Jitpack, which is the easier way:</p>\n<p>Add to your <code>repositories</code> block in the <code>build.gradle</code> file the info for this extra Maven repository:</p>\n<pre><code>repositories {\n    mavenCentral()\n\n    maven { url 'https://jitpack.io' }\n}\n</code></pre>\n<p>And change your implementation line to use the JitPack version of this library:</p>\n<pre><code>implementation(&quot;com.github.VorTECHsa:refinery:0691ce7404&quot;)\n</code></pre>\n<p>Here, the version number is the commit number that corresponds with the date of their last release. It wasn't build by JitPack until just a moment ago when I requested it by clicking it on their web site. It looks like it was successful, so this <em>should</em> work.</p>\n<hr />\n<p>To do this with GitHub packages, which is the hard way, but maybe more proper because it's what the library author intended and has the version number:</p>\n<p>So first, you need a GitHub account. And then you need to generate a read token for your account according to the <a href=\"https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/creating-a-personal-access-token\" rel=\"nofollow noreferrer\">instructions here</a>. Tokens expire after some time, so that's a gotcha that will bite you down the road when your project stops building and you forgot that you have to occasionally get a refreshed token. When you create the token, you should only need to check the box for <code>read:packages</code>.</p>\n<p>Then add to your <code>repositories</code> block in the <code>build.gradle</code> file the info for this extra Maven repository:</p>\n<pre><code>repositories {\n    mavenCentral()\n\n    maven {\n        name = &quot;VorTECHsa GitHubPackages&quot;\n        url = &quot;https://maven.pkg.github.com/VorTECHsa/refinery&quot;\n        credentials {\n            username = &quot;&lt;your github username&gt;&quot;\n            password = &quot;&lt;the token you generated&gt;&quot;\n        }\n    }\n}\n</code></pre>\n<p>Since it's not a good idea to check a token into version control, you are recommended to put your token into your system variables. Then you can reference it in Gradle like this:</p>\n<pre><code>password = System.getEnv(&quot;YOUR_GITHUB_TOKEN_ENVIRONMENT_VARIABLE_KEY&quot;)\n</code></pre>\n<p>You can do the same thing with your GitHub user name if you don't want to check that into version control either.</p>\n"},{"comments":[{"owner":{"account_id":26582014,"reputation":11,"user_id":20206528,"display_name":"GbreH"},"score":0,"creation_date":1680013773,"post_id":75867209,"comment_id":133821990,"body_markdown":"The line of code &#39;val file = File(fileName)&#39; helped to solve the problem related to reading data from a file. Thus, the import of the library was successful.","body":"The line of code &#39;val file = File(fileName)&#39; helped to solve the problem related to reading data from a file. Thus, the import of the library was successful."}],"tags":[],"owner":{"account_id":26582014,"reputation":11,"user_id":20206528,"display_name":"GbreH"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680011636,"creation_date":1680011636,"answer_id":75867209,"question_id":75858676,"body_markdown":"To date, what I have done is clone the https://github.com/VorTECHsa/refinery repository. Then, I deleted the test that did not pass when compiled (StringCellParserTest) and performed a Gradle build. After that, I created a new project, added the Refinery JAR files to the libs folder, and added the following code to the `build.gradle.kts` file.\r\n```\r\ndependencies {\r\n    testImplementation(kotlin(&quot;test&quot;))\r\n    implementation(&quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8&quot;)\r\n    implementation(&quot;org.apache.poi:poi-ooxml:5.2.2&quot;)\r\n    implementation(&quot;org.apache.poi:poi:5.2.2&quot;)\r\n    implementation(&quot;org.junit.jupiter:junit-jupiter:5.8.2&quot;)\r\n    testImplementation(&quot;org.junit.jupiter:junit-jupiter-engine:5.8.1&quot;)\r\n    implementation(&quot;org.assertj:assertj-core:3.19.0&quot;)\r\n    implementation(fileTree(&quot;libs&quot;) {\r\n        include(&quot;*.jar&quot;)\r\n    })\r\n}\r\n```\r\nThe `Main.kt` file contains the following code:\r\n```import com.vortexa.refinery.cell.StringHeaderCell\r\nimport com.vortexa.refinery.dsl.SheetParserDefinition\r\nimport com.vortexa.refinery.dsl.TableParserDefinition\r\nimport com.vortexa.refinery.dsl.WorkbookParserDefinition\r\nimport com.vortexa.refinery.exceptions.ExceptionManager\r\nimport com.vortexa.refinery.WorkbookParser\r\nimport org.apache.poi.ss.usermodel.WorkbookFactory \r\nimport kotlin.reflect.KClass\r\nimport java.io.File\r\n\r\n\r\nfun main() {\r\n        // given\r\n        val string = StringHeaderCell(&quot;string&quot;)\r\n        val number = StringHeaderCell(&quot;number&quot;)\r\n        val date = StringHeaderCell(&quot;date&quot;)\r\n        val optionalString = StringHeaderCell(&quot;optional_str&quot;)\r\n        val definition = WorkbookParserDefinition(\r\n            spreadsheetParserDefinitions = listOf(\r\n                SheetParserDefinition(\r\n                    sheetNameFilter = { true },\r\n                    tableDefinitions = listOf(1, 2, 3).map {\r\n                        TableParserDefinition(\r\n                            setOf(string, number, date),\r\n                            setOf(optionalString),\r\n                            anchor = &quot;table $it&quot;\r\n                        )\r\n                    }\r\n                )\r\n            )\r\n        )\r\n\r\n        val fileName = &quot;test_spreadsheet_multitable_anchors.xlsx&quot;\r\n        val file = File(javaClass.classLoader.getResource(fileName)!!.file)\r\n        val records = WorkbookFactory.create(file).use {\r\n            WorkbookParser(definition, it, exceptionManager, fileName).parse()\r\n        }\r\n    print(records)\r\n    }\r\n```\r\nBut I am having problems with `javaClass` (I think it&#39;s a basic issue), but I won&#39;t know if the library works this way or not until I get the results. What changes should I make to the `Main.kt` code to get rid of errors and obtain the results?","title":"How to configure Gradle to connect to the repository with the source code of the library from Github?","body":"<p>To date, what I have done is clone the <a href=\"https://github.com/VorTECHsa/refinery\" rel=\"nofollow noreferrer\">https://github.com/VorTECHsa/refinery</a> repository. Then, I deleted the test that did not pass when compiled (StringCellParserTest) and performed a Gradle build. After that, I created a new project, added the Refinery JAR files to the libs folder, and added the following code to the <code>build.gradle.kts</code> file.</p>\n<pre><code>dependencies {\n    testImplementation(kotlin(&quot;test&quot;))\n    implementation(&quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8&quot;)\n    implementation(&quot;org.apache.poi:poi-ooxml:5.2.2&quot;)\n    implementation(&quot;org.apache.poi:poi:5.2.2&quot;)\n    implementation(&quot;org.junit.jupiter:junit-jupiter:5.8.2&quot;)\n    testImplementation(&quot;org.junit.jupiter:junit-jupiter-engine:5.8.1&quot;)\n    implementation(&quot;org.assertj:assertj-core:3.19.0&quot;)\n    implementation(fileTree(&quot;libs&quot;) {\n        include(&quot;*.jar&quot;)\n    })\n}\n</code></pre>\n<p>The <code>Main.kt</code> file contains the following code:</p>\n<pre><code>import com.vortexa.refinery.dsl.SheetParserDefinition\nimport com.vortexa.refinery.dsl.TableParserDefinition\nimport com.vortexa.refinery.dsl.WorkbookParserDefinition\nimport com.vortexa.refinery.exceptions.ExceptionManager\nimport com.vortexa.refinery.WorkbookParser\nimport org.apache.poi.ss.usermodel.WorkbookFactory \nimport kotlin.reflect.KClass\nimport java.io.File\n\n\nfun main() {\n        // given\n        val string = StringHeaderCell(&quot;string&quot;)\n        val number = StringHeaderCell(&quot;number&quot;)\n        val date = StringHeaderCell(&quot;date&quot;)\n        val optionalString = StringHeaderCell(&quot;optional_str&quot;)\n        val definition = WorkbookParserDefinition(\n            spreadsheetParserDefinitions = listOf(\n                SheetParserDefinition(\n                    sheetNameFilter = { true },\n                    tableDefinitions = listOf(1, 2, 3).map {\n                        TableParserDefinition(\n                            setOf(string, number, date),\n                            setOf(optionalString),\n                            anchor = &quot;table $it&quot;\n                        )\n                    }\n                )\n            )\n        )\n\n        val fileName = &quot;test_spreadsheet_multitable_anchors.xlsx&quot;\n        val file = File(javaClass.classLoader.getResource(fileName)!!.file)\n        val records = WorkbookFactory.create(file).use {\n            WorkbookParser(definition, it, exceptionManager, fileName).parse()\n        }\n    print(records)\n    }\n</code></pre>\n<p>But I am having problems with <code>javaClass</code> (I think it's a basic issue), but I won't know if the library works this way or not until I get the results. What changes should I make to the <code>Main.kt</code> code to get rid of errors and obtain the results?</p>\n"}],"owner":{"account_id":26582014,"reputation":11,"user_id":20206528,"display_name":"GbreH"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":336,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75867209,"answer_count":2,"score":1,"last_activity_date":1680011636,"creation_date":1679938078,"question_id":75858676,"body_markdown":"I have a `build.gradle.kts` file with the following code:\r\n```\r\nplugins {\r\n    kotlin(&quot;jvm&quot;) version &quot;1.8.0&quot;\r\n    application\r\n}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    implementation(&quot;org.apache.poi:poi-ooxml:5.2.0&quot;)\r\n    implementation(&quot;org.apache.poi:poi:5.2.0&quot;)\r\n    implementation(&quot;com.vortexa.refinery:refinery:master.161&quot;)\r\n}\r\n\r\n}\r\n```\r\n\r\n\r\nBut I&#39;m getting an error: `untitled:main: Could not find com.vortexa.refinery:refinery:master.161`. Can I clone the repository (https://github.com/VorTECHsa/refinery) and somehow connect it?","title":"How to configure Gradle to connect to the repository with the source code of the library from Github?","body":"<p>I have a <code>build.gradle.kts</code> file with the following code:</p>\n<pre><code>plugins {\n    kotlin(&quot;jvm&quot;) version &quot;1.8.0&quot;\n    application\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation(&quot;org.apache.poi:poi-ooxml:5.2.0&quot;)\n    implementation(&quot;org.apache.poi:poi:5.2.0&quot;)\n    implementation(&quot;com.vortexa.refinery:refinery:master.161&quot;)\n}\n\n}\n</code></pre>\n<p>But I'm getting an error: <code>untitled:main: Could not find com.vortexa.refinery:refinery:master.161</code>. Can I clone the repository (<a href=\"https://github.com/VorTECHsa/refinery\" rel=\"nofollow noreferrer\">https://github.com/VorTECHsa/refinery</a>) and somehow connect it?</p>\n"},{"tags":["java","ant"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1679945961,"post_id":75859252,"comment_id":133809010,"body_markdown":"The project hasn&#39;t been updated in 10 years and was written for Java 1.6. There is even a bug report about building in 2022 (https://github.com/dwdyer/zeitgeist/issues/3) but with little activity. It seems to use some ant support library (https://github.com/dwdyer/uncommons-antlib), but that one also hasn&#39;t been updated in 10 years. This might require some heavy lifting to upgrade it to Java versions 9 and later.","body":"The project hasn&#39;t been updated in 10 years and was written for Java 1.6. There is even a bug report about building in 2022 (<a href=\"https://github.com/dwdyer/zeitgeist/issues/3\" rel=\"nofollow noreferrer\">github.com/dwdyer/zeitgeist/issues/3</a>) but with little activity. It seems to use some ant support library (<a href=\"https://github.com/dwdyer/uncommons-antlib\" rel=\"nofollow noreferrer\">github.com/dwdyer/uncommons-antlib</a>), but that one also hasn&#39;t been updated in 10 years. This might require some heavy lifting to upgrade it to Java versions 9 and later."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1679945979,"post_id":75859252,"comment_id":133809014,"body_markdown":"Your best bet might be to use OpenJDK 1.8 to build and run it.","body":"Your best bet might be to use OpenJDK 1.8 to build and run it."}],"answers":[{"comments":[{"owner":{"account_id":23121492,"reputation":3,"user_id":17227966,"display_name":"JJWakes"},"score":1,"creation_date":1680351647,"post_id":75867197,"comment_id":133885861,"body_markdown":"Thank you. I added the following target to build.xml:\n`\n&lt;target name=&quot;compile&quot;&gt;\n    &lt;javac destdir=&quot;./core/build/classes/main&quot;\n\t   debug=&quot;on&quot;\n\t   deprecation=&quot;on&quot;\n\t   optimize=&quot;on&quot;\n\t   source=&quot;1.9&quot;\n\t   target=&quot;1.9&quot;\n\t   srcdir=&quot;./core/src/java/main&quot;\n\t   includeantruntime=&quot;false&quot;/&gt;\n  &lt;/target&gt;\n`\n\nThis fixed the reported error. I still had plenty of missing dependencies stopping me, but this totally fixed the issue framed in my initial question","body":"Thank you. I added the following target to build.xml: ` &lt;target name=&quot;compile&quot;&gt;     &lt;javac destdir=&quot;./core/build/classes/main&quot; \t   debug=&quot;on&quot; \t   deprecation=&quot;on&quot; \t   optimize=&quot;on&quot; \t   source=&quot;1.9&quot; \t   target=&quot;1.9&quot; \t   srcdir=&quot;./core/src/java/main&quot; \t   includeantruntime=&quot;false&quot;/&gt;   &lt;/target&gt; `  This fixed the reported error. I still had plenty of missing dependencies stopping me, but this totally fixed the issue framed in my initial question"}],"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680011590,"creation_date":1680011590,"answer_id":75867197,"question_id":75859252,"body_markdown":"You need to upgrade the uncommons-antlib by changing the source &amp; target in build.xml to 1.8. You might be good to go or you may have to build uncommons-antlib separately first.\r\n\r\n    &lt;javac destdir=&quot;./build/classes/main&quot;\r\n           debug=&quot;on&quot;\r\n           deprecation=&quot;on&quot;\r\n           optimize=&quot;on&quot;\r\n           source=&quot;1.5&quot;\r\n           target=&quot;1.5&quot;\r\n           srcdir=&quot;./src/java/main&quot;\r\n           includeantruntime=&quot;false&quot;&gt;\r\n \r\nOr you can install an ancient jdk, ie 1.7. ","title":"Ant error: [javac] error: Source option 6 is no longer supported. Use 8 or later","body":"<p>You need to upgrade the uncommons-antlib by changing the source &amp; target in build.xml to 1.8. You might be good to go or you may have to build uncommons-antlib separately first.</p>\n<pre><code>&lt;javac destdir=&quot;./build/classes/main&quot;\n       debug=&quot;on&quot;\n       deprecation=&quot;on&quot;\n       optimize=&quot;on&quot;\n       source=&quot;1.5&quot;\n       target=&quot;1.5&quot;\n       srcdir=&quot;./src/java/main&quot;\n       includeantruntime=&quot;false&quot;&gt;\n</code></pre>\n<p>Or you can install an ancient jdk, ie 1.7.</p>\n"}],"owner":{"account_id":23121492,"reputation":3,"user_id":17227966,"display_name":"JJWakes"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":854,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75867197,"answer_count":1,"score":0,"last_activity_date":1680011590,"creation_date":1679942215,"question_id":75859252,"body_markdown":"I have a local copy of the repo at https://github.com/dwdyer/zeitgeist which I&#39;m trying to build from. I followed the instructions in the repo&#39;s README file to build it using Ant, but got the following errors:\r\n\r\n```\r\n    [javac] error: Source option 6 is no longer supported. Use 8 or later.\r\n    [javac] error: Target option 6 is no longer supported. Use 8 or later.\r\n```\r\n\r\nFollowing the README instructions https://github.com/dwdyer/zeitgeist/blob/master/README.txt I run\r\n\r\n`ant clean dist`\r\n\r\nin project root directory. The build failed with the following console output:\r\n\r\n```\r\nANT_OPTS is set to  -Djava.security.manager=allow\r\nBuildfile: C:\\Users\\josep\\Not_Junk\\Temp\\zeitgeist-master\\build.xml\r\n\r\nclean:\r\n   [delete] Deleting directory C:\\Users\\josep\\Not_Junk\\Temp\\zeitgeist-master\\core\\build\r\n\r\ncore:\r\n    [mkdir] Created dir: C:\\Users\\josep\\Not_Junk\\Temp\\zeitgeist-master\\core\\build\\classes\\main\r\n    [mkdir] Created dir: C:\\Users\\josep\\Not_Junk\\Temp\\zeitgeist-master\\core\\build\\generated\\main\r\n    [javac] Compiling 16 source files to C:\\Users\\josep\\Not_Junk\\Temp\\zeitgeist-master\\core\\build\\classes\\main\r\n    [javac] warning: [options] bootstrap class path not set in conjunction with -source 6\r\n    [javac] error: Source option 6 is no longer supported. Use 8 or later.\r\n    [javac] error: Target option 6 is no longer supported. Use 8 or later.\r\n\r\nBUILD FAILED\r\nC:\\Users\\josep\\Not_Junk\\Temp\\zeitgeist-master\\build.xml:68: The following error occurred while executing this line:\r\njar:file:/C:/Users/josep/Not_Junk/Temp/zeitgeist-master/lib/compiletime/uncommons-antlib-0.3.3.jar!/org/uncommons/antlib/antlib.xml:120: The following error occurred while executing this line:\r\njar:file:/C:/Users/josep/Not_Junk/Temp/zeitgeist-master/lib/compiletime/uncommons-antlib-0.3.3.jar!/org/uncommons/antlib/antlib.xml:83: Compile failed; see the compiler error output for details.\r\n\r\nTotal time: 0 seconds\r\n```\r\n\r\njava and javac versions are as follows:\r\n\r\n```\r\n&gt;java -version\r\njava version &quot;20&quot; 2023-03-21\r\nJava(TM) SE Runtime Environment (build 20+36-2344)\r\nJava HotSpot(TM) 64-Bit Server VM (build 20+36-2344, mixed mode, sharing)\r\n\r\n\r\n&gt;javac -version\r\njavac 20\r\n```\r\n\r\nSolutions for similar issues I&#39;ve seen suggested are to change  block starting `&lt;target name=&quot;javac&quot; ...` in the build.xml file. However, https://github.com/dwdyer/zeitgeist/blob/master/build.xml contains no mention of &quot;javac&quot; or &quot;compiler&quot; so if adding a section like this is the solution, I have no idea how to format it.\r\n\r\nI haven&#39;t used Ant before, so I don&#39;t have any familiarity with how the build.xml file should be structured.","title":"Ant error: [javac] error: Source option 6 is no longer supported. Use 8 or later","body":"<p>I have a local copy of the repo at <a href=\"https://github.com/dwdyer/zeitgeist\" rel=\"nofollow noreferrer\">https://github.com/dwdyer/zeitgeist</a> which I'm trying to build from. I followed the instructions in the repo's README file to build it using Ant, but got the following errors:</p>\n<pre><code>    [javac] error: Source option 6 is no longer supported. Use 8 or later.\n    [javac] error: Target option 6 is no longer supported. Use 8 or later.\n</code></pre>\n<p>Following the README instructions <a href=\"https://github.com/dwdyer/zeitgeist/blob/master/README.txt\" rel=\"nofollow noreferrer\">https://github.com/dwdyer/zeitgeist/blob/master/README.txt</a> I run</p>\n<p><code>ant clean dist</code></p>\n<p>in project root directory. The build failed with the following console output:</p>\n<pre><code>ANT_OPTS is set to  -Djava.security.manager=allow\nBuildfile: C:\\Users\\josep\\Not_Junk\\Temp\\zeitgeist-master\\build.xml\n\nclean:\n   [delete] Deleting directory C:\\Users\\josep\\Not_Junk\\Temp\\zeitgeist-master\\core\\build\n\ncore:\n    [mkdir] Created dir: C:\\Users\\josep\\Not_Junk\\Temp\\zeitgeist-master\\core\\build\\classes\\main\n    [mkdir] Created dir: C:\\Users\\josep\\Not_Junk\\Temp\\zeitgeist-master\\core\\build\\generated\\main\n    [javac] Compiling 16 source files to C:\\Users\\josep\\Not_Junk\\Temp\\zeitgeist-master\\core\\build\\classes\\main\n    [javac] warning: [options] bootstrap class path not set in conjunction with -source 6\n    [javac] error: Source option 6 is no longer supported. Use 8 or later.\n    [javac] error: Target option 6 is no longer supported. Use 8 or later.\n\nBUILD FAILED\nC:\\Users\\josep\\Not_Junk\\Temp\\zeitgeist-master\\build.xml:68: The following error occurred while executing this line:\njar:file:/C:/Users/josep/Not_Junk/Temp/zeitgeist-master/lib/compiletime/uncommons-antlib-0.3.3.jar!/org/uncommons/antlib/antlib.xml:120: The following error occurred while executing this line:\njar:file:/C:/Users/josep/Not_Junk/Temp/zeitgeist-master/lib/compiletime/uncommons-antlib-0.3.3.jar!/org/uncommons/antlib/antlib.xml:83: Compile failed; see the compiler error output for details.\n\nTotal time: 0 seconds\n</code></pre>\n<p>java and javac versions are as follows:</p>\n<pre><code>&gt;java -version\njava version &quot;20&quot; 2023-03-21\nJava(TM) SE Runtime Environment (build 20+36-2344)\nJava HotSpot(TM) 64-Bit Server VM (build 20+36-2344, mixed mode, sharing)\n\n\n&gt;javac -version\njavac 20\n</code></pre>\n<p>Solutions for similar issues I've seen suggested are to change  block starting <code>&lt;target name=&quot;javac&quot; ...</code> in the build.xml file. However, <a href=\"https://github.com/dwdyer/zeitgeist/blob/master/build.xml\" rel=\"nofollow noreferrer\">https://github.com/dwdyer/zeitgeist/blob/master/build.xml</a> contains no mention of &quot;javac&quot; or &quot;compiler&quot; so if adding a section like this is the solution, I have no idea how to format it.</p>\n<p>I haven't used Ant before, so I don't have any familiarity with how the build.xml file should be structured.</p>\n"},{"tags":["java","jpa","playframework","sbt"],"comments":[{"owner":{"account_id":7034556,"reputation":12335,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":0,"creation_date":1679941554,"post_id":75854111,"comment_id":133808017,"body_markdown":"That&#39;s Java, right? Not Scala.","body":"That&#39;s Java, right? Not Scala."},{"owner":{"account_id":27737169,"reputation":1,"user_id":21174487,"display_name":"Andr Santos"},"score":0,"creation_date":1680011424,"post_id":75854111,"comment_id":133821315,"body_markdown":"Yep, you&#39;re right","body":"Yep, you&#39;re right"},{"owner":{"account_id":11174137,"reputation":61,"user_id":8200261,"display_name":"Tomas Zeman"},"score":0,"creation_date":1696965019,"post_id":75854111,"comment_id":136219216,"body_markdown":"Please check out my example which uses injection of jpaAPI https://github.com/ertra/play-framework-by-example/blob/master/app/dao/BookDAOImp.java , just inject it in the constructor   using   @Inject","body":"Please check out my example which uses injection of jpaAPI <a href=\"https://github.com/ertra/play-framework-by-example/blob/master/app/dao/BookDAOImp.java\" rel=\"nofollow noreferrer\">github.com/ertra/play-framework-by-example/blob/master/app/d&zwnj;&#8203;ao/&hellip;</a> , just inject it in the constructor   using   @Inject"}],"owner":{"account_id":27737169,"reputation":1,"user_id":21174487,"display_name":"Andr Santos"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680011414,"creation_date":1679909401,"question_id":75854111,"body_markdown":"So I am currently upgrading a project to Play 2.8 version, and I&#39;ve managed to adapt Unit tests and the whole application to run the JPA API as requested in this new version, with Dependency Injection of the JPA API.\r\n\r\nIn my DBUnit Helper class, I had the following:\r\n```\r\nJPAApi jpaApi = Play.current().injector().instanceOf(JPAApi.class);\r\njpaApi.withTransaction((EntityManager em) -&gt; {\r\n// RUN QUERIES\r\n};\r\n```\r\n\r\nHow can I instantiate JPA API here? Or am I using dependency injection wrong?\r\n\r\nWith Play 2.8 this is no longer possible `Play.current().inject()`. I tried to Inject the dependency with Guice injector but without success.","title":"Can&#39;t Inject JPA API after Play 2.8 upgrade in Integration Tests (Scala)","body":"<p>So I am currently upgrading a project to Play 2.8 version, and I've managed to adapt Unit tests and the whole application to run the JPA API as requested in this new version, with Dependency Injection of the JPA API.</p>\n<p>In my DBUnit Helper class, I had the following:</p>\n<pre><code>JPAApi jpaApi = Play.current().injector().instanceOf(JPAApi.class);\njpaApi.withTransaction((EntityManager em) -&gt; {\n// RUN QUERIES\n};\n</code></pre>\n<p>How can I instantiate JPA API here? Or am I using dependency injection wrong?</p>\n<p>With Play 2.8 this is no longer possible <code>Play.current().inject()</code>. I tried to Inject the dependency with Guice injector but without success.</p>\n"},{"tags":["java","file","java.util.scanner"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1679965772,"post_id":75861518,"comment_id":133812161,"body_markdown":"To preserve whitespace, don&#39;t remove it in the first place. It is not removed from a String unless you, the coder, explicitly remove it.","body":"To preserve whitespace, don&#39;t remove it in the first place. It is not removed from a String unless you, the coder, explicitly remove it."}],"answers":[{"tags":[],"owner":{"account_id":28072574,"reputation":181,"user_id":21444923,"display_name":"Giuk Kim"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679966769,"creation_date":1679966025,"answer_id":75861588,"question_id":75861518,"body_markdown":"```\r\n            while(scnr.hasNext()) {\r\n                if(word.matches(&quot;[a-zA-Z]+&quot;)) {\r\n                    if(!dictionary.contains(word.toLowerCase())) {\r\n                        outputFile.print(&quot;&lt;&quot; + word + &quot;&gt;&quot;);\r\n                    }\r\n                    else\r\n                        outputFile.print(word);\r\n                }\r\n                else {\r\n                    String[] words = word.split(&quot;((?=[^a-zA-Z])|(?&lt;=[^a-zA-Z]))&quot;);\r\n                    for(String splitWord: words) {\r\n                        if(!dictionary.contains(splitWord.toLowerCase())) {\r\n                            outputFile.print(&quot;&lt;&quot; + splitWord + &quot;&gt;&quot;);\r\n                        }\r\n                        else\r\n                            outputFile.print(splitWord);\r\n                    }\r\n                }\r\n                word = scnr.next();\r\n            }\r\n```\r\nthis is why space is deleted.\r\n\r\nword and splitWord is not contain space.\r\n\r\nbecause you are reading word with `scnr.next()`\r\n\r\n`next()` reads file until space or line change.\r\n\r\nchange like this\r\n`outputFile.print(splitWord+&quot; &quot;);` or\r\n`outputFile.format(&quot;%s &quot;, splitWord);`\r\n\r\nwill save space.\r\n\r\nbut this will not save `\\n` or `\\t`\r\n\r\nif you want to save `\\n` also,\r\n\r\n```    while(scnr.hasNext()) {\r\n      for(String word:words){\r\n        if(word.matches(&quot;[a-zA-Z]+&quot;)) {\r\n          if(!dictionary.contains(word.toLowerCase())) {\r\n            outputFile.print(&quot;&lt;&quot; + word + &quot;&gt;&quot;);\r\n          }\r\n          else\r\n            outputFile.print(word);\r\n        }\r\n        else {\r\n          String[] words = word.split(&quot;((?=[^a-zA-Z])|(?&lt;=[^a-zA-Z]))&quot;);\r\n          for(String splitWord: words) {\r\n            if(!dictionary.contains(splitWord.toLowerCase())) {\r\n              outputFile.print(&quot;&lt;&quot; + splitWord + &quot;&gt;&quot;);\r\n            }\r\n            else\r\n              outputFile.print(splitWord);\r\n          }\r\n        }\r\n        outputFile.println();\r\n      }\r\n      nextLine = scnr.nextLine();\r\n      words = nextLine.split(&quot; &quot;);\r\n    }\r\n```","title":"How to write to a new text file and preserve white spacing?","body":"<pre><code>            while(scnr.hasNext()) {\n                if(word.matches(&quot;[a-zA-Z]+&quot;)) {\n                    if(!dictionary.contains(word.toLowerCase())) {\n                        outputFile.print(&quot;&lt;&quot; + word + &quot;&gt;&quot;);\n                    }\n                    else\n                        outputFile.print(word);\n                }\n                else {\n                    String[] words = word.split(&quot;((?=[^a-zA-Z])|(?&lt;=[^a-zA-Z]))&quot;);\n                    for(String splitWord: words) {\n                        if(!dictionary.contains(splitWord.toLowerCase())) {\n                            outputFile.print(&quot;&lt;&quot; + splitWord + &quot;&gt;&quot;);\n                        }\n                        else\n                            outputFile.print(splitWord);\n                    }\n                }\n                word = scnr.next();\n            }\n</code></pre>\n<p>this is why space is deleted.</p>\n<p>word and splitWord is not contain space.</p>\n<p>because you are reading word with <code>scnr.next()</code></p>\n<p><code>next()</code> reads file until space or line change.</p>\n<p>change like this\n<code>outputFile.print(splitWord+&quot; &quot;);</code> or\n<code>outputFile.format(&quot;%s &quot;, splitWord);</code></p>\n<p>will save space.</p>\n<p>but this will not save <code>\\n</code> or <code>\\t</code></p>\n<p>if you want to save <code>\\n</code> also,</p>\n<pre><code>      for(String word:words){\n        if(word.matches(&quot;[a-zA-Z]+&quot;)) {\n          if(!dictionary.contains(word.toLowerCase())) {\n            outputFile.print(&quot;&lt;&quot; + word + &quot;&gt;&quot;);\n          }\n          else\n            outputFile.print(word);\n        }\n        else {\n          String[] words = word.split(&quot;((?=[^a-zA-Z])|(?&lt;=[^a-zA-Z]))&quot;);\n          for(String splitWord: words) {\n            if(!dictionary.contains(splitWord.toLowerCase())) {\n              outputFile.print(&quot;&lt;&quot; + splitWord + &quot;&gt;&quot;);\n            }\n            else\n              outputFile.print(splitWord);\n          }\n        }\n        outputFile.println();\n      }\n      nextLine = scnr.nextLine();\n      words = nextLine.split(&quot; &quot;);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680011382,"creation_date":1680011382,"answer_id":75867155,"question_id":75861518,"body_markdown":"The problem is this:\r\n\r\n    word = scnr.next();\r\n\r\nThat causes the Scanner to discard all whitespace up to the next token.\r\n\r\nTo preserve everything in the file, you cannot use the zero-argument hasNext() and next() methods.\r\n\r\nInstead, use the [hasNext(Pattern)](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Scanner.html#hasNext(java.util.regex.Pattern)) and [next(Pattern)](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Scanner.html#next(java.util.regex.Pattern)) methods, so you will be able to keep every character:\r\n\r\n    Pattern wordPattern = Patter.compile(&quot;(\\\\W*)(\\\\w+)&quot;);\r\n\r\n    while (scnr.hasNext(wordPattern)) {\r\n        scnr.next(wordPattern);\r\n\r\n        String separator = scnr.match().group(1);\r\n        String word = scnr.match().group(2);\r\n\r\n        outputFile.print(separator);\r\n        if (!dictionary.contains(word.toLowerCase())) {\r\n            outputFile.print(&quot;&lt;&quot; + word + &quot;&gt;&quot;);\r\n        } else {\r\n            outputFile.print(word);\r\n        }\r\n    }\r\n","title":"How to write to a new text file and preserve white spacing?","body":"<p>The problem is this:</p>\n<pre><code>word = scnr.next();\n</code></pre>\n<p>That causes the Scanner to discard all whitespace up to the next token.</p>\n<p>To preserve everything in the file, you cannot use the zero-argument hasNext() and next() methods.</p>\n<p>Instead, use the <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Scanner.html#hasNext(java.util.regex.Pattern)\" rel=\"nofollow noreferrer\">hasNext(Pattern)</a> and <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Scanner.html#next(java.util.regex.Pattern)\" rel=\"nofollow noreferrer\">next(Pattern)</a> methods, so you will be able to keep every character:</p>\n<pre><code>Pattern wordPattern = Patter.compile(&quot;(\\\\W*)(\\\\w+)&quot;);\n\nwhile (scnr.hasNext(wordPattern)) {\n    scnr.next(wordPattern);\n\n    String separator = scnr.match().group(1);\n    String word = scnr.match().group(2);\n\n    outputFile.print(separator);\n    if (!dictionary.contains(word.toLowerCase())) {\n        outputFile.print(&quot;&lt;&quot; + word + &quot;&gt;&quot;);\n    } else {\n        outputFile.print(word);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25325728,"reputation":1,"user_id":19146415,"display_name":"h0neybugz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1680011382,"creation_date":1679964837,"question_id":75861518,"body_markdown":"I am trying to &quot;spell check&quot; a given text file, my program reads through the given file and refers to a dictionary hashset given by my teacher. If it finds a word that is not in the dictionary or is split by some characters, it surrounds the word with &lt;&gt;. One condition is that I need to preserve the white spaces between the words, and I do not know how to make sure the program does that.\r\n\r\ncurrent code:\r\n\r\n```\r\npublic static void spellCheck(File processingFile, File dictionaryFile) {\r\n    \ttry {\r\n\t        HashSet&lt;String&gt; dictionary = new HashSet&lt;&gt;();\r\n\t        FileReader processing = new FileReader(processingFile);\r\n\t        FileReader dictionaryF = new FileReader(dictionaryFile);\r\n\t        PrintWriter outputFile = new PrintWriter(&quot;test_spellChecked.txt&quot;);\r\n\t        \r\n\t        Scanner scnr = new Scanner(dictionaryF);\r\n\t        String word = scnr.nextLine();\r\n\t        while(scnr.hasNext()) {\r\n\t\t        //dont need to check for double words cus its literally a dictionary\r\n\t\t        dictionary.add(word);\r\n\t\t        word = scnr.nextLine();\r\n\t        \t\r\n\t        }\r\n\t        //somehow create a stored text file of the processing text that gets changed based on the dictionary check\r\n\t        \r\n\t        scnr = new Scanner(processing);\r\n\t        word = scnr.next();\r\n\t        boolean isCorrect = true;\r\n\t        while(scnr.hasNext()) {\r\n\t        \tif(word.matches(&quot;[a-zA-Z]+&quot;)) {\r\n\t        \t\tif(!dictionary.contains(word.toLowerCase())) {\r\n\t        \t\t\toutputFile.print(&quot;&lt;&quot; + word + &quot;&gt;&quot;);\r\n\t        \t\t}\r\n\t        \t\telse\r\n\t        \t\t\toutputFile.print(word);\r\n\t        \t}\r\n\t        \telse {\r\n\t        \t\tString[] words = word.split(&quot;((?=[^a-zA-Z])|(?&lt;=[^a-zA-Z]))&quot;);\r\n\t        \t\tfor(String splitWord: words) {\r\n\t        \t\t\tif(!dictionary.contains(splitWord.toLowerCase())) {\r\n\t        \t\t\t\toutputFile.print(&quot;&lt;&quot; + splitWord + &quot;&gt;&quot;);\r\n\t        \t\t\t}\r\n\t        \t\t\telse\r\n\t        \t\t\t\toutputFile.print(splitWord);\r\n\t        \t\t}\r\n\t        \t}\r\n\t        \tword = scnr.next();\r\n\t        }\r\n\t        \r\n\t        outputFile.close();\r\n\t        System.out.println(&quot;File has been checked.&quot;);\r\n    \t}\r\n        catch (FileNotFoundException e) {\r\n        \tSystem.out.println(&quot;File not found!&quot;);\r\n        }\r\n        \r\n\r\n    }\r\n```\r\n\r\n\r\nI just figured out how to rewrite the file with the same exact words into the file, I am not sure how to preserve the whitespaces.","title":"How to write to a new text file and preserve white spacing?","body":"<p>I am trying to &quot;spell check&quot; a given text file, my program reads through the given file and refers to a dictionary hashset given by my teacher. If it finds a word that is not in the dictionary or is split by some characters, it surrounds the word with &lt;&gt;. One condition is that I need to preserve the white spaces between the words, and I do not know how to make sure the program does that.</p>\n<p>current code:</p>\n<pre><code>public static void spellCheck(File processingFile, File dictionaryFile) {\n        try {\n            HashSet&lt;String&gt; dictionary = new HashSet&lt;&gt;();\n            FileReader processing = new FileReader(processingFile);\n            FileReader dictionaryF = new FileReader(dictionaryFile);\n            PrintWriter outputFile = new PrintWriter(&quot;test_spellChecked.txt&quot;);\n            \n            Scanner scnr = new Scanner(dictionaryF);\n            String word = scnr.nextLine();\n            while(scnr.hasNext()) {\n                //dont need to check for double words cus its literally a dictionary\n                dictionary.add(word);\n                word = scnr.nextLine();\n                \n            }\n            //somehow create a stored text file of the processing text that gets changed based on the dictionary check\n            \n            scnr = new Scanner(processing);\n            word = scnr.next();\n            boolean isCorrect = true;\n            while(scnr.hasNext()) {\n                if(word.matches(&quot;[a-zA-Z]+&quot;)) {\n                    if(!dictionary.contains(word.toLowerCase())) {\n                        outputFile.print(&quot;&lt;&quot; + word + &quot;&gt;&quot;);\n                    }\n                    else\n                        outputFile.print(word);\n                }\n                else {\n                    String[] words = word.split(&quot;((?=[^a-zA-Z])|(?&lt;=[^a-zA-Z]))&quot;);\n                    for(String splitWord: words) {\n                        if(!dictionary.contains(splitWord.toLowerCase())) {\n                            outputFile.print(&quot;&lt;&quot; + splitWord + &quot;&gt;&quot;);\n                        }\n                        else\n                            outputFile.print(splitWord);\n                    }\n                }\n                word = scnr.next();\n            }\n            \n            outputFile.close();\n            System.out.println(&quot;File has been checked.&quot;);\n        }\n        catch (FileNotFoundException e) {\n            System.out.println(&quot;File not found!&quot;);\n        }\n        \n\n    }\n</code></pre>\n<p>I just figured out how to rewrite the file with the same exact words into the file, I am not sure how to preserve the whitespaces.</p>\n"},{"tags":["java","ssl","tomcat"],"answers":[{"tags":[],"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1443659392,"creation_date":1443659392,"answer_id":32877707,"question_id":31818771,"body_markdown":"The list for Java is provided in [Standard Algorithm Names](http://docs.oracle.com/javase/7/docs/technotes/guides/security/StandardNames.html), under &#39;SSLContext algorithms&#39;. I think there is a general consensus but no formal specification.","title":"Are there any official standards for TLS version strings?","body":"<p>The list for Java is provided in <a href=\"http://docs.oracle.com/javase/7/docs/technotes/guides/security/StandardNames.html\" rel=\"nofollow\">Standard Algorithm Names</a>, under 'SSLContext algorithms'. I think there is a general consensus but no formal specification.</p>\n"}],"owner":{"account_id":4531410,"reputation":473,"user_id":3681767,"display_name":"Zach Fewtrell"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":32877707,"answer_count":1,"score":1,"last_activity_date":1680011370,"creation_date":1438720330,"question_id":31818771,"body_markdown":"Here for instance they mention a couple:\r\n&gt;  e.g. TLSv1 or TLSv1.2 etc.\r\n\r\nhttps://www.codatlas.com/github.com/apache/tomcat/HEAD/java/org/apache/tomcat/util/net/SSLSupport.java?line=58\r\n\r\nIs there an official definition for the possible values of TLS version?  Does it vary from library to library?","title":"Are there any official standards for TLS version strings?","body":"<p>Here for instance they mention a couple:</p>\n\n<blockquote>\n  <p>e.g. TLSv1 or TLSv1.2 etc.</p>\n</blockquote>\n\n<p><a href=\"https://www.codatlas.com/github.com/apache/tomcat/HEAD/java/org/apache/tomcat/util/net/SSLSupport.java?line=58\" rel=\"nofollow\">https://www.codatlas.com/github.com/apache/tomcat/HEAD/java/org/apache/tomcat/util/net/SSLSupport.java?line=58</a></p>\n\n<p>Is there an official definition for the possible values of TLS version?  Does it vary from library to library?</p>\n"},{"tags":["java","postgresql","csv","jdbi"],"comments":[{"owner":{"account_id":1906465,"reputation":39489,"user_id":1721239,"display_name":"jjanes"},"score":0,"creation_date":1680010091,"post_id":75866236,"comment_id":133820891,"body_markdown":"That is not a CSV file.","body":"That is not a CSV file."},{"owner":{"account_id":3092038,"reputation":497,"user_id":2617972,"accept_rate":79,"display_name":"GaripTipici"},"score":0,"creation_date":1680010693,"post_id":75866236,"comment_id":133821087,"body_markdown":"@jjanes, it is in a .csv file. Data does not contain a header.","body":"@jjanes, it is in a .csv file. Data does not contain a header."},{"owner":{"account_id":1906465,"reputation":39489,"user_id":1721239,"display_name":"jjanes"},"score":1,"creation_date":1680011201,"post_id":75866236,"comment_id":133821233,"body_markdown":"Naming your dog &quot;cow&quot; does not turn it into a cow.","body":"Naming your dog &quot;cow&quot; does not turn it into a cow."},{"owner":{"account_id":101001,"reputation":119808,"user_id":271959,"display_name":"Frank Heikens"},"score":0,"creation_date":1680011280,"post_id":75866236,"comment_id":133821261,"body_markdown":"This isn&#39;t csv, you don&#39;t want to Separate between columns, not even on a Comma. What happens when you use WITH (FORMAT TEXT) ?","body":"This isn&#39;t csv, you don&#39;t want to Separate between columns, not even on a Comma. What happens when you use WITH (FORMAT TEXT) ?"},{"owner":{"account_id":3092038,"reputation":497,"user_id":2617972,"accept_rate":79,"display_name":"GaripTipici"},"score":0,"creation_date":1680011448,"post_id":75866236,"comment_id":133821322,"body_markdown":"@jjanes, you are right but this is the case, I cannot change the file extension or data format in the file.","body":"@jjanes, you are right but this is the case, I cannot change the file extension or data format in the file."},{"owner":{"account_id":4349512,"reputation":2216,"user_id":20151367,"display_name":"JohnH"},"score":0,"creation_date":1680012074,"post_id":75866236,"comment_id":133821530,"body_markdown":"It is not a CSV file, each line in the file is JSON. Escaped double quotes don&#39;t break JSON as demonstrated by this query:\n`WITH input (line) AS (VALUES ($$ {&quot;id&quot; :300762, &quot;name&quot; :&quot;Ik wil buiten&quot;, &quot;short_name&quot; :&quot;Ik wil buiten&quot;, &quot;exceptions&quot; :[{&quot;type_id&quot; :3 }, {&quot;type_id&quot; :3 }, {&quot;type_id&quot; :4 }]}$$), ($$ {&quot;id&quot; :300762, &quot;name&quot; :&quot;Ik \\&quot;wil\\&quot; buiten&quot;, &quot;short_name&quot; :&quot;Ik wil buiten&quot;, &quot;exceptions&quot; :[{&quot;type_id&quot; :3 }, {&quot;type_id&quot; :3 }, {&quot;type_id&quot; :4 }]}$$)) SELECT (line::jsonb) -&gt; &#39;name&#39; FROM input;`","body":"It is not a CSV file, each line in the file is JSON. Escaped double quotes don&#39;t break JSON as demonstrated by this query: <code>WITH input (line) AS (VALUES ($$ {&quot;id&quot; :300762, &quot;name&quot; :&quot;Ik wil buiten&quot;, &quot;short_name&quot; :&quot;Ik wil buiten&quot;, &quot;exceptions&quot; :[{&quot;type_id&quot; :3 }, {&quot;type_id&quot; :3 }, {&quot;type_id&quot; :4 }]}$$), ($$ {&quot;id&quot; :300762, &quot;name&quot; :&quot;Ik \\&quot;wil\\&quot; buiten&quot;, &quot;short_name&quot; :&quot;Ik wil buiten&quot;, &quot;exceptions&quot; :[{&quot;type_id&quot; :3 }, {&quot;type_id&quot; :3 }, {&quot;type_id&quot; :4 }]}$$)) SELECT (line::jsonb) -&gt; &#39;name&#39; FROM input;</code>"},{"owner":{"account_id":4349512,"reputation":2216,"user_id":20151367,"display_name":"JohnH"},"score":0,"creation_date":1680016874,"post_id":75866236,"comment_id":133822967,"body_markdown":"The problem is that `\\` is seen as an escape character in the reader process, so `\\&quot;wil\\&quot;` becomes `&quot;wil&quot;` before the COPY process sees the input text. This can be demonstrated by the following: `COPY temp_table FROM PROGRAM $$sed &#39;s/\\\\/\\\\\\\\/g&#39; /tmp/test_file.txt$$`","body":"The problem is that <code>` is seen as an escape character in the reader process, so </code>\\&quot;wil\\&quot;` becomes <code>&quot;wil&quot;</code> before the COPY process sees the input text. This can be demonstrated by the following: <code>COPY temp_table FROM PROGRAM $$sed &#39;s&#47;\\\\&#47;\\\\\\\\&#47;g&#39; &#47;tmp&#47;test_file.txt$$</code>"}],"answers":[{"comments":[{"owner":{"account_id":3092038,"reputation":497,"user_id":2617972,"accept_rate":79,"display_name":"GaripTipici"},"score":0,"creation_date":1680011672,"post_id":75867094,"comment_id":133821397,"body_markdown":"This one worked! In my csv file, there are just texts between quotes so this answer might be accurate. Could you elaborate the answer for the beginners in postgres like me with the detail like what is &#39;E&#39; used for ?","body":"This one worked! In my csv file, there are just texts between quotes so this answer might be accurate. Could you elaborate the answer for the beginners in postgres like me with the detail like what is &#39;E&#39; used for ?"},{"owner":{"account_id":101001,"reputation":119808,"user_id":271959,"display_name":"Frank Heikens"},"score":1,"creation_date":1680015857,"post_id":75867094,"comment_id":133822618,"body_markdown":"@GaripTipici: From the manual: An escape string constant is specified by writing the letter E (upper or lower case) just before the opening single quote, e.g., E&#39;foo&#39;. See https://www.postgresql.org/docs/current/sql-syntax-lexical.html#SQL-SYNTAX-CONSTANTS","body":"@GaripTipici: From the manual: An escape string constant is specified by writing the letter E (upper or lower case) just before the opening single quote, e.g., E&#39;foo&#39;. See <a href=\"https://www.postgresql.org/docs/current/sql-syntax-lexical.html#SQL-SYNTAX-CONSTANTS\" rel=\"nofollow noreferrer\">postgresql.org/docs/current/&hellip;</a>"},{"owner":{"account_id":1906465,"reputation":39489,"user_id":1721239,"display_name":"jjanes"},"score":1,"creation_date":1680018674,"post_id":75867094,"comment_id":133823510,"body_markdown":"Without the E, the &#39;\\t&#39; and &#39;\\b&#39; would each represent a literal backslash followed by another character.  the &#39;E&#39; means they instead represent control characters tab and backspace.  It is like the `-e` switch of the Linux `echo` command, if you are familiar with that.","body":"Without the E, the &#39;\\t&#39; and &#39;\\b&#39; would each represent a literal backslash followed by another character.  the &#39;E&#39; means they instead represent control characters tab and backspace.  It is like the <code>-e</code> switch of the Linux <code>echo</code> command, if you are familiar with that."}],"tags":[],"owner":{"account_id":1906465,"reputation":39489,"user_id":1721239,"display_name":"jjanes"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680011062,"creation_date":1680011062,"answer_id":75867094,"question_id":75866236,"body_markdown":"Based on the two lines we can see, the only special (to the COPY) character in the data is the newline character.  Every thing else should be taken literally, including commas, double quotes and backslashes (all of which are then special to JSON, but must not be to COPY). Unfortunately there is no direct way to tell COPY to do this. You will need to assign the special characters to be ones that don&#39;t appear in your data set. Since the escape character cannot be changed from `\\` in text mode you need to abuse the CSV mode to do this.  Assuming neither tab nor backspace appear in your data, that would leave you with something like this:\r\n\r\n    copy temp_table from stdin with (format csv, quote E&#39;\\t&#39;, delimiter E&#39;\\b&#39;);","title":"COPY JSON formatted CSV Lines into Temp Table in Postgres","body":"<p>Based on the two lines we can see, the only special (to the COPY) character in the data is the newline character.  Every thing else should be taken literally, including commas, double quotes and backslashes (all of which are then special to JSON, but must not be to COPY). Unfortunately there is no direct way to tell COPY to do this. You will need to assign the special characters to be ones that don't appear in your data set. Since the escape character cannot be changed from <code>\\</code> in text mode you need to abuse the CSV mode to do this.  Assuming neither tab nor backspace appear in your data, that would leave you with something like this:</p>\n<pre><code>copy temp_table from stdin with (format csv, quote E'\\t', delimiter E'\\b');\n</code></pre>\n"}],"owner":{"account_id":3092038,"reputation":497,"user_id":2617972,"accept_rate":79,"display_name":"GaripTipici"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":175,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75867094,"answer_count":1,"score":1,"last_activity_date":1680011062,"creation_date":1680006275,"question_id":75866236,"body_markdown":"I have a CSV file which each line is a JSON and to be copied into a temp table.\r\n\r\nTemp table is created by:\r\n\r\n    CREATE TEMP TABLE temp_table(json_rec jsonb) ON COMMIT DROP;\r\nEach records in this table will be copied into another temp table but this is another topic.\r\n\r\nLines look like:\r\n\r\n    {&quot;id&quot;:300762,&quot;name&quot;:&quot;Ik wil buiten&quot;,&quot;short_name&quot;:&quot;Ik wil buiten&quot;,&quot;exceptions&quot;:[{&quot;type_id&quot;:3},{&quot;type_id&quot;:3},{&quot;type_id&quot;:4}]}\r\n    {&quot;id&quot;:300762,&quot;name&quot;:&quot;Ik \\&quot;wil\\&quot; buiten&quot;,&quot;short_name&quot;:&quot;Ik wil buiten&quot;,&quot;exceptions&quot;:[{&quot;type_id&quot;:3},{&quot;type_id&quot;:3},{&quot;type_id&quot;:4}]}\r\n\r\nThese lines can have escaped double quotes as the second line.\r\n\r\nTo copy these lines into the temp table I invoke the method of postgres library:\r\n\r\n    public long copyIn(final String sql, InputStream from) throws SQLException, IOException {\r\n        return copyIn(sql, from, DEFAULT_BUFFER_SIZE);\r\n    }\r\nwith query \r\n\r\n    COPY temp_table FROM STDIN\r\nand csv file as inputstream\r\n\r\nIt throws PSQLException:\r\n\r\n&gt; invalid input syntax for type json   Detail: Token &quot;wil&quot; is invalid.\r\n\r\nSo, since the default mode is JSON, escaped double quotes break the json format. I change the method into CSV by:\r\n\r\n    COPY temp_table FROM STDIN WITH CSV\r\n\r\nNow, the &quot;,&quot; delimiter is problematic so I change it by \r\n\r\n    COPY temp_table FROM STDIN WITH CSV DELIMITER &#39;|&#39; \r\n\r\nNow, it throws another PSQLException:\r\n\r\n&gt; ERROR: invalid input syntax for type json   \r\n&gt; Detail: Token &quot;id&quot; is invalid.\r\n\r\nApparently it switches into JSON mode again.\r\n\r\nHow can I copy these JSON formatted lines in CSV file into a temporary table ?\r\n\r\n","title":"COPY JSON formatted CSV Lines into Temp Table in Postgres","body":"<p>I have a CSV file which each line is a JSON and to be copied into a temp table.</p>\n<p>Temp table is created by:</p>\n<pre><code>CREATE TEMP TABLE temp_table(json_rec jsonb) ON COMMIT DROP;\n</code></pre>\n<p>Each records in this table will be copied into another temp table but this is another topic.</p>\n<p>Lines look like:</p>\n<pre><code>{&quot;id&quot;:300762,&quot;name&quot;:&quot;Ik wil buiten&quot;,&quot;short_name&quot;:&quot;Ik wil buiten&quot;,&quot;exceptions&quot;:[{&quot;type_id&quot;:3},{&quot;type_id&quot;:3},{&quot;type_id&quot;:4}]}\n{&quot;id&quot;:300762,&quot;name&quot;:&quot;Ik \\&quot;wil\\&quot; buiten&quot;,&quot;short_name&quot;:&quot;Ik wil buiten&quot;,&quot;exceptions&quot;:[{&quot;type_id&quot;:3},{&quot;type_id&quot;:3},{&quot;type_id&quot;:4}]}\n</code></pre>\n<p>These lines can have escaped double quotes as the second line.</p>\n<p>To copy these lines into the temp table I invoke the method of postgres library:</p>\n<pre><code>public long copyIn(final String sql, InputStream from) throws SQLException, IOException {\n    return copyIn(sql, from, DEFAULT_BUFFER_SIZE);\n}\n</code></pre>\n<p>with query</p>\n<pre><code>COPY temp_table FROM STDIN\n</code></pre>\n<p>and csv file as inputstream</p>\n<p>It throws PSQLException:</p>\n<blockquote>\n<p>invalid input syntax for type json   Detail: Token &quot;wil&quot; is invalid.</p>\n</blockquote>\n<p>So, since the default mode is JSON, escaped double quotes break the json format. I change the method into CSV by:</p>\n<pre><code>COPY temp_table FROM STDIN WITH CSV\n</code></pre>\n<p>Now, the &quot;,&quot; delimiter is problematic so I change it by</p>\n<pre><code>COPY temp_table FROM STDIN WITH CSV DELIMITER '|' \n</code></pre>\n<p>Now, it throws another PSQLException:</p>\n<blockquote>\n<p>ERROR: invalid input syntax for type json<br />\nDetail: Token &quot;id&quot; is invalid.</p>\n</blockquote>\n<p>Apparently it switches into JSON mode again.</p>\n<p>How can I copy these JSON formatted lines in CSV file into a temporary table ?</p>\n"},{"tags":["java","spring","apache-httpclient-4.x","connection-timeout"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1680005355,"post_id":75866055,"comment_id":133819487,"body_markdown":"IIRC, the `connectTimeout` governs the TCP/IP connect handshake, while `connectionTimeout` governs blocking timeouts (e.g. when reading from a connection).","body":"IIRC, the <code>connectTimeout</code> governs the TCP/IP connect handshake, while <code>connectionTimeout</code> governs blocking timeouts (e.g. when reading from a connection)."},{"owner":{"account_id":191280,"reputation":15745,"user_id":431769,"accept_rate":78,"display_name":"hudi"},"score":0,"creation_date":1680005640,"post_id":75866055,"comment_id":133819562,"body_markdown":"and I need to set all these timeouts or there are some reasonable values in spring ? Now I just set setSocketTimeout","body":"and I need to set all these timeouts or there are some reasonable values in spring ? Now I just set setSocketTimeout"}],"answers":[{"comments":[{"owner":{"account_id":191280,"reputation":15745,"user_id":431769,"accept_rate":78,"display_name":"hudi"},"score":0,"creation_date":1680077731,"post_id":75867016,"comment_id":133834096,"body_markdown":"thx but when I debug code I found that when I am creating my own httpClient it build InternalHttpClient which use last 3 timeouts and first 2 are ignored. When I use HttpComponentsMessageSender with defaultHttpClient then first 2 timeouts are used","body":"thx but when I debug code I found that when I am creating my own httpClient it build InternalHttpClient which use last 3 timeouts and first 2 are ignored. When I use HttpComponentsMessageSender with defaultHttpClient then first 2 timeouts are used"}],"tags":[],"owner":{"account_id":13798611,"reputation":37885,"user_id":9959152,"display_name":"Ryuzaki L"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680010655,"creation_date":1680010655,"answer_id":75867016,"question_id":75866055,"body_markdown":"From the documents i see the first two parameters the connection and socket timeouts  are the most important\r\n\r\nFrom [HttpComponentsMessageSender][1] docs\r\n\r\n**connectionTimeout**\r\n\r\n -  Sets the timeout until a connection is established, and connection timeout exception will be thrown if the connection is not established with remote host\r\n\r\n\r\n**ReadTimeout**\r\n\r\n - Set the socket read timeout for the underlying HttpClient. A value of 0 means never timeout. \r\n\r\nFrom [Apache HttpClient][2] doc\r\n\r\n**ConnectionTimeout**\r\n\r\n - The time to establish the connection with the remote host\r\n\r\n**SocketTimeout** \r\n\r\n - The time waiting for data  after establishing the connection; maximum time of inactivity between two data packets\r\n\r\n**ConnectionRequestTimeout**\r\n\r\n - The time to wait for getting a connection from the connection manager/pool. (HttpClient maintains a connection pool to manage the connections. Similar to database connection pool)\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-ws/site/apidocs/org/springframework/ws/transport/http/HttpComponentsMessageSender.html\r\n  [2]: https://www.baeldung.com/httpclient-timeout","title":"What is the difference between ConnectTimeout and ConnectionTimeout in spring web services","body":"<p>From the documents i see the first two parameters the connection and socket timeouts  are the most important</p>\n<p>From <a href=\"https://docs.spring.io/spring-ws/site/apidocs/org/springframework/ws/transport/http/HttpComponentsMessageSender.html\" rel=\"nofollow noreferrer\">HttpComponentsMessageSender</a> docs</p>\n<p><strong>connectionTimeout</strong></p>\n<ul>\n<li>Sets the timeout until a connection is established, and connection timeout exception will be thrown if the connection is not established with remote host</li>\n</ul>\n<p><strong>ReadTimeout</strong></p>\n<ul>\n<li>Set the socket read timeout for the underlying HttpClient. A value of 0 means never timeout.</li>\n</ul>\n<p>From <a href=\"https://www.baeldung.com/httpclient-timeout\" rel=\"nofollow noreferrer\">Apache HttpClient</a> doc</p>\n<p><strong>ConnectionTimeout</strong></p>\n<ul>\n<li>The time to establish the connection with the remote host</li>\n</ul>\n<p><strong>SocketTimeout</strong></p>\n<ul>\n<li>The time waiting for data  after establishing the connection; maximum time of inactivity between two data packets</li>\n</ul>\n<p><strong>ConnectionRequestTimeout</strong></p>\n<ul>\n<li>The time to wait for getting a connection from the connection manager/pool. (HttpClient maintains a connection pool to manage the connections. Similar to database connection pool)</li>\n</ul>\n"}],"owner":{"account_id":191280,"reputation":15745,"user_id":431769,"accept_rate":78,"display_name":"hudi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":318,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680010655,"creation_date":1680005163,"question_id":75866055,"body_markdown":"In my application I am not sure if I set all necessary timeouts in webServiceTemplate to timeout request because sometimes probe task just stacked which block my taskScheduler. \r\n\r\nThere are couple of timeouts in HttpComponentsMessageSender like:\r\n\r\n        httpComponentsMessageSender.setConnectionTimeout(10);\r\n        httpComponentsMessageSender.setReadTimeout(10);\r\n\r\n\r\nand when you are creating sender from httpclient:\r\n\r\n\tpublic HttpComponentsMessageSender(HttpClient httpClient) {\r\n\t\tAssert.notNull(httpClient, &quot;httpClient must not be null&quot;);\r\n\t\tthis.httpClient = httpClient;\r\n\t}\r\n\r\nyou can set another timeout in RequestConfig:\r\n\r\n    RequestConfig defaultRequestConfig = RequestConfig.custom().setConnectTimeout(10)\r\n                .setConnectionRequestTimeout(10).setSocketTimeout(10).build();\r\n\r\n    HttpClients.custom()\r\n                    .setDefaultRequestConfig(defaultRequestConfig).build()\r\n\r\nso what is the difference between `setConnectTimeout` and `setConnectionTimeout` ? Which of these timeouts is the most important ?","title":"What is the difference between ConnectTimeout and ConnectionTimeout in spring web services","body":"<p>In my application I am not sure if I set all necessary timeouts in webServiceTemplate to timeout request because sometimes probe task just stacked which block my taskScheduler.</p>\n<p>There are couple of timeouts in HttpComponentsMessageSender like:</p>\n<pre><code>    httpComponentsMessageSender.setConnectionTimeout(10);\n    httpComponentsMessageSender.setReadTimeout(10);\n</code></pre>\n<p>and when you are creating sender from httpclient:</p>\n<pre><code>public HttpComponentsMessageSender(HttpClient httpClient) {\n    Assert.notNull(httpClient, &quot;httpClient must not be null&quot;);\n    this.httpClient = httpClient;\n}\n</code></pre>\n<p>you can set another timeout in RequestConfig:</p>\n<pre><code>RequestConfig defaultRequestConfig = RequestConfig.custom().setConnectTimeout(10)\n            .setConnectionRequestTimeout(10).setSocketTimeout(10).build();\n\nHttpClients.custom()\n                .setDefaultRequestConfig(defaultRequestConfig).build()\n</code></pre>\n<p>so what is the difference between <code>setConnectTimeout</code> and <code>setConnectionTimeout</code> ? Which of these timeouts is the most important ?</p>\n"},{"tags":["java","google-cloud-dataflow","apache-beam"],"owner":{"account_id":4306523,"reputation":7811,"user_id":3518757,"accept_rate":73,"display_name":"oikonomiyaki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680010625,"creation_date":1680010625,"question_id":75867007,"body_markdown":"We currently have a streaming pipeline, part of the pipeline looks below (ignore the error status)\r\n[![enter image description here][1]][1] \r\n\r\nBasically it reads and parses Avro files in GCS (a GCS path is string as a message from Pubsub), performs some transformation and writes to the database. It worked well for some time, until we get this error:\r\n\r\n```\r\nError message from worker: org.apache.beam.runners.dataflow.worker.StreamingDataflowWorker$KeyCommitTooLargeException: Commit request for stage P2 and key  has size 1077601860 which is more than the limit of 1073741824. This may be caused by grouping a very large amount of data in a single window without using Combine, or by producing a large amount of data from a single input element.\r\n```\r\n\r\nIn the `windowing` PTransform, we have a fixed Window of 5 seconds, but it fires panes repeatedly whenever every 100 records has arrived, non-accumulating.\r\n\r\n    recordsWithKeys.apply(&quot;windowing&quot;, Window.&lt;KV&lt;String, GenericRecord&gt;&gt;into(FixedWindows.of(Duration.standardSeconds(5)))\r\n                    .triggering(Repeatedly.forever(\r\n                            AfterFirst.of(\r\n                                    AfterPane.elementCountAtLeast(100),\r\n                                    AfterProcessingTime.pastFirstElementInPane().plusDelayOf(Duration.standardSeconds(5))\r\n                            )))\r\n                    .withAllowedLateness(Duration.standardSeconds(1), Window.ClosingBehavior.FIRE_IF_NON_EMPTY).discardingFiredPanes()\r\n            )\r\n\r\nMy understanding was that the `grouping` PTransform groups by (key, fired pane), but it turns out because of this error, I conclude now that the grouping occurs by (key, window). It waits for all elements (or triggered panes) in a window and then the grouping occurs once the window closes. Is that correct?\r\n\r\nNow to resolve this issue of too large in a grouping, what is the proper Windowing strategy so that the grouping happen by (key, fired pane)?\r\n\r\n  [1]: https://i.stack.imgur.com/1ynIA.png","title":"Apply grouping on both key and triggered pane","body":"<p>We currently have a streaming pipeline, part of the pipeline looks below (ignore the error status)\n<a href=\"https://i.stack.imgur.com/1ynIA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1ynIA.png\" alt=\"enter image description here\" /></a></p>\n<p>Basically it reads and parses Avro files in GCS (a GCS path is string as a message from Pubsub), performs some transformation and writes to the database. It worked well for some time, until we get this error:</p>\n<pre><code>Error message from worker: org.apache.beam.runners.dataflow.worker.StreamingDataflowWorker$KeyCommitTooLargeException: Commit request for stage P2 and key  has size 1077601860 which is more than the limit of 1073741824. This may be caused by grouping a very large amount of data in a single window without using Combine, or by producing a large amount of data from a single input element.\n</code></pre>\n<p>In the <code>windowing</code> PTransform, we have a fixed Window of 5 seconds, but it fires panes repeatedly whenever every 100 records has arrived, non-accumulating.</p>\n<pre><code>recordsWithKeys.apply(&quot;windowing&quot;, Window.&lt;KV&lt;String, GenericRecord&gt;&gt;into(FixedWindows.of(Duration.standardSeconds(5)))\n                .triggering(Repeatedly.forever(\n                        AfterFirst.of(\n                                AfterPane.elementCountAtLeast(100),\n                                AfterProcessingTime.pastFirstElementInPane().plusDelayOf(Duration.standardSeconds(5))\n                        )))\n                .withAllowedLateness(Duration.standardSeconds(1), Window.ClosingBehavior.FIRE_IF_NON_EMPTY).discardingFiredPanes()\n        )\n</code></pre>\n<p>My understanding was that the <code>grouping</code> PTransform groups by (key, fired pane), but it turns out because of this error, I conclude now that the grouping occurs by (key, window). It waits for all elements (or triggered panes) in a window and then the grouping occurs once the window closes. Is that correct?</p>\n<p>Now to resolve this issue of too large in a grouping, what is the proper Windowing strategy so that the grouping happen by (key, fired pane)?</p>\n"},{"tags":["java","spring","postgresql","jpa","spring-data"],"answers":[{"comments":[{"owner":{"account_id":6378382,"reputation":2978,"user_id":4948640,"accept_rate":58,"display_name":"suraj bahl"},"score":0,"creation_date":1551458068,"post_id":54948438,"comment_id":96660335,"body_markdown":"Thanks for the response. Then why is throwing this exception and according to javaDocs it&#39;s violation of optimistic locking https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/orm/ObjectOptimisticLockingFailureException.html","body":"Thanks for the response. Then why is throwing this exception and according to javaDocs it&#39;s violation of optimistic locking <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/orm/ObjectOptimisticLockingFailureException.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring/docs/current/javadoc-api/org/&hellip;</a>"},{"owner":{"account_id":3703954,"reputation":65,"user_id":3082959,"display_name":"jack1590"},"score":2,"creation_date":1551458435,"post_id":54948438,"comment_id":96660535,"body_markdown":"could be that exists two transactions over the same record. You can check this case here https://stackoverflow.com/a/46989666/3082959\nHope this can help you =)","body":"could be that exists two transactions over the same record. You can check this case here <a href=\"https://stackoverflow.com/a/46989666/3082959\">stackoverflow.com/a/46989666/3082959</a> Hope this can help you =)"}],"tags":[],"owner":{"account_id":3703954,"reputation":65,"user_id":3082959,"display_name":"jack1590"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1551456908,"creation_date":1551456908,"answer_id":54948438,"question_id":54948229,"body_markdown":"This is not about Optimistic lock. This exception is throwing while deleting/updating a record by Id that does not exists at all. So check that record you are updating/Deleting actually exists in DB.\r\n\r\nHowever, to get a better handle as to what causes the problem you can:\r\n\r\n1) Set show_sql as true\r\n2) Set the log levels for Spring and Hibernate to DEBUG\r\n\r\nThis will help you to understand the issue and fix it.","title":"Getting ObjectOptimisticLockingFailureException without version annotation or OptimisticLocking strategy","body":"<p>This is not about Optimistic lock. This exception is throwing while deleting/updating a record by Id that does not exists at all. So check that record you are updating/Deleting actually exists in DB.</p>\n\n<p>However, to get a better handle as to what causes the problem you can:</p>\n\n<p>1) Set show_sql as true\n2) Set the log levels for Spring and Hibernate to DEBUG</p>\n\n<p>This will help you to understand the issue and fix it.</p>\n"},{"tags":[],"owner":{"account_id":150009,"reputation":170,"user_id":362901,"display_name":"bryan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664293130,"creation_date":1664293130,"answer_id":73870269,"question_id":54948229,"body_markdown":"So the reason you get ObjectOptimisticLockingFailureException is that the update statement is using the version column as part of the predicate.\r\n\r\nWhen Hibernate fetches the record that you are going it update it is also pulling back the version column.\r\n```\r\nselect id, value, version from my_table where id = 1;\r\n```\r\nwhich lets say returns back (1, &#39;cur_val&#39;, 6)\r\n\r\nYou then update &#39;cur_val&#39; to &#39;new_val&#39;.\r\n\r\nOn commit of the transaction the update statement will be link so.\r\n```\r\nupdate my_table set value=&#39;new_val&#39;, version=7 where id = 1 and version=6;\r\n```\r\n\r\nSo if another update has already been made between the time you queried for the object and the transaction ","title":"Getting ObjectOptimisticLockingFailureException without version annotation or OptimisticLocking strategy","body":"<p>So the reason you get ObjectOptimisticLockingFailureException is that the update statement is using the version column as part of the predicate.</p>\n<p>When Hibernate fetches the record that you are going it update it is also pulling back the version column.</p>\n<pre><code>select id, value, version from my_table where id = 1;\n</code></pre>\n<p>which lets say returns back (1, 'cur_val', 6)</p>\n<p>You then update 'cur_val' to 'new_val'.</p>\n<p>On commit of the transaction the update statement will be link so.</p>\n<pre><code>update my_table set value='new_val', version=7 where id = 1 and version=6;\n</code></pre>\n<p>So if another update has already been made between the time you queried for the object and the transaction</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1680507552,"post_id":75866998,"comment_id":133904039,"body_markdown":"As its currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As its currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/75866998/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":17327057,"reputation":1,"user_id":12551061,"display_name":"R_K"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680010596,"creation_date":1680010596,"answer_id":75866998,"question_id":54948229,"body_markdown":"I was facing the same issue. What I found is below, \r\nI put @Version on newly added column to the table which was already exists and legacy data was not available in that column. This might be helpful for other who are facing the same issue.","title":"Getting ObjectOptimisticLockingFailureException without version annotation or OptimisticLocking strategy","body":"<p>I was facing the same issue. What I found is below,\nI put @Version on newly added column to the table which was already exists and legacy data was not available in that column. This might be helpful for other who are facing the same issue.</p>\n"}],"owner":{"account_id":6378382,"reputation":2978,"user_id":4948640,"accept_rate":58,"display_name":"suraj bahl"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15438,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1680010596,"creation_date":1551456040,"question_id":54948229,"body_markdown":"I am getting optimistic locking exception (mentioned below) but strange thing is we haven&#39;t specified any of our entities with @version annotation or OptimisticLocking, so just wondering what can cause this exception? We are using JPA, hibernate, spring data &amp; spring. Database is postgresql.\r\n\r\n\r\n    System exception occurred while processing request, ERROR_CODE: a18d5739 org.springframework.orm.ObjectOptimisticLockingFailureException: Batch update returned unexpected row count from update [0]; actual row count: 0; expected: 1; nested exception is org.hibernate.StaleStateException: Batch update returned unexpected row count from update [0]; actual row count: 0; expected: 1\r\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:301)\r\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:225)\r\n    at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:521)\r\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:761)\r\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:730)\r\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:485)\r\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:291)\r\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\r\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)","title":"Getting ObjectOptimisticLockingFailureException without version annotation or OptimisticLocking strategy","body":"<p>I am getting optimistic locking exception (mentioned below) but strange thing is we haven't specified any of our entities with @version annotation or OptimisticLocking, so just wondering what can cause this exception? We are using JPA, hibernate, spring data &amp; spring. Database is postgresql.</p>\n\n<pre><code>System exception occurred while processing request, ERROR_CODE: a18d5739 org.springframework.orm.ObjectOptimisticLockingFailureException: Batch update returned unexpected row count from update [0]; actual row count: 0; expected: 1; nested exception is org.hibernate.StaleStateException: Batch update returned unexpected row count from update [0]; actual row count: 0; expected: 1\nat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:301)\nat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:225)\nat org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:521)\nat org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:761)\nat org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:730)\nat org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:485)\nat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:291)\nat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n</code></pre>\n"},{"tags":["java","java-8","date-formatting","dateformatter"],"answers":[{"comments":[{"owner":{"account_id":1203571,"reputation":8033,"user_id":1173755,"accept_rate":96,"display_name":"riccardo.cardin"},"score":0,"creation_date":1566214938,"post_id":57553899,"comment_id":101573752,"body_markdown":"In the first part of the answer, you cited the `DateTimeFormatterBuilder`, but you don&#39;t use it in the example. Can you modify the answer?","body":"In the first part of the answer, you cited the <code>DateTimeFormatterBuilder</code>, but you don&#39;t use it in the example. Can you modify the answer?"},{"owner":{"account_id":6408227,"reputation":2256,"user_id":4968749,"accept_rate":100,"display_name":"Hassam Abdelillah"},"score":0,"creation_date":1566223552,"post_id":57553899,"comment_id":101578696,"body_markdown":"I added an brief example of how it may works with the builder, i didn&#39;t test it. Did the first way work?","body":"I added an brief example of how it may works with the builder, i didn&#39;t test it. Did the first way work?"}],"tags":[],"owner":{"account_id":6408227,"reputation":2256,"user_id":4968749,"accept_rate":100,"display_name":"Hassam Abdelillah"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1680010518,"creation_date":1566206825,"answer_id":57553899,"question_id":57553322,"body_markdown":"I think it is better to use a `DateTimeFormatterBuilder` for that purpose. For the optional parts just use one of the follwing methods :\r\n\r\n 1. [OptionalStart()][1] &amp; [OptionalEnd()][2]\r\n 2. Append your whole optional pattern with [appendOptional()][3]\r\n\r\nHere is an example : \r\n\r\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;&quot;\r\n        + &quot;[yyyy-MM-dd HH:mm:ss.SSS Z z]&quot;\r\n        + &quot;[yyyy-MM-dd HH:mm:ss.SS Z z]&quot;\r\n        + &quot;[yyyy-MM-dd HH:mm:ss.S Z z]&quot;\r\n        + &quot;[yyyy-MM-dd HH:mm:ss Z z]&quot;\r\n    );\r\n\r\nAlso, you can create a dtf for each optional and append them with appendOptional() and the the `DateTimeFormatterBuilder`\r\n\r\nfor example : \r\n\r\n    DateTimeFormatter formatter = new DateTimeFormatterBuilder()\r\n        .appendValue(HOUR_OF_DAY,2)\r\n        .optionalStart()\r\n        .appendValue(MINUTE_OF_HOUR,2)\r\n        .optionalEnd()\r\n        .optionalStart()\r\n        .appendValue(SECOND_OF_MINUTE,2)\r\n        .optionalEnd()\r\n        .toFormatter();\r\n\r\nThis code is not tested but try to build your optional pattern each time in a start/end optional blocks.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatterBuilder.html#optionalStart--\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatterBuilder.html#optionalEnd--\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatterBuilder.html","title":"Handling multiple formats in DateTimeFormatter","body":"<p>I think it is better to use a <code>DateTimeFormatterBuilder</code> for that purpose. For the optional parts just use one of the follwing methods :</p>\n<ol>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatterBuilder.html#optionalStart--\" rel=\"nofollow noreferrer\">OptionalStart()</a> &amp; <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatterBuilder.html#optionalEnd--\" rel=\"nofollow noreferrer\">OptionalEnd()</a></li>\n<li>Append your whole optional pattern with <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatterBuilder.html\" rel=\"nofollow noreferrer\">appendOptional()</a></li>\n</ol>\n<p>Here is an example :</p>\n<pre><code>DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;&quot;\n    + &quot;[yyyy-MM-dd HH:mm:ss.SSS Z z]&quot;\n    + &quot;[yyyy-MM-dd HH:mm:ss.SS Z z]&quot;\n    + &quot;[yyyy-MM-dd HH:mm:ss.S Z z]&quot;\n    + &quot;[yyyy-MM-dd HH:mm:ss Z z]&quot;\n);\n</code></pre>\n<p>Also, you can create a dtf for each optional and append them with appendOptional() and the the <code>DateTimeFormatterBuilder</code></p>\n<p>for example :</p>\n<pre><code>DateTimeFormatter formatter = new DateTimeFormatterBuilder()\n    .appendValue(HOUR_OF_DAY,2)\n    .optionalStart()\n    .appendValue(MINUTE_OF_HOUR,2)\n    .optionalEnd()\n    .optionalStart()\n    .appendValue(SECOND_OF_MINUTE,2)\n    .optionalEnd()\n    .toFormatter();\n</code></pre>\n<p>This code is not tested but try to build your optional pattern each time in a start/end optional blocks.</p>\n"},{"comments":[{"owner":{"account_id":1203571,"reputation":8033,"user_id":1173755,"accept_rate":96,"display_name":"riccardo.cardin"},"score":0,"creation_date":1566215460,"post_id":57556122,"comment_id":101574002,"body_markdown":"Sorry, but your answer did not respond to my question. The optional and variable part is the milliseconds&#39; block, not the offset.","body":"Sorry, but your answer did not respond to my question. The optional and variable part is the milliseconds&#39; block, not the offset."},{"owner":{"account_id":161882,"reputation":3079,"user_id":382974,"accept_rate":81,"display_name":"Jaywalker"},"score":0,"creation_date":1566216283,"post_id":57556122,"comment_id":101574392,"body_markdown":"Doesn&#39;t ISO_LOCAL_TIME itself take care of that optional part of milliseconds? Try running the examples with this code.","body":"Doesn&#39;t ISO_LOCAL_TIME itself take care of that optional part of milliseconds? Try running the examples with this code."},{"owner":{"account_id":1203571,"reputation":8033,"user_id":1173755,"accept_rate":96,"display_name":"riccardo.cardin"},"score":1,"creation_date":1566226446,"post_id":57556122,"comment_id":101580278,"body_markdown":"Yep, you&#39;re right. Sorry. I added some useful information to your answer.","body":"Yep, you&#39;re right. Sorry. I added some useful information to your answer."},{"owner":{"account_id":161882,"reputation":3079,"user_id":382974,"accept_rate":81,"display_name":"Jaywalker"},"score":1,"creation_date":1566226778,"post_id":57556122,"comment_id":101580451,"body_markdown":"Thanks. You OK with ZonedDateTime, right? I think the requirement of having LocalDateTime in the question conflicts with zone specific text that needs to be parsed.","body":"Thanks. You OK with ZonedDateTime, right? I think the requirement of having LocalDateTime in the question conflicts with zone specific text that needs to be parsed."},{"owner":{"account_id":1203571,"reputation":8033,"user_id":1173755,"accept_rate":96,"display_name":"riccardo.cardin"},"score":0,"creation_date":1566227173,"post_id":57556122,"comment_id":101580627,"body_markdown":"Don&#39;t worry. The problem was with the optional part.","body":"Don&#39;t worry. The problem was with the optional part."},{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1672663552,"post_id":57556122,"comment_id":132321859,"body_markdown":"Your `DateTimeFormatter` serves parsing to `ZonedDateTime` as well as `LocalDateTime` e.g. you can also use it as `LocalDateTime dt = LocalDateTime.parse(&quot;2019-06-20 12:18:07.207 +0000 UTC&quot;, formatter);`","body":"Your <code>DateTimeFormatter</code> serves parsing to <code>ZonedDateTime</code> as well as <code>LocalDateTime</code> e.g. you can also use it as <code>LocalDateTime dt = LocalDateTime.parse(&quot;2019-06-20 12:18:07.207 +0000 UTC&quot;, formatter);</code>"}],"tags":[],"owner":{"account_id":161882,"reputation":3079,"user_id":382974,"accept_rate":81,"display_name":"Jaywalker"},"comment_count":6,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1566226616,"creation_date":1566215292,"answer_id":57556122,"question_id":57553322,"body_markdown":"You can build the pattern using `DateTimeFormatterBuilder` and reuse `ISO_LOCAL_DATE` and `ISO_LOCAL_TIME` constants:\r\n\r\n        DateTimeFormatter formatter = new DateTimeFormatterBuilder()\r\n                .append(DateTimeFormatter.ISO_LOCAL_DATE)\r\n                .appendLiteral(&quot; &quot;)\r\n                .append(DateTimeFormatter.ISO_LOCAL_TIME)\r\n                .appendPattern(&quot;[ Z z]&quot;)\r\n                .toFormatter();\r\n\r\n        ZonedDateTime dt = ZonedDateTime.parse(date, formatter);\r\n\r\nThe trick is that `DateTimeFormatter.ISO_LOCAL_TIME` handles the different number of digit used to represent milliseconds its own. From [`DateTimeFormatter.ISO_LOCAL_TIME`](https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#ISO_LOCAL_TIME) JavaDoc:\r\n\r\n&gt; This returns an immutable formatter capable of formatting and parsing the ISO-8601 extended local time format. The format consists of:&lt;br/&gt;\r\n[..]&lt;br/&gt;\r\nOne to nine digits for the nano-of-second. As many digits will be output as required.\r\n","title":"Handling multiple formats in DateTimeFormatter","body":"<p>You can build the pattern using <code>DateTimeFormatterBuilder</code> and reuse <code>ISO_LOCAL_DATE</code> and <code>ISO_LOCAL_TIME</code> constants:</p>\n\n<pre><code>    DateTimeFormatter formatter = new DateTimeFormatterBuilder()\n            .append(DateTimeFormatter.ISO_LOCAL_DATE)\n            .appendLiteral(\" \")\n            .append(DateTimeFormatter.ISO_LOCAL_TIME)\n            .appendPattern(\"[ Z z]\")\n            .toFormatter();\n\n    ZonedDateTime dt = ZonedDateTime.parse(date, formatter);\n</code></pre>\n\n<p>The trick is that <code>DateTimeFormatter.ISO_LOCAL_TIME</code> handles the different number of digit used to represent milliseconds its own. From <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#ISO_LOCAL_TIME\" rel=\"noreferrer\"><code>DateTimeFormatter.ISO_LOCAL_TIME</code></a> JavaDoc:</p>\n\n<blockquote>\n  <p>This returns an immutable formatter capable of formatting and parsing the ISO-8601 extended local time format. The format consists of:<br/>\n  [..]<br/>\n  One to nine digits for the nano-of-second. As many digits will be output as required.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3923073,"reputation":2489,"user_id":3244618,"accept_rate":12,"display_name":"FrancMo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667465406,"creation_date":1667465406,"answer_id":74300263,"question_id":57553322,"body_markdown":"Here is my example that I use in one app that takes different formats\r\nas you can see millisecond is optional and also &#39;Z&#39; at end.\r\n\r\n    new DateTimeFormatterBuilder()\r\n          .appendPattern(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&quot;)\r\n          .optionalStart()\r\n          .appendLiteral(&#39;.&#39;)\r\n          .appendValue(ChronoField.MILLI_OF_SECOND, 1, 3, SignStyle.NORMAL)\r\n          .optionalEnd()\r\n          .optionalStart()\r\n          .appendLiteral(&#39;Z&#39;)\r\n          .optionalEnd()\r\n          .toFormatter\r\n\r\nappendPattern is static value, other at inside optional start and end, very simple to build such pattern ( if you know of course how to do that ;) )","title":"Handling multiple formats in DateTimeFormatter","body":"<p>Here is my example that I use in one app that takes different formats\nas you can see millisecond is optional and also 'Z' at end.</p>\n<pre><code>new DateTimeFormatterBuilder()\n      .appendPattern(&quot;yyyy-MM-dd'T'HH:mm:ss&quot;)\n      .optionalStart()\n      .appendLiteral('.')\n      .appendValue(ChronoField.MILLI_OF_SECOND, 1, 3, SignStyle.NORMAL)\n      .optionalEnd()\n      .optionalStart()\n      .appendLiteral('Z')\n      .optionalEnd()\n      .toFormatter\n</code></pre>\n<p>appendPattern is static value, other at inside optional start and end, very simple to build such pattern ( if you know of course how to do that ;) )</p>\n"}],"owner":{"account_id":1203571,"reputation":8033,"user_id":1173755,"accept_rate":96,"display_name":"riccardo.cardin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5288,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":57556122,"answer_count":3,"score":5,"last_activity_date":1680010518,"creation_date":1566204606,"question_id":57553322,"body_markdown":"I am developing using Java 8 a function that must handle the conversion from `String` to `LocalDateTime` of the following dates:\r\n\r\n* 2019-06-20 12:18:07.207 +0000 UTC\r\n* 2019-06-20 12:18:07.20 +0000 UTC\r\n* 2019-06-20 12:18:07.2 +0000 UTC\r\n* 2019-06-20 12:18:07 +0000 UTC\r\n\r\nThe strings are produced from an external library that I cannot change.\r\n\r\nFollowing the suggestions given in the SO answer [Optional parts in SimpleDateFormat](https://stackoverflow.com/a/26132715/1173755), I tried using the optional formatting offered by the type `DateTimeFormatter`, using the characters `[` and `]`. I tried the following patterns:\r\n\r\n* `yyyy-MM-dd HH:mm:ss[.S[S[S]]] Z z`\r\n* `yyyy-MM-dd HH:mm:ss[.S[S][S]] Z z`\r\n\r\nHowever, neither of them works.\r\n\r\nAny suggestion?","title":"Handling multiple formats in DateTimeFormatter","body":"<p>I am developing using Java 8 a function that must handle the conversion from <code>String</code> to <code>LocalDateTime</code> of the following dates:</p>\n\n<ul>\n<li>2019-06-20 12:18:07.207 +0000 UTC</li>\n<li>2019-06-20 12:18:07.20 +0000 UTC</li>\n<li>2019-06-20 12:18:07.2 +0000 UTC</li>\n<li>2019-06-20 12:18:07 +0000 UTC</li>\n</ul>\n\n<p>The strings are produced from an external library that I cannot change.</p>\n\n<p>Following the suggestions given in the SO answer <a href=\"https://stackoverflow.com/a/26132715/1173755\">Optional parts in SimpleDateFormat</a>, I tried using the optional formatting offered by the type <code>DateTimeFormatter</code>, using the characters <code>[</code> and <code>]</code>. I tried the following patterns:</p>\n\n<ul>\n<li><code>yyyy-MM-dd HH:mm:ss[.S[S[S]]] Z z</code></li>\n<li><code>yyyy-MM-dd HH:mm:ss[.S[S][S]] Z z</code></li>\n</ul>\n\n<p>However, neither of them works.</p>\n\n<p>Any suggestion?</p>\n"},{"tags":["java","docker","alfresco"],"comments":[{"owner":{"account_id":12968292,"reputation":389,"user_id":9375000,"display_name":"David Dejmal"},"score":1,"creation_date":1679926989,"post_id":75855612,"comment_id":133803951,"body_markdown":"Did you try full reindex? https://docs.alfresco.com/search-services/latest/admin/monitor/","body":"Did you try full reindex? <a href=\"https://docs.alfresco.com/search-services/latest/admin/monitor/\" rel=\"nofollow noreferrer\">docs.alfresco.com/search-services/latest/admin/monitor</a>"},{"owner":{"account_id":3990940,"reputation":662,"user_id":3289905,"accept_rate":8,"display_name":"anakin59490"},"score":0,"creation_date":1679927668,"post_id":75855612,"comment_id":133804153,"body_markdown":"yes i did it. I don&#39;t understand that it works by using the Share interface","body":"yes i did it. I don&#39;t understand that it works by using the Share interface"},{"owner":{"account_id":12968292,"reputation":389,"user_id":9375000,"display_name":"David Dejmal"},"score":0,"creation_date":1679937277,"post_id":75855612,"comment_id":133807007,"body_markdown":"So then I will sugest to try fts-alfresco not lucene. It&#39;s very old...\nhttps://hub.alfresco.com/t5/alfresco-content-services-forum/lucene-search-not-giving-appropriate-results/td-p/306982","body":"So then I will sugest to try fts-alfresco not lucene. It&#39;s very old... <a href=\"https://hub.alfresco.com/t5/alfresco-content-services-forum/lucene-search-not-giving-appropriate-results/td-p/306982\" rel=\"nofollow noreferrer\">hub.alfresco.com/t5/alfresco-content-services-forum/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":3990940,"reputation":662,"user_id":3289905,"accept_rate":8,"display_name":"anakin59490"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680010494,"creation_date":1680010494,"answer_id":75866977,"question_id":75855612,"body_markdown":"Found :\r\n\r\nWe must update alfresco-search-services/solrhome/conf/shared.properties file\r\nand execute full reindex\r\n\r\nhttps://docs.alfresco.com/search-services/latest/config/indexing/#exact-term-search","title":"Alfresco 7.3.1 Docker - SearchService","body":"<p>Found :</p>\n<p>We must update alfresco-search-services/solrhome/conf/shared.properties file\nand execute full reindex</p>\n<p><a href=\"https://docs.alfresco.com/search-services/latest/config/indexing/#exact-term-search\" rel=\"nofollow noreferrer\">https://docs.alfresco.com/search-services/latest/config/indexing/#exact-term-search</a></p>\n"}],"owner":{"account_id":3990940,"reputation":662,"user_id":3289905,"accept_rate":8,"display_name":"anakin59490"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680010494,"creation_date":1679919273,"question_id":75855612,"body_markdown":"I have upgraded alfresco version from Community 5.2 (zip version) to community 7.3.1 (Docker version) with java 17. I have migrated database.\r\n\r\nMy searchService method doesn&#39;t find old documents (before migration) with customized metadata but it works with standard alfresco metadata (ex:cm:created) Moreover it works fine from Share interface. Endly, it works with new document (post migration) So I think there is no problem with SOLR.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThis is my code :\r\n\r\n    public List&lt;Map&lt;String, Object&gt;&gt; searchDocuments(String idaipatient, String medecin, String typologie, String nomService,\r\n\t\t\tString documentDateRangeStart, String documentDateRangeEnd, String integrationDateRangeStart, String integrationDateRangeEnd, String origine) {\r\n\t\t\r\n\t\tResultSet rs = null;\r\n\t\tList&lt;Map&lt;String, Object&gt;&gt; finalResult = new ArrayList&lt;Map&lt;String, Object&gt;&gt;();\r\n\t\ttry {\r\n\r\n\t\t\tMap&lt;String, Object&gt; results = new HashMap&lt;String, Object&gt;();\r\n\t\t\tMap&lt;String, Object&gt; resultObject = new HashMap&lt;String, Object&gt;();\r\n\t\t\tString query = &quot;TYPE:\\&quot;os:documed&quot; + &quot;\\&quot; &quot;\r\n\t\t\t\t\t+ &quot;AND @os\\\\:idPatient:\\&quot;&quot; + idaipatient + &quot;\\&quot; &quot;\r\n\t\t\t\t\t+ &quot;AND @os\\\\:medName:\\&quot;&quot; + medecin + &quot;\\&quot; &quot;\r\n\t\t\t\t\t+ &quot;AND @os\\\\:typologie:\\&quot;&quot; + typologie + &quot;\\&quot; &quot;\r\n\t\t\t\t\t+ &quot;AND @os\\\\:nomService:\\&quot;&quot; + nomService + &quot;\\&quot; &quot;\r\n\t\t\t\t\t+ &quot;AND @cm\\\\:created:[\\&quot;&quot; + integrationDateRangeStart + &quot;\\&quot; TO \\&quot;&quot; + integrationDateRangeEnd + &quot;\\&quot;] &quot;\r\n\t\t\t\t\t+ &quot;AND @os\\\\:docDate:[\\&quot;&quot; + documentDateRangeStart + &quot;\\&quot; TO \\&quot;&quot; + documentDateRangeEnd + &quot;\\&quot;] &quot;\r\n\t\t\t\t\t+ &quot;AND @os\\\\:origine:\\&quot;&quot; + origine + &quot;\\&quot; &quot;;\r\n\t\t\tlogger.debug(&quot;Query : &quot; + query);\r\n\t\r\n\t\t\tStoreRef storeRef = new StoreRef(StoreRef.PROTOCOL_WORKSPACE, &quot;SpacesStore&quot;);\r\n\t\t\trs = searchService.query(storeRef, SearchService.LANGUAGE_LUCENE, query);\r\n\t\t\t\t\t\r\n\t\t\tif (rs.length() == 0) {\r\n\t\t\t\tlogger.debug(&quot;Aucun r&#233;sultat pour la recherche &quot; + query);\r\n\t\t\t\t// initialisation Json retour\r\n\t\t\t\tresultObject.put(&quot;properties&quot;, initProperties());\r\n\t\t\t\tresults.put(&quot;item&quot;, resultObject);\r\n\t\t\t\tresults.put(&quot;nodeRef&quot;, &quot;&quot;);\r\n\t\t\t\tfinalResult.add(results);\r\n\t\t\t} else {\r\n\t\t\t\tlogger.debug(rs.length() + &quot; document(s) trouv&#233;(s) pour la recherche &quot; + query);\r\n\t\t\t\t/* R&#233;cup&#233;ration et mise en forme des r&#233;sultats */\r\n\t\t\t\tfor (NodeRef item : rs.getNodeRefs()) {\r\n\t\t\t\t\tresults = new HashMap&lt;String, Object&gt;();\r\n\t\t\t\t\tresultObject = new HashMap&lt;String, Object&gt;();\t\t\r\n\t\t\t\t\tresultObject.put(&quot;properties&quot;, getProperties(item));\r\n\t\t\t\t\tresults.put(&quot;item&quot;, resultObject);\r\n\t\t\t\t\tresults.put(&quot;nodeRef&quot;, item.getId());\r\n\t\t\t\t\t\r\n\t\t\t\t\tfinalResult.add(results);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} catch (Exception e) {\r\n\t\t\tlogger.debug(&quot;Erreur Recherche documents: {}&quot;, ExceptionUtils.getStackTrace(e));\r\n\t\t\tfinalResult = new ArrayList&lt;Map&lt;String, Object&gt;&gt;();\r\n\t\t\t\r\n\t\t} finally {\r\n\t\t\trs.close();\r\n\t\t}\t\r\n\t\treturn finalResult;\r\n\t}\r\n\r\nMy pom.xml:\r\n\r\n    &lt;!-- Alfresco Maven Plugin version to use --&gt;\r\n        &lt;alfresco.sdk.version&gt;4.5.0&lt;/alfresco.sdk.version&gt;\r\n\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\r\n        &lt;!-- Properties used in dependency declarations, you don&#39;t need to change these --&gt;\r\n        &lt;alfresco.groupId&gt;org.alfresco&lt;/alfresco.groupId&gt;\r\n        &lt;alfresco.bomDependencyArtifactId&gt;acs-community-packaging&lt;/alfresco.bomDependencyArtifactId&gt;\r\n        &lt;alfresco.platform.version&gt;7.3.0&lt;/alfresco.platform.version&gt;\r\n        &lt;alfresco.platform.docker.user&gt;alfresco&lt;/alfresco.platform.docker.user&gt;\r\n        &lt;alfresco.share.version&gt;17.137&lt;/alfresco.share.version&gt;\r\n        &lt;alfresco.share.docker.version&gt;7.3.0&lt;/alfresco.share.docker.version&gt;\r\n\r\n        &lt;!-- Docker images --&gt;\r\n        &lt;docker.acs.image&gt;alfresco/alfresco-content-repository-community&lt;/docker.acs.image&gt;\r\n        &lt;docker.share.image&gt;alfresco/alfresco-share&lt;/docker.share.image&gt;\r\n\r\nHow can I solve that ? I have no error when I build amp from eclipse...\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DdvK8.png","title":"Alfresco 7.3.1 Docker - SearchService","body":"<p>I have upgraded alfresco version from Community 5.2 (zip version) to community 7.3.1 (Docker version) with java 17. I have migrated database.</p>\n<p>My searchService method doesn't find old documents (before migration) with customized metadata but it works with standard alfresco metadata (ex:cm:created) Moreover it works fine from Share interface. Endly, it works with new document (post migration) So I think there is no problem with SOLR.</p>\n<p><a href=\"https://i.stack.imgur.com/DdvK8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DdvK8.png\" alt=\"enter image description here\" /></a></p>\n<p>This is my code :</p>\n<pre><code>public List&lt;Map&lt;String, Object&gt;&gt; searchDocuments(String idaipatient, String medecin, String typologie, String nomService,\n        String documentDateRangeStart, String documentDateRangeEnd, String integrationDateRangeStart, String integrationDateRangeEnd, String origine) {\n    \n    ResultSet rs = null;\n    List&lt;Map&lt;String, Object&gt;&gt; finalResult = new ArrayList&lt;Map&lt;String, Object&gt;&gt;();\n    try {\n\n        Map&lt;String, Object&gt; results = new HashMap&lt;String, Object&gt;();\n        Map&lt;String, Object&gt; resultObject = new HashMap&lt;String, Object&gt;();\n        String query = &quot;TYPE:\\&quot;os:documed&quot; + &quot;\\&quot; &quot;\n                + &quot;AND @os\\\\:idPatient:\\&quot;&quot; + idaipatient + &quot;\\&quot; &quot;\n                + &quot;AND @os\\\\:medName:\\&quot;&quot; + medecin + &quot;\\&quot; &quot;\n                + &quot;AND @os\\\\:typologie:\\&quot;&quot; + typologie + &quot;\\&quot; &quot;\n                + &quot;AND @os\\\\:nomService:\\&quot;&quot; + nomService + &quot;\\&quot; &quot;\n                + &quot;AND @cm\\\\:created:[\\&quot;&quot; + integrationDateRangeStart + &quot;\\&quot; TO \\&quot;&quot; + integrationDateRangeEnd + &quot;\\&quot;] &quot;\n                + &quot;AND @os\\\\:docDate:[\\&quot;&quot; + documentDateRangeStart + &quot;\\&quot; TO \\&quot;&quot; + documentDateRangeEnd + &quot;\\&quot;] &quot;\n                + &quot;AND @os\\\\:origine:\\&quot;&quot; + origine + &quot;\\&quot; &quot;;\n        logger.debug(&quot;Query : &quot; + query);\n\n        StoreRef storeRef = new StoreRef(StoreRef.PROTOCOL_WORKSPACE, &quot;SpacesStore&quot;);\n        rs = searchService.query(storeRef, SearchService.LANGUAGE_LUCENE, query);\n                \n        if (rs.length() == 0) {\n            logger.debug(&quot;Aucun rsultat pour la recherche &quot; + query);\n            // initialisation Json retour\n            resultObject.put(&quot;properties&quot;, initProperties());\n            results.put(&quot;item&quot;, resultObject);\n            results.put(&quot;nodeRef&quot;, &quot;&quot;);\n            finalResult.add(results);\n        } else {\n            logger.debug(rs.length() + &quot; document(s) trouv(s) pour la recherche &quot; + query);\n            /* Rcupration et mise en forme des rsultats */\n            for (NodeRef item : rs.getNodeRefs()) {\n                results = new HashMap&lt;String, Object&gt;();\n                resultObject = new HashMap&lt;String, Object&gt;();       \n                resultObject.put(&quot;properties&quot;, getProperties(item));\n                results.put(&quot;item&quot;, resultObject);\n                results.put(&quot;nodeRef&quot;, item.getId());\n                \n                finalResult.add(results);\n            }\n        }\n    } catch (Exception e) {\n        logger.debug(&quot;Erreur Recherche documents: {}&quot;, ExceptionUtils.getStackTrace(e));\n        finalResult = new ArrayList&lt;Map&lt;String, Object&gt;&gt;();\n        \n    } finally {\n        rs.close();\n    }   \n    return finalResult;\n}\n</code></pre>\n<p>My pom.xml:</p>\n<pre><code>&lt;!-- Alfresco Maven Plugin version to use --&gt;\n    &lt;alfresco.sdk.version&gt;4.5.0&lt;/alfresco.sdk.version&gt;\n\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n\n    &lt;!-- Properties used in dependency declarations, you don't need to change these --&gt;\n    &lt;alfresco.groupId&gt;org.alfresco&lt;/alfresco.groupId&gt;\n    &lt;alfresco.bomDependencyArtifactId&gt;acs-community-packaging&lt;/alfresco.bomDependencyArtifactId&gt;\n    &lt;alfresco.platform.version&gt;7.3.0&lt;/alfresco.platform.version&gt;\n    &lt;alfresco.platform.docker.user&gt;alfresco&lt;/alfresco.platform.docker.user&gt;\n    &lt;alfresco.share.version&gt;17.137&lt;/alfresco.share.version&gt;\n    &lt;alfresco.share.docker.version&gt;7.3.0&lt;/alfresco.share.docker.version&gt;\n\n    &lt;!-- Docker images --&gt;\n    &lt;docker.acs.image&gt;alfresco/alfresco-content-repository-community&lt;/docker.acs.image&gt;\n    &lt;docker.share.image&gt;alfresco/alfresco-share&lt;/docker.share.image&gt;\n</code></pre>\n<p>How can I solve that ? I have no error when I build amp from eclipse...</p>\n"},{"tags":["java","selenium-webdriver","selenium-chromedriver"],"comments":[{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":0,"creation_date":1680023946,"post_id":75866584,"comment_id":133825021,"body_markdown":"Please read [ask], especially the part about [mcve] (MCVE). Take the code you are using, reduce it to an MCVE, and then post that code, properly formatted. Post the full error message as text, properly formatted, and indicate on which line the error is occurring. Post the relevant HTML as text, also properly formatted.","body":"Please read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>, especially the part about <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> (MCVE). Take the code you are using, reduce it to an MCVE, and then post that code, properly formatted. Post the full error message as text, properly formatted, and indicate on which line the error is occurring. Post the relevant HTML as text, also properly formatted."},{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":0,"creation_date":1680023957,"post_id":75866584,"comment_id":133825027,"body_markdown":"Screenshots of the UI are great, screenshots of code or HTML are not. Please read why [a screenshot of code/HTML is a bad idea](https://meta.stackoverflow.com/questions/303812/discourage-screenshots-of-code-and-or-errors). Paste the code/HTML as text and properly format it instead.","body":"Screenshots of the UI are great, screenshots of code or HTML are not. Please read why <a href=\"https://meta.stackoverflow.com/questions/303812/discourage-screenshots-of-code-and-or-errors\">a screenshot of code/HTML is a bad idea</a>. Paste the code/HTML as text and properly format it instead."}],"answers":[{"tags":[],"owner":{"account_id":10299692,"reputation":5744,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680009159,"creation_date":1680009159,"answer_id":75866725,"question_id":75866584,"body_markdown":"Try this XPATH expression:\r\n\r\n````\r\n//p[text()=&#39;Processes Portfolio&#39;]\r\n````\r\n\r\n**Explanation:** This relative XPATH expression will search the entire DOM for text &quot;Processes Portfolio&quot; within the tags `&lt;p&gt;` ","title":"How to find an element by its tag and it is located in multiple div in Selenium using Java?","body":"<p>Try this XPATH expression:</p>\n<pre><code>//p[text()='Processes Portfolio']\n</code></pre>\n<p><strong>Explanation:</strong> This relative XPATH expression will search the entire DOM for text &quot;Processes Portfolio&quot; within the tags <code>&lt;p&gt;</code></p>\n"}],"owner":{"account_id":10153934,"reputation":11,"user_id":7499592,"display_name":"Dmdm mh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75866725,"answer_count":1,"score":-1,"last_activity_date":1680010295,"creation_date":1680008353,"question_id":75866584,"body_markdown":"I&#39;m trying to find a specific element in my page and then click on it, this element doesn&#39;t have a specific unique ID or any other, and its index is not fixed it may be changed, thus how can I find this element in the simplest way &quot;I&#39;m just trying and learning selenium and still in the beginning&quot;\r\nas in the attached image, the uniqueness is in the tag &quot;p&quot; (Processes Portfolio) \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/M4wRe.png","title":"How to find an element by its tag and it is located in multiple div in Selenium using Java?","body":"<p>I'm trying to find a specific element in my page and then click on it, this element doesn't have a specific unique ID or any other, and its index is not fixed it may be changed, thus how can I find this element in the simplest way &quot;I'm just trying and learning selenium and still in the beginning&quot;\nas in the attached image, the uniqueness is in the tag &quot;p&quot; (Processes Portfolio)</p>\n<p><a href=\"https://i.stack.imgur.com/M4wRe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/M4wRe.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","completable-future"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1680006664,"post_id":75866186,"comment_id":133819827,"body_markdown":"There is only one `buf` variable. Whatever you think to achieve by making this variable `static` and assigning it an unused array of 32760 bytes, it doesnt work that way. Just declare a local variable inside the loop, to hold the array returned by `s[i].getBytes()`. Besides that, you never copy the contents of `jObjList` to `jObjArray`, you just create a new array with a matching size but never store anything to it.","body":"There is only one <code>buf</code> variable. Whatever you think to achieve by making this variable <code>static</code> and assigning it an unused array of 32760 bytes, it doesnt work that way. Just declare a local variable inside the loop, to hold the array returned by <code>s[i].getBytes()</code>. Besides that, you never copy the contents of <code>jObjList</code> to <code>jObjArray</code>, you just create a new array with a matching size but never store anything to it."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":2,"creation_date":1680010155,"post_id":75866186,"comment_id":133820911,"body_markdown":"Additionally, I wouldn&#39;t normally trust output that follows an exception, since we already know something has to be broken. (Hint: The NPE happens because every element in your array is `null`).","body":"Additionally, I wouldn&#39;t normally trust output that follows an exception, since we already know something has to be broken. (Hint: The NPE happens because every element in your array is <code>null</code>)."},{"owner":{"account_id":28147051,"reputation":3,"user_id":21509206,"display_name":"Richard62"},"score":0,"creation_date":1680050241,"post_id":75866186,"comment_id":133829942,"body_markdown":"Thank you @Holger and Rogue , I have the program working now. I guess I was confused by the two join&#39;s. Now that I&#39;ve reread the API I think I understand.","body":"Thank you @Holger and Rogue , I have the program working now. I guess I was confused by the two join&#39;s. Now that I&#39;ve reread the API I think I understand."}],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680009908,"creation_date":1680009908,"answer_id":75866869,"question_id":75866186,"body_markdown":"The jObjArray values are never set for the jObjList. Below\r\n\r\n    CompletableFuture&lt;JSONObject&gt;[] jObjArray = new CompletableFuture[jObjList.size()];\r\n\r\nAdd this:\r\n\r\n    for(int i = 0; i &lt; jObjList.size(); i++) {\r\n    \tjObjArray[i] = jObjList.get(i);\r\n    }\r\n\r\n\r\n\r\n","title":"Java Threading Issue, some CompletableFuture threads return with the same output as other threads with different input","body":"<p>The jObjArray values are never set for the jObjList. Below</p>\n<pre><code>CompletableFuture&lt;JSONObject&gt;[] jObjArray = new CompletableFuture[jObjList.size()];\n</code></pre>\n<p>Add this:</p>\n<pre><code>for(int i = 0; i &lt; jObjList.size(); i++) {\n    jObjArray[i] = jObjList.get(i);\n}\n</code></pre>\n"}],"owner":{"account_id":28147051,"reputation":3,"user_id":21509206,"display_name":"Richard62"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75866869,"answer_count":1,"score":0,"last_activity_date":1680009908,"creation_date":1680006019,"question_id":75866186,"body_markdown":"I am processing a mainframe file of bytes. I read each record (line by line) and create a JSONObject with some of the data from each record, once I have a certain amount (I&#39;ve set it at 1000 at the moment) of JSONObects, I create a JSONArray, which I then post to a web server, I repeat this until all records are processed.\r\n\r\nI would like to multi-thread the above process by sending each record to its own thread to generate each JSONObject, once all (allOf) the threads are complete, I want to create a JSONArray of those JSONObjects and send (post) the JSONArray to the web server.\r\n\r\nThe following simplified code reproduces the issue I am having, that some of the new threads are processing a record sent do a different thread in the batch of read records.\r\n\r\nI also get a nullPointerException that I can&#39;t figure out.\r\n\r\n\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.concurrent.CompletableFuture;\r\nimport java.util.*;\r\nimport java.util.concurrent.Executors;\r\nimport java.util.concurrent.ExecutorService;\r\nimport org.json.simple.*;\r\n\r\npublic class ThreadTest {\r\n    private static ExecutorService executor = Executors.newFixedThreadPool(5);\r\n    private static byte[] buf = new byte[32760];\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Program started at &quot; + new Date());\r\n        String [] s = new String[10];\r\n        JSONArray jArr = new JSONArray();\r\n        s[0] = &quot;20230325 12:30:00.000 12:30:01.000 XXXXIAA XFZA 10000&quot;;\r\n        s[1] = &quot;20230325 12:30:00.001 12:30:01.001 XXXXIAB XFZB 10001&quot;;\r\n        s[2] = &quot;20230325 12:30:00.002 12:30:01.002 XXXXIAC XFZC 10002&quot;;\r\n        s[3] = &quot;20230325 12:30:00.003 12:30:01.003 XXXXIAD XFZD 10003&quot;;\r\n        s[4] = &quot;20230325 12:30:00.004 12:30:01.004 XXXXIAE XFZE 10004&quot;;\r\n        s[5] = &quot;20230325 12:30:00.005 12:30:01.005 XXXXIAF XFZF 10005&quot;;\r\n        s[6] = &quot;20230325 12:30:00.006 12:30:01.006 XXXXIAG XFZG 10006&quot;;\r\n        s[7] = &quot;20230325 12:30:00.007 12:30:01.007 XXXXIAH XFZH 10007&quot;;\r\n        s[8] = &quot;20230325 12:30:00.008 12:30:01.008 XXXXIAI XFZI 10008&quot;;\r\n        s[9] = &quot;20230325 12:30:00.009 12:30:01.009 XXXXIAJ XFZJ 10009&quot;;\r\n        List&lt;CompletableFuture&lt;JSONObject&gt;&gt; jObjList = new ArrayList();\r\n        for(int i=0; i &lt; 10; i++){\r\n            buf = s[i].getBytes();\r\n            jObjList.add(CompletableFuture.supplyAsync(() -&gt; getJobj(buf),executor));\r\n        }\r\n        CompletableFuture&lt;JSONObject&gt;[] jObjArray = new CompletableFuture[jObjList.size()];\r\n        CompletableFuture.allOf(jObjArray)\r\n                .exceptionally(ex -&gt;\r\n                {\r\n                    ex.printStackTrace();\r\n                    return null;\r\n                }).join();\r\n       for(CompletableFuture&lt;JSONObject&gt; cf : jObjArray){\r\n           jArr.add(cf.join());\r\n       }\r\n       System.out.println(&quot;Program ended at &quot; + new Date());\r\n       System.out.println(&quot;jArr::&quot; + jArr.toString());\r\n    }\r\n\r\n    private static JSONObject getJobj(byte [] tBuf) {\r\n        //adding some delay\r\n        JSONObject jjObj = new JSONObject();\r\n        try {\r\n            Thread.sleep( 1000);\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        jjObj.put(&quot;transaction_start_date&quot;, new String(tBuf, 0, 8));\r\n        jjObj.put(&quot;transaction_start_time&quot;, new String(tBuf, 9, 12));\r\n        jjObj.put(&quot;transaction_end_time&quot;, new String(tBuf, 22, 12));\r\n        jjObj.put(&quot;cics_region&quot;, new String(tBuf, 35, 7));\r\n        jjObj.put(&quot;transaction_id&quot;, new String(tBuf, 43, 4));\r\n        jjObj.put(&quot;transaction_number&quot;, new String(tBuf, 48, 5));\r\n        System.out.println(Thread.currentThread().getName() + &quot;::&quot; + jjObj.toString());\r\n        return jjObj;\r\n    }\r\n}\r\n```\r\n\r\nI get the following output (notice the duplicates):\r\n\r\n```\r\nProgram started at Tue Mar 28 23:06:44 AEDT 2023\r\nException in thread &quot;main&quot; java.lang.NullPointerException\r\n        at java.base/java.util.concurrent.CompletableFuture.andTree(CompletableFuture.java:1520)\r\n        at java.base/java.util.concurrent.CompletableFuture.andTree(CompletableFuture.java:1517)\r\n        at java.base/java.util.concurrent.CompletableFuture.andTree(CompletableFuture.java:1517)\r\n        at java.base/java.util.concurrent.CompletableFuture.andTree(CompletableFuture.java:1517)\r\n        at java.base/java.util.concurrent.CompletableFuture.allOf(CompletableFuture.java:2419)\r\n        at ThreadTest.main(ThreadTest.java:32)\r\npool-1-thread-2::{&quot;transaction_id&quot;:&quot;XFZF&quot;,&quot;transaction_start_time&quot;:&quot;12:30:00.005&quot;,&quot;transaction_number&quot;:&quot;10005&quot;,&quot;transaction_end_time&quot;:&quot;12:30:01.005&quot;,&quot;transaction_start_date&quot;:&quot;20230325&quot;,&quot;cics_region&quot;:&quot;XXXXIAF&quot;}\r\npool-1-thread-5::{&quot;transaction_id&quot;:&quot;XFZJ&quot;,&quot;transaction_start_time&quot;:&quot;12:30:00.009&quot;,&quot;transaction_number&quot;:&quot;10009&quot;,&quot;transaction_end_time&quot;:&quot;12:30:01.009&quot;,&quot;transaction_start_date&quot;:&quot;20230325&quot;,&quot;cics_region&quot;:&quot;XXXXIAJ&quot;}\r\npool-1-thread-1::{&quot;transaction_id&quot;:&quot;XFZD&quot;,&quot;transaction_start_time&quot;:&quot;12:30:00.003&quot;,&quot;transaction_number&quot;:&quot;10003&quot;,&quot;transaction_end_time&quot;:&quot;12:30:01.003&quot;,&quot;transaction_start_date&quot;:&quot;20230325&quot;,&quot;cics_region&quot;:&quot;XXXXIAD&quot;}\r\npool-1-thread-4::{&quot;transaction_id&quot;:&quot;XFZJ&quot;,&quot;transaction_start_time&quot;:&quot;12:30:00.009&quot;,&quot;transaction_number&quot;:&quot;10009&quot;,&quot;transaction_end_time&quot;:&quot;12:30:01.009&quot;,&quot;transaction_start_date&quot;:&quot;20230325&quot;,&quot;cics_region&quot;:&quot;XXXXIAJ&quot;}\r\npool-1-thread-3::{&quot;transaction_id&quot;:&quot;XFZF&quot;,&quot;transaction_start_time&quot;:&quot;12:30:00.005&quot;,&quot;transaction_number&quot;:&quot;10005&quot;,&quot;transaction_end_time&quot;:&quot;12:30:01.005&quot;,&quot;transaction_start_date&quot;:&quot;20230325&quot;,&quot;cics_region&quot;:&quot;XXXXIAF&quot;}\r\npool-1-thread-5::{&quot;transaction_id&quot;:&quot;XFZJ&quot;,&quot;transaction_start_time&quot;:&quot;12:30:00.009&quot;,&quot;transaction_number&quot;:&quot;10009&quot;,&quot;transaction_end_time&quot;:&quot;12:30:01.009&quot;,&quot;transaction_start_date&quot;:&quot;20230325&quot;,&quot;cics_region&quot;:&quot;XXXXIAJ&quot;}\r\npool-1-thread-3::{&quot;transaction_id&quot;:&quot;XFZJ&quot;,&quot;transaction_start_time&quot;:&quot;12:30:00.009&quot;,&quot;transaction_number&quot;:&quot;10009&quot;,&quot;transaction_end_time&quot;:&quot;12:30:01.009&quot;,&quot;transaction_start_date&quot;:&quot;20230325&quot;,&quot;cics_region&quot;:&quot;XXXXIAJ&quot;}\r\npool-1-thread-4::{&quot;transaction_id&quot;:&quot;XFZJ&quot;,&quot;transaction_start_time&quot;:&quot;12:30:00.009&quot;,&quot;transaction_number&quot;:&quot;10009&quot;,&quot;transaction_end_time&quot;:&quot;12:30:01.009&quot;,&quot;transaction_start_date&quot;:&quot;20230325&quot;,&quot;cics_region&quot;:&quot;XXXXIAJ&quot;}\r\npool-1-thread-2::{&quot;transaction_id&quot;:&quot;XFZJ&quot;,&quot;transaction_start_time&quot;:&quot;12:30:00.009&quot;,&quot;transaction_number&quot;:&quot;10009&quot;,&quot;transaction_end_time&quot;:&quot;12:30:01.009&quot;,&quot;transaction_start_date&quot;:&quot;20230325&quot;,&quot;cics_region&quot;:&quot;XXXXIAJ&quot;}\r\npool-1-thread-1::{&quot;transaction_id&quot;:&quot;XFZJ&quot;,&quot;transaction_start_time&quot;:&quot;12:30:00.009&quot;,&quot;transaction_number&quot;:&quot;10009&quot;,&quot;transaction_end_time&quot;:&quot;12:30:01.009&quot;,&quot;transaction_start_date&quot;:&quot;20230325&quot;,&quot;cics_region&quot;:&quot;XXXXIAJ&quot;}\r\n```\r\n\r\nI&#39;d really appreciate some help with this one?\r\n\r\nThanks\r\n\r\nI originally tried FutureTask with the same result, hopefully CompletableFuture is still the way to go. ","title":"Java Threading Issue, some CompletableFuture threads return with the same output as other threads with different input","body":"<p>I am processing a mainframe file of bytes. I read each record (line by line) and create a JSONObject with some of the data from each record, once I have a certain amount (I've set it at 1000 at the moment) of JSONObects, I create a JSONArray, which I then post to a web server, I repeat this until all records are processed.</p>\n<p>I would like to multi-thread the above process by sending each record to its own thread to generate each JSONObject, once all (allOf) the threads are complete, I want to create a JSONArray of those JSONObjects and send (post) the JSONArray to the web server.</p>\n<p>The following simplified code reproduces the issue I am having, that some of the new threads are processing a record sent do a different thread in the batch of read records.</p>\n<p>I also get a nullPointerException that I can't figure out.</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\nimport java.util.concurrent.CompletableFuture;\nimport java.util.*;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.ExecutorService;\nimport org.json.simple.*;\n\npublic class ThreadTest {\n    private static ExecutorService executor = Executors.newFixedThreadPool(5);\n    private static byte[] buf = new byte[32760];\n    public static void main(String[] args) {\n        System.out.println(&quot;Program started at &quot; + new Date());\n        String [] s = new String[10];\n        JSONArray jArr = new JSONArray();\n        s[0] = &quot;20230325 12:30:00.000 12:30:01.000 XXXXIAA XFZA 10000&quot;;\n        s[1] = &quot;20230325 12:30:00.001 12:30:01.001 XXXXIAB XFZB 10001&quot;;\n        s[2] = &quot;20230325 12:30:00.002 12:30:01.002 XXXXIAC XFZC 10002&quot;;\n        s[3] = &quot;20230325 12:30:00.003 12:30:01.003 XXXXIAD XFZD 10003&quot;;\n        s[4] = &quot;20230325 12:30:00.004 12:30:01.004 XXXXIAE XFZE 10004&quot;;\n        s[5] = &quot;20230325 12:30:00.005 12:30:01.005 XXXXIAF XFZF 10005&quot;;\n        s[6] = &quot;20230325 12:30:00.006 12:30:01.006 XXXXIAG XFZG 10006&quot;;\n        s[7] = &quot;20230325 12:30:00.007 12:30:01.007 XXXXIAH XFZH 10007&quot;;\n        s[8] = &quot;20230325 12:30:00.008 12:30:01.008 XXXXIAI XFZI 10008&quot;;\n        s[9] = &quot;20230325 12:30:00.009 12:30:01.009 XXXXIAJ XFZJ 10009&quot;;\n        List&lt;CompletableFuture&lt;JSONObject&gt;&gt; jObjList = new ArrayList();\n        for(int i=0; i &lt; 10; i++){\n            buf = s[i].getBytes();\n            jObjList.add(CompletableFuture.supplyAsync(() -&gt; getJobj(buf),executor));\n        }\n        CompletableFuture&lt;JSONObject&gt;[] jObjArray = new CompletableFuture[jObjList.size()];\n        CompletableFuture.allOf(jObjArray)\n                .exceptionally(ex -&gt;\n                {\n                    ex.printStackTrace();\n                    return null;\n                }).join();\n       for(CompletableFuture&lt;JSONObject&gt; cf : jObjArray){\n           jArr.add(cf.join());\n       }\n       System.out.println(&quot;Program ended at &quot; + new Date());\n       System.out.println(&quot;jArr::&quot; + jArr.toString());\n    }\n\n    private static JSONObject getJobj(byte [] tBuf) {\n        //adding some delay\n        JSONObject jjObj = new JSONObject();\n        try {\n            Thread.sleep( 1000);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n\n        jjObj.put(&quot;transaction_start_date&quot;, new String(tBuf, 0, 8));\n        jjObj.put(&quot;transaction_start_time&quot;, new String(tBuf, 9, 12));\n        jjObj.put(&quot;transaction_end_time&quot;, new String(tBuf, 22, 12));\n        jjObj.put(&quot;cics_region&quot;, new String(tBuf, 35, 7));\n        jjObj.put(&quot;transaction_id&quot;, new String(tBuf, 43, 4));\n        jjObj.put(&quot;transaction_number&quot;, new String(tBuf, 48, 5));\n        System.out.println(Thread.currentThread().getName() + &quot;::&quot; + jjObj.toString());\n        return jjObj;\n    }\n}\n</code></pre>\n<p>I get the following output (notice the duplicates):</p>\n<pre><code>Program started at Tue Mar 28 23:06:44 AEDT 2023\nException in thread &quot;main&quot; java.lang.NullPointerException\n        at java.base/java.util.concurrent.CompletableFuture.andTree(CompletableFuture.java:1520)\n        at java.base/java.util.concurrent.CompletableFuture.andTree(CompletableFuture.java:1517)\n        at java.base/java.util.concurrent.CompletableFuture.andTree(CompletableFuture.java:1517)\n        at java.base/java.util.concurrent.CompletableFuture.andTree(CompletableFuture.java:1517)\n        at java.base/java.util.concurrent.CompletableFuture.allOf(CompletableFuture.java:2419)\n        at ThreadTest.main(ThreadTest.java:32)\npool-1-thread-2::{&quot;transaction_id&quot;:&quot;XFZF&quot;,&quot;transaction_start_time&quot;:&quot;12:30:00.005&quot;,&quot;transaction_number&quot;:&quot;10005&quot;,&quot;transaction_end_time&quot;:&quot;12:30:01.005&quot;,&quot;transaction_start_date&quot;:&quot;20230325&quot;,&quot;cics_region&quot;:&quot;XXXXIAF&quot;}\npool-1-thread-5::{&quot;transaction_id&quot;:&quot;XFZJ&quot;,&quot;transaction_start_time&quot;:&quot;12:30:00.009&quot;,&quot;transaction_number&quot;:&quot;10009&quot;,&quot;transaction_end_time&quot;:&quot;12:30:01.009&quot;,&quot;transaction_start_date&quot;:&quot;20230325&quot;,&quot;cics_region&quot;:&quot;XXXXIAJ&quot;}\npool-1-thread-1::{&quot;transaction_id&quot;:&quot;XFZD&quot;,&quot;transaction_start_time&quot;:&quot;12:30:00.003&quot;,&quot;transaction_number&quot;:&quot;10003&quot;,&quot;transaction_end_time&quot;:&quot;12:30:01.003&quot;,&quot;transaction_start_date&quot;:&quot;20230325&quot;,&quot;cics_region&quot;:&quot;XXXXIAD&quot;}\npool-1-thread-4::{&quot;transaction_id&quot;:&quot;XFZJ&quot;,&quot;transaction_start_time&quot;:&quot;12:30:00.009&quot;,&quot;transaction_number&quot;:&quot;10009&quot;,&quot;transaction_end_time&quot;:&quot;12:30:01.009&quot;,&quot;transaction_start_date&quot;:&quot;20230325&quot;,&quot;cics_region&quot;:&quot;XXXXIAJ&quot;}\npool-1-thread-3::{&quot;transaction_id&quot;:&quot;XFZF&quot;,&quot;transaction_start_time&quot;:&quot;12:30:00.005&quot;,&quot;transaction_number&quot;:&quot;10005&quot;,&quot;transaction_end_time&quot;:&quot;12:30:01.005&quot;,&quot;transaction_start_date&quot;:&quot;20230325&quot;,&quot;cics_region&quot;:&quot;XXXXIAF&quot;}\npool-1-thread-5::{&quot;transaction_id&quot;:&quot;XFZJ&quot;,&quot;transaction_start_time&quot;:&quot;12:30:00.009&quot;,&quot;transaction_number&quot;:&quot;10009&quot;,&quot;transaction_end_time&quot;:&quot;12:30:01.009&quot;,&quot;transaction_start_date&quot;:&quot;20230325&quot;,&quot;cics_region&quot;:&quot;XXXXIAJ&quot;}\npool-1-thread-3::{&quot;transaction_id&quot;:&quot;XFZJ&quot;,&quot;transaction_start_time&quot;:&quot;12:30:00.009&quot;,&quot;transaction_number&quot;:&quot;10009&quot;,&quot;transaction_end_time&quot;:&quot;12:30:01.009&quot;,&quot;transaction_start_date&quot;:&quot;20230325&quot;,&quot;cics_region&quot;:&quot;XXXXIAJ&quot;}\npool-1-thread-4::{&quot;transaction_id&quot;:&quot;XFZJ&quot;,&quot;transaction_start_time&quot;:&quot;12:30:00.009&quot;,&quot;transaction_number&quot;:&quot;10009&quot;,&quot;transaction_end_time&quot;:&quot;12:30:01.009&quot;,&quot;transaction_start_date&quot;:&quot;20230325&quot;,&quot;cics_region&quot;:&quot;XXXXIAJ&quot;}\npool-1-thread-2::{&quot;transaction_id&quot;:&quot;XFZJ&quot;,&quot;transaction_start_time&quot;:&quot;12:30:00.009&quot;,&quot;transaction_number&quot;:&quot;10009&quot;,&quot;transaction_end_time&quot;:&quot;12:30:01.009&quot;,&quot;transaction_start_date&quot;:&quot;20230325&quot;,&quot;cics_region&quot;:&quot;XXXXIAJ&quot;}\npool-1-thread-1::{&quot;transaction_id&quot;:&quot;XFZJ&quot;,&quot;transaction_start_time&quot;:&quot;12:30:00.009&quot;,&quot;transaction_number&quot;:&quot;10009&quot;,&quot;transaction_end_time&quot;:&quot;12:30:01.009&quot;,&quot;transaction_start_date&quot;:&quot;20230325&quot;,&quot;cics_region&quot;:&quot;XXXXIAJ&quot;}\n</code></pre>\n<p>I'd really appreciate some help with this one?</p>\n<p>Thanks</p>\n<p>I originally tried FutureTask with the same result, hopefully CompletableFuture is still the way to go.</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":5237964,"reputation":6741,"user_id":4185959,"accept_rate":64,"display_name":"Itai"},"score":1,"creation_date":1505285827,"post_id":46190644,"comment_id":79343717,"body_markdown":"If all you need want to achieve is to disallow tab stop on some nodes, look at [focusTraversable](https://docs.oracle.com/javase/8/javafx/api/javafx/scene/Node.html#focusTraversableProperty). Otherwise please clarify.","body":"If all you need want to achieve is to disallow tab stop on some nodes, look at <a href=\"https://docs.oracle.com/javase/8/javafx/api/javafx/scene/Node.html#focusTraversableProperty\" rel=\"nofollow noreferrer\">focusTraversable</a>. Otherwise please clarify."},{"owner":{"account_id":2584037,"reputation":37,"user_id":2240139,"display_name":"Labeeb"},"score":0,"creation_date":1505286661,"post_id":46190644,"comment_id":79344221,"body_markdown":"Thanks for the &#39;setFocusTraversable(boolean)&#39;. is the something called TabKeyIndex ? If so, I cloud set tabindex like 1,2,3","body":"Thanks for the &#39;setFocusTraversable(boolean)&#39;. is the something called TabKeyIndex ? If so, I cloud set tabindex like 1,2,3"},{"owner":{"account_id":5237964,"reputation":6741,"user_id":4185959,"accept_rate":64,"display_name":"Itai"},"score":1,"creation_date":1505287076,"post_id":46190644,"comment_id":79344503,"body_markdown":"AFAIK the tab index is determined by the order of adding the controls to the scene (order they appear in the FXML if loaded with `FXMLLoader`). I seem to recall there being plans to allow for a public interface with more control over this in the future, but I can&#39;t find the JDK issue at the moment.","body":"AFAIK the tab index is determined by the order of adding the controls to the scene (order they appear in the FXML if loaded with <code>FXMLLoader</code>). I seem to recall there being plans to allow for a public interface with more control over this in the future, but I can&#39;t find the JDK issue at the moment."},{"owner":{"account_id":2584037,"reputation":37,"user_id":2240139,"display_name":"Labeeb"},"score":0,"creation_date":1505287663,"post_id":46190644,"comment_id":79344899,"body_markdown":"Thanks for your time. Unfortunately &quot;order of adding the controls&quot; won&#39;t work in my case. that will collapse my design. and need to get focus **root-node-next-parent-child**","body":"Thanks for your time. Unfortunately &quot;order of adding the controls&quot; won&#39;t work in my case. that will collapse my design. and need to get focus <b>root-node-next-parent-child</b>"}],"answers":[{"comments":[{"owner":{"account_id":2584037,"reputation":37,"user_id":2240139,"display_name":"Labeeb"},"score":0,"creation_date":1505324295,"post_id":46201708,"comment_id":79370394,"body_markdown":"Thanks for the answer. this reduced nearly 32 lines of my code. But there should be even more simplest way i wish.","body":"Thanks for the answer. this reduced nearly 32 lines of my code. But there should be even more simplest way i wish."},{"owner":{"account_id":4688180,"reputation":2484,"user_id":3795043,"accept_rate":90,"display_name":"findusl"},"score":0,"creation_date":1505324802,"post_id":46201708,"comment_id":79370689,"body_markdown":"maybe it is part of some accessibility feature since navigating with keyboard is about being accessible without mouse. Just thought of it.","body":"maybe it is part of some accessibility feature since navigating with keyboard is about being accessible without mouse. Just thought of it."}],"tags":[],"owner":{"account_id":4688180,"reputation":2484,"user_id":3795043,"accept_rate":90,"display_name":"findusl"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1505317276,"creation_date":1505317276,"answer_id":46201708,"question_id":46190644,"body_markdown":"[JavaFX event processing][1] consists of two parts. First the event capturing phase where the event goes &#39;down&#39; from the root to the child and then the event bubbling where it goes back &#39;up&#39; to the root. In order to catch an event on all child nodes of a node you can catch it on it&#39;s way down using [event filters][2]. Then you don&#39;t have to add the handler on all child nodes.\r\n\r\nThis answers your question, but I personally feel like there should be a better way to do that than handling the tab event yourself.\r\n\r\n  [1]: http://docs.oracle.com/javafx/2/events/processing.htm#CEGJAAFD\r\n  [2]: http://docs.oracle.com/javafx/2/events/filters.htm","title":"How to change tabkey stop index programically and disable in javafx","body":"<p><a href=\"http://docs.oracle.com/javafx/2/events/processing.htm#CEGJAAFD\" rel=\"nofollow noreferrer\">JavaFX event processing</a> consists of two parts. First the event capturing phase where the event goes 'down' from the root to the child and then the event bubbling where it goes back 'up' to the root. In order to catch an event on all child nodes of a node you can catch it on it's way down using <a href=\"http://docs.oracle.com/javafx/2/events/filters.htm\" rel=\"nofollow noreferrer\">event filters</a>. Then you don't have to add the handler on all child nodes.</p>\n\n<p>This answers your question, but I personally feel like there should be a better way to do that than handling the tab event yourself.</p>\n"}],"owner":{"account_id":2584037,"reputation":37,"user_id":2240139,"display_name":"Labeeb"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":512,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":46201708,"answer_count":1,"score":-1,"last_activity_date":1680009376,"creation_date":1505285225,"question_id":46190644,"body_markdown":"I&#39;m trying to create a keyboard friendly app in JavaFX. I need to manage the tab-key all over the scene and need to disable the tab-stop some of the nods (TextFields, Button ).\r\n\r\nIn my research, i get to know that Implement key pressed event every single node. is there any simple way to do it?\r\n\r\n    private void OnKeyPressed_MContainer(KeyEvent event) {\r\n\r\n        if (event.getCode().equals(KeyCode.TAB)) {\r\n             \r\n        }\r\n\r\n    }\r\n\r\n ","title":"How to change tabkey stop index programically and disable in javafx","body":"<p>I'm trying to create a keyboard friendly app in JavaFX. I need to manage the tab-key all over the scene and need to disable the tab-stop some of the nods (TextFields, Button ).</p>\n\n<p>In my research, i get to know that Implement key pressed event every single node. is there any simple way to do it?</p>\n\n<pre><code>private void OnKeyPressed_MContainer(KeyEvent event) {\n\n    if (event.getCode().equals(KeyCode.TAB)) {\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","eclipse","sts"],"comments":[{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1680009939,"post_id":75866663,"comment_id":133820837,"body_markdown":"It looks like the code is doing something that Java 17 no longer allows - various attempts to change Java internals are now not allowed. You will need to use newer versions of the code that support Java 17.","body":"It looks like the code is doing something that Java 17 no longer allows - various attempts to change Java internals are now not allowed. You will need to use newer versions of the code that support Java 17."},{"owner":{"account_id":28065994,"reputation":11,"user_id":21439384,"display_name":"siva"},"score":0,"creation_date":1680010545,"post_id":75866663,"comment_id":133821044,"body_markdown":"you mean to say I need to change the code as per java 17 standards? @greg-449","body":"you mean to say I need to change the code as per java 17 standards? @greg-449"},{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1680010748,"post_id":75866663,"comment_id":133821101,"body_markdown":"The code having the problem is part of Eclipse JDT - so you need a newer version of Eclipse/STS","body":"The code having the problem is part of Eclipse JDT - so you need a newer version of Eclipse/STS"}],"owner":{"account_id":28065994,"reputation":11,"user_id":21439384,"display_name":"siva"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680009205,"creation_date":1680008803,"question_id":75866663,"body_markdown":"Im using spring tool suite 4, my gradle application uses java 8 and gradle 7.2 previously. Now I have upgraded java version as java 17 and gradle 8.0.2. I was unable to open java classes in sts, its throwing the following exception while opening java classes in sts editor.\r\n\r\n    java.lang.reflect.InaccessibleObjectException: Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @16da476c\r\n    \tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\r\n    \tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\r\n    \tat java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:199)\r\n    \tat java.base/java.lang.reflect.Method.setAccessible(Method.java:193)\r\n    \tat org.eclipse.osgi.internal.loader.ModuleClassLoader.overrideLoadResult(ModuleClassLoader.java:86)\r\n    \tat org.eclipse.osgi.internal.loader.ModuleClassLoader.loadClass(ModuleClassLoader.java)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n    \tat org.eclipse.jdt.internal.compiler.parser.Parser.endParse(Parser.java:10861)\r\n    \tat org.eclipse.jdt.internal.core.util.CommentRecorderParser.endParse(CommentRecorderParser.java:135)\r\n    \tat org.eclipse.jdt.internal.compiler.SourceElementParser.endParse(SourceElementParser.java:809)\r\n    \tat org.eclipse.jdt.internal.compiler.parser.Parser.parse(Parser.java:12044)\r\n    \tat org.eclipse.jdt.internal.compiler.parser.Parser.parse(Parser.java:12268)\r\n    \tat org.eclipse.jdt.internal.compiler.parser.Parser.parse(Parser.java:12225)\r\n    \tat org.eclipse.jdt.internal.compiler.SourceElementParser.parseCompilationUnit(SourceElementParser.java:1034)\r\n    \tat org.eclipse.jdt.internal.core.CompilationUnit.buildStructure(CompilationUnit.java:195)\r\n    \tat org.eclipse.jdt.internal.core.Openable.generateInfos(Openable.java:268)\r\n    \tat org.eclipse.jdt.internal.core.JavaElement.openWhenClosed(JavaElement.java:596)\r\n    \tat org.eclipse.jdt.internal.core.JavaElement.getElementInfo(JavaElement.java:326)\r\n    \tat org.eclipse.jdt.internal.core.JavaElement.getElementInfo(JavaElement.java:312)\r\n    \tat org.eclipse.jdt.internal.core.CompilationUnit.getSourceRange(CompilationUnit.java:951)\r\n    \tat org.eclipse.jdt.internal.ui.javaeditor.selectionactions.GoToNextPreviousMemberAction.update(GoToNextPreviousMemberAction.java:95)\r\n    \tat org.eclipse.jdt.internal.ui.javaeditor.selectionactions.GoToNextPreviousMemberAction.&lt;init&gt;(GoToNextPreviousMemberAction.java:73)\r\n    \tat org.eclipse.jdt.internal.ui.javaeditor.selectionactions.GoToNextPreviousMemberAction.newGoToNextMemberAction(GoToNextPreviousMemberAction.java:60)\r\n    \tat org.eclipse.jdt.internal.ui.javaeditor.JavaEditor.createActions(JavaEditor.java:2744)\r\n    \tat org.eclipse.jdt.internal.ui.javaeditor.CompilationUnitEditor.createActions(CompilationUnitEditor.java:1077)\r\n    \tat org.eclipse.ui.texteditor.AbstractTextEditor.createPartControl(AbstractTextEditor.java:3483)\r\n    \tat org.eclipse.ui.texteditor.StatusTextEditor.createPartControl(StatusTextEditor.java:64)\r\n    \tat org.eclipse.ui.texteditor.AbstractDecoratedTextEditor.createPartControl(AbstractDecoratedTextEditor.java:452)\r\n    \tat org.eclipse.jdt.internal.ui.javaeditor.JavaEditor.createPartControl(JavaEditor.java:3123)\r\n    \tat org.eclipse.jdt.internal.ui.javaeditor.CompilationUnitEditor.createPartControl(CompilationUnitEditor.java:1533)\r\n    \tat org.eclipse.ui.internal.e4.compatibility.CompatibilityPart.createPartControl(CompatibilityPart.java:154)\r\n    \tat org.eclipse.ui.internal.e4.compatibility.CompatibilityEditor.createPartControl(CompatibilityEditor.java:96)\r\n    \tat org.eclipse.ui.internal.e4.compatibility.CompatibilityPart.create(CompatibilityPart.java:361)\r\n    \tat jdk.internal.reflect.GeneratedMethodAccessor71.invoke(Unknown Source)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    \tat org.eclipse.e4.core.internal.di.MethodRequestor.execute(MethodRequestor.java:58)\r\n    \tat org.eclipse.e4.core.internal.di.InjectorImpl.processAnnotated(InjectorImpl.java:998)\r\n    \tat org.eclipse.e4.core.internal.di.InjectorImpl.processAnnotated(InjectorImpl.java:963)\r\n    \tat org.eclipse.e4.core.internal.di.InjectorImpl.internalInject(InjectorImpl.java:139)\r\n    \tat org.eclipse.e4.core.internal.di.InjectorImpl.internalMake(InjectorImpl.java:408)\r\n    \tat org.eclipse.e4.core.internal.di.InjectorImpl.make(InjectorImpl.java:331)\r\n    \tat org.eclipse.e4.core.contexts.ContextInjectionFactory.make(ContextInjectionFactory.java:202)\r\n    \tat org.eclipse.e4.ui.internal.workbench.ReflectionContributionFactory.createFromBundle(ReflectionContributionFactory.java:91)\r\n    \tat org.eclipse.e4.ui.internal.workbench.ReflectionContributionFactory.doCreate(ReflectionContributionFactory.java:60)\r\n    \tat org.eclipse.e4.ui.internal.workbench.ReflectionContributionFactory.create(ReflectionContributionFactory.java:42)\r\n    \tat org.eclipse.e4.ui.workbench.renderers.swt.ContributedPartRenderer.createWidget(ContributedPartRenderer.java:132)\r\n    \tat org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.createWidget(PartRenderingEngine.java:1002)\r\n    \tat org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.safeCreateGui(PartRenderingEngine.java:662)\r\n    \tat org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.safeCreateGui(PartRenderingEngine.java:768)\r\n    \tat org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.access$0(PartRenderingEngine.java:739)\r\n    \tat org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$2.run(PartRenderingEngine.java:733)\r\n    \tat org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:45)\r\n    \tat org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.createGui(PartRenderingEngine.java:717)\r\n    \tat org.eclipse.e4.ui.workbench.renderers.swt.StackRenderer.showTab(StackRenderer.java:1293)\r\n    \tat org.eclipse.e4.ui.workbench.renderers.swt.LazyStackRenderer.lambda$0(LazyStackRenderer.java:75)\r\n    \tat org.eclipse.e4.ui.services.internal.events.UIEventHandler.lambda$0(UIEventHandler.java:38)\r\n    \tat org.eclipse.swt.widgets.Synchronizer.syncExec(Synchronizer.java:236)\r\n    \tat org.eclipse.ui.internal.UISynchronizer.syncExec(UISynchronizer.java:146)\r\n    \tat org.eclipse.swt.widgets.Display.syncExec(Display.java:4622)\r\n    \tat org.eclipse.e4.ui.internal.workbench.swt.E4Application$1.syncExec(E4Application.java:219)\r\n    \tat org.eclipse.e4.ui.services.internal.events.UIEventHandler.handleEvent(UIEventHandler.java:38)\r\n    \tat org.eclipse.equinox.internal.event.EventHandlerWrapper.handleEvent(EventHandlerWrapper.java:205)\r\n    \tat org.eclipse.equinox.internal.event.EventHandlerTracker.dispatchEvent(EventHandlerTracker.java:203)\r\n    \tat org.eclipse.equinox.internal.event.EventHandlerTracker.dispatchEvent(EventHandlerTracker.java:1)\r\n    \tat org.eclipse.osgi.framework.eventmgr.EventManager.dispatchEvent(EventManager.java:234)\r\n    \tat org.eclipse.osgi.framework.eventmgr.ListenerQueue.dispatchEventSynchronous(ListenerQueue.java:151)\r\n    \tat org.eclipse.equinox.internal.event.EventAdminImpl.dispatchEvent(EventAdminImpl.java:132)\r\n    \tat org.eclipse.equinox.internal.event.EventAdminImpl.sendEvent(EventAdminImpl.java:75)\r\n    \tat org.eclipse.equinox.internal.event.EventComponent.sendEvent(EventComponent.java:44)\r\n    \tat org.eclipse.e4.ui.services.internal.events.EventBroker.send(EventBroker.java:55)\r\n    \tat org.eclipse.e4.ui.internal.workbench.UIEventPublisher.notifyChanged(UIEventPublisher.java:63)\r\n    \tat org.eclipse.emf.common.notify.impl.BasicNotifierImpl.eNotify(BasicNotifierImpl.java:424)\r\n    \tat org.eclipse.e4.ui.model.application.ui.impl.ElementContainerImpl.setSelectedElementGen(ElementContainerImpl.java:170)\r\n    \tat org.eclipse.e4.ui.model.application.ui.impl.ElementContainerImpl.setSelectedElement(ElementContainerImpl.java:188)\r\n    \tat org.eclipse.e4.ui.internal.workbench.ModelServiceImpl.showElementInWindow(ModelServiceImpl.java:651)\r\n    \tat org.eclipse.e4.ui.internal.workbench.ModelServiceImpl.bringToTop(ModelServiceImpl.java:615)\r\n    \tat org.eclipse.e4.ui.internal.workbench.PartServiceImpl.delegateBringToTop(PartServiceImpl.java:790)\r\n    \tat org.eclipse.e4.ui.internal.workbench.PartServiceImpl.bringToTop(PartServiceImpl.java:404)\r\n    \tat org.eclipse.e4.ui.internal.workbench.PartServiceImpl.showPart(PartServiceImpl.java:1239)\r\n    \tat org.eclipse.ui.internal.WorkbenchPage.busyOpenEditor(WorkbenchPage.java:3205)\r\n    \tat org.eclipse.ui.internal.WorkbenchPage.lambda$9(WorkbenchPage.java:3110)\r\n    \tat org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:72)\r\n    \tat org.eclipse.ui.internal.WorkbenchPage.openEditor(WorkbenchPage.java:3108)\r\n    \tat org.eclipse.ui.internal.WorkbenchPage.openEditor(WorkbenchPage.java:3078)\r\n    \tat org.eclipse.ui.internal.WorkbenchPage.openEditor(WorkbenchPage.java:3069)\r\n    \tat org.eclipse.jdt.internal.ui.javaeditor.EditorUtility.openInEditor(EditorUtility.java:376)\r\n    \tat org.eclipse.jdt.internal.ui.javaeditor.EditorUtility.openInEditor(EditorUtility.java:182)\r\n    \tat org.eclipse.jdt.ui.actions.OpenAction.run(OpenAction.java:287)\r\n    \tat org.eclipse.jdt.ui.actions.OpenAction.run(OpenAction.java:252)\r\n    \tat org.eclipse.jdt.ui.actions.SelectionDispatchAction.dispatchRun(SelectionDispatchAction.java:274)\r\n    \tat org.eclipse.jdt.ui.actions.SelectionDispatchAction.run(SelectionDispatchAction.java:252)\r\n    \tat org.eclipse.jdt.internal.ui.packageview.PackageExplorerActionGroup.handleOpen(PackageExplorerActionGroup.java:382)\r\n    \tat org.eclipse.jdt.internal.ui.packageview.PackageExplorerPart$4.open(PackageExplorerPart.java:554)\r\n    \tat org.eclipse.ui.OpenAndLinkWithEditorHelper$InternalListener.open(OpenAndLinkWithEditorHelper.java:48)\r\n    \tat org.eclipse.jface.viewers.StructuredViewer$2.run(StructuredViewer.java:797)\r\n    \tat org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:45)\r\n    \tat org.eclipse.ui.internal.JFaceUtil.lambda$0(JFaceUtil.java:47)\r\n    \tat org.eclipse.jface.util.SafeRunnable.run(SafeRunnable.java:174)\r\n    \tat org.eclipse.jface.viewers.StructuredViewer.fireOpen(StructuredViewer.java:794)\r\n    \tat org.eclipse.jface.viewers.StructuredViewer.handleOpen(StructuredViewer.java:1110)\r\n    \tat org.eclipse.jface.util.OpenStrategy.fireOpenEvent(OpenStrategy.java:275)\r\n    \tat org.eclipse.jface.util.OpenStrategy.access$2(OpenStrategy.java:270)\r\n    \tat org.eclipse.jface.util.OpenStrategy$1.handleEvent(OpenStrategy.java:310)\r\n    \tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:89)\r\n    \tat org.eclipse.swt.widgets.Display.sendEvent(Display.java:4173)\r\n    \tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1057)\r\n    \tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3986)\r\n    \tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3585)\r\n    \tat org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$5.run(PartRenderingEngine.java:1160)\r\n    \tat org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\r\n    \tat org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.run(PartRenderingEngine.java:1049)\r\n    \tat org.eclipse.e4.ui.internal.workbench.E4Workbench.createAndRunUI(E4Workbench.java:155)\r\n    \tat org.eclipse.ui.internal.Workbench.lambda$3(Workbench.java:633)\r\n    \tat org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\r\n    \tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:557)\r\n    \tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:150)\r\n    \tat org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:150)\r\n    \tat org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:203)\r\n    \tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:137)\r\n    \tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:107)\r\n    \tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:400)\r\n    \tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:255)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    \tat org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:660)\r\n    \tat org.eclipse.equinox.launcher.Main.basicRun(Main.java:597)\r\n    \tat org.eclipse.equinox.launcher.Main.run(Main.java:1468)\r\n\r\nPlease let me know if I need to change any configuration\r\n","title":"Unable to open java project in sts","body":"<p>Im using spring tool suite 4, my gradle application uses java 8 and gradle 7.2 previously. Now I have upgraded java version as java 17 and gradle 8.0.2. I was unable to open java classes in sts, its throwing the following exception while opening java classes in sts editor.</p>\n<pre><code>java.lang.reflect.InaccessibleObjectException: Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @16da476c\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\n    at java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:199)\n    at java.base/java.lang.reflect.Method.setAccessible(Method.java:193)\n    at org.eclipse.osgi.internal.loader.ModuleClassLoader.overrideLoadResult(ModuleClassLoader.java:86)\n    at org.eclipse.osgi.internal.loader.ModuleClassLoader.loadClass(ModuleClassLoader.java)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    at org.eclipse.jdt.internal.compiler.parser.Parser.endParse(Parser.java:10861)\n    at org.eclipse.jdt.internal.core.util.CommentRecorderParser.endParse(CommentRecorderParser.java:135)\n    at org.eclipse.jdt.internal.compiler.SourceElementParser.endParse(SourceElementParser.java:809)\n    at org.eclipse.jdt.internal.compiler.parser.Parser.parse(Parser.java:12044)\n    at org.eclipse.jdt.internal.compiler.parser.Parser.parse(Parser.java:12268)\n    at org.eclipse.jdt.internal.compiler.parser.Parser.parse(Parser.java:12225)\n    at org.eclipse.jdt.internal.compiler.SourceElementParser.parseCompilationUnit(SourceElementParser.java:1034)\n    at org.eclipse.jdt.internal.core.CompilationUnit.buildStructure(CompilationUnit.java:195)\n    at org.eclipse.jdt.internal.core.Openable.generateInfos(Openable.java:268)\n    at org.eclipse.jdt.internal.core.JavaElement.openWhenClosed(JavaElement.java:596)\n    at org.eclipse.jdt.internal.core.JavaElement.getElementInfo(JavaElement.java:326)\n    at org.eclipse.jdt.internal.core.JavaElement.getElementInfo(JavaElement.java:312)\n    at org.eclipse.jdt.internal.core.CompilationUnit.getSourceRange(CompilationUnit.java:951)\n    at org.eclipse.jdt.internal.ui.javaeditor.selectionactions.GoToNextPreviousMemberAction.update(GoToNextPreviousMemberAction.java:95)\n    at org.eclipse.jdt.internal.ui.javaeditor.selectionactions.GoToNextPreviousMemberAction.&lt;init&gt;(GoToNextPreviousMemberAction.java:73)\n    at org.eclipse.jdt.internal.ui.javaeditor.selectionactions.GoToNextPreviousMemberAction.newGoToNextMemberAction(GoToNextPreviousMemberAction.java:60)\n    at org.eclipse.jdt.internal.ui.javaeditor.JavaEditor.createActions(JavaEditor.java:2744)\n    at org.eclipse.jdt.internal.ui.javaeditor.CompilationUnitEditor.createActions(CompilationUnitEditor.java:1077)\n    at org.eclipse.ui.texteditor.AbstractTextEditor.createPartControl(AbstractTextEditor.java:3483)\n    at org.eclipse.ui.texteditor.StatusTextEditor.createPartControl(StatusTextEditor.java:64)\n    at org.eclipse.ui.texteditor.AbstractDecoratedTextEditor.createPartControl(AbstractDecoratedTextEditor.java:452)\n    at org.eclipse.jdt.internal.ui.javaeditor.JavaEditor.createPartControl(JavaEditor.java:3123)\n    at org.eclipse.jdt.internal.ui.javaeditor.CompilationUnitEditor.createPartControl(CompilationUnitEditor.java:1533)\n    at org.eclipse.ui.internal.e4.compatibility.CompatibilityPart.createPartControl(CompatibilityPart.java:154)\n    at org.eclipse.ui.internal.e4.compatibility.CompatibilityEditor.createPartControl(CompatibilityEditor.java:96)\n    at org.eclipse.ui.internal.e4.compatibility.CompatibilityPart.create(CompatibilityPart.java:361)\n    at jdk.internal.reflect.GeneratedMethodAccessor71.invoke(Unknown Source)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.eclipse.e4.core.internal.di.MethodRequestor.execute(MethodRequestor.java:58)\n    at org.eclipse.e4.core.internal.di.InjectorImpl.processAnnotated(InjectorImpl.java:998)\n    at org.eclipse.e4.core.internal.di.InjectorImpl.processAnnotated(InjectorImpl.java:963)\n    at org.eclipse.e4.core.internal.di.InjectorImpl.internalInject(InjectorImpl.java:139)\n    at org.eclipse.e4.core.internal.di.InjectorImpl.internalMake(InjectorImpl.java:408)\n    at org.eclipse.e4.core.internal.di.InjectorImpl.make(InjectorImpl.java:331)\n    at org.eclipse.e4.core.contexts.ContextInjectionFactory.make(ContextInjectionFactory.java:202)\n    at org.eclipse.e4.ui.internal.workbench.ReflectionContributionFactory.createFromBundle(ReflectionContributionFactory.java:91)\n    at org.eclipse.e4.ui.internal.workbench.ReflectionContributionFactory.doCreate(ReflectionContributionFactory.java:60)\n    at org.eclipse.e4.ui.internal.workbench.ReflectionContributionFactory.create(ReflectionContributionFactory.java:42)\n    at org.eclipse.e4.ui.workbench.renderers.swt.ContributedPartRenderer.createWidget(ContributedPartRenderer.java:132)\n    at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.createWidget(PartRenderingEngine.java:1002)\n    at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.safeCreateGui(PartRenderingEngine.java:662)\n    at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.safeCreateGui(PartRenderingEngine.java:768)\n    at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.access$0(PartRenderingEngine.java:739)\n    at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$2.run(PartRenderingEngine.java:733)\n    at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:45)\n    at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.createGui(PartRenderingEngine.java:717)\n    at org.eclipse.e4.ui.workbench.renderers.swt.StackRenderer.showTab(StackRenderer.java:1293)\n    at org.eclipse.e4.ui.workbench.renderers.swt.LazyStackRenderer.lambda$0(LazyStackRenderer.java:75)\n    at org.eclipse.e4.ui.services.internal.events.UIEventHandler.lambda$0(UIEventHandler.java:38)\n    at org.eclipse.swt.widgets.Synchronizer.syncExec(Synchronizer.java:236)\n    at org.eclipse.ui.internal.UISynchronizer.syncExec(UISynchronizer.java:146)\n    at org.eclipse.swt.widgets.Display.syncExec(Display.java:4622)\n    at org.eclipse.e4.ui.internal.workbench.swt.E4Application$1.syncExec(E4Application.java:219)\n    at org.eclipse.e4.ui.services.internal.events.UIEventHandler.handleEvent(UIEventHandler.java:38)\n    at org.eclipse.equinox.internal.event.EventHandlerWrapper.handleEvent(EventHandlerWrapper.java:205)\n    at org.eclipse.equinox.internal.event.EventHandlerTracker.dispatchEvent(EventHandlerTracker.java:203)\n    at org.eclipse.equinox.internal.event.EventHandlerTracker.dispatchEvent(EventHandlerTracker.java:1)\n    at org.eclipse.osgi.framework.eventmgr.EventManager.dispatchEvent(EventManager.java:234)\n    at org.eclipse.osgi.framework.eventmgr.ListenerQueue.dispatchEventSynchronous(ListenerQueue.java:151)\n    at org.eclipse.equinox.internal.event.EventAdminImpl.dispatchEvent(EventAdminImpl.java:132)\n    at org.eclipse.equinox.internal.event.EventAdminImpl.sendEvent(EventAdminImpl.java:75)\n    at org.eclipse.equinox.internal.event.EventComponent.sendEvent(EventComponent.java:44)\n    at org.eclipse.e4.ui.services.internal.events.EventBroker.send(EventBroker.java:55)\n    at org.eclipse.e4.ui.internal.workbench.UIEventPublisher.notifyChanged(UIEventPublisher.java:63)\n    at org.eclipse.emf.common.notify.impl.BasicNotifierImpl.eNotify(BasicNotifierImpl.java:424)\n    at org.eclipse.e4.ui.model.application.ui.impl.ElementContainerImpl.setSelectedElementGen(ElementContainerImpl.java:170)\n    at org.eclipse.e4.ui.model.application.ui.impl.ElementContainerImpl.setSelectedElement(ElementContainerImpl.java:188)\n    at org.eclipse.e4.ui.internal.workbench.ModelServiceImpl.showElementInWindow(ModelServiceImpl.java:651)\n    at org.eclipse.e4.ui.internal.workbench.ModelServiceImpl.bringToTop(ModelServiceImpl.java:615)\n    at org.eclipse.e4.ui.internal.workbench.PartServiceImpl.delegateBringToTop(PartServiceImpl.java:790)\n    at org.eclipse.e4.ui.internal.workbench.PartServiceImpl.bringToTop(PartServiceImpl.java:404)\n    at org.eclipse.e4.ui.internal.workbench.PartServiceImpl.showPart(PartServiceImpl.java:1239)\n    at org.eclipse.ui.internal.WorkbenchPage.busyOpenEditor(WorkbenchPage.java:3205)\n    at org.eclipse.ui.internal.WorkbenchPage.lambda$9(WorkbenchPage.java:3110)\n    at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:72)\n    at org.eclipse.ui.internal.WorkbenchPage.openEditor(WorkbenchPage.java:3108)\n    at org.eclipse.ui.internal.WorkbenchPage.openEditor(WorkbenchPage.java:3078)\n    at org.eclipse.ui.internal.WorkbenchPage.openEditor(WorkbenchPage.java:3069)\n    at org.eclipse.jdt.internal.ui.javaeditor.EditorUtility.openInEditor(EditorUtility.java:376)\n    at org.eclipse.jdt.internal.ui.javaeditor.EditorUtility.openInEditor(EditorUtility.java:182)\n    at org.eclipse.jdt.ui.actions.OpenAction.run(OpenAction.java:287)\n    at org.eclipse.jdt.ui.actions.OpenAction.run(OpenAction.java:252)\n    at org.eclipse.jdt.ui.actions.SelectionDispatchAction.dispatchRun(SelectionDispatchAction.java:274)\n    at org.eclipse.jdt.ui.actions.SelectionDispatchAction.run(SelectionDispatchAction.java:252)\n    at org.eclipse.jdt.internal.ui.packageview.PackageExplorerActionGroup.handleOpen(PackageExplorerActionGroup.java:382)\n    at org.eclipse.jdt.internal.ui.packageview.PackageExplorerPart$4.open(PackageExplorerPart.java:554)\n    at org.eclipse.ui.OpenAndLinkWithEditorHelper$InternalListener.open(OpenAndLinkWithEditorHelper.java:48)\n    at org.eclipse.jface.viewers.StructuredViewer$2.run(StructuredViewer.java:797)\n    at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:45)\n    at org.eclipse.ui.internal.JFaceUtil.lambda$0(JFaceUtil.java:47)\n    at org.eclipse.jface.util.SafeRunnable.run(SafeRunnable.java:174)\n    at org.eclipse.jface.viewers.StructuredViewer.fireOpen(StructuredViewer.java:794)\n    at org.eclipse.jface.viewers.StructuredViewer.handleOpen(StructuredViewer.java:1110)\n    at org.eclipse.jface.util.OpenStrategy.fireOpenEvent(OpenStrategy.java:275)\n    at org.eclipse.jface.util.OpenStrategy.access$2(OpenStrategy.java:270)\n    at org.eclipse.jface.util.OpenStrategy$1.handleEvent(OpenStrategy.java:310)\n    at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:89)\n    at org.eclipse.swt.widgets.Display.sendEvent(Display.java:4173)\n    at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1057)\n    at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3986)\n    at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3585)\n    at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$5.run(PartRenderingEngine.java:1160)\n    at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\n    at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.run(PartRenderingEngine.java:1049)\n    at org.eclipse.e4.ui.internal.workbench.E4Workbench.createAndRunUI(E4Workbench.java:155)\n    at org.eclipse.ui.internal.Workbench.lambda$3(Workbench.java:633)\n    at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\n    at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:557)\n    at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:150)\n    at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:150)\n    at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:203)\n    at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:137)\n    at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:107)\n    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:400)\n    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:255)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:660)\n    at org.eclipse.equinox.launcher.Main.basicRun(Main.java:597)\n    at org.eclipse.equinox.launcher.Main.run(Main.java:1468)\n</code></pre>\n<p>Please let me know if I need to change any configuration</p>\n"},{"tags":["java","if-statement"],"comments":[{"owner":{"account_id":9514528,"reputation":153,"user_id":7071399,"display_name":"Luis Guillermo Torres-Ribero"},"score":3,"creation_date":1617802317,"post_id":66987094,"comment_id":118408383,"body_markdown":"Be careful not confusing the  &amp; (binary AND) operator and the &amp;&amp; (logical AND) operator. your code looks fine, only change the &amp; for &amp;&amp; on the if statements and you should be ok","body":"Be careful not confusing the  &amp; (binary AND) operator and the &amp;&amp; (logical AND) operator. your code looks fine, only change the &amp; for &amp;&amp; on the if statements and you should be ok"},{"owner":{"account_id":2672970,"reputation":331,"user_id":2309920,"display_name":"Viral Lalakia"},"score":0,"creation_date":1617802465,"post_id":66987094,"comment_id":118408483,"body_markdown":"Your else-block is reachable only for N=1,3,5. Also, you should try to write if-else block in exact sequence of the conditions mentioned in the questions to avoid any issue/missing test-case.","body":"Your else-block is reachable only for N=1,3,5. Also, you should try to write if-else block in exact sequence of the conditions mentioned in the questions to avoid any issue/missing test-case."},{"owner":{"account_id":62440,"reputation":23185,"user_id":185541,"display_name":"rsp"},"score":0,"creation_date":1617802626,"post_id":66987094,"comment_id":118408572,"body_markdown":"Your conditionals do not separate the checks on odd and even numbers. All odd numbers should be called wierd, so it would be a good first check to get them out of the way.","body":"Your conditionals do not separate the checks on odd and even numbers. All odd numbers should be called wierd, so it would be a good first check to get them out of the way."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1617803363,"creation_date":1617803363,"answer_id":66987516,"question_id":66987094,"body_markdown":"Your code uses a chain of `if` / `else if` blocks, whicih means that only one of the 4 &#39;indented&#39; `System.out` lines can ever run.\r\n\r\nSo, just.. do what programmers do. Debug this code. If you must, take out a pen, and run this code &#39;in your head&#39;.\r\n\r\nLet&#39;s say N is 21. It&#39;s odd, so, that is &#39;Weird&#39;, and it should just end there.\r\n\r\nSo let&#39;s go through it:\r\n\r\nIs `N` __all__ of these things:\r\n\r\n* Even (`N % 2 == 0`)\r\n* 2 or more\r\n* 5 or less\r\n\r\nClearly no, so moving on to the second condition.\r\n\r\nIs N 6 or more _and_ 20 or less? No, moving on to the third.\r\n\r\nIs N more than 20?  yes it is, so `Not Weird` is printed and that&#39;s that.\r\n\r\nThere you go, wrong answer.\r\n\r\nI could just write you the right answer, but presumably your aim is to learn things. You may want to think about why you decided to flip the problem description around when you wrote your code. Why does the problem description __start__ with &#39;if it is odd, then the answer is Weird, no exceptions&#39;, but your code starts with a completely different case (even and between 2 and 5)?\r\n\r\nClosing notes:\r\n\r\n* Your &#39;skip&#39; call to scanner is bizarre and not needed. What you&#39;re looking for is, immediately after making a scanner, to run `scanner.useDelimiter(&quot;\\\\R&quot;)`, which covers that giant ball in a much simpler letter, and actually does what you want.\r\n\r\n* `&amp;` vs `&amp;&amp;` as applied when both &#39;sides&#39; are booleans: It&#39;s basically the same thing; the only change is that with `&amp;&amp;`, the code &#39;shortcuts&#39; - if the answer is already clear, going from left to right, then further expressions aren&#39;t evaluated. This doesn&#39;t mean anything unless evaluating an expression has side-effects. For example, If you have: `public boolean foo() { System.out.println(&quot;EVAL&quot;);}`, then `false &amp; foo()` will print `EVAL`, whereas `false &amp;&amp; foo()` won&#39;t; that `false` means the &#39;and&#39; will be false regardless of what `foo()` does. In other words, `&amp;&amp;` is &#39;correct&#39; in the sense that this is how java programmers write and it is &#39;more efficient&#39;, but the actual effect is moot in your specific code, so that doesn&#39;t break or make your algorithm :)\r\n","title":"Simple If/Else problem with 1/8 test case failed","body":"<p>Your code uses a chain of <code>if</code> / <code>else if</code> blocks, whicih means that only one of the 4 'indented' <code>System.out</code> lines can ever run.</p>\n<p>So, just.. do what programmers do. Debug this code. If you must, take out a pen, and run this code 'in your head'.</p>\n<p>Let's say N is 21. It's odd, so, that is 'Weird', and it should just end there.</p>\n<p>So let's go through it:</p>\n<p>Is <code>N</code> <strong>all</strong> of these things:</p>\n<ul>\n<li>Even (<code>N % 2 == 0</code>)</li>\n<li>2 or more</li>\n<li>5 or less</li>\n</ul>\n<p>Clearly no, so moving on to the second condition.</p>\n<p>Is N 6 or more <em>and</em> 20 or less? No, moving on to the third.</p>\n<p>Is N more than 20?  yes it is, so <code>Not Weird</code> is printed and that's that.</p>\n<p>There you go, wrong answer.</p>\n<p>I could just write you the right answer, but presumably your aim is to learn things. You may want to think about why you decided to flip the problem description around when you wrote your code. Why does the problem description <strong>start</strong> with 'if it is odd, then the answer is Weird, no exceptions', but your code starts with a completely different case (even and between 2 and 5)?</p>\n<p>Closing notes:</p>\n<ul>\n<li><p>Your 'skip' call to scanner is bizarre and not needed. What you're looking for is, immediately after making a scanner, to run <code>scanner.useDelimiter(&quot;\\\\R&quot;)</code>, which covers that giant ball in a much simpler letter, and actually does what you want.</p>\n</li>\n<li><p><code>&amp;</code> vs <code>&amp;&amp;</code> as applied when both 'sides' are booleans: It's basically the same thing; the only change is that with <code>&amp;&amp;</code>, the code 'shortcuts' - if the answer is already clear, going from left to right, then further expressions aren't evaluated. This doesn't mean anything unless evaluating an expression has side-effects. For example, If you have: <code>public boolean foo() { System.out.println(&quot;EVAL&quot;);}</code>, then <code>false &amp; foo()</code> will print <code>EVAL</code>, whereas <code>false &amp;&amp; foo()</code> won't; that <code>false</code> means the 'and' will be false regardless of what <code>foo()</code> does. In other words, <code>&amp;&amp;</code> is 'correct' in the sense that this is how java programmers write and it is 'more efficient', but the actual effect is moot in your specific code, so that doesn't break or make your algorithm :)</p>\n</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":21179662,"reputation":1,"user_id":15574303,"display_name":"Habibullah Ahmadi"},"score":0,"creation_date":1617805552,"post_id":66987816,"comment_id":118410110,"body_markdown":"Yep 1 sec as I make the changes and see everything is good to go","body":"Yep 1 sec as I make the changes and see everything is good to go"}],"tags":[],"owner":{"account_id":21159966,"reputation":46,"user_id":15558417,"display_name":"toliosg"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617805285,"creation_date":1617804341,"answer_id":66987816,"question_id":66987094,"body_markdown":"In the third case you forgot to check if the number is even.\r\nSo, 29 &gt; 20 and it goes to the third case.Second the right symbol for and is&quot;&amp;&amp;&quot; not &quot;&amp;&quot;. \r\nI think that i corrected them.\r\n\r\n    public static void main(String[] args) {\r\n       int N = 29;\r\n\r\n\r\n        if(N % 2 == 0 &amp;&amp; N &gt;= 2 &amp;&amp; N &lt;= 5){\r\n            System.out.println(&quot;Not Weird&quot;);\r\n        } else if (N &gt;= 6 &amp;&amp; N &lt;= 20){\r\n            System.out.println(&quot;Weird&quot;);\r\n        } else if (N &gt; 20  &amp;&amp; N % 2 == 0){\r\n            System.out.println(&quot;Not Weird&quot;);\r\n        } else {\r\n            System.out.println(&quot;Weird&quot;);\r\n        }\r\n    }","title":"Simple If/Else problem with 1/8 test case failed","body":"<p>In the third case you forgot to check if the number is even.\nSo, 29 &gt; 20 and it goes to the third case.Second the right symbol for and is&quot;&amp;&amp;&quot; not &quot;&amp;&quot;.\nI think that i corrected them.</p>\n<pre><code>public static void main(String[] args) {\n   int N = 29;\n\n\n    if(N % 2 == 0 &amp;&amp; N &gt;= 2 &amp;&amp; N &lt;= 5){\n        System.out.println(&quot;Not Weird&quot;);\n    } else if (N &gt;= 6 &amp;&amp; N &lt;= 20){\n        System.out.println(&quot;Weird&quot;);\n    } else if (N &gt; 20  &amp;&amp; N % 2 == 0){\n        System.out.println(&quot;Not Weird&quot;);\n    } else {\n        System.out.println(&quot;Weird&quot;);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28062525,"reputation":1,"user_id":21436405,"display_name":"Lucisco"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680009128,"creation_date":1680008962,"answer_id":75866688,"question_id":66987094,"body_markdown":"my answer as below, for your reference:)\r\n\r\nif __name__ == &#39;__main__&#39;:\r\n    n = int(input().strip())\r\n    n in range(101)\r\n    \r\n    if n%2==1:\r\n        print(&quot;Weird&quot;)\r\n    elif n in range (2,6) and n%2==0:\r\n        print(&quot;Not Weird&quot;)\r\n    elif n in range(6,21) and n%2==0:\r\n        print(&quot;Weird&quot;)\r\n    elif n&gt;20 and n%2==0:\r\n        print(&quot;Not Weird&quot;)\r\n    else:\r\n        print(&quot;Not Weird&quot;)","title":"Simple If/Else problem with 1/8 test case failed","body":"<p>my answer as below, for your reference:)</p>\n<p>if <strong>name</strong> == '<strong>main</strong>':\nn = int(input().strip())\nn in range(101)</p>\n<pre><code>if n%2==1:\n    print(&quot;Weird&quot;)\nelif n in range (2,6) and n%2==0:\n    print(&quot;Not Weird&quot;)\nelif n in range(6,21) and n%2==0:\n    print(&quot;Weird&quot;)\nelif n&gt;20 and n%2==0:\n    print(&quot;Not Weird&quot;)\nelse:\n    print(&quot;Not Weird&quot;)\n</code></pre>\n"}],"owner":{"account_id":21179662,"reputation":1,"user_id":15574303,"display_name":"Habibullah Ahmadi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":477,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":66987516,"answer_count":3,"score":0,"last_activity_date":1680009128,"creation_date":1617802074,"question_id":66987094,"body_markdown":"Simple If-Else problem, please advise:\r\n\r\nMy objective is as follows:\r\n\r\n&quot;Given an integer, n , perform the following conditional actions:\r\n\r\nIf n is odd, print &quot;Weird&quot;\r\n\r\nIf n is even and in the inclusive range of 2 to 5, print &quot;Not Weird&quot;\r\n\r\nIf n is even and in the inclusive range of 6 to 20, print &quot;Weird&quot;\r\n\r\nIf n is even and greater than 20 , print &quot;Not Weird&quot;\r\n\r\nUpon completion, a website that I use automatically checks for all 8 test cases that are involved in this problem in which there is 1 that I got incorrect and all the others correct.\r\n\r\nThe test case is as follows:\r\n\r\nInput(stdin) = 29\r\n\r\nOutput(stdout) = Not Weird\r\n\r\nExpected Output = Weird\r\n\r\nThis is what I have done so far:\r\n\r\n```\r\nimport java.util.regex.*;\r\n\r\npublic class Solution {\r\n\r\n\r\n\r\n    private static final Scanner scanner = new Scanner(System.in);\r\n\r\n    public static void main(String[] args) {\r\n        int N = scanner.nextInt();\r\n        scanner.skip(&quot;(\\r\\n|[\\n\\r\\u2028\\u2029\\u0085])?&quot;);\r\n        \r\n        if(N % 2 == 0 &amp; N &gt;= 2 &amp; N &lt;= 5){\r\n            System.out.println(&quot;Not Weird&quot;);\r\n        } else if (N &gt;= 6 &amp; N &lt;= 20){\r\n            System.out.println(&quot;Weird&quot;);\r\n        } else if (N &gt; 20){\r\n            System.out.println(&quot;Not Weird&quot;);\r\n        } else {\r\n            System.out.println(&quot;Weird&quot;);\r\n        }\r\n\r\n        scanner.close();\r\n    }\r\n}\r\n\r\n```\r\n\r\nIs there anything that I have missed out??\r\n","title":"Simple If/Else problem with 1/8 test case failed","body":"<p>Simple If-Else problem, please advise:</p>\n<p>My objective is as follows:</p>\n<p>&quot;Given an integer, n , perform the following conditional actions:</p>\n<p>If n is odd, print &quot;Weird&quot;</p>\n<p>If n is even and in the inclusive range of 2 to 5, print &quot;Not Weird&quot;</p>\n<p>If n is even and in the inclusive range of 6 to 20, print &quot;Weird&quot;</p>\n<p>If n is even and greater than 20 , print &quot;Not Weird&quot;</p>\n<p>Upon completion, a website that I use automatically checks for all 8 test cases that are involved in this problem in which there is 1 that I got incorrect and all the others correct.</p>\n<p>The test case is as follows:</p>\n<p>Input(stdin) = 29</p>\n<p>Output(stdout) = Not Weird</p>\n<p>Expected Output = Weird</p>\n<p>This is what I have done so far:</p>\n<pre><code>import java.util.regex.*;\n\npublic class Solution {\n\n\n\n    private static final Scanner scanner = new Scanner(System.in);\n\n    public static void main(String[] args) {\n        int N = scanner.nextInt();\n        scanner.skip(&quot;(\\r\\n|[\\n\\r\\u2028\\u2029\\u0085])?&quot;);\n        \n        if(N % 2 == 0 &amp; N &gt;= 2 &amp; N &lt;= 5){\n            System.out.println(&quot;Not Weird&quot;);\n        } else if (N &gt;= 6 &amp; N &lt;= 20){\n            System.out.println(&quot;Weird&quot;);\n        } else if (N &gt; 20){\n            System.out.println(&quot;Not Weird&quot;);\n        } else {\n            System.out.println(&quot;Weird&quot;);\n        }\n\n        scanner.close();\n    }\n}\n\n</code></pre>\n<p>Is there anything that I have missed out??</p>\n"},{"tags":["java","arrays","javafx","overwrite"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1680006419,"post_id":75866206,"comment_id":133819760,"body_markdown":"`do randomNum = rand.nextInt(5); while(name[randomNum] != null);` But how do you prevent the `create` method from being executed more than five times?","body":"<code>do randomNum = rand.nextInt(5); while(name[randomNum] != null);</code> But how do you prevent the <code>create</code> method from being executed more than five times?"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1680007743,"post_id":75866206,"comment_id":133820143,"body_markdown":"looks basically unrelated to javafx - first get your logic right without ui (write and provide a [mcve], only after having succeeded add fx to the mix.","body":"looks basically unrelated to javafx - first get your logic right without ui (write and provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, only after having succeeded add fx to the mix."},{"owner":{"account_id":10101309,"reputation":17,"user_id":7465355,"accept_rate":40,"display_name":"J M"},"score":0,"creation_date":1680007887,"post_id":75866206,"comment_id":133820191,"body_markdown":"The problem with ```while(name[randomNum] != null);``` is that all values of the array are null so the loop will never begin.","body":"The problem with <code>while(name[randomNum] != null);</code> is that all values of the array are null so the loop will never begin."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1680009379,"post_id":75866206,"comment_id":133820664,"body_markdown":"@Holger While that will obviously work in practice, writing a loop that can iterate an arbitrary number of times (even if only one element of the array has been set) bothers me....","body":"@Holger While that will obviously work in practice, writing a loop that can iterate an arbitrary number of times (even if only one element of the array has been set) bothers me...."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1680009477,"post_id":75866206,"comment_id":133820691,"body_markdown":"@JM It&#39;s a `do ... while` loop. It always executes at least once.","body":"@JM It&#39;s a <code>do ... while</code> loop. It always executes at least once."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1680014382,"post_id":75866206,"comment_id":133822188,"body_markdown":"@James_D I understand your concern but I dont think that it is relevant for an array of five elements. I do not even understand the OPs requirement to store at a random position. The position has no recognizable relevance in the posted code","body":"@James_D I understand your concern but I dont think that it is relevant for an array of five elements. I do not even understand the OPs requirement to store at a random position. The position has no recognizable relevance in the posted code"},{"owner":{"account_id":16559,"reputation":1856,"user_id":36223,"display_name":"DaveB"},"score":0,"creation_date":1680105355,"post_id":75866206,"comment_id":133842017,"body_markdown":"Why use random positions in an array?  Collections.shuffle() will randomize a list when you need to.","body":"Why use random positions in an array?  Collections.shuffle() will randomize a list when you need to."}],"answers":[{"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":2,"creation_date":1680009001,"post_id":75866480,"comment_id":133820555,"body_markdown":"_I&#39;m relatively new to Java and I don&#39;t get that_ then work through a tutorial on java language basics until you do (or have a concrete question to post - along with a [mcve] demonstrating what you tried and what didn&#39;t work as expected) - see the java tag wiki for referenced","body":"<i>I&#39;m relatively new to Java and I don&#39;t get that</i> then work through a tutorial on java language basics until you do (or have a concrete question to post - along with a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> demonstrating what you tried and what didn&#39;t work as expected) - see the java tag wiki for referenced"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1680009211,"post_id":75866480,"comment_id":133820613,"body_markdown":"@JM I honestly don&#39;t know how to describe that. It just does what the code says it does. `List&lt;Integer&gt; unusedIndexes = new ArrayList&lt;&gt;();` creates a  new list of integers. The loop adds the integers 0 through 4 (inclusive) to the list. So at the end you have a list containing the integers 0...4 (i.e. the indexes of the array, none of which have been used yet).","body":"@JM I honestly don&#39;t know how to describe that. It just does what the code says it does. <code>List&lt;Integer&gt; unusedIndexes = new ArrayList&lt;&gt;();</code> creates a  new list of integers. The loop adds the integers 0 through 4 (inclusive) to the list. So at the end you have a list containing the integers 0...4 (i.e. the indexes of the array, none of which have been used yet)."},{"owner":{"account_id":10101309,"reputation":17,"user_id":7465355,"accept_rate":40,"display_name":"J M"},"score":0,"creation_date":1680009862,"post_id":75866480,"comment_id":133820814,"body_markdown":"I read it wrong - I understand it. Cheers man, thank you.","body":"I read it wrong - I understand it. Cheers man, thank you."}],"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680009082,"creation_date":1680007786,"answer_id":75866480,"question_id":75866206,"body_markdown":"Keep track of the unused indexes and use those:\r\n\r\n    SecureRandom rand = new SecureRandom();\r\n    String label;\r\n    \r\n    \r\n    String [] name = new String[5];\r\n    List&lt;Integer&gt; unusedIndexes = new ArrayList&lt;&gt;();\r\n    {\r\n        for (int i = 0 ; i &lt; name.length; i++) {\r\n            unusedIndexes.add(Integer.valueOf(i));\r\n        }\r\n    }\r\n\r\n\r\n    public void create(ActionEvent event) {\r\n\r\n        if (unusedIndexes.isEmpty()) {\r\n            // handle situation where no more slots are available\r\n            return ;\r\n        }\r\n\r\n        int randomNum = unusedIndexes.remove(rand.nextInt(unusedIndexes.size())).intValue();\r\n        \r\n        nameText = nameField.getText();\r\n        name[randomNum] = nameText;\r\n        \r\n        label = &quot;User created sucessfully at position &quot; + randomNum;\r\n        \r\n     }\r\n\r\nFor the search, just search for the matching index. There&#39;s no need to remove null items first (`s.equals(null)` just returns `false`):\r\n\r\n    public void search(ActionEvent event) {\r\n\r\n        nameText = nameField.getText();\r\n        int index = -1;\r\n        for (int i = 0 ; i &lt; name.length &amp;&amp; index &lt; 0; i++) {\r\n            if (nameText.equals(name[i])) {\r\n                index = i;\r\n            }\r\n        }        \r\n        \r\n        if(index &gt;= 0) {      \r\n            label = &quot;User &quot; + nameText + &quot; is registered and is &quot; + age[index];\r\n            nameField.setText(&quot;&quot;);\r\n            displayLabel.setText(label);\r\n        } else {\r\n            label = &quot;User &quot; + nameText + &quot; is not registered.&quot;;\r\n            nameField.setText(&quot;&quot;);\r\n            displayLabel.setText(label);\r\n        }        \r\n    }\r\n\r\n---\r\n\r\nNote it may be easier to implement this with a `List` instead of an array, e.g.\r\n\r\n    SecureRandom rand = new SecureRandom();\r\n    String label;\r\n    \r\n    \r\n    List&lt;String&gt; name = new ArrayList&lt;&gt;();\r\n\r\n    public void create(ActionEvent event) {\r\n\r\n        int randomNum = rand.nextInt(name.size()+1);\r\n        \r\n        nameText = nameField.getText();\r\n        name.add(randomNum, nameText);\r\n        \r\n        label = &quot;User created sucessfully at position &quot; + randomNum;\r\n        \r\n     }\r\n\r\n     public void search(ActionEvent event) {\r\n\r\n         nameText = nameField.getText();\r\n         int index = name.indexOf(nameText);\r\n        \r\n         if (index &gt;= 0) {      \r\n             label = &quot;User &quot; + nameText + &quot; is registered and is &quot; + age.get(index);\r\n             nameField.setText(&quot;&quot;);\r\n             displayLabel.setText(label);\r\n         } else {\r\n             label = &quot;User &quot; + nameText + &quot; is not registered.&quot;;\r\n             nameField.setText(&quot;&quot;);\r\n             displayLabel.setText(label);\r\n         }        \r\n     }","title":"Avoid overwriting randomly generated index in an array","body":"<p>Keep track of the unused indexes and use those:</p>\n<pre><code>SecureRandom rand = new SecureRandom();\nString label;\n\n\nString [] name = new String[5];\nList&lt;Integer&gt; unusedIndexes = new ArrayList&lt;&gt;();\n{\n    for (int i = 0 ; i &lt; name.length; i++) {\n        unusedIndexes.add(Integer.valueOf(i));\n    }\n}\n\n\npublic void create(ActionEvent event) {\n\n    if (unusedIndexes.isEmpty()) {\n        // handle situation where no more slots are available\n        return ;\n    }\n\n    int randomNum = unusedIndexes.remove(rand.nextInt(unusedIndexes.size())).intValue();\n    \n    nameText = nameField.getText();\n    name[randomNum] = nameText;\n    \n    label = &quot;User created sucessfully at position &quot; + randomNum;\n    \n }\n</code></pre>\n<p>For the search, just search for the matching index. There's no need to remove null items first (<code>s.equals(null)</code> just returns <code>false</code>):</p>\n<pre><code>public void search(ActionEvent event) {\n\n    nameText = nameField.getText();\n    int index = -1;\n    for (int i = 0 ; i &lt; name.length &amp;&amp; index &lt; 0; i++) {\n        if (nameText.equals(name[i])) {\n            index = i;\n        }\n    }        \n    \n    if(index &gt;= 0) {      \n        label = &quot;User &quot; + nameText + &quot; is registered and is &quot; + age[index];\n        nameField.setText(&quot;&quot;);\n        displayLabel.setText(label);\n    } else {\n        label = &quot;User &quot; + nameText + &quot; is not registered.&quot;;\n        nameField.setText(&quot;&quot;);\n        displayLabel.setText(label);\n    }        \n}\n</code></pre>\n<hr />\n<p>Note it may be easier to implement this with a <code>List</code> instead of an array, e.g.</p>\n<pre><code>SecureRandom rand = new SecureRandom();\nString label;\n\n\nList&lt;String&gt; name = new ArrayList&lt;&gt;();\n\npublic void create(ActionEvent event) {\n\n    int randomNum = rand.nextInt(name.size()+1);\n    \n    nameText = nameField.getText();\n    name.add(randomNum, nameText);\n    \n    label = &quot;User created sucessfully at position &quot; + randomNum;\n    \n }\n\n public void search(ActionEvent event) {\n\n     nameText = nameField.getText();\n     int index = name.indexOf(nameText);\n    \n     if (index &gt;= 0) {      \n         label = &quot;User &quot; + nameText + &quot; is registered and is &quot; + age.get(index);\n         nameField.setText(&quot;&quot;);\n         displayLabel.setText(label);\n     } else {\n         label = &quot;User &quot; + nameText + &quot; is not registered.&quot;;\n         nameField.setText(&quot;&quot;);\n         displayLabel.setText(label);\n     }        \n }\n</code></pre>\n"}],"owner":{"account_id":10101309,"reputation":17,"user_id":7465355,"accept_rate":40,"display_name":"J M"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75866480,"answer_count":1,"score":-1,"last_activity_date":1680009082,"creation_date":1680006091,"question_id":75866206,"body_markdown":"How do you avoid overwriting an array if a number is randomly generated twice?\r\n\r\nI am creating a simple javaFX program where a user can create or search for an account. The account details need to be stored at a random position within the array. My biggest challenge is not knowing how to prevent my program from overwriting an element at an index position that has already been filled.\r\n\r\n```\r\n   SecureRandom rand = new SecureRandom();\r\n   int randomNum;\r\n   String label;\r\n    \r\n    \r\n   String [] name = new String[5];\r\n\r\n\r\n   public void create(ActionEvent event)\r\n   {\r\n\r\n        randomNum = rand.nextInt(5);\r\n        \r\n        nameText = nameField.getText();\r\n        name[randomNum] = nameText;\r\n        \r\n        label = &quot;User created sucessfully at position &quot; + randomNum;\r\n        \r\n    }\r\n```\r\nMy other concern with the code is the new array I create for a search because the index for each element will change because all ```null``` elements are removed to prevent a ```nullpointerexception```.\r\n\r\n    public void search(ActionEvent event)\r\n    {\r\n        int count = 0;\r\n        \r\n        \r\n        nameText = nameField.getText();\r\n        \r\n        name = Arrays.stream(name)\r\n                     .filter(s -&gt; (s != null &amp;&amp; s.length() &gt; 0))\r\n                     .toArray(String[]::new);\r\n        \r\n        \r\n        boolean contains = Arrays.stream(name).anyMatch(nameText::equals);\r\n        \r\n        \r\n        if(contains == true)\r\n        {\r\n            while(!name[count].equals(nameText))\r\n            {\r\n                count++;\r\n            }\r\n            \r\n            label = &quot;User &quot; + nameText + &quot; is registered and is &quot; + age[count];\r\n            nameField.setText(&quot;&quot;);\r\n            displayLabel.setText(label);\r\n        }\r\n        else\r\n        {\r\n            label = &quot;User &quot; + nameText + &quot; is not registered.&quot;;\r\n            nameField.setText(&quot;&quot;);\r\n            displayLabel.setText(label);\r\n        }\r\n        \r\n        \r\n    }","title":"Avoid overwriting randomly generated index in an array","body":"<p>How do you avoid overwriting an array if a number is randomly generated twice?</p>\n<p>I am creating a simple javaFX program where a user can create or search for an account. The account details need to be stored at a random position within the array. My biggest challenge is not knowing how to prevent my program from overwriting an element at an index position that has already been filled.</p>\n<pre><code>   SecureRandom rand = new SecureRandom();\n   int randomNum;\n   String label;\n    \n    \n   String [] name = new String[5];\n\n\n   public void create(ActionEvent event)\n   {\n\n        randomNum = rand.nextInt(5);\n        \n        nameText = nameField.getText();\n        name[randomNum] = nameText;\n        \n        label = &quot;User created sucessfully at position &quot; + randomNum;\n        \n    }\n</code></pre>\n<p>My other concern with the code is the new array I create for a search because the index for each element will change because all <code>null</code> elements are removed to prevent a <code>nullpointerexception</code>.</p>\n<pre><code>public void search(ActionEvent event)\n{\n    int count = 0;\n    \n    \n    nameText = nameField.getText();\n    \n    name = Arrays.stream(name)\n                 .filter(s -&gt; (s != null &amp;&amp; s.length() &gt; 0))\n                 .toArray(String[]::new);\n    \n    \n    boolean contains = Arrays.stream(name).anyMatch(nameText::equals);\n    \n    \n    if(contains == true)\n    {\n        while(!name[count].equals(nameText))\n        {\n            count++;\n        }\n        \n        label = &quot;User &quot; + nameText + &quot; is registered and is &quot; + age[count];\n        nameField.setText(&quot;&quot;);\n        displayLabel.setText(label);\n    }\n    else\n    {\n        label = &quot;User &quot; + nameText + &quot; is not registered.&quot;;\n        nameField.setText(&quot;&quot;);\n        displayLabel.setText(label);\n    }\n    \n    \n}\n</code></pre>\n"},{"tags":["java","jenkins","sonarqube","sonarqube-scan"],"comments":[{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":0,"creation_date":1680006140,"post_id":75866182,"comment_id":133819701,"body_markdown":"Sonarqube requires Java 11 for the analysis. so for sonar analysis us e java 11","body":"Sonarqube requires Java 11 for the analysis. so for sonar analysis us e java 11"},{"owner":{"account_id":19280369,"reputation":1,"user_id":14092491,"display_name":"Vishnu Kumar"},"score":0,"creation_date":1680007576,"post_id":75866182,"comment_id":133820085,"body_markdown":"@seenukarthi: java 11 is installed on the jenkins container. Please check once again and let me know if any details required.","body":"@seenukarthi: java 11 is installed on the jenkins container. Please check once again and let me know if any details required."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1680009155,"post_id":75866182,"comment_id":133820591,"body_markdown":"The log for the SonarQube Scanner says &quot;Java 1.8.0_121 Oracle Corporation (64-bit)&quot; - which shows that it is running with Java 1.8. Note that `-Dsonar.java.jdkHome=/root/jdk-20/bin/java` seems wrong - `/root/jdk-20/bin/java` seems to be the path of the java executable which is **not** a valid jdkHome value. Probably you should change that to `-Dsonar.java.jdkHome=/root/jdk-20`","body":"The log for the SonarQube Scanner says &quot;Java 1.8.0_121 Oracle Corporation (64-bit)&quot; - which shows that it is running with Java 1.8. Note that <code>-Dsonar.java.jdkHome=&#47;root&#47;jdk-20&#47;bin&#47;java</code> seems wrong - <code>&#47;root&#47;jdk-20&#47;bin&#47;java</code> seems to be the path of the java executable which is <b>not</b> a valid jdkHome value. Probably you should change that to <code>-Dsonar.java.jdkHome=&#47;root&#47;jdk-20</code>"},{"owner":{"account_id":19280369,"reputation":1,"user_id":14092491,"display_name":"Vishnu Kumar"},"score":0,"creation_date":1680009492,"post_id":75866182,"comment_id":133820700,"body_markdown":"@ThomasKl&#228;ger:  changed  path ```/root/jdk-20``` but error remain same.","body":"@ThomasKl&#228;ger:  changed  path <code>&#47;root&#47;jdk-20</code> but error remain same."},{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":0,"creation_date":1680069319,"post_id":75866182,"comment_id":133832236,"body_markdown":"https://docs.sonarqube.org/8.9/analyzing-source-code/moving-analysis-to-java-11/ check this document.","body":"<a href=\"https://docs.sonarqube.org/8.9/analyzing-source-code/moving-analysis-to-java-11/\" rel=\"nofollow noreferrer\">docs.sonarqube.org/8.9/analyzing-source-code/&hellip;</a> check this document."}],"owner":{"account_id":19280369,"reputation":1,"user_id":14092491,"display_name":"Vishnu Kumar"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1680008454,"answer_count":0,"score":0,"last_activity_date":1680008834,"creation_date":1680005993,"question_id":75866182,"body_markdown":"Jenkins and Sonarqube both are running on docker.\r\n\r\nI try to integrate the jenkins with the sonarqube....in this i success. \r\nbut i fail in getting the report and it should be share with sonarqube.\r\n\r\nBelow cmd are run on the jenkins container. \r\n\r\n```root@4739e7c62757:~/jdk-20/bin# which java\r\n/opt/java/openjdk/bin/java\r\nroot@4739e7c62757:~/jdk-20/bin# java -version\r\nopenjdk version &quot;11.0.18&quot; 2023-01-17\r\nOpenJDK Runtime Environment Temurin-11.0.18+10 (build 11.0.18+10)\r\nOpenJDK 64-Bit Server VM Temurin-11.0.18+10 (build 11.0.18+10, mixed mode)\r\n```\r\n\r\n\r\nWhen I try to run the jenins job.It get fails and getting an issue as below. \r\nBelow are part of jenkins console log.\r\n\r\n\r\n```[sonar_int_jenkins] $ /var/jenkins_home/sonar-scanner-3.3.0.1492-linux/bin/sonar-scanner -Dsonar.host.url=http://172.17.0.1:9000 -Dsonar.projectKey=test_sonar_1 -Dsonar.projectName=test_sonar_1 -Dsonar.host.url=http://172.18.0.1:9000 -Dsonar.login=admin -Dsonar.projectVersion=jenkins-sonar_int_jenkins-7 -Dsonar.sources=/var/jenkins_home/workspace/sonar_int_jenkins -Dsonar.java.jdkHome=/root/jdk-20/bin/java -Dsonar.password=cicd@123 -Dsonar.projectBaseDir=/var/jenkins_home/workspace/sonar_int_jenkins\r\nINFO: Scanner configuration file: /var/jenkins_home/sonar-scanner-3.3.0.1492-linux/conf/sonar-scanner.properties\r\nINFO: Project root configuration file: /var/jenkins_home/workspace/sonar_int_jenkins/sonar-project.properties\r\nINFO: SonarQube Scanner 3.3.0.1492\r\nINFO: Java 1.8.0_121 Oracle Corporation (64-bit)\r\nINFO: Linux 5.4.0-144-generic amd64\r\nINFO: User cache: /root/.sonar/cache\r\nINFO: SonarQube server 9.9.0.65466\r\nINFO: Default locale: &quot;en&quot;, source code encoding: &quot;UTF-8&quot;\r\nINFO: ------------------------------------------------------------------------\r\nINFO: EXECUTION FAILURE\r\nINFO: ------------------------------------------------------------------------\r\nINFO: Total time: 0.596s\r\nINFO: Final Memory: 5M/241M\r\nINFO: ------------------------------------------------------------------------\r\nERROR: Error during SonarQube Scanner execution\r\nERROR: org/sonar/batch/bootstrapper/EnvironmentInformation has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0\r\nERROR: \r\nERROR: Re-run SonarQube Scanner using the -X switch to enable full debug logging.\r\nWARN: Unable to locate &#39;report-task.txt&#39; in the workspace. Did the SonarScanner succeed?\r\nERROR: SonarQube scanner exited with non-zero code: 1\r\nFinished: FAILURE\r\n```\r\n\r\n\r\nPlease let us know if any addition details are required to solve this issue. \r\n\r\nThanks is advance. ","title":"Jenkins job fails while integrating the sonarqube","body":"<p>Jenkins and Sonarqube both are running on docker.</p>\n<p>I try to integrate the jenkins with the sonarqube....in this i success.\nbut i fail in getting the report and it should be share with sonarqube.</p>\n<p>Below cmd are run on the jenkins container.</p>\n<pre><code>/opt/java/openjdk/bin/java\nroot@4739e7c62757:~/jdk-20/bin# java -version\nopenjdk version &quot;11.0.18&quot; 2023-01-17\nOpenJDK Runtime Environment Temurin-11.0.18+10 (build 11.0.18+10)\nOpenJDK 64-Bit Server VM Temurin-11.0.18+10 (build 11.0.18+10, mixed mode)\n</code></pre>\n<p>When I try to run the jenins job.It get fails and getting an issue as below.\nBelow are part of jenkins console log.</p>\n<pre><code>INFO: Scanner configuration file: /var/jenkins_home/sonar-scanner-3.3.0.1492-linux/conf/sonar-scanner.properties\nINFO: Project root configuration file: /var/jenkins_home/workspace/sonar_int_jenkins/sonar-project.properties\nINFO: SonarQube Scanner 3.3.0.1492\nINFO: Java 1.8.0_121 Oracle Corporation (64-bit)\nINFO: Linux 5.4.0-144-generic amd64\nINFO: User cache: /root/.sonar/cache\nINFO: SonarQube server 9.9.0.65466\nINFO: Default locale: &quot;en&quot;, source code encoding: &quot;UTF-8&quot;\nINFO: ------------------------------------------------------------------------\nINFO: EXECUTION FAILURE\nINFO: ------------------------------------------------------------------------\nINFO: Total time: 0.596s\nINFO: Final Memory: 5M/241M\nINFO: ------------------------------------------------------------------------\nERROR: Error during SonarQube Scanner execution\nERROR: org/sonar/batch/bootstrapper/EnvironmentInformation has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0\nERROR: \nERROR: Re-run SonarQube Scanner using the -X switch to enable full debug logging.\nWARN: Unable to locate 'report-task.txt' in the workspace. Did the SonarScanner succeed?\nERROR: SonarQube scanner exited with non-zero code: 1\nFinished: FAILURE\n</code></pre>\n<p>Please let us know if any addition details are required to solve this issue.</p>\n<p>Thanks is advance.</p>\n"},{"tags":["java","selenium-webdriver","xpath","webdriver"],"answers":[{"tags":[],"owner":{"account_id":8888464,"reputation":149,"user_id":6635980,"display_name":"Kojer Defor"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680008609,"creation_date":1680008609,"answer_id":75866631,"question_id":75866482,"body_markdown":"[Here&#39;s why][1]\r\n\r\nSorry for inconvenience \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/43441269/finding-an-element-within-an-element-using-selenium-webdriver\r\n\r\nI forgot to use `.//` instead of `//` while using xpath","title":"Can&#39;t find sub element with WebDriver Xpath","body":"<p><a href=\"https://stackoverflow.com/questions/43441269/finding-an-element-within-an-element-using-selenium-webdriver\">Here's why</a></p>\n<p>Sorry for inconvenience</p>\n<p>I forgot to use <code>.//</code> instead of <code>//</code> while using xpath</p>\n"}],"owner":{"account_id":8888464,"reputation":149,"user_id":6635980,"display_name":"Kojer Defor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680008609,"creation_date":1680007796,"question_id":75866482,"body_markdown":"I&#39;m trying to get prices for games in steam store. \r\nHere&#39; a webpage screen [![red values need to be captured][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/dYDmU.png\r\n\r\nHere&#39;s my code \r\n\r\n        @Test\r\n\r\n        public void testDriver() {\r\n        WebDriverManager.firefoxdriver().setup();\r\n        FirefoxDriver driver = new FirefoxDriver();\r\n\r\n        driver.get(&quot;https://store.steampowered.com/search/?term=Dying+Light+-+Viking%3A+Raiders+of+Harran+Bundle&amp;ndl=1&quot;);\r\n\r\n        List&lt;WebElement&gt; gameContainers = driver.findElements(By.xpath(&quot;(//div[@id=&#39;search_resultsRows&#39;]//a)&quot;));\r\n\r\n        System.out.println(gameContainers.get(0).findElement(By.xpath(&quot;//div[@class=&#39;col search_price  responsive_secondrow&#39;]&quot;)).getText());\r\n        System.out.println(gameContainers.get(1).findElement(By.xpath(&quot;//div[@class=&#39;col search_price  responsive_secondrow&#39;]&quot;)).getText());\r\n    }\r\n\r\nThe output should be `8,20 TL and 47,13 TL,` but instead I have double `8,20 TL and 8,20 TL`\r\nno matter that I call for different elements from my `List&lt;WebElement&gt; gameContainers`\r\n\r\nHow it can be and where is my mistake? ","title":"Can&#39;t find sub element with WebDriver Xpath","body":"<p>I'm trying to get prices for games in steam store.\nHere' a webpage screen <a href=\"https://i.stack.imgur.com/dYDmU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dYDmU.png\" alt=\"red values need to be captured\" /></a></p>\n<p>Here's my code</p>\n<pre><code>    @Test\n\n    public void testDriver() {\n    WebDriverManager.firefoxdriver().setup();\n    FirefoxDriver driver = new FirefoxDriver();\n\n    driver.get(&quot;https://store.steampowered.com/search/?term=Dying+Light+-+Viking%3A+Raiders+of+Harran+Bundle&amp;ndl=1&quot;);\n\n    List&lt;WebElement&gt; gameContainers = driver.findElements(By.xpath(&quot;(//div[@id='search_resultsRows']//a)&quot;));\n\n    System.out.println(gameContainers.get(0).findElement(By.xpath(&quot;//div[@class='col search_price  responsive_secondrow']&quot;)).getText());\n    System.out.println(gameContainers.get(1).findElement(By.xpath(&quot;//div[@class='col search_price  responsive_secondrow']&quot;)).getText());\n}\n</code></pre>\n<p>The output should be <code>8,20 TL and 47,13 TL,</code> but instead I have double <code>8,20 TL and 8,20 TL</code>\nno matter that I call for different elements from my <code>List&lt;WebElement&gt; gameContainers</code></p>\n<p>How it can be and where is my mistake?</p>\n"},{"tags":["java","spring-boot","maven","blackduck"],"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1680004967,"post_id":75865494,"comment_id":133819381,"body_markdown":"I tried to simulate and the org.apache.maven.enforcer.rules.dependency.DependencyConvergence passed. Can you please add enough of your pom file (eg spring-boot-starter-parent) so I can get it to fail?","body":"I tried to simulate and the org.apache.maven.enforcer.rules.dependency.DependencyConverg&zwnj;&#8203;ence passed. Can you please add enough of your pom file (eg spring-boot-starter-parent) so I can get it to fail?"},{"owner":{"account_id":10653893,"reputation":199,"user_id":7843970,"display_name":"RagaSGNur"},"score":0,"creation_date":1680006222,"post_id":75865494,"comment_id":133819721,"body_markdown":"This is the information about spring-boot-starter-parent , &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.9&lt;/version&gt;\n        &lt;relativePath/&gt; \n    &lt;/parent&gt;","body":"This is the information about spring-boot-starter-parent , &lt;parent&gt;         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;         &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;         &lt;version&gt;2.6.9&lt;/version&gt;         &lt;relativePath/&gt;      &lt;/parent&gt;"}],"answers":[{"comments":[{"owner":{"account_id":10653893,"reputation":199,"user_id":7843970,"display_name":"RagaSGNur"},"score":0,"creation_date":1680011180,"post_id":75866596,"comment_id":133821222,"body_markdown":"We are using Java 17 for all the environment. After changing to spring-boot-starter-parent:3.0.0, the authentication is not successful and it fails to execute @PreAuthorize etc.","body":"We are using Java 17 for all the environment. After changing to spring-boot-starter-parent:3.0.0, the authentication is not successful and it fails to execute @PreAuthorize etc."},{"owner":{"account_id":1473276,"reputation":111009,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1680011664,"post_id":75866596,"comment_id":133821391,"body_markdown":"There&#39;s no need to upgrade to 3.0.5 if you are using Java 17 as Spring Boot 2.x supports Java 17.","body":"There&#39;s no need to upgrade to 3.0.5 if you are using Java 17 as Spring Boot 2.x supports Java 17."},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1680011884,"post_id":75866596,"comment_id":133821470,"body_markdown":"If you are using Java 17 everywhere and  spring-boot-starter-parent:3.0.0 causes pain then  spring-boot-starter-parent:2.6.9 is fine. Did the dependencyManagement suggestion fix the Enforcer failure though?","body":"If you are using Java 17 everywhere and  spring-boot-starter-parent:3.0.0 causes pain then  spring-boot-starter-parent:2.6.9 is fine. Did the dependencyManagement suggestion fix the Enforcer failure though?"},{"owner":{"account_id":10653893,"reputation":199,"user_id":7843970,"display_name":"RagaSGNur"},"score":0,"creation_date":1680158913,"post_id":75866596,"comment_id":133851166,"body_markdown":"Hi John, Yes . DependencyManagement fixed the Enforcer failure. As i already mentioned , we are in a position to upgrade to Spring Boot 3.0.0 to avoid the blackduck issues. While upgrading , there are lot of changes in the code and failed in calling the custom AuthenticationProvider of Spring security. \n.authenticationProvider(customAuthenticationProvider())","body":"Hi John, Yes . DependencyManagement fixed the Enforcer failure. As i already mentioned , we are in a position to upgrade to Spring Boot 3.0.0 to avoid the blackduck issues. While upgrading , there are lot of changes in the code and failed in calling the custom AuthenticationProvider of Spring security.  .authenticationProvider(customAuthenticationProvider())"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1680169522,"post_id":75866596,"comment_id":133853685,"body_markdown":"I believe that I answered your question regarding dependency convergence. Can you please accept the answer?","body":"I believe that I answered your question regarding dependency convergence. Can you please accept the answer?"}],"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680008409,"creation_date":1680008409,"answer_id":75866596,"question_id":75865494,"body_markdown":"The problem is that the dependencies in the parent pom need to be overwritten. To do this the `dependencyManagement` tag should be used as follows:\r\n\r\n    &lt;dependencyManagement&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.netty&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;netty-codec&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.1.90.Final&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\nand the ordinary dependency on io.netty:netty-codec:4.1.90.Final removed.\r\n\r\nOf concern is the mixing of spring-boot-starter-parent:2.6.9 (Java 11 compatible) with spring-boot-starter-webflux:3.0.5 (not Java 11 compatible - requires Java 17). Are all your prod environments Java 17?. If not you should remove the version 3.0.5 from spring-boot-starter-webflux dependency.\r\n\r\nIf you have Java 17 environment the upgrade your starter to 3.0.5.","title":"Upgrade of spring-boot-starter-webflux:jar:3.0.5 and dependency issues","body":"<p>The problem is that the dependencies in the parent pom need to be overwritten. To do this the <code>dependencyManagement</code> tag should be used as follows:</p>\n<pre><code>&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.netty&lt;/groupId&gt;\n            &lt;artifactId&gt;netty-codec&lt;/artifactId&gt;\n            &lt;version&gt;4.1.90.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n</code></pre>\n<p>and the ordinary dependency on io.netty:netty-codec:4.1.90.Final removed.</p>\n<p>Of concern is the mixing of spring-boot-starter-parent:2.6.9 (Java 11 compatible) with spring-boot-starter-webflux:3.0.5 (not Java 11 compatible - requires Java 17). Are all your prod environments Java 17?. If not you should remove the version 3.0.5 from spring-boot-starter-webflux dependency.</p>\n<p>If you have Java 17 environment the upgrade your starter to 3.0.5.</p>\n"}],"owner":{"account_id":10653893,"reputation":199,"user_id":7843970,"display_name":"RagaSGNur"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":568,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680008409,"creation_date":1680001798,"question_id":75865494,"body_markdown":"The Blackduck scanning report is resulted in one of the high vulnerability. \r\n[![enter image description here][1]][1]\r\n\r\nThe transitive dependency is navigated from org.springframework.boot:spring-boot-starter-webflux:jar:3.0.5 -&gt; org.springframework.boot:spring-boot-starter-webflux:jar -&gt; org.springframework.boot:spring-boot-starter-reactor-netty:jar -&gt; finally ends up in netty-codec\r\n\r\nNote: I changed the version to spring-boot-starter-webflux - 3.0.5 by adding the dependency\r\n\r\nThe short term recommendation provided is - upgrade netty-codec to 4.1.90.Final version. I added the netty-codec dependency in pom.xml \r\n\r\n     &lt;dependency&gt;\r\n            &lt;groupId&gt;io.netty&lt;/groupId&gt;\r\n            &lt;artifactId&gt;netty-codec&lt;/artifactId&gt;\r\n            &lt;version&gt;4.1.90.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nBut , I am getting the error as &quot;Some Enforcer rules have failed. &quot;. The reason is shown in the following tree\r\n\r\n    Dependency convergence error for org.springframework.boot:spring-boot-starter-reactor-netty:jar:2.6.9:compile paths to dependency are:\r\n   \r\n      +-org.springframework.boot:spring-boot-starter-webflux:jar:3.0.5:compile\r\n        +-org.springframework.boot:spring-boot-starter-reactor-netty:jar:2.6.9:compile\r\n\r\nIf any one know the solution to resolve the problem , please help me here\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lvWRR.jpg","title":"Upgrade of spring-boot-starter-webflux:jar:3.0.5 and dependency issues","body":"<p>The Blackduck scanning report is resulted in one of the high vulnerability.\n<a href=\"https://i.stack.imgur.com/lvWRR.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lvWRR.jpg\" alt=\"enter image description here\" /></a></p>\n<p>The transitive dependency is navigated from org.springframework.boot:spring-boot-starter-webflux:jar:3.0.5 -&gt; org.springframework.boot:spring-boot-starter-webflux:jar -&gt; org.springframework.boot:spring-boot-starter-reactor-netty:jar -&gt; finally ends up in netty-codec</p>\n<p>Note: I changed the version to spring-boot-starter-webflux - 3.0.5 by adding the dependency</p>\n<p>The short term recommendation provided is - upgrade netty-codec to 4.1.90.Final version. I added the netty-codec dependency in pom.xml</p>\n<pre><code> &lt;dependency&gt;\n        &lt;groupId&gt;io.netty&lt;/groupId&gt;\n        &lt;artifactId&gt;netty-codec&lt;/artifactId&gt;\n        &lt;version&gt;4.1.90.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>But , I am getting the error as &quot;Some Enforcer rules have failed. &quot;. The reason is shown in the following tree</p>\n<pre><code>Dependency convergence error for org.springframework.boot:spring-boot-starter-reactor-netty:jar:2.6.9:compile paths to dependency are:\n\n  +-org.springframework.boot:spring-boot-starter-webflux:jar:3.0.5:compile\n    +-org.springframework.boot:spring-boot-starter-reactor-netty:jar:2.6.9:compile\n</code></pre>\n<p>If any one know the solution to resolve the problem , please help me here</p>\n"},{"tags":["java","mysql","json","database","aws-documentdb"],"comments":[{"owner":{"account_id":24287687,"reputation":366,"user_id":18233221,"display_name":"Mihai A"},"score":0,"creation_date":1683644723,"post_id":75866472,"comment_id":134396460,"body_markdown":"Your use case is just to store JSON objects? What about retrieving the data? Do you need flexible schema, flexible indexes? If you&#39;re working with JSON is probably best to use the right tool and start with a database that was designed to store in this format, at least that&#39;s what I would do.","body":"Your use case is just to store JSON objects? What about retrieving the data? Do you need flexible schema, flexible indexes? If you&#39;re working with JSON is probably best to use the right tool and start with a database that was designed to store in this format, at least that&#39;s what I would do."},{"owner":{"account_id":22387209,"reputation":177,"user_id":16599849,"display_name":"Alfred Moon"},"score":0,"creation_date":1683706804,"post_id":75866472,"comment_id":134406131,"body_markdown":"@MihaiA Yes, I did thorough research (taking into account all what you&#39;ve listed) and decided to proceed with DocumentDB. Thanks!","body":"@MihaiA Yes, I did thorough research (taking into account all what you&#39;ve listed) and decided to proceed with DocumentDB. Thanks!"}],"owner":{"account_id":22387209,"reputation":177,"user_id":16599849,"display_name":"Alfred Moon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680007741,"creation_date":1680007741,"question_id":75866472,"body_markdown":"In our project we have a need to store some Java objects (with nesting level &gt; 3) as JSONs because structure of this objects are often changed and this is really not convenient to use relational approach to store them.\r\n\r\nWe were considering different DBs to store objects as JSONs (we are using AWS):\r\n\r\n- DynamoDB;\r\n- DocumentDB;\r\n- MySQL 8;\r\n\r\nI was considering MySQL 8 as a most probable option because we already have MySQL DB configured and MySQL provided more data integrity because of ACID. But after week of investigation it is not still clear for me - should we consider MySQL 8 as the option at all ? Seems like it is proper for using for some small structures despite that MySQL offers a lot of functions to manipulate with JSON (&lt;https://dev.mysql.com/doc/refman/8.0/en/json-functions.html&gt;)\r\n\r\nDoes anybody have any experience of using of MySql 8 as a main JSON storage ? Did you face any problem with it ? Or it makes sense to use DocumentDB/DynamoDB from the beginning ?","title":"Does it make sense to use MySQL 8 as JSON storage?","body":"<p>In our project we have a need to store some Java objects (with nesting level &gt; 3) as JSONs because structure of this objects are often changed and this is really not convenient to use relational approach to store them.</p>\n<p>We were considering different DBs to store objects as JSONs (we are using AWS):</p>\n<ul>\n<li>DynamoDB;</li>\n<li>DocumentDB;</li>\n<li>MySQL 8;</li>\n</ul>\n<p>I was considering MySQL 8 as a most probable option because we already have MySQL DB configured and MySQL provided more data integrity because of ACID. But after week of investigation it is not still clear for me - should we consider MySQL 8 as the option at all ? Seems like it is proper for using for some small structures despite that MySQL offers a lot of functions to manipulate with JSON (<a href=\"https://dev.mysql.com/doc/refman/8.0/en/json-functions.html\" rel=\"nofollow noreferrer\">https://dev.mysql.com/doc/refman/8.0/en/json-functions.html</a>)</p>\n<p>Does anybody have any experience of using of MySql 8 as a main JSON storage ? Did you face any problem with it ? Or it makes sense to use DocumentDB/DynamoDB from the beginning ?</p>\n"},{"tags":["java","oop","static-methods"],"comments":[{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":1,"creation_date":1679959935,"post_id":75861179,"comment_id":133811381,"body_markdown":"`static` members are shared among all instances of the class.  It&#39;s not clear what you&#39;re trying to achieve, show the input data, expected output and actual output.","body":"<code>static</code> members are shared among all instances of the class.  It&#39;s not clear what you&#39;re trying to achieve, show the input data, expected output and actual output."},{"owner":{"account_id":1174921,"reputation":1613,"user_id":1151144,"accept_rate":79,"display_name":"Dale"},"score":1,"creation_date":1679959939,"post_id":75861179,"comment_id":133811382,"body_markdown":"Do not mix static and non-static methods unless you have a good reason.   Methods that are called off on an instance hang off of the instance of the method.  Each Instance has its own stack trace.  For static, all static methods hang off the class directly.  I think you&#39;ll do better to have the static method converted to hang off of an instance and then call your method.","body":"Do not mix static and non-static methods unless you have a good reason.   Methods that are called off on an instance hang off of the instance of the method.  Each Instance has its own stack trace.  For static, all static methods hang off the class directly.  I think you&#39;ll do better to have the static method converted to hang off of an instance and then call your method."},{"owner":{"account_id":408579,"reputation":9113,"user_id":779340,"accept_rate":69,"display_name":"rascio"},"score":0,"creation_date":1679960379,"post_id":75861179,"comment_id":133811433,"body_markdown":"what value do you see?","body":"what value do you see?"},{"owner":{"account_id":28142615,"reputation":3,"user_id":21505417,"display_name":"Sergei Kondrashkin"},"score":0,"creation_date":1679961591,"post_id":75861179,"comment_id":133811608,"body_markdown":"Thank you for your time gentlemen! @JimGarrison It&#39;s just that I need to calculate the overall price of all instances using public static method(), public static getter(), and private static field -- these are conditions. The way I see it, it kind of makes sense to make totalCost static because it&#39;s clearly stands for the total price of each and every instance together, am I not right? Otherwise, I would have to call the calculation each time an instance of Second{} is created, while also making it &quot;unprotected&quot; and volatile, right?","body":"Thank you for your time gentlemen! @JimGarrison It&#39;s just that I need to calculate the overall price of all instances using public static method(), public static getter(), and private static field -- these are conditions. The way I see it, it kind of makes sense to make totalCost static because it&#39;s clearly stands for the total price of each and every instance together, am I not right? Otherwise, I would have to call the calculation each time an instance of Second{} is created, while also making it &quot;unprotected&quot; and volatile, right?"},{"owner":{"account_id":28142615,"reputation":3,"user_id":21505417,"display_name":"Sergei Kondrashkin"},"score":0,"creation_date":1679963365,"post_id":75861179,"comment_id":133811826,"body_markdown":"@rascio: Sorry, I&#39;m just stupefied. I&#39;ve just updated my original post, hope that&#39;ll be sufficient","body":"@rascio: Sorry, I&#39;m just stupefied. I&#39;ve just updated my original post, hope that&#39;ll be sufficient"},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1679963550,"post_id":75861179,"comment_id":133811848,"body_markdown":"Your life and code is going to be easier if you separate the concerns of *being* a `Second` from *managing a list* of `Second` object. I suggest creating a `Stock` class (or whatever you want to call it) and every time you create a `Second` to `add()` it to the Stock instance, which will avoid using `static` anything (which is a good thing).","body":"Your life and code is going to be easier if you separate the concerns of <i>being</i> a <code>Second</code> from <i>managing a list</i> of <code>Second</code> object. I suggest creating a <code>Stock</code> class (or whatever you want to call it) and every time you create a <code>Second</code> to <code>add()</code> it to the Stock instance, which will avoid using <code>static</code> anything (which is a good thing)."},{"owner":{"account_id":28142615,"reputation":3,"user_id":21505417,"display_name":"Sergei Kondrashkin"},"score":0,"creation_date":1679999851,"post_id":75861179,"comment_id":133817965,"body_markdown":"@Bohemian, Thing is, that I&#39;m under specific constraints: I cannot create any class besides these two, and I have to use static methods and static fields. Which is, to be honest, at this point (and in this particular case) I can&#39;t consider as a bad thing. But then again, I&#39;m total newbie!","body":"@Bohemian, Thing is, that I&#39;m under specific constraints: I cannot create any class besides these two, and I have to use static methods and static fields. Which is, to be honest, at this point (and in this particular case) I can&#39;t consider as a bad thing. But then again, I&#39;m total newbie!"}],"answers":[{"comments":[{"owner":{"account_id":28142615,"reputation":3,"user_id":21505417,"display_name":"Sergei Kondrashkin"},"score":0,"creation_date":1680001116,"post_id":75861591,"comment_id":133818296,"body_markdown":"Thank you for your answer, sir. Sorry, but for now, I don&#39;t understand how&#39;s the last part of your answer is going to help. Would you be so kind to elaborate on that? Here&#39;s the pseudo-form of what I am to achieve: total cost(x, y) = (first instance(x) + total price(x)) + (second instance(y) + total price(y)).","body":"Thank you for your answer, sir. Sorry, but for now, I don&#39;t understand how&#39;s the last part of your answer is going to help. Would you be so kind to elaborate on that? Here&#39;s the pseudo-form of what I am to achieve: total cost(x, y) = (first instance(x) + total price(x)) + (second instance(y) + total price(y))."},{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":0,"creation_date":1680007484,"post_id":75861591,"comment_id":133820067,"body_markdown":"If your pseudo-form is correct then your original result is correct. But I see no sense in that computation.  What I suppose you want is: total_cost(x,y) = total_price(x) + total_price(y), where each of the total_price() values is the sum of the individual transactions on that instance, and of course total_cost gets updated each time one of the total_price values changes.  I added a little to my answer.","body":"If your pseudo-form is correct then your original result is correct. But I see no sense in that computation.  What I suppose you want is: total_cost(x,y) = total_price(x) + total_price(y), where each of the total_price() values is the sum of the individual transactions on that instance, and of course total_cost gets updated each time one of the total_price values changes.  I added a little to my answer."},{"owner":{"account_id":28142615,"reputation":3,"user_id":21505417,"display_name":"Sergei Kondrashkin"},"score":0,"creation_date":1680008263,"post_id":75861591,"comment_id":133820301,"body_markdown":"Yes, now I see, now I get it! Bless you, dear sir!","body":"Yes, now I see, now I get it! Bless you, dear sir!"}],"tags":[],"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680007179,"creation_date":1679966114,"answer_id":75861591,"question_id":75861179,"body_markdown":"Let&#39;s walk through this:\r\n\r\n    public void add(String name, int price, int count) {\r\n        totalPrice += count * price;\r\n        increaseTotalCost(totalPrice); \r\n    }\r\n\r\nWe do  \r\n\r\n        test1.add(&quot;anyName&quot;, 1, 1); \r\n\r\n \r\n\r\nOK, so totalPrice was 0, and becomes 0 + 1 * 1 = 1.  \r\ntotalCost was 0, and becomes 0 + 1 = 1.  \r\n\r\nNow  \r\n\r\n        test1.add(&quot;randomName&quot;, 2, 1);  \r\n\r\nSo totalPrice was 1, and becomes 1 + 2 * 1 = 3.  \r\ntotalCost was 1 and becomes 1 + 3 = 4.  \r\n\r\nYou&#39;ve gone wrong already.  \r\n\r\nWhat is lacking is any definition of what you **mean** by the words &quot;total cost&quot; and &quot;total price&quot;.  Total price seems to be the accumulated cost of all &#39;added&#39; entries on a single instance of the class, so that looks ok.  But then repeatedly adding the entire increasing total price to total cost is meaningless.  \r\n\r\nYou probably intended to increase the total cost by the same amount that the total price was increased by, since that makes sense. So you want to add the same individual transaction sum (count * price) to each of totalPrice and totalCost.\r\n\r\nThus:\r\n\r\n    public void add(String name, int price, int count) {\r\n        int thisSale = count * price;\r\n        totalPrice += thisSale;\r\n        increaseTotalCost(thisSale);\r\n    }\r\n\r\n","title":"Static Method won&#39;t return the proper value","body":"<p>Let's walk through this:</p>\n<pre><code>public void add(String name, int price, int count) {\n    totalPrice += count * price;\n    increaseTotalCost(totalPrice); \n}\n</code></pre>\n<p>We do</p>\n<pre><code>    test1.add(&quot;anyName&quot;, 1, 1); \n</code></pre>\n<p>OK, so totalPrice was 0, and becomes 0 + 1 * 1 = 1.<br />\ntotalCost was 0, and becomes 0 + 1 = 1.</p>\n<p>Now</p>\n<pre><code>    test1.add(&quot;randomName&quot;, 2, 1);  \n</code></pre>\n<p>So totalPrice was 1, and becomes 1 + 2 * 1 = 3.<br />\ntotalCost was 1 and becomes 1 + 3 = 4.</p>\n<p>You've gone wrong already.</p>\n<p>What is lacking is any definition of what you <strong>mean</strong> by the words &quot;total cost&quot; and &quot;total price&quot;.  Total price seems to be the accumulated cost of all 'added' entries on a single instance of the class, so that looks ok.  But then repeatedly adding the entire increasing total price to total cost is meaningless.</p>\n<p>You probably intended to increase the total cost by the same amount that the total price was increased by, since that makes sense. So you want to add the same individual transaction sum (count * price) to each of totalPrice and totalCost.</p>\n<p>Thus:</p>\n<pre><code>public void add(String name, int price, int count) {\n    int thisSale = count * price;\n    totalPrice += thisSale;\n    increaseTotalCost(thisSale);\n}\n</code></pre>\n"}],"owner":{"account_id":28142615,"reputation":3,"user_id":21505417,"display_name":"Sergei Kondrashkin"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75861591,"answer_count":1,"score":0,"last_activity_date":1680007179,"creation_date":1679959431,"question_id":75861179,"body_markdown":"Suppose I have two classes: **public First{}** and **public Second{}**. In the **First** class there was only *main()* method and the **Second** has few instances. \r\nThe point is, I have to call the **Second** class&#39; static method from within the **First**, and that static method should return a value of the overall price of all instances of the **Second**\r\n\r\nHere&#39;s what I tried:\r\n\r\n```java\r\npublic class Second {\r\n\r\n    private static int totalCost = 0;\r\n    private int totalPrice = 0;\r\n    \r\n    public static void increaseTotalCost(int totalPrice) {\r\n        Second.totalCost += totalPrice;\r\n    }\r\n    \r\n    public void add(String name, int price, int count) {\r\n        totalPrice += count * price;\r\n        increaseTotalCost(totalPrice); \r\n    }\r\n\r\n    public static int getTotalCost() {\r\n        return Second.totalCost;\r\n    }\r\n    public int getTotalPrice() {\r\n        return totalPrice;\r\n    }\r\n}\r\n```\r\n\r\n```java\r\npublic class First {\r\n\r\n   public static void main(String[] args) {\r\n\r\n          Second test1 = new Second();\r\n          test1.add(&quot;someName&quot;, 200, 1);\r\n          test1.add(&quot;randomName&quot;, 140, 1);\r\n\r\n          Second test2 = new Second();\r\n          test2.add(&quot;anotherName&quot;, 9670, 3);\r\n\r\n          System.out.println(&quot;The overall price is: &quot; + \r\n          Second.getTotalCost());\r\n  }\r\n}\r\n\r\n```\r\n\r\nWhile I&#39;m not getting any errors, I still see the invalid output. So, the questions are: has it something to do with the *add()* method or *increaseTotalCost()*, or *getTotalCost()*?\r\n\r\nAnd here&#39;s the actual output:\r\n\r\n```java \r\n\r\n    public class First {\r\n        public static void main(String[] args) {\r\n            Second test1 = new Second();\r\n            test1.add(&quot;anyName&quot;, 1, 1);\r\n            test1.add(&quot;randomName&quot;, 2, 1);\r\n\r\n            Second test2 = new Second();\r\n            test2.add(&quot;xxx&quot;, 3, 1);\r\n            test2.add(&quot;yyy&quot;, 5, 1);\r\n            test2.add(&quot;zzz&quot;, 1, 1);\r\n    \r\n            System.out.println(&quot;test1 : &quot; + &quot;\\nTotal Price: &quot; + \r\n                test1.getTotalPrice()); // outputs 3\r\n            System.out.println(&quot;test2 : &quot; + &quot;\\nTotal Price: &quot; + \r\n                test1.getTotalPrice()); // outputs 9\r\n\r\n            System.out.println(&quot;Total cost of all instances: &quot; + \r\n                Second.getTotalCost()); // outputs 24\r\n    }\r\n}\r\n\r\n```\r\n\r\n","title":"Static Method won&#39;t return the proper value","body":"<p>Suppose I have two classes: <strong>public First{}</strong> and <strong>public Second{}</strong>. In the <strong>First</strong> class there was only <em>main()</em> method and the <strong>Second</strong> has few instances.\nThe point is, I have to call the <strong>Second</strong> class' static method from within the <strong>First</strong>, and that static method should return a value of the overall price of all instances of the <strong>Second</strong></p>\n<p>Here's what I tried:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Second {\n\n    private static int totalCost = 0;\n    private int totalPrice = 0;\n    \n    public static void increaseTotalCost(int totalPrice) {\n        Second.totalCost += totalPrice;\n    }\n    \n    public void add(String name, int price, int count) {\n        totalPrice += count * price;\n        increaseTotalCost(totalPrice); \n    }\n\n    public static int getTotalCost() {\n        return Second.totalCost;\n    }\n    public int getTotalPrice() {\n        return totalPrice;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class First {\n\n   public static void main(String[] args) {\n\n          Second test1 = new Second();\n          test1.add(&quot;someName&quot;, 200, 1);\n          test1.add(&quot;randomName&quot;, 140, 1);\n\n          Second test2 = new Second();\n          test2.add(&quot;anotherName&quot;, 9670, 3);\n\n          System.out.println(&quot;The overall price is: &quot; + \n          Second.getTotalCost());\n  }\n}\n\n</code></pre>\n<p>While I'm not getting any errors, I still see the invalid output. So, the questions are: has it something to do with the <em>add()</em> method or <em>increaseTotalCost()</em>, or <em>getTotalCost()</em>?</p>\n<p>And here's the actual output:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n    public class First {\n        public static void main(String[] args) {\n            Second test1 = new Second();\n            test1.add(&quot;anyName&quot;, 1, 1);\n            test1.add(&quot;randomName&quot;, 2, 1);\n\n            Second test2 = new Second();\n            test2.add(&quot;xxx&quot;, 3, 1);\n            test2.add(&quot;yyy&quot;, 5, 1);\n            test2.add(&quot;zzz&quot;, 1, 1);\n    \n            System.out.println(&quot;test1 : &quot; + &quot;\\nTotal Price: &quot; + \n                test1.getTotalPrice()); // outputs 3\n            System.out.println(&quot;test2 : &quot; + &quot;\\nTotal Price: &quot; + \n                test1.getTotalPrice()); // outputs 9\n\n            System.out.println(&quot;Total cost of all instances: &quot; + \n                Second.getTotalCost()); // outputs 24\n    }\n}\n\n</code></pre>\n"},{"tags":["java","objectmapper"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1680004824,"post_id":75865887,"comment_id":133819333,"body_markdown":"What&#39;s the return type of `getArguments()`?","body":"What&#39;s the return type of <code>getArguments()</code>?"},{"owner":{"account_id":13997894,"reputation":149,"user_id":10110256,"display_name":"NITIKA KHATKAR"},"score":0,"creation_date":1680005047,"post_id":75865887,"comment_id":133819399,"body_markdown":"Map&lt;Object, Object&gt;","body":"Map&lt;Object, Object&gt;"},{"owner":{"account_id":2163224,"reputation":6602,"user_id":1916917,"accept_rate":60,"display_name":"Holloway"},"score":0,"creation_date":1680006544,"post_id":75865887,"comment_id":133819789,"body_markdown":"what does the event class look like?","body":"what does the event class look like?"}],"answers":[{"tags":[],"owner":{"account_id":19094773,"reputation":79,"user_id":13944304,"display_name":"tamouz hmidan"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1680006370,"creation_date":1680006370,"answer_id":75866253,"question_id":75865887,"body_markdown":"I think the problem is from getArguments function as it is returning a null\r\nI have tried the below code and it printed the expected result \r\n\r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n        Map&lt;Object,Object&gt; map = new HashMap&lt;&gt;();\r\n        map.put(&quot;arePrimary&quot;,true);\r\n        map.put(&quot;codes&quot;,new String[]{&quot;ABC&quot;});\r\n        map.put(&quot;id&quot;,&quot;id&quot;);\r\n        map.put(&quot;marketplace&quot;,&quot;IN&quot;);\r\n        final Request arguments = objectMapper.convertValue(map, Request.class);\r\n        System.out.println(arguments);\r\n\r\nresult `Request(arePrimary=true, marketplace=IN, id=id, codes=[ABC])`\r\n\r\nwhen calling `objectMapper.convertValue(null, Request.class);` it prints null","title":"Converting Map&lt;Object, Object&gt; to Object in java giving null","body":"<p>I think the problem is from getArguments function as it is returning a null\nI have tried the below code and it printed the expected result</p>\n<pre><code>    ObjectMapper objectMapper = new ObjectMapper();\n    Map&lt;Object,Object&gt; map = new HashMap&lt;&gt;();\n    map.put(&quot;arePrimary&quot;,true);\n    map.put(&quot;codes&quot;,new String[]{&quot;ABC&quot;});\n    map.put(&quot;id&quot;,&quot;id&quot;);\n    map.put(&quot;marketplace&quot;,&quot;IN&quot;);\n    final Request arguments = objectMapper.convertValue(map, Request.class);\n    System.out.println(arguments);\n</code></pre>\n<p>result <code>Request(arePrimary=true, marketplace=IN, id=id, codes=[ABC])</code></p>\n<p>when calling <code>objectMapper.convertValue(null, Request.class);</code> it prints null</p>\n"},{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680007013,"creation_date":1680007013,"answer_id":75866365,"question_id":75865887,"body_markdown":"Your problem must lie in the actual value returned by getArguments().\r\n\r\nBoth of these work fine:\r\n\r\n        @PostMapping(&quot;/test&quot;)\r\n        public void postTest(@RequestBody Map&lt;Object,Object&gt; event) {\r\n        \tObjectMapper objectMapper = new ObjectMapper();\r\n    \tMap&lt;Object, Object&gt; arguments = new HashMap&lt;&gt;();\r\n    \t\r\n    \targuments.put(&quot;arePrimary&quot;, true);\r\n    \targuments.put(&quot;codes&quot;, new String[] {&quot;ABC&quot;});\r\n    \targuments.put(&quot;id&quot;, &quot;id&quot;);\r\n    \targuments.put(&quot;marketplace&quot;, &quot;IN&quot;);\r\n    \t\r\n    \tfinal Request arguments2 = objectMapper.convertValue(arguments, Request.class);\r\n    \r\n    \tSystem.out.println(arguments2);\r\n    \r\n    \tfinal Request arguments3 = objectMapper.convertValue(event.get(&quot;arguments&quot;), Request.class);\r\n    \t\r\n    \tSystem.out.println(arguments3);\r\n    }\r\n\r\nWith POST payload of:\r\n\r\n    {\r\n        &quot;arguments&quot;: {\r\n          &quot;arePrimary&quot;: true,\r\n          &quot;codes&quot;: [&quot;ABC&quot;],\r\n          &quot;id&quot;: &quot;id&quot;,\r\n          &quot;marketplace&quot;: &quot;IN&quot;\r\n        },\r\n        &quot;info&quot;: {\r\n          &quot;fieldName&quot;: &quot;getDetails&quot;,\r\n          &quot;parentTypeName&quot;: &quot;Query&quot;\r\n        }\r\n      }\r\n\r\nOutput:\r\n\r\n    Request(arePrimary=true, marketplace=IN, id=id, codes=[ABC])\r\n    Request(arePrimary=true, marketplace=IN, id=id, codes=[ABC])\r\n\r\nCan you put the result of event.getArguments() in a variable and print it.\r\n\r\n\r\n","title":"Converting Map&lt;Object, Object&gt; to Object in java giving null","body":"<p>Your problem must lie in the actual value returned by getArguments().</p>\n<p>Both of these work fine:</p>\n<pre><code>    @PostMapping(&quot;/test&quot;)\n    public void postTest(@RequestBody Map&lt;Object,Object&gt; event) {\n        ObjectMapper objectMapper = new ObjectMapper();\n    Map&lt;Object, Object&gt; arguments = new HashMap&lt;&gt;();\n    \n    arguments.put(&quot;arePrimary&quot;, true);\n    arguments.put(&quot;codes&quot;, new String[] {&quot;ABC&quot;});\n    arguments.put(&quot;id&quot;, &quot;id&quot;);\n    arguments.put(&quot;marketplace&quot;, &quot;IN&quot;);\n    \n    final Request arguments2 = objectMapper.convertValue(arguments, Request.class);\n\n    System.out.println(arguments2);\n\n    final Request arguments3 = objectMapper.convertValue(event.get(&quot;arguments&quot;), Request.class);\n    \n    System.out.println(arguments3);\n}\n</code></pre>\n<p>With POST payload of:</p>\n<pre><code>{\n    &quot;arguments&quot;: {\n      &quot;arePrimary&quot;: true,\n      &quot;codes&quot;: [&quot;ABC&quot;],\n      &quot;id&quot;: &quot;id&quot;,\n      &quot;marketplace&quot;: &quot;IN&quot;\n    },\n    &quot;info&quot;: {\n      &quot;fieldName&quot;: &quot;getDetails&quot;,\n      &quot;parentTypeName&quot;: &quot;Query&quot;\n    }\n  }\n</code></pre>\n<p>Output:</p>\n<pre><code>Request(arePrimary=true, marketplace=IN, id=id, codes=[ABC])\nRequest(arePrimary=true, marketplace=IN, id=id, codes=[ABC])\n</code></pre>\n<p>Can you put the result of event.getArguments() in a variable and print it.</p>\n"}],"owner":{"account_id":13997894,"reputation":149,"user_id":10110256,"display_name":"NITIKA KHATKAR"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75866253,"answer_count":2,"score":0,"last_activity_date":1680007013,"creation_date":1680004226,"question_id":75865887,"body_markdown":"I am using this code\r\n\r\n    final Request arguments = objectMapper.convertValue(event.getArguments(), Request.class);\r\n\r\nwhere event look like\r\n\r\n    {\r\n        &quot;arguments&quot;: {\r\n          &quot;arePrimary&quot;: true,\r\n          &quot;codes&quot;: [&quot;ABC&quot;],\r\n          &quot;id&quot;: &quot;id&quot;,\r\n          &quot;marketplace&quot;: &quot;IN&quot;\r\n        },\r\n        &quot;info&quot;: {\r\n          &quot;fieldName&quot;: &quot;getDetails&quot;,\r\n          &quot;parentTypeName&quot;: &quot;Query&quot;\r\n        }\r\n      }\r\n\r\nand the Request looks like\r\n\r\n    @Data\r\n    @Builder\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    public class Request {\r\n    \r\n        private Boolean arePrimary;\r\n    \r\n        private String marketplace;\r\n    \r\n        private String id;\r\n    \r\n        private List&lt;String&gt; codes;\r\n    \r\n    }\r\n\r\nBut I am getting null when making that conversion, what am I missing here?","title":"Converting Map&lt;Object, Object&gt; to Object in java giving null","body":"<p>I am using this code</p>\n<pre><code>final Request arguments = objectMapper.convertValue(event.getArguments(), Request.class);\n</code></pre>\n<p>where event look like</p>\n<pre><code>{\n    &quot;arguments&quot;: {\n      &quot;arePrimary&quot;: true,\n      &quot;codes&quot;: [&quot;ABC&quot;],\n      &quot;id&quot;: &quot;id&quot;,\n      &quot;marketplace&quot;: &quot;IN&quot;\n    },\n    &quot;info&quot;: {\n      &quot;fieldName&quot;: &quot;getDetails&quot;,\n      &quot;parentTypeName&quot;: &quot;Query&quot;\n    }\n  }\n</code></pre>\n<p>and the Request looks like</p>\n<pre><code>@Data\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class Request {\n\n    private Boolean arePrimary;\n\n    private String marketplace;\n\n    private String id;\n\n    private List&lt;String&gt; codes;\n\n}\n</code></pre>\n<p>But I am getting null when making that conversion, what am I missing here?</p>\n"},{"tags":["java","ibm-mq"],"answers":[{"tags":[],"owner":{"account_id":392882,"reputation":2045,"user_id":754426,"accept_rate":92,"display_name":"Aliti"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1392096485,"creation_date":1392057654,"answer_id":21685317,"question_id":21672833,"body_markdown":"I think it is necessary to define your connection mode like this: \r\n\r\n    jmsFactory = JmsFactoryFactory.getInstance(WMQConstants.WMQ_PROVIDER);\r\n    jcf = jmsFactory.createConnectionFactory();\r\n    \r\n    // Set the properties\r\n    jcf.setStringProperty(WMQConstants.WMQ_HOST_NAME, hostName);\r\n    jcf.setIntProperty(WMQConstants.WMQ_PORT, port);\r\n    jcf.setIntProperty(WMQConstants.WMQ_CONNECTION_MODE, WMQConstants.WMQ_CM_CLIENT);\r\n    jcf.setStringProperty(WMQConstants.WMQ_CHANNEL, channel);\r\n    \r\n    connection = jcf.createConnection();\r\n\r\nI hope it works.\r\nFor more inormation see [this][1].\r\n\r\n\r\n  [1]: https://community.jboss.org/wiki/SendMessagesToWebSphereMQ70","title":"MQJE001: Completion Code &#39;2&#39;, Reason &#39;2538&#39;","body":"<p>I think it is necessary to define your connection mode like this: </p>\n\n<pre><code>jmsFactory = JmsFactoryFactory.getInstance(WMQConstants.WMQ_PROVIDER);\njcf = jmsFactory.createConnectionFactory();\n\n// Set the properties\njcf.setStringProperty(WMQConstants.WMQ_HOST_NAME, hostName);\njcf.setIntProperty(WMQConstants.WMQ_PORT, port);\njcf.setIntProperty(WMQConstants.WMQ_CONNECTION_MODE, WMQConstants.WMQ_CM_CLIENT);\njcf.setStringProperty(WMQConstants.WMQ_CHANNEL, channel);\n\nconnection = jcf.createConnection();\n</code></pre>\n\n<p>I hope it works.\nFor more inormation see <a href=\"https://community.jboss.org/wiki/SendMessagesToWebSphereMQ70\" rel=\"nofollow\">this</a>.</p>\n"},{"comments":[{"owner":{"account_id":3994096,"reputation":382,"user_id":3292141,"accept_rate":100,"display_name":"Bhaumik Shah"},"score":0,"creation_date":1392113982,"post_id":21688247,"comment_id":32806850,"body_markdown":"Thanks Roger to help me.I have followed your instruction but still error is same, can you have some tutorial for simple queue connecting to the websphere mq. Thanks in advance","body":"Thanks Roger to help me.I have followed your instruction but still error is same, can you have some tutorial for simple queue connecting to the websphere mq. Thanks in advance"}],"tags":[],"owner":{"account_id":1535582,"reputation":7172,"user_id":1431734,"display_name":"Roger"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1392067468,"creation_date":1392067468,"answer_id":21688247,"question_id":21672833,"body_markdown":"That is JMS code for doing a connection via for WMQ for JMS.  Bhaumik is using WMQ for Java (non JMS).\r\n\r\nBhaumik, you do not specify the port number in the hostname but rather as follows:\r\n\r\n    public static void main(String[] args) {\r\n        try {\r\n            MQEnvironment.hostname = &quot;192.168.120.28&quot;;\r\n            MQEnvironment.port     = 1415;\r\n            MQEnvironment.channel  = &quot;SFMS.TO.CBS&quot;;\r\n            MQQueueManager qMgr = new MQQueueManager(&quot;GSCBBRQM&quot;);\r\n        }\r\n    \r\n        catch (MQException ex) {\r\n            System.out.println(&quot;CC=&quot;+ex.completionCode + &quot; : RC=&quot;+ ex.reasonCode);\r\n            }\r\n    }\r\n\r\n","title":"MQJE001: Completion Code &#39;2&#39;, Reason &#39;2538&#39;","body":"<p>That is JMS code for doing a connection via for WMQ for JMS.  Bhaumik is using WMQ for Java (non JMS).</p>\n\n<p>Bhaumik, you do not specify the port number in the hostname but rather as follows:</p>\n\n<pre><code>public static void main(String[] args) {\n    try {\n        MQEnvironment.hostname = \"192.168.120.28\";\n        MQEnvironment.port     = 1415;\n        MQEnvironment.channel  = \"SFMS.TO.CBS\";\n        MQQueueManager qMgr = new MQQueueManager(\"GSCBBRQM\");\n    }\n\n    catch (MQException ex) {\n        System.out.println(\"CC=\"+ex.completionCode + \" : RC=\"+ ex.reasonCode);\n        }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1590276,"reputation":11,"user_id":1473746,"display_name":"Udara C Amarasinghe"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632924619,"creation_date":1632924619,"answer_id":69378042,"question_id":21672833,"body_markdown":"You can try to provide your connection properties as HashTable as follows.\r\n\r\n```\r\n  Hashtable&lt;String, Object&gt; mqht = new Hashtable&lt;&gt;();\r\n  mqht.put(MQConstants.HOST_NAME_PROPERTY, &quot;199.40.166.193&quot;);\r\n  mqht.put(MQConstants.PORT_PROPERTY, 1414); // Port should be as int value, don&#39;t use String.\r\n  mqht.put(MQConstants.CHANNEL_PROPERTY, &quot;A2A&quot;);\r\n\r\n  MQQueueManager qMgr = null;\r\n\r\n  try {\r\n     qMgr = new MQQueueManager(queueManager, mqht);\r\n  } catch (MQException ex) {\r\n     System.out.println(ex.getMessage());\r\n  }\r\n```\r\n\r\n\r\n\r\n","title":"MQJE001: Completion Code &#39;2&#39;, Reason &#39;2538&#39;","body":"<p>You can try to provide your connection properties as HashTable as follows.</p>\n<pre><code>  Hashtable&lt;String, Object&gt; mqht = new Hashtable&lt;&gt;();\n  mqht.put(MQConstants.HOST_NAME_PROPERTY, &quot;199.40.166.193&quot;);\n  mqht.put(MQConstants.PORT_PROPERTY, 1414); // Port should be as int value, don't use String.\n  mqht.put(MQConstants.CHANNEL_PROPERTY, &quot;A2A&quot;);\n\n  MQQueueManager qMgr = null;\n\n  try {\n     qMgr = new MQQueueManager(queueManager, mqht);\n  } catch (MQException ex) {\n     System.out.println(ex.getMessage());\n  }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9804285,"reputation":10345,"user_id":7264620,"display_name":"JoshMc"},"score":0,"creation_date":1680017707,"post_id":75866360,"comment_id":133823229,"body_markdown":"The issue was that the port was not specified correctly.  `MQEnvironment.hostname = &quot;192.168.120.28:1415&quot;;`.  Roger already provided an accepted answer explaining how to specify the port number properly 9 years ago.","body":"The issue was that the port was not specified correctly.  <code>MQEnvironment.hostname = &quot;192.168.120.28:1415&quot;;</code>.  Roger already provided an accepted answer explaining how to specify the port number properly 9 years ago."}],"tags":[],"owner":{"account_id":7718945,"reputation":709,"user_id":5845739,"display_name":"Pratik Gaurav"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680006988,"creation_date":1680006988,"answer_id":75866360,"question_id":21672833,"body_markdown":"The problem can a silly reason, such as application or server not accessible, my debugging approach concluded ```telnet``` was not happening.","title":"MQJE001: Completion Code &#39;2&#39;, Reason &#39;2538&#39;","body":"<p>The problem can a silly reason, such as application or server not accessible, my debugging approach concluded <code>telnet</code> was not happening.</p>\n"}],"owner":{"account_id":3994096,"reputation":382,"user_id":3292141,"accept_rate":100,"display_name":"Bhaumik Shah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25092,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":21688247,"answer_count":4,"score":4,"last_activity_date":1680006988,"creation_date":1392023185,"question_id":21672833,"body_markdown":"\r\npublic class PtpReceiver {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\ttry {\r\n\t\t\tMQEnvironment.hostname = &quot;192.168.120.28:1415&quot;;\r\n\t\t\tMQEnvironment.channel = &quot;SFMS.TO.CBS&quot;;\r\n\t\t\tMQEnvironment.properties.put(MQC.TRANSPORT_PROPERTY,\r\n\t\t\t\t\tMQC.TRANSPORT_MQSERIES);\r\n\t\t\tSystem.out.println(&quot;Q manager&quot;);\r\n\t\t\tMQQueueManager qMgr = new MQQueueManager(&quot;GSCBBRQM&quot;);\r\n\t\t\tSystem.out.println(&quot;Q manager11&quot;);\r\n\r\n\t\t}\r\n\r\n\t\tcatch (MQException ex) {\r\n\t\t\tSystem.out.println(ex.completionCode+ ex.reasonCode);\r\n\t\t\t}\r\n\t}\r\n}\r\n\r\nI got the error following:\r\n\r\nMQJE001: Completion Code &#39;2&#39;, Reason &#39;2538&#39;.\r\n\r\nCan any one help me for solve this error\r\n","title":"MQJE001: Completion Code &#39;2&#39;, Reason &#39;2538&#39;","body":"<p>public class PtpReceiver {</p>\n\n<pre><code>public static void main(String[] args) {\n    // TODO Auto-generated method stub\n    try {\n        MQEnvironment.hostname = \"192.168.120.28:1415\";\n        MQEnvironment.channel = \"SFMS.TO.CBS\";\n        MQEnvironment.properties.put(MQC.TRANSPORT_PROPERTY,\n                MQC.TRANSPORT_MQSERIES);\n        System.out.println(\"Q manager\");\n        MQQueueManager qMgr = new MQQueueManager(\"GSCBBRQM\");\n        System.out.println(\"Q manager11\");\n\n    }\n\n    catch (MQException ex) {\n        System.out.println(ex.completionCode+ ex.reasonCode);\n        }\n}\n</code></pre>\n\n<p>}</p>\n\n<p>I got the error following:</p>\n\n<p>MQJE001: Completion Code '2', Reason '2538'.</p>\n\n<p>Can any one help me for solve this error</p>\n"},{"tags":["java","stream","hashmap"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1679974570,"post_id":75861982,"comment_id":133813127,"body_markdown":"Are you required to use Streams for this?","body":"Are you required to use Streams for this?"},{"owner":{"account_id":6248735,"reputation":1758,"user_id":4859626,"display_name":"Sithija Piyuman Thewa Hettige"},"score":0,"creation_date":1679975002,"post_id":75861982,"comment_id":133813166,"body_markdown":"yes I am @VGR . is there a better way to handle this scenario ?","body":"yes I am @VGR . is there a better way to handle this scenario ?"}],"answers":[{"tags":[],"owner":{"account_id":19934545,"reputation":554,"user_id":14607529,"display_name":"ODDminus1"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679988287,"creation_date":1679988287,"answer_id":75863406,"question_id":75861982,"body_markdown":"It seems as though there were some incorrect parenthesis in the stream. There was also some possible duplicate code, which I tried to reduce. I also made a few extractions and ended up with this:\r\n\r\n```\r\npublic void updateFlag(\r\n        Map&lt;DedupeTableEntity, List&lt;DedupeTableEntity&gt;&gt; deltaHashmap,\r\n        Map&lt;DedupeTableEntity, List&lt;DedupeTableEntity&gt;&gt; existingHashmap\r\n) {\r\n    deltaHashmap.values().stream()\r\n            .flatMap(Collection::stream)\r\n            .forEach(k -&gt; extractFlag(existingHashmap, k)\r\n                    .ifPresent(k::setEntityFlag));\r\n}\r\n\r\nprivate Optional&lt;String&gt; extractFlag(Map&lt;DedupeTableEntity, List&lt;DedupeTableEntity&gt;&gt; existingHashmap, DedupeTableEntity k) {\r\n    return existingHashmap.values().stream()\r\n            .flatMap(Collection::stream)\r\n            .filter(e -&gt; equalsByIdAndCountry(k, e))\r\n            .findFirst().map(DedupeTableEntity::getEntityFlag);\r\n}\r\n\r\nprivate boolean equalsByIdAndCountry(DedupeTableEntity c, DedupeTableEntity e) {\r\n    return e.getId().equals(c.getId()) &amp;&amp; e.getObjectCountry().equals(c.getObjectCountry());\r\n}\r\n```\r\n\r\nI don&#39;t have any data to test if it&#39;s actually correct, so I&#39;ll leave that to you.","title":"Compare two hashmaps with java streams api and replace attributes values in one hashmap","body":"<p>It seems as though there were some incorrect parenthesis in the stream. There was also some possible duplicate code, which I tried to reduce. I also made a few extractions and ended up with this:</p>\n<pre><code>public void updateFlag(\n        Map&lt;DedupeTableEntity, List&lt;DedupeTableEntity&gt;&gt; deltaHashmap,\n        Map&lt;DedupeTableEntity, List&lt;DedupeTableEntity&gt;&gt; existingHashmap\n) {\n    deltaHashmap.values().stream()\n            .flatMap(Collection::stream)\n            .forEach(k -&gt; extractFlag(existingHashmap, k)\n                    .ifPresent(k::setEntityFlag));\n}\n\nprivate Optional&lt;String&gt; extractFlag(Map&lt;DedupeTableEntity, List&lt;DedupeTableEntity&gt;&gt; existingHashmap, DedupeTableEntity k) {\n    return existingHashmap.values().stream()\n            .flatMap(Collection::stream)\n            .filter(e -&gt; equalsByIdAndCountry(k, e))\n            .findFirst().map(DedupeTableEntity::getEntityFlag);\n}\n\nprivate boolean equalsByIdAndCountry(DedupeTableEntity c, DedupeTableEntity e) {\n    return e.getId().equals(c.getId()) &amp;&amp; e.getObjectCountry().equals(c.getObjectCountry());\n}\n</code></pre>\n<p>I don't have any data to test if it's actually correct, so I'll leave that to you.</p>\n"},{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680006356,"creation_date":1680006356,"answer_id":75866249,"question_id":75861982,"body_markdown":"* Performing a linear scan through `existingHashmap` for every element in `deltaHashmap` is extremely wasteful.\r\n* `map` is not for *performing an action* on each element in a Stream.  `map` is for changing the element returned in a Stream.  For performing an action, you should use [forEach](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/Stream.html#forEach(java.util.function.Consumer)).\r\n* Calling toString() on a Stream is unlikely to produce useful information.\r\n\r\nI would first map the values of `existingHashMap` by the properties used for matching.  An easy way to implement a compound key is by defining a [record](https://docs.oracle.com/javase/specs/jls/se17/html/jls-8.html#jls-8.10) class.  This mapping by matchable properties allows quicker searching for matches without having to check every value of existingHashmap for every value in deltaHashmap.  (Record classes automatically define equals, hashCode, and toString methods based on their members.)\r\n\r\n`map` should not be used here, because it returns a valuebut there is no value to return.  You are setting a property in an entity.  Doing so does not return anything.\r\n\r\n    public void compareTwoHashmaps(\r\n        HashMap&lt;DedupeTableEntity,List&lt;DedupeTableEntity&gt;&gt; deltaHashmap,\r\n        HashMap&lt;DedupeTableEntity,List&lt;DedupeTableEntity&gt;&gt; existingHashmap) {\r\n\r\n        record Identifiers(String id, String country) {\r\n            static Identifiers of(DedupeTableEntity entity) {\r\n                return new Identifiers(entity.getId(),\r\n                                       entity.getObjectCountry());\r\n            }\r\n        }\r\n\r\n        Map&lt;Identifiers, DedupeTableEntity&gt; allExisting =\r\n            existingHashmap.values().stream().flatMap(Collection::stream)\r\n                .collect(Collectors.toMap(Identifiers::of, e -&gt; e));\r\n\r\n        deltaHashmap.values().stream().flatMap(Collection::stream)\r\n            .forEach(delta -&gt; {\r\n                DedupeTableEntity existing =\r\n                    allExisting.get(Identifiers.of(delta));\r\n\r\n                if (existing != null) {\r\n                    delta.setEntityFlag(existing.getEntityFlag());\r\n                }\r\n            });\r\n    }\r\n","title":"Compare two hashmaps with java streams api and replace attributes values in one hashmap","body":"<ul>\n<li>Performing a linear scan through <code>existingHashmap</code> for every element in <code>deltaHashmap</code> is extremely wasteful.</li>\n<li><code>map</code> is not for <em>performing an action</em> on each element in a Stream.  <code>map</code> is for changing the element returned in a Stream.  For performing an action, you should use <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/Stream.html#forEach(java.util.function.Consumer)\" rel=\"nofollow noreferrer\">forEach</a>.</li>\n<li>Calling toString() on a Stream is unlikely to produce useful information.</li>\n</ul>\n<p>I would first map the values of <code>existingHashMap</code> by the properties used for matching.  An easy way to implement a compound key is by defining a <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-8.html#jls-8.10\" rel=\"nofollow noreferrer\">record</a> class.  This mapping by matchable properties allows quicker searching for matches without having to check every value of existingHashmap for every value in deltaHashmap.  (Record classes automatically define equals, hashCode, and toString methods based on their members.)</p>\n<p><code>map</code> should not be used here, because it returns a valuebut there is no value to return.  You are setting a property in an entity.  Doing so does not return anything.</p>\n<pre><code>public void compareTwoHashmaps(\n    HashMap&lt;DedupeTableEntity,List&lt;DedupeTableEntity&gt;&gt; deltaHashmap,\n    HashMap&lt;DedupeTableEntity,List&lt;DedupeTableEntity&gt;&gt; existingHashmap) {\n\n    record Identifiers(String id, String country) {\n        static Identifiers of(DedupeTableEntity entity) {\n            return new Identifiers(entity.getId(),\n                                   entity.getObjectCountry());\n        }\n    }\n\n    Map&lt;Identifiers, DedupeTableEntity&gt; allExisting =\n        existingHashmap.values().stream().flatMap(Collection::stream)\n            .collect(Collectors.toMap(Identifiers::of, e -&gt; e));\n\n    deltaHashmap.values().stream().flatMap(Collection::stream)\n        .forEach(delta -&gt; {\n            DedupeTableEntity existing =\n                allExisting.get(Identifiers.of(delta));\n\n            if (existing != null) {\n                delta.setEntityFlag(existing.getEntityFlag());\n            }\n        });\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1964307,"reputation":3683,"user_id":1764947,"display_name":"fl0w"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680006896,"creation_date":1680006896,"answer_id":75866343,"question_id":75861982,"body_markdown":"Your code contained some errors:\r\n- The method has a return type of void, but it attempts to return a stream. \r\n- The call to map on the filter operation is not terminal, meaning that it won&#39;t actually execute the mapping operation. \r\n- To fix these issues, the method could be modified to return the modified deltaHashmap \r\n\r\n\r\na fixed version including a return statement:\r\n\r\n    public HashMap&lt;DedupeTableEntity,List&lt;DedupeTableEntity&gt;&gt; compareTwoHashmaps(\r\n        HashMap&lt;DedupeTableEntity,List&lt;DedupeTableEntity&gt;&gt; deltaHashmap,\r\n        HashMap&lt;DedupeTableEntity,List&lt;DedupeTableEntity&gt;&gt; existingHashmap) {\r\n    deltaHashmap.values().stream()\r\n            .flatMap(Collection::stream)\r\n            .filter(c -&gt; existingHashmap.values().stream()\r\n                    .flatMap(Collection::stream)\r\n                    .anyMatch(e -&gt; e.getId().equals(c.getId()) &amp;&amp; e.getObjectCountry().equals(c.getObjectCountry())))\r\n            .forEach(k -&gt; {\r\n                Optional&lt;String&gt; entityFlag = existingHashmap.values().stream()\r\n                        .flatMap(Collection::stream)\r\n                        .filter(e -&gt; e.getId().equals(k.getId()) &amp;&amp; e.getObjectCountry().equals(k.getObjectCountry()))\r\n                        .map(r -&gt; r.getEntityFlag())\r\n                        .findFirst();\r\n                entityFlag.ifPresent(k::setEntityFlag);\r\n            });\r\n    return deltaHashmap;\r\n    }","title":"Compare two hashmaps with java streams api and replace attributes values in one hashmap","body":"<p>Your code contained some errors:</p>\n<ul>\n<li>The method has a return type of void, but it attempts to return a stream.</li>\n<li>The call to map on the filter operation is not terminal, meaning that it won't actually execute the mapping operation.</li>\n<li>To fix these issues, the method could be modified to return the modified deltaHashmap</li>\n</ul>\n<p>a fixed version including a return statement:</p>\n<pre><code>public HashMap&lt;DedupeTableEntity,List&lt;DedupeTableEntity&gt;&gt; compareTwoHashmaps(\n    HashMap&lt;DedupeTableEntity,List&lt;DedupeTableEntity&gt;&gt; deltaHashmap,\n    HashMap&lt;DedupeTableEntity,List&lt;DedupeTableEntity&gt;&gt; existingHashmap) {\ndeltaHashmap.values().stream()\n        .flatMap(Collection::stream)\n        .filter(c -&gt; existingHashmap.values().stream()\n                .flatMap(Collection::stream)\n                .anyMatch(e -&gt; e.getId().equals(c.getId()) &amp;&amp; e.getObjectCountry().equals(c.getObjectCountry())))\n        .forEach(k -&gt; {\n            Optional&lt;String&gt; entityFlag = existingHashmap.values().stream()\n                    .flatMap(Collection::stream)\n                    .filter(e -&gt; e.getId().equals(k.getId()) &amp;&amp; e.getObjectCountry().equals(k.getObjectCountry()))\n                    .map(r -&gt; r.getEntityFlag())\n                    .findFirst();\n            entityFlag.ifPresent(k::setEntityFlag);\n        });\nreturn deltaHashmap;\n}\n</code></pre>\n"}],"owner":{"account_id":6248735,"reputation":1758,"user_id":4859626,"display_name":"Sithija Piyuman Thewa Hettige"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75866249,"answer_count":3,"score":1,"last_activity_date":1680006896,"creation_date":1679972141,"question_id":75861982,"body_markdown":"I have 2 hashmaps\r\n\r\n    HashMap&lt;DedupeTableEntity,List&lt;DedupeTableEntity&gt;&gt; deltaHashmap&#160;\r\n    \r\n    HashMap&lt;DedupeTableEntity,List&lt;DedupeTableEntity&gt;&gt; existingHashmap&#160;\r\n\r\n&#160;DedupeTableEntity has an id, country, entity_flag as attributes\r\n\r\n - I want to iterate through the values of delta hash map&#160;(both hashmaps\r\n   has only 1 key and list of values under that key)\r\n   \r\n -  Check whether that object is in existing hash map if 2 attributes\r\n   match&#160;(country and id)\r\n   \r\n  - If it exists &#160;\r\n   \r\n  - Take attribute value of (entity flag) that object from\r\n   existinghashmap and replace the attribute (entity flag) value of the\r\n   same object in the delta hash map\r\n\r\n   \r\n\r\n \r\n\r\n\r\n        public void compareTwoHashmaps(HashMap&lt;DedupeTableEntity,List&lt;DedupeTableEntity&gt;&gt; deltaHashmap \r\n        , HashMap&lt;DedupeTableEntity,List&lt;DedupeTableEntity&gt;&gt; existingHashmap){\r\n                //iterate through deltahashmap values\r\n                return deltaHashmap.values().stream()\r\n                        .flatMap(Collection::stream)\r\n                        .filter(c -&gt; (existingHashmap.values().stream().flatMap(Collection::stream).filter(e-&gt;e.getId().equals(c.getId()) &amp;&amp; e.getObjectCountry().equals(c.getObjectCountry())))\r\n                                .map(k-&gt; k.setEntityFlag(existingHashmap.values().stream().flatMap(Collection::stream).filter(e-&gt;e.getId().equals(k.getId()) &amp;&amp; e.getObjectCountry().equals(k.getObjectCountry())).map(r -&gt;r.getEntityFlag()).toString()));\r\n            }\r\n\r\n\r\nthis is what i have got so far. but there is an error which i dunno how to correct\r\n\r\nany help would be appreciated ","title":"Compare two hashmaps with java streams api and replace attributes values in one hashmap","body":"<p>I have 2 hashmaps</p>\n<pre><code>HashMap&lt;DedupeTableEntity,List&lt;DedupeTableEntity&gt;&gt; deltaHashmap\n\nHashMap&lt;DedupeTableEntity,List&lt;DedupeTableEntity&gt;&gt; existingHashmap\n</code></pre>\n<p>DedupeTableEntity has an id, country, entity_flag as attributes</p>\n<ul>\n<li><p>I want to iterate through the values of delta hash map(both hashmaps\nhas only 1 key and list of values under that key)</p>\n</li>\n<li><p>Check whether that object is in existing hash map if 2 attributes\nmatch(country and id)</p>\n</li>\n<li><p>If it exists </p>\n</li>\n<li><p>Take attribute value of (entity flag) that object from\nexistinghashmap and replace the attribute (entity flag) value of the\nsame object in the delta hash map</p>\n<pre><code>public void compareTwoHashmaps(HashMap&lt;DedupeTableEntity,List&lt;DedupeTableEntity&gt;&gt; deltaHashmap \n, HashMap&lt;DedupeTableEntity,List&lt;DedupeTableEntity&gt;&gt; existingHashmap){\n        //iterate through deltahashmap values\n        return deltaHashmap.values().stream()\n                .flatMap(Collection::stream)\n                .filter(c -&gt; (existingHashmap.values().stream().flatMap(Collection::stream).filter(e-&gt;e.getId().equals(c.getId()) &amp;&amp; e.getObjectCountry().equals(c.getObjectCountry())))\n                        .map(k-&gt; k.setEntityFlag(existingHashmap.values().stream().flatMap(Collection::stream).filter(e-&gt;e.getId().equals(k.getId()) &amp;&amp; e.getObjectCountry().equals(k.getObjectCountry())).map(r -&gt;r.getEntityFlag()).toString()));\n    }\n</code></pre>\n</li>\n</ul>\n<p>this is what i have got so far. but there is an error which i dunno how to correct</p>\n<p>any help would be appreciated</p>\n"},{"tags":["java","anylogic"],"comments":[{"owner":{"account_id":2486375,"reputation":11083,"user_id":2164728,"accept_rate":62,"display_name":"Benjamin"},"score":1,"creation_date":1680022071,"post_id":75866197,"comment_id":133824519,"body_markdown":"Use the build-in distribution wizard to check if it is correct (see the help). Approach to truncate below 4 is fine","body":"Use the build-in distribution wizard to check if it is correct (see the help). Approach to truncate below 4 is fine"}],"owner":{"account_id":27527886,"reputation":55,"user_id":21006896,"display_name":"FroggyJoggy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680006871,"creation_date":1680006061,"question_id":75866197,"body_markdown":"I like to use a truncated 2-Erlang Distribution in AnyLogic. \r\nI have used:\r\n\r\n    double erlangNumber;\r\n    do {\r\n        erlangNumber = erlang(0.5, 2, 0.5);\r\n    } while (erlangNumber&gt;4);\r\n\r\n \r\nFirst of all: Is this correct?\r\nI don&#39;t think it is.\r\nSecondly is there another way?\r\n\r\n\r\n","title":"Truncated 2-Erlang distribution with mean=1 and max=4 in Anylogic","body":"<p>I like to use a truncated 2-Erlang Distribution in AnyLogic.\nI have used:</p>\n<pre><code>double erlangNumber;\ndo {\n    erlangNumber = erlang(0.5, 2, 0.5);\n} while (erlangNumber&gt;4);\n</code></pre>\n<p>First of all: Is this correct?\nI don't think it is.\nSecondly is there another way?</p>\n"},{"tags":["java","mysql","database","spring-boot"],"comments":[{"owner":{"account_id":10835632,"reputation":541,"user_id":7968718,"display_name":"Daksharaj kamal"},"score":0,"creation_date":1679629576,"post_id":75829793,"comment_id":133759414,"body_markdown":"`logging.level.org.hibernate.SQL=DEBUG` put this in the config and check for logs if there are some errors","body":"<code>logging.level.org.hibernate.SQL=DEBUG</code> put this in the config and check for logs if there are some errors"},{"owner":{"account_id":5653919,"reputation":3555,"user_id":4473648,"accept_rate":88,"display_name":"Tushar"},"score":0,"creation_date":1679629578,"post_id":75829793,"comment_id":133759416,"body_markdown":"Change once `spring.jpa.hibernate.ddl-auto=update` this to `spring.jpa.hibernate.ddl-auto=create`","body":"Change once <code>spring.jpa.hibernate.ddl-auto=update</code> this to <code>spring.jpa.hibernate.ddl-auto=create</code>"},{"owner":{"account_id":5653919,"reputation":3555,"user_id":4473648,"accept_rate":88,"display_name":"Tushar"},"score":0,"creation_date":1679629644,"post_id":75829793,"comment_id":133759425,"body_markdown":"Once the database is created with first run; for the next run on; you need to change back this property too :\n`spring.jpa.hibernate.ddl-auto=update`","body":"Once the database is created with first run; for the next run on; you need to change back this property too : <code>spring.jpa.hibernate.ddl-auto=update</code>"},{"owner":{"account_id":15252247,"reputation":227,"user_id":11005237,"display_name":"Sy3d"},"score":0,"creation_date":1679630910,"post_id":75829793,"comment_id":133759542,"body_markdown":"Could you update your question to provide code for your &#39;customer/all&#39; endpoint. Will make finding root cause easier.","body":"Could you update your question to provide code for your &#39;customer/all&#39; endpoint. Will make finding root cause easier."},{"owner":{"account_id":15252247,"reputation":227,"user_id":11005237,"display_name":"Sy3d"},"score":0,"creation_date":1679634603,"post_id":75829793,"comment_id":133759936,"body_markdown":"To me your code looks good. Could you update the &quot;/all&quot; endpoint to ```return null```. And check if you&#39;re able to get a 200 OK response on Postman. This way we can know whether the issue is occurring on database or not. When making requests from client you must set up CORS. So please also add @CrossOrigin under @RequestMapping. But I don&#39;t believe this will resolve this issue yet, if you&#39;re getting 404.","body":"To me your code looks good. Could you update the &quot;/all&quot; endpoint to <code>return null</code>. And check if you&#39;re able to get a 200 OK response on Postman. This way we can know whether the issue is occurring on database or not. When making requests from client you must set up CORS. So please also add @CrossOrigin under @RequestMapping. But I don&#39;t believe this will resolve this issue yet, if you&#39;re getting 404."}],"answers":[{"comments":[{"owner":{"account_id":26992601,"reputation":67,"user_id":20555252,"display_name":"Malinsha Vithanage"},"score":0,"creation_date":1679631448,"post_id":75829951,"comment_id":133759594,"body_markdown":"Thank you for your answer.  already used postman and it gives {\n    &quot;timestamp&quot;: &quot;2023-03-24T04:14:16.903+00:00&quot;,\n    &quot;status&quot;: 404,\n    &quot;error&quot;: &quot;Not Found&quot;,\n    &quot;message&quot;: &quot;No message available&quot;,\n    &quot;path&quot;: &quot;/customer/all&quot;\n}kind of error","body":"Thank you for your answer.  already used postman and it gives {     &quot;timestamp&quot;: &quot;2023-03-24T04:14:16.903+00:00&quot;,     &quot;status&quot;: 404,     &quot;error&quot;: &quot;Not Found&quot;,     &quot;message&quot;: &quot;No message available&quot;,     &quot;path&quot;: &quot;/customer/all&quot; }kind of error"}],"tags":[],"owner":{"account_id":15252247,"reputation":227,"user_id":11005237,"display_name":"Sy3d"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679630795,"creation_date":1679630795,"answer_id":75829951,"question_id":75829793,"body_markdown":"Spring Data JPA will not create a database for you. You must ensure the database exists before running the application, hence you must create it manually. This is why you&#39;re seeing &quot;unknown database db&quot; error.\r\n\r\n```spring.jpa.hibernate.ddl-auto=update```\r\n\r\nThe above config will make hibernate check the difference between your entity and schema in **already existing database**. If any difference is found, updates will be made to your table. This also includes creation of a new entity to be saved in your database.\r\n\r\n---\r\n\r\nRegarding your second issue \r\n\r\n&gt; Http failure response for http://localhost:8080/customer/all: 0\r\n&gt; Unknown Error\r\n\r\nDo you have a REST endpoint created for this endpoint? Could you double check the server is running and the endpoint URL is also correct. I would recommend you download a tool called Postman, which provides a quicker way to test your API endpoints.","title":"Why Java configuration doesn&#39;t create databases, tables in databases in MySQL automatically?","body":"<p>Spring Data JPA will not create a database for you. You must ensure the database exists before running the application, hence you must create it manually. This is why you're seeing &quot;unknown database db&quot; error.</p>\n<p><code>spring.jpa.hibernate.ddl-auto=update</code></p>\n<p>The above config will make hibernate check the difference between your entity and schema in <strong>already existing database</strong>. If any difference is found, updates will be made to your table. This also includes creation of a new entity to be saved in your database.</p>\n<hr />\n<p>Regarding your second issue</p>\n<blockquote>\n<p>Http failure response for http://localhost:8080/customer/all: 0\nUnknown Error</p>\n</blockquote>\n<p>Do you have a REST endpoint created for this endpoint? Could you double check the server is running and the endpoint URL is also correct. I would recommend you download a tool called Postman, which provides a quicker way to test your API endpoints.</p>\n"}],"owner":{"account_id":26992601,"reputation":67,"user_id":20555252,"display_name":"Malinsha Vithanage"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680006726,"creation_date":1679628765,"question_id":75829793,"body_markdown":"Currently, I am developing a web application using Angular, Spring boot, and MySQL. I need to create and update databases and tables automatically in MySQL. But My computer didn&#39;t create databases also automatically and gave a backend error as &quot;unknown database db&quot;. Then I created the database manually. Then the backend builds properly but still doesn&#39;t create tables. \r\n\r\nApplication properties code:\r\n\r\n```\r\nserver.error.whitelabel.enabled=false\r\nspring.datasource.url=jdbc:mysql://localhost:3306/db?useSSL=false\r\nspring.datasource.username=root\r\nspring.datasource.password=1234\r\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\nspring.jpa.database-platform = org.hibernate.dialect.MySQLDialect\r\nspring.jpa.generate-ddl=true\r\nspring.jpa.show-sql=true\r\nspring.jpa.hibernate.ddl-auto=update\r\n\r\n\r\n```\r\ncustomer.java code:\r\n\r\n```\r\npackage com.Manipulus.arctic.customer.model;\r\n\r\n\r\nimport jakarta.persistence.*;\r\n\r\nimport java.io.Serializable;\r\n\r\n@Entity\r\n@Table(name = &quot;customers&quot;)\r\npublic class Customer implements Serializable {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(nullable = false,updatable = false)\r\n    private long id;\r\n\r\n    @Column(name = &quot;nic_number&quot; )\r\n    private String nic_number;\r\n\r\n    @Column(name = &quot;customer_name&quot;)\r\n    private String name;\r\n\r\n    @Column(name = &quot;contact_number&quot;)\r\n    private int contactNumber;\r\n\r\n    @Column(name = &quot;address&quot;)\r\n    private String address;\r\n\r\n    @Column(name = &quot;contact_person_name&quot;)\r\n    private String contactPersonName;\r\n\r\n    @Column(name = &quot;designation&quot;)\r\n    private String designation;\r\n\r\n    @Column(name = &quot;email&quot;)\r\n    private String email;\r\n\r\n    @Column(nullable = false,updatable = false)\r\n    private String customerCode;\r\n\r\n    public String getCustomerCode() {\r\n        return customerCode;\r\n    }\r\n\r\n    public void setCustomerCode(String customerCode) {\r\n        this.customerCode = customerCode;\r\n    }\r\n\r\n    public Customer(){\r\n\r\n    }\r\n    public Customer(String nic_number, String name, int contactNumber, String address, String contactPersonName, String designation, String email,String customerCode) {\r\n        this.nic_number = nic_number;\r\n        this.name = name;\r\n        this.customerCode =customerCode;\r\n        this.contactNumber = contactNumber;\r\n        this.address = address;\r\n        this.contactPersonName = contactPersonName;\r\n        this.designation = designation;\r\n        this.email = email;\r\n    }\r\n\r\n    public String getNic_number() {\r\n        return nic_number;\r\n    }\r\n\r\n    public void setNic_number(String nic) {\r\n        this.nic_number = nic;\r\n    }\r\n\r\n    public long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public int getContactNumber() {\r\n        return contactNumber;\r\n    }\r\n\r\n    public void setContactNumber(int contactNumber) {\r\n        this.contactNumber = contactNumber;\r\n    }\r\n\r\n    public String getAddress() {\r\n        return address;\r\n    }\r\n\r\n    public void setAddress(String address) {\r\n        this.address = address;\r\n    }\r\n\r\n    public String getContactPersonName() {\r\n        return contactPersonName;\r\n    }\r\n\r\n    public void setContactPersonName(String contactPersonName) {\r\n        this.contactPersonName = contactPersonName;\r\n    }\r\n\r\n    public String getDesignation() {\r\n        return designation;\r\n    }\r\n\r\n    public void setDesignation(String designation) {\r\n        this.designation = designation;\r\n    }\r\n\r\n    public String getEmail() {\r\n        return email;\r\n    }\r\n\r\n    public void setEmail(String email) {\r\n        this.email = email;\r\n    }\r\n\r\n    @Override\r\n    public String toString(){\r\n        return &quot;Customer{&quot; +\r\n                &quot;id=&quot; + id +\r\n                &quot;nic_number=&quot; + nic_number +\r\n                &quot;name=&quot; +name +\r\n                &quot;contactNumber=&quot; +contactNumber +\r\n                &quot;address=&quot;+ address +\r\n                &quot;contactPersonName=&quot;+contactPersonName+\r\n                &quot;designation=&quot;+ designation +\r\n                &quot;email=&quot;+email+\r\n                &#39;}&#39;;\r\n\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\n```\r\n\r\nCustomerResource.java code:\r\n```\r\n    package com.Manipulus.arctic.customer;\r\n\r\nimport com.Manipulus.arctic.customer.model.Customer;\r\nimport com.Manipulus.arctic.customer.service.CustomerService;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\nimport java.util.List;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/customer&quot;)\r\npublic class CustomerResource {\r\n    private final CustomerService customerService;\r\n\r\n    public CustomerResource(CustomerService customerService) {\r\n        this.customerService = customerService;\r\n    }\r\n\r\n    @GetMapping(&quot;/all&quot;)\r\n    public ResponseEntity&lt;List&lt;Customer&gt;&gt; getAllCustomer(){\r\n        List&lt;Customer&gt; customers = customerService.findAllCustomers();\r\n        return new ResponseEntity&lt;&gt;(customers, HttpStatus.OK);\r\n    }\r\n\r\n    @GetMapping(&quot;/find/{id}&quot;)\r\n    public ResponseEntity&lt;Customer&gt; getCustomerById(@PathVariable(&quot;id&quot;) Long id){\r\n       Customer customer = customerService.findCustomerById(id);\r\n        return new ResponseEntity&lt;&gt;(customer, HttpStatus.OK);\r\n    }\r\n\r\n    @PostMapping(&quot;/add&quot;)\r\n    public ResponseEntity&lt;Customer&gt; addCustomer(@RequestBody Customer customer){\r\n        Customer newCustomer = customerService.addCustomer(customer);\r\n        return new ResponseEntity&lt;&gt;(newCustomer, HttpStatus.CREATED);\r\n    }\r\n\r\n    @PutMapping(&quot;/update&quot;)\r\n    public ResponseEntity&lt;Customer&gt; updateCustomer(@RequestBody Customer customer){\r\n        Customer updateCustomer = customerService.updateCustomer(customer);\r\n        return new ResponseEntity&lt;&gt;(updateCustomer, HttpStatus.CREATED);\r\n    }\r\n\r\n\r\n    @DeleteMapping (&quot;/delete/{id}&quot;)\r\n    public void deleteCustomer(@PathVariable(&quot;id&quot;) Long id){\r\n        customerService.deleteCustomerById(id);\r\n    }\r\n\r\n\r\n\r\n//        return new ResponseEntity&lt;&gt;(HttpStatus.OK);\r\n\r\n\r\n//    @DeleteMapping(&quot;/employees/{id}&quot;)\r\n//    public ResponseEntity&lt;Map&lt;String,Boolean&gt;&gt; deleteEmployee(@PathVariable long id){\r\n//        Employee emp = emp_repo.findById(id).orElseThrow(() -&gt; new ResourceNotFoundException(&quot;Employee not exist with id: &quot;+id));\r\n//\r\n//        emp_repo.delete(emp);\r\n//        Map&lt;String,Boolean&gt; response = new HashMap&lt;&gt;();\r\n//        response.put(&quot;Deleted&quot;,Boolean.TRUE);\r\n//        return ResponseEntity.ok(response);\r\n//    }\r\n\r\n}\r\n\r\n```\r\nJava Version that I use is 18. My frontend or backend doesn&#39;t show any kind of error while compiling or running. But on the interface of the web application it shows &quot;Http failure response for http://localhost:8080/customer/all: 0 Unknown Error&quot;\r\nI think My backend doesn&#39;t connect with MySQL properly. and also I am a beginner. So I request to help me to solve this error.\r\n","title":"Why Java configuration doesn&#39;t create databases, tables in databases in MySQL automatically?","body":"<p>Currently, I am developing a web application using Angular, Spring boot, and MySQL. I need to create and update databases and tables automatically in MySQL. But My computer didn't create databases also automatically and gave a backend error as &quot;unknown database db&quot;. Then I created the database manually. Then the backend builds properly but still doesn't create tables.</p>\n<p>Application properties code:</p>\n<pre><code>server.error.whitelabel.enabled=false\nspring.datasource.url=jdbc:mysql://localhost:3306/db?useSSL=false\nspring.datasource.username=root\nspring.datasource.password=1234\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\nspring.jpa.database-platform = org.hibernate.dialect.MySQLDialect\nspring.jpa.generate-ddl=true\nspring.jpa.show-sql=true\nspring.jpa.hibernate.ddl-auto=update\n\n\n</code></pre>\n<p>customer.java code:</p>\n<pre><code>package com.Manipulus.arctic.customer.model;\n\n\nimport jakarta.persistence.*;\n\nimport java.io.Serializable;\n\n@Entity\n@Table(name = &quot;customers&quot;)\npublic class Customer implements Serializable {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(nullable = false,updatable = false)\n    private long id;\n\n    @Column(name = &quot;nic_number&quot; )\n    private String nic_number;\n\n    @Column(name = &quot;customer_name&quot;)\n    private String name;\n\n    @Column(name = &quot;contact_number&quot;)\n    private int contactNumber;\n\n    @Column(name = &quot;address&quot;)\n    private String address;\n\n    @Column(name = &quot;contact_person_name&quot;)\n    private String contactPersonName;\n\n    @Column(name = &quot;designation&quot;)\n    private String designation;\n\n    @Column(name = &quot;email&quot;)\n    private String email;\n\n    @Column(nullable = false,updatable = false)\n    private String customerCode;\n\n    public String getCustomerCode() {\n        return customerCode;\n    }\n\n    public void setCustomerCode(String customerCode) {\n        this.customerCode = customerCode;\n    }\n\n    public Customer(){\n\n    }\n    public Customer(String nic_number, String name, int contactNumber, String address, String contactPersonName, String designation, String email,String customerCode) {\n        this.nic_number = nic_number;\n        this.name = name;\n        this.customerCode =customerCode;\n        this.contactNumber = contactNumber;\n        this.address = address;\n        this.contactPersonName = contactPersonName;\n        this.designation = designation;\n        this.email = email;\n    }\n\n    public String getNic_number() {\n        return nic_number;\n    }\n\n    public void setNic_number(String nic) {\n        this.nic_number = nic;\n    }\n\n    public long getId() {\n        return id;\n    }\n\n    public void setId(long id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public int getContactNumber() {\n        return contactNumber;\n    }\n\n    public void setContactNumber(int contactNumber) {\n        this.contactNumber = contactNumber;\n    }\n\n    public String getAddress() {\n        return address;\n    }\n\n    public void setAddress(String address) {\n        this.address = address;\n    }\n\n    public String getContactPersonName() {\n        return contactPersonName;\n    }\n\n    public void setContactPersonName(String contactPersonName) {\n        this.contactPersonName = contactPersonName;\n    }\n\n    public String getDesignation() {\n        return designation;\n    }\n\n    public void setDesignation(String designation) {\n        this.designation = designation;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    @Override\n    public String toString(){\n        return &quot;Customer{&quot; +\n                &quot;id=&quot; + id +\n                &quot;nic_number=&quot; + nic_number +\n                &quot;name=&quot; +name +\n                &quot;contactNumber=&quot; +contactNumber +\n                &quot;address=&quot;+ address +\n                &quot;contactPersonName=&quot;+contactPersonName+\n                &quot;designation=&quot;+ designation +\n                &quot;email=&quot;+email+\n                '}';\n\n    }\n\n\n}\n\n\n</code></pre>\n<p>CustomerResource.java code:</p>\n<pre><code>    package com.Manipulus.arctic.customer;\n\nimport com.Manipulus.arctic.customer.model.Customer;\nimport com.Manipulus.arctic.customer.service.CustomerService;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.util.List;\n\n@RestController\n@RequestMapping(&quot;/customer&quot;)\npublic class CustomerResource {\n    private final CustomerService customerService;\n\n    public CustomerResource(CustomerService customerService) {\n        this.customerService = customerService;\n    }\n\n    @GetMapping(&quot;/all&quot;)\n    public ResponseEntity&lt;List&lt;Customer&gt;&gt; getAllCustomer(){\n        List&lt;Customer&gt; customers = customerService.findAllCustomers();\n        return new ResponseEntity&lt;&gt;(customers, HttpStatus.OK);\n    }\n\n    @GetMapping(&quot;/find/{id}&quot;)\n    public ResponseEntity&lt;Customer&gt; getCustomerById(@PathVariable(&quot;id&quot;) Long id){\n       Customer customer = customerService.findCustomerById(id);\n        return new ResponseEntity&lt;&gt;(customer, HttpStatus.OK);\n    }\n\n    @PostMapping(&quot;/add&quot;)\n    public ResponseEntity&lt;Customer&gt; addCustomer(@RequestBody Customer customer){\n        Customer newCustomer = customerService.addCustomer(customer);\n        return new ResponseEntity&lt;&gt;(newCustomer, HttpStatus.CREATED);\n    }\n\n    @PutMapping(&quot;/update&quot;)\n    public ResponseEntity&lt;Customer&gt; updateCustomer(@RequestBody Customer customer){\n        Customer updateCustomer = customerService.updateCustomer(customer);\n        return new ResponseEntity&lt;&gt;(updateCustomer, HttpStatus.CREATED);\n    }\n\n\n    @DeleteMapping (&quot;/delete/{id}&quot;)\n    public void deleteCustomer(@PathVariable(&quot;id&quot;) Long id){\n        customerService.deleteCustomerById(id);\n    }\n\n\n\n//        return new ResponseEntity&lt;&gt;(HttpStatus.OK);\n\n\n//    @DeleteMapping(&quot;/employees/{id}&quot;)\n//    public ResponseEntity&lt;Map&lt;String,Boolean&gt;&gt; deleteEmployee(@PathVariable long id){\n//        Employee emp = emp_repo.findById(id).orElseThrow(() -&gt; new ResourceNotFoundException(&quot;Employee not exist with id: &quot;+id));\n//\n//        emp_repo.delete(emp);\n//        Map&lt;String,Boolean&gt; response = new HashMap&lt;&gt;();\n//        response.put(&quot;Deleted&quot;,Boolean.TRUE);\n//        return ResponseEntity.ok(response);\n//    }\n\n}\n\n</code></pre>\n<p>Java Version that I use is 18. My frontend or backend doesn't show any kind of error while compiling or running. But on the interface of the web application it shows &quot;Http failure response for http://localhost:8080/customer/all: 0 Unknown Error&quot;\nI think My backend doesn't connect with MySQL properly. and also I am a beginner. So I request to help me to solve this error.</p>\n"},{"tags":["java","eclipse","base64"],"comments":[{"owner":{"account_id":4382011,"reputation":1790,"user_id":3573403,"accept_rate":62,"display_name":"user3573403"},"score":0,"creation_date":1547541125,"post_id":54195118,"comment_id":95217170,"body_markdown":"Yes, I meant the 2nd. I have corrected.","body":"Yes, I meant the 2nd. I have corrected."},{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":0,"creation_date":1547541301,"post_id":54195118,"comment_id":95217258,"body_markdown":"Can&#39;t reproduce, works for me. What is the content of the `config.properties` file? Also what Java version are you using?","body":"Can&#39;t reproduce, works for me. What is the content of the <code>config.properties</code> file? Also what Java version are you using?"},{"owner":{"account_id":4382011,"reputation":1790,"user_id":3573403,"accept_rate":62,"display_name":"user3573403"},"score":0,"creation_date":1547541581,"post_id":54195118,"comment_id":95217357,"body_markdown":"I run this in Eclipse version 2018-09 (4.9.0), using its in-build 1.8 compiler.","body":"I run this in Eclipse version 2018-09 (4.9.0), using its in-build 1.8 compiler."},{"owner":{"account_id":4382011,"reputation":1790,"user_id":3573403,"accept_rate":62,"display_name":"user3573403"},"score":0,"creation_date":1547541632,"post_id":54195118,"comment_id":95217378,"body_markdown":"I tried a different text file and this time it does print the Base64 encoded string. Very strange. I originally tried with a PDF file and got the same problem.","body":"I tried a different text file and this time it does print the Base64 encoded string. Very strange. I originally tried with a PDF file and got the same problem."},{"owner":{"account_id":4382011,"reputation":1790,"user_id":3573403,"accept_rate":62,"display_name":"user3573403"},"score":1,"creation_date":1547542514,"post_id":54195118,"comment_id":95217762,"body_markdown":"Looks like this is a problem inside Eclipse only. From the command prompt, when I run the same program using the Oracle JDK, it printed out the Base64 encoded string.","body":"Looks like this is a problem inside Eclipse only. From the command prompt, when I run the same program using the Oracle JDK, it printed out the Base64 encoded string."}],"answers":[{"tags":[],"owner":{"account_id":1964307,"reputation":3683,"user_id":1764947,"display_name":"fl0w"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680006332,"creation_date":1680006332,"answer_id":75866247,"question_id":54195118,"body_markdown":"When new String(encoded) is called to print the encoded byte array, nothing is printed to the console. This is because the new String(byte[]) constructor expects the byte array to be a valid character encoding, but the encoded byte array is **not necessarily** a valid character encoding. Instead of using new String(encoded), you can use Arrays.toString(encoded) or Base64.getEncoder().encodeToString(content) to print the encoded byte array.\r\n\r\nIf this works in one environment and not the other there might be different default encodings in place. Check your environment settings. \r\nFile encoding could be set like this:\r\n\r\n    System.setProperty(&quot;file.encoding&quot;, &quot;UTF-8&quot;);\r\n\r\n","title":"Unable to print Base64 encoded string","body":"<p>When new String(encoded) is called to print the encoded byte array, nothing is printed to the console. This is because the new String(byte[]) constructor expects the byte array to be a valid character encoding, but the encoded byte array is <strong>not necessarily</strong> a valid character encoding. Instead of using new String(encoded), you can use Arrays.toString(encoded) or Base64.getEncoder().encodeToString(content) to print the encoded byte array.</p>\n<p>If this works in one environment and not the other there might be different default encodings in place. Check your environment settings.\nFile encoding could be set like this:</p>\n<pre><code>System.setProperty(&quot;file.encoding&quot;, &quot;UTF-8&quot;);\n</code></pre>\n"}],"owner":{"account_id":4382011,"reputation":1790,"user_id":3573403,"accept_rate":62,"display_name":"user3573403"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1624,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":1,"score":7,"last_activity_date":1680006332,"creation_date":1547540960,"question_id":54195118,"body_markdown":"Can someone explains to me why the 2nd println statement below is not printing anything? Even if I use the encodeToString() method instead of the encode() method, I still can&#39;t print the Base64 encoded string. The encoded string is not empty as I can verify using its length() method. I tried a different file, a binary one, and the problem is still there.\r\n\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Paths;\r\n    import java.util.Base64;\r\n\r\n    public class Test {\r\n\r\n        public static void main(String... args) {\r\n            try {\r\n                byte[] content = Files.readAllBytes(Paths.get(&quot;D:\\\\config.properties&quot;));\r\n                System.out.println(content.length); // correctly prints the length\r\n                byte[] encoded = Base64.getEncoder().encode(content);\r\n                System.out.println(new String(encoded)); // prints nothing\r\n                content = Base64.getDecoder().decode(encoded);\r\n                System.out.println(new String(content)); // prints original content\r\n            } catch (Exception exception) {\r\n                exception.printStackTrace();\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n**EDIT**\r\n\r\nThis problem only exists when I run the program in Eclipse. When I run it from the command prompt, the Base64 encoded string can be printed out.","title":"Unable to print Base64 encoded string","body":"<p>Can someone explains to me why the 2nd println statement below is not printing anything? Even if I use the encodeToString() method instead of the encode() method, I still can't print the Base64 encoded string. The encoded string is not empty as I can verify using its length() method. I tried a different file, a binary one, and the problem is still there.</p>\n\n<pre><code>import java.nio.file.Files;\nimport java.nio.file.Paths;\nimport java.util.Base64;\n\npublic class Test {\n\n    public static void main(String... args) {\n        try {\n            byte[] content = Files.readAllBytes(Paths.get(\"D:\\\\config.properties\"));\n            System.out.println(content.length); // correctly prints the length\n            byte[] encoded = Base64.getEncoder().encode(content);\n            System.out.println(new String(encoded)); // prints nothing\n            content = Base64.getDecoder().decode(encoded);\n            System.out.println(new String(content)); // prints original content\n        } catch (Exception exception) {\n            exception.printStackTrace();\n        }\n    }\n\n}\n</code></pre>\n\n<p><strong>EDIT</strong></p>\n\n<p>This problem only exists when I run the program in Eclipse. When I run it from the command prompt, the Base64 encoded string can be printed out.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":4,"creation_date":1680004589,"post_id":75865933,"comment_id":133819258,"body_markdown":"Because you told it to: `(List&lt;Object&gt;) integerList`!","body":"Because you told it to: <code>(List&lt;Object&gt;) integerList</code>!"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":4,"creation_date":1680004709,"post_id":75865933,"comment_id":133819298,"body_markdown":"And you ignored the warning *telling* you that you were doing something unsafe: &quot;Note: Main.java uses unchecked or unsafe operations.&quot;","body":"And you ignored the warning <i>telling</i> you that you were doing something unsafe: &quot;Note: Main.java uses unchecked or unsafe operations.&quot;"},{"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1680009066,"post_id":75865933,"comment_id":133820568,"body_markdown":"The situation that you created here is called [heap pollution](https://en.wikipedia.org/wiki/Heap_pollution).","body":"The situation that you created here is called <a href=\"https://en.wikipedia.org/wiki/Heap_pollution\" rel=\"nofollow noreferrer\">heap pollution</a>."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1680009470,"post_id":75865933,"comment_id":133820689,"body_markdown":"*`Given: List&lt;? extends Object&gt; integerList = new ArrayList&lt;Integer&gt;();`*  *`Interestingly, the compiler does not allow a direct cast:  e.g.  List&lt;Object&gt; objectList = (List&lt;Object&gt;) integerList;`*  Well, it works for me using a command line of `javac foo.java`   In Eclipse it provided a type safety warning. which can be suppressed.  How are you compiling it?","body":"<i><code>Given: List&lt;? extends Object&gt; integerList = new ArrayList&lt;Integer&gt;();</code></i>  <i><code>Interestingly, the compiler does not allow a direct cast:  e.g.  List&lt;Object&gt; objectList = (List&lt;Object&gt;) integerList;</code></i>  Well, it works for me using a command line of <code>javac foo.java</code>   In Eclipse it provided a type safety warning. which can be suppressed.  How are you compiling it?"},{"owner":{"account_id":2169838,"reputation":141,"user_id":5412249,"display_name":"Jobin Jacob Kavalam"},"score":0,"creation_date":1680072146,"post_id":75865933,"comment_id":133832741,"body_markdown":"@WJS Yes you are right; i should have clarified that `integerList` is `List&lt;Integer&gt;` as opposed to `List&lt;? extends Object&gt;`","body":"@WJS Yes you are right; i should have clarified that <code>integerList</code> is <code>List&lt;Integer&gt;</code> as opposed to <code>List&lt;? extends Object&gt;</code>"},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1680090838,"post_id":75865933,"comment_id":133837410,"body_markdown":"@JobinJacobKavalam  Please edit your question and clarify that for others who may want to understand the issue.","body":"@JobinJacobKavalam  Please edit your question and clarify that for others who may want to understand the issue."}],"answers":[{"tags":[],"owner":{"account_id":12732679,"reputation":7866,"user_id":9248718,"display_name":"Some random IT boy"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1680004595,"creation_date":1680004595,"answer_id":75865951,"question_id":75865933,"body_markdown":"Because you told the type-system:\r\n\r\n&gt; I know what I am doing\r\n\r\nAnd then proceeded to shove a stick on your bike front wheel","title":"I managed to insert a `String` into an `ArrayList&lt;Integer&gt;`; why the type system did not stop me?","body":"<p>Because you told the type-system:</p>\n<blockquote>\n<p>I know what I am doing</p>\n</blockquote>\n<p>And then proceeded to shove a stick on your bike front wheel</p>\n"}],"owner":{"account_id":2169838,"reputation":141,"user_id":5412249,"display_name":"Jobin Jacob Kavalam"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1680006031,"creation_date":1680004502,"question_id":75865933,"body_markdown":"```java\r\nimport java.util.*;\r\n\r\nclass Main {\r\n    public static void main(String[] args) {\r\n        List&lt;? extends Object&gt; integerList = new ArrayList&lt;Integer&gt;();\r\n        List&lt;Object&gt; objectList = (List&lt;Object&gt;) integerList;\r\n        objectList.add(&quot;a&quot;);\r\n        objectList.add(3);\r\n        System.out.println(objectList);\r\n        // [a, 3]\r\n    }\r\n}\r\n\r\n```\r\n\r\nThis code compiles and runs giving:\r\n\r\n```\r\n[a, 3]\r\n```\r\n\r\nQuestion is how come Java allow a `String` to be inserted into an `ArrayList&lt;Integer&gt;` ?\r\n\r\nI understand that `ArrayList&lt;Integer&gt;` is effectively just `ArrayList` at runtime (type erasure) and hence this works; but i wonder why the type system allowed this ?\r\n\r\n---\r\n\r\n**Notes**:\r\n\r\nWhat the above code manages to do is to cast `List&lt;Integer&gt;` into a `List&lt;Object&gt;` through a two step casting like so: \r\n\r\n```\r\nList&lt;Object&gt; objectList = (List&lt;Object&gt;)(List&lt;? extends Object&gt;) integerList;\r\n```\r\n\r\nInterestingly, the compiler does not allow a direct cast:\r\n\r\n```\r\nList&lt;Object&gt; objectList = (List&lt;Object&gt;) integerList;\r\n\r\n// compile error: incompatible types\r\n```","title":"I managed to insert a `String` into an `ArrayList&lt;Integer&gt;`; why the type system did not stop me?","body":"<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\n\nclass Main {\n    public static void main(String[] args) {\n        List&lt;? extends Object&gt; integerList = new ArrayList&lt;Integer&gt;();\n        List&lt;Object&gt; objectList = (List&lt;Object&gt;) integerList;\n        objectList.add(&quot;a&quot;);\n        objectList.add(3);\n        System.out.println(objectList);\n        // [a, 3]\n    }\n}\n\n</code></pre>\n<p>This code compiles and runs giving:</p>\n<pre><code>[a, 3]\n</code></pre>\n<p>Question is how come Java allow a <code>String</code> to be inserted into an <code>ArrayList&lt;Integer&gt;</code> ?</p>\n<p>I understand that <code>ArrayList&lt;Integer&gt;</code> is effectively just <code>ArrayList</code> at runtime (type erasure) and hence this works; but i wonder why the type system allowed this ?</p>\n<hr />\n<p><strong>Notes</strong>:</p>\n<p>What the above code manages to do is to cast <code>List&lt;Integer&gt;</code> into a <code>List&lt;Object&gt;</code> through a two step casting like so:</p>\n<pre><code>List&lt;Object&gt; objectList = (List&lt;Object&gt;)(List&lt;? extends Object&gt;) integerList;\n</code></pre>\n<p>Interestingly, the compiler does not allow a direct cast:</p>\n<pre><code>List&lt;Object&gt; objectList = (List&lt;Object&gt;) integerList;\n\n// compile error: incompatible types\n</code></pre>\n"},{"tags":["java","android","flutter","firebase","keystore"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1680053270,"post_id":75866184,"comment_id":133830326,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"owner":{"account_id":27712302,"reputation":21,"user_id":21154724,"display_name":"Adeitya Rahmad Hidayah"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680005998,"creation_date":1680005998,"question_id":75866184,"body_markdown":"[![enter image description here](https://i.stack.imgur.com/t8bPP.png)](https://i.stack.imgur.com/t8bPP.png)\r\n\r\nI want to create a keystore for an application I have created.\r\nBut it didn&#39;t work.\r\n\r\nWant to be successful in creating a Keystore","title":"Can&quot;t build Keystore for &#39;Build and release an Android app&#39;","body":"<p><a href=\"https://i.stack.imgur.com/t8bPP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/t8bPP.png\" alt=\"enter image description here\" /></a></p>\n<p>I want to create a keystore for an application I have created.\nBut it didn't work.</p>\n<p>Want to be successful in creating a Keystore</p>\n"},{"tags":["java","spring-kafka","dead-letter"],"comments":[{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":1,"creation_date":1678906573,"post_id":75748823,"comment_id":133625887,"body_markdown":"It&#39;s hard to say; you would need to profile your application to see why one listener is slower than the other; perhaps one JSON object is more complex than the other; but I do have some observations - 1) you shouldn&#39;t be creating a new `ObjectMapper()` for each record; just reuse the same one each time (that would save some CPU and garbage collection). 2) You shouldn&#39;t have all 3 listeners in the same groupId (because a rebalance on one topic would cause an unnecessary rebalance on the others).","body":"It&#39;s hard to say; you would need to profile your application to see why one listener is slower than the other; perhaps one JSON object is more complex than the other; but I do have some observations - 1) you shouldn&#39;t be creating a new <code>ObjectMapper()</code> for each record; just reuse the same one each time (that would save some CPU and garbage collection). 2) You shouldn&#39;t have all 3 listeners in the same groupId (because a rebalance on one topic would cause an unnecessary rebalance on the others)."},{"owner":{"account_id":26284640,"reputation":29,"user_id":19952568,"display_name":"KGT"},"score":0,"creation_date":1678983079,"post_id":75748823,"comment_id":133642444,"body_markdown":"Thank you Gary Russell for the quick response","body":"Thank you Gary Russell for the quick response"},{"owner":{"account_id":26284640,"reputation":29,"user_id":19952568,"display_name":"KGT"},"score":0,"creation_date":1678984160,"post_id":75748823,"comment_id":133642824,"body_markdown":"I tried removing the DLT kafka configuration bean factory and just implemented 2 listeners. Now the consumtion is really fast.but i want DLT in place. Could you please suggest approaches without removing the DLT code?","body":"I tried removing the DLT kafka configuration bean factory and just implemented 2 listeners. Now the consumtion is really fast.but i want DLT in place. Could you please suggest approaches without removing the DLT code?"},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":1,"creation_date":1678984474,"post_id":75748823,"comment_id":133642933,"body_markdown":"It&#39;s not clear what you mean; the DLT listener is using the default factory (implicitly) and you have explicitly specified the default factory for the other two. It&#39;s hard to see why having a third listener (that&#39;s not running) would make any difference.","body":"It&#39;s not clear what you mean; the DLT listener is using the default factory (implicitly) and you have explicitly specified the default factory for the other two. It&#39;s hard to see why having a third listener (that&#39;s not running) would make any difference."},{"owner":{"account_id":26284640,"reputation":29,"user_id":19952568,"display_name":"KGT"},"score":0,"creation_date":1679941350,"post_id":75748823,"comment_id":133807981,"body_markdown":"Hi Gary.. I Tried removing the concurrentkafka listener bean containerfactory from my listener. NOW the consumption is fast with DLT. @KafkaListener(id = &quot;topic-1&quot;, topics = &quot;topic-1&quot;, groupId = &quot;main&quot;, **containerFactory = &quot;kafkaListenerContainerFactory&quot;, **clientIdPrefix = &quot;topic-1&quot;)                   But is there any way in which i can make it fast without removing containerfactory? Need your suggestion","body":"Hi Gary.. I Tried removing the concurrentkafka listener bean containerfactory from my listener. NOW the consumption is fast with DLT. @KafkaListener(id = &quot;topic-1&quot;, topics = &quot;topic-1&quot;, groupId = &quot;main&quot;, **containerFactory = &quot;kafkaListenerContainerFactory&quot;, **clientIdPrefix = &quot;topic-1&quot;)                   But is there any way in which i can make it fast without removing containerfactory? Need your suggestion"},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1679943396,"post_id":75748823,"comment_id":133808483,"body_markdown":"Don&#39;t put code in comments; edit the question instead and comment that you have done so. I don&#39;t see any way that that change would make a difference. Provide an [MCRE](https://stackoverflow.com/help/minimal-reproducible-example) so I can play with it myself.","body":"Don&#39;t put code in comments; edit the question instead and comment that you have done so. I don&#39;t see any way that that change would make a difference. Provide an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">MCRE</a> so I can play with it myself."},{"owner":{"account_id":26284640,"reputation":29,"user_id":19952568,"display_name":"KGT"},"score":0,"creation_date":1679946241,"post_id":75748823,"comment_id":133809075,"body_markdown":"Thank you gary.. ive added the new code.. edited question","body":"Thank you gary.. ive added the new code.. edited question"},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1679946390,"post_id":75748823,"comment_id":133809114,"body_markdown":"One more time; adding another listener (especially with `autoStartup=&quot;false&quot;`) should not make any difference to the performance of the other two listeners). I need a minimal, complete simple project if you want me to investigate further.","body":"One more time; adding another listener (especially with <code>autoStartup=&quot;false&quot;</code>) should not make any difference to the performance of the other two listeners). I need a minimal, complete simple project if you want me to investigate further."},{"owner":{"account_id":26284640,"reputation":29,"user_id":19952568,"display_name":"KGT"},"score":0,"creation_date":1680005823,"post_id":75748823,"comment_id":133819614,"body_markdown":"Thank you for your time and response @GaryRussell. Ive edited the question with a simple java code that has 2 listeners and a concurrentListenerFactory Configuration for your investigation. Please let me know if further details are requiredd.","body":"Thank you for your time and response @GaryRussell. Ive edited the question with a simple java code that has 2 listeners and a concurrentListenerFactory Configuration for your investigation. Please let me know if further details are requiredd."},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1680006115,"post_id":75748823,"comment_id":133819696,"body_markdown":"Please post the complete, minimal, project someplace so I get exactly what you have and I dont have to copy/paste. Include instructions on how to reproduce.","body":"Please post the complete, minimal, project someplace so I get exactly what you have and I dont have to copy/paste. Include instructions on how to reproduce."},{"owner":{"account_id":26284640,"reputation":29,"user_id":19952568,"display_name":"KGT"},"score":0,"creation_date":1680102747,"post_id":75748823,"comment_id":133841217,"body_markdown":"@GaryRussell sure.. could please share a common place in which i can upload the code or your email id if any?","body":"@GaryRussell sure.. could please share a common place in which i can upload the code or your email id if any?"},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1680104389,"post_id":75748823,"comment_id":133841740,"body_markdown":"You can post it on GitHub or similar.","body":"You can post it on GitHub or similar."}],"owner":{"account_id":26284640,"reputation":29,"user_id":19952568,"display_name":"KGT"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680005731,"creation_date":1678905397,"question_id":75748823,"body_markdown":"I have a kafka consumer class which has 2 listener TOPICS and a DLQ listener. When load testing with million records i.e.producing 15 requests per second that reaches topic-1 and 1 request per second reaches topic-2 simultaneously, I find that there is a lag in kafka consumption. Eg.if the 15 requests are produced at 2.00 am, the topic-1 listener is consuming only around 2.20am. Where as the Topic -2 that consumes 1 request per second does not show any time lag. Can someone please help me out on how to find the cause of this time lag and solution? Thank you in advance!\r\n\r\nPlease find the edited Simple Java code that illustrates this issue\r\n\r\nKafka consumerconfig.java\r\n````\r\npublic class KafkaConsumer {\r\nfinal ObjectMapper mapper =new ObjectMapper();\r\n//MAIN TOPIC LISTENER 1\r\n@KafkaListener(id = &quot;topic-1&quot;, topics = &quot;topic-1&quot;, groupId = &quot;main&quot;, containerFactory= &quot;kafkaListenerContainerFactory&quot;, clientIdPrefix = &quot;topic-1&quot;)\r\n    public void mainListener(ConsumerRecord&lt;String, String&gt; consumerRecord, Acknowledgement ack) {\r\ndbService.saveTodb(consumerRecord.value(),mapper);\r\n        ack.acknowledge();\r\n }\r\n\r\n//MAIN TOPIC LISTENER 2\r\n@KafkaListener(id = &quot;topic-2&quot;, topics = &quot;topic-2&quot;, groupId = &quot;main&quot;, containerFactory= &quot;kafkaListenerContainerFactory&quot;, clientIdPrefix = &quot;topic-2&quot;)\r\n    public void mainListener(ConsumerRecord&lt;String, String&gt; consumerRecord, Acknowledgement ack) {   \r\n dbService.saveTodb(consumerRecord.value(), mapper);\r\nack.acknowledge();\r\n}\r\n}\r\n````\r\n\r\nKafkaBeanFactory.java\r\n\r\n````\r\n@Configuration\r\npublic class KafkaBeanFactory{\r\n@Bean(name = &quot;kafkaListenerContainerFactory&quot;)\r\n    public ConcurrentKafkaListenerContainerFactory&lt;Object, Object&gt; kafkaListenerContainerFactory(\r\n            ConcurrentKafkaListenerContainerFactoryConfigurer configurer,\r\n            ConsumerFactory&lt;Object, Object&gt; kafkaConsumerFactory, KafkaTemplate&lt;Object, Object&gt; template) {\r\n        ConcurrentKafkaListenerContainerFactory&lt;Object, Object&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n        configurer.configure(factory, kafkaConsumerFactory);\r\n        var recoverer = new DeadLetterPublishingRecoverer(template,\r\n                (record, ex) -&gt; new TopicPartition(&quot;DLQ-topic&quot;, record.partition()));\r\n        var errorHandler = new DefaultErrorHandler(recoverer, new FixedBackOff(3, 20000));\r\n        errorHandler.addRetryableExceptions(JsonProcessingException.class, DBException.class);\r\n        errorHandler.setAckAfterHandle(true);\r\n        factory.setCommonErrorHandler(errorHandler);\r\n        return factory;\r\n}\r\n}\r\n````\r\n\r\napplication.yaml\r\n````\r\nspring:\r\n kafka:\r\n    bootstrap-servers: localhost:9092 # sample value \r\n    client-id: mainDLQ\r\n    properties:\r\n      security:\r\n        protocol: SASL_SSL\r\n      sasl:\r\n        mechanism: PLAIN\r\n        jaas:\r\n          config: org.apache.kafka.common.security.plain.PlainLoginModule required username=&quot;$ConnectionString&quot; password=&quot;&lt;string&gt;&quot;;\r\n          security:\r\n            protocol: SASL_SSL\r\n    consumer:\r\n      key-deserializer: org.apache.kafka.common.serialization.StringDeserializer\r\n      value-deserializer: org.apache.kafka.common.serialization.StringDeserializer\r\n      groupId: main\r\n      enable-auto-commit: false\r\n      auto.offset.reset: earliest\r\n    listener:\r\n      ack-mode: MANUAL_IMMEDIATE\r\n````","title":"How to increase the consumption speed of Kafka consumer with multiple listener topics?","body":"<p>I have a kafka consumer class which has 2 listener TOPICS and a DLQ listener. When load testing with million records i.e.producing 15 requests per second that reaches topic-1 and 1 request per second reaches topic-2 simultaneously, I find that there is a lag in kafka consumption. Eg.if the 15 requests are produced at 2.00 am, the topic-1 listener is consuming only around 2.20am. Where as the Topic -2 that consumes 1 request per second does not show any time lag. Can someone please help me out on how to find the cause of this time lag and solution? Thank you in advance!</p>\n<p>Please find the edited Simple Java code that illustrates this issue</p>\n<p>Kafka consumerconfig.java</p>\n<pre><code>public class KafkaConsumer {\nfinal ObjectMapper mapper =new ObjectMapper();\n//MAIN TOPIC LISTENER 1\n@KafkaListener(id = &quot;topic-1&quot;, topics = &quot;topic-1&quot;, groupId = &quot;main&quot;, containerFactory= &quot;kafkaListenerContainerFactory&quot;, clientIdPrefix = &quot;topic-1&quot;)\n    public void mainListener(ConsumerRecord&lt;String, String&gt; consumerRecord, Acknowledgement ack) {\ndbService.saveTodb(consumerRecord.value(),mapper);\n        ack.acknowledge();\n }\n\n//MAIN TOPIC LISTENER 2\n@KafkaListener(id = &quot;topic-2&quot;, topics = &quot;topic-2&quot;, groupId = &quot;main&quot;, containerFactory= &quot;kafkaListenerContainerFactory&quot;, clientIdPrefix = &quot;topic-2&quot;)\n    public void mainListener(ConsumerRecord&lt;String, String&gt; consumerRecord, Acknowledgement ack) {   \n dbService.saveTodb(consumerRecord.value(), mapper);\nack.acknowledge();\n}\n}\n</code></pre>\n<p>KafkaBeanFactory.java</p>\n<pre><code>@Configuration\npublic class KafkaBeanFactory{\n@Bean(name = &quot;kafkaListenerContainerFactory&quot;)\n    public ConcurrentKafkaListenerContainerFactory&lt;Object, Object&gt; kafkaListenerContainerFactory(\n            ConcurrentKafkaListenerContainerFactoryConfigurer configurer,\n            ConsumerFactory&lt;Object, Object&gt; kafkaConsumerFactory, KafkaTemplate&lt;Object, Object&gt; template) {\n        ConcurrentKafkaListenerContainerFactory&lt;Object, Object&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n        configurer.configure(factory, kafkaConsumerFactory);\n        var recoverer = new DeadLetterPublishingRecoverer(template,\n                (record, ex) -&gt; new TopicPartition(&quot;DLQ-topic&quot;, record.partition()));\n        var errorHandler = new DefaultErrorHandler(recoverer, new FixedBackOff(3, 20000));\n        errorHandler.addRetryableExceptions(JsonProcessingException.class, DBException.class);\n        errorHandler.setAckAfterHandle(true);\n        factory.setCommonErrorHandler(errorHandler);\n        return factory;\n}\n}\n</code></pre>\n<p>application.yaml</p>\n<pre><code>spring:\n kafka:\n    bootstrap-servers: localhost:9092 # sample value \n    client-id: mainDLQ\n    properties:\n      security:\n        protocol: SASL_SSL\n      sasl:\n        mechanism: PLAIN\n        jaas:\n          config: org.apache.kafka.common.security.plain.PlainLoginModule required username=&quot;$ConnectionString&quot; password=&quot;&lt;string&gt;&quot;;\n          security:\n            protocol: SASL_SSL\n    consumer:\n      key-deserializer: org.apache.kafka.common.serialization.StringDeserializer\n      value-deserializer: org.apache.kafka.common.serialization.StringDeserializer\n      groupId: main\n      enable-auto-commit: false\n      auto.offset.reset: earliest\n    listener:\n      ack-mode: MANUAL_IMMEDIATE\n</code></pre>\n"},{"tags":["java","list","arraylist","copy"],"comments":[{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":3,"creation_date":1623168828,"post_id":67890658,"comment_id":119999144,"body_markdown":"`secondList = firstList` means that both variables will point to the same object. If you modify `firstList`, `secondList` will be modified as well. Is that what you really want?","body":"<code>secondList = firstList</code> means that both variables will point to the same object. If you modify <code>firstList</code>, <code>secondList</code> will be modified as well. Is that what you really want?"},{"owner":{"account_id":9443335,"reputation":15252,"user_id":7023245,"accept_rate":25,"display_name":"Timothy Truckle"},"score":2,"creation_date":1623169308,"post_id":67890658,"comment_id":119999358,"body_markdown":"*&quot;im not sure&quot;* **--** as long as you don&#39;t know what you need or want, nobody else can give a good advice.","body":"<i>&quot;im not sure&quot;</i> <b>--</b> as long as you don&#39;t know what you need or want, nobody else can give a good advice."},{"owner":{"account_id":24987,"reputation":30045,"user_id":63898,"accept_rate":64,"display_name":"user63898"},"score":0,"creation_date":1623169815,"post_id":67890658,"comment_id":119999581,"body_markdown":"i want the fastest and safest way to get the data from firstList as firstList is changing all the time \nplease check this question as there is the full flow check the exec method \nhttps://stackoverflow.com/questions/67884970/java-multithreaded-int-manipulation-doing-right?noredirect=1#comment119994187_67884970","body":"i want the fastest and safest way to get the data from firstList as firstList is changing all the time  please check this question as there is the full flow check the exec method  <a href=\"https://stackoverflow.com/questions/67884970/java-multithreaded-int-manipulation-doing-right?noredirect=1#comment119994187_67884970\" title=\"java multithreaded int manipulation doing right\">stackoverflow.com/questions/67884970/&hellip;</a>"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1623182408,"post_id":67890658,"comment_id":120004911,"body_markdown":"Copying a list in Java has been [covered many times](https://duckduckgo.com/?q=site%3Astackoverflow.com+java+list+copy&amp;t=iphone&amp;ia=web). Search before posting.","body":"Copying a list in Java has been <a href=\"https://duckduckgo.com/?q=site%3Astackoverflow.com+java+list+copy&amp;t=iphone&amp;ia=web\" rel=\"nofollow noreferrer\">covered many times</a>. Search before posting."}],"answers":[{"tags":[],"owner":{"account_id":18284632,"reputation":2738,"user_id":13312820,"display_name":"Most Noble Rabbit"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623219362,"creation_date":1623219362,"answer_id":67898552,"question_id":67890658,"body_markdown":"It depends on what do you want to achieve:\r\n\r\n* If you want to **reference** the list, you can do as you did:\r\n\r\n        List&lt;String&gt; thirdList = firstList;\r\n        firstList.set(0, &quot;Z&quot;); // Check this out\r\n\r\n        System.out.println(firstList); // [Z, A_2, A_3, B_1, B_2, B_3, C_1, C_2, C_3]\r\n        System.out.println(thirdList); // [Z, A_2, A_3, B_1, B_2, B_3, C_1, C_2, C_3]\r\n\r\n\r\n\r\n* If you want to **copy** the list content, you can do:\r\n\r\n        List&lt;String&gt; thirdList = new ArrayList&lt;&gt;(firstList);\r\n        firstList.set(0, &quot;Z&quot;); // Check this out\r\n\r\n        System.out.println(firstList); // [Z, A_2, A_3, B_1, B_2, B_3, C_1, C_2, C_3]\r\n        System.out.println(thirdList); // [A_1, A_2, A_3, B_1, B_2, B_3, C_1, C_2, C_3]\r\n\r\n","title":"Java difference between list to list copy","body":"<p>It depends on what do you want to achieve:</p>\n<ul>\n<li><p>If you want to <strong>reference</strong> the list, you can do as you did:</p>\n<pre><code>  List&lt;String&gt; thirdList = firstList;\n  firstList.set(0, &quot;Z&quot;); // Check this out\n\n  System.out.println(firstList); // [Z, A_2, A_3, B_1, B_2, B_3, C_1, C_2, C_3]\n  System.out.println(thirdList); // [Z, A_2, A_3, B_1, B_2, B_3, C_1, C_2, C_3]\n</code></pre>\n</li>\n<li><p>If you want to <strong>copy</strong> the list content, you can do:</p>\n<pre><code>  List&lt;String&gt; thirdList = new ArrayList&lt;&gt;(firstList);\n  firstList.set(0, &quot;Z&quot;); // Check this out\n\n  System.out.println(firstList); // [Z, A_2, A_3, B_1, B_2, B_3, C_1, C_2, C_3]\n  System.out.println(thirdList); // [A_1, A_2, A_3, B_1, B_2, B_3, C_1, C_2, C_3]\n</code></pre>\n</li>\n</ul>\n"}],"owner":{"account_id":24987,"reputation":30045,"user_id":63898,"accept_rate":64,"display_name":"user63898"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1680005660,"creation_date":1623168406,"question_id":67890658,"body_markdown":"What is the difference and what is more efficient when copy list to list? For example I have : \r\n\r\n    List&lt;String&gt; firstList= new ArrayList&lt;String&gt;();\r\n    List&lt;String&gt; secondList = new ArrayList&lt;String&gt;();\r\n    \r\n    secondList.add(&quot;A&quot;);\r\n    secondList.add(&quot;B&quot;);\r\n    secondList.add(&quot;C&quot;);\r\n    \r\n    firstList.add(&quot;A_1&quot;);\r\n    firstList.add(&quot;A_2&quot;);\r\n    firstList.add(&quot;A_3&quot;);\r\n    firstList.add(&quot;B_1&quot;);\r\n    firstList.add(&quot;B_2&quot;);\r\n    firstList.add(&quot;B_3&quot;);\r\n    firstList.add(&quot;C_1&quot;);\r\n    firstList.add(&quot;C_2&quot;);\r\n    firstList.add(&quot;C_3&quot;);\r\n\r\nWhat I&#39;m doing now is:\r\n\r\n    secondList = firstList\r\n\r\nAnd it&#39;s working fine but I&#39;m not sure it&#39;s the right way to do it. As you can see, I replace new data with the old one.\r\n","title":"Java difference between list to list copy","body":"<p>What is the difference and what is more efficient when copy list to list? For example I have :</p>\n<pre><code>List&lt;String&gt; firstList= new ArrayList&lt;String&gt;();\nList&lt;String&gt; secondList = new ArrayList&lt;String&gt;();\n\nsecondList.add(&quot;A&quot;);\nsecondList.add(&quot;B&quot;);\nsecondList.add(&quot;C&quot;);\n\nfirstList.add(&quot;A_1&quot;);\nfirstList.add(&quot;A_2&quot;);\nfirstList.add(&quot;A_3&quot;);\nfirstList.add(&quot;B_1&quot;);\nfirstList.add(&quot;B_2&quot;);\nfirstList.add(&quot;B_3&quot;);\nfirstList.add(&quot;C_1&quot;);\nfirstList.add(&quot;C_2&quot;);\nfirstList.add(&quot;C_3&quot;);\n</code></pre>\n<p>What I'm doing now is:</p>\n<pre><code>secondList = firstList\n</code></pre>\n<p>And it's working fine but I'm not sure it's the right way to do it. As you can see, I replace new data with the old one.</p>\n"},{"tags":["java","git","authorization","jgit"],"comments":[{"owner":{"account_id":22903011,"reputation":105,"user_id":17041460,"display_name":"Thend"},"score":0,"creation_date":1679995504,"post_id":75864241,"comment_id":133816838,"body_markdown":"@R&#252;digerHerrmann Do you have any idea what am I doing wrong?","body":"@R&#252;digerHerrmann Do you have any idea what am I doing wrong?"}],"answers":[{"tags":[],"owner":{"account_id":22903011,"reputation":105,"user_id":17041460,"display_name":"Thend"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680005623,"creation_date":1680005623,"answer_id":75866123,"question_id":75864241,"body_markdown":"According to Github:\r\n&quot;*For developers, if you are using a password to authenticate Git operations with GitHub.com today, you must begin using a personal access token over HTTPS (recommended) or SSH key by August 13, 2021, to avoid disruption. If you receive a warning that you are using an outdated third-party integration, you should update your client to the latest version.*&quot; [Described here][1]\r\n\r\nThus, I had to generate a token, what I did the following way:\r\n[A personal access token (classic) generation...][2] \r\n\r\nAfter, in the setCredentialsProvider() method I gave the following:\r\n\r\n    .setCredentialsProvider( new UsernamePasswordCredentialsProvider( &quot;&lt;token&gt;&quot;, &quot;&quot; ) );\r\n\r\nPassword must be left empty, just give the token and that&#39;s it. \r\n\r\n  [1]: https://github.blog/2020-12-15-token-authentication-requirements-for-git-operations/#what-you-need-to-do-today\r\n  [2]: https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/creating-a-personal-access-token","title":"JGit authorization problems [Caused by: org.eclipse.jgit.api.errors.TransportException: https://github.com/ ... .git: not authorized]","body":"<p>According to Github:\n&quot;<em>For developers, if you are using a password to authenticate Git operations with GitHub.com today, you must begin using a personal access token over HTTPS (recommended) or SSH key by August 13, 2021, to avoid disruption. If you receive a warning that you are using an outdated third-party integration, you should update your client to the latest version.</em>&quot; <a href=\"https://github.blog/2020-12-15-token-authentication-requirements-for-git-operations/#what-you-need-to-do-today\" rel=\"nofollow noreferrer\">Described here</a></p>\n<p>Thus, I had to generate a token, what I did the following way:\n<a href=\"https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/creating-a-personal-access-token\" rel=\"nofollow noreferrer\">A personal access token (classic) generation...</a></p>\n<p>After, in the setCredentialsProvider() method I gave the following:</p>\n<pre><code>.setCredentialsProvider( new UsernamePasswordCredentialsProvider( &quot;&lt;token&gt;&quot;, &quot;&quot; ) );\n</code></pre>\n<p>Password must be left empty, just give the token and that's it.</p>\n"}],"owner":{"account_id":22903011,"reputation":105,"user_id":17041460,"display_name":"Thend"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":911,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75866123,"answer_count":1,"score":0,"last_activity_date":1680005623,"creation_date":1679994180,"question_id":75864241,"body_markdown":"My very-very simple test code always fails. I cannot get access to my own repository (PRIVATE) (it is completely new and empty). The username and password are perfectly working I tested signing in and out several times. I went through several StackOverflow posts, but still no clue what can cause the problem. I have tired two different ways, **first clone the repo (give the credentials at that point) and then push**. My second try was to **create a repo commit something than push (give the credentials at this point)**. None of these worked.\r\n\r\nJGit error message:\r\n\r\n    Exception in thread &quot;main&quot; org.eclipse.jgit.api.errors.TransportException: https://github.com/USERNAME/testing.git: not authorized\r\n    \tat org.eclipse.jgit.api.FetchCommand.call(FetchCommand.java:249)\r\n    \tat org.eclipse.jgit.api.CloneCommand.fetch(CloneCommand.java:325)\r\n    \tat org.eclipse.jgit.api.CloneCommand.call(CloneCommand.java:191) \r\n\r\nJava code (First way):\r\n\r\n        public static void main(String[] args) throws GitAPIException, IOException {\r\n    \r\n            CredentialsProvider credentialsProvider\r\n                    = new UsernamePasswordCredentialsProvider( &quot;XXXXXXXXXX&quot;, &quot;XXXXXXXXXX&quot; );\r\n            Git git = Git.cloneRepository()\r\n                    .setURI( &quot;XXXXXXXXXX&quot; )\r\n                    .setDirectory(new File(System.getProperty(&quot;user.home&quot;) + File.separator + &quot;git_test&quot;))\r\n                    .setCredentialsProvider( credentialsProvider )\r\n                    .call();\r\n    \r\n            File file = new File( git.getRepository().getWorkTree(), &quot;file&quot; + new Object().hashCode() );\r\n            file.createNewFile();\r\n            git.add().addFilepattern( file.getName() ).call();\r\n            git.commit().setMessage( &quot;Add file &quot; + file.getName() ).call();\r\n    \r\n            git.push()\r\n                    .setCredentialsProvider( credentialsProvider )\r\n                    .call();\r\n        }\r\n    }\r\n\r\nJava code (Second way):\r\n\r\n    this.git = Git.init().setDirectory(new File(folderPath)).call();\r\n    \r\n    this.git.add().addFilepattern(&quot;temp.txt&quot;).call();\r\n            this.git.commit().setMessage(&quot;Modified temp.txt&quot;).call();\r\n    \r\n    this.git.push().setRemote(textfield.getText())\r\n                   .setCredentialsProvider(new UsernamePasswordCredentialsProvider(&quot;XXXXXXX&quot;, &quot;XXXXXX&quot;))\r\n                   .call();\r\n\r\nDo you have any clue what is going on?","title":"JGit authorization problems [Caused by: org.eclipse.jgit.api.errors.TransportException: https://github.com/ ... .git: not authorized]","body":"<p>My very-very simple test code always fails. I cannot get access to my own repository (PRIVATE) (it is completely new and empty). The username and password are perfectly working I tested signing in and out several times. I went through several StackOverflow posts, but still no clue what can cause the problem. I have tired two different ways, <strong>first clone the repo (give the credentials at that point) and then push</strong>. My second try was to <strong>create a repo commit something than push (give the credentials at this point)</strong>. None of these worked.</p>\n<p>JGit error message:</p>\n<pre><code>Exception in thread &quot;main&quot; org.eclipse.jgit.api.errors.TransportException: https://github.com/USERNAME/testing.git: not authorized\n    at org.eclipse.jgit.api.FetchCommand.call(FetchCommand.java:249)\n    at org.eclipse.jgit.api.CloneCommand.fetch(CloneCommand.java:325)\n    at org.eclipse.jgit.api.CloneCommand.call(CloneCommand.java:191) \n</code></pre>\n<p>Java code (First way):</p>\n<pre><code>    public static void main(String[] args) throws GitAPIException, IOException {\n\n        CredentialsProvider credentialsProvider\n                = new UsernamePasswordCredentialsProvider( &quot;XXXXXXXXXX&quot;, &quot;XXXXXXXXXX&quot; );\n        Git git = Git.cloneRepository()\n                .setURI( &quot;XXXXXXXXXX&quot; )\n                .setDirectory(new File(System.getProperty(&quot;user.home&quot;) + File.separator + &quot;git_test&quot;))\n                .setCredentialsProvider( credentialsProvider )\n                .call();\n\n        File file = new File( git.getRepository().getWorkTree(), &quot;file&quot; + new Object().hashCode() );\n        file.createNewFile();\n        git.add().addFilepattern( file.getName() ).call();\n        git.commit().setMessage( &quot;Add file &quot; + file.getName() ).call();\n\n        git.push()\n                .setCredentialsProvider( credentialsProvider )\n                .call();\n    }\n}\n</code></pre>\n<p>Java code (Second way):</p>\n<pre><code>this.git = Git.init().setDirectory(new File(folderPath)).call();\n\nthis.git.add().addFilepattern(&quot;temp.txt&quot;).call();\n        this.git.commit().setMessage(&quot;Modified temp.txt&quot;).call();\n\nthis.git.push().setRemote(textfield.getText())\n               .setCredentialsProvider(new UsernamePasswordCredentialsProvider(&quot;XXXXXXX&quot;, &quot;XXXXXX&quot;))\n               .call();\n</code></pre>\n<p>Do you have any clue what is going on?</p>\n"},{"tags":["java","collections","hashmap"],"comments":[{"owner":{"account_id":1924671,"reputation":94541,"user_id":1735406,"accept_rate":95,"display_name":"Maroun"},"score":0,"creation_date":1413892270,"post_id":26485964,"comment_id":41606308,"body_markdown":"Extract the &quot;key, value&quot; pairs from the String and create the map.","body":"Extract the &quot;key, value&quot; pairs from the String and create the map."},{"owner":{"account_id":3299383,"reputation":1628,"user_id":2775900,"display_name":"superbob"},"score":1,"creation_date":1413892298,"post_id":26485964,"comment_id":41606330,"body_markdown":"Did you try anything ?","body":"Did you try anything ?"},{"owner":{"account_id":1717501,"reputation":541,"user_id":1574258,"accept_rate":43,"display_name":"vikeng21"},"score":0,"creation_date":1413892364,"post_id":26485964,"comment_id":41606375,"body_markdown":"questions related to logic description are highly discouraged as there can be multiple solutions for the above and its far off topic. by the way what was your approach did you try something or get stuck somewhere then we can help","body":"questions related to logic description are highly discouraged as there can be multiple solutions for the above and its far off topic. by the way what was your approach did you try something or get stuck somewhere then we can help"},{"owner":{"account_id":5172494,"reputation":1069,"user_id":4140583,"accept_rate":75,"display_name":"Naresh kumar"},"score":0,"creation_date":1413892365,"post_id":26485964,"comment_id":41606376,"body_markdown":"This works when I know what key is exactly and how many keys are there,but if I have like 10 keys in String.","body":"This works when I know what key is exactly and how many keys are there,but if I have like 10 keys in String."},{"owner":{"account_id":5172494,"reputation":1069,"user_id":4140583,"accept_rate":75,"display_name":"Naresh kumar"},"score":1,"creation_date":1413892502,"post_id":26485964,"comment_id":41606459,"body_markdown":"I tried convert the same using  mapper.readValue(input,new TypeReference&lt;Map&lt;Object, Object&gt;&gt;() {}) from jackson library but raised ParseException","body":"I tried convert the same using  mapper.readValue(input,new TypeReference&lt;Map&lt;Object, Object&gt;&gt;() {}) from jackson library but raised ParseException"},{"owner":{"account_id":4847584,"reputation":522,"user_id":3985566,"accept_rate":38,"display_name":"ersnh"},"score":0,"creation_date":1428410740,"post_id":26485964,"comment_id":47142921,"body_markdown":"Here is your answer: http://stackoverflow.com/questions/14768171/convert-string-representing-key-value-pairs-to-map","body":"Here is your answer: <a href=\"http://stackoverflow.com/questions/14768171/convert-string-representing-key-value-pairs-to-map\" title=\"convert string representing key value pairs to map\">stackoverflow.com/questions/14768171/&hellip;</a>"},{"owner":{"account_id":1897044,"reputation":8954,"user_id":1713757,"display_name":"Geng  Jiawen"},"score":0,"creation_date":1477651193,"post_id":26485964,"comment_id":67863694,"body_markdown":"You can use gson library.Just one line code: new Gson().fromJson(value, HashMap.class);","body":"You can use gson library.Just one line code: new Gson().fromJson(value, HashMap.class);"}],"answers":[{"comments":[{"owner":{"account_id":5066626,"reputation":735,"user_id":4094697,"display_name":"user"},"score":0,"creation_date":1413892498,"post_id":26486020,"comment_id":41606457,"body_markdown":"Maybe trim the String to not get confused when calling map.get(trimmedString)","body":"Maybe trim the String to not get confused when calling map.get(trimmedString)"},{"owner":{"account_id":2102673,"reputation":35121,"user_id":1869846,"accept_rate":56,"display_name":"Ruchira Gayan Ranaweera"},"score":0,"creation_date":1413892696,"post_id":26486020,"comment_id":41606587,"body_markdown":"@Nareshkumar There is no issue with that.","body":"@Nareshkumar There is no issue with that."},{"owner":{"account_id":4259399,"reputation":8159,"user_id":3484146,"display_name":"ifloop"},"score":5,"creation_date":1413892699,"post_id":26486020,"comment_id":41606590,"body_markdown":"+1 for showing the way, but not spoon feeding the code","body":"+1 for showing the way, but not spoon feeding the code"},{"owner":{"account_id":7918395,"reputation":4121,"user_id":5980143,"accept_rate":88,"display_name":"dina"},"score":3,"creation_date":1483288664,"post_id":26486020,"comment_id":70038626,"body_markdown":"spliting by comma isn&#39;t right, what if  map = {num = &quot;12,12,2016&quot; , name = blabla}","body":"spliting by comma isn&#39;t right, what if  map = {num = &quot;12,12,2016&quot; , name = blabla}"},{"owner":{"account_id":2102673,"reputation":35121,"user_id":1869846,"accept_rate":56,"display_name":"Ruchira Gayan Ranaweera"},"score":0,"creation_date":1483502821,"post_id":26486020,"comment_id":70118315,"body_markdown":"@user5980143 then you have to come up with a different strategy.","body":"@user5980143 then you have to come up with a different strategy."}],"tags":[],"owner":{"account_id":2102673,"reputation":35121,"user_id":1869846,"accept_rate":56,"display_name":"Ruchira Gayan Ranaweera"},"comment_count":5,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1413892734,"creation_date":1413892337,"answer_id":26486020,"question_id":26485964,"body_markdown":"    String value = &quot;{first_name = naresh,last_name = kumar,gender = male}&quot;\r\n\r\nLet&#39;s start \r\n\r\n1. Remove `{` and `}` from the `String`&gt;&gt;first_name = naresh,last_name = kumar,gender = male\r\n2. Split the `String` from `,`&gt;&gt; array of 3 element\r\n3. Now you have an `array` with `3` element\r\n4. Iterate the `array` and split each element by `=`\r\n5. Create a `Map&lt;String,String&gt;` put each part separated by `=`. first part as `Key` and second part as `Value` ","title":"How to convert String into Hashmap in java","body":"<pre><code>String value = \"{first_name = naresh,last_name = kumar,gender = male}\"\n</code></pre>\n\n<p>Let's start </p>\n\n<ol>\n<li>Remove <code>{</code> and <code>}</code> from the <code>String</code>>>first_name = naresh,last_name = kumar,gender = male</li>\n<li>Split the <code>String</code> from <code>,</code>>> array of 3 element</li>\n<li>Now you have an <code>array</code> with <code>3</code> element</li>\n<li>Iterate the <code>array</code> and split each element by <code>=</code></li>\n<li>Create a <code>Map&lt;String,String&gt;</code> put each part separated by <code>=</code>. first part as <code>Key</code> and second part as <code>Value</code> </li>\n</ol>\n"},{"comments":[{"owner":{"account_id":2102673,"reputation":35121,"user_id":1869846,"accept_rate":56,"display_name":"Ruchira Gayan Ranaweera"},"score":0,"creation_date":1413892507,"post_id":26486046,"comment_id":41606462,"body_markdown":"Provide answer in full is kill the OP&#39;s chance of learning. This is not helping him but encourage OP to ask same kind of question again.","body":"Provide answer in full is kill the OP&#39;s chance of learning. This is not helping him but encourage OP to ask same kind of question again."},{"owner":{"account_id":5172494,"reputation":1069,"user_id":4140583,"accept_rate":75,"display_name":"Naresh kumar"},"score":0,"creation_date":1413893793,"post_id":26486046,"comment_id":41607223,"body_markdown":"Sorry for that, but my intention here was,if I dont know what are keys in string.","body":"Sorry for that, but my intention here was,if I dont know what are keys in string."},{"owner":{"account_id":3225359,"reputation":6722,"user_id":2721865,"accept_rate":100,"display_name":"kai"},"score":1,"creation_date":1413894145,"post_id":26486046,"comment_id":41607411,"body_markdown":"You dont have to know the keys. My code always uses the left side of the equal sign as the key. Did you tried it?","body":"You dont have to know the keys. My code always uses the left side of the equal sign as the key. Did you tried it?"},{"owner":{"account_id":7220692,"reputation":723,"user_id":5511336,"display_name":"KumarAnkit"},"score":2,"creation_date":1545056508,"post_id":26486046,"comment_id":94482500,"body_markdown":"It would break if there is any comma in the key or value. Should consider that as well.","body":"It would break if there is any comma in the key or value. Should consider that as well."},{"owner":{"account_id":7814745,"reputation":417,"user_id":5909830,"display_name":"Purushothaman"},"score":0,"creation_date":1548760504,"post_id":26486046,"comment_id":95649198,"body_markdown":"value = StringUtils.substringBetween(value, &quot;{&quot;, &quot;}&quot;);\nShould not be used when value is a json string","body":"value = StringUtils.substringBetween(value, &quot;{&quot;, &quot;}&quot;); Should not be used when value is a json string"}],"tags":[],"owner":{"account_id":3225359,"reputation":6722,"user_id":2721865,"accept_rate":100,"display_name":"kai"},"comment_count":5,"down_vote_count":1,"up_vote_count":68,"is_accepted":true,"score":67,"last_activity_date":1594644778,"creation_date":1413892451,"answer_id":26486046,"question_id":26485964,"body_markdown":"This is one solution. If you want to make it more generic, you can use the `StringUtils` library.\r\n\r\n    String value = &quot;{first_name = naresh,last_name = kumar,gender = male}&quot;;\r\n    value = value.substring(1, value.length()-1);\t\t\t//remove curly brackets\r\n    String[] keyValuePairs = value.split(&quot;,&quot;);\t\t\t\t//split the string to creat key-value pairs\r\n    Map&lt;String,String&gt; map = new HashMap&lt;&gt;();\t\t\t\t\r\n    \r\n    for(String pair : keyValuePairs)\t\t\t\t\t\t//iterate over the pairs\r\n    {\r\n    \tString[] entry = pair.split(&quot;=&quot;);\t\t\t\t\t//split the pairs to get key and value \r\n    \tmap.put(entry[0].trim(), entry[1].trim());\t\t\t//add them to the hashmap and trim whitespaces\r\n    }\r\n\r\nFor example you can switch \r\n\r\n     value = value.substring(1, value.length()-1);\r\nto \r\n\r\n     value = StringUtils.substringBetween(value, &quot;{&quot;, &quot;}&quot;);\r\nif you are using `StringUtils` which is contained in `apache.commons.lang` package.","title":"How to convert String into Hashmap in java","body":"<p>This is one solution. If you want to make it more generic, you can use the <code>StringUtils</code> library.</p>\n<pre><code>String value = &quot;{first_name = naresh,last_name = kumar,gender = male}&quot;;\nvalue = value.substring(1, value.length()-1);           //remove curly brackets\nString[] keyValuePairs = value.split(&quot;,&quot;);              //split the string to creat key-value pairs\nMap&lt;String,String&gt; map = new HashMap&lt;&gt;();               \n\nfor(String pair : keyValuePairs)                        //iterate over the pairs\n{\n    String[] entry = pair.split(&quot;=&quot;);                   //split the pairs to get key and value \n    map.put(entry[0].trim(), entry[1].trim());          //add them to the hashmap and trim whitespaces\n}\n</code></pre>\n<p>For example you can switch</p>\n<pre><code> value = value.substring(1, value.length()-1);\n</code></pre>\n<p>to</p>\n<pre><code> value = StringUtils.substringBetween(value, &quot;{&quot;, &quot;}&quot;);\n</code></pre>\n<p>if you are using <code>StringUtils</code> which is contained in <code>apache.commons.lang</code> package.</p>\n"},{"comments":[{"owner":{"account_id":14253116,"reputation":11,"user_id":10296214,"display_name":"Hiren"},"score":0,"creation_date":1535646102,"post_id":52101564,"comment_id":91153925,"body_markdown":"Map toString consider casting map as per requirement this way convert map toString back to Map","body":"Map toString consider casting map as per requirement this way convert map toString back to Map"},{"owner":{"account_id":2158506,"reputation":58333,"user_id":4685471,"display_name":"desertnaut"},"score":3,"creation_date":1535657837,"post_id":52101564,"comment_id":91159557,"body_markdown":"Comments are not for adding this type of clarifications to *own* posts - please add this to your answer, and remove the comment.","body":"Comments are not for adding this type of clarifications to <i>own</i> posts - please add this to your answer, and remove the comment."}],"tags":[],"owner":{"account_id":14253116,"reputation":11,"user_id":10296214,"display_name":"Hiren"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1535646022,"creation_date":1535646022,"answer_id":52101564,"question_id":26485964,"body_markdown":"\t@Test\r\n\tpublic void testToStringToMap() {\r\n\t\tMap&lt;String,String&gt; expected = new HashMap&lt;&gt;();\r\n\t\texpected.put(&quot;first_name&quot;, &quot;naresh&quot;);\r\n\t\texpected.put(&quot;last_name&quot;, &quot;kumar&quot;);\r\n\t\texpected.put(&quot;gender&quot;, &quot;male&quot;);\r\n\t\tString mapString = expected.toString();\r\n\t\tMap&lt;String, String&gt; actual = Arrays.stream(mapString.replace(&quot;{&quot;, &quot;&quot;).replace(&quot;}&quot;, &quot;&quot;).split(&quot;,&quot;))\r\n\t\t\t\t.map(arrayData-&gt; arrayData.split(&quot;=&quot;))\r\n\t\t\t\t.collect(Collectors.toMap(d-&gt; ((String)d[0]).trim(), d-&gt; (String)d[1]));\r\n\t\t\r\n\t\texpected.entrySet().stream().forEach(e-&gt;assertTrue(actual.get(e.getKey()).equals(e.getValue())));\r\n\t}","title":"How to convert String into Hashmap in java","body":"<pre><code>@Test\npublic void testToStringToMap() {\n    Map&lt;String,String&gt; expected = new HashMap&lt;&gt;();\n    expected.put(\"first_name\", \"naresh\");\n    expected.put(\"last_name\", \"kumar\");\n    expected.put(\"gender\", \"male\");\n    String mapString = expected.toString();\n    Map&lt;String, String&gt; actual = Arrays.stream(mapString.replace(\"{\", \"\").replace(\"}\", \"\").split(\",\"))\n            .map(arrayData-&gt; arrayData.split(\"=\"))\n            .collect(Collectors.toMap(d-&gt; ((String)d[0]).trim(), d-&gt; (String)d[1]));\n\n    expected.entrySet().stream().forEach(e-&gt;assertTrue(actual.get(e.getKey()).equals(e.getValue())));\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7730201,"reputation":2017,"user_id":5853611,"display_name":"DobromirM"},"score":1,"creation_date":1556800477,"post_id":55952473,"comment_id":98557024,"body_markdown":"It&#39;s better to add an explanation of your code in order to improve your answer.","body":"It&#39;s better to add an explanation of your code in order to improve your answer."},{"owner":{"account_id":14483720,"reputation":11,"user_id":10462273,"display_name":"suliman alobody"},"score":0,"creation_date":1556906156,"post_id":55952473,"comment_id":98600549,"body_markdown":"I&#39;m bad in explaining &#128517; , but i think it can be recognized","body":"I&#39;m bad in explaining  , but i think it can be recognized"},{"owner":{"account_id":14483720,"reputation":11,"user_id":10462273,"display_name":"suliman alobody"},"score":0,"creation_date":1557110712,"post_id":55952473,"comment_id":98643212,"body_markdown":"Keep in mind you should deal with this type of string -&gt; &quot;{a={a={a=[a,b,c],b=c},c=0}}&quot;","body":"Keep in mind you should deal with this type of string -&gt; &quot;{a={a={a=[a,b,c],b=c},c=0}}&quot;"}],"tags":[],"owner":{"account_id":14483720,"reputation":11,"user_id":10462273,"display_name":"suliman alobody"},"comment_count":3,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1556801366,"creation_date":1556800096,"answer_id":55952473,"question_id":26485964,"body_markdown":"try this out :)\r\n\r\n\r\n    public static HashMap HashMapFrom(String s){\r\n        HashMap base = new HashMap(); //result\r\n        int dismiss = 0; //dismiss tracker\r\n        StringBuilder tmpVal = new StringBuilder(); //each val holder\r\n        StringBuilder tmpKey = new StringBuilder(); //each key holder\r\n\r\n        for (String next:s.split(&quot;&quot;)){ //each of vale\r\n            if(dismiss==0){ //if not writing value\r\n                if (next.equals(&quot;=&quot;)) //start writing value\r\n                    dismiss=1; //update tracker\r\n                else\r\n                    tmpKey.append(next); //writing key\r\n            } else {\r\n                if (next.equals(&quot;{&quot;)) //if it&#39;s value so need to dismiss\r\n                    dismiss++;\r\n                else if (next.equals(&quot;}&quot;)) //value closed so need to focus\r\n                    dismiss--;\r\n                else if (next.equals(&quot;,&quot;) //declaration ends\r\n                        &amp;&amp; dismiss==1) {\r\n                    //by the way you have to create something to correct the type\r\n                    Object ObjVal = object.valueOf(tmpVal.toString()); //correct the type of object\r\n                    base.put(tmpKey.toString(),ObjVal);//declaring\r\n                    tmpKey = new StringBuilder();\r\n                    tmpVal = new StringBuilder();\r\n                    dismiss--;\r\n                    continue; //next :)\r\n                }\r\n                tmpVal.append(next); //writing value\r\n            }\r\n        }\r\n        Object objVal = object.valueOf(tmpVal.toString()); //same as here\r\n        base.put(tmpKey.toString(), objVal); //leftovers\r\n        return base;\r\n    }\r\n\r\n\r\nexamples\r\ninput : &quot;a=0,b={a=1},c={ew={qw=2}},0=a&quot;\r\noutput : {0=a,a=0,b={a=1},c={ew={qw=2}}}","title":"How to convert String into Hashmap in java","body":"<p>try this out :)</p>\n\n<pre><code>public static HashMap HashMapFrom(String s){\n    HashMap base = new HashMap(); //result\n    int dismiss = 0; //dismiss tracker\n    StringBuilder tmpVal = new StringBuilder(); //each val holder\n    StringBuilder tmpKey = new StringBuilder(); //each key holder\n\n    for (String next:s.split(\"\")){ //each of vale\n        if(dismiss==0){ //if not writing value\n            if (next.equals(\"=\")) //start writing value\n                dismiss=1; //update tracker\n            else\n                tmpKey.append(next); //writing key\n        } else {\n            if (next.equals(\"{\")) //if it's value so need to dismiss\n                dismiss++;\n            else if (next.equals(\"}\")) //value closed so need to focus\n                dismiss--;\n            else if (next.equals(\",\") //declaration ends\n                    &amp;&amp; dismiss==1) {\n                //by the way you have to create something to correct the type\n                Object ObjVal = object.valueOf(tmpVal.toString()); //correct the type of object\n                base.put(tmpKey.toString(),ObjVal);//declaring\n                tmpKey = new StringBuilder();\n                tmpVal = new StringBuilder();\n                dismiss--;\n                continue; //next :)\n            }\n            tmpVal.append(next); //writing value\n        }\n    }\n    Object objVal = object.valueOf(tmpVal.toString()); //same as here\n    base.put(tmpKey.toString(), objVal); //leftovers\n    return base;\n}\n</code></pre>\n\n<p>examples\ninput : \"a=0,b={a=1},c={ew={qw=2}},0=a\"\noutput : {0=a,a=0,b={a=1},c={ew={qw=2}}}</p>\n"},{"tags":[],"owner":{"account_id":2864238,"reputation":10897,"user_id":2458858,"accept_rate":85,"display_name":"tryingToLearn"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1680005258,"creation_date":1562576225,"answer_id":56931476,"question_id":26485964,"body_markdown":"In a single line you can convert any type of object to any other type of object.\r\n---------------------------------------------------------------\r\n\r\n(Since I use [Gson][1] quite liberally, I am sharing a Gson based approach)\r\n\r\n    Gson gson = new Gson();    \r\n    Map&lt;Object,Object&gt; attributes = gson.fromJson(gson.toJson(value),Map.class);\r\n\r\nWhat it does is:\r\n\r\n1. `gson.toJson(value)` will serialize your object into its equivalent Json representation.\r\n2. ` gson.fromJson` will convert the Json string to specified object. (in this example - `Map`)\r\n\r\n\r\nThere are 2 advantages with this approach:\r\n1. The flexibility to pass any Object instead of String to  `toJson` method.\r\n2. You can use this single line to convert to any object even your own declared objects.\r\n\r\n\r\n  [1]: https://github.com/google/gson","title":"How to convert String into Hashmap in java","body":"<h2>In a single line you can convert any type of object to any other type of object.</h2>\n<p>(Since I use <a href=\"https://github.com/google/gson\" rel=\"nofollow noreferrer\">Gson</a> quite liberally, I am sharing a Gson based approach)</p>\n<pre><code>Gson gson = new Gson();    \nMap&lt;Object,Object&gt; attributes = gson.fromJson(gson.toJson(value),Map.class);\n</code></pre>\n<p>What it does is:</p>\n<ol>\n<li><code>gson.toJson(value)</code> will serialize your object into its equivalent Json representation.</li>\n<li><code> gson.fromJson</code> will convert the Json string to specified object. (in this example - <code>Map</code>)</li>\n</ol>\n<p>There are 2 advantages with this approach:</p>\n<ol>\n<li>The flexibility to pass any Object instead of String to  <code>toJson</code> method.</li>\n<li>You can use this single line to convert to any object even your own declared objects.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":16652541,"reputation":21,"user_id":12034969,"display_name":"Manish Jangid"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1599792824,"creation_date":1599792824,"answer_id":63840185,"question_id":26485964,"body_markdown":"Should Use this way to convert into map :\r\n\r\n        String student[] = students.split(&quot;\\\\{|}&quot;);\r\n        String id_name[] = student[1].split(&quot;,&quot;);\r\n\r\n        Map&lt;String,String&gt; studentIdName = new HashMap&lt;&gt;();\r\n\r\n        for (String std: id_name) {\r\n            String str[] = std.split(&quot;=&quot;);\r\n            studentIdName.put(str[0],str[1]);\r\n      }","title":"How to convert String into Hashmap in java","body":"<p>Should Use this way to convert into map :</p>\n<pre><code>    String student[] = students.split(&quot;\\\\{|}&quot;);\n    String id_name[] = student[1].split(&quot;,&quot;);\n\n    Map&lt;String,String&gt; studentIdName = new HashMap&lt;&gt;();\n\n    for (String std: id_name) {\n        String str[] = std.split(&quot;=&quot;);\n        studentIdName.put(str[0],str[1]);\n  }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3260426,"reputation":11579,"user_id":2746110,"accept_rate":67,"display_name":"Arefe"},"score":0,"creation_date":1670584873,"post_id":71856087,"comment_id":131913189,"body_markdown":"can you provide an example how this works?","body":"can you provide an example how this works?"}],"tags":[],"owner":{"account_id":15965484,"reputation":11,"user_id":11521291,"display_name":"Shaid Hussain"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1649847998,"creation_date":1649846341,"answer_id":71856087,"question_id":26485964,"body_markdown":"    You can use below library to convert any string to Map object.\r\n\r\n    \r\n    &lt;!-- https://mvnrepository.com/artifact/io.github.githubshah/gsonExtension --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;io.github.githubshah&lt;/groupId&gt;\r\n        &lt;artifactId&gt;gsonExtension&lt;/artifactId&gt;\r\n        &lt;version&gt;4.1.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"How to convert String into Hashmap in java","body":"<pre><code>You can use below library to convert any string to Map object.\n\n\n&lt;!-- https://mvnrepository.com/artifact/io.github.githubshah/gsonExtension --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;io.github.githubshah&lt;/groupId&gt;\n    &lt;artifactId&gt;gsonExtension&lt;/artifactId&gt;\n    &lt;version&gt;4.1.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7529235,"reputation":1142,"user_id":5718106,"display_name":"Sibin Muhammed"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651975969,"creation_date":1651975969,"answer_id":72157615,"question_id":26485964,"body_markdown":"Using Java Stream:\r\n\r\n    Map&lt;String, String&gt; map = Arrays.stream(value.replaceAll(&quot;[{}]&quot;, &quot; &quot;).split(&quot;,&quot;))\r\n    \t\t\t\t.map(s -&gt; s.split(&quot;=&quot;, 2))\r\n    \t\t\t\t.collect(Collectors.toMap(s -&gt; s[0].trim(), s -&gt; s[1].trim()));\r\n\r\n1. `Arrays.stream()` to convert string array to stream.\r\n2. `replaceAll(&quot;[{}]&quot;, &quot; &quot;):` regex version to replace both braces.\r\n3. `split(&quot;,&quot;):` Split the string by , to get individual map entries.\r\n4. `s.split(&quot;=&quot;, 2):` Split them by = to get the key and the value and ensure that the array is never larger than two elements.\r\n5. The `collect()` method in Stream API collects all objects from a stream object and stored in the type of collection.\r\n6. `Collectors.toMap(s -&gt; s[0].trim(), s -&gt; s[1].trim()):` Accumulates elements into a Map whose keys and values are the result of applying the provided mapping functions to the input elements.\r\n","title":"How to convert String into Hashmap in java","body":"<p>Using Java Stream:</p>\n<pre><code>Map&lt;String, String&gt; map = Arrays.stream(value.replaceAll(&quot;[{}]&quot;, &quot; &quot;).split(&quot;,&quot;))\n                .map(s -&gt; s.split(&quot;=&quot;, 2))\n                .collect(Collectors.toMap(s -&gt; s[0].trim(), s -&gt; s[1].trim()));\n</code></pre>\n<ol>\n<li><code>Arrays.stream()</code> to convert string array to stream.</li>\n<li><code>replaceAll(&quot;[{}]&quot;, &quot; &quot;):</code> regex version to replace both braces.</li>\n<li><code>split(&quot;,&quot;):</code> Split the string by , to get individual map entries.</li>\n<li><code>s.split(&quot;=&quot;, 2):</code> Split them by = to get the key and the value and ensure that the array is never larger than two elements.</li>\n<li>The <code>collect()</code> method in Stream API collects all objects from a stream object and stored in the type of collection.</li>\n<li><code>Collectors.toMap(s -&gt; s[0].trim(), s -&gt; s[1].trim()):</code> Accumulates elements into a Map whose keys and values are the result of applying the provided mapping functions to the input elements.</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":12595678,"reputation":412,"user_id":9160410,"display_name":"Godwin"},"score":0,"creation_date":1693085435,"post_id":75770659,"comment_id":135714261,"body_markdown":"This converts the data to bytes","body":"This converts the data to bytes"}],"tags":[],"owner":{"account_id":15883816,"reputation":63,"user_id":11579483,"display_name":"Mike Packer"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679075204,"creation_date":1679075204,"answer_id":75770659,"question_id":26485964,"body_markdown":"Suprised noone has mentioned just using JSONObject(org.json.JSONObject)\r\n\r\n```\r\n\t\tJSONObject json = new JSONObject(mapStr);\r\n\t\tMap&lt;String,Object&gt; map = json.toMap();\r\n```\r\n\r\nFar better than writing your own parser?","title":"How to convert String into Hashmap in java","body":"<p>Suprised noone has mentioned just using JSONObject(org.json.JSONObject)</p>\n<pre><code>        JSONObject json = new JSONObject(mapStr);\n        Map&lt;String,Object&gt; map = json.toMap();\n</code></pre>\n<p>Far better than writing your own parser?</p>\n"}],"owner":{"account_id":5172494,"reputation":1069,"user_id":4140583,"accept_rate":75,"display_name":"Naresh kumar"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":164885,"favorite_count":0,"down_vote_count":4,"up_vote_count":37,"accepted_answer_id":26486046,"answer_count":9,"score":33,"last_activity_date":1680005258,"creation_date":1413892142,"question_id":26485964,"body_markdown":"How can I convert a `String` into a `HashMap`?\r\n\r\n```java\r\nString value = &quot;{first_name = naresh, last_name = kumar, gender = male}&quot;\r\n```\r\n\r\ninto\r\n\r\n```java\r\nMap&lt;Object, Object&gt; = {\r\n    first_name = naresh,\r\n    last_name = kumar,\r\n    gender = male\r\n}\r\n```\r\nWhere the keys are `first_name`, `last_name` and `gender` and the values are `naresh`, `kumar`, `male`.\r\n\r\n**Note:** Keys can be any thing like `city = hyderabad`.\r\n \r\nI am looking for a generic approach.","title":"How to convert String into Hashmap in java","body":"<p>How can I convert a <code>String</code> into a <code>HashMap</code>?</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>String value = \"{first_name = naresh, last_name = kumar, gender = male}\"\n</code></pre>\n\n<p>into</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;Object, Object&gt; = {\n    first_name = naresh,\n    last_name = kumar,\n    gender = male\n}\n</code></pre>\n\n<p>Where the keys are <code>first_name</code>, <code>last_name</code> and <code>gender</code> and the values are <code>naresh</code>, <code>kumar</code>, <code>male</code>.</p>\n\n<p><strong>Note:</strong> Keys can be any thing like <code>city = hyderabad</code>.</p>\n\n<p>I am looking for a generic approach.</p>\n"},{"tags":["java","launch4j"],"comments":[{"owner":{"account_id":79971,"reputation":1740,"user_id":226449,"display_name":"Matthijs Bierman"},"score":0,"creation_date":1361829344,"post_id":15077025,"comment_id":21204641,"body_markdown":"Maybe http://commons.apache.org/daemon/index.html can help?","body":"Maybe <a href=\"http://commons.apache.org/daemon/index.html\" rel=\"nofollow noreferrer\">commons.apache.org/daemon/index.html</a> can help?"},{"owner":{"account_id":22194,"reputation":18092,"user_id":54506,"accept_rate":78,"display_name":"Jayan"},"score":0,"creation_date":1411484536,"post_id":15077025,"comment_id":40714636,"body_markdown":"related to http://stackoverflow.com/questions/68113/how-to-create-a-windows-service-from-java-app?","body":"related to <a href=\"http://stackoverflow.com/questions/68113/how-to-create-a-windows-service-from-java-app\" title=\"how to create a windows service from java app\">stackoverflow.com/questions/68113/&hellip;</a>?"}],"answers":[{"tags":[],"owner":{"account_id":4436791,"reputation":860,"user_id":3612435,"accept_rate":71,"display_name":"Danielle"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1411484011,"creation_date":1411484011,"answer_id":25998262,"question_id":15077025,"body_markdown":"In this comparison it looks like &quot;Run as Windows Service&quot; can&#39;t be done with launch4j:\r\nhttp://yajsw.sourceforge.net/#mozTocId284533\r\n\r\nYou can do it with other programs like: Java Service Wrapper, Apache Commons Daemon...","title":"How to create a windows service with launch4j?","body":"<p>In this comparison it looks like \"Run as Windows Service\" can't be done with launch4j:\n<a href=\"http://yajsw.sourceforge.net/#mozTocId284533\" rel=\"nofollow\">http://yajsw.sourceforge.net/#mozTocId284533</a></p>\n\n<p>You can do it with other programs like: Java Service Wrapper, Apache Commons Daemon...</p>\n"},{"tags":[],"owner":{"account_id":5370821,"reputation":1622,"user_id":4279419,"accept_rate":85,"display_name":"Poliakoff"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680005075,"creation_date":1680004617,"answer_id":75865957,"question_id":15077025,"body_markdown":"Java JAR executable can be converted to the exe file (for instance, with [launch4j][1]). Exe file can be launched as a windows service \r\n\r\n    sc create My new service bin path= D:\\FinalProduct\\finalProduct.exe start= auto\r\n\r\n[Additional][2] [information][3]\r\n\r\n\r\n  [1]: https://launch4j.sourceforge.net/\r\n  [2]: https://medium.com/@parkavi113/java-program-as-windows-service-ea2a90ee4d5f\r\n  [3]: https://techblog.bozho.net/installing-java-application-as-a-windows-service/","title":"How to create a windows service with launch4j?","body":"<p>Java JAR executable can be converted to the exe file (for instance, with <a href=\"https://launch4j.sourceforge.net/\" rel=\"nofollow noreferrer\">launch4j</a>). Exe file can be launched as a windows service</p>\n<pre><code>sc create My new service bin path= D:\\FinalProduct\\finalProduct.exe start= auto\n</code></pre>\n<p><a href=\"https://medium.com/@parkavi113/java-program-as-windows-service-ea2a90ee4d5f\" rel=\"nofollow noreferrer\">Additional</a> <a href=\"https://techblog.bozho.net/installing-java-application-as-a-windows-service/\" rel=\"nofollow noreferrer\">information</a></p>\n"}],"owner":{"account_id":14460,"reputation":1610,"user_id":29770,"accept_rate":73,"display_name":"Cesar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4006,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1680005075,"creation_date":1361828470,"question_id":15077025,"body_markdown":"I am creating and executable of a java app with launch4j. How can i configure it to be loaded as a windows service?\r\n\r\nWith [Jsmooth][1] i can set the wrapper but i dont know if this can be done in launch4j\r\n\r\n\r\n  [1]: http://jsmooth.sourceforge.net/","title":"How to create a windows service with launch4j?","body":"<p>I am creating and executable of a java app with launch4j. How can i configure it to be loaded as a windows service?</p>\n\n<p>With <a href=\"http://jsmooth.sourceforge.net/\" rel=\"nofollow\">Jsmooth</a> i can set the wrapper but i dont know if this can be done in launch4j</p>\n"},{"tags":["java","python","regex"],"comments":[{"owner":{"account_id":3614,"reputation":21675,"user_id":5222,"accept_rate":83,"display_name":"Nick"},"score":0,"creation_date":1599452723,"post_id":63762660,"comment_id":112768741,"body_markdown":"Crazy that you asked this today, I have the exact same need. I have a Python script that issues queries to Amazon Athena/Presto, which uses Java-style regular expressions.  I&#39;d like to validate the expressions before sending them to Athena.","body":"Crazy that you asked this today, I have the exact same need. I have a Python script that issues queries to Amazon Athena/Presto, which uses Java-style regular expressions.  I&#39;d like to validate the expressions before sending them to Athena."},{"owner":{"account_id":15525072,"reputation":161,"user_id":11200136,"display_name":"MJ Tsai"},"score":0,"creation_date":1599539938,"post_id":63762660,"comment_id":112796270,"body_markdown":"Do you have a solution so far? Would be great if you can upvote the question and hope someone experienced to see this","body":"Do you have a solution so far? Would be great if you can upvote the question and hope someone experienced to see this"},{"owner":{"account_id":8571883,"reputation":821,"user_id":6422459,"display_name":"DigitShifter"},"score":0,"creation_date":1599626551,"post_id":63762660,"comment_id":112827460,"body_markdown":"I think you have to write your own converter in Python. Here is regex class patterns for Java: https://docs.oracle.com/javase/10/docs/api/java/util/regex/Pattern.html. Maybe you can implement some kind of lookup table (HashMap) in Pyhon for the converter.","body":"I think you have to write your own converter in Python. Here is regex class patterns for Java: <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/regex/Pattern.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/10/docs/api/java/util/regex/Pattern.h&zwnj;&#8203;tml</a>. Maybe you can implement some kind of lookup table (HashMap) in Pyhon for the converter."},{"owner":{"account_id":3614,"reputation":21675,"user_id":5222,"accept_rate":83,"display_name":"Nick"},"score":0,"creation_date":1599628498,"post_id":63762660,"comment_id":112827905,"body_markdown":"I have no solution. I doubt there is anything easy that is correct short of writing a fully-fledged parser validator, though that may be easier with the right 3P library.  My likely plan is to just use python&#39;s regexp validator, since Python regexps are mostly a subset of what Java supports and just exclude more advanced regexps from being used.","body":"I have no solution. I doubt there is anything easy that is correct short of writing a fully-fledged parser validator, though that may be easier with the right 3P library.  My likely plan is to just use python&#39;s regexp validator, since Python regexps are mostly a subset of what Java supports and just exclude more advanced regexps from being used."}],"answers":[{"tags":[],"owner":{"account_id":19811435,"reputation":1,"user_id":14510137,"display_name":"Aman Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680004852,"creation_date":1680004852,"answer_id":75866004,"question_id":63762660,"body_markdown":"Very late, but I recently encountered this problem. I solved it by using py4j gateway to access `Pattern.compile(regexString)`.\r\n\r\n    from py4j.java_gateway import *\r\n    port = launch_gateway()\r\n    gateway = JavaGateway(\r\n    gateway_parameters=GatewayParameters(port=port), callback_server_parameters=CallbackServerParameters(port=0))\r\n    pattern = gateway.jvm.java.util.Pattern\r\n    regex_string = &quot;\\\\K&quot; # will raise an error\r\n    pattern.compile(regex_string)","title":"How Python validate a regex String for Java?","body":"<p>Very late, but I recently encountered this problem. I solved it by using py4j gateway to access <code>Pattern.compile(regexString)</code>.</p>\n<pre><code>from py4j.java_gateway import *\nport = launch_gateway()\ngateway = JavaGateway(\ngateway_parameters=GatewayParameters(port=port), callback_server_parameters=CallbackServerParameters(port=0))\npattern = gateway.jvm.java.util.Pattern\nregex_string = &quot;\\\\K&quot; # will raise an error\npattern.compile(regex_string)\n</code></pre>\n"}],"owner":{"account_id":15525072,"reputation":161,"user_id":11200136,"display_name":"MJ Tsai"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":280,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1680004852,"creation_date":1599384724,"question_id":63762660,"body_markdown":"In Pyhton can use `re.compile()` to check regex string, and in Java can use `Pattern.compile()`...\r\n\r\nHowever, my use case is that I have two systems, and need Python to check a string whether is a valid regex string for Java. Is there any packages that can check across language, or ways to convert python regex to java regex, or is it even possible to recognize Java regex in the Python world?\r\n\r\nMany thanks","title":"How Python validate a regex String for Java?","body":"<p>In Pyhton can use <code>re.compile()</code> to check regex string, and in Java can use <code>Pattern.compile()</code>...</p>\n<p>However, my use case is that I have two systems, and need Python to check a string whether is a valid regex string for Java. Is there any packages that can check across language, or ways to convert python regex to java regex, or is it even possible to recognize Java regex in the Python world?</p>\n<p>Many thanks</p>\n"},{"tags":["java","android","laravel","retrofit2"],"comments":[{"owner":{"account_id":12924971,"reputation":2766,"user_id":9346054,"accept_rate":100,"display_name":"Ticherhaz FreePalestine"},"score":0,"creation_date":1680004629,"post_id":75865913,"comment_id":133819272,"body_markdown":"Since you are using POST, so you have to create a POST request.","body":"Since you are using POST, so you have to create a POST request."},{"owner":{"account_id":28141849,"reputation":3,"user_id":21504772,"display_name":"Luis Yiao"},"score":0,"creation_date":1680004906,"post_id":75865913,"comment_id":133819357,"body_markdown":"Thank you very much @TicherhazFreePalestine . I have updated my post with the route. Do you mean that? And by the way, do you know how to get the information in my &#39;getDataConfiguration&#39; function? Because I have no clue how it can be. And thank you again for your answer.","body":"Thank you very much @TicherhazFreePalestine . I have updated my post with the route. Do you mean that? And by the way, do you know how to get the information in my &#39;getDataConfiguration&#39; function? Because I have no clue how it can be. And thank you again for your answer."},{"owner":{"account_id":12924971,"reputation":2766,"user_id":9346054,"accept_rate":100,"display_name":"Ticherhaz FreePalestine"},"score":0,"creation_date":1680046778,"post_id":75865913,"comment_id":133829509,"body_markdown":"Is it working now? I feel like good to go","body":"Is it working now? I feel like good to go"},{"owner":{"account_id":28141849,"reputation":3,"user_id":21504772,"display_name":"Luis Yiao"},"score":0,"creation_date":1680070232,"post_id":75865913,"comment_id":133832374,"body_markdown":"No, I&#180;m sorry, @TicherhazFreePalestine. I don&#180;t know why but when I do the post, I don&#180;t get a successful response","body":"No, I&#180;m sorry, @TicherhazFreePalestine. I don&#180;t know why but when I do the post, I don&#180;t get a successful response"}],"owner":{"account_id":28141849,"reputation":3,"user_id":21504772,"display_name":"Luis Yiao"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680004750,"creation_date":1680004384,"question_id":75865913,"body_markdown":"I have a laravel web page and an android app. Im using retrofit2 to make both sites communicate. I know how to get data in my app from the web page. I do it like this:\r\nI have a &quot;Data&quot; model I have gotten from jsonschema2pojo. In my activity I fill that &quot;Data&quot; object but when it comes the point of sending that information I don&#180;t know exactly what to do. \r\nI have my ApiService like this:\r\n\r\n \r\n```\r\n@POST(&quot;api/data/configuration&quot;)\r\n Call&lt;Data&gt; postConfigurationData(@Body Data datos);\r\n```\r\n\r\nAnd in my activity I send the &quot;Data&quot; object like this:\r\n```\r\nCall&lt;Data&gt; dataCall=service.postConfigurationData(datosNuevos);\r\n```\r\n&quot;datosNuevos&quot; is my &quot;Data&quot; object by the way.\r\n\r\nDo I have to create the same route: &quot;api/data/configuration&quot; in my controller in my laravel webPage? In that case, would it be a get request?\r\nThank you.\r\n\r\nEDIT\r\n\r\n    Route::post(&quot;data/configuration&quot;,[ConfigurationController::class,&#39;getDataConfiguration&#39;])-&gt;name(&#39;configurations.getDataConfiguration&#39;);\r\n\r\n","title":"Not knowing exactly what to do while sending data from android app to laravel webpage using retrofit2","body":"<p>I have a laravel web page and an android app. Im using retrofit2 to make both sites communicate. I know how to get data in my app from the web page. I do it like this:\nI have a &quot;Data&quot; model I have gotten from jsonschema2pojo. In my activity I fill that &quot;Data&quot; object but when it comes the point of sending that information I dont know exactly what to do.\nI have my ApiService like this:</p>\n<pre><code>@POST(&quot;api/data/configuration&quot;)\n Call&lt;Data&gt; postConfigurationData(@Body Data datos);\n</code></pre>\n<p>And in my activity I send the &quot;Data&quot; object like this:</p>\n<pre><code>Call&lt;Data&gt; dataCall=service.postConfigurationData(datosNuevos);\n</code></pre>\n<p>&quot;datosNuevos&quot; is my &quot;Data&quot; object by the way.</p>\n<p>Do I have to create the same route: &quot;api/data/configuration&quot; in my controller in my laravel webPage? In that case, would it be a get request?\nThank you.</p>\n<p>EDIT</p>\n<pre><code>Route::post(&quot;data/configuration&quot;,[ConfigurationController::class,'getDataConfiguration'])-&gt;name('configurations.getDataConfiguration');\n</code></pre>\n"},{"tags":["java","arrays","indexof"],"comments":[{"owner":{"account_id":6074897,"reputation":2892,"user_id":4742570,"display_name":"jsheeran"},"score":0,"creation_date":1679999382,"post_id":75865052,"comment_id":133817860,"body_markdown":"There is no `indexOf()` method of class `Object`. Have you defined one in `Task`?","body":"There is no <code>indexOf()</code> method of class <code>Object</code>. Have you defined one in <code>Task</code>?"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1679999384,"post_id":75865052,"comment_id":133817861,"body_markdown":"`t` is a `Task`, not a `List`, it doesn&#39;t seem to have a `indexOf` method. Either use a classic loop and return the index or implement the `equals` method for `Task` and use streams with `findFirst`","body":"<code>t</code> is a <code>Task</code>, not a <code>List</code>, it doesn&#39;t seem to have a <code>indexOf</code> method. Either use a classic loop and return the index or implement the <code>equals</code> method for <code>Task</code> and use streams with <code>findFirst</code>"},{"owner":{"account_id":13676551,"reputation":71,"user_id":11647767,"display_name":"Gulammustufa Momin"},"score":0,"creation_date":1679999811,"post_id":75865052,"comment_id":133817957,"body_markdown":"As per your, the return statement should be like this. ```return t.getTaskID().indexOf(tID); ```","body":"As per your, the return statement should be like this. <code>return t.getTaskID().indexOf(tID); </code>"}],"owner":{"account_id":25100879,"reputation":1,"user_id":21508914,"display_name":"Barbara Riga"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1680067229,"answer_count":0,"score":0,"last_activity_date":1680004731,"creation_date":1679999034,"question_id":75865052,"body_markdown":"```\r\nprivate int findTaskById(String tID) {\r\n\r\n  for(Task t: this.projectTasks) {\r\n    if(t!=null &amp;&amp; t.getTaskID().equals(tID) ) {\r\n      return t.indexOf(tID); \r\n    }\r\n}\r\n```\r\n\r\nI&#39;m searching for the taskID in an array of projectTasks and I want to return its index, meaning the position it has in the array and I saw online I can use the object.indexOf(String type) method. It cannot recognise the indexOf(String type) in my program. Obviously, I&#39;m doing something very wrong. Any ideas?","title":"Confused using indexOf(array type , String type)","body":"<pre><code>private int findTaskById(String tID) {\n\n  for(Task t: this.projectTasks) {\n    if(t!=null &amp;&amp; t.getTaskID().equals(tID) ) {\n      return t.indexOf(tID); \n    }\n}\n</code></pre>\n<p>I'm searching for the taskID in an array of projectTasks and I want to return its index, meaning the position it has in the array and I saw online I can use the object.indexOf(String type) method. It cannot recognise the indexOf(String type) in my program. Obviously, I'm doing something very wrong. Any ideas?</p>\n"},{"tags":["java","authorization","jgit"],"comments":[{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":0,"creation_date":1680003966,"post_id":75865791,"comment_id":133819052,"body_markdown":"If you are using github&#39;s user&#39;s password note that password authentication is been shutdown you need toe use token based authentication for HTTP. https://github.blog/2020-12-15-token-authentication-requirements-for-git-operations/#what-you-need-to-do-today","body":"If you are using github&#39;s user&#39;s password note that password authentication is been shutdown you need toe use token based authentication for HTTP. <a href=\"https://github.blog/2020-12-15-token-authentication-requirements-for-git-operations/#what-you-need-to-do-today\" rel=\"nofollow noreferrer\">github.blog/&hellip;</a>"},{"owner":{"account_id":22903011,"reputation":105,"user_id":17041460,"display_name":"Thend"},"score":0,"creation_date":1680004236,"post_id":75865791,"comment_id":133819155,"body_markdown":"Hi @seenukarthi do you know after I generate the token, how can I use it with JGit?","body":"Hi @seenukarthi do you know after I generate the token, how can I use it with JGit?"}],"answers":[{"comments":[{"owner":{"account_id":22903011,"reputation":105,"user_id":17041460,"display_name":"Thend"},"score":0,"creation_date":1680005107,"post_id":75865953,"comment_id":133819422,"body_markdown":"Do you know why tokens better than pass and username? How is it more secure?","body":"Do you know why tokens better than pass and username? How is it more secure?"},{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":1,"creation_date":1680005208,"post_id":75865953,"comment_id":133819448,"body_markdown":"https://github.blog/2020-07-30-token-authentication-requirements-for-api-and-git-operations/#background check this fro benefits of token-based authentication","body":"<a href=\"https://github.blog/2020-07-30-token-authentication-requirements-for-api-and-git-operations/#background\" rel=\"nofollow noreferrer\">github.blog/&hellip;</a> check this fro benefits of token-based authentication"}],"tags":[],"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680004602,"creation_date":1680004602,"answer_id":75865953,"question_id":75865791,"body_markdown":"Since GitHub requires token-based authentication for all git operations using HTTP/HTTPS. \r\n\r\nGenerate a token and use it as below.\r\n\r\n```java\r\nCloneCommand cloneCommand = Git.cloneRepository();\r\ncloneCommand.setURI( &quot;https://github.com/xxx/testing.git&quot; );\r\ncloneCommand.setCredentialsProvider( new UsernamePasswordCredentialsProvider( &quot;&lt;token&gt;&quot;, &quot;&quot; ) );\r\ncloneCommand.setDirectory(new File(&quot;C:\\\\Users\\\\xxx\\\\Desktop\\\\clone&quot;));\r\ncloneCommand.call();\r\n\r\n```\r\n\r\nLeave the password as blank and instead of username use the token.","title":"JGit cannot clone Github repository","body":"<p>Since GitHub requires token-based authentication for all git operations using HTTP/HTTPS.</p>\n<p>Generate a token and use it as below.</p>\n<pre class=\"lang-java prettyprint-override\"><code>CloneCommand cloneCommand = Git.cloneRepository();\ncloneCommand.setURI( &quot;https://github.com/xxx/testing.git&quot; );\ncloneCommand.setCredentialsProvider( new UsernamePasswordCredentialsProvider( &quot;&lt;token&gt;&quot;, &quot;&quot; ) );\ncloneCommand.setDirectory(new File(&quot;C:\\\\Users\\\\xxx\\\\Desktop\\\\clone&quot;));\ncloneCommand.call();\n\n</code></pre>\n<p>Leave the password as blank and instead of username use the token.</p>\n"}],"owner":{"account_id":22903011,"reputation":105,"user_id":17041460,"display_name":"Thend"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":289,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75865953,"answer_count":1,"score":0,"last_activity_date":1680004602,"creation_date":1680003665,"question_id":75865791,"body_markdown":"I&#39;m trying to clone a private Github project, using JGit, as follows:\r\n\r\n    CloneCommand cloneCommand = Git.cloneRepository();\r\n    cloneCommand.setURI( &quot;https://github.com/xxx/testing.git&quot; );\r\n    cloneCommand.setCredentialsProvider( new UsernamePasswordCredentialsProvider( &quot;username&quot;, &quot;password&quot; ) );\r\n    cloneCommand.setDirectory(new File(&quot;C:\\\\Users\\\\xxx\\\\Desktop\\\\clone&quot;));\r\n    cloneCommand.call();\r\n\r\nI always got denied with the following exception:\r\n\r\n    Exception in thread &quot;main&quot; org.eclipse.jgit.api.errors.TransportException: https://github.com/xxx/testing.git: not authorized\r\n    \tat org.eclipse.jgit.api.FetchCommand.call(FetchCommand.java:249)\r\n    \tat org.eclipse.jgit.api.CloneCommand.fetch(CloneCommand.java:325)\r\n    \tat org.eclipse.jgit.api.CloneCommand.call(CloneCommand.java:191)\r\n    \tat org.example.Main.main(Main.java:45)\r\n    Caused by: org.eclipse.jgit.errors.TransportException: https://github.com/xxx/testing.git: not authorized\r\n    \tat org.eclipse.jgit.transport.TransportHttp.connect(TransportHttp.java:685)\r\n    \tat org.eclipse.jgit.transport.TransportHttp.openFetch(TransportHttp.java:465)\r\n    \tat org.eclipse.jgit.transport.FetchProcess.executeImp(FetchProcess.java:153)\r\n    \tat org.eclipse.jgit.transport.FetchProcess.execute(FetchProcess.java:105)\r\n    \tat org.eclipse.jgit.transport.Transport.fetch(Transport.java:1462)\r\n    \tat org.eclipse.jgit.api.FetchCommand.call(FetchCommand.java:238)\r\n    \t... 3 more\r\n\r\nDo you have any idea why?","title":"JGit cannot clone Github repository","body":"<p>I'm trying to clone a private Github project, using JGit, as follows:</p>\n<pre><code>CloneCommand cloneCommand = Git.cloneRepository();\ncloneCommand.setURI( &quot;https://github.com/xxx/testing.git&quot; );\ncloneCommand.setCredentialsProvider( new UsernamePasswordCredentialsProvider( &quot;username&quot;, &quot;password&quot; ) );\ncloneCommand.setDirectory(new File(&quot;C:\\\\Users\\\\xxx\\\\Desktop\\\\clone&quot;));\ncloneCommand.call();\n</code></pre>\n<p>I always got denied with the following exception:</p>\n<pre><code>Exception in thread &quot;main&quot; org.eclipse.jgit.api.errors.TransportException: https://github.com/xxx/testing.git: not authorized\n    at org.eclipse.jgit.api.FetchCommand.call(FetchCommand.java:249)\n    at org.eclipse.jgit.api.CloneCommand.fetch(CloneCommand.java:325)\n    at org.eclipse.jgit.api.CloneCommand.call(CloneCommand.java:191)\n    at org.example.Main.main(Main.java:45)\nCaused by: org.eclipse.jgit.errors.TransportException: https://github.com/xxx/testing.git: not authorized\n    at org.eclipse.jgit.transport.TransportHttp.connect(TransportHttp.java:685)\n    at org.eclipse.jgit.transport.TransportHttp.openFetch(TransportHttp.java:465)\n    at org.eclipse.jgit.transport.FetchProcess.executeImp(FetchProcess.java:153)\n    at org.eclipse.jgit.transport.FetchProcess.execute(FetchProcess.java:105)\n    at org.eclipse.jgit.transport.Transport.fetch(Transport.java:1462)\n    at org.eclipse.jgit.api.FetchCommand.call(FetchCommand.java:238)\n    ... 3 more\n</code></pre>\n<p>Do you have any idea why?</p>\n"},{"tags":["java","syntax"],"comments":[{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":3,"creation_date":1533065921,"post_id":51620836,"comment_id":90207174,"body_markdown":"Java doesn&#39;t have anything like tuple unpacking. But you can do that in one statement, though (not particularly helpful): `int a = list.get(0), b = list.get(1), c = list.get(2);`","body":"Java doesn&#39;t have anything like tuple unpacking. But you can do that in one statement, though (not particularly helpful): <code>int a = list.get(0), b = list.get(1), c = list.get(2);</code>"},{"owner":{"account_id":8095174,"reputation":983,"user_id":6099993,"accept_rate":71,"display_name":"NAMS"},"score":0,"creation_date":1533066489,"post_id":51620836,"comment_id":90207438,"body_markdown":"What ernest_k said is about as good as it gets with Java, I think, unless you wrote a method that emulates this functionality.","body":"What ernest_k said is about as good as it gets with Java, I think, unless you wrote a method that emulates this functionality."},{"owner":{"account_id":14005236,"reputation":187,"user_id":10115600,"display_name":"lord_hokage"},"score":0,"creation_date":1533066510,"post_id":51620836,"comment_id":90207451,"body_markdown":"You can create own functional interface &#39;populate&#39; for example, pass to there result and array, populate somehow, as you wish)","body":"You can create own functional interface &#39;populate&#39; for example, pass to there result and array, populate somehow, as you wish)"},{"owner":{"account_id":4281607,"reputation":2069,"user_id":3501345,"accept_rate":80,"display_name":"user43968"},"score":0,"creation_date":1533067520,"post_id":51620836,"comment_id":90207951,"body_markdown":"Possible duplicate of [Initialization of an ArrayList in one line](https://stackoverflow.com/questions/1005073/initialization-of-an-arraylist-in-one-line)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/1005073/initialization-of-an-arraylist-in-one-line\">Initialization of an ArrayList in one line</a>"},{"owner":{"account_id":2660036,"reputation":2370,"user_id":2299958,"accept_rate":55,"display_name":"John Arrowwood"},"score":0,"creation_date":1533133565,"post_id":51620836,"comment_id":90235954,"body_markdown":"Good to know that it wasn&#39;t just my own inability to find it, that it really doesn&#39;t exist.  Thanks.","body":"Good to know that it wasn&#39;t just my own inability to find it, that it really doesn&#39;t exist.  Thanks."},{"owner":{"account_id":5342445,"reputation":4817,"user_id":4259032,"accept_rate":56,"display_name":"Alain Cruz"},"score":1,"creation_date":1679154175,"post_id":51620836,"comment_id":133672330,"body_markdown":"@ernest_k well not exactly what I wanted, but much cleaner than adding a line per variable. Good tip.","body":"@ernest_k well not exactly what I wanted, but much cleaner than adding a line per variable. Good tip."}],"answers":[{"tags":[],"owner":{"account_id":20045809,"reputation":11,"user_id":14695503,"display_name":"Dan Tokarchuk"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680003924,"creation_date":1680003924,"answer_id":75865837,"question_id":51620836,"body_markdown":"Can&#39;t leave a comment, but want to say that what @ernest_k posted assigning multiple variables on one line in the comment above is a good catch. My code is much cleaner now, thanks!\r\n\r\n&gt; int a = list.get(0), b = list.get(1), c = list.get(2);\r\n\r\nAlso works with simple arrays and final keyword if anyone is wondering:\r\n\r\n&gt; final String a = array[0], b = array[1], c = array[2];","title":"Can you assign to multiple variables at once from values in an array in Java?","body":"<p>Can't leave a comment, but want to say that what @ernest_k posted assigning multiple variables on one line in the comment above is a good catch. My code is much cleaner now, thanks!</p>\n<blockquote>\n<p>int a = list.get(0), b = list.get(1), c = list.get(2);</p>\n</blockquote>\n<p>Also works with simple arrays and final keyword if anyone is wondering:</p>\n<blockquote>\n<p>final String a = array[0], b = array[1], c = array[2];</p>\n</blockquote>\n"}],"owner":{"account_id":2660036,"reputation":2370,"user_id":2299958,"accept_rate":55,"display_name":"John Arrowwood"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2936,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1680003924,"creation_date":1533065775,"question_id":51620836,"body_markdown":"In Perl, I can say:\r\n\r\n    my @list = ( 1, 2, 3 );\r\n    my ( $a, $b, $c ) = @list;\r\n\r\nIn Java, as far as I can tell, I need to do this:\r\n\r\n    List&lt;Integer&gt; list = { 1, 2, 3 };\r\n    int a = list.get(0);\r\n    int b = list.get(1);\r\n    int c = list.get(2);\r\n\r\nDoes there exist some kind of syntactic sugar that will let me assign all three variables in a single line of code, like Perl?","title":"Can you assign to multiple variables at once from values in an array in Java?","body":"<p>In Perl, I can say:</p>\n\n<pre><code>my @list = ( 1, 2, 3 );\nmy ( $a, $b, $c ) = @list;\n</code></pre>\n\n<p>In Java, as far as I can tell, I need to do this:</p>\n\n<pre><code>List&lt;Integer&gt; list = { 1, 2, 3 };\nint a = list.get(0);\nint b = list.get(1);\nint c = list.get(2);\n</code></pre>\n\n<p>Does there exist some kind of syntactic sugar that will let me assign all three variables in a single line of code, like Perl?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2493093,"reputation":26492,"user_id":2170192,"accept_rate":100,"display_name":"Alex Shesterov"},"score":0,"creation_date":1680003693,"post_id":75865778,"comment_id":133818977,"body_markdown":"Does this answer your question? [How can I solve &quot;java.lang.NoClassDefFoundError&quot;?](https://stackoverflow.com/questions/17973970/how-can-i-solve-java-lang-noclassdeffounderror)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/17973970/how-can-i-solve-java-lang-noclassdeffounderror\">How can I solve &quot;java.lang.NoClassDefFoundError&quot;?</a>"},{"owner":{"account_id":13676551,"reputation":71,"user_id":11647767,"display_name":"Gulammustufa Momin"},"score":1,"creation_date":1680003722,"post_id":75865778,"comment_id":133818986,"body_markdown":"Have you added dependency for that library ?","body":"Have you added dependency for that library ?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1680003806,"post_id":75865778,"comment_id":133819008,"body_markdown":"Use maven to manage your dependencies.","body":"Use maven to manage your dependencies."},{"owner":{"account_id":13160542,"reputation":197,"user_id":9506183,"display_name":"vishnu"},"score":0,"creation_date":1680004086,"post_id":75865778,"comment_id":133819086,"body_markdown":"It is a plain java code. I have added the jar - commons-text-1.10.0","body":"It is a plain java code. I have added the jar - commons-text-1.10.0"}],"owner":{"account_id":13160542,"reputation":197,"user_id":9506183,"display_name":"vishnu"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":222,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680003598,"creation_date":1680003598,"question_id":75865778,"body_markdown":"I&#39;m trying to use StringEscapeUtils.escapeJava() in my code.The StringEscapeUtils is in,\r\n\r\n``` \r\nimport org.apache.commons.text.StringEscapeUtils; \r\n```\r\nBut I&#39;m getting java.lang.ClassNotFoundException exception :\r\n\r\n```\r\nCaused by: java.lang.NoClassDefFoundError: org/apache/commons/lang3/Range\r\n\tat org.apache.commons.text.translate.NumericEntityEscaper.&lt;init&gt;(NumericEntityEscaper.java:97)\r\n\tat org.apache.commons.text.translate.NumericEntityEscaper.between(NumericEntityEscaper.java:59)\r\n\tat org.apache.commons.text.StringEscapeUtils.&lt;clinit&gt;(StringEscapeUtils.java:271)\r\n\tat tesa.frame.ez.EZFacadeFrame.fireAlert(EZFacadeFrame.java:473)\r\n\tat tesa.frame.ez.EZFacadeFrame.runFrameLogic(EZFacadeFrame.java:175)\r\n\tat tesa.frame.Frame.run(Frame.java:186)\r\n\tat tesa.frame.Frame.run(Frame.java:146)\r\n\tat tesa.event.processors.AbstractEventProcessor.runFrame(AbstractEventProcessor.java:942)\r\n\tat tesa.event.processors.EQAlertEventProcessor.runEvent(EQAlertEventProcessor.java:255)\r\n\tat tesa.event.processors.AbstractEventProcessor.runAgenda(AbstractEventProcessor.java:770)\r\n\t... 4 more\r\nCaused by: java.lang.ClassNotFoundException: org.apache.commons.lang3.Range\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:387)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:418)\r\n\tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:355)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:351)\r\n\t... 14 more\r\n\r\n```\r\nPlease help thanks in advance","title":"Getting exception - Caused by: java.lang.NoClassDefFoundError: org/apache/commons/lang3/Range","body":"<p>I'm trying to use StringEscapeUtils.escapeJava() in my code.The StringEscapeUtils is in,</p>\n<pre><code>import org.apache.commons.text.StringEscapeUtils; \n</code></pre>\n<p>But I'm getting java.lang.ClassNotFoundException exception :</p>\n<pre><code>Caused by: java.lang.NoClassDefFoundError: org/apache/commons/lang3/Range\n    at org.apache.commons.text.translate.NumericEntityEscaper.&lt;init&gt;(NumericEntityEscaper.java:97)\n    at org.apache.commons.text.translate.NumericEntityEscaper.between(NumericEntityEscaper.java:59)\n    at org.apache.commons.text.StringEscapeUtils.&lt;clinit&gt;(StringEscapeUtils.java:271)\n    at tesa.frame.ez.EZFacadeFrame.fireAlert(EZFacadeFrame.java:473)\n    at tesa.frame.ez.EZFacadeFrame.runFrameLogic(EZFacadeFrame.java:175)\n    at tesa.frame.Frame.run(Frame.java:186)\n    at tesa.frame.Frame.run(Frame.java:146)\n    at tesa.event.processors.AbstractEventProcessor.runFrame(AbstractEventProcessor.java:942)\n    at tesa.event.processors.EQAlertEventProcessor.runEvent(EQAlertEventProcessor.java:255)\n    at tesa.event.processors.AbstractEventProcessor.runAgenda(AbstractEventProcessor.java:770)\n    ... 4 more\nCaused by: java.lang.ClassNotFoundException: org.apache.commons.lang3.Range\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:387)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:355)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\n    ... 14 more\n\n</code></pre>\n<p>Please help thanks in advance</p>\n"},{"tags":["java","xml","eclipse","eclipselink","marshalling"],"owner":{"account_id":28146473,"reputation":11,"user_id":21508710,"display_name":"NISHA KAMAL"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680003142,"creation_date":1679998462,"question_id":75864953,"body_markdown":"MOXy currently supports matching on one attribute then whats the alternative for checking for more than one attribute matching?\r\nExample :\r\n```\r\n   &lt;...&gt;  \r\n    &lt;MyXML&gt;  \r\n     &lt;Field Name=&quot;MyName&quot; Type=&quot;Female&quot;/&gt;25&lt;/Field&gt;  \r\n     &lt;Field Name=&quot;MyName&quot; Type=&quot;Male&quot;/&gt;54&lt;/Field&gt;  \r\n    &lt;/MyXML&gt;  \r\n   &lt;...&gt;\r\n```\r\n\r\n\r\nAnd I would like to map it into a easy to use java class.\r\n\r\n```\r\n    import javax.xml.bind.annotation.XmlAccessType;  \r\n    import javax.xml.bind.annotation.XmlAccessorType;  \r\n    import javax.xml.bind.annotation.XmlRootElement;  \r\n    import javax.xml.bind.annotation.XmlType;  \r\n\r\n    import org.eclipse.persistence.oxm.annotations.XmlPath;  \r\n\r\n    @XmlRootElement(name=&quot;SearchResult&quot;)  \r\n    @XmlAccessorType(XmlAccessType.FIELD)  \r\n    public class MyXMLElement  \r\n    {  \r\n    @XmlPath(@XmlPath(&quot;/MyXML/Field\\[@Name=&#39;MyName&#39; and @Type=&#39;Female&#39;\\]/text()&quot;)  \r\n    private String myName;  \r\n    }\r\n```\r\n\r\nThe output should be 25 but it giving my null. I tried multiple ways.\r\nI am using EclipseLink 2.6.0 MoXy. JAXBContext for unmarshalling.\r\n\r\nI searched everywhere and I found MOXy supports matching of one attribute, so you unfortunately can&#39;t write \r\n```\r\n@Name=&#39;MyName&#39; and @Type=&#39;Female&#39;.\r\n\r\n```\r\nlink: https://stackoverflow.com/questions/7827305/jaxb-unmarshalling-multiple-elements-with-distinct-attribute-into-separate-fiel\r\n\r\nI need help what/how can you use or write it.\r\n\r\nThe output should be 25 but it giving my null. I tried multiple ways.\r\nI am using EclipseLink 2.6.0 MoXy. JAXBContext for unmarshalling.\r\n\r\nI searched everywhere and I found MOXy supports matching of one attribute, so you unfortunately can&#39;t write @Name=&#39;BillToCode&#39; and @Type=&#39;User&#39;.\r\nlink: [Link](https://stackoverflow.com/questions/7827305/jaxb-unmarshalling-multiple-elements-with-distinct-attribute-into-separate-fiel)\r\n\r\nI need help what/how can you use or write it.","title":"EclipseLink MOXy currently supports matching on one attribute not more than that in condition check","body":"<p>MOXy currently supports matching on one attribute then whats the alternative for checking for more than one attribute matching?\nExample :</p>\n<pre><code>   &lt;...&gt;  \n    &lt;MyXML&gt;  \n     &lt;Field Name=&quot;MyName&quot; Type=&quot;Female&quot;/&gt;25&lt;/Field&gt;  \n     &lt;Field Name=&quot;MyName&quot; Type=&quot;Male&quot;/&gt;54&lt;/Field&gt;  \n    &lt;/MyXML&gt;  \n   &lt;...&gt;\n</code></pre>\n<p>And I would like to map it into a easy to use java class.</p>\n<pre><code>    import javax.xml.bind.annotation.XmlAccessType;  \n    import javax.xml.bind.annotation.XmlAccessorType;  \n    import javax.xml.bind.annotation.XmlRootElement;  \n    import javax.xml.bind.annotation.XmlType;  \n\n    import org.eclipse.persistence.oxm.annotations.XmlPath;  \n\n    @XmlRootElement(name=&quot;SearchResult&quot;)  \n    @XmlAccessorType(XmlAccessType.FIELD)  \n    public class MyXMLElement  \n    {  \n    @XmlPath(@XmlPath(&quot;/MyXML/Field\\[@Name='MyName' and @Type='Female'\\]/text()&quot;)  \n    private String myName;  \n    }\n</code></pre>\n<p>The output should be 25 but it giving my null. I tried multiple ways.\nI am using EclipseLink 2.6.0 MoXy. JAXBContext for unmarshalling.</p>\n<p>I searched everywhere and I found MOXy supports matching of one attribute, so you unfortunately can't write</p>\n<pre><code>@Name='MyName' and @Type='Female'.\n\n</code></pre>\n<p>link: <a href=\"https://stackoverflow.com/questions/7827305/jaxb-unmarshalling-multiple-elements-with-distinct-attribute-into-separate-fiel\">JAXB: Unmarshalling multiple elements with distinct attribute into separate fields within the same java class</a></p>\n<p>I need help what/how can you use or write it.</p>\n<p>The output should be 25 but it giving my null. I tried multiple ways.\nI am using EclipseLink 2.6.0 MoXy. JAXBContext for unmarshalling.</p>\n<p>I searched everywhere and I found MOXy supports matching of one attribute, so you unfortunately can't write @Name='BillToCode' and @Type='User'.\nlink: <a href=\"https://stackoverflow.com/questions/7827305/jaxb-unmarshalling-multiple-elements-with-distinct-attribute-into-separate-fiel\">Link</a></p>\n<p>I need help what/how can you use or write it.</p>\n"},{"tags":["java","xml","weblogic","noclassdeffounderror","opensaml"],"comments":[{"owner":{"account_id":975141,"reputation":2185,"user_id":2968729,"accept_rate":72,"display_name":"anat0lius"},"score":0,"creation_date":1531482876,"post_id":30227152,"comment_id":89624001,"body_markdown":"what was the solution?","body":"what was the solution?"},{"owner":{"account_id":3366368,"reputation":332,"user_id":2826860,"accept_rate":20,"display_name":"Jo&#227;o Gomes"},"score":0,"creation_date":1537978289,"post_id":30227152,"comment_id":91983650,"body_markdown":"@anat0lius I had to remove the libraries","body":"@anat0lius I had to remove the libraries"}],"answers":[{"comments":[{"owner":{"account_id":4523471,"reputation":2597,"user_id":3676005,"accept_rate":87,"display_name":"acostela"},"score":0,"creation_date":1473862134,"post_id":39492461,"comment_id":66302690,"body_markdown":"Can you please add main parts of that documentation here in te answer? If in a future that external link is broken this answer will be wrong. Thanks","body":"Can you please add main parts of that documentation here in te answer? If in a future that external link is broken this answer will be wrong. Thanks"},{"owner":{"account_id":5934699,"reputation":11,"user_id":4668120,"display_name":"Pedroo"},"score":0,"creation_date":1473865603,"post_id":39492461,"comment_id":66305172,"body_markdown":"Yes the main part for this question is :","body":"Yes the main part for this question is :"}],"tags":[],"owner":{"account_id":5934699,"reputation":11,"user_id":4668120,"display_name":"Pedroo"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680002910,"creation_date":1473861737,"answer_id":39492461,"question_id":30227152,"body_markdown":"yes you can change classloader priority, check this documentation :\r\n    https://docs.oracle.com/middleware/1213/wls/WLPRG/classloading.htm#WLPRG289\r\n    \r\nThe idea is to skip using weblogic lib for you application, look at this part: `prefer-web-inf-classes Element`\r\n    \r\n\r\n&gt; Configuring a Filtering ClassLoader To configure the\r\n&gt; FilteringClassLoader to specify that a certain package is loaded from\r\n&gt; an application, add a prefer-application-packages descriptor element\r\n&gt; to weblogic-application.xml which details the list of packages to be\r\n&gt; loaded from the application. The following example specifies that\r\n&gt; org.apache.log4j.* and antlr.* packages are loaded from the\r\n&gt; application, not the system classloader:\r\n&gt;     \r\n&gt;     &lt;prefer-application-packages&gt;\r\n&gt;       &lt;package-name&gt;org.apache.log4j.*&lt;/package-name&gt;\r\n&gt;       &lt;package-name&gt;antlr.*&lt;/package-name&gt;\r\n&gt;     &lt;/prefer-application-packages&gt; \r\n&gt; The prefer-application-packages descriptor element can also be defined in weblogic.xml. For more information, see &quot;prefer-application-packages&quot;.\r\n&gt; \r\n&gt; You can specify that a certain package be loaded for a WAR file included within an EAR file by configuring the FilteringClassLoader in\r\n&gt; the weblogic.xml file of the WAR file.\r\n&gt; \r\n&gt; For example, A.ear contains B.war. A.ear defines the FilteringClassLoader in weblogic-application.xml, and B.war defines a\r\n&gt; different FilteringClassLoader in weblogic.xml. When you deploy A.ear,\r\n&gt; B.war loads the package defined in the FilteringClassLoader in\r\n&gt; weblogic.xml. The WAR-level FilteringClassLoader has priority over the\r\n&gt; EAR-level FilteringClassLoader for this WAR file.\r\n&gt;\r\n&gt; For aid in configuring filtering classloaders, see Using the Classloader Analysis Tool (CAT).","title":"OpenSAML throws java.lang.NoClassDefFoundError only on weblogic","body":"<p>yes you can change classloader priority, check this documentation :\n<a href=\"https://docs.oracle.com/middleware/1213/wls/WLPRG/classloading.htm#WLPRG289\" rel=\"nofollow noreferrer\">https://docs.oracle.com/middleware/1213/wls/WLPRG/classloading.htm#WLPRG289</a></p>\n<p>The idea is to skip using weblogic lib for you application, look at this part: <code>prefer-web-inf-classes Element</code></p>\n<blockquote>\n<p>Configuring a Filtering ClassLoader To configure the\nFilteringClassLoader to specify that a certain package is loaded from\nan application, add a prefer-application-packages descriptor element\nto weblogic-application.xml which details the list of packages to be\nloaded from the application. The following example specifies that\norg.apache.log4j.* and antlr.* packages are loaded from the\napplication, not the system classloader:</p>\n<pre><code>&lt;prefer-application-packages&gt;\n  &lt;package-name&gt;org.apache.log4j.*&lt;/package-name&gt;\n  &lt;package-name&gt;antlr.*&lt;/package-name&gt;\n&lt;/prefer-application-packages&gt; \n</code></pre>\n<p>The prefer-application-packages descriptor element can also be defined in weblogic.xml. For more information, see &quot;prefer-application-packages&quot;.</p>\n<p>You can specify that a certain package be loaded for a WAR file included within an EAR file by configuring the FilteringClassLoader in\nthe weblogic.xml file of the WAR file.</p>\n<p>For example, A.ear contains B.war. A.ear defines the FilteringClassLoader in weblogic-application.xml, and B.war defines a\ndifferent FilteringClassLoader in weblogic.xml. When you deploy A.ear,\nB.war loads the package defined in the FilteringClassLoader in\nweblogic.xml. The WAR-level FilteringClassLoader has priority over the\nEAR-level FilteringClassLoader for this WAR file.</p>\n<p>For aid in configuring filtering classloaders, see Using the Classloader Analysis Tool (CAT).</p>\n</blockquote>\n"}],"owner":{"account_id":3366368,"reputation":332,"user_id":2826860,"accept_rate":20,"display_name":"Jo&#227;o Gomes"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4768,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680002910,"creation_date":1431561614,"question_id":30227152,"body_markdown":"Im trying to implement a SAML SSO using the opensaml library. Ive managed to do so and successfully and deploy my simple authorization request on tomcat 7 but when i moved my application to weblogic server 10.3.5 it throws the following error:\n\n    java.lang.NoClassDefFoundError: Could not initialize class org.opensaml.xml.XMLConfigurator\n\nIm using Gradle 1.12 to build the project, and im requesting the following dependencies:\n\n    dependencies { \n    compile &#39;org.apache.logging.log4j:log4j-core:2.2&#39;\n    compile &#39;org.slf4j:slf4j-api:1.7.12&#39;    \n    compile &#39;org.slf4j:slf4j-log4j12:1.7.12&#39;\n    compile group: &#39;org.opensaml&#39;, name: &#39;opensaml&#39;, version: &#39;2.6.4&#39;\n    compile group: &#39;commons-collections&#39;, name: &#39;commons-collections&#39;, version: &#39;3.2&#39;\n        testCompile group: &#39;junit&#39;, name: &#39;junit&#39;, version: &#39;4.+&#39;\n    }\n\nI was searching the web and found that some people solved this problem by telling weblogic to use their libs, but it didn&#39;t work for me.\nMy deployment file weblogic.xml has this:\n\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n    &lt;wls:weblogic-web-app xmlns:wls=&quot;http://xmlns.oracle.com/weblogic/weblogic-web-app&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd http://xmlns.oracle.com/weblogic/weblogic-web-app http://xmlns.oracle.com/weblogic/weblogic-web-app/1.7/weblogic-web-app.xsd&quot;&gt;\n        &lt;prefer-application-packages&gt;\n            &lt;package-name&gt;org.opensaml.*&lt;/package-name&gt;\n        &lt;/prefer-application-packages&gt;\n        &lt;prefer-web-inf-classes&gt;true&lt;/prefer-web-inf-classes&gt;\n    &lt;/wls:weblogic-web-app&gt;\n\nWeblogic console stacktrace:\n\n        java.lang.NoClassDefFoundError: Could not initialize class org.opensaml.xml.XMLConfigurator\n        at org.opensaml.DefaultBootstrap.initializeXMLTooling(DefaultBootstrap.java:220)\n        at org.opensaml.DefaultBootstrap.initializeXMLTooling(DefaultBootstrap.java:207)\n        at org.opensaml.DefaultBootstrap.bootstrap(DefaultBootstrap.java:100)\n        at com.saml.ServiceProvider.&lt;init&gt;(ServiceProvider.java:37)\n        at com.saml.WebServices.auth(WebServices.java:20)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:597)\n        at weblogic.wsee.jaxws.WLSInstanceResolver$WLSInvoker.invoke(WLSInstanceResolver.java:92)\n        at weblogic.wsee.jaxws.WLSInstanceResolver$WLSInvoker.invoke(WLSInstanceResolver.java:74)\n        at com.sun.xml.ws.server.InvokerTube$2.invoke(InvokerTube.java:151)\n        at com.sun.xml.ws.server.sei.EndpointMethodHandlerImpl.invoke(EndpointMethodHandlerImpl.java:268)\n        at com.sun.xml.ws.server.sei.SEIInvokerTube.processRequest(SEIInvokerTube.java:100)\n        at com.sun.xml.ws.api.pipe.Fiber.__doRun(Fiber.java:866)\n        at com.sun.xml.ws.api.pipe.Fiber._doRun(Fiber.java:815)\n        at com.sun.xml.ws.api.pipe.Fiber.doRun(Fiber.java:778)\n        at com.sun.xml.ws.api.pipe.Fiber.runSync(Fiber.java:680)\n        at com.sun.xml.ws.server.WSEndpointImpl$2.process(WSEndpointImpl.java:403)\n        at com.sun.xml.ws.transport.http.HttpAdapter$HttpToolkit.handle(HttpAdapter.java:532)\n        at com.sun.xml.ws.transport.http.HttpAdapter.handle(HttpAdapter.java:253)\n        at com.sun.xml.ws.transport.http.servlet.ServletAdapter.handle(ServletAdapter.java:140)\n        at weblogic.wsee.jaxws.WLSServletAdapter.handle(WLSServletAdapter.java:171)\n        at weblogic.wsee.jaxws.HttpServletAdapter$AuthorizedInvoke.run(HttpServletAdapter.java:708)\n        at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:363)\n        at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:146)\n        at weblogic.wsee.util.ServerSecurityHelper.authenticatedInvoke(ServerSecurityHelper.java:103)\n        at weblogic.wsee.jaxws.HttpServletAdapter$3.run(HttpServletAdapter.java:311)\n        at weblogic.wsee.jaxws.HttpServletAdapter.post(HttpServletAdapter.java:336)\n        at weblogic.wsee.jaxws.JAXWSServlet.doRequest(JAXWSServlet.java:95)\n        at weblogic.servlet.http.AbstractAsyncServlet.service(AbstractAsyncServlet.java:99)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:820)\n        at weblogic.servlet.internal.StubSecurityHelper$ServletServiceAction.run(StubSecurityHelper.java:227)\n        at weblogic.servlet.internal.StubSecurityHelper.invokeServlet(StubSecurityHelper.java:125)\n        at weblogic.servlet.internal.ServletStubImpl.execute(ServletStubImpl.java:300)\n        at weblogic.servlet.internal.ServletStubImpl.execute(ServletStubImpl.java:183)\n        at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.wrapRun(WebAppServletContext.java:3717)\n        at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.run(WebAppServletContext.java:3681)\n        at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)\n        at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:120)\n        at weblogic.servlet.internal.WebAppServletContext.securedExecute(WebAppServletContext.java:2277)\n        at weblogic.servlet.internal.WebAppServletContext.execute(WebAppServletContext.java:2183)\n        at weblogic.servlet.internal.ServletRequestImpl.run(ServletRequestImpl.java:1454)\n        at weblogic.work.ExecuteThread.execute(ExecuteThread.java:209)\n        at weblogic.work.ExecuteThread.run(ExecuteThread.java:178)\n    java.lang.NoClassDefFoundError: Could not initialize class org.opensaml.xml.XMLConfigurator\n        at org.opensaml.DefaultBootstrap.initializeXMLTooling(DefaultBootstrap.java:220)\n        at org.opensaml.DefaultBootstrap.initializeXMLTooling(DefaultBootstrap.java:207)\n        at org.opensaml.DefaultBootstrap.bootstrap(DefaultBootstrap.java:100)\n        at com.saml.ServiceProvider.&lt;init&gt;(ServiceProvider.java:37)\n        at com.saml.WebServices.auth(WebServices.java:20)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:597)\n        at weblogic.wsee.jaxws.WLSInstanceResolver$WLSInvoker.invoke(WLSInstanceResolver.java:92)\n        at weblogic.wsee.jaxws.WLSInstanceResolver$WLSInvoker.invoke(WLSInstanceResolver.java:74)\n        at com.sun.xml.ws.server.InvokerTube$2.invoke(InvokerTube.java:151)\n        at com.sun.xml.ws.server.sei.EndpointMethodHandlerImpl.invoke(EndpointMethodHandlerImpl.java:268)\n        at com.sun.xml.ws.server.sei.SEIInvokerTube.processRequest(SEIInvokerTube.java:100)\n        at com.sun.xml.ws.api.pipe.Fiber.__doRun(Fiber.java:866)\n        at com.sun.xml.ws.api.pipe.Fiber._doRun(Fiber.java:815)\n        at com.sun.xml.ws.api.pipe.Fiber.doRun(Fiber.java:778)\n        at com.sun.xml.ws.api.pipe.Fiber.runSync(Fiber.java:680)\n        at com.sun.xml.ws.server.WSEndpointImpl$2.process(WSEndpointImpl.java:403)\n        at com.sun.xml.ws.transport.http.HttpAdapter$HttpToolkit.handle(HttpAdapter.java:532)\n        at com.sun.xml.ws.transport.http.HttpAdapter.handle(HttpAdapter.java:253)\n        at com.sun.xml.ws.transport.http.servlet.ServletAdapter.handle(ServletAdapter.java:140)\n        at weblogic.wsee.jaxws.WLSServletAdapter.handle(WLSServletAdapter.java:171)\n        at weblogic.wsee.jaxws.HttpServletAdapter$AuthorizedInvoke.run(HttpServletAdapter.java:708)\n        at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:363)\n        at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:146)\n        at weblogic.wsee.util.ServerSecurityHelper.authenticatedInvoke(ServerSecurityHelper.java:103)\n        at weblogic.wsee.jaxws.HttpServletAdapter$3.run(HttpServletAdapter.java:311)\n        at weblogic.wsee.jaxws.HttpServletAdapter.post(HttpServletAdapter.java:336)\n        at weblogic.wsee.jaxws.JAXWSServlet.doRequest(JAXWSServlet.java:95)\n        at weblogic.servlet.http.AbstractAsyncServlet.service(AbstractAsyncServlet.java:99)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:820)\n        at weblogic.servlet.internal.StubSecurityHelper$ServletServiceAction.run(StubSecurityHelper.java:227)\n        at weblogic.servlet.internal.StubSecurityHelper.invokeServlet(StubSecurityHelper.java:125)\n        at weblogic.servlet.internal.ServletStubImpl.execute(ServletStubImpl.java:300)\n        at weblogic.servlet.internal.ServletStubImpl.execute(ServletStubImpl.java:183)\n        at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.wrapRun(WebAppServletContext.java:3717)\n        at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.run(WebAppServletContext.java:3681)\n        at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)\n        at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:120)\n        at weblogic.servlet.internal.WebAppServletContext.securedExecute(WebAppServletContext.java:2277)\n        at weblogic.servlet.internal.WebAppServletContext.execute(WebAppServletContext.java:2183)\n        at weblogic.servlet.internal.ServletRequestImpl.run(ServletRequestImpl.java:1454)\n        at weblogic.work.ExecuteThread.execute(ExecuteThread.java:209)\n        at weblogic.work.ExecuteThread.run(ExecuteThread.java:178)\n\n\nIve managed to overcome this problem by removing the libraries:\n&gt;com.bea.core.bea.opensaml2_1.0.0.0_6-1-0-0\n&gt;\n&gt;com.bea.core.bea.opensaml_1.0.0.0_6-1-0-0\n\nIs it possible to disable the libraries instead of removing them?","title":"OpenSAML throws java.lang.NoClassDefFoundError only on weblogic","body":"<p>Im trying to implement a SAML SSO using the opensaml library. Ive managed to do so and successfully and deploy my simple authorization request on tomcat 7 but when i moved my application to weblogic server 10.3.5 it throws the following error:</p>\n<pre><code>java.lang.NoClassDefFoundError: Could not initialize class org.opensaml.xml.XMLConfigurator\n</code></pre>\n<p>Im using Gradle 1.12 to build the project, and im requesting the following dependencies:</p>\n<pre><code>dependencies { \ncompile 'org.apache.logging.log4j:log4j-core:2.2'\ncompile 'org.slf4j:slf4j-api:1.7.12'    \ncompile 'org.slf4j:slf4j-log4j12:1.7.12'\ncompile group: 'org.opensaml', name: 'opensaml', version: '2.6.4'\ncompile group: 'commons-collections', name: 'commons-collections', version: '3.2'\n    testCompile group: 'junit', name: 'junit', version: '4.+'\n}\n</code></pre>\n<p>I was searching the web and found that some people solved this problem by telling weblogic to use their libs, but it didn't work for me.\nMy deployment file weblogic.xml has this:</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;wls:weblogic-web-app xmlns:wls=&quot;http://xmlns.oracle.com/weblogic/weblogic-web-app&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd http://xmlns.oracle.com/weblogic/weblogic-web-app http://xmlns.oracle.com/weblogic/weblogic-web-app/1.7/weblogic-web-app.xsd&quot;&gt;\n    &lt;prefer-application-packages&gt;\n        &lt;package-name&gt;org.opensaml.*&lt;/package-name&gt;\n    &lt;/prefer-application-packages&gt;\n    &lt;prefer-web-inf-classes&gt;true&lt;/prefer-web-inf-classes&gt;\n&lt;/wls:weblogic-web-app&gt;\n</code></pre>\n<p>Weblogic console stacktrace:</p>\n<pre><code>    java.lang.NoClassDefFoundError: Could not initialize class org.opensaml.xml.XMLConfigurator\n    at org.opensaml.DefaultBootstrap.initializeXMLTooling(DefaultBootstrap.java:220)\n    at org.opensaml.DefaultBootstrap.initializeXMLTooling(DefaultBootstrap.java:207)\n    at org.opensaml.DefaultBootstrap.bootstrap(DefaultBootstrap.java:100)\n    at com.saml.ServiceProvider.&lt;init&gt;(ServiceProvider.java:37)\n    at com.saml.WebServices.auth(WebServices.java:20)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n    at java.lang.reflect.Method.invoke(Method.java:597)\n    at weblogic.wsee.jaxws.WLSInstanceResolver$WLSInvoker.invoke(WLSInstanceResolver.java:92)\n    at weblogic.wsee.jaxws.WLSInstanceResolver$WLSInvoker.invoke(WLSInstanceResolver.java:74)\n    at com.sun.xml.ws.server.InvokerTube$2.invoke(InvokerTube.java:151)\n    at com.sun.xml.ws.server.sei.EndpointMethodHandlerImpl.invoke(EndpointMethodHandlerImpl.java:268)\n    at com.sun.xml.ws.server.sei.SEIInvokerTube.processRequest(SEIInvokerTube.java:100)\n    at com.sun.xml.ws.api.pipe.Fiber.__doRun(Fiber.java:866)\n    at com.sun.xml.ws.api.pipe.Fiber._doRun(Fiber.java:815)\n    at com.sun.xml.ws.api.pipe.Fiber.doRun(Fiber.java:778)\n    at com.sun.xml.ws.api.pipe.Fiber.runSync(Fiber.java:680)\n    at com.sun.xml.ws.server.WSEndpointImpl$2.process(WSEndpointImpl.java:403)\n    at com.sun.xml.ws.transport.http.HttpAdapter$HttpToolkit.handle(HttpAdapter.java:532)\n    at com.sun.xml.ws.transport.http.HttpAdapter.handle(HttpAdapter.java:253)\n    at com.sun.xml.ws.transport.http.servlet.ServletAdapter.handle(ServletAdapter.java:140)\n    at weblogic.wsee.jaxws.WLSServletAdapter.handle(WLSServletAdapter.java:171)\n    at weblogic.wsee.jaxws.HttpServletAdapter$AuthorizedInvoke.run(HttpServletAdapter.java:708)\n    at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:363)\n    at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:146)\n    at weblogic.wsee.util.ServerSecurityHelper.authenticatedInvoke(ServerSecurityHelper.java:103)\n    at weblogic.wsee.jaxws.HttpServletAdapter$3.run(HttpServletAdapter.java:311)\n    at weblogic.wsee.jaxws.HttpServletAdapter.post(HttpServletAdapter.java:336)\n    at weblogic.wsee.jaxws.JAXWSServlet.doRequest(JAXWSServlet.java:95)\n    at weblogic.servlet.http.AbstractAsyncServlet.service(AbstractAsyncServlet.java:99)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:820)\n    at weblogic.servlet.internal.StubSecurityHelper$ServletServiceAction.run(StubSecurityHelper.java:227)\n    at weblogic.servlet.internal.StubSecurityHelper.invokeServlet(StubSecurityHelper.java:125)\n    at weblogic.servlet.internal.ServletStubImpl.execute(ServletStubImpl.java:300)\n    at weblogic.servlet.internal.ServletStubImpl.execute(ServletStubImpl.java:183)\n    at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.wrapRun(WebAppServletContext.java:3717)\n    at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.run(WebAppServletContext.java:3681)\n    at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)\n    at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:120)\n    at weblogic.servlet.internal.WebAppServletContext.securedExecute(WebAppServletContext.java:2277)\n    at weblogic.servlet.internal.WebAppServletContext.execute(WebAppServletContext.java:2183)\n    at weblogic.servlet.internal.ServletRequestImpl.run(ServletRequestImpl.java:1454)\n    at weblogic.work.ExecuteThread.execute(ExecuteThread.java:209)\n    at weblogic.work.ExecuteThread.run(ExecuteThread.java:178)\njava.lang.NoClassDefFoundError: Could not initialize class org.opensaml.xml.XMLConfigurator\n    at org.opensaml.DefaultBootstrap.initializeXMLTooling(DefaultBootstrap.java:220)\n    at org.opensaml.DefaultBootstrap.initializeXMLTooling(DefaultBootstrap.java:207)\n    at org.opensaml.DefaultBootstrap.bootstrap(DefaultBootstrap.java:100)\n    at com.saml.ServiceProvider.&lt;init&gt;(ServiceProvider.java:37)\n    at com.saml.WebServices.auth(WebServices.java:20)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n    at java.lang.reflect.Method.invoke(Method.java:597)\n    at weblogic.wsee.jaxws.WLSInstanceResolver$WLSInvoker.invoke(WLSInstanceResolver.java:92)\n    at weblogic.wsee.jaxws.WLSInstanceResolver$WLSInvoker.invoke(WLSInstanceResolver.java:74)\n    at com.sun.xml.ws.server.InvokerTube$2.invoke(InvokerTube.java:151)\n    at com.sun.xml.ws.server.sei.EndpointMethodHandlerImpl.invoke(EndpointMethodHandlerImpl.java:268)\n    at com.sun.xml.ws.server.sei.SEIInvokerTube.processRequest(SEIInvokerTube.java:100)\n    at com.sun.xml.ws.api.pipe.Fiber.__doRun(Fiber.java:866)\n    at com.sun.xml.ws.api.pipe.Fiber._doRun(Fiber.java:815)\n    at com.sun.xml.ws.api.pipe.Fiber.doRun(Fiber.java:778)\n    at com.sun.xml.ws.api.pipe.Fiber.runSync(Fiber.java:680)\n    at com.sun.xml.ws.server.WSEndpointImpl$2.process(WSEndpointImpl.java:403)\n    at com.sun.xml.ws.transport.http.HttpAdapter$HttpToolkit.handle(HttpAdapter.java:532)\n    at com.sun.xml.ws.transport.http.HttpAdapter.handle(HttpAdapter.java:253)\n    at com.sun.xml.ws.transport.http.servlet.ServletAdapter.handle(ServletAdapter.java:140)\n    at weblogic.wsee.jaxws.WLSServletAdapter.handle(WLSServletAdapter.java:171)\n    at weblogic.wsee.jaxws.HttpServletAdapter$AuthorizedInvoke.run(HttpServletAdapter.java:708)\n    at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:363)\n    at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:146)\n    at weblogic.wsee.util.ServerSecurityHelper.authenticatedInvoke(ServerSecurityHelper.java:103)\n    at weblogic.wsee.jaxws.HttpServletAdapter$3.run(HttpServletAdapter.java:311)\n    at weblogic.wsee.jaxws.HttpServletAdapter.post(HttpServletAdapter.java:336)\n    at weblogic.wsee.jaxws.JAXWSServlet.doRequest(JAXWSServlet.java:95)\n    at weblogic.servlet.http.AbstractAsyncServlet.service(AbstractAsyncServlet.java:99)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:820)\n    at weblogic.servlet.internal.StubSecurityHelper$ServletServiceAction.run(StubSecurityHelper.java:227)\n    at weblogic.servlet.internal.StubSecurityHelper.invokeServlet(StubSecurityHelper.java:125)\n    at weblogic.servlet.internal.ServletStubImpl.execute(ServletStubImpl.java:300)\n    at weblogic.servlet.internal.ServletStubImpl.execute(ServletStubImpl.java:183)\n    at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.wrapRun(WebAppServletContext.java:3717)\n    at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.run(WebAppServletContext.java:3681)\n    at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)\n    at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:120)\n    at weblogic.servlet.internal.WebAppServletContext.securedExecute(WebAppServletContext.java:2277)\n    at weblogic.servlet.internal.WebAppServletContext.execute(WebAppServletContext.java:2183)\n    at weblogic.servlet.internal.ServletRequestImpl.run(ServletRequestImpl.java:1454)\n    at weblogic.work.ExecuteThread.execute(ExecuteThread.java:209)\n    at weblogic.work.ExecuteThread.run(ExecuteThread.java:178)\n</code></pre>\n<p>Ive managed to overcome this problem by removing the libraries:</p>\n<blockquote>\n<p>com.bea.core.bea.opensaml2_1.0.0.0_6-1-0-0</p>\n<p>com.bea.core.bea.opensaml_1.0.0.0_6-1-0-0</p>\n</blockquote>\n<p>Is it possible to disable the libraries instead of removing them?</p>\n"},{"tags":["java","collections","concurrency","buffer","guava"],"comments":[{"owner":{"account_id":347037,"reputation":79658,"user_id":680925,"display_name":"Perception"},"score":3,"creation_date":1334261243,"post_id":10130847,"comment_id":12986039,"body_markdown":"You could try a synchronized version of Apache Commons [CircularFifoBuffer](http://commons.apache.org/collections/apidocs/org/apache/commons/collections/buffer/CircularFifoBuffer.html).","body":"You could try a synchronized version of Apache Commons <a href=\"http://commons.apache.org/collections/apidocs/org/apache/commons/collections/buffer/CircularFifoBuffer.html\" rel=\"nofollow noreferrer\">CircularFifoBuffer</a>."},{"owner":{"account_id":474077,"reputation":1208,"user_id":883541,"accept_rate":100,"display_name":"cn1h"},"score":0,"creation_date":1334314868,"post_id":10130847,"comment_id":12999393,"body_markdown":"thank you for your reply, actually the CircularFifoBuffer is exactly what i need. but it&#39;s not synchronized out of box, as its document suggests, i need: BufferUtils.synchronizedBuffer(new CircularFifoBuffer()); But I checked the source code of BufferUtils, it just add synchronized keyword to every public functions, just like the JRE Collections.synchronizedXXXX, the performance issues in this case are same.","body":"thank you for your reply, actually the CircularFifoBuffer is exactly what i need. but it&#39;s not synchronized out of box, as its document suggests, i need: BufferUtils.synchronizedBuffer(new CircularFifoBuffer()); But I checked the source code of BufferUtils, it just add synchronized keyword to every public functions, just like the JRE Collections.synchronizedXXXX, the performance issues in this case are same."},{"owner":{"account_id":474077,"reputation":1208,"user_id":883541,"accept_rate":100,"display_name":"cn1h"},"score":0,"creation_date":1334315490,"post_id":10130847,"comment_id":12999608,"body_markdown":"anyway i don&#39;t think the capacity of the buffer should be very large. so if I lock the whole data structure during reading, it should also not a big problem. i think your reply is the right answer, but i don&#39;t know how to accept it.","body":"anyway i don&#39;t think the capacity of the buffer should be very large. so if I lock the whole data structure during reading, it should also not a big problem. i think your reply is the right answer, but i don&#39;t know how to accept it."},{"owner":{"account_id":347037,"reputation":79658,"user_id":680925,"display_name":"Perception"},"score":0,"creation_date":1334316117,"post_id":10130847,"comment_id":12999827,"body_markdown":"Great that it can work for you. I created an answer from my original comment that you can accept.","body":"Great that it can work for you. I created an answer from my original comment that you can accept."},{"owner":{"account_id":266709,"reputation":11856,"user_id":554431,"display_name":"bestsss"},"score":0,"creation_date":1340611036,"post_id":10130847,"comment_id":14678511,"body_markdown":"Do you need multi-consumer, multi-producer or you have relaxed requirements, implementing concurrent ring buffer is not hard but you have to clear your needs. For instance having a single consumer (most naturally) makes quite a difference to multi-consumer scenario.","body":"Do you need multi-consumer, multi-producer or you have relaxed requirements, implementing concurrent ring buffer is not hard but you have to clear your needs. For instance having a single consumer (most naturally) makes quite a difference to multi-consumer scenario."}],"answers":[{"comments":[{"owner":{"account_id":1324014,"reputation":5651,"user_id":1311351,"display_name":"Colin D"},"score":2,"creation_date":1334262446,"post_id":10131210,"comment_id":12986508,"body_markdown":"ConcurrentLinkedQueue is not bounded. However it could be wrapped/subclassed to add the size behavior.","body":"ConcurrentLinkedQueue is not bounded. However it could be wrapped/subclassed to add the size behavior."},{"owner":{"account_id":1138001,"reputation":22629,"user_id":1122645,"accept_rate":89,"display_name":"UmNyobe"},"score":1,"creation_date":1334263380,"post_id":10131210,"comment_id":12986826,"body_markdown":"I read again and you are right. unbounded wait-free? didn&#39;t knew such thing existed. They should correct the doc because it doesn&#39;t make sense","body":"I read again and you are right. unbounded wait-free? didn&#39;t knew such thing existed. They should correct the doc because it doesn&#39;t make sense"},{"owner":{"account_id":1138001,"reputation":22629,"user_id":1122645,"accept_rate":89,"display_name":"UmNyobe"},"score":0,"creation_date":1334268172,"post_id":10131210,"comment_id":12988470,"body_markdown":"disregard my earlier comment .I was mistaken bounded in the size of the queue with bounded in time of operations.","body":"disregard my earlier comment .I was mistaken bounded in the size of the queue with bounded in time of operations."},{"owner":{"account_id":266709,"reputation":11856,"user_id":554431,"display_name":"bestsss"},"score":2,"creation_date":1340611128,"post_id":10131210,"comment_id":14678539,"body_markdown":"@ColinD, you cant add size in atomic way, you can do it w/ LIFO structure but not FIFO.","body":"@ColinD, you cant add size in atomic way, you can do it w/ LIFO structure but not FIFO."},{"owner":{"account_id":266709,"reputation":11856,"user_id":554431,"display_name":"bestsss"},"score":0,"creation_date":1340611145,"post_id":10131210,"comment_id":14678545,"body_markdown":"CLQ is lock-free NOT wait-free, it&#39;s quite a difference.","body":"CLQ is lock-free NOT wait-free, it&#39;s quite a difference."}],"tags":[],"owner":{"account_id":1138001,"reputation":22629,"user_id":1122645,"accept_rate":89,"display_name":"UmNyobe"},"comment_count":5,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1334262155,"creation_date":1334262155,"answer_id":10131210,"question_id":10130847,"body_markdown":"Did you take a look at [ConcurrentLinkedQueue][1]?\r\nThe page says \r\n\r\n&gt; This implementation employs an efficient &quot;wait-free&quot; algorithm...\r\n\r\nWait-freedom is one of the strongest guarantee you can obtain....\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/1.5.0/docs/api/java/util/concurrent/ConcurrentLinkedQueue.html","title":"Java bounded non-blocking buffer for high concurrent situation","body":"<p>Did you take a look at <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/util/concurrent/ConcurrentLinkedQueue.html\" rel=\"nofollow\">ConcurrentLinkedQueue</a>?\nThe page says </p>\n\n<blockquote>\n  <p>This implementation employs an efficient \"wait-free\" algorithm...</p>\n</blockquote>\n\n<p>Wait-freedom is one of the strongest guarantee you can obtain....</p>\n"},{"comments":[{"owner":{"account_id":266709,"reputation":11856,"user_id":554431,"display_name":"bestsss"},"score":0,"creation_date":1340611224,"post_id":10134184,"comment_id":14678574,"body_markdown":"TransferQueue is cool but still unbound and the unbound ones do suck badly as there is no telling if anything goes amiss.","body":"TransferQueue is cool but still unbound and the unbound ones do suck badly as there is no telling if anything goes amiss."}],"tags":[],"owner":{"account_id":10326,"reputation":9293,"user_id":19450,"display_name":"Ben Manes"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1334280880,"creation_date":1334280880,"answer_id":10134184,"question_id":10130847,"body_markdown":"[LinkedTransferQueue][1] is a blocking, unbounded queue that doesn&#39;t enforce strict FIFO ordering. It will only block when taking from an empty queue, but never on adding to one. You could add a soft cap to evict elements by adding either a size or read &amp; write counters.\r\n\r\nDepending on your requirements, you may be able to write a custom lock-free ring buffer.\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/LinkedTransferQueue.html","title":"Java bounded non-blocking buffer for high concurrent situation","body":"<p><a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/LinkedTransferQueue.html\" rel=\"nofollow\">LinkedTransferQueue</a> is a blocking, unbounded queue that doesn't enforce strict FIFO ordering. It will only block when taking from an empty queue, but never on adding to one. You could add a soft cap to evict elements by adding either a size or read &amp; write counters.</p>\n\n<p>Depending on your requirements, you may be able to write a custom lock-free ring buffer.</p>\n"},{"tags":[],"owner":{"account_id":347037,"reputation":79658,"user_id":680925,"display_name":"Perception"},"comment_count":0,"down_vote_count":2,"up_vote_count":6,"is_accepted":true,"score":4,"last_activity_date":1680002893,"creation_date":1334316064,"answer_id":10139864,"question_id":10130847,"body_markdown":"You could utilize the Apache Commons [CircularFifoBuffer](https://commons.apache.org/proper/commons-collections/javadocs/api-3.2.2/org/apache/commons/collections/buffer/CircularFifoBuffer.html). It meets your first and last criteria. To support concurrency, you can wrap the base buffer in it&#39;s synchronized version like so:\r\n\r\n    Buffer fifo = BufferUtils.synchronizedBuffer(new CircularFifoBuffer());\r\n\r\nGood luck on the project.","title":"Java bounded non-blocking buffer for high concurrent situation","body":"<p>You could utilize the Apache Commons <a href=\"https://commons.apache.org/proper/commons-collections/javadocs/api-3.2.2/org/apache/commons/collections/buffer/CircularFifoBuffer.html\" rel=\"nofollow noreferrer\">CircularFifoBuffer</a>. It meets your first and last criteria. To support concurrency, you can wrap the base buffer in it's synchronized version like so:</p>\n<pre><code>Buffer fifo = BufferUtils.synchronizedBuffer(new CircularFifoBuffer());\n</code></pre>\n<p>Good luck on the project.</p>\n"},{"tags":[],"owner":{"account_id":4456399,"reputation":11,"user_id":3626541,"display_name":"Sky"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1399843499,"creation_date":1399843499,"answer_id":23598104,"question_id":10130847,"body_markdown":"You can add non-blocking behaviour to an `ArrayBlockingQueue` by surrounding it with a conditional `offer()` statement, where failure of the queue to accept the offer results in the head being dropped and the offer being re-made:\r\n\r\n        public class LearnToQueue {\r\n\t\r\n\t\r\n\t    public static void main(String[] args){\r\n\t    \tQueue&lt;Integer&gt; FIFO = new ArrayBlockingQueue&lt;Integer&gt;(4);\r\n\t    \t\r\n\t    \tint i = 0;\r\n\t    \t\r\n\t    \twhile ( i &lt; 10 ){\r\n\t    \t\t\r\n\t    \t\tif (!FIFO.offer(i)){\r\n                // You can pipe the head of the queue anywhere you want to\r\n\t    \t\t\tFIFO.remove();\r\n\t    \t\t\tFIFO.offer(i);\r\n\t    \t\t}\r\n\t    \t\tSystem.out.println(FIFO.toString());\r\n\t    \t\ti++;\r\n\t    \t\t\r\n\t    \t}\r\n\t    }\r\n\r\n        }\r\n","title":"Java bounded non-blocking buffer for high concurrent situation","body":"<p>You can add non-blocking behaviour to an <code>ArrayBlockingQueue</code> by surrounding it with a conditional <code>offer()</code> statement, where failure of the queue to accept the offer results in the head being dropped and the offer being re-made:</p>\n\n<pre><code>    public class LearnToQueue {\n\n\n    public static void main(String[] args){\n        Queue&lt;Integer&gt; FIFO = new ArrayBlockingQueue&lt;Integer&gt;(4);\n\n        int i = 0;\n\n        while ( i &lt; 10 ){\n\n            if (!FIFO.offer(i)){\n            // You can pipe the head of the queue anywhere you want to\n                FIFO.remove();\n                FIFO.offer(i);\n            }\n            System.out.println(FIFO.toString());\n            i++;\n\n        }\n    }\n\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1284143,"reputation":43090,"user_id":1237575,"accept_rate":96,"display_name":"Rafael Winterhalter"},"score":1,"creation_date":1456148575,"post_id":26550607,"comment_id":58798264,"body_markdown":"A `LinkedBlockingQueue` aquires a lock if the queue is not full even on calling `offer`, it is not wait free.","body":"A <code>LinkedBlockingQueue</code> aquires a lock if the queue is not full even on calling <code>offer</code>, it is not wait free."}],"tags":[],"owner":{"account_id":1649573,"reputation":1949,"user_id":1520422,"accept_rate":36,"display_name":"Frederic Leitenberger"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1414162730,"creation_date":1414162730,"answer_id":26550607,"question_id":10130847,"body_markdown":"You can use [LinkedBlockingQueue][1] with the non-blocking methods `offer` (or `add`) and `poll` to access it.\r\nYou can create it with a fixed capacity to make it bounded.\r\n\r\n    LinkedBlockingQueue&lt;String&gt; myStrings = new LinkedBlockingQueue&lt;String&gt;(100);\r\n    myStrings.offer(&quot;Hi!&quot;); // returns false if limit is reached\r\n    myStrings.add(&quot;Hi, again!&quot;); // throws exception if limit is reached\r\n    String s = myStrings.poll(); // returns null if queue is empty\r\n\r\n  [1]: http://docs.oracle.com/javase/1.5.0/docs/api/java/util/concurrent/LinkedBlockingQueue.html","title":"Java bounded non-blocking buffer for high concurrent situation","body":"<p>You can use <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/util/concurrent/LinkedBlockingQueue.html\" rel=\"noreferrer\">LinkedBlockingQueue</a> with the non-blocking methods <code>offer</code> (or <code>add</code>) and <code>poll</code> to access it.\nYou can create it with a fixed capacity to make it bounded.</p>\n\n<pre><code>LinkedBlockingQueue&lt;String&gt; myStrings = new LinkedBlockingQueue&lt;String&gt;(100);\nmyStrings.offer(\"Hi!\"); // returns false if limit is reached\nmyStrings.add(\"Hi, again!\"); // throws exception if limit is reached\nString s = myStrings.poll(); // returns null if queue is empty\n</code></pre>\n"}],"owner":{"account_id":474077,"reputation":1208,"user_id":883541,"accept_rate":100,"display_name":"cn1h"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8943,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":10139864,"answer_count":5,"score":9,"last_activity_date":1680002893,"creation_date":1334260677,"question_id":10130847,"body_markdown":"Basically I need a data structure to store the temporary chatting messages on the server side. It should be:\r\n\r\n- bounded: because I don&#39;t need store too many messages, the client will send request to get the new messages every second. I think the bound size should be the max. mount of concurrent requests in one second. When the buffer is full, the old messages will be removed.\r\n\r\n- suitable for high concurrent access: I don&#39;t want to use the data structure like Collections.synchronizedXXXX, because during the iteration, if other thread changes the data structure, e.g. adds a message, it will throw an Exception, so I have to lock the whole data structure, actually I don&#39;t really care if the client request can get the most last inserted message, because they will send a new request after one second, on the other side the write operation should be never delayed. The classes under the package java.util.concurrency seems the solution, but...\r\n\r\n- non-blocking: LinkedBlockingQueue, ArrayBlockingQueue they could be bounded and won&#39;t throw exception during iteration, but they are all blocking queue. When the queue is full, I want to add the new element to the tails and remove the old element from head instead of blocking there and wait for someone to remove the header.\r\n\r\nSo my question is there any good implementation from 3rd library? For example Google Guava?\r\nOr maybe you have better idea about storing the temporary chatting messages on server?\r\n\r\nthank you very much!","title":"Java bounded non-blocking buffer for high concurrent situation","body":"<p>Basically I need a data structure to store the temporary chatting messages on the server side. It should be:</p>\n\n<ul>\n<li><p>bounded: because I don't need store too many messages, the client will send request to get the new messages every second. I think the bound size should be the max. mount of concurrent requests in one second. When the buffer is full, the old messages will be removed.</p></li>\n<li><p>suitable for high concurrent access: I don't want to use the data structure like Collections.synchronizedXXXX, because during the iteration, if other thread changes the data structure, e.g. adds a message, it will throw an Exception, so I have to lock the whole data structure, actually I don't really care if the client request can get the most last inserted message, because they will send a new request after one second, on the other side the write operation should be never delayed. The classes under the package java.util.concurrency seems the solution, but...</p></li>\n<li><p>non-blocking: LinkedBlockingQueue, ArrayBlockingQueue they could be bounded and won't throw exception during iteration, but they are all blocking queue. When the queue is full, I want to add the new element to the tails and remove the old element from head instead of blocking there and wait for someone to remove the header.</p></li>\n</ul>\n\n<p>So my question is there any good implementation from 3rd library? For example Google Guava?\nOr maybe you have better idea about storing the temporary chatting messages on server?</p>\n\n<p>thank you very much!</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1679926014,"post_id":75856635,"comment_id":133803627,"body_markdown":"I&#39;m not sure I understand.\nI&#39;m having a hard time understanding what the problem is.\nWhat exactly in this code doesn&#39;t work the way you expect?","body":"I&#39;m not sure I understand. I&#39;m having a hard time understanding what the problem is. What exactly in this code doesn&#39;t work the way you expect?"},{"owner":{"account_id":28135364,"reputation":15,"user_id":21499209,"display_name":"axeem666"},"score":0,"creation_date":1679932146,"post_id":75856635,"comment_id":133805590,"body_markdown":"In simple words I wanna change the value of &quot;userStatus&quot; from recyclerView when &quot;approve User&quot; button is pressed. So, I want to access the second child in the firebase database (the one below Users) to change the value of third child &quot;userStatus ; from 0 to 1&quot;.. I&#39;m having trouble accessing the 2nd child since its not the same for all nodes and I have no clue as to how it should be done, does this clear the confusion?","body":"In simple words I wanna change the value of &quot;userStatus&quot; from recyclerView when &quot;approve User&quot; button is pressed. So, I want to access the second child in the firebase database (the one below Users) to change the value of third child &quot;userStatus ; from 0 to 1&quot;.. I&#39;m having trouble accessing the 2nd child since its not the same for all nodes and I have no clue as to how it should be done, does this clear the confusion?"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1679938207,"post_id":75856635,"comment_id":133807237,"body_markdown":"Are you using Firebase Authentication?","body":"Are you using Firebase Authentication?"},{"owner":{"account_id":28135364,"reputation":15,"user_id":21499209,"display_name":"axeem666"},"score":0,"creation_date":1679941828,"post_id":75856635,"comment_id":133808098,"body_markdown":"I will be implementing firebase authentication in sign in and register class of user module as that comes after the user is approved by the admin. For now I&#39;ve only taken user data through register class and put it in firebase realtime database..","body":"I will be implementing firebase authentication in sign in and register class of user module as that comes after the user is approved by the admin. For now I&#39;ve only taken user data through register class and put it in firebase realtime database.."},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1679983268,"post_id":75856635,"comment_id":133814048,"body_markdown":"What does `647e6uurr` represent? And what is the exact user you want to update? Or do you need to update them all?","body":"What does <code>647e6uurr</code> represent? And what is the exact user you want to update? Or do you need to update them all?"},{"owner":{"account_id":28135364,"reputation":15,"user_id":21499209,"display_name":"axeem666"},"score":0,"creation_date":1679983589,"post_id":75856635,"comment_id":133814105,"body_markdown":"647e6uurr is random data meant to be the first name, I&#39;ve ordered the users with their first names. I should order them with the phonenumber instead. and yes I wanna update all of the users when the approve button is clicked in recycler view infront of their card I&#39;ll show the complete picture of the firebase database in edit","body":"647e6uurr is random data meant to be the first name, I&#39;ve ordered the users with their first names. I should order them with the phonenumber instead. and yes I wanna update all of the users when the approve button is clicked in recycler view infront of their card I&#39;ll show the complete picture of the firebase database in edit"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1679983777,"post_id":75856635,"comment_id":133814129,"body_markdown":"So you have a button in front of each user and when pressed you need to change the value from 0 to 1?","body":"So you have a button in front of each user and when pressed you need to change the value from 0 to 1?"},{"owner":{"account_id":28135364,"reputation":15,"user_id":21499209,"display_name":"axeem666"},"score":0,"creation_date":1679983869,"post_id":75856635,"comment_id":133814146,"body_markdown":"Yes! is that possible Alex?","body":"Yes! is that possible Alex?"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1679991759,"post_id":75856635,"comment_id":133815833,"body_markdown":"For sure there is. Show us also the content of your `UserData` class.","body":"For sure there is. Show us also the content of your <code>UserData</code> class."},{"owner":{"account_id":28135364,"reputation":15,"user_id":21499209,"display_name":"axeem666"},"score":0,"creation_date":1679993647,"post_id":75856635,"comment_id":133816407,"body_markdown":"Done, I updated the post with UserData class, just as you asked.","body":"Done, I updated the post with UserData class, just as you asked."}],"answers":[{"comments":[{"owner":{"account_id":28135364,"reputation":15,"user_id":21499209,"display_name":"axeem666"},"score":0,"creation_date":1679995966,"post_id":75864433,"comment_id":133816948,"body_markdown":"Its throwing me an error &quot;Non-static method &#39;getFirstName()&#39; cannot be referenced from a static context&quot;. making it a static method doesn&#39;t solve it.","body":"Its throwing me an error &quot;Non-static method &#39;getFirstName()&#39; cannot be referenced from a static context&quot;. making it a static method doesn&#39;t solve it."}],"tags":[],"owner":{"account_id":19955522,"reputation":31,"user_id":14624224,"display_name":"st920228"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679995342,"creation_date":1679995342,"answer_id":75864433,"question_id":75856635,"body_markdown":"Try the following line of code.\r\n\r\n    reference.child(&quot;Users&quot;).child(userData.getFirstName()).child(&quot;userStatus&quot;).setValue(&quot;1&quot;);\r\n\r\n","title":"how to access child of child node from firebase in a different module of android studio","body":"<p>Try the following line of code.</p>\n<pre><code>reference.child(&quot;Users&quot;).child(userData.getFirstName()).child(&quot;userStatus&quot;).setValue(&quot;1&quot;);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":28135364,"reputation":15,"user_id":21499209,"display_name":"axeem666"},"score":0,"creation_date":1680000817,"post_id":75864659,"comment_id":133818210,"body_markdown":"Alex it doesn&#39;t work either, as its throwing a bunch of errors, one of them being &quot; cannot reslove userData&quot; on &quot;public void bindData(UserData userData)&quot;...","body":"Alex it doesn&#39;t work either, as its throwing a bunch of errors, one of them being &quot; cannot reslove userData&quot; on &quot;public void bindData(UserData userData)&quot;..."},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1680001126,"post_id":75864659,"comment_id":133818298,"body_markdown":"Yes, sorry my bad. I have added the method inside the constructor. Please check my updated answer. Does it work now?","body":"Yes, sorry my bad. I have added the method inside the constructor. Please check my updated answer. Does it work now?"},{"owner":{"account_id":28135364,"reputation":15,"user_id":21499209,"display_name":"axeem666"},"score":1,"creation_date":1680002405,"post_id":75864659,"comment_id":133818636,"body_markdown":"Ok so it wasn&#39;t working then I set &#39;&quot;holder.bindData(userData);&quot;&#39; in &#39;onBindViewHolder&#39;... and it&#39;s working now exactly as I want it to. Alex Sir you&#39;re a genius.. you have no idea how much I appreciate this help. Thank you so much","body":"Ok so it wasn&#39;t working then I set &#39;&quot;holder.bindData(userData);&quot;&#39; in &#39;onBindViewHolder&#39;... and it&#39;s working now exactly as I want it to. Alex Sir you&#39;re a genius.. you have no idea how much I appreciate this help. Thank you so much"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1680002968,"post_id":75864659,"comment_id":133818784,"body_markdown":"Yes, I forgot to call `bindData` method on the `holder` object. I just approved your edit. You&#39;re very welcome, axeem666.","body":"Yes, I forgot to call <code>bindData</code> method on the <code>holder</code> object. I just approved your edit. You&#39;re very welcome, axeem666."}],"tags":[],"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680002871,"creation_date":1679996750,"answer_id":75864659,"question_id":75856635,"body_markdown":"The simplest solution would be to pass the entire `UserData` object from the `onBindViewHolder` to the `bindData` function that I have added inside the `MyViewHolder` class:\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\r\n        UserData userData = list.get(position);\r\n        holder.bindData(userData); //&#128072;\r\n    }\r\n\r\nOnce you have the `UserData` you can create a reference that point to the `userStatus` field and change the value:\r\n\r\n    public static class MyViewHolder extends RecyclerView.ViewHolder{\r\n        TextView firstName, address, emailAddress, userStatus;\r\n        Button approveUser;\r\n        DatabaseReference db = FirebaseDatabase.getInstance().getReference();\r\n        DatabaseReference usersRef = db.child(&quot;Users&quot;);\r\n\r\n\r\n        public MyViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            firstName = itemView.findViewById(R.id.firstNametv);\r\n            address = itemView.findViewById(R.id.addresstv);\r\n            emailAddress = itemView.findViewById(R.id.emailtv);\r\n            approveUser = itemView. findViewById(R.id.approve);\r\n            userStatus = itemView.findViewById(R.id.userStatustv);\r\n        }\r\n\r\n\r\n        //             &#128071;\r\n        public void bindData(UserData userData) {\r\n            firstName.setText(userData.getFirstName());\r\n            address.setText(userData.getAddress());\r\n            emailAddress.setText(userData.getEmailAddress());\r\n            userStatus.setText(userData.getUserStatus());\r\n\r\n            approveUser.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    String firstName = userData.getFirstName();\r\n                    usersRef.child(firstName).child(&quot;userStatus&quot;).setValue(&quot;1&quot;);\r\n                    //                &#128070;\r\n                }\r\n            });\r\n        }\r\n    }","title":"how to access child of child node from firebase in a different module of android studio","body":"<p>The simplest solution would be to pass the entire <code>UserData</code> object from the <code>onBindViewHolder</code> to the <code>bindData</code> function that I have added inside the <code>MyViewHolder</code> class:</p>\n<pre><code>@Override\npublic void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\n    UserData userData = list.get(position);\n    holder.bindData(userData); //\n}\n</code></pre>\n<p>Once you have the <code>UserData</code> you can create a reference that point to the <code>userStatus</code> field and change the value:</p>\n<pre><code>public static class MyViewHolder extends RecyclerView.ViewHolder{\n    TextView firstName, address, emailAddress, userStatus;\n    Button approveUser;\n    DatabaseReference db = FirebaseDatabase.getInstance().getReference();\n    DatabaseReference usersRef = db.child(&quot;Users&quot;);\n\n\n    public MyViewHolder(@NonNull View itemView) {\n        super(itemView);\n        firstName = itemView.findViewById(R.id.firstNametv);\n        address = itemView.findViewById(R.id.addresstv);\n        emailAddress = itemView.findViewById(R.id.emailtv);\n        approveUser = itemView. findViewById(R.id.approve);\n        userStatus = itemView.findViewById(R.id.userStatustv);\n    }\n\n\n    //             \n    public void bindData(UserData userData) {\n        firstName.setText(userData.getFirstName());\n        address.setText(userData.getAddress());\n        emailAddress.setText(userData.getEmailAddress());\n        userStatus.setText(userData.getUserStatus());\n\n        approveUser.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                String firstName = userData.getFirstName();\n                usersRef.child(firstName).child(&quot;userStatus&quot;).setValue(&quot;1&quot;);\n                //                \n            }\n        });\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28135364,"reputation":15,"user_id":21499209,"display_name":"axeem666"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75864659,"answer_count":2,"score":1,"last_activity_date":1680002871,"creation_date":1679925370,"question_id":75856635,"body_markdown":"Ok, so I have two modules in my app. One is for users, the other is for admin. the admin has to basically approve the user&#39;s registration when a user registers themselves, for this I made a simple logic when a user registers they&#39;re registered with an extra value `userStatus = &quot;0&quot;`, and the admin when clicks the approve button the value changes to &quot;1&quot; and they&#39;re allowed to log in. I&#39;m using a Recycler View to show all the users from my database to the admin module but I wanna change a value that I&#39;m not sure how to access,\r\n\r\nbelow is my firebase database structure\r\n\r\n(https://i.stack.imgur.com/LmYvR.png)\r\n[complete picture of firebase database for clarity][1]\r\n\r\nbelow is my code for the RecyclerView adapter class\r\n\r\n```\r\npackage com.example.adminclient;\r\n\r\nimport android.content.Context;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.Button;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.ValueEventListener;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class AdapterRecycler extends RecyclerView.Adapter&lt;AdapterRecycler.MyViewHolder&gt; {\r\n\r\n\r\n    Context context;\r\n    ArrayList&lt;UserData&gt; list;\r\n    FirebaseDatabase fDB = FirebaseDatabase.getInstance();\r\n    DatabaseReference reference = fDB.getReference();\r\n\r\n\r\n\r\n    public AdapterRecycler(Context context, ArrayList&lt;UserData&gt; list) {\r\n        this.context = context;\r\n        this.list = list;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View v = LayoutInflater.from(context).inflate(R.layout.users,parent,false);\r\n        return new MyViewHolder(v);\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\r\n        UserData userData = list.get(position);\r\n\r\n        holder.firstName.setText(userData.getFirstName());\r\n        holder.address.setText(userData.getAddress());\r\n        holder.emailAddress.setText(userData.getEmailAddress());\r\n        holder.userStatus.setText(userData.getUserStatus());\r\n\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return list.size();\r\n    }\r\n\r\n    public static class MyViewHolder extends RecyclerView.ViewHolder{\r\n\r\n        TextView firstName, address, emailAddress, userStatus;\r\n        Button approveUser;\r\n        FirebaseDatabase fDB = FirebaseDatabase.getInstance();\r\n        DatabaseReference reference = fDB.getReference();\r\n\r\n\r\n        public MyViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            firstName = itemView.findViewById(R.id.firstNametv);\r\n            address = itemView.findViewById(R.id.addresstv);\r\n            emailAddress = itemView.findViewById(R.id.emailtv);\r\n            approveUser = itemView. findViewById(R.id.approve);\r\n            userStatus = itemView.findViewById(R.id.userStatustv);\r\n           // String firstNamedb = firstName.getText().toString();\r\n\r\n\r\n\r\n            approveUser.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    fDB.getReference().child(&quot;Users&quot;).addListenerForSingleValueEvent(new ValueEventListener() {\r\n                        @Override\r\n                        public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n\r\n                                reference.child(&quot;Users&quot;).child(???).child(&quot;userStatus&quot;).setValue(&quot;1&quot;);\r\n\r\n                        }\r\n\r\n                        @Override\r\n                        public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n                        }\r\n                    });\r\n\r\n\r\n                }\r\n            });\r\n\r\n        }\r\n\r\n\r\n    }\r\n}\r\n```\r\n\r\n[Here&#39;s a screenshot of Recycler View in app](https://i.stack.imgur.com/WmpP4.jpg)\r\n\r\nBelow is the code for Recycler View class\r\n\r\n```\r\npackage com.example.adminclient;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport android.os.Bundle;\r\n\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.ValueEventListener;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class VerifyUsers extends AppCompatActivity {\r\n\r\n    RecyclerView recyclerView;\r\n    DatabaseReference databaseReference;\r\n    AdapterRecycler adapterRecycler;\r\n    ArrayList&lt;UserData&gt; list;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_verify_users);\r\n\r\n        recyclerView = findViewById(R.id.userVerify);\r\n        databaseReference = FirebaseDatabase.getInstance().getReference(&quot;Users&quot;);\r\n        recyclerView.setHasFixedSize(true);\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n\r\n\r\n\r\n        list = new ArrayList&lt;&gt;();\r\n        adapterRecycler = new AdapterRecycler(this, list);\r\n        recyclerView.setAdapter(adapterRecycler);\r\n\r\n        databaseReference.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n\r\n                for (DataSnapshot dataSnapshot : snapshot.getChildren()){\r\n\r\n                    UserData userData = dataSnapshot.getValue(UserData.class);\r\n                    list.add(userData);\r\n                }\r\n                adapterRecycler.notifyDataSetChanged();\r\n\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\n\r\nif there&#39;s anyone out there that understands my situation and problem please help me out.\r\n\r\nI tried what I could on &#39;approve&#39; button onclicklistener by adding a value event listener to it and retrieving from firebase database reference for the child but I have no clue on how to move forward from here.\r\n\r\n```\r\napproveUser.setOnClickListener(new View.OnClickListener() {\r\n    @Override\r\n    public void onClick(View view) {\r\n        fDB.getReference().child(&quot;Users&quot;).addListenerForSingleValueEvent(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n\r\n                    reference.child(&quot;Users&quot;).child(???).child(&quot;userStatus&quot;).setValue(&quot;1&quot;);\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        });\r\n\r\n\r\n    }\r\n});\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FLvNB.png\r\n\r\n\r\nBelow here is my UserData class\r\n\r\n\r\n    package com.example.adminclient;\r\n    \r\n    import android.location.Address;\r\n    \r\n    public class UserData {\r\n        String firstName;\r\n        String address;\r\n        String emailAddress;\r\n    \r\n        String userStatus;\r\n    \r\n    \r\n    \r\n    \r\n    \r\n        public UserData() {\r\n        }\r\n        \r\n        public String getFirstName() {\r\n    \r\n            return firstName;\r\n        }\r\n    \r\n        public String getAddress() {\r\n    \r\n            return address;\r\n        }\r\n    \r\n        public String getEmailAddress() {\r\n    \r\n            return emailAddress;\r\n        }\r\n    \r\n        public String getUserStatus() {\r\n            return userStatus;\r\n        }\r\n    }\r\n\r\n","title":"how to access child of child node from firebase in a different module of android studio","body":"<p>Ok, so I have two modules in my app. One is for users, the other is for admin. the admin has to basically approve the user's registration when a user registers themselves, for this I made a simple logic when a user registers they're registered with an extra value <code>userStatus = &quot;0&quot;</code>, and the admin when clicks the approve button the value changes to &quot;1&quot; and they're allowed to log in. I'm using a Recycler View to show all the users from my database to the admin module but I wanna change a value that I'm not sure how to access,</p>\n<p>below is my firebase database structure</p>\n<p>(<a href=\"https://i.stack.imgur.com/LmYvR.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/LmYvR.png</a>)\n<a href=\"https://i.stack.imgur.com/FLvNB.png\" rel=\"nofollow noreferrer\">complete picture of firebase database for clarity</a></p>\n<p>below is my code for the RecyclerView adapter class</p>\n<pre><code>package com.example.adminclient;\n\nimport android.content.Context;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.Button;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport com.google.firebase.database.DataSnapshot;\nimport com.google.firebase.database.DatabaseError;\nimport com.google.firebase.database.DatabaseReference;\nimport com.google.firebase.database.FirebaseDatabase;\nimport com.google.firebase.database.ValueEventListener;\n\nimport java.util.ArrayList;\n\npublic class AdapterRecycler extends RecyclerView.Adapter&lt;AdapterRecycler.MyViewHolder&gt; {\n\n\n    Context context;\n    ArrayList&lt;UserData&gt; list;\n    FirebaseDatabase fDB = FirebaseDatabase.getInstance();\n    DatabaseReference reference = fDB.getReference();\n\n\n\n    public AdapterRecycler(Context context, ArrayList&lt;UserData&gt; list) {\n        this.context = context;\n        this.list = list;\n    }\n\n    @NonNull\n    @Override\n    public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View v = LayoutInflater.from(context).inflate(R.layout.users,parent,false);\n        return new MyViewHolder(v);\n\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\n        UserData userData = list.get(position);\n\n        holder.firstName.setText(userData.getFirstName());\n        holder.address.setText(userData.getAddress());\n        holder.emailAddress.setText(userData.getEmailAddress());\n        holder.userStatus.setText(userData.getUserStatus());\n\n    }\n\n    @Override\n    public int getItemCount() {\n        return list.size();\n    }\n\n    public static class MyViewHolder extends RecyclerView.ViewHolder{\n\n        TextView firstName, address, emailAddress, userStatus;\n        Button approveUser;\n        FirebaseDatabase fDB = FirebaseDatabase.getInstance();\n        DatabaseReference reference = fDB.getReference();\n\n\n        public MyViewHolder(@NonNull View itemView) {\n            super(itemView);\n            firstName = itemView.findViewById(R.id.firstNametv);\n            address = itemView.findViewById(R.id.addresstv);\n            emailAddress = itemView.findViewById(R.id.emailtv);\n            approveUser = itemView. findViewById(R.id.approve);\n            userStatus = itemView.findViewById(R.id.userStatustv);\n           // String firstNamedb = firstName.getText().toString();\n\n\n\n            approveUser.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View view) {\n                    fDB.getReference().child(&quot;Users&quot;).addListenerForSingleValueEvent(new ValueEventListener() {\n                        @Override\n                        public void onDataChange(@NonNull DataSnapshot snapshot) {\n\n                                reference.child(&quot;Users&quot;).child(???).child(&quot;userStatus&quot;).setValue(&quot;1&quot;);\n\n                        }\n\n                        @Override\n                        public void onCancelled(@NonNull DatabaseError error) {\n\n                        }\n                    });\n\n\n                }\n            });\n\n        }\n\n\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/WmpP4.jpg\" rel=\"nofollow noreferrer\">Here's a screenshot of Recycler View in app</a></p>\n<p>Below is the code for Recycler View class</p>\n<pre><code>package com.example.adminclient;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport android.os.Bundle;\n\nimport com.google.firebase.database.DataSnapshot;\nimport com.google.firebase.database.DatabaseError;\nimport com.google.firebase.database.DatabaseReference;\nimport com.google.firebase.database.FirebaseDatabase;\nimport com.google.firebase.database.ValueEventListener;\n\nimport java.util.ArrayList;\n\npublic class VerifyUsers extends AppCompatActivity {\n\n    RecyclerView recyclerView;\n    DatabaseReference databaseReference;\n    AdapterRecycler adapterRecycler;\n    ArrayList&lt;UserData&gt; list;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_verify_users);\n\n        recyclerView = findViewById(R.id.userVerify);\n        databaseReference = FirebaseDatabase.getInstance().getReference(&quot;Users&quot;);\n        recyclerView.setHasFixedSize(true);\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\n\n\n\n        list = new ArrayList&lt;&gt;();\n        adapterRecycler = new AdapterRecycler(this, list);\n        recyclerView.setAdapter(adapterRecycler);\n\n        databaseReference.addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n\n                for (DataSnapshot dataSnapshot : snapshot.getChildren()){\n\n                    UserData userData = dataSnapshot.getValue(UserData.class);\n                    list.add(userData);\n                }\n                adapterRecycler.notifyDataSetChanged();\n\n\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n\n            }\n        });\n    }\n}\n</code></pre>\n<p>if there's anyone out there that understands my situation and problem please help me out.</p>\n<p>I tried what I could on 'approve' button onclicklistener by adding a value event listener to it and retrieving from firebase database reference for the child but I have no clue on how to move forward from here.</p>\n<pre><code>approveUser.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View view) {\n        fDB.getReference().child(&quot;Users&quot;).addListenerForSingleValueEvent(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n\n                    reference.child(&quot;Users&quot;).child(???).child(&quot;userStatus&quot;).setValue(&quot;1&quot;);\n\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n\n            }\n        });\n\n\n    }\n});\n</code></pre>\n<p>Below here is my UserData class</p>\n<pre><code>package com.example.adminclient;\n\nimport android.location.Address;\n\npublic class UserData {\n    String firstName;\n    String address;\n    String emailAddress;\n\n    String userStatus;\n\n\n\n\n\n    public UserData() {\n    }\n    \n    public String getFirstName() {\n\n        return firstName;\n    }\n\n    public String getAddress() {\n\n        return address;\n    }\n\n    public String getEmailAddress() {\n\n        return emailAddress;\n    }\n\n    public String getUserStatus() {\n        return userStatus;\n    }\n}\n</code></pre>\n"},{"tags":["java","apache-poi"],"comments":[{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1472508851,"post_id":39214769,"comment_id":65770536,"body_markdown":"Did you [read the Apache POI FAQ on the various read and write methods](http://poi.apache.org/faq.html#faq-N1023C)? Can you work with `.xls` rather than `.xlsx`? (The former currently, as of 3.15 beta 2 / 3.15 final, has better developed support for in-place write and writing to new files)","body":"Did you <a href=\"http://poi.apache.org/faq.html#faq-N1023C\" rel=\"nofollow noreferrer\">read the Apache POI FAQ on the various read and write methods</a>? Can you work with <code>.xls</code> rather than <code>.xlsx</code>? (The former currently, as of 3.15 beta 2 / 3.15 final, has better developed support for in-place write and writing to new files)"},{"owner":{"account_id":7494656,"reputation":293,"user_id":5695326,"accept_rate":67,"display_name":"Gurtz"},"score":0,"creation_date":1472510462,"post_id":39214769,"comment_id":65771038,"body_markdown":"Thanks for the info and the suggestion. Unfortunately, I&#39;m mostly locked into using XLSX.","body":"Thanks for the info and the suggestion. Unfortunately, I&#39;m mostly locked into using XLSX."}],"answers":[{"comments":[{"owner":{"account_id":7494656,"reputation":293,"user_id":5695326,"accept_rate":67,"display_name":"Gurtz"},"score":0,"creation_date":1472503328,"post_id":39214825,"comment_id":65768449,"body_markdown":"Good thought. The thing is, I will only know after reading the file whether a subsequent write will be necessary. (That&#39;s a user decision.) As such, I want to read the file, release resources, and then only create a new file later if necessary. Thanks for the suggestion.","body":"Good thought. The thing is, I will only know after reading the file whether a subsequent write will be necessary. (That&#39;s a user decision.) As such, I want to read the file, release resources, and then only create a new file later if necessary. Thanks for the suggestion."},{"owner":{"account_id":2675393,"reputation":1811,"user_id":2311919,"display_name":"rohitvats"},"score":1,"creation_date":1472503507,"post_id":39214825,"comment_id":65768535,"body_markdown":"I see, if you don&#39;t want to create and delete a file (if no modification required), then you might need to open the file in read only mode, and if a modification is required, create a copy and re-open the copy for modification.","body":"I see, if you don&#39;t want to create and delete a file (if no modification required), then you might need to open the file in read only mode, and if a modification is required, create a copy and re-open the copy for modification."},{"owner":{"account_id":7494656,"reputation":293,"user_id":5695326,"accept_rate":67,"display_name":"Gurtz"},"score":0,"creation_date":1472503618,"post_id":39214825,"comment_id":65768576,"body_markdown":"Oh, OK, I was hoping to avoid that (due to the cost of opening the file, which could be fairly large). Thanks.","body":"Oh, OK, I was hoping to avoid that (due to the cost of opening the file, which could be fairly large). Thanks."},{"owner":{"account_id":2675393,"reputation":1811,"user_id":2311919,"display_name":"rohitvats"},"score":0,"creation_date":1472503939,"post_id":39214825,"comment_id":65768717,"body_markdown":"Yeah, it will mean reading the file twice, so copying the file first and deleting it if no modification is required might be more efficient. I&#39;d also suggest trying to create the workbook with a stream, although as you said, POI can be inefficient when working with streams, but might be worth a try. So you have three options to try: 1) Create a copy of the file and delete if not modification required. 2) Read the file twice (once in read only-mode) 3) Use a stream to create the workbook.","body":"Yeah, it will mean reading the file twice, so copying the file first and deleting it if no modification is required might be more efficient. I&#39;d also suggest trying to create the workbook with a stream, although as you said, POI can be inefficient when working with streams, but might be worth a try. So you have three options to try: 1) Create a copy of the file and delete if not modification required. 2) Read the file twice (once in read only-mode) 3) Use a stream to create the workbook."},{"owner":{"account_id":7494656,"reputation":293,"user_id":5695326,"accept_rate":67,"display_name":"Gurtz"},"score":0,"creation_date":1472504369,"post_id":39214825,"comment_id":65768922,"body_markdown":"Thanks. Something else which might work is to open the OPCPackage myself, read in the workbook (by passing the package to the XSSFWorkbook constructor), and then calling revert() on the package, which should release the resources without writing anything back to the file. Still need to test it, but I&#39;m hopeful.","body":"Thanks. Something else which might work is to open the OPCPackage myself, read in the workbook (by passing the package to the XSSFWorkbook constructor), and then calling revert() on the package, which should release the resources without writing anything back to the file. Still need to test it, but I&#39;m hopeful."},{"owner":{"account_id":7494656,"reputation":293,"user_id":5695326,"accept_rate":67,"display_name":"Gurtz"},"score":0,"creation_date":1472508478,"post_id":39214825,"comment_id":65770436,"body_markdown":"Doesn&#39;t seem it&#39;s going to work, unfortunately. Working with the OPCPackage directly allows me to open the Workbook as read/write, release the resources, and then edit the Workbook in memory. But when I try to write it out to a new file, it complains that the Zip file is closed. I guess, using the File read method, it doesn&#39;t read in everything it would need to write out the file again (whereas with the Stream read method it does). At least that&#39;s the theory. Seems your options are fairly complete. Thanks for the help! I accepted your answer (but couldn&#39;t up vote).","body":"Doesn&#39;t seem it&#39;s going to work, unfortunately. Working with the OPCPackage directly allows me to open the Workbook as read/write, release the resources, and then edit the Workbook in memory. But when I try to write it out to a new file, it complains that the Zip file is closed. I guess, using the File read method, it doesn&#39;t read in everything it would need to write out the file again (whereas with the Stream read method it does). At least that&#39;s the theory. Seems your options are fairly complete. Thanks for the help! I accepted your answer (but couldn&#39;t up vote)."},{"owner":{"account_id":5802435,"reputation":1586,"user_id":6385845,"display_name":"Aditya T"},"score":0,"creation_date":1680000907,"post_id":39214825,"comment_id":133818241,"body_markdown":"This answer helped me fixing similar issue, I will add an answer separately to highlight that here.","body":"This answer helped me fixing similar issue, I will add an answer separately to highlight that here."}],"tags":[],"owner":{"account_id":2675393,"reputation":1811,"user_id":2311919,"display_name":"rohitvats"},"comment_count":7,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1472504110,"creation_date":1472503189,"answer_id":39214825,"question_id":39214769,"body_markdown":"Options could be:\r\n\r\n 1. Create a copy of the file and read/write on the copy\r\n 2. Open the original file as read-only, then create a copy to write if required\r\n 3. Use an input stream from the original file to create the workbook","title":"POI read file without updating file timestamp","body":"<p>Options could be:</p>\n\n<ol>\n<li>Create a copy of the file and read/write on the copy</li>\n<li>Open the original file as read-only, then create a copy to write if required</li>\n<li>Use an input stream from the original file to create the workbook</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":5802435,"reputation":1586,"user_id":6385845,"display_name":"Aditya T"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680002659,"creation_date":1680002659,"answer_id":75865630,"question_id":39214769,"body_markdown":"I had a similar issue where I was trying to read an existing excel file for template purpose using \r\n\r\n    \r\n        XSSFWorkbook workbook = new XSSFWorkbook(ResourceUtils.getFile(&quot;classpath:legend_wb.xlsx&quot;));\r\n\r\nUpdating data in memory and sending it as OutputStream for download through REST API but failed to notice that in subsequent downloads whenever sheet had less data, old rows were also coming so basically it as overwriting the cells for whatever data sheet had.\r\n\r\nComing to this question, and following point 3, I wrote following. \r\n\r\n    FileInputStream fis = new FileInputStream(ResourceUtils.getFile(&quot;classpath:legend_wb.xlsx&quot;));\r\n    XSSFWorkbook workbook = new XSSFWorkbook(fis);\r\n\r\n Above code helps to create a copy of existing excel in memory without needing to work on existing excel file directly and also keeps your original excel file intact without any modifications.  ","title":"POI read file without updating file timestamp","body":"<p>I had a similar issue where I was trying to read an existing excel file for template purpose using</p>\n<pre><code>    XSSFWorkbook workbook = new XSSFWorkbook(ResourceUtils.getFile(&quot;classpath:legend_wb.xlsx&quot;));\n</code></pre>\n<p>Updating data in memory and sending it as OutputStream for download through REST API but failed to notice that in subsequent downloads whenever sheet had less data, old rows were also coming so basically it as overwriting the cells for whatever data sheet had.</p>\n<p>Coming to this question, and following point 3, I wrote following.</p>\n<pre><code>FileInputStream fis = new FileInputStream(ResourceUtils.getFile(&quot;classpath:legend_wb.xlsx&quot;));\nXSSFWorkbook workbook = new XSSFWorkbook(fis);\n</code></pre>\n<p>Above code helps to create a copy of existing excel in memory without needing to work on existing excel file directly and also keeps your original excel file intact without any modifications.</p>\n"}],"owner":{"account_id":7494656,"reputation":293,"user_id":5695326,"accept_rate":67,"display_name":"Gurtz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1817,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":39214825,"answer_count":2,"score":4,"last_activity_date":1680002659,"creation_date":1472502932,"question_id":39214769,"body_markdown":"It appears that one can open an Excel file using\r\n\r\n    Workbook wb = WorkbookFactory.create(myFile);\r\n\r\n...but then, even if no changes are made, a call to\r\n\r\n    wb.close();\r\n\r\n...to release resources will result in the file on the file system being updated (at least the timestamp will be, if nothing else). The only way I have found around this is to specify that the Workbook should be created &quot;read only&quot; with\r\n\r\n    Workbook wb = WorkbookFactory.create(myFile, true);\r\n\r\nWhat I&#39;m trying to do is the following: \r\n\r\n- I want to open an existing Workbook from a File;\r\n- Immediately release any filesystem resources, but retain the Workbook in memory; (this should not update the timestamp of the original file);\r\n- Make changes to the in-memory Workbook;\r\n- Save the modified Workbook to a new file.\r\n\r\nIs this possible? I&#39;ve tried many things, but can&#39;t seem to get it to work. If I don&#39;t want the original file timestamp updated, it seems I have to open the Workbook as read only. But then I can&#39;t modify it in memory for a subsequent write to a new file. Catch-22. \r\n\r\n[BTW, I&#39;m creating the Workbook from a File rather than a stream, as I understand it is more efficient. If I used a stream I could possibly get around this issue by closing the stream myself. Also, I&#39;m working with XLSX/XLSM not XLS files.]\r\n\r\nThoughts? Thanks!","title":"POI read file without updating file timestamp","body":"<p>It appears that one can open an Excel file using</p>\n\n<pre><code>Workbook wb = WorkbookFactory.create(myFile);\n</code></pre>\n\n<p>...but then, even if no changes are made, a call to</p>\n\n<pre><code>wb.close();\n</code></pre>\n\n<p>...to release resources will result in the file on the file system being updated (at least the timestamp will be, if nothing else). The only way I have found around this is to specify that the Workbook should be created \"read only\" with</p>\n\n<pre><code>Workbook wb = WorkbookFactory.create(myFile, true);\n</code></pre>\n\n<p>What I'm trying to do is the following: </p>\n\n<ul>\n<li>I want to open an existing Workbook from a File;</li>\n<li>Immediately release any filesystem resources, but retain the Workbook in memory; (this should not update the timestamp of the original file);</li>\n<li>Make changes to the in-memory Workbook;</li>\n<li>Save the modified Workbook to a new file.</li>\n</ul>\n\n<p>Is this possible? I've tried many things, but can't seem to get it to work. If I don't want the original file timestamp updated, it seems I have to open the Workbook as read only. But then I can't modify it in memory for a subsequent write to a new file. Catch-22. </p>\n\n<p>[BTW, I'm creating the Workbook from a File rather than a stream, as I understand it is more efficient. If I used a stream I could possibly get around this issue by closing the stream myself. Also, I'm working with XLSX/XLSM not XLS files.]</p>\n\n<p>Thoughts? Thanks!</p>\n"},{"tags":["java","terminal","serial-port","com0com"],"comments":[{"owner":{"account_id":135266,"reputation":6543,"user_id":338004,"display_name":"Paul Jowett"},"score":0,"creation_date":1281085326,"post_id":3422263,"comment_id":3562605,"body_markdown":"You&#39;ll find that if you post some key pieces of code, the coders will much more information to help you with an answer.  For example, precisely how are you reading and writing to/from the ports?","body":"You&#39;ll find that if you post some key pieces of code, the coders will much more information to help you with an answer.  For example, precisely how are you reading and writing to/from the ports?"},{"owner":{"account_id":156119,"reputation":1100,"user_id":373207,"accept_rate":58,"display_name":"Berty"},"score":0,"creation_date":1281105620,"post_id":3422263,"comment_id":3565328,"body_markdown":"ok added code\nhope it doesn&#39;t scare ppl away ^^","body":"ok added code hope it doesn&#39;t scare ppl away ^^"}],"answers":[{"tags":[],"owner":{"account_id":156119,"reputation":1100,"user_id":373207,"accept_rate":58,"display_name":"Berty"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1314642470,"creation_date":1282550662,"answer_id":3545682,"question_id":3422263,"body_markdown":"I can&#39;t figure out what the problem is, so I&#39;m going to try it with [a physical cable][1].\r\n\r\nOr if you&#39;re handy, *[a RS-232 serial spy monitor cable][2]*.\r\n\r\n  [1]: http://www.commfront.com/RS232_Protocol_Analyzer_Monitor/RS232_Spy_Monitor_Cable_Half_Duplex.htm\r\n  [2]: http://www.lammertbies.nl/comm/cable/RS-232-spy-monitor.html\r\n","title":"com0com RS232 terminal Java program","body":"<p>I can't figure out what the problem is, so I'm going to try it with <a href=\"http://www.commfront.com/RS232_Protocol_Analyzer_Monitor/RS232_Spy_Monitor_Cable_Half_Duplex.htm\" rel=\"nofollow noreferrer\">a physical cable</a>.</p>\n\n<p>Or if you're handy, <em><a href=\"http://www.lammertbies.nl/comm/cable/RS-232-spy-monitor.html\" rel=\"nofollow noreferrer\">a RS-232 serial spy monitor cable</a></em>.</p>\n"}],"owner":{"account_id":156119,"reputation":1100,"user_id":373207,"accept_rate":58,"display_name":"Berty"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3603,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":3545682,"answer_count":1,"score":0,"last_activity_date":1680002492,"creation_date":1281084748,"question_id":3422263,"body_markdown":"I made a Java program that runs on a computer with two RS-232 ports.\r\n\r\nIt works pretty good. I connected two devices that communicate with each other through RS-232. I put the computer between the cable.\r\n\r\nYou can see everything getting send on a terminal window.\r\n\r\nBut after a random amount of time one device stops responding to queries.\r\n\r\nNormally device 1 sends query 1 and the device responds.\r\n\r\nBut after some time the device starts sending query 2 and device 2 doesn&#39;t respond anymore.\r\n\r\nHere is a capture:\r\n\r\n * First column: COM port id\r\n * Second column: decimal presentation of the character\r\n * Third column: visualization of characters\r\n\r\n[![https://i77.photobucket.com/albums/j74/bertyhell/errors/capture.png?t=1281084570][1]][1]\n&lt;!-- source: https://i77.photobucket.com/albums/j74/bertyhell/errors/capture.png?t=1281084570 --&gt;\r\n\r\nWhy is this not working? I&#39;m planning on making the terminal program open source in the future.\r\n\r\nEDIT:\r\nI didn&#39;t post any code because the code works. It only stops working after 5 min - 1 hour.\r\n\r\nHere is the connection code:\r\n\r\n        CommPortIdentifier portIdentifier;\r\n        portIdentifier = CommPortIdentifier.getPortIdentifier(&quot;COM1&quot;);\r\n        InputStream inCom1;\r\n        InputStream inCom2;\r\n        if (portIdentifier.isCurrentlyOwned()) {\r\n            addError(&quot;COM1 in use!, please restart&quot;);\r\n        }\r\n        else {\r\n            SerialPort serialPort = (SerialPort) portIdentifier.open(&quot;Main&quot;, 2000);\r\n            //19200 8n1\r\n            serialPort.setSerialPortParams(19200, SerialPort.DATABITS_8, SerialPort.STOPBITS_1, SerialPort.PARITY_NONE);\r\n            // CTS/RTS handshaking\r\n            serialPort.setFlowControlMode(SerialPort.FLOWCONTROL_RTSCTS_IN | SerialPort.FLOWCONTROL_RTSCTS_OUT);\r\n            //Set sender\r\n            Com1Sender.setWriterStream(serialPort.getOutputStream());\r\n            //Set receiver\r\n            //    new com1_receive(serialPort.getInputStream()).start();\r\n\r\n            inCom1 = serialPort.getInputStream();\r\n\r\n            portIdentifier = CommPortIdentifier.getPortIdentifier(&quot;COM2&quot;);\r\n            if (portIdentifier.isCurrentlyOwned()) {\r\n                addError(&quot;COM2 in use!, please restart&quot;);\r\n            }\r\n            else {\r\n                serialPort = (SerialPort) portIdentifier.open(&quot;Main2&quot;, 2001);\r\n                //19200 8n1\r\n                serialPort.setSerialPortParams(19200, SerialPort.DATABITS_8, SerialPort.STOPBITS_1, SerialPort.PARITY_NONE);\r\n                // CTS/RTS handshaking\r\n                serialPort.setFlowControlMode(SerialPort.FLOWCONTROL_RTSCTS_IN | SerialPort.FLOWCONTROL_RTSCTS_OUT);\r\n                //Set sender\r\n                Com2Sender.setWriterStream(serialPort.getOutputStream());\r\n                //set receiver\r\n                //    new com2_receive(serialPort.getInputStream()).start();\r\n\r\n                inCom2 = serialPort.getInputStream();\r\n                new Receiver(inCom1, inCom2).start();\r\n            }\r\n        }\r\n\r\nThis is the receiver:\r\n\r\n        public class Receiver extends Thread {\r\n            InputStream inCom1;\r\n            InputStream inCom2;\r\n\r\n            public Receiver(InputStream inCom1, InputStream inCom2) {\r\n                this.inCom1 = inCom1;\r\n                this.inCom2 = inCom2;\r\n            }\r\n\r\n            @Override\r\n            public void run() {\r\n                try {\r\n                    int b1;\r\n                    int b2;\r\n                    while (true) {\r\n                        // if stream is not bound in.read() method returns -1\r\n\r\n                        //dect\r\n                        while ((b1 = inCom1.read()) != -1) {\r\n                            //Send trough to COM2\r\n                            Com2Sender.send(new byte[]{(byte) b1});\r\n                            Main.addText(Integer.toString(b1), true);\r\n                        }\r\n\r\n                        //televic\r\n                        while ((b2 = inCom2.read()) != -1) {\r\n                            //Send trough to COM2\r\n                            Com1Sender.send(new byte[]{(byte) b2});\r\n                            Main.addText(Integer.toString(b2), false);\r\n                            MessageExtractor.add(b2);\r\n                        }\r\n\r\n                        // Wait 10 ms when stream is broken and check again.\r\n                        sleep(10);\r\n                    }\r\n                } catch (Exception e) {\r\n                    Main.addError(e.getMessage());\r\n                }\r\n            }\r\n        }\r\n\r\nThis is one of the senders:\r\n\r\n        public class Com1Sender {\r\n            static OutputStream out;\r\n\r\n            public static void setWriterStream(OutputStream out) {\r\n                Com1Sender.out = out;\r\n            }\r\n\r\n            public static void send(byte[] bytes) {\r\n                try {\r\n                    // Sending through serial port is simply writing into OutputStream.\r\n                    out.write(bytes);\r\n                    out.flush();\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n\r\n            public static void send(int letter) {\r\n                try {\r\n                    Main.addText(Character.toString((char)letter), false);\r\n\r\n                    // Sending through serial port is simply writing into OutputStream.\r\n                    out.write(new byte[]{(byte)letter});\r\n                    out.flush();\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n\r\n  [1]: https://i.stack.imgur.com/3K38t.png\r","title":"com0com RS232 terminal Java program","body":"<p>I made a Java program that runs on a computer with two RS-232 ports.</p>\n<p>It works pretty good. I connected two devices that communicate with each other through RS-232. I put the computer between the cable.</p>\n<p>You can see everything getting send on a terminal window.</p>\n<p>But after a random amount of time one device stops responding to queries.</p>\n<p>Normally device 1 sends query 1 and the device responds.</p>\n<p>But after some time the device starts sending query 2 and device 2 doesn't respond anymore.</p>\n<p>Here is a capture:</p>\n<ul>\n<li>First column: COM port id</li>\n<li>Second column: decimal presentation of the character</li>\n<li>Third column: visualization of characters</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/3K38t.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3K38t.png\" alt=\"https://i77.photobucket.com/albums/j74/bertyhell/errors/capture.png?t=1281084570\" /></a></p>\n\n<p>Why is this not working? I'm planning on making the terminal program open source in the future.</p>\n<p>EDIT:\nI didn't post any code because the code works. It only stops working after 5 min - 1 hour.</p>\n<p>Here is the connection code:</p>\n<pre><code>    CommPortIdentifier portIdentifier;\n    portIdentifier = CommPortIdentifier.getPortIdentifier(&quot;COM1&quot;);\n    InputStream inCom1;\n    InputStream inCom2;\n    if (portIdentifier.isCurrentlyOwned()) {\n        addError(&quot;COM1 in use!, please restart&quot;);\n    }\n    else {\n        SerialPort serialPort = (SerialPort) portIdentifier.open(&quot;Main&quot;, 2000);\n        //19200 8n1\n        serialPort.setSerialPortParams(19200, SerialPort.DATABITS_8, SerialPort.STOPBITS_1, SerialPort.PARITY_NONE);\n        // CTS/RTS handshaking\n        serialPort.setFlowControlMode(SerialPort.FLOWCONTROL_RTSCTS_IN | SerialPort.FLOWCONTROL_RTSCTS_OUT);\n        //Set sender\n        Com1Sender.setWriterStream(serialPort.getOutputStream());\n        //Set receiver\n        //    new com1_receive(serialPort.getInputStream()).start();\n\n        inCom1 = serialPort.getInputStream();\n\n        portIdentifier = CommPortIdentifier.getPortIdentifier(&quot;COM2&quot;);\n        if (portIdentifier.isCurrentlyOwned()) {\n            addError(&quot;COM2 in use!, please restart&quot;);\n        }\n        else {\n            serialPort = (SerialPort) portIdentifier.open(&quot;Main2&quot;, 2001);\n            //19200 8n1\n            serialPort.setSerialPortParams(19200, SerialPort.DATABITS_8, SerialPort.STOPBITS_1, SerialPort.PARITY_NONE);\n            // CTS/RTS handshaking\n            serialPort.setFlowControlMode(SerialPort.FLOWCONTROL_RTSCTS_IN | SerialPort.FLOWCONTROL_RTSCTS_OUT);\n            //Set sender\n            Com2Sender.setWriterStream(serialPort.getOutputStream());\n            //set receiver\n            //    new com2_receive(serialPort.getInputStream()).start();\n\n            inCom2 = serialPort.getInputStream();\n            new Receiver(inCom1, inCom2).start();\n        }\n    }\n</code></pre>\n<p>This is the receiver:</p>\n<pre><code>    public class Receiver extends Thread {\n        InputStream inCom1;\n        InputStream inCom2;\n\n        public Receiver(InputStream inCom1, InputStream inCom2) {\n            this.inCom1 = inCom1;\n            this.inCom2 = inCom2;\n        }\n\n        @Override\n        public void run() {\n            try {\n                int b1;\n                int b2;\n                while (true) {\n                    // if stream is not bound in.read() method returns -1\n\n                    //dect\n                    while ((b1 = inCom1.read()) != -1) {\n                        //Send trough to COM2\n                        Com2Sender.send(new byte[]{(byte) b1});\n                        Main.addText(Integer.toString(b1), true);\n                    }\n\n                    //televic\n                    while ((b2 = inCom2.read()) != -1) {\n                        //Send trough to COM2\n                        Com1Sender.send(new byte[]{(byte) b2});\n                        Main.addText(Integer.toString(b2), false);\n                        MessageExtractor.add(b2);\n                    }\n\n                    // Wait 10 ms when stream is broken and check again.\n                    sleep(10);\n                }\n            } catch (Exception e) {\n                Main.addError(e.getMessage());\n            }\n        }\n    }\n</code></pre>\n<p>This is one of the senders:</p>\n<pre><code>    public class Com1Sender {\n        static OutputStream out;\n\n        public static void setWriterStream(OutputStream out) {\n            Com1Sender.out = out;\n        }\n\n        public static void send(byte[] bytes) {\n            try {\n                // Sending through serial port is simply writing into OutputStream.\n                out.write(bytes);\n                out.flush();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n\n        public static void send(int letter) {\n            try {\n                Main.addText(Character.toString((char)letter), false);\n\n                // Sending through serial port is simply writing into OutputStream.\n                out.write(new byte[]{(byte)letter});\n                out.flush();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n</code></pre>\n"},{"tags":["java","maven","testng","pom.xml","webdriver-manager"],"comments":[{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1680172379,"post_id":75865411,"comment_id":133854486,"body_markdown":"Show how you parse parameters from command line","body":"Show how you parse parameters from command line"}],"owner":{"account_id":14943619,"reputation":13,"user_id":10789520,"display_name":"mohammed azharuddin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680002350,"creation_date":1680001312,"question_id":75865411,"body_markdown":"[![enter image description here][1]][1]I am unable to launch browser where my test skips and no error is shown\r\n\r\n```\r\npublic class BasePage{\r\n\r\npublic static WebDriver driver;\r\n\r\npublic void WebDriver initalizeDriver(String browserType){\r\n\r\ntry{\r\n    switch(browserType){\r\n       case &quot;Chrome&quot;:\r\n         System.out.println(&quot;selecting chrome&quot;);\r\n         WebDriverManager.chromedriver.setup();\r\n         driver = new ChromeDriver();\r\n         break;\r\n       case &quot;Firefox&quot;:\r\n         System.out.println(&quot;selecting firefox&quot;);\r\n         WebDriverManager.firefoxdriver.setup();\r\n         driver = new FirefoxDriver();\r\n         break;\r\n         }\r\n         driver.manage.deleteAllCookies();\r\n         driver.manage.window.maximize();\r\n     }\r\n         driver.get(&quot;https://www.spicejet.com&quot;)\r\n\r\n   }catch(Exception e){\r\nSystem.out.println(&quot;Error is =&gt;&quot;e.getMessage());\r\n   }\r\n\r\nreturn driver;\r\n\r\n}\r\n```\r\nWhen I run the script it is working fine through TestNG.xml. But when i run through cmd line\r\nI didn&#39;t get any error, script prints Chrome but does not invoke or launch Chrome browser\r\n\r\nI use following dependencies in pom.xml\r\n\r\n\r\n```\r\n&lt;!-- https://mvnrepository.com/artifact/org.apache.maven.plugins/maven-surefire-plugin --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;3.0.0&lt;/version&gt;\r\n    &lt;configuration&gt;\r\n        &lt;includes&gt;\r\n           &lt;include&gt;testRunner.TestRunner&lt;/include&gt;\r\n        &lt;/includes&gt;\r\n    &lt;/configuration&gt;\r\n&lt;/dependency&gt;\r\n&lt;!-- https://mvnrepository.com/artifact/io.github.bonigarcia/webdrivermanager --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\r\n    &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\r\n    &lt;version&gt;5.3.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n    &lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n    &lt;version&gt;7.1.0&lt;/version&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3g8Jp.jpg","title":"Chrome or Firefox is not launched using Maven and skips the test, no error is shown and maven is found as build success","body":"<p><a href=\"https://i.stack.imgur.com/3g8Jp.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3g8Jp.jpg\" alt=\"enter image description here\" /></a>I am unable to launch browser where my test skips and no error is shown</p>\n<pre><code>public class BasePage{\n\npublic static WebDriver driver;\n\npublic void WebDriver initalizeDriver(String browserType){\n\ntry{\n    switch(browserType){\n       case &quot;Chrome&quot;:\n         System.out.println(&quot;selecting chrome&quot;);\n         WebDriverManager.chromedriver.setup();\n         driver = new ChromeDriver();\n         break;\n       case &quot;Firefox&quot;:\n         System.out.println(&quot;selecting firefox&quot;);\n         WebDriverManager.firefoxdriver.setup();\n         driver = new FirefoxDriver();\n         break;\n         }\n         driver.manage.deleteAllCookies();\n         driver.manage.window.maximize();\n     }\n         driver.get(&quot;https://www.spicejet.com&quot;)\n\n   }catch(Exception e){\nSystem.out.println(&quot;Error is =&gt;&quot;e.getMessage());\n   }\n\nreturn driver;\n\n}\n</code></pre>\n<p>When I run the script it is working fine through TestNG.xml. But when i run through cmd line\nI didn't get any error, script prints Chrome but does not invoke or launch Chrome browser</p>\n<p>I use following dependencies in pom.xml</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/org.apache.maven.plugins/maven-surefire-plugin --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.0.0&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;includes&gt;\n           &lt;include&gt;testRunner.TestRunner&lt;/include&gt;\n        &lt;/includes&gt;\n    &lt;/configuration&gt;\n&lt;/dependency&gt;\n&lt;!-- https://mvnrepository.com/artifact/io.github.bonigarcia/webdrivermanager --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\n    &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\n    &lt;version&gt;5.3.2&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.testng&lt;/groupId&gt;\n    &lt;artifactId&gt;testng&lt;/artifactId&gt;\n    &lt;version&gt;7.1.0&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9683,"page":542,"page_size":100}
