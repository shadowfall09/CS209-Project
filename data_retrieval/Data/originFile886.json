{"items":[{"tags":["java","android","firebase-realtime-database","firebase-storage"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1668425196,"post_id":74429819,"comment_id":131393975,"body_markdown":"What exactly in this code doesn&#39;t work the way you expect?\nTell us what is wrong with shared code. Do you have any errors? If you have an error, what is the message that you get?","body":"What exactly in this code doesn&#39;t work the way you expect? Tell us what is wrong with shared code. Do you have any errors? If you have an error, what is the message that you get?"},{"owner":{"account_id":17727800,"reputation":37,"user_id":12871110,"display_name":"saretta2"},"score":0,"creation_date":1668435250,"post_id":74429819,"comment_id":131397372,"body_markdown":"@AlexMamo I have no mistake, only that in the itinerary table, on firebase, I have an id code that I would like to be shown also in the gallery table ... but this is not done","body":"@AlexMamo I have no mistake, only that in the itinerary table, on firebase, I have an id code that I would like to be shown also in the gallery table ... but this is not done"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1668436436,"post_id":74429819,"comment_id":131397806,"body_markdown":"I&#39;m not sure I understand &quot;in the itinerary table, on firebase, I have an id code that I would like to be shown also in the gallery table&quot;. What do you mean by that?","body":"I&#39;m not sure I understand &quot;in the itinerary table, on firebase, I have an id code that I would like to be shown also in the gallery table&quot;. What do you mean by that?"},{"owner":{"account_id":17727800,"reputation":37,"user_id":12871110,"display_name":"saretta2"},"score":0,"creation_date":1668452542,"post_id":74429819,"comment_id":131403619,"body_markdown":"@AlexMamo I would like to do this(photo), how do I do it?","body":"@AlexMamo I would like to do this(photo), how do I do it?"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1668453223,"post_id":74429819,"comment_id":131403846,"body_markdown":"So you want to copy a field from a location to another?","body":"So you want to copy a field from a location to another?"},{"owner":{"account_id":17727800,"reputation":37,"user_id":12871110,"display_name":"saretta2"},"score":0,"creation_date":1668456154,"post_id":74429819,"comment_id":131404696,"body_markdown":"@AlexMamo  yes I already have the class that creates the table with the various attributes, I am missing the link in the method indicated above –","body":"@AlexMamo  yes I already have the class that creates the table with the various attributes, I am missing the link in the method indicated above –"},{"owner":{"account_id":17727800,"reputation":37,"user_id":12871110,"display_name":"saretta2"},"score":0,"creation_date":1668499188,"post_id":74429819,"comment_id":131413365,"body_markdown":"@AlexMamo so it creates a new one: &quot; \n                                DatabaseReference ref = FirebaseDatabase.getInstance().getReference(&quot;Itinerary&quot;);\n                                String itineraryId = ref.push().getKey();\n                                HashMap&lt;String, Object&gt; map = new HashMap&lt;&gt;();\n                                map.put(&quot;image&quot;, uri.toString());\n                                map.put(&quot;userId&quot;, uid);\n                                map.put(&quot;photoId&quot;, galleryId);\n                                map.put(&quot;itineraryId&quot;, itineraryId);","body":"@AlexMamo so it creates a new one: &quot;                                  DatabaseReference ref = FirebaseDatabase.getInstance().getReference(&quot;Itinerary&quot;);                                 String itineraryId = ref.push().getKey();                                 HashMap&lt;String, Object&gt; map = new HashMap&lt;&gt;();                                 map.put(&quot;image&quot;, uri.toString());                                 map.put(&quot;userId&quot;, uid);                                 map.put(&quot;photoId&quot;, galleryId);                                 map.put(&quot;itineraryId&quot;, itineraryId);"},{"owner":{"account_id":17727800,"reputation":37,"user_id":12871110,"display_name":"saretta2"},"score":0,"creation_date":1668499280,"post_id":74429819,"comment_id":131413391,"body_markdown":"@AlexMamo how can I do?","body":"@AlexMamo how can I do?"}],"owner":{"account_id":17727800,"reputation":37,"user_id":12871110,"display_name":"saretta2"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668452488,"creation_date":1668419950,"question_id":74429819,"body_markdown":"have a problem, I&#39;m working on a university project, I have two tables in firebase, the gallery table that contains the photos of the itinerary and the itinerary table that contains the various itineraries of the users now I have to make sure that the id of the itinerary and the ID of the image so as to have a photo corresponding to each itinerary &#236;, also created by the same user. I did so:\r\n\r\n```\r\npublic void addImageItinerary() {\r\n    storageReference = FirebaseStorage.getInstance().getReference();\r\n    referenceDb = FirebaseDatabase.getInstance().getReference();\r\n    firestore =  FirebaseFirestore.getInstance();\r\n    auth = FirebaseAuth.getInstance();\r\n    if (images != null) {\r\n        StorageReference itineraryRef = storageReference.child(&quot;itinerary_image/&quot; + FirebaseAuth.getInstance().getCurrentUser().getUid() + &quot;.jpg&quot;);\r\n        itineraryRef.putFile(images).addOnCompleteListener(new OnCompleteListener&lt;UploadTask.TaskSnapshot&gt;() {\r\n            @Override\r\n            public void onComplete(@NonNull Task&lt;UploadTask.TaskSnapshot&gt; task) {\r\n                if (task.isSuccessful()) {\r\n                    itineraryRef.getDownloadUrl().addOnSuccessListener(new OnSuccessListener&lt;Uri&gt;() {\r\n                        @Override\r\n                        public void onSuccess(Uri uri) {\r\n\r\n                            String itineraryId = referenceDb.child(&quot;Itinerary&quot;).push().getKey();\r\n                            Log.i(&quot;itineraryId&quot;, itineraryId);\r\n\r\n                            HashMap&lt;String, Object&gt; map = new HashMap&lt;&gt;();\r\n                            map.put(&quot;image&quot;, uri.toString());\r\n\r\n                            referenceDb.child(&quot;Gallery&quot;).child(FirebaseAuth.getInstance().getCurrentUser().getUid()+ &quot;/&quot; + itineraryId).setValue(map).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n                                @Override\r\n                                public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n                                    if (task.isSuccessful()) {\r\n\r\n                                        // APRO SCHERMATA MAPPA\r\n                                        // openMapFragment();\r\n                                        Toast.makeText(insertImage_fragment.getActivity(), &quot;ok&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n                                    } else {\r\n\r\n                                        //ERRORE\r\n                                        Toast.makeText(insertImage_fragment.getActivity(), &quot;Operation failed. Please try again&quot;, Toast.LENGTH_SHORT).show();\r\n                                    }\r\n                                }\r\n                            });\r\n                        }\r\n                    });\r\n                } else {\r\n                    Toast.makeText(insertImage_fragment.getActivity(), task.getException().toString(), Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n        });\r\n    } else{\r\n        Toast.makeText(insertImage_fragment.getActivity(),&quot;Please add image&quot;, Toast.LENGTH_SHORT).show();\r\n    }\r\n}\r\n```\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HjP1I.png\r\n","title":"Link two tables in firebase using Id in android studio using Java","body":"<p>have a problem, I'm working on a university project, I have two tables in firebase, the gallery table that contains the photos of the itinerary and the itinerary table that contains the various itineraries of the users now I have to make sure that the id of the itinerary and the ID of the image so as to have a photo corresponding to each itinerary ì, also created by the same user. I did so:</p>\n<pre><code>public void addImageItinerary() {\n    storageReference = FirebaseStorage.getInstance().getReference();\n    referenceDb = FirebaseDatabase.getInstance().getReference();\n    firestore =  FirebaseFirestore.getInstance();\n    auth = FirebaseAuth.getInstance();\n    if (images != null) {\n        StorageReference itineraryRef = storageReference.child(&quot;itinerary_image/&quot; + FirebaseAuth.getInstance().getCurrentUser().getUid() + &quot;.jpg&quot;);\n        itineraryRef.putFile(images).addOnCompleteListener(new OnCompleteListener&lt;UploadTask.TaskSnapshot&gt;() {\n            @Override\n            public void onComplete(@NonNull Task&lt;UploadTask.TaskSnapshot&gt; task) {\n                if (task.isSuccessful()) {\n                    itineraryRef.getDownloadUrl().addOnSuccessListener(new OnSuccessListener&lt;Uri&gt;() {\n                        @Override\n                        public void onSuccess(Uri uri) {\n\n                            String itineraryId = referenceDb.child(&quot;Itinerary&quot;).push().getKey();\n                            Log.i(&quot;itineraryId&quot;, itineraryId);\n\n                            HashMap&lt;String, Object&gt; map = new HashMap&lt;&gt;();\n                            map.put(&quot;image&quot;, uri.toString());\n\n                            referenceDb.child(&quot;Gallery&quot;).child(FirebaseAuth.getInstance().getCurrentUser().getUid()+ &quot;/&quot; + itineraryId).setValue(map).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n                                @Override\n                                public void onComplete(@NonNull Task&lt;Void&gt; task) {\n                                    if (task.isSuccessful()) {\n\n                                        // APRO SCHERMATA MAPPA\n                                        // openMapFragment();\n                                        Toast.makeText(insertImage_fragment.getActivity(), &quot;ok&quot;, Toast.LENGTH_SHORT).show();\n\n                                    } else {\n\n                                        //ERRORE\n                                        Toast.makeText(insertImage_fragment.getActivity(), &quot;Operation failed. Please try again&quot;, Toast.LENGTH_SHORT).show();\n                                    }\n                                }\n                            });\n                        }\n                    });\n                } else {\n                    Toast.makeText(insertImage_fragment.getActivity(), task.getException().toString(), Toast.LENGTH_SHORT).show();\n                }\n            }\n        });\n    } else{\n        Toast.makeText(insertImage_fragment.getActivity(),&quot;Please add image&quot;, Toast.LENGTH_SHORT).show();\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/HjP1I.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","sql","spring-boot","eclipse","hibernate"],"comments":[{"owner":{"account_id":24597681,"reputation":125,"user_id":18500877,"display_name":"lavantho0508"},"score":0,"creation_date":1668495869,"post_id":74436585,"comment_id":131412442,"body_markdown":"Show me the file application.properities","body":"Show me the file application.properities"},{"owner":{"account_id":18040137,"reputation":91,"user_id":13112601,"display_name":"M&#225;rquez"},"score":0,"creation_date":1668573054,"post_id":74436585,"comment_id":131435909,"body_markdown":"Sure @lavantho0508_java_dev\n\n\nserver.port=8090\nspring.datasource.url=jdbc\\:postgresql\\://localhost\\:5432/ejemplo\nspring.datasource.username=postgres\nspring.datasource.password=1234\nspring.datasource.driver-class-name=org.postgresql.Driver\nspring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect\nspring.jpa.hibernate.ddl-auto=create-drop\nlogging.level.org.hibernate.SQL=debug","body":"Sure @lavantho0508_java_dev   server.port=8090 spring.datasource.url=jdbc\\:postgresql\\://localhost\\:5432/ej&zwnj;&#8203;emplo spring.datasource.username=postgres spring.datasource.password=1234 spring.datasource.driver-class-name=org.postgresql.Driver spring.jpa.database-platform=org.hibernate.dialect.PostgreSQ&zwnj;&#8203;LDialect spring.jpa.hibernate.ddl-auto=create-drop logging.level.org.hibernate.SQL=debug"},{"owner":{"account_id":24597681,"reputation":125,"user_id":18500877,"display_name":"lavantho0508"},"score":0,"creation_date":1668573231,"post_id":74436585,"comment_id":131435935,"body_markdown":"move : spring.datasource.url=jdbc\\:postgresql\\://localhost\\:5432/ejemplo \nto     : spring.datasource.url=jdbc:postgresql://localhost:5432/ejemplo","body":"move : spring.datasource.url=jdbc\\:postgresql\\://localhost\\:5432/ej&zwnj;&#8203;emplo  to     : spring.datasource.url=jdbc:postgresql://localhost:5432/ejemp&zwnj;&#8203;lo"},{"owner":{"account_id":18040137,"reputation":91,"user_id":13112601,"display_name":"M&#225;rquez"},"score":0,"creation_date":1668574271,"post_id":74436585,"comment_id":131436097,"body_markdown":"I get the same errors\n\n@lavantho0508_java_dev","body":"I get the same errors  @lavantho0508_java_dev"}],"owner":{"account_id":18040137,"reputation":91,"user_id":13112601,"display_name":"M&#225;rquez"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668452463,"creation_date":1668452463,"question_id":74436585,"body_markdown":"I am doing a project with Hibernate and Spring. It seems that everything is going well, because it does map the classes to tables that I want, which are Product, User and Rent (A sales web page). I know that it maps them and adds objects because I can consult them in my local database.\r\n\r\nHowever, the eclipse terminal throws me an error that I don&#39;t understand why\r\n\r\norg.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;alter table rent drop constraint FK39o7ymwe055dxo8vjt4d9py0e&quot; via JDBC Statement\r\n\r\n...\r\n\r\nCaused by: org.postgresql.util.PSQLException: ERROR: relationship &quot;rent&quot; does not exist\r\n\r\nWhich makes sense up to this point because the tables have not been created. Then it does create the corresponding tables with the data I indicated.\r\n\r\nBut it is just that at no time do I alter drop or anything like that, in my import.sql file there are only the INSER TO for my database, hence I did add it.\r\n\r\nSo... What is this error due to? Thanks Does it really affect? Thank you!\r\n\r\nMy srpring version is v2.7.5","title":"Java Spring boot error in terminal but I never command to call alter table","body":"<p>I am doing a project with Hibernate and Spring. It seems that everything is going well, because it does map the classes to tables that I want, which are Product, User and Rent (A sales web page). I know that it maps them and adds objects because I can consult them in my local database.</p>\n<p>However, the eclipse terminal throws me an error that I don't understand why</p>\n<p>org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;alter table rent drop constraint FK39o7ymwe055dxo8vjt4d9py0e&quot; via JDBC Statement</p>\n<p>...</p>\n<p>Caused by: org.postgresql.util.PSQLException: ERROR: relationship &quot;rent&quot; does not exist</p>\n<p>Which makes sense up to this point because the tables have not been created. Then it does create the corresponding tables with the data I indicated.</p>\n<p>But it is just that at no time do I alter drop or anything like that, in my import.sql file there are only the INSER TO for my database, hence I did add it.</p>\n<p>So... What is this error due to? Thanks Does it really affect? Thank you!</p>\n<p>My srpring version is v2.7.5</p>\n"},{"tags":["java","google-cloud-platform","google-cloud-dataflow","gcs"],"answers":[{"tags":[],"owner":{"account_id":1874246,"reputation":1390,"user_id":1695821,"display_name":"Bruno Volpato"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668452115,"creation_date":1668449622,"answer_id":74436102,"question_id":74435679,"body_markdown":"You&#39;re right, [TextIO.write](https://beam.apache.org/releases/javadoc/current/org/apache/beam/sdk/io/TextIO.html#write--) is really targeted at writing strings.  You probably want to use [FileIO.write](https://beam.apache.org/releases/javadoc/current/org/apache/beam/sdk/io/FileIO.html#write--) and use a custom sink that allows you to write a byte array.\r\n\r\n\r\nAnother relevant question: https://stackoverflow.com/questions/56725569/how-to-use-apache-beam-fileio-writedynamic-to-output-audio-files-from-byte-array","title":"Java: How to windowed compressed byte-writes to Google cloud storage with dataflow?","body":"<p>You're right, <a href=\"https://beam.apache.org/releases/javadoc/current/org/apache/beam/sdk/io/TextIO.html#write--\" rel=\"nofollow noreferrer\">TextIO.write</a> is really targeted at writing strings.  You probably want to use <a href=\"https://beam.apache.org/releases/javadoc/current/org/apache/beam/sdk/io/FileIO.html#write--\" rel=\"nofollow noreferrer\">FileIO.write</a> and use a custom sink that allows you to write a byte array.</p>\n<p>Another relevant question: <a href=\"https://stackoverflow.com/questions/56725569/how-to-use-apache-beam-fileio-writedynamic-to-output-audio-files-from-byte-array\">How to use Apache Beam FileIO writeDynamic to output audio files from byte arrays?</a></p>\n"}],"owner":{"account_id":22839439,"reputation":401,"user_id":16986712,"display_name":"sg_rs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668452115,"creation_date":1668447164,"question_id":74435679,"body_markdown":"I am trying to do a dataflow job that collectes incomming bute arrays and writes them windowed and compressed to GCS. \r\nBasically the same as https://cloud.google.com/pubsub/docs/samples/pubsub-to-gcs\r\nBut instead of Strings in the class WriteOneFilePerWindow I want to write byte[].\r\n\r\nJust swapping the types introduces problems. Because the used TextIO.write()... is sutable only for Strings. ","title":"Java: How to windowed compressed byte-writes to Google cloud storage with dataflow?","body":"<p>I am trying to do a dataflow job that collectes incomming bute arrays and writes them windowed and compressed to GCS.\nBasically the same as <a href=\"https://cloud.google.com/pubsub/docs/samples/pubsub-to-gcs\" rel=\"nofollow noreferrer\">https://cloud.google.com/pubsub/docs/samples/pubsub-to-gcs</a>\nBut instead of Strings in the class WriteOneFilePerWindow I want to write byte[].</p>\n<p>Just swapping the types introduces problems. Because the used TextIO.write()... is sutable only for Strings.</p>\n"},{"tags":["java","spring","rest","controller"],"answers":[{"tags":[],"owner":{"account_id":6952532,"reputation":27,"user_id":5334706,"display_name":"J. Dufresne"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668452058,"creation_date":1667920373,"answer_id":74363022,"question_id":74353159,"body_markdown":"\r\nApparently, every time I&#39;ve used VSCode&#39;s autocompletion to import `@RequestBody`, it has decided to import `io.swagger.v3.oas.annotations.parameters.RequestBody` instead of \r\n`org.springframework.web.bind.annotation.RequestBody`.\r\n\r\nImporting the correct `RequestBody` class fixed the issue for me.","title":"Can Spring set the values of a @RequestBody in a generic controller?","body":"<p>Apparently, every time I've used VSCode's autocompletion to import <code>@RequestBody</code>, it has decided to import <code>io.swagger.v3.oas.annotations.parameters.RequestBody</code> instead of\n<code>org.springframework.web.bind.annotation.RequestBody</code>.</p>\n<p>Importing the correct <code>RequestBody</code> class fixed the issue for me.</p>\n"}],"owner":{"account_id":6952532,"reputation":27,"user_id":5334706,"display_name":"J. Dufresne"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":471,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668452058,"creation_date":1667856610,"question_id":74353159,"body_markdown":"I have a generic controller with a create() method mapping POST requests using some generic classes. I have created a subclass of that controller which provides the specific service and DTO types. \r\n\r\nIn theory, the subclass controller should not need to implement its own create() method. I have found, however, that if I don&#39;t implement a create() method in the subclass, the @RequestBody parameter is not getting properly set when I make requests. \r\n\r\n**Superclass**\r\n\r\n```\r\npublic abstract class GenericController&lt;InputDtoClass, ModelClass&gt; {\r\n    @PostMapping\r\n    public @ResponseBody ModelClass create(@Valid @RequestBody InputDtoClass input) {\r\n        return service.create(input);\r\n    }\r\n}\r\n\r\n```\r\n\r\n**Subclass**\r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/my/api/path&quot;)\r\npublic class SpecificController extends GenericController&lt;SpecificInputDto, SpecificModel&gt; {\r\n\r\n}\r\n```\r\n\r\nWhat I expect is that when I call POST /my/api/path with some data, then my program should call the create() method of the superclass, populate a SpecificInputDto object, then validate it. \r\n\r\nThe program is correctly calling the create() method of the superclass, and it&#39;s correctly trying to validate the input object according to the annotated fields within the SpecificInputDto class. But the input object itself is not getting any of those values set. (To clarify, if I remove the @Valid tag, I can see that an object of the correct type gets passed, with all fields null). This is especially weird given that the program seems to handle generically-typed query parameter classes just fine. It&#39;s just the field annotated with @RequestBody that&#39;s not getting populated, even though Spring *appears* to know what specific type it&#39;s supposed to be.\r\n\r\n**EDIT**: If I change the generic controller to use the specific InputDto type, it also fails to populate. But the same exact method, copied into the subclass, works correctly.","title":"Can Spring set the values of a @RequestBody in a generic controller?","body":"<p>I have a generic controller with a create() method mapping POST requests using some generic classes. I have created a subclass of that controller which provides the specific service and DTO types.</p>\n<p>In theory, the subclass controller should not need to implement its own create() method. I have found, however, that if I don't implement a create() method in the subclass, the @RequestBody parameter is not getting properly set when I make requests.</p>\n<p><strong>Superclass</strong></p>\n<pre><code>public abstract class GenericController&lt;InputDtoClass, ModelClass&gt; {\n    @PostMapping\n    public @ResponseBody ModelClass create(@Valid @RequestBody InputDtoClass input) {\n        return service.create(input);\n    }\n}\n\n</code></pre>\n<p><strong>Subclass</strong></p>\n<pre><code>@RestController\n@RequestMapping(&quot;/my/api/path&quot;)\npublic class SpecificController extends GenericController&lt;SpecificInputDto, SpecificModel&gt; {\n\n}\n</code></pre>\n<p>What I expect is that when I call POST /my/api/path with some data, then my program should call the create() method of the superclass, populate a SpecificInputDto object, then validate it.</p>\n<p>The program is correctly calling the create() method of the superclass, and it's correctly trying to validate the input object according to the annotated fields within the SpecificInputDto class. But the input object itself is not getting any of those values set. (To clarify, if I remove the @Valid tag, I can see that an object of the correct type gets passed, with all fields null). This is especially weird given that the program seems to handle generically-typed query parameter classes just fine. It's just the field annotated with @RequestBody that's not getting populated, even though Spring <em>appears</em> to know what specific type it's supposed to be.</p>\n<p><strong>EDIT</strong>: If I change the generic controller to use the specific InputDto type, it also fails to populate. But the same exact method, copied into the subclass, works correctly.</p>\n"},{"tags":["java","android","jakarta-mail","multipart"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1589543800,"post_id":61818554,"comment_id":109342844,"body_markdown":"&quot;It&#39;s only returning text content and omitting HTML tags&quot; -- that is what `Jsoup.parse(html).text()` does. If you want the tags, try using `html` directly.","body":"&quot;It&#39;s only returning text content and omitting HTML tags&quot; -- that is what <code>Jsoup.parse(html).text()</code> does. If you want the tags, try using <code>html</code> directly."},{"owner":{"account_id":18239461,"reputation":15,"user_id":13276765,"display_name":"Santanu"},"score":0,"creation_date":1589610444,"post_id":61818554,"comment_id":109366714,"body_markdown":"But how to get the raw html content?","body":"But how to get the raw html content?"}],"answers":[{"tags":[],"owner":{"account_id":89018,"reputation":5520,"user_id":245858,"accept_rate":55,"display_name":"Pradyut Bhattacharya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668451971,"creation_date":1668451971,"answer_id":74436498,"question_id":61818554,"body_markdown":"the **break** is culprit for you. I saw the comment that result gets repeated and got the hint.\r\n\r\nthis will work for you -\r\n\r\n    public String getTextFromMimeMultipart(\r\n    MimeMultipart mimeMultipart)  throws MessagingException, IOException{\r\n    String result = &quot;&quot;;\r\n      int count = mimeMultipart.getCount();\r\n      for (int i = 0; i &lt; count; i++) {\r\n        BodyPart bodyPart = mimeMultipart.getBodyPart(i);\r\n         if (bodyPart.isMimeType(&quot;text/plain&quot;)) {\r\n        /*\r\n        result = result + &quot;\\n&quot; + bodyPart.getContent();\r\n        break; \r\n        */ \r\n         // without break same text appears twice in my tests\r\n    } else if (bodyPart.isMimeType(&quot;text/html&quot;)) {\r\n        String html = (String) bodyPart.getContent();\r\n        //html has all the html tags for you\r\n        result = result + &quot;\\n&quot; + html; //org.jsoup.Jsoup.parse(html).text();\r\n    } else if (bodyPart.getContent() instanceof MimeMultipart){\r\n        result = result + getTextFromMimeMultipart((MimeMultipart)bodyPart.getContent());\r\n        \r\n      }\r\n    }\r\n    return result;\r\n       }","title":"How to read HTML text inside body of mail using Javax.mail","body":"<p>the <strong>break</strong> is culprit for you. I saw the comment that result gets repeated and got the hint.</p>\n<p>this will work for you -</p>\n<pre><code>public String getTextFromMimeMultipart(\nMimeMultipart mimeMultipart)  throws MessagingException, IOException{\nString result = &quot;&quot;;\n  int count = mimeMultipart.getCount();\n  for (int i = 0; i &lt; count; i++) {\n    BodyPart bodyPart = mimeMultipart.getBodyPart(i);\n     if (bodyPart.isMimeType(&quot;text/plain&quot;)) {\n    /*\n    result = result + &quot;\\n&quot; + bodyPart.getContent();\n    break; \n    */ \n     // without break same text appears twice in my tests\n} else if (bodyPart.isMimeType(&quot;text/html&quot;)) {\n    String html = (String) bodyPart.getContent();\n    //html has all the html tags for you\n    result = result + &quot;\\n&quot; + html; //org.jsoup.Jsoup.parse(html).text();\n} else if (bodyPart.getContent() instanceof MimeMultipart){\n    result = result + getTextFromMimeMultipart((MimeMultipart)bodyPart.getContent());\n    \n  }\n}\nreturn result;\n   }\n</code></pre>\n"}],"owner":{"account_id":18239461,"reputation":15,"user_id":13276765,"display_name":"Santanu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":536,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1668451971,"creation_date":1589543524,"question_id":61818554,"body_markdown":"I have written following code to read text  from body of a mail\r\n\r\n    private String getTextFromMimeMultipart(MimeMultipart mimeMultipart)  throws MessagingException, IOException {\r\n        String result = &quot;&quot;;\r\n        int count = mimeMultipart.getCount();\r\n        for (int i = 0; i &lt; count; i++) {\r\n            BodyPart bodyPart = mimeMultipart.getBodyPart(i);\r\n            if (bodyPart.isMimeType(&quot;text/plain&quot;)) {\r\n                result = result + &quot;\\n&quot; + bodyPart.getContent();\r\n                break; // without break same text appears twice in my tests\r\n            } else if (bodyPart.isMimeType(&quot;text/html&quot;)) {\r\n                String html = (String) bodyPart.getContent();\r\n                result = result + &quot;\\n&quot; + Jsoup.parse(html).text();//html;// + org.Jsoup.parse(html).text();\r\n            } else if (bodyPart.getContent() instanceof MimeMultipart){\r\n                result = result + getTextFromMimeMultipart((MimeMultipart)bodyPart.getContent());\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\nProblem I am facing to retrieve HTML content. It&#39;s only returning text content and omitting HTML tags. ","title":"How to read HTML text inside body of mail using Javax.mail","body":"<p>I have written following code to read text  from body of a mail</p>\n\n<pre><code>private String getTextFromMimeMultipart(MimeMultipart mimeMultipart)  throws MessagingException, IOException {\n    String result = \"\";\n    int count = mimeMultipart.getCount();\n    for (int i = 0; i &lt; count; i++) {\n        BodyPart bodyPart = mimeMultipart.getBodyPart(i);\n        if (bodyPart.isMimeType(\"text/plain\")) {\n            result = result + \"\\n\" + bodyPart.getContent();\n            break; // without break same text appears twice in my tests\n        } else if (bodyPart.isMimeType(\"text/html\")) {\n            String html = (String) bodyPart.getContent();\n            result = result + \"\\n\" + Jsoup.parse(html).text();//html;// + org.Jsoup.parse(html).text();\n        } else if (bodyPart.getContent() instanceof MimeMultipart){\n            result = result + getTextFromMimeMultipart((MimeMultipart)bodyPart.getContent());\n        }\n    }\n    return result;\n}\n</code></pre>\n\n<p>Problem I am facing to retrieve HTML content. It's only returning text content and omitting HTML tags. </p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1668423558,"post_id":74430485,"comment_id":131393465,"body_markdown":"You can use the reflection API https://docs.oracle.com/javase/tutorial/reflect/ However, there might be a better design such as having a method `setClassficationdesc` that takes `i` as a parameter.","body":"You can use the reflection API <a href=\"https://docs.oracle.com/javase/tutorial/reflect/\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/reflect</a> However, there might be a better design such as having a method <code>setClassficationdesc</code> that takes <code>i</code> as a parameter."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1668423834,"post_id":74430485,"comment_id":131393575,"body_markdown":"Only resort to reflection if you *absolutely have to*.","body":"Only resort to reflection if you <i>absolutely have to</i>."}],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668423557,"creation_date":1668423557,"answer_id":74430576,"question_id":74430485,"body_markdown":"Well you _could_ call the method from a string variable using reflection.  But instead, I suggest the following workflow:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    String i = &quot;One&quot;;\r\n\r\n    switch (i) {\r\n        case &quot;One&quot;:\r\n            // call setClassficationdescOne(...)\r\n            break;\r\n\r\n        case &quot;Two&quot;:\r\n            // call setClassficationdescTwo(...)\r\n            break;\r\n\r\n        // ...\r\n    }","title":"Invoke SET method in Java by given a String","body":"<p>Well you <em>could</em> call the method from a string variable using reflection.  But instead, I suggest the following workflow:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String i = &quot;One&quot;;\n\nswitch (i) {\n    case &quot;One&quot;:\n        // call setClassficationdescOne(...)\n        break;\n\n    case &quot;Two&quot;:\n        // call setClassficationdescTwo(...)\n        break;\n\n    // ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668423703,"creation_date":1668423703,"answer_id":74430603,"question_id":74430485,"body_markdown":"It is possible. Please search and read the topic &quot;Reflection in Java&quot;. In particular look at class [Class][1] and in it look at method `getMethod`. so you can do:\r\n\r\n    Method method = this.getClass().getMethod(...);\r\n\r\nOnce you get the method you can invoke it. (See Javadoc for class `Method`)\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html","title":"Invoke SET method in Java by given a String","body":"<p>It is possible. Please search and read the topic &quot;Reflection in Java&quot;. In particular look at class <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html\" rel=\"nofollow noreferrer\">Class</a> and in it look at method <code>getMethod</code>. so you can do:</p>\n<pre><code>Method method = this.getClass().getMethod(...);\n</code></pre>\n<p>Once you get the method you can invoke it. (See Javadoc for class <code>Method</code>)</p>\n"},{"comments":[{"owner":{"account_id":7560659,"reputation":137,"user_id":5738388,"display_name":"RoyalUp"},"score":0,"creation_date":1668424386,"post_id":74430641,"comment_id":131393731,"body_markdown":"That&#39;s not why im looking for, im trying to reduce complexity","body":"That&#39;s not why im looking for, im trying to reduce complexity"},{"owner":{"account_id":9850021,"reputation":411,"user_id":7296372,"display_name":"mrkachariker"},"score":0,"creation_date":1668424637,"post_id":74430641,"comment_id":131393804,"body_markdown":"Could you update your question with a more realistic scenario?","body":"Could you update your question with a more realistic scenario?"},{"owner":{"account_id":9850021,"reputation":411,"user_id":7296372,"display_name":"mrkachariker"},"score":0,"creation_date":1668508210,"post_id":74430641,"comment_id":131416680,"body_markdown":"Hey @RoyalUp any more doubts about this? If my answer resolved or helped you resolve your question please mark it as correct!","body":"Hey @RoyalUp any more doubts about this? If my answer resolved or helped you resolve your question please mark it as correct!"}],"tags":[],"owner":{"account_id":9850021,"reputation":411,"user_id":7296372,"display_name":"mrkachariker"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668426927,"creation_date":1668423869,"answer_id":74430641,"question_id":74430485,"body_markdown":"In that case you would use reflection by doing something like the following: \r\n\r\n```java\r\nString nameSetClassifiedMethod= &quot;setClassficationdesc&quot; + i;\r\nMethod method = Operations.class.getDeclaredMethod(&quot;nameSetClassifiedMethod&quot;, String.class); //here you should adapt it to your method&#39;s signature\r\nmethod.setAccessible(true);\r\n// and then\r\nClassWhichHoldsReflectedMethod instance = new ClassWhichHoldsReflectedMethod(); \r\nmethod.invoke(instance, params...);\r\n```\r\nCheck [this](https://www.baeldung.com/java-method-reflection) out for more.","title":"Invoke SET method in Java by given a String","body":"<p>In that case you would use reflection by doing something like the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String nameSetClassifiedMethod= &quot;setClassficationdesc&quot; + i;\nMethod method = Operations.class.getDeclaredMethod(&quot;nameSetClassifiedMethod&quot;, String.class); //here you should adapt it to your method's signature\nmethod.setAccessible(true);\n// and then\nClassWhichHoldsReflectedMethod instance = new ClassWhichHoldsReflectedMethod(); \nmethod.invoke(instance, params...);\n</code></pre>\n<p>Check <a href=\"https://www.baeldung.com/java-method-reflection\" rel=\"nofollow noreferrer\">this</a> out for more.</p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668451864,"creation_date":1668427108,"answer_id":74431281,"question_id":74430485,"body_markdown":"Maybe you&#39;re looking for Java 14 [*Switch Expressions*][switch]:\r\n\r\n```\r\nint i = // initializing the variable\r\n    \r\nswitch (i) {\r\n    case 0 -&gt; this.setClassficationdesc0(..); // perform a side-effect\r\n    case 1 -&gt; this.setClassficationdesc1(..); // perform a side-effect\r\n    case 2 -&gt; this.setClassficationdesc2(..); // perform a side-effect\r\n}\r\n```\r\n\r\n   [switch]: https://docs.oracle.com/en/java/javase/14/language/switch-expressions.html","title":"Invoke SET method in Java by given a String","body":"<p>Maybe you're looking for Java 14 <a href=\"https://docs.oracle.com/en/java/javase/14/language/switch-expressions.html\" rel=\"nofollow noreferrer\"><em>Switch Expressions</em></a>:</p>\n<pre><code>int i = // initializing the variable\n    \nswitch (i) {\n    case 0 -&gt; this.setClassficationdesc0(..); // perform a side-effect\n    case 1 -&gt; this.setClassficationdesc1(..); // perform a side-effect\n    case 2 -&gt; this.setClassficationdesc2(..); // perform a side-effect\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668428070,"creation_date":1668428070,"answer_id":74431485,"question_id":74430485,"body_markdown":"If you have a limited number of `setClassificationdesc#()` methods and you know them upfront, try something like this:\r\n\r\n```Java\r\npublic class YourClass\r\n{\r\n    @FunctionalInterface\r\n    private interface ClassificationdescSetter\r\n    {\r\n        public void set( … );\r\n    }\r\n\r\n    private final ClassificationdescSetter [] m_CDSetters;\r\n    public YourClass( … )\r\n    {\r\n        …\r\n        m_CDSetters = new ClassificationdescSetters [] {this::setClassificationdesc1, this::setClassificationdesc2, this::setClassificationdesc3, … };\r\n        …\r\n    }\r\n\r\n    public final void doSomething( final int i )\r\n    {\r\n        m_CDSetters [i - 1].set( … );\r\n    }\r\n}\r\n```\r\nOf course, all error handling is missing here!\r\n\r\nThe interface is obsolete (at least redundant) if the signature for `setClassificationdesc#()` matches an already existing functional interface. In that case, use the existing interface as the type for `m_CDSetters`; you may have to use another method as `set()`, too.","title":"Invoke SET method in Java by given a String","body":"<p>If you have a limited number of <code>setClassificationdesc#()</code> methods and you know them upfront, try something like this:</p>\n<pre><code>public class YourClass\n{\n    @FunctionalInterface\n    private interface ClassificationdescSetter\n    {\n        public void set( … );\n    }\n\n    private final ClassificationdescSetter [] m_CDSetters;\n    public YourClass( … )\n    {\n        …\n        m_CDSetters = new ClassificationdescSetters [] {this::setClassificationdesc1, this::setClassificationdesc2, this::setClassificationdesc3, … };\n        …\n    }\n\n    public final void doSomething( final int i )\n    {\n        m_CDSetters [i - 1].set( … );\n    }\n}\n</code></pre>\n<p>Of course, all error handling is missing here!</p>\n<p>The interface is obsolete (at least redundant) if the signature for <code>setClassificationdesc#()</code> matches an already existing functional interface. In that case, use the existing interface as the type for <code>m_CDSetters</code>; you may have to use another method as <code>set()</code>, too.</p>\n"},{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668432118,"creation_date":1668432118,"answer_id":74432339,"question_id":74430485,"body_markdown":"You could use [method handles](https://www.baeldung.com/java-method-handles).\r\n```java\r\nimport java.lang.invoke.MethodHandle;\r\nimport java.lang.invoke.MethodHandles;\r\nimport java.lang.invoke.MethodType;\r\n\r\npublic class MthdHndl {\r\n\r\n    public static void main(String[] args) {\r\n        MethodHandles.Lookup lookup = MethodHandles.lookup();\r\n        int index = 0;\r\n        String name = &quot;setClassficationdesc&quot;;\r\n        MethodType type = MethodType.methodType(String.class, int.class);\r\n        try {\r\n            MethodHandle mh = lookup.findVirtual(George.class, name + index, type);\r\n            int parameter = 2;\r\n            String result = (String) mh.invoke(new George(), parameter);\r\n            System.out.println(result);\r\n        }\r\n        catch (Throwable x) {\r\n            x.printStackTrace();\r\n        }\r\n    }\r\n}\r\n\r\nclass George {\r\n    private static final String[] FORTUNE = new String[]{&quot;Long live the revolution!&quot;,\r\n                                                         &quot;Have a nice day.&quot;,\r\n                                                         &quot;Behind every argument is someone&#39;s ignorance.&quot;};\r\n\r\n    public String setClassficationdesc0(int i) {\r\n        return FORTUNE[i];\r\n    }\r\n}\r\n```\r\nNote that since the method being invoked (via `MethodHandle`) is an instance method, the first parameter to method `invoke` is the instance on which to invoke the method.\r\n","title":"Invoke SET method in Java by given a String","body":"<p>You could use <a href=\"https://www.baeldung.com/java-method-handles\" rel=\"nofollow noreferrer\">method handles</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.lang.invoke.MethodHandle;\nimport java.lang.invoke.MethodHandles;\nimport java.lang.invoke.MethodType;\n\npublic class MthdHndl {\n\n    public static void main(String[] args) {\n        MethodHandles.Lookup lookup = MethodHandles.lookup();\n        int index = 0;\n        String name = &quot;setClassficationdesc&quot;;\n        MethodType type = MethodType.methodType(String.class, int.class);\n        try {\n            MethodHandle mh = lookup.findVirtual(George.class, name + index, type);\n            int parameter = 2;\n            String result = (String) mh.invoke(new George(), parameter);\n            System.out.println(result);\n        }\n        catch (Throwable x) {\n            x.printStackTrace();\n        }\n    }\n}\n\nclass George {\n    private static final String[] FORTUNE = new String[]{&quot;Long live the revolution!&quot;,\n                                                         &quot;Have a nice day.&quot;,\n                                                         &quot;Behind every argument is someone's ignorance.&quot;};\n\n    public String setClassficationdesc0(int i) {\n        return FORTUNE[i];\n    }\n}\n</code></pre>\n<p>Note that since the method being invoked (via <code>MethodHandle</code>) is an instance method, the first parameter to method <code>invoke</code> is the instance on which to invoke the method.</p>\n"}],"owner":{"account_id":7560659,"reputation":137,"user_id":5738388,"display_name":"RoyalUp"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":6,"score":0,"last_activity_date":1668451864,"creation_date":1668423117,"question_id":74430485,"body_markdown":"I have a string variable which dependes on &quot;i&quot; variable, i want to call this string, like his method:\r\n\r\n    String nameSetClassifiedMethod= &quot;setClassficationdesc&quot; + i;\r\n\r\nand i wanted something like this:\r\n\r\n    this.nameSetClassifiedMethod( some parametersIn);\r\n\r\nI know this is not possible, because i can&#39;t invoke a method with a string like im doing, but i don&#39;t know any solutions for this. \r\n\r\nI have some code that&#39;s whic is not mine, which is doing something like:\r\n\r\n    if (i == 0) {this.setClassficationdesc0(..)}\r\n    if (i == 1) {this.setClassficationdesc1(..)}\r\n    if (i == 2) {this.setClassficationdesc2(..)}\r\n\r\nSo i&#39;m trying to invoke the method by string to reduce complexity","title":"Invoke SET method in Java by given a String","body":"<p>I have a string variable which dependes on &quot;i&quot; variable, i want to call this string, like his method:</p>\n<pre><code>String nameSetClassifiedMethod= &quot;setClassficationdesc&quot; + i;\n</code></pre>\n<p>and i wanted something like this:</p>\n<pre><code>this.nameSetClassifiedMethod( some parametersIn);\n</code></pre>\n<p>I know this is not possible, because i can't invoke a method with a string like im doing, but i don't know any solutions for this.</p>\n<p>I have some code that's whic is not mine, which is doing something like:</p>\n<pre><code>if (i == 0) {this.setClassficationdesc0(..)}\nif (i == 1) {this.setClassficationdesc1(..)}\nif (i == 2) {this.setClassficationdesc2(..)}\n</code></pre>\n<p>So i'm trying to invoke the method by string to reduce complexity</p>\n"},{"tags":["java","google-bigquery","gcloud-java"],"comments":[{"owner":{"account_id":3433659,"reputation":14473,"user_id":2877278,"accept_rate":88,"display_name":"Graham Polley"},"score":0,"creation_date":1595943041,"post_id":63131722,"comment_id":111643878,"body_markdown":"Looks like a firewall blocking your egress traffic. Can you SSH onto the VM and check outbound connectivity e.g. using cURL or something?","body":"Looks like a firewall blocking your egress traffic. Can you SSH onto the VM and check outbound connectivity e.g. using cURL or something?"},{"owner":{"account_id":7684430,"reputation":120,"user_id":5822717,"display_name":"Pritbh"},"score":0,"creation_date":1595945967,"post_id":63131722,"comment_id":111645748,"body_markdown":"Hi @GrahamPolley I have updated the question thanks","body":"Hi @GrahamPolley I have updated the question thanks"},{"owner":{"account_id":3433659,"reputation":14473,"user_id":2877278,"accept_rate":88,"display_name":"Graham Polley"},"score":0,"creation_date":1595983416,"post_id":63131722,"comment_id":111660995,"body_markdown":"So, cURL directly from the VM worked?","body":"So, cURL directly from the VM worked?"},{"owner":{"account_id":7684430,"reputation":120,"user_id":5822717,"display_name":"Pritbh"},"score":0,"creation_date":1596015417,"post_id":63131722,"comment_id":111670941,"body_markdown":"yup it does but it goes via proxy .. so I am wondering if there is something getting dropped around proxy @GrahamPolley","body":"yup it does but it goes via proxy .. so I am wondering if there is something getting dropped around proxy @GrahamPolley"},{"owner":{"account_id":7684430,"reputation":120,"user_id":5822717,"display_name":"Pritbh"},"score":0,"creation_date":1596018906,"post_id":63131722,"comment_id":111672725,"body_markdown":"I am wondering if there is a way that can check if the proxy is actually being used by Google client ?? .. I know in java that can be InetSocketAddress addr = (InetSocketAddress) proxy.address() and I have done it it does print out proxy hostname and port correctly","body":"I am wondering if there is a way that can check if the proxy is actually being used by Google client ?? .. I know in java that can be InetSocketAddress addr = (InetSocketAddress) proxy.address() and I have done it it does print out proxy hostname and port correctly"},{"owner":{"account_id":16956217,"reputation":21,"user_id":12264542,"display_name":"Dattu Pragnu Nellutla"},"score":0,"creation_date":1596658322,"post_id":63131722,"comment_id":111885498,"body_markdown":"Based on the provided information, it looks like you are trying to access Bigquery from an external to GCP source. However, I don&#39;t see any sign of the service account credentials which are required to access Bigquery. Additionally, as per GCP documentation[1], would you mind also confirming if you have created a service account using your credentials and passed them along to your Java code (based on this doc[1]) so that you can access bigquery.","body":"Based on the provided information, it looks like you are trying to access Bigquery from an external to GCP source. However, I don&#39;t see any sign of the service account credentials which are required to access Bigquery. Additionally, as per GCP documentation[1], would you mind also confirming if you have created a service account using your credentials and passed them along to your Java code (based on this doc[1]) so that you can access bigquery."},{"owner":{"account_id":1374632,"reputation":3768,"user_id":1308883,"display_name":"Jofre"},"score":0,"creation_date":1597908515,"post_id":63131722,"comment_id":112286875,"body_markdown":"@GrahamPolley Note that the curl test was run against `https://console.cloud.google.com/bigquery`, but the code in the Java library calls `https://bigquery.googleapis.com/bigquery/v2/`.","body":"@GrahamPolley Note that the curl test was run against <code>https:&#47;&#47;console.cloud.google.com&#47;bigquery</code>, but the code in the Java library calls <code>https:&#47;&#47;bigquery.googleapis.com&#47;bigquery&#47;v2&#47;</code>."},{"owner":{"account_id":1374632,"reputation":3768,"user_id":1308883,"display_name":"Jofre"},"score":0,"creation_date":1597909157,"post_id":63131722,"comment_id":112287175,"body_markdown":"Also, permission errors return a 403, not a connection timeout, so I don&#39;t think this is related to IAM permissions as @Dattu suggested. This still looks a lot like a network configuration error.","body":"Also, permission errors return a 403, not a connection timeout, so I don&#39;t think this is related to IAM permissions as @Dattu suggested. This still looks a lot like a network configuration error."},{"owner":{"account_id":3203261,"reputation":277,"user_id":2704903,"accept_rate":88,"display_name":"Susanta Adhikary"},"score":0,"creation_date":1625480366,"post_id":63131722,"comment_id":120630021,"body_markdown":"@pritbh I have got hit with the same problem, any suggestion??","body":"@pritbh I have got hit with the same problem, any suggestion??"}],"answers":[{"comments":[{"owner":{"account_id":3203261,"reputation":277,"user_id":2704903,"accept_rate":88,"display_name":"Susanta Adhikary"},"score":0,"creation_date":1626333101,"post_id":68265085,"comment_id":120865729,"body_markdown":"I was doing this to test the functionality locally with my own GCP account from my company k8s pod. Ideally in production scenario any internet connection should be disallowed and one should you dedicated interconnect","body":"I was doing this to test the functionality locally with my own GCP account from my company k8s pod. Ideally in production scenario any internet connection should be disallowed and one should you dedicated interconnect"}],"tags":[],"owner":{"account_id":3203261,"reputation":277,"user_id":2704903,"accept_rate":88,"display_name":"Susanta Adhikary"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625688202,"creation_date":1625549816,"answer_id":68265085,"question_id":63131722,"body_markdown":"You have to override the ApacheHttpTransport() method to set custom header(proxy setting). I could solve the issue by doing the below step. \r\n\r\nI was using it for querying bigquery service:\r\n\r\n```\r\nHttpHost proxy = new HttpHost(&quot;proxy--host//IP&quot;,proxy--port);\r\n\r\nDefaultHttpClient httpClient = new DefaultHttpClient();\r\n\r\nhttpClient.getParams().setParameter(ConnRoutePNames.DEFAULT_PROXY, proxy);\r\n\r\n    httpClient.addRequestInterceptor(new HttpRequestInterceptor(){\r\n                @Override\r\n                public void process(org.apache.http.HttpRequest request, HttpContext context) throws HttpException, IOException {\r\n                    if (request.getRequestLine().getMethod().equals(&quot;CONNECT&quot;))\r\n                        request.addHeader(new BasicHeader(&quot;Proxy-Authorization&quot;,&quot;Basic dXNlcjE6dXNlcjE=&quot;));\r\n                }\r\n            });\r\n\r\nApacheHttpTransport mHttpTransport = new ApacheHttpTransport(httpClient);\r\n\r\n     HttpTransportFactory hf = new HttpTransportFactory(){\r\n                @Override\r\n                public HttpTransport create() {\r\n                    return mHttpTransport;\r\n                }\r\n            };\r\n\r\nFileInputStream serviceAccountStream = new FileInputStream(credentialsPath);\r\ncredentials= ServiceAccountCredentials.fromStream(serviceAccountStream,hf);\r\nTransportOptions options = HttpTransportOptions.newBuilder().setHttpTransportFactory(hf).build();\r\n\r\nif (credentials.createScopedRequired()) {\r\n                Collection&lt;String&gt; bigqueryScopes = BigqueryScopes.all();\r\n                credentials = credentials.createScoped(bigqueryScopes);\r\n            }\r\n\r\nBigQuery bigquery = BigQueryOptions\r\n                    .newBuilder()\r\n                    .setCredentials(credentials)\r\n                    .setProjectId(projectId)\r\n                    .setTransportOptions(options)\r\n                    .build()\r\n                    .getService();\r\n\r\n\r\nQueryJobConfiguration queryConfig =\r\n                    QueryJobConfiguration.newBuilder(query)\r\n                            .setUseLegacySql(false)\r\n                            .build();\r\n\r\nString jobName = &quot;jobId_&quot; + UUID.randomUUID().toString();\r\nJobId jobId = JobId.newBuilder().setJob(jobName).build();\r\nqueryJob = bigquery.create(JobInfo.newBuilder(queryConfig).setJobId(jobId).build());\r\nqueryJob = queryJob.waitFor();","title":"Google BigQuery Proxy settings in JAVA SDK","body":"<p>You have to override the ApacheHttpTransport() method to set custom header(proxy setting). I could solve the issue by doing the below step.</p>\n<p>I was using it for querying bigquery service:</p>\n<pre><code>HttpHost proxy = new HttpHost(&quot;proxy--host//IP&quot;,proxy--port);\n\nDefaultHttpClient httpClient = new DefaultHttpClient();\n\nhttpClient.getParams().setParameter(ConnRoutePNames.DEFAULT_PROXY, proxy);\n\n    httpClient.addRequestInterceptor(new HttpRequestInterceptor(){\n                @Override\n                public void process(org.apache.http.HttpRequest request, HttpContext context) throws HttpException, IOException {\n                    if (request.getRequestLine().getMethod().equals(&quot;CONNECT&quot;))\n                        request.addHeader(new BasicHeader(&quot;Proxy-Authorization&quot;,&quot;Basic dXNlcjE6dXNlcjE=&quot;));\n                }\n            });\n\nApacheHttpTransport mHttpTransport = new ApacheHttpTransport(httpClient);\n\n     HttpTransportFactory hf = new HttpTransportFactory(){\n                @Override\n                public HttpTransport create() {\n                    return mHttpTransport;\n                }\n            };\n\nFileInputStream serviceAccountStream = new FileInputStream(credentialsPath);\ncredentials= ServiceAccountCredentials.fromStream(serviceAccountStream,hf);\nTransportOptions options = HttpTransportOptions.newBuilder().setHttpTransportFactory(hf).build();\n\nif (credentials.createScopedRequired()) {\n                Collection&lt;String&gt; bigqueryScopes = BigqueryScopes.all();\n                credentials = credentials.createScoped(bigqueryScopes);\n            }\n\nBigQuery bigquery = BigQueryOptions\n                    .newBuilder()\n                    .setCredentials(credentials)\n                    .setProjectId(projectId)\n                    .setTransportOptions(options)\n                    .build()\n                    .getService();\n\n\nQueryJobConfiguration queryConfig =\n                    QueryJobConfiguration.newBuilder(query)\n                            .setUseLegacySql(false)\n                            .build();\n\nString jobName = &quot;jobId_&quot; + UUID.randomUUID().toString();\nJobId jobId = JobId.newBuilder().setJob(jobName).build();\nqueryJob = bigquery.create(JobInfo.newBuilder(queryConfig).setJobId(jobId).build());\nqueryJob = queryJob.waitFor();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13268947,"reputation":9,"user_id":9580660,"display_name":"Garrampa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668451719,"creation_date":1668451719,"answer_id":74436463,"question_id":63131722,"body_markdown":"I think you can use the same way as Google explains in their [Github API repositories][1]:\r\n\r\n    import java.io.IOException;\r\n    \r\n    public class ProxyExample {\r\n      public GoogleCredentials getCredentials() throws IOException {\r\n        HttpTransportFactory httpTransportFactory = getHttpTransportFactory(\r\n            &quot;some-host&quot;, 8080, &quot;some-username&quot;, &quot;some-password&quot;\r\n        );\r\n    \r\n        return GoogleCredentials.getApplicationDefault(httpTransportFactory);\r\n      }\r\n    \r\n      public HttpTransportFactory getHttpTransportFactory(String proxyHost, int proxyPort, String proxyUsername, String proxyPassword) {\r\n        HttpHost proxyHostDetails = new HttpHost(proxyHost, proxyPort);\r\n        HttpRoutePlanner httpRoutePlanner = new DefaultProxyRoutePlanner(proxyHostDetails);\r\n    \r\n        CredentialsProvider credentialsProvider = new BasicCredentialsProvider();\r\n        credentialsProvider.setCredentials(\r\n            new AuthScope(proxyHostDetails.getHostName(), proxyHostDetails.getPort()),\r\n            new UsernamePasswordCredentials(proxyUsername, proxyPassword)\r\n        );\r\n    \r\n        HttpClient httpClient = ApacheHttpTransport.newDefaultHttpClientBuilder()\r\n            .setRoutePlanner(httpRoutePlanner)\r\n            .setProxyAuthenticationStrategy(ProxyAuthenticationStrategy.INSTANCE)\r\n            .setDefaultCredentialsProvider(credentialsProvider)\r\n            .build();\r\n    \r\n        final HttpTransport httpTransport = new ApacheHttpTransport(httpClient);\r\n        return new HttpTransportFactory() {\r\n          @Override\r\n          public HttpTransport create() {\r\n            return httpTransport;\r\n          }\r\n        };\r\n      }\r\n    }\r\n\r\n  [1]: https://github.com/googleapis/google-auth-library-java/blob/main/README.md#configuring-a-proxy","title":"Google BigQuery Proxy settings in JAVA SDK","body":"<p>I think you can use the same way as Google explains in their <a href=\"https://github.com/googleapis/google-auth-library-java/blob/main/README.md#configuring-a-proxy\" rel=\"nofollow noreferrer\">Github API repositories</a>:</p>\n<pre><code>import java.io.IOException;\n\npublic class ProxyExample {\n  public GoogleCredentials getCredentials() throws IOException {\n    HttpTransportFactory httpTransportFactory = getHttpTransportFactory(\n        &quot;some-host&quot;, 8080, &quot;some-username&quot;, &quot;some-password&quot;\n    );\n\n    return GoogleCredentials.getApplicationDefault(httpTransportFactory);\n  }\n\n  public HttpTransportFactory getHttpTransportFactory(String proxyHost, int proxyPort, String proxyUsername, String proxyPassword) {\n    HttpHost proxyHostDetails = new HttpHost(proxyHost, proxyPort);\n    HttpRoutePlanner httpRoutePlanner = new DefaultProxyRoutePlanner(proxyHostDetails);\n\n    CredentialsProvider credentialsProvider = new BasicCredentialsProvider();\n    credentialsProvider.setCredentials(\n        new AuthScope(proxyHostDetails.getHostName(), proxyHostDetails.getPort()),\n        new UsernamePasswordCredentials(proxyUsername, proxyPassword)\n    );\n\n    HttpClient httpClient = ApacheHttpTransport.newDefaultHttpClientBuilder()\n        .setRoutePlanner(httpRoutePlanner)\n        .setProxyAuthenticationStrategy(ProxyAuthenticationStrategy.INSTANCE)\n        .setDefaultCredentialsProvider(credentialsProvider)\n        .build();\n\n    final HttpTransport httpTransport = new ApacheHttpTransport(httpClient);\n    return new HttpTransportFactory() {\n      @Override\n      public HttpTransport create() {\n        return httpTransport;\n      }\n    };\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":7684430,"reputation":120,"user_id":5822717,"display_name":"Pritbh"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1668451719,"creation_date":1595930989,"question_id":63131722,"body_markdown":"I am trying to use Google BigQuery SDK to do a query. It works fine on my local but in a VM it gets timed out all the time. My best guess is the proxy settings I have tried following way to set it but SDK client doesn&#39;t seem to pick it up \r\n\r\n        System.setProperty(&quot;java.net.useSystemProxies&quot;, &quot;true&quot;);\r\n        System.setProperty(&quot;http.proxyHost&quot;, &quot;http://xxxxx&quot;);\r\n        System.setProperty(&quot;http.proxyPort&quot;, &quot;3128&quot;);\r\n        System.setProperty(&quot;https.proxyHost&quot;, &quot;http://xxxxx&quot;);\r\n        System.setProperty(&quot;https.proxyPort&quot;, &quot;3128&quot;);\r\n    \r\nAlso via application.properties \r\n    \r\n       https.proxyHost=http://xxxxx\r\n       https.proxyPort=3128 \r\n    \r\nHere is my code . Is there any other way to set it or if I can debug it more . I have  printed the Job and compared it local and VM both looks the same\r\n    \r\n    ```public List&lt;Data&gt; getData() {\r\n        System.setProperty(&quot;java.net.useSystemProxies&quot;, &quot;true&quot;);\r\n        System.setProperty(&quot;http.proxyHost&quot;, &quot;http://xxxx&quot;);\r\n        System.setProperty(&quot;http.proxyPort&quot;, &quot;3128&quot;);\r\n        System.setProperty(&quot;https.proxyHost&quot;, &quot;http://xxxxxx&quot;);\r\n        System.setProperty(&quot;https.proxyPort&quot;, &quot;3128&quot;);\r\n        String query = &quot;SELECT * FROM user&quot;;\r\n        log.info(&quot;query --  &quot; + query);\r\n        double i = 0;\r\n        try {\r\n            File file = new File(FILE_PATH);\r\n            if (!file.exists()) {\r\n              throw new FileNotFoundException(&quot;Google credentials file not found &quot;);\r\n            }\r\n         \r\n            Credentials credentials = GoogleCredentials\r\n                .fromStream(new FileInputStream(FILE_PATH)).toBuilder().build();\r\n                  BigQuery bigquery =\r\n                BigQueryOptions.newBuilder()\r\n                    .setCredentials(credentials).build().getService();\r\n            QueryJobConfiguration queryConfig =\r\n                QueryJobConfiguration.newBuilder(\r\n                    query)\r\n                    // Use standard SQL syntax for queries.clea\r\n                    // See: https://cloud.google.com/bigquery/sql-reference/\r\n                    .setUseLegacySql(false)\r\n                    .build();\r\n            // Create a job ID so that we can safely retry.\r\n            JobId jobId = JobId.of(UUID.randomUUID().toString());\r\n            Job queryJob =\r\n                bigquery.create(JobInfo.newBuilder(queryConfig).setJobId(jobId).build());\r\n            // Wait for the query to complete.\r\n            queryJob = queryJob.waitFor();\r\n    \r\n            // Check for errors\r\n            if (queryJob == null) {\r\n              throw new RuntimeException(&quot;Job no longer exists&quot;);\r\n            } else if (queryJob.getStatus().getError() != null) {\r\n              // You can also look at queryJob.getStatus().getExecutionErrors() for all\r\n              // errors, not just the latest one.\r\n              throw new RuntimeException(queryJob.getStatus().getError().toString());\r\n            }\r\n            // Get the results.\r\n            TableResult result = queryJob.getQueryResults();\r\n            // Print all pages of the results.\r\n            for (FieldValueList row : result.iterateAll()) {\r\n              i++;\r\n              System.out.println(row)\r\n        \r\n            }\r\n          } catch (Exception e) {\r\n            e.printStackTrace();\r\n          }\r\n          log.info(&quot; data received ==&quot; + i + &quot; == &quot;);\r\n          return arrayList;\r\n        }```\r\n    \r\n    \r\nAnd the error log \r\n    \r\n    \r\n  ``` com.google.cloud.bigquery.BigQueryException: Error getting access token for service account: connect timed out\r\n    \tat com.google.cloud.bigquery.spi.v2.HttpBigQueryRpc.translate(HttpBigQueryRpc.java:106)\r\n    \tat com.google.cloud.bigquery.spi.v2.HttpBigQueryRpc.create(HttpBigQueryRpc.java:206)\r\n    \tat com.google.cloud.bigquery.BigQueryImpl$5.call(BigQueryImpl.java:324)\r\n    \tat com.google.cloud.bigquery.BigQueryImpl$5.call(BigQueryImpl.java:321)\r\n    \tat com.google.api.gax.retrying.DirectRetryingExecutor.submit(DirectRetryingExecutor.java:105)\r\n    \tat com.google.cloud.RetryHelper.run(RetryHelper.java:76)\r\n    \tat com.google.cloud.RetryHelper.runWithRetries(RetryHelper.java:50)\r\n    \tat com.google.cloud.bigquery.BigQueryImpl.create(BigQueryImpl.java:320)\r\n    \tat com.google.cloud.bigquery.BigQueryImpl.create(BigQueryImpl.java:295)\r\n    \tat uk.ac.ebi.usage.portal.tscusage.cloud.GoogleCloud.FetchData.getData(FetchData.java:138)\r\n    \tat uk.ac.ebi.usage.portal.tscusage.cloud.GoogleCloud.GoogleCloudService.execute(GoogleCloudService.java:39)\r\n    \tat uk.ac.ebi.usage.portal.tscusage.TscUsageApplication.lambda$commandLineRunnerAllService$0(TscUsageApplication.java:162)\r\n    \tat org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:732)\r\n    \tat org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:716)\r\n    \tat org.springframework.boot.SpringApplication.afterRefresh(SpringApplication.java:703)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:304)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1118)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1107)\r\n    \tat uk.ac.ebi.usage.portal.tscusage.TscUsageApplication.main(TscUsageApplication.java:89)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48)\r\n    \tat org.springframework.boot.loader.Launcher.launch(Launcher.java:87)\r\n    \tat org.springframework.boot.loader.Launcher.launch(Launcher.java:50)\r\n    \tat org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51)\r\n    Caused by: java.io.IOException: Error getting access token for service account: connect timed out\r\n    \tat com.google.auth.oauth2.ServiceAccountCredentials.refreshAccessToken(ServiceAccountCredentials.java:444)\r\n    \tat com.google.auth.oauth2.OAuth2Credentials.refresh(OAuth2Credentials.java:157)\r\n    \tat com.google.auth.oauth2.OAuth2Credentials.getRequestMetadata(OAuth2Credentials.java:145)\r\n    \tat com.google.auth.oauth2.ServiceAccountCredentials.getRequestMetadata(ServiceAccountCredentials.java:603)\r\n    \tat com.google.auth.http.HttpCredentialsAdapter.initialize(HttpCredentialsAdapter.java:91)\r\n    \tat com.google.cloud.http.HttpTransportOptions$1.initialize(HttpTransportOptions.java:159)\r\n    \tat com.google.api.client.http.HttpRequestFactory.buildRequest(HttpRequestFactory.java:88)\r\n    \tat com.google.api.client.googleapis.services.AbstractGoogleClientRequest.buildHttpRequest(AbstractGoogleClientRequest.java:422)\r\n    \tat com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:541)\r\n    \tat com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:474)\r\n    \tat com.google.api.client.googleapis.services.AbstractGoogleClientRequest.execute(AbstractGoogleClientRequest.java:591)\r\n    \tat com.google.cloud.bigquery.spi.v2.HttpBigQueryRpc.create(HttpBigQueryRpc.java:204)\r\n    \t... 25 more\r\n    Caused by: java.net.SocketTimeoutException: connect timed out\r\n    \tat java.net.PlainSocketImpl.socketConnect(Native Method)\r\n    \tat java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)\r\n    \tat java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)\r\n    \tat java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)\r\n    \tat java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\r\n    \tat java.net.Socket.connect(Socket.java:589)\r\n    \tat sun.security.ssl.SSLSocketImpl.connect(SSLSocketImpl.java:668)\r\n    \tat sun.net.NetworkClient.doConnect(NetworkClient.java:175)\r\n    \tat sun.net.www.http.HttpClient.openServer(HttpClient.java:432)\r\n    \tat sun.net.www.http.HttpClient.openServer(HttpClient.java:527)\r\n    \tat sun.net.www.protocol.https.HttpsClient.&lt;init&gt;(HttpsClient.java:264)\r\n    \tat sun.net.www.protocol.https.HttpsClient.New(HttpsClient.java:367)\r\n    \tat sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.getNewHttpClient(AbstractDelegateHttpsURLConnection.java:200)\r\n    \tat sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1124)\r\n    \tat sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:999)\r\n    \tat sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:177)\r\n    \tat sun.net.www.protocol.http.HttpURLConnection.getOutputStream0(HttpURLConnection.java:1283)\r\n    \tat sun.net.www.protocol.http.HttpURLConnection.getOutputStream(HttpURLConnection.java:1258)\r\n    \tat sun.net.www.protocol.https.HttpsURLConnectionImpl.getOutputStream(HttpsURLConnectionImpl.java:250)\r\n    \tat com.google.api.client.http.javanet.NetHttpRequest.execute(NetHttpRequest.java:113)\r\n    \tat com.google.api.client.http.javanet.NetHttpRequest.execute(NetHttpRequest.java:84)\r\n    \tat com.google.api.client.http.HttpRequest.execute(HttpRequest.java:1012)\r\n    \tat com.google.auth.oauth2.ServiceAccountCredentials.refreshAccessToken(ServiceAccountCredentials.java:441)\r\n    \t... 36 more\r\n```\r\nI have tried with cURL its able to connect \r\n\r\n        curl -v &quot;https://console.cloud.google.com/bigquery?project=xxxxxx&amp;page=queryresults&quot;\r\n    \r\n        About to connect() to proxy xxxproxyxxxx port 3128 (#0)\r\n        Trying 10.7.48.45... connected\r\n        Connected to xxxproxyxxxx (10.7.48.45) port 3128 (#0)\r\n        Establish HTTP proxy tunnel to console.cloud.google.com:443\r\n        CONNECT console.cloud.google.com:443 HTTP/1.1\r\n        Host: console.cloud.google.com:443\r\n        User-Agent: curl/7.19.7 (x86_64-redhat-linux-gnu) libcurl/7.19.7 \r\n        NSS/3.27.1 zlib/1.2.3 libidn/1.18 libssh2/1.4.2\r\n        Proxy-Connection: Keep-Alive\r\n        HTTP/1.1 200 Connection established\r\n        Proxy replied OK to CONNECT request\r\n        Initializing NSS with certpath: sql:/etc/pki/nssdb\r\n        CAfile: /etc/pki/tls/certs/ca-bundle.crt\r\n        CApath: none\r\n        SSL connection using TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256\r\n        Server certificate:\r\n        subject: CN=*.googlecode.com,O=Google LLC,L=Mountain \r\n        View,ST=California,C=US\r\n        start date: Jul 07 08:08:04 2020 GMT\r\n        expire date: Sep 29 08:08:04 2020 GMT\r\n        common name: *.googlecode.com\r\n        issuer: CN=GTS CA 1O1,O=Google Trust Services,C=US\r\n        GET /bigquery?project=xxxxxx&amp;page=queryresults HTTP/1.1\r\n        User-Agent: curl/7.19.7 (x86_64-redhat-linux-gnu) libcurl/7.19.7 \r\n       NSS/3.27.1 zlib/1.2.3 libidn/1.18 libssh2/1.4.2\r\n       Host: console.cloud.google.com\r\n       Accept: */*\r\n       HTTP/1.1 302 Found\r\n       Content-Type: application/binary\r\n       X-Frame-Options: DENY\r\n      Location: https://accounts.google.com/ServiceLogin? \r\n     service=cloudconsole&amp;passive=1209600&amp;osid=1&amp;continue=https://console.cloud.google.com/bigquery?project%3Dxxxx%3Dqueryresults&amp;followup=https://console.cloud.google.com/bigquery?project%3Dxxxx%26j%3Dbq:EU:bquxjob_1207bd95_1736ccef796%26page%3Dqueryresults\r\n      x-debug-tracking-id: 1864997233354316760;o=0\r\n       P3P: CP=&quot;This is not a P3P policy! See g.co/p3phelp for more info.&quot;\r\n      Strict-Transport-Security: max-age=31536000\r\n    &lt; Date: Thu, 23 Jul 2020 13:32:26 GMT\r\n    &lt; Server: ESF\r\n    &lt; Content-Length: 0\r\n    &lt; X-XSS-Protection: 0\r\n    &lt; X-Content-Type-Options: nosniff\r\n    &lt; Set-Cookie: NID=204=fzP-6QVkBMPOJ5GhTaskE4leuqZr0UHIUrAUNd1dx4VUQV-eIEMNHrtjt1QCJezFtivTAzPOiY2Fmd3Kegm2KMaWj-hLoIJsG37XgAQXEsghxWZ_aJnZblf6Ro__v9kn0jTxxfIr0PffUMvpCLV01gj9eWwyOUKGupGvqx6_OpA; expires=Fri, 22-Jan-2021 13:32:26 GMT; path=/; domain=.google.com; HttpOnly\r\n      Alt-Svc: h3-29=&quot;:443&quot;; ma=2592000,h3-27=&quot;:443&quot;; ma=2592000,h3-T050=&quot;:443&quot;; ma=2592000,h3-Q050=&quot;:443&quot;; ma=2592000,h3-Q046=&quot;:443&quot;; ma=2592000,h3-Q043=&quot;:443&quot;; ma=2592000,quic=&quot;:443&quot;; ma=2592000; v=&quot;46,43&quot;\r\n      \r\n      Connection #0 to host xxxproxyxxxx left intact\r\n      Closing connection #0\r\n    \r\nThanks for the HELP","title":"Google BigQuery Proxy settings in JAVA SDK","body":"<p>I am trying to use Google BigQuery SDK to do a query. It works fine on my local but in a VM it gets timed out all the time. My best guess is the proxy settings I have tried following way to set it but SDK client doesn't seem to pick it up</p>\n<pre><code>    System.setProperty(&quot;java.net.useSystemProxies&quot;, &quot;true&quot;);\n    System.setProperty(&quot;http.proxyHost&quot;, &quot;http://xxxxx&quot;);\n    System.setProperty(&quot;http.proxyPort&quot;, &quot;3128&quot;);\n    System.setProperty(&quot;https.proxyHost&quot;, &quot;http://xxxxx&quot;);\n    System.setProperty(&quot;https.proxyPort&quot;, &quot;3128&quot;);\n</code></pre>\n<p>Also via application.properties</p>\n<pre><code>   https.proxyHost=http://xxxxx\n   https.proxyPort=3128 \n</code></pre>\n<p>Here is my code . Is there any other way to set it or if I can debug it more . I have  printed the Job and compared it local and VM both looks the same</p>\n<pre><code>```public List&lt;Data&gt; getData() {\n    System.setProperty(&quot;java.net.useSystemProxies&quot;, &quot;true&quot;);\n    System.setProperty(&quot;http.proxyHost&quot;, &quot;http://xxxx&quot;);\n    System.setProperty(&quot;http.proxyPort&quot;, &quot;3128&quot;);\n    System.setProperty(&quot;https.proxyHost&quot;, &quot;http://xxxxxx&quot;);\n    System.setProperty(&quot;https.proxyPort&quot;, &quot;3128&quot;);\n    String query = &quot;SELECT * FROM user&quot;;\n    log.info(&quot;query --  &quot; + query);\n    double i = 0;\n    try {\n        File file = new File(FILE_PATH);\n        if (!file.exists()) {\n          throw new FileNotFoundException(&quot;Google credentials file not found &quot;);\n        }\n     \n        Credentials credentials = GoogleCredentials\n            .fromStream(new FileInputStream(FILE_PATH)).toBuilder().build();\n              BigQuery bigquery =\n            BigQueryOptions.newBuilder()\n                .setCredentials(credentials).build().getService();\n        QueryJobConfiguration queryConfig =\n            QueryJobConfiguration.newBuilder(\n                query)\n                // Use standard SQL syntax for queries.clea\n                // See: https://cloud.google.com/bigquery/sql-reference/\n                .setUseLegacySql(false)\n                .build();\n        // Create a job ID so that we can safely retry.\n        JobId jobId = JobId.of(UUID.randomUUID().toString());\n        Job queryJob =\n            bigquery.create(JobInfo.newBuilder(queryConfig).setJobId(jobId).build());\n        // Wait for the query to complete.\n        queryJob = queryJob.waitFor();\n\n        // Check for errors\n        if (queryJob == null) {\n          throw new RuntimeException(&quot;Job no longer exists&quot;);\n        } else if (queryJob.getStatus().getError() != null) {\n          // You can also look at queryJob.getStatus().getExecutionErrors() for all\n          // errors, not just the latest one.\n          throw new RuntimeException(queryJob.getStatus().getError().toString());\n        }\n        // Get the results.\n        TableResult result = queryJob.getQueryResults();\n        // Print all pages of the results.\n        for (FieldValueList row : result.iterateAll()) {\n          i++;\n          System.out.println(row)\n    \n        }\n      } catch (Exception e) {\n        e.printStackTrace();\n      }\n      log.info(&quot; data received ==&quot; + i + &quot; == &quot;);\n      return arrayList;\n    }```\n</code></pre>\n<p>And the error log</p>\n<pre><code>      at com.google.cloud.bigquery.spi.v2.HttpBigQueryRpc.translate(HttpBigQueryRpc.java:106)\n      at com.google.cloud.bigquery.spi.v2.HttpBigQueryRpc.create(HttpBigQueryRpc.java:206)\n      at com.google.cloud.bigquery.BigQueryImpl$5.call(BigQueryImpl.java:324)\n      at com.google.cloud.bigquery.BigQueryImpl$5.call(BigQueryImpl.java:321)\n      at com.google.api.gax.retrying.DirectRetryingExecutor.submit(DirectRetryingExecutor.java:105)\n      at com.google.cloud.RetryHelper.run(RetryHelper.java:76)\n      at com.google.cloud.RetryHelper.runWithRetries(RetryHelper.java:50)\n      at com.google.cloud.bigquery.BigQueryImpl.create(BigQueryImpl.java:320)\n      at com.google.cloud.bigquery.BigQueryImpl.create(BigQueryImpl.java:295)\n      at uk.ac.ebi.usage.portal.tscusage.cloud.GoogleCloud.FetchData.getData(FetchData.java:138)\n      at uk.ac.ebi.usage.portal.tscusage.cloud.GoogleCloud.GoogleCloudService.execute(GoogleCloudService.java:39)\n      at uk.ac.ebi.usage.portal.tscusage.TscUsageApplication.lambda$commandLineRunnerAllService$0(TscUsageApplication.java:162)\n      at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:732)\n      at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:716)\n      at org.springframework.boot.SpringApplication.afterRefresh(SpringApplication.java:703)\n      at org.springframework.boot.SpringApplication.run(SpringApplication.java:304)\n      at org.springframework.boot.SpringApplication.run(SpringApplication.java:1118)\n      at org.springframework.boot.SpringApplication.run(SpringApplication.java:1107)\n      at uk.ac.ebi.usage.portal.tscusage.TscUsageApplication.main(TscUsageApplication.java:89)\n      at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n      at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n      at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n      at java.lang.reflect.Method.invoke(Method.java:498)\n      at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48)\n      at org.springframework.boot.loader.Launcher.launch(Launcher.java:87)\n      at org.springframework.boot.loader.Launcher.launch(Launcher.java:50)\n      at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51)\n  Caused by: java.io.IOException: Error getting access token for service account: connect timed out\n      at com.google.auth.oauth2.ServiceAccountCredentials.refreshAccessToken(ServiceAccountCredentials.java:444)\n      at com.google.auth.oauth2.OAuth2Credentials.refresh(OAuth2Credentials.java:157)\n      at com.google.auth.oauth2.OAuth2Credentials.getRequestMetadata(OAuth2Credentials.java:145)\n      at com.google.auth.oauth2.ServiceAccountCredentials.getRequestMetadata(ServiceAccountCredentials.java:603)\n      at com.google.auth.http.HttpCredentialsAdapter.initialize(HttpCredentialsAdapter.java:91)\n      at com.google.cloud.http.HttpTransportOptions$1.initialize(HttpTransportOptions.java:159)\n      at com.google.api.client.http.HttpRequestFactory.buildRequest(HttpRequestFactory.java:88)\n      at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.buildHttpRequest(AbstractGoogleClientRequest.java:422)\n      at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:541)\n      at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:474)\n      at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.execute(AbstractGoogleClientRequest.java:591)\n      at com.google.cloud.bigquery.spi.v2.HttpBigQueryRpc.create(HttpBigQueryRpc.java:204)\n      ... 25 more\n  Caused by: java.net.SocketTimeoutException: connect timed out\n      at java.net.PlainSocketImpl.socketConnect(Native Method)\n      at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)\n      at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)\n      at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)\n      at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\n      at java.net.Socket.connect(Socket.java:589)\n      at sun.security.ssl.SSLSocketImpl.connect(SSLSocketImpl.java:668)\n      at sun.net.NetworkClient.doConnect(NetworkClient.java:175)\n      at sun.net.www.http.HttpClient.openServer(HttpClient.java:432)\n      at sun.net.www.http.HttpClient.openServer(HttpClient.java:527)\n      at sun.net.www.protocol.https.HttpsClient.&lt;init&gt;(HttpsClient.java:264)\n      at sun.net.www.protocol.https.HttpsClient.New(HttpsClient.java:367)\n      at sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.getNewHttpClient(AbstractDelegateHttpsURLConnection.java:200)\n      at sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1124)\n      at sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:999)\n      at sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:177)\n      at sun.net.www.protocol.http.HttpURLConnection.getOutputStream0(HttpURLConnection.java:1283)\n      at sun.net.www.protocol.http.HttpURLConnection.getOutputStream(HttpURLConnection.java:1258)\n      at sun.net.www.protocol.https.HttpsURLConnectionImpl.getOutputStream(HttpsURLConnectionImpl.java:250)\n      at com.google.api.client.http.javanet.NetHttpRequest.execute(NetHttpRequest.java:113)\n      at com.google.api.client.http.javanet.NetHttpRequest.execute(NetHttpRequest.java:84)\n      at com.google.api.client.http.HttpRequest.execute(HttpRequest.java:1012)\n      at com.google.auth.oauth2.ServiceAccountCredentials.refreshAccessToken(ServiceAccountCredentials.java:441)\n      ... 36 more\n</code></pre>\n<p>I have tried with cURL its able to connect</p>\n<pre><code>    curl -v &quot;https://console.cloud.google.com/bigquery?project=xxxxxx&amp;page=queryresults&quot;\n\n    About to connect() to proxy xxxproxyxxxx port 3128 (#0)\n    Trying 10.7.48.45... connected\n    Connected to xxxproxyxxxx (10.7.48.45) port 3128 (#0)\n    Establish HTTP proxy tunnel to console.cloud.google.com:443\n    CONNECT console.cloud.google.com:443 HTTP/1.1\n    Host: console.cloud.google.com:443\n    User-Agent: curl/7.19.7 (x86_64-redhat-linux-gnu) libcurl/7.19.7 \n    NSS/3.27.1 zlib/1.2.3 libidn/1.18 libssh2/1.4.2\n    Proxy-Connection: Keep-Alive\n    HTTP/1.1 200 Connection established\n    Proxy replied OK to CONNECT request\n    Initializing NSS with certpath: sql:/etc/pki/nssdb\n    CAfile: /etc/pki/tls/certs/ca-bundle.crt\n    CApath: none\n    SSL connection using TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256\n    Server certificate:\n    subject: CN=*.googlecode.com,O=Google LLC,L=Mountain \n    View,ST=California,C=US\n    start date: Jul 07 08:08:04 2020 GMT\n    expire date: Sep 29 08:08:04 2020 GMT\n    common name: *.googlecode.com\n    issuer: CN=GTS CA 1O1,O=Google Trust Services,C=US\n    GET /bigquery?project=xxxxxx&amp;page=queryresults HTTP/1.1\n    User-Agent: curl/7.19.7 (x86_64-redhat-linux-gnu) libcurl/7.19.7 \n   NSS/3.27.1 zlib/1.2.3 libidn/1.18 libssh2/1.4.2\n   Host: console.cloud.google.com\n   Accept: */*\n   HTTP/1.1 302 Found\n   Content-Type: application/binary\n   X-Frame-Options: DENY\n  Location: https://accounts.google.com/ServiceLogin? \n service=cloudconsole&amp;passive=1209600&amp;osid=1&amp;continue=https://console.cloud.google.com/bigquery?project%3Dxxxx%3Dqueryresults&amp;followup=https://console.cloud.google.com/bigquery?project%3Dxxxx%26j%3Dbq:EU:bquxjob_1207bd95_1736ccef796%26page%3Dqueryresults\n  x-debug-tracking-id: 1864997233354316760;o=0\n   P3P: CP=&quot;This is not a P3P policy! See g.co/p3phelp for more info.&quot;\n  Strict-Transport-Security: max-age=31536000\n&lt; Date: Thu, 23 Jul 2020 13:32:26 GMT\n&lt; Server: ESF\n&lt; Content-Length: 0\n&lt; X-XSS-Protection: 0\n&lt; X-Content-Type-Options: nosniff\n&lt; Set-Cookie: NID=204=fzP-6QVkBMPOJ5GhTaskE4leuqZr0UHIUrAUNd1dx4VUQV-eIEMNHrtjt1QCJezFtivTAzPOiY2Fmd3Kegm2KMaWj-hLoIJsG37XgAQXEsghxWZ_aJnZblf6Ro__v9kn0jTxxfIr0PffUMvpCLV01gj9eWwyOUKGupGvqx6_OpA; expires=Fri, 22-Jan-2021 13:32:26 GMT; path=/; domain=.google.com; HttpOnly\n  Alt-Svc: h3-29=&quot;:443&quot;; ma=2592000,h3-27=&quot;:443&quot;; ma=2592000,h3-T050=&quot;:443&quot;; ma=2592000,h3-Q050=&quot;:443&quot;; ma=2592000,h3-Q046=&quot;:443&quot;; ma=2592000,h3-Q043=&quot;:443&quot;; ma=2592000,quic=&quot;:443&quot;; ma=2592000; v=&quot;46,43&quot;\n  \n  Connection #0 to host xxxproxyxxxx left intact\n  Closing connection #0\n</code></pre>\n<p>Thanks for the HELP</p>\n"},{"tags":["java","mysql","prepared-statement","jcombobox"],"comments":[{"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"score":0,"creation_date":1392290297,"post_id":21752628,"comment_id":32902340,"body_markdown":"Did you set an action command for this button (using `setActionCommand(&quot;Predict&quot;)`)?. Otherwise did you try `if(e.getSource() == yourButton)`?","body":"Did you set an action command for this button (using <code>setActionCommand(&quot;Predict&quot;)</code>)?. Otherwise did you try <code>if(e.getSource() == yourButton)</code>?"},{"owner":{"account_id":3779968,"reputation":7,"user_id":3139748,"accept_rate":50,"display_name":"user3139748"},"score":0,"creation_date":1392290788,"post_id":21752628,"comment_id":32902608,"body_markdown":"Yes, I have as this; predict.addActionListener(this);\n        predict.setActionCommand(&quot;Predict&quot;);","body":"Yes, I have as this; predict.addActionListener(this);         predict.setActionCommand(&quot;Predict&quot;);"},{"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"score":0,"creation_date":1392290987,"post_id":21752628,"comment_id":32902714,"body_markdown":"Could you show the code for you GUI? (the relevant parts)","body":"Could you show the code for you GUI? (the relevant parts)"},{"owner":{"account_id":3779968,"reputation":7,"user_id":3139748,"accept_rate":50,"display_name":"user3139748"},"score":0,"creation_date":1392291278,"post_id":21752628,"comment_id":32902899,"body_markdown":"Do you mean the code for the jbutton?  private JButton predict = new JButton(&quot;Predict&quot;);","body":"Do you mean the code for the jbutton?  private JButton predict = new JButton(&quot;Predict&quot;);"},{"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"score":0,"creation_date":1392291334,"post_id":21752628,"comment_id":32902943,"body_markdown":"Did you set the action listener for the button? If yes, please post your code, because we can&#39;t say anything with what you provided, just suppositions.","body":"Did you set the action listener for the button? If yes, please post your code, because we can&#39;t say anything with what you provided, just suppositions."},{"owner":{"account_id":3779968,"reputation":7,"user_id":3139748,"accept_rate":50,"display_name":"user3139748"},"score":0,"creation_date":1392291402,"post_id":21752628,"comment_id":32902981,"body_markdown":"Yeah, I used the code I posted 9 mins ago.","body":"Yeah, I used the code I posted 9 mins ago."}],"owner":{"account_id":3779968,"reputation":7,"user_id":3139748,"accept_rate":50,"display_name":"user3139748"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":619,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668451638,"creation_date":1392290161,"question_id":21752628,"body_markdown":"What I want to do is to print out information from a mysql table by using a jcombobox to select the information.\r\n\r\nHere is the code for the jcombobox\r\n\r\n    private static String[] homeTeam = { &quot;Arsenal&quot;, &quot;Aston Villa&quot;, &quot;Cardiff&quot;, &quot;Chelsea&quot;};                                            \r\n    private static JComboBox box1 = new JComboBox(homeTeam);\r\n    private static String[] awayTeam = { &quot;Arsenal&quot;, &quot;Aston Villa&quot;, &quot;Cardiff&quot;, &quot;Chelsea&quot;};                                                             \r\n    private static JComboBox box2 = new JComboBox(awayTeam);\r\n    \r\nAnd this is the code for the preparedstatement\r\n\r\n    try \r\n        {\r\n            //Sets up the connedtion to the database and installs drivers which are required.\r\n\r\n            Class.forName(&quot;com.mysql.jdbc.Driver&quot;);                                                                        \r\n\r\n            con = DriverManager.getConnection(&quot;jdbc:mysql://localhost&quot;, &quot;username&quot;, &quot;password&quot;);        \r\n              \r\n            \r\n            String BoxSelectedItem1 = box1.getSelectedItem().toString();\r\n            String BoxSelectedItem2 = box2.getSelectedItem().toString();\r\n        \r\n            String SQL = &quot;SELECT * FROM PreviousSeasons WHERE HomeTeam=? and AwayTeam=?&quot;;\r\n            PreparedStatement prepst;            \r\n                      \r\n            prepst =  con.prepareStatement(SQL);\r\n            prepst.setString(1,BoxSelectedItem1);\r\n            prepst.setString(2,BoxSelectedItem2);\r\n            rs = prepst.executeQuery();\r\n            \r\n            while (rs.next()) \r\n            {\r\n\r\n                hometeam = rs.getString(&quot;HomeTeam&quot;);\r\n                awayteam = rs.getString(&quot;AwayTeam&quot;);                    \r\n                result = rs.getString(&quot;Result&quot;);                    \r\n                                          \r\n                                 \r\n                custs = (hometeam + &quot;,&quot; + awayteam + &quot;,&quot; + result);     \r\n                SeasonResults add = SeasonResults.add(hometeam, awayteam, result);\r\n            }\r\n            \r\n        }\r\n        \r\n        catch (Exception e) \r\n        {\r\n            System.out.println(&quot;Error &quot; +e);                                                                               \r\n        }\r\n        \r\n        \r\nAnd this is the code for the jbutton where I try to print out the result\r\n\r\n    public void actionPerformed(ActionEvent e)\r\n    {           \r\n            if(&quot;Predict&quot;.equals(e.getActionCommand())) {\r\n            \r\n            JOptionPane.showMessageDialog(null,result);\r\n                //System.out.println(result);\r\n        \r\n    }\r\n    }\r\n\r\n&quot;Predict&quot; is the name of the jbutton. I have another jbutton which resets the jcombobox and that works so I know there isn&#39;t any problems with actionlisteners for the jbuttons.\r\n\r\nWhen I press the button I don&#39;t get a response. Anyone know what the problem is?\r\n    \r\n\r\n    ","title":"Taking input from a JComboBox and putting it into a preparedstatement","body":"<p>What I want to do is to print out information from a mysql table by using a jcombobox to select the information.</p>\n\n<p>Here is the code for the jcombobox</p>\n\n<pre><code>private static String[] homeTeam = { \"Arsenal\", \"Aston Villa\", \"Cardiff\", \"Chelsea\"};                                            \nprivate static JComboBox box1 = new JComboBox(homeTeam);\nprivate static String[] awayTeam = { \"Arsenal\", \"Aston Villa\", \"Cardiff\", \"Chelsea\"};                                                             \nprivate static JComboBox box2 = new JComboBox(awayTeam);\n</code></pre>\n\n<p>And this is the code for the preparedstatement</p>\n\n<pre><code>try \n    {\n        //Sets up the connedtion to the database and installs drivers which are required.\n\n        Class.forName(\"com.mysql.jdbc.Driver\");                                                                        \n\n        con = DriverManager.getConnection(\"jdbc:mysql://localhost\", \"username\", \"password\");        \n\n\n        String BoxSelectedItem1 = box1.getSelectedItem().toString();\n        String BoxSelectedItem2 = box2.getSelectedItem().toString();\n\n        String SQL = \"SELECT * FROM PreviousSeasons WHERE HomeTeam=? and AwayTeam=?\";\n        PreparedStatement prepst;            \n\n        prepst =  con.prepareStatement(SQL);\n        prepst.setString(1,BoxSelectedItem1);\n        prepst.setString(2,BoxSelectedItem2);\n        rs = prepst.executeQuery();\n\n        while (rs.next()) \n        {\n\n            hometeam = rs.getString(\"HomeTeam\");\n            awayteam = rs.getString(\"AwayTeam\");                    \n            result = rs.getString(\"Result\");                    \n\n\n            custs = (hometeam + \",\" + awayteam + \",\" + result);     \n            SeasonResults add = SeasonResults.add(hometeam, awayteam, result);\n        }\n\n    }\n\n    catch (Exception e) \n    {\n        System.out.println(\"Error \" +e);                                                                               \n    }\n</code></pre>\n\n<p>And this is the code for the jbutton where I try to print out the result</p>\n\n<pre><code>public void actionPerformed(ActionEvent e)\n{           \n        if(\"Predict\".equals(e.getActionCommand())) {\n\n        JOptionPane.showMessageDialog(null,result);\n            //System.out.println(result);\n\n}\n}\n</code></pre>\n\n<p>\"Predict\" is the name of the jbutton. I have another jbutton which resets the jcombobox and that works so I know there isn't any problems with actionlisteners for the jbuttons.</p>\n\n<p>When I press the button I don't get a response. Anyone know what the problem is?</p>\n"},{"tags":["java","spring","rest","spring-boot"],"comments":[{"owner":{"account_id":2690358,"reputation":1621,"user_id":2323833,"display_name":"Maxim Tulupov"},"score":1,"creation_date":1494575466,"post_id":43932163,"comment_id":74896883,"body_markdown":"Try this @ResponseBody\npublic FileSystemResource download(Object fileObject) { String name = (String) ((LinkedHashMap) fileObject).get(&quot;path&quot;); \n    return new FileSystemResource(name); \n}","body":"Try this @ResponseBody public FileSystemResource download(Object fileObject) { String name = (String) ((LinkedHashMap) fileObject).get(&quot;path&quot;);      return new FileSystemResource(name);  }"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1494576435,"post_id":43932163,"comment_id":74897494,"body_markdown":"It isn&#39;t a spring controller it is a jersey endpoint... Those are different beasts.","body":"It isn&#39;t a spring controller it is a jersey endpoint... Those are different beasts."},{"owner":{"account_id":76906,"reputation":4579,"user_id":219865,"accept_rate":73,"display_name":"Ashish Pancholi"},"score":0,"creation_date":1494580979,"post_id":43932163,"comment_id":74900315,"body_markdown":"@MaximTulupov Thank you. I am trying your solution and will get back to you.","body":"@MaximTulupov Thank you. I am trying your solution and will get back to you."}],"answers":[{"comments":[{"owner":{"account_id":76906,"reputation":4579,"user_id":219865,"accept_rate":73,"display_name":"Ashish Pancholi"},"score":0,"creation_date":1494581084,"post_id":43933659,"comment_id":74900389,"body_markdown":"Thanks. Will give that try and let you know.","body":"Thanks. Will give that try and let you know."}],"tags":[],"owner":{"account_id":4032983,"reputation":2269,"user_id":4165604,"display_name":"P&#228;r Nilsson"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1494584824,"creation_date":1494579895,"answer_id":43933659,"question_id":43932163,"body_markdown":"Give this a try. Did I understand what you were trying to do?\r\n\r\n    @SpringBootApplication\r\n    @RestController\r\n    public class FiledownloadApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(FiledownloadApplication.class, args);\r\n    \t}\r\n    \r\n    \r\n    \t@PostMapping(&quot;/downloadFile&quot;)\r\n    \tpublic ResponseEntity&lt;FileSystemResource&gt; download(@RequestBody FileDownload fileDownload) throws IOException {\r\n    \t\tString path = fileDownload.getPath();\r\n    \t\tFileSystemResource fileSystemResource = new FileSystemResource(path);\r\n    \t\treturn new ResponseEntity&lt;&gt;(fileSystemResource, HttpStatus.OK);\r\n    \t}\r\n    \r\n    \tclass FileDownload {\r\n    \r\n    \t\tString path;\r\n    \r\n    \t\tpublic FileDownload() {\r\n    \t\t}\r\n    \r\n    \t\tpublic String getPath() {\r\n    \t\t\treturn path;\r\n    \t\t}\r\n    \r\n    \t\tpublic void setPath(String path) {\r\n    \t\t\tthis.path = path;\r\n    \t\t}\r\n    \t}\r\n    }","title":"How to get the HttpServletResponse response into Spring Boot’s REST controllers?","body":"<p>Give this a try. Did I understand what you were trying to do?</p>\n\n<pre><code>@SpringBootApplication\n@RestController\npublic class FiledownloadApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(FiledownloadApplication.class, args);\n    }\n\n\n    @PostMapping(\"/downloadFile\")\n    public ResponseEntity&lt;FileSystemResource&gt; download(@RequestBody FileDownload fileDownload) throws IOException {\n        String path = fileDownload.getPath();\n        FileSystemResource fileSystemResource = new FileSystemResource(path);\n        return new ResponseEntity&lt;&gt;(fileSystemResource, HttpStatus.OK);\n    }\n\n    class FileDownload {\n\n        String path;\n\n        public FileDownload() {\n        }\n\n        public String getPath() {\n            return path;\n        }\n\n        public void setPath(String path) {\n            this.path = path;\n        }\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8791249,"reputation":71,"user_id":6570989,"display_name":"Ravi Soni"},"score":0,"creation_date":1592806459,"post_id":45858904,"comment_id":110544863,"body_markdown":"Hi , I have a question here , How do we  use this HttpServletResponse object in a class which is calling this controller?","body":"Hi , I have a question here , How do we  use this HttpServletResponse object in a class which is calling this controller?"}],"tags":[],"owner":{"account_id":10675102,"reputation":61,"user_id":7858888,"display_name":"SeRGiOJoKeR11"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1503569559,"creation_date":1503569559,"answer_id":45858904,"question_id":43932163,"body_markdown":"I believe that it should be like this.\r\n\r\n    public ResponseEntity&lt;FileSystemResource&gt; download(@RequestBody FileDownload fileDownload, HttpServletResponse response) throws IOException { ... }\r\n\r\nAnd Spring will set the response object for you. What you were trying to do is to inject the bean &quot;HttpServletResponse&quot; which does not make much sense as it is not a bean.","title":"How to get the HttpServletResponse response into Spring Boot’s REST controllers?","body":"<p>I believe that it should be like this.</p>\n\n<pre><code>public ResponseEntity&lt;FileSystemResource&gt; download(@RequestBody FileDownload fileDownload, HttpServletResponse response) throws IOException { ... }\n</code></pre>\n\n<p>And Spring will set the response object for you. What you were trying to do is to inject the bean \"HttpServletResponse\" which does not make much sense as it is not a bean.</p>\n"},{"tags":[],"owner":{"account_id":898283,"reputation":1283,"user_id":935079,"accept_rate":100,"display_name":"jambriz"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1613403798,"creation_date":1613403798,"answer_id":66211018,"question_id":43932163,"body_markdown":"According to this documentation [https://docs.spring.io/spring-framework/docs/3.0.0.RC2/reference/html/ch15s03.html#mvc-ann-requestmapping-arguments][1]\r\n\r\nyou can simply declare `HttpServletResponse` as an argument of your download method in arbitrary order, i.e.\r\n\r\n    public void download(Object fileObject, HttpServletResponse response)  {\r\n\r\nor for your specific needs you can directly reference `OutputStream` i.e.\r\n\r\n    public void download(Object fileObject, OutputStream out)  {\r\n\r\nWhen using either of these you should use `void` as return type of your method\r\n\r\nOr another alternative worth a look would be to use \r\n[StreamingResponseBody][2]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/3.0.0.RC2/reference/html/ch15s03.html#mvc-ann-requestmapping-arguments\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/mvc/method/annotation/StreamingResponseBody.html","title":"How to get the HttpServletResponse response into Spring Boot’s REST controllers?","body":"<p>According to this documentation <a href=\"https://docs.spring.io/spring-framework/docs/3.0.0.RC2/reference/html/ch15s03.html#mvc-ann-requestmapping-arguments\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/3.0.0.RC2/reference/html/ch15s03.html#mvc-ann-requestmapping-arguments</a></p>\n<p>you can simply declare <code>HttpServletResponse</code> as an argument of your download method in arbitrary order, i.e.</p>\n<pre><code>public void download(Object fileObject, HttpServletResponse response)  {\n</code></pre>\n<p>or for your specific needs you can directly reference <code>OutputStream</code> i.e.</p>\n<pre><code>public void download(Object fileObject, OutputStream out)  {\n</code></pre>\n<p>When using either of these you should use <code>void</code> as return type of your method</p>\n<p>Or another alternative worth a look would be to use\n<a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/mvc/method/annotation/StreamingResponseBody.html\" rel=\"nofollow noreferrer\">StreamingResponseBody</a></p>\n"}],"owner":{"account_id":76906,"reputation":4579,"user_id":219865,"accept_rate":73,"display_name":"Ashish Pancholi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12695,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1668450873,"creation_date":1494575092,"question_id":43932163,"body_markdown":"I am struggling to get `HttpServletResponse response` into Spring Boot’s REST controller. The purpose behind is that I would like to return a file stream from a REST controller. \r\n\r\nHere is the code.\r\n\r\n    @Component\r\n    @Api(value = &quot;/api/1/download&quot;, description = &quot;act upon selected file.&quot;)\r\n    @Path(&quot;/api/1/download&quot;)\r\n    @Consumes(MediaType.APPLICATION_JSON)\r\n    @RestController\r\n    public class DownloadResource {\r\n        private final Logger log = LoggerFactory.getLogger(DownloadResource.class);\r\n        \r\n        @Autowired\r\n        HttpServletResponse response;\r\n    \r\n        @ApiOperation(value = &quot;Download a selected file&quot;, notes = &quot;allows to download a selected file&quot;)\r\n        @Path(&quot;/downloadFile&quot;)\r\n        @POST\r\n        @Autowired\r\n        public void download(Object fileObject)  {\r\n            String name = (String) ((LinkedHashMap) fileObject).get(&quot;path&quot;);\r\n            response.setContentType(&quot;text/plain&quot;);\r\n            response.addHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=abcd.txt&quot;);\r\n            try\r\n            {\r\n                Files.copy(Paths.get(name), response.getOutputStream());\r\n                response.getOutputStream().flush();\r\n            } catch (IOException e) {\r\n                log.error(e.getMessage(), e);\r\n            }\r\n    \r\n        }\r\n    \r\n    }\r\n\r\nNeither File is download nor it throwing an error. Please help suggest. Thank you. ","title":"How to get the HttpServletResponse response into Spring Boot’s REST controllers?","body":"<p>I am struggling to get <code>HttpServletResponse response</code> into Spring Boot’s REST controller. The purpose behind is that I would like to return a file stream from a REST controller. </p>\n\n<p>Here is the code.</p>\n\n<pre><code>@Component\n@Api(value = \"/api/1/download\", description = \"act upon selected file.\")\n@Path(\"/api/1/download\")\n@Consumes(MediaType.APPLICATION_JSON)\n@RestController\npublic class DownloadResource {\n    private final Logger log = LoggerFactory.getLogger(DownloadResource.class);\n\n    @Autowired\n    HttpServletResponse response;\n\n    @ApiOperation(value = \"Download a selected file\", notes = \"allows to download a selected file\")\n    @Path(\"/downloadFile\")\n    @POST\n    @Autowired\n    public void download(Object fileObject)  {\n        String name = (String) ((LinkedHashMap) fileObject).get(\"path\");\n        response.setContentType(\"text/plain\");\n        response.addHeader(\"Content-Disposition\", \"attachment; filename=abcd.txt\");\n        try\n        {\n            Files.copy(Paths.get(name), response.getOutputStream());\n            response.getOutputStream().flush();\n        } catch (IOException e) {\n            log.error(e.getMessage(), e);\n        }\n\n    }\n\n}\n</code></pre>\n\n<p>Neither File is download nor it throwing an error. Please help suggest. Thank you. </p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"score":0,"creation_date":1668392789,"post_id":74425265,"comment_id":131386713,"body_markdown":"Does it have to be a regex?  Other ways are likely simpler.","body":"Does it have to be a regex?  Other ways are likely simpler."},{"owner":{"account_id":2703953,"reputation":43,"user_id":3326166,"display_name":"Gordon Pham-Nguyen"},"score":0,"creation_date":1668393813,"post_id":74425265,"comment_id":131386860,"body_markdown":"@accessviolation, I&#39;m curious to hear what the alternatives are!","body":"@accessviolation, I&#39;m curious to hear what the alternatives are!"}],"answers":[{"comments":[{"owner":{"account_id":2703953,"reputation":43,"user_id":3326166,"display_name":"Gordon Pham-Nguyen"},"score":1,"creation_date":1668393778,"post_id":74425310,"comment_id":131386854,"body_markdown":"I ended up going with your solution, thanks for informing of negative lookaheads!","body":"I ended up going with your solution, thanks for informing of negative lookaheads!"}],"tags":[],"owner":{"account_id":10275035,"reputation":100058,"user_id":7582247,"display_name":"Ted Lyngmo"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668378949,"creation_date":1668378949,"answer_id":74425310,"question_id":74425265,"body_markdown":"You could use a negative lookahead:\r\n```regex\r\n^(?!\\s*$)[^:*]+$\r\n```\r\n* `^` - start of string anchor\r\n* `(?!\\s*$)` negative lookahead rejecting whitespace-only strings\r\n* `[^:*]+` - one or more of any character except `:` and `*`\r\n* `$` - end of string anchor\r\n\r\n[Demo](https://regex101.com/r/QXvgLH/1)","title":"Regex: string can contain spaces, but not only spaces. It cannot contain `*` nor `:` characters either","body":"<p>You could use a negative lookahead:</p>\n<pre><code>^(?!\\s*$)[^:*]+$\n</code></pre>\n<ul>\n<li><code>^</code> - start of string anchor</li>\n<li><code>(?!\\s*$)</code> negative lookahead rejecting whitespace-only strings</li>\n<li><code>[^:*]+</code> - one or more of any character except <code>:</code> and <code>*</code></li>\n<li><code>$</code> - end of string anchor</li>\n</ul>\n<p><a href=\"https://regex101.com/r/QXvgLH/1\" rel=\"nofollow noreferrer\">Demo</a></p>\n"},{"comments":[{"owner":{"account_id":2703953,"reputation":43,"user_id":3326166,"display_name":"Gordon Pham-Nguyen"},"score":0,"creation_date":1668393735,"post_id":74425872,"comment_id":131386847,"body_markdown":"Thank you for showing me how to combine the two patterns I had!","body":"Thank you for showing me how to combine the two patterns I had!"}],"tags":[],"owner":{"account_id":1706574,"reputation":13314,"user_id":1565512,"display_name":"MikeM"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1668385847,"creation_date":1668385847,"answer_id":74425872,"question_id":74425265,"body_markdown":"An example of how you could combine your two patterns for use with the `matches` method: \r\n\r\n```java\r\n&quot;[^:*]*[^:*\\\\s][^:*]*&quot;\r\n```\r\n\r\n`[^\\s]` is equivalent to `\\S`.","title":"Regex: string can contain spaces, but not only spaces. It cannot contain `*` nor `:` characters either","body":"<p>An example of how you could combine your two patterns for use with the <code>matches</code> method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>&quot;[^:*]*[^:*\\\\s][^:*]*&quot;\n</code></pre>\n<p><code>[^\\s]</code> is equivalent to <code>\\S</code>.</p>\n"},{"comments":[{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":1,"creation_date":1668454679,"post_id":74429796,"comment_id":131404273,"body_markdown":"Nice! I think your second pattern meets the requirement precisely as he required the whitespace (just whitespace) to be rejected.","body":"Nice! I think your second pattern meets the requirement precisely as he required the whitespace (just whitespace) to be rejected."}],"tags":[],"owner":{"account_id":7089168,"reputation":157141,"user_id":5424988,"display_name":"The fourth bird"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668450751,"creation_date":1668419860,"answer_id":74429796,"question_id":74425265,"body_markdown":"You can use `matches` to match the whole string with the doubled backslash:\r\n\r\n    \\\\s*[^\\\\s:*][^:*]*\r\n\r\n**Explanation**\r\n\r\n- `\\s*` Match optional whitespace chars\r\n- `[^\\s:*]` Match a non whitespace char other than `:` and `*`\r\n- `[^:*]*` Match optional chars other than `:` and `*`\r\n\r\nSee a [regex demo](https://regex101.com/r/eXl1hl/1).\r\n\r\nAs `\\s` can also match a newline, if you don&#39;t want to cross matching newlines:\r\n\r\n    \\\\h*[^\\\\s:*][^\\\\r\\\\n:*]*\r\n\r\n**Explanation**\r\n\r\n- `\\h*` Match optional horizontal whitespace chars\r\n- `[^\\s:*]` Match a non whitespace char other than `:` and `*`\r\n- `[^\\\\r\\\\n:*]*` Match optional chars other than `:` and `*` or newlines\r\n\r\nSee another [regex demo](https://regex101.com/r/D6HmOm/1).","title":"Regex: string can contain spaces, but not only spaces. It cannot contain `*` nor `:` characters either","body":"<p>You can use <code>matches</code> to match the whole string with the doubled backslash:</p>\n<pre><code>\\\\s*[^\\\\s:*][^:*]*\n</code></pre>\n<p><strong>Explanation</strong></p>\n<ul>\n<li><code>\\s*</code> Match optional whitespace chars</li>\n<li><code>[^\\s:*]</code> Match a non whitespace char other than <code>:</code> and <code>*</code></li>\n<li><code>[^:*]*</code> Match optional chars other than <code>:</code> and <code>*</code></li>\n</ul>\n<p>See a <a href=\"https://regex101.com/r/eXl1hl/1\" rel=\"nofollow noreferrer\">regex demo</a>.</p>\n<p>As <code>\\s</code> can also match a newline, if you don't want to cross matching newlines:</p>\n<pre><code>\\\\h*[^\\\\s:*][^\\\\r\\\\n:*]*\n</code></pre>\n<p><strong>Explanation</strong></p>\n<ul>\n<li><code>\\h*</code> Match optional horizontal whitespace chars</li>\n<li><code>[^\\s:*]</code> Match a non whitespace char other than <code>:</code> and <code>*</code></li>\n<li><code>[^\\\\r\\\\n:*]*</code> Match optional chars other than <code>:</code> and <code>*</code> or newlines</li>\n</ul>\n<p>See another <a href=\"https://regex101.com/r/D6HmOm/1\" rel=\"nofollow noreferrer\">regex demo</a>.</p>\n"}],"owner":{"account_id":2703953,"reputation":43,"user_id":3326166,"display_name":"Gordon Pham-Nguyen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":74425872,"answer_count":3,"score":3,"last_activity_date":1668450751,"creation_date":1668378416,"question_id":74425265,"body_markdown":"I need help finding a regex that will allow most strings, except:\r\n\r\n* if the string only contains whitespaces\r\n* if the string contains `:` or `*`\r\n\r\nI want to reject the following strings:\r\n\r\n* `&quot;hello:world&quot;`\r\n* `&quot;hello*world&quot;`\r\n* `&quot; &quot;` (just a whitespace)\r\n\r\nBut the following strings will pass:\r\n\r\n* `&quot;hello world&quot;`\r\n* `&quot;hello&quot;`\r\n\r\nSo far, I can accomplish what I want... in two patterns.\r\n\r\n* `[^:*]*` rejects the 2 special characters\r\n* `.*\\S.*` rejects any string with only whitespaces\r\n\r\nI&#39;m not sure how to combine these two patterns into one...\r\n\r\nI&#39;ll be using the regex pattern along with Java.","title":"Regex: string can contain spaces, but not only spaces. It cannot contain `*` nor `:` characters either","body":"<p>I need help finding a regex that will allow most strings, except:</p>\n<ul>\n<li>if the string only contains whitespaces</li>\n<li>if the string contains <code>:</code> or <code>*</code></li>\n</ul>\n<p>I want to reject the following strings:</p>\n<ul>\n<li><code>&quot;hello:world&quot;</code></li>\n<li><code>&quot;hello*world&quot;</code></li>\n<li><code>&quot; &quot;</code> (just a whitespace)</li>\n</ul>\n<p>But the following strings will pass:</p>\n<ul>\n<li><code>&quot;hello world&quot;</code></li>\n<li><code>&quot;hello&quot;</code></li>\n</ul>\n<p>So far, I can accomplish what I want... in two patterns.</p>\n<ul>\n<li><code>[^:*]*</code> rejects the 2 special characters</li>\n<li><code>.*\\S.*</code> rejects any string with only whitespaces</li>\n</ul>\n<p>I'm not sure how to combine these two patterns into one...</p>\n<p>I'll be using the regex pattern along with Java.</p>\n"},{"tags":["java","keycloak","idp","identity-management"],"answers":[{"tags":[],"owner":{"account_id":26506001,"reputation":2574,"user_id":20142156,"display_name":"Dhaval Gajjar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668446438,"creation_date":1668446438,"answer_id":74435523,"question_id":74435136,"body_markdown":"Its not recommended to do without redirect. But you can still achieve with `Direct Grant Flow`.\r\n\r\nhttps://developers.redhat.com/blog/2020/01/29/api-login-and-jwt-token-generation-using-keycloak?sc_cid=7013a00000313tHAAQ#test_your_new_client\r\n\r\nhttps://stackoverflow.com/a/48255625","title":"Integrate Keycloak login for authentication when getting a REST request without login page","body":"<p>Its not recommended to do without redirect. But you can still achieve with <code>Direct Grant Flow</code>.</p>\n<p><a href=\"https://developers.redhat.com/blog/2020/01/29/api-login-and-jwt-token-generation-using-keycloak?sc_cid=7013a00000313tHAAQ#test_your_new_client\" rel=\"nofollow noreferrer\">https://developers.redhat.com/blog/2020/01/29/api-login-and-jwt-token-generation-using-keycloak?sc_cid=7013a00000313tHAAQ#test_your_new_client</a></p>\n<p><a href=\"https://stackoverflow.com/a/48255625\">https://stackoverflow.com/a/48255625</a></p>\n"},{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1668450713,"creation_date":1668450713,"answer_id":74436289,"question_id":74435136,"body_markdown":"I would go further than Dhaval and say that it is recommanded not go that way. \r\n\r\nUsers should not authenticate against your API but against authorization-server (Keycloak) directly. Neither clients (UI) nor resource-servers (REST APIs) should access users secrets.\r\n\r\nJust configure your client (UI) to redirect users to Keycloak to get access-token and send this token as Bearer Authorization header when issuing requests to resource-servers (REST APIs). Use an OAuth2 client library for that (eventually labeled with OpenID / OIDC).\r\n\r\nSee those tutorials for minimal Keycloak setup and Spring resource-servers security configuration: https://github.com/ch4mpy/spring-addons/blob/master/samples/tutorials","title":"Integrate Keycloak login for authentication when getting a REST request without login page","body":"<p>I would go further than Dhaval and say that it is recommanded not go that way.</p>\n<p>Users should not authenticate against your API but against authorization-server (Keycloak) directly. Neither clients (UI) nor resource-servers (REST APIs) should access users secrets.</p>\n<p>Just configure your client (UI) to redirect users to Keycloak to get access-token and send this token as Bearer Authorization header when issuing requests to resource-servers (REST APIs). Use an OAuth2 client library for that (eventually labeled with OpenID / OIDC).</p>\n<p>See those tutorials for minimal Keycloak setup and Spring resource-servers security configuration: <a href=\"https://github.com/ch4mpy/spring-addons/blob/master/samples/tutorials\" rel=\"nofollow noreferrer\">https://github.com/ch4mpy/spring-addons/blob/master/samples/tutorials</a></p>\n"}],"owner":{"account_id":7753338,"reputation":1218,"user_id":5985343,"display_name":"jmizv"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2413,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74436289,"answer_count":2,"score":0,"last_activity_date":1668450713,"creation_date":1668444686,"question_id":74435136,"body_markdown":"I have an Java web application which had an internal identity and access management. It was now suspended with the integration of Keycloak.\r\n\r\nNext to its web interface, my application has also a REST endpoint like `/api/authentication/login` (among others but this is the starting point) which could be called previously to get a token via: `curl -X POST http://localhost:8080/api/authentication/login -H &#39;Authorization: admin:admin&#39;`.\r\n\r\nWith the integration of Keycloak here, I cannot any longer login via that REST endpoint. I always get redirected to the login page of Keycloak which might makes sense in the way that it protects my app. But here I want to bypass the Keycloak login page and directly check the credentials and return a token if they match.\r\n\r\nWhat are my options to achieve this?\r\n\r\nBtw: the app does **not** use Spring Boot.\r\n\r\nI&#39;ve tried to add a new Keycloak OpenID Client which would cover the `/api` Home URL and I also set the option &quot;Client Authentication&quot; to `false` but with no effect, i.e. I still get redirected to the Keycloak login page.","title":"Integrate Keycloak login for authentication when getting a REST request without login page","body":"<p>I have an Java web application which had an internal identity and access management. It was now suspended with the integration of Keycloak.</p>\n<p>Next to its web interface, my application has also a REST endpoint like <code>/api/authentication/login</code> (among others but this is the starting point) which could be called previously to get a token via: <code>curl -X POST http://localhost:8080/api/authentication/login -H 'Authorization: admin:admin'</code>.</p>\n<p>With the integration of Keycloak here, I cannot any longer login via that REST endpoint. I always get redirected to the login page of Keycloak which might makes sense in the way that it protects my app. But here I want to bypass the Keycloak login page and directly check the credentials and return a token if they match.</p>\n<p>What are my options to achieve this?</p>\n<p>Btw: the app does <strong>not</strong> use Spring Boot.</p>\n<p>I've tried to add a new Keycloak OpenID Client which would cover the <code>/api</code> Home URL and I also set the option &quot;Client Authentication&quot; to <code>false</code> but with no effect, i.e. I still get redirected to the Keycloak login page.</p>\n"},{"tags":["java","android","android-fragments","android-navigation-graph"],"answers":[{"comments":[{"owner":{"account_id":25353346,"reputation":13,"user_id":19169874,"display_name":"Mordechay"},"score":0,"creation_date":1668021215,"post_id":74367637,"comment_id":131309124,"body_markdown":"It did work. But I still couldn&#39;t get a fragment object, how did you manage to get a feagment object?\n\nI wrote it, but fragment is still null.\n\n\n    if (navDestination.getId() == R.id.nav_explorer) {\n            fragment = getSupportFragmentManager().findFragmentById(R.id.nav_explorer);\n            }","body":"It did work. But I still couldn&#39;t get a fragment object, how did you manage to get a feagment object?  I wrote it, but fragment is still null.       if (navDestination.getId() == R.id.nav_explorer) {             fragment = getSupportFragmentManager().findFragmentById(R.id.nav_explor&zwnj;&#8203;er);             }"},{"owner":{"account_id":25353346,"reputation":13,"user_id":19169874,"display_name":"Mordechay"},"score":0,"creation_date":1668025935,"post_id":74367637,"comment_id":131310559,"body_markdown":"I need this to implement this:\nhttps://stackoverflow.com/a/46425415/19169874","body":"I need this to implement this: <a href=\"https://stackoverflow.com/a/46425415/19169874\">stackoverflow.com/a/46425415/19169874</a>"},{"owner":{"account_id":17894989,"reputation":306,"user_id":13000604,"display_name":"Sasa Arsenovic"},"score":1,"creation_date":1668094860,"post_id":74367637,"comment_id":131328150,"body_markdown":"Ok. You can find fragment instance with something like this:\n\n   \n fun findFragmentInstance() {\n        val fragmentHost = supportFragmentManager.findFragmentById(R.id.nav_host_fragment)\n        val fragmentInstance = fragmentHost?.childFragmentManager?.fragments?.last()\n        if (fragmentInstance is YourFragment) {\n            // Do whatever you want with fragment\n        }\n        }","body":"Ok. You can find fragment instance with something like this:       fun findFragmentInstance() {         val fragmentHost = supportFragmentManager.findFragmentById(R.id.nav_host_fragme&zwnj;&#8203;nt)         val fragmentInstance = fragmentHost?.childFragmentManager?.fragments?.last()         if (fragmentInstance is YourFragment) {             // Do whatever you want with fragment         }         }"},{"owner":{"account_id":25353346,"reputation":13,"user_id":19169874,"display_name":"Mordechay"},"score":0,"creation_date":1668373495,"post_id":74367637,"comment_id":131383846,"body_markdown":"How is it in Java?","body":"How is it in Java?"},{"owner":{"account_id":17894989,"reputation":306,"user_id":13000604,"display_name":"Sasa Arsenovic"},"score":1,"creation_date":1668441257,"post_id":74367637,"comment_id":131399700,"body_markdown":"void findFragmentInstance() {\n        Fragment fragmentHost = getSupportFragmentManager().findFragmentById(R.id.nav_host_fragment);\n        List&lt;Fragment&gt; fragmentList = fragmentHost.getChildFragmentManager().getFragments();\n        Fragment fr = fragmentList.get(fragmentList.size() - 1);\n        if (fr instanceof YourFragment) {\n            // Do whatever you want with fragment\n        }\n    }\n\n// Be careful, fragmentHost, childFragmentManager and fragmentsList might be null. You need to check it to avoid NullPointerException. Hope this helps.","body":"void findFragmentInstance() {         Fragment fragmentHost = getSupportFragmentManager().findFragmentById(R.id.nav_host_f&zwnj;&#8203;ragment);         List&lt;Fragment&gt; fragmentList = fragmentHost.getChildFragmentManager().getFragments();         Fragment fr = fragmentList.get(fragmentList.size() - 1);         if (fr instanceof YourFragment) {             // Do whatever you want with fragment         }     }  // Be careful, fragmentHost, childFragmentManager and fragmentsList might be null. You need to check it to avoid NullPointerException. Hope this helps."}],"tags":[],"owner":{"account_id":17894989,"reputation":306,"user_id":13000604,"display_name":"Sasa Arsenovic"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667944854,"creation_date":1667944854,"answer_id":74367637,"question_id":74367041,"body_markdown":"You&#39;ve already set your id&#39;s =&gt; android:id=&quot;@+id/nav_home&quot; and android:id=&quot;@+id/nav_explorer&quot;.\r\n\r\nAt first, you need to declare your navigation controller.\r\n\r\n    val navigationController = findNavController(R.id.nvgv_fragment)\r\n\r\nthen you can check destination fragment with listener \r\n\r\n    navigationController.addOnDestinationChangedListener { _, destination, _ -&gt;\r\n        if (destination.id == R.id.nav_explorer) {\r\n            // whatever you want to do\r\n        }\r\n    }\r\n\r\nBut, if you only need an instance of displayed fragment, you can find the answer here:\r\n[Current fragment instance][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/51732378/13000604","title":"How do one set an ID for a fragment displayed by a NavController and creating a Fragment object?","body":"<p>You've already set your id's =&gt; android:id=&quot;@+id/nav_home&quot; and android:id=&quot;@+id/nav_explorer&quot;.</p>\n<p>At first, you need to declare your navigation controller.</p>\n<pre><code>val navigationController = findNavController(R.id.nvgv_fragment)\n</code></pre>\n<p>then you can check destination fragment with listener</p>\n<pre><code>navigationController.addOnDestinationChangedListener { _, destination, _ -&gt;\n    if (destination.id == R.id.nav_explorer) {\n        // whatever you want to do\n    }\n}\n</code></pre>\n<p>But, if you only need an instance of displayed fragment, you can find the answer here:\n<a href=\"https://stackoverflow.com/a/51732378/13000604\">Current fragment instance</a></p>\n"}],"owner":{"account_id":25353346,"reputation":13,"user_id":19169874,"display_name":"Mordechay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":330,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74367637,"answer_count":1,"score":0,"last_activity_date":1668450444,"creation_date":1667940831,"question_id":74367041,"body_markdown":"I created a navigation bar and ,I didn&#39;t understand how to create an ID for each fragment in grph.\r\n\r\n\r\nnavigation graph:\r\n```\r\n&lt;navigation xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/nav_graph&quot;\r\n    app:startDestination=&quot;@id/nav_home&quot;&gt;\r\n    &lt;fragment\r\n        android:id=&quot;@+id/nav_home&quot;\r\n        android:name=&quot;com.mordechay.yemotapp.HomeFragment&quot;\r\n        android:label=&quot;fragment_home&quot;\r\n        tools:layout=&quot;@layout/fragment_home&quot; &gt;\r\n    &lt;/fragment&gt;\r\n    &lt;fragment\r\n        android:id=&quot;@id/nav_explorer&quot;\r\n        android:name=&quot;com.mordechay.yemotapp.filseExplorerFragment&quot;\r\n        android:label=&quot;fragment_filse_explorer&quot;\r\n        tools:layout=&quot;@layout/fragment_filse_explorer&quot; /&gt;\r\n&lt;/navigation&gt;\r\n```\r\n\r\nin the activity:\r\n\r\n```\r\n&lt;fragment\r\n    android:id=&quot;@+id/nvgv_fragment&quot;\r\n    android:name=&quot;androidx.navigation.fragment.NavHostFragment&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    app:layout_constraintTop_toBottomOf=&quot;parent&quot;\r\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n    app:defaultNavHost=&quot;true&quot;\r\n    app:navGraph=&quot;@navigation/nav_graph&quot;\r\n    /&gt;\r\n\r\n```\r\n\r\n\r\nAnd I wrote in the activity:\r\n\r\n```\r\nFragment fragment = getSupportFragmentManager().findFragmentById(R.id.nav_explorer);\r\n```\r\nIt comes out null, what do I need to write to get the fragment?\r\n\r\n\r\n\r\nI tried to get the fragment by writing the ID of the fragment found in the navigation graph.\r\nBut I get null.","title":"How do one set an ID for a fragment displayed by a NavController and creating a Fragment object?","body":"<p>I created a navigation bar and ,I didn't understand how to create an ID for each fragment in grph.</p>\n<p>navigation graph:</p>\n<pre><code>&lt;navigation xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/nav_graph&quot;\n    app:startDestination=&quot;@id/nav_home&quot;&gt;\n    &lt;fragment\n        android:id=&quot;@+id/nav_home&quot;\n        android:name=&quot;com.mordechay.yemotapp.HomeFragment&quot;\n        android:label=&quot;fragment_home&quot;\n        tools:layout=&quot;@layout/fragment_home&quot; &gt;\n    &lt;/fragment&gt;\n    &lt;fragment\n        android:id=&quot;@id/nav_explorer&quot;\n        android:name=&quot;com.mordechay.yemotapp.filseExplorerFragment&quot;\n        android:label=&quot;fragment_filse_explorer&quot;\n        tools:layout=&quot;@layout/fragment_filse_explorer&quot; /&gt;\n&lt;/navigation&gt;\n</code></pre>\n<p>in the activity:</p>\n<pre><code>&lt;fragment\n    android:id=&quot;@+id/nvgv_fragment&quot;\n    android:name=&quot;androidx.navigation.fragment.NavHostFragment&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    app:layout_constraintTop_toBottomOf=&quot;parent&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n    app:defaultNavHost=&quot;true&quot;\n    app:navGraph=&quot;@navigation/nav_graph&quot;\n    /&gt;\n\n</code></pre>\n<p>And I wrote in the activity:</p>\n<pre><code>Fragment fragment = getSupportFragmentManager().findFragmentById(R.id.nav_explorer);\n</code></pre>\n<p>It comes out null, what do I need to write to get the fragment?</p>\n<p>I tried to get the fragment by writing the ID of the fragment found in the navigation graph.\nBut I get null.</p>\n"},{"tags":["java","listview","javafx"],"comments":[{"owner":{"account_id":411710,"reputation":4423,"user_id":784345,"accept_rate":64,"display_name":"Dejwi"},"score":5,"creation_date":1475357003,"post_id":39810814,"comment_id":66914496,"body_markdown":"I do not want to hide the horizontal scrollbar. I want to eliminate possibility, that it will be needed.","body":"I do not want to hide the horizontal scrollbar. I want to eliminate possibility, that it will be needed."},{"owner":{"account_id":5371305,"reputation":59,"user_id":4279745,"accept_rate":8,"display_name":"Door D Uthpala"},"score":1,"creation_date":1606245717,"post_id":39810814,"comment_id":114904276,"body_markdown":"i simply use \n\n   row.prefWidthProperty().bind(listviwe.widthProperty().divide(1.1));\n   row.setMaxWidth(Control.USE_PREF_SIZE);","body":"i simply use      row.prefWidthProperty().bind(listviwe.widthProperty().divide&zwnj;&#8203;(1.1));    row.setMaxWidth(Control.USE_PREF_SIZE);"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1668432588,"post_id":39810814,"comment_id":131396367,"body_markdown":"_avoid horizontal scrolling in ListView_ why exactly? _The ListView instance holds list of HBox items_ that&#39;s wrong, never-ever keep Nodes as data in a virtualized control: while we often get away with it (except in ComboBox), problems are looming due to cell re-use.","body":"<i>avoid horizontal scrolling in ListView</i> why exactly? <i>The ListView instance holds list of HBox items</i> that&#39;s wrong, never-ever keep Nodes as data in a virtualized control: while we often get away with it (except in ComboBox), problems are looming due to cell re-use."}],"answers":[{"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1668253094,"post_id":74411089,"comment_id":131363454,"body_markdown":"some comments: a) don&#39;t keep a reference to a looked-up node: they are under the control of the skin and might change during the life-time - actually, better not do any lookup if you can get along without: here you would implement a custom skin - which in current versions has api to access the scrollbars -  to do the work b) don&#39;t create nodes in updateItem, doing so defeats the whole point of having re-usable cells at all","body":"some comments: a) don&#39;t keep a reference to a looked-up node: they are under the control of the skin and might change during the life-time - actually, better not do any lookup if you can get along without: here you would implement a custom skin - which in current versions has api to access the scrollbars -  to do the work b) don&#39;t create nodes in updateItem, doing so defeats the whole point of having re-usable cells at all"},{"owner":{"account_id":23941953,"reputation":369,"user_id":17934914,"display_name":"AtomicUs5000"},"score":0,"creation_date":1668362299,"post_id":74411089,"comment_id":131381381,"body_markdown":"Good points. I&#39;ve updated so that HBox creation is at the time of ListCell creation. I&#39;m going to leave out the custom skin implementation since this question was asked over 6 years ago. It would definitely be cleaner for an application, but I think this more clearly demonstrates what the problem is and sufficiently answers this ancient question.","body":"Good points. I&#39;ve updated so that HBox creation is at the time of ListCell creation. I&#39;m going to leave out the custom skin implementation since this question was asked over 6 years ago. It would definitely be cleaner for an application, but I think this more clearly demonstrates what the problem is and sufficiently answers this ancient question."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1668380902,"post_id":74411089,"comment_id":131385078,"body_markdown":"wrong direction - data != node","body":"wrong direction - data != node"},{"owner":{"account_id":23941953,"reputation":369,"user_id":17934914,"display_name":"AtomicUs5000"},"score":0,"creation_date":1668382311,"post_id":74411089,"comment_id":131385297,"body_markdown":"Please clarify. &quot;The ListView instance holds a list of HBox items&quot; in the question.","body":"Please clarify. &quot;The ListView instance holds a list of HBox items&quot; in the question."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1668432287,"post_id":74411089,"comment_id":131396259,"body_markdown":"it&#39;s wrong to hold nodes as items in the list - and wrong to replicate such an error in an answer. And no need to so for solving the no-horizontal-sb problem.","body":"it&#39;s wrong to hold nodes as items in the list - and wrong to replicate such an error in an answer. And no need to so for solving the no-horizontal-sb problem."},{"owner":{"account_id":23941953,"reputation":369,"user_id":17934914,"display_name":"AtomicUs5000"},"score":0,"creation_date":1668442770,"post_id":74411089,"comment_id":131400274,"body_markdown":"Heard and understood.","body":"Heard and understood."}],"tags":[],"owner":{"account_id":23941953,"reputation":369,"user_id":17934914,"display_name":"AtomicUs5000"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668450435,"creation_date":1668237767,"answer_id":74411089,"question_id":39810814,"body_markdown":"There is a lot at play here that make customizing ListView horizontal scrollbar behavior difficult to deal with. In addition to that, common misunderstandings on how ListView works can cause other problems.\r\n\r\nThe main issue to address is that the width of the ListCells will not automatically adapt when the vertical scrollbar becomes visible. Therefore, the moment it is, suddenly the contents are too wide to fit between the left edge of the ListView and the left edge of the vertical scrollbar, triggering a horizontal scrollbar. There is also the default padding of a ListCell as well as the border widths of the ListView itself to consider when determining the proper binding to set.\r\n\r\nThe following class that extends ListView:\r\n```\r\n    public class WidthBoundList extends ListView {\r\n        private final BooleanProperty vbarVisibleProperty = new SimpleBooleanProperty(false);\r\n        private final boolean bindPrefWidth;\r\n        private final double scrollbarThickness;\r\n        private final double sumBorderSides;\r\n        \r\n        public WidthBoundList(double scrollbarThickness, double sumBorderSides, boolean bindPrefWidth) {\r\n            this.scrollbarThickness = scrollbarThickness;\r\n            this.sumBorderSides = sumBorderSides;\r\n            this.bindPrefWidth = bindPrefWidth;\r\n            Platform.runLater(()-&gt;{\r\n                findScroller();\r\n            });\r\n        }\r\n        \r\n        private void findScroller() {\r\n            if (!this.getChildren().isEmpty()) {\r\n                VirtualFlow flow = (VirtualFlow)this.getChildren().get(0);\r\n                if (flow != null) {\r\n                    List&lt;Node&gt; flowChildren = flow.getChildrenUnmodifiable();\r\n                    int len = flowChildren .size();\r\n                    for (int i = 0; i &lt; len; i++) {\r\n                        Node n = flowChildren .get(i);\r\n                        if (n.getClass().equals(VirtualScrollBar.class)) {\r\n                            final ScrollBar bar = (ScrollBar) n;\r\n                            if (bar.getOrientation().equals(Orientation.VERTICAL)) {\r\n                                vbarVisibleProperty.bind(bar.visibleProperty());\r\n                                bar.setPrefWidth(scrollbarThickness);\r\n                                bar.setMinWidth(scrollbarThickness);\r\n                                bar.setMaxWidth(scrollbarThickness);\r\n                            } else if (bar.getOrientation().equals(Orientation.HORIZONTAL)) {\r\n                                bar.setPrefHeight(scrollbarThickness);\r\n                                bar.setMinHeight(scrollbarThickness);\r\n                                bar.setMaxHeight(scrollbarThickness);\r\n                            }\r\n                        }\r\n                    }\r\n                } else {\r\n                    Platform.runLater(()-&gt;{\r\n                        findScroller();\r\n                    });\r\n                }\r\n            } else {\r\n                Platform.runLater(()-&gt;{\r\n                    findScroller();\r\n                });\r\n            }\r\n        }\r\n        \r\n        public void bindWidthScrollCondition(Region node) {\r\n            node.maxWidthProperty().unbind();\r\n            node.prefWidthProperty().unbind();\r\n            node.maxWidthProperty().bind(\r\n                Bindings.when(vbarVisibleProperty)\r\n                        .then(this.widthProperty().subtract(scrollbarThickness).subtract(sumBorderSides))\r\n                        .otherwise(this.widthProperty().subtract(sumBorderSides))\r\n            );\r\n            if (bindPrefWidth) { \r\n                node.prefWidthProperty().bind(node.maxWidthProperty());\r\n            }\r\n        }\r\n    }\r\n```\r\n \r\nRegarding your code, your bindings could cause problems. A ListCell&#39;s `updateItem()` method is not only called when the ListCell is created. A ListView can contain a pretty large list of data, so to improve the performance only the ListCells scrolled into view (and possibly a few before and after) need their graphic rendered. The `updateItem()` method handles this. In your code, a Region is being created over and over again and each and every one of them is being bound to the width of your ListView. Instead, the ListCell itself should be bound.\r\n\r\nThe following class extends ListCell and the method to bind the HBox is called in the constructor:\r\n\r\n```\r\n    public class BoundListCell extends ListCell&lt;String&gt; {\r\n        private final HBox  hbox;\r\n        private final Label label;\r\n        \r\n        public BoundListCell(WidthBoundList widthBoundList) {\r\n            this.setPadding(Insets.EMPTY);\r\n            hbox = new HBox();\r\n            label = new Label();\r\n            hbox.setPadding(new Insets(2, 4, 2, 4));\r\n            hbox.getChildren().add(label);\r\n            widthBoundList.bindWidthScrollCondition(this);\r\n        }\r\n        \r\n        @Override\r\n        public void updateItem(String data, boolean empty) {\r\n            super.updateItem(data, empty);\r\n            if (empty || data == null) {\r\n                label.setText(&quot;&quot;);\r\n                setGraphic(null);\r\n                setText(null);\r\n            } else {\r\n                label.setText(data);\r\n                setGraphic(hbox);\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\nThe `scrollbarThickness` parameter of WidthBoundList constructor has been set to 12. The `sumBorderSides` parameter has been set to 2 because my WidthBoundList has a one pixel border on the right and left. The `bindPrefWidth` parameter has been set to true to prevent the horizontal scroller from showing at all (labels have ellipses, any non-text nodes that you might add to the hbox will simply be clipped). Set `bindPrefWidth` to false to allow a horizontal scrollbar, and with these proper bindings it should only show when needed. An implementation:\r\n\r\n```\r\n    private final WidthBoundList myListView = new WidthBoundList(12, 2, true);\r\n    \r\n    public static void main(final String... a) {\r\n        Application.launch(a);\r\n    }\r\n    \r\n    @Override\r\n    public void start(final Stage primaryStage) throws Exception {\r\n        myListView.setCellFactory(c -&gt; new BoundListCell(myListView));\r\n        \r\n        VBox vBox = new VBox();\r\n        vBox.setFillWidth(true);\r\n        vBox.setAlignment(Pos.CENTER);\r\n        vBox.setSpacing(5);\r\n\r\n        Button button = new Button(&quot;APPEND&quot;);\r\n        button.setOnAction((e)-&gt;{\r\n            myListView.getItems().add(&quot;THIS IS LIST ITEM NUMBER &quot; + myListView.getItems().size());\r\n        });\r\n        \r\n        vBox.getChildren().addAll(myListView, button);\r\n        \r\n        myListView.maxWidthProperty().bind(vBox.widthProperty().subtract(20));\r\n        myListView.prefHeightProperty().bind(vBox.heightProperty().subtract(20));\r\n        \r\n        primaryStage.setScene(new Scene(vBox, 200, 400));\r\n        primaryStage.show();\r\n    }\r\n```\r\n\r\n\r\n","title":"Javafx listview disable horizontal scrolling","body":"<p>There is a lot at play here that make customizing ListView horizontal scrollbar behavior difficult to deal with. In addition to that, common misunderstandings on how ListView works can cause other problems.</p>\n<p>The main issue to address is that the width of the ListCells will not automatically adapt when the vertical scrollbar becomes visible. Therefore, the moment it is, suddenly the contents are too wide to fit between the left edge of the ListView and the left edge of the vertical scrollbar, triggering a horizontal scrollbar. There is also the default padding of a ListCell as well as the border widths of the ListView itself to consider when determining the proper binding to set.</p>\n<p>The following class that extends ListView:</p>\n<pre><code>    public class WidthBoundList extends ListView {\n        private final BooleanProperty vbarVisibleProperty = new SimpleBooleanProperty(false);\n        private final boolean bindPrefWidth;\n        private final double scrollbarThickness;\n        private final double sumBorderSides;\n        \n        public WidthBoundList(double scrollbarThickness, double sumBorderSides, boolean bindPrefWidth) {\n            this.scrollbarThickness = scrollbarThickness;\n            this.sumBorderSides = sumBorderSides;\n            this.bindPrefWidth = bindPrefWidth;\n            Platform.runLater(()-&gt;{\n                findScroller();\n            });\n        }\n        \n        private void findScroller() {\n            if (!this.getChildren().isEmpty()) {\n                VirtualFlow flow = (VirtualFlow)this.getChildren().get(0);\n                if (flow != null) {\n                    List&lt;Node&gt; flowChildren = flow.getChildrenUnmodifiable();\n                    int len = flowChildren .size();\n                    for (int i = 0; i &lt; len; i++) {\n                        Node n = flowChildren .get(i);\n                        if (n.getClass().equals(VirtualScrollBar.class)) {\n                            final ScrollBar bar = (ScrollBar) n;\n                            if (bar.getOrientation().equals(Orientation.VERTICAL)) {\n                                vbarVisibleProperty.bind(bar.visibleProperty());\n                                bar.setPrefWidth(scrollbarThickness);\n                                bar.setMinWidth(scrollbarThickness);\n                                bar.setMaxWidth(scrollbarThickness);\n                            } else if (bar.getOrientation().equals(Orientation.HORIZONTAL)) {\n                                bar.setPrefHeight(scrollbarThickness);\n                                bar.setMinHeight(scrollbarThickness);\n                                bar.setMaxHeight(scrollbarThickness);\n                            }\n                        }\n                    }\n                } else {\n                    Platform.runLater(()-&gt;{\n                        findScroller();\n                    });\n                }\n            } else {\n                Platform.runLater(()-&gt;{\n                    findScroller();\n                });\n            }\n        }\n        \n        public void bindWidthScrollCondition(Region node) {\n            node.maxWidthProperty().unbind();\n            node.prefWidthProperty().unbind();\n            node.maxWidthProperty().bind(\n                Bindings.when(vbarVisibleProperty)\n                        .then(this.widthProperty().subtract(scrollbarThickness).subtract(sumBorderSides))\n                        .otherwise(this.widthProperty().subtract(sumBorderSides))\n            );\n            if (bindPrefWidth) { \n                node.prefWidthProperty().bind(node.maxWidthProperty());\n            }\n        }\n    }\n</code></pre>\n<p>Regarding your code, your bindings could cause problems. A ListCell's <code>updateItem()</code> method is not only called when the ListCell is created. A ListView can contain a pretty large list of data, so to improve the performance only the ListCells scrolled into view (and possibly a few before and after) need their graphic rendered. The <code>updateItem()</code> method handles this. In your code, a Region is being created over and over again and each and every one of them is being bound to the width of your ListView. Instead, the ListCell itself should be bound.</p>\n<p>The following class extends ListCell and the method to bind the HBox is called in the constructor:</p>\n<pre><code>    public class BoundListCell extends ListCell&lt;String&gt; {\n        private final HBox  hbox;\n        private final Label label;\n        \n        public BoundListCell(WidthBoundList widthBoundList) {\n            this.setPadding(Insets.EMPTY);\n            hbox = new HBox();\n            label = new Label();\n            hbox.setPadding(new Insets(2, 4, 2, 4));\n            hbox.getChildren().add(label);\n            widthBoundList.bindWidthScrollCondition(this);\n        }\n        \n        @Override\n        public void updateItem(String data, boolean empty) {\n            super.updateItem(data, empty);\n            if (empty || data == null) {\n                label.setText(&quot;&quot;);\n                setGraphic(null);\n                setText(null);\n            } else {\n                label.setText(data);\n                setGraphic(hbox);\n            }\n        }\n    }\n</code></pre>\n<p>The <code>scrollbarThickness</code> parameter of WidthBoundList constructor has been set to 12. The <code>sumBorderSides</code> parameter has been set to 2 because my WidthBoundList has a one pixel border on the right and left. The <code>bindPrefWidth</code> parameter has been set to true to prevent the horizontal scroller from showing at all (labels have ellipses, any non-text nodes that you might add to the hbox will simply be clipped). Set <code>bindPrefWidth</code> to false to allow a horizontal scrollbar, and with these proper bindings it should only show when needed. An implementation:</p>\n<pre><code>    private final WidthBoundList myListView = new WidthBoundList(12, 2, true);\n    \n    public static void main(final String... a) {\n        Application.launch(a);\n    }\n    \n    @Override\n    public void start(final Stage primaryStage) throws Exception {\n        myListView.setCellFactory(c -&gt; new BoundListCell(myListView));\n        \n        VBox vBox = new VBox();\n        vBox.setFillWidth(true);\n        vBox.setAlignment(Pos.CENTER);\n        vBox.setSpacing(5);\n\n        Button button = new Button(&quot;APPEND&quot;);\n        button.setOnAction((e)-&gt;{\n            myListView.getItems().add(&quot;THIS IS LIST ITEM NUMBER &quot; + myListView.getItems().size());\n        });\n        \n        vBox.getChildren().addAll(myListView, button);\n        \n        myListView.maxWidthProperty().bind(vBox.widthProperty().subtract(20));\n        myListView.prefHeightProperty().bind(vBox.heightProperty().subtract(20));\n        \n        primaryStage.setScene(new Scene(vBox, 200, 400));\n        primaryStage.show();\n    }\n</code></pre>\n"}],"owner":{"account_id":411710,"reputation":4423,"user_id":784345,"accept_rate":64,"display_name":"Dejwi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2946,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"answer_count":1,"score":6,"last_activity_date":1668450435,"creation_date":1475351239,"question_id":39810814,"body_markdown":"I&#39;m trying to avoid horizontal scrolling in ListView. The ListView instance holds list of HBox items, each item has a different width.\r\n\r\nSo far I&#39;m using such a cell factory:\r\n\r\n    public class ListViewCell extends ListCell&lt;Data&gt;\r\n    {\r\n        @Override\r\n        public void updateItem(Data data, boolean empty)\r\n        {\r\n            super.updateItem(data, empty);\r\n            if(empty || data == null){\r\n                setGraphic(null);\r\n                setText(null);\r\n            }\r\n            if(data != null)\r\n            {\r\n                Region region = createRow(data);\r\n                region.prefWidthProperty().bind(mListView.widthProperty().subtract(20));\r\n                region.maxWidthProperty().bind(mListView.widthProperty().subtract(20));\r\n                setGraphic(region);\r\n            }\r\n        }\r\n    }\r\n\r\nUnfortunately it is not enough. Usually after adding several items ListView&#39;s horizontal scrollbar appears. Even if it seems to be unnecessary.\r\n\r\nHow can I assure, that ListViewCell will not exceed it&#39;s parent width and horizontal scrollbar will not appear?","title":"Javafx listview disable horizontal scrolling","body":"<p>I'm trying to avoid horizontal scrolling in ListView. The ListView instance holds list of HBox items, each item has a different width.</p>\n\n<p>So far I'm using such a cell factory:</p>\n\n<pre><code>public class ListViewCell extends ListCell&lt;Data&gt;\n{\n    @Override\n    public void updateItem(Data data, boolean empty)\n    {\n        super.updateItem(data, empty);\n        if(empty || data == null){\n            setGraphic(null);\n            setText(null);\n        }\n        if(data != null)\n        {\n            Region region = createRow(data);\n            region.prefWidthProperty().bind(mListView.widthProperty().subtract(20));\n            region.maxWidthProperty().bind(mListView.widthProperty().subtract(20));\n            setGraphic(region);\n        }\n    }\n}\n</code></pre>\n\n<p>Unfortunately it is not enough. Usually after adding several items ListView's horizontal scrollbar appears. Even if it seems to be unnecessary.</p>\n\n<p>How can I assure, that ListViewCell will not exceed it's parent width and horizontal scrollbar will not appear?</p>\n"},{"tags":["java","xml","spring","spring-boot"],"comments":[{"owner":{"account_id":3023214,"reputation":20361,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":0,"creation_date":1668343201,"post_id":74420925,"comment_id":131377194,"body_markdown":"&quot;getters, setters and constructor&quot; =&gt; Actually, you left out the interesting (and important) part. ;-)","body":"&quot;getters, setters and constructor&quot; =&gt; Actually, you left out the interesting (and important) part. ;-)"},{"owner":{"account_id":10028568,"reputation":23,"user_id":7415987,"display_name":"Skully1"},"score":0,"creation_date":1668343426,"post_id":74420925,"comment_id":131377251,"body_markdown":"As your wish but hardly will something to change","body":"As your wish but hardly will something to change"}],"answers":[{"comments":[{"owner":{"account_id":10028568,"reputation":23,"user_id":7415987,"display_name":"Skully1"},"score":0,"creation_date":1668620532,"post_id":74436185,"comment_id":131451901,"body_markdown":"Thanks it work great and no crashes when deserializing","body":"Thanks it work great and no crashes when deserializing"}],"tags":[],"owner":{"account_id":6713019,"reputation":106,"user_id":5175771,"display_name":"Pieter Vandeperre - ACA Group"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668450104,"creation_date":1668450104,"answer_id":74436185,"question_id":74420925,"body_markdown":"You&#39;re just missing an `@JacksonXmlElementWrapper(useWrapping = false)` to on both the `ArrayList&lt;FxRate&gt;` and `List&lt;CcyAmt&gt;` or wrap it in an additional XML element.\r\n\r\nThe other annotations are also not required for it to work as expected.","title":"Cannot construct instance. Deserializing Xml in Java (Spring Boot)","body":"<p>You're just missing an <code>@JacksonXmlElementWrapper(useWrapping = false)</code> to on both the <code>ArrayList&lt;FxRate&gt;</code> and <code>List&lt;CcyAmt&gt;</code> or wrap it in an additional XML element.</p>\n<p>The other annotations are also not required for it to work as expected.</p>\n"}],"owner":{"account_id":10028568,"reputation":23,"user_id":7415987,"display_name":"Skully1"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":288,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668450104,"creation_date":1668342508,"question_id":74420925,"body_markdown":"Hello I have issue while deserializing Xml output into desriable object. I get \r\ncom.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot construct instance of `com.example.demo.models.responses.FxRate` (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value (&#39;EU&#39;).\r\nI tried to use JacksonXml or JsonPropery annotations but no avail.\r\n\r\nController\r\n```\r\npackage com.example.demo.controllers;\r\n\r\nimport com.example.demo.models.responses.FxRates;\r\nimport com.fasterxml.jackson.dataformat.xml.XmlMapper;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport java.io.IOException;\r\nimport java.net.URI;\r\nimport java.net.http.HttpClient;\r\nimport java.net.http.HttpRequest;\r\nimport java.net.http.HttpResponse;\r\n\r\n@RestController\r\npublic class TestController {\r\n    @GetMapping(&quot;/currency&quot;)\r\n    public FxRates GetCurrency() throws IOException, InterruptedException {\r\n        HttpRequest request =  HttpRequest.newBuilder()\r\n                .uri(URI.create(&quot;http://www.lb.lt/webservices/FxRates/FxRates.asmx/getFxRates?tp=eu&amp;dt=2017-12-25&quot;))\r\n                .header(&quot;Content-Type&quot;, &quot;text/xml&quot;)\r\n                .GET()\r\n                .build();\r\n\r\n        HttpResponse&lt;String&gt; response = HttpClient.newHttpClient()\r\n                .send(request, HttpResponse.BodyHandlers.ofString());\r\n\r\n\r\n        var test = response.body();\r\n\r\n        XmlMapper xmlMapper = new XmlMapper();\r\n        FxRates value = xmlMapper.readValue(response.body(), FxRates.class);\r\n\r\n        return value;\r\n    }\r\n}\r\n```\r\nDeserialized classes \r\n```\r\npackage com.example.demo.models.responses;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\nimport com.fasterxml.jackson.annotation.JsonPropertyOrder;\r\nimport com.fasterxml.jackson.dataformat.xml.annotation.JacksonXmlProperty;\r\n\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\n@JsonPropertyOrder({&quot;FxRate&quot;, &quot;xlmns&quot;})\r\npublic class FxRates {\r\n    //@JacksonXmlProperty(localName = &quot;FxRate&quot;)\r\n    @JsonProperty(&quot;FxRate&quot;)\r\n    public ArrayList&lt;com.example.demo.models.responses.FxRate&gt; FxRate;\r\n    @JsonProperty(&quot;xlmns&quot;)\r\n    public String xmlns;\r\n    \r\n        public FxRates()\r\n    {\r\n\r\n    }\r\n    public FxRates(ArrayList&lt;com.example.demo.models.responses.FxRate&gt; fxRate, String xmlns)  {\r\n        FxRate = fxRate;\r\n        this.xmlns = xmlns;\r\n        //this.text = text;\r\n    }\r\n\r\n    public ArrayList&lt;com.example.demo.models.responses.FxRate&gt; getFxRate() {\r\n        return FxRate;\r\n    }\r\n\r\n    public void setFxRate(ArrayList&lt;com.example.demo.models.responses.FxRate&gt; fxRate) {\r\n        FxRate = fxRate;\r\n    }\r\n\r\n    public String getXmlns() {\r\n        return xmlns;\r\n    }\r\n\r\n    public void setXmlns(String xmlns) {\r\n        this.xmlns = xmlns;\r\n    }\r\n}\r\n\r\npackage com.example.demo.models.responses;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\nimport java.util.List;\r\n\r\npublic class FxRate {\r\n    @JsonProperty(&quot;Tp&quot;)\r\n    public String Tp;\r\n    public String Dt;\r\n    public List&lt;CcyAmt&gt; CcyAmt;\r\n\r\n      public String getTp() {\r\n        return Tp;\r\n    }\r\n\r\n    public void setTp(String tp) {\r\n        Tp = tp;\r\n    }\r\n\r\n    public String getDt() {\r\n        return Dt;\r\n    }\r\n\r\n    public void setDt(String dt) {\r\n        Dt = dt;\r\n    }\r\n\r\n    public List&lt;com.example.demo.models.responses.CcyAmt&gt; getCcyAmt() {\r\n        return CcyAmt;\r\n    }\r\n\r\n    public void setCcyAmt(List&lt;com.example.demo.models.responses.CcyAmt&gt; ccyAmt) {\r\n        CcyAmt = ccyAmt;\r\n    }\r\n\r\n    public FxRate()\r\n    {\r\n\r\n    }\r\n    public FxRate(String tp, String dt, List&lt;com.example.demo.models.responses.CcyAmt&gt; ccyAmt) {\r\n        Tp = tp;\r\n        Dt = dt;\r\n        CcyAmt = ccyAmt;\r\n    }\r\n}\r\n\r\npackage com.example.demo.models.responses;\r\n\r\npublic class CcyAmt {\r\n    public String Ccy;\r\n    public String Amt;\r\n\r\n     public String getCcy() {\r\n        return Ccy;\r\n    }\r\n\r\n    public void setCcy(String ccy) {\r\n        Ccy = ccy;\r\n    }\r\n\r\n    public String getAmt() {\r\n        return Amt;\r\n    }\r\n\r\n    public void setAmt(String amt) {\r\n        Amt = amt;\r\n    }\r\n\r\n    public CcyAmt()\r\n    {\r\n\r\n    }\r\n    public CcyAmt(String ccy, String amt) {\r\n        Ccy = ccy;\r\n        Amt = amt;\r\n    }\r\n```\r\nExample Response\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;FxRates xmlns=&quot;http://www.lb.lt/WebServices/FxRates&quot;&gt;\r\n  &lt;FxRate&gt;\r\n    &lt;Tp&gt;EU&lt;/Tp&gt;\r\n    &lt;Dt&gt;2017-12-22&lt;/Dt&gt;\r\n    &lt;CcyAmt&gt;\r\n      &lt;Ccy&gt;EUR&lt;/Ccy&gt;\r\n      &lt;Amt&gt;1&lt;/Amt&gt;\r\n    &lt;/CcyAmt&gt;\r\n    &lt;CcyAmt&gt;\r\n      &lt;Ccy&gt;AUD&lt;/Ccy&gt;\r\n      &lt;Amt&gt;1.5358&lt;/Amt&gt;\r\n    &lt;/CcyAmt&gt;\r\n  &lt;/FxRate&gt;\r\n&lt;/FxRates&gt;\r\n```","title":"Cannot construct instance. Deserializing Xml in Java (Spring Boot)","body":"<p>Hello I have issue while deserializing Xml output into desriable object. I get\ncom.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot construct instance of <code>com.example.demo.models.responses.FxRate</code> (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value ('EU').\nI tried to use JacksonXml or JsonPropery annotations but no avail.</p>\n<p>Controller</p>\n<pre><code>package com.example.demo.controllers;\n\nimport com.example.demo.models.responses.FxRates;\nimport com.fasterxml.jackson.dataformat.xml.XmlMapper;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport java.io.IOException;\nimport java.net.URI;\nimport java.net.http.HttpClient;\nimport java.net.http.HttpRequest;\nimport java.net.http.HttpResponse;\n\n@RestController\npublic class TestController {\n    @GetMapping(&quot;/currency&quot;)\n    public FxRates GetCurrency() throws IOException, InterruptedException {\n        HttpRequest request =  HttpRequest.newBuilder()\n                .uri(URI.create(&quot;http://www.lb.lt/webservices/FxRates/FxRates.asmx/getFxRates?tp=eu&amp;dt=2017-12-25&quot;))\n                .header(&quot;Content-Type&quot;, &quot;text/xml&quot;)\n                .GET()\n                .build();\n\n        HttpResponse&lt;String&gt; response = HttpClient.newHttpClient()\n                .send(request, HttpResponse.BodyHandlers.ofString());\n\n\n        var test = response.body();\n\n        XmlMapper xmlMapper = new XmlMapper();\n        FxRates value = xmlMapper.readValue(response.body(), FxRates.class);\n\n        return value;\n    }\n}\n</code></pre>\n<p>Deserialized classes</p>\n<pre><code>package com.example.demo.models.responses;\n\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport com.fasterxml.jackson.annotation.JsonPropertyOrder;\nimport com.fasterxml.jackson.dataformat.xml.annotation.JacksonXmlProperty;\n\n\nimport java.util.ArrayList;\nimport java.util.List;\n\n@JsonPropertyOrder({&quot;FxRate&quot;, &quot;xlmns&quot;})\npublic class FxRates {\n    //@JacksonXmlProperty(localName = &quot;FxRate&quot;)\n    @JsonProperty(&quot;FxRate&quot;)\n    public ArrayList&lt;com.example.demo.models.responses.FxRate&gt; FxRate;\n    @JsonProperty(&quot;xlmns&quot;)\n    public String xmlns;\n    \n        public FxRates()\n    {\n\n    }\n    public FxRates(ArrayList&lt;com.example.demo.models.responses.FxRate&gt; fxRate, String xmlns)  {\n        FxRate = fxRate;\n        this.xmlns = xmlns;\n        //this.text = text;\n    }\n\n    public ArrayList&lt;com.example.demo.models.responses.FxRate&gt; getFxRate() {\n        return FxRate;\n    }\n\n    public void setFxRate(ArrayList&lt;com.example.demo.models.responses.FxRate&gt; fxRate) {\n        FxRate = fxRate;\n    }\n\n    public String getXmlns() {\n        return xmlns;\n    }\n\n    public void setXmlns(String xmlns) {\n        this.xmlns = xmlns;\n    }\n}\n\npackage com.example.demo.models.responses;\n\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport java.util.List;\n\npublic class FxRate {\n    @JsonProperty(&quot;Tp&quot;)\n    public String Tp;\n    public String Dt;\n    public List&lt;CcyAmt&gt; CcyAmt;\n\n      public String getTp() {\n        return Tp;\n    }\n\n    public void setTp(String tp) {\n        Tp = tp;\n    }\n\n    public String getDt() {\n        return Dt;\n    }\n\n    public void setDt(String dt) {\n        Dt = dt;\n    }\n\n    public List&lt;com.example.demo.models.responses.CcyAmt&gt; getCcyAmt() {\n        return CcyAmt;\n    }\n\n    public void setCcyAmt(List&lt;com.example.demo.models.responses.CcyAmt&gt; ccyAmt) {\n        CcyAmt = ccyAmt;\n    }\n\n    public FxRate()\n    {\n\n    }\n    public FxRate(String tp, String dt, List&lt;com.example.demo.models.responses.CcyAmt&gt; ccyAmt) {\n        Tp = tp;\n        Dt = dt;\n        CcyAmt = ccyAmt;\n    }\n}\n\npackage com.example.demo.models.responses;\n\npublic class CcyAmt {\n    public String Ccy;\n    public String Amt;\n\n     public String getCcy() {\n        return Ccy;\n    }\n\n    public void setCcy(String ccy) {\n        Ccy = ccy;\n    }\n\n    public String getAmt() {\n        return Amt;\n    }\n\n    public void setAmt(String amt) {\n        Amt = amt;\n    }\n\n    public CcyAmt()\n    {\n\n    }\n    public CcyAmt(String ccy, String amt) {\n        Ccy = ccy;\n        Amt = amt;\n    }\n</code></pre>\n<p>Example Response</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;FxRates xmlns=&quot;http://www.lb.lt/WebServices/FxRates&quot;&gt;\n  &lt;FxRate&gt;\n    &lt;Tp&gt;EU&lt;/Tp&gt;\n    &lt;Dt&gt;2017-12-22&lt;/Dt&gt;\n    &lt;CcyAmt&gt;\n      &lt;Ccy&gt;EUR&lt;/Ccy&gt;\n      &lt;Amt&gt;1&lt;/Amt&gt;\n    &lt;/CcyAmt&gt;\n    &lt;CcyAmt&gt;\n      &lt;Ccy&gt;AUD&lt;/Ccy&gt;\n      &lt;Amt&gt;1.5358&lt;/Amt&gt;\n    &lt;/CcyAmt&gt;\n  &lt;/FxRate&gt;\n&lt;/FxRates&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","junit","jwt","spring-cloud"],"comments":[{"owner":{"account_id":7712763,"reputation":628,"user_id":5841551,"accept_rate":50,"display_name":"kladderradatsch"},"score":0,"creation_date":1668380953,"post_id":74425320,"comment_id":131385087,"body_markdown":"Then instead of `.with(jwt().authorities(new SimpleGrantedAuthority(&quot;ADMIN&quot;)))` use `.header(&quot;Authorization&quot;, &quot;Bearer &quot;)`","body":"Then instead of <code>.with(jwt().authorities(new SimpleGrantedAuthority(&quot;ADMIN&quot;)))</code> use <code>.header(&quot;Authorization&quot;, &quot;Bearer &quot;)</code>"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1668381623,"post_id":74425320,"comment_id":131385195,"body_markdown":"@kladderradatsch There are different kinds of roles like ROLE_ADMIN and ROLE_USER for authority in the controller. Can you look through only order service?","body":"@kladderradatsch There are different kinds of roles like ROLE_ADMIN and ROLE_USER for authority in the controller. Can you look through only order service?"},{"owner":{"account_id":7712763,"reputation":628,"user_id":5841551,"accept_rate":50,"display_name":"kladderradatsch"},"score":0,"creation_date":1668382977,"post_id":74425320,"comment_id":131385394,"body_markdown":"@S.N However, I assume a 403 can be provoked when the access token is missed at all or invalid.","body":"@S.N However, I assume a 403 can be provoked when the access token is missed at all or invalid."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1668383170,"post_id":74425320,"comment_id":131385418,"body_markdown":"@kladderradatsch How can I get bearer token from auth service and use it in this test method? I also add spring-security-oauth2-jose but it didn&#39;t help me? What kind of dependencies should I use in order service?","body":"@kladderradatsch How can I get bearer token from auth service and use it in this test method? I also add spring-security-oauth2-jose but it didn&#39;t help me? What kind of dependencies should I use in order service?"},{"owner":{"account_id":7712763,"reputation":628,"user_id":5841551,"accept_rate":50,"display_name":"kladderradatsch"},"score":0,"creation_date":1668384023,"post_id":74425320,"comment_id":131385558,"body_markdown":"Could you please check [this](https://github.com/spring-projects/spring-security/issues/6209) here?","body":"Could you please check <a href=\"https://github.com/spring-projects/spring-security/issues/6209\" rel=\"nofollow noreferrer\">this</a> here?"},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1668396147,"post_id":74425320,"comment_id":131387143,"body_markdown":"Do not set security headers with MockMvc. Use MockMvc post processors (like you do) or use test annotations to set Authentication instance in test security-context directly.","body":"Do not set security headers with MockMvc. Use MockMvc post processors (like you do) or use test annotations to set Authentication instance in test security-context directly."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1668436611,"post_id":74425320,"comment_id":131397880,"body_markdown":"@kladderradatsch I already looked through the link before but my issue is different.","body":"@kladderradatsch I already looked through the link before but my issue is different."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1668635339,"post_id":74425320,"comment_id":131456778,"body_markdown":"@kladderradatsch  I think there is a problem in security configs in order service and api gateway. Even if I tried to revised these files, I still get 403 forbidden issue. How can I fix it?","body":"@kladderradatsch  I think there is a problem in security configs in order service and api gateway. Even if I tried to revised these files, I still get 403 forbidden issue. How can I fix it?"},{"owner":{"account_id":7712763,"reputation":628,"user_id":5841551,"accept_rate":50,"display_name":"kladderradatsch"},"score":0,"creation_date":1668685811,"post_id":74425320,"comment_id":131468789,"body_markdown":"I would read meticulously [how to test JWT authentication via spring-security-test](https://docs.spring.io/spring-security/site/docs/5.2.x/reference/html/test.html#testing-bearer-authentication) and furthermore the tutorial of ch4mp because he seems to be a Spring developer.","body":"I would read meticulously <a href=\"https://docs.spring.io/spring-security/site/docs/5.2.x/reference/html/test.html#testing-bearer-authentication\" rel=\"nofollow noreferrer\">how to test JWT authentication via spring-security-test</a> and furthermore the tutorial of ch4mp because he seems to be a Spring developer."}],"answers":[{"comments":[{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1668436467,"post_id":74425828,"comment_id":131397821,"body_markdown":"I already defined these dependencies in pom.xml of order service. It didn&#39;t help me.","body":"I already defined these dependencies in pom.xml of order service. It didn&#39;t help me."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1668545500,"post_id":74425828,"comment_id":131430676,"body_markdown":"I changed my vision to use different approach. Here is the question : https://stackoverflow.com/questions/74449956/spring-boot-microservice-junit-test-how-to-write-a-test-method-with-adding-the","body":"I changed my vision to use different approach. Here is the question : <a href=\"https://stackoverflow.com/questions/74449956/spring-boot-microservice-junit-test-how-to-write-a-test-method-with-adding-the\" title=\"spring boot microservice junit test how to write a test method with adding the\">stackoverflow.com/questions/74449956/&hellip;</a>"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1669119530,"post_id":74425828,"comment_id":131566885,"body_markdown":"I still couldn&#39;t fix the issue. Can you help me? How can I revise security option between api gateway and order service?","body":"I still couldn&#39;t fix the issue. Can you help me? How can I revise security option between api gateway and order service?"}],"tags":[],"owner":{"account_id":7712763,"reputation":628,"user_id":5841551,"accept_rate":50,"display_name":"kladderradatsch"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668385170,"creation_date":1668385170,"answer_id":74425828,"question_id":74425320,"body_markdown":"Probably, you only need the dependencies\r\n\r\n```\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n   &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n   &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n   &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\nbut not `spring-security-oauth2-resource-server `","title":"Spring Boot Microservices JUnit Test- Controller Test- JWT JwtGrantedAuthoritiesConverter Issue","body":"<p>Probably, you only need the dependencies</p>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n   &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n   &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n   &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>but not <code>spring-security-oauth2-resource-server </code></p>\n"},{"comments":[{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1668436418,"post_id":74426430,"comment_id":131397797,"body_markdown":"I already used 5.7.3 version. Your view couldn&#39;t help me fix the issue.","body":"I already used 5.7.3 version. Your view couldn&#39;t help me fix the issue."},{"owner":{"account_id":7712763,"reputation":628,"user_id":5841551,"accept_rate":50,"display_name":"kladderradatsch"},"score":0,"creation_date":1668439409,"post_id":74426430,"comment_id":131399012,"body_markdown":"When you  use `spring-security-oauth2-resource-server` in your dependencies you&#39;ll not need **spring-security** explicitly because it is contained there already. This I have from the [Baeldung tutorial](https://www.baeldung.com/spring-security-oauth-resource-server). [You](https://github.com/Rapter1990/microservicecoursedailybuffer/blob/main/orderservice/pom.xml#L112-L115) have Spring Security still in your dependencies.","body":"When you  use <code>spring-security-oauth2-resource-server</code> in your dependencies you&#39;ll not need <b>spring-security</b> explicitly because it is contained there already. This I have from the <a href=\"https://www.baeldung.com/spring-security-oauth-resource-server\" rel=\"nofollow noreferrer\">Baeldung tutorial</a>. <a href=\"https://github.com/Rapter1990/microservicecoursedailybuffer/blob/main/orderservice/pom.xml#L112-L115\" rel=\"nofollow noreferrer\">You</a> have Spring Security still in your dependencies."},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1668445371,"post_id":74426430,"comment_id":131401282,"body_markdown":"Hadn&#39;t seen your complete r&#233;po was linked, will give a try later today","body":"Hadn&#39;t seen your complete r&#233;po was linked, will give a try later today"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1668451489,"post_id":74426430,"comment_id":131403308,"body_markdown":"@ch4mp As I guess I cannot get jwt token from auth service, I get this issue. How can I get it from auth service and use it with its role in order controller test?","body":"@ch4mp As I guess I cannot get jwt token from auth service, I get this issue. How can I get it from auth service and use it with its role in order controller test?"},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1668452807,"post_id":74426430,"comment_id":131403708,"body_markdown":"You don&#39;t get a JWT at all. Test framework populates directly the security context with an Authentication instance built &quot;as if&quot; a JWT was decoded and validated. Clone my repo and debug the samples, you&#39;ll see.","body":"You don&#39;t get a JWT at all. Test framework populates directly the security context with an Authentication instance built &quot;as if&quot; a JWT was decoded and validated. Clone my repo and debug the samples, you&#39;ll see."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1668470177,"post_id":74426430,"comment_id":131408394,"body_markdown":"@ch4mp JWT is coming from auth service and I use JWTFilter in API Gateway. How can I get jwt token from auth service and make a request with the bearer token to each service? This is my issue.","body":"@ch4mp JWT is coming from auth service and I use JWTFilter in API Gateway. How can I get jwt token from auth service and make a request with the bearer token to each service? This is my issue."},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1668471225,"post_id":74426430,"comment_id":131408617,"body_markdown":"This has nothing to do with JUnit tests of a @Controller and is a complete different question. Ask it in a different thread.","body":"This has nothing to do with JUnit tests of a @Controller and is a complete different question. Ask it in a different thread."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1668513351,"post_id":74426430,"comment_id":131418446,"body_markdown":"@ch4mp That&#39;s why I asked it as a new question. Here is the link : https://stackoverflow.com/questions/74445207/spring-boot-microservice-junit-test-how-can-i-get-jwt-token-from-one-service-a","body":"@ch4mp That&#39;s why I asked it as a new question. Here is the link : <a href=\"https://stackoverflow.com/questions/74445207/spring-boot-microservice-junit-test-how-can-i-get-jwt-token-from-one-service-a\" title=\"spring boot microservice junit test how can i get jwt token from one service a\">stackoverflow.com/questions/74445207/&hellip;</a>"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1668545512,"post_id":74426430,"comment_id":131430681,"body_markdown":"@ch4mp I changed my vision to use different approach. Here is the question : https://stackoverflow.com/questions/74449956/spring-boot-microservice-junit-test-how-to-write-a-test-method-with-adding-the","body":"@ch4mp I changed my vision to use different approach. Here is the question : <a href=\"https://stackoverflow.com/questions/74449956/spring-boot-microservice-junit-test-how-to-write-a-test-method-with-adding-the\" title=\"spring boot microservice junit test how to write a test method with adding the\">stackoverflow.com/questions/74449956/&hellip;</a>"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1668635358,"post_id":74426430,"comment_id":131456784,"body_markdown":"@ch4mp  I think there is a problem in security configs in order service and api gateway. Even if I tried to revised these files, I still get 403 forbidden issue. How can I fix it?","body":"@ch4mp  I think there is a problem in security configs in order service and api gateway. Even if I tried to revised these files, I still get 403 forbidden issue. How can I fix it?"},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1668635790,"post_id":74426430,"comment_id":131456930,"body_markdown":"Easy: stop believing I have not understood your problems (as mentioned in my answer, I have cloned your repo and manipulated your code and know they are quite a few different problems) or that I don&#39;t know what I&#39;m talking about, and just follow (carefully) the tutorials I pointed you to, 3 times already. You&#39;ll get a chance to understand how to configure and test a resource-server (micro-service or not)","body":"Easy: stop believing I have not understood your problems (as mentioned in my answer, I have cloned your repo and manipulated your code and know they are quite a few different problems) or that I don&#39;t know what I&#39;m talking about, and just follow (carefully) the tutorials I pointed you to, 3 times already. You&#39;ll get a chance to understand how to configure and test a resource-server (micro-service or not)"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1669119569,"post_id":74426430,"comment_id":131566902,"body_markdown":"@ch4mp I still couldn&#39;t fix the issue. Can you help me? How can I revise security option between api gateway and order service?","body":"@ch4mp I still couldn&#39;t fix the issue. Can you help me? How can I revise security option between api gateway and order service?"},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1669122892,"post_id":74426430,"comment_id":131568091,"body_markdown":"No, I can&#39;t help you: you don&#39;t explain you problems clearly enough and don&#39;t read the answers","body":"No, I can&#39;t help you: you don&#39;t explain you problems clearly enough and don&#39;t read the answers"}],"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"comment_count":13,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668449740,"creation_date":1668393808,"answer_id":74426430,"question_id":74425320,"body_markdown":"Double check that `spring-security-oauth2-resource-server` dependency is correctly declared: scope **`compile`** (must be there at `runtime` and `test`) and version **5.2 or above** (`JwtGrantedAuthoritiesConverter` was not there before). You might pull it as transitive dependency of `spring-boot-starter-oauth2-resource-server`. So basically, check that:\r\n- `spring-boot-starter-oauth2-resource-server` is declared dependency for each resource-server module\r\n- security-configuration is there for each resource-server module\r\n- JwtDecoder is mocked for each unit-test (`@WebMvcTest`) and integration test with mocked authentication (`@SpringBootTest` with `@AutoConfigureMockMvc`)\r\n\r\nSorry to tell you that, but your code is a mess:\r\n- no parent pom to manage modules versions (had to manually `mvn install` modules in the right order.\r\n- you test security rules in modules with no security configuration\r\n- some resource-servers do not pull `spring-boot-starter-oauth2-resource-server` (products service for instance)\r\n- you write integration tests (`@SpringBootTest`) to unit test controllers (should be `@WebMvcTest` with `@MockBean` dependencies)\r\n- have to run configuration server for test to run (you should configure unit-tests to run in isolation from the rest of the world, starting with external services like cloud-config)\r\n- ...\r\n\r\nCleanup your mess before asking us to look into your code.\r\n\r\nFor now, all I can tell you is to follow [those tutorials][1]. It covers in details resource-servers security configuration and testing. It also demoes how to use annotations in place of `jwt()` MockMvc post-processor. Annotations are more readable to me and also enable to setup security context when **testing secured services**:\r\n```java\r\n    @WithMockJwtAuth(&quot;ROLE_USER&quot;)\r\n    @Test\r\n    public void test_WhenPlaceOrder_DoPayment_Success() throws Exception {\r\n        OrderRequest orderRequest = getMockOrderRequest();\r\n        MvcResult mvcResult\r\n                = mockMvc.perform(MockMvcRequestBuilders.post(&quot;/order/placeOrder&quot;)\r\n                        .contentType(MediaType.APPLICATION_JSON_VALUE)\r\n                        .content(objectMapper.writeValueAsString(orderRequest))\r\n                ).andExpect(MockMvcResultMatchers.status().isOk())\r\n                .andReturn();\r\n\r\n        ...\r\n\r\n    }\r\n```\r\n\r\n\r\n  [1]: https://github.com/ch4mpy/spring-addons/blob/master/samples/tutorials","title":"Spring Boot Microservices JUnit Test- Controller Test- JWT JwtGrantedAuthoritiesConverter Issue","body":"<p>Double check that <code>spring-security-oauth2-resource-server</code> dependency is correctly declared: scope <strong><code>compile</code></strong> (must be there at <code>runtime</code> and <code>test</code>) and version <strong>5.2 or above</strong> (<code>JwtGrantedAuthoritiesConverter</code> was not there before). You might pull it as transitive dependency of <code>spring-boot-starter-oauth2-resource-server</code>. So basically, check that:</p>\n<ul>\n<li><code>spring-boot-starter-oauth2-resource-server</code> is declared dependency for each resource-server module</li>\n<li>security-configuration is there for each resource-server module</li>\n<li>JwtDecoder is mocked for each unit-test (<code>@WebMvcTest</code>) and integration test with mocked authentication (<code>@SpringBootTest</code> with <code>@AutoConfigureMockMvc</code>)</li>\n</ul>\n<p>Sorry to tell you that, but your code is a mess:</p>\n<ul>\n<li>no parent pom to manage modules versions (had to manually <code>mvn install</code> modules in the right order.</li>\n<li>you test security rules in modules with no security configuration</li>\n<li>some resource-servers do not pull <code>spring-boot-starter-oauth2-resource-server</code> (products service for instance)</li>\n<li>you write integration tests (<code>@SpringBootTest</code>) to unit test controllers (should be <code>@WebMvcTest</code> with <code>@MockBean</code> dependencies)</li>\n<li>have to run configuration server for test to run (you should configure unit-tests to run in isolation from the rest of the world, starting with external services like cloud-config)</li>\n<li>...</li>\n</ul>\n<p>Cleanup your mess before asking us to look into your code.</p>\n<p>For now, all I can tell you is to follow <a href=\"https://github.com/ch4mpy/spring-addons/blob/master/samples/tutorials\" rel=\"nofollow noreferrer\">those tutorials</a>. It covers in details resource-servers security configuration and testing. It also demoes how to use annotations in place of <code>jwt()</code> MockMvc post-processor. Annotations are more readable to me and also enable to setup security context when <strong>testing secured services</strong>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @WithMockJwtAuth(&quot;ROLE_USER&quot;)\n    @Test\n    public void test_WhenPlaceOrder_DoPayment_Success() throws Exception {\n        OrderRequest orderRequest = getMockOrderRequest();\n        MvcResult mvcResult\n                = mockMvc.perform(MockMvcRequestBuilders.post(&quot;/order/placeOrder&quot;)\n                        .contentType(MediaType.APPLICATION_JSON_VALUE)\n                        .content(objectMapper.writeValueAsString(orderRequest))\n                ).andExpect(MockMvcResultMatchers.status().isOk())\n                .andReturn();\n\n        ...\n\n    }\n</code></pre>\n"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":707,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1668449740,"creation_date":1668379068,"question_id":74425320,"body_markdown":"I tried to implement some controller test with the usage of jwt in Spring Boot Microservices.\r\n\r\nWhen I run the test method shown below, I got this error\r\n\r\n    java.lang.NoClassDefFoundError: org/springframework/security/oauth2/server/resource/authentication/JwtGrantedAuthoritiesConverter\r\n    \r\n    Caused by: java.lang.ClassNotFoundException: org.springframework.security.oauth2.server.resource.authentication.JwtGrantedAuthoritiesConverter\r\n\r\nHere is the code snippets shown below.\r\n\r\n    @Test\r\n        public void test_WhenPlaceOrderWithWrongAccess_thenThrow403() throws Exception {\r\n            OrderRequest orderRequest = getMockOrderRequest();\r\n            MvcResult mvcResult\r\n                    = mockMvc.perform(MockMvcRequestBuilders.post(&quot;/order/placeOrder&quot;)\r\n                            .with(jwt().authorities(new SimpleGrantedAuthority(&quot;ADMIN&quot;)))  // HERE IS THE ERROR LINE\r\n                            .contentType(MediaType.APPLICATION_JSON_VALUE)\r\n                            .content(objectMapper.writeValueAsString(orderRequest))\r\n                    ).andExpect(MockMvcResultMatchers.status().isForbidden())\r\n                    .andReturn();\r\n        }\r\n\r\n\r\nEven if I added `spring-security-oauth2-resource-server` dependency in pom.xml of order service, It didn&#39;t help me fix the issue.\r\n\r\nHere are the issue shown below after adding `spring-security-oauth2-resource-server` dependency in pom.xml of order service.\r\n\r\n    java.lang.NoClassDefFoundError: org/springframework/security/oauth2/jwt/Jwt$Builder\r\n    \r\n    Caused by: java.lang.ClassNotFoundException: org.springframework.security.oauth2.jwt.Jwt$Builder\r\n\r\n\r\nHow can I fix the issue?\r\n\r\nHere is the link of example : [Link][1]\r\n\r\n\r\n  [1]: https://github.com/Rapter1990/microservicecoursedailybuffer","title":"Spring Boot Microservices JUnit Test- Controller Test- JWT JwtGrantedAuthoritiesConverter Issue","body":"<p>I tried to implement some controller test with the usage of jwt in Spring Boot Microservices.</p>\n<p>When I run the test method shown below, I got this error</p>\n<pre><code>java.lang.NoClassDefFoundError: org/springframework/security/oauth2/server/resource/authentication/JwtGrantedAuthoritiesConverter\n\nCaused by: java.lang.ClassNotFoundException: org.springframework.security.oauth2.server.resource.authentication.JwtGrantedAuthoritiesConverter\n</code></pre>\n<p>Here is the code snippets shown below.</p>\n<pre><code>@Test\n    public void test_WhenPlaceOrderWithWrongAccess_thenThrow403() throws Exception {\n        OrderRequest orderRequest = getMockOrderRequest();\n        MvcResult mvcResult\n                = mockMvc.perform(MockMvcRequestBuilders.post(&quot;/order/placeOrder&quot;)\n                        .with(jwt().authorities(new SimpleGrantedAuthority(&quot;ADMIN&quot;)))  // HERE IS THE ERROR LINE\n                        .contentType(MediaType.APPLICATION_JSON_VALUE)\n                        .content(objectMapper.writeValueAsString(orderRequest))\n                ).andExpect(MockMvcResultMatchers.status().isForbidden())\n                .andReturn();\n    }\n</code></pre>\n<p>Even if I added <code>spring-security-oauth2-resource-server</code> dependency in pom.xml of order service, It didn't help me fix the issue.</p>\n<p>Here are the issue shown below after adding <code>spring-security-oauth2-resource-server</code> dependency in pom.xml of order service.</p>\n<pre><code>java.lang.NoClassDefFoundError: org/springframework/security/oauth2/jwt/Jwt$Builder\n\nCaused by: java.lang.ClassNotFoundException: org.springframework.security.oauth2.jwt.Jwt$Builder\n</code></pre>\n<p>How can I fix the issue?</p>\n<p>Here is the link of example : <a href=\"https://github.com/Rapter1990/microservicecoursedailybuffer\" rel=\"nofollow noreferrer\">Link</a></p>\n"},{"tags":["java","spring-boot","snowflake-cloud-data-platform"],"comments":[{"owner":{"account_id":6806243,"reputation":125,"user_id":5237868,"display_name":"Nid"},"score":0,"creation_date":1668449267,"post_id":74434096,"comment_id":131402654,"body_markdown":"Tried to create connection as mentioned in Snowflake document , it works but not sure why i cant use jdbc template","body":"Tried to create connection as mentioned in Snowflake document , it works but not sure why i cant use jdbc template"}],"answers":[{"comments":[{"owner":{"account_id":6806243,"reputation":125,"user_id":5237868,"display_name":"Nid"},"score":0,"creation_date":1668441660,"post_id":74434288,"comment_id":131399861,"body_markdown":"Table does exist and query is working fine with same role etc since With the same code base by just changing the dependency of snowflake driver to 3.6.8 it is working.","body":"Table does exist and query is working fine with same role etc since With the same code base by just changing the dependency of snowflake driver to 3.6.8 it is working."},{"owner":{"account_id":17326670,"reputation":9493,"user_id":12550965,"display_name":"Gokhan Atil"},"score":0,"creation_date":1668442161,"post_id":74434288,"comment_id":131400041,"body_markdown":"What do you see in the query history? Do they see any difference? I suspect that the  schema/db or role properties are not passed correct (maybe because of driver version)?","body":"What do you see in the query history? Do they see any difference? I suspect that the  schema/db or role properties are not passed correct (maybe because of driver version)?"},{"owner":{"account_id":6806243,"reputation":125,"user_id":5237868,"display_name":"Nid"},"score":0,"creation_date":1668442201,"post_id":74434288,"comment_id":131400056,"body_markdown":"Query shows up in history table only if I run by using 3.6.8 version else query doesn&#39;t not populate in History.","body":"Query shows up in history table only if I run by using 3.6.8 version else query doesn&#39;t not populate in History."},{"owner":{"account_id":6806243,"reputation":125,"user_id":5237868,"display_name":"Nid"},"score":0,"creation_date":1668442295,"post_id":74434288,"comment_id":131400092,"body_markdown":"I posted application.properties as well. I used the same configuration of key value pair. Is there any change in syntax  to be used for higher version?","body":"I posted application.properties as well. I used the same configuration of key value pair. Is there any change in syntax  to be used for higher version?"},{"owner":{"account_id":17326670,"reputation":9493,"user_id":12550965,"display_name":"Gokhan Atil"},"score":0,"creation_date":1668443506,"post_id":74434288,"comment_id":131400579,"body_markdown":"The error message you shared (SQL compilation error: Object &#39;my_table_name&#39; does not exist or not authorized) comes from Snowflake. So the query should be visible in the query history.","body":"The error message you shared (SQL compilation error: Object &#39;my_table_name&#39; does not exist or not authorized) comes from Snowflake. So the query should be visible in the query history."},{"owner":{"account_id":6591578,"reputation":1535,"user_id":5600153,"display_name":"Alexander Klimenko"},"score":0,"creation_date":1668447046,"post_id":74434288,"comment_id":131401892,"body_markdown":"If in your history, you can see only the queries from 3.6.8, I can assume that in 3.8.x connection, the role/user configuration is different/or not applied. Are you able to use the accountadmin role in your UI and check if you see the problematic queries? If yes, than you should be see what role and other session parameters were applied with 3.8 and above.","body":"If in your history, you can see only the queries from 3.6.8, I can assume that in 3.8.x connection, the role/user configuration is different/or not applied. Are you able to use the accountadmin role in your UI and check if you see the problematic queries? If yes, than you should be see what role and other session parameters were applied with 3.8 and above."},{"owner":{"account_id":6806243,"reputation":125,"user_id":5237868,"display_name":"Nid"},"score":0,"creation_date":1668449204,"post_id":74434288,"comment_id":131402638,"body_markdown":"yes, i am using admin role only in my configuration and UI. I tried one more approach (added in my question at last section) where if  i am not using springframework provided jdbctemplate and instead creating my own connection to execute query works fine.","body":"yes, i am using admin role only in my configuration and UI. I tried one more approach (added in my question at last section) where if  i am not using springframework provided jdbctemplate and instead creating my own connection to execute query works fine."}],"tags":[],"owner":{"account_id":17326670,"reputation":9493,"user_id":12550965,"display_name":"Gokhan Atil"},"comment_count":7,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668440604,"creation_date":1668440604,"answer_id":74434288,"question_id":74434096,"body_markdown":"As the error says, you probably have no access to the my_table_name table or the table does exist.\r\n\r\n1) Check the history page and find the failed query. Verify the role name, database name and schema are correct.\r\n\r\nhttps://docs.snowflake.com/en/user-guide/ui-history.html\r\n\r\n2) Try to run the same query through UI. Make sure you use the same role.","title":"net.snowflake.client.jdbc.SnowflakeSQLException: SQL compilation error: Object &#39;my_table_name&#39; does not exist or not authorized","body":"<p>As the error says, you probably have no access to the my_table_name table or the table does exist.</p>\n<ol>\n<li>Check the history page and find the failed query. Verify the role name, database name and schema are correct.</li>\n</ol>\n<p><a href=\"https://docs.snowflake.com/en/user-guide/ui-history.html\" rel=\"nofollow noreferrer\">https://docs.snowflake.com/en/user-guide/ui-history.html</a></p>\n<ol start=\"2\">\n<li>Try to run the same query through UI. Make sure you use the same role.</li>\n</ol>\n"}],"owner":{"account_id":6806243,"reputation":125,"user_id":5237868,"display_name":"Nid"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1334,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668449464,"creation_date":1668439849,"question_id":74434096,"body_markdown":"I have Spring boot application with Snowflake driver to fetch data from snowflake database and display in front end application. I am using JdbcTemplate of springframework to query and map result to POJO with the help of RowMapper. \r\nThis works fine if I use snowflake-jdbc driver version of 3.6.8 or 3.7.2 but don&#39;t work for the same code base if I change driver version to 3.8.x/3.9.x/3.10.x/3.12.x/3.13.24\r\n\r\npom.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.5&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;demo&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t&lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;tomcat-jdbc&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n            &lt;groupId&gt;net.snowflake&lt;/groupId&gt;\r\n            &lt;artifactId&gt;snowflake-jdbc&lt;/artifactId&gt;\r\n            &lt;version&gt;3.13.24&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\t\t\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\napplication.properties\r\n```\r\nspring.datasource.driver-class-name=net.snowflake.client.jdbc.SnowflakeDriver\r\nspring.datasource.url=jdbc:snowflake://&lt;accountname&gt;.snowflakecomputing.com:443/?CLIENT_SESSION_KEEP_ALIVE=true&amp;user=xxx&amp;password=xxx&amp;warehouse=xxx&amp;role=xxx&amp;db=xxx&amp;schema=xxx\r\nspring.datasource.username=xxx\r\nspring.datasource.password=xxx\r\nspring.jpa.database=default\r\nspring.jpa.properties.hibernate.dialect=com.example.demo.SnowflakeDialect\r\n```\r\n\r\nDAO : here pojo class contains only one field with getter setter\r\n```\r\n//exception on below line\r\nList&lt;my_pojo_class&gt; data=jdbcTemplate.query(&quot;select column1 FROM  my_table_name LIMIT 2&quot;,\r\n            new RowMapper&lt;my_pojo_class&gt;(){  \r\n                @Override  \r\n                public my_pojo_class mapRow(ResultSet rs, int rownumber) throws SQLException {  \r\n                my_pojo_class layer = new my_pojo_class();\r\n                layer.setColumn1(rs.getString(1));\r\n                return layer; \r\n            }  \r\n            });\r\n```\r\n\r\nPlease guide me where i am going wrong here\r\n\r\nTried to create connection as mentioned in Snowflake document https://docs.snowflake.com/en/user-guide/jdbc-configure.html , it works but not sure why i cant use jdbc template\r\n```\r\n String url = &quot;jdbc:snowflake://&lt;account_identifier&gt;.snowflakecomputing.com&quot;;\r\n    Properties prop = new Properties();\r\n    prop.put(&quot;user&quot;, &quot;&lt;user&gt;&quot;);\r\n    prop.put(&quot;password&quot;, &quot;&lt;password&gt;&quot;);\r\n    prop.put(&quot;db&quot;, &quot;&lt;database_name&gt;&quot;);\r\n    prop.put(&quot;schema&quot;, &quot;&lt;schema_name&gt;&quot;);\r\n    prop.put(&quot;warehouse&quot;, &quot;&lt;warehouse_name&gt;&quot;);\r\n    prop.put(&quot;role&quot;, &quot;&lt;role_name&gt;&quot;);\r\n\r\n    Connection conn = DriverManager.getConnection(url, prop);\r\n```","title":"net.snowflake.client.jdbc.SnowflakeSQLException: SQL compilation error: Object &#39;my_table_name&#39; does not exist or not authorized","body":"<p>I have Spring boot application with Snowflake driver to fetch data from snowflake database and display in front end application. I am using JdbcTemplate of springframework to query and map result to POJO with the help of RowMapper.\nThis works fine if I use snowflake-jdbc driver version of 3.6.8 or 3.7.2 but don't work for the same code base if I change driver version to 3.8.x/3.9.x/3.10.x/3.12.x/3.13.24</p>\n<p>pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.5&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n    &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\n                    &lt;artifactId&gt;tomcat-jdbc&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.snowflake&lt;/groupId&gt;\n            &lt;artifactId&gt;snowflake-jdbc&lt;/artifactId&gt;\n            &lt;version&gt;3.13.24&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>application.properties</p>\n<pre><code>spring.datasource.driver-class-name=net.snowflake.client.jdbc.SnowflakeDriver\nspring.datasource.url=jdbc:snowflake://&lt;accountname&gt;.snowflakecomputing.com:443/?CLIENT_SESSION_KEEP_ALIVE=true&amp;user=xxx&amp;password=xxx&amp;warehouse=xxx&amp;role=xxx&amp;db=xxx&amp;schema=xxx\nspring.datasource.username=xxx\nspring.datasource.password=xxx\nspring.jpa.database=default\nspring.jpa.properties.hibernate.dialect=com.example.demo.SnowflakeDialect\n</code></pre>\n<p>DAO : here pojo class contains only one field with getter setter</p>\n<pre><code>//exception on below line\nList&lt;my_pojo_class&gt; data=jdbcTemplate.query(&quot;select column1 FROM  my_table_name LIMIT 2&quot;,\n            new RowMapper&lt;my_pojo_class&gt;(){  \n                @Override  \n                public my_pojo_class mapRow(ResultSet rs, int rownumber) throws SQLException {  \n                my_pojo_class layer = new my_pojo_class();\n                layer.setColumn1(rs.getString(1));\n                return layer; \n            }  \n            });\n</code></pre>\n<p>Please guide me where i am going wrong here</p>\n<p>Tried to create connection as mentioned in Snowflake document <a href=\"https://docs.snowflake.com/en/user-guide/jdbc-configure.html\" rel=\"nofollow noreferrer\">https://docs.snowflake.com/en/user-guide/jdbc-configure.html</a> , it works but not sure why i cant use jdbc template</p>\n<pre><code> String url = &quot;jdbc:snowflake://&lt;account_identifier&gt;.snowflakecomputing.com&quot;;\n    Properties prop = new Properties();\n    prop.put(&quot;user&quot;, &quot;&lt;user&gt;&quot;);\n    prop.put(&quot;password&quot;, &quot;&lt;password&gt;&quot;);\n    prop.put(&quot;db&quot;, &quot;&lt;database_name&gt;&quot;);\n    prop.put(&quot;schema&quot;, &quot;&lt;schema_name&gt;&quot;);\n    prop.put(&quot;warehouse&quot;, &quot;&lt;warehouse_name&gt;&quot;);\n    prop.put(&quot;role&quot;, &quot;&lt;role_name&gt;&quot;);\n\n    Connection conn = DriverManager.getConnection(url, prop);\n</code></pre>\n"},{"tags":["java","xml","jackson"],"comments":[{"owner":{"account_id":7712763,"reputation":628,"user_id":5841551,"accept_rate":50,"display_name":"kladderradatsch"},"score":0,"creation_date":1668375490,"post_id":74424656,"comment_id":131384186,"body_markdown":"You can read the very issue by this: `no String-argument constructor/factory method to deserialize from String value (&#39;10&#39;)`. It means that `@NoArgsConstructor` for class `FINSTA03Bean` is not enough in combination with setters and getters - a constructor is needed here which sets all the attributes as soon as an instance is created.","body":"You can read the very issue by this: <code>no String-argument constructor&#47;factory method to deserialize from String value (&#39;10&#39;)</code>. It means that <code>@NoArgsConstructor</code> for class <code>FINSTA03Bean</code> is not enough in combination with setters and getters - a constructor is needed here which sets all the attributes as soon as an instance is created."},{"owner":{"account_id":1801257,"reputation":8969,"user_id":1639556,"accept_rate":79,"display_name":"Leos Literak"},"score":0,"creation_date":1668409969,"post_id":74424656,"comment_id":131389244,"body_markdown":"I have added AllArgsConstructor but it failed with the same error. If it was related, why would it fail on gthe first property and not after the last property?","body":"I have added AllArgsConstructor but it failed with the same error. If it was related, why would it fail on gthe first property and not after the last property?"}],"answers":[{"comments":[{"owner":{"account_id":1801257,"reputation":8969,"user_id":1639556,"accept_rate":79,"display_name":"Leos Literak"},"score":0,"creation_date":1668453536,"post_id":74436063,"comment_id":131403952,"body_markdown":"Hmm, I tried to post the same finding in the morning, but it&#39;s gone. So I accept yours.","body":"Hmm, I tried to post the same finding in the morning, but it&#39;s gone. So I accept yours."},{"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"score":0,"creation_date":1668459451,"post_id":74436063,"comment_id":131405673,"body_markdown":"@LeosLiterak Glad to have helped.","body":"@LeosLiterak Glad to have helped."}],"tags":[],"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1668449418,"creation_date":1668449418,"answer_id":74436063,"question_id":74424656,"body_markdown":"The main problem here is about the `FINSTA03BeanList` list because you are not annotating it with the specific [`JacksonXmlElementWrapper`](http://fasterxml.github.io/jackson-dataformat-xml/javadoc/2.12/com/fasterxml/jackson/dataformat/xml/annotation/JacksonXmlElementWrapper.html) annotation causing the error due to the fact that jackson library misinterpretes your list as a single property. You can also use the xml specific [`JacksonXmlProperty`](http://fasterxml.github.io/jackson-dataformat-xml/javadoc/2.2.0/com/fasterxml/jackson/dataformat/xml/annotation/JacksonXmlProperty.html) annotation instead of `JsonProperty` for properties:\r\n\r\n~~~\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\npublic class FINSTABean {\r\n    @JacksonXmlProperty\r\n    String STA_VER;\r\n    @JacksonXmlProperty(localName = &quot;FINSTA03&quot;)\r\n    @JacksonXmlElementWrapper(useWrapping = false)\r\n    List&lt;FINSTA03Bean&gt; FINSTA03BeanList;\r\n}\r\n\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\npublic class FINSTA03Bean {\r\n    @JacksonXmlProperty\r\n    String S28_CISLO_VYPISU;\r\n}\r\n~~~\r\n\r\n","title":"Jackson XML deserialization fails on no String-argument constructor/factory method to deserialize from String","body":"<p>The main problem here is about the <code>FINSTA03BeanList</code> list because you are not annotating it with the specific <a href=\"http://fasterxml.github.io/jackson-dataformat-xml/javadoc/2.12/com/fasterxml/jackson/dataformat/xml/annotation/JacksonXmlElementWrapper.html\" rel=\"nofollow noreferrer\"><code>JacksonXmlElementWrapper</code></a> annotation causing the error due to the fact that jackson library misinterpretes your list as a single property. You can also use the xml specific <a href=\"http://fasterxml.github.io/jackson-dataformat-xml/javadoc/2.2.0/com/fasterxml/jackson/dataformat/xml/annotation/JacksonXmlProperty.html\" rel=\"nofollow noreferrer\"><code>JacksonXmlProperty</code></a> annotation instead of <code>JsonProperty</code> for properties:</p>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\npublic class FINSTABean {\n    @JacksonXmlProperty\n    String STA_VER;\n    @JacksonXmlProperty(localName = &quot;FINSTA03&quot;)\n    @JacksonXmlElementWrapper(useWrapping = false)\n    List&lt;FINSTA03Bean&gt; FINSTA03BeanList;\n}\n\n@Getter\n@Setter\n@NoArgsConstructor\npublic class FINSTA03Bean {\n    @JacksonXmlProperty\n    String S28_CISLO_VYPISU;\n}\n</code></pre>\n"}],"owner":{"account_id":1801257,"reputation":8969,"user_id":1639556,"accept_rate":79,"display_name":"Leos Literak"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2406,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74436063,"answer_count":1,"score":2,"last_activity_date":1668449418,"creation_date":1668372586,"question_id":74424656,"body_markdown":"I try to parse XML with Jackson. I have generated java DTO from XSD, so no camel case is used and the naming convention would not make sense there.\r\n\r\nBeans:\r\n\r\n    FINSTABean bean = xmlMapper.readValue(file, FINSTABean.class);\r\n\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    @Getter @Setter @NoArgsConstructor\r\n    public class FINSTABean {\r\n        @JsonProperty(&quot;STA_VER&quot;)\r\n        String STA_VER;\r\n        @JsonProperty(&quot;FINSTA03&quot;)\r\n        List&lt;FINSTA03Bean&gt; FINSTA03BeanList;\r\n    }\r\n\r\n\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    @Getter @Setter @NoArgsConstructor\r\n    public class FINSTA03Bean {\r\n        @JsonProperty(&quot;S28_CISLO_VYPISU&quot;)\r\n        String S28_CISLO_VYPISU;\r\n        String S25_CISLO_UCTU;\r\n\r\nXML:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;windows-1250&quot;?&gt;\r\n    &lt;FINSTA&gt;\r\n        &lt;STA_VER&gt;01.0000&lt;/STA_VER&gt;\r\n        &lt;FINSTA03&gt;\r\n            &lt;S28_CISLO_VYPISU&gt;10&lt;/S28_CISLO_VYPISU&gt;\r\n\r\nError:\r\n\r\n    Caused by: com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot construct instance of `com.lelifin.alfa.parsers.csob_xml.FINSTA03Bean` (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value (&#39;10&#39;)\r\n     at [Source: (File); line: 5, column: 29] (through reference chain: com.lelifin.alfa.parsers.csob_xml.FINSTABean[&quot;FINSTA03&quot;]-&gt;java.util.ArrayList[0])\r\n    \tat com.fasterxml.jackson.databind.exc.MismatchedInputException.from(MismatchedInputException.java:63) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\r\n    \tat com.fasterxml.jackson.databind.DeserializationContext.reportInputMismatch(DeserializationContext.java:1728) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\r\n    \tat com.fasterxml.jackson.databind.DeserializationContext.handleMissingInstantiator(DeserializationContext.java:1353) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\r\n    \tat com.fasterxml.jackson.databind.deser.std.StdDeserializer._deserializeFromString(StdDeserializer.java:311) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\r\n    \tat com.fasterxml.jackson.databind.deser.BeanDeserializerBase.deserializeFromString(BeanDeserializerBase.java:1495) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\r\n    \tat com.fasterxml.jackson.databind.deser.BeanDeserializer._deserializeOther(BeanDeserializer.java:197) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\r\n    \tat com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:187) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\r\n    \tat com.fasterxml.jackson.databind.deser.std.CollectionDeserializer._deserializeFromArray(CollectionDeserializer.java:355) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\r\n    \tat com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.deserialize(CollectionDeserializer.java:244) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\r\n    \tat com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.deserialize(CollectionDeserializer.java:28) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\r\n    \tat com.fasterxml.jackson.databind.deser.impl.MethodProperty.deserializeAndSet(MethodProperty.java:129) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\r\n    \tat com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:314) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\r\n    \tat com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:177) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\r\n    \tat com.fasterxml.jackson.dataformat.xml.deser.XmlDeserializationContext.readRootValue(XmlDeserializationContext.java:91) ~[jackson-dataformat-xml-2.14.0.jar:2.14.0]\r\n\r\nWhy does it says that it cannot deserialize &quot;10&quot;? Is it some Lombok setter or constructor incompatibility?\r\n\r\nIf I remove `&lt;FINSTA03&gt;` sub element, I am able to properly load that `FINSTABean`.","title":"Jackson XML deserialization fails on no String-argument constructor/factory method to deserialize from String","body":"<p>I try to parse XML with Jackson. I have generated java DTO from XSD, so no camel case is used and the naming convention would not make sense there.</p>\n<p>Beans:</p>\n<pre><code>FINSTABean bean = xmlMapper.readValue(file, FINSTABean.class);\n\n@JsonIgnoreProperties(ignoreUnknown = true)\n@Getter @Setter @NoArgsConstructor\npublic class FINSTABean {\n    @JsonProperty(&quot;STA_VER&quot;)\n    String STA_VER;\n    @JsonProperty(&quot;FINSTA03&quot;)\n    List&lt;FINSTA03Bean&gt; FINSTA03BeanList;\n}\n\n\n@JsonIgnoreProperties(ignoreUnknown = true)\n@Getter @Setter @NoArgsConstructor\npublic class FINSTA03Bean {\n    @JsonProperty(&quot;S28_CISLO_VYPISU&quot;)\n    String S28_CISLO_VYPISU;\n    String S25_CISLO_UCTU;\n</code></pre>\n<p>XML:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;windows-1250&quot;?&gt;\n&lt;FINSTA&gt;\n    &lt;STA_VER&gt;01.0000&lt;/STA_VER&gt;\n    &lt;FINSTA03&gt;\n        &lt;S28_CISLO_VYPISU&gt;10&lt;/S28_CISLO_VYPISU&gt;\n</code></pre>\n<p>Error:</p>\n<pre><code>Caused by: com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot construct instance of `com.lelifin.alfa.parsers.csob_xml.FINSTA03Bean` (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value ('10')\n at [Source: (File); line: 5, column: 29] (through reference chain: com.lelifin.alfa.parsers.csob_xml.FINSTABean[&quot;FINSTA03&quot;]-&gt;java.util.ArrayList[0])\n    at com.fasterxml.jackson.databind.exc.MismatchedInputException.from(MismatchedInputException.java:63) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\n    at com.fasterxml.jackson.databind.DeserializationContext.reportInputMismatch(DeserializationContext.java:1728) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\n    at com.fasterxml.jackson.databind.DeserializationContext.handleMissingInstantiator(DeserializationContext.java:1353) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\n    at com.fasterxml.jackson.databind.deser.std.StdDeserializer._deserializeFromString(StdDeserializer.java:311) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\n    at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.deserializeFromString(BeanDeserializerBase.java:1495) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\n    at com.fasterxml.jackson.databind.deser.BeanDeserializer._deserializeOther(BeanDeserializer.java:197) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\n    at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:187) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\n    at com.fasterxml.jackson.databind.deser.std.CollectionDeserializer._deserializeFromArray(CollectionDeserializer.java:355) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\n    at com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.deserialize(CollectionDeserializer.java:244) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\n    at com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.deserialize(CollectionDeserializer.java:28) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\n    at com.fasterxml.jackson.databind.deser.impl.MethodProperty.deserializeAndSet(MethodProperty.java:129) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\n    at com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:314) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\n    at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:177) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\n    at com.fasterxml.jackson.dataformat.xml.deser.XmlDeserializationContext.readRootValue(XmlDeserializationContext.java:91) ~[jackson-dataformat-xml-2.14.0.jar:2.14.0]\n</code></pre>\n<p>Why does it says that it cannot deserialize &quot;10&quot;? Is it some Lombok setter or constructor incompatibility?</p>\n<p>If I remove <code>&lt;FINSTA03&gt;</code> sub element, I am able to properly load that <code>FINSTABean</code>.</p>\n"},{"tags":["java","spring","web"],"comments":[{"owner":{"account_id":25121309,"reputation":1105,"user_id":18969611,"display_name":"void void"},"score":0,"creation_date":1668449129,"post_id":74435955,"comment_id":131402621,"body_markdown":"What is &quot;issues when hitting the screen&quot;?","body":"What is &quot;issues when hitting the screen&quot;?"},{"owner":{"account_id":8922233,"reputation":475,"user_id":6658290,"accept_rate":78,"display_name":"Polyphase29"},"score":0,"creation_date":1668449208,"post_id":74435955,"comment_id":131402641,"body_markdown":"Sorry - should have elaborated, it seems the issue is that if I log out and log back in, the &amp; will cut off the second parameter so I will only get myId, not myRequest as well, which will cause an error. So I wanted a way to escape the &quot;&amp;&quot; if possible.","body":"Sorry - should have elaborated, it seems the issue is that if I log out and log back in, the &amp; will cut off the second parameter so I will only get myId, not myRequest as well, which will cause an error. So I wanted a way to escape the &quot;&amp;&quot; if possible."},{"owner":{"account_id":25121309,"reputation":1105,"user_id":18969611,"display_name":"void void"},"score":0,"creation_date":1668449409,"post_id":74435955,"comment_id":131402693,"body_markdown":"I don&#39;t think that problem has anything to do with default url parameter formatting.","body":"I don&#39;t think that problem has anything to do with default url parameter formatting."},{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1668449462,"post_id":74435955,"comment_id":131402709,"body_markdown":"The way to escape the &amp; in an URL is to  use `%26` instead,  otherwise it‘s considered a separator for query-params","body":"The way to escape the &amp; in an URL is to  use <code>%26</code> instead,  otherwise it‘s considered a separator for query-params"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1668449490,"post_id":74435955,"comment_id":131402713,"body_markdown":"Why could you not keep the parameters as-is? That&#39;s a pretty standard approach for these types of values, you&#39;d just have a third parameter: `?type=search&amp;myId=154...&amp;myRequest=&#39;RT&#39;`. If you&#39;re truly wanting to pass data as a query parameter _value_, you&#39;d have to be sure to URL-encode it, via `URLEncoder#encode`.","body":"Why could you not keep the parameters as-is? That&#39;s a pretty standard approach for these types of values, you&#39;d just have a third parameter: <code>?type=search&amp;myId=154...&amp;myRequest=&#39;RT&#39;</code>. If you&#39;re truly wanting to pass data as a query parameter <i>value</i>, you&#39;d have to be sure to URL-encode it, via <code>URLEncoder#encode</code>."},{"owner":{"account_id":8922233,"reputation":475,"user_id":6658290,"accept_rate":78,"display_name":"Polyphase29"},"score":0,"creation_date":1668451610,"post_id":74435955,"comment_id":131403338,"body_markdown":"I think my issue is that I need the URL to look the way it does in the second one above (search=myid=&lt;id&gt;&amp;myRequest=&lt;&gt;). But since I&#39;m trying to assign them all to a search param it is mixing them up? Is there a way I can assign to a hash map the values of search, one key being myId and the other being myRequest?","body":"I think my issue is that I need the URL to look the way it does in the second one above (search=myid=&lt;id&gt;&amp;myRequest=&lt;&gt;). But since I&#39;m trying to assign them all to a search param it is mixing them up? Is there a way I can assign to a hash map the values of search, one key being myId and the other being myRequest?"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1668451738,"post_id":74435955,"comment_id":131403385,"body_markdown":"My point is you could map them the exact same way, putting all of the parameters into a `Map`, by introducing `search` as a third parameter instead (e.g. to determine what method to use). If you go the route of URL encoding the values you&#39;re passing, then you&#39;ll end up with a single `String` of that data, which you&#39;ll need to URL decode, parse yourself, and _then_ put in a Map.","body":"My point is you could map them the exact same way, putting all of the parameters into a <code>Map</code>, by introducing <code>search</code> as a third parameter instead (e.g. to determine what method to use). If you go the route of URL encoding the values you&#39;re passing, then you&#39;ll end up with a single <code>String</code> of that data, which you&#39;ll need to URL decode, parse yourself, and <i>then</i> put in a Map."}],"owner":{"account_id":8922233,"reputation":475,"user_id":6658290,"accept_rate":78,"display_name":"Polyphase29"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668448704,"creation_date":1668448704,"question_id":74435955,"body_markdown":"I&#39;m a bit new to Spring and trying to replace my parameters to pass as key:value pairs and also replace an ampersand with a literal &quot;and&quot; to avoid issues when hitting the screen. Example:\r\n\r\nI want to go from: `mySite/myPage.html?myId=154933680&amp;myRequest=&#39;QT&#39;`\r\n\r\nto have a separate method/entrypoint that will work like this:\r\n`myPage?search=myId=154735535 and myRequest=&quot;RT&quot;`\r\n\r\nNow, my current header looks like this: \r\n\r\n    @RequestMapping(value = &quot;myPage.html&quot;, method = RequestMethod.GET) public ModelAndView getSite(HttpServletRequest request, @RequestParam String myId, @RequestParam String myRequest)\r\n\r\nI&#39;m trying to do something like this instead, but its not working:\r\n\r\n      @RequestMapping(value = &quot;myPage?search=&quot;, method = RequestMethod.GET) public ModelAndView mySearch(HttpServletRequest request, @RequestParam String myId, @RequestParam String myRequest) {\r\n\r\n\r\nBut I would like to pass in them as key:value params rather than straight Strings as well. I&#39;m a little all over the place here, I guess my main question would be with what I have above, how do I swap my URL to not string the parameters together with a &quot;&amp;&quot; but to use &quot;and&quot; instead? ","title":"Replace ampersand in URL with &quot;and&quot;","body":"<p>I'm a bit new to Spring and trying to replace my parameters to pass as key:value pairs and also replace an ampersand with a literal &quot;and&quot; to avoid issues when hitting the screen. Example:</p>\n<p>I want to go from: <code>mySite/myPage.html?myId=154933680&amp;myRequest='QT'</code></p>\n<p>to have a separate method/entrypoint that will work like this:\n<code>myPage?search=myId=154735535 and myRequest=&quot;RT&quot;</code></p>\n<p>Now, my current header looks like this:</p>\n<pre><code>@RequestMapping(value = &quot;myPage.html&quot;, method = RequestMethod.GET) public ModelAndView getSite(HttpServletRequest request, @RequestParam String myId, @RequestParam String myRequest)\n</code></pre>\n<p>I'm trying to do something like this instead, but its not working:</p>\n<pre><code>  @RequestMapping(value = &quot;myPage?search=&quot;, method = RequestMethod.GET) public ModelAndView mySearch(HttpServletRequest request, @RequestParam String myId, @RequestParam String myRequest) {\n</code></pre>\n<p>But I would like to pass in them as key:value params rather than straight Strings as well. I'm a little all over the place here, I guess my main question would be with what I have above, how do I swap my URL to not string the parameters together with a &quot;&amp;&quot; but to use &quot;and&quot; instead?</p>\n"},{"tags":["java","junit","mockito"],"answers":[{"comments":[{"owner":{"account_id":1600176,"reputation":870,"user_id":1481358,"accept_rate":75,"display_name":"ChaoSXDemon"},"score":0,"creation_date":1653965867,"post_id":72441455,"comment_id":127973119,"body_markdown":"Tried doing that but same result. It still runs the original method `getInstance()` :(","body":"Tried doing that but same result. It still runs the original method <code>getInstance()</code> :("}],"tags":[],"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653961546,"creation_date":1653961546,"answer_id":72441455,"question_id":72441316,"body_markdown":"You&#39;re using the wrong syntax for stubbing the static method.  You want something like\r\n\r\n    mySomeClass.when(\r\n        ()-&gt;SomeClass.getInstance(any(), anyString()))\r\n        .thenReturn(mMockedObjectInQuestion);\r\n\r\nMore information [available here](https://www.baeldung.com/mockito-mock-static-methods)","title":"Java MockedStatic method is still called","body":"<p>You're using the wrong syntax for stubbing the static method.  You want something like</p>\n<pre><code>mySomeClass.when(\n    ()-&gt;SomeClass.getInstance(any(), anyString()))\n    .thenReturn(mMockedObjectInQuestion);\n</code></pre>\n<p>More information <a href=\"https://www.baeldung.com/mockito-mock-static-methods\" rel=\"nofollow noreferrer\">available here</a></p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1668664255,"post_id":74435946,"comment_id":131461827,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/74435946/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":23006432,"reputation":1,"user_id":17129638,"display_name":"Vasile Paraschiv"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668448663,"creation_date":1668448663,"answer_id":74435946,"question_id":72441316,"body_markdown":"Assuming `MockedStatic&lt;SomeClass&gt; mySomeClass;` is actually `MockedStatic&lt;ObjectInQuestion&gt; mySomeClass;`, I would try to simplify the setup using a classic `try` block.\r\n\r\nIn any case, sharing the actual test method might be able to shine some light. ;)","title":"Java MockedStatic method is still called","body":"<p>Assuming <code>MockedStatic&lt;SomeClass&gt; mySomeClass;</code> is actually <code>MockedStatic&lt;ObjectInQuestion&gt; mySomeClass;</code>, I would try to simplify the setup using a classic <code>try</code> block.</p>\n<p>In any case, sharing the actual test method might be able to shine some light. ;)</p>\n"}],"owner":{"account_id":1600176,"reputation":870,"user_id":1481358,"accept_rate":75,"display_name":"ChaoSXDemon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":275,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1668448663,"creation_date":1653959809,"question_id":72441316,"body_markdown":"So I&#39;m using `MockedStatic&lt;&gt;` to mock a static method but it seems like the item inside is still getting called? If this is the case, what&#39;s the point of mocking it? I have the following setup:\r\n\r\nObject being tested:\r\n```\r\npublic class ObjectBeingTested {\r\n  public void methodBeingTested() {\r\n    Object obj = ObjectInQuestion.getInstance(new Object(), &quot;abc&quot;);\r\n    // do stuff with obj\r\n  }\r\n}\r\n```\r\n\r\nThe object with static method:\r\n```\r\npublic class ObjectInQuestion {\r\n  public static ObjectInQuestion getInstance(Object obj, String blah) {\r\n     someLocalVar = new FileRequiredObject();\r\n     // we get NullPointerException here cuz in test env, no files found\r\n  }\r\n  \r\n  private ObjectInQuestion() {\r\n    // private constructor to make people use getInstance\r\n  }\r\n  \r\n}\r\n```\r\n\r\nTest code:\r\n```\r\npublic class MyTestClass {\r\n\r\n  MockedStatic&lt;SomeClass&gt; mySomeClass;\r\n\r\n  @Mock ObjectInQuestion mMockedObjectInQuestion;\r\n\r\n  @Before\r\n  public void setup() {\r\n    MockitoAnnotations.initMocks(this);\r\n\r\n    mySomeClass = mockStatic(SomeClass.class);\r\n    when(SomeClass.getInstance(any(), anyString()).thenReturn(mMockedObjectInQuestion);\r\n  }\r\n\r\n  @After\r\n  public void tearDown() {\r\n    mySomeClass.close();\r\n  }\r\n\r\n}\r\n```\r\n\r\nMy questions are the following:\r\n1. Why calling `ObjectInQuestion.getInstance()` in the test class, it&#39;s totally fine but when it&#39;s being called from `ObjectBeingTested`, it runs the real construction? \r\n2. I tried to use `mockConstruction` on `FileRequiredObject`, it still actually construct the object ... why? ","title":"Java MockedStatic method is still called","body":"<p>So I'm using <code>MockedStatic&lt;&gt;</code> to mock a static method but it seems like the item inside is still getting called? If this is the case, what's the point of mocking it? I have the following setup:</p>\n<p>Object being tested:</p>\n<pre><code>public class ObjectBeingTested {\n  public void methodBeingTested() {\n    Object obj = ObjectInQuestion.getInstance(new Object(), &quot;abc&quot;);\n    // do stuff with obj\n  }\n}\n</code></pre>\n<p>The object with static method:</p>\n<pre><code>public class ObjectInQuestion {\n  public static ObjectInQuestion getInstance(Object obj, String blah) {\n     someLocalVar = new FileRequiredObject();\n     // we get NullPointerException here cuz in test env, no files found\n  }\n  \n  private ObjectInQuestion() {\n    // private constructor to make people use getInstance\n  }\n  \n}\n</code></pre>\n<p>Test code:</p>\n<pre><code>public class MyTestClass {\n\n  MockedStatic&lt;SomeClass&gt; mySomeClass;\n\n  @Mock ObjectInQuestion mMockedObjectInQuestion;\n\n  @Before\n  public void setup() {\n    MockitoAnnotations.initMocks(this);\n\n    mySomeClass = mockStatic(SomeClass.class);\n    when(SomeClass.getInstance(any(), anyString()).thenReturn(mMockedObjectInQuestion);\n  }\n\n  @After\n  public void tearDown() {\n    mySomeClass.close();\n  }\n\n}\n</code></pre>\n<p>My questions are the following:</p>\n<ol>\n<li>Why calling <code>ObjectInQuestion.getInstance()</code> in the test class, it's totally fine but when it's being called from <code>ObjectBeingTested</code>, it runs the real construction?</li>\n<li>I tried to use <code>mockConstruction</code> on <code>FileRequiredObject</code>, it still actually construct the object ... why?</li>\n</ol>\n"},{"tags":["java","postgresql","amazon-web-services","jdbc","database-connection"],"comments":[{"owner":{"account_id":5154639,"reputation":803,"user_id":4128181,"display_name":"Vicctor"},"score":0,"creation_date":1668356298,"post_id":74422557,"comment_id":131380025,"body_markdown":"Looks like  url = &quot;jdbc:postgresql://###remoteHost&quot;; - should simply point to localhost not remoteHost - jdbc:postgresql://localhost:8080/ulp?ssl=true","body":"Looks like  url = &quot;jdbc:postgresql://###remoteHost&quot;; - should simply point to localhost not remoteHost - jdbc:postgresql://localhost:8080/ulp?ssl=true"},{"owner":{"account_id":26918921,"reputation":1,"user_id":20493285,"display_name":"Nerdy"},"score":0,"creation_date":1668357344,"post_id":74422557,"comment_id":131380283,"body_markdown":"Thank you so much!! It worked!! localhost was the change to be made....","body":"Thank you so much!! It worked!! localhost was the change to be made...."}],"answers":[{"tags":[],"owner":{"account_id":26918921,"reputation":1,"user_id":20493285,"display_name":"Nerdy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668448651,"creation_date":1668448651,"answer_id":74435944,"question_id":74422557,"body_markdown":"Looks like url = &quot;jdbc:postgresql://###remoteHost&quot;; - should simply point to localhost not remoteHost - jdbc:postgresql://localhost:8080/ulp?ssl=true – \r\nVicctor\r\nThis worked for me ......\r\n","title":"Connect to aws remote Postgres from Java jdbc with ssh tunnel, Facing connection timeout, while JsCH session.connect() ran successful","body":"<p>Looks like url = &quot;jdbc:postgresql://###remoteHost&quot;; - should simply point to localhost not remoteHost - jdbc:postgresql://localhost:8080/ulp?ssl=true –\nVicctor\nThis worked for me ......</p>\n"}],"owner":{"account_id":26918921,"reputation":1,"user_id":20493285,"display_name":"Nerdy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":445,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668448651,"creation_date":1668355428,"question_id":74422557,"body_markdown":"`Hi Guys,\r\n\r\nI am facing Connection Timeout at DriverManager.getConnection() while connecting to aws remote postgresql database. It involves SSH too, i am facing issue while connecting through java, as DBeaver is able to connect successfully.\r\n\r\n\r\nTried below code while expecting connection successful.\r\n\r\n```\r\nString url = &quot;jdbc:postgresql://###remoteHost&quot;;\r\n\t\tString userName = &quot;userName&quot;;\r\n\t\tString password = &quot;pwd&quot;;\r\n\t\tProperties props = new Properties();\r\n\t\tprops.put(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\n      \r\n\t\t\r\n\t\tConnection conn = null;\r\n        try {\r\n        \tString jumpserverHost = &quot;sshHost&quot;;\r\n        \tString jumpserverUsername = &quot;sshUsername&quot;;\r\n        \tJSch jsch = new JSch();\r\n        \tjsch.addIdentity(&quot;FileContainingKey&quot;);\r\n        \t\r\n\r\n        \tSession session = jsch.getSession(jumpserverUsername, jumpserverHost, 22);\r\n        \tsession.setConfig(props);\r\n        \tsession.connect();\r\n\r\n        \t// Forward randomly chosen local port through the SSH channel to database host/port\r\n        \tint forwardedPort = session.setPortForwardingL(8080, &quot;remoteHost&quot;, 5432);\r\n        \tSystem.out.println(forwardedPort);// 8080 \r\n        \tClass.forName(&quot;org.postgresql.Driver&quot;);\r\n        \tconn = DriverManager.getConnection(url+&quot;:&quot;+forwardedPort+&quot;/ulp?ssl=true&quot;, userName, password);\r\n            \r\n            System.out.println(&quot;Connected to the PostgreSQL server successfully.&quot;);\r\n            conn.setAutoCommit(false);\r\n        } catch (Exception e) {\r\n          }\r\n```\r\n  \r\nBut getting connection timeout error as below:-\r\n\r\n```\r\norg.postgresql.util.PSQLException: The connection attempt failed.\r\n\tat org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:315)\r\n\tat org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:51)\r\n\tat org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:225)\r\n\tat org.postgresql.Driver.makeConnection(Driver.java:465)\r\n\tat org.postgresql.Driver.connect(Driver.java:264)\r\n\tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)\r\n\tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)\r\n\tat application.DBTesting.connectionSetup(DBTesting.java:193)\r\n\tat util.MainFrameClass.main(MainFrameClass.java:25)\r\nCaused by: java.net.SocketTimeoutException: Connect timed out\r\n\tat java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:546)\r\n\tat java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)\r\n\tat java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:333)\r\n\tat java.base/java.net.Socket.connect(Socket.java:645)\r\n\tat org.postgresql.core.PGStream.createSocket(PGStream.java:231)\r\n\tat org.postgresql.core.PGStream.&lt;init&gt;(PGStream.java:95)\r\n\tat org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:98)\r\n\tat org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:213)\r\n\t... 8 more\r\n```\r\n`","title":"Connect to aws remote Postgres from Java jdbc with ssh tunnel, Facing connection timeout, while JsCH session.connect() ran successful","body":"<p>`Hi Guys,</p>\n<p>I am facing Connection Timeout at DriverManager.getConnection() while connecting to aws remote postgresql database. It involves SSH too, i am facing issue while connecting through java, as DBeaver is able to connect successfully.</p>\n<p>Tried below code while expecting connection successful.</p>\n<pre><code>String url = &quot;jdbc:postgresql://###remoteHost&quot;;\n        String userName = &quot;userName&quot;;\n        String password = &quot;pwd&quot;;\n        Properties props = new Properties();\n        props.put(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\n      \n        \n        Connection conn = null;\n        try {\n            String jumpserverHost = &quot;sshHost&quot;;\n            String jumpserverUsername = &quot;sshUsername&quot;;\n            JSch jsch = new JSch();\n            jsch.addIdentity(&quot;FileContainingKey&quot;);\n            \n\n            Session session = jsch.getSession(jumpserverUsername, jumpserverHost, 22);\n            session.setConfig(props);\n            session.connect();\n\n            // Forward randomly chosen local port through the SSH channel to database host/port\n            int forwardedPort = session.setPortForwardingL(8080, &quot;remoteHost&quot;, 5432);\n            System.out.println(forwardedPort);// 8080 \n            Class.forName(&quot;org.postgresql.Driver&quot;);\n            conn = DriverManager.getConnection(url+&quot;:&quot;+forwardedPort+&quot;/ulp?ssl=true&quot;, userName, password);\n            \n            System.out.println(&quot;Connected to the PostgreSQL server successfully.&quot;);\n            conn.setAutoCommit(false);\n        } catch (Exception e) {\n          }\n</code></pre>\n<p>But getting connection timeout error as below:-</p>\n<pre><code>org.postgresql.util.PSQLException: The connection attempt failed.\n    at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:315)\n    at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:51)\n    at org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:225)\n    at org.postgresql.Driver.makeConnection(Driver.java:465)\n    at org.postgresql.Driver.connect(Driver.java:264)\n    at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)\n    at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)\n    at application.DBTesting.connectionSetup(DBTesting.java:193)\n    at util.MainFrameClass.main(MainFrameClass.java:25)\nCaused by: java.net.SocketTimeoutException: Connect timed out\n    at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:546)\n    at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)\n    at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:333)\n    at java.base/java.net.Socket.connect(Socket.java:645)\n    at org.postgresql.core.PGStream.createSocket(PGStream.java:231)\n    at org.postgresql.core.PGStream.&lt;init&gt;(PGStream.java:95)\n    at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:98)\n    at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:213)\n    ... 8 more\n</code></pre>\n<p>`</p>\n"},{"tags":["java","android","kotlin","image-processing","colors"],"comments":[{"owner":{"display_name":"user684934"},"score":7,"creation_date":1347546135,"post_id":12408431,"comment_id":16676001,"body_markdown":"Sounds pretty straightforward... what have you tried?","body":"Sounds pretty straightforward... what have you tried?"},{"owner":{"account_id":123953,"reputation":16498,"user_id":318749,"accept_rate":82,"display_name":"Randy"},"score":1,"creation_date":1347546160,"post_id":12408431,"comment_id":16676018,"body_markdown":"loop on all the colors - and store the average... not too bad","body":"loop on all the colors - and store the average... not too bad"},{"owner":{"account_id":346793,"reputation":6021,"user_id":680519,"accept_rate":75,"display_name":"harism"},"score":0,"creation_date":1347546170,"post_id":12408431,"comment_id":16676024,"body_markdown":"Unless you&#39;re into taking the NDK or RenderScript route, out of which latter made this task rather easy and fast, ``Bitmap.getPixel`` and ``Bitmap.getPixels`` are your friends.","body":"Unless you&#39;re into taking the NDK or RenderScript route, out of which latter made this task rather easy and fast, <code>Bitmap.getPixel</code> and <code>Bitmap.getPixels</code> are your friends."},{"owner":{"account_id":246829,"reputation":21647,"user_id":521180,"accept_rate":56,"display_name":"124697"},"score":0,"creation_date":1347546301,"post_id":12408431,"comment_id":16676117,"body_markdown":"@bdares I don&#39;t know where to start. do i need some image processing library or can I do it in android platform straight away?","body":"@bdares I don&#39;t know where to start. do i need some image processing library or can I do it in android platform straight away?"},{"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"score":0,"creation_date":1347547471,"post_id":12408431,"comment_id":16676806,"body_markdown":"@randy : only problem with it is to use a smart average method, as on big image sum(pixels value) may exceed MAX_INT","body":"@randy : only problem with it is to use a smart average method, as on big image sum(pixels value) may exceed MAX_INT"},{"owner":{"account_id":178361,"reputation":1833,"user_id":410293,"accept_rate":50,"display_name":"Rafael Sanches"},"score":0,"creation_date":1380455395,"post_id":12408431,"comment_id":28200631,"body_markdown":"Read this: http://stackoverflow.com/questions/5823854/how-can-i-generate-a-palette-of-prominent-colors-from-an-image","body":"Read this: <a href=\"http://stackoverflow.com/questions/5823854/how-can-i-generate-a-palette-of-prominent-colors-from-an-image\" title=\"how can i generate a palette of prominent colors from an image\">stackoverflow.com/questions/5823854/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1611764,"reputation":3327,"user_id":1490482,"accept_rate":75,"display_name":"Tobias Ritzau"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1347546496,"creation_date":1347546496,"answer_id":12408592,"question_id":12408431,"body_markdown":"Use the `Bitmap.getPixels()` method to get the color values. Then to calculate the average you have to decide what you mean by that. In a grayscale image it is simple, but with colors there are no such thing as an average. You can separate into components (for example RGBA), and take the average of each component. An alternative is to search for the most commonly used color, and there are several other options I&#39;m sure. Play with it :) ","title":"How can I get the average color of an image?","body":"<p>Use the <code>Bitmap.getPixels()</code> method to get the color values. Then to calculate the average you have to decide what you mean by that. In a grayscale image it is simple, but with colors there are no such thing as an average. You can separate into components (for example RGBA), and take the average of each component. An alternative is to search for the most commonly used color, and there are several other options I'm sure. Play with it :) </p>\n"},{"comments":[{"owner":{"account_id":1646908,"reputation":211,"user_id":1518287,"accept_rate":57,"display_name":"Islam Mustafa"},"score":3,"creation_date":1429106651,"post_id":12408605,"comment_id":47444581,"body_markdown":"The second solution get the most common color not the average.","body":"The second solution get the most common color not the average."},{"owner":{"account_id":8732760,"reputation":144,"user_id":6532268,"accept_rate":60,"display_name":"Arjun"},"score":0,"creation_date":1495300725,"post_id":12408605,"comment_id":75199277,"body_markdown":"I was just thinking about second scaling method because other are not working fast!!","body":"I was just thinking about second scaling method because other are not working fast!!"},{"owner":{"account_id":4393361,"reputation":2351,"user_id":3581148,"accept_rate":65,"display_name":"Usman"},"score":1,"creation_date":1504266077,"post_id":12408605,"comment_id":78959033,"body_markdown":"I have found that the second solution of 1x1 px gives 100% accurate results. Even more accurate than the Palette library.","body":"I have found that the second solution of 1x1 px gives 100% accurate results. Even more accurate than the Palette library."}],"tags":[],"owner":{"account_id":1387004,"reputation":6562,"user_id":1318795,"accept_rate":81,"display_name":"Stephane Mathis"},"comment_count":3,"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1658829215,"creation_date":1347546547,"answer_id":12408605,"question_id":12408431,"body_markdown":"I think you will have to do that yourself.\r\n\r\nJust create an int array with all the colors:\r\n\r\n    Bitmap bmp = BitmapFactory.decodeResource(getResources(), R.drawable.icon);  \r\n    bmp = bmp.copy(Bitmap.Config.ARGB_8888, true);    \r\n    int intArray[] = new int[bmp.getWidth()*bmp.getHeight()];  \r\n    bmp.getPixels(intArray, 0, bmp.getWidth(), 0, 0, bmp.getWidth(), bmp.getHeight());\r\n\r\nThen you can get the color with intArray[0], the value could be 0xFFFF0000 for red (last 6 numbers are the RGB color value).\r\n  \r\nHere is another easy solution:\r\n\r\n - Get you full-size image in a bitmap.\r\n   \r\n - Create a scaled bitmap of 1*1px.\r\n   \r\n - Get this bitmap color.\r\n\r\n","title":"How can I get the average color of an image?","body":"<p>I think you will have to do that yourself.</p>\n<p>Just create an int array with all the colors:</p>\n<pre><code>Bitmap bmp = BitmapFactory.decodeResource(getResources(), R.drawable.icon);  \nbmp = bmp.copy(Bitmap.Config.ARGB_8888, true);    \nint intArray[] = new int[bmp.getWidth()*bmp.getHeight()];  \nbmp.getPixels(intArray, 0, bmp.getWidth(), 0, 0, bmp.getWidth(), bmp.getHeight());\n</code></pre>\n<p>Then you can get the color with intArray[0], the value could be 0xFFFF0000 for red (last 6 numbers are the RGB color value).</p>\n<p>Here is another easy solution:</p>\n<ul>\n<li><p>Get you full-size image in a bitmap.</p>\n</li>\n<li><p>Create a scaled bitmap of 1*1px.</p>\n</li>\n<li><p>Get this bitmap color.</p>\n</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":355304,"reputation":20155,"user_id":694184,"accept_rate":88,"display_name":"slayton"},"score":6,"creation_date":1347548061,"post_id":12408627,"comment_id":16677185,"body_markdown":"Getting each pixel individually with `getPixel` inside your loop is wasteful and slow. You should get all of the pixels with a single call to `getPixels` before the for loops.","body":"Getting each pixel individually with <code>getPixel</code> inside your loop is wasteful and slow. You should get all of the pixels with a single call to <code>getPixels</code> before the for loops."},{"owner":{"account_id":318443,"reputation":6040,"user_id":635678,"accept_rate":70,"display_name":"Dan O"},"score":2,"creation_date":1347548343,"post_id":12408627,"comment_id":16677334,"body_markdown":"Slow?  probably, yes.  Wasteful?  Maybe, depends on the size of the bitmap and how much memory is available (I believe `getPixels()` creates a copy of the bitmap data).","body":"Slow?  probably, yes.  Wasteful?  Maybe, depends on the size of the bitmap and how much memory is available (I believe <code>getPixels()</code> creates a copy of the bitmap data)."},{"owner":{"account_id":6626596,"reputation":1009,"user_id":5116614,"accept_rate":70,"display_name":"Stardust"},"score":3,"creation_date":1498067704,"post_id":12408627,"comment_id":76350230,"body_markdown":"`Color c = bitmap.getPixel()` should be `int c = bitmap.getPixel()` because `getPixel()` returns an int, not a Color","body":"<code>Color c = bitmap.getPixel()</code> should be <code>int c = bitmap.getPixel()</code> because <code>getPixel()</code> returns an int, not a Color"},{"owner":{"account_id":5421347,"reputation":409,"user_id":4314872,"accept_rate":75,"display_name":"Zack Matthews"},"score":0,"creation_date":1499263710,"post_id":12408627,"comment_id":76832582,"body_markdown":"@Stardust is correct. This function will not return a Color object, but an int. Otherwise this works pretty well. To improve the speed on larger images try scaling the bitmap down. CIF (352x240) works pretty well for me.","body":"@Stardust is correct. This function will not return a Color object, but an int. Otherwise this works pretty well. To improve the speed on larger images try scaling the bitmap down. CIF (352x240) works pretty well for me."},{"owner":{"account_id":2012138,"reputation":1420,"user_id":1800333,"accept_rate":71,"display_name":"Sujith S Manjavana"},"score":0,"creation_date":1574361128,"post_id":12408627,"comment_id":104215820,"body_markdown":"Color.rgb(redBucket / pixelCount,\n                                greenBucket / pixelCount,\n                                blueBucket / pixelCount);  call requires api 26","body":"Color.rgb(redBucket / pixelCount,                                 greenBucket / pixelCount,                                 blueBucket / pixelCount);  call requires api 26"},{"owner":{"account_id":26678646,"reputation":135,"user_id":20288923,"display_name":"Mahan"},"score":0,"creation_date":1691157177,"post_id":12408627,"comment_id":135457872,"body_markdown":"Why not using ScanLine for fast result?","body":"Why not using ScanLine for fast result?"},{"owner":{"account_id":8835635,"reputation":1014,"user_id":6600056,"display_name":"Rob "},"score":0,"creation_date":1691399186,"post_id":12408627,"comment_id":135481028,"body_markdown":"pixelCount = bitmap.getHeight() * bitmap.getWidth() -  there is no reason to increment variable pixelCount every time","body":"pixelCount = bitmap.getHeight() * bitmap.getWidth() -  there is no reason to increment variable pixelCount every time"}],"tags":[],"owner":{"account_id":318443,"reputation":6040,"user_id":635678,"accept_rate":70,"display_name":"Dan O"},"comment_count":7,"down_vote_count":2,"up_vote_count":56,"is_accepted":true,"score":54,"last_activity_date":1347546606,"creation_date":1347546606,"answer_id":12408627,"question_id":12408431,"body_markdown":"    Bitmap bitmap = someFunctionReturningABitmap();\r\n    long redBucket = 0;\r\n    long greenBucket = 0;\r\n    long blueBucket = 0;\r\n    long pixelCount = 0;\r\n    \r\n    for (int y = 0; y &lt; bitmap.getHeight(); y++)\r\n    {\r\n        for (int x = 0; x &lt; bitmap.getWidth(); x++)\r\n        {\r\n            Color c = bitmap.getPixel(x, y);\r\n            \r\n            pixelCount++;\r\n            redBucket += Color.red(c);\r\n            greenBucket += Color.green(c);\r\n            blueBucket += Color.blue(c);\r\n            // does alpha matter?\r\n        }\r\n    }\r\n    \r\n    Color averageColor = Color.rgb(redBucket / pixelCount,\r\n                                    greenBucket / pixelCount,\r\n                                    blueBucket / pixelCount);","title":"How can I get the average color of an image?","body":"<pre><code>Bitmap bitmap = someFunctionReturningABitmap();\nlong redBucket = 0;\nlong greenBucket = 0;\nlong blueBucket = 0;\nlong pixelCount = 0;\n\nfor (int y = 0; y &lt; bitmap.getHeight(); y++)\n{\n    for (int x = 0; x &lt; bitmap.getWidth(); x++)\n    {\n        Color c = bitmap.getPixel(x, y);\n\n        pixelCount++;\n        redBucket += Color.red(c);\n        greenBucket += Color.green(c);\n        blueBucket += Color.blue(c);\n        // does alpha matter?\n    }\n}\n\nColor averageColor = Color.rgb(redBucket / pixelCount,\n                                greenBucket / pixelCount,\n                                blueBucket / pixelCount);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4181181,"reputation":1746,"user_id":3426166,"display_name":"Gumbo"},"score":2,"creation_date":1408126038,"post_id":25071613,"comment_id":39491208,"body_markdown":"funny that you calculate the number of pixels in an 8 _megapixel_ image wich has as the name states 8 million pixels. But thanks for the solution.","body":"funny that you calculate the number of pixels in an 8 <i>megapixel</i> image wich has as the name states 8 million pixels. But thanks for the solution."},{"owner":{"account_id":117315,"reputation":3877,"user_id":307295,"display_name":"mvmn"},"score":4,"creation_date":1475666927,"post_id":25071613,"comment_id":67032087,"body_markdown":"8 megapixel is not precise, 7,962,624 pixels is precise.","body":"8 megapixel is not precise, 7,962,624 pixels is precise."}],"tags":[],"owner":{"account_id":49924,"reputation":6997,"user_id":148824,"accept_rate":80,"display_name":"Tom"},"comment_count":2,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1406857306,"creation_date":1406857306,"answer_id":25071613,"question_id":12408431,"body_markdown":"Building off Dan O&#39;s solution, here&#39;s a method that automatically takes into account the alpha channel and makes the optimization/ tradeoff of `getPixels` vs `getPixel`.\r\n\r\nThe cost is memory but the benefit is performance, invocation of a virtual method in a loop that could possibly be run several million times [i.e. an 8MP image has 3,456x2,304 = 7,962,624 pixels]). I&#39;ve even taken things one step further by removing the looped `android.graphics.Color` method calls.\r\n\r\n    public static int getDominantColor(Bitmap bitmap) {\r\n       if (null == bitmap) return Color.TRANSPARENT;\r\n\r\n       int redBucket = 0;\r\n       int greenBucket = 0;\r\n       int blueBucket = 0;\r\n       int alphaBucket = 0;\r\n\r\n       boolean hasAlpha = bitmap.hasAlpha();\r\n       int pixelCount = bitmap.getWidth() * bitmap.getHeight();\r\n       int[] pixels = new int[pixelCount];\r\n       bitmap.getPixels(pixels, 0, bitmap.getWidth(), 0, 0, bitmap.getWidth(), bitmap.getHeight());\r\n\r\n       for (int y = 0, h = bitmap.getHeight(); y &lt; h; y++)\r\n       {\r\n           for (int x = 0, w = bitmap.getWidth(); x &lt; w; x++)\r\n           {\r\n               int color = pixels[x + y * w]; // x + y * width\r\n               redBucket += (color &gt;&gt; 16) &amp; 0xFF; // Color.red\r\n               greenBucket += (color &gt;&gt; 8) &amp; 0xFF; // Color.greed\r\n               blueBucket += (color &amp; 0xFF); // Color.blue\r\n               if (hasAlpha) alphaBucket += (color &gt;&gt;&gt; 24); // Color.alpha\r\n           }\r\n       }\r\n\r\n       return Color.argb(\r\n               (hasAlpha) ? (alphaBucket / pixelCount) : 255,\r\n               redBucket / pixelCount,\r\n               greenBucket / pixelCount,\r\n               blueBucket / pixelCount);\r\n    }","title":"How can I get the average color of an image?","body":"<p>Building off Dan O's solution, here's a method that automatically takes into account the alpha channel and makes the optimization/ tradeoff of <code>getPixels</code> vs <code>getPixel</code>.</p>\n\n<p>The cost is memory but the benefit is performance, invocation of a virtual method in a loop that could possibly be run several million times [i.e. an 8MP image has 3,456x2,304 = 7,962,624 pixels]). I've even taken things one step further by removing the looped <code>android.graphics.Color</code> method calls.</p>\n\n<pre><code>public static int getDominantColor(Bitmap bitmap) {\n   if (null == bitmap) return Color.TRANSPARENT;\n\n   int redBucket = 0;\n   int greenBucket = 0;\n   int blueBucket = 0;\n   int alphaBucket = 0;\n\n   boolean hasAlpha = bitmap.hasAlpha();\n   int pixelCount = bitmap.getWidth() * bitmap.getHeight();\n   int[] pixels = new int[pixelCount];\n   bitmap.getPixels(pixels, 0, bitmap.getWidth(), 0, 0, bitmap.getWidth(), bitmap.getHeight());\n\n   for (int y = 0, h = bitmap.getHeight(); y &lt; h; y++)\n   {\n       for (int x = 0, w = bitmap.getWidth(); x &lt; w; x++)\n       {\n           int color = pixels[x + y * w]; // x + y * width\n           redBucket += (color &gt;&gt; 16) &amp; 0xFF; // Color.red\n           greenBucket += (color &gt;&gt; 8) &amp; 0xFF; // Color.greed\n           blueBucket += (color &amp; 0xFF); // Color.blue\n           if (hasAlpha) alphaBucket += (color &gt;&gt;&gt; 24); // Color.alpha\n       }\n   }\n\n   return Color.argb(\n           (hasAlpha) ? (alphaBucket / pixelCount) : 255,\n           redBucket / pixelCount,\n           greenBucket / pixelCount,\n           blueBucket / pixelCount);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":272685,"reputation":12778,"user_id":563904,"accept_rate":100,"display_name":"Entreco"},"score":0,"creation_date":1546893531,"post_id":27292488,"comment_id":94996322,"body_markdown":"Hmmm, very recent yes ;) Just a friendly reminder this class is also available in androidx. https://developer.android.com/reference/androidx/palette/graphics/Palette","body":"Hmmm, very recent yes ;) Just a friendly reminder this class is also available in androidx. <a href=\"https://developer.android.com/reference/androidx/palette/graphics/Palette\" rel=\"nofollow noreferrer\">developer.android.com/reference/androidx/palette/graphics/&hellip;</a>"}],"tags":[],"owner":{"account_id":424466,"reputation":2499,"user_id":804479,"accept_rate":50,"display_name":"aleb"},"comment_count":1,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1547066023,"creation_date":1417691325,"answer_id":27292488,"question_id":12408431,"body_markdown":"You can use `Palete` class from [AndroidX][1], or from the the [v7-support library][2].\r\n\r\nIt provides additional methods to extract colours from a Bitmap, such as getting:\r\n\r\n- Most Dominant color\r\n- Vibrant colors\r\n- Muted color\r\n- much more\r\n\r\n\r\n  [1]: https://developer.android.com/reference/androidx/palette/graphics/Palette\r\n  [2]: https://developer.android.com/tools/support-library/features.html#v7-palette","title":"How can I get the average color of an image?","body":"<p>You can use <code>Palete</code> class from <a href=\"https://developer.android.com/reference/androidx/palette/graphics/Palette\" rel=\"noreferrer\">AndroidX</a>, or from the the <a href=\"https://developer.android.com/tools/support-library/features.html#v7-palette\" rel=\"noreferrer\">v7-support library</a>.</p>\n\n<p>It provides additional methods to extract colours from a Bitmap, such as getting:</p>\n\n<ul>\n<li>Most Dominant color</li>\n<li>Vibrant colors</li>\n<li>Muted color</li>\n<li>much more</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":960901,"reputation":479,"user_id":985273,"display_name":"NathofGod"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1422789472,"creation_date":1422789472,"answer_id":28262090,"question_id":12408431,"body_markdown":"There is also a library that can do this for you.\r\n\r\nhttp://www.michaelevans.org/blog/2013/12/12/colorart-a-library-to-do-itunes-11-style-color-matching-for-android/\r\n","title":"How can I get the average color of an image?","body":"<p>There is also a library that can do this for you.</p>\n\n<p><a href=\"http://www.michaelevans.org/blog/2013/12/12/colorart-a-library-to-do-itunes-11-style-color-matching-for-android/\" rel=\"nofollow\">http://www.michaelevans.org/blog/2013/12/12/colorart-a-library-to-do-itunes-11-style-color-matching-for-android/</a></p>\n"},{"tags":[],"owner":{"account_id":5378624,"reputation":8469,"user_id":4284627,"accept_rate":81,"display_name":"Donald Duck"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1658998738,"creation_date":1658998738,"answer_id":73149995,"question_id":12408431,"body_markdown":"Expanding on the second idea from [Stephane Mathis&#39; answer][1], you can resize the image to 1x1 and get the color of that image:\r\n\r\n```java\r\nBitmap originalBitmap = /*your original image*/;\r\nBitmap scaledBitmap = Bitmap.createScaledBitmap(originalBitmap, 1, 1, false);    //Resize the bitmap to 1x1\r\n@ColorInt int averageColor = scaledBitmap.getPixel(0, 0);    //Get the color of the only pixel of the 1x1 bitmap\r\n```\r\n\r\nIf your original image is not a `Bitmap` object, you can convert it to a `Bitmap` using one of the methods described [here][2].\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/12408605/4284627\r\n  [2]: https://stackoverflow.com/a/48576175/4284627","title":"How can I get the average color of an image?","body":"<p>Expanding on the second idea from <a href=\"https://stackoverflow.com/a/12408605/4284627\">Stephane Mathis' answer</a>, you can resize the image to 1x1 and get the color of that image:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Bitmap originalBitmap = /*your original image*/;\nBitmap scaledBitmap = Bitmap.createScaledBitmap(originalBitmap, 1, 1, false);    //Resize the bitmap to 1x1\n@ColorInt int averageColor = scaledBitmap.getPixel(0, 0);    //Get the color of the only pixel of the 1x1 bitmap\n</code></pre>\n<p>If your original image is not a <code>Bitmap</code> object, you can convert it to a <code>Bitmap</code> using one of the methods described <a href=\"https://stackoverflow.com/a/48576175/4284627\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":11726648,"reputation":19553,"user_id":8583692,"display_name":"Mahozad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668448552,"creation_date":1668448060,"answer_id":74435848,"question_id":12408431,"body_markdown":"Here is a way to get the **dominant** (NOT average) colors of an image using [Material color utilities library](https://github.com/material-foundation/material-color-utilities) which is currently available for Java/Kotlin, C++, Dart, TypeScript.\r\n\r\nThe colors may not necessarily be the most recurring colors; the library extracts dominant colors appropriate for [Material 3 design system](https://m3.material.io/styles/color/dynamic-color/overview) and appropriate to be used on light or dark themes in apps.\r\n\r\nThe library is primarily used on apps for Android 12 and above and also on the [Material Design website][1] itself but I tested it for myself and got good results.\r\n\r\nTo use the library, copy-paste the code on the [Material color utilities repository](https://github.com/material-foundation/material-color-utilities) for your desired language to your project and then you can extract dominant colors and color schemes.\r\n\r\nHere is an example for Java and Kotlin:\r\n\r\nJava:\r\n\r\n```java\r\nvar MAX_DESIRED_COLOR_COUNT = 128;\r\nvar file = new File(&quot;my-image.jpg&quot;);\r\nvar image = ImageIO.read(file);\r\nvar pixels = image.getRGB(0, 0, image.getWidth(), image.getHeight(), null, 0, image.getWidth());\r\nvar colorFrequency = QuantizerCelebi.quantize(pixels, MAX_DESIRED_COLOR_COUNT);\r\nvar decentColors = Score.score(colorFrequency);\r\nvar desiredColor = decentColors.get(0);\r\n// You can take the desiredColor or any other decentColors and forget the rest of code below\r\n\r\n\r\n// Could also use Scheme.dark(desiredColor); to get colors suitable for dark themes\r\nvar colorScheme = Scheme.light(desiredColor);\r\nSystem.out.println(&quot;Decent colors: &quot; + decentColors);\r\nSystem.out.println(&quot;Primary color (light theme): &quot; + colorScheme.getPrimary());\r\n```\r\n\r\nKotlin:\r\n\r\n```kotlin\r\nval MAX_DESIRED_COLOR_COUNT = 128\r\nval file = File(&quot;my-image.jpg&quot;)\r\nval image = ImageIO.read(file)\r\nval pixels = image.getRGB(0, 0, image.width, image.height, null, 0, image.width)\r\nval colorFrequency = QuantizerCelebi.quantize(pixels, MAX_DESIRED_COLOR_COUNT)\r\nval decentColors = Score.score(colorFrequency)\r\nval desiredColor = decentColors.first()\r\n// You can take the desiredColor or any other decentColors and forget the rest of code below\r\n\r\n\r\n// Could also use Scheme.dark(desiredColor) to get colors suitable for dark themes\r\nval colorScheme = Scheme.light(desiredColor)\r\nprintln(&quot;Decent colors: ${decentColors.joinToString { it.toHexString() }}&quot;)\r\nprintln(&quot;Primary color (light theme): ${colorScheme.primary.toHexString()}&quot;)\r\n\r\nfun Int.toHexString() = &quot;#%06X&quot;.format(this and 0xFFFFFF)\r\n```\r\n\r\nLearn more about [Material Design color system and color roles here](https://m3.material.io/styles/color/the-color-system/key-colors-tones) (like `colorScheme.primary` used in the above code snippets).\r\n\r\n  [1]: https://m3.material.io/","title":"How can I get the average color of an image?","body":"<p>Here is a way to get the <strong>dominant</strong> (NOT average) colors of an image using <a href=\"https://github.com/material-foundation/material-color-utilities\" rel=\"nofollow noreferrer\">Material color utilities library</a> which is currently available for Java/Kotlin, C++, Dart, TypeScript.</p>\n<p>The colors may not necessarily be the most recurring colors; the library extracts dominant colors appropriate for <a href=\"https://m3.material.io/styles/color/dynamic-color/overview\" rel=\"nofollow noreferrer\">Material 3 design system</a> and appropriate to be used on light or dark themes in apps.</p>\n<p>The library is primarily used on apps for Android 12 and above and also on the <a href=\"https://m3.material.io/\" rel=\"nofollow noreferrer\">Material Design website</a> itself but I tested it for myself and got good results.</p>\n<p>To use the library, copy-paste the code on the <a href=\"https://github.com/material-foundation/material-color-utilities\" rel=\"nofollow noreferrer\">Material color utilities repository</a> for your desired language to your project and then you can extract dominant colors and color schemes.</p>\n<p>Here is an example for Java and Kotlin:</p>\n<p>Java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var MAX_DESIRED_COLOR_COUNT = 128;\nvar file = new File(&quot;my-image.jpg&quot;);\nvar image = ImageIO.read(file);\nvar pixels = image.getRGB(0, 0, image.getWidth(), image.getHeight(), null, 0, image.getWidth());\nvar colorFrequency = QuantizerCelebi.quantize(pixels, MAX_DESIRED_COLOR_COUNT);\nvar decentColors = Score.score(colorFrequency);\nvar desiredColor = decentColors.get(0);\n// You can take the desiredColor or any other decentColors and forget the rest of code below\n\n\n// Could also use Scheme.dark(desiredColor); to get colors suitable for dark themes\nvar colorScheme = Scheme.light(desiredColor);\nSystem.out.println(&quot;Decent colors: &quot; + decentColors);\nSystem.out.println(&quot;Primary color (light theme): &quot; + colorScheme.getPrimary());\n</code></pre>\n<p>Kotlin:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val MAX_DESIRED_COLOR_COUNT = 128\nval file = File(&quot;my-image.jpg&quot;)\nval image = ImageIO.read(file)\nval pixels = image.getRGB(0, 0, image.width, image.height, null, 0, image.width)\nval colorFrequency = QuantizerCelebi.quantize(pixels, MAX_DESIRED_COLOR_COUNT)\nval decentColors = Score.score(colorFrequency)\nval desiredColor = decentColors.first()\n// You can take the desiredColor or any other decentColors and forget the rest of code below\n\n\n// Could also use Scheme.dark(desiredColor) to get colors suitable for dark themes\nval colorScheme = Scheme.light(desiredColor)\nprintln(&quot;Decent colors: ${decentColors.joinToString { it.toHexString() }}&quot;)\nprintln(&quot;Primary color (light theme): ${colorScheme.primary.toHexString()}&quot;)\n\nfun Int.toHexString() = &quot;#%06X&quot;.format(this and 0xFFFFFF)\n</code></pre>\n<p>Learn more about <a href=\"https://m3.material.io/styles/color/the-color-system/key-colors-tones\" rel=\"nofollow noreferrer\">Material Design color system and color roles here</a> (like <code>colorScheme.primary</code> used in the above code snippets).</p>\n"}],"owner":{"account_id":246829,"reputation":21647,"user_id":521180,"accept_rate":56,"display_name":"124697"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44975,"favorite_count":0,"down_vote_count":1,"up_vote_count":46,"accepted_answer_id":12408627,"answer_count":8,"score":45,"last_activity_date":1668448552,"creation_date":1347545991,"question_id":12408431,"body_markdown":"I want to be able to take an image and find out what is its average color, meaning if the image is half black and half white, I would get something in-between... some shade of gray. It could be the most frequent single color  or median. Any average will do.\r\n\r\nHow can I do this in Android?","title":"How can I get the average color of an image?","body":"<p>I want to be able to take an image and find out what is its average color, meaning if the image is half black and half white, I would get something in-between... some shade of gray. It could be the most frequent single color  or median. Any average will do.</p>\n<p>How can I do this in Android?</p>\n"},{"tags":["java","spring-boot","spring-data-jpa","postman"],"comments":[{"owner":{"account_id":5506151,"reputation":3498,"user_id":4373948,"accept_rate":88,"display_name":"Abder KRIMA"},"score":0,"creation_date":1667940184,"post_id":74366759,"comment_id":131287135,"body_markdown":"in your logs you don&#39;t see any error ?","body":"in your logs you don&#39;t see any error ?"},{"owner":{"account_id":26871209,"reputation":1,"user_id":20453187,"display_name":"Carlos Hernandez"},"score":0,"creation_date":1667941111,"post_id":74366759,"comment_id":131287430,"body_markdown":"In the IDE? Nope. Just what you see the about the dispatcherServlet. Before i try a request, that&#39;s not there. So something is going through.","body":"In the IDE? Nope. Just what you see the about the dispatcherServlet. Before i try a request, that&#39;s not there. So something is going through."}],"answers":[{"comments":[{"owner":{"account_id":26871209,"reputation":1,"user_id":20453187,"display_name":"Carlos Hernandez"},"score":0,"creation_date":1668010620,"post_id":74367345,"comment_id":131305467,"body_markdown":"Unfortunately, that did not do anything.","body":"Unfortunately, that did not do anything."}],"tags":[],"owner":{"account_id":17947811,"reputation":76,"user_id":13041661,"display_name":"pete_bc"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667942697,"creation_date":1667942697,"answer_id":74367345,"question_id":74366759,"body_markdown":"Try declaring that your SpringBootApplication implementation extends SpringBootServletInitializer.\r\n\r\n    @EntityScan(&quot;com.cg.POJOs&quot;)\r\n    @EnableJpaRepositories(&quot;com.cg.repositories&quot;)\r\n    @SpringBootApplication\r\n    public class TestProjectApplication extends \r\n    org.springframework.boot.web.servlet.support.SpringBootServletInitializer{\r\n\r\n        public static void main(String[] args) {\r\n            SpringApplication.run(TestProjectApplication.class, args);\r\n        }\r\n    }\r\n[This sort of explains why that works][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/39567434/spring-boot-application-gives-404-when-deployed-to-tomcat-but-works-with-embedde","title":"Spring Data JPA App With MySQL DB Postman Returns 404 On Any Request","body":"<p>Try declaring that your SpringBootApplication implementation extends SpringBootServletInitializer.</p>\n<pre><code>@EntityScan(&quot;com.cg.POJOs&quot;)\n@EnableJpaRepositories(&quot;com.cg.repositories&quot;)\n@SpringBootApplication\npublic class TestProjectApplication extends \norg.springframework.boot.web.servlet.support.SpringBootServletInitializer{\n\n    public static void main(String[] args) {\n        SpringApplication.run(TestProjectApplication.class, args);\n    }\n}\n</code></pre>\n<p><a href=\"https://stackoverflow.com/questions/39567434/spring-boot-application-gives-404-when-deployed-to-tomcat-but-works-with-embedde\">This sort of explains why that works</a></p>\n"},{"tags":[],"owner":{"account_id":26871209,"reputation":1,"user_id":20453187,"display_name":"Carlos Hernandez"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668448434,"creation_date":1668448434,"answer_id":74435909,"question_id":74366759,"body_markdown":"My issue ended up being my file structure. My main class was located under com.x.a, meanwhile my other classes were in their own packages (com.x.b, com.x.c, etc.). The issue stemmed from the main class not being in the parent package. Unfortunately, the *only* thing I didn’t share in my post was my file structure, so the question was ultimately incomplete as my code ended up being ok.","title":"Spring Data JPA App With MySQL DB Postman Returns 404 On Any Request","body":"<p>My issue ended up being my file structure. My main class was located under com.x.a, meanwhile my other classes were in their own packages (com.x.b, com.x.c, etc.). The issue stemmed from the main class not being in the parent package. Unfortunately, the <em>only</em> thing I didn’t share in my post was my file structure, so the question was ultimately incomplete as my code ended up being ok.</p>\n"}],"owner":{"account_id":26871209,"reputation":1,"user_id":20453187,"display_name":"Carlos Hernandez"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":290,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1668448434,"creation_date":1667939114,"question_id":74366759,"body_markdown":"I am trying to build a Spring Boot API using Spring Data JPA, Spring Web, and MySQL. I&#39;ve done everything I am supposed to, it connects to the database, but Postman ALWAYS returns 404, &quot;Not Found&quot; error, no matter what I try. Spring Boot initializes succcesfully:\r\n\r\n```\r\n\r\n[0;39m [36mc.cg.TestProject.TestProjectApplication [0;39m [2m:[0;39m Starting TestProjectApplication using Java 17.0.3 on LNAR-5CG1514NF9 with PID 21336 (C:\\Users\\********\\OneDrive - *********\\Desktop\\Orientation\\TestProject\\target\\classes started by ******** in C:\\Users\\********\\OneDrive - *********\\Desktop\\Orientation\\TestProject)\r\n[0;39m [36mc.cg.TestProject.TestProjectApplication [0;39m [2m:[0;39m No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n[0;39m [36m.s.d.r.c.RepositoryConfigurationDelegate[0;39m [2m:[0;39m Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n[0;39m [36m.s.d.r.c.RepositoryConfigurationDelegate[0;39m [2m:[0;39m Finished Spring Data repository scanning in 80 ms. Found 1 JPA repository interfaces.\r\n[0;39m [36mo.s.b.w.embedded.tomcat.TomcatWebServer [0;39m [2m:[0;39m Tomcat initialized with port(s): 1111 (http)\r\n[0;39m [36mo.apache.catalina.core.StandardService  [0;39m [2m:[0;39m Starting service [Tomcat]\r\n[0;39m [36morg.apache.catalina.core.StandardEngine [0;39m [2m:[0;39m Starting Servlet engine: [Apache Tomcat/9.0.68]\r\n[0;39m [36mo.a.c.c.C.[Tomcat].[localhost].[/]      [0;39m [2m:[0;39m Initializing Spring embedded WebApplicationContext\r\n[0;39m [36mw.s.c.ServletWebServerApplicationContext[0;39m [2m:[0;39m Root WebApplicationContext: initialization completed in 974 ms\r\n[0;39m [36mo.hibernate.jpa.internal.util.LogHelper [0;39m [2m:[0;39m HHH000204: Processing PersistenceUnitInfo [name: default]\r\n[0;39m [36morg.hibernate.Version                   [0;39m [2m:[0;39m HHH000412: Hibernate ORM core version 5.6.12.Final\r\n[0;39m [36mo.hibernate.annotations.common.Version  [0;39m [2m:[0;39m HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\r\n[0;39m [36mcom.zaxxer.hikari.HikariDataSource      [0;39m [2m:[0;39m HikariPool-1 - Starting...\r\n[0;39m [36mcom.zaxxer.hikari.HikariDataSource      [0;39m [2m:[0;39m HikariPool-1 - Start completed.\r\n[0;39m [36morg.hibernate.dialect.Dialect           [0;39m [2m:[0;39m HHH000400: Using dialect: org.hibernate.dialect.MySQL5InnoDBDialect\r\n[0;39m [36mo.h.e.t.j.p.i.JtaPlatformInitiator      [0;39m [2m:[0;39m HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n[0;39m [36mj.LocalContainerEntityManagerFactoryBean[0;39m [2m:[0;39m Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n[0;39m [36mJpaBaseConfiguration$JpaWebConfiguration[0;39m [2m:[0;39m spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\r\n[0;39m [36mo.s.b.w.embedded.tomcat.TomcatWebServer [0;39m [2m:[0;39m Tomcat started on port(s): 1111 (http) with context path &#39;&#39;\r\n[0;39m [36mc.cg.TestProject.TestProjectApplication [0;39m [2m:[0;39m Started TestProjectApplication in 2.839 seconds (JVM running for 3.873)\r\n[0;39m [36mo.a.c.c.C.[Tomcat].[localhost].[/]      [0;39m [2m:[0;39m Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;\r\n[0;39m [36mo.s.web.servlet.DispatcherServlet       [0;39m [2m:[0;39m Initializing Servlet &#39;dispatcherServlet&#39;\r\n[0;39m [36mo.s.web.servlet.DispatcherServlet       [0;39m [2m:[0;39m Completed initialization in 1 ms\r\n```\r\n\r\nMy project is divided into 5 packages: main class package(TestProject), POJOs, controllers, services, and repositories. I currently one have one, simple table I&#39;m working with that stores a user&#39;s name, and &quot;password&quot;  This is my main class called TestProjectApplication:\r\n\r\n```\r\n@EntityScan(&quot;com.cg.POJOs&quot;)\r\n@EnableJpaRepositories(&quot;com.cg.repositories&quot;)\r\n@SpringBootApplication\r\npublic class TestProjectApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(TestProjectApplication.class, args);\r\n\t}\r\n```\r\nMy User POJO, and the UserRepo repository:\r\n\r\n\r\n\r\n```\r\nimport javax.persistence.*;\r\n@Entity\r\npublic class User {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private int id;\r\n    private String name;\r\n    private String password;\r\n    public User() {}\r\n    public User(int id, String name, String password)\r\n    {\r\n    \tsuper(); //OPTIONAL?\r\n        this.id = id;\r\n        this.name = name;\r\n        this.password = password;\r\n    }\r\n...Getters, Setters, toString\r\n```\r\n\r\n```\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.stereotype.Repository;\r\n@Repository\r\npublic interface UserRepo extends JpaRepository&lt;User,Integer&gt; {\r\n   \r\n}\r\n```\r\nThese have been largely unchanged, as they are pretty standard. Where it gets a little more confusing, and I have tried every type of and combination of Spring Boot annotations to no avail, is my UserServices interface, the UserServicesImpl implementation, and the UserController.\r\n\r\nUserServices and UserServicesImpl:\r\n\r\n```\r\n#UserServices:\r\nimport java.util.List;\r\npublic interface UserServices {\r\n\t\r\n    // Save operation\r\n    User saveUser(User user);\r\n  \r\n    // Read operation\r\n    List&lt;User&gt; fetchUserList();\r\n  \r\n    // Update operation\r\n    User updateUser(User user, int userId);\r\n  \r\n    // Delete operation\r\n    void deleteUserById(int userId);\r\n}\r\n\r\n#userServicesImpl:\r\nimport java.util.List;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.annotation.ComponentScan;\r\nimport org.springframework.stereotype.Service;\r\n\r\n@Service\r\npublic class UserServicesImpl implements UserServices{\r\n\t@Autowired\r\n\tprivate UserRepo userRepo;\r\n\r\n\t@Override\r\n\tpublic User saveUser(User user) {\r\n        return userRepo.save(user);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic List&lt;User&gt; fetchUserList() {\r\n        return (List&lt;User&gt;)userRepo.findAll();\r\n\t}\r\n\r\n...updateUser(User user), deleteUserById(int id) are implemented.\r\n\r\n```\r\nAnd finally my controller class with a few test operations:\r\n\r\n```\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.annotation.ComponentScan;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\n@RestController\r\npublic class UserController {\r\n    @Autowired \r\n    private UserServices userServices;\r\n\r\n    // Save operation\r\n    @PostMapping(&quot;/users&quot;)\r\n    public User saveUser(@RequestBody User department)\r\n    {\r\n        return userServices.saveUser(department);\r\n    }\r\n  \r\n    // Read operation\r\n    @GetMapping(&quot;/users&quot;)\r\n    public List&lt;User&gt; fetchUserList()\r\n    {\r\n        return userServices.fetchUserList();\r\n    }\r\n    \r\n    // Read operation\r\n    @GetMapping(&quot;/test&quot;)\r\n    public List&lt;User&gt; fetchUsers()\r\n    {\r\n        return Arrays.asList(\r\n                new User(12, &quot;Carlos&quot;,&quot;123123&quot;),\r\n                new User(2, &quot;donald&quot;,&quot;123456&quot;)\r\n        );\r\n    }\r\n  \r\n```\r\n\r\nALL requests I make, simply return a 404 &quot;Not Found&quot; error. An example request would be &quot;GET http://localhost:1111/test&quot;. The last bit of information I could possibly show that might show my mistake, is my application.properties file.\r\n\r\n\r\n```\r\nspring.datasource.url=jdbc:mysql://localhost:3306/test\r\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\nspring.jpa.show-sql: true\r\nspring.datasource.username=root\r\nspring.datasource.password=123456\r\nspring.jpa.hibernate.ddl-auto=update\r\nserver.port = 1111\r\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL5InnoDBDialect\r\n```\r\n\r\nAny ideas as to why it&#39;s not working would be greatly appreciated! Using Spring Boot 2.7.5 with Java 11 on the Spring Tool Suite IDE.","title":"Spring Data JPA App With MySQL DB Postman Returns 404 On Any Request","body":"<p>I am trying to build a Spring Boot API using Spring Data JPA, Spring Web, and MySQL. I've done everything I am supposed to, it connects to the database, but Postman ALWAYS returns 404, &quot;Not Found&quot; error, no matter what I try. Spring Boot initializes succcesfully:</p>\n<pre><code>\n[0;39m [36mc.cg.TestProject.TestProjectApplication [0;39m [2m:[0;39m Starting TestProjectApplication using Java 17.0.3 on LNAR-5CG1514NF9 with PID 21336 (C:\\Users\\********\\OneDrive - *********\\Desktop\\Orientation\\TestProject\\target\\classes started by ******** in C:\\Users\\********\\OneDrive - *********\\Desktop\\Orientation\\TestProject)\n[0;39m [36mc.cg.TestProject.TestProjectApplication [0;39m [2m:[0;39m No active profile set, falling back to 1 default profile: &quot;default&quot;\n[0;39m [36m.s.d.r.c.RepositoryConfigurationDelegate[0;39m [2m:[0;39m Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n[0;39m [36m.s.d.r.c.RepositoryConfigurationDelegate[0;39m [2m:[0;39m Finished Spring Data repository scanning in 80 ms. Found 1 JPA repository interfaces.\n[0;39m [36mo.s.b.w.embedded.tomcat.TomcatWebServer [0;39m [2m:[0;39m Tomcat initialized with port(s): 1111 (http)\n[0;39m [36mo.apache.catalina.core.StandardService  [0;39m [2m:[0;39m Starting service [Tomcat]\n[0;39m [36morg.apache.catalina.core.StandardEngine [0;39m [2m:[0;39m Starting Servlet engine: [Apache Tomcat/9.0.68]\n[0;39m [36mo.a.c.c.C.[Tomcat].[localhost].[/]      [0;39m [2m:[0;39m Initializing Spring embedded WebApplicationContext\n[0;39m [36mw.s.c.ServletWebServerApplicationContext[0;39m [2m:[0;39m Root WebApplicationContext: initialization completed in 974 ms\n[0;39m [36mo.hibernate.jpa.internal.util.LogHelper [0;39m [2m:[0;39m HHH000204: Processing PersistenceUnitInfo [name: default]\n[0;39m [36morg.hibernate.Version                   [0;39m [2m:[0;39m HHH000412: Hibernate ORM core version 5.6.12.Final\n[0;39m [36mo.hibernate.annotations.common.Version  [0;39m [2m:[0;39m HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\n[0;39m [36mcom.zaxxer.hikari.HikariDataSource      [0;39m [2m:[0;39m HikariPool-1 - Starting...\n[0;39m [36mcom.zaxxer.hikari.HikariDataSource      [0;39m [2m:[0;39m HikariPool-1 - Start completed.\n[0;39m [36morg.hibernate.dialect.Dialect           [0;39m [2m:[0;39m HHH000400: Using dialect: org.hibernate.dialect.MySQL5InnoDBDialect\n[0;39m [36mo.h.e.t.j.p.i.JtaPlatformInitiator      [0;39m [2m:[0;39m HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n[0;39m [36mj.LocalContainerEntityManagerFactoryBean[0;39m [2m:[0;39m Initialized JPA EntityManagerFactory for persistence unit 'default'\n[0;39m [36mJpaBaseConfiguration$JpaWebConfiguration[0;39m [2m:[0;39m spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\n[0;39m [36mo.s.b.w.embedded.tomcat.TomcatWebServer [0;39m [2m:[0;39m Tomcat started on port(s): 1111 (http) with context path ''\n[0;39m [36mc.cg.TestProject.TestProjectApplication [0;39m [2m:[0;39m Started TestProjectApplication in 2.839 seconds (JVM running for 3.873)\n[0;39m [36mo.a.c.c.C.[Tomcat].[localhost].[/]      [0;39m [2m:[0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'\n[0;39m [36mo.s.web.servlet.DispatcherServlet       [0;39m [2m:[0;39m Initializing Servlet 'dispatcherServlet'\n[0;39m [36mo.s.web.servlet.DispatcherServlet       [0;39m [2m:[0;39m Completed initialization in 1 ms\n</code></pre>\n<p>My project is divided into 5 packages: main class package(TestProject), POJOs, controllers, services, and repositories. I currently one have one, simple table I'm working with that stores a user's name, and &quot;password&quot;  This is my main class called TestProjectApplication:</p>\n<pre><code>@EntityScan(&quot;com.cg.POJOs&quot;)\n@EnableJpaRepositories(&quot;com.cg.repositories&quot;)\n@SpringBootApplication\npublic class TestProjectApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(TestProjectApplication.class, args);\n    }\n</code></pre>\n<p>My User POJO, and the UserRepo repository:</p>\n<pre><code>import javax.persistence.*;\n@Entity\npublic class User {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private int id;\n    private String name;\n    private String password;\n    public User() {}\n    public User(int id, String name, String password)\n    {\n        super(); //OPTIONAL?\n        this.id = id;\n        this.name = name;\n        this.password = password;\n    }\n...Getters, Setters, toString\n</code></pre>\n<pre><code>import org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n@Repository\npublic interface UserRepo extends JpaRepository&lt;User,Integer&gt; {\n   \n}\n</code></pre>\n<p>These have been largely unchanged, as they are pretty standard. Where it gets a little more confusing, and I have tried every type of and combination of Spring Boot annotations to no avail, is my UserServices interface, the UserServicesImpl implementation, and the UserController.</p>\n<p>UserServices and UserServicesImpl:</p>\n<pre><code>#UserServices:\nimport java.util.List;\npublic interface UserServices {\n    \n    // Save operation\n    User saveUser(User user);\n  \n    // Read operation\n    List&lt;User&gt; fetchUserList();\n  \n    // Update operation\n    User updateUser(User user, int userId);\n  \n    // Delete operation\n    void deleteUserById(int userId);\n}\n\n#userServicesImpl:\nimport java.util.List;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.stereotype.Service;\n\n@Service\npublic class UserServicesImpl implements UserServices{\n    @Autowired\n    private UserRepo userRepo;\n\n    @Override\n    public User saveUser(User user) {\n        return userRepo.save(user);\n    }\n\n    @Override\n    public List&lt;User&gt; fetchUserList() {\n        return (List&lt;User&gt;)userRepo.findAll();\n    }\n\n...updateUser(User user), deleteUserById(int id) are implemented.\n\n</code></pre>\n<p>And finally my controller class with a few test operations:</p>\n<pre><code>import org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.web.bind.annotation.*;\n\n@RestController\npublic class UserController {\n    @Autowired \n    private UserServices userServices;\n\n    // Save operation\n    @PostMapping(&quot;/users&quot;)\n    public User saveUser(@RequestBody User department)\n    {\n        return userServices.saveUser(department);\n    }\n  \n    // Read operation\n    @GetMapping(&quot;/users&quot;)\n    public List&lt;User&gt; fetchUserList()\n    {\n        return userServices.fetchUserList();\n    }\n    \n    // Read operation\n    @GetMapping(&quot;/test&quot;)\n    public List&lt;User&gt; fetchUsers()\n    {\n        return Arrays.asList(\n                new User(12, &quot;Carlos&quot;,&quot;123123&quot;),\n                new User(2, &quot;donald&quot;,&quot;123456&quot;)\n        );\n    }\n  \n</code></pre>\n<p>ALL requests I make, simply return a 404 &quot;Not Found&quot; error. An example request would be &quot;GET http://localhost:1111/test&quot;. The last bit of information I could possibly show that might show my mistake, is my application.properties file.</p>\n<pre><code>spring.datasource.url=jdbc:mysql://localhost:3306/test\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\nspring.jpa.show-sql: true\nspring.datasource.username=root\nspring.datasource.password=123456\nspring.jpa.hibernate.ddl-auto=update\nserver.port = 1111\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL5InnoDBDialect\n</code></pre>\n<p>Any ideas as to why it's not working would be greatly appreciated! Using Spring Boot 2.7.5 with Java 11 on the Spring Tool Suite IDE.</p>\n"},{"tags":["java","google-cloud-platform","google-cloud-storage"],"answers":[{"comments":[{"owner":{"account_id":1189122,"reputation":15753,"user_id":1162409,"accept_rate":40,"display_name":"San Jaisy"},"score":0,"creation_date":1615446867,"post_id":66577883,"comment_id":117694421,"body_markdown":"How can set dynamically. The file may be PNG or JPG or JPEG","body":"How can set dynamically. The file may be PNG or JPG or JPEG"},{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1615447933,"post_id":66577883,"comment_id":117694735,"body_markdown":"If else?  It depends on how you define what is a PNG, what is a JPEG?","body":"If else?  It depends on how you define what is a PNG, what is a JPEG?"},{"owner":{"account_id":1189122,"reputation":15753,"user_id":1162409,"accept_rate":40,"display_name":"San Jaisy"},"score":0,"creation_date":1615448085,"post_id":66577883,"comment_id":117694794,"body_markdown":"Thanks, can you please help me with this https://stackoverflow.com/questions/66577896/uploaded-object-public-url-is-download-link-after-uploading-the-object-to-gcp-us","body":"Thanks, can you please help me with this <a href=\"https://stackoverflow.com/questions/66577896/uploaded-object-public-url-is-download-link-after-uploading-the-object-to-gcp-us\" title=\"uploaded object public url is download link after uploading the object to gcp us\">stackoverflow.com/questions/66577896/&hellip;</a>"}],"tags":[],"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"comment_count":3,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1668448383,"creation_date":1615446568,"answer_id":66577883,"question_id":66577825,"body_markdown":"`BlobInfo` has a `Builder` which has a lot of options including `setContentType`.\r\n\r\nhttps://googleapis.dev/java/google-cloud-storage/latest/com/google/cloud/storage/BlobInfo.Builder.html\r\n\r\nIf you always see builder/newBuilder, you need to investigate the documentation further to see if there are other (setters).\r\n\r\n    BlobInfo blobInfo = BlobInfo.newBuilder(blobId).setContentType(&quot;image/jpeg&quot;).build();\r\n\r\n=== Edited ===\r\n\r\n    public String determineContentType(File inputFile){\r\n    \r\n       String contentType =  // Your logic of determining type of file format\r\n    \r\n      return contentType;\r\n    \r\n    }\r\n    \r\n        BlobInfo blobInfo = BlobInfo.newBuilder(blobId).setContentType(determineContentType(yourFile)).build();","title":"Set type of object while uploading to google cloud storage using java library","body":"<p><code>BlobInfo</code> has a <code>Builder</code> which has a lot of options including <code>setContentType</code>.</p>\n<p><a href=\"https://googleapis.dev/java/google-cloud-storage/latest/com/google/cloud/storage/BlobInfo.Builder.html\" rel=\"nofollow noreferrer\">https://googleapis.dev/java/google-cloud-storage/latest/com/google/cloud/storage/BlobInfo.Builder.html</a></p>\n<p>If you always see builder/newBuilder, you need to investigate the documentation further to see if there are other (setters).</p>\n<pre><code>BlobInfo blobInfo = BlobInfo.newBuilder(blobId).setContentType(&quot;image/jpeg&quot;).build();\n</code></pre>\n<p>=== Edited ===</p>\n<pre><code>public String determineContentType(File inputFile){\n\n   String contentType =  // Your logic of determining type of file format\n\n  return contentType;\n\n}\n\n    BlobInfo blobInfo = BlobInfo.newBuilder(blobId).setContentType(determineContentType(yourFile)).build();\n</code></pre>\n"}],"owner":{"account_id":1189122,"reputation":15753,"user_id":1162409,"accept_rate":40,"display_name":"San Jaisy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":867,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":66577883,"answer_count":1,"score":0,"last_activity_date":1668448383,"creation_date":1615446220,"question_id":66577825,"body_markdown":"Using Java library to uploading the object to GCP https://cloud.google.com/storage/docs/uploading-objects#storage-upload-object-code-sample with the below code \r\n\r\n    public static void uploadObject(\r\n          String projectId, String bucketName, String objectName, String filePath) throws IOException {\r\n        \r\n        Storage storage = StorageOptions.newBuilder().setProjectId(projectId).build().getService();\r\n        BlobId blobId = BlobId.of(bucketName, objectName);\r\n        BlobInfo blobInfo = BlobInfo.newBuilder(blobId).build();\r\n        storage.create(blobInfo, Files.readAllBytes(Paths.get(filePath)));\r\n    \r\n        System.out.println(\r\n            &quot;File &quot; + filePath + &quot; uploaded to bucket &quot; + bucketName + &quot; as &quot; + objectName);\r\n      }\r\n\r\nThe above code works well, but the content type of the image is `application/octet-stream`\r\nHow do I set to `image/jpg` or `image/png`. How can I set the meta-data before uploading","title":"Set type of object while uploading to google cloud storage using java library","body":"<p>Using Java library to uploading the object to GCP <a href=\"https://cloud.google.com/storage/docs/uploading-objects#storage-upload-object-code-sample\" rel=\"nofollow noreferrer\">https://cloud.google.com/storage/docs/uploading-objects#storage-upload-object-code-sample</a> with the below code</p>\n<pre><code>public static void uploadObject(\n      String projectId, String bucketName, String objectName, String filePath) throws IOException {\n    \n    Storage storage = StorageOptions.newBuilder().setProjectId(projectId).build().getService();\n    BlobId blobId = BlobId.of(bucketName, objectName);\n    BlobInfo blobInfo = BlobInfo.newBuilder(blobId).build();\n    storage.create(blobInfo, Files.readAllBytes(Paths.get(filePath)));\n\n    System.out.println(\n        &quot;File &quot; + filePath + &quot; uploaded to bucket &quot; + bucketName + &quot; as &quot; + objectName);\n  }\n</code></pre>\n<p>The above code works well, but the content type of the image is <code>application/octet-stream</code>\nHow do I set to <code>image/jpg</code> or <code>image/png</code>. How can I set the meta-data before uploading</p>\n"},{"tags":["java","arrays","java.util.scanner"],"comments":[{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1668443475,"post_id":74434824,"comment_id":131400565,"body_markdown":"You made mistakes by not doing some earlier steps, eG: &quot;Initialize the short array pos of size n and read the corresponding number of values (from console) into the array&quot; &lt;- You never fill your array with anything. You just initialize it, but never fill pos with any data. In the loop itself you also incorrectly print alphabet[n]. n Is the size of your pos array not its contents and will never change in your loop. But since already mentioned you never fill your array you should fix that first and then worry about printing its content.","body":"You made mistakes by not doing some earlier steps, eG: &quot;Initialize the short array pos of size n and read the corresponding number of values (from console) into the array&quot; &lt;- You never fill your array with anything. You just initialize it, but never fill pos with any data. In the loop itself you also incorrectly print alphabet[n]. n Is the size of your pos array not its contents and will never change in your loop. But since already mentioned you never fill your array you should fix that first and then worry about printing its content."}],"answers":[{"tags":[],"owner":{"account_id":15051837,"reputation":16,"user_id":20470902,"display_name":"franklysiva"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668447847,"creation_date":1668445873,"answer_id":74435397,"question_id":74434824,"body_markdown":"You need to fill your array with values and traverse through the array and print the corresponding alphabets of the position.\r\n```java\r\nfor (int i = 0; i &lt; pos.length; i++) {\r\n        \t\r\n    pos[i] = in.nextShort();\r\n\r\n    for (int i: pos)   \r\n        System.out.print(alphabet[i]);\r\n}\r\n```","title":"Print certain values (given by scanner) of an array in java","body":"<p>You need to fill your array with values and traverse through the array and print the corresponding alphabets of the position.</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (int i = 0; i &lt; pos.length; i++) {\n            \n    pos[i] = in.nextShort();\n\n    for (int i: pos)   \n        System.out.print(alphabet[i]);\n}\n</code></pre>\n"}],"owner":{"account_id":26891805,"reputation":13,"user_id":20470440,"display_name":"Samuele "},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74435397,"answer_count":1,"score":0,"last_activity_date":1668447847,"creation_date":1668443211,"question_id":74434824,"body_markdown":"I&#39;ll leave the exercise description because it is pretty clear. \r\n\r\n&quot;The given code reads the non-negative integer n. Initialize the short array pos of size n and read the corresponding number of values (from console) into the array.\r\nFurther initialize the char array alphabet and fill it in a loop with the upper case letters from &#39;A&#39; - &#39;Z&#39;.\r\nFinally, loop through the array pos and output the character from the alphabet array that is in the position specified by the current value in pos. For example, if pos[i] contains the value 3, alphabet[3] should be output.&quot;\r\n\r\nThere is also a table [I link here](https://i.stack.imgur.com/3VNx8.png) of the expected outputs.\r\n\r\n\r\n```\r\n\r\nimport&#160;java.util.Scanner;\r\npublic&#160;class&#160;Exercise {\r\n&#160; &#160; public&#160;static&#160;void&#160;main(String[]&#160;args)&#160;{\r\n        Scanner&#160;in&#160;=&#160;new&#160;Scanner(System.in);\r\n&#160; &#160; &#160; &#160; int&#160;n&#160;=&#160;in.nextInt();\r\n&#160; &#160; &#160; &#160; short[]&#160;pos;\r\n&#160; &#160; &#160; &#160; char[]&#160;alphabet;\r\n        pos = new short[n];\r\nalphabet = new char[]{&#39;A&#39;,&#39;B&#39;,&#39;C&#39;,&#39;D&#39;,&#39;E&#39;,&#39;F&#39;,&#39;G&#39;,&#39;H&#39;,&#39;I&#39;,&#39;J&#39;,&#39;K&#39;,&#39;L&#39;,&#39;M&#39;,&#39;N&#39;,&#39;O&#39;,&#39;P&#39;,&#39;Q&#39;,&#39;R&#39;,&#39;S&#39;,&#39;T&#39;,&#39;U&#39;,&#39;V&#39;,&#39;W&#39;,&#39;X&#39;,&#39;Y&#39;,&#39;Z&#39;};\r\n\r\nfor (int i = 0; i &lt; pos.length; i++) System.out.print(alphabet[n]);\r\n      }\r\n}\r\n```\r\nThis code outputs the correct length of the word, but if the input is e.g. 2, it outputs &quot;CC&quot;, which means that it only takes the first input and not the other ones. \r\n","title":"Print certain values (given by scanner) of an array in java","body":"<p>I'll leave the exercise description because it is pretty clear.</p>\n<p>&quot;The given code reads the non-negative integer n. Initialize the short array pos of size n and read the corresponding number of values (from console) into the array.\nFurther initialize the char array alphabet and fill it in a loop with the upper case letters from 'A' - 'Z'.\nFinally, loop through the array pos and output the character from the alphabet array that is in the position specified by the current value in pos. For example, if pos[i] contains the value 3, alphabet[3] should be output.&quot;</p>\n<p>There is also a table <a href=\"https://i.stack.imgur.com/3VNx8.png\" rel=\"nofollow noreferrer\">I link here</a> of the expected outputs.</p>\n<pre><code>\nimport java.util.Scanner;\npublic class Exercise {\n    public static void main(String[] args) {\n        Scanner in = new Scanner(System.in);\n        int n = in.nextInt();\n        short[] pos;\n        char[] alphabet;\n        pos = new short[n];\nalphabet = new char[]{'A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R','S','T','U','V','W','X','Y','Z'};\n\nfor (int i = 0; i &lt; pos.length; i++) System.out.print(alphabet[n]);\n      }\n}\n</code></pre>\n<p>This code outputs the correct length of the word, but if the input is e.g. 2, it outputs &quot;CC&quot;, which means that it only takes the first input and not the other ones.</p>\n"},{"tags":["java","networking","tcp"],"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":1,"creation_date":1667243804,"post_id":74268043,"comment_id":131119902,"body_markdown":"&quot;_The problem is that I want to run this server on multiple computers on the local network, and their local addresses can change._&quot; - This could also happen in your local server. That&#39;s why DNS was created. And if you are going to rely on IP addresses, they should be static and configured the same in your LANs.","body":"&quot;<i>The problem is that I want to run this server on multiple computers on the local network, and their local addresses can change.</i>&quot; - This could also happen in your local server. That&#39;s why DNS was created. And if you are going to rely on IP addresses, they should be static and configured the same in your LANs."},{"owner":{"account_id":13328605,"reputation":68,"user_id":9620766,"display_name":"random coder dude"},"score":1,"creation_date":1667244032,"post_id":74268043,"comment_id":131119969,"body_markdown":"By the sound of it, looks like you might be trying to [load balance](https://www.nginx.com/resources/glossary/load-balancing/).","body":"By the sound of it, looks like you might be trying to <a href=\"https://www.nginx.com/resources/glossary/load-balancing/\" rel=\"nofollow noreferrer\">load balance</a>."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1667248849,"post_id":74268043,"comment_id":131121151,"body_markdown":"Makes me think of [Zero-configuration networking](https://en.wikipedia.org/wiki/Zero-configuration_networking), and [*Bonjour*](https://en.wikipedia.org/wiki/Bonjour_(software)) (Apple). I do not know about whether Java implementations exist.","body":"Makes me think of <a href=\"https://en.wikipedia.org/wiki/Zero-configuration_networking\" rel=\"nofollow noreferrer\">Zero-configuration networking</a>, and <a href=\"https://en.wikipedia.org/wiki/Bonjour_(software)\" rel=\"nofollow noreferrer\"><i>Bonjour</i></a> (Apple). I do not know about whether Java implementations exist."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1667249284,"post_id":74268043,"comment_id":131121236,"body_markdown":"https://github.com/jmdns/jmdns","body":"<a href=\"https://github.com/jmdns/jmdns\" rel=\"nofollow noreferrer\">github.com/jmdns/jmdns</a>"},{"owner":{"account_id":17876096,"reputation":51,"user_id":12986118,"display_name":"imworse"},"score":0,"creation_date":1668162996,"post_id":74268043,"comment_id":131344149,"body_markdown":"@hfontanez I am trying to make a remote PC application. This will not work on the global internet. Only local network. Thanks for your answer!","body":"@hfontanez I am trying to make a remote PC application. This will not work on the global internet. Only local network. Thanks for your answer!"}],"answers":[{"tags":[],"owner":{"account_id":17876096,"reputation":51,"user_id":12986118,"display_name":"imworse"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668447628,"creation_date":1668427531,"answer_id":74431377,"question_id":74268043,"body_markdown":"I solve it by use `DatagramSocket` to UDP broadcast to 192.168.1.255.","title":"Java. How to get a list of exactly my servers in the local network?","body":"<p>I solve it by use <code>DatagramSocket</code> to UDP broadcast to 192.168.1.255.</p>\n"}],"owner":{"account_id":17876096,"reputation":51,"user_id":12986118,"display_name":"imworse"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74431377,"answer_count":1,"score":0,"last_activity_date":1668447628,"creation_date":1667243013,"question_id":74268043,"body_markdown":"Using tcp sockets, I wrote a server, launched it on a computer. Wrote a client for android. Being in the same local network, I successfully connect from my smartphone knowing the local ip address of the computer and the server port.\r\n\r\nThe problem is that I want to run this server on multiple computers on the local network, and their local addresses can change.\r\n\r\nNeed to somehow scan and select an available server in the application.\r\n\r\nHow is it implemented? What is the special protocol for scanning? Or just try to connect by sorting through all possible addresses and ports?\r\n\r\nIs UDP broadcast a bad solution?\r\n\r\nSorry for google-translator!\r\n\r\nUPD: I am trying to make a remote PC application. This will not work on the global internet. only local network. Thanks for the answer","title":"Java. How to get a list of exactly my servers in the local network?","body":"<p>Using tcp sockets, I wrote a server, launched it on a computer. Wrote a client for android. Being in the same local network, I successfully connect from my smartphone knowing the local ip address of the computer and the server port.</p>\n<p>The problem is that I want to run this server on multiple computers on the local network, and their local addresses can change.</p>\n<p>Need to somehow scan and select an available server in the application.</p>\n<p>How is it implemented? What is the special protocol for scanning? Or just try to connect by sorting through all possible addresses and ports?</p>\n<p>Is UDP broadcast a bad solution?</p>\n<p>Sorry for google-translator!</p>\n<p>UPD: I am trying to make a remote PC application. This will not work on the global internet. only local network. Thanks for the answer</p>\n"},{"tags":["java","mockito","powermock"],"comments":[{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":1,"creation_date":1665590173,"post_id":74035922,"comment_id":130738048,"body_markdown":"You don&#39;t even call `ClassA.methodA` in your test","body":"You don&#39;t even call <code>ClassA.methodA</code> in your test"}],"answers":[{"tags":[],"owner":{"account_id":23006432,"reputation":1,"user_id":17129638,"display_name":"Vasile Paraschiv"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668447428,"creation_date":1668447428,"answer_id":74435724,"question_id":74035922,"body_markdown":"Please note that you must use (JUnit 4):\r\n - `@RunWith(MockitoJUnitRunner.class)` class decoration, or \r\n - call `Mockito.initMocks(this)` in your setup method, to initialize these mocks and inject them.\r\n\r\nWith JUnit 5, you must use: \r\n - `@ExtendWith(MockitoExtension.class)` class decoration.","title":"Is there a way for MockedStatic to return a mocked class?","body":"<p>Please note that you must use (JUnit 4):</p>\n<ul>\n<li><code>@RunWith(MockitoJUnitRunner.class)</code> class decoration, or</li>\n<li>call <code>Mockito.initMocks(this)</code> in your setup method, to initialize these mocks and inject them.</li>\n</ul>\n<p>With JUnit 5, you must use:</p>\n<ul>\n<li><code>@ExtendWith(MockitoExtension.class)</code> class decoration.</li>\n</ul>\n"}],"owner":{"account_id":20295517,"reputation":59,"user_id":14886142,"display_name":"iAmHereForHelp"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668447428,"creation_date":1665542317,"question_id":74035922,"body_markdown":"I am trying using Junit&#39;s MockedStatic function for Hadoop FileSystem class static method &quot;get()&quot; and want to return a mocked Hadoop FileSystem which then I will use Mockito for its other methods such as &quot;exists()&quot;. However, when I tried debugging it, the MockedStatic didnt return a mocked FileSystem class but an actual one.\r\n\r\n```\r\npublic class ClassA{\r\n     public void methodA (String input){\r\n          //some code\r\n          FileSystem fileSystem = FileSystem.get(URI.create(pathName), configuration);\r\n          boolean fileExists = fileSystem.exists(new Path(fileName));\r\n          //some code\r\n     }\r\n}\r\n\r\nclass ClassATest{\r\n\r\n@Mock\r\nFileSystem fileSystem;\r\n@InjectMocks\r\nClassA classA;\r\n\r\n@BeforeEach\r\nvoid setUp(){\r\n    MockitoAnnotations.openMocks(this);\r\n}\r\n\r\n@Test\r\nvoid methodA {\r\n    try (MockedStatic&lt;FileSystem&gt; mockedStatic = Mockito.mockStatic(FileSystem.class)){\r\n            mockedStatic.when(()-&gt; \r\n    FileSystem.get(URI.create(&quot;/resources/&quot;),configuration)).thenReturn(fileSystem);\r\n        }\r\n    when(fileSystem.exists(any())).thenReturn(true);\r\n}\r\n```\r\n\r\n","title":"Is there a way for MockedStatic to return a mocked class?","body":"<p>I am trying using Junit's MockedStatic function for Hadoop FileSystem class static method &quot;get()&quot; and want to return a mocked Hadoop FileSystem which then I will use Mockito for its other methods such as &quot;exists()&quot;. However, when I tried debugging it, the MockedStatic didnt return a mocked FileSystem class but an actual one.</p>\n<pre><code>public class ClassA{\n     public void methodA (String input){\n          //some code\n          FileSystem fileSystem = FileSystem.get(URI.create(pathName), configuration);\n          boolean fileExists = fileSystem.exists(new Path(fileName));\n          //some code\n     }\n}\n\nclass ClassATest{\n\n@Mock\nFileSystem fileSystem;\n@InjectMocks\nClassA classA;\n\n@BeforeEach\nvoid setUp(){\n    MockitoAnnotations.openMocks(this);\n}\n\n@Test\nvoid methodA {\n    try (MockedStatic&lt;FileSystem&gt; mockedStatic = Mockito.mockStatic(FileSystem.class)){\n            mockedStatic.when(()-&gt; \n    FileSystem.get(URI.create(&quot;/resources/&quot;),configuration)).thenReturn(fileSystem);\n        }\n    when(fileSystem.exists(any())).thenReturn(true);\n}\n</code></pre>\n"},{"tags":["java","selenium","selenium-webdriver"],"comments":[{"owner":{"account_id":1233142,"reputation":5617,"user_id":1197313,"accept_rate":25,"display_name":"Santoshsarma"},"score":0,"creation_date":1423573713,"post_id":28432306,"comment_id":45195011,"body_markdown":"What is the purpose of waiting without any proper condition (Which is same Static wait) ? btw, if you want to do something like that, Write a method to wait for an element which is not present in DOM and handle the exception properly.","body":"What is the purpose of waiting without any proper condition (Which is same Static wait) ? btw, if you want to do something like that, Write a method to wait for an element which is not present in DOM and handle the exception properly."},{"owner":{"account_id":1661507,"reputation":9914,"user_id":1529709,"accept_rate":100,"display_name":"zb226"},"score":0,"creation_date":1423573848,"post_id":28432306,"comment_id":45195098,"body_markdown":"As I said in my question, it is helpful for example when setting things up. What do you mean by &quot;Which is same Static wait&quot;? Waiting for a knowingly non-existent element would be a possibility, albeit not a completely portable one (I can&#39;t choose a non-existent element for *every* webpage).","body":"As I said in my question, it is helpful for example when setting things up. What do you mean by &quot;Which is same Static wait&quot;? Waiting for a knowingly non-existent element would be a possibility, albeit not a completely portable one (I can&#39;t choose a non-existent element for <i>every</i> webpage)."},{"owner":{"account_id":2050353,"reputation":4625,"user_id":1829500,"accept_rate":57,"display_name":"Mrunal Gosar"},"score":1,"creation_date":1423574858,"post_id":28432306,"comment_id":45195758,"body_markdown":"what is stopping you from Thread.sleep(), and who said that it&#39;s dirty solution.","body":"what is stopping you from Thread.sleep(), and who said that it&#39;s dirty solution."},{"owner":{"account_id":3059383,"reputation":1059,"user_id":2592387,"display_name":"Steve Weaver Crawford"},"score":0,"creation_date":1423575110,"post_id":28432306,"comment_id":45195902,"body_markdown":"This is also called an &#39;explicit&#39; wait, and in general is not a good practice, as you know. There are ways that you can do more advanced waits using JavascriptExecutor, I have successfully used this method to wait for CSS3 animations to finish for example, I can dig it up if you think it may help","body":"This is also called an &#39;explicit&#39; wait, and in general is not a good practice, as you know. There are ways that you can do more advanced waits using JavascriptExecutor, I have successfully used this method to wait for CSS3 animations to finish for example, I can dig it up if you think it may help"},{"owner":{"account_id":4725054,"reputation":16161,"user_id":3821981,"accept_rate":62,"display_name":"Saifur"},"score":3,"creation_date":1423575198,"post_id":28432306,"comment_id":45195958,"body_markdown":"Just by reading your question I guess `Thread.sleep()` is the best thing you can do. No need to do anymore coding","body":"Just by reading your question I guess <code>Thread.sleep()</code> is the best thing you can do. No need to do anymore coding"},{"owner":{"account_id":1661507,"reputation":9914,"user_id":1529709,"accept_rate":100,"display_name":"zb226"},"score":0,"creation_date":1423575937,"post_id":28432306,"comment_id":45196487,"body_markdown":"@MrunalGosar: I&#39;ve read this more than once - and thought that it is because running Selenium tests is multi-threaded. I have no further rationale to back that claim up.","body":"@MrunalGosar: I&#39;ve read this more than once - and thought that it is because running Selenium tests is multi-threaded. I have no further rationale to back that claim up."},{"owner":{"account_id":1661507,"reputation":9914,"user_id":1529709,"accept_rate":100,"display_name":"zb226"},"score":0,"creation_date":1423576132,"post_id":28432306,"comment_id":45196642,"body_markdown":"@SteveCrawford: This sounds interesting, even though it&#39;s a conditional wait. If you&#39;ve got the time, I&#39;d be grateful if you&#39;d share it!","body":"@SteveCrawford: This sounds interesting, even though it&#39;s a conditional wait. If you&#39;ve got the time, I&#39;d be grateful if you&#39;d share it!"}],"answers":[{"comments":[{"owner":{"account_id":1661507,"reputation":9914,"user_id":1529709,"accept_rate":100,"display_name":"zb226"},"score":0,"creation_date":1436833601,"post_id":28433028,"comment_id":50767336,"body_markdown":"Again, sorry for the delay... Thanks for answering! I know what you&#39;re getting at. It&#39;s not as bad as  [dont-parse-html-with-regex](http://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags/1732454#1732454), but this *is* sort of a religious issue :)","body":"Again, sorry for the delay... Thanks for answering! I know what you&#39;re getting at. It&#39;s not as bad as  <a href=\"http://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags/1732454#1732454\">dont-parse-html-with-regex</a>, but this <i>is</i> sort of a religious issue :)"},{"owner":{"account_id":84511,"reputation":12504,"user_id":236195,"accept_rate":86,"display_name":"frnhr"},"score":0,"creation_date":1586729802,"post_id":28433028,"comment_id":108229588,"body_markdown":"What is this `Sleep`?","body":"What is this <code>Sleep</code>?"},{"owner":{"account_id":942854,"reputation":29672,"user_id":985454,"accept_rate":84,"display_name":"Qwerty"},"score":0,"creation_date":1586953602,"post_id":28433028,"comment_id":108317463,"body_markdown":"@frnhr Depends on what testing tool you are using. It&#39;s any in-built mechanism that pauses the execution for a set time. Selenium itself doesn&#39;t have such a keyword as it&#39;s just a library that allows you to control the browser. in OP&#39;s context, the `Sleep` would be `Thread.sleep()`.","body":"@frnhr Depends on what testing tool you are using. It&#39;s any in-built mechanism that pauses the execution for a set time. Selenium itself doesn&#39;t have such a keyword as it&#39;s just a library that allows you to control the browser. in OP&#39;s context, the <code>Sleep</code> would be <code>Thread.sleep()</code>."}],"tags":[],"owner":{"account_id":942854,"reputation":29672,"user_id":985454,"accept_rate":84,"display_name":"Qwerty"},"comment_count":3,"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1423575806,"creation_date":1423575327,"answer_id":28433028,"question_id":28432306,"body_markdown":"If you just need to wait, then `Sleep` is fine.\r\n\r\n\r\nThe point of not using `Sleep` is not in the sleep itself, but in the _just waiting_ as you described it. _Just waiting_ is what you should not. Try changing your thinking, find some event you can attach the wait to. Make it conditional.\r\n\r\n\r\n\r\nIn web testing, you don&#39;t usually need to _just wait_. You wait until page loads, until animation finishes, until form sends, element is clickable, user logs in, script executes, data are processed... That&#39;s why `Sleep` is discouraged, but if you really **don&#39;t** have a single event you are waiting for and simply need to **just wait**, then using the `Sleep` is perfectly OK.","title":"Selenium: Explicit / Unconditional wait, i.e. &quot;just wait&quot;","body":"<p>If you just need to wait, then <code>Sleep</code> is fine.</p>\n\n<p>The point of not using <code>Sleep</code> is not in the sleep itself, but in the <em>just waiting</em> as you described it. <em>Just waiting</em> is what you should not. Try changing your thinking, find some event you can attach the wait to. Make it conditional.</p>\n\n<p>In web testing, you don't usually need to <em>just wait</em>. You wait until page loads, until animation finishes, until form sends, element is clickable, user logs in, script executes, data are processed... That's why <code>Sleep</code> is discouraged, but if you really <strong>don't</strong> have a single event you are waiting for and simply need to <strong>just wait</strong>, then using the <code>Sleep</code> is perfectly OK.</p>\n"},{"comments":[{"owner":{"account_id":1661507,"reputation":9914,"user_id":1529709,"accept_rate":100,"display_name":"zb226"},"score":0,"creation_date":1436833746,"post_id":28438709,"comment_id":50767380,"body_markdown":"Sorry for the delay - Totally forgot about this question... This was precisely what I was looking for. Works as advertised, in my case w/Java!","body":"Sorry for the delay - Totally forgot about this question... This was precisely what I was looking for. Works as advertised, in my case w/Java!"}],"tags":[],"owner":{"account_id":2078887,"reputation":147889,"user_id":1906307,"accept_rate":67,"display_name":"Louis"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1423591646,"creation_date":1423591646,"answer_id":28438709,"question_id":28432306,"body_markdown":"[Qwerty&#39;s answer](https://stackoverflow.com/a/28433028/1906307) is correct insofar as the principle is, to paraphrase: \r\n\r\n&gt; Do not &quot;just wait&quot; if you can actually wait for something significant to happen in the browser. In other words, you be waiting for a specific event rather than &quot;just waiting&quot;.\r\n\r\nOk, but let&#39;s assume, for the sake of argument, that you&#39;re in a situation where there is absolutely positively no event you can wait for. I have large test suites that use Selenium and I&#39;ve never been in this situation, but I&#39;m not omniscient. There could be situations I&#39;m not foreseeing. It is possible that `Thread.sleep()` is going to give you want you want, however:\r\n\r\n1. If you are running your browser on a remote provisioning service like Sauce Labs or Browser Stack, they may decide that your script is dead and shut down the browser. (Sauce Labs definitely does this. I&#39;ve never used Browser Stack but I would expect the same.)\r\n\r\n2. If a network issue happens while you are waiting and it is such as to cause a test failure, you won&#39;t know it until you `Thread.sleep()` call is done. This, again, can happen if you use services like those I&#39;ve mentioned above. It happens to my test suites once in a while.\r\n\r\n3. Or if you are testing locally: the browser crashes or enters an infinite loop. I&#39;ve not experienced crashes but I&#39;ve experienced infinite loops. Again, if you use `Thread.sleep()` you won&#39;t know about the issue until you are done waiting.\r\n\r\nOf course, the longer you want to wait, the more of an issue it is. If you just want to wait for a second... then you should be fine with `Thread.sleep()`. Otherwise, if I were backed against the wall and *had* to &quot;just wait&quot; I&#39;d *still* use Selenium&#39;s waiting facilities, I&#39;d do something like:\r\n\r\n    try: \r\n        WebDriverWait(driver, timeout).until(\r\n            lambda driver: driver.execute_script(&quot;return false&quot;))\r\n    except TimeoutException:\r\n        pass # Do nothing\r\n\r\nThis is Python code but the principle is the same in any language that Selenium supports: just wait for something that cannot ever occur. **It is important that the wait executes a test that happens on the browser side because the whole point of doing this instead of using something like `Thread.sleep()` is so that the browser is contacted and we find issues as early as possible.** The way `WebDriverWait` works, it will poll the browser every so often (every 0.5 seconds is the default in the Python implementation). The test could be a `find_element` method that searches for an element that cannot exist. I&#39;ve used an `execute_script` that returns `false`. Since it is never going to return a `true` value, the wait will timeout. (Executing an empty script would also work, as it would return `undefined` which translates to a falsy value but `return false` looks deliberate whereas an empty script looks like a mistake.) Then you just need to ignore the exception raised due to timing out. If you do this often you can even wrap the whole thing in a utility function.","title":"Selenium: Explicit / Unconditional wait, i.e. &quot;just wait&quot;","body":"<p><a href=\"https://stackoverflow.com/a/28433028/1906307\">Qwerty's answer</a> is correct insofar as the principle is, to paraphrase: </p>\n\n<blockquote>\n  <p>Do not \"just wait\" if you can actually wait for something significant to happen in the browser. In other words, you be waiting for a specific event rather than \"just waiting\".</p>\n</blockquote>\n\n<p>Ok, but let's assume, for the sake of argument, that you're in a situation where there is absolutely positively no event you can wait for. I have large test suites that use Selenium and I've never been in this situation, but I'm not omniscient. There could be situations I'm not foreseeing. It is possible that <code>Thread.sleep()</code> is going to give you want you want, however:</p>\n\n<ol>\n<li><p>If you are running your browser on a remote provisioning service like Sauce Labs or Browser Stack, they may decide that your script is dead and shut down the browser. (Sauce Labs definitely does this. I've never used Browser Stack but I would expect the same.)</p></li>\n<li><p>If a network issue happens while you are waiting and it is such as to cause a test failure, you won't know it until you <code>Thread.sleep()</code> call is done. This, again, can happen if you use services like those I've mentioned above. It happens to my test suites once in a while.</p></li>\n<li><p>Or if you are testing locally: the browser crashes or enters an infinite loop. I've not experienced crashes but I've experienced infinite loops. Again, if you use <code>Thread.sleep()</code> you won't know about the issue until you are done waiting.</p></li>\n</ol>\n\n<p>Of course, the longer you want to wait, the more of an issue it is. If you just want to wait for a second... then you should be fine with <code>Thread.sleep()</code>. Otherwise, if I were backed against the wall and <em>had</em> to \"just wait\" I'd <em>still</em> use Selenium's waiting facilities, I'd do something like:</p>\n\n<pre><code>try: \n    WebDriverWait(driver, timeout).until(\n        lambda driver: driver.execute_script(\"return false\"))\nexcept TimeoutException:\n    pass # Do nothing\n</code></pre>\n\n<p>This is Python code but the principle is the same in any language that Selenium supports: just wait for something that cannot ever occur. <strong>It is important that the wait executes a test that happens on the browser side because the whole point of doing this instead of using something like <code>Thread.sleep()</code> is so that the browser is contacted and we find issues as early as possible.</strong> The way <code>WebDriverWait</code> works, it will poll the browser every so often (every 0.5 seconds is the default in the Python implementation). The test could be a <code>find_element</code> method that searches for an element that cannot exist. I've used an <code>execute_script</code> that returns <code>false</code>. Since it is never going to return a <code>true</code> value, the wait will timeout. (Executing an empty script would also work, as it would return <code>undefined</code> which translates to a falsy value but <code>return false</code> looks deliberate whereas an empty script looks like a mistake.) Then you just need to ignore the exception raised due to timing out. If you do this often you can even wrap the whole thing in a utility function.</p>\n"},{"tags":[],"owner":{"account_id":49078,"reputation":44646,"user_id":145989,"accept_rate":59,"display_name":"Ondra Žižka"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668447367,"creation_date":1668447367,"answer_id":74435710,"question_id":28432306,"body_markdown":"If you want to stay Selenium-integral, you may use:\r\n\r\n    Sleeper.SYSTEM_SLEEPER.sleep(Duration.ofSeconds(3))\r\n\r\nI can see a use case for that when you want to slow down the things a bit to see what is happening in the browser. So I make it conditional:\r\n\r\n    Sleeper.SYSTEM_SLEEPER.sleep(Duration.ofMillis(slowDownFactor * 100))\r\n\r\n`slowDownFactor` 0 by default, or more when in a development profile (in my case, a Spring profile, through:\r\n\r\n    @Value(&quot;${debug.slowDownFactor:0}&quot;) private int slowDownFactor;","title":"Selenium: Explicit / Unconditional wait, i.e. &quot;just wait&quot;","body":"<p>If you want to stay Selenium-integral, you may use:</p>\n<pre><code>Sleeper.SYSTEM_SLEEPER.sleep(Duration.ofSeconds(3))\n</code></pre>\n<p>I can see a use case for that when you want to slow down the things a bit to see what is happening in the browser. So I make it conditional:</p>\n<pre><code>Sleeper.SYSTEM_SLEEPER.sleep(Duration.ofMillis(slowDownFactor * 100))\n</code></pre>\n<p><code>slowDownFactor</code> 0 by default, or more when in a development profile (in my case, a Spring profile, through:</p>\n<pre><code>@Value(&quot;${debug.slowDownFactor:0}&quot;) private int slowDownFactor;\n</code></pre>\n"}],"owner":{"account_id":1661507,"reputation":9914,"user_id":1529709,"accept_rate":100,"display_name":"zb226"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2330,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":28438709,"answer_count":3,"score":1,"last_activity_date":1668447401,"creation_date":1423573135,"question_id":28432306,"body_markdown":"As it turns out, the `WebDriverWait` class does not allow for an &quot;unconditional wait&quot;: you always have to specify a certain condition to wait for. However, for example when setting up a project and developing first tests, waiting unconditionally is a helpful feature. The usage of `Thread.sleep()` is often discouraged. Are there better solutions for the &quot;just wait&quot;-problem?\r\n\r\nI&#39;m using the latest Selenium/WebDriver release as of now - `2.44.0`.","title":"Selenium: Explicit / Unconditional wait, i.e. &quot;just wait&quot;","body":"<p>As it turns out, the <code>WebDriverWait</code> class does not allow for an \"unconditional wait\": you always have to specify a certain condition to wait for. However, for example when setting up a project and developing first tests, waiting unconditionally is a helpful feature. The usage of <code>Thread.sleep()</code> is often discouraged. Are there better solutions for the \"just wait\"-problem?</p>\n\n<p>I'm using the latest Selenium/WebDriver release as of now - <code>2.44.0</code>.</p>\n"},{"tags":["java","xml","postgresql","marklogic"],"comments":[{"owner":{"account_id":3883533,"reputation":7620,"user_id":3215485,"display_name":"David Ennis  -CleverLlamas.com"},"score":0,"creation_date":1668459075,"post_id":74435526,"comment_id":131405559,"body_markdown":"Marklogic documentation is clear.. start is a positive int defaulting to (1) and pageLenght is number of records.   So start: 1 and pageLenght:10 will return records 1-10...  Start 23 and pageLenght 7 will return 23-29.. pageLenght 0 returns no results","body":"Marklogic documentation is clear.. start is a positive int defaulting to (1) and pageLenght is number of records.   So start: 1 and pageLenght:10 will return records 1-10...  Start 23 and pageLenght 7 will return 23-29.. pageLenght 0 returns no results"},{"owner":{"account_id":24811112,"reputation":61,"user_id":18692547,"display_name":"Suprita S B"},"score":0,"creation_date":1668693165,"post_id":74435526,"comment_id":131471697,"body_markdown":"@DavidEnnis__17llamas__ Thank you for the response. So the below Postgresql                select * from table  WHERE column=&#39;somevalue&#39; OFFSET 1 ROWS Limit 5                            is equivalent to above marklogic.","body":"@DavidEnnis__17llamas__ Thank you for the response. So the below Postgresql                select * from table  WHERE column=&#39;somevalue&#39; OFFSET 1 ROWS Limit 5                            is equivalent to above marklogic."}],"owner":{"account_id":24811112,"reputation":61,"user_id":18692547,"display_name":"Suprita S B"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668446453,"creation_date":1668446453,"question_id":74435526,"body_markdown":"Please can some one tell clarify me on the start and page_length in marklogic function,\r\n   search:resolve(\r\n           $xml-query, $options, $from_row, $num_fetch  \r\n       )\r\nIf I convert above to Postgresql query,\r\nthen here &quot;from_row&quot;  is nothing but starting from this row say 10th row and &quot;num_fetch&quot; is nothing but fetch 20 rows data starting from 10th rown in Postgresql ?.\r\n\r\nThanks !!!","title":"Convert Marklogic query to Postgresql query","body":"<p>Please can some one tell clarify me on the start and page_length in marklogic function,\nsearch:resolve(\n$xml-query, $options, $from_row, $num_fetch<br />\n)\nIf I convert above to Postgresql query,\nthen here &quot;from_row&quot;  is nothing but starting from this row say 10th row and &quot;num_fetch&quot; is nothing but fetch 20 rows data starting from 10th rown in Postgresql ?.</p>\n<p>Thanks !!!</p>\n"},{"tags":["java","spring","file"],"answers":[{"comments":[{"owner":{"account_id":20434987,"reputation":15,"user_id":14993069,"display_name":"Dimitar"},"score":0,"creation_date":1668428448,"post_id":74431451,"comment_id":131394927,"body_markdown":"this happened when i parsed the code in stackoverflow","body":"this happened when i parsed the code in stackoverflow"},{"owner":{"account_id":16795084,"reputation":232,"user_id":12141701,"display_name":"lukwas"},"score":0,"creation_date":1668428839,"post_id":74431451,"comment_id":131395066,"body_markdown":"it might be encoding problem, https://stackoverflow.com/questions/3030903/content-is-not-allowed-in-prolog-when-parsing-perfectly-valid-xml-on-gae , maybe it has encoding `UTF-8 BOM`","body":"it might be encoding problem, <a href=\"https://stackoverflow.com/questions/3030903/content-is-not-allowed-in-prolog-when-parsing-perfectly-valid-xml-on-gae\" title=\"content is not allowed in prolog when parsing perfectly valid xml on gae\">stackoverflow.com/questions/3030903/&hellip;</a> , maybe it has encoding <code>UTF-8 BOM</code>"},{"owner":{"account_id":20434987,"reputation":15,"user_id":14993069,"display_name":"Dimitar"},"score":0,"creation_date":1668429611,"post_id":74431451,"comment_id":131395315,"body_markdown":"i tried with the different encodings but the best one i got was with UTF-16 which got me ERROR in ch.qos.logback.classic.pattern.LoggerConverter@558bdf1f - failed to parse integer string [1.] java.lang.NumberFormatException: For input string: &quot;1.&quot; which is the same situation Im in right now","body":"i tried with the different encodings but the best one i got was with UTF-16 which got me ERROR in ch.qos.logback.classic.pattern.LoggerConverter@558bdf1f - failed to parse integer string [1.] java.lang.NumberFormatException: For input string: &quot;1.&quot; which is the same situation Im in right now"},{"owner":{"account_id":16795084,"reputation":232,"user_id":12141701,"display_name":"lukwas"},"score":0,"creation_date":1668429743,"post_id":74431451,"comment_id":131395369,"body_markdown":"If You are changing encoding check if file encoding is equal to encoding specified in first line","body":"If You are changing encoding check if file encoding is equal to encoding specified in first line"},{"owner":{"account_id":16795084,"reputation":232,"user_id":12141701,"display_name":"lukwas"},"score":0,"creation_date":1668429896,"post_id":74431451,"comment_id":131395430,"body_markdown":"also see here https://stackoverflow.com/questions/5138696/org-xml-sax-saxparseexception-content-is-not-allowed-in-prolog","body":"also see here <a href=\"https://stackoverflow.com/questions/5138696/org-xml-sax-saxparseexception-content-is-not-allowed-in-prolog\" title=\"org xml sax saxparseexception content is not allowed in prolog\">stackoverflow.com/questions/5138696/&hellip;</a>"}],"tags":[],"owner":{"account_id":16795084,"reputation":232,"user_id":12141701,"display_name":"lukwas"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668427874,"creation_date":1668427874,"answer_id":74431451,"question_id":74431217,"body_markdown":"It looks You have space at start of logback.xml\r\nerror: `lineNumber: 1; columnNumber: 39; Content is not allowed in prolog.`\r\nremove it\r\n\r\nI added space in my config and inteliJ highlighted it as error\r\n[![inteliJ error hint][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZFh2x.png\r\n\r\n, also running app returns similar problem as Yours\r\n","title":"Logging system failed to initialize using configuration from &#39;null&#39;","body":"<p>It looks You have space at start of logback.xml\nerror: <code>lineNumber: 1; columnNumber: 39; Content is not allowed in prolog.</code>\nremove it</p>\n<p>I added space in my config and inteliJ highlighted it as error\n<a href=\"https://i.stack.imgur.com/ZFh2x.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZFh2x.png\" alt=\"inteliJ error hint\" /></a></p>\n<p>, also running app returns similar problem as Yours</p>\n"},{"tags":[],"owner":{"account_id":20434987,"reputation":15,"user_id":14993069,"display_name":"Dimitar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668446221,"creation_date":1668446221,"answer_id":74435469,"question_id":74431217,"body_markdown":"I fixed it by deleting the whole xml version and encoding","title":"Logging system failed to initialize using configuration from &#39;null&#39;","body":"<p>I fixed it by deleting the whole xml version and encoding</p>\n"}],"owner":{"account_id":20434987,"reputation":15,"user_id":14993069,"display_name":"Dimitar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4172,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74435469,"answer_count":2,"score":0,"last_activity_date":1668446221,"creation_date":1668426828,"question_id":74431217,"body_markdown":"Hi Im making a big MVC project and now I&#39;m trying to implement a logging functionallity through .xml file. I&#39;ve triple checked the heading for typos and tried using differend encodings but nothing worked. I&#39;ve added appenders for RollingFile and ConsoleAppender.I want to make a log containing name,date and level.I think thats all \r\n   \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;configuration&gt;\r\n        &lt;include resource=&quot;org/springframework/boot/logging/logback/defaults.xml&quot;/&gt;\r\n        &lt;property name=&quot;LOG_FILE&quot; value=&quot;logs/app.log&quot;/&gt;\r\n    \r\n        &lt;appender name=&quot;FILE-ROLLING&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n            &lt;file&gt;${LOG_FILE}&lt;/file&gt;\r\n    \r\n            &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy&quot;&gt;\r\n                &lt;fileNamePattern&gt;logs/archived/app.%d{yyyy-MM-dd}.%i.log&lt;/fileNamePattern&gt;\r\n                &lt;!-- each archived file, size max 5KB --&gt;\r\n                &lt;maxFileSize&gt;5KB&lt;/maxFileSize&gt;\r\n                &lt;!-- total size of all archive files, if total size &gt; 20KB,\r\n    \t\t\t\tit will delete old archived file --&gt;\r\n                &lt;totalSizeCap&gt;20KB&lt;/totalSizeCap&gt;\r\n                &lt;!-- 60 days to keep --&gt;\r\n                &lt;maxHistory&gt;60&lt;/maxHistory&gt;\r\n            &lt;/rollingPolicy&gt;\r\n    \r\n            &lt;encoder&gt;\r\n                &lt;pattern&gt;%d %p %c{1.} [%t] %m%n&lt;/pattern&gt;\r\n            &lt;/encoder&gt;\r\n        &lt;/appender&gt;\r\n    \r\n        &lt;appender name=&quot;CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n            &lt;layout class=&quot;ch.qos.logback.classic.PatternLayout&quot;&gt;\r\n                &lt;Pattern&gt;\r\n                    %d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n\r\n                &lt;/Pattern&gt;\r\n            &lt;/layout&gt;\r\n        &lt;/appender&gt;\r\n    \r\n    \r\n    \r\n    \r\n        &lt;logger name=&quot;com.dailycodebuffer&quot; level=&quot;error&quot; additivity=&quot;false&quot;&gt;\r\n            &lt;appender-ref ref=&quot;EMAIL&quot;/&gt;\r\n        &lt;/logger&gt;\r\n    \r\n        &lt;logger name=&quot;com.dailycodebuffer&quot; level=&quot;trace&quot; additivity=&quot;false&quot;&gt;\r\n            &lt;appender-ref ref=&quot;FILE-ROLLING&quot;/&gt;\r\n        &lt;/logger&gt;\r\n    \r\n        &lt;root level=&quot;error&quot;&gt;\r\n            &lt;appender-ref ref=&quot;FILE-ROLLING&quot;/&gt;\r\n        &lt;/root&gt;\r\n    \r\n        &lt;logger name=&quot;com.dailycodebuffer&quot; level=&quot;debug&quot; additivity=&quot;false&quot;&gt;\r\n            &lt;appender-ref ref=&quot;CONSOLE&quot;/&gt;\r\n        &lt;/logger&gt;\r\n        &lt;root level=&quot;error&quot;&gt;\r\n            &lt;appender-ref ref=&quot;CONSOLE&quot;/&gt;\r\n        &lt;/root&gt;\r\n    \r\n    &lt;/configuration&gt;\r\n\r\nthe error im getting\r\n\r\n   \r\n\r\n     Logging system failed to initialize using configuration from &#39;null&#39;\r\n    java.lang.IllegalStateException: Could not initialize Logback logging from classpath:logback.xml\r\n    \tat org.springframework.boot.logging.logback.LogbackLoggingSystem.loadConfiguration(LogbackLoggingSystem.java:240)\r\n    \tat org.springframework.boot.logging.logback.LogbackLoggingSystem.reinitialize(LogbackLoggingSystem.java:307)\r\n    \tat org.springframework.boot.logging.AbstractLoggingSystem.initializeWithConventions(AbstractLoggingSystem.java:73)\r\n    \tat org.springframework.boot.logging.AbstractLoggingSystem.initialize(AbstractLoggingSystem.java:60)\r\n    \tat org.springframework.boot.logging.logback.LogbackLoggingSystem.initialize(LogbackLoggingSystem.java:186)\r\n    \tat org.springframework.boot.context.logging.LoggingApplicationListener.initializeSystem(LoggingApplicationListener.java:332)\r\n    \tat org.springframework.boot.context.logging.LoggingApplicationListener.initialize(LoggingApplicationListener.java:298)\r\n    \tat org.springframework.boot.context.logging.LoggingApplicationListener.onApplicationEnvironmentPreparedEvent(LoggingApplicationListener.java:246)\r\n    \tat org.springframework.boot.context.logging.LoggingApplicationListener.onApplicationEvent(LoggingApplicationListener.java:223)\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176)\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169)\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131)\r\n    \tat org.springframework.boot.context.event.EventPublishingRunListener.multicastInitialEvent(EventPublishingRunListener.java:136)\r\n    \tat org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:81)\r\n    \tat org.springframework.boot.SpringApplicationRunListeners.lambda$environmentPrepared$2(SpringApplicationRunListeners.java:64)\r\n    \tat java.base/java.lang.Iterable.forEach(Iterable.java:75)\r\n    \tat org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:118)\r\n    \tat org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:112)\r\n    \tat org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:63)\r\n    \tat org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:352)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:303)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)\r\n    \tat com.myfirm.CarDealer.CarDealerApplication.main(CarDealerApplication.java:10)\r\n    Caused by: ch.qos.logback.core.joran.spi.JoranException: Problem parsing XML document. See previously reported errors.\r\n    \tat ch.qos.logback.core.joran.event.SaxEventRecorder.recordEvents(SaxEventRecorder.java:71)\r\n    \tat ch.qos.logback.core.joran.GenericXMLConfigurator.populateSaxEventRecorder(GenericXMLConfigurator.java:178)\r\n    \tat ch.qos.logback.core.joran.GenericXMLConfigurator.doConfigure(GenericXMLConfigurator.java:159)\r\n    \tat ch.qos.logback.core.joran.GenericXMLConfigurator.doConfigure(GenericXMLConfigurator.java:122)\r\n    \tat ch.qos.logback.core.joran.GenericXMLConfigurator.doConfigure(GenericXMLConfigurator.java:65)\r\n    \tat org.springframework.boot.logging.logback.LogbackLoggingSystem.configureByResourceUrl(LogbackLoggingSystem.java:260)\r\n    \tat org.springframework.boot.logging.logback.LogbackLoggingSystem.loadConfiguration(LogbackLoggingSystem.java:237)\r\n    \t... 24 more\r\n    Caused by: org.xml.sax.SAXParseException; systemId: file:/C:/gitlabProjects/project1/car_dealer/cardealer/target/classes/logback.xml; lineNumber: 1; columnNumber: 39; Content is not allowed in prolog.\r\n    \tat java.xml/com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1251)\r\n    \tat java.xml/com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:637)\r\n    \tat java.xml/com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl.parse(SAXParserImpl.java:326)\r\n    \tat ch.qos.logback.core.joran.event.SaxEventRecorder.recordEvents(SaxEventRecorder.java:64)\r\n    \t... 30 more\r\n\r\n\r\n","title":"Logging system failed to initialize using configuration from &#39;null&#39;","body":"<p>Hi Im making a big MVC project and now I'm trying to implement a logging functionallity through .xml file. I've triple checked the heading for typos and tried using differend encodings but nothing worked. I've added appenders for RollingFile and ConsoleAppender.I want to make a log containing name,date and level.I think thats all</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;configuration&gt;\n    &lt;include resource=&quot;org/springframework/boot/logging/logback/defaults.xml&quot;/&gt;\n    &lt;property name=&quot;LOG_FILE&quot; value=&quot;logs/app.log&quot;/&gt;\n\n    &lt;appender name=&quot;FILE-ROLLING&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\n        &lt;file&gt;${LOG_FILE}&lt;/file&gt;\n\n        &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy&quot;&gt;\n            &lt;fileNamePattern&gt;logs/archived/app.%d{yyyy-MM-dd}.%i.log&lt;/fileNamePattern&gt;\n            &lt;!-- each archived file, size max 5KB --&gt;\n            &lt;maxFileSize&gt;5KB&lt;/maxFileSize&gt;\n            &lt;!-- total size of all archive files, if total size &gt; 20KB,\n                it will delete old archived file --&gt;\n            &lt;totalSizeCap&gt;20KB&lt;/totalSizeCap&gt;\n            &lt;!-- 60 days to keep --&gt;\n            &lt;maxHistory&gt;60&lt;/maxHistory&gt;\n        &lt;/rollingPolicy&gt;\n\n        &lt;encoder&gt;\n            &lt;pattern&gt;%d %p %c{1.} [%t] %m%n&lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n\n    &lt;appender name=&quot;CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n        &lt;layout class=&quot;ch.qos.logback.classic.PatternLayout&quot;&gt;\n            &lt;Pattern&gt;\n                %d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n\n            &lt;/Pattern&gt;\n        &lt;/layout&gt;\n    &lt;/appender&gt;\n\n\n\n\n    &lt;logger name=&quot;com.dailycodebuffer&quot; level=&quot;error&quot; additivity=&quot;false&quot;&gt;\n        &lt;appender-ref ref=&quot;EMAIL&quot;/&gt;\n    &lt;/logger&gt;\n\n    &lt;logger name=&quot;com.dailycodebuffer&quot; level=&quot;trace&quot; additivity=&quot;false&quot;&gt;\n        &lt;appender-ref ref=&quot;FILE-ROLLING&quot;/&gt;\n    &lt;/logger&gt;\n\n    &lt;root level=&quot;error&quot;&gt;\n        &lt;appender-ref ref=&quot;FILE-ROLLING&quot;/&gt;\n    &lt;/root&gt;\n\n    &lt;logger name=&quot;com.dailycodebuffer&quot; level=&quot;debug&quot; additivity=&quot;false&quot;&gt;\n        &lt;appender-ref ref=&quot;CONSOLE&quot;/&gt;\n    &lt;/logger&gt;\n    &lt;root level=&quot;error&quot;&gt;\n        &lt;appender-ref ref=&quot;CONSOLE&quot;/&gt;\n    &lt;/root&gt;\n\n&lt;/configuration&gt;\n</code></pre>\n<p>the error im getting</p>\n<pre><code> Logging system failed to initialize using configuration from 'null'\njava.lang.IllegalStateException: Could not initialize Logback logging from classpath:logback.xml\n    at org.springframework.boot.logging.logback.LogbackLoggingSystem.loadConfiguration(LogbackLoggingSystem.java:240)\n    at org.springframework.boot.logging.logback.LogbackLoggingSystem.reinitialize(LogbackLoggingSystem.java:307)\n    at org.springframework.boot.logging.AbstractLoggingSystem.initializeWithConventions(AbstractLoggingSystem.java:73)\n    at org.springframework.boot.logging.AbstractLoggingSystem.initialize(AbstractLoggingSystem.java:60)\n    at org.springframework.boot.logging.logback.LogbackLoggingSystem.initialize(LogbackLoggingSystem.java:186)\n    at org.springframework.boot.context.logging.LoggingApplicationListener.initializeSystem(LoggingApplicationListener.java:332)\n    at org.springframework.boot.context.logging.LoggingApplicationListener.initialize(LoggingApplicationListener.java:298)\n    at org.springframework.boot.context.logging.LoggingApplicationListener.onApplicationEnvironmentPreparedEvent(LoggingApplicationListener.java:246)\n    at org.springframework.boot.context.logging.LoggingApplicationListener.onApplicationEvent(LoggingApplicationListener.java:223)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131)\n    at org.springframework.boot.context.event.EventPublishingRunListener.multicastInitialEvent(EventPublishingRunListener.java:136)\n    at org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:81)\n    at org.springframework.boot.SpringApplicationRunListeners.lambda$environmentPrepared$2(SpringApplicationRunListeners.java:64)\n    at java.base/java.lang.Iterable.forEach(Iterable.java:75)\n    at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:118)\n    at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:112)\n    at org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:63)\n    at org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:352)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:303)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)\n    at com.myfirm.CarDealer.CarDealerApplication.main(CarDealerApplication.java:10)\nCaused by: ch.qos.logback.core.joran.spi.JoranException: Problem parsing XML document. See previously reported errors.\n    at ch.qos.logback.core.joran.event.SaxEventRecorder.recordEvents(SaxEventRecorder.java:71)\n    at ch.qos.logback.core.joran.GenericXMLConfigurator.populateSaxEventRecorder(GenericXMLConfigurator.java:178)\n    at ch.qos.logback.core.joran.GenericXMLConfigurator.doConfigure(GenericXMLConfigurator.java:159)\n    at ch.qos.logback.core.joran.GenericXMLConfigurator.doConfigure(GenericXMLConfigurator.java:122)\n    at ch.qos.logback.core.joran.GenericXMLConfigurator.doConfigure(GenericXMLConfigurator.java:65)\n    at org.springframework.boot.logging.logback.LogbackLoggingSystem.configureByResourceUrl(LogbackLoggingSystem.java:260)\n    at org.springframework.boot.logging.logback.LogbackLoggingSystem.loadConfiguration(LogbackLoggingSystem.java:237)\n    ... 24 more\nCaused by: org.xml.sax.SAXParseException; systemId: file:/C:/gitlabProjects/project1/car_dealer/cardealer/target/classes/logback.xml; lineNumber: 1; columnNumber: 39; Content is not allowed in prolog.\n    at java.xml/com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1251)\n    at java.xml/com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:637)\n    at java.xml/com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl.parse(SAXParserImpl.java:326)\n    at ch.qos.logback.core.joran.event.SaxEventRecorder.recordEvents(SaxEventRecorder.java:64)\n    ... 30 more\n</code></pre>\n"},{"tags":["java","android","firebase","google-cloud-platform"],"comments":[{"owner":{"account_id":26351131,"reputation":79,"user_id":20397293,"display_name":"Puru Chaudhary"},"score":0,"creation_date":1668403876,"post_id":74423727,"comment_id":131388164,"body_markdown":"harsh brother i tried some methods but all turned irrevelants","body":"harsh brother i tried some methods but all turned irrevelants"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1668423696,"post_id":74423727,"comment_id":131393523,"body_markdown":"I&#39;m having a hard time understanding what the problem is.\nWhat exactly in this code doesn&#39;t work the way you expect?\nTell us what is wrong with shared code. Do you have any errors?","body":"I&#39;m having a hard time understanding what the problem is. What exactly in this code doesn&#39;t work the way you expect? Tell us what is wrong with shared code. Do you have any errors?"},{"owner":{"account_id":26351131,"reputation":79,"user_id":20397293,"display_name":"Puru Chaudhary"},"score":0,"creation_date":1668424732,"post_id":74423727,"comment_id":131393835,"body_markdown":"I am working on an chat app and this is the code to get the recent chats with whom i have interacted so while sending the messages i have saved the users ids in the recent chats in keys and now i m getting the keys and then i m querying the key to get the users details","body":"I am working on an chat app and this is the code to get the recent chats with whom i have interacted so while sending the messages i have saved the users ids in the recent chats in keys and now i m getting the keys and then i m querying the key to get the users details"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1668425489,"post_id":74423727,"comment_id":131394072,"body_markdown":"Ok, then  what is wrong with shared code?","body":"Ok, then  what is wrong with shared code?"},{"owner":{"account_id":26351131,"reputation":79,"user_id":20397293,"display_name":"Puru Chaudhary"},"score":0,"creation_date":1668426025,"post_id":74423727,"comment_id":131394241,"body_markdown":"so as you can see that in the firestore query code i have added the data in the arraylist to show in the recyclerview and which is showing but i want to show some data from the collection &quot;recent_chats&quot; collection as well in the same arraylist how can i do that","body":"so as you can see that in the firestore query code i have added the data in the arraylist to show in the recyclerview and which is showing but i want to show some data from the collection &quot;recent_chats&quot; collection as well in the same arraylist how can i do that"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1668427012,"post_id":74423727,"comment_id":131394472,"body_markdown":"It&#39;s hard for me to understand what you&#39;re looking for. Please edit your question and add your database structure as a screenshot and indicate the exact data you want to get.","body":"It&#39;s hard for me to understand what you&#39;re looking for. Please edit your question and add your database structure as a screenshot and indicate the exact data you want to get."},{"owner":{"account_id":26351131,"reputation":79,"user_id":20397293,"display_name":"Puru Chaudhary"},"score":0,"creation_date":1668427750,"post_id":74423727,"comment_id":131394691,"body_markdown":"Sir please check i have added","body":"Sir please check i have added"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1668428435,"post_id":74423727,"comment_id":131394921,"body_markdown":"Do you need to get everything under `Recent_Chats`? Or what exists under a specific UID?","body":"Do you need to get everything under <code>Recent_Chats</code>? Or what exists under a specific UID?"},{"owner":{"account_id":26351131,"reputation":79,"user_id":20397293,"display_name":"Puru Chaudhary"},"score":0,"creation_date":1668439301,"post_id":74423727,"comment_id":131398967,"body_markdown":"by specific UID&#39;s Sir","body":"by specific UID&#39;s Sir"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1668441959,"post_id":74423727,"comment_id":131399976,"body_markdown":"Please edit your question and also add the content of your  `Recent_Chat_User` class.","body":"Please edit your question and also add the content of your  <code>Recent_Chat_User</code> class."},{"owner":{"account_id":26351131,"reputation":79,"user_id":20397293,"display_name":"Puru Chaudhary"},"score":0,"creation_date":1668442197,"post_id":74423727,"comment_id":131400054,"body_markdown":"sir as i have added the image of datase in databse there are three things and i need two out of them one is time to show the last message time of message and second is message","body":"sir as i have added the image of datase in databse there are three things and i need two out of them one is time to show the last message time of message and second is message"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1668442475,"post_id":74423727,"comment_id":131400156,"body_markdown":"So are you willing to show us the `Recent_Chat_User` class?","body":"So are you willing to show us the <code>Recent_Chat_User</code> class?"},{"owner":{"account_id":26351131,"reputation":79,"user_id":20397293,"display_name":"Puru Chaudhary"},"score":0,"creation_date":1668442660,"post_id":74423727,"comment_id":131400229,"body_markdown":"yes sir i want to add this class data in the  arraylist called &quot;userarraylist&quot;","body":"yes sir i want to add this class data in the  arraylist called &quot;userarraylist&quot;"},{"owner":{"account_id":26351131,"reputation":79,"user_id":20397293,"display_name":"Puru Chaudhary"},"score":0,"creation_date":1668442687,"post_id":74423727,"comment_id":131400239,"body_markdown":"simaltaneously adding data from the firestore","body":"simaltaneously adding data from the firestore"}],"owner":{"account_id":26351131,"reputation":79,"user_id":20397293,"display_name":"Puru Chaudhary"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1668446019,"creation_date":1668364904,"question_id":74423727,"body_markdown":"Hey I am working on an application. So I am getting the user ids from a collection called &quot;Recent Chats&quot; where I have added the users ids in keys. Now I am doing a query using that key (i got from Recent Chats) in the collection called &quot;Users&quot; to get that Particular Users data and then adding the data in the arraylist &quot;usersarraylist&quot;. But  also want data inside the Recent Chats in that arraylist. How can i get that?\r\n\r\n`\r\n```\r\n\r\nString recentUserId;\r\n\r\nfirebaseDatabase.getReference().child(&quot;Recent_Chats&quot;).child(auth.getUid()).get().addOnSuccessListener(new OnSuccessListener&lt;DataSnapshot&gt;() {\r\n    @Override\r\n    public void onSuccess(DataSnapshot dataSnapshot) {\r\n\r\n        for (DataSnapshot snapshot1 : dataSnapshot.getChildren()) {\r\n\r\n             recentUserId = snapshot1.getKey();\r\n\r\n//           want to add data from here to the same arralist &quot;userArrayList&quot;\r\n             Recent_Chat_User recentChatUser = snapshot1.getValue(Recent_Chat_User.class);\r\n\r\n//          Code to query on firestore \r\n\r\n            Query query = firebaseFirestore.collection(&quot;Users&quot;).whereEqualTo(&quot;uid&quot;, recentUserId);\r\n            query.get().addOnSuccessListener(new OnSuccessListener&lt;QuerySnapshot&gt;() {\r\n                @Override\r\n                public void onSuccess(QuerySnapshot queryDocumentSnapshots) {\r\n\r\n\r\n                    List&lt;DocumentSnapshot&gt; list = queryDocumentSnapshots.getDocuments();\r\n                    for (DocumentSnapshot d : list)\r\n                    {\r\n                        Recent_Chat_User obj = d.toObject(Recent_Chat_User.class);\r\n                        userArrayList.add(obj);\r\n\r\n                    }\r\n\r\n                    adapter.notifyDataSetChanged();\r\n\r\n\r\n                    if (userArrayList.isEmpty())\r\n                    {\r\n                        binding.imageView19.setVisibility(View.VISIBLE);\r\n                        binding.noChat.setVisibility(View.VISIBLE);\r\n                    }else\r\n                    {\r\n\r\n                        binding.imageView19.setVisibility(View.GONE);\r\n                        binding.noChat.setVisibility(View.GONE);\r\n                    }\r\n\r\n                }\r\n            });\r\n\r\n\r\n        }\r\n\r\n    }\r\n```\r\n`\r\n\r\n\r\nSo i want to get the collection &quot;recent_chats&quot; data in arraylist &quot;userArrayList&quot;\r\n\r\n[Check the Image Here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/E3YrW.png","title":"adding firebase data in arraylist android is not working?","body":"<p>Hey I am working on an application. So I am getting the user ids from a collection called &quot;Recent Chats&quot; where I have added the users ids in keys. Now I am doing a query using that key (i got from Recent Chats) in the collection called &quot;Users&quot; to get that Particular Users data and then adding the data in the arraylist &quot;usersarraylist&quot;. But  also want data inside the Recent Chats in that arraylist. How can i get that?</p>\n<p>`</p>\n<pre><code>\nString recentUserId;\n\nfirebaseDatabase.getReference().child(&quot;Recent_Chats&quot;).child(auth.getUid()).get().addOnSuccessListener(new OnSuccessListener&lt;DataSnapshot&gt;() {\n    @Override\n    public void onSuccess(DataSnapshot dataSnapshot) {\n\n        for (DataSnapshot snapshot1 : dataSnapshot.getChildren()) {\n\n             recentUserId = snapshot1.getKey();\n\n//           want to add data from here to the same arralist &quot;userArrayList&quot;\n             Recent_Chat_User recentChatUser = snapshot1.getValue(Recent_Chat_User.class);\n\n//          Code to query on firestore \n\n            Query query = firebaseFirestore.collection(&quot;Users&quot;).whereEqualTo(&quot;uid&quot;, recentUserId);\n            query.get().addOnSuccessListener(new OnSuccessListener&lt;QuerySnapshot&gt;() {\n                @Override\n                public void onSuccess(QuerySnapshot queryDocumentSnapshots) {\n\n\n                    List&lt;DocumentSnapshot&gt; list = queryDocumentSnapshots.getDocuments();\n                    for (DocumentSnapshot d : list)\n                    {\n                        Recent_Chat_User obj = d.toObject(Recent_Chat_User.class);\n                        userArrayList.add(obj);\n\n                    }\n\n                    adapter.notifyDataSetChanged();\n\n\n                    if (userArrayList.isEmpty())\n                    {\n                        binding.imageView19.setVisibility(View.VISIBLE);\n                        binding.noChat.setVisibility(View.VISIBLE);\n                    }else\n                    {\n\n                        binding.imageView19.setVisibility(View.GONE);\n                        binding.noChat.setVisibility(View.GONE);\n                    }\n\n                }\n            });\n\n\n        }\n\n    }\n</code></pre>\n<p>`</p>\n<p>So i want to get the collection &quot;recent_chats&quot; data in arraylist &quot;userArrayList&quot;</p>\n<p><a href=\"https://i.stack.imgur.com/E3YrW.png\" rel=\"nofollow noreferrer\">Check the Image Here</a></p>\n"},{"tags":["java","linux","nio"],"answers":[{"comments":[{"owner":{"account_id":86953,"reputation":16978,"user_id":241453,"accept_rate":71,"display_name":"mstrap"},"score":0,"creation_date":1668702143,"post_id":74433815,"comment_id":131475514,"body_markdown":"In which package is your `UnixFileAttributes` class located? On Windows, `UnixFileAttributes` doesn&#39;t seem to be present (Java 11). Hence, my attempt with reflection.","body":"In which package is your <code>UnixFileAttributes</code> class located? On Windows, <code>UnixFileAttributes</code> doesn&#39;t seem to be present (Java 11). Hence, my attempt with reflection."},{"owner":{"account_id":1047596,"reputation":9325,"user_id":1052284,"accept_rate":44,"display_name":"Mark Jeronimus"},"score":0,"creation_date":1668949162,"post_id":74433815,"comment_id":131525354,"body_markdown":"As you seen in my code, in `sun.nio.fs.UnixFileAttributes`. This *is* a proprietary package so it indeed may differ for you. (the &#39;no guarantee&#39; I talked about)","body":"As you seen in my code, in <code>sun.nio.fs.UnixFileAttributes</code>. This <i>is</i> a proprietary package so it indeed may differ for you. (the &#39;no guarantee&#39; I talked about)"}],"tags":[],"owner":{"account_id":1047596,"reputation":9325,"user_id":1052284,"accept_rate":44,"display_name":"Mark Jeronimus"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668445932,"creation_date":1668438544,"answer_id":74433815,"question_id":45377544,"body_markdown":"In my Java, there&#39;s a package-private method just to unwrap the wrapped attributes. No guarantee that any Java will contain this method. For now this works for me and I hope it does for you too.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI can call this method with the following code.\r\n\r\nYou came very close with your attempt at https://stackoverflow.com/q/46676279/1052284. I simplified it a bit for this question.\r\n\r\n\ttry {\r\n\t\tClass&lt;?&gt; basicFileAttributesClass = Class.forName(&quot;java.nio.file.attribute.BasicFileAttributes&quot;);\r\n\t\tClass&lt;?&gt; unixFileAttributesClass  = Class.forName(&quot;sun.nio.fs.UnixFileAttributes&quot;);\r\n\r\n\t\tMethod toUnixFileAttributesMethod =\r\n\t\t\t\tunixFileAttributesClass.getDeclaredMethod(&quot;toUnixFileAttributes&quot;, basicFileAttributesClass);\r\n\t\ttoUnixFileAttributesMethod.setAccessible(true);\r\n\r\n\t\tattrs = (BasicFileAttributes)toUnixFileAttributesMethod.invoke(unixFileAttributesClass, attrs);\r\n\t} catch (ReflectiveOperationException ex) {\r\n\t\tthrow new RuntimeException(ex);\r\n\t}\r\n\r\nFor Java 9 and up, the `setAccessible()` checks module permissions, which your module doesn&#39;t have. This can be unlocked with the VM option `--add-opens java.base/sun.nio.fs=ALL-UNNAMED`.\r\n\r\n  [1]: https://i.stack.imgur.com/XVm6h.png\r\n","title":"How to retrieve Java NIO PosixFilePermission during a Files.walkFileTree?","body":"<p>In my Java, there's a package-private method just to unwrap the wrapped attributes. No guarantee that any Java will contain this method. For now this works for me and I hope it does for you too.</p>\n<p><a href=\"https://i.stack.imgur.com/XVm6h.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XVm6h.png\" alt=\"enter image description here\" /></a></p>\n<p>I can call this method with the following code.</p>\n<p>You came very close with your attempt at <a href=\"https://stackoverflow.com/q/46676279/1052284\">Java 9: How to retrieve the ctime in FileVisitor.visitFile()?</a>. I simplified it a bit for this question.</p>\n<pre><code>try {\n    Class&lt;?&gt; basicFileAttributesClass = Class.forName(&quot;java.nio.file.attribute.BasicFileAttributes&quot;);\n    Class&lt;?&gt; unixFileAttributesClass  = Class.forName(&quot;sun.nio.fs.UnixFileAttributes&quot;);\n\n    Method toUnixFileAttributesMethod =\n            unixFileAttributesClass.getDeclaredMethod(&quot;toUnixFileAttributes&quot;, basicFileAttributesClass);\n    toUnixFileAttributesMethod.setAccessible(true);\n\n    attrs = (BasicFileAttributes)toUnixFileAttributesMethod.invoke(unixFileAttributesClass, attrs);\n} catch (ReflectiveOperationException ex) {\n    throw new RuntimeException(ex);\n}\n</code></pre>\n<p>For Java 9 and up, the <code>setAccessible()</code> checks module permissions, which your module doesn't have. This can be unlocked with the VM option <code>--add-opens java.base/sun.nio.fs=ALL-UNNAMED</code>.</p>\n"}],"owner":{"account_id":86953,"reputation":16978,"user_id":241453,"accept_rate":71,"display_name":"mstrap"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1668445932,"creation_date":1501256643,"question_id":45377544,"body_markdown":"On Unix, `Files.walkFileTree` will callback `FileVisitor.visitFile` with `BasicFileAttributes` which are actually `sun.nio.fs.UnixFileAttributes$UnixAsBasicFileAttributes`. As the debugger shows, the wrapped `UnixFileAttributes` already contain permission information (`st_mode` field is populated). Is there a (graceful) way to _unwrap_ the `UnixFileAttributes$UnixAsBasicFileAttributes` in order to get at least `PosixFileAttributes` so the permissions will be accessible? Reflection does not work for me, but results in an `IllegalAccessError` when trying to invoke `UnixFileAttributes$UnixAsBasicFileAttributes.unwrap`.\r\n\r\nAlso, I want to avoid to explicitly call `Files.getPosixFilePermissions(file)` for every reported file as this gives roughly 10% overhead for my test cases.","title":"How to retrieve Java NIO PosixFilePermission during a Files.walkFileTree?","body":"<p>On Unix, <code>Files.walkFileTree</code> will callback <code>FileVisitor.visitFile</code> with <code>BasicFileAttributes</code> which are actually <code>sun.nio.fs.UnixFileAttributes$UnixAsBasicFileAttributes</code>. As the debugger shows, the wrapped <code>UnixFileAttributes</code> already contain permission information (<code>st_mode</code> field is populated). Is there a (graceful) way to <em>unwrap</em> the <code>UnixFileAttributes$UnixAsBasicFileAttributes</code> in order to get at least <code>PosixFileAttributes</code> so the permissions will be accessible? Reflection does not work for me, but results in an <code>IllegalAccessError</code> when trying to invoke <code>UnixFileAttributes$UnixAsBasicFileAttributes.unwrap</code>.</p>\n\n<p>Also, I want to avoid to explicitly call <code>Files.getPosixFilePermissions(file)</code> for every reported file as this gives roughly 10% overhead for my test cases.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":10907310,"reputation":2214,"user_id":8017666,"display_name":"SRJ"},"score":0,"creation_date":1668176119,"post_id":74403715,"comment_id":131348741,"body_markdown":"Can you add more details about the problem ? please share some code as well if possible.","body":"Can you add more details about the problem ? please share some code as well if possible."},{"owner":{"account_id":9941523,"reputation":1018,"user_id":7357959,"display_name":"Tsvetoslav Tsvetkov"},"score":0,"creation_date":1668176228,"post_id":74403715,"comment_id":131348790,"body_markdown":"Did you try this annoation @JsonPropertyOrder({ &quot;key&quot;, &quot;value&quot;})","body":"Did you try this annoation @JsonPropertyOrder({ &quot;key&quot;, &quot;value&quot;})"},{"owner":{"account_id":383332,"reputation":1147,"user_id":739115,"accept_rate":54,"display_name":"user739115"},"score":1,"creation_date":1668176477,"post_id":74403715,"comment_id":131348896,"body_markdown":"simply we are getting the request ,and adding some items to list to the final response and showing to the user.","body":"simply we are getting the request ,and adding some items to list to the final response and showing to the user."},{"owner":{"account_id":10907310,"reputation":2214,"user_id":8017666,"display_name":"SRJ"},"score":0,"creation_date":1668176968,"post_id":74403715,"comment_id":131349129,"body_markdown":"it may help https://stackoverflow.com/questions/33559459/preserving-order-in-java-object-to-json-with-spring-framework","body":"it may help <a href=\"https://stackoverflow.com/questions/33559459/preserving-order-in-java-object-to-json-with-spring-framework\" title=\"preserving order in java object to json with spring framework\">stackoverflow.com/questions/33559459/&hellip;</a>"},{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1668176989,"post_id":74403715,"comment_id":131349136,"body_markdown":"The array is in its exact input order, the order of the keys of the object per array item differ, but that is of no importance.","body":"The array is in its exact input order, the order of the keys of the object per array item differ, but that is of no importance."},{"owner":{"account_id":383332,"reputation":1147,"user_id":739115,"accept_rate":54,"display_name":"user739115"},"score":0,"creation_date":1668178453,"post_id":74403715,"comment_id":131349714,"body_markdown":"in my case request and response classes will be automatically generated based upon on the json definition so cannot use @JsonPropertyOrder.","body":"in my case request and response classes will be automatically generated based upon on the json definition so cannot use @JsonPropertyOrder."},{"owner":{"account_id":1464652,"reputation":12323,"user_id":1377895,"accept_rate":100,"display_name":"Roman Vottner"},"score":0,"creation_date":1668185265,"post_id":74403715,"comment_id":131352079,"body_markdown":"[`JSON parsing libraries have been observed to differ as to whether or not they make the ordering of object members visible to calling software. Implementations whose behavior does not depend on member ordering will be interoperable in the sense that they will not be affected by these differences.`](https://datatracker.ietf.org/doc/html/rfc8259#section-4)","body":"<a href=\"https://datatracker.ietf.org/doc/html/rfc8259#section-4\" rel=\"nofollow noreferrer\"><code>JSON parsing libraries have been observed to differ as to whether or not they make the ordering of object members visible to calling software. Implementations whose behavior does not depend on member ordering will be interoperable in the sense that they will not be affected by these differences.</code></a>"}],"owner":{"account_id":383332,"reputation":1147,"user_id":739115,"accept_rate":54,"display_name":"user739115"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668445906,"creation_date":1668175760,"question_id":74403715,"body_markdown":"\r\nhow to preserve the json array order in the response value which came up in request body. \r\n\r\nhow to preserve the identifiers order in the response as well?\r\n\r\n    request\r\n       \r\n    \r\n         --------  \r\n              {\r\n                \t&quot;income&quot;: &quot;xyz&quot;,\r\n                \t&quot;test&quot;: &quot;1234&quot;,\r\n                \t&quot;identifiers&quot;: [{\r\n                \t\t\t&quot;key&quot;: &quot;test&quot;,\r\n                \t\t\t&quot;value&quot;: 5678\r\n                \t\t},\r\n                \t\t{\r\n                \t\t\t&quot;key&quot;: &quot;test1&quot;,\r\n                \t\t\t&quot;value&quot;: 1235\r\n                \t\t}\r\n                \t]\r\n                \r\n                }\r\n        \r\n    response\r\n    --------  \r\n  \r\n\r\n    {\r\n        \t&quot;income&quot;: &quot;xyz&quot;,\r\n        \t&quot;test&quot;: &quot;1234&quot;,\r\n        \t&quot;identifiers&quot;: [{\r\n                    &quot;value&quot;: 5678,\r\n        \t\t\t&quot;key&quot;: &quot;test&quot;\r\n        \t\t\t\r\n        \t\t},\r\n        \t\t{\r\n                   &quot;value&quot;: 1235,\r\n        \t\t\t&quot;key&quot;: &quot;test1&quot;\r\n        \t\t\t\r\n        \t\t}\r\n        \t]\r\n        \r\n        }\r\n\r\n","title":"how to preserve the json array order in the response in REST API","body":"<p>how to preserve the json array order in the response value which came up in request body.</p>\n<p>how to preserve the identifiers order in the response as well?</p>\n<pre><code>request\n   \n\n     --------  \n          {\n                &quot;income&quot;: &quot;xyz&quot;,\n                &quot;test&quot;: &quot;1234&quot;,\n                &quot;identifiers&quot;: [{\n                        &quot;key&quot;: &quot;test&quot;,\n                        &quot;value&quot;: 5678\n                    },\n                    {\n                        &quot;key&quot;: &quot;test1&quot;,\n                        &quot;value&quot;: 1235\n                    }\n                ]\n            \n            }\n    \nresponse\n--------  \n\n\n{\n        &quot;income&quot;: &quot;xyz&quot;,\n        &quot;test&quot;: &quot;1234&quot;,\n        &quot;identifiers&quot;: [{\n                &quot;value&quot;: 5678,\n                &quot;key&quot;: &quot;test&quot;\n                \n            },\n            {\n               &quot;value&quot;: 1235,\n                &quot;key&quot;: &quot;test1&quot;\n                \n            }\n        ]\n    \n    }\n</code></pre>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":9382894,"reputation":101,"user_id":8315708,"display_name":"Taras Shpek"},"score":0,"creation_date":1669585637,"post_id":7421474,"comment_id":131669521,"body_markdown":"How to dynamically ignore fields during the serialization: https://stackoverflow.com/a/74594018/8315708","body":"How to dynamically ignore fields during the serialization: <a href=\"https://stackoverflow.com/a/74594018/8315708\">stackoverflow.com/a/74594018/8315708</a>"}],"answers":[{"comments":[{"owner":{"account_id":29567,"reputation":59708,"user_id":80002,"accept_rate":64,"display_name":"mark"},"score":1,"creation_date":1363795989,"post_id":7422285,"comment_id":21997425,"body_markdown":"And if the property is machine generated and has unsupported characters in its name? Like &#39;@&#39;? JVM allows it, but Java compiler does not. Does Jackson have solution for this?","body":"And if the property is machine generated and has unsupported characters in its name? Like &#39;@&#39;? JVM allows it, but Java compiler does not. Does Jackson have solution for this?"},{"owner":{"account_id":1380055,"reputation":17338,"user_id":1313268,"accept_rate":88,"display_name":"CorayThan"},"score":5,"creation_date":1456306274,"post_id":7422285,"comment_id":58881198,"body_markdown":"And in jackson 2.2 it&#39;s `objectMapper.addMixInAnnotations(Class&lt;?&gt; target, Class&lt;?&gt; mixinSource);`","body":"And in jackson 2.2 it&#39;s <code>objectMapper.addMixInAnnotations(Class&lt;?&gt; target, Class&lt;?&gt; mixinSource);</code>"},{"owner":{"account_id":3841568,"reputation":4593,"user_id":3184475,"accept_rate":80,"display_name":"Erran Morad"},"score":0,"creation_date":1573352581,"post_id":7422285,"comment_id":103853591,"body_markdown":"How do I ignore by specifying the property name instead of getter ?","body":"How do I ignore by specifying the property name instead of getter ?"},{"owner":{"account_id":8460659,"reputation":2301,"user_id":6346531,"display_name":"aksh1618"},"score":0,"creation_date":1600087522,"post_id":7422285,"comment_id":112968502,"body_markdown":"Also works for property defined in mixin class: `@JsonIgnore private HttpClient httpClient;`","body":"Also works for property defined in mixin class: <code>@JsonIgnore private HttpClient httpClient;</code>"},{"owner":{"account_id":198567,"reputation":706,"user_id":443309,"accept_rate":25,"display_name":"gkns"},"score":0,"creation_date":1652162064,"post_id":7422285,"comment_id":127532535,"body_markdown":"Just make sure to remove `mapper.disable(MapperFeature.USE_ANNOTATIONS);` If it is configured earlier, otherwise this Mixin annotations won&#39;t have any effect.","body":"Just make sure to remove <code>mapper.disable(MapperFeature.USE_ANNOTATIONS);</code> If it is configured earlier, otherwise this Mixin annotations won&#39;t have any effect."}],"tags":[],"owner":{"account_id":183607,"reputation":33842,"user_id":419075,"accept_rate":96,"display_name":"Amir Raminfar"},"comment_count":5,"down_vote_count":1,"up_vote_count":212,"is_accepted":true,"score":211,"last_activity_date":1555081366,"creation_date":1316030471,"answer_id":7422285,"question_id":7421474,"body_markdown":"You can use [Jackson Mixins][1]. For example:\r\n\r\n    class YourClass {\r\n      public int ignoreThis() { return 0; }    \r\n    }\r\n\r\nWith this Mixin\r\n\r\n    abstract class MixIn {\r\n      @JsonIgnore abstract int ignoreThis(); // we don&#39;t need it!  \r\n    }\r\n\r\nWith this:\r\n\r\n    objectMapper.getSerializationConfig().addMixInAnnotations(YourClass.class, MixIn.class);\r\n\r\nEdit:\r\n\r\nThanks to the comments, with Jackson 2.5+, the API has changed and should be called with `objectMapper.addMixIn(Class&lt;?&gt; target, Class&lt;?&gt; mixinSource)`\r\n\r\n\r\n  [1]: https://github.com/FasterXML/jackson-docs/wiki/JacksonMixInAnnotations","title":"How can I tell jackson to ignore a property for which I don&#39;t have control over the source code?","body":"<p>You can use <a href=\"https://github.com/FasterXML/jackson-docs/wiki/JacksonMixInAnnotations\" rel=\"noreferrer\">Jackson Mixins</a>. For example:</p>\n\n<pre><code>class YourClass {\n  public int ignoreThis() { return 0; }    \n}\n</code></pre>\n\n<p>With this Mixin</p>\n\n<pre><code>abstract class MixIn {\n  @JsonIgnore abstract int ignoreThis(); // we don't need it!  \n}\n</code></pre>\n\n<p>With this:</p>\n\n<pre><code>objectMapper.getSerializationConfig().addMixInAnnotations(YourClass.class, MixIn.class);\n</code></pre>\n\n<p>Edit:</p>\n\n<p>Thanks to the comments, with Jackson 2.5+, the API has changed and should be called with <code>objectMapper.addMixIn(Class&lt;?&gt; target, Class&lt;?&gt; mixinSource)</code></p>\n"},{"tags":[],"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1316107410,"creation_date":1316107410,"answer_id":7434966,"question_id":7421474,"body_markdown":"Mix-in annotations work pretty well here as already mentioned. Another possibility beyond per-property @JsonIgnore is to use @JsonIgnoreType if you have a type that should never be included (i.e. if all instances of GeometryCollection properties should be ignored). You can then either add it directly (if you control the type), or using mix-in, like:\r\n\r\n    @JsonIgnoreType abstract class MixIn { }\r\n    // and then register mix-in, either via SerializationConfig, or by using SimpleModule\r\n\r\nThis can be more convenient if you have lots of classes that all have a single &#39;IgnoredType getContext()&#39; accessor or so (which is the case for many frameworks)","title":"How can I tell jackson to ignore a property for which I don&#39;t have control over the source code?","body":"<p>Mix-in annotations work pretty well here as already mentioned. Another possibility beyond per-property @JsonIgnore is to use @JsonIgnoreType if you have a type that should never be included (i.e. if all instances of GeometryCollection properties should be ignored). You can then either add it directly (if you control the type), or using mix-in, like:</p>\n\n<pre><code>@JsonIgnoreType abstract class MixIn { }\n// and then register mix-in, either via SerializationConfig, or by using SimpleModule\n</code></pre>\n\n<p>This can be more convenient if you have lots of classes that all have a single 'IgnoredType getContext()' accessor or so (which is the case for many frameworks)</p>\n"},{"comments":[{"owner":{"account_id":1877077,"reputation":1544,"user_id":2152016,"accept_rate":42,"display_name":"ms_27"},"score":7,"creation_date":1471933430,"post_id":18850479,"comment_id":65534541,"body_markdown":"It would be great if we could configure the objectMapper to ignore specifc properties only. i.e. report the exception for all new/unknown fields except lets say &#39;myfield&#39;. Something like `mapper.configure(DeserializationFeature.failOnUnknownPropertiesExcep(new String[] {&quot;myField&quot;}));`","body":"It would be great if we could configure the objectMapper to ignore specifc properties only. i.e. report the exception for all new/unknown fields except lets say &#39;myfield&#39;. Something like <code>mapper.configure(DeserializationFeature.failOnUnknownPropert&zwnj;&#8203;iesExcep(new String[] {&quot;myField&quot;}));</code>"},{"owner":{"account_id":9399,"reputation":17347,"user_id":17339,"accept_rate":87,"display_name":"Drew Stephens"},"score":1,"creation_date":1507056628,"post_id":18850479,"comment_id":80057255,"body_markdown":"Note that this can also be configured on a reader using `without()` as in: `mapper.reader().without(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES)`","body":"Note that this can also be configured on a reader using <code>without()</code> as in: <code>mapper.reader().without(DeserializationFeature.FAIL_ON_UNKNO&zwnj;&#8203;WN_PROPERTIES)</code>"},{"owner":{"account_id":80581,"reputation":3955,"user_id":227779,"accept_rate":38,"display_name":"Per Lundberg"},"score":0,"creation_date":1578918700,"post_id":18850479,"comment_id":105584125,"body_markdown":"I would strongly advise against using this mechanism. The &quot;strict&quot; mindset in Jackson, causing errors to be raised on unknown/unhandled fields is one of its strengths and matches the statically typed/compile-time-analyzed nature of Java well. It&#39;s much better to opt out from handling a given set of ignored fields instead.","body":"I would strongly advise against using this mechanism. The &quot;strict&quot; mindset in Jackson, causing errors to be raised on unknown/unhandled fields is one of its strengths and matches the statically typed/compile-time-analyzed nature of Java well. It&#39;s much better to opt out from handling a given set of ignored fields instead."}],"tags":[],"owner":{"account_id":3315140,"reputation":1249,"user_id":2787699,"accept_rate":25,"display_name":"laloumen"},"comment_count":3,"down_vote_count":0,"up_vote_count":81,"is_accepted":false,"score":81,"last_activity_date":1379423442,"creation_date":1379422507,"answer_id":18850479,"question_id":7421474,"body_markdown":"One other possibility is, if you want to ignore all unknown properties, you can configure the mapper as follows:\r\n\r\n    mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n\r\n","title":"How can I tell jackson to ignore a property for which I don&#39;t have control over the source code?","body":"<p>One other possibility is, if you want to ignore all unknown properties, you can configure the mapper as follows:</p>\n\n<pre><code>mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2409035,"reputation":1992,"user_id":2104638,"accept_rate":47,"display_name":"Pasupathi Rajamanickam"},"score":0,"creation_date":1550010632,"post_id":30831572,"comment_id":96110782,"body_markdown":"What is import for `Match.match()`?","body":"What is import for <code>Match.match()</code>?"}],"tags":[],"owner":{"account_id":224671,"reputation":4300,"user_id":484661,"accept_rate":68,"display_name":"monitorjbl"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1434297975,"creation_date":1434297975,"answer_id":30831572,"question_id":7421474,"body_markdown":"I had a similar issue, but it was related to Hibernate&#39;s bi-directional relationships. I wanted to show one side of the relationship and programmatically ignore the other, depending on what view I was dealing with. If you can&#39;t do that, you end up with nasty `StackOverflowException`s. For instance, if I had these objects\r\n\r\n    public class A{\r\n      Long id;\r\n      String name;\r\n      List&lt;B&gt; children;\r\n    }\r\n\r\n    public class B{\r\n      Long id;\r\n      A parent;\r\n    }\r\n\r\nI would want to programmatically ignore the `parent` field in B if I were looking at A, and ignore the `children` field in A if I were looking at B.\r\n\r\nI started off using mixins to do this, but that very quickly becomes horrible; you have so many useless classes laying around that exist solely to format data. I ended up writing my own serializer to handle this in a cleaner way: https://github.com/monitorjbl/json-view. \r\n\r\nIt allows you programmatically specify what fields to ignore:\r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    SimpleModule module = new SimpleModule();\r\n    module.addSerializer(JsonView.class, new JsonViewSerializer());\r\n    mapper.registerModule(module);\r\n\r\n    List&lt;A&gt; list = getListOfA();\r\n    String json = mapper.writeValueAsString(JsonView.with(list)\r\n        .onClass(B.class, match()\r\n            .exclude(&quot;parent&quot;)));\r\n\r\nIt also lets you easily specify very simplified views through wildcard matchers:\r\n\r\n    String json = mapper.writeValueAsString(JsonView.with(list)\r\n        .onClass(A.class, match()\r\n            .exclude(&quot;*&quot;)\r\n             .include(&quot;id&quot;, &quot;name&quot;)));\r\n\r\nIn my original case, the need for simple views like this was to show the bare minimum about the parent/child, but it also became useful for our role-based security. Less privileged views of objects needed to return less information about the object.\r\n\r\nAll of this comes from the serializer, but I was using Spring MVC in my app. To get it to properly handle these cases, I wrote an integration that you can drop in to existing Spring controller classes:\r\n\r\n    @Controller\r\n    public class JsonController {\r\n      private JsonResult json = JsonResult.instance();\r\n      @Autowired\r\n      private TestObjectService service;\r\n\r\n      @RequestMapping(method = RequestMethod.GET, value = &quot;/bean&quot;)\r\n      @ResponseBody\r\n      public List&lt;TestObject&gt; getTestObject() {\r\n        List&lt;TestObject&gt; list = service.list();\r\n\r\n        return json.use(JsonView.with(list)\r\n            .onClass(TestObject.class, Match.match()\r\n                .exclude(&quot;int1&quot;)\r\n                .include(&quot;ignoredDirect&quot;)))\r\n            .returnValue();\r\n      }\r\n    }\r\n\r\nBoth are available on Maven Central. I hope it helps someone else out there, this is a particularly ugly problem with Jackson that didn&#39;t have a good solution for my case.","title":"How can I tell jackson to ignore a property for which I don&#39;t have control over the source code?","body":"<p>I had a similar issue, but it was related to Hibernate's bi-directional relationships. I wanted to show one side of the relationship and programmatically ignore the other, depending on what view I was dealing with. If you can't do that, you end up with nasty <code>StackOverflowException</code>s. For instance, if I had these objects</p>\n\n<pre><code>public class A{\n  Long id;\n  String name;\n  List&lt;B&gt; children;\n}\n\npublic class B{\n  Long id;\n  A parent;\n}\n</code></pre>\n\n<p>I would want to programmatically ignore the <code>parent</code> field in B if I were looking at A, and ignore the <code>children</code> field in A if I were looking at B.</p>\n\n<p>I started off using mixins to do this, but that very quickly becomes horrible; you have so many useless classes laying around that exist solely to format data. I ended up writing my own serializer to handle this in a cleaner way: <a href=\"https://github.com/monitorjbl/json-view\" rel=\"noreferrer\">https://github.com/monitorjbl/json-view</a>. </p>\n\n<p>It allows you programmatically specify what fields to ignore:</p>\n\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nSimpleModule module = new SimpleModule();\nmodule.addSerializer(JsonView.class, new JsonViewSerializer());\nmapper.registerModule(module);\n\nList&lt;A&gt; list = getListOfA();\nString json = mapper.writeValueAsString(JsonView.with(list)\n    .onClass(B.class, match()\n        .exclude(\"parent\")));\n</code></pre>\n\n<p>It also lets you easily specify very simplified views through wildcard matchers:</p>\n\n<pre><code>String json = mapper.writeValueAsString(JsonView.with(list)\n    .onClass(A.class, match()\n        .exclude(\"*\")\n         .include(\"id\", \"name\")));\n</code></pre>\n\n<p>In my original case, the need for simple views like this was to show the bare minimum about the parent/child, but it also became useful for our role-based security. Less privileged views of objects needed to return less information about the object.</p>\n\n<p>All of this comes from the serializer, but I was using Spring MVC in my app. To get it to properly handle these cases, I wrote an integration that you can drop in to existing Spring controller classes:</p>\n\n<pre><code>@Controller\npublic class JsonController {\n  private JsonResult json = JsonResult.instance();\n  @Autowired\n  private TestObjectService service;\n\n  @RequestMapping(method = RequestMethod.GET, value = \"/bean\")\n  @ResponseBody\n  public List&lt;TestObject&gt; getTestObject() {\n    List&lt;TestObject&gt; list = service.list();\n\n    return json.use(JsonView.with(list)\n        .onClass(TestObject.class, Match.match()\n            .exclude(\"int1\")\n            .include(\"ignoredDirect\")))\n        .returnValue();\n  }\n}\n</code></pre>\n\n<p>Both are available on Maven Central. I hope it helps someone else out there, this is a particularly ugly problem with Jackson that didn't have a good solution for my case.</p>\n"},{"tags":[],"owner":{"account_id":2348323,"reputation":13158,"user_id":2057902,"accept_rate":80,"display_name":"Sireesh Yarlagadda"},"comment_count":0,"down_vote_count":0,"up_vote_count":47,"is_accepted":false,"score":47,"last_activity_date":1504624441,"creation_date":1437667045,"answer_id":31592452,"question_id":7421474,"body_markdown":"**Using Java Class**\r\n\r\n    new ObjectMapper().configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false)\r\n\r\n**Using Annotation**\r\n\r\n    @JsonIgnoreProperties(ignoreUnknown=true)","title":"How can I tell jackson to ignore a property for which I don&#39;t have control over the source code?","body":"<p><strong>Using Java Class</strong></p>\n\n<pre><code>new ObjectMapper().configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false)\n</code></pre>\n\n<p><strong>Using Annotation</strong></p>\n\n<pre><code>@JsonIgnoreProperties(ignoreUnknown=true)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3195718,"reputation":506,"user_id":2698939,"accept_rate":33,"display_name":"Vladimir Filipchenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668445844,"creation_date":1441112650,"answer_id":32332455,"question_id":7421474,"body_markdown":"One more good point here is to use `@JsonFilter`. \r\nSome details here [Feature: JSON Filter][1]\r\n\r\n\r\n  [1]: https://web.archive.org/web/20170810222415/http://wiki.fasterxml.com:80/JacksonFeatureJsonFilter","title":"How can I tell jackson to ignore a property for which I don&#39;t have control over the source code?","body":"<p>One more good point here is to use <code>@JsonFilter</code>.\nSome details here <a href=\"https://web.archive.org/web/20170810222415/http://wiki.fasterxml.com:80/JacksonFeatureJsonFilter\" rel=\"nofollow noreferrer\">Feature: JSON Filter</a></p>\n"},{"comments":[{"owner":{"account_id":3841568,"reputation":4593,"user_id":3184475,"accept_rate":80,"display_name":"Erran Morad"},"score":16,"creation_date":1573352419,"post_id":43168061,"comment_id":103853578,"body_markdown":"This approach does not work for me, but the mixin one does. I still get the ignored properties after serialization. Why do we have mixins when we have withoutAttribute() ?","body":"This approach does not work for me, but the mixin one does. I still get the ignored properties after serialization. Why do we have mixins when we have withoutAttribute() ?"},{"owner":{"account_id":3215161,"reputation":386,"user_id":3105386,"accept_rate":57,"display_name":"Vipul Jain"},"score":1,"creation_date":1602954049,"post_id":43168061,"comment_id":113885249,"body_markdown":"&quot;Why do we have mixins when we have withoutAttribute() ?&quot; - \nMixins cannot be set dynamically. https://stackoverflow.com/a/11849523/3105386, while we can do that with &quot;withoutAttributes&quot;. That might be one of the reason.","body":"&quot;Why do we have mixins when we have withoutAttribute() ?&quot; -  Mixins cannot be set dynamically. <a href=\"https://stackoverflow.com/a/11849523/3105386\">stackoverflow.com/a/11849523/3105386</a>, while we can do that with &quot;withoutAttributes&quot;. That might be one of the reason."},{"owner":{"account_id":3215161,"reputation":386,"user_id":3105386,"accept_rate":57,"display_name":"Vipul Jain"},"score":1,"creation_date":1602954402,"post_id":43168061,"comment_id":113885361,"body_markdown":"Secondly, &quot;withoutAttribute&quot; is used when you want to ignore a field with certain name and don&#39;t care about the class. Mixin helps you define that with much more granularity with specific classes in which those fields needs to be ignored.","body":"Secondly, &quot;withoutAttribute&quot; is used when you want to ignore a field with certain name and don&#39;t care about the class. Mixin helps you define that with much more granularity with specific classes in which those fields needs to be ignored."},{"owner":{"account_id":8668087,"reputation":1085,"user_id":6487831,"accept_rate":86,"display_name":"Saurabh Shrivastava"},"score":1,"creation_date":1604681912,"post_id":43168061,"comment_id":114430613,"body_markdown":"@ErranMorad Did you ever figure out why withoutAttribute() wasn&#39;t working?","body":"@ErranMorad Did you ever figure out why withoutAttribute() wasn&#39;t working?"},{"owner":{"account_id":3841568,"reputation":4593,"user_id":3184475,"accept_rate":80,"display_name":"Erran Morad"},"score":0,"creation_date":1605982910,"post_id":43168061,"comment_id":114822766,"body_markdown":"@SaurabhShrivastava - no. I used something else. I don&#39;t remember anymore.","body":"@SaurabhShrivastava - no. I used something else. I don&#39;t remember anymore."},{"owner":{"account_id":2613670,"reputation":499,"user_id":2263251,"display_name":"Srki Rakic"},"score":0,"creation_date":1628302231,"post_id":43168061,"comment_id":121391033,"body_markdown":"This was exactly what I needed - to exclude specific fields at runtime.","body":"This was exactly what I needed - to exclude specific fields at runtime."},{"owner":{"account_id":5258546,"reputation":630,"user_id":4200722,"display_name":"omahdi"},"score":3,"creation_date":1630177526,"post_id":43168061,"comment_id":121887121,"body_markdown":"`ObjectWriter.withoutAttribute` does not work as suggested in the answer. The _attribute_ does not refer to property names of input data and are never referenced in such a context, as pointed in [this comment](https://github.com/FasterXML/jackson-core/issues/700#issuecomment-849182602), for example. This method seems to be geared towards internal use, as can be seen [here](https://github.com/FasterXML/jackson-databind/blob/2.13/src/main/java/com/fasterxml/jackson/databind/ser/std/StdSerializer.java#L364).","body":"<code>ObjectWriter.withoutAttribute</code> does not work as suggested in the answer. The <i>attribute</i> does not refer to property names of input data and are never referenced in such a context, as pointed in <a href=\"https://github.com/FasterXML/jackson-core/issues/700#issuecomment-849182602\" rel=\"nofollow noreferrer\">this comment</a>, for example. This method seems to be geared towards internal use, as can be seen <a href=\"https://github.com/FasterXML/jackson-databind/blob/2.13/src/main/java/com/fasterxml/jackson/databind/ser/std/StdSerializer.java#L364\" rel=\"nofollow noreferrer\">here</a>."}],"tags":[],"owner":{"account_id":53471,"reputation":5683,"user_id":159837,"accept_rate":75,"display_name":"Fırat K&#252;&#231;&#252;k"},"comment_count":7,"down_vote_count":2,"up_vote_count":28,"is_accepted":false,"score":26,"last_activity_date":1491134400,"creation_date":1491134400,"answer_id":43168061,"question_id":7421474,"body_markdown":"Annotation based approach is better. But sometimes manual operation is needed. For this purpose you can use **without** method of **ObjectWriter**.\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    ObjectMapper mapper   = new ObjectMapper().configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false)\r\n    ObjectWriter writer   = mapper.writer().withoutAttribute(&quot;property1&quot;).withoutAttribute(&quot;property2&quot;);\r\n    String       jsonText = writer.writeValueAsString(sourceObject);","title":"How can I tell jackson to ignore a property for which I don&#39;t have control over the source code?","body":"<p>Annotation based approach is better. But sometimes manual operation is needed. For this purpose you can use <strong>without</strong> method of <strong>ObjectWriter</strong>.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>ObjectMapper mapper   = new ObjectMapper().configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false)\nObjectWriter writer   = mapper.writer().withoutAttribute(\"property1\").withoutAttribute(\"property2\");\nString       jsonText = writer.writeValueAsString(sourceObject);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":35502,"reputation":28362,"user_id":100565,"accept_rate":59,"display_name":"MeBigFatGuy"},"score":0,"creation_date":1632604249,"post_id":53716767,"comment_id":122539301,"body_markdown":"only thing  that worked for me, thanks!","body":"only thing  that worked for me, thanks!"}],"tags":[],"owner":{"account_id":10953953,"reputation":389,"user_id":8049404,"display_name":"fifman"},"comment_count":1,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1544497606,"creation_date":1544497606,"answer_id":53716767,"question_id":7421474,"body_markdown":"If you want to ALWAYS exclude certain properties for any class, you could use `setMixInResolver` method:\r\n\r\n        @JsonIgnoreProperties({&quot;id&quot;, &quot;index&quot;, &quot;version&quot;})\r\n        abstract class MixIn {\r\n        }\r\n\r\n        mapper.setMixInResolver(new ClassIntrospector.MixInResolver(){\r\n            @Override\r\n            public Class&lt;?&gt; findMixInClassFor(Class&lt;?&gt; cls) {\r\n                return MixIn.class;  \r\n            }\r\n\r\n            @Override\r\n            public ClassIntrospector.MixInResolver copy() {\r\n                return this;\r\n            }\r\n        });\r\n","title":"How can I tell jackson to ignore a property for which I don&#39;t have control over the source code?","body":"<p>If you want to ALWAYS exclude certain properties for any class, you could use <code>setMixInResolver</code> method:</p>\n\n<pre><code>    @JsonIgnoreProperties({\"id\", \"index\", \"version\"})\n    abstract class MixIn {\n    }\n\n    mapper.setMixInResolver(new ClassIntrospector.MixInResolver(){\n        @Override\n        public Class&lt;?&gt; findMixInClassFor(Class&lt;?&gt; cls) {\n            return MixIn.class;  \n        }\n\n        @Override\n        public ClassIntrospector.MixInResolver copy() {\n            return this;\n        }\n    });\n</code></pre>\n"}],"owner":{"account_id":138951,"reputation":2225,"user_id":344220,"accept_rate":78,"display_name":"maverick"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":284440,"favorite_count":0,"down_vote_count":1,"up_vote_count":164,"accepted_answer_id":7422285,"answer_count":8,"score":163,"last_activity_date":1668445844,"creation_date":1316026330,"question_id":7421474,"body_markdown":"Long story short, one of my entities has a [GeometryCollection](http://www.vividsolutions.com/jts/javadoc/com/vividsolutions/jts/geom/GeometryCollection.html) that throws an exception when you call &quot;getBoundary&quot; (the why of this is another book, for now let&#39;s say this is the way it works). \r\n\r\nIs there a way I can tell Jackson not to include that specific getter? I know I can use @JacksonIgnore when I do own/control the code. But this is not case, jackson ends reaching this point through continuous serialization of the parent objects. I saw a filtering option in jackson documentation. Is that a plausible solution?\r\n\r\nThanks!\r\n\r\n","title":"How can I tell jackson to ignore a property for which I don&#39;t have control over the source code?","body":"<p>Long story short, one of my entities has a <a href=\"http://www.vividsolutions.com/jts/javadoc/com/vividsolutions/jts/geom/GeometryCollection.html\" rel=\"noreferrer\">GeometryCollection</a> that throws an exception when you call \"getBoundary\" (the why of this is another book, for now let's say this is the way it works). </p>\n\n<p>Is there a way I can tell Jackson not to include that specific getter? I know I can use @JacksonIgnore when I do own/control the code. But this is not case, jackson ends reaching this point through continuous serialization of the parent objects. I saw a filtering option in jackson documentation. Is that a plausible solution?</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","testing","mockito","quarkus"],"answers":[{"comments":[{"owner":{"account_id":26929970,"reputation":1,"user_id":20502592,"display_name":"wilt868"},"score":0,"creation_date":1668447851,"post_id":74435383,"comment_id":131402166,"body_markdown":"Thank you, that actually worked, but the problem was that when the static method was called, it did not get mocked, I made it return true when get called, but it did not.","body":"Thank you, that actually worked, but the problem was that when the static method was called, it did not get mocked, I made it return true when get called, but it did not."}],"tags":[],"owner":{"account_id":1580843,"reputation":13479,"user_id":1466267,"accept_rate":91,"display_name":"SpaceTrucker"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668445796,"creation_date":1668445796,"answer_id":74435383,"question_id":74435011,"body_markdown":"`AuthorizationHelper.checkJwt` is a static method invocation. Mocking this works differently in mockito. As per [mockito documentation][1]:\r\n\r\n```\r\nassertEquals(&quot;foo&quot;, Foo.method());\r\ntry (MockedStatic mocked = mockStatic(Foo.class)) {\r\n    mocked.when(Foo::method).thenReturn(&quot;bar&quot;);\r\n    assertEquals(&quot;bar&quot;, Foo.method());\r\n    mocked.verify(Foo::method);\r\n}\r\nassertEquals(&quot;foo&quot;, Foo.method());\r\n```\r\n\r\nIn your case you need to take care of the arguments and do something like this (haven&#39;t tested):\r\n```\r\n    mocked.when(() -&gt; AuthorizationHelper.checkJwt(Mockito.any(JsonWebToken.class))).thenReturn(true);\r\n```\r\n\r\n  [1]: https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#48","title":"How do I mock a jwt with Mockito","body":"<p><code>AuthorizationHelper.checkJwt</code> is a static method invocation. Mocking this works differently in mockito. As per <a href=\"https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#48\" rel=\"nofollow noreferrer\">mockito documentation</a>:</p>\n<pre><code>assertEquals(&quot;foo&quot;, Foo.method());\ntry (MockedStatic mocked = mockStatic(Foo.class)) {\n    mocked.when(Foo::method).thenReturn(&quot;bar&quot;);\n    assertEquals(&quot;bar&quot;, Foo.method());\n    mocked.verify(Foo::method);\n}\nassertEquals(&quot;foo&quot;, Foo.method());\n</code></pre>\n<p>In your case you need to take care of the arguments and do something like this (haven't tested):</p>\n<pre><code>    mocked.when(() -&gt; AuthorizationHelper.checkJwt(Mockito.any(JsonWebToken.class))).thenReturn(true);\n</code></pre>\n"}],"owner":{"account_id":26929970,"reputation":1,"user_id":20502592,"display_name":"wilt868"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":275,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668445796,"creation_date":1668444088,"question_id":74435011,"body_markdown":"I have this code snippet in a controller to test in quarkus:\r\n\r\n```\r\n@Context \r\nprivate SecurityContext securityContext;\r\n....\r\nJsonWebToken jsonWebToken = (JsonWebToken) securityContext.getUserPrincipal();\r\nif(!AuthorizationHelper.checkJwt(jsonWebToken)) {\r\n    return Response.status(Response.Status.UNAUTHORIZED).build();\r\n}\r\n```\r\n\r\nAuthorizationHelper is a class with @Singleton annotation, checkJwt() method looks like this:\r\n\r\n```\r\npublic static boolean checkJwt(JsonWebToken jsonWebToken) {\r\n    return jsonWebToken!=null&amp;&amp;jsonWebToken.getName()!=null;\r\n} \r\n```\r\n\r\nAnd this is what I wrote:\r\n\r\n```\r\n@Test\r\npublic void testGetUsers() {\r\n    Mockito.when(AuthorizationHelper.checkJwt(Mockito.any(JsonWebToken.class))).thenReturn(true);\r\n    given()\r\n            .when().get(&quot;/api/v1/users&quot;)\r\n            .then()\r\n            .statusCode(200);\r\n}\r\n```\r\nIt complains that &quot;You cannot use argument matchers outside of verification or stubbing.&quot;\r\n\r\n\r\n\r\nI did try mock SecurityContext class, and make it return a jwt I created, though I initialized that jwt, it will return null when it came securityContext.getPrincipal().","title":"How do I mock a jwt with Mockito","body":"<p>I have this code snippet in a controller to test in quarkus:</p>\n<pre><code>@Context \nprivate SecurityContext securityContext;\n....\nJsonWebToken jsonWebToken = (JsonWebToken) securityContext.getUserPrincipal();\nif(!AuthorizationHelper.checkJwt(jsonWebToken)) {\n    return Response.status(Response.Status.UNAUTHORIZED).build();\n}\n</code></pre>\n<p>AuthorizationHelper is a class with @Singleton annotation, checkJwt() method looks like this:</p>\n<pre><code>public static boolean checkJwt(JsonWebToken jsonWebToken) {\n    return jsonWebToken!=null&amp;&amp;jsonWebToken.getName()!=null;\n} \n</code></pre>\n<p>And this is what I wrote:</p>\n<pre><code>@Test\npublic void testGetUsers() {\n    Mockito.when(AuthorizationHelper.checkJwt(Mockito.any(JsonWebToken.class))).thenReturn(true);\n    given()\n            .when().get(&quot;/api/v1/users&quot;)\n            .then()\n            .statusCode(200);\n}\n</code></pre>\n<p>It complains that &quot;You cannot use argument matchers outside of verification or stubbing.&quot;</p>\n<p>I did try mock SecurityContext class, and make it return a jwt I created, though I initialized that jwt, it will return null when it came securityContext.getPrincipal().</p>\n"},{"tags":["java","lambda"],"answers":[{"comments":[{"owner":{"account_id":7845873,"reputation":9,"user_id":10216363,"display_name":"rob-DEV"},"score":0,"creation_date":1668445920,"post_id":74435364,"comment_id":131401465,"body_markdown":"The code was called via an optional method. ifPresentOrElse and seemed to work the same regardless?","body":"The code was called via an optional method. ifPresentOrElse and seemed to work the same regardless?"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1668446067,"post_id":74435364,"comment_id":131401516,"body_markdown":"@rob-DEV Probably by &quot;mistake&quot;. If you did `Runnable r = persist(theData); theData.setComparisonTime(SOME_OTHER_VALUE); r.run();`, then I would expect the behavior of the first approach to change. That would (or should) have no effect on the second approach, because it sets the &quot;comparison time&quot; as part of the runnable implementation.","body":"@rob-DEV Probably by &quot;mistake&quot;. If you did <code>Runnable r = persist(theData); theData.setComparisonTime(SOME_OTHER_VALUE); r.run();</code>, then I would expect the behavior of the first approach to change. That would (or should) have no effect on the second approach, because it sets the &quot;comparison time&quot; as part of the runnable implementation."}],"tags":[],"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1668445693,"creation_date":1668445693,"answer_id":74435364,"question_id":74435340,"body_markdown":"It matters for when the `data.setComparisonTime` is run. You have a function that returns a function; in the first case, the `setComparisonTime` will be run when the `persist` method is run. In the latter, it will not be run until the returned lambda is run.","title":"Java statement before lambda","body":"<p>It matters for when the <code>data.setComparisonTime</code> is run. You have a function that returns a function; in the first case, the <code>setComparisonTime</code> will be run when the <code>persist</code> method is run. In the latter, it will not be run until the returned lambda is run.</p>\n"}],"owner":{"account_id":7845873,"reputation":9,"user_id":10216363,"display_name":"rob-DEV"},"comment_count":0,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1668455195,"accepted_answer_id":74435364,"answer_count":1,"score":-2,"last_activity_date":1668445762,"creation_date":1668445546,"question_id":74435340,"body_markdown":"I had this code previously which worked \r\n\r\n```\r\nprivate Runnable persist(Data data) {\r\n    data.setComparisonTime(NO_COMPARISON_PERFORMED);\r\n    return () -&gt; {\r\n        ...\r\n    };\r\n}\r\n```\r\nLater I refactored the code as I&#39;d missed this before.\r\n```\r\nprivate Runnable persist(Data data) { \r\n    return () -&gt; {\r\n        data.setComparisonTime(NO_COMPARISON_PERFORMED);\r\n        ...\r\n    };\r\n}\r\n```\r\nWhat is the difference between these two statements?","title":"Java statement before lambda","body":"<p>I had this code previously which worked</p>\n<pre><code>private Runnable persist(Data data) {\n    data.setComparisonTime(NO_COMPARISON_PERFORMED);\n    return () -&gt; {\n        ...\n    };\n}\n</code></pre>\n<p>Later I refactored the code as I'd missed this before.</p>\n<pre><code>private Runnable persist(Data data) { \n    return () -&gt; {\n        data.setComparisonTime(NO_COMPARISON_PERFORMED);\n        ...\n    };\n}\n</code></pre>\n<p>What is the difference between these two statements?</p>\n"},{"tags":["java","arrays"],"answers":[{"comments":[{"owner":{"account_id":21834347,"reputation":33,"user_id":16128864,"display_name":"Sam"},"score":0,"creation_date":1668456907,"post_id":74435337,"comment_id":131404901,"body_markdown":"I think I don&#39;t know how to do this in terms of code, but I understand how it should work.","body":"I think I don&#39;t know how to do this in terms of code, but I understand how it should work."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1668503768,"post_id":74435337,"comment_id":131415017,"body_markdown":"Hint: you don&#39;t always have to use `i++` as the update in the for loop.","body":"Hint: you don&#39;t always have to use <code>i++</code> as the update in the for loop."},{"owner":{"account_id":21834347,"reputation":33,"user_id":16128864,"display_name":"Sam"},"score":0,"creation_date":1668546396,"post_id":74435337,"comment_id":131430941,"body_markdown":"```public void insertAtRank(int r, Object o) {\n        if (arrayVetor[r] != null) {\n            for (int i = r + 1; i &gt;= r; i--) {\n                arrayVetor[i+1] = arrayVetor[i];\n            }\n        }\n        this.arrayVetor[r] = o;\n    }```","body":"<code>public void insertAtRank(int r, Object o) {         if (arrayVetor[r] != null) {             for (int i = r + 1; i &gt;= r; i--) {                 arrayVetor[i+1] = arrayVetor[i];             }         }         this.arrayVetor[r] = o;     }</code>"},{"owner":{"account_id":21834347,"reputation":33,"user_id":16128864,"display_name":"Sam"},"score":0,"creation_date":1668546478,"post_id":74435337,"comment_id":131430965,"body_markdown":"I created this code, following your instructions, but for example, when I have an array of size 10 and I place a element at index &quot;7&quot; and another at index &quot;9&quot;:\n`[null, null, null, null, null, null, null, 7, null, 9]`\nwhen I do an &quot;arrayVetor.insertAtRank(7, &quot;7.5&quot;);&quot;\nits supposed to happen:\n`[null, null, null, null, null, null, null, 7.5, 7, 9]`\nbut what is happening is:\n`[null, null, null, null, null, null, null, 7.5, 7, null]`","body":"I created this code, following your instructions, but for example, when I have an array of size 10 and I place a element at index &quot;7&quot; and another at index &quot;9&quot;: <code>[null, null, null, null, null, null, null, 7, null, 9]</code> when I do an &quot;arrayVetor.insertAtRank(7, &quot;7.5&quot;);&quot; its supposed to happen: <code>[null, null, null, null, null, null, null, 7.5, 7, 9]</code> but what is happening is: <code>[null, null, null, null, null, null, null, 7.5, 7, null]</code>"}],"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668445527,"creation_date":1668445527,"answer_id":74435337,"question_id":74435137,"body_markdown":"Think about what happens in that loop for, say, `r == 0`:\r\n\r\n* The element at `arrayVetor[0]` is copied to `arrayVetor[1]`\r\n* The element at `arrayVetor[1]` is copied to `arrayVetor[2]`\r\n* The element at `arrayVetor[2]` is copied to `arrayVetor[3]`\r\n* ...\r\n* The element at `arrayVetor[8]` is copied to `arrayVetor[9]`.\r\n\r\nSo you end up copying (well, assigning) the value at `arrayVetor[0]` to all elements in the array.\r\n\r\nWhat you actually want to be doing is:\r\n\r\n* Copying the element at `arrayVetor[8]` to `arrayVetor[9]`\r\n* Copying the element at `arrayVetor[7]` to `arrayVetor[8]`\r\n* Copying the element at `arrayVetor[6]` to `arrayVetor[7]`\r\n* ...\r\n* Copying the element at `arrayVetor[0]` to `arrayVetor[1]`\r\n\r\nAnd then assigning the new value to `arrayVetor[0]`.","title":"Shift elements to right in a array to add a new element in java","body":"<p>Think about what happens in that loop for, say, <code>r == 0</code>:</p>\n<ul>\n<li>The element at <code>arrayVetor[0]</code> is copied to <code>arrayVetor[1]</code></li>\n<li>The element at <code>arrayVetor[1]</code> is copied to <code>arrayVetor[2]</code></li>\n<li>The element at <code>arrayVetor[2]</code> is copied to <code>arrayVetor[3]</code></li>\n<li>...</li>\n<li>The element at <code>arrayVetor[8]</code> is copied to <code>arrayVetor[9]</code>.</li>\n</ul>\n<p>So you end up copying (well, assigning) the value at <code>arrayVetor[0]</code> to all elements in the array.</p>\n<p>What you actually want to be doing is:</p>\n<ul>\n<li>Copying the element at <code>arrayVetor[8]</code> to <code>arrayVetor[9]</code></li>\n<li>Copying the element at <code>arrayVetor[7]</code> to <code>arrayVetor[8]</code></li>\n<li>Copying the element at <code>arrayVetor[6]</code> to <code>arrayVetor[7]</code></li>\n<li>...</li>\n<li>Copying the element at <code>arrayVetor[0]</code> to <code>arrayVetor[1]</code></li>\n</ul>\n<p>And then assigning the new value to <code>arrayVetor[0]</code>.</p>\n"}],"owner":{"account_id":21834347,"reputation":33,"user_id":16128864,"display_name":"Sam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668445527,"creation_date":1668444688,"question_id":74435137,"body_markdown":"Im trying to shift some elements of the array to get space for a new element in the index chosen, but my array is cloning the element after the index till the end of the array\r\n\r\n```\r\npublic void insertAtRank(int r, Object o) {\r\n    for(int i = r+1 ; i &lt; arrayVetor.length; i++ ){\r\n        arrayVetor[i] = arrayVetor[i-1];\r\n    }\r\n    this.arrayVetor[r] = o;\r\n}\r\n```\r\n\r\n```\r\narrayVetor.insertAtRank(0, &quot;1&quot;);\r\narrayVetor.insertAtRank(1, &quot;2&quot;);\r\narrayVetor.insertAtRank(2, &quot;3&quot;);\r\narrayVetor.insertAtRank(3, &quot;4&quot;);\r\narrayVetor.insertAtRank(2, &quot;5&quot;);\r\n\r\n```\r\n\r\nthe output:\r\n`[1, 2, 5, 3, 3, 3, 3, 3, 3, 3]`\r\n\r\nwhat i want:\r\n`[1, 2, 5, 3, 4, null, null, null, null, null]`\r\n\r\n\r\n","title":"Shift elements to right in a array to add a new element in java","body":"<p>Im trying to shift some elements of the array to get space for a new element in the index chosen, but my array is cloning the element after the index till the end of the array</p>\n<pre><code>public void insertAtRank(int r, Object o) {\n    for(int i = r+1 ; i &lt; arrayVetor.length; i++ ){\n        arrayVetor[i] = arrayVetor[i-1];\n    }\n    this.arrayVetor[r] = o;\n}\n</code></pre>\n<pre><code>arrayVetor.insertAtRank(0, &quot;1&quot;);\narrayVetor.insertAtRank(1, &quot;2&quot;);\narrayVetor.insertAtRank(2, &quot;3&quot;);\narrayVetor.insertAtRank(3, &quot;4&quot;);\narrayVetor.insertAtRank(2, &quot;5&quot;);\n\n</code></pre>\n<p>the output:\n<code>[1, 2, 5, 3, 3, 3, 3, 3, 3, 3]</code></p>\n<p>what i want:\n<code>[1, 2, 5, 3, 4, null, null, null, null, null]</code></p>\n"},{"tags":["java","spring","jpa","spring-data-jpa","spring-data"],"answers":[{"comments":[{"owner":{"account_id":14162458,"reputation":3910,"user_id":10231374,"display_name":"Toni"},"score":0,"creation_date":1668449914,"post_id":74435308,"comment_id":131402830,"body_markdown":"For reference: [Spring Data JPA - Query Creation](https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.query-creation)","body":"For reference: <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.query-creation\" rel=\"nofollow noreferrer\">Spring Data JPA - Query Creation</a>"}],"tags":[],"owner":{"account_id":26506001,"reputation":2574,"user_id":20142156,"display_name":"Dhaval Gajjar"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668445446,"creation_date":1668445446,"answer_id":74435308,"question_id":74435222,"body_markdown":"Use `findByParentGuidIn` instead of `findByGroupParentGuidIn`. After findBy it will use the property name you want to filter. In your case, you added class as well.\r\n\r\n```\r\nList&lt;Group&gt; findByParentGuidIn(List&lt;String&gt; guids);\r\n```","title":"Spring CrudRepository select all groups with a parent from the list","body":"<p>Use <code>findByParentGuidIn</code> instead of <code>findByGroupParentGuidIn</code>. After findBy it will use the property name you want to filter. In your case, you added class as well.</p>\n<pre><code>List&lt;Group&gt; findByParentGuidIn(List&lt;String&gt; guids);\n</code></pre>\n"}],"owner":{"account_id":3600664,"reputation":2545,"user_id":3004041,"accept_rate":34,"display_name":"covfefe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668445446,"creation_date":1668445059,"question_id":74435222,"body_markdown":"I have an entity defined as follows:\r\n\r\n    @Entity\r\n    public class Group extends Auditable&lt;String&gt; {\r\n    \r\n      private static final long serialVersionUID = 1L;\r\n    \r\n      private Long id;\r\n    \r\n      private String parentGuid;\r\n    \r\n      // other fields\r\n      // getters/setters\r\n    \r\n    }\r\n\r\nWith the repository defined as follows:\r\n\r\n    @Repository\r\n    @Transactional\r\n    public interface GroupRepository extends CrudRepository&lt;Group, String&gt; {\r\n    \r\n      Group findById(String id);\r\n    \r\n    }\r\n\r\n\r\nI&#39;m trying to get all groups that have a parentGuid equal to any one of a list of guids. So if I have a list like so - `List&lt;String&gt; listGuid = [&#39;parent1&#39;, &#39;parent2&#39;, &#39;parent3&#39;]`, I want my sql query to be like this:\r\n\r\n    select * from groups where parentGuid=&#39;parent1&#39; or parentGuid=&#39;parent2&#39; or parentGuid=&#39;parent3&#39;;\r\n\r\n\r\nSo in the repository class, I want to have a method like this which automatically constructs that query using the list of guids passed in:\r\n\r\n    List&lt;Group&gt; findByGroupParentGuidIn(List&lt;String&gt; guids);\r\n\r\n\r\nBut I get a warning saying &#39;Cannot resolve property GroupParentGuid&#39; and I don&#39;t think is the right way to construct that query. Would appreciate any help!","title":"Spring CrudRepository select all groups with a parent from the list","body":"<p>I have an entity defined as follows:</p>\n<pre><code>@Entity\npublic class Group extends Auditable&lt;String&gt; {\n\n  private static final long serialVersionUID = 1L;\n\n  private Long id;\n\n  private String parentGuid;\n\n  // other fields\n  // getters/setters\n\n}\n</code></pre>\n<p>With the repository defined as follows:</p>\n<pre><code>@Repository\n@Transactional\npublic interface GroupRepository extends CrudRepository&lt;Group, String&gt; {\n\n  Group findById(String id);\n\n}\n</code></pre>\n<p>I'm trying to get all groups that have a parentGuid equal to any one of a list of guids. So if I have a list like so - <code>List&lt;String&gt; listGuid = ['parent1', 'parent2', 'parent3']</code>, I want my sql query to be like this:</p>\n<pre><code>select * from groups where parentGuid='parent1' or parentGuid='parent2' or parentGuid='parent3';\n</code></pre>\n<p>So in the repository class, I want to have a method like this which automatically constructs that query using the list of guids passed in:</p>\n<pre><code>List&lt;Group&gt; findByGroupParentGuidIn(List&lt;String&gt; guids);\n</code></pre>\n<p>But I get a warning saying 'Cannot resolve property GroupParentGuid' and I don't think is the right way to construct that query. Would appreciate any help!</p>\n"},{"tags":["java","recursion"],"comments":[{"owner":{"account_id":4338431,"reputation":1014,"user_id":3542351,"display_name":"terpinmd"},"score":0,"creation_date":1668179677,"post_id":74404398,"comment_id":131350104,"body_markdown":"Might be missing just the base case, google recursion base case to see if that helps","body":"Might be missing just the base case, google recursion base case to see if that helps"},{"owner":{"account_id":26819783,"reputation":124,"user_id":20409306,"display_name":"Jared Renzullo"},"score":0,"creation_date":1668198621,"post_id":74404398,"comment_id":131355809,"body_markdown":"Your requirements aren&#39;t clear. The way I read it, you are given [1, 5, 16] and a sum of 22 and the answer would be yes that you can make the sum of 22 given the three coins. It looks like a simple iteration and sum. What are the actual requirements?","body":"Your requirements aren&#39;t clear. The way I read it, you are given [1, 5, 16] and a sum of 22 and the answer would be yes that you can make the sum of 22 given the three coins. It looks like a simple iteration and sum. What are the actual requirements?"},{"owner":{"account_id":24419106,"reputation":13,"user_id":18345621,"display_name":"I_Hate_ReLU"},"score":0,"creation_date":1668255866,"post_id":74404398,"comment_id":131363950,"body_markdown":"For example, if you are given [1, 5 ,16], you could definitely get 22, right? What if you were give [12,4,120,240,32] and asked if you could get 36? You would need to return true. If you were given, for example, [1,2, 5, 60,12, 452] and asked if you could get 4, you would have to return false; Iteration would just add these sums together\n@JaredRenzullo","body":"For example, if you are given [1, 5 ,16], you could definitely get 22, right? What if you were give [12,4,120,240,32] and asked if you could get 36? You would need to return true. If you were given, for example, [1,2, 5, 60,12, 452] and asked if you could get 4, you would have to return false; Iteration would just add these sums together @JaredRenzullo"},{"owner":{"account_id":24419106,"reputation":13,"user_id":18345621,"display_name":"I_Hate_ReLU"},"score":0,"creation_date":1668396941,"post_id":74404398,"comment_id":131387247,"body_markdown":"@terpinmd I looked into it, but wouldn&#39;t the return inside the for statement serve to be a base case?","body":"@terpinmd I looked into it, but wouldn&#39;t the return inside the for statement serve to be a base case?"}],"answers":[{"comments":[{"owner":{"account_id":24419106,"reputation":13,"user_id":18345621,"display_name":"I_Hate_ReLU"},"score":0,"creation_date":1668445157,"post_id":74434195,"comment_id":131401194,"body_markdown":"Thanks so much! I understand most of what you did, just by checking the first denomination each time. The time-complexity solution you mentioned is so much more cleaner than my code haha","body":"Thanks so much! I understand most of what you did, just by checking the first denomination each time. The time-complexity solution you mentioned is so much more cleaner than my code haha"},{"owner":{"account_id":8414320,"reputation":4785,"user_id":6315242,"display_name":"Per Huss"},"score":0,"creation_date":1668445387,"post_id":74434195,"comment_id":131401288,"body_markdown":"... and if the problem changes to infinite coins of each denomination, you will probably need to revert to that Dynamic programming to get it performant... Good luck!","body":"... and if the problem changes to infinite coins of each denomination, you will probably need to revert to that Dynamic programming to get it performant... Good luck!"}],"tags":[],"owner":{"account_id":8414320,"reputation":4785,"user_id":6315242,"display_name":"Per Huss"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1668445212,"creation_date":1668440261,"answer_id":74434195,"question_id":74404398,"body_markdown":"The bug is in your copying of the coins array: `red[it] = coins[i]` should really be `red[it] = coins[x]`...\r\n\r\nFor time complexity, you don&#39;t really have to do a loop inside the method. Each denomination is either part of the sum or not, so you can always remove the first denomination and test with and without it:\r\n\r\n    boolean go(int[] coins, int goal)  {\r\n        if(goal == 0)\r\n            return true;\r\n        else if(coins.length == 0 || goal &lt; 0)\r\n            return false;\r\n        else {\r\n            int[] tailOfCoins = Arrays.copyOfRange(coins, 1, coins.length);\r\n            return go(tailOfCoins, goal) || go(tailOfCoins, goal - coins[0]);\r\n        }\r\n    }\r\n","title":"Finite Coins - using recursion","body":"<p>The bug is in your copying of the coins array: <code>red[it] = coins[i]</code> should really be <code>red[it] = coins[x]</code>...</p>\n<p>For time complexity, you don't really have to do a loop inside the method. Each denomination is either part of the sum or not, so you can always remove the first denomination and test with and without it:</p>\n<pre><code>boolean go(int[] coins, int goal)  {\n    if(goal == 0)\n        return true;\n    else if(coins.length == 0 || goal &lt; 0)\n        return false;\n    else {\n        int[] tailOfCoins = Arrays.copyOfRange(coins, 1, coins.length);\n        return go(tailOfCoins, goal) || go(tailOfCoins, goal - coins[0]);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24419106,"reputation":13,"user_id":18345621,"display_name":"I_Hate_ReLU"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74434195,"answer_count":1,"score":0,"last_activity_date":1668445212,"creation_date":1668178914,"question_id":74404398,"body_markdown":"Given 1 coin from multiple denominations (E.G. a 1 coin, 5 coin, 16 coin), and a sum, return true or false determining if the sum can be made.\r\n\r\n```\r\nboolean go(int[] coins, int goal) \r\n{\r\n  //Will set each time, but shouldn&#39;t matter as toggle is at bottom\r\n  boolean ans = false;\r\n   \r\n  //loop running in recursion till founds ans\r\n   \r\n  //Really bad time complexity lol\r\n  for (int i = 0; i &lt; coins.length &amp;&amp; (!ans); i++) {\r\n    if ((goal - coins[i] == 0) || goal == 0) {\r\n      return true;\r\n    }\r\n     \r\n    if (goal &gt; coins[i]) {\r\n      int[] red = new int[coins.length - 1];\r\n      //it necessary because making list with one less\r\n      int it = 0;\r\n      //Setting new list to avoid runtime\r\n      for(int x = 0; x &lt; coins.length; x++){\r\n        if(!(i == x)){\r\n          red[it] = coins[i];\r\n          it += 1;\r\n        }\r\n      }\r\n      //Run with new list\r\n      ans = go(red, goal - coins[i]);\r\n    }\r\n  }\r\n  return ans;\r\n}\r\n```\r\nThis is my code so far. I have made it recursive, yet one of the test cases returns true when it should not. The test case in particular is [111, 1, 2, 3, 9, 11, 20, 30], with the goal doing 8; This should return false (as it cannot add up to 8), but in this case, returns true.\r\n\r\nOther test cases work fine, so I believe my code has some sort of an exception.\r\n\r\n\r\nI have tried to move the base case upward, and make a reverse variation...\r\n```\r\nboolean go(int[] coins, int goal) \r\n{\r\n  boolean ans = false;\r\n  if(goal == 0){\r\n    return true;\r\n  }else if(goal &lt; 0){\r\n    return false;\r\n  }\r\n  for (int i = 0; i &lt; coins.length &amp;&amp; (!ans); i++) {\r\n    if (goal &gt;= coins[i]) {\r\n      int[] red = new int[coins.length - 1];\r\n      int it = 0;\r\n      for(int x = 0; x &lt; coins.length; x++){\r\n        if(!(i == x)){\r\n          red[it] = coins[i];\r\n          it += 1;\r\n        }\r\n      }\r\n      ans = go(red, goal - coins[i]);\r\n    }\r\n  }\r\n  return ans;\r\n}\r\n``` \r\nis what I&#39;ve tried, but the base case doesn&#39;t seem to affect anything","title":"Finite Coins - using recursion","body":"<p>Given 1 coin from multiple denominations (E.G. a 1 coin, 5 coin, 16 coin), and a sum, return true or false determining if the sum can be made.</p>\n<pre><code>boolean go(int[] coins, int goal) \n{\n  //Will set each time, but shouldn't matter as toggle is at bottom\n  boolean ans = false;\n   \n  //loop running in recursion till founds ans\n   \n  //Really bad time complexity lol\n  for (int i = 0; i &lt; coins.length &amp;&amp; (!ans); i++) {\n    if ((goal - coins[i] == 0) || goal == 0) {\n      return true;\n    }\n     \n    if (goal &gt; coins[i]) {\n      int[] red = new int[coins.length - 1];\n      //it necessary because making list with one less\n      int it = 0;\n      //Setting new list to avoid runtime\n      for(int x = 0; x &lt; coins.length; x++){\n        if(!(i == x)){\n          red[it] = coins[i];\n          it += 1;\n        }\n      }\n      //Run with new list\n      ans = go(red, goal - coins[i]);\n    }\n  }\n  return ans;\n}\n</code></pre>\n<p>This is my code so far. I have made it recursive, yet one of the test cases returns true when it should not. The test case in particular is [111, 1, 2, 3, 9, 11, 20, 30], with the goal doing 8; This should return false (as it cannot add up to 8), but in this case, returns true.</p>\n<p>Other test cases work fine, so I believe my code has some sort of an exception.</p>\n<p>I have tried to move the base case upward, and make a reverse variation...</p>\n<pre><code>boolean go(int[] coins, int goal) \n{\n  boolean ans = false;\n  if(goal == 0){\n    return true;\n  }else if(goal &lt; 0){\n    return false;\n  }\n  for (int i = 0; i &lt; coins.length &amp;&amp; (!ans); i++) {\n    if (goal &gt;= coins[i]) {\n      int[] red = new int[coins.length - 1];\n      int it = 0;\n      for(int x = 0; x &lt; coins.length; x++){\n        if(!(i == x)){\n          red[it] = coins[i];\n          it += 1;\n        }\n      }\n      ans = go(red, goal - coins[i]);\n    }\n  }\n  return ans;\n}\n</code></pre>\n<p>is what I've tried, but the base case doesn't seem to affect anything</p>\n"},{"tags":["java","amazon-web-services","amazon-s3","aws-cli"],"comments":[{"owner":{"account_id":6220603,"reputation":6013,"user_id":4840338,"display_name":"omuthu"},"score":0,"creation_date":1668446223,"post_id":74435205,"comment_id":131401571,"body_markdown":"where are you running this from? if locally executed, check your AWS creds have enough permissions to access the bucket. If other services like EC2 or Lambda, check the respective roles have permissions to S3 buckets","body":"where are you running this from? if locally executed, check your AWS creds have enough permissions to access the bucket. If other services like EC2 or Lambda, check the respective roles have permissions to S3 buckets"},{"owner":{"account_id":22592236,"reputation":5,"user_id":16775174,"display_name":"Guga Gamer"},"score":0,"creation_date":1668448947,"post_id":74435205,"comment_id":131402564,"body_markdown":"It is running locally. Is there any way to set permissions locally?","body":"It is running locally. Is there any way to set permissions locally?"},{"owner":{"account_id":6220603,"reputation":6013,"user_id":4840338,"display_name":"omuthu"},"score":0,"creation_date":1668450180,"post_id":74435205,"comment_id":131402899,"body_markdown":"you need to reach out to your AWS account administrator to add permissions to the user/role you are using locally","body":"you need to reach out to your AWS account administrator to add permissions to the user/role you are using locally"},{"owner":{"account_id":16160118,"reputation":831,"user_id":11666461,"display_name":"user11666461"},"score":1,"creation_date":1668489085,"post_id":74435205,"comment_id":131411175,"body_markdown":"In your code you are not initialising `destBucketName`. May be the snippet here is missing it. In any case, a 404 being returned means that the bucket doesn&#39;t exist. If it was a permission issue a 403 would have been returned. Can you figure out if it is the `sourceBucket` or `destBucketName` that is throwing the error? Also if `destBucketName` is not created by you, log the it&#39;s value to confirm that any prefix is not there in that.","body":"In your code you are not initialising <code>destBucketName</code>. May be the snippet here is missing it. In any case, a 404 being returned means that the bucket doesn&#39;t exist. If it was a permission issue a 403 would have been returned. Can you figure out if it is the <code>sourceBucket</code> or <code>destBucketName</code> that is throwing the error? Also if <code>destBucketName</code> is not created by you, log the it&#39;s value to confirm that any prefix is not there in that."},{"owner":{"account_id":22592236,"reputation":5,"user_id":16775174,"display_name":"Guga Gamer"},"score":0,"creation_date":1668514046,"post_id":74435205,"comment_id":131418677,"body_markdown":"the source and the destBucket name are the same. I tried hardcoding them, and the same problem happens.","body":"the source and the destBucket name are the same. I tried hardcoding them, and the same problem happens."}],"owner":{"account_id":22592236,"reputation":5,"user_id":16775174,"display_name":"Guga Gamer"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":571,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668444979,"creation_date":1668444979,"question_id":74435205,"body_markdown":"I have this piece of code in java, using  the aws library:\r\n\r\n```\r\n\t\tAmazonS3URI uri = new AmazonS3URI(&quot;s3://test&quot;);\r\n\r\n\t\tString sourceKey = &quot;test.xml&quot;;\r\n\t\tString sourceBucket = uri.getBucket();\r\n\t\tString destKey = fileName;\r\n\r\n\t\tif(s3Client.doesBucketExistV2(destBucketName)) {\r\n\t\t\tlog.info(&quot;enters&quot;);\r\n\t\t}\r\n\r\n\t\tif(s3Client.doesBucketExistV2(uri.getBucket()) &amp;&amp; s3Client.doesBucketExistV2(destBucketName)) {\r\n\t\t\tlog.info(&quot;Source bucket: &quot; + uri.getBucket() + &quot; Destiny bucket: &quot; + destBucketName);\r\n\t\t\tCopyObjectRequest copyObjRequest = new CopyObjectRequest(sourceBucket, sourceKey, destBucketName, destKey);\r\n\t\t\ts3Client.copyObject(copyObjRequest);\r\n\t\t} else {\r\n\t\t\tlog.info(&quot;Bucket does not exist: &quot; + uri.getBucket());\r\n\t\t}\r\n\r\n\t}\r\n```\r\n\r\nWhen I run this code, on the copyObject command, it is returned that the bucket does not exists (The specified bucket does not exist (Service: Amazon S3; Status Code: 404; Error Code: NoSuchBucket; Request ID: null; S3 Extended Request ID: null)), but it does, because I&#39;m literally making a condition there. What can the problem be?","title":"The specified bucket does not exist AWS CLI locally","body":"<p>I have this piece of code in java, using  the aws library:</p>\n<pre><code>        AmazonS3URI uri = new AmazonS3URI(&quot;s3://test&quot;);\n\n        String sourceKey = &quot;test.xml&quot;;\n        String sourceBucket = uri.getBucket();\n        String destKey = fileName;\n\n        if(s3Client.doesBucketExistV2(destBucketName)) {\n            log.info(&quot;enters&quot;);\n        }\n\n        if(s3Client.doesBucketExistV2(uri.getBucket()) &amp;&amp; s3Client.doesBucketExistV2(destBucketName)) {\n            log.info(&quot;Source bucket: &quot; + uri.getBucket() + &quot; Destiny bucket: &quot; + destBucketName);\n            CopyObjectRequest copyObjRequest = new CopyObjectRequest(sourceBucket, sourceKey, destBucketName, destKey);\n            s3Client.copyObject(copyObjRequest);\n        } else {\n            log.info(&quot;Bucket does not exist: &quot; + uri.getBucket());\n        }\n\n    }\n</code></pre>\n<p>When I run this code, on the copyObject command, it is returned that the bucket does not exists (The specified bucket does not exist (Service: Amazon S3; Status Code: 404; Error Code: NoSuchBucket; Request ID: null; S3 Extended Request ID: null)), but it does, because I'm literally making a condition there. What can the problem be?</p>\n"},{"tags":["java","loops","nested-loops"],"comments":[{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1668442501,"post_id":74434592,"comment_id":131400163,"body_markdown":"The best way to solve this is to imagine that the pyramids are in a &quot;frame&quot; and fill up all the characters. I.e. you either print a space or an asterisk *for each position* in the frame. Currently you are not printing the *trailing* spaces of the first pyramid.","body":"The best way to solve this is to imagine that the pyramids are in a &quot;frame&quot; and fill up all the characters. I.e. you either print a space or an asterisk <i>for each position</i> in the frame. Currently you are not printing the <i>trailing</i> spaces of the first pyramid."},{"owner":{"account_id":3980402,"reputation":12987,"user_id":3282436,"accept_rate":79,"display_name":"0x5453"},"score":1,"creation_date":1668442536,"post_id":74434592,"comment_id":131400177,"body_markdown":"Your loops add whitespace to the left side of each pyramid, but not to the right side.  This works for the rightmost pyramid, because nothing comes &quot;after&quot; it on each line, but padding in the left pyramid is critical for the alignment of the right pyramid.","body":"Your loops add whitespace to the left side of each pyramid, but not to the right side.  This works for the rightmost pyramid, because nothing comes &quot;after&quot; it on each line, but padding in the left pyramid is critical for the alignment of the right pyramid."}],"answers":[{"tags":[],"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668443962,"creation_date":1668442841,"answer_id":74434750,"question_id":74434592,"body_markdown":"The best way to solve this is to imagine that the pyramids are in a &quot;frame&quot; and fill up all the characters. I.e. you either print a space or an asterisk *for each position* in the frame. Currently you are not printing the *trailing* spaces of the first pyramid, which means that each following pyramid will be increasingly lopsided.\r\n\r\nThe way I would write it is to have a double `for` loop for the X and a Y coordinates, and then have a function to tell me if the current X and Y fall within a specific pyramid (one call for each pyramid). This also allows for other patterns to be printed. See it as a simple form of ray tracing.\r\n\r\n```\r\nfor (int y = 0; y &lt; 22; y++) {\r\n    for (int x = 0; x &lt; 7; x++) {\r\n        if (inPyramid(0, 0, x, y) || inPyramid(10, 0, x, y)) {\r\n            System.out.print(&quot;*&quot;);\r\n        else {\r\n            System.out.print(&quot; &quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nwith the following method:\r\n\r\n```\r\npublic boolean inPyramid(int pyramidOffsetX, int pyramidOffsetY, int x, int y) {\r\n    // TODO fill in the tricky part :)\r\n}\r\n``` \r\n\r\nThis seems a bit harder, but it will easily allow overlap of shapes and such, and it is a much more structured approach.\r\n","title":"How can I print these reversed pyramid next to each other?","body":"<p>The best way to solve this is to imagine that the pyramids are in a &quot;frame&quot; and fill up all the characters. I.e. you either print a space or an asterisk <em>for each position</em> in the frame. Currently you are not printing the <em>trailing</em> spaces of the first pyramid, which means that each following pyramid will be increasingly lopsided.</p>\n<p>The way I would write it is to have a double <code>for</code> loop for the X and a Y coordinates, and then have a function to tell me if the current X and Y fall within a specific pyramid (one call for each pyramid). This also allows for other patterns to be printed. See it as a simple form of ray tracing.</p>\n<pre><code>for (int y = 0; y &lt; 22; y++) {\n    for (int x = 0; x &lt; 7; x++) {\n        if (inPyramid(0, 0, x, y) || inPyramid(10, 0, x, y)) {\n            System.out.print(&quot;*&quot;);\n        else {\n            System.out.print(&quot; &quot;);\n        }\n    }\n}\n</code></pre>\n<p>with the following method:</p>\n<pre><code>public boolean inPyramid(int pyramidOffsetX, int pyramidOffsetY, int x, int y) {\n    // TODO fill in the tricky part :)\n}\n</code></pre>\n<p>This seems a bit harder, but it will easily allow overlap of shapes and such, and it is a much more structured approach.</p>\n"},{"comments":[{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1668443666,"post_id":74434874,"comment_id":131400641,"body_markdown":"This seems an OK approach but 1. you don&#39;t explain it at all, 2. you&#39;re using a different languages without telling and 3. you&#39;ve solved the entire problem instead of showing how it can be done. Could you edit the answer and fix at least 1 &amp; 2?","body":"This seems an OK approach but 1. you don&#39;t explain it at all, 2. you&#39;re using a different languages without telling and 3. you&#39;ve solved the entire problem instead of showing how it can be done. Could you edit the answer and fix at least 1 &amp; 2?"},{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":0,"creation_date":1668444298,"post_id":74434874,"comment_id":131400894,"body_markdown":"@MaartenBodewes oops, thought I was browsing the JS tag...","body":"@MaartenBodewes oops, thought I was browsing the JS tag..."}],"tags":[],"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1668444773,"creation_date":1668443404,"answer_id":74434874,"question_id":74434592,"body_markdown":"In order to draw upside-down pyramids next to each other, you will need to know the amount of pyramids and the size of the pyramid.\r\n\r\nThis is an O(n&#179;) complexity algorithm (triple-nested loop).\r\n\r\n```java\r\npublic class Pyramids {\r\n    public static void main(String[] args) {\r\n        System.out.println(render(2, 9)); // 2 pyramids with a base of 9\r\n        System.out.println(render(4, 5)); // 4 pyramids with a base of 5\r\n    }\r\n    \r\n    public static String render(int count, int size) {\r\n        StringBuffer buffer = new StringBuffer();\r\n        int rows = (int) Math.floor(size / 2) + 1;\r\n        for (int row = 0; row &lt; rows; row++) {\r\n            for (int pyramid = 0; pyramid &lt; count; pyramid++) {\r\n                int indentSize = pyramid == 0 ? row : row * 2;\r\n                for (int indent = 0; indent &lt; indentSize; indent++) {\r\n                    buffer.append(&quot; &quot;); // indent\r\n                }\r\n                int starCount = size - (row * 2);\r\n                for (int star = 0; star &lt; starCount; star++) {\r\n                    buffer.append(&quot;*&quot;); // star\r\n                }\r\n                buffer.append(&quot;  &quot;);;  // separator\r\n            }\r\n            buffer.append(System.lineSeparator());  // new-line\r\n        }\r\n        return buffer.toString();\r\n    }\r\n}\r\n```\r\n\r\n## Output\r\n\r\n```\r\n*********  *********  \r\n *******    *******  \r\n  *****      *****  \r\n   ***        ***  \r\n    *          *  \r\n*****  *****  *****  *****  \r\n ***    ***    ***    ***  \r\n  *      *      *      *  \r\n```\r\n\r\n---\r\n\r\nHere is a JavaScript version of the Java code above.\r\n\r\n&lt;!-- begin snippet: js hide: true console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    const renderPyramids = (count, size) =&gt; {\r\n      let str = &#39;&#39;;\r\n      const rows = Math.floor(size / 2) + 1;\r\n      for (let row = 0; row &lt; rows; row++) {\r\n        for (let pyramid = 0; pyramid &lt; count; pyramid++) {\r\n          const indentSize = pyramid === 0 ? row : row * 2;\r\n          for (let indent = 0; indent &lt; indentSize; indent++) {\r\n            str += &#39; &#39;; // indent\r\n          }\r\n          const starCount = size - (row * 2);\r\n          for (let star = 0; star &lt; starCount; star++) {\r\n            str += &#39;*&#39;; // star\r\n          }\r\n          str += &#39;  &#39;;  // separator\r\n        }\r\n        str += &#39;\\n&#39;;  // new-line\r\n      }\r\n      return str;\r\n    };\r\n\r\n    console.log(renderPyramids(2, 9));\r\n    console.log(renderPyramids(4, 5));\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"How can I print these reversed pyramid next to each other?","body":"<p>In order to draw upside-down pyramids next to each other, you will need to know the amount of pyramids and the size of the pyramid.</p>\n<p>This is an O(n³) complexity algorithm (triple-nested loop).</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Pyramids {\n    public static void main(String[] args) {\n        System.out.println(render(2, 9)); // 2 pyramids with a base of 9\n        System.out.println(render(4, 5)); // 4 pyramids with a base of 5\n    }\n    \n    public static String render(int count, int size) {\n        StringBuffer buffer = new StringBuffer();\n        int rows = (int) Math.floor(size / 2) + 1;\n        for (int row = 0; row &lt; rows; row++) {\n            for (int pyramid = 0; pyramid &lt; count; pyramid++) {\n                int indentSize = pyramid == 0 ? row : row * 2;\n                for (int indent = 0; indent &lt; indentSize; indent++) {\n                    buffer.append(&quot; &quot;); // indent\n                }\n                int starCount = size - (row * 2);\n                for (int star = 0; star &lt; starCount; star++) {\n                    buffer.append(&quot;*&quot;); // star\n                }\n                buffer.append(&quot;  &quot;);;  // separator\n            }\n            buffer.append(System.lineSeparator());  // new-line\n        }\n        return buffer.toString();\n    }\n}\n</code></pre>\n<h2>Output</h2>\n<pre><code>*********  *********  \n *******    *******  \n  *****      *****  \n   ***        ***  \n    *          *  \n*****  *****  *****  *****  \n ***    ***    ***    ***  \n  *      *      *      *  \n</code></pre>\n<hr />\n<p>Here is a JavaScript version of the Java code above.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const renderPyramids = (count, size) =&gt; {\n  let str = '';\n  const rows = Math.floor(size / 2) + 1;\n  for (let row = 0; row &lt; rows; row++) {\n    for (let pyramid = 0; pyramid &lt; count; pyramid++) {\n      const indentSize = pyramid === 0 ? row : row * 2;\n      for (let indent = 0; indent &lt; indentSize; indent++) {\n        str += ' '; // indent\n      }\n      const starCount = size - (row * 2);\n      for (let star = 0; star &lt; starCount; star++) {\n        str += '*'; // star\n      }\n      str += '  ';  // separator\n    }\n    str += '\\n';  // new-line\n  }\n  return str;\n};\n\nconsole.log(renderPyramids(2, 9));\nconsole.log(renderPyramids(4, 5));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1668444340,"creation_date":1668444340,"answer_id":74435060,"question_id":74434592,"body_markdown":"[`String#repeat`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#repeat(int))\r\n--\r\n\r\nYou can do it using a single loop using [`String#repeat`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#repeat(int)).\r\n\r\n**Demo**:\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            final int ROWS = 5;\r\n            for (int i = 1; i &lt;= ROWS; i++) {\r\n                String stars = &quot;*&quot;.repeat((ROWS + 1) * 2 - 2 * i - 1);\r\n                System.out.println(&quot; &quot;.repeat(i - 1) + stars + &quot; &quot;.repeat(i * 2 - 1) + stars);\r\n            }\r\n        }\r\n    }\r\n\r\n**Output**:\r\n\r\n    ********* *********\r\n     *******   *******\r\n      *****     *****\r\n       ***       ***\r\n        *         *","title":"How can I print these reversed pyramid next to each other?","body":"<h2><a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#repeat(int)\" rel=\"nofollow noreferrer\"><code>String#repeat</code></a></h2>\n<p>You can do it using a single loop using <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#repeat(int)\" rel=\"nofollow noreferrer\"><code>String#repeat</code></a>.</p>\n<p><strong>Demo</strong>:</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        final int ROWS = 5;\n        for (int i = 1; i &lt;= ROWS; i++) {\n            String stars = &quot;*&quot;.repeat((ROWS + 1) * 2 - 2 * i - 1);\n            System.out.println(&quot; &quot;.repeat(i - 1) + stars + &quot; &quot;.repeat(i * 2 - 1) + stars);\n        }\n    }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>********* *********\n *******   *******\n  *****     *****\n   ***       ***\n    *         *\n</code></pre>\n"}],"owner":{"account_id":26835448,"reputation":11,"user_id":20422766,"display_name":"jay bee"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1668444773,"creation_date":1668442067,"question_id":74434592,"body_markdown":"I want to to display this reversed pyramid next to each other but the problem is the right side of my pyramid is different in the left side of my pyramid. How can I fix this? ![Here is the lopsided image][1] and \r\n![this is what it should look like][2].\r\n\r\n```\r\npackage proj;\r\n\r\npublic class Looping {\r\n\r\n\tpublic static void main(String[]args) {\r\n\t\tfor (int r=5; r&gt;0; r--) {\r\n\t\t\t\r\n\t\t\tfor (int s=5-r; s&gt;0; s--) {\r\n\t\t\t\tSystem.out.print(&quot; &quot;);\r\n\t\t\t}\r\n\t\t\tfor (int k=2*r-1; k&gt;0; k--) {\r\n\t\t\t\tSystem.out.print(&quot;*&quot;);\r\n\t\t\t}\r\n\r\n\t\t\tfor (int s=5-r; s&gt;0; s--) {\r\n\t\t\t\tSystem.out.print(&quot; &quot;);\r\n\t\t\t}\r\n\t\t\tfor (int k=2*r-1; k&gt;0; k--) {\r\n\t\t\t\tSystem.out.print(&quot;*&quot;);\r\n\t\t\t}\r\n\t\t\tSystem.out.println();\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n}\r\n```\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jmakq.png\r\n  [2]: https://i.stack.imgur.com/A2iJd.png","title":"How can I print these reversed pyramid next to each other?","body":"<p>I want to to display this reversed pyramid next to each other but the problem is the right side of my pyramid is different in the left side of my pyramid. How can I fix this? <img src=\"https://i.stack.imgur.com/jmakq.png\" alt=\"Here is the lopsided image\" /> and\n<img src=\"https://i.stack.imgur.com/A2iJd.png\" alt=\"this is what it should look like\" />.</p>\n<pre><code>package proj;\n\npublic class Looping {\n\n    public static void main(String[]args) {\n        for (int r=5; r&gt;0; r--) {\n            \n            for (int s=5-r; s&gt;0; s--) {\n                System.out.print(&quot; &quot;);\n            }\n            for (int k=2*r-1; k&gt;0; k--) {\n                System.out.print(&quot;*&quot;);\n            }\n\n            for (int s=5-r; s&gt;0; s--) {\n                System.out.print(&quot; &quot;);\n            }\n            for (int k=2*r-1; k&gt;0; k--) {\n                System.out.print(&quot;*&quot;);\n            }\n            System.out.println();\n        }\n        \n    }\n\n}\n</code></pre>\n"},{"tags":["java","bigdecimal"],"comments":[{"owner":{"account_id":2573724,"reputation":4716,"user_id":2231887,"accept_rate":88,"display_name":"Sionnach733"},"score":1,"creation_date":1395663912,"post_id":22609217,"comment_id":34425456,"body_markdown":"why are you rounding up for 10.12445?","body":"why are you rounding up for 10.12445?"},{"owner":{"account_id":55050,"reputation":190529,"user_id":164835,"accept_rate":80,"display_name":"Kent"},"score":1,"creation_date":1395664066,"post_id":22609217,"comment_id":34425563,"body_markdown":"if you have your own speical rounding rule, you have to implement on your own...","body":"if you have your own speical rounding rule, you have to implement on your own..."},{"owner":{"account_id":3200341,"reputation":12790,"user_id":2702504,"accept_rate":68,"display_name":"Keerthivasan"},"score":0,"creation_date":1395664078,"post_id":22609217,"comment_id":34425572,"body_markdown":"How is `10.12445` can be `10.13` ?","body":"How is <code>10.12445</code> can be <code>10.13</code> ?"},{"owner":{"account_id":1951203,"reputation":10695,"user_id":1755242,"accept_rate":80,"display_name":"sunleo"},"score":0,"creation_date":1395664555,"post_id":22609217,"comment_id":34425895,"body_markdown":"@Octopus Please check updated the second value","body":"@Octopus Please check updated the second value"},{"owner":{"account_id":775068,"reputation":64803,"user_id":823393,"accept_rate":86,"display_name":"OldCurmudgeon"},"score":1,"creation_date":1395664989,"post_id":22609217,"comment_id":34426170,"body_markdown":"You seem to be testing &quot;10.12445&quot; in your second set of tests - didn&#39;t you want &quot;10.12556&quot;?","body":"You seem to be testing &quot;10.12445&quot; in your second set of tests - didn&#39;t you want &quot;10.12556&quot;?"},{"owner":{"account_id":1951203,"reputation":10695,"user_id":1755242,"accept_rate":80,"display_name":"sunleo"},"score":0,"creation_date":1395665135,"post_id":22609217,"comment_id":34426274,"body_markdown":"sorry for the typo,Thanks for reply just corrected. its  10.12556 only","body":"sorry for the typo,Thanks for reply just corrected. its  10.12556 only"},{"owner":{"account_id":2038814,"reputation":11604,"user_id":1820501,"display_name":"Florent Bayle"},"score":0,"creation_date":1395665386,"post_id":22609217,"comment_id":34426472,"body_markdown":"@sunleo `10.12556` with `BigDecimal.ROUND_HALF_EVEN` gives `10.13`, and not `10.12`, and I think that this is what you want...","body":"@sunleo <code>10.12556</code> with <code>BigDecimal.ROUND_HALF_EVEN</code> gives <code>10.13</code>, and not <code>10.12</code>, and I think that this is what you want..."},{"owner":{"account_id":1951203,"reputation":10695,"user_id":1755242,"accept_rate":80,"display_name":"sunleo"},"score":0,"creation_date":1395666064,"post_id":22609217,"comment_id":34426936,"body_markdown":"Yes That&#39;s correct.Thanks for enlighten me.Pls maks as Answer.","body":"Yes That&#39;s correct.Thanks for enlighten me.Pls maks as Answer."},{"owner":{"account_id":2038814,"reputation":11604,"user_id":1820501,"display_name":"Florent Bayle"},"score":0,"creation_date":1395667293,"post_id":22609217,"comment_id":34427833,"body_markdown":"@sunleo I made an Answer.","body":"@sunleo I made an Answer."},{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":0,"creation_date":1395668114,"post_id":22609217,"comment_id":34428440,"body_markdown":"Your question shows incorrect output: the last three lines of your second example give &quot;10.13&quot; when you print it. How do you print it? like this: `System.out.println(b.setScale(2, BigDecimal.ROUND_HALF_DOWN));`? Maybe.. - do you realize that BigDecimal is immutable and that `setScale` returns a new BigDecimal, that it doesn&#39;t change the existing one?","body":"Your question shows incorrect output: the last three lines of your second example give &quot;10.13&quot; when you print it. How do you print it? like this: <code>System.out.println(b.setScale(2, BigDecimal.ROUND_HALF_DOWN));</code>? Maybe.. - do you realize that BigDecimal is immutable and that <code>setScale</code> returns a new BigDecimal, that it doesn&#39;t change the existing one?"},{"owner":{"account_id":1951203,"reputation":10695,"user_id":1755242,"accept_rate":80,"display_name":"sunleo"},"score":0,"creation_date":1395724347,"post_id":22609217,"comment_id":34455921,"body_markdown":"Thanks for all the Answers and Replys.","body":"Thanks for all the Answers and Replys."},{"owner":{"account_id":47487,"reputation":3720,"user_id":140707,"display_name":"Frans"},"score":0,"creation_date":1546861150,"post_id":22609217,"comment_id":94980151,"body_markdown":"Downvoted question as output shown does not match the code shown (where are the `println` statements?). And the output for `RoundingMode.HALF_UP` and for `RoundingMode.HALF_EVEN` in the second block is not what Java would return.","body":"Downvoted question as output shown does not match the code shown (where are the <code>println</code> statements?). And the output for <code>RoundingMode.HALF_UP</code> and for <code>RoundingMode.HALF_EVEN</code> in the second block is not what Java would return."}],"answers":[{"tags":[],"owner":{"account_id":545654,"reputation":7998,"user_id":1360984,"accept_rate":60,"display_name":"Harmlezz"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1395664095,"creation_date":1395664095,"answer_id":22609378,"question_id":22609217,"body_markdown":"You may try this:\r\n\r\n    public static void main(String[] args) {\r\n        BigDecimal a = new BigDecimal(&quot;10.12345&quot;);\r\n        System.out.println(toPrecision(a, 2));\r\n    }\r\n\r\n    private static BigDecimal toPrecision(BigDecimal dec, int precision) {\r\n        String plain = dec.movePointRight(precision).toPlainString();\r\n        return new BigDecimal(plain.substring(0, plain.indexOf(&quot;.&quot;))).movePointLeft(precision);\r\n    }\r\n\r\nOUTPUT:\r\n\r\n    10.12","title":"Rounding Bigdecimal values with 2 Decimal Places","body":"<p>You may try this:</p>\n\n<pre><code>public static void main(String[] args) {\n    BigDecimal a = new BigDecimal(\"10.12345\");\n    System.out.println(toPrecision(a, 2));\n}\n\nprivate static BigDecimal toPrecision(BigDecimal dec, int precision) {\n    String plain = dec.movePointRight(precision).toPlainString();\n    return new BigDecimal(plain.substring(0, plain.indexOf(\".\"))).movePointLeft(precision);\n}\n</code></pre>\n\n<p>OUTPUT:</p>\n\n<pre><code>10.12\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1951203,"reputation":10695,"user_id":1755242,"accept_rate":80,"display_name":"sunleo"},"score":0,"creation_date":1395664869,"post_id":22609430,"comment_id":34426092,"body_markdown":"a.add(new BigDecimal(&quot;0.001&quot;)).setScale(2, RoundingMode.HALF_UP) tried this is not working ?","body":"a.add(new BigDecimal(&quot;0.001&quot;)).setScale(2, RoundingMode.HALF_UP) tried this is not working ?"},{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":0,"creation_date":1395666419,"post_id":22609430,"comment_id":34427197,"body_markdown":"Not sure where the problem is for you. Try the code example I added, it prints &quot;10.13&quot;. BTW you changed the question after I gave the answer, you originally asked to round &quot;10.12345&quot; to &quot;10.12&quot; and &quot;10.12445&quot; to &quot;10.13&quot;.","body":"Not sure where the problem is for you. Try the code example I added, it prints &quot;10.13&quot;. BTW you changed the question after I gave the answer, you originally asked to round &quot;10.12345&quot; to &quot;10.12&quot; and &quot;10.12445&quot; to &quot;10.13&quot;."},{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":0,"creation_date":1395669977,"post_id":22609430,"comment_id":34429809,"body_markdown":"Your problem is probably the same as why you are printing the wrong output in your question itself (`new BigDecimal(&quot;10.12556&quot;).setScale(2, BigDecimal.ROUND_HALF_UP)` is `10.13`, not `10.12`) as your printed. As I said above, the only thing I can think of is that you assume that `setScale` changes the BigDecimal - but it does not, as they are immutable - the method returns a new BigDecimal.","body":"Your problem is probably the same as why you are printing the wrong output in your question itself (<code>new BigDecimal(&quot;10.12556&quot;).setScale(2, BigDecimal.ROUND_HALF_UP)</code> is <code>10.13</code>, not <code>10.12</code>) as your printed. As I said above, the only thing I can think of is that you assume that <code>setScale</code> changes the BigDecimal - but it does not, as they are immutable - the method returns a new BigDecimal."}],"tags":[],"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"comment_count":3,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1395666354,"creation_date":1395664229,"answer_id":22609430,"question_id":22609217,"body_markdown":"Add `0.001` first to the number and then call `setScale(2, RoundingMode.ROUND_HALF_UP)`\r\n\r\nCode example:\r\n\r\n    public static void main(String[] args) {\r\n        BigDecimal a = new BigDecimal(&quot;10.12445&quot;).add(new BigDecimal(&quot;0.001&quot;));\r\n        BigDecimal b = a.setScale(2, BigDecimal.ROUND_HALF_UP);\r\n        System.out.println(b);\r\n    }\r\n","title":"Rounding Bigdecimal values with 2 Decimal Places","body":"<p>Add <code>0.001</code> first to the number and then call <code>setScale(2, RoundingMode.ROUND_HALF_UP)</code></p>\n\n<p>Code example:</p>\n\n<pre><code>public static void main(String[] args) {\n    BigDecimal a = new BigDecimal(\"10.12445\").add(new BigDecimal(\"0.001\"));\n    BigDecimal b = a.setScale(2, BigDecimal.ROUND_HALF_UP);\n    System.out.println(b);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2078183,"reputation":3320,"user_id":1850925,"display_name":"Arjit"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1395665152,"creation_date":1395665152,"answer_id":22609809,"question_id":22609217,"body_markdown":"You can call `setScale(newScale, roundingMode)` method three times with changing the newScale value from 4 to 3 to 2 like \r\n\r\nFirst case\r\n\r\n        BigDecimal a = new BigDecimal(&quot;10.12345&quot;);\r\n\r\n        a = a.setScale(4, BigDecimal.ROUND_HALF_UP); \r\n        System.out.println(&quot;&quot; + a); //10.1235\r\n        a = a.setScale(3, BigDecimal.ROUND_HALF_UP); \r\n        System.out.println(&quot;&quot; + a); //10.124\r\n        a = a.setScale(2, BigDecimal.ROUND_HALF_UP);\r\n        System.out.println(&quot;&quot; + a); //10.12\r\n\r\nSecond case\r\n\r\n\r\n        BigDecimal a = new BigDecimal(&quot;10.12556&quot;);\r\n\r\n        a = a.setScale(4, BigDecimal.ROUND_HALF_UP); \r\n        System.out.println(&quot;&quot; + a); //10.1256\r\n        a = a.setScale(3, BigDecimal.ROUND_HALF_UP); \r\n        System.out.println(&quot;&quot; + a); //10.126\r\n        a = a.setScale(2, BigDecimal.ROUND_HALF_UP);\r\n        System.out.println(&quot;&quot; + a); //10.13\r\n\r\n\r\n","title":"Rounding Bigdecimal values with 2 Decimal Places","body":"<p>You can call <code>setScale(newScale, roundingMode)</code> method three times with changing the newScale value from 4 to 3 to 2 like </p>\n\n<p>First case</p>\n\n<pre><code>    BigDecimal a = new BigDecimal(\"10.12345\");\n\n    a = a.setScale(4, BigDecimal.ROUND_HALF_UP); \n    System.out.println(\"\" + a); //10.1235\n    a = a.setScale(3, BigDecimal.ROUND_HALF_UP); \n    System.out.println(\"\" + a); //10.124\n    a = a.setScale(2, BigDecimal.ROUND_HALF_UP);\n    System.out.println(\"\" + a); //10.12\n</code></pre>\n\n<p>Second case</p>\n\n<pre><code>    BigDecimal a = new BigDecimal(\"10.12556\");\n\n    a = a.setScale(4, BigDecimal.ROUND_HALF_UP); \n    System.out.println(\"\" + a); //10.1256\n    a = a.setScale(3, BigDecimal.ROUND_HALF_UP); \n    System.out.println(\"\" + a); //10.126\n    a = a.setScale(2, BigDecimal.ROUND_HALF_UP);\n    System.out.println(\"\" + a); //10.13\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2303331,"reputation":4667,"user_id":2023148,"accept_rate":50,"display_name":"bpedroso"},"score":2,"creation_date":1507653501,"post_id":22610642,"comment_id":80291938,"body_markdown":"I prefer to setScale after the new BigDecimal in the same line, but this answer helps me. new BigDecimal(&quot;10.12345&quot;).setScale(2, BigDecimal.ROUND_HALF_EVEN)","body":"I prefer to setScale after the new BigDecimal in the same line, but this answer helps me. new BigDecimal(&quot;10.12345&quot;).setScale(2, BigDecimal.ROUND_HALF_EVEN)"},{"owner":{"account_id":9283951,"reputation":898,"user_id":6894437,"display_name":"Sophia Price"},"score":0,"creation_date":1587388592,"post_id":22610642,"comment_id":108483847,"body_markdown":"`setScale(int, int)` has not been recommended since Java 1.5, when enums were first introduced, and was finally deprecated in Java 9. \nYou should now use `setScale(int, RoundingMode)` \ne.g: `setScale(2, RoundingMode.HALF_EVEN)`","body":"<code>setScale(int, int)</code> has not been recommended since Java 1.5, when enums were first introduced, and was finally deprecated in Java 9.  You should now use <code>setScale(int, RoundingMode)</code>  e.g: <code>setScale(2, RoundingMode.HALF_EVEN)</code>"}],"tags":[],"owner":{"account_id":2038814,"reputation":11604,"user_id":1820501,"display_name":"Florent Bayle"},"comment_count":2,"down_vote_count":0,"up_vote_count":107,"is_accepted":true,"score":107,"last_activity_date":1587392780,"creation_date":1395667260,"answer_id":22610642,"question_id":22609217,"body_markdown":"I think that the `RoundingMode` you are looking for is `ROUND_HALF_EVEN`. From [the javadoc][1]:\r\n&gt; Rounding mode to round towards the &quot;nearest neighbor&quot; unless both neighbors are equidistant, in which case, round towards the even neighbor. Behaves as for ROUND_HALF_UP if the digit to the left of the discarded fraction is odd; behaves as for ROUND_HALF_DOWN if it&#39;s even. Note that this is the rounding mode that minimizes cumulative error when applied repeatedly over a sequence of calculations.\r\n\r\nHere is a quick test case:\r\n\r\n    BigDecimal a = new BigDecimal(&quot;10.12345&quot;);\r\n    BigDecimal b = new BigDecimal(&quot;10.12556&quot;);\r\n\r\n    a = a.setScale(2, BigDecimal.ROUND_HALF_EVEN);\r\n    b = b.setScale(2, BigDecimal.ROUND_HALF_EVEN);\r\n\r\n    System.out.println(a);\r\n    System.out.println(b);\r\n\r\nCorrectly prints:\r\n\r\n    10.12\r\n    10.13\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/math/BigDecimal.html#ROUND_HALF_EVEN\r\n\r\nUPDATE:\r\n\r\n`setScale(int, int)` has not been recommended since Java 1.5, when enums were first introduced, and was finally deprecated in Java 9. You should now use `setScale(int, RoundingMode)` e.g: \r\n\r\n`setScale(2, RoundingMode.HALF_EVEN)`","title":"Rounding Bigdecimal values with 2 Decimal Places","body":"<p>I think that the <code>RoundingMode</code> you are looking for is <code>ROUND_HALF_EVEN</code>. From <a href=\"http://docs.oracle.com/javase/7/docs/api/java/math/BigDecimal.html#ROUND_HALF_EVEN\" rel=\"noreferrer\">the javadoc</a>:</p>\n\n<blockquote>\n  <p>Rounding mode to round towards the \"nearest neighbor\" unless both neighbors are equidistant, in which case, round towards the even neighbor. Behaves as for ROUND_HALF_UP if the digit to the left of the discarded fraction is odd; behaves as for ROUND_HALF_DOWN if it's even. Note that this is the rounding mode that minimizes cumulative error when applied repeatedly over a sequence of calculations.</p>\n</blockquote>\n\n<p>Here is a quick test case:</p>\n\n<pre><code>BigDecimal a = new BigDecimal(\"10.12345\");\nBigDecimal b = new BigDecimal(\"10.12556\");\n\na = a.setScale(2, BigDecimal.ROUND_HALF_EVEN);\nb = b.setScale(2, BigDecimal.ROUND_HALF_EVEN);\n\nSystem.out.println(a);\nSystem.out.println(b);\n</code></pre>\n\n<p>Correctly prints:</p>\n\n<pre><code>10.12\n10.13\n</code></pre>\n\n<p>UPDATE:</p>\n\n<p><code>setScale(int, int)</code> has not been recommended since Java 1.5, when enums were first introduced, and was finally deprecated in Java 9. You should now use <code>setScale(int, RoundingMode)</code> e.g: </p>\n\n<p><code>setScale(2, RoundingMode.HALF_EVEN)</code></p>\n"},{"tags":[],"owner":{"account_id":9941523,"reputation":1018,"user_id":7357959,"display_name":"Tsvetoslav Tsvetkov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668444318,"creation_date":1668444318,"answer_id":74435054,"question_id":22609217,"body_markdown":"According to the docs, `setScale(int, int)`, has not been recommended since [Java 1.5][1], when enums were first introduced:\r\n\r\n&gt; The new `setScale(int, RoundingMode)` method should be used in preference to this legacy method.\r\n\r\nIt was finally deprecated in [Java 9][2].\r\n\r\nYou should call [`setScale(2, RoundingMode.HALF_EVEN)`][3] instead. It makes error checking much simpler, since you can&#39;t pass in an undefined `enum`, but you can certainly pass in an integer mode which is undefined.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/1.5.0/docs/api/java/math/BigDecimal.html#setScale(int,%20int)\r\n  [2]: https://docs.oracle.com/javase/9/docs/api/java/math/BigDecimal.html#setScale-int-int-\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html#setScale-int-java.math.RoundingMode-","title":"Rounding Bigdecimal values with 2 Decimal Places","body":"<p>According to the docs, <code>setScale(int, int)</code>, has not been recommended since <a href=\"https://docs.oracle.com/javase/1.5.0/docs/api/java/math/BigDecimal.html#setScale(int,%20int)\" rel=\"nofollow noreferrer\">Java 1.5</a>, when enums were first introduced:</p>\n<blockquote>\n<p>The new <code>setScale(int, RoundingMode)</code> method should be used in preference to this legacy method.</p>\n</blockquote>\n<p>It was finally deprecated in <a href=\"https://docs.oracle.com/javase/9/docs/api/java/math/BigDecimal.html#setScale-int-int-\" rel=\"nofollow noreferrer\">Java 9</a>.</p>\n<p>You should call <a href=\"https://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html#setScale-int-java.math.RoundingMode-\" rel=\"nofollow noreferrer\"><code>setScale(2, RoundingMode.HALF_EVEN)</code></a> instead. It makes error checking much simpler, since you can't pass in an undefined <code>enum</code>, but you can certainly pass in an integer mode which is undefined.</p>\n"}],"owner":{"account_id":1951203,"reputation":10695,"user_id":1755242,"accept_rate":80,"display_name":"sunleo"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":216800,"favorite_count":0,"down_vote_count":2,"up_vote_count":76,"accepted_answer_id":22610642,"answer_count":5,"score":74,"last_activity_date":1668444318,"creation_date":1395663585,"question_id":22609217,"body_markdown":"I want a function to convert *Bigdecimal* `10.12 for 10.12345` and `10.13 for 10.12556`.\r\nBut no function is satisfying both conversion in same time.Please help to achieve this.\r\n\r\nBelow is what I tried.&lt;br&gt;\r\nWith value 10.12345:\r\n\r\n    BigDecimal a = new BigDecimal(&quot;10.12345&quot;);\r\n    \r\n    a.setScale(2, BigDecimal.ROUND_UP)\r\n    a.setScale(2, BigDecimal.ROUND_CEILING)\r\n    a.setScale(2, BigDecimal.ROUND_DOWN)\r\n    a.setScale(2, BigDecimal.ROUND_FLOOR)\r\n    a.setScale(2, BigDecimal.ROUND_HALF_DOWN)\r\n    a.setScale(2, BigDecimal.ROUND_HALF_EVEN)\r\n    a.setScale(2, BigDecimal.ROUND_HALF_UP)\r\n\r\nOutput :\r\n\r\n    10.12345::10.13\r\n    10.12345::10.13\r\n    10.12345::10.12\r\n    10.12345::10.12\r\n    10.12345::10.12\r\n    10.12345::10.12\r\n    10.12345::10.12\r\nWith value 10.12556:\r\n\r\n    BigDecimal b = new BigDecimal(&quot;10.12556&quot;);\r\n    \r\n    b.setScale(2, BigDecimal.ROUND_UP)\r\n    b.setScale(2, BigDecimal.ROUND_CEILING)\r\n    b.setScale(2, BigDecimal.ROUND_DOWN)\r\n    b.setScale(2, BigDecimal.ROUND_FLOOR)\r\n    b.setScale(2, BigDecimal.ROUND_HALF_DOWN)\r\n    b.setScale(2, BigDecimal.ROUND_HALF_EVEN)\r\n    b.setScale(2, BigDecimal.ROUND_HALF_UP)\r\n\r\nOutput :\r\n\r\n    10.12556::10.13\r\n    10.12556::10.13\r\n    10.12556::10.12\r\n    10.12556::10.12\r\n    10.12556::10.12\r\n    10.12556::10.12\r\n    10.12556::10.12\r\n\r\n\r\n","title":"Rounding Bigdecimal values with 2 Decimal Places","body":"<p>I want a function to convert <em>Bigdecimal</em> <code>10.12 for 10.12345</code> and <code>10.13 for 10.12556</code>.\nBut no function is satisfying both conversion in same time.Please help to achieve this.</p>\n\n<p>Below is what I tried.<br>\nWith value 10.12345:</p>\n\n<pre><code>BigDecimal a = new BigDecimal(\"10.12345\");\n\na.setScale(2, BigDecimal.ROUND_UP)\na.setScale(2, BigDecimal.ROUND_CEILING)\na.setScale(2, BigDecimal.ROUND_DOWN)\na.setScale(2, BigDecimal.ROUND_FLOOR)\na.setScale(2, BigDecimal.ROUND_HALF_DOWN)\na.setScale(2, BigDecimal.ROUND_HALF_EVEN)\na.setScale(2, BigDecimal.ROUND_HALF_UP)\n</code></pre>\n\n<p>Output :</p>\n\n<pre><code>10.12345::10.13\n10.12345::10.13\n10.12345::10.12\n10.12345::10.12\n10.12345::10.12\n10.12345::10.12\n10.12345::10.12\n</code></pre>\n\n<p>With value 10.12556:</p>\n\n<pre><code>BigDecimal b = new BigDecimal(\"10.12556\");\n\nb.setScale(2, BigDecimal.ROUND_UP)\nb.setScale(2, BigDecimal.ROUND_CEILING)\nb.setScale(2, BigDecimal.ROUND_DOWN)\nb.setScale(2, BigDecimal.ROUND_FLOOR)\nb.setScale(2, BigDecimal.ROUND_HALF_DOWN)\nb.setScale(2, BigDecimal.ROUND_HALF_EVEN)\nb.setScale(2, BigDecimal.ROUND_HALF_UP)\n</code></pre>\n\n<p>Output :</p>\n\n<pre><code>10.12556::10.13\n10.12556::10.13\n10.12556::10.12\n10.12556::10.12\n10.12556::10.12\n10.12556::10.12\n10.12556::10.12\n</code></pre>\n"},{"tags":["python","java"],"comments":[{"owner":{"account_id":25595239,"reputation":55,"user_id":19371185,"display_name":"Mohamed chouai"},"score":0,"creation_date":1668442179,"post_id":74434557,"comment_id":131400049,"body_markdown":"can you please explain what exactly this method do","body":"can you please explain what exactly this method do"},{"owner":{"account_id":26929652,"reputation":17,"user_id":20502344,"display_name":"HY Z"},"score":0,"creation_date":1668442600,"post_id":74434557,"comment_id":131400199,"body_markdown":"if I input a number into this method then it should be between the min and max values, if not it will give a hint and ask you to input it again","body":"if I input a number into this method then it should be between the min and max values, if not it will give a hint and ask you to input it again"},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1668442620,"post_id":74434557,"comment_id":131400207,"body_markdown":"When I run your Python example, it _always_ breaks out of the loop after prompting one time. If the `value` is between the `minimum` and the `maximum`, it executes the `return value` statement, and the function returns the value. Otherwise, it executes the `break` statement, and the function returns `None`.  Are you sure that the code you copied into your question is the same as the code that you are trying to run?","body":"When I run your Python example, it <i>always</i> breaks out of the loop after prompting one time. If the <code>value</code> is between the <code>minimum</code> and the <code>maximum</code>, it executes the <code>return value</code> statement, and the function returns the value. Otherwise, it executes the <code>break</code> statement, and the function returns <code>None</code>.  Are you sure that the code you copied into your question is the same as the code that you are trying to run?"},{"owner":{"account_id":25595239,"reputation":55,"user_id":19371185,"display_name":"Mohamed chouai"},"score":3,"creation_date":1668442848,"post_id":74434557,"comment_id":131400304,"body_markdown":"@HYZ just remove the `break` statement","body":"@HYZ just remove the <code>break</code> statement"},{"owner":{"account_id":1486097,"reputation":11154,"user_id":1394353,"accept_rate":71,"display_name":"JL Peyret"},"score":0,"creation_date":1668446609,"post_id":74434557,"comment_id":131401728,"body_markdown":"what&#39;s wrong with putting in a bit of print statements or using  a debugger, before posting here?  there&#39;s nothing all that specific to Python going on.  welcome aboard, but try to aim for a bit less trivial questions in the future.","body":"what&#39;s wrong with putting in a bit of print statements or using  a debugger, before posting here?  there&#39;s nothing all that specific to Python going on.  welcome aboard, but try to aim for a bit less trivial questions in the future."}],"answers":[{"comments":[{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1668442680,"post_id":74434706,"comment_id":131400235,"body_markdown":"It&#39;s supposed to continue prompting for input until the user types a number in the given range. Did you try entering a number that was out-of-range?","body":"It&#39;s supposed to continue prompting for input until the user types a number in the given range. Did you try entering a number that was out-of-range?"},{"owner":{"account_id":26929652,"reputation":17,"user_id":20502344,"display_name":"HY Z"},"score":0,"creation_date":1668442808,"post_id":74434706,"comment_id":131400289,"body_markdown":"But if I input the wrong number how I can make it return to let me input the correct number again? Thanks","body":"But if I input the wrong number how I can make it return to let me input the correct number again? Thanks"},{"owner":{"account_id":22365100,"reputation":105,"user_id":16581025,"display_name":"wallbloggerbeing"},"score":1,"creation_date":1668442892,"post_id":74434706,"comment_id":131400322,"body_markdown":"@HYZ remove the break statement","body":"@HYZ remove the break statement"}],"tags":[],"owner":{"account_id":22365100,"reputation":105,"user_id":16581025,"display_name":"wallbloggerbeing"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668442845,"creation_date":1668442616,"answer_id":74434706,"question_id":74434557,"body_markdown":"For me it works perfectly fine. To use the function just put it somewhere and make sure to make the prompt a string like for example in this usecase of the function:\r\n\r\n    print(readnumber(&quot;input a number: &quot;, 2, 4))\r\n\r\nEdit: For contiuos asking for a number remove the break statement in the else clause","title":"How to transfer the following Java methods to Python def()","body":"<p>For me it works perfectly fine. To use the function just put it somewhere and make sure to make the prompt a string like for example in this usecase of the function:</p>\n<pre><code>print(readnumber(&quot;input a number: &quot;, 2, 4))\n</code></pre>\n<p>Edit: For contiuos asking for a number remove the break statement in the else clause</p>\n"},{"tags":[],"owner":{"account_id":22103388,"reputation":76,"user_id":16359495,"display_name":"Guapz"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668442648,"creation_date":1668442648,"answer_id":74434714,"question_id":74434557,"body_markdown":"You have the break in the wrong case. in the java method you break when the value is &gt; minimum and &lt; than maximum, but in the python code you break the loop in the other case","title":"How to transfer the following Java methods to Python def()","body":"<p>You have the break in the wrong case. in the java method you break when the value is &gt; minimum and &lt; than maximum, but in the python code you break the loop in the other case</p>\n"},{"tags":[],"owner":{"account_id":21226616,"reputation":1,"user_id":15612188,"display_name":"diliGentt"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668444274,"creation_date":1668444155,"answer_id":74435024,"question_id":74434557,"body_markdown":"You could add an extra line of code and create a flag and change the flag \r\ne.g., \r\n\r\n    flag = true\r\n\r\nand use \r\n\r\n    while(flag)\r\n\r\nThen instead of break, you can change the flag to false so the loop stops explicitly rather than implicitly","title":"How to transfer the following Java methods to Python def()","body":"<p>You could add an extra line of code and create a flag and change the flag\ne.g.,</p>\n<pre><code>flag = true\n</code></pre>\n<p>and use</p>\n<pre><code>while(flag)\n</code></pre>\n<p>Then instead of break, you can change the flag to false so the loop stops explicitly rather than implicitly</p>\n"}],"owner":{"account_id":26929652,"reputation":17,"user_id":20502344,"display_name":"HY Z"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":3,"score":0,"last_activity_date":1668444274,"creation_date":1668441916,"question_id":74434557,"body_markdown":"```\r\npublic static double readNumber(String prompt,double min, double max){\r\n\r\n    Scanner scanner = new Scanner(System.in);\r\n    double value;\r\n    while (true){\r\n        System.out.print(prompt);\r\n        value = scanner.nextFloat();\r\n        if (value &gt;= min &amp;&amp; value &lt;= max) {\r\n            break;\r\n        } else\r\n            System.out.println(&quot;Enter a value between &quot;+min+&quot; and &quot;+max);\r\n    }\r\n    return value;\r\n}\r\n\r\n```\r\nThe upper one works. But the following one doesn&#39;t jump out of the loop.  \r\n\r\n```\r\ndef readnumber(prompt, minimum, maximum):\r\n    while True:\r\n        value = float(input(prompt))\r\n        if minimum &lt;= value &lt;= maximum:\r\n            return value\r\n        else:\r\n            print(f&quot;a valid value needed between {minimum} and {maximum}&quot;)\r\n            break\r\n\r\n```\r\nIt doesn&#39;t work the same way. HELP the new beginner please","title":"How to transfer the following Java methods to Python def()","body":"<pre><code>public static double readNumber(String prompt,double min, double max){\n\n    Scanner scanner = new Scanner(System.in);\n    double value;\n    while (true){\n        System.out.print(prompt);\n        value = scanner.nextFloat();\n        if (value &gt;= min &amp;&amp; value &lt;= max) {\n            break;\n        } else\n            System.out.println(&quot;Enter a value between &quot;+min+&quot; and &quot;+max);\n    }\n    return value;\n}\n\n</code></pre>\n<p>The upper one works. But the following one doesn't jump out of the loop.</p>\n<pre><code>def readnumber(prompt, minimum, maximum):\n    while True:\n        value = float(input(prompt))\n        if minimum &lt;= value &lt;= maximum:\n            return value\n        else:\n            print(f&quot;a valid value needed between {minimum} and {maximum}&quot;)\n            break\n\n</code></pre>\n<p>It doesn't work the same way. HELP the new beginner please</p>\n"},{"tags":["java","spring-boot","logging","logback","slf4j"],"answers":[{"comments":[{"owner":{"account_id":26929542,"reputation":21,"user_id":20502251,"display_name":"felixbupt"},"score":0,"creation_date":1668521953,"post_id":74434918,"comment_id":131421943,"body_markdown":"Thank you very much for your answer. I set &lt;slf4j.version&gt;2.0.3&lt;/slf4j.version&gt;&lt;logback.version&gt;1.4.4&lt;/logback.version&gt; in root pom properties, which cause the situation in the appeal answer. It worked fine after  the properties removed","body":"Thank you very much for your answer. I set &lt;slf4j.version&gt;2.0.3&lt;/slf4j.version&gt;&lt;logback.version&gt;1.4.4&lt;/&zwnj;&#8203;logback.version&gt; in root pom properties, which cause the situation in the appeal answer. It worked fine after  the properties removed"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1668524993,"post_id":74434918,"comment_id":131423276,"body_markdown":"@felixbupt in this case you&#39;re overwriting the logback version provided by Spring Boot with one that works with SLF4J 2.x. Since the only incompatibility between the two logback versions is the SLF4J API version, you should indeed be good to go.","body":"@felixbupt in this case you&#39;re overwriting the logback version provided by Spring Boot with one that works with SLF4J 2.x. Since the only incompatibility between the two logback versions is the SLF4J API version, you should indeed be good to go."}],"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1668443621,"creation_date":1668443621,"answer_id":74434918,"question_id":74434487,"body_markdown":"SLF4J drastically changed the way its implementations are found between versions 1.x and 2.x. In 1.x, the binding class needed to provide a class named `org.slf4j.impl.StaticLoggerBinder` - the class that&#39;s missing. In 2.x it uses the `ServiceLoader` mechanism.\r\n\r\nSpring Boot currently still uses SLF4J 1.7.36, through `spring-boot-starter-web` -&gt; `spring-boot-starter` -&gt; `spring-boot-starter-logging`. The latter depends on some SLF4J bridges, as well as `logback-classic` which in turn depends on SLF4J 1.7.32. I think that the 1.7.36 &quot;wins&quot; over the 1.7.32.\r\n\r\nUnless one of your other dependencies has a transitive dependency on SLF4J 2.x, everything should work just fine. If you do, then you have a mix of SLF4J 1.x and 2.x, and that&#39;s simply not going to work. Replace the 2.x dependency with a 1.x dependency and you should be fine (unless you use the fluent API that was added in 2.x).","title":"springboot2.7.5 start error Caused by: java.lang.NoClassDefFoundError: org/slf4j/impl/StaticLoggerBinder","body":"<p>SLF4J drastically changed the way its implementations are found between versions 1.x and 2.x. In 1.x, the binding class needed to provide a class named <code>org.slf4j.impl.StaticLoggerBinder</code> - the class that's missing. In 2.x it uses the <code>ServiceLoader</code> mechanism.</p>\n<p>Spring Boot currently still uses SLF4J 1.7.36, through <code>spring-boot-starter-web</code> -&gt; <code>spring-boot-starter</code> -&gt; <code>spring-boot-starter-logging</code>. The latter depends on some SLF4J bridges, as well as <code>logback-classic</code> which in turn depends on SLF4J 1.7.32. I think that the 1.7.36 &quot;wins&quot; over the 1.7.32.</p>\n<p>Unless one of your other dependencies has a transitive dependency on SLF4J 2.x, everything should work just fine. If you do, then you have a mix of SLF4J 1.x and 2.x, and that's simply not going to work. Replace the 2.x dependency with a 1.x dependency and you should be fine (unless you use the fluent API that was added in 2.x).</p>\n"}],"owner":{"account_id":26929542,"reputation":21,"user_id":20502251,"display_name":"felixbupt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1231,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1668443621,"creation_date":1668441535,"question_id":74434487,"body_markdown":"I introduced the spring-boot-starter-web, used its own spring-boot-starter-logging framework, specified the configuration file in yaml, and reported startup errors\r\nyaml:\r\n\r\n```\r\nlogging:\r\n  level:\r\n    root: info\r\n    com.felix.flink.tutorial.api: debug\r\n  config: classpath:logback-spring.xml\r\n```\r\n\r\n\r\nmaven: \r\n\r\n```\r\n&lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.felix&lt;/groupId&gt;\r\n        &lt;artifactId&gt;flink-tutorial-component&lt;/artifactId&gt;\r\n        &lt;version&gt;${revision}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```\r\n\r\nexception:\r\n```\r\n23:45:33.009 [Thread-0] DEBUG org.springframework.boot.devtools.restart.classloader.RestartClassLoader - Created RestartClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@7abaedae\r\nException in thread &quot;restartedMain&quot; java.lang.reflect.InvocationTargetException\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)\r\nCaused by: java.lang.NoClassDefFoundError: org/slf4j/impl/StaticLoggerBinder\r\n\tat org.springframework.boot.logging.logback.LogbackLoggingSystem.getLoggerContext(LogbackLoggingSystem.java:293)\r\n\tat org.springframework.boot.logging.logback.LogbackLoggingSystem.beforeInitialize(LogbackLoggingSystem.java:118)\r\n\tat org.springframework.boot.context.logging.LoggingApplicationListener.onApplicationStartingEvent(LoggingApplicationListener.java:238)\r\n\tat org.springframework.boot.context.logging.LoggingApplicationListener.onApplicationEvent(LoggingApplicationListener.java:220)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131)\r\n\tat org.springframework.boot.context.event.EventPublishingRunListener.starting(EventPublishingRunListener.java:79)\r\n\tat org.springframework.boot.SpringApplicationRunListeners.lambda$starting$0(SpringApplicationRunListeners.java:56)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1540)\r\n\tat org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:120)\r\n\tat org.springframework.boot.SpringApplicationRunListeners.starting(SpringApplicationRunListeners.java:56)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:299)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\r\n\tat com.felix.flink.tutorial.api.FlinkTutorialApiApplication.main(FlinkTutorialApiApplication.java:15)\r\n\t... 5 more\r\nCaused by: java.lang.ClassNotFoundException: org.slf4j.impl.StaticLoggerBinder\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:583)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n\t... 22 more\r\n\r\nProcess finished with exit code 0\r\n\r\n```\r\n\r\n\r\ni have import slf4j 2.0.3 derect in the pom,but it doesn&#39;t work","title":"springboot2.7.5 start error Caused by: java.lang.NoClassDefFoundError: org/slf4j/impl/StaticLoggerBinder","body":"<p>I introduced the spring-boot-starter-web, used its own spring-boot-starter-logging framework, specified the configuration file in yaml, and reported startup errors\nyaml:</p>\n<pre><code>logging:\n  level:\n    root: info\n    com.felix.flink.tutorial.api: debug\n  config: classpath:logback-spring.xml\n</code></pre>\n<p>maven:</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.felix&lt;/groupId&gt;\n        &lt;artifactId&gt;flink-tutorial-component&lt;/artifactId&gt;\n        &lt;version&gt;${revision}&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>exception:</p>\n<pre><code>23:45:33.009 [Thread-0] DEBUG org.springframework.boot.devtools.restart.classloader.RestartClassLoader - Created RestartClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@7abaedae\nException in thread &quot;restartedMain&quot; java.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)\nCaused by: java.lang.NoClassDefFoundError: org/slf4j/impl/StaticLoggerBinder\n    at org.springframework.boot.logging.logback.LogbackLoggingSystem.getLoggerContext(LogbackLoggingSystem.java:293)\n    at org.springframework.boot.logging.logback.LogbackLoggingSystem.beforeInitialize(LogbackLoggingSystem.java:118)\n    at org.springframework.boot.context.logging.LoggingApplicationListener.onApplicationStartingEvent(LoggingApplicationListener.java:238)\n    at org.springframework.boot.context.logging.LoggingApplicationListener.onApplicationEvent(LoggingApplicationListener.java:220)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131)\n    at org.springframework.boot.context.event.EventPublishingRunListener.starting(EventPublishingRunListener.java:79)\n    at org.springframework.boot.SpringApplicationRunListeners.lambda$starting$0(SpringApplicationRunListeners.java:56)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1540)\n    at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:120)\n    at org.springframework.boot.SpringApplicationRunListeners.starting(SpringApplicationRunListeners.java:56)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:299)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\n    at com.felix.flink.tutorial.api.FlinkTutorialApiApplication.main(FlinkTutorialApiApplication.java:15)\n    ... 5 more\nCaused by: java.lang.ClassNotFoundException: org.slf4j.impl.StaticLoggerBinder\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:583)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n    ... 22 more\n\nProcess finished with exit code 0\n\n</code></pre>\n<p>i have import slf4j 2.0.3 derect in the pom,but it doesn't work</p>\n"},{"tags":["java","spring","spring-boot","amazon-dynamodb"],"answers":[{"comments":[{"owner":{"account_id":5573654,"reputation":5164,"user_id":4417924,"display_name":"Jason"},"score":7,"creation_date":1583797953,"post_id":60609790,"comment_id":107229552,"body_markdown":"My dude you asked and answered this so quick. You are a beacon of light. Good job.","body":"My dude you asked and answered this so quick. You are a beacon of light. Good job."}],"tags":[],"owner":{"account_id":1177594,"reputation":5616,"user_id":1153203,"accept_rate":86,"display_name":"Sean Dawson"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1583797833,"creation_date":1583797833,"answer_id":60609790,"question_id":60609789,"body_markdown":"It turned out that spring-data-dynamo v5.1.0 was not compatible with my version of Spring Boot (2.0.0)\r\n\r\nDowngrading the spring-data-dynamo library to v5.0.4 fixed my issues.","title":"Error creating bean with name &#39;dynamoDB-DynamoDBMapper&#39;","body":"<p>It turned out that spring-data-dynamo v5.1.0 was not compatible with my version of Spring Boot (2.0.0)</p>\n\n<p>Downgrading the spring-data-dynamo library to v5.0.4 fixed my issues.</p>\n"},{"tags":[],"owner":{"account_id":9914886,"reputation":126,"user_id":7340161,"display_name":"Sai Srikar Mutya"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668443610,"creation_date":1668443610,"answer_id":74434915,"question_id":60609789,"body_markdown":"You can fix this issue by using the `dynamoDBMapperConfigRef` option of `@EnableDynamoDBRepositories`. Adding the code snippet below,\r\n\r\n    @EnableDynamoDBRepositories(dynamoDBMapperConfigRef = &quot;dynamoDBMapperConfig&quot;)\r\n\r\n    @Bean\r\n    public DynamoDBMapperConfig dynamoDBMapperConfig() {\r\n        return\r\n            DynamoDBMapperConfig.builder()\r\n                .withTableNameOverride(withTableNameReplacement(tableName))\r\n                .build();\r\n    }\r\n\r\nThis is working even with the latest version of spring-boot and spring-data-dynamodb.\r\n\r\nThere is an Open issue raised in Github. You can also check this link, [Second instance of DynamoDBMapperConfig being created][1] \r\n\r\n\r\n  [1]: https://github.com/derjust/spring-data-dynamodb/issues/233#issuecomment-462186444","title":"Error creating bean with name &#39;dynamoDB-DynamoDBMapper&#39;","body":"<p>You can fix this issue by using the <code>dynamoDBMapperConfigRef</code> option of <code>@EnableDynamoDBRepositories</code>. Adding the code snippet below,</p>\n<pre><code>@EnableDynamoDBRepositories(dynamoDBMapperConfigRef = &quot;dynamoDBMapperConfig&quot;)\n\n@Bean\npublic DynamoDBMapperConfig dynamoDBMapperConfig() {\n    return\n        DynamoDBMapperConfig.builder()\n            .withTableNameOverride(withTableNameReplacement(tableName))\n            .build();\n}\n</code></pre>\n<p>This is working even with the latest version of spring-boot and spring-data-dynamodb.</p>\n<p>There is an Open issue raised in Github. You can also check this link, <a href=\"https://github.com/derjust/spring-data-dynamodb/issues/233#issuecomment-462186444\" rel=\"nofollow noreferrer\">Second instance of DynamoDBMapperConfig being created</a></p>\n"}],"owner":{"account_id":1177594,"reputation":5616,"user_id":1153203,"accept_rate":86,"display_name":"Sean Dawson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5647,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":60609790,"answer_count":2,"score":0,"last_activity_date":1668443610,"creation_date":1583797833,"question_id":60609789,"body_markdown":"When I run my Spring Boot 2.0.0 application with the current latest version of [spring-data-dynamodb][1] (v5.1.0) I get the following error at runtime.\r\n\r\n&gt; org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dynamoDB-DynamoDBMapper&#39;: Instantiation of bean failed; nested exception is\r\n&gt; org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.socialsignin.spring.data.dynamodb.repository.config.DynamoDBMapperFactory]:\r\n&gt; No default constructor found; nested exception is\r\n&gt; java.lang.NoSuchMethodException:\r\n&gt; org.socialsignin.spring.data.dynamodb.repository.config.DynamoDBMapperFactory.&lt;init&gt;()\r\n\r\nI have tried the following things:\r\n\r\n 1. Adding a DynamoDBMapperFactory bean to my configuration class and making it primary\r\n 2. Different combinations of AWSCredentials, DynamoDBMapperConfig, DynamoDBMapper and AmazonDynamoDB bean configurations (e.g. removing them, making them primary, giving them names and explicitly referring to them)\r\n 3. Different combintations of config passed to the EnableDynamoDBRepositories annotation\r\n\r\n\r\n  [1]: https://github.com/derjust/spring-data-dynamodb","title":"Error creating bean with name &#39;dynamoDB-DynamoDBMapper&#39;","body":"<p>When I run my Spring Boot 2.0.0 application with the current latest version of <a href=\"https://github.com/derjust/spring-data-dynamodb\" rel=\"nofollow noreferrer\">spring-data-dynamodb</a> (v5.1.0) I get the following error at runtime.</p>\n\n<blockquote>\n  <p>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dynamoDB-DynamoDBMapper': Instantiation of bean failed; nested exception is\n  org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.socialsignin.spring.data.dynamodb.repository.config.DynamoDBMapperFactory]:\n  No default constructor found; nested exception is\n  java.lang.NoSuchMethodException:\n  org.socialsignin.spring.data.dynamodb.repository.config.DynamoDBMapperFactory.()</p>\n</blockquote>\n\n<p>I have tried the following things:</p>\n\n<ol>\n<li>Adding a DynamoDBMapperFactory bean to my configuration class and making it primary</li>\n<li>Different combinations of AWSCredentials, DynamoDBMapperConfig, DynamoDBMapper and AmazonDynamoDB bean configurations (e.g. removing them, making them primary, giving them names and explicitly referring to them)</li>\n<li>Different combintations of config passed to the EnableDynamoDBRepositories annotation</li>\n</ol>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1668442957,"post_id":74434748,"comment_id":131400357,"body_markdown":"If it&#39;s a runtime dependency, then you&#39;ll force consumers of your class to also depend on the external library and thus run Java 14. You can either re-compile your dependency with Java 11 or copy the source into your library and get rid of the dependency.","body":"If it&#39;s a runtime dependency, then you&#39;ll force consumers of your class to also depend on the external library and thus run Java 14. You can either re-compile your dependency with Java 11 or copy the source into your library and get rid of the dependency."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1668442966,"post_id":74434748,"comment_id":131400361,"body_markdown":"If you&#39;re going to bump anyhow, bump to a LTS build like Java 17. Overall though, outside of recompiling the dependency, older code cannot depend on newer code.","body":"If you&#39;re going to bump anyhow, bump to a LTS build like Java 17. Overall though, outside of recompiling the dependency, older code cannot depend on newer code."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1668442984,"post_id":74434748,"comment_id":131400369,"body_markdown":"In general your consumers must use JDK14+ but as you described that the dependend project does not use JDK14 it is needed to rebuild that with JDK11 and released. So you can drop down your minimum requirement. Assumed that you have control over the other project.","body":"In general your consumers must use JDK14+ but as you described that the dependend project does not use JDK14 it is needed to rebuild that with JDK11 and released. So you can drop down your minimum requirement. Assumed that you have control over the other project."}],"answers":[{"comments":[{"owner":{"account_id":26140315,"reputation":43,"user_id":19829796,"display_name":"Robert O&#39;Neal"},"score":0,"creation_date":1668443140,"post_id":74434779,"comment_id":131400431,"body_markdown":"And so if I use java 14 in my own library, subsequently any consumers of my library now also need to bump to java 14+. And so it&#39;s essentially a chain reaction right?","body":"And so if I use java 14 in my own library, subsequently any consumers of my library now also need to bump to java 14+. And so it&#39;s essentially a chain reaction right?"},{"owner":{"account_id":26140315,"reputation":43,"user_id":19829796,"display_name":"Robert O&#39;Neal"},"score":0,"creation_date":1668443306,"post_id":74434779,"comment_id":131400508,"body_markdown":"I do have control over potentially changing code in the external library. So wondering maybe the best approach here is to drop to java 11 for the module I depend on; and then my own library doesn&#39;t need to go out of java 11","body":"I do have control over potentially changing code in the external library. So wondering maybe the best approach here is to drop to java 11 for the module I depend on; and then my own library doesn&#39;t need to go out of java 11"},{"owner":{"account_id":329138,"reputation":8059,"user_id":652497,"accept_rate":91,"display_name":"Jonathan S. Fisher"},"score":0,"creation_date":1668443369,"post_id":74434779,"comment_id":131400529,"body_markdown":"&gt; And so if I use java 14 in my own library, subsequently any consumers of my library now also need to bump to java 14+. And so it&#39;s essentially a chain reaction right?\n\nThat&#39;s correct","body":"&gt; And so if I use java 14 in my own library, subsequently any consumers of my library now also need to bump to java 14+. And so it&#39;s essentially a chain reaction right?  That&#39;s correct"},{"owner":{"account_id":329138,"reputation":8059,"user_id":652497,"accept_rate":91,"display_name":"Jonathan S. Fisher"},"score":0,"creation_date":1668443408,"post_id":74434779,"comment_id":131400543,"body_markdown":"I think the best course of action is to make the third party module java11 or java17 compatible, and adopt java11 or java17 for your project accordingly.","body":"I think the best course of action is to make the third party module java11 or java17 compatible, and adopt java11 or java17 for your project accordingly."},{"owner":{"account_id":26140315,"reputation":43,"user_id":19829796,"display_name":"Robert O&#39;Neal"},"score":1,"creation_date":1668443976,"post_id":74434779,"comment_id":131400769,"body_markdown":"makes sense. This is helpful thanks! I will try to adopt java11 in 3rd party module. If not the best course of action is probably to copy/paste code and just remove the dependency to the library entirely.","body":"makes sense. This is helpful thanks! I will try to adopt java11 in 3rd party module. If not the best course of action is probably to copy/paste code and just remove the dependency to the library entirely."}],"tags":[],"owner":{"account_id":329138,"reputation":8059,"user_id":652497,"accept_rate":91,"display_name":"Jonathan S. Fisher"},"comment_count":5,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1668443092,"creation_date":1668442960,"answer_id":74434779,"question_id":74434748,"body_markdown":"If you&#39;re going to depend on a third part lib that uses java14, your project must use at least java14.\r\n\r\nIf you can rebuild and distribute a custom version of the third party lib @ java11, you can keep your project at java11.\r\n\r\nI highly recommend only sticking on LTS versions of Java: 7,8,11,17 as this makes it much easier for the ecosystem to use your code and build it. Java14 is already sunset.","title":"Can I build a java class in jdk14 but use java 11 for my own library?","body":"<p>If you're going to depend on a third part lib that uses java14, your project must use at least java14.</p>\n<p>If you can rebuild and distribute a custom version of the third party lib @ java11, you can keep your project at java11.</p>\n<p>I highly recommend only sticking on LTS versions of Java: 7,8,11,17 as this makes it much easier for the ecosystem to use your code and build it. Java14 is already sunset.</p>\n"}],"owner":{"account_id":26140315,"reputation":43,"user_id":19829796,"display_name":"Robert O&#39;Neal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74434779,"answer_count":1,"score":1,"last_activity_date":1668443092,"creation_date":1668442835,"question_id":74434748,"body_markdown":"My library (using maven/java 11) has a dependency to a class in another library which used java 14 to compile the class.\r\n\r\nSo to build the dependency, I need to use java 14, but I don&#39;t want consumers of my library to have to be forced to upgrade to java 14. The class I&#39;m dependent on is a simple domain class that doesn&#39;t use any java 14 features. \r\n\r\nIs this possible? Or would I need to bump to java 14 in my own library?","title":"Can I build a java class in jdk14 but use java 11 for my own library?","body":"<p>My library (using maven/java 11) has a dependency to a class in another library which used java 14 to compile the class.</p>\n<p>So to build the dependency, I need to use java 14, but I don't want consumers of my library to have to be forced to upgrade to java 14. The class I'm dependent on is a simple domain class that doesn't use any java 14 features.</p>\n<p>Is this possible? Or would I need to bump to java 14 in my own library?</p>\n"},{"tags":["java","jvm","disassembly","decompiler","javap"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1564544277,"post_id":57282790,"comment_id":101061224,"body_markdown":"[`sun.tools.javap`](https://github.com/kohsuke/javap/tree/master/src/main/java/com/sun/tools/javap)","body":"<a href=\"https://github.com/kohsuke/javap/tree/master/src/main/java/com/sun/tools/javap\" rel=\"nofollow noreferrer\"><code>sun.tools.javap</code></a>"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1564545245,"post_id":57282790,"comment_id":101061408,"body_markdown":"Also it is also part of the OpenJDK codebase that you can access here: https://openjdk.java.net/.  *&quot;Is there a similar tool made by OpenJDK developers?&quot;*   It is the same tool.  Same source code.","body":"Also it is also part of the OpenJDK codebase that you can access here: <a href=\"https://openjdk.java.net/\" rel=\"nofollow noreferrer\">openjdk.java.net</a>.  <i>&quot;Is there a similar tool made by OpenJDK developers?&quot;</i>   It is the same tool.  Same source code."}],"answers":[{"comments":[{"owner":{"account_id":2176977,"reputation":493,"user_id":1927425,"accept_rate":75,"display_name":"Jakub Kozłowski"},"score":1,"creation_date":1668276391,"post_id":57282892,"comment_id":131367957,"body_markdown":"2022 update: you can find OpenJDK&#39;s current sources for javap [here on GitHub](https://github.com/openjdk/jdk/tree/master/src/jdk.jdeps/share/classes/com/sun/tools/javap). Same goes for [com.sun.tools.classfile](https://github.com/openjdk/jdk/tree/master/src/jdk.jdeps/share/classes/com/sun/tools/classfile).","body":"2022 update: you can find OpenJDK&#39;s current sources for javap <a href=\"https://github.com/openjdk/jdk/tree/master/src/jdk.jdeps/share/classes/com/sun/tools/javap\" rel=\"nofollow noreferrer\">here on GitHub</a>. Same goes for <a href=\"https://github.com/openjdk/jdk/tree/master/src/jdk.jdeps/share/classes/com/sun/tools/classfile\" rel=\"nofollow noreferrer\">com.sun.tools.classfile</a>."},{"owner":{"account_id":10986311,"reputation":165,"user_id":8071915,"display_name":"Col-E"},"score":0,"creation_date":1668284432,"post_id":57282892,"comment_id":131369623,"body_markdown":"Good note, updated the answer","body":"Good note, updated the answer"},{"owner":{"account_id":2176977,"reputation":493,"user_id":1927425,"accept_rate":75,"display_name":"Jakub Kozłowski"},"score":1,"creation_date":1668305405,"post_id":57282892,"comment_id":131372631,"body_markdown":"Just one thing, I think you can remove the mirror mention - seems like OpenJDK has actually moved to GitHub as the mainline.","body":"Just one thing, I think you can remove the mirror mention - seems like OpenJDK has actually moved to GitHub as the mainline."}],"tags":[],"owner":{"account_id":10986311,"reputation":165,"user_id":8071915,"display_name":"Col-E"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668442905,"creation_date":1564544860,"answer_id":57282892,"question_id":57282790,"body_markdown":"As Elliot commented you can find it on Github, however the link in the comment is a mirror from 5 years ago. You can find an updated repository here: \r\n\r\n* [com.sun.tools.javap](https://github.com/openjdk/jdk/tree/master/src/jdk.jdeps/share/classes/com/sun/tools/javap)\r\n* [com.sun.tools.classfile](https://github.com/openjdk/jdk/tree/master/src/jdk.jdeps/share/classes/com/sun/tools/classfile)\r\n\r\n[OpenJDK migrated to GitHub a while ago.](https://www.infoq.com/news/2020/07/openjdk-github-migration/)","title":"Where can I find the source code for javap application?","body":"<p>As Elliot commented you can find it on Github, however the link in the comment is a mirror from 5 years ago. You can find an updated repository here:</p>\n<ul>\n<li><a href=\"https://github.com/openjdk/jdk/tree/master/src/jdk.jdeps/share/classes/com/sun/tools/javap\" rel=\"nofollow noreferrer\">com.sun.tools.javap</a></li>\n<li><a href=\"https://github.com/openjdk/jdk/tree/master/src/jdk.jdeps/share/classes/com/sun/tools/classfile\" rel=\"nofollow noreferrer\">com.sun.tools.classfile</a></li>\n</ul>\n<p><a href=\"https://www.infoq.com/news/2020/07/openjdk-github-migration/\" rel=\"nofollow noreferrer\">OpenJDK migrated to GitHub a while ago.</a></p>\n"}],"owner":{"account_id":122428,"reputation":2971,"user_id":316232,"accept_rate":8,"display_name":"nephewtom"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":620,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1564545041,"answer_count":1,"score":0,"last_activity_date":1668442905,"creation_date":1564544053,"question_id":57282790,"body_markdown":"[javap][1] is the Java Class File Disassembler.  \r\nWhich, in my system, is an application that belongs to Oracle JDK.\r\n\r\n    $ javap -version\r\n    1.8.0_201\r\n\r\n    $ which javap\r\n    /opt/jdk1.8.0_201/bin/javap\r\n\r\n    $ head -2 /opt/jdk1.8.0_201/COPYRIGHT\r\n    Copyright � 1993, 2018, Oracle and/or its affiliates.\r\n    All rights reserved.\r\n\r\nI would like to know the internals of how `javap` works.  \r\nThat would show JVM internals by example, and how to disassemble class files.\r\n\r\nCan I get the source code for `javap` application somewhere?  \r\nSince it belongs to Oracle, I would say no... but...  \r\n\r\nIs there a similar tool made by OpenJDK developers?\r\n\r\n  [1]: https://docs.oracle.com/javase/6/docs/technotes/tools/solaris/javap.html\r\n","title":"Where can I find the source code for javap application?","body":"<p><a href=\"https://docs.oracle.com/javase/6/docs/technotes/tools/solaris/javap.html\" rel=\"nofollow noreferrer\">javap</a> is the Java Class File Disassembler.<br>\nWhich, in my system, is an application that belongs to Oracle JDK.</p>\n\n<pre><code>$ javap -version\n1.8.0_201\n\n$ which javap\n/opt/jdk1.8.0_201/bin/javap\n\n$ head -2 /opt/jdk1.8.0_201/COPYRIGHT\nCopyright � 1993, 2018, Oracle and/or its affiliates.\nAll rights reserved.\n</code></pre>\n\n<p>I would like to know the internals of how <code>javap</code> works.<br>\nThat would show JVM internals by example, and how to disassemble class files.</p>\n\n<p>Can I get the source code for <code>javap</code> application somewhere?<br>\nSince it belongs to Oracle, I would say no... but...  </p>\n\n<p>Is there a similar tool made by OpenJDK developers?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3509196,"reputation":16493,"user_id":2933977,"display_name":"stdunbar"},"score":2,"creation_date":1667596807,"post_id":74323055,"comment_id":131212539,"body_markdown":"Do you really need to modify the superclass variables or just access the `toString()`, i.e. print them out?","body":"Do you really need to modify the superclass variables or just access the <code>toString()</code>, i.e. print them out?"},{"owner":{"account_id":3435599,"reputation":4037,"user_id":2878796,"display_name":"UnholySheep"},"score":3,"creation_date":1667596815,"post_id":74323055,"comment_id":131212542,"body_markdown":"Isn&#39;t the assignment just asking you to call the super class&#39;s `toString` and append to that? Or do I not understand the assignment?","body":"Isn&#39;t the assignment just asking you to call the super class&#39;s <code>toString</code> and append to that? Or do I not understand the assignment?"},{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":2,"creation_date":1667596837,"post_id":74323055,"comment_id":131212549,"body_markdown":"Why not just `return super.toString() + &quot;Position: Boss);`?","body":"Why not just <code>return super.toString() + &quot;Position: Boss);</code>?"},{"owner":{"account_id":26833684,"reputation":1,"user_id":20421255,"display_name":"NeverendingFlame42"},"score":1,"creation_date":1667597273,"post_id":74323055,"comment_id":131212648,"body_markdown":"@UnholySheep the assignment requires the toString() method to be overriden and for more info to be added so i couldn&#39;t just call it normally.","body":"@UnholySheep the assignment requires the toString() method to be overriden and for more info to be added so i couldn&#39;t just call it normally."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1667601216,"post_id":74323055,"comment_id":131213409,"body_markdown":"`private` fields are exactly meant to be private, that is, not *known* by any other class. but the superclass should have getter methods to retrieve the names and ID (for example if the output of `toString()` isn&#39;t appropriate)","body":"<code>private</code> fields are exactly meant to be private, that is, not <i>known</i> by any other class. but the superclass should have getter methods to retrieve the names and ID (for example if the output of <code>toString()</code> isn&#39;t appropriate)"},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1667643424,"post_id":74323055,"comment_id":131218459,"body_markdown":"@NeverendingFlame42 Please [edit] your question to include the original assignment (unchanged) you have. Calling the base method like [`super.toString()` as mentioned before](https://stackoverflow.com/questions/74323055/how-to-access-private-variable-from-superclass-in-subclass-without-changing-supe#comment131212549_74323055) might be enough.","body":"@NeverendingFlame42 Please <a href=\"https://stackoverflow.com/posts/74323055/edit\">edit</a> your question to include the original assignment (unchanged) you have. Calling the base method like <a href=\"https://stackoverflow.com/questions/74323055/how-to-access-private-variable-from-superclass-in-subclass-without-changing-supe#comment131212549_74323055\"><code>super.toString()</code> as mentioned before</a> might be enough."}],"answers":[{"tags":[],"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667602530,"creation_date":1667602530,"answer_id":74323749,"question_id":74323055,"body_markdown":"Reflection API is here to help. In your inheriting class, use:\r\n\r\n    Field field = super\r\n      .getClass()\r\n      .getDeclaredField(&quot;firstName&quot;);\r\n    field.setAccessible(true);\r\n    String firstname = (String) field.get(super);","title":"How to access private variable from Superclass in Subclass without changing Superclass? (Java)","body":"<p>Reflection API is here to help. In your inheriting class, use:</p>\n<pre><code>Field field = super\n  .getClass()\n  .getDeclaredField(&quot;firstName&quot;);\nfield.setAccessible(true);\nString firstname = (String) field.get(super);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1083984,"reputation":1741,"user_id":1080166,"accept_rate":62,"display_name":"bvanvelsen - ACA Group"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668442596,"creation_date":1668442596,"answer_id":74434698,"question_id":74323055,"body_markdown":"If you just need to `toString()` output, you could use `super.toString()`.\r\n\r\n        public String toString() {\r\n            return super.toString() + &quot; earnings: &quot; +earnings;\r\n        }","title":"How to access private variable from Superclass in Subclass without changing Superclass? (Java)","body":"<p>If you just need to <code>toString()</code> output, you could use <code>super.toString()</code>.</p>\n<pre><code>    public String toString() {\n        return super.toString() + &quot; earnings: &quot; +earnings;\n    }\n</code></pre>\n"}],"owner":{"account_id":26833684,"reputation":1,"user_id":20421255,"display_name":"NeverendingFlame42"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1668442596,"creation_date":1667596650,"question_id":74323055,"body_markdown":"I&#39;m doing a homework for class right now and it requires me to use private variables from a superclass in one of its subclasses, but I don&#39;t know how to. I found a lot of info on changing the superclass which would work, but the assignment says that I&#39;m not allowed to edit the superclass, just its subclasses. Is this even possible?\r\n\r\nFor context, the assignment is on weekly earnings of different employees and printing out their info(first and last name, employee id, position, and earnings). The first name, last name, and employee id are private and I need to override a method in the superclass in the subclass. \r\n\r\nCode from superclass: \r\n\r\n```\r\npublic String toString(){\r\n   return &quot;Name: &quot; + firstName + &quot; &quot; + lastName + &quot;, ID: &quot; + employeeId;\r\n}\r\n```\r\n\r\nCode from subclass(that I&#39;m writing)\r\n\r\n```\r\n//  Override public String toString() here\r\n/*public String toString(){\r\n   return (&quot;Name: &quot; + firstName + &quot; &quot; + lastName + &quot;, ID: &quot; + employeeId + &quot; Position: Boss&quot;);\r\n}*/\r\n```\r\n\r\n\r\nI tried using get and set within the subclass, but that obviously doesn&#39;t work. ","title":"How to access private variable from Superclass in Subclass without changing Superclass? (Java)","body":"<p>I'm doing a homework for class right now and it requires me to use private variables from a superclass in one of its subclasses, but I don't know how to. I found a lot of info on changing the superclass which would work, but the assignment says that I'm not allowed to edit the superclass, just its subclasses. Is this even possible?</p>\n<p>For context, the assignment is on weekly earnings of different employees and printing out their info(first and last name, employee id, position, and earnings). The first name, last name, and employee id are private and I need to override a method in the superclass in the subclass.</p>\n<p>Code from superclass:</p>\n<pre><code>public String toString(){\n   return &quot;Name: &quot; + firstName + &quot; &quot; + lastName + &quot;, ID: &quot; + employeeId;\n}\n</code></pre>\n<p>Code from subclass(that I'm writing)</p>\n<pre><code>//  Override public String toString() here\n/*public String toString(){\n   return (&quot;Name: &quot; + firstName + &quot; &quot; + lastName + &quot;, ID: &quot; + employeeId + &quot; Position: Boss&quot;);\n}*/\n</code></pre>\n<p>I tried using get and set within the subclass, but that obviously doesn't work.</p>\n"},{"tags":["java","hibernate","jparepository"],"comments":[{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1668440168,"post_id":74433838,"comment_id":131399292,"body_markdown":"Can you go into details about the purpose? Identify missing items in repository?","body":"Can you go into details about the purpose? Identify missing items in repository?"}],"answers":[{"tags":[],"owner":{"account_id":6713019,"reputation":106,"user_id":5175771,"display_name":"Pieter Vandeperre - ACA Group"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668442169,"creation_date":1668442169,"answer_id":74434617,"question_id":74433838,"body_markdown":"If you&#39;re using spring-data-jpa then you could use the [@Query annotation][1]\r\n\r\nWithout immediately going for a far more complex query, I&#39;d recommend just querying the values that would result true and then construct the map based on that result.\r\n\r\n    @Query(&quot;select ?1 from YourEntityHere yeh where yeh.id = ?1&quot;)\r\n      List&lt;Uuid&gt; findServiceUuids(List&lt;UUID&gt; uuids);\r\n\r\nAnd then in the calling layer:\r\n\r\n    private Map&lt;UUID, Boolean&gt; getMapUuidAndFoundStatus(List&lt;UUID&gt; uuids) {\r\n            List&lt;UUID&gt; foundUuids = repository.findServiceUuids(uuids);\r\n            return uuids.stream().collect(Collectors.toMap(Function.identity(), foundUuids::contains));\r\n        }\r\n\r\nThere is guaranteed a way to do it in one query without the accessing layer but it is very likely to reduce readability, performance and reusability.\r\n\r\n  [1]: https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.at-query\r\n","title":"return map in jpaRepository","body":"<p>If you're using spring-data-jpa then you could use the <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.at-query\" rel=\"nofollow noreferrer\">@Query annotation</a></p>\n<p>Without immediately going for a far more complex query, I'd recommend just querying the values that would result true and then construct the map based on that result.</p>\n<pre><code>@Query(&quot;select ?1 from YourEntityHere yeh where yeh.id = ?1&quot;)\n  List&lt;Uuid&gt; findServiceUuids(List&lt;UUID&gt; uuids);\n</code></pre>\n<p>And then in the calling layer:</p>\n<pre><code>private Map&lt;UUID, Boolean&gt; getMapUuidAndFoundStatus(List&lt;UUID&gt; uuids) {\n        List&lt;UUID&gt; foundUuids = repository.findServiceUuids(uuids);\n        return uuids.stream().collect(Collectors.toMap(Function.identity(), foundUuids::contains));\n    }\n</code></pre>\n<p>There is guaranteed a way to do it in one query without the accessing layer but it is very likely to reduce readability, performance and reusability.</p>\n"}],"owner":{"account_id":23028779,"reputation":23,"user_id":17148586,"display_name":"PsyBreaks"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74434617,"answer_count":1,"score":0,"last_activity_date":1668442169,"creation_date":1668438643,"question_id":74433838,"body_markdown":"I have a List of UUIDs that is fed into the method parameters in the repository. I need to return a Map&lt;UUID, Boolean&gt; map that will duplicate all the values from the list in the keys. If the value from list is present in entity.get Service Id(), then the value of map is set to true, otherwise false. How to do it?","title":"return map in jpaRepository","body":"<p>I have a List of UUIDs that is fed into the method parameters in the repository. I need to return a Map&lt;UUID, Boolean&gt; map that will duplicate all the values from the list in the keys. If the value from list is present in entity.get Service Id(), then the value of map is set to true, otherwise false. How to do it?</p>\n"},{"tags":["java","spring","spring-boot","tomcat","deployment"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1667846962,"post_id":74351447,"comment_id":131260803,"body_markdown":"Stop using the oldstyle xml based configuration. Use the java based instead","body":"Stop using the oldstyle xml based configuration. Use the java based instead"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1667847279,"post_id":74351447,"comment_id":131260907,"body_markdown":"Please add the **full stacktrace** not just a snippet.","body":"Please add the <b>full stacktrace</b> not just a snippet."},{"owner":{"account_id":2414203,"reputation":5,"user_id":2108638,"display_name":"redds1"},"score":0,"creation_date":1667850280,"post_id":74351447,"comment_id":131261859,"body_markdown":"added the full stacktrace","body":"added the full stacktrace"}],"owner":{"account_id":2414203,"reputation":5,"user_id":2108638,"display_name":"redds1"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":160,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668441963,"creation_date":1667846860,"question_id":74351447,"body_markdown":"I am working on a spring web application which needs to be upgraded from Java 6 to Java 8. The application builds and deploys in Java 6 on Tomcat 6. It does not deploy in Java 8 on Tomcat 7 or Tomcat 9. \r\n\r\nThe application uses springframework jar files (2.5.6). Upgrading the springframework jar files does not seem to be an option as certain methods have been removed/deprecated in the newer version of jar files. Is there a way to configure the Tomcat server to make the application work with Java 8.\r\n\r\nThis is the error in the tomcat logs.\r\n```none\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;messageSource&#39; defined in ServletContext resource [/WEB-INF/applicationContext.xml]: Cannot resolve reference to bean &#39;dataSource&#39; while setting bean property &#39;dataSource&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dataSource&#39; defined in ServletContext resource [/WEB-INF/applicationContext.xml]: Initialization of bean failed; nested exception is java.lang.IllegalArgumentException: error at ::0 can&#39;t find referenced pointcut hasSessionId\r\n\r\nat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:275)\r\n\t\tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:104)\r\n\t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1245)\r\n\t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1010)\r\n\t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:472)\r\n\t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory$1.run(AbstractAutowireCapableBeanFactory.java:409)\r\n\t\tat java.security.AccessController.doPrivileged(Native Method)\r\n\t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:380)\r\n\t\tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:264)\r\n\t\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\r\n\t\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:261)\r\n\t\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:185)\r\n\t\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:168)\r\n\t\tat org.springframework.context.support.AbstractApplicationContext.initMessageSource(AbstractApplicationContext.java:627)\r\n\t\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:368)\r\n\t\tat org.springframework.web.context.ContextLoader.createWebApplicationContext(ContextLoader.java:255)\r\n\t\tat org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:199)\r\n\t\tat org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:45)\r\n\t\tat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4769)\r\n\t\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5231)\r\n\t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\t\tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:726)\r\n\t\tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:698)\r\n\t\tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:696)\r\n\t\tat org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:690)\r\n\t\tat org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:538)\r\n\t\tat org.apache.catalina.startup.HostConfig.check(HostConfig.java:1690)\r\n\t\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\t\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\t\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\t\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\t\tat org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:293)\r\n\t\tat com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\r\n\t\tat com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\r\n\t\tat org.apache.catalina.manager.ManagerServlet.check(ManagerServlet.java:1614)\r\n\t\tat org.apache.catalina.manager.ManagerServlet.deploy(ManagerServlet.java:1026)\r\n\t\tat org.apache.catalina.manager.ManagerServlet.doGet(ManagerServlet.java:357)\r\n\t\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:670)\r\n\t\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:779)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\t\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\t\tat org.apache.catalina.filters.HttpHeaderSecurityFilter.doFilter(HttpHeaderSecurityFilter.java:126)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\t\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\r\n\t\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n\t\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:660)\r\n\t\tat org.apache.catalina.valves.RequestFilterValve.process(RequestFilterValve.java:378)\r\n\t\tat org.apache.catalina.valves.RemoteAddrValve.invoke(RemoteAddrValve.java:56)\r\n\t\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n\t\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\t\tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\r\n\t\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n\t\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\r\n\t\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\r\n\t\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\t\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)\r\n\t\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)\r\n\t\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\t\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\t\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\t\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\t\tat java.lang.Thread.run(Thread.java:748)\r\n\tCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dataSource&#39; defined in ServletContext resource [/WEB-INF/applicationContext.xml]: Initialization of bean failed; nested exception is java.lang.IllegalArgumentException: error at ::0 can&#39;t find referenced pointcut hasSessionId\r\n\t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:480)\r\n\t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory$1.run(AbstractAutowireCapableBeanFactory.java:409)\r\n\t\tat java.security.AccessController.doPrivileged(Native Method)\r\n\t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:380)\r\n\t\tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:264)\r\n\t\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\r\n\t\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:261)\r\n\t\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:185)\r\n\t\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:164)\r\n\t\tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:269)\r\n\t\t... 65 more\r\n\tCaused by: java.lang.IllegalArgumentException: error at ::0 can&#39;t find referenced pointcut hasSessionId\r\n\t\tat org.aspectj.weaver.tools.PointcutParser.parsePointcutExpression(PointcutParser.java:302)\r\n\t\tat org.springframework.aop.aspectj.AspectJExpressionPointcut.buildPointcutExpression(AspectJExpressionPointcut.java:206)\r\n\t\tat org.springframework.aop.aspectj.AspectJExpressionPointcut.checkReadyToMatch(AspectJExpressionPointcut.java:193)\r\n\t\tat org.springframework.aop.aspectj.AspectJExpressionPointcut.getClassFilter(AspectJExpressionPointcut.java:174)\r\n\t\tat org.springframework.aop.support.AopUtils.canApply(AopUtils.java:195)\r\n\t\tat org.springframework.aop.support.AopUtils.canApply(AopUtils.java:250)\r\n\t\tat org.springframework.aop.support.AopUtils.findAdvisorsThatCanApply(AopUtils.java:284)\r\n\t\tat org.springframework.aop.framework.autoproxy.AbstractAdvisorAutoProxyCreator.findAdvisorsThatCanApply(AbstractAdvisorAutoProxyCreator.java:113)\r\n\t\tat org.springframework.aop.framework.autoproxy.AbstractAdvisorAutoProxyCreator.findEligibleAdvisors(AbstractAdvisorAutoProxyCreator.java:85)\r\n\t\tat org.springframework.aop.framework.autoproxy.AbstractAdvisorAutoProxyCreator.getAdvicesAndAdvisorsForBean(AbstractAdvisorAutoProxyCreator.java:66)\r\n\t\tat org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator.wrapIfNecessary(AbstractAutoProxyCreator.java:362)\r\n\t\tat org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator.postProcessAfterInitialization(AbstractAutoProxyCreator.java:325)\r\n\t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:361)\r\n\t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1344)\r\n\t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:473)\r\n```\r\nThis is the application context file of my application:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n       xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;\r\n       xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\r\n       xsi:schemaLocation=&quot;\r\n       http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.0.xsd\r\n       http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-2.0.xsd\r\n       http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-2.0.xsd\r\n       http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-2.0.xsd&quot;&gt;\r\n        \r\n    \r\n    &lt;bean id=&quot;dataSource&quot; class=&quot;org.springframework.jndi.JndiObjectFactoryBean&quot;&gt;\r\n        &lt;property name=&quot;jndiName&quot;&gt;&lt;value&gt;java:comp/env/jdbc/tpds&lt;/value&gt;&lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;bean id=&quot;dataSource2&quot; class=&quot;org.springframework.jndi.JndiObjectFactoryBean&quot;&gt;\r\n        &lt;property name=&quot;jndiName&quot;&gt;&lt;value&gt;java:comp/env/jdbc/abc&lt;/value&gt;&lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;!-- v Improve performance by loading this code 1 time &amp; sharing it among servlets. v --&gt;\r\n\r\n    &lt;!-- VIEW INTERCEPTOR --&gt;\r\n   \r\n    &lt;bean id=&quot;viewInterceptor&quot; class=&quot;net.taxstream.util.web.ViewInterceptor&quot; /&gt;\r\n\r\n   \r\n    &lt;bean id=&quot;sessionBinding&quot; class=&quot;net.abc.core.web.binder.SessionInterceptor&quot;&gt;\r\n        &lt;property name=&quot;spatialBinder&quot;&gt;\r\n            &lt;bean class=&quot;net.abc.core.web.binder.StandardRequestLocationDatabinder&quot;&gt;\r\n                &lt;property name=&quot;paramOrder&quot;&gt;\r\n                    &lt;list&gt;\r\n                        &lt;value&gt;clientId&lt;/value&gt;\r\n                     \r\n                    &lt;/list&gt;\r\n                &lt;/property&gt;\r\n            &lt;/bean&gt;\r\n        &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n    &lt;!-- ^ Improve performance by loading this code 1 time &amp; sharing it among servlets. ^ --&gt;\r\n\r\n&lt;!-- INTERNATIONALIZATION BEANS --&gt;\r\n    &lt;bean id=&quot;localeResolver&quot; class=&quot;org.springframework.web.servlet.i18n.CookieLocaleResolver&quot;&gt;\r\n        &lt;property name=&quot;cookieName&quot; value=&quot;clientlanguage&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\t\r\n    &lt;bean id=&quot;localeChangeInterceptor&quot; class=&quot;org.springframework.web.servlet.i18n.LocaleChangeInterceptor&quot; /&gt;\r\n    \r\n    &lt;bean id=&quot;messageSource&quot; name=&quot;tsMessageSource&quot; class=&quot;net.taxstream.util.i18n.TsMessageSource&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;&gt;&lt;/property&gt;\r\n    &lt;/bean&gt;\r\n    \r\n    &lt;bean id=&quot;internationalizer&quot; class=&quot;net.taxstream.util.i18n.Internationalizer&quot;&gt;\r\n    \t&lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;&gt;&lt;/property&gt;\r\n    &lt;/bean&gt;\r\n    \r\n&lt;!-- ACCESS CONTROL BEANS --&gt;    \r\n    &lt;bean id=&quot;accessControl&quot; class=&quot;net.abc.foundation.acs.rbac.JdbcAccessControlFactory&quot; scope=&quot;session&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\r\n        &lt;property name=&quot;transactionManager&quot;&gt;\r\n            &lt;ref bean=&quot;transactionManager&quot;/&gt;\r\n        &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n    \r\n    &lt;!-- we need to annotate the proper interfaces and classes for this to work\r\n    each method call needs to know what permission to check for --&gt;\r\n    &lt;bean id=&quot;rbacAspect&quot; class=&quot;net.abc.core.pro.acs.rbac.RbacAspect&quot;&gt;\r\n        &lt;property name=&quot;order&quot; value=&quot;0&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\r\n\r\n&lt;!-- TRANSACTION AND AUDIT BEANS --&gt;\r\n    &lt;bean id=&quot;transactionManager&quot; class=&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot; /&gt;&lt;/property&gt;\r\n    &lt;/bean&gt;\r\n    \r\n    &lt;!-- audit trial stuff --&gt;\r\n    &lt;bean id=&quot;gttSessionUpdate&quot; class=&quot;org.springframework.transaction.interceptor.TransactionProxyFactoryBean&quot;&gt;\r\n       &lt;property name=&quot;transactionManager&quot;&gt;\r\n           &lt;ref bean=&quot;transactionManager&quot;/&gt;\r\n       &lt;/property&gt;\r\n       &lt;property name=&quot;target&quot;&gt;\r\n           &lt;ref local=&quot;gttSessionUpdateTarget&quot;/&gt;\r\n       &lt;/property&gt;\r\n       &lt;property name=&quot;transactionAttributes&quot;&gt;\r\n           &lt;props&gt;\r\n               &lt;prop key=&quot;*&quot;&gt;\r\n                   PROPAGATION_MANDATORY\r\n               &lt;/prop&gt;\r\n           &lt;/props&gt;\r\n       &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n    \r\n    &lt;bean id=&quot;gttSessionUpdateTarget&quot; class=&quot;net.abc.core.audit.GttSessionUpdate&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;bean id=&quot;audit&quot; class=&quot;net.abc.core.audit.AuditAspect&quot;&gt;\r\n        &lt;property name=&quot;gttSessionUpdate&quot; ref=&quot;gttSessionUpdate&quot;/&gt;\r\n        &lt;property name=&quot;order&quot; value=&quot;200&quot;/&gt;\r\n    &lt;/bean&gt;\r\n    \r\n    \r\n&lt;!-- LOGIN BEANS --&gt;    \r\n    &lt;bean id=&quot;loginDao&quot; class=&quot;net.abc.core.security.ProLoginDao&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\r\n    &lt;/bean&gt;\r\n \r\n    &lt;bean id=&quot;proDao&quot; class=&quot;net.abc.core.legacy.ProDao&quot; /&gt;\r\n    \r\n    &lt;bean id=&quot;logoDao&quot; class=&quot;net.abc.core.dao.JdbcClientLogoDao&quot;&gt;\r\n            &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\r\n            &lt;property name=&quot;lobHandler&quot;&gt;&lt;ref bean=&quot;lobHandler&quot;/&gt;&lt;/property&gt;\r\n    &lt;/bean&gt;  \r\n\r\n\r\n&lt;!-- IMPORT BEANS --&gt;        \r\n    &lt;bean id=&quot;dataImportManager&quot; class=&quot;net.abc.core.dao.JdbcDataImportDao&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot; &gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\r\n        &lt;property name=&quot;cloverUri&quot; value=&quot;WEB-INF/foundationModule/clover&quot; /&gt;\r\n     &lt;/bean&gt;\r\n\r\n    &lt;bean id=&quot;navigationUtils&quot; class=&quot;net.abc.core.util.JdbcNavigationUtils&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\r\n    &lt;/bean&gt;\r\n    \r\n&lt;!-- MESSAGE AND LOB BEANS --&gt;\r\n    \r\n    &lt;bean id=&quot;extractor&quot; class=&quot;org.springframework.jdbc.support.nativejdbc.SimpleNativeJdbcExtractor&quot; /&gt;\r\n    &lt;bean id=&quot;nativeJdbcExtractor&quot; class=&quot;org.springframework.jdbc.support.nativejdbc.SimpleNativeJdbcExtractor&quot; /&gt;\r\n    \r\n\r\n    &lt;!-- WebSphere specific--&gt;\r\n    &lt;!--&lt;bean id=&quot;extractor&quot; class=&quot;org.springframework.jdbc.support.nativejdbc.WebSphereNativeJdbcExtractor&quot; /&gt;\r\n    &lt;bean id=&quot;nativeJdbcExtractor&quot; class=&quot;org.springframework.jdbc.support.nativejdbc.WebSphereNativeJdbcExtractor&quot; /&gt;--&gt;\r\n    \r\n    &lt;bean id=&quot;lobHandler&quot; class=&quot;org.springframework.jdbc.support.lob.OracleLobHandler&quot;&gt;\r\n            &lt;property name=&quot;nativeJdbcExtractor&quot;&gt;&lt;ref local=&quot;nativeJdbcExtractor&quot; /&gt;&lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\t\r\n    &lt;bean id=&quot;messageDBInteraction&quot; class=&quot;net.taxstream.messages.biz.OracleSpringMessageDBInteraction&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\r\n        &lt;property name=&quot;nativeJdbcExtractor&quot;&gt;&lt;ref local=&quot;extractor&quot; /&gt;&lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\r\n&lt;!-- INSTRUCTION BEANS --&gt;    \r\n    &lt;bean id=&quot;instructionDao&quot;  class=&quot;net.abc.instruction.dao.OracleJdbcInstructionDao&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt; \r\n        &lt;!--&lt;property name=&quot;nativeJdbcExtractor&quot; ref=&quot;nativeJdbcExtractor&quot; /&gt; --&gt;\r\n    &lt;/bean&gt;\r\n    \r\n    &lt;bean id=&quot;instructionManager&quot; class=&quot;net.abc.instruction.biz.InstructionManager&quot;&gt;\r\n        &lt;property name=&quot;instructionDao&quot;&gt;&lt;ref local=&quot;instructionDao&quot;/&gt;&lt;/property&gt;\r\n    &lt;/bean&gt;\r\n    \r\n&lt;!-- DOMAIN OBJECT MANAGERS --&gt;\r\n    &lt;bean id=&quot;clientManager&quot; class=&quot;net.abc.core.biz.JdbcClientManager&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\r\n    &lt;/bean&gt;\r\n    \r\n    &lt;bean id=&quot;userManager&quot; class=&quot;net.abc.admin.biz.AdminJdbcUserManager&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\r\n    &lt;/bean&gt;\r\n    \r\n    &lt;bean id=&quot;stateManager&quot; class=&quot;net.abc.core.biz.JdbcStateManager&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\r\n    &lt;/bean&gt;\r\n    \r\n    &lt;bean id=&quot;unitManager&quot; class=&quot;net.abc.core.biz.JdbcUnitManager&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\r\n &lt;bean id=&quot;userClientManager&quot; class=&quot;net.abc.admin.biz.AdminJdbcUserClientManager&quot;&gt;\r\n         &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\r\n         &lt;property name=&quot;userManager&quot;&gt;&lt;ref local=&quot;userManager&quot;/&gt;&lt;/property&gt;\r\n         &lt;property name=&quot;clientManager&quot;&gt;&lt;ref local=&quot;clientManager&quot;/&gt;&lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\r\n    \r\n    &lt;bean id=&quot;assignmentManager&quot; class=&quot;net.abc.admin.dao.JdbcAssignmentUtilsImpl&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\r\n    &lt;/bean&gt;\r\n    \r\n    &lt;bean id=&quot;navUtils&quot; class=&quot;net.abc.core.util.JdbcNavigationUtils&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\r\n    &lt;/bean&gt;\r\n       \r\n&lt;!-- SHARED CONTROLLERS --&gt;\r\n&lt;bean id=&quot;logoController&quot; class=&quot;net.abc.core.web.controller.LogoController&quot;&gt;\r\n    &lt;property name=&quot;methodNameResolver&quot;&gt;\r\n        &lt;bean class=&quot;net.abc.core.web.PrettyUrlItemActionMethodNameResolver&quot;&gt;\r\n            &lt;property name=&quot;items&quot;&gt;\r\n                &lt;map&gt;\r\n                    &lt;entry key=&quot;logo/name/*&quot; value=&quot;ClientLogoByName&quot; /&gt;\r\n                    &lt;entry key=&quot;logo/id/*&quot; value=&quot;ClientLogoByID&quot; /&gt;\r\n                    &lt;entry key=&quot;logo/ajax/*&quot; value=&quot;ClientLogoByAjax&quot; /&gt;\r\n                &lt;/map&gt;\r\n            &lt;/property&gt;\r\n        &lt;/bean&gt;\r\n    &lt;/property&gt;\r\n    &lt;property name=&quot;clientLogoDao&quot;&gt;\r\n        &lt;ref bean=&quot;logoDao&quot;/&gt;\r\n    &lt;/property&gt;   \r\n&lt;/bean&gt;\r\n\r\n\r\n&lt;!-- ADVICE / AOP CONFIG --&gt;    \r\n    &lt;tx:advice id=&quot;txAdvice&quot;&gt;\r\n        &lt;!-- the transactional semantics... --&gt;\r\n        &lt;tx:attributes&gt;\r\n            &lt;tx:method name=&quot;create*&quot; propagation=&quot;REQUIRED&quot; isolation=&quot;READ_COMMITTED&quot; /&gt;\r\n            &lt;tx:method name=&quot;retrieve*&quot; propagation=&quot;REQUIRED&quot; isolation=&quot;READ_COMMITTED&quot; read-only=&quot;true&quot; /&gt;\r\n            &lt;tx:method name=&quot;update*&quot; propagation=&quot;REQUIRED&quot; isolation=&quot;READ_COMMITTED&quot; /&gt;\r\n            &lt;tx:method name=&quot;delete*&quot; propagation=&quot;REQUIRED&quot; isolation=&quot;READ_COMMITTED&quot; /&gt;\r\n            &lt;tx:method name=&quot;*&quot; propagation=&quot;REQUIRED&quot; isolation=&quot;READ_COMMITTED&quot; /&gt;\r\n        &lt;/tx:attributes&gt;\r\n    &lt;/tx:advice&gt;\r\n&lt;/beans&gt;\r\n````","title":"Unable to deploy spring web application in Java 8 on Tomcat 9","body":"<p>I am working on a spring web application which needs to be upgraded from Java 6 to Java 8. The application builds and deploys in Java 6 on Tomcat 6. It does not deploy in Java 8 on Tomcat 7 or Tomcat 9.</p>\n<p>The application uses springframework jar files (2.5.6). Upgrading the springframework jar files does not seem to be an option as certain methods have been removed/deprecated in the newer version of jar files. Is there a way to configure the Tomcat server to make the application work with Java 8.</p>\n<p>This is the error in the tomcat logs.</p>\n<pre class=\"lang-none prettyprint-override\"><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'messageSource' defined in ServletContext resource [/WEB-INF/applicationContext.xml]: Cannot resolve reference to bean 'dataSource' while setting bean property 'dataSource'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in ServletContext resource [/WEB-INF/applicationContext.xml]: Initialization of bean failed; nested exception is java.lang.IllegalArgumentException: error at ::0 can't find referenced pointcut hasSessionId\n\nat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:275)\n        at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:104)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1245)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1010)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:472)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory$1.run(AbstractAutowireCapableBeanFactory.java:409)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:380)\n        at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:264)\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:261)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:185)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:168)\n        at org.springframework.context.support.AbstractApplicationContext.initMessageSource(AbstractApplicationContext.java:627)\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:368)\n        at org.springframework.web.context.ContextLoader.createWebApplicationContext(ContextLoader.java:255)\n        at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:199)\n        at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:45)\n        at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4769)\n        at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5231)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:726)\n        at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:698)\n        at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:696)\n        at org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:690)\n        at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:538)\n        at org.apache.catalina.startup.HostConfig.check(HostConfig.java:1690)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:293)\n        at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\n        at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\n        at org.apache.catalina.manager.ManagerServlet.check(ManagerServlet.java:1614)\n        at org.apache.catalina.manager.ManagerServlet.deploy(ManagerServlet.java:1026)\n        at org.apache.catalina.manager.ManagerServlet.doGet(ManagerServlet.java:357)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:670)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:779)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n        at org.apache.catalina.filters.HttpHeaderSecurityFilter.doFilter(HttpHeaderSecurityFilter.java:126)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:660)\n        at org.apache.catalina.valves.RequestFilterValve.process(RequestFilterValve.java:378)\n        at org.apache.catalina.valves.RemoteAddrValve.invoke(RemoteAddrValve.java:56)\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n        at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n        at java.lang.Thread.run(Thread.java:748)\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in ServletContext resource [/WEB-INF/applicationContext.xml]: Initialization of bean failed; nested exception is java.lang.IllegalArgumentException: error at ::0 can't find referenced pointcut hasSessionId\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:480)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory$1.run(AbstractAutowireCapableBeanFactory.java:409)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:380)\n        at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:264)\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:261)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:185)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:164)\n        at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:269)\n        ... 65 more\n    Caused by: java.lang.IllegalArgumentException: error at ::0 can't find referenced pointcut hasSessionId\n        at org.aspectj.weaver.tools.PointcutParser.parsePointcutExpression(PointcutParser.java:302)\n        at org.springframework.aop.aspectj.AspectJExpressionPointcut.buildPointcutExpression(AspectJExpressionPointcut.java:206)\n        at org.springframework.aop.aspectj.AspectJExpressionPointcut.checkReadyToMatch(AspectJExpressionPointcut.java:193)\n        at org.springframework.aop.aspectj.AspectJExpressionPointcut.getClassFilter(AspectJExpressionPointcut.java:174)\n        at org.springframework.aop.support.AopUtils.canApply(AopUtils.java:195)\n        at org.springframework.aop.support.AopUtils.canApply(AopUtils.java:250)\n        at org.springframework.aop.support.AopUtils.findAdvisorsThatCanApply(AopUtils.java:284)\n        at org.springframework.aop.framework.autoproxy.AbstractAdvisorAutoProxyCreator.findAdvisorsThatCanApply(AbstractAdvisorAutoProxyCreator.java:113)\n        at org.springframework.aop.framework.autoproxy.AbstractAdvisorAutoProxyCreator.findEligibleAdvisors(AbstractAdvisorAutoProxyCreator.java:85)\n        at org.springframework.aop.framework.autoproxy.AbstractAdvisorAutoProxyCreator.getAdvicesAndAdvisorsForBean(AbstractAdvisorAutoProxyCreator.java:66)\n        at org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator.wrapIfNecessary(AbstractAutoProxyCreator.java:362)\n        at org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator.postProcessAfterInitialization(AbstractAutoProxyCreator.java:325)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:361)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1344)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:473)\n</code></pre>\n<p>This is the application context file of my application:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n       xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;\n       xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\n       xsi:schemaLocation=&quot;\n       http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.0.xsd\n       http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-2.0.xsd\n       http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-2.0.xsd\n       http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-2.0.xsd&quot;&gt;\n        \n    \n    &lt;bean id=&quot;dataSource&quot; class=&quot;org.springframework.jndi.JndiObjectFactoryBean&quot;&gt;\n        &lt;property name=&quot;jndiName&quot;&gt;&lt;value&gt;java:comp/env/jdbc/tpds&lt;/value&gt;&lt;/property&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=&quot;dataSource2&quot; class=&quot;org.springframework.jndi.JndiObjectFactoryBean&quot;&gt;\n        &lt;property name=&quot;jndiName&quot;&gt;&lt;value&gt;java:comp/env/jdbc/abc&lt;/value&gt;&lt;/property&gt;\n    &lt;/bean&gt;\n\n    &lt;!-- v Improve performance by loading this code 1 time &amp; sharing it among servlets. v --&gt;\n\n    &lt;!-- VIEW INTERCEPTOR --&gt;\n   \n    &lt;bean id=&quot;viewInterceptor&quot; class=&quot;net.taxstream.util.web.ViewInterceptor&quot; /&gt;\n\n   \n    &lt;bean id=&quot;sessionBinding&quot; class=&quot;net.abc.core.web.binder.SessionInterceptor&quot;&gt;\n        &lt;property name=&quot;spatialBinder&quot;&gt;\n            &lt;bean class=&quot;net.abc.core.web.binder.StandardRequestLocationDatabinder&quot;&gt;\n                &lt;property name=&quot;paramOrder&quot;&gt;\n                    &lt;list&gt;\n                        &lt;value&gt;clientId&lt;/value&gt;\n                     \n                    &lt;/list&gt;\n                &lt;/property&gt;\n            &lt;/bean&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n    &lt;!-- ^ Improve performance by loading this code 1 time &amp; sharing it among servlets. ^ --&gt;\n\n&lt;!-- INTERNATIONALIZATION BEANS --&gt;\n    &lt;bean id=&quot;localeResolver&quot; class=&quot;org.springframework.web.servlet.i18n.CookieLocaleResolver&quot;&gt;\n        &lt;property name=&quot;cookieName&quot; value=&quot;clientlanguage&quot;/&gt;\n    &lt;/bean&gt;\n    \n    &lt;bean id=&quot;localeChangeInterceptor&quot; class=&quot;org.springframework.web.servlet.i18n.LocaleChangeInterceptor&quot; /&gt;\n    \n    &lt;bean id=&quot;messageSource&quot; name=&quot;tsMessageSource&quot; class=&quot;net.taxstream.util.i18n.TsMessageSource&quot;&gt;\n        &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;&gt;&lt;/property&gt;\n    &lt;/bean&gt;\n    \n    &lt;bean id=&quot;internationalizer&quot; class=&quot;net.taxstream.util.i18n.Internationalizer&quot;&gt;\n        &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;&gt;&lt;/property&gt;\n    &lt;/bean&gt;\n    \n&lt;!-- ACCESS CONTROL BEANS --&gt;    \n    &lt;bean id=&quot;accessControl&quot; class=&quot;net.abc.foundation.acs.rbac.JdbcAccessControlFactory&quot; scope=&quot;session&quot;&gt;\n        &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\n        &lt;property name=&quot;transactionManager&quot;&gt;\n            &lt;ref bean=&quot;transactionManager&quot;/&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n    \n    &lt;!-- we need to annotate the proper interfaces and classes for this to work\n    each method call needs to know what permission to check for --&gt;\n    &lt;bean id=&quot;rbacAspect&quot; class=&quot;net.abc.core.pro.acs.rbac.RbacAspect&quot;&gt;\n        &lt;property name=&quot;order&quot; value=&quot;0&quot;/&gt;\n    &lt;/bean&gt;\n\n\n&lt;!-- TRANSACTION AND AUDIT BEANS --&gt;\n    &lt;bean id=&quot;transactionManager&quot; class=&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;&gt;\n        &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot; /&gt;&lt;/property&gt;\n    &lt;/bean&gt;\n    \n    &lt;!-- audit trial stuff --&gt;\n    &lt;bean id=&quot;gttSessionUpdate&quot; class=&quot;org.springframework.transaction.interceptor.TransactionProxyFactoryBean&quot;&gt;\n       &lt;property name=&quot;transactionManager&quot;&gt;\n           &lt;ref bean=&quot;transactionManager&quot;/&gt;\n       &lt;/property&gt;\n       &lt;property name=&quot;target&quot;&gt;\n           &lt;ref local=&quot;gttSessionUpdateTarget&quot;/&gt;\n       &lt;/property&gt;\n       &lt;property name=&quot;transactionAttributes&quot;&gt;\n           &lt;props&gt;\n               &lt;prop key=&quot;*&quot;&gt;\n                   PROPAGATION_MANDATORY\n               &lt;/prop&gt;\n           &lt;/props&gt;\n       &lt;/property&gt;\n    &lt;/bean&gt;\n    \n    &lt;bean id=&quot;gttSessionUpdateTarget&quot; class=&quot;net.abc.core.audit.GttSessionUpdate&quot;&gt;\n        &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=&quot;audit&quot; class=&quot;net.abc.core.audit.AuditAspect&quot;&gt;\n        &lt;property name=&quot;gttSessionUpdate&quot; ref=&quot;gttSessionUpdate&quot;/&gt;\n        &lt;property name=&quot;order&quot; value=&quot;200&quot;/&gt;\n    &lt;/bean&gt;\n    \n    \n&lt;!-- LOGIN BEANS --&gt;    \n    &lt;bean id=&quot;loginDao&quot; class=&quot;net.abc.core.security.ProLoginDao&quot;&gt;\n        &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\n    &lt;/bean&gt;\n \n    &lt;bean id=&quot;proDao&quot; class=&quot;net.abc.core.legacy.ProDao&quot; /&gt;\n    \n    &lt;bean id=&quot;logoDao&quot; class=&quot;net.abc.core.dao.JdbcClientLogoDao&quot;&gt;\n            &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\n            &lt;property name=&quot;lobHandler&quot;&gt;&lt;ref bean=&quot;lobHandler&quot;/&gt;&lt;/property&gt;\n    &lt;/bean&gt;  \n\n\n&lt;!-- IMPORT BEANS --&gt;        \n    &lt;bean id=&quot;dataImportManager&quot; class=&quot;net.abc.core.dao.JdbcDataImportDao&quot;&gt;\n        &lt;property name=&quot;dataSource&quot; &gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\n        &lt;property name=&quot;cloverUri&quot; value=&quot;WEB-INF/foundationModule/clover&quot; /&gt;\n     &lt;/bean&gt;\n\n    &lt;bean id=&quot;navigationUtils&quot; class=&quot;net.abc.core.util.JdbcNavigationUtils&quot;&gt;\n        &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\n    &lt;/bean&gt;\n    \n&lt;!-- MESSAGE AND LOB BEANS --&gt;\n    \n    &lt;bean id=&quot;extractor&quot; class=&quot;org.springframework.jdbc.support.nativejdbc.SimpleNativeJdbcExtractor&quot; /&gt;\n    &lt;bean id=&quot;nativeJdbcExtractor&quot; class=&quot;org.springframework.jdbc.support.nativejdbc.SimpleNativeJdbcExtractor&quot; /&gt;\n    \n\n    &lt;!-- WebSphere specific--&gt;\n    &lt;!--&lt;bean id=&quot;extractor&quot; class=&quot;org.springframework.jdbc.support.nativejdbc.WebSphereNativeJdbcExtractor&quot; /&gt;\n    &lt;bean id=&quot;nativeJdbcExtractor&quot; class=&quot;org.springframework.jdbc.support.nativejdbc.WebSphereNativeJdbcExtractor&quot; /&gt;--&gt;\n    \n    &lt;bean id=&quot;lobHandler&quot; class=&quot;org.springframework.jdbc.support.lob.OracleLobHandler&quot;&gt;\n            &lt;property name=&quot;nativeJdbcExtractor&quot;&gt;&lt;ref local=&quot;nativeJdbcExtractor&quot; /&gt;&lt;/property&gt;\n    &lt;/bean&gt;\n    \n    &lt;bean id=&quot;messageDBInteraction&quot; class=&quot;net.taxstream.messages.biz.OracleSpringMessageDBInteraction&quot;&gt;\n        &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\n        &lt;property name=&quot;nativeJdbcExtractor&quot;&gt;&lt;ref local=&quot;extractor&quot; /&gt;&lt;/property&gt;\n    &lt;/bean&gt;\n\n&lt;!-- INSTRUCTION BEANS --&gt;    \n    &lt;bean id=&quot;instructionDao&quot;  class=&quot;net.abc.instruction.dao.OracleJdbcInstructionDao&quot;&gt;\n        &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt; \n        &lt;!--&lt;property name=&quot;nativeJdbcExtractor&quot; ref=&quot;nativeJdbcExtractor&quot; /&gt; --&gt;\n    &lt;/bean&gt;\n    \n    &lt;bean id=&quot;instructionManager&quot; class=&quot;net.abc.instruction.biz.InstructionManager&quot;&gt;\n        &lt;property name=&quot;instructionDao&quot;&gt;&lt;ref local=&quot;instructionDao&quot;/&gt;&lt;/property&gt;\n    &lt;/bean&gt;\n    \n&lt;!-- DOMAIN OBJECT MANAGERS --&gt;\n    &lt;bean id=&quot;clientManager&quot; class=&quot;net.abc.core.biz.JdbcClientManager&quot;&gt;\n        &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\n    &lt;/bean&gt;\n    \n    &lt;bean id=&quot;userManager&quot; class=&quot;net.abc.admin.biz.AdminJdbcUserManager&quot;&gt;\n        &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\n    &lt;/bean&gt;\n    \n    &lt;bean id=&quot;stateManager&quot; class=&quot;net.abc.core.biz.JdbcStateManager&quot;&gt;\n        &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\n    &lt;/bean&gt;\n    \n    &lt;bean id=&quot;unitManager&quot; class=&quot;net.abc.core.biz.JdbcUnitManager&quot;&gt;\n        &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\n    &lt;/bean&gt;\n\n &lt;bean id=&quot;userClientManager&quot; class=&quot;net.abc.admin.biz.AdminJdbcUserClientManager&quot;&gt;\n         &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\n         &lt;property name=&quot;userManager&quot;&gt;&lt;ref local=&quot;userManager&quot;/&gt;&lt;/property&gt;\n         &lt;property name=&quot;clientManager&quot;&gt;&lt;ref local=&quot;clientManager&quot;/&gt;&lt;/property&gt;\n    &lt;/bean&gt;\n\n    \n    &lt;bean id=&quot;assignmentManager&quot; class=&quot;net.abc.admin.dao.JdbcAssignmentUtilsImpl&quot;&gt;\n        &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\n    &lt;/bean&gt;\n    \n    &lt;bean id=&quot;navUtils&quot; class=&quot;net.abc.core.util.JdbcNavigationUtils&quot;&gt;\n        &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\n    &lt;/bean&gt;\n       \n&lt;!-- SHARED CONTROLLERS --&gt;\n&lt;bean id=&quot;logoController&quot; class=&quot;net.abc.core.web.controller.LogoController&quot;&gt;\n    &lt;property name=&quot;methodNameResolver&quot;&gt;\n        &lt;bean class=&quot;net.abc.core.web.PrettyUrlItemActionMethodNameResolver&quot;&gt;\n            &lt;property name=&quot;items&quot;&gt;\n                &lt;map&gt;\n                    &lt;entry key=&quot;logo/name/*&quot; value=&quot;ClientLogoByName&quot; /&gt;\n                    &lt;entry key=&quot;logo/id/*&quot; value=&quot;ClientLogoByID&quot; /&gt;\n                    &lt;entry key=&quot;logo/ajax/*&quot; value=&quot;ClientLogoByAjax&quot; /&gt;\n                &lt;/map&gt;\n            &lt;/property&gt;\n        &lt;/bean&gt;\n    &lt;/property&gt;\n    &lt;property name=&quot;clientLogoDao&quot;&gt;\n        &lt;ref bean=&quot;logoDao&quot;/&gt;\n    &lt;/property&gt;   \n&lt;/bean&gt;\n\n\n&lt;!-- ADVICE / AOP CONFIG --&gt;    \n    &lt;tx:advice id=&quot;txAdvice&quot;&gt;\n        &lt;!-- the transactional semantics... --&gt;\n        &lt;tx:attributes&gt;\n            &lt;tx:method name=&quot;create*&quot; propagation=&quot;REQUIRED&quot; isolation=&quot;READ_COMMITTED&quot; /&gt;\n            &lt;tx:method name=&quot;retrieve*&quot; propagation=&quot;REQUIRED&quot; isolation=&quot;READ_COMMITTED&quot; read-only=&quot;true&quot; /&gt;\n            &lt;tx:method name=&quot;update*&quot; propagation=&quot;REQUIRED&quot; isolation=&quot;READ_COMMITTED&quot; /&gt;\n            &lt;tx:method name=&quot;delete*&quot; propagation=&quot;REQUIRED&quot; isolation=&quot;READ_COMMITTED&quot; /&gt;\n            &lt;tx:method name=&quot;*&quot; propagation=&quot;REQUIRED&quot; isolation=&quot;READ_COMMITTED&quot; /&gt;\n        &lt;/tx:attributes&gt;\n    &lt;/tx:advice&gt;\n&lt;/beans&gt;\n</code></pre>\n"},{"tags":["java","jakarta-ee","jax-rs","java-ee-7","java-ee-8"],"comments":[{"owner":{"account_id":5613556,"reputation":2315,"user_id":4445625,"accept_rate":50,"display_name":"Marc Stroebel"},"score":0,"creation_date":1668432916,"post_id":74432359,"comment_id":131396497,"body_markdown":"try `@Min(value=0L, message=&quot;only numbers&quot;)` - https://stackoverflow.com/questions/9293185/validate-positive-integers","body":"try <code>@Min(value=0L, message=&quot;only numbers&quot;)</code> - <a href=\"https://stackoverflow.com/questions/9293185/validate-positive-integers\" title=\"validate positive integers\">stackoverflow.com/questions/9293185/validate-positive-intege&zwnj;&#8203;rs</a>"}],"answers":[{"tags":[],"owner":{"account_id":2820742,"reputation":408,"user_id":2424547,"accept_rate":86,"display_name":"N3tMaster"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668435691,"creation_date":1668435691,"answer_id":74433136,"question_id":74432359,"body_markdown":"You should add validate annotation after @QueryParam:\r\n\r\n    @GET\r\n    @Path(&quot;list&quot;) \r\n    public Response list(@QueryParam(&quot;id&quot;)\r\n                         @Min(value=0L, message=&quot;insert number value&quot;) \r\n                         Long id) {\r\n    ...\r\n    }\r\n\r\n","title":"JaxRS validate java.lang.Long as @QueryParam","body":"<p>You should add validate annotation after @QueryParam:</p>\n<pre><code>@GET\n@Path(&quot;list&quot;) \npublic Response list(@QueryParam(&quot;id&quot;)\n                     @Min(value=0L, message=&quot;insert number value&quot;) \n                     Long id) {\n...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1247323,"reputation":1647,"user_id":1319938,"accept_rate":67,"display_name":"mah454"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668441912,"creation_date":1668441912,"answer_id":74434556,"question_id":74432359,"body_markdown":"Finally i catch that exception.    \r\n\r\nfirst of all:  \r\nI try to handle this problem with this annotations :     \r\n\r\n    @Min\r\n    @PositiveOrZero\r\n    @Pattern(regexp = &quot;\\\\[0-9]+&quot;) or @Pattern(regexp = &quot;\\\\d+&quot;)\r\n    @Digits\r\n    ... \r\n\r\nNone of them worked, Because that string must first be converted into a number and then validated. so JaxRs could not do that !   \r\nI used this solution:     \r\n\r\n    @Provider\r\n    public class NumberExceptionMapper implements ExceptionMapper&lt;Exception&gt; {\r\n    \r\n        @Override\r\n        public Response toResponse(Exception exception) {\r\n            Exception numberFormatException = getNumberFormatException(exception);\r\n            if (numberFormatException != null) {\r\n                return Response.status(Response.Status.BAD_REQUEST).entity(&quot;Invalid Parameter&quot;).build();\r\n            } else {\r\n                return Response.status(Response.Status.BAD_REQUEST).entity(exception.getMessage()).build();\r\n            }\r\n        }\r\n    \r\n        private Exception getNumberFormatException(Exception e) {\r\n            if (e instanceof NumberFormatException nfe) return nfe;\r\n            return getNumberFormatException((Exception) e.getCause());\r\n        }\r\n    }  \r\nWorked without any problem .     \r\nThank you .","title":"JaxRS validate java.lang.Long as @QueryParam","body":"<p>Finally i catch that exception.</p>\n<p>first of all:<br />\nI try to handle this problem with this annotations :</p>\n<pre><code>@Min\n@PositiveOrZero\n@Pattern(regexp = &quot;\\\\[0-9]+&quot;) or @Pattern(regexp = &quot;\\\\d+&quot;)\n@Digits\n... \n</code></pre>\n<p>None of them worked, Because that string must first be converted into a number and then validated. so JaxRs could not do that !<br />\nI used this solution:</p>\n<pre><code>@Provider\npublic class NumberExceptionMapper implements ExceptionMapper&lt;Exception&gt; {\n\n    @Override\n    public Response toResponse(Exception exception) {\n        Exception numberFormatException = getNumberFormatException(exception);\n        if (numberFormatException != null) {\n            return Response.status(Response.Status.BAD_REQUEST).entity(&quot;Invalid Parameter&quot;).build();\n        } else {\n            return Response.status(Response.Status.BAD_REQUEST).entity(exception.getMessage()).build();\n        }\n    }\n\n    private Exception getNumberFormatException(Exception e) {\n        if (e instanceof NumberFormatException nfe) return nfe;\n        return getNumberFormatException((Exception) e.getCause());\n    }\n}  \n</code></pre>\n<p>Worked without any problem .<br />\nThank you .</p>\n"}],"owner":{"account_id":1247323,"reputation":1647,"user_id":1319938,"accept_rate":67,"display_name":"mah454"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":235,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1668441912,"creation_date":1668432206,"question_id":74432359,"body_markdown":"I have an JaxRS API like this :    \r\n\r\n    @GET\r\n    @Path(&quot;list&quot;) \r\n    public Response list(@QueryParam(&quot;id&quot;) Long id) {\r\n    ...\r\n    }\r\n\r\nHow can i handle exception when send non digits parameter as id ?     \r\nactually i can not found any validation annotation on JakartaEE framework for handle this problem .      \r\nexample request :     \r\n\r\n    curl http://localhost:8080/api/list?id=ABCD       \r\n\r\n**NOTE:** I won&#39;t change Long to String .","title":"JaxRS validate java.lang.Long as @QueryParam","body":"<p>I have an JaxRS API like this :</p>\n<pre><code>@GET\n@Path(&quot;list&quot;) \npublic Response list(@QueryParam(&quot;id&quot;) Long id) {\n...\n}\n</code></pre>\n<p>How can i handle exception when send non digits parameter as id ?<br />\nactually i can not found any validation annotation on JakartaEE framework for handle this problem .<br />\nexample request :</p>\n<pre><code>curl http://localhost:8080/api/list?id=ABCD       \n</code></pre>\n<p><strong>NOTE:</strong> I won't change Long to String .</p>\n"},{"tags":["java","minecraft-forge"],"answers":[{"tags":[],"owner":{"account_id":25186240,"reputation":65,"user_id":19027087,"display_name":"Warriorjacq9"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668441730,"creation_date":1668441730,"answer_id":74434530,"question_id":74434435,"body_markdown":"Okay, so this is pretty dumb of the install script. It downloaded an XML file saying that the jar could not be found instead of the actual jar. (*laughs*) I should probably report that.","title":"FTB Infinity Evolved server not starting with JDK 8","body":"<p>Okay, so this is pretty dumb of the install script. It downloaded an XML file saying that the jar could not be found instead of the actual jar. (<em>laughs</em>) I should probably report that.</p>\n"}],"owner":{"account_id":25186240,"reputation":65,"user_id":19027087,"display_name":"Warriorjacq9"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":638,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668441730,"creation_date":1668441332,"question_id":74434435,"body_markdown":"I have downloaded and unzipped the FTB Infinity server from [CurseForge][1] on my Arch Linux machine and run both the install and run scripts, and I am presented with this error:\r\n```java\r\nStarting server\r\nOpenJDK 64-Bit Server VM warning: ignoring option PermSize=256M; support was removed in 8.0\r\nOpenJDK 64-Bit Server VM warning: Using the ParNew young collector with the Serial old collector is deprecated and will likely be removed in a future release\r\nA problem occurred running the Server launcher.java.lang.reflect.InvocationTargetException\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat cpw.mods.fml.relauncher.ServerLaunchWrapper.run(ServerLaunchWrapper.java:43)\r\n\tat cpw.mods.fml.relauncher.ServerLaunchWrapper.main(ServerLaunchWrapper.java:12)\r\nCaused by: java.lang.NoClassDefFoundError: org/apache/logging/log4j/Level\r\n\tat net.minecraft.launchwrapper.Launch.launch(Launch.java:94)\r\n\tat net.minecraft.launchwrapper.Launch.main(Launch.java:28)\r\n\t... 6 more\r\nCaused by: java.lang.ClassNotFoundException: org.apache.logging.log4j.Level\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:387)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:418)\r\n\tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:351)\r\n\t... 8 more\r\n```\r\n\r\nMy directory listing:\r\n\r\n```bash\r\nchangelogs                 FTBserver.jar                ServerStart.sh\r\nconfig                     libraries                    settings.bat\r\neula.txt                   minecraft_server.1.7.10.jar  settings.sh\r\nFTBInstall.bat             modpack                      version.json\r\nFTBInstall.sh              mods\r\nFTBServer-1.7.10-1614.jar  ServerStart.bat\r\n```\r\n\r\nI looked at all of the questions online, and most of them said to install jdk 8, but I am already using it. Any ideas?\r\n\r\n  [1]: https://www.curseforge.com/minecraft/modpacks/ftb-infinity-evolved/files/2731545","title":"FTB Infinity Evolved server not starting with JDK 8","body":"<p>I have downloaded and unzipped the FTB Infinity server from <a href=\"https://www.curseforge.com/minecraft/modpacks/ftb-infinity-evolved/files/2731545\" rel=\"nofollow noreferrer\">CurseForge</a> on my Arch Linux machine and run both the install and run scripts, and I am presented with this error:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Starting server\nOpenJDK 64-Bit Server VM warning: ignoring option PermSize=256M; support was removed in 8.0\nOpenJDK 64-Bit Server VM warning: Using the ParNew young collector with the Serial old collector is deprecated and will likely be removed in a future release\nA problem occurred running the Server launcher.java.lang.reflect.InvocationTargetException\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at cpw.mods.fml.relauncher.ServerLaunchWrapper.run(ServerLaunchWrapper.java:43)\n    at cpw.mods.fml.relauncher.ServerLaunchWrapper.main(ServerLaunchWrapper.java:12)\nCaused by: java.lang.NoClassDefFoundError: org/apache/logging/log4j/Level\n    at net.minecraft.launchwrapper.Launch.launch(Launch.java:94)\n    at net.minecraft.launchwrapper.Launch.main(Launch.java:28)\n    ... 6 more\nCaused by: java.lang.ClassNotFoundException: org.apache.logging.log4j.Level\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:387)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\n    ... 8 more\n</code></pre>\n<p>My directory listing:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>changelogs                 FTBserver.jar                ServerStart.sh\nconfig                     libraries                    settings.bat\neula.txt                   minecraft_server.1.7.10.jar  settings.sh\nFTBInstall.bat             modpack                      version.json\nFTBInstall.sh              mods\nFTBServer-1.7.10-1614.jar  ServerStart.bat\n</code></pre>\n<p>I looked at all of the questions online, and most of them said to install jdk 8, but I am already using it. Any ideas?</p>\n"},{"tags":["java","oop","sonarqube"],"comments":[{"owner":{"account_id":138790,"reputation":61721,"user_id":343955,"accept_rate":85,"display_name":"adarshr"},"score":0,"creation_date":1678185519,"post_id":74404961,"comment_id":133480496,"body_markdown":"I just faced the exact same problem described here. It&#39;s definitely not a leaky abstraction as I&#39;m designing a framework for subclasses to use the _unused_ parameters. However, upon reading the [rule description](https://rules.sonarsource.com/java/RSPEC-1172) it became evident that documenting the _unused_ parameter with a JavaDoc gets rid of the warning. That&#39;s what I did and it&#39;s all good now.","body":"I just faced the exact same problem described here. It&#39;s definitely not a leaky abstraction as I&#39;m designing a framework for subclasses to use the <i>unused</i> parameters. However, upon reading the <a href=\"https://rules.sonarsource.com/java/RSPEC-1172\" rel=\"nofollow noreferrer\">rule description</a> it became evident that documenting the <i>unused</i> parameter with a JavaDoc gets rid of the warning. That&#39;s what I did and it&#39;s all good now."}],"answers":[{"comments":[{"owner":{"account_id":10674408,"reputation":43,"user_id":7858441,"display_name":"Jose Robles Villares"},"score":0,"creation_date":1668277957,"post_id":74406691,"comment_id":131368331,"body_markdown":"But using template method, all the child classes would have to implement doSomethingElse. However, just some of the child classes would actually do something else","body":"But using template method, all the child classes would have to implement doSomethingElse. However, just some of the child classes would actually do something else"},{"owner":{"account_id":10674408,"reputation":43,"user_id":7858441,"display_name":"Jose Robles Villares"},"score":0,"creation_date":1668278205,"post_id":74406691,"comment_id":131368381,"body_markdown":"I was thinking to create an abstract class which extends the Parent class and which has an abstract method which is “doSomethingElse”. Then, only the child classes which need to do this extra thing extend it. And when I need to do this extra thing, I would verify if the class is an instance of this new abstract class. What do you think?","body":"I was thinking to create an abstract class which extends the Parent class and which has an abstract method which is “doSomethingElse”. Then, only the child classes which need to do this extra thing extend it. And when I need to do this extra thing, I would verify if the class is an instance of this new abstract class. What do you think?"},{"owner":{"account_id":1455702,"reputation":15684,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"score":0,"creation_date":1668442203,"post_id":74406691,"comment_id":131400057,"body_markdown":"From an OOP perspective, if you need to type check the objects, then you have the wrong abstraction, which is another way of saying the classes should not have a common parent. Sharing the common logic through composition is an alternative. You may also insert an additional (potentially abstract) class into the hierarchy, similar to my recent edit above. Note there are several [exceptions](https://rules.sonarsource.com/java/RSPEC-1172) to the Sonar rule. You could simply add a proper JavaDoc for the parameter as well.","body":"From an OOP perspective, if you need to type check the objects, then you have the wrong abstraction, which is another way of saying the classes should not have a common parent. Sharing the common logic through composition is an alternative. You may also insert an additional (potentially abstract) class into the hierarchy, similar to my recent edit above. Note there are several <a href=\"https://rules.sonarsource.com/java/RSPEC-1172\" rel=\"nofollow noreferrer\">exceptions</a> to the Sonar rule. You could simply add a proper JavaDoc for the parameter as well."},{"owner":{"account_id":138790,"reputation":61721,"user_id":343955,"accept_rate":85,"display_name":"adarshr"},"score":0,"creation_date":1678185594,"post_id":74406691,"comment_id":133480517,"body_markdown":"I just faced the exact same problem described here. It&#39;s definitely not a leaky abstraction as I&#39;m designing a framework for subclasses to use the _unused_ parameters. Doing what&#39;s been suggested in this answer would be a massive overkill in my case. However, upon reading the [rule description](https://rules.sonarsource.com/java/RSPEC-1172) it became evident that simply documenting the _unused_ parameter with a JavaDoc gets rid of the warning. That&#39;s what I did and it&#39;s all good now.","body":"I just faced the exact same problem described here. It&#39;s definitely not a leaky abstraction as I&#39;m designing a framework for subclasses to use the <i>unused</i> parameters. Doing what&#39;s been suggested in this answer would be a massive overkill in my case. However, upon reading the <a href=\"https://rules.sonarsource.com/java/RSPEC-1172\" rel=\"nofollow noreferrer\">rule description</a> it became evident that simply documenting the <i>unused</i> parameter with a JavaDoc gets rid of the warning. That&#39;s what I did and it&#39;s all good now."}],"tags":[],"owner":{"account_id":1455702,"reputation":15684,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668441506,"creation_date":1668190934,"answer_id":74406691,"question_id":74404961,"body_markdown":"The design question is whether it&#39;s appropriate for the parent to have a dependency on `secondParameter`. All callers of the parent (and its child classes) will have to add that dependency, whether they would otherwise need to know about `secondParameter` or not. This may indicate a [leaky abstraction](https://stackoverflow.com/questions/3883006/meaning-of-leaky-abstraction).\r\n\r\nIf you decide it&#39;s acceptable to expose the `secondParameter` in this way, then to avoid an unused parameter warning,\r\n* One option is to introduce a [parameter object](https://refactoring.guru/introduce-parameter-object) so that `doSomething()` requires only one param.\r\n* Another option is to implement the &quot;extra thing&quot; as a [template method](https://refactoring.guru/design-patterns/template-method).\r\n\r\n        abstract class Parent {\r\n            protected void doSomething(Object firstParameter, Object secondParameter) {\r\n                System.out.println(firstParameter);\r\n                doSomethingElse(secondParameter);\r\n            }\r\n            protected abstract void doSomethingElse(Object secondParameter);\r\n        }\r\n    \r\n        abstract class DoNothingElse extends Parent {\r\n            @Override\r\n            protected void doSomethingElse(Object secondParameter) {\r\n                // Do nothing.\r\n            }\r\n        }\r\n    \r\n        class ChildThatDoesSomethingElse extends Parent {\r\n            @Override\r\n            protected void doSomethingElse(Object secondParameter) {\r\n                System.out.println(secondParameter);\r\n            }\r\n        }\r\n    \r\n        class ChildThatDoesNothingElse extends DoNothingElse {}","title":"Sonar unused parameter warning in parent class concrete method","body":"<p>The design question is whether it's appropriate for the parent to have a dependency on <code>secondParameter</code>. All callers of the parent (and its child classes) will have to add that dependency, whether they would otherwise need to know about <code>secondParameter</code> or not. This may indicate a <a href=\"https://stackoverflow.com/questions/3883006/meaning-of-leaky-abstraction\">leaky abstraction</a>.</p>\n<p>If you decide it's acceptable to expose the <code>secondParameter</code> in this way, then to avoid an unused parameter warning,</p>\n<ul>\n<li><p>One option is to introduce a <a href=\"https://refactoring.guru/introduce-parameter-object\" rel=\"nofollow noreferrer\">parameter object</a> so that <code>doSomething()</code> requires only one param.</p>\n</li>\n<li><p>Another option is to implement the &quot;extra thing&quot; as a <a href=\"https://refactoring.guru/design-patterns/template-method\" rel=\"nofollow noreferrer\">template method</a>.</p>\n<pre><code>  abstract class Parent {\n      protected void doSomething(Object firstParameter, Object secondParameter) {\n          System.out.println(firstParameter);\n          doSomethingElse(secondParameter);\n      }\n      protected abstract void doSomethingElse(Object secondParameter);\n  }\n\n  abstract class DoNothingElse extends Parent {\n      @Override\n      protected void doSomethingElse(Object secondParameter) {\n          // Do nothing.\n      }\n  }\n\n  class ChildThatDoesSomethingElse extends Parent {\n      @Override\n      protected void doSomethingElse(Object secondParameter) {\n          System.out.println(secondParameter);\n      }\n  }\n\n  class ChildThatDoesNothingElse extends DoNothingElse {}\n</code></pre>\n</li>\n</ul>\n"}],"owner":{"account_id":10674408,"reputation":43,"user_id":7858441,"display_name":"Jose Robles Villares"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":646,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1668441506,"creation_date":1668181622,"question_id":74404961,"body_markdown":"I got some troubles with a Sonar issue.\r\n\r\nI have a bunch of child classes, and I declared a concrete method in the parent class. When called, this method should do something in common for every child class, and then just some of the child classes would override it to do some extra steps.\r\n\r\nParent class method:\r\n\r\n```\r\n protected void doSomething(Object firstParameter, Object secondParameter) {\r\n       //do something with first parameter\r\n    }\r\n```\r\n\r\nChild class method:\r\n```\r\n @Override\r\n     protected void doSomething(Object firstParameter, Object secondParameter) {\r\n       super.doSomething(firstParameter, secondParameter)\r\n       //do something with second parameter\r\n     }\r\n```\r\nThe problem is that the concrete method in the parent class doesn&#39;t use `secondParameter` while the child class does.\r\nTherefore, I got a Sonar issue: \r\n\r\n`Remove this unused method parameter &quot;careCase&quot;.`\r\n\r\nCan you please help?\r\nIs it due to bad design? I just want all the child classes to do something when this method is triggered, but just a few of them to do another extra thing (which requires the second parameter)","title":"Sonar unused parameter warning in parent class concrete method","body":"<p>I got some troubles with a Sonar issue.</p>\n<p>I have a bunch of child classes, and I declared a concrete method in the parent class. When called, this method should do something in common for every child class, and then just some of the child classes would override it to do some extra steps.</p>\n<p>Parent class method:</p>\n<pre><code> protected void doSomething(Object firstParameter, Object secondParameter) {\n       //do something with first parameter\n    }\n</code></pre>\n<p>Child class method:</p>\n<pre><code> @Override\n     protected void doSomething(Object firstParameter, Object secondParameter) {\n       super.doSomething(firstParameter, secondParameter)\n       //do something with second parameter\n     }\n</code></pre>\n<p>The problem is that the concrete method in the parent class doesn't use <code>secondParameter</code> while the child class does.\nTherefore, I got a Sonar issue:</p>\n<p><code>Remove this unused method parameter &quot;careCase&quot;.</code></p>\n<p>Can you please help?\nIs it due to bad design? I just want all the child classes to do something when this method is triggered, but just a few of them to do another extra thing (which requires the second parameter)</p>\n"},{"tags":["java","spring","algorithm","design-patterns","cron"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1668441513,"post_id":74434452,"comment_id":131399793,"body_markdown":"Look at a solution like Quartz","body":"Look at a solution like Quartz"},{"owner":{"account_id":10958861,"reputation":514,"user_id":8052787,"display_name":"FredvN"},"score":0,"creation_date":1668443442,"post_id":74434452,"comment_id":131400556,"body_markdown":"You can&#39;t avoid that the jobs start at the same time when you use the same cron expression but you can use your mongoDB database to create a lock. The first instance will get the lock, proceeds and release the lock when finished. The other instances stop processing when not able to get te lock.","body":"You can&#39;t avoid that the jobs start at the same time when you use the same cron expression but you can use your mongoDB database to create a lock. The first instance will get the lock, proceeds and release the lock when finished. The other instances stop processing when not able to get te lock."},{"owner":{"account_id":14445731,"reputation":193,"user_id":10434929,"display_name":"J Harish"},"score":0,"creation_date":1668444217,"post_id":74434452,"comment_id":131400863,"body_markdown":"I cannot lock the DB because there is another microservice that actually uses the DB for its CURD operations.","body":"I cannot lock the DB because there is another microservice that actually uses the DB for its CURD operations."}],"owner":{"account_id":14445731,"reputation":193,"user_id":10434929,"display_name":"J Harish"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668441499,"creation_date":1668441394,"question_id":74434452,"body_markdown":"We have a Java app that will be deployed into three instances at the same time due to the pipeline policy, which does the MongoDB clean-up (deletion of unnecessary records). The Java app will use the cron expression to start its cleanup activity, since all three instances will have the same cron expression, the 3 apps will start to do the cleanup in parallel which is going to create a mess. So, I want to avoid all three instances starting at once instead any one instance should be eligible for cleanup.\r\n\r\nCan someone help me to resolve this issue?\r\n\r\n","title":"Need to schedule (cron job) a Java app which is deployed in three instances from pipeline","body":"<p>We have a Java app that will be deployed into three instances at the same time due to the pipeline policy, which does the MongoDB clean-up (deletion of unnecessary records). The Java app will use the cron expression to start its cleanup activity, since all three instances will have the same cron expression, the 3 apps will start to do the cleanup in parallel which is going to create a mess. So, I want to avoid all three instances starting at once instead any one instance should be eligible for cleanup.</p>\n<p>Can someone help me to resolve this issue?</p>\n"},{"tags":["java","bash","shell","command"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1656141371,"post_id":72751950,"comment_id":128503161,"body_markdown":"On Linux, you need to separate elements of the classpath with `:` (colon), not `;` (semicolon). Though I don&#39;t see how that difference would lead to this error, I would recommend you try it. If that doesn&#39;t solve it, please provide a [mre].","body":"On Linux, you need to separate elements of the classpath with <code>:</code> (colon), not <code>;</code> (semicolon). Though I don&#39;t see how that difference would lead to this error, I would recommend you try it. If that doesn&#39;t solve it, please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1656141485,"post_id":72751950,"comment_id":128503173,"body_markdown":"The error itself - at a guess - suggests you have an XML file that starts with `&lt;?\\nxml version = 1.0 encoding = utf-8` (that is, with a newline after `&lt;?`) instead of `&lt;?xml version = 1.0 encoding = utf-8`.","body":"The error itself - at a guess - suggests you have an XML file that starts with <code>&lt;?\\nxml version = 1.0 encoding = utf-8</code> (that is, with a newline after <code>&lt;?</code>) instead of <code>&lt;?xml version = 1.0 encoding = utf-8</code>."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1656141665,"post_id":72751950,"comment_id":128503202,"body_markdown":"I also notice a space before the last element of the classpath (before `lib/folder2/*`). This could also be the problem. Remove that space.","body":"I also notice a space before the last element of the classpath (before <code>lib&#47;folder2&#47;*</code>). This could also be the problem. Remove that space."},{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":3,"creation_date":1656141667,"post_id":72751950,"comment_id":128503203,"body_markdown":"This is a [bash error](https://stackoverflow.com/questions/5134399/bash-syntax-error-near-unexpected-token-newline). Java doesn&#39;t even start.","body":"This is a <a href=\"https://stackoverflow.com/questions/5134399/bash-syntax-error-near-unexpected-token-newline\">bash error</a>. Java doesn&#39;t even start."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1656141747,"post_id":72751950,"comment_id":128503218,"body_markdown":"@Olivier Would the `;` cause bash to execute the following as a statement?","body":"@Olivier Would the <code>;</code> cause bash to execute the following as a statement?"},{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":0,"creation_date":1656141782,"post_id":72751950,"comment_id":128503223,"body_markdown":"@MarkRotteveel Yes, I think so.","body":"@MarkRotteveel Yes, I think so."},{"owner":{"account_id":84644,"reputation":66608,"user_id":236465,"display_name":"Diego Torres Milano"},"score":0,"creation_date":1656142134,"post_id":72751950,"comment_id":128503271,"body_markdown":"The command before the `;` (i.e `java`) should have been executed first and should have printed and error and usage.","body":"The command before the <code>;</code> (i.e <code>java</code>) should have been executed first and should have printed and error and usage."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1656155573,"post_id":72751950,"comment_id":128505543,"body_markdown":"You won&#39;t get that error with *that* code. The first thing you will see is a Java usage error message since the Java command (which ends with the first `;`) does not receive a class name as an argument (nor a `-jar` arg of course) as @DiegoTorresMilano has said","body":"You won&#39;t get that error with <i>that</i> code. The first thing you will see is a Java usage error message since the Java command (which ends with the first <code>;</code>) does not receive a class name as an argument (nor a <code>-jar</code> arg of course) as @DiegoTorresMilano has said"},{"owner":{"account_id":7249314,"reputation":1,"user_id":5530207,"display_name":"Sumit Kumar Mahto"},"score":0,"creation_date":1656323384,"post_id":72751950,"comment_id":128535013,"body_markdown":"@MarkRotteveel -  you are right, after replacing ; (semi-colon)  with the : (colon)  , the command works as intended. Thanks for the info. However, I am not sure why did java not detect the error with the usage and threw an error/exception.","body":"@MarkRotteveel -  you are right, after replacing ; (semi-colon)  with the : (colon)  , the command works as intended. Thanks for the info. However, I am not sure why did java not detect the error with the usage and threw an error/exception."}],"answers":[{"tags":[],"owner":{"account_id":7249314,"reputation":1,"user_id":5530207,"display_name":"Sumit Kumar Mahto"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668440875,"creation_date":1668440875,"answer_id":74434343,"question_id":72751950,"body_markdown":"As @MarkRotteveel mentioned, after replacing ; (semi-colon) with the : (colon) , the command works as intended. However, I am not sure why did java not detect the error with the usage and threw an error/exception","title":"java command throwing an error in linux although works fine in windows","body":"<p>As @MarkRotteveel mentioned, after replacing ; (semi-colon) with the : (colon) , the command works as intended. However, I am not sure why did java not detect the error with the usage and threw an error/exception</p>\n"}],"owner":{"account_id":7249314,"reputation":1,"user_id":5530207,"display_name":"Sumit Kumar Mahto"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668440875,"creation_date":1656141204,"question_id":72751950,"body_markdown":"I am trying to run my java program through bash in a linux system where the command is:\r\n\r\n```\r\njava -Dresources=path1 -Dinstance=instance1 -cp ./lib/jar1.jar;./lib/folder1/*;./lib/common/*; lib/folder2/* com.test.host\r\n```\r\n\r\nIn the host class I am reading some XML files, which has spring beans and I am loading them. This command works perfectly fine in windows. However, when I run this in Bash shell. I get the following exception:\r\n\r\n&gt; syntax error near unexpected token newline &#39;xml version= 1.0 encoding= utf-8&#39; \r\n\r\nI tried removing unnecessary spaces in the XML and tried but to no avail.","title":"java command throwing an error in linux although works fine in windows","body":"<p>I am trying to run my java program through bash in a linux system where the command is:</p>\n<pre><code>java -Dresources=path1 -Dinstance=instance1 -cp ./lib/jar1.jar;./lib/folder1/*;./lib/common/*; lib/folder2/* com.test.host\n</code></pre>\n<p>In the host class I am reading some XML files, which has spring beans and I am loading them. This command works perfectly fine in windows. However, when I run this in Bash shell. I get the following exception:</p>\n<blockquote>\n<p>syntax error near unexpected token newline 'xml version= 1.0 encoding= utf-8'</p>\n</blockquote>\n<p>I tried removing unnecessary spaces in the XML and tried but to no avail.</p>\n"},{"tags":["java","for-loop","oop","if-statement","methods"],"comments":[{"owner":{"account_id":17979860,"reputation":245,"user_id":13066481,"display_name":"The_Redhawk"},"score":0,"creation_date":1667592374,"post_id":74322008,"comment_id":131211402,"body_markdown":"Can you post sample output that you are actually receiving? Eyeballing it, the loops you have confuse me. It seems that your inner loop is not tracking with your outer one. Let&#39;s say the sentence is &quot;The cat jumped jumped over the dog.&quot; Your loops are going to check the word &quot;The&quot; against every word, and then &quot;cat&quot; against every word and so on. What you want is to check consecutive pairs I believe. Consider setting up one for loop that checks &#39;i&#39; and &#39;i+1&#39; perhaps?","body":"Can you post sample output that you are actually receiving? Eyeballing it, the loops you have confuse me. It seems that your inner loop is not tracking with your outer one. Let&#39;s say the sentence is &quot;The cat jumped jumped over the dog.&quot; Your loops are going to check the word &quot;The&quot; against every word, and then &quot;cat&quot; against every word and so on. What you want is to check consecutive pairs I believe. Consider setting up one for loop that checks &#39;i&#39; and &#39;i+1&#39; perhaps?"},{"owner":{"account_id":26810396,"reputation":1,"user_id":20401110,"display_name":"Newbie"},"score":0,"creation_date":1667627070,"post_id":74322008,"comment_id":131216217,"body_markdown":"This is my sample run:  \n       \nEnter a Sentence: The operator did not not skip his meal\nThe operator did not skip his meal \nBUILD SUCCESSFUL (total time: 12 seconds)","body":"This is my sample run:           Enter a Sentence: The operator did not not skip his meal The operator did not skip his meal  BUILD SUCCESSFUL (total time: 12 seconds)"},{"owner":{"account_id":17979860,"reputation":245,"user_id":13066481,"display_name":"The_Redhawk"},"score":0,"creation_date":1667962163,"post_id":74322008,"comment_id":131291401,"body_markdown":"I believe another problem you had in the code above is you are replacing a word with &#39;error.&#39; If it were me, I would think of a way to shift the words within the array and then build a normal string from the result. Hopefully that makes sense.","body":"I believe another problem you had in the code above is you are replacing a word with &#39;error.&#39; If it were me, I would think of a way to shift the words within the array and then build a normal string from the result. Hopefully that makes sense."},{"owner":{"account_id":26810396,"reputation":1,"user_id":20401110,"display_name":"Newbie"},"score":0,"creation_date":1668011440,"post_id":74322008,"comment_id":131305778,"body_markdown":"I appreciate the help my friend! I tried coming up with ideas but couldn&#39;t, so I stuck with replacing the word with &quot;error&quot; and then using a for loop to rebuild my sentence. The problem is  that I&#39;m not that experienced when it comes to writing code, so a lot of times ideas just fly over my head from inexperience in the field which is something I&#39;m going to work on surely! it does make sense, I&#39;ll make sure to think about it for a bit and see what comes up on my mind, again i really appreciate the help!","body":"I appreciate the help my friend! I tried coming up with ideas but couldn&#39;t, so I stuck with replacing the word with &quot;error&quot; and then using a for loop to rebuild my sentence. The problem is  that I&#39;m not that experienced when it comes to writing code, so a lot of times ideas just fly over my head from inexperience in the field which is something I&#39;m going to work on surely! it does make sense, I&#39;ll make sure to think about it for a bit and see what comes up on my mind, again i really appreciate the help!"}],"answers":[{"comments":[{"owner":{"account_id":26810396,"reputation":1,"user_id":20401110,"display_name":"Newbie"},"score":0,"creation_date":1667636161,"post_id":74322795,"comment_id":131217261,"body_markdown":"Thank you, It did solve my problem, but the thing is I am not allowed to use a StringBuilder or String.join(&quot; &quot;, wordList); since the instructor won&#39;t let me do so, because we haven&#39;t gone over these methods yet. So, that&#39;s a bummer! But!!! I still appreciate you for taking from your precious time and helping me out!","body":"Thank you, It did solve my problem, but the thing is I am not allowed to use a StringBuilder or String.join(&quot; &quot;, wordList); since the instructor won&#39;t let me do so, because we haven&#39;t gone over these methods yet. So, that&#39;s a bummer! But!!! I still appreciate you for taking from your precious time and helping me out!"},{"owner":{"account_id":7916222,"reputation":303,"user_id":5978561,"display_name":"Jake Henry"},"score":0,"creation_date":1667835752,"post_id":74322795,"comment_id":131256708,"body_markdown":"Are you allowed to use a List or ArrayList? If so, just replace the StringBuilder with a List of Strings and then just add them all together at the end. In the future, if you specify the requirements of what you are allowed to use and what you aren&#39;t allowed to use in your question it will help get you a better answer.","body":"Are you allowed to use a List or ArrayList? If so, just replace the StringBuilder with a List of Strings and then just add them all together at the end. In the future, if you specify the requirements of what you are allowed to use and what you aren&#39;t allowed to use in your question it will help get you a better answer."}],"tags":[],"owner":{"account_id":7916222,"reputation":303,"user_id":5978561,"display_name":"Jake Henry"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667594806,"creation_date":1667594806,"answer_id":74322795,"question_id":74322008,"body_markdown":"You don&#39;t have any mechanism by which to store your valid words so you can print them in the format you need to after your sentence evaluation is complete. I recommend storing the valid words in a StringBuilder or ArrayList as you go so you can print the resulting string when you are ready.\r\n\r\nHere is a sample program to accomplish this using a StringBuilder. You could also use an ArrayList and call `String.join(&quot; &quot;, wordList);` to create the sentence when finished.\r\n\r\n    final String sentence = &quot;This is an invalid invalid sentence that that needs corrected&quot;;\r\n    final String[] words = sentence.split(&quot; &quot;);\r\n    StringBuilder sentenceBuilder = new StringBuilder();\r\n    for (int i = 0; i &lt; words.length; i++)\r\n    {\r\n        final String checkWord = words[i];\r\n        final boolean lastWord = i == words.length - 1;\r\n        final boolean duplicate = !lastWord &amp;&amp; checkWord.equals(words[i + 1]);\r\n        if (lastWord || !duplicate)\r\n            sentenceBuilder.append(checkWord);\r\n        if (!lastWord &amp;&amp; !duplicate)\r\n            sentenceBuilder.append(&#39; &#39;);\r\n    }\r\n    if (!sentence.equals(sentenceBuilder.toString()))\r\n        System.out.printf(&quot;The sentence includes wrong repetitions.%nThe sentence should be: %s%n&quot;, sentenceBuilder);\r\n    else\r\n        System.out.println(&quot;There are no wrong repetitions&quot;);","title":"Trying to return a value in a method created in an object and the method contains for loops and if statements but can&#39;t do it","body":"<p>You don't have any mechanism by which to store your valid words so you can print them in the format you need to after your sentence evaluation is complete. I recommend storing the valid words in a StringBuilder or ArrayList as you go so you can print the resulting string when you are ready.</p>\n<p>Here is a sample program to accomplish this using a StringBuilder. You could also use an ArrayList and call <code>String.join(&quot; &quot;, wordList);</code> to create the sentence when finished.</p>\n<pre><code>final String sentence = &quot;This is an invalid invalid sentence that that needs corrected&quot;;\nfinal String[] words = sentence.split(&quot; &quot;);\nStringBuilder sentenceBuilder = new StringBuilder();\nfor (int i = 0; i &lt; words.length; i++)\n{\n    final String checkWord = words[i];\n    final boolean lastWord = i == words.length - 1;\n    final boolean duplicate = !lastWord &amp;&amp; checkWord.equals(words[i + 1]);\n    if (lastWord || !duplicate)\n        sentenceBuilder.append(checkWord);\n    if (!lastWord &amp;&amp; !duplicate)\n        sentenceBuilder.append(' ');\n}\nif (!sentence.equals(sentenceBuilder.toString()))\n    System.out.printf(&quot;The sentence includes wrong repetitions.%nThe sentence should be: %s%n&quot;, sentenceBuilder);\nelse\n    System.out.println(&quot;There are no wrong repetitions&quot;);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":26810396,"reputation":1,"user_id":20401110,"display_name":"Newbie"},"score":0,"creation_date":1667925379,"post_id":74344181,"comment_id":131282073,"body_markdown":"Yes! I was able to solve the problem, after hours of staring at my code I noticed a huge mistake that prevented me from using one for-loop which is i&lt;n.length-1 instead of i&lt;n.length !","body":"Yes! I was able to solve the problem, after hours of staring at my code I noticed a huge mistake that prevented me from using one for-loop which is i&lt;n.length-1 instead of i&lt;n.length !"},{"owner":{"account_id":26810396,"reputation":1,"user_id":20401110,"display_name":"Newbie"},"score":0,"creation_date":1667925734,"post_id":74344181,"comment_id":131282220,"body_markdown":"the first mistake is i=1 your for-loop starts from i=1 which will start from index 1 not index 0, the for-loop will look much easier if you just write it as for(int i=0; i&lt;word.length-1; i++){\n            if(word[i].equals(word[i+1])){\n                rep = true;\n                word[i+1]=&quot;error&quot;;}}    \nand then after the loop to reconstruct your correct sentence you have to use another loops with an if statement if (!&quot;error&quot;.equals(word[i])) \n                    System.out.print(word[i] + &quot; &quot;);  \nI hope this&#39;ll help you, if not make sure to post it as a problem and i&#39;ll write you an ans","body":"the first mistake is i=1 your for-loop starts from i=1 which will start from index 1 not index 0, the for-loop will look much easier if you just write it as for(int i=0; i&lt;word.length-1; i++){             if(word[i].equals(word[i+1])){                 rep = true;                 word[i+1]=&quot;error&quot;;}}     and then after the loop to reconstruct your correct sentence you have to use another loops with an if statement if (!&quot;error&quot;.equals(word[i]))                      System.out.print(word[i] + &quot; &quot;);   I hope this&#39;ll help you, if not make sure to post it as a problem and i&#39;ll write you an ans"},{"owner":{"account_id":26840706,"reputation":1,"user_id":20427276,"display_name":"xnegev"},"score":0,"creation_date":1668440571,"post_id":74344181,"comment_id":131399468,"body_markdown":"The instructor sent us the solution, here you go for future reference:","body":"The instructor sent us the solution, here you go for future reference:"}],"tags":[],"owner":{"account_id":26840706,"reputation":1,"user_id":20427276,"display_name":"xnegev"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667812231,"creation_date":1667812231,"answer_id":74344181,"question_id":74322008,"body_markdown":"I faced the same problem in my assignment last week. I couldn&#39;t solve it but I had to submit something so I don&#39;t get a zero. The errors in my program is that there is a space left in place of the duplicated word, and it only detects two occurrences.\r\n\r\nHere&#39;s the code i wrote:\r\n\r\n```\r\n String [] n= s.split(&quot; &quot;);\r\n   boolean check=false;\r\n \r\n   for (int i=1;i&lt;n.length;i++){\r\n       String    temp=n[i-1];\r\n       if (n[i].equals(temp) == true) {\r\n       check = true;\r\n           System.out.println(&quot;The sentence includes wrong repetitions.&quot;);\r\n     n[i]=&quot;&quot;;\r\n     System.out.print(&quot;The sentence should be: &quot;);\r\n   for(int j=0;j&lt;n.length;j++) {\r\n       System.out.print(n[j]+&quot; &quot;);\r\n       \r\n   }\r\n       }\r\n      \r\n   }\r\n   \r\n   if (check == false)\r\n            System.out.println(&quot;There are no wrong repetitions&quot;);   \r\n    }\r\n    \r\n}\r\n```\r\n\r\nLet me know if you found the solution or if you can improve my code\r\n\r\n","title":"Trying to return a value in a method created in an object and the method contains for loops and if statements but can&#39;t do it","body":"<p>I faced the same problem in my assignment last week. I couldn't solve it but I had to submit something so I don't get a zero. The errors in my program is that there is a space left in place of the duplicated word, and it only detects two occurrences.</p>\n<p>Here's the code i wrote:</p>\n<pre><code> String [] n= s.split(&quot; &quot;);\n   boolean check=false;\n \n   for (int i=1;i&lt;n.length;i++){\n       String    temp=n[i-1];\n       if (n[i].equals(temp) == true) {\n       check = true;\n           System.out.println(&quot;The sentence includes wrong repetitions.&quot;);\n     n[i]=&quot;&quot;;\n     System.out.print(&quot;The sentence should be: &quot;);\n   for(int j=0;j&lt;n.length;j++) {\n       System.out.print(n[j]+&quot; &quot;);\n       \n   }\n       }\n      \n   }\n   \n   if (check == false)\n            System.out.println(&quot;There are no wrong repetitions&quot;);   \n    }\n    \n}\n</code></pre>\n<p>Let me know if you found the solution or if you can improve my code</p>\n"},{"tags":[],"owner":{"account_id":26840706,"reputation":1,"user_id":20427276,"display_name":"xnegev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668440679,"creation_date":1668440679,"answer_id":74434309,"question_id":74322008,"body_markdown":"The insturctor sent us the solution, adding it here for future reference:\r\n\r\n    /* \r\n   CSCI300 - Solution of Assignment 1\r\n   Problem 2\r\n */\r\npackage repetitions;\r\n\r\nimport java.util.Scanner;\r\n\r\npublic class Repetitions {\r\n\r\n    public static void main(String[] args) {\r\n        Scanner scan = new Scanner(System.in);\r\n        boolean hasSuccessiveReptition = false; //Assume no repetitions\r\n        \r\n        System.out.print(&quot;Enter a sentence: &quot;);\r\n        // Read the whole sentence into one String:\r\n        String sentence = scan.nextLine();\r\n        \r\n        //create an array of Strings to handle each word separately\r\n        String[] words = sentence.split(&quot; &quot;);\r\n        //Create a string to add non repetetive words to\r\n        String repetitionFreeSentence = words[0];  // add the fisrt word\r\n\r\n        for(int i = 1; i &lt; words.length; i++)\r\n            if(words[i].equalsIgnoreCase(words[i-1])) // compare successive words\r\n                hasSuccessiveReptition = true;\r\n            else // add the word to the corrected setence\r\n                repetitionFreeSentence += &quot; &quot; + words[i];        \r\n        if(hasSuccessiveReptition){\r\n            System.out.println(&quot;The sentence includes wrong repetitions.&quot;);\r\n            System.out.println(&quot;The sentence should be: &quot; + repetitionFreeSentence);\r\n        }\r\n        else\r\n            System.out.println(&quot;There are no wrong repetitions&quot;);\r\n    }\r\n    \r\n}","title":"Trying to return a value in a method created in an object and the method contains for loops and if statements but can&#39;t do it","body":"<p>The insturctor sent us the solution, adding it here for future reference:</p>\n<pre><code>/* \n</code></pre>\n<p>CSCI300 - Solution of Assignment 1\nProblem 2\n*/\npackage repetitions;</p>\n<p>import java.util.Scanner;</p>\n<p>public class Repetitions {</p>\n<pre><code>public static void main(String[] args) {\n    Scanner scan = new Scanner(System.in);\n    boolean hasSuccessiveReptition = false; //Assume no repetitions\n    \n    System.out.print(&quot;Enter a sentence: &quot;);\n    // Read the whole sentence into one String:\n    String sentence = scan.nextLine();\n    \n    //create an array of Strings to handle each word separately\n    String[] words = sentence.split(&quot; &quot;);\n    //Create a string to add non repetetive words to\n    String repetitionFreeSentence = words[0];  // add the fisrt word\n\n    for(int i = 1; i &lt; words.length; i++)\n        if(words[i].equalsIgnoreCase(words[i-1])) // compare successive words\n            hasSuccessiveReptition = true;\n        else // add the word to the corrected setence\n            repetitionFreeSentence += &quot; &quot; + words[i];        \n    if(hasSuccessiveReptition){\n        System.out.println(&quot;The sentence includes wrong repetitions.&quot;);\n        System.out.println(&quot;The sentence should be: &quot; + repetitionFreeSentence);\n    }\n    else\n        System.out.println(&quot;There are no wrong repetitions&quot;);\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":26810396,"reputation":1,"user_id":20401110,"display_name":"Newbie"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":122,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1668440679,"creation_date":1667589640,"question_id":74322008,"body_markdown":"So I am asked to write a program that reads a sentence from the user, reports and removes wrong repetitions if any. By wrong repetitions I mean that a word (or more) is repeated (two occurrences or more) and that these repetition are consecutive.\r\n\r\n\r\n`\r\n```\r\npublic class checker {\r\n    \r\n    private String sentence;\r\n    \r\n    checker(String sentence){this.sentence=sentence;}\r\n    \r\n    public String check(){\r\n        \r\n        String[] word = sentence.split(&quot; &quot;);\r\n        \r\n        for(int i=0; i&lt;word.length; i++){\r\n            for(int j=i+1; j&lt;word.length; j++){\r\n                if(word[i].equals(word[j])){\r\n                    word[j]=&quot;error&quot;;}}}\r\n        \r\n        for(int i=0; i&lt;word.length; i++) {\r\n            if (!&quot;error&quot;.equals(word[i])) {\r\n                System.out.print(word[i] + &quot; &quot;);}}\r\n        \r\n        return &quot;&quot;;}\r\n}\r\n```\r\n***This is the output of my code: ***\r\n\r\nEnter a Sentence: The operator did not not skip his meal\r\nThe operator did not skip his meal \r\nBUILD SUCCESSFUL (total time: 12 seconds)\r\n\r\nSo my code does the job of finding the repeated words and prints the corrected version, but the problem is that I just can&#39;t find a way to make it print out like it is supposed to do in the sample run!\r\n\r\n[Sample runs:\r\n\r\n-Enter a sentence: The operator did not not skip his meal\r\n-The sentence includes wrong repetitions.\r\n-The sentence should be: The operator did not skip his meal\r\n\r\n-Enter a sentence: Happy people live longer\r\n-There are no wrong repetitions] \r\n\r\n**I do know my problem, every time I try to write a piece of code containing any time type of loops and if statements together I just don&#39;t know to extract what I want from the loop and conditional statements, I was trying to \r\n\r\n`\r\n```\r\nfor(int i=0; i&lt;word.length; i++){\r\n    for(int j=i+1; j&lt;word.length; j++){\r\n        if(word[i].equals(word[j])){\r\n            System.out.println(&quot;The sentence includes wrong repetitions.\\nThe sentence should be: &quot;);\r\n            word[j]=&quot;error&quot;;}\r\n        else{\r\n             System.out.println(&quot;There are no wrong repetitions&quot;);\r\n            }\r\n    }   \r\n}\r\n```\r\n`\r\nbut I know it&#39;ll print it every time the loop gets executed!\r\n\r\nI would really appreciate a helpful tip that I can carry with me going forward!\r\n\r\nThanks in advance guys!**","title":"Trying to return a value in a method created in an object and the method contains for loops and if statements but can&#39;t do it","body":"<p>So I am asked to write a program that reads a sentence from the user, reports and removes wrong repetitions if any. By wrong repetitions I mean that a word (or more) is repeated (two occurrences or more) and that these repetition are consecutive.</p>\n<p>`</p>\n<pre><code>public class checker {\n    \n    private String sentence;\n    \n    checker(String sentence){this.sentence=sentence;}\n    \n    public String check(){\n        \n        String[] word = sentence.split(&quot; &quot;);\n        \n        for(int i=0; i&lt;word.length; i++){\n            for(int j=i+1; j&lt;word.length; j++){\n                if(word[i].equals(word[j])){\n                    word[j]=&quot;error&quot;;}}}\n        \n        for(int i=0; i&lt;word.length; i++) {\n            if (!&quot;error&quot;.equals(word[i])) {\n                System.out.print(word[i] + &quot; &quot;);}}\n        \n        return &quot;&quot;;}\n}\n</code></pre>\n<p>***This is the output of my code: ***</p>\n<p>Enter a Sentence: The operator did not not skip his meal\nThe operator did not skip his meal\nBUILD SUCCESSFUL (total time: 12 seconds)</p>\n<p>So my code does the job of finding the repeated words and prints the corrected version, but the problem is that I just can't find a way to make it print out like it is supposed to do in the sample run!</p>\n<p>[Sample runs:</p>\n<p>-Enter a sentence: The operator did not not skip his meal\n-The sentence includes wrong repetitions.\n-The sentence should be: The operator did not skip his meal</p>\n<p>-Enter a sentence: Happy people live longer\n-There are no wrong repetitions]</p>\n<p>**I do know my problem, every time I try to write a piece of code containing any time type of loops and if statements together I just don't know to extract what I want from the loop and conditional statements, I was trying to</p>\n<p>`</p>\n<pre><code>for(int i=0; i&lt;word.length; i++){\n    for(int j=i+1; j&lt;word.length; j++){\n        if(word[i].equals(word[j])){\n            System.out.println(&quot;The sentence includes wrong repetitions.\\nThe sentence should be: &quot;);\n            word[j]=&quot;error&quot;;}\n        else{\n             System.out.println(&quot;There are no wrong repetitions&quot;);\n            }\n    }   \n}\n</code></pre>\n<p>`\nbut I know it'll print it every time the loop gets executed!</p>\n<p>I would really appreciate a helpful tip that I can carry with me going forward!</p>\n<p>Thanks in advance guys!**</p>\n"},{"tags":["java","spring","spring-boot","spring-data","h2"],"answers":[{"tags":[],"owner":{"account_id":1018719,"reputation":1232,"user_id":1029684,"accept_rate":52,"display_name":"ishan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668440583,"creation_date":1668440583,"answer_id":74434283,"question_id":74405000,"body_markdown":"The thing that is causing the issue is the ID generation:\r\n```@GeneratedValue(strategy = GenerationType.IDENTITY)```\r\nAlthough, I am not sure what exactly is different on a remote machine. Both have JDK 17\r\n\r\nTo counter this, one can modify the constructor and let the annotation generate the ID.\r\nIn my case, I didn&#39;t want to change existing code, so another option would be to modify the test data and provide IDs that are not going to conflict with generated IDs. Something like:\r\n\r\n```\r\nI am fixing some old integration tests that are checking the behaviour of spring data repository saveAll() and findAll() methods. Some of these tests pass locally but when I pushed it on Jenkins, they would always fail. I cannot figure out why they are behaving differently. I can see exactly where the difference lies but I cannot figure out what is causing the difference in behaviour of saveAll() method. I will put one of these test. I am pasting the relevant parts only, after anonymising stuff, so please don&#39;t worry about some obvious errors.\r\n\r\napplication-test.yaml\r\n\r\nSpring:\r\n  jpa:\r\n    spring:\r\n      jpa:\r\n        database-platform: org.hibernate.dialect.H2Dialect\r\n  liquibase:\r\n    enabled: true\r\n  datasource:\r\n    initialization-mode: always\r\n    url: &quot;jdbc:h2:mem:testdb;MODE=MySQL;DB_CLOSE_ON_EXIT=FALSE&quot;\r\n    driver-class-name: org.h2.Driver\r\n    username: sa\r\n    password: password\r\npublic class Fields implements Serializable {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name=&quot;ID&quot;, updatable = false, nullable = false, unique = true, columnDefinition = &quot;INTEGER&quot;)\r\n    @NotNull\r\n    private Long id;\r\n\r\n    @NotNull\r\n    @Column(name=&quot;PRODUCT_ID&quot;, columnDefinition = &quot;INTEGER&quot;)\r\n    private Long personId;\r\n\r\n}\r\nNote: No constraints are added here. The save entity statements later on in the test case shall pass.\r\n\r\npublic class Family extends Fields {\r\n\r\n    public Family(@NotNull Long id, @NotNull Long personId, String group, String name, String value, LocalDateTime lastChangeDate) {\r\n        super(id, personId);\r\n        this.group = group;\r\n        this.name = name;\r\n        this.value = value;\r\n        this.lastChangeTsDate = lastChangeTsDate;\r\n    }\r\n\r\n    @NotNull\r\n    @Column(name=&quot;GROUP&quot;)\r\n    private String group;\r\n\r\n    @NotNull\r\n    @Column(name=&quot;NAME&quot;)\r\n    private String name;\r\n\r\n    @NotNull\r\n    @Column(name=&quot;VALUE&quot;)\r\n    private String value;\r\n\r\n    @NotNull\r\n    @CreationTimestamp\r\n    @Column(name = &quot;LAST_CHANGE_DATE&quot;)\r\n    private LocalDateTime lastChangeDate;\r\n}\r\n@Repository\r\npublic interface FamilyRepository extends CrudRepository&lt;Family, Long&gt; {\r\n}\r\n@DataJpaTest\r\n@ActiveProfiles(&quot;test&quot;)\r\n@ExtendWith(MockitoExtension.class)\r\npublic class FamilyRepositoryTestInt {\r\n    @Autowired\r\n    private FamilyRepository familyRepository;\r\n\r\n    @Test\r\n    public void testFindAll() {\r\n        familyRepository.deleteAll();\r\n        \r\n        long total = familyRepository.count();\r\n        assertEquals(0, total);\r\n\r\n        LocalDateTime timeNow = LocalDateTime.now();\r\n\r\n        Family family1 = new family(10L, savedPerson1.getId(), &quot;group 1&quot;, &quot;param name 1&quot;, &quot;param value 1&quot;, LocalDateTime.now());\r\n        Family family2 = new family(20L, savedPerson2.getId(), &quot;group 2&quot;, &quot;param name 2&quot;, &quot;param value 2&quot;, LocalDateTime.now());\r\n        Family family3 = new family(30L, savedPerson3.getId(), &quot;group 3&quot;, &quot;param name 3&quot;, &quot;param value 3&quot;, LocalDateTime.now());\r\n\r\n        Iterable&lt;Family&gt; savefamilys = familyRepository.saveAll(List.of(family1, family2, family3));\r\n        savefamilys.forEach(pp -&gt; System.out.println(&quot;Saved: &quot; + pp.getId()));\r\n\r\n        Iterable&lt;family&gt; findAllfamilys = familyRepository.findAll();\r\n        findAllfamilys.forEach(pp -&gt; System.out.println(&quot;Found: &quot; + pp.getId()));\r\n\r\n        assertEquals(savefamilys, findAllfamilys);\r\n    }\r\n}\r\n```","title":"Spring data repository integration tests pass locally but fail on Jenkins servers","body":"<p>The thing that is causing the issue is the ID generation:\n<code>@GeneratedValue(strategy = GenerationType.IDENTITY)</code>\nAlthough, I am not sure what exactly is different on a remote machine. Both have JDK 17</p>\n<p>To counter this, one can modify the constructor and let the annotation generate the ID.\nIn my case, I didn't want to change existing code, so another option would be to modify the test data and provide IDs that are not going to conflict with generated IDs. Something like:</p>\n<pre><code>I am fixing some old integration tests that are checking the behaviour of spring data repository saveAll() and findAll() methods. Some of these tests pass locally but when I pushed it on Jenkins, they would always fail. I cannot figure out why they are behaving differently. I can see exactly where the difference lies but I cannot figure out what is causing the difference in behaviour of saveAll() method. I will put one of these test. I am pasting the relevant parts only, after anonymising stuff, so please don't worry about some obvious errors.\n\napplication-test.yaml\n\nSpring:\n  jpa:\n    spring:\n      jpa:\n        database-platform: org.hibernate.dialect.H2Dialect\n  liquibase:\n    enabled: true\n  datasource:\n    initialization-mode: always\n    url: &quot;jdbc:h2:mem:testdb;MODE=MySQL;DB_CLOSE_ON_EXIT=FALSE&quot;\n    driver-class-name: org.h2.Driver\n    username: sa\n    password: password\npublic class Fields implements Serializable {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name=&quot;ID&quot;, updatable = false, nullable = false, unique = true, columnDefinition = &quot;INTEGER&quot;)\n    @NotNull\n    private Long id;\n\n    @NotNull\n    @Column(name=&quot;PRODUCT_ID&quot;, columnDefinition = &quot;INTEGER&quot;)\n    private Long personId;\n\n}\nNote: No constraints are added here. The save entity statements later on in the test case shall pass.\n\npublic class Family extends Fields {\n\n    public Family(@NotNull Long id, @NotNull Long personId, String group, String name, String value, LocalDateTime lastChangeDate) {\n        super(id, personId);\n        this.group = group;\n        this.name = name;\n        this.value = value;\n        this.lastChangeTsDate = lastChangeTsDate;\n    }\n\n    @NotNull\n    @Column(name=&quot;GROUP&quot;)\n    private String group;\n\n    @NotNull\n    @Column(name=&quot;NAME&quot;)\n    private String name;\n\n    @NotNull\n    @Column(name=&quot;VALUE&quot;)\n    private String value;\n\n    @NotNull\n    @CreationTimestamp\n    @Column(name = &quot;LAST_CHANGE_DATE&quot;)\n    private LocalDateTime lastChangeDate;\n}\n@Repository\npublic interface FamilyRepository extends CrudRepository&lt;Family, Long&gt; {\n}\n@DataJpaTest\n@ActiveProfiles(&quot;test&quot;)\n@ExtendWith(MockitoExtension.class)\npublic class FamilyRepositoryTestInt {\n    @Autowired\n    private FamilyRepository familyRepository;\n\n    @Test\n    public void testFindAll() {\n        familyRepository.deleteAll();\n        \n        long total = familyRepository.count();\n        assertEquals(0, total);\n\n        LocalDateTime timeNow = LocalDateTime.now();\n\n        Family family1 = new family(10L, savedPerson1.getId(), &quot;group 1&quot;, &quot;param name 1&quot;, &quot;param value 1&quot;, LocalDateTime.now());\n        Family family2 = new family(20L, savedPerson2.getId(), &quot;group 2&quot;, &quot;param name 2&quot;, &quot;param value 2&quot;, LocalDateTime.now());\n        Family family3 = new family(30L, savedPerson3.getId(), &quot;group 3&quot;, &quot;param name 3&quot;, &quot;param value 3&quot;, LocalDateTime.now());\n\n        Iterable&lt;Family&gt; savefamilys = familyRepository.saveAll(List.of(family1, family2, family3));\n        savefamilys.forEach(pp -&gt; System.out.println(&quot;Saved: &quot; + pp.getId()));\n\n        Iterable&lt;family&gt; findAllfamilys = familyRepository.findAll();\n        findAllfamilys.forEach(pp -&gt; System.out.println(&quot;Found: &quot; + pp.getId()));\n\n        assertEquals(savefamilys, findAllfamilys);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1018719,"reputation":1232,"user_id":1029684,"accept_rate":52,"display_name":"ishan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":252,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668440583,"creation_date":1668181814,"question_id":74405000,"body_markdown":"I am fixing some old integration tests that are checking the behaviour of spring data repository saveAll() and findAll() methods. Some of these tests pass locally but when I pushed it on Jenkins, they would always fail. I cannot figure out why they are behaving differently. I can see exactly where the difference lies but I cannot figure out what is causing the difference in behaviour of `saveAll()` method.\r\nI will put one of these test. I am pasting the relevant parts only, after anonymising stuff, so please don&#39;t worry about some obvious errors.\r\n\r\n\r\napplication-test.yaml\r\n```\r\nSpring:\r\n  jpa:\r\n    spring:\r\n      jpa:\r\n        database-platform: org.hibernate.dialect.H2Dialect\r\n  liquibase:\r\n    enabled: true\r\n  datasource:\r\n    initialization-mode: always\r\n    url: &quot;jdbc:h2:mem:testdb;MODE=MySQL;DB_CLOSE_ON_EXIT=FALSE&quot;\r\n    driver-class-name: org.h2.Driver\r\n    username: sa\r\n    password: password\r\n```\r\n\r\n\r\n```\r\npublic class Fields implements Serializable {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name=&quot;ID&quot;, updatable = false, nullable = false, unique = true, columnDefinition = &quot;INTEGER&quot;)\r\n    @NotNull\r\n    private Long id;\r\n\r\n    @NotNull\r\n    @Column(name=&quot;PRODUCT_ID&quot;, columnDefinition = &quot;INTEGER&quot;)\r\n    private Long personId;\r\n\r\n}\r\n```\r\nNote: No constraints are added here. The save entity statements later on in the test case shall pass. \r\n\r\n```\r\npublic class Family extends Fields {\r\n\r\n    public Family(@NotNull Long id, @NotNull Long personId, String group, String name, String value, LocalDateTime lastChangeDate) {\r\n        super(id, personId);\r\n        this.group = group;\r\n        this.name = name;\r\n        this.value = value;\r\n        this.lastChangeTsDate = lastChangeTsDate;\r\n    }\r\n\r\n    @NotNull\r\n    @Column(name=&quot;GROUP&quot;)\r\n    private String group;\r\n\r\n    @NotNull\r\n    @Column(name=&quot;NAME&quot;)\r\n    private String name;\r\n\r\n    @NotNull\r\n    @Column(name=&quot;VALUE&quot;)\r\n    private String value;\r\n\r\n    @NotNull\r\n    @CreationTimestamp\r\n    @Column(name = &quot;LAST_CHANGE_DATE&quot;)\r\n    private LocalDateTime lastChangeDate;\r\n}\r\n```\r\n\r\n\r\n```\r\n@Repository\r\npublic interface FamilyRepository extends CrudRepository&lt;Family, Long&gt; {\r\n}\r\n```\r\n\r\n```\r\n@DataJpaTest\r\n@ActiveProfiles(&quot;test&quot;)\r\n@ExtendWith(MockitoExtension.class)\r\npublic class FamilyRepositoryTestInt {\r\n\t@Autowired\r\n    private FamilyRepository familyRepository;\r\n\r\n    @Test\r\n\tpublic void testFindAll() {\r\n\t\tfamilyRepository.deleteAll();\r\n\t\t\r\n\t\tlong total = familyRepository.count();\r\n\t\tassertEquals(0, total);\r\n\r\n\t\tLocalDateTime timeNow = LocalDateTime.now();\r\n\r\n\t\tFamily family1 = new family(1L, 1L, &quot;group 1&quot;, &quot;param name 1&quot;, &quot;param value 1&quot;, LocalDateTime.now());\r\n\t\tFamily family2 = new family(2L, 2L, &quot;group 2&quot;, &quot;param name 2&quot;, &quot;param value 2&quot;, LocalDateTime.now());\r\n\t\tFamily family3 = new family(3L, 3L, &quot;group 3&quot;, &quot;param name 3&quot;, &quot;param value 3&quot;, LocalDateTime.now());\r\n\r\n\t\tIterable&lt;Family&gt; savefamilys = familyRepository.saveAll(List.of(family1, family2, family3));\r\n\t\tsavefamilys.forEach(pp -&gt; System.out.println(&quot;Saved: &quot; + pp.getId()));\r\n\r\n\t\tIterable&lt;family&gt; findAllfamilys = familyRepository.findAll();\r\n\t\tfindAllfamilys.forEach(pp -&gt; System.out.println(&quot;Found: &quot; + pp.getId()));\r\n\r\n\t\tassertEquals(savefamilys, findAllfamilys);\r\n\t}\r\n}\r\n```\r\n\r\n\r\nThe test fails on the assertion stating that it expected 3 but found 2.\r\nWith the help of debug statements I put, I can see that saveAll() is not saving the first item in the list.\r\n\r\nRunning this on intellij gives me 3 insert statements and everything expected\r\n```\r\nHibernate: select familyfamily0_.id as id1_5_, p\r\nHibernate: select count(*) as col_0_0_ from pr\r\nHibernate: select familyfamily0_.id as id1_5_0_,\r\nHibernate: insert into family_familyam (id, prod\r\nHibernate: select familyfamily0_.id as id1_5_0_,\r\nHibernate: insert into family_familyam (id, prod\r\nHibernate: select familyfamily0_.id as id1_5_0_,\r\nHibernate: insert into family_familyam (id, prod\r\nSaved: 1\r\nSaved: 2\r\nSaved: 3\r\nHibernate: select familyfamily0_.id as id1_5_, \r\nFound: 1\r\nFound: 2\r\nFound: 3\r\nHibernate: select count(*) as col_0_0_ from \r\nHibernate: select familyfamily0_.id as id1_5_,\r\n```\r\n\r\nRunning this on Jenkins gives me 2 insert statements and 1 update\r\n```\r\nHibernate: select family0_.id as id1_5_\r\nHibernate: select count(*) as col_0_0_ from\r\nHibernate: select family0_.id as id1_5_\r\nHibernate: insert into family (id, p\r\nHibernate: select family0_.id as id1_5_\r\nHibernate: insert into family (id, p\r\nSaved: 2\r\nSaved: 2\r\nSaved: 3\r\nHibernate: update family set person_id=?, \r\nHibernate: select family0_.id as id1_5_,\r\nFound: 2\r\nFound: 3\r\n```\r\n\r\nAgain, don&#39;t worry about malformed names, I changed them\r\n\r\nSo where is it going wrong then ?\r\nLet me know ","title":"Spring data repository integration tests pass locally but fail on Jenkins servers","body":"<p>I am fixing some old integration tests that are checking the behaviour of spring data repository saveAll() and findAll() methods. Some of these tests pass locally but when I pushed it on Jenkins, they would always fail. I cannot figure out why they are behaving differently. I can see exactly where the difference lies but I cannot figure out what is causing the difference in behaviour of <code>saveAll()</code> method.\nI will put one of these test. I am pasting the relevant parts only, after anonymising stuff, so please don't worry about some obvious errors.</p>\n<p>application-test.yaml</p>\n<pre><code>Spring:\n  jpa:\n    spring:\n      jpa:\n        database-platform: org.hibernate.dialect.H2Dialect\n  liquibase:\n    enabled: true\n  datasource:\n    initialization-mode: always\n    url: &quot;jdbc:h2:mem:testdb;MODE=MySQL;DB_CLOSE_ON_EXIT=FALSE&quot;\n    driver-class-name: org.h2.Driver\n    username: sa\n    password: password\n</code></pre>\n<pre><code>public class Fields implements Serializable {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name=&quot;ID&quot;, updatable = false, nullable = false, unique = true, columnDefinition = &quot;INTEGER&quot;)\n    @NotNull\n    private Long id;\n\n    @NotNull\n    @Column(name=&quot;PRODUCT_ID&quot;, columnDefinition = &quot;INTEGER&quot;)\n    private Long personId;\n\n}\n</code></pre>\n<p>Note: No constraints are added here. The save entity statements later on in the test case shall pass.</p>\n<pre><code>public class Family extends Fields {\n\n    public Family(@NotNull Long id, @NotNull Long personId, String group, String name, String value, LocalDateTime lastChangeDate) {\n        super(id, personId);\n        this.group = group;\n        this.name = name;\n        this.value = value;\n        this.lastChangeTsDate = lastChangeTsDate;\n    }\n\n    @NotNull\n    @Column(name=&quot;GROUP&quot;)\n    private String group;\n\n    @NotNull\n    @Column(name=&quot;NAME&quot;)\n    private String name;\n\n    @NotNull\n    @Column(name=&quot;VALUE&quot;)\n    private String value;\n\n    @NotNull\n    @CreationTimestamp\n    @Column(name = &quot;LAST_CHANGE_DATE&quot;)\n    private LocalDateTime lastChangeDate;\n}\n</code></pre>\n<pre><code>@Repository\npublic interface FamilyRepository extends CrudRepository&lt;Family, Long&gt; {\n}\n</code></pre>\n<pre><code>@DataJpaTest\n@ActiveProfiles(&quot;test&quot;)\n@ExtendWith(MockitoExtension.class)\npublic class FamilyRepositoryTestInt {\n    @Autowired\n    private FamilyRepository familyRepository;\n\n    @Test\n    public void testFindAll() {\n        familyRepository.deleteAll();\n        \n        long total = familyRepository.count();\n        assertEquals(0, total);\n\n        LocalDateTime timeNow = LocalDateTime.now();\n\n        Family family1 = new family(1L, 1L, &quot;group 1&quot;, &quot;param name 1&quot;, &quot;param value 1&quot;, LocalDateTime.now());\n        Family family2 = new family(2L, 2L, &quot;group 2&quot;, &quot;param name 2&quot;, &quot;param value 2&quot;, LocalDateTime.now());\n        Family family3 = new family(3L, 3L, &quot;group 3&quot;, &quot;param name 3&quot;, &quot;param value 3&quot;, LocalDateTime.now());\n\n        Iterable&lt;Family&gt; savefamilys = familyRepository.saveAll(List.of(family1, family2, family3));\n        savefamilys.forEach(pp -&gt; System.out.println(&quot;Saved: &quot; + pp.getId()));\n\n        Iterable&lt;family&gt; findAllfamilys = familyRepository.findAll();\n        findAllfamilys.forEach(pp -&gt; System.out.println(&quot;Found: &quot; + pp.getId()));\n\n        assertEquals(savefamilys, findAllfamilys);\n    }\n}\n</code></pre>\n<p>The test fails on the assertion stating that it expected 3 but found 2.\nWith the help of debug statements I put, I can see that saveAll() is not saving the first item in the list.</p>\n<p>Running this on intellij gives me 3 insert statements and everything expected</p>\n<pre><code>Hibernate: select familyfamily0_.id as id1_5_, p\nHibernate: select count(*) as col_0_0_ from pr\nHibernate: select familyfamily0_.id as id1_5_0_,\nHibernate: insert into family_familyam (id, prod\nHibernate: select familyfamily0_.id as id1_5_0_,\nHibernate: insert into family_familyam (id, prod\nHibernate: select familyfamily0_.id as id1_5_0_,\nHibernate: insert into family_familyam (id, prod\nSaved: 1\nSaved: 2\nSaved: 3\nHibernate: select familyfamily0_.id as id1_5_, \nFound: 1\nFound: 2\nFound: 3\nHibernate: select count(*) as col_0_0_ from \nHibernate: select familyfamily0_.id as id1_5_,\n</code></pre>\n<p>Running this on Jenkins gives me 2 insert statements and 1 update</p>\n<pre><code>Hibernate: select family0_.id as id1_5_\nHibernate: select count(*) as col_0_0_ from\nHibernate: select family0_.id as id1_5_\nHibernate: insert into family (id, p\nHibernate: select family0_.id as id1_5_\nHibernate: insert into family (id, p\nSaved: 2\nSaved: 2\nSaved: 3\nHibernate: update family set person_id=?, \nHibernate: select family0_.id as id1_5_,\nFound: 2\nFound: 3\n</code></pre>\n<p>Again, don't worry about malformed names, I changed them</p>\n<p>So where is it going wrong then ?\nLet me know</p>\n"},{"tags":["java","scope"],"comments":[{"owner":{"account_id":221272,"reputation":6281,"user_id":479156,"accept_rate":92,"display_name":"Ivar"},"score":3,"creation_date":1668437475,"post_id":74433504,"comment_id":131398235,"body_markdown":"&quot;_I was expecting a compile error that the max variable didn&#39;t have a value_&quot; - Why? You assigned `0` to the `max` variable.","body":"&quot;<i>I was expecting a compile error that the max variable didn&#39;t have a value</i>&quot; - Why? You assigned <code>0</code> to the <code>max</code> variable."},{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1668437827,"post_id":74433504,"comment_id":131398375,"body_markdown":"Everything in {...} is a block and has its own scope meaning 1. it can see everything in the encompasing scope(s) and 2. variables you define inside the inner scope / block itself are not visible to the outside scope. If it where differently how would your `do ... while` be able to see and modify `num` and `sum`?","body":"Everything in {...} is a block and has its own scope meaning 1. it can see everything in the encompasing scope(s) and 2. variables you define inside the inner scope / block itself are not visible to the outside scope. If it where differently how would your <code>do ... while</code> be able to see and modify <code>num</code> and <code>sum</code>?"},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1668437836,"post_id":74433504,"comment_id":131398380,"body_markdown":"As said you don&#39;t get an error because you already declare the variable `max` with an initial value of 0 so there is literally no chance for that variable to not have a value after its declaration. This has nothing to do with scope.","body":"As said you don&#39;t get an error because you already declare the variable <code>max</code> with an initial value of 0 so there is literally no chance for that variable to not have a value after its declaration. This has nothing to do with scope."},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1668437936,"post_id":74433504,"comment_id":131398407,"body_markdown":"Did you maybe mistype and meant to talk about `int num;`? because that is a variable you don&#39;t immediately give a value when declaring it","body":"Did you maybe mistype and meant to talk about <code>int num;</code>? because that is a variable you don&#39;t immediately give a value when declaring it"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1668440210,"post_id":74433504,"comment_id":131399307,"body_markdown":"`if` statements kind of create a scope for pattern variables (not the case in posted code, available in newer Java versions) - Java Language Specification [6.3.2. Scope for Pattern Variables in Statements](https://docs.oracle.com/javase/specs/jls/se19/html/jls-6.html#jls-6.3.2)","body":"<code>if</code> statements kind of create a scope for pattern variables (not the case in posted code, available in newer Java versions) - Java Language Specification <a href=\"https://docs.oracle.com/javase/specs/jls/se19/html/jls-6.html#jls-6.3.2\" rel=\"nofollow noreferrer\">6.3.2. Scope for Pattern Variables in Statements</a>"},{"owner":{"account_id":1748063,"reputation":315,"user_id":1597791,"display_name":"szeak"},"score":0,"creation_date":1668502954,"post_id":74433504,"comment_id":131414708,"body_markdown":"If the first number is negative, your code goes into failure: division by 0. You need increment the counter only if valid positive number entered. If num is negative do not add/substract to sum. Calc avg at the end of a cycle only if counter &gt; 0.","body":"If the first number is negative, your code goes into failure: division by 0. You need increment the counter only if valid positive number entered. If num is negative do not add/substract to sum. Calc avg at the end of a cycle only if counter &gt; 0."},{"owner":{"account_id":26923114,"reputation":3,"user_id":20496791,"display_name":"DragoStarh"},"score":0,"creation_date":1681448002,"post_id":74433504,"comment_id":134060901,"body_markdown":"Thank you everyone for your help this was so long ago and I have learned a lot more since then. This was when I was first learning how to program and I came across this site.","body":"Thank you everyone for your help this was so long ago and I have learned a lot more since then. This was when I was first learning how to program and I came across this site."}],"answers":[{"tags":[],"owner":{"account_id":1475,"reputation":533794,"user_id":1968,"accept_rate":83,"display_name":"Konrad Rudolph"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668440329,"creation_date":1668438007,"answer_id":74433666,"question_id":74433504,"body_markdown":"&gt; Do if statements have their own scope?\r\n\r\nNo, in Java `if` statements do not by themselves create a new scope (until [Java 14](https://www.baeldung.com/java-pattern-matching-instanceof), that is!). However, braced statement blocks (i.e. `{…}`) *do* create a new, nested scope.\r\n\r\nHowever, this is unrelated with your issue, because nested scopes *can* access variables from their parent scope (otherwise most code wouldn’t work). So the following works:\r\n\r\n```\r\nint x = 1;\r\n\r\n{\r\n    System.out.println(x);\r\n}\r\n```\r\n\r\nIf `{…}` didn’t inherit the parent scope, that code wouldn’t work.\r\n\r\nAs noted by Ivar in the comments, your code works because you did initialise the `max` variable to 0 outside the loop.\r\n\r\n---\r\n\r\nThat said, the code can be made simpler and more logical. In particular, the calculation of the average and the output should not be part of the loop but instead happen afterwards:\r\n\r\n```\r\nScanner inp = new Scanner(System.in);\r\nint sum = 0;\r\nint count = 0;\r\nint max = 0;\r\nint num;\r\n\r\ndo {\r\n    sum += num;\r\n    num = inp.nextInt();\r\n    if (num &gt; max) {\r\n        max = num;\r\n    }\r\n    ++count;\r\n} while (num &gt;= 0);\r\n\r\ndouble average = sum / (double) (count - 1);\r\nSystem.out.printf(&quot;%d %.2f\\n&quot;, max, average);\r\n```\r\n\r\nA commonly used alternative way of writing this loop is using `for(;;)` with `break;`. This variant has the alternative that we can limit the scope to `num` to the loop: it is generally desirable to make variable scope as small as possible, and to initialise a variable at the site of its declaration.\r\n\r\n```\r\n…\r\nfor (;;) {\r\n    int num = inp.nextInt();\r\n    if (num &lt; 0) break;\r\n\r\n    sum += num;\r\n    if (num &gt; max) {\r\n        max = num;\r\n    }\r\n    ++count;\r\n}\r\n…\r\n```","title":"Do if statements have their own scope?","body":"<blockquote>\n<p>Do if statements have their own scope?</p>\n</blockquote>\n<p>No, in Java <code>if</code> statements do not by themselves create a new scope (until <a href=\"https://www.baeldung.com/java-pattern-matching-instanceof\" rel=\"nofollow noreferrer\">Java 14</a>, that is!). However, braced statement blocks (i.e. <code>{…}</code>) <em>do</em> create a new, nested scope.</p>\n<p>However, this is unrelated with your issue, because nested scopes <em>can</em> access variables from their parent scope (otherwise most code wouldn’t work). So the following works:</p>\n<pre><code>int x = 1;\n\n{\n    System.out.println(x);\n}\n</code></pre>\n<p>If <code>{…}</code> didn’t inherit the parent scope, that code wouldn’t work.</p>\n<p>As noted by Ivar in the comments, your code works because you did initialise the <code>max</code> variable to 0 outside the loop.</p>\n<hr />\n<p>That said, the code can be made simpler and more logical. In particular, the calculation of the average and the output should not be part of the loop but instead happen afterwards:</p>\n<pre><code>Scanner inp = new Scanner(System.in);\nint sum = 0;\nint count = 0;\nint max = 0;\nint num;\n\ndo {\n    sum += num;\n    num = inp.nextInt();\n    if (num &gt; max) {\n        max = num;\n    }\n    ++count;\n} while (num &gt;= 0);\n\ndouble average = sum / (double) (count - 1);\nSystem.out.printf(&quot;%d %.2f\\n&quot;, max, average);\n</code></pre>\n<p>A commonly used alternative way of writing this loop is using <code>for(;;)</code> with <code>break;</code>. This variant has the alternative that we can limit the scope to <code>num</code> to the loop: it is generally desirable to make variable scope as small as possible, and to initialise a variable at the site of its declaration.</p>\n<pre><code>…\nfor (;;) {\n    int num = inp.nextInt();\n    if (num &lt; 0) break;\n\n    sum += num;\n    if (num &gt; max) {\n        max = num;\n    }\n    ++count;\n}\n…\n</code></pre>\n"}],"owner":{"account_id":26923114,"reputation":3,"user_id":20496791,"display_name":"DragoStarh"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74433666,"answer_count":1,"score":-1,"last_activity_date":1668440329,"creation_date":1668437356,"question_id":74433504,"body_markdown":"I was doing a java exercise the other day and in the exercise we had to get input from the user and then figure out what the max value was and what the average was. We then had to print out those values. Values could only be positive integers and when the user enters a negative integer the program should stop taking in values and not account for that negative integer into the average calculation. My problem was I couldn&#39;t figure out a way to compare the current integer entered by the user to the max value.\r\n\r\nI just made it&#39;s own if statement for it and I was expecting a compile error that the max variable didn&#39;t have a value or something like that, but the code worked just fine. So my question is do if statements have their own scope or not? What even has scope in programming and what doesn&#39;t.\r\n\r\n```java\r\nimport java.util.Scanner; \r\n\r\npublic class LabProgram {\r\n   public static void main(String[] args) {\r\n      //Create Scanner.\r\n      Scanner inp = new Scanner(System.in);\r\n  \r\n      //Declare and initialize variables.\r\n      double average;\r\n      int sum = 0;\r\n      int num;\r\n      int counter = 0;\r\n      int max = 0;\r\n  \r\n      //Process.\r\n      do\r\n      {\r\n         num = inp.nextInt();\r\n         sum += num;\r\n         if(num &gt; max)\r\n         {\r\n            max = num;\r\n         }\r\n         if(num &lt; 0)\r\n         {\r\n        \r\n            sum -= num;\r\n            System.out.print(max);\r\n            average = sum/(double)counter;\r\n            System.out.printf(&quot; %.2f\\n&quot;, average);\r\n         }\r\n         ++counter;\r\n      }while(num &gt;= 0);\r\n     \r\n   }\r\n}\r\n```","title":"Do if statements have their own scope?","body":"<p>I was doing a java exercise the other day and in the exercise we had to get input from the user and then figure out what the max value was and what the average was. We then had to print out those values. Values could only be positive integers and when the user enters a negative integer the program should stop taking in values and not account for that negative integer into the average calculation. My problem was I couldn't figure out a way to compare the current integer entered by the user to the max value.</p>\n<p>I just made it's own if statement for it and I was expecting a compile error that the max variable didn't have a value or something like that, but the code worked just fine. So my question is do if statements have their own scope or not? What even has scope in programming and what doesn't.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner; \n\npublic class LabProgram {\n   public static void main(String[] args) {\n      //Create Scanner.\n      Scanner inp = new Scanner(System.in);\n  \n      //Declare and initialize variables.\n      double average;\n      int sum = 0;\n      int num;\n      int counter = 0;\n      int max = 0;\n  \n      //Process.\n      do\n      {\n         num = inp.nextInt();\n         sum += num;\n         if(num &gt; max)\n         {\n            max = num;\n         }\n         if(num &lt; 0)\n         {\n        \n            sum -= num;\n            System.out.print(max);\n            average = sum/(double)counter;\n            System.out.printf(&quot; %.2f\\n&quot;, average);\n         }\n         ++counter;\n      }while(num &gt;= 0);\n     \n   }\n}\n</code></pre>\n"},{"tags":["java","amazon-web-services","spring-boot","amazon-s3","amazon-sqs"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1668411011,"post_id":74428124,"comment_id":131389519,"body_markdown":"Yes, you need to use S3, either manually or by using an sqs client on both ends that automatically uploads to and reads from S3. Aka the SQSExtendedClient in java.","body":"Yes, you need to use S3, either manually or by using an sqs client on both ends that automatically uploads to and reads from S3. Aka the SQSExtendedClient in java."},{"owner":{"account_id":26924603,"reputation":1,"user_id":20498063,"display_name":"Kristin"},"score":0,"creation_date":1669700666,"post_id":74428124,"comment_id":131696158,"body_markdown":"@luk2302&#39;: Thank you for your response, there might be 1000&#39;s of recipients and 1000&#39;s of attachments, how to store and retrieve them from S3? how to find a specific attachment for specific client?","body":"@luk2302&#39;: Thank you for your response, there might be 1000&#39;s of recipients and 1000&#39;s of attachments, how to store and retrieve them from S3? how to find a specific attachment for specific client?"}],"owner":{"account_id":26924603,"reputation":1,"user_id":20498063,"display_name":"Kristin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":417,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668440055,"creation_date":1668410502,"question_id":74428124,"body_markdown":"I am trying to build an email microservice using spring boot and AWS.  When an API for emailSend is called, it  will receive a data like below\r\n\r\n    public ResponseEntity&lt;Void&gt; sendSimpleEmail(String recipient, String msgBody, String subject, List&lt;MultipartFile&gt; attachments)\r\n\r\n    @ApiOperation(value = &quot;send simple email without attachments&quot;, nickname = &quot;sendSimpleEmail&quot;, notes = &quot;send simple email&quot;, authorizations = {\r\n        \r\n        @Authorization(value = &quot;BasicAuth&quot;)\r\n         }, tags={ &quot;SendSimpleEmail&quot;, })\r\n    @ApiResponses(value = { \r\n        @ApiResponse(code = 200, message = &quot;success&quot;) })\r\n    @RequestMapping(\r\n        method = RequestMethod.POST,\r\n        value = &quot;/api/sendemail/&quot;,\r\n        consumes = { &quot;multipart/form-data&quot; }\r\n    )\r\n    ResponseEntity&lt;Void&gt; sendSimpleEmail(@ApiParam(value = &quot;to address&quot;, required = true) @Valid @RequestPart(value = &quot;recipient&quot;, required = true) String recipient,@ApiParam(value = &quot;message&quot;, required = true) @Valid @RequestPart(value = &quot;msgBody&quot;, required = true) String msgBody,@ApiParam(value = &quot;subject&quot;, required = true) @Valid @RequestPart(value = &quot;subject&quot;, required = true) String subject,@ApiParam(value = &quot;email attachments&quot;) @Valid @RequestPart(value = &quot;attachments&quot;, required = false) List&lt;MultipartFile&gt; attachments);\r\n\r\n\r\nNow I have to send these above details to AWS SQS and I should be able to read the same from SQS queue.\r\n\r\nDo we have to use S3 bucket to store attachments?\r\n","title":"AWS SQS: How to send a message to SQS queue with an attachments/ list of MultipartFile and listen to SQS queue and read back the same message","body":"<p>I am trying to build an email microservice using spring boot and AWS.  When an API for emailSend is called, it  will receive a data like below</p>\n<pre><code>public ResponseEntity&lt;Void&gt; sendSimpleEmail(String recipient, String msgBody, String subject, List&lt;MultipartFile&gt; attachments)\n\n@ApiOperation(value = &quot;send simple email without attachments&quot;, nickname = &quot;sendSimpleEmail&quot;, notes = &quot;send simple email&quot;, authorizations = {\n    \n    @Authorization(value = &quot;BasicAuth&quot;)\n     }, tags={ &quot;SendSimpleEmail&quot;, })\n@ApiResponses(value = { \n    @ApiResponse(code = 200, message = &quot;success&quot;) })\n@RequestMapping(\n    method = RequestMethod.POST,\n    value = &quot;/api/sendemail/&quot;,\n    consumes = { &quot;multipart/form-data&quot; }\n)\nResponseEntity&lt;Void&gt; sendSimpleEmail(@ApiParam(value = &quot;to address&quot;, required = true) @Valid @RequestPart(value = &quot;recipient&quot;, required = true) String recipient,@ApiParam(value = &quot;message&quot;, required = true) @Valid @RequestPart(value = &quot;msgBody&quot;, required = true) String msgBody,@ApiParam(value = &quot;subject&quot;, required = true) @Valid @RequestPart(value = &quot;subject&quot;, required = true) String subject,@ApiParam(value = &quot;email attachments&quot;) @Valid @RequestPart(value = &quot;attachments&quot;, required = false) List&lt;MultipartFile&gt; attachments);\n</code></pre>\n<p>Now I have to send these above details to AWS SQS and I should be able to read the same from SQS queue.</p>\n<p>Do we have to use S3 bucket to store attachments?</p>\n"},{"tags":["java","spring","adobe","aem"],"comments":[{"owner":{"account_id":1642450,"reputation":481,"user_id":1514647,"display_name":"luckyluke"},"score":0,"creation_date":1657101665,"post_id":72799312,"comment_id":128727599,"body_markdown":"is there any error when you run the script?","body":"is there any error when you run the script?"}],"answers":[{"tags":[],"owner":{"account_id":6641476,"reputation":353,"user_id":5127050,"accept_rate":57,"display_name":"akashdeep-mishra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668439965,"creation_date":1668439965,"answer_id":74434120,"question_id":72799312,"body_markdown":"ACS Commons Generic List more than 8 items issue is fixed with ACS Commons **v5.3.4**\r\nhttps://github.com/whitbread-eos/dummy-repo-header/commit/7ccf1f79e54630e0a12e12ffbc145cf022fdbfe5","title":"Groovy script for &quot;AEM ACS Commons Generic List editor breaks when more than 8 items are added&quot;","body":"<p>ACS Commons Generic List more than 8 items issue is fixed with ACS Commons <strong>v5.3.4</strong>\n<a href=\"https://github.com/whitbread-eos/dummy-repo-header/commit/7ccf1f79e54630e0a12e12ffbc145cf022fdbfe5\" rel=\"nofollow noreferrer\">https://github.com/whitbread-eos/dummy-repo-header/commit/7ccf1f79e54630e0a12e12ffbc145cf022fdbfe5</a></p>\n"}],"owner":{"account_id":19095967,"reputation":67,"user_id":13945234,"display_name":"Fahad Shafiq"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668439965,"creation_date":1656496218,"question_id":72799312,"body_markdown":"  \r\n    renameRewriterFoldersInApps();\r\n    protected void renameRewriterFoldersInApps(){\r\n      Session session = resourceResolver.adaptTo(Session.class);\r\n      Workspace workspace = session.getWorkspace();\r\n      workspace.copy(originalNamePath1, renamedpath1)\r\n      workspace.copy(originalNamePath2, renamedpath2)\r\n      Node node1 = session.getNode(originalNamePath1)\r\n      Node node2 = session.getNode(originalNamePath2)\r\n      node1.remove()\r\n      node2.remove()\r\n      session.save()\r\n      revertNamesOfRewriterFoldersInApps()\r\n    }\r\n\r\n    protected void revertNamesOfRewriterFoldersInApps(){\r\n     Session session = resourceResolver.adaptTo(Session.class);\r\n     Workspace workspace = session.getWorkspace()\r\n     workspace.copy(renamedpath1, originalNamePath1)\r\n     workspace.copy(renamedpath2, originalNamePath2)\r\n     Node node1 = session.getNode(renamedpath1)\r\n     Node node2 = session.getNode(renamedpath2)\r\n     node1.remove()\r\n     node2.remove()\r\n     session.save()\r\n    }\r\nThis is the script that I have written to fix the issue but it does not work fine. The proposed solution https://stackoverflow.com/questions/68460284/aem-acs-commons-generic-list-editor-breaks-when-more-than-8-items-are-added\r\ndoes work if i do it manually on crx/de\r\nAny idea what is wrong with my script?\r\n","title":"Groovy script for &quot;AEM ACS Commons Generic List editor breaks when more than 8 items are added&quot;","body":"<pre><code>renameRewriterFoldersInApps();\nprotected void renameRewriterFoldersInApps(){\n  Session session = resourceResolver.adaptTo(Session.class);\n  Workspace workspace = session.getWorkspace();\n  workspace.copy(originalNamePath1, renamedpath1)\n  workspace.copy(originalNamePath2, renamedpath2)\n  Node node1 = session.getNode(originalNamePath1)\n  Node node2 = session.getNode(originalNamePath2)\n  node1.remove()\n  node2.remove()\n  session.save()\n  revertNamesOfRewriterFoldersInApps()\n}\n\nprotected void revertNamesOfRewriterFoldersInApps(){\n Session session = resourceResolver.adaptTo(Session.class);\n Workspace workspace = session.getWorkspace()\n workspace.copy(renamedpath1, originalNamePath1)\n workspace.copy(renamedpath2, originalNamePath2)\n Node node1 = session.getNode(renamedpath1)\n Node node2 = session.getNode(renamedpath2)\n node1.remove()\n node2.remove()\n session.save()\n}\n</code></pre>\n<p>This is the script that I have written to fix the issue but it does not work fine. The proposed solution <a href=\"https://stackoverflow.com/questions/68460284/aem-acs-commons-generic-list-editor-breaks-when-more-than-8-items-are-added\">AEM ACS Commons Generic List editor breaks when more than 8 items are added</a>\ndoes work if i do it manually on crx/de\nAny idea what is wrong with my script?</p>\n"},{"tags":["java","spring","rabbitmq","amqp","spring-amqp"],"answers":[{"comments":[{"owner":{"account_id":3310457,"reputation":407,"user_id":4151158,"accept_rate":50,"display_name":"Mariusz Mączkowski"},"score":0,"creation_date":1668441587,"post_id":74434060,"comment_id":131399822,"body_markdown":"Thanks for your answer Gary. So only purpose I can see is to not commit publishes if something goes wrong with listener ack. Still, it does not make any sense for me if I need to deal with &quot;at least once delivery&quot; at the end.","body":"Thanks for your answer Gary. So only purpose I can see is to not commit publishes if something goes wrong with listener ack. Still, it does not make any sense for me if I need to deal with &quot;at least once delivery&quot; at the end."},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":2,"creation_date":1668442378,"post_id":74434060,"comment_id":131400121,"body_markdown":"It&#39;s not just if something goes wrong with the listener ack; if the container does not start the transaction, each `RabbitTemplate` operation will either run in its own transaction, or a global transaction, and commit. Let&#39;s say the listener calls a method than is annotated `@Transactional` (with DB updates and/or Rabbit publishes) that method commits normally, but something else goes wrong in the listener before returning. The transaction won&#39;t be rolled back but the message(s) will be redelivered. This is avoided by the container controlling the scope of the transaction.","body":"It&#39;s not just if something goes wrong with the listener ack; if the container does not start the transaction, each <code>RabbitTemplate</code> operation will either run in its own transaction, or a global transaction, and commit. Let&#39;s say the listener calls a method than is annotated <code>@Transactional</code> (with DB updates and/or Rabbit publishes) that method commits normally, but something else goes wrong in the listener before returning. The transaction won&#39;t be rolled back but the message(s) will be redelivered. This is avoided by the container controlling the scope of the transaction."},{"owner":{"account_id":3310457,"reputation":407,"user_id":4151158,"accept_rate":50,"display_name":"Mariusz Mączkowski"},"score":0,"creation_date":1668444304,"post_id":74434060,"comment_id":131400898,"body_markdown":"That&#39;s clear but what&#39;s the point to avoiding that situation. In case which you provided we cannot &quot;undo&quot; db commit anyway. Can we? The only side effect is that the message will be consumed again. And it shouldn&#39;t be a big deal if code is idempotent.","body":"That&#39;s clear but what&#39;s the point to avoiding that situation. In case which you provided we cannot &quot;undo&quot; db commit anyway. Can we? The only side effect is that the message will be consumed again. And it shouldn&#39;t be a big deal if code is idempotent."},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":2,"creation_date":1668451384,"post_id":74434060,"comment_id":131403267,"body_markdown":"If the container starts the transaction (external) both transactions won&#39;t commit unless the listener exits normally. If the `@Transactional` method is propagation `REQUIRED` it will just use the transaction that the container started.","body":"If the container starts the transaction (external) both transactions won&#39;t commit unless the listener exits normally. If the <code>@Transactional</code> method is propagation <code>REQUIRED</code> it will just use the transaction that the container started."},{"owner":{"account_id":4457805,"reputation":158,"user_id":3627515,"display_name":"leonidos79"},"score":0,"creation_date":1680005052,"post_id":74434060,"comment_id":133819404,"body_markdown":"Exactly the behaviour I was looking for! Thanks @GaryRussell","body":"Exactly the behaviour I was looking for! Thanks @GaryRussell"}],"tags":[],"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"comment_count":5,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668439676,"creation_date":1668439676,"answer_id":74434060,"question_id":74433532,"body_markdown":"Enable transactions in the listener so that any/all downstream `RabbitTemplate` operations participate in the same transaction.\r\n\r\nIf there is a failure, the container will rollback the transaction (removing the publishes), nack the message (or messages if batch size is greater than one) and then commit the nacks so the message(s) will be redelivered.\r\n\r\nWhen using an external transaction manager (such as JDBC), the container will synchronize the AMQP transaction with the external transaction.\r\n\r\nDownstream templates participate in the transaction regardless of whether it is local (AMQP only) or synchronized.","title":"What&#39;s the purpose for Spring AMQP listener transactions","body":"<p>Enable transactions in the listener so that any/all downstream <code>RabbitTemplate</code> operations participate in the same transaction.</p>\n<p>If there is a failure, the container will rollback the transaction (removing the publishes), nack the message (or messages if batch size is greater than one) and then commit the nacks so the message(s) will be redelivered.</p>\n<p>When using an external transaction manager (such as JDBC), the container will synchronize the AMQP transaction with the external transaction.</p>\n<p>Downstream templates participate in the transaction regardless of whether it is local (AMQP only) or synchronized.</p>\n"}],"owner":{"account_id":3310457,"reputation":407,"user_id":4151158,"accept_rate":50,"display_name":"Mariusz Mączkowski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":368,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1668439676,"creation_date":1668437465,"question_id":74433532,"body_markdown":"I&#39;m trying to understand how transaction works in Spring AMQP. Reading the docs: https://docs.spring.io/spring-amqp/reference/html/#transactions , I know the purpose for enabling transaction in publisher (Best Effort One Phase Commit pattern) but I have no idea why it could be necessary in MessageListener? \r\n\r\nLet&#39;s take an example:\r\n\r\n`acknowledgeMode=AUTO`\r\n1. Consume message using `@RabbitListener`\r\n2. Insert data into database\r\n3. Publish message using `rabbitTemplate`\r\n\r\nAccording to docs: https://docs.spring.io/spring-amqp/reference/html/#acknowledgeMode, if `acknowledgeMode` is set to `AUTO` then if any next operation fails, listener will fail too and message will be returned to queue.\r\n\r\nAnother question is whats the difference between local transaction and external transaction in that case (setting `container.setTransactionManager(transactionManager());` or not)?\r\n\r\nI would appreciate some clarification :) ","title":"What&#39;s the purpose for Spring AMQP listener transactions","body":"<p>I'm trying to understand how transaction works in Spring AMQP. Reading the docs: <a href=\"https://docs.spring.io/spring-amqp/reference/html/#transactions\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-amqp/reference/html/#transactions</a> , I know the purpose for enabling transaction in publisher (Best Effort One Phase Commit pattern) but I have no idea why it could be necessary in MessageListener?</p>\n<p>Let's take an example:</p>\n<p><code>acknowledgeMode=AUTO</code></p>\n<ol>\n<li>Consume message using <code>@RabbitListener</code></li>\n<li>Insert data into database</li>\n<li>Publish message using <code>rabbitTemplate</code></li>\n</ol>\n<p>According to docs: <a href=\"https://docs.spring.io/spring-amqp/reference/html/#acknowledgeMode\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-amqp/reference/html/#acknowledgeMode</a>, if <code>acknowledgeMode</code> is set to <code>AUTO</code> then if any next operation fails, listener will fail too and message will be returned to queue.</p>\n<p>Another question is whats the difference between local transaction and external transaction in that case (setting <code>container.setTransactionManager(transactionManager());</code> or not)?</p>\n<p>I would appreciate some clarification :)</p>\n"},{"tags":["java","jms","jms-topic"],"comments":[{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1668434611,"post_id":74432858,"comment_id":131397144,"body_markdown":"Please share some code if you expect anyone to help you.","body":"Please share some code if you expect anyone to help you."},{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1668435496,"post_id":74432858,"comment_id":131397468,"body_markdown":"Both `MessageListener` and `MessageConsumer` should work. With JMS topics it&#39;s important to understand that you must create the subscription *before* messages are sent. Any message sent to the topic before the subscription is created will not be dispatched to that subscription&#39;s consumer. Also, ensure you invoke `start()` on the `Connection`.","body":"Both <code>MessageListener</code> and <code>MessageConsumer</code> should work. With JMS topics it&#39;s important to understand that you must create the subscription <i>before</i> messages are sent. Any message sent to the topic before the subscription is created will not be dispatched to that subscription&#39;s consumer. Also, ensure you invoke <code>start()</code> on the <code>Connection</code>."},{"owner":{"account_id":4202987,"reputation":1,"user_id":11431627,"display_name":"tripleM_za"},"score":0,"creation_date":1668437347,"post_id":74432858,"comment_id":131398184,"body_markdown":"Thanks @JustinBertram that helps a lot - didn&#39;t realise start() was important and I was trying to consume messages sent prior to the subscription","body":"Thanks @JustinBertram that helps a lot - didn&#39;t realise start() was important and I was trying to consume messages sent prior to the subscription"},{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1668438027,"post_id":74432858,"comment_id":131398446,"body_markdown":"Is it working now?","body":"Is it working now?"}],"answers":[{"tags":[],"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668439474,"creation_date":1668439474,"answer_id":74434020,"question_id":74432858,"body_markdown":"Both `MessageListener` and `MessageConsumer` *should* work. With JMS topics it&#39;s important to understand that you must create the subscription *before* messages are sent. Any message sent to the topic before the subscription is created will not be dispatched to that subscription&#39;s consumer. Also, ensure you invoke [`start()`][1] on the `Connection`. \r\n\r\n\r\n  [1]: https://docs.oracle.com/javaee/7/api/javax/jms/Connection.html#start--","title":"How to consume messages from JMS Topic in Java","body":"<p>Both <code>MessageListener</code> and <code>MessageConsumer</code> <em>should</em> work. With JMS topics it's important to understand that you must create the subscription <em>before</em> messages are sent. Any message sent to the topic before the subscription is created will not be dispatched to that subscription's consumer. Also, ensure you invoke <a href=\"https://docs.oracle.com/javaee/7/api/javax/jms/Connection.html#start--\" rel=\"nofollow noreferrer\"><code>start()</code></a> on the <code>Connection</code>.</p>\n"}],"owner":{"account_id":4202987,"reputation":1,"user_id":11431627,"display_name":"tripleM_za"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":196,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1668439474,"creation_date":1668434536,"question_id":74432858,"body_markdown":"Yes, I have googled but it&#39;s very confusing to me. I want to continuously receive messages from a Topic (it&#39;s an oracle AQ topic) similar to the way that I use the MessageListener interface onMessage method for Queues. I can&#39;t seem to find a clear answer\r\n\r\nWith Queues - it&#39;s simple. Create an MDB publisher/producer class to send messages, and a Consumer class that implements MessageListener to receive messages. With Topics - there seems to be a different strategy when it comes to receiving. \r\n\r\nI have tried examples that implement the MessageConsumer interface as well as MessageListener interface but nothing is really clear cut and nothing works for me. I have tried the subscriber.receive() method using MessageConsumer to create a durable subscriber on the topic session - not only does it not work but it only happens when you call the receive method, but I want something that will consume messages as and when they come. \r\n","title":"How to consume messages from JMS Topic in Java","body":"<p>Yes, I have googled but it's very confusing to me. I want to continuously receive messages from a Topic (it's an oracle AQ topic) similar to the way that I use the MessageListener interface onMessage method for Queues. I can't seem to find a clear answer</p>\n<p>With Queues - it's simple. Create an MDB publisher/producer class to send messages, and a Consumer class that implements MessageListener to receive messages. With Topics - there seems to be a different strategy when it comes to receiving.</p>\n<p>I have tried examples that implement the MessageConsumer interface as well as MessageListener interface but nothing is really clear cut and nothing works for me. I have tried the subscriber.receive() method using MessageConsumer to create a durable subscriber on the topic session - not only does it not work but it only happens when you call the receive method, but I want something that will consume messages as and when they come.</p>\n"},{"tags":["java","variables","double","bigdecimal"],"comments":[{"owner":{"display_name":"user289086"},"score":2,"creation_date":1391607356,"post_id":21578853,"comment_id":32595761,"body_markdown":"Have you read the javadoc for BigDecimal?","body":"Have you read the javadoc for BigDecimal?"},{"owner":{"account_id":903546,"reputation":2804,"user_id":939008,"accept_rate":25,"display_name":"Ashot Karakhanyan"},"score":0,"creation_date":1391607400,"post_id":21578853,"comment_id":32595797,"body_markdown":"Please provide your code how you do it","body":"Please provide your code how you do it"},{"owner":{"account_id":1244574,"reputation":13277,"user_id":1206301,"accept_rate":10,"display_name":"Alexei Kaigorodov"},"score":3,"creation_date":1391607938,"post_id":21578853,"comment_id":32596209,"body_markdown":"Avogadro&#39;s number known precision is 5.0&#215;10–8 (http://www.quickiwiki.com/en/Avogadro_constant), so it can be perfectly represented by `double` type, no need to use `BigDecimal`.","body":"Avogadro&#39;s number known precision is 5.0&#215;10–8 (<a href=\"http://www.quickiwiki.com/en/Avogadro_constant\" rel=\"nofollow noreferrer\">quickiwiki.com/en/Avogadro_constant</a>), so it can be perfectly represented by <code>double</code> type, no need to use <code>BigDecimal</code>."},{"owner":{"account_id":2325393,"reputation":9581,"user_id":2040040,"accept_rate":93,"display_name":"johnchen902"},"score":0,"creation_date":1391608050,"post_id":21578853,"comment_id":32596282,"body_markdown":"Sorry, but there are no operator overloading in Java.","body":"Sorry, but there are no operator overloading in Java."},{"owner":{"account_id":2009857,"reputation":25959,"user_id":1798593,"display_name":"Patricia Shanahan"},"score":0,"creation_date":1391614027,"post_id":21578853,"comment_id":32600462,"body_markdown":"What is the purpose of trying to &quot;keep the precision&quot;? double carries 53 significant bits, about 15.9 significant digits. The Avogadro constant is known to about 8 significant digits. For a reasonably numerically stable calculation, the measurement error far exceeds the double precision rounding error. 6.022e23 is a 4 significant digit approximation to the measured value. The rounding error you are choosing to accept by using that approximation dwarfs even the measurement error.","body":"What is the purpose of trying to &quot;keep the precision&quot;? double carries 53 significant bits, about 15.9 significant digits. The Avogadro constant is known to about 8 significant digits. For a reasonably numerically stable calculation, the measurement error far exceeds the double precision rounding error. 6.022e23 is a 4 significant digit approximation to the measured value. The rounding error you are choosing to accept by using that approximation dwarfs even the measurement error."}],"answers":[{"comments":[{"owner":{"account_id":1333342,"reputation":477,"user_id":1276686,"accept_rate":62,"display_name":"Angelo Uknown"},"score":0,"creation_date":1391615484,"post_id":21578934,"comment_id":32601463,"body_markdown":"ok, but if i want to apply it to something big, like a formula i will have to do it like this: \n\nBigDecimal result = new BigDecimal(doubleValue).multiply(factor2).divide(factor3).add(5.7); (for example)","body":"ok, but if i want to apply it to something big, like a formula i will have to do it like this:   BigDecimal result = new BigDecimal(doubleValue).multiply(factor2).divide(factor3).ad&zwnj;&#8203;d(5.7); (for example)"},{"owner":{"account_id":2009857,"reputation":25959,"user_id":1798593,"display_name":"Patricia Shanahan"},"score":1,"creation_date":1391616109,"post_id":21578934,"comment_id":32601910,"body_markdown":"@AngeloUknown Unless you really need more precision than double allows, which is unusual for calculations involving physically measured quantities, you would be better off just working in double with infix operators.","body":"@AngeloUknown Unless you really need more precision than double allows, which is unusual for calculations involving physically measured quantities, you would be better off just working in double with infix operators."}],"tags":[],"owner":{"account_id":2680659,"reputation":10169,"user_id":2316112,"accept_rate":70,"display_name":"Philipp Sander"},"comment_count":2,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1391607473,"creation_date":1391607473,"answer_id":21578934,"question_id":21578853,"body_markdown":"Operations are only supported for primitive types (and + for Strings)\r\n\r\nBigDecimals has implemented the operations as functions.\r\n\r\nyou can only uses BigDecimals for operations with BigDecimals. So you need to convert your double value:\r\n\r\n    BigDecimal result = new BigDecimal(doubleValue).multiply(factor2);","title":"Operations with BigDecimal and double in Java","body":"<p>Operations are only supported for primitive types (and + for Strings)</p>\n\n<p>BigDecimals has implemented the operations as functions.</p>\n\n<p>you can only uses BigDecimals for operations with BigDecimals. So you need to convert your double value:</p>\n\n<pre><code>BigDecimal result = new BigDecimal(doubleValue).multiply(factor2);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":446125,"reputation":8787,"user_id":838976,"display_name":"Martin Dinov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1391607479,"creation_date":1391607479,"answer_id":21578938,"question_id":21578853,"body_markdown":"Wrap the double into a `BigDecimal` first:\r\n\r\n    BigDecimal result = yourBigDecimal.multiply(new BigDecimal(yourDouble));","title":"Operations with BigDecimal and double in Java","body":"<p>Wrap the double into a <code>BigDecimal</code> first:</p>\n\n<pre><code>BigDecimal result = yourBigDecimal.multiply(new BigDecimal(yourDouble));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":168280,"reputation":12236,"user_id":393639,"accept_rate":84,"display_name":"dinesh707"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1391607550,"creation_date":1391607550,"answer_id":21578963,"question_id":21578853,"body_markdown":"BigDecimal is not a primitive type. So you really cannot apply simple maths (*,-,+) into that. It has many methods in order to support all the basic mathematics. You can use them. As comment suggest read the java doc (http://docs.oracle.com/javase/7/docs/api/java/math/BigDecimal.html).\r\n\r\nWhat big decimal has is a two main parts. One part contains the number, and the second part precision. So if you want to handle special maths which is not standard available you can get those two values separately and try with higher mathematical algorithms\r\n\r\nQuate from java doc :\r\n&gt; 21/110 = 0.190 // integer=190, scale=3\r\n\r\n","title":"Operations with BigDecimal and double in Java","body":"<p>BigDecimal is not a primitive type. So you really cannot apply simple maths (*,-,+) into that. It has many methods in order to support all the basic mathematics. You can use them. As comment suggest read the java doc (<a href=\"http://docs.oracle.com/javase/7/docs/api/java/math/BigDecimal.html\" rel=\"nofollow\">http://docs.oracle.com/javase/7/docs/api/java/math/BigDecimal.html</a>).</p>\n\n<p>What big decimal has is a two main parts. One part contains the number, and the second part precision. So if you want to handle special maths which is not standard available you can get those two values separately and try with higher mathematical algorithms</p>\n\n<p>Quate from java doc :</p>\n\n<blockquote>\n  <p>21/110 = 0.190 // integer=190, scale=3</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1638661,"reputation":2399,"user_id":1511531,"display_name":"Semih Eker"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1391609496,"creation_date":1391609496,"answer_id":21579626,"question_id":21578853,"body_markdown":"Do sthg like this;\r\n\r\n     public class Payment\r\n     {\r\n         BigDecimal itemCost;\r\n         BigDecimal totalCost; // You can initialize it if you wish.\r\n\r\n         public BigDecimal calculateCost(int itemQuantity, BigDecimal itemPrice)\r\n         {\r\n             itemCost  = itemPrice.multiply(new BigDecimal(itemQuantity));\r\n             totalCost = totalCost.add(itemCost);\r\n             return totalCost;\r\n         }\r\n     }\r\n\r\nAnd read javadoc for BigDecimal.","title":"Operations with BigDecimal and double in Java","body":"<p>Do sthg like this;</p>\n\n<pre><code> public class Payment\n {\n     BigDecimal itemCost;\n     BigDecimal totalCost; // You can initialize it if you wish.\n\n     public BigDecimal calculateCost(int itemQuantity, BigDecimal itemPrice)\n     {\n         itemCost  = itemPrice.multiply(new BigDecimal(itemQuantity));\n         totalCost = totalCost.add(itemCost);\n         return totalCost;\n     }\n }\n</code></pre>\n\n<p>And read javadoc for BigDecimal.</p>\n"},{"tags":[],"owner":{"account_id":5011281,"reputation":193,"user_id":4027507,"display_name":"Fran&#231;ois Gautier"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1427114128,"creation_date":1427114128,"answer_id":29210350,"question_id":21578853,"body_markdown":"**Warning**: https://stackoverflow.com/questions/12218515/unpredictability-of-the-bigdecimaldouble-constructor\r\n\r\nnew Bigdecimal(myDouble) is wrong.\r\nYou have to use Bigdecimal.valueOf(myDouble) instead.","title":"Operations with BigDecimal and double in Java","body":"<p><strong>Warning</strong>: <a href=\"https://stackoverflow.com/questions/12218515/unpredictability-of-the-bigdecimaldouble-constructor\">Unpredictability of the BigDecimal(double) constructor</a></p>\n\n<p>new Bigdecimal(myDouble) is wrong.\nYou have to use Bigdecimal.valueOf(myDouble) instead.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1647574315,"post_id":71518207,"comment_id":126410964,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/71518207/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":22804874,"reputation":1,"user_id":18141233,"display_name":"Serik Koder "},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647546351,"creation_date":1647546351,"answer_id":71518207,"question_id":21578853,"body_markdown":"BigDecimal multi = BigDecimal.valueOf(doubleValue).multiply(bigDecimal)","title":"Operations with BigDecimal and double in Java","body":"<p>BigDecimal multi = BigDecimal.valueOf(doubleValue).multiply(bigDecimal)</p>\n"},{"tags":[],"owner":{"account_id":16856943,"reputation":57,"user_id":12188660,"display_name":"mitesh keswani"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668439421,"creation_date":1668439421,"answer_id":74434011,"question_id":21578853,"body_markdown":"Multiply would be right..\r\nTo do (&lt;, ==, &gt;, &gt;=, !=, &lt;=) operations, you can use compareTo of BigDecimal..\r\nresulting in 0,1,-1.\r\nI hope this too helps.. ;)","title":"Operations with BigDecimal and double in Java","body":"<p>Multiply would be right..\nTo do (&lt;, ==, &gt;, &gt;=, !=, &lt;=) operations, you can use compareTo of BigDecimal..\nresulting in 0,1,-1.\nI hope this too helps.. ;)</p>\n"}],"owner":{"account_id":1333342,"reputation":477,"user_id":1276686,"accept_rate":62,"display_name":"Angelo Uknown"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22301,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":21578934,"answer_count":7,"score":1,"last_activity_date":1668439421,"creation_date":1391607238,"question_id":21578853,"body_markdown":"I am trying to use Advogadro&#39;s number (6.022*10^23) in a java program and i use BigDecimal variable to store it. However i want to multiply it with an int or a double and still keep the precision, but it throws an error!\r\n\r\n    bad operand types for binary operator &#39;*&#39;\r\n      first type:  double\r\n      second type: BigDecimal\r\n\r\nIs there any simple way to do that? Also is there a way to print the result in scientific notation?\r\n\r\nThanks in advance!","title":"Operations with BigDecimal and double in Java","body":"<p>I am trying to use Advogadro's number (6.022*10^23) in a java program and i use BigDecimal variable to store it. However i want to multiply it with an int or a double and still keep the precision, but it throws an error!</p>\n\n<pre><code>bad operand types for binary operator '*'\n  first type:  double\n  second type: BigDecimal\n</code></pre>\n\n<p>Is there any simple way to do that? Also is there a way to print the result in scientific notation?</p>\n\n<p>Thanks in advance!</p>\n"},{"tags":["java","api","rest","maven","serenity-bdd"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1668440124,"post_id":74433835,"comment_id":131399276,"body_markdown":"Sorry to say that but that does not make sense. If tests are failed your build is not Ok... that&#39;s the intention of tests... What you can make while changing the behaviour is to define a build as unstable in case of failed unit tests?","body":"Sorry to say that but that does not make sense. If tests are failed your build is not Ok... that&#39;s the intention of tests... What you can make while changing the behaviour is to define a build as unstable in case of failed unit tests?"},{"owner":{"account_id":26929061,"reputation":9,"user_id":20501844,"display_name":"ANKIT KUMAR"},"score":0,"creation_date":1669385178,"post_id":74433835,"comment_id":131636055,"body_markdown":"intension is - to run test cases in spinnaker pipeline, after running all test case the build should be success and it should generate the container  image for further deployment as part of CI-CD","body":"intension is - to run test cases in spinnaker pipeline, after running all test case the build should be success and it should generate the container  image for further deployment as part of CI-CD"}],"answers":[{"tags":[],"owner":{"account_id":1049017,"reputation":623,"user_id":1053362,"accept_rate":100,"display_name":"Antoine Dahan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668439279,"creation_date":1668439279,"answer_id":74433980,"question_id":74433835,"body_markdown":"Adding `-DskipTests` to your maven build command will build without running the tests. \r\n\r\nE.g: `mvn clean install -DskipTests`","title":"how to make build success even the Test Case got failed?","body":"<p>Adding <code>-DskipTests</code> to your maven build command will build without running the tests.</p>\n<p>E.g: <code>mvn clean install -DskipTests</code></p>\n"},{"tags":[],"owner":{"account_id":8106298,"reputation":1,"user_id":8374197,"display_name":"Kailash India"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668439413,"creation_date":1668439413,"answer_id":74434009,"question_id":74433835,"body_markdown":"Pls try\r\nmvn clean verify serenity:aggregate -Dtags=smokesuite Dmaven.test.failure.ignore=true \r\n\r\nRef: baeldung.com/maven-ignore-test-results ","title":"how to make build success even the Test Case got failed?","body":"<p>Pls try\nmvn clean verify serenity:aggregate -Dtags=smokesuite Dmaven.test.failure.ignore=true</p>\n<p>Ref: baeldung.com/maven-ignore-test-results</p>\n"}],"owner":{"account_id":26929061,"reputation":9,"user_id":20501844,"display_name":"ANKIT KUMAR"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":412,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1668439413,"creation_date":1668438622,"question_id":74433835,"body_markdown":"I am running a suite of APIs test cases which is build on maven Project. There are some failure in Test cases due to this my entire build is getting failed. how to make build success even the Test Case got failed. Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.18.1:test\r\n\r\nMaven build failure solution","title":"how to make build success even the Test Case got failed?","body":"<p>I am running a suite of APIs test cases which is build on maven Project. There are some failure in Test cases due to this my entire build is getting failed. how to make build success even the Test Case got failed. Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.18.1:test</p>\n<p>Maven build failure solution</p>\n"},{"tags":["java","maven","intellij-idea"],"answers":[{"tags":[],"owner":{"display_name":"user10639668"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1544388441,"creation_date":1544388441,"answer_id":53696533,"question_id":53696423,"body_markdown":"You need to add `GetMoreData` jar to classpath, or configure the `HelloWorld`s build to generate [jar-with-dependencies][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/574594/how-can-i-create-an-executable-jar-with-dependencies-using-maven","title":"Maven Multi-Module-Project works in IntelliJ but running via command line says &quot;java.lang.NoClassDefFoundError&quot;","body":"<p>You need to add <code>GetMoreData</code> jar to classpath, or configure the <code>HelloWorld</code>s build to generate <a href=\"https://stackoverflow.com/questions/574594/how-can-i-create-an-executable-jar-with-dependencies-using-maven\">jar-with-dependencies</a></p>\n"}],"owner":{"account_id":2512216,"reputation":1196,"user_id":2184449,"accept_rate":85,"display_name":"Jere"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1377,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":53696533,"answer_count":1,"score":0,"last_activity_date":1668439113,"creation_date":1544387699,"question_id":53696423,"body_markdown":"I started writing a basic Hello World Multi-Module project with Maven inside IntelliJ. It runs perfectly with the built-in run button, but when I build the project via command line with `mvn install` and then try running it with `java -cp HelloWorld/target/HelloWorld-1.0-SNAPSHOT.jar App`, it says \r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError:\r\n&gt; MoreDataClass \tat App.main(App.java:5) Caused by:\r\n&gt; java.lang.ClassNotFoundException: MoreDataClass \tat\r\n&gt; java.net.URLClassLoader.findClass(URLClassLoader.java:381) \tat\r\n&gt; java.lang.ClassLoader.loadClass(ClassLoader.java:424) \tat\r\n&gt; sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:335) \tat\r\n&gt; java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n\r\nMaybe the problem is the project structure (which was given to my by IntelliJ):\r\n\r\n    parent/\r\n    – pom.xml\r\n    – HelloWorld/\r\n    – – pom.xml\r\n    – – src/main/java/App.java\r\n    – GetMoreData/\r\n    – – pom.xml\r\n    – – src/main/java/MoreDataClass.java\r\n\r\nThe `App.java` inside the `HelloWorld`-Module looks like this:\r\n\r\n    public class App {\r\n        public static void main(String[] args) {\r\n            System.out.println(&quot;Hello World&quot;);\r\n    \r\n            MoreDataClass c = new MoreDataClass();\r\n            System.out.println(c.getMoreData());\r\n        }\r\n    }\r\n\r\nAnd the `MoreDataClass` inside `GetMoreData`-Module contains this code:\r\n\r\n    public class MoreDataClass {\r\n        public String getMoreData() {\r\n            return &quot;Here is some more data from the Module GetMoreData&quot;;\r\n        }\r\n    }\r\n\r\nRunning `App.main()` in IntelliJ returns (as supposed to) the following lines at standard out:\r\n\r\n    Hello World\r\n    Here is some more data from the Module GetMoreData\r\n\r\nRunning it via Maven in the command line (as described at the beginning) on the other hand returns this:\r\n\r\n    Hello World\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: MoreDataClass\r\n    \tat App.main(App.java:5)\r\n    Caused by: java.lang.ClassNotFoundException: MoreDataClass\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:381)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n    \tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:335)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n    \t... 1 more\r\n\r\nSo the `App.main()` is built and can be executed, but it doesn&#39;t find the `MoreDataClass`. Why doesn&#39;t it?\r\n\r\nIn case those are relevant to the problem, here are my pom.xml:\r\n\r\n    ****** parent/pom.xml: ******\r\n    \r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;de.playground.multiModule&lt;/groupId&gt;\r\n        &lt;artifactId&gt;parent&lt;/artifactId&gt;\r\n        &lt;packaging&gt;pom&lt;/packaging&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;modules&gt;\r\n            &lt;module&gt;GetMoreData&lt;/module&gt;\r\n            &lt;module&gt;HelloWord&lt;/module&gt;\r\n        &lt;/modules&gt;\r\n    \r\n    &lt;/project&gt;\r\n    \r\n    ***** parent/GetMoreData/pom.xml *****\r\n    \r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;parent&gt;\r\n            &lt;artifactId&gt;parent&lt;/artifactId&gt;\r\n            &lt;groupId&gt;de.playground.multiModule&lt;/groupId&gt;\r\n            &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;/parent&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;artifactId&gt;GetMoreData&lt;/artifactId&gt;\r\n    \r\n    &lt;/project&gt;\r\n    \r\n    ***** parent/HelloWorld/pom.xml *****\r\n    \r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;parent&gt;\r\n            &lt;artifactId&gt;parent&lt;/artifactId&gt;\r\n            &lt;groupId&gt;de.playground.multiModule&lt;/groupId&gt;\r\n            &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;/parent&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;artifactId&gt;HelloWord&lt;/artifactId&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;de.playground.multiModule&lt;/groupId&gt;\r\n                &lt;artifactId&gt;GetMoreData&lt;/artifactId&gt;\r\n                &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n                &lt;scope&gt;compile&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n\r\n    &lt;/project&gt;","title":"Maven Multi-Module-Project works in IntelliJ but running via command line says &quot;java.lang.NoClassDefFoundError&quot;","body":"<p>I started writing a basic Hello World Multi-Module project with Maven inside IntelliJ. It runs perfectly with the built-in run button, but when I build the project via command line with <code>mvn install</code> and then try running it with <code>java -cp HelloWorld/target/HelloWorld-1.0-SNAPSHOT.jar App</code>, it says</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError:\nMoreDataClass     at App.main(App.java:5) Caused by:\njava.lang.ClassNotFoundException: MoreDataClass   at\njava.net.URLClassLoader.findClass(URLClassLoader.java:381)    at\njava.lang.ClassLoader.loadClass(ClassLoader.java:424)     at\nsun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:335)     at\njava.lang.ClassLoader.loadClass(ClassLoader.java:357)</p>\n</blockquote>\n<p>Maybe the problem is the project structure (which was given to my by IntelliJ):</p>\n<pre><code>parent/\n– pom.xml\n– HelloWorld/\n– – pom.xml\n– – src/main/java/App.java\n– GetMoreData/\n– – pom.xml\n– – src/main/java/MoreDataClass.java\n</code></pre>\n<p>The <code>App.java</code> inside the <code>HelloWorld</code>-Module looks like this:</p>\n<pre><code>public class App {\n    public static void main(String[] args) {\n        System.out.println(&quot;Hello World&quot;);\n\n        MoreDataClass c = new MoreDataClass();\n        System.out.println(c.getMoreData());\n    }\n}\n</code></pre>\n<p>And the <code>MoreDataClass</code> inside <code>GetMoreData</code>-Module contains this code:</p>\n<pre><code>public class MoreDataClass {\n    public String getMoreData() {\n        return &quot;Here is some more data from the Module GetMoreData&quot;;\n    }\n}\n</code></pre>\n<p>Running <code>App.main()</code> in IntelliJ returns (as supposed to) the following lines at standard out:</p>\n<pre><code>Hello World\nHere is some more data from the Module GetMoreData\n</code></pre>\n<p>Running it via Maven in the command line (as described at the beginning) on the other hand returns this:</p>\n<pre><code>Hello World\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: MoreDataClass\n    at App.main(App.java:5)\nCaused by: java.lang.ClassNotFoundException: MoreDataClass\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:381)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:335)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n    ... 1 more\n</code></pre>\n<p>So the <code>App.main()</code> is built and can be executed, but it doesn't find the <code>MoreDataClass</code>. Why doesn't it?</p>\n<p>In case those are relevant to the problem, here are my pom.xml:</p>\n<pre><code>****** parent/pom.xml: ******\n\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;de.playground.multiModule&lt;/groupId&gt;\n    &lt;artifactId&gt;parent&lt;/artifactId&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;modules&gt;\n        &lt;module&gt;GetMoreData&lt;/module&gt;\n        &lt;module&gt;HelloWord&lt;/module&gt;\n    &lt;/modules&gt;\n\n&lt;/project&gt;\n\n***** parent/GetMoreData/pom.xml *****\n\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;parent&gt;\n        &lt;artifactId&gt;parent&lt;/artifactId&gt;\n        &lt;groupId&gt;de.playground.multiModule&lt;/groupId&gt;\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;artifactId&gt;GetMoreData&lt;/artifactId&gt;\n\n&lt;/project&gt;\n\n***** parent/HelloWorld/pom.xml *****\n\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;parent&gt;\n        &lt;artifactId&gt;parent&lt;/artifactId&gt;\n        &lt;groupId&gt;de.playground.multiModule&lt;/groupId&gt;\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;artifactId&gt;HelloWord&lt;/artifactId&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;de.playground.multiModule&lt;/groupId&gt;\n            &lt;artifactId&gt;GetMoreData&lt;/artifactId&gt;\n            &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":10465568,"reputation":840,"user_id":7715095,"display_name":"xyz"},"score":0,"creation_date":1668430583,"post_id":74431767,"comment_id":131395650,"body_markdown":"You will need programatically (in your java implementation) to say exactly how to pick up only 30 elements(or 90) for your DTO(Data transfer object)","body":"You will need programatically (in your java implementation) to say exactly how to pick up only 30 elements(or 90) for your DTO(Data transfer object)"}],"answers":[{"tags":[],"owner":{"account_id":5613556,"reputation":2315,"user_id":4445625,"accept_rate":50,"display_name":"Marc Stroebel"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1668435814,"creation_date":1668430427,"answer_id":74431969,"question_id":74431767,"body_markdown":"Extract business logic to a `@Service` class, and provide the required limit as a parameter from a Controller:\r\n\r\n    @Service\r\n    public class MyService {\r\n    \r\n      MyDto createResponse(int limit) {\r\n        //.... slice list size, e.g.\r\n        List limitedData = data.subList(0, limit);\r\n        //...\r\n      }\r\n    }\r\n\r\n\r\n    @RestController\r\n    public class MyController1 {\r\n    \r\n      @Autowired\r\n      MyService myService;\r\n    \r\n      MyDto createResponse() {\r\n        return myService.createResponse(30);\r\n      }\r\n    }\r\n\r\n\r\n\r\n    @Controller\r\n    public class MyController2 {\r\n    \r\n      @Autowired\r\n      MyService myService;\r\n    \r\n      MyDto createResponse() {\r\n        return myService.createResponse(100);\r\n      }\r\n    }\r\n\r\n","title":"How to limit the size of a Key in a Json response in spring boot?","body":"<p>Extract business logic to a <code>@Service</code> class, and provide the required limit as a parameter from a Controller:</p>\n<pre><code>@Service\npublic class MyService {\n\n  MyDto createResponse(int limit) {\n    //.... slice list size, e.g.\n    List limitedData = data.subList(0, limit);\n    //...\n  }\n}\n\n\n@RestController\npublic class MyController1 {\n\n  @Autowired\n  MyService myService;\n\n  MyDto createResponse() {\n    return myService.createResponse(30);\n  }\n}\n\n\n\n@Controller\npublic class MyController2 {\n\n  @Autowired\n  MyService myService;\n\n  MyDto createResponse() {\n    return myService.createResponse(100);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1083984,"reputation":1741,"user_id":1080166,"accept_rate":62,"display_name":"bvanvelsen - ACA Group"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668438844,"creation_date":1668438844,"answer_id":74433889,"question_id":74431767,"body_markdown":"You could look into [Pageable][1]. This interface can be used to paginate data. This way you can return a subset of 30 items, but also display how many other pages there are\r\n\r\n  [1]: https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/domain/Pageable.html","title":"How to limit the size of a Key in a Json response in spring boot?","body":"<p>You could look into <a href=\"https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/domain/Pageable.html\" rel=\"nofollow noreferrer\">Pageable</a>. This interface can be used to paginate data. This way you can return a subset of 30 items, but also display how many other pages there are</p>\n"}],"owner":{"account_id":20267769,"reputation":9,"user_id":14864573,"display_name":"Abhinav Dogra"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":162,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":74431969,"answer_count":2,"score":-1,"last_activity_date":1668438844,"creation_date":1668429417,"question_id":74431767,"body_markdown":" [1]: https://i.stack.imgur.com/j5kYF.png\r\n[image][1]\r\nThis is my JSON repsonse, there is an attribute (key) in the response named as **DATA** which is list of lists and have 1000+ list in it. \r\n\r\n\r\nI want to limit the size of data(attribute inside json) to 30 lists and 90 lists for two different controllers. I am not able to find out how to do it.\r\n\r\n\r\n ","title":"How to limit the size of a Key in a Json response in spring boot?","body":"<p><a href=\"https://i.stack.imgur.com/j5kYF.png\" rel=\"nofollow noreferrer\">image</a>\nThis is my JSON repsonse, there is an attribute (key) in the response named as <strong>DATA</strong> which is list of lists and have 1000+ list in it.</p>\n<p>I want to limit the size of data(attribute inside json) to 30 lists and 90 lists for two different controllers. I am not able to find out how to do it.</p>\n"},{"tags":["java","kubernetes","postman","load-balancing","rate-limiting"],"comments":[{"owner":{"account_id":13863020,"reputation":137043,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1668480014,"post_id":74433886,"comment_id":131409920,"body_markdown":"When you say &quot;API&quot;, what technology are you using here?  My experience with HTTP has generally been that _some_ layer in the stack is going to impose a 60-second timeout, and it&#39;s better to aim for individual HTTP calls to be under 1 second if possible.  The setup you&#39;re describing here sounds like a queueing system like RabbitMQ might be a better match?","body":"When you say &quot;API&quot;, what technology are you using here?  My experience with HTTP has generally been that <i>some</i> layer in the stack is going to impose a 60-second timeout, and it&#39;s better to aim for individual HTTP calls to be under 1 second if possible.  The setup you&#39;re describing here sounds like a queueing system like RabbitMQ might be a better match?"},{"owner":{"account_id":25495212,"reputation":1230,"user_id":19289375,"display_name":"Sai Chandini Routhu"},"score":0,"creation_date":1671647879,"post_id":74433886,"comment_id":132146014,"body_markdown":"Is your issue resolved?if yes, can you post the procedure you&#39;ve followed as Solution and accept it for the greater visibility of community","body":"Is your issue resolved?if yes, can you post the procedure you&#39;ve followed as Solution and accept it for the greater visibility of community"}],"owner":{"account_id":14189749,"reputation":34,"user_id":10250776,"display_name":"Mandalorean&#39;s Code"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668438838,"creation_date":1668438838,"question_id":74433886,"body_markdown":"So my K8&#39;s deployment has been scaled up to 5 pods and, it is masked by a single URL.(K8&#39;s service)\r\n\r\nEach of the pod running has only one API exposed and it also only accepts one request at a time. This is configured this way because single request will take around 20 minutes to complete the load and cannot be changed.\r\nNow the default way i use the API is, i open 5 tabs in postman tool, load different necessary parameters and i hit the endpoint continously one by one until all 5 pods are running all of my different loads. Now if a same request goes to a pod which is alreading running a load, it simply rejects by stating &quot;RETRY&quot;, and then i again keep hitting request until one of the pods accepts it.\r\n\r\nIm thinking of building a client app, replacing the postman manual effort, where the client app will hit the api with a timeout of 10 seconds, and in the next 10 seconds if it does not get &quot;RETRY&quot;, that means a pod has currently accepted this request, else again hit the endpoint until i dont get &quot;RETRY&quot;\r\n\r\nI wanted to know if there is a better way of handling this scenario.\r\n\r\nI tried writing a script that hits the URL with a timeout of 10 seconds, within the 10 seconds if i get a response, i would assume that this request needs to be retried, if even after 10 seconds i dont get a response, i assume that a pod is running my request and i move on to other requests.\r\n\r\n\r\n","title":"how to have a better control over Kuberenetes default load balancing strategy?","body":"<p>So my K8's deployment has been scaled up to 5 pods and, it is masked by a single URL.(K8's service)</p>\n<p>Each of the pod running has only one API exposed and it also only accepts one request at a time. This is configured this way because single request will take around 20 minutes to complete the load and cannot be changed.\nNow the default way i use the API is, i open 5 tabs in postman tool, load different necessary parameters and i hit the endpoint continously one by one until all 5 pods are running all of my different loads. Now if a same request goes to a pod which is alreading running a load, it simply rejects by stating &quot;RETRY&quot;, and then i again keep hitting request until one of the pods accepts it.</p>\n<p>Im thinking of building a client app, replacing the postman manual effort, where the client app will hit the api with a timeout of 10 seconds, and in the next 10 seconds if it does not get &quot;RETRY&quot;, that means a pod has currently accepted this request, else again hit the endpoint until i dont get &quot;RETRY&quot;</p>\n<p>I wanted to know if there is a better way of handling this scenario.</p>\n<p>I tried writing a script that hits the URL with a timeout of 10 seconds, within the 10 seconds if i get a response, i would assume that this request needs to be retried, if even after 10 seconds i dont get a response, i assume that a pod is running my request and i move on to other requests.</p>\n"},{"tags":["java","nio"],"comments":[{"owner":{"account_id":10098519,"reputation":5323,"user_id":7463126,"display_name":"Alan Bateman"},"score":0,"creation_date":1507712867,"post_id":46676279,"comment_id":80315947,"body_markdown":"Which operating system is still? I&#39;m curious why can&#39;t you use attrs.creationTime()?","body":"Which operating system is still? I&#39;m curious why can&#39;t you use attrs.creationTime()?"},{"owner":{"account_id":86953,"reputation":16978,"user_id":241453,"accept_rate":71,"display_name":"mstrap"},"score":1,"creation_date":1507715596,"post_id":46676279,"comment_id":80317871,"body_markdown":"The problem is on Linux/OSX. The API gives you only `BasicFileAttributes`, because `sun.nio.fs.UnixFileAttributes` is plattform-dependent.","body":"The problem is on Linux/OSX. The API gives you only <code>BasicFileAttributes</code>, because <code>sun.nio.fs.UnixFileAttributes</code> is plattform-dependent."},{"owner":{"account_id":10098519,"reputation":5323,"user_id":7463126,"display_name":"Alan Bateman"},"score":0,"creation_date":1507716276,"post_id":46676279,"comment_id":80318316,"body_markdown":"BasicFileAttributes defines the creationTime method to expose the file creation time where possible. There should be no reason to be poking around in the implementation classes.","body":"BasicFileAttributes defines the creationTime method to expose the file creation time where possible. There should be no reason to be poking around in the implementation classes."},{"owner":{"account_id":86953,"reputation":16978,"user_id":241453,"accept_rate":71,"display_name":"mstrap"},"score":1,"creation_date":1507761268,"post_id":46676279,"comment_id":80344739,"body_markdown":"The creationTime is not the Unix ctime (&quot;changed-time&quot;).","body":"The creationTime is not the Unix ctime (&quot;changed-time&quot;)."},{"owner":{"account_id":86953,"reputation":16978,"user_id":241453,"accept_rate":71,"display_name":"mstrap"},"score":0,"creation_date":1507810523,"post_id":46676279,"comment_id":80365039,"body_markdown":"Thanks, @AlanBateman, I would accept this as an answer that NIO currently does not support this.","body":"Thanks, @AlanBateman, I would accept this as an answer that NIO currently does not support this."},{"owner":{"account_id":10098519,"reputation":5323,"user_id":7463126,"display_name":"Alan Bateman"},"score":1,"creation_date":1507812325,"post_id":46676279,"comment_id":80366340,"body_markdown":"Ah okay, you are looking at the last change time, there is no support in the API for that except by using \nFiles.readAttributes(file, &quot;unix:ctime&quot;). It potentially could be exposed in a type safe manner via PosixFileAttributes but has never been a priority (I don&#39;t recall it coming up on nio-dev either).","body":"Ah okay, you are looking at the last change time, there is no support in the API for that except by using  Files.readAttributes(file, &quot;unix:ctime&quot;). It potentially could be exposed in a type safe manner via PosixFileAttributes but has never been a priority (I don&#39;t recall it coming up on nio-dev either)."}],"answers":[{"tags":[],"owner":{"account_id":1047596,"reputation":9325,"user_id":1052284,"accept_rate":44,"display_name":"Mark Jeronimus"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668438741,"creation_date":1668438741,"answer_id":74433857,"question_id":46676279,"body_markdown":"For Java 9 and up, the `setAccessible()` checks module permissions, which your module doesn&#39;t have. This can be unlocked with the VM option `--add-opens java.base/sun.nio.fs=ALL-UNNAMED`.","title":"Java 9: How to retrieve the ctime in FileVisitor.visitFile()?","body":"<p>For Java 9 and up, the <code>setAccessible()</code> checks module permissions, which your module doesn't have. This can be unlocked with the VM option <code>--add-opens java.base/sun.nio.fs=ALL-UNNAMED</code>.</p>\n"}],"owner":{"account_id":86953,"reputation":16978,"user_id":241453,"accept_rate":71,"display_name":"mstrap"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74433857,"answer_count":1,"score":2,"last_activity_date":1668438741,"creation_date":1507670733,"question_id":46676279,"body_markdown":"I&#39;m looking for an efficient way to retrieve the *ctime* information stored in `sun.nio.fs.UnixFileAttributes` during a `Files.walkFileTree`:\r\n\r\n    Files.walkFileTree(root, EnumSet.noneOf(FileVisitOption.class), Integer.MAX_VALUE, new FileVisitor&lt;Path&gt;() {\r\n      public FileVisitResult visitFile(Path file, BasicFileAttributes attrs) throws IOException {\r\n        // get ctime from BasicFileAttributes here\r\n      }\r\n    }\r\n\r\nThere is a hack for Java 8: reflection can be used to access `UnixFileAttributes.ctime()`. However this code requires to change accessibility of the `ctime()`-method which will fail for Java 9 with an `InaccessibleObjectException`.\r\n\r\n    Class&lt;?&gt; basicFileAttributesClass = Class.forName(&quot;java.nio.file.attribute.BasicFileAttributes&quot;);\r\n    Class&lt;?&gt; unixFileAttributesClass = Class.forName(&quot;sun.nio.fs.UnixFileAttributes&quot;);\r\n\r\n    Method toUnixFileAttributesMethod = unixFileAttributesClass.getDeclaredMethod(&quot;toUnixFileAttributes&quot;, basicFileAttributesClass);\r\n    toUnixFileAttributesMethod.setAccessible(true);\r\n\r\n    Method cTimeMethod = unixFileAttributesClass.getDeclaredMethod(&quot;ctime&quot;);\r\n    cTimeMethod.setAccessible(true);\r\n\r\n\tObject unixFileAttributes = toUnixFileAttributesMethod.invoke(unixFileAttributesClass, attributes);\r\n    ((FileTime)cTimeMethod.invoke(unixFileAttributes)).toMillis();\r\n\r\nI&#39;m still hoping to have missed some NIO utility method which does the job.\r\n\r\n\r\n","title":"Java 9: How to retrieve the ctime in FileVisitor.visitFile()?","body":"<p>I'm looking for an efficient way to retrieve the <em>ctime</em> information stored in <code>sun.nio.fs.UnixFileAttributes</code> during a <code>Files.walkFileTree</code>:</p>\n\n<pre><code>Files.walkFileTree(root, EnumSet.noneOf(FileVisitOption.class), Integer.MAX_VALUE, new FileVisitor&lt;Path&gt;() {\n  public FileVisitResult visitFile(Path file, BasicFileAttributes attrs) throws IOException {\n    // get ctime from BasicFileAttributes here\n  }\n}\n</code></pre>\n\n<p>There is a hack for Java 8: reflection can be used to access <code>UnixFileAttributes.ctime()</code>. However this code requires to change accessibility of the <code>ctime()</code>-method which will fail for Java 9 with an <code>InaccessibleObjectException</code>.</p>\n\n<pre><code>Class&lt;?&gt; basicFileAttributesClass = Class.forName(\"java.nio.file.attribute.BasicFileAttributes\");\nClass&lt;?&gt; unixFileAttributesClass = Class.forName(\"sun.nio.fs.UnixFileAttributes\");\n\nMethod toUnixFileAttributesMethod = unixFileAttributesClass.getDeclaredMethod(\"toUnixFileAttributes\", basicFileAttributesClass);\ntoUnixFileAttributesMethod.setAccessible(true);\n\nMethod cTimeMethod = unixFileAttributesClass.getDeclaredMethod(\"ctime\");\ncTimeMethod.setAccessible(true);\n\nObject unixFileAttributes = toUnixFileAttributesMethod.invoke(unixFileAttributesClass, attributes);\n((FileTime)cTimeMethod.invoke(unixFileAttributes)).toMillis();\n</code></pre>\n\n<p>I'm still hoping to have missed some NIO utility method which does the job.</p>\n"},{"tags":["java","jbcrypt"],"comments":[{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1668439189,"post_id":74433793,"comment_id":131398920,"body_markdown":"Can&#39;t confirm, except if I explicitly copy your output values. If I just execute the first block and put the result into the second one and run it, it prints `true` (as expected). I suspect you made a copy/paste mistake somewhere. Can you [edit] your question to provide an actual [mre] with real data? Using `$2a$10$IIAj7Ft6yGWk6I7bmYUzy.` as the salt for a password of `1234` produces `$2a$10$IIAj7Ft6yGWk6I7bmYUzy.52NB7huyI3wwszRP.OxsqfVXBsQs3tS` for me and not the one you show in your code.","body":"Can&#39;t confirm, except if I explicitly copy your output values. If I just execute the first block and put the result into the second one and run it, it prints <code>true</code> (as expected). I suspect you made a copy/paste mistake somewhere. Can you <a href=\"https://stackoverflow.com/posts/74433793/edit\">edit</a> your question to provide an actual <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> with real data? Using <code>$2a$10$IIAj7Ft6yGWk6I7bmYUzy.</code> as the salt for a password of <code>1234</code> produces <code>$2a$10$IIAj7Ft6yGWk6I7bmYUzy.52NB7huyI3wwszRP.OxsqfVXBsQs3tS</code> for me and not the one you show in your code."},{"owner":{"account_id":4644417,"reputation":162,"user_id":3763235,"display_name":"Matt"},"score":0,"creation_date":1668961961,"post_id":74433793,"comment_id":131527994,"body_markdown":"@JoachimSauer This was an important hint. I had set up a User object that took a password as a parametre. And in the constructor I would encrypt that password before inserting it, or checking it against the already inserted password, in the database. But I had apparently already encrypted the password in my `create` method before passing it into the User constructor — essentially the password had been encrypted twice when inserted into the database (which was not the intention), and I was only checking for the intended one encryption when verifying it. Thank you for the hint! Case closed. :-)","body":"@JoachimSauer This was an important hint. I had set up a User object that took a password as a parametre. And in the constructor I would encrypt that password before inserting it, or checking it against the already inserted password, in the database. But I had apparently already encrypted the password in my <code>create</code> method before passing it into the User constructor — essentially the password had been encrypted twice when inserted into the database (which was not the intention), and I was only checking for the intended one encryption when verifying it. Thank you for the hint! Case closed. :-)"}],"owner":{"account_id":4644417,"reputation":162,"user_id":3763235,"display_name":"Matt"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":221,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668438463,"creation_date":1668438463,"question_id":74433793,"body_markdown":"I have a user row in my user table that has a password (don&#39;t worry, it&#39;s a dummy password) that was encrypted using `BCrypt.hashpw`:\r\n\r\n```java\r\nSystem.out.println(BCrypt.hashpw(&quot;1234&quot;, BCrypt.gensalt()));\r\n// $2a$10$IIAj7Ft6yGWk6I7bmYUzy.1UrtHVbX.N5z1CdfhG3GGpIib06oDv.\r\n```\r\n\r\nI then want to verify that password using `BCrypt.checkpw`:\r\n```java\r\nSystem.out.println(BCrypt.checkpw(&quot;1234&quot;, &quot;$2a$10$IIAj7Ft6yGWk6I7bmYUzy.1UrtHVbX.N5z1CdfhG3GGpIib06oDv.&quot;));\r\n// false\r\n```\r\n\r\nWhy does it return false?","title":"BCrypt.checkpw returning false","body":"<p>I have a user row in my user table that has a password (don't worry, it's a dummy password) that was encrypted using <code>BCrypt.hashpw</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(BCrypt.hashpw(&quot;1234&quot;, BCrypt.gensalt()));\n// $2a$10$IIAj7Ft6yGWk6I7bmYUzy.1UrtHVbX.N5z1CdfhG3GGpIib06oDv.\n</code></pre>\n<p>I then want to verify that password using <code>BCrypt.checkpw</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(BCrypt.checkpw(&quot;1234&quot;, &quot;$2a$10$IIAj7Ft6yGWk6I7bmYUzy.1UrtHVbX.N5z1CdfhG3GGpIib06oDv.&quot;));\n// false\n</code></pre>\n<p>Why does it return false?</p>\n"},{"tags":["java","spring-boot","swagger","swagger-ui","springfox"],"answers":[{"comments":[{"owner":{"account_id":6086197,"reputation":49,"user_id":4750159,"accept_rate":60,"display_name":"Jeremy Brooks"},"score":0,"creation_date":1589930235,"post_id":61901716,"comment_id":109487728,"body_markdown":"Thank you for your response. I am. After making those edits I get the same error, unfortunately.","body":"Thank you for your response. I am. After making those edits I get the same error, unfortunately."}],"tags":[],"owner":{"account_id":2439722,"reputation":107,"user_id":2128600,"display_name":"Abhinav Prakash"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589926726,"creation_date":1589926726,"answer_id":61901716,"question_id":61901402,"body_markdown":"I assume that you are using OAuth2 here.\r\n\r\ncan you just try \r\n\r\n  \r\n\r\n    private ApiKey apiKey() {\r\n            return new ApiKey(&quot;JWT&quot;, &quot;Authorization&quot;, &quot;header&quot;);\r\n        }\r\n\r\nand remove \r\n\r\n    .securityContexts(Collections.singletonList(securityContext()))\r\n\r\nYou will get something like this in your swagger\r\n\r\n[![The Authorization Option in Swagger][1]][1]\r\n\r\n\r\n[![The Authorization option in Swagger][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LyGEX.png\r\n  [2]: https://i.stack.imgur.com/DWo7l.png","title":"Application fails to start after trying to add swagger configuration to send authorization header with requests","body":"<p>I assume that you are using OAuth2 here.</p>\n\n<p>can you just try </p>\n\n<pre><code>private ApiKey apiKey() {\n        return new ApiKey(\"JWT\", \"Authorization\", \"header\");\n    }\n</code></pre>\n\n<p>and remove </p>\n\n<pre><code>.securityContexts(Collections.singletonList(securityContext()))\n</code></pre>\n\n<p>You will get something like this in your swagger</p>\n\n<p><a href=\"https://i.stack.imgur.com/LyGEX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LyGEX.png\" alt=\"The Authorization Option in Swagger\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/DWo7l.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DWo7l.png\" alt=\"The Authorization option in Swagger\"></a></p>\n"},{"comments":[{"owner":{"account_id":6086197,"reputation":49,"user_id":4750159,"accept_rate":60,"display_name":"Jeremy Brooks"},"score":0,"creation_date":1589940910,"post_id":61902728,"comment_id":109490206,"body_markdown":"After trying this I am getting the same error. I am starting to think that maybe my error is coming from somewhere else.","body":"After trying this I am getting the same error. I am starting to think that maybe my error is coming from somewhere else."},{"owner":{"account_id":12009973,"reputation":180,"user_id":8787026,"display_name":"Omar Ajmi"},"score":0,"creation_date":1589943298,"post_id":61902728,"comment_id":109490698,"body_markdown":"What version of springfox are you using","body":"What version of springfox are you using"},{"owner":{"account_id":6086197,"reputation":49,"user_id":4750159,"accept_rate":60,"display_name":"Jeremy Brooks"},"score":0,"creation_date":1589943336,"post_id":61902728,"comment_id":109490708,"body_markdown":"I am using 2.9.2","body":"I am using 2.9.2"},{"owner":{"account_id":12009973,"reputation":180,"user_id":8787026,"display_name":"Omar Ajmi"},"score":1,"creation_date":1589943492,"post_id":61902728,"comment_id":109490730,"body_markdown":"Could you share your pom please","body":"Could you share your pom please"}],"tags":[],"owner":{"account_id":12009973,"reputation":180,"user_id":8787026,"display_name":"Omar Ajmi"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589932286,"creation_date":1589932286,"answer_id":61902728,"question_id":61901402,"body_markdown":"this works for me, but you have to put the token with the `Bearer &lt;token&gt;` prefix, couldn&#39;t make it work without the prefix.\r\n\r\n    @Configuration\r\n    @EnableSwagger2\r\n    public class ApiDocsConfig {\r\n    \r\n        @Value(&quot;${spring.application.name:N/A}&quot;)\r\n        private String applicationName;\r\n    \r\n        @Value(&quot;${wind.version:N/A}&quot;)\r\n        private String version;\r\n    \r\n        @Value(&quot;${wind.description:N/A}&quot;)\r\n        private String description;\r\n    \r\n        @Value(&quot;${wind.developer:N/A}&quot;)\r\n        private String developer;\r\n    \r\n        @Bean\r\n        public Docket apiDocket() {\r\n            HashSet&lt;String&gt; contentType = new HashSet&lt;&gt;();\r\n            contentType.add(&quot;application/json&quot;);\r\n            return new Docket(DocumentationType.SWAGGER_2)\r\n                    .produces(contentType) //Or whatever default value(s)\r\n                    .consumes(contentType)\r\n                    .select()\r\n                    .apis(RequestHandlerSelectors.basePackage(&quot;com.example&quot;))\r\n                    .paths(PathSelectors.any())\r\n                    .build()\r\n                    .apiInfo(metadata())\r\n                    .securitySchemes(Collections.singletonList(new ApiKey(&quot;JWT&quot;, &quot;Authorization&quot;, &quot;header&quot;)))\r\n                    .securityContexts(\r\n                            Collections.singletonList(\r\n                                    SecurityContext.builder().securityReferences(\r\n                                            Collections.singletonList(SecurityReference.builder().reference(&quot;JWT&quot;).scopes(new AuthorizationScope[0]).build())\r\n                                    ).build()\r\n                            )\r\n                    );\r\n        }\r\n    \r\n        private ApiInfo metadata() {\r\n            return new ApiInfoBuilder()\r\n                    .title(this.applicationName)\r\n                    .description(this.description)\r\n                    .version(this.version)\r\n                    .contact(new Contact(null, null, this.developer))\r\n                    .build();\r\n        }\r\n    }","title":"Application fails to start after trying to add swagger configuration to send authorization header with requests","body":"<p>this works for me, but you have to put the token with the <code>Bearer &lt;token&gt;</code> prefix, couldn't make it work without the prefix.</p>\n\n<pre><code>@Configuration\n@EnableSwagger2\npublic class ApiDocsConfig {\n\n    @Value(\"${spring.application.name:N/A}\")\n    private String applicationName;\n\n    @Value(\"${wind.version:N/A}\")\n    private String version;\n\n    @Value(\"${wind.description:N/A}\")\n    private String description;\n\n    @Value(\"${wind.developer:N/A}\")\n    private String developer;\n\n    @Bean\n    public Docket apiDocket() {\n        HashSet&lt;String&gt; contentType = new HashSet&lt;&gt;();\n        contentType.add(\"application/json\");\n        return new Docket(DocumentationType.SWAGGER_2)\n                .produces(contentType) //Or whatever default value(s)\n                .consumes(contentType)\n                .select()\n                .apis(RequestHandlerSelectors.basePackage(\"com.example\"))\n                .paths(PathSelectors.any())\n                .build()\n                .apiInfo(metadata())\n                .securitySchemes(Collections.singletonList(new ApiKey(\"JWT\", \"Authorization\", \"header\")))\n                .securityContexts(\n                        Collections.singletonList(\n                                SecurityContext.builder().securityReferences(\n                                        Collections.singletonList(SecurityReference.builder().reference(\"JWT\").scopes(new AuthorizationScope[0]).build())\n                                ).build()\n                        )\n                );\n    }\n\n    private ApiInfo metadata() {\n        return new ApiInfoBuilder()\n                .title(this.applicationName)\n                .description(this.description)\n                .version(this.version)\n                .contact(new Contact(null, null, this.developer))\n                .build();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16519007,"reputation":51,"user_id":11935679,"display_name":"Evgenii Mukhamadiarov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1609928596,"creation_date":1609928596,"answer_id":65593995,"question_id":61901402,"body_markdown":"I had the same issue as you.\r\nI find out that problem comes due the pom.xml config. \r\n\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n            &lt;version&gt;2.9.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\nProblem occurs when you try to mix versions 3.0.0 and 2.9.2, so In my case I simply change 3.0.0 to 2.9.2 and my problem solved.","title":"Application fails to start after trying to add swagger configuration to send authorization header with requests","body":"<p>I had the same issue as you.\nI find out that problem comes due the pom.xml config.</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n            &lt;version&gt;2.9.2&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Problem occurs when you try to mix versions 3.0.0 and 2.9.2, so In my case I simply change 3.0.0 to 2.9.2 and my problem solved.</p>\n"},{"tags":[],"owner":{"account_id":22585429,"reputation":286,"user_id":16769477,"display_name":"Jay Yadav"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668438406,"creation_date":1668437959,"answer_id":74433644,"question_id":61901402,"body_markdown":"Faced similar issue, changing the dependency version worked for me\r\nGradle dependency :\r\n```\r\nimplementation &quot;io.springfox:springfox-boot-starter:3.0.0&quot;\r\n```\r\nSpringBoot Version I am using : 2.1.13.&lt;br&gt;\r\nAlso you customize other properties by creating the config class as\r\n```\r\n@Configuration \r\n@EnableSwagger2\r\npublic class SpringFoxConfig {\r\n    @Bean\r\n    public Docket apiDocket() {\r\n        return new Docket(DocumentationType.SWAGGER_2)\r\n                .select()\r\n                .apis(RequestHandlerSelectors.any())\r\n                .paths(PathSelectors.any())\r\n                .build();\r\n    }\r\n```\r\nYou can access your swagger endpoints at\r\n```\r\nhttp://host-name/servlet-context/v2/api-docs\r\nhttp://host-name/servlet-context/swagger-ui/index.html\r\n```","title":"Application fails to start after trying to add swagger configuration to send authorization header with requests","body":"<p>Faced similar issue, changing the dependency version worked for me\nGradle dependency :</p>\n<pre><code>implementation &quot;io.springfox:springfox-boot-starter:3.0.0&quot;\n</code></pre>\n<p>SpringBoot Version I am using : 2.1.13.<br>\nAlso you customize other properties by creating the config class as</p>\n<pre><code>@Configuration \n@EnableSwagger2\npublic class SpringFoxConfig {\n    @Bean\n    public Docket apiDocket() {\n        return new Docket(DocumentationType.SWAGGER_2)\n                .select()\n                .apis(RequestHandlerSelectors.any())\n                .paths(PathSelectors.any())\n                .build();\n    }\n</code></pre>\n<p>You can access your swagger endpoints at</p>\n<pre><code>http://host-name/servlet-context/v2/api-docs\nhttp://host-name/servlet-context/swagger-ui/index.html\n</code></pre>\n"}],"owner":{"account_id":6086197,"reputation":49,"user_id":4750159,"accept_rate":60,"display_name":"Jeremy Brooks"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3211,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1668438406,"creation_date":1589925240,"question_id":61901402,"body_markdown":"I am getting an error when trying to run my API locally after trying to add a swagger config class that would allow me to send a Bearer Token with my swagger requests. I have tried everything I can find that seems relevant on google and have had no luck. I am fairly new to swagger so any pointers are greatly appreciated. This is what my config class looks like:\r\n```import org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.context.annotation.Import;\r\nimport springfox.documentation.builders.PathSelectors;\r\nimport springfox.documentation.service.ApiKey;\r\nimport springfox.documentation.service.AuthorizationScope;\r\nimport springfox.documentation.service.SecurityReference;\r\nimport springfox.documentation.spi.DocumentationType;\r\nimport springfox.documentation.spi.service.contexts.SecurityContext;\r\nimport springfox.documentation.spring.web.plugins.Docket;\r\nimport springfox.documentation.swagger2.annotations.EnableSwagger2;\r\n\r\nimport javax.servlet.ServletContext;\r\nimport java.util.Arrays;\r\nimport java.util.Collections;\r\nimport java.util.List;\r\n\r\n@Configuration\r\n@EnableSwagger2\r\n@Import(springfox.bean.validators.configuration.BeanValidatorPluginsConfiguration.class)\r\npublic class SwaggerConfig {\r\n\r\n    @Bean\r\n    public Docket api(ServletContext servletContext) {\r\n        return new Docket(DocumentationType.SWAGGER_2)\r\n               .securitySchemes(Arrays.asList(apiKey()))\r\n                .securityContexts(Collections.singletonList(securityContext()));\r\n    }\r\n\r\n    private SecurityContext securityContext() {\r\n        return SecurityContext.builder().securityReferences(defaultAuth()).forPaths(PathSelectors.regex(&quot;/.*&quot;)).build();\r\n    }\r\n\r\n    private List&lt;SecurityReference&gt; defaultAuth() {\r\n        final AuthorizationScope authorizationScope = new AuthorizationScope(&quot;global&quot;, &quot;accessEverything&quot;);\r\n        final AuthorizationScope[] authorizationScopes = new AuthorizationScope[]{authorizationScope};\r\n        return Collections.singletonList(new SecurityReference(&quot;Bearer&quot;, authorizationScopes));\r\n    }\r\n\r\n    private ApiKey apiKey() {\r\n        return new ApiKey(&quot;Bearer&quot;, &quot;Authorization&quot;, &quot;header&quot;);\r\n    }\r\n}\r\n```\r\nThe error I am getting is as follows: \r\n```\r\n2020-05-19 17:37:38,437 | WARN  | org.springframework.context.support.AbstractApplicationContext:558 - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;apiModelPropertyPropertyBuilder&#39; defined in URL [jar:file:/C:/Users/jbrooks58/.m2/repository/io/springfox/springfox-swagger-common/2.9.2/springfox-swagger-common-2.9.2.jar!/springfox/documentation/swagger/schema/ApiModelPropertyPropertyBuilder.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;springfox.documentation.spring.web.DescriptionResolver&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\r\n\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nParameter 0 of constructor in springfox.documentation.swagger.schema.ApiModelPropertyPropertyBuilder required a bean of type &#39;springfox.documentation.spring.web.DescriptionResolver&#39; that could not be found.\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;springfox.documentation.spring.web.DescriptionResolver&#39; in your configuration.\r\n```\r\nThanks for any help you guys can provide!","title":"Application fails to start after trying to add swagger configuration to send authorization header with requests","body":"<p>I am getting an error when trying to run my API locally after trying to add a swagger config class that would allow me to send a Bearer Token with my swagger requests. I have tried everything I can find that seems relevant on google and have had no luck. I am fairly new to swagger so any pointers are greatly appreciated. This is what my config class looks like:</p>\n\n<pre><code>import org.springframework.context.annotation.Configuration;\nimport org.springframework.context.annotation.Import;\nimport springfox.documentation.builders.PathSelectors;\nimport springfox.documentation.service.ApiKey;\nimport springfox.documentation.service.AuthorizationScope;\nimport springfox.documentation.service.SecurityReference;\nimport springfox.documentation.spi.DocumentationType;\nimport springfox.documentation.spi.service.contexts.SecurityContext;\nimport springfox.documentation.spring.web.plugins.Docket;\nimport springfox.documentation.swagger2.annotations.EnableSwagger2;\n\nimport javax.servlet.ServletContext;\nimport java.util.Arrays;\nimport java.util.Collections;\nimport java.util.List;\n\n@Configuration\n@EnableSwagger2\n@Import(springfox.bean.validators.configuration.BeanValidatorPluginsConfiguration.class)\npublic class SwaggerConfig {\n\n    @Bean\n    public Docket api(ServletContext servletContext) {\n        return new Docket(DocumentationType.SWAGGER_2)\n               .securitySchemes(Arrays.asList(apiKey()))\n                .securityContexts(Collections.singletonList(securityContext()));\n    }\n\n    private SecurityContext securityContext() {\n        return SecurityContext.builder().securityReferences(defaultAuth()).forPaths(PathSelectors.regex(\"/.*\")).build();\n    }\n\n    private List&lt;SecurityReference&gt; defaultAuth() {\n        final AuthorizationScope authorizationScope = new AuthorizationScope(\"global\", \"accessEverything\");\n        final AuthorizationScope[] authorizationScopes = new AuthorizationScope[]{authorizationScope};\n        return Collections.singletonList(new SecurityReference(\"Bearer\", authorizationScopes));\n    }\n\n    private ApiKey apiKey() {\n        return new ApiKey(\"Bearer\", \"Authorization\", \"header\");\n    }\n}\n</code></pre>\n\n<p>The error I am getting is as follows: </p>\n\n<pre><code>2020-05-19 17:37:38,437 | WARN  | org.springframework.context.support.AbstractApplicationContext:558 - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'apiModelPropertyPropertyBuilder' defined in URL [jar:file:/C:/Users/jbrooks58/.m2/repository/io/springfox/springfox-swagger-common/2.9.2/springfox-swagger-common-2.9.2.jar!/springfox/documentation/swagger/schema/ApiModelPropertyPropertyBuilder.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'springfox.documentation.spring.web.DescriptionResolver' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\n\n***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nParameter 0 of constructor in springfox.documentation.swagger.schema.ApiModelPropertyPropertyBuilder required a bean of type 'springfox.documentation.spring.web.DescriptionResolver' that could not be found.\n\n\nAction:\n\nConsider defining a bean of type 'springfox.documentation.spring.web.DescriptionResolver' in your configuration.\n</code></pre>\n\n<p>Thanks for any help you guys can provide!</p>\n"},{"tags":["java","amazon-rds","cqrs","hikaricp","ebean"],"comments":[{"owner":{"account_id":408579,"reputation":9113,"user_id":779340,"accept_rate":69,"display_name":"rascio"},"score":0,"creation_date":1668900703,"post_id":74433690,"comment_id":131519569,"body_markdown":"Did you tried to force `autocommit=false`?\nI also saw that ebean has some sort of readonly option, did you already tried it? https://ebean.io/docs/query/option#readOnly","body":"Did you tried to force <code>autocommit=false</code>? I also saw that ebean has some sort of readonly option, did you already tried it? <a href=\"https://ebean.io/docs/query/option#readOnly\" rel=\"nofollow noreferrer\">ebean.io/docs/query/option#readOnly</a>"},{"owner":{"account_id":4774,"reputation":26513,"user_id":7345,"accept_rate":81,"display_name":"mindas"},"score":0,"creation_date":1669021282,"post_id":74433690,"comment_id":131539325,"body_markdown":"@rascio yes, we are using Ebean&#39;s readonly mode. Which is still sending COMMITs (or perhaps HikariCP is doing that).","body":"@rascio yes, we are using Ebean&#39;s readonly mode. Which is still sending COMMITs (or perhaps HikariCP is doing that)."},{"owner":{"account_id":408579,"reputation":9113,"user_id":779340,"accept_rate":69,"display_name":"rascio"},"score":0,"creation_date":1669028293,"post_id":74433690,"comment_id":131541692,"body_markdown":"what about forcing the autocommit to false? Another question, to check if it is Hikari or EBean doing the commit, is the commit sent after each select, or just after a batch of queries grouped in some of your methods?","body":"what about forcing the autocommit to false? Another question, to check if it is Hikari or EBean doing the commit, is the commit sent after each select, or just after a batch of queries grouped in some of your methods?"}],"owner":{"account_id":4774,"reputation":26513,"user_id":7345,"accept_rate":81,"display_name":"mindas"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":264,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668438090,"creation_date":1668438090,"question_id":74433690,"body_markdown":"My current setup:\r\n- Java backend\r\n- Ebean\r\n- HikariCP\r\n- RDS Aurora MySQL v5.7 having writer and reader nodes\r\n\r\nWe use reader RDS node for business operations which only require read access to the database. This works just fine (no db locks, better performance, yay!).\r\nHowever looking into AWS Performance insights I can see that a lot of time is spent on `COMMIT` operation. In fact, it&#39;s the most expensive operation on read instance **by far**.\r\n\r\nNot only it takes time to process but requires extra client-server roundtrip. My na&#239;ve self suggests this could be entirely avoided but I could not find any HikariCP settings on this matter. Surely there&#39;s nothing to commit for read-only database access, no?\r\n\r\nAbove said, I do know that databases are allowed to create temporary tables even for read only replicas but to me it seems that they should be equally smart enough to destroy them once the transaction is over and connection is returned to the pool.\r\n\r\nFWIW, we never use `autocommit=true` for write access due to the nature of our app. I&#39;d prefer not using it for read only access as well.\r\n\r\nHas anybody managed to get COMMIT-less setup working, or perhaps this is a bad idea?\r\n","title":"Using connection pool for read only DB instance which skips COMMIT","body":"<p>My current setup:</p>\n<ul>\n<li>Java backend</li>\n<li>Ebean</li>\n<li>HikariCP</li>\n<li>RDS Aurora MySQL v5.7 having writer and reader nodes</li>\n</ul>\n<p>We use reader RDS node for business operations which only require read access to the database. This works just fine (no db locks, better performance, yay!).\nHowever looking into AWS Performance insights I can see that a lot of time is spent on <code>COMMIT</code> operation. In fact, it's the most expensive operation on read instance <strong>by far</strong>.</p>\n<p>Not only it takes time to process but requires extra client-server roundtrip. My naïve self suggests this could be entirely avoided but I could not find any HikariCP settings on this matter. Surely there's nothing to commit for read-only database access, no?</p>\n<p>Above said, I do know that databases are allowed to create temporary tables even for read only replicas but to me it seems that they should be equally smart enough to destroy them once the transaction is over and connection is returned to the pool.</p>\n<p>FWIW, we never use <code>autocommit=true</code> for write access due to the nature of our app. I'd prefer not using it for read only access as well.</p>\n<p>Has anybody managed to get COMMIT-less setup working, or perhaps this is a bad idea?</p>\n"},{"tags":["java","spring","spring-boot","spring-integration"],"comments":[{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1668433715,"post_id":74430507,"comment_id":131396802,"body_markdown":"May we see a stack trace on the matter? Just to be sure what code is involved.","body":"May we see a stack trace on the matter? Just to be sure what code is involved."},{"owner":{"account_id":26406001,"reputation":1,"user_id":20055777,"display_name":"Choff"},"score":0,"creation_date":1668438045,"post_id":74430507,"comment_id":131398457,"body_markdown":"I have updated it","body":"I have updated it"},{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1668439088,"post_id":74430507,"comment_id":131398885,"body_markdown":"See if this discussion helps you somehow: https://stackoverflow.com/questions/46013658/unknownhostexception-occures-when-connecting-sftp-using-java","body":"See if this discussion helps you somehow: <a href=\"https://stackoverflow.com/questions/46013658/unknownhostexception-occures-when-connecting-sftp-using-java\" title=\"unknownhostexception occures when connecting sftp using java\">stackoverflow.com/questions/46013658/&hellip;</a>"}],"owner":{"account_id":26406001,"reputation":1,"user_id":20055777,"display_name":"Choff"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668438035,"creation_date":1668423221,"question_id":74430507,"body_markdown":"How do I gracefully log the error message generated by my spring integration sftp inbound adapter ? I don’t see any advice object configuration for it. Plus is there a way to get rid of intermittent session unknown host exception. This happens every other week.\r\n\r\n```\r\nCaused by: org.springframework.integration.util.PoolItemNotAvailableException: Failed to obtain pooled item\r\n\tat org.springframework.integration.util.SimplePool.getItem(SimplePool.java:190)\r\n\tat org.springframework.integration.file.remote.session.CachingSessionFactory.getSession(CachingSessionFactory.java:134)\r\n\tat org.springframework.integration.file.remote.RemoteFileTemplate.execute(RemoteFileTemplate.java:447)\r\n\t... 38 more\r\nCaused by: java.lang.IllegalStateException: failed to create SFTP Session\r\n\tat org.springframework.integration.sftp.session.DefaultSftpSessionFactory.getSession(DefaultSftpSessionFactory.java:404)\r\n\tat org.springframework.integration.sftp.session.DefaultSftpSessionFactory.getSession(DefaultSftpSessionFactory.java:61)\r\n\tat org.springframework.integration.file.remote.session.CachingSessionFactory$1.createForPool(CachingSessionFactory.java:85)\r\n\tat org.springframework.integration.file.remote.session.CachingSessionFactory$1.createForPool(CachingSessionFactory.java:82)\r\n\tat org.springframework.integration.util.SimplePool.doGetItem(SimplePool.java:200)\r\n\tat org.springframework.integration.util.SimplePool.doGetItem(SimplePool.java:211)\r\n\tat org.springframework.integration.util.SimplePool.getItem(SimplePool.java:181)\r\n\t... 40 more\r\nCaused by: java.lang.IllegalStateException: failed to connect\r\n\tat org.springframework.integration.sftp.session.SftpSession.connect(SftpSession.java:303)\r\n\tat org.springframework.integration.sftp.session.DefaultSftpSessionFactory.getSession(DefaultSftpSessionFactory.java:398)\r\n\t... 46 more\r\nCaused by: com.jcraft.jsch.JSchException: java.net.UnknownHostException: XXXXXXXXXXXX.com\r\n\tat com.jcraft.jsch.Util.createSocket(Util.java:349)\r\n\tat com.jcraft.jsch.Session.connect(Session.java:215)\r\n\tat com.jcraft.jsch.Session.connect(Session.java:183)\r\n\tat org.springframework.integration.sftp.session.SftpSession.connect(SftpSession.java:294)\r\n\t... 47 more\r\nCaused by: java.net.UnknownHostException: XXXXXXXXXXX.com\r\n\tat java.base/java.net.AbstractPlainSocketImpl.connect(Unknown Source)\r\n\tat java.base/java.net.SocksSocketImpl.connect(Unknown Source)\r\n\tat java.base/java.net.Socket.connect(Unknown Source)\r\n\tat java.base/java.net.Socket.connect(Unknown Source)\r\n\tat java.base/java.net.Socket.&lt;init&gt;(Unknown Source)\r\n\tat java.base/java.net.Socket.&lt;init&gt;(Unknown Source)\r\n\tat com.jcraft.jsch.Util.createSocket(Util.java:343)\r\n\t... 50 more\r\n\r\n```","title":"Spring integration Sftp inbound adapter getting unknown host exception intermittently","body":"<p>How do I gracefully log the error message generated by my spring integration sftp inbound adapter ? I don’t see any advice object configuration for it. Plus is there a way to get rid of intermittent session unknown host exception. This happens every other week.</p>\n<pre><code>Caused by: org.springframework.integration.util.PoolItemNotAvailableException: Failed to obtain pooled item\n    at org.springframework.integration.util.SimplePool.getItem(SimplePool.java:190)\n    at org.springframework.integration.file.remote.session.CachingSessionFactory.getSession(CachingSessionFactory.java:134)\n    at org.springframework.integration.file.remote.RemoteFileTemplate.execute(RemoteFileTemplate.java:447)\n    ... 38 more\nCaused by: java.lang.IllegalStateException: failed to create SFTP Session\n    at org.springframework.integration.sftp.session.DefaultSftpSessionFactory.getSession(DefaultSftpSessionFactory.java:404)\n    at org.springframework.integration.sftp.session.DefaultSftpSessionFactory.getSession(DefaultSftpSessionFactory.java:61)\n    at org.springframework.integration.file.remote.session.CachingSessionFactory$1.createForPool(CachingSessionFactory.java:85)\n    at org.springframework.integration.file.remote.session.CachingSessionFactory$1.createForPool(CachingSessionFactory.java:82)\n    at org.springframework.integration.util.SimplePool.doGetItem(SimplePool.java:200)\n    at org.springframework.integration.util.SimplePool.doGetItem(SimplePool.java:211)\n    at org.springframework.integration.util.SimplePool.getItem(SimplePool.java:181)\n    ... 40 more\nCaused by: java.lang.IllegalStateException: failed to connect\n    at org.springframework.integration.sftp.session.SftpSession.connect(SftpSession.java:303)\n    at org.springframework.integration.sftp.session.DefaultSftpSessionFactory.getSession(DefaultSftpSessionFactory.java:398)\n    ... 46 more\nCaused by: com.jcraft.jsch.JSchException: java.net.UnknownHostException: XXXXXXXXXXXX.com\n    at com.jcraft.jsch.Util.createSocket(Util.java:349)\n    at com.jcraft.jsch.Session.connect(Session.java:215)\n    at com.jcraft.jsch.Session.connect(Session.java:183)\n    at org.springframework.integration.sftp.session.SftpSession.connect(SftpSession.java:294)\n    ... 47 more\nCaused by: java.net.UnknownHostException: XXXXXXXXXXX.com\n    at java.base/java.net.AbstractPlainSocketImpl.connect(Unknown Source)\n    at java.base/java.net.SocksSocketImpl.connect(Unknown Source)\n    at java.base/java.net.Socket.connect(Unknown Source)\n    at java.base/java.net.Socket.connect(Unknown Source)\n    at java.base/java.net.Socket.&lt;init&gt;(Unknown Source)\n    at java.base/java.net.Socket.&lt;init&gt;(Unknown Source)\n    at com.jcraft.jsch.Util.createSocket(Util.java:343)\n    ... 50 more\n\n</code></pre>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1668422199,"post_id":74429227,"comment_id":131393030,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1668424180,"post_id":74429227,"comment_id":131393672,"body_markdown":"I&#39;m having a hard time understanding what the problem is.\nWhat exactly in this code doesn&#39;t work the way you expect?\nTell us what is wrong with shared code. Do you have any errors?","body":"I&#39;m having a hard time understanding what the problem is. What exactly in this code doesn&#39;t work the way you expect? Tell us what is wrong with shared code. Do you have any errors?"}],"answers":[{"tags":[],"owner":{"account_id":20749877,"reputation":11,"user_id":16564674,"display_name":"BadDa3mon"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668423717,"creation_date":1668420841,"answer_id":74429994,"question_id":74429227,"body_markdown":"Request permission **android.permission.CALL_PHONE** before calling.\r\n--------------------------------------------------------------------\r\n\r\nAdd into **AndroidManifest.xml**:\r\n```&lt;uses-permission android:name=&quot;android.permission.CALL_PHONE&quot; /&gt;```\r\n\r\nRequest permission **before** calling:\r\n```\r\nboolean isPermissionGranted = (ContextCompat.checkSelfPermission(this, Manifest.permission.CALL_PHONE) == PackageManager.PERMISSION_GRANTED);\r\n\r\nif (isPermissionGranted) {\r\n    Intent intent = new Intent(Intent.ACTION_CALL);\r\n    intent.setData(Uri.parse(&quot;tel:&quot; + mNumber));\r\n    \r\n    startActivity(intent);\r\n} else {\r\n    Toast.makeText(this, &quot;Отсутствует разрешение на звонок с устройства&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n\tActivityCompat.requestPermissions(this, new String[]{ Manifest.permission.CALL_PHONE }, 0);\r\n}\r\n```\r\n\r\nAdd **request result**:\r\n```\r\n@Override\r\npublic void onRequestPermissionsResult(int requestCode, @NonNull @NotNull String[] permissions, @NonNull @NotNull int[] grantResults) {\r\n\tsuper.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n    if (requestCode == 0) {\r\n\t\tfor (int result : grantResults) {\r\n\t\t\tif (result != PackageManager.PERMISSION_GRANTED) {\r\n\t\t\t\t//RETURN, PERMISSION NOT GRANTED\r\n\r\n\t\t\t\tToast.makeText(this, &quot;Вы не выдали разрешение, приложение может работать неккоректно!&quot;, Toast.LENGTH_SHORT).show();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t//PERMISSIONS GRANTED\r\n\t\tToast.makeText(this, &quot;Спасибо за выданное разрешение!&quot;, Toast.LENGTH_SHORT).show();\r\n\t}\r\n}\r\n```","title":"call by phone number on button click (java)","body":"<h2>Request permission <strong>android.permission.CALL_PHONE</strong> before calling.</h2>\n<p>Add into <strong>AndroidManifest.xml</strong>:\n<code>&lt;uses-permission android:name=&quot;android.permission.CALL_PHONE&quot; /&gt;</code></p>\n<p>Request permission <strong>before</strong> calling:</p>\n<pre><code>boolean isPermissionGranted = (ContextCompat.checkSelfPermission(this, Manifest.permission.CALL_PHONE) == PackageManager.PERMISSION_GRANTED);\n\nif (isPermissionGranted) {\n    Intent intent = new Intent(Intent.ACTION_CALL);\n    intent.setData(Uri.parse(&quot;tel:&quot; + mNumber));\n    \n    startActivity(intent);\n} else {\n    Toast.makeText(this, &quot;Отсутствует разрешение на звонок с устройства&quot;, Toast.LENGTH_SHORT).show();\n\n    ActivityCompat.requestPermissions(this, new String[]{ Manifest.permission.CALL_PHONE }, 0);\n}\n</code></pre>\n<p>Add <strong>request result</strong>:</p>\n<pre><code>@Override\npublic void onRequestPermissionsResult(int requestCode, @NonNull @NotNull String[] permissions, @NonNull @NotNull int[] grantResults) {\n    super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n    if (requestCode == 0) {\n        for (int result : grantResults) {\n            if (result != PackageManager.PERMISSION_GRANTED) {\n                //RETURN, PERMISSION NOT GRANTED\n\n                Toast.makeText(this, &quot;Вы не выдали разрешение, приложение может работать неккоректно!&quot;, Toast.LENGTH_SHORT).show();\n                return;\n            }\n        }\n\n        //PERMISSIONS GRANTED\n        Toast.makeText(this, &quot;Спасибо за выданное разрешение!&quot;, Toast.LENGTH_SHORT).show();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24644993,"reputation":104,"user_id":18542740,"display_name":"Shyam Sunder"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668431056,"creation_date":1668431056,"answer_id":74432104,"question_id":74429227,"body_markdown":"If your are looking to call the selected number then just use the following code.\r\n\r\n    Intent intentCallForward = new Intent(Intent.ACTION_DIAL); // ACTION_CALL\r\n            Uri uri2 = Uri.fromParts(&quot;tel&quot;, &quot;79142214017, &quot;#&quot;);\r\n            intentCallForward.setData(uri2);\r\n            startActivityForResult(intentCallForward, 101);","title":"call by phone number on button click (java)","body":"<p>If your are looking to call the selected number then just use the following code.</p>\n<pre><code>Intent intentCallForward = new Intent(Intent.ACTION_DIAL); // ACTION_CALL\n        Uri uri2 = Uri.fromParts(&quot;tel&quot;, &quot;79142214017, &quot;#&quot;);\n        intentCallForward.setData(uri2);\n        startActivityForResult(intentCallForward, 101);\n</code></pre>\n"}],"owner":{"account_id":26884422,"reputation":11,"user_id":20467834,"display_name":"shestakovski.erchim"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1668438018,"creation_date":1668417051,"question_id":74429227,"body_markdown":"I have a call method on button click\r\n```\r\nbutton_call=(Button) findViewById(R.id.button_call);\r\n\r\nbutton_call.setOnClickListener(new View.OnClickListener() {\r\n    @Override\r\n    public void onClick(View view) {\r\n        Intent intent=new Intent(Intent.ACTION_DIAL);\r\n        intent.setData(Uri.parse(&quot;tel:+79142214017&quot;));\r\n        startActivity(intent);\r\n    }\r\n});\r\n```\r\nAnd the data transfer method in Firebase\r\n```\r\nprivate void validateClientInfo() {\r\n    if (TextUtils.isEmpty(client_edit.getText().toString())) {\r\n        Toast.makeText(this, &quot;Введите имя&quot;, Toast.LENGTH_SHORT).show();\r\n    }\r\n\r\n    if (TextUtils.isEmpty(client_number.getText().toString())){\r\n        Toast.makeText(this, &quot;Введите номер&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n    }\r\n    else {\r\n        HashMap&lt;String, Object&gt; userMap = new HashMap&lt;&gt;();\r\n        userMap.put(&quot;uid&quot;, mAuth.getCurrentUser().getUid());          \r\n                    userMap.put(&quot;numberphone_client&quot;,client_number.getText().toString());\r\n\r\n     clientRef.child(mAuth.getCurrentUser().getUid()).updateChildren(userMap);\r\n\r\n        startActivity(new Intent(ClientName.this,HomeActivity.class));\r\n    }\r\n}\r\n```\r\ntranscripts\r\n```\r\nclient_number=(EditText) findViewById(R.id.client_number);\r\nmAuth=FirebaseAuth.getInstance();\r\n```\r\n\r\n\r\n\r\nhow to make it so that when the call button is pressed, the number is received and called?\r\n\r\nI want that when the button _call button is pressed, the data transmitted by the transfer method is received and a call is made on them.","title":"call by phone number on button click (java)","body":"<p>I have a call method on button click</p>\n<pre><code>button_call=(Button) findViewById(R.id.button_call);\n\nbutton_call.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View view) {\n        Intent intent=new Intent(Intent.ACTION_DIAL);\n        intent.setData(Uri.parse(&quot;tel:+79142214017&quot;));\n        startActivity(intent);\n    }\n});\n</code></pre>\n<p>And the data transfer method in Firebase</p>\n<pre><code>private void validateClientInfo() {\n    if (TextUtils.isEmpty(client_edit.getText().toString())) {\n        Toast.makeText(this, &quot;Введите имя&quot;, Toast.LENGTH_SHORT).show();\n    }\n\n    if (TextUtils.isEmpty(client_number.getText().toString())){\n        Toast.makeText(this, &quot;Введите номер&quot;, Toast.LENGTH_SHORT).show();\n\n    }\n    else {\n        HashMap&lt;String, Object&gt; userMap = new HashMap&lt;&gt;();\n        userMap.put(&quot;uid&quot;, mAuth.getCurrentUser().getUid());          \n                    userMap.put(&quot;numberphone_client&quot;,client_number.getText().toString());\n\n     clientRef.child(mAuth.getCurrentUser().getUid()).updateChildren(userMap);\n\n        startActivity(new Intent(ClientName.this,HomeActivity.class));\n    }\n}\n</code></pre>\n<p>transcripts</p>\n<pre><code>client_number=(EditText) findViewById(R.id.client_number);\nmAuth=FirebaseAuth.getInstance();\n</code></pre>\n<p>how to make it so that when the call button is pressed, the number is received and called?</p>\n<p>I want that when the button _call button is pressed, the data transmitted by the transfer method is received and a call is made on them.</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1668425046,"post_id":74429335,"comment_id":131393936,"body_markdown":"What is the exact node in this structure that you want to delete?","body":"What is the exact node in this structure that you want to delete?"}],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668437934,"creation_date":1668437934,"answer_id":74433638,"question_id":74429335,"body_markdown":"To [delete a node](https://firebase.google.com/docs/database/android/read-and-write#delete_data) from the database you call `removeValue()` on a `DatabaseReference` to that node.\r\n\r\nSo you can create the entire `Chats` node with:\r\n\r\n```\r\nDatabaseReference root = FirebaseDatabase.getInstance().getReference();\r\nroot.child(&quot;Chats&quot;).removeValue();\r\n```\r\n\r\nTo delete a lower-level node, you can specify the entire path to that node:\r\n```\r\nroot.child(&quot;Chats/hI151.../messages&quot;).removeValue();\r\n```\r\n\r\nYou will need to know/specify the entire `hI151...` value in this code.","title":"How to delete the any particular chats from the chat application android firebase","body":"<p>To <a href=\"https://firebase.google.com/docs/database/android/read-and-write#delete_data\" rel=\"nofollow noreferrer\">delete a node</a> from the database you call <code>removeValue()</code> on a <code>DatabaseReference</code> to that node.</p>\n<p>So you can create the entire <code>Chats</code> node with:</p>\n<pre><code>DatabaseReference root = FirebaseDatabase.getInstance().getReference();\nroot.child(&quot;Chats&quot;).removeValue();\n</code></pre>\n<p>To delete a lower-level node, you can specify the entire path to that node:</p>\n<pre><code>root.child(&quot;Chats/hI151.../messages&quot;).removeValue();\n</code></pre>\n<p>You will need to know/specify the entire <code>hI151...</code> value in this code.</p>\n"}],"owner":{"account_id":26351131,"reputation":79,"user_id":20397293,"display_name":"Puru Chaudhary"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74433638,"answer_count":1,"score":1,"last_activity_date":1668437934,"creation_date":1668417550,"question_id":74429335,"body_markdown":"I am working on an application where i have implemented the chats in my application. So i want to know that how can i delete a whole chat like suppose I have sent a message to someone or someone sent a message to me so how can i delete that particular chat \r\n\r\nthis is the image \r\n\r\n[enter image description here][1]\r\n\r\n\r\nin the image above are tha chats with whom i have interacted. so if i want to delete any chat out of these how can i do that??\r\n\r\nthis is the my firebase data\r\n\r\n![enter image description here][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TsOFR.jpg\r\n  [2]: https://i.stack.imgur.com/NijtU.png","title":"How to delete the any particular chats from the chat application android firebase","body":"<p>I am working on an application where i have implemented the chats in my application. So i want to know that how can i delete a whole chat like suppose I have sent a message to someone or someone sent a message to me so how can i delete that particular chat</p>\n<p>this is the image</p>\n<p><a href=\"https://i.stack.imgur.com/TsOFR.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>in the image above are tha chats with whom i have interacted. so if i want to delete any chat out of these how can i do that??</p>\n<p>this is the my firebase data</p>\n<p><img src=\"https://i.stack.imgur.com/NijtU.png\" alt=\"enter image description here\" /></p>\n"},{"tags":["java","hibernate"],"answers":[{"comments":[{"owner":{"account_id":11728998,"reputation":135,"user_id":8585211,"display_name":"Tho.Tra"},"score":1,"creation_date":1643126098,"post_id":68044816,"comment_id":125254082,"body_markdown":"This made my day, thanks! ;)","body":"This made my day, thanks! ;)"},{"owner":{"account_id":1149932,"reputation":3268,"user_id":1131855,"accept_rate":67,"display_name":"Maxim Eliseev"},"score":1,"creation_date":1665485959,"post_id":68044816,"comment_id":130706491,"body_markdown":"You&#39;ve made my day too!","body":"You&#39;ve made my day too!"},{"owner":{"account_id":2842958,"reputation":976,"user_id":2442149,"accept_rate":80,"display_name":"bpereira"},"score":1,"creation_date":1681399051,"post_id":68044816,"comment_id":134053257,"body_markdown":"You&#39;ve made my day too! +1","body":"You&#39;ve made my day too! +1"}],"tags":[],"owner":{"account_id":2795364,"reputation":7571,"user_id":2404683,"display_name":"Davide D&#39;Alto"},"comment_count":3,"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1668437911,"creation_date":1624089767,"answer_id":68044816,"question_id":68044517,"body_markdown":"You need to specify in the mapping that the column is not `nullable`:\r\n```java\r\n@JoinColumn(name = &quot;course_id&quot;, nullable = false)\r\n```","title":"Hibernate Unidirectional OneToMany Relationship with Not-null Constraint in Foreign Key","body":"<p>You need to specify in the mapping that the column is not <code>nullable</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JoinColumn(name = &quot;course_id&quot;, nullable = false)\n</code></pre>\n"}],"owner":{"account_id":17544601,"reputation":982,"user_id":12726150,"display_name":"fahmiduldul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2919,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":68044816,"answer_count":1,"score":9,"last_activity_date":1668437911,"creation_date":1624087007,"question_id":68044517,"body_markdown":"I have two tables like this\r\n\r\n[![tables schema][1]][1]\r\n\r\nat first, i try to set `course_id` foreign key in `review` table to have **not null constraint** for the sake of data integrity.\r\n\r\nSo i create annotated class like for these two table like below:\r\n```\r\n@Data\r\n@Entity\r\n@Table(name = &quot;course&quot;)\r\npublic class Course {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;course_id&quot;)\r\n    private int id;\r\n\r\n    @Column(name = &quot;name&quot;)\r\n    private String name;\r\n\r\n    @OneToMany(fetch = FetchType.LAZY,cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;course_id&quot;)\r\n    private List&lt;Review&gt; reviews;\r\n\r\n    public Course(){}\r\n\r\n    public Course(String name){\r\n        this.name = name;\r\n    }\r\n\r\n    public void addReview(Review review){\r\n        if(this.reviews == null){\r\n            this.reviews = new ArrayList&lt;&gt;();\r\n        }\r\n        this.reviews.add(review);\r\n    }\r\n}\r\n\r\n@Data\r\n@Entity\r\n@Table(name = &quot;review&quot;)\r\npublic class Review {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;review_id&quot;)\r\n    private int reviewId;\r\n\r\n    @Column(name = &quot;rating&quot;)\r\n    private int rating;\r\n\r\n    public Review(){}\r\n\r\n    public Review(int rating){\r\n        this.rating = rating;\r\n    }\r\n}\r\n```\r\nand i create simple app to add review to an exsiting course like code below:\r\n```\r\nsession.beginTransaction();\r\n\r\n// get instructor from db\r\nCourse course = session.get(Course.class, 3);\r\n\r\n// create review\r\nReview review1 = new Review(4);\r\n\r\ncourse.addReview(review1);\r\n\r\n// save to db\r\nsession.save(course);\r\n\r\nsession.getTransaction().commit();\r\n```\r\nbut this program will throw an error because it violates **not null constraint** i set in database before\r\n&gt;Caused by: org.postgresql.util.PSQLException: ERROR: null value in column &quot;course_id&quot; violates not-null constraint\r\n\r\nbut if remove the **not null constraint** this program works fine because hibernate will execute insert with null value first than update the value like below:\r\n```\r\nHibernate: insert into review (rating) values (?)\r\nHibernate: update review set course_id=? where review_id=?\r\n```\r\n\r\nis there a way for hibernate to insert directly with course_id value so i can keep the **not null constraint**?\r\n\r\nThanks!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ENEyq.png","title":"Hibernate Unidirectional OneToMany Relationship with Not-null Constraint in Foreign Key","body":"<p>I have two tables like this</p>\n<p><a href=\"https://i.stack.imgur.com/ENEyq.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ENEyq.png\" alt=\"tables schema\" /></a></p>\n<p>at first, i try to set <code>course_id</code> foreign key in <code>review</code> table to have <strong>not null constraint</strong> for the sake of data integrity.</p>\n<p>So i create annotated class like for these two table like below:</p>\n<pre><code>@Data\n@Entity\n@Table(name = &quot;course&quot;)\npublic class Course {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;course_id&quot;)\n    private int id;\n\n    @Column(name = &quot;name&quot;)\n    private String name;\n\n    @OneToMany(fetch = FetchType.LAZY,cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;course_id&quot;)\n    private List&lt;Review&gt; reviews;\n\n    public Course(){}\n\n    public Course(String name){\n        this.name = name;\n    }\n\n    public void addReview(Review review){\n        if(this.reviews == null){\n            this.reviews = new ArrayList&lt;&gt;();\n        }\n        this.reviews.add(review);\n    }\n}\n\n@Data\n@Entity\n@Table(name = &quot;review&quot;)\npublic class Review {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;review_id&quot;)\n    private int reviewId;\n\n    @Column(name = &quot;rating&quot;)\n    private int rating;\n\n    public Review(){}\n\n    public Review(int rating){\n        this.rating = rating;\n    }\n}\n</code></pre>\n<p>and i create simple app to add review to an exsiting course like code below:</p>\n<pre><code>session.beginTransaction();\n\n// get instructor from db\nCourse course = session.get(Course.class, 3);\n\n// create review\nReview review1 = new Review(4);\n\ncourse.addReview(review1);\n\n// save to db\nsession.save(course);\n\nsession.getTransaction().commit();\n</code></pre>\n<p>but this program will throw an error because it violates <strong>not null constraint</strong> i set in database before</p>\n<blockquote>\n<p>Caused by: org.postgresql.util.PSQLException: ERROR: null value in column &quot;course_id&quot; violates not-null constraint</p>\n</blockquote>\n<p>but if remove the <strong>not null constraint</strong> this program works fine because hibernate will execute insert with null value first than update the value like below:</p>\n<pre><code>Hibernate: insert into review (rating) values (?)\nHibernate: update review set course_id=? where review_id=?\n</code></pre>\n<p>is there a way for hibernate to insert directly with course_id value so i can keep the <strong>not null constraint</strong>?</p>\n<p>Thanks!</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":9,"creation_date":1668437707,"post_id":74433539,"comment_id":131398329,"body_markdown":"Yes: you&#39;re performing a reference-identity `==` check on two `Long` values. Use `.equals` instead and it should be fine.","body":"Yes: you&#39;re performing a reference-identity <code>==</code> check on two <code>Long</code> values. Use <code>.equals</code> instead and it should be fine."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1668437746,"post_id":74433539,"comment_id":131398347,"body_markdown":"(Note that your title makes an assertion which really isn&#39;t supported by your code...)","body":"(Note that your title makes an assertion which really isn&#39;t supported by your code...)"},{"owner":{"account_id":14940264,"reputation":161,"user_id":10787157,"display_name":"BJagger"},"score":0,"creation_date":1668437852,"post_id":74433539,"comment_id":131398389,"body_markdown":"@JonSkeet - why it works for 101 though? :)","body":"@JonSkeet - why it works for 101 though? :)"},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":4,"creation_date":1668437977,"post_id":74433539,"comment_id":131398428,"body_markdown":"@BJagger Because of integer cache, see https://stackoverflow.com/questions/3131136/integers-caching-in-java","body":"@BJagger Because of integer cache, see <a href=\"https://stackoverflow.com/questions/3131136/integers-caching-in-java\" title=\"integers caching in java\">stackoverflow.com/questions/3131136/integers-caching-in-java</a>"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1668438157,"post_id":74433539,"comment_id":131398500,"body_markdown":"Try `IntStream.range(0, 200)` with the same stream operations to see more about the above.","body":"Try <code>IntStream.range(0, 200)</code> with the same stream operations to see more about the above."}],"owner":{"account_id":14940264,"reputation":161,"user_id":10787157,"display_name":"BJagger"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1668437720,"creation_date":1668437518,"question_id":74433539,"body_markdown":"I am making this kata: https://www.codewars.com/kata/55de8eabd9bef5205e0000ba/train/java and one of the parts is to check that the prime digit will not be assessed as &quot;emirp&quot; if it is palindrome, I wanted to do that using SrtingBuilder reverse method:\r\n```\r\npublic static Long reverseDigits(Long pNum) {\r\n      return Long.parseLong(new StringBuilder(String.valueOf(pNum)).reverse().toString());\r\n    }\r\n```\r\nBut I got somewhat strange results; upon calling:\r\n```\r\nSet&lt;Long&gt; primes = possiblePrimesUnderBound(upperBound(n));\r\nparseSolution(\r\n        primes.stream()\r\n          .filter(elem -&gt; primes.contains(reverseDigits(elem)))\r\n          .filter(elem -&gt; elem &lt; n)\r\n          // important part start\r\n          .peek(elem -&gt; System.out.println(&quot;before checking for palindromes: &quot; + elem))\r\n          .filter(elem -&gt; elem != reverseDigits(elem))\r\n          .peek(elem -&gt; System.out.println(&quot;after checking for palindromes: &quot; + elem))\r\n          // important part end\r\n          .collect(Collectors.toList())\r\n      );\r\n```\r\n\r\nI receive: \r\n\r\n```\r\nbefore checking for palindromes: 13\r\nafter checking for palindromes: 13\r\nbefore checking for palindromes: 17\r\nafter checking for palindromes: 17\r\nbefore checking for palindromes: 31\r\nafter checking for palindromes: 31\r\nbefore checking for palindromes: 37\r\nafter checking for palindromes: 37\r\nbefore checking for palindromes: 71\r\nafter checking for palindromes: 71\r\nbefore checking for palindromes: 73\r\nafter checking for palindromes: 73\r\nbefore checking for palindromes: 79\r\nafter checking for palindromes: 79\r\nbefore checking for palindromes: 97\r\nafter checking for palindromes: 97\r\nbefore checking for palindromes: 101 // check passes\r\nbefore checking for palindromes: 107\r\nafter checking for palindromes: 107\r\nbefore checking for palindromes: 113\r\nafter checking for palindromes: 113\r\nbefore checking for palindromes: 131 // check fails\r\nafter checking for palindromes: 131\r\nbefore checking for palindromes: 149\r\nafter checking for palindromes: 149\r\nbefore checking for palindromes: 151 // check fails\r\nafter checking for palindromes: 151\r\nbefore checking for palindromes: 157\r\nafter checking for palindromes: 157\r\nbefore checking for palindromes: 167\r\nafter checking for palindromes: 167\r\nbefore checking for palindromes: 179\r\nafter checking for palindromes: 179\r\nbefore checking for palindromes: 181 // check fails\r\nafter checking for palindromes: 181\r\nbefore checking for palindromes: 191 // check fails\r\nafter checking for palindromes: 191\r\nbefore checking for palindromes: 199\r\nafter checking for palindromes: 199\r\n```\r\n\r\nFor numbers below 200: notice that my check works for `101` but doesn&#39;t work for `131`, `151`, `181`, and `191`, Does anyone have a clue where I am making mistake? ","title":"StringBuilder.reverse() gives inconsistent results when checking for palindrom numbers","body":"<p>I am making this kata: <a href=\"https://www.codewars.com/kata/55de8eabd9bef5205e0000ba/train/java\" rel=\"nofollow noreferrer\">https://www.codewars.com/kata/55de8eabd9bef5205e0000ba/train/java</a> and one of the parts is to check that the prime digit will not be assessed as &quot;emirp&quot; if it is palindrome, I wanted to do that using SrtingBuilder reverse method:</p>\n<pre><code>public static Long reverseDigits(Long pNum) {\n      return Long.parseLong(new StringBuilder(String.valueOf(pNum)).reverse().toString());\n    }\n</code></pre>\n<p>But I got somewhat strange results; upon calling:</p>\n<pre><code>Set&lt;Long&gt; primes = possiblePrimesUnderBound(upperBound(n));\nparseSolution(\n        primes.stream()\n          .filter(elem -&gt; primes.contains(reverseDigits(elem)))\n          .filter(elem -&gt; elem &lt; n)\n          // important part start\n          .peek(elem -&gt; System.out.println(&quot;before checking for palindromes: &quot; + elem))\n          .filter(elem -&gt; elem != reverseDigits(elem))\n          .peek(elem -&gt; System.out.println(&quot;after checking for palindromes: &quot; + elem))\n          // important part end\n          .collect(Collectors.toList())\n      );\n</code></pre>\n<p>I receive:</p>\n<pre><code>before checking for palindromes: 13\nafter checking for palindromes: 13\nbefore checking for palindromes: 17\nafter checking for palindromes: 17\nbefore checking for palindromes: 31\nafter checking for palindromes: 31\nbefore checking for palindromes: 37\nafter checking for palindromes: 37\nbefore checking for palindromes: 71\nafter checking for palindromes: 71\nbefore checking for palindromes: 73\nafter checking for palindromes: 73\nbefore checking for palindromes: 79\nafter checking for palindromes: 79\nbefore checking for palindromes: 97\nafter checking for palindromes: 97\nbefore checking for palindromes: 101 // check passes\nbefore checking for palindromes: 107\nafter checking for palindromes: 107\nbefore checking for palindromes: 113\nafter checking for palindromes: 113\nbefore checking for palindromes: 131 // check fails\nafter checking for palindromes: 131\nbefore checking for palindromes: 149\nafter checking for palindromes: 149\nbefore checking for palindromes: 151 // check fails\nafter checking for palindromes: 151\nbefore checking for palindromes: 157\nafter checking for palindromes: 157\nbefore checking for palindromes: 167\nafter checking for palindromes: 167\nbefore checking for palindromes: 179\nafter checking for palindromes: 179\nbefore checking for palindromes: 181 // check fails\nafter checking for palindromes: 181\nbefore checking for palindromes: 191 // check fails\nafter checking for palindromes: 191\nbefore checking for palindromes: 199\nafter checking for palindromes: 199\n</code></pre>\n<p>For numbers below 200: notice that my check works for <code>101</code> but doesn't work for <code>131</code>, <code>151</code>, <code>181</code>, and <code>191</code>, Does anyone have a clue where I am making mistake?</p>\n"},{"tags":["java","for-loop","methods","while-loop"],"comments":[{"owner":{"display_name":"user6073886"},"score":3,"creation_date":1668437219,"post_id":74433437,"comment_id":131398133,"body_markdown":"In option 1 you stop looping as soon as you encounter a number that isn&#39;t odd, solution: Do not put the isOdd condition as your loop condition. Your loop condition is only running from 1 to 100 and nothing else. And in option 2 you loop from 1 to 100, call the isOdd method and do nothing with the result and just ignore it and then after the loop is done you print i, which will be 100. Option 2 is logically just completly wrong and currently equivalent to just printing 100. You need to print inside the loop and make printing conditional on the return value of your isOdd method call.","body":"In option 1 you stop looping as soon as you encounter a number that isn&#39;t odd, solution: Do not put the isOdd condition as your loop condition. Your loop condition is only running from 1 to 100 and nothing else. And in option 2 you loop from 1 to 100, call the isOdd method and do nothing with the result and just ignore it and then after the loop is done you print i, which will be 100. Option 2 is logically just completly wrong and currently equivalent to just printing 100. You need to print inside the loop and make printing conditional on the return value of your isOdd method call."},{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1668437353,"post_id":74433437,"comment_id":131398186,"body_markdown":"Instead of `boolean d;\n        d = c % 2 != 0;\n        return d;` you can write `return c % 2 != 0;`","body":"Instead of <code>boolean d;         d = c % 2 != 0;         return d;</code> you can write <code>return c % 2 != 0;</code>"}],"answers":[{"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":1,"creation_date":1668437768,"post_id":74433544,"comment_id":131398356,"body_markdown":"I would not call it &quot;ideal&quot; implementation - because it depends. Many ways lead to rome: `System.out.println(&quot;1\\n3\\n5\\n7\\n9\\n13\\n15\\n17\\n19\\n21\\n...&quot;);` - you get the idea. Why not skip loops at all? This is also not the &quot;ideal&quot; implementation, don&#39;t get me wrong please.","body":"I would not call it &quot;ideal&quot; implementation - because it depends. Many ways lead to rome: <code>System.out.println(&quot;1\\n3\\n5\\n7\\n9\\n13\\n15\\n17\\n19\\n21\\n...&quot;)&zwnj;&#8203;;</code> - you get the idea. Why not skip loops at all? This is also not the &quot;ideal&quot; implementation, don&#39;t get me wrong please."},{"owner":{"account_id":9685245,"reputation":9531,"user_id":7185318,"accept_rate":88,"display_name":"Luatic"},"score":0,"creation_date":1668440968,"post_id":74433544,"comment_id":131399601,"body_markdown":"@cyberbrain Granted, ideal might depend on your requirements. Still, given the requirement of using a loop, this solution seems pretty ideal to me: It is concise, it is readable, it is efficient. I don&#39;t think it can be more concise; readability always is debatable.","body":"@cyberbrain Granted, ideal might depend on your requirements. Still, given the requirement of using a loop, this solution seems pretty ideal to me: It is concise, it is readable, it is efficient. I don&#39;t think it can be more concise; readability always is debatable."}],"tags":[],"owner":{"account_id":9685245,"reputation":9531,"user_id":7185318,"accept_rate":88,"display_name":"Luatic"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668437545,"creation_date":1668437545,"answer_id":74433544,"question_id":74433437,"body_markdown":"&gt; I&#39;m guessing that I have to use either a for- or while-loop (probably can be done with both?)\r\n\r\nYes. `for`-loops are just syntactic sugar for special `while`-loops:\r\n\r\n```java\r\nfor (init_stmt; cond; incr_stmt) body_stmt;\r\n```\r\n\r\nis equivalent to\r\n```java\r\ninit_stmt;\r\nwhile (cond) {\r\n    body_stmt;\r\n    incr_stmt;\r\n}\r\n```\r\n\r\nLet&#39;s first write this using a `for`-loop.\r\n\r\n### `for`-loop\r\n\r\n```java\r\nfor (int i = 1; i &lt; 100; i++)\r\n    if (isOdd(i))\r\n        System.out.println(i)\r\n```\r\n\r\nNote that we can (and should!) do the *declaration* of `i` as `int` in the `for`-loop initializer.\r\n\r\nNow, we may translate this to an equivalent `while`-loop:\r\n\r\n### `while`-loop\r\n\r\n```java\r\nint i = 1;\r\nwhile (i &lt; 100) {\r\n    if (isOdd(i))\r\n        System.out.println(i);\r\n    i++;\r\n}\r\n```\r\n\r\n### Mistakes in your attempts\r\n\r\n#### Attempt 1\r\n\r\nYou&#39;ve mistakenly included the check in the condition (rather than using it in an `if` inside the loop body); the first even number (`2`) will cause the loop to terminate.\r\n\r\n#### Attempt 2\r\n\r\nYou&#39;re not even using the return value of `isOdd` here. You&#39;re unconditionally printing `i` *after* the loop has terminated, which will always be `100`.\r\n\r\n\r\n### The ideal implementation\r\n\r\nIdeally, you&#39;d not be filtering the numbers; you&#39;d directly be incrementing by 2 to get to the next number. The following loop does the job:\r\n\r\n```java\r\nfor (int i = 1; i &lt; 100; i += 2)\r\n    System.out.println(i);\r\n```","title":"Method to print odd numbers between 1 and 100","body":"<blockquote>\n<p>I'm guessing that I have to use either a for- or while-loop (probably can be done with both?)</p>\n</blockquote>\n<p>Yes. <code>for</code>-loops are just syntactic sugar for special <code>while</code>-loops:</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (init_stmt; cond; incr_stmt) body_stmt;\n</code></pre>\n<p>is equivalent to</p>\n<pre class=\"lang-java prettyprint-override\"><code>init_stmt;\nwhile (cond) {\n    body_stmt;\n    incr_stmt;\n}\n</code></pre>\n<p>Let's first write this using a <code>for</code>-loop.</p>\n<h3><code>for</code>-loop</h3>\n<pre class=\"lang-java prettyprint-override\"><code>for (int i = 1; i &lt; 100; i++)\n    if (isOdd(i))\n        System.out.println(i)\n</code></pre>\n<p>Note that we can (and should!) do the <em>declaration</em> of <code>i</code> as <code>int</code> in the <code>for</code>-loop initializer.</p>\n<p>Now, we may translate this to an equivalent <code>while</code>-loop:</p>\n<h3><code>while</code>-loop</h3>\n<pre class=\"lang-java prettyprint-override\"><code>int i = 1;\nwhile (i &lt; 100) {\n    if (isOdd(i))\n        System.out.println(i);\n    i++;\n}\n</code></pre>\n<h3>Mistakes in your attempts</h3>\n<h4>Attempt 1</h4>\n<p>You've mistakenly included the check in the condition (rather than using it in an <code>if</code> inside the loop body); the first even number (<code>2</code>) will cause the loop to terminate.</p>\n<h4>Attempt 2</h4>\n<p>You're not even using the return value of <code>isOdd</code> here. You're unconditionally printing <code>i</code> <em>after</em> the loop has terminated, which will always be <code>100</code>.</p>\n<h3>The ideal implementation</h3>\n<p>Ideally, you'd not be filtering the numbers; you'd directly be incrementing by 2 to get to the next number. The following loop does the job:</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (int i = 1; i &lt; 100; i += 2)\n    System.out.println(i);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668437566,"creation_date":1668437566,"answer_id":74433546,"question_id":74433437,"body_markdown":"Your attempt #1 is closer to your goal ;) \r\n\r\n * you are right that you can use `while` and `for` (and probably other kinds of processing multiple numbers, but that just for the sake of completeness, forget it for now)\r\n * your `println` (or `print`) should be within the loop because you want to print more than just one number.\r\n * in you current attempt #1 you end your loop with the first odd number: 1 This doesn&#39;t count up very far ;)\r\n\r\nSo you have to use an `if` inside your loop where you check the result of `isOdd(number)` and only print if it&#39;s odd.\r\nBut the loop has only the upper bound limit as condition (`number &lt; 100`) as you want to check all the numbers.\r\n\r\nSmartass hint (try it only after your program works fine): if you count up by 2 instead by 1 (`number = number + 2;`), your program will only need half the time - and you could even skip the `isOdd` check ;-)","title":"Method to print odd numbers between 1 and 100","body":"<p>Your attempt #1 is closer to your goal ;)</p>\n<ul>\n<li>you are right that you can use <code>while</code> and <code>for</code> (and probably other kinds of processing multiple numbers, but that just for the sake of completeness, forget it for now)</li>\n<li>your <code>println</code> (or <code>print</code>) should be within the loop because you want to print more than just one number.</li>\n<li>in you current attempt #1 you end your loop with the first odd number: 1 This doesn't count up very far ;)</li>\n</ul>\n<p>So you have to use an <code>if</code> inside your loop where you check the result of <code>isOdd(number)</code> and only print if it's odd.\nBut the loop has only the upper bound limit as condition (<code>number &lt; 100</code>) as you want to check all the numbers.</p>\n<p>Smartass hint (try it only after your program works fine): if you count up by 2 instead by 1 (<code>number = number + 2;</code>), your program will only need half the time - and you could even skip the <code>isOdd</code> check ;-)</p>\n"}],"owner":{"account_id":26798568,"reputation":37,"user_id":20390902,"display_name":"laryberry"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":643,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74433544,"answer_count":2,"score":-1,"last_activity_date":1668437713,"creation_date":1668437024,"question_id":74433437,"body_markdown":"I have to write a method that returns/prints the odd numbers between 1 and 100, but I have to use another method, which checks whether a given integer is odd or not:\r\n\r\n    static boolean isOdd(int c) {\r\n        boolean d;\r\n        d = c % 2 != 0;\r\n        return d;\r\n    }\r\n\r\nI&#39;m guessing that I have to use either a for- or while-loop (probably can be done with both?), but I think what I&#39;m really struggling with is &quot;connecting&quot; both methods. So the numbers actually run through isOdd() which determines whether they are odd. \r\n\r\nI&#39;ve tried these two options so far, but they&#39;re not working.\r\nOption 1: \r\n\r\n\r\n    static void func1() {\r\n        int number = 1;\r\n        while (number &lt; 100 &amp;&amp; isOdd(number)) {\r\n            System.out.println(number);\r\n            number = number + 1;\r\n        }\r\n    }\r\n\r\n\r\nOption 2: \r\n\r\n    static void func1() {\r\n        int i;\r\n        for (i = 1; i &lt; 100; i++) {\r\n            isOdd(i);\r\n        }\r\n        System.out.println(i);\r\n    }","title":"Method to print odd numbers between 1 and 100","body":"<p>I have to write a method that returns/prints the odd numbers between 1 and 100, but I have to use another method, which checks whether a given integer is odd or not:</p>\n<pre><code>static boolean isOdd(int c) {\n    boolean d;\n    d = c % 2 != 0;\n    return d;\n}\n</code></pre>\n<p>I'm guessing that I have to use either a for- or while-loop (probably can be done with both?), but I think what I'm really struggling with is &quot;connecting&quot; both methods. So the numbers actually run through isOdd() which determines whether they are odd.</p>\n<p>I've tried these two options so far, but they're not working.\nOption 1:</p>\n<pre><code>static void func1() {\n    int number = 1;\n    while (number &lt; 100 &amp;&amp; isOdd(number)) {\n        System.out.println(number);\n        number = number + 1;\n    }\n}\n</code></pre>\n<p>Option 2:</p>\n<pre><code>static void func1() {\n    int i;\n    for (i = 1; i &lt; 100; i++) {\n        isOdd(i);\n    }\n    System.out.println(i);\n}\n</code></pre>\n"},{"tags":["java","powershell","jenkins"],"comments":[{"owner":{"account_id":10259402,"reputation":25938,"user_id":7571258,"accept_rate":62,"display_name":"zett42"},"score":0,"creation_date":1668435309,"post_id":74432663,"comment_id":131397400,"body_markdown":"This works for me to redirect Java output to a file: `java @javaArgs *&gt;&amp;1 | ForEach-Object { &quot;$_&quot; } | Tee-Object &quot;$PSScriptRoot\\AgentLog.txt&quot; -Append`. I don&#39;t think the `ForEach-Object` and `Tee-Object` commands are really necessary, it really should work like `java ... *&gt;&amp;1 &gt; output.txt` as well. Did you literally include the double quotation marks? These must be omitted!","body":"This works for me to redirect Java output to a file: <code>java @javaArgs *&gt;&amp;1 | ForEach-Object { &quot;$_&quot; } | Tee-Object &quot;$PSScriptRoot\\AgentLog.txt&quot; -Append</code>. I don&#39;t think the <code>ForEach-Object</code> and <code>Tee-Object</code> commands are really necessary, it really should work like <code>java ... *&gt;&amp;1 &gt; output.txt</code> as well. Did you literally include the double quotation marks? These must be omitted!"},{"owner":{"account_id":10259402,"reputation":25938,"user_id":7571258,"accept_rate":62,"display_name":"zett42"},"score":0,"creation_date":1668435441,"post_id":74432663,"comment_id":131397452,"body_markdown":"My `$javaArgs` basically contains the same parameters as in your sample, except that I&#39;m passing only absolute paths for `-jar` and `-workDir`.","body":"My <code>$javaArgs</code> basically contains the same parameters as in your sample, except that I&#39;m passing only absolute paths for <code>-jar</code> and <code>-workDir</code>."},{"owner":{"account_id":5524192,"reputation":805,"user_id":8165583,"display_name":"Batchen Regev"},"score":0,"creation_date":1668435811,"post_id":74432663,"comment_id":131397590,"body_markdown":"@zett42 If i run the start-agent.ps with the output `*&gt;&amp;1 &gt; output.txt` it works but if the other ps script of creating the job running the script of start-agent the redirect doesn&#39;t work, i think it something to do with that but i dont understand what","body":"@zett42 If i run the start-agent.ps with the output <code>*&gt;&amp;1 &gt; output.txt</code> it works but if the other ps script of creating the job running the script of start-agent the redirect doesn&#39;t work, i think it something to do with that but i dont understand what"},{"owner":{"account_id":10259402,"reputation":25938,"user_id":7571258,"accept_rate":62,"display_name":"zett42"},"score":1,"creation_date":1668436025,"post_id":74432663,"comment_id":131397665,"body_markdown":"Could you try to create a simple example that I can copy-paste to reproduce the issue?","body":"Could you try to create a simple example that I can copy-paste to reproduce the issue?"},{"owner":{"account_id":5524192,"reputation":805,"user_id":8165583,"display_name":"Batchen Regev"},"score":0,"creation_date":1668436346,"post_id":74432663,"comment_id":131397767,"body_markdown":"create a ps script that creates a job: `$trigger = New-JobTrigger -AtStartup -RandomDelay 00:00:30\nRegister-ScheduledJob -Trigger $trigger -FilePath start_agent.ps1 -Name MyJob\n`  and create a java command in the start_agent.ps1 with output redirect in the end, if the create job is runing the script no redirect file is created, this specific start-agent is a jenkins jave command so i cannot give you the full script as it wont work for you","body":"create a ps script that creates a job: <code>$trigger = New-JobTrigger -AtStartup -RandomDelay 00:00:30 Register-ScheduledJob -Trigger $trigger -FilePath start_agent.ps1 -Name MyJob </code>  and create a java command in the start_agent.ps1 with output redirect in the end, if the create job is runing the script no redirect file is created, this specific start-agent is a jenkins jave command so i cannot give you the full script as it wont work for you"},{"owner":{"account_id":5524192,"reputation":805,"user_id":8165583,"display_name":"Batchen Regev"},"score":0,"creation_date":1668436474,"post_id":74432663,"comment_id":131397825,"body_markdown":"The job is triggerd to be created after windows vm restart","body":"The job is triggerd to be created after windows vm restart"},{"owner":{"account_id":10259402,"reputation":25938,"user_id":7571258,"accept_rate":62,"display_name":"zett42"},"score":0,"creation_date":1668445624,"post_id":74432663,"comment_id":131401372,"body_markdown":"Sorry, can&#39;t even get the job to run successfully this way. Does it work with a manually created job? Make sure to use absolute path for the log file, e. g. `$PSScriptRoot\\AgentLog.txt`.","body":"Sorry, can&#39;t even get the job to run successfully this way. Does it work with a manually created job? Make sure to use absolute path for the log file, e. g. <code>$PSScriptRoot\\AgentLog.txt</code>."}],"owner":{"account_id":5524192,"reputation":805,"user_id":8165583,"display_name":"Batchen Regev"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668437686,"creation_date":1668433658,"question_id":74432663,"body_markdown":"I have Jenkins master on Ubuntu host in docker containers, connected to it is a windows slave that i run Jenkins on it using a PowerShell script that launch the agent:\r\n\r\n    java -jar agent.jar -jnlpUrl http://XX.XX.XX..../jenkins-agent.jnlp -secret XXX... -workDir &quot;/jenkins&quot; \r\n\r\nwe start the launch agent script using this script that creates the job:\r\n\r\n    $trigger = New-JobTrigger -AtStartup -RandomDelay 00:00:30\r\n    Register-ScheduledJob -Trigger $trigger -FilePath start_agent.ps1 -Name MyJob\r\n\r\nmy issues is:\r\n1. when i go to the master UI and go to the slave node - i press on &quot;logs&quot; but it doesn&#39;t show anything, it just loads forever with 3 dots loading \r\n\r\n2. I tried to redirect logs using `*&gt;&amp;1 &gt; output.txt` at the end of the `java -jar` command but it doesn&#39;t work. and I haven&#39;t found any java jar argument that works in redirecting the output have tried -XX file path , couldn&#39;t find the Log4j file\r\n\r\ni have a directory in the windows jenkins path named &quot;remoting&quot; and it has logs but it only have restart logs and not live logs\\error logs and i need it.\r\n\r\nThanks.\r\n\r\n","title":"Jenkins slave on windows doesn&#39;t show logs","body":"<p>I have Jenkins master on Ubuntu host in docker containers, connected to it is a windows slave that i run Jenkins on it using a PowerShell script that launch the agent:</p>\n<pre><code>java -jar agent.jar -jnlpUrl http://XX.XX.XX..../jenkins-agent.jnlp -secret XXX... -workDir &quot;/jenkins&quot; \n</code></pre>\n<p>we start the launch agent script using this script that creates the job:</p>\n<pre><code>$trigger = New-JobTrigger -AtStartup -RandomDelay 00:00:30\nRegister-ScheduledJob -Trigger $trigger -FilePath start_agent.ps1 -Name MyJob\n</code></pre>\n<p>my issues is:</p>\n<ol>\n<li><p>when i go to the master UI and go to the slave node - i press on &quot;logs&quot; but it doesn't show anything, it just loads forever with 3 dots loading</p>\n</li>\n<li><p>I tried to redirect logs using <code>*&gt;&amp;1 &gt; output.txt</code> at the end of the <code>java -jar</code> command but it doesn't work. and I haven't found any java jar argument that works in redirecting the output have tried -XX file path , couldn't find the Log4j file</p>\n</li>\n</ol>\n<p>i have a directory in the windows jenkins path named &quot;remoting&quot; and it has logs but it only have restart logs and not live logs\\error logs and i need it.</p>\n<p>Thanks.</p>\n"},{"tags":["java","apache-camel"],"answers":[{"tags":[],"owner":{"account_id":4419164,"reputation":1149,"user_id":3599758,"accept_rate":71,"display_name":"javaTry"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668437166,"creation_date":1668437166,"answer_id":74433465,"question_id":74416518,"body_markdown":"I found the the cause.\r\n\r\nI had to put log libraries on the classpath in order to work to log, the default java logging was not enough to work, I do not know why.\r\n\r\nI put this in my pom file:\r\n\r\n    &lt;!-- logging --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n      &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n      &lt;version&gt;${log4j2.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n      &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n      &lt;version&gt;${log4j2.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n      &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\r\n      &lt;version&gt;${log4j2.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"Apache Camel reading file from aws S3","body":"<p>I found the the cause.</p>\n<p>I had to put log libraries on the classpath in order to work to log, the default java logging was not enough to work, I do not know why.</p>\n<p>I put this in my pom file:</p>\n<pre><code>&lt;!-- logging --&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n  &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n  &lt;version&gt;${log4j2.version}&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n  &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n  &lt;version&gt;${log4j2.version}&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n  &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\n  &lt;version&gt;${log4j2.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":4419164,"reputation":1149,"user_id":3599758,"accept_rate":71,"display_name":"javaTry"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":281,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74433465,"answer_count":1,"score":0,"last_activity_date":1668437166,"creation_date":1668286553,"question_id":74416518,"body_markdown":"I am trying to read a csv file from AWS S3 and print on console, but it is not working.\r\n\r\n    public class Example {\r\n    \r\n      public static void main(String[] args) throws Exception {\r\n        var camelContext = new DefaultCamelContext();\r\n    \r\n        camelContext.addRoutes(new MainRoute());\r\n        camelContext.start();\r\n        Thread.sleep(10_000);\r\n        camelContext.stop();\r\n      }\r\n    }\r\n\r\n\r\n    public class MainRoute extends RouteBuilder {\r\n    \r\n      @Override\r\n      public void configure() {\r\n        var s3Url = String.format(\r\n            &quot;aws2-s3://mybucket.com?&quot;\r\n                + &quot;prefix=etl/hello.csv&amp;useDefaultCredentialsProvider=true&amp;deleteAfterRead=false&amp;maxMessagesPerPoll=1&quot;);\r\n    \r\n        System.out.println(&quot;start route&quot;);\r\n        from(s3Url).marshal().csv().log(&quot;log message&quot;).end();\r\n    \r\n        System.out.println(&quot;finish route&quot;);\r\n      }\r\n    }\r\n\r\nI tried using marshal().csv()\r\n\r\nI tried using only: *from(s3Url).log(&quot;log message&quot;).end();*\r\n\r\nOnly &quot;start route&quot; and &quot;finish route&quot; is printed, &quot;log message&quot; is never printed.\r\n\r\n**Versions:**\r\n\r\nApache camel: 3.19.0, Java:17\r\n\r\n**CSV content:**\r\n\r\n    Name,age\r\n    myName,31\r\n\r\n\r\nWhat should I do in order to read the csv content and print in console?\r\n","title":"Apache Camel reading file from aws S3","body":"<p>I am trying to read a csv file from AWS S3 and print on console, but it is not working.</p>\n<pre><code>public class Example {\n\n  public static void main(String[] args) throws Exception {\n    var camelContext = new DefaultCamelContext();\n\n    camelContext.addRoutes(new MainRoute());\n    camelContext.start();\n    Thread.sleep(10_000);\n    camelContext.stop();\n  }\n}\n\n\npublic class MainRoute extends RouteBuilder {\n\n  @Override\n  public void configure() {\n    var s3Url = String.format(\n        &quot;aws2-s3://mybucket.com?&quot;\n            + &quot;prefix=etl/hello.csv&amp;useDefaultCredentialsProvider=true&amp;deleteAfterRead=false&amp;maxMessagesPerPoll=1&quot;);\n\n    System.out.println(&quot;start route&quot;);\n    from(s3Url).marshal().csv().log(&quot;log message&quot;).end();\n\n    System.out.println(&quot;finish route&quot;);\n  }\n}\n</code></pre>\n<p>I tried using marshal().csv()</p>\n<p>I tried using only: <em>from(s3Url).log(&quot;log message&quot;).end();</em></p>\n<p>Only &quot;start route&quot; and &quot;finish route&quot; is printed, &quot;log message&quot; is never printed.</p>\n<p><strong>Versions:</strong></p>\n<p>Apache camel: 3.19.0, Java:17</p>\n<p><strong>CSV content:</strong></p>\n<pre><code>Name,age\nmyName,31\n</code></pre>\n<p>What should I do in order to read the csv content and print in console?</p>\n"},{"tags":["java","java-time","localdatetime"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":3,"creation_date":1668419342,"post_id":74429550,"comment_id":131392115,"body_markdown":"`myZDT.of(dateTimeL, zonaID)` is calling a static method as if it&#39;s an instance method. I&#39;d strongly avoid doing that - it&#39;s really confusing.","body":"<code>myZDT.of(dateTimeL, zonaID)</code> is calling a static method as if it&#39;s an instance method. I&#39;d strongly avoid doing that - it&#39;s really confusing."},{"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"score":0,"creation_date":1668421671,"post_id":74429550,"comment_id":131392839,"body_markdown":"The answers you already got are correct answers. Your main problem was that you assumed that string &quot;2022-11-22T17:15:00&quot; is UTC, but in the string itself there is no such indication. in other words it is a LocalDateTime. If you know that it is meant to be UTC, you first need to create ZonedDateTime from LocalDateTime you have with UTC ZoneId, and than convert it to your zoneID &quot;America/Tijuana&quot;","body":"The answers you already got are correct answers. Your main problem was that you assumed that string &quot;2022-11-22T17:15:00&quot; is UTC, but in the string itself there is no such indication. in other words it is a LocalDateTime. If you know that it is meant to be UTC, you first need to create ZonedDateTime from LocalDateTime you have with UTC ZoneId, and than convert it to your zoneID &quot;America/Tijuana&quot;"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1668425567,"post_id":74429550,"comment_id":131394093,"body_markdown":"I would use `dateTimeL.atOffset(ZoneOffset.UTC).atZoneSameInstant(zonaID);`. Gives `using toString: 2022-11-22T09:15-08:00[America/Tijuana]`.","body":"I would use <code>dateTimeL.atOffset(ZoneOffset.UTC).atZoneSameInstant(zonaID)&zwnj;&#8203;;</code>. Gives <code>using toString: 2022-11-22T09:15-08:00[America&#47;Tijuana]</code>."},{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1668437068,"post_id":74429550,"comment_id":131398059,"body_markdown":"@OleV.V. Thanks for mentioning `dateTimeL.atOffset`. My original answer was using `dateTimeL.atZone` with `ZoneOffset.UTC` but I realized that it&#39;s more appropriate to get an `OffsetDateTime` if we use `ZoneOffset.UTC` which refers to a `ZoneOffset` rather than a `ZoneId`. Now, I&#39;ve updated my answer to use your approach.","body":"@OleV.V. Thanks for mentioning <code>dateTimeL.atOffset</code>. My original answer was using <code>dateTimeL.atZone</code> with <code>ZoneOffset.UTC</code> but I realized that it&#39;s more appropriate to get an <code>OffsetDateTime</code> if we use <code>ZoneOffset.UTC</code> which refers to a <code>ZoneOffset</code> rather than a <code>ZoneId</code>. Now, I&#39;ve updated my answer to use your approach."}],"answers":[{"comments":[{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":3,"creation_date":1668421491,"post_id":74429653,"comment_id":131392770,"body_markdown":"One small update: `ZoneOffset.UTC` is the more idiomatic way of referring to the UTC ZoneId.","body":"One small update: <code>ZoneOffset.UTC</code> is the more idiomatic way of referring to the UTC ZoneId."}],"tags":[],"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1668421628,"creation_date":1668419182,"answer_id":74429653,"question_id":74429550,"body_markdown":"You have to convert your date to UTC, then convert the convert this zone to your expected zone using `withZoneSameInstant` like this:\r\n\r\n    ZonedDateTime toUTCZone  = ZonedDateTime.of(dateTimeL, ZoneOffset.UTC);\r\n    ZonedDateTime myZDTFinal = toUTCZone.withZoneSameInstant(zonaID);\r\n\r\n**Output**\r\n\r\n    2022-11-22T09:15-08:00[America/Tijuana]","title":"Convert UTC datetime to local datetime using java.time","body":"<p>You have to convert your date to UTC, then convert the convert this zone to your expected zone using <code>withZoneSameInstant</code> like this:</p>\n<pre><code>ZonedDateTime toUTCZone  = ZonedDateTime.of(dateTimeL, ZoneOffset.UTC);\nZonedDateTime myZDTFinal = toUTCZone.withZoneSameInstant(zonaID);\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>2022-11-22T09:15-08:00[America/Tijuana]\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3472091,"reputation":658,"user_id":2906157,"accept_rate":44,"display_name":"Sergio"},"score":1,"creation_date":1668454209,"post_id":74430001,"comment_id":131404132,"body_markdown":"Thanks a lot @Arvind Kumar Avinash , I think the alternate approach is better since I already know that the original date is UTC, so it&#39;s easier to append a &#39;Z&#39; to that string. I need to convert hundreds of datetimes for every submit, so I&#39;m looking for the best performance option","body":"Thanks a lot @Arvind Kumar Avinash , I think the alternate approach is better since I already know that the original date is UTC, so it&#39;s easier to append a &#39;Z&#39; to that string. I need to convert hundreds of datetimes for every submit, so I&#39;m looking for the best performance option"}],"tags":[],"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1668436804,"creation_date":1668420873,"answer_id":74430001,"question_id":74429550,"body_markdown":"There can be many ways to achieve the result. A simple approach would be\r\n\r\n 1. Parse the given string into `LocalDateTime`.\r\n 2. Convert it into an `OffsetDateTime` at UTC using [`LocalDateTime#atOffset`](https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html#atOffset-java.time.ZoneOffset-).\r\n 3. Use [`OffsetDateTime#atZoneSameInstant`](https://docs.oracle.com/javase/8/docs/api/java/time/OffsetDateTime.html#atZoneSameInstant-java.time.ZoneId-) to convert the resulting `OffsetDateTime` into a `ZonedDateTime` at `ZoneId.of(&quot;America/Tijuana&quot;)`.\r\n 4. Get `LocalDateTime` out of the resulting `ZonedDateTime` by using  [`ZonedDateTime#toLocalDateTime`](https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html#toLocalDateTime--).\r\n 5. If required, format this `LocalDateTime` into the desired string.\r\n\r\n```\r\nLocalDateTime\r\n    .parse(&quot;2022-11-22T17:15:00&quot;) // Parse the given date-time string into LocalDateTime\r\n    .atOffset(ZoneOffset.UTC) // Convert it into a ZonedDateTime at UTC\r\n    .atZoneSameInstant(ZoneId.of(&quot;America/Tijuana&quot;)) // Convert the result into a ZonedDateTime at another time-zome\r\n    .toLocalDateTime() // Get the LocalDateTime out of the ZonedDateTime\r\n    .format(DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd&#39;T&#39;HH:mm:ss&quot;, Locale.ENGLISH))); // If required\r\n```\r\n\r\n**Demo**:\r\n\r\n    import java.time.LocalDateTime;\r\n    import java.time.ZoneId;\r\n    import java.time.ZoneOffset;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.util.Locale;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            LocalDateTime ldtInTijuana = LocalDateTime.parse(&quot;2022-11-22T17:15:00&quot;)\r\n                    .atOffset(ZoneOffset.UTC)\r\n                    .atZoneSameInstant(ZoneId.of(&quot;America/Tijuana&quot;))\r\n                    .toLocalDateTime();\r\n            System.out.println(ldtInTijuana);\r\n    \r\n            // Custom format\r\n            DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd&#39;T&#39;HH:mm:ss&quot;, Locale.ENGLISH);\r\n            String formatted = ldtInTijuana.format(formatter);\r\n            System.out.println(formatted);\r\n        }\r\n    }\r\n\r\n**Output**:\r\n\r\n    2022-11-22T09:15\r\n    2022-11-22T09:15:00\r\n\r\nNote that [`LocalDateTime#toString`](https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html#toString--) removes second and fraction-of-second values if they are zero. Suppose you want to keep them (**as you have posted in your question**), you can use a `DateTimeFormatter` as shown above.\r\n\r\nAn alternate approach:\r\n--\r\n\r\n\r\nAlternatively, you can append `Z` at the end of your ISO 8601 formatted date-time string to enable `Instant` to parse it and then convert the `Instant` into a `ZonedDateTime` corresponding to the `ZoneId.of(&quot;America/Tijuana&quot;)` by using [`Instant#atZone`](https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html#atZone-java.time.ZoneId-). The symbol, `Z` refers to UTC in a date-time string.\r\n\r\nThe rest of the steps will remain the same.\r\n\r\n**Demo**:\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            String text = &quot;2022-11-22T17:15:00&quot;;\r\n            text = text + &quot;Z&quot;; // Z refers to UTC\r\n            Instant instant = Instant.parse(text);\r\n            LocalDateTime ldt = instant.atZone(ZoneId.of(&quot;America/Tijuana&quot;)).toLocalDateTime();\r\n            System.out.println(ldt);\r\n        }\r\n    }\r\n\r\n**Output**:\r\n\r\n    2022-11-22T09:15\r\n\r\nLearn more about the modern Date-Time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.","title":"Convert UTC datetime to local datetime using java.time","body":"<p>There can be many ways to achieve the result. A simple approach would be</p>\n<ol>\n<li>Parse the given string into <code>LocalDateTime</code>.</li>\n<li>Convert it into an <code>OffsetDateTime</code> at UTC using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html#atOffset-java.time.ZoneOffset-\" rel=\"nofollow noreferrer\"><code>LocalDateTime#atOffset</code></a>.</li>\n<li>Use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/OffsetDateTime.html#atZoneSameInstant-java.time.ZoneId-\" rel=\"nofollow noreferrer\"><code>OffsetDateTime#atZoneSameInstant</code></a> to convert the resulting <code>OffsetDateTime</code> into a <code>ZonedDateTime</code> at <code>ZoneId.of(&quot;America/Tijuana&quot;)</code>.</li>\n<li>Get <code>LocalDateTime</code> out of the resulting <code>ZonedDateTime</code> by using  <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html#toLocalDateTime--\" rel=\"nofollow noreferrer\"><code>ZonedDateTime#toLocalDateTime</code></a>.</li>\n<li>If required, format this <code>LocalDateTime</code> into the desired string.</li>\n</ol>\n<pre><code>LocalDateTime\n    .parse(&quot;2022-11-22T17:15:00&quot;) // Parse the given date-time string into LocalDateTime\n    .atOffset(ZoneOffset.UTC) // Convert it into a ZonedDateTime at UTC\n    .atZoneSameInstant(ZoneId.of(&quot;America/Tijuana&quot;)) // Convert the result into a ZonedDateTime at another time-zome\n    .toLocalDateTime() // Get the LocalDateTime out of the ZonedDateTime\n    .format(DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd'T'HH:mm:ss&quot;, Locale.ENGLISH))); // If required\n</code></pre>\n<p><strong>Demo</strong>:</p>\n<pre><code>import java.time.LocalDateTime;\nimport java.time.ZoneId;\nimport java.time.ZoneOffset;\nimport java.time.format.DateTimeFormatter;\nimport java.util.Locale;\n\npublic class Main {\n    public static void main(String[] args) {\n        LocalDateTime ldtInTijuana = LocalDateTime.parse(&quot;2022-11-22T17:15:00&quot;)\n                .atOffset(ZoneOffset.UTC)\n                .atZoneSameInstant(ZoneId.of(&quot;America/Tijuana&quot;))\n                .toLocalDateTime();\n        System.out.println(ldtInTijuana);\n\n        // Custom format\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd'T'HH:mm:ss&quot;, Locale.ENGLISH);\n        String formatted = ldtInTijuana.format(formatter);\n        System.out.println(formatted);\n    }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>2022-11-22T09:15\n2022-11-22T09:15:00\n</code></pre>\n<p>Note that <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html#toString--\" rel=\"nofollow noreferrer\"><code>LocalDateTime#toString</code></a> removes second and fraction-of-second values if they are zero. Suppose you want to keep them (<strong>as you have posted in your question</strong>), you can use a <code>DateTimeFormatter</code> as shown above.</p>\n<h2>An alternate approach:</h2>\n<p>Alternatively, you can append <code>Z</code> at the end of your ISO 8601 formatted date-time string to enable <code>Instant</code> to parse it and then convert the <code>Instant</code> into a <code>ZonedDateTime</code> corresponding to the <code>ZoneId.of(&quot;America/Tijuana&quot;)</code> by using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html#atZone-java.time.ZoneId-\" rel=\"nofollow noreferrer\"><code>Instant#atZone</code></a>. The symbol, <code>Z</code> refers to UTC in a date-time string.</p>\n<p>The rest of the steps will remain the same.</p>\n<p><strong>Demo</strong>:</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        String text = &quot;2022-11-22T17:15:00&quot;;\n        text = text + &quot;Z&quot;; // Z refers to UTC\n        Instant instant = Instant.parse(text);\n        LocalDateTime ldt = instant.atZone(ZoneId.of(&quot;America/Tijuana&quot;)).toLocalDateTime();\n        System.out.println(ldt);\n    }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>2022-11-22T09:15\n</code></pre>\n<p>Learn more about the modern Date-Time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n"}],"owner":{"account_id":3472091,"reputation":658,"user_id":2906157,"accept_rate":44,"display_name":"Sergio"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1003,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74430001,"answer_count":2,"score":1,"last_activity_date":1668436804,"creation_date":1668418627,"question_id":74429550,"body_markdown":"I have a UTC date-time like this (a String): `2022-11-22T17:15:00`\r\n\r\nAnd a ZoneID like this: `&quot;America/Tijuana&quot;`\r\n\r\nUsing java.time API, I want to get the actual datetime for that zone, which is: `2022-11-22T09:15:00` (the time is 09:15 instead of 17:15) \r\n\r\n - ZonedDateTime.toLocalDateTime() returns: `2022-11-22T17:15`\r\n - ZonedDateTime.toString() returns:\r\n   `2022-11-22T17:15-08:00[America/Tijuana]`\r\n\r\nNone of the above gives me what I&#39;m looking for. \r\n\r\nThis is my code:\r\n\r\n    \tZoneId zonaID = ZoneId.of(&#39;America/Tijuana&#39;);\r\n\t\tCharSequence dateUTC = &quot;2022-11-22T17:15:00&quot;;\r\n\t\tLocalDateTime dateTimeL = LocalDateTime.parse(dateUTC);\r\n\t\tZonedDateTime myZDT = ZonedDateTime.now();\r\n\t\tZonedDateTime myZDTFinal = myZDT.of(dateTimeL, zonaID);\r\n\t\tSystem.out.println(&quot;using toLocalDateTime: &quot; + myZDTFinal.toLocalDateTime());\r\n\t\tSystem.out.println(&quot;using toString: &quot; + myZDTFinal.toString());\r\n\r\nI know that this might be a duplicated question but there&#39;s so many questions about date-times and I just haven&#39;t been able to figure out this.\r\n\r\nAny help will be really appreciated.\r\n\r\n\r\n\r\n","title":"Convert UTC datetime to local datetime using java.time","body":"<p>I have a UTC date-time like this (a String): <code>2022-11-22T17:15:00</code></p>\n<p>And a ZoneID like this: <code>&quot;America/Tijuana&quot;</code></p>\n<p>Using java.time API, I want to get the actual datetime for that zone, which is: <code>2022-11-22T09:15:00</code> (the time is 09:15 instead of 17:15)</p>\n<ul>\n<li>ZonedDateTime.toLocalDateTime() returns: <code>2022-11-22T17:15</code></li>\n<li>ZonedDateTime.toString() returns:\n<code>2022-11-22T17:15-08:00[America/Tijuana]</code></li>\n</ul>\n<p>None of the above gives me what I'm looking for.</p>\n<p>This is my code:</p>\n<pre><code>    ZoneId zonaID = ZoneId.of('America/Tijuana');\n    CharSequence dateUTC = &quot;2022-11-22T17:15:00&quot;;\n    LocalDateTime dateTimeL = LocalDateTime.parse(dateUTC);\n    ZonedDateTime myZDT = ZonedDateTime.now();\n    ZonedDateTime myZDTFinal = myZDT.of(dateTimeL, zonaID);\n    System.out.println(&quot;using toLocalDateTime: &quot; + myZDTFinal.toLocalDateTime());\n    System.out.println(&quot;using toString: &quot; + myZDTFinal.toString());\n</code></pre>\n<p>I know that this might be a duplicated question but there's so many questions about date-times and I just haven't been able to figure out this.</p>\n<p>Any help will be really appreciated.</p>\n"},{"tags":["java","intellij-idea","jdbctemplate","suppress-warnings","notnull"],"answers":[{"comments":[{"owner":{"account_id":16296427,"reputation":5,"user_id":12376717,"display_name":"Jmeter Tea"},"score":0,"creation_date":1668436578,"post_id":74433112,"comment_id":131397867,"body_markdown":"But I can expect the column to return always a int value that is not null, I want to indicate the IDE that value can&#39;t be null by its DB definition","body":"But I can expect the column to return always a int value that is not null, I want to indicate the IDE that value can&#39;t be null by its DB definition"},{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1668437605,"post_id":74433112,"comment_id":131398283,"body_markdown":"But it **could** be null from a technical perspective, as [queryForObject](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jdbc/core/JdbcTemplate.html#queryForObject-java.lang.String-java.lang.Class-) returns an Object, not a primitive. And this includes null-references, even if - from a content perspective - the returned value **should** not be null.","body":"But it <b>could</b> be null from a technical perspective, as <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jdbc/core/JdbcTemplate.html#queryForObject-java.lang.String-java.lang.Class-\" rel=\"nofollow noreferrer\">queryForObject</a> returns an Object, not a primitive. And this includes null-references, even if - from a content perspective - the returned value <b>should</b> not be null."},{"owner":{"account_id":16296427,"reputation":5,"user_id":12376717,"display_name":"Jmeter Tea"},"score":0,"creation_date":1668496190,"post_id":74433112,"comment_id":131412542,"body_markdown":"Can you suggest how to return primitive? or disable this warning in this method?","body":"Can you suggest how to return primitive? or disable this warning in this method?"},{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1668498674,"post_id":74433112,"comment_id":131413224,"body_markdown":"See my answer above. It takes „null“ return into account and maps to int.","body":"See my answer above. It takes „null“ return into account and maps to int."}],"tags":[],"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668435584,"creation_date":1668435584,"answer_id":74433112,"question_id":74433036,"body_markdown":"Statement `jdbcTemplate.queryForObject(&quot;select num from mytable&quot;, Integer.class);` returns instance of Integer.class, which may be `null`. Since your variable `num` is of primitive type `int`, a NullPointerException will occur during auto-boxing.\r\n\r\nSolution: \r\n\r\n```java\r\npublic int getNum() {\r\n  int num = 0;\r\n  try {\r\n    Integer i = jdbcTemplate.queryForObject(&quot;select num from mytable&quot;, Integer.class);\r\n    if(i != null) {\r\n      num = i;\r\n    }\r\n  } catch (EmptyResultDataAccessException ignored) {\r\n      // log or rethrow exception\r\n  }\r\n  return num;\r\n}\r\n```","title":"jdbcTemplate nullable warning on not null field","body":"<p>Statement <code>jdbcTemplate.queryForObject(&quot;select num from mytable&quot;, Integer.class);</code> returns instance of Integer.class, which may be <code>null</code>. Since your variable <code>num</code> is of primitive type <code>int</code>, a NullPointerException will occur during auto-boxing.</p>\n<p>Solution:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public int getNum() {\n  int num = 0;\n  try {\n    Integer i = jdbcTemplate.queryForObject(&quot;select num from mytable&quot;, Integer.class);\n    if(i != null) {\n      num = i;\n    }\n  } catch (EmptyResultDataAccessException ignored) {\n      // log or rethrow exception\n  }\n  return num;\n}\n</code></pre>\n"}],"owner":{"account_id":16296427,"reputation":5,"user_id":12376717,"display_name":"Jmeter Tea"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":517,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668436516,"creation_date":1668435270,"question_id":74433036,"body_markdown":"When calling select query on not null column so we can expect not null (int) value, Code:\r\n```\r\npublic int getNum() {\r\n    int num = 0;\r\n    try {\r\n        num = jdbcTemplate.queryForObject(&quot;select num from mytable&quot;, Integer.class);\r\n    } catch (EmptyResultDataAccessException ignored) {\r\n        // ignored not found\r\n    }\r\n    return num;\r\n}\r\n```\r\n\r\nIntellij warns:\r\n\r\n`Unboxing of &#39;jdbcTemplate.queryForObject(SQL, Integer.class)&#39; may produce &#39;NullPointerException&#39; `\r\n\r\nHow can remove Intellij warning by marking value as not null?\r\n\r\nI can&#39;t mark `jdbcTemplate` method as `@NotNullabe` or  use `@SuppressWarnings`\r\n\r\nthe value returns from SQL is always an int value that can&#39;t be null, I just want to indicate the IDE that value can&#39;t be null by its DB definition","title":"jdbcTemplate nullable warning on not null field","body":"<p>When calling select query on not null column so we can expect not null (int) value, Code:</p>\n<pre><code>public int getNum() {\n    int num = 0;\n    try {\n        num = jdbcTemplate.queryForObject(&quot;select num from mytable&quot;, Integer.class);\n    } catch (EmptyResultDataAccessException ignored) {\n        // ignored not found\n    }\n    return num;\n}\n</code></pre>\n<p>Intellij warns:</p>\n<p><code>Unboxing of 'jdbcTemplate.queryForObject(SQL, Integer.class)' may produce 'NullPointerException' </code></p>\n<p>How can remove Intellij warning by marking value as not null?</p>\n<p>I can't mark <code>jdbcTemplate</code> method as <code>@NotNullabe</code> or  use <code>@SuppressWarnings</code></p>\n<p>the value returns from SQL is always an int value that can't be null, I just want to indicate the IDE that value can't be null by its DB definition</p>\n"},{"tags":["javascript","java","vaadin","vaadin8"],"answers":[{"tags":[],"owner":{"account_id":12280349,"reputation":10212,"user_id":8962195,"display_name":"Tatu Lund"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1668436472,"creation_date":1668436472,"answer_id":74433315,"question_id":74431651,"body_markdown":"It should be as easy as using the url in the `@JavaScript` annotation in your Java class.\r\n\r\n    @JavaScrip(&quot;https://unpkg.com/friendly-challenge@0.9.8/widget.min.js&quot;)\r\n    public class MyCaptchaView implements View { \r\n    \r\n    ...\r\n    }\r\n\r\nBut, I recommend to download the js file instead and use it withing the project file as loading directly from cloud is always a risk.\r\n\r\nSee more in documentation: **https://vaadin.com/docs/v8/framework/articles/IntegratingAJavaScriptLibraryAsAnExtension**","title":"How to implement script tag in html for remote javascript module in Vaadin 8?","body":"<p>It should be as easy as using the url in the <code>@JavaScript</code> annotation in your Java class.</p>\n<pre><code>@JavaScrip(&quot;https://unpkg.com/friendly-challenge@0.9.8/widget.min.js&quot;)\npublic class MyCaptchaView implements View { \n\n...\n}\n</code></pre>\n<p>But, I recommend to download the js file instead and use it withing the project file as loading directly from cloud is always a risk.</p>\n<p>See more in documentation: <strong><a href=\"https://vaadin.com/docs/v8/framework/articles/IntegratingAJavaScriptLibraryAsAnExtension\" rel=\"nofollow noreferrer\">https://vaadin.com/docs/v8/framework/articles/IntegratingAJavaScriptLibraryAsAnExtension</a></strong></p>\n"}],"owner":{"account_id":17445788,"reputation":15,"user_id":12646876,"display_name":"snek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":160,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74433315,"answer_count":1,"score":1,"last_activity_date":1668436472,"creation_date":1668428865,"question_id":74431651,"body_markdown":"I am trying to implement FriendlyCaptcha in a Vaadin 8 application. To do this, I need to integrate two script tags which load remote javascript modules.\r\n\r\n\r\n```\r\n&lt;script type=&quot;module&quot; src=&quot;https://unpkg.com/friendly-challenge@0.9.8/widget.module.min.js&quot; async defer&gt;&lt;/script&gt;\r\n&lt;script nomodule src=&quot;https://unpkg.com/friendly-challenge@0.9.8/widget.min.js&quot; async defer&gt;&lt;/script&gt;\r\n```\r\n\r\nI am unfamiliar with Vaadin, I have spent hours trying to implement this, but I am not making any progress.\r\n\r\nI implemented it in a simple HTML file, where it works just fine:\r\n\r\n```\r\n&lt;!DOCTYPE HTML&gt;\r\n&lt;html&gt;\r\n&lt;body&gt;\r\n\r\n&lt;form METHOD=&quot;POST&quot;&gt;\r\n&lt;input type=&quot;checkbox&quot;&gt;\r\n&lt;div class=&quot;frc-captcha&quot; data-sitekey=&quot;MY-SITE-KEY&quot; data-callback=&quot;myCallback&quot;&gt;&lt;/div&gt;\r\n&lt;input type=&quot;submit&quot; id=&quot;sub&quot; disabled=true&gt;\r\n\r\n&lt;/form&gt;\r\n\r\n&lt;script&gt;\r\n\r\nfunction myCallback(){\r\n\tdocument.getElementById(&quot;sub&quot;).disabled = false;\r\n}\r\n\r\n&lt;/script&gt;\r\n\r\n&lt;script type=&quot;module&quot; src=&quot;https://unpkg.com/friendly-challenge@0.9.8/widget.module.min.js&quot; async defer&gt;&lt;/script&gt;\r\n&lt;script nomodule src=&quot;https://unpkg.com/friendly-challenge@0.9.8/widget.min.js&quot; async defer&gt;&lt;/script&gt;\r\n\r\n\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n[This is an image of the above code with the sitekey included](https://i.stack.imgur.com/JRfgI.png)\r\n\r\n\r\n\r\nI tried it like this, the div shows up, but the captcha isn&#39;t displayed:\r\n```\r\ncaptchaDiv = new Label(\r\n        &quot;&lt;div class=\\&quot;frc-captcha\\&quot; data-sitekey=\\&quot;MY_SITE_KEY\\&quot; data-callback=\\&quot;myCallback\\&quot;&gt;&lt;/div&gt;&quot; +\r\n                &quot;&lt;script type=\\&quot;module\\&quot; src=\\&quot;https://unpkg.com/friendly-challenge@0.9.8/widget.module.min.js\\&quot; async defer&gt;&lt;/script&gt;\\n&quot; +\r\n                &quot;&lt;script nomodule src=\\&quot;https://unpkg.com/friendly-challenge@0.9.8/widget.min.js\\&quot; async defer&gt;&lt;/script&gt;&quot;, ContentMode.HTML);\r\naddComponent(captchaDiv);\r\nsetComponentAlignment(captchaDiv, Alignment.MIDDLE_CENTER);\r\n```\r\n\r\nHow do I make sure the js modules are loaded on the client-side? In Vaadin 14 there is @JsModule, but this annotation doesn&#39;t exist in Vaadin 8 yet.\r\n","title":"How to implement script tag in html for remote javascript module in Vaadin 8?","body":"<p>I am trying to implement FriendlyCaptcha in a Vaadin 8 application. To do this, I need to integrate two script tags which load remote javascript modules.</p>\n<pre><code>&lt;script type=&quot;module&quot; src=&quot;https://unpkg.com/friendly-challenge@0.9.8/widget.module.min.js&quot; async defer&gt;&lt;/script&gt;\n&lt;script nomodule src=&quot;https://unpkg.com/friendly-challenge@0.9.8/widget.min.js&quot; async defer&gt;&lt;/script&gt;\n</code></pre>\n<p>I am unfamiliar with Vaadin, I have spent hours trying to implement this, but I am not making any progress.</p>\n<p>I implemented it in a simple HTML file, where it works just fine:</p>\n<pre><code>&lt;!DOCTYPE HTML&gt;\n&lt;html&gt;\n&lt;body&gt;\n\n&lt;form METHOD=&quot;POST&quot;&gt;\n&lt;input type=&quot;checkbox&quot;&gt;\n&lt;div class=&quot;frc-captcha&quot; data-sitekey=&quot;MY-SITE-KEY&quot; data-callback=&quot;myCallback&quot;&gt;&lt;/div&gt;\n&lt;input type=&quot;submit&quot; id=&quot;sub&quot; disabled=true&gt;\n\n&lt;/form&gt;\n\n&lt;script&gt;\n\nfunction myCallback(){\n    document.getElementById(&quot;sub&quot;).disabled = false;\n}\n\n&lt;/script&gt;\n\n&lt;script type=&quot;module&quot; src=&quot;https://unpkg.com/friendly-challenge@0.9.8/widget.module.min.js&quot; async defer&gt;&lt;/script&gt;\n&lt;script nomodule src=&quot;https://unpkg.com/friendly-challenge@0.9.8/widget.min.js&quot; async defer&gt;&lt;/script&gt;\n\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/JRfgI.png\" rel=\"nofollow noreferrer\">This is an image of the above code with the sitekey included</a></p>\n<p>I tried it like this, the div shows up, but the captcha isn't displayed:</p>\n<pre><code>captchaDiv = new Label(\n        &quot;&lt;div class=\\&quot;frc-captcha\\&quot; data-sitekey=\\&quot;MY_SITE_KEY\\&quot; data-callback=\\&quot;myCallback\\&quot;&gt;&lt;/div&gt;&quot; +\n                &quot;&lt;script type=\\&quot;module\\&quot; src=\\&quot;https://unpkg.com/friendly-challenge@0.9.8/widget.module.min.js\\&quot; async defer&gt;&lt;/script&gt;\\n&quot; +\n                &quot;&lt;script nomodule src=\\&quot;https://unpkg.com/friendly-challenge@0.9.8/widget.min.js\\&quot; async defer&gt;&lt;/script&gt;&quot;, ContentMode.HTML);\naddComponent(captchaDiv);\nsetComponentAlignment(captchaDiv, Alignment.MIDDLE_CENTER);\n</code></pre>\n<p>How do I make sure the js modules are loaded on the client-side? In Vaadin 14 there is @JsModule, but this annotation doesn't exist in Vaadin 8 yet.</p>\n"},{"tags":["java","input","java.util.scanner","user-input"],"comments":[{"owner":{"account_id":2119809,"reputation":50994,"user_id":1883316,"display_name":"Tim Roberts"},"score":0,"creation_date":1668231325,"post_id":74410577,"comment_id":131360497,"body_markdown":"Did you read the documentation?  That&#39;s all I did.  It resets the default delimiter, if it had been changed.  You didn&#39;t change it, so you don&#39;t need to reset.","body":"Did you read the documentation?  That&#39;s all I did.  It resets the default delimiter, if it had been changed.  You didn&#39;t change it, so you don&#39;t need to reset."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1668232976,"post_id":74410577,"comment_id":131360612,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":26900313,"reputation":83,"user_id":20477563,"display_name":"Syed Asad Manzoor"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668248055,"creation_date":1668231749,"answer_id":74410648,"question_id":74410577,"body_markdown":"`reset()` is explained [here with examples](https://www.geeksforgeeks.org/scanner-reset-method-in-java-with-examples/?tab=article)\r\n\r\nand as per documents purpose stated as:\r\n\r\n&gt; On resetting a scanner **discards** all of its explicit state information **which may have been changed by *invocations of `useDelimiter(java.util.regex.Pattern)`, `useLocale(java.util.Locale)`, or `useRadix(int)`.***\r\n\r\nDocs reference:\r\n[https://docs.oracle.com/javase/8/docs/api/java/util/Scanner.html#reset--](https://docs.oracle.com/javase/8/docs/api/java/util/Scanner.html#reset--:~:text=scanner%20is%20closed-,reset,1.6,-SKIP%20NAVIGATION%20LINKS)","title":"What does the reset() method of Scanner do?","body":"<p><code>reset()</code> is explained <a href=\"https://www.geeksforgeeks.org/scanner-reset-method-in-java-with-examples/?tab=article\" rel=\"nofollow noreferrer\">here with examples</a></p>\n<p>and as per documents purpose stated as:</p>\n<blockquote>\n<p>On resetting a scanner <strong>discards</strong> all of its explicit state information <strong>which may have been changed by <em>invocations of <code>useDelimiter(java.util.regex.Pattern)</code>, <code>useLocale(java.util.Locale)</code>, or <code>useRadix(int)</code>.</em></strong></p>\n</blockquote>\n<p>Docs reference:\n<a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Scanner.html#reset--:%7E:text=scanner%20is%20closed-,reset,1.6,-SKIP%20NAVIGATION%20LINKS\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/Scanner.html#reset--</a></p>\n"}],"owner":{"account_id":23431661,"reputation":3,"user_id":17490390,"display_name":"Mohammed Taqi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74410648,"answer_count":1,"score":0,"last_activity_date":1668436075,"creation_date":1668230631,"question_id":74410577,"body_markdown":"I have a simple Java program using `java.util.Scanner` as follows:\r\n```java\r\npackage com.company;\r\n\r\nimport java.io.IOException;\r\nimport java.util.Scanner;\r\n\r\npublic class Favorite_Number {\r\n    public static void main(String[] args) throws IOException {\r\n        int X,sum = 0,rem = 0,t;\r\n        Scanner s = new Scanner(System.in);\r\n        t = s.nextInt();\r\n        while(t!=0) {\r\n            s.reset();  // &lt;-- what does it do?\r\n            X = s.nextInt();\r\n            while (X &gt; 0) {\r\n                rem = X % 10;\r\n                if (rem == 5) {\r\n                    sum++;\r\n                }\r\n                X = X / 10;\r\n            }\r\n            System.out.println(sum);\r\n            sum = 0;\r\n            t--;\r\n        }\r\n\r\n    }\r\n}\r\n```\r\n\r\nWhat does `s.reset()` do? If I remove it, the program still works fine.","title":"What does the reset() method of Scanner do?","body":"<p>I have a simple Java program using <code>java.util.Scanner</code> as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.company;\n\nimport java.io.IOException;\nimport java.util.Scanner;\n\npublic class Favorite_Number {\n    public static void main(String[] args) throws IOException {\n        int X,sum = 0,rem = 0,t;\n        Scanner s = new Scanner(System.in);\n        t = s.nextInt();\n        while(t!=0) {\n            s.reset();  // &lt;-- what does it do?\n            X = s.nextInt();\n            while (X &gt; 0) {\n                rem = X % 10;\n                if (rem == 5) {\n                    sum++;\n                }\n                X = X / 10;\n            }\n            System.out.println(sum);\n            sum = 0;\n            t--;\n        }\n\n    }\n}\n</code></pre>\n<p>What does <code>s.reset()</code> do? If I remove it, the program still works fine.</p>\n"},{"tags":["java","awt","textfield"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1668410633,"post_id":74428068,"comment_id":131389411,"body_markdown":"Is this a Swing GUI? If so, then neither is correct, and the best solution would be to add a DocumentFilter to the text field&#39;s Document. Please review MadProgrammer&#39;s answer [here](https://stackoverflow.com/a/24473097/522444).","body":"Is this a Swing GUI? If so, then neither is correct, and the best solution would be to add a DocumentFilter to the text field&#39;s Document. Please review MadProgrammer&#39;s answer <a href=\"https://stackoverflow.com/a/24473097/522444\">here</a>."}],"answers":[{"tags":[],"owner":{"account_id":7547772,"reputation":8593,"user_id":5730279,"display_name":"hc_dev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668410861,"creation_date":1668410861,"answer_id":74428187,"question_id":74428068,"body_markdown":"Both will stop the text-field from consuming further keys.\r\n\r\n1. calling [`InputEvent.consume()`][1] marks the event as consumed, so that the textfield will not consume it and add the key to it&#39;s contents.\r\n   See https://stackoverflow.com/questions/12550548/what-does-e-consume-do-in-java\r\n2. disabling editing on the textfield with `setEditable(false)` will also prevent the textfield from editing, that is consuming the key. But it also makes this behaviour, the lock, visible to the user. \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/awt/event/InputEvent.html#consume--","title":"Is it okey to use evt.consume() in this case?","body":"<p>Both will stop the text-field from consuming further keys.</p>\n<ol>\n<li>calling <a href=\"https://docs.oracle.com/javase/8/docs/api/java/awt/event/InputEvent.html#consume--\" rel=\"nofollow noreferrer\"><code>InputEvent.consume()</code></a> marks the event as consumed, so that the textfield will not consume it and add the key to it's contents.\nSee <a href=\"https://stackoverflow.com/questions/12550548/what-does-e-consume-do-in-java\">What does e.consume() do in java</a></li>\n<li>disabling editing on the textfield with <code>setEditable(false)</code> will also prevent the textfield from editing, that is consuming the key. But it also makes this behaviour, the lock, visible to the user.</li>\n</ol>\n"}],"owner":{"account_id":26394027,"reputation":11,"user_id":20045455,"display_name":"Nicol&#225;s Ortega Mu&#241;oz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":74428187,"answer_count":1,"score":-2,"last_activity_date":1668435990,"creation_date":1668410141,"question_id":74428068,"body_markdown":"So I have a textfield which I want to be max length 10 and only letters, this is what I&#39;ve came up with: \r\n\r\n    private void textField1KeyTyped(java.awt.event.KeyEvent evt) {                                      \r\n        \r\n        char c= evt.getKeyChar();\r\n        if( !(Character.isAlphabetic(c)) ){\r\n            evt.consume();   \r\n        }\r\n        if ((textField1.getText().length()) &gt; 10){\r\n            evt.consume();\r\n        }  \r\n    }  \r\n\r\nIt kind of works but I&#39;ve seen some tutorials that use something like this:\r\n\r\n    private void textField1KeyTyped(java.awt.event.KeyEvent evt) {                                      \r\n        \r\n        char c= evt.getKeyChar();\r\n        if( (Character.isAlphabetic(c)) ){\r\n            if((textField1.getText().length()) &lt;= 10){\r\n                textField1.setEditable(true);\r\n            }else {\r\n                textField1.setEditable(false);\r\n            } \r\n        }else {\r\n            if( (c == KeyEvent.VK_BACK_SPACE) || (c == KeyEvent.VK_DELETE) ){\r\n                textField1.setEditable(true);\r\n            }else {\r\n                textField1.setEditable(false);\r\n            }\r\n        }\r\n     } \r\n\r\nWhich one is right?","title":"Is it okey to use evt.consume() in this case?","body":"<p>So I have a textfield which I want to be max length 10 and only letters, this is what I've came up with:</p>\n<pre><code>private void textField1KeyTyped(java.awt.event.KeyEvent evt) {                                      \n    \n    char c= evt.getKeyChar();\n    if( !(Character.isAlphabetic(c)) ){\n        evt.consume();   \n    }\n    if ((textField1.getText().length()) &gt; 10){\n        evt.consume();\n    }  \n}  \n</code></pre>\n<p>It kind of works but I've seen some tutorials that use something like this:</p>\n<pre><code>private void textField1KeyTyped(java.awt.event.KeyEvent evt) {                                      \n    \n    char c= evt.getKeyChar();\n    if( (Character.isAlphabetic(c)) ){\n        if((textField1.getText().length()) &lt;= 10){\n            textField1.setEditable(true);\n        }else {\n            textField1.setEditable(false);\n        } \n    }else {\n        if( (c == KeyEvent.VK_BACK_SPACE) || (c == KeyEvent.VK_DELETE) ){\n            textField1.setEditable(true);\n        }else {\n            textField1.setEditable(false);\n        }\n    }\n } \n</code></pre>\n<p>Which one is right?</p>\n"},{"tags":["java","spring-boot","apache-kafka","spring-kafka"],"answers":[{"comments":[{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1668435600,"post_id":74413902,"comment_id":131397510,"body_markdown":"`@KafkaListener` is `@Repeatable`.","body":"<code>@KafkaListener</code> is <code>@Repeatable</code>."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1668436470,"post_id":74413902,"comment_id":131397822,"body_markdown":"I still find it easier for testing purposes to extract a common processing method","body":"I still find it easier for testing purposes to extract a common processing method"}],"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668264459,"creation_date":1668264459,"answer_id":74413902,"question_id":74408271,"body_markdown":"I&#39;m not sure about `@ManagedListener` usage here since `@KafkaListener` is what&#39;s more commonly used to setup a Kafka consumer. This annotation already supports consuming multiple topics on its own (assuming same consumer config factory), so you wouldn&#39;t need multiple methods anyway. \r\n\r\nBut the annotations don&#39;t prevent you from calling any common methods.\r\n\r\nI&#39;d suggest extracting all common logic to a function that is not annotated as a Kafka listener, however. ","title":"Multiple @ManagedListener s for different Kafka topics calling the same method","body":"<p>I'm not sure about <code>@ManagedListener</code> usage here since <code>@KafkaListener</code> is what's more commonly used to setup a Kafka consumer. This annotation already supports consuming multiple topics on its own (assuming same consumer config factory), so you wouldn't need multiple methods anyway.</p>\n<p>But the annotations don't prevent you from calling any common methods.</p>\n<p>I'd suggest extracting all common logic to a function that is not annotated as a Kafka listener, however.</p>\n"},{"tags":[],"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668435538,"creation_date":1668435538,"answer_id":74433104,"question_id":74408271,"body_markdown":"I don&#39;t know what `@ManagedListener` is, but `@KafkaListener` is a `@Repeatable` annotation (you can put multiple annotations on a method).","title":"Multiple @ManagedListener s for different Kafka topics calling the same method","body":"<p>I don't know what <code>@ManagedListener</code> is, but <code>@KafkaListener</code> is a <code>@Repeatable</code> annotation (you can put multiple annotations on a method).</p>\n"}],"owner":{"account_id":26904474,"reputation":1,"user_id":20481080,"display_name":"GoHamz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":308,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1668435538,"creation_date":1668201847,"question_id":74408271,"body_markdown":"The existing code I’m working with is creating a new method with duplicate code each time because it is using @**ManagedListener** configured for the different Kafka Topics and diff configurations using **Java Spring Boot**.\r\n\r\n\r\n```\r\n`@ManagedListener({configurations for Kafka topic-a})\r\nmethod1(){\r\n//logic to handle data\r\n}\r\n\r\n@ManagedListener({configurations for Kafka topic-b})\r\nmethod2(){\r\n//same logic as method1 copied\r\n}\r\n\r\n@ManagedListener({configurations for Kafka topic-c})\r\nmethod3(){\r\n//same logic as method1 copied again\r\n}`\r\n```\r\n\r\nIs there a way I can have a listener configured to different Kafka topics configurations that all call method1 directly? I’m  trying to find a way to avoid duplicate code.\r\n\r\nI tried to add multiple @managedListener annotations to the same method, but it seems like it has to be one to one. It will work if I duplicate the code, but it seems counterintuitive\r\n\r\nThe expected result is to be able to receive messages from multiple different Kafka topics.\r\n","title":"Multiple @ManagedListener s for different Kafka topics calling the same method","body":"<p>The existing code I’m working with is creating a new method with duplicate code each time because it is using @<strong>ManagedListener</strong> configured for the different Kafka Topics and diff configurations using <strong>Java Spring Boot</strong>.</p>\n<pre><code>`@ManagedListener({configurations for Kafka topic-a})\nmethod1(){\n//logic to handle data\n}\n\n@ManagedListener({configurations for Kafka topic-b})\nmethod2(){\n//same logic as method1 copied\n}\n\n@ManagedListener({configurations for Kafka topic-c})\nmethod3(){\n//same logic as method1 copied again\n}`\n</code></pre>\n<p>Is there a way I can have a listener configured to different Kafka topics configurations that all call method1 directly? I’m  trying to find a way to avoid duplicate code.</p>\n<p>I tried to add multiple @managedListener annotations to the same method, but it seems like it has to be one to one. It will work if I duplicate the code, but it seems counterintuitive</p>\n<p>The expected result is to be able to receive messages from multiple different Kafka topics.</p>\n"},{"tags":["java","mybatis","spring-mybatis","dynamicquery"],"comments":[{"owner":{"account_id":83276,"reputation":6162,"user_id":233598,"accept_rate":76,"display_name":"MohamedSanaulla"},"score":0,"creation_date":1668507352,"post_id":74433049,"comment_id":131416353,"body_markdown":"I generally prefer defining the SQL in the XML file. Easier to write and we can even copy paste the query in to SQL tool to test it. So it would also solve your problem.","body":"I generally prefer defining the SQL in the XML file. Easier to write and we can even copy paste the query in to SQL tool to test it. So it would also solve your problem."},{"owner":{"account_id":1314580,"reputation":3299,"user_id":1261766,"display_name":"ave"},"score":0,"creation_date":1668542084,"post_id":74433049,"comment_id":131429594,"body_markdown":"@user2298581 The built-in `SQL` class is pretty basic. The mybatis-dynamic-sql that is in your dependencies supports more advanced syntax. Check out the [details](https://github.com/mybatis/mybatis-dynamic-sql). Also, you can specify `databaseId` in `@SelectProvider` to support multiple DB syntax. See the [doc](https://mybatis.org/mybatis-3/java-api.html).","body":"@user2298581 The built-in <code>SQL</code> class is pretty basic. The mybatis-dynamic-sql that is in your dependencies supports more advanced syntax. Check out the <a href=\"https://github.com/mybatis/mybatis-dynamic-sql\" rel=\"nofollow noreferrer\">details</a>. Also, you can specify <code>databaseId</code> in <code>@SelectProvider</code> to support multiple DB syntax. See the <a href=\"https://mybatis.org/mybatis-3/java-api.html\" rel=\"nofollow noreferrer\">doc</a>."}],"owner":{"account_id":2658349,"reputation":582,"user_id":2298581,"accept_rate":43,"display_name":"user2298581"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":420,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668435333,"creation_date":1668435333,"question_id":74433049,"body_markdown":"I&#39;m trying to understand how to do dynamic queries for pagination with myBatis in my java spring-boot application\r\n\r\nMy problem is that the database version of my application is Oracle 11.2 which doesn&#39;t support LIMIT &amp; OFFSET in the query.\r\n\r\nThe only solution I&#39;ve found to this is using ROWNUM in this way:\r\n\r\n```\r\nSELECT *  FROM   \r\n(SELECT te.*, ROWNUM AS rn FROM  TEST_EVENT te  order by te.EVENT_ID)\r\n a WHERE  a.rn &gt;= #{resultFrom} AND    a.rn &lt;= #{resultTo}\r\n```\r\nHowever I&#39;m not able to implement inner query with myBatis sqlBuilder. \r\n\r\nAt least I&#39;ve tried like this and it gives me compilation error:\r\n```\r\npublic String selectTestEventsFromDate(Long dateFrom ,int resultFrom, int resultTo) {\r\n        return new SQL() {{\r\n\r\n            SELECT(&quot;*&quot;);\r\n            FROM(\r\n\t\t\t\tSELECT(&quot;te.*, ROWNUM AS rn&quot;);\r\n\t\t\t\tFROM(&quot;  TEST_EVENT te&quot;);\r\n\t\t\t\tif (dateFrom != null) {\r\n\t\t\t\t\tWHERE(&quot;te.TIMESTMP &gt;= #{dateFrom }&quot;);\r\n\t\t\t\t}\r\n\t\t\t\tORDER_BY(&quot;te.EVENT_ID&quot;);\r\n\t\t\ta)\r\n            WHERE  a.rn &gt;= #{resultFrom} AND    a.rn &lt;= #{resultTo}\r\n        }}.toString();\r\n    }\r\n```\r\n**What&#39;s the best way to achieve pagination &amp; dynamic queries with Mybatis without using LIMIT &amp; OFFSET in the query?**\r\n\r\nAdditional code:\r\n\r\nIn my TestEventMapper.java:\r\n```\r\n    @SelectProvider(type = testEventSqlBuilder.class, method = &quot;selectTestEventsFromDate&quot;)\r\n    ArrayList&lt;TestEventEntity&gt; selectTestEventsProvider(Long dateFrom, int resultFrom, int resultTo);\r\n```\r\n\r\npom.xml:\r\n```\r\n&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;${ojdbc.artifactId}&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${ojdbc.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.1.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.mybatis.dynamic-sql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mybatis-dynamic-sql&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.3.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.mybatis&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mybatis-spring&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.3.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n ","title":"sqlBuilder pagination with MyBatis without Limit &amp; Offset in the query","body":"<p>I'm trying to understand how to do dynamic queries for pagination with myBatis in my java spring-boot application</p>\n<p>My problem is that the database version of my application is Oracle 11.2 which doesn't support LIMIT &amp; OFFSET in the query.</p>\n<p>The only solution I've found to this is using ROWNUM in this way:</p>\n<pre><code>SELECT *  FROM   \n(SELECT te.*, ROWNUM AS rn FROM  TEST_EVENT te  order by te.EVENT_ID)\n a WHERE  a.rn &gt;= #{resultFrom} AND    a.rn &lt;= #{resultTo}\n</code></pre>\n<p>However I'm not able to implement inner query with myBatis sqlBuilder.</p>\n<p>At least I've tried like this and it gives me compilation error:</p>\n<pre><code>public String selectTestEventsFromDate(Long dateFrom ,int resultFrom, int resultTo) {\n        return new SQL() {{\n\n            SELECT(&quot;*&quot;);\n            FROM(\n                SELECT(&quot;te.*, ROWNUM AS rn&quot;);\n                FROM(&quot;  TEST_EVENT te&quot;);\n                if (dateFrom != null) {\n                    WHERE(&quot;te.TIMESTMP &gt;= #{dateFrom }&quot;);\n                }\n                ORDER_BY(&quot;te.EVENT_ID&quot;);\n            a)\n            WHERE  a.rn &gt;= #{resultFrom} AND    a.rn &lt;= #{resultTo}\n        }}.toString();\n    }\n</code></pre>\n<p><strong>What's the best way to achieve pagination &amp; dynamic queries with Mybatis without using LIMIT &amp; OFFSET in the query?</strong></p>\n<p>Additional code:</p>\n<p>In my TestEventMapper.java:</p>\n<pre><code>    @SelectProvider(type = testEventSqlBuilder.class, method = &quot;selectTestEventsFromDate&quot;)\n    ArrayList&lt;TestEventEntity&gt; selectTestEventsProvider(Long dateFrom, int resultFrom, int resultTo);\n</code></pre>\n<p>pom.xml:</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\n            &lt;artifactId&gt;${ojdbc.artifactId}&lt;/artifactId&gt;\n            &lt;version&gt;${ojdbc.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;2.1.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mybatis.dynamic-sql&lt;/groupId&gt;\n            &lt;artifactId&gt;mybatis-dynamic-sql&lt;/artifactId&gt;\n            &lt;version&gt;1.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mybatis&lt;/groupId&gt;\n            &lt;artifactId&gt;mybatis-spring&lt;/artifactId&gt;\n            &lt;version&gt;1.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","switch-statement"],"comments":[{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1668435187,"post_id":74432969,"comment_id":131397349,"body_markdown":"You are missing a `break` *behind* each nested `switch`.","body":"You are missing a <code>break</code> <i>behind</i> each nested <code>switch</code>."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1668435231,"post_id":74432969,"comment_id":131397362,"body_markdown":"Please note: nested switches make it somewhat hard to read. Why don&#39;t you put that code into a separate method?","body":"Please note: nested switches make it somewhat hard to read. Why don&#39;t you put that code into a separate method?"},{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1668436243,"post_id":74432969,"comment_id":131397737,"body_markdown":"Or https://docs.oracle.com/en/java/javase/13/language/switch-expressions.html","body":"Or <a href=\"https://docs.oracle.com/en/java/javase/13/language/switch-expressions.html\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/13/language/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668435191,"creation_date":1668435191,"answer_id":74433010,"question_id":74432969,"body_markdown":"After the content of every `case` block, you want to `break` out. Your __inner__ switch&#39;s `case` blocks do that, but your outers don&#39;t. Add a `break;` after the closing brace of the inner `switch` and before the next `case`.\r\n\r\nBecause the `break;` is missing, you roll straight into the next `case` block.","title":"Nested switch statement is printing the incorrect answer","body":"<p>After the content of every <code>case</code> block, you want to <code>break</code> out. Your <strong>inner</strong> switch's <code>case</code> blocks do that, but your outers don't. Add a <code>break;</code> after the closing brace of the inner <code>switch</code> and before the next <code>case</code>.</p>\n<p>Because the <code>break;</code> is missing, you roll straight into the next <code>case</code> block.</p>\n"},{"tags":[],"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668435233,"creation_date":1668435233,"answer_id":74433023,"question_id":74432969,"body_markdown":"You need additional `break` statements after the nested `switch` so that you `break` out of the outer `switch` as well: \r\n\r\n        switch(planet.charAt(0))\r\n        {\r\n            case &#39;s&#39;:\r\n            case &#39;S&#39;:\r\n                switch(planet.charAt(1))\r\n                {\r\n                case &#39;u&#39;:\r\n                case &#39;U&#39;:\r\n                    ...\r\n                    break;\r\n                }\r\n                break; // this one is needed.\r\n            case &#39;m&#39;:\r\n                ...\r\n\r\n\r\nAlternatively you can label both `switch` statements and then do `break outer;`.\r\n","title":"Nested switch statement is printing the incorrect answer","body":"<p>You need additional <code>break</code> statements after the nested <code>switch</code> so that you <code>break</code> out of the outer <code>switch</code> as well:</p>\n<pre><code>    switch(planet.charAt(0))\n    {\n        case 's':\n        case 'S':\n            switch(planet.charAt(1))\n            {\n            case 'u':\n            case 'U':\n                ...\n                break;\n            }\n            break; // this one is needed.\n        case 'm':\n            ...\n</code></pre>\n<p>Alternatively you can label both <code>switch</code> statements and then do <code>break outer;</code>.</p>\n"}],"owner":{"account_id":26869359,"reputation":19,"user_id":20451609,"display_name":"b-rad90"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1668437127,"accepted_answer_id":74433023,"answer_count":2,"score":-1,"last_activity_date":1668435233,"creation_date":1668434963,"question_id":74432969,"body_markdown":"```\r\nimport java.io.*;\r\nimport java.util.*;\r\n\r\npublic class Planets \r\n{\r\n\r\n\tpublic static void main(String[] args) throws IOException\r\n\t{\r\n\t\tScanner in;\r\n\t\tin = new Scanner(System.in);\r\n\t\tboolean runAgain = true;\r\n\t\tSystem.out.println(&quot;Starting program...\\n\\n&quot;);\r\n\t\t\r\n\t\tdouble weight = getWeight();\r\n\t\t\r\n\t\twhile(runAgain)\r\n\t\t{\r\n\t\t\tString planet = getPlanet();\r\n\t\t\tcalculateWeight(weight, planet);\r\n\t\t\t\r\n\t\t\tSystem.out.println(&quot;\\nWould you like to see your weight on a different planet? (Yes or No)&quot;);\r\n\t\t\tString input = in.nextLine();\r\n\t\t\tif(input.charAt(0)==&#39;N&#39; || input.charAt(0)==&#39;n&#39;)\r\n\t\t\t{\r\n\t\t\t\trunAgain = false;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\t\r\n\r\n\t} //end main\r\n\t\r\n\tpublic static double getWeight() throws IOException\r\n\t{ //Prompts user to enter their weight\r\n\t\tScanner in;\r\n\t\tin = new Scanner(System.in);\r\n\t\tSystem.out.println(&quot;Greetings! This program calculates how much you would weigh on other planets.\\n\\nPlease enter your weight (lbs.): &quot;);\r\n\t\tdouble weight = in.nextDouble();\r\n\t\treturn weight;\r\n\t}\r\n\t\r\n\tpublic static String getPlanet() throws IOException\r\n\t{ //Prompts user to enter their planet\r\n\t\tScanner in;\r\n\t\tin = new Scanner(System.in);\r\n\t\tSystem.out.println(&quot;\\nChoose your planet:\\nSun\\nMoon\\nSaturn\\nMercury\\nMars\\nUranus\\nVenus\\nJupiter\\nNeptune&quot;);\r\n\t\tString planet = in.nextLine();\r\n\t\treturn planet;\r\n\t}\r\n\t\r\n\tpublic static void calculateWeight(double weight, String planet) throws IOException\r\n\t{ //Outputs the weight of the given planet ; takes two parameters weight and planet\r\n\t\tswitch(planet.charAt(0))\r\n\t\t{\r\n\t\t\tcase &#39;s&#39;:\r\n\t\t\tcase &#39;S&#39;:\r\n\t\t\t\tswitch(planet.charAt(1))\r\n\t\t\t\t{\r\n\t\t\t\tcase &#39;u&#39;:\r\n\t\t\t\tcase &#39;U&#39;:\r\n\t\t\t\t\tSystem.out.println(&quot;Your weight on the Earth is &quot; + weight + &quot; lbs.\\nYour weight on the Sun is &quot; + 27.94*weight);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase &#39;a&#39;:\r\n\t\t\t\tcase &#39;A&#39;:\r\n\t\t\t\t\tSystem.out.println(&quot;Your weight on the Earth is &quot; + weight + &quot; lbs.\\nYour weight on Saturn is &quot; + .91*weight);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\tcase &#39;m&#39;:\r\n\t\t\tcase &#39;M&#39;:\r\n\t\t\tswitch(planet.charAt(1))\r\n\t\t\t{\r\n\t\t\t\tcase &#39;o&#39;:\r\n\t\t\t\tcase &#39;O&#39;:\r\n\t\t\t\t\tSystem.out.println(&quot;Your weight on the Earth is &quot; + weight + &quot; lbs.\\nYour weight on the Moon is &quot; + .17*weight);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase &#39;e&#39;:\r\n\t\t\t\tcase &#39;E&#39;:\r\n\t\t\t\t\tSystem.out.println(&quot;Your weight on the Earth is &quot; + weight + &quot; lbs.\\nYour weight on Mercury is &quot; + .37*weight);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase &#39;a&#39;:\r\n\t\t\t\tcase &#39;A&#39;:\r\n\t\t\t\t\tSystem.out.println(&quot;Your weight on the Earth is &quot; + weight + &quot; lbs.\\nYour weight on Mars is &quot; + .38*weight);\r\n\t\t\t\t\tbreak;\r\n\t\t\t} \r\n\t\t\tcase &#39;u&#39;:\r\n\t\t\tcase &#39;U&#39;:\r\n\t\t\t\tSystem.out.println(&quot;Your weight on Earth is &quot; + weight + &quot; lbs.\\nYour weight on Uranus is &quot; + .88*weight);\r\n\t\t\t\tbreak;\r\n\t\t\tcase &#39;v&#39;:\r\n\t\t\tcase &#39;V&#39;:\r\n\t\t\t\tSystem.out.println(&quot;Your weight on Earth is &quot; + weight + &quot; lbs.\\nYour weight on Venus is &quot; + .90*weight);\r\n\t\t\t\tbreak;\r\n\t\t\tcase &#39;j&#39;:\r\n\t\t\tcase &#39;J&#39;:\r\n\t\t\t\tSystem.out.println(&quot;Your weight on Earth is &quot; + weight + &quot; lbs.\\nYour weight on Jupiter is &quot; + 2.64*weight);\r\n\t\t\t\tbreak;\r\n\t\t\tcase &#39;n&#39;:\r\n\t\t\tcase &#39;N&#39;:\r\n\t\t\t\tSystem.out.println(&quot;Your weight on Earth is &quot; + weight + &quot; lbs.\\nYour weight on Neptune is &quot; + 1.12*weight);\r\n\t\t\t\tbreak;\r\n\t\t} \r\n\t} \r\n\t\r\n} //end class\r\n\r\n```\r\n\r\n\r\nWorking on an assignment for my CS101 class. Our professor wants us to print our weight on a specific planet using nested switch statements with charAt to determine which planet the user is talking about. The nested switch statement is not doing as expected.\r\n\r\nErrors: \r\nWhen I pick Sun it outputs the result of Sun AND Uranus\r\n\r\nWhen I pick Moon it outputs the result of Moon AND Uranus\r\n\r\nWhen I pick Saturn it outputs the result of Saturn, Mars, AND Uranus.\r\n\r\nWhen I pick Mercury it outputs the result of Mercury AND Uranus\r\n\r\nWhen I pick Mars it outputs the result of Mars AND Mercury.\r\n\r\n\r\nI don&#39;t understand why it is printing the result of multiple planets, even if the letter at the index does not match. Uranus, Venus, Jupiter, and Neptune works fine and prints as expected.","title":"Nested switch statement is printing the incorrect answer","body":"<pre><code>import java.io.*;\nimport java.util.*;\n\npublic class Planets \n{\n\n    public static void main(String[] args) throws IOException\n    {\n        Scanner in;\n        in = new Scanner(System.in);\n        boolean runAgain = true;\n        System.out.println(&quot;Starting program...\\n\\n&quot;);\n        \n        double weight = getWeight();\n        \n        while(runAgain)\n        {\n            String planet = getPlanet();\n            calculateWeight(weight, planet);\n            \n            System.out.println(&quot;\\nWould you like to see your weight on a different planet? (Yes or No)&quot;);\n            String input = in.nextLine();\n            if(input.charAt(0)=='N' || input.charAt(0)=='n')\n            {\n                runAgain = false;\n            }\n        }\n            \n\n    } //end main\n    \n    public static double getWeight() throws IOException\n    { //Prompts user to enter their weight\n        Scanner in;\n        in = new Scanner(System.in);\n        System.out.println(&quot;Greetings! This program calculates how much you would weigh on other planets.\\n\\nPlease enter your weight (lbs.): &quot;);\n        double weight = in.nextDouble();\n        return weight;\n    }\n    \n    public static String getPlanet() throws IOException\n    { //Prompts user to enter their planet\n        Scanner in;\n        in = new Scanner(System.in);\n        System.out.println(&quot;\\nChoose your planet:\\nSun\\nMoon\\nSaturn\\nMercury\\nMars\\nUranus\\nVenus\\nJupiter\\nNeptune&quot;);\n        String planet = in.nextLine();\n        return planet;\n    }\n    \n    public static void calculateWeight(double weight, String planet) throws IOException\n    { //Outputs the weight of the given planet ; takes two parameters weight and planet\n        switch(planet.charAt(0))\n        {\n            case 's':\n            case 'S':\n                switch(planet.charAt(1))\n                {\n                case 'u':\n                case 'U':\n                    System.out.println(&quot;Your weight on the Earth is &quot; + weight + &quot; lbs.\\nYour weight on the Sun is &quot; + 27.94*weight);\n                    break;\n                case 'a':\n                case 'A':\n                    System.out.println(&quot;Your weight on the Earth is &quot; + weight + &quot; lbs.\\nYour weight on Saturn is &quot; + .91*weight);\n                    break;\n                }\n            case 'm':\n            case 'M':\n            switch(planet.charAt(1))\n            {\n                case 'o':\n                case 'O':\n                    System.out.println(&quot;Your weight on the Earth is &quot; + weight + &quot; lbs.\\nYour weight on the Moon is &quot; + .17*weight);\n                    break;\n                case 'e':\n                case 'E':\n                    System.out.println(&quot;Your weight on the Earth is &quot; + weight + &quot; lbs.\\nYour weight on Mercury is &quot; + .37*weight);\n                    break;\n                case 'a':\n                case 'A':\n                    System.out.println(&quot;Your weight on the Earth is &quot; + weight + &quot; lbs.\\nYour weight on Mars is &quot; + .38*weight);\n                    break;\n            } \n            case 'u':\n            case 'U':\n                System.out.println(&quot;Your weight on Earth is &quot; + weight + &quot; lbs.\\nYour weight on Uranus is &quot; + .88*weight);\n                break;\n            case 'v':\n            case 'V':\n                System.out.println(&quot;Your weight on Earth is &quot; + weight + &quot; lbs.\\nYour weight on Venus is &quot; + .90*weight);\n                break;\n            case 'j':\n            case 'J':\n                System.out.println(&quot;Your weight on Earth is &quot; + weight + &quot; lbs.\\nYour weight on Jupiter is &quot; + 2.64*weight);\n                break;\n            case 'n':\n            case 'N':\n                System.out.println(&quot;Your weight on Earth is &quot; + weight + &quot; lbs.\\nYour weight on Neptune is &quot; + 1.12*weight);\n                break;\n        } \n    } \n    \n} //end class\n\n</code></pre>\n<p>Working on an assignment for my CS101 class. Our professor wants us to print our weight on a specific planet using nested switch statements with charAt to determine which planet the user is talking about. The nested switch statement is not doing as expected.</p>\n<p>Errors:\nWhen I pick Sun it outputs the result of Sun AND Uranus</p>\n<p>When I pick Moon it outputs the result of Moon AND Uranus</p>\n<p>When I pick Saturn it outputs the result of Saturn, Mars, AND Uranus.</p>\n<p>When I pick Mercury it outputs the result of Mercury AND Uranus</p>\n<p>When I pick Mars it outputs the result of Mars AND Mercury.</p>\n<p>I don't understand why it is printing the result of multiple planets, even if the letter at the index does not match. Uranus, Venus, Jupiter, and Neptune works fine and prints as expected.</p>\n"},{"tags":["java","spring","ssl","ssl-certificate","spring-webclient"],"comments":[{"owner":{"account_id":471659,"reputation":3578,"user_id":879592,"accept_rate":84,"display_name":"Yan"},"score":0,"creation_date":1668276628,"post_id":74408231,"comment_id":131368021,"body_markdown":"Are you connecting to uri `https://broker` or `http://localhost` otherwise could be hostname verification failure","body":"Are you connecting to uri <code>https:&#47;&#47;broker</code> or <code>http:&#47;&#47;localhost</code> otherwise could be hostname verification failure"},{"owner":{"account_id":2316968,"reputation":2119,"user_id":2033800,"accept_rate":38,"display_name":"nicholasnet"},"score":0,"creation_date":1668435249,"post_id":74408231,"comment_id":131397371,"body_markdown":"I am getting error for this call `https://schema-registry:8081/subjects/connect-status-value/versions`","body":"I am getting error for this call <code>https:&#47;&#47;schema-registry:8081&#47;subjects&#47;connect-status-value&#47;v&zwnj;&#8203;ersions</code>"},{"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"score":1,"creation_date":1668436356,"post_id":74408231,"comment_id":131397772,"body_markdown":"Looks like you are not having valid server certificates in your truststore. Can you please cross check","body":"Looks like you are not having valid server certificates in your truststore. Can you please cross check"},{"owner":{"account_id":471659,"reputation":3578,"user_id":879592,"accept_rate":84,"display_name":"Yan"},"score":0,"creation_date":1668446951,"post_id":74408231,"comment_id":131401852,"body_markdown":"Run `curl -vI https://schema-registry:8081/subjects/connect-status-value/versions` which will return header only and will show SSL certificate information.  Make sure you are trusting the Issuer","body":"Run <code>curl -vI https:&#47;&#47;schema-registry:8081&#47;subjects&#47;connect-status-value&#47;v&zwnj;&#8203;ersions</code> which will return header only and will show SSL certificate information.  Make sure you are trusting the Issuer"}],"owner":{"account_id":2316968,"reputation":2119,"user_id":2033800,"accept_rate":38,"display_name":"nicholasnet"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":409,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1668435198,"creation_date":1668201545,"question_id":74408231,"body_markdown":"I am trying to call site with `https` protocol using Spring `WebClient` using following code.\r\n```\r\nobject ClientFactory {\r\n\r\n    @Throws(\r\n        NoSuchAlgorithmException::class,\r\n        IOException::class,\r\n        KeyStoreException::class,\r\n        CertificateException::class,\r\n        UnrecoverableKeyException::class\r\n    )\r\n    @JvmStatic\r\n    fun getClient(\r\n        trustStoreLocation: String,\r\n        trustStorePassword: String,\r\n        keyStoreLocation: String,\r\n        keyStorePassword: String\r\n    ): WebClient.Builder {\r\n        if (trustStorePassword.isBlank() || trustStoreLocation.isBlank()) {\r\n            return WebClient.builder()\r\n        }\r\n\r\n        val contextBuilder = SslContextBuilder.forClient()\r\n\r\n        val trustStore = KeyStore.getInstance(&quot;JKS&quot;)\r\n        trustStore.load(FileInputStream(ResourceUtils.getFile(trustStoreLocation)), trustStorePassword.toCharArray())\r\n\r\n        val trustManagerFactory = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm())\r\n        trustManagerFactory.init(trustStore)\r\n        contextBuilder.trustManager(trustManagerFactory)\r\n\r\n        if (keyStoreLocation.isNotBlank() &amp;&amp; keyStorePassword.isNotBlank()) {\r\n            val keyStore: KeyStore = KeyStore.getInstance(&quot;JKS&quot;)\r\n            keyStore.load(FileInputStream(ResourceUtils.getFile(keyStoreLocation)), keyStorePassword.toCharArray())\r\n            val keyManagerFactory = KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm())\r\n            keyManagerFactory.init(keyStore, keyStorePassword.toCharArray())\r\n            contextBuilder.keyManager(keyManagerFactory)\r\n        }\r\n\r\n        val context = contextBuilder.build()\r\n\r\n        return WebClient.builder()\r\n            .clientConnector(\r\n                ReactorClientHttpConnector(\r\n                    HttpClient.create().secure {\r\n                        it.sslContext(context)\r\n                    }\r\n                )\r\n            )\r\n    }\r\n}\r\n\r\nval client = ClientFactory.getClient(&quot;truststore.location&quot;, &quot;truststore.password&quot;, &quot;keystore.location&quot;, &quot;keystore.password&quot;).build()\r\n\r\nclient.get().uri(&quot;https://some-service&quot;).retrieve().toEntity(clazz).awaitSingleOrNull()\r\n```\r\nBut I am getting this error.\r\n```\r\njavax.net.ssl|DEBUG|61|reactor-http-epoll-2|2022-11-14 14:10:57.688 UTC|null:-1|Ignore unsupported cipher suite: TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384 for TLSv1.3\r\njavax.net.ssl|DEBUG|61|reactor-http-epoll-2|2022-11-14 14:10:57.688 UTC|null:-1|Ignore unsupported cipher suite: TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256 for TLSv1.3\r\njavax.net.ssl|DEBUG|61|reactor-http-epoll-2|2022-11-14 14:10:57.689 UTC|null:-1|Ignore unsupported cipher suite: TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256 for TLSv1.3\r\njavax.net.ssl|DEBUG|61|reactor-http-epoll-2|2022-11-14 14:10:57.689 UTC|null:-1|Ignore unsupported cipher suite: TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384 for TLSv1.3\r\njavax.net.ssl|DEBUG|61|reactor-http-epoll-2|2022-11-14 14:10:57.690 UTC|null:-1|Ignore unsupported cipher suite: TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA for TLSv1.3\r\njavax.net.ssl|DEBUG|61|reactor-http-epoll-2|2022-11-14 14:10:57.690 UTC|null:-1|Ignore unsupported cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA for TLSv1.3\r\njavax.net.ssl|DEBUG|61|reactor-http-epoll-2|2022-11-14 14:10:57.691 UTC|null:-1|Ignore unsupported cipher suite: TLS_RSA_WITH_AES_128_GCM_SHA256 for TLSv1.3\r\njavax.net.ssl|DEBUG|61|reactor-http-epoll-2|2022-11-14 14:10:57.691 UTC|null:-1|Ignore unsupported cipher suite: TLS_RSA_WITH_AES_128_CBC_SHA for TLSv1.3\r\njavax.net.ssl|DEBUG|61|reactor-http-epoll-2|2022-11-14 14:10:57.692 UTC|null:-1|Ignore unsupported cipher suite: TLS_RSA_WITH_AES_256_CBC_SHA for TLSv1.3\r\njavax.net.ssl|WARNING|61|reactor-http-epoll-2|2022-11-14 14:10:57.693 UTC|null:-1|Unable to indicate server name\r\njavax.net.ssl|DEBUG|61|reactor-http-epoll-2|2022-11-14 14:10:57.694 UTC|null:-1|Ignore, context unavailable extension: server_name\r\njavax.net.ssl|INFO|61|reactor-http-epoll-2|2022-11-14 14:10:57.694 UTC|null:-1|No available application protocols\r\njavax.net.ssl|DEBUG|61|reactor-http-epoll-2|2022-11-14 14:10:57.695 UTC|null:-1|Ignore, context unavailable extension: application_layer_protocol_negotiation\r\njavax.net.ssl|DEBUG|61|reactor-http-epoll-2|2022-11-14 14:10:57.695 UTC|null:-1|Stateless resumption supported\r\njavax.net.ssl|ALL|61|reactor-http-epoll-2|2022-11-14 14:10:57.696 UTC|null:-1|Ignore disabled signature scheme: rsa_md5\r\njavax.net.ssl|DEBUG|61|reactor-http-epoll-2|2022-11-14 14:10:57.697 UTC|null:-1|Ignore, context unavailable extension: cookie\r\njavax.net.ssl|DEBUG|61|reactor-http-epoll-2|2022-11-14 14:10:57.701 UTC|null:-1|No session to resume.\r\njavax.net.ssl|DEBUG|61|reactor-http-epoll-2|2022-11-14 14:10:57.702 UTC|null:-1|Ignore, context unavailable extension: pre_shared_key\r\njavax.net.ssl|DEBUG|61|reactor-http-epoll-2|2022-11-14 14:10:57.704 UTC|null:-1|Produced ClientHello handshake message (\r\n&quot;ClientHello&quot;: {\r\n  &quot;client version&quot;      : &quot;TLSv1.2&quot;,\r\n  &quot;random&quot;              : &quot;9DFA460AFA7E191DE2C3B11C032F1EE7435A0095D7A50EEAE3314D8C40AD44CF&quot;,\r\n  &quot;session id&quot;          : &quot;D5858682374BC479D6E926A9B8A08F5CC0D0E8A800BD19219733FC15765C2BF7&quot;,\r\n  &quot;cipher suites&quot;       : &quot;[TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384(0xC02C), TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256(0xC02B), TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256(0xC02F), TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384(0xC030), TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA(0xC013), TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA(0xC014), TLS_RSA_WITH_AES_128_GCM_SHA256(0x009C), TLS_RSA_WITH_AES_128_CBC_SHA(0x002F), TLS_RSA_WITH_AES_256_CBC_SHA(0x0035), TLS_AES_128_GCM_SHA256(0x1301), TLS_AES_256_GCM_SHA384(0x1302)]&quot;,\r\n  &quot;compression methods&quot; : &quot;00&quot;,\r\n  &quot;extensions&quot;          : [\r\n    &quot;status_request (5)&quot;: {\r\n      &quot;certificate status type&quot;: ocsp\r\n      &quot;OCSP status request&quot;: {\r\n        &quot;responder_id&quot;: &lt;empty&gt;\r\n        &quot;request extensions&quot;: {\r\n          &lt;empty&gt;\r\n        }\r\n      }\r\n    },\r\n    &quot;supported_groups (10)&quot;: {\r\n      &quot;versions&quot;: [x25519, secp256r1, secp384r1, secp521r1, x448, ffdhe2048, ffdhe3072, ffdhe4096, ffdhe6144, ffdhe8192]\r\n    },\r\n    &quot;ec_point_formats (11)&quot;: {\r\n      &quot;formats&quot;: [uncompressed]\r\n    },\r\n    &quot;status_request_v2 (17)&quot;: {\r\n      &quot;cert status request&quot;: {\r\n        &quot;certificate status type&quot;: ocsp_multi\r\n        &quot;OCSP status request&quot;: {\r\n          &quot;responder_id&quot;: &lt;empty&gt;\r\n          &quot;request extensions&quot;: {\r\n            &lt;empty&gt;\r\n          }\r\n        }\r\n      }\r\n    },\r\n    &quot;extended_master_secret (23)&quot;: {\r\n      &lt;empty&gt;\r\n    },\r\n    &quot;session_ticket (35)&quot;: {\r\n      &lt;empty&gt;\r\n    },\r\n    &quot;signature_algorithms (13)&quot;: {\r\n      &quot;signature schemes&quot;: [ecdsa_secp256r1_sha256, ecdsa_secp384r1_sha384, ecdsa_secp521r1_sha512, ed25519, ed448, rsa_pss_rsae_sha256, rsa_pss_rsae_sha384, rsa_pss_rsae_sha512, rsa_pss_pss_sha256, rsa_pss_pss_sha384, rsa_pss_pss_sha512, rsa_pkcs1_sha256, rsa_pkcs1_sha384, rsa_pkcs1_sha512, dsa_sha256, ecdsa_sha224, rsa_sha224, dsa_sha224, ecdsa_sha1, rsa_pkcs1_sha1, dsa_sha1]\r\n    },\r\n    &quot;supported_versions (43)&quot;: {\r\n      &quot;versions&quot;: [TLSv1.3, TLSv1.2]\r\n    },\r\n    &quot;psk_key_exchange_modes (45)&quot;: {\r\n      &quot;ke_modes&quot;: [psk_dhe_ke]\r\n    },\r\n    &quot;signature_algorithms_cert (50)&quot;: {\r\n      &quot;signature schemes&quot;: [ecdsa_secp256r1_sha256, ecdsa_secp384r1_sha384, ecdsa_secp521r1_sha512, ed25519, ed448, rsa_pss_rsae_sha256, rsa_pss_rsae_sha384, rsa_pss_rsae_sha512, rsa_pss_pss_sha256, rsa_pss_pss_sha384, rsa_pss_pss_sha512, rsa_pkcs1_sha256, rsa_pkcs1_sha384, rsa_pkcs1_sha512, dsa_sha256, ecdsa_sha224, rsa_sha224, dsa_sha224, ecdsa_sha1, rsa_pkcs1_sha1, dsa_sha1]\r\n    },\r\n    &quot;key_share (51)&quot;: {\r\n      &quot;client_shares&quot;: [  \r\n        {\r\n          &quot;named group&quot;: x25519\r\n          &quot;key_exchange&quot;: {\r\n            0000: 34 8F 95 6C E7 41 7E 7A   F0 D3 B4 BC 2E 18 CA A7  4..l.A.z........\r\n            0010: 21 7D 8F 4C CE 5A A9 63   F2 93 D3 CA C2 E2 FE 04  !..L.Z.c........\r\n          }\r\n        },\r\n        {\r\n          &quot;named group&quot;: secp256r1\r\n          &quot;key_exchange&quot;: {\r\n            0000: 04 FC E1 E7 6A 86 69 20   B0 21 40 28 9F 4F C9 8A  ....j.i .!@(.O..\r\n            0010: 43 0E A9 31 FB A1 8B 26   F8 5F CC F3 BC D5 34 AC  C..1...&amp;._....4.\r\n            0020: E3 F6 92 B4 8C C9 3E 8C   04 94 2E D4 D3 A5 EF 0D  ......&gt;.........\r\n            0030: 7D 44 90 BE AB 90 89 B3   6A E9 F3 BF 6B D8 E0 EC  .D......j...k...\r\n            0040: 71 \r\n          }\r\n        },\r\n      ]\r\n    },\r\n    &quot;renegotiation_info (65,281)&quot;: {\r\n      &quot;renegotiated connection&quot;: [&lt;no renegotiated connection&gt;]\r\n    }\r\n  ]\r\n}\r\n)\r\njavax.net.ssl|DEBUG|61|reactor-http-epoll-2|2022-11-14 14:10:57.704 UTC|null:-1|WRITE: TLSv1.3 handshake, length = 388\r\njavax.net.ssl|DEBUG|61|reactor-http-epoll-2|2022-11-14 14:10:57.706 UTC|null:-1|Raw write (\r\n  0000: 16 03 03 01 84 01 00 01   80 03 03 9D FA 46 0A FA  .............F..\r\n  0010: 7E 19 1D E2 C3 B1 1C 03   2F 1E E7 43 5A 00 95 D7  ......../..CZ...\r\n  0020: A5 0E EA E3 31 4D 8C 40   AD 44 CF 20 D5 85 86 82  ....1M.@.D. ....\r\n  0030: 37 4B C4 79 D6 E9 26 A9   B8 A0 8F 5C C0 D0 E8 A8  7K.y..&amp;....\\....\r\n  0040: 00 BD 19 21 97 33 FC 15   76 5C 2B F7 00 16 C0 2C  ...!.3..v\\+....,\r\n  0050: C0 2B C0 2F C0 30 C0 13   C0 14 00 9C 00 2F 00 35  .+./.0......./.5\r\n  0060: 13 01 13 02 01 00 01 21   00 05 00 05 01 00 00 00  .......!........\r\n  0070: 00 00 0A 00 16 00 14 00   1D 00 17 00 18 00 19 00  ................\r\n  0080: 1E 01 00 01 01 01 02 01   03 01 04 00 0B 00 02 01  ................\r\n  0090: 00 00 11 00 09 00 07 02   00 04 00 00 00 00 00 17  ................\r\n  00A0: 00 00 00 23 00 00 00 0D   00 2C 00 2A 04 03 05 03  ...#.....,.*....\r\n  00B0: 06 03 08 07 08 08 08 04   08 05 08 06 08 09 08 0A  ................\r\n  00C0: 08 0B 04 01 05 01 06 01   04 02 03 03 03 01 03 02  ................\r\n  00D0: 02 03 02 01 02 02 00 2B   00 05 04 03 04 03 03 00  .......+........\r\n  00E0: 2D 00 02 01 01 00 32 00   2C 00 2A 04 03 05 03 06  -.....2.,.*.....\r\n  00F0: 03 08 07 08 08 08 04 08   05 08 06 08 09 08 0A 08  ................\r\n  0100: 0B 04 01 05 01 06 01 04   02 03 03 03 01 03 02 02  ................\r\n  0110: 03 02 01 02 02 00 33 00   6B 00 69 00 1D 00 20 34  ......3.k.i... 4\r\n  0120: 8F 95 6C E7 41 7E 7A F0   D3 B4 BC 2E 18 CA A7 21  ..l.A.z........!\r\n  0130: 7D 8F 4C CE 5A A9 63 F2   93 D3 CA C2 E2 FE 04 00  ..L.Z.c.........\r\n  0140: 17 00 41 04 FC E1 E7 6A   86 69 20 B0 21 40 28 9F  ..A....j.i .!@(.\r\n  0150: 4F C9 8A 43 0E A9 31 FB   A1 8B 26 F8 5F CC F3 BC  O..C..1...&amp;._...\r\n  0160: D5 34 AC E3 F6 92 B4 8C   C9 3E 8C 04 94 2E D4 D3  .4.......&gt;......\r\n  0170: A5 EF 0D 7D 44 90 BE AB   90 89 B3 6A E9 F3 BF 6B  ....D......j...k\r\n  0180: D8 E0 EC 71 FF 01 00 01   00                       ...q.....\r\n)\r\njavax.net.ssl|DEBUG|61|reactor-http-epoll-2|2022-11-14 14:10:57.713 UTC|null:-1|Raw read (\r\n  0000: 15 03 03 00 02 02 28                               ......(\r\n)\r\njavax.net.ssl|DEBUG|61|reactor-http-epoll-2|2022-11-14 14:10:57.713 UTC|null:-1|READ: TLSv1.2 alert, length = 2\r\njavax.net.ssl|DEBUG|61|reactor-http-epoll-2|2022-11-14 14:10:57.714 UTC|null:-1|Received alert message (\r\n&quot;Alert&quot;: {\r\n  &quot;level&quot;      : &quot;fatal&quot;,\r\n  &quot;description&quot;: &quot;handshake_failure&quot;\r\n}\r\n)\r\njavax.net.ssl|ERROR|61|reactor-http-epoll-2|2022-11-14 14:10:57.716 UTC|null:-1|Fatal (HANDSHAKE_FAILURE): Received fatal alert: handshake_failure (\r\n&quot;throwable&quot; : {\r\n  javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure\r\n  at java.base/sun.security.ssl.Alert.createSSLException(Unknown Source)\r\n  at java.base/sun.security.ssl.Alert.createSSLException(Unknown Source)\r\n  at java.base/sun.security.ssl.TransportContext.fatal(Unknown Source)\r\n  at java.base/sun.security.ssl.Alert$AlertConsumer.consume(Unknown Source)\r\n  at java.base/sun.security.ssl.TransportContext.dispatch(Unknown Source)\r\n  at java.base/sun.security.ssl.SSLTransport.decode(Unknown Source)\r\n  at java.base/sun.security.ssl.SSLEngineImpl.decode(Unknown Source)\r\n  at java.base/sun.security.ssl.SSLEngineImpl.readRecord(Unknown Source)\r\n  at java.base/sun.security.ssl.SSLEngineImpl.unwrap(Unknown Source)\r\n  at java.base/sun.security.ssl.SSLEngineImpl.unwrap(Unknown Source)\r\n  at java.base/javax.net.ssl.SSLEngine.unwrap(Unknown Source)\r\n  at io.netty.handler.ssl.SslHandler$SslEngineType$3.unwrap(SslHandler.java:296)\r\n  at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1343)\r\n  at io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1236)\r\n  at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1285)\r\n  at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:519)\r\n  at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:458)\r\n  at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:280)\r\n  at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)\r\n  at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\r\n  at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\r\n  at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\r\n  at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)\r\n  at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\r\n  at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\r\n  at io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:800)\r\n  at io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)\r\n  at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:397)\r\n  at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n  at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n  at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n  at java.base/java.lang.Thread.run(Unknown Source)}\r\n\r\n)\r\njavax.net.ssl|ALL|61|reactor-http-epoll-2|2022-11-14 14:10:57.716 UTC|null:-1|Invalidated session:  Session(1668435057686|SSL_NULL_WITH_NULL_NULL)\r\n2022-11-14 14:10:57.724 ERROR 1 --- [or-http-epoll-2] a.w.r.e.AbstractErrorWebExceptionHandler : [7b30e4fb-2]  500 Server Error for HTTP GET &quot;/api/subjects/connect-status-value/versions&quot;\r\n\r\norg.springframework.web.reactive.function.client.WebClientRequestException: Received fatal alert: handshake_failure; nested exception is javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure\r\nat org.springframework.web.reactive.function.client.ExchangeFunctions$DefaultExchangeFunction.lambda$wrapException$9(ExchangeFunctions.java:141) ~[spring-webflux-5.3.23.jar:5.3.23]\r\nSuppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \r\nError has been observed at the following site(s):\r\n*__checkpoint ? Request to GET https://schema-registry:8081/subjects/connect-status-value/versions [DefaultWebClient]\r\n*__checkpoint ? Handler com.ideasbucket.tansen.controller.api.SubjectController#getVersionsBySubject(String, Continuation) [DispatcherHandler]\r\n*__checkpoint ? org.springframework.boot.actuate.metrics.web.reactive.server.MetricsWebFilter [DefaultWebFilterChain]\r\n*__checkpoint ? HTTP GET &quot;/api/subjects/connect-status-value/versions&quot; [ExceptionHandlingWebHandler]\r\nOriginal Stack Trace:\r\nat org.springframework.web.reactive.function.client.ExchangeFunctions$DefaultExchangeFunction.lambda$wrapException$9(ExchangeFunctions.java:141) ~[spring-webflux-5.3.23.jar:5.3.23]\r\nat reactor.core.publisher.MonoErrorSupplied.subscribe(MonoErrorSupplied.java:55) ~[reactor-core-3.4.24.jar:3.4.24]\r\nat reactor.core.publisher.Mono.subscribe(Mono.java:4455) ~[reactor-core-3.4.24.jar:3.4.24]\r\nat reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103) ~[reactor-core-3.4.24.jar:3.4.24]\r\nat reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:222) ~[reactor-core-3.4.24.jar:3.4.24]\r\nat reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:222) ~[reactor-core-3.4.24.jar:3.4.24]\r\nat reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:222) ~[reactor-core-3.4.24.jar:3.4.24]\r\nat reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93) ~[reactor-core-3.4.24.jar:3.4.24]\r\nat reactor.core.publisher.MonoFlatMapMany$FlatMapManyMain.onError(MonoFlatMapMany.java:204) ~[reactor-core-3.4.24.jar:3.4.24]\r\nat reactor.core.publisher.SerializedSubscriber.onError(SerializedSubscriber.java:124) ~[reactor-core-3.4.24.jar:3.4.24]\r\nat reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.whenError(FluxRetryWhen.java:225) ~[reactor-core-3.4.24.jar:3.4.24]\r\nat reactor.core.publisher.FluxRetryWhen$RetryWhenOtherSubscriber.onError(FluxRetryWhen.java:274) ~[reactor-core-3.4.24.jar:3.4.24]\r\nat reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.drain(FluxConcatMap.java:415) ~[reactor-core-3.4.24.jar:3.4.24]\r\nat reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.onNext(FluxConcatMap.java:251) ~[reactor-core-3.4.24.jar:3.4.24]\r\nat reactor.core.publisher.EmitterProcessor.drain(EmitterProcessor.java:537) ~[reactor-core-3.4.24.jar:3.4.24]\r\nat reactor.core.publisher.EmitterProcessor.tryEmitNext(EmitterProcessor.java:343) ~[reactor-core-3.4.24.jar:3.4.24]\r\nat reactor.core.publisher.SinkManySerialized.tryEmitNext(SinkManySerialized.java:100) ~[reactor-core-3.4.24.jar:3.4.24]\r\nat reactor.core.publisher.InternalManySink.emitNext(InternalManySink.java:27) ~[reactor-core-3.4.24.jar:3.4.24]\r\nat reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.onError(FluxRetryWhen.java:190) ~[reactor-core-3.4.24.jar:3.4.24]\r\nat reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:201) ~[reactor-core-3.4.24.jar:3.4.24]\r\nat reactor.netty.http.client.HttpClientConnect$MonoHttpConnect$ClientTransportSubscriber.onError(HttpClientConnect.java:307) ~[reactor-netty-http-1.0.24.jar:1.0.24]\r\nat reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:201) ~[reactor-core-3.4.24.jar:3.4.24]\r\nat reactor.netty.resources.DefaultPooledConnectionProvider$DisposableAcquire.onUncaughtException(DefaultPooledConnectionProvider.java:204) ~[reactor-netty-core-1.0.24.jar:1.0.24]\r\nat reactor.netty.resources.DefaultPooledConnectionProvider$PooledConnection.onUncaughtException(DefaultPooledConnectionProvider.java:454) ~[reactor-netty-core-1.0.24.jar:1.0.24]\r\nat reactor.netty.channel.ChannelOperationsHandler.exceptionCaught(ChannelOperationsHandler.java:147) ~[reactor-netty-core-1.0.24.jar:1.0.24]\r\nat io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:346) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\r\nat io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:325) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\r\nat io.netty.channel.AbstractChannelHandlerContext.fireExceptionCaught(AbstractChannelHandlerContext.java:317) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\r\nat io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireExceptionCaught(CombinedChannelDuplexHandler.java:424) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\r\nat io.netty.channel.ChannelHandlerAdapter.exceptionCaught(ChannelHandlerAdapter.java:92) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\r\nat io.netty.channel.CombinedChannelDuplexHandler$1.fireExceptionCaught(CombinedChannelDuplexHandler.java:145) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\r\nat io.netty.channel.ChannelInboundHandlerAdapter.exceptionCaught(ChannelInboundHandlerAdapter.java:143) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\r\nat io.netty.channel.CombinedChannelDuplexHandler.exceptionCaught(CombinedChannelDuplexHandler.java:231) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\r\nat io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:346) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\r\nat io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:325) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\r\nat io.netty.channel.AbstractChannelHandlerContext.fireExceptionCaught(AbstractChannelHandlerContext.java:317) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\r\nat reactor.netty.tcp.SslProvider$SslReadHandler.userEventTriggered(SslProvider.java:850) ~[reactor-netty-core-1.0.24.jar:1.0.24]\r\nat io.netty.channel.AbstractChannelHandlerContext.invokeUserEventTriggered(AbstractChannelHandlerContext.java:400) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\r\nat io.netty.channel.AbstractChannelHandlerContext.invokeUserEventTriggered(AbstractChannelHandlerContext.java:376) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\r\nat io.netty.channel.AbstractChannelHandlerContext.fireUserEventTriggered(AbstractChannelHandlerContext.java:368) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\r\nat io.netty.handler.ssl.SslHandler.handleUnwrapThrowable(SslHandler.java:1260) ~[netty-handler-4.1.84.Final.jar:4.1.84.Final]\r\nat io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1241) ~[netty-handler-4.1.84.Final.jar:4.1.84.Final]\r\nat io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1285) ~[netty-handler-4.1.84.Final.jar:4.1.84.Final]\r\nat io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:519) ~[netty-codec-4.1.84.Final.jar:4.1.84.Final]\r\nat io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:458) ~[netty-codec-4.1.84.Final.jar:4.1.84.Final]\r\nat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:280) ~[netty-codec-4.1.84.Final.jar:4.1.84.Final]\r\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\r\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\r\nat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\r\nat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\r\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\r\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\r\nat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\r\nat io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:800) ~[netty-transport-classes-epoll-4.1.84.Final.jar:4.1.84.Final]\r\nat io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499) ~[netty-transport-classes-epoll-4.1.84.Final.jar:4.1.84.Final]\r\nat io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:397) ~[netty-transport-classes-epoll-4.1.84.Final.jar:4.1.84.Final]\r\nat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.84.Final.jar:4.1.84.Final]\r\nat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.84.Final.jar:4.1.84.Final]\r\nat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.84.Final.jar:4.1.84.Final]\r\nat java.base/java.lang.Thread.run(Unknown Source) ~[na:na]\r\nCaused by: javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure\r\nat java.base/sun.security.ssl.Alert.createSSLException(Unknown Source) ~[na:na]\r\nat java.base/sun.security.ssl.Alert.createSSLException(Unknown Source) ~[na:na]\r\nat java.base/sun.security.ssl.TransportContext.fatal(Unknown Source) ~[na:na]\r\nat java.base/sun.security.ssl.Alert$AlertConsumer.consume(Unknown Source) ~[na:na]\r\nat java.base/sun.security.ssl.TransportContext.dispatch(Unknown Source) ~[na:na]\r\nat java.base/sun.security.ssl.SSLTransport.decode(Unknown Source) ~[na:na]\r\nat java.base/sun.security.ssl.SSLEngineImpl.decode(Unknown Source) ~[na:na]\r\nat java.base/sun.security.ssl.SSLEngineImpl.readRecord(Unknown Source) ~[na:na]\r\nat java.base/sun.security.ssl.SSLEngineImpl.unwrap(Unknown Source) ~[na:na]\r\nat java.base/sun.security.ssl.SSLEngineImpl.unwrap(Unknown Source) ~[na:na]\r\nat java.base/javax.net.ssl.SSLEngine.unwrap(Unknown Source) ~[na:na]\r\nat io.netty.handler.ssl.SslHandler$SslEngineType$3.unwrap(SslHandler.java:296) ~[netty-handler-4.1.84.Final.jar:4.1.84.Final]\r\nat io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1343) ~[netty-handler-4.1.84.Final.jar:4.1.84.Final]\r\nat io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1236) ~[netty-handler-4.1.84.Final.jar:4.1.84.Final]\r\nat io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1285) ~[netty-handler-4.1.84.Final.jar:4.1.84.Final]\r\nat io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:519) ~[netty-codec-4.1.84.Final.jar:4.1.84.Final]\r\nat io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:458) ~[netty-codec-4.1.84.Final.jar:4.1.84.Final]\r\nat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:280) ~[netty-codec-4.1.84.Final.jar:4.1.84.Final]\r\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\r\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\r\nat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\r\nat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\r\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\r\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\r\nat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\r\nat io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:800) ~[netty-transport-classes-epoll-4.1.84.Final.jar:4.1.84.Final]\r\nat io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499) ~[netty-transport-classes-epoll-4.1.84.Final.jar:4.1.84.Final]\r\nat io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:397) ~[netty-transport-classes-epoll-4.1.84.Final.jar:4.1.84.Final]\r\nat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.84.Final.jar:4.1.84.Final]\r\nat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.84.Final.jar:4.1.84.Final]\r\nat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.84.Final.jar:4.1.84.Final]\r\nat java.base/java.lang.Thread.run(Unknown Source) ~[na:na]\r\n\r\n2022-11-14 14:10:57.729  WARN 1 --- [or-http-epoll-2] r.netty.http.client.HttpClientConnect    : [2d537e20, L:/172.30.0.9:50936 - R:schema-registry/172.30.0.4:8081] The connection observed an error\r\n\r\njavax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure\r\nat java.base/sun.security.ssl.Alert.createSSLException(Unknown Source) ~[na:na]\r\nat java.base/sun.security.ssl.Alert.createSSLException(Unknown Source) ~[na:na]\r\nat java.base/sun.security.ssl.TransportContext.fatal(Unknown Source) ~[na:na]\r\nat java.base/sun.security.ssl.Alert$AlertConsumer.consume(Unknown Source) ~[na:na]\r\nat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.84.Final.jar:4.1.84.Final]\r\nat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.84.Final.jar:4.1.84.Final]\r\nat java.base/java.lang.Thread.run(Unknown Source) ~[na:na]\r\n\r\n2022-11-14 14:10:57.731  WARN 1 --- [or-http-epoll-2] r.netty.http.client.HttpClientConnect    : [2d537e20, L:/172.30.0.9:50936 ! R:schema-registry/172.30.0.4:8081] The connection observed an error\r\n\r\nio.netty.handler.codec.DecoderException: javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure\r\nat io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:458) ~[netty-codec-4.1.84.Final.jar:4.1.84.Final]\r\n... 15 common frames omitted\r\n\r\n\r\n```\r\nBut I am unable to pinpoint the real cause of the exception. Is there anything that I am missing from `WebClient` config side.","title":"Getting Handsake error in Spring WebClient for HTTPS site","body":"<p>I am trying to call site with <code>https</code> protocol using Spring <code>WebClient</code> using following code.</p>\n<pre><code>object ClientFactory {\n\n    @Throws(\n        NoSuchAlgorithmException::class,\n        IOException::class,\n        KeyStoreException::class,\n        CertificateException::class,\n        UnrecoverableKeyException::class\n    )\n    @JvmStatic\n    fun getClient(\n        trustStoreLocation: String,\n        trustStorePassword: String,\n        keyStoreLocation: String,\n        keyStorePassword: String\n    ): WebClient.Builder {\n        if (trustStorePassword.isBlank() || trustStoreLocation.isBlank()) {\n            return WebClient.builder()\n        }\n\n        val contextBuilder = SslContextBuilder.forClient()\n\n        val trustStore = KeyStore.getInstance(&quot;JKS&quot;)\n        trustStore.load(FileInputStream(ResourceUtils.getFile(trustStoreLocation)), trustStorePassword.toCharArray())\n\n        val trustManagerFactory = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm())\n        trustManagerFactory.init(trustStore)\n        contextBuilder.trustManager(trustManagerFactory)\n\n        if (keyStoreLocation.isNotBlank() &amp;&amp; keyStorePassword.isNotBlank()) {\n            val keyStore: KeyStore = KeyStore.getInstance(&quot;JKS&quot;)\n            keyStore.load(FileInputStream(ResourceUtils.getFile(keyStoreLocation)), keyStorePassword.toCharArray())\n            val keyManagerFactory = KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm())\n            keyManagerFactory.init(keyStore, keyStorePassword.toCharArray())\n            contextBuilder.keyManager(keyManagerFactory)\n        }\n\n        val context = contextBuilder.build()\n\n        return WebClient.builder()\n            .clientConnector(\n                ReactorClientHttpConnector(\n                    HttpClient.create().secure {\n                        it.sslContext(context)\n                    }\n                )\n            )\n    }\n}\n\nval client = ClientFactory.getClient(&quot;truststore.location&quot;, &quot;truststore.password&quot;, &quot;keystore.location&quot;, &quot;keystore.password&quot;).build()\n\nclient.get().uri(&quot;https://some-service&quot;).retrieve().toEntity(clazz).awaitSingleOrNull()\n</code></pre>\n<p>But I am getting this error.</p>\n<pre><code>javax.net.ssl|DEBUG|61|reactor-http-epoll-2|2022-11-14 14:10:57.688 UTC|null:-1|Ignore unsupported cipher suite: TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384 for TLSv1.3\njavax.net.ssl|DEBUG|61|reactor-http-epoll-2|2022-11-14 14:10:57.688 UTC|null:-1|Ignore unsupported cipher suite: TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256 for TLSv1.3\njavax.net.ssl|DEBUG|61|reactor-http-epoll-2|2022-11-14 14:10:57.689 UTC|null:-1|Ignore unsupported cipher suite: TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256 for TLSv1.3\njavax.net.ssl|DEBUG|61|reactor-http-epoll-2|2022-11-14 14:10:57.689 UTC|null:-1|Ignore unsupported cipher suite: TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384 for TLSv1.3\njavax.net.ssl|DEBUG|61|reactor-http-epoll-2|2022-11-14 14:10:57.690 UTC|null:-1|Ignore unsupported cipher suite: TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA for TLSv1.3\njavax.net.ssl|DEBUG|61|reactor-http-epoll-2|2022-11-14 14:10:57.690 UTC|null:-1|Ignore unsupported cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA for TLSv1.3\njavax.net.ssl|DEBUG|61|reactor-http-epoll-2|2022-11-14 14:10:57.691 UTC|null:-1|Ignore unsupported cipher suite: TLS_RSA_WITH_AES_128_GCM_SHA256 for TLSv1.3\njavax.net.ssl|DEBUG|61|reactor-http-epoll-2|2022-11-14 14:10:57.691 UTC|null:-1|Ignore unsupported cipher suite: TLS_RSA_WITH_AES_128_CBC_SHA for TLSv1.3\njavax.net.ssl|DEBUG|61|reactor-http-epoll-2|2022-11-14 14:10:57.692 UTC|null:-1|Ignore unsupported cipher suite: TLS_RSA_WITH_AES_256_CBC_SHA for TLSv1.3\njavax.net.ssl|WARNING|61|reactor-http-epoll-2|2022-11-14 14:10:57.693 UTC|null:-1|Unable to indicate server name\njavax.net.ssl|DEBUG|61|reactor-http-epoll-2|2022-11-14 14:10:57.694 UTC|null:-1|Ignore, context unavailable extension: server_name\njavax.net.ssl|INFO|61|reactor-http-epoll-2|2022-11-14 14:10:57.694 UTC|null:-1|No available application protocols\njavax.net.ssl|DEBUG|61|reactor-http-epoll-2|2022-11-14 14:10:57.695 UTC|null:-1|Ignore, context unavailable extension: application_layer_protocol_negotiation\njavax.net.ssl|DEBUG|61|reactor-http-epoll-2|2022-11-14 14:10:57.695 UTC|null:-1|Stateless resumption supported\njavax.net.ssl|ALL|61|reactor-http-epoll-2|2022-11-14 14:10:57.696 UTC|null:-1|Ignore disabled signature scheme: rsa_md5\njavax.net.ssl|DEBUG|61|reactor-http-epoll-2|2022-11-14 14:10:57.697 UTC|null:-1|Ignore, context unavailable extension: cookie\njavax.net.ssl|DEBUG|61|reactor-http-epoll-2|2022-11-14 14:10:57.701 UTC|null:-1|No session to resume.\njavax.net.ssl|DEBUG|61|reactor-http-epoll-2|2022-11-14 14:10:57.702 UTC|null:-1|Ignore, context unavailable extension: pre_shared_key\njavax.net.ssl|DEBUG|61|reactor-http-epoll-2|2022-11-14 14:10:57.704 UTC|null:-1|Produced ClientHello handshake message (\n&quot;ClientHello&quot;: {\n  &quot;client version&quot;      : &quot;TLSv1.2&quot;,\n  &quot;random&quot;              : &quot;9DFA460AFA7E191DE2C3B11C032F1EE7435A0095D7A50EEAE3314D8C40AD44CF&quot;,\n  &quot;session id&quot;          : &quot;D5858682374BC479D6E926A9B8A08F5CC0D0E8A800BD19219733FC15765C2BF7&quot;,\n  &quot;cipher suites&quot;       : &quot;[TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384(0xC02C), TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256(0xC02B), TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256(0xC02F), TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384(0xC030), TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA(0xC013), TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA(0xC014), TLS_RSA_WITH_AES_128_GCM_SHA256(0x009C), TLS_RSA_WITH_AES_128_CBC_SHA(0x002F), TLS_RSA_WITH_AES_256_CBC_SHA(0x0035), TLS_AES_128_GCM_SHA256(0x1301), TLS_AES_256_GCM_SHA384(0x1302)]&quot;,\n  &quot;compression methods&quot; : &quot;00&quot;,\n  &quot;extensions&quot;          : [\n    &quot;status_request (5)&quot;: {\n      &quot;certificate status type&quot;: ocsp\n      &quot;OCSP status request&quot;: {\n        &quot;responder_id&quot;: &lt;empty&gt;\n        &quot;request extensions&quot;: {\n          &lt;empty&gt;\n        }\n      }\n    },\n    &quot;supported_groups (10)&quot;: {\n      &quot;versions&quot;: [x25519, secp256r1, secp384r1, secp521r1, x448, ffdhe2048, ffdhe3072, ffdhe4096, ffdhe6144, ffdhe8192]\n    },\n    &quot;ec_point_formats (11)&quot;: {\n      &quot;formats&quot;: [uncompressed]\n    },\n    &quot;status_request_v2 (17)&quot;: {\n      &quot;cert status request&quot;: {\n        &quot;certificate status type&quot;: ocsp_multi\n        &quot;OCSP status request&quot;: {\n          &quot;responder_id&quot;: &lt;empty&gt;\n          &quot;request extensions&quot;: {\n            &lt;empty&gt;\n          }\n        }\n      }\n    },\n    &quot;extended_master_secret (23)&quot;: {\n      &lt;empty&gt;\n    },\n    &quot;session_ticket (35)&quot;: {\n      &lt;empty&gt;\n    },\n    &quot;signature_algorithms (13)&quot;: {\n      &quot;signature schemes&quot;: [ecdsa_secp256r1_sha256, ecdsa_secp384r1_sha384, ecdsa_secp521r1_sha512, ed25519, ed448, rsa_pss_rsae_sha256, rsa_pss_rsae_sha384, rsa_pss_rsae_sha512, rsa_pss_pss_sha256, rsa_pss_pss_sha384, rsa_pss_pss_sha512, rsa_pkcs1_sha256, rsa_pkcs1_sha384, rsa_pkcs1_sha512, dsa_sha256, ecdsa_sha224, rsa_sha224, dsa_sha224, ecdsa_sha1, rsa_pkcs1_sha1, dsa_sha1]\n    },\n    &quot;supported_versions (43)&quot;: {\n      &quot;versions&quot;: [TLSv1.3, TLSv1.2]\n    },\n    &quot;psk_key_exchange_modes (45)&quot;: {\n      &quot;ke_modes&quot;: [psk_dhe_ke]\n    },\n    &quot;signature_algorithms_cert (50)&quot;: {\n      &quot;signature schemes&quot;: [ecdsa_secp256r1_sha256, ecdsa_secp384r1_sha384, ecdsa_secp521r1_sha512, ed25519, ed448, rsa_pss_rsae_sha256, rsa_pss_rsae_sha384, rsa_pss_rsae_sha512, rsa_pss_pss_sha256, rsa_pss_pss_sha384, rsa_pss_pss_sha512, rsa_pkcs1_sha256, rsa_pkcs1_sha384, rsa_pkcs1_sha512, dsa_sha256, ecdsa_sha224, rsa_sha224, dsa_sha224, ecdsa_sha1, rsa_pkcs1_sha1, dsa_sha1]\n    },\n    &quot;key_share (51)&quot;: {\n      &quot;client_shares&quot;: [  \n        {\n          &quot;named group&quot;: x25519\n          &quot;key_exchange&quot;: {\n            0000: 34 8F 95 6C E7 41 7E 7A   F0 D3 B4 BC 2E 18 CA A7  4..l.A.z........\n            0010: 21 7D 8F 4C CE 5A A9 63   F2 93 D3 CA C2 E2 FE 04  !..L.Z.c........\n          }\n        },\n        {\n          &quot;named group&quot;: secp256r1\n          &quot;key_exchange&quot;: {\n            0000: 04 FC E1 E7 6A 86 69 20   B0 21 40 28 9F 4F C9 8A  ....j.i .!@(.O..\n            0010: 43 0E A9 31 FB A1 8B 26   F8 5F CC F3 BC D5 34 AC  C..1...&amp;._....4.\n            0020: E3 F6 92 B4 8C C9 3E 8C   04 94 2E D4 D3 A5 EF 0D  ......&gt;.........\n            0030: 7D 44 90 BE AB 90 89 B3   6A E9 F3 BF 6B D8 E0 EC  .D......j...k...\n            0040: 71 \n          }\n        },\n      ]\n    },\n    &quot;renegotiation_info (65,281)&quot;: {\n      &quot;renegotiated connection&quot;: [&lt;no renegotiated connection&gt;]\n    }\n  ]\n}\n)\njavax.net.ssl|DEBUG|61|reactor-http-epoll-2|2022-11-14 14:10:57.704 UTC|null:-1|WRITE: TLSv1.3 handshake, length = 388\njavax.net.ssl|DEBUG|61|reactor-http-epoll-2|2022-11-14 14:10:57.706 UTC|null:-1|Raw write (\n  0000: 16 03 03 01 84 01 00 01   80 03 03 9D FA 46 0A FA  .............F..\n  0010: 7E 19 1D E2 C3 B1 1C 03   2F 1E E7 43 5A 00 95 D7  ......../..CZ...\n  0020: A5 0E EA E3 31 4D 8C 40   AD 44 CF 20 D5 85 86 82  ....1M.@.D. ....\n  0030: 37 4B C4 79 D6 E9 26 A9   B8 A0 8F 5C C0 D0 E8 A8  7K.y..&amp;....\\....\n  0040: 00 BD 19 21 97 33 FC 15   76 5C 2B F7 00 16 C0 2C  ...!.3..v\\+....,\n  0050: C0 2B C0 2F C0 30 C0 13   C0 14 00 9C 00 2F 00 35  .+./.0......./.5\n  0060: 13 01 13 02 01 00 01 21   00 05 00 05 01 00 00 00  .......!........\n  0070: 00 00 0A 00 16 00 14 00   1D 00 17 00 18 00 19 00  ................\n  0080: 1E 01 00 01 01 01 02 01   03 01 04 00 0B 00 02 01  ................\n  0090: 00 00 11 00 09 00 07 02   00 04 00 00 00 00 00 17  ................\n  00A0: 00 00 00 23 00 00 00 0D   00 2C 00 2A 04 03 05 03  ...#.....,.*....\n  00B0: 06 03 08 07 08 08 08 04   08 05 08 06 08 09 08 0A  ................\n  00C0: 08 0B 04 01 05 01 06 01   04 02 03 03 03 01 03 02  ................\n  00D0: 02 03 02 01 02 02 00 2B   00 05 04 03 04 03 03 00  .......+........\n  00E0: 2D 00 02 01 01 00 32 00   2C 00 2A 04 03 05 03 06  -.....2.,.*.....\n  00F0: 03 08 07 08 08 08 04 08   05 08 06 08 09 08 0A 08  ................\n  0100: 0B 04 01 05 01 06 01 04   02 03 03 03 01 03 02 02  ................\n  0110: 03 02 01 02 02 00 33 00   6B 00 69 00 1D 00 20 34  ......3.k.i... 4\n  0120: 8F 95 6C E7 41 7E 7A F0   D3 B4 BC 2E 18 CA A7 21  ..l.A.z........!\n  0130: 7D 8F 4C CE 5A A9 63 F2   93 D3 CA C2 E2 FE 04 00  ..L.Z.c.........\n  0140: 17 00 41 04 FC E1 E7 6A   86 69 20 B0 21 40 28 9F  ..A....j.i .!@(.\n  0150: 4F C9 8A 43 0E A9 31 FB   A1 8B 26 F8 5F CC F3 BC  O..C..1...&amp;._...\n  0160: D5 34 AC E3 F6 92 B4 8C   C9 3E 8C 04 94 2E D4 D3  .4.......&gt;......\n  0170: A5 EF 0D 7D 44 90 BE AB   90 89 B3 6A E9 F3 BF 6B  ....D......j...k\n  0180: D8 E0 EC 71 FF 01 00 01   00                       ...q.....\n)\njavax.net.ssl|DEBUG|61|reactor-http-epoll-2|2022-11-14 14:10:57.713 UTC|null:-1|Raw read (\n  0000: 15 03 03 00 02 02 28                               ......(\n)\njavax.net.ssl|DEBUG|61|reactor-http-epoll-2|2022-11-14 14:10:57.713 UTC|null:-1|READ: TLSv1.2 alert, length = 2\njavax.net.ssl|DEBUG|61|reactor-http-epoll-2|2022-11-14 14:10:57.714 UTC|null:-1|Received alert message (\n&quot;Alert&quot;: {\n  &quot;level&quot;      : &quot;fatal&quot;,\n  &quot;description&quot;: &quot;handshake_failure&quot;\n}\n)\njavax.net.ssl|ERROR|61|reactor-http-epoll-2|2022-11-14 14:10:57.716 UTC|null:-1|Fatal (HANDSHAKE_FAILURE): Received fatal alert: handshake_failure (\n&quot;throwable&quot; : {\n  javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure\n  at java.base/sun.security.ssl.Alert.createSSLException(Unknown Source)\n  at java.base/sun.security.ssl.Alert.createSSLException(Unknown Source)\n  at java.base/sun.security.ssl.TransportContext.fatal(Unknown Source)\n  at java.base/sun.security.ssl.Alert$AlertConsumer.consume(Unknown Source)\n  at java.base/sun.security.ssl.TransportContext.dispatch(Unknown Source)\n  at java.base/sun.security.ssl.SSLTransport.decode(Unknown Source)\n  at java.base/sun.security.ssl.SSLEngineImpl.decode(Unknown Source)\n  at java.base/sun.security.ssl.SSLEngineImpl.readRecord(Unknown Source)\n  at java.base/sun.security.ssl.SSLEngineImpl.unwrap(Unknown Source)\n  at java.base/sun.security.ssl.SSLEngineImpl.unwrap(Unknown Source)\n  at java.base/javax.net.ssl.SSLEngine.unwrap(Unknown Source)\n  at io.netty.handler.ssl.SslHandler$SslEngineType$3.unwrap(SslHandler.java:296)\n  at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1343)\n  at io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1236)\n  at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1285)\n  at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:519)\n  at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:458)\n  at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:280)\n  at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)\n  at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\n  at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\n  at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\n  at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)\n  at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\n  at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\n  at io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:800)\n  at io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)\n  at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:397)\n  at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\n  at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n  at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n  at java.base/java.lang.Thread.run(Unknown Source)}\n\n)\njavax.net.ssl|ALL|61|reactor-http-epoll-2|2022-11-14 14:10:57.716 UTC|null:-1|Invalidated session:  Session(1668435057686|SSL_NULL_WITH_NULL_NULL)\n2022-11-14 14:10:57.724 ERROR 1 --- [or-http-epoll-2] a.w.r.e.AbstractErrorWebExceptionHandler : [7b30e4fb-2]  500 Server Error for HTTP GET &quot;/api/subjects/connect-status-value/versions&quot;\n\norg.springframework.web.reactive.function.client.WebClientRequestException: Received fatal alert: handshake_failure; nested exception is javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure\nat org.springframework.web.reactive.function.client.ExchangeFunctions$DefaultExchangeFunction.lambda$wrapException$9(ExchangeFunctions.java:141) ~[spring-webflux-5.3.23.jar:5.3.23]\nSuppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \nError has been observed at the following site(s):\n*__checkpoint ? Request to GET https://schema-registry:8081/subjects/connect-status-value/versions [DefaultWebClient]\n*__checkpoint ? Handler com.ideasbucket.tansen.controller.api.SubjectController#getVersionsBySubject(String, Continuation) [DispatcherHandler]\n*__checkpoint ? org.springframework.boot.actuate.metrics.web.reactive.server.MetricsWebFilter [DefaultWebFilterChain]\n*__checkpoint ? HTTP GET &quot;/api/subjects/connect-status-value/versions&quot; [ExceptionHandlingWebHandler]\nOriginal Stack Trace:\nat org.springframework.web.reactive.function.client.ExchangeFunctions$DefaultExchangeFunction.lambda$wrapException$9(ExchangeFunctions.java:141) ~[spring-webflux-5.3.23.jar:5.3.23]\nat reactor.core.publisher.MonoErrorSupplied.subscribe(MonoErrorSupplied.java:55) ~[reactor-core-3.4.24.jar:3.4.24]\nat reactor.core.publisher.Mono.subscribe(Mono.java:4455) ~[reactor-core-3.4.24.jar:3.4.24]\nat reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103) ~[reactor-core-3.4.24.jar:3.4.24]\nat reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:222) ~[reactor-core-3.4.24.jar:3.4.24]\nat reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:222) ~[reactor-core-3.4.24.jar:3.4.24]\nat reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:222) ~[reactor-core-3.4.24.jar:3.4.24]\nat reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93) ~[reactor-core-3.4.24.jar:3.4.24]\nat reactor.core.publisher.MonoFlatMapMany$FlatMapManyMain.onError(MonoFlatMapMany.java:204) ~[reactor-core-3.4.24.jar:3.4.24]\nat reactor.core.publisher.SerializedSubscriber.onError(SerializedSubscriber.java:124) ~[reactor-core-3.4.24.jar:3.4.24]\nat reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.whenError(FluxRetryWhen.java:225) ~[reactor-core-3.4.24.jar:3.4.24]\nat reactor.core.publisher.FluxRetryWhen$RetryWhenOtherSubscriber.onError(FluxRetryWhen.java:274) ~[reactor-core-3.4.24.jar:3.4.24]\nat reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.drain(FluxConcatMap.java:415) ~[reactor-core-3.4.24.jar:3.4.24]\nat reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.onNext(FluxConcatMap.java:251) ~[reactor-core-3.4.24.jar:3.4.24]\nat reactor.core.publisher.EmitterProcessor.drain(EmitterProcessor.java:537) ~[reactor-core-3.4.24.jar:3.4.24]\nat reactor.core.publisher.EmitterProcessor.tryEmitNext(EmitterProcessor.java:343) ~[reactor-core-3.4.24.jar:3.4.24]\nat reactor.core.publisher.SinkManySerialized.tryEmitNext(SinkManySerialized.java:100) ~[reactor-core-3.4.24.jar:3.4.24]\nat reactor.core.publisher.InternalManySink.emitNext(InternalManySink.java:27) ~[reactor-core-3.4.24.jar:3.4.24]\nat reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.onError(FluxRetryWhen.java:190) ~[reactor-core-3.4.24.jar:3.4.24]\nat reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:201) ~[reactor-core-3.4.24.jar:3.4.24]\nat reactor.netty.http.client.HttpClientConnect$MonoHttpConnect$ClientTransportSubscriber.onError(HttpClientConnect.java:307) ~[reactor-netty-http-1.0.24.jar:1.0.24]\nat reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:201) ~[reactor-core-3.4.24.jar:3.4.24]\nat reactor.netty.resources.DefaultPooledConnectionProvider$DisposableAcquire.onUncaughtException(DefaultPooledConnectionProvider.java:204) ~[reactor-netty-core-1.0.24.jar:1.0.24]\nat reactor.netty.resources.DefaultPooledConnectionProvider$PooledConnection.onUncaughtException(DefaultPooledConnectionProvider.java:454) ~[reactor-netty-core-1.0.24.jar:1.0.24]\nat reactor.netty.channel.ChannelOperationsHandler.exceptionCaught(ChannelOperationsHandler.java:147) ~[reactor-netty-core-1.0.24.jar:1.0.24]\nat io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:346) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\nat io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:325) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\nat io.netty.channel.AbstractChannelHandlerContext.fireExceptionCaught(AbstractChannelHandlerContext.java:317) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\nat io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireExceptionCaught(CombinedChannelDuplexHandler.java:424) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\nat io.netty.channel.ChannelHandlerAdapter.exceptionCaught(ChannelHandlerAdapter.java:92) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\nat io.netty.channel.CombinedChannelDuplexHandler$1.fireExceptionCaught(CombinedChannelDuplexHandler.java:145) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\nat io.netty.channel.ChannelInboundHandlerAdapter.exceptionCaught(ChannelInboundHandlerAdapter.java:143) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\nat io.netty.channel.CombinedChannelDuplexHandler.exceptionCaught(CombinedChannelDuplexHandler.java:231) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\nat io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:346) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\nat io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:325) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\nat io.netty.channel.AbstractChannelHandlerContext.fireExceptionCaught(AbstractChannelHandlerContext.java:317) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\nat reactor.netty.tcp.SslProvider$SslReadHandler.userEventTriggered(SslProvider.java:850) ~[reactor-netty-core-1.0.24.jar:1.0.24]\nat io.netty.channel.AbstractChannelHandlerContext.invokeUserEventTriggered(AbstractChannelHandlerContext.java:400) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\nat io.netty.channel.AbstractChannelHandlerContext.invokeUserEventTriggered(AbstractChannelHandlerContext.java:376) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\nat io.netty.channel.AbstractChannelHandlerContext.fireUserEventTriggered(AbstractChannelHandlerContext.java:368) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\nat io.netty.handler.ssl.SslHandler.handleUnwrapThrowable(SslHandler.java:1260) ~[netty-handler-4.1.84.Final.jar:4.1.84.Final]\nat io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1241) ~[netty-handler-4.1.84.Final.jar:4.1.84.Final]\nat io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1285) ~[netty-handler-4.1.84.Final.jar:4.1.84.Final]\nat io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:519) ~[netty-codec-4.1.84.Final.jar:4.1.84.Final]\nat io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:458) ~[netty-codec-4.1.84.Final.jar:4.1.84.Final]\nat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:280) ~[netty-codec-4.1.84.Final.jar:4.1.84.Final]\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\nat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\nat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\nat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\nat io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:800) ~[netty-transport-classes-epoll-4.1.84.Final.jar:4.1.84.Final]\nat io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499) ~[netty-transport-classes-epoll-4.1.84.Final.jar:4.1.84.Final]\nat io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:397) ~[netty-transport-classes-epoll-4.1.84.Final.jar:4.1.84.Final]\nat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.84.Final.jar:4.1.84.Final]\nat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.84.Final.jar:4.1.84.Final]\nat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.84.Final.jar:4.1.84.Final]\nat java.base/java.lang.Thread.run(Unknown Source) ~[na:na]\nCaused by: javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure\nat java.base/sun.security.ssl.Alert.createSSLException(Unknown Source) ~[na:na]\nat java.base/sun.security.ssl.Alert.createSSLException(Unknown Source) ~[na:na]\nat java.base/sun.security.ssl.TransportContext.fatal(Unknown Source) ~[na:na]\nat java.base/sun.security.ssl.Alert$AlertConsumer.consume(Unknown Source) ~[na:na]\nat java.base/sun.security.ssl.TransportContext.dispatch(Unknown Source) ~[na:na]\nat java.base/sun.security.ssl.SSLTransport.decode(Unknown Source) ~[na:na]\nat java.base/sun.security.ssl.SSLEngineImpl.decode(Unknown Source) ~[na:na]\nat java.base/sun.security.ssl.SSLEngineImpl.readRecord(Unknown Source) ~[na:na]\nat java.base/sun.security.ssl.SSLEngineImpl.unwrap(Unknown Source) ~[na:na]\nat java.base/sun.security.ssl.SSLEngineImpl.unwrap(Unknown Source) ~[na:na]\nat java.base/javax.net.ssl.SSLEngine.unwrap(Unknown Source) ~[na:na]\nat io.netty.handler.ssl.SslHandler$SslEngineType$3.unwrap(SslHandler.java:296) ~[netty-handler-4.1.84.Final.jar:4.1.84.Final]\nat io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1343) ~[netty-handler-4.1.84.Final.jar:4.1.84.Final]\nat io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1236) ~[netty-handler-4.1.84.Final.jar:4.1.84.Final]\nat io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1285) ~[netty-handler-4.1.84.Final.jar:4.1.84.Final]\nat io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:519) ~[netty-codec-4.1.84.Final.jar:4.1.84.Final]\nat io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:458) ~[netty-codec-4.1.84.Final.jar:4.1.84.Final]\nat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:280) ~[netty-codec-4.1.84.Final.jar:4.1.84.Final]\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\nat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\nat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\nat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\nat io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:800) ~[netty-transport-classes-epoll-4.1.84.Final.jar:4.1.84.Final]\nat io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499) ~[netty-transport-classes-epoll-4.1.84.Final.jar:4.1.84.Final]\nat io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:397) ~[netty-transport-classes-epoll-4.1.84.Final.jar:4.1.84.Final]\nat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.84.Final.jar:4.1.84.Final]\nat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.84.Final.jar:4.1.84.Final]\nat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.84.Final.jar:4.1.84.Final]\nat java.base/java.lang.Thread.run(Unknown Source) ~[na:na]\n\n2022-11-14 14:10:57.729  WARN 1 --- [or-http-epoll-2] r.netty.http.client.HttpClientConnect    : [2d537e20, L:/172.30.0.9:50936 - R:schema-registry/172.30.0.4:8081] The connection observed an error\n\njavax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure\nat java.base/sun.security.ssl.Alert.createSSLException(Unknown Source) ~[na:na]\nat java.base/sun.security.ssl.Alert.createSSLException(Unknown Source) ~[na:na]\nat java.base/sun.security.ssl.TransportContext.fatal(Unknown Source) ~[na:na]\nat java.base/sun.security.ssl.Alert$AlertConsumer.consume(Unknown Source) ~[na:na]\nat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.84.Final.jar:4.1.84.Final]\nat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.84.Final.jar:4.1.84.Final]\nat java.base/java.lang.Thread.run(Unknown Source) ~[na:na]\n\n2022-11-14 14:10:57.731  WARN 1 --- [or-http-epoll-2] r.netty.http.client.HttpClientConnect    : [2d537e20, L:/172.30.0.9:50936 ! R:schema-registry/172.30.0.4:8081] The connection observed an error\n\nio.netty.handler.codec.DecoderException: javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure\nat io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:458) ~[netty-codec-4.1.84.Final.jar:4.1.84.Final]\n... 15 common frames omitted\n\n\n</code></pre>\n<p>But I am unable to pinpoint the real cause of the exception. Is there anything that I am missing from <code>WebClient</code> config side.</p>\n"},{"tags":["java","apache-camel","naming-conventions","dsl"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1668376486,"post_id":74425042,"comment_id":131384354,"body_markdown":"For me, the question is unclear. Can you [edit] the post and give some examples of the different cases?","body":"For me, the question is unclear. Can you <a href=\"https://stackoverflow.com/posts/74425042/edit\">edit</a> the post and give some examples of the different cases?"},{"owner":{"account_id":21476231,"reputation":55,"user_id":15824435,"display_name":"Ocimar"},"score":0,"creation_date":1668377644,"post_id":74425042,"comment_id":131384564,"body_markdown":"@Turing85, Okay, I just did it","body":"@Turing85, Okay, I just did it"}],"answers":[{"tags":[],"owner":{"account_id":22247129,"reputation":2052,"user_id":16480631,"display_name":"Pasi &#214;sterman"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668435186,"creation_date":1668435186,"answer_id":74433009,"question_id":74425042,"body_markdown":"Generally you should use terms defined in the Enterprise integration patterns book and [website](https://www.enterpriseintegrationpatterns.com/). This is what Camel documentation uses, what Camel in Action book uses and what are generally considered to be most universal terms when using camel whether you use xml-dsl, yaml-dsl or Java-dsl. \r\n\r\nCamel Java-DSL uses something like [Builder design pattern](https://en.wikipedia.org/wiki/Builder_pattern) that uses [method-chaining technique](https://en.wikipedia.org/wiki/Method_chaining) to define routes.\r\n\r\nIn Java-DSL when you call `from(&quot;direct:example&quot;)` method in your route-builder Camel creates new RouteDefition with `direct:example` Consumer-endpoint. The Method returns you the `RouteDefinition` object which you can then use to add Producer-endpoints and processors to that `RouteDefinition` generally using a [pipeline](https://camel.apache.org/components/latest/eips/pipeline-eip.html).\r\n\r\n**Examples:**\r\n- from() -&gt; Consumer endpoint\r\n- to() -&gt; Producer endpoint / Enricher\r\n- removeHeader, setHeader, unmarshal and setBody -&gt; Processors\r\n- split() -&gt; Spillter\r\n- aggregate() -&gt; Aggregator","title":"How should I name Apache Camel DSL elements? Are they &quot;functions&quot;? &quot;Methods&quot;? &quot;Verbs&quot;?","body":"<p>Generally you should use terms defined in the Enterprise integration patterns book and <a href=\"https://www.enterpriseintegrationpatterns.com/\" rel=\"nofollow noreferrer\">website</a>. This is what Camel documentation uses, what Camel in Action book uses and what are generally considered to be most universal terms when using camel whether you use xml-dsl, yaml-dsl or Java-dsl.</p>\n<p>Camel Java-DSL uses something like <a href=\"https://en.wikipedia.org/wiki/Builder_pattern\" rel=\"nofollow noreferrer\">Builder design pattern</a> that uses <a href=\"https://en.wikipedia.org/wiki/Method_chaining\" rel=\"nofollow noreferrer\">method-chaining technique</a> to define routes.</p>\n<p>In Java-DSL when you call <code>from(&quot;direct:example&quot;)</code> method in your route-builder Camel creates new RouteDefition with <code>direct:example</code> Consumer-endpoint. The Method returns you the <code>RouteDefinition</code> object which you can then use to add Producer-endpoints and processors to that <code>RouteDefinition</code> generally using a <a href=\"https://camel.apache.org/components/latest/eips/pipeline-eip.html\" rel=\"nofollow noreferrer\">pipeline</a>.</p>\n<p><strong>Examples:</strong></p>\n<ul>\n<li>from() -&gt; Consumer endpoint</li>\n<li>to() -&gt; Producer endpoint / Enricher</li>\n<li>removeHeader, setHeader, unmarshal and setBody -&gt; Processors</li>\n<li>split() -&gt; Spillter</li>\n<li>aggregate() -&gt; Aggregator</li>\n</ul>\n"}],"owner":{"account_id":21476231,"reputation":55,"user_id":15824435,"display_name":"Ocimar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":193,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668435186,"creation_date":1668376408,"question_id":74425042,"body_markdown":"When I want to refer to the elements used in creating a [route in Apache Camel](https://camel.apache.org/manual/routes.html) (like `from`, `setBody`, `to`, etc), what name should I use? Just call it a &quot;function&quot;? Can I call &quot;method&quot;? Or does it have a more specific and appropriate name?\r\n\r\nI&#39;ve seen people calling it &quot;verb&quot;. Would that be an appropriate nomination too?\r\n\r\nAn example of route definition is:\r\n```java\r\nfrom(&quot;rest:post:bin&quot;)\r\n.removeHeader(Exchange.HTTP_URI)\r\n.setHeader(&quot;CamelHttpMethod&quot;, constant(&quot;POST&quot;))\r\n.to(&quot;http://httpbin.org/anything&quot;)\r\n.unmarshal().json(JsonLibrary.Gson)\r\n.setBody(simple(&quot;${body[data]}&quot;))\r\n```\r\n\r\nIn this example we use the `from`, `removeHeader`, `setHeader`, `to`, `unmarshal` and `setBody` elements of the Java DSL.\r\n\r\nI know that, programmatically, they are function and methods. But using code is not the only way to define a route. We can use these same elements to define a route using the [XML or Yaml DSL](https://camel.apache.org/manual/dsl.html), for example. So I imagine that simply calling &quot;function&quot; might not be the most appropriate option for naming these DSL elements.\r\n\r\n\r\nThanks!","title":"How should I name Apache Camel DSL elements? Are they &quot;functions&quot;? &quot;Methods&quot;? &quot;Verbs&quot;?","body":"<p>When I want to refer to the elements used in creating a <a href=\"https://camel.apache.org/manual/routes.html\" rel=\"nofollow noreferrer\">route in Apache Camel</a> (like <code>from</code>, <code>setBody</code>, <code>to</code>, etc), what name should I use? Just call it a &quot;function&quot;? Can I call &quot;method&quot;? Or does it have a more specific and appropriate name?</p>\n<p>I've seen people calling it &quot;verb&quot;. Would that be an appropriate nomination too?</p>\n<p>An example of route definition is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>from(&quot;rest:post:bin&quot;)\n.removeHeader(Exchange.HTTP_URI)\n.setHeader(&quot;CamelHttpMethod&quot;, constant(&quot;POST&quot;))\n.to(&quot;http://httpbin.org/anything&quot;)\n.unmarshal().json(JsonLibrary.Gson)\n.setBody(simple(&quot;${body[data]}&quot;))\n</code></pre>\n<p>In this example we use the <code>from</code>, <code>removeHeader</code>, <code>setHeader</code>, <code>to</code>, <code>unmarshal</code> and <code>setBody</code> elements of the Java DSL.</p>\n<p>I know that, programmatically, they are function and methods. But using code is not the only way to define a route. We can use these same elements to define a route using the <a href=\"https://camel.apache.org/manual/dsl.html\" rel=\"nofollow noreferrer\">XML or Yaml DSL</a>, for example. So I imagine that simply calling &quot;function&quot; might not be the most appropriate option for naming these DSL elements.</p>\n<p>Thanks!</p>\n"},{"tags":["java","arrays","algorithm","arraylist"],"comments":[{"owner":{"account_id":2882210,"reputation":1777,"user_id":2472827,"display_name":"Neil"},"score":0,"creation_date":1652593230,"post_id":72245392,"comment_id":127640503,"body_markdown":"You could also use the [quick-select algoritm](https://en.wikipedia.org/wiki/Quickselect); I have a suspicion that that would be even faster in practice because it doesn&#39;t copy, and doesn&#39;t need to sort the whole list.","body":"You could also use the <a href=\"https://en.wikipedia.org/wiki/Quickselect\" rel=\"nofollow noreferrer\">quick-select algoritm</a>; I have a suspicion that that would be even faster in practice because it doesn&#39;t copy, and doesn&#39;t need to sort the whole list."}],"answers":[{"tags":[],"owner":{"account_id":7642693,"reputation":1180,"user_id":5794313,"display_name":"Sync it"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1652587855,"creation_date":1652587855,"answer_id":72245461,"question_id":72245392,"body_markdown":"Sort the stream is descending order of their lengths and skip first 2 elements. Requires java 11\r\n    \r\n    import java.util.*;\r\n    \r\n    class ThirdLongest\r\n    {\r\n        public static void main(String[] args) {\r\n            String[] words={&quot;Word&quot;,&quot;Longer Word&quot;,&quot;Longest Word Here&quot;};\r\n            \r\n            String word=Arrays.stream(words)\r\n                .sorted((s1,s2)-&gt;Integer.compare(s2.length(),s1.length()))\r\n                .skip(2)\r\n                .findFirst()\r\n                .get();\r\n                    \r\n           System.out.println(word);\r\n        }\r\n    }\r\n\r\nOr\r\n\r\nJust sort the Array in descending order and return 3rd element\r\n\r\n    Arrays.sort(words,(s1,s2)-&gt;Integer.compare(s2.length(),s1.length()));\r\n\r\n    return words[2];\r\n","title":"Finding the third largest string from an array of strings in Java","body":"<p>Sort the stream is descending order of their lengths and skip first 2 elements. Requires java 11</p>\n<pre><code>import java.util.*;\n\nclass ThirdLongest\n{\n    public static void main(String[] args) {\n        String[] words={&quot;Word&quot;,&quot;Longer Word&quot;,&quot;Longest Word Here&quot;};\n        \n        String word=Arrays.stream(words)\n            .sorted((s1,s2)-&gt;Integer.compare(s2.length(),s1.length()))\n            .skip(2)\n            .findFirst()\n            .get();\n                \n       System.out.println(word);\n    }\n}\n</code></pre>\n<p>Or</p>\n<p>Just sort the Array in descending order and return 3rd element</p>\n<pre><code>Arrays.sort(words,(s1,s2)-&gt;Integer.compare(s2.length(),s1.length()));\n\nreturn words[2];\n</code></pre>\n"},{"comments":[{"owner":{"account_id":15759953,"reputation":13,"user_id":11371936,"display_name":"Leonlit"},"score":0,"creation_date":1652589475,"post_id":72245481,"comment_id":127640168,"body_markdown":"Yes, this would also work if there is a constraint on how many resources we could use in the challenge. I still can&#39;t upvote, but thanks for the help.","body":"Yes, this would also work if there is a constraint on how many resources we could use in the challenge. I still can&#39;t upvote, but thanks for the help."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1652589792,"post_id":72245481,"comment_id":127640198,"body_markdown":"What constraint?  What resources?  (Why can&#39;t you upvote?  Anyone can upvote answers to their questions.)","body":"What constraint?  What resources?  (Why can&#39;t you upvote?  Anyone can upvote answers to their questions.)"},{"owner":{"account_id":25229135,"reputation":556,"user_id":19064525,"display_name":"SeanH"},"score":0,"creation_date":1652589854,"post_id":72245481,"comment_id":127640204,"body_markdown":"I think this is a good idea when meeting very large amount of input data.","body":"I think this is a good idea when meeting very large amount of input data."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1652589923,"post_id":72245481,"comment_id":127640208,"body_markdown":"Yea ... and for small sized input arrays, the extra code complexity is not worth the improved algorithmic complexity.  (Complexity is not performance ...)","body":"Yea ... and for small sized input arrays, the extra code complexity is not worth the improved algorithmic complexity.  (Complexity is not performance ...)"}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652590341,"creation_date":1652588290,"answer_id":72245481,"question_id":72245392,"body_markdown":"As noted by others, the simple solution is to just sort the array into order based on the String size (or whatever the ordering criterion is).  Then take the third from last element from the sorted list.\r\n\r\nThat is an `O(NlogN)` solution, since the sorting step is `O(NlogN)`.\r\n\r\nHere is an `O(N)` solution.\r\n\r\n  - Take the first 3 strings from the input array and sort them.  This array of 3 will represent the third, second, and largest elements of the input array *so far*.\r\n  - Iterate over the rest of the array elements:\r\n    - If the element is less that the *current* third largest element ignore it\r\n    - Otherwise:\r\n      - Add the current element to the array of 3.\r\n      - Sort it\r\n      - Remove the first (smallest) element.\r\n\r\nAt the end, you will have performed `O(N)` tests and *at most* `O(N)` sorts of 3 or 4 element arrays.  For an overall complexity of `O(N)`.\r\n\r\nThere is scope for micro-optimizing the sort steps to avoid loops and unnecessary array creation and copying.\r\n\r\n------------------\r\n\r\nNote: if the input lists are always going to be small, then this (more complex) solution is not worth the effort.  Having a better algorithmic complexity does not guarantee better performance when the scaling variables have small values.\r\n\r\n\r\n\r\n\r\n","title":"Finding the third largest string from an array of strings in Java","body":"<p>As noted by others, the simple solution is to just sort the array into order based on the String size (or whatever the ordering criterion is).  Then take the third from last element from the sorted list.</p>\n<p>That is an <code>O(NlogN)</code> solution, since the sorting step is <code>O(NlogN)</code>.</p>\n<p>Here is an <code>O(N)</code> solution.</p>\n<ul>\n<li>Take the first 3 strings from the input array and sort them.  This array of 3 will represent the third, second, and largest elements of the input array <em>so far</em>.</li>\n<li>Iterate over the rest of the array elements:\n<ul>\n<li>If the element is less that the <em>current</em> third largest element ignore it</li>\n<li>Otherwise:\n<ul>\n<li>Add the current element to the array of 3.</li>\n<li>Sort it</li>\n<li>Remove the first (smallest) element.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p>At the end, you will have performed <code>O(N)</code> tests and <em>at most</em> <code>O(N)</code> sorts of 3 or 4 element arrays.  For an overall complexity of <code>O(N)</code>.</p>\n<p>There is scope for micro-optimizing the sort steps to avoid loops and unnecessary array creation and copying.</p>\n<hr />\n<p>Note: if the input lists are always going to be small, then this (more complex) solution is not worth the effort.  Having a better algorithmic complexity does not guarantee better performance when the scaling variables have small values.</p>\n"}],"owner":{"account_id":15759953,"reputation":13,"user_id":11371936,"display_name":"Leonlit"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1726,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72245461,"answer_count":2,"score":0,"last_activity_date":1668434853,"creation_date":1652586482,"question_id":72245392,"body_markdown":"One of my friends asked me about a coding challenge that their lecturer gave them as an exercise. I got a solution working to solve it. But I think the solution is too lengthy for a categorised question as easy. So, I would like to ask if there&#39;s a more straightforward way to solve the challenge.\r\n\r\n\r\nHave the function third_greatest() that takes an array of strings and returns the third-largest word. So, for example: if the array is [&quot;hello&quot;, &quot;world&quot;, &quot;before&quot;, &quot;noon&quot;], the output should be &quot;world&quot; because &quot;before&quot; is six letters long, and &quot;hello&quot; and &quot;world&quot; are both 5, but the output should be &quot;world&quot; because it appeared as the last five-letter word in\r\nthe array. If the array was [&quot;hello&quot;, &quot;world&quot;, &quot;after&quot;, &quot;noon&quot;], the output should be &quot;after&quot; because the first three words are all five letters long, so return the last one. The array will have at least three strings, and each string will only contain letters.\r\n\r\nThe solution I&#39;ve come up with used HashMap to store the strings in a dictionary manner. The Hashmap will store data in the form of Integer and ArrayList, the length and the words that have that length. Once the code finished iterating the String array and put the respective strings into their separate group, I then extracted all the keys (length) found in the array from the Hashmap, sorting them in ascending order. After that, all the values in the Hashmap&#39;s ArrayList will be transferred to another ArrayList. Finally, it returns the third String of the new ArrayList to the function caller. \r\n\r\nThanks. \r\n\r\n``` Java\r\nimport java.util.Arrays;\r\nimport java.util.ArrayList;\r\nimport java.util.HashMap;\r\n\r\n\r\nclass Main {\r\n    public static void main (String args[]) {\r\n        String test[] = {&quot;hello&quot;, &quot;world&quot;, &quot;before&quot;, &quot;noon&quot;};\r\n        System.out.println(third_greatest(test));\r\n    }\r\n\r\n    public static String third_greatest(String words[]) {\r\n        HashMap&lt;Integer, ArrayList&lt;String&gt;&gt; words_length = new HashMap&lt;Integer, ArrayList&lt;String&gt;&gt;();\r\n        for (String word : words) {\r\n            int length = word.length();\r\n            if (words_length.containsKey(length)) {\r\n                words_length.get(length).add(word);\r\n            } else {\r\n                ArrayList&lt;String&gt; temp = new ArrayList&lt;String&gt;();\r\n                temp.add(word);\r\n                words_length.put(length, temp);\r\n            }\r\n        }\r\n        Object keys[] = words_length.keySet().toArray();\r\n        Integer sorted[] = new Integer[words_length.size()];\r\n        for (int x = 0; x &lt; keys.length; x++) {\r\n            sorted[x] = (Integer)keys[x];\r\n        }\r\n        Arrays.sort(sorted);\r\n        ArrayList&lt;String&gt; results = new ArrayList&lt;String&gt;();\r\n        for (int x = sorted.length - 1; x &gt;= 0; x--) {\r\n            ArrayList&lt;String&gt; temp = words_length.get(sorted[x]);\r\n            for (String word : temp) {\r\n                results.add(word);\r\n            }\r\n        }\r\n        return results.get(2);\r\n    }\r\n}\r\n\r\n```","title":"Finding the third largest string from an array of strings in Java","body":"<p>One of my friends asked me about a coding challenge that their lecturer gave them as an exercise. I got a solution working to solve it. But I think the solution is too lengthy for a categorised question as easy. So, I would like to ask if there's a more straightforward way to solve the challenge.</p>\n<p>Have the function third_greatest() that takes an array of strings and returns the third-largest word. So, for example: if the array is [&quot;hello&quot;, &quot;world&quot;, &quot;before&quot;, &quot;noon&quot;], the output should be &quot;world&quot; because &quot;before&quot; is six letters long, and &quot;hello&quot; and &quot;world&quot; are both 5, but the output should be &quot;world&quot; because it appeared as the last five-letter word in\nthe array. If the array was [&quot;hello&quot;, &quot;world&quot;, &quot;after&quot;, &quot;noon&quot;], the output should be &quot;after&quot; because the first three words are all five letters long, so return the last one. The array will have at least three strings, and each string will only contain letters.</p>\n<p>The solution I've come up with used HashMap to store the strings in a dictionary manner. The Hashmap will store data in the form of Integer and ArrayList, the length and the words that have that length. Once the code finished iterating the String array and put the respective strings into their separate group, I then extracted all the keys (length) found in the array from the Hashmap, sorting them in ascending order. After that, all the values in the Hashmap's ArrayList will be transferred to another ArrayList. Finally, it returns the third String of the new ArrayList to the function caller.</p>\n<p>Thanks.</p>\n<pre><code>import java.util.Arrays;\nimport java.util.ArrayList;\nimport java.util.HashMap;\n\n\nclass Main {\n    public static void main (String args[]) {\n        String test[] = {&quot;hello&quot;, &quot;world&quot;, &quot;before&quot;, &quot;noon&quot;};\n        System.out.println(third_greatest(test));\n    }\n\n    public static String third_greatest(String words[]) {\n        HashMap&lt;Integer, ArrayList&lt;String&gt;&gt; words_length = new HashMap&lt;Integer, ArrayList&lt;String&gt;&gt;();\n        for (String word : words) {\n            int length = word.length();\n            if (words_length.containsKey(length)) {\n                words_length.get(length).add(word);\n            } else {\n                ArrayList&lt;String&gt; temp = new ArrayList&lt;String&gt;();\n                temp.add(word);\n                words_length.put(length, temp);\n            }\n        }\n        Object keys[] = words_length.keySet().toArray();\n        Integer sorted[] = new Integer[words_length.size()];\n        for (int x = 0; x &lt; keys.length; x++) {\n            sorted[x] = (Integer)keys[x];\n        }\n        Arrays.sort(sorted);\n        ArrayList&lt;String&gt; results = new ArrayList&lt;String&gt;();\n        for (int x = sorted.length - 1; x &gt;= 0; x--) {\n            ArrayList&lt;String&gt; temp = words_length.get(sorted[x]);\n            for (String word : temp) {\n                results.add(word);\n            }\n        }\n        return results.get(2);\n    }\n}\n\n</code></pre>\n"},{"tags":["javascript","java","android","jquery","android-security"],"comments":[{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1668434734,"post_id":74432881,"comment_id":131397189,"body_markdown":"Switch to an updated version of [jQuery](https://jquery.com/download/), currently it&#39;s at 1.11.0","body":"Switch to an updated version of <a href=\"https://jquery.com/download/\" rel=\"nofollow noreferrer\">jQuery</a>, currently it&#39;s at 1.11.0"},{"owner":{"account_id":20501195,"reputation":1,"user_id":15045099,"display_name":"Etsenumhe Timothy"},"score":0,"creation_date":1668766470,"post_id":74432881,"comment_id":131491258,"body_markdown":"Please how do I update the jQuery version?","body":"Please how do I update the jQuery version?"}],"owner":{"account_id":20501195,"reputation":1,"user_id":15045099,"display_name":"Etsenumhe Timothy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668434626,"creation_date":1668434626,"question_id":74432881,"body_markdown":"In my Play Developer console I see the following message for an updated android app I have in my store:\r\n\r\nVulnerable Libraries\r\nYour app contains one or more libraries with known security issues. Please see this Google Help Center article for details.\r\n\r\nJavaScript jquery 1.9.1 SNYK-npm:jquery:20110606\r\nSNYK-npm:jquery:20150627\r\nSNYK-JS-JQUERY-174006 assets/helix/vendor/jquery.js\r\n\r\nPlease how can I solve this error?","title":"android-security ... How do I fix this jquery security alert: &quot;Your app contains one or more libraries with known security issues&quot;","body":"<p>In my Play Developer console I see the following message for an updated android app I have in my store:</p>\n<p>Vulnerable Libraries\nYour app contains one or more libraries with known security issues. Please see this Google Help Center article for details.</p>\n<p>JavaScript jquery 1.9.1 SNYK-npm:jquery:20110606\nSNYK-npm:jquery:20150627\nSNYK-JS-JQUERY-174006 assets/helix/vendor/jquery.js</p>\n<p>Please how can I solve this error?</p>\n"},{"tags":["java","wiremock"],"comments":[{"owner":{"account_id":7712763,"reputation":628,"user_id":5841551,"accept_rate":50,"display_name":"kladderradatsch"},"score":0,"creation_date":1668383288,"post_id":74425651,"comment_id":131385445,"body_markdown":"Please execute the command: `$&gt; mvn clean package` Then we continue ...","body":"Please execute the command: <code>$&gt; mvn clean package</code> Then we continue ..."},{"owner":{"account_id":364224,"reputation":313,"user_id":708489,"accept_rate":58,"display_name":"PPGoodMan"},"score":0,"creation_date":1668384002,"post_id":74425651,"comment_id":131385555,"body_markdown":"@kladderradatsch thanks for the suggestion. I&#39;m still getting the same &#39;cannot find symbol errrors&#39;.","body":"@kladderradatsch thanks for the suggestion. I&#39;m still getting the same &#39;cannot find symbol errrors&#39;."},{"owner":{"account_id":7712763,"reputation":628,"user_id":5841551,"accept_rate":50,"display_name":"kladderradatsch"},"score":0,"creation_date":1668385328,"post_id":74425651,"comment_id":131385752,"body_markdown":"Remove `&lt;scope&gt;test&lt;/scope&gt;` in your `pom.xml` because your main class is not in the test scope. That leads to the further question why do you use Wiremock in a class which is not a test? Don&#39;t do this!","body":"Remove <code>&lt;scope&gt;test&lt;&#47;scope&gt;</code> in your <code>pom.xml</code> because your main class is not in the test scope. That leads to the further question why do you use Wiremock in a class which is not a test? Don&#39;t do this!"},{"owner":{"account_id":364224,"reputation":313,"user_id":708489,"accept_rate":58,"display_name":"PPGoodMan"},"score":0,"creation_date":1668387080,"post_id":74425651,"comment_id":131385931,"body_markdown":"@kladderradatsch I removed it. I&#39;m still having the same problem. The reason for doing this is because I need to test some other component written as a separate stand alone program. I need a http server with good programmatic control over the output. Is there any other recommended way of doing this?","body":"@kladderradatsch I removed it. I&#39;m still having the same problem. The reason for doing this is because I need to test some other component written as a separate stand alone program. I need a http server with good programmatic control over the output. Is there any other recommended way of doing this?"}],"answers":[{"comments":[{"owner":{"account_id":364224,"reputation":313,"user_id":708489,"accept_rate":58,"display_name":"PPGoodMan"},"score":0,"creation_date":1668442075,"post_id":74432816,"comment_id":131400015,"body_markdown":"Actually what was missing was the two imports: `import com.github.tomakehurst.wiremock.WiremockServer;` and `import static com.github.tomakehurst.wiremock.core.WireMockConfiguration.options;` adding them made it work.","body":"Actually what was missing was the two imports: <code>import com.github.tomakehurst.wiremock.WiremockServer;</code> and <code>import static com.github.tomakehurst.wiremock.core.WireMockConfiguration.o&zwnj;&#8203;ptions;</code> adding them made it work."},{"owner":{"account_id":7712763,"reputation":628,"user_id":5841551,"accept_rate":50,"display_name":"kladderradatsch"},"score":0,"creation_date":1668443875,"post_id":74432816,"comment_id":131400736,"body_markdown":"Please work with an IDE like **Eclipse** or **IDEA intelliJ** in which this is done automatically.","body":"Please work with an IDE like <b>Eclipse</b> or <b>IDEA intelliJ</b> in which this is done automatically."}],"tags":[],"owner":{"account_id":7712763,"reputation":628,"user_id":5841551,"accept_rate":50,"display_name":"kladderradatsch"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668434343,"creation_date":1668434343,"answer_id":74432816,"question_id":74425651,"body_markdown":"WireMock is just for testing but you&#39;ve put it into the implementation scope of your code base (i.e. in folder *src/main/java*) by referring to it in a main class. However, it cannot be available there because the dependency is equipped with `&lt;scope&gt;test&lt;/scope&gt;`. Leave it as it is and configure WireMock in your test classes (i.e. in folder *src/test/java*) like the [WireMock&#39;s documentation](https://wiremock.org/docs/junit-jupiter/) shows it:\r\n\r\n```\r\n@WireMockTest(httpPort = 8080)\r\npublic class FixedPortDeclarativeWireMockTest {\r\n    ...\r\n}\r\n```\r\nThat code snippet above has the same effect as what you did in the main class.","title":"Unable to run a plain Java Wiremock","body":"<p>WireMock is just for testing but you've put it into the implementation scope of your code base (i.e. in folder <em>src/main/java</em>) by referring to it in a main class. However, it cannot be available there because the dependency is equipped with <code>&lt;scope&gt;test&lt;/scope&gt;</code>. Leave it as it is and configure WireMock in your test classes (i.e. in folder <em>src/test/java</em>) like the <a href=\"https://wiremock.org/docs/junit-jupiter/\" rel=\"nofollow noreferrer\">WireMock's documentation</a> shows it:</p>\n<pre><code>@WireMockTest(httpPort = 8080)\npublic class FixedPortDeclarativeWireMockTest {\n    ...\n}\n</code></pre>\n<p>That code snippet above has the same effect as what you did in the main class.</p>\n"}],"owner":{"account_id":364224,"reputation":313,"user_id":708489,"accept_rate":58,"display_name":"PPGoodMan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":573,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668434343,"creation_date":1668382913,"question_id":74425651,"body_markdown":"I&#39;m an absolute beginner to Wiremock, Maven and stuff. I just want to run Wiremock server in my Java program. I got Maven installed and used [this][1] and [this][2] guides to try and get Wiremock running inside my java code. My `pom.xml` file looks like this:\r\n\r\n    &lt;project&gt;\r\n         &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n         &lt;groupId&gt;com.mycode&lt;/groupId&gt;\r\n         &lt;artifactId&gt;test&lt;/artifactId&gt;\r\n         &lt;version&gt;1.0&lt;/version&gt;\r\n         &lt;properties&gt;\r\n              &lt;maven.compiler.source&gt;19&lt;/maven.compiler.source&gt;\r\n              &lt;maven.compiler.target&gt;19&lt;/maven.compiler.target&gt;\r\n         &lt;/properties&gt;\r\n         &lt;dependencies&gt;\r\n              &lt;dependency&gt;\r\n                   &lt;groupId&gt;com.github.tomakehurst&lt;/groupId&gt;\r\n                   &lt;artifactId&gt;wiremock-jre8&lt;/artifactId&gt;\r\n                   &lt;version&gt;2.35.0&lt;/version&gt;\r\n                   &lt;scope&gt;test&lt;/scope&gt;  \r\n              &lt;/dependency&gt;\r\n         &lt;/dependencies&gt;    \r\n    &lt;/project&gt;\r\n\r\nAnd my Java code which resides in a file called testWiremock.java looks like this:\r\n\r\n    public class testWiremock{\r\n         public static void main(String[] args){\r\n              WireMockServer wiremockServer = new WireMockServer(options().port(8080));\r\n              wireMockServer.start();\r\n              System.out.println(&quot;Server running successfully!&quot;);\r\n              wreMockServer.stop();\r\n         }\r\n    }\r\n\r\nWhen I try to compile it with `mvn compile`, I get the following error:\r\n\r\n    ppgoodman@CWGXXXXQCL wiretest % mvn compile\r\n    [INFO] Scanning for projects...\r\n    [INFO]\r\n    [INFO]\r\n    com.mycode:test\r\n    [INFO] Building test 1.0\r\n    [INFO]\r\n    [ jar ]---\r\n    [INFO]\r\n    [INFO] --- maven-resources-plugin:2.6: resources (default-resources) @ test ---\r\n    [WARNING] Using platform encoding (UTF-8 actually) to copy filtered resources, i.e. build is platform dependent! [INFO] skip non existing resourceDirectory /Users/ppgoodman/Documents/programming/wiretest/src/main/resources [INFO]\r\n    [INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ test ---\r\n    [INFO] Changes detected - recompiling the module!\r\n    [WARNING] File encoding has not been set, using platform encoding UTF-8, i.e. build is platform dependent! [INFO] Compiling 1 source file to /Users/ppgoodman/Documents/programming/wiretest/target/classes [INFO]\r\n    [ERROR] COMPILATION ERROR :\r\n    [INFO]\r\n    [ERROR] /Users/ppgoodman/Documents/programming/wiretest/src/main/java/testWiremock.java: [4,9] cannot find symbol symbol: class WireMockServer\r\n    location: class testWiremock\r\n    [ERROR] /Users/ppgoodman/Documents/programming/wiretest/src/main/java/testWiremock.java: [4,45] cannot find symbol symbol: class WireMockServer\r\n    location: class testWiremock\r\n    [ERROR] /Users/ppgoodman/Documents/programming/wiretest/src/main/java/testWiremock.java: [4,60] cannot find symbol symbol: method options()\r\n    location: class testWiremock\r\n    [INFO] 3 errors\r\n    [INFO]\r\n    [INFO]\r\n    [INFO] BUILD FAILURE\r\n    [INFO]\r\n    [INFO] Total time: 8.432 s\r\n    [INFO] Finished at: 2822-11-13T18:29:49-05:00\r\n    [INFO]\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project test: Compilation failure: Compilation failure: [ERROR] /Users/ppgoodman/Documents/programming/wiretest/src/main/java/testWiremock.java: [4,9] cannot find symbol\r\n    [ERROR]\r\n    symbol: class WireMockServer\r\n    [ERROR] location: class testwiremock\r\n    [ERROR] /Users/ppgoodman/Documents/programming/wiretest/src/main/java/testWiremock.java: [4,45] cannot find symbol [ERROR] symbol: class WireMockServer\r\n    [ERROR] location: class testWiremock\r\n    wiretest-zsh-245x68\r\n    [ERROR] /Users/ppgoodman/Documents/programming/wiretest/src/main/java/testWiremock.java: [4,60] cannot find symbol [ERROR]\r\n    symbol: method options()\r\n    [ERROR] location: class testWiremock\r\n    [ERROR] -&gt; [Help 1]\r\n    [ERROR]\r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR]\r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles: [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException \r\n\r\nWhat am I missing here? Do I have to have any imports? Any help would be greatly appreciated.\r\n\r\n\r\n  [1]: https://wiremock.org/docs/getting-started/\r\n  [2]: https://wiremock.org/docs/java-usage/\r\n","title":"Unable to run a plain Java Wiremock","body":"<p>I'm an absolute beginner to Wiremock, Maven and stuff. I just want to run Wiremock server in my Java program. I got Maven installed and used <a href=\"https://wiremock.org/docs/getting-started/\" rel=\"nofollow noreferrer\">this</a> and <a href=\"https://wiremock.org/docs/java-usage/\" rel=\"nofollow noreferrer\">this</a> guides to try and get Wiremock running inside my java code. My <code>pom.xml</code> file looks like this:</p>\n<pre><code>&lt;project&gt;\n     &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n     &lt;groupId&gt;com.mycode&lt;/groupId&gt;\n     &lt;artifactId&gt;test&lt;/artifactId&gt;\n     &lt;version&gt;1.0&lt;/version&gt;\n     &lt;properties&gt;\n          &lt;maven.compiler.source&gt;19&lt;/maven.compiler.source&gt;\n          &lt;maven.compiler.target&gt;19&lt;/maven.compiler.target&gt;\n     &lt;/properties&gt;\n     &lt;dependencies&gt;\n          &lt;dependency&gt;\n               &lt;groupId&gt;com.github.tomakehurst&lt;/groupId&gt;\n               &lt;artifactId&gt;wiremock-jre8&lt;/artifactId&gt;\n               &lt;version&gt;2.35.0&lt;/version&gt;\n               &lt;scope&gt;test&lt;/scope&gt;  \n          &lt;/dependency&gt;\n     &lt;/dependencies&gt;    \n&lt;/project&gt;\n</code></pre>\n<p>And my Java code which resides in a file called testWiremock.java looks like this:</p>\n<pre><code>public class testWiremock{\n     public static void main(String[] args){\n          WireMockServer wiremockServer = new WireMockServer(options().port(8080));\n          wireMockServer.start();\n          System.out.println(&quot;Server running successfully!&quot;);\n          wreMockServer.stop();\n     }\n}\n</code></pre>\n<p>When I try to compile it with <code>mvn compile</code>, I get the following error:</p>\n<pre><code>ppgoodman@CWGXXXXQCL wiretest % mvn compile\n[INFO] Scanning for projects...\n[INFO]\n[INFO]\ncom.mycode:test\n[INFO] Building test 1.0\n[INFO]\n[ jar ]---\n[INFO]\n[INFO] --- maven-resources-plugin:2.6: resources (default-resources) @ test ---\n[WARNING] Using platform encoding (UTF-8 actually) to copy filtered resources, i.e. build is platform dependent! [INFO] skip non existing resourceDirectory /Users/ppgoodman/Documents/programming/wiretest/src/main/resources [INFO]\n[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ test ---\n[INFO] Changes detected - recompiling the module!\n[WARNING] File encoding has not been set, using platform encoding UTF-8, i.e. build is platform dependent! [INFO] Compiling 1 source file to /Users/ppgoodman/Documents/programming/wiretest/target/classes [INFO]\n[ERROR] COMPILATION ERROR :\n[INFO]\n[ERROR] /Users/ppgoodman/Documents/programming/wiretest/src/main/java/testWiremock.java: [4,9] cannot find symbol symbol: class WireMockServer\nlocation: class testWiremock\n[ERROR] /Users/ppgoodman/Documents/programming/wiretest/src/main/java/testWiremock.java: [4,45] cannot find symbol symbol: class WireMockServer\nlocation: class testWiremock\n[ERROR] /Users/ppgoodman/Documents/programming/wiretest/src/main/java/testWiremock.java: [4,60] cannot find symbol symbol: method options()\nlocation: class testWiremock\n[INFO] 3 errors\n[INFO]\n[INFO]\n[INFO] BUILD FAILURE\n[INFO]\n[INFO] Total time: 8.432 s\n[INFO] Finished at: 2822-11-13T18:29:49-05:00\n[INFO]\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project test: Compilation failure: Compilation failure: [ERROR] /Users/ppgoodman/Documents/programming/wiretest/src/main/java/testWiremock.java: [4,9] cannot find symbol\n[ERROR]\nsymbol: class WireMockServer\n[ERROR] location: class testwiremock\n[ERROR] /Users/ppgoodman/Documents/programming/wiretest/src/main/java/testWiremock.java: [4,45] cannot find symbol [ERROR] symbol: class WireMockServer\n[ERROR] location: class testWiremock\nwiretest-zsh-245x68\n[ERROR] /Users/ppgoodman/Documents/programming/wiretest/src/main/java/testWiremock.java: [4,60] cannot find symbol [ERROR]\nsymbol: method options()\n[ERROR] location: class testWiremock\n[ERROR] -&gt; [Help 1]\n[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles: [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException \n</code></pre>\n<p>What am I missing here? Do I have to have any imports? Any help would be greatly appreciated.</p>\n"},{"tags":["java","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":1,"creation_date":1667480573,"post_id":74303295,"comment_id":131179666,"body_markdown":"What makes you think that there is an extra query with the second approach?","body":"What makes you think that there is an extra query with the second approach?"},{"owner":{"account_id":15513088,"reputation":132,"user_id":11191394,"display_name":"Lorenzo"},"score":0,"creation_date":1667484590,"post_id":74303295,"comment_id":131181332,"body_markdown":"If I use a bidirectional relationship I need to keep synchronized both sides, so when I insert a badge I should call the method userService.addBadge which will fetch the whole collection.","body":"If I use a bidirectional relationship I need to keep synchronized both sides, so when I insert a badge I should call the method userService.addBadge which will fetch the whole collection."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1667487143,"post_id":74303295,"comment_id":131182442,"body_markdown":"You &#39;should&#39; but don&#39;t have to. The owning side of the relationship controls the FK, so it is the only side you must update. The other is recommended, but isn&#39;t mandatory; If you must maintain it, do so. If you can&#39;t, just figure out the effects and verify you can live with it. Ie the relationship will be stale if you don&#39;t maintain it, cache that parent for any length of time - non-issues if you never fetch the relationship.","body":"You &#39;should&#39; but don&#39;t have to. The owning side of the relationship controls the FK, so it is the only side you must update. The other is recommended, but isn&#39;t mandatory; If you must maintain it, do so. If you can&#39;t, just figure out the effects and verify you can live with it. Ie the relationship will be stale if you don&#39;t maintain it, cache that parent for any length of time - non-issues if you never fetch the relationship."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1667487175,"post_id":74303295,"comment_id":131182455,"body_markdown":"To avoid performance issues on delete, let the database do the delete for you with the ON DELETE CASCADE option. EclipseLInk has an annotation (see https://www.eclipse.org/eclipselink/documentation/2.4/jpa/extensions/a_cascadeondelete.htm ) so it avoids the query and Hibernate must have something similar. The overhead involved should determine which you go with, but only testing can tell you which is really better for your application. I&#39;ve gone with variations of all 3 approaches for various reasons in the same project - none are perfect one fits all type solutions.","body":"To avoid performance issues on delete, let the database do the delete for you with the ON DELETE CASCADE option. EclipseLInk has an annotation (see <a href=\"https://www.eclipse.org/eclipselink/documentation/2.4/jpa/extensions/a_cascadeondelete.htm\" rel=\"nofollow noreferrer\">eclipse.org/eclipselink/documentation/2.4/jpa/extensions/&hellip;</a> ) so it avoids the query and Hibernate must have something similar. The overhead involved should determine which you go with, but only testing can tell you which is really better for your application. I&#39;ve gone with variations of all 3 approaches for various reasons in the same project - none are perfect one fits all type solutions."},{"owner":{"account_id":15513088,"reputation":132,"user_id":11191394,"display_name":"Lorenzo"},"score":0,"creation_date":1668709141,"post_id":74303295,"comment_id":131478002,"body_markdown":"@Chris If I have to create a bidirectional relationship just to use the cascade maybe it&#39;s better to use the db cascade which is faster. As you said using the db cascade I would avoid performance issues.","body":"@Chris If I have to create a bidirectional relationship just to use the cascade maybe it&#39;s better to use the db cascade which is faster. As you said using the db cascade I would avoid performance issues."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1668714117,"post_id":74303295,"comment_id":131479615,"body_markdown":"If you don&#39;t need the reference from user-&gt;badge don&#39;t map it. I&#39;ve found the opposite of your &quot;I will end up autowiring a lot of services in the user service and that is bad.&quot; to be true. It has always been beneficial in my projects that the User handling knows about all resources tied to a User. Some of those maybe just database data and there is no problem letting JPA or the DB clear them, others may exist in other places and need different mechanisms to get cleaned up. Some future dev may need to know which resources are cleared when users are and the many different paths to delete badges.","body":"If you don&#39;t need the reference from user-&gt;badge don&#39;t map it. I&#39;ve found the opposite of your &quot;I will end up autowiring a lot of services in the user service and that is bad.&quot; to be true. It has always been beneficial in my projects that the User handling knows about all resources tied to a User. Some of those maybe just database data and there is no problem letting JPA or the DB clear them, others may exist in other places and need different mechanisms to get cleaned up. Some future dev may need to know which resources are cleared when users are and the many different paths to delete badges."},{"owner":{"account_id":15513088,"reputation":132,"user_id":11191394,"display_name":"Lorenzo"},"score":0,"creation_date":1668769678,"post_id":74303295,"comment_id":131492375,"body_markdown":"There isn&#39;t a perfect way to handle this. If I use bidirectional relationship I will end up fetching a lot of data. If I don&#39;t sync the relationship I cannot use the cache but at least I don&#39;t have to fetch the relationship and cascade works. If I use the db cascade I resolve the performance issue but then JPA cannot be notified about the changes and future dev may have hard time to understand what happens when user gets deleted. To be honest I would stick to db cascade, less code and better perfomance but it  certainly has its downsides.","body":"There isn&#39;t a perfect way to handle this. If I use bidirectional relationship I will end up fetching a lot of data. If I don&#39;t sync the relationship I cannot use the cache but at least I don&#39;t have to fetch the relationship and cascade works. If I use the db cascade I resolve the performance issue but then JPA cannot be notified about the changes and future dev may have hard time to understand what happens when user gets deleted. To be honest I would stick to db cascade, less code and better perfomance but it  certainly has its downsides."},{"owner":{"account_id":15513088,"reputation":132,"user_id":11191394,"display_name":"Lorenzo"},"score":0,"creation_date":1668770661,"post_id":74303295,"comment_id":131492682,"body_markdown":"@Chris I could probably also implement a bidirectional mapping without syncing and not implementing caching. This would make it clear what happens when a user is deleted. I just cannot decide what&#39;s better.","body":"@Chris I could probably also implement a bidirectional mapping without syncing and not implementing caching. This would make it clear what happens when a user is deleted. I just cannot decide what&#39;s better."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1668790519,"post_id":74303295,"comment_id":131499660,"body_markdown":"You do not need to ever fetch any data with a bidirectional relationship. That is what lazy (and JSONIgnore and other annotations) are for. You fetch it only if you need it, and it shows the logical mapping of the data in the model. There are other ways to do this, hundreds if you spend the time looking. JPA picked this approach because it seems most commonly used and fits most use cases. I&#39;m not sure what synching you mean (setting both sides?). Other providers (EclipseLink) can allow you to add to a lazy collection without fetching it. Pick the tradeoffs that suite your apps needs","body":"You do not need to ever fetch any data with a bidirectional relationship. That is what lazy (and JSONIgnore and other annotations) are for. You fetch it only if you need it, and it shows the logical mapping of the data in the model. There are other ways to do this, hundreds if you spend the time looking. JPA picked this approach because it seems most commonly used and fits most use cases. I&#39;m not sure what synching you mean (setting both sides?). Other providers (EclipseLink) can allow you to add to a lazy collection without fetching it. Pick the tradeoffs that suite your apps needs"}],"answers":[{"tags":[],"owner":{"account_id":9852838,"reputation":81,"user_id":7298349,"display_name":"exody"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667480637,"creation_date":1667480637,"answer_id":74303538,"question_id":74303295,"body_markdown":"By handling the badge deletion in user service, you make it clear what should happen at user deletion. Now anyone who deletes an user will delete also its relations (you can think about that as a side effect). So the first way is the best that you can do. \r\n\r\nJust make sure to not try to delete users from badge service. That would mean circular dependency and would create confusion about who is the owner of the relation. ","title":"How to properly delete a ManyToOne relationship from Parent in JPA?","body":"<p>By handling the badge deletion in user service, you make it clear what should happen at user deletion. Now anyone who deletes an user will delete also its relations (you can think about that as a side effect). So the first way is the best that you can do.</p>\n<p>Just make sure to not try to delete users from badge service. That would mean circular dependency and would create confusion about who is the owner of the relation.</p>\n"},{"tags":[],"owner":{"account_id":26818074,"reputation":1,"user_id":20407794,"display_name":"Deepak Dubey"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667481739,"creation_date":1667481739,"answer_id":74303770,"question_id":74303295,"body_markdown":"First approach looks good in this scenario. To keep UserService clean you can create a PreRemove lisener on User entity which will remove all associations before user deletion, and this will help to keep UserService clean. \r\nThe next thing to handle here, you need to change CASCADE\r\n\r\n    @Entity\r\n    @Table(name = &quot;user&quot;)\r\n    @EntityListener(UderDeletionListener.class)\r\n    public class User {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Integer id;\r\n    \r\n        private String name;\r\n    \r\n        private String lastname;\r\n    \r\n        @OneToMany(mappedBy = &quot;user&quot;, fetch = FetchType.LAZY)\r\n        private List&lt;Badge&gt; badges = new ArrayList&lt;Badge&gt;();\r\n    \r\n    }\r\n    \r\n    @Entity\r\n    @Table(name = &quot;badge&quot;)\r\n    public class Badge {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Integer id;\r\n        \r\n        private String code;\r\n        \r\n        @ManyToOne(fetch = FetchType.LAZY, cascade = CascadeType.PERSIST)\r\n        @JoinColumn(name = &quot;badge_id&quot;)\r\n        private User user;\r\n        \r\n    }\r\n    \r\n    @Component\r\n    @RequiredArgsConstructor\r\n    public class UderDeletionListener {\r\n      private final BadgeRepository badgeRepo;\r\n    \r\n      @PreRemove\r\n      @Transactional(propagation = Propagation.REQUIRES_NEW)\r\n      public void onDeletion(final User user) {\r\n       badgeRepo.deleteByUserId(user.getId());\r\n      }\r\n    }","title":"How to properly delete a ManyToOne relationship from Parent in JPA?","body":"<p>First approach looks good in this scenario. To keep UserService clean you can create a PreRemove lisener on User entity which will remove all associations before user deletion, and this will help to keep UserService clean.\nThe next thing to handle here, you need to change CASCADE</p>\n<pre><code>@Entity\n@Table(name = &quot;user&quot;)\n@EntityListener(UderDeletionListener.class)\npublic class User {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n\n    private String name;\n\n    private String lastname;\n\n    @OneToMany(mappedBy = &quot;user&quot;, fetch = FetchType.LAZY)\n    private List&lt;Badge&gt; badges = new ArrayList&lt;Badge&gt;();\n\n}\n\n@Entity\n@Table(name = &quot;badge&quot;)\npublic class Badge {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n    \n    private String code;\n    \n    @ManyToOne(fetch = FetchType.LAZY, cascade = CascadeType.PERSIST)\n    @JoinColumn(name = &quot;badge_id&quot;)\n    private User user;\n    \n}\n\n@Component\n@RequiredArgsConstructor\npublic class UderDeletionListener {\n  private final BadgeRepository badgeRepo;\n\n  @PreRemove\n  @Transactional(propagation = Propagation.REQUIRES_NEW)\n  public void onDeletion(final User user) {\n   badgeRepo.deleteByUserId(user.getId());\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4158688,"reputation":2520,"user_id":3409234,"display_name":"TanvirChowdhury"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668434233,"creation_date":1668434233,"answer_id":74432801,"question_id":74303295,"body_markdown":"In this Scenario its better to archive your badge rather then direct delete.\r\n\r\n    @Entity\r\n    @Table(name = &quot;badge&quot;)\r\n    public class Badge {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Integer id;\r\n        \r\n        private String code;\r\n        \r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;badge_id&quot;)\r\n        private User user;\r\n    \r\n        @Column(name = &quot;archived&quot;)\r\n        private boolean archived;\r\n    \r\n    }\r\n    \r\n\r\nBecause the user entity may be associated with some other entities also.\r\n\r\nSo instead of delete you may mark batch entity as archived.\r\n\r\nOr you can try the following...First Update the relation of batch user ,set it to null and then delete the badge.\r\n\r\n    @Service\r\n    public class BadgeService {\r\n    \r\n        @Autowired\r\n        BadgeRepository badgeRepository;\r\n        \r\n        public void updateBadgeUser(int id) {\r\n            Badge badge = findBadgeById(id);\r\n            badge.setUser(null);\r\n        }\r\n    \r\n        public void deleteBadge(int id) {\r\n            \r\n           badgeRepository.deleteById(id);\r\n        }\r\n        \r\n    }\r\n\r\n\r\nBut i would suggest you to follow the archive policy.","title":"How to properly delete a ManyToOne relationship from Parent in JPA?","body":"<p>In this Scenario its better to archive your badge rather then direct delete.</p>\n<pre><code>@Entity\n@Table(name = &quot;badge&quot;)\npublic class Badge {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n    \n    private String code;\n    \n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;badge_id&quot;)\n    private User user;\n\n    @Column(name = &quot;archived&quot;)\n    private boolean archived;\n\n}\n</code></pre>\n<p>Because the user entity may be associated with some other entities also.</p>\n<p>So instead of delete you may mark batch entity as archived.</p>\n<p>Or you can try the following...First Update the relation of batch user ,set it to null and then delete the badge.</p>\n<pre><code>@Service\npublic class BadgeService {\n\n    @Autowired\n    BadgeRepository badgeRepository;\n    \n    public void updateBadgeUser(int id) {\n        Badge badge = findBadgeById(id);\n        badge.setUser(null);\n    }\n\n    public void deleteBadge(int id) {\n        \n       badgeRepository.deleteById(id);\n    }\n    \n}\n</code></pre>\n<p>But i would suggest you to follow the archive policy.</p>\n"}],"owner":{"account_id":15513088,"reputation":132,"user_id":11191394,"display_name":"Lorenzo"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":456,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1668434233,"creation_date":1667479444,"question_id":74303295,"body_markdown":"I&#39;m trying to understand how to properly delete a many to one relationship.\r\n\r\nLet&#39;s suppose I have the following entities:\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;user&quot;)\r\npublic class User {\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate Integer id;\r\n\t\r\n\tprivate String name;\r\n\t\r\n\tprivate String lastname;\r\n\t\r\n}\r\n```\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;badge&quot;)\r\npublic class Badge {\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate Integer id;\r\n\t\r\n\tprivate String code;\r\n\t\r\n\t@ManyToOne(fetch = FetchType.LAZY)\r\n\t@JoinColumn(name = &quot;badge_id&quot;)\r\n\tprivate User user;\r\n\t\r\n}\r\n```\r\n\r\nNow these two entites have different controllers and services. I can delete a badge in the BadgeService and  delete a user in its service.\r\n\r\n```\r\n@Service\r\npublic class BadgeService {\r\n\r\n\t@Autowired\r\n\tBadgeRepository badgeRepository;\r\n\t\r\n\tpublic void delete(int id) {\r\n\t\tbadgeRepository.deleteById(id);\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\n```\r\n@Service\r\npublic class UserService {\r\n\r\n\t@Autowired\r\n\tUserRepository userRepository;\r\n\t\r\n\tpublic void delete(int id) {\r\n\t\tuserRepository.deleteById(id);\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\nThe problem is that if I delete a badge everthing works but If I delete a User a got an error due to the FK.\r\n\r\nTo solve the problem I came up with 2 ways but I was wondering if there is a better way to handle this kind of problem:\r\n\r\n## First Way\r\n\r\nI simply create a method in the badge repository to delete all badges related to the specific user.\r\n\r\n```\r\npublic interface BadgeRepository extends CrudRepository&lt;Badge, Integer&gt; {\r\n\r\n\t@Modifying\r\n\t@Query(value = &quot;DELETE Badge b WHERE b.user.id = :userId&quot;)\r\n\tpublic void deleteByUserId(@Param(&quot;userId&quot;) int userId);\r\n\r\n}\r\n```\r\n\r\nThen I create a method in the badge service.\r\n\r\n```\r\n@Service\r\npublic class BadgeService {\r\n\r\n\t@Autowired\r\n\tBadgeRepository badgeRepository;\r\n\r\n\tpublic void delete(int id) {\r\n\t\tbadgeRepository.deleteById(id);\r\n\t}\r\n\r\n\t@Transactional\r\n\tpublic void deleteByUserId(int userId) {\r\n\t\tbadgeRepository.deleteByUserId(userId);\r\n\t}\r\n\r\n}\r\n```\r\n\r\nAnd last I simply autowire badge service in user service and call the method in the user delete.\r\n\r\n```\r\n@Service\r\npublic class UserService {\r\n\r\n\t@Autowired\r\n\tUserRepository userRepository;\r\n\t\r\n\t@Autowired\r\n\tBadgeService badgeService;\r\n\t\r\n\t@Transactional\r\n\tpublic void delete(int id) {\r\n\t\tbadgeService.deleteByUserId(id);\r\n\t\tuserRepository.deleteById(id);\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\n### Cons:\r\n\r\nIf I have multiple relationships with the User entity, I will end up autowiring a lot of services in the user service and that is bad.\r\n\r\n## Second Way\r\n\r\nInstead of having an unidirectional relationship I create a bidirectional relationship between User and Badge.\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;user&quot;)\r\npublic class User {\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate Integer id;\r\n\r\n\tprivate String name;\r\n\r\n\tprivate String lastname;\r\n\r\n\t@OneToMany(mappedBy = &quot;user&quot;, cascade = CascadeType.REMOVE, orphanRemoval = true)\r\n\tprivate List&lt;Badge&gt; badges = new ArrayList&lt;Badge&gt;();\r\n\r\n}\r\n```\r\n\r\nAnd when I delete a user, the cascade or simplying removing the badge from the colletion will delete all the related badges.\r\n\r\n### Cons:\r\n\r\n1. Extra Query\r\n\r\n2. If the collection is too big the app performances will decrease\r\n\r\nThat being said, what would you suggest? first or second approach? Maybe there is a better approach to handle this problem?\r\n\r\nThank you all.","title":"How to properly delete a ManyToOne relationship from Parent in JPA?","body":"<p>I'm trying to understand how to properly delete a many to one relationship.</p>\n<p>Let's suppose I have the following entities:</p>\n<pre><code>@Entity\n@Table(name = &quot;user&quot;)\npublic class User {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n    \n    private String name;\n    \n    private String lastname;\n    \n}\n</code></pre>\n<pre><code>@Entity\n@Table(name = &quot;badge&quot;)\npublic class Badge {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n    \n    private String code;\n    \n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;badge_id&quot;)\n    private User user;\n    \n}\n</code></pre>\n<p>Now these two entites have different controllers and services. I can delete a badge in the BadgeService and  delete a user in its service.</p>\n<pre><code>@Service\npublic class BadgeService {\n\n    @Autowired\n    BadgeRepository badgeRepository;\n    \n    public void delete(int id) {\n        badgeRepository.deleteById(id);\n    }\n    \n}\n</code></pre>\n<pre><code>@Service\npublic class UserService {\n\n    @Autowired\n    UserRepository userRepository;\n    \n    public void delete(int id) {\n        userRepository.deleteById(id);\n    }\n    \n}\n</code></pre>\n<p>The problem is that if I delete a badge everthing works but If I delete a User a got an error due to the FK.</p>\n<p>To solve the problem I came up with 2 ways but I was wondering if there is a better way to handle this kind of problem:</p>\n<h2>First Way</h2>\n<p>I simply create a method in the badge repository to delete all badges related to the specific user.</p>\n<pre><code>public interface BadgeRepository extends CrudRepository&lt;Badge, Integer&gt; {\n\n    @Modifying\n    @Query(value = &quot;DELETE Badge b WHERE b.user.id = :userId&quot;)\n    public void deleteByUserId(@Param(&quot;userId&quot;) int userId);\n\n}\n</code></pre>\n<p>Then I create a method in the badge service.</p>\n<pre><code>@Service\npublic class BadgeService {\n\n    @Autowired\n    BadgeRepository badgeRepository;\n\n    public void delete(int id) {\n        badgeRepository.deleteById(id);\n    }\n\n    @Transactional\n    public void deleteByUserId(int userId) {\n        badgeRepository.deleteByUserId(userId);\n    }\n\n}\n</code></pre>\n<p>And last I simply autowire badge service in user service and call the method in the user delete.</p>\n<pre><code>@Service\npublic class UserService {\n\n    @Autowired\n    UserRepository userRepository;\n    \n    @Autowired\n    BadgeService badgeService;\n    \n    @Transactional\n    public void delete(int id) {\n        badgeService.deleteByUserId(id);\n        userRepository.deleteById(id);\n    }\n    \n}\n</code></pre>\n<h3>Cons:</h3>\n<p>If I have multiple relationships with the User entity, I will end up autowiring a lot of services in the user service and that is bad.</p>\n<h2>Second Way</h2>\n<p>Instead of having an unidirectional relationship I create a bidirectional relationship between User and Badge.</p>\n<pre><code>@Entity\n@Table(name = &quot;user&quot;)\npublic class User {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n\n    private String name;\n\n    private String lastname;\n\n    @OneToMany(mappedBy = &quot;user&quot;, cascade = CascadeType.REMOVE, orphanRemoval = true)\n    private List&lt;Badge&gt; badges = new ArrayList&lt;Badge&gt;();\n\n}\n</code></pre>\n<p>And when I delete a user, the cascade or simplying removing the badge from the colletion will delete all the related badges.</p>\n<h3>Cons:</h3>\n<ol>\n<li><p>Extra Query</p>\n</li>\n<li><p>If the collection is too big the app performances will decrease</p>\n</li>\n</ol>\n<p>That being said, what would you suggest? first or second approach? Maybe there is a better approach to handle this problem?</p>\n<p>Thank you all.</p>\n"},{"tags":["java","jvm","system-properties"],"comments":[{"owner":{"account_id":277416,"reputation":681888,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1339194285,"post_id":10956676,"comment_id":14302767,"body_markdown":"IMHO, specifying this would be a bit like warning about not putting your cat in the microwave. why would you specify the same system property twice, except if you really like problems?","body":"IMHO, specifying this would be a bit like warning about not putting your cat in the microwave. why would you specify the same system property twice, except if you really like problems?"},{"owner":{"account_id":37614,"reputation":28196,"user_id":107591,"accept_rate":91,"display_name":"RobV"},"score":2,"creation_date":1339195049,"post_id":10956676,"comment_id":14302923,"body_markdown":"In this case there are some shell scripts invoking the JVM with some default settings but users should be able to specify system properties which get passed through the script to the JVM.","body":"In this case there are some shell scripts invoking the JVM with some default settings but users should be able to specify system properties which get passed through the script to the JVM."},{"owner":{"account_id":277416,"reputation":681888,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1339195152,"post_id":10956676,"comment_id":14302947,"body_markdown":"Ah, OK. Fair enough. I didn&#39;t think about this use-case.","body":"Ah, OK. Fair enough. I didn&#39;t think about this use-case."},{"owner":{"account_id":287119,"reputation":12309,"user_id":586748,"accept_rate":82,"display_name":"Russell"},"score":1,"creation_date":1339200824,"post_id":10956676,"comment_id":14303932,"body_markdown":"I am now desperately trying to think of a use-case for putting a cat in a microwave.","body":"I am now desperately trying to think of a use-case for putting a cat in a microwave."}],"answers":[{"comments":[{"owner":{"account_id":151689,"reputation":8339,"user_id":365719,"accept_rate":65,"display_name":"Mike Baranczak"},"score":7,"creation_date":1339210356,"post_id":10957939,"comment_id":14305099,"body_markdown":"Well, that&#39;s the question - can we safely assume that they will always be read left-to-right?","body":"Well, that&#39;s the question - can we safely assume that they will always be read left-to-right?"}],"tags":[],"owner":{"account_id":137288,"reputation":4528,"user_id":341369,"accept_rate":91,"display_name":"tjg184"},"comment_count":1,"down_vote_count":2,"up_vote_count":11,"is_accepted":true,"score":9,"last_activity_date":1555619353,"creation_date":1339209414,"answer_id":10957939,"question_id":10956676,"body_markdown":"The java.util.System class is backed by a Properties class, which is just an extension of Hashtable.  Assuming the values are read in order when passing as arguments to the JVM, then the last value assigned will be the final value.      ","title":"If I specify a System property multiple times when invoking JVM which value is used?","body":"<p>The java.util.System class is backed by a Properties class, which is just an extension of Hashtable.  Assuming the values are read in order when passing as arguments to the JVM, then the last value assigned will be the final value.      </p>\n"},{"comments":[{"owner":{"account_id":1076053,"reputation":85188,"user_id":1281433,"accept_rate":43,"display_name":"Joshua Taylor"},"score":3,"creation_date":1444135845,"post_id":10958164,"comment_id":53765660,"body_markdown":"**Which would imply that the values are put into the table left to right, with the last value overwriting previous values.** One might make that assumption, but OP already tried this kind of example and found the same results.  Is there anything that actually prescribes this, though?  Would *depending* on this behavior make sense, or is this just an implementation detail?","body":"<b>Which would imply that the values are put into the table left to right, with the last value overwriting previous values.</b> One might make that assumption, but OP already tried this kind of example and found the same results.  Is there anything that actually prescribes this, though?  Would <i>depending</i> on this behavior make sense, or is this just an implementation detail?"},{"owner":{"account_id":114991,"reputation":69738,"user_id":302139,"accept_rate":75,"display_name":"Edwin Buck"},"score":0,"creation_date":1444164601,"post_id":10958164,"comment_id":53784368,"body_markdown":"@JoshuaTaylor Generally the specifications don&#39;t cover such corner cases.  Just because you have an implication how it is being processed today often doesn&#39;t mean you can assume it will be handled that way in the future.  Spec writers have a hard enough time detailing the desired behavior without detailing how a person who sets on atom of desired behavior two or three times will be handled :)","body":"@JoshuaTaylor Generally the specifications don&#39;t cover such corner cases.  Just because you have an implication how it is being processed today often doesn&#39;t mean you can assume it will be handled that way in the future.  Spec writers have a hard enough time detailing the desired behavior without detailing how a person who sets on atom of desired behavior two or three times will be handled :)"},{"owner":{"account_id":1076053,"reputation":85188,"user_id":1281433,"accept_rate":43,"display_name":"Joshua Taylor"},"score":0,"creation_date":1444166005,"post_id":10958164,"comment_id":53785152,"body_markdown":"Spec writers are often very good at handling specific details.  It can simplify and help standardize the implementation process.  E.g., in Common Lisp, which supports named arguments (keyword arguments), so that you can have a call like `(print 52 :radix 10 :radix 8)`, the standard [specifies](http://www.lispworks.com/documentation/HyperSpec/Body/03_dad.htm) that &#39;If more than one such argument pair matches, the leftmost argument pair is used.&quot;","body":"Spec writers are often very good at handling specific details.  It can simplify and help standardize the implementation process.  E.g., in Common Lisp, which supports named arguments (keyword arguments), so that you can have a call like <code>(print 52 :radix 10 :radix 8)</code>, the standard <a href=\"http://www.lispworks.com/documentation/HyperSpec/Body/03_dad.htm\" rel=\"nofollow noreferrer\">specifies</a> that &#39;If more than one such argument pair matches, the leftmost argument pair is used.&quot;"},{"owner":{"account_id":1076053,"reputation":85188,"user_id":1281433,"accept_rate":43,"display_name":"Joshua Taylor"},"score":1,"creation_date":1444166132,"post_id":10958164,"comment_id":53785233,"body_markdown":"I think that these specifications are actually pretty important for command line and argument list processing, because it&#39;s often the case that users/programmers *do* want to be able to override, e.g., by doing something like `program ${EXTRA_OPTIONS} -o default-o -f default-f`.  If leftmost options override those to the right, then that code lets users override defaults by defining EXTRA_OPTIONS.  This seems like a fairly reasonable thing for spec writers to make well-defined.","body":"I think that these specifications are actually pretty important for command line and argument list processing, because it&#39;s often the case that users/programmers <i>do</i> want to be able to override, e.g., by doing something like <code>program ${EXTRA_OPTIONS} -o default-o -f default-f</code>.  If leftmost options override those to the right, then that code lets users override defaults by defining EXTRA_OPTIONS.  This seems like a fairly reasonable thing for spec writers to make well-defined."},{"owner":{"account_id":114991,"reputation":69738,"user_id":302139,"accept_rate":75,"display_name":"Edwin Buck"},"score":0,"creation_date":1444191904,"post_id":10958164,"comment_id":53792660,"body_markdown":"@JoshuaTaylor It is ok to think that specifications are important.  If you set the maximum heap size, and the JVM uses that value as the maximum heap size, then odds are the desired behavior was used, and likely it was used according to the spec.  Now if you set the maximum heap size three times, I don&#39;t think the spec should cover which one is the winner in the competition for setting the maximum heap size.  If anything, I would have made the second setting a failure; but that&#39;s disruptive.  Many would just be happy it was using one of the many specified values, but few would argue which one.","body":"@JoshuaTaylor It is ok to think that specifications are important.  If you set the maximum heap size, and the JVM uses that value as the maximum heap size, then odds are the desired behavior was used, and likely it was used according to the spec.  Now if you set the maximum heap size three times, I don&#39;t think the spec should cover which one is the winner in the competition for setting the maximum heap size.  If anything, I would have made the second setting a failure; but that&#39;s disruptive.  Many would just be happy it was using one of the many specified values, but few would argue which one."},{"owner":{"account_id":1076053,"reputation":85188,"user_id":1281433,"accept_rate":43,"display_name":"Joshua Taylor"},"score":3,"creation_date":1444192784,"post_id":10958164,"comment_id":53792905,"body_markdown":"**&quot;if you set the maximum heap size three times,&quot;** That&#39;s just it, though;  I don&#39;t think that anyone&#39;s claiming, or desiring, or expecting the heap size to be set three times.  I think people are expecting it to be set just once.  The question is whether the behavior of  `java -Dheap=A -Dheap=B -Dheap=C` is specified and whether heap would have an unambiguous (single) value.  As far as I can see, it&#39;s not specified.  It wouldn&#39;t have been difficult for the spec writers to say &quot;the rightmost setting is used&quot;, but it doesn&#39;t appear that they did.","body":"<b>&quot;if you set the maximum heap size three times,&quot;</b> That&#39;s just it, though;  I don&#39;t think that anyone&#39;s claiming, or desiring, or expecting the heap size to be set three times.  I think people are expecting it to be set just once.  The question is whether the behavior of  <code>java -Dheap=A -Dheap=B -Dheap=C</code> is specified and whether heap would have an unambiguous (single) value.  As far as I can see, it&#39;s not specified.  It wouldn&#39;t have been difficult for the spec writers to say &quot;the rightmost setting is used&quot;, but it doesn&#39;t appear that they did."},{"owner":{"account_id":1076053,"reputation":85188,"user_id":1281433,"accept_rate":43,"display_name":"Joshua Taylor"},"score":0,"creation_date":1444192897,"post_id":10958164,"comment_id":53792940,"body_markdown":"For what it&#39;s worth, I only gave the example that I did in [my earlier comment](http://stackoverflow.com/questions/10956676/if-i-specify-a-system-property-multiple-times-when-invoking-jvm-which-value-is-u/10958164?noredirect=1#comment53785233_10958164), because I think the use case is similar to [the one that RobV](http://stackoverflow.com/questions/10956676/if-i-specify-a-system-property-multiple-times-when-invoking-jvm-which-value-is-u/10958164?noredirect=1#comment14302923_10956676) mentioned.  It&#39;s nice to be able to wrap APIs/CLIs and give users an easy way to flexibly override settings.","body":"For what it&#39;s worth, I only gave the example that I did in <a href=\"http://stackoverflow.com/questions/10956676/if-i-specify-a-system-property-multiple-times-when-invoking-jvm-which-value-is-u/10958164?noredirect=1#comment53785233_10958164\">my earlier comment</a>, because I think the use case is similar to <a href=\"http://stackoverflow.com/questions/10956676/if-i-specify-a-system-property-multiple-times-when-invoking-jvm-which-value-is-u/10958164?noredirect=1#comment14302923_10956676\">the one that RobV</a> mentioned.  It&#39;s nice to be able to wrap APIs/CLIs and give users an easy way to flexibly override settings."},{"owner":{"account_id":114991,"reputation":69738,"user_id":302139,"accept_rate":75,"display_name":"Edwin Buck"},"score":0,"creation_date":1444193708,"post_id":10958164,"comment_id":53793229,"body_markdown":"@JoshuaTaylor The question is all about setting the same property multiple times, so while it doesn&#39;t make a lot of sense, &lt;b&gt;Yes, it is about &quot;java -Dheap=A -Dheap=B -Dheap=C&quot; and which one will the heap really be set to?  The real answer is the one I gave.  I don&#39;t know, but here&#39;s how you test it.  My findings are X and I suggest that if it really matters, you test it in your environment.  Neither one of the two comments you linked to really is &quot;the same thing&quot; as this issue.   Wanting the spec to be better is fine, but few write a spec that defines an outcome for irrational behavior.","body":"@JoshuaTaylor The question is all about setting the same property multiple times, so while it doesn&#39;t make a lot of sense, &lt;b&gt;Yes, it is about &quot;java -Dheap=A -Dheap=B -Dheap=C&quot; and which one will the heap really be set to?  The real answer is the one I gave.  I don&#39;t know, but here&#39;s how you test it.  My findings are X and I suggest that if it really matters, you test it in your environment.  Neither one of the two comments you linked to really is &quot;the same thing&quot; as this issue.   Wanting the spec to be better is fine, but few write a spec that defines an outcome for irrational behavior."}],"tags":[],"owner":{"account_id":114991,"reputation":69738,"user_id":302139,"accept_rate":75,"display_name":"Edwin Buck"},"comment_count":8,"down_vote_count":1,"up_vote_count":18,"is_accepted":false,"score":17,"last_activity_date":1339212942,"creation_date":1339212942,"answer_id":10958164,"question_id":10956676,"body_markdown":"There&#39;s nothing like writing a little class to see how it works.\r\n\r\n    public class PropTest {\r\n    \r\n      public static void main(String[] args) {\r\n        System.out.println(System.getProperty(&quot;prop&quot;));\r\n      }\r\n    \r\n    }\r\n\r\nWhich when compiled and ran with the command line\r\n\r\n    java -Dprop=A -Dprop=B -Dprop=C PropTest\r\n\r\nyeilds the output\r\n\r\n    C\r\n\r\nWhich would imply that the values are put into the table left to right, with the last value overwriting previous values.\r\n\r\nJust to make a note of the environment, Fedora 16, Linux 3.3.7, 64 bit\r\n\r\n    &gt; java -version\r\n\r\n    java version &quot;1.6.0_24&quot;\r\n    OpenJDK Runtime Environment (IcedTea6 1.11.1) (fedora-65.1.11.1.fc16-x86_64)\r\n    OpenJDK 64-Bit Server VM (build 20.0-b12, mixed mode)\r\n\r\n\r\n\r\n","title":"If I specify a System property multiple times when invoking JVM which value is used?","body":"<p>There's nothing like writing a little class to see how it works.</p>\n\n<pre><code>public class PropTest {\n\n  public static void main(String[] args) {\n    System.out.println(System.getProperty(\"prop\"));\n  }\n\n}\n</code></pre>\n\n<p>Which when compiled and ran with the command line</p>\n\n<pre><code>java -Dprop=A -Dprop=B -Dprop=C PropTest\n</code></pre>\n\n<p>yeilds the output</p>\n\n<pre><code>C\n</code></pre>\n\n<p>Which would imply that the values are put into the table left to right, with the last value overwriting previous values.</p>\n\n<p>Just to make a note of the environment, Fedora 16, Linux 3.3.7, 64 bit</p>\n\n<pre><code>&gt; java -version\n\njava version \"1.6.0_24\"\nOpenJDK Runtime Environment (IcedTea6 1.11.1) (fedora-65.1.11.1.fc16-x86_64)\nOpenJDK 64-Bit Server VM (build 20.0-b12, mixed mode)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":430261,"reputation":168643,"user_id":813602,"accept_rate":100,"display_name":"Ingo Karkat"},"score":1,"creation_date":1607677776,"post_id":58692533,"comment_id":115352835,"body_markdown":"+1; Finally an answer that substantiates OP&#39;s empirical results with an actual specification (as asked)!","body":"+1; Finally an answer that substantiates OP&#39;s empirical results with an actual specification (as asked)!"}],"tags":[],"owner":{"account_id":3163645,"reputation":421,"user_id":2674117,"display_name":"MotiNK"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1668434169,"creation_date":1572867009,"answer_id":58692533,"question_id":10956676,"body_markdown":"I&#39;m not sure if there&#39;s anything documented for Oracle.\r\n\r\nAccording to [IBM JRE documents][1]:\r\n\r\n&gt; The sequence of the Java options on the command line defines which\r\n&gt; options take precedence during startup. Rightmost options have\r\n&gt; precedence over leftmost options.\r\n\r\n  [1]: https://www.ibm.com/support/knowledgecenter/en/SSB23S_1.1.0.15/com.ibm.java.vm.80.doc/docs/cmdline_specifying.html","title":"If I specify a System property multiple times when invoking JVM which value is used?","body":"<p>I'm not sure if there's anything documented for Oracle.</p>\n<p>According to <a href=\"https://www.ibm.com/support/knowledgecenter/en/SSB23S_1.1.0.15/com.ibm.java.vm.80.doc/docs/cmdline_specifying.html\" rel=\"nofollow noreferrer\">IBM JRE documents</a>:</p>\n<blockquote>\n<p>The sequence of the Java options on the command line defines which\noptions take precedence during startup. Rightmost options have\nprecedence over leftmost options.</p>\n</blockquote>\n"}],"owner":{"account_id":37614,"reputation":28196,"user_id":107591,"accept_rate":91,"display_name":"RobV"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13785,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"accepted_answer_id":10957939,"answer_count":3,"score":26,"last_activity_date":1668434169,"creation_date":1339194011,"question_id":10956676,"body_markdown":"If I specify a system property multiple times when invoking the JVM which value will I actually get when I retrieve the property? e.g.\r\n\r\n    java -Dprop=A -Dprop=B -jar my.jar\r\n\r\nWhat will be the result when I call `System.getProperty(&quot;prop&quot;);`?\r\n\r\nThe [Java documentation][1] on this does not really tell me anything useful on this front.\r\n\r\nIn my non-scientific testing on a couple of machines running different JVMs it seems like the last value is the one returned (which is actually the behavior I need) but I wondered if this behavior is actually defined officially anywhere or can it vary between JVMs?\r\n\r\n[1]: http://docs.oracle.com/javase/tutorial/essential/environment/sysprop.html","title":"If I specify a System property multiple times when invoking JVM which value is used?","body":"<p>If I specify a system property multiple times when invoking the JVM which value will I actually get when I retrieve the property? e.g.</p>\n\n<pre><code>java -Dprop=A -Dprop=B -jar my.jar\n</code></pre>\n\n<p>What will be the result when I call <code>System.getProperty(\"prop\");</code>?</p>\n\n<p>The <a href=\"http://docs.oracle.com/javase/tutorial/essential/environment/sysprop.html\" rel=\"noreferrer\">Java documentation</a> on this does not really tell me anything useful on this front.</p>\n\n<p>In my non-scientific testing on a couple of machines running different JVMs it seems like the last value is the one returned (which is actually the behavior I need) but I wondered if this behavior is actually defined officially anywhere or can it vary between JVMs?</p>\n"},{"tags":["java","apache-kafka"],"comments":[{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":2,"creation_date":1668427701,"post_id":74431380,"comment_id":131394670,"body_markdown":"If I am not mistaken, committing an offset in Kafka implicitly commits *all offsets* before that!","body":"If I am not mistaken, committing an offset in Kafka implicitly commits <i>all offsets</i> before that!"},{"owner":{"account_id":455809,"reputation":12993,"user_id":854207,"accept_rate":62,"display_name":"paul"},"score":0,"creation_date":1668428041,"post_id":74431380,"comment_id":131394777,"body_markdown":"You&#39;re absolutely right!, thanks!","body":"You&#39;re absolutely right!, thanks!"}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668434056,"creation_date":1668434056,"answer_id":74432758,"question_id":74431380,"body_markdown":"It&#39;s a Map, so no, you cannot have multiple instances of the same `topicPartition` key. \r\n\r\nThe offset is a single number. If you were able to commit multiple, then your consumer (in the same group) would always have to start reading from the greatest of those values. \r\n\r\nYou can commit offsets for other TopicPartitions, however, in one commit call, or you can commit the same value to **other** consumer groups using a differently configured Consumer instance. ","title":"Multiple offset in same commitSync","body":"<p>It's a Map, so no, you cannot have multiple instances of the same <code>topicPartition</code> key.</p>\n<p>The offset is a single number. If you were able to commit multiple, then your consumer (in the same group) would always have to start reading from the greatest of those values.</p>\n<p>You can commit offsets for other TopicPartitions, however, in one commit call, or you can commit the same value to <strong>other</strong> consumer groups using a differently configured Consumer instance.</p>\n"}],"owner":{"account_id":455809,"reputation":12993,"user_id":854207,"accept_rate":62,"display_name":"paul"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74432758,"answer_count":1,"score":0,"last_activity_date":1668434056,"creation_date":1668427543,"question_id":74431380,"body_markdown":"I&#39;m doing manual `commitSync` to Kafka, and I notice in the DSL they use a simple `Map` and not `MultiMap`, so I guess then every time I invoke\r\n\r\n    consumer.commitSync(Map.of(topicPartition, new OffsetAndMetadata(record.offset())))\r\n\r\nIs just for a single record in the partition.\r\n\r\nAny chance to send two offsets of the same `topicPartition` in the same `commitSync`","title":"Multiple offset in same commitSync","body":"<p>I'm doing manual <code>commitSync</code> to Kafka, and I notice in the DSL they use a simple <code>Map</code> and not <code>MultiMap</code>, so I guess then every time I invoke</p>\n<pre><code>consumer.commitSync(Map.of(topicPartition, new OffsetAndMetadata(record.offset())))\n</code></pre>\n<p>Is just for a single record in the partition.</p>\n<p>Any chance to send two offsets of the same <code>topicPartition</code> in the same <code>commitSync</code></p>\n"},{"tags":["java","postgresql","scala","prepared-statement"],"comments":[{"owner":{"account_id":7034556,"reputation":12335,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":0,"creation_date":1668407195,"post_id":74427563,"comment_id":131388651,"body_markdown":"Have you tried null? The null in Java could be interpreted by the Postgres driver as &quot;DEFAULT&quot;.","body":"Have you tried null? The null in Java could be interpreted by the Postgres driver as &quot;DEFAULT&quot;."},{"owner":{"account_id":315888,"reputation":9246,"user_id":631764,"accept_rate":57,"display_name":"Buttle Butkus"},"score":0,"creation_date":1668407426,"post_id":74427563,"comment_id":131388699,"body_markdown":"Yeah, that was the first thing I did. I&#39;m so used to using MySQL that I ran it that way to start, got the error, then realized &quot;Oh yeah, this is Postgres&quot;. Error: `The future returned an exception of type: java.lang.RuntimeException, with message: ERROR: null value in column &quot;id&quot; of relation &quot;serial_table&quot; violates not-null constraint`","body":"Yeah, that was the first thing I did. I&#39;m so used to using MySQL that I ran it that way to start, got the error, then realized &quot;Oh yeah, this is Postgres&quot;. Error: <code>The future returned an exception of type: java.lang.RuntimeException, with message: ERROR: null value in column &quot;id&quot; of relation &quot;serial_table&quot; violates not-null constraint</code>"},{"owner":{"display_name":"user330315"},"score":0,"creation_date":1668409845,"post_id":74427563,"comment_id":131389213,"body_markdown":"&quot;*MySQL will accept NULL to an auto increment column and insert the last value*&quot; - which is a bug in my opinion. You are requesting to store a NULL value, but MySQL silently turns it into something else. What&#39;s next? Turning all integer values to 42 because that&#39;s &quot;obviously&quot; the correct value?","body":"&quot;<i>MySQL will accept NULL to an auto increment column and insert the last value</i>&quot; - which is a bug in my opinion. You are requesting to store a NULL value, but MySQL silently turns it into something else. What&#39;s next? Turning all integer values to 42 because that&#39;s &quot;obviously&quot; the correct value?"},{"owner":{"account_id":315888,"reputation":9246,"user_id":631764,"accept_rate":57,"display_name":"Buttle Butkus"},"score":0,"creation_date":1668510488,"post_id":74427563,"comment_id":131417448,"body_markdown":"@a_horse_with_no_name  Standard behavior in MySQL, actually. Not a bug. AUTO INCREMENT cannot be null and must be a key. So, I suppose their thinking was, &quot;since NULL is meaningless here, we can use that as a keyword to trigger the default value insertion.&quot;","body":"@a_horse_with_no_name  Standard behavior in MySQL, actually. Not a bug. AUTO INCREMENT cannot be null and must be a key. So, I suppose their thinking was, &quot;since NULL is meaningless here, we can use that as a keyword to trigger the default value insertion.&quot;"}],"answers":[{"comments":[{"owner":{"account_id":315888,"reputation":9246,"user_id":631764,"accept_rate":57,"display_name":"Buttle Butkus"},"score":0,"creation_date":1668428749,"post_id":74428025,"comment_id":131395032,"body_markdown":"Thanks for your suggestion but I&#39;m not asking how to insert into Postgres with default values. I&#39;m asking about a way to do that through java/scala. Java has utilities to construct prepared statements and specify values but doesn&#39;t have a `DEFAULT`.  It does have a way to pass in a value for `TIMESTAMP` and other such special signifiers (although I have not tried these with prepared statements) so I would think there must be a way to pass `DEFAULT` for `SERIAL` columns in Postgresql. I don&#39;t see it in `java.sql.Types` but perhaps there&#39;s a library I&#39;m unaware of.","body":"Thanks for your suggestion but I&#39;m not asking how to insert into Postgres with default values. I&#39;m asking about a way to do that through java/scala. Java has utilities to construct prepared statements and specify values but doesn&#39;t have a <code>DEFAULT</code>.  It does have a way to pass in a value for <code>TIMESTAMP</code> and other such special signifiers (although I have not tried these with prepared statements) so I would think there must be a way to pass <code>DEFAULT</code> for <code>SERIAL</code> columns in Postgresql. I don&#39;t see it in <code>java.sql.Types</code> but perhaps there&#39;s a library I&#39;m unaware of."},{"owner":{"account_id":315888,"reputation":9246,"user_id":631764,"accept_rate":57,"display_name":"Buttle Butkus"},"score":0,"creation_date":1668429082,"post_id":74428025,"comment_id":131395146,"body_markdown":"Obviously it&#39;s ridiculous to have a table that has a primary key only. That&#39;s the problem. These tables are only for the test suite, to test `CRUD` on different kinds of primary keys. For a table with multiple columns in Postgres you can omit the primary key and Postgres will insert it. But for these dummy tables with only a primary key there doesn&#39;t seem to be a way to do it. As in my question `INSERT INTO serial_table VALUES()` doesn&#39;t work. And unlike MySQL you can&#39;t use `NULL` for primary keys.","body":"Obviously it&#39;s ridiculous to have a table that has a primary key only. That&#39;s the problem. These tables are only for the test suite, to test <code>CRUD</code> on different kinds of primary keys. For a table with multiple columns in Postgres you can omit the primary key and Postgres will insert it. But for these dummy tables with only a primary key there doesn&#39;t seem to be a way to do it. As in my question <code>INSERT INTO serial_table VALUES()</code> doesn&#39;t work. And unlike MySQL you can&#39;t use <code>NULL</code> for primary keys."},{"owner":{"display_name":"user330315"},"score":0,"creation_date":1668429300,"post_id":74428025,"comment_id":131395223,"body_markdown":"@ButtleButkus: well you can run that statement through Java/Scala. JDBC does not have a way to provide a &quot;DEFAULT value&quot; because `DEFAULT` is a keyword like `SELECT` or `VALUES` which needs to be part of the SQL string. Yes, `INSERT INTO serial_table VALUES()` doesn&#39;t work because it&#39;s invalid SQL. But the statement in my answer does exactly what you want to achieve with that.","body":"@ButtleButkus: well you can run that statement through Java/Scala. JDBC does not have a way to provide a &quot;DEFAULT value&quot; because <code>DEFAULT</code> is a keyword like <code>SELECT</code> or <code>VALUES</code> which needs to be part of the SQL string. Yes, <code>INSERT INTO serial_table VALUES()</code> doesn&#39;t work because it&#39;s invalid SQL. But the statement in my answer does exactly what you want to achieve with that."},{"owner":{"account_id":315888,"reputation":9246,"user_id":631764,"accept_rate":57,"display_name":"Buttle Butkus"},"score":0,"creation_date":1668432709,"post_id":74428025,"comment_id":131396416,"body_markdown":"`TIMESTAMP` is also a keyword, isn&#39;t it? I can see why you wouldn&#39;t be able to pass a keyword into a `?` for a parameterized query, but since it seems (perhaps I&#39;m wrong) you can pass a `TIMESTAMP` I thought perhaps you could also somehow pass `DEFAULT` (I was a bit surprised to see `TIMESTAMP` in the `Types`). I&#39;ve got another solution, but if I could pass `DEFAULT` in, it would simplify the code.","body":"<code>TIMESTAMP</code> is also a keyword, isn&#39;t it? I can see why you wouldn&#39;t be able to pass a keyword into a <code>?</code> for a parameterized query, but since it seems (perhaps I&#39;m wrong) you can pass a <code>TIMESTAMP</code> I thought perhaps you could also somehow pass <code>DEFAULT</code> (I was a bit surprised to see <code>TIMESTAMP</code> in the <code>Types</code>). I&#39;ve got another solution, but if I could pass <code>DEFAULT</code> in, it would simplify the code."},{"owner":{"account_id":315888,"reputation":9246,"user_id":631764,"accept_rate":57,"display_name":"Buttle Butkus"},"score":0,"creation_date":1668433509,"post_id":74428025,"comment_id":131396725,"body_markdown":"Drawing from MySQL, I guess `CURRENT_TIMESTAMP` is really a function. A synonym for `CURRENT_TIMESTAMP()`, which also has the `NOW()` synonym. Perhaps Postgres is similar and it would make sense to not be able to pass a SQL function into a parameterized query, but I could also see how it could be implemented. Impossible?","body":"Drawing from MySQL, I guess <code>CURRENT_TIMESTAMP</code> is really a function. A synonym for <code>CURRENT_TIMESTAMP()</code>, which also has the <code>NOW()</code> synonym. Perhaps Postgres is similar and it would make sense to not be able to pass a SQL function into a parameterized query, but I could also see how it could be implemented. Impossible?"},{"owner":{"display_name":"user330315"},"score":0,"creation_date":1668511040,"post_id":74428025,"comment_id":131417627,"body_markdown":"@ButtleButkus: `current_timestamp` is how the function is defined in the SQL standard. `CURRENT_TIMESTAMP()` or `now()` are non-standard functions. But if you want to pass a value, then provide a column name and use the function in the VALUES clause `insert into serial_table (some_timestamp_column) values (current_timestamp)`","body":"@ButtleButkus: <code>current_timestamp</code> is how the function is defined in the SQL standard. <code>CURRENT_TIMESTAMP()</code> or <code>now()</code> are non-standard functions. But if you want to pass a value, then provide a column name and use the function in the VALUES clause <code>insert into serial_table (some_timestamp_column) values (current_timestamp)</code>"},{"owner":{"account_id":315888,"reputation":9246,"user_id":631764,"accept_rate":57,"display_name":"Buttle Butkus"},"score":0,"creation_date":1668511967,"post_id":74428025,"comment_id":131418002,"body_markdown":"I&#39;m fairly familiar with basic SQL operations. My question as about java/scala and their prepared statement functionality. I thought perhaps there would be a way to pass a &quot;value&quot; that would be specially handled as not a value but a function or keyword but it seems that&#39;s not possible. It seems if you want to pass a DEFAULT then you have to alter the construction of the prepared statement itself, rather than pass a special DEFAULT data type to the `?` and have it specially handled. Been doing SQL for years but new to the Java world.","body":"I&#39;m fairly familiar with basic SQL operations. My question as about java/scala and their prepared statement functionality. I thought perhaps there would be a way to pass a &quot;value&quot; that would be specially handled as not a value but a function or keyword but it seems that&#39;s not possible. It seems if you want to pass a DEFAULT then you have to alter the construction of the prepared statement itself, rather than pass a special DEFAULT data type to the <code>?</code> and have it specially handled. Been doing SQL for years but new to the Java world."}],"tags":[],"owner":{"display_name":"user330315"},"comment_count":7,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668409900,"creation_date":1668409900,"answer_id":74428025,"question_id":74427563,"body_markdown":"To insert a row consisting _only_ of default values you can use: \r\n\r\n    INSERT INTO serial_table DEFAULT VALUES","title":"How to insert DEFAULT into Postgresql SERIAL column using Scala Java","body":"<p>To insert a row consisting <em>only</em> of default values you can use:</p>\n<pre><code>INSERT INTO serial_table DEFAULT VALUES\n</code></pre>\n"},{"comments":[{"owner":{"account_id":315888,"reputation":9246,"user_id":631764,"accept_rate":57,"display_name":"Buttle Butkus"},"score":0,"creation_date":1668434070,"post_id":74432646,"comment_id":131396922,"body_markdown":"Perhaps you&#39;re right about the tests being ridiculous. Perhaps the real answer is that the tests should have at least one other column. I&#39;m following suggestions for the tests from the owners of the repository. You can create a single-column table, auto increment primary key in MySQL and if you insert `NULL` it will work. And I assume, but haven&#39;t tested, that in java you could pass `NULL` as a parameter and it would work. But with Postgres, there&#39;s no way, apparently.","body":"Perhaps you&#39;re right about the tests being ridiculous. Perhaps the real answer is that the tests should have at least one other column. I&#39;m following suggestions for the tests from the owners of the repository. You can create a single-column table, auto increment primary key in MySQL and if you insert <code>NULL</code> it will work. And I assume, but haven&#39;t tested, that in java you could pass <code>NULL</code> as a parameter and it would work. But with Postgres, there&#39;s no way, apparently."},{"owner":{"account_id":5335286,"reputation":39836,"user_id":4254517,"accept_rate":48,"display_name":"Dima"},"score":0,"creation_date":1668434346,"post_id":74432646,"comment_id":131397029,"body_markdown":"Yeah, as mentioned elsewhere, the behavior you a describing in MySQL looks more like a bug than a feature.","body":"Yeah, as mentioned elsewhere, the behavior you a describing in MySQL looks more like a bug than a feature."},{"owner":{"display_name":"user330315"},"score":1,"creation_date":1668438174,"post_id":74432646,"comment_id":131398510,"body_markdown":"This will result in an error `&quot;foobar&quot;` refers to a column name. String values need to be enclosed in single quotes in standard SQL (and Postgres), e.g. `&#39;foobar&#39;`","body":"This will result in an error <code>&quot;foobar&quot;</code> refers to a column name. String values need to be enclosed in single quotes in standard SQL (and Postgres), e.g. <code>&#39;foobar&#39;</code>"},{"owner":{"account_id":5335286,"reputation":39836,"user_id":4254517,"accept_rate":48,"display_name":"Dima"},"score":0,"creation_date":1668438273,"post_id":74432646,"comment_id":131398555,"body_markdown":"@a_horse_with_no_name OMG! You found a typo!!!!","body":"@a_horse_with_no_name OMG! You found a typo!!!!"},{"owner":{"account_id":315888,"reputation":9246,"user_id":631764,"accept_rate":57,"display_name":"Buttle Butkus"},"score":0,"creation_date":1668509559,"post_id":74432646,"comment_id":131417135,"body_markdown":"@Dima it&#39;s well documented in MySQL to use `NULL` as a shorthand for triggering default value for auto increment columns, but MySQL has been moving away from non ANSI tricks like that,. Not sure I&#39;d call it a bug, but perhaps it smells like one.","body":"@Dima it&#39;s well documented in MySQL to use <code>NULL</code> as a shorthand for triggering default value for auto increment columns, but MySQL has been moving away from non ANSI tricks like that,. Not sure I&#39;d call it a bug, but perhaps it smells like one."}],"tags":[],"owner":{"account_id":5335286,"reputation":39836,"user_id":4254517,"accept_rate":48,"display_name":"Dima"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668433517,"creation_date":1668433517,"answer_id":74432646,"question_id":74427563,"body_markdown":"Just omit the primary key: \r\n\r\n```\r\ninsert into foo (bar) values (&quot;foobar&quot;)\r\n```\r\n\r\nWill assign the default values to any columns that are not mentioned explicitly. \r\nI am not sure how exactly it is done when you only have one column (the other answer seems to be offering a way to deal with it), but as you said yourself, it&#39;s not a sensical use case anyway (as a sidenote, you should not really be writing tests that cover &quot;ridiculous&quot; use cases). ","title":"How to insert DEFAULT into Postgresql SERIAL column using Scala Java","body":"<p>Just omit the primary key:</p>\n<pre><code>insert into foo (bar) values (&quot;foobar&quot;)\n</code></pre>\n<p>Will assign the default values to any columns that are not mentioned explicitly.\nI am not sure how exactly it is done when you only have one column (the other answer seems to be offering a way to deal with it), but as you said yourself, it's not a sensical use case anyway (as a sidenote, you should not really be writing tests that cover &quot;ridiculous&quot; use cases).</p>\n"}],"owner":{"account_id":315888,"reputation":9246,"user_id":631764,"accept_rate":57,"display_name":"Buttle Butkus"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":481,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1668433517,"creation_date":1668406362,"question_id":74427563,"body_markdown":"MySQL will accept NULL to an `auto increment` column and insert the last value. So you could presumably use \r\n\r\n(Using the code from [this SO answer][1], where `st` is a `preparedStatement`)\r\n\r\n`st.setNull(1, java.sql.Types.NULL)`\r\n\r\nI&#39;m trying to figure out how you do the same with Postgresql, where you cannot use `NULL`, but must use `DEFAULT` instead:\r\n\r\n    INSERT INTO serial_table (id) VALUES(NULL)\r\n\r\nDoes something like this exist?\r\n\r\n    st.setDefault(1, java.sql.Types.DEFAULT)\r\n\r\nOr\r\n\r\n    st.setObject(1, &quot;DEFAULT&quot;)\r\n\r\nI assume I can&#39;t just use the string &quot;DEFAULT&quot;.\r\n\r\n\r\nEDIT:\r\n\r\nTo clarify, this is a testing table defined as such:\r\n\r\n    CREATE TABLE serial_table (\r\n        id SERIAL NOT NULL PRIMARY KEY\r\n    );\r\n\r\nSo I can&#39;t just skip the column to let Postgresql handle it\r\n\r\n    INSERT INTO serial_table VALUES()\r\n    ERROR:  syntax error at or near &quot;)&quot;\r\n    LINE 1: INSERT INTO serial_table VALUES();\r\n                                            ^\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/46805508/631764\r\n","title":"How to insert DEFAULT into Postgresql SERIAL column using Scala Java","body":"<p>MySQL will accept NULL to an <code>auto increment</code> column and insert the last value. So you could presumably use</p>\n<p>(Using the code from <a href=\"https://stackoverflow.com/a/46805508/631764\">this SO answer</a>, where <code>st</code> is a <code>preparedStatement</code>)</p>\n<p><code>st.setNull(1, java.sql.Types.NULL)</code></p>\n<p>I'm trying to figure out how you do the same with Postgresql, where you cannot use <code>NULL</code>, but must use <code>DEFAULT</code> instead:</p>\n<pre><code>INSERT INTO serial_table (id) VALUES(NULL)\n</code></pre>\n<p>Does something like this exist?</p>\n<pre><code>st.setDefault(1, java.sql.Types.DEFAULT)\n</code></pre>\n<p>Or</p>\n<pre><code>st.setObject(1, &quot;DEFAULT&quot;)\n</code></pre>\n<p>I assume I can't just use the string &quot;DEFAULT&quot;.</p>\n<p>EDIT:</p>\n<p>To clarify, this is a testing table defined as such:</p>\n<pre><code>CREATE TABLE serial_table (\n    id SERIAL NOT NULL PRIMARY KEY\n);\n</code></pre>\n<p>So I can't just skip the column to let Postgresql handle it</p>\n<pre><code>INSERT INTO serial_table VALUES()\nERROR:  syntax error at or near &quot;)&quot;\nLINE 1: INSERT INTO serial_table VALUES();\n                                        ^\n</code></pre>\n"},{"tags":["java","foreach","lambda","hashmap","java-stream"],"answers":[{"comments":[{"owner":{"account_id":5159517,"reputation":4176,"user_id":4131673,"accept_rate":56,"display_name":"Mariusz Jask&#243;łka"},"score":1,"creation_date":1442305211,"post_id":32580851,"comment_id":53016164,"body_markdown":"OK, it is good answer for my second question. But I still don&#39;t know why `java.util.ConcurrentModificationException` occures.","body":"OK, it is good answer for my second question. But I still don&#39;t know why <code>java.util.ConcurrentModificationException</code> occures."}],"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"comment_count":1,"down_vote_count":1,"up_vote_count":18,"is_accepted":false,"score":17,"last_activity_date":1442304386,"creation_date":1442304386,"answer_id":32580851,"question_id":32580801,"body_markdown":"You don&#39;t need the `Stream` API for that. Use `retainAll` on the `keySet`. Any changes on the `Set` returned by `keySet()` are reflected in the original `Map`.\r\n\r\n    someMap.keySet().retainAll(someList);","title":"ConcurrentModificationException when using stream with Maps key set","body":"<p>You don't need the <code>Stream</code> API for that. Use <code>retainAll</code> on the <code>keySet</code>. Any changes on the <code>Set</code> returned by <code>keySet()</code> are reflected in the original <code>Map</code>.</p>\n\n<pre><code>someMap.keySet().retainAll(someList);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29404,"reputation":45520,"user_id":79439,"accept_rate":62,"display_name":"thecoop"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1442307428,"creation_date":1442307428,"answer_id":32581815,"question_id":32580801,"body_markdown":"Your stream call is (logically) doing the same as:\r\n\r\n    for (K k : someMap.keySet()) {\r\n        if (!someList.contains(k)) {\r\n            someMap.remove(k);\r\n        }\r\n    }\r\n\r\nIf you run this, you will find it throws `ConcurrentModificationException`, because it is modifying the map at the same time as you&#39;re iterating over it. If you have a look at the [docs][1], you&#39;ll notice the following:\r\n\r\n&gt;Note that this exception does not always indicate that an object has been concurrently modified by a different thread. If a single thread issues a sequence of method invocations that violates the contract of an object, the object may throw this exception. For example, if a thread modifies a collection directly while it is iterating over the collection with a fail-fast iterator, the iterator will throw this exception. \r\n\r\nThis is what you are doing, the map implementation you&#39;re using evidently has fail-fast iterators, therefore this exception is being thrown.\r\n\r\nOne possible alternative is to remove the items using the iterator directly:\r\n\r\n    for (Iterator&lt;K&gt; ks = someMap.keySet().iterator(); ks.hasNext(); ) {\r\n        K next = ks.next();\r\n        if (!someList.contains(k)) {\r\n            ks.remove();\r\n        }\r\n    }\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/index.html","title":"ConcurrentModificationException when using stream with Maps key set","body":"<p>Your stream call is (logically) doing the same as:</p>\n\n<pre><code>for (K k : someMap.keySet()) {\n    if (!someList.contains(k)) {\n        someMap.remove(k);\n    }\n}\n</code></pre>\n\n<p>If you run this, you will find it throws <code>ConcurrentModificationException</code>, because it is modifying the map at the same time as you're iterating over it. If you have a look at the <a href=\"http://docs.oracle.com/javase/8/docs/api/index.html\" rel=\"noreferrer\">docs</a>, you'll notice the following:</p>\n\n<blockquote>\n  <p>Note that this exception does not always indicate that an object has been concurrently modified by a different thread. If a single thread issues a sequence of method invocations that violates the contract of an object, the object may throw this exception. For example, if a thread modifies a collection directly while it is iterating over the collection with a fail-fast iterator, the iterator will throw this exception. </p>\n</blockquote>\n\n<p>This is what you are doing, the map implementation you're using evidently has fail-fast iterators, therefore this exception is being thrown.</p>\n\n<p>One possible alternative is to remove the items using the iterator directly:</p>\n\n<pre><code>for (Iterator&lt;K&gt; ks = someMap.keySet().iterator(); ks.hasNext(); ) {\n    K next = ks.next();\n    if (!someList.contains(k)) {\n        ks.remove();\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5159517,"reputation":4176,"user_id":4131673,"accept_rate":56,"display_name":"Mariusz Jask&#243;łka"},"score":1,"creation_date":1442315350,"post_id":32581869,"comment_id":53022550,"body_markdown":"I think this is the best answer, but you may edit it to add solution that @Eran mentioned. It would be 100% satisfying for anyone having the same problem in the future.","body":"I think this is the best answer, but you may edit it to add solution that @Eran mentioned. It would be 100% satisfying for anyone having the same problem in the future."},{"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"score":3,"creation_date":1442315529,"post_id":32581869,"comment_id":53022669,"body_markdown":"@MariuszJask&#243;łka, Eran answer is also here and other people will likely to see it as well. It&#39;s correct and I upvoted it. I can add a reference to his solution.","body":"@MariuszJask&#243;łka, Eran answer is also here and other people will likely to see it as well. It&#39;s correct and I upvoted it. I can add a reference to his solution."}],"tags":[],"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"comment_count":2,"down_vote_count":0,"up_vote_count":46,"is_accepted":true,"score":46,"last_activity_date":1442315570,"creation_date":1442307601,"answer_id":32581869,"question_id":32580801,"body_markdown":"@Eran already [explained](https://stackoverflow.com/a/32580851/4856258) how to solve this problem better. I will explain why `ConcurrentModificationException` occurs.\n\nThe `ConcurrentModificationException` occurs because you are modifying the stream source. Your `Map` is likely to be `HashMap` or `TreeMap` or other non-concurrent map. Let&#39;s assume it&#39;s a `HashMap`. Every stream is backed by [`Spliterator`](https://docs.oracle.com/javase/8/docs/api/java/util/Spliterator.html). If spliterator has no `IMMUTABLE` and `CONCURRENT` characteristics, then, as documentation says:\n\n&gt;  After binding a Spliterator should, on a best-effort basis, throw `ConcurrentModificationException` if structural interference is detected. Spliterators that do this are called *fail-fast*.\n\nSo the `HashMap.keySet().spliterator()` is not `IMMUTABLE` (because this `Set` can be modified) and not `CONCURRENT` (concurrent updates are unsafe for `HashMap`). So it just detects the concurrent changes and throws a `ConcurrentModificationException` as spliterator documentation prescribes.\n\nAlso it worth citing the [`HashMap`](https://docs.oracle.com/javase/8/docs/api/java/util/HashMap.html) documentation:\n\n&gt; The iterators returned by all of this class&#39;s &quot;collection view methods&quot; are *fail-fast*: if the map is structurally modified at any time after the iterator is created, in any way except through the iterator&#39;s own remove method, the iterator will throw a `ConcurrentModificationException`. Thus, in the face of concurrent modification, the iterator fails quickly and cleanly, rather than risking arbitrary, non-deterministic behavior at an undetermined time in the future.\n&gt;\n&gt; Note that the fail-fast behavior of an iterator cannot be guaranteed as it is, generally speaking, impossible to make any hard guarantees in the presence of unsynchronized concurrent modification. Fail-fast iterators throw `ConcurrentModificationException` on a best-effort basis. Therefore, it would be wrong to write a program that depended on this exception for its correctness: *the fail-fast behavior of iterators should be used only to detect bugs*. \n\nWhile it says about iterators only, I believe it&#39;s the same for spliterators.","title":"ConcurrentModificationException when using stream with Maps key set","body":"<p>@Eran already <a href=\"https://stackoverflow.com/a/32580851/4856258\">explained</a> how to solve this problem better. I will explain why <code>ConcurrentModificationException</code> occurs.</p>\n<p>The <code>ConcurrentModificationException</code> occurs because you are modifying the stream source. Your <code>Map</code> is likely to be <code>HashMap</code> or <code>TreeMap</code> or other non-concurrent map. Let's assume it's a <code>HashMap</code>. Every stream is backed by <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Spliterator.html\" rel=\"noreferrer\"><code>Spliterator</code></a>. If spliterator has no <code>IMMUTABLE</code> and <code>CONCURRENT</code> characteristics, then, as documentation says:</p>\n<blockquote>\n<p>After binding a Spliterator should, on a best-effort basis, throw <code>ConcurrentModificationException</code> if structural interference is detected. Spliterators that do this are called <em>fail-fast</em>.</p>\n</blockquote>\n<p>So the <code>HashMap.keySet().spliterator()</code> is not <code>IMMUTABLE</code> (because this <code>Set</code> can be modified) and not <code>CONCURRENT</code> (concurrent updates are unsafe for <code>HashMap</code>). So it just detects the concurrent changes and throws a <code>ConcurrentModificationException</code> as spliterator documentation prescribes.</p>\n<p>Also it worth citing the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/HashMap.html\" rel=\"noreferrer\"><code>HashMap</code></a> documentation:</p>\n<blockquote>\n<p>The iterators returned by all of this class's &quot;collection view methods&quot; are <em>fail-fast</em>: if the map is structurally modified at any time after the iterator is created, in any way except through the iterator's own remove method, the iterator will throw a <code>ConcurrentModificationException</code>. Thus, in the face of concurrent modification, the iterator fails quickly and cleanly, rather than risking arbitrary, non-deterministic behavior at an undetermined time in the future.</p>\n<p>Note that the fail-fast behavior of an iterator cannot be guaranteed as it is, generally speaking, impossible to make any hard guarantees in the presence of unsynchronized concurrent modification. Fail-fast iterators throw <code>ConcurrentModificationException</code> on a best-effort basis. Therefore, it would be wrong to write a program that depended on this exception for its correctness: <em>the fail-fast behavior of iterators should be used only to detect bugs</em>.</p>\n</blockquote>\n<p>While it says about iterators only, I believe it's the same for spliterators.</p>\n"},{"tags":[],"owner":{"account_id":2603480,"reputation":661,"user_id":2255217,"display_name":"Ron McLeod"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1536555695,"creation_date":1536555695,"answer_id":52251362,"question_id":32580801,"body_markdown":"Later answer, but you could insert a collector into your pipeline so that forEach is operating on a Set which holds a copy of the keys:\r\n\r\n\tsomeMap.keySet()\r\n\t\t.stream()\r\n\t\t.filter(v -&gt; !someList.contains(v))\r\n\t\t.collect(Collectors.toSet())\r\n\t\t.forEach(someMap::remove);","title":"ConcurrentModificationException when using stream with Maps key set","body":"<p>Later answer, but you could insert a collector into your pipeline so that forEach is operating on a Set which holds a copy of the keys:</p>\n\n<pre><code>someMap.keySet()\n    .stream()\n    .filter(v -&gt; !someList.contains(v))\n    .collect(Collectors.toSet())\n    .forEach(someMap::remove);\n</code></pre>\n"}],"owner":{"account_id":5159517,"reputation":4176,"user_id":4131673,"accept_rate":56,"display_name":"Mariusz Jask&#243;łka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35745,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"accepted_answer_id":32581869,"answer_count":4,"score":28,"last_activity_date":1668433390,"creation_date":1442304243,"question_id":32580801,"body_markdown":"I want to remove all items from `someMap` which keys are not present in `someList`.  \r\nTake a look into my code:\r\n\r\n    someMap.keySet()\r\n        .stream()\r\n        .filter(v -&gt; !someList.contains(v))\r\n        .forEach(someMap::remove);\r\n\r\nI receive `java.util.ConcurrentModificationException`.  \r\nWhy I faced this Exception given that the stream is not parallel?  \r\nWhat is the most elegant way to do this?","title":"ConcurrentModificationException when using stream with Maps key set","body":"<p>I want to remove all items from <code>someMap</code> which keys are not present in <code>someList</code>.<br />\nTake a look into my code:</p>\n<pre><code>someMap.keySet()\n    .stream()\n    .filter(v -&gt; !someList.contains(v))\n    .forEach(someMap::remove);\n</code></pre>\n<p>I receive <code>java.util.ConcurrentModificationException</code>.<br />\nWhy I faced this Exception given that the stream is not parallel?<br />\nWhat is the most elegant way to do this?</p>\n"},{"tags":["java","jdbc","derby"],"answers":[{"tags":[],"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668391487,"creation_date":1668391487,"answer_id":74426253,"question_id":74424011,"body_markdown":"If I have interpreted your question correctly...\r\n\r\n**Quick Answer**\r\n\r\n(a) Run the `ij` start-up command in the same location where your Java program created the new database (see below).\r\n\r\nor\r\n\r\n(b) Create the DB using `ij` at the same time as you connect to it (also see below).\r\n\r\n---\r\n\r\n**More Notes**\r\n\r\nWhen you create a new Derby DB using the Java code in your question, that will create the DB in the root folder of where the code (the Java project) was executed. \r\n\r\nLook for a `javaDb` folder there, containing the Derby database files. \r\n\r\nBut when you try to connect to that database at the `ij&gt;` command prompt, after running this:\r\n\r\n```\r\njava -jar derbyrun.jar ij\r\n```\r\n\r\n...and then using `connect &#39;jdbc:derby:javaDb&#39;;` you are telling `ij` that the DB is in the `lib` directory of the Derby installation folder. \r\n\r\nThose are probably two different locations - hence you get your &quot;not found&quot; error. \r\n\r\nYou can locate and copy the `javaDb` folder from where it was created (your Java app) to the Derby installation&#39;s `lib` folder. But probably not a good idea. You should keep the `lib` folder clean.\r\n\r\nAlternatively...\r\n\r\nYou can execute the `java -jar derbyrun.jar ij` command from the parent folder of where the `javaDb` folder is located (i.e. from your Java project root folder:\r\n\r\n```\r\njava -jar %DERBY_HOME%\\lib\\derbyrun.jar ij\r\n```\r\n\r\n(I am assuming that by &quot;CMD&quot; you mean a Windows command prompt.)\r\n\r\nIf `DERBY_HOME` is not defined, then just use the full path to the Derby `lib` folder.\r\n\r\nThen, at the `ij&gt;` prompt, retry your connection command:\r\n\r\n```\r\nconnect &#39;jdbc:derby:javaDb&#39;;\r\n```\r\n\r\nSo, for example, for me, the Java command is this:\r\n\r\n```\r\njava -jar C:\\derbydb\\db-derby-10.16.1.1-bin\\lib\\derbyrun.jar ij\r\n```\r\n\r\nAnd I run the above command from where my Java project is located:\r\n\r\n```\r\nC:\\Users\\me\\Documents\\JavaDerbyDemo\r\n```\r\n\r\n---\r\n\r\n**Use `ij` For DB Creation**\r\n\r\nWhat you maybe want to do instead of all of the above is to use `ij` to actually _create_ the DB as you first try to connect to it in `ij`:\r\n\r\n```\r\nconnect &#39;jdbc:derby:javaDbTwo;create=true&#39;;\r\n```\r\n\r\nThat will create a `javaDbTwo` folder (containing your new, empty Derby DB) in the same location where you run the command.","title":"Java Derby does not find database","body":"<p>If I have interpreted your question correctly...</p>\n<p><strong>Quick Answer</strong></p>\n<p>(a) Run the <code>ij</code> start-up command in the same location where your Java program created the new database (see below).</p>\n<p>or</p>\n<p>(b) Create the DB using <code>ij</code> at the same time as you connect to it (also see below).</p>\n<hr />\n<p><strong>More Notes</strong></p>\n<p>When you create a new Derby DB using the Java code in your question, that will create the DB in the root folder of where the code (the Java project) was executed.</p>\n<p>Look for a <code>javaDb</code> folder there, containing the Derby database files.</p>\n<p>But when you try to connect to that database at the <code>ij&gt;</code> command prompt, after running this:</p>\n<pre><code>java -jar derbyrun.jar ij\n</code></pre>\n<p>...and then using <code>connect 'jdbc:derby:javaDb';</code> you are telling <code>ij</code> that the DB is in the <code>lib</code> directory of the Derby installation folder.</p>\n<p>Those are probably two different locations - hence you get your &quot;not found&quot; error.</p>\n<p>You can locate and copy the <code>javaDb</code> folder from where it was created (your Java app) to the Derby installation's <code>lib</code> folder. But probably not a good idea. You should keep the <code>lib</code> folder clean.</p>\n<p>Alternatively...</p>\n<p>You can execute the <code>java -jar derbyrun.jar ij</code> command from the parent folder of where the <code>javaDb</code> folder is located (i.e. from your Java project root folder:</p>\n<pre><code>java -jar %DERBY_HOME%\\lib\\derbyrun.jar ij\n</code></pre>\n<p>(I am assuming that by &quot;CMD&quot; you mean a Windows command prompt.)</p>\n<p>If <code>DERBY_HOME</code> is not defined, then just use the full path to the Derby <code>lib</code> folder.</p>\n<p>Then, at the <code>ij&gt;</code> prompt, retry your connection command:</p>\n<pre><code>connect 'jdbc:derby:javaDb';\n</code></pre>\n<p>So, for example, for me, the Java command is this:</p>\n<pre><code>java -jar C:\\derbydb\\db-derby-10.16.1.1-bin\\lib\\derbyrun.jar ij\n</code></pre>\n<p>And I run the above command from where my Java project is located:</p>\n<pre><code>C:\\Users\\me\\Documents\\JavaDerbyDemo\n</code></pre>\n<hr />\n<p><strong>Use <code>ij</code> For DB Creation</strong></p>\n<p>What you maybe want to do instead of all of the above is to use <code>ij</code> to actually <em>create</em> the DB as you first try to connect to it in <code>ij</code>:</p>\n<pre><code>connect 'jdbc:derby:javaDbTwo;create=true';\n</code></pre>\n<p>That will create a <code>javaDbTwo</code> folder (containing your new, empty Derby DB) in the same location where you run the command.</p>\n"}],"owner":{"account_id":1810821,"reputation":475,"user_id":1646928,"accept_rate":71,"display_name":"JamesB"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1668433315,"creation_date":1668367048,"question_id":74424011,"body_markdown":"Java Derby does not find a database even with &quot;create=true&quot; sentence.\r\n\r\nThe code is following:\r\n\r\n    public class Main{\r\n\r\n\tpublic static void main(String[] args) {\t\t\r\n\t\t\ttry {\r\n\t\t\tDriverManager.getConnection(&quot;jdbc:derby:javaDb;create=true&quot;);\r\n\t\t\t} catch (SQLException e){\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n    } \r\n\r\nIn CMD, from libs folder:\r\n\r\n&gt;     java -jar derbyrun.jar ij\r\n&gt;     version ij 10.15\r\n&gt;     connect &#39;jdbc:derby:javaDb&#39;;\r\n&gt;     ERROR XJ004: Database &#39;javaDb&#39; not found.\r\n&gt;     show connections\r\n&gt;     No connection available.\r\n\r\n\r\n","title":"Java Derby does not find database","body":"<p>Java Derby does not find a database even with &quot;create=true&quot; sentence.</p>\n<p>The code is following:</p>\n<pre><code>public class Main{\n\npublic static void main(String[] args) {        \n        try {\n        DriverManager.getConnection(&quot;jdbc:derby:javaDb;create=true&quot;);\n        } catch (SQLException e){\n            e.printStackTrace();\n        }\n} \n</code></pre>\n<p>In CMD, from libs folder:</p>\n<blockquote>\n<pre><code>java -jar derbyrun.jar ij\nversion ij 10.15\nconnect 'jdbc:derby:javaDb';\nERROR XJ004: Database 'javaDb' not found.\nshow connections\nNo connection available.\n</code></pre>\n</blockquote>\n"},{"tags":["java","service","ldap","window","onpremises-gateway"],"comments":[{"owner":{"account_id":957028,"reputation":15143,"user_id":982149,"accept_rate":100,"display_name":"Fildor"},"score":0,"creation_date":1668433545,"post_id":74432501,"comment_id":131396746,"body_markdown":"_&quot;java is good choice or not&quot;_ - that&#39;s opinionated. Personally, I&#39;d say there are better but also much worse. So, if you already _know_ Java, you&#39;re good to go.","body":"<i>&quot;java is good choice or not&quot;</i> - that&#39;s opinionated. Personally, I&#39;d say there are better but also much worse. So, if you already <i>know</i> Java, you&#39;re good to go."},{"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1668433723,"post_id":74432501,"comment_id":131396807,"body_markdown":"Does this answer your question? [How to create a windows service from java app](https://stackoverflow.com/questions/68113/how-to-create-a-windows-service-from-java-app)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/68113/how-to-create-a-windows-service-from-java-app\">How to create a windows service from java app</a>"}],"answers":[{"tags":[],"owner":{"account_id":3084600,"reputation":5860,"user_id":2612030,"display_name":"ewramner"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668433305,"creation_date":1668433305,"answer_id":74432593,"question_id":74432501,"body_markdown":"Yes. There are a number of frameworks available. I would recommend [commons-daemon][1], which I have been using for a long time. It is well documented, so just follow the instructions to get it up and running.\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-daemon/procrun.html","title":"how to create a window service using java?","body":"<p>Yes. There are a number of frameworks available. I would recommend <a href=\"https://commons.apache.org/proper/commons-daemon/procrun.html\" rel=\"nofollow noreferrer\">commons-daemon</a>, which I have been using for a long time. It is well documented, so just follow the instructions to get it up and running.</p>\n"}],"owner":{"account_id":22401625,"reputation":11,"user_id":16611956,"display_name":"durga murugan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668433305,"creation_date":1668432861,"question_id":74432501,"body_markdown":"is it possible to run a java program as window service is anyone done that successfully ,?\r\n\r\nI&#39;m trying to create LDAP application using java, want to run a java application as a window service, java is good choice or not, if any of you guys done any simple window service using java means ,can you please share the steps, thanks!","title":"how to create a window service using java?","body":"<p>is it possible to run a java program as window service is anyone done that successfully ,?</p>\n<p>I'm trying to create LDAP application using java, want to run a java application as a window service, java is good choice or not, if any of you guys done any simple window service using java means ,can you please share the steps, thanks!</p>\n"},{"tags":["java","log4j","log4j2"],"answers":[{"comments":[{"owner":{"account_id":143752,"reputation":5048,"user_id":352319,"accept_rate":84,"display_name":"kc2001"},"score":2,"creation_date":1519919636,"post_id":32996811,"comment_id":85111765,"body_markdown":"Does this mean that I need another 3 lines to specify different logging for another class?  For example, (1) loggers = myOther\n(2) logger.myOther.name = com.mycompany.otherpackage.OtherClassName\n(3) logger.myOther.level = INFO","body":"Does this mean that I need another 3 lines to specify different logging for another class?  For example, (1) loggers = myOther (2) logger.myOther.name = com.mycompany.otherpackage.OtherClassName (3) logger.myOther.level = INFO"},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":3,"creation_date":1519923583,"post_id":32996811,"comment_id":85114393,"body_markdown":"@kc2001 You can provide multiple loggers in `loggers` as a comma separated list. The other properties will need their own lines.","body":"@kc2001 You can provide multiple loggers in <code>loggers</code> as a comma separated list. The other properties will need their own lines."},{"owner":{"account_id":13185190,"reputation":331,"user_id":9523462,"display_name":"justarandomguy"},"score":1,"creation_date":1636458517,"post_id":32996811,"comment_id":123557072,"body_markdown":"As of `v2.6`, it is no longer required to list your loggers in the `loggers`. Log4j2 will infer the names automatically ([source](https://logging.apache.org/log4j/2.x/manual/configuration.html#Properties)).","body":"As of <code>v2.6</code>, it is no longer required to list your loggers in the <code>loggers</code>. Log4j2 will infer the names automatically (<a href=\"https://logging.apache.org/log4j/2.x/manual/configuration.html#Properties\" rel=\"nofollow noreferrer\">source</a>)."}],"tags":[],"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"comment_count":3,"down_vote_count":0,"up_vote_count":32,"is_accepted":true,"score":32,"last_activity_date":1509716152,"creation_date":1444232947,"answer_id":32996811,"question_id":32995946,"body_markdown":"As the [log4j2 configuration documentation][1] states\r\n\r\n&gt; As of version 2.4, Log4j now supports configuration via properties\r\n&gt; files. **Note that the property syntax is NOT the same as the syntax\r\n&gt; used in Log4j 1.**\r\n\r\nIt then provides a substantial example for all types of configuration elements. \r\n\r\nConcerning your question, you need to specify your loggers in a `loggers` element, then configure each of them. For example\r\n\r\n    loggers = mine\r\n    \r\n    logger.mine.name = com.mycompany.mypackage.ClassName\r\n    logger.mine.level = DEBUG\r\n\r\n\r\n----------\r\n\r\n[Note that log4j2 looks for a `.properties` file on the classpath by default.][2]\r\n\r\n&gt; If a test file cannot be located the properties ConfigurationFactory\r\n&gt; will look for `log4j2.properties` on the classpath.\r\n\r\nBut you can also configure the location yourself. You can use the system property\r\n\r\n    -Dlog4j.configurationFile=conf/log4j.properties\r\n\r\nwith an appropriate path.\r\n\r\n\r\n  [1]: https://logging.apache.org/log4j/2.x/manual/configuration.html#Properties\r\n  [2]: https://logging.apache.org/log4j/2.x/manual/configuration.html#AutomaticConfiguration","title":"How to set the log level on a class in log4j2 properties","body":"<p>As the <a href=\"https://logging.apache.org/log4j/2.x/manual/configuration.html#Properties\" rel=\"noreferrer\">log4j2 configuration documentation</a> states</p>\n\n<blockquote>\n  <p>As of version 2.4, Log4j now supports configuration via properties\n  files. <strong>Note that the property syntax is NOT the same as the syntax\n  used in Log4j 1.</strong></p>\n</blockquote>\n\n<p>It then provides a substantial example for all types of configuration elements. </p>\n\n<p>Concerning your question, you need to specify your loggers in a <code>loggers</code> element, then configure each of them. For example</p>\n\n<pre><code>loggers = mine\n\nlogger.mine.name = com.mycompany.mypackage.ClassName\nlogger.mine.level = DEBUG\n</code></pre>\n\n<hr>\n\n<p><a href=\"https://logging.apache.org/log4j/2.x/manual/configuration.html#AutomaticConfiguration\" rel=\"noreferrer\">Note that log4j2 looks for a <code>.properties</code> file on the classpath by default.</a></p>\n\n<blockquote>\n  <p>If a test file cannot be located the properties ConfigurationFactory\n  will look for <code>log4j2.properties</code> on the classpath.</p>\n</blockquote>\n\n<p>But you can also configure the location yourself. You can use the system property</p>\n\n<pre><code>-Dlog4j.configurationFile=conf/log4j.properties\n</code></pre>\n\n<p>with an appropriate path.</p>\n"},{"tags":[],"owner":{"account_id":1734438,"reputation":36275,"user_id":1587329,"accept_rate":94,"display_name":"serv-inc"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668433176,"creation_date":1668433176,"answer_id":74432568,"question_id":32995946,"body_markdown":"If you are using spring boot, you can use\r\n\r\n    logging.level.com.mycompany.mypackage.ClassName=DEBUG\r\n\r\nin [application.properties][1].\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html","title":"How to set the log level on a class in log4j2 properties","body":"<p>If you are using spring boot, you can use</p>\n<pre><code>logging.level.com.mycompany.mypackage.ClassName=DEBUG\n</code></pre>\n<p>in <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html\" rel=\"nofollow noreferrer\">application.properties</a>.</p>\n"}],"owner":{"account_id":21731,"reputation":9045,"user_id":53069,"accept_rate":77,"display_name":"sproketboy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19258,"favorite_count":0,"down_vote_count":1,"up_vote_count":29,"accepted_answer_id":32996811,"answer_count":2,"score":28,"last_activity_date":1668433207,"creation_date":1444230594,"question_id":32995946,"body_markdown":"In log4j I could specify a class in the properties file to log at the debug level like this:\r\n\r\n    log4j.logger.com.mycompany.mypackage.ClassName=DEBUG\r\n\r\nHow do I do this in log4j2?  Note I still need to use the new property file (not xml or json).","title":"How to set the log level on a class in log4j2 properties","body":"<p>In log4j I could specify a class in the properties file to log at the debug level like this:</p>\n<pre><code>log4j.logger.com.mycompany.mypackage.ClassName=DEBUG\n</code></pre>\n<p>How do I do this in log4j2?  Note I still need to use the new property file (not xml or json).</p>\n"},{"tags":["java","arrays"],"answers":[{"comments":[{"owner":{"account_id":7693338,"reputation":3,"user_id":5828809,"display_name":"MrOats"},"score":0,"creation_date":1453520390,"post_id":34959054,"comment_id":57649874,"body_markdown":"Interesting, I&#39;m trying to follow along here, I&#39;m new to this part: \n`for (Monster monster : monsters) {`\n\nCan you explain what is happening inside the parenthesis?\n\n\nAlso was creating a private array of objects in another class was the way to pass the list of monsters to the other class?","body":"Interesting, I&#39;m trying to follow along here, I&#39;m new to this part:  <code>for (Monster monster : monsters) {</code>  Can you explain what is happening inside the parenthesis?   Also was creating a private array of objects in another class was the way to pass the list of monsters to the other class?"},{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":0,"creation_date":1453520647,"post_id":34959054,"comment_id":57649921,"body_markdown":"@MrOats That&#39;s a for-each loop, basically it means &quot;for each `Monster monster` in the array `monsters`&quot;. See this post for detail on the for-each loop: http://stackoverflow.com/questions/85190/how-does-the-java-for-each-loop-work","body":"@MrOats That&#39;s a for-each loop, basically it means &quot;for each <code>Monster monster</code> in the array <code>monsters</code>&quot;. See this post for detail on the for-each loop: <a href=\"http://stackoverflow.com/questions/85190/how-does-the-java-for-each-loop-work\" title=\"how does the java for each loop work\">stackoverflow.com/questions/85190/&hellip;</a>"},{"owner":{"account_id":7693338,"reputation":3,"user_id":5828809,"display_name":"MrOats"},"score":0,"creation_date":1453520694,"post_id":34959054,"comment_id":57649937,"body_markdown":"Sorry I had issues with my comment, I just fixed it.","body":"Sorry I had issues with my comment, I just fixed it."},{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":0,"creation_date":1453520779,"post_id":34959054,"comment_id":57649952,"body_markdown":"@MrOats Yes in this example I pass the monsters array to the constructor, and the constructor stores it in a private field so that it remains available for all instance methods in the Battle class","body":"@MrOats Yes in this example I pass the monsters array to the constructor, and the constructor stores it in a private field so that it remains available for all instance methods in the Battle class"}],"tags":[],"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1453517235,"creation_date":1453517235,"answer_id":34959054,"question_id":34959000,"body_markdown":"You&#39;d need to pass the monsters into the Battle object somehow (or into another object that you pass into the Battle object). You could pass it as an argument to a method, but in an Object Oriented world, if the monsters really belong to a battle, you could pass them in the constructor and make them available in all the methods of the Battle class.\r\n\r\nExample:\r\n\r\n    public class Battle {\r\n    \tprivate Monster[] monsters;\r\n    \tprivate boolean wonloss;\r\n    \r\n    \tpublic Battle(Monster[] monsters) {\r\n    \t\tthis.monsters = monsters;\r\n    \t}\r\n    \r\n    \tpublic boolean isWonloss() {\r\n    \t\treturn wonloss;\r\n    \t}\r\n    \r\n    \tpublic void battle() {\r\n    \t\t// Do something with monsters,\r\n\r\n            // and then check if there is any life left in the monsters\r\n    \t\tint totalHp = 0;\r\n    \t\tfor (Monster monster : monsters) {\r\n    \t\t\ttotalHp += monster.hp;\r\n    \t\t}\r\n    \t\tif (totalHp == 0) {\r\n    \t\t\twonloss = false;\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nThe &quot;battle&quot; part of your main method would then look like:\r\n\r\n\t// Start\r\n\tBattle battle = new Battle(monsterid);\r\n\twhile (battle.isWonloss()) {\r\n\t\tbattle.battle();\r\n\t}","title":"How to create Array of Objects for Class with Multiple Parameters and Access objects (and their values) in other classes?","body":"<p>You'd need to pass the monsters into the Battle object somehow (or into another object that you pass into the Battle object). You could pass it as an argument to a method, but in an Object Oriented world, if the monsters really belong to a battle, you could pass them in the constructor and make them available in all the methods of the Battle class.</p>\n\n<p>Example:</p>\n\n<pre><code>public class Battle {\n    private Monster[] monsters;\n    private boolean wonloss;\n\n    public Battle(Monster[] monsters) {\n        this.monsters = monsters;\n    }\n\n    public boolean isWonloss() {\n        return wonloss;\n    }\n\n    public void battle() {\n        // Do something with monsters,\n\n        // and then check if there is any life left in the monsters\n        int totalHp = 0;\n        for (Monster monster : monsters) {\n            totalHp += monster.hp;\n        }\n        if (totalHp == 0) {\n            wonloss = false;\n        }\n    }\n}\n</code></pre>\n\n<p>The \"battle\" part of your main method would then look like:</p>\n\n<pre><code>// Start\nBattle battle = new Battle(monsterid);\nwhile (battle.isWonloss()) {\n    battle.battle();\n}\n</code></pre>\n"}],"owner":{"account_id":7693338,"reputation":3,"user_id":5828809,"display_name":"MrOats"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2023,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":34959054,"answer_count":1,"score":0,"last_activity_date":1668432325,"creation_date":1453516589,"question_id":34959000,"body_markdown":"My personal mini project was to learn arrays here, doing a slightly big jump by making an Array of Objects. What I wanted to do was a mini RPG system where I create a class called monster and give it a couple parameters, and create an array of objects of the Monster class. So far I believe I created that Monster class and the Object of Arrays inside the main method class (Exec_Monster) listed below.\r\n\r\nIt took me a while initially, but I finally got to a point where I can create the array of Monsters and access them inside the Main class. But is there a way for me to create this Array of Objects and access each object from another class (and their individual values)? For Example, I would create a &quot;Battle&quot; class and then I would pull the &quot;Health&quot; value from an object of Monster.\r\n\r\nI&#39;m new to Arrays but I have had some experience with classes for the past two weeks here.\r\n\r\n**Class:**\r\n\r\n    public class Monster\r\n    {\r\n        public int hp;\r\n        public String n;\r\n        public Monster(String name,int health){\r\n            n=name;\r\n            hp=health;        \r\n        }\r\n        public int returnHealth(){\r\n            return hp;\r\n        }\r\n        public String returnName(){\r\n            return n;\r\n        }\r\n    }\r\n\r\n**Exec_Monster:**\r\n\r\n    public class Exec_Monster{\r\n    public static void main(String args[])\r\n        {//Define Monsters\r\n            Monster[] monsterid=new Monster[]{\r\n            new Monster(&quot;Goblin&quot;,10),\r\n            new Monster(&quot;Elf&quot;, 8),\r\n            new Monster(&quot;Ant&quot;, 3),\r\n            new Monster(&quot;Worm&quot;, 2),\r\n            new Monster(&quot;Black Widow&quot;,6)};\r\n        \r\n            Random chooser;\r\n            int chosenmonster=(chooser.nextInt()*5);\r\n        //Start\r\n            //while (Battle.wonloss==true) {            \r\n              //  Battle.battle();\r\n            }\r\n        }","title":"How to create Array of Objects for Class with Multiple Parameters and Access objects (and their values) in other classes?","body":"<p>My personal mini project was to learn arrays here, doing a slightly big jump by making an Array of Objects. What I wanted to do was a mini RPG system where I create a class called monster and give it a couple parameters, and create an array of objects of the Monster class. So far I believe I created that Monster class and the Object of Arrays inside the main method class (Exec_Monster) listed below.</p>\n\n<p>It took me a while initially, but I finally got to a point where I can create the array of Monsters and access them inside the Main class. But is there a way for me to create this Array of Objects and access each object from another class (and their individual values)? For Example, I would create a \"Battle\" class and then I would pull the \"Health\" value from an object of Monster.</p>\n\n<p>I'm new to Arrays but I have had some experience with classes for the past two weeks here.</p>\n\n<p><strong>Class:</strong></p>\n\n<pre><code>public class Monster\n{\n    public int hp;\n    public String n;\n    public Monster(String name,int health){\n        n=name;\n        hp=health;        \n    }\n    public int returnHealth(){\n        return hp;\n    }\n    public String returnName(){\n        return n;\n    }\n}\n</code></pre>\n\n<p><strong>Exec_Monster:</strong></p>\n\n<pre><code>public class Exec_Monster{\npublic static void main(String args[])\n    {//Define Monsters\n        Monster[] monsterid=new Monster[]{\n        new Monster(\"Goblin\",10),\n        new Monster(\"Elf\", 8),\n        new Monster(\"Ant\", 3),\n        new Monster(\"Worm\", 2),\n        new Monster(\"Black Widow\",6)};\n\n        Random chooser;\n        int chosenmonster=(chooser.nextInt()*5);\n    //Start\n        //while (Battle.wonloss==true) {            \n          //  Battle.battle();\n        }\n    }\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9337,"page":886,"page_size":100}
