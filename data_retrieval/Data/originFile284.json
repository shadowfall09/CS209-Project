{"items":[{"tags":["java","inheritance","sonarqube"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1690367905,"post_id":76770187,"comment_id":135342702,"body_markdown":"Please include the exact error in the question","body":"Please include the exact error in the question"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1690368267,"post_id":76770187,"comment_id":135342775,"body_markdown":"Using `List&lt;? extends Parent&gt;` states that you get a list of `Parent` or a list of some subclass of `Parent`, that means, regarding type safety: (i) you cannot add any element to the list (example: `Parent` should not be added to `List&lt;Child&gt;`, `Child` not to `List&lt;OtherChild`;) (ii) you can only expect `Parent` elements from such a list -- returning `List&lt;Parent` *solves* both","body":"Using <code>List&lt;? extends Parent&gt;</code> states that you get a list of <code>Parent</code> or a list of some subclass of <code>Parent</code>, that means, regarding type safety: (i) you cannot add any element to the list (example: <code>Parent</code> should not be added to <code>List&lt;Child&gt;</code>, <code>Child</code> not to <code>List&lt;OtherChild</code>;) (ii) you can only expect <code>Parent</code> elements from such a list -- returning <code>List&lt;Parent</code> <i>solves</i> both"},{"owner":{"account_id":16478911,"reputation":147,"user_id":11906121,"display_name":"elcye"},"score":0,"creation_date":1690374032,"post_id":76770187,"comment_id":135343990,"body_markdown":"@TimMoore sonar just says that &quot;Generic wildcard types should not be used in return types&quot;.\n@user16320675 the compiler doesn&#39;t allow simply returning `List&lt;Parent&gt;`, that&#39;s the point.","body":"@TimMoore sonar just says that &quot;Generic wildcard types should not be used in return types&quot;. @user16320675 the compiler doesn&#39;t allow simply returning <code>List&lt;Parent&gt;</code>, that&#39;s the point."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1690413228,"post_id":76770187,"comment_id":135351995,"body_markdown":"The reason I asked you to put the error message into the question (not just in a comment) is so that people can search for that error message and find this question in the future. Remember that the purpose of StackOverflow is to [to build a library of detailed, high-quality answers to every question about programming](https://stackoverflow.com/tour). In fact, if you search for the error message, you might find existing helpful explanations, on both this site and others.","body":"The reason I asked you to put the error message into the question (not just in a comment) is so that people can search for that error message and find this question in the future. Remember that the purpose of StackOverflow is to <a href=\"https://stackoverflow.com/tour\">to build a library of detailed, high-quality answers to every question about programming</a>. In fact, if you search for the error message, you might find existing helpful explanations, on both this site and others."},{"owner":{"account_id":16478911,"reputation":147,"user_id":11906121,"display_name":"elcye"},"score":0,"creation_date":1690449963,"post_id":76770187,"comment_id":135356570,"body_markdown":"@user16320675 the problem is that I create both a List&lt;Parent&gt; and a List&lt;Child&gt;. Are you suggesting that I should convert the List&lt;Child&gt; to a List&lt;Parent&gt; ?","body":"@user16320675 the problem is that I create both a List&lt;Parent&gt; and a List&lt;Child&gt;. Are you suggesting that I should convert the List&lt;Child&gt; to a List&lt;Parent&gt; ?"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1690451924,"post_id":76770187,"comment_id":135356982,"body_markdown":"What does the caller do with the list?","body":"What does the caller do with the list?"},{"owner":{"account_id":379763,"reputation":29886,"user_id":733345,"display_name":"Joe"},"score":0,"creation_date":1690454274,"post_id":76770187,"comment_id":135357480,"body_markdown":"Does this answer your question? [Generic wildcard types should not be used in return parameters](https://stackoverflow.com/questions/22815023/generic-wildcard-types-should-not-be-used-in-return-parameters)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/22815023/generic-wildcard-types-should-not-be-used-in-return-parameters\">Generic wildcard types should not be used in return parameters</a>"},{"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"score":0,"creation_date":1690454349,"post_id":76770187,"comment_id":135357498,"body_markdown":"`public List&lt;Parent&gt; getListOfStuff(boolean p) {}` should work","body":"<code>public List&lt;Parent&gt; getListOfStuff(boolean p) {}</code> should work"},{"owner":{"account_id":16478911,"reputation":147,"user_id":11906121,"display_name":"elcye"},"score":0,"creation_date":1690461218,"post_id":76770187,"comment_id":135359003,"body_markdown":"@TimMoore nothing really, it just returns it to the controller, which returns it to the client which made the http call. But it means the controller method also has wildard type as return parameter, and sonar isn&#39;t happy.","body":"@TimMoore nothing really, it just returns it to the controller, which returns it to the client which made the http call. But it means the controller method also has wildard type as return parameter, and sonar isn&#39;t happy."},{"owner":{"account_id":16478911,"reputation":147,"user_id":11906121,"display_name":"elcye"},"score":0,"creation_date":1690461400,"post_id":76770187,"comment_id":135359047,"body_markdown":"@Joe no, it just says it&#39;s bad to use wildcard types as return parameter, but not how one should do to avoid it.","body":"@Joe no, it just says it&#39;s bad to use wildcard types as return parameter, but not how one should do to avoid it."},{"owner":{"account_id":16478911,"reputation":147,"user_id":11906121,"display_name":"elcye"},"score":0,"creation_date":1690461434,"post_id":76770187,"comment_id":135359059,"body_markdown":"@OlegCherednik no, I tried, the compiler doesn&#39;t accept it, which is why I had to use the wildcard.","body":"@OlegCherednik no, I tried, the compiler doesn&#39;t accept it, which is why I had to use the wildcard."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1690463054,"post_id":76770187,"comment_id":135359499,"body_markdown":"I’m assuming that your actual code doesn’t return empty lists then, correct?","body":"I’m assuming that your actual code doesn’t return empty lists then, correct?"},{"owner":{"account_id":16478911,"reputation":147,"user_id":11906121,"display_name":"elcye"},"score":0,"creation_date":1690466666,"post_id":76770187,"comment_id":135360444,"body_markdown":"@TimMoore Indeed they aren&#39;t empty. Both methods return the list of the same elements, except that the second one performs a join on a second table to populate the additional attributes of the `Child` class. Depending on if I need that additional information, I call one method or the other.","body":"@TimMoore Indeed they aren&#39;t empty. Both methods return the list of the same elements, except that the second one performs a join on a second table to populate the additional attributes of the <code>Child</code> class. Depending on if I need that additional information, I call one method or the other."}],"answers":[{"comments":[{"owner":{"account_id":16478911,"reputation":147,"user_id":11906121,"display_name":"elcye"},"score":0,"creation_date":1690461475,"post_id":76779135,"comment_id":135359071,"body_markdown":"I don&#39;t see any difference with my code. There is still a wildcard as a return parameter, sonar will still complain.","body":"I don&#39;t see any difference with my code. There is still a wildcard as a return parameter, sonar will still complain."},{"owner":{"account_id":14218716,"reputation":76,"user_id":10271769,"display_name":"ChristianRein"},"score":0,"creation_date":1690464787,"post_id":76779135,"comment_id":135359976,"body_markdown":"You were correct - shame on me. I corrected it - using parent accept all children, too.","body":"You were correct - shame on me. I corrected it - using parent accept all children, too."},{"owner":{"account_id":16478911,"reputation":147,"user_id":11906121,"display_name":"elcye"},"score":0,"creation_date":1690466408,"post_id":76779135,"comment_id":135360374,"body_markdown":"That still doesn&#39;t work. This is what I tried first, the compiler doesn&#39;t accept it, because `List&lt;Child&gt;` isn&#39;t a subclass of `List&lt;Parent&gt;`.","body":"That still doesn&#39;t work. This is what I tried first, the compiler doesn&#39;t accept it, because <code>List&lt;Child&gt;</code> isn&#39;t a subclass of <code>List&lt;Parent&gt;</code>."},{"owner":{"account_id":14218716,"reputation":76,"user_id":10271769,"display_name":"ChristianRein"},"score":0,"creation_date":1690468635,"post_id":76779135,"comment_id":135360917,"body_markdown":"Please have another look - I edited it again and added a test case.","body":"Please have another look - I edited it again and added a test case."},{"owner":{"account_id":16478911,"reputation":147,"user_id":11906121,"display_name":"elcye"},"score":0,"creation_date":1690472877,"post_id":76779135,"comment_id":135361933,"body_markdown":"I see, rebuild the `List&lt;Child&gt;` as a `List&lt;Parent&gt;`. That&#39;s a clean solution, thanks.","body":"I see, rebuild the <code>List&lt;Child&gt;</code> as a <code>List&lt;Parent&gt;</code>. That&#39;s a clean solution, thanks."}],"tags":[],"owner":{"account_id":14218716,"reputation":76,"user_id":10271769,"display_name":"ChristianRein"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690468600,"creation_date":1690456095,"answer_id":76779135,"question_id":76770187,"body_markdown":"As your class Child extends your class Parent, you can easily write\r\n\r\n    public class Parent {\r\n    \r\n        public List&lt;Parent&gt; getListOfStuff(final boolean p) {\r\n            return p\r\n                    ? myOtherMethodThatReturnsListOfParents()\r\n                    : new ArrayList&lt;&gt;(myOtherMethodThatReturnsListOfChildren());\r\n        }\r\n    \r\n        private List&lt;Child&gt; myOtherMethodThatReturnsListOfChildren() {\r\n            return List.of(new Child());\r\n        }\r\n    \r\n        private List&lt;Parent&gt; myOtherMethodThatReturnsListOfParents() {\r\n            return List.of(new Parent());\r\n        }\r\n    \r\n    }\r\n\r\nThis way, Sonar accepts it.\r\n\r\nIn the calling method, you may use instanceof to decide if you recieved a Child or a Parent object. In JUnit5, you may use assertInstanceOf:\r\n\r\n    @Test\r\n    void parents() {\r\n        // when\r\n        final List&lt;Parent&gt; result = new Parent().getListOfStuff(true);\r\n    \r\n        // then\r\n        assertInstanceOf(Parent.class, result.get(0));\r\n        assertInstanceOf(Child.class, result.get(0)); // fails\r\n    }\r\n\r\n    @Test\r\n    void children() {\r\n        // when\r\n        final List&lt;Parent&gt; result = new Parent().getListOfStuff(false);\r\n    \r\n        // then\r\n        assertInstanceOf(Child.class, result.get(0));\r\n        assertInstanceOf(Parent.class, result.get(0));\r\n    }","title":"Properly return list of class or of subclass","body":"<p>As your class Child extends your class Parent, you can easily write</p>\n<pre><code>public class Parent {\n\n    public List&lt;Parent&gt; getListOfStuff(final boolean p) {\n        return p\n                ? myOtherMethodThatReturnsListOfParents()\n                : new ArrayList&lt;&gt;(myOtherMethodThatReturnsListOfChildren());\n    }\n\n    private List&lt;Child&gt; myOtherMethodThatReturnsListOfChildren() {\n        return List.of(new Child());\n    }\n\n    private List&lt;Parent&gt; myOtherMethodThatReturnsListOfParents() {\n        return List.of(new Parent());\n    }\n\n}\n</code></pre>\n<p>This way, Sonar accepts it.</p>\n<p>In the calling method, you may use instanceof to decide if you recieved a Child or a Parent object. In JUnit5, you may use assertInstanceOf:</p>\n<pre><code>@Test\nvoid parents() {\n    // when\n    final List&lt;Parent&gt; result = new Parent().getListOfStuff(true);\n\n    // then\n    assertInstanceOf(Parent.class, result.get(0));\n    assertInstanceOf(Child.class, result.get(0)); // fails\n}\n\n@Test\nvoid children() {\n    // when\n    final List&lt;Parent&gt; result = new Parent().getListOfStuff(false);\n\n    // then\n    assertInstanceOf(Child.class, result.get(0));\n    assertInstanceOf(Parent.class, result.get(0));\n}\n</code></pre>\n"}],"owner":{"account_id":16478911,"reputation":147,"user_id":11906121,"display_name":"elcye"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76779135,"answer_count":1,"score":0,"last_activity_date":1690473100,"creation_date":1690366382,"question_id":76770187,"body_markdown":"My situation is rather simple, I have a class `Parent` and a class `Child` which is extending `Parent`.\r\n\r\nIf I have a method getStuff that can return either an instance of Parent or of Child, I can simply do that:\r\n\r\n    public Parent getStuff(boolean p) {\r\n      return p ? new Parent() : new Child();\r\n    }\r\n\r\nNow what if my method can return either `List&lt;Parent&gt;` or `List&lt;Child&gt;`? I have to do that:\r\n\r\n    public List&lt;? extends Parent&gt; getListOfStuff(boolean p) {\r\n      return p\r\n        ? myOtherMethodThatReturnsListOfParents()\r\n        : myOtherMethodThatReturnsListOfChilds();\r\n    }\r\n    \r\n    public List&lt;Parent&gt; myOtherMethodThatReturnsListOfParents() {\r\n      return new ArrayList&lt;Parent&gt;();\r\n    }\r\n    \r\n    public List&lt;Child&gt; myOtherMethodThatReturnsListOfChilds(boolean p) {\r\n      return new ArrayList&lt;Child&gt;();\r\n    }\r\n\r\n\r\nBut when I do that, Sonar reports [&quot;Generic wildcard types should not be used in return types&quot;](https://rules.sonarsource.com/java/RSPEC-1452/) as a critical problem.\r\n\r\nWhat is the proper way of fixing it?\r\n\r\nThanks\r\n\r\n\r\nEDIT: the cleanest solution I&#39;ve seen is ChristianRein&#39;s solution below (rebuild the `List&lt;Child&gt;` as a `List&lt;Parent&gt;`, it does exactly what I want and is so obvious in insight):\r\n\r\n    public List&lt;Parent&gt; getListOfStuff(boolean p) {\r\n      return p\r\n        ? myOtherMethodThatReturnsListOfParents()\r\n        : new ArrayList&lt;Parent&gt;(myOtherMethodThatReturnsListOfChilds());\r\n    }","title":"Properly return list of class or of subclass","body":"<p>My situation is rather simple, I have a class <code>Parent</code> and a class <code>Child</code> which is extending <code>Parent</code>.</p>\n<p>If I have a method getStuff that can return either an instance of Parent or of Child, I can simply do that:</p>\n<pre><code>public Parent getStuff(boolean p) {\n  return p ? new Parent() : new Child();\n}\n</code></pre>\n<p>Now what if my method can return either <code>List&lt;Parent&gt;</code> or <code>List&lt;Child&gt;</code>? I have to do that:</p>\n<pre><code>public List&lt;? extends Parent&gt; getListOfStuff(boolean p) {\n  return p\n    ? myOtherMethodThatReturnsListOfParents()\n    : myOtherMethodThatReturnsListOfChilds();\n}\n\npublic List&lt;Parent&gt; myOtherMethodThatReturnsListOfParents() {\n  return new ArrayList&lt;Parent&gt;();\n}\n\npublic List&lt;Child&gt; myOtherMethodThatReturnsListOfChilds(boolean p) {\n  return new ArrayList&lt;Child&gt;();\n}\n</code></pre>\n<p>But when I do that, Sonar reports <a href=\"https://rules.sonarsource.com/java/RSPEC-1452/\" rel=\"nofollow noreferrer\">&quot;Generic wildcard types should not be used in return types&quot;</a> as a critical problem.</p>\n<p>What is the proper way of fixing it?</p>\n<p>Thanks</p>\n<p>EDIT: the cleanest solution I've seen is ChristianRein's solution below (rebuild the <code>List&lt;Child&gt;</code> as a <code>List&lt;Parent&gt;</code>, it does exactly what I want and is so obvious in insight):</p>\n<pre><code>public List&lt;Parent&gt; getListOfStuff(boolean p) {\n  return p\n    ? myOtherMethodThatReturnsListOfParents()\n    : new ArrayList&lt;Parent&gt;(myOtherMethodThatReturnsListOfChilds());\n}\n</code></pre>\n"},{"tags":["java","android","webview","scroll","overriding"],"comments":[{"owner":{"account_id":27396943,"reputation":87,"user_id":20898993,"display_name":"Thug Life"},"score":1,"creation_date":1690311280,"post_id":76764769,"comment_id":135334952,"body_markdown":"The method onScrollChange takes View as it&#39;s first argument. You are passing Webview. In the case of overriding, method signature must be same. Change it as:\n@Override\n        public void onScrollChange(View view, int scrollX, int scrollY, int oldScrollX, int oldScrollY) {\n            isScrolling = true;\n            isScrolledToTheTop = (scrollY == 0);\n        }","body":"The method onScrollChange takes View as it&#39;s first argument. You are passing Webview. In the case of overriding, method signature must be same. Change it as: @Override         public void onScrollChange(View view, int scrollX, int scrollY, int oldScrollX, int oldScrollY) {             isScrolling = true;             isScrolledToTheTop = (scrollY == 0);         }"}],"answers":[{"tags":[],"owner":{"account_id":2575444,"reputation":152,"user_id":2233256,"accept_rate":80,"display_name":"aqm"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690473010,"creation_date":1690473010,"answer_id":76781478,"question_id":76764769,"body_markdown":"It was the wrong signatur as Thug Life suggested in the Comment.\r\n\r\nThe correct code should be like this:\r\n\r\n    import android.view.View;\r\n    import android.webkit.WebResourceRequest;\r\n    import android.webkit.WebView;\r\n    \r\n    ...\r\n\r\n        // Set custom OnScrollChangeListener\r\n    setOnScrollChangeListener(new OnScrollChangeListener() {\r\n        @Override\r\n        public void onScrollChange(View view, int scrollX, int scrollY, int oldScrollX, int oldScrollY) {\r\n            isScrolling = true;\r\n            isScrolledToTheTop = (scrollY == 0);\r\n        }\r\n    });\r\n\r\n\r\nI don&#39;t want to ask why Java not just said the signature does not match any available supertype method. I am glad that my project is C++ based (C++ simply tells you about a not matching signature) and that I did only need this little Java snipped.\r\n","title":"Java Android add OnScrollChangeListener","body":"<p>It was the wrong signatur as Thug Life suggested in the Comment.</p>\n<p>The correct code should be like this:</p>\n<pre><code>import android.view.View;\nimport android.webkit.WebResourceRequest;\nimport android.webkit.WebView;\n\n...\n\n    // Set custom OnScrollChangeListener\nsetOnScrollChangeListener(new OnScrollChangeListener() {\n    @Override\n    public void onScrollChange(View view, int scrollX, int scrollY, int oldScrollX, int oldScrollY) {\n        isScrolling = true;\n        isScrolledToTheTop = (scrollY == 0);\n    }\n});\n</code></pre>\n<p>I don't want to ask why Java not just said the signature does not match any available supertype method. I am glad that my project is C++ based (C++ simply tells you about a not matching signature) and that I did only need this little Java snipped.</p>\n"}],"owner":{"account_id":2575444,"reputation":152,"user_id":2233256,"accept_rate":80,"display_name":"aqm"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1690473010,"creation_date":1690302676,"question_id":76764769,"body_markdown":"I was trying to add a OnScrollChangeListener to a Custom Webview I am developing. But it won&#39;t compile. Following Code I am using:\r\n\r\n        // Set custom OnScrollChangeListener\r\n        setOnScrollChangeListener(new OnScrollChangeListener() {\r\n            @Override\r\n            public void onScrollChange(Webview view, int scrollX, int scrollY, int oldScrollX, int oldScrollY) {\r\n                isScrolling = true;\r\n                isScrolledToTheTop = (scrollY == 0);\r\n            }\r\n        });\r\n\r\nBut when compiling I got following Errors which makes no sense to me:\r\n\r\n    /.../VEMAWebview.java:36: error: &lt;anonymous de.X.Y.VEMAWebview$1&gt; is not abstract and does not override abstract method onScrollChange(View,int,int,int,int) in OnScrollChangeListener\r\n            setOnScrollChangeListener(new OnScrollChangeListener() {\r\n                                                                   ^\r\n    /.../VEMAWebview.java:37: error: method does not override or implement a method from a supertype\r\n                @Override\r\n                ^\r\nwhere above mentioned onScrollChange Funktion is in Line 37.\r\n\r\nBasically it&#39;s saying that the onScrollChange was not overridden. \r\nand in the next line it says the @override is not allowed because it is not overriding any function\r\n\r\nHow can I solve this ?","title":"Java Android add OnScrollChangeListener","body":"<p>I was trying to add a OnScrollChangeListener to a Custom Webview I am developing. But it won't compile. Following Code I am using:</p>\n<pre><code>    // Set custom OnScrollChangeListener\n    setOnScrollChangeListener(new OnScrollChangeListener() {\n        @Override\n        public void onScrollChange(Webview view, int scrollX, int scrollY, int oldScrollX, int oldScrollY) {\n            isScrolling = true;\n            isScrolledToTheTop = (scrollY == 0);\n        }\n    });\n</code></pre>\n<p>But when compiling I got following Errors which makes no sense to me:</p>\n<pre><code>/.../VEMAWebview.java:36: error: &lt;anonymous de.X.Y.VEMAWebview$1&gt; is not abstract and does not override abstract method onScrollChange(View,int,int,int,int) in OnScrollChangeListener\n        setOnScrollChangeListener(new OnScrollChangeListener() {\n                                                               ^\n/.../VEMAWebview.java:37: error: method does not override or implement a method from a supertype\n            @Override\n            ^\n</code></pre>\n<p>where above mentioned onScrollChange Funktion is in Line 37.</p>\n<p>Basically it's saying that the onScrollChange was not overridden.\nand in the next line it says the @override is not allowed because it is not overriding any function</p>\n<p>How can I solve this ?</p>\n"},{"tags":["java","spring-mvc"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":2,"creation_date":1690471569,"post_id":76781269,"comment_id":135361649,"body_markdown":"Can you add the raw bytes and serialize them to JSON? Sure. Will the web client recognize it as a file download? No. To do that, you have to send a response with the correct headers, containing *only* the file and no additional DTO or fields.","body":"Can you add the raw bytes and serialize them to JSON? Sure. Will the web client recognize it as a file download? No. To do that, you have to send a response with the correct headers, containing <i>only</i> the file and no additional DTO or fields."},{"owner":{"account_id":29104420,"reputation":1,"user_id":22295565,"display_name":"Green"},"score":0,"creation_date":1690471923,"post_id":76781269,"comment_id":135361727,"body_markdown":"Thank you. I will add another endpoint.","body":"Thank you. I will add another endpoint."}],"answers":[{"tags":[],"owner":{"account_id":11113839,"reputation":1926,"user_id":8158692,"display_name":"Baptiste Beauvais"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690472838,"creation_date":1690472838,"answer_id":76781453,"question_id":76781269,"body_markdown":"It depends on what you want to achieve. It is possible to return a file in JSON (or XML, CSV... as long as it&#39;s a textual datatype) by encoding the file in a base64 string and setting it in your DTO as a field.\r\n\r\nThis a classic approach, but beware of some performance shortcomings. Mainly in terms of memory as the whole file will be loaded in memory as `byte[]` at some point, which can be pretty problematic depending on the type of file and server load.\r\n\r\nHere is some documentation on how to do it : [link](https://www.baeldung.com/java-base64-encode-and-decode)\r\n\r\nOtherwise, you can create another endpoint with a `Resource` and proper mime-type.","title":"Response DTO with file within","body":"<p>It depends on what you want to achieve. It is possible to return a file in JSON (or XML, CSV... as long as it's a textual datatype) by encoding the file in a base64 string and setting it in your DTO as a field.</p>\n<p>This a classic approach, but beware of some performance shortcomings. Mainly in terms of memory as the whole file will be loaded in memory as <code>byte[]</code> at some point, which can be pretty problematic depending on the type of file and server load.</p>\n<p>Here is some documentation on how to do it : <a href=\"https://www.baeldung.com/java-base64-encode-and-decode\" rel=\"nofollow noreferrer\">link</a></p>\n<p>Otherwise, you can create another endpoint with a <code>Resource</code> and proper mime-type.</p>\n"}],"owner":{"account_id":29104420,"reputation":1,"user_id":22295565,"display_name":"Green"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690472838,"creation_date":1690471407,"question_id":76781269,"body_markdown":"I have some question. Can you actualy return file within dto, or it is impossible?\r\nIf it possible, how can I do it correctly in Spring rest controller?\r\n\r\nFor example:\r\n\r\n\r\n```\r\n@GetMapping(path = &quot;/getData&quot;, produces = &quot;???&quot;)\r\npublic ResponseEntity&lt;DtoWithFile&gt; getData() {\r\n    // Some logic\r\n    return ResponseEntity.ok(new Dto(&quot;name&quot;, 21, myFile));\r\n}\r\n```\r\n\r\n\r\n```\r\n@Data\r\n@AllArgsConstructor\r\npublic class DtoWithFile {\r\n    private String name;\r\n    private int id;\r\n    private ???? file;\r\n}\r\n```\r\n\r\n\r\n\r\nI have tried to add Resource, custom MultipartFile, byte[]\r\nAnd excepted that I will get reponse dto and download file","title":"Response DTO with file within","body":"<p>I have some question. Can you actualy return file within dto, or it is impossible?\nIf it possible, how can I do it correctly in Spring rest controller?</p>\n<p>For example:</p>\n<pre><code>@GetMapping(path = &quot;/getData&quot;, produces = &quot;???&quot;)\npublic ResponseEntity&lt;DtoWithFile&gt; getData() {\n    // Some logic\n    return ResponseEntity.ok(new Dto(&quot;name&quot;, 21, myFile));\n}\n</code></pre>\n<pre><code>@Data\n@AllArgsConstructor\npublic class DtoWithFile {\n    private String name;\n    private int id;\n    private ???? file;\n}\n</code></pre>\n<p>I have tried to add Resource, custom MultipartFile, byte[]\nAnd excepted that I will get reponse dto and download file</p>\n"},{"tags":["java","yaml","snakeyaml"],"answers":[{"tags":[],"owner":{"account_id":3362599,"reputation":539,"user_id":2824080,"accept_rate":70,"display_name":"robross0606"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690472198,"creation_date":1690472198,"answer_id":76781371,"question_id":76781250,"body_markdown":"Got it.  Very simply, this pattern seems to work for me:\r\n```java\r\n\r\nimport org.yaml.snakeyaml.DumperOptions;\r\nimport org.yaml.snakeyaml.LoaderOptions;\r\nimport org.yaml.snakeyaml.Yaml;\r\nimport org.yaml.snakeyaml.constructor.SafeConstructor;\r\nimport org.yaml.snakeyaml.nodes.Node;\r\nimport org.yaml.snakeyaml.representer.Representer;\r\n\r\n// ...\r\n\r\nLoaderOptions loadOptions = new LoaderOptions();\r\nloadOptions.setProcessComments(true);\r\nDumperOptions dumpOptions = new DumperOptions();\r\ndumpOptions.setProcessComments(true);\r\nYaml yaml = new Yaml(new SafeConstructor(loadOptions), new Representer(dumpOptions), dumpOptions, loadOptions);\r\nNode rootNode = yaml.compose(myInputStream);\r\n\r\n// ...\r\n\r\nyaml.serialize(rootNode, outputWriter);\r\n```","title":"How to use SnakeYaml setProcessComments() on LoaderOptions and DumperOptions","body":"<p>Got it.  Very simply, this pattern seems to work for me:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nimport org.yaml.snakeyaml.DumperOptions;\nimport org.yaml.snakeyaml.LoaderOptions;\nimport org.yaml.snakeyaml.Yaml;\nimport org.yaml.snakeyaml.constructor.SafeConstructor;\nimport org.yaml.snakeyaml.nodes.Node;\nimport org.yaml.snakeyaml.representer.Representer;\n\n// ...\n\nLoaderOptions loadOptions = new LoaderOptions();\nloadOptions.setProcessComments(true);\nDumperOptions dumpOptions = new DumperOptions();\ndumpOptions.setProcessComments(true);\nYaml yaml = new Yaml(new SafeConstructor(loadOptions), new Representer(dumpOptions), dumpOptions, loadOptions);\nNode rootNode = yaml.compose(myInputStream);\n\n// ...\n\nyaml.serialize(rootNode, outputWriter);\n</code></pre>\n"}],"owner":{"account_id":3362599,"reputation":539,"user_id":2824080,"accept_rate":70,"display_name":"robross0606"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":200,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690472198,"creation_date":1690471272,"question_id":76781250,"body_markdown":"SnakeYaml API appears to have a very interesting feature for preserving comments during both loading and dumping (`setProcessComments(true)`).  I have confirmed in the debugger that it does ingest and track the comments, as I can find them on the `Node` representation tree after using `compose(fileStream)`.  However, I have yet to find any kind of documentation of this feature or how it would be useful, especially on the output side of things.  But this certainly seems possible since `DumperOptions.setProcessComments(true)` is available.\r\n\r\nAll the documentation I&#39;ve found focuses on `Map` and/or JavaBean loading and dumping, neither of which seems to be able to benefit from the comments stored on the `Node` tree.  Or, if it does, I&#39;m not clear how.\r\n\r\nCan anyone provide a relatively simple &quot;round trip&quot; example where a YAML file is loaded with comments and then dumped with comments?","title":"How to use SnakeYaml setProcessComments() on LoaderOptions and DumperOptions","body":"<p>SnakeYaml API appears to have a very interesting feature for preserving comments during both loading and dumping (<code>setProcessComments(true)</code>).  I have confirmed in the debugger that it does ingest and track the comments, as I can find them on the <code>Node</code> representation tree after using <code>compose(fileStream)</code>.  However, I have yet to find any kind of documentation of this feature or how it would be useful, especially on the output side of things.  But this certainly seems possible since <code>DumperOptions.setProcessComments(true)</code> is available.</p>\n<p>All the documentation I've found focuses on <code>Map</code> and/or JavaBean loading and dumping, neither of which seems to be able to benefit from the comments stored on the <code>Node</code> tree.  Or, if it does, I'm not clear how.</p>\n<p>Can anyone provide a relatively simple &quot;round trip&quot; example where a YAML file is loaded with comments and then dumped with comments?</p>\n"},{"tags":["java","spring","spring-security"],"comments":[{"owner":{"account_id":11024638,"reputation":126,"user_id":8097900,"display_name":"Leon Klute"},"score":0,"creation_date":1688644776,"post_id":76628479,"comment_id":135103321,"body_markdown":"Could you shorten your `authorizeHttpRequests` configuration to  just the lines  causing the error?","body":"Could you shorten your <code>authorizeHttpRequests</code> configuration to  just the lines  causing the error?"},{"owner":{"account_id":20351337,"reputation":1,"user_id":14927960,"display_name":"vagabond"},"score":0,"creation_date":1688645631,"post_id":76628479,"comment_id":135103514,"body_markdown":"@LeonKlute Hey thats what I dont understand like which parts are causing this error.","body":"@LeonKlute Hey thats what I dont understand like which parts are causing this error."},{"owner":{"account_id":11024638,"reputation":126,"user_id":8097900,"display_name":"Leon Klute"},"score":0,"creation_date":1688646164,"post_id":76628479,"comment_id":135103631,"body_markdown":"You could just start removing parts of the configuration until the error disappears, then you will know which part of the configuration is causing the error.","body":"You could just start removing parts of the configuration until the error disappears, then you will know which part of the configuration is causing the error."},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1688658026,"post_id":76628479,"comment_id":135106434,"body_markdown":"basically what the error is saying is that you have not configured the client information that is needed if you are going to login against a third party issuer like for instance google, facebook etc. you have `spring-boot-starter-oauth2-client` on your classpath and you have not configured the oauth2 client. Read the docs!","body":"basically what the error is saying is that you have not configured the client information that is needed if you are going to login against a third party issuer like for instance google, facebook etc. you have <code>spring-boot-starter-oauth2-client</code> on your classpath and you have not configured the oauth2 client. Read the docs!"}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1690833097,"post_id":76778659,"comment_id":135405321,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/76778659/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":21516884,"reputation":1,"user_id":15858581,"display_name":"panda"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690452450,"creation_date":1690452450,"answer_id":76778659,"question_id":76628479,"body_markdown":"spring:\r\n  security:\r\n    oauth2:\r\n      client:\r\n        registration:\r\n          google-idp:\r\n            provider: google\r\n            client-id: ${GOOGLE_CLIENT_ID:google-client-id}\r\n            client-secret: ${GOOGLE_CLIENT_SECRET:google-client-secret}\r\n            scope: openid, https://www.googleapis.com/auth/userinfo.profile, https://www.googleapis.com/auth/userinfo.email\r\n            client-name: Sign in with Google\r\n          github-idp:\r\n            provider: github\r\n            client-id: ${GITHUB_CLIENT_ID:github-client-id}\r\n            client-secret: ${GITHUB_CLIENT_SECRET:github-client-secret}\r\n            scope: user:email, read:user\r\n            client-name: Sign in with GitHub\r\n        provider:\r\n          google:\r\n            user-name-attribute: email\r\n          github:\r\n            user-name-attribute: login\r\n\r\n\r\nyml 配置你也要使用官方的demo里面的，原因是因为client配置","title":"Parameter 0 of method setFilterChains error","body":"<p>spring:\nsecurity:\noauth2:\nclient:\nregistration:\ngoogle-idp:\nprovider: google\nclient-id: ${GOOGLE_CLIENT_ID:google-client-id}\nclient-secret: ${GOOGLE_CLIENT_SECRET:google-client-secret}\nscope: openid, <a href=\"https://www.googleapis.com/auth/userinfo.profile\" rel=\"nofollow noreferrer\">https://www.googleapis.com/auth/userinfo.profile</a>, <a href=\"https://www.googleapis.com/auth/userinfo.email\" rel=\"nofollow noreferrer\">https://www.googleapis.com/auth/userinfo.email</a>\nclient-name: Sign in with Google\ngithub-idp:\nprovider: github\nclient-id: ${GITHUB_CLIENT_ID:github-client-id}\nclient-secret: ${GITHUB_CLIENT_SECRET:github-client-secret}\nscope: user:email, read:user\nclient-name: Sign in with GitHub\nprovider:\ngoogle:\nuser-name-attribute: email\ngithub:\nuser-name-attribute: login</p>\n<p>yml 配置你也要使用官方的demo里面的，原因是因为client配置</p>\n"},{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690471801,"creation_date":1690471801,"answer_id":76781317,"question_id":76628479,"body_markdown":"You have most probably not provided the `spring.security.oauth2.client` properties for the OAuth2 login: when this properties are missing, Spring Boot does not auto-configured a repository for OAuth2 client authorizations.\r\n\r\nMany complete OAuth2 security configurations in [my tutorials][1] \r\n\r\n\r\n  [1]: https://github.com/ch4mpy/spring-addons/tree/6.2.0/samples/tutorials#1-oauth2-essentials","title":"Parameter 0 of method setFilterChains error","body":"<p>You have most probably not provided the <code>spring.security.oauth2.client</code> properties for the OAuth2 login: when this properties are missing, Spring Boot does not auto-configured a repository for OAuth2 client authorizations.</p>\n<p>Many complete OAuth2 security configurations in <a href=\"https://github.com/ch4mpy/spring-addons/tree/6.2.0/samples/tutorials#1-oauth2-essentials\" rel=\"nofollow noreferrer\">my tutorials</a></p>\n"}],"owner":{"account_id":20351337,"reputation":1,"user_id":14927960,"display_name":"vagabond"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":185,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1690471801,"creation_date":1688643798,"question_id":76628479,"body_markdown":"```\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfig {\r\n\t@Autowired\r\n\tGoogleOAuth2SuccessHandler googleOAuth2SuccessHandler;\r\n\t@Autowired\r\n\tCustomUserDetailsService customUserDetailsService;\r\n\t@Bean\r\n\tprotected SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n\t\t\r\n\t\thttp\r\n\t\t\t.authorizeHttpRequests()\r\n\t\t\t\t.requestMatchers(&quot;/&quot;).permitAll()\r\n\t\t\t\t.requestMatchers(&quot;/shop/**&quot;).permitAll()\r\n\t\t\t\t.requestMatchers(&quot;/register&quot;).permitAll()\r\n\t\t\t\t.requestMatchers(&quot;/h2-console/**&quot;).permitAll()\r\n\t\t\t\t.requestMatchers(&quot;/admin/**&quot;).hasRole(&quot;ADMIN&quot;)\r\n\t\t\t\t.anyRequest()\r\n\t\t\t\t.authenticated()\r\n\t\t\t\t.and()\r\n\t\t\t\t.formLogin()\r\n\t\t\t\t.loginPage(&quot;/login&quot;)\r\n\t\t\t\t.permitAll()\r\n\t\t\t\t.failureUrl(&quot;/login?error=true&quot;)\r\n\t\t\t\t.defaultSuccessUrl(&quot;/&quot;)\r\n\t\t\t\t.usernameParameter(&quot;email&quot;)\r\n\t\t\t\t.passwordParameter(&quot;password&quot;)\r\n\t\t\t\t.and()\r\n\t\t\t\t.oauth2Login()\r\n\t\t\t\t.loginPage(&quot;/login&quot;)\r\n\t\t\t\t.successHandler(googleOAuth2SuccessHandler)\r\n\t\t\t\t.and()\r\n\t\t\t\t.logout()\r\n\t\t\t\t.logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;))\r\n\t\t\t\t.logoutSuccessUrl(&quot;/login&quot;)\r\n\t\t\t\t.invalidateHttpSession(true)\r\n\t\t\t\t.deleteCookies(&quot;JSESSIONID&quot;)\r\n\t\t\t\t.and()\r\n\t\t\t\t.exceptionHandling()\r\n\t\t\t\t.and()\r\n\t\t\t\t.csrf()\r\n\t\t\t\t.disable();\r\n\t\thttp.headers().frameOptions().disable();\r\n\t\treturn http.build();\r\n\t\t\r\n\t}\r\n\t\r\n\t@Bean\r\n\tpublic BCryptPasswordEncoder passwordEncoder()\r\n\t{\r\n\t\treturn new BCryptPasswordEncoder();\r\n\t}\r\n}\r\n```\r\n\r\nThis is my SecurityConfig class which is used to handle authorisation. There is a class called GoogleOAuth2SuccessHandler for handling OAuth login which is pretty irrelevant in this context.\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nThese are the 3 dependencies which I&#39;m using in pom.xml. These are all from 2023 itself.\r\n\r\n```\r\nDescription:\r\n\r\nParameter 0 of method setFilterChains in org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration required a bean of type &#39;org.springframework.security.oauth2.client.registration.ClientRegistrationRepository&#39; that could not be found.\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;org.springframework.security.oauth2.client.registration.ClientRegistrationRepository&#39; in your configuration.\r\n```\r\n\r\nThis is what I&#39;m facing when I run the app. I&#39;m not sure what the use of this repository is in my app. I&#39;ve checked similar posts over here but they seem to be different kinds of errors than this one.","title":"Parameter 0 of method setFilterChains error","body":"<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfig {\n    @Autowired\n    GoogleOAuth2SuccessHandler googleOAuth2SuccessHandler;\n    @Autowired\n    CustomUserDetailsService customUserDetailsService;\n    @Bean\n    protected SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        \n        http\n            .authorizeHttpRequests()\n                .requestMatchers(&quot;/&quot;).permitAll()\n                .requestMatchers(&quot;/shop/**&quot;).permitAll()\n                .requestMatchers(&quot;/register&quot;).permitAll()\n                .requestMatchers(&quot;/h2-console/**&quot;).permitAll()\n                .requestMatchers(&quot;/admin/**&quot;).hasRole(&quot;ADMIN&quot;)\n                .anyRequest()\n                .authenticated()\n                .and()\n                .formLogin()\n                .loginPage(&quot;/login&quot;)\n                .permitAll()\n                .failureUrl(&quot;/login?error=true&quot;)\n                .defaultSuccessUrl(&quot;/&quot;)\n                .usernameParameter(&quot;email&quot;)\n                .passwordParameter(&quot;password&quot;)\n                .and()\n                .oauth2Login()\n                .loginPage(&quot;/login&quot;)\n                .successHandler(googleOAuth2SuccessHandler)\n                .and()\n                .logout()\n                .logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;))\n                .logoutSuccessUrl(&quot;/login&quot;)\n                .invalidateHttpSession(true)\n                .deleteCookies(&quot;JSESSIONID&quot;)\n                .and()\n                .exceptionHandling()\n                .and()\n                .csrf()\n                .disable();\n        http.headers().frameOptions().disable();\n        return http.build();\n        \n    }\n    \n    @Bean\n    public BCryptPasswordEncoder passwordEncoder()\n    {\n        return new BCryptPasswordEncoder();\n    }\n}\n</code></pre>\n<p>This is my SecurityConfig class which is used to handle authorisation. There is a class called GoogleOAuth2SuccessHandler for handling OAuth login which is pretty irrelevant in this context.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>These are the 3 dependencies which I'm using in pom.xml. These are all from 2023 itself.</p>\n<pre><code>Description:\n\nParameter 0 of method setFilterChains in org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration required a bean of type 'org.springframework.security.oauth2.client.registration.ClientRegistrationRepository' that could not be found.\n\n\nAction:\n\nConsider defining a bean of type 'org.springframework.security.oauth2.client.registration.ClientRegistrationRepository' in your configuration.\n</code></pre>\n<p>This is what I'm facing when I run the app. I'm not sure what the use of this repository is in my app. I've checked similar posts over here but they seem to be different kinds of errors than this one.</p>\n"},{"tags":["java","spring-boot","logging","log4j","slf4j"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1690464918,"post_id":76780292,"comment_id":135360012,"body_markdown":"There is no guarantee this will actually group your messages. Instead, use a context (MDC) parameter, or possibly the thread name.","body":"There is no guarantee this will actually group your messages. Instead, use a context (MDC) parameter, or possibly the thread name."},{"owner":{"account_id":3146957,"reputation":462,"user_id":2661251,"accept_rate":25,"display_name":"gcpdev-guy"},"score":0,"creation_date":1690466882,"post_id":76780292,"comment_id":135360485,"body_markdown":"Please refer to this thread that might answer your question. Would recommend to use logback,\nhttps://stackoverflow.com/questions/36875541/process-id-in-logback-logging-pattern?rq=3","body":"Please refer to this thread that might answer your question. Would recommend to use logback, <a href=\"https://stackoverflow.com/questions/36875541/process-id-in-logback-logging-pattern?rq=3\" title=\"process id in logback logging pattern\">stackoverflow.com/questions/36875541/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":3449131,"reputation":12148,"user_id":2889165,"accept_rate":73,"display_name":"Andreas Lundgren"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690471280,"creation_date":1690471280,"answer_id":76781252,"question_id":76780292,"body_markdown":"A log framework normally sends logs to a log server, something running in a separate thread or even process. This enables the log server to run on a lower priority, and to flush all logs even in an application is OOM or forced killed. Building your own log queue may cause you problem when your application malfunctions, and that may be when you need the loggs the most! This implementation will also remove a lot of useful things in the logger, like parameterised logging using varargs, attaching stack traces etc. \r\n\r\nI would recommend that you try to markup each log message with some group ID, **and then use that group ID to group the messages at read-time rather than at insert time**.\r\n\r\nIf the grouping is per thread or other context dependent value, use [MDC][1] to attach the value to each log message. If the grouping is per class or method, use java class methods.\r\n\r\nDepending on what tool you use to visualise the logs, most tools today supports JSON structured logging. To use that, you add a log appender in spring to have each log message as a JSON object. Then you put your Group ID in its separate JSON property, that will make your group filtering more robust compared to free text filtering. \r\n\r\n(To write a log appender is not hard, but maybe a bit out of context for this answer. For logback, you can search for open source code containing &quot;extends EncoderBase&lt;ILoggingEvent&gt;&quot; to find several examples. Then add it to `logback.xml` under `configuration/appender/encoder`\r\n\r\n  [1]: https://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/MDC.html\r\n","title":"How to group logs in spring java","body":"<p>A log framework normally sends logs to a log server, something running in a separate thread or even process. This enables the log server to run on a lower priority, and to flush all logs even in an application is OOM or forced killed. Building your own log queue may cause you problem when your application malfunctions, and that may be when you need the loggs the most! This implementation will also remove a lot of useful things in the logger, like parameterised logging using varargs, attaching stack traces etc.</p>\n<p>I would recommend that you try to markup each log message with some group ID, <strong>and then use that group ID to group the messages at read-time rather than at insert time</strong>.</p>\n<p>If the grouping is per thread or other context dependent value, use <a href=\"https://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/MDC.html\" rel=\"nofollow noreferrer\">MDC</a> to attach the value to each log message. If the grouping is per class or method, use java class methods.</p>\n<p>Depending on what tool you use to visualise the logs, most tools today supports JSON structured logging. To use that, you add a log appender in spring to have each log message as a JSON object. Then you put your Group ID in its separate JSON property, that will make your group filtering more robust compared to free text filtering.</p>\n<p>(To write a log appender is not hard, but maybe a bit out of context for this answer. For logback, you can search for open source code containing &quot;extends EncoderBase&quot; to find several examples. Then add it to <code>logback.xml</code> under <code>configuration/appender/encoder</code></p>\n"}],"owner":{"account_id":1693221,"reputation":2947,"user_id":1555190,"accept_rate":72,"display_name":"user1555190"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690471280,"creation_date":1690464762,"question_id":76780292,"body_markdown":"Is it possible to group logs in Spring java, currently we have a lot of errors, and want to group logs on a key. This is in a multithreaded environment\r\n\r\nI can do the following:\r\n\r\n    public class LogGroup {\r\n        private static final Logger logger = LoggerFactory.getLogger(LogGroup.class);\r\n        private List&lt;String&gt; logMessages = new ArrayList&lt;&gt;();\r\n    \r\n        public void addLogMessage(String message) {\r\n            logMessages.add(message);\r\n        }\r\n    \r\n        public void printGroupedLogs() {\r\n            StringBuilder sb = new StringBuilder();\r\n            for (String message : logMessages) {\r\n                sb.append(message).append(System.lineSeparator());\r\n            }\r\n            logger.info(sb.toString());\r\n    \r\n            // Clear log messages after printing\r\n            logMessages.clear();\r\n        }\r\n    }\r\n\r\nAnd use that to add to a list and print and clear at the end.","title":"How to group logs in spring java","body":"<p>Is it possible to group logs in Spring java, currently we have a lot of errors, and want to group logs on a key. This is in a multithreaded environment</p>\n<p>I can do the following:</p>\n<pre><code>public class LogGroup {\n    private static final Logger logger = LoggerFactory.getLogger(LogGroup.class);\n    private List&lt;String&gt; logMessages = new ArrayList&lt;&gt;();\n\n    public void addLogMessage(String message) {\n        logMessages.add(message);\n    }\n\n    public void printGroupedLogs() {\n        StringBuilder sb = new StringBuilder();\n        for (String message : logMessages) {\n            sb.append(message).append(System.lineSeparator());\n        }\n        logger.info(sb.toString());\n\n        // Clear log messages after printing\n        logMessages.clear();\n    }\n}\n</code></pre>\n<p>And use that to add to a list and print and clear at the end.</p>\n"},{"tags":["java","maven","httpclient","apache-axis"],"comments":[{"owner":{"account_id":2449170,"reputation":1315,"user_id":2135838,"display_name":"Sascha"},"score":0,"creation_date":1690797819,"post_id":76781249,"comment_id":135398116,"body_markdown":"It depends what you need from the axis2 lib. If the parts you use needs the old lib you won&#39;t be able to remove it without breaking your code.","body":"It depends what you need from the axis2 lib. If the parts you use needs the old lib you won&#39;t be able to remove it without breaking your code."}],"owner":{"account_id":27891295,"reputation":25,"user_id":21297617,"display_name":"ketan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690471267,"creation_date":1690471267,"question_id":76781249,"body_markdown":"we are upgrading from httpclient4 to httpclient5 in our application but we also use axis2 (1.8.2) dependecy in our application, which internally uses httpclient4. as there is no package conflict in httpclient4 and 5 we have included both of them and it works for us. But is there any way we can remove httpclient4 dependency from our project","title":"How to use axis2 (1.8.2) dependency with httpclient5","body":"<p>we are upgrading from httpclient4 to httpclient5 in our application but we also use axis2 (1.8.2) dependecy in our application, which internally uses httpclient4. as there is no package conflict in httpclient4 and 5 we have included both of them and it works for us. But is there any way we can remove httpclient4 dependency from our project</p>\n"},{"tags":["java","android","adb"],"comments":[{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1690449651,"post_id":76778202,"comment_id":135356496,"body_markdown":"Are the devices running 7.1.2 the same devices that you test later releases on? I know anecdotally that at least some older Android phones literally needed cell reception to set their real time clock each boot, because they had no battery-powered one.","body":"Are the devices running 7.1.2 the same devices that you test later releases on? I know anecdotally that at least some older Android phones literally needed cell reception to set their real time clock each boot, because they had no battery-powered one."},{"owner":{"account_id":22052128,"reputation":329,"user_id":16316260,"display_name":"Oriol Roma"},"score":0,"creation_date":1690450160,"post_id":76778202,"comment_id":135356611,"body_markdown":"I tried with 4 different devices. 2 with Android 7.1.2, one with Android 8.1 and one with Android 9. All the devices have no battery and are powered with cable, because are devices fixed to a wall","body":"I tried with 4 different devices. 2 with Android 7.1.2, one with Android 8.1 and one with Android 9. All the devices have no battery and are powered with cable, because are devices fixed to a wall"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1690463797,"post_id":76778202,"comment_id":135359701,"body_markdown":"Usually systems without real-time clock work his way that they periodically save the current time to disk so that after next reboot they can pic-up at that point. May be Android 7 doesn&#39;t immediately save the newly changed time to disk and by directly rebooting the change is lost? How long do you wait after changing time?","body":"Usually systems without real-time clock work his way that they periodically save the current time to disk so that after next reboot they can pic-up at that point. May be Android 7 doesn&#39;t immediately save the newly changed time to disk and by directly rebooting the change is lost? How long do you wait after changing time?"},{"owner":{"account_id":22052128,"reputation":329,"user_id":16316260,"display_name":"Oriol Roma"},"score":0,"creation_date":1690465440,"post_id":76778202,"comment_id":135360132,"body_markdown":"I tried waiting 5 minutes and 2 hours, but the problem was the same","body":"I tried waiting 5 minutes and 2 hours, but the problem was the same"}],"answers":[{"tags":[],"owner":{"account_id":22052128,"reputation":329,"user_id":16316260,"display_name":"Oriol Roma"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690470709,"creation_date":1690466048,"answer_id":76780461,"question_id":76778202,"body_markdown":"I have found the solution. I will explain here if it could help somebody in the future.\r\n\r\nI have tested these commands on Android 7.1.2 and work well, but on Android 8.1 does not work (but `toybox date` work well as I said).\r\n\r\nThere are system time and hardware time, and `toybox date` only changes the system time on Android 7.1.2. It is necessary to run these commands after the `toybox date` command to save the time to the hardware time too.\r\nRun on ADB shell:\r\n1) `hwclock -uw`\r\n2) `sync`\r\n\r\nAnd after rebooting the time persists.","title":"Android set system time not persistent after rebooting","body":"<p>I have found the solution. I will explain here if it could help somebody in the future.</p>\n<p>I have tested these commands on Android 7.1.2 and work well, but on Android 8.1 does not work (but <code>toybox date</code> work well as I said).</p>\n<p>There are system time and hardware time, and <code>toybox date</code> only changes the system time on Android 7.1.2. It is necessary to run these commands after the <code>toybox date</code> command to save the time to the hardware time too.\nRun on ADB shell:</p>\n<ol>\n<li><code>hwclock -uw</code></li>\n<li><code>sync</code></li>\n</ol>\n<p>And after rebooting the time persists.</p>\n"}],"owner":{"account_id":22052128,"reputation":329,"user_id":16316260,"display_name":"Oriol Roma"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76780461,"answer_count":1,"score":0,"last_activity_date":1690470709,"creation_date":1690449117,"question_id":76778202,"body_markdown":"I have a problem setting the system time with an adb command. I have realized that the following function (that executes a &quot;toybox date&quot; command) works well in Android 8.1 and 9, but on Android 7.1.2 after rebooting the device, the device shows the time before the execution of the command (the previous time).\r\n\r\nSo, summarizing, the steps to reproduce the problem are:\r\n1. Execute the following snippet (the time passed as parameter must be different to current system time)\r\n2. Reboot the device\r\n3. Check the device time. The device shows the time before changing the system time\r\n\r\n\r\nAndroid OS:\r\n\r\n - With Android 7.1.2: the system time set not persists after reboot (I have tested with 2 different devices)\r\n - With Android 8.1 and 9: the system time set persists after reboot\r\n\r\n\r\n\r\nThe function to change system time:\r\n\r\n\r\n```\r\npublic static void changeSystemTime(String year, String month, String day, String hour, String minute, String second) {\r\n    Process process = null;\r\n    try {\r\n        String command = &quot;su 0 toybox date &quot; + month + day + hour + minute + year + &#39;.&#39; + second + &#39;\\n&#39;;\r\n        process = Runtime.getRuntime().exec(command);\r\n        process.waitFor();\r\n    } catch (Exception e) {\r\n        MyLogger.add(Level.SEVERE, &quot;UsefulTools, changeSystemTime: &quot; + MyLogger.generateLogMessage(e));\r\n    } finally {\r\n        if (process != null)\r\n            process.destroy();\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nOn my AndroidManifest.xml I have the permissions to set the system time:\r\n\r\n\r\n```\r\n&lt;uses-permission android:name=&quot;android.permission.SET_TIME&quot;\r\n    android:protectionLevel=&quot;signature|system&quot;\r\n    tools:ignore=&quot;ProtectedPermissions&quot; /&gt;\r\n&lt;uses-permission android:name=&quot;android.permission.SET_TIME_ZONE&quot;\r\n    android:protectionLevel=&quot;signature|system&quot;\r\n    tools:ignore=&quot;ProtectedPermissions&quot; /&gt;\r\n```\r\n\r\n\r\n\r\nI have tried to change the system time with the `date` command instead but happens the same.\r\nWhy this is happening? Any ideas to make the system set persistent?","title":"Android set system time not persistent after rebooting","body":"<p>I have a problem setting the system time with an adb command. I have realized that the following function (that executes a &quot;toybox date&quot; command) works well in Android 8.1 and 9, but on Android 7.1.2 after rebooting the device, the device shows the time before the execution of the command (the previous time).</p>\n<p>So, summarizing, the steps to reproduce the problem are:</p>\n<ol>\n<li>Execute the following snippet (the time passed as parameter must be different to current system time)</li>\n<li>Reboot the device</li>\n<li>Check the device time. The device shows the time before changing the system time</li>\n</ol>\n<p>Android OS:</p>\n<ul>\n<li>With Android 7.1.2: the system time set not persists after reboot (I have tested with 2 different devices)</li>\n<li>With Android 8.1 and 9: the system time set persists after reboot</li>\n</ul>\n<p>The function to change system time:</p>\n<pre><code>public static void changeSystemTime(String year, String month, String day, String hour, String minute, String second) {\n    Process process = null;\n    try {\n        String command = &quot;su 0 toybox date &quot; + month + day + hour + minute + year + '.' + second + '\\n';\n        process = Runtime.getRuntime().exec(command);\n        process.waitFor();\n    } catch (Exception e) {\n        MyLogger.add(Level.SEVERE, &quot;UsefulTools, changeSystemTime: &quot; + MyLogger.generateLogMessage(e));\n    } finally {\n        if (process != null)\n            process.destroy();\n    }\n}\n</code></pre>\n<p>On my AndroidManifest.xml I have the permissions to set the system time:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.SET_TIME&quot;\n    android:protectionLevel=&quot;signature|system&quot;\n    tools:ignore=&quot;ProtectedPermissions&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.SET_TIME_ZONE&quot;\n    android:protectionLevel=&quot;signature|system&quot;\n    tools:ignore=&quot;ProtectedPermissions&quot; /&gt;\n</code></pre>\n<p>I have tried to change the system time with the <code>date</code> command instead but happens the same.\nWhy this is happening? Any ideas to make the system set persistent?</p>\n"},{"tags":["java","apache-kafka","kafka-consumer-api"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1690477371,"post_id":76781063,"comment_id":135362817,"body_markdown":"&quot;Immediate compaction&quot; is not a proper use case for Kafka. Use a KTable to build latest key-value state, not depend on the brokers to do that for you. Then you can iterate the table statestore to count records, if you need it","body":"&quot;Immediate compaction&quot; is not a proper use case for Kafka. Use a KTable to build latest key-value state, not depend on the brokers to do that for you. Then you can iterate the table statestore to count records, if you need it"},{"owner":{"account_id":16796337,"reputation":71,"user_id":12142726,"display_name":"ovod"},"score":0,"creation_date":1690479509,"post_id":76781063,"comment_id":135363252,"body_markdown":"@OneCricketeer thanks. &quot;Immediate compaction&quot; - I mean count after compaction. I have a job, which will run once per month and I need to count messages in topic for next processing. If KTable is good approach for that I&#39;ll try","body":"@OneCricketeer thanks. &quot;Immediate compaction&quot; - I mean count after compaction. I have a job, which will run once per month and I need to count messages in topic for next processing. If KTable is good approach for that I&#39;ll try"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1690489927,"post_id":76781063,"comment_id":135365117,"body_markdown":"In general, Kafka doesn&#39;t really have a way to do this without a consumer. And even if you run the consumer, a compaction could currently be running, and would cause inconsistent counts if you ran the job back to back, for example. Regarding your other question, `endOffsets` is just that. You need to subtract off the beginning offsets, and that would tell you that that many records had been produced, but lets say that returns 1000, but if all have the same key, then there should only be that one record after compaction, so the difference isnt really useful","body":"In general, Kafka doesn&#39;t really have a way to do this without a consumer. And even if you run the consumer, a compaction could currently be running, and would cause inconsistent counts if you ran the job back to back, for example. Regarding your other question, <code>endOffsets</code> is just that. You need to subtract off the beginning offsets, and that would tell you that that many records had been produced, but lets say that returns 1000, but if all have the same key, then there should only be that one record after compaction, so the difference isnt really useful"}],"owner":{"account_id":16796337,"reputation":71,"user_id":12142726,"display_name":"ovod"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1690470183,"creation_date":1690470183,"question_id":76781063,"body_markdown":"I&#39;m trying to count messages in kafka topic in case when compaction is on. topic is created via cli, properties segment.bytes=1024 and cleanup.policy=compact are added. tried to set cleaner.max.compaction.lag.ms=10 via cli but get an error java.nio.file.NoSuchFileException: cleaner.max.compaction.lag.ms=10.\r\nSo my questions are:\r\n1. how to apply compaction immediately, which configs I should add?\r\n2. Do I understand correctly if I use KafkaProducer and KafkaConsumer from kafka client(java), producer send some messages and when consumer will get them compaction will applied(if its configured correctly), so for counting actual messages I need consume them again like ?\r\n\r\n    ```ConsumerRecords&lt;String, String&gt; records = consumer.poll(Duration.ofMillis(100));```\r\n\r\n3. Can **endOffsets** method find the latest offset for compacted messages which will show count of messages?\r\n\r\n    ```Map&lt;TopicPartition, Long&gt; endPartitions = consumer.endOffsets(partitions);```\r\n\r\nthanks in advance\r\n","title":"How to count messages in Kafka topic if compaction is on?","body":"<p>I'm trying to count messages in kafka topic in case when compaction is on. topic is created via cli, properties segment.bytes=1024 and cleanup.policy=compact are added. tried to set cleaner.max.compaction.lag.ms=10 via cli but get an error java.nio.file.NoSuchFileException: cleaner.max.compaction.lag.ms=10.\nSo my questions are:</p>\n<ol>\n<li><p>how to apply compaction immediately, which configs I should add?</p>\n</li>\n<li><p>Do I understand correctly if I use KafkaProducer and KafkaConsumer from kafka client(java), producer send some messages and when consumer will get them compaction will applied(if its configured correctly), so for counting actual messages I need consume them again like ?</p>\n<p><code>ConsumerRecords&lt;String, String&gt; records = consumer.poll(Duration.ofMillis(100));</code></p>\n</li>\n<li><p>Can <strong>endOffsets</strong> method find the latest offset for compacted messages which will show count of messages?</p>\n<p><code>Map&lt;TopicPartition, Long&gt; endPartitions = consumer.endOffsets(partitions);</code></p>\n</li>\n</ol>\n<p>thanks in advance</p>\n"},{"tags":["java","spring-integration","spring-integration-dsl"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690470059,"creation_date":1690470059,"answer_id":76781051,"question_id":76776969,"body_markdown":"First of all an `async(true)` doesn&#39;t help if service activator does not return `CompletableFuture` or Reactive Streams `Publisher`.\r\n\r\nThen you have this problem: `correlationStrategy(m -&gt; m != null)`, which always returns `true` for all the messages you send to this aggregator. The further logic of the `AggregatingMessageHandler` does this:\r\n\r\n\t\tUUID groupIdUuid = UUIDConverter.getUUID(correlationKey);\r\n\t\tLock lock = this.lockRegistry.obtain(groupIdUuid.toString());\r\n\r\n\r\nAnd that is locked until we done with the current message. Therefore even if you produce to this aggregator from different threads, you still do aggregation sequential and blocked way. Just because you use the same `Lock` instance for all the messages according to your correlation strategy.\r\n\r\nAnd one more problem: doesn&#39;t looks like you call an HTTP service in parallel. You need to think about adding an `ExecutorChannel` in between `aggregate()` and `handle()`. This way the result of an aggregator (two messages) would be produced to another thread and the current one will be freed to deal with the next message for aggregation.\r\n\r\nWe don&#39;t have an out-of-the-box component to just emit a number of messages in order they arrive: we have only logic based on a correlation key: `AggregatingMessageHandler`, `ResequencingMessageHandler`, `CorrelatingMessageBarrier` and `FluxAggregatorMessageHandler`.\r\n\r\nI think you still may rely on a sequential releasing in the aggregator with that your generic correlation key, but you don&#39;t need a `taskExecutor` on the poller since it does not have any effects, but rather use a `channel(c -&gt; c.executor())` after an aggregator. This way you&#39;ll see parallel calls to your HTTP service with 2 messages each.","title":"Spring Integration DSL: Apply aggregator only based on message count and send to Http end point in parellel","body":"<p>First of all an <code>async(true)</code> doesn't help if service activator does not return <code>CompletableFuture</code> or Reactive Streams <code>Publisher</code>.</p>\n<p>Then you have this problem: <code>correlationStrategy(m -&gt; m != null)</code>, which always returns <code>true</code> for all the messages you send to this aggregator. The further logic of the <code>AggregatingMessageHandler</code> does this:</p>\n<pre><code>    UUID groupIdUuid = UUIDConverter.getUUID(correlationKey);\n    Lock lock = this.lockRegistry.obtain(groupIdUuid.toString());\n</code></pre>\n<p>And that is locked until we done with the current message. Therefore even if you produce to this aggregator from different threads, you still do aggregation sequential and blocked way. Just because you use the same <code>Lock</code> instance for all the messages according to your correlation strategy.</p>\n<p>And one more problem: doesn't looks like you call an HTTP service in parallel. You need to think about adding an <code>ExecutorChannel</code> in between <code>aggregate()</code> and <code>handle()</code>. This way the result of an aggregator (two messages) would be produced to another thread and the current one will be freed to deal with the next message for aggregation.</p>\n<p>We don't have an out-of-the-box component to just emit a number of messages in order they arrive: we have only logic based on a correlation key: <code>AggregatingMessageHandler</code>, <code>ResequencingMessageHandler</code>, <code>CorrelatingMessageBarrier</code> and <code>FluxAggregatorMessageHandler</code>.</p>\n<p>I think you still may rely on a sequential releasing in the aggregator with that your generic correlation key, but you don't need a <code>taskExecutor</code> on the poller since it does not have any effects, but rather use a <code>channel(c -&gt; c.executor())</code> after an aggregator. This way you'll see parallel calls to your HTTP service with 2 messages each.</p>\n"}],"owner":{"account_id":29100551,"reputation":15,"user_id":22292455,"display_name":"Raghavendra Prasad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76781051,"answer_count":1,"score":1,"last_activity_date":1690470059,"creation_date":1690438718,"question_id":76776969,"body_markdown":"I am totally new to Spring Injection. I am looking for the below logic:\r\n1. Messages are posted to a Queue Channel(This can be changed). I just want to do throttling\r\n2. Using the Spring Injection aggregate 2 messages(no Correlation is required) from the queue and send it to the Http Endpoint as a single message. The http endpoint can be slow sometimes. Hence I want 10 parellel threads to be processing the messages in parellel. Each thread, pick 2 messages from queue and send to Http endpoint.\r\n```\r\n\r\n@Bean\r\npublic IntegrationFlow myFlow() {\r\n       return IntegrationFlow.from(Constants.INBOUND_CHANNEL)\r\n        .bridge(e -&gt;         e.poller(Pollers.fixedRate(1000).maxMessagesPerPoll(5).taskExecutor(taskExecutor1())))\r\n        .log()\r\n        .aggregate(a -&gt; a.correlationStrategy(m -&gt; m != null).releaseStrategy(g -&gt; g.size() == 2)\r\n                .expireGroupsUponCompletion(true).expireGroupsUponTimeout(true).async(true))\r\n        .log().handle(a -&gt; {\r\n            //Add code here to send the data to Http end point which takes around 5 secs.\r\n            System.out.println(&quot;Thread Sleeping on ThreadId : &quot; + Thread.currentThread().getId());\r\n            try {\r\n                Thread.sleep(5000);\r\n            } catch (InterruptedException e1) {\r\n                e1.printStackTrace();\r\n            }\r\n        }, e -&gt; e.async(true)).get();\r\n}\r\n\r\n    @Bean\r\n    TaskExecutor taskExecutor1() {\r\n        ThreadPoolTaskExecutor taskExecutor = new ThreadPoolTaskExecutor();\r\n        taskExecutor.setCorePoolSize(2);\r\n        return taskExecutor;\r\n    }\r\n\r\n  @Bean(name = Constants.INBOUND_CHANNEL)\r\n  public QueueChannel inboundFilePollingChannel() {\r\n      return new QueueChannel(100);\r\n  }\r\n\r\n\r\n```\r\n\r\nThe above code is running fine. But the aggregate logic looks to be happening in sequence. Until the aggregated group is released, the other threads of task executors are not picking the messages for processing and not sending the messages to Http Endpoint.\r\n\r\nAny hints on whats the approach ?","title":"Spring Integration DSL: Apply aggregator only based on message count and send to Http end point in parellel","body":"<p>I am totally new to Spring Injection. I am looking for the below logic:</p>\n<ol>\n<li>Messages are posted to a Queue Channel(This can be changed). I just want to do throttling</li>\n<li>Using the Spring Injection aggregate 2 messages(no Correlation is required) from the queue and send it to the Http Endpoint as a single message. The http endpoint can be slow sometimes. Hence I want 10 parellel threads to be processing the messages in parellel. Each thread, pick 2 messages from queue and send to Http endpoint.</li>\n</ol>\n<pre><code>\n@Bean\npublic IntegrationFlow myFlow() {\n       return IntegrationFlow.from(Constants.INBOUND_CHANNEL)\n        .bridge(e -&gt;         e.poller(Pollers.fixedRate(1000).maxMessagesPerPoll(5).taskExecutor(taskExecutor1())))\n        .log()\n        .aggregate(a -&gt; a.correlationStrategy(m -&gt; m != null).releaseStrategy(g -&gt; g.size() == 2)\n                .expireGroupsUponCompletion(true).expireGroupsUponTimeout(true).async(true))\n        .log().handle(a -&gt; {\n            //Add code here to send the data to Http end point which takes around 5 secs.\n            System.out.println(&quot;Thread Sleeping on ThreadId : &quot; + Thread.currentThread().getId());\n            try {\n                Thread.sleep(5000);\n            } catch (InterruptedException e1) {\n                e1.printStackTrace();\n            }\n        }, e -&gt; e.async(true)).get();\n}\n\n    @Bean\n    TaskExecutor taskExecutor1() {\n        ThreadPoolTaskExecutor taskExecutor = new ThreadPoolTaskExecutor();\n        taskExecutor.setCorePoolSize(2);\n        return taskExecutor;\n    }\n\n  @Bean(name = Constants.INBOUND_CHANNEL)\n  public QueueChannel inboundFilePollingChannel() {\n      return new QueueChannel(100);\n  }\n\n\n</code></pre>\n<p>The above code is running fine. But the aggregate logic looks to be happening in sequence. Until the aggregated group is released, the other threads of task executors are not picking the messages for processing and not sending the messages to Http Endpoint.</p>\n<p>Any hints on whats the approach ?</p>\n"},{"tags":["java","netbeans","liferay","portlet","netbeans-8"],"answers":[{"tags":[],"owner":{"account_id":2346737,"reputation":56,"user_id":2056787,"display_name":"Andrius Ju"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1412255076,"creation_date":1412255076,"answer_id":26161498,"question_id":25815014,"body_markdown":"I&#39;m getting the same error, but found workaround.\r\nTo generate Liferay project (e.g. portlet) on Netbeans 8 go &quot;File --&gt; New Project&quot; choose Maven category, &quot;Project from Archetype&quot; project. Push Next. In Search input write &quot;liferay portlet&quot;. Here you can choose archetype.","title":"How to Install liferay sdk on netbean8?","body":"<p>I'm getting the same error, but found workaround.\nTo generate Liferay project (e.g. portlet) on Netbeans 8 go \"File --> New Project\" choose Maven category, \"Project from Archetype\" project. Push Next. In Search input write \"liferay portlet\". Here you can choose archetype.</p>\n"}],"owner":{"account_id":2665868,"reputation":984,"user_id":2304330,"accept_rate":80,"display_name":"Ebrahim Amini Sharifi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2200,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":26161498,"answer_count":1,"score":2,"last_activity_date":1690469679,"creation_date":1410548302,"question_id":25815014,"body_markdown":"I try install liferay sdk on netbeans IDE.\r\n\r\nI have downloed portalpack v 3.0.5 pack from [this Link][1]\r\nand imported it in netbeans through netbeans&gt;Tools&gt;Plugins all of them have installed except &quot;org-netbeans-modules-portalpack-portlets-spring.nbm&quot; and show below Warning and after that doesn&#39;t change anything in netbeans new projet and I can&#39;t see &quot;new portlet&quot; or &quot;liferay project&quot; inside netbeans new project.\r\n\r\n\r\n\r\n\r\n ![enter image description here][2]\r\n\r\n\r\n\r\nHow can fix it?\r\n\r\nJdk version = 8\r\n\r\nOS = windows 8\r\n\r\nNetbeans IDE Version = 8\r\n\r\nLiferay version=6.2 Ga\r\n\r\n  [1]: https://contrib.netbeans.org/portalpack/\r\n  [2]: http://i.stack.imgur.com/hIdXU.png","title":"How to Install liferay sdk on netbean8?","body":"<p>I try install liferay sdk on netbeans IDE.</p>\n\n<p>I have downloed portalpack v 3.0.5 pack from <a href=\"https://contrib.netbeans.org/portalpack/\" rel=\"nofollow noreferrer\">this Link</a>\nand imported it in netbeans through netbeans>Tools>Plugins all of them have installed except \"org-netbeans-modules-portalpack-portlets-spring.nbm\" and show below Warning and after that doesn't change anything in netbeans new projet and I can't see \"new portlet\" or \"liferay project\" inside netbeans new project.</p>\n\n<p><img src=\"https://i.stack.imgur.com/hIdXU.png\" alt=\"enter image description here\"></p>\n\n<p>How can fix it?</p>\n\n<p>Jdk version = 8</p>\n\n<p>OS = windows 8</p>\n\n<p>Netbeans IDE Version = 8</p>\n\n<p>Liferay version=6.2 Ga</p>\n"},{"tags":["java","spring","cryptography","bouncycastle","java-11"],"answers":[{"comments":[{"owner":{"account_id":78239,"reputation":3012,"user_id":1904217,"accept_rate":95,"display_name":"Mostafa"},"score":0,"creation_date":1658144255,"post_id":73013571,"comment_id":128969950,"body_markdown":"I appreciate your answer here. I couldn&#39;t ask more.","body":"I appreciate your answer here. I couldn&#39;t ask more."},{"owner":{"account_id":14459286,"reputation":157,"user_id":10444488,"display_name":"John Doe"},"score":0,"creation_date":1666049989,"post_id":73013571,"comment_id":130839027,"body_markdown":"@Maarten Is it fair to say - if run in non-approved mode `bc-fips` covers everything that `bcprov` offers?","body":"@Maarten Is it fair to say - if run in non-approved mode <code>bc-fips</code> covers everything that <code>bcprov</code> offers?"},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1666145743,"post_id":73013571,"comment_id":130864303,"body_markdown":"Not all, no - at least not in the provider it seems. There is a section in their user manual that lists the ciphers / hashes supported.","body":"Not all, no - at least not in the provider it seems. There is a section in their user manual that lists the ciphers / hashes supported."}],"tags":[],"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"comment_count":3,"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1690469641,"creation_date":1658075779,"answer_id":73013571,"question_id":73010512,"body_markdown":"First of all, `bcprov` contains the Java security provider as well as the &quot;lightweight API&quot;. Quite often this library is simply referred to as &quot;Bouncy Castle&quot;, shortened to the acronym &quot;BC&quot; as provider name in Java.\r\n\r\nThe Bouncy Castle library has it&#39;s own specific architecture and API. It is this public API is generally revered to as the &quot;lightweight API&quot;. The Bouncy Castle library provides most of this functionality as services that are registered using the Bouncy Castle provider implementation. That way the supplied algorithms can be used from generic classes such as `Cipher`. \r\n\r\nThe library also contains a lot of utility classes, some of which are simply required to implement the provider. All the implementation classes are available to the user, which means that the lightweight API is a bit of a maze. It also means that there is a chance that updates break software that make use of the lightweight API. For instance, there have been a few updates of the ASN.1 encoder / decoder that weren&#39;t backwards compatible.\r\n\r\nThe main reason to use the Bouncy Castle library is the extended functionality that is provided. For instance, the Bouncy Castle provider provides a lot of ciphers that are not present in the standard Java runtime. However, you should keep in mind that the algorithms that *are* provided by the Java runtime can be optimized to use CPU speedups and may receive better testing. So before choosing it you should definitely check if the algorithms are not present in the Java provided algorithms.\r\n\r\n---\r\n\r\n`bcfips` is the certified FIPS provider. FIPS uses a specific set of algorithms defined by NIST and `bcfips` therefore contains a subset of the functionality provided by `bcprov`. FIPS also has strict rules when it comes to e.g. destruction of key material. FIPS certification is rather expensive *and* time consuming and BC would want you to get a support contract when using their FIPS provider.\r\n\r\nYou may need this library if your software is required to use FIPS certified algorithm implementations. Note that they will still be implemented in software and will therefore e.g. not use AES acceleration. \r\n\r\n---\r\n\r\nNow `bcpkix`is a different beast altogether. It provides support for &quot;PKIX/CMS/EAC/PKCS/OCSP/TSP/OPENSSL&quot; protocols and container formats.\r\n\r\nThe following modules are present:\r\n\r\n - PKIX (in the `cert` package) means &quot;X.509 based Public Key Infrastructure and contains support for certificates, certificate requests, CRL&#39;s etc.; the same type of certificates that are used for TLS that is used for HTTPS, i.e. the secure connections that your browser uses. There are some separate related packages inside the main package:\r\n     - `cmc`: Certificate Management over CMS\r\n     - `dvcs`: Data Validation and Certification Server Protocols\r\n     - `est`: Enrollment over Secure Transport\r\n - CMS means Cryptographic Message Syntax, a format to envelope (i.e. encrypt) and sign messages in a structural way. CMS is also known as PKSC#7 (`.p7` file extension) which is the standard in which it is defined. CMS is a flexible, descriptive format, i.e. it indicates which algorithms are used and helps with key management. It uses X.509 certificates and is based on the same technology.\r\n    - MIME: related to CMS, SMIME is the use of CMS within the email protocols.\r\n - EAC is a technology used for European ePassports. It stands for Extended Access Control, which can be used to gain access to e.g. the fingerprint or - in the case of the German passport - additional personal information, assuming you&#39;ve got the right set of certificates and keys of course.\r\n - PKCS stands for Public Key Cryptographic Standards, historically created by &quot;RSA Laboratories&quot;, however the classes mainly seem to support PKCS#8 (private key storage), PKSC#10 (certification requests) and PKCS#12 (key / trust stores). This adds support to create and parse files with `.p8`, `.p10` / `.csr` and `.12` / `.pfx` file extensions. \r\n - OCSP is the Online Certificate Status Protocol, used to check the status of X.509 certificates, e.g. when using TLS.\r\n - TSP means Time Stamping Protocol, a method of signing messages together with a date / time from a trusted source (it can also mean Trusted Service Provider, but here it doesn&#39;t).\r\n - OpenSSL is of course a library and application. It has some specific / proprietary methods concerning key derivation from passwords and the application of these to encrypt / decrypt PKCS#8 private keys.\r\n\r\nThe `operator` in the PKIX library seems to be a way to operate directly on the &quot;lightweight API&quot; or on the JCA provided API using a generalized interface (basically a way of performing dependency injection).\r\n\r\nYou&#39;d use this library if you need to implement any of the higher level protocols / container formats. Many of these formats are relatively old, so you might be looking for e.g. NaCL instead of CMS. That said, CMS certainly *can* be secured and having these protocols implemented is great for (backwards) compatibility with existing systems.\r\n\r\n----\r\n\r\nIf I&#39;m not mistaken the PKIX library can be used without installing the Bouncy Castle (`&quot;BC&quot;`) provider, except when you&#39;re using specific algorithms not provided by the existing providers in your Java runtime. \r\n\r\nUnfortunately the documentation of Bouncy Castle is very sparse, most packages do not even explain what they are for or how they can be used. There isn&#39;t a huge amount of JUnit tests or demo applications either.\r\n","title":"What&#39;s differences between bouncycastle bcprov, bcpkix and bcfips?","body":"<p>First of all, <code>bcprov</code> contains the Java security provider as well as the &quot;lightweight API&quot;. Quite often this library is simply referred to as &quot;Bouncy Castle&quot;, shortened to the acronym &quot;BC&quot; as provider name in Java.</p>\n<p>The Bouncy Castle library has it's own specific architecture and API. It is this public API is generally revered to as the &quot;lightweight API&quot;. The Bouncy Castle library provides most of this functionality as services that are registered using the Bouncy Castle provider implementation. That way the supplied algorithms can be used from generic classes such as <code>Cipher</code>.</p>\n<p>The library also contains a lot of utility classes, some of which are simply required to implement the provider. All the implementation classes are available to the user, which means that the lightweight API is a bit of a maze. It also means that there is a chance that updates break software that make use of the lightweight API. For instance, there have been a few updates of the ASN.1 encoder / decoder that weren't backwards compatible.</p>\n<p>The main reason to use the Bouncy Castle library is the extended functionality that is provided. For instance, the Bouncy Castle provider provides a lot of ciphers that are not present in the standard Java runtime. However, you should keep in mind that the algorithms that <em>are</em> provided by the Java runtime can be optimized to use CPU speedups and may receive better testing. So before choosing it you should definitely check if the algorithms are not present in the Java provided algorithms.</p>\n<hr />\n<p><code>bcfips</code> is the certified FIPS provider. FIPS uses a specific set of algorithms defined by NIST and <code>bcfips</code> therefore contains a subset of the functionality provided by <code>bcprov</code>. FIPS also has strict rules when it comes to e.g. destruction of key material. FIPS certification is rather expensive <em>and</em> time consuming and BC would want you to get a support contract when using their FIPS provider.</p>\n<p>You may need this library if your software is required to use FIPS certified algorithm implementations. Note that they will still be implemented in software and will therefore e.g. not use AES acceleration.</p>\n<hr />\n<p>Now <code>bcpkix</code>is a different beast altogether. It provides support for &quot;PKIX/CMS/EAC/PKCS/OCSP/TSP/OPENSSL&quot; protocols and container formats.</p>\n<p>The following modules are present:</p>\n<ul>\n<li>PKIX (in the <code>cert</code> package) means &quot;X.509 based Public Key Infrastructure and contains support for certificates, certificate requests, CRL's etc.; the same type of certificates that are used for TLS that is used for HTTPS, i.e. the secure connections that your browser uses. There are some separate related packages inside the main package:\n<ul>\n<li><code>cmc</code>: Certificate Management over CMS</li>\n<li><code>dvcs</code>: Data Validation and Certification Server Protocols</li>\n<li><code>est</code>: Enrollment over Secure Transport</li>\n</ul>\n</li>\n<li>CMS means Cryptographic Message Syntax, a format to envelope (i.e. encrypt) and sign messages in a structural way. CMS is also known as PKSC#7 (<code>.p7</code> file extension) which is the standard in which it is defined. CMS is a flexible, descriptive format, i.e. it indicates which algorithms are used and helps with key management. It uses X.509 certificates and is based on the same technology.\n<ul>\n<li>MIME: related to CMS, SMIME is the use of CMS within the email protocols.</li>\n</ul>\n</li>\n<li>EAC is a technology used for European ePassports. It stands for Extended Access Control, which can be used to gain access to e.g. the fingerprint or - in the case of the German passport - additional personal information, assuming you've got the right set of certificates and keys of course.</li>\n<li>PKCS stands for Public Key Cryptographic Standards, historically created by &quot;RSA Laboratories&quot;, however the classes mainly seem to support PKCS#8 (private key storage), PKSC#10 (certification requests) and PKCS#12 (key / trust stores). This adds support to create and parse files with <code>.p8</code>, <code>.p10</code> / <code>.csr</code> and <code>.12</code> / <code>.pfx</code> file extensions.</li>\n<li>OCSP is the Online Certificate Status Protocol, used to check the status of X.509 certificates, e.g. when using TLS.</li>\n<li>TSP means Time Stamping Protocol, a method of signing messages together with a date / time from a trusted source (it can also mean Trusted Service Provider, but here it doesn't).</li>\n<li>OpenSSL is of course a library and application. It has some specific / proprietary methods concerning key derivation from passwords and the application of these to encrypt / decrypt PKCS#8 private keys.</li>\n</ul>\n<p>The <code>operator</code> in the PKIX library seems to be a way to operate directly on the &quot;lightweight API&quot; or on the JCA provided API using a generalized interface (basically a way of performing dependency injection).</p>\n<p>You'd use this library if you need to implement any of the higher level protocols / container formats. Many of these formats are relatively old, so you might be looking for e.g. NaCL instead of CMS. That said, CMS certainly <em>can</em> be secured and having these protocols implemented is great for (backwards) compatibility with existing systems.</p>\n<hr />\n<p>If I'm not mistaken the PKIX library can be used without installing the Bouncy Castle (<code>&quot;BC&quot;</code>) provider, except when you're using specific algorithms not provided by the existing providers in your Java runtime.</p>\n<p>Unfortunately the documentation of Bouncy Castle is very sparse, most packages do not even explain what they are for or how they can be used. There isn't a huge amount of JUnit tests or demo applications either.</p>\n"}],"owner":{"account_id":78239,"reputation":3012,"user_id":1904217,"accept_rate":95,"display_name":"Mostafa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4452,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":73013571,"answer_count":1,"score":7,"last_activity_date":1690469641,"creation_date":1658048747,"question_id":73010512,"body_markdown":"I&#39;m familiar with basic cryptography in java But have zero experience in bouncycastle, Recently I came across a requirement that needs to read an encrypted and signed file from FTP.\r\n\r\nThe sender has directed me to use [bcfips][1] ebook for reading those encrypted and signed files.\r\nI went through the download page of the [bouncy castle website][2], But I&#39;m confused by a lot of jargon that I can&#39;t understand and I don&#39;t know which jar file should I use.\r\n\r\nI&#39;m wondering what&#39;s the difference between `bcprov` and `bcpkix` and `bcfips`?\r\n\r\nI appreciate it if someone points me on the correct path.\r\n\r\n\r\n  [1]: https://www.bouncycastle.org/fips-java/BCFipsIn100.pdf\r\n  [2]: https://www.bouncycastle.org/latest_releases.html\r\n  [3]: https://www.baeldung.com/java-bouncy-castle","title":"What&#39;s differences between bouncycastle bcprov, bcpkix and bcfips?","body":"<p>I'm familiar with basic cryptography in java But have zero experience in bouncycastle, Recently I came across a requirement that needs to read an encrypted and signed file from FTP.</p>\n<p>The sender has directed me to use <a href=\"https://www.bouncycastle.org/fips-java/BCFipsIn100.pdf\" rel=\"noreferrer\">bcfips</a> ebook for reading those encrypted and signed files.\nI went through the download page of the <a href=\"https://www.bouncycastle.org/latest_releases.html\" rel=\"noreferrer\">bouncy castle website</a>, But I'm confused by a lot of jargon that I can't understand and I don't know which jar file should I use.</p>\n<p>I'm wondering what's the difference between <code>bcprov</code> and <code>bcpkix</code> and <code>bcfips</code>?</p>\n<p>I appreciate it if someone points me on the correct path.</p>\n"},{"tags":["java","android","permissions","android-permissions"],"answers":[{"comments":[{"owner":{"account_id":1673285,"reputation":5129,"user_id":1539304,"accept_rate":55,"display_name":"Ayohaych"},"score":0,"creation_date":1442921542,"post_id":32715419,"comment_id":53273700,"body_markdown":"Thanks for the help. I did notice that there is a requestPermissions method if its in a fragment. I am in a fragment and I tried calling just requestPermissions, unfortunately it didn&#39;t work. I also tried what you mentioned and it also didn&#39;t work.","body":"Thanks for the help. I did notice that there is a requestPermissions method if its in a fragment. I am in a fragment and I tried calling just requestPermissions, unfortunately it didn&#39;t work. I also tried what you mentioned and it also didn&#39;t work."},{"owner":{"account_id":2562555,"reputation":2598,"user_id":2223393,"display_name":"Bala Vishnu"},"score":0,"creation_date":1445066754,"post_id":32715419,"comment_id":54174381,"body_markdown":"This worked for me in Android M. But just wondering if it would cause any issues in Pre-M devices?","body":"This worked for me in Android M. But just wondering if it would cause any issues in Pre-M devices?"},{"owner":{"account_id":1007440,"reputation":599,"user_id":1020809,"accept_rate":32,"display_name":"Timmy Simons"},"score":4,"creation_date":1470148755,"post_id":32715419,"comment_id":64823005,"body_markdown":"@goodgamerguy make sure you dont use the request code in onRequestPermissionsResult of activity. if your activity also uses onRequestPermissionsResult callback you should provide default:\n                super.onRequestPermissionsResult(requestCode, permissions, grantResults);","body":"@goodgamerguy make sure you dont use the request code in onRequestPermissionsResult of activity. if your activity also uses onRequestPermissionsResult callback you should provide default:                 super.onRequestPermissionsResult(requestCode, permissions, grantResults);"}],"tags":[],"owner":{"account_id":4633251,"reputation":1360,"user_id":3755131,"display_name":"Tieru"},"comment_count":3,"down_vote_count":0,"up_vote_count":106,"is_accepted":false,"score":106,"last_activity_date":1470740011,"creation_date":1442920465,"answer_id":32715419,"question_id":32714787,"body_markdown":"You can try this: \r\n\r\n    requestPermissions(permissions, PERMISSIONS_CODE);\r\n\r\nIf you are calling this code from a fragment it has it&#39;s own requestPermissions method. I believe the problem is that you are calling static method.\r\n\r\nPro Tip if you want the `onRequestPermissionsResult()` in a fragment:\r\n`FragmentCompat.requestPermissions(Fragment fragment, String[] permissions, int requestCode)`","title":"Android M Permissions: onRequestPermissionsResult() not being called","body":"<p>You can try this: </p>\n\n<pre><code>requestPermissions(permissions, PERMISSIONS_CODE);\n</code></pre>\n\n<p>If you are calling this code from a fragment it has it's own requestPermissions method. I believe the problem is that you are calling static method.</p>\n\n<p>Pro Tip if you want the <code>onRequestPermissionsResult()</code> in a fragment:\n<code>FragmentCompat.requestPermissions(Fragment fragment, String[] permissions, int requestCode)</code></p>\n"},{"comments":[{"owner":{"account_id":1327829,"reputation":4471,"user_id":1272303,"accept_rate":25,"display_name":"Rez"},"score":2,"creation_date":1446279044,"post_id":32865306,"comment_id":54686222,"body_markdown":"This is only working if the permission is asked inside android.app.fragment, and you have to import support-v13 library!","body":"This is only working if the permission is asked inside android.app.fragment, and you have to import support-v13 library!"},{"owner":{"account_id":218101,"reputation":848,"user_id":474254,"accept_rate":54,"display_name":"Jutikorn"},"score":4,"creation_date":1453554114,"post_id":32865306,"comment_id":57658071,"body_markdown":"FragmentCompat.requestPermissions() doesn&#39;t work with android.support.v4.app.Fragment. Anyone know how to handle this.","body":"FragmentCompat.requestPermissions() doesn&#39;t work with android.support.v4.app.Fragment. Anyone know how to handle this."}],"tags":[],"owner":{"account_id":393409,"reputation":1944,"user_id":755240,"accept_rate":67,"display_name":"Marta Rodriguez"},"comment_count":2,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1443613705,"creation_date":1443613705,"answer_id":32865306,"question_id":32714787,"body_markdown":"You have the *checkPermissions* function for pre Marshmallow devices in *FragmentCompat*.\r\nI use like this:\r\n\r\n    FragmentCompat.requestPermissions(this, new String[]{Manifest.permission.ACCESS_FINE_LOCATION},\r\n                        MY_PERMISSIONS_REQUEST_ACCESS_FINE_LOCATION);","title":"Android M Permissions: onRequestPermissionsResult() not being called","body":"<p>You have the <em>checkPermissions</em> function for pre Marshmallow devices in <em>FragmentCompat</em>.\nI use like this:</p>\n\n<pre><code>FragmentCompat.requestPermissions(this, new String[]{Manifest.permission.ACCESS_FINE_LOCATION},\n                    MY_PERMISSIONS_REQUEST_ACCESS_FINE_LOCATION);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":923650,"reputation":2798,"user_id":954853,"accept_rate":90,"display_name":"Anthony Bobenrieth"},"score":15,"creation_date":1444920917,"post_id":33080682,"comment_id":54113077,"body_markdown":"It also occurs with noHistory activities:\nhttps://code.google.com/p/android-developer-preview/issues/detail?id=2915","body":"It also occurs with noHistory activities: <a href=\"https://code.google.com/p/android-developer-preview/issues/detail?id=2915\" rel=\"nofollow noreferrer\">code.google.com/p/android-developer-preview/issues/&hellip;</a>"},{"owner":{"account_id":4236755,"reputation":1088,"user_id":3467701,"display_name":"Tigran Sarkisian"},"score":11,"creation_date":1446476141,"post_id":33080682,"comment_id":54745575,"body_markdown":"&quot;When in android.support.v4.app.Fragment, you should use simply requestPermissions &quot; - thank you!","body":"&quot;When in android.support.v4.app.Fragment, you should use simply requestPermissions &quot; - thank you!"},{"owner":{"account_id":208286,"reputation":12128,"user_id":458668,"accept_rate":70,"display_name":"WindRider"},"score":0,"creation_date":1447085810,"post_id":33080682,"comment_id":55001102,"body_markdown":"What if I have a support fragment in AppCompatActivity?","body":"What if I have a support fragment in AppCompatActivity?"},{"owner":{"account_id":1044630,"reputation":5926,"user_id":1049903,"accept_rate":47,"display_name":"Dean Wild"},"score":5,"creation_date":1454341842,"post_id":33080682,"comment_id":57989219,"body_markdown":"@AnthonyBobenrieth so what is the solution here for noHistory activites? We simply can&#39;t request permissions from them?","body":"@AnthonyBobenrieth so what is the solution here for noHistory activites? We simply can&#39;t request permissions from them?"},{"owner":{"account_id":1152285,"reputation":3479,"user_id":1133730,"accept_rate":90,"display_name":"fersarr"},"score":2,"creation_date":1458950563,"post_id":33080682,"comment_id":60091119,"body_markdown":"The link is broken @AnthonyBobenrieth. Is there any solution for no history?","body":"The link is broken @AnthonyBobenrieth. Is there any solution for no history?"},{"owner":{"account_id":264294,"reputation":23543,"user_id":550471,"accept_rate":84,"display_name":"Someone Somewhere"},"score":3,"creation_date":1470738465,"post_id":33080682,"comment_id":65060888,"body_markdown":"When using `Fragment.requestPermissions()`, the parent Activity is actually receiving the `onRequestPermissionsResult()`. (This is with support library 23.3.0)","body":"When using <code>Fragment.requestPermissions()</code>, the parent Activity is actually receiving the <code>onRequestPermissionsResult()</code>. (This is with support library 23.3.0)"},{"owner":{"account_id":264294,"reputation":23543,"user_id":550471,"accept_rate":84,"display_name":"Someone Somewhere"},"score":1,"creation_date":1470739883,"post_id":33080682,"comment_id":65061799,"body_markdown":"Actually this is the answer... `FragmentCompat.requestPermissions(Fragment fragment, String[] permissions, int requestCode)`","body":"Actually this is the answer... <code>FragmentCompat.requestPermissions(Fragment fragment, String[] permissions, int requestCode)</code>"},{"owner":{"account_id":65834,"reputation":9352,"user_id":193467,"accept_rate":83,"display_name":"angryITguy"},"score":1,"creation_date":1480655479,"post_id":33080682,"comment_id":69061796,"body_markdown":"plus one: for mentioning &quot;callback is on the activity, not the fragment&quot;","body":"plus one: for mentioning &quot;callback is on the activity, not the fragment&quot;"},{"owner":{"account_id":3355555,"reputation":2794,"user_id":2818583,"display_name":"AnV"},"score":0,"creation_date":1480675860,"post_id":33080682,"comment_id":69071664,"body_markdown":"@yavor87 What if I want to request permission inside a `Service` ?","body":"@yavor87 What if I want to request permission inside a <code>Service</code> ?"},{"owner":{"account_id":3674924,"reputation":493,"user_id":3061221,"display_name":"Mohammad Yahia"},"score":0,"creation_date":1502035521,"post_id":33080682,"comment_id":78027838,"body_markdown":"just stressing on the importance of calling super implementation from activity as here https://stackoverflow.com/a/35245235/3061221","body":"just stressing on the importance of calling super implementation from activity as here <a href=\"https://stackoverflow.com/a/35245235/3061221\">stackoverflow.com/a/35245235/3061221</a>"},{"owner":{"account_id":4151770,"reputation":340,"user_id":3404007,"display_name":"Afshin"},"score":1,"creation_date":1502736264,"post_id":33080682,"comment_id":78319693,"body_markdown":"Don&#39;t forget to add this to your activity:\nhttps://stackoverflow.com/a/33995827/3404007","body":"Don&#39;t forget to add this to your activity: <a href=\"https://stackoverflow.com/a/33995827/3404007\">stackoverflow.com/a/33995827/3404007</a>"},{"owner":{"account_id":1622277,"reputation":6199,"user_id":1498586,"accept_rate":66,"display_name":"Mahdi"},"score":0,"creation_date":1551176586,"post_id":33080682,"comment_id":96535601,"body_markdown":"I have android.support.v4.app.Fragment and used requestPermission() but result just caame in Activity.","body":"I have android.support.v4.app.Fragment and used requestPermission() but result just caame in Activity."},{"owner":{"account_id":1000676,"reputation":15221,"user_id":1015595,"accept_rate":84,"display_name":"Big McLargeHuge"},"score":0,"creation_date":1573074667,"post_id":33080682,"comment_id":103767056,"body_markdown":"Wow, Android documentation mentions nothing about this: https://developer.android.com/training/permissions/requesting.html","body":"Wow, Android documentation mentions nothing about this: <a href=\"https://developer.android.com/training/permissions/requesting.html\" rel=\"nofollow noreferrer\">developer.android.com/training/permissions/requesting.html</a>"}],"tags":[],"owner":{"account_id":1212363,"reputation":5899,"user_id":1180668,"display_name":"yavor87"},"comment_count":13,"down_vote_count":1,"up_vote_count":590,"is_accepted":false,"score":589,"last_activity_date":1633797702,"creation_date":1444651482,"answer_id":33080682,"question_id":32714787,"body_markdown":"I ran into the same issue and I just found the solution. When using the Support library, you have to use the correct method calls. For example:\r\n\r\n- When in **AppCompatActivity**, you should use **ActivityCompat.requestPermissions**;\r\n- When in **android.support.v4.app.Fragment**, you should use simply **requestPermissions** (this is an instance method of android.support.v4.app.Fragment)\r\n\r\nIf you call ActivityCompat.requestPermissions in a fragment, the **onRequestPermissionsResult** callback is called on the activity and not the fragment.\r\n","title":"Android M Permissions: onRequestPermissionsResult() not being called","body":"<p>I ran into the same issue and I just found the solution. When using the Support library, you have to use the correct method calls. For example:</p>\n<ul>\n<li>When in <strong>AppCompatActivity</strong>, you should use <strong>ActivityCompat.requestPermissions</strong>;</li>\n<li>When in <strong>android.support.v4.app.Fragment</strong>, you should use simply <strong>requestPermissions</strong> (this is an instance method of android.support.v4.app.Fragment)</li>\n</ul>\n<p>If you call ActivityCompat.requestPermissions in a fragment, the <strong>onRequestPermissionsResult</strong> callback is called on the activity and not the fragment.</p>\n"},{"comments":[{"owner":{"account_id":258674,"reputation":4868,"user_id":540990,"display_name":"Murphy"},"score":0,"creation_date":1455748162,"post_id":33081173,"comment_id":58633686,"body_markdown":"This helped me solve my issue: I had to redirect the onRequestPermissionsResult from the parent fragment to the child (nested) fragment. Thanks for the tip!","body":"This helped me solve my issue: I had to redirect the onRequestPermissionsResult from the parent fragment to the child (nested) fragment. Thanks for the tip!"}],"tags":[],"owner":{"account_id":1673285,"reputation":5129,"user_id":1539304,"accept_rate":55,"display_name":"Ayohaych"},"comment_count":1,"down_vote_count":1,"up_vote_count":11,"is_accepted":true,"score":10,"last_activity_date":1444652931,"creation_date":1444652931,"answer_id":33081173,"question_id":32714787,"body_markdown":"This issue was actually being caused by NestedFragments.\r\nBasically most fragments we have extend a HostedFragment which in turn extends a CompatFragment. Having these nested fragments caused issues which eventually were solved by another developer on the project.\r\n\r\nHe was doing some low level stuff like bit switching to get this working so I&#39;m not too sure of the actual final solution","title":"Android M Permissions: onRequestPermissionsResult() not being called","body":"<p>This issue was actually being caused by NestedFragments.\nBasically most fragments we have extend a HostedFragment which in turn extends a CompatFragment. Having these nested fragments caused issues which eventually were solved by another developer on the project.</p>\n\n<p>He was doing some low level stuff like bit switching to get this working so I'm not too sure of the actual final solution</p>\n"},{"comments":[{"owner":{"account_id":6312955,"reputation":2777,"user_id":4903925,"accept_rate":71,"display_name":"Bonatti"},"score":0,"creation_date":1448879057,"post_id":33995827,"comment_id":55748225,"body_markdown":"Also, note that if you target an API (such as 19 for example), you will still be under the old permission model system, and thus, do not receive the request permission related function calls","body":"Also, note that if you target an API (such as 19 for example), you will still be under the old permission model system, and thus, do not receive the request permission related function calls"},{"owner":{"account_id":261696,"reputation":6432,"user_id":546054,"display_name":"TouchBoarder"},"score":0,"creation_date":1453460967,"post_id":33995827,"comment_id":57621894,"body_markdown":"see my answer if you have extended another activity that does not call super","body":"see my answer if you have extended another activity that does not call super"},{"owner":{"account_id":3360934,"reputation":794,"user_id":2822745,"display_name":"JanPl"},"score":3,"creation_date":1453563842,"post_id":33995827,"comment_id":57661187,"body_markdown":"Stumbled upon this one. `FragmentActivity.onRequestPermissionsResult(..)` is where the call to fragment&#39;s `onRequestPermissionsResult(..)` is forwarded to.","body":"Stumbled upon this one. <code>FragmentActivity.onRequestPermissionsResult(..)</code> is where the call to fragment&#39;s <code>onRequestPermissionsResult(..)</code> is forwarded to."},{"owner":{"account_id":959425,"reputation":1258,"user_id":984114,"accept_rate":38,"display_name":"Alex Fragotsis"},"score":0,"creation_date":1459108790,"post_id":33995827,"comment_id":60133582,"body_markdown":"@Bonatti So if i try to request a permission in android 4.4.2 i won&#39;t get a result? Thus I cannot change the permissions , only see them?","body":"@Bonatti So if i try to request a permission in android 4.4.2 i won&#39;t get a result? Thus I cannot change the permissions , only see them?"},{"owner":{"account_id":6875700,"reputation":380,"user_id":5284216,"display_name":"Dusan Zivkovic"},"score":0,"creation_date":1459179518,"post_id":33995827,"comment_id":60158985,"body_markdown":"@AlexanderFragotsis You will get a result. Only difference is you wont be asked to grant permission, instead you will be automatically granted by the system.","body":"@AlexanderFragotsis You will get a result. Only difference is you wont be asked to grant permission, instead you will be automatically granted by the system."},{"owner":{"account_id":1340078,"reputation":6396,"user_id":1281930,"accept_rate":82,"display_name":"guness"},"score":0,"creation_date":1463857899,"post_id":33995827,"comment_id":62246839,"body_markdown":"Wow, there something inconsistent here. I have two apps. One requires that and the other not.","body":"Wow, there something inconsistent here. I have two apps. One requires that and the other not."}],"tags":[],"owner":{"account_id":6875700,"reputation":380,"user_id":5284216,"display_name":"Dusan Zivkovic"},"comment_count":6,"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1448880056,"creation_date":1448877628,"answer_id":33995827,"question_id":32714787,"body_markdown":"If you have `onRequestPermissionsResult` in both activity and fragment, make sure to call `super.onRequestPermissionsResult` in activity. It is not required in fragment, but it is in activity.","title":"Android M Permissions: onRequestPermissionsResult() not being called","body":"<p>If you have <code>onRequestPermissionsResult</code> in both activity and fragment, make sure to call <code>super.onRequestPermissionsResult</code> in activity. It is not required in fragment, but it is in activity.</p>\n"},{"comments":[{"owner":{"account_id":2811636,"reputation":1706,"user_id":2417756,"accept_rate":80,"display_name":"Waclock"},"score":1,"creation_date":1465231820,"post_id":34309921,"comment_id":62804026,"body_markdown":"Actually it does provide an answer to the question. Calling requestPermissions (instance method of fragment) instead of ActivityCompat.requestPermissions, the result method is triggered. Which is the main issue here. Thank you Don","body":"Actually it does provide an answer to the question. Calling requestPermissions (instance method of fragment) instead of ActivityCompat.requestPermissions, the result method is triggered. Which is the main issue here. Thank you Don"}],"tags":[],"owner":{"account_id":7481603,"reputation":212,"user_id":5686191,"display_name":"AkKi"},"comment_count":1,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1450277100,"creation_date":1450262742,"answer_id":34309921,"question_id":32714787,"body_markdown":"If you are using requestPermissions in fragment, it accepts 2 parameters instead of 3.\r\n\r\nYou should use `requestPermissions(permissions, PERMISSIONS_CODE);`\r\n\r\n","title":"Android M Permissions: onRequestPermissionsResult() not being called","body":"<p>If you are using requestPermissions in fragment, it accepts 2 parameters instead of 3.</p>\n\n<p>You should use <code>requestPermissions(permissions, PERMISSIONS_CODE);</code></p>\n"},{"comments":[{"owner":{"account_id":14891443,"reputation":415,"user_id":10752962,"display_name":"Vivek Thummar"},"score":0,"creation_date":1614338313,"post_id":34945511,"comment_id":117361355,"body_markdown":"i have normal activity which extends `AppCompatActivity`,Should I still use `super()`?","body":"i have normal activity which extends <code>AppCompatActivity</code>,Should I still use <code>super()</code>?"}],"tags":[],"owner":{"account_id":261696,"reputation":6432,"user_id":546054,"display_name":"TouchBoarder"},"comment_count":1,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1453461603,"creation_date":1453461603,"answer_id":34945511,"question_id":32714787,"body_markdown":"If for some reason you have extended a custom Activity located in some external library that do not call the super you will need to manually call the Fragment super.onRequestPermissionsResult yourself in your Activity onRequestPermissionsResult.\r\n\r\n    YourActivity extends SomeActivityNotCallingSuperOnRequestPermissionsResult{\r\n    Fragment requestingFragment;//the fragment requesting the permission\r\n    ...\r\n    @Override\r\n        public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n            super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n            if(requestingFragment!=null)\r\n                requestingFragment.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n        }\r\n    ...","title":"Android M Permissions: onRequestPermissionsResult() not being called","body":"<p>If for some reason you have extended a custom Activity located in some external library that do not call the super you will need to manually call the Fragment super.onRequestPermissionsResult yourself in your Activity onRequestPermissionsResult.</p>\n\n<pre><code>YourActivity extends SomeActivityNotCallingSuperOnRequestPermissionsResult{\nFragment requestingFragment;//the fragment requesting the permission\n...\n@Override\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n        if(requestingFragment!=null)\n            requestingFragment.onRequestPermissionsResult(requestCode, permissions, grantResults);\n    }\n...\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3674924,"reputation":493,"user_id":3061221,"display_name":"Mohammad Yahia"},"score":0,"creation_date":1502035368,"post_id":35245235,"comment_id":78027790,"body_markdown":"the super implementation calls the fragments implementation not hte framework","body":"the super implementation calls the fragments implementation not hte framework"}],"tags":[],"owner":{"account_id":1709972,"reputation":179,"user_id":1568232,"display_name":"Sumit khare"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1454803556,"creation_date":1454785738,"answer_id":35245235,"question_id":32714787,"body_markdown":"This will work..\r\n\r\n    @Override\r\n        public void onRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults) {\r\n            super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n        }","title":"Android M Permissions: onRequestPermissionsResult() not being called","body":"<p>This will work..</p>\n\n<pre><code>@Override\n    public void onRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults) {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2640300,"reputation":1317,"user_id":2284107,"accept_rate":60,"display_name":"kAmol"},"score":1,"creation_date":1456220402,"post_id":35421061,"comment_id":58834500,"body_markdown":"I&#39;m facing same problem but I&#39;m not able to get `onActivityCreated()` in my code. SDK 23.","body":"I&#39;m facing same problem but I&#39;m not able to get <code>onActivityCreated()</code> in my code. SDK 23."},{"owner":{"account_id":541012,"reputation":2153,"user_id":909406,"accept_rate":5,"display_name":"almisoft"},"score":0,"creation_date":1456268408,"post_id":35421061,"comment_id":58866189,"body_markdown":"see http://developer.android.com/reference/android/app/Fragment.html#onActivityCreated%28android.os.Bundle%29, or see sample at http://www.mysamplecode.com/2012/08/android-fragment-example.html","body":"see <a href=\"http://developer.android.com/reference/android/app/Fragment.html#onActivityCreated%28android.os.Bundle%29\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/app/&hellip;</a>, or see sample at <a href=\"http://www.mysamplecode.com/2012/08/android-fragment-example.html\" rel=\"nofollow noreferrer\">mysamplecode.com/2012/08/android-fragment-example.html</a>"},{"owner":{"account_id":2640300,"reputation":1317,"user_id":2284107,"accept_rate":60,"display_name":"kAmol"},"score":0,"creation_date":1456374198,"post_id":35421061,"comment_id":58919425,"body_markdown":"I&#39;m not in fragment, I&#39;m trying to do it on onCreate of an activity","body":"I&#39;m not in fragment, I&#39;m trying to do it on onCreate of an activity"},{"owner":{"account_id":541012,"reputation":2153,"user_id":909406,"accept_rate":5,"display_name":"almisoft"},"score":0,"creation_date":1456404594,"post_id":35421061,"comment_id":58937008,"body_markdown":"Hmm, or use `onPause()`?","body":"Hmm, or use <code>onPause()</code>?"}],"tags":[],"owner":{"account_id":541012,"reputation":2153,"user_id":909406,"accept_rate":5,"display_name":"almisoft"},"comment_count":4,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1455579180,"creation_date":1455579180,"answer_id":35421061,"question_id":32714787,"body_markdown":"I have found out that is important where you call `android.support.v4.app.Fragment.requestPermissions`.\r\n\r\nIf you do it in `onCreate()`, `onRequestPermissionsResult()` is never called.\r\n\r\nSolution: Call it in `onActivityCreated()`;\r\n\r\n    @Override\r\n\tpublic void onActivityCreated(Bundle savedInstanceState) {\r\n\t\t\r\n\t\tsuper.onActivityCreated(savedInstanceState);\r\n\t\t\r\n\t\tif (ContextCompat.checkSelfPermission(context, Manifest.permission.READ_CONTACTS) == PackageManager.PERMISSION_DENIED) \r\n\t \t\trequestPermissions(new String[]{Manifest.permission.READ_CONTACTS}, 0);\r\n\t    \r\n\t}","title":"Android M Permissions: onRequestPermissionsResult() not being called","body":"<p>I have found out that is important where you call <code>android.support.v4.app.Fragment.requestPermissions</code>.</p>\n\n<p>If you do it in <code>onCreate()</code>, <code>onRequestPermissionsResult()</code> is never called.</p>\n\n<p>Solution: Call it in <code>onActivityCreated()</code>;</p>\n\n<pre><code>@Override\npublic void onActivityCreated(Bundle savedInstanceState) {\n\n    super.onActivityCreated(savedInstanceState);\n\n    if (ContextCompat.checkSelfPermission(context, Manifest.permission.READ_CONTACTS) == PackageManager.PERMISSION_DENIED) \n        requestPermissions(new String[]{Manifest.permission.READ_CONTACTS}, 0);\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5753363,"reputation":3741,"user_id":4542217,"display_name":"Shahab Rauf"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1457011872,"creation_date":1456754108,"answer_id":35701385,"question_id":32714787,"body_markdown":" \r\n\r\n   \r\n\r\n     /* use the object of your fragment to call the \r\n     * onRequestPermissionsResult in fragment after\r\n     * in activity and use different request Code for \r\n     * both Activity and Fragment */\r\n\r\n       if (isFragment)\r\n        mFragment.requestPermissions(permissions.toArray(new\r\n        String[permissions.size()]),requestPermission);\r\n      \r\n       else\r\n        ActivityCompat.requestPermissions(mActivity,permissions.toArray(new\r\n        String[permissions.size()]),requestPermission);","title":"Android M Permissions: onRequestPermissionsResult() not being called","body":"<pre><code> /* use the object of your fragment to call the \n * onRequestPermissionsResult in fragment after\n * in activity and use different request Code for \n * both Activity and Fragment */\n\n   if (isFragment)\n    mFragment.requestPermissions(permissions.toArray(new\n    String[permissions.size()]),requestPermission);\n\n   else\n    ActivityCompat.requestPermissions(mActivity,permissions.toArray(new\n    String[permissions.size()]),requestPermission);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1006204,"reputation":2561,"user_id":1019922,"display_name":"Eric Schlenz"},"score":0,"creation_date":1461614924,"post_id":35772265,"comment_id":61269166,"body_markdown":"I would have rather not had to remove the noHistory attribute, but this was the solution that worked for me. Thanks!","body":"I would have rather not had to remove the noHistory attribute, but this was the solution that worked for me. Thanks!"},{"owner":{"account_id":8510781,"reputation":1730,"user_id":6380895,"display_name":"Yohan Dahmani"},"score":1,"creation_date":1498049909,"post_id":35772265,"comment_id":76337651,"body_markdown":"I had the issue on Marshmallow but not on Nougat, thank you it worked for me","body":"I had the issue on Marshmallow but not on Nougat, thank you it worked for me"}],"tags":[],"owner":{"account_id":39218,"reputation":1726,"user_id":113012,"accept_rate":100,"display_name":"Simon Featherstone"},"comment_count":2,"down_vote_count":0,"up_vote_count":51,"is_accepted":false,"score":51,"last_activity_date":1457101205,"creation_date":1457008259,"answer_id":35772265,"question_id":32714787,"body_markdown":"I encountered this problem too. If you want the activity that handles permissions not in the history/recents, then you will be tempted to change your `AndroidManifest.xml` entry.\r\n\r\nIf you set the activity that you call `requestPermissions` or `AppCompatActivity.requestPermissions` with  \r\n\r\n    android:noHistory=&quot;true&quot;\r\n    android:excludeFromRecents=&quot;true&quot;\r\n\r\nin your `AndroidManifest.xml` then `onRequestPermissionsResult()` will not be called. This is true if your Activity is derived from `Activity` or `AppCompatActivity`. \r\n\r\nThis can be fixed by removing both flags from &#39;AndroidManifest.xml&#39; and finishing your activity with `finishAndRemoveTask()` instead. ","title":"Android M Permissions: onRequestPermissionsResult() not being called","body":"<p>I encountered this problem too. If you want the activity that handles permissions not in the history/recents, then you will be tempted to change your <code>AndroidManifest.xml</code> entry.</p>\n\n<p>If you set the activity that you call <code>requestPermissions</code> or <code>AppCompatActivity.requestPermissions</code> with  </p>\n\n<pre><code>android:noHistory=\"true\"\nandroid:excludeFromRecents=\"true\"\n</code></pre>\n\n<p>in your <code>AndroidManifest.xml</code> then <code>onRequestPermissionsResult()</code> will not be called. This is true if your Activity is derived from <code>Activity</code> or <code>AppCompatActivity</code>. </p>\n\n<p>This can be fixed by removing both flags from 'AndroidManifest.xml' and finishing your activity with <code>finishAndRemoveTask()</code> instead. </p>\n"},{"comments":[{"owner":{"account_id":1031526,"reputation":6837,"user_id":1039761,"accept_rate":91,"display_name":"Udi Oshi"},"score":2,"creation_date":1473777034,"post_id":37854430,"comment_id":66264453,"body_markdown":"Relates to android.support.v13.app.FragmentCompat","body":"Relates to android.support.v13.app.FragmentCompat"},{"owner":{"account_id":1000676,"reputation":15221,"user_id":1015595,"accept_rate":84,"display_name":"Big McLargeHuge"},"score":1,"creation_date":1573074765,"post_id":37854430,"comment_id":103767097,"body_markdown":"FragmentCompat is deprecated as of API 27.1.0.","body":"FragmentCompat is deprecated as of API 27.1.0."},{"owner":{"account_id":4598365,"reputation":534,"user_id":3729805,"display_name":"Ben.Slama.Jihed"},"score":0,"creation_date":1574196661,"post_id":37854430,"comment_id":104143596,"body_markdown":"my answer is deprecated please refer to : https://developer.android.com/training/permissions/requesting","body":"my answer is deprecated please refer to : <a href=\"https://developer.android.com/training/permissions/requesting\" rel=\"nofollow noreferrer\">developer.android.com/training/permissions/requesting</a>"}],"tags":[],"owner":{"account_id":4598365,"reputation":534,"user_id":3729805,"display_name":"Ben.Slama.Jihed"},"comment_count":3,"down_vote_count":1,"up_vote_count":33,"is_accepted":false,"score":32,"last_activity_date":1574196642,"creation_date":1466067437,"answer_id":37854430,"question_id":32714787,"body_markdown":"Answer deprecated please refer to : \r\nhttps://developer.android.com/training/permissions/requesting\r\n\r\nInside fragment, you need to call:\r\n\r\n    FragmentCompat.requestPermissions(permissionsList, RequestCode)\r\n\r\nNot:\r\n\r\n    ActivityCompat.requestPermissions(Activity, permissionsList, RequestCode);","title":"Android M Permissions: onRequestPermissionsResult() not being called","body":"<p>Answer deprecated please refer to : \n<a href=\"https://developer.android.com/training/permissions/requesting\" rel=\"nofollow noreferrer\">https://developer.android.com/training/permissions/requesting</a></p>\n\n<p>Inside fragment, you need to call:</p>\n\n<pre><code>FragmentCompat.requestPermissions(permissionsList, RequestCode)\n</code></pre>\n\n<p>Not:</p>\n\n<pre><code>ActivityCompat.requestPermissions(Activity, permissionsList, RequestCode);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6210742,"reputation":3114,"user_id":4837103,"display_name":"Chandler"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1467856213,"creation_date":1467856213,"answer_id":38236485,"question_id":32714787,"body_markdown":"Before you check everything according to above answers, make sure your request code is not 0!!!\r\n\r\ncheck the code of onRequestPermissionsResult() in FragmentActivity.java:\r\n\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions,\r\n            @NonNull int[] grantResults) {\r\n        int index = (requestCode&gt;&gt;16)&amp;0xffff;\r\n        if (index != 0) {\r\n            index--;\r\n\r\n            String who = mPendingFragmentActivityResults.get(index);\r\n            mPendingFragmentActivityResults.remove(index);\r\n            if (who == null) {\r\n                Log.w(TAG, &quot;Activity result delivered for unknown Fragment.&quot;);\r\n                return;\r\n            }\r\n            Fragment frag = mFragments.findFragmentByWho(who);\r\n            if (frag == null) {\r\n                Log.w(TAG, &quot;Activity result no fragment exists for who: &quot; + who);\r\n            } else {\r\n                frag.onRequestPermissionsResult(requestCode&amp;0xffff, permissions, grantResults);\r\n            }\r\n        }\r\n    }","title":"Android M Permissions: onRequestPermissionsResult() not being called","body":"<p>Before you check everything according to above answers, make sure your request code is not 0!!!</p>\n\n<p>check the code of onRequestPermissionsResult() in FragmentActivity.java:</p>\n\n<pre><code>public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions,\n        @NonNull int[] grantResults) {\n    int index = (requestCode&gt;&gt;16)&amp;0xffff;\n    if (index != 0) {\n        index--;\n\n        String who = mPendingFragmentActivityResults.get(index);\n        mPendingFragmentActivityResults.remove(index);\n        if (who == null) {\n            Log.w(TAG, \"Activity result delivered for unknown Fragment.\");\n            return;\n        }\n        Fragment frag = mFragments.findFragmentByWho(who);\n        if (frag == null) {\n            Log.w(TAG, \"Activity result no fragment exists for who: \" + who);\n        } else {\n            frag.onRequestPermissionsResult(requestCode&amp;0xffff, permissions, grantResults);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2276640,"reputation":159,"user_id":2002721,"accept_rate":0,"display_name":"user2002721"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1483488640,"creation_date":1480948304,"answer_id":40976631,"question_id":32714787,"body_markdown":"    private void showContacts() {\r\n    \tif (getActivity().checkSelfPermission(Manifest.permission.READ_CONTACTS)\r\n    \t \t!= PackageManager.PERMISSION_GRANTED) {\r\n    \t\trequestPermissions(new String[]{Manifest.permission.READ_CONTACTS}, PERMISSIONS_REQUEST_READ_CONTACTS);\r\n    \t} else {\r\n    \t\tdoShowContacts();\r\n    \t}\r\n    }\r\n    \r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults) {\r\n    \tif (requestCode == PERMISSIONS_REQUEST_READ_CONTACTS &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n    \t\tdoShowContacts();\r\n    \t}\r\n    }","title":"Android M Permissions: onRequestPermissionsResult() not being called","body":"<pre><code>private void showContacts() {\n    if (getActivity().checkSelfPermission(Manifest.permission.READ_CONTACTS)\n        != PackageManager.PERMISSION_GRANTED) {\n        requestPermissions(new String[]{Manifest.permission.READ_CONTACTS}, PERMISSIONS_REQUEST_READ_CONTACTS);\n    } else {\n        doShowContacts();\n    }\n}\n\n@Override\npublic void onRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults) {\n    if (requestCode == PERMISSIONS_REQUEST_READ_CONTACTS &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n        doShowContacts();\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4806580,"reputation":1001,"user_id":3881432,"accept_rate":33,"display_name":"zulkarnain shah"},"score":0,"creation_date":1498411101,"post_id":41301898,"comment_id":76478405,"body_markdown":"What about SDK 15 and lower ?","body":"What about SDK 15 and lower ?"},{"owner":{"account_id":3108675,"reputation":4286,"user_id":2630955,"accept_rate":0,"display_name":"Sanjay Mangaroliya"},"score":4,"creation_date":1498542221,"post_id":41301898,"comment_id":76526292,"body_markdown":"You don&#39;t need permission about SDK 15, only Marshmallow and above version need..","body":"You don&#39;t need permission about SDK 15, only Marshmallow and above version need.."}],"tags":[],"owner":{"account_id":3108675,"reputation":4286,"user_id":2630955,"accept_rate":0,"display_name":"Sanjay Mangaroliya"},"comment_count":2,"down_vote_count":1,"up_vote_count":70,"is_accepted":false,"score":69,"last_activity_date":1500833235,"creation_date":1482497609,"answer_id":41301898,"question_id":32714787,"body_markdown":"   I hope it works fine\r\n     \r\nFor Activity :\r\n    \r\n     ActivityCompat.requestPermissions(this,permissionsList,REQUEST_CODE);\r\n                    \r\nFor Fragment :\r\n    \r\n     requestPermissions(permissionsList,REQUEST_CODE);","title":"Android M Permissions: onRequestPermissionsResult() not being called","body":"<p>I hope it works fine</p>\n\n<p>For Activity :</p>\n\n<pre><code> ActivityCompat.requestPermissions(this,permissionsList,REQUEST_CODE);\n</code></pre>\n\n<p>For Fragment :</p>\n\n<pre><code> requestPermissions(permissionsList,REQUEST_CODE);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1483648,"reputation":585,"user_id":1392372,"accept_rate":94,"display_name":"Placeable"},"score":0,"creation_date":1518523414,"post_id":45228780,"comment_id":84532925,"body_markdown":"Please elaborate why.","body":"Please elaborate why."}],"tags":[],"owner":{"account_id":9460247,"reputation":3823,"user_id":7034183,"display_name":"Remario"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1500610056,"creation_date":1500610056,"answer_id":45228780,"question_id":32714787,"body_markdown":"You can use `requestPermissions(PERMISSIONS, MULTIPLE_PERMISSIONS_CODE);`. Do not use FragmentCompat if you are using v4.","title":"Android M Permissions: onRequestPermissionsResult() not being called","body":"<p>You can use <code>requestPermissions(PERMISSIONS, MULTIPLE_PERMISSIONS_CODE);</code>. Do not use FragmentCompat if you are using v4.</p>\n"},{"comments":[{"owner":{"account_id":1879830,"reputation":2077,"user_id":1737624,"accept_rate":53,"display_name":"Minas Mina"},"score":1,"creation_date":1508441721,"post_id":45268237,"comment_id":80622686,"body_markdown":"Requires API level 23... On earlier ones use `FragmentCompat.requestPermissions()`.","body":"Requires API level 23... On earlier ones use <code>FragmentCompat.requestPermissions()</code>."}],"tags":[],"owner":{"account_id":5828473,"reputation":311,"user_id":4593930,"accept_rate":0,"display_name":"PounKumar Purushothaman"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1500832587,"creation_date":1500832587,"answer_id":45268237,"question_id":32714787,"body_markdown":"If you are calling this code from a fragment it has it’s own requestPermissions method.\r\n\r\nSo basic concept is, If you are in an Activity, then call\r\n\r\n    ActivityCompat.requestPermissions(this,\r\n                                permissionsList,\r\n                                permissionscode);\r\n\r\nand if in a Fragment, just call\r\n\r\n    requestPermissions(permissionsList,\r\n                                permissionscode);\r\n\r\n","title":"Android M Permissions: onRequestPermissionsResult() not being called","body":"<p>If you are calling this code from a fragment it has it’s own requestPermissions method.</p>\n\n<p>So basic concept is, If you are in an Activity, then call</p>\n\n<pre><code>ActivityCompat.requestPermissions(this,\n                            permissionsList,\n                            permissionscode);\n</code></pre>\n\n<p>and if in a Fragment, just call</p>\n\n<pre><code>requestPermissions(permissionsList,\n                            permissionscode);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11484501,"reputation":134,"user_id":8417594,"display_name":"havabon"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1501853426,"creation_date":1501853426,"answer_id":45508182,"question_id":32714787,"body_markdown":"Based on [goodgamerguy&#39;s answer][1] the solution is:\r\n\r\n    myFragment.this.requestPermissions(....)\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/33081173/8417594","title":"Android M Permissions: onRequestPermissionsResult() not being called","body":"<p>Based on <a href=\"https://stackoverflow.com/a/33081173/8417594\">goodgamerguy's answer</a> the solution is:</p>\n\n<pre><code>myFragment.this.requestPermissions(....)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3482475,"reputation":27250,"user_id":2914140,"accept_rate":69,"display_name":"CoolMind"},"score":0,"creation_date":1518514270,"post_id":46719746,"comment_id":84527367,"body_markdown":"Add 65536 and 111 and you will get it. This is because of bit masks. See some topics.","body":"Add 65536 and 111 and you will get it. This is because of bit masks. See some topics."}],"tags":[],"owner":{"account_id":133018,"reputation":121,"user_id":334068,"display_name":"grgrssll"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1569837865,"creation_date":1507846714,"answer_id":46719746,"question_id":32714787,"body_markdown":"**UPDATE:** saw someone else&#39;s answer about calling `super.onRequestPermissionResult()` in Activity and that fixes the request code issue I mentioned and calls the **fragment&#39;s onRequestPermissionResult.**\r\n\r\n\r\n*ignore this stuff:*\r\n\r\n\r\nFor me it was calling the `onRequestPermissionResult` of the Activity despite me calling `fragment.requestPermission(...)`, BUT it returned the result with an incorrect requestCode (111 turned into 65647 why ??? I&#39;ll never know). \r\n\r\nLuckily this is the only permission we request on that screen so I just ignore the request code (don&#39;t have time to figure out why it&#39;s not correct right now)\r\n","title":"Android M Permissions: onRequestPermissionsResult() not being called","body":"<p><strong>UPDATE:</strong> saw someone else's answer about calling <code>super.onRequestPermissionResult()</code> in Activity and that fixes the request code issue I mentioned and calls the <strong>fragment's onRequestPermissionResult.</strong></p>\n\n<p><em>ignore this stuff:</em></p>\n\n<p>For me it was calling the <code>onRequestPermissionResult</code> of the Activity despite me calling <code>fragment.requestPermission(...)</code>, BUT it returned the result with an incorrect requestCode (111 turned into 65647 why ??? I'll never know). </p>\n\n<p>Luckily this is the only permission we request on that screen so I just ignore the request code (don't have time to figure out why it's not correct right now)</p>\n"},{"tags":[],"owner":{"account_id":7735286,"reputation":947,"user_id":5857058,"display_name":"Abhishek Dubey"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1516002836,"creation_date":1516002836,"answer_id":48258870,"question_id":32714787,"body_markdown":"I have an amazing solution to achieve this make a BaseActivity like this.\r\n\r\n    public class BaseActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        // Thread.setDefaultUncaughtExceptionHandler(new MyExceptionHandler(this));\r\n\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String permissions[], @NonNull int[] grantResults) {\r\n        switch (requestCode) {\r\n            case 1: {\r\n                if (grantResults.length &gt; 0\r\n                        &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                    CustomToast.getInstance().setCustomToast(&quot;Now you can share the Hack.&quot;);\r\n\r\n                } else {\r\n                    Toast.makeText(this, &quot;Permission denied to read your External storage&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\nNow yo can call the code to ask for permission like this \r\n\r\n\r\n     ActivityCompat.requestPermissions(getActivity(), new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE}, 1);\r\n\r\n\r\nNow every time this happens anywhere whether in your fragment or in any activity the base activity would be called.\r\n\r\nThanks ","title":"Android M Permissions: onRequestPermissionsResult() not being called","body":"<p>I have an amazing solution to achieve this make a BaseActivity like this.</p>\n\n<pre><code>public class BaseActivity extends AppCompatActivity {\n\n@Override\nprotected void onCreate(@Nullable Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    // Thread.setDefaultUncaughtExceptionHandler(new MyExceptionHandler(this));\n\n\n}\n\n@Override\npublic void onRequestPermissionsResult(int requestCode, @NonNull String permissions[], @NonNull int[] grantResults) {\n    switch (requestCode) {\n        case 1: {\n            if (grantResults.length &gt; 0\n                    &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                CustomToast.getInstance().setCustomToast(\"Now you can share the Hack.\");\n\n            } else {\n                Toast.makeText(this, \"Permission denied to read your External storage\", Toast.LENGTH_SHORT).show();\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Now yo can call the code to ask for permission like this </p>\n\n<pre><code> ActivityCompat.requestPermissions(getActivity(), new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE}, 1);\n</code></pre>\n\n<p>Now every time this happens anywhere whether in your fragment or in any activity the base activity would be called.</p>\n\n<p>Thanks </p>\n"},{"tags":[],"owner":{"account_id":5674605,"reputation":24652,"user_id":4488252,"accept_rate":71,"display_name":"Vasily  Bodnarchuk"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1537137658,"creation_date":1536970360,"answer_id":52340529,"question_id":32714787,"body_markdown":"## Details ##\r\n\r\n - Kotlin 1.2.70\r\n - checked in minSdkVersion 19\r\n - Android studio 3.1.4\r\n\r\n## Algorithm ##\r\n\r\n**module** - camera, location, ....\r\n\r\n 1. Check if hasSystemFeature (if **module** exist in phone)\r\n 2. Check if user has access to **module**\r\n 3. Send permissions request (ask user to allow **module** usage)\r\n\r\n## Features ##\r\n\r\n 1. Work with Activities and Fragments\r\n 2. Has only one result response \r\n 3. Can check several **modules** in one request\r\n\r\n## Solution ##\r\n\r\n    class PermissionType(val manifest_permission: String, val packageManager: String) {\r\n        object Defined {\r\n            val camera = PermissionType(Manifest.permission.CAMERA, PackageManager.FEATURE_CAMERA)\r\n            val currentLocation = PermissionType(Manifest.permission.ACCESS_FINE_LOCATION, PackageManager.FEATURE_LOCATION_GPS)\r\n        }\r\n    }\r\n\r\n    class  Permission {\r\n\r\n        enum class PermissionResult {\r\n            ACCESS_ALLOWED, ACCESS_DENIED, NO_SYSTEM_FEATURE;\r\n        }\r\n\r\n        interface ManagerDelegate {\r\n            fun permissionManagerDelegate(result: Array&lt;Pair&lt;String, PermissionResult&gt;&gt;)\r\n        }\r\n\r\n        class Manager internal constructor(private val delegate: ManagerDelegate?) {\r\n\r\n            private var context: Context? = null\r\n            private var fragment: Fragment? = null\r\n            private var activity: AppCompatActivity? = null\r\n            private var permissionTypes: Array&lt;PermissionType&gt; = arrayOf()\r\n            private val REQUEST_CODE = 999\r\n            private val semaphore = Semaphore(1, true)\r\n            private var result: Array&lt;Pair&lt;String, PermissionResult&gt;&gt; = arrayOf()\r\n\r\n\r\n            constructor(permissionType: PermissionType, delegate: ManagerDelegate?): this(delegate) {\r\n                permissionTypes = arrayOf(permissionType)\r\n            }\r\n\r\n            constructor(permissionTypes: Array&lt;PermissionType&gt;, delegate: ManagerDelegate?): this(delegate) {\r\n                this.permissionTypes = permissionTypes\r\n            }\r\n\r\n            init {\r\n                when (delegate) {\r\n                    is Fragment -&gt; {\r\n                        this.fragment = delegate\r\n                        this.context = delegate.context\r\n                    }\r\n\r\n                    is AppCompatActivity -&gt; {\r\n                        this.activity = delegate\r\n                        this.context = delegate\r\n                    }\r\n                }\r\n            }\r\n\r\n            private fun hasSystemFeature(permissionType: PermissionType) : Boolean {\r\n                return context?.packageManager?.hasSystemFeature(permissionType.packageManager) ?: false\r\n            }\r\n\r\n            private fun hasAccess(permissionType: PermissionType) : Boolean {\r\n                return if (Build.VERSION.SDK_INT &lt; 23) true else {\r\n                    context?.checkSelfPermission(permissionType.manifest_permission) == PackageManager.PERMISSION_GRANTED\r\n                }\r\n            }\r\n\r\n            private fun sendRequest(permissionTypes: Array&lt;String&gt;) {\r\n\r\n                if (fragment != null) {\r\n                    fragment?.requestPermissions(permissionTypes, REQUEST_CODE)\r\n                    return\r\n                }\r\n\r\n                if (activity != null){\r\n                    ActivityCompat.requestPermissions(activity!!, permissionTypes, REQUEST_CODE)\r\n                }\r\n            }\r\n\r\n            fun check() {\r\n\r\n                semaphore.acquire()\r\n                AsyncTask.execute {\r\n                    var permissionsForSendingRequest: Array&lt;String&gt; = arrayOf()\r\n                    this.result = arrayOf()\r\n\r\n                    for (it in permissionTypes) {\r\n                        if (!hasSystemFeature(it)) {\r\n                            result += Pair(it.manifest_permission, PermissionResult.NO_SYSTEM_FEATURE)\r\n                            continue\r\n                        }\r\n\r\n                        if (hasAccess(it)) {\r\n                            result += Pair(it.manifest_permission, PermissionResult.ACCESS_ALLOWED)\r\n                        } else {\r\n                            permissionsForSendingRequest += it.manifest_permission\r\n                        }\r\n                    }\r\n\r\n                    if (permissionsForSendingRequest.isNotEmpty()) {\r\n                        sendRequest(permissionsForSendingRequest)\r\n                    } else {\r\n                        delegate?.permissionManagerDelegate(result)\r\n                    }\r\n                }\r\n            }\r\n\r\n            fun onRequestPermissionsResult(requestCode: Int, permissions: Array&lt;out String&gt;, grantResults: IntArray) {\r\n                when (requestCode) {\r\n                    REQUEST_CODE -&gt; {\r\n                        if (grantResults.isEmpty()) {\r\n                            return\r\n                        }\r\n                        for ((i,permission) in permissions.withIndex()) {\r\n                            for (item in this.permissionTypes) {\r\n                                if (permission == item.manifest_permission &amp;&amp; i &lt; grantResults.size) {\r\n                                    result += if (grantResults[i] == PackageManager.PERMISSION_GRANTED) {\r\n                                        Pair(item.manifest_permission, PermissionResult.ACCESS_ALLOWED)\r\n                                    } else {\r\n                                        Pair(item.manifest_permission, PermissionResult.ACCESS_DENIED)\r\n                                    }\r\n                                    break\r\n                                }\r\n                            }\r\n                        }\r\n                        delegate?.permissionManagerDelegate(result)\r\n                    }\r\n                }\r\n                semaphore.release()\r\n            }\r\n        }\r\n    }\r\n\r\n## Usage in Activity (in fragment the same) ##\r\n\r\n    class BaseActivity : AppCompatActivity(), Permission.ManagerDelegate {\r\n    \r\n        private lateinit var permissionManager: Permission.Manager\r\n    \r\n        override fun onCreate(savedInstanceState: Bundle?) {\r\n            super.onCreate(savedInstanceState)\r\n            setContentView(R.layout.base_activity)\r\n    \r\n            permissionManager = Permission.Manager(arrayOf(PermissionType.Defined.camera, PermissionType.Defined.currentLocation), this)\r\n            permissionManager.check()\r\n        }\r\n    \r\n        override fun onRequestPermissionsResult(requestCode: Int, permissions: Array&lt;out String&gt;, grantResults: IntArray) {\r\n            super.onRequestPermissionsResult(requestCode, permissions, grantResults)\r\n            permissionManager.onRequestPermissionsResult(requestCode, permissions, grantResults)\r\n        }\r\n    \r\n    \r\n        override fun permissionManagerDelegate(result: Array&lt;Pair&lt;String, Permission.PermissionResult&gt;&gt;) {\r\n            result.forEach {\r\n                println(&quot;!!! ${it.first} ${it.second}&quot;)\r\n    //            when (it.second) {\r\n    //                Permission.PermissionResult.NO_SYSTEM_FEATURE -&gt; {\r\n    //                }\r\n    //\r\n    //                Permission.PermissionResult.ACCESS_DENIED  -&gt; {\r\n    //                }\r\n    //\r\n    //                Permission.PermissionResult.ACCESS_ALLOWED -&gt; {\r\n    //                }\r\n    //            }\r\n            }\r\n        }\r\n    }","title":"Android M Permissions: onRequestPermissionsResult() not being called","body":"<h2>Details</h2>\n\n<ul>\n<li>Kotlin 1.2.70</li>\n<li>checked in minSdkVersion 19</li>\n<li>Android studio 3.1.4</li>\n</ul>\n\n<h2>Algorithm</h2>\n\n<p><strong>module</strong> - camera, location, ....</p>\n\n<ol>\n<li>Check if hasSystemFeature (if <strong>module</strong> exist in phone)</li>\n<li>Check if user has access to <strong>module</strong></li>\n<li>Send permissions request (ask user to allow <strong>module</strong> usage)</li>\n</ol>\n\n<h2>Features</h2>\n\n<ol>\n<li>Work with Activities and Fragments</li>\n<li>Has only one result response </li>\n<li>Can check several <strong>modules</strong> in one request</li>\n</ol>\n\n<h2>Solution</h2>\n\n<pre><code>class PermissionType(val manifest_permission: String, val packageManager: String) {\n    object Defined {\n        val camera = PermissionType(Manifest.permission.CAMERA, PackageManager.FEATURE_CAMERA)\n        val currentLocation = PermissionType(Manifest.permission.ACCESS_FINE_LOCATION, PackageManager.FEATURE_LOCATION_GPS)\n    }\n}\n\nclass  Permission {\n\n    enum class PermissionResult {\n        ACCESS_ALLOWED, ACCESS_DENIED, NO_SYSTEM_FEATURE;\n    }\n\n    interface ManagerDelegate {\n        fun permissionManagerDelegate(result: Array&lt;Pair&lt;String, PermissionResult&gt;&gt;)\n    }\n\n    class Manager internal constructor(private val delegate: ManagerDelegate?) {\n\n        private var context: Context? = null\n        private var fragment: Fragment? = null\n        private var activity: AppCompatActivity? = null\n        private var permissionTypes: Array&lt;PermissionType&gt; = arrayOf()\n        private val REQUEST_CODE = 999\n        private val semaphore = Semaphore(1, true)\n        private var result: Array&lt;Pair&lt;String, PermissionResult&gt;&gt; = arrayOf()\n\n\n        constructor(permissionType: PermissionType, delegate: ManagerDelegate?): this(delegate) {\n            permissionTypes = arrayOf(permissionType)\n        }\n\n        constructor(permissionTypes: Array&lt;PermissionType&gt;, delegate: ManagerDelegate?): this(delegate) {\n            this.permissionTypes = permissionTypes\n        }\n\n        init {\n            when (delegate) {\n                is Fragment -&gt; {\n                    this.fragment = delegate\n                    this.context = delegate.context\n                }\n\n                is AppCompatActivity -&gt; {\n                    this.activity = delegate\n                    this.context = delegate\n                }\n            }\n        }\n\n        private fun hasSystemFeature(permissionType: PermissionType) : Boolean {\n            return context?.packageManager?.hasSystemFeature(permissionType.packageManager) ?: false\n        }\n\n        private fun hasAccess(permissionType: PermissionType) : Boolean {\n            return if (Build.VERSION.SDK_INT &lt; 23) true else {\n                context?.checkSelfPermission(permissionType.manifest_permission) == PackageManager.PERMISSION_GRANTED\n            }\n        }\n\n        private fun sendRequest(permissionTypes: Array&lt;String&gt;) {\n\n            if (fragment != null) {\n                fragment?.requestPermissions(permissionTypes, REQUEST_CODE)\n                return\n            }\n\n            if (activity != null){\n                ActivityCompat.requestPermissions(activity!!, permissionTypes, REQUEST_CODE)\n            }\n        }\n\n        fun check() {\n\n            semaphore.acquire()\n            AsyncTask.execute {\n                var permissionsForSendingRequest: Array&lt;String&gt; = arrayOf()\n                this.result = arrayOf()\n\n                for (it in permissionTypes) {\n                    if (!hasSystemFeature(it)) {\n                        result += Pair(it.manifest_permission, PermissionResult.NO_SYSTEM_FEATURE)\n                        continue\n                    }\n\n                    if (hasAccess(it)) {\n                        result += Pair(it.manifest_permission, PermissionResult.ACCESS_ALLOWED)\n                    } else {\n                        permissionsForSendingRequest += it.manifest_permission\n                    }\n                }\n\n                if (permissionsForSendingRequest.isNotEmpty()) {\n                    sendRequest(permissionsForSendingRequest)\n                } else {\n                    delegate?.permissionManagerDelegate(result)\n                }\n            }\n        }\n\n        fun onRequestPermissionsResult(requestCode: Int, permissions: Array&lt;out String&gt;, grantResults: IntArray) {\n            when (requestCode) {\n                REQUEST_CODE -&gt; {\n                    if (grantResults.isEmpty()) {\n                        return\n                    }\n                    for ((i,permission) in permissions.withIndex()) {\n                        for (item in this.permissionTypes) {\n                            if (permission == item.manifest_permission &amp;&amp; i &lt; grantResults.size) {\n                                result += if (grantResults[i] == PackageManager.PERMISSION_GRANTED) {\n                                    Pair(item.manifest_permission, PermissionResult.ACCESS_ALLOWED)\n                                } else {\n                                    Pair(item.manifest_permission, PermissionResult.ACCESS_DENIED)\n                                }\n                                break\n                            }\n                        }\n                    }\n                    delegate?.permissionManagerDelegate(result)\n                }\n            }\n            semaphore.release()\n        }\n    }\n}\n</code></pre>\n\n<h2>Usage in Activity (in fragment the same)</h2>\n\n<pre><code>class BaseActivity : AppCompatActivity(), Permission.ManagerDelegate {\n\n    private lateinit var permissionManager: Permission.Manager\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.base_activity)\n\n        permissionManager = Permission.Manager(arrayOf(PermissionType.Defined.camera, PermissionType.Defined.currentLocation), this)\n        permissionManager.check()\n    }\n\n    override fun onRequestPermissionsResult(requestCode: Int, permissions: Array&lt;out String&gt;, grantResults: IntArray) {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults)\n        permissionManager.onRequestPermissionsResult(requestCode, permissions, grantResults)\n    }\n\n\n    override fun permissionManagerDelegate(result: Array&lt;Pair&lt;String, Permission.PermissionResult&gt;&gt;) {\n        result.forEach {\n            println(\"!!! ${it.first} ${it.second}\")\n//            when (it.second) {\n//                Permission.PermissionResult.NO_SYSTEM_FEATURE -&gt; {\n//                }\n//\n//                Permission.PermissionResult.ACCESS_DENIED  -&gt; {\n//                }\n//\n//                Permission.PermissionResult.ACCESS_ALLOWED -&gt; {\n//                }\n//            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7172788,"reputation":266,"user_id":5479763,"accept_rate":88,"display_name":"Ndheti"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1545504133,"creation_date":1538269032,"answer_id":52573709,"question_id":32714787,"body_markdown":"I had a similar problem except I was pressing a button to make a call, which triggers the callIntent. I checked permission first, if not granted I ask for permission and onRequestPermissionResult I call the check permission and call again.\r\n\r\n     @Override\r\n    public void onRequestPermissionsResult(int requestCode, String permissions[], int[] grantResults) {\r\n        switch (requestCode) {\r\n            case Constants.PERMISSIONS_REQUEST_CALL_PHONE: {\r\n                if ( grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n\r\n                    checkPermissionsAndCall();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    public void checkPermissionsAndCall(){\r\n        if (Build.VERSION.SDK_INT &gt; 22) {\r\n            if(ContextCompat.checkSelfPermission(getContext(),\r\n                    Manifest.permission.CALL_PHONE)\r\n                    != PackageManager.PERMISSION_GRANTED){\r\n                requestPermissions( new String[]{Manifest.permission.CALL_PHONE}, Constants.PERMISSIONS_REQUEST_CALL_PHONE);\r\n            }\r\n            else{\r\n                callIntent();\r\n            }\r\n        }\r\n    }\r\n","title":"Android M Permissions: onRequestPermissionsResult() not being called","body":"<p>I had a similar problem except I was pressing a button to make a call, which triggers the callIntent. I checked permission first, if not granted I ask for permission and onRequestPermissionResult I call the check permission and call again.</p>\n\n<pre><code> @Override\npublic void onRequestPermissionsResult(int requestCode, String permissions[], int[] grantResults) {\n    switch (requestCode) {\n        case Constants.PERMISSIONS_REQUEST_CALL_PHONE: {\n            if ( grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n\n                checkPermissionsAndCall();\n            }\n        }\n    }\n}\n\npublic void checkPermissionsAndCall(){\n    if (Build.VERSION.SDK_INT &gt; 22) {\n        if(ContextCompat.checkSelfPermission(getContext(),\n                Manifest.permission.CALL_PHONE)\n                != PackageManager.PERMISSION_GRANTED){\n            requestPermissions( new String[]{Manifest.permission.CALL_PHONE}, Constants.PERMISSIONS_REQUEST_CALL_PHONE);\n        }\n        else{\n            callIntent();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3730291,"reputation":1633,"user_id":3102913,"accept_rate":33,"display_name":"pavel"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1556132708,"creation_date":1556132708,"answer_id":55836961,"question_id":32714787,"body_markdown":"Here i want to show my code how i managed this. \r\n\r\n    public class CheckPermission {\r\n\r\n    public Context context;\r\n\r\n    public static final int PERMISSION_REQUEST_CODE =  200;\r\n\r\n    public CheckPermission(Context context){\r\n        this.context = context;\r\n    }\r\n\r\n    public boolean isPermissionGranted(){\r\n        int read_contact = ContextCompat.checkSelfPermission(context.getApplicationContext() , READ_CONTACTS);\r\n        int phone = ContextCompat.checkSelfPermission(context.getApplicationContext() , CALL_PHONE);\r\n\r\n        return read_contact == PackageManager.PERMISSION_GRANTED &amp;&amp; phone == PackageManager.PERMISSION_GRANTED;\r\n       }\r\n    }\r\n\r\nHere in this class i want to check permission granted or not. Is not then i will call permission from my MainActivity like\r\n\r\n\r\n\r\n    public void requestForPermission() {\r\n           ActivityCompat.requestPermissions(MainActivity.this, new String[]    {READ_CONTACTS, CALL_PHONE}, PERMISSION_REQUEST_CODE);\r\n    }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n        switch (requestCode) {\r\n            case PERMISSION_REQUEST_CODE:\r\n                if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n                    if (shouldShowRequestPermissionRationale(ACCESS_FINE_LOCATION)) {\r\n                        showMessageOKCancel(&quot;You need to allow access to both the permissions&quot;,\r\n                                new DialogInterface.OnClickListener() {\r\n                                    @Override\r\n                                    public void onClick(DialogInterface dialog, int which) {\r\n                                        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n                                            requestPermissions(new String[]{Manifest.permission.READ_CONTACTS, Manifest.permission.CALL_PHONE},\r\n                                                    PERMISSION_REQUEST_CODE);\r\n                                        }\r\n                                    }\r\n                                });\r\n                        return;\r\n                    }\r\n                }\r\n        }\r\n    }\r\n\r\nNow in the onCreate method you need to call requestForPermission() function.\r\n\r\nThat&#39;s it.Also you can request multiple permission at a time.","title":"Android M Permissions: onRequestPermissionsResult() not being called","body":"<p>Here i want to show my code how i managed this. </p>\n\n<pre><code>public class CheckPermission {\n\npublic Context context;\n\npublic static final int PERMISSION_REQUEST_CODE =  200;\n\npublic CheckPermission(Context context){\n    this.context = context;\n}\n\npublic boolean isPermissionGranted(){\n    int read_contact = ContextCompat.checkSelfPermission(context.getApplicationContext() , READ_CONTACTS);\n    int phone = ContextCompat.checkSelfPermission(context.getApplicationContext() , CALL_PHONE);\n\n    return read_contact == PackageManager.PERMISSION_GRANTED &amp;&amp; phone == PackageManager.PERMISSION_GRANTED;\n   }\n}\n</code></pre>\n\n<p>Here in this class i want to check permission granted or not. Is not then i will call permission from my MainActivity like</p>\n\n<pre><code>public void requestForPermission() {\n       ActivityCompat.requestPermissions(MainActivity.this, new String[]    {READ_CONTACTS, CALL_PHONE}, PERMISSION_REQUEST_CODE);\n}\n\n@Override\npublic void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n    super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n    switch (requestCode) {\n        case PERMISSION_REQUEST_CODE:\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n                if (shouldShowRequestPermissionRationale(ACCESS_FINE_LOCATION)) {\n                    showMessageOKCancel(\"You need to allow access to both the permissions\",\n                            new DialogInterface.OnClickListener() {\n                                @Override\n                                public void onClick(DialogInterface dialog, int which) {\n                                    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n                                        requestPermissions(new String[]{Manifest.permission.READ_CONTACTS, Manifest.permission.CALL_PHONE},\n                                                PERMISSION_REQUEST_CODE);\n                                    }\n                                }\n                            });\n                    return;\n                }\n            }\n    }\n}\n</code></pre>\n\n<p>Now in the onCreate method you need to call requestForPermission() function.</p>\n\n<p>That's it.Also you can request multiple permission at a time.</p>\n"},{"tags":[],"owner":{"account_id":10402724,"reputation":1947,"user_id":7670489,"accept_rate":85,"display_name":"VolodymyrH"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591184529,"creation_date":1591184529,"answer_id":62171999,"question_id":32714787,"body_markdown":"I also met a problem that even if you call correct requestPermissions, you still can have this problem. The issue is that parent activity may override this method without calling super. Add super and it will be fixed.","title":"Android M Permissions: onRequestPermissionsResult() not being called","body":"<p>I also met a problem that even if you call correct requestPermissions, you still can have this problem. The issue is that parent activity may override this method without calling super. Add super and it will be fixed.</p>\n"},{"tags":[],"owner":{"account_id":9317327,"reputation":217,"user_id":7460214,"accept_rate":60,"display_name":"Aury0n"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1603773101,"creation_date":1603773101,"answer_id":64548345,"question_id":32714787,"body_markdown":"for kotlin users, here my extension to check and validate permissions without override onRequestPermissionResult\r\n\r\n     * @param permissionToValidate (request and check currently permission)\r\n     *\r\n     * @return recursive boolean validation callback (no need OnRequestPermissionResult)\r\n     *\r\n     * */\r\n    internal fun Activity.validatePermission(\r\n        permissionToValidate: String,\r\n        recursiveCall: (() -&gt; Boolean) = { false }\r\n    ): Boolean {\r\n        val permission = ContextCompat.checkSelfPermission(\r\n            this,\r\n            permissionToValidate\r\n        )\r\n    \r\n        if (permission != PackageManager.PERMISSION_GRANTED) {\r\n            if (recursiveCall()) {\r\n                return false\r\n            }\r\n    \r\n            ActivityCompat.requestPermissions(\r\n                this,\r\n                arrayOf(permissionToValidate),\r\n                110\r\n            )\r\n            return this.validatePermission(permissionToValidate) { true }\r\n        }\r\n    \r\n        return true\r\n    \r\n    }\r\n    ","title":"Android M Permissions: onRequestPermissionsResult() not being called","body":"<p>for kotlin users, here my extension to check and validate permissions without override onRequestPermissionResult</p>\n<pre><code> * @param permissionToValidate (request and check currently permission)\n *\n * @return recursive boolean validation callback (no need OnRequestPermissionResult)\n *\n * */\ninternal fun Activity.validatePermission(\n    permissionToValidate: String,\n    recursiveCall: (() -&gt; Boolean) = { false }\n): Boolean {\n    val permission = ContextCompat.checkSelfPermission(\n        this,\n        permissionToValidate\n    )\n\n    if (permission != PackageManager.PERMISSION_GRANTED) {\n        if (recursiveCall()) {\n            return false\n        }\n\n        ActivityCompat.requestPermissions(\n            this,\n            arrayOf(permissionToValidate),\n            110\n        )\n        return this.validatePermission(permissionToValidate) { true }\n    }\n\n    return true\n\n}\n</code></pre>\n"}],"owner":{"account_id":1673285,"reputation":5129,"user_id":1539304,"accept_rate":55,"display_name":"Ayohaych"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":206675,"favorite_count":0,"down_vote_count":0,"up_vote_count":312,"accepted_answer_id":33081173,"answer_count":25,"score":312,"last_activity_date":1690469628,"creation_date":1442918533,"question_id":32714787,"body_markdown":"I&#39;m updating our app to use the new M runtime permissions system.\r\nIt&#39;s all working except for onRequestPermissionsResult(). I need to check a permission on a button press, and if it&#39;s successful, send a text message. When I grant permission to do it, the dialog closes, but it doesn&#39;t trigger the Send Text until I press the button again.\r\n\r\nI&#39;ve debugged and set breakpoints in the onRequestPermissionsResult() method but it never goes into it.\r\n\r\nThis method gets called first:\r\n\r\n        private void askForPermission() {\r\n        String[] permissions = new String[]{Manifest.permission.SEND_SMS};\r\n        ActivityCompat.requestPermissions(getActivity(), permissions, PERMISSIONS_CODE);\r\n    }\r\n\r\nAnd then my callback looks like this:\r\n\r\n        @Override\r\n    public void onRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n\r\n        if (requestCode == PERMISSIONS_CODE) {\r\n            for (int i = 0; i &lt; permissions.length; i++) {\r\n                String permission = permissions[i];\r\n                int grantResult = grantResults[i];\r\n\r\n                if (permission.equals(Manifest.permission.SEND_SMS)) {\r\n                    if (grantResult == PackageManager.PERMISSION_GRANTED) {\r\n                        onPPSButtonPress();\r\n                    } else {\r\n                        requestPermissions(new String[]{Manifest.permission.SEND_SMS}, PERMISSIONS_CODE);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nHas anybody run into a similar issue?\r\nAppreciate any help with this.\r\nThanks","title":"Android M Permissions: onRequestPermissionsResult() not being called","body":"<p>I'm updating our app to use the new M runtime permissions system.\nIt's all working except for onRequestPermissionsResult(). I need to check a permission on a button press, and if it's successful, send a text message. When I grant permission to do it, the dialog closes, but it doesn't trigger the Send Text until I press the button again.</p>\n\n<p>I've debugged and set breakpoints in the onRequestPermissionsResult() method but it never goes into it.</p>\n\n<p>This method gets called first:</p>\n\n<pre><code>    private void askForPermission() {\n    String[] permissions = new String[]{Manifest.permission.SEND_SMS};\n    ActivityCompat.requestPermissions(getActivity(), permissions, PERMISSIONS_CODE);\n}\n</code></pre>\n\n<p>And then my callback looks like this:</p>\n\n<pre><code>    @Override\npublic void onRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults) {\n    super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n\n    if (requestCode == PERMISSIONS_CODE) {\n        for (int i = 0; i &lt; permissions.length; i++) {\n            String permission = permissions[i];\n            int grantResult = grantResults[i];\n\n            if (permission.equals(Manifest.permission.SEND_SMS)) {\n                if (grantResult == PackageManager.PERMISSION_GRANTED) {\n                    onPPSButtonPress();\n                } else {\n                    requestPermissions(new String[]{Manifest.permission.SEND_SMS}, PERMISSIONS_CODE);\n                }\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Has anybody run into a similar issue?\nAppreciate any help with this.\nThanks</p>\n"},{"tags":["java","neo4j","spring-data","spring-data-neo4j"],"owner":{"account_id":22996108,"reputation":43,"user_id":17120856,"display_name":"dpkass"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1690469563,"creation_date":1690469563,"question_id":76780973,"body_markdown":"So I am working on a Spring Project and I used NEO4J as a DB since the Entities have a tree-like structure. Now I need to find the nodes with the highest distance to each other. \r\n\r\nI used the GDS plugin to get the distances of all nodes to each other, sorted them by distance and got the top few:\r\n```CYPHER\r\nCALL gds.alpha.allShortestPaths.stream(&#39;AS-Graph&#39;, {})\r\nYIELD sourceNodeId, targetNodeId, distance\r\nWITH sourceNodeId, targetNodeId, distance\r\nWHERE gds.util.isFinite(distance) = true\r\n\r\nMATCH (source) WHERE id(source) = sourceNodeId\r\nMATCH (target) WHERE id(target) = targetNodeId\r\nWITH source, target, distance WHERE source &lt;&gt; target\r\n\r\nRETURN source.name AS source, target.name AS target, distance\r\nORDER BY distance DESC, source ASC, target ASC\r\nLIMIT 300\r\n```\r\n\r\nI tried to find a way to get the paths for each source and target, but didn&#39;t find any. I only found a very old [neo4j community 1.5.3 JavaDoc][1] with a FloydWarshall class with a getCost and getPath function. But I didn&#39;t find it in the new releases and I don&#39;t think it will work with the 5.9 I&#39;m running.\r\n\r\nThe only way I see, is getting the nodes with Spring, and then calling shortestPath over and over again. But that seems rather inefficient and I wanted to ask if someone knows a better way.\r\n\r\nThe final goal is saving the 300 longest paths into some Excel-Sheet, where each row is a path. So if there is a simpler solution, I&#39;m all for it.\r\n\r\n\r\n  [1]: https://www.javadoc.io/doc/org.neo4j/neo4j/1.5.3/org/neo4j/graphalgo/impl/shortestpath/FloydWarshall.html","title":"Getting the Paths from allPairsShortestPaths (or a similar function) from a NEO4J Database and not just the distances","body":"<p>So I am working on a Spring Project and I used NEO4J as a DB since the Entities have a tree-like structure. Now I need to find the nodes with the highest distance to each other.</p>\n<p>I used the GDS plugin to get the distances of all nodes to each other, sorted them by distance and got the top few:</p>\n<pre><code>CALL gds.alpha.allShortestPaths.stream('AS-Graph', {})\nYIELD sourceNodeId, targetNodeId, distance\nWITH sourceNodeId, targetNodeId, distance\nWHERE gds.util.isFinite(distance) = true\n\nMATCH (source) WHERE id(source) = sourceNodeId\nMATCH (target) WHERE id(target) = targetNodeId\nWITH source, target, distance WHERE source &lt;&gt; target\n\nRETURN source.name AS source, target.name AS target, distance\nORDER BY distance DESC, source ASC, target ASC\nLIMIT 300\n</code></pre>\n<p>I tried to find a way to get the paths for each source and target, but didn't find any. I only found a very old <a href=\"https://www.javadoc.io/doc/org.neo4j/neo4j/1.5.3/org/neo4j/graphalgo/impl/shortestpath/FloydWarshall.html\" rel=\"nofollow noreferrer\">neo4j community 1.5.3 JavaDoc</a> with a FloydWarshall class with a getCost and getPath function. But I didn't find it in the new releases and I don't think it will work with the 5.9 I'm running.</p>\n<p>The only way I see, is getting the nodes with Spring, and then calling shortestPath over and over again. But that seems rather inefficient and I wanted to ask if someone knows a better way.</p>\n<p>The final goal is saving the 300 longest paths into some Excel-Sheet, where each row is a path. So if there is a simpler solution, I'm all for it.</p>\n"},{"tags":["java","gwt"],"answers":[{"tags":[],"owner":{"account_id":69103,"reputation":7973,"user_id":201251,"accept_rate":80,"display_name":"Daniel Kurka"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1343556770,"creation_date":1343556770,"answer_id":11708405,"question_id":11708096,"body_markdown":"The super dev mode is basically the same than a production compile (it just does not optimize)\r\n\r\nIn production (compiled javascript) System.out does not print anything into your java server side process. Your code runs in the Javascript VM and it would need to go over the wire to print to the java console.\r\n\r\nIf you are running in dev mode you are running inside the JVM that is connected to a plugin inside your browser. This is why System.out works.","title":"Logging with SuperDevMode. System.out.println not working","body":"<p>The super dev mode is basically the same than a production compile (it just does not optimize)</p>\n\n<p>In production (compiled javascript) System.out does not print anything into your java server side process. Your code runs in the Javascript VM and it would need to go over the wire to print to the java console.</p>\n\n<p>If you are running in dev mode you are running inside the JVM that is connected to a plugin inside your browser. This is why System.out works.</p>\n"},{"tags":[],"owner":{"account_id":445996,"reputation":1364,"user_id":838776,"accept_rate":55,"display_name":"Arne"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1343608138,"creation_date":1343608138,"answer_id":11714156,"question_id":11708096,"body_markdown":"I set up a remote logger to solve this problem. This way all the client log statements are sent to the server where the logging still works. You can find instructions here: https://stackoverflow.com/questions/5812035/setup-a-remoteloggingservlet-in-gwt.\r\n\r\nThen you can use normal java util logging. \r\n\r\n    import java.util.logging.Logger;\r\n    private static Logger log = Logger.getLogger(&quot;mylogger&quot;);\r\n\r\nStack traces are unfortunately in javascript. I haven&#39;t figured out how to get proper java ones yet. \r\nHope this helps! ","title":"Logging with SuperDevMode. System.out.println not working","body":"<p>I set up a remote logger to solve this problem. This way all the client log statements are sent to the server where the logging still works. You can find instructions here: <a href=\"https://stackoverflow.com/questions/5812035/setup-a-remoteloggingservlet-in-gwt\">Setup a remoteLoggingServlet in GWT</a>.</p>\n\n<p>Then you can use normal java util logging. </p>\n\n<pre><code>import java.util.logging.Logger;\nprivate static Logger log = Logger.getLogger(\"mylogger\");\n</code></pre>\n\n<p>Stack traces are unfortunately in javascript. I haven't figured out how to get proper java ones yet. \nHope this helps! </p>\n"},{"tags":[],"owner":{"account_id":4088175,"reputation":69,"user_id":3356944,"display_name":"mcallahan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1401202322,"creation_date":1401202322,"answer_id":23892593,"question_id":11708096,"body_markdown":"Not the prettiest of solutions but you can create a native JSNI method like this:\r\n\r\n    public static native void debug(String text)/*-{\r\n        console.debug(text)\r\n    }-*/;\r\n\r\nThen just call:\r\n\r\n    debug(&quot;text here&quot;).\r\n\r\nAnd it should output to the console.","title":"Logging with SuperDevMode. System.out.println not working","body":"<p>Not the prettiest of solutions but you can create a native JSNI method like this:</p>\n\n<pre><code>public static native void debug(String text)/*-{\n    console.debug(text)\n}-*/;\n</code></pre>\n\n<p>Then just call:</p>\n\n<pre><code>debug(\"text here\").\n</code></pre>\n\n<p>And it should output to the console.</p>\n"}],"owner":{"account_id":142262,"reputation":51,"user_id":349854,"display_name":"Tim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2651,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1690468876,"creation_date":1343553672,"question_id":11708096,"body_markdown":"Why?\r\n\r\nWhen use `System.out.println` in client - nothing is output in console of **CodeServer**.\r\n\r\nNow I&#39;m logging in browser console, but how to log in system console?\r\n\r\np.s. I know that best way for logging in gwt is using `com.google.gwt.logging.Logging` module. It&#39;s also now working with system console.  ","title":"Logging with SuperDevMode. System.out.println not working","body":"<p>Why?</p>\n<p>When use <code>System.out.println</code> in client - nothing is output in console of <strong>CodeServer</strong>.</p>\n<p>Now I'm logging in browser console, but how to log in system console?</p>\n<p>p.s. I know that best way for logging in gwt is using <code>com.google.gwt.logging.Logging</code> module. It's also now working with system console.</p>\n"},{"tags":["java","javafx","tableview"],"comments":[{"owner":{"display_name":"user9035826"},"score":2,"creation_date":1690477818,"post_id":76780178,"comment_id":135362924,"body_markdown":"Q: &quot;Is there a solution using IDs (tableA, tableB) to access the data???&quot; Why do you need to do that? The IDs are defined as a TableColumn. In MVC, it belongs to the View. To access the data, you directly work with the model class, which is tableData in your case.","body":"Q: &quot;Is there a solution using IDs (tableA, tableB) to access the data???&quot; Why do you need to do that? The IDs are defined as a TableColumn. In MVC, it belongs to the View. To access the data, you directly work with the model class, which is tableData in your case."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1690488785,"post_id":76780178,"comment_id":135364927,"body_markdown":"See: [Why should I avoid using PropertyValueFactory in JavaFX?](https://stackoverflow.com/questions/72437983/why-should-i-avoid-using-propertyvaluefactory-in-javafx).  (not related to your synchronized tables issue, just a preferred style for table use in general).","body":"See: <a href=\"https://stackoverflow.com/questions/72437983/why-should-i-avoid-using-propertyvaluefactory-in-javafx\">Why should I avoid using PropertyValueFactory in JavaFX?</a>.  (not related to your synchronized tables issue, just a preferred style for table use in general)."}],"answers":[{"tags":[],"owner":{"account_id":7717111,"reputation":8774,"user_id":5844477,"display_name":"Sai Dandem"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1690467957,"creation_date":1690467957,"answer_id":76780719,"question_id":76780178,"body_markdown":"Yes you can set same data to both tableViews. Here, you need to provide separate ids to columns to set cellValueFactory for each columns.\r\n\r\nSomething like..\r\n\r\n    &lt;TableView fx:id=&quot;tableA&quot; prefHeight=&quot;200.0&quot; styleClass=&quot;table-2&quot;&gt;\r\n             &lt;columns&gt;\r\n                 &lt;TableColumn maxWidth=&quot;-Infinity&quot; minWidth=&quot;50.0&quot; prefWidth=&quot;50.0&quot; text=&quot;N&#176;&quot; /&gt;\r\n                 &lt;TableColumn fx:id=&quot;t1ProductName&quot; prefWidth=&quot;75.0&quot; text=&quot;Product&quot; /&gt;\r\n                 &lt;TableColumn fx:id=&quot;t1Price&quot; prefWidth=&quot;75.0&quot; text=&quot;Price&quot; /&gt;\r\n                 &lt;TableColumn fx:id=&quot;t1Quantity&quot; prefWidth=&quot;75.0&quot; text=&quot;Quantity&quot; /&gt;\r\n             &lt;/columns&gt;\r\n             &lt;columnResizePolicy&gt;&lt;TableView fx:constant=&quot;CONSTRAINED_RESIZE_POLICY&quot; /&gt;&lt;/columnResizePolicy&gt;\r\n    &lt;/TableView&gt;\r\n    &lt;TableView fx:id=&quot;tableB&quot; prefHeight=&quot;200.0&quot; styleClass=&quot;table-2&quot;&gt;\r\n             &lt;columns&gt;\r\n                 &lt;TableColumn maxWidth=&quot;-Infinity&quot; minWidth=&quot;50.0&quot; prefWidth=&quot;50.0&quot; text=&quot;N&#176;&quot; /&gt;\r\n                 &lt;TableColumn fx:id=&quot;t2ProductName&quot; prefWidth=&quot;75.0&quot; text=&quot;Product&quot; /&gt;\r\n                 &lt;TableColumn fx:id=&quot;t2Price&quot; minWidth=&quot;-Infinity&quot; prefWidth=&quot;75.0&quot; text=&quot;Price&quot; /&gt;\r\n                 &lt;TableColumn fx:id=&quot;t2Quantity&quot; minWidth=&quot;-Infinity&quot; prefWidth=&quot;75.0&quot; text=&quot;Quantity&quot; /&gt;\r\n             &lt;/columns&gt;\r\n             &lt;columnResizePolicy&gt;&lt;TableView fx:constant=&quot;CONSTRAINED_RESIZE_POLICY&quot; /&gt;&lt;/columnResizePolicy&gt;\r\n    &lt;/TableView&gt;\r\n\r\nController Code:\r\n\r\n    @FXML TableColumn &lt;Product, String&gt; t1ProductName;\r\n    @FXML TableColumn &lt;Product, Double&gt; t1Price;\r\n    @FXML TableColumn &lt;Product, Integer&gt; t1Quantity;\r\n    @FXML TableColumn &lt;Product, String&gt; t2ProductName;\r\n    @FXML TableColumn &lt;Product, Double&gt; t2Price;\r\n    @FXML TableColumn &lt;Product, Integer&gt; t2Quantity;\r\n    \r\n    ObservableList&lt;Product&gt; tableData;\r\n    \r\n    private void intializeTableColumns() {\r\n        \r\n        tableData = FXCollections.observableArrayList();\r\n        \r\n        t1ProductName.setCellValueFactory(new PropertyValueFactory&lt;Product, String&gt;(&quot;productName&quot;));\r\n        \r\n        t1Price.setCellValueFactory(new PropertyValueFactory&lt;Product, Double&gt;(&quot;price&quot;));\r\n    \r\n        t1Quantity.setCellValueFactory(new PropertyValueFactory&lt;Product, Integer&gt;(&quot;quantity&quot;));\r\n    \r\n        t2ProductName.setCellValueFactory(new PropertyValueFactory&lt;Product, String&gt;(&quot;productName&quot;));\r\n        \r\n        t2Price.setCellValueFactory(new PropertyValueFactory&lt;Product, Double&gt;(&quot;price&quot;));\r\n    \r\n        t2Quantity.setCellValueFactory(new PropertyValueFactory&lt;Product, Integer&gt;(&quot;quantity&quot;));\r\n        \r\n    \r\n    }\r\n\r\n","title":"How to load the same data in two different TableViews on single screen from the same class model (JavaFX)","body":"<p>Yes you can set same data to both tableViews. Here, you need to provide separate ids to columns to set cellValueFactory for each columns.</p>\n<p>Something like..</p>\n<pre><code>&lt;TableView fx:id=&quot;tableA&quot; prefHeight=&quot;200.0&quot; styleClass=&quot;table-2&quot;&gt;\n         &lt;columns&gt;\n             &lt;TableColumn maxWidth=&quot;-Infinity&quot; minWidth=&quot;50.0&quot; prefWidth=&quot;50.0&quot; text=&quot;N°&quot; /&gt;\n             &lt;TableColumn fx:id=&quot;t1ProductName&quot; prefWidth=&quot;75.0&quot; text=&quot;Product&quot; /&gt;\n             &lt;TableColumn fx:id=&quot;t1Price&quot; prefWidth=&quot;75.0&quot; text=&quot;Price&quot; /&gt;\n             &lt;TableColumn fx:id=&quot;t1Quantity&quot; prefWidth=&quot;75.0&quot; text=&quot;Quantity&quot; /&gt;\n         &lt;/columns&gt;\n         &lt;columnResizePolicy&gt;&lt;TableView fx:constant=&quot;CONSTRAINED_RESIZE_POLICY&quot; /&gt;&lt;/columnResizePolicy&gt;\n&lt;/TableView&gt;\n&lt;TableView fx:id=&quot;tableB&quot; prefHeight=&quot;200.0&quot; styleClass=&quot;table-2&quot;&gt;\n         &lt;columns&gt;\n             &lt;TableColumn maxWidth=&quot;-Infinity&quot; minWidth=&quot;50.0&quot; prefWidth=&quot;50.0&quot; text=&quot;N°&quot; /&gt;\n             &lt;TableColumn fx:id=&quot;t2ProductName&quot; prefWidth=&quot;75.0&quot; text=&quot;Product&quot; /&gt;\n             &lt;TableColumn fx:id=&quot;t2Price&quot; minWidth=&quot;-Infinity&quot; prefWidth=&quot;75.0&quot; text=&quot;Price&quot; /&gt;\n             &lt;TableColumn fx:id=&quot;t2Quantity&quot; minWidth=&quot;-Infinity&quot; prefWidth=&quot;75.0&quot; text=&quot;Quantity&quot; /&gt;\n         &lt;/columns&gt;\n         &lt;columnResizePolicy&gt;&lt;TableView fx:constant=&quot;CONSTRAINED_RESIZE_POLICY&quot; /&gt;&lt;/columnResizePolicy&gt;\n&lt;/TableView&gt;\n</code></pre>\n<p>Controller Code:</p>\n<pre><code>@FXML TableColumn &lt;Product, String&gt; t1ProductName;\n@FXML TableColumn &lt;Product, Double&gt; t1Price;\n@FXML TableColumn &lt;Product, Integer&gt; t1Quantity;\n@FXML TableColumn &lt;Product, String&gt; t2ProductName;\n@FXML TableColumn &lt;Product, Double&gt; t2Price;\n@FXML TableColumn &lt;Product, Integer&gt; t2Quantity;\n\nObservableList&lt;Product&gt; tableData;\n\nprivate void intializeTableColumns() {\n    \n    tableData = FXCollections.observableArrayList();\n    \n    t1ProductName.setCellValueFactory(new PropertyValueFactory&lt;Product, String&gt;(&quot;productName&quot;));\n    \n    t1Price.setCellValueFactory(new PropertyValueFactory&lt;Product, Double&gt;(&quot;price&quot;));\n\n    t1Quantity.setCellValueFactory(new PropertyValueFactory&lt;Product, Integer&gt;(&quot;quantity&quot;));\n\n    t2ProductName.setCellValueFactory(new PropertyValueFactory&lt;Product, String&gt;(&quot;productName&quot;));\n    \n    t2Price.setCellValueFactory(new PropertyValueFactory&lt;Product, Double&gt;(&quot;price&quot;));\n\n    t2Quantity.setCellValueFactory(new PropertyValueFactory&lt;Product, Integer&gt;(&quot;quantity&quot;));\n    \n\n}\n</code></pre>\n"}],"owner":{"account_id":15254576,"reputation":56,"user_id":11006806,"display_name":"Nacira"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1690467957,"creation_date":1690464060,"question_id":76780178,"body_markdown":"I have  two TableViews (tableA &amp; tableB) on the same screen (they have the same controller.java) \r\n\r\n    @FXML TableView &lt;Product&gt; tableA;\r\n    @FXML TableView &lt;Product&gt; tableB;\r\n\r\nand  I want to add the same data in both without repeating : \r\n\r\nProduct class model\r\n\r\nInitialize all tablecolums for both tables (I don&#39;t know if this works without initialization)\r\n\r\n    productName.setCellValueFactory(new PropertyValueFactory&lt;Product, String&gt;(&quot;productName&quot;));\r\n    \t\r\n    price.setCellValueFactory(new PropertyValueFactory&lt;Product, Double&gt;(&quot;price&quot;));\r\n   \r\n    /* ... */\r\nIs there a solution using IDs (tableA, tableB) to access the data???\r\n\r\nDo I have to give an ID for each TableColumn?\r\n\r\nController.java\r\n\r\n    @FXML TableView &lt;Product&gt; tableA;\r\n    @FXML TableView &lt;Product&gt; tableB;\r\n\t\r\n    @FXML TableColumn &lt;Product, String&gt; productName;\r\n    @FXML TableColumn &lt;Product, Double&gt; price;\r\n    @FXML TableColumn &lt;Product, Integer&gt; quantity;\r\n\r\n    ObservableList&lt;Product&gt; tableData;\r\n\r\n    private void intializeTableColumns() {\r\n\t\t\r\n\t\ttableData = FXCollections.observableArrayList();\r\n    \t\r\n    \tproductName.setCellValueFactory(new PropertyValueFactory&lt;Product, String&gt;(&quot;productName&quot;));\r\n    \t\r\n    \tprice.setCellValueFactory(new PropertyValueFactory&lt;Product, Double&gt;(&quot;price&quot;));\r\n    \r\n    \tquantity.setCellValueFactory(new PropertyValueFactory&lt;Product, Integer&gt;(&quot;quantity&quot;));\r\n    \t\r\n\r\n    }\r\n    private void insertInTableData() {\r\n\t\t\r\n\t\tProduct product = new Product();\r\n\t\t\r\n\t\t/* ...*/\r\n\t\t\r\n\t\ttableData.addAll(product);\r\n       \r\n        /*Add data in both tables */\r\n\r\n        tableA.setItems(tableData);\r\n        tableB.setItems(tableData);       \r\n\r\nfile.fxml\r\n\r\n     &lt;TableView fx:id=&quot;tableA&quot; prefHeight=&quot;200.0&quot; styleClass=&quot;table-2&quot;&gt;\r\n             &lt;columns&gt;\r\n                 &lt;TableColumn maxWidth=&quot;-Infinity&quot; minWidth=&quot;50.0&quot; prefWidth=&quot;50.0&quot; text=&quot;N&#176;&quot; /&gt;\r\n                 &lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;Product&quot; /&gt;\r\n                 &lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;Price&quot; /&gt;\r\n                 &lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;Quantity&quot; /&gt;\r\n             &lt;/columns&gt;\r\n             &lt;columnResizePolicy&gt;&lt;TableView fx:constant=&quot;CONSTRAINED_RESIZE_POLICY&quot; /&gt;&lt;/columnResizePolicy&gt;\r\n    &lt;/TableView&gt;\r\n    &lt;TableView fx:id=&quot;tableB&quot; prefHeight=&quot;200.0&quot; styleClass=&quot;table-2&quot;&gt;\r\n             &lt;columns&gt;\r\n                 &lt;TableColumn maxWidth=&quot;-Infinity&quot; minWidth=&quot;50.0&quot; prefWidth=&quot;50.0&quot; text=&quot;N&#176;&quot; /&gt;\r\n                 &lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;Product&quot; /&gt;\r\n                 &lt;TableColumn minWidth=&quot;-Infinity&quot; prefWidth=&quot;75.0&quot; text=&quot;Price&quot; /&gt;\r\n                 &lt;TableColumn minWidth=&quot;-Infinity&quot; prefWidth=&quot;75.0&quot; text=&quot;Quantity&quot; /&gt;\r\n             &lt;/columns&gt;\r\n             &lt;columnResizePolicy&gt;&lt;TableView fx:constant=&quot;CONSTRAINED_RESIZE_POLICY&quot; /&gt;&lt;/columnResizePolicy&gt;\r\n    &lt;/TableView&gt;","title":"How to load the same data in two different TableViews on single screen from the same class model (JavaFX)","body":"<p>I have  two TableViews (tableA &amp; tableB) on the same screen (they have the same controller.java)</p>\n<pre><code>@FXML TableView &lt;Product&gt; tableA;\n@FXML TableView &lt;Product&gt; tableB;\n</code></pre>\n<p>and  I want to add the same data in both without repeating :</p>\n<p>Product class model</p>\n<p>Initialize all tablecolums for both tables (I don't know if this works without initialization)</p>\n<pre><code>productName.setCellValueFactory(new PropertyValueFactory&lt;Product, String&gt;(&quot;productName&quot;));\n    \nprice.setCellValueFactory(new PropertyValueFactory&lt;Product, Double&gt;(&quot;price&quot;));\n\n/* ... */\n</code></pre>\n<p>Is there a solution using IDs (tableA, tableB) to access the data???</p>\n<p>Do I have to give an ID for each TableColumn?</p>\n<p>Controller.java</p>\n<pre><code>@FXML TableView &lt;Product&gt; tableA;\n@FXML TableView &lt;Product&gt; tableB;\n\n@FXML TableColumn &lt;Product, String&gt; productName;\n@FXML TableColumn &lt;Product, Double&gt; price;\n@FXML TableColumn &lt;Product, Integer&gt; quantity;\n\nObservableList&lt;Product&gt; tableData;\n\nprivate void intializeTableColumns() {\n    \n    tableData = FXCollections.observableArrayList();\n    \n    productName.setCellValueFactory(new PropertyValueFactory&lt;Product, String&gt;(&quot;productName&quot;));\n    \n    price.setCellValueFactory(new PropertyValueFactory&lt;Product, Double&gt;(&quot;price&quot;));\n\n    quantity.setCellValueFactory(new PropertyValueFactory&lt;Product, Integer&gt;(&quot;quantity&quot;));\n    \n\n}\nprivate void insertInTableData() {\n    \n    Product product = new Product();\n    \n    /* ...*/\n    \n    tableData.addAll(product);\n   \n    /*Add data in both tables */\n\n    tableA.setItems(tableData);\n    tableB.setItems(tableData);       \n</code></pre>\n<p>file.fxml</p>\n<pre><code> &lt;TableView fx:id=&quot;tableA&quot; prefHeight=&quot;200.0&quot; styleClass=&quot;table-2&quot;&gt;\n         &lt;columns&gt;\n             &lt;TableColumn maxWidth=&quot;-Infinity&quot; minWidth=&quot;50.0&quot; prefWidth=&quot;50.0&quot; text=&quot;N°&quot; /&gt;\n             &lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;Product&quot; /&gt;\n             &lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;Price&quot; /&gt;\n             &lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;Quantity&quot; /&gt;\n         &lt;/columns&gt;\n         &lt;columnResizePolicy&gt;&lt;TableView fx:constant=&quot;CONSTRAINED_RESIZE_POLICY&quot; /&gt;&lt;/columnResizePolicy&gt;\n&lt;/TableView&gt;\n&lt;TableView fx:id=&quot;tableB&quot; prefHeight=&quot;200.0&quot; styleClass=&quot;table-2&quot;&gt;\n         &lt;columns&gt;\n             &lt;TableColumn maxWidth=&quot;-Infinity&quot; minWidth=&quot;50.0&quot; prefWidth=&quot;50.0&quot; text=&quot;N°&quot; /&gt;\n             &lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;Product&quot; /&gt;\n             &lt;TableColumn minWidth=&quot;-Infinity&quot; prefWidth=&quot;75.0&quot; text=&quot;Price&quot; /&gt;\n             &lt;TableColumn minWidth=&quot;-Infinity&quot; prefWidth=&quot;75.0&quot; text=&quot;Quantity&quot; /&gt;\n         &lt;/columns&gt;\n         &lt;columnResizePolicy&gt;&lt;TableView fx:constant=&quot;CONSTRAINED_RESIZE_POLICY&quot; /&gt;&lt;/columnResizePolicy&gt;\n&lt;/TableView&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","maven"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1690461781,"post_id":76779842,"comment_id":135359142,"body_markdown":"Sounds like something is thoroughly broken. Try reinstalling the Maven plugin, or even Eclipse itself. Or better yet, upgrade to IntelliJ.","body":"Sounds like something is thoroughly broken. Try reinstalling the Maven plugin, or even Eclipse itself. Or better yet, upgrade to IntelliJ."},{"owner":{"account_id":10413799,"reputation":55,"user_id":7678492,"display_name":"Abulrahman Hejazi"},"score":0,"creation_date":1690467837,"post_id":76779842,"comment_id":135360719,"body_markdown":"thanks for your advice, it turns out eclipse was the problem, I don&#39;t know why but when I used intelliJ it worked fine.","body":"thanks for your advice, it turns out eclipse was the problem, I don&#39;t know why but when I used intelliJ it worked fine."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1690473273,"post_id":76779842,"comment_id":135362016,"body_markdown":"Delete all project from the eclipse workspace an reimport the whole project....","body":"Delete all project from the eclipse workspace an reimport the whole project...."}],"answers":[{"tags":[],"owner":{"account_id":10413799,"reputation":55,"user_id":7678492,"display_name":"Abulrahman Hejazi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690467938,"creation_date":1690467938,"answer_id":76780715,"question_id":76779842,"body_markdown":"I re-installed everything the problem was still there, however changing the IDE to intelliJ solved it.\r\n\r\nThanks to Jorn for the idea.\r\n","title":"a problem this my maven project &quot;An internal error occurred during: &quot;Updating Maven Project&quot;. &quot;","body":"<p>I re-installed everything the problem was still there, however changing the IDE to intelliJ solved it.</p>\n<p>Thanks to Jorn for the idea.</p>\n"}],"owner":{"account_id":10413799,"reputation":55,"user_id":7678492,"display_name":"Abulrahman Hejazi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1690467938,"creation_date":1690461704,"question_id":76779842,"body_markdown":"I can clean install and clean package, as well as run the project but for some reason this error is displayed with my maven spring-boot project, can anyone help?\r\nit makes coding so much difficult as it doesn&#39;t auto complete and give fake errors\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    An internal error occurred during: &quot;Updating Maven Project&quot;.\r\n    &#39;org.apache.maven.project.MavenProject org.eclipse.m2e.core.project.configurator.ProjectConfigurationRequest.getMavenProject()&#39;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iPp0e.png","title":"a problem this my maven project &quot;An internal error occurred during: &quot;Updating Maven Project&quot;. &quot;","body":"<p>I can clean install and clean package, as well as run the project but for some reason this error is displayed with my maven spring-boot project, can anyone help?\nit makes coding so much difficult as it doesn't auto complete and give fake errors</p>\n<p><a href=\"https://i.stack.imgur.com/iPp0e.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iPp0e.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>An internal error occurred during: &quot;Updating Maven Project&quot;.\n'org.apache.maven.project.MavenProject org.eclipse.m2e.core.project.configurator.ProjectConfigurationRequest.getMavenProject()'\n</code></pre>\n"},{"tags":["java","reflection","graalvm","graalvm-native-image"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1690108168,"post_id":76747716,"comment_id":135304540,"body_markdown":"When we register something with `query...`, it is only registered for querying, not for invocation (see [the corresponding documentation at `graalvm.org`](https://www.graalvm.org/22.2/reference-manual/native-image/metadata/#specifying-reflection-metadata-in-json)). I think that this could be the issue. You could try replacing `queryAllPublicConstructors` with `allPublicConstructors`.","body":"When we register something with <code>query...</code>, it is only registered for querying, not for invocation (see <a href=\"https://www.graalvm.org/22.2/reference-manual/native-image/metadata/#specifying-reflection-metadata-in-json\" rel=\"nofollow noreferrer\">the corresponding documentation at <code>graalvm.org</code></a>). I think that this could be the issue. You could try replacing <code>queryAllPublicConstructors</code> with <code>allPublicConstructors</code>."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1690108355,"post_id":76747716,"comment_id":135304562,"body_markdown":"Please notice that there is also the possibility to generate the `reflection-config.json` through the [tracing agent (`graalvm.org`)](https://www.graalvm.org/22.0/reference-manual/native-image/Agent/). For this to work, all (relevant) parts of the code must be triggered.","body":"Please notice that there is also the possibility to generate the <code>reflection-config.json</code> through the <a href=\"https://www.graalvm.org/22.0/reference-manual/native-image/Agent/\" rel=\"nofollow noreferrer\">tracing agent (<code>graalvm.org</code>)</a>. For this to work, all (relevant) parts of the code must be triggered."},{"owner":{"account_id":29073551,"reputation":21,"user_id":22271279,"display_name":"skylar"},"score":0,"creation_date":1690114159,"post_id":76747716,"comment_id":135305164,"body_markdown":"@Turing85: That was really helpful. Thank you. That command generated me me 6 configuration files. However, I don&#39;t know which parameter I have to use for the &quot;predefined-classes-config.json&quot; and &quot;proxy-config.json&quot;. So far I couldn&#39;t find a list with all valid -H parameter options. I also noticed, that the &quot;reflect-config.json&quot; now contains entries for methods that doesn&#39;t even exist. I assume, these had been attempts to access methods by reflection if present. Is there a way to filter those non-existing method references, to also reduce the number of warnings from the &quot;native-image&quot; command?","body":"@Turing85: That was really helpful. Thank you. That command generated me me 6 configuration files. However, I don&#39;t know which parameter I have to use for the &quot;predefined-classes-config.json&quot; and &quot;proxy-config.json&quot;. So far I couldn&#39;t find a list with all valid -H parameter options. I also noticed, that the &quot;reflect-config.json&quot; now contains entries for methods that doesn&#39;t even exist. I assume, these had been attempts to access methods by reflection if present. Is there a way to filter those non-existing method references, to also reduce the number of warnings from the &quot;native-image&quot; command?"},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1690125903,"post_id":76747716,"comment_id":135306635,"body_markdown":"You could try `-H:ReflectionConfigurationFiles=reflect-config.json` or `-H:ConfigurationFileDirectories=directory-generated-with-agent`. If you want to see options like that, try running `native-image --expert-options`. Also, note that as far as I know, log4j doesn&#39;t work that well with native-image. You [mght need to use `log4j-over-slf4j](https://github.com/micronaut-projects/micronaut-core/issues/6041#issuecomment-940810657)`","body":"You could try <code>-H:ReflectionConfigurationFiles=reflect-config.json</code> or <code>-H:ConfigurationFileDirectories=directory-generated-with-age&zwnj;&#8203;nt</code>. If you want to see options like that, try running <code>native-image --expert-options</code>. Also, note that as far as I know, log4j doesn&#39;t work that well with native-image. You [mght need to use <code>log4j-over-slf4j](https:&#47;&#47;github.com&#47;micronaut-projects&#47;micr&zwnj;&#8203;onaut-core&#47;issues&#47;60&zwnj;&#8203;41#issuecomment-9408&zwnj;&#8203;10657)</code>"},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1690126448,"post_id":76747716,"comment_id":135306724,"body_markdown":"See also https://issues.apache.org/jira/browse/LOG4J2-2649 and https://issues.apache.org/jira/browse/LOG4J2-2604","body":"See also <a href=\"https://issues.apache.org/jira/browse/LOG4J2-2649\" rel=\"nofollow noreferrer\">issues.apache.org/jira/browse/LOG4J2-2649</a> and <a href=\"https://issues.apache.org/jira/browse/LOG4J2-2604\" rel=\"nofollow noreferrer\">issues.apache.org/jira/browse/LOG4J2-2604</a>"}],"answers":[{"tags":[],"owner":{"account_id":1285407,"reputation":43,"user_id":6805761,"display_name":"sanjeev k"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690467424,"creation_date":1690166432,"answer_id":76751098,"question_id":76747716,"body_markdown":" I faced a similar issue today (spring-boot-3.1.2)  and I could fix it by doing the following:\r\n 1.  `mvn -Pnative native:compile`\r\n 2. `java -Dspring.aot.enabled=true -agentlib:native-image-agent=config-output-dir=./config -jar target/&lt;your-app.jar&gt;` (this will create a config folder in the root dir of your app)\r\n 3. try testing your application with all the possible paths covered so that reflection-config.json has all the information regarding the reflection calls at run time, once done use **Ctrl+C** to stop the app\r\n 4. create a folder **META-INF/native-image** in **src/main/resources**\r\n 5. copy all the contents here(META-INF/native-image) from config folder created in step 2  [![enter image description here][1]][1]\r\n 6. again run `mvn -Pnative native:compile` OR `mvn -Pnative spring-boot:build-image` (if you need docker image)\r\n 7. finally run `target/your-app-name` (or `docker run...`)\r\n\r\nI hope this helps, however, I am a newbie as far as graalVM and spring boot native apps/images are concerned, trying to learn.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/guAp0.png","title":"How to register method for runtime reflection with GraalVM?","body":"<p>I faced a similar issue today (spring-boot-3.1.2)  and I could fix it by doing the following:</p>\n<ol>\n<li><code>mvn -Pnative native:compile</code></li>\n<li><code>java -Dspring.aot.enabled=true -agentlib:native-image-agent=config-output-dir=./config -jar target/&lt;your-app.jar&gt;</code> (this will create a config folder in the root dir of your app)</li>\n<li>try testing your application with all the possible paths covered so that reflection-config.json has all the information regarding the reflection calls at run time, once done use <strong>Ctrl+C</strong> to stop the app</li>\n<li>create a folder <strong>META-INF/native-image</strong> in <strong>src/main/resources</strong></li>\n<li>copy all the contents here(META-INF/native-image) from config folder created in step 2  <a href=\"https://i.stack.imgur.com/guAp0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/guAp0.png\" alt=\"enter image description here\" /></a></li>\n<li>again run <code>mvn -Pnative native:compile</code> OR <code>mvn -Pnative spring-boot:build-image</code> (if you need docker image)</li>\n<li>finally run <code>target/your-app-name</code> (or <code>docker run...</code>)</li>\n</ol>\n<p>I hope this helps, however, I am a newbie as far as graalVM and spring boot native apps/images are concerned, trying to learn.</p>\n"}],"owner":{"account_id":29073551,"reputation":21,"user_id":22271279,"display_name":"skylar"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":815,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1690467424,"creation_date":1690107348,"question_id":76747716,"body_markdown":"I am trying to get an existing Java application running with GraalVM. Now I have encountered an issue i don&#39;t know how to solve. I was able to successfully create a native image. However I had to create a reflection configuration like this to overcome the &quot;Warning: Reflection method java.lang.Class.getMethod invoked&quot; message during the compile phase:\r\n\r\n```\r\n[\r\n  {\r\n    &quot;name&quot;: &quot;java.lang.Class&quot;,\r\n    &quot;queryAllDeclaredConstructors&quot;: true,\r\n    &quot;queryAllPublicConstructors&quot;: true,\r\n    &quot;queryAllDeclaredMethods&quot;: true,\r\n    &quot;queryAllPublicMethods&quot;: true,\r\n    &quot;allDeclaredClasses&quot;: true,\r\n    &quot;allPublicClasses&quot;: true\r\n  },\r\n  {\r\n    &quot;name&quot;: &quot;org.apache.logging.log4j.message.DefaultFlowMessageFactory&quot;,\r\n    &quot;queryAllDeclaredConstructors&quot;: true,\r\n    &quot;queryAllPublicConstructors&quot;: true,\r\n    &quot;queryAllDeclaredMethods&quot;: true,\r\n    &quot;queryAllPublicMethods&quot;: true,\r\n    &quot;allDeclaredClasses&quot;: true,\r\n    &quot;allPublicClasses&quot;: true\r\n  }\r\n]\r\n```\r\n\r\nI&#39;ve added the second entry, because my native image was throwing a method-not-found error for `org.apache.logging.log4j.message.DefaultFlowMessageFactory.&lt;init&gt;` \r\n\r\nWhen I run my native image now, I get the following error:\r\n\r\n```\r\nException in thread &quot;main&quot; org.graalvm.nativeimage.MissingReflectionRegistrationError: The program tried to reflectively invoke method public org.apache.logging.log4j.message.DefaultFlowMessageFactory() without it being registered for runtime reflection. Add it to the reflection metadata to solve this problem. See https://www.graalvm.org/latest/reference-manual/native-image/metadata/#reflection for help.\r\n\tat org.graalvm.nativeimage.builder/com.oracle.svm.core.reflect.MissingReflectionRegistrationUtils.forQueriedOnlyExecutable(MissingReflectionRegistrationUtils.java:97)\r\n\tat java.base@17.0.8/java.lang.reflect.Constructor.acquireConstructorAccessor(Constructor.java:74)\r\n\tat java.base@17.0.8/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:496)\r\n\tat java.base@17.0.8/java.lang.reflect.ReflectAccess.newInstance(ReflectAccess.java:128)\r\n\tat java.base@17.0.8/jdk.internal.reflect.ReflectionFactory.newInstance(ReflectionFactory.java:347)\r\n\tat java.base@17.0.8/java.lang.Class.newInstance(DynamicHub.java:645)\r\n\tat org.apache.logging.log4j.spi.AbstractLogger.createDefaultFlowMessageFactory(AbstractLogger.java:240)\r\n\tat org.apache.logging.log4j.spi.AbstractLogger.&lt;init&gt;(AbstractLogger.java:141)\r\n\tat org.apache.logging.log4j.status.StatusLogger.&lt;init&gt;(StatusLogger.java:141)\r\n\tat org.apache.logging.log4j.status.StatusLogger.&lt;clinit&gt;(StatusLogger.java:91)\r\n\tat org.apache.logging.slf4j.Log4jMarkerFactory.&lt;clinit&gt;(Log4jMarkerFactory.java:36)\r\n\tat org.apache.logging.slf4j.SLF4JServiceProvider.initialize(SLF4JServiceProvider.java:53)\r\n\tat org.slf4j.LoggerFactory.bind(LoggerFactory.java:183)\r\n\tat org.slf4j.LoggerFactory.performInitialization(LoggerFactory.java:170)\r\n\tat org.slf4j.LoggerFactory.getProvider(LoggerFactory.java:455)\r\n\tat org.slf4j.LoggerFactory.getILoggerFactory(LoggerFactory.java:441)\r\n\tat org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:390)\r\n\tat org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:416)\r\n\tat app.Main.&lt;clinit&gt;(Main.java:12)\r\n```\r\n\r\nThe error message implies that I might be able to solve this problem my registering this method for runtime reflection.\r\n\r\nOK, But how? I couldn&#39;t find anything helpful in the documentation.\r\n\r\nAny ideas? Are there any examples I might have missed?","title":"How to register method for runtime reflection with GraalVM?","body":"<p>I am trying to get an existing Java application running with GraalVM. Now I have encountered an issue i don't know how to solve. I was able to successfully create a native image. However I had to create a reflection configuration like this to overcome the &quot;Warning: Reflection method java.lang.Class.getMethod invoked&quot; message during the compile phase:</p>\n<pre><code>[\n  {\n    &quot;name&quot;: &quot;java.lang.Class&quot;,\n    &quot;queryAllDeclaredConstructors&quot;: true,\n    &quot;queryAllPublicConstructors&quot;: true,\n    &quot;queryAllDeclaredMethods&quot;: true,\n    &quot;queryAllPublicMethods&quot;: true,\n    &quot;allDeclaredClasses&quot;: true,\n    &quot;allPublicClasses&quot;: true\n  },\n  {\n    &quot;name&quot;: &quot;org.apache.logging.log4j.message.DefaultFlowMessageFactory&quot;,\n    &quot;queryAllDeclaredConstructors&quot;: true,\n    &quot;queryAllPublicConstructors&quot;: true,\n    &quot;queryAllDeclaredMethods&quot;: true,\n    &quot;queryAllPublicMethods&quot;: true,\n    &quot;allDeclaredClasses&quot;: true,\n    &quot;allPublicClasses&quot;: true\n  }\n]\n</code></pre>\n<p>I've added the second entry, because my native image was throwing a method-not-found error for <code>org.apache.logging.log4j.message.DefaultFlowMessageFactory.&lt;init&gt;</code></p>\n<p>When I run my native image now, I get the following error:</p>\n<pre><code>Exception in thread &quot;main&quot; org.graalvm.nativeimage.MissingReflectionRegistrationError: The program tried to reflectively invoke method public org.apache.logging.log4j.message.DefaultFlowMessageFactory() without it being registered for runtime reflection. Add it to the reflection metadata to solve this problem. See https://www.graalvm.org/latest/reference-manual/native-image/metadata/#reflection for help.\n    at org.graalvm.nativeimage.builder/com.oracle.svm.core.reflect.MissingReflectionRegistrationUtils.forQueriedOnlyExecutable(MissingReflectionRegistrationUtils.java:97)\n    at java.base@17.0.8/java.lang.reflect.Constructor.acquireConstructorAccessor(Constructor.java:74)\n    at java.base@17.0.8/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:496)\n    at java.base@17.0.8/java.lang.reflect.ReflectAccess.newInstance(ReflectAccess.java:128)\n    at java.base@17.0.8/jdk.internal.reflect.ReflectionFactory.newInstance(ReflectionFactory.java:347)\n    at java.base@17.0.8/java.lang.Class.newInstance(DynamicHub.java:645)\n    at org.apache.logging.log4j.spi.AbstractLogger.createDefaultFlowMessageFactory(AbstractLogger.java:240)\n    at org.apache.logging.log4j.spi.AbstractLogger.&lt;init&gt;(AbstractLogger.java:141)\n    at org.apache.logging.log4j.status.StatusLogger.&lt;init&gt;(StatusLogger.java:141)\n    at org.apache.logging.log4j.status.StatusLogger.&lt;clinit&gt;(StatusLogger.java:91)\n    at org.apache.logging.slf4j.Log4jMarkerFactory.&lt;clinit&gt;(Log4jMarkerFactory.java:36)\n    at org.apache.logging.slf4j.SLF4JServiceProvider.initialize(SLF4JServiceProvider.java:53)\n    at org.slf4j.LoggerFactory.bind(LoggerFactory.java:183)\n    at org.slf4j.LoggerFactory.performInitialization(LoggerFactory.java:170)\n    at org.slf4j.LoggerFactory.getProvider(LoggerFactory.java:455)\n    at org.slf4j.LoggerFactory.getILoggerFactory(LoggerFactory.java:441)\n    at org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:390)\n    at org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:416)\n    at app.Main.&lt;clinit&gt;(Main.java:12)\n</code></pre>\n<p>The error message implies that I might be able to solve this problem my registering this method for runtime reflection.</p>\n<p>OK, But how? I couldn't find anything helpful in the documentation.</p>\n<p>Any ideas? Are there any examples I might have missed?</p>\n"},{"tags":["java","spring-boot","hibernate","spatial"],"comments":[{"owner":{"account_id":13517191,"reputation":21,"user_id":9751431,"display_name":"noob123"},"score":0,"creation_date":1682496016,"post_id":76108427,"comment_id":134223455,"body_markdown":"Dependency used -&gt; \n&lt;dependency&gt;\n\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n\t\t\t&lt;artifactId&gt;hibernate-spatial&lt;/artifactId&gt;\n\t\t\t&lt;version&gt;5.6.2.Final&lt;/version&gt;\n\t\t&lt;/dependency&gt;","body":"Dependency used -&gt;  &lt;dependency&gt; \t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt; \t\t\t&lt;artifactId&gt;hibernate-spatial&lt;/artifactId&gt; \t\t\t&lt;version&gt;5.6.2.Final&lt;/version&gt; \t\t&lt;/dependency&gt;"},{"owner":{"account_id":6128339,"reputation":4087,"user_id":4779472,"accept_rate":89,"display_name":"Rohit Gupta"},"score":0,"creation_date":1682595381,"post_id":76108427,"comment_id":134242388,"body_markdown":"Please edit your question to add more details.  I tried formatting it but I am not sure if the slashes you added were to escape the site or are part of your query.  Please edit to fix.","body":"Please edit your question to add more details.  I tried formatting it but I am not sure if the slashes you added were to escape the site or are part of your query.  Please edit to fix."}],"answers":[{"tags":[],"owner":{"account_id":1907369,"reputation":442,"user_id":1721946,"display_name":"Lunf"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689167407,"creation_date":1689167407,"answer_id":76670958,"question_id":76108427,"body_markdown":"I uses myBatis and the native query as following\r\n\r\n    @Select(&quot;SELECT * FROM vehicle WHERE public.ST_DWithin(last_location::public.geography, public.ST_SetSRID(public.ST_MakePoint(#{longitude}::float, #{latitude}::float), 4326)::public.geography, #{rangeInMeter}) LIMIT #{limit}&quot;)\r\n    List\\&lt;Object\\&gt; findVehiclesInRangeFromLatLon(@Param(&quot;longitude&quot;) double longitude, @Param(&quot;latitude&quot;) double latitude, @Param(&quot;rangeInMeter&quot;) int rangeInMeter, @Param(&quot;limit&quot;) int limit);\r\n\r\n\r\nIn mybatis, using `#{param}` to pass the parameter to the query.\r\n\r\nYou can check on this answer for more https://stackoverflow.com/a/56888200/1721946","title":"st_makepoint does not exist spring boot","body":"<p>I uses myBatis and the native query as following</p>\n<pre><code>@Select(&quot;SELECT * FROM vehicle WHERE public.ST_DWithin(last_location::public.geography, public.ST_SetSRID(public.ST_MakePoint(#{longitude}::float, #{latitude}::float), 4326)::public.geography, #{rangeInMeter}) LIMIT #{limit}&quot;)\nList\\&lt;Object\\&gt; findVehiclesInRangeFromLatLon(@Param(&quot;longitude&quot;) double longitude, @Param(&quot;latitude&quot;) double latitude, @Param(&quot;rangeInMeter&quot;) int rangeInMeter, @Param(&quot;limit&quot;) int limit);\n</code></pre>\n<p>In mybatis, using <code>#{param}</code> to pass the parameter to the query.</p>\n<p>You can check on this answer for more <a href=\"https://stackoverflow.com/a/56888200/1721946\">https://stackoverflow.com/a/56888200/1721946</a></p>\n"}],"owner":{"account_id":13517191,"reputation":21,"user_id":9751431,"display_name":"noob123"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1690467234,"creation_date":1682495984,"question_id":76108427,"body_markdown":"I am trying to query spatial data using the below native query. and I am getting below exception in doing so.\r\n```\r\n@Query(nativeQuery = true, value = &quot;SELECT \\* FROM locations WHERE ST_Contains(polygon, ST_Transform(ST_SetSRID(ST_MakePoint(:x, :y), 4326), 3785))&quot;)\r\nList\\&lt;Location\\&gt; test(@Param(&quot;x&quot;) double x,@Param(&quot;y&quot;) double y);\r\n```\r\nException I am getting \r\n&gt;ERROR: function st_makepoint(double precision, double precision) does not exist\r\nHint: No function matches the given name and argument types. You might need to add explicit type casts.\r\n\r\ntried adding the below configs \r\n&gt;hibernate-spatial dependency\r\n&gt;\r\n&gt;properties.put(&quot;hibernate.dialect&quot;, &quot;org.hibernate.spatial.dialect.postgis.PostgisPG95Dialect&quot;);\\`\r\n\r\nNote:\r\nIf I execute same query directly on db , its working","title":"st_makepoint does not exist spring boot","body":"<p>I am trying to query spatial data using the below native query. and I am getting below exception in doing so.</p>\n<pre><code>@Query(nativeQuery = true, value = &quot;SELECT \\* FROM locations WHERE ST_Contains(polygon, ST_Transform(ST_SetSRID(ST_MakePoint(:x, :y), 4326), 3785))&quot;)\nList\\&lt;Location\\&gt; test(@Param(&quot;x&quot;) double x,@Param(&quot;y&quot;) double y);\n</code></pre>\n<p>Exception I am getting</p>\n<blockquote>\n<p>ERROR: function st_makepoint(double precision, double precision) does not exist\nHint: No function matches the given name and argument types. You might need to add explicit type casts.</p>\n</blockquote>\n<p>tried adding the below configs</p>\n<blockquote>\n<p>hibernate-spatial dependency</p>\n<p>properties.put(&quot;hibernate.dialect&quot;, &quot;org.hibernate.spatial.dialect.postgis.PostgisPG95Dialect&quot;);`</p>\n</blockquote>\n<p>Note:\nIf I execute same query directly on db , its working</p>\n"},{"tags":["java","android","mongodb","spring-boot","rest"],"comments":[{"owner":{"account_id":1122347,"reputation":35187,"user_id":1110423,"accept_rate":70,"display_name":"Alex Blex"},"score":0,"creation_date":1690472907,"post_id":76780598,"comment_id":135361938,"body_markdown":"Is it the only document in the collection? The timestamp part of the object IDs &quot;64a6d4ae&quot; is the same, it&#39;s only the random part that differs. It might be just the case that you have several documents created at 2023-07-06T14:50:22","body":"Is it the only document in the collection? The timestamp part of the object IDs &quot;64a6d4ae&quot; is the same, it&#39;s only the random part that differs. It might be just the case that you have several documents created at 2023-07-06T14:50:22"},{"owner":{"account_id":22937722,"reputation":25,"user_id":17070934,"display_name":"ABAB"},"score":0,"creation_date":1690481215,"post_id":76780598,"comment_id":135363599,"body_markdown":"No, I do have several other documents and none of them match the output I get. Also, in Android I made sure to output  the first document.  I specifically checked the first entry in the code I sent \n System.out.println(&quot;get id from the original post &quot;+ posts.get(0).getIdWrapper());. I believe the serialization of the document in Android might be the issue. Because I output the correct id  in the rest API server but when I try to a GET request in Android everything but the Id matches perfectly.","body":"No, I do have several other documents and none of them match the output I get. Also, in Android I made sure to output  the first document.  I specifically checked the first entry in the code I sent   System.out.println(&quot;get id from the original post &quot;+ posts.get(0).getIdWrapper());. I believe the serialization of the document in Android might be the issue. Because I output the correct id  in the rest API server but when I try to a GET request in Android everything but the Id matches perfectly."}],"owner":{"account_id":22937722,"reputation":25,"user_id":17070934,"display_name":"ABAB"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690467049,"creation_date":1690467049,"question_id":76780598,"body_markdown":"Im encountering an issue with converting the timestamp and date of the objectId received from my REST server to a matching ObjectId hexadecimal value in my Android app. The server sends an object of timestamp and date as part of the response, and I need to generate an ObjectId that corresponds to the one stored in my MongoDB documents.\r\n\r\nthis is the first document in my Mongodb with its objectId:\r\n```\r\n{\r\n  &quot;_id&quot;: {\r\n    &quot;$oid&quot;: &quot;64a6d4ae3fe947597ff1fe23&quot;\r\n  },\r\n  &quot;content&quot;: &quot;my first post &quot;,\r\n  &quot;createdAt&quot;: {\r\n    &quot;$date&quot;: &quot;2023-07-06T14:50:22.778Z&quot;\r\n  },\r\n  &quot;hashtags&quot;: [],\r\n  &quot;user&quot;: {\r\n    &quot;$ref&quot;: &quot;app_users&quot;,\r\n    &quot;$id&quot;: {\r\n      &quot;$oid&quot;: &quot;648da920b40b7222a0af8cb6&quot;\r\n    }\r\n  },\r\n  &quot;_class&quot;: &quot;dev.social.media.security.model.Post&quot;\r\n}\r\n\r\n```\r\n [![in my spring boot rest API i get the correct data shown here in postman][1]][1]\r\n\r\n\r\n\r\nhere is where the issue turns up. in my android console i try to get the objectId of the first document and the results I get in the console doesn&#39;t match the objectId in the server and MongoDB\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\nthe problem doesn&#39;t seem to be the way I am requesting data from the server in Android because i am fetching the correct data from everything other than the objectID which doesn&#39;t match the one in Mongodb. \r\n\r\n```\r\n        // Make the API call to fetch the list of posts\r\n        PostService postService = retrofit.create(PostService.class);\r\n        Call&lt;List&lt;Post&gt;&gt; call = postService.getAllPosts(authToken); // Replace page and size with your desired values\r\n        call.enqueue(new Callback&lt;List&lt;Post&gt;&gt;() {\r\n            @Override\r\n            public void onResponse(@NonNull Call&lt;List&lt;Post&gt;&gt; call, @NonNull Response&lt;List&lt;Post&gt;&gt; response) {\r\n                System.out.println(&quot;we should get the postts here &quot; + response.body());\r\n                System.out.println(&quot;header check &quot; + response.headers());\r\n                System.out.println(&quot;Status code from server&quot; + response.isSuccessful());\r\n                if (response.isSuccessful() &amp;&amp; response.body() != null) {\r\n\r\n                    //Gson gson = new Gson();\r\n                    // List&lt;Post&gt; responsePage = Collections.singletonList(gson.fromJson(jsonResponse, Post.class));\r\n                    // Type postListType = new TypeToken&lt;List&lt;Post&gt;&gt;() {}.getType();\r\n                    Gson gson = new Gson();\r\n                    List&lt;Post&gt; posts = response.body();\r\n                    String jsonResponse = gson.toJson(posts);\r\n                    System.out.println(&quot;Server response original: &quot; + new Gson().toJson(posts));\r\n                    // Set the correct post ID for each post object\r\n  /*                  for (Post post : posts) {\r\n                        // Assuming the server response contains a field &quot;postId&quot; that holds the post ID\r\n                        ObjectId postId = post.getIdWrapper();// Replace &quot;getPostId()&quot; with the correct method to get the post ID from the server response\r\n                        post.setIdWrapper(postId); // Assuming &quot;setId()&quot; is the method to set the post ID in your Post class\r\n                    }\r\n*/\r\n\r\n                    // Log the response body\r\n                    System.out.println(&quot;Response body: &quot; + jsonResponse);\r\n                    if (posts != null) {\r\n                        // int totalPages = pageResponse.getTotalPage;\r\n                        // long totalElements = pageResponse.getTotalElements();\r\n\r\n\r\n                        //System.out.println(&quot;size: &quot; + posts.size());\r\n                        //  System.out.println(&quot;total pages: &quot; );\r\n                        //System.out.println(&quot;total elements: &quot;);\r\n                        System.out.println(&quot;get id from the original post &quot;+ posts.get(0).getIdWrapper());\r\n                        System.out.println(&quot;get content from original post &quot; + posts.get(0).getContent());\r\n\r\n                        postAdapter.setPostList(posts);\r\n\r\n\r\n                    } else {\r\n                        // Handle the case when the &#39;posts&#39; list is null\r\n                        System.out.println(&quot;Received null posts list&quot;);\r\n                    }\r\n                } else {\r\n                    // Handle error\r\n                    // Handle the login error here\r\n                    System.out.println(&quot;Something went wrong displaying the post&quot;);\r\n                    Toast.makeText(MainActivity.this, &quot;Login Error&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n                }\r\n            }\r\n```\r\n\r\n\r\nthe model class post in android \r\n```\r\n\r\npublic class Post  {\r\n\r\n\r\n    @SerializedName(&quot;_id&quot;)\r\n    private ObjectId idWrapper;\r\n\r\n    @SerializedName(&quot;content&quot;)\r\n    private String content;\r\n\r\n    @SerializedName(&quot;createdAt&quot;)\r\n    private String createdAt;\r\n\r\n    @SerializedName(&quot;updatedAt&quot;)\r\n    private String updatedAt;\r\n\r\n    @SerializedName(&quot;hashtags&quot;)\r\n    private List&lt;String&gt; hashtags;\r\n    @SerializedName(&quot;comments&quot;)\r\n    private List&lt;Comment&gt; comments;\r\n\r\n    @SerializedName(&quot;likes&quot;)\r\n    private List&lt;Like&gt; likes;\r\n\r\n    @SerializedName(&quot;user&quot;)\r\n    private AppUser user;\r\n\r\n\r\n\r\n\r\n    //empty constructor\r\n    public Post() {}\r\n\r\n    public Post( ObjectId idWrapper, String content, String createdAt, String updatedAt, List&lt;String&gt; hashtags, List&lt;Comment&gt; comments, List&lt;Like&gt; likes, AppUser user) {\r\n       this.idWrapper = idWrapper;\r\n        this.content = content;\r\n        this.createdAt = createdAt;\r\n        this.updatedAt = updatedAt;\r\n        this.hashtags = hashtags;\r\n        this.comments = comments;\r\n        this.likes = likes;\r\n        this.user = user;\r\n    }\r\n\r\n    public ObjectId getIdWrapper() {\r\n        return idWrapper;\r\n    }\r\n\r\n    public void setIdWrapper(ObjectId idWrapper) {\r\n        this.idWrapper = idWrapper;\r\n    }\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/R9BHL.png","title":"Mismatch in ObjectId Conversion between REST Server and Android App","body":"<p>Im encountering an issue with converting the timestamp and date of the objectId received from my REST server to a matching ObjectId hexadecimal value in my Android app. The server sends an object of timestamp and date as part of the response, and I need to generate an ObjectId that corresponds to the one stored in my MongoDB documents.</p>\n<p>this is the first document in my Mongodb with its objectId:</p>\n<pre><code>{\n  &quot;_id&quot;: {\n    &quot;$oid&quot;: &quot;64a6d4ae3fe947597ff1fe23&quot;\n  },\n  &quot;content&quot;: &quot;my first post &quot;,\n  &quot;createdAt&quot;: {\n    &quot;$date&quot;: &quot;2023-07-06T14:50:22.778Z&quot;\n  },\n  &quot;hashtags&quot;: [],\n  &quot;user&quot;: {\n    &quot;$ref&quot;: &quot;app_users&quot;,\n    &quot;$id&quot;: {\n      &quot;$oid&quot;: &quot;648da920b40b7222a0af8cb6&quot;\n    }\n  },\n  &quot;_class&quot;: &quot;dev.social.media.security.model.Post&quot;\n}\n\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/R9BHL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/R9BHL.png\" alt=\"in my spring boot rest API i get the correct data shown here in postman\" /></a></p>\n<p>here is where the issue turns up. in my android console i try to get the objectId of the first document and the results I get in the console doesn't match the objectId in the server and MongoDB</p>\n<p><a href=\"https://i.stack.imgur.com/R9BHL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/R9BHL.png\" alt=\"enter image description here\" /></a></p>\n<p>the problem doesn't seem to be the way I am requesting data from the server in Android because i am fetching the correct data from everything other than the objectID which doesn't match the one in Mongodb.</p>\n<pre><code>        // Make the API call to fetch the list of posts\n        PostService postService = retrofit.create(PostService.class);\n        Call&lt;List&lt;Post&gt;&gt; call = postService.getAllPosts(authToken); // Replace page and size with your desired values\n        call.enqueue(new Callback&lt;List&lt;Post&gt;&gt;() {\n            @Override\n            public void onResponse(@NonNull Call&lt;List&lt;Post&gt;&gt; call, @NonNull Response&lt;List&lt;Post&gt;&gt; response) {\n                System.out.println(&quot;we should get the postts here &quot; + response.body());\n                System.out.println(&quot;header check &quot; + response.headers());\n                System.out.println(&quot;Status code from server&quot; + response.isSuccessful());\n                if (response.isSuccessful() &amp;&amp; response.body() != null) {\n\n                    //Gson gson = new Gson();\n                    // List&lt;Post&gt; responsePage = Collections.singletonList(gson.fromJson(jsonResponse, Post.class));\n                    // Type postListType = new TypeToken&lt;List&lt;Post&gt;&gt;() {}.getType();\n                    Gson gson = new Gson();\n                    List&lt;Post&gt; posts = response.body();\n                    String jsonResponse = gson.toJson(posts);\n                    System.out.println(&quot;Server response original: &quot; + new Gson().toJson(posts));\n                    // Set the correct post ID for each post object\n  /*                  for (Post post : posts) {\n                        // Assuming the server response contains a field &quot;postId&quot; that holds the post ID\n                        ObjectId postId = post.getIdWrapper();// Replace &quot;getPostId()&quot; with the correct method to get the post ID from the server response\n                        post.setIdWrapper(postId); // Assuming &quot;setId()&quot; is the method to set the post ID in your Post class\n                    }\n*/\n\n                    // Log the response body\n                    System.out.println(&quot;Response body: &quot; + jsonResponse);\n                    if (posts != null) {\n                        // int totalPages = pageResponse.getTotalPage;\n                        // long totalElements = pageResponse.getTotalElements();\n\n\n                        //System.out.println(&quot;size: &quot; + posts.size());\n                        //  System.out.println(&quot;total pages: &quot; );\n                        //System.out.println(&quot;total elements: &quot;);\n                        System.out.println(&quot;get id from the original post &quot;+ posts.get(0).getIdWrapper());\n                        System.out.println(&quot;get content from original post &quot; + posts.get(0).getContent());\n\n                        postAdapter.setPostList(posts);\n\n\n                    } else {\n                        // Handle the case when the 'posts' list is null\n                        System.out.println(&quot;Received null posts list&quot;);\n                    }\n                } else {\n                    // Handle error\n                    // Handle the login error here\n                    System.out.println(&quot;Something went wrong displaying the post&quot;);\n                    Toast.makeText(MainActivity.this, &quot;Login Error&quot;, Toast.LENGTH_SHORT).show();\n\n                }\n            }\n</code></pre>\n<p>the model class post in android</p>\n<pre><code>\npublic class Post  {\n\n\n    @SerializedName(&quot;_id&quot;)\n    private ObjectId idWrapper;\n\n    @SerializedName(&quot;content&quot;)\n    private String content;\n\n    @SerializedName(&quot;createdAt&quot;)\n    private String createdAt;\n\n    @SerializedName(&quot;updatedAt&quot;)\n    private String updatedAt;\n\n    @SerializedName(&quot;hashtags&quot;)\n    private List&lt;String&gt; hashtags;\n    @SerializedName(&quot;comments&quot;)\n    private List&lt;Comment&gt; comments;\n\n    @SerializedName(&quot;likes&quot;)\n    private List&lt;Like&gt; likes;\n\n    @SerializedName(&quot;user&quot;)\n    private AppUser user;\n\n\n\n\n    //empty constructor\n    public Post() {}\n\n    public Post( ObjectId idWrapper, String content, String createdAt, String updatedAt, List&lt;String&gt; hashtags, List&lt;Comment&gt; comments, List&lt;Like&gt; likes, AppUser user) {\n       this.idWrapper = idWrapper;\n        this.content = content;\n        this.createdAt = createdAt;\n        this.updatedAt = updatedAt;\n        this.hashtags = hashtags;\n        this.comments = comments;\n        this.likes = likes;\n        this.user = user;\n    }\n\n    public ObjectId getIdWrapper() {\n        return idWrapper;\n    }\n\n    public void setIdWrapper(ObjectId idWrapper) {\n        this.idWrapper = idWrapper;\n    }\n</code></pre>\n"},{"tags":["java","inheritance","dao"],"comments":[{"owner":{"account_id":36137,"reputation":178799,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":6,"creation_date":1690378220,"post_id":76771818,"comment_id":135345103,"body_markdown":"`Message` does not contain a `getByID` method.  Since your `Inbox` inherits from `Message`, there&#39;s nothing to override.","body":"<code>Message</code> does not contain a <code>getByID</code> method.  Since your <code>Inbox</code> inherits from <code>Message</code>, there&#39;s nothing to override."},{"owner":{"account_id":36137,"reputation":178799,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":2,"creation_date":1690378307,"post_id":76771818,"comment_id":135345130,"body_markdown":"For what it&#39;s worth, it doesn&#39;t seem like `Inbox` should inherit from `Method`.  Rather, `Inbox` should contain a collection of `Message`.","body":"For what it&#39;s worth, it doesn&#39;t seem like <code>Inbox</code> should inherit from <code>Method</code>.  Rather, <code>Inbox</code> should contain a collection of <code>Message</code>."},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":2,"creation_date":1690378488,"post_id":76771818,"comment_id":135345173,"body_markdown":"`InBox` doesn&#39;t implement `IMessageDAO` nor extend `ImplMessageDAO`, so I don&#39;t see why it would have the `getById` method. If you just want to add a message with the same name with no relation to that interface, then simple remove the `@Override`, but I don&#39;t think this is what you&#39;re looking to do.","body":"<code>InBox</code> doesn&#39;t implement <code>IMessageDAO</code> nor extend <code>ImplMessageDAO</code>, so I don&#39;t see why it would have the <code>getById</code> method. If you just want to add a message with the same name with no relation to that interface, then simple remove the <code>@Override</code>, but I don&#39;t think this is what you&#39;re looking to do."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1690379002,"post_id":76771818,"comment_id":135345309,"body_markdown":"Tangential: `getSTATUS` should be named `getStatus` to keep in line w/ Java and JavaBean naming conventions. The names in general should be more obviously meaningful. Don&#39;t swallow stack traces; human-readable exceptions are fine but are not a replacement for a stack trace. Declare variables close to their use and keep their scope minimal.","body":"Tangential: <code>getSTATUS</code> should be named <code>getStatus</code> to keep in line w/ Java and JavaBean naming conventions. The names in general should be more obviously meaningful. Don&#39;t swallow stack traces; human-readable exceptions are fine but are not a replacement for a stack trace. Declare variables close to their use and keep their scope minimal."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1690379181,"post_id":76771818,"comment_id":135345352,"body_markdown":"`ImplMessageDAO` doesn&#39;t override `getByID`, so that class shouldn&#39;t compile.","body":"<code>ImplMessageDAO</code> doesn&#39;t override <code>getByID</code>, so that class shouldn&#39;t compile."},{"owner":{"account_id":26729543,"reputation":29,"user_id":20332134,"display_name":"AD5XJ"},"score":0,"creation_date":1690466742,"post_id":76771818,"comment_id":135360456,"body_markdown":"OK I have taken all the above suggestions and changed my object accordingly. It now works with InBox extends Message and implementing Dao&lt;Messge&gt;\n\nThanks for all the help.","body":"OK I have taken all the above suggestions and changed my object accordingly. It now works with InBox extends Message and implementing Dao&lt;Messge&gt;  Thanks for all the help."}],"owner":{"account_id":26729543,"reputation":29,"user_id":20332134,"display_name":"AD5XJ"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1690466911,"creation_date":1690378073,"question_id":76771818,"body_markdown":"I have an object I have described as Message:\r\n\r\n```\r\nabstract public class Message \r\n{\r\n    private int id;\r\n    private String status;\r\n    private String timein;\r\n    private String timeout;\r\n}\r\n```\r\n\r\nIt has an interface:\r\n```\r\npublic interface IMessageDAO\r\n{\r\n    //       SETTERS AND GETTERS    //\r\n    public void setID(int newVar);\r\n    public void setTStatus(String newVar);\r\n    public void setTimeIn(String newVar);\r\n\r\n    public abstract Message getByID(int id);\r\n}\r\n```\r\n\r\nAnd is implemented by:\r\n\r\n```\r\npublic class ImplMessageDAO implements IMessageDAO\r\n{\r\n    //       SETTERS AND GETTERS    //\r\n    public void setID(int newVar)              { m.setID(newVar); }\r\n    public void setTStatus(String newVar)      { m.setTStatus(newVar); }\r\n    public void setTimeIn(String newVar)       { m.setTimeIn(newVar); }\r\n}\r\n```\r\n\r\nThis class is the base class for a derived class of InBox:\r\n\r\n```\r\npublic class InBox extends Message\r\n{\r\n    private static int    id;\r\n    private static String st;\r\n    private static String ti;\r\n\r\n    public InBox( int    i_id, String i_st, String i_ti, );\r\n\r\n    public int    getID()       { return id; }\r\n    public String getSTATUS()   { return st; }\r\n    public String getTIMEIN()   { return ti; }\r\n\r\n    public void setID(int i_id)         { id = i_id; }\r\n    public void setSTATUS(String i_st)  { st = i_st; }\r\n    public void setTIMEIN(String i_ti)  { ti = i_ti; }\r\n\r\n    @Override    \r\n*   public Message getByID(int id)\r\n    {\r\n        int inttmp = -1;\r\n\r\n        rs = null;\r\n        m = null;\r\n\r\n        String strtemp = &quot;&quot;;\r\n\r\n        DML = &quot;&quot;;\r\n\r\n        //Create Statement\r\n        DML  = &quot;SELECT ID, TStatus, TimeIn, TimeOut, &quot;;\r\n        DML += &quot;FROM Message &quot;;\r\n        DML += &quot;WHERE id = &quot;+ Integer.toString(id);\r\n        try\r\n        {\r\n            rs = db.execQuery(DML);\r\n            m.setID(rs.getInt(&quot;ID&quot;));\r\n            m.setTStatus(rs.getString(&quot;TStatus&quot;));\r\n            m.setTimeIn(rs.getString(&quot;TimeIn&quot;));\r\n            m.setTimeOut(rs.getString(&quot;TimeOut&quot;));\r\n        }\r\n        catch ( SQLException | NullPointerException se )\r\n        {\r\n            String msg;\r\n            msg  = &quot;\\nERROR InBoxDAO::getByID 130: SQL Error:&quot;;\r\n            msg += se.getLocalizedMessage();\r\n            msg += &quot;\\nSQL: &quot;;\r\n            msg += DML;\r\n            msg += &quot;\\n\\n&quot;;\r\n            System.out.println(msg);\r\n        }\r\n        return m;\r\n    }\r\n}\r\n```\r\n\r\nThe problem lies with the derived object methods. NetBeans 18 shows an error:&quot;method does not override or implement a method from a supertype...where clearly there is one.\r\n\r\nI know there must be something obvious I am missing. Any help would be appreciated.\r\n\r\n\r\nI expected the derived class to not have these problems. I have searched here and other forums but I am still confused as to what I am doing wrong.","title":"Java 20 and inheritance problems [SOLVED]","body":"<p>I have an object I have described as Message:</p>\n<pre><code>abstract public class Message \n{\n    private int id;\n    private String status;\n    private String timein;\n    private String timeout;\n}\n</code></pre>\n<p>It has an interface:</p>\n<pre><code>public interface IMessageDAO\n{\n    //       SETTERS AND GETTERS    //\n    public void setID(int newVar);\n    public void setTStatus(String newVar);\n    public void setTimeIn(String newVar);\n\n    public abstract Message getByID(int id);\n}\n</code></pre>\n<p>And is implemented by:</p>\n<pre><code>public class ImplMessageDAO implements IMessageDAO\n{\n    //       SETTERS AND GETTERS    //\n    public void setID(int newVar)              { m.setID(newVar); }\n    public void setTStatus(String newVar)      { m.setTStatus(newVar); }\n    public void setTimeIn(String newVar)       { m.setTimeIn(newVar); }\n}\n</code></pre>\n<p>This class is the base class for a derived class of InBox:</p>\n<pre><code>public class InBox extends Message\n{\n    private static int    id;\n    private static String st;\n    private static String ti;\n\n    public InBox( int    i_id, String i_st, String i_ti, );\n\n    public int    getID()       { return id; }\n    public String getSTATUS()   { return st; }\n    public String getTIMEIN()   { return ti; }\n\n    public void setID(int i_id)         { id = i_id; }\n    public void setSTATUS(String i_st)  { st = i_st; }\n    public void setTIMEIN(String i_ti)  { ti = i_ti; }\n\n    @Override    \n*   public Message getByID(int id)\n    {\n        int inttmp = -1;\n\n        rs = null;\n        m = null;\n\n        String strtemp = &quot;&quot;;\n\n        DML = &quot;&quot;;\n\n        //Create Statement\n        DML  = &quot;SELECT ID, TStatus, TimeIn, TimeOut, &quot;;\n        DML += &quot;FROM Message &quot;;\n        DML += &quot;WHERE id = &quot;+ Integer.toString(id);\n        try\n        {\n            rs = db.execQuery(DML);\n            m.setID(rs.getInt(&quot;ID&quot;));\n            m.setTStatus(rs.getString(&quot;TStatus&quot;));\n            m.setTimeIn(rs.getString(&quot;TimeIn&quot;));\n            m.setTimeOut(rs.getString(&quot;TimeOut&quot;));\n        }\n        catch ( SQLException | NullPointerException se )\n        {\n            String msg;\n            msg  = &quot;\\nERROR InBoxDAO::getByID 130: SQL Error:&quot;;\n            msg += se.getLocalizedMessage();\n            msg += &quot;\\nSQL: &quot;;\n            msg += DML;\n            msg += &quot;\\n\\n&quot;;\n            System.out.println(msg);\n        }\n        return m;\n    }\n}\n</code></pre>\n<p>The problem lies with the derived object methods. NetBeans 18 shows an error:&quot;method does not override or implement a method from a supertype...where clearly there is one.</p>\n<p>I know there must be something obvious I am missing. Any help would be appreciated.</p>\n<p>I expected the derived class to not have these problems. I have searched here and other forums but I am still confused as to what I am doing wrong.</p>\n"},{"tags":["java","json","spring","spring-mvc","jackson"],"answers":[{"comments":[{"owner":{"account_id":52297,"reputation":5805,"user_id":156225,"accept_rate":95,"display_name":"Sri"},"score":0,"creation_date":1303283622,"post_id":5726637,"comment_id":6549233,"body_markdown":"Thanks, I&#39;m considering a wrapper Array as the last resort. What is the work around you were referring to?","body":"Thanks, I&#39;m considering a wrapper Array as the last resort. What is the work around you were referring to?"},{"owner":{"account_id":104911,"reputation":119222,"user_id":280244,"accept_rate":81,"display_name":"Ralph"},"score":1,"creation_date":1303284272,"post_id":5726637,"comment_id":6549391,"body_markdown":"@Srirangan: the workarround is the PersonContext class - it is some kind of DTO","body":"@Srirangan: the workarround is the PersonContext class - it is some kind of DTO"},{"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"score":0,"creation_date":1303284766,"post_id":5726637,"comment_id":6549524,"body_markdown":"@Srirangan I said there *may* be a workaround. I am not aware of one myself","body":"@Srirangan I said there <i>may</i> be a workaround. I am not aware of one myself"},{"owner":{"account_id":2421447,"reputation":3223,"user_id":2114313,"accept_rate":67,"display_name":"frIT"},"score":1,"creation_date":1566287604,"post_id":5726637,"comment_id":101598659,"body_markdown":"@Sri,  nevertheless thank you for asking it, it helps us that have to pick up Spring quickly because of being thrown in at the deep end. [This question](https://stackoverflow.com/q/12893566/2114313) is similar and has a more detailed answer, you might want to link.","body":"@Sri,  nevertheless thank you for asking it, it helps us that have to pick up Spring quickly because of being thrown in at the deep end. <a href=\"https://stackoverflow.com/q/12893566/2114313\">This question</a> is similar and has a more detailed answer, you might want to link."},{"owner":{"account_id":12587763,"reputation":1458,"user_id":9155889,"display_name":"nonNumericalFloat"},"score":0,"creation_date":1612266488,"post_id":5726637,"comment_id":116707469,"body_markdown":"Is it be possible to set a custom Jackson deserializer for an object/instance variables inside of PersonContext?","body":"Is it be possible to set a custom Jackson deserializer for an object/instance variables inside of PersonContext?"},{"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"score":1,"creation_date":1612290353,"post_id":5726637,"comment_id":116719007,"body_markdown":"@nonNumericalFloat sure, just annotate any field with [`@JsonDeserialize`](https://fasterxml.github.io/jackson-databind/javadoc/2.8/com/fasterxml/jackson/databind/annotation/JsonDeserialize.html) with a custom [`JsonDeserializer`](https://fasterxml.github.io/jackson-databind/javadoc/2.8/com/fasterxml/jackson/databind/JsonDeserializer.html) implementation","body":"@nonNumericalFloat sure, just annotate any field with <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.8/com/fasterxml/jackson/databind/annotation/JsonDeserialize.html\" rel=\"nofollow noreferrer\"><code>@JsonDeserialize</code></a> with a custom <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.8/com/fasterxml/jackson/databind/JsonDeserializer.html\" rel=\"nofollow noreferrer\"><code>JsonDeserializer</code></a> implementation"}],"tags":[],"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"comment_count":6,"down_vote_count":0,"up_vote_count":73,"is_accepted":true,"score":73,"last_activity_date":1303282908,"creation_date":1303282908,"answer_id":5726637,"question_id":5726583,"body_markdown":"I&#39;m pretty sure that won&#39;t work. There may be a workaround, but the much easier way would be to introduce a wrapper Object and change your signature:\r\n\r\n    public class PersonContext{\r\n        private UserContext userContext;\r\n        private Person person;\r\n        // getters and setters\r\n    }\r\n\r\n\r\n    public Person createPerson(@RequestBody PersonContext personContext)\r\n","title":"Spring REST multiple @RequestBody parameters, possible?","body":"<p>I'm pretty sure that won't work. There may be a workaround, but the much easier way would be to introduce a wrapper Object and change your signature:</p>\n\n<pre><code>public class PersonContext{\n    private UserContext userContext;\n    private Person person;\n    // getters and setters\n}\n\n\npublic Person createPerson(@RequestBody PersonContext personContext)\n</code></pre>\n"}],"owner":{"account_id":52297,"reputation":5805,"user_id":156225,"accept_rate":95,"display_name":"Sri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64173,"favorite_count":0,"down_vote_count":0,"up_vote_count":59,"accepted_answer_id":5726637,"answer_count":1,"score":59,"last_activity_date":1690466638,"creation_date":1303282562,"question_id":5726583,"body_markdown":"I&#39;ve implemented a Spring RESTful web service. Using Jackson JSON for Object Mapping. I have a method that accepts two parameters.\r\n\r\n    public Person createPerson(\r\n        @RequestBody UserContext userContext,\r\n        @RequestBody Person person)\r\n\r\nHow would the client construct a request where in multiple JSON objects are to be passed in the body?\r\n\r\nIs this possible?\r\n\r\n-- Sri","title":"Spring REST multiple @RequestBody parameters, possible?","body":"<p>I've implemented a Spring RESTful web service. Using Jackson JSON for Object Mapping. I have a method that accepts two parameters.</p>\n\n<pre><code>public Person createPerson(\n    @RequestBody UserContext userContext,\n    @RequestBody Person person)\n</code></pre>\n\n<p>How would the client construct a request where in multiple JSON objects are to be passed in the body?</p>\n\n<p>Is this possible?</p>\n\n<p>-- Sri</p>\n"},{"tags":["java","dictionary","stream","flatmap","groupingby"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":3,"creation_date":1690466416,"post_id":76780498,"comment_id":135360379,"body_markdown":"Using the Stream api won&#39;t magically solve your performance problems. Instead, attach debugging tools and *measure* where the problem is. Then fix that.","body":"Using the Stream api won&#39;t magically solve your performance problems. Instead, attach debugging tools and <i>measure</i> where the problem is. Then fix that."},{"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"score":0,"creation_date":1690467007,"post_id":76780498,"comment_id":135360513,"body_markdown":"Read the the description 3 time, really didn&#39;t understand what your requirement is.","body":"Read the the description 3 time, really didn&#39;t understand what your requirement is."},{"owner":{"account_id":3449131,"reputation":12148,"user_id":2889165,"accept_rate":73,"display_name":"Andreas Lundgren"},"score":2,"creation_date":1690469214,"post_id":76780498,"comment_id":135361072,"body_markdown":"I would try and solve this in the database query instead, do you think that would be possible? If you can closeout what you want to achieve, and include your DB query, maybe you can get help here to solve it by the query in the DB domain instead of in the application domain.","body":"I would try and solve this in the database query instead, do you think that would be possible? If you can closeout what you want to achieve, and include your DB query, maybe you can get help here to solve it by the query in the DB domain instead of in the application domain."}],"owner":{"account_id":3030214,"reputation":13,"user_id":2569403,"display_name":"Ethem"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690466213,"creation_date":1690466213,"question_id":76780498,"body_markdown":"First of all, I know that the database is set up incorrectly, but I have no chance to change it. I keep the messages sent to the companies and the reply messages in the same table. Namely, if a company has answered the question sent to it, it is stored in my database via firstMessageId. firstMessage id is equal to id in my table. Previously, there was no problem when there were 500-1000 messages, but now there are 40000 messages and map.put, Collection.sort etc. It takes 2 minutes to open the message box with methods. I think I need to use stream api to fix this problem, but I couldn&#39;t generate the necessary code. I&#39;ll go back to a list, and within that list there will be a separate list of reply messages. I will also link them with getID==getFirstMessageID.\r\n    \r\nMessageDTO.java: \r\n   \r\n\r\n        private int id;\r\n    \tprivate int firstMessageID;\r\n    \tprivate List&lt;MessageDTO&gt; answers = new ArrayList&lt;MessageDTO&gt;();\r\n\r\nMy old code: \r\n\r\n    List&lt;MessageDTO&gt; list = null;\r\n\tList&lt;MessageDTO&gt; messageList = new ArrayList&lt;MessageDTO&gt;();\r\n\tMap&lt;Integer, MessageDTO&gt; messageMap = new HashMap&lt;Integer, MessageDTO&gt;();\r\n\ttry{\r\n\t\tlist = MessageDTO.instance.getCompanyMessages(conn, User); // a JDBC connection\r\n\t\tfor (MessageDTO messageDTO: list) {\r\n\t\t\tif(MessageDTO.getfirstMessageID() == 0){\r\n\t\t\t\tmessageMap.put(MessageDTO.getId(), messageDTO);\r\n\t\t\t}else{\r\n\t\t\t\tMessageDTO tmp = messageMap.get(messageDTO.getfirstMessageID());\r\n\t\t\t\ttmp.getAnswers().add(messageDTO );\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tfor (Iterator&lt;MessageDTO&gt; iterator = messageMap.values().iterator(); iterator.hasNext();) {\r\n\t\t\tMessageDTO messageDTO = (MessageDTO ) iterator.next();\r\n\t\t\tCollections.sort(messageDTO.getAnswers());\r\n\t\t\tmessageList.add(messageDTO);\r\n\t\t}\r\n\t\tCollections.sort(messageList);\r\n    } catch etc.\r\n    \treturn messageList;\r\n\r\nthanks all","title":"Merge two lists using unique field with java stream","body":"<p>First of all, I know that the database is set up incorrectly, but I have no chance to change it. I keep the messages sent to the companies and the reply messages in the same table. Namely, if a company has answered the question sent to it, it is stored in my database via firstMessageId. firstMessage id is equal to id in my table. Previously, there was no problem when there were 500-1000 messages, but now there are 40000 messages and map.put, Collection.sort etc. It takes 2 minutes to open the message box with methods. I think I need to use stream api to fix this problem, but I couldn't generate the necessary code. I'll go back to a list, and within that list there will be a separate list of reply messages. I will also link them with getID==getFirstMessageID.</p>\n<p>MessageDTO.java:</p>\n<pre><code>    private int id;\n    private int firstMessageID;\n    private List&lt;MessageDTO&gt; answers = new ArrayList&lt;MessageDTO&gt;();\n</code></pre>\n<p>My old code:</p>\n<pre><code>List&lt;MessageDTO&gt; list = null;\nList&lt;MessageDTO&gt; messageList = new ArrayList&lt;MessageDTO&gt;();\nMap&lt;Integer, MessageDTO&gt; messageMap = new HashMap&lt;Integer, MessageDTO&gt;();\ntry{\n    list = MessageDTO.instance.getCompanyMessages(conn, User); // a JDBC connection\n    for (MessageDTO messageDTO: list) {\n        if(MessageDTO.getfirstMessageID() == 0){\n            messageMap.put(MessageDTO.getId(), messageDTO);\n        }else{\n            MessageDTO tmp = messageMap.get(messageDTO.getfirstMessageID());\n            tmp.getAnswers().add(messageDTO );\n        }\n    }\n    \n    for (Iterator&lt;MessageDTO&gt; iterator = messageMap.values().iterator(); iterator.hasNext();) {\n        MessageDTO messageDTO = (MessageDTO ) iterator.next();\n        Collections.sort(messageDTO.getAnswers());\n        messageList.add(messageDTO);\n    }\n    Collections.sort(messageList);\n} catch etc.\n    return messageList;\n</code></pre>\n<p>thanks all</p>\n"},{"tags":["java","prometheus","jmx","mbeans","jmx-exporter"],"answers":[{"tags":[],"owner":{"account_id":10954381,"reputation":21,"user_id":8049689,"display_name":"Doug Hoard"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690466143,"creation_date":1690466143,"answer_id":76780485,"question_id":76434103,"body_markdown":"The Prometheus JMX exporter doesn&#39;t export MBean String attributes since these aren&#39;t really metrics.","title":"Unable to see Mbean in browser but able to see it in Jconsole","body":"<p>The Prometheus JMX exporter doesn't export MBean String attributes since these aren't really metrics.</p>\n"}],"owner":{"account_id":17944424,"reputation":21,"user_id":13039003,"display_name":"dhanooram "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1690466143,"creation_date":1686243082,"question_id":76434103,"body_markdown":"I trying to use JMX Export to export some custom variables via Mbean. I am able to see the Mbean in jconsole but those attributes are not available in localhost:port\\\\metrics. Tried whitelisting object name, changing patterns in rules but nothing seems to work.\r\n\r\nNot sure if bean is exposed properly :/\r\n\r\n```\r\npackage com.test;\r\npublic interface ApplicationInfoMXBean {\r\n    public String getEnv();\r\n}\r\n\r\npackage com.test;\r\npublic class ApplicationInfoImp implements ApplicationInfoMXBean{\r\n\t@Override\r\n\tpublic String getEnv() {\r\n\t\treturn &quot;XX&quot;;\t   \r\n}\r\n\r\nBean declaration:\r\n\r\nMBeanServer mbeanServer=ManagementFactory.getPlatformMBeanServer();\r\nApplicationInfoMXBean appInfoObj=new ApplicationInfoImp();\r\nObjectName objName=new ObjectName(&quot;com.test:type=basic,name=ApplicationInfoImp&quot;);\r\nmbeanServer.registerMBean(appInfoObj, objName); \r\n\r\nconfig.yaml\r\nrules:\r\n- pattern: &quot;.*&quot;\r\n```","title":"Unable to see Mbean in browser but able to see it in Jconsole","body":"<p>I trying to use JMX Export to export some custom variables via Mbean. I am able to see the Mbean in jconsole but those attributes are not available in localhost:port\\metrics. Tried whitelisting object name, changing patterns in rules but nothing seems to work.</p>\n<p>Not sure if bean is exposed properly :/</p>\n<pre><code>package com.test;\npublic interface ApplicationInfoMXBean {\n    public String getEnv();\n}\n\npackage com.test;\npublic class ApplicationInfoImp implements ApplicationInfoMXBean{\n    @Override\n    public String getEnv() {\n        return &quot;XX&quot;;       \n}\n\nBean declaration:\n\nMBeanServer mbeanServer=ManagementFactory.getPlatformMBeanServer();\nApplicationInfoMXBean appInfoObj=new ApplicationInfoImp();\nObjectName objName=new ObjectName(&quot;com.test:type=basic,name=ApplicationInfoImp&quot;);\nmbeanServer.registerMBean(appInfoObj, objName); \n\nconfig.yaml\nrules:\n- pattern: &quot;.*&quot;\n</code></pre>\n"},{"tags":["java","spring","hibernate","timezone","multi-tenant"],"owner":{"account_id":28956487,"reputation":1,"user_id":22179941,"display_name":"Jeff Meyers"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690465611,"creation_date":1688571301,"question_id":76621896,"body_markdown":"I am using Hibernate 5 and Spring Framework 5 to add multi-tenancy (DB per tenant) to our existing application. I have successfully implemented the `CurrentTenantIdentifierResolver` and `MultiTenantConnectionProvider` and the DB connections are working fine. The next step is setting the Time Zone per tenant.\r\n\r\nI want to set the Tenant&#39;s time zone on the session and it seems the best way to do that would be to implement a custom `SessionFactory` and override the `openSession()` method. My custom method would create a new session as before, but also set the `jdbcTimeZone()` as appropriate.\r\n\r\nIs this a valid approach or is there a better way to ensure all sessions have the time zone set before the are used?\r\n\r\nI read through [this Hibernate Doc](https://docs.jboss.org/hibernate/orm/5.6/userguide/html_single/Hibernate_User_Guide.html#multitenacy-hibernate-session-configuration) many times but it has not helped.\r\n\r\nI was hoping Hibernate provided a &quot;TenantTimeZoneResolver&quot;, but I have found no such thing.\r\n\r\nThis is what I have attempted so far:\r\nCreated a custom session factory that overrides `openSession()` and provides the desired time zone. This example just uses a hard-coded value, but will eventually grab the TZ from the tenant context.\r\n\r\n```Java\r\npublic class CustomSessionFactory extends SessionFactoryImpl {\r\n    public CustomSessionFactory(MetadataImplementor metadata, SessionFactoryOptions options, QueryPlanCache.QueryPlanCreator queryPlanCacheFunction) {\r\n        super(metadata, options, queryPlanCacheFunction);\r\n    }\r\n\r\n    @Override\r\n    public Session openSession() {\r\n        TimeZone tz = TimeZone.getTimeZone(&quot;America/Detroit&quot;);\r\n\r\n        return this.withOptions().jdbcTimeZone(tz).openSession();\r\n    }\r\n}\r\n```\r\n\r\nThe problem I have is how to instantiate my `CustomSessionFactory`? Where do I get the MetadataImplementer, SessionFactoryOptions, and QueryPlanCreator?","title":"Setting Time Zone per session with Multi-Tenant Hibernate and Spring?","body":"<p>I am using Hibernate 5 and Spring Framework 5 to add multi-tenancy (DB per tenant) to our existing application. I have successfully implemented the <code>CurrentTenantIdentifierResolver</code> and <code>MultiTenantConnectionProvider</code> and the DB connections are working fine. The next step is setting the Time Zone per tenant.</p>\n<p>I want to set the Tenant's time zone on the session and it seems the best way to do that would be to implement a custom <code>SessionFactory</code> and override the <code>openSession()</code> method. My custom method would create a new session as before, but also set the <code>jdbcTimeZone()</code> as appropriate.</p>\n<p>Is this a valid approach or is there a better way to ensure all sessions have the time zone set before the are used?</p>\n<p>I read through <a href=\"https://docs.jboss.org/hibernate/orm/5.6/userguide/html_single/Hibernate_User_Guide.html#multitenacy-hibernate-session-configuration\" rel=\"nofollow noreferrer\">this Hibernate Doc</a> many times but it has not helped.</p>\n<p>I was hoping Hibernate provided a &quot;TenantTimeZoneResolver&quot;, but I have found no such thing.</p>\n<p>This is what I have attempted so far:\nCreated a custom session factory that overrides <code>openSession()</code> and provides the desired time zone. This example just uses a hard-coded value, but will eventually grab the TZ from the tenant context.</p>\n<pre><code>public class CustomSessionFactory extends SessionFactoryImpl {\n    public CustomSessionFactory(MetadataImplementor metadata, SessionFactoryOptions options, QueryPlanCache.QueryPlanCreator queryPlanCacheFunction) {\n        super(metadata, options, queryPlanCacheFunction);\n    }\n\n    @Override\n    public Session openSession() {\n        TimeZone tz = TimeZone.getTimeZone(&quot;America/Detroit&quot;);\n\n        return this.withOptions().jdbcTimeZone(tz).openSession();\n    }\n}\n</code></pre>\n<p>The problem I have is how to instantiate my <code>CustomSessionFactory</code>? Where do I get the MetadataImplementer, SessionFactoryOptions, and QueryPlanCreator?</p>\n"},{"tags":["java","oop","design-patterns","backend","refactoring"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":1,"creation_date":1680004713,"post_id":75865798,"comment_id":133819300,"body_markdown":"You may want to find out about the buzzwords given [here](https://stackoverflow.com/q/4637124/1712135) and [there](https://stackoverflow.com/questions/1203377/dto-dao-poco-bo)…","body":"You may want to find out about the buzzwords given <a href=\"https://stackoverflow.com/q/4637124/1712135\">here</a> and <a href=\"https://stackoverflow.com/questions/1203377/dto-dao-poco-bo\">there</a>…"},{"owner":{"account_id":4313052,"reputation":81,"user_id":3523676,"display_name":"piotrowicki"},"score":0,"creation_date":1680008013,"post_id":75865798,"comment_id":133820231,"body_markdown":"Have you tried any of available JSON binding libraries i.e [Jackson](https://github.com/FasterXML/jackson), [JSOB-B](https://javaee.github.io/jsonb-spec/), [Gson](https://github.com/google/gson)?","body":"Have you tried any of available JSON binding libraries i.e <a href=\"https://github.com/FasterXML/jackson\" rel=\"nofollow noreferrer\">Jackson</a>, <a href=\"https://javaee.github.io/jsonb-spec/\" rel=\"nofollow noreferrer\">JSOB-B</a>, <a href=\"https://github.com/google/gson\" rel=\"nofollow noreferrer\">Gson</a>?"},{"owner":{"account_id":16921593,"reputation":83,"user_id":12238287,"display_name":"Markus B"},"score":0,"creation_date":1680009765,"post_id":75865798,"comment_id":133820780,"body_markdown":"@piotrowicki I have. I use both Jackson and Lombok to avoid boilerplate and to map / serialize my json to objects and objects to json. I&#39;m more concerned with the responsibilities of my classes (essentially what code should go where, and how my system should interact with itself)","body":"@piotrowicki I have. I use both Jackson and Lombok to avoid boilerplate and to map / serialize my json to objects and objects to json. I&#39;m more concerned with the responsibilities of my classes (essentially what code should go where, and how my system should interact with itself)"},{"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"score":1,"creation_date":1681287795,"post_id":75865798,"comment_id":134030649,"body_markdown":"It depends a lot on what the `Dog` needs to do. One option would be to have a dedicated object for talking to the database and performing some crud operations. Then, you can have a different object for the presentation: for instance a `DogDto` - this can contain the logic for mapping to json. Now, in your &quot;domain&quot; `Dog` object, you can keep only the business-related behavior. If you want to read more about this approach, take a look here: https://www.baeldung.com/hexagonal-architecture-ddd-spring","body":"It depends a lot on what the <code>Dog</code> needs to do. One option would be to have a dedicated object for talking to the database and performing some crud operations. Then, you can have a different object for the presentation: for instance a <code>DogDto</code> - this can contain the logic for mapping to json. Now, in your &quot;domain&quot; <code>Dog</code> object, you can keep only the business-related behavior. If you want to read more about this approach, take a look here: <a href=\"https://www.baeldung.com/hexagonal-architecture-ddd-spring\" rel=\"nofollow noreferrer\">baeldung.com/hexagonal-architecture-ddd-spring</a>"}],"answers":[{"tags":[],"owner":{"account_id":13993199,"reputation":129,"user_id":10362945,"display_name":"Sagar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690465028,"creation_date":1690465028,"answer_id":76780328,"question_id":75865798,"body_markdown":"Generally we do not map the pojo directly to an entity.We could use Adapter to adapt to and fro from entity and pojo(in your case frontend object).\r\nA similar example is [custom converter](https://stackoverflow.com/questions/34239585/how-to-register-custom-converters-in-spring-boot) used in springboot\r\n\r\nYou could create your custom converter service and define the mapping to and fro for an object.No doubt you need to define such converter for each of the object.A hacky way when both objects are ditto ,you could serialize it as JSON and deserialize using targetClass (this could impact performance though)\r\n```\r\nclass DogConverter&lt;DogDTO, DogEntity&gt; implements Converter&lt;DogDTO,DogEntity&gt;{\r\n\r\n    @Override\r\n    public DogEntity toEntity(DogDto dogDto){\r\n        DogEntity entity = new DogEntity();\r\n        //setters of entity\r\n        return entity;\r\n    }\r\n\r\n    @Override\r\n    public DogDTO toDTO(DogEntity dogEntity){\r\n        DogDTO dto = new DogDTO();\r\n        //setters of dto\r\n        return dto;\r\n    }\r\n    \r\n    \r\n}\r\n```","title":"Design pattern for system retrieving data about an entity and updating it","body":"<p>Generally we do not map the pojo directly to an entity.We could use Adapter to adapt to and fro from entity and pojo(in your case frontend object).\nA similar example is <a href=\"https://stackoverflow.com/questions/34239585/how-to-register-custom-converters-in-spring-boot\">custom converter</a> used in springboot</p>\n<p>You could create your custom converter service and define the mapping to and fro for an object.No doubt you need to define such converter for each of the object.A hacky way when both objects are ditto ,you could serialize it as JSON and deserialize using targetClass (this could impact performance though)</p>\n<pre><code>class DogConverter&lt;DogDTO, DogEntity&gt; implements Converter&lt;DogDTO,DogEntity&gt;{\n\n    @Override\n    public DogEntity toEntity(DogDto dogDto){\n        DogEntity entity = new DogEntity();\n        //setters of entity\n        return entity;\n    }\n\n    @Override\n    public DogDTO toDTO(DogEntity dogEntity){\n        DogDTO dto = new DogDTO();\n        //setters of dto\n        return dto;\n    }\n    \n    \n}\n</code></pre>\n"}],"owner":{"account_id":16921593,"reputation":83,"user_id":12238287,"display_name":"Markus B"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690465028,"creation_date":1680003708,"question_id":75865798,"body_markdown":"I&#39;ve come across the following situation multiple times when writing code (especially webapps) and would like to know the best practice (possibly design patterns) to solve it correctly:\r\n\r\nMy data is stored in some database or repository where I retrieve the data itself through an API. (therefor needing some sort of GET request)\r\n\r\nMy retriven data is processed and turned into a object representing the data. Fx a Dog with name, race, age.\r\n\r\nIn one way or the other I represent this Dog&#39;s data on my frontend using classic js, html.\r\n\r\nI now want my users to be able to change the data on my frontend, send a request to my backend, and through my backend send a request to the API, updating my database / repository.\r\n\r\nThis is where my question arises.\r\n\r\nWhat is the best way to structure this processflow?\r\nThe first naive solution that pops into my head is having a Dog class like the following:\r\n```lang-java\r\npublic class Dog() {\r\n\r\n // relevant fields\r\n\r\n public Dog(String json) {\r\n  // map json result to Dog&#39;s fields\r\n }\r\n\r\n public static Dog getDogFromDb() {\r\n  // call api\r\n  // map api&#39;s json result to dog object\r\n  // return Dog object\r\n }\r\n public void updateDogInDb(credentials, etc) {\r\n  // take current dog, with its id, name, etc. and submit a request to the api, to update it according to Dog&#39;s fields and provided credentials.\r\n }\r\n // other dog methods, that might be relevant to the context...\r\n ...\r\n}\r\n```\r\nIn reality the Dog class would be much more complex, containing fields that represent other objects or lists of objects. Fx a Dog could have the following field `List&lt;Owner&gt; ownersDogHasHad`, this shouldn&#39;t change the question I simply want to clarify the complexity.\r\n\r\nThis approach works in practise, but seems to involve alot of different responsibilities in a single class, since Dog both represents a Dog and its methods, but also the practise of making a dog from a json response.body, making a dog from a database entity, and updating a dog in the databse.\r\n\r\nHow would this be written in a cleaner and clearer way? Is there any appropriate design patterns relavant?","title":"Design pattern for system retrieving data about an entity and updating it","body":"<p>I've come across the following situation multiple times when writing code (especially webapps) and would like to know the best practice (possibly design patterns) to solve it correctly:</p>\n<p>My data is stored in some database or repository where I retrieve the data itself through an API. (therefor needing some sort of GET request)</p>\n<p>My retriven data is processed and turned into a object representing the data. Fx a Dog with name, race, age.</p>\n<p>In one way or the other I represent this Dog's data on my frontend using classic js, html.</p>\n<p>I now want my users to be able to change the data on my frontend, send a request to my backend, and through my backend send a request to the API, updating my database / repository.</p>\n<p>This is where my question arises.</p>\n<p>What is the best way to structure this processflow?\nThe first naive solution that pops into my head is having a Dog class like the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Dog() {\n\n // relevant fields\n\n public Dog(String json) {\n  // map json result to Dog's fields\n }\n\n public static Dog getDogFromDb() {\n  // call api\n  // map api's json result to dog object\n  // return Dog object\n }\n public void updateDogInDb(credentials, etc) {\n  // take current dog, with its id, name, etc. and submit a request to the api, to update it according to Dog's fields and provided credentials.\n }\n // other dog methods, that might be relevant to the context...\n ...\n}\n</code></pre>\n<p>In reality the Dog class would be much more complex, containing fields that represent other objects or lists of objects. Fx a Dog could have the following field <code>List&lt;Owner&gt; ownersDogHasHad</code>, this shouldn't change the question I simply want to clarify the complexity.</p>\n<p>This approach works in practise, but seems to involve alot of different responsibilities in a single class, since Dog both represents a Dog and its methods, but also the practise of making a dog from a json response.body, making a dog from a database entity, and updating a dog in the databse.</p>\n<p>How would this be written in a cleaner and clearer way? Is there any appropriate design patterns relavant?</p>\n"},{"tags":["java","spring-boot","spring-data","grouping","paging"],"comments":[{"owner":{"account_id":9706811,"reputation":2870,"user_id":7200018,"display_name":"GnanaJeyam"},"score":0,"creation_date":1564432423,"post_id":57251172,"comment_id":101021170,"body_markdown":"Please add your entity structure and exact JSON result.","body":"Please add your entity structure and exact JSON result."},{"owner":{"account_id":6425738,"reputation":338,"user_id":4980966,"display_name":"max"},"score":0,"creation_date":1564671673,"post_id":57251172,"comment_id":101116032,"body_markdown":"The entity structure doesn&#39;t really matter. I need a grouped Page Result and looking for a generic spring solution.","body":"The entity structure doesn&#39;t really matter. I need a grouped Page Result and looking for a generic spring solution."}],"answers":[{"comments":[{"owner":{"account_id":6425738,"reputation":338,"user_id":4980966,"display_name":"max"},"score":0,"creation_date":1564671982,"post_id":57286804,"comment_id":101116190,"body_markdown":"Thank you for your reply. As result i want to have a org.springframework.data.domain.Page Object. So i need something like: Page&lt;Report&gt; findAggregatedResults(Specifications&lt;Report&gt; filter, Pageable pageable, List&lt;String&gt; groupBy);","body":"Thank you for your reply. As result i want to have a org.springframework.data.domain.Page Object. So i need something like: Page&lt;Report&gt; findAggregatedResults(Specifications&lt;Report&gt; filter, Pageable pageable, List&lt;String&gt; groupBy);"},{"owner":{"account_id":4181234,"reputation":3257,"user_id":3426201,"display_name":"Assafs"},"score":0,"creation_date":1564672580,"post_id":57286804,"comment_id":101116534,"body_markdown":"If you wish to paginate, you just need to ask for List&lt;Result&gt; one page at a time. Look at how it&#39;s done here: https://www.baeldung.com/spring-data-jpa-pagination-sorting. The idea is to start from what each result row should have, and leave the pagination to get you the next X rows in a regular list.","body":"If you wish to paginate, you just need to ask for List&lt;Result&gt; one page at a time. Look at how it&#39;s done here: <a href=\"https://www.baeldung.com/spring-data-jpa-pagination-sorting\" rel=\"nofollow noreferrer\">baeldung.com/spring-data-jpa-pagination-sorting</a>. The idea is to start from what each result row should have, and leave the pagination to get you the next X rows in a regular list."},{"owner":{"account_id":6425738,"reputation":338,"user_id":4980966,"display_name":"max"},"score":0,"creation_date":1564729464,"post_id":57286804,"comment_id":101133660,"body_markdown":"There is not mentioned how to group the result by various attributes.","body":"There is not mentioned how to group the result by various attributes."},{"owner":{"account_id":4181234,"reputation":3257,"user_id":3426201,"display_name":"Assafs"},"score":0,"creation_date":1564733049,"post_id":57286804,"comment_id":101135204,"body_markdown":"I mentioned how to group the results in the original answer. You write a POJO for the answer you want, write a group by query in native SQL and attach it in the repository to a method that returns a List&lt;POJO&gt;. You can have this list of results paged regardless.","body":"I mentioned how to group the results in the original answer. You write a POJO for the answer you want, write a group by query in native SQL and attach it in the repository to a method that returns a List&lt;POJO&gt;. You can have this list of results paged regardless."}],"tags":[],"owner":{"account_id":4181234,"reputation":3257,"user_id":3426201,"display_name":"Assafs"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1564563156,"creation_date":1564563156,"answer_id":57286804,"question_id":57251172,"body_markdown":"The question is - could you get the result you wanted by querying the DB directly, where *group by* is available? \r\n\r\nAs a rule of thumb, if you can get a result in the required format from the DB, you can always get the result in Spring Data using Native Query, and store the result in a POJO written for it. \r\n\r\nIn the example below, I assumed you have a new Object just for storing the result, called **Result**. Since you didn&#39;t specify exactly the structure of the result of the query you would use in the DB, I didn&#39;t supply a class definition of Result. The query I used was just basic group by, which you should replace with your own.\r\n\r\nIn the repository interface, create a native query with group by:\r\n    \r\n    @Repository\r\n    public interface ReportRepository extends PagingAndSortingRepository&lt;Report, String&gt;, JpaSpecificationExecutor&lt;Report&gt; {\r\n\r\n        @Query(value=&quot;Select grp, count(grp) from report group by grp&quot;, nativeQuery=true)\r\n        List&lt;Result&gt; findAggregatedResults();\r\n    }","title":"How to get paged and sorted groups with spring-data","body":"<p>The question is - could you get the result you wanted by querying the DB directly, where <em>group by</em> is available? </p>\n\n<p>As a rule of thumb, if you can get a result in the required format from the DB, you can always get the result in Spring Data using Native Query, and store the result in a POJO written for it. </p>\n\n<p>In the example below, I assumed you have a new Object just for storing the result, called <strong>Result</strong>. Since you didn't specify exactly the structure of the result of the query you would use in the DB, I didn't supply a class definition of Result. The query I used was just basic group by, which you should replace with your own.</p>\n\n<p>In the repository interface, create a native query with group by:</p>\n\n<pre><code>@Repository\npublic interface ReportRepository extends PagingAndSortingRepository&lt;Report, String&gt;, JpaSpecificationExecutor&lt;Report&gt; {\n\n    @Query(value=\"Select grp, count(grp) from report group by grp\", nativeQuery=true)\n    List&lt;Result&gt; findAggregatedResults();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8316417,"reputation":565,"user_id":6249539,"accept_rate":83,"display_name":"yashpandey8055"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690464796,"creation_date":1690464796,"answer_id":76780295,"question_id":57251172,"body_markdown":"Late here, \r\n\r\nBut if someone still lingering around how to use GROUP BY with Pageable in Hibernate Queries, they can use -\r\n\r\n        @Query(value = &quot;SELECT &quot; +\r\n            &quot;new com.example.result.Result(res.Id&quot; +\r\n            &quot;,max(res.creationDate) as creationDate) &quot; +\r\n            &quot;from ExampleDAO res &quot; +\r\n            &quot;where res.userId = :userId &quot; +\r\n            &quot;GROUP BY res.Id&quot; )\r\n    Page&lt;Result&gt; getPaginatedResult(@Param(&quot;userId&quot;) long userId,\r\n                                                       Pageable pageable);\r\n\r\nAnd While creating a Pageable instance -\r\n \r\n\r\n    Pageable pageable = PageRequest.of(pageNum,pageSize,Sort.by(Sort.Direction.DESC,&quot;creationDate&quot;));\r\n\r\nThe &#39;**creationDate**&#39; in Pageable instance and Query should be same.","title":"How to get paged and sorted groups with spring-data","body":"<p>Late here,</p>\n<p>But if someone still lingering around how to use GROUP BY with Pageable in Hibernate Queries, they can use -</p>\n<pre><code>    @Query(value = &quot;SELECT &quot; +\n        &quot;new com.example.result.Result(res.Id&quot; +\n        &quot;,max(res.creationDate) as creationDate) &quot; +\n        &quot;from ExampleDAO res &quot; +\n        &quot;where res.userId = :userId &quot; +\n        &quot;GROUP BY res.Id&quot; )\nPage&lt;Result&gt; getPaginatedResult(@Param(&quot;userId&quot;) long userId,\n                                                   Pageable pageable);\n</code></pre>\n<p>And While creating a Pageable instance -</p>\n<pre><code>Pageable pageable = PageRequest.of(pageNum,pageSize,Sort.by(Sort.Direction.DESC,&quot;creationDate&quot;));\n</code></pre>\n<p>The '<strong>creationDate</strong>' in Pageable instance and Query should be same.</p>\n"}],"owner":{"account_id":6425738,"reputation":338,"user_id":4980966,"display_name":"max"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1779,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1690464796,"creation_date":1564393543,"question_id":57251172,"body_markdown":"My backend hast to return data in the following structure:\r\n\r\n         data: [{\r\n            key: &quot;Group 1&quot;,\r\n            items: [ ... ],         \r\n            count: 3,               \r\n        },{\r\n            key: &quot;Group 2&quot;,\r\n            items: [ ... ],         \r\n            count: 9,               \r\n        } ...]\r\n This data must be sortable and pageable. The following code is doing that:\r\n\r\n    public Page&lt;Report&gt; getReports(Integer skip, Integer take, String sortParams, String group) {\r\n           \r\n         Pageable pageable = createPageable(skip, take, sortParams); \r\n         Specifications&lt;Report&gt; filters = (Specifications&lt;Report&gt;) getFilters();\r\n            \r\n         return this.reportRepository.findAll(filters, pageable);\r\n        \r\n    }\r\n\r\n    @Repository\r\n    public interface ReportRepository extends PagingAndSortingRepository&lt;Report, String&gt;, JpaSpecificationExecutor&lt;Report&gt; {\r\n    \r\n    }\r\n\r\nAdditionally i want to group the result by attributes of the report class. Is there anyway to do this with spring-data? I couldn&#39;t find anything in their API.\r\n","title":"How to get paged and sorted groups with spring-data","body":"<p>My backend hast to return data in the following structure:</p>\n\n<pre><code>     data: [{\n        key: \"Group 1\",\n        items: [ ... ],         \n        count: 3,               \n    },{\n        key: \"Group 2\",\n        items: [ ... ],         \n        count: 9,               \n    } ...]\n</code></pre>\n\n<p>This data must be sortable and pageable. The following code is doing that:</p>\n\n<pre><code>public Page&lt;Report&gt; getReports(Integer skip, Integer take, String sortParams, String group) {\n\n     Pageable pageable = createPageable(skip, take, sortParams); \n     Specifications&lt;Report&gt; filters = (Specifications&lt;Report&gt;) getFilters();\n\n     return this.reportRepository.findAll(filters, pageable);\n\n}\n\n@Repository\npublic interface ReportRepository extends PagingAndSortingRepository&lt;Report, String&gt;, JpaSpecificationExecutor&lt;Report&gt; {\n\n}\n</code></pre>\n\n<p>Additionally i want to group the result by attributes of the report class. Is there anyway to do this with spring-data? I couldn't find anything in their API.</p>\n"},{"tags":["java","multithreading","reentrantlock"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1690452787,"post_id":76772753,"comment_id":135357179,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"comments":[{"owner":{"account_id":29096710,"reputation":3,"user_id":22289455,"display_name":"Cliser"},"score":0,"creation_date":1690397881,"post_id":76773322,"comment_id":135349598,"body_markdown":"But how can I actually tell the code to wait or not? If I invoke the .lock() method, each element has to wait the previous, no matter what. What i did was to put the ReentrantLock instance into a HashMap with the entity ID as a key, and if there was already an instance, I called the .wait() method, but I don&#39;t think it&#39;s the right way.","body":"But how can I actually tell the code to wait or not? If I invoke the .lock() method, each element has to wait the previous, no matter what. What i did was to put the ReentrantLock instance into a HashMap with the entity ID as a key, and if there was already an instance, I called the .wait() method, but I don&#39;t think it&#39;s the right way."},{"owner":{"account_id":29026638,"reputation":16,"user_id":22234634,"display_name":"cedar"},"score":0,"creation_date":1690431025,"post_id":76773322,"comment_id":135353583,"body_markdown":"So i would avoid using wait, notify in code as those are really low-level APIs. as you mentioned you are trying out ReentrantLock so only lock and unlock methods will suffice. You are correct on the part where you are putting objects into the map. the only issue is the result you want to achieve. the flow will be if there exists an instance in the map that means the lock is already held by some other thread. In that case, it is already being processed and will be available soon. Hope this helps.","body":"So i would avoid using wait, notify in code as those are really low-level APIs. as you mentioned you are trying out ReentrantLock so only lock and unlock methods will suffice. You are correct on the part where you are putting objects into the map. the only issue is the result you want to achieve. the flow will be if there exists an instance in the map that means the lock is already held by some other thread. In that case, it is already being processed and will be available soon. Hope this helps."},{"owner":{"account_id":29096710,"reputation":3,"user_id":22289455,"display_name":"Cliser"},"score":0,"creation_date":1690439275,"post_id":76773322,"comment_id":135354510,"body_markdown":"But (correct me if I&#39;m wrong) this way, all the threads will have to wait for the previous thread to be unlocked. While, I want some of them to wait and some others not. Maybe I don&#39;t need to use a ReentrantLock but something else..","body":"But (correct me if I&#39;m wrong) this way, all the threads will have to wait for the previous thread to be unlocked. While, I want some of them to wait and some others not. Maybe I don&#39;t need to use a ReentrantLock but something else.."}],"tags":[],"owner":{"account_id":29026638,"reputation":16,"user_id":22234634,"display_name":"cedar"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690388945,"creation_date":1690388945,"answer_id":76773322,"question_id":76772753,"body_markdown":"Cliser you are almost there just one thing you can do is, write repositories of lock that are mapped against ID in your case.\r\n\r\nWe can use HashMap to main these locks against ID in java. \r\n\r\nSteps as below:\r\n 1. in acquire method.. push ID into our hashmap and acquire a lock.\r\n 2. in the release method first you will look if ID exists in hashmap. if it does release the lock if conditions holds true\r\n\r\nLet me know if this helps.","title":"Java ReentrantLock by ID","body":"<p>Cliser you are almost there just one thing you can do is, write repositories of lock that are mapped against ID in your case.</p>\n<p>We can use HashMap to main these locks against ID in java.</p>\n<p>Steps as below:</p>\n<ol>\n<li>in acquire method.. push ID into our hashmap and acquire a lock.</li>\n<li>in the release method first you will look if ID exists in hashmap. if it does release the lock if conditions holds true</li>\n</ol>\n<p>Let me know if this helps.</p>\n"},{"comments":[{"owner":{"account_id":98471,"reputation":15227,"user_id":266531,"accept_rate":100,"display_name":"Kirby"},"score":0,"creation_date":1690822901,"post_id":76780238,"comment_id":135403459,"body_markdown":"thank you for posting a question and and an answer. for others that come here with the same problem, it would be great to include the code in both the original question and in your solution.","body":"thank you for posting a question and and an answer. for others that come here with the same problem, it would be great to include the code in both the original question and in your solution."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1690961335,"post_id":76780238,"comment_id":135424000,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76780238/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":29096710,"reputation":3,"user_id":22289455,"display_name":"Cliser"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690464406,"creation_date":1690464406,"answer_id":76780238,"question_id":76772753,"body_markdown":"The idea of the HashMap was correct, but I was calling the .lock() method, while I needed to call the .wait() method only for the threads that needed to wait, while the others could just go on.\r\nI created a HashMap&lt;Long, ReentrantLock&gt;, having the entity ID as the key and a new instance of the ReentrantLock as a value. When the &quot;main&quot; thread has finished, it calls the .notify() method, which randomly releases one of the waiting threads (and that&#39;s what I want), which (again) releases another thread when finished, and so on.","title":"Java ReentrantLock by ID","body":"<p>The idea of the HashMap was correct, but I was calling the .lock() method, while I needed to call the .wait() method only for the threads that needed to wait, while the others could just go on.\nI created a HashMap&lt;Long, ReentrantLock&gt;, having the entity ID as the key and a new instance of the ReentrantLock as a value. When the &quot;main&quot; thread has finished, it calls the .notify() method, which randomly releases one of the waiting threads (and that's what I want), which (again) releases another thread when finished, and so on.</p>\n"}],"owner":{"account_id":29096710,"reputation":3,"user_id":22289455,"display_name":"Cliser"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76773322,"answer_count":2,"score":0,"last_activity_date":1690464406,"creation_date":1690384439,"question_id":76772753,"body_markdown":"I&#39;m working on Java and I have a &quot;batch&quot; procedure, with multiple objects, and each one of them does something on the db (mainly updates). I want some of them to wait each other, but only if a specific condition is encountered.\r\nTo be precise, some of them may update the same entity, and Java gives an OptimisticLockException in that case, but some others may update other entities, so they don&#39;t have to wait.\r\nI would like to create a ReentrantLock (or something that works like that) with a specific ID (in this case, the entity ID), and only the ones which have the same ID may wait until it is unlocked, while the others can execute their code freely.\r\n\r\nI don&#39;t know if the request is clear, as english is not my first language, sorry. But, I would appreciate if someone can help me!\r\n\r\nThanks in advance.","title":"Java ReentrantLock by ID","body":"<p>I'm working on Java and I have a &quot;batch&quot; procedure, with multiple objects, and each one of them does something on the db (mainly updates). I want some of them to wait each other, but only if a specific condition is encountered.\nTo be precise, some of them may update the same entity, and Java gives an OptimisticLockException in that case, but some others may update other entities, so they don't have to wait.\nI would like to create a ReentrantLock (or something that works like that) with a specific ID (in this case, the entity ID), and only the ones which have the same ID may wait until it is unlocked, while the others can execute their code freely.</p>\n<p>I don't know if the request is clear, as english is not my first language, sorry. But, I would appreciate if someone can help me!</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","validation","certificate","x509certificate"],"comments":[{"owner":{"account_id":2029491,"reputation":9823,"user_id":1813616,"display_name":"Uwe Plonus"},"score":0,"creation_date":1411985385,"post_id":26097214,"comment_id":40895965,"body_markdown":"Can you please tell us what do you want to do with the certificates? In most cases the library used (e.g. `HTTPS` or `WS Security`) wil validate the certificate for you.","body":"Can you please tell us what do you want to do with the certificates? In most cases the library used (e.g. <code>HTTPS</code> or <code>WS Security</code>) wil validate the certificate for you."},{"owner":{"account_id":3249024,"reputation":407,"user_id":2739823,"accept_rate":70,"display_name":"user2739823"},"score":0,"creation_date":1411986018,"post_id":26097214,"comment_id":40896324,"body_markdown":"I would like to checkif certificate chain is valid or not. Or if the user is not reverse the place of certificates durring importing. In my app certificates are imported through UI as a text. -----BEGIN CERTIFICATE------- and so on. THanks","body":"I would like to checkif certificate chain is valid or not. Or if the user is not reverse the place of certificates durring importing. In my app certificates are imported through UI as a text. -----BEGIN CERTIFICATE------- and so on. THanks"}],"answers":[{"comments":[{"owner":{"account_id":3249024,"reputation":407,"user_id":2739823,"accept_rate":70,"display_name":"user2739823"},"score":0,"creation_date":1411988946,"post_id":26098254,"comment_id":40897857,"body_markdown":"InputStream inStream = ByteArrayInputStream(&lt;data&gt;); This &lt;data&gt; is  it List&lt;X509Certificate&gt; which contains all certificates before validation?","body":"InputStream inStream = ByteArrayInputStream(&lt;data&gt;); This &lt;data&gt; is  it List&lt;X509Certificate&gt; which contains all certificates before validation?"},{"owner":{"account_id":2029491,"reputation":9823,"user_id":1813616,"display_name":"Uwe Plonus"},"score":0,"creation_date":1411989535,"post_id":26098254,"comment_id":40898142,"body_markdown":"@user2739823 no the `&lt;data&gt;` is the raw data. So by simply using the `String` entered in the UI you can do byte[] `data = &lt;UIInput&gt;.getBytes()` assuming that `&lt;UIInput&gt;` is the `String` from the UI and there is no special character set used (perhaps check before that the `String` starts with `-----BEGIN CERTIFICATE-------`.","body":"@user2739823 no the <code>&lt;data&gt;</code> is the raw data. So by simply using the <code>String</code> entered in the UI you can do byte[] <code>data = &lt;UIInput&gt;.getBytes()</code> assuming that <code>&lt;UIInput&gt;</code> is the <code>String</code> from the UI and there is no special character set used (perhaps check before that the <code>String</code> starts with <code>-----BEGIN CERTIFICATE-------</code>."},{"owner":{"account_id":142731,"reputation":26535,"user_id":350615,"display_name":"Juha Palom&#228;ki"},"score":7,"creation_date":1503263849,"post_id":26098254,"comment_id":78531394,"body_markdown":"generateCertificatePath(..) method does not validate the certificate chain! It will create the chain out of whatever certificates you pass to it. There&#39;s separate classes (CertPathValidator) for performing the validation: http://docs.oracle.com/javase/7/docs/technotes/guides/security/certpath/CertPathProgGuide.html","body":"generateCertificatePath(..) method does not validate the certificate chain! It will create the chain out of whatever certificates you pass to it. There&#39;s separate classes (CertPathValidator) for performing the validation: <a href=\"http://docs.oracle.com/javase/7/docs/technotes/guides/security/certpath/CertPathProgGuide.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/technotes/guides/security/&hellip;</a>"},{"owner":{"account_id":2029491,"reputation":9823,"user_id":1813616,"display_name":"Uwe Plonus"},"score":0,"creation_date":1582807637,"post_id":26098254,"comment_id":106909386,"body_markdown":"@JuhaPalom&#228;ki If you read carefully then you will see that I wrote that you have to validate the certificate chain by yourself then. The getCertPath only returns the certificates but does not validate them...","body":"@JuhaPalom&#228;ki If you read carefully then you will see that I wrote that you have to validate the certificate chain by yourself then. The getCertPath only returns the certificates but does not validate them..."}],"tags":[],"owner":{"account_id":2029491,"reputation":9823,"user_id":1813616,"display_name":"Uwe Plonus"},"comment_count":4,"down_vote_count":4,"up_vote_count":4,"is_accepted":true,"score":0,"last_activity_date":1411988222,"creation_date":1411988222,"answer_id":26098254,"question_id":26097214,"body_markdown":"You can use the `java.security.cert.CertificateFactory` to validate your certificate chain.\r\n\r\n    InputStream inStream = ByteArrayInputStream(&lt;data&gt;);\r\n    CertificateFactory cf = CertificateFactory.getInstance(&quot;X.509&quot;);\r\n    CertPath cp = cf.generateCertPath(inStream);\r\n    List&lt;Certificate&gt; certs = cp.getCertificates();\r\n\r\nThe `certs` now contains the certificate chain. The first entry in `certs` (`certs[0]`) contais the certificate and the following certificates are the chain.\r\n\r\nThe last entry in `certs` is the root certificate which should be compared to a already existing certificate in your application.\r\n\r\nIn the case that the certification path could not be built up the above code will throw a `CertificateException`.","title":"Validate Certificate chain with java bouncing castle","body":"<p>You can use the <code>java.security.cert.CertificateFactory</code> to validate your certificate chain.</p>\n\n<pre><code>InputStream inStream = ByteArrayInputStream(&lt;data&gt;);\nCertificateFactory cf = CertificateFactory.getInstance(\"X.509\");\nCertPath cp = cf.generateCertPath(inStream);\nList&lt;Certificate&gt; certs = cp.getCertificates();\n</code></pre>\n\n<p>The <code>certs</code> now contains the certificate chain. The first entry in <code>certs</code> (<code>certs[0]</code>) contais the certificate and the following certificates are the chain.</p>\n\n<p>The last entry in <code>certs</code> is the root certificate which should be compared to a already existing certificate in your application.</p>\n\n<p>In the case that the certification path could not be built up the above code will throw a <code>CertificateException</code>.</p>\n"},{"tags":[],"owner":{"account_id":1576898,"reputation":2081,"user_id":1463100,"accept_rate":100,"display_name":"Markus Kreusch"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690463380,"creation_date":1690463380,"answer_id":76780082,"question_id":26097214,"body_markdown":"It is vital that the cert path is actually validated. As mentioned in Uwe Plonus&#39; answer you can create a `CertPath` object by using `CertificateFactory`. The answer is missing the actual validation logic as mentioned by Juha Palom&#228;ki.\r\nTo validate the `CertPath` additional steps must be performed:\r\n\r\n    // Load the CertPath;\r\n    CertificateFactory certificatFactory = CertificateFactory.getInstance(&quot;X.509&quot;);\r\n    CertPath certPath = certificatFactory.generateCertPath(certificateInput);\r\n\r\n    // Load a KeyStore initialized with the root CA certificates to trust\r\n    KeyStore trustStore = KeyStore.getInstance(&quot;JKS&quot;);\r\n    trustStore.load(trustStoreInput, trustStorePassword);\r\n\r\n    // Initialize a CertPathValidator\r\n    CertPathValidator certPathValidator = CertPathValidator.getInstance(&quot;PKIX&quot;);\r\n\r\n    // Do the validation\r\n    certPathValidator.validate(certPath, new PKIXParameters(trustStore));\r\n\r\nThe `validate` method will throw an `CertPathValidatorException` if the path does not validate. Otherwise it returns an instance of `PKIXCertPathValidatorResult` that contains details about the used trust anchor and subject public key. `CertPathValidator` in the default configuration will check that the certificates in the chain are linked, not expired and not revoked.","title":"Validate Certificate chain with java bouncing castle","body":"<p>It is vital that the cert path is actually validated. As mentioned in Uwe Plonus' answer you can create a <code>CertPath</code> object by using <code>CertificateFactory</code>. The answer is missing the actual validation logic as mentioned by Juha Palomäki.\nTo validate the <code>CertPath</code> additional steps must be performed:</p>\n<pre><code>// Load the CertPath;\nCertificateFactory certificatFactory = CertificateFactory.getInstance(&quot;X.509&quot;);\nCertPath certPath = certificatFactory.generateCertPath(certificateInput);\n\n// Load a KeyStore initialized with the root CA certificates to trust\nKeyStore trustStore = KeyStore.getInstance(&quot;JKS&quot;);\ntrustStore.load(trustStoreInput, trustStorePassword);\n\n// Initialize a CertPathValidator\nCertPathValidator certPathValidator = CertPathValidator.getInstance(&quot;PKIX&quot;);\n\n// Do the validation\ncertPathValidator.validate(certPath, new PKIXParameters(trustStore));\n</code></pre>\n<p>The <code>validate</code> method will throw an <code>CertPathValidatorException</code> if the path does not validate. Otherwise it returns an instance of <code>PKIXCertPathValidatorResult</code> that contains details about the used trust anchor and subject public key. <code>CertPathValidator</code> in the default configuration will check that the certificates in the chain are linked, not expired and not revoked.</p>\n"}],"owner":{"account_id":3249024,"reputation":407,"user_id":2739823,"accept_rate":70,"display_name":"user2739823"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6060,"favorite_count":0,"down_vote_count":2,"up_vote_count":5,"accepted_answer_id":26098254,"answer_count":2,"score":3,"last_activity_date":1690463380,"creation_date":1411984757,"question_id":26097214,"body_markdown":"I would like to validate a certificate chain which will be imported into my app. I do not know how.\r\n\r\nMy coleagues told me, that I have to use Bouncing castle for validation. I saw several examples and still do not have any progress.\r\n\r\nI have a `List&lt;X509Certificate&gt;` which contains all certificates which are imported from the UI, and also the `PrivateKey`.\r\n\r\nCould you please show me how to validate the certificate chain with Bouncing castle.","title":"Validate Certificate chain with java bouncing castle","body":"<p>I would like to validate a certificate chain which will be imported into my app. I do not know how.</p>\n\n<p>My coleagues told me, that I have to use Bouncing castle for validation. I saw several examples and still do not have any progress.</p>\n\n<p>I have a <code>List&lt;X509Certificate&gt;</code> which contains all certificates which are imported from the UI, and also the <code>PrivateKey</code>.</p>\n\n<p>Could you please show me how to validate the certificate chain with Bouncing castle.</p>\n"},{"tags":["java","spring","spring-boot","maven","spring-mvc"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1690460283,"post_id":76779225,"comment_id":135358771,"body_markdown":"Your dependencies are a mess, you are mixing incompatible versions. Remove the version from `spring-boot-starter-data-jpa` and for the Spring BOot version use 2.7.14 which will include the most recent Spring version.","body":"Your dependencies are a mess, you are mixing incompatible versions. Remove the version from <code>spring-boot-starter-data-jpa</code> and for the Spring BOot version use 2.7.14 which will include the most recent Spring version."}],"answers":[{"comments":[{"owner":{"account_id":16174613,"reputation":15,"user_id":11677593,"display_name":"Blesson Xavier"},"score":0,"creation_date":1690463494,"post_id":76779837,"comment_id":135359613,"body_markdown":"Thank you for the clarification!!\nWent and checked the reference docs and found I got nothing to worry about","body":"Thank you for the clarification!! Went and checked the reference docs and found I got nothing to worry about"}],"tags":[],"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1690462499,"creation_date":1690461677,"answer_id":76779837,"question_id":76779225,"body_markdown":"The issue is that you&#39;re confusing Spring Boot&#39;s version with Spring&#39;s version. Both of these projects follow a difference release cadence. For example, the current version of Spring is 6.0.x, while Spring Boot is currently at 3.1.x.\r\n\r\nThis is why your IDE cannot resolve `org.springframework.boot:spring-boot-starter-parent:pom:5.2.22`and why you can&#39;t select it in Spring Initializr. Spring Boot 5.x simply does not exist.\r\n\r\nTo find out which version of the Spring framework is used within Spring Boot 2.7.7, you can check [the reference guide](https://docs.spring.io/spring-boot/docs/2.7.7/reference/html/dependency-versions.html)&lt;sup&gt;(1)&lt;/sup&gt;. You&#39;ll see that this version relies on **Spring 5.3.24**, and thus, should not be impacted by the CVE.\r\n\r\nAlso be aware that some code analysis tools also sometimes mistakenly identify Spring Boot&#39;s version for Spring&#39;s version. This can cause false positives to appear in the list of vulnerabilities. That&#39;s why it&#39;s important to always read the CVE first and double-check whether you&#39;re impacted.\r\n\r\n---\r\n\r\n&lt;sup&gt;(1) Change the Spring Boot version in the URL if you want to check this for other versions as well.&lt;/sup&gt;","title":"Upgrading to maven Springboot 5.2.x from Springboot 2.7.x for CVE Vulnerability","body":"<p>The issue is that you're confusing Spring Boot's version with Spring's version. Both of these projects follow a difference release cadence. For example, the current version of Spring is 6.0.x, while Spring Boot is currently at 3.1.x.</p>\n<p>This is why your IDE cannot resolve <code>org.springframework.boot:spring-boot-starter-parent:pom:5.2.22</code>and why you can't select it in Spring Initializr. Spring Boot 5.x simply does not exist.</p>\n<p>To find out which version of the Spring framework is used within Spring Boot 2.7.7, you can check <a href=\"https://docs.spring.io/spring-boot/docs/2.7.7/reference/html/dependency-versions.html\" rel=\"nofollow noreferrer\">the reference guide</a><sup>(1)</sup>. You'll see that this version relies on <strong>Spring 5.3.24</strong>, and thus, should not be impacted by the CVE.</p>\n<p>Also be aware that some code analysis tools also sometimes mistakenly identify Spring Boot's version for Spring's version. This can cause false positives to appear in the list of vulnerabilities. That's why it's important to always read the CVE first and double-check whether you're impacted.</p>\n<hr />\n<p><sup>(1) Change the Spring Boot version in the URL if you want to check this for other versions as well.</sup></p>\n"}],"owner":{"account_id":16174613,"reputation":15,"user_id":11677593,"display_name":"Blesson Xavier"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":276,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690462499,"creation_date":1690456759,"question_id":76779225,"body_markdown":"I am a complete Noobie in Springboot framework making simple Rest APIs\r\n\r\nWe deployed an API and a URL Shortener service for a subsidiary of an Organization who is super keen on Info Sec Aspect \r\n\r\nApparently their InfoSec Team listed a set of Vulnerabilities with CVE ids,\r\nWe are currently using Springboot 2.7.7\r\nMany of the CVEs’ that they have added are vulnerabilities (eg. CVE-2022-22965 ) requires  \r\nSpring Framework 5.2.22 atleast \r\n\r\nhttps://spring.io/security/cve-2022-22965\r\n\r\n\r\n**Problem 1)** How to know if Springboot 2.7.7 gets affected by this vulnerability \r\n\r\n**Problem 2)** Even if I have to upgrade to 5.x version to remove this vulnerability and transfer the whole existing code and change the version in Eclipse POM.XML I get the following error in POM.XML\r\n\r\n\r\n\r\n```Multiple markers at this line\r\n- Project build error: Non-resolvable parent POM for com.Solus_Microservice:reco_API:0.0.1-SNAPSHOT: org.springframework.boot:spring-boot-starter-parent:pom:5.2.22 was not found in https://repo.maven.apache.org/maven2 during a previous attempt. This failure was cached in the local repository and resolution is not reattempted until the update interval of central has elapsed or updates are forced and &#39;parent.relativePath&#39; points at no local POM\r\n- Non-resolvable parent POM for com.Solus_Microservice:reco_API:0.0.1-SNAPSHOT: Could not find artifact org.springframework.boot:spring-boot-starter-parent:pom:5.2. in central (https://repo.maven.apache.org/maven2)\r\n```\r\n\r\n\r\nAt this exact location \r\n[![enter image description here][1]][1]\r\n\r\nAnd later creating issues in other places like Annotations not getting resolved and stuff\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n**Problem 3)** Spring Initializr does not have option for selecting Spring 5.x, just limited to 3.x\r\nDidnt find any tutorial/resource to find how to make a complete maven project with Spring boot of our choice \r\n\r\nThe Rest API application I am trying to upgrade has a simple Controller-Entity-Repository design that Queries a MySql database \r\n\r\nWould be thankful for any help in updating this Vulnerability \r\n\r\nArticle given below does not give much reference as to where to make the changes\r\nhttps://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.0-Release-Notes\r\n\r\nAlso read something Conflicting that \r\n`Spring Boot 2.0 builds on and requires Spring Framework 5.` here https://github.com/spring-projects/spring-framework/wiki/Upgrading-to-Spring-Framework-5.x#upgrading-to-version-50\r\n\r\nDoes it mean that I dont need to upgrade in the first place itself\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ELiDF.png\r\n  [2]: https://i.stack.imgur.com/3PINX.png\r\n\r\nHave pasted my current POM.XML below\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.7&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.Simple_Microservice&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;reco_API&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\t&lt;name&gt;reco_API&lt;/name&gt;\r\n\t&lt;description&gt;Solus Recommendation API&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.1.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n        &lt;/exclusion&gt;\r\n        &lt;exclusion&gt;\r\n            &lt;artifactId&gt;log4j-over-slf4j&lt;/artifactId&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n        &lt;/exclusion&gt;\r\n    &lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;8.0.24&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt; \r\n    &lt;groupId&gt;commons-lang&lt;/groupId&gt; \r\n    &lt;artifactId&gt;commons-lang&lt;/artifactId&gt; \r\n    &lt;version&gt;2.6&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n    &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n        &lt;/exclusion&gt;\r\n        &lt;exclusion&gt;\r\n            &lt;artifactId&gt;log4j-over-slf4j&lt;/artifactId&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n        &lt;/exclusion&gt;\r\n    &lt;/exclusions&gt;\r\n&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n                        &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n                &lt;/dependency&gt;\r\n                &lt;dependency&gt;\r\n                        &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\r\n                        &lt;version&gt;0.9.1&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n                &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;javax.json&lt;/artifactId&gt;\r\n                        &lt;version&gt;1.0.4&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n                &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n                &lt;/dependency&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.json&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;json&lt;/artifactId&gt;\r\n                    &lt;version&gt;20210307&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n                &lt;dependency&gt;\r\n                &lt;groupId&gt;org.owasp.esapi&lt;/groupId&gt;\r\n                &lt;artifactId&gt;esapi&lt;/artifactId&gt;\r\n                &lt;version&gt;2.2.3.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```","title":"Upgrading to maven Springboot 5.2.x from Springboot 2.7.x for CVE Vulnerability","body":"<p>I am a complete Noobie in Springboot framework making simple Rest APIs</p>\n<p>We deployed an API and a URL Shortener service for a subsidiary of an Organization who is super keen on Info Sec Aspect</p>\n<p>Apparently their InfoSec Team listed a set of Vulnerabilities with CVE ids,\nWe are currently using Springboot 2.7.7\nMany of the CVEs’ that they have added are vulnerabilities (eg. CVE-2022-22965 ) requires<br />\nSpring Framework 5.2.22 atleast</p>\n<p><a href=\"https://spring.io/security/cve-2022-22965\" rel=\"nofollow noreferrer\">https://spring.io/security/cve-2022-22965</a></p>\n<p><strong>Problem 1)</strong> How to know if Springboot 2.7.7 gets affected by this vulnerability</p>\n<p><strong>Problem 2)</strong> Even if I have to upgrade to 5.x version to remove this vulnerability and transfer the whole existing code and change the version in Eclipse POM.XML I get the following error in POM.XML</p>\n<pre><code>- Project build error: Non-resolvable parent POM for com.Solus_Microservice:reco_API:0.0.1-SNAPSHOT: org.springframework.boot:spring-boot-starter-parent:pom:5.2.22 was not found in https://repo.maven.apache.org/maven2 during a previous attempt. This failure was cached in the local repository and resolution is not reattempted until the update interval of central has elapsed or updates are forced and 'parent.relativePath' points at no local POM\n- Non-resolvable parent POM for com.Solus_Microservice:reco_API:0.0.1-SNAPSHOT: Could not find artifact org.springframework.boot:spring-boot-starter-parent:pom:5.2. in central (https://repo.maven.apache.org/maven2)\n</code></pre>\n<p>At this exact location\n<a href=\"https://i.stack.imgur.com/ELiDF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ELiDF.png\" alt=\"enter image description here\" /></a></p>\n<p>And later creating issues in other places like Annotations not getting resolved and stuff</p>\n<p><a href=\"https://i.stack.imgur.com/3PINX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3PINX.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Problem 3)</strong> Spring Initializr does not have option for selecting Spring 5.x, just limited to 3.x\nDidnt find any tutorial/resource to find how to make a complete maven project with Spring boot of our choice</p>\n<p>The Rest API application I am trying to upgrade has a simple Controller-Entity-Repository design that Queries a MySql database</p>\n<p>Would be thankful for any help in updating this Vulnerability</p>\n<p>Article given below does not give much reference as to where to make the changes\n<a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.0-Release-Notes\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.0-Release-Notes</a></p>\n<p>Also read something Conflicting that\n<code>Spring Boot 2.0 builds on and requires Spring Framework 5.</code> here <a href=\"https://github.com/spring-projects/spring-framework/wiki/Upgrading-to-Spring-Framework-5.x#upgrading-to-version-50\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-framework/wiki/Upgrading-to-Spring-Framework-5.x#upgrading-to-version-50</a></p>\n<p>Does it mean that I dont need to upgrade in the first place itself</p>\n<p>Have pasted my current POM.XML below</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.7&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.Simple_Microservice&lt;/groupId&gt;\n    &lt;artifactId&gt;reco_API&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;name&gt;reco_API&lt;/name&gt;\n    &lt;description&gt;Solus Recommendation API&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n            &lt;version&gt;3.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n        &lt;/exclusion&gt;\n        &lt;exclusion&gt;\n            &lt;artifactId&gt;log4j-over-slf4j&lt;/artifactId&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;8.0.24&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt; \n    &lt;groupId&gt;commons-lang&lt;/groupId&gt; \n    &lt;artifactId&gt;commons-lang&lt;/artifactId&gt; \n    &lt;version&gt;2.6&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n        &lt;/exclusion&gt;\n        &lt;exclusion&gt;\n            &lt;artifactId&gt;log4j-over-slf4j&lt;/artifactId&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n\n        &lt;dependency&gt;\n                        &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n                        &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n                &lt;/dependency&gt;\n                &lt;dependency&gt;\n                        &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n                        &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\n                        &lt;version&gt;0.9.1&lt;/version&gt;\n                &lt;/dependency&gt;\n                &lt;dependency&gt;\n                        &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\n                        &lt;artifactId&gt;javax.json&lt;/artifactId&gt;\n                        &lt;version&gt;1.0.4&lt;/version&gt;\n                &lt;/dependency&gt;\n                &lt;dependency&gt;\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                        &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n                &lt;/dependency&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.json&lt;/groupId&gt;\n                    &lt;artifactId&gt;json&lt;/artifactId&gt;\n                    &lt;version&gt;20210307&lt;/version&gt;\n                &lt;/dependency&gt;\n                &lt;dependency&gt;\n                &lt;groupId&gt;org.owasp.esapi&lt;/groupId&gt;\n                &lt;artifactId&gt;esapi&lt;/artifactId&gt;\n                &lt;version&gt;2.2.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n"},{"tags":["java","ignite"],"answers":[{"comments":[{"owner":{"account_id":1460538,"reputation":4277,"user_id":1374987,"accept_rate":70,"display_name":"PentaKon"},"score":0,"creation_date":1690406994,"post_id":76774205,"comment_id":135351158,"body_markdown":"I found the solution since then. It was the rebalancing issue you mention and when I started listening to `EventType.EVT_CACHE_REBALANCE_STOPPED` I got the results I was expecting. Wasn&#39;t really aware of the rebalancing process until now so this whole thing eluded me.","body":"I found the solution since then. It was the rebalancing issue you mention and when I started listening to <code>EventType.EVT_CACHE_REBALANCE_STOPPED</code> I got the results I was expecting. Wasn&#39;t really aware of the rebalancing process until now so this whole thing eluded me."}],"tags":[],"owner":{"account_id":5527275,"reputation":696,"user_id":4388399,"display_name":"Andrei Aleksandrov"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690397272,"creation_date":1690397272,"answer_id":76774205,"question_id":76772152,"body_markdown":"There are several possible cases:\r\n\r\n1)You are having rebalance in progress. During rebalance is in progress you will not see some entries on the LOCAL node (via localPeek, eg). But they should be available by normal get/sql (because affinity function will always show the actual location of the key&#39;s value. After rebalance this can be changed)\r\n\r\nCould you please share your itterator code?\r\n\r\n2)New node can be out of baseline (in case of persistence). In this case, such node should be added to the baseline:\r\n\r\nhttps://ignite.apache.org/docs/latest/clustering/baseline-topology\r\n\r\nPlease update you initial question and add cache configuration and code sample. Also provide output of:\r\n\r\n    control.sh --baseline","title":"Apache Ignite REPLICATED SYNC IgniteCache is not populated upon creation","body":"<p>There are several possible cases:</p>\n<p>1)You are having rebalance in progress. During rebalance is in progress you will not see some entries on the LOCAL node (via localPeek, eg). But they should be available by normal get/sql (because affinity function will always show the actual location of the key's value. After rebalance this can be changed)</p>\n<p>Could you please share your itterator code?</p>\n<p>2)New node can be out of baseline (in case of persistence). In this case, such node should be added to the baseline:</p>\n<p><a href=\"https://ignite.apache.org/docs/latest/clustering/baseline-topology\" rel=\"nofollow noreferrer\">https://ignite.apache.org/docs/latest/clustering/baseline-topology</a></p>\n<p>Please update you initial question and add cache configuration and code sample. Also provide output of:</p>\n<pre><code>control.sh --baseline\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1460538,"reputation":4277,"user_id":1374987,"accept_rate":70,"display_name":"PentaKon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690462182,"creation_date":1690462182,"answer_id":76779910,"question_id":76772152,"body_markdown":"The solution is to add a listener to `EventType.EVT_CACHE_REBALANCE_STOPPED` and execute any logic inside since this event is triggered after the cache has been populated with its respective data (in this case all of the entries since we have `REPLICATED` mode).\r\n\r\n    ignite.events().enableLocal(EventType.EVT_CACHE_REBALANCE_STOPPED);\r\n    ignite.events().localListen(event -&gt; {\r\n      if(event instanceof CacheRebalancingEvent &amp;&amp; ((CacheRebalancingEvent) event).cacheName().equals(&quot;myCacheName&quot;)) {\r\n        for (Cache.Entry&lt;String, Object&gt; entry : myCache) {\r\n          logic(null, entry.getValue());\r\n        }\r\n        ignite.events().disableLocal(EventType.EVT_CACHE_REBALANCE_STOPPED);\r\n        return false;\r\n      }\r\n      return true;\r\n    }, EventType.EVT_CACHE_REBALANCE_STOPPED);\r\n    // ...\r\n    IgniteCache myCache = ignite.getOrCreateCache(cacheConfiguration(&quot;myCacheName&quot;));","title":"Apache Ignite REPLICATED SYNC IgniteCache is not populated upon creation","body":"<p>The solution is to add a listener to <code>EventType.EVT_CACHE_REBALANCE_STOPPED</code> and execute any logic inside since this event is triggered after the cache has been populated with its respective data (in this case all of the entries since we have <code>REPLICATED</code> mode).</p>\n<pre><code>ignite.events().enableLocal(EventType.EVT_CACHE_REBALANCE_STOPPED);\nignite.events().localListen(event -&gt; {\n  if(event instanceof CacheRebalancingEvent &amp;&amp; ((CacheRebalancingEvent) event).cacheName().equals(&quot;myCacheName&quot;)) {\n    for (Cache.Entry&lt;String, Object&gt; entry : myCache) {\n      logic(null, entry.getValue());\n    }\n    ignite.events().disableLocal(EventType.EVT_CACHE_REBALANCE_STOPPED);\n    return false;\n  }\n  return true;\n}, EventType.EVT_CACHE_REBALANCE_STOPPED);\n// ...\nIgniteCache myCache = ignite.getOrCreateCache(cacheConfiguration(&quot;myCacheName&quot;));\n</code></pre>\n"}],"owner":{"account_id":1460538,"reputation":4277,"user_id":1374987,"accept_rate":70,"display_name":"PentaKon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76779910,"answer_count":2,"score":1,"last_activity_date":1690462182,"creation_date":1690380426,"question_id":76772152,"body_markdown":"I have an Apache Ignite Server node cluster and some `IgniteCache`s defined. The first node in the cluster has populated the cache with some values. When a new node joins, it gets an instance of that cache but when I try to iterate through the existing values the `iterator` has no next element. If I try to access a specific entry via `.get(String key)` then the entry is fetched. \r\n\r\nThis makes me think that values are not immediately made available to new nodes, even though the replication mode is `REPLICATED` and the rebalance mode is `SYNC`. `SYNC` mode javadoc says that the cache won&#39;t start until all necessary data is loaded from other grid nodes which doesn&#39;t seem to be the case. I have tried everything from listening to `CACHE_STARTED` events to trying to force a load but nothing works. \r\n\r\nI&#39;m just looking to run some logic **after** the `IgniteCache` instance has been created and populated with the grid data.","title":"Apache Ignite REPLICATED SYNC IgniteCache is not populated upon creation","body":"<p>I have an Apache Ignite Server node cluster and some <code>IgniteCache</code>s defined. The first node in the cluster has populated the cache with some values. When a new node joins, it gets an instance of that cache but when I try to iterate through the existing values the <code>iterator</code> has no next element. If I try to access a specific entry via <code>.get(String key)</code> then the entry is fetched.</p>\n<p>This makes me think that values are not immediately made available to new nodes, even though the replication mode is <code>REPLICATED</code> and the rebalance mode is <code>SYNC</code>. <code>SYNC</code> mode javadoc says that the cache won't start until all necessary data is loaded from other grid nodes which doesn't seem to be the case. I have tried everything from listening to <code>CACHE_STARTED</code> events to trying to force a load but nothing works.</p>\n<p>I'm just looking to run some logic <strong>after</strong> the <code>IgniteCache</code> instance has been created and populated with the grid data.</p>\n"},{"tags":["java","spring","hibernate","exception","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":2634374,"reputation":2142,"user_id":2279490,"accept_rate":78,"display_name":"obecker"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1374958885,"creation_date":1374958885,"answer_id":17902428,"question_id":17901932,"body_markdown":"As the error message states: your ``ProPurchaseOrderModel`` has a reference to another entity (most probably ``InvItemModel`` and/or ``InvUOMExtendedModel``) which itself is not saved yet.\r\nEither you save these entities first, or (probably better) you fix your mapping so that these referenced objects will be saved automatically by declaring a *cascade* for *persist*.\r\n\r\nIf you are using annotations, this done for example on a many-to-one relationship with\r\n\r\n        @ManyToOne(cascade = CascadeType.PERSIST)\r\n\r\nor even\r\n\r\n        @ManyToOne(cascade = CascadeType.ALL)\r\n","title":"org.springframework.dao.InvalidDataAccessApiUsageException","body":"<p>As the error message states: your <code>ProPurchaseOrderModel</code> has a reference to another entity (most probably <code>InvItemModel</code> and/or <code>InvUOMExtendedModel</code>) which itself is not saved yet.\nEither you save these entities first, or (probably better) you fix your mapping so that these referenced objects will be saved automatically by declaring a <em>cascade</em> for <em>persist</em>.</p>\n\n<p>If you are using annotations, this done for example on a many-to-one relationship with</p>\n\n<pre><code>    @ManyToOne(cascade = CascadeType.PERSIST)\n</code></pre>\n\n<p>or even</p>\n\n<pre><code>    @ManyToOne(cascade = CascadeType.ALL)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23977829,"reputation":49,"user_id":17965696,"display_name":"Nizar YAKOUBI"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690462078,"creation_date":1690462078,"answer_id":76779895,"question_id":17901932,"body_markdown":"Regardless of the code if you ever had as a nested exception *org.springframework.dao.InvalidDataAccessApiUsageException* with a docker DB and it was working fine before without any new changes consider restarting the computer, we lost 2 hours trying to debug this / invalidate cache/ restarting docker and it just worked after restarting the whole machine (MAC M1)","title":"org.springframework.dao.InvalidDataAccessApiUsageException","body":"<p>Regardless of the code if you ever had as a nested exception <em>org.springframework.dao.InvalidDataAccessApiUsageException</em> with a docker DB and it was working fine before without any new changes consider restarting the computer, we lost 2 hours trying to debug this / invalidate cache/ restarting docker and it just worked after restarting the whole machine (MAC M1)</p>\n"}],"owner":{"account_id":551326,"reputation":3001,"user_id":916138,"accept_rate":45,"display_name":"Shahid Ghafoor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63357,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":2,"score":7,"last_activity_date":1690462078,"creation_date":1374955148,"question_id":17901932,"body_markdown":"I am using Spring MVC + Hibernate\r\n---------------------------------\r\n\r\n**Generic Method**\r\n\r\n    public &lt;T, E&gt; void saveOrUpdate(T entity, List&lt;E&gt; list) throws DataAccessException {\r\n\t\t\r\n\t\tSession session = sessionFactory.getCurrentSession();\r\n\t\tsession.saveOrUpdate(entity);\r\n\t\tfor(E getlist : list){\r\n\t\tsession.saveOrUpdate(getlist);\r\n\t\t}\r\n\t}\r\n\r\n**(Following )Controller Working Fine**\r\n\r\n    @Controller\r\n    public class FinGeneralJournalController {\r\n\r\n        protected static Logger log = Logger\r\n            .getLogger(FinGeneralJournalController.class);\r\n\r\n        @Resource(name = &quot;PersistenceTemplate&quot;)\r\n        private PersistenceTemplate pt;\r\n        \r\n        @RequestMapping(value = &quot;/AddFinGeneralJournal&quot;, method = RequestMethod.POST)\r\n        public @ResponseBody\r\n        JsonResponseStatus addGeneralJournalEntry(\r\n            @RequestParam(value=&quot;description&quot;, required=true) String description,\r\n            @RequestParam(value=&quot;trxDate&quot;, required=true) Date trxDate,\r\n            @RequestParam(value=&quot;sourceDocumentId&quot;, required=true) long sourceDocumentId,\r\n            @RequestParam(value=&quot;currencyId&quot;, required=true) long currencyId,\r\n            @RequestParam(value=&quot;batchId&quot;, required=true) long batchId,\r\n            @RequestParam(value=&quot;tableList&quot;, required=true) String tableList, HttpSession session ) {\r\n\r\n            Date sysdate = null;\r\n            JsonResponseStatus response = null;\r\n            List&lt;FinGeneralJournalEntryModel&gt; list=null;\r\n            FinGeneralJournalEntryModel generalJournalEntryModel= null;\r\n            try {\r\n                long userId=Long.parseLong(session.getAttribute(&quot;userId&quot;).toString());\r\n                String userIp=session.getAttribute(&quot;userIp&quot;).toString();\r\n\r\n                sysdate = new Date();\r\n                response = new JsonResponseStatus();\r\n\r\n                FinGeneralJournalModel generalJournalModel  = new FinGeneralJournalModel(description,\r\n                    trxDate, userId, userIp, sysdate, 0);\r\n\r\n                generalJournalModel.setFko_gj_batch(new FinBatchModel(batchId));\r\n                generalJournalModel.setFko_gj_srcdoc(new FinSourceDocumentModel(sourceDocumentId));\r\n                generalJournalModel.setFko_gj_curr(new GenCurrencyModel(currencyId));\r\n                \r\n                list= new ArrayList&lt;FinGeneralJournalEntryModel&gt;();\r\n\r\n                String []getDistributionlist=tableList.split(&quot;,&quot;);\r\n\r\n                for (int i=0; i&lt;getDistributionlist.length; i+=6){\r\n\r\n                    generalJournalEntryModel= new FinGeneralJournalEntryModel(Long.parseLong(getDistributionlist[i+3].toString()),\r\n                            Long.parseLong(getDistributionlist[i+4].toString()),\r\n                            currencyId, 86.5, userId, userIp, sysdate, 0);\r\n\r\n                    generalJournalEntryModel.setFko_gje_gj(generalJournalModel);\r\n                    generalJournalEntryModel.setFko_gje_coam(new FinCOAMaintenanceModel(Long.parseLong(getDistributionlist[i].toString())));\r\n\r\n                    list.add(generalJournalEntryModel);\r\n                }\r\n\r\n                pt.saveOrUpdate(generalJournalModel,list);\r\n\r\n                response.setStatus(&quot;Success&quot;);\r\n            } catch (Exception ex) {\r\n                log.error(&quot;Exception..&quot; + ex);\r\n                response.setStatus(&quot;Fail&quot;);\r\n            }\r\n            return response;\r\n        }\r\n    }\r\n\r\n**another following controller same like above but giving exception** \r\n\r\n    @Controller\r\n    public class ProPurchaseOrderController {\r\n        protected static Logger log = Logger\r\n            .getLogger(ProPurchaseOrderController.class);\r\n\r\n        @Resource(name = &quot;PersistenceTemplate&quot;)\r\n        private PersistenceTemplate pt;\r\n\r\n        @RequestMapping(value = &quot;/AddProPurchaseOrder&quot;, method = RequestMethod.POST)\r\n        public @ResponseBody\r\n        JsonResponseStatus AddProPurchaseOrder(\r\n            @RequestParam(value=&quot;poDesc&quot;, required=true) String poDesc,\r\n            @RequestParam(value=&quot;poTrxDate&quot;, required=true) Date poTrxDate,\r\n            @RequestParam(value=&quot;supplierId&quot;, required=true) long supplierId,\r\n            @RequestParam(value=&quot;currencyId&quot;, required=true) long currencyId,\r\n            @RequestParam(value=&quot;batchId&quot;, required=true) long batchId,\r\n            @RequestParam(value=&quot;poSubTotal&quot;, required=true) double poSubTotal,\r\n            @RequestParam(value=&quot;poDiscount&quot;, required=true) double poDiscount,\r\n            @RequestParam(value=&quot;poFreight&quot;, required=true) double poFreight,\r\n            @RequestParam(value=&quot;poTax&quot;, required=true) double poTax,\r\n            @RequestParam(value=&quot;poMisc&quot;, required=true) double poMisc,\r\n            @RequestParam(value=&quot;poGTotal&quot;, required=true) double poGTotal,\r\n            @RequestParam(value=&quot;tableList&quot;, required=true) String tableList, HttpSession session ) {\r\n\r\n            Date sysdate = null;\r\n            JsonResponseStatus response = null;\r\n            ProPurchaseOrderModel purchaseOrder=null;\r\n            ProPurchaseOrderEntryModel purchaseOrderEntry=null;\r\n            List&lt;ProPurchaseOrderEntryModel&gt; list=null;\r\n\r\n            try {\r\n                sysdate = new Date();\r\n                response = new JsonResponseStatus();\r\n\r\n                long userId=Long.parseLong(session.getAttribute(&quot;userId&quot;).toString());\r\n                String userIp=session.getAttribute(&quot;userIp&quot;).toString();\r\n\r\n                purchaseOrder= new ProPurchaseOrderModel(poDesc, poTrxDate, poSubTotal, poFreight, poTax, poMisc, poDiscount,\r\n                    0, 0, userId, userIp, sysdate, 0);\r\n\r\n                purchaseOrder.setFko_po_batch(new ProBatchModel(batchId));\r\n                purchaseOrder.setFko_po_currency(new GenCurrencyModel(currencyId));\r\n                purchaseOrder.setFko_po_supp(new ProSupplierModel(supplierId));\r\n\r\n                list= new ArrayList&lt;ProPurchaseOrderEntryModel&gt;();\r\n\r\n                String []getItemlist=tableList.split(&quot;,&quot;);\r\n\r\n                for (int i=0; i&lt;getItemlist.length; i+=11){\r\n\r\n                    double actualQuantity=Double.parseDouble(getItemlist[i+5].toString());\r\n                    double fraction=Double.parseDouble(getItemlist[i+6].toString());\r\n                    double baseQuantity=Double.parseDouble(getItemlist[i+7].toString());\r\n                    double cost=Double.parseDouble(getItemlist[i+8].toString());\r\n                    double total=Double.parseDouble(getItemlist[i+9].toString());\r\n\r\n                    purchaseOrderEntry= new ProPurchaseOrderEntryModel(actualQuantity, fraction, baseQuantity, cost, total,\r\n                        0, 0, userId, userIp, sysdate, 0);\r\n\r\n                    purchaseOrderEntry.setFko_poe_uome(new InvUOMExtendedModel(Long.parseLong(getItemlist[i+4].toString())));\r\n                    purchaseOrderEntry.setFko_poe_item(new InvItemModel(Long.parseLong(getItemlist[i].toString())));\r\n                    purchaseOrderEntry.setFko_poe_po(purchaseOrder);\r\n\r\n                    list.add(purchaseOrderEntry);\r\n                }\r\n                \r\n                pt.saveOrUpdate(purchaseOrderEntry,list);\r\n                response.setStatus(&quot;Success&quot;);\r\n            } catch (Exception ex) {\r\n                log.error(&quot;Exception..&quot; + ex);\r\n                response.setStatus(&quot;Fail&quot;);\r\n            }\r\n            return response;\r\n        }\r\n    }\r\n\r\n**Exception is** \r\n\r\n**Exception..org.springframework.dao.InvalidDataAccessApiUsageException: object references an unsaved transient instance - save the transient instance before flushing: com.soft.erp.pro.model.ProPurchaseOrderModel; nested exception is org.hibernate.TransientObjectException: object references an unsaved transient instance - save the transient instance before flushing**","title":"org.springframework.dao.InvalidDataAccessApiUsageException","body":"<h2>I am using Spring MVC + Hibernate</h2>\n\n<p><strong>Generic Method</strong></p>\n\n<pre><code>public &lt;T, E&gt; void saveOrUpdate(T entity, List&lt;E&gt; list) throws DataAccessException {\n\n    Session session = sessionFactory.getCurrentSession();\n    session.saveOrUpdate(entity);\n    for(E getlist : list){\n    session.saveOrUpdate(getlist);\n    }\n}\n</code></pre>\n\n<p><strong>(Following )Controller Working Fine</strong></p>\n\n<pre><code>@Controller\npublic class FinGeneralJournalController {\n\n    protected static Logger log = Logger\n        .getLogger(FinGeneralJournalController.class);\n\n    @Resource(name = \"PersistenceTemplate\")\n    private PersistenceTemplate pt;\n\n    @RequestMapping(value = \"/AddFinGeneralJournal\", method = RequestMethod.POST)\n    public @ResponseBody\n    JsonResponseStatus addGeneralJournalEntry(\n        @RequestParam(value=\"description\", required=true) String description,\n        @RequestParam(value=\"trxDate\", required=true) Date trxDate,\n        @RequestParam(value=\"sourceDocumentId\", required=true) long sourceDocumentId,\n        @RequestParam(value=\"currencyId\", required=true) long currencyId,\n        @RequestParam(value=\"batchId\", required=true) long batchId,\n        @RequestParam(value=\"tableList\", required=true) String tableList, HttpSession session ) {\n\n        Date sysdate = null;\n        JsonResponseStatus response = null;\n        List&lt;FinGeneralJournalEntryModel&gt; list=null;\n        FinGeneralJournalEntryModel generalJournalEntryModel= null;\n        try {\n            long userId=Long.parseLong(session.getAttribute(\"userId\").toString());\n            String userIp=session.getAttribute(\"userIp\").toString();\n\n            sysdate = new Date();\n            response = new JsonResponseStatus();\n\n            FinGeneralJournalModel generalJournalModel  = new FinGeneralJournalModel(description,\n                trxDate, userId, userIp, sysdate, 0);\n\n            generalJournalModel.setFko_gj_batch(new FinBatchModel(batchId));\n            generalJournalModel.setFko_gj_srcdoc(new FinSourceDocumentModel(sourceDocumentId));\n            generalJournalModel.setFko_gj_curr(new GenCurrencyModel(currencyId));\n\n            list= new ArrayList&lt;FinGeneralJournalEntryModel&gt;();\n\n            String []getDistributionlist=tableList.split(\",\");\n\n            for (int i=0; i&lt;getDistributionlist.length; i+=6){\n\n                generalJournalEntryModel= new FinGeneralJournalEntryModel(Long.parseLong(getDistributionlist[i+3].toString()),\n                        Long.parseLong(getDistributionlist[i+4].toString()),\n                        currencyId, 86.5, userId, userIp, sysdate, 0);\n\n                generalJournalEntryModel.setFko_gje_gj(generalJournalModel);\n                generalJournalEntryModel.setFko_gje_coam(new FinCOAMaintenanceModel(Long.parseLong(getDistributionlist[i].toString())));\n\n                list.add(generalJournalEntryModel);\n            }\n\n            pt.saveOrUpdate(generalJournalModel,list);\n\n            response.setStatus(\"Success\");\n        } catch (Exception ex) {\n            log.error(\"Exception..\" + ex);\n            response.setStatus(\"Fail\");\n        }\n        return response;\n    }\n}\n</code></pre>\n\n<p><strong>another following controller same like above but giving exception</strong> </p>\n\n<pre><code>@Controller\npublic class ProPurchaseOrderController {\n    protected static Logger log = Logger\n        .getLogger(ProPurchaseOrderController.class);\n\n    @Resource(name = \"PersistenceTemplate\")\n    private PersistenceTemplate pt;\n\n    @RequestMapping(value = \"/AddProPurchaseOrder\", method = RequestMethod.POST)\n    public @ResponseBody\n    JsonResponseStatus AddProPurchaseOrder(\n        @RequestParam(value=\"poDesc\", required=true) String poDesc,\n        @RequestParam(value=\"poTrxDate\", required=true) Date poTrxDate,\n        @RequestParam(value=\"supplierId\", required=true) long supplierId,\n        @RequestParam(value=\"currencyId\", required=true) long currencyId,\n        @RequestParam(value=\"batchId\", required=true) long batchId,\n        @RequestParam(value=\"poSubTotal\", required=true) double poSubTotal,\n        @RequestParam(value=\"poDiscount\", required=true) double poDiscount,\n        @RequestParam(value=\"poFreight\", required=true) double poFreight,\n        @RequestParam(value=\"poTax\", required=true) double poTax,\n        @RequestParam(value=\"poMisc\", required=true) double poMisc,\n        @RequestParam(value=\"poGTotal\", required=true) double poGTotal,\n        @RequestParam(value=\"tableList\", required=true) String tableList, HttpSession session ) {\n\n        Date sysdate = null;\n        JsonResponseStatus response = null;\n        ProPurchaseOrderModel purchaseOrder=null;\n        ProPurchaseOrderEntryModel purchaseOrderEntry=null;\n        List&lt;ProPurchaseOrderEntryModel&gt; list=null;\n\n        try {\n            sysdate = new Date();\n            response = new JsonResponseStatus();\n\n            long userId=Long.parseLong(session.getAttribute(\"userId\").toString());\n            String userIp=session.getAttribute(\"userIp\").toString();\n\n            purchaseOrder= new ProPurchaseOrderModel(poDesc, poTrxDate, poSubTotal, poFreight, poTax, poMisc, poDiscount,\n                0, 0, userId, userIp, sysdate, 0);\n\n            purchaseOrder.setFko_po_batch(new ProBatchModel(batchId));\n            purchaseOrder.setFko_po_currency(new GenCurrencyModel(currencyId));\n            purchaseOrder.setFko_po_supp(new ProSupplierModel(supplierId));\n\n            list= new ArrayList&lt;ProPurchaseOrderEntryModel&gt;();\n\n            String []getItemlist=tableList.split(\",\");\n\n            for (int i=0; i&lt;getItemlist.length; i+=11){\n\n                double actualQuantity=Double.parseDouble(getItemlist[i+5].toString());\n                double fraction=Double.parseDouble(getItemlist[i+6].toString());\n                double baseQuantity=Double.parseDouble(getItemlist[i+7].toString());\n                double cost=Double.parseDouble(getItemlist[i+8].toString());\n                double total=Double.parseDouble(getItemlist[i+9].toString());\n\n                purchaseOrderEntry= new ProPurchaseOrderEntryModel(actualQuantity, fraction, baseQuantity, cost, total,\n                    0, 0, userId, userIp, sysdate, 0);\n\n                purchaseOrderEntry.setFko_poe_uome(new InvUOMExtendedModel(Long.parseLong(getItemlist[i+4].toString())));\n                purchaseOrderEntry.setFko_poe_item(new InvItemModel(Long.parseLong(getItemlist[i].toString())));\n                purchaseOrderEntry.setFko_poe_po(purchaseOrder);\n\n                list.add(purchaseOrderEntry);\n            }\n\n            pt.saveOrUpdate(purchaseOrderEntry,list);\n            response.setStatus(\"Success\");\n        } catch (Exception ex) {\n            log.error(\"Exception..\" + ex);\n            response.setStatus(\"Fail\");\n        }\n        return response;\n    }\n}\n</code></pre>\n\n<p><strong>Exception is</strong> </p>\n\n<p><strong>Exception..org.springframework.dao.InvalidDataAccessApiUsageException: object references an unsaved transient instance - save the transient instance before flushing: com.soft.erp.pro.model.ProPurchaseOrderModel; nested exception is org.hibernate.TransientObjectException: object references an unsaved transient instance - save the transient instance before flushing</strong></p>\n"},{"tags":["java","selenium-webdriver","automation","webdriver-manager"],"comments":[{"owner":{"account_id":10299692,"reputation":5744,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"score":0,"creation_date":1690462601,"post_id":76779894,"comment_id":135359372,"body_markdown":"Refer this answer - https://stackoverflow.com/a/76752843/7598774","body":"Refer this answer - <a href=\"https://stackoverflow.com/a/76752843/7598774\">stackoverflow.com/a/76752843/7598774</a>"},{"owner":{"account_id":18553557,"reputation":75,"user_id":13519244,"display_name":"Amad Bin Mumtaz"},"score":0,"creation_date":1690467321,"post_id":76779894,"comment_id":135360588,"body_markdown":"This has to specify the chromedriver. Whereas I am using web driver manager here which should cater installing and configuring the driver itself. Also, its working fine manually but failing on CICD executions.","body":"This has to specify the chromedriver. Whereas I am using web driver manager here which should cater installing and configuring the driver itself. Also, its working fine manually but failing on CICD executions."}],"owner":{"account_id":18553557,"reputation":75,"user_id":13519244,"display_name":"Amad Bin Mumtaz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690462072,"creation_date":1690462072,"question_id":76779894,"body_markdown":"I have recently updated my selenium framework to work with WebDriver manager. Previously, I was manually setting up the chromedrivers/ gecko driver versions as per my use. I am facing this error when I try to run my test in CICD pipeline (GitLab runners). \r\n\r\nTest works fine manually (my machine/ VM) but it throws error when I execute it via CICD.\r\n\r\n\r\n\t\t\r\n\r\n            String browser = new PropertyReader().readProperty(&quot;browserType&quot;);\r\n    \t\tString browserMode = new PropertyReader().readProperty(&quot;browserMode&quot;);\r\n    \r\n    \t\tWebDriverManager.chromedriver().setup(); \t\r\n    \r\n    \t\tif (browser.equalsIgnoreCase(&quot;chrome&quot;)) {\r\n    \t\t\tMap&lt;String, Object&gt; prefs = new HashMap&lt;String, Object&gt;();\r\n    \t\t\tprefs.put(&quot;plugins.plugins_disabled&quot;, new String[]{&quot;Chrome PDF Viewer&quot;});\r\n    \t\t\tprefs.put(&quot;profile.default_content_setting_values.notifications&quot;, 2);\r\n    \t\t\tprefs.put(&quot;download.directory_upgrade&quot;, true);\r\n    \t\t\tprefs.put(&quot;download.prompt_for_download&quot;, false);\r\n    \r\n    \t\t\tChromeOptions options = new ChromeOptions();\r\n    \t\t\toptions.setExperimentalOption(&quot;excludeSwitches&quot;, new String[] { &quot;enable-automation&quot; });\r\n    \t\t\toptions.addArguments(&quot;--disable-extensions&quot;);\r\n    \t\t\toptions.addArguments(&quot;--no-sandbox&quot;);\r\n    \t\t\toptions.addArguments(&quot;--disable-dev-shm-usage&quot;);\r\n    \t\t\toptions.addArguments(browserMode);\r\n    \t\t\toptions.addArguments(&quot;disable-infobars&quot;);\r\n    \t\t\toptions.setExperimentalOption(&quot;prefs&quot;, prefs);\r\n    \t\t\toptions.addArguments(&quot;--ignore-certificate-errors&quot;);\r\n    \t\t\toptions.addArguments(&quot;--remote-allow-origins=*&quot;);\r\n    \r\n    \t\t\tdriver = new ChromeDriver(options);\r\n    \t\t\tdriver.manage().window().maximize();\r\n    \t\t\tdriverThreadLocal.set(driver);\r\n\r\nBrowserMode is set to &quot;--headless&quot; and browser is chrome from config properties.\r\n\r\nError logs from CICD GitLab:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hmVny.png","title":"Could not start a new session. Response code 500. Message: unknown error: Chrome failed to start: crashed","body":"<p>I have recently updated my selenium framework to work with WebDriver manager. Previously, I was manually setting up the chromedrivers/ gecko driver versions as per my use. I am facing this error when I try to run my test in CICD pipeline (GitLab runners).</p>\n<p>Test works fine manually (my machine/ VM) but it throws error when I execute it via CICD.</p>\n<pre><code>        String browser = new PropertyReader().readProperty(&quot;browserType&quot;);\n        String browserMode = new PropertyReader().readProperty(&quot;browserMode&quot;);\n\n        WebDriverManager.chromedriver().setup();    \n\n        if (browser.equalsIgnoreCase(&quot;chrome&quot;)) {\n            Map&lt;String, Object&gt; prefs = new HashMap&lt;String, Object&gt;();\n            prefs.put(&quot;plugins.plugins_disabled&quot;, new String[]{&quot;Chrome PDF Viewer&quot;});\n            prefs.put(&quot;profile.default_content_setting_values.notifications&quot;, 2);\n            prefs.put(&quot;download.directory_upgrade&quot;, true);\n            prefs.put(&quot;download.prompt_for_download&quot;, false);\n\n            ChromeOptions options = new ChromeOptions();\n            options.setExperimentalOption(&quot;excludeSwitches&quot;, new String[] { &quot;enable-automation&quot; });\n            options.addArguments(&quot;--disable-extensions&quot;);\n            options.addArguments(&quot;--no-sandbox&quot;);\n            options.addArguments(&quot;--disable-dev-shm-usage&quot;);\n            options.addArguments(browserMode);\n            options.addArguments(&quot;disable-infobars&quot;);\n            options.setExperimentalOption(&quot;prefs&quot;, prefs);\n            options.addArguments(&quot;--ignore-certificate-errors&quot;);\n            options.addArguments(&quot;--remote-allow-origins=*&quot;);\n\n            driver = new ChromeDriver(options);\n            driver.manage().window().maximize();\n            driverThreadLocal.set(driver);\n</code></pre>\n<p>BrowserMode is set to &quot;--headless&quot; and browser is chrome from config properties.</p>\n<p>Error logs from CICD GitLab:\n<a href=\"https://i.stack.imgur.com/hmVny.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hmVny.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","jpa"],"comments":[{"owner":{"account_id":11763655,"reputation":1486,"user_id":8608962,"accept_rate":50,"display_name":"sander"},"score":0,"creation_date":1690448240,"post_id":76777968,"comment_id":135356204,"body_markdown":"I guess, there&#39;s nothing on that link about my question.","body":"I guess, there&#39;s nothing on that link about my question."},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":1,"creation_date":1690448355,"post_id":76777968,"comment_id":135356233,"body_markdown":"I see, I thought it would be implied, but I found that is quite similar to what you are looking for. Does this work for you? https://stackoverflow.com/a/28993810/16034206","body":"I see, I thought it would be implied, but I found that is quite similar to what you are looking for. Does this work for you? <a href=\"https://stackoverflow.com/a/28993810/16034206\">stackoverflow.com/a/28993810/16034206</a>"},{"owner":{"account_id":11763655,"reputation":1486,"user_id":8608962,"accept_rate":50,"display_name":"sander"},"score":0,"creation_date":1690457088,"post_id":76777968,"comment_id":135358063,"body_markdown":"That&#39;s the exact thing I was looking for, thank you. You can post an answer and I&#39;ll accept it.","body":"That&#39;s the exact thing I was looking for, thank you. You can post an answer and I&#39;ll accept it."}],"answers":[{"tags":[],"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1690461517,"creation_date":1690461517,"answer_id":76779816,"question_id":76777968,"body_markdown":"Spring Data JPA has SpEL support that provides access to the query method arguments. This allows you to either simply bind the parameter as is or perform additional operations before binding.\r\n\r\nThis lets you write queries such as:\r\n```\r\n@Query(&quot;select u from User u where u.age = ?#{[0]}&quot;)\r\nList&lt;User&gt; findUsersByAge(int age);\r\n\r\n@Query(&quot;select u from User u where u.firstname = :#{#customer.firstname}&quot;)\r\nList&lt;User&gt; findUsersByCustomersFirstname(@Param(&quot;customer&quot;) Customer customer);\r\n```\r\n\r\nFor more details, [see also](https://spring.io/blog/2014/07/15/spel-support-in-spring-data-jpa-query-definitions)","title":"Using an object instead of single parameters in JPA/JPQL @Param @Query","body":"<p>Spring Data JPA has SpEL support that provides access to the query method arguments. This allows you to either simply bind the parameter as is or perform additional operations before binding.</p>\n<p>This lets you write queries such as:</p>\n<pre><code>@Query(&quot;select u from User u where u.age = ?#{[0]}&quot;)\nList&lt;User&gt; findUsersByAge(int age);\n\n@Query(&quot;select u from User u where u.firstname = :#{#customer.firstname}&quot;)\nList&lt;User&gt; findUsersByCustomersFirstname(@Param(&quot;customer&quot;) Customer customer);\n</code></pre>\n<p>For more details, <a href=\"https://spring.io/blog/2014/07/15/spel-support-in-spring-data-jpa-query-definitions\" rel=\"nofollow noreferrer\">see also</a></p>\n"}],"owner":{"account_id":11763655,"reputation":1486,"user_id":8608962,"accept_rate":50,"display_name":"sander"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76779816,"answer_count":1,"score":0,"last_activity_date":1690461517,"creation_date":1690447342,"question_id":76777968,"body_markdown":"When doing querys you can do this syntax:\r\n\r\n    @Query(value = &quot;SELECT v from DBTABLE v WHERE v.param1 = param1 AND v.param2 = param2&quot;)\r\n    List&lt;Result&gt; search(@Param(&quot;param1&quot;) String param1, @Param(&quot;param2&quot;) String param2)\r\n\r\n\r\nWhat if I had more then 2 parameters. Lets say I had 20 parameters, is there a way to give an object instead and refer to the object properties instead? What I mean is this:\r\n\r\nPseudocode:\r\n\r\n    @Query(value = &quot;SELECT v from DBTABLE v WHERE v.param1 = object.param1 AND v.param2 = object.param2&quot;)\r\n    List&lt;Result&gt; search(@Param(&quot;Object&quot;) SomeCustomObject object)\r\n","title":"Using an object instead of single parameters in JPA/JPQL @Param @Query","body":"<p>When doing querys you can do this syntax:</p>\n<pre><code>@Query(value = &quot;SELECT v from DBTABLE v WHERE v.param1 = param1 AND v.param2 = param2&quot;)\nList&lt;Result&gt; search(@Param(&quot;param1&quot;) String param1, @Param(&quot;param2&quot;) String param2)\n</code></pre>\n<p>What if I had more then 2 parameters. Lets say I had 20 parameters, is there a way to give an object instead and refer to the object properties instead? What I mean is this:</p>\n<p>Pseudocode:</p>\n<pre><code>@Query(value = &quot;SELECT v from DBTABLE v WHERE v.param1 = object.param1 AND v.param2 = object.param2&quot;)\nList&lt;Result&gt; search(@Param(&quot;Object&quot;) SomeCustomObject object)\n</code></pre>\n"},{"tags":["java","spring","spring-cloud-feign","spring-webclient","reactive-feign-client"],"comments":[{"owner":{"account_id":2003864,"reputation":301,"user_id":1794262,"display_name":"iglen_"},"score":0,"creation_date":1638201769,"post_id":69234092,"comment_id":124019224,"body_markdown":"Did you resolve this issue?","body":"Did you resolve this issue?"},{"owner":{"account_id":3506066,"reputation":235,"user_id":2931585,"display_name":"oOXAam"},"score":0,"creation_date":1638951011,"post_id":69234092,"comment_id":124221226,"body_markdown":"no, I wasn&#39;t able to resolve this issue","body":"no, I wasn&#39;t able to resolve this issue"}],"answers":[{"tags":[],"owner":{"account_id":10999814,"reputation":597,"user_id":8498513,"display_name":"donquih0te"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690461365,"creation_date":1690461365,"answer_id":76779800,"question_id":69234092,"body_markdown":"You should specify client in `@EnableReactiveFeignClients` annotation\r\n\r\n```\r\n@EnableReactiveFeignClients(clients = {MechanicClient.class})\r\n```","title":"No bean found of type interface reactivefeign.ReactiveFeignBuilder for &quot;service&quot;","body":"<p>You should specify client in <code>@EnableReactiveFeignClients</code> annotation</p>\n<pre><code>@EnableReactiveFeignClients(clients = {MechanicClient.class})\n</code></pre>\n"}],"owner":{"account_id":3506066,"reputation":235,"user_id":2931585,"display_name":"oOXAam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":536,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1690461365,"creation_date":1631963360,"question_id":69234092,"body_markdown":"I have created a simple Reacting Feign Client\r\n\r\n    @ReactiveFeignClient(name = &quot;mechanic-service&quot;, path = &quot;${mechanic.service.url}&quot;)\r\n    public interface MechanicClient {\r\n        @GetMapping(&quot;/mechanic-api/hello&quot;)\r\n        Mono&lt;HelloWorldDetails&gt; hi();\r\n    }\r\n\r\nNow when I @Autowire it in my service class, IntelliJ gives an error: \r\n\r\n&gt; Could not autowire. No beans of &#39;MechanicClient&#39; type found.\r\n\r\nThis is my main class:\r\n\r\n    @SpringBootApplication(exclude = {DataSourceAutoConfiguration.class})\r\n    @EnableReactiveFeignClients\r\n    public class CustomerApplication {\r\n        public static void main(String[] args) {\r\n            SpringApplication.run(CustomerApplication.class, args);\r\n        }\r\n    }\r\n\r\npom.xml\r\n\r\n    &lt;properties&gt;\r\n    \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n    \t\t&lt;feign-reactor.version&gt;3.1.1&lt;/feign-reactor.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.playtika.reactivefeign&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;feign-reactor-spring-cloud-starter&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${feign-reactor.version}&lt;/version&gt;\r\n    \t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n\r\nand when I start the server I get the following error:\r\n\r\n&gt; org.springframework.beans.factory.UnsatisfiedDependencyException:\r\n&gt; Error creating bean with name &#39;helloWorldController&#39;: Unsatisfied\r\n&gt; dependency expressed through field &#39;mechClient&#39;; nested exception is\r\n&gt; org.springframework.beans.factory.BeanCreationException: Error\r\n&gt; creating bean with name\r\n&gt; &#39;com.emech.customer.config.feign.MechanicClient&#39;: FactoryBean threw\r\n&gt; exception on object creation; nested exception is\r\n&gt; java.lang.IllegalStateException: No bean found of type interface\r\n&gt; reactivefeign.ReactiveFeignBuilder for mechanic-service \tat\r\n&gt; org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:660)\r\n&gt; ~[spring-beans-5.3.10.jar:5.3.10] \tat\r\n&gt; org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:640)\r\n&gt; ~[spring-beans-5.3.10.jar:5.3.10] \tat\r\n&gt; org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)\r\n&gt; ~[spring-beans-5.3.10.jar:5.3.10] \tat\r\n&gt; org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)\r\n&gt; ~[spring-beans-5.3.10.jar:5.3.10] \tat\r\n&gt; org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)\r\n&gt; ~[spring-beans-5.3.10.jar:5.3.10] \tat\r\n&gt; org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)\r\n&gt; ~[spring-beans-5.3.10.jar:5.3.10] \tat\r\n&gt; org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n&gt; ~[spring-beans-5.3.10.jar:5.3.10] \tat\r\n&gt; org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n&gt; ~[spring-beans-5.3.10.jar:5.3.10] \tat\r\n&gt; org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n&gt; ~[spring-beans-5.3.10.jar:5.3.10] \tat\r\n&gt; org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n&gt; ~[spring-beans-5.3.10.jar:5.3.10] \tat\r\n&gt; org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n&gt; ~[spring-beans-5.3.10.jar:5.3.10]\r\n\r\nCan anyone guide me, what I&#39;m missing, I&#39;m new to Reactive Feign Client.\r\nThanks ","title":"No bean found of type interface reactivefeign.ReactiveFeignBuilder for &quot;service&quot;","body":"<p>I have created a simple Reacting Feign Client</p>\n<pre><code>@ReactiveFeignClient(name = &quot;mechanic-service&quot;, path = &quot;${mechanic.service.url}&quot;)\npublic interface MechanicClient {\n    @GetMapping(&quot;/mechanic-api/hello&quot;)\n    Mono&lt;HelloWorldDetails&gt; hi();\n}\n</code></pre>\n<p>Now when I @Autowire it in my service class, IntelliJ gives an error:</p>\n<blockquote>\n<p>Could not autowire. No beans of 'MechanicClient' type found.</p>\n</blockquote>\n<p>This is my main class:</p>\n<pre><code>@SpringBootApplication(exclude = {DataSourceAutoConfiguration.class})\n@EnableReactiveFeignClients\npublic class CustomerApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(CustomerApplication.class, args);\n    }\n}\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;feign-reactor.version&gt;3.1.1&lt;/feign-reactor.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.playtika.reactivefeign&lt;/groupId&gt;\n            &lt;artifactId&gt;feign-reactor-spring-cloud-starter&lt;/artifactId&gt;\n            &lt;version&gt;${feign-reactor.version}&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\n            &lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p>and when I start the server I get the following error:</p>\n<blockquote>\n<p>org.springframework.beans.factory.UnsatisfiedDependencyException:\nError creating bean with name 'helloWorldController': Unsatisfied\ndependency expressed through field 'mechClient'; nested exception is\norg.springframework.beans.factory.BeanCreationException: Error\ncreating bean with name\n'com.emech.customer.config.feign.MechanicClient': FactoryBean threw\nexception on object creation; nested exception is\njava.lang.IllegalStateException: No bean found of type interface\nreactivefeign.ReactiveFeignBuilder for mechanic-service   at\norg.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:660)\n~[spring-beans-5.3.10.jar:5.3.10]     at\norg.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:640)\n~[spring-beans-5.3.10.jar:5.3.10]     at\norg.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)\n~[spring-beans-5.3.10.jar:5.3.10]     at\norg.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)\n~[spring-beans-5.3.10.jar:5.3.10]     at\norg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)\n~[spring-beans-5.3.10.jar:5.3.10]     at\norg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)\n~[spring-beans-5.3.10.jar:5.3.10]     at\norg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n~[spring-beans-5.3.10.jar:5.3.10]     at\norg.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n~[spring-beans-5.3.10.jar:5.3.10]     at\norg.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n~[spring-beans-5.3.10.jar:5.3.10]     at\norg.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n~[spring-beans-5.3.10.jar:5.3.10]     at\norg.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n~[spring-beans-5.3.10.jar:5.3.10]</p>\n</blockquote>\n<p>Can anyone guide me, what I'm missing, I'm new to Reactive Feign Client.\nThanks</p>\n"},{"tags":["java","tomcat","deployment","vaadin","lookup"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1680217823,"post_id":75892433,"comment_id":133865583,"body_markdown":"[That class](https://origin.vaadin.com/api/platform/current/com/vaadin/flow/di/Lookup.html) seems be a [Service Provider Interface](https://en.wikipedia.org/wiki/Service_provider_interface). An SPI is used to locate implementations of a desired service at runtime. So this must be a core class within the Vaadin Flow framework. I doubt you&#39;ve provided enough details for anyone to debug. Did you just create a new project? Did that project ever run successfully? If so, backtrack to when things when wrong.","body":"<a href=\"https://origin.vaadin.com/api/platform/current/com/vaadin/flow/di/Lookup.html\" rel=\"nofollow noreferrer\">That class</a> seems be a <a href=\"https://en.wikipedia.org/wiki/Service_provider_interface\" rel=\"nofollow noreferrer\">Service Provider Interface</a>. An SPI is used to locate implementations of a desired service at runtime. So this must be a core class within the Vaadin Flow framework. I doubt you&#39;ve provided enough details for anyone to debug. Did you just create a new project? Did that project ever run successfully? If so, backtrack to when things when wrong."},{"owner":{"account_id":8682619,"reputation":11,"user_id":6498005,"display_name":"edbaSoftware"},"score":0,"creation_date":1680253842,"post_id":75892433,"comment_id":133870463,"body_markdown":"Yes, it always worked fine in IntelliJ/development mode. I have started the project using an export from https://start.vaadin.com/ with the login security enabled.","body":"Yes, it always worked fine in IntelliJ/development mode. I have started the project using an export from <a href=\"https://start.vaadin.com/\" rel=\"nofollow noreferrer\">start.vaadin.com</a> with the login security enabled."},{"owner":{"account_id":8682619,"reputation":11,"user_id":6498005,"display_name":"edbaSoftware"},"score":0,"creation_date":1680254565,"post_id":75892433,"comment_id":133870607,"body_markdown":"Unfortunately, the deployed WAR never worked in Tomcat. I guess some security config is still missing. If I remove the &quot;setLoginView(http, LoginView.class, LOGOUT_URL);&quot;, the WAR is loaded.","body":"Unfortunately, the deployed WAR never worked in Tomcat. I guess some security config is still missing. If I remove the &quot;setLoginView(http, LoginView.class, LOGOUT_URL);&quot;, the WAR is loaded."},{"owner":{"account_id":4430906,"reputation":3990,"user_id":3608089,"display_name":"ollitietavainen"},"score":0,"creation_date":1680259692,"post_id":75892433,"comment_id":133871866,"body_markdown":"Voting to reopen. The linked question is a generic question about NPEs, while this question is about a specific framework-internal dependency not being present.","body":"Voting to reopen. The linked question is a generic question about NPEs, while this question is about a specific framework-internal dependency not being present."}],"answers":[{"tags":[],"owner":{"account_id":29103214,"reputation":1,"user_id":22294599,"display_name":"Jacek"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690461035,"creation_date":1690461035,"answer_id":76779767,"question_id":75892433,"body_markdown":"I had the same error. \r\nJust upgrade to Vaadin 24.1.1 and Spring Boot 3.1.1 solved the problem","title":"vaadin - &quot;Cannot invoke &quot;com.vaadin.flow.di.Lookup.lookup(java.lang.Class)&quot; because &quot;lookup&quot; is null&quot;","body":"<p>I had the same error.\nJust upgrade to Vaadin 24.1.1 and Spring Boot 3.1.1 solved the problem</p>\n"}],"owner":{"account_id":8682619,"reputation":11,"user_id":6498005,"display_name":"edbaSoftware"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":262,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1690461035,"creation_date":1680206019,"question_id":75892433,"body_markdown":"My vaadin v24 project is running fine on test mode. The deployed WAR is not starting on Tomcat.\r\n\r\nThe following error is reported:\r\n\r\n**&quot;Cannot invoke &#39;com.vaadin.flow.di.Lookup.lookup(java.lang.Class)&#39; because &#39;lookup&#39; is null&quot;**\r\n\r\nI am implementing login security with JPA.\r\nI have found nothing relevant online about this issue.\r\n\r\nHow can this be fixed?\r\n\r\n\r\nThe security configuration:\r\n\r\n    @EnableWebSecurity\r\n    @Configuration\r\n    public class SecurityConfiguration extends VaadinWebSecurity {\r\n\r\n    public static final String LOGOUT_URL = &quot;/&quot;;\r\n        @Bean\r\n        public PasswordEncoder passwordEncoder() {\r\n            return new BCryptPasswordEncoder();\r\n        }\r\n    \r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http.authorizeHttpRequests()\r\n                    .requestMatchers(&quot;/images/*.png&quot;).permitAll();\r\n            super.configure(http);\r\n            setLoginView(http, LoginView.class, LOGOUT_URL);\r\n        }\r\n    }\r\n\r\n\r\nthe application class:\r\n\r\n\r\n    @SpringBootApplication\r\n    @EnableJpaRepositories(&quot;com.tools.dimcontrol.data.repository&quot;)\r\n    @Theme(value = &quot;dimcontrol&quot;)\r\n\r\n    public class Application extends SpringBootServletInitializer implements AppShellConfigurator {\r\n\r\n        public static void main(String[] args) {\r\n            SpringApplication.run(Application.class, args);\r\n        }\r\n\r\n        @Override\r\n        protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\r\n            return application.sources(Application.class);\r\n        }\r\n\r\n        @Bean\r\n        SqlDataSourceScriptDatabaseInitializer dataSourceScriptDatabaseInitializer(DataSource dataSource,\r\n                                                                                   SqlInitializationProperties properties, UserRepository repository) {\r\n            // This bean ensures the database is only initialized when empty\r\n            return new SqlDataSourceScriptDatabaseInitializer(dataSource, properties) {\r\n                @Override\r\n                public boolean initializeDatabase() {\r\n                    if (repository.count() == 0L) {\r\n                        return super.initializeDatabase();\r\n                    }\r\n                    return false;\r\n                }\r\n            };\r\n        }\r\n    }\r\n\r\n\r\nThe pom:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;!-- Project from https://start.vaadin.com/project/d6e40e84-c292-43aa-a0a7-44ff9774bd1f --&gt;\r\n    &lt;groupId&gt;com.tools.dimcontrol&lt;/groupId&gt;\r\n    &lt;artifactId&gt;dimcontrol&lt;/artifactId&gt;\r\n    &lt;name&gt;dimcontrol&lt;/name&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;war&lt;/packaging&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n        &lt;vaadin.version&gt;24.0.2&lt;/vaadin.version&gt;\r\n        &lt;selenium.version&gt;4.8.1&lt;/selenium.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.5&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;repositories&gt;\r\n        &lt;!-- The order of definitions matters. Explicitly defining central here to make sure it has the highest priority. --&gt;\r\n\r\n        &lt;!-- Main Maven repository --&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;central&lt;/id&gt;\r\n            &lt;url&gt;https://repo.maven.apache.org/maven2&lt;/url&gt;\r\n            &lt;snapshots&gt;\r\n                &lt;enabled&gt;false&lt;/enabled&gt;\r\n            &lt;/snapshots&gt;\r\n        &lt;/repository&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;vaadin-prereleases&lt;/id&gt;\r\n            &lt;url&gt;\r\n                https://maven.vaadin.com/vaadin-prereleases/\r\n            &lt;/url&gt;\r\n        &lt;/repository&gt;\r\n        &lt;!-- Repository used by many Vaadin add-ons --&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;Vaadin Directory&lt;/id&gt;\r\n            &lt;url&gt;https://maven.vaadin.com/vaadin-addons&lt;/url&gt;\r\n            &lt;snapshots&gt;\r\n                &lt;enabled&gt;false&lt;/enabled&gt;\r\n            &lt;/snapshots&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n\r\n    &lt;pluginRepositories&gt;\r\n        &lt;!-- The order of definitions matters. Explicitly defining central here to make sure it has the highest priority. --&gt;\r\n        &lt;pluginRepository&gt;\r\n            &lt;id&gt;central&lt;/id&gt;\r\n            &lt;url&gt;https://repo.maven.apache.org/maven2&lt;/url&gt;\r\n            &lt;snapshots&gt;\r\n                &lt;enabled&gt;false&lt;/enabled&gt;\r\n            &lt;/snapshots&gt;\r\n        &lt;/pluginRepository&gt;\r\n        &lt;pluginRepository&gt;\r\n            &lt;id&gt;vaadin-prereleases&lt;/id&gt;\r\n            &lt;url&gt;\r\n                https://maven.vaadin.com/vaadin-prereleases/\r\n            &lt;/url&gt;\r\n        &lt;/pluginRepository&gt;\r\n    &lt;/pluginRepositories&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n                &lt;artifactId&gt;vaadin-bom&lt;/artifactId&gt;\r\n                &lt;version&gt;${vaadin.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n            &lt;!-- Replace artifactId with vaadin-core to use only free components --&gt;\r\n            &lt;artifactId&gt;vaadin&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n            &lt;artifactId&gt;vaadin-spring-boot-starter&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.parttio&lt;/groupId&gt;\r\n            &lt;artifactId&gt;line-awesome&lt;/artifactId&gt;\r\n            &lt;version&gt;1.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n            &lt;artifactId&gt;vaadin-testbench-junit5&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n            &lt;!--&lt;version&gt;8.0.32&lt;/version&gt;--&gt;\r\n        &lt;/dependency&gt;\r\n&lt;!--        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\r\n            &lt;version&gt;6.0.6&lt;/version&gt;\r\n        &lt;/dependency&gt;--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n            &lt;!--&lt;version&gt;3.0.5&lt;/version&gt;--&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.mail&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mail&lt;/artifactId&gt;\r\n            &lt;version&gt;1.4.7&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.mail&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.mail-api&lt;/artifactId&gt;\r\n            &lt;!--&lt;version&gt;2.1.1&lt;/version&gt;--&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;\r\n        &lt;defaultGoal&gt;spring-boot:run&lt;/defaultGoal&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;!-- Clean build and startup time for Vaadin apps sometimes may exceed\r\n                     the default Spring Boot&#39;s 30sec timeout.  --&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;jvmArguments&gt;-Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=5464&lt;/jvmArguments&gt;\r\n                    &lt;wait&gt;500&lt;/wait&gt;\r\n                    &lt;maxAttempts&gt;240&lt;/maxAttempts&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n                &lt;artifactId&gt;vaadin-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${vaadin.version}&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;prepare-frontend&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n    &lt;profiles&gt;\r\n        &lt;profile&gt;\r\n            &lt;!-- Production mode is activated using -Pproduction --&gt;\r\n            &lt;id&gt;production&lt;/id&gt;\r\n            &lt;properties&gt;\r\n                &lt;vaadin.productionMode&gt;true&lt;/vaadin.productionMode&gt;\r\n            &lt;/properties&gt;\r\n\r\n            &lt;dependencies&gt;\r\n                &lt;!-- Exclude development dependencies from production --&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;vaadin&lt;/artifactId&gt;\r\n                    &lt;exclusions&gt;\r\n                        &lt;exclusion&gt;\r\n                            &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;vaadin-dev-server&lt;/artifactId&gt;\r\n                        &lt;/exclusion&gt;\r\n                    &lt;/exclusions&gt;\r\n                &lt;/dependency&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;vaadin-core&lt;/artifactId&gt;\r\n                    &lt;exclusions&gt;\r\n                        &lt;exclusion&gt;\r\n                            &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;vaadin-dev&lt;/artifactId&gt;\r\n                        &lt;/exclusion&gt;\r\n                    &lt;/exclusions&gt;\r\n                &lt;/dependency&gt;\r\n            &lt;/dependencies&gt;\r\n            &lt;build&gt;\r\n                &lt;plugins&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;vaadin-maven-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;${vaadin.version}&lt;/version&gt;\r\n                        &lt;executions&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;build-frontend&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                                &lt;phase&gt;compile&lt;/phase&gt;\r\n                            &lt;/execution&gt;\r\n                        &lt;/executions&gt;\r\n                    &lt;/plugin&gt;\r\n                &lt;/plugins&gt;\r\n            &lt;/build&gt;\r\n        &lt;/profile&gt;\r\n\r\n        &lt;profile&gt;\r\n            &lt;id&gt;it&lt;/id&gt;\r\n            &lt;build&gt;\r\n                &lt;plugins&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                        &lt;executions&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;id&gt;start-spring-boot&lt;/id&gt;\r\n                                &lt;phase&gt;pre-integration-test&lt;/phase&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;start&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                            &lt;/execution&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;id&gt;stop-spring-boot&lt;/id&gt;\r\n                                &lt;phase&gt;post-integration-test&lt;/phase&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;stop&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                            &lt;/execution&gt;\r\n                        &lt;/executions&gt;\r\n                    &lt;/plugin&gt;\r\n\r\n                    &lt;!-- Runs the integration tests (*IT) after the server is started --&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n                        &lt;executions&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;integration-test&lt;/goal&gt;\r\n                                    &lt;goal&gt;verify&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                            &lt;/execution&gt;\r\n                        &lt;/executions&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;trimStackTrace&gt;false&lt;/trimStackTrace&gt;\r\n                            &lt;enableAssertions&gt;true&lt;/enableAssertions&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/plugin&gt;\r\n                &lt;/plugins&gt;\r\n            &lt;/build&gt;\r\n        &lt;/profile&gt;\r\n\r\n    &lt;/profiles&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nand the Tomcat error log:\r\n\r\n\r\n```\r\n...\r\norg.apache.jasper.servlet.TldScanner.scanJars At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\r\n30-Mar-2023 17:27:41.019 SEVERE [main] org.apache.catalina.startup.HostConfig.deployWAR Error deploying web application archive [E:\\webapps\\dimcontrol.war]\r\n\tjava.lang.IllegalStateException: Error starting child\r\n\t\tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:686)\r\n\t\tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:658)\r\n\t\tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:713)\r\n\t\tat org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:975)\r\n\t\tat org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1949)\r\n\t\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)\r\n\t\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\t\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n\t\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:123)\r\n\t\tat org.apache.catalina.startup.HostConfig.deployWARs(HostConfig.java:776)\r\n\t\tat org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:426)\r\n\t\tat org.apache.catalina.startup.HostConfig.start(HostConfig.java:1656)\r\n\t\tat org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:309)\r\n\t\tat org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\r\n\t\tat org.apache.catalina.util.LifecycleBase.setStateInternal(LifecycleBase.java:423)\r\n\t\tat org.apache.catalina.util.LifecycleBase.setState(LifecycleBase.java:366)\r\n\t\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:898)\r\n\t\tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:846)\r\n\t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\t\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)\r\n\t\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)\r\n\t\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\t\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n\t\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\r\n\t\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:871)\r\n\t\tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:241)\r\n\t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\t\tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:428)\r\n\t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\t\tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:913)\r\n\t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\t\tat org.apache.catalina.startup.Catalina.start(Catalina.java:795)\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\t\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\t\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\t\tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:347)\r\n\t\tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:478)\r\n\tCaused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/dimcontrol]]\r\n\t\tat org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440)\r\n\t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198)\r\n\t\tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:683)\r\n\t\t... 37 more\r\n\tCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration&#39;: Unsatisfied dependency expressed through method &#39;setFilterChains&#39; parameter 0: Error creating bean with name &#39;VaadinSecurityFilterChainBean&#39; defined in class path resource [com/tools/dimcontrol/security/SecurityConfiguration.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method &#39;filterChain&#39; threw exception with message: Cannot invoke &quot;com.vaadin.flow.di.Lookup.lookup(java.lang.Class)&quot; because &quot;lookup&quot; is null\r\n\t\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:818)\r\n\t\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:770)\r\n\t\tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:133)\r\n\t\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:482)\r\n\t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1416)\r\n\t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:597)\r\n\t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)\r\n\t\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\r\n\t\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\t\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\r\n\t\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\r\n\t\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)\r\n\t\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:917)\r\n\t\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)\r\n\t\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)\r\n\t\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)\r\n\t\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434)\r\n\t\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:310)\r\n\t\tat org.springframework.boot.web.servlet.support.SpringBootServletInitializer.run(SpringBootServletInitializer.java:174)\r\n\t\tat org.springframework.boot.web.servlet.support.SpringBootServletInitializer.createRootApplicationContext(SpringBootServletInitializer.java:154)\r\n\t\tat org.springframework.boot.web.servlet.support.SpringBootServletInitializer.onStartup(SpringBootServletInitializer.java:96)\r\n\t\tat org.springframework.web.SpringServletContainerInitializer.onStartup(SpringServletContainerInitializer.java:171)\r\n\t\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4875)\r\n\t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\t\t... 38 more\r\n\tCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;VaadinSecurityFilterChainBean&#39; defined in class path resource [com/tools/dimcontrol/security/SecurityConfiguration.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method &#39;filterChain&#39; threw exception with message: Cannot invoke &quot;com.vaadin.flow.di.Lookup.lookup(java.lang.Class)&quot; because &quot;lookup&quot; is null\r\n\t\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:657)\r\n\t\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:645)\r\n\t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332)\r\n\t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162)\r\n\t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)\r\n\t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)\r\n\t\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\r\n\t\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\t\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\r\n\t\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\r\n\t\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)\r\n\t\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.addCandidateEntry(DefaultListableBeanFactory.java:1633)\r\n\t\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1597)\r\n\t\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveMultipleBeans(DefaultListableBeanFactory.java:1488)\r\n\t\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1375)\r\n\t\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337)\r\n\t\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:810)\r\n\t\t... 61 more\r\n\tCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method &#39;filterChain&#39; threw exception with message: Cannot invoke &quot;com.vaadin.flow.di.Lookup.lookup(java.lang.Class)&quot; because &quot;lookup&quot; is null\r\n\t\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171)\r\n\t\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)\r\n\t\t... 77 more\r\n\tCaused by: java.lang.NullPointerException: Cannot invoke &quot;com.vaadin.flow.di.Lookup.lookup(java.lang.Class)&quot; because &quot;lookup&quot; is null\r\n\t\tat com.vaadin.flow.router.internal.RouteUtil.resolve(RouteUtil.java:283)\r\n\t\tat com.vaadin.flow.router.internal.RouteUtil.getRoutePath(RouteUtil.java:110)\r\n\t\tat com.vaadin.flow.spring.security.VaadinWebSecurity.setLoginView(VaadinWebSecurity.java:426)\r\n\t\tat com.tools.dimcontrol.security.SecurityConfiguration.configure(SecurityConfiguration.java:39)\r\n\t\tat com.vaadin.flow.spring.security.VaadinWebSecurity.filterChain(VaadinWebSecurity.java:140)\r\n\t\tat com.tools.dimcontrol.security.SecurityConfiguration$$SpringCGLIB$$0.CGLIB$filterChain$3(&lt;generated&gt;)\r\n\t\tat com.tools.dimcontrol.security.SecurityConfiguration$$SpringCGLIB$$1.invoke(&lt;generated&gt;)\r\n\t\tat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258)\r\n\t\tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)\r\n\t\tat com.tools.dimcontrol.security.SecurityConfiguration$$SpringCGLIB$$0.filterChain(&lt;generated&gt;)\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\t\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\t\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\t\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139)\r\n\t\t... 78 more\r\n30-Mar-2023 17:27:41.032 INFO [main] org.apache.catalina.startup.HostConfig.deployWAR Deployment of web application archive [E:\\webapps\\dimcontrol.war] has finished in [13,753] ms\r\n30-Mar-2023 17:27:41.032 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deploying web application directory [E:\\webapps\\docs]\r\n30-Mar-2023 17:27:41.094 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory [E:\\webapps\\docs] has finished in [62] ms\r\n30-Mar-2023 17:27:41.094 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deploying web application directory [E:\\webapps\\examples]\r\n30-Mar-2023 17:27:41.375 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory [E:\\webapps\\examples] has finished in [281] ms\r\n30-Mar-2023 17:27:41.375 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deploying web application directory [E:\\webapps\\host-manager]\r\n30-Mar-2023 17:27:41.407 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory [E:\\webapps\\host-manager] has finished in [32] ms\r\n30-Mar-2023 17:27:41.407 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deploying web application directory [E:\\webapps\\manager]\r\n30-Mar-2023 17:27:41.438 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory [E:\\webapps\\manager] has finished in [31] ms\r\n30-Mar-2023 17:27:41.438 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deploying web application directory [E:\\webapps\\ROOT]\r\n30-Mar-2023 17:27:41.453 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory [E:\\webapps\\ROOT] has finished in [15] ms\r\n30-Mar-2023 17:27:41.453 INFO [main] org.apache.coyote.AbstractProtocol.start Starting ProtocolHandler [&quot;http-nio-8080&quot;]\r\n30-Mar-2023 17:27:41.485 INFO [main] org.apache.catalina.startup.Catalina.start Server startup in [14287] milliseconds\r\n30-Mar-2023 17:27:41.485 INFO [Thread-1] org.apache.coyote.AbstractProtocol.pause Pausing ProtocolHandler [&quot;http-nio-8080&quot;]\r\n30-Mar-2023 17:27:41.485 INFO [Thread-1] org.apache.catalina.core.StandardService.stopInternal Stopping service [Catalina]\r\n30-Mar-2023 17:27:41.517 INFO [Thread-1] org.apache.coyote.AbstractProtocol.stop Stopping ProtocolHandler [&quot;http-nio-8080&quot;]\r\n30-Mar-2023 17:27:41.533 INFO [Thread-1] org.apache.coyote.AbstractProtocol.destroy Destroying ProtocolHandler [&quot;http-nio-8080&quot;]\r\n30-Mar-2023 17:27:41.533 WARNING [Thread-1] org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesJdbc The web application [dimcontrol] registered the JDBC driver [com.mysql.cj.jdbc.Driver] but failed to unregister it when the web application was stopped. To prevent a memory leak, the JDBC Driver has been forcibly unregistered.\r\n30-Mar-2023 17:27:41.533 WARNING [Thread-1] org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesThreads The web application [dimcontrol] appears to have started a thread named [mysql-cj-abandoned-connection-cleanup] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\r\n java.base@17.0.6/java.lang.Object.wait(Native Method)\r\n java.base@17.0.6/java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:155)\r\n com.mysql.cj.jdbc.AbandonedConnectionCleanupThread.run(AbandonedConnectionCleanupThread.java:91)\r\n java.base@17.0.6/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n java.base@17.0.6/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n java.base@17.0.6/java.lang.Thread.run(Thread.java:833)\r\n```","title":"vaadin - &quot;Cannot invoke &quot;com.vaadin.flow.di.Lookup.lookup(java.lang.Class)&quot; because &quot;lookup&quot; is null&quot;","body":"<p>My vaadin v24 project is running fine on test mode. The deployed WAR is not starting on Tomcat.</p>\n<p>The following error is reported:</p>\n<p><strong>&quot;Cannot invoke 'com.vaadin.flow.di.Lookup.lookup(java.lang.Class)' because 'lookup' is null&quot;</strong></p>\n<p>I am implementing login security with JPA.\nI have found nothing relevant online about this issue.</p>\n<p>How can this be fixed?</p>\n<p>The security configuration:</p>\n<pre><code>@EnableWebSecurity\n@Configuration\npublic class SecurityConfiguration extends VaadinWebSecurity {\n\npublic static final String LOGOUT_URL = &quot;/&quot;;\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.authorizeHttpRequests()\n                .requestMatchers(&quot;/images/*.png&quot;).permitAll();\n        super.configure(http);\n        setLoginView(http, LoginView.class, LOGOUT_URL);\n    }\n}\n</code></pre>\n<p>the application class:</p>\n<pre><code>@SpringBootApplication\n@EnableJpaRepositories(&quot;com.tools.dimcontrol.data.repository&quot;)\n@Theme(value = &quot;dimcontrol&quot;)\n\npublic class Application extends SpringBootServletInitializer implements AppShellConfigurator {\n\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n\n    @Override\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\n        return application.sources(Application.class);\n    }\n\n    @Bean\n    SqlDataSourceScriptDatabaseInitializer dataSourceScriptDatabaseInitializer(DataSource dataSource,\n                                                                               SqlInitializationProperties properties, UserRepository repository) {\n        // This bean ensures the database is only initialized when empty\n        return new SqlDataSourceScriptDatabaseInitializer(dataSource, properties) {\n            @Override\n            public boolean initializeDatabase() {\n                if (repository.count() == 0L) {\n                    return super.initializeDatabase();\n                }\n                return false;\n            }\n        };\n    }\n}\n</code></pre>\n<p>The pom:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;!-- Project from https://start.vaadin.com/project/d6e40e84-c292-43aa-a0a7-44ff9774bd1f --&gt;\n    &lt;groupId&gt;com.tools.dimcontrol&lt;/groupId&gt;\n    &lt;artifactId&gt;dimcontrol&lt;/artifactId&gt;\n    &lt;name&gt;dimcontrol&lt;/name&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;vaadin.version&gt;24.0.2&lt;/vaadin.version&gt;\n        &lt;selenium.version&gt;4.8.1&lt;/selenium.version&gt;\n    &lt;/properties&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.5&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;repositories&gt;\n        &lt;!-- The order of definitions matters. Explicitly defining central here to make sure it has the highest priority. --&gt;\n\n        &lt;!-- Main Maven repository --&gt;\n        &lt;repository&gt;\n            &lt;id&gt;central&lt;/id&gt;\n            &lt;url&gt;https://repo.maven.apache.org/maven2&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;vaadin-prereleases&lt;/id&gt;\n            &lt;url&gt;\n                https://maven.vaadin.com/vaadin-prereleases/\n            &lt;/url&gt;\n        &lt;/repository&gt;\n        &lt;!-- Repository used by many Vaadin add-ons --&gt;\n        &lt;repository&gt;\n            &lt;id&gt;Vaadin Directory&lt;/id&gt;\n            &lt;url&gt;https://maven.vaadin.com/vaadin-addons&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n    &lt;pluginRepositories&gt;\n        &lt;!-- The order of definitions matters. Explicitly defining central here to make sure it has the highest priority. --&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;central&lt;/id&gt;\n            &lt;url&gt;https://repo.maven.apache.org/maven2&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/pluginRepository&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;vaadin-prereleases&lt;/id&gt;\n            &lt;url&gt;\n                https://maven.vaadin.com/vaadin-prereleases/\n            &lt;/url&gt;\n        &lt;/pluginRepository&gt;\n    &lt;/pluginRepositories&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n                &lt;artifactId&gt;vaadin-bom&lt;/artifactId&gt;\n                &lt;version&gt;${vaadin.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n            &lt;!-- Replace artifactId with vaadin-core to use only free components --&gt;\n            &lt;artifactId&gt;vaadin&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n            &lt;artifactId&gt;vaadin-spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.parttio&lt;/groupId&gt;\n            &lt;artifactId&gt;line-awesome&lt;/artifactId&gt;\n            &lt;version&gt;1.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n            &lt;artifactId&gt;vaadin-testbench-junit5&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;!--&lt;version&gt;8.0.32&lt;/version&gt;--&gt;\n        &lt;/dependency&gt;\n&lt;!--        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\n            &lt;version&gt;6.0.6&lt;/version&gt;\n        &lt;/dependency&gt;--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n            &lt;!--&lt;version&gt;3.0.5&lt;/version&gt;--&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.mail&lt;/groupId&gt;\n            &lt;artifactId&gt;mail&lt;/artifactId&gt;\n            &lt;version&gt;1.4.7&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.mail&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.mail-api&lt;/artifactId&gt;\n            &lt;!--&lt;version&gt;2.1.1&lt;/version&gt;--&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;\n        &lt;defaultGoal&gt;spring-boot:run&lt;/defaultGoal&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;!-- Clean build and startup time for Vaadin apps sometimes may exceed\n                     the default Spring Boot's 30sec timeout.  --&gt;\n                &lt;configuration&gt;\n                    &lt;jvmArguments&gt;-Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=5464&lt;/jvmArguments&gt;\n                    &lt;wait&gt;500&lt;/wait&gt;\n                    &lt;maxAttempts&gt;240&lt;/maxAttempts&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n                &lt;artifactId&gt;vaadin-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${vaadin.version}&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;prepare-frontend&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;!-- Production mode is activated using -Pproduction --&gt;\n            &lt;id&gt;production&lt;/id&gt;\n            &lt;properties&gt;\n                &lt;vaadin.productionMode&gt;true&lt;/vaadin.productionMode&gt;\n            &lt;/properties&gt;\n\n            &lt;dependencies&gt;\n                &lt;!-- Exclude development dependencies from production --&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n                    &lt;artifactId&gt;vaadin&lt;/artifactId&gt;\n                    &lt;exclusions&gt;\n                        &lt;exclusion&gt;\n                            &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n                            &lt;artifactId&gt;vaadin-dev-server&lt;/artifactId&gt;\n                        &lt;/exclusion&gt;\n                    &lt;/exclusions&gt;\n                &lt;/dependency&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n                    &lt;artifactId&gt;vaadin-core&lt;/artifactId&gt;\n                    &lt;exclusions&gt;\n                        &lt;exclusion&gt;\n                            &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n                            &lt;artifactId&gt;vaadin-dev&lt;/artifactId&gt;\n                        &lt;/exclusion&gt;\n                    &lt;/exclusions&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n            &lt;build&gt;\n                &lt;plugins&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n                        &lt;artifactId&gt;vaadin-maven-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;${vaadin.version}&lt;/version&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;build-frontend&lt;/goal&gt;\n                                &lt;/goals&gt;\n                                &lt;phase&gt;compile&lt;/phase&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                    &lt;/plugin&gt;\n                &lt;/plugins&gt;\n            &lt;/build&gt;\n        &lt;/profile&gt;\n\n        &lt;profile&gt;\n            &lt;id&gt;it&lt;/id&gt;\n            &lt;build&gt;\n                &lt;plugins&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;id&gt;start-spring-boot&lt;/id&gt;\n                                &lt;phase&gt;pre-integration-test&lt;/phase&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;start&lt;/goal&gt;\n                                &lt;/goals&gt;\n                            &lt;/execution&gt;\n                            &lt;execution&gt;\n                                &lt;id&gt;stop-spring-boot&lt;/id&gt;\n                                &lt;phase&gt;post-integration-test&lt;/phase&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;stop&lt;/goal&gt;\n                                &lt;/goals&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                    &lt;/plugin&gt;\n\n                    &lt;!-- Runs the integration tests (*IT) after the server is started --&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                        &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;integration-test&lt;/goal&gt;\n                                    &lt;goal&gt;verify&lt;/goal&gt;\n                                &lt;/goals&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                        &lt;configuration&gt;\n                            &lt;trimStackTrace&gt;false&lt;/trimStackTrace&gt;\n                            &lt;enableAssertions&gt;true&lt;/enableAssertions&gt;\n                        &lt;/configuration&gt;\n                    &lt;/plugin&gt;\n                &lt;/plugins&gt;\n            &lt;/build&gt;\n        &lt;/profile&gt;\n\n    &lt;/profiles&gt;\n&lt;/project&gt;\n</code></pre>\n<p>and the Tomcat error log:</p>\n<pre><code>...\norg.apache.jasper.servlet.TldScanner.scanJars At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\n30-Mar-2023 17:27:41.019 SEVERE [main] org.apache.catalina.startup.HostConfig.deployWAR Error deploying web application archive [E:\\webapps\\dimcontrol.war]\n    java.lang.IllegalStateException: Error starting child\n        at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:686)\n        at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:658)\n        at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:713)\n        at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:975)\n        at org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1949)\n        at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n        at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n        at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:123)\n        at org.apache.catalina.startup.HostConfig.deployWARs(HostConfig.java:776)\n        at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:426)\n        at org.apache.catalina.startup.HostConfig.start(HostConfig.java:1656)\n        at org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:309)\n        at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\n        at org.apache.catalina.util.LifecycleBase.setStateInternal(LifecycleBase.java:423)\n        at org.apache.catalina.util.LifecycleBase.setState(LifecycleBase.java:366)\n        at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:898)\n        at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:846)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)\n        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n        at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n        at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\n        at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:871)\n        at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:241)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        at org.apache.catalina.core.StandardService.startInternal(StandardService.java:428)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:913)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        at org.apache.catalina.startup.Catalina.start(Catalina.java:795)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n        at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:347)\n        at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:478)\n    Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/dimcontrol]]\n        at org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198)\n        at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:683)\n        ... 37 more\n    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration': Unsatisfied dependency expressed through method 'setFilterChains' parameter 0: Error creating bean with name 'VaadinSecurityFilterChainBean' defined in class path resource [com/tools/dimcontrol/security/SecurityConfiguration.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'filterChain' threw exception with message: Cannot invoke &quot;com.vaadin.flow.di.Lookup.lookup(java.lang.Class)&quot; because &quot;lookup&quot; is null\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:818)\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:770)\n        at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:133)\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:482)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1416)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:597)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:917)\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:310)\n        at org.springframework.boot.web.servlet.support.SpringBootServletInitializer.run(SpringBootServletInitializer.java:174)\n        at org.springframework.boot.web.servlet.support.SpringBootServletInitializer.createRootApplicationContext(SpringBootServletInitializer.java:154)\n        at org.springframework.boot.web.servlet.support.SpringBootServletInitializer.onStartup(SpringBootServletInitializer.java:96)\n        at org.springframework.web.SpringServletContainerInitializer.onStartup(SpringServletContainerInitializer.java:171)\n        at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4875)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        ... 38 more\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'VaadinSecurityFilterChainBean' defined in class path resource [com/tools/dimcontrol/security/SecurityConfiguration.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'filterChain' threw exception with message: Cannot invoke &quot;com.vaadin.flow.di.Lookup.lookup(java.lang.Class)&quot; because &quot;lookup&quot; is null\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:657)\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:645)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\n        at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.addCandidateEntry(DefaultListableBeanFactory.java:1633)\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1597)\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveMultipleBeans(DefaultListableBeanFactory.java:1488)\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1375)\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337)\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:810)\n        ... 61 more\n    Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'filterChain' threw exception with message: Cannot invoke &quot;com.vaadin.flow.di.Lookup.lookup(java.lang.Class)&quot; because &quot;lookup&quot; is null\n        at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171)\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)\n        ... 77 more\n    Caused by: java.lang.NullPointerException: Cannot invoke &quot;com.vaadin.flow.di.Lookup.lookup(java.lang.Class)&quot; because &quot;lookup&quot; is null\n        at com.vaadin.flow.router.internal.RouteUtil.resolve(RouteUtil.java:283)\n        at com.vaadin.flow.router.internal.RouteUtil.getRoutePath(RouteUtil.java:110)\n        at com.vaadin.flow.spring.security.VaadinWebSecurity.setLoginView(VaadinWebSecurity.java:426)\n        at com.tools.dimcontrol.security.SecurityConfiguration.configure(SecurityConfiguration.java:39)\n        at com.vaadin.flow.spring.security.VaadinWebSecurity.filterChain(VaadinWebSecurity.java:140)\n        at com.tools.dimcontrol.security.SecurityConfiguration$$SpringCGLIB$$0.CGLIB$filterChain$3(&lt;generated&gt;)\n        at com.tools.dimcontrol.security.SecurityConfiguration$$SpringCGLIB$$1.invoke(&lt;generated&gt;)\n        at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258)\n        at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)\n        at com.tools.dimcontrol.security.SecurityConfiguration$$SpringCGLIB$$0.filterChain(&lt;generated&gt;)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n        at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139)\n        ... 78 more\n30-Mar-2023 17:27:41.032 INFO [main] org.apache.catalina.startup.HostConfig.deployWAR Deployment of web application archive [E:\\webapps\\dimcontrol.war] has finished in [13,753] ms\n30-Mar-2023 17:27:41.032 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deploying web application directory [E:\\webapps\\docs]\n30-Mar-2023 17:27:41.094 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory [E:\\webapps\\docs] has finished in [62] ms\n30-Mar-2023 17:27:41.094 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deploying web application directory [E:\\webapps\\examples]\n30-Mar-2023 17:27:41.375 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory [E:\\webapps\\examples] has finished in [281] ms\n30-Mar-2023 17:27:41.375 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deploying web application directory [E:\\webapps\\host-manager]\n30-Mar-2023 17:27:41.407 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory [E:\\webapps\\host-manager] has finished in [32] ms\n30-Mar-2023 17:27:41.407 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deploying web application directory [E:\\webapps\\manager]\n30-Mar-2023 17:27:41.438 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory [E:\\webapps\\manager] has finished in [31] ms\n30-Mar-2023 17:27:41.438 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deploying web application directory [E:\\webapps\\ROOT]\n30-Mar-2023 17:27:41.453 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory [E:\\webapps\\ROOT] has finished in [15] ms\n30-Mar-2023 17:27:41.453 INFO [main] org.apache.coyote.AbstractProtocol.start Starting ProtocolHandler [&quot;http-nio-8080&quot;]\n30-Mar-2023 17:27:41.485 INFO [main] org.apache.catalina.startup.Catalina.start Server startup in [14287] milliseconds\n30-Mar-2023 17:27:41.485 INFO [Thread-1] org.apache.coyote.AbstractProtocol.pause Pausing ProtocolHandler [&quot;http-nio-8080&quot;]\n30-Mar-2023 17:27:41.485 INFO [Thread-1] org.apache.catalina.core.StandardService.stopInternal Stopping service [Catalina]\n30-Mar-2023 17:27:41.517 INFO [Thread-1] org.apache.coyote.AbstractProtocol.stop Stopping ProtocolHandler [&quot;http-nio-8080&quot;]\n30-Mar-2023 17:27:41.533 INFO [Thread-1] org.apache.coyote.AbstractProtocol.destroy Destroying ProtocolHandler [&quot;http-nio-8080&quot;]\n30-Mar-2023 17:27:41.533 WARNING [Thread-1] org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesJdbc The web application [dimcontrol] registered the JDBC driver [com.mysql.cj.jdbc.Driver] but failed to unregister it when the web application was stopped. To prevent a memory leak, the JDBC Driver has been forcibly unregistered.\n30-Mar-2023 17:27:41.533 WARNING [Thread-1] org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesThreads The web application [dimcontrol] appears to have started a thread named [mysql-cj-abandoned-connection-cleanup] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\n java.base@17.0.6/java.lang.Object.wait(Native Method)\n java.base@17.0.6/java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:155)\n com.mysql.cj.jdbc.AbandonedConnectionCleanupThread.run(AbandonedConnectionCleanupThread.java:91)\n java.base@17.0.6/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n java.base@17.0.6/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n java.base@17.0.6/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n"},{"tags":["java","unicode"],"comments":[{"owner":{"account_id":11180480,"reputation":7021,"user_id":8207228,"display_name":"Ralf Kleberhoff"},"score":0,"creation_date":1502095839,"post_id":45542310,"comment_id":78045418,"body_markdown":"The example code uses String.getBytes(). And that depends on the &quot;platform default encoding&quot;. I can&#39;t see which encoding that is supposed to be. You&#39;d better construct a string GSM_0338 of all allowed characters in this charset, and for every character from your SMS text, check whether it&#39;s contained in this string. For the check, I don&#39;t see a necessity to create bytes from the SMS text.","body":"The example code uses String.getBytes(). And that depends on the &quot;platform default encoding&quot;. I can&#39;t see which encoding that is supposed to be. You&#39;d better construct a string GSM_0338 of all allowed characters in this charset, and for every character from your SMS text, check whether it&#39;s contained in this string. For the check, I don&#39;t see a necessity to create bytes from the SMS text."},{"owner":{"account_id":3211455,"reputation":1907,"user_id":2711378,"accept_rate":94,"display_name":"Amanuel Nega"},"score":0,"creation_date":1502096017,"post_id":45542310,"comment_id":78045522,"body_markdown":"@RalfKleberhoff That helps. Thanks","body":"@RalfKleberhoff That helps. Thanks"},{"owner":{"account_id":25589,"reputation":562161,"user_id":65863,"accept_rate":75,"display_name":"Remy Lebeau"},"score":0,"creation_date":1502145440,"post_id":45542310,"comment_id":78073391,"body_markdown":"Why not just have `isEncodeableInGsm0338()` call `isoString.getBytes(&quot;GSM_0338&quot;)` and return true if it succeeds and false if it fails? Or better, use something like [`GsmCharsetProvider`](https://github.com/ixonos/jcimd/blob/master/src/main/java/com/googlecode/jcimd/charset/GsmCharsetProvider.java) or [Java GSM 03.38 SMS Character Set Translator](https://embeddedfreak.wordpress.com/2008/10/08/java-gsm-0338-sms-character-set-translator/).","body":"Why not just have <code>isEncodeableInGsm0338()</code> call <code>isoString.getBytes(&quot;GSM_0338&quot;)</code> and return true if it succeeds and false if it fails? Or better, use something like <a href=\"https://github.com/ixonos/jcimd/blob/master/src/main/java/com/googlecode/jcimd/charset/GsmCharsetProvider.java\" rel=\"nofollow noreferrer\"><code>GsmCharsetProvider</code></a> or <a href=\"https://embeddedfreak.wordpress.com/2008/10/08/java-gsm-0338-sms-character-set-translator/\" rel=\"nofollow noreferrer\">Java GSM 03.38 SMS Character Set Translator</a>."},{"owner":{"account_id":3211455,"reputation":1907,"user_id":2711378,"accept_rate":94,"display_name":"Amanuel Nega"},"score":0,"creation_date":1502220096,"post_id":45542310,"comment_id":78112252,"body_markdown":"@RemyLebeau the last link was helpful. But there is no encoding called `GSM_0338` in java&#39;s available char-set list.","body":"@RemyLebeau the last link was helpful. But there is no encoding called <code>GSM_0338</code> in java&#39;s available char-set list."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1504248275,"post_id":45542310,"comment_id":78949083,"body_markdown":"https://stackoverflow.com/questions/13538685/dynamically-generating-geez-unicodes","body":"<a href=\"https://stackoverflow.com/questions/13538685/dynamically-generating-geez-unicodes\" title=\"dynamically generating geez unicodes\">stackoverflow.com/questions/13538685/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":3211455,"reputation":1907,"user_id":2711378,"accept_rate":94,"display_name":"Amanuel Nega"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1504247047,"creation_date":1502219997,"answer_id":45576461,"question_id":45542310,"body_markdown":"Got it!\r\n\r\nThe method on [line 240][1] is as follows.\r\n\r\n     public static boolean isEncodeableInGsm0338(String isoString) {\r\n            byte[] isoBytes = isoString.getBytes();\r\n            outer:\r\n            for (int i = 0; i &lt; isoBytes.length; i++) {\r\n                for (int j = 0; j &lt; isoGsm0338Array.length; j++) {\r\n                    if (isoGsm0338Array[j] == isoBytes[i]) {\r\n                        continue outer;\r\n                    }\r\n                }\r\n                for (int j = 0; j &lt; extendedIsoGsm0338Array.length; j++) {\r\n                    if (extendedIsoGsm0338Array[j][1] == isoBytes[i]) {\r\n                        continue outer;\r\n                    }\r\n                }\r\n                return false;\r\n            }\r\n            return true;\r\n        }\r\n\r\nAs you can see, it uses`isoString.getBytes()` which is encoding dependent. The solution is to compare each `char` by getting the character array using `isoString.toCharArray()`. \r\n\r\nChanged \r\n\r\n`byte[] isoBytes = isoString.getBytes();` \r\n\r\nto \r\n\r\n`char[] isoBytes = isoString.toCharArray();` \r\n\r\nYou might want to name `isoBytes` to something else too. Works like a charm.\r\n\r\n  [1]: https://github.com/opentelecoms-org/jsmpp/blob/master/jsmpp-examples/src/main/java/org/jsmpp/examples/SubmitMultipartMultilangualExample.java#L240","title":"Checking if string is Encodeable In Gsm0338","body":"<p>Got it!</p>\n\n<p>The method on <a href=\"https://github.com/opentelecoms-org/jsmpp/blob/master/jsmpp-examples/src/main/java/org/jsmpp/examples/SubmitMultipartMultilangualExample.java#L240\" rel=\"nofollow noreferrer\">line 240</a> is as follows.</p>\n\n<pre><code> public static boolean isEncodeableInGsm0338(String isoString) {\n        byte[] isoBytes = isoString.getBytes();\n        outer:\n        for (int i = 0; i &lt; isoBytes.length; i++) {\n            for (int j = 0; j &lt; isoGsm0338Array.length; j++) {\n                if (isoGsm0338Array[j] == isoBytes[i]) {\n                    continue outer;\n                }\n            }\n            for (int j = 0; j &lt; extendedIsoGsm0338Array.length; j++) {\n                if (extendedIsoGsm0338Array[j][1] == isoBytes[i]) {\n                    continue outer;\n                }\n            }\n            return false;\n        }\n        return true;\n    }\n</code></pre>\n\n<p>As you can see, it uses<code>isoString.getBytes()</code> which is encoding dependent. The solution is to compare each <code>char</code> by getting the character array using <code>isoString.toCharArray()</code>. </p>\n\n<p>Changed </p>\n\n<p><code>byte[] isoBytes = isoString.getBytes();</code> </p>\n\n<p>to </p>\n\n<p><code>char[] isoBytes = isoString.toCharArray();</code> </p>\n\n<p>You might want to name <code>isoBytes</code> to something else too. Works like a charm.</p>\n"},{"tags":[],"owner":{"account_id":71704,"reputation":4230,"user_id":207352,"accept_rate":51,"display_name":"Pavel Vlasov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1582881867,"creation_date":1582881378,"answer_id":60448544,"question_id":45542310,"body_markdown":"Here is a version of mine. It&#39;s 20 times faster on 16 char strings than the nested loop, also faster than regexp, `HashSet` and `tableswitch` (by some reason).\r\n\r\n    public class Gsm0338 {\r\n\r\n    private static final char[] BASIC_CHARS = {\r\n            // Basic Character Set\r\n            &#39;@&#39;, &#39;&#163;&#39;, &#39;$&#39;, &#39;&#165;&#39;, &#39;&#232;&#39;, &#39;&#233;&#39;, &#39;&#249;&#39;, &#39;&#236;&#39;, &#39;&#242;&#39;, &#39;&#199;&#39;, &#39;\\n&#39;, &#39;&#216;&#39;, &#39;&#248;&#39;, &#39;\\r&#39;, &#39;&#197;&#39;, &#39;&#229;&#39;,\r\n            &#39;Δ&#39;, &#39;_&#39;, &#39;Φ&#39;, &#39;Γ&#39;, &#39;Λ&#39;, &#39;Ω&#39;, &#39;Π&#39;, &#39;Ψ&#39;, &#39;Σ&#39;, &#39;Θ&#39;, &#39;Ξ&#39;, &#39;&#198;&#39;, &#39;&#230;&#39;, &#39;&#223;&#39;, &#39;&#201;&#39;,\r\n            &#39; &#39;, &#39;!&#39;, &#39;&quot;&#39;, &#39;#&#39;, &#39;&#164;&#39;, &#39;%&#39;, &#39;&amp;&#39;, &#39;\\&#39;&#39;, &#39;(&#39;, &#39;)&#39;, &#39;*&#39;, &#39;+&#39;, &#39;,&#39;, &#39;-&#39;, &#39;.&#39;, &#39;/&#39;,\r\n            &#39;0&#39;, &#39;1&#39;, &#39;2&#39;, &#39;3&#39;, &#39;4&#39;, &#39;5&#39;, &#39;6&#39;, &#39;7&#39;, &#39;8&#39;, &#39;9&#39;, &#39;:&#39;, &#39;;&#39;, &#39;&lt;&#39;, &#39;=&#39;, &#39;&gt;&#39;, &#39;?&#39;,\r\n            &#39;&#161;&#39;, &#39;A&#39;, &#39;B&#39;, &#39;C&#39;, &#39;D&#39;, &#39;E&#39;, &#39;F&#39;, &#39;G&#39;, &#39;H&#39;, &#39;I&#39;, &#39;J&#39;, &#39;K&#39;, &#39;L&#39;, &#39;M&#39;, &#39;N&#39;, &#39;O&#39;,\r\n            &#39;P&#39;, &#39;Q&#39;, &#39;R&#39;, &#39;S&#39;, &#39;T&#39;, &#39;U&#39;, &#39;V&#39;, &#39;W&#39;, &#39;X&#39;, &#39;Y&#39;, &#39;Z&#39;, &#39;&#196;&#39;, &#39;&#214;&#39;, &#39;&#209;&#39;, &#39;&#220;&#39;, &#39;&#167;&#39;,\r\n            &#39;&#191;&#39;, &#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;e&#39;, &#39;f&#39;, &#39;g&#39;, &#39;h&#39;, &#39;i&#39;, &#39;j&#39;, &#39;k&#39;, &#39;l&#39;, &#39;m&#39;, &#39;n&#39;, &#39;o&#39;,\r\n            &#39;p&#39;, &#39;q&#39;, &#39;r&#39;, &#39;s&#39;, &#39;t&#39;, &#39;u&#39;, &#39;v&#39;, &#39;w&#39;, &#39;x&#39;, &#39;y&#39;, &#39;z&#39;, &#39;&#228;&#39;, &#39;&#246;&#39;, &#39;&#241;&#39;, &#39;&#252;&#39;, &#39;&#224;&#39;,\r\n            // Basic Character Set Extension\r\n            &#39;\\f&#39;, &#39;^&#39;, &#39;{&#39;, &#39;}&#39;, &#39;\\\\&#39;, &#39;[&#39;, &#39;~&#39;, &#39;]&#39;, &#39;|&#39;, &#39;€&#39;\r\n    };\r\n\r\n    private static boolean[] ENCODEABLE_BY_ORD_UP_TO_253 = new boolean[254];\r\n    private static Set&lt;Character&gt; ENCODEABLE_REST = new HashSet&lt;&gt;();\r\n    static {\r\n        for (int i = 0; i &lt; BASIC_CHARS.length; i++) {\r\n            char ch = BASIC_CHARS[i];\r\n            if (ch &lt;= 253) {\r\n                ENCODEABLE_BY_ORD_UP_TO_253[ch] = true;\r\n            } else {\r\n                ENCODEABLE_REST.add(ch);\r\n            }\r\n        }\r\n    }\r\n\r\n    public static boolean isEncodeable(String javaString) {\r\n        final int length = javaString.length();\r\n        for (int i = 0; i &lt; length; ++i) {\r\n            char ch = javaString.charAt(i);\r\n            if (ch &lt;= 253) {\r\n                if (!ENCODEABLE_BY_ORD_UP_TO_253[ch]) {\r\n                    return false;\r\n                }\r\n            } else {\r\n                if (!ENCODEABLE_REST.contains(ch)) {\r\n                    return false;\r\n                }\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n    }","title":"Checking if string is Encodeable In Gsm0338","body":"<p>Here is a version of mine. It's 20 times faster on 16 char strings than the nested loop, also faster than regexp, <code>HashSet</code> and <code>tableswitch</code> (by some reason).</p>\n\n<pre><code>public class Gsm0338 {\n\nprivate static final char[] BASIC_CHARS = {\n        // Basic Character Set\n        '@', '£', '$', '¥', 'è', 'é', 'ù', 'ì', 'ò', 'Ç', '\\n', 'Ø', 'ø', '\\r', 'Å', 'å',\n        'Δ', '_', 'Φ', 'Γ', 'Λ', 'Ω', 'Π', 'Ψ', 'Σ', 'Θ', 'Ξ', 'Æ', 'æ', 'ß', 'É',\n        ' ', '!', '\"', '#', '¤', '%', '&amp;', '\\'', '(', ')', '*', '+', ',', '-', '.', '/',\n        '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', ':', ';', '&lt;', '=', '&gt;', '?',\n        '¡', 'A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O',\n        'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z', 'Ä', 'Ö', 'Ñ', 'Ü', '§',\n        '¿', 'a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o',\n        'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z', 'ä', 'ö', 'ñ', 'ü', 'à',\n        // Basic Character Set Extension\n        '\\f', '^', '{', '}', '\\\\', '[', '~', ']', '|', '€'\n};\n\nprivate static boolean[] ENCODEABLE_BY_ORD_UP_TO_253 = new boolean[254];\nprivate static Set&lt;Character&gt; ENCODEABLE_REST = new HashSet&lt;&gt;();\nstatic {\n    for (int i = 0; i &lt; BASIC_CHARS.length; i++) {\n        char ch = BASIC_CHARS[i];\n        if (ch &lt;= 253) {\n            ENCODEABLE_BY_ORD_UP_TO_253[ch] = true;\n        } else {\n            ENCODEABLE_REST.add(ch);\n        }\n    }\n}\n\npublic static boolean isEncodeable(String javaString) {\n    final int length = javaString.length();\n    for (int i = 0; i &lt; length; ++i) {\n        char ch = javaString.charAt(i);\n        if (ch &lt;= 253) {\n            if (!ENCODEABLE_BY_ORD_UP_TO_253[ch]) {\n                return false;\n            }\n        } else {\n            if (!ENCODEABLE_REST.contains(ch)) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1690436093,"post_id":76748770,"comment_id":135354109,"body_markdown":"With all due respect, how does PHP code help someone who is asking for Java code?","body":"With all due respect, how does PHP code help someone who is asking for Java code?"}],"tags":[],"owner":{"account_id":26420896,"reputation":1,"user_id":20068593,"display_name":"TWOTM"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690122747,"creation_date":1690122615,"answer_id":76748770,"question_id":45542310,"body_markdown":"For PHP, here is a function that checks if a string is GSM0338 encodable:\r\n\r\n\r\n    function IsGSM0338Encodable($sText)   \r\n    {    \r\n    $pcgsm0338_chars = &#39;@&#39;.&#39;&#163;&#39;.&#39;$&#39;.&#39;&#165;&#39;.&#39;&#232;&#39;.&#39;&#233;&#39;.&#39;&#249;&#39;.&#39;&#236;&#39;.&#39;&#242;&#39;.&#39;&#199;&#39;.&#39;\\n&#39;.&#39;&#216;&#39;.&#39;&#248;&#39;.&#39;\\r&#39;.&#39;&#197;&#39;.&#39;&#229;&#39;.&#39;Δ&#39;.&#39;_&#39;.&#39;Φ&#39;.&#39;Γ&#39;.&#39;Λ&#39;.&#39;Ω&#39;.&#39;Π&#39;.&#39;Ψ&#39;.&#39;Σ&#39;.&#39;Θ&#39;.&#39;Ξ&#39;.&#39;&#198;&#39;.&#39;&#230;&#39;.&#39;&#223;&#39;.&#39;&#201;&#39;.&#39; &#39;.&#39;!&#39;.&#39;&quot;&#39;.&#39;#&#39;.&#39;&#164;&#39;.&#39;%&#39;.&#39;&amp;&#39;.&#39;\\&#39;&#39;.&#39;(&#39;.&#39;)&#39;.&#39;*&#39;.&#39;+&#39;.&#39;,&#39;.&#39;-&#39;.&#39;.&#39;.&#39;/&#39;.&#39;0&#39;.&#39;1&#39;.&#39;2&#39;.&#39;3&#39;.&#39;4&#39;.&#39;5&#39;.&#39;6&#39;.&#39;7&#39;.&#39;8&#39;.&#39;9&#39;.&#39;:&#39;.&#39;;&#39;.&#39;&lt;&#39;.&#39;=&#39;.&#39;&gt;&#39;.&#39;?&#39;.&#39;&#161;&#39;.&#39;A&#39;.&#39;B&#39;.&#39;C&#39;.&#39;D&#39;.&#39;E&#39;.&#39;F&#39;.&#39;G&#39;.&#39;H&#39;.&#39;I&#39;.&#39;J&#39;.&#39;K&#39;.&#39;L&#39;.&#39;M&#39;.&#39;N&#39;.&#39;O&#39;.&#39;P&#39;.&#39;Q&#39;.&#39;R&#39;.&#39;S&#39;.&#39;T&#39;.&#39;U&#39;.&#39;V&#39;.&#39;W&#39;.&#39;X&#39;.&#39;Y&#39;.&#39;Z&#39;.&#39;&#196;&#39;.&#39;&#214;&#39;.&#39;&#209;&#39;.&#39;&#220;&#39;.&#39;&#167;&#39;.&#39;&#191;&#39;.&#39;a&#39;.&#39;b&#39;.&#39;c&#39;.&#39;d&#39;.&#39;e&#39;.&#39;f&#39;.&#39;g&#39;.&#39;h&#39;.&#39;i&#39;.&#39;j&#39;.&#39;k&#39;.&#39;l&#39;.&#39;m&#39;.&#39;n&#39;.&#39;o&#39;.&#39;p&#39;.&#39;q&#39;.&#39;r&#39;.&#39;s&#39;.&#39;t&#39;.&#39;u&#39;.&#39;v&#39;.&#39;w&#39;.&#39;x&#39;.&#39;y&#39;.&#39;z&#39;.&#39;&#228;&#39;.&#39;&#246;&#39;.&#39;&#241;&#39;.&#39;&#252;&#39;.&#39;&#224;&#39;.&#39;\\f&#39;.&#39;^&#39;.&#39;{&#39;.&#39;}&#39;.&#39;\\\\&#39;.&#39;[&#39;.&#39;~&#39;.&#39;]&#39;.&#39;|&#39;.&#39;€&#39;;\r\n    \t\r\n    \t$sText = iconv(mb_detect_encoding($sText, mb_detect_order(), true), &quot;UTF-8&quot;, $sText);\r\n    \r\n    \tfor($i = 0, $unChars = strlen($pcgsm0338_chars); $i &lt; strlen($sText); $i++)\r\n    \t\t{\r\n    \t\t$c = $sText[$i];\r\n    \r\n    \t\tfor($j = 0; $j &lt; $unChars &amp;&amp; $pcgsm0338_chars[$j] != $c; $j++);\r\n    \t\t\t\r\n    \t\tif ($j &gt;= $unChars)\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \t\t\r\n    \treturn true;\r\n    }","title":"Checking if string is Encodeable In Gsm0338","body":"<p>For PHP, here is a function that checks if a string is GSM0338 encodable:</p>\n<pre><code>function IsGSM0338Encodable($sText)   \n{    \n$pcgsm0338_chars = '@'.'£'.'$'.'¥'.'è'.'é'.'ù'.'ì'.'ò'.'Ç'.'\\n'.'Ø'.'ø'.'\\r'.'Å'.'å'.'Δ'.'_'.'Φ'.'Γ'.'Λ'.'Ω'.'Π'.'Ψ'.'Σ'.'Θ'.'Ξ'.'Æ'.'æ'.'ß'.'É'.' '.'!'.'&quot;'.'#'.'¤'.'%'.'&amp;'.'\\''.'('.')'.'*'.'+'.','.'-'.'.'.'/'.'0'.'1'.'2'.'3'.'4'.'5'.'6'.'7'.'8'.'9'.':'.';'.'&lt;'.'='.'&gt;'.'?'.'¡'.'A'.'B'.'C'.'D'.'E'.'F'.'G'.'H'.'I'.'J'.'K'.'L'.'M'.'N'.'O'.'P'.'Q'.'R'.'S'.'T'.'U'.'V'.'W'.'X'.'Y'.'Z'.'Ä'.'Ö'.'Ñ'.'Ü'.'§'.'¿'.'a'.'b'.'c'.'d'.'e'.'f'.'g'.'h'.'i'.'j'.'k'.'l'.'m'.'n'.'o'.'p'.'q'.'r'.'s'.'t'.'u'.'v'.'w'.'x'.'y'.'z'.'ä'.'ö'.'ñ'.'ü'.'à'.'\\f'.'^'.'{'.'}'.'\\\\'.'['.'~'.']'.'|'.'€';\n    \n    $sText = iconv(mb_detect_encoding($sText, mb_detect_order(), true), &quot;UTF-8&quot;, $sText);\n\n    for($i = 0, $unChars = strlen($pcgsm0338_chars); $i &lt; strlen($sText); $i++)\n        {\n        $c = $sText[$i];\n\n        for($j = 0; $j &lt; $unChars &amp;&amp; $pcgsm0338_chars[$j] != $c; $j++);\n            \n        if ($j &gt;= $unChars)\n            return false;\n        }\n        \n    return true;\n}\n</code></pre>\n"}],"owner":{"account_id":3211455,"reputation":1907,"user_id":2711378,"accept_rate":94,"display_name":"Amanuel Nega"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1565,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":45576461,"answer_count":3,"score":3,"last_activity_date":1690460874,"creation_date":1502093838,"question_id":45542310,"body_markdown":"I am working on an SMS application and I send out Unicode characters (Amharic/G&#39;eez). I am using [this example][1]. The method on line [240][2], `isEncodeableInGsm0338()`, is used to check if I should use another encoding or the default encoding.\r\n\r\nHere is the code\r\n\r\n     public static boolean isEncodeableInGsm0338(String isoString) {\r\n        byte[] isoBytes = isoString.getBytes();\r\n        outer:\r\n        for (int i = 0; i &lt; isoBytes.length; i++) {\r\n            for (int j = 0; j &lt; isoGsm0338Array.length; j++) {\r\n                if (isoGsm0338Array[j] == isoBytes[i]) {\r\n                    continue outer;\r\n                }\r\n            }\r\n            for (int j = 0; j &lt; extendedIsoGsm0338Array.length; j++) {\r\n                if (extendedIsoGsm0338Array[j][1] == isoBytes[i]) {\r\n                    continue outer;\r\n                }\r\n            }\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\nHere is the catch. The string `&quot;የእንግሊዝ ፕሪምየር ሊግ ነህሴ 6 ይጀምራል።&quot;`, which is clearly Unicode, is returning from that method. My hypothesis being half of each letter.  But I can&#39;t support that theory.  If I change the text to `&quot;1. የእንግሊዝ ፕሪምየር ሊግ ነህሴ 6 ይጀምራል።&quot;`, it detects correctly. \r\n\r\nWhat is happening here? \r\n\r\n  [1]: https://github.com/opentelecoms-org/jsmpp/blob/master/jsmpp-examples/src/main/java/org/jsmpp/examples/SubmitMultipartMultilangualExample.java\r\n  [2]: https://github.com/opentelecoms-org/jsmpp/blob/master/jsmpp-examples/src/main/java/org/jsmpp/examples/SubmitMultipartMultilangualExample.java#L240","title":"Checking if string is Encodeable In Gsm0338","body":"<p>I am working on an SMS application and I send out Unicode characters (Amharic/G'eez). I am using <a href=\"https://github.com/opentelecoms-org/jsmpp/blob/master/jsmpp-examples/src/main/java/org/jsmpp/examples/SubmitMultipartMultilangualExample.java\" rel=\"nofollow noreferrer\">this example</a>. The method on line <a href=\"https://github.com/opentelecoms-org/jsmpp/blob/master/jsmpp-examples/src/main/java/org/jsmpp/examples/SubmitMultipartMultilangualExample.java#L240\" rel=\"nofollow noreferrer\">240</a>, <code>isEncodeableInGsm0338()</code>, is used to check if I should use another encoding or the default encoding.</p>\n<p>Here is the code</p>\n<pre><code> public static boolean isEncodeableInGsm0338(String isoString) {\n    byte[] isoBytes = isoString.getBytes();\n    outer:\n    for (int i = 0; i &lt; isoBytes.length; i++) {\n        for (int j = 0; j &lt; isoGsm0338Array.length; j++) {\n            if (isoGsm0338Array[j] == isoBytes[i]) {\n                continue outer;\n            }\n        }\n        for (int j = 0; j &lt; extendedIsoGsm0338Array.length; j++) {\n            if (extendedIsoGsm0338Array[j][1] == isoBytes[i]) {\n                continue outer;\n            }\n        }\n        return false;\n    }\n    return true;\n}\n</code></pre>\n<p>Here is the catch. The string <code>&quot;የእንግሊዝ ፕሪምየር ሊግ ነህሴ 6 ይጀምራል።&quot;</code>, which is clearly Unicode, is returning from that method. My hypothesis being half of each letter.  But I can't support that theory.  If I change the text to <code>&quot;1. የእንግሊዝ ፕሪምየር ሊግ ነህሴ 6 ይጀምራል።&quot;</code>, it detects correctly.</p>\n<p>What is happening here?</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1690470418,"post_id":76779459,"comment_id":135361379,"body_markdown":"First of all, dont use JWTs as sessions as it is very insecure, thats why there is no such &quot;filter&quot; in spring security. JWTs are not ment to be used as sessions so please remove that. If you are a beginner at spring security, read the official docs and use the tools provided by the framework. Second, `Any help or insights` whats the reason for not enabling DEBUG logs and reading the reason in the logs?","body":"First of all, dont use JWTs as sessions as it is very insecure, thats why there is no such &quot;filter&quot; in spring security. JWTs are not ment to be used as sessions so please remove that. If you are a beginner at spring security, read the official docs and use the tools provided by the framework. Second, <code>Any help or insights</code> whats the reason for not enabling DEBUG logs and reading the reason in the logs?"},{"owner":{"account_id":13593560,"reputation":442,"user_id":9806268,"display_name":"Joanmi"},"score":0,"creation_date":1690470552,"post_id":76779459,"comment_id":135361417,"body_markdown":"I&#39;ve dockerized the microservice with pgadmin at container then I need to deploy and test (I can&#39;t access to PostgreSQL container from my IDE don&#39;t know why). What kind of session should I use?","body":"I&#39;ve dockerized the microservice with pgadmin at container then I need to deploy and test (I can&#39;t access to PostgreSQL container from my IDE don&#39;t know why). What kind of session should I use?"},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1690470943,"post_id":76779459,"comment_id":135361511,"body_markdown":"i suggest you do a lot more research https://developer.okta.com/blog/2017/08/17/why-jwts-suck-as-session-tokens https://dzone.com/articles/stop-using-jwts-as-session-tokens https://redis.com/blog/json-web-tokens-jwt-are-dangerous-for-user-sessions/ http://cryto.net/~joepie91/blog/2016/06/13/stop-using-jwt-for-sessions/ there are several choices to use instead, how about using one of them that are actually documented in the spring security official documentation? i suggest you read the docs","body":"i suggest you do a lot more research <a href=\"https://developer.okta.com/blog/2017/08/17/why-jwts-suck-as-session-tokens\" rel=\"nofollow noreferrer\">developer.okta.com/blog/2017/08/17/&hellip;</a> <a href=\"https://dzone.com/articles/stop-using-jwts-as-session-tokens\" rel=\"nofollow noreferrer\">dzone.com/articles/stop-using-jwts-as-session-tokens</a> <a href=\"https://redis.com/blog/json-web-tokens-jwt-are-dangerous-for-user-sessions/\" rel=\"nofollow noreferrer\">redis.com/blog/&hellip;</a> <a href=\"http://cryto.net/~joepie91/blog/2016/06/13/stop-using-jwt-for-sessions/\" rel=\"nofollow noreferrer\">cryto.net/~joepie91/blog/2016/06/13/stop-using-jwt-for-sessi&zwnj;&#8203;ons</a> there are several choices to use instead, how about using one of them that are actually documented in the spring security official documentation? i suggest you read the docs"},{"owner":{"account_id":13593560,"reputation":442,"user_id":9806268,"display_name":"Joanmi"},"score":1,"creation_date":1690471732,"post_id":76779459,"comment_id":135361679,"body_markdown":"Thank you for your help, I&#39;ll try to remake the microservice. :)","body":"Thank you for your help, I&#39;ll try to remake the microservice. :)"}],"owner":{"account_id":13593560,"reputation":442,"user_id":9806268,"display_name":"Joanmi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690460497,"creation_date":1690458747,"question_id":76779459,"body_markdown":"I&#39;m currently facing an issue with my Spring Boot application, and I would appreciate some help in resolving it.\r\n\r\nI have a JwtAuthenticationController class annotated with @RestController, which has two endpoint mappings: /authenticate and /register. The problem is that every time I try to access any endpoint, I&#39;m always redirected to the /authenticate endpoint, even when I try to access /register.\r\n\r\nHere is a simplified version of my JwtAuthenticationController:\r\n\r\n    @RestController\r\n    @CrossOrigin\r\n    public class JwtAuthenticationController {\r\n        // Autowired fields and other methods are here (omitted for brevity).\r\n    \r\n        @PostMapping(value = &quot;/authenticate&quot;)\r\n        public ResponseEntity&lt;?&gt; createAuthenticationToken(@RequestBody JwtRequest authenticationRequest) throws Exception {\r\n            // Authentication logic is here (omitted for brevity).\r\n        }\r\n    \r\n        @PostMapping(value = &quot;/register&quot;)\r\n        public ResponseEntity&lt;?&gt; saveUser(@RequestBody UserRq user) throws Exception {\r\n            // User registration logic is here (omitted for brevity).\r\n        }\r\n    }\r\n\r\nI have verified that both endpoints are correctly mapped with their respective HTTP POST methods. However, whenever I try to access /register, I end up in the /authenticate endpoint.\r\n\r\nI have checked my application&#39;s logs, but there are no error messages or exceptions related to this issue. It seems like the request is not being properly routed to the /register endpoint.\r\n\r\nI&#39;ve tried restarting the application and checking my request URLs to ensure they are correct. I&#39;ve also verified that the UserRq class is correctly defined and that the userDetailsService.save(user) method is functioning properly.\r\n\r\nDoes anyone have an idea of what might be causing this behavior? Any help or insights into resolving this issue would be greatly appreciated.\r\n\r\nFor more information here is my JwtAuthenticationEntryPoint:\r\n\r\n    public class JwtRequestFilter extends OncePerRequestFilter {\r\n    private final JwtTokenUtil jwtTokenUtil;\r\n    private final JwtUserDetailsService jwtUserDetailsService;\r\n\r\n    public JwtRequestFilter(JwtTokenUtil jwtTokenUtil,\r\n                            JwtUserDetailsService jwtUserDetailsService) {\r\n        this.jwtTokenUtil = jwtTokenUtil;\r\n        this.jwtUserDetailsService = jwtUserDetailsService;\r\n    }\r\n    @Override\r\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain chain)\r\n            throws ServletException, IOException {\r\n        final String requestTokenHeader = request.getHeader(&quot;Authorization&quot;);\r\n        String username = null;\r\n        String jwtToken = null;\r\n        // JWT Token is in the form &quot;Bearer token&quot;. Remove Bearer word and get\r\n        // only the Token\r\n        if (requestTokenHeader != null &amp;&amp; requestTokenHeader.startsWith(&quot;Bearer &quot;)) {\r\n            jwtToken = requestTokenHeader.substring(7);\r\n            try {\r\n                username = jwtTokenUtil.getUsernameFromToken(jwtToken);\r\n            } catch (IllegalArgumentException e) {\r\n                System.out.println(&quot;Unable to get JWT Token&quot;);\r\n            } catch (ExpiredJwtException e) {\r\n                System.out.println(&quot;JWT Token has expired&quot;);\r\n            }\r\n        } else {\r\n            logger.warn(&quot;JWT Token does not begin with Bearer String&quot;);\r\n        }\r\n        // Once we get the token validate it.\r\n        if (username != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null) {\r\n            UserDetails userDetails = this.jwtUserDetailsService.loadUserByUsername(username);\r\n            // if token is valid configure Spring Security to manually set\r\n            // authentication\r\n            if (jwtTokenUtil.validateToken(jwtToken, userDetails)) {\r\n                UsernamePasswordAuthenticationToken usernamePasswordAuthenticationToken = new UsernamePasswordAuthenticationToken(\r\n                        userDetails, null, userDetails.getAuthorities());\r\n                usernamePasswordAuthenticationToken\r\n                        .setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\r\n                // After setting the Authentication in the context, we specify\r\n                // that the current user is authenticated. So it passes the\r\n                // Spring Security Configurations successfully.\r\n                SecurityContextHolder.getContext().setAuthentication(usernamePasswordAuthenticationToken);\r\n            }\r\n        }\r\n        chain.doFilter(request, response);\r\n    }\r\n}\r\n\r\nHere my SecurityConfiguration:\r\n\r\n  \r\n\r\n      package jb.microservices.login.util;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.scheduling.annotation.EnableScheduling;\r\n    import org.springframework.security.authentication.AuthenticationManager;\r\n    import org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\n    import org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;\r\n    import org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n    import org.springframework.security.config.annotation.web.builders.WebSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\n    import org.springframework.security.config.http.SessionCreationPolicy;\r\n    import org.springframework.security.core.userdetails.UserDetailsService;\r\n    import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\n    import org.springframework.security.crypto.password.PasswordEncoder;\r\n    import org.springframework.security.web.AuthenticationEntryPoint;\r\n    import org.springframework.security.web.authentication.AnonymousAuthenticationFilter;\r\n    import org.springframework.security.web.authentication.HttpStatusEntryPoint;\r\n    import org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\r\n    import org.springframework.security.web.util.matcher.AntPathRequestMatcher;\r\n    import org.springframework.security.web.util.matcher.OrRequestMatcher;\r\n    import org.springframework.security.web.util.matcher.RequestMatcher;\r\n    \r\n    @Configuration\r\n    @EnableWebSecurity\r\n    @EnableGlobalMethodSecurity(prePostEnabled = true)\r\n    public class SecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n    \r\n        @Autowired\r\n        private JwtAuthenticationEntryPoint jwtAuthenticationEntryPoint;\r\n    \r\n        @Autowired\r\n        private UserDetailsService jwtUserDetailsService;\r\n    \r\n        @Autowired\r\n        private JwtRequestFilter jwtRequestFilter;\r\n    \r\n        @Autowired\r\n        public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\r\n            // configure AuthenticationManager so that it knows from where to load\r\n            // user for matching credentials\r\n            // Use BCryptPasswordEncoder\r\n            auth.userDetailsService(jwtUserDetailsService).passwordEncoder(new BCryptPasswordEncoder());\r\n        }\r\n    \r\n        @Bean\r\n        @Override\r\n        public AuthenticationManager authenticationManagerBean() throws Exception {\r\n            return super.authenticationManagerBean();\r\n        }\r\n    \r\n        @Override\r\n        public void configure(WebSecurity web) {\r\n            web.ignoring().antMatchers(&quot;/authenticate&quot;, &quot;/register&quot;);\r\n        }\r\n    \r\n        @Override\r\n        protected void configure(HttpSecurity httpSecurity) throws Exception {\r\n            // We don&#39;t need CSRF for this example\r\n            httpSecurity.csrf().disable()\r\n                    // dont authenticate this particular request\r\n                    .authorizeRequests().antMatchers(&quot;/authenticate&quot;, &quot;/register&quot;).permitAll().\r\n                    // all other requests need to be authenticated\r\n                            anyRequest().authenticated().and().\r\n                    // make sure we use stateless session; session won&#39;t be used to\r\n                    // store user&#39;s state.\r\n                            exceptionHandling().authenticationEntryPoint(jwtAuthenticationEntryPoint).and().sessionManagement()\r\n                    .sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n    \r\n            // Add a filter to validate the tokens with every request\r\n            httpSecurity.addFilterBefore(jwtRequestFilter, UsernamePasswordAuthenticationFilter.class);\r\n        }\r\n    }\r\n\r\n","title":"All routes redirect to /authenticate endpoint in Spring Boot @RestController","body":"<p>I'm currently facing an issue with my Spring Boot application, and I would appreciate some help in resolving it.</p>\n<p>I have a JwtAuthenticationController class annotated with @RestController, which has two endpoint mappings: /authenticate and /register. The problem is that every time I try to access any endpoint, I'm always redirected to the /authenticate endpoint, even when I try to access /register.</p>\n<p>Here is a simplified version of my JwtAuthenticationController:</p>\n<pre><code>@RestController\n@CrossOrigin\npublic class JwtAuthenticationController {\n    // Autowired fields and other methods are here (omitted for brevity).\n\n    @PostMapping(value = &quot;/authenticate&quot;)\n    public ResponseEntity&lt;?&gt; createAuthenticationToken(@RequestBody JwtRequest authenticationRequest) throws Exception {\n        // Authentication logic is here (omitted for brevity).\n    }\n\n    @PostMapping(value = &quot;/register&quot;)\n    public ResponseEntity&lt;?&gt; saveUser(@RequestBody UserRq user) throws Exception {\n        // User registration logic is here (omitted for brevity).\n    }\n}\n</code></pre>\n<p>I have verified that both endpoints are correctly mapped with their respective HTTP POST methods. However, whenever I try to access /register, I end up in the /authenticate endpoint.</p>\n<p>I have checked my application's logs, but there are no error messages or exceptions related to this issue. It seems like the request is not being properly routed to the /register endpoint.</p>\n<p>I've tried restarting the application and checking my request URLs to ensure they are correct. I've also verified that the UserRq class is correctly defined and that the userDetailsService.save(user) method is functioning properly.</p>\n<p>Does anyone have an idea of what might be causing this behavior? Any help or insights into resolving this issue would be greatly appreciated.</p>\n<p>For more information here is my JwtAuthenticationEntryPoint:</p>\n<pre><code>public class JwtRequestFilter extends OncePerRequestFilter {\nprivate final JwtTokenUtil jwtTokenUtil;\nprivate final JwtUserDetailsService jwtUserDetailsService;\n\npublic JwtRequestFilter(JwtTokenUtil jwtTokenUtil,\n                        JwtUserDetailsService jwtUserDetailsService) {\n    this.jwtTokenUtil = jwtTokenUtil;\n    this.jwtUserDetailsService = jwtUserDetailsService;\n}\n@Override\nprotected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain chain)\n        throws ServletException, IOException {\n    final String requestTokenHeader = request.getHeader(&quot;Authorization&quot;);\n    String username = null;\n    String jwtToken = null;\n    // JWT Token is in the form &quot;Bearer token&quot;. Remove Bearer word and get\n    // only the Token\n    if (requestTokenHeader != null &amp;&amp; requestTokenHeader.startsWith(&quot;Bearer &quot;)) {\n        jwtToken = requestTokenHeader.substring(7);\n        try {\n            username = jwtTokenUtil.getUsernameFromToken(jwtToken);\n        } catch (IllegalArgumentException e) {\n            System.out.println(&quot;Unable to get JWT Token&quot;);\n        } catch (ExpiredJwtException e) {\n            System.out.println(&quot;JWT Token has expired&quot;);\n        }\n    } else {\n        logger.warn(&quot;JWT Token does not begin with Bearer String&quot;);\n    }\n    // Once we get the token validate it.\n    if (username != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null) {\n        UserDetails userDetails = this.jwtUserDetailsService.loadUserByUsername(username);\n        // if token is valid configure Spring Security to manually set\n        // authentication\n        if (jwtTokenUtil.validateToken(jwtToken, userDetails)) {\n            UsernamePasswordAuthenticationToken usernamePasswordAuthenticationToken = new UsernamePasswordAuthenticationToken(\n                    userDetails, null, userDetails.getAuthorities());\n            usernamePasswordAuthenticationToken\n                    .setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\n            // After setting the Authentication in the context, we specify\n            // that the current user is authenticated. So it passes the\n            // Spring Security Configurations successfully.\n            SecurityContextHolder.getContext().setAuthentication(usernamePasswordAuthenticationToken);\n        }\n    }\n    chain.doFilter(request, response);\n}\n</code></pre>\n<p>}</p>\n<p>Here my SecurityConfiguration:</p>\n<pre><code>  package jb.microservices.login.util;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.scheduling.annotation.EnableScheduling;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.builders.WebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\nimport org.springframework.security.config.http.SessionCreationPolicy;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.security.web.AuthenticationEntryPoint;\nimport org.springframework.security.web.authentication.AnonymousAuthenticationFilter;\nimport org.springframework.security.web.authentication.HttpStatusEntryPoint;\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\nimport org.springframework.security.web.util.matcher.AntPathRequestMatcher;\nimport org.springframework.security.web.util.matcher.OrRequestMatcher;\nimport org.springframework.security.web.util.matcher.RequestMatcher;\n\n@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter {\n\n    @Autowired\n    private JwtAuthenticationEntryPoint jwtAuthenticationEntryPoint;\n\n    @Autowired\n    private UserDetailsService jwtUserDetailsService;\n\n    @Autowired\n    private JwtRequestFilter jwtRequestFilter;\n\n    @Autowired\n    public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\n        // configure AuthenticationManager so that it knows from where to load\n        // user for matching credentials\n        // Use BCryptPasswordEncoder\n        auth.userDetailsService(jwtUserDetailsService).passwordEncoder(new BCryptPasswordEncoder());\n    }\n\n    @Bean\n    @Override\n    public AuthenticationManager authenticationManagerBean() throws Exception {\n        return super.authenticationManagerBean();\n    }\n\n    @Override\n    public void configure(WebSecurity web) {\n        web.ignoring().antMatchers(&quot;/authenticate&quot;, &quot;/register&quot;);\n    }\n\n    @Override\n    protected void configure(HttpSecurity httpSecurity) throws Exception {\n        // We don't need CSRF for this example\n        httpSecurity.csrf().disable()\n                // dont authenticate this particular request\n                .authorizeRequests().antMatchers(&quot;/authenticate&quot;, &quot;/register&quot;).permitAll().\n                // all other requests need to be authenticated\n                        anyRequest().authenticated().and().\n                // make sure we use stateless session; session won't be used to\n                // store user's state.\n                        exceptionHandling().authenticationEntryPoint(jwtAuthenticationEntryPoint).and().sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n\n        // Add a filter to validate the tokens with every request\n        httpSecurity.addFilterBefore(jwtRequestFilter, UsernamePasswordAuthenticationFilter.class);\n    }\n}\n</code></pre>\n"},{"tags":["java","while-loop","try-catch","infinite-loop"],"comments":[{"owner":{"account_id":10843443,"reputation":109,"user_id":20882864,"display_name":"Marce Puente"},"score":0,"creation_date":1690467328,"post_id":76779665,"comment_id":135360591,"body_markdown":"Hello Anubhav Jan , you can put **sc.nextLine();** inside **catch**, the buffer is empty, and the developer is happy!!.","body":"Hello Anubhav Jan , you can put <b>sc.nextLine();</b> inside <b>catch</b>, the buffer is empty, and the developer is happy!!."},{"owner":{"account_id":28357761,"reputation":17,"user_id":21688238,"display_name":"Anubhav Jain"},"score":0,"creation_date":1690823484,"post_id":76779665,"comment_id":135403571,"body_markdown":"@MarcePuente Please explain this as I am really new to this.","body":"@MarcePuente Please explain this as I am really new to this."},{"owner":{"account_id":10843443,"reputation":109,"user_id":20882864,"display_name":"Marce Puente"},"score":0,"creation_date":1690826966,"post_id":76779665,"comment_id":135404146,"body_markdown":"When there is a failure in the operation, it is necessary to empty the buffer, so that **Scanner** works well.","body":"When there is a failure in the operation, it is necessary to empty the buffer, so that <b>Scanner</b> works well."},{"owner":{"account_id":28357761,"reputation":17,"user_id":21688238,"display_name":"Anubhav Jain"},"score":0,"creation_date":1690829269,"post_id":76779665,"comment_id":135404653,"body_markdown":"@MarcePuente Ok so, sc.next() will clear the buffer when it is encountered in the catch block. Thank you much. Is there any way we could be connected like social media or email so I could bring my doubts directly to you.","body":"@MarcePuente Ok so, sc.next() will clear the buffer when it is encountered in the catch block. Thank you much. Is there any way we could be connected like social media or email so I could bring my doubts directly to you."}],"owner":{"account_id":28357761,"reputation":17,"user_id":21688238,"display_name":"Anubhav Jain"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1690460563,"answer_count":0,"score":0,"last_activity_date":1690460294,"creation_date":1690460294,"question_id":76779665,"body_markdown":"I am trying to make a rock, paper, scissors game, for which I need an input from the user as his choice. Now, I also want to check whether the given input is an integer or not.     \r\n\r\nTo achieve this, I used a try-catch block inside a while loop so that the loop runs until I get the desired input.\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        Scanner sc = new Scanner(System.in);\r\n\r\n        int number;\r\n\r\n        while (true) {\r\n            System.out.print(&quot;Enter a number : &quot;);\r\n            try {\r\n                number = sc.nextInt();\r\n                break;\r\n            } catch (Exception e) {\r\n                System.out.println(&quot;Invalid Input&quot;);\r\n            }\r\n        }\r\n\r\n        System.out.println(number);\r\n    }\r\n}\r\n```\r\n\r\nNow, the issue is that if the input given is wrong then it enters the catch block but after this the infinite loop is running without taking any input:\r\n\r\nOutput where wrong input is given:(https://i.stack.imgur.com/WAgIY.png)\r\n\r\nI tried replacing the while loop with a do-while loop but the situation is unchanged.\r\n\r\nNow, I want to know why am I encountering such a behavior.","title":"Why isn&#39;t the try-catch block working with the while loop?","body":"<p>I am trying to make a rock, paper, scissors game, for which I need an input from the user as his choice. Now, I also want to check whether the given input is an integer or not.</p>\n<p>To achieve this, I used a try-catch block inside a while loop so that the loop runs until I get the desired input.</p>\n<pre><code>import java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n\n        int number;\n\n        while (true) {\n            System.out.print(&quot;Enter a number : &quot;);\n            try {\n                number = sc.nextInt();\n                break;\n            } catch (Exception e) {\n                System.out.println(&quot;Invalid Input&quot;);\n            }\n        }\n\n        System.out.println(number);\n    }\n}\n</code></pre>\n<p>Now, the issue is that if the input given is wrong then it enters the catch block but after this the infinite loop is running without taking any input:</p>\n<p>Output where wrong input is given:(<a href=\"https://i.stack.imgur.com/WAgIY.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/WAgIY.png</a>)</p>\n<p>I tried replacing the while loop with a do-while loop but the situation is unchanged.</p>\n<p>Now, I want to know why am I encountering such a behavior.</p>\n"},{"tags":["java","switch-statement","refactoring","sonarlint","cognitive-complexity"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1683566337,"post_id":76202806,"comment_id":134382901,"body_markdown":"Why are you using `T` if you&#39;re always expecting String? And why use `compare` instead of `equals`?","body":"Why are you using <code>T</code> if you&#39;re always expecting String? And why use <code>compare</code> instead of <code>equals</code>?"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1683566765,"post_id":76202806,"comment_id":134383018,"body_markdown":"Adding more cases doesn&#39;t add **cognitive** complexity, really; it&#39;s just busy work--&quot;I have this string, let&#39;s find it&quot;. The code essentially maps a string to a function taking the lookup and actual value, and whatever &quot;lookup values&quot; are. Quickest approach is to extract that interface and build the map.","body":"Adding more cases doesn&#39;t add <b>cognitive</b> complexity, really; it&#39;s just busy work--&quot;I have this string, let&#39;s find it&quot;. The code essentially maps a string to a function taking the lookup and actual value, and whatever &quot;lookup values&quot; are. Quickest approach is to extract that interface and build the map."},{"owner":{"account_id":1600162,"reputation":1885,"user_id":1481345,"display_name":"Ale Zalazar"},"score":1,"creation_date":1683566770,"post_id":76202806,"comment_id":134383019,"body_markdown":"You could use an `enum` instead (values: EQUALS, NOT_EQUALS, etc), in the enum create an abstract compare(...) method with an implementation for each value, then in your snippet replace switch with `enumInstance = YOURENUM.valueOf(comparisonCondition); return enumInstance.compare(...)`","body":"You could use an <code>enum</code> instead (values: EQUALS, NOT_EQUALS, etc), in the enum create an abstract compare(...) method with an implementation for each value, then in your snippet replace switch with <code>enumInstance = YOURENUM.valueOf(comparisonCondition); return enumInstance.compare(...)</code>"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1683566887,"post_id":76202806,"comment_id":134383049,"body_markdown":"GIves us an example of the future requirements so we can understand them.","body":"GIves us an example of the future requirements so we can understand them."}],"answers":[{"tags":[],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683617689,"creation_date":1683617689,"answer_id":76206882,"question_id":76202806,"body_markdown":"what do you think about defining a map with all these predicates and the keys? Additionally, you can try extracting the common comparisons that keep repeating. Here is a possible solution, but you might need to twitch a few things:\r\n\r\n```java\r\nprivate static final Map&lt;String, TriPredicate&lt;T&gt;&gt; comparators = Map.of(\r\n\t\t&quot;EQUALS&quot;, (lookup, actual, __) -&gt; lookup instanceof String &amp;&amp; actual instanceof String ? compareStrings(lookup, actual) : lookup.compareTo(actual) == 0,\r\n\t\t&quot;NOT_EQUALS&quot;, (lookup, actual, __) -&gt; lookup.compareTo(actual) != 0,\r\n\t\t&quot;LIKE&quot;, (lookup, actual, __) -&gt; containsIgnoreCase(lookup, actual),\r\n\t\t&quot;NOT_LIKE&quot;, (lookup, actual, __) -&gt; !containsIgnoreCase(lookup, actual),\r\n\t\t&quot;IN&quot;, (__, actual, lookup) -&gt; listContains(actual, lookup),\r\n\t\t&quot;NOT_IN&quot;, (__, actual, lookup) -&gt; !listContains(actual, lookup)\r\n);\r\n\r\nprotected static &lt;T extends Comparable&lt;T&gt;&gt; boolean compareValues(T lookupValue, T actualValue, String comparisonCondition, List&lt;T&gt; lookupValues) {\r\n\tif (LOGGER.isDebugEnabled()) {\r\n\t\tLOGGER.debug(&quot;Comparing value &#39;{}&#39; with &#39;{}&#39; using comparison condition &#39;{}&#39;.{}Result: {}&quot;, actualValue, Objects.nonNull(lookupValue) ? lookupValue : lookupValues.stream().map(Object::toString).collect(Collectors.joining(WhlProcessingConstants.SPLIT_COMMA)), comparisonCondition, LINE_SEPARATOR, result);\r\n\t}\r\n\treturn comparators.getOrDefault(comparisonCondition.toUpperCase(), (a, b, c) -&gt; false)\r\n\t\t\t.test(lookupValue, actualValue, lookupValues);\r\n}\r\n\r\nprivate &lt;T extends Comparable&gt; boolean listContains(T actual, List&lt;T&gt; lookup) {\r\n\treturn lookup.stream().anyMatch(val -&gt; val instanceof String ? compareStrings(val, actual) : val.compareTo(actual) == 0);\r\n}\r\n\r\nprivate boolean containsIgnoreCase(Object actual, Object lookup) {\r\n\treturn StringUtils.containsIgnoreCase(String.valueOf(actual), String.valueOf(lookup));\r\n}\r\n\r\nprivate boolean compareStrings(Object lookup, Object actual) {\r\n\treturn (String.valueOf(lookup).trim()).equalsIgnoreCase(String.valueOf(actual).trim());\r\n}\r\n\r\n\r\n@FunctionalInterface\r\ninterface TriPredicate&lt;X&gt; {\r\n    boolean test(X lookup, X actual, List&lt;X&gt; lookupValues);\r\n}\r\n\r\n```","title":"Refactoring a method having multiple switch case statements &amp; generics","body":"<p>what do you think about defining a map with all these predicates and the keys? Additionally, you can try extracting the common comparisons that keep repeating. Here is a possible solution, but you might need to twitch a few things:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static final Map&lt;String, TriPredicate&lt;T&gt;&gt; comparators = Map.of(\n        &quot;EQUALS&quot;, (lookup, actual, __) -&gt; lookup instanceof String &amp;&amp; actual instanceof String ? compareStrings(lookup, actual) : lookup.compareTo(actual) == 0,\n        &quot;NOT_EQUALS&quot;, (lookup, actual, __) -&gt; lookup.compareTo(actual) != 0,\n        &quot;LIKE&quot;, (lookup, actual, __) -&gt; containsIgnoreCase(lookup, actual),\n        &quot;NOT_LIKE&quot;, (lookup, actual, __) -&gt; !containsIgnoreCase(lookup, actual),\n        &quot;IN&quot;, (__, actual, lookup) -&gt; listContains(actual, lookup),\n        &quot;NOT_IN&quot;, (__, actual, lookup) -&gt; !listContains(actual, lookup)\n);\n\nprotected static &lt;T extends Comparable&lt;T&gt;&gt; boolean compareValues(T lookupValue, T actualValue, String comparisonCondition, List&lt;T&gt; lookupValues) {\n    if (LOGGER.isDebugEnabled()) {\n        LOGGER.debug(&quot;Comparing value '{}' with '{}' using comparison condition '{}'.{}Result: {}&quot;, actualValue, Objects.nonNull(lookupValue) ? lookupValue : lookupValues.stream().map(Object::toString).collect(Collectors.joining(WhlProcessingConstants.SPLIT_COMMA)), comparisonCondition, LINE_SEPARATOR, result);\n    }\n    return comparators.getOrDefault(comparisonCondition.toUpperCase(), (a, b, c) -&gt; false)\n            .test(lookupValue, actualValue, lookupValues);\n}\n\nprivate &lt;T extends Comparable&gt; boolean listContains(T actual, List&lt;T&gt; lookup) {\n    return lookup.stream().anyMatch(val -&gt; val instanceof String ? compareStrings(val, actual) : val.compareTo(actual) == 0);\n}\n\nprivate boolean containsIgnoreCase(Object actual, Object lookup) {\n    return StringUtils.containsIgnoreCase(String.valueOf(actual), String.valueOf(lookup));\n}\n\nprivate boolean compareStrings(Object lookup, Object actual) {\n    return (String.valueOf(lookup).trim()).equalsIgnoreCase(String.valueOf(actual).trim());\n}\n\n\n@FunctionalInterface\ninterface TriPredicate&lt;X&gt; {\n    boolean test(X lookup, X actual, List&lt;X&gt; lookupValues);\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13993199,"reputation":129,"user_id":10362945,"display_name":"Sagar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690459437,"creation_date":1690459104,"answer_id":76779507,"question_id":76202806,"body_markdown":"A very similar example from book [Effective Java](https://www.academia.edu/42036400/Effective_Java_by_Joshua_Bloch)\r\nand after adding generics would work\r\n```\r\ninterface Operation {\r\n    public &lt;lookup,actual&gt; boolean validate(lookup lookupValue, actual actualValue);\r\n}\r\n enum BasicOperationn implements Operation{\r\n    EQUALS{\r\n        @Override\r\n        public &lt;lookup, actual&gt; boolean validate(lookup lookupValue, actual actualValue) {\r\n          return lookupValue instanceof String &amp;&amp; actualValue instanceof String ? (String.valueOf(lookupValue).trim()).equalsIgnoreCase(String.valueOf(actualValue).trim()) :((String) lookupValue).compareTo(((String) actualValue)) == 0;        }\r\n    },\r\n     LIKE {\r\n         @Override\r\n         public &lt;lookup, actual&gt; boolean validate(lookup lookupValue, actual actualValue) {\r\n           return   StringUtils.containsIgnoreCase(String.valueOf(actualValue), String.valueOf(lookupValue));\r\n         }\r\n     };\r\n     ...\r\n\r\n}\r\n```\r\n\r\nEdited: Adding client code\r\n```\r\nclass ClientClass{\r\n    protected static &lt; T extends Comparable &lt; T &gt;&gt; boolean compareValues(T lookupValue, T actualValue, String comparisonCondition, List&lt; T &gt; lookupValues) {\r\n        comparisonCondition = comparisonCondition.toUpperCase();\r\n        BasicOperationn operation = BasicOperationn.valueOf(comparisonCondition);\r\n        boolean result = operation.validate(lookupValue, actualValue);\r\n        return result;\r\n    }\r\n}\r\n```","title":"Refactoring a method having multiple switch case statements &amp; generics","body":"<p>A very similar example from book <a href=\"https://www.academia.edu/42036400/Effective_Java_by_Joshua_Bloch\" rel=\"nofollow noreferrer\">Effective Java</a>\nand after adding generics would work</p>\n<pre><code>interface Operation {\n    public &lt;lookup,actual&gt; boolean validate(lookup lookupValue, actual actualValue);\n}\n enum BasicOperationn implements Operation{\n    EQUALS{\n        @Override\n        public &lt;lookup, actual&gt; boolean validate(lookup lookupValue, actual actualValue) {\n          return lookupValue instanceof String &amp;&amp; actualValue instanceof String ? (String.valueOf(lookupValue).trim()).equalsIgnoreCase(String.valueOf(actualValue).trim()) :((String) lookupValue).compareTo(((String) actualValue)) == 0;        }\n    },\n     LIKE {\n         @Override\n         public &lt;lookup, actual&gt; boolean validate(lookup lookupValue, actual actualValue) {\n           return   StringUtils.containsIgnoreCase(String.valueOf(actualValue), String.valueOf(lookupValue));\n         }\n     };\n     ...\n\n}\n</code></pre>\n<p>Edited: Adding client code</p>\n<pre><code>class ClientClass{\n    protected static &lt; T extends Comparable &lt; T &gt;&gt; boolean compareValues(T lookupValue, T actualValue, String comparisonCondition, List&lt; T &gt; lookupValues) {\n        comparisonCondition = comparisonCondition.toUpperCase();\n        BasicOperationn operation = BasicOperationn.valueOf(comparisonCondition);\n        boolean result = operation.validate(lookupValue, actualValue);\n        return result;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":19812774,"reputation":83,"user_id":14511185,"display_name":"Hitesh Kirtane"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1690459437,"creation_date":1683565922,"question_id":76202806,"body_markdown":"I have an existing project based on Java in which an existing utility method is present which gets some values as an input and provides result as a boolean value.\r\n\r\nI need to refactor this method since there is an upcoming requirement which will cause a greater number of switch cases to be introduced in this method.\r\n\r\nI tried other possible solutions shown on other Stack Overflow questions, but those solutions were not applicable for the use case I have here.\r\n\r\nThe code snippet is mentioned below.\r\n\r\n    protected static &lt; T extends Comparable &lt; T &gt;&gt; boolean compareValues(T lookupValue, T actualValue, String comparisonCondition, List &lt; T &gt; lookupValues) {\r\n        comparisonCondition = comparisonCondition.toUpperCase();\r\n        boolean result;\r\n        switch (comparisonCondition) {\r\n            case EQUALS:\r\n                result = lookupValue instanceof String &amp;&amp; actualValue instanceof String ? (String.valueOf(lookupValue).trim()).equalsIgnoreCase(String.valueOf(actualValue).trim()) : lookupValue.compareTo(actualValue) == 0;\r\n                break;\r\n            case NOT_EQUALS:\r\n                result = lookupValue.compareTo(actualValue) != 0;\r\n                break;\r\n            case LIKE:\r\n                result = StringUtils.containsIgnoreCase(String.valueOf(actualValue), String.valueOf(lookupValue));\r\n                break;\r\n            case NOT_LIKE:\r\n                result = !StringUtils.containsIgnoreCase(String.valueOf(actualValue), String.valueOf(lookupValue));\r\n                break;\r\n            case IN:\r\n                result = lookupValues.stream().anyMatch(lkpValue - &gt; lkpValue instanceof String ? ((String) lkpValue).trim().compareToIgnoreCase(String.valueOf(actualValue).trim()) == 0 : lkpValue.compareTo(actualValue) == 0);\r\n                break;\r\n            case NOT_IN:\r\n                result = lookupValues.stream().noneMatch(lkpValue - &gt; lkpValue instanceof String ? ((String) lkpValue).trim().compareToIgnoreCase(String.valueOf(actualValue).trim()) == 0 : lkpValue.compareTo(actualValue) == 0);\r\n                break;\r\n            default:\r\n                if (LOGGER.isDebugEnabled()) {\r\n                    LOGGER.debug(MSG_FORMAT_INVALID_COMPARISON_CONDITION, comparisonCondition);\r\n                }\r\n                result = false;\r\n        }\r\n        if (LOGGER.isDebugEnabled()) {\r\n            LOGGER.debug(&quot;Comparing value &#39;{}&#39; with &#39;{}&#39; using comparison condition &#39;{}&#39;.{}Result: {}&quot;, actualValue, Objects.nonNull(lookupValue) ? lookupValue : lookupValues.stream().map(Object::toString).collect(Collectors.joining(WhlProcessingConstants.SPLIT_COMMA)), comparisonCondition, LINE_SEPARATOR, result);\r\n        }\r\n        return result;\r\n    }\r\n\r\nCan you please suggest some solution by which this code of the method can be refactored, so that it is scalable for any future requirements and also, the cognitive complexity will not increase as we include more comparisonConditions / cases in it?\r\n\r\nFor your information: I am using SonarLint plugin to analyze the cognitive complexity of the code.","title":"Refactoring a method having multiple switch case statements &amp; generics","body":"<p>I have an existing project based on Java in which an existing utility method is present which gets some values as an input and provides result as a boolean value.</p>\n<p>I need to refactor this method since there is an upcoming requirement which will cause a greater number of switch cases to be introduced in this method.</p>\n<p>I tried other possible solutions shown on other Stack Overflow questions, but those solutions were not applicable for the use case I have here.</p>\n<p>The code snippet is mentioned below.</p>\n<pre><code>protected static &lt; T extends Comparable &lt; T &gt;&gt; boolean compareValues(T lookupValue, T actualValue, String comparisonCondition, List &lt; T &gt; lookupValues) {\n    comparisonCondition = comparisonCondition.toUpperCase();\n    boolean result;\n    switch (comparisonCondition) {\n        case EQUALS:\n            result = lookupValue instanceof String &amp;&amp; actualValue instanceof String ? (String.valueOf(lookupValue).trim()).equalsIgnoreCase(String.valueOf(actualValue).trim()) : lookupValue.compareTo(actualValue) == 0;\n            break;\n        case NOT_EQUALS:\n            result = lookupValue.compareTo(actualValue) != 0;\n            break;\n        case LIKE:\n            result = StringUtils.containsIgnoreCase(String.valueOf(actualValue), String.valueOf(lookupValue));\n            break;\n        case NOT_LIKE:\n            result = !StringUtils.containsIgnoreCase(String.valueOf(actualValue), String.valueOf(lookupValue));\n            break;\n        case IN:\n            result = lookupValues.stream().anyMatch(lkpValue - &gt; lkpValue instanceof String ? ((String) lkpValue).trim().compareToIgnoreCase(String.valueOf(actualValue).trim()) == 0 : lkpValue.compareTo(actualValue) == 0);\n            break;\n        case NOT_IN:\n            result = lookupValues.stream().noneMatch(lkpValue - &gt; lkpValue instanceof String ? ((String) lkpValue).trim().compareToIgnoreCase(String.valueOf(actualValue).trim()) == 0 : lkpValue.compareTo(actualValue) == 0);\n            break;\n        default:\n            if (LOGGER.isDebugEnabled()) {\n                LOGGER.debug(MSG_FORMAT_INVALID_COMPARISON_CONDITION, comparisonCondition);\n            }\n            result = false;\n    }\n    if (LOGGER.isDebugEnabled()) {\n        LOGGER.debug(&quot;Comparing value '{}' with '{}' using comparison condition '{}'.{}Result: {}&quot;, actualValue, Objects.nonNull(lookupValue) ? lookupValue : lookupValues.stream().map(Object::toString).collect(Collectors.joining(WhlProcessingConstants.SPLIT_COMMA)), comparisonCondition, LINE_SEPARATOR, result);\n    }\n    return result;\n}\n</code></pre>\n<p>Can you please suggest some solution by which this code of the method can be refactored, so that it is scalable for any future requirements and also, the cognitive complexity will not increase as we include more comparisonConditions / cases in it?</p>\n<p>For your information: I am using SonarLint plugin to analyze the cognitive complexity of the code.</p>\n"},{"tags":["java","jvm","jdi"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1692709198,"post_id":76779397,"comment_id":135658740,"body_markdown":"Assuming that `Modifier` refers to `java.lang.reflect.Modifier` you shouldn’t use `Modifier.toString(field.modifiers())` but `Modifier.toString(field.modifiers() &amp; Modifier.fieldModifiers())` But this doesn’t answer why this bit is set…","body":"Assuming that <code>Modifier</code> refers to <code>java.lang.reflect.Modifier</code> you shouldn’t use <code>Modifier.toString(field.modifiers())</code> but <code>Modifier.toString(field.modifiers() &amp; Modifier.fieldModifiers())</code> But this doesn’t answer why this bit is set…"}],"owner":{"account_id":29102687,"reputation":11,"user_id":22294186,"display_name":"DrChristoph"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1690458288,"creation_date":1690458288,"question_id":76779397,"body_markdown":"I am currently working with the JDI first time and examining the field modifiers of the local variables in a stack frame gave me interesting results. (Using JDK 17.0.6)\r\n\r\nHere is the simplified code I use to acquire said modifier bits:\r\n\r\n\r\n```\r\nStackFrame stackFrame = thread.frame(0);\r\nMap&lt;LocalVariable, Value&gt; visibleVariables = stackFrame.getValues(stackFrame.visibleVariables());\r\n\r\nfor (Map.Entry&lt;LocalVariable, Value&gt; entry : visibleVariables.entrySet()) {\r\n  ReferenceType type = ((ObjectReference) entry.getValue()).referenceType();\r\n  for (Field field : type.fields()) {\r\n    System.out.println(Modifier.toString(field.modifiers()) + &quot;(&quot; + field.modifiers() + &quot;) &quot;);\r\n  }\r\n}\r\n```\r\n\r\nInterestingly this results in following ouput:\r\n\r\n\r\n```\r\nFields:\r\n  private strictfp(2050) thesis.debuggee.HashMap$HashMapEntry[] map\r\n  private(2) int size\r\n  private(2) float maxLoadFactor\r\n```\r\n\r\nThe class I am examining here is my own HashMap implementation I did as an assignment. For some reason as one can see the 12th bit is set for the private member &quot;map&quot; of type HashMapEntry[].\r\n\r\n\r\nIf one wants to observe this themselves just use a standard String object and look at its CASE_INSENSITIVE_ORDER public static final field as this also has the 12th bit set...\r\n\r\n\r\nI looked into the JVM Specification and for field access and property flags the 12th bit is not used and defined as reserved for future use. The 12th bit is only used in method access and property flags for the &quot;strictfp&quot; flag (ACC_STRICT) which was removed in Java 17.\r\n\r\nI tried to find out where this flag then comes from looking through the openjdk repo and other resources online but I couldn&#39;t find the reason on why for some fields the 12th bit is set. I would really appreciate if someone could at least point me into the right direction as I am very curious where this comes from and what purpose it serves. \r\n\r\nI also looked at the byte code of my class, there the modifier flag is still 0x0002 as it should be (denoting private)\r\n\r\n\r\n```\r\nprivate thesis.debuggee.HashMap$HashMapEntry&lt;K, V&gt;[] map;\r\n    descriptor: [Lthesis/debuggee/HashMap$HashMapEntry;\r\n    flags: (0x0002) ACC_PRIVATE\r\n    Signature: #102                         // [Lthesis/debuggee/HashMap$HashMapEntry&lt;TK;TV;&gt;;\r\n\r\n  private int size;\r\n    descriptor: I\r\n    flags: (0x0002) ACC_PRIVATE\r\n\r\n  private float maxLoadFactor;\r\n    descriptor: F\r\n    flags: (0x0002) ACC_PRIVATE\r\n```","title":"JDI reporting 12th bit set on field modifiers?","body":"<p>I am currently working with the JDI first time and examining the field modifiers of the local variables in a stack frame gave me interesting results. (Using JDK 17.0.6)</p>\n<p>Here is the simplified code I use to acquire said modifier bits:</p>\n<pre><code>StackFrame stackFrame = thread.frame(0);\nMap&lt;LocalVariable, Value&gt; visibleVariables = stackFrame.getValues(stackFrame.visibleVariables());\n\nfor (Map.Entry&lt;LocalVariable, Value&gt; entry : visibleVariables.entrySet()) {\n  ReferenceType type = ((ObjectReference) entry.getValue()).referenceType();\n  for (Field field : type.fields()) {\n    System.out.println(Modifier.toString(field.modifiers()) + &quot;(&quot; + field.modifiers() + &quot;) &quot;);\n  }\n}\n</code></pre>\n<p>Interestingly this results in following ouput:</p>\n<pre><code>Fields:\n  private strictfp(2050) thesis.debuggee.HashMap$HashMapEntry[] map\n  private(2) int size\n  private(2) float maxLoadFactor\n</code></pre>\n<p>The class I am examining here is my own HashMap implementation I did as an assignment. For some reason as one can see the 12th bit is set for the private member &quot;map&quot; of type HashMapEntry[].</p>\n<p>If one wants to observe this themselves just use a standard String object and look at its CASE_INSENSITIVE_ORDER public static final field as this also has the 12th bit set...</p>\n<p>I looked into the JVM Specification and for field access and property flags the 12th bit is not used and defined as reserved for future use. The 12th bit is only used in method access and property flags for the &quot;strictfp&quot; flag (ACC_STRICT) which was removed in Java 17.</p>\n<p>I tried to find out where this flag then comes from looking through the openjdk repo and other resources online but I couldn't find the reason on why for some fields the 12th bit is set. I would really appreciate if someone could at least point me into the right direction as I am very curious where this comes from and what purpose it serves.</p>\n<p>I also looked at the byte code of my class, there the modifier flag is still 0x0002 as it should be (denoting private)</p>\n<pre><code>private thesis.debuggee.HashMap$HashMapEntry&lt;K, V&gt;[] map;\n    descriptor: [Lthesis/debuggee/HashMap$HashMapEntry;\n    flags: (0x0002) ACC_PRIVATE\n    Signature: #102                         // [Lthesis/debuggee/HashMap$HashMapEntry&lt;TK;TV;&gt;;\n\n  private int size;\n    descriptor: I\n    flags: (0x0002) ACC_PRIVATE\n\n  private float maxLoadFactor;\n    descriptor: F\n    flags: (0x0002) ACC_PRIVATE\n</code></pre>\n"},{"tags":["java","excel","ms-word","compiler-errors","compilation"],"comments":[{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1690458003,"post_id":76779337,"comment_id":135358249,"body_markdown":"You are trying to declare a method in another method. That can&#39;t work. Just look at the lines the error points to and it should be obvious.","body":"You are trying to declare a method in another method. That can&#39;t work. Just look at the lines the error points to and it should be obvious."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1690458349,"post_id":76779337,"comment_id":135358321,"body_markdown":"Note that this question really has nothing to do with Excel or Word. When you encounter a problem, if you can&#39;t solve it after looking really carefully at where the error is, it&#39;s always worth trying to reproduce it in a smaller form. For example, it&#39;s easy to reproduce this error in about 6 lines: https://gist.github.com/jskeet/da3cc71d734ae0358754acde48a33345","body":"Note that this question really has nothing to do with Excel or Word. When you encounter a problem, if you can&#39;t solve it after looking really carefully at where the error is, it&#39;s always worth trying to reproduce it in a smaller form. For example, it&#39;s easy to reproduce this error in about 6 lines: <a href=\"https://gist.github.com/jskeet/da3cc71d734ae0358754acde48a33345\" rel=\"nofollow noreferrer\">gist.github.com/jskeet/da3cc71d734ae0358754acde48a33345</a>"}],"owner":{"account_id":27686991,"reputation":11,"user_id":21134567,"display_name":"kheder47"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1690457772,"creation_date":1690457772,"question_id":76779337,"body_markdown":"I&#39;m trying to run a small Java application that performs a mail-merge functionality on Microsoft Word documents using data from CSV/Microsoft Excel files. The goal is to replace markers in the Word document with data from each row in the CSV/XLSX file and create separate DOCX files for each row.\r\n\r\n However, when I try to compile the Java file, I encounter the following error:\r\n```\r\nMailMerge.java:81: error: illegal start of expression\r\n    private void applyLines(Data dataIn, XWPFDocument doc) throws XmlException, IOException {\r\n    ^\r\nMailMerge.java:82: error: illegal start of expressionn\r\n    private void applyLines(List&lt;String&gt; headers, List&lt;String&gt; data, XWPFDocument doc) throws XmlException, IOException {\r\n    ^\r\nMailMerge.java:172: error: illegal start of expression\r\n    private static void appendBody(CTBody src, String append, boolean first) throws XmlException {\r\n    ^\r\n3 error\r\n```\r\n\r\n\r\n\r\nThis is the Java code I&#39;m trying to compile:\r\n```\r\npackage org.dstadler.poi.mailmerge;\r\nimport java.io.File;\r\nimport java.io.FileInputStream;\r\nimport java.io.FileOutputStream;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.io.OutputStream;\r\nimport java.util.List;\r\nimport java.util.logging.Logger;\r\n\r\nimport com.google.common.base.Preconditions;\r\nimport org.apache.commons.io.FilenameUtils;\r\nimport org.apache.commons.lang3.StringUtils;\r\nimport org.apache.poi.xwpf.usermodel.XWPFDocument;\r\nimport org.apache.xmlbeans.XmlException;\r\nimport org.apache.xmlbeans.XmlOptions;\r\nimport org.dstadler.commons.logging.jdk.LoggerFactory;\r\nimport org.openxmlformats.schemas.wordprocessingml.x2006.main.CTBody;\r\n/**\r\n * Simple application which performs a &quot;mail-merge&quot; of a Microsoft Word template\r\n * document which contains replacement templates in the form of ${name}, ${first-name}, ...\r\n * and an Microsoft Excel spreadsheet which contains a list of entries that are merged in.\r\n *\r\n * Call this application with parameters &lt;word-template&gt; &lt;excel/csv-template&gt; &lt;output-file&gt;\r\n *\r\n * The resulting document has all resulting documents concatenated.\r\n */\r\npublic class MailMerge {\r\n    private static final Logger log = LoggerFactory.make();\r\n    public static void main(String[] args) throws Exception {\r\n        LoggerFactory.initLogging();\r\n        if(args.length != 3) {\r\n            throw new IllegalArgumentException(&quot;Usage: MailMerge &lt;word-template&gt; &lt;excel/csv-template&gt; &lt;output-file&gt;&quot;);\r\n        }\r\n        File wordTemplate = new File(args[0]);\r\n        File excelFile = new File(args[1]);\r\n        String outputFile = args[2];\r\n        if(!wordTemplate.exists() || !wordTemplate.isFile()) {\r\n            throw new IllegalArgumentException(&quot;Could not read Microsoft Word template &quot; + wordTemplate);\r\n        }\r\n        if(!excelFile.exists() || !excelFile.isFile()) {\r\n            throw new IllegalArgumentException(&quot;Could not read data file &quot; + excelFile);\r\n        }\r\n        new MailMerge().merge(wordTemplate, excelFile, outputFile);\r\n    }\r\n    private void merge(File wordTemplate, File dataFile, String outputFile) throws Exception {\r\n        log.info(&quot;Merging data from &quot; + wordTemplate + &quot; and &quot; + dataFile + &quot; into &quot; + outputFile);\r\n        // read the data-rows from the CSV or XLS(X) file\r\n        Data data = new Data();\r\n        data.read(dataFile);\r\n\r\n        // now open the word file and apply the changes\r\n        try (InputStream is = new FileInputStream(wordTemplate)) {\r\n            try (XWPFDocument doc = new XWPFDocument(is)) {\r\n                // apply the lines and concatenate the results into the document\r\n                applyLines(data, doc);\r\n        List&lt;String&gt; headers = data.getHeaders();\r\n        for (List&lt;String&gt; dataRow : data.getData()) {\r\n            // now open the word file and apply the changes\r\n            try (InputStream is = new FileInputStream(wordTemplate)) {\r\n                try (XWPFDocument doc = new XWPFDocument(is)) {\r\n\r\n                log.info(&quot;Writing overall result to &quot; + outputFile);\r\n                try (OutputStream out = new FileOutputStream(outputFile)) {\r\n                    doc.write(out);\r\n                    applyLines(headers, dataRow, doc);\r\n\r\n                    String newOutputFileName =\r\n                            FilenameUtils.removeExtension(outputFile) + &quot;_&quot; + dataRow.get(0) + &quot;.docx&quot;;\r\n\r\n                    log.info(&quot;Writing overall result to &quot; + newOutputFileName);\r\n                    try (OutputStream out = new FileOutputStream(newOutputFileName)) {\r\n\r\n                        doc.write(out);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private void applyLines(Data dataIn, XWPFDocument doc) throws XmlException, IOException {\r\n    private void applyLines(List&lt;String&gt; headers, List&lt;String&gt; data, XWPFDocument doc) throws XmlException, IOException {\r\n\r\n        // small hack to not having to rework the commandline parsing just now\r\n        String includeIndicator = System.getProperty(&quot;org.dstadler.poi.mailmerge.includeindicator&quot;);\r\n\r\n        CTBody body = doc.getDocument().getBody();\r\n        // read the current full Body text\r\n        String srcString = body.xmlText();\r\n\r\n        // apply the replacements line-by-line\r\n        boolean first = true;\r\n        List&lt;String&gt; headers = dataIn.getHeaders();\r\n        for(List&lt;String&gt; data : dataIn.getData()) {\r\n            log.info(&quot;Applying to template: &quot; + data);\r\n\r\n            // if the option is set ignore lines which do not have the indicator set\r\n            if(includeIndicator != null) {\r\n                int indicatorPos = headers.indexOf(includeIndicator);\r\n                Preconditions.checkState(indicatorPos &gt;= 0,\r\n                        &quot;An include-indicator is set via system properties as %s, but there is no such column, had: %s&quot;,\r\n                        includeIndicator, headers);\r\n\r\n                if(!StringUtils.equalsAnyIgnoreCase(data.get(indicatorPos), &quot;1&quot;, &quot;true&quot;)) {\r\n                    log.info(&quot;Skipping line &quot; + data + &quot; because include-indicator was not set&quot;);\r\n                    continue;\r\n                }\r\n            }\r\n        log.info(&quot;Applying to template: &quot; + data);\r\n\r\n            String replaced = srcString;\r\n            for(int fieldNr = 0;fieldNr &lt; headers.size();fieldNr++) {\r\n                String header = headers.get(fieldNr);\r\n                String value = data.get(fieldNr);\r\n        // if the option is set ignore lines which do not have the indicator set\r\n        if(includeIndicator != null) {\r\n            int indicatorPos = headers.indexOf(includeIndicator);\r\n            Preconditions.checkState(indicatorPos &gt;= 0,\r\n                    &quot;An include-indicator is set via system properties as %s, but there is no such column, had: %s&quot;,\r\n                    includeIndicator, headers);\r\n\r\n                // ignore columns without headers as we cannot match them\r\n                if(header == null) {\r\n                    continue;\r\n                }\r\n            if(!StringUtils.equalsAnyIgnoreCase(data.get(indicatorPos), &quot;1&quot;, &quot;true&quot;)) {\r\n                log.info(&quot;Skipping line &quot; + data + &quot; because include-indicator was not set&quot;);\r\n            }\r\n        }\r\n\r\n                // use empty string for data-cells that have no value\r\n                if(value == null) {\r\n                    value = &quot;&quot;;\r\n                }\r\n        String replaced = srcString;\r\n        for(int fieldNr = 0;fieldNr &lt; headers.size();fieldNr++) {\r\n            String header = headers.get(fieldNr);\r\n            String value = data.get(fieldNr);\r\n\r\n                replaced = replaced.replace(&quot;${&quot; + header + &quot;}&quot;, value);\r\n            // ignore columns without headers as we cannot match them\r\n            if(header == null) {\r\n                continue;\r\n            }\r\n\r\n            // check for missed replacements or formatting which interferes\r\n            if(replaced.contains(&quot;${&quot;)) {\r\n                log.warning(&quot;Still found template-marker after doing replacement: &quot; +\r\n                        StringUtils.abbreviate(StringUtils.substring(replaced, replaced.indexOf(&quot;${&quot;)), 200));\r\n            // use empty string for data-cells that have no value\r\n            if(value == null) {\r\n                value = &quot;&quot;;\r\n            }\r\n\r\n            appendBody(body, replaced, first);\r\n            replaced = replaced.replace(&quot;${&quot; + header + &quot;}&quot;, value.toUpperCase());\r\n        }\r\n\r\n            first = false;\r\n        // check for missed replacements or formatting which interferes\r\n        if(replaced.contains(&quot;${&quot;)) {\r\n            log.warning(&quot;Still found template-marker after doing replacement: &quot; +\r\n                    StringUtils.abbreviate(StringUtils.substring(replaced, replaced.indexOf(&quot;${&quot;)), 200));\r\n        }\r\n\r\n        appendBody(body, replaced, first);\r\n\r\n        first = false;\r\n\r\n    }\r\n\r\n    private static void appendBody(CTBody src, String append, boolean first) throws XmlException {\r\n        XmlOptions optionsOuter = new XmlOptions();\r\n        optionsOuter.setSaveOuter();\r\n        String srcString = src.xmlText();\r\n        String prefix = srcString.substring(0,srcString.indexOf(&quot;&gt;&quot;)+1);\r\n        final String mainPart;\r\n        // exclude template itself in first appending\r\n        if(first) {\r\n            mainPart = &quot;&quot;;\r\n        } else {\r\n            mainPart = srcString.substring(srcString.indexOf(&quot;&gt;&quot;)+1,srcString.lastIndexOf(&quot;&lt;&quot;));\r\n        }\r\n        String suffix = srcString.substring( srcString.lastIndexOf(&quot;&lt;&quot;) );\r\n        String addPart = append.substring(append.indexOf(&quot;&gt;&quot;) + 1, append.lastIndexOf(&quot;&lt;&quot;));\r\n        CTBody makeBody = CTBody.Factory.parse(prefix+mainPart+addPart+suffix);\r\n        src.set(makeBody);\r\n    }\r\n}\r\n```\r\n\r\nI&#39;m not sure what is causing this error, and I would appreciate some help in understanding and resolving it.\r\n\r\nThe Java code I&#39;m trying to compile is the MailMerge.java file, and it includes the following functionalities:\r\n\r\n - Reading data from a CSV or XLSX file.\r\n - Opening a Word template file and applying the data from the CSV/XLSX\r\n   file to replace markers in the template.\r\n - Creating a new DOCX file with the merged data for each row in the\r\n   CSV/XLSX file.\r\n\r\nCould someone please review the code and help me identify the cause of the &quot;Illegal start of expression&quot; error? Any insights or suggestions on how to fix it would be greatly appreciated. Thank you!","title":"Java Mail Merge Application Compilation Error: &quot;Illegal start of expression&quot;","body":"<p>I'm trying to run a small Java application that performs a mail-merge functionality on Microsoft Word documents using data from CSV/Microsoft Excel files. The goal is to replace markers in the Word document with data from each row in the CSV/XLSX file and create separate DOCX files for each row.</p>\n<p>However, when I try to compile the Java file, I encounter the following error:</p>\n<pre><code>MailMerge.java:81: error: illegal start of expression\n    private void applyLines(Data dataIn, XWPFDocument doc) throws XmlException, IOException {\n    ^\nMailMerge.java:82: error: illegal start of expressionn\n    private void applyLines(List&lt;String&gt; headers, List&lt;String&gt; data, XWPFDocument doc) throws XmlException, IOException {\n    ^\nMailMerge.java:172: error: illegal start of expression\n    private static void appendBody(CTBody src, String append, boolean first) throws XmlException {\n    ^\n3 error\n</code></pre>\n<p>This is the Java code I'm trying to compile:</p>\n<pre><code>package org.dstadler.poi.mailmerge;\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.OutputStream;\nimport java.util.List;\nimport java.util.logging.Logger;\n\nimport com.google.common.base.Preconditions;\nimport org.apache.commons.io.FilenameUtils;\nimport org.apache.commons.lang3.StringUtils;\nimport org.apache.poi.xwpf.usermodel.XWPFDocument;\nimport org.apache.xmlbeans.XmlException;\nimport org.apache.xmlbeans.XmlOptions;\nimport org.dstadler.commons.logging.jdk.LoggerFactory;\nimport org.openxmlformats.schemas.wordprocessingml.x2006.main.CTBody;\n/**\n * Simple application which performs a &quot;mail-merge&quot; of a Microsoft Word template\n * document which contains replacement templates in the form of ${name}, ${first-name}, ...\n * and an Microsoft Excel spreadsheet which contains a list of entries that are merged in.\n *\n * Call this application with parameters &lt;word-template&gt; &lt;excel/csv-template&gt; &lt;output-file&gt;\n *\n * The resulting document has all resulting documents concatenated.\n */\npublic class MailMerge {\n    private static final Logger log = LoggerFactory.make();\n    public static void main(String[] args) throws Exception {\n        LoggerFactory.initLogging();\n        if(args.length != 3) {\n            throw new IllegalArgumentException(&quot;Usage: MailMerge &lt;word-template&gt; &lt;excel/csv-template&gt; &lt;output-file&gt;&quot;);\n        }\n        File wordTemplate = new File(args[0]);\n        File excelFile = new File(args[1]);\n        String outputFile = args[2];\n        if(!wordTemplate.exists() || !wordTemplate.isFile()) {\n            throw new IllegalArgumentException(&quot;Could not read Microsoft Word template &quot; + wordTemplate);\n        }\n        if(!excelFile.exists() || !excelFile.isFile()) {\n            throw new IllegalArgumentException(&quot;Could not read data file &quot; + excelFile);\n        }\n        new MailMerge().merge(wordTemplate, excelFile, outputFile);\n    }\n    private void merge(File wordTemplate, File dataFile, String outputFile) throws Exception {\n        log.info(&quot;Merging data from &quot; + wordTemplate + &quot; and &quot; + dataFile + &quot; into &quot; + outputFile);\n        // read the data-rows from the CSV or XLS(X) file\n        Data data = new Data();\n        data.read(dataFile);\n\n        // now open the word file and apply the changes\n        try (InputStream is = new FileInputStream(wordTemplate)) {\n            try (XWPFDocument doc = new XWPFDocument(is)) {\n                // apply the lines and concatenate the results into the document\n                applyLines(data, doc);\n        List&lt;String&gt; headers = data.getHeaders();\n        for (List&lt;String&gt; dataRow : data.getData()) {\n            // now open the word file and apply the changes\n            try (InputStream is = new FileInputStream(wordTemplate)) {\n                try (XWPFDocument doc = new XWPFDocument(is)) {\n\n                log.info(&quot;Writing overall result to &quot; + outputFile);\n                try (OutputStream out = new FileOutputStream(outputFile)) {\n                    doc.write(out);\n                    applyLines(headers, dataRow, doc);\n\n                    String newOutputFileName =\n                            FilenameUtils.removeExtension(outputFile) + &quot;_&quot; + dataRow.get(0) + &quot;.docx&quot;;\n\n                    log.info(&quot;Writing overall result to &quot; + newOutputFileName);\n                    try (OutputStream out = new FileOutputStream(newOutputFileName)) {\n\n                        doc.write(out);\n                    }\n                }\n            }\n        }\n    }\n\n    private void applyLines(Data dataIn, XWPFDocument doc) throws XmlException, IOException {\n    private void applyLines(List&lt;String&gt; headers, List&lt;String&gt; data, XWPFDocument doc) throws XmlException, IOException {\n\n        // small hack to not having to rework the commandline parsing just now\n        String includeIndicator = System.getProperty(&quot;org.dstadler.poi.mailmerge.includeindicator&quot;);\n\n        CTBody body = doc.getDocument().getBody();\n        // read the current full Body text\n        String srcString = body.xmlText();\n\n        // apply the replacements line-by-line\n        boolean first = true;\n        List&lt;String&gt; headers = dataIn.getHeaders();\n        for(List&lt;String&gt; data : dataIn.getData()) {\n            log.info(&quot;Applying to template: &quot; + data);\n\n            // if the option is set ignore lines which do not have the indicator set\n            if(includeIndicator != null) {\n                int indicatorPos = headers.indexOf(includeIndicator);\n                Preconditions.checkState(indicatorPos &gt;= 0,\n                        &quot;An include-indicator is set via system properties as %s, but there is no such column, had: %s&quot;,\n                        includeIndicator, headers);\n\n                if(!StringUtils.equalsAnyIgnoreCase(data.get(indicatorPos), &quot;1&quot;, &quot;true&quot;)) {\n                    log.info(&quot;Skipping line &quot; + data + &quot; because include-indicator was not set&quot;);\n                    continue;\n                }\n            }\n        log.info(&quot;Applying to template: &quot; + data);\n\n            String replaced = srcString;\n            for(int fieldNr = 0;fieldNr &lt; headers.size();fieldNr++) {\n                String header = headers.get(fieldNr);\n                String value = data.get(fieldNr);\n        // if the option is set ignore lines which do not have the indicator set\n        if(includeIndicator != null) {\n            int indicatorPos = headers.indexOf(includeIndicator);\n            Preconditions.checkState(indicatorPos &gt;= 0,\n                    &quot;An include-indicator is set via system properties as %s, but there is no such column, had: %s&quot;,\n                    includeIndicator, headers);\n\n                // ignore columns without headers as we cannot match them\n                if(header == null) {\n                    continue;\n                }\n            if(!StringUtils.equalsAnyIgnoreCase(data.get(indicatorPos), &quot;1&quot;, &quot;true&quot;)) {\n                log.info(&quot;Skipping line &quot; + data + &quot; because include-indicator was not set&quot;);\n            }\n        }\n\n                // use empty string for data-cells that have no value\n                if(value == null) {\n                    value = &quot;&quot;;\n                }\n        String replaced = srcString;\n        for(int fieldNr = 0;fieldNr &lt; headers.size();fieldNr++) {\n            String header = headers.get(fieldNr);\n            String value = data.get(fieldNr);\n\n                replaced = replaced.replace(&quot;${&quot; + header + &quot;}&quot;, value);\n            // ignore columns without headers as we cannot match them\n            if(header == null) {\n                continue;\n            }\n\n            // check for missed replacements or formatting which interferes\n            if(replaced.contains(&quot;${&quot;)) {\n                log.warning(&quot;Still found template-marker after doing replacement: &quot; +\n                        StringUtils.abbreviate(StringUtils.substring(replaced, replaced.indexOf(&quot;${&quot;)), 200));\n            // use empty string for data-cells that have no value\n            if(value == null) {\n                value = &quot;&quot;;\n            }\n\n            appendBody(body, replaced, first);\n            replaced = replaced.replace(&quot;${&quot; + header + &quot;}&quot;, value.toUpperCase());\n        }\n\n            first = false;\n        // check for missed replacements or formatting which interferes\n        if(replaced.contains(&quot;${&quot;)) {\n            log.warning(&quot;Still found template-marker after doing replacement: &quot; +\n                    StringUtils.abbreviate(StringUtils.substring(replaced, replaced.indexOf(&quot;${&quot;)), 200));\n        }\n\n        appendBody(body, replaced, first);\n\n        first = false;\n\n    }\n\n    private static void appendBody(CTBody src, String append, boolean first) throws XmlException {\n        XmlOptions optionsOuter = new XmlOptions();\n        optionsOuter.setSaveOuter();\n        String srcString = src.xmlText();\n        String prefix = srcString.substring(0,srcString.indexOf(&quot;&gt;&quot;)+1);\n        final String mainPart;\n        // exclude template itself in first appending\n        if(first) {\n            mainPart = &quot;&quot;;\n        } else {\n            mainPart = srcString.substring(srcString.indexOf(&quot;&gt;&quot;)+1,srcString.lastIndexOf(&quot;&lt;&quot;));\n        }\n        String suffix = srcString.substring( srcString.lastIndexOf(&quot;&lt;&quot;) );\n        String addPart = append.substring(append.indexOf(&quot;&gt;&quot;) + 1, append.lastIndexOf(&quot;&lt;&quot;));\n        CTBody makeBody = CTBody.Factory.parse(prefix+mainPart+addPart+suffix);\n        src.set(makeBody);\n    }\n}\n</code></pre>\n<p>I'm not sure what is causing this error, and I would appreciate some help in understanding and resolving it.</p>\n<p>The Java code I'm trying to compile is the MailMerge.java file, and it includes the following functionalities:</p>\n<ul>\n<li>Reading data from a CSV or XLSX file.</li>\n<li>Opening a Word template file and applying the data from the CSV/XLSX\nfile to replace markers in the template.</li>\n<li>Creating a new DOCX file with the merged data for each row in the\nCSV/XLSX file.</li>\n</ul>\n<p>Could someone please review the code and help me identify the cause of the &quot;Illegal start of expression&quot; error? Any insights or suggestions on how to fix it would be greatly appreciated. Thank you!</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1690455817,"post_id":76779092,"comment_id":135357785,"body_markdown":"&quot;*Is it even possible?*&quot; This should be very easy to test for yourself, no? You have already written the code here. What&#39;s stopping you from running it?","body":"&quot;<i>Is it even possible?</i>&quot; This should be very easy to test for yourself, no? You have already written the code here. What&#39;s stopping you from running it?"},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1690456008,"post_id":76779092,"comment_id":135357828,"body_markdown":"&quot;*Is it preferable?*&quot; The Spring team advocate for constructor injection in the documentation. Constructor injection guarantees `configA` will be non-null. Field injection does not.","body":"&quot;<i>Is it preferable?</i>&quot; The Spring team advocate for constructor injection in the documentation. Constructor injection guarantees <code>configA</code> will be non-null. Field injection does not."},{"owner":{"account_id":3096665,"reputation":3441,"user_id":2621706,"accept_rate":94,"display_name":"Uwe Allner"},"score":0,"creation_date":1690456337,"post_id":76779092,"comment_id":135357904,"body_markdown":"All the examples in the Spring documentation use field injection. Therefore I think the question is appropriate...","body":"All the examples in the Spring documentation use field injection. Therefore I think the question is appropriate..."},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1690456545,"post_id":76779092,"comment_id":135357949,"body_markdown":"Field injection is shorter, so results in more concise examples, so that&#39;s probably why they use it in the docs. Like I said, they specifically advocate for constructor injection: [&quot;The Spring team generally advocates constructor injection&quot;](https://docs.spring.io/spring-framework/reference/core/beans/dependencies/factory-collaborators.html#beans-constructor-vs-setter-injection). I never said your question wasn&#39;t appropriate. I asked why you didn&#39;t try it yourself.","body":"Field injection is shorter, so results in more concise examples, so that&#39;s probably why they use it in the docs. Like I said, they specifically advocate for constructor injection: <a href=\"https://docs.spring.io/spring-framework/reference/core/beans/dependencies/factory-collaborators.html#beans-constructor-vs-setter-injection\" rel=\"nofollow noreferrer\">&quot;The Spring team generally advocates constructor injection&quot;</a>. I never said your question wasn&#39;t appropriate. I asked why you didn&#39;t try it yourself."},{"owner":{"account_id":3096665,"reputation":3441,"user_id":2621706,"accept_rate":94,"display_name":"Uwe Allner"},"score":0,"creation_date":1690457184,"post_id":76779092,"comment_id":135358084,"body_markdown":"I have reworded my doubts in case that lead to the downvoting. That it compiles and runs in a simple example I know.","body":"I have reworded my doubts in case that lead to the downvoting. That it compiles and runs in a simple example I know."},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1690457420,"post_id":76779092,"comment_id":135358128,"body_markdown":"I wasn&#39;t the one who downvoted FYI.  There is nothing special about `@Configuration` here. Constructor injection has the same benefits over field injection regardless of what the class is annotated with.","body":"I wasn&#39;t the one who downvoted FYI.  There is nothing special about <code>@Configuration</code> here. Constructor injection has the same benefits over field injection regardless of what the class is annotated with."}],"owner":{"account_id":3096665,"reputation":3441,"user_id":2621706,"accept_rate":94,"display_name":"Uwe Allner"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1690456996,"creation_date":1690455727,"question_id":76779092,"body_markdown":"In Spring for common bean classes it is preferrable to use the constructor for autowiring, as far as I know. But is this also the case for configuration classes? Does it have any disadvantages in the case of config classes?\r\n\r\nFor example:\r\n\r\n```java\r\n@Configuration\r\npublic class ConfigA {\r\n...\r\n}\r\n\r\n@Configuration\r\npublic class ConfigB {\r\n\r\n    @Autowired\r\n    private ConfigA configA;\r\n...\r\n}\r\n\r\n// versus \r\n@Configuration\r\npublic class ConfigB {\r\n\r\n    private final ConfigA configA;\r\n\r\n    public ConfigB(ConfigA configA) {\r\n        this.configA = configA;\r\n    }\r\n...\r\n}","title":"Is it preferrable to use autowired constructor in Spring config classes instead of member autowiring?","body":"<p>In Spring for common bean classes it is preferrable to use the constructor for autowiring, as far as I know. But is this also the case for configuration classes? Does it have any disadvantages in the case of config classes?</p>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class ConfigA {\n...\n}\n\n@Configuration\npublic class ConfigB {\n\n    @Autowired\n    private ConfigA configA;\n...\n}\n\n// versus \n@Configuration\npublic class ConfigB {\n\n    private final ConfigA configA;\n\n    public ConfigB(ConfigA configA) {\n        this.configA = configA;\n    }\n...\n}\n</code></pre>\n"},{"tags":["java","arrays","variadic-functions"],"comments":[{"owner":{"account_id":2855834,"reputation":64,"user_id":2452130,"display_name":"Qiqo"},"score":1,"creation_date":1499242168,"post_id":44920321,"comment_id":76816680,"body_markdown":"I think you are better off loading that array into ArrayList then just do an add(item_to_add). then if you need an array you can call the ToArray() method of ArrayList","body":"I think you are better off loading that array into ArrayList then just do an add(item_to_add). then if you need an array you can call the ToArray() method of ArrayList"},{"owner":{"account_id":4336062,"reputation":1379,"user_id":3540514,"display_name":"Atspulgs"},"score":0,"creation_date":1499243137,"post_id":44920321,"comment_id":76817303,"body_markdown":"Is there a reason you do not use a list such as an ArrayList?\nIf anything, I would have suggested the same solution you already have.","body":"Is there a reason you do not use a list such as an ArrayList? If anything, I would have suggested the same solution you already have."}],"answers":[{"comments":[{"owner":{"account_id":2162659,"reputation":1388,"user_id":1916536,"display_name":"Denys Kurochkin"},"score":0,"creation_date":1499242840,"post_id":44920453,"comment_id":76817096,"body_markdown":"I thought about this, but this is too expensive operation for statistics logging","body":"I thought about this, but this is too expensive operation for statistics logging"},{"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1499242917,"post_id":44920453,"comment_id":76817145,"body_markdown":"@DenisKurochkin Then consider refactoring `count()` to operate on a collection rather than an array.","body":"@DenisKurochkin Then consider refactoring <code>count()</code> to operate on a collection rather than an array."},{"owner":{"account_id":2162659,"reputation":1388,"user_id":1916536,"display_name":"Denys Kurochkin"},"score":0,"creation_date":1499242982,"post_id":44920453,"comment_id":76817192,"body_markdown":"`count()` isn&#39;t mine, it&#39;s 3rd party library","body":"<code>count()</code> isn&#39;t mine, it&#39;s 3rd party library"},{"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1499243127,"post_id":44920453,"comment_id":76817297,"body_markdown":"@DenisKurochkin Could you possibly start out with a larger array with some empty slots?  Does the `count()` method ignore `null` entries?","body":"@DenisKurochkin Could you possibly start out with a larger array with some empty slots?  Does the <code>count()</code> method ignore <code>null</code> entries?"},{"owner":{"account_id":2162659,"reputation":1388,"user_id":1916536,"display_name":"Denys Kurochkin"},"score":0,"creation_date":1499945247,"post_id":44920453,"comment_id":77130780,"body_markdown":"predefined empty slots in the array is a kind of anti-pattern, I wouldn&#39;t use it","body":"predefined empty slots in the array is a kind of anti-pattern, I wouldn&#39;t use it"}],"tags":[],"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"comment_count":5,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1499242961,"creation_date":1499242129,"answer_id":44920453,"question_id":44920321,"body_markdown":"There is no easy way to expand an array by one element and add something new.  But if you were working with a list instead, you could easily add a new element and then convert it to an array when calling the method:\r\n\r\n    String[] tags = { &quot;foo_tag:Foo&quot;,\r\n                      &quot;bar_tag:Bar&quot;,\r\n                      &quot;baz_tag:Baz&quot;\r\n                    };\r\n    List&lt;String&gt; tagList = new ArrayList&lt;String&gt;(Arrays.asList(tags));\r\n    tagList.add(&quot;project_id:12345&quot;);\r\n\r\n    count(delta, tagList.toArray(new String[0]));\r\n\r\nIf you think you will have a long term need for this, then perhaps consider changing the implementation of `count()` to use a list instead of an array.  You could also overload this method and expose a version which accepts list instead of array.","title":"Create an Array from existing array with additional element added","body":"<p>There is no easy way to expand an array by one element and add something new.  But if you were working with a list instead, you could easily add a new element and then convert it to an array when calling the method:</p>\n\n<pre><code>String[] tags = { \"foo_tag:Foo\",\n                  \"bar_tag:Bar\",\n                  \"baz_tag:Baz\"\n                };\nList&lt;String&gt; tagList = new ArrayList&lt;String&gt;(Arrays.asList(tags));\ntagList.add(\"project_id:12345\");\n\ncount(delta, tagList.toArray(new String[0]));\n</code></pre>\n\n<p>If you think you will have a long term need for this, then perhaps consider changing the implementation of <code>count()</code> to use a list instead of an array.  You could also overload this method and expose a version which accepts list instead of array.</p>\n"},{"comments":[{"owner":{"account_id":2162659,"reputation":1388,"user_id":1916536,"display_name":"Denys Kurochkin"},"score":0,"creation_date":1499243017,"post_id":44920626,"comment_id":76817216,"body_markdown":"Yes, looks like this is the only way along with hardcoding static tag values","body":"Yes, looks like this is the only way along with hardcoding static tag values"},{"owner":{"account_id":4514344,"reputation":31626,"user_id":3669624,"accept_rate":100,"display_name":"cнŝdk"},"score":0,"creation_date":1499243351,"post_id":44920626,"comment_id":76817430,"body_markdown":"@DenisKurochkin Yes, it&#39;s the cleanest and safest way to do it.","body":"@DenisKurochkin Yes, it&#39;s the cleanest and safest way to do it."}],"tags":[],"owner":{"account_id":4514344,"reputation":31626,"user_id":3669624,"accept_rate":100,"display_name":"cнŝdk"},"comment_count":2,"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1499242656,"creation_date":1499242656,"answer_id":44920626,"question_id":44920321,"body_markdown":"In java, arrays have a fixed size so **it won&#39;t be possible to extend an array** by appending new elements to it. \r\n\r\nYou will need to create a new array with a larger size and copy the first one elements into it, then add new elements to it, but it&#39;s not **dynamic** yet.\r\n\r\nWhat I can suggest is to use a **[`Collection`][1]** maybe an **[ArrayList][2]** you will profit from its built-in methods like **[`.add()`][3]**\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/Collection.html\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/util/ArrayList.html\r\n  [3]: https://docs.oracle.com/javase/7/docs/api/java/util/ArrayList.html#add(E)","title":"Create an Array from existing array with additional element added","body":"<p>In java, arrays have a fixed size so <strong>it won't be possible to extend an array</strong> by appending new elements to it. </p>\n\n<p>You will need to create a new array with a larger size and copy the first one elements into it, then add new elements to it, but it's not <strong>dynamic</strong> yet.</p>\n\n<p>What I can suggest is to use a <strong><a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Collection.html\" rel=\"nofollow noreferrer\"><code>Collection</code></a></strong> maybe an <strong><a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/ArrayList.html\" rel=\"nofollow noreferrer\">ArrayList</a></strong> you will profit from its built-in methods like <strong><a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/ArrayList.html#add(E)\" rel=\"nofollow noreferrer\"><code>.add()</code></a></strong></p>\n"}],"owner":{"account_id":2162659,"reputation":1388,"user_id":1916536,"display_name":"Denys Kurochkin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2794,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":44920626,"answer_count":2,"score":3,"last_activity_date":1690456865,"creation_date":1499241715,"question_id":44920321,"body_markdown":"I have a method that takes a vararg Array of strings\r\n\r\n    void count(long delta, String... tags);\r\n\r\nI have a predefined array of tags for the most cases \r\n\r\n    String[] tags = { &quot;foo_tag:Foo&quot;,\r\n                      &quot;bar_tag:Bar&quot;,\r\n                      &quot;baz_tag:Baz&quot;\r\n                    };\r\n\r\nand only one tag to be added to predefined tags in each call `&quot;project_id:12345&quot;`\r\n\r\nSo the call of count should look like this:\r\n\r\n    count(delta, &quot;foo_tag:Foo&quot;, &quot;bar_tag:Bar&quot;, &quot;baz_tag:Baz&quot;, &quot;project_id:12345&quot;);\r\n\r\nHow can I simply create a new array containing my existing one plus additional element just in place of calling the method?\r\n\r\nSomething like this hypothetical `Arrays.append` method:\r\n\r\n    count(delta, Arrays.append(tags, &quot;project_id:12345&quot;));\r\n\r\nThis is storing statistics operation, not business logic, so I want this operation to be as fast as possible.  \r\nCurrently, I have a helper method `appendTag`, but it doesn&#39;t look elegant to me\r\n\r\n    private String[] appendTag(String[] tags, String s)\r\n    {\r\n        String[] result = new String[tags.length + 1];\r\n        System.arraycopy(tags, 0, result, 0, tags.length);\r\n        result[result.length-1] = s;\r\n        return result;\r\n    }","title":"Create an Array from existing array with additional element added","body":"<p>I have a method that takes a vararg Array of strings</p>\n<pre><code>void count(long delta, String... tags);\n</code></pre>\n<p>I have a predefined array of tags for the most cases</p>\n<pre><code>String[] tags = { &quot;foo_tag:Foo&quot;,\n                  &quot;bar_tag:Bar&quot;,\n                  &quot;baz_tag:Baz&quot;\n                };\n</code></pre>\n<p>and only one tag to be added to predefined tags in each call <code>&quot;project_id:12345&quot;</code></p>\n<p>So the call of count should look like this:</p>\n<pre><code>count(delta, &quot;foo_tag:Foo&quot;, &quot;bar_tag:Bar&quot;, &quot;baz_tag:Baz&quot;, &quot;project_id:12345&quot;);\n</code></pre>\n<p>How can I simply create a new array containing my existing one plus additional element just in place of calling the method?</p>\n<p>Something like this hypothetical <code>Arrays.append</code> method:</p>\n<pre><code>count(delta, Arrays.append(tags, &quot;project_id:12345&quot;));\n</code></pre>\n<p>This is storing statistics operation, not business logic, so I want this operation to be as fast as possible.<br />\nCurrently, I have a helper method <code>appendTag</code>, but it doesn't look elegant to me</p>\n<pre><code>private String[] appendTag(String[] tags, String s)\n{\n    String[] result = new String[tags.length + 1];\n    System.arraycopy(tags, 0, result, 0, tags.length);\n    result[result.length-1] = s;\n    return result;\n}\n</code></pre>\n"},{"tags":["java","inheritance","reflection","refactoring","composition"],"comments":[{"owner":{"account_id":2712514,"reputation":10118,"user_id":2340612,"accept_rate":83,"display_name":"user2340612"},"score":2,"creation_date":1688291694,"post_id":76598181,"comment_id":135052066,"body_markdown":"given that `getName()` isn&#39;t defined on the base class, you need some sort of introspection to check if you can call that method on a given instance. You can do something like this `if (base instanceof MyChild) { ((MyChild) base).getName() }`","body":"given that <code>getName()</code> isn&#39;t defined on the base class, you need some sort of introspection to check if you can call that method on a given instance. You can do something like this <code>if (base instanceof MyChild) { ((MyChild) base).getName() }</code>"},{"owner":{"account_id":5439705,"reputation":1442,"user_id":4328100,"accept_rate":67,"display_name":"Mohammadreza Khatami"},"score":0,"creation_date":1688293237,"post_id":76598181,"comment_id":135052178,"body_markdown":"It&#39;s my assuming only to define the problem.. I&#39;ve many childrens so can&#39;t specify each of them in my code.. Also i can&#39;t redesign the whole project entities. Any suggestion ?","body":"It&#39;s my assuming only to define the problem.. I&#39;ve many childrens so can&#39;t specify each of them in my code.. Also i can&#39;t redesign the whole project entities. Any suggestion ?"},{"owner":{"account_id":2712514,"reputation":10118,"user_id":2340612,"accept_rate":83,"display_name":"user2340612"},"score":0,"creation_date":1688294090,"post_id":76598181,"comment_id":135052276,"body_markdown":"do all subclasses have a `getName` method, or is the method you want to call different per class? Also, when you call the method do you know the type at compile time (i.e. can you cast your instance to the right sub class) or not?","body":"do all subclasses have a <code>getName</code> method, or is the method you want to call different per class? Also, when you call the method do you know the type at compile time (i.e. can you cast your instance to the right sub class) or not?"}],"answers":[{"tags":[],"owner":{"account_id":10662643,"reputation":689,"user_id":7899567,"display_name":"Anton Tokmakov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688388342,"creation_date":1688388342,"answer_id":76604877,"question_id":76598181,"body_markdown":"If you want to use Java Reflaction API then you can invoke &quot;getName&quot; method in such way:\r\n\r\n    Class&lt;? extends BaseEntity&gt; aClass = base.getClass();\r\n    Method method = aClass.getMethod(&quot;getName&quot;); \r\n    method.invoke(base);\r\n\r\n\r\n","title":"Specifying child method with base class object in Java","body":"<p>If you want to use Java Reflaction API then you can invoke &quot;getName&quot; method in such way:</p>\n<pre><code>Class&lt;? extends BaseEntity&gt; aClass = base.getClass();\nMethod method = aClass.getMethod(&quot;getName&quot;); \nmethod.invoke(base);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13993199,"reputation":129,"user_id":10362945,"display_name":"Sagar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690456842,"creation_date":1690456842,"answer_id":76779235,"question_id":76598181,"body_markdown":"Defining default method and implementing the interface in BaseEntity can handle the scenario provided child entities follow same naming convention\r\n```\r\ninterface defaultGetName{\r\n    default String getName(){\r\n        throw new UnsupportedOperationException(&quot;getName not defined for this class&quot;);\r\n    }\r\n}\r\n@Data\r\nclass BaseEntity implements defaultGetName{\r\n    Integer id;\r\n    //setter getters etc\r\n}\r\npublic class Util{\r\n    public String getName(BaseEntity base){\r\n        return base != null ? base.getChild().getName() : &quot;&quot;;\r\n    } \r\n}\r\n```","title":"Specifying child method with base class object in Java","body":"<p>Defining default method and implementing the interface in BaseEntity can handle the scenario provided child entities follow same naming convention</p>\n<pre><code>interface defaultGetName{\n    default String getName(){\n        throw new UnsupportedOperationException(&quot;getName not defined for this class&quot;);\n    }\n}\n@Data\nclass BaseEntity implements defaultGetName{\n    Integer id;\n    //setter getters etc\n}\npublic class Util{\n    public String getName(BaseEntity base){\n        return base != null ? base.getChild().getName() : &quot;&quot;;\n    } \n}\n</code></pre>\n"}],"owner":{"account_id":5439705,"reputation":1442,"user_id":4328100,"accept_rate":67,"display_name":"Mohammadreza Khatami"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1690456842,"creation_date":1688289221,"question_id":76598181,"body_markdown":"I&#39;ve written below snippet to produce better and reusable code in all of `Child` classes.\r\n\r\n**Base Entity :** \r\n\r\n    public class BaseEntity{\r\n         Integer id; \r\n         //setter getters etc\r\n    }\r\n\r\n**Child Entity :**\r\n\r\n    public class MyChild extends BaseEntity{\r\n        String name;\r\n        //setter getters etc\r\n    }\r\nI have many child classes that extends BaseEntity and want to write a method to remove `boilerplate` code.\r\n\r\n**Util Class :**\r\n\r\n    public class Util{\r\n        public String getName(BaseEntity base){\r\n            return base != null ? base.getChild().getName() : &quot;&quot;;\r\n        } \r\n    }\r\n\r\nThe problem is **base.getChild.name()** How to do something like that when child isn&#39;t in a `composition` form ?\r\nI&#39;ve reading about Java Reflection but don&#39;t know how to do it in an optimise way in this scenario.. Is there any better option than Reflection ?\r\n","title":"Specifying child method with base class object in Java","body":"<p>I've written below snippet to produce better and reusable code in all of <code>Child</code> classes.</p>\n<p><strong>Base Entity :</strong></p>\n<pre><code>public class BaseEntity{\n     Integer id; \n     //setter getters etc\n}\n</code></pre>\n<p><strong>Child Entity :</strong></p>\n<pre><code>public class MyChild extends BaseEntity{\n    String name;\n    //setter getters etc\n}\n</code></pre>\n<p>I have many child classes that extends BaseEntity and want to write a method to remove <code>boilerplate</code> code.</p>\n<p><strong>Util Class :</strong></p>\n<pre><code>public class Util{\n    public String getName(BaseEntity base){\n        return base != null ? base.getChild().getName() : &quot;&quot;;\n    } \n}\n</code></pre>\n<p>The problem is <strong>base.getChild.name()</strong> How to do something like that when child isn't in a <code>composition</code> form ?\nI've reading about Java Reflection but don't know how to do it in an optimise way in this scenario.. Is there any better option than Reflection ?</p>\n"},{"tags":["java","spring","spring-boot","spring-boot-actuator"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1690460085,"post_id":76779190,"comment_id":135358720,"body_markdown":"Why? It is build-info, information about the build? It doesn&#39;t use the name of the service. If you want to rename your application just provide a `spring.application.name` and be done.","body":"Why? It is build-info, information about the build? It doesn&#39;t use the name of the service. If you want to rename your application just provide a <code>spring.application.name</code> and be done."},{"owner":{"account_id":10860542,"reputation":1074,"user_id":8093912,"display_name":"Manoj Sharma"},"score":0,"creation_date":1690473148,"post_id":76779190,"comment_id":135361995,"body_markdown":"Actually, there are multiple services which were using this BuildProps object for extracting project name. And I am refraining from making any code change. Instead utilizing externalize config that updates specific attributes (just hoping if any easy way out)","body":"Actually, there are multiple services which were using this BuildProps object for extracting project name. And I am refraining from making any code change. Instead utilizing externalize config that updates specific attributes (just hoping if any easy way out)"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1690479917,"post_id":76779190,"comment_id":135363320,"body_markdown":"Well if you want to change those you can only do that at build time. The `spring.application.name` you can provide as a startup parameter.","body":"Well if you want to change those you can only do that at build time. The <code>spring.application.name</code> you can provide as a startup parameter."}],"owner":{"account_id":10860542,"reputation":1074,"user_id":8093912,"display_name":"Manoj Sharma"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690456454,"creation_date":1690456454,"question_id":76779190,"body_markdown":"I have a Spring Boot application that generates a `build-info.properties` file during the build process. The build-info.properties file contains static build metadata such as the project name, description, version, build timestamp, etc (that we define in pom.xml).\r\n\r\nWhen Bootstrapping the jar file I want to override build.name and build.description. That I read using Autowired `BuildProperties` object.\r\n\r\nRight now, It only contains properties configured in `pom.xml` file.\r\n\r\n**Why I am doing this?**\r\nI want to deploy `service-a` Artifact with another name as `service-b` with overridden values. Also, I want to restrict myself from changing source code of `service-a` instead provide command-line args, environment variables, etc to override this configuration.","title":"How to override values in the &#39;build-info.properties&#39; file at the time of bootstrapping a Spring Boot application jar?","body":"<p>I have a Spring Boot application that generates a <code>build-info.properties</code> file during the build process. The build-info.properties file contains static build metadata such as the project name, description, version, build timestamp, etc (that we define in pom.xml).</p>\n<p>When Bootstrapping the jar file I want to override build.name and build.description. That I read using Autowired <code>BuildProperties</code> object.</p>\n<p>Right now, It only contains properties configured in <code>pom.xml</code> file.</p>\n<p><strong>Why I am doing this?</strong>\nI want to deploy <code>service-a</code> Artifact with another name as <code>service-b</code> with overridden values. Also, I want to restrict myself from changing source code of <code>service-a</code> instead provide command-line args, environment variables, etc to override this configuration.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1390639,"reputation":23879,"user_id":1321564,"accept_rate":71,"display_name":"Benjamin M"},"score":0,"creation_date":1629469937,"post_id":68863699,"comment_id":121702829,"body_markdown":"Run your code again, the results shoudn&#39;t be the same. When you use `ListNode currentEnd = output;`, then the first element will be skipped because you&#39;re doing `output.next.next`. The result should be `60, 80, 100, 150, 250, 300, 800` (missing `10` at the beginning)","body":"Run your code again, the results shoudn&#39;t be the same. When you use <code>ListNode currentEnd = output;</code>, then the first element will be skipped because you&#39;re doing <code>output.next.next</code>. The result should be <code>60, 80, 100, 150, 250, 300, 800</code> (missing <code>10</code> at the beginning)"},{"owner":{"account_id":13992658,"reputation":47,"user_id":15092163,"display_name":"Duno"},"score":0,"creation_date":1629470054,"post_id":68863699,"comment_id":121702869,"body_markdown":"Ah yes, I should also change the line return `output.next.next;` to be `return output.next;`, then it will give the same output. However, I was wondering about why `currentEnd ` is linked to `output` in the second case. Thank you.","body":"Ah yes, I should also change the line return <code>output.next.next;</code> to be <code>return output.next;</code>, then it will give the same output. However, I was wondering about why <code>currentEnd </code> is linked to <code>output</code> in the second case. Thank you."}],"answers":[{"comments":[{"owner":{"account_id":13992658,"reputation":47,"user_id":15092163,"display_name":"Duno"},"score":0,"creation_date":1629472639,"post_id":68864241,"comment_id":121703921,"body_markdown":"Thank you. I was misunderstood as I thought that `currentEnd` is a different variable that has the same value (a node) as &#39;ouput`.","body":"Thank you. I was misunderstood as I thought that <code>currentEnd</code> is a different variable that has the same value (a node) as &#39;ouput`."},{"owner":{"account_id":1390639,"reputation":23879,"user_id":1321564,"accept_rate":71,"display_name":"Benjamin M"},"score":1,"creation_date":1629473095,"post_id":68864241,"comment_id":121704101,"body_markdown":"Yeah, that&#39;s a bit tricky. In fact it&#39;s true that Java **did** copy the content of `output` to `currentEnd`, **but** the content of `output` is just the memory location of your `ListNode`. That&#39;s how variables for Objects work in Java. If you want to copy an object&#39;s data in Java, there&#39;s always a `new` involved. But as I said: This is only true for objects, not for primitives (like `int` and `boolean`). When using a primitive Java does store the value in the variable, there&#39;s no separate memory location for the data involved. Though when you assign a primitive it will in fact copy the value.","body":"Yeah, that&#39;s a bit tricky. In fact it&#39;s true that Java <b>did</b> copy the content of <code>output</code> to <code>currentEnd</code>, <b>but</b> the content of <code>output</code> is just the memory location of your <code>ListNode</code>. That&#39;s how variables for Objects work in Java. If you want to copy an object&#39;s data in Java, there&#39;s always a <code>new</code> involved. But as I said: This is only true for objects, not for primitives (like <code>int</code> and <code>boolean</code>). When using a primitive Java does store the value in the variable, there&#39;s no separate memory location for the data involved. Though when you assign a primitive it will in fact copy the value."},{"owner":{"account_id":1390639,"reputation":23879,"user_id":1321564,"accept_rate":71,"display_name":"Benjamin M"},"score":0,"creation_date":1629473405,"post_id":68864241,"comment_id":121704218,"body_markdown":"If you want to learn more about it, here are some search terms for a search engine of your choice: java primitive value object reference","body":"If you want to learn more about it, here are some search terms for a search engine of your choice: java primitive value object reference"}],"tags":[],"owner":{"account_id":1390639,"reputation":23879,"user_id":1321564,"accept_rate":71,"display_name":"Benjamin M"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1629471925,"creation_date":1629471537,"answer_id":68864241,"question_id":68863699,"body_markdown":"When you use `ListNode currentEnd = output;` then your code does this:\r\n\r\n```\r\noutput = new ListNode(0);\r\ncurrentEnd = output;\r\n// now both variables point to the same object\r\n```\r\n\r\nThe first iteration of the while loop:\r\n```\r\ncurrentEnd.next = ...\r\n```\r\n\r\nThis is effectively the same as `output.next = ...`, because you said `output = currentEnd`.\r\n\r\nBut at the end of the loop you change `currentEnd`:\r\n\r\n```\r\ncurrentEnd = currentEnd.next\r\n```\r\n\r\nThis is effectively the same as `currentEnd = output.next`. But now you assigned a new value to `currentEnd`. This means that from now on `output` and `currentEnd` aren&#39;t the same anymore. `output` is still the same as before, because you didn&#39;t assign a new value to output. You only changed what `currentEnd` is pointing to.\r\n\r\n--- \r\n\r\nSame same, but from another perspective:\r\n\r\nKeep in mind that your variables* `output` and `currentEnd` are basically just pointers. Those variables do not store any data, they just store the memory location of your data. Your code works like this:\r\n\r\n`new ListNode(0)` will create a new object in memory. Then you assign the memory location of that object to `output` (using `output =`). Next you assign the very same memory location to `currentEnd` (using `currentEnd = output`).\r\n\r\nNow you still have a single object in memory, but 2 variables pointing to it.\r\n\r\nCalling `currentEnd.next = ` will go to the memory location of `currentEnd` (which is the same as for `output` in the first iteration of the loop), and then set within this memory location the `next` field.\r\n\r\nAt the end of the loop you do `currentEnd = currentEnd.next`. This will get the memory location of `currentEnd.next` and then says that `currentEnd` should point to this memory location. This does not change where `output` is pointing to. (If you want to change where `output` is pointing to, there&#39;s only one way: You must use `output = ...`.)\r\n\r\nI highly recommend that you take a sheet of paper and draw what happens in which order. Then things should become much clearer.\r\n\r\n(*) this is only true for Objects in Java, but not for primitive types. But your code only uses Objects, though it&#39;s not important here.","title":"Merge Two Sorted Lists - how 2 nodes can be linked","body":"<p>When you use <code>ListNode currentEnd = output;</code> then your code does this:</p>\n<pre><code>output = new ListNode(0);\ncurrentEnd = output;\n// now both variables point to the same object\n</code></pre>\n<p>The first iteration of the while loop:</p>\n<pre><code>currentEnd.next = ...\n</code></pre>\n<p>This is effectively the same as <code>output.next = ...</code>, because you said <code>output = currentEnd</code>.</p>\n<p>But at the end of the loop you change <code>currentEnd</code>:</p>\n<pre><code>currentEnd = currentEnd.next\n</code></pre>\n<p>This is effectively the same as <code>currentEnd = output.next</code>. But now you assigned a new value to <code>currentEnd</code>. This means that from now on <code>output</code> and <code>currentEnd</code> aren't the same anymore. <code>output</code> is still the same as before, because you didn't assign a new value to output. You only changed what <code>currentEnd</code> is pointing to.</p>\n<hr />\n<p>Same same, but from another perspective:</p>\n<p>Keep in mind that your variables* <code>output</code> and <code>currentEnd</code> are basically just pointers. Those variables do not store any data, they just store the memory location of your data. Your code works like this:</p>\n<p><code>new ListNode(0)</code> will create a new object in memory. Then you assign the memory location of that object to <code>output</code> (using <code>output =</code>). Next you assign the very same memory location to <code>currentEnd</code> (using <code>currentEnd = output</code>).</p>\n<p>Now you still have a single object in memory, but 2 variables pointing to it.</p>\n<p>Calling <code>currentEnd.next = </code> will go to the memory location of <code>currentEnd</code> (which is the same as for <code>output</code> in the first iteration of the loop), and then set within this memory location the <code>next</code> field.</p>\n<p>At the end of the loop you do <code>currentEnd = currentEnd.next</code>. This will get the memory location of <code>currentEnd.next</code> and then says that <code>currentEnd</code> should point to this memory location. This does not change where <code>output</code> is pointing to. (If you want to change where <code>output</code> is pointing to, there's only one way: You must use <code>output = ...</code>.)</p>\n<p>I highly recommend that you take a sheet of paper and draw what happens in which order. Then things should become much clearer.</p>\n<p>(*) this is only true for Objects in Java, but not for primitive types. But your code only uses Objects, though it's not important here.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1691068725,"post_id":76779097,"comment_id":135443694,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76779097/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":29102523,"reputation":1,"user_id":22294053,"display_name":"sameer kanade"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690455778,"creation_date":1690455778,"answer_id":76779097,"question_id":68863699,"body_markdown":"    /**\r\n     * Definition for singly-linked list.\r\n     * public class ListNode {\r\n     *     int val;\r\n     *     ListNode next;\r\n     *     ListNode() {}\r\n     *     ListNode(int val) { this.val = val; }\r\n     *     ListNode(int val, ListNode next) { this.val = val; this.next = next; }\r\n     * }*/\r\n     \r\n    \r\n    class Solution {\r\n        public ListNode mergeTwoLists(ListNode l1, ListNode l2) {\r\n            ListNode temp_node = new ListNode(0);\r\n            ListNode current_node = temp_node ;\r\n    \r\n            while(l1 != null &amp;&amp; l2 != null){\r\n                if(l1.val &lt;= l2.val){\r\n                    current_node.next=l1;\r\n                    l1=l1.next;\r\n                }\r\n                else{\r\n                    current_node.next=l2;\r\n                    l2=l2.next;\r\n                }\r\n                current_node = current_node.next;\r\n            }\r\n            if(l1 == null){\r\n                current_node.next = l2; \r\n            }\r\n            else if(l2 == null){\r\n                current_node.next = l1;\r\n            }\r\n        //    current_node.next = l1!=null ? l1:l2;\r\n           return temp_node.next;\r\n        }\r\n        \r\n    }\r\n\r\n","title":"Merge Two Sorted Lists - how 2 nodes can be linked","body":"<pre><code>/**\n * Definition for singly-linked list.\n * public class ListNode {\n *     int val;\n *     ListNode next;\n *     ListNode() {}\n *     ListNode(int val) { this.val = val; }\n *     ListNode(int val, ListNode next) { this.val = val; this.next = next; }\n * }*/\n \n\nclass Solution {\n    public ListNode mergeTwoLists(ListNode l1, ListNode l2) {\n        ListNode temp_node = new ListNode(0);\n        ListNode current_node = temp_node ;\n\n        while(l1 != null &amp;&amp; l2 != null){\n            if(l1.val &lt;= l2.val){\n                current_node.next=l1;\n                l1=l1.next;\n            }\n            else{\n                current_node.next=l2;\n                l2=l2.next;\n            }\n            current_node = current_node.next;\n        }\n        if(l1 == null){\n            current_node.next = l2; \n        }\n        else if(l2 == null){\n            current_node.next = l1;\n        }\n    //    current_node.next = l1!=null ? l1:l2;\n       return temp_node.next;\n    }\n    \n}\n</code></pre>\n"}],"owner":{"account_id":13992658,"reputation":47,"user_id":15092163,"display_name":"Duno"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":391,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":68864241,"answer_count":2,"score":1,"last_activity_date":1690455778,"creation_date":1629468866,"question_id":68863699,"body_markdown":"I want to ask a question about this merge 2 sorted linked lists exercise:\r\n\r\n&gt; Merge two sorted linked lists and return it as a sorted list. The list\r\n&gt; should be made by splicing together the nodes of the first two lists.\r\n\r\n    Input: l1 = [1,2,4], l2 = [1,3,4]\r\n    Output: [1,1,2,3,4,4]\r\n\r\n    public class ListNode {\r\n    \tint val; // value of the node = val \r\n    \tListNode next; // this is the pointer to the next node, which is connected to this current node\r\n    \tListNode() {}\r\n    \tListNode(int val) { this.val = val; }\r\n    \tListNode(int val, ListNode next) { this.val = val; this.next = next; }\r\n    }\r\n\r\nHere is my code\r\n\r\n    //21. Merge Two Sorted Lists\r\n    public class merge2linkedlists {\r\n    \r\n    \t\tpublic ListNode mergeTwoLists(ListNode l1, ListNode l2){\r\n    \t\t\tListNode output = new ListNode(0); //head 0 - will remove later\t\t\t\r\n    \t\t\tListNode currentEnd = new ListNode(0); //the current end node\r\n    \t\t\toutput.next = currentEnd; // link head to the current end node\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t\twhile(l1 != null &amp;&amp; l2 != null) {\r\n    \t\t\t\tif(l1.val &lt;= l2.val) {\r\n    \t\t\t\t\tcurrentEnd.next = l1; // link to the next node\r\n    \t\t\t\t\tl1 = l1.next; // move to the next node\r\n    \t\t\t\t}\r\n    \t\t\t\telse {\r\n    \t\t\t\t\tcurrentEnd.next = l2;\r\n    \t\t\t\t\tl2 = l2.next;\r\n    \t\t\t\t}\r\n    \t\t\t\tcurrentEnd = currentEnd.next; // change current end node\r\n    \t\t\t}//end while\r\n    \t\t\t\r\n    \t\t\tif(l1 == null) {\r\n    \t\t\t\tcurrentEnd.next = l2;\r\n    \t\t\t}\r\n    \t\t\telse {\r\n    \t\t\t\tcurrentEnd.next = l1;\r\n    \t\t\t}\r\n    \t\t\treturn output.next.next;\r\n    \t\t}  \r\n    \r\n    \r\n    \t//main function here\r\n    \tpublic static void main(String[] args) {\r\n    \t\tnew merge2linkedlists();\r\n    \t}\r\n    \r\n    \tpublic merge2linkedlists() {\r\n    \t\tListNode l1 = new ListNode(10); // head\r\n    \t\tl1.next = new ListNode(80); \r\n    \t\tl1.next.next = new ListNode(150);\r\n    \t\tl1.next.next.next = new ListNode(250);\r\n    \r\n    \t\tListNode l2 = new ListNode(60); // head\r\n    \t\tl2.next = new ListNode(100);\r\n    \t\tl2.next.next = new ListNode(300);\r\n    \t\tl2.next.next.next = new ListNode(800);\r\n    \r\n    \t\tSystem.out.print(&quot;\\nList l1 &quot;);\r\n    \t\tl1.printLinkedList();\r\n    \r\n    \t\tSystem.out.print(&quot;\\nList l2 &quot;);\r\n    \t\tl2.printLinkedList();\r\n    \r\n    \t\tListNode output = mergeTwoLists(l1,l2);\r\n    \t\t\r\n    \t\tSystem.out.print(&quot;\\nOutput &quot;);\r\n    \t\toutput.printLinkedList();\r\n    \r\n    \t}\r\n    }\r\n\r\n\r\nIt runs correctly. But my question is that if I replace these 2 lines\r\n\r\n    ListNode currentEnd = new ListNode(0); //the current end node\r\n    output.next = currentEnd; // link head to the current end node\r\n\r\nby `ListNode currentEnd = output;` and change the line `return output.next.next;` to be `return output.next;`it stills gives the correct answer, which I don&#39;t understand, because I don&#39;t see where the head of the `output` is linked to the `currentEnd`? Could you please let me know why? Thank you.","title":"Merge Two Sorted Lists - how 2 nodes can be linked","body":"<p>I want to ask a question about this merge 2 sorted linked lists exercise:</p>\n<blockquote>\n<p>Merge two sorted linked lists and return it as a sorted list. The list\nshould be made by splicing together the nodes of the first two lists.</p>\n</blockquote>\n<pre><code>Input: l1 = [1,2,4], l2 = [1,3,4]\nOutput: [1,1,2,3,4,4]\n\npublic class ListNode {\n    int val; // value of the node = val \n    ListNode next; // this is the pointer to the next node, which is connected to this current node\n    ListNode() {}\n    ListNode(int val) { this.val = val; }\n    ListNode(int val, ListNode next) { this.val = val; this.next = next; }\n}\n</code></pre>\n<p>Here is my code</p>\n<pre><code>//21. Merge Two Sorted Lists\npublic class merge2linkedlists {\n\n        public ListNode mergeTwoLists(ListNode l1, ListNode l2){\n            ListNode output = new ListNode(0); //head 0 - will remove later         \n            ListNode currentEnd = new ListNode(0); //the current end node\n            output.next = currentEnd; // link head to the current end node\n            \n            \n            while(l1 != null &amp;&amp; l2 != null) {\n                if(l1.val &lt;= l2.val) {\n                    currentEnd.next = l1; // link to the next node\n                    l1 = l1.next; // move to the next node\n                }\n                else {\n                    currentEnd.next = l2;\n                    l2 = l2.next;\n                }\n                currentEnd = currentEnd.next; // change current end node\n            }//end while\n            \n            if(l1 == null) {\n                currentEnd.next = l2;\n            }\n            else {\n                currentEnd.next = l1;\n            }\n            return output.next.next;\n        }  \n\n\n    //main function here\n    public static void main(String[] args) {\n        new merge2linkedlists();\n    }\n\n    public merge2linkedlists() {\n        ListNode l1 = new ListNode(10); // head\n        l1.next = new ListNode(80); \n        l1.next.next = new ListNode(150);\n        l1.next.next.next = new ListNode(250);\n\n        ListNode l2 = new ListNode(60); // head\n        l2.next = new ListNode(100);\n        l2.next.next = new ListNode(300);\n        l2.next.next.next = new ListNode(800);\n\n        System.out.print(&quot;\\nList l1 &quot;);\n        l1.printLinkedList();\n\n        System.out.print(&quot;\\nList l2 &quot;);\n        l2.printLinkedList();\n\n        ListNode output = mergeTwoLists(l1,l2);\n        \n        System.out.print(&quot;\\nOutput &quot;);\n        output.printLinkedList();\n\n    }\n}\n</code></pre>\n<p>It runs correctly. But my question is that if I replace these 2 lines</p>\n<pre><code>ListNode currentEnd = new ListNode(0); //the current end node\noutput.next = currentEnd; // link head to the current end node\n</code></pre>\n<p>by <code>ListNode currentEnd = output;</code> and change the line <code>return output.next.next;</code> to be <code>return output.next;</code>it stills gives the correct answer, which I don't understand, because I don't see where the head of the <code>output</code> is linked to the <code>currentEnd</code>? Could you please let me know why? Thank you.</p>\n"},{"tags":["java","bash","shell","terminal"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1690455508,"post_id":76779055,"comment_id":135357720,"body_markdown":"&quot;js&quot; is not Java. It&#39;s javascript. I don&#39;t think (un)installing openjdk is going to make a difference.","body":"&quot;js&quot; is not Java. It&#39;s javascript. I don&#39;t think (un)installing openjdk is going to make a difference."},{"owner":{"account_id":29001207,"reputation":1,"user_id":22214727,"display_name":"anupam singh"},"score":0,"creation_date":1690455941,"post_id":76779055,"comment_id":135357815,"body_markdown":"but this only shows when java is installed if unistalled it will not show","body":"but this only shows when java is installed if unistalled it will not show"},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1690456009,"post_id":76779055,"comment_id":135357831,"body_markdown":"maybe check your `.bashrc` for some command that tries to use Nashorn?","body":"maybe check your <code>.bashrc</code> for some command that tries to use Nashorn?"},{"owner":{"account_id":29001207,"reputation":1,"user_id":22214727,"display_name":"anupam singh"},"score":0,"creation_date":1690456311,"post_id":76779055,"comment_id":135357899,"body_markdown":"this is written in it\nexport JAVA_HOME=&quot;$(jrunscript -e &#39;java.lang.System.out.println(java.lang.System.getProperty(&quot;java.home&quot;));&#39;)&quot;","body":"this is written in it export JAVA_HOME=&quot;$(jrunscript -e &#39;java.lang.System.out.println(java.lang.System.getProperty(&quot;&zwnj;&#8203;java.home&quot;));&#39;)&quot;"},{"owner":{"account_id":10380944,"reputation":333,"user_id":8682210,"display_name":"McLayn"},"score":0,"creation_date":1691420776,"post_id":76779055,"comment_id":135485778,"body_markdown":"The `jrunscript` command is exactly the reason of your error. The JavaScript support was dropped in Java/OpenJDK version 15 (if I remember correctly)","body":"The <code>jrunscript</code> command is exactly the reason of your error. The JavaScript support was dropped in Java/OpenJDK version 15 (if I remember correctly)"}],"owner":{"account_id":29001207,"reputation":1,"user_id":22214727,"display_name":"anupam singh"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690455461,"creation_date":1690455461,"question_id":76779055,"body_markdown":"[enter image description here](https://i.stack.imgur.com/seneN.png)\r\nI have openjdk 19 installed but everytime it shows the error ,pls anyone tell me how do i get rid of it\r\n\r\nI tried uninstalling java and installing it again but it shows the same error everytime. uninstalling java and reinstlling other version shows nashorn engine error.","title":"My pop os terminal shows &quot;script engine for language js can not be found&quot; everytime i open it.How do i fix it?","body":"<p><a href=\"https://i.stack.imgur.com/seneN.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nI have openjdk 19 installed but everytime it shows the error ,pls anyone tell me how do i get rid of it</p>\n<p>I tried uninstalling java and installing it again but it shows the same error everytime. uninstalling java and reinstlling other version shows nashorn engine error.</p>\n"},{"tags":["java","junit","junit4","parameterized","parameterized-unit-test"],"comments":[{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":1,"creation_date":1356787250,"post_id":14082004,"comment_id":19471975,"body_markdown":"Too bad you use JUnit... TestNG has exactly what you want with its `@DataProvider`.","body":"Too bad you use JUnit... TestNG has exactly what you want with its <code>@DataProvider</code>."},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1356787694,"post_id":14082004,"comment_id":19472073,"body_markdown":"@fge yeah, but it isn&#39;t too hard with JUnit - I&#39;ve done it before. You just have to jump though a couple of hoops.","body":"@fge yeah, but it isn&#39;t too hard with JUnit - I&#39;ve done it before. You just have to jump though a couple of hoops."},{"owner":{"account_id":392882,"reputation":2045,"user_id":754426,"accept_rate":92,"display_name":"Aliti"},"score":1,"creation_date":1449455713,"post_id":14082004,"comment_id":55999694,"body_markdown":"https://github.com/junit-team/junit/wiki/Parameterized-tests","body":"<a href=\"https://github.com/junit-team/junit/wiki/Parameterized-tests\" rel=\"nofollow noreferrer\">github.com/junit-team/junit/wiki/Parameterized-tests</a>"},{"owner":{"account_id":5653616,"reputation":660,"user_id":4473413,"display_name":"Y.M."},"score":2,"creation_date":1473334489,"post_id":14082004,"comment_id":66105762,"body_markdown":"@DataProvider can be used with JUnit thanks to https://github.com/TNG/junit-dataprovider/ , better than JUnitParams.","body":"@DataProvider can be used with JUnit thanks to <a href=\"https://github.com/TNG/junit-dataprovider/\" rel=\"nofollow noreferrer\">github.com/TNG/junit-dataprovider</a> , better than JUnitParams."}],"answers":[{"comments":[{"owner":{"account_id":2095246,"reputation":43828,"user_id":1864167,"accept_rate":90,"display_name":"Jeroen Vannevel"},"score":1,"creation_date":1356787746,"post_id":14082103,"comment_id":19472085,"body_markdown":"This seems to work, but it also means half of my tests fail. While it does what I want to do, am I to assume this is as good as it gets?","body":"This seems to work, but it also means half of my tests fail. While it does what I want to do, am I to assume this is as good as it gets?"},{"owner":{"account_id":2095246,"reputation":43828,"user_id":1864167,"accept_rate":90,"display_name":"Jeroen Vannevel"},"score":0,"creation_date":1356790374,"post_id":14082103,"comment_id":19472659,"body_markdown":"Put you as solved since it solves my problem indeed, but if anyone has a more elegant solution which can bypass the side-effect that causes me to fail a lot of tests with parameters that aren&#39;t meant for that test (and thus don&#39;t give me a nice, green bar), I&#39;d be happy to hear it.","body":"Put you as solved since it solves my problem indeed, but if anyone has a more elegant solution which can bypass the side-effect that causes me to fail a lot of tests with parameters that aren&#39;t meant for that test (and thus don&#39;t give me a nice, green bar), I&#39;d be happy to hear it."},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":1,"creation_date":1356804742,"post_id":14082103,"comment_id":19476587,"body_markdown":"This is why I added my final paragraph. Dictating restrictions like this can only lead to problems. The best solution is to have multiple test classes; one that uses once set of parameters, another for a second set, maybe another that doesn&#39;t use parameters. Basically do what you need to do and tell your team leader why you did it. Hopefully he will see the light. If not, go over his head and explain why his &quot;coding rules&quot; are causing problems and will both harm the quality of the software and delay the project. I gather you are not using Continuous Integration... you should use it.","body":"This is why I added my final paragraph. Dictating restrictions like this can only lead to problems. The best solution is to have multiple test classes; one that uses once set of parameters, another for a second set, maybe another that doesn&#39;t use parameters. Basically do what you need to do and tell your team leader why you did it. Hopefully he will see the light. If not, go over his head and explain why his &quot;coding rules&quot; are causing problems and will both harm the quality of the software and delay the project. I gather you are not using Continuous Integration... you should use it."},{"owner":{"account_id":295869,"reputation":73614,"user_id":600500,"accept_rate":54,"display_name":"Paŭlo Ebermann"},"score":0,"creation_date":1445277005,"post_id":14082103,"comment_id":54245862,"body_markdown":"@JeroenVannevel if you can somehow distinguish the parameters which are not meant for a specific test method, you can use the `assume*` set of methods to omit the running of those parameters for those methods. Those will then be counted as &quot;skipped&quot;, just like when using @Ignore (but they can run for other parameters).","body":"@JeroenVannevel if you can somehow distinguish the parameters which are not meant for a specific test method, you can use the <code>assume*</code> set of methods to omit the running of those parameters for those methods. Those will then be counted as &quot;skipped&quot;, just like when using @Ignore (but they can run for other parameters)."},{"owner":{"account_id":4824882,"reputation":263,"user_id":3894580,"accept_rate":75,"display_name":"Arjun Prajapati"},"score":0,"creation_date":1490361785,"post_id":14082103,"comment_id":73090762,"body_markdown":"@PaŭloEbermann i have these distinguish it will be great help if you can share how assume can be used","body":"@PaŭloEbermann i have these distinguish it will be great help if you can share how assume can be used"},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1490367582,"post_id":14082103,"comment_id":73094795,"body_markdown":"@arjun what do mean exactly? More detail please","body":"@arjun what do mean exactly? More detail please"},{"owner":{"account_id":4824882,"reputation":263,"user_id":3894580,"accept_rate":75,"display_name":"Arjun Prajapati"},"score":0,"creation_date":1490416032,"post_id":14082103,"comment_id":73114423,"body_markdown":"@Bohemian i am having same problem like you i have many method in one class i need to write single testcase class where i can have test method for each and every method. but how can i manage different parameter for each and every method available in Testclass","body":"@Bohemian i am having same problem like you i have many method in one class i need to write single testcase class where i can have test method for each and every method. but how can i manage different parameter for each and every method available in Testclass"}],"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":7,"down_vote_count":4,"up_vote_count":13,"is_accepted":true,"score":9,"last_activity_date":1356804785,"creation_date":1356787365,"answer_id":14082103,"question_id":14082004,"body_markdown":"Yes. There&#39;s nothing special you have to do. For every set of value(s) of the parameters, each @Test method is run once, so just have one method test add() and another method test subtract().\r\n\r\nMay I also add that the person who is dictating this requirement is misguided. There is little value in dictating certain design patterns &quot;for all cases&quot; - might as well hire trained monkeys.","title":"Create multiple parameter sets in one parameterized class (junit)","body":"<p>Yes. There's nothing special you have to do. For every set of value(s) of the parameters, each @Test method is run once, so just have one method test add() and another method test subtract().</p>\n\n<p>May I also add that the person who is dictating this requirement is misguided. There is little value in dictating certain design patterns \"for all cases\" - might as well hire trained monkeys.</p>\n"},{"comments":[{"owner":{"account_id":7383129,"reputation":2481,"user_id":5619076,"accept_rate":33,"display_name":"OlivierTerrien"},"score":0,"creation_date":1498941065,"post_id":14082217,"comment_id":76709699,"body_markdown":"Since Java8, it is possible to repeat the same annotation. Do you know whether this feature exists?","body":"Since Java8, it is possible to repeat the same annotation. Do you know whether this feature exists?"},{"owner":{"account_id":1109371,"reputation":14160,"user_id":1100135,"accept_rate":53,"display_name":"piotrek"},"score":0,"creation_date":1499031756,"post_id":14082217,"comment_id":76729316,"body_markdown":"i don&#39;t understand your question. how do you want to use repeating annotation to solve the OP question using any of above libs?","body":"i don&#39;t understand your question. how do you want to use repeating annotation to solve the OP question using any of above libs?"},{"owner":{"account_id":7383129,"reputation":2481,"user_id":5619076,"accept_rate":33,"display_name":"OlivierTerrien"},"score":0,"creation_date":1499033299,"post_id":14082217,"comment_id":76729668,"body_markdown":"I would like something like \n@TestWith(&quot;1, 7, 8&quot;)\n@TestWith(&quot;2, 9, 11&quot;)\npublic void addTest(int number1, int number2, int expectedResult) {\n    BigDecimal result = calculator.add(number1, number2);\n    assertThat(result).isEqualTo...\n}","body":"I would like something like  @TestWith(&quot;1, 7, 8&quot;) @TestWith(&quot;2, 9, 11&quot;) public void addTest(int number1, int number2, int expectedResult) {     BigDecimal result = calculator.add(number1, number2);     assertThat(result).isEqualTo... }"},{"owner":{"account_id":1109371,"reputation":14160,"user_id":1100135,"accept_rate":53,"display_name":"piotrek"},"score":0,"creation_date":1499038128,"post_id":14082217,"comment_id":76730528,"body_markdown":"nope, zohhak doesn&#39;t support it. others, i&#39;m not sure but i don&#39;t think so","body":"nope, zohhak doesn&#39;t support it. others, i&#39;m not sure but i don&#39;t think so"}],"tags":[],"owner":{"account_id":1109371,"reputation":14160,"user_id":1100135,"accept_rate":53,"display_name":"piotrek"},"comment_count":4,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1441626985,"creation_date":1356788408,"answer_id":14082217,"question_id":14082004,"body_markdown":"you can use parameters with https://github.com/piotrturski/zohhak:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    @TestWith({\r\n       &quot;1, 7, 8&quot;,\r\n       &quot;2, 9, 11&quot;\r\n    })\r\n    public void addTest(int number1, int number2, int expectedResult) {\r\n        BigDecimal result = calculator.add(number1, number2);\r\n        assertThat(result).isEqualTo...\r\n    }\r\n\r\nif you want to load parameters from file, you can use http://code.google.com/p/fuzztester/ or http://code.google.com/p/junitparams/\r\n\r\nand if you need real flexibility you can use junit&#39;s @Parameterized but it clutters your code.\r\nyou can also use junit&#39;s Theories - but it seems an overkill for calculator tests","title":"Create multiple parameter sets in one parameterized class (junit)","body":"<p>you can use parameters with <a href=\"https://github.com/piotrturski/zohhak\" rel=\"noreferrer\">https://github.com/piotrturski/zohhak</a>:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@TestWith({\n   \"1, 7, 8\",\n   \"2, 9, 11\"\n})\npublic void addTest(int number1, int number2, int expectedResult) {\n    BigDecimal result = calculator.add(number1, number2);\n    assertThat(result).isEqualTo...\n}\n</code></pre>\n\n<p>if you want to load parameters from file, you can use <a href=\"http://code.google.com/p/fuzztester/\" rel=\"noreferrer\">http://code.google.com/p/fuzztester/</a> or <a href=\"http://code.google.com/p/junitparams/\" rel=\"noreferrer\">http://code.google.com/p/junitparams/</a></p>\n\n<p>and if you need real flexibility you can use junit's @Parameterized but it clutters your code.\nyou can also use junit's Theories - but it seems an overkill for calculator tests</p>\n"},{"comments":[{"owner":{"account_id":2134379,"reputation":7299,"user_id":1894517,"accept_rate":79,"display_name":"Vinay Prajapati"},"score":0,"creation_date":1518681355,"post_id":25465014,"comment_id":84607179,"body_markdown":"this approach fails or will have redundant empty data in case i have more cases for add than substract.","body":"this approach fails or will have redundant empty data in case i have more cases for add than substract."},{"owner":{"account_id":989178,"reputation":3110,"user_id":1042273,"accept_rate":85,"display_name":"Tarek"},"score":0,"creation_date":1518801238,"post_id":25465014,"comment_id":84667657,"body_markdown":"yes, with JUnit&#39;s 4 Parameterized runner you&#39;d need to have the same number of cases for each test, or you&#39;d need to create two different test classes with their own parameter. Junit 5 finally has a new @ParameterizedTest that allows you to provide values per test, not per class.","body":"yes, with JUnit&#39;s 4 Parameterized runner you&#39;d need to have the same number of cases for each test, or you&#39;d need to create two different test classes with their own parameter. Junit 5 finally has a new @ParameterizedTest that allows you to provide values per test, not per class."}],"tags":[],"owner":{"account_id":989178,"reputation":3110,"user_id":1042273,"accept_rate":85,"display_name":"Tarek"},"comment_count":2,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1408818151,"creation_date":1408818151,"answer_id":25465014,"question_id":14082004,"body_markdown":"I&#39;m sure you are not having this problem anymore, but I thought of 3 ways you can do this, each with its pros and cons. With the Parameterized runner, you&#39;ll have to use a workaround.\r\n\r\n#- Using more parameters with Parameterized\r\n\r\nIn case you have to load the parameters externally, you simply add a parameter for the expected results.\r\n\r\n**Pros**: less coding, and it runs all the tests.\r\n\r\n**Cons**: new parameters for each different set of tests.\r\n\r\n    @RunWith(Parameterized.class)\r\n    public class CalculatorTest extends TestCase {\r\n        private Calculator calculator;\r\n        private int operator1;\r\n        private int operator2;\r\n        private int expectedSum;\r\n        private int expectedSub;\r\n\r\n        public CalculatorTest(int operator1, int operator2, int expectedSum, int expectedSub) {\r\n            this.operator1 = operator1;\r\n            this.operator2 = operator2;\r\n        }\r\n\r\n        @Params\r\n        public static Collection&lt;Object[]&gt; setParameters() {\r\n            Collection&lt;Object[]&gt; params = new ArrayList&lt;&gt;();\r\n            // load the external params here\r\n            // this is an example\r\n            params.add(new Object[] {2, 1, 3, 1});\r\n            params.add(new Object[] {5, 2, 7, 3});\r\n\r\n            return params;\r\n        }\r\n\r\n        @Before\r\n        public void createCalculator() {\r\n            calculator = new Calculator();\r\n        }\r\n\r\n        @Test\r\n        public void addShouldAddTwoNumbers() {\r\n            assertEquals(expectedSum, calculator.add(operator1, operator2));\r\n        }\r\n\r\n        @Test\r\n        public void subtractShouldSubtractTwoNumbers() {\r\n            assertEquals(expectedSub, calculator.subtract(operator1, operator2));\r\n        }\r\n\r\n        @After\r\n        public void endTest() {\r\n            calculator = null;\r\n            operator1 = null;\r\n            operator2 = null;\r\n            expectedSum = null;\r\n            expectedSub = null;\r\n        }\r\n    }\r\n\r\n#- Not using Parameterized runner\r\n\r\nThis works fine if you set your parameters programatically.\r\n\r\n**Pros**: You can have as many tests as you want without having to set a huge set of parameters.\r\n\r\n**Cons**: More coding, and it stops at the first failure (which might not be a con).\r\n\r\n    @RunWith(JUnit4.class)\r\n    public class CalculatorTest extends TestCase {\r\n        private Calculator calculator;\r\n\r\n        @Before\r\n        public void createCalculator() {\r\n            calculator = new Calculator();\r\n        }\r\n\r\n        @Test\r\n        public void addShouldAddTwoNumbers() {\r\n            int[] operator1 = {1, 3, 5};\r\n            int[] operator2 = {2, 7, 9};\r\n            int[] expectedResults = {3, 10, 14};\r\n\r\n            for (int i = 0; i &lt; operator1.length; i++) {\r\n                int actualResult = calculator.add(operator1[i], operator2[i]);\r\n                assertEquals(expectedResults[i], actualResult);\r\n            }\r\n        }\r\n\r\n        @Test\r\n        public void subtractShouldSubtractTwoNumbers() {\r\n            int[] operator1 = {5, 8, 7};\r\n            int[] operator2 = {1, 2, 10};\r\n            int[] expectedResults = {4, 6, -3};\r\n\r\n            for (int i = 0; i &lt; operator1.length; i++) {\r\n                int actualResult = calculator.subtract(operator1[i], operator2[i]);\r\n                assertEquals(expectedResults[i], actualResult);\r\n            }\r\n        }\r\n\r\n        @After\r\n        public void endTest() {\r\n            calculator = null;\r\n        }\r\n    }\r\n\r\n#- Using JUnitParams\r\n\r\nI have no affiliation with Pragmatists, I just found this a few days ago. This framework runs on top of JUnit and handles parameterized tests differently. Parameters are passed directly to the test method, so you can have in the same class different params for different methods.\r\n\r\n**Pros**: achieves the same results as the solutions above without workarounds.\r\n\r\n**Cons**: maybe your company doesn&#39;t allow you add a new dependency to the project or forces you to use some bizarre coding rule (like using the Parameterized runners exclusively). Let&#39;s face it, it happens more than we&#39;d like to.\r\n\r\n[Here][1]&#39;s a fine example of JUnitParams in action, and you can get the project/check the code on this [Github][2] page.\r\n\r\n\r\n  [1]: http://www.javacodegeeks.com/2013/12/parameterized-junit-tests-with-junitparams.html\r\n  [2]: https://github.com/Pragmatists/junitparams","title":"Create multiple parameter sets in one parameterized class (junit)","body":"<p>I'm sure you are not having this problem anymore, but I thought of 3 ways you can do this, each with its pros and cons. With the Parameterized runner, you'll have to use a workaround.</p>\n\n<h1>- Using more parameters with Parameterized</h1>\n\n<p>In case you have to load the parameters externally, you simply add a parameter for the expected results.</p>\n\n<p><strong>Pros</strong>: less coding, and it runs all the tests.</p>\n\n<p><strong>Cons</strong>: new parameters for each different set of tests.</p>\n\n<pre><code>@RunWith(Parameterized.class)\npublic class CalculatorTest extends TestCase {\n    private Calculator calculator;\n    private int operator1;\n    private int operator2;\n    private int expectedSum;\n    private int expectedSub;\n\n    public CalculatorTest(int operator1, int operator2, int expectedSum, int expectedSub) {\n        this.operator1 = operator1;\n        this.operator2 = operator2;\n    }\n\n    @Params\n    public static Collection&lt;Object[]&gt; setParameters() {\n        Collection&lt;Object[]&gt; params = new ArrayList&lt;&gt;();\n        // load the external params here\n        // this is an example\n        params.add(new Object[] {2, 1, 3, 1});\n        params.add(new Object[] {5, 2, 7, 3});\n\n        return params;\n    }\n\n    @Before\n    public void createCalculator() {\n        calculator = new Calculator();\n    }\n\n    @Test\n    public void addShouldAddTwoNumbers() {\n        assertEquals(expectedSum, calculator.add(operator1, operator2));\n    }\n\n    @Test\n    public void subtractShouldSubtractTwoNumbers() {\n        assertEquals(expectedSub, calculator.subtract(operator1, operator2));\n    }\n\n    @After\n    public void endTest() {\n        calculator = null;\n        operator1 = null;\n        operator2 = null;\n        expectedSum = null;\n        expectedSub = null;\n    }\n}\n</code></pre>\n\n<h1>- Not using Parameterized runner</h1>\n\n<p>This works fine if you set your parameters programatically.</p>\n\n<p><strong>Pros</strong>: You can have as many tests as you want without having to set a huge set of parameters.</p>\n\n<p><strong>Cons</strong>: More coding, and it stops at the first failure (which might not be a con).</p>\n\n<pre><code>@RunWith(JUnit4.class)\npublic class CalculatorTest extends TestCase {\n    private Calculator calculator;\n\n    @Before\n    public void createCalculator() {\n        calculator = new Calculator();\n    }\n\n    @Test\n    public void addShouldAddTwoNumbers() {\n        int[] operator1 = {1, 3, 5};\n        int[] operator2 = {2, 7, 9};\n        int[] expectedResults = {3, 10, 14};\n\n        for (int i = 0; i &lt; operator1.length; i++) {\n            int actualResult = calculator.add(operator1[i], operator2[i]);\n            assertEquals(expectedResults[i], actualResult);\n        }\n    }\n\n    @Test\n    public void subtractShouldSubtractTwoNumbers() {\n        int[] operator1 = {5, 8, 7};\n        int[] operator2 = {1, 2, 10};\n        int[] expectedResults = {4, 6, -3};\n\n        for (int i = 0; i &lt; operator1.length; i++) {\n            int actualResult = calculator.subtract(operator1[i], operator2[i]);\n            assertEquals(expectedResults[i], actualResult);\n        }\n    }\n\n    @After\n    public void endTest() {\n        calculator = null;\n    }\n}\n</code></pre>\n\n<h1>- Using JUnitParams</h1>\n\n<p>I have no affiliation with Pragmatists, I just found this a few days ago. This framework runs on top of JUnit and handles parameterized tests differently. Parameters are passed directly to the test method, so you can have in the same class different params for different methods.</p>\n\n<p><strong>Pros</strong>: achieves the same results as the solutions above without workarounds.</p>\n\n<p><strong>Cons</strong>: maybe your company doesn't allow you add a new dependency to the project or forces you to use some bizarre coding rule (like using the Parameterized runners exclusively). Let's face it, it happens more than we'd like to.</p>\n\n<p><a href=\"http://www.javacodegeeks.com/2013/12/parameterized-junit-tests-with-junitparams.html\">Here</a>'s a fine example of JUnitParams in action, and you can get the project/check the code on this <a href=\"https://github.com/Pragmatists/junitparams\">Github</a> page.</p>\n"},{"comments":[{"owner":{"account_id":291407,"reputation":1525,"user_id":593533,"accept_rate":17,"display_name":"Henno Vermeulen"},"score":3,"creation_date":1439280435,"post_id":26525585,"comment_id":51783571,"body_markdown":"An elegant workaround. This is like saying &quot;this test method applies only to this data set&quot;. This allows the flexibility to have e.g. 2 test methods that use data set 1 and 3 test methods that use data set 2.","body":"An elegant workaround. This is like saying &quot;this test method applies only to this data set&quot;. This allows the flexibility to have e.g. 2 test methods that use data set 1 and 3 test methods that use data set 2."},{"owner":{"account_id":1416455,"reputation":1818,"user_id":1342086,"accept_rate":70,"display_name":"rj2700"},"score":2,"creation_date":1501090447,"post_id":26525585,"comment_id":77629727,"body_markdown":"Nice solution - but what happens if each test case requires a different constructor?","body":"Nice solution - but what happens if each test case requires a different constructor?"},{"owner":{"account_id":2623942,"reputation":1814,"user_id":2271388,"display_name":"nessa.gp"},"score":1,"creation_date":1503658976,"post_id":26525585,"comment_id":78718137,"body_markdown":"@robjob27 I think you could have inner classes for the parameters:\n`{ Type.SUBSTRACT, new ParamsSubstract(3,2), 1},\n{ Type.SQROOT, new ParamsSquareRoot(4), 2}});`\nWith the Params classes inheriting from a common class `Params` that is part of the constructor:\n`public CalculatorTest(Type type, Params params, Double expected){..}`\nBut it might complicate everything too much, at that point I would consider whether it is worth to have one class for everything.","body":"@robjob27 I think you could have inner classes for the parameters: <code>{ Type.SUBSTRACT, new ParamsSubstract(3,2), 1}, { Type.SQROOT, new ParamsSquareRoot(4), 2}});</code> With the Params classes inheriting from a common class <code>Params</code> that is part of the constructor: <code>public CalculatorTest(Type type, Params params, Double expected){..}</code> But it might complicate everything too much, at that point I would consider whether it is worth to have one class for everything."},{"owner":{"account_id":2134379,"reputation":7299,"user_id":1894517,"accept_rate":79,"display_name":"Vinay Prajapati"},"score":0,"creation_date":1518681262,"post_id":26525585,"comment_id":84607124,"body_markdown":"I didn&#39;t like this approach and it has assumptions and  basically we are running both the test cases each time hence 4 test cases are run while i wanted only two test cases.","body":"I didn&#39;t like this approach and it has assumptions and  basically we are running both the test cases each time hence 4 test cases are run while i wanted only two test cases."},{"owner":{"account_id":1687948,"reputation":4617,"user_id":1550852,"accept_rate":73,"display_name":"Core_Dumped"},"score":0,"creation_date":1541288454,"post_id":26525585,"comment_id":93166077,"body_markdown":"OR use switch-case statements in the same Test method that pattern match with the Enum. That way you only have to run a single test","body":"OR use switch-case statements in the same Test method that pattern match with the Enum. That way you only have to run a single test"}],"tags":[],"owner":{"account_id":2623942,"reputation":1814,"user_id":2271388,"display_name":"nessa.gp"},"comment_count":5,"down_vote_count":1,"up_vote_count":69,"is_accepted":false,"score":68,"last_activity_date":1414058141,"creation_date":1414058141,"answer_id":26525585,"question_id":14082004,"body_markdown":"This answer is similar to Tarek&#39;s one (the parametrized part), although I think it is a bit more extensible. Also solves your problem and you won&#39;t have failed tests if everything is correct:\r\n\r\n    @RunWith(Parameterized.class)\r\n    public class CalculatorTest {\r\n        enum Type {SUBSTRACT, ADD};\r\n        @Parameters\r\n        public static Collection&lt;Object[]&gt; data(){\r\n            return Arrays.asList(new Object[][] {\r\n              {Type.SUBSTRACT, 3.0, 2.0, 1.0},\r\n              {Type.ADD, 23.0, 5.0, 28.0}\r\n            });\r\n        }\r\n     \r\n        private Type type;\r\n        private Double a, b, expected;\r\n    \r\n        public CalculatorTest(Type type, Double a, Double b, Double expected){\r\n            this.type = type;\r\n            this.a=a; this.b=b; this.expected=expected;\r\n        }\r\n    \r\n        @Test\r\n        public void testAdd(){\r\n            Assume.assumeTrue(type == Type.ADD);\r\n            assertEquals(expected, Calculator.add(a, b));\r\n        }\r\n\r\n        @Test\r\n        public void testSubstract(){\r\n            Assume.assumeTrue(type == Type.SUBSTRACT);\r\n            assertEquals(expected, Calculator.substract(a, b));\r\n        }\r\n    }","title":"Create multiple parameter sets in one parameterized class (junit)","body":"<p>This answer is similar to Tarek's one (the parametrized part), although I think it is a bit more extensible. Also solves your problem and you won't have failed tests if everything is correct:</p>\n\n<pre><code>@RunWith(Parameterized.class)\npublic class CalculatorTest {\n    enum Type {SUBSTRACT, ADD};\n    @Parameters\n    public static Collection&lt;Object[]&gt; data(){\n        return Arrays.asList(new Object[][] {\n          {Type.SUBSTRACT, 3.0, 2.0, 1.0},\n          {Type.ADD, 23.0, 5.0, 28.0}\n        });\n    }\n\n    private Type type;\n    private Double a, b, expected;\n\n    public CalculatorTest(Type type, Double a, Double b, Double expected){\n        this.type = type;\n        this.a=a; this.b=b; this.expected=expected;\n    }\n\n    @Test\n    public void testAdd(){\n        Assume.assumeTrue(type == Type.ADD);\n        assertEquals(expected, Calculator.add(a, b));\n    }\n\n    @Test\n    public void testSubstract(){\n        Assume.assumeTrue(type == Type.SUBSTRACT);\n        assertEquals(expected, Calculator.substract(a, b));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6606513,"reputation":1158,"user_id":5103183,"accept_rate":50,"display_name":"Alex"},"comment_count":0,"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1517578553,"creation_date":1517578553,"answer_id":48583861,"question_id":14082004,"body_markdown":"Another pure JUnit but yet elegant solution in my view is to encapsulate each parameterized test(s) in their own inner static class and use the [Enclosed][1] test runner on the top level test class. This allows you not only to use different parameter values for each test independently of each other but also to test methods with completely different parameters.\r\n\r\nThis is how it would look like:\r\n\r\n    @RunWith(Enclosed.class)\r\n    public class CalculatorTest {\r\n\r\n      @RunWith(Parameterized.class)\r\n      public static class AddTest {\r\n\r\n        @Parameters\r\n        public static Collection&lt;Object[]&gt; data() {\r\n          return Arrays.asList(new Object[][] {\r\n              { 23.0, 5.0, 28.0 }\r\n          });\r\n        }\r\n\r\n        private Double a, b, expected;\r\n\r\n        public AddTest(Double a, Double b, Double expected) {\r\n          this.a = a;\r\n          this.b = b;\r\n          this.expected = expected;\r\n        }\r\n\r\n        @Test\r\n        public void testAdd() {\r\n          assertEquals(expected, Calculator.add(a, b));\r\n        }\r\n      }\r\n\r\n      @RunWith(Parameterized.class)\r\n      public static class SubstractTest {\r\n\r\n        @Parameters\r\n        public static Collection&lt;Object[]&gt; data() {\r\n          return Arrays.asList(new Object[][] {\r\n              { 3.0, 2.0, 1.0 }\r\n          });\r\n        }\r\n\r\n        @Parameter(0)\r\n        private Double a;\r\n        @Parameter(1)\r\n        private Double b;\r\n        @Parameter(2)\r\n        private Double expected;\r\n\r\n        @Test\r\n        public void testSubstract() {\r\n          assertEquals(expected, Calculator.substract(a, b));\r\n        }\r\n      }\r\n\r\n      @RunWith(Parameterized.class)\r\n      public static class MethodWithOtherParametersTest {\r\n\r\n        @Parameters\r\n        public static Collection&lt;Object[]&gt; data() {\r\n          return Arrays.asList(new Object[][] {\r\n              { 3.0, 2.0, &quot;OTHER&quot;, 1.0 }\r\n          });\r\n        }\r\n\r\n        private Double a;\r\n        private BigDecimal b;\r\n        private String other;\r\n        private Double expected;\r\n\r\n        public MethodWithOtherParametersTest(Double a, BigDecimal b, String other, Double expected) {\r\n          this.a = a;\r\n          this.b = b;\r\n          this.other = other;\r\n          this.expected = expected;\r\n        }\r\n\r\n        @Test\r\n        public void testMethodWithOtherParametersTest() {\r\n          assertEquals(expected, Calculator.methodWithOtherParametersTest(a, b, other));\r\n        }\r\n      }\r\n\r\n      public static class OtherNonParameterizedTests {\r\n\r\n        // here you can add any other test which is not parameterized\r\n\r\n        @Test\r\n        public void otherTest() {\r\n          // test something else\r\n        }\r\n      }\r\n    }\r\n\r\nNote the usage of the `@Parameter` annotation in the `SubstractTest`, which I consider more readable. But this is more a matter of taste.\r\n\r\n  [1]: http://junit.org/junit4/javadoc/4.12/org/junit/experimental/runners/Enclosed.html","title":"Create multiple parameter sets in one parameterized class (junit)","body":"<p>Another pure JUnit but yet elegant solution in my view is to encapsulate each parameterized test(s) in their own inner static class and use the <a href=\"http://junit.org/junit4/javadoc/4.12/org/junit/experimental/runners/Enclosed.html\" rel=\"noreferrer\">Enclosed</a> test runner on the top level test class. This allows you not only to use different parameter values for each test independently of each other but also to test methods with completely different parameters.</p>\n\n<p>This is how it would look like:</p>\n\n<pre><code>@RunWith(Enclosed.class)\npublic class CalculatorTest {\n\n  @RunWith(Parameterized.class)\n  public static class AddTest {\n\n    @Parameters\n    public static Collection&lt;Object[]&gt; data() {\n      return Arrays.asList(new Object[][] {\n          { 23.0, 5.0, 28.0 }\n      });\n    }\n\n    private Double a, b, expected;\n\n    public AddTest(Double a, Double b, Double expected) {\n      this.a = a;\n      this.b = b;\n      this.expected = expected;\n    }\n\n    @Test\n    public void testAdd() {\n      assertEquals(expected, Calculator.add(a, b));\n    }\n  }\n\n  @RunWith(Parameterized.class)\n  public static class SubstractTest {\n\n    @Parameters\n    public static Collection&lt;Object[]&gt; data() {\n      return Arrays.asList(new Object[][] {\n          { 3.0, 2.0, 1.0 }\n      });\n    }\n\n    @Parameter(0)\n    private Double a;\n    @Parameter(1)\n    private Double b;\n    @Parameter(2)\n    private Double expected;\n\n    @Test\n    public void testSubstract() {\n      assertEquals(expected, Calculator.substract(a, b));\n    }\n  }\n\n  @RunWith(Parameterized.class)\n  public static class MethodWithOtherParametersTest {\n\n    @Parameters\n    public static Collection&lt;Object[]&gt; data() {\n      return Arrays.asList(new Object[][] {\n          { 3.0, 2.0, \"OTHER\", 1.0 }\n      });\n    }\n\n    private Double a;\n    private BigDecimal b;\n    private String other;\n    private Double expected;\n\n    public MethodWithOtherParametersTest(Double a, BigDecimal b, String other, Double expected) {\n      this.a = a;\n      this.b = b;\n      this.other = other;\n      this.expected = expected;\n    }\n\n    @Test\n    public void testMethodWithOtherParametersTest() {\n      assertEquals(expected, Calculator.methodWithOtherParametersTest(a, b, other));\n    }\n  }\n\n  public static class OtherNonParameterizedTests {\n\n    // here you can add any other test which is not parameterized\n\n    @Test\n    public void otherTest() {\n      // test something else\n    }\n  }\n}\n</code></pre>\n\n<p>Note the usage of the <code>@Parameter</code> annotation in the <code>SubstractTest</code>, which I consider more readable. But this is more a matter of taste.</p>\n"},{"comments":[{"owner":{"account_id":12695732,"reputation":3378,"user_id":9224219,"display_name":"Datz"},"score":1,"creation_date":1630483791,"post_id":52139694,"comment_id":121965210,"body_markdown":"I think, the annotation `@MethodSource` has *[ no longer | not ]* the field `names` but just the field `value`","body":"I think, the annotation <code>@MethodSource</code> has <i>[ no longer | not ]</i> the field <code>names</code> but just the field <code>value</code>"},{"owner":{"account_id":3369285,"reputation":591,"user_id":2828977,"display_name":"Ankit Singodia"},"score":0,"creation_date":1652594823,"post_id":52139694,"comment_id":127640661,"body_markdown":"Change incorporated.","body":"Change incorporated."}],"tags":[],"owner":{"account_id":3369285,"reputation":591,"user_id":2828977,"display_name":"Ankit Singodia"},"comment_count":2,"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1652594773,"creation_date":1535911078,"answer_id":52139694,"question_id":14082004,"body_markdown":"Well, now **JUnit-5** offers you a solution for this - by redefining a way to write parameterized tests.\r\nNow a parameterized test can be defined at a method level using **@ParameterizedTest** and can be given a method source using  **@MethodSource.**\r\n\r\nSo in your case you can have 2 separate data source methods for providing input data for your add() and subtract() test methods, both in the same class. Your code should go something like this:\r\n\r\n    public class CalculatorTest{\r\n        public static int[][] dataSetForAdd() {\r\n            return new int[][] { { 1 , 2, 3 }, { 2, 4, 6 }, { 121, 4, 125 } };\r\n        }\r\n        \r\n        public static int[][] dataSetForSubtract() {\r\n            return new int[][] { { 1 , 2, -1 }, { 2, 4, -2 }, { 121, 4, 117 } };\r\n        }\r\n\r\n        @ParameterizedTest\r\n        @MethodSource(value = &quot;dataSetForAdd&quot;)\r\n        void testCalculatorAddMethod(int[] dataSetForAdd) {\r\n            Calculator calculator= new Calculator();\r\n            int m1 = dataSetForAdd[0];\r\n            int m2 = dataSetForAdd[1];\r\n            int expected = dataSetForAdd[2];\r\n            assertEquals(expected, calculator.add(m1, m2));\r\n        }\r\n\r\n        @ParameterizedTest\r\n        @MethodSource(value = &quot;dataSetForSubtract&quot;)\r\n        void testCalculatorAddMethod(int[] dataSetForSubtract) {\r\n            Calculator calculator= new Calculator();\r\n            int m1 = dataSetForSubtract[0];\r\n            int m2 = dataSetForSubtract[1];\r\n            int expected = dataSetForSubtract[2];\r\n            assertEquals(expected, calculator.subtract(m1, m2));\r\n        }\r\n    }\r\n","title":"Create multiple parameter sets in one parameterized class (junit)","body":"<p>Well, now <strong>JUnit-5</strong> offers you a solution for this - by redefining a way to write parameterized tests.\nNow a parameterized test can be defined at a method level using <strong>@ParameterizedTest</strong> and can be given a method source using  <strong>@MethodSource.</strong></p>\n<p>So in your case you can have 2 separate data source methods for providing input data for your add() and subtract() test methods, both in the same class. Your code should go something like this:</p>\n<pre><code>public class CalculatorTest{\n    public static int[][] dataSetForAdd() {\n        return new int[][] { { 1 , 2, 3 }, { 2, 4, 6 }, { 121, 4, 125 } };\n    }\n    \n    public static int[][] dataSetForSubtract() {\n        return new int[][] { { 1 , 2, -1 }, { 2, 4, -2 }, { 121, 4, 117 } };\n    }\n\n    @ParameterizedTest\n    @MethodSource(value = &quot;dataSetForAdd&quot;)\n    void testCalculatorAddMethod(int[] dataSetForAdd) {\n        Calculator calculator= new Calculator();\n        int m1 = dataSetForAdd[0];\n        int m2 = dataSetForAdd[1];\n        int expected = dataSetForAdd[2];\n        assertEquals(expected, calculator.add(m1, m2));\n    }\n\n    @ParameterizedTest\n    @MethodSource(value = &quot;dataSetForSubtract&quot;)\n    void testCalculatorAddMethod(int[] dataSetForSubtract) {\n        Calculator calculator= new Calculator();\n        int m1 = dataSetForSubtract[0];\n        int m2 = dataSetForSubtract[1];\n        int expected = dataSetForSubtract[2];\n        assertEquals(expected, calculator.subtract(m1, m2));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12688691,"reputation":101,"user_id":9219598,"display_name":"Fox user9219598"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1556306770,"creation_date":1541611636,"answer_id":53194701,"question_id":14082004,"body_markdown":"With Junit Jupiter:\r\nhttps://www.petrikainulainen.net/programming/testing/junit-5-tutorial-writing-parameterized-tests/\r\n    \r\n    import intf.ICalculator;\r\n    \r\n    public class Calculator implements ICalculator {\r\n        @Override\r\n        public int plus(int a, int b) {return a + b; }\r\n    \r\n        @Override\r\n        public int minuis(int a, int b) {return a - b;}\r\n    \r\n        @Override\r\n        public int multy(int a, int b) {return a * b;}\r\n    \r\n        @Override  // check in junit byZero\r\n        public int divide(int a, int b) {return a / b;}\r\n    \r\n    }\r\n\r\nTest class:\r\n\r\n    import static org.junit.Assert.assertEquals;\r\n    \r\n    import org.junit.jupiter.api.DisplayName;\r\n    import org.junit.jupiter.params.ParameterizedTest;\r\n    import org.junit.jupiter.params.provider.CsvSource;\r\n    \r\n    class CalculatorJupiter5Test {\r\n    \r\n        Calculator calculator = new Calculator();\r\n        \r\n        @DisplayName(&quot;Should calculate the correct sum&quot;)\r\n        @ParameterizedTest(name = &quot;{index} =&gt; a={0}, b={1}, sum={2}&quot;)\r\n        @CsvSource({\r\n                &quot;5, 3, 8&quot;,\r\n                &quot;1, 3, 4&quot;,\r\n                &quot;6, 6, 12&quot;,\r\n                &quot;2, 3, 5&quot;\r\n        })\r\n        void sum(int a, int b, int sum) {\r\n            assertEquals(sum, calculator.plus(a, b) );\r\n        }\r\n        \r\n        @DisplayName(&quot;Should calculate the correct multy&quot;)\r\n        @ParameterizedTest(name = &quot;{index} =&gt; a={0}, b={1}, multy={2}&quot;)\r\n        @CsvSource({\r\n            &quot;5, 3, 15&quot;,\r\n            &quot;1, 3, 3&quot;,\r\n            &quot;6, 6, 36&quot;,\r\n            &quot;2, 3, 6&quot;\r\n        })\r\n        void multy(int a, int b, int multy) {\r\n            assertEquals(multy, calculator.multy(a, b) );\r\n        }\r\n        \r\n        @DisplayName(&quot;Should calculate the correct divide&quot;)\r\n        @ParameterizedTest(name = &quot;{index} =&gt; a={0}, b={1}, divide={2}&quot;)\r\n        @CsvSource({\r\n            &quot;5, 3, 1&quot;,\r\n            &quot;14, 3, 4&quot;,\r\n            &quot;6, 6, 1&quot;,\r\n            &quot;36, 2,  18&quot;\r\n        })\r\n        void divide(int a, int b, int divide) {\r\n            assertEquals(divide, calculator.divide(a, b) );\r\n        }\r\n\r\n       @DisplayName(&quot;Should calculate the correct divide by zero&quot;)\r\n       @ParameterizedTest(name = &quot;{index} =&gt; a={0}, b={1}, divide={2}&quot;)\r\n       @CsvSource({\r\n          &quot;5, 0, 0&quot;,\r\n       })\r\n        void divideByZero(int a, int b, int divide) {\r\n         assertThrows(ArithmeticException.class,\r\n             () -&gt; calculator.divide(a , b),\r\n             () -&gt; &quot;divide by zero&quot;);\r\n        }\r\n        \r\n        @DisplayName(&quot;Should calculate the correct minuis&quot;)\r\n        @ParameterizedTest(name = &quot;{index} =&gt; a={0}, b={1}, minuis={2}&quot;)\r\n        @CsvSource({\r\n            &quot;5, 3, 2&quot;,\r\n            &quot;1, 3, -2&quot;,\r\n            &quot;6, 6, 0&quot;,\r\n            &quot;2, 3, -1&quot;\r\n        })\r\n        void minuis(int a, int b, int minuis) {\r\n            assertEquals(minuis, calculator.minuis(a, b) );\r\n        }\r\n    }","title":"Create multiple parameter sets in one parameterized class (junit)","body":"<p>With Junit Jupiter:\n<a href=\"https://www.petrikainulainen.net/programming/testing/junit-5-tutorial-writing-parameterized-tests/\" rel=\"nofollow noreferrer\">https://www.petrikainulainen.net/programming/testing/junit-5-tutorial-writing-parameterized-tests/</a></p>\n\n<pre><code>import intf.ICalculator;\n\npublic class Calculator implements ICalculator {\n    @Override\n    public int plus(int a, int b) {return a + b; }\n\n    @Override\n    public int minuis(int a, int b) {return a - b;}\n\n    @Override\n    public int multy(int a, int b) {return a * b;}\n\n    @Override  // check in junit byZero\n    public int divide(int a, int b) {return a / b;}\n\n}\n</code></pre>\n\n<p>Test class:</p>\n\n<pre><code>import static org.junit.Assert.assertEquals;\n\nimport org.junit.jupiter.api.DisplayName;\nimport org.junit.jupiter.params.ParameterizedTest;\nimport org.junit.jupiter.params.provider.CsvSource;\n\nclass CalculatorJupiter5Test {\n\n    Calculator calculator = new Calculator();\n\n    @DisplayName(\"Should calculate the correct sum\")\n    @ParameterizedTest(name = \"{index} =&gt; a={0}, b={1}, sum={2}\")\n    @CsvSource({\n            \"5, 3, 8\",\n            \"1, 3, 4\",\n            \"6, 6, 12\",\n            \"2, 3, 5\"\n    })\n    void sum(int a, int b, int sum) {\n        assertEquals(sum, calculator.plus(a, b) );\n    }\n\n    @DisplayName(\"Should calculate the correct multy\")\n    @ParameterizedTest(name = \"{index} =&gt; a={0}, b={1}, multy={2}\")\n    @CsvSource({\n        \"5, 3, 15\",\n        \"1, 3, 3\",\n        \"6, 6, 36\",\n        \"2, 3, 6\"\n    })\n    void multy(int a, int b, int multy) {\n        assertEquals(multy, calculator.multy(a, b) );\n    }\n\n    @DisplayName(\"Should calculate the correct divide\")\n    @ParameterizedTest(name = \"{index} =&gt; a={0}, b={1}, divide={2}\")\n    @CsvSource({\n        \"5, 3, 1\",\n        \"14, 3, 4\",\n        \"6, 6, 1\",\n        \"36, 2,  18\"\n    })\n    void divide(int a, int b, int divide) {\n        assertEquals(divide, calculator.divide(a, b) );\n    }\n\n   @DisplayName(\"Should calculate the correct divide by zero\")\n   @ParameterizedTest(name = \"{index} =&gt; a={0}, b={1}, divide={2}\")\n   @CsvSource({\n      \"5, 0, 0\",\n   })\n    void divideByZero(int a, int b, int divide) {\n     assertThrows(ArithmeticException.class,\n         () -&gt; calculator.divide(a , b),\n         () -&gt; \"divide by zero\");\n    }\n\n    @DisplayName(\"Should calculate the correct minuis\")\n    @ParameterizedTest(name = \"{index} =&gt; a={0}, b={1}, minuis={2}\")\n    @CsvSource({\n        \"5, 3, 2\",\n        \"1, 3, -2\",\n        \"6, 6, 0\",\n        \"2, 3, -1\"\n    })\n    void minuis(int a, int b, int minuis) {\n        assertEquals(minuis, calculator.minuis(a, b) );\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5745825,"reputation":11553,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1554801565,"creation_date":1554801565,"answer_id":55589272,"question_id":14082004,"body_markdown":"I use `junitparams`, which permits me to pass distinct set of params in each tests. JunitParams uses methods to return set of params, and in the test, you provide the method names as source of param input, so changing the method name will change data set.\r\n\r\n    import com.xx.xx.xx.Transaction;\r\n    import junitparams.JUnitParamsRunner;\r\n    import junitparams.Parameters;\r\n    import org.junit.Before;\r\n    import org.junit.Test;\r\n    import org.junit.runner.RunWith;\r\n    \r\n    import javax.validation.ConstraintViolation;\r\n    import javax.validation.Validation;\r\n    import javax.validation.Validator;\r\n    import javax.validation.ValidatorFactory;\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    import java.util.Set;\r\n    \r\n    import static org.junit.Assert.assertFalse;\r\n    import static org.junit.Assert.assertTrue;\r\n    \r\n    \r\n    @RunWith(JUnitParamsRunner.class)\r\n    public class IpAddressValidatorTest {\r\n    \r\n        private Validator validator;\r\n    \r\n        @Before\r\n        public void setUp() {\r\n            ValidatorFactory factory = Validation.buildDefaultValidatorFactory();\r\n            validator = factory.getValidator();\r\n    \r\n        }\r\n    \r\n        public static List&lt;String&gt; goodData() {\r\n            return Arrays.asList(\r\n                    &quot;10.10.10.10&quot;,\r\n                    &quot;127.0.0.1&quot;,\r\n                    &quot;10.136.182.1&quot;,\r\n                    &quot;192.168.1.1&quot;,\r\n                    &quot;192.168.1.1&quot;,\r\n                    &quot;1.1.1.1&quot;,\r\n                    &quot;0.0.0.0&quot;\r\n            );\r\n        }\r\n    \r\n        public static List&lt;String&gt; badData() {\r\n            return Arrays.asList(\r\n                    &quot;01.01.01.01&quot;,\r\n                    &quot;255.255.255.256&quot;,\r\n                    &quot;127.1&quot;,\r\n                    &quot;192.168.0.0&quot;\r\n            );\r\n        }\r\n    \r\n        @Test\r\n        @Parameters(method = &quot;goodData&quot;)\r\n        public void ipAddressShouldBeValidated_AndIsValid(String ipAddress) {\r\n            Transaction transaction = new Transaction();\r\n            transaction.setIpAddress(ipAddress);\r\n            Set&lt;ConstraintViolation&lt;Transaction&gt;&gt; violations = validator.validateProperty(transaction, &quot;ipAddress&quot;);\r\n            assertTrue(violations.isEmpty());\r\n        }\r\n    \r\n        @Test\r\n        @Parameters(method = &quot;badData&quot;)\r\n        public void ipAddressShouldBeValidated_AndIsNotValid(String ipAddress) {\r\n            Transaction transaction = new Transaction();\r\n            transaction.setIpAddress(ipAddress);\r\n            Set&lt;ConstraintViolation&lt;Transaction&gt;&gt; violations = validator.validateProperty(transaction, &quot;ipAddress&quot;);\r\n            assertFalse(violations.isEmpty());\r\n        }\r\n    \r\n    \r\n    }","title":"Create multiple parameter sets in one parameterized class (junit)","body":"<p>I use <code>junitparams</code>, which permits me to pass distinct set of params in each tests. JunitParams uses methods to return set of params, and in the test, you provide the method names as source of param input, so changing the method name will change data set.</p>\n\n<pre><code>import com.xx.xx.xx.Transaction;\nimport junitparams.JUnitParamsRunner;\nimport junitparams.Parameters;\nimport org.junit.Before;\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\n\nimport javax.validation.ConstraintViolation;\nimport javax.validation.Validation;\nimport javax.validation.Validator;\nimport javax.validation.ValidatorFactory;\nimport java.util.Arrays;\nimport java.util.List;\nimport java.util.Set;\n\nimport static org.junit.Assert.assertFalse;\nimport static org.junit.Assert.assertTrue;\n\n\n@RunWith(JUnitParamsRunner.class)\npublic class IpAddressValidatorTest {\n\n    private Validator validator;\n\n    @Before\n    public void setUp() {\n        ValidatorFactory factory = Validation.buildDefaultValidatorFactory();\n        validator = factory.getValidator();\n\n    }\n\n    public static List&lt;String&gt; goodData() {\n        return Arrays.asList(\n                \"10.10.10.10\",\n                \"127.0.0.1\",\n                \"10.136.182.1\",\n                \"192.168.1.1\",\n                \"192.168.1.1\",\n                \"1.1.1.1\",\n                \"0.0.0.0\"\n        );\n    }\n\n    public static List&lt;String&gt; badData() {\n        return Arrays.asList(\n                \"01.01.01.01\",\n                \"255.255.255.256\",\n                \"127.1\",\n                \"192.168.0.0\"\n        );\n    }\n\n    @Test\n    @Parameters(method = \"goodData\")\n    public void ipAddressShouldBeValidated_AndIsValid(String ipAddress) {\n        Transaction transaction = new Transaction();\n        transaction.setIpAddress(ipAddress);\n        Set&lt;ConstraintViolation&lt;Transaction&gt;&gt; violations = validator.validateProperty(transaction, \"ipAddress\");\n        assertTrue(violations.isEmpty());\n    }\n\n    @Test\n    @Parameters(method = \"badData\")\n    public void ipAddressShouldBeValidated_AndIsNotValid(String ipAddress) {\n        Transaction transaction = new Transaction();\n        transaction.setIpAddress(ipAddress);\n        Set&lt;ConstraintViolation&lt;Transaction&gt;&gt; violations = validator.validateProperty(transaction, \"ipAddress\");\n        assertFalse(violations.isEmpty());\n    }\n\n\n}\n</code></pre>\n"}],"owner":{"account_id":2095246,"reputation":43828,"user_id":1864167,"accept_rate":90,"display_name":"Jeroen Vannevel"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107434,"favorite_count":0,"down_vote_count":1,"up_vote_count":70,"accepted_answer_id":14082103,"answer_count":8,"score":69,"last_activity_date":1690455410,"creation_date":1356786638,"question_id":14082004,"body_markdown":"Currently I have to create a parameterized test class for every method that I want to test with several different inputs. Is there a way to add this together in one file?\r\n\r\nRight now there&#39;s `CalculatorTestAdd.java` which has a set of parameters that are used to check if the `Add()` function works properly. Is there a possbility for me to &#39;connect&#39; this set to the `Add()` function and create an additional set meant for the `Subtract()` method and add this method in the same test class, resulting in one file called `CalculatorTest.java`?\r\n","title":"Create multiple parameter sets in one parameterized class (junit)","body":"<p>Currently I have to create a parameterized test class for every method that I want to test with several different inputs. Is there a way to add this together in one file?</p>\n\n<p>Right now there's <code>CalculatorTestAdd.java</code> which has a set of parameters that are used to check if the <code>Add()</code> function works properly. Is there a possbility for me to 'connect' this set to the <code>Add()</code> function and create an additional set meant for the <code>Subtract()</code> method and add this method in the same test class, resulting in one file called <code>CalculatorTest.java</code>?</p>\n"},{"tags":["java","mapping","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690454885,"creation_date":1690454885,"answer_id":76778992,"question_id":65286310,"body_markdown":"On mapping method level you can add:\r\n\r\n    @BeanMapping(unmappedTargetPolicy = ReportingPolicy.IGNORE)\r\n\r\nDocumentation:\r\n- [MapStruct configuration options][1]\r\n\r\n  [1]: https://mapstruct.org/documentation/stable/reference/html/#configuration-options","title":"How to ignore unmapped target properties using @InheritInverseConfiguration and unmappedTargetPolicy = ReportingPolicy.ERROR","body":"<p>On mapping method level you can add:</p>\n<pre><code>@BeanMapping(unmappedTargetPolicy = ReportingPolicy.IGNORE)\n</code></pre>\n<p>Documentation:</p>\n<ul>\n<li><a href=\"https://mapstruct.org/documentation/stable/reference/html/#configuration-options\" rel=\"nofollow noreferrer\">MapStruct configuration options</a></li>\n</ul>\n"}],"owner":{"account_id":20207775,"reputation":61,"user_id":14821676,"display_name":"ash"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3301,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1690454885,"creation_date":1607937189,"question_id":65286310,"body_markdown":"I use MapStruct mapper to do the following things:\r\n\r\n 1. map entity to DTO\r\n 1. map DTO to entity for create and update operations\r\n\r\nI set `unmappedTargetPolicy = ReportingPolicy.ERROR` in MapperConfig to be notified if something is not mapped.\r\n\r\nEntity to DTO mapping maps all DTO&#39;s target fields automatically. I want to apply exactly the same set of fields in inverse mapping (DTO to entity). So it&#39;s OK to ignore unmapped target fields in this given case. I use `@InheritInverseConfiguration` for the inverted mapping. It works but I have to explicitly add `@Mapping(target = &quot;field1&quot;, ignore = true)` to skip entity&#39;s target fields not existing in DTO. \r\n\r\nHow to avoid adding ignore mappings manually for `@InheritInverseConfiguration`? I can think of applying `unmappedTargetPolicy = ReportingPolicy.IGNORE` on mapping method level and/or `@InheritInverseConfiguration` level. I didn&#39;t find such possibility in MapStruct annotations.\r\n\r\n    @MapperConfig(componentModel = &quot;spring&quot;, unmappedTargetPolicy = ReportingPolicy.ERROR,\r\n            typeConversionPolicy = ReportingPolicy.ERROR)\r\n    public interface CommonMapperConfig {\r\n    }\r\n\r\n\r\n    @Mapper(config = CommonMapperConfig.class)\r\n    public interface AnimalMapper {\r\n    \r\n        AnimalDto getAnimal(Animal animal);\r\n    \r\n        @InheritInverseConfiguration\r\n        @Mapping(target = &quot;id&quot;, ignore = true)\r\n        // todo how to avoid explicitly ignore of field?\r\n        @Mapping(target = &quot;field1&quot;, ignore = true)\r\n        @Mapping(target = &quot;field2&quot;, ignore = true)\r\n        Animal createAnimal(AnimalDto animalDto);\r\n    \r\n        @InheritConfiguration\r\n        void updateAnimal(AnimalDto animalDto, @MappingTarget Animal animal);\r\n    \r\n    }\r\n\r\n---\r\n\r\nUpdate 1. I found a workaround based on an example in git https://github.com/mapstruct/mapstruct-examples/blob/master/mapstruct-suppress-unmapped/src/main/java/org/mapstruct/jpa/SourceTargetMapper.java\r\n. The trick is to use additional mapper with `unmappedTargetPolicy = ReportingPolicy.IGNORE`. \r\n\r\nInteresting thing is the \r\n\r\n```\r\n@Mapper(config = CommonMapperConfig.class, uses = AnimalMapper.ChangeAnimalMapper.class)\r\npublic abstract class AnimalMapper {\r\n\r\n    @Autowired\r\n    ChangeAnimalMapper changeAnimalMapper;\r\n\r\n    public abstract AnimalDto getAnimal(Animal animal);\r\n\r\n    public Animal createAnimal(AnimalDto animalDto) {\r\n        return changeAnimalMapper.createAnimal(animalDto);\r\n    }\r\n\r\n    public void updateAnimal(AnimalDto animalDto, @MappingTarget Animal animal) {\r\n        changeAnimalMapper.updateAnimal(animalDto, animal);\r\n    }\r\n\r\n    /**\r\n     * Internal mapper to avoid unmapped target errors for inverse mappings\r\n     */\r\n    @Mapper(config = CommonMapperConfig.class, unmappedTargetPolicy = ReportingPolicy.IGNORE)\r\n    public interface ChangeAnimalMapper {\r\n\r\n        @InheritInverseConfiguration\r\n        @Mapping(target = &quot;id&quot;, ignore = true)\r\n        Animal createAnimal(AnimalDto animalDto);\r\n\r\n        @InheritConfiguration\r\n        void updateAnimal(AnimalDto animalDto, @MappingTarget Animal animal);\r\n\r\n    }\r\n\r\n}\r\n```","title":"How to ignore unmapped target properties using @InheritInverseConfiguration and unmappedTargetPolicy = ReportingPolicy.ERROR","body":"<p>I use MapStruct mapper to do the following things:</p>\n<ol>\n<li>map entity to DTO</li>\n<li>map DTO to entity for create and update operations</li>\n</ol>\n<p>I set <code>unmappedTargetPolicy = ReportingPolicy.ERROR</code> in MapperConfig to be notified if something is not mapped.</p>\n<p>Entity to DTO mapping maps all DTO's target fields automatically. I want to apply exactly the same set of fields in inverse mapping (DTO to entity). So it's OK to ignore unmapped target fields in this given case. I use <code>@InheritInverseConfiguration</code> for the inverted mapping. It works but I have to explicitly add <code>@Mapping(target = &quot;field1&quot;, ignore = true)</code> to skip entity's target fields not existing in DTO.</p>\n<p>How to avoid adding ignore mappings manually for <code>@InheritInverseConfiguration</code>? I can think of applying <code>unmappedTargetPolicy = ReportingPolicy.IGNORE</code> on mapping method level and/or <code>@InheritInverseConfiguration</code> level. I didn't find such possibility in MapStruct annotations.</p>\n<pre><code>@MapperConfig(componentModel = &quot;spring&quot;, unmappedTargetPolicy = ReportingPolicy.ERROR,\n        typeConversionPolicy = ReportingPolicy.ERROR)\npublic interface CommonMapperConfig {\n}\n\n\n@Mapper(config = CommonMapperConfig.class)\npublic interface AnimalMapper {\n\n    AnimalDto getAnimal(Animal animal);\n\n    @InheritInverseConfiguration\n    @Mapping(target = &quot;id&quot;, ignore = true)\n    // todo how to avoid explicitly ignore of field?\n    @Mapping(target = &quot;field1&quot;, ignore = true)\n    @Mapping(target = &quot;field2&quot;, ignore = true)\n    Animal createAnimal(AnimalDto animalDto);\n\n    @InheritConfiguration\n    void updateAnimal(AnimalDto animalDto, @MappingTarget Animal animal);\n\n}\n</code></pre>\n<hr />\n<p>Update 1. I found a workaround based on an example in git <a href=\"https://github.com/mapstruct/mapstruct-examples/blob/master/mapstruct-suppress-unmapped/src/main/java/org/mapstruct/jpa/SourceTargetMapper.java\" rel=\"nofollow noreferrer\">https://github.com/mapstruct/mapstruct-examples/blob/master/mapstruct-suppress-unmapped/src/main/java/org/mapstruct/jpa/SourceTargetMapper.java</a>\n. The trick is to use additional mapper with <code>unmappedTargetPolicy = ReportingPolicy.IGNORE</code>.</p>\n<p>Interesting thing is the</p>\n<pre><code>@Mapper(config = CommonMapperConfig.class, uses = AnimalMapper.ChangeAnimalMapper.class)\npublic abstract class AnimalMapper {\n\n    @Autowired\n    ChangeAnimalMapper changeAnimalMapper;\n\n    public abstract AnimalDto getAnimal(Animal animal);\n\n    public Animal createAnimal(AnimalDto animalDto) {\n        return changeAnimalMapper.createAnimal(animalDto);\n    }\n\n    public void updateAnimal(AnimalDto animalDto, @MappingTarget Animal animal) {\n        changeAnimalMapper.updateAnimal(animalDto, animal);\n    }\n\n    /**\n     * Internal mapper to avoid unmapped target errors for inverse mappings\n     */\n    @Mapper(config = CommonMapperConfig.class, unmappedTargetPolicy = ReportingPolicy.IGNORE)\n    public interface ChangeAnimalMapper {\n\n        @InheritInverseConfiguration\n        @Mapping(target = &quot;id&quot;, ignore = true)\n        Animal createAnimal(AnimalDto animalDto);\n\n        @InheritConfiguration\n        void updateAnimal(AnimalDto animalDto, @MappingTarget Animal animal);\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","automated-tests","pom.xml","surefire","test-suite"],"answers":[{"tags":[],"owner":{"account_id":293898,"reputation":12995,"user_id":597473,"display_name":"Piotrek Bzdyl"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1430476017,"creation_date":1430476017,"answer_id":29985252,"question_id":29984775,"body_markdown":"Consult the [surefire plugin documentation][1]. It provides a way to specify that certain tests are not thread safe by using `@NotThreadSafe` annotation.\r\n\r\nAnother solution is to specify two separate surefire executions with explicit [test inclusions and exclusions][2]. One execution could run in parallel mode including the thread safe suites, the other those non thread safe.\r\n\r\n\r\n  [1]: https://maven.apache.org/surefire/maven-surefire-plugin/examples/fork-options-and-parallel-execution.html\r\n  [2]: https://maven.apache.org/surefire/maven-surefire-plugin/examples/inclusion-exclusion.html","title":"Surefire run certain tests in sequence, others in parallel","body":"<p>Consult the <a href=\"https://maven.apache.org/surefire/maven-surefire-plugin/examples/fork-options-and-parallel-execution.html\" rel=\"noreferrer\">surefire plugin documentation</a>. It provides a way to specify that certain tests are not thread safe by using <code>@NotThreadSafe</code> annotation.</p>\n\n<p>Another solution is to specify two separate surefire executions with explicit <a href=\"https://maven.apache.org/surefire/maven-surefire-plugin/examples/inclusion-exclusion.html\" rel=\"noreferrer\">test inclusions and exclusions</a>. One execution could run in parallel mode including the thread safe suites, the other those non thread safe.</p>\n"},{"tags":[],"owner":{"account_id":6576761,"reputation":4412,"user_id":5082504,"accept_rate":68,"display_name":"Jake"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1455350669,"creation_date":1455350669,"answer_id":35377576,"question_id":29984775,"body_markdown":"Yes,\r\n\r\nPut each sequential test in its own suite and all parallel tests together in a suite. Then set parallel attribite to classes.\r\n\r\n&lt;!-- begin snippet: js hide: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n     &lt;configuration&gt;\r\n    \t\t&lt;includes&gt;\r\n    \t\t\t&lt;include&gt;**/A01TestSuite.java&lt;/include&gt;\r\n    \t\t\t&lt;include&gt;**/A02ServiceTestSuite.java&lt;/include&gt;\r\n    \t\t\t&lt;include&gt;**/A03FlowTestSuite.java&lt;/include&gt;\r\n    \t\t&lt;/includes&gt;\r\n    \t\t&lt;additionalClasspathElements&gt;\r\n    \t\t\t&lt;additionalClasspathElement&gt;${webinf.dir\r\n                   &lt;/additionalClasspathElement&gt;\r\n    \t\t\t&lt;/additionalClasspathElements&gt;\r\n    \t\t&lt;systemPropertyVariables&gt;\r\n    \t\t       &lt;log4j.configuration&gt;file:${l4j.test}/log4j.test.properties&lt;/log4j.configuration&gt;\r\n    \t\t&lt;/systemPropertyVariables&gt;\r\n    \t\t&lt;forkMode&gt;always&lt;/forkMode&gt;\r\n    \t\t&lt;argLine&gt;-Xms512m -Xmx512m&lt;/argLine&gt;\r\n    \t\t&lt;parallel&gt;classes&lt;/parallel&gt;\r\n    \t\t&lt;threadCount&gt;10&lt;/threadCount&gt;\r\n\r\n    &lt;/configuration&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Surefire run certain tests in sequence, others in parallel","body":"<p>Yes,</p>\n\n<p>Put each sequential test in its own suite and all parallel tests together in a suite. Then set parallel attribite to classes.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code> &lt;configuration&gt;\r\n\t\t&lt;includes&gt;\r\n\t\t\t&lt;include&gt;**/A01TestSuite.java&lt;/include&gt;\r\n\t\t\t&lt;include&gt;**/A02ServiceTestSuite.java&lt;/include&gt;\r\n\t\t\t&lt;include&gt;**/A03FlowTestSuite.java&lt;/include&gt;\r\n\t\t&lt;/includes&gt;\r\n\t\t&lt;additionalClasspathElements&gt;\r\n\t\t\t&lt;additionalClasspathElement&gt;${webinf.dir\r\n               &lt;/additionalClasspathElement&gt;\r\n\t\t\t&lt;/additionalClasspathElements&gt;\r\n\t\t&lt;systemPropertyVariables&gt;\r\n\t\t       &lt;log4j.configuration&gt;file:${l4j.test}/log4j.test.properties&lt;/log4j.configuration&gt;\r\n\t\t&lt;/systemPropertyVariables&gt;\r\n\t\t&lt;forkMode&gt;always&lt;/forkMode&gt;\r\n\t\t&lt;argLine&gt;-Xms512m -Xmx512m&lt;/argLine&gt;\r\n\t\t&lt;parallel&gt;classes&lt;/parallel&gt;\r\n\t\t&lt;threadCount&gt;10&lt;/threadCount&gt;\r\n\r\n&lt;/configuration&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":2557024,"reputation":163,"user_id":2218775,"display_name":"Sridivakar"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1690454858,"creation_date":1546358717,"answer_id":53996915,"question_id":29984775,"body_markdown":"We can achieve by defining multiple `executions`\r\n  \r\n&lt;!-- language-all: lang-xml --&gt;\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;id&gt;unit-test&lt;/id&gt;\r\n                &lt;phase&gt;unit-test&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;test&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;parallel&gt;methods&lt;/parallel&gt;\r\n                    &lt;threadCount&gt;4&lt;/threadCount&gt;\r\n                    &lt;perCoreThreadCount&gt;true&lt;/perCoreThreadCount&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;!-- run all UTs (non-ITs) parallel --&gt;\r\n                        &lt;exclude&gt;**/*IT.java&lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/execution&gt;\r\n            &lt;execution&gt;\r\n                &lt;id&gt;integration-test&lt;/id&gt;\r\n                &lt;phase&gt;integration-test&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;test&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\t\t\t\t\t\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;none&lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                    &lt;includes&gt;\r\n                        &lt;!-- run integration tests sequentially --&gt;\r\n                        &lt;include&gt;**/*IT.java&lt;/include&gt;\r\n                    &lt;/includes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n","title":"Surefire run certain tests in sequence, others in parallel","body":"<p>We can achieve by defining multiple <code>executions</code></p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;unit-test&lt;/id&gt;\n            &lt;phase&gt;unit-test&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;test&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;parallel&gt;methods&lt;/parallel&gt;\n                &lt;threadCount&gt;4&lt;/threadCount&gt;\n                &lt;perCoreThreadCount&gt;true&lt;/perCoreThreadCount&gt;\n                &lt;excludes&gt;\n                    &lt;!-- run all UTs (non-ITs) parallel --&gt;\n                    &lt;exclude&gt;**/*IT.java&lt;/exclude&gt;\n                &lt;/excludes&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n        &lt;execution&gt;\n            &lt;id&gt;integration-test&lt;/id&gt;\n            &lt;phase&gt;integration-test&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;test&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;                 \n                &lt;excludes&gt;\n                    &lt;exclude&gt;none&lt;/exclude&gt;\n                &lt;/excludes&gt;\n                &lt;includes&gt;\n                    &lt;!-- run integration tests sequentially --&gt;\n                    &lt;include&gt;**/*IT.java&lt;/include&gt;\n                &lt;/includes&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":2598794,"reputation":1110,"user_id":2251797,"accept_rate":81,"display_name":"Mattias"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6509,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":29985252,"answer_count":3,"score":4,"last_activity_date":1690454858,"creation_date":1430474095,"question_id":29984775,"body_markdown":"Is there a way to make certain tests run in in sequence with the surefire plugin for JUnit? Currently it is running all tests in parallel, but some tests are very hard to convert and it would be sufficient if they didn&#39;t run in parallel. Here is a part of  our pom.xml:\r\n\r\n    &lt;plugin&gt;\r\n    \t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n    \t&lt;version&gt;2.17&lt;/version&gt;\r\n    \t&lt;dependencies&gt;\r\n\t      &lt;dependency&gt;\r\n\t    \t&lt;groupId&gt;org.apache.maven.surefire&lt;/groupId&gt;\r\n\t    \t&lt;artifactId&gt;surefire-junit47&lt;/artifactId&gt;\r\n\t    \t&lt;version&gt;2.17&lt;/version&gt;\r\n\t      &lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \t&lt;configuration&gt;\r\n\t    \t&lt;parallel&gt;all&lt;/parallel&gt;\r\n\t    \t&lt;threadCount&gt;8&lt;/threadCount&gt;\r\n\t      &lt;includes&gt;\r\n\t    \t&lt;include&gt;${includeTest}&lt;/include&gt;\r\n\t    \t&lt;include&gt;${includeAdditionalTest}&lt;/include&gt;\r\n\t      &lt;/includes&gt;\r\n    \t&lt;/configuration&gt;\r\n    &lt;/plugin&gt;","title":"Surefire run certain tests in sequence, others in parallel","body":"<p>Is there a way to make certain tests run in in sequence with the surefire plugin for JUnit? Currently it is running all tests in parallel, but some tests are very hard to convert and it would be sufficient if they didn't run in parallel. Here is a part of  our pom.xml:</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.17&lt;/version&gt;\n    &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.maven.surefire&lt;/groupId&gt;\n        &lt;artifactId&gt;surefire-junit47&lt;/artifactId&gt;\n        &lt;version&gt;2.17&lt;/version&gt;\n      &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;configuration&gt;\n        &lt;parallel&gt;all&lt;/parallel&gt;\n        &lt;threadCount&gt;8&lt;/threadCount&gt;\n      &lt;includes&gt;\n        &lt;include&gt;${includeTest}&lt;/include&gt;\n        &lt;include&gt;${includeAdditionalTest}&lt;/include&gt;\n      &lt;/includes&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":["java","eclipse","jdbc","h2"],"comments":[{"owner":{"account_id":135720,"reputation":2208,"user_id":338784,"accept_rate":75,"display_name":"Jihed Amine"},"score":0,"creation_date":1430588890,"post_id":30005446,"comment_id":48129537,"body_markdown":"Do you have a ClassNotFound exception in the stack trace ?","body":"Do you have a ClassNotFound exception in the stack trace ?"},{"owner":{"account_id":5755025,"reputation":265,"user_id":4543284,"accept_rate":18,"display_name":"Sarpy"},"score":0,"creation_date":1430589027,"post_id":30005446,"comment_id":48129570,"body_markdown":"I don&#39;t, I have only SQL exception","body":"I don&#39;t, I have only SQL exception"},{"owner":{"account_id":386122,"reputation":4332,"user_id":743716,"accept_rate":40,"display_name":"Rafal G."},"score":2,"creation_date":1430592413,"post_id":30005446,"comment_id":48130692,"body_markdown":"And what happens if you use: Class.forName(&quot;org.h2.Driver&quot;).newInstance(); in the first line of your method? It should register the required driver in DriverManager.","body":"And what happens if you use: Class.forName(&quot;org.h2.Driver&quot;).newInstance(); in the first line of your method? It should register the required driver in DriverManager."},{"owner":{"account_id":5755025,"reputation":265,"user_id":4543284,"accept_rate":18,"display_name":"Sarpy"},"score":0,"creation_date":1430592916,"post_id":30005446,"comment_id":48130847,"body_markdown":"When I did as you said, by putting that line of code into try-catch block, it worked. Thank you. I will look up documentation on that to learn what it does.","body":"When I did as you said, by putting that line of code into try-catch block, it worked. Thank you. I will look up documentation on that to learn what it does."},{"owner":{"account_id":44321,"reputation":9248,"user_id":130028,"accept_rate":79,"display_name":"marcolopes"},"score":0,"creation_date":1430713899,"post_id":30005446,"comment_id":48162455,"body_markdown":"You should not need to create a NEW instance. Class.forName(&quot;org.h2.Driver&quot;) is enough.","body":"You should not need to create a NEW instance. Class.forName(&quot;org.h2.Driver&quot;) is enough."}],"answers":[{"comments":[{"owner":{"account_id":3699650,"reputation":228,"user_id":3079849,"display_name":"Guangliang"},"score":3,"creation_date":1490229818,"post_id":30103707,"comment_id":73024495,"body_markdown":"I inserted the line but instead getting an ClassNotFound execption.","body":"I inserted the line but instead getting an ClassNotFound execption."}],"tags":[],"owner":{"account_id":161745,"reputation":49245,"user_id":382763,"accept_rate":92,"display_name":"Thomas Mueller"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1431008032,"creation_date":1431008032,"answer_id":30103707,"question_id":30005446,"body_markdown":"The JDBC driver for the H2 database is not in the classpath, or the driver is is unloaded. Use this to load the driver class:\r\n\r\n    Class.forName(&quot;org.h2.Driver&quot;);","title":"No suitable driver found for jdbc:h2:tcp","body":"<p>The JDBC driver for the H2 database is not in the classpath, or the driver is is unloaded. Use this to load the driver class:</p>\n\n<pre><code>Class.forName(\"org.h2.Driver\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21071281,"reputation":86,"user_id":15487484,"display_name":"Albert Bici"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690454000,"creation_date":1690454000,"answer_id":76778870,"question_id":30005446,"body_markdown":"you have to write:\r\n\r\n```java\r\nDriverManager driver = DriverManager.getConnection(url,username, pw);\r\ndriver.setDriverClassName(&quot;org.h2.Driver&quot;);\r\n```","title":"No suitable driver found for jdbc:h2:tcp","body":"<p>you have to write:</p>\n<pre class=\"lang-java prettyprint-override\"><code>DriverManager driver = DriverManager.getConnection(url,username, pw);\ndriver.setDriverClassName(&quot;org.h2.Driver&quot;);\n</code></pre>\n"}],"owner":{"account_id":5755025,"reputation":265,"user_id":4543284,"accept_rate":18,"display_name":"Sarpy"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8912,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1690454000,"creation_date":1430588385,"question_id":30005446,"body_markdown":"an java.sql.SQLException: No suitable driver found for jdbc:h2:tcp://localhost/~/ZadatakDB is thrown when I try to connect to h2 database using a java web application.\r\n\r\nI can use H2 console without any issue, and pinging is successfull.\r\n\r\nI&#39;ve also added h2-1.3.176 jar file to Libraries AND to WEB-INF/lib.\r\n\r\nHere is my Java method I am using to connect:\r\n\r\n    private static Connection connectToDatabase() throws SQLException,\r\n\t\t\tIOException {\r\n\t\t\r\n\t\tString url = &quot;jdbc:h2:tcp://localhost/~/ZadatakDB&quot;;\r\n\t\tString username = &quot;student&quot;;\r\n\t\tString pw = &quot;student&quot;;\r\n\t\tConnection connection = DriverManager.getConnection(url,\r\n\t\t\t\tusername, pw);\r\n\t\treturn connection;\r\n\t}\r\n\r\nWhat could I be missing?\r\n\r\nI will also add StackTrace:\r\n\r\n    java.sql.SQLException: No suitable driver found for jdbc:h2:tcp://localhost/~/ZadatakDB\r\n    at java.sql.DriverManager.getConnection(DriverManager.java:689)\r\n\tat java.sql.DriverManager.getConnection(DriverManager.java:247)\r\n\tat hr.web.aplikacija.DatabaseUtils.connectToDatabase(DatabaseUtils.java:20)\r\n\tat hr.web.aplikacija.DatabaseUtils.insertForm(DatabaseUtils.java:38)\r\n\tat hr.web.aplikacije.servlet.KorisnikServlet.doPost(KorisnikServlet.java:68)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:648)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:729)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:291)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:219)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:106)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:142)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)\r\n\tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:610)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:88)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:518)\r\n\tat org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1091)\r\n\tat org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:668)\r\n\tat org.apache.coyote.http11.Http11NioProtocol$Http11ConnectionHandler.process(Http11NioProtocol.java:223)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1517)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1474)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.lang.Thread.run(Thread.java:745)","title":"No suitable driver found for jdbc:h2:tcp","body":"<p>an java.sql.SQLException: No suitable driver found for jdbc:h2:tcp://localhost/~/ZadatakDB is thrown when I try to connect to h2 database using a java web application.</p>\n\n<p>I can use H2 console without any issue, and pinging is successfull.</p>\n\n<p>I've also added h2-1.3.176 jar file to Libraries AND to WEB-INF/lib.</p>\n\n<p>Here is my Java method I am using to connect:</p>\n\n<pre><code>private static Connection connectToDatabase() throws SQLException,\n        IOException {\n\n    String url = \"jdbc:h2:tcp://localhost/~/ZadatakDB\";\n    String username = \"student\";\n    String pw = \"student\";\n    Connection connection = DriverManager.getConnection(url,\n            username, pw);\n    return connection;\n}\n</code></pre>\n\n<p>What could I be missing?</p>\n\n<p>I will also add StackTrace:</p>\n\n<pre><code>java.sql.SQLException: No suitable driver found for jdbc:h2:tcp://localhost/~/ZadatakDB\nat java.sql.DriverManager.getConnection(DriverManager.java:689)\nat java.sql.DriverManager.getConnection(DriverManager.java:247)\nat hr.web.aplikacija.DatabaseUtils.connectToDatabase(DatabaseUtils.java:20)\nat hr.web.aplikacija.DatabaseUtils.insertForm(DatabaseUtils.java:38)\nat hr.web.aplikacije.servlet.KorisnikServlet.doPost(KorisnikServlet.java:68)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:648)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:729)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:291)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\nat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:219)\nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:106)\nat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:142)\nat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)\nat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:610)\nat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:88)\nat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:518)\nat org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1091)\nat org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:668)\nat org.apache.coyote.http11.Http11NioProtocol$Http11ConnectionHandler.process(Http11NioProtocol.java:223)\nat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1517)\nat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1474)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\nat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\nat java.lang.Thread.run(Thread.java:745)\n</code></pre>\n"},{"tags":["java","image","netbeans","rectangles","flappy-bird-clone"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1690452463,"post_id":76778147,"comment_id":135357117,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1690456944,"post_id":76778147,"comment_id":135358031,"body_markdown":"Replace `g.fillRect(bird.x, bird.y, bird.width, bird.height);` with `g.drawImage` - see [Reading/Loading an Image](https://docs.oracle.com/javase/tutorial/2d/images/loadimage.html) for information about loading images; see [Drawing an Image](https://docs.oracle.com/javase/tutorial/2d/images/drawimage.html) for more about drawing an image","body":"Replace <code>g.fillRect(bird.x, bird.y, bird.width, bird.height);</code> with <code>g.drawImage</code> - see <a href=\"https://docs.oracle.com/javase/tutorial/2d/images/loadimage.html\" rel=\"nofollow noreferrer\">Reading/Loading an Image</a> for information about loading images; see <a href=\"https://docs.oracle.com/javase/tutorial/2d/images/drawimage.html\" rel=\"nofollow noreferrer\">Drawing an Image</a> for more about drawing an image"}],"owner":{"account_id":29101471,"reputation":1,"user_id":22293208,"display_name":"user22293208"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690453624,"creation_date":1690448666,"question_id":76778147,"body_markdown":"&gt; I have a rectangle to represent my bird, i used a tutorial for my bird and pipes but i understand that the Rectangle class has x,y,width and height as its parameters. I am not too sure how to replicate that using an image. My main issue is finding a way to replace the bird &quot;rectangle&quot; with an image without effecting the code. \r\n&gt; All the code related to bird as a rectangle:\r\n\r\n\r\n```\r\n\r\n\r\npublic class FlappyBird implements ActionListener,MouseListener, KeyListener {\r\n\r\n    public static FlappyBird flappybird;\r\n    public static final int WIDTH = 800, HEIGHT = 800;\r\n    //object to call methods from Renderer\r\n    public static FlappyBirdUI1 render;\r\n    public static Rectangle bird;\r\n   \r\n  public static  int in, bmotion,scores;\r\n    public boolean gameOver;\r\n    public boolean started;\r\n    \r\n    \r\n    public ArrayList&lt;Rectangle&gt; pipes;\r\n    public static GameOverTest Gover= new GameOverTest();\r\n    JFrame jframe = new JFrame();\r\n     \r\n\r\n    public FlappyBird() {\r\n        \r\n        JPanel jpanel= new JPanel();\r\n        Timer timer = new Timer(20, this);// used to ensure it repaints throught a schedule timer\r\n        render = new FlappyBirdUI1();\r\n\r\n        jframe.add(render);\r\n        \r\n        jframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        \r\n        jframe.setResizable(false);\r\n        //jframe.setSize(WIDTH, HEIGHT);\r\n        jframe.setSize(new java.awt.Dimension(WIDTH, HEIGHT));\r\n        jframe.setLocationRelativeTo(null);\r\n        jframe.addMouseListener(this);\r\n\r\n\r\n         \r\n        jframe.setVisible(true);\r\n        \r\n        //using a rectangle as the &quot;bird&quot;\r\n        //REPLACE WITH IMAGE OF BIRD\r\n        bird = new Rectangle(WIDTH / 2 - 10, HEIGHT / 2 - 10, 20, 20);\r\n        \r\n        pipes = new ArrayList&lt;Rectangle&gt;();\r\n        addpipe(true);\r\n        addpipe(true);\r\n        addpipe(true);\r\n        addpipe(true);\r\n\r\n        // gsettings.setBounds(0, HEIGHT, 30, 25);\r\n        \r\n        timer.start();\r\n    }\r\n    \r\n   \r\n    \r\n   \r\n\r\n\r\n    public void jump(){\r\n        \r\n        \r\n        if (gameOver){\r\n             bird = new Rectangle(WIDTH / 2 - 10, HEIGHT / 2 - 10, 20, 20);\r\n             \r\n        pipes.clear();\r\n        bmotion=0;\r\n        scores=0; \r\n        \r\n        addpipe(true);\r\n        addpipe(true);\r\n        addpipe(true);\r\n        addpipe(true);\r\n        \r\n            gameOver=false;\r\n        }\r\n        if(!started){\r\n            started=true;\r\n        }else if(!gameOver){\r\n            if(bmotion&gt;0){\r\n                bmotion=0;\r\n            }\r\n               bmotion-=10;    \r\n        }\r\n    }\r\n    \r\n`\r\n```\r\n\r\n&gt; here is the rest of my code to give an understanding of how often it is used and to show the need for an x,y,width and height. \r\n\r\n    @Override\r\n    public void actionPerformed(ActionEvent e) {\r\n\r\n        in++;\r\n        //speed of repaint / moving forwrd\r\n        int speed = 10;\r\n        if (started == true) {\r\n            for (int i = 0; i &lt; pipes.size(); i++) {\r\n                Rectangle pipe = pipes.get(i);\r\n                pipe.x -= speed;\r\n\r\n            }\r\n            if (in % 2 == 0 &amp;&amp; bmotion &lt; 15) {\r\n                bmotion += 2;\r\n            }\r\n            for (int i = 0; i &lt; pipes.size() - 1; i++) {\r\n                Rectangle pipe = pipes.get(i);\r\n\r\n                //x+width is the amnt of the screen he pipe takes\r\n                if (pipe.x + pipe.width &lt; 0) {\r\n                    pipes.remove(pipe);\r\n                    if (pipe.y == 0) {\r\n                        addpipe(false);\r\n                    }\r\n\r\n                }\r\n            }\r\n            bird.y += bmotion;\r\n\r\n            //colon is like a while there are more objects in the Rectangle pipe arraylist etc\r\n            for (Rectangle pipe : pipes) {\r\n                \r\n                if(pipe.y==0&amp;&amp; bird.x+ bird.width /2 &gt; pipe.x+pipe.width /2-10 &amp;&amp; bird.x+bird.width/2 &lt; pipe.x+pipe.width/2+10 )\r\n                {\r\n                    scores++;\r\n            }\r\n                \r\n                if (pipe.intersects(bird)) {\r\n\r\n                    gameOver = true;\r\n                    bird.x= pipe.x-bird.width;\r\n                    \r\n                    \r\n                    Gover.show();\r\n                    \r\n                    \r\n                    started=false;\r\n                }\r\n            }\r\n\r\n            //if you go out of the screen\r\n            //120 is the white part\r\n            if (bird.y &gt; HEIGHT - 120 || bird.y &lt; 0) {\r\n\r\n                gameOver = true;\r\n            }\r\n            \r\n            \r\n            if(bird.y+bmotion&gt; HEIGHT-120){\r\n                bird.y=HEIGHT-120-bird.height;\r\n            }\r\n        }\r\n        \r\n        render.repaint();\r\n\r\n        //\r\n    }\r\n\r\n    void repaint(Graphics g) {\r\n        g.setColor(Color.cyan);\r\n        g.fillRect(0, 0, WIDTH, HEIGHT);\r\n\r\n        //replace with clouds\r\n        g.setColor(Color.white);\r\n        g.fillRect(0, HEIGHT - 200, WIDTH, 200);\r\n\r\n        //the specific coordinates of the bird must be filled \r\n        g.setColor(Color.pink);\r\n        g.fillRect(bird.x, bird.y, bird.width, bird.height);\r\n\r\n        g.setColor(Color.white);\r\n        g.setFont(new Font(&quot;Arial&quot;,12,100));\r\n        if(!started &amp;&amp; !gameOver){\r\n        g.drawString(&quot;Click to start&quot;, 75, HEIGHT/2-80);    \r\n        }\r\n        if(gameOver){\r\n        g.drawString(&quot;Game Over!&quot;, 75, HEIGHT/2-80);    \r\n        }\r\n        for (Rectangle pipe : pipes) {\r\n            paintPipe(g, pipe); \r\n        }\r\n        \r\n        if(!gameOver&amp;&amp; started){\r\n \r\n           //String score= &quot;&quot;+scores;\r\n            g.drawString(String.valueOf(scores), WIDTH/2 -25, 100);\r\n        }\r\n        \r\n    }\r\n\r\n   \r\n\r\n\r\n","title":"how to change my rectangles to an image of a bird for my flappy bird game","body":"<blockquote>\n<p>I have a rectangle to represent my bird, i used a tutorial for my bird and pipes but i understand that the Rectangle class has x,y,width and height as its parameters. I am not too sure how to replicate that using an image. My main issue is finding a way to replace the bird &quot;rectangle&quot; with an image without effecting the code.\nAll the code related to bird as a rectangle:</p>\n</blockquote>\n<pre><code>\n\npublic class FlappyBird implements ActionListener,MouseListener, KeyListener {\n\n    public static FlappyBird flappybird;\n    public static final int WIDTH = 800, HEIGHT = 800;\n    //object to call methods from Renderer\n    public static FlappyBirdUI1 render;\n    public static Rectangle bird;\n   \n  public static  int in, bmotion,scores;\n    public boolean gameOver;\n    public boolean started;\n    \n    \n    public ArrayList&lt;Rectangle&gt; pipes;\n    public static GameOverTest Gover= new GameOverTest();\n    JFrame jframe = new JFrame();\n     \n\n    public FlappyBird() {\n        \n        JPanel jpanel= new JPanel();\n        Timer timer = new Timer(20, this);// used to ensure it repaints throught a schedule timer\n        render = new FlappyBirdUI1();\n\n        jframe.add(render);\n        \n        jframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        \n        jframe.setResizable(false);\n        //jframe.setSize(WIDTH, HEIGHT);\n        jframe.setSize(new java.awt.Dimension(WIDTH, HEIGHT));\n        jframe.setLocationRelativeTo(null);\n        jframe.addMouseListener(this);\n\n\n         \n        jframe.setVisible(true);\n        \n        //using a rectangle as the &quot;bird&quot;\n        //REPLACE WITH IMAGE OF BIRD\n        bird = new Rectangle(WIDTH / 2 - 10, HEIGHT / 2 - 10, 20, 20);\n        \n        pipes = new ArrayList&lt;Rectangle&gt;();\n        addpipe(true);\n        addpipe(true);\n        addpipe(true);\n        addpipe(true);\n\n        // gsettings.setBounds(0, HEIGHT, 30, 25);\n        \n        timer.start();\n    }\n    \n   \n    \n   \n\n\n    public void jump(){\n        \n        \n        if (gameOver){\n             bird = new Rectangle(WIDTH / 2 - 10, HEIGHT / 2 - 10, 20, 20);\n             \n        pipes.clear();\n        bmotion=0;\n        scores=0; \n        \n        addpipe(true);\n        addpipe(true);\n        addpipe(true);\n        addpipe(true);\n        \n            gameOver=false;\n        }\n        if(!started){\n            started=true;\n        }else if(!gameOver){\n            if(bmotion&gt;0){\n                bmotion=0;\n            }\n               bmotion-=10;    \n        }\n    }\n    \n`\n</code></pre>\n<blockquote>\n<p>here is the rest of my code to give an understanding of how often it is used and to show the need for an x,y,width and height.</p>\n</blockquote>\n<pre><code>@Override\npublic void actionPerformed(ActionEvent e) {\n\n    in++;\n    //speed of repaint / moving forwrd\n    int speed = 10;\n    if (started == true) {\n        for (int i = 0; i &lt; pipes.size(); i++) {\n            Rectangle pipe = pipes.get(i);\n            pipe.x -= speed;\n\n        }\n        if (in % 2 == 0 &amp;&amp; bmotion &lt; 15) {\n            bmotion += 2;\n        }\n        for (int i = 0; i &lt; pipes.size() - 1; i++) {\n            Rectangle pipe = pipes.get(i);\n\n            //x+width is the amnt of the screen he pipe takes\n            if (pipe.x + pipe.width &lt; 0) {\n                pipes.remove(pipe);\n                if (pipe.y == 0) {\n                    addpipe(false);\n                }\n\n            }\n        }\n        bird.y += bmotion;\n\n        //colon is like a while there are more objects in the Rectangle pipe arraylist etc\n        for (Rectangle pipe : pipes) {\n            \n            if(pipe.y==0&amp;&amp; bird.x+ bird.width /2 &gt; pipe.x+pipe.width /2-10 &amp;&amp; bird.x+bird.width/2 &lt; pipe.x+pipe.width/2+10 )\n            {\n                scores++;\n        }\n            \n            if (pipe.intersects(bird)) {\n\n                gameOver = true;\n                bird.x= pipe.x-bird.width;\n                \n                \n                Gover.show();\n                \n                \n                started=false;\n            }\n        }\n\n        //if you go out of the screen\n        //120 is the white part\n        if (bird.y &gt; HEIGHT - 120 || bird.y &lt; 0) {\n\n            gameOver = true;\n        }\n        \n        \n        if(bird.y+bmotion&gt; HEIGHT-120){\n            bird.y=HEIGHT-120-bird.height;\n        }\n    }\n    \n    render.repaint();\n\n    //\n}\n\nvoid repaint(Graphics g) {\n    g.setColor(Color.cyan);\n    g.fillRect(0, 0, WIDTH, HEIGHT);\n\n    //replace with clouds\n    g.setColor(Color.white);\n    g.fillRect(0, HEIGHT - 200, WIDTH, 200);\n\n    //the specific coordinates of the bird must be filled \n    g.setColor(Color.pink);\n    g.fillRect(bird.x, bird.y, bird.width, bird.height);\n\n    g.setColor(Color.white);\n    g.setFont(new Font(&quot;Arial&quot;,12,100));\n    if(!started &amp;&amp; !gameOver){\n    g.drawString(&quot;Click to start&quot;, 75, HEIGHT/2-80);    \n    }\n    if(gameOver){\n    g.drawString(&quot;Game Over!&quot;, 75, HEIGHT/2-80);    \n    }\n    for (Rectangle pipe : pipes) {\n        paintPipe(g, pipe); \n    }\n    \n    if(!gameOver&amp;&amp; started){\n\n       //String score= &quot;&quot;+scores;\n        g.drawString(String.valueOf(scores), WIDTH/2 -25, 100);\n    }\n    \n}\n</code></pre>\n"},{"tags":["java","kotlin","intellij-idea","apple-m1","skia"],"answers":[{"comments":[{"owner":{"account_id":304046,"reputation":4564,"user_id":613339,"accept_rate":81,"display_name":"bsautner"},"score":1,"creation_date":1655292385,"post_id":70150484,"comment_id":128296504,"body_markdown":"Thanks - I was building a jar on arch linux and deploying to a raspberry pi and this was my problem. Compose on a pi ftw.","body":"Thanks - I was building a jar on arch linux and deploying to a raspberry pi and this was my problem. Compose on a pi ftw."}],"tags":[],"owner":{"account_id":11179248,"reputation":11910,"user_id":8203759,"display_name":"Konstantin Annikov"},"comment_count":1,"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1638166858,"creation_date":1638166858,"answer_id":70150484,"question_id":70150052,"body_markdown":"In the build.gradle.kts of the project, change     `implementation(compose.desktop.currentOs)` to `implementation(compose.desktop.macos_arm64)`\r\n","title":"org.jetbrains.skiko.LibraryLoadException: Cannot find libskiko-macos-arm64.dylib.sha256, proper native dependency missing","body":"<p>In the build.gradle.kts of the project, change     <code>implementation(compose.desktop.currentOs)</code> to <code>implementation(compose.desktop.macos_arm64)</code></p>\n"},{"tags":[],"owner":{"account_id":994007,"reputation":1469,"user_id":1010443,"accept_rate":80,"display_name":"khcpietro"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648194570,"creation_date":1648194570,"answer_id":71613617,"question_id":70150052,"body_markdown":"I had a same error today on Intel x64 iMac, and solved by upgrading plugins version.  \r\n**kotlin(&quot;jvm&quot;)** from 1.5.31 to 1.6.10 and **id(&quot;org.jetbrains.compose&quot;)** from 1.0.0 to 1.1.1  \r\nFYI, it worked fine a month ago.","title":"org.jetbrains.skiko.LibraryLoadException: Cannot find libskiko-macos-arm64.dylib.sha256, proper native dependency missing","body":"<p>I had a same error today on Intel x64 iMac, and solved by upgrading plugins version.<br />\n<strong>kotlin(&quot;jvm&quot;)</strong> from 1.5.31 to 1.6.10 and <strong>id(&quot;org.jetbrains.compose&quot;)</strong> from 1.0.0 to 1.1.1<br />\nFYI, it worked fine a month ago.</p>\n"},{"tags":[],"owner":{"account_id":894472,"reputation":5501,"user_id":932052,"accept_rate":94,"display_name":"Quintin Balsdon"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1673543613,"creation_date":1673543613,"answer_id":75099995,"question_id":70150052,"body_markdown":"While I found the accepted answer to work:\r\n\r\n&gt; Changing\r\n&gt;\r\n&gt; `implementation(compose.desktop.currentOs)` \r\n&gt;\r\n&gt; to\r\n&gt;\r\n&gt; `implementation(compose.desktop.macos_arm64)`\r\n\r\nThe [documentation][0] seems to indicate that you should just update the version of the wizard:\r\n&gt; The Compose plugin version used in the wizard above might not be the latest. Update to the latest plugin version by editing the `build.gradle.kts` file and updating the version information as shown below. For the [latest versions][1], see the latest versions site and the [Kotlin][2] site.\r\n\r\n```kotlin\r\nplugins {\r\n    kotlin(&quot;jvm&quot;) version &quot;1.7.20&quot;\r\n    id(&quot;org.jetbrains.compose&quot;) version &quot;1.2.2&quot;\r\n}\r\n```\r\n\r\nWhich also works, and I think should be preferred.\r\n\r\n[0]: https://github.com/JetBrains/compose-jb/tree/master/tutorials/Getting_Started#ide-plugin\r\n[1]: https://github.com/JetBrains/compose-jb/releases\r\n[2]: https://kotlinlang.org/","title":"org.jetbrains.skiko.LibraryLoadException: Cannot find libskiko-macos-arm64.dylib.sha256, proper native dependency missing","body":"<p>While I found the accepted answer to work:</p>\n<blockquote>\n<p>Changing</p>\n<p><code>implementation(compose.desktop.currentOs)</code></p>\n<p>to</p>\n<p><code>implementation(compose.desktop.macos_arm64)</code></p>\n</blockquote>\n<p>The <a href=\"https://github.com/JetBrains/compose-jb/tree/master/tutorials/Getting_Started#ide-plugin\" rel=\"noreferrer\">documentation</a> seems to indicate that you should just update the version of the wizard:</p>\n<blockquote>\n<p>The Compose plugin version used in the wizard above might not be the latest. Update to the latest plugin version by editing the <code>build.gradle.kts</code> file and updating the version information as shown below. For the <a href=\"https://github.com/JetBrains/compose-jb/releases\" rel=\"noreferrer\">latest versions</a>, see the latest versions site and the <a href=\"https://kotlinlang.org/\" rel=\"noreferrer\">Kotlin</a> site.</p>\n</blockquote>\n<pre class=\"lang-kotlin prettyprint-override\"><code>plugins {\n    kotlin(&quot;jvm&quot;) version &quot;1.7.20&quot;\n    id(&quot;org.jetbrains.compose&quot;) version &quot;1.2.2&quot;\n}\n</code></pre>\n<p>Which also works, and I think should be preferred.</p>\n"},{"tags":[],"owner":{"account_id":24470605,"reputation":425,"user_id":18579129,"display_name":"Jake"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689824022,"creation_date":1689824022,"answer_id":76726508,"question_id":70150052,"body_markdown":"I had a similar error, but for Linux.\r\n```\r\nCannot find libskiko-linux-x64.so.sha256, proper native dependency missing.\r\n```\r\n\r\nUpdating everything to the latest version and replacing `currentOs` with `linux_x64` made no difference, still the same error.\r\n\r\nAfter explicitly adding a dependency on skiko in `build.gradle.kts`, it worked fine.\r\n```kotlin\r\nimplementation(&quot;org.jetbrains.skiko:skiko-awt-runtime-linux-x64:0.7.69&quot;)\r\n```","title":"org.jetbrains.skiko.LibraryLoadException: Cannot find libskiko-macos-arm64.dylib.sha256, proper native dependency missing","body":"<p>I had a similar error, but for Linux.</p>\n<pre><code>Cannot find libskiko-linux-x64.so.sha256, proper native dependency missing.\n</code></pre>\n<p>Updating everything to the latest version and replacing <code>currentOs</code> with <code>linux_x64</code> made no difference, still the same error.</p>\n<p>After explicitly adding a dependency on skiko in <code>build.gradle.kts</code>, it worked fine.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>implementation(&quot;org.jetbrains.skiko:skiko-awt-runtime-linux-x64:0.7.69&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29078945,"reputation":11,"user_id":22275423,"display_name":"ConradB"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690453530,"creation_date":1690187242,"answer_id":76752641,"question_id":70150052,"body_markdown":"I looked into the documentation of Skiko itself and found out that they suggest manually importing it the following way (the `version` may differ):\r\n\r\n```\r\nval osName = System.getProperty(&quot;os.name&quot;)\r\n    val targetOs = when {\r\n        osName == &quot;Mac OS X&quot; -&gt; &quot;macos&quot;\r\n        osName.startsWith(&quot;Win&quot;) -&gt; &quot;windows&quot;\r\n        osName.startsWith(&quot;Linux&quot;) -&gt; &quot;linux&quot;\r\n        else -&gt; error(&quot;Unsupported OS: $osName&quot;)\r\n    }\r\n\r\n    val targetArch = when (val osArch = System.getProperty(&quot;os.arch&quot;)) {\r\n        &quot;x86_64&quot;, &quot;amd64&quot; -&gt; &quot;x64&quot;\r\n        &quot;aarch64&quot; -&gt; &quot;arm64&quot;\r\n        else -&gt; error(&quot;Unsupported arch: $osArch&quot;)\r\n    }\r\n\r\n    val version = &quot;0.7.70&quot; // or any more recent version\r\n    val target = &quot;${targetOs}-${targetArch}&quot;\r\n\r\n    sourceSets {\r\n        val jvmMain by getting {\r\n            dependencies {\r\n                implementation(&quot;org.jetbrains.skiko:skiko-awt-runtime-$target:$version&quot;)\r\n                implementation(compose.desktop.currentOs)\r\n           }\r\n      }\r\n}\r\n```\r\n\r\nI simply put this into the following (in the `build.gradle.kts`):\r\n\r\n```kotlin {}```\r\n\r\nbut I think this also works when you just put it outside of it. But the implementation has to be in the `dependencies {}` of course &#128516;. This solution solved the problem perfectly for me. I also tried to change `implementation(compose.desktop.currentOs)` to `implementation(compose.desktop.macos_arm64)` but it didn&#39;t fix it for me.","title":"org.jetbrains.skiko.LibraryLoadException: Cannot find libskiko-macos-arm64.dylib.sha256, proper native dependency missing","body":"<p>I looked into the documentation of Skiko itself and found out that they suggest manually importing it the following way (the <code>version</code> may differ):</p>\n<pre><code>val osName = System.getProperty(&quot;os.name&quot;)\n    val targetOs = when {\n        osName == &quot;Mac OS X&quot; -&gt; &quot;macos&quot;\n        osName.startsWith(&quot;Win&quot;) -&gt; &quot;windows&quot;\n        osName.startsWith(&quot;Linux&quot;) -&gt; &quot;linux&quot;\n        else -&gt; error(&quot;Unsupported OS: $osName&quot;)\n    }\n\n    val targetArch = when (val osArch = System.getProperty(&quot;os.arch&quot;)) {\n        &quot;x86_64&quot;, &quot;amd64&quot; -&gt; &quot;x64&quot;\n        &quot;aarch64&quot; -&gt; &quot;arm64&quot;\n        else -&gt; error(&quot;Unsupported arch: $osArch&quot;)\n    }\n\n    val version = &quot;0.7.70&quot; // or any more recent version\n    val target = &quot;${targetOs}-${targetArch}&quot;\n\n    sourceSets {\n        val jvmMain by getting {\n            dependencies {\n                implementation(&quot;org.jetbrains.skiko:skiko-awt-runtime-$target:$version&quot;)\n                implementation(compose.desktop.currentOs)\n           }\n      }\n}\n</code></pre>\n<p>I simply put this into the following (in the <code>build.gradle.kts</code>):</p>\n<p><code>kotlin {}</code></p>\n<p>but I think this also works when you just put it outside of it. But the implementation has to be in the <code>dependencies {}</code> of course 😄. This solution solved the problem perfectly for me. I also tried to change <code>implementation(compose.desktop.currentOs)</code> to <code>implementation(compose.desktop.macos_arm64)</code> but it didn't fix it for me.</p>\n"}],"owner":{"account_id":3985924,"reputation":55305,"user_id":3286489,"accept_rate":60,"display_name":"Elye"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3367,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":70150484,"answer_count":5,"score":11,"last_activity_date":1690453530,"creation_date":1638163109,"question_id":70150052,"body_markdown":"I try to compile https://github.com/CuriousNikhil/k5-compose in IntelliJ (Apple-Silicon) on an M1 MacbookPro, I got the below error\r\n\r\n```\r\nCaused by: org.jetbrains.skiko.LibraryLoadException: Cannot find libskiko-macos-arm64.dylib.sha256, proper native dependency missing.\r\n\tat org.jetbrains.skiko.Library.load(Library.kt:71)\r\n\tat org.jetbrains.skiko.HardwareLayer.&lt;clinit&gt;(HardwareLayer.kt:10)\r\n```\r\n\r\nHow can I solve this issue?\r\n","title":"org.jetbrains.skiko.LibraryLoadException: Cannot find libskiko-macos-arm64.dylib.sha256, proper native dependency missing","body":"<p>I try to compile <a href=\"https://github.com/CuriousNikhil/k5-compose\" rel=\"noreferrer\">https://github.com/CuriousNikhil/k5-compose</a> in IntelliJ (Apple-Silicon) on an M1 MacbookPro, I got the below error</p>\n<pre><code>Caused by: org.jetbrains.skiko.LibraryLoadException: Cannot find libskiko-macos-arm64.dylib.sha256, proper native dependency missing.\n    at org.jetbrains.skiko.Library.load(Library.kt:71)\n    at org.jetbrains.skiko.HardwareLayer.&lt;clinit&gt;(HardwareLayer.kt:10)\n</code></pre>\n<p>How can I solve this issue?</p>\n"},{"tags":["java","oop","inheritance","abstract-class"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1690379024,"post_id":76771924,"comment_id":135345315,"body_markdown":"Why would you make it private if not all of the subclasses will actually use it? That would mean that none of the subclasses can use it... If you want to _prevent_ some subclasses from calling a method, you should make a more complex class hierarchy (and maybe use `sealed`/`permits` to specify which classes can extend which specific class.","body":"Why would you make it private if not all of the subclasses will actually use it? That would mean that none of the subclasses can use it... If you want to <i>prevent</i> some subclasses from calling a method, you should make a more complex class hierarchy (and maybe use <code>sealed</code>/<code>permits</code> to specify which classes can extend which specific class."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1690379354,"post_id":76771924,"comment_id":135345382,"body_markdown":"Do you mean that all subclasses will call `getA` indirectly, via `getB`, but that some will also call `getA` directly?","body":"Do you mean that all subclasses will call <code>getA</code> indirectly, via <code>getB</code>, but that some will also call <code>getA</code> directly?"},{"owner":{"account_id":17680205,"reputation":23,"user_id":12834344,"display_name":"Arunim"},"score":0,"creation_date":1690379918,"post_id":76771924,"comment_id":135345506,"body_markdown":"@tgdavies yes exactly. Basically, should a superclass contain methods whose implementation will be static but whether they will be used or not depends upon a subclass ?\n\nI mean if we keep on adding protected non-abstract methods in superclass even if they are required by just one subclass, doesn&#39;t it become a util class instead?","body":"@tgdavies yes exactly. Basically, should a superclass contain methods whose implementation will be static but whether they will be used or not depends upon a subclass ?  I mean if we keep on adding protected non-abstract methods in superclass even if they are required by just one subclass, doesn&#39;t it become a util class instead?"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1690380307,"post_id":76771924,"comment_id":135345578,"body_markdown":"In general, if you can make something private. Make it private. Why don&#39;t you think getA should be private. Do you expect subclasses to call it directly? Do you expect them to override it?","body":"In general, if you can make something private. Make it private. Why don&#39;t you think getA should be private. Do you expect subclasses to call it directly? Do you expect them to override it?"},{"owner":{"account_id":17680205,"reputation":23,"user_id":12834344,"display_name":"Arunim"},"score":0,"creation_date":1690380827,"post_id":76771924,"comment_id":135345689,"body_markdown":"@matt getA() will not be overriden. It is just that it will not be used by all subclasses, just a subset. So, is it a good design pattern to add protected non-abstract methods which will not be overriden but will be used by subset of subclasses, maybe even just one subclass ?","body":"@matt getA() will not be overriden. It is just that it will not be used by all subclasses, just a subset. So, is it a good design pattern to add protected non-abstract methods which will not be overriden but will be used by subset of subclasses, maybe even just one subclass ?"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1690381410,"post_id":76771924,"comment_id":135345832,"body_markdown":"If a subclass is going to use it by calling it directly, then you cannot have it private.","body":"If a subclass is going to use it by calling it directly, then you cannot have it private."},{"owner":{"display_name":"user21970328"},"score":0,"creation_date":1690396747,"post_id":76771924,"comment_id":135349403,"body_markdown":"This question has nothing to do with design patterns. I have corrected the tagging accordingly. It&#39;s about OO fundamentals like inheritance and access modifiers. To answer your question, if you want to make a member available to subclasses it *must* be defined as protected or public.","body":"This question has nothing to do with design patterns. I have corrected the tagging accordingly. It&#39;s about OO fundamentals like inheritance and access modifiers. To answer your question, if you want to make a member available to subclasses it <i>must</i> be defined as protected or public."},{"owner":{"display_name":"user21970328"},"score":0,"creation_date":1690397051,"post_id":76771924,"comment_id":135349461,"body_markdown":"Note, if you want to prevent subclasses to override members e.g. getA() you must define it as final: `protected final string getA()`","body":"Note, if you want to prevent subclasses to override members e.g. getA() you must define it as final: <code>protected final string getA()</code>"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1690414190,"post_id":76771924,"comment_id":135352108,"body_markdown":"I feel that this question is seeking opinions about code design considerations, and is therefore not a good fit for Stack Overflow.","body":"I feel that this question is seeking opinions about code design considerations, and is therefore not a good fit for Stack Overflow."}],"answers":[{"comments":[{"owner":{"account_id":17680205,"reputation":23,"user_id":12834344,"display_name":"Arunim"},"score":0,"creation_date":1690380085,"post_id":76772067,"comment_id":135345532,"body_markdown":"one other option is to implement getA() in all subclasses which want to use it. But that leads to code duplication. So, wanted to know should a superclass contain methods whose implementation will be static but whether they will be used or not depends upon a subclass ? \nI mean if we keep on adding protected non-abstract methods in superclass even if they are required by one subclass, doesn&#39;t it become a util class instead?","body":"one other option is to implement getA() in all subclasses which want to use it. But that leads to code duplication. So, wanted to know should a superclass contain methods whose implementation will be static but whether they will be used or not depends upon a subclass ?  I mean if we keep on adding protected non-abstract methods in superclass even if they are required by one subclass, doesn&#39;t it become a util class instead?"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1690414128,"post_id":76772067,"comment_id":135352100,"body_markdown":"Why wouldn’t you just add it to the one subclass that needs it in that case?","body":"Why wouldn’t you just add it to the one subclass that needs it in that case?"}],"tags":[],"owner":{"account_id":4113392,"reputation":5800,"user_id":3375670,"accept_rate":88,"display_name":"Robert Kock"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690379785,"creation_date":1690379785,"answer_id":76772067,"question_id":76771924,"body_markdown":"If you make `getA()` private, none of the subclasses will be able to access it.  \r\nYou are therefore forced to make it protected (or public).","title":"Should abstract superclass contain protected non-abstract methods which are to be used by some and not all subclasses","body":"<p>If you make <code>getA()</code> private, none of the subclasses will be able to access it.<br />\nYou are therefore forced to make it protected (or public).</p>\n"}],"owner":{"account_id":17680205,"reputation":23,"user_id":12834344,"display_name":"Arunim"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1690453460,"creation_date":1690378883,"question_id":76771924,"body_markdown":"I have an abstract class as below:\r\n\r\n```\r\npublic class AbstractClass {\r\n   \r\n    private String getA() {\r\n       return &quot;A&quot;;\r\n    }\r\n    \r\n    protected String getB() {\r\n        return getA().concat(&quot;-B&quot;);\r\n    }\r\n\r\n}\r\n```\r\n\r\nNow, all subclasses will use the `getB()` method. That is why I have made it `protected`. But not all subclasses will use the `getA()` method. Only a subset will use it. So, should I still make it `protected` or keep it `private`?","title":"Should abstract superclass contain protected non-abstract methods which are to be used by some and not all subclasses","body":"<p>I have an abstract class as below:</p>\n<pre><code>public class AbstractClass {\n   \n    private String getA() {\n       return &quot;A&quot;;\n    }\n    \n    protected String getB() {\n        return getA().concat(&quot;-B&quot;);\n    }\n\n}\n</code></pre>\n<p>Now, all subclasses will use the <code>getB()</code> method. That is why I have made it <code>protected</code>. But not all subclasses will use the <code>getA()</code> method. Only a subset will use it. So, should I still make it <code>protected</code> or keep it <code>private</code>?</p>\n"},{"tags":["java","intellij-idea","structural-search"],"comments":[{"owner":{"account_id":5952929,"reputation":8862,"user_id":4680436,"accept_rate":50,"display_name":"aristotll"},"score":0,"creation_date":1502622200,"post_id":45652010,"comment_id":78277138,"body_markdown":"This will not be a built in action I doubt.  Of course you can always write your plugins that have such actions. Or use something like https://github.com/dkandalov/live-plugin to help satisfy your needs.","body":"This will not be a built in action I doubt.  Of course you can always write your plugins that have such actions. Or use something like <a href=\"https://github.com/dkandalov/live-plugin\" rel=\"nofollow noreferrer\">github.com/dkandalov/live-plugin</a> to help satisfy your needs."}],"answers":[{"tags":[],"owner":{"account_id":29102175,"reputation":1,"user_id":22293773,"display_name":"hihi3131canhelp"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690453151,"creation_date":1690453151,"answer_id":76778757,"question_id":45652010,"body_markdown":"It&#39;s been 5 years since this has been asked, and perhaps there is a solution to move your annotations from method level to field level.\r\n\r\nIt will involve Lombok and if you&#39;re OK with that, then the latest IntelliJ can refactor that for you under Refactor-&gt;Lombok-&gt;Default @Data\r\n\r\nAlthough, we believe the best practice is to leave the annotations at the method level.","title":"How to automatically move annotations from methods to fields?","body":"<p>It's been 5 years since this has been asked, and perhaps there is a solution to move your annotations from method level to field level.</p>\n<p>It will involve Lombok and if you're OK with that, then the latest IntelliJ can refactor that for you under Refactor-&gt;Lombok-&gt;Default @Data</p>\n<p>Although, we believe the best practice is to leave the annotations at the method level.</p>\n"}],"owner":{"account_id":157221,"reputation":3117,"user_id":375025,"accept_rate":57,"display_name":"Barry Pitman"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":470,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1690453151,"creation_date":1502552193,"question_id":45652010,"body_markdown":"I have a large number of Java classes using JPA property access instead of field access, and converting them to use field access (moving the annotations from getters to fields) is time consuming. Re-generating them from database tables is also not an option.\r\n\r\nSo I was looking at using IDEA&#39;s structural search and replace to try move the annotations automatically. I&#39;m wanting to change a class that looks like this:\r\n\r\n    @Entity\r\n    @Table\r\n    public class Make {\r\n    \r\n        private Long id;\r\n        private String makeCode;\r\n        ...other properties, with more involved JPA annotations\r\n    \r\n        @Id\r\n        @GeneratedValue\r\n        public Long getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(Long id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        @Column(length = 10, unique = true)\r\n        public String getMakeCode() {\r\n            return makeCode;\r\n        }\r\n    \r\n        public void setMakeCode(String makeCode) {\r\n            this.makeCode = makeCode;\r\n        }\r\n        ...\r\n    }\r\nto one that looks like this:\r\n\r\n    @Entity\r\n    @Table\r\n    public class Make {\r\n    \r\n        @Id\r\n        @GeneratedValue\r\n        private Long id;\r\n    \r\n        @Column(length = 10, unique = true)\r\n        private String makeCode;\r\n    \r\n        public Long getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(Long id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public String getMakeCode() {\r\n            return makeCode;\r\n        }\r\n    \r\n        public void setMakeCode(String makeCode) {\r\n            this.makeCode = makeCode;\r\n        }\r\n        ...\r\n    }\r\n\r\nFrom there I&#39;ll be able to do additional refactoring, but I&#39;m finding that moving the annotations manually is very time-consuming. \r\n\r\nI&#39;ve played around with structural search &amp; replace, but its quite dense and lacking documentation, so I&#39;d appreciate any tips on how to configure the different templates.\r\n\r\nI imagine it would be something like:\r\n&gt; find all methods starting with &quot;get&quot; that are annotated with at least\r\n&gt; one `javax.persistence.*` annotation, along with a matching private\r\n&gt; field, and replace with the same field and method, but move the\r\n&gt; annotations from method to field.\r\n\r\nI&#39;m just struggling to put that into the structural search expressions.","title":"How to automatically move annotations from methods to fields?","body":"<p>I have a large number of Java classes using JPA property access instead of field access, and converting them to use field access (moving the annotations from getters to fields) is time consuming. Re-generating them from database tables is also not an option.</p>\n\n<p>So I was looking at using IDEA's structural search and replace to try move the annotations automatically. I'm wanting to change a class that looks like this:</p>\n\n<pre><code>@Entity\n@Table\npublic class Make {\n\n    private Long id;\n    private String makeCode;\n    ...other properties, with more involved JPA annotations\n\n    @Id\n    @GeneratedValue\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    @Column(length = 10, unique = true)\n    public String getMakeCode() {\n        return makeCode;\n    }\n\n    public void setMakeCode(String makeCode) {\n        this.makeCode = makeCode;\n    }\n    ...\n}\n</code></pre>\n\n<p>to one that looks like this:</p>\n\n<pre><code>@Entity\n@Table\npublic class Make {\n\n    @Id\n    @GeneratedValue\n    private Long id;\n\n    @Column(length = 10, unique = true)\n    private String makeCode;\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getMakeCode() {\n        return makeCode;\n    }\n\n    public void setMakeCode(String makeCode) {\n        this.makeCode = makeCode;\n    }\n    ...\n}\n</code></pre>\n\n<p>From there I'll be able to do additional refactoring, but I'm finding that moving the annotations manually is very time-consuming. </p>\n\n<p>I've played around with structural search &amp; replace, but its quite dense and lacking documentation, so I'd appreciate any tips on how to configure the different templates.</p>\n\n<p>I imagine it would be something like:</p>\n\n<blockquote>\n  <p>find all methods starting with \"get\" that are annotated with at least\n  one <code>javax.persistence.*</code> annotation, along with a matching private\n  field, and replace with the same field and method, but move the\n  annotations from method to field.</p>\n</blockquote>\n\n<p>I'm just struggling to put that into the structural search expressions.</p>\n"},{"tags":["javascript","java","node.js","deno","json-web-signature"],"owner":{"account_id":9308913,"reputation":623,"user_id":6911509,"display_name":"Tal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690453045,"creation_date":1690451027,"question_id":76778470,"body_markdown":"I have the following code for JWS verification in Java:\r\n```java\r\n/**\r\n * Step 1 - Load signing keys via jwks file\r\n */\r\n \r\nString JWKS_URL = &quot;https://vf11gtostorage1.blob.core.windows.net/test-webhook-sign-keys/test-webhook-sign-keys.jwks&quot;;\r\n \r\n// on first startup we need to download the signing keys\r\n// NOTE: this file should be cached locally and not downloaded each time\r\nPath jwksLocalPath = Path.of(&quot;./test-webhook-sign-keys.jwks&quot;);\r\nif (!Files.exists(jwksLocalPath)) {\r\n    try (InputStream in = new URL(JWKS_URL).openStream()) {\r\n        Files.copy(in, jwksLocalPath, StandardCopyOption.REPLACE_EXISTING);\r\n    }\r\n}\r\n \r\n// load keys from file\r\nString jkws = Files.readString(jwksLocalPath);\r\nJsonWebKeySet jsonWebKeySet = new JsonWebKeySet(jkws);\r\n \r\n/**\r\n * Step 2 - Convert webhook json body to canonicalized form\r\n */\r\n \r\nString originalJsonBody = *JSON BODY FROM WEBHOOK*;\r\nJsonCanonicalizer jsonCanonicalizer = new JsonCanonicalizer(originalJsonBody);\r\nString canonicalizedJson = jsonCanonicalizer.getEncodedString();\r\n \r\n/**\r\n * Step 3 and 4- Select matching key for x-vfi-jws and validate signature\r\n */\r\n \r\nJsonWebSignature verifierJws = new JsonWebSignature();\r\n \r\n// set contents from x-vfi-jws header\r\nverifierJws.setCompactSerialization(detachedContentJws);\r\n \r\n// The canonicalized content is the payload\r\nverifierJws.setPayload(canonicalizedJson);\r\n \r\n// Pick the key to use for checking the signature. The key selected\r\n// should have the same key id &quot;kid&quot; as the x-vfi-jws header\r\nVerificationJwkSelector jwkSelector = new VerificationJwkSelector();\r\nJsonWebKey jwkSelected = jwkSelector.select(verifierJws, jsonWebKeySet.getJsonWebKeys());\r\n \r\nif (jwkSelected == null) {\r\n    // if key can&#39;t be found then refresh signing keys as\r\n    // a new key id may have been added\r\n    try (InputStream in = new URL(JWKS_URL).openStream()) {\r\n        Files.copy(in, jwksLocalPath, StandardCopyOption.REPLACE_EXISTING);\r\n    }\r\n    jkws = Files.readString(jwksLocalPath);\r\n    jsonWebKeySet = new JsonWebKeySet(jkws);\r\n    jwkSelected = jwkSelector.select(verifierJws, jsonWebKeySet.getJsonWebKeys());\r\n}\r\n \r\n// set key based on keyid selected from jwks\r\nverifierJws.setKey(jwkSelected.getKey());\r\n \r\n// Check the signature\r\nboolean signatureVerified = verifierJws.verifySignature();\r\n```\r\n\r\nI need to transform this code to Deno&#39;s jose library https://deno.land/x/jose@v4.14.4 .\r\n\r\nFor my understanding, I need to create a new JWS by setting the header from the request&#39;s headers, the payload from the request&#39;s body an the key from the header that matches the kid key of the file that I am loading and then verify it.\r\n\r\nI just don&#39;t understand how to convert this Java code to js using jose.\r\n\r\nEdit:\r\nI tried to convert by myself and not sure I used the right way to verify the jws. I used the function `compactVerify` and not `jwtVerify`. Any toughts?\r\n\r\n```\r\nimport axiod from &quot;axiod&quot;;\r\nimport * as mod from &quot;https://deno.land/std@0.196.0/fs/mod.ts&quot;;\r\nimport * as jose from &#39;https://deno.land/x/jose@v4.14.4/index.ts&#39;;\r\nimport { canonicalize } from &quot;https://deno.land/x/json_hash/canon.ts&quot;;\r\n\r\nconst jwksLocalPath = &quot;./test-webhook-sign-keys.jwks&quot;;\r\n\r\nconst getCachedJwks = async (reload?: boolean) =&gt; {\r\n    const JWKS_URL = Deno.env.get(&#39;JWKS_URL&#39;) as string;\r\n\r\n    if (!await mod.exists(jwksLocalPath) || reload) {\r\n        const response = await axiod.get(JWKS_URL, { responseType: &#39;text&#39; });\r\n        \r\n        await Deno.writeFile(jwksLocalPath, response.data);\r\n    }\r\n\r\n    // Load keys from file\r\n    const jkws = await Deno.readFile(jwksLocalPath);\r\n    \r\n    return JSON.parse(new TextDecoder(&#39;utf-8&#39;).decode(jkws)) as jose.JSONWebKeySet;\r\n}\r\n\r\nexport const verifyVerifone = async (req: Request) =&gt; {\r\n    /**\r\n     * Step 1 - Load signing keys via jwks file\r\n     * On first startup, we need to download the signing keys\r\n     * this file should be cached locally and not downloaded each time\r\n     */\r\n    let jsonWebKeySet = await getCachedJwks();\r\n\r\n    /**\r\n     * Step 2 - Convert webhook json body to canonicalized form\r\n     */\r\n    const originalJsonBody = await req.json(); // Replace this with the actual JSON body\r\n    const canonicalizedJson = canonicalize(originalJsonBody);\r\n    \r\n    /**\r\n     * Step 3 and 4 - Select matching key for x-vfi-jws and validate signature\r\n     * In order to verify the signature, we need to find the matching key in the jwks file\r\n     */\r\n    const headerKey = req.headers.get(&#39;x-vfi-jws&#39;);\r\n\r\n    if (!headerKey) {\r\n        throw new Error(&#39;x-vfi-jws header is missing&#39;);\r\n    }\r\n\r\n    const detachedContentJws = JSON.parse(headerKey) as jose.JWK;\r\n\r\n    // Pick the key to use for checking the signature. The key selected\r\n    // should have the same key id &quot;kid&quot; as the x-vfi-jws header\r\n    let jwkSelected = jsonWebKeySet.keys.find(key =&gt; key.kid === detachedContentJws.kid);\r\n\r\n    if (!jwkSelected) {\r\n        jsonWebKeySet = await getCachedJwks(true);\r\n\r\n        jwkSelected = jsonWebKeySet.keys.find(key =&gt; key.kid === detachedContentJws.kid);\r\n    }\r\n\r\n    const verifierJws = await new jose.CompactSign(new TextEncoder().encode(canonicalizedJson))\r\n        .sign(new TextEncoder().encode(JSON.stringify(detachedContentJws)))\r\n\r\n    await jose.compactVerify(verifierJws, new TextEncoder().encode(JSON.stringify(jwkSelected)));\r\n}\r\n```\r\n","title":"JWS Java algorithm to Deno&#39;s jose (node.js)","body":"<p>I have the following code for JWS verification in Java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Step 1 - Load signing keys via jwks file\n */\n \nString JWKS_URL = &quot;https://vf11gtostorage1.blob.core.windows.net/test-webhook-sign-keys/test-webhook-sign-keys.jwks&quot;;\n \n// on first startup we need to download the signing keys\n// NOTE: this file should be cached locally and not downloaded each time\nPath jwksLocalPath = Path.of(&quot;./test-webhook-sign-keys.jwks&quot;);\nif (!Files.exists(jwksLocalPath)) {\n    try (InputStream in = new URL(JWKS_URL).openStream()) {\n        Files.copy(in, jwksLocalPath, StandardCopyOption.REPLACE_EXISTING);\n    }\n}\n \n// load keys from file\nString jkws = Files.readString(jwksLocalPath);\nJsonWebKeySet jsonWebKeySet = new JsonWebKeySet(jkws);\n \n/**\n * Step 2 - Convert webhook json body to canonicalized form\n */\n \nString originalJsonBody = *JSON BODY FROM WEBHOOK*;\nJsonCanonicalizer jsonCanonicalizer = new JsonCanonicalizer(originalJsonBody);\nString canonicalizedJson = jsonCanonicalizer.getEncodedString();\n \n/**\n * Step 3 and 4- Select matching key for x-vfi-jws and validate signature\n */\n \nJsonWebSignature verifierJws = new JsonWebSignature();\n \n// set contents from x-vfi-jws header\nverifierJws.setCompactSerialization(detachedContentJws);\n \n// The canonicalized content is the payload\nverifierJws.setPayload(canonicalizedJson);\n \n// Pick the key to use for checking the signature. The key selected\n// should have the same key id &quot;kid&quot; as the x-vfi-jws header\nVerificationJwkSelector jwkSelector = new VerificationJwkSelector();\nJsonWebKey jwkSelected = jwkSelector.select(verifierJws, jsonWebKeySet.getJsonWebKeys());\n \nif (jwkSelected == null) {\n    // if key can't be found then refresh signing keys as\n    // a new key id may have been added\n    try (InputStream in = new URL(JWKS_URL).openStream()) {\n        Files.copy(in, jwksLocalPath, StandardCopyOption.REPLACE_EXISTING);\n    }\n    jkws = Files.readString(jwksLocalPath);\n    jsonWebKeySet = new JsonWebKeySet(jkws);\n    jwkSelected = jwkSelector.select(verifierJws, jsonWebKeySet.getJsonWebKeys());\n}\n \n// set key based on keyid selected from jwks\nverifierJws.setKey(jwkSelected.getKey());\n \n// Check the signature\nboolean signatureVerified = verifierJws.verifySignature();\n</code></pre>\n<p>I need to transform this code to Deno's jose library <a href=\"https://deno.land/x/jose@v4.14.4\" rel=\"nofollow noreferrer\">https://deno.land/x/jose@v4.14.4</a> .</p>\n<p>For my understanding, I need to create a new JWS by setting the header from the request's headers, the payload from the request's body an the key from the header that matches the kid key of the file that I am loading and then verify it.</p>\n<p>I just don't understand how to convert this Java code to js using jose.</p>\n<p>Edit:\nI tried to convert by myself and not sure I used the right way to verify the jws. I used the function <code>compactVerify</code> and not <code>jwtVerify</code>. Any toughts?</p>\n<pre><code>import axiod from &quot;axiod&quot;;\nimport * as mod from &quot;https://deno.land/std@0.196.0/fs/mod.ts&quot;;\nimport * as jose from 'https://deno.land/x/jose@v4.14.4/index.ts';\nimport { canonicalize } from &quot;https://deno.land/x/json_hash/canon.ts&quot;;\n\nconst jwksLocalPath = &quot;./test-webhook-sign-keys.jwks&quot;;\n\nconst getCachedJwks = async (reload?: boolean) =&gt; {\n    const JWKS_URL = Deno.env.get('JWKS_URL') as string;\n\n    if (!await mod.exists(jwksLocalPath) || reload) {\n        const response = await axiod.get(JWKS_URL, { responseType: 'text' });\n        \n        await Deno.writeFile(jwksLocalPath, response.data);\n    }\n\n    // Load keys from file\n    const jkws = await Deno.readFile(jwksLocalPath);\n    \n    return JSON.parse(new TextDecoder('utf-8').decode(jkws)) as jose.JSONWebKeySet;\n}\n\nexport const verifyVerifone = async (req: Request) =&gt; {\n    /**\n     * Step 1 - Load signing keys via jwks file\n     * On first startup, we need to download the signing keys\n     * this file should be cached locally and not downloaded each time\n     */\n    let jsonWebKeySet = await getCachedJwks();\n\n    /**\n     * Step 2 - Convert webhook json body to canonicalized form\n     */\n    const originalJsonBody = await req.json(); // Replace this with the actual JSON body\n    const canonicalizedJson = canonicalize(originalJsonBody);\n    \n    /**\n     * Step 3 and 4 - Select matching key for x-vfi-jws and validate signature\n     * In order to verify the signature, we need to find the matching key in the jwks file\n     */\n    const headerKey = req.headers.get('x-vfi-jws');\n\n    if (!headerKey) {\n        throw new Error('x-vfi-jws header is missing');\n    }\n\n    const detachedContentJws = JSON.parse(headerKey) as jose.JWK;\n\n    // Pick the key to use for checking the signature. The key selected\n    // should have the same key id &quot;kid&quot; as the x-vfi-jws header\n    let jwkSelected = jsonWebKeySet.keys.find(key =&gt; key.kid === detachedContentJws.kid);\n\n    if (!jwkSelected) {\n        jsonWebKeySet = await getCachedJwks(true);\n\n        jwkSelected = jsonWebKeySet.keys.find(key =&gt; key.kid === detachedContentJws.kid);\n    }\n\n    const verifierJws = await new jose.CompactSign(new TextEncoder().encode(canonicalizedJson))\n        .sign(new TextEncoder().encode(JSON.stringify(detachedContentJws)))\n\n    await jose.compactVerify(verifierJws, new TextEncoder().encode(JSON.stringify(jwkSelected)));\n}\n</code></pre>\n"},{"tags":["java","minecraft","minecraft-forge"],"comments":[{"owner":{"account_id":14798798,"reputation":92,"user_id":10687680,"display_name":"willbill"},"score":1,"creation_date":1688183758,"post_id":76593048,"comment_id":135043439,"body_markdown":"Can you add the build.gradle file to the post?","body":"Can you add the build.gradle file to the post?"}],"owner":{"account_id":27617393,"reputation":1,"user_id":21079172,"display_name":"CoCFire"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":260,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690452987,"creation_date":1688178551,"question_id":76593048,"body_markdown":"I&#39;m trying to make a Forge mod for Minecraft 1.12.2, and I&#39;ve done everything I can think of, but I always get this error:\r\n```\r\n&gt; Task :compileJava FAILED\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nCould not resolve all files for configuration &#39;:compileClasspath&#39;.\r\n&gt; Could not find net.minecraftforge:forge:1.12.2-14.23.5.2860_mapped_snapshot_20171003-1.12.\r\n  Searched in the following locations:\r\n    - https://maven.minecraftforge.net/net/minecraftforge/forge/1.12.2-14.23.5.2860_mapped_snapshot_20171003-1.12/forge-1.12.2-14.23.5.2860_mapped_snapshot_20171003-1.12.pom\r\n    - https://maven.minecraftforge.net/net/minecraftforge/forge/1.12.2-14.23.5.2860_mapped_snapshot_20171003-1.12/forge-1.12.2-14.23.5.2860_mapped_snapshot_20171003-1.12.jar\r\n    - file:/C:/Users/techi/.gradle/caches/forge_gradle/bundeled_repo/net/minecraftforge/forge/1.12.2-14.23.5.2860_mapped_snapshot_20171003-1.12/forge-1.12.2-14.23.5.Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 5.0.\r\nUse &#39;--warning-mode all&#39; to show the individual deprecation warnings.\r\nSee https://docs.gradle.org/4.9/userguide/command_line_interface.html#sec:command_line_warnings\r\n\r\nBUILD FAILED in 1m 37s\r\n1 actionable task: 1 executed\r\n```\r\n\r\nI checked if there was anything I was missing in the build.gradle file, which I fixed several issues with, but it still did not work. Then I double-checked that I had copied the MDK correctly, which I had. I tried refreshing the dependencies, which also didn&#39;t work.","title":"Minecraft FML Gradle build error &quot;Could not find net.minecraftforge:forge:1.12.2-14.23.5.2860_mapped_snapshot_20171003-1.12&quot;","body":"<p>I'm trying to make a Forge mod for Minecraft 1.12.2, and I've done everything I can think of, but I always get this error:</p>\n<pre><code>&gt; Task :compileJava FAILED\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nCould not resolve all files for configuration ':compileClasspath'.\n&gt; Could not find net.minecraftforge:forge:1.12.2-14.23.5.2860_mapped_snapshot_20171003-1.12.\n  Searched in the following locations:\n    - https://maven.minecraftforge.net/net/minecraftforge/forge/1.12.2-14.23.5.2860_mapped_snapshot_20171003-1.12/forge-1.12.2-14.23.5.2860_mapped_snapshot_20171003-1.12.pom\n    - https://maven.minecraftforge.net/net/minecraftforge/forge/1.12.2-14.23.5.2860_mapped_snapshot_20171003-1.12/forge-1.12.2-14.23.5.2860_mapped_snapshot_20171003-1.12.jar\n    - file:/C:/Users/techi/.gradle/caches/forge_gradle/bundeled_repo/net/minecraftforge/forge/1.12.2-14.23.5.2860_mapped_snapshot_20171003-1.12/forge-1.12.2-14.23.5.Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 5.0.\nUse '--warning-mode all' to show the individual deprecation warnings.\nSee https://docs.gradle.org/4.9/userguide/command_line_interface.html#sec:command_line_warnings\n\nBUILD FAILED in 1m 37s\n1 actionable task: 1 executed\n</code></pre>\n<p>I checked if there was anything I was missing in the build.gradle file, which I fixed several issues with, but it still did not work. Then I double-checked that I had copied the MDK correctly, which I had. I tried refreshing the dependencies, which also didn't work.</p>\n"},{"tags":["java","selenium","selenium-webdriver","selenium-chromedriver","pdfbox"],"comments":[{"owner":{"account_id":3126424,"reputation":2086,"user_id":9684373,"display_name":"Prany"},"score":0,"creation_date":1529517032,"post_id":50953924,"comment_id":88906238,"body_markdown":"what is the return type of this method ?","body":"what is the return type of this method ?"},{"owner":{"account_id":11158745,"reputation":113,"user_id":8189629,"display_name":"stevek"},"score":0,"creation_date":1529517408,"post_id":50953924,"comment_id":88906419,"body_markdown":"String, sorry I omitted it on accident. I updated the original post.","body":"String, sorry I omitted it on accident. I updated the original post."},{"owner":{"account_id":3126424,"reputation":2086,"user_id":9684373,"display_name":"Prany"},"score":0,"creation_date":1529518879,"post_id":50953924,"comment_id":88907095,"body_markdown":"I tried this and it works, only difference is I&#39;ve read pdf from local. now, what is the pdf_url has ?","body":"I tried this and it works, only difference is I&#39;ve read pdf from local. now, what is the pdf_url has ?"},{"owner":{"account_id":11158745,"reputation":113,"user_id":8189629,"display_name":"stevek"},"score":0,"creation_date":1529519349,"post_id":50953924,"comment_id":88907320,"body_markdown":"It&#39;s a link to a PDF that is directly uploaded to the server. I access the pdf using the link and it shows like if I opened it using acrobat. This is a String that I passed in from the main.  Thanks for testing it out yourself. It&#39;s kinda like this file: https://www.adobe.com/support/products/enterprise/knowledgecenter/media/c4611_sample_explain.pdf","body":"It&#39;s a link to a PDF that is directly uploaded to the server. I access the pdf using the link and it shows like if I opened it using acrobat. This is a String that I passed in from the main.  Thanks for testing it out yourself. It&#39;s kinda like this file: <a href=\"https://www.adobe.com/support/products/enterprise/knowledgecenter/media/c4611_sample_explain.pdf\" rel=\"nofollow noreferrer\">adobe.com/support/products/enterprise/knowledgecenter/media/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":11158745,"reputation":113,"user_id":8189629,"display_name":"stevek"},"score":0,"creation_date":1529519539,"post_id":50953924,"comment_id":88907406,"body_markdown":"would it be easier if I just downloaded the file and read it that way? since you confirmed that it works,","body":"would it be easier if I just downloaded the file and read it that way? since you confirmed that it works,"},{"owner":{"account_id":3126424,"reputation":2086,"user_id":9684373,"display_name":"Prany"},"score":0,"creation_date":1529519865,"post_id":50953924,"comment_id":88907567,"body_markdown":"This code works for the PDF in a URL as well. I think there must be something in your pdf. Anyways give it a try by download and read","body":"This code works for the PDF in a URL as well. I think there must be something in your pdf. Anyways give it a try by download and read"},{"owner":{"account_id":3126424,"reputation":2086,"user_id":9684373,"display_name":"Prany"},"score":0,"creation_date":1529520098,"post_id":50953924,"comment_id":88907669,"body_markdown":"Also, find out on which line you&#39;re getting exception.","body":"Also, find out on which line you&#39;re getting exception."},{"owner":{"account_id":11158745,"reputation":113,"user_id":8189629,"display_name":"stevek"},"score":0,"creation_date":1529521895,"post_id":50953924,"comment_id":88908503,"body_markdown":"The exception occurs on this line: parser.parse();","body":"The exception occurs on this line: parser.parse();"},{"owner":{"account_id":3126424,"reputation":2086,"user_id":9684373,"display_name":"Prany"},"score":0,"creation_date":1529523159,"post_id":50953924,"comment_id":88909080,"body_markdown":"Check your URL for any unwanted chars spaces . You might have to debug that","body":"Check your URL for any unwanted chars spaces . You might have to debug that"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":4,"creation_date":1529523254,"post_id":50953924,"comment_id":88909119,"body_markdown":"An &quot;End-of-File&quot; during `PDFParser.parseHeader` sounds like an empty file (or nearly so).","body":"An &quot;End-of-File&quot; during <code>PDFParser.parseHeader</code> sounds like an empty file (or nearly so)."},{"owner":{"account_id":11158745,"reputation":113,"user_id":8189629,"display_name":"stevek"},"score":0,"creation_date":1529523409,"post_id":50953924,"comment_id":88909185,"body_markdown":"@Prany Can I see how you passed in the URL for both your examples to work on your end?","body":"@Prany Can I see how you passed in the URL for both your examples to work on your end?"},{"owner":{"account_id":11158745,"reputation":113,"user_id":8189629,"display_name":"stevek"},"score":0,"creation_date":1529523448,"post_id":50953924,"comment_id":88909209,"body_markdown":"@mkl The page is not empty though.","body":"@mkl The page is not empty though."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1529523591,"post_id":50953924,"comment_id":88909285,"body_markdown":"The best would be to save what you get with `url.openStream()` into a file to see what&#39;s really there. I concur with mkl that your file is empty.","body":"The best would be to save what you get with <code>url.openStream()</code> into a file to see what&#39;s really there. I concur with mkl that your file is empty."},{"owner":{"account_id":3126424,"reputation":2086,"user_id":9684373,"display_name":"Prany"},"score":0,"creation_date":1529526017,"post_id":50953924,"comment_id":88910291,"body_markdown":"@stevek - Added as an answer","body":"@stevek - Added as an answer"},{"owner":{"account_id":11158745,"reputation":113,"user_id":8189629,"display_name":"stevek"},"score":0,"creation_date":1529526321,"post_id":50953924,"comment_id":88910429,"body_markdown":"Thanks everyone, it turns out it is these PDFs. They are incompatible or is some strange format because I&#39;m able to read different PDFs.","body":"Thanks everyone, it turns out it is these PDFs. They are incompatible or is some strange format because I&#39;m able to read different PDFs."},{"owner":{"account_id":4764104,"reputation":9906,"user_id":3850730,"accept_rate":83,"display_name":"Sabir Khan"},"score":0,"creation_date":1556524258,"post_id":50953924,"comment_id":98454183,"body_markdown":"I was trying to parse 100s of files kept in one directory &amp; I was getting same error for `PDDocument.load()` &amp;  by mistake there was one zero byte non - pdf file  in that directory :)","body":"I was trying to parse 100s of files kept in one directory &amp; I was getting same error for <code>PDDocument.load()</code> &amp;  by mistake there was one zero byte non - pdf file  in that directory :)"}],"answers":[{"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":4,"creation_date":1529566997,"post_id":50956420,"comment_id":88922710,"body_markdown":"`new PDFParser()` is outdated. Use `PDDocument.load()`.","body":"<code>new PDFParser()</code> is outdated. Use <code>PDDocument.load()</code>."}],"tags":[],"owner":{"account_id":3126424,"reputation":2086,"user_id":9684373,"display_name":"Prany"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1529526303,"creation_date":1529525985,"answer_id":50956420,"question_id":50953924,"body_markdown":"Here is the example that you asked to share using  PDFURL\r\n\r\n    string PDFURL = &quot;https://www.adobe.com/support/products/enterprise/knowledgecenter/media/c4611_sample_explain.pdf&quot;;\r\n    function(PDFURL1);\r\n\r\n    public String function(String pdf_url)\r\n    {\r\n     //Exact same code as yours\r\n    }\r\n\r\nFor using PDF as local file, URL and BufferedInputStream needs to be replaced by\r\n     \r\n     File file = new File(pdf_url);\r\n     PDFParser parser = new PDFParser(new FileInputStream(file));\r\n\r\nHope this helps","title":"PDFBox IOException: End of File, expected line","body":"<p>Here is the example that you asked to share using  PDFURL</p>\n\n<pre><code>string PDFURL = \"https://www.adobe.com/support/products/enterprise/knowledgecenter/media/c4611_sample_explain.pdf\";\nfunction(PDFURL1);\n\npublic String function(String pdf_url)\n{\n //Exact same code as yours\n}\n</code></pre>\n\n<p>For using PDF as local file, URL and BufferedInputStream needs to be replaced by</p>\n\n<pre><code> File file = new File(pdf_url);\n PDFParser parser = new PDFParser(new FileInputStream(file));\n</code></pre>\n\n<p>Hope this helps</p>\n"},{"tags":[],"owner":{"account_id":12898503,"reputation":2596,"user_id":9328117,"display_name":"Shahid Hussain Abbasi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677541427,"creation_date":1582631312,"answer_id":60393947,"question_id":50953924,"body_markdown":"Please check either files are with size of 0 KB\r\nor\r\nYou may check with\r\n\r\n    try (final PDDocument document = PDDocument.load(file, MemoryUsageSetting.setupTempFileOnly())){","title":"PDFBox IOException: End of File, expected line","body":"<p>Please check either files are with size of 0 KB\nor\nYou may check with</p>\n<pre><code>try (final PDDocument document = PDDocument.load(file, MemoryUsageSetting.setupTempFileOnly())){\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2678732,"reputation":2991,"user_id":2314488,"display_name":"Fabrizio Caldarelli"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690452977,"creation_date":1690452977,"answer_id":76778736,"question_id":50953924,"body_markdown":"If the first parameter is a FileInputStream, verify that it is at beginning.\r\n\r\nTo be sure, always reset channel position to start:\r\n```\r\nif(inputStream instanceof FileInputStream)\r\n{\r\n    FileInputStream fis = (FileInputStream) inputStream;\r\n    fis.getChannel().position(0);\r\n}\r\n```","title":"PDFBox IOException: End of File, expected line","body":"<p>If the first parameter is a FileInputStream, verify that it is at beginning.</p>\n<p>To be sure, always reset channel position to start:</p>\n<pre><code>if(inputStream instanceof FileInputStream)\n{\n    FileInputStream fis = (FileInputStream) inputStream;\n    fis.getChannel().position(0);\n}\n</code></pre>\n"}],"owner":{"account_id":11158745,"reputation":113,"user_id":8189629,"display_name":"stevek"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32471,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":50956420,"answer_count":3,"score":7,"last_activity_date":1690452977,"creation_date":1529515730,"question_id":50953924,"body_markdown":"I am currently trying to grab text from a PDF that is already uploaded and accessed through a link by using PDFBox and Selenium.\r\nI used this as a source: http://www.seleniumeasy.com/selenium-tutorials/how-to-extract-pdf-text-and-verify-using-selenium-webdriver-java\r\n    \r\n    public String function(String pdf_url) {\r\n        PDFTextStripper pdfStripper = null;\r\n        PDDocument pDoc;\r\n        COSDocument cDoc;\r\n        String parsedText = &quot;&quot;;\r\n\t    try {\r\n\t\t    URL url = new URL(pdf_url);\r\n\t\t    BufferedInputStream file = new BufferedInputStream(url.openStream());\r\n\t\t    PDFParser parser = new PDFParser(file);\r\n\t\t    parser.parse();\r\n\t\t    cDoc = parser.getDocument();\r\n\t\t    pdfStripper = new PDFTextStripper();\r\n\t\t    pdfStripper.setStartPage(1);\r\n\t\t    pdfStripper.setEndPage(1);\r\n\t\t\t\r\n\t\t    pDoc = new PDDocument(cDoc);\r\n\t\t    parsedText = pdfStripper.getText(pDoc);\r\n\r\n\t    } catch (IOException e) {\r\n\t\t    // TODO Auto-generated catch block\r\n\t\t    e.printStackTrace();\r\n\t    }\r\n\t\t\r\n\t    return parsedText;\r\n    }\r\n\r\n    Error: End-of-File expected line\r\n    at org.apache.pdfbox.pdfparser.BaseParser.readLine(BaseParser.java:1519)\r\n    at org.apache.pdfbox.pdfparser.PDFParser.parseHeader(PDFParser.java:372)\r\n    at org.apache.pdfbox.pdfparser.PDFParser.parse(PDFParser.java:186)\r\n    at scripts.Script.grabPDF_Text(Script.java:94)\r\n    at scripts.Script.main(Script.java:817)\r\n\r\nWhy am I getting this error?","title":"PDFBox IOException: End of File, expected line","body":"<p>I am currently trying to grab text from a PDF that is already uploaded and accessed through a link by using PDFBox and Selenium.\nI used this as a source: <a href=\"http://www.seleniumeasy.com/selenium-tutorials/how-to-extract-pdf-text-and-verify-using-selenium-webdriver-java\" rel=\"noreferrer\">http://www.seleniumeasy.com/selenium-tutorials/how-to-extract-pdf-text-and-verify-using-selenium-webdriver-java</a></p>\n\n<pre><code>public String function(String pdf_url) {\n    PDFTextStripper pdfStripper = null;\n    PDDocument pDoc;\n    COSDocument cDoc;\n    String parsedText = \"\";\n    try {\n        URL url = new URL(pdf_url);\n        BufferedInputStream file = new BufferedInputStream(url.openStream());\n        PDFParser parser = new PDFParser(file);\n        parser.parse();\n        cDoc = parser.getDocument();\n        pdfStripper = new PDFTextStripper();\n        pdfStripper.setStartPage(1);\n        pdfStripper.setEndPage(1);\n\n        pDoc = new PDDocument(cDoc);\n        parsedText = pdfStripper.getText(pDoc);\n\n    } catch (IOException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n\n    return parsedText;\n}\n\nError: End-of-File expected line\nat org.apache.pdfbox.pdfparser.BaseParser.readLine(BaseParser.java:1519)\nat org.apache.pdfbox.pdfparser.PDFParser.parseHeader(PDFParser.java:372)\nat org.apache.pdfbox.pdfparser.PDFParser.parse(PDFParser.java:186)\nat scripts.Script.grabPDF_Text(Script.java:94)\nat scripts.Script.main(Script.java:817)\n</code></pre>\n\n<p>Why am I getting this error?</p>\n"},{"tags":["java","docker","log4j2","graylog"],"answers":[{"comments":[{"owner":{"account_id":19837058,"reputation":13,"user_id":14530503,"display_name":"Marcos Rodovalho"},"score":0,"creation_date":1603897573,"post_id":64562756,"comment_id":114182488,"body_markdown":"Thanks @AaronSachs ! i do the example like you said, and solve my problem. i put my port 5555 and worked!\n`host=&quot;tcp:127.0.0.1&quot; port=&quot;5555&quot;`","body":"Thanks @AaronSachs ! i do the example like you said, and solve my problem. i put my port 5555 and worked! <code>host=&quot;tcp:127.0.0.1&quot; port=&quot;5555&quot;</code>"}],"tags":[],"owner":{"account_id":4461936,"reputation":56,"user_id":4229449,"display_name":"AaronSachs"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1690452755,"creation_date":1603832094,"answer_id":64562756,"question_id":64560041,"body_markdown":"Graylog employee here. From what you&#39;re saying, it sounds like you&#39;ve not enabled a GELF input on your Graylog instance. I&#39;d recommend reading through our Docker installation docs for graylog version 3.3 [here][1]. Newer documentation can be found [here][2]\r\n\r\nI&#39;ll note that while the input in the example is for Raw/Plaintext, if you create a GELF TCP input using the instructions in that portion of the docs, then you should start seeing your logs show in the UI. \r\n\r\n  [1]: https://archivedocs.graylog.org/en/3.3/pages/installation/docker.html#how-to-get-log-data-in \r\n  [2]: https://go2docs.graylog.org/5-1/downloading_and_installing_graylog/docker_installation.htm#HowtoGetinLogData","title":"How to send log by Log4j2 to Graylog?","body":"<p>Graylog employee here. From what you're saying, it sounds like you've not enabled a GELF input on your Graylog instance. I'd recommend reading through our Docker installation docs for graylog version 3.3 <a href=\"https://archivedocs.graylog.org/en/3.3/pages/installation/docker.html#how-to-get-log-data-in\" rel=\"nofollow noreferrer\">here</a>. Newer documentation can be found <a href=\"https://go2docs.graylog.org/5-1/downloading_and_installing_graylog/docker_installation.htm#HowtoGetinLogData\" rel=\"nofollow noreferrer\">here</a></p>\n<p>I'll note that while the input in the example is for Raw/Plaintext, if you create a GELF TCP input using the instructions in that portion of the docs, then you should start seeing your logs show in the UI.</p>\n"}],"owner":{"account_id":19837058,"reputation":13,"user_id":14530503,"display_name":"Marcos Rodovalho"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3066,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":64562756,"answer_count":1,"score":1,"last_activity_date":1690452755,"creation_date":1603820506,"question_id":64560041,"body_markdown":"**I&#39;m trying to integrate a java application with a graylog server on the docker. but I&#39;m not able to send messages from my application to graylog, can someone help me?**\r\n\r\nHere is my **Docker Run**:\r\n\r\n```\r\n$ docker run --name mongo -d mongo:3\r\n$ docker run --name elasticsearch \\\r\n    -e &quot;http.host=0.0.0.0&quot; \\\r\n    -e &quot;ES_JAVA_OPTS=-Xms512m -Xmx512m&quot; \\\r\n    -d docker.elastic.co/elasticsearch/elasticsearch-oss:6.8.10\r\n$ docker run --name graylog --link mongo --link elasticsearch \\\r\n    -p 9000:9000 -p 12201:12201 -p 1514:1514 \\\r\n    -e GRAYLOG_HTTP_EXTERNAL_URI=&quot;http://127.0.0.1:9000/&quot; \\\r\n    -d graylog/graylog:3.3\r\n```\r\n\r\nhere is my Input config inside **Graylog**\r\n\r\n[Graylog Input][1]\r\n\r\n\r\nhere is the **application** tutorial i am using:\r\nhttps://talhature.com/2020/04/25/using-graylog-with-log4j2/\r\n\r\n\r\nhere is my **log4j2.xml**\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\r\n&lt;Configuration status=&quot;TRACE&quot; monitorInterval=&quot;180&quot;&gt;\r\n\t&lt;Properties&gt;\r\n\t\t&lt;Property name=&quot;app-name&quot;&gt;graylog-example-fatjar&lt;/Property&gt;\r\n\r\n\t\t&lt;!-- CHANGE log-path ACCORDING TO YOUR NEEDS --&gt;\r\n\t\t&lt;Property name=&quot;log-path&quot;&gt;$${sys:application-directory}/${app-name}/log\r\n\t\t&lt;/Property&gt;\r\n\t\t&lt;Property name=&quot;log-pattern&quot;&gt;[%sn] %d{yyyy/MM/dd HH:mm:ss,SSS} [%-6p] [%t]\r\n\t\t\t%c{3}:%L - %m%n&lt;/Property&gt;\r\n\t&lt;/Properties&gt;\r\n\r\n\t&lt;!-- CHANGE HOST AND PORT PROPERTIES ACCORDING TO YOUR NEEDS --&gt;\r\n\t&lt;Appenders&gt;\r\n\t\t&lt;Gelf name=&quot;gelf&quot; host=&quot;udp:127.0.0.1&quot; port=&quot;12201&quot;\r\n\t\t\tversion=&quot;1.1&quot; extractStackTrace=&quot;true&quot; filterStackTrace=&quot;true&quot;\r\n\t\t\tmdcProfiling=&quot;true&quot; includeFullMdc=&quot;true&quot; maximumMessageSize=&quot;8192&quot;\r\n\t\t\toriginHost=&quot;%host{fqdn}&quot;&gt;\r\n\r\n\t\t\t&lt;!-- THESE FIELD DEFINITIONS ARE NOT MANDATORY, YOU CAN USE DEFAULTS --&gt;\r\n\t\t\t&lt;Field name=&quot;timestamp&quot; pattern=&quot;%d{dd MMM yyyy HH:mm:ss,SSS}&quot; /&gt;\r\n\t\t\t&lt;Field name=&quot;level&quot; pattern=&quot;%level&quot; /&gt;\r\n\t\t\t&lt;Field name=&quot;simpleClassName&quot; pattern=&quot;%C{1}&quot; /&gt;\r\n\t\t\t&lt;Field name=&quot;className&quot; pattern=&quot;%C&quot; /&gt;\r\n\t\t\t&lt;Field name=&quot;server&quot; pattern=&quot;%host&quot; /&gt;\r\n\t\t\t&lt;Field name=&quot;server.fqdn&quot; pattern=&quot;%host{fqdn}&quot; /&gt;\r\n\r\n\t\t\t&lt;!-- THESE ARE MY CUSTOM GRAYLOG FIELDS --&gt;\r\n\t\t\t&lt;Field name=&quot;logStream&quot; literal=&quot;MYAWESOMEAPPS&quot; /&gt;\r\n\t\t\t&lt;Field name=&quot;projectName&quot; literal=&quot;MYAWESOMEPROJECT&quot; /&gt;\r\n\t\t&lt;/Gelf&gt;\r\n\t\t&lt;RollingFile name=&quot;RollingFile&quot;\r\n\t\t\tfileName=&quot;${log-path}/server/${app-name}-server&quot;\r\n\t\t\tfilePattern=&quot;${log-path}/server/${app-name}-server-%d{yyyy-MM-dd}-%i.log.gz&quot;\r\n\t\t\tappend=&quot;false&quot;&gt;\r\n\t\t\t&lt;PatternLayout&gt;\r\n\t\t\t\t&lt;pattern&gt;${log-pattern}&lt;/pattern&gt;\r\n\t\t\t&lt;/PatternLayout&gt;\r\n\t\t\t&lt;Policies&gt;\r\n\t\t\t\t&lt;SizeBasedTriggeringPolicy size=&quot;100 MB&quot; /&gt;\r\n\t\t\t&lt;/Policies&gt;\r\n\t\t&lt;/RollingFile&gt;\r\n\t&lt;/Appenders&gt;\r\n\r\n\t&lt;Loggers&gt;\r\n\t\t&lt;Root level=&quot;INFO&quot; additivity=&quot;false&quot; includeLocation=&quot;true&quot;&gt;\r\n\t\t\t&lt;AppenderRef ref=&quot;RollingFile&quot; /&gt;\r\n\t\t\t&lt;AppenderRef ref=&quot;gelf&quot; /&gt;\r\n\t\t&lt;/Root&gt;\r\n\t&lt;/Loggers&gt;\r\n&lt;/Configuration&gt;\r\n\r\n```\r\n\r\n\r\n****SOLUTION***\r\n\r\nup my docker this way to open a port 5555:\r\n\r\n```\r\n$ docker run --link mongo --link elasticsearch \\\r\n    -p 9000:9000 -p 12201:12201 -p 1514:1514 -p 5555:5555 \\\r\n    -e GRAYLOG_HTTP_EXTERNAL_URI=&quot;http://127.0.0.1:9000/&quot; \\\r\n    -d graylog/graylog:3.3\r\n```\r\nin my log4j2.xml i change the line 7:\r\n```\r\n&lt;Gelf name=&quot;Gelf&quot; host=&quot;tcp:127.0.0.1&quot; port=&quot;5555&quot; version=&quot;1.1&quot;\r\n```\r\nand my Graylog Input (Gelf:TCP):\r\n[Graylog Input Gelf TCP][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/e6fH2.png\r\n  [2]: https://i.stack.imgur.com/aN6gE.png","title":"How to send log by Log4j2 to Graylog?","body":"<p><strong>I'm trying to integrate a java application with a graylog server on the docker. but I'm not able to send messages from my application to graylog, can someone help me?</strong></p>\n<p>Here is my <strong>Docker Run</strong>:</p>\n<pre><code>$ docker run --name mongo -d mongo:3\n$ docker run --name elasticsearch \\\n    -e &quot;http.host=0.0.0.0&quot; \\\n    -e &quot;ES_JAVA_OPTS=-Xms512m -Xmx512m&quot; \\\n    -d docker.elastic.co/elasticsearch/elasticsearch-oss:6.8.10\n$ docker run --name graylog --link mongo --link elasticsearch \\\n    -p 9000:9000 -p 12201:12201 -p 1514:1514 \\\n    -e GRAYLOG_HTTP_EXTERNAL_URI=&quot;http://127.0.0.1:9000/&quot; \\\n    -d graylog/graylog:3.3\n</code></pre>\n<p>here is my Input config inside <strong>Graylog</strong></p>\n<p><a href=\"https://i.stack.imgur.com/e6fH2.png\" rel=\"nofollow noreferrer\">Graylog Input</a></p>\n<p>here is the <strong>application</strong> tutorial i am using:\n<a href=\"https://talhature.com/2020/04/25/using-graylog-with-log4j2/\" rel=\"nofollow noreferrer\">https://talhature.com/2020/04/25/using-graylog-with-log4j2/</a></p>\n<p>here is my <strong>log4j2.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\n&lt;Configuration status=&quot;TRACE&quot; monitorInterval=&quot;180&quot;&gt;\n    &lt;Properties&gt;\n        &lt;Property name=&quot;app-name&quot;&gt;graylog-example-fatjar&lt;/Property&gt;\n\n        &lt;!-- CHANGE log-path ACCORDING TO YOUR NEEDS --&gt;\n        &lt;Property name=&quot;log-path&quot;&gt;$${sys:application-directory}/${app-name}/log\n        &lt;/Property&gt;\n        &lt;Property name=&quot;log-pattern&quot;&gt;[%sn] %d{yyyy/MM/dd HH:mm:ss,SSS} [%-6p] [%t]\n            %c{3}:%L - %m%n&lt;/Property&gt;\n    &lt;/Properties&gt;\n\n    &lt;!-- CHANGE HOST AND PORT PROPERTIES ACCORDING TO YOUR NEEDS --&gt;\n    &lt;Appenders&gt;\n        &lt;Gelf name=&quot;gelf&quot; host=&quot;udp:127.0.0.1&quot; port=&quot;12201&quot;\n            version=&quot;1.1&quot; extractStackTrace=&quot;true&quot; filterStackTrace=&quot;true&quot;\n            mdcProfiling=&quot;true&quot; includeFullMdc=&quot;true&quot; maximumMessageSize=&quot;8192&quot;\n            originHost=&quot;%host{fqdn}&quot;&gt;\n\n            &lt;!-- THESE FIELD DEFINITIONS ARE NOT MANDATORY, YOU CAN USE DEFAULTS --&gt;\n            &lt;Field name=&quot;timestamp&quot; pattern=&quot;%d{dd MMM yyyy HH:mm:ss,SSS}&quot; /&gt;\n            &lt;Field name=&quot;level&quot; pattern=&quot;%level&quot; /&gt;\n            &lt;Field name=&quot;simpleClassName&quot; pattern=&quot;%C{1}&quot; /&gt;\n            &lt;Field name=&quot;className&quot; pattern=&quot;%C&quot; /&gt;\n            &lt;Field name=&quot;server&quot; pattern=&quot;%host&quot; /&gt;\n            &lt;Field name=&quot;server.fqdn&quot; pattern=&quot;%host{fqdn}&quot; /&gt;\n\n            &lt;!-- THESE ARE MY CUSTOM GRAYLOG FIELDS --&gt;\n            &lt;Field name=&quot;logStream&quot; literal=&quot;MYAWESOMEAPPS&quot; /&gt;\n            &lt;Field name=&quot;projectName&quot; literal=&quot;MYAWESOMEPROJECT&quot; /&gt;\n        &lt;/Gelf&gt;\n        &lt;RollingFile name=&quot;RollingFile&quot;\n            fileName=&quot;${log-path}/server/${app-name}-server&quot;\n            filePattern=&quot;${log-path}/server/${app-name}-server-%d{yyyy-MM-dd}-%i.log.gz&quot;\n            append=&quot;false&quot;&gt;\n            &lt;PatternLayout&gt;\n                &lt;pattern&gt;${log-pattern}&lt;/pattern&gt;\n            &lt;/PatternLayout&gt;\n            &lt;Policies&gt;\n                &lt;SizeBasedTriggeringPolicy size=&quot;100 MB&quot; /&gt;\n            &lt;/Policies&gt;\n        &lt;/RollingFile&gt;\n    &lt;/Appenders&gt;\n\n    &lt;Loggers&gt;\n        &lt;Root level=&quot;INFO&quot; additivity=&quot;false&quot; includeLocation=&quot;true&quot;&gt;\n            &lt;AppenderRef ref=&quot;RollingFile&quot; /&gt;\n            &lt;AppenderRef ref=&quot;gelf&quot; /&gt;\n        &lt;/Root&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n\n</code></pre>\n<p>*<em><strong>SOLUTION</strong></em></p>\n<p>up my docker this way to open a port 5555:</p>\n<pre><code>$ docker run --link mongo --link elasticsearch \\\n    -p 9000:9000 -p 12201:12201 -p 1514:1514 -p 5555:5555 \\\n    -e GRAYLOG_HTTP_EXTERNAL_URI=&quot;http://127.0.0.1:9000/&quot; \\\n    -d graylog/graylog:3.3\n</code></pre>\n<p>in my log4j2.xml i change the line 7:</p>\n<pre><code>&lt;Gelf name=&quot;Gelf&quot; host=&quot;tcp:127.0.0.1&quot; port=&quot;5555&quot; version=&quot;1.1&quot;\n</code></pre>\n<p>and my Graylog Input (Gelf:TCP):\n<a href=\"https://i.stack.imgur.com/aN6gE.png\" rel=\"nofollow noreferrer\">Graylog Input Gelf TCP</a></p>\n"},{"tags":["java","json","apache-kafka","opensearch","http-status-code-406"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1686903862,"post_id":76488273,"comment_id":134865173,"body_markdown":"It&#39;s not complaining about the body, but about the `Content-Type` header. Try sending `application/json` instead.","body":"It&#39;s not complaining about the body, but about the <code>Content-Type</code> header. Try sending <code>application&#47;json</code> instead."},{"owner":{"display_name":"user20174493"},"score":0,"creation_date":1686904288,"post_id":76488273,"comment_id":134865249,"body_markdown":"Thank you, i tried but didn&#39;t work, i edited the question with my client! Thx 4 ur time","body":"Thank you, i tried but didn&#39;t work, i edited the question with my client! Thx 4 ur time"},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1686904382,"post_id":76488273,"comment_id":134865269,"body_markdown":"Well yeah, now you are sending form data (`FormBody`) as if it was JSON. You need to make sure those match.","body":"Well yeah, now you are sending form data (<code>FormBody</code>) as if it was JSON. You need to make sure those match."}],"answers":[{"tags":[],"owner":{"display_name":"user20174493"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686906677,"creation_date":1686906677,"answer_id":76488661,"question_id":76488273,"body_markdown":"I solved making my request body a JsonObject using GSon dependencies:\r\n\r\n       &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n            &lt;version&gt;2.10.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nAnd that&#39;s the code:\r\n\r\n    JsonObject json = new JsonObject();\r\n        json.addProperty(&quot;Message n&#176;&quot;, record.offset());\r\n        RequestBody requestBody = RequestBody.create(MediaType.parse(&quot;application/json&quot;), json.toString());\r\n\r\n        Request request = new Request.Builder()\r\n                .url(url)\r\n                .header(&quot;Authorization&quot;, authHeader)\r\n                .post(requestBody) \r\n                .build();","title":"Getting status code 406 every time i send a message with kafka","body":"<p>I solved making my request body a JsonObject using GSon dependencies:</p>\n<pre><code>   &lt;dependency&gt;\n        &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n        &lt;artifactId&gt;gson&lt;/artifactId&gt;\n        &lt;version&gt;2.10.1&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>And that's the code:</p>\n<pre><code>JsonObject json = new JsonObject();\n    json.addProperty(&quot;Message n°&quot;, record.offset());\n    RequestBody requestBody = RequestBody.create(MediaType.parse(&quot;application/json&quot;), json.toString());\n\n    Request request = new Request.Builder()\n            .url(url)\n            .header(&quot;Authorization&quot;, authHeader)\n            .post(requestBody) \n            .build();\n</code></pre>\n"}],"owner":{"display_name":"user20174493"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76488661,"answer_count":1,"score":0,"last_activity_date":1690452705,"creation_date":1686903609,"question_id":76488273,"body_markdown":"Hi i&#39;m trying to write a RESTful service with Kafka.\r\nI&#39;m writing my code to make it store the messages received from kafka by the consumer into an open search index every time i make a GET or a POST request, but i&#39;m constantly receiving this error:\r\n\r\n    Result: {&quot;error&quot;:&quot;Content-Type header [application/x-www-form-urlencoded] is not supported&quot;,&quot;status&quot;:406}\r\n\r\nThis is my consumer:\r\n\r\n        public class Main {\r\n        static Client client = new Client();\r\n    \r\n        public static void main(String[] args) throws IOException, NoSuchAlgorithmException, KeyManagementException {\r\n    \r\n            String servers = &quot;localhost:9092&quot;;\r\n            String groupId = &quot;id&quot;;\r\n            String topic = &quot;mytopic&quot;;\r\n    \r\n            Properties properties = new Properties();\r\n            properties.setProperty(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, servers);\r\n            properties.setProperty(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class.getName());\r\n            properties.setProperty(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class.getName());\r\n            properties.setProperty(ConsumerConfig.GROUP_ID_CONFIG, groupId);\r\n            properties.setProperty(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;earliest&quot;);\r\n    \r\n            KafkaConsumer&lt;String, String&gt; kafkaConsumer = new KafkaConsumer&lt;&gt;(properties);\r\n            kafkaConsumer.subscribe(Arrays.asList(topic));\r\n    \r\n            Logger logger = LoggerFactory.getLogger(Main.class.getName());\r\n    \r\n            while (true) {\r\n                ConsumerRecords&lt;String, String&gt; records = kafkaConsumer.poll(Duration.ofMillis(3000));\r\n                for (ConsumerRecord&lt;String, String&gt; record : records) {\r\n                    logger.info(&quot;Key:&quot; + record.key() + &quot;, Value:&quot; + record.value());\r\n                    logger.info(&quot;Partition:&quot; + record.partition() + &quot;, Offset:&quot; + record.offset());\r\n    \r\n                    String result = client.run(&quot;https://localhost:9200/index3/_create/&quot; + record.offset(), &quot;admin&quot;, &quot;admin&quot;, record);\r\n                    System.out.println(&quot;Result: &quot; + result);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nIs there a way to avoid this??\r\n\r\nMy message is &quot;Request&quot;:&quot;valid&quot;, i tried to write it like a key-value json but i&#39;m wrong\r\n\r\nEDIT: i tried to set the Content type to &quot;application/json&quot; but it throws the same error!\r\n\r\nThis my client:\r\n\r\n        public String run(String url, String username, String password, ConsumerRecord&lt;String, String&gt; record) throws IOException, NoSuchAlgorithmException, KeyManagementException {\r\n    \r\n            //TrustManager per accettare tutti i certificati\r\n            TrustManager[] trustAllCerts = new TrustManager[]{new Client()};\r\n    \r\n            SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\r\n            sslContext.init(null, trustAllCerts, new SecureRandom());\r\n    \r\n            //Client\r\n            OkHttpClient client = new OkHttpClient.Builder()\r\n                    .connectionSpecs(Arrays.asList(ConnectionSpec.MODERN_TLS, ConnectionSpec.COMPATIBLE_TLS))\r\n                    .sslSocketFactory(sslContext.getSocketFactory(), (X509TrustManager) trustAllCerts[0])\r\n                    .hostnameVerifier((hostname, session) -&gt; true)\r\n                    .build();\r\n    \r\n            //Authentication\r\n            String credentials = username + &quot;:&quot; + password;\r\n            String encode = Base64.getEncoder().encodeToString(credentials.getBytes());\r\n            String authHeader = &quot;Basic &quot; + encode;\r\n    \r\n    \r\n            RequestBody requestBody = new FormBody.Builder()\r\n                    .add(&quot;Message:&quot;, &quot;n&#176;&quot; + record.offset())\r\n                    .build();\r\n    \r\n            Request request = new Request.Builder()\r\n                    .url(url)\r\n                    .header(&quot;Authorization&quot;, authHeader)\r\n                    .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n                    .post(requestBody) //Body della post\r\n                    .build();\r\n    \r\n            try (Response response = client.newCall(request).execute()) {\r\n                return response.body().string();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n","title":"Getting status code 406 every time i send a message with kafka","body":"<p>Hi i'm trying to write a RESTful service with Kafka.\nI'm writing my code to make it store the messages received from kafka by the consumer into an open search index every time i make a GET or a POST request, but i'm constantly receiving this error:</p>\n<pre><code>Result: {&quot;error&quot;:&quot;Content-Type header [application/x-www-form-urlencoded] is not supported&quot;,&quot;status&quot;:406}\n</code></pre>\n<p>This is my consumer:</p>\n<pre><code>    public class Main {\n    static Client client = new Client();\n\n    public static void main(String[] args) throws IOException, NoSuchAlgorithmException, KeyManagementException {\n\n        String servers = &quot;localhost:9092&quot;;\n        String groupId = &quot;id&quot;;\n        String topic = &quot;mytopic&quot;;\n\n        Properties properties = new Properties();\n        properties.setProperty(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, servers);\n        properties.setProperty(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class.getName());\n        properties.setProperty(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class.getName());\n        properties.setProperty(ConsumerConfig.GROUP_ID_CONFIG, groupId);\n        properties.setProperty(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;earliest&quot;);\n\n        KafkaConsumer&lt;String, String&gt; kafkaConsumer = new KafkaConsumer&lt;&gt;(properties);\n        kafkaConsumer.subscribe(Arrays.asList(topic));\n\n        Logger logger = LoggerFactory.getLogger(Main.class.getName());\n\n        while (true) {\n            ConsumerRecords&lt;String, String&gt; records = kafkaConsumer.poll(Duration.ofMillis(3000));\n            for (ConsumerRecord&lt;String, String&gt; record : records) {\n                logger.info(&quot;Key:&quot; + record.key() + &quot;, Value:&quot; + record.value());\n                logger.info(&quot;Partition:&quot; + record.partition() + &quot;, Offset:&quot; + record.offset());\n\n                String result = client.run(&quot;https://localhost:9200/index3/_create/&quot; + record.offset(), &quot;admin&quot;, &quot;admin&quot;, record);\n                System.out.println(&quot;Result: &quot; + result);\n            }\n        }\n    }\n}\n</code></pre>\n<p>Is there a way to avoid this??</p>\n<p>My message is &quot;Request&quot;:&quot;valid&quot;, i tried to write it like a key-value json but i'm wrong</p>\n<p>EDIT: i tried to set the Content type to &quot;application/json&quot; but it throws the same error!</p>\n<p>This my client:</p>\n<pre><code>    public String run(String url, String username, String password, ConsumerRecord&lt;String, String&gt; record) throws IOException, NoSuchAlgorithmException, KeyManagementException {\n\n        //TrustManager per accettare tutti i certificati\n        TrustManager[] trustAllCerts = new TrustManager[]{new Client()};\n\n        SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\n        sslContext.init(null, trustAllCerts, new SecureRandom());\n\n        //Client\n        OkHttpClient client = new OkHttpClient.Builder()\n                .connectionSpecs(Arrays.asList(ConnectionSpec.MODERN_TLS, ConnectionSpec.COMPATIBLE_TLS))\n                .sslSocketFactory(sslContext.getSocketFactory(), (X509TrustManager) trustAllCerts[0])\n                .hostnameVerifier((hostname, session) -&gt; true)\n                .build();\n\n        //Authentication\n        String credentials = username + &quot;:&quot; + password;\n        String encode = Base64.getEncoder().encodeToString(credentials.getBytes());\n        String authHeader = &quot;Basic &quot; + encode;\n\n\n        RequestBody requestBody = new FormBody.Builder()\n                .add(&quot;Message:&quot;, &quot;n°&quot; + record.offset())\n                .build();\n\n        Request request = new Request.Builder()\n                .url(url)\n                .header(&quot;Authorization&quot;, authHeader)\n                .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\n                .post(requestBody) //Body della post\n                .build();\n\n        try (Response response = client.newCall(request).execute()) {\n            return response.body().string();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","java.util.scanner","inputmismatchexception"],"comments":[{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":1,"creation_date":1690389477,"post_id":76773350,"comment_id":135347813,"body_markdown":"What is the exact input?","body":"What is the exact input?"},{"owner":{"display_name":"user6073886"},"score":3,"creation_date":1690389661,"post_id":76773350,"comment_id":135347856,"body_markdown":"Your error description and debugging done so far aren&#39;t very detailed, [but this may be a case of nextLine() being skipped after your nextLong() call](https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo)","body":"Your error description and debugging done so far aren&#39;t very detailed, <a href=\"https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo\">but this may be a case of nextLine() being skipped after your nextLong() call</a>"},{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":0,"creation_date":1690394619,"post_id":76773350,"comment_id":135349004,"body_markdown":"Does this answer your question? [Scanner is skipping nextLine() after using next() or nextFoo()?](https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo\">Scanner is skipping nextLine() after using next() or nextFoo()?</a>"}],"answers":[{"comments":[{"owner":{"account_id":21322574,"reputation":51,"user_id":15695480,"display_name":"Programmer AHN"},"score":0,"creation_date":1690446362,"post_id":76773460,"comment_id":135355839,"body_markdown":"Thanks , it works!","body":"Thanks , it works!"},{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":1,"creation_date":1690455740,"post_id":76773460,"comment_id":135357773,"body_markdown":"@ProgrammerAHN You&#39;re welcome!","body":"@ProgrammerAHN You&#39;re welcome!"}],"tags":[],"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1690452702,"creation_date":1690390219,"answer_id":76773460,"question_id":76773350,"body_markdown":"When you call `sc.nextLine()` to read the coach, it encounters the newline character left by the previous `nextLong()` call. As a result, **it reads an empty line** (interprets the newline character as an input line) and proceeds without letting you enter the *coach name*.\r\n\r\nMy suggestion is always use `nextLine()` and convert to the wanted `Class`, like this:\r\n\r\n```java\r\nvoid accept() {\r\n\tSystem.out.println(&quot;Enter name , mobile number and coach for the customer and also the amount of ticket.&quot;);\r\n\tname = sc.nextLine();\r\n\t\r\n\t// Cast long value\r\n\tmobno = Long.valueOf(sc.nextLine());\r\n\t\r\n\tcoach = sc.nextLine();\r\n\t\r\n\t// Cast int value\r\n\tamt = Integer.parseInt(sc.nextLine());\r\n}\r\n```\r\n**Check this out:**\r\n - [InputMismatchException when using Sacnner nextLine for String][1]\r\n - [Scanner is skipping nextLine() after using next() or nextFoo()?][2]\r\n\r\nBut you can do this way too:\r\n```java\r\nvoid accept() {\r\n    System.out.println(&quot;Enter name, mobile number, coach for the customer, and also the amount of ticket.&quot;);\r\n    name = sc.nextLine();\r\n    mobno = sc.nextLong();\r\n\r\n    // Consume the remaining newline character in the input buffer\r\n    sc.nextLine();\r\n\r\n    coach = sc.nextLine();\r\n    amt = sc.nextInt();\r\n}\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/38319917/inputmismatchexception-when-using-sacnner-nextline-for-string\r\n  [2]: https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo","title":"sc.nextLine() throws InputMismatchException while sc.next() doesn&#39;t","body":"<p>When you call <code>sc.nextLine()</code> to read the coach, it encounters the newline character left by the previous <code>nextLong()</code> call. As a result, <strong>it reads an empty line</strong> (interprets the newline character as an input line) and proceeds without letting you enter the <em>coach name</em>.</p>\n<p>My suggestion is always use <code>nextLine()</code> and convert to the wanted <code>Class</code>, like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>void accept() {\n    System.out.println(&quot;Enter name , mobile number and coach for the customer and also the amount of ticket.&quot;);\n    name = sc.nextLine();\n    \n    // Cast long value\n    mobno = Long.valueOf(sc.nextLine());\n    \n    coach = sc.nextLine();\n    \n    // Cast int value\n    amt = Integer.parseInt(sc.nextLine());\n}\n</code></pre>\n<p><strong>Check this out:</strong></p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/38319917/inputmismatchexception-when-using-sacnner-nextline-for-string\">InputMismatchException when using Sacnner nextLine for String</a></li>\n<li><a href=\"https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo\">Scanner is skipping nextLine() after using next() or nextFoo()?</a></li>\n</ul>\n<p>But you can do this way too:</p>\n<pre class=\"lang-java prettyprint-override\"><code>void accept() {\n    System.out.println(&quot;Enter name, mobile number, coach for the customer, and also the amount of ticket.&quot;);\n    name = sc.nextLine();\n    mobno = sc.nextLong();\n\n    // Consume the remaining newline character in the input buffer\n    sc.nextLine();\n\n    coach = sc.nextLine();\n    amt = sc.nextInt();\n}\n</code></pre>\n"}],"owner":{"account_id":21322574,"reputation":51,"user_id":15695480,"display_name":"Programmer AHN"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76773460,"answer_count":1,"score":-1,"last_activity_date":1690452702,"creation_date":1690389210,"question_id":76773350,"body_markdown":"In the following code snippet, scanner is throwing `InputMismatchException` after I input the value for coach and press enter. However if I use `coach=sc.next();` , no such exception is thrown.\r\n\r\n\r\n    \r\n```\r\nvoid accept() {\r\n        System.out.println(&quot;Enter name , mobile number and coach for the customer and also the amount of ticket.&quot;);\r\n        name=sc.nextLine();\r\n        mobno= sc.nextLong();\r\n        coach=sc.nextLine();\r\n        amt=sc.nextInt();\r\n    }\r\n```\r\n\r\n\r\n\r\nI expected no exception in both the cases however I cannot understand why the exception is thrown only for `sc.nextLine();`.\r\nThanks everyone!\r\n","title":"sc.nextLine() throws InputMismatchException while sc.next() doesn&#39;t","body":"<p>In the following code snippet, scanner is throwing <code>InputMismatchException</code> after I input the value for coach and press enter. However if I use <code>coach=sc.next();</code> , no such exception is thrown.</p>\n<pre><code>void accept() {\n        System.out.println(&quot;Enter name , mobile number and coach for the customer and also the amount of ticket.&quot;);\n        name=sc.nextLine();\n        mobno= sc.nextLong();\n        coach=sc.nextLine();\n        amt=sc.nextInt();\n    }\n</code></pre>\n<p>I expected no exception in both the cases however I cannot understand why the exception is thrown only for <code>sc.nextLine();</code>.\nThanks everyone!</p>\n"},{"tags":["java","android","android-studio"],"answers":[{"tags":[],"owner":{"account_id":337347,"reputation":3171,"user_id":665561,"accept_rate":67,"display_name":"Shashank Degloorkar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1570678426,"creation_date":1570678426,"answer_id":58315077,"question_id":58314756,"body_markdown":"I suppose you want to navigate to GPS settings screen.\r\ntry this.\r\n\r\n    startActivity(new Intent(Settings.ACTION_LOCATION_SOURCE_SETTINGS));\r\n\r\nThe phone/device might be missing locale settings screen altogether which leads to the crash.\r\n","title":"No Activity found to handle Intent { act=android.settings.LOCALE_SETTINGS }","body":"<p>I suppose you want to navigate to GPS settings screen.\ntry this.</p>\n\n<pre><code>startActivity(new Intent(Settings.ACTION_LOCATION_SOURCE_SETTINGS));\n</code></pre>\n\n<p>The phone/device might be missing locale settings screen altogether which leads to the crash.</p>\n"},{"tags":[],"owner":{"account_id":13658824,"reputation":1046,"user_id":9854554,"display_name":"Naresh NK"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1570681281,"creation_date":1570681281,"answer_id":58315415,"question_id":58314756,"body_markdown":"Always use this method to start intents other than your app&#39;s - \r\n\r\n    Intent intent = new Intent(Settings.ACTION_LOCATION_SOURCE_SETTINGS);\r\n    if(intent.resolveActivity(context.getPackageManager()) != null){\r\n        startActivity(intent);\r\n    }else{\r\n        //handle activity not found\r\n    }\r\n\r\nthis way you won&#39;t get ActivityNotFoundException.\r\n\r\nYou can also use try catch as -\r\n\r\n    try {\r\n           startActivity(new Intent(Settings.ACTION_LOCATION_SOURCE_SETTINGS));\r\n        } catch (e: ActivityNotFoundException) {\r\n           //handle activity not found\r\n        }\r\n\r\n","title":"No Activity found to handle Intent { act=android.settings.LOCALE_SETTINGS }","body":"<p>Always use this method to start intents other than your app's - </p>\n\n<pre><code>Intent intent = new Intent(Settings.ACTION_LOCATION_SOURCE_SETTINGS);\nif(intent.resolveActivity(context.getPackageManager()) != null){\n    startActivity(intent);\n}else{\n    //handle activity not found\n}\n</code></pre>\n\n<p>this way you won't get ActivityNotFoundException.</p>\n\n<p>You can also use try catch as -</p>\n\n<pre><code>try {\n       startActivity(new Intent(Settings.ACTION_LOCATION_SOURCE_SETTINGS));\n    } catch (e: ActivityNotFoundException) {\n       //handle activity not found\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":18740842,"reputation":3833,"user_id":13664137,"display_name":"moken"},"score":0,"creation_date":1690194985,"post_id":58316051,"comment_id":135314629,"body_markdown":"Answer needs supporting information\nYour answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](https://stackoverflow.com/help/how-to-answer).","body":"Answer needs supporting information Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/58316051/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"https://stackoverflow.com/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":13938611,"reputation":471,"user_id":10065056,"display_name":"Bhavik Nathani"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690452602,"creation_date":1570685722,"answer_id":58316051,"question_id":58314756,"body_markdown":"    Intent i = new Intent(Settings.ACTION_LOCATION_SOURCE_SETTINGS);\r\n    i.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK); //This line solve my issue\r\n    startActivity(i);","title":"No Activity found to handle Intent { act=android.settings.LOCALE_SETTINGS }","body":"<pre><code>Intent i = new Intent(Settings.ACTION_LOCATION_SOURCE_SETTINGS);\ni.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK); //This line solve my issue\nstartActivity(i);\n</code></pre>\n"}],"owner":{"account_id":16861758,"reputation":61,"user_id":12192381,"display_name":"Diana Rosado"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2966,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1690452602,"creation_date":1570675762,"question_id":58314756,"body_markdown":"I am creating a code that checks for the current location, however, when I check for the current location, it crashes. I looked into Stack Trace and saw this. I read other forums but I am not familiar with their solutions. I am also a beginner in Java. I used an Amazon Fire Tablet to download this app. When I tried testing it on the emulator, the app did not crash.\r\n```\r\n android.content.ActivityNotFoundException: No Activity found to handle Intent { act=android.settings.LOCALE_SETTINGS }\r\n        at android.app.Instrumentation.checkStartActivityResult(Instrumentation.java:1797)\r\n        at android.app.Instrumentation.execStartActivity(Instrumentation.java:1517)\r\n        at android.app.Activity.startActivityForResult(Activity.java:3761)\r\n        at androidx.fragment.app.FragmentActivity.startActivityForResult(FragmentActivity.java:676)\r\n        at android.app.Activity.startActivityForResult(Activity.java:3722)\r\n        at androidx.fragment.app.FragmentActivity.startActivityForResult(FragmentActivity.java:663)\r\n        at android.app.Activity.startActivity(Activity.java:4032)\r\n        at android.app.Activity.startActivity(Activity.java:4000)\r\n        at com.example.calculatorandlocationfinderfinal.MainActivity$7.onClick(MainActivity.java:181)\r\n        at androidx.appcompat.app.AlertController$ButtonHandler.handleMessage(AlertController.java:167)\r\n        at android.os.Handler.dispatchMessage(Handler.java:102)\r\n        at android.os.Looper.loop(Looper.java:135)\r\n        at android.app.ActivityThread.main(ActivityThread.java:5491)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at java.lang.reflect.Method.invoke(Method.java:372)\r\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:984)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:779)\r\n```\r\nBelow is the code where it happened. \r\n```java\r\nprivate void onGPS() {\r\n    final AlertDialog.Builder builder = new AlertDialog.Builder(this);\r\n    builder.setMessage(&quot;Enable GPS&quot;).setCancelable(false).setPositiveButton(&quot;YES&quot;, new DialogInterface.OnClickListener() {\r\n        @Override\r\n        public void onClick(DialogInterface dialog, int which) {\r\n            startActivity(new Intent(Settings.ACTION_LOCALE_SETTINGS));\r\n        }\r\n    }).setNegativeButton(&quot;No&quot;, new DialogInterface.OnClickListener() {\r\n        @Override\r\n        public void onClick(DialogInterface dialog, int which) {\r\n            dialog.cancel();\r\n        }\r\n    });\r\n    final AlertDialog alertDialog = builder.create();\r\n    alertDialog.show();\r\n}\r\n```","title":"No Activity found to handle Intent { act=android.settings.LOCALE_SETTINGS }","body":"<p>I am creating a code that checks for the current location, however, when I check for the current location, it crashes. I looked into Stack Trace and saw this. I read other forums but I am not familiar with their solutions. I am also a beginner in Java. I used an Amazon Fire Tablet to download this app. When I tried testing it on the emulator, the app did not crash.</p>\n\n<pre><code> android.content.ActivityNotFoundException: No Activity found to handle Intent { act=android.settings.LOCALE_SETTINGS }\n        at android.app.Instrumentation.checkStartActivityResult(Instrumentation.java:1797)\n        at android.app.Instrumentation.execStartActivity(Instrumentation.java:1517)\n        at android.app.Activity.startActivityForResult(Activity.java:3761)\n        at androidx.fragment.app.FragmentActivity.startActivityForResult(FragmentActivity.java:676)\n        at android.app.Activity.startActivityForResult(Activity.java:3722)\n        at androidx.fragment.app.FragmentActivity.startActivityForResult(FragmentActivity.java:663)\n        at android.app.Activity.startActivity(Activity.java:4032)\n        at android.app.Activity.startActivity(Activity.java:4000)\n        at com.example.calculatorandlocationfinderfinal.MainActivity$7.onClick(MainActivity.java:181)\n        at androidx.appcompat.app.AlertController$ButtonHandler.handleMessage(AlertController.java:167)\n        at android.os.Handler.dispatchMessage(Handler.java:102)\n        at android.os.Looper.loop(Looper.java:135)\n        at android.app.ActivityThread.main(ActivityThread.java:5491)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at java.lang.reflect.Method.invoke(Method.java:372)\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:984)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:779)\n</code></pre>\n\n<p>Below is the code where it happened. </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>private void onGPS() {\n    final AlertDialog.Builder builder = new AlertDialog.Builder(this);\n    builder.setMessage(\"Enable GPS\").setCancelable(false).setPositiveButton(\"YES\", new DialogInterface.OnClickListener() {\n        @Override\n        public void onClick(DialogInterface dialog, int which) {\n            startActivity(new Intent(Settings.ACTION_LOCALE_SETTINGS));\n        }\n    }).setNegativeButton(\"No\", new DialogInterface.OnClickListener() {\n        @Override\n        public void onClick(DialogInterface dialog, int which) {\n            dialog.cancel();\n        }\n    });\n    final AlertDialog alertDialog = builder.create();\n    alertDialog.show();\n}\n</code></pre>\n"},{"tags":["java","string","arrays","byte"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1349362372,"post_id":12730007,"comment_id":17193596,"body_markdown":"Did you mean to use `bytes[2]` rather than `bytes[3]`?","body":"Did you mean to use <code>bytes[2]</code> rather than <code>bytes[3]</code>?"}],"answers":[{"comments":[{"owner":{"account_id":325446,"reputation":17129,"user_id":646634,"accept_rate":100,"display_name":"Brian"},"score":2,"creation_date":1349362897,"post_id":12730049,"comment_id":17193838,"body_markdown":"+1 for clarifying that Java strings aren&#39;t C strings :) Perhaps it&#39;s also worth mentioning the `String(byte[], int, int, String)` constructor that allows you to specify the exact subset of bytes used to create the string.","body":"+1 for clarifying that Java strings aren&#39;t C strings :) Perhaps it&#39;s also worth mentioning the <code>String(byte[], int, int, String)</code> constructor that allows you to specify the exact subset of bytes used to create the string."}],"tags":[],"owner":{"account_id":255665,"reputation":232836,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"comment_count":1,"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1349363349,"creation_date":1349362414,"answer_id":12730049,"question_id":12730007,"body_markdown":"In Java, strings are not null-delimited. The string that is constructed from the byte array uses the entire length of the array. Since 0x00 converts one-to-one to the character `&#39;\\0&#39;`, the resulting string has the same length as the entire array&amp;mdash;32. When it is printed to System.out, null characters have zero width, so it looks like &quot;abc&quot; but it is really &quot;abc\\0\\0\\0...&quot; (for 32 characters).\r\n\r\nThe reason `trim()` fixes this is that it considers `&#39;\\0&#39;` to be white space.\r\n\r\nNote that if you want to convert a null-delimited byte representation of a string to a `String`, you will need to find the index at which to stop. Then (as @Brian notes in his comment), you can use a different String constructor:\r\n\r\n    String abc2 = new String(bytes, 0, indexOfFirstNull, Charset.forName(&quot;US-ASCII&quot;));\r\n\r\nHowever, this must be done with caution. You are using the US-ASCII character set for the platform, where the index of the first zero byte is probably a natural stopping place. However, in many character sets (such as UTF-16), zero bytes can occur as a normal part of the actual text.","title":"Java String constructed from byte array has bad length","body":"<p>In Java, strings are not null-delimited. The string that is constructed from the byte array uses the entire length of the array. Since 0x00 converts one-to-one to the character <code>'\\0'</code>, the resulting string has the same length as the entire array&mdash;32. When it is printed to System.out, null characters have zero width, so it looks like \"abc\" but it is really \"abc\\0\\0\\0...\" (for 32 characters).</p>\n\n<p>The reason <code>trim()</code> fixes this is that it considers <code>'\\0'</code> to be white space.</p>\n\n<p>Note that if you want to convert a null-delimited byte representation of a string to a <code>String</code>, you will need to find the index at which to stop. Then (as @Brian notes in his comment), you can use a different String constructor:</p>\n\n<pre><code>String abc2 = new String(bytes, 0, indexOfFirstNull, Charset.forName(\"US-ASCII\"));\n</code></pre>\n\n<p>However, this must be done with caution. You are using the US-ASCII character set for the platform, where the index of the first zero byte is probably a natural stopping place. However, in many character sets (such as UTF-16), zero bytes can occur as a normal part of the actual text.</p>\n"},{"comments":[{"owner":{"account_id":255665,"reputation":232836,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"score":0,"creation_date":1349362870,"post_id":12730087,"comment_id":17193828,"body_markdown":"Interestingly, though, `Character.isWhitespace(&#39;\\0&#39;)` returns `false`.","body":"Interestingly, though, <code>Character.isWhitespace(&#39;\\0&#39;)</code> returns <code>false</code>."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1349363699,"post_id":12730087,"comment_id":17194265,"body_markdown":"@TedHopp: Absolutely. It&#39;s an odd definition of whitespace, but it *is* behaving as documented.","body":"@TedHopp: Absolutely. It&#39;s an odd definition of whitespace, but it <i>is</i> behaving as documented."}],"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1690452570,"creation_date":1349362522,"answer_id":12730087,"question_id":12730007,"body_markdown":"&gt; The length of the resulting String object is usually wrong. \r\n\r\nNo, it&#39;s right - you&#39;ve just misunderstood what it&#39;s meant to do. It&#39;s creating a string based on one character per byte, basically - when you use an encoding of US-ASCII, at least.\r\n\r\n&gt; Strangely, even though abc2 contains no whitespace characters, abc2.trim() returns the same string, but with the length adjusted to the correct value of 3 and abc1.equals(abc2) returns true... Am I missing something obvious?\r\n\r\nThe docs for [`trim()`][1] state (after two conditions which don&#39;t apply):\r\n\r\n&gt; - Otherwise, let k be the index of the first character in the string whose code is greater than &#39;\\u0020&#39;, and let m be the index of the last character in the string whose code is greater than &#39;\\u0020&#39;. A new String object is created, representing the substring of this string that begins with the character at index k and ends with the character at index m-that is, the result of this.substring(k, m+1).\r\n\r\nSo `trim()` basically treats &quot;whitespace&quot; as equivalent to &quot;U+0000 to U+0020 inclusive&quot;. That&#39;s a bizarrely inaccurate (read: predating Unicode, basically) representation of &quot;whitespace&quot;, but it does explain the behaviour.\r\n\r\nBasically what you&#39;re seeing is:\r\n\r\n    String trailingNulls = &quot;abc\\0\\0\\0\\0\\0\\0&quot;;\r\n    String trimmed = trailingNulls.trim();\r\n    System.out.println(trimmed.length()); // 3\r\n\r\nThat has nothing to do with constructing a string from a byte array.\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#trim%28%29","title":"Java String constructed from byte array has bad length","body":"<blockquote>\n<p>The length of the resulting String object is usually wrong.</p>\n</blockquote>\n<p>No, it's right - you've just misunderstood what it's meant to do. It's creating a string based on one character per byte, basically - when you use an encoding of US-ASCII, at least.</p>\n<blockquote>\n<p>Strangely, even though abc2 contains no whitespace characters, abc2.trim() returns the same string, but with the length adjusted to the correct value of 3 and abc1.equals(abc2) returns true... Am I missing something obvious?</p>\n</blockquote>\n<p>The docs for <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#trim%28%29\" rel=\"nofollow noreferrer\"><code>trim()</code></a> state (after two conditions which don't apply):</p>\n<blockquote>\n<ul>\n<li>Otherwise, let k be the index of the first character in the string whose code is greater than '\\u0020', and let m be the index of the last character in the string whose code is greater than '\\u0020'. A new String object is created, representing the substring of this string that begins with the character at index k and ends with the character at index m-that is, the result of this.substring(k, m+1).</li>\n</ul>\n</blockquote>\n<p>So <code>trim()</code> basically treats &quot;whitespace&quot; as equivalent to &quot;U+0000 to U+0020 inclusive&quot;. That's a bizarrely inaccurate (read: predating Unicode, basically) representation of &quot;whitespace&quot;, but it does explain the behaviour.</p>\n<p>Basically what you're seeing is:</p>\n<pre><code>String trailingNulls = &quot;abc\\0\\0\\0\\0\\0\\0&quot;;\nString trimmed = trailingNulls.trim();\nSystem.out.println(trimmed.length()); // 3\n</code></pre>\n<p>That has nothing to do with constructing a string from a byte array.</p>\n"},{"tags":[],"owner":{"account_id":1355206,"reputation":33312,"user_id":1293744,"accept_rate":44,"display_name":"Kumar Vivek Mitra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1349362598,"creation_date":1349362598,"answer_id":12730108,"question_id":12730007,"body_markdown":"**-** First of all String being an Object type in java, equals() method of Object class to compare them..\r\n\r\n**Eg:**\r\n\r\n`&quot;abc&quot; .equals(&quot;abc&quot;)`\r\n\r\n**-** You can remove the `\\0` from the resulting string by using `trim()` method, then you will get the result you want....","title":"Java String constructed from byte array has bad length","body":"<p><strong>-</strong> First of all String being an Object type in java, equals() method of Object class to compare them..</p>\n\n<p><strong>Eg:</strong></p>\n\n<p><code>\"abc\" .equals(\"abc\")</code></p>\n\n<p><strong>-</strong> You can remove the <code>\\0</code> from the resulting string by using <code>trim()</code> method, then you will get the result you want....</p>\n"},{"comments":[{"owner":{"account_id":1905323,"reputation":33,"user_id":1720325,"display_name":"user1720325"},"score":0,"creation_date":1349363853,"post_id":12730143,"comment_id":17194346,"body_markdown":"Yes, the byte array index issue was a typo in my post, my apologies.","body":"Yes, the byte array index issue was a typo in my post, my apologies."}],"tags":[],"owner":{"account_id":437352,"reputation":19077,"user_id":824987,"accept_rate":56,"display_name":"Amit Deshpande"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1349363252,"creation_date":1349362727,"answer_id":12730143,"question_id":12730007,"body_markdown":"First of all indexes  assigned  are wrong. They should be\r\n\r\n\t        bytes[0] = 0x61; // &#39;a&#39;\r\n\t        bytes[1] = 0x62; // &#39;b&#39;\r\n\t        bytes[2] = 0x63; // &#39;c&#39;\r\n\t        bytes[3] = 0x00; // NUL\r\n\r\n\r\nIf you check the `equals` method of `String` class you will come to know the reason. It is iterating over `char[]` and checking each value if index. So if length is different of `char[]` it will return you `false.`\r\n\r\n      while (n-- != 0) {\r\n                    if (v1[i++] != v2[j++])\r\n                        return false;\r\n                }\r\n\r\nFix is to use `trim` \r\n\r\n     abc2.equals(abc1.trim())\r\n\r\nJava doc of [String#trim()](http://docs.oracle.com/javase/6/docs/api/java/lang/String.html#trim%28%29)\r\n\r\n&gt;Otherwise, let k be the index of the first character in the string whose code is greater than &#39;\\u0020&#39;, and let m be the index of the last character in the string whose code is greater than &#39;\\u0020&#39;\r\n\r\n\r\n","title":"Java String constructed from byte array has bad length","body":"<p>First of all indexes  assigned  are wrong. They should be</p>\n\n<pre><code>        bytes[0] = 0x61; // 'a'\n        bytes[1] = 0x62; // 'b'\n        bytes[2] = 0x63; // 'c'\n        bytes[3] = 0x00; // NUL\n</code></pre>\n\n<p>If you check the <code>equals</code> method of <code>String</code> class you will come to know the reason. It is iterating over <code>char[]</code> and checking each value if index. So if length is different of <code>char[]</code> it will return you <code>false.</code></p>\n\n<pre><code>  while (n-- != 0) {\n                if (v1[i++] != v2[j++])\n                    return false;\n            }\n</code></pre>\n\n<p>Fix is to use <code>trim</code> </p>\n\n<pre><code> abc2.equals(abc1.trim())\n</code></pre>\n\n<p>Java doc of <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/String.html#trim%28%29\" rel=\"nofollow\">String#trim()</a></p>\n\n<blockquote>\n  <p>Otherwise, let k be the index of the first character in the string whose code is greater than '\\u0020', and let m be the index of the last character in the string whose code is greater than '\\u0020'</p>\n</blockquote>\n"}],"owner":{"account_id":1905323,"reputation":33,"user_id":1720325,"display_name":"user1720325"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9960,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":12730049,"answer_count":4,"score":3,"last_activity_date":1690452570,"creation_date":1349362266,"question_id":12730007,"body_markdown":"I&#39;m having a difficult time understanding the rationale behind the semantics of the Java String(byte[]) constructors (Java 6).  The length of the resulting String object is usually wrong.  Perhaps someone here can explain why this makes any sense.\r\n\r\nConsider the following small Java program:\r\n\r\n    import java.nio.charset.Charset;\r\n    \r\n    public class Test {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tString abc1 = new String(&quot;abc&quot;);\r\n    \t\tbyte[] bytes = new byte[32];\r\n    \r\n    \t\tbytes[0] = 0x61; // &#39;a&#39;\r\n    \t\tbytes[1] = 0x62; // &#39;b&#39;\r\n    \t\tbytes[2] = 0x63; // &#39;c&#39;\r\n    \t\tbytes[3] = 0x00; // NUL\r\n    \r\n    \t\tString abc2 = new String(bytes, Charset.forName(&quot;US-ASCII&quot;));\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;abc1: \\&quot;&quot; + abc1 + &quot;\\&quot; length: &quot; + abc1.length());\r\n    \t\tSystem.out.println(&quot;abc2: \\&quot;&quot; + abc2 + &quot;\\&quot; length: &quot; + abc2.length());\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;\\&quot;&quot; + abc1 + &quot;\\&quot; &quot; +\r\n    \t\t\t\t(abc1.equals(abc2) ? &quot;==&quot; : &quot;!=&quot;) + &quot; \\&quot;&quot; + abc2 + &quot;\\&quot;&quot;);\r\n    \t}\r\n    }\r\n\r\nThe output of this program is:\r\n\r\n    abc1: &quot;abc&quot; length: 3\r\n    abc2: &quot;abc&quot; length: 32\r\n    &quot;abc&quot; != &quot;abc&quot;\r\n\r\nThe documentation for the String byte[] constructor states, &quot;The length of the new String is a function of the charset, and hence may not be equal to the length of the byte array.&quot;  Precisely true indeed, and in the US-ASCII character set, the length of the string &quot;abc&quot; is 3, and not 32.\r\n\r\nStrangely, even though abc2 contains no whitespace characters, abc2.trim() returns the same string, but with the length adjusted to the correct value of 3 and abc1.equals(abc2) returns true...  Am I missing something obvious?\r\n\r\nYes, I realize I can pass in an explicit length into the constructor, I&#39;m just trying to understand the default semantics.","title":"Java String constructed from byte array has bad length","body":"<p>I'm having a difficult time understanding the rationale behind the semantics of the Java String(byte[]) constructors (Java 6).  The length of the resulting String object is usually wrong.  Perhaps someone here can explain why this makes any sense.</p>\n\n<p>Consider the following small Java program:</p>\n\n<pre><code>import java.nio.charset.Charset;\n\npublic class Test {\n    public static void main(String[] args) {\n        String abc1 = new String(\"abc\");\n        byte[] bytes = new byte[32];\n\n        bytes[0] = 0x61; // 'a'\n        bytes[1] = 0x62; // 'b'\n        bytes[2] = 0x63; // 'c'\n        bytes[3] = 0x00; // NUL\n\n        String abc2 = new String(bytes, Charset.forName(\"US-ASCII\"));\n\n        System.out.println(\"abc1: \\\"\" + abc1 + \"\\\" length: \" + abc1.length());\n        System.out.println(\"abc2: \\\"\" + abc2 + \"\\\" length: \" + abc2.length());\n\n        System.out.println(\"\\\"\" + abc1 + \"\\\" \" +\n                (abc1.equals(abc2) ? \"==\" : \"!=\") + \" \\\"\" + abc2 + \"\\\"\");\n    }\n}\n</code></pre>\n\n<p>The output of this program is:</p>\n\n<pre><code>abc1: \"abc\" length: 3\nabc2: \"abc\" length: 32\n\"abc\" != \"abc\"\n</code></pre>\n\n<p>The documentation for the String byte[] constructor states, \"The length of the new String is a function of the charset, and hence may not be equal to the length of the byte array.\"  Precisely true indeed, and in the US-ASCII character set, the length of the string \"abc\" is 3, and not 32.</p>\n\n<p>Strangely, even though abc2 contains no whitespace characters, abc2.trim() returns the same string, but with the length adjusted to the correct value of 3 and abc1.equals(abc2) returns true...  Am I missing something obvious?</p>\n\n<p>Yes, I realize I can pass in an explicit length into the constructor, I'm just trying to understand the default semantics.</p>\n"},{"tags":["java","maven","maven-ear-plugin"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1690456732,"post_id":76778596,"comment_id":135357991,"body_markdown":"Without pom file, JDK version etc. log file issue or alike it&#39;s more or less impossible to make even an educated guess...","body":"Without pom file, JDK version etc. log file issue or alike it&#39;s more or less impossible to make even an educated guess..."}],"owner":{"account_id":8953903,"reputation":11,"user_id":6679012,"display_name":"Michail Touloupis"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690452013,"creation_date":1690452013,"question_id":76778596,"body_markdown":"I have two WAR files inside an EAR file. I use skinny wars (maven-ear-plugin) so that all common jar files of the WARs are added in the root lib directory of the EAR file. In this case, the WEB-INF/lib of both WARs are empty.\r\nHowever, there are two other jar files which I need to place in the WEB-INF/lib of the WARs.\r\n\r\nThe jar1.jar inside the WEB-INF/lib of the first WAR.\r\nThe jar2.jar inside the WEB-INF/lib of the second WAR.\r\n\r\nIs there any way to do this?","title":"How to add jar files in WAR WEB-INF/lib, when skinny-wars is used?","body":"<p>I have two WAR files inside an EAR file. I use skinny wars (maven-ear-plugin) so that all common jar files of the WARs are added in the root lib directory of the EAR file. In this case, the WEB-INF/lib of both WARs are empty.\nHowever, there are two other jar files which I need to place in the WEB-INF/lib of the WARs.</p>\n<p>The jar1.jar inside the WEB-INF/lib of the first WAR.\nThe jar2.jar inside the WEB-INF/lib of the second WAR.</p>\n<p>Is there any way to do this?</p>\n"},{"tags":["java","command-line-arguments","java-9","java-platform-module-system","java-module"],"answers":[{"comments":[{"owner":{"account_id":2973802,"reputation":48688,"user_id":2525313,"accept_rate":88,"display_name":"Nicolai Parlog"},"score":3,"creation_date":1495434613,"post_id":44059335,"comment_id":75231781,"body_markdown":"The two bullets describe that the types/members made accessible by `--add-opens` are a superset of `--add-exports`, so I don&#39;t think saying one implicates the other adds any value to the description.","body":"The two bullets describe that the types/members made accessible by <code>--add-opens</code> are a superset of <code>--add-exports</code>, so I don&#39;t think saying one implicates the other adds any value to the description."},{"owner":{"account_id":2606015,"reputation":1777,"user_id":2257172,"accept_rate":57,"display_name":"vip"},"score":1,"creation_date":1506115626,"post_id":44059335,"comment_id":79706435,"body_markdown":"This is now explained in JEP 261 as Mark updated the page today: http://openjdk.java.net/jeps/261","body":"This is now explained in JEP 261 as Mark updated the page today: <a href=\"http://openjdk.java.net/jeps/261\" rel=\"nofollow noreferrer\">openjdk.java.net/jeps/261</a>"},{"owner":{"account_id":1144755,"reputation":1415,"user_id":1127772,"display_name":"Carlos Saltos"},"score":2,"creation_date":1593386210,"post_id":44059335,"comment_id":110755054,"body_markdown":"A command to find which module provides which package:\n\n`java --list-modules | tr @ &quot; &quot; | awk &#39;{ print $1 }&#39; | xargs -n1 java -d`\n\nthe name of the module will be shown with the @ while the name of the packages without it","body":"A command to find which module provides which package:  <code>java --list-modules | tr @ &quot; &quot; | awk &#39;{ print $1 }&#39; | xargs -n1 java -d</code>  the name of the module will be shown with the @ while the name of the packages without it"},{"owner":{"account_id":2464526,"reputation":1549,"user_id":2147927,"accept_rate":100,"display_name":"Line"},"score":0,"creation_date":1604088538,"post_id":44059335,"comment_id":114250712,"body_markdown":"it is not clear from the answer and @ZhekaKozlov combined if --add-opens enables public types and members to be accessible at **compile time**","body":"it is not clear from the answer and @ZhekaKozlov combined if --add-opens enables public types and members to be accessible at <b>compile time</b>"},{"owner":{"account_id":2973802,"reputation":48688,"user_id":2525313,"accept_rate":88,"display_name":"Nicolai Parlog"},"score":1,"creation_date":1604245219,"post_id":44059335,"comment_id":114281892,"body_markdown":"`--add-opens` is only concerned with reflection, which is a run-time concept, and so the flag does not apply to the compiler.","body":"<code>--add-opens</code> is only concerned with reflection, which is a run-time concept, and so the flag does not apply to the compiler."}],"tags":[],"owner":{"account_id":2973802,"reputation":48688,"user_id":2525313,"accept_rate":88,"display_name":"Nicolai Parlog"},"comment_count":5,"down_vote_count":0,"up_vote_count":179,"is_accepted":true,"score":179,"last_activity_date":1690451888,"creation_date":1495150857,"answer_id":44059335,"question_id":44056405,"body_markdown":"* With [`--add-exports`](https://blog.codefx.org/java/five-command-line-options-to-hack-the-java-9-module-system/#Accessing-Internal-APIs-With--add-exports) the package is exported, meaning all public types and members therein are accessible at compile and run time.\r\n* With [`--add-opens`](https://blog.codefx.org/java/five-command-line-options-to-hack-the-java-9-module-system/#Reflectively-Accessing-Internal-APIs-With--add-opens) the package is opened, meaning all types and members (not only public ones!) therein are accessible at run time.\r\n\r\nSo the main difference at run time is that `--add-opens` allows &quot;deep reflection&quot;, meaning access of non-public members. You can typically identify this kind of access by the reflecting code making calls to `setAccessible(true)`.","title":"What&#39;s the difference between --add-exports and --add-opens in Java 9?","body":"<ul>\n<li>With <a href=\"https://blog.codefx.org/java/five-command-line-options-to-hack-the-java-9-module-system/#Accessing-Internal-APIs-With--add-exports\" rel=\"noreferrer\"><code>--add-exports</code></a> the package is exported, meaning all public types and members therein are accessible at compile and run time.</li>\n<li>With <a href=\"https://blog.codefx.org/java/five-command-line-options-to-hack-the-java-9-module-system/#Reflectively-Accessing-Internal-APIs-With--add-opens\" rel=\"noreferrer\"><code>--add-opens</code></a> the package is opened, meaning all types and members (not only public ones!) therein are accessible at run time.</li>\n</ul>\n<p>So the main difference at run time is that <code>--add-opens</code> allows &quot;deep reflection&quot;, meaning access of non-public members. You can typically identify this kind of access by the reflecting code making calls to <code>setAccessible(true)</code>.</p>\n"}],"owner":{"account_id":2606015,"reputation":1777,"user_id":2257172,"accept_rate":57,"display_name":"vip"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81931,"favorite_count":0,"down_vote_count":0,"up_vote_count":107,"accepted_answer_id":44059335,"answer_count":1,"score":107,"last_activity_date":1690451888,"creation_date":1495136013,"question_id":44056405,"body_markdown":"Java 9 (jdk-9+170) does not allow by default an application to see all classes from the JDK, unlike all previous versions of Java, due to the new module system.\r\n\r\nTo workaround this, the `java` command line offers a new argument `--add-exports` which allows to break encapsulation as follows:\r\n\r\n`java -jar josm.jar --add-exports java.base/sun.security.util=ALL-UNNAMED --add-exports java.base/sun.security.x509=ALL-UNNAMED`\r\n\r\nThis is well explained in [JEP 261][1].\r\n\r\nI have read about a similar option `--add-opens` using the same syntax, but the JEP 261 has not yet been updated to describe it (last update: 2017/03/08 13:58).\r\n\r\n**What is the difference between these two options?**\r\n\r\n**EDIT**: The [JEP 261][1] has been updated on 2017-09-22 to explain it.\r\n\r\n  [1]: http://openjdk.java.net/jeps/261","title":"What&#39;s the difference between --add-exports and --add-opens in Java 9?","body":"<p>Java 9 (jdk-9+170) does not allow by default an application to see all classes from the JDK, unlike all previous versions of Java, due to the new module system.</p>\n\n<p>To workaround this, the <code>java</code> command line offers a new argument <code>--add-exports</code> which allows to break encapsulation as follows:</p>\n\n<p><code>java -jar josm.jar --add-exports java.base/sun.security.util=ALL-UNNAMED --add-exports java.base/sun.security.x509=ALL-UNNAMED</code></p>\n\n<p>This is well explained in <a href=\"http://openjdk.java.net/jeps/261\" rel=\"noreferrer\">JEP 261</a>.</p>\n\n<p>I have read about a similar option <code>--add-opens</code> using the same syntax, but the JEP 261 has not yet been updated to describe it (last update: 2017/03/08 13:58).</p>\n\n<p><strong>What is the difference between these two options?</strong></p>\n\n<p><strong>EDIT</strong>: The <a href=\"http://openjdk.java.net/jeps/261\" rel=\"noreferrer\">JEP 261</a> has been updated on 2017-09-22 to explain it.</p>\n"},{"tags":["java","spring-boot","thymeleaf","spring-thymeleaf"],"comments":[{"owner":{"account_id":16341513,"reputation":209,"user_id":11802330,"display_name":"Eric"},"score":0,"creation_date":1690435877,"post_id":76775442,"comment_id":135354089,"body_markdown":"Are you setting language session in spring boot or thymeleaf(html)? You set session in spring boot using setAttribute () and read it in html-thymeleaf using session.session_name","body":"Are you setting language session in spring boot or thymeleaf(html)? You set session in spring boot using setAttribute () and read it in html-thymeleaf using session.session_name"},{"owner":{"account_id":12785520,"reputation":178,"user_id":11672197,"display_name":"qarabala"},"score":0,"creation_date":1690438428,"post_id":76775442,"comment_id":135354392,"body_markdown":"I am setting the language of the client in spring boot. I want thymeleaf to read that variable (XX) and translate HTML that is generated for the client based on that variable (messages_XX.properties)","body":"I am setting the language of the client in spring boot. I want thymeleaf to read that variable (XX) and translate HTML that is generated for the client based on that variable (messages_XX.properties)"}],"answers":[{"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1690441889,"post_id":76777259,"comment_id":135354979,"body_markdown":"Just add the `SessionLocaleResolver` instead of writing your own. That together with the `LocaleChangeInterceptor` should give you all you need.","body":"Just add the <code>SessionLocaleResolver</code> instead of writing your own. That together with the <code>LocaleChangeInterceptor</code> should give you all you need."},{"owner":{"account_id":12785520,"reputation":178,"user_id":11672197,"display_name":"qarabala"},"score":0,"creation_date":1690447336,"post_id":76777259,"comment_id":135356016,"body_markdown":"@M.Deinum can you post this as an answer, please?","body":"@M.Deinum can you post this as an answer, please?"}],"tags":[],"owner":{"account_id":12785520,"reputation":178,"user_id":11672197,"display_name":"qarabala"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690441688,"creation_date":1690441688,"answer_id":76777259,"question_id":76775442,"body_markdown":"The following Bean solved the problem:\r\n```java\r\n    @Bean\r\n    public LocaleResolver localeResolver() {\r\n\treturn new LocaleResolver() {\r\n\t    @Override\r\n\t    public Locale resolveLocale(HttpServletRequest request) {\r\n\t\tString lang = (String) WebUtils.getSessionAttribute(request, &quot;user_lang&quot;);\r\n\t\treturn (lang != null) ? new Locale(lang) : Locale.ENGLISH;\r\n\t    }\r\n\r\n\t    @Override\r\n\t    public void setLocale(HttpServletRequest request, HttpServletResponse response, Locale locale) {\r\n\t    }\r\n\t};\r\n    }\r\n```","title":"Set Thymeleaf language using session attribute","body":"<p>The following Bean solved the problem:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Bean\n    public LocaleResolver localeResolver() {\n    return new LocaleResolver() {\n        @Override\n        public Locale resolveLocale(HttpServletRequest request) {\n        String lang = (String) WebUtils.getSessionAttribute(request, &quot;user_lang&quot;);\n        return (lang != null) ? new Locale(lang) : Locale.ENGLISH;\n        }\n\n        @Override\n        public void setLocale(HttpServletRequest request, HttpServletResponse response, Locale locale) {\n        }\n    };\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690451834,"creation_date":1690451834,"answer_id":76778574,"question_id":76775442,"body_markdown":"Spring provides several implementations of the [`LocaleResolver`][1] one of them is the [`SessionLocaleResolver`][2]. The `SessionLocaleResolver` uses, as the name implies, the `HttpSession` to store the `Locale` to be used. Just what you want. So instead of writing your own, you can simply use the `SessionLocaleResolver`.\r\n\r\n```java\r\n@Bean\r\npublic LocaleResolver localeResolver() {\r\n  SessionLocaleResolver localResolver = new SessionLocaleResolver();\r\n  localeResolver.setLocaleAttributeName(&quot;user_locale&quot;); // Not strictly needed\r\n  localeResolver.setDefaultLocale(Locale.ENGLISH);\r\n  return localResolver;\r\n};\r\n```\r\n\r\nThe `SessionLocaleResolver` also allows the `Locale` to be changed by the user (if desired). You can achieve this by configuring the `LocaleChangeInterceptor` which will, when requested, store the new `Locale` in the `HttpSession` (it actually delegates this to the `LocaleResolver` that is configured). \r\n\r\nAll in all there is no need to write custom code all is supported out-of-the-box. \r\n\r\n[1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/LocaleResolver.html\r\n[2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/i18n/SessionLocaleResolver.html","title":"Set Thymeleaf language using session attribute","body":"<p>Spring provides several implementations of the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/LocaleResolver.html\" rel=\"nofollow noreferrer\"><code>LocaleResolver</code></a> one of them is the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/i18n/SessionLocaleResolver.html\" rel=\"nofollow noreferrer\"><code>SessionLocaleResolver</code></a>. The <code>SessionLocaleResolver</code> uses, as the name implies, the <code>HttpSession</code> to store the <code>Locale</code> to be used. Just what you want. So instead of writing your own, you can simply use the <code>SessionLocaleResolver</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic LocaleResolver localeResolver() {\n  SessionLocaleResolver localResolver = new SessionLocaleResolver();\n  localeResolver.setLocaleAttributeName(&quot;user_locale&quot;); // Not strictly needed\n  localeResolver.setDefaultLocale(Locale.ENGLISH);\n  return localResolver;\n};\n</code></pre>\n<p>The <code>SessionLocaleResolver</code> also allows the <code>Locale</code> to be changed by the user (if desired). You can achieve this by configuring the <code>LocaleChangeInterceptor</code> which will, when requested, store the new <code>Locale</code> in the <code>HttpSession</code> (it actually delegates this to the <code>LocaleResolver</code> that is configured).</p>\n<p>All in all there is no need to write custom code all is supported out-of-the-box.</p>\n"}],"owner":{"account_id":12785520,"reputation":178,"user_id":11672197,"display_name":"qarabala"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76778574,"answer_count":2,"score":0,"last_activity_date":1690451834,"creation_date":1690410585,"question_id":76775442,"body_markdown":"I am failing to solve a seemingly easy problem. \r\n* Whenever a session is opened (`session.user_lang` is null), English is used as the default language (messages.properties). A (registered) user can change the language in which case the language is saved to the session attribute (`session.user_lang`) and to the database.\r\n* Thymeleaf should check `session.user_lang` and translate based on that value.\r\n\r\nI couldn&#39;t get it to work for a long time. I have tried defining\r\n```java\r\n@Component\r\npublic class LocaleInterceptor implements HandlerInterceptor {\r\n\r\n    private LocaleResolver localeResolver;\r\n\r\n    @Autowired\r\n    public void setLocaleResolver(LocaleResolver localeResolver) {\r\n        this.localeResolver = localeResolver;\r\n    }\r\n\r\n    @Override\r\n    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception {\r\n        HttpSession session = request.getSession();\r\n        String language = (String) session.getAttribute(&quot;user_lang&quot;);\r\n        if (language != null) {\r\n            Locale locale = new Locale(language);\r\n            localeResolver.setLocale(request, response, locale);\r\n        }\r\n        return true;\r\n    }\r\n}\r\n```\r\n\r\nand \r\n```java\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.web.servlet.config.annotation.InterceptorRegistry;\r\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\r\n\r\n@Configuration\r\npublic class WebConfig implements WebMvcConfigurer {\r\n\r\n    private LocaleInterceptor localeInterceptor;\r\n\r\n    @Autowired\r\n    public void setLocaleInterceptor(LocaleInterceptor localeInterceptor) {\r\n        this.localeInterceptor = localeInterceptor;\r\n    }\r\n\r\n    @Override\r\n    public void addInterceptors(InterceptorRegistry registry) {\r\n        registry.addInterceptor(localeInterceptor);\r\n    }\r\n}\r\n```","title":"Set Thymeleaf language using session attribute","body":"<p>I am failing to solve a seemingly easy problem.</p>\n<ul>\n<li>Whenever a session is opened (<code>session.user_lang</code> is null), English is used as the default language (messages.properties). A (registered) user can change the language in which case the language is saved to the session attribute (<code>session.user_lang</code>) and to the database.</li>\n<li>Thymeleaf should check <code>session.user_lang</code> and translate based on that value.</li>\n</ul>\n<p>I couldn't get it to work for a long time. I have tried defining</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class LocaleInterceptor implements HandlerInterceptor {\n\n    private LocaleResolver localeResolver;\n\n    @Autowired\n    public void setLocaleResolver(LocaleResolver localeResolver) {\n        this.localeResolver = localeResolver;\n    }\n\n    @Override\n    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception {\n        HttpSession session = request.getSession();\n        String language = (String) session.getAttribute(&quot;user_lang&quot;);\n        if (language != null) {\n            Locale locale = new Locale(language);\n            localeResolver.setLocale(request, response, locale);\n        }\n        return true;\n    }\n}\n</code></pre>\n<p>and</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.web.servlet.config.annotation.InterceptorRegistry;\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\n\n@Configuration\npublic class WebConfig implements WebMvcConfigurer {\n\n    private LocaleInterceptor localeInterceptor;\n\n    @Autowired\n    public void setLocaleInterceptor(LocaleInterceptor localeInterceptor) {\n        this.localeInterceptor = localeInterceptor;\n    }\n\n    @Override\n    public void addInterceptors(InterceptorRegistry registry) {\n        registry.addInterceptor(localeInterceptor);\n    }\n}\n</code></pre>\n"},{"tags":["java","regex","spring","kotlin"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1690444942,"post_id":76777648,"comment_id":135355563,"body_markdown":"I don&#39;t think `@Valid` supports annotations directly on the parameter like that. Usually, the `@Pattern` and other validations are on fields of the incoming DTO.","body":"I don&#39;t think <code>@Valid</code> supports annotations directly on the parameter like that. Usually, the <code>@Pattern</code> and other validations are on fields of the incoming DTO."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1690445042,"post_id":76777648,"comment_id":135355582,"body_markdown":"Which Spring Boot version are you using and do you have `spring-boot-starter-validation` as a dependency (which you should).","body":"Which Spring Boot version are you using and do you have <code>spring-boot-starter-validation</code> as a dependency (which you should)."},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1690445373,"post_id":76777648,"comment_id":135355657,"body_markdown":"is it due to ordering of the annotations? Could you try: `@Valid @Pattern(regexp = &quot;[A-Za-z0-9]+&quot;) @RequestParam String myParam`","body":"is it due to ordering of the annotations? Could you try: <code>@Valid @Pattern(regexp = &quot;[A-Za-z0-9]+&quot;) @RequestParam String myParam</code>"},{"owner":{"account_id":14231968,"reputation":201,"user_id":10280937,"display_name":"Mike U"},"score":0,"creation_date":1690446199,"post_id":76777648,"comment_id":135355812,"body_markdown":"I use spring-boot-starter-validation 3.1.1","body":"I use spring-boot-starter-validation 3.1.1"},{"owner":{"account_id":14231968,"reputation":201,"user_id":10280937,"display_name":"Mike U"},"score":0,"creation_date":1690446236,"post_id":76777648,"comment_id":135355819,"body_markdown":"Changing the order to ```@Valid @Pattern(regexp = &quot;[A-Za-z0-9]+&quot;) @RequestParam String myParam```, did not help","body":"Changing the order to <code>@Valid @Pattern(regexp = &quot;[A-Za-z0-9]+&quot;) @RequestParam String myParam</code>, did not help"},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1690446980,"post_id":76777648,"comment_id":135355949,"body_markdown":"Could you try removing the Valid annotation and use Validated on the controller level as shown in this [tutorial](https://medium.com/@tericcabrel/validate-request-body-and-parameter-in-spring-boot-53ca77f97fe9)?","body":"Could you try removing the Valid annotation and use Validated on the controller level as shown in this <a href=\"https://medium.com/@tericcabrel/validate-request-body-and-parameter-in-spring-boot-53ca77f97fe9\" rel=\"nofollow noreferrer\">tutorial</a>?"},{"owner":{"account_id":3168631,"reputation":3561,"user_id":2678097,"display_name":"amanin"},"score":0,"creation_date":1690449950,"post_id":76777648,"comment_id":135356564,"body_markdown":"Some other possibility: for some Spring annotations to work in Kotlin, you have to either use the &quot;kotlin-spring&quot; plugin in your build, or set your class and method `open`, to ensure Spring can properly create proxies over your component.","body":"Some other possibility: for some Spring annotations to work in Kotlin, you have to either use the &quot;kotlin-spring&quot; plugin in your build, or set your class and method <code>open</code>, to ensure Spring can properly create proxies over your component."},{"owner":{"account_id":4947488,"reputation":71,"user_id":3982476,"display_name":"Alexej Timonin"},"score":3,"creation_date":1690451115,"post_id":76777648,"comment_id":135356820,"body_markdown":"Spring 3.x went from javax.* to jakarta.* (You are using spring-boot-starter-validation 3.1.1). Change your `Valid` and `Pattern` imports to `jakarta.validation.Valid` and `jakarta.validation.constraints.Pattern`","body":"Spring 3.x went from javax.* to jakarta.* (You are using spring-boot-starter-validation 3.1.1). Change your <code>Valid</code> and <code>Pattern</code> imports to <code>jakarta.validation.Valid</code> and <code>jakarta.validation.constraints.Pattern</code>"},{"owner":{"account_id":14231968,"reputation":201,"user_id":10280937,"display_name":"Mike U"},"score":0,"creation_date":1690451687,"post_id":76777648,"comment_id":135356943,"body_markdown":"Thank you @AlexejTimonin !\nChanging to jakarta&#39;s annotations helped!","body":"Thank you @AlexejTimonin ! Changing to jakarta&#39;s annotations helped!"}],"answers":[{"tags":[],"owner":{"account_id":14231968,"reputation":201,"user_id":10280937,"display_name":"Mike U"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690451765,"creation_date":1690451765,"answer_id":76778566,"question_id":76777648,"body_markdown":"Thanks to @Alexej Timonin the problem has been solved.\r\nHis comment solved the probelm\r\n\r\n&gt; Spring 3.x went from javax.* to jakarta.* (You are using\r\n&gt; spring-boot-starter-validation 3.1.1). Change your Valid and Pattern\r\n&gt; imports to jakarta.validation.Valid and\r\n&gt; jakarta.validation.constraints.Pattern\r\n\r\n","title":"Springboot Kotlin @Pattern annotation ignored","body":"<p>Thanks to @Alexej Timonin the problem has been solved.\nHis comment solved the probelm</p>\n<blockquote>\n<p>Spring 3.x went from javax.* to jakarta.* (You are using\nspring-boot-starter-validation 3.1.1). Change your Valid and Pattern\nimports to jakarta.validation.Valid and\njakarta.validation.constraints.Pattern</p>\n</blockquote>\n"}],"owner":{"account_id":14231968,"reputation":201,"user_id":10280937,"display_name":"Mike U"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690451765,"creation_date":1690444874,"question_id":76777648,"body_markdown":"I am really desperate to solve this issue. All I want is to validate the input parameter with @Pattern annotation, but it simply ignores it. \r\nThe code accepts all the requests coming through.\r\n\r\n/hello?name=as2ds -&gt; PASSED\r\n/hello?name=sadasdasdasda -&gt; PASSED\r\n\r\nPlease guide me.\r\n\r\n```java\r\nimport org.springframework.validation.annotation.Validated\r\nimport org.springframework.web.bind.annotation.GetMapping\r\nimport org.springframework.web.bind.annotation.RequestParam\r\nimport org.springframework.web.bind.annotation.RestController\r\nimport javax.validation.Valid\r\nimport javax.validation.constraints.Pattern\r\n\r\n@RestController\r\n@Validated\r\nclass HelloController {\r\n\r\n    @GetMapping(&quot;/hello&quot;)\r\n    fun getHello(@Valid @RequestParam(&quot;name&quot;) @Pattern(regexp = &quot;^[a-z]{4}$&quot;) name : String) : String {\r\n        return &quot;Hello $name!&quot;\r\n    }\r\n}\r\n```\r\n","title":"Springboot Kotlin @Pattern annotation ignored","body":"<p>I am really desperate to solve this issue. All I want is to validate the input parameter with @Pattern annotation, but it simply ignores it.\nThe code accepts all the requests coming through.</p>\n<p>/hello?name=as2ds -&gt; PASSED\n/hello?name=sadasdasdasda -&gt; PASSED</p>\n<p>Please guide me.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.validation.annotation.Validated\nimport org.springframework.web.bind.annotation.GetMapping\nimport org.springframework.web.bind.annotation.RequestParam\nimport org.springframework.web.bind.annotation.RestController\nimport javax.validation.Valid\nimport javax.validation.constraints.Pattern\n\n@RestController\n@Validated\nclass HelloController {\n\n    @GetMapping(&quot;/hello&quot;)\n    fun getHello(@Valid @RequestParam(&quot;name&quot;) @Pattern(regexp = &quot;^[a-z]{4}$&quot;) name : String) : String {\n        return &quot;Hello $name!&quot;\n    }\n}\n</code></pre>\n"},{"tags":["java","html"],"answers":[{"tags":[],"owner":{"account_id":5998971,"reputation":280,"user_id":4712846,"display_name":"Cris Maule"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690451412,"creation_date":1690451412,"answer_id":76778516,"question_id":42680553,"body_markdown":"I had the same issue and was not able to find out how to do it with the OWASP Sanitiser\r\n\r\nSo I found a dirty way to achieve the objective.\r\n\r\nBefore passing the string to the OWASP Sanitiser I replaced all occurrences of &quot;&gt;&quot; with &quot;&gt; &quot;.\r\n\r\nAfter calling OWASP Sanitiser I then replaced all occurrences of &quot;  &quot; with just &quot; &quot;.\r\n\r\nAs stated this works but is somewhat dirty so if someone has a cleaner solution would be great","title":"java-html-sanitizer replace elements not in whitelist with whitespace","body":"<p>I had the same issue and was not able to find out how to do it with the OWASP Sanitiser</p>\n<p>So I found a dirty way to achieve the objective.</p>\n<p>Before passing the string to the OWASP Sanitiser I replaced all occurrences of &quot;&gt;&quot; with &quot;&gt; &quot;.</p>\n<p>After calling OWASP Sanitiser I then replaced all occurrences of &quot;  &quot; with just &quot; &quot;.</p>\n<p>As stated this works but is somewhat dirty so if someone has a cleaner solution would be great</p>\n"}],"owner":{"account_id":10416454,"reputation":21,"user_id":7680388,"display_name":"Claire"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":304,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1690451412,"creation_date":1489002233,"question_id":42680553,"body_markdown":"I am using OWASP/java-html-sanitizer HtmlPolicyBuilder()           .allowElements() to sanitize elements in html.\r\n\r\nIf body is &quot;&amp;lt;div&amp;gt;messageOne&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;messageTwo&amp;lt;/div&amp;gt;&quot; and &amp;lt;div&amp;gt; is not in whitelist, then after sanitization, it becomes &quot;messageOnemessageTwo&quot;.\r\n\r\nIt is undesirable that two words become one word. Is there a way to use OWASP/java-html-sanitizer or any other java sanitizer to make it &quot; messageOne messageTwo &quot;(replace &amp;lt;div&amp;gt; with whitespace instead of just removing it)?","title":"java-html-sanitizer replace elements not in whitelist with whitespace","body":"<p>I am using OWASP/java-html-sanitizer HtmlPolicyBuilder()           .allowElements() to sanitize elements in html.</p>\n\n<p>If body is \"&lt;div&gt;messageOne&lt;/div&gt;&lt;div&gt;messageTwo&lt;/div&gt;\" and &lt;div&gt; is not in whitelist, then after sanitization, it becomes \"messageOnemessageTwo\".</p>\n\n<p>It is undesirable that two words become one word. Is there a way to use OWASP/java-html-sanitizer or any other java sanitizer to make it \" messageOne messageTwo \"(replace &lt;div&gt; with whitespace instead of just removing it)?</p>\n"},{"tags":["java","selenium-webdriver","selenium-chromedriver"],"answers":[{"comments":[{"owner":{"account_id":17791044,"reputation":33,"user_id":12920036,"display_name":"Fayaz"},"score":0,"creation_date":1690457109,"post_id":76776683,"comment_id":135358067,"body_markdown":"Thanks you for your answer, the issue is something not right with my maven project and i created a new project it&#39;s working fine now","body":"Thanks you for your answer, the issue is something not right with my maven project and i created a new project it&#39;s working fine now"}],"tags":[],"owner":{"account_id":27938804,"reputation":102,"user_id":21335232,"display_name":"Bhairu"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690450589,"creation_date":1690435090,"answer_id":76776683,"question_id":76776615,"body_markdown":"Hey just use the below line codes.\r\n````    \r\nWebDriver driver=new chromeDriver();\r\n````    \r\nif you are using Selenium version 4.6.0 above, not required to setup the browser path and all.","title":"unable to initialize the chrome driver in selenium","body":"<p>Hey just use the below line codes.</p>\n<pre><code>WebDriver driver=new chromeDriver();\n</code></pre>\n<p>if you are using Selenium version 4.6.0 above, not required to setup the browser path and all.</p>\n"},{"comments":[{"owner":{"account_id":17791044,"reputation":33,"user_id":12920036,"display_name":"Fayaz"},"score":0,"creation_date":1690457137,"post_id":76776684,"comment_id":135358071,"body_markdown":"Thanks you for your answer, the issue is something not right with my maven project and i created a new project it&#39;s working fine now","body":"Thanks you for your answer, the issue is something not right with my maven project and i created a new project it&#39;s working fine now"}],"tags":[],"owner":{"account_id":16585247,"reputation":541,"user_id":11984843,"display_name":"Ketan Pardeshi"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690435092,"creation_date":1690435092,"answer_id":76776684,"question_id":76776615,"body_markdown":"Use latest Selenium version 4.10.X and replace setUp method with this.\r\nLatest Selenium does not require to perform the System.Set Property\r\n\r\n\r\n    public static void setup() {\r\n            driver = new ChromeDriver();\r\n            driver.manage().window().maximize();\r\n            driver.get(&quot;https://www.google.com/&quot;);\r\n        }","title":"unable to initialize the chrome driver in selenium","body":"<p>Use latest Selenium version 4.10.X and replace setUp method with this.\nLatest Selenium does not require to perform the System.Set Property</p>\n<pre><code>public static void setup() {\n        driver = new ChromeDriver();\n        driver.manage().window().maximize();\n        driver.get(&quot;https://www.google.com/&quot;);\n    }\n</code></pre>\n"}],"owner":{"account_id":17791044,"reputation":33,"user_id":12920036,"display_name":"Fayaz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":219,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1690450589,"creation_date":1690434068,"question_id":76776615,"body_markdown":"I&#39;m setting up the selenium automation tasks in a new machine, so when i try to start the chrome browser, I&#39;m getting the exception in the main method\r\n\r\nHere is my java class\r\n\r\n    package POMs;\r\n    \r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    \r\n    import io.github.bonigarcia.wdm.WebDriverManager;\r\n    \r\n    public class AMCDaeralogin {\r\n    \tpublic static WebDriver driver;\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tsetup();\r\n    \t}\r\n    \t\r\n    \t\r\n    \tpublic static void setup() {\r\n    \t\tSystem.setProperty(&quot;webdriver.http.factory&quot;, &quot;jdk-http-client&quot;);\r\n    \t\tWebDriverManager.chromedriver().setup();\r\n    \t\tdriver = new ChromeDriver();\r\n    \t\tdriver.manage().window().maximize();\r\n    \t}\r\n    \t\r\n    }\r\n and here is the exception that i received\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: &#39;com.google.common.collect.ImmutableMap com.google.common.collect.ImmutableMap.of(java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object)&#39;\r\n    \tat org.openqa.selenium.chrome.AddHasCasting.getAdditionalCommands(AddHasCasting.java:38)\r\n    \tat org.openqa.selenium.chrome.ChromeDriver$ChromeDriverCommandExecutor.getExtraCommands(ChromeDriver.java:99)\r\n    \tat org.openqa.selenium.chrome.ChromeDriver$ChromeDriverCommandExecutor.&lt;init&gt;(ChromeDriver.java:94)\r\n    \tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:82)\r\n    \tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:50)\r\n    \tat POMs.AMCDaeralogin.setup(AMCDaeralogin.java:19)\r\n    \tat POMs.AMCDaeralogin.main(AMCDaeralogin.java:12)\r\n     ","title":"unable to initialize the chrome driver in selenium","body":"<p>I'm setting up the selenium automation tasks in a new machine, so when i try to start the chrome browser, I'm getting the exception in the main method</p>\n<p>Here is my java class</p>\n<pre><code>package POMs;\n\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\n\nimport io.github.bonigarcia.wdm.WebDriverManager;\n\npublic class AMCDaeralogin {\n    public static WebDriver driver;\n    \n    public static void main(String[] args) {\n        setup();\n    }\n    \n    \n    public static void setup() {\n        System.setProperty(&quot;webdriver.http.factory&quot;, &quot;jdk-http-client&quot;);\n        WebDriverManager.chromedriver().setup();\n        driver = new ChromeDriver();\n        driver.manage().window().maximize();\n    }\n    \n}\n</code></pre>\n<p>and here is the exception that i received</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: 'com.google.common.collect.ImmutableMap com.google.common.collect.ImmutableMap.of(java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object)'\n    at org.openqa.selenium.chrome.AddHasCasting.getAdditionalCommands(AddHasCasting.java:38)\n    at org.openqa.selenium.chrome.ChromeDriver$ChromeDriverCommandExecutor.getExtraCommands(ChromeDriver.java:99)\n    at org.openqa.selenium.chrome.ChromeDriver$ChromeDriverCommandExecutor.&lt;init&gt;(ChromeDriver.java:94)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:82)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:50)\n    at POMs.AMCDaeralogin.setup(AMCDaeralogin.java:19)\n    at POMs.AMCDaeralogin.main(AMCDaeralogin.java:12)\n \n</code></pre>\n"},{"tags":["java","base64","wildfly","decoding"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1690452096,"post_id":76778329,"comment_id":135357027,"body_markdown":"This is probably because you&#39;re not specifying a character set when creating the string, and at runtime, a different default character set is used. It looks like your WildFly 26 runtime is using UTF-8, while your WildFly 28 runtime uses something like ISO-8859-1 or windows-1252. The solution is to use an explicit character set (i.e. `new String(Base64.getDecoder().decode(token), StandardCharsets.UTF_8)`).","body":"This is probably because you&#39;re not specifying a character set when creating the string, and at runtime, a different default character set is used. It looks like your WildFly 26 runtime is using UTF-8, while your WildFly 28 runtime uses something like ISO-8859-1 or windows-1252. The solution is to use an explicit character set (i.e. <code>new String(Base64.getDecoder().decode(token), StandardCharsets.UTF_8)</code>)."},{"owner":{"account_id":15084460,"reputation":195,"user_id":13209041,"display_name":"OhJohnny"},"score":0,"creation_date":1690459875,"post_id":76778329,"comment_id":135358660,"body_markdown":"Thank you so much, it worked! I have not thought of this at all.","body":"Thank you so much, it worked! I have not thought of this at all."}],"owner":{"account_id":15084460,"reputation":195,"user_id":13209041,"display_name":"OhJohnny"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690450546,"creation_date":1690450104,"question_id":76778329,"body_markdown":"the title sounds dubious but after upgrading wildfly from 26 to 28 the base64 decoding works differently of java.util.Base64.\r\n\r\nI have the following Code:\r\n\r\n```\r\nvar tokenString = &quot;IVHDn15NMWdvJi3CpyREPEUlRCJBLmUldXEwJyY3QmI+dXR3JERjMWlyKSFPTDRCS3R1VzU8T1IzaDJMa15+diVzXkQ8cEI7OTBmfCstcHR1TFxRL3ViLGVsfkReKz95MGEvSsKnMmJSMHlsPi5iKD5WXklsdmIiPHBeUCtreHFfUzUiKiVpdzI1ImFlVS4+Rip4JVF0I21DbT9kMsKnVzYtLEpNRS06Uy5rNjZhJcKnUmo4bVXCpzte&quot;;\r\nvar token = tokenString.getBytes(StandardCharsets.UTF_8);\r\n\r\nString tokenDecoded = new String(Base64.getDecoder().decode(token));\r\n```\r\n\r\nWhen I debug this on Wildfly 26 I get\r\n```\r\ntokenDecoded == &quot;!Q&#223;^M1go&amp;-&#167;$D&lt;E%D&quot;A.e%uq0&#39;&amp;7Bb&gt;utw$Dc1ir)!OL4BKtuW5&lt;OR3h2Lk^~v%s^D&lt;pB;90f|+-ptuL\\Q/ub,el~D^+?y0a/J&#167;2bR0yl&gt;.b(&gt;V^Ilvb&quot;&lt;p^P+kxq_S5&quot;*%iw25&quot;aeU.&gt;F*x%Qt#mCm?d2&#167;W6-,JME-:S.k66a%&#167;Rj8mU&#167;;^&quot;\r\n```\r\nand on Wildfly 28 I get\r\n\r\n```\r\ntokenDecoded == &quot;!Q&#195;Ÿ^M1go&amp;-&#194;&#167;$D&lt;E%D&quot;A.e%uq0&#39;&amp;7Bb&gt;utw$Dc1ir)!OL4BKtuW5&lt;OR3h2Lk^~v%s^D&lt;pB;90f|+-ptuL\\Q/ub,el~D^+?y0a/J&#194;&#167;2bR0yl&gt;.b(&gt;V^Ilvb&quot;&lt;p^P+kxq_S5&quot;*%iw25&quot;aeU.&gt;F*x%Qt#mCm?d2&#194;&#167;W6-,JME-:S.k66a%&#194;&#167;Rj8mU&#194;&#167;;&quot;\r\n```\r\n\r\nwhich is wrong and slightly different from the Wildfly 26 decoding. If I encode ```tokenDecoded```  on Wildfly 28 back with\r\n\r\n```\r\nvar encoded = Base64.getEncoder().encodeToString(tokenDecoded.getBytes(StandardCharsets.UTF_8));\r\n```\r\n\r\nI get ```encoded != tokenString```.\r\n\r\nI neither am switching between projects nor changing the java SDKs.\r\n\r\nI am using the following SDK:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CJIVH.png\r\n\r\nI don&#39;t understand why Base64 would have another way of decoding. Is there any configuration I am missing?\r\n\r\nP.S.: Apologies for the token legnth. The token is a random generated String which is why it is so long.\r\n\r\n**EDIT:**\r\nMaybe I am missing something that is not related to the wildfly upgrade at all. But I would not know what is different, since I didn&#39;t change the code base.","title":"Upgrading Wildfly from 26 to 28 causes wrong base64 decoding?","body":"<p>the title sounds dubious but after upgrading wildfly from 26 to 28 the base64 decoding works differently of java.util.Base64.</p>\n<p>I have the following Code:</p>\n<pre><code>var tokenString = &quot;IVHDn15NMWdvJi3CpyREPEUlRCJBLmUldXEwJyY3QmI+dXR3JERjMWlyKSFPTDRCS3R1VzU8T1IzaDJMa15+diVzXkQ8cEI7OTBmfCstcHR1TFxRL3ViLGVsfkReKz95MGEvSsKnMmJSMHlsPi5iKD5WXklsdmIiPHBeUCtreHFfUzUiKiVpdzI1ImFlVS4+Rip4JVF0I21DbT9kMsKnVzYtLEpNRS06Uy5rNjZhJcKnUmo4bVXCpzte&quot;;\nvar token = tokenString.getBytes(StandardCharsets.UTF_8);\n\nString tokenDecoded = new String(Base64.getDecoder().decode(token));\n</code></pre>\n<p>When I debug this on Wildfly 26 I get</p>\n<pre><code>tokenDecoded == &quot;!Qß^M1go&amp;-§$D&lt;E%D&quot;A.e%uq0'&amp;7Bb&gt;utw$Dc1ir)!OL4BKtuW5&lt;OR3h2Lk^~v%s^D&lt;pB;90f|+-ptuL\\Q/ub,el~D^+?y0a/J§2bR0yl&gt;.b(&gt;V^Ilvb&quot;&lt;p^P+kxq_S5&quot;*%iw25&quot;aeU.&gt;F*x%Qt#mCm?d2§W6-,JME-:S.k66a%§Rj8mU§;^&quot;\n</code></pre>\n<p>and on Wildfly 28 I get</p>\n<pre><code>tokenDecoded == &quot;!QÃŸ^M1go&amp;-Â§$D&lt;E%D&quot;A.e%uq0'&amp;7Bb&gt;utw$Dc1ir)!OL4BKtuW5&lt;OR3h2Lk^~v%s^D&lt;pB;90f|+-ptuL\\Q/ub,el~D^+?y0a/JÂ§2bR0yl&gt;.b(&gt;V^Ilvb&quot;&lt;p^P+kxq_S5&quot;*%iw25&quot;aeU.&gt;F*x%Qt#mCm?d2Â§W6-,JME-:S.k66a%Â§Rj8mUÂ§;&quot;\n</code></pre>\n<p>which is wrong and slightly different from the Wildfly 26 decoding. If I encode <code>tokenDecoded</code>  on Wildfly 28 back with</p>\n<pre><code>var encoded = Base64.getEncoder().encodeToString(tokenDecoded.getBytes(StandardCharsets.UTF_8));\n</code></pre>\n<p>I get <code>encoded != tokenString</code>.</p>\n<p>I neither am switching between projects nor changing the java SDKs.</p>\n<p>I am using the following SDK:</p>\n<p><a href=\"https://i.stack.imgur.com/CJIVH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CJIVH.png\" alt=\"enter image description here\" /></a></p>\n<p>I don't understand why Base64 would have another way of decoding. Is there any configuration I am missing?</p>\n<p>P.S.: Apologies for the token legnth. The token is a random generated String which is why it is so long.</p>\n<p><strong>EDIT:</strong>\nMaybe I am missing something that is not related to the wildfly upgrade at all. But I would not know what is different, since I didn't change the code base.</p>\n"},{"tags":["java","http","rest","rest-assured"],"answers":[{"comments":[{"owner":{"account_id":6108739,"reputation":590,"user_id":4765736,"display_name":"John Chesshir"},"score":1,"creation_date":1505342665,"post_id":19704341,"comment_id":79379142,"body_markdown":"Not at all. It&#39;s a good question, and even better that you made your own contribution after further research.","body":"Not at all. It&#39;s a good question, and even better that you made your own contribution after further research."}],"tags":[],"owner":{"account_id":111630,"reputation":1725,"user_id":294801,"accept_rate":38,"display_name":"devlearn"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1383216239,"creation_date":1383216239,"answer_id":19704341,"question_id":19694306,"body_markdown":"Sorry dumb question (or issue with my vision), everything is documented under:\r\n\r\n- http://code.google.com/p/rest-assured/wiki/Usage#Logging \r\n- http://hc.apache.org/httpcomponents-client-ga/logging.html","title":"Log restassured traffic","body":"<p>Sorry dumb question (or issue with my vision), everything is documented under:</p>\n\n<ul>\n<li><a href=\"http://code.google.com/p/rest-assured/wiki/Usage#Logging\" rel=\"nofollow\">http://code.google.com/p/rest-assured/wiki/Usage#Logging</a> </li>\n<li><a href=\"http://hc.apache.org/httpcomponents-client-ga/logging.html\" rel=\"nofollow\">http://hc.apache.org/httpcomponents-client-ga/logging.html</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":4831993,"reputation":414,"user_id":3899968,"display_name":"Gergely A."},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1444133775,"creation_date":1444133775,"answer_id":32969748,"question_id":19694306,"body_markdown":"Set log().all() for your response and it will be okay.","title":"Log restassured traffic","body":"<p>Set log().all() for your response and it will be okay.</p>\n"},{"comments":[{"owner":{"account_id":467725,"reputation":19389,"user_id":873282,"accept_rate":55,"display_name":"koppor"},"score":9,"creation_date":1487607746,"post_id":38256536,"comment_id":71850080,"body_markdown":"Does not log the results of the server - you have to put `log().all()` after `then()`.","body":"Does not log the results of the server - you have to put <code>log().all()</code> after <code>then()</code>."},{"owner":{"account_id":1806748,"reputation":3695,"user_id":1643711,"accept_rate":67,"display_name":"Mircea Stanciu"},"score":4,"creation_date":1487882152,"post_id":38256536,"comment_id":71996705,"body_markdown":"yep! You have to add log().all() before WHEN for request and after THEN for response","body":"yep! You have to add log().all() before WHEN for request and after THEN for response"}],"tags":[],"owner":{"account_id":1806748,"reputation":3695,"user_id":1643711,"accept_rate":67,"display_name":"Mircea Stanciu"},"comment_count":2,"down_vote_count":1,"up_vote_count":20,"is_accepted":false,"score":19,"last_activity_date":1467932159,"creation_date":1467932159,"answer_id":38256536,"question_id":19694306,"body_markdown":"I am posting an example:\r\n\r\n     Response response = given().\r\n                        queryParam(&quot;apiKey&quot;, &quot;abc123&quot;).\r\n                        queryParam(&quot;code&quot;, code).\r\n                        queryParam(&quot;type&quot;, type).\r\n                        contentType(&quot;application/json&quot;).\r\n                        log().all().\r\n                        when().\r\n                        get(url).\r\n                        then().\r\n                        contentType(&quot;application/json&quot;).\r\n                        statusCode(200).\r\n                        extract().response();","title":"Log restassured traffic","body":"<p>I am posting an example:</p>\n\n<pre><code> Response response = given().\n                    queryParam(\"apiKey\", \"abc123\").\n                    queryParam(\"code\", code).\n                    queryParam(\"type\", type).\n                    contentType(\"application/json\").\n                    log().all().\n                    when().\n                    get(url).\n                    then().\n                    contentType(\"application/json\").\n                    statusCode(200).\n                    extract().response();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9243671,"reputation":1,"user_id":6866242,"display_name":"Ravi Prakash Jakkamputi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690450330,"creation_date":1690450330,"answer_id":76778358,"question_id":19694306,"body_markdown":"Here are the steps to log to a log file and configure globally\r\nto log both request and response details for all the tests\r\n\r\ncreate static printstream object\r\n\r\n    private static PrintStream logps;\r\n    \t\ttry {\r\n\t\t\t// fileoutputstream can be opened in append mode to append the logs every time\r\n\t\t\t// we run\r\n\t\t\t// printstream is enabled for autoflush\r\n\t\t\tlogps = new PrintStream(new FileOutputStream(&quot;src/test/resources/logfile.txt&quot;, true), true);\r\n\t\t} catch (FileNotFoundException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\nIn beforeall static method, apply the default implemented request and response logging filters and enable them to use print stream\r\n\r\n    RestAssured.filters(new RequestLoggingFilter(logps), new ResponseLoggingFilter(logps));\r\n\r\n\r\n\r\nNow we need not specify log() method individually for requests and responses and also the logs will be sent to the log file","title":"Log restassured traffic","body":"<p>Here are the steps to log to a log file and configure globally\nto log both request and response details for all the tests</p>\n<p>create static printstream object</p>\n<pre><code>private static PrintStream logps;\n        try {\n        // fileoutputstream can be opened in append mode to append the logs every time\n        // we run\n        // printstream is enabled for autoflush\n        logps = new PrintStream(new FileOutputStream(&quot;src/test/resources/logfile.txt&quot;, true), true);\n    } catch (FileNotFoundException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n</code></pre>\n<p>In beforeall static method, apply the default implemented request and response logging filters and enable them to use print stream</p>\n<pre><code>RestAssured.filters(new RequestLoggingFilter(logps), new ResponseLoggingFilter(logps));\n</code></pre>\n<p>Now we need not specify log() method individually for requests and responses and also the logs will be sent to the log file</p>\n"}],"owner":{"account_id":111630,"reputation":1725,"user_id":294801,"accept_rate":38,"display_name":"devlearn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16781,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"answer_count":4,"score":16,"last_activity_date":1690450330,"creation_date":1383169225,"question_id":19694306,"body_markdown":"I&#39;d like to know if there is a way of logging all the calls and responses (url + payload) processed by restassured.\r\n\r\nTHe finality would be to have a &quot;debug&quot; test log with all the calls and traffic logged.\r\n\r\nOf course I could issue calls to the logger in my own code, but I&#39;d prefear to set this behavour globally and not to add logger calls in all my test methods.\r\n\r\nThanks for any pointers","title":"Log restassured traffic","body":"<p>I'd like to know if there is a way of logging all the calls and responses (url + payload) processed by restassured.</p>\n\n<p>THe finality would be to have a \"debug\" test log with all the calls and traffic logged.</p>\n\n<p>Of course I could issue calls to the logger in my own code, but I'd prefear to set this behavour globally and not to add logger calls in all my test methods.</p>\n\n<p>Thanks for any pointers</p>\n"},{"tags":["java","spring-boot","caching","spring-data-redis","redis-cluster"],"answers":[{"tags":[],"owner":{"account_id":12655515,"reputation":37,"user_id":9198175,"display_name":"Chaithra Rai"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690450150,"creation_date":1690450150,"answer_id":76778338,"question_id":76776892,"body_markdown":"I was trying to pass different keys for one redis key:value. The catch is to pass the same key each time rather than risk changing it. Something like For example \r\n```\r\nredisTemplate.opsForValue().set(&quot;{someconstantstring}&quot;, value;\r\n    \r\n```\r\nThis blog provides a good insight on the same: https://hackernoon.com/resolving-the-crossslot-keys-error-with-redis-cluster-mode-enabled","title":"CROSSSLOT Keys Error with Redis Cluster-Mode Enabled in springboot using Lettuce Configuration","body":"<p>I was trying to pass different keys for one redis key:value. The catch is to pass the same key each time rather than risk changing it. Something like For example</p>\n<pre><code>redisTemplate.opsForValue().set(&quot;{someconstantstring}&quot;, value;\n    \n</code></pre>\n<p>This blog provides a good insight on the same: <a href=\"https://hackernoon.com/resolving-the-crossslot-keys-error-with-redis-cluster-mode-enabled\" rel=\"nofollow noreferrer\">https://hackernoon.com/resolving-the-crossslot-keys-error-with-redis-cluster-mode-enabled</a></p>\n"}],"owner":{"account_id":12655515,"reputation":37,"user_id":9198175,"display_name":"Chaithra Rai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":341,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690450150,"creation_date":1690437742,"question_id":76776892,"body_markdown":"We just moved from redis standalone to cluster and we came across the following Exception: RedisSystemException: Error in execution; nested exception is io.lettuce.core.RedisCommandExecutionException: CROSSSLOT Keys in request don&#39;t hash to the same slot.\r\nOn Further digging into it I found this issue comes into picture when Keys in request don&#39;t hash to the same slot during a redisTemplate.opsForZSet().intersectAndStore / redisTemplate.opsForZSet().differenceAndStore and similar union intersection operations.\r\n\r\n\r\nI came across this concept called hashtags but I am not figure out a way to resolve it through my code \r\n```\r\n     @LogMethodCall\r\n  public String getValueByKey(String key) {\r\n    if (BooleanUtils.isTrue(keyExists(key))) {\r\n      return redisTemplate.opsForValue().get(key+&quot;{someconstantstring}&quot;);\r\n    }\r\n    return null;\r\n  }\r\n\r\n  @LogMethodCall\r\n  public void save(String key, String value) {\r\n    if (StringUtils.isNotEmpty(key)) {\r\n      redisTemplate.opsForValue().set(key+&quot;{someconstantstring}&quot;, value);\r\n    }\r\n  }\r\n\r\n  @LogMethodCall\r\n  public void saveWithExpiryInMinutes(String key, String value, long expiryTime) {\r\n    if (StringUtils.isNotEmpty(key)) {\r\n      redisTemplate.opsForValue().set(key+&quot;someconstantstring&quot;, value, expiryTime, TimeUnit.MINUTES);\r\n    }\r\n  }\r\n\r\n  @LogMethodCall\r\n  public void saveWithExpiryInSeconds(String key, String value, long expiryTime) {\r\n    if (StringUtils.isNotEmpty(key)) {\r\n      redisTemplate.opsForValue().set(key+&quot;{someconstantstring}&quot;, value, expiryTime, TimeUnit.SECONDS);\r\n    }\r\n  }\r\n```\r\nHave I understood the concept wrong ?Any inputs with code snippet examples that might be working will probably help me get through this?","title":"CROSSSLOT Keys Error with Redis Cluster-Mode Enabled in springboot using Lettuce Configuration","body":"<p>We just moved from redis standalone to cluster and we came across the following Exception: RedisSystemException: Error in execution; nested exception is io.lettuce.core.RedisCommandExecutionException: CROSSSLOT Keys in request don't hash to the same slot.\nOn Further digging into it I found this issue comes into picture when Keys in request don't hash to the same slot during a redisTemplate.opsForZSet().intersectAndStore / redisTemplate.opsForZSet().differenceAndStore and similar union intersection operations.</p>\n<p>I came across this concept called hashtags but I am not figure out a way to resolve it through my code</p>\n<pre><code>     @LogMethodCall\n  public String getValueByKey(String key) {\n    if (BooleanUtils.isTrue(keyExists(key))) {\n      return redisTemplate.opsForValue().get(key+&quot;{someconstantstring}&quot;);\n    }\n    return null;\n  }\n\n  @LogMethodCall\n  public void save(String key, String value) {\n    if (StringUtils.isNotEmpty(key)) {\n      redisTemplate.opsForValue().set(key+&quot;{someconstantstring}&quot;, value);\n    }\n  }\n\n  @LogMethodCall\n  public void saveWithExpiryInMinutes(String key, String value, long expiryTime) {\n    if (StringUtils.isNotEmpty(key)) {\n      redisTemplate.opsForValue().set(key+&quot;someconstantstring&quot;, value, expiryTime, TimeUnit.MINUTES);\n    }\n  }\n\n  @LogMethodCall\n  public void saveWithExpiryInSeconds(String key, String value, long expiryTime) {\n    if (StringUtils.isNotEmpty(key)) {\n      redisTemplate.opsForValue().set(key+&quot;{someconstantstring}&quot;, value, expiryTime, TimeUnit.SECONDS);\n    }\n  }\n</code></pre>\n<p>Have I understood the concept wrong ?Any inputs with code snippet examples that might be working will probably help me get through this?</p>\n"},{"tags":["java","cucumber"],"comments":[{"owner":{"account_id":4895787,"reputation":10858,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1690469839,"post_id":76778335,"comment_id":135361247,"body_markdown":"Try using the `@AfterAll` hook.","body":"Try using the <code>@AfterAll</code> hook."},{"owner":{"account_id":25905376,"reputation":23,"user_id":19630533,"display_name":"Manan Girdhar"},"score":0,"creation_date":1690543887,"post_id":76778335,"comment_id":135372195,"body_markdown":"@AfterAll runs after the test run not after every feature file","body":"@AfterAll runs after the test run not after every feature file"}],"owner":{"account_id":25905376,"reputation":23,"user_id":19630533,"display_name":"Manan Girdhar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690450115,"creation_date":1690450115,"question_id":76778335,"body_markdown":"How to count the total no of Scenarios in a feature file. Like I have a feature file with 5 scenarios. I want to know the total count of scenarios in the @Before function. I basically want to execute certain steps only after the last scenario in a feature file for which I need to know the count of scenarios. Cucumber provides @Before and @After but they are executed after each scenario. I want to execute some steps only after all scenarios are completed","title":"Count the number of Scenarios in a particular feature file","body":"<p>How to count the total no of Scenarios in a feature file. Like I have a feature file with 5 scenarios. I want to know the total count of scenarios in the @Before function. I basically want to execute certain steps only after the last scenario in a feature file for which I need to know the count of scenarios. Cucumber provides @Before and @After but they are executed after each scenario. I want to execute some steps only after all scenarios are completed</p>\n"},{"tags":["java","flutter","gradle","plugins"],"answers":[{"tags":[],"owner":{"account_id":26725563,"reputation":11,"user_id":20328739,"display_name":"sleepy bee"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690449777,"creation_date":1690449777,"answer_id":76778297,"question_id":70338294,"body_markdown":"In my case,  \r\n`pubspec.yaml` was wrong.  \r\n\r\n    my_plugin:\r\n      git:\r\n        url: https://myplugin.git\r\n        branch: main // Wrong Keyword\r\n        ref: main    // Right Keyword\r\n\r\n\r\nCheck your `pubspec.yaml` file.\r\nindent or version name or something.\r\n\r\n\r\n\r\n\r\n","title":"flutter - package does not exist in GeneratedPluginRegistrant.java","body":"<p>In my case,<br />\n<code>pubspec.yaml</code> was wrong.</p>\n<pre><code>my_plugin:\n  git:\n    url: https://myplugin.git\n    branch: main // Wrong Keyword\n    ref: main    // Right Keyword\n</code></pre>\n<p>Check your <code>pubspec.yaml</code> file.\nindent or version name or something.</p>\n"}],"owner":{"account_id":14452910,"reputation":123,"user_id":10439878,"display_name":"tim_liu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":917,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1690449777,"creation_date":1639414916,"question_id":70338294,"body_markdown":"I&#39;m developing a flutter application, the app runs fine on ios, when I wanted to run it on android, I used ``./gralew clean`` then ``./gradlew :app:bundleRelease``. Then I get the following errors:\r\n```\r\n&gt; Task :app:compileReleaseJavaWithJavac FAILED\r\n/Users/liuqishu/Downloads/scambio/android/app/src/main/java/io/flutter/plugins/GeneratedPluginRegistrant.java:21: error: package com.it_nomads.fluttersecurestorage does not exist\r\n      flutterEngine.getPlugins().add(new com.it_nomads.fluttersecurestorage.FlutterSecureStoragePlugin());\r\n                                                                           ^\r\n/Users/liuqishu/Downloads/scambio/android/app/src/main/java/io/flutter/plugins/GeneratedPluginRegistrant.java:26: error: package com.example.qrcode does not exist\r\n      com.example.qrcode.QrcodePlugin.registerWith(shimPluginRegistry.registrarFor(&quot;com.example.qrcode.QrcodePlugin&quot;));\r\n                        ^\r\n/Users/liuqishu/Downloads/scambio/android/app/src/main/java/io/flutter/plugins/GeneratedPluginRegistrant.java:31: error: package com.tekartik.sqflite does not exist\r\n      flutterEngine.getPlugins().add(new com.tekartik.sqflite.SqflitePlugin());\r\n                                                             ^\r\n/Users/liuqishu/Downloads/scambio/android/app/src/main/java/io/flutter/plugins/GeneratedPluginRegistrant.java:36: error: package io.flutter.plugins.urllauncher does not exist\r\n      flutterEngine.getPlugins().add(new io.flutter.plugins.urllauncher.UrlLauncherPlugin());\r\n                                                                       ^\r\n/Users/liuqishu/Downloads/scambio/android/app/src/main/java/io/flutter/plugins/GeneratedPluginRegistrant.java:41: error: package io.flutter.plugins.webviewflutter does not exist\r\n      flutterEngine.getPlugins().add(new io.flutter.plugins.webviewflutter.WebViewFlutterPlugin());\r\n                                                                          ^\r\n5 errors\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:app:compileReleaseJavaWithJavac&#39;.\r\n&gt; Compilation failed; see the compiler error output for details.\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 8.0.\r\n\r\nYou can use &#39;--warning-mode all&#39; to show the individual deprecation warnings and determine if they come from your own scripts or plugins.\r\n\r\nSee https://docs.gradle.org/7.3/userguide/command_line_interface.html#sec:command_line_warnings\r\n\r\nBUILD FAILED in 7s\r\n22 actionable tasks: 6 executed, 16 up-to-date\r\n```\r\n\r\nNone of my plugins are recognized, any idea on how to fix it?\r\n\r\n\r\n----------\r\n``GeneratedPluginRegistrant.java``: also a lot of symbols can not be solved in this file(ex:io, androidx, Keep...), is that normal?\r\n```\r\npackage io.flutter.plugins;\r\n\r\nimport androidx.annotation.Keep;\r\nimport androidx.annotation.NonNull;\r\nimport io.flutter.Log;\r\n\r\nimport io.flutter.embedding.engine.FlutterEngine;\r\nimport io.flutter.embedding.engine.plugins.shim.ShimPluginRegistry;\r\n\r\n/**\r\n * Generated file. Do not edit.\r\n * This file is generated by the Flutter tool based on the\r\n * plugins that support the Android platform.\r\n */\r\n@Keep\r\npublic final class GeneratedPluginRegistrant {\r\n  private static final String TAG = &quot;GeneratedPluginRegistrant&quot;;\r\n  public static void registerWith(@NonNull FlutterEngine flutterEngine) {\r\n    ShimPluginRegistry shimPluginRegistry = new ShimPluginRegistry(flutterEngine);\r\n    try {\r\n      flutterEngine.getPlugins().add(new com.it_nomads.fluttersecurestorage.FlutterSecureStoragePlugin());\r\n    } catch(Exception e) {\r\n      Log.e(TAG, &quot;Error registering plugin flutter_secure_storage, com.it_nomads.fluttersecurestorage.FlutterSecureStoragePlugin&quot;, e);\r\n    }\r\n    try {\r\n      com.example.qrcode.QrcodePlugin.registerWith(shimPluginRegistry.registrarFor(&quot;com.example.qrcode.QrcodePlugin&quot;));\r\n    } catch(Exception e) {\r\n      Log.e(TAG, &quot;Error registering plugin qrcode, com.example.qrcode.QrcodePlugin&quot;, e);\r\n    }\r\n    try {\r\n      flutterEngine.getPlugins().add(new com.tekartik.sqflite.SqflitePlugin());\r\n    } catch(Exception e) {\r\n      Log.e(TAG, &quot;Error registering plugin sqflite, com.tekartik.sqflite.SqflitePlugin&quot;, e);\r\n    }\r\n    try {\r\n      flutterEngine.getPlugins().add(new io.flutter.plugins.urllauncher.UrlLauncherPlugin());\r\n    } catch(Exception e) {\r\n      Log.e(TAG, &quot;Error registering plugin url_launcher, io.flutter.plugins.urllauncher.UrlLauncherPlugin&quot;, e);\r\n    }\r\n    try {\r\n      flutterEngine.getPlugins().add(new io.flutter.plugins.webviewflutter.WebViewFlutterPlugin());\r\n    } catch(Exception e) {\r\n      Log.e(TAG, &quot;Error registering plugin webview_flutter, io.flutter.plugins.webviewflutter.WebViewFlutterPlugin&quot;, e);\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n``MainActivity.kt``:\r\n```\r\npackage fr.lorenzomevellec.app.scambio\r\n\r\nimport androidx.annotation.NonNull;\r\nimport android.os.Bundle\r\nimport io.flutter.embedding.android.FlutterActivity\r\nimport io.flutter.embedding.engine.FlutterEngine\r\nimport io.flutter.plugins.GeneratedPluginRegistrant\r\n\r\nclass MainActivity: FlutterActivity() {\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        GeneratedPluginRegistrant.registerWith(FlutterEngine(this))\r\n    }\r\n    override fun configureFlutterEngine(flutterEngine: FlutterEngine) {\r\n        GeneratedPluginRegistrant.registerWith(flutterEngine);\r\n    }\r\n}\r\n```\r\n\r\n``Project structure``:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/whRUQ.png","title":"flutter - package does not exist in GeneratedPluginRegistrant.java","body":"<p>I'm developing a flutter application, the app runs fine on ios, when I wanted to run it on android, I used <code>./gralew clean</code> then <code>./gradlew :app:bundleRelease</code>. Then I get the following errors:</p>\n<pre><code>&gt; Task :app:compileReleaseJavaWithJavac FAILED\n/Users/liuqishu/Downloads/scambio/android/app/src/main/java/io/flutter/plugins/GeneratedPluginRegistrant.java:21: error: package com.it_nomads.fluttersecurestorage does not exist\n      flutterEngine.getPlugins().add(new com.it_nomads.fluttersecurestorage.FlutterSecureStoragePlugin());\n                                                                           ^\n/Users/liuqishu/Downloads/scambio/android/app/src/main/java/io/flutter/plugins/GeneratedPluginRegistrant.java:26: error: package com.example.qrcode does not exist\n      com.example.qrcode.QrcodePlugin.registerWith(shimPluginRegistry.registrarFor(&quot;com.example.qrcode.QrcodePlugin&quot;));\n                        ^\n/Users/liuqishu/Downloads/scambio/android/app/src/main/java/io/flutter/plugins/GeneratedPluginRegistrant.java:31: error: package com.tekartik.sqflite does not exist\n      flutterEngine.getPlugins().add(new com.tekartik.sqflite.SqflitePlugin());\n                                                             ^\n/Users/liuqishu/Downloads/scambio/android/app/src/main/java/io/flutter/plugins/GeneratedPluginRegistrant.java:36: error: package io.flutter.plugins.urllauncher does not exist\n      flutterEngine.getPlugins().add(new io.flutter.plugins.urllauncher.UrlLauncherPlugin());\n                                                                       ^\n/Users/liuqishu/Downloads/scambio/android/app/src/main/java/io/flutter/plugins/GeneratedPluginRegistrant.java:41: error: package io.flutter.plugins.webviewflutter does not exist\n      flutterEngine.getPlugins().add(new io.flutter.plugins.webviewflutter.WebViewFlutterPlugin());\n                                                                          ^\n5 errors\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':app:compileReleaseJavaWithJavac'.\n&gt; Compilation failed; see the compiler error output for details.\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 8.0.\n\nYou can use '--warning-mode all' to show the individual deprecation warnings and determine if they come from your own scripts or plugins.\n\nSee https://docs.gradle.org/7.3/userguide/command_line_interface.html#sec:command_line_warnings\n\nBUILD FAILED in 7s\n22 actionable tasks: 6 executed, 16 up-to-date\n</code></pre>\n<p>None of my plugins are recognized, any idea on how to fix it?</p>\n<hr />\n<p><code>GeneratedPluginRegistrant.java</code>: also a lot of symbols can not be solved in this file(ex:io, androidx, Keep...), is that normal?</p>\n<pre><code>package io.flutter.plugins;\n\nimport androidx.annotation.Keep;\nimport androidx.annotation.NonNull;\nimport io.flutter.Log;\n\nimport io.flutter.embedding.engine.FlutterEngine;\nimport io.flutter.embedding.engine.plugins.shim.ShimPluginRegistry;\n\n/**\n * Generated file. Do not edit.\n * This file is generated by the Flutter tool based on the\n * plugins that support the Android platform.\n */\n@Keep\npublic final class GeneratedPluginRegistrant {\n  private static final String TAG = &quot;GeneratedPluginRegistrant&quot;;\n  public static void registerWith(@NonNull FlutterEngine flutterEngine) {\n    ShimPluginRegistry shimPluginRegistry = new ShimPluginRegistry(flutterEngine);\n    try {\n      flutterEngine.getPlugins().add(new com.it_nomads.fluttersecurestorage.FlutterSecureStoragePlugin());\n    } catch(Exception e) {\n      Log.e(TAG, &quot;Error registering plugin flutter_secure_storage, com.it_nomads.fluttersecurestorage.FlutterSecureStoragePlugin&quot;, e);\n    }\n    try {\n      com.example.qrcode.QrcodePlugin.registerWith(shimPluginRegistry.registrarFor(&quot;com.example.qrcode.QrcodePlugin&quot;));\n    } catch(Exception e) {\n      Log.e(TAG, &quot;Error registering plugin qrcode, com.example.qrcode.QrcodePlugin&quot;, e);\n    }\n    try {\n      flutterEngine.getPlugins().add(new com.tekartik.sqflite.SqflitePlugin());\n    } catch(Exception e) {\n      Log.e(TAG, &quot;Error registering plugin sqflite, com.tekartik.sqflite.SqflitePlugin&quot;, e);\n    }\n    try {\n      flutterEngine.getPlugins().add(new io.flutter.plugins.urllauncher.UrlLauncherPlugin());\n    } catch(Exception e) {\n      Log.e(TAG, &quot;Error registering plugin url_launcher, io.flutter.plugins.urllauncher.UrlLauncherPlugin&quot;, e);\n    }\n    try {\n      flutterEngine.getPlugins().add(new io.flutter.plugins.webviewflutter.WebViewFlutterPlugin());\n    } catch(Exception e) {\n      Log.e(TAG, &quot;Error registering plugin webview_flutter, io.flutter.plugins.webviewflutter.WebViewFlutterPlugin&quot;, e);\n    }\n  }\n}\n</code></pre>\n<p><code>MainActivity.kt</code>:</p>\n<pre><code>package fr.lorenzomevellec.app.scambio\n\nimport androidx.annotation.NonNull;\nimport android.os.Bundle\nimport io.flutter.embedding.android.FlutterActivity\nimport io.flutter.embedding.engine.FlutterEngine\nimport io.flutter.plugins.GeneratedPluginRegistrant\n\nclass MainActivity: FlutterActivity() {\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        GeneratedPluginRegistrant.registerWith(FlutterEngine(this))\n    }\n    override fun configureFlutterEngine(flutterEngine: FlutterEngine) {\n        GeneratedPluginRegistrant.registerWith(flutterEngine);\n    }\n}\n</code></pre>\n<p><code>Project structure</code>:\n<a href=\"https://i.stack.imgur.com/whRUQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/whRUQ.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","selenium-webdriver","automation","compiler-errors","testng-eclipse"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1690451101,"post_id":76778146,"comment_id":135356815,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":28917294,"reputation":1,"user_id":22148997,"display_name":"Alexandru Andres"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690448658,"creation_date":1690448658,"question_id":76778146,"body_markdown":"I can&#39;t run tests in TestNG, I installed the NG Test eclipse, I added the necessary files and I get an error when I run any test, using TestNG .\r\nCan you tell me a solution to the problem, please? \r\nThanks!\r\n\r\nI installed the necessary files for TestNg, I imported Jar files, and I still receive the same error ","title":"I can&#39;t run Tests using TestNG in selenium using java for automation testing","body":"<p>I can't run tests in TestNG, I installed the NG Test eclipse, I added the necessary files and I get an error when I run any test, using TestNG .\nCan you tell me a solution to the problem, please?\nThanks!</p>\n<p>I installed the necessary files for TestNg, I imported Jar files, and I still receive the same error</p>\n"},{"tags":["java","excel","apache-poi","osgi","apache-tika"],"comments":[{"owner":{"account_id":964210,"reputation":1018,"user_id":987959,"display_name":"PJ Fanning"},"score":0,"creation_date":1690467279,"post_id":76778088,"comment_id":135360576,"body_markdown":"Googling for `poi karaf` finds https://github.com/BlackBeltTechnology/karaf-features-apache-poi - possibly worth a look. Even if you don&#39;t want to use Karaf, you might spot something you can reuse.","body":"Googling for <code>poi karaf</code> finds <a href=\"https://github.com/BlackBeltTechnology/karaf-features-apache-poi\" rel=\"nofollow noreferrer\">github.com/BlackBeltTechnology/karaf-features-apache-poi</a> - possibly worth a look. Even if you don&#39;t want to use Karaf, you might spot something you can reuse."},{"owner":{"account_id":63767,"reputation":1634,"user_id":188587,"accept_rate":44,"display_name":"djb"},"score":0,"creation_date":1690467730,"post_id":76778088,"comment_id":135360687,"body_markdown":"Thanks, in the meantime i&#39;ve got fastexcel-reader working.  Also a dependency nightmare, but running at least.  Will try that one out next, if this doesn&#39;t work.","body":"Thanks, in the meantime i&#39;ve got fastexcel-reader working.  Also a dependency nightmare, but running at least.  Will try that one out next, if this doesn&#39;t work."}],"owner":{"account_id":63767,"reputation":1634,"user_id":188587,"accept_rate":44,"display_name":"djb"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690448089,"creation_date":1690448089,"question_id":76778088,"body_markdown":"This looks like an age old problem.  Wondering if there&#39;s an update.\r\n\r\nI&#39;m trying to parse Excel in OSGi (Karaf).\r\nApache POI or TIKA.\r\n\r\nI&#39;ve tried tika-bundle.jar and I&#39;ve tried a few of the POI uberjars.\r\nThought tika-bundle.jar would work since it is advertised as for OSGi.  But it can&#39;t find &quot;org.apache.tika.config&quot;.\r\n\r\nI&#39;ve tried camel-tika. \r\n\r\nAnyone had any success with POI/Tika in OSGi, in the last 5 years?  \r\n\r\n(Note: I&#39;ll use anything, if it can read sheets and cells in Excel)\r\n","title":"POI / Tika in Java OSGi","body":"<p>This looks like an age old problem.  Wondering if there's an update.</p>\n<p>I'm trying to parse Excel in OSGi (Karaf).\nApache POI or TIKA.</p>\n<p>I've tried tika-bundle.jar and I've tried a few of the POI uberjars.\nThought tika-bundle.jar would work since it is advertised as for OSGi.  But it can't find &quot;org.apache.tika.config&quot;.</p>\n<p>I've tried camel-tika.</p>\n<p>Anyone had any success with POI/Tika in OSGi, in the last 5 years?</p>\n<p>(Note: I'll use anything, if it can read sheets and cells in Excel)</p>\n"},{"tags":["java","pdf","ms-word","aspose.words","fillable"],"answers":[{"tags":[],"owner":{"account_id":11398698,"reputation":1809,"user_id":8356224,"display_name":"Alexey Noskov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690448004,"creation_date":1690447353,"answer_id":76777972,"question_id":76776983,"body_markdown":"You should use [PdfSaveOptions.PreserveFormFields][1] options to preserve form fields in PDF:\r\n```cs\r\nDocument doc = new Document(&quot;C:\\\\Temp\\\\in.docx&quot;);\r\nPdfSaveOptions opt = new PdfSaveOptions();\r\nopt.setPreserveFormFields(true);\r\ndoc.save(&quot;C:\\\\Temp\\\\out.pdf&quot;, opt);\r\n```\r\n\r\n  [1]: https://reference.aspose.com/words/java/com.aspose.words/pdfsaveoptions/#setPreserveFormFields-boolean","title":"Converting fillable word document to fillable pdf file using java","body":"<p>You should use <a href=\"https://reference.aspose.com/words/java/com.aspose.words/pdfsaveoptions/#setPreserveFormFields-boolean\" rel=\"nofollow noreferrer\">PdfSaveOptions.PreserveFormFields</a> options to preserve form fields in PDF:</p>\n<pre class=\"lang-cs prettyprint-override\"><code>Document doc = new Document(&quot;C:\\\\Temp\\\\in.docx&quot;);\nPdfSaveOptions opt = new PdfSaveOptions();\nopt.setPreserveFormFields(true);\ndoc.save(&quot;C:\\\\Temp\\\\out.pdf&quot;, opt);\n</code></pre>\n"}],"owner":{"account_id":29100617,"reputation":3,"user_id":22292509,"display_name":"afasianok"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76777972,"answer_count":1,"score":-1,"last_activity_date":1690448004,"creation_date":1690438869,"question_id":76776983,"body_markdown":"I want to convert my fillable word document into fillable pdf document? Is there any solution?\r\n\r\nI used aspose.words to insert some fill in forms into document and then converted it into PDF, but from fill-in forms were just empty fields with border...","title":"Converting fillable word document to fillable pdf file using java","body":"<p>I want to convert my fillable word document into fillable pdf document? Is there any solution?</p>\n<p>I used aspose.words to insert some fill in forms into document and then converted it into PDF, but from fill-in forms were just empty fields with border...</p>\n"},{"tags":["java","spring","spring-boot","thymeleaf","option-type"],"comments":[{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":3,"creation_date":1602441924,"post_id":64306235,"comment_id":113715188,"body_markdown":"Just an observation, which may help to simplify your expressions (but only slightly): Thymeleaf will throw an error when it processes 4 or more underscores in a row, in a string literal. So, for example, instead of using `&#39;_____&#39;` (5 underscores in a row), you can use `&#39;\\_\\_\\_\\__&#39;`. I have [asked a question about this](https://stackoverflow.com/questions/64307689/underscores-in-thymeleaf-text-literals). This does not relate to or help with how to handle optionals in Thymeleaf.","body":"Just an observation, which may help to simplify your expressions (but only slightly): Thymeleaf will throw an error when it processes 4 or more underscores in a row, in a string literal. So, for example, instead of using <code>&#39;_____&#39;</code> (5 underscores in a row), you can use <code>&#39;\\_\\_\\_\\__&#39;</code>. I have <a href=\"https://stackoverflow.com/questions/64307689/underscores-in-thymeleaf-text-literals\">asked a question about this</a>. This does not relate to or help with how to handle optionals in Thymeleaf."},{"owner":{"account_id":5152799,"reputation":19367,"user_id":4126893,"display_name":"Metroids"},"score":3,"creation_date":1602515762,"post_id":64306235,"comment_id":113738300,"body_markdown":"Yeah, as pointed out `[[${foo.findName().orElse(&quot;_____&quot;)}]]` is throwing an error not because .orElse doesn&#39;t work, but because the String `__` has special meaning.   You need to escape it.","body":"Yeah, as pointed out <code>[[${foo.findName().orElse(&quot;_____&quot;)}]]</code> is throwing an error not because .orElse doesn&#39;t work, but because the String <code>__</code> has special meaning.   You need to escape it."}],"answers":[{"tags":[],"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1602435466,"creation_date":1602435466,"answer_id":64306712,"question_id":64306235,"body_markdown":"The only thing I can get to work so far is this:\r\n\r\n```html\r\n&lt;th:block th:switch=&quot;${foo.findName().isPresent()}&quot;&gt;\r\n  &lt;th:block th:case=&quot;true&quot;&gt;[[${foo.findName.get()}]]&lt;/th:block&gt;\r\n  &lt;th:block th:case=&quot;*&quot;&gt;_____&lt;/th:block&gt;\r\n&lt;/th:block&gt;\r\n```\r\n\r\nHorrors—so verbose! Is that the best that can be done?","title":"Working around lack of Optional support in Thymeleaf","body":"<p>The only thing I can get to work so far is this:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;th:block th:switch=&quot;${foo.findName().isPresent()}&quot;&gt;\n  &lt;th:block th:case=&quot;true&quot;&gt;[[${foo.findName.get()}]]&lt;/th:block&gt;\n  &lt;th:block th:case=&quot;*&quot;&gt;_____&lt;/th:block&gt;\n&lt;/th:block&gt;\n</code></pre>\n<p>Horrors—so verbose! Is that the best that can be done?</p>\n"},{"comments":[{"owner":{"account_id":1022426,"reputation":505,"user_id":1944515,"accept_rate":29,"display_name":"Aspiring Dev"},"score":0,"creation_date":1644848718,"post_id":64349869,"comment_id":125707308,"body_markdown":"Thymeleaf does *not* necessarily uses spel in Spring. You can very much use ONGL and Spring.","body":"Thymeleaf does <i>not</i> necessarily uses spel in Spring. You can very much use ONGL and Spring."}],"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"comment_count":1,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1690447775,"creation_date":1602665848,"answer_id":64349869,"question_id":64306235,"body_markdown":"Since Thymeleaf uses Spring Epression language while integrated with Spring, the Thymeleaf itself is not to blame. As of the current version of Spring, the SpEl doesn&#39;t support Java 8 Optional yet, here is the GitHub issue [#20433][1].\r\n\r\nPossible workarounds require different expressions:\r\n\r\n- When you have a default value (the `_` escaping issue is resolved throught a [comment][2])\r\n  ```\r\n  &lt;span th:text=&quot;${foo.findName().orElse(&#39;---&#39;)&quot; /&gt;\r\n  ``` \r\n- When you don&#39;t want to render an enpty (or default) line, you can hide it using `th:if`:\r\n  ```\r\n  &lt;th:block th:if=&quot;${foo.findName().isPresent()}&quot;&gt;\r\n      &lt;span th:text=&quot;${foo.findName().get()&quot; /&gt; \r\n  &lt;/th:block&gt;`\r\n  ```\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-framework/issues/20433\r\n  [2]: https://stackoverflow.com/questions/64306235/working-around-lack-of-optional-support-in-thymeleaf/64349869#comment113715188_64306235","title":"Working around lack of Optional support in Thymeleaf","body":"<p>Since Thymeleaf uses Spring Epression language while integrated with Spring, the Thymeleaf itself is not to blame. As of the current version of Spring, the SpEl doesn't support Java 8 Optional yet, here is the GitHub issue <a href=\"https://github.com/spring-projects/spring-framework/issues/20433\" rel=\"nofollow noreferrer\">#20433</a>.</p>\n<p>Possible workarounds require different expressions:</p>\n<ul>\n<li>When you have a default value (the <code>_</code> escaping issue is resolved throught a <a href=\"https://stackoverflow.com/questions/64306235/working-around-lack-of-optional-support-in-thymeleaf/64349869#comment113715188_64306235\">comment</a>)\n<pre><code>&lt;span th:text=&quot;${foo.findName().orElse('---')&quot; /&gt;\n</code></pre>\n</li>\n<li>When you don't want to render an enpty (or default) line, you can hide it using <code>th:if</code>:\n<pre><code>&lt;th:block th:if=&quot;${foo.findName().isPresent()}&quot;&gt;\n    &lt;span th:text=&quot;${foo.findName().get()&quot; /&gt; \n&lt;/th:block&gt;`\n</code></pre>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":14141125,"reputation":171,"user_id":10215887,"display_name":"Julia Hin&#223;en IT.NRW"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667922722,"creation_date":1667922722,"answer_id":74363599,"question_id":64306235,"body_markdown":"As **workaround for the Java Optionals funcionality** use the &quot;Elvis Operator&quot; and the &quot;Safe Navigation Operator&quot; of SpringEL:\r\n\r\n**Safe Navigation Operator**:\r\nIf myOptional is null, this will return null instead of an error:\r\n\r\n    myOptional.orElse(null)?.myProperty\r\n\r\nThat&#39;s equivalent to this in Java:\r\n\r\n    myOptional.map(ObjectType::getMyProperty).orElse(null);\r\n\r\n**Elvis Operator**:\r\nIf myOptional or myProperty is null, this will return &quot;alternativeContent&quot;:\r\n    \r\n    myOptional.orElse(null)?.myProperty?:&quot;alternativeContent&quot;\r\nThat&#39;s equivalent to this in Java:\r\n\r\n    myOptional.map(ObjectType::getMyProperty).orElse(&quot;alternativeContent&quot;);\r\n\r\n**Easier might be, not to pass Optionals to Thymeleaf alltogether and only use the Operators mentioned above**:\r\n\r\n    myObject?.myProperty\r\n    myObject?.myProperty?:&quot;alternativeContent&quot;","title":"Working around lack of Optional support in Thymeleaf","body":"<p>As <strong>workaround for the Java Optionals funcionality</strong> use the &quot;Elvis Operator&quot; and the &quot;Safe Navigation Operator&quot; of SpringEL:</p>\n<p><strong>Safe Navigation Operator</strong>:\nIf myOptional is null, this will return null instead of an error:</p>\n<pre><code>myOptional.orElse(null)?.myProperty\n</code></pre>\n<p>That's equivalent to this in Java:</p>\n<pre><code>myOptional.map(ObjectType::getMyProperty).orElse(null);\n</code></pre>\n<p><strong>Elvis Operator</strong>:\nIf myOptional or myProperty is null, this will return &quot;alternativeContent&quot;:</p>\n<pre><code>myOptional.orElse(null)?.myProperty?:&quot;alternativeContent&quot;\n</code></pre>\n<p>That's equivalent to this in Java:</p>\n<pre><code>myOptional.map(ObjectType::getMyProperty).orElse(&quot;alternativeContent&quot;);\n</code></pre>\n<p><strong>Easier might be, not to pass Optionals to Thymeleaf alltogether and only use the Operators mentioned above</strong>:</p>\n<pre><code>myObject?.myProperty\nmyObject?.myProperty?:&quot;alternativeContent&quot;\n</code></pre>\n"}],"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2634,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1690447775,"creation_date":1602432632,"question_id":64306235,"body_markdown":"It&#39;s 2020 and Thymeleaf still [doesn&#39;t support `Optional`][1] from Java 8, released six year ago. What are the workarounds?\r\n\r\nI&#39;m using Spring Boot 2.3.3.RELEASE with Thymeleaf. I have an object of type `Foo` that the controller provides via the model/session as `foo`. It has a method `findName()` that returns `Optional&lt;String&gt;`. So I can put this in my template:\r\n\r\n```html\r\n[[${foo.findName()}]]\r\n```\r\n\r\nAssuming the name is `&quot;bar&quot;`, that shows:\r\n\r\n&gt; `Optional[bar]`\r\n\r\nThat works, but obviously it&#39;s not what I want.\r\n\r\nSo I tried what I would do in Java. The following should print simply the name (e.g. `foo`), or `_____` if the name is missing:\r\n\r\n```html\r\n[[${foo.findName().orElse(&quot;_____&quot;)}]]\r\n```\r\n\r\nUnfortunately that produces an exception:\r\n\r\n&gt; `org.thymeleaf.exceptions.TemplateProcessingException: Could not parse as expression: &quot;&quot;`\r\n\r\n\r\nTrying to use conditions, this will provide the value if it is present:\r\n\r\n```html\r\n[[${foo.findName().isPresent()} ? ${foo.findName().get()}]]\r\n```\r\n\r\nBut for some reason this throws an exception:\r\n\r\n```html\r\n[[${foo.findName().isPresent()} ? ${foo.findName().get()} : &#39;_____&#39;]]\r\n```\r\n\r\nFirst, I&#39;m not sure why the example using `orElse()` doesn&#39;t work, as the `Optional` instance is an object like any of the others. Secondly, does anyone know a workaround? Thirdly, does anyone know of a workaround that is concise and doesn&#39;t take up three times the code?\r\n\r\n(What we really need is native support in Thymeleaf so that `${foo.findName()} ?: &#39;_____&#39;` will just work naturally.)\r\n\r\n  [1]: https://github.com/thymeleaf/thymeleaf/issues/672","title":"Working around lack of Optional support in Thymeleaf","body":"<p>It's 2020 and Thymeleaf still <a href=\"https://github.com/thymeleaf/thymeleaf/issues/672\" rel=\"nofollow noreferrer\">doesn't support <code>Optional</code></a> from Java 8, released six year ago. What are the workarounds?</p>\n<p>I'm using Spring Boot 2.3.3.RELEASE with Thymeleaf. I have an object of type <code>Foo</code> that the controller provides via the model/session as <code>foo</code>. It has a method <code>findName()</code> that returns <code>Optional&lt;String&gt;</code>. So I can put this in my template:</p>\n<pre class=\"lang-html prettyprint-override\"><code>[[${foo.findName()}]]\n</code></pre>\n<p>Assuming the name is <code>&quot;bar&quot;</code>, that shows:</p>\n<blockquote>\n<p><code>Optional[bar]</code></p>\n</blockquote>\n<p>That works, but obviously it's not what I want.</p>\n<p>So I tried what I would do in Java. The following should print simply the name (e.g. <code>foo</code>), or <code>_____</code> if the name is missing:</p>\n<pre class=\"lang-html prettyprint-override\"><code>[[${foo.findName().orElse(&quot;_____&quot;)}]]\n</code></pre>\n<p>Unfortunately that produces an exception:</p>\n<blockquote>\n<p><code>org.thymeleaf.exceptions.TemplateProcessingException: Could not parse as expression: &quot;&quot;</code></p>\n</blockquote>\n<p>Trying to use conditions, this will provide the value if it is present:</p>\n<pre class=\"lang-html prettyprint-override\"><code>[[${foo.findName().isPresent()} ? ${foo.findName().get()}]]\n</code></pre>\n<p>But for some reason this throws an exception:</p>\n<pre class=\"lang-html prettyprint-override\"><code>[[${foo.findName().isPresent()} ? ${foo.findName().get()} : '_____']]\n</code></pre>\n<p>First, I'm not sure why the example using <code>orElse()</code> doesn't work, as the <code>Optional</code> instance is an object like any of the others. Secondly, does anyone know a workaround? Thirdly, does anyone know of a workaround that is concise and doesn't take up three times the code?</p>\n<p>(What we really need is native support in Thymeleaf so that <code>${foo.findName()} ?: '_____'</code> will just work naturally.)</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":5613556,"reputation":2315,"user_id":4445625,"accept_rate":50,"display_name":"Marc Stroebel"},"score":0,"creation_date":1690442135,"post_id":76777231,"comment_id":135355007,"body_markdown":"looks like a compilation problem, import for CompleteAsyncTask is wrong: com.luv2code.demo.code vs. com.xxx","body":"looks like a compilation problem, import for CompleteAsyncTask is wrong: com.luv2code.demo.code vs. com.xxx"},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1690442547,"post_id":76777231,"comment_id":135355094,"body_markdown":"If you want us to help debugging an error, it might be helpful to actually tell us what the error is.","body":"If you want us to help debugging an error, it might be helpful to actually tell us what the error is."}],"answers":[{"comments":[{"owner":{"account_id":17341920,"reputation":57,"user_id":12562338,"display_name":"Daniel0909"},"score":0,"creation_date":1690447216,"post_id":76777530,"comment_id":135355996,"body_markdown":"Thank you, I slove the problem from your suggeent.","body":"Thank you, I slove the problem from your suggeent."}],"tags":[],"owner":{"account_id":8653469,"reputation":72,"user_id":6478449,"display_name":"Ranjan"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690443873,"creation_date":1690443873,"answer_id":76777530,"question_id":76777231,"body_markdown":"can you please check your import once. Error indicates controller was not recognized.\r\n\r\nCaused by: java.lang.Error:&lt;b&gt; Unresolved compilation problems: \r\n    The import com.xxx.CompleteAsyncTask&lt;/b&gt; cannot be resolved\r\n    CompleteAsyncTask cannot be resolved to a type \r\n\r\nVerify Package Structure: Ensure that the CompleteAsyncTask class is in the correct package. For example, if the CompleteAsyncTask class is in the package com.luv2code.demo.code, make sure it is in the correct folder structure within your project.\r\n\r\nmake sure to include it in the component scanning by using @ComponentScan annotation in your main application class. For example:\r\n\r\n```\r\n@SpringBootApplication\r\n@ComponentScan(basePackages = {&quot;com.luv2code.demo.code&quot;, &quot;com.luv2code.demo.entity&quot;, &quot;com.luv2code.demo.rest&quot;})\r\npublic class MainApplication {\r\n    // Main method and other configurations\r\n}\r\n```\r\n\r\n","title":"Spring boot error : Constructor threw exception","body":"<p>can you please check your import once. Error indicates controller was not recognized.</p>\n<p>Caused by: java.lang.Error:<b> Unresolved compilation problems:\nThe import com.xxx.CompleteAsyncTask</b> cannot be resolved\nCompleteAsyncTask cannot be resolved to a type</p>\n<p>Verify Package Structure: Ensure that the CompleteAsyncTask class is in the correct package. For example, if the CompleteAsyncTask class is in the package com.luv2code.demo.code, make sure it is in the correct folder structure within your project.</p>\n<p>make sure to include it in the component scanning by using @ComponentScan annotation in your main application class. For example:</p>\n<pre><code>@SpringBootApplication\n@ComponentScan(basePackages = {&quot;com.luv2code.demo.code&quot;, &quot;com.luv2code.demo.entity&quot;, &quot;com.luv2code.demo.rest&quot;})\npublic class MainApplication {\n    // Main method and other configurations\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17341920,"reputation":57,"user_id":12562338,"display_name":"Daniel0909"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690447628,"creation_date":1690447628,"answer_id":76778020,"question_id":76777231,"body_markdown":"I will show how to slove the question.\r\n&quot;com.luv2code.demo.contoller&quot; is first one in the ComponentScan.\r\nSo, I change &quot;com.luv2code.demo.code&quot; position to first.\r\n\r\n    Origin\r\n    \r\n    @SpringBootApplication\r\n    @ComponentScan(basePackages ={&quot;com.luv2code.demo.contoller&quot;,&quot;com.luv2code.demo.code&quot;, &quot;com.luv2code.demo.entity&quot;, &quot;com.luv2code.demo.rest&quot;})\r\n    public class MainApplication {\r\n        // Main method and other configurations\r\n    }\r\n    \r\n    new\r\n    \r\n         @SpringBootApplication\r\n        @ComponentScan(basePackages = {&quot;com.luv2code.demo.code&quot;,&quot;com.luv2code.demo.contoller&quot;, &quot;com.luv2code.demo.entity&quot;, &quot;com.luv2code.demo.rest&quot;})\r\n        public class MainApplication {\r\n            // Main method and other configurations\r\n        }\r\n\r\nRight now, I can run my project.","title":"Spring boot error : Constructor threw exception","body":"<p>I will show how to slove the question.\n&quot;com.luv2code.demo.contoller&quot; is first one in the ComponentScan.\nSo, I change &quot;com.luv2code.demo.code&quot; position to first.</p>\n<pre><code>Origin\n\n@SpringBootApplication\n@ComponentScan(basePackages ={&quot;com.luv2code.demo.contoller&quot;,&quot;com.luv2code.demo.code&quot;, &quot;com.luv2code.demo.entity&quot;, &quot;com.luv2code.demo.rest&quot;})\npublic class MainApplication {\n    // Main method and other configurations\n}\n\nnew\n\n     @SpringBootApplication\n    @ComponentScan(basePackages = {&quot;com.luv2code.demo.code&quot;,&quot;com.luv2code.demo.contoller&quot;, &quot;com.luv2code.demo.entity&quot;, &quot;com.luv2code.demo.rest&quot;})\n    public class MainApplication {\n        // Main method and other configurations\n    }\n</code></pre>\n<p>Right now, I can run my project.</p>\n"}],"owner":{"account_id":17341920,"reputation":57,"user_id":12562338,"display_name":"Daniel0909"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":241,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76777530,"answer_count":2,"score":0,"last_activity_date":1690447628,"creation_date":1690441421,"question_id":76777231,"body_markdown":"I&#39;m a new guy to learn spring boot. I want to learn @Async function how to work in spring boot. I create new spring boot and put the code. Everything is great, I got the result.\r\nWhen I put the code in to my other project. I got error and I don&#39;t know what happen.  \r\n\r\n\r\n\r\n\r\n[web: https://morosedog.gitlab.io/springboot-20190421-springboot33/][1]\r\n\r\n            StudentRestController.java\r\n            \r\n            import com.luv2code.demo.code.CompleteAsyncTask;\r\n                import com.luv2code.demo.entity.Student;\r\n                import org.springframework.beans.factory.annotation.Autowired;\r\n                import org.springframework.scheduling.annotation.EnableAsync;\r\n                import org.springframework.web.bind.annotation.GetMapping;\r\n                import org.springframework.web.bind.annotation.RequestMapping;\r\n                import org.springframework.web.bind.annotation.RestController;\r\n                import java.util.concurrent.CompletableFuture;\r\n                \r\n                @EnableAsync\r\n                @RestController\r\n                @RequestMapping(&quot;/api&quot;)\r\n                public class StudentRestController {\r\n                \r\n                    //define endpoint for &quot;/student&quot; - return a list of students\r\n                    @Autowired\r\n                    private CompleteAsyncTask completeAsyncTask;\r\n                \r\n                    @GetMapping(&quot;/students&quot;)\r\n                    public String getStudents() throws Exception {\r\n                    long start = System.currentTimeMillis();\r\n                \r\n                \r\n                \r\n                    CompletableFuture&lt;String&gt; one = completeAsyncTask.doTaskOne();\r\n                    CompletableFuture&lt;String&gt; two = completeAsyncTask.doTaskTwo();\r\n                    CompletableFuture&lt;String&gt; three = completeAsyncTask.doTaskThree();\r\n                \r\n                \r\n                        CompletableFuture.allOf(one, two, three).join();\r\n                \r\n                \r\n                        System.out.println(&quot;Total time spent: &quot; + (System.currentTimeMillis() - start));\r\n                \r\n                \r\n                        System.out.println(one.get());\r\n                        System.out.println(two.get());\r\n                        System.out.println(three.get());\r\n                \r\n                        return &quot;&quot;;\r\n                    }\r\n                }\r\n                \r\n                    \r\n        \r\n        \r\n        -----------------------------------------------------------------------------------\r\n        \r\n        package com.luv2code.demo.code;\r\n        \r\n        import java.util.Random;\r\n        import java.util.concurrent.CompletableFuture;\r\n        \r\n        import org.springframework.scheduling.annotation.Async;\r\n        import org.springframework.stereotype.Component;\r\n        \r\n        \r\n        \r\n        @Component\r\n        public class CompleteAsyncTask {\r\n        \r\n            public static Random random = new Random();\r\n        \r\n            @Async\r\n            public CompletableFuture&lt;String&gt; doTaskOne() throws Exception {\r\n                System.out.println(&quot;Start doing asynchronous tasks one&quot;);\r\n                long start = System.currentTimeMillis();\r\n                Thread.sleep(random.nextInt(10000));\r\n                long end = System.currentTimeMillis();\r\n                System.out.println(&quot;complete asynchronous task one，time consuming：&quot; + (end - start) + &quot;millisecond&quot;);\r\n                return CompletableFuture.completedFuture(&quot;Task one completed&quot;);\r\n            }\r\n        \r\n            @Async\r\n            public CompletableFuture&lt;String&gt; doTaskTwo() throws Exception {\r\n                System.out.println(&quot;Start doing asynchronous tasks two&quot;);\r\n                long start = System.currentTimeMillis();\r\n                Thread.sleep(random.nextInt(10000));\r\n                long end = System.currentTimeMillis();\r\n                System.out.println(&quot;complete asynchronous task two，time consuming：&quot; + (end - start) + &quot;millisecond&quot;);\r\n                return CompletableFuture.completedFuture(&quot;Task two completed&quot;);\r\n            }\r\n        \r\n            @Async\r\n            public CompletableFuture&lt;String&gt; doTaskThree() throws Exception {\r\n                System.out.println(&quot;Start doing asynchronous tasks three&quot;);\r\n                long start = System.currentTimeMillis();\r\n                Thread.sleep(random.nextInt(10000));\r\n                long end = System.currentTimeMillis();\r\n                System.out.println(&quot;complete asynchronous task three，time consuming：&quot; + (end - start) + &quot;millisecond&quot;);\r\n                return CompletableFuture.completedFuture(&quot;Task three completed&quot;);\r\n            }\r\n        \r\n        }\r\n    \r\n    --------------------------------------------------------------------------------------\r\n    run result\r\n    \r\n    2023-07-27T14:33:16.459+08:00  INFO 20612 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms\r\n    Start doing asynchronous tasks one\r\n    Start doing asynchronous tasks two\r\n    Start doing asynchronous tasks three\r\n    complete asynchronous task three，time consuming：1055millisecond\r\n    complete asynchronous task two，time consuming：3981millisecond\r\n    complete asynchronous task one，time consuming：6468millisecond\r\n    Total time spent: 6475\r\n    Task one completed\r\n    Task two completed\r\n    Task three completed\r\n    ------------------------------------------------------------------------------------\r\n\r\n\r\n    error message\r\n    \r\n    Error starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\n    2023-07-27 14:25:29.832 [restartedMain] ERROR org.springframework.boot.SpringApplication - Application run failed\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;testController&#39; defined in file [D:\\xxxxx\\testController.class]: Failed to instantiate [com.xxx.testController]: Constructor threw exception\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1314)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1199)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:917)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:310)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1304)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1293)\r\n    \tat com.xxx.mainApplication.main(mainApplication.java:20)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    \tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)\r\n    Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.xxx.testController]: Constructor threw exception\r\n    \tat org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:224)\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:87)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1308)\r\n    \t... 22 common frames omitted\r\n    Caused by: java.lang.Error: Unresolved compilation problems: \r\n    \tThe import com.xxx.CompleteAsyncTask cannot be resolved\r\n    \tCompleteAsyncTask cannot be resolved to a type\r\n    \r\n    \tat com.xxx.testController.&lt;init&gt;(testController.java:61)\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    \tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n    \tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\r\n    \tat org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:198)\r\n    \t... 24 common frames omitted\r\n\r\n\r\n\r\nOther_project\r\ntest_controller ---&gt;call  CompleteAsyncTask.java\r\n\r\nI put this code in test_controller and show error.\r\n\r\n    @Autowired\r\n    private CompleteAsyncTask completeAsyncTask;\r\n\r\n\r\n\r\n\r\n  [1]: https://morosedog.gitlab.io/springboot-20190421-springboot33/","title":"Spring boot error : Constructor threw exception","body":"<p>I'm a new guy to learn spring boot. I want to learn @Async function how to work in spring boot. I create new spring boot and put the code. Everything is great, I got the result.\nWhen I put the code in to my other project. I got error and I don't know what happen.</p>\n<p><a href=\"https://morosedog.gitlab.io/springboot-20190421-springboot33/\" rel=\"nofollow noreferrer\">web: https://morosedog.gitlab.io/springboot-20190421-springboot33/</a></p>\n<pre><code>        StudentRestController.java\n        \n        import com.luv2code.demo.code.CompleteAsyncTask;\n            import com.luv2code.demo.entity.Student;\n            import org.springframework.beans.factory.annotation.Autowired;\n            import org.springframework.scheduling.annotation.EnableAsync;\n            import org.springframework.web.bind.annotation.GetMapping;\n            import org.springframework.web.bind.annotation.RequestMapping;\n            import org.springframework.web.bind.annotation.RestController;\n            import java.util.concurrent.CompletableFuture;\n            \n            @EnableAsync\n            @RestController\n            @RequestMapping(&quot;/api&quot;)\n            public class StudentRestController {\n            \n                //define endpoint for &quot;/student&quot; - return a list of students\n                @Autowired\n                private CompleteAsyncTask completeAsyncTask;\n            \n                @GetMapping(&quot;/students&quot;)\n                public String getStudents() throws Exception {\n                long start = System.currentTimeMillis();\n            \n            \n            \n                CompletableFuture&lt;String&gt; one = completeAsyncTask.doTaskOne();\n                CompletableFuture&lt;String&gt; two = completeAsyncTask.doTaskTwo();\n                CompletableFuture&lt;String&gt; three = completeAsyncTask.doTaskThree();\n            \n            \n                    CompletableFuture.allOf(one, two, three).join();\n            \n            \n                    System.out.println(&quot;Total time spent: &quot; + (System.currentTimeMillis() - start));\n            \n            \n                    System.out.println(one.get());\n                    System.out.println(two.get());\n                    System.out.println(three.get());\n            \n                    return &quot;&quot;;\n                }\n            }\n            \n                \n    \n    \n    -----------------------------------------------------------------------------------\n    \n    package com.luv2code.demo.code;\n    \n    import java.util.Random;\n    import java.util.concurrent.CompletableFuture;\n    \n    import org.springframework.scheduling.annotation.Async;\n    import org.springframework.stereotype.Component;\n    \n    \n    \n    @Component\n    public class CompleteAsyncTask {\n    \n        public static Random random = new Random();\n    \n        @Async\n        public CompletableFuture&lt;String&gt; doTaskOne() throws Exception {\n            System.out.println(&quot;Start doing asynchronous tasks one&quot;);\n            long start = System.currentTimeMillis();\n            Thread.sleep(random.nextInt(10000));\n            long end = System.currentTimeMillis();\n            System.out.println(&quot;complete asynchronous task one，time consuming：&quot; + (end - start) + &quot;millisecond&quot;);\n            return CompletableFuture.completedFuture(&quot;Task one completed&quot;);\n        }\n    \n        @Async\n        public CompletableFuture&lt;String&gt; doTaskTwo() throws Exception {\n            System.out.println(&quot;Start doing asynchronous tasks two&quot;);\n            long start = System.currentTimeMillis();\n            Thread.sleep(random.nextInt(10000));\n            long end = System.currentTimeMillis();\n            System.out.println(&quot;complete asynchronous task two，time consuming：&quot; + (end - start) + &quot;millisecond&quot;);\n            return CompletableFuture.completedFuture(&quot;Task two completed&quot;);\n        }\n    \n        @Async\n        public CompletableFuture&lt;String&gt; doTaskThree() throws Exception {\n            System.out.println(&quot;Start doing asynchronous tasks three&quot;);\n            long start = System.currentTimeMillis();\n            Thread.sleep(random.nextInt(10000));\n            long end = System.currentTimeMillis();\n            System.out.println(&quot;complete asynchronous task three，time consuming：&quot; + (end - start) + &quot;millisecond&quot;);\n            return CompletableFuture.completedFuture(&quot;Task three completed&quot;);\n        }\n    \n    }\n\n--------------------------------------------------------------------------------------\nrun result\n\n2023-07-27T14:33:16.459+08:00  INFO 20612 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms\nStart doing asynchronous tasks one\nStart doing asynchronous tasks two\nStart doing asynchronous tasks three\ncomplete asynchronous task three，time consuming：1055millisecond\ncomplete asynchronous task two，time consuming：3981millisecond\ncomplete asynchronous task one，time consuming：6468millisecond\nTotal time spent: 6475\nTask one completed\nTask two completed\nTask three completed\n------------------------------------------------------------------------------------\n\n\nerror message\n\nError starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\n2023-07-27 14:25:29.832 [restartedMain] ERROR org.springframework.boot.SpringApplication - Application run failed\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'testController' defined in file [D:\\xxxxx\\testController.class]: Failed to instantiate [com.xxx.testController]: Constructor threw exception\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1314)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1199)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:917)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:310)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1304)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1293)\n    at com.xxx.mainApplication.main(mainApplication.java:20)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.xxx.testController]: Constructor threw exception\n    at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:224)\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:87)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1308)\n    ... 22 common frames omitted\nCaused by: java.lang.Error: Unresolved compilation problems: \n    The import com.xxx.CompleteAsyncTask cannot be resolved\n    CompleteAsyncTask cannot be resolved to a type\n\n    at com.xxx.testController.&lt;init&gt;(testController.java:61)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\n    at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:198)\n    ... 24 common frames omitted\n</code></pre>\n<p>Other_project\ntest_controller ---&gt;call  CompleteAsyncTask.java</p>\n<p>I put this code in test_controller and show error.</p>\n<pre><code>@Autowired\nprivate CompleteAsyncTask completeAsyncTask;\n</code></pre>\n"},{"tags":["java","android-studio","android-mediaplayer"],"answers":[{"comments":[{"owner":{"account_id":98471,"reputation":15227,"user_id":266531,"accept_rate":100,"display_name":"Kirby"},"score":1,"creation_date":1690391687,"post_id":76748170,"comment_id":135348330,"body_markdown":"if others come here with a similar problem, it would be cool to have the repaired code here in your answer","body":"if others come here with a similar problem, it would be cool to have the repaired code here in your answer"},{"owner":{"account_id":22464184,"reputation":31,"user_id":16665597,"display_name":"Max Tearney"},"score":0,"creation_date":1690447008,"post_id":76748170,"comment_id":135355959,"body_markdown":"oh yeah sorry, added it now","body":"oh yeah sorry, added it now"}],"tags":[],"owner":{"account_id":22464184,"reputation":31,"user_id":16665597,"display_name":"Max Tearney"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1690446982,"creation_date":1690114319,"answer_id":76748170,"question_id":76744400,"body_markdown":"I found the issue. It was that I was initializing the `mediaplayers` in the `OnCreate` method, which made the `.stop` and `.setvolume` methods apply to a version of them that didn&#39;t exist. I fixed it when I initialized the players in the same method that I was using them in.\r\n\r\n    void startAudio(String path) throws IOException {\r\n        ready = false;\r\n        mp = new MediaPlayer();\r\n        mp.setLooping(true);\r\n        mp.setVolume(0.0f,0.0f);\r\n        mpVolume = 0.0f;\r\n        mp.setAudioAttributes(new AudioAttributes.Builder()\r\n                .setFlags(AudioAttributes.FLAG_AUDIBILITY_ENFORCED)\r\n                .setLegacyStreamType(AudioManager.STREAM_MUSIC)\r\n                .setUsage(AudioAttributes.USAGE_ALARM)\r\n                .setContentType(AudioAttributes.CONTENT_TYPE_MUSIC)\r\n                .build());\r\n        mp.setDataSource(this, Uri.parse(path));\r\n        mp.prepare();\r\n        mp.setOnPreparedListener(new MediaPlayer.OnPreparedListener() {\r\n            @Override\r\n            public void onPrepared(MediaPlayer mediaPlayer) {\r\n                mp.start();\r\n            }\r\n        });\r\n        Handler handler = new Handler();\r\n        Thread thread = new Thread() {\r\n            @Override\r\n            public void run() {\r\n                try {\r\n                    while(!ready) {\r\n                        sleep(50);\r\n                        if(mpVolume &lt; 1){\r\n                            mpVolume+=0.005f;\r\n                            if(mp2Volume &gt; 0){\r\n                                mp2Volume-=0.005f;\r\n                            }\r\n                            mp.setVolume(mpVolume, mpVolume);\r\n                            if(mp2 != null){\r\n                                mp2.setVolume(mp2Volume, mp2Volume);\r\n                            }\r\n                        }else{\r\n                            if(mp2 != null){\r\n                                mp2.release();\r\n                            }\r\n                            currentMP = 2;\r\n                            ready = true;\r\n                        }\r\n                        handler.post(this);\r\n                    }\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        };\r\n        thread.start();\r\n    }\r\n    void startNewAudio(String path) throws IOException {\r\n        ready = false;\r\n        mp2 = new MediaPlayer();\r\n        mp2.setLooping(true);\r\n        mp2.setVolume(0.0f,0.0f);\r\n        mp2Volume = 0.0f;\r\n        mp2.setAudioAttributes(new AudioAttributes.Builder()\r\n                .setFlags(AudioAttributes.FLAG_AUDIBILITY_ENFORCED)\r\n                .setLegacyStreamType(AudioManager.STREAM_MUSIC)\r\n                .setUsage(AudioAttributes.USAGE_ALARM)\r\n                .setContentType(AudioAttributes.CONTENT_TYPE_MUSIC)\r\n                .build());\r\n        mp2.setDataSource(this, Uri.parse(path));\r\n        mp2.prepare();\r\n        mp2.setOnPreparedListener(new MediaPlayer.OnPreparedListener() {\r\n            @Override\r\n            public void onPrepared(MediaPlayer mediaPlayer) {\r\n                mp2.start();\r\n            }\r\n        });\r\n        Handler handler = new Handler();\r\n        Thread thread = new Thread() {\r\n            @Override\r\n            public void run() {\r\n                try {\r\n                    while(!ready) {\r\n                        sleep(50);\r\n                        if(mp2Volume &lt; 1){\r\n                            mpVolume-=0.005f;\r\n                            mp2Volume+=0.005f;\r\n                            mp.setVolume(mpVolume, mpVolume);\r\n                            mp2.setVolume(mp2Volume, mp2Volume);\r\n                        }else{\r\n                            mp.release();\r\n                            currentMP = 1;\r\n                            ready = true;\r\n                        }\r\n                        handler.post(this);\r\n                    }\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        };\r\n        thread.start();\r\n    }","title":"mediaplayer not decreasing volume or stopping","body":"<p>I found the issue. It was that I was initializing the <code>mediaplayers</code> in the <code>OnCreate</code> method, which made the <code>.stop</code> and <code>.setvolume</code> methods apply to a version of them that didn't exist. I fixed it when I initialized the players in the same method that I was using them in.</p>\n<pre><code>void startAudio(String path) throws IOException {\n    ready = false;\n    mp = new MediaPlayer();\n    mp.setLooping(true);\n    mp.setVolume(0.0f,0.0f);\n    mpVolume = 0.0f;\n    mp.setAudioAttributes(new AudioAttributes.Builder()\n            .setFlags(AudioAttributes.FLAG_AUDIBILITY_ENFORCED)\n            .setLegacyStreamType(AudioManager.STREAM_MUSIC)\n            .setUsage(AudioAttributes.USAGE_ALARM)\n            .setContentType(AudioAttributes.CONTENT_TYPE_MUSIC)\n            .build());\n    mp.setDataSource(this, Uri.parse(path));\n    mp.prepare();\n    mp.setOnPreparedListener(new MediaPlayer.OnPreparedListener() {\n        @Override\n        public void onPrepared(MediaPlayer mediaPlayer) {\n            mp.start();\n        }\n    });\n    Handler handler = new Handler();\n    Thread thread = new Thread() {\n        @Override\n        public void run() {\n            try {\n                while(!ready) {\n                    sleep(50);\n                    if(mpVolume &lt; 1){\n                        mpVolume+=0.005f;\n                        if(mp2Volume &gt; 0){\n                            mp2Volume-=0.005f;\n                        }\n                        mp.setVolume(mpVolume, mpVolume);\n                        if(mp2 != null){\n                            mp2.setVolume(mp2Volume, mp2Volume);\n                        }\n                    }else{\n                        if(mp2 != null){\n                            mp2.release();\n                        }\n                        currentMP = 2;\n                        ready = true;\n                    }\n                    handler.post(this);\n                }\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n    };\n    thread.start();\n}\nvoid startNewAudio(String path) throws IOException {\n    ready = false;\n    mp2 = new MediaPlayer();\n    mp2.setLooping(true);\n    mp2.setVolume(0.0f,0.0f);\n    mp2Volume = 0.0f;\n    mp2.setAudioAttributes(new AudioAttributes.Builder()\n            .setFlags(AudioAttributes.FLAG_AUDIBILITY_ENFORCED)\n            .setLegacyStreamType(AudioManager.STREAM_MUSIC)\n            .setUsage(AudioAttributes.USAGE_ALARM)\n            .setContentType(AudioAttributes.CONTENT_TYPE_MUSIC)\n            .build());\n    mp2.setDataSource(this, Uri.parse(path));\n    mp2.prepare();\n    mp2.setOnPreparedListener(new MediaPlayer.OnPreparedListener() {\n        @Override\n        public void onPrepared(MediaPlayer mediaPlayer) {\n            mp2.start();\n        }\n    });\n    Handler handler = new Handler();\n    Thread thread = new Thread() {\n        @Override\n        public void run() {\n            try {\n                while(!ready) {\n                    sleep(50);\n                    if(mp2Volume &lt; 1){\n                        mpVolume-=0.005f;\n                        mp2Volume+=0.005f;\n                        mp.setVolume(mpVolume, mpVolume);\n                        mp2.setVolume(mp2Volume, mp2Volume);\n                    }else{\n                        mp.release();\n                        currentMP = 1;\n                        ready = true;\n                    }\n                    handler.post(this);\n                }\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n    };\n    thread.start();\n}\n</code></pre>\n"}],"owner":{"account_id":22464184,"reputation":31,"user_id":16665597,"display_name":"Max Tearney"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76748170,"answer_count":1,"score":1,"last_activity_date":1690446982,"creation_date":1690037735,"question_id":76744400,"body_markdown":"I&#39;m trying to create a method that crossfades between two mediaplayers. One should fade in while the other fades out, as I&#39;ve done in both of the threads.\r\n\r\n```\r\nvoid startAudio(String path) throws IOException {\r\n        ready = false;\r\n        mp.setLooping(true);\r\n        mp.setVolume(0.0f,0.0f);\r\n        mpVolume = 0.0f;\r\n        mp.setAudioAttributes(new AudioAttributes.Builder()\r\n                .setFlags(AudioAttributes.FLAG_AUDIBILITY_ENFORCED)\r\n                .setLegacyStreamType(AudioManager.STREAM_MUSIC)\r\n                .setUsage(AudioAttributes.USAGE_ALARM)\r\n                .setContentType(AudioAttributes.CONTENT_TYPE_MUSIC)\r\n                .build());\r\n        mp.setDataSource(this, Uri.parse(path));\r\n        mp.prepare();\r\n        mp.setOnPreparedListener(new MediaPlayer.OnPreparedListener() {\r\n            @Override\r\n            public void onPrepared(MediaPlayer mediaPlayer) {\r\n                mp.start();\r\n            }\r\n        });\r\n        Handler handler = new Handler();\r\n        Thread thread = new Thread() {\r\n            @Override\r\n            public void run() {\r\n                try {\r\n                    while(!ready) {\r\n                        sleep(50);\r\n                        if(mpVolume &lt; 1){\r\n                            mpVolume+=0.01f;\r\n                            if(mp2Volume &gt; 0){\r\n                                mp2Volume-=0.01f;\r\n                            }\r\n                            mp.setVolume(mpVolume, mpVolume);\r\n                            mp2.setVolume(mp2Volume, mp2Volume);\r\n                        }else{\r\n                            mp2.stop();\r\n                            currentMP = 2;\r\n                            ready = true;\r\n                        }\r\n                        handler.post(this);\r\n                    }\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        };\r\n        thread.start();\r\n    }\r\n    void startNewAudio(String path) throws IOException {\r\n        ready = false;\r\n        mp2.setLooping(true);\r\n        mp2.setVolume(0.0f,0.0f);\r\n        mp2Volume = 0.0f;\r\n        mp2.setAudioAttributes(new AudioAttributes.Builder()\r\n                .setFlags(AudioAttributes.FLAG_AUDIBILITY_ENFORCED)\r\n                .setLegacyStreamType(AudioManager.STREAM_MUSIC)\r\n                .setUsage(AudioAttributes.USAGE_ALARM)\r\n                .setContentType(AudioAttributes.CONTENT_TYPE_MUSIC)\r\n                .build());\r\n        mp2.setDataSource(this, Uri.parse(path));\r\n        mp2.prepare();\r\n        mp2.setOnPreparedListener(new MediaPlayer.OnPreparedListener() {\r\n            @Override\r\n            public void onPrepared(MediaPlayer mediaPlayer) {\r\n                mp2.start();\r\n            }\r\n        });\r\n        Handler handler = new Handler();\r\n        Thread thread = new Thread() {\r\n            @Override\r\n            public void run() {\r\n                try {\r\n                    while(!ready) {\r\n                        sleep(50);\r\n                        if(mp2Volume &lt; 1){\r\n                            mpVolume-=0.01f;\r\n                            mp2Volume+=0.01f;\r\n                            mp.setVolume(mpVolume, mpVolume);\r\n                            mp2.setVolume(mp2Volume, mp2Volume);\r\n                        }else{\r\n                            mp.stop();\r\n                            currentMP = 1;\r\n                            ready = true;\r\n                        }\r\n                        handler.post(this);\r\n                    }\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        };\r\n        thread.start();\r\n    }\r\n```\r\n\r\nThe players both fade in smoothly, but refuse to stop playing or fade back out again once the other is activated.\r\n\r\nAny help is very much appreciated because this is actually driving me insane. Thanks!","title":"mediaplayer not decreasing volume or stopping","body":"<p>I'm trying to create a method that crossfades between two mediaplayers. One should fade in while the other fades out, as I've done in both of the threads.</p>\n<pre><code>void startAudio(String path) throws IOException {\n        ready = false;\n        mp.setLooping(true);\n        mp.setVolume(0.0f,0.0f);\n        mpVolume = 0.0f;\n        mp.setAudioAttributes(new AudioAttributes.Builder()\n                .setFlags(AudioAttributes.FLAG_AUDIBILITY_ENFORCED)\n                .setLegacyStreamType(AudioManager.STREAM_MUSIC)\n                .setUsage(AudioAttributes.USAGE_ALARM)\n                .setContentType(AudioAttributes.CONTENT_TYPE_MUSIC)\n                .build());\n        mp.setDataSource(this, Uri.parse(path));\n        mp.prepare();\n        mp.setOnPreparedListener(new MediaPlayer.OnPreparedListener() {\n            @Override\n            public void onPrepared(MediaPlayer mediaPlayer) {\n                mp.start();\n            }\n        });\n        Handler handler = new Handler();\n        Thread thread = new Thread() {\n            @Override\n            public void run() {\n                try {\n                    while(!ready) {\n                        sleep(50);\n                        if(mpVolume &lt; 1){\n                            mpVolume+=0.01f;\n                            if(mp2Volume &gt; 0){\n                                mp2Volume-=0.01f;\n                            }\n                            mp.setVolume(mpVolume, mpVolume);\n                            mp2.setVolume(mp2Volume, mp2Volume);\n                        }else{\n                            mp2.stop();\n                            currentMP = 2;\n                            ready = true;\n                        }\n                        handler.post(this);\n                    }\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n            }\n        };\n        thread.start();\n    }\n    void startNewAudio(String path) throws IOException {\n        ready = false;\n        mp2.setLooping(true);\n        mp2.setVolume(0.0f,0.0f);\n        mp2Volume = 0.0f;\n        mp2.setAudioAttributes(new AudioAttributes.Builder()\n                .setFlags(AudioAttributes.FLAG_AUDIBILITY_ENFORCED)\n                .setLegacyStreamType(AudioManager.STREAM_MUSIC)\n                .setUsage(AudioAttributes.USAGE_ALARM)\n                .setContentType(AudioAttributes.CONTENT_TYPE_MUSIC)\n                .build());\n        mp2.setDataSource(this, Uri.parse(path));\n        mp2.prepare();\n        mp2.setOnPreparedListener(new MediaPlayer.OnPreparedListener() {\n            @Override\n            public void onPrepared(MediaPlayer mediaPlayer) {\n                mp2.start();\n            }\n        });\n        Handler handler = new Handler();\n        Thread thread = new Thread() {\n            @Override\n            public void run() {\n                try {\n                    while(!ready) {\n                        sleep(50);\n                        if(mp2Volume &lt; 1){\n                            mpVolume-=0.01f;\n                            mp2Volume+=0.01f;\n                            mp.setVolume(mpVolume, mpVolume);\n                            mp2.setVolume(mp2Volume, mp2Volume);\n                        }else{\n                            mp.stop();\n                            currentMP = 1;\n                            ready = true;\n                        }\n                        handler.post(this);\n                    }\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n            }\n        };\n        thread.start();\n    }\n</code></pre>\n<p>The players both fade in smoothly, but refuse to stop playing or fade back out again once the other is activated.</p>\n<p>Any help is very much appreciated because this is actually driving me insane. Thanks!</p>\n"},{"tags":["java","html","spring-boot","bootstrap-4","controller"],"answers":[{"tags":[],"owner":{"account_id":16341513,"reputation":209,"user_id":11802330,"display_name":"Eric"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688987998,"creation_date":1688987998,"answer_id":76653209,"question_id":76640004,"body_markdown":"Assuming your logo is in static/images folder, to show it \r\n\r\nReplace\r\n\r\n    &lt;img th:src=&quot;@{/static/images/gcu-logo.jpg}&quot; /&gt;&lt;br\r\n\r\nWith\r\n\r\n    &lt;img th:src=&quot;@{images/gcu-logo.jpg}&quot; /&gt;&lt;br","title":"My header is not showing up on my webpage as well as my logo","body":"<p>Assuming your logo is in static/images folder, to show it</p>\n<p>Replace</p>\n<pre><code>&lt;img th:src=&quot;@{/static/images/gcu-logo.jpg}&quot; /&gt;&lt;br\n</code></pre>\n<p>With</p>\n<pre><code>&lt;img th:src=&quot;@{images/gcu-logo.jpg}&quot; /&gt;&lt;br\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16341513,"reputation":209,"user_id":11802330,"display_name":"Eric"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690446963,"creation_date":1690370098,"answer_id":76770679,"question_id":76640004,"body_markdown":"In case of navigation bar\r\n\r\nFirst css links are not accessible instead of \r\n\r\n     https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css.bootstrap.min.css\r\n     https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css.bootstrap-theme.min.css\r\n\r\nshould be\r\n\r\n    https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css\r\n    https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css\r\n\r\nSecond: when setting style `class` you are missing `th` i.e. should be `th:class=&quot;class-name&quot;` for single class or `th:classappend=&quot;|class1 class2 class3|&quot;` for multiple classes\r\n\r\nThird: to enable nav button to show menus when they are collapsed, `data-target` value should be `.navbar-collapse`  instead of `navbarCollapse`\r\n\r\nThe following complete sample loads collapsible nav bar \r\n\r\n    &lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot; xmlns:layout=&quot;http://www.ultraq.net.nz/thymeleaf/layout&quot;&gt;\r\n     &lt;head&gt;\r\n        &lt;meta charset=&quot;UTF-8&quot;/&gt;\r\n        &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;/&gt;\r\n        &lt;title&gt; CST-339 Spring Boot Activity Application&lt;/title&gt;\r\n        &lt;link rel=&quot;stylesheet&quot; href=&quot;https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css&quot; /&gt;\r\n        &lt;link rel=&quot;stylesheet&quot; href=&quot;https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css&quot;/&gt;\r\n        &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.datatables.net/1.10.16/css/jquery.dataTables.min.css&quot;/&gt;\r\n        &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.datatables.net/responsive/2.2.0/css/responsive.dataTables.css&quot;/&gt;\r\n        &lt;script src=&quot;https://code.jquery.com/jquery-3.2.1.min.js&quot;&gt;&lt;/script&gt;\r\n        &lt;script src=&quot;https://cdn.datatables.net/1.10.16/js/jquery.dataTables.min.js&quot;&gt;&lt;/script&gt;\r\n        &lt;script src=&quot;https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js&quot;&gt;&lt;/script&gt;\r\n        &lt;script src=&quot;https://cdn.datatables.net/responsive/2.2.0/js/dataTables.responsive.js&quot;&gt;&lt;/script&gt;\r\n        &lt;style type=&quot;text/css&quot;&gt;.bs-example {margin: 20px; }&lt;/style&gt;\r\n    &lt;/head&gt;\r\n\r\n    &lt;body&gt;\r\n        &lt;!--    &lt;div th:fragment=&quot;header&quot;&gt;--&gt;\r\n        &lt;h1&gt;Welcome to my CST-339 Spring Boot Activity Application&lt;/h1&gt;\r\n        &lt;!--    &lt;/div&gt;--&gt;\r\n        &lt;div th:class=&quot;bs-example&quot;&gt;\r\n            &lt;nav th:classappend=&quot;|navbar navbar-default|&quot;&gt;\r\n                &lt;div th:class=&quot;navbar-header&quot;&gt;\r\n                    &lt;button th:type=&quot;button&quot; th:data-target=&quot;.navbar-collapse&quot; th:data-toggle=&quot;collapse&quot; th:class=&quot;navbar-toggle&quot;&gt;\r\n                        &lt;span th:class=&quot;sr-only&quot;&gt;Toggle navigation&lt;/span&gt;\r\n                        &lt;span th:class=&quot;icon-bar&quot;&gt;&lt;/span&gt;\r\n                        &lt;span th:class=&quot;icon-bar&quot;&gt;&lt;/span&gt;\r\n                        &lt;span th:class=&quot;icon-bar&quot;&gt;&lt;/span&gt;\r\n                    &lt;/button&gt;\r\n                    &lt;a href=&quot;#&quot; th:class=&quot;navbar-brand&quot;&gt;GCU&lt;/a&gt;\r\n                &lt;/div&gt;\r\n\r\n                &lt;div id=&quot;navbarCollapse&quot; th:classappend=&quot;|collapse navbar-collapse|&quot;&gt;\r\n                    &lt;ul th:classappend=&quot;|nav navbar-nav|&quot;&gt;\r\n                        &lt;li&gt;\r\n                            &lt;a href=&quot;https://www.gcu.edu&quot; target=&quot;_blank&quot;&gt;Home&lt;/a&gt;\r\n                        &lt;/li&gt;\r\n                        &lt;li&gt;\r\n                            &lt;a href=&quot;https://www.lopeshops.edu&quot; target=&quot;_blank&quot;&gt;Shop&lt;/a&gt;\r\n                        &lt;/li&gt;\r\n                        &lt;li&gt;\r\n                            &lt;a href=&quot;https://www.news.edu&quot; target=&quot;_blank&quot;&gt;News and Events&lt;/a&gt;\r\n                        &lt;/li&gt;\r\n                    &lt;/ul&gt;\r\n                    &lt;ul th:classappend=&quot;|nav navbar-nav navbar-right|&quot;&gt;\r\n                        &lt;li&gt;&lt;a href=&quot;/&quot;&gt;Start Page&lt;/a&gt;&lt;/li&gt;\r\n                    &lt;/ul&gt;\r\n                &lt;/div&gt;\r\n            &lt;/nav&gt;\r\n        &lt;/div&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;","title":"My header is not showing up on my webpage as well as my logo","body":"<p>In case of navigation bar</p>\n<p>First css links are not accessible instead of</p>\n<pre><code> https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css.bootstrap.min.css\n https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css.bootstrap-theme.min.css\n</code></pre>\n<p>should be</p>\n<pre><code>https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css\nhttps://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css\n</code></pre>\n<p>Second: when setting style <code>class</code> you are missing <code>th</code> i.e. should be <code>th:class=&quot;class-name&quot;</code> for single class or <code>th:classappend=&quot;|class1 class2 class3|&quot;</code> for multiple classes</p>\n<p>Third: to enable nav button to show menus when they are collapsed, <code>data-target</code> value should be <code>.navbar-collapse</code>  instead of <code>navbarCollapse</code></p>\n<p>The following complete sample loads collapsible nav bar</p>\n<pre><code>&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot; xmlns:layout=&quot;http://www.ultraq.net.nz/thymeleaf/layout&quot;&gt;\n &lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;/&gt;\n    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;/&gt;\n    &lt;title&gt; CST-339 Spring Boot Activity Application&lt;/title&gt;\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css&quot; /&gt;\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css&quot;/&gt;\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.datatables.net/1.10.16/css/jquery.dataTables.min.css&quot;/&gt;\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.datatables.net/responsive/2.2.0/css/responsive.dataTables.css&quot;/&gt;\n    &lt;script src=&quot;https://code.jquery.com/jquery-3.2.1.min.js&quot;&gt;&lt;/script&gt;\n    &lt;script src=&quot;https://cdn.datatables.net/1.10.16/js/jquery.dataTables.min.js&quot;&gt;&lt;/script&gt;\n    &lt;script src=&quot;https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js&quot;&gt;&lt;/script&gt;\n    &lt;script src=&quot;https://cdn.datatables.net/responsive/2.2.0/js/dataTables.responsive.js&quot;&gt;&lt;/script&gt;\n    &lt;style type=&quot;text/css&quot;&gt;.bs-example {margin: 20px; }&lt;/style&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n    &lt;!--    &lt;div th:fragment=&quot;header&quot;&gt;--&gt;\n    &lt;h1&gt;Welcome to my CST-339 Spring Boot Activity Application&lt;/h1&gt;\n    &lt;!--    &lt;/div&gt;--&gt;\n    &lt;div th:class=&quot;bs-example&quot;&gt;\n        &lt;nav th:classappend=&quot;|navbar navbar-default|&quot;&gt;\n            &lt;div th:class=&quot;navbar-header&quot;&gt;\n                &lt;button th:type=&quot;button&quot; th:data-target=&quot;.navbar-collapse&quot; th:data-toggle=&quot;collapse&quot; th:class=&quot;navbar-toggle&quot;&gt;\n                    &lt;span th:class=&quot;sr-only&quot;&gt;Toggle navigation&lt;/span&gt;\n                    &lt;span th:class=&quot;icon-bar&quot;&gt;&lt;/span&gt;\n                    &lt;span th:class=&quot;icon-bar&quot;&gt;&lt;/span&gt;\n                    &lt;span th:class=&quot;icon-bar&quot;&gt;&lt;/span&gt;\n                &lt;/button&gt;\n                &lt;a href=&quot;#&quot; th:class=&quot;navbar-brand&quot;&gt;GCU&lt;/a&gt;\n            &lt;/div&gt;\n\n            &lt;div id=&quot;navbarCollapse&quot; th:classappend=&quot;|collapse navbar-collapse|&quot;&gt;\n                &lt;ul th:classappend=&quot;|nav navbar-nav|&quot;&gt;\n                    &lt;li&gt;\n                        &lt;a href=&quot;https://www.gcu.edu&quot; target=&quot;_blank&quot;&gt;Home&lt;/a&gt;\n                    &lt;/li&gt;\n                    &lt;li&gt;\n                        &lt;a href=&quot;https://www.lopeshops.edu&quot; target=&quot;_blank&quot;&gt;Shop&lt;/a&gt;\n                    &lt;/li&gt;\n                    &lt;li&gt;\n                        &lt;a href=&quot;https://www.news.edu&quot; target=&quot;_blank&quot;&gt;News and Events&lt;/a&gt;\n                    &lt;/li&gt;\n                &lt;/ul&gt;\n                &lt;ul th:classappend=&quot;|nav navbar-nav navbar-right|&quot;&gt;\n                    &lt;li&gt;&lt;a href=&quot;/&quot;&gt;Start Page&lt;/a&gt;&lt;/li&gt;\n                &lt;/ul&gt;\n            &lt;/div&gt;\n        &lt;/nav&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"}],"owner":{"account_id":14117331,"reputation":25,"user_id":10198796,"display_name":"Mitchell"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1690446963,"creation_date":1688761017,"question_id":76640004,"body_markdown":"I am not sure what the issue is, I have no syntax errors but I should have a navigation bar at the top of my screen but it is not showing up. Is there something in the syntax I need to change? Did I miss something in my default template file as well? My webpage shows up fine but I am just missing my image and navigation bar.\r\n\r\ncommon.html file\r\n```\r\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot; xmlns:layout=&quot;http://www.ultraq.net.nz/thymeleaf/layout&quot;&gt;\r\n\t&lt;div th:fragment=&quot;header&quot;&gt;\r\n\t\t&lt;h1&gt;Welcome to my CST-339 Spring Boot Activity Application&lt;/h1&gt;\r\n\t&lt;/div&gt;\r\n\t&lt;div class=&quot;bs-example&quot;&gt;\r\n\t\t&lt;nav class=&quot;navbar navbar-default&quot;&gt;\r\n\t\t\t&lt;div class=&quot;navbar-header&quot;&gt;\r\n\t\t\t\t&lt;button type=&quot;button&quot; data-target=&quot;navbarCollapse&quot; data-toggle=&quot;collapse&quot; class=&quot;navbar-toggle&quot;&gt;\r\n\t\t\t\t\t&lt;span class=&quot;sr-only&quot;&gt;Toggle navigation&lt;/span&gt;\r\n\t\t\t\t\t&lt;span class=&quot;icon-bar&quot;&gt;&lt;/span&gt;\r\n\t\t\t\t\t&lt;span class=&quot;icon-bar&quot;&gt;&lt;/span&gt;\r\n\t\t\t\t\t&lt;span class=&quot;icon-bar&quot;&gt;&lt;/span&gt;\r\n\t\t\t\t&lt;/button&gt;\r\n\t\t\t\t&lt;a href=&quot;#&quot; class=&quot;navbar-brand&quot;&gt;GCU&lt;/a&gt;\r\n\t\t\t&lt;/div&gt;\r\n\t\t\t&lt;div id=&quot;navbarCollapse&quot; class=&quot;collapse navbar-collapse&quot;&gt;\r\n\t\t\t\t&lt;ul class=&quot;nav navbar-nav&quot;&gt;\r\n\t\t\t\t\t&lt;li&gt;\r\n\t\t\t\t\t\t&lt;a href=&quot;https://www.gcu.edu&quot; target=&quot;_blank&quot;&gt;Home&lt;/a&gt;\r\n\t\t\t\t\t&lt;/li&gt;\r\n\t\t\t\t\t&lt;li&gt;\r\n\t\t\t\t\t\t&lt;a href=&quot;https://www.lopeshops.edu&quot; target=&quot;_blank&quot;&gt;Shop&lt;/a&gt;\r\n\t\t\t\t\t&lt;/li&gt;\r\n\t\t\t\t\t&lt;li&gt;\r\n\t\t\t\t\t\t&lt;a href=&quot;https://www.news.edu&quot; target=&quot;_blank&quot;&gt;News and Events&lt;/a&gt;\r\n\t\t\t\t\t&lt;/li&gt;\r\n\t\t\t\t&lt;/ul&gt;\r\n\t\t\t\t&lt;ul class=&quot;nav navbar-nav navbar-right&quot;&gt;\r\n\t\t\t\t\t&lt;li&gt;&lt;a href=&quot;/&quot;&gt;Start Page&lt;/a&gt;&lt;/li&gt;\r\n\t\t\t\t&lt;/ul&gt;\r\n\t\t\t&lt;/div&gt;\r\n\t\t&lt;/nav&gt;\r\n\t&lt;/div&gt;\r\n\t&lt;h2 th:text=&quot;${title}&quot;&gt;Default Message Text&lt;/h2&gt;&lt;br /&gt;\r\n\t&lt;img th:src=&quot;@{/static/images/gcu-logo.jpg}&quot; /&gt;&lt;br /&gt;&lt;br /&gt;\r\n&lt;div th:fragment=&quot;footer&quot;&gt;\r\n\t&lt;h5 style=&quot;color:purple; text-align: center; position: fixed; bottom: 0; width: 100%;&quot;&gt;Copyright 2020 Grand Canyon University&lt;/h5&gt;\t\r\n&lt;/div&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\ndefaultTemplate.html\r\n\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot; xmlns:layout=&quot;http://www.ultraq.net.nz/thymeleaf/layout&quot;&gt;\r\n\t&lt;head&gt;\r\n\t\t&lt;meta charset=&quot;UTF-8&quot;&gt;\r\n\t\t&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt;\r\n\t\t&lt;title&gt; CST-339 Spring Boot Activity Application&lt;/title&gt;\r\n\t\t&lt;link rel=&quot;stylesheet&quot; href=&quot;https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css.bootstrap.min.css&quot;&gt;\r\n\t\t&lt;link rel=&quot;stylesheet&quot; href=&quot;https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css.bootstrap-theme.min.css&quot;&gt;\r\n\t\t&lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.datatables.net/1.10.16/css/jquery.dataTables.min.css&quot;&gt;\r\n\t\t&lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.datatables.net/responsive/2.2.0/css/responsive.dataTables.css&quot;&gt;\r\n\t\t&lt;script src=&quot;https://code.jquery.com/jquery-3.2.1.min.js&quot;&gt;&lt;/script&gt;\r\n\t\t&lt;script src=&quot;https://cdn.datatables.net/1.10.16/js/jquery.dataTables.min.js&quot;&gt;&lt;/script&gt;\r\n\t\t&lt;script src=&quot;https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js&quot;&gt;&lt;/script&gt;\r\n\t\t&lt;script src=&quot;//cdn.datatables.net/responsive/2.2.0/js/dataTables.responsive.js&quot;&gt;&lt;/script&gt;\r\n\t\t&lt;style type=&quot;text/css&quot;&gt;.bs-example {margin: 20px; }&lt;/style&gt;\r\n\t&lt;/head&gt;\r\n\t\r\n\t&lt;body&gt;\r\n\t\t&lt;div align=&quot;center&quot;&gt;\r\n\t\t\t&lt;div th:replace=&quot;~{layouts/common :: header}&quot;&gt;My Header&lt;/div&gt;\r\n\t\t\t&lt;section layout:fragment=&quot;content&quot;&gt;\r\n\t\t\t\t&lt;p&gt;My Body Contents&lt;/p&gt;\r\n\t\t\t&lt;/section&gt;\r\n\t\t\t&lt;div th:replace=&quot;~{layouts/common :: footer}&quot;&gt;My Footer&lt;/div&gt;\r\n\t\t&lt;/div&gt;\r\n\t&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n","title":"My header is not showing up on my webpage as well as my logo","body":"<p>I am not sure what the issue is, I have no syntax errors but I should have a navigation bar at the top of my screen but it is not showing up. Is there something in the syntax I need to change? Did I miss something in my default template file as well? My webpage shows up fine but I am just missing my image and navigation bar.</p>\n<p>common.html file</p>\n<pre><code>&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot; xmlns:layout=&quot;http://www.ultraq.net.nz/thymeleaf/layout&quot;&gt;\n    &lt;div th:fragment=&quot;header&quot;&gt;\n        &lt;h1&gt;Welcome to my CST-339 Spring Boot Activity Application&lt;/h1&gt;\n    &lt;/div&gt;\n    &lt;div class=&quot;bs-example&quot;&gt;\n        &lt;nav class=&quot;navbar navbar-default&quot;&gt;\n            &lt;div class=&quot;navbar-header&quot;&gt;\n                &lt;button type=&quot;button&quot; data-target=&quot;navbarCollapse&quot; data-toggle=&quot;collapse&quot; class=&quot;navbar-toggle&quot;&gt;\n                    &lt;span class=&quot;sr-only&quot;&gt;Toggle navigation&lt;/span&gt;\n                    &lt;span class=&quot;icon-bar&quot;&gt;&lt;/span&gt;\n                    &lt;span class=&quot;icon-bar&quot;&gt;&lt;/span&gt;\n                    &lt;span class=&quot;icon-bar&quot;&gt;&lt;/span&gt;\n                &lt;/button&gt;\n                &lt;a href=&quot;#&quot; class=&quot;navbar-brand&quot;&gt;GCU&lt;/a&gt;\n            &lt;/div&gt;\n            &lt;div id=&quot;navbarCollapse&quot; class=&quot;collapse navbar-collapse&quot;&gt;\n                &lt;ul class=&quot;nav navbar-nav&quot;&gt;\n                    &lt;li&gt;\n                        &lt;a href=&quot;https://www.gcu.edu&quot; target=&quot;_blank&quot;&gt;Home&lt;/a&gt;\n                    &lt;/li&gt;\n                    &lt;li&gt;\n                        &lt;a href=&quot;https://www.lopeshops.edu&quot; target=&quot;_blank&quot;&gt;Shop&lt;/a&gt;\n                    &lt;/li&gt;\n                    &lt;li&gt;\n                        &lt;a href=&quot;https://www.news.edu&quot; target=&quot;_blank&quot;&gt;News and Events&lt;/a&gt;\n                    &lt;/li&gt;\n                &lt;/ul&gt;\n                &lt;ul class=&quot;nav navbar-nav navbar-right&quot;&gt;\n                    &lt;li&gt;&lt;a href=&quot;/&quot;&gt;Start Page&lt;/a&gt;&lt;/li&gt;\n                &lt;/ul&gt;\n            &lt;/div&gt;\n        &lt;/nav&gt;\n    &lt;/div&gt;\n    &lt;h2 th:text=&quot;${title}&quot;&gt;Default Message Text&lt;/h2&gt;&lt;br /&gt;\n    &lt;img th:src=&quot;@{/static/images/gcu-logo.jpg}&quot; /&gt;&lt;br /&gt;&lt;br /&gt;\n&lt;div th:fragment=&quot;footer&quot;&gt;\n    &lt;h5 style=&quot;color:purple; text-align: center; position: fixed; bottom: 0; width: 100%;&quot;&gt;Copyright 2020 Grand Canyon University&lt;/h5&gt;  \n&lt;/div&gt;\n&lt;/html&gt;\n</code></pre>\n<p>defaultTemplate.html</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot; xmlns:layout=&quot;http://www.ultraq.net.nz/thymeleaf/layout&quot;&gt;\n    &lt;head&gt;\n        &lt;meta charset=&quot;UTF-8&quot;&gt;\n        &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt;\n        &lt;title&gt; CST-339 Spring Boot Activity Application&lt;/title&gt;\n        &lt;link rel=&quot;stylesheet&quot; href=&quot;https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css.bootstrap.min.css&quot;&gt;\n        &lt;link rel=&quot;stylesheet&quot; href=&quot;https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css.bootstrap-theme.min.css&quot;&gt;\n        &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.datatables.net/1.10.16/css/jquery.dataTables.min.css&quot;&gt;\n        &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.datatables.net/responsive/2.2.0/css/responsive.dataTables.css&quot;&gt;\n        &lt;script src=&quot;https://code.jquery.com/jquery-3.2.1.min.js&quot;&gt;&lt;/script&gt;\n        &lt;script src=&quot;https://cdn.datatables.net/1.10.16/js/jquery.dataTables.min.js&quot;&gt;&lt;/script&gt;\n        &lt;script src=&quot;https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js&quot;&gt;&lt;/script&gt;\n        &lt;script src=&quot;//cdn.datatables.net/responsive/2.2.0/js/dataTables.responsive.js&quot;&gt;&lt;/script&gt;\n        &lt;style type=&quot;text/css&quot;&gt;.bs-example {margin: 20px; }&lt;/style&gt;\n    &lt;/head&gt;\n    \n    &lt;body&gt;\n        &lt;div align=&quot;center&quot;&gt;\n            &lt;div th:replace=&quot;~{layouts/common :: header}&quot;&gt;My Header&lt;/div&gt;\n            &lt;section layout:fragment=&quot;content&quot;&gt;\n                &lt;p&gt;My Body Contents&lt;/p&gt;\n            &lt;/section&gt;\n            &lt;div th:replace=&quot;~{layouts/common :: footer}&quot;&gt;My Footer&lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":["java","maven","swing","javafx"],"comments":[{"owner":{"account_id":28238246,"reputation":13,"user_id":21586395,"display_name":"Sam"},"score":0,"creation_date":1690445009,"post_id":76777663,"comment_id":135355576,"body_markdown":"Error occurred during initialization of boot layer\njava.lang.module.FindException: Module javafx.controls not found","body":"Error occurred during initialization of boot layer java.lang.module.FindException: Module javafx.controls not found"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1690445638,"post_id":76777663,"comment_id":135355714,"body_markdown":"Don&#39;t know if it&#39;s your only problem, but the `mainClass` should only be the fully qualified name of the class (i.e., get rid of the `.java` bit at the end).","body":"Don&#39;t know if it&#39;s your only problem, but the <code>mainClass</code> should only be the fully qualified name of the class (i.e., get rid of the <code>.java</code> bit at the end)."},{"owner":{"account_id":28238246,"reputation":13,"user_id":21586395,"display_name":"Sam"},"score":0,"creation_date":1690445862,"post_id":76777663,"comment_id":135355749,"body_markdown":"i did it before still giving error","body":"i did it before still giving error"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":2,"creation_date":1690458608,"post_id":76777663,"comment_id":135358376,"body_markdown":"Also consider a maven _archetype_, illustrated [here](https://stackoverflow.com/a/76276885/230513).","body":"Also consider a maven <i>archetype</i>, illustrated <a href=\"https://stackoverflow.com/a/76276885/230513\">here</a>."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":1,"creation_date":1690469539,"post_id":76777663,"comment_id":135361168,"body_markdown":"If you want to consider using an IDE like Netbeans, [this](https://stackoverflow.com/a/73611206/2423906) can help.","body":"If you want to consider using an IDE like Netbeans, <a href=\"https://stackoverflow.com/a/73611206/2423906\">this</a> can help."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1690526881,"post_id":76777663,"comment_id":135368880,"body_markdown":"You tagged this both JavaFX and Swing.  Do **not** mix those two technologies when you are first starting to develop UIs.","body":"You tagged this both JavaFX and Swing.  Do <b>not</b> mix those two technologies when you are first starting to develop UIs."},{"owner":{"account_id":28238246,"reputation":13,"user_id":21586395,"display_name":"Sam"},"score":0,"creation_date":1690547336,"post_id":76777663,"comment_id":135372808,"body_markdown":"thank u very much for all ur help guys","body":"thank u very much for all ur help guys"}],"answers":[{"comments":[{"owner":{"account_id":28238246,"reputation":13,"user_id":21586395,"display_name":"Sam"},"score":0,"creation_date":1690450318,"post_id":76777910,"comment_id":135356639,"body_markdown":"man you are god thank u very much, i have one another doubt, i want to create mutiple windows, like if i click on home it takes me to home window, when click on addOrders take me to order, should i use pans or tabs what is professional way","body":"man you are god thank u very much, i have one another doubt, i want to create mutiple windows, like if i click on home it takes me to home window, when click on addOrders take me to order, should i use pans or tabs what is professional way"},{"owner":{"account_id":20505292,"reputation":116,"user_id":15048263,"display_name":"Ahmet Duzduran"},"score":0,"creation_date":1690453347,"post_id":76777910,"comment_id":135357300,"body_markdown":"TabPane might be a good choice. Each tab in the TabPane would represent a different section of your application","body":"TabPane might be a good choice. Each tab in the TabPane would represent a different section of your application"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1690526659,"post_id":76777910,"comment_id":135368857,"body_markdown":"@Sam it is good to ask other questions as questions, to get better chances at applicable answers.  In general don’t create more windows (e.g. framed stages or dialog windows) unless you really need to.  Instead change content inside a single window.  TabPane will work for that, as will a browser style model with forward/back navigation or a breadcrumb header, or an app menubar or [hyperlink section](https://stackoverflow.com/questions/13556637/how-to-have-menus-website-style-navigation-links-in-java-desktop-application/13574231#13574231).","body":"@Sam it is good to ask other questions as questions, to get better chances at applicable answers.  In general don’t create more windows (e.g. framed stages or dialog windows) unless you really need to.  Instead change content inside a single window.  TabPane will work for that, as will a browser style model with forward/back navigation or a breadcrumb header, or an app menubar or <a href=\"https://stackoverflow.com/questions/13556637/how-to-have-menus-website-style-navigation-links-in-java-desktop-application/13574231#13574231\">hyperlink section</a>."}],"tags":[],"owner":{"account_id":20505292,"reputation":116,"user_id":15048263,"display_name":"Ahmet Duzduran"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1690446860,"creation_date":1690446860,"answer_id":76777910,"question_id":76777663,"body_markdown":"I&#39;ll assume that your project is structured in the conventional way for Maven projects, with Java sources in src/main/java, and resources in src/main/resources.\r\n\r\nHere is a simple Maven pom.xml for a JavaFX 17 application:\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.tensorApplications&lt;/groupId&gt;\r\n    &lt;artifactId&gt;billingWizard&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n        &lt;javafx.version&gt;17.0.1&lt;/javafx.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n            &lt;version&gt;${javafx.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n            &lt;version&gt;${javafx.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.0.8&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;mainClass&gt;com.tensorApplications.billingWizard.Main&lt;/mainClass&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\nThe main class configuration in the javafx-maven-plugin should just be the fully qualified name of the class (package.classname), without the .java extension.\r\n\r\nIn your Main.java file (which should be located in the package com.tensorApplications.billingWizard), you need to extend from javafx.application.Application and override the start method. This is a simple example:\r\n\r\n\r\n    package com.tensorApplications.billingWizard;\r\n    import javafx.application.Application;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.Label;\r\n    import javafx.stage.Stage;\r\n    \r\n    public class Main extends Application {\r\n    \r\n        @Override\r\n        public void start(Stage primaryStage) {\r\n            primaryStage.setTitle(&quot;Hello World!&quot;);\r\n            primaryStage.setScene(new Scene(new Label(&quot;Hello World!&quot;), 300, 250));\r\n            primaryStage.show();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n    }\r\n\r\nTo compile: mvn compile\r\n\r\nTo run: mvn javafx:run\r\n\r\nYou should also refresh your Eclipse project after making changes to the pom.xml file : right-click on the project in the Project Explorer and select Maven &gt; Update Project....\r\n\r\n","title":"How to create javaFX project in maven","body":"<p>I'll assume that your project is structured in the conventional way for Maven projects, with Java sources in src/main/java, and resources in src/main/resources.</p>\n<p>Here is a simple Maven pom.xml for a JavaFX 17 application:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n     xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n     xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n&lt;groupId&gt;com.tensorApplications&lt;/groupId&gt;\n&lt;artifactId&gt;billingWizard&lt;/artifactId&gt;\n&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n    &lt;javafx.version&gt;17.0.1&lt;/javafx.version&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n        &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n        &lt;version&gt;${javafx.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n        &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n        &lt;version&gt;${javafx.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.8.1&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;0.0.8&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;mainClass&gt;com.tensorApplications.billingWizard.Main&lt;/mainClass&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>The main class configuration in the javafx-maven-plugin should just be the fully qualified name of the class (package.classname), without the .java extension.</p>\n<p>In your Main.java file (which should be located in the package com.tensorApplications.billingWizard), you need to extend from javafx.application.Application and override the start method. This is a simple example:</p>\n<pre><code>package com.tensorApplications.billingWizard;\nimport javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Label;\nimport javafx.stage.Stage;\n\npublic class Main extends Application {\n\n    @Override\n    public void start(Stage primaryStage) {\n        primaryStage.setTitle(&quot;Hello World!&quot;);\n        primaryStage.setScene(new Scene(new Label(&quot;Hello World!&quot;), 300, 250));\n        primaryStage.show();\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n<p>To compile: mvn compile</p>\n<p>To run: mvn javafx:run</p>\n<p>You should also refresh your Eclipse project after making changes to the pom.xml file : right-click on the project in the Project Explorer and select Maven &gt; Update Project....</p>\n"}],"owner":{"account_id":28238246,"reputation":13,"user_id":21586395,"display_name":"Sam"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76777910,"answer_count":1,"score":0,"last_activity_date":1690446860,"creation_date":1690444950,"question_id":76777663,"body_markdown":"i am trying to create javafx project in maven, i have added this dependencies\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;groupId&gt;com.tensorApplication&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;billingWizard&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t\t&lt;javafx.version&gt;17.0.1&lt;/javafx.version&gt;\r\n\t\t&lt;javafx.maven.plugin.version&gt;0.0.8&lt;/javafx.maven.plugin.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${javafx.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;0.0.8&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;mainClass&gt;com.tensorApplications.jBills.Main.java&lt;/mainClass&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\r\n\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n\r\n&lt;/project&gt;\r\n i have added main class and simply buiding and running i am getting lots of error, please someone could provide me better way to create maven project with javafx in eclips","title":"How to create javaFX project in maven","body":"<p>i am trying to create javafx project in maven, i have added this dependencies</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\nxmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\nxsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;groupId&gt;com.tensorApplication&lt;/groupId&gt;\n&lt;artifactId&gt;billingWizard&lt;/artifactId&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n\n\n&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;javafx.version&gt;17.0.1&lt;/javafx.version&gt;\n    &lt;javafx.maven.plugin.version&gt;0.0.8&lt;/javafx.maven.plugin.version&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n        &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n        &lt;version&gt;${javafx.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;0.0.8&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;mainClass&gt;com.tensorApplications.jBills.Main.java&lt;/mainClass&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n\n\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n i have added main class and simply buiding and running i am getting lots of error, please someone could provide me better way to create maven project with javafx in eclips\n"},{"tags":["java","svg","batik"],"comments":[{"owner":{"account_id":1029387,"reputation":119820,"user_id":1038015,"display_name":"Robert Longson"},"score":2,"creation_date":1690448303,"post_id":76777901,"comment_id":135356221,"body_markdown":"See https://stackoverflow.com/questions/18467982/are-svg-parameters-such-as-xmlns-and-version-needed/18468348#18468348","body":"See <a href=\"https://stackoverflow.com/questions/18467982/are-svg-parameters-such-as-xmlns-and-version-needed/18468348#18468348\" title=\"are svg parameters such as xmlns and version needed\">stackoverflow.com/questions/18467982/&hellip;</a>"},{"owner":{"account_id":82504,"reputation":6723,"user_id":231929,"accept_rate":88,"display_name":"Peter Hull"},"score":0,"creation_date":1690450313,"post_id":76777901,"comment_id":135356638,"body_markdown":"If I understand correctly the answer suggests it doesn&#39;t matter in practice, is that right? However I&#39;d like to do it properly if possible!","body":"If I understand correctly the answer suggests it doesn&#39;t matter in practice, is that right? However I&#39;d like to do it properly if possible!"},{"owner":{"account_id":125949,"reputation":9471,"user_id":322084,"display_name":"chrwahl"},"score":0,"creation_date":1690648672,"post_id":76777901,"comment_id":135384284,"body_markdown":"If you use `getAttributes()` on `doc` and `getNamedItemNS()` on the NamedNodeMap, can you then debug and modify the version attribute?","body":"If you use <code>getAttributes()</code> on <code>doc</code> and <code>getNamedItemNS()</code> on the NamedNodeMap, can you then debug and modify the version attribute?"},{"owner":{"account_id":82504,"reputation":6723,"user_id":231929,"accept_rate":88,"display_name":"Peter Hull"},"score":0,"creation_date":1690791155,"post_id":76777901,"comment_id":135396855,"body_markdown":"@chrwahl l at the moment I&#39;m just using `setAttribute` on the `&lt;svg&gt;` element and it seems to work","body":"@chrwahl l at the moment I&#39;m just using <code>setAttribute</code> on the <code>&lt;svg&gt;</code> element and it seems to work"},{"owner":{"account_id":125949,"reputation":9471,"user_id":322084,"display_name":"chrwahl"},"score":0,"creation_date":1690814887,"post_id":76777901,"comment_id":135401796,"body_markdown":"@PeterHull ok. That makes sense. But we can agree that it sounds a bit hacky.","body":"@PeterHull ok. That makes sense. But we can agree that it sounds a bit hacky."},{"owner":{"account_id":82504,"reputation":6723,"user_id":231929,"accept_rate":88,"display_name":"Peter Hull"},"score":0,"creation_date":1690981402,"post_id":76777901,"comment_id":135428378,"body_markdown":"@chrwahl I agree but it&#39;s only a little bit hacky - after all the document element is just a DOM element and it&#39;s &#39;acceptable&#39; to get and set an element&#39;s attributes I believe.","body":"@chrwahl I agree but it&#39;s only a little bit hacky - after all the document element is just a DOM element and it&#39;s &#39;acceptable&#39; to get and set an element&#39;s attributes I believe."}],"owner":{"account_id":82504,"reputation":6723,"user_id":231929,"accept_rate":88,"display_name":"Peter Hull"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690446791,"creation_date":1690446791,"question_id":76777901,"body_markdown":"Using Apache Batik to create SVG files, the version always comes out as &quot;1.0&quot; (seems to be [hard coded](https://github.com/apache/xmlgraphics-batik/blob/e98c5a507b37517bb08b969de6b6f80766b68010/batik-util/src/main/java/org/apache/batik/util/SVGConstants.java#L43)) but Batik [says it implements 1.1](https://xmlgraphics.apache.org/batik/status.html). How do I change the version, is it as simple as setting the attribute manually on the `&lt;svg&gt;` element or would that have other consequences? Or does the SVG version not matter? I used an [SVG validator](https://validator.w3.org/) and it recommended setting the version to 1.1 or omitting it.\r\n\r\n``` java\r\nimport java.io.IOException;\r\nimport javax.xml.transform.Transformer;\r\nimport javax.xml.transform.TransformerException;\r\nimport javax.xml.transform.TransformerFactory;\r\nimport javax.xml.transform.dom.DOMSource;\r\nimport javax.xml.transform.stream.StreamResult;\r\nimport org.apache.batik.anim.dom.SVGDOMImplementation;\r\nimport org.w3c.dom.*;\r\nimport org.w3c.dom.svg.SVGDocument;\r\n\r\npublic class Test {\r\n    public static void main(String[] args) throws IOException, TransformerException {\r\n        DOMImplementation imp = SVGDOMImplementation.getDOMImplementation();\r\n        SVGDocument doc = (SVGDocument) imp.createDocument(SVGDOMImplementation.SVG_NAMESPACE_URI, &quot;svg&quot;, null);\r\n        TransformerFactory tf = TransformerFactory.newDefaultInstance();\r\n        Transformer transformer = tf.newTransformer();\r\n        transformer.transform(new DOMSource(doc), new StreamResult(System.out));\r\n    }\r\n}\r\n```\r\n\r\noutput \r\n``` xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\r\n&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; \r\n     xmlns:xlink=&quot;http://www.w3.org/1999/xlink&quot; \r\n     contentScriptType=&quot;text/ecmascript&quot; \r\n     zoomAndPan=&quot;magnify&quot; \r\n     contentStyleType=&quot;text/css&quot; \r\n     preserveAspectRatio=&quot;xMidYMid meet&quot; \r\n     version=&quot;1.0&quot;/&gt;\r\n```","title":"How to set the SVG version in Apache Batik","body":"<p>Using Apache Batik to create SVG files, the version always comes out as &quot;1.0&quot; (seems to be <a href=\"https://github.com/apache/xmlgraphics-batik/blob/e98c5a507b37517bb08b969de6b6f80766b68010/batik-util/src/main/java/org/apache/batik/util/SVGConstants.java#L43\" rel=\"nofollow noreferrer\">hard coded</a>) but Batik <a href=\"https://xmlgraphics.apache.org/batik/status.html\" rel=\"nofollow noreferrer\">says it implements 1.1</a>. How do I change the version, is it as simple as setting the attribute manually on the <code>&lt;svg&gt;</code> element or would that have other consequences? Or does the SVG version not matter? I used an <a href=\"https://validator.w3.org/\" rel=\"nofollow noreferrer\">SVG validator</a> and it recommended setting the version to 1.1 or omitting it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.IOException;\nimport javax.xml.transform.Transformer;\nimport javax.xml.transform.TransformerException;\nimport javax.xml.transform.TransformerFactory;\nimport javax.xml.transform.dom.DOMSource;\nimport javax.xml.transform.stream.StreamResult;\nimport org.apache.batik.anim.dom.SVGDOMImplementation;\nimport org.w3c.dom.*;\nimport org.w3c.dom.svg.SVGDocument;\n\npublic class Test {\n    public static void main(String[] args) throws IOException, TransformerException {\n        DOMImplementation imp = SVGDOMImplementation.getDOMImplementation();\n        SVGDocument doc = (SVGDocument) imp.createDocument(SVGDOMImplementation.SVG_NAMESPACE_URI, &quot;svg&quot;, null);\n        TransformerFactory tf = TransformerFactory.newDefaultInstance();\n        Transformer transformer = tf.newTransformer();\n        transformer.transform(new DOMSource(doc), new StreamResult(System.out));\n    }\n}\n</code></pre>\n<p>output</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\n&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; \n     xmlns:xlink=&quot;http://www.w3.org/1999/xlink&quot; \n     contentScriptType=&quot;text/ecmascript&quot; \n     zoomAndPan=&quot;magnify&quot; \n     contentStyleType=&quot;text/css&quot; \n     preserveAspectRatio=&quot;xMidYMid meet&quot; \n     version=&quot;1.0&quot;/&gt;\n</code></pre>\n"},{"tags":["java","optimization","design-patterns","predicate","rule-engine"],"answers":[{"tags":[],"owner":{"account_id":13993199,"reputation":129,"user_id":10362945,"display_name":"Sagar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690446526,"creation_date":1690446526,"answer_id":76777868,"question_id":76694942,"body_markdown":"You could make the dependency itself as a parameter for arguments passed in api, so when required, we could inject the component while doing validation.\r\nAlso, since we want to bind the transactionType along with its rules,it deserves a class/enum for itself defining the coupling though lossely.\r\n```\r\n//Component\r\nclass RuleValidator {\r\n\r\n    //Autowired\r\n    TransactionUtils transactionUtils;\r\n\r\n    boolean validate(Transaction transaction, BiPredicate&lt;Transaction,TransactionUtils&gt; predicate){\r\n        return predicate.test(transaction,transactionUtils);\r\n    }\r\n\r\n}\r\n\r\n\r\npublic enum TransactionType {\r\n\r\n    CARD(RulesFactory.getDefaultCardRules()),CASH(RulesFactory.getDefaultCashRules()),NO_RULES((key1,key2)-&gt;true);\r\n\r\n    private final BiPredicate&lt;Transaction,TransactionUtils&gt; rulesApplied;\r\n\r\n    TransactionType(BiPredicate&lt;Transaction, TransactionUtils&gt; rulesApplied) {\r\n        this.rulesApplied = rulesApplied;\r\n    }\r\n\r\n    public BiPredicate&lt;Transaction, TransactionUtils&gt; getRulesApplied() {\r\n        return rulesApplied;\r\n    }\r\n\r\n    public BiPredicate&lt;Transaction, TransactionUtils&gt; addAdditionalPredicate(BiPredicate&lt;Transaction,TransactionUtils&gt; ... additional ) {\r\n        BiPredicate&lt;Transaction, TransactionUtils&gt; additionalValidation = Arrays.stream(additional)\r\n                                                                                .reduce((k, v) -&gt; true, BiPredicate::and);\r\n        return additionalValidation.and(rulesApplied);\r\n    }\r\n\r\n}\r\n\r\n interface RulesFactory {\r\n\r\n     public static boolean rule1(Transaction transaction,TransactionUtils transactionUtils) {\r\n         return &quot;rule1&quot;.equals(transactionUtils.getName(transaction));\r\n     }\r\n\r\n     public static boolean rule2(Transaction transaction,TransactionUtils transactionUtils) {\r\n         return &quot;rule2&quot;.equals(transactionUtils.getName(transaction));\r\n     }\r\n\r\n     public static boolean rule5(Transaction transaction,TransactionUtils transactionUtils) {\r\n         return &quot;rule5&quot;.equals(transactionUtils.getName(transaction));\r\n     }\r\n\r\n     public static BiPredicate&lt;Transaction, TransactionUtils&gt; getDefaultCardRules(){\r\n       BiPredicate&lt;Transaction,TransactionUtils&gt; andPredicate = (currentTransaction,transactionUtilsComponent) -&gt; true;\r\n       return andPredicate.and(RulesFactory::rule1)\r\n                    .and(RulesFactory::rule2);\r\n     }\r\n\r\n     public static BiPredicate&lt;Transaction, TransactionUtils&gt; getDefaultCashRules() {\r\n         BiPredicate&lt;Transaction,TransactionUtils&gt; andPredicate = (currentTransaction,transactionUtilsComponent) -&gt; true;\r\n         return andPredicate.and(RulesFactory::rule2)\r\n                 .and(RulesFactory::rule5);\r\n     }\r\n\r\n }\r\nclass RuleEngine{\r\n    \r\n    RuleValidator ruleValidator;\r\n\r\n    private Transaction transaction;\r\n\r\n    private TransactionType transactionType;\r\n\r\n    public void setTransaction(Transaction transaction){\r\n        this.transaction = transaction;\r\n    }\r\n\r\n    public void setTransactionType(TransactionType transactionType){\r\n        this.transactionType = transactionType;\r\n    }\r\n\r\n    public void executeRules() {\r\n        if(ruleValidator.validate(transaction,transactionType.getRulesApplied())) {\r\n            // all rules are valided - payment success\r\n        }\r\n    }\r\n}\r\n```","title":"Rule Engine design with multiple predicates","body":"<p>You could make the dependency itself as a parameter for arguments passed in api, so when required, we could inject the component while doing validation.\nAlso, since we want to bind the transactionType along with its rules,it deserves a class/enum for itself defining the coupling though lossely.</p>\n<pre><code>//Component\nclass RuleValidator {\n\n    //Autowired\n    TransactionUtils transactionUtils;\n\n    boolean validate(Transaction transaction, BiPredicate&lt;Transaction,TransactionUtils&gt; predicate){\n        return predicate.test(transaction,transactionUtils);\n    }\n\n}\n\n\npublic enum TransactionType {\n\n    CARD(RulesFactory.getDefaultCardRules()),CASH(RulesFactory.getDefaultCashRules()),NO_RULES((key1,key2)-&gt;true);\n\n    private final BiPredicate&lt;Transaction,TransactionUtils&gt; rulesApplied;\n\n    TransactionType(BiPredicate&lt;Transaction, TransactionUtils&gt; rulesApplied) {\n        this.rulesApplied = rulesApplied;\n    }\n\n    public BiPredicate&lt;Transaction, TransactionUtils&gt; getRulesApplied() {\n        return rulesApplied;\n    }\n\n    public BiPredicate&lt;Transaction, TransactionUtils&gt; addAdditionalPredicate(BiPredicate&lt;Transaction,TransactionUtils&gt; ... additional ) {\n        BiPredicate&lt;Transaction, TransactionUtils&gt; additionalValidation = Arrays.stream(additional)\n                                                                                .reduce((k, v) -&gt; true, BiPredicate::and);\n        return additionalValidation.and(rulesApplied);\n    }\n\n}\n\n interface RulesFactory {\n\n     public static boolean rule1(Transaction transaction,TransactionUtils transactionUtils) {\n         return &quot;rule1&quot;.equals(transactionUtils.getName(transaction));\n     }\n\n     public static boolean rule2(Transaction transaction,TransactionUtils transactionUtils) {\n         return &quot;rule2&quot;.equals(transactionUtils.getName(transaction));\n     }\n\n     public static boolean rule5(Transaction transaction,TransactionUtils transactionUtils) {\n         return &quot;rule5&quot;.equals(transactionUtils.getName(transaction));\n     }\n\n     public static BiPredicate&lt;Transaction, TransactionUtils&gt; getDefaultCardRules(){\n       BiPredicate&lt;Transaction,TransactionUtils&gt; andPredicate = (currentTransaction,transactionUtilsComponent) -&gt; true;\n       return andPredicate.and(RulesFactory::rule1)\n                    .and(RulesFactory::rule2);\n     }\n\n     public static BiPredicate&lt;Transaction, TransactionUtils&gt; getDefaultCashRules() {\n         BiPredicate&lt;Transaction,TransactionUtils&gt; andPredicate = (currentTransaction,transactionUtilsComponent) -&gt; true;\n         return andPredicate.and(RulesFactory::rule2)\n                 .and(RulesFactory::rule5);\n     }\n\n }\nclass RuleEngine{\n    \n    RuleValidator ruleValidator;\n\n    private Transaction transaction;\n\n    private TransactionType transactionType;\n\n    public void setTransaction(Transaction transaction){\n        this.transaction = transaction;\n    }\n\n    public void setTransactionType(TransactionType transactionType){\n        this.transactionType = transactionType;\n    }\n\n    public void executeRules() {\n        if(ruleValidator.validate(transaction,transactionType.getRulesApplied())) {\n            // all rules are valided - payment success\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":16200410,"reputation":691,"user_id":13569065,"display_name":"Dan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":178,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690446526,"creation_date":1689440934,"question_id":76694942,"body_markdown":"I am trying to implement Rule engine desing pattern in my use case but not able to fit the pieces in the right place. \r\n\r\nRuleEngine is where all rules are validated for a transaction before making it approved\r\n\r\n```java\r\npublic class RuleEngine {\r\n\tprivate Predicate&lt;Transaction&gt; predicates;\r\n\r\n\tprivate Transaction transaction;\r\n\r\n\tpublic void setTransaction(Transaction transaction){\r\n\t\tthis.transaction = transaction;\r\n\t}\r\n\r\n\tpublic void addRules(Predicate&lt;Transaction&gt; predicates) {\r\n\t\tthis.predicates = predicates;\r\n\t}\r\n\r\n\tpublic void executeRules() {\r\n\t\tif(predicates.test(transaction)) {\r\n\t\t\t// all rules are valided - payment success\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nBelow Payments class is invoked by parent where transaction and its type are provided. \r\n\r\nThen based on transaction, rules are added which is the difficult part.\r\n\r\nBecause of transactionUtils - hard dependency required to autowired, causing predicate chaining looks very ugly and seems not the correct way.\r\n\r\n\r\n\r\n```java\r\n@Component\r\npublic class Payments {\r\n\r\n    @Autowired\r\n    PredicateHelper predicateHelper;\r\n\r\n    public void process(Transaction transaction, String type) {\r\n        RuleEngine ruleEngine = new RuleEngine();\r\n        ruleEngine.setTransaction(transaction);\r\n\r\n        switch (type) {\r\n            case &quot;card&quot; :\r\n                ruleEngine.addRules(getCardRules());\r\n                break;\r\n            case &quot;cash&quot; :\r\n                ruleEngine.addRules(getCashRules());\r\n                break;\r\n            default : log.error(&quot;Invalid case&quot;);\r\n        }\r\n        ruleEngine.executeRules();\r\n    }\r\n\r\n    private Predicate&lt;Transaction&gt; getCardRules(){\r\n        return predicateHelper.rule1\r\n                .and(predicateHelper.rule2)\r\n                .and(predicateHelper.rule3);\t\t// Predicate chaining \r\n    }\r\n\r\n    private Predicate&lt;Transaction&gt; getCashRules(){\r\n        return predicateHelper.rule1\r\n                .and(predicateHelper.rule4)\r\n                .and(predicateHelper.rule5);\t\t// Predicate chaining\r\n    }\r\n}\r\n```\r\n\r\n```java\r\n@Component\r\npublic class PredicateHelper {\r\n\r\n    @Autowired\r\n    TransactionUtils transactionUtils;\t\t// hard dependency - in house library\r\n\r\n    public Predicate&lt;Transaction&gt; rule1 = transaction -&gt; &quot;rule1&quot;.equals(transactionUtils.getName(transaction));\r\n    public Predicate&lt;Transaction&gt; rule2 = transaction -&gt; &quot;rule2&quot;.equals(transactionUtils.getName(transaction));\r\n    public Predicate&lt;Transaction&gt; rule3 = transaction -&gt; &quot;rule3&quot;.equals(transactionUtils.getName(transaction));\r\n    public Predicate&lt;Transaction&gt; rule4 = transaction -&gt; &quot;rule4&quot;.equals(transactionUtils.getName(transaction));\r\n    public Predicate&lt;Transaction&gt; rule5 = transaction -&gt; &quot;rule5&quot;.equals(transactionUtils.getName(transaction));\r\n}\r\n```\r\n\r\nIs there a ways to have better predicate chaining with this solution. Thanks in advance.\r\n","title":"Rule Engine design with multiple predicates","body":"<p>I am trying to implement Rule engine desing pattern in my use case but not able to fit the pieces in the right place.</p>\n<p>RuleEngine is where all rules are validated for a transaction before making it approved</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class RuleEngine {\n    private Predicate&lt;Transaction&gt; predicates;\n\n    private Transaction transaction;\n\n    public void setTransaction(Transaction transaction){\n        this.transaction = transaction;\n    }\n\n    public void addRules(Predicate&lt;Transaction&gt; predicates) {\n        this.predicates = predicates;\n    }\n\n    public void executeRules() {\n        if(predicates.test(transaction)) {\n            // all rules are valided - payment success\n        }\n    }\n}\n</code></pre>\n<p>Below Payments class is invoked by parent where transaction and its type are provided.</p>\n<p>Then based on transaction, rules are added which is the difficult part.</p>\n<p>Because of transactionUtils - hard dependency required to autowired, causing predicate chaining looks very ugly and seems not the correct way.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class Payments {\n\n    @Autowired\n    PredicateHelper predicateHelper;\n\n    public void process(Transaction transaction, String type) {\n        RuleEngine ruleEngine = new RuleEngine();\n        ruleEngine.setTransaction(transaction);\n\n        switch (type) {\n            case &quot;card&quot; :\n                ruleEngine.addRules(getCardRules());\n                break;\n            case &quot;cash&quot; :\n                ruleEngine.addRules(getCashRules());\n                break;\n            default : log.error(&quot;Invalid case&quot;);\n        }\n        ruleEngine.executeRules();\n    }\n\n    private Predicate&lt;Transaction&gt; getCardRules(){\n        return predicateHelper.rule1\n                .and(predicateHelper.rule2)\n                .and(predicateHelper.rule3);        // Predicate chaining \n    }\n\n    private Predicate&lt;Transaction&gt; getCashRules(){\n        return predicateHelper.rule1\n                .and(predicateHelper.rule4)\n                .and(predicateHelper.rule5);        // Predicate chaining\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class PredicateHelper {\n\n    @Autowired\n    TransactionUtils transactionUtils;      // hard dependency - in house library\n\n    public Predicate&lt;Transaction&gt; rule1 = transaction -&gt; &quot;rule1&quot;.equals(transactionUtils.getName(transaction));\n    public Predicate&lt;Transaction&gt; rule2 = transaction -&gt; &quot;rule2&quot;.equals(transactionUtils.getName(transaction));\n    public Predicate&lt;Transaction&gt; rule3 = transaction -&gt; &quot;rule3&quot;.equals(transactionUtils.getName(transaction));\n    public Predicate&lt;Transaction&gt; rule4 = transaction -&gt; &quot;rule4&quot;.equals(transactionUtils.getName(transaction));\n    public Predicate&lt;Transaction&gt; rule5 = transaction -&gt; &quot;rule5&quot;.equals(transactionUtils.getName(transaction));\n}\n</code></pre>\n<p>Is there a ways to have better predicate chaining with this solution. Thanks in advance.</p>\n"},{"tags":["java","mongodb","crud"],"owner":{"account_id":27418771,"reputation":11,"user_id":20917561,"display_name":"Ikarus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690446317,"creation_date":1690446317,"question_id":76777839,"body_markdown":"I&#39;m trying to do a huge query that retrieves  every documents in multiple collections in a database.\r\nThe problem is that I want to make sure that the documents are coherent since some of them are linked together and i want to make sure no documents are modified during my find.\r\n\r\nWhile reading the mongo documentation, I came across the read concern Snapshot but I dont really understand if it will solve my problem and since it&#39;s hard to actually try it out, I wanted to ask you guys for some help.\r\nI&#39;ve already tried the transactions and they do not seem to work well for me :/\r\n\r\nThanks for your time ! \r\nHave a nice day \r\n\r\n","title":"Can read concern &quot;Snapshot&quot; solve my problem?","body":"<p>I'm trying to do a huge query that retrieves  every documents in multiple collections in a database.\nThe problem is that I want to make sure that the documents are coherent since some of them are linked together and i want to make sure no documents are modified during my find.</p>\n<p>While reading the mongo documentation, I came across the read concern Snapshot but I dont really understand if it will solve my problem and since it's hard to actually try it out, I wanted to ask you guys for some help.\nI've already tried the transactions and they do not seem to work well for me :/</p>\n<p>Thanks for your time !\nHave a nice day</p>\n"},{"tags":["java","spring","ubuntu"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1690445959,"post_id":76777757,"comment_id":135355774,"body_markdown":"read the pom.xml, there you can find all the information you need. Rather, since it is a maven project, you could just run the maven goals clean install and it would probably build everything for you","body":"read the pom.xml, there you can find all the information you need. Rather, since it is a maven project, you could just run the maven goals clean install and it would probably build everything for you"},{"owner":{"account_id":10827831,"reputation":143,"user_id":7963227,"display_name":"Sametcey"},"score":0,"creation_date":1690445968,"post_id":76777757,"comment_id":135355777,"body_markdown":"sorry but what kind of answer you want? for basic installation you can google about it and you will find alot of install Instructions.","body":"sorry but what kind of answer you want? for basic installation you can google about it and you will find alot of install Instructions."},{"owner":{"account_id":28814549,"reputation":80,"user_id":22068494,"display_name":"Takao Miyazaki"},"score":0,"creation_date":1690446354,"post_id":76777757,"comment_id":135355838,"body_markdown":"Sorry, but I don&#39; know, really.","body":"Sorry, but I don&#39; know, really."},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1690447327,"post_id":76777757,"comment_id":135356015,"body_markdown":"This isnt a help-me-from-start-to-finish site. If you have specific problems, you can ask a question, and someone would help. But you seem to not have any knowledge of the matter you need help with at all. If I was told today is your first time even touching the Java programming language, I would definitely agree. Is there any beginners guide/tutorials that you can do to get a better understanding of the subject matter BEFORE you try to deploy or start someone&#39;s complete project?","body":"This isnt a help-me-from-start-to-finish site. If you have specific problems, you can ask a question, and someone would help. But you seem to not have any knowledge of the matter you need help with at all. If I was told today is your first time even touching the Java programming language, I would definitely agree. Is there any beginners guide/tutorials that you can do to get a better understanding of the subject matter BEFORE you try to deploy or start someone&#39;s complete project?"}],"answers":[{"comments":[{"owner":{"account_id":28814549,"reputation":80,"user_id":22068494,"display_name":"Takao Miyazaki"},"score":0,"creation_date":1690446594,"post_id":76777824,"comment_id":135355883,"body_markdown":"Thank you for your kind explanation. As you see in this project, there are many folders. How do I use?","body":"Thank you for your kind explanation. As you see in this project, there are many folders. How do I use?"},{"owner":{"account_id":12503014,"reputation":130,"user_id":9100818,"display_name":"Kafarson"},"score":1,"creation_date":1690447148,"post_id":76777824,"comment_id":135355986,"body_markdown":"Why you try run project which you don&#39;t know/understand? Try something simpler and read manual as I said before. Then you will try more complex project. Dude, small steps, small steps","body":"Why you try run project which you don&#39;t know/understand? Try something simpler and read manual as I said before. Then you will try more complex project. Dude, small steps, small steps"},{"owner":{"account_id":28814549,"reputation":80,"user_id":22068494,"display_name":"Takao Miyazaki"},"score":0,"creation_date":1690447461,"post_id":76777824,"comment_id":135356044,"body_markdown":"You&#39;re a good person. To be honest, I don&#39;t know spring boot. But I have a project. Just now, I have to run this project, I can move on. Help me, please. Thanks","body":"You&#39;re a good person. To be honest, I don&#39;t know spring boot. But I have a project. Just now, I have to run this project, I can move on. Help me, please. Thanks"}],"tags":[],"owner":{"account_id":12503014,"reputation":130,"user_id":9100818,"display_name":"Kafarson"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690446214,"creation_date":1690446214,"answer_id":76777824,"question_id":76777757,"body_markdown":"&gt; Which version of jdk do I have to install to this project?\r\n\r\n\r\nCheck [pom.xml][1], there is java version for this project.\r\n\r\n     &lt;properties&gt;\r\n    \t  &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t  &lt;project.reporting.outputEncoding&gt;UTF-&lt;/project.reporting.outputEncoding&gt;\r\n    \t  &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t  &lt;spring-boot.version&gt;2.1.7.RELEASE&lt;/spring-boot.version&gt;\r\n    \t  &lt;fastjson.version&gt;1.2.58&lt;/fastjson.version&gt;\r\n    \t  &lt;mysql.connector.java.version&gt;5.1.34&lt;/mysql.connector.java.version&gt;\r\n    \t  &lt;dubbo.version&gt;2.7.1&lt;/dubbo.version&gt;\r\n    \t  &lt;binarywang.version&gt;3.6.0&lt;/binarywang.version&gt;\r\n    \t  &lt;projectRootDir&gt;${basedir}&lt;/projectRootDir&gt;\r\n      &lt;/properties&gt;\r\n\r\nBut if you new in Spring Boot you should read [Spring Guide][2] first.\r\n\r\n  [1]: https://github.com/xxpaypro/xxpay4pro/blob/master/pom.xml#L39\r\n  [2]: https://spring.io/guides/gs/spring-boot/","title":"How to run Java Spring Boot project from Github in Ubuntu","body":"<blockquote>\n<p>Which version of jdk do I have to install to this project?</p>\n</blockquote>\n<p>Check <a href=\"https://github.com/xxpaypro/xxpay4pro/blob/master/pom.xml#L39\" rel=\"nofollow noreferrer\">pom.xml</a>, there is java version for this project.</p>\n<pre><code> &lt;properties&gt;\n      &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n      &lt;project.reporting.outputEncoding&gt;UTF-&lt;/project.reporting.outputEncoding&gt;\n      &lt;java.version&gt;1.8&lt;/java.version&gt;\n      &lt;spring-boot.version&gt;2.1.7.RELEASE&lt;/spring-boot.version&gt;\n      &lt;fastjson.version&gt;1.2.58&lt;/fastjson.version&gt;\n      &lt;mysql.connector.java.version&gt;5.1.34&lt;/mysql.connector.java.version&gt;\n      &lt;dubbo.version&gt;2.7.1&lt;/dubbo.version&gt;\n      &lt;binarywang.version&gt;3.6.0&lt;/binarywang.version&gt;\n      &lt;projectRootDir&gt;${basedir}&lt;/projectRootDir&gt;\n  &lt;/properties&gt;\n</code></pre>\n<p>But if you new in Spring Boot you should read <a href=\"https://spring.io/guides/gs/spring-boot/\" rel=\"nofollow noreferrer\">Spring Guide</a> first.</p>\n"}],"owner":{"account_id":28814549,"reputation":80,"user_id":22068494,"display_name":"Takao Miyazaki"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":76777824,"answer_count":1,"score":-2,"last_activity_date":1690446214,"creation_date":1690445655,"question_id":76777757,"body_markdown":"I&#39;m a beginner in Java spring boot. \r\nI have downloaded the Java spring boot project from https://github.com/xxpaypro/xxpay4pro.\r\nBut I don&#39;t know how to run this project.\r\nI don&#39;t even know which version of jdk I have to install.\r\nI am looking for experts who can help me from installation of jdk to full runing.\r\nHelp me!\r\n\r\nI have installed Ubuntu and VS code.\r\nUbuntu version is ubuntu-22.04.1-desktop-amd64\r\n\r\nThen I have downloaded project.\r\n\r\nWhich version of jdk do I have to install to this project?\r\n\r\nThen, how can I run this project?\r\nHow can I deploy?\r\n\r\nThanks &amp; Warm Regards","title":"How to run Java Spring Boot project from Github in Ubuntu","body":"<p>I'm a beginner in Java spring boot.\nI have downloaded the Java spring boot project from <a href=\"https://github.com/xxpaypro/xxpay4pro\" rel=\"nofollow noreferrer\">https://github.com/xxpaypro/xxpay4pro</a>.\nBut I don't know how to run this project.\nI don't even know which version of jdk I have to install.\nI am looking for experts who can help me from installation of jdk to full runing.\nHelp me!</p>\n<p>I have installed Ubuntu and VS code.\nUbuntu version is ubuntu-22.04.1-desktop-amd64</p>\n<p>Then I have downloaded project.</p>\n<p>Which version of jdk do I have to install to this project?</p>\n<p>Then, how can I run this project?\nHow can I deploy?</p>\n<p>Thanks &amp; Warm Regards</p>\n"},{"tags":["java","spring-boot","spring-restcontroller"],"comments":[{"owner":{"account_id":8326,"reputation":258555,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":0,"creation_date":1472449403,"post_id":39199134,"comment_id":65738421,"body_markdown":"Why do you want to do that?","body":"Why do you want to do that?"},{"owner":{"account_id":8326,"reputation":258555,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":0,"creation_date":1472449449,"post_id":39199134,"comment_id":65738437,"body_markdown":"If it&#39;s really static content, you can run an nginx on 8080 off `src/main/resources/static` in addition to Spring Boot.","body":"If it&#39;s really static content, you can run an nginx on 8080 off <code>src&#47;main&#47;resources&#47;static</code> in addition to Spring Boot."},{"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"score":2,"creation_date":1472449475,"post_id":39199134,"comment_id":65738448,"body_markdown":"I don&#39;t think so since they run in the same web container. But you can always create 2 Spring boot applications though it&#39;s a weird prerequisite to have them running on different ports. However, creating a Spring boot application to just serve static content seems overkill to me so you might prefer a web server like Apache HTTpd, nginx, ... .","body":"I don&#39;t think so since they run in the same web container. But you can always create 2 Spring boot applications though it&#39;s a weird prerequisite to have them running on different ports. However, creating a Spring boot application to just serve static content seems overkill to me so you might prefer a web server like Apache HTTpd, nginx, ... ."},{"owner":{"account_id":2594962,"reputation":97,"user_id":2248862,"accept_rate":25,"display_name":"Raki_2012"},"score":0,"creation_date":1472451608,"post_id":39199134,"comment_id":65739216,"body_markdown":"@Thilo  : Thank you for response.. The reason behind this is i want to restrict people from accessing my UI and serve it as an admisntrator UI  and i dont want to do a role based authorization. Just an inquisite whether it can be done ??","body":"@Thilo  : Thank you for response.. The reason behind this is i want to restrict people from accessing my UI and serve it as an admisntrator UI  and i dont want to do a role based authorization. Just an inquisite whether it can be done ??"},{"owner":{"account_id":178596,"reputation":10817,"user_id":410677,"accept_rate":78,"display_name":"kuhajeyan"},"score":0,"creation_date":1472464912,"post_id":39199134,"comment_id":65746078,"body_markdown":"why not serve static content under different path like http://server:port/context/static","body":"why not serve static content under different path like <a href=\"http://server:port/context/static\" rel=\"nofollow noreferrer\">server:port/context/static</a>"},{"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"score":0,"creation_date":1472471499,"post_id":39199134,"comment_id":65750040,"body_markdown":"@Raki_2012 so you plan to restrict people from accessing your UI by running a non secured application on a different port because people won&#39;t find out about it? You should google &quot;security through obscurity&quot; and why it&#39;s bad.","body":"@Raki_2012 so you plan to restrict people from accessing your UI by running a non secured application on a different port because people won&#39;t find out about it? You should google &quot;security through obscurity&quot; and why it&#39;s bad."},{"owner":{"account_id":322284,"reputation":16565,"user_id":641627,"display_name":"alexbt"},"score":1,"creation_date":1472619026,"post_id":39199134,"comment_id":65818554,"body_markdown":"You can have a single Spring Boot App with multiple profiles (ex: http://stackoverflow.com/questions/39205430/how-to-run-spring-boot-as-a-client-application/39206323#39206323), each launching the application using different application-${profile}.properties. However, I&#39;m not sure I see the point, you could just as well follow @kuhajeyan &#39;s advice and set a different context path for the static content.","body":"You can have a single Spring Boot App with multiple profiles (ex: <a href=\"http://stackoverflow.com/questions/39205430/how-to-run-spring-boot-as-a-client-application/39206323#39206323\" title=\"how to run spring boot as a client application\">stackoverflow.com/questions/39205430/&hellip;</a>), each launching the application using different application-${profile}.properties. However, I&#39;m not sure I see the point, you could just as well follow @kuhajeyan &#39;s advice and set a different context path for the static content."}],"answers":[{"comments":[{"owner":{"account_id":27742746,"reputation":61,"user_id":21178886,"display_name":"Piterek237"},"score":0,"creation_date":1690446605,"post_id":76777808,"comment_id":135355884,"body_markdown":"You only missed 6 years and 11 months","body":"You only missed 6 years and 11 months"}],"tags":[],"owner":{"account_id":8653469,"reputation":72,"user_id":6478449,"display_name":"Ranjan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690446076,"creation_date":1690446076,"answer_id":76777808,"question_id":39199134,"body_markdown":"1. Configure the Spring Boot application to run on port 8080 (or any other desired port) for the REST controllers. You can do this by adding the following property to your application.properties :\r\nserver.port=8080\r\n\r\n2. Install Nginx on your server if it&#39;s not already installed.\r\n\r\n    Create a new Nginx configuration file (e.g., my_static_content.conf) in the Nginx configuration directory (/etc/nginx/conf.d/ or /etc/nginx/sites-available/, depending on your system setup).\r\n\r\n    Add the following configuration to the my_static_content.conf file to listen on port 8081 and serve the static content:\r\n```\r\nnginx\r\n\r\nserver {\r\n    listen 8081;\r\n    server_name localhost;\r\n\r\n    location / {\r\n        root /path/to/your/spring/boot/app/src/main/resources;\r\n    }\r\n}\r\n```\r\nReplace /path/to/your/spring/boot/app/src/main/resources with the actual path to your Spring Boot application&#39;s src/main/resources directory.\r\n\r\n","title":"Spring Boot running java and web content on different ports in a single application","body":"<ol>\n<li><p>Configure the Spring Boot application to run on port 8080 (or any other desired port) for the REST controllers. You can do this by adding the following property to your application.properties :\nserver.port=8080</p>\n</li>\n<li><p>Install Nginx on your server if it's not already installed.</p>\n<p>Create a new Nginx configuration file (e.g., my_static_content.conf) in the Nginx configuration directory (/etc/nginx/conf.d/ or /etc/nginx/sites-available/, depending on your system setup).</p>\n<p>Add the following configuration to the my_static_content.conf file to listen on port 8081 and serve the static content:</p>\n</li>\n</ol>\n<pre><code>nginx\n\nserver {\n    listen 8081;\n    server_name localhost;\n\n    location / {\n        root /path/to/your/spring/boot/app/src/main/resources;\n    }\n}\n</code></pre>\n<p>Replace /path/to/your/spring/boot/app/src/main/resources with the actual path to your Spring Boot application's src/main/resources directory.</p>\n"}],"owner":{"account_id":2594962,"reputation":97,"user_id":2248862,"accept_rate":25,"display_name":"Raki_2012"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":534,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1690446076,"creation_date":1472449106,"question_id":39199134,"body_markdown":"Is it possible to run static content and java related code on different ports?\r\n\r\nI have a spring boot project where my java code resides on `src/main/java` and\r\nweb content on `src/main/resources/static`.\r\n\r\nIs there a possibility to run static content on port like 8080\r\nand java (rest controller) on 8081 ?\r\n\r\nI don&#39;t want to create a separate project for UI.","title":"Spring Boot running java and web content on different ports in a single application","body":"<p>Is it possible to run static content and java related code on different ports?</p>\n\n<p>I have a spring boot project where my java code resides on <code>src/main/java</code> and\nweb content on <code>src/main/resources/static</code>.</p>\n\n<p>Is there a possibility to run static content on port like 8080\nand java (rest controller) on 8081 ?</p>\n\n<p>I don't want to create a separate project for UI.</p>\n"},{"tags":["java","spring-boot","spring-cloud-sleuth","spring-logback"],"owner":{"account_id":19010116,"reputation":161,"user_id":13876160,"display_name":"Amulya M"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690445960,"creation_date":1690445960,"question_id":76777793,"body_markdown":"Have enabled traceId in our springboot application by adding following dependencies, and application is deployed in kubernetes setup, However traceId is available only for info logs, incase of error logs we could not find the traceId, Log level is set to info in our application.\r\n\r\n````\r\n\r\n\t&lt;dependencyManagement&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2021.0.2&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t&lt;/dependencyManagement&gt;\r\n\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n&lt;!-- Adding Micrometer registry for prometheus --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.micrometer&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;micrometer-registry-prometheus&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- Adding sleuth library dependency for traceIds --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-starter-sleuth&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;ch.qos.logback.contrib&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;logback-jackson&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.1.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;ch.qos.logback.contrib&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;logback-json-classic&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.1.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;logback-core&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;logback-access&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n````","title":"Unable to get traceId for error logs in springboot application","body":"<p>Have enabled traceId in our springboot application by adding following dependencies, and application is deployed in kubernetes setup, However traceId is available only for info logs, incase of error logs we could not find the traceId, Log level is set to info in our application.</p>\n<pre><code>\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;2021.0.2&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n    &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n&lt;!-- Adding Micrometer registry for prometheus --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\n            &lt;artifactId&gt;micrometer-registry-prometheus&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Adding sleuth library dependency for traceIds --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-sleuth&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n&lt;dependency&gt;\n            &lt;groupId&gt;ch.qos.logback.contrib&lt;/groupId&gt;\n            &lt;artifactId&gt;logback-jackson&lt;/artifactId&gt;\n            &lt;version&gt;0.1.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;ch.qos.logback.contrib&lt;/groupId&gt;\n            &lt;artifactId&gt;logback-json-classic&lt;/artifactId&gt;\n            &lt;version&gt;0.1.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n            &lt;artifactId&gt;logback-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n            &lt;artifactId&gt;logback-access&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","rest","jersey","dropwizard"],"comments":[{"owner":{"account_id":13058571,"reputation":1,"user_id":9436581,"display_name":"Versizzle"},"score":0,"creation_date":1690434713,"post_id":76776618,"comment_id":135353912,"body_markdown":"or... is there a way to specify a folder or package of resources to be from the default root path outside of the configured rootPath?\n\nlike say rootPath is set to /api/* but I have a folder/package of resources that would be from /*","body":"or... is there a way to specify a folder or package of resources to be from the default root path outside of the configured rootPath?  like say rootPath is set to /api/* but I have a folder/package of resources that would be from /*"},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1690441543,"post_id":76776618,"comment_id":135354918,"body_markdown":"If you want to serve both endpoints with a single servlet, you&#39;ll have to use rootPath `/*`. If you want to separate them, perhaps you can add a second servlet to your server, one for each root path?","body":"If you want to serve both endpoints with a single servlet, you&#39;ll have to use rootPath <code>&#47;*</code>. If you want to separate them, perhaps you can add a second servlet to your server, one for each root path?"},{"owner":{"account_id":13058571,"reputation":1,"user_id":9436581,"display_name":"Versizzle"},"score":0,"creation_date":1692152993,"post_id":76776618,"comment_id":135584068,"body_markdown":"Yeah, I want to do the second servlet option but can&#39;t find any good documentation on this ... :(","body":"Yeah, I want to do the second servlet option but can&#39;t find any good documentation on this ... :("}],"owner":{"account_id":13058571,"reputation":1,"user_id":9436581,"display_name":"Versizzle"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690445959,"creation_date":1690434138,"question_id":76776618,"body_markdown":"I&#39;m working on a project with many existing API endpoints define across many resource classes. Currently we have a `urlPattern` defined as /api/* but want to add another set of resources for internal use under say /internal/* however, since we have the `urlPattern` set, these are under /api/internal/*. Is there a way to configure Dropwizard Jersey to accommodate this other than taking out the `urlPattern` and prefixing all endpoints with /api or /internal in the resource class @Path annotations?\r\n\r\nNotes:  \r\nThe `urlPattern` is defined either by `environment.jersey().setUrlPattern` or in the config yml under `server:rootPath`.\r\n\r\nTried this but obviously it doesn&#39;t work because the second set overwrites the first.\r\n\r\n    environment.jersey().setUrlPattern(&quot;/api/*&quot;);\r\n    environment.jersey().setUrlPattern(&quot;/internal/*&quot;);\r\n\r\nI thought of injecting a config value on certain resources but for some reason the `@Path` annotation doesn&#39;t allow that\r\n\r\nExample\r\n\r\n    @Path(&quot;/{internal-path}/&quot;","title":"Dropwizard Jersey Configuration to group resources to specific rootPaths","body":"<p>I'm working on a project with many existing API endpoints define across many resource classes. Currently we have a <code>urlPattern</code> defined as /api/* but want to add another set of resources for internal use under say /internal/* however, since we have the <code>urlPattern</code> set, these are under /api/internal/*. Is there a way to configure Dropwizard Jersey to accommodate this other than taking out the <code>urlPattern</code> and prefixing all endpoints with /api or /internal in the resource class @Path annotations?</p>\n<p>Notes:<br />\nThe <code>urlPattern</code> is defined either by <code>environment.jersey().setUrlPattern</code> or in the config yml under <code>server:rootPath</code>.</p>\n<p>Tried this but obviously it doesn't work because the second set overwrites the first.</p>\n<pre><code>environment.jersey().setUrlPattern(&quot;/api/*&quot;);\nenvironment.jersey().setUrlPattern(&quot;/internal/*&quot;);\n</code></pre>\n<p>I thought of injecting a config value on certain resources but for some reason the <code>@Path</code> annotation doesn't allow that</p>\n<p>Example</p>\n<pre><code>@Path(&quot;/{internal-path}/&quot;\n</code></pre>\n"},{"tags":["java","spring-boot","record","configurationproperties"],"owner":{"account_id":4278261,"reputation":1055,"user_id":3498366,"accept_rate":54,"display_name":"Koin Arab"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690445948,"creation_date":1690445948,"question_id":76777790,"body_markdown":"I have records taking values from configuration properties:\r\n\r\n```\r\n@ConfigurationProperties(prefix = &quot;car&quot;)\r\npublic record CarConfig(Type type) {\r\n    public record Type() {}\r\n}\r\n```\r\n\r\nI cannot put there `@Configuration` annotation cause as it is a record, it is immutable.\r\nNow - I would like to test it and it&#39;s not a problem when I will use `@SpringBootTest` with all context but I prefer to not do this.\r\n\r\nInstead of this I created something like that:\r\n\r\n```\r\n@EnableConfigurationProperties(value = CarConfig.class)\r\n@ExtendWith(SpringExtension.class)\r\nclass CarConfigTest {\r\n\r\n    @Autowired\r\n    private CarConfig carConfig;\r\n\r\n    @Test\r\n    void shouldReadConfigValues() {\r\n       // some assertions\r\n    }\r\n```\r\n\r\nI&#39;m getting an error that it cannot autowire carConfig.class and it make sense as CarConfig is not Spring annotated class. \r\n\r\nSo my question is - is it possible to test CarConfig without @SpringBootTest annotation? If yes, what should I use?","title":"How to test ConfigurtionProperties for immutable records?","body":"<p>I have records taking values from configuration properties:</p>\n<pre><code>@ConfigurationProperties(prefix = &quot;car&quot;)\npublic record CarConfig(Type type) {\n    public record Type() {}\n}\n</code></pre>\n<p>I cannot put there <code>@Configuration</code> annotation cause as it is a record, it is immutable.\nNow - I would like to test it and it's not a problem when I will use <code>@SpringBootTest</code> with all context but I prefer to not do this.</p>\n<p>Instead of this I created something like that:</p>\n<pre><code>@EnableConfigurationProperties(value = CarConfig.class)\n@ExtendWith(SpringExtension.class)\nclass CarConfigTest {\n\n    @Autowired\n    private CarConfig carConfig;\n\n    @Test\n    void shouldReadConfigValues() {\n       // some assertions\n    }\n</code></pre>\n<p>I'm getting an error that it cannot autowire carConfig.class and it make sense as CarConfig is not Spring annotated class.</p>\n<p>So my question is - is it possible to test CarConfig without @SpringBootTest annotation? If yes, what should I use?</p>\n"},{"tags":["java","spring-boot","amazon-s3","amazon-ec2"],"comments":[{"owner":{"account_id":17717155,"reputation":527,"user_id":12863192,"display_name":"Ishan"},"score":0,"creation_date":1690440669,"post_id":76776962,"comment_id":135354767,"body_markdown":"What is the error raised? Log all the ignored errors.  There can be two possibilities - either it is raising an error while upload (you should log errors and paste them here), or it is uploading somewhere else that you are not checking (no error) - may be due to issue in setting the key of the S3 object differently in different environments. There could be differences in the configuration too","body":"What is the error raised? Log all the ignored errors.  There can be two possibilities - either it is raising an error while upload (you should log errors and paste them here), or it is uploading somewhere else that you are not checking (no error) - may be due to issue in setting the key of the S3 object differently in different environments. There could be differences in the configuration too"}],"owner":{"account_id":25665431,"reputation":1,"user_id":19430497,"display_name":"Mukesh Mandal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690445820,"creation_date":1690438649,"question_id":76776962,"body_markdown":"My code for the configuration of aws s3 is\r\n\r\n```\r\n@Data\r\n@Configuration\r\npublic class AWSConfig {\r\n\r\n\t@Value(&quot;${aws.s3.secretKey}&quot;)\r\n\tprivate String secretKey;\r\n\t@Value(&quot;${aws.s3.accessKey}&quot;)\r\n\tprivate String accessKey;\r\n\t@Value(&quot;${aws.s3.bucketName}&quot;)\r\n\tprivate String bucketName;\r\n\t@Value(&quot;${aws.s3.region}&quot;)\r\n\tprivate String region;\r\n\r\n\t@Bean\r\n\tpublic AmazonS3 s3Client() {\r\n\t\tAWSCredentials credentials = new BasicAWSCredentials(accessKey, secretKey);\r\n\t\treturn AmazonS3ClientBuilder.standard()\r\n\t\t\t\t.withCredentials(new AWSStaticCredentialsProvider(credentials))\r\n\t\t\t\t.withRegion(region).build();\r\n\t}\r\n\r\n}\r\n```\r\n\r\nAnd the file upload service file is\r\n\r\n\r\n```\r\n@Service\r\n@Slf4j\r\npublic class AWSUploadServiceImpl implements AWSUploadFileService {\r\n\r\n    @Value(&quot;${aws.s3.bucketName}&quot;)\r\n    private String bucketName;\r\n\r\n    @Autowired\r\n    private AmazonS3 s3Client;\r\n    @Override\r\n    public String uploadFile(File file, String path) {\r\n        s3Client.putObject(new PutObjectRequest(bucketName, path, file));\r\n        return &quot;File uploaded&quot; ;\r\n    }\r\n\r\n    @Override\r\n    public byte[] downloadFile(String fileName) {\r\n        S3Object s3Object = s3Client.getObject(bucketName, fileName);\r\n        S3ObjectInputStream inputStream = s3Object.getObjectContent();\r\n        try {\r\n            byte[] content = IOUtils.toByteArray(inputStream);\r\n            return content;\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public String deleteFile(String fileName) {\r\n        s3Client.deleteObject(bucketName, fileName);\r\n        return fileName + &quot; removed ...&quot;;\r\n    }\r\n\r\n}\r\n```\r\n\r\nand the converter that i use to convert multipartfile to file is\r\n\r\n```\r\nprivate File convertMultipartToFile(MultipartFile multipartFile) {\r\n        File file = new File(Objects.requireNonNull(multipartFile.getOriginalFilename()));\r\n        try {\r\n            FileOutputStream fos = new FileOutputStream(file);\r\n            fos.write(multipartFile.getBytes());\r\n        } catch (Exception ignored) {}\r\n        return file;\r\n    }\r\n```\r\n\r\n\r\n\r\n\r\nI try to upload file from api to s3 which is created in spring boot it is working with ide but after build it is not uploading the file?","title":"Spring Boot: File uploading to s3 is working in local while working with ide but after build it is showing error file not found","body":"<p>My code for the configuration of aws s3 is</p>\n<pre><code>@Data\n@Configuration\npublic class AWSConfig {\n\n    @Value(&quot;${aws.s3.secretKey}&quot;)\n    private String secretKey;\n    @Value(&quot;${aws.s3.accessKey}&quot;)\n    private String accessKey;\n    @Value(&quot;${aws.s3.bucketName}&quot;)\n    private String bucketName;\n    @Value(&quot;${aws.s3.region}&quot;)\n    private String region;\n\n    @Bean\n    public AmazonS3 s3Client() {\n        AWSCredentials credentials = new BasicAWSCredentials(accessKey, secretKey);\n        return AmazonS3ClientBuilder.standard()\n                .withCredentials(new AWSStaticCredentialsProvider(credentials))\n                .withRegion(region).build();\n    }\n\n}\n</code></pre>\n<p>And the file upload service file is</p>\n<pre><code>@Service\n@Slf4j\npublic class AWSUploadServiceImpl implements AWSUploadFileService {\n\n    @Value(&quot;${aws.s3.bucketName}&quot;)\n    private String bucketName;\n\n    @Autowired\n    private AmazonS3 s3Client;\n    @Override\n    public String uploadFile(File file, String path) {\n        s3Client.putObject(new PutObjectRequest(bucketName, path, file));\n        return &quot;File uploaded&quot; ;\n    }\n\n    @Override\n    public byte[] downloadFile(String fileName) {\n        S3Object s3Object = s3Client.getObject(bucketName, fileName);\n        S3ObjectInputStream inputStream = s3Object.getObjectContent();\n        try {\n            byte[] content = IOUtils.toByteArray(inputStream);\n            return content;\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        return null;\n    }\n\n    @Override\n    public String deleteFile(String fileName) {\n        s3Client.deleteObject(bucketName, fileName);\n        return fileName + &quot; removed ...&quot;;\n    }\n\n}\n</code></pre>\n<p>and the converter that i use to convert multipartfile to file is</p>\n<pre><code>private File convertMultipartToFile(MultipartFile multipartFile) {\n        File file = new File(Objects.requireNonNull(multipartFile.getOriginalFilename()));\n        try {\n            FileOutputStream fos = new FileOutputStream(file);\n            fos.write(multipartFile.getBytes());\n        } catch (Exception ignored) {}\n        return file;\n    }\n</code></pre>\n<p>I try to upload file from api to s3 which is created in spring boot it is working with ide but after build it is not uploading the file?</p>\n"},{"tags":["java","netezza"],"answers":[{"tags":[],"owner":{"account_id":24460739,"reputation":151,"user_id":18381792,"display_name":"DB08"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646763842,"creation_date":1646763842,"answer_id":71399833,"question_id":71233949,"body_markdown":"If you  mean you are trying to load data in Netezza database , then you can use any of the delimiters. This mostly depends how you are handling that via nzload or via some other application. Assuming you are using java(as you tagged java) you can use all the tags &#39;|&#39;  &#39;,&#39;  &#39;;&#39;  &#39;~&#39;  &#39;^&#39;.","title":"Which can be used delimiters in Netezza database","body":"<p>If you  mean you are trying to load data in Netezza database , then you can use any of the delimiters. This mostly depends how you are handling that via nzload or via some other application. Assuming you are using java(as you tagged java) you can use all the tags '|'  ','  ';'  '~'  '^'.</p>\n"},{"tags":[],"owner":{"account_id":18924244,"reputation":281,"user_id":13807719,"display_name":"Mark F"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647549095,"creation_date":1647549095,"answer_id":71518668,"question_id":71233949,"body_markdown":"One thing can&#39;t be two things.\r\n\r\nYou can&#39;t have &quot;|&quot; be your column delimiter and also use the | within your text strings.  How is the system supposed to recognize when to accept it as text ... and when it is meant to separate two columns.\r\n\r\nOptions:\r\nYou can use that symbol (or any symbol for that matter) as long as you escape it within the text strings.  For example\r\n\r\n123|The pipe \\| symbol is here|456\r\n\r\nYou could use any non-printing ascii character as the delimiter.  This greatly reduces the likelihood of ever encountering it in an input text string.\r\n\r\nYou could specify it thusly\r\n\r\n     nzload -delim 0xc7   ...           # the hexadecimal value\r\n     nzload -delim 199    ...           # or in decimal\r\n     nzload -delim 0307   ...           # or in octal\r\n","title":"Which can be used delimiters in Netezza database","body":"<p>One thing can't be two things.</p>\n<p>You can't have &quot;|&quot; be your column delimiter and also use the | within your text strings.  How is the system supposed to recognize when to accept it as text ... and when it is meant to separate two columns.</p>\n<p>Options:\nYou can use that symbol (or any symbol for that matter) as long as you escape it within the text strings.  For example</p>\n<p>123|The pipe | symbol is here|456</p>\n<p>You could use any non-printing ascii character as the delimiter.  This greatly reduces the likelihood of ever encountering it in an input text string.</p>\n<p>You could specify it thusly</p>\n<pre><code> nzload -delim 0xc7   ...           # the hexadecimal value\n nzload -delim 199    ...           # or in decimal\n nzload -delim 0307   ...           # or in octal\n</code></pre>\n"}],"owner":{"account_id":14482814,"reputation":1,"user_id":10461615,"display_name":"Abdul Fatah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1690445775,"creation_date":1645606683,"question_id":71233949,"body_markdown":"I am trying to insert file into netezza database so I need help which character can we use as delimiters. I was trying these are delimiters.\r\n\r\n    &#39;|&#39;  &#39;,&#39;  &#39;;&#39;  &#39;~&#39;  &#39;^&#39;\r\n\r\nBut user does not accept it because they are using under sentence.\r\n","title":"Which can be used delimiters in Netezza database","body":"<p>I am trying to insert file into netezza database so I need help which character can we use as delimiters. I was trying these are delimiters.</p>\n<pre><code>'|'  ','  ';'  '~'  '^'\n</code></pre>\n<p>But user does not accept it because they are using under sentence.</p>\n"},{"tags":["java","list","selenium","automation","calendar"],"comments":[{"owner":{"account_id":15599721,"reputation":128,"user_id":11254169,"display_name":"TheCoder"},"score":0,"creation_date":1579178278,"post_id":59769819,"comment_id":105683385,"body_markdown":"You can try to make a counter and when there is 29 it should increment. If it equals to 1 then it should click so it will not click on the first one but on 20th of February.","body":"You can try to make a counter and when there is 29 it should increment. If it equals to 1 then it should click so it will not click on the first one but on 20th of February."},{"owner":{"account_id":7856867,"reputation":11,"user_id":5938397,"display_name":"Rahul Shinde"},"score":0,"creation_date":1579760868,"post_id":59769819,"comment_id":105875867,"body_markdown":"tried this also but sometimes 1st data is clickable and sometimes 2nd data is clickable.","body":"tried this also but sometimes 1st data is clickable and sometimes 2nd data is clickable."}],"answers":[{"comments":[{"owner":{"account_id":7856867,"reputation":11,"user_id":5938397,"display_name":"Rahul Shinde"},"score":0,"creation_date":1579268669,"post_id":59769911,"comment_id":105719706,"body_markdown":"***below html code for 29 which is disable***\n &lt;span ng-class=&quot;::{&#39;text-muted&#39;: dt.secondary, &#39;text-info&#39;: dt.current}&quot; class=&quot;text-muted&quot;&gt;29&lt;/span&gt;&lt;/button&gt;\n  \n\n\n***below html code for 29 which i want to click***\n&lt;span ng-class=&quot;::{&#39;text-muted&#39;: dt.secondary, &#39;text-info&#39;: dt.current}&quot;&gt;29&lt;/span&gt;&lt;/button&gt;","body":"<b><i>below html code for 29 which is disable</i></b>  &lt;span ng-class=&quot;::{&#39;text-muted&#39;: dt.secondary, &#39;text-info&#39;: dt.current}&quot; class=&quot;text-muted&quot;&gt;29&lt;/span&gt;&lt;/button&gt;      <b><i>below html code for 29 which i want to click</i></b> &lt;span ng-class=&quot;::{&#39;text-muted&#39;: dt.secondary, &#39;text-info&#39;: dt.current}&quot;&gt;29&lt;/span&gt;&lt;/button&gt;"},{"owner":{"account_id":11030710,"reputation":624,"user_id":8102135,"display_name":"Jonah"},"score":0,"creation_date":1579274751,"post_id":59769911,"comment_id":105722975,"body_markdown":"Those two code snippets are the same. Are you sure you&#39;ve posted the right one? If yes, then maybe we have to look at the parent elements. You could post a bigger portion of the code, by editing the question.","body":"Those two code snippets are the same. Are you sure you&#39;ve posted the right one? If yes, then maybe we have to look at the parent elements. You could post a bigger portion of the code, by editing the question."}],"tags":[],"owner":{"account_id":11030710,"reputation":624,"user_id":8102135,"display_name":"Jonah"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579178313,"creation_date":1579178313,"answer_id":59769911,"question_id":59769819,"body_markdown":"You have to modify the XPath. Look at the calendar. Clearly, the dates outside of the chosen month, are greyed out. That means their class has to be different.\r\n\r\nYou did not post the HTML for that element, so I have to assume, but you should to adopt the solution to your own case\r\n\r\n    @FindBy(xpath=&quot;//span[contains(text(),&#39;29&#39;) and contains(@class, &#39;grayed&#39;)]&quot;)","title":"How to select clickable date when 2 date present on calendar selenium java?","body":"<p>You have to modify the XPath. Look at the calendar. Clearly, the dates outside of the chosen month, are greyed out. That means their class has to be different.</p>\n\n<p>You did not post the HTML for that element, so I have to assume, but you should to adopt the solution to your own case</p>\n\n<pre><code>@FindBy(xpath=\"//span[contains(text(),'29') and contains(@class, 'grayed')]\")\n</code></pre>\n"}],"owner":{"account_id":7856867,"reputation":11,"user_id":5938397,"display_name":"Rahul Shinde"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":257,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690445679,"creation_date":1579178000,"question_id":59769819,"body_markdown":"We are using a bootstrap calendar when I try to select 29th Feb then debugger try to select 29th Jan which is disable/inactive then I got the response as an element not clickable.\r\n\r\nThere are 2 xpath for same date, i want to click on active date xpath.\r\n\r\n\t@FindBy(xpath=&quot;//*[contains(@title,&#39;Arrival Date&#39;)]&quot;)\r\n\tpublic WebElement DepartureDateButton;;\r\n\t\r\n\t@FindBy(xpath=&quot;//*[contains(text(),&#39;February&#39;)]&quot;)\r\n\tpublic WebElement selectmonth;;\t\r\n\t\r\n\t@FindBy(xpath=&quot;//span[contains(text(),&#39;29&#39;)]&quot;)\r\n\r\n\tpublic WebElement selectdate;;\t\r\n\r\n\tWaitforElementtobeVisible(selectmonth);\r\n\t\tWaitforElementtobeclickable(selectmonth);\r\n\t\tselectmonth.click();\t\r\n\t\tWaitforElementtobeclickable(selectdate);\r\n\t\tselectdate.click();\t\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KwAAx.jpg","title":"How to select clickable date when 2 date present on calendar selenium java?","body":"<p>We are using a bootstrap calendar when I try to select 29th Feb then debugger try to select 29th Jan which is disable/inactive then I got the response as an element not clickable.</p>\n\n<p>There are 2 xpath for same date, i want to click on active date xpath.</p>\n\n<pre><code>@FindBy(xpath=\"//*[contains(@title,'Arrival Date')]\")\npublic WebElement DepartureDateButton;;\n\n@FindBy(xpath=\"//*[contains(text(),'February')]\")\npublic WebElement selectmonth;; \n\n@FindBy(xpath=\"//span[contains(text(),'29')]\")\n\npublic WebElement selectdate;;  \n\nWaitforElementtobeVisible(selectmonth);\n    WaitforElementtobeclickable(selectmonth);\n    selectmonth.click();    \n    WaitforElementtobeclickable(selectdate);\n    selectdate.click(); \n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/KwAAx.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KwAAx.jpg\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","digital-signature"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1600848606,"post_id":61933139,"comment_id":113214398,"body_markdown":"Questions such as this one are actually explicitly off topic in this place.","body":"Questions such as this one are actually explicitly off topic in this place."}],"answers":[{"comments":[{"owner":{"account_id":7708385,"reputation":846,"user_id":5838627,"display_name":"Mayur Agarwal"},"score":0,"creation_date":1618910444,"post_id":64023592,"comment_id":118739510,"body_markdown":"Yes, I have already checked this, but they do not have any APIs exposed","body":"Yes, I have already checked this, but they do not have any APIs exposed"}],"tags":[],"owner":{"account_id":138760,"reputation":269,"user_id":343905,"accept_rate":67,"display_name":"Ubaid"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1600848372,"creation_date":1600848372,"answer_id":64023592,"question_id":61933139,"body_markdown":"https://selfcare.uaepass.ae/developers\r\n\r\nHave you checked this site? This has the integration details about UAE Pass.","title":"Is there any API available for digital signature of UAE PASS","body":"<p><a href=\"https://selfcare.uaepass.ae/developers\" rel=\"nofollow noreferrer\">https://selfcare.uaepass.ae/developers</a></p>\n<p>Have you checked this site? This has the integration details about UAE Pass.</p>\n"}],"owner":{"account_id":7708385,"reputation":846,"user_id":5838627,"display_name":"Mayur Agarwal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1822,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"closed_date":1690445630,"answer_count":1,"score":3,"last_activity_date":1690445622,"creation_date":1590059374,"question_id":61933139,"body_markdown":"I am looking for API or JAVA SDK to digitally sign any document using UAE PASS but unable to find any.\r\nIf anyone has already integrated with UAE Pass they can please share some ideas or knowledge.\r\n\r\n\r\n\r\n[UAE PASS PORTAL][1]\r\n\r\n\r\n  [1]: https://www.smartdubai.ae/apps-services/details/uae-pass","title":"Is there any API available for digital signature of UAE PASS","body":"<p>I am looking for API or JAVA SDK to digitally sign any document using UAE PASS but unable to find any.\nIf anyone has already integrated with UAE Pass they can please share some ideas or knowledge.</p>\n\n<p><a href=\"https://www.smartdubai.ae/apps-services/details/uae-pass\" rel=\"nofollow noreferrer\">UAE PASS PORTAL</a></p>\n"},{"tags":["java","azure","azure-keyvault"],"answers":[{"comments":[{"owner":{"account_id":1176036,"reputation":2433,"user_id":1324406,"accept_rate":62,"display_name":"Amber"},"score":0,"creation_date":1531232067,"post_id":51255976,"comment_id":89513283,"body_markdown":"Can you clarify a bit? When I uploaded the pfx file it created a certificate, a key, and a secret.  So if I&#39;m able to get the secret is there a way to get the chain from that? i.e. I can call: SecretBundle secret = m_Client.getSecret(&quot;https: //myvault.vault.azure.net/secrets/Chain/secretid&quot;);","body":"Can you clarify a bit? When I uploaded the pfx file it created a certificate, a key, and a secret.  So if I&#39;m able to get the secret is there a way to get the chain from that? i.e. I can call: SecretBundle secret = m_Client.getSecret(&quot;https: //myvault.vault.azure.net/secrets/Chain/secretid&quot;);"},{"owner":{"account_id":1684769,"reputation":1215,"user_id":1548275,"display_name":"Jari Turkia"},"score":1,"creation_date":1574081969,"post_id":51255976,"comment_id":104091959,"body_markdown":"What!? You absolutely *can* access the private key. That&#39;s what the Key Vault is for, to store secrets like private keys in X.509 certificates.","body":"What!? You absolutely <i>can</i> access the private key. That&#39;s what the Key Vault is for, to store secrets like private keys in X.509 certificates."}],"tags":[],"owner":{"account_id":5895010,"reputation":12027,"user_id":5255018,"accept_rate":53,"display_name":"Michael B"},"comment_count":2,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1531185172,"creation_date":1531185172,"answer_id":51255976,"question_id":51254908,"body_markdown":"After you have uploaded a certificate to keyvault, it is no longer possible to access the private key, or any part of the certificate chain. Basically the certificate is split into its key (which cannot be retrieved from KV) and the cert. \r\n\r\nIf you need to access those you would need to create a secret from the encoded pfx file. i.e. a base64 of the cert file. If you need to keep the key safe, you could just create a KV secret from a certificate with the parents attached. i.e. base64 it, and save it to KV as a secret. ","title":"How to get the certificate chain from azure keyvault","body":"<p>After you have uploaded a certificate to keyvault, it is no longer possible to access the private key, or any part of the certificate chain. Basically the certificate is split into its key (which cannot be retrieved from KV) and the cert. </p>\n\n<p>If you need to access those you would need to create a secret from the encoded pfx file. i.e. a base64 of the cert file. If you need to keep the key safe, you could just create a KV secret from a certificate with the parents attached. i.e. base64 it, and save it to KV as a secret. </p>\n"},{"tags":[],"owner":{"account_id":362304,"reputation":19,"user_id":705427,"display_name":"bkg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690445406,"creation_date":1690445406,"answer_id":76777731,"question_id":51254908,"body_markdown":"I tried the following:\r\n\r\n - import pre-generated certificate file into AKV (**.PEM** format, contains 2 certificates and private key. Presence of private key is required by AKV);\r\n - load certificate by Java API --&gt; got 1 certificate only;\r\n - load secret by Java API --&gt; got 2 certificates and private key;\r\n\r\nProbably this behavior depends on AKV settings (at least documentation says that key might be marked as exportable or not) and certificate format.\r\n\r\nThis [Microsoft link][1] was useful for me.\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/azure/key-vault/certificates/about-certificates#exportable-or-non-exportable-key","title":"How to get the certificate chain from azure keyvault","body":"<p>I tried the following:</p>\n<ul>\n<li>import pre-generated certificate file into AKV (<strong>.PEM</strong> format, contains 2 certificates and private key. Presence of private key is required by AKV);</li>\n<li>load certificate by Java API --&gt; got 1 certificate only;</li>\n<li>load secret by Java API --&gt; got 2 certificates and private key;</li>\n</ul>\n<p>Probably this behavior depends on AKV settings (at least documentation says that key might be marked as exportable or not) and certificate format.</p>\n<p>This <a href=\"https://learn.microsoft.com/en-us/azure/key-vault/certificates/about-certificates#exportable-or-non-exportable-key\" rel=\"nofollow noreferrer\">Microsoft link</a> was useful for me.</p>\n"}],"owner":{"account_id":1176036,"reputation":2433,"user_id":1324406,"accept_rate":62,"display_name":"Amber"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1155,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1690445406,"creation_date":1531175664,"question_id":51254908,"body_markdown":"I uploaded a pfx file to Azure Key Vault that has 2 parent certificates in its chain.  I can get the base certificate with a call to KeyVaultClient.getCertificate(cert_id).\r\n\r\n    Certificate cert = new X509CertImpl(m_Client.getCertificate(m_CertId).cer());\r\n\r\nThe problem is I need the entire certificate chain. Is there a way to do this using the Java api?","title":"How to get the certificate chain from azure keyvault","body":"<p>I uploaded a pfx file to Azure Key Vault that has 2 parent certificates in its chain.  I can get the base certificate with a call to KeyVaultClient.getCertificate(cert_id).</p>\n\n<pre><code>Certificate cert = new X509CertImpl(m_Client.getCertificate(m_CertId).cer());\n</code></pre>\n\n<p>The problem is I need the entire certificate chain. Is there a way to do this using the Java api?</p>\n"},{"tags":["java","aws-sdk","amazon-sns"],"answers":[{"comments":[{"owner":{"account_id":257602,"reputation":1294,"user_id":539144,"display_name":"pulse00"},"score":1,"creation_date":1471071647,"post_id":38926801,"comment_id":65216569,"body_markdown":"thanks, authorization works with the wildcard policy. It&#39;s a bit open then though - if i understand it correctly the iam user can now publish to any topic in the account. The problem with specifying a topic seems to be that i then need to add a subscription to the topic of type &quot;SMS&quot; where i need to hardcode the target phone number. Is there a way i can lock down the permission in a way that the user can only send sms (to any number) and not publish to any other topic?","body":"thanks, authorization works with the wildcard policy. It&#39;s a bit open then though - if i understand it correctly the iam user can now publish to any topic in the account. The problem with specifying a topic seems to be that i then need to add a subscription to the topic of type &quot;SMS&quot; where i need to hardcode the target phone number. Is there a way i can lock down the permission in a way that the user can only send sms (to any number) and not publish to any other topic?"},{"owner":{"account_id":4601476,"reputation":193,"user_id":3732102,"accept_rate":25,"display_name":"kennyjwilli"},"score":0,"creation_date":1483063897,"post_id":38926801,"comment_id":69981764,"body_markdown":"I also have this same question. @pulse00 were you able to figure out how to restrict SMS access?","body":"I also have this same question. @pulse00 were you able to figure out how to restrict SMS access?"},{"owner":{"account_id":1119883,"reputation":1549,"user_id":1108457,"display_name":"Dennis H"},"score":1,"creation_date":1483731565,"post_id":38926801,"comment_id":70232126,"body_markdown":"pules00 - I updated the original answer with a policy allowing only publish to SMS. kennyjwilli - Allowing publish to any resource other than SMS does not seem possible at this time.","body":"pules00 - I updated the original answer with a policy allowing only publish to SMS. kennyjwilli - Allowing publish to any resource other than SMS does not seem possible at this time."},{"owner":{"account_id":9495561,"reputation":164,"user_id":7058740,"display_name":"Mrityunjay"},"score":0,"creation_date":1589984389,"post_id":38926801,"comment_id":109509969,"body_markdown":"instead of all resource it&#39;ll be good to use specific resource which is publishing the message","body":"instead of all resource it&#39;ll be good to use specific resource which is publishing the message"},{"owner":{"account_id":4124854,"reputation":348,"user_id":5759706,"display_name":"Claudson Martins"},"score":0,"creation_date":1598311277,"post_id":38926801,"comment_id":112411855,"body_markdown":"Thanks a lot! True life saver. AWS permissions are way too weird... No one should spend hours trying to figure out what kind of hack need to be done.","body":"Thanks a lot! True life saver. AWS permissions are way too weird... No one should spend hours trying to figure out what kind of hack need to be done."}],"tags":[],"owner":{"account_id":1119883,"reputation":1549,"user_id":1108457,"display_name":"Dennis H"},"comment_count":5,"down_vote_count":1,"up_vote_count":67,"is_accepted":true,"score":66,"last_activity_date":1671932140,"creation_date":1471037926,"answer_id":38926801,"question_id":38871201,"body_markdown":"The error is telling you that your IAM user &quot;sms-testing&quot; does not have permission to publish to SNS (SNS:Publish) to that resource. Your IAM user probably does not have the SNS:Publish permission at all, which means you can&#39;t publish anything. If that is the case, you just need to add the following IAM policy to your user OR add the policy to the IAM Group from which your IAM user belongs. \r\n\r\nThe link below should take you right to the IAM console to edit permissions for the &quot;sms-testing&quot; user. Also below is a sample policy allowing the IAM user to publish anything to SNS (SMS, Topics, Endpoints, etc..). \r\n\r\nIf you want to lock down permissions a bit, you would modify the &quot;Resource&quot; and specify a specific SNS resource like Topic or application arn. If you are unable to edit the IAM user policy, you&#39;ll need to get your administrator to add this policy for you.\r\n\r\nModify your IAM user:\r\nhttps://console.aws.amazon.com/iam/home?region=us-east-1#users/sms-testing\r\n\r\nSample policy for allowing SNS Publish to ALL resources:\r\n\r\n    {\r\n        &quot;Version&quot;: &quot;2012-10-17&quot;,\r\n        &quot;Statement&quot;: [\r\n            {\r\n                &quot;Effect&quot;: &quot;Allow&quot;,\r\n                &quot;Action&quot;: [\r\n                    &quot;sns:Publish&quot;\r\n                ],\r\n                &quot;Resource&quot;: &quot;*&quot;\r\n            }\r\n        ]\r\n    }\r\n\r\nSince SNS does not have an SMS resource, you can do a bit of a hack and &quot;Deny&quot; all SNS publishing to Topics and Platform Applications and then allow publish to the rest which leaves only SMS (for now). \r\n\r\nHere&#39;s a sample policy allowing only publish to SMS and denying publishing to topics and applications (push notifications):\r\n\r\n    {\r\n        &quot;Version&quot;: &quot;2012-10-17&quot;,\r\n        &quot;Statement&quot;: [\r\n            {\r\n                &quot;Effect&quot;: &quot;Deny&quot;,\r\n                &quot;Action&quot;: [\r\n                    &quot;sns:Publish&quot;\r\n                ],\r\n                &quot;Resource&quot;: &quot;arn:aws:sns:*:*:*&quot;\r\n            },\r\n            {\r\n                &quot;Effect&quot;: &quot;Allow&quot;,\r\n                &quot;Action&quot;: [\r\n                    &quot;sns:Publish&quot;\r\n                ],\r\n                &quot;Resource&quot;: &quot;*&quot;\r\n            }\r\n        ]\r\n    }","title":"Authorization when sending a text message using AmazonSNSClient","body":"<p>The error is telling you that your IAM user &quot;sms-testing&quot; does not have permission to publish to SNS (SNS:Publish) to that resource. Your IAM user probably does not have the SNS:Publish permission at all, which means you can't publish anything. If that is the case, you just need to add the following IAM policy to your user OR add the policy to the IAM Group from which your IAM user belongs.</p>\n<p>The link below should take you right to the IAM console to edit permissions for the &quot;sms-testing&quot; user. Also below is a sample policy allowing the IAM user to publish anything to SNS (SMS, Topics, Endpoints, etc..).</p>\n<p>If you want to lock down permissions a bit, you would modify the &quot;Resource&quot; and specify a specific SNS resource like Topic or application arn. If you are unable to edit the IAM user policy, you'll need to get your administrator to add this policy for you.</p>\n<p>Modify your IAM user:\n<a href=\"https://console.aws.amazon.com/iam/home?region=us-east-1#users/sms-testing\" rel=\"nofollow noreferrer\">https://console.aws.amazon.com/iam/home?region=us-east-1#users/sms-testing</a></p>\n<p>Sample policy for allowing SNS Publish to ALL resources:</p>\n<pre><code>{\n    &quot;Version&quot;: &quot;2012-10-17&quot;,\n    &quot;Statement&quot;: [\n        {\n            &quot;Effect&quot;: &quot;Allow&quot;,\n            &quot;Action&quot;: [\n                &quot;sns:Publish&quot;\n            ],\n            &quot;Resource&quot;: &quot;*&quot;\n        }\n    ]\n}\n</code></pre>\n<p>Since SNS does not have an SMS resource, you can do a bit of a hack and &quot;Deny&quot; all SNS publishing to Topics and Platform Applications and then allow publish to the rest which leaves only SMS (for now).</p>\n<p>Here's a sample policy allowing only publish to SMS and denying publishing to topics and applications (push notifications):</p>\n<pre><code>{\n    &quot;Version&quot;: &quot;2012-10-17&quot;,\n    &quot;Statement&quot;: [\n        {\n            &quot;Effect&quot;: &quot;Deny&quot;,\n            &quot;Action&quot;: [\n                &quot;sns:Publish&quot;\n            ],\n            &quot;Resource&quot;: &quot;arn:aws:sns:*:*:*&quot;\n        },\n        {\n            &quot;Effect&quot;: &quot;Allow&quot;,\n            &quot;Action&quot;: [\n                &quot;sns:Publish&quot;\n            ],\n            &quot;Resource&quot;: &quot;*&quot;\n        }\n    ]\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13126954,"reputation":1,"user_id":9482576,"display_name":"pawel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690445279,"creation_date":1690445279,"answer_id":76777716,"question_id":38871201,"body_markdown":"Another way this can be fixed is by applying the following policy to your role:\r\n\r\n    {\r\n        &quot;Version&quot;: &quot;2012-10-17&quot;,\r\n        &quot;Statement&quot;: [\r\n            {\r\n                &quot;Effect&quot;: &quot;Allow&quot;,\r\n                &quot;Action&quot;: [\r\n                    &quot;sns:Publish&quot;\r\n                ],\r\n                &quot;NotResource&quot;: &quot;arn:aws:sns:*:*:*&quot;\r\n            }\r\n        ]\r\n    }\r\n\r\nThis uses the `NotResource` JSON Policy Element ([docs][1])\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_elements_notresource.html","title":"Authorization when sending a text message using AmazonSNSClient","body":"<p>Another way this can be fixed is by applying the following policy to your role:</p>\n<pre><code>{\n    &quot;Version&quot;: &quot;2012-10-17&quot;,\n    &quot;Statement&quot;: [\n        {\n            &quot;Effect&quot;: &quot;Allow&quot;,\n            &quot;Action&quot;: [\n                &quot;sns:Publish&quot;\n            ],\n            &quot;NotResource&quot;: &quot;arn:aws:sns:*:*:*&quot;\n        }\n    ]\n}\n</code></pre>\n<p>This uses the <code>NotResource</code> JSON Policy Element (<a href=\"https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_elements_notresource.html\" rel=\"nofollow noreferrer\">docs</a>)</p>\n"}],"owner":{"account_id":257602,"reputation":1294,"user_id":539144,"display_name":"pulse00"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27507,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"accepted_answer_id":38926801,"answer_count":2,"score":28,"last_activity_date":1690445279,"creation_date":1470825899,"question_id":38871201,"body_markdown":"The official aws documentation on [how to send a Textmessage][1] with the aws SDK in java is pretty straightforward.\n\nHowever, when sending a message like shown in the example at the bottom, I&#39;m getting the error `User: arn:aws:iam::xxx:user/sms-testing is not authorized to perform: SNS:Publish on resource: +999999999`\n\nNote that `+999999999` is the phone number passed to the `.withPhoneNumber()` call, so the aws api complains about my IAM user not having the necessary permission to `SNS:Publish` a message to the resource with that phone number.\n\nMy question: How do I create an IAM user which is able to send SMS notifications through the java SDK? Currently, it looks like I would have to create a permission for each number I&#39;m sending messages to, which seems weird and hard to maintain. \n\n  [1]: http://docs.aws.amazon.com/sns/latest/dg/sms_publish-to-phone.html","title":"Authorization when sending a text message using AmazonSNSClient","body":"<p>The official aws documentation on <a href=\"http://docs.aws.amazon.com/sns/latest/dg/sms_publish-to-phone.html\" rel=\"noreferrer\">how to send a Textmessage</a> with the aws SDK in java is pretty straightforward.</p>\n<p>However, when sending a message like shown in the example at the bottom, I'm getting the error <code>User: arn:aws:iam::xxx:user/sms-testing is not authorized to perform: SNS:Publish on resource: +999999999</code></p>\n<p>Note that <code>+999999999</code> is the phone number passed to the <code>.withPhoneNumber()</code> call, so the aws api complains about my IAM user not having the necessary permission to <code>SNS:Publish</code> a message to the resource with that phone number.</p>\n<p>My question: How do I create an IAM user which is able to send SMS notifications through the java SDK? Currently, it looks like I would have to create a permission for each number I'm sending messages to, which seems weird and hard to maintain.</p>\n"},{"tags":["java","spring-boot","prometheus","prometheus-alertmanager"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1690445083,"post_id":76777637,"comment_id":135355591,"body_markdown":"Having your tests depend on logging is a bad idea. Instead, implement some way to check if the error condition is hit. Perhaps a Mockito spy?","body":"Having your tests depend on logging is a bad idea. Instead, implement some way to check if the error condition is hit. Perhaps a Mockito spy?"},{"owner":{"account_id":23102929,"reputation":109,"user_id":17212096,"display_name":"Sachin Mankotia"},"score":0,"creation_date":1690445933,"post_id":76777637,"comment_id":135355769,"body_markdown":"There is a Prometheus metric named &quot;logback_events_total&quot; present which I can use, but it gives data at application level by default. It doesn&#39;t give data at a single level label.  May be sam customization can be done to use it mertic are a single flow level.","body":"There is a Prometheus metric named &quot;logback_events_total&quot; present which I can use, but it gives data at application level by default. It doesn&#39;t give data at a single level label.  May be sam customization can be done to use it mertic are a single flow level."}],"owner":{"account_id":23102929,"reputation":109,"user_id":17212096,"display_name":"Sachin Mankotia"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690444778,"creation_date":1690444778,"question_id":76777637,"body_markdown":"I have a requirement that for a particular API*(which involves multiple classes and methods)*, if it fails due to any condition *(there will be n number of conditions/validations in end to end API)*, I need to capture this in Prometheus. \r\nDuring this validation failure, I cannot fail my API, means API code will keep on working further *(hence http_server_request** metrics wont help)*.\r\n\r\nSo I want to increment some counter which will increase everytime whenever log.error() gets invoked in my full api code. and if that counter value increase beyond a threshold (say 10 value in last 15 mins), I need to create a Prometheus alert.\r\n\r\nIs there a way to achieve it in some generic way?\r\n\r\n","title":"How to capture any slf4j log.error() call in a Rest api using Prometheus metrics","body":"<p>I have a requirement that for a particular API*(which involves multiple classes and methods)<em>, if it fails due to any condition <em>(there will be n number of conditions/validations in end to end API)</em>, I need to capture this in Prometheus.\nDuring this validation failure, I cannot fail my API, means API code will keep on working further <em>(hence http_server_request</em></em> metrics wont help)*.</p>\n<p>So I want to increment some counter which will increase everytime whenever log.error() gets invoked in my full api code. and if that counter value increase beyond a threshold (say 10 value in last 15 mins), I need to create a Prometheus alert.</p>\n<p>Is there a way to achieve it in some generic way?</p>\n"},{"tags":["java","spring","spring-boot","junit5"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1690444614,"post_id":76777569,"comment_id":135355497,"body_markdown":"I notice you have some `static` fields in your class. Are you sure that the problem comes from the profile, and not from reusing old instances?","body":"I notice you have some <code>static</code> fields in your class. Are you sure that the problem comes from the profile, and not from reusing old instances?"},{"owner":{"account_id":8797793,"reputation":29,"user_id":6575136,"display_name":"luanlucas"},"score":0,"creation_date":1690444925,"post_id":76777569,"comment_id":135355559,"body_markdown":"@Jorn that could potentially be the cause, but best would be if I still could reuse them to avoid having to setup everything again, increasing the time it takes to run the test-suite.","body":"@Jorn that could potentially be the cause, but best would be if I still could reuse them to avoid having to setup everything again, increasing the time it takes to run the test-suite."},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1690445014,"post_id":76777569,"comment_id":135355578,"body_markdown":"I&#39;m sure Spring has some way to tell you which profiles are active. It should be easy enough to check using that method in every test(class).","body":"I&#39;m sure Spring has some way to tell you which profiles are active. It should be easy enough to check using that method in every test(class)."},{"owner":{"account_id":8797793,"reputation":29,"user_id":6575136,"display_name":"luanlucas"},"score":0,"creation_date":1690445319,"post_id":76777569,"comment_id":135355643,"body_markdown":"true, it&#39;s easy to check it, however there&#39;s a profile specific behaviour (enabled by other-profile) that will still be enabled for the other tests, when ideally it should not, and I guess it&#39;s not enough to just check the active profiles after the TestContext got created.","body":"true, it&#39;s easy to check it, however there&#39;s a profile specific behaviour (enabled by other-profile) that will still be enabled for the other tests, when ideally it should not, and I guess it&#39;s not enough to just check the active profiles after the TestContext got created."}],"owner":{"account_id":8797793,"reputation":29,"user_id":6575136,"display_name":"luanlucas"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690444234,"creation_date":1690444234,"question_id":76777569,"body_markdown":"I am using spring-boot 2, JUnit 5 and gradle. \r\nI have the following test structure:\r\n\r\n```\r\n@Tag(&quot;integration&quot;)\r\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n@ActiveProfiles(&quot;test&quot;)\r\n@NoArgsConstructor\r\npublic abstract class IntegrationTest {\r\n\r\n    static final PostgreSQLContainer&lt;?&gt; POSTGRESQL = ...\r\n    static final LocalStackContainer LOCALSTACK = ...\r\n\r\n    static {\r\n        POSTGRESQL.start();\r\n        LOCALSTACK.start();\r\n    }\r\n\r\n    @DynamicPropertySource\r\n    public static void setProperties(DynamicPropertyRegistry registry) {\r\n        registry.add( ... );\r\n    }\r\n```\r\n\r\nThe given concrete class:\r\n```\r\n@ActiveProfiles(&quot;other-profile&quot;)\r\n@ExtendWith(OutputCaptureExtension.class)\r\nclass Example extends IntegrationTest {\r\n    \r\n    @Test\r\n    void exampleTest() {\r\n        ...\r\n    }\r\n}\r\n```\r\n\r\nThe tests are running completely fine and are doing what they are supposed to do, however when the test-suite is executed, all tests invoked after this class, which enables the profile `other-profile` will still have the profile enabled. My expectation was that this would happen only for the TestContext used in this class.\r\nIs there any way to activate the profile only for this class and/or prevent that it&#39;s still active for the following tests?\r\nThank you!","title":"Redefine active profiles after spring-boot test","body":"<p>I am using spring-boot 2, JUnit 5 and gradle.\nI have the following test structure:</p>\n<pre><code>@Tag(&quot;integration&quot;)\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\n@ActiveProfiles(&quot;test&quot;)\n@NoArgsConstructor\npublic abstract class IntegrationTest {\n\n    static final PostgreSQLContainer&lt;?&gt; POSTGRESQL = ...\n    static final LocalStackContainer LOCALSTACK = ...\n\n    static {\n        POSTGRESQL.start();\n        LOCALSTACK.start();\n    }\n\n    @DynamicPropertySource\n    public static void setProperties(DynamicPropertyRegistry registry) {\n        registry.add( ... );\n    }\n</code></pre>\n<p>The given concrete class:</p>\n<pre><code>@ActiveProfiles(&quot;other-profile&quot;)\n@ExtendWith(OutputCaptureExtension.class)\nclass Example extends IntegrationTest {\n    \n    @Test\n    void exampleTest() {\n        ...\n    }\n}\n</code></pre>\n<p>The tests are running completely fine and are doing what they are supposed to do, however when the test-suite is executed, all tests invoked after this class, which enables the profile <code>other-profile</code> will still have the profile enabled. My expectation was that this would happen only for the TestContext used in this class.\nIs there any way to activate the profile only for this class and/or prevent that it's still active for the following tests?\nThank you!</p>\n"},{"tags":["java","performance","akka"],"comments":[{"owner":{"account_id":2501651,"reputation":816,"user_id":2176572,"accept_rate":100,"display_name":"bashnesnos"},"score":0,"creation_date":1491827057,"post_id":43315238,"comment_id":73710256,"body_markdown":"If you look for dominators what would they be? I.e. these are the objects holding most of the references. If you can&#39;t look for dominators in your tool check the GC roots of several suspected instances, to see if there is a common root.","body":"If you look for dominators what would they be? I.e. these are the objects holding most of the references. If you can&#39;t look for dominators in your tool check the GC roots of several suspected instances, to see if there is a common root."},{"owner":{"account_id":2770660,"reputation":4602,"user_id":2385324,"accept_rate":87,"display_name":"Diego Martinoia"},"score":0,"creation_date":1491900885,"post_id":43315238,"comment_id":73745380,"body_markdown":"Hashmap node makes me think about cluster referencfes. Are you using clustering or cluster sharding and the supervisors are tracking things post-mortem?","body":"Hashmap node makes me think about cluster referencfes. Are you using clustering or cluster sharding and the supervisors are tracking things post-mortem?"}],"owner":{"account_id":2092848,"reputation":31,"user_id":1862246,"display_name":"user1862246"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1064,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1690444085,"creation_date":1491800189,"question_id":43315238,"body_markdown":"We are using Akka(using JAVA) framework to shoot messages to back end servers .Our application works fine for a duration of 5-6 hours shooting around 1.6 million messages.Then it becomes unresponsive.After analyzing GC logs ,we found JVM was not able to clean up heap memory .We took a heap dump and analyzed it using Eclipse memory analyzer tool .It showed us two possible causes of memory leak as mentioned below ,both are related to AKKA. \r\n\r\n**One instance of &quot;akka.actor.LocalActorRef&quot; occupies 393,842,136 (42.88%) bytes. The memory is accumulated in one instance of &quot;scala.collection.immutable.RedBlackTree$BlackTree&quot; loaded by &quot;sun.misc.Launcher$AppClassLoader** \r\n\r\n**8,774 instances of &quot;akka.actor.RepointableActorRef&quot;, occupy 419,071,456 (45.62%) bytes. These instances are referenced from one instance of &quot;java.util.HashMap$Node**\r\n\r\nWe are killing all actors and their corresponding children once it finishes the work.Also we are overriding the supervise Strategy  and making sure it kills actor when there is any exception.\r\n\r\nAll of it not helping to pile up objects in heap.Is there any specific way to make sure akka system does not leak with actor \r\nWe are killing all actors and their corresponding children once it finishes the work.Also we are overriding the supervise Strategy  and making sure it kills actor when there is any exception.\r\n\r\nAll of it not helping to pile up objects in heap.Is there any specific way to make sure akka system does not leak with actor \r\n  ","title":"Akka Out Of Memory issue","body":"<p>We are using Akka(using JAVA) framework to shoot messages to back end servers .Our application works fine for a duration of 5-6 hours shooting around 1.6 million messages.Then it becomes unresponsive.After analyzing GC logs ,we found JVM was not able to clean up heap memory .We took a heap dump and analyzed it using Eclipse memory analyzer tool .It showed us two possible causes of memory leak as mentioned below ,both are related to AKKA. </p>\n\n<p><strong>One instance of \"akka.actor.LocalActorRef\" occupies 393,842,136 (42.88%) bytes. The memory is accumulated in one instance of \"scala.collection.immutable.RedBlackTree$BlackTree\" loaded by \"sun.misc.Launcher$AppClassLoader</strong> </p>\n\n<p><strong>8,774 instances of \"akka.actor.RepointableActorRef\", occupy 419,071,456 (45.62%) bytes. These instances are referenced from one instance of \"java.util.HashMap$Node</strong></p>\n\n<p>We are killing all actors and their corresponding children once it finishes the work.Also we are overriding the supervise Strategy  and making sure it kills actor when there is any exception.</p>\n\n<p>All of it not helping to pile up objects in heap.Is there any specific way to make sure akka system does not leak with actor \nWe are killing all actors and their corresponding children once it finishes the work.Also we are overriding the supervise Strategy  and making sure it kills actor when there is any exception.</p>\n\n<p>All of it not helping to pile up objects in heap.Is there any specific way to make sure akka system does not leak with actor </p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":7884,"page":284,"page_size":100}
