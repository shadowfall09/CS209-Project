{"items":[{"tags":["java","spring","spring-boot","spring-mvc","request"],"comments":[{"owner":{"account_id":964649,"reputation":458,"user_id":988304,"display_name":"stevestorey"},"score":0,"creation_date":1675953425,"post_id":75389744,"comment_id":133041826,"body_markdown":"Probably helpful to show the declaration (including any annotations) of the MessageHandler.getAllMessages method.","body":"Probably helpful to show the declaration (including any annotations) of the MessageHandler.getAllMessages method."}],"owner":{"account_id":11945090,"reputation":5,"user_id":8740579,"display_name":"sambhav jain"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675878121,"creation_date":1675878121,"question_id":75389744,"body_markdown":"I am trying to write a JAR, in which I have written some request mappings and add it via RequestMappingHandlerMappings.\r\n\r\nWhenever I am using this JAR in any service, I am able to get the api in swagger, but when I am executing the same API using swagger, the API executes completely but in the end throws me 404. Can someone please help me out here?\r\nHere is my code snippet:- \r\n\r\n      public void setHandlerMapping(RequestMappingHandlerMapping mapping, MessageHandler handler)\r\n      throws NoSuchMethodException {\r\n\r\n    RequestMappingInfo info =\r\n        RequestMappingInfo.paths(&quot;/v1/getMessages&quot;).methods(RequestMethod.GET).build();\r\n\r\n    Method method = MessageHandler.class.getMethod(&quot;getAllMessages&quot;);\r\n\r\n    mapping.registerMapping(info, handler, method);}\r\n\r\nUsing this I was able to register this in spring handler, but getting 404 on hitting the swagger api. Although the handler inside is getting hit and executed everytime I am trying to execute this API","title":"Spring Java:- Getting 404 on response even after method execution has been done","body":"<p>I am trying to write a JAR, in which I have written some request mappings and add it via RequestMappingHandlerMappings.</p>\n<p>Whenever I am using this JAR in any service, I am able to get the api in swagger, but when I am executing the same API using swagger, the API executes completely but in the end throws me 404. Can someone please help me out here?\nHere is my code snippet:-</p>\n<pre><code>  public void setHandlerMapping(RequestMappingHandlerMapping mapping, MessageHandler handler)\n  throws NoSuchMethodException {\n\nRequestMappingInfo info =\n    RequestMappingInfo.paths(&quot;/v1/getMessages&quot;).methods(RequestMethod.GET).build();\n\nMethod method = MessageHandler.class.getMethod(&quot;getAllMessages&quot;);\n\nmapping.registerMapping(info, handler, method);}\n</code></pre>\n<p>Using this I was able to register this in spring handler, but getting 404 on hitting the swagger api. Although the handler inside is getting hit and executed everytime I am trying to execute this API</p>\n"},{"tags":["java","spring","spring-3"],"comments":[{"owner":{"account_id":27097454,"reputation":797,"user_id":20644506,"display_name":"Peng"},"score":0,"creation_date":1676513944,"post_id":75389734,"comment_id":133153861,"body_markdown":"you can see this article [@RestContollerAdvice not throwing custom exception](https://stackoverflow.com/questions/75430351/restcontolleradvice-not-throwing-custom-exception/75431515#75431515)","body":"you can see this article <a href=\"https://stackoverflow.com/questions/75430351/restcontolleradvice-not-throwing-custom-exception/75431515#75431515\">@RestContollerAdvice not throwing custom exception</a>"}],"owner":{"account_id":26669791,"reputation":41,"user_id":20281373,"display_name":"Reid2"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":228,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675878064,"creation_date":1675878064,"question_id":75389734,"body_markdown":"I&#39;m throwing response status exceptions in my codebase that look like this: \r\n```java\r\nthrow new ResponseStatusException(HttpStatus.NOT_FOUND, &quot;Resource not found!&quot;);\r\nthrow new ResponseStatusException(HttpStatus.BAD_REQUEST, &quot;Bad request!&quot;);\r\n```\r\n\r\nBut, it generates this default spring json error: \r\n```json\r\n{\r\n\t&quot;type&quot;: &quot;about:blank&quot;,\r\n\t&quot;title&quot;: &quot;Not Found&quot;,\r\n\t&quot;status&quot;: 404,\r\n\t&quot;detail&quot;: &quot;Resource not found&quot;,\r\n\t&quot;instance&quot;: &quot;/api/graphql&quot;,\r\n\t&quot;properties&quot;: null\r\n}\r\n```\r\n\r\nI&#39;d like to create my own exception handler because I don&#39;t want to show the fields: type, instance &amp; properties.\r\n\r\nI&#39;ve tried creating my own exception handler for the `ResponseStatusException.class` here: \r\n```java\r\n@ControllerAdvice\r\npublic class ResponseStatusHandler extends ResponseStatusExceptionHandler {\r\n\r\n    @Autowired\r\n    private ObjectMapper objectMapper;\r\n\r\n    @ExceptionHandler({ResponseStatusException.class})\r\n    public ResponseEntity&lt;Object&gt; handle(ResponseStatusException e) {\r\n        ObjectNode node = objectMapper.createObjectNode()\r\n                .put(&quot;code&quot;, e.getStatusCode().value())\r\n                .put(&quot;message&quot;, e.getMessage());\r\n\r\n        return ResponseEntity.status(e.getStatusCode())\r\n                .contentType(MediaType.APPLICATION_JSON)\r\n                .body(node);\r\n    }\r\n}\r\n```\r\n\r\nBut, it never seems to get invoked and only the default spring response is returned. Is it possible to add a custom exception handler for ResponseStatusException? \r\n\r\n\r\n\r\n\r\n","title":"Can I create a custom exception handler for ResponseStatusException?","body":"<p>I'm throwing response status exceptions in my codebase that look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>throw new ResponseStatusException(HttpStatus.NOT_FOUND, &quot;Resource not found!&quot;);\nthrow new ResponseStatusException(HttpStatus.BAD_REQUEST, &quot;Bad request!&quot;);\n</code></pre>\n<p>But, it generates this default spring json error:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;type&quot;: &quot;about:blank&quot;,\n    &quot;title&quot;: &quot;Not Found&quot;,\n    &quot;status&quot;: 404,\n    &quot;detail&quot;: &quot;Resource not found&quot;,\n    &quot;instance&quot;: &quot;/api/graphql&quot;,\n    &quot;properties&quot;: null\n}\n</code></pre>\n<p>I'd like to create my own exception handler because I don't want to show the fields: type, instance &amp; properties.</p>\n<p>I've tried creating my own exception handler for the <code>ResponseStatusException.class</code> here:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ControllerAdvice\npublic class ResponseStatusHandler extends ResponseStatusExceptionHandler {\n\n    @Autowired\n    private ObjectMapper objectMapper;\n\n    @ExceptionHandler({ResponseStatusException.class})\n    public ResponseEntity&lt;Object&gt; handle(ResponseStatusException e) {\n        ObjectNode node = objectMapper.createObjectNode()\n                .put(&quot;code&quot;, e.getStatusCode().value())\n                .put(&quot;message&quot;, e.getMessage());\n\n        return ResponseEntity.status(e.getStatusCode())\n                .contentType(MediaType.APPLICATION_JSON)\n                .body(node);\n    }\n}\n</code></pre>\n<p>But, it never seems to get invoked and only the default spring response is returned. Is it possible to add a custom exception handler for ResponseStatusException?</p>\n"},{"tags":["java","spring","spring-boot","jpa","h2"],"comments":[{"owner":{"account_id":19198927,"reputation":304,"user_id":14027230,"display_name":"meridbt"},"score":0,"creation_date":1675882798,"post_id":75389118,"comment_id":133025761,"body_markdown":"Try to change your id field type from primitive int to Integer and add Lomboks @NoArgsConstructor at the class level. Also you could try delete the H2 file and re-create it","body":"Try to change your id field type from primitive int to Integer and add Lomboks @NoArgsConstructor at the class level. Also you could try delete the H2 file and re-create it"},{"owner":{"account_id":3806515,"reputation":365,"user_id":3158790,"accept_rate":50,"display_name":"jpappe"},"score":0,"creation_date":1675934411,"post_id":75389118,"comment_id":133035642,"body_markdown":"Changing to Integer seems to have done the trick, though I have no idea why. The logs still show that the resulting SQL is trying to set the &quot;id&quot; column to NULL, but now it doesn&#39;t throw an error. This is not a change due to deleting the h2 file because I&#39;ve been doing that every time I&#39;ve been making a change just to make sure it wasn&#39;t some old schema hanging around causing a problem.","body":"Changing to Integer seems to have done the trick, though I have no idea why. The logs still show that the resulting SQL is trying to set the &quot;id&quot; column to NULL, but now it doesn&#39;t throw an error. This is not a change due to deleting the h2 file because I&#39;ve been doing that every time I&#39;ve been making a change just to make sure it wasn&#39;t some old schema hanging around causing a problem."},{"owner":{"account_id":3806515,"reputation":365,"user_id":3158790,"accept_rate":50,"display_name":"jpappe"},"score":0,"creation_date":1675934649,"post_id":75389118,"comment_id":133035718,"body_markdown":"@meridbt if you put your comment as an answer I will accept it","body":"@meridbt if you put your comment as an answer I will accept it"}],"owner":{"account_id":3806515,"reputation":365,"user_id":3158790,"accept_rate":50,"display_name":"jpappe"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":972,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675877589,"creation_date":1675875176,"question_id":75389118,"body_markdown":"I&#39;m trying to follow an example project in _Spring Security in Action_ but use H2 rather than MySQL and I&#39;m struggling to find the right combination of configurations to allow things to work properly.\r\n\r\nMy simple entity, which is just a simple object with a primary key. I the &quot;id&quot; column to behave like an auto-incremented primary key in that the DB should generate it rather than the application.\r\n``` lang-java\r\n@Entity\r\n@Getter\r\n@Setter\r\npublic class Workout {\r\n    \r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private int id;\r\n    private String user;\r\n    private LocalDateTime start;\r\n    private LocalDateTime end;\r\n    private int difficulty;\r\n}\r\n```\r\n\r\nMy repository (nothing special):\r\n``` lang-java\r\n@Repository\r\npublic interface WorkoutRepository extends JpaRepository&lt;Workout, Integer&gt; {\r\n}\r\n```\r\n\r\nRelevant parts of the controller, which just receives a Workout object with no id specified and saves it to the DB:\r\n``` lang-java\r\n@RestController\r\n@RequestMapping(&quot;/workout&quot;)\r\npublic class WorkoutController {\r\n    \r\n    private final WorkoutRepository workoutRepository;\r\n\r\n    public WorkoutController(WorkoutRepository  workoutRepository) {\r\n        this.workoutRepository= workoutRepository;\r\n    }\r\n    \r\n    @PostMapping(&quot;/&quot;)\r\n    public Workout add(@RequestBody Workout workout) {\r\n        return workoutRepository.save(workout);\r\n    }\r\n    \r\n}\r\n```\r\n\r\nAnd my `application.properties`:\r\n```\r\nspring.datasource.url=jdbc:h2:file:~/fitnessapp;AUTO_SERVER=TRUE;\r\nspring.datasource.driverClassName=org.h2.Driver\r\nspring.datasource.username=sa\r\nspring.datasource.password=password\r\nspring.jpa.show-sql=true\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.H2Dialect\r\n# using this because I have a column called &quot;user&quot; which is a reserved word\r\nspring.jpa.properties.hibernate.globally_quoted_identifiers=true\r\nspring.jpa.hibernate.ddl-auto=update\r\n```\r\n\r\nWhen I run this, the application starts up and I can check the H2 console and see that the table was created correctly. But when I submit a request to save a new entity I get an internal server error.\r\n\r\nLogs show that the resulting SQL tries to set the &quot;id&quot; column to NULL, which causes an SQL error:\r\n```\r\nHibernate: insert into &quot;workout&quot; (&quot;id&quot;, &quot;difficulty&quot;, &quot;end&quot;, &quot;start&quot;, &quot;user&quot;) values (null, ?, ?, ?, ?)\r\n2023-02-08 16:04:48.427  WARN 22656 --- [nio-8081-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 23502, SQLState: 23502\r\n2023-02-08 16:04:48.427 ERROR 22656 --- [nio-8081-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : NULL not allowed for column &quot;id&quot;; SQL statement:\r\ninsert into &quot;workout&quot; (&quot;id&quot;, &quot;difficulty&quot;, &quot;end&quot;, &quot;start&quot;, &quot;user&quot;) values (null, ?, ?, ?, ?) [23502-200]\r\n```\r\n\r\nSo even though JPA is defining the schema for the entity, it doesn&#39;t seem to know how to insert rows into the table.\r\n\r\nI&#39;ve tried many different combinations of `GenerationType` strategy, creating the table schema myself with a `schema.sql` file (though I&#39;d rather not resort to this as JPA should be able to do it for me), and various hibernate properties. Nothing seems to work.\r\n\r\nVersions:\r\n   * Spring Boot parent: 2.3.0.RELEASE\r\n   * Spring Data JPA: 2.3.0.RELEASE\r\n   * H2: 1.4.200","title":"Spring Boot with JPA and H2 with auto increment id column: NULL not allowed for column","body":"<p>I'm trying to follow an example project in <em>Spring Security in Action</em> but use H2 rather than MySQL and I'm struggling to find the right combination of configurations to allow things to work properly.</p>\n<p>My simple entity, which is just a simple object with a primary key. I the &quot;id&quot; column to behave like an auto-incremented primary key in that the DB should generate it rather than the application.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Getter\n@Setter\npublic class Workout {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n    private String user;\n    private LocalDateTime start;\n    private LocalDateTime end;\n    private int difficulty;\n}\n</code></pre>\n<p>My repository (nothing special):</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic interface WorkoutRepository extends JpaRepository&lt;Workout, Integer&gt; {\n}\n</code></pre>\n<p>Relevant parts of the controller, which just receives a Workout object with no id specified and saves it to the DB:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(&quot;/workout&quot;)\npublic class WorkoutController {\n    \n    private final WorkoutRepository workoutRepository;\n\n    public WorkoutController(WorkoutRepository  workoutRepository) {\n        this.workoutRepository= workoutRepository;\n    }\n    \n    @PostMapping(&quot;/&quot;)\n    public Workout add(@RequestBody Workout workout) {\n        return workoutRepository.save(workout);\n    }\n    \n}\n</code></pre>\n<p>And my <code>application.properties</code>:</p>\n<pre><code>spring.datasource.url=jdbc:h2:file:~/fitnessapp;AUTO_SERVER=TRUE;\nspring.datasource.driverClassName=org.h2.Driver\nspring.datasource.username=sa\nspring.datasource.password=password\nspring.jpa.show-sql=true\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.H2Dialect\n# using this because I have a column called &quot;user&quot; which is a reserved word\nspring.jpa.properties.hibernate.globally_quoted_identifiers=true\nspring.jpa.hibernate.ddl-auto=update\n</code></pre>\n<p>When I run this, the application starts up and I can check the H2 console and see that the table was created correctly. But when I submit a request to save a new entity I get an internal server error.</p>\n<p>Logs show that the resulting SQL tries to set the &quot;id&quot; column to NULL, which causes an SQL error:</p>\n<pre><code>Hibernate: insert into &quot;workout&quot; (&quot;id&quot;, &quot;difficulty&quot;, &quot;end&quot;, &quot;start&quot;, &quot;user&quot;) values (null, ?, ?, ?, ?)\n2023-02-08 16:04:48.427  WARN 22656 --- [nio-8081-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 23502, SQLState: 23502\n2023-02-08 16:04:48.427 ERROR 22656 --- [nio-8081-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : NULL not allowed for column &quot;id&quot;; SQL statement:\ninsert into &quot;workout&quot; (&quot;id&quot;, &quot;difficulty&quot;, &quot;end&quot;, &quot;start&quot;, &quot;user&quot;) values (null, ?, ?, ?, ?) [23502-200]\n</code></pre>\n<p>So even though JPA is defining the schema for the entity, it doesn't seem to know how to insert rows into the table.</p>\n<p>I've tried many different combinations of <code>GenerationType</code> strategy, creating the table schema myself with a <code>schema.sql</code> file (though I'd rather not resort to this as JPA should be able to do it for me), and various hibernate properties. Nothing seems to work.</p>\n<p>Versions:</p>\n<ul>\n<li>Spring Boot parent: 2.3.0.RELEASE</li>\n<li>Spring Data JPA: 2.3.0.RELEASE</li>\n<li>H2: 1.4.200</li>\n</ul>\n"},{"tags":["java","arrays","list","arraylist","indexing"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1675874673,"post_id":75388979,"comment_id":133023173,"body_markdown":"Shouldn&#39;t `System.out.println(src + &quot; is at index &quot; + ind);` only happen *if* (hint hint) you find the number? That is only *if* `src == num`? (hint hint)","body":"Shouldn&#39;t <code>System.out.println(src + &quot; is at index &quot; + ind);</code> only happen <i>if</i> (hint hint) you find the number? That is only <i>if</i> <code>src == num</code>? (hint hint)"},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1675874866,"post_id":75388979,"comment_id":133023232,"body_markdown":"You also really don&#39;t need to declare an extra `int ind = 0;` variable for the index in the loop. You are using a simple for loop that already uses a counter variable that represents the current index you are checking `int i =0`.","body":"You also really don&#39;t need to declare an extra <code>int ind = 0;</code> variable for the index in the loop. You are using a simple for loop that already uses a counter variable that represents the current index you are checking <code>int i =0</code>."},{"owner":{"account_id":27240000,"reputation":35,"user_id":20766340,"display_name":"Amin Mousavi"},"score":0,"creation_date":1675875167,"post_id":75388979,"comment_id":133023338,"body_markdown":"@FedericoklezCulloca you are right, it must happen. But I want to output all indexes which exist in the list (let&#39;s say in the list there are 2 same numbers).","body":"@FedericoklezCulloca you are right, it must happen. But I want to output all indexes which exist in the list (let&#39;s say in the list there are 2 same numbers)."},{"owner":{"account_id":194308,"reputation":66745,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"score":0,"creation_date":1675875268,"post_id":75388979,"comment_id":133023378,"body_markdown":"Reading your code superficially it seems to make sense. Can you provide an input where the output will be wrong and explain what should have happened instead?","body":"Reading your code superficially it seems to make sense. Can you provide an input where the output will be wrong and explain what should have happened instead?"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1675875337,"post_id":75388979,"comment_id":133023404,"body_markdown":"@AminMousavi yes, and you should print it only when you find it, not at every iteration. That&#39;s what I mean.","body":"@AminMousavi yes, and you should print it only when you find it, not at every iteration. That&#39;s what I mean."},{"owner":{"account_id":27240000,"reputation":35,"user_id":20766340,"display_name":"Amin Mousavi"},"score":0,"creation_date":1675875868,"post_id":75388979,"comment_id":133023567,"body_markdown":"@LajosArpad sure.\n\nInput:\n1\n2\n3\n3\n4\n-1\nSearch for? \n3\n\n\n\nOutput:\n3 is at index 0\n3 is at index 0 \n3 is at index 2 \n3 is at index 2 \n3 is at index 2\n\n///So it must be only one sentence for each index. Even if I put after &quot;for&quot; loop, it only output the first if index.","body":"@LajosArpad sure.  Input: 1 2 3 3 4 -1 Search for?  3    Output: 3 is at index 0 3 is at index 0  3 is at index 2  3 is at index 2  3 is at index 2  ///So it must be only one sentence for each index. Even if I put after &quot;for&quot; loop, it only output the first if index."},{"owner":{"account_id":194308,"reputation":66745,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"score":0,"creation_date":1675877325,"post_id":75388979,"comment_id":133024089,"body_markdown":"`System.out.println` is after your `if`, causing false positives for all elements of your collection. You need to move it inside the `if`.","body":"<code>System.out.println</code> is after your <code>if</code>, causing false positives for all elements of your collection. You need to move it inside the <code>if</code>."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1675877391,"post_id":75388979,"comment_id":133024117,"body_markdown":"@LajosArpad also `ind = list.indexOf(src);` besides being wrong (because `indexOf` will always return the index of the first instance) you don&#39;t need this. Just print `i`.","body":"@LajosArpad also <code>ind = list.indexOf(src);</code> besides being wrong (because <code>indexOf</code> will always return the index of the first instance) you don&#39;t need this. Just print <code>i</code>."},{"owner":{"account_id":27240000,"reputation":35,"user_id":20766340,"display_name":"Amin Mousavi"},"score":0,"creation_date":1675878205,"post_id":75388979,"comment_id":133024439,"body_markdown":"@FedericoklezCulloca it has worked. I did changed it, appreciated.","body":"@FedericoklezCulloca it has worked. I did changed it, appreciated."}],"answers":[{"comments":[{"owner":{"account_id":27240000,"reputation":35,"user_id":20766340,"display_name":"Amin Mousavi"},"score":0,"creation_date":1675876623,"post_id":75389201,"comment_id":133023823,"body_markdown":"It is correct but it is looping the index sentence. It is making the program not work properly. Do you suggest anything for it?","body":"It is correct but it is looping the index sentence. It is making the program not work properly. Do you suggest anything for it?"},{"owner":{"account_id":194308,"reputation":66745,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"score":0,"creation_date":1675877195,"post_id":75389201,"comment_id":133024043,"body_markdown":"@AminMousavi I see you have answered my question in the comment section of your question. I will look into it and return to this comment.","body":"@AminMousavi I see you have answered my question in the comment section of your question. I will look into it and return to this comment."},{"owner":{"account_id":194308,"reputation":66745,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"score":0,"creation_date":1675877393,"post_id":75389201,"comment_id":133024118,"body_markdown":"@AminMousavi Can you provide an input and an output for the code changed based on the suggestion in this answer and explain how is it wrong? Here, for your input I would expect index 2 and 3 to be shown as matches. Can you test this?","body":"@AminMousavi Can you provide an input and an output for the code changed based on the suggestion in this answer and explain how is it wrong? Here, for your input I would expect index 2 and 3 to be shown as matches. Can you test this?"},{"owner":{"account_id":194308,"reputation":66745,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"score":0,"creation_date":1675877514,"post_id":75389201,"comment_id":133024177,"body_markdown":"@AminMousavi edited my answer since then, fixing a problem that messed up the indexes, which I was taking from your original question and forgot to fix it.","body":"@AminMousavi edited my answer since then, fixing a problem that messed up the indexes, which I was taking from your original question and forgot to fix it."},{"owner":{"account_id":27240000,"reputation":35,"user_id":20766340,"display_name":"Amin Mousavi"},"score":0,"creation_date":1675878182,"post_id":75389201,"comment_id":133024432,"body_markdown":"thank you. Now, it is working without any issues.","body":"thank you. Now, it is working without any issues."},{"owner":{"account_id":194308,"reputation":66745,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"score":0,"creation_date":1675878230,"post_id":75389201,"comment_id":133024445,"body_markdown":"@AminMousavi happy to help. If my answer helped you solve your problem, then you might consider accepting it as the correct answer.","body":"@AminMousavi happy to help. If my answer helped you solve your problem, then you might consider accepting it as the correct answer."},{"owner":{"account_id":27240000,"reputation":35,"user_id":20766340,"display_name":"Amin Mousavi"},"score":1,"creation_date":1675959839,"post_id":75389201,"comment_id":133044256,"body_markdown":"is done already.","body":"is done already."}],"tags":[],"owner":{"account_id":194308,"reputation":66745,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"comment_count":7,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675877474,"creation_date":1675875666,"answer_id":75389201,"question_id":75388979,"body_markdown":"I can see a single problem in your code, that is, you print everything, not only the matches. To solve that you need to put your `System.out.println` into the `if`, like this:\r\n\r\n```\r\n        for(int i=0; i&lt;list.size(); i++){\r\n            int num = list.get(i);\r\n            if(src == num){\r\n                ind = i;\r\n                System.out.println(src + &quot; is at index &quot; + ind);\r\n            }\r\n        }\r\n```\r\n\r\nLet me know if anything else was wrong.","title":"Index of number(s) in list in JAVA","body":"<p>I can see a single problem in your code, that is, you print everything, not only the matches. To solve that you need to put your <code>System.out.println</code> into the <code>if</code>, like this:</p>\n<pre><code>        for(int i=0; i&lt;list.size(); i++){\n            int num = list.get(i);\n            if(src == num){\n                ind = i;\n                System.out.println(src + &quot; is at index &quot; + ind);\n            }\n        }\n</code></pre>\n<p>Let me know if anything else was wrong.</p>\n"}],"owner":{"account_id":27240000,"reputation":35,"user_id":20766340,"display_name":"Amin Mousavi"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75389201,"answer_count":1,"score":0,"last_activity_date":1675877474,"creation_date":1675874558,"question_id":75388979,"body_markdown":"I need to have a program that asks the user for a number, and reports that number&#39;s index in the list. If the number is not found, the program should not print anything.\r\n\r\n**Example:**\r\n\r\n    Sample Output:\r\n    1\r\n    2\r\n    3\r\n    3\r\n    4\r\n    Search for? 3\r\n    3 is at index 2\r\n    3 is at index 3\r\n\r\nThis is what I have written but the put is looping multiple times. Can you suggest fixing it?\r\n\r\n```\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Scanner;\r\n\r\npublic class IndexOf {\r\n\r\n    public static void main(String[] args) {\r\n        Scanner scanner = new Scanner(System.in);\r\n\r\n        ArrayList&lt;Integer&gt; list = new ArrayList&lt;&gt;();\r\n        while (true) {\r\n            int input = Integer.valueOf(scanner.nextLine());\r\n            if (input == -1) {\r\n                break;\r\n            }\r\n\r\n            list.add(input);\r\n        }\r\n\r\n        System.out.println(&quot;Search for? &quot;);\r\n        int src = scanner.nextInt();\r\n        int ind = 0;\r\n\r\n        for(int i=0; i&lt;list.size(); i++){\r\n            int num = list.get(i);\r\n            if(src == num){\r\n                ind = list.indexOf(src);\r\n            }\r\n            System.out.println(src + &quot; is at index &quot; + ind);\r\n        }\r\n\r\n    }\r\n}\r\n\r\n```\r\n\r\nEDIT\r\n\r\n &gt; Input: 1 2 3 3 4 -1 \r\n &gt;\r\n &gt; Search for? 3 Output: 3 is at index 0 3 is at index 0 3 is at index 2 3 is at index 2 3 is at index 2 ///So it must be only one sentence for each index. Even if I put after &quot;for&quot; loop, it only output the first if index.","title":"Index of number(s) in list in JAVA","body":"<p>I need to have a program that asks the user for a number, and reports that number's index in the list. If the number is not found, the program should not print anything.</p>\n<p><strong>Example:</strong></p>\n<pre><code>Sample Output:\n1\n2\n3\n3\n4\nSearch for? 3\n3 is at index 2\n3 is at index 3\n</code></pre>\n<p>This is what I have written but the put is looping multiple times. Can you suggest fixing it?</p>\n<pre><code>\nimport java.util.ArrayList;\nimport java.util.Scanner;\n\npublic class IndexOf {\n\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n\n        ArrayList&lt;Integer&gt; list = new ArrayList&lt;&gt;();\n        while (true) {\n            int input = Integer.valueOf(scanner.nextLine());\n            if (input == -1) {\n                break;\n            }\n\n            list.add(input);\n        }\n\n        System.out.println(&quot;Search for? &quot;);\n        int src = scanner.nextInt();\n        int ind = 0;\n\n        for(int i=0; i&lt;list.size(); i++){\n            int num = list.get(i);\n            if(src == num){\n                ind = list.indexOf(src);\n            }\n            System.out.println(src + &quot; is at index &quot; + ind);\n        }\n\n    }\n}\n\n</code></pre>\n<p>EDIT</p>\n<blockquote>\n<p>Input: 1 2 3 3 4 -1</p>\n<p>Search for? 3 Output: 3 is at index 0 3 is at index 0 3 is at index 2 3 is at index 2 3 is at index 2 ///So it must be only one sentence for each index. Even if I put after &quot;for&quot; loop, it only output the first if index.</p>\n</blockquote>\n"},{"tags":["java","visual-studio-code"],"comments":[{"owner":{"account_id":15396644,"reputation":25775,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1675876444,"post_id":75388355,"comment_id":133023773,"body_markdown":"What relevant extensions do you have enabled?","body":"What relevant extensions do you have enabled?"}],"answers":[{"comments":[{"owner":{"account_id":15396644,"reputation":25775,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1675876512,"post_id":75389138,"comment_id":133023791,"body_markdown":"_What_ extension? Give the id of the extension and ideally a link to its page on the Visual Studio Marketplace. _How_ was it causing them? Is it changeable by a setting? Is it only triggered by a certain action like using a snippet?","body":"<i>What</i> extension? Give the id of the extension and ideally a link to its page on the Visual Studio Marketplace. <i>How</i> was it causing them? Is it changeable by a setting? Is it only triggered by a certain action like using a snippet?"},{"owner":{"account_id":15396644,"reputation":25775,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1675876768,"post_id":75389138,"comment_id":133023881,"body_markdown":"much better. You should hold yourself to at _least_ this standard of quality when writing answers in the future.","body":"much better. You should hold yourself to at <i>least</i> this standard of quality when writing answers in the future."}],"tags":[],"owner":{"account_id":10844586,"reputation":876,"user_id":7974603,"accept_rate":80,"display_name":"Amer Bearat"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675876687,"creation_date":1675875289,"answer_id":75389138,"question_id":75388355,"body_markdown":"Salesforce Documenter VScode extension was causing the comments.\r\nhttps://marketplace.visualstudio.com/items?itemName=HugoOM.sfdx-autoheader\r\n\r\nfixed by disabling SFDoc.EnableForApex extension settings","title":"how to stop auto generate class comments vscode","body":"<p>Salesforce Documenter VScode extension was causing the comments.\n<a href=\"https://marketplace.visualstudio.com/items?itemName=HugoOM.sfdx-autoheader\" rel=\"nofollow noreferrer\">https://marketplace.visualstudio.com/items?itemName=HugoOM.sfdx-autoheader</a></p>\n<p>fixed by disabling SFDoc.EnableForApex extension settings</p>\n"}],"owner":{"account_id":10844586,"reputation":876,"user_id":7974603,"accept_rate":80,"display_name":"Amer Bearat"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75389138,"answer_count":1,"score":-1,"last_activity_date":1675876687,"creation_date":1675871562,"question_id":75388355,"body_markdown":"I remember there was a setting in VScode to stop these comments from generating.\r\n```\r\n/**\r\n * @description       : \r\n * @author            : username\r\n * @group             : \r\n * @last modified on  : 02-08-2023\r\n * @last modified by  : username\r\n**/\r\n```\r\n[![enter image description here][1]][1]\r\n\r\nI tired to diable Current Line Blame but it did not work for me.\r\n\r\n  [1]: https://i.stack.imgur.com/1tzEg.png","title":"how to stop auto generate class comments vscode","body":"<p>I remember there was a setting in VScode to stop these comments from generating.</p>\n<pre><code>/**\n * @description       : \n * @author            : username\n * @group             : \n * @last modified on  : 02-08-2023\n * @last modified by  : username\n**/\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/1tzEg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1tzEg.png\" alt=\"enter image description here\" /></a></p>\n<p>I tired to diable Current Line Blame but it did not work for me.</p>\n"},{"tags":["java","unicode","unicode-normalization"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1675784764,"post_id":75375202,"comment_id":133001134,"body_markdown":"So you want the character ``? Your Question is not clear; I suggest editing for clarity.","body":"So you want the character <code></code>? Your Question is not clear; I suggest editing for clarity."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1675785123,"post_id":75375202,"comment_id":133001289,"body_markdown":"JavaFX seems irrelevant here. If so, delete mentions and tag.  If not, explain.","body":"JavaFX seems irrelevant here. If so, delete mentions and tag.  If not, explain."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1675790194,"post_id":75375202,"comment_id":133002993,"body_markdown":"Please see the answers to question [Creating Unicode character from its number](https://stackoverflow.com/q/5585919/2985643). Do none of the answers there offer a solution to your problem?","body":"Please see the answers to question <a href=\"https://stackoverflow.com/q/5585919/2985643\">Creating Unicode character from its number</a>. Do none of the answers there offer a solution to your problem?"},{"owner":{"account_id":27726521,"reputation":1,"user_id":21165947,"display_name":"Marco Defina"},"score":0,"creation_date":1675876773,"post_id":75375202,"comment_id":133023884,"body_markdown":"Thank you @skomisa. I didn’t find that answer!","body":"Thank you @skomisa. I didn’t find that answer!"}],"answers":[{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1675784156,"post_id":75375309,"comment_id":133000927,"body_markdown":"This code fails with most characters. For example, the FACE WITH MEDICAL MASK emoji character, U+1F637, &#128567;. See failure [at Ideone.com](https://ideone.com/pth4UU).","body":"This code fails with most characters. For example, the FACE WITH MEDICAL MASK emoji character, U+1F637, 😷. See failure <a href=\"https://ideone.com/pth4UU\" rel=\"nofollow noreferrer\">at Ideone.com</a>."}],"tags":[],"owner":{"account_id":27726521,"reputation":1,"user_id":21165947,"display_name":"Marco Defina"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675784304,"creation_date":1675782723,"answer_id":75375309,"question_id":75375202,"body_markdown":"I posted the question after a lot of trying and searching.\r\nShortly after posting I found a more trivial solution than I expected:\r\n\r\nThe converted string is:\r\n\r\n    String converted = String.valueOf((char) Integer.parseInt(unicodeString,16));\r\n\r\nwhere &quot;unicodeString&quot; is the string I read from the file.","title":"JavaFX string to unicode entity conversion","body":"<p>I posted the question after a lot of trying and searching.\nShortly after posting I found a more trivial solution than I expected:</p>\n<p>The converted string is:</p>\n<pre><code>String converted = String.valueOf((char) Integer.parseInt(unicodeString,16));\n</code></pre>\n<p>where &quot;unicodeString&quot; is the string I read from the file.</p>\n"},{"comments":[{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1675790279,"post_id":75375418,"comment_id":133003013,"body_markdown":"Why answer this question when it is an obvious duplicate of [Creating Unicode character from its number](https://stackoverflow.com/q/5585919/2985643)?","body":"Why answer this question when it is an obvious duplicate of <a href=\"https://stackoverflow.com/q/5585919/2985643\">Creating Unicode character from its number</a>?"}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1675784255,"creation_date":1675783198,"answer_id":75375418,"question_id":75375202,"body_markdown":"# tl;dr\r\n\r\n    Character.toString( Integer.parseInt( &quot;e13a&quot; , 16 ) ) \r\n\r\nSee this code run [at Ideone.com][1]. \r\n\r\n&gt;\r\n\r\n# Code point\r\n\r\nParse your input string as a [hexadecimal][2] number, base 16. Convert to a decimal number, base 10. \r\n\r\nThat number represents a [code point][3], the number permanently assigned to each of the over 144,000 characters defined in Unicode. Code points range from zero to just over one million, with most of that range unassigned. \r\n\r\n    String input = &quot;e13a&quot; ; \r\n    int codePoint = Integer.parseInt( input , 16 ) ;\r\n\r\nInstantiate a `String` object whose content is the character identified by that code point. \r\n\r\n    String output = Character.toString( codePoint ) ;\r\n\r\n&gt; \r\n\r\n# Avoid `char`\r\n\r\nThe `char` type has been essentially broken since Java 2, and legacy since Java 5. As a 16-bit value, `char` is physically incapable of representing most characters. \r\n\r\nTo work with individual characters, use code point integers as seen above. \r\n\r\n\r\n  [1]: https://ideone.com/Fu7Jfl\r\n  [2]: https://en.m.wikipedia.org/wiki/Hexadecimal\r\n  [3]: https://en.m.wikipedia.org/wiki/Code_point","title":"JavaFX string to unicode entity conversion","body":"<h1>tl;dr</h1>\n<pre><code>Character.toString( Integer.parseInt( &quot;e13a&quot; , 16 ) ) \n</code></pre>\n<p>See this code run <a href=\"https://ideone.com/Fu7Jfl\" rel=\"nofollow noreferrer\">at Ideone.com</a>.</p>\n<blockquote>\n<p></p>\n</blockquote>\n<h1>Code point</h1>\n<p>Parse your input string as a <a href=\"https://en.m.wikipedia.org/wiki/Hexadecimal\" rel=\"nofollow noreferrer\">hexadecimal</a> number, base 16. Convert to a decimal number, base 10.</p>\n<p>That number represents a <a href=\"https://en.m.wikipedia.org/wiki/Code_point\" rel=\"nofollow noreferrer\">code point</a>, the number permanently assigned to each of the over 144,000 characters defined in Unicode. Code points range from zero to just over one million, with most of that range unassigned.</p>\n<pre><code>String input = &quot;e13a&quot; ; \nint codePoint = Integer.parseInt( input , 16 ) ;\n</code></pre>\n<p>Instantiate a <code>String</code> object whose content is the character identified by that code point.</p>\n<pre><code>String output = Character.toString( codePoint ) ;\n</code></pre>\n<blockquote>\n<p></p>\n</blockquote>\n<h1>Avoid <code>char</code></h1>\n<p>The <code>char</code> type has been essentially broken since Java 2, and legacy since Java 5. As a 16-bit value, <code>char</code> is physically incapable of representing most characters.</p>\n<p>To work with individual characters, use code point integers as seen above.</p>\n"}],"owner":{"account_id":27726521,"reputation":1,"user_id":21165947,"display_name":"Marco Defina"},"comment_count":4,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1675794062,"answer_count":2,"score":0,"last_activity_date":1675876576,"creation_date":1675782214,"question_id":75375202,"body_markdown":"I have to read a string from a file and display the corresponding unicode representation in a Text field on my application.\r\n\r\nFor example I read the string &quot;e13a&quot; from the file and i&#39;d like to display the corresponding &quot;\\ue13a&quot; character in the Text field.\r\n\r\nIs there a way to obtain the desired behaviour?\r\n\r\nI already tried escaping the string directly in the file but I always obtain the raw string instead of the unicode representation","title":"JavaFX string to unicode entity conversion","body":"<p>I have to read a string from a file and display the corresponding unicode representation in a Text field on my application.</p>\n<p>For example I read the string &quot;e13a&quot; from the file and i'd like to display the corresponding &quot;\\ue13a&quot; character in the Text field.</p>\n<p>Is there a way to obtain the desired behaviour?</p>\n<p>I already tried escaping the string directly in the file but I always obtain the raw string instead of the unicode representation</p>\n"},{"tags":["java","maven","antlr","antlr4"],"answers":[{"tags":[],"owner":{"account_id":20937,"reputation":167576,"user_id":50476,"accept_rate":100,"display_name":"Bart Kiers"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675872163,"creation_date":1675872163,"answer_id":75388503,"question_id":75386589,"body_markdown":"&gt; Is there any way that can set the path separately?\r\n\r\nNo.\r\n\r\nBut you can remove the `.tokens` file: it is not needed at runtime for your generated parser classes.","title":"How to specify separately the path of the java file and the tokens file generated by Antlr?","body":"<blockquote>\n<p>Is there any way that can set the path separately?</p>\n</blockquote>\n<p>No.</p>\n<p>But you can remove the <code>.tokens</code> file: it is not needed at runtime for your generated parser classes.</p>\n"},{"comments":[{"owner":{"account_id":23326337,"reputation":5,"user_id":17403463,"display_name":"Trance233"},"score":0,"creation_date":1675921608,"post_id":75389371,"comment_id":133032735,"body_markdown":"Thanks! So what I should do is use as mush as possible default configuration and not set &#39;compile&#39; phase. Then set `generated-sources` to generated-sources-folder(I`m using IDEA). Is it okay?","body":"Thanks! So what I should do is use as mush as possible default configuration and not set &#39;compile&#39; phase. Then set <code>generated-sources</code> to generated-sources-folder(I`m using IDEA). Is it okay?"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1675924354,"post_id":75389371,"comment_id":133033165,"body_markdown":"Yes. Follow conventions over configuration paradigm. Also don&#39;t set the phase explicitly because the plugin already does that correrctly (and knows best where to bind to the life cycle phase)..(For details: https://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html)","body":"Yes. Follow conventions over configuration paradigm. Also don&#39;t set the phase explicitly because the plugin already does that correrctly (and knows best where to bind to the life cycle phase)..(For details: <a href=\"https://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html\" rel=\"nofollow noreferrer\">maven.apache.org/guides/introduction/&hellip;</a>)"}],"tags":[],"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675876404,"creation_date":1675876404,"answer_id":75389371,"question_id":75386589,"body_markdown":"A configuration for antlr4 is usually very simple like this:\r\n\r\n&lt;!-- language:language-xml --&gt;\r\n\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.antlr&lt;/groupId&gt;\r\n        &lt;artifactId&gt;antlr4-maven-plugin&lt;/artifactId&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;antlr4&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n              &lt;visitor&gt;true&lt;/visitor&gt;\r\n              &lt;listener&gt;false&lt;/listener&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n\r\n\r\nThis assumes you have your grammar file in `src/main/antlr4/&lt;package&gt;/test.g4` (default location). There is no need to configure such things etc. because by conventions the generated class will be available in `target/generated-sources/antlr4/`. Exactly in this directory you will find the `*.tokens` files. The imports directory is defined by default as `src/main/antl4/imports`. The default configuration for the [antlr4-maven-plugin][1] defines some very useful defaults and it is strongly recommended to follow those conventions.\r\n\r\nI strongly recommmend **NOT** to configure the `&lt;outputDirectory&gt;src/main/java&lt;/outputDirectory&gt;` because that will generate code in your `src/` directory tree which can cause issues with your versions control system.\r\n\r\nBTW: Binding the code generation to the phase `compile` is very bad because the code generation should be done before the compile phase. The `generate-sources` phase is exactly intended for such cases. This phase is used by default by the antlr4-maven-plugin. \r\n\r\n  [1]: https://www.antlr.org/api/maven-plugin/latest/antlr4-mojo.html","title":"How to specify separately the path of the java file and the tokens file generated by Antlr?","body":"<p>A configuration for antlr4 is usually very simple like this:</p>\n\n<pre><code>  &lt;plugin&gt;\n    &lt;groupId&gt;org.antlr&lt;/groupId&gt;\n    &lt;artifactId&gt;antlr4-maven-plugin&lt;/artifactId&gt;\n    &lt;executions&gt;\n      &lt;execution&gt;\n        &lt;goals&gt;\n          &lt;goal&gt;antlr4&lt;/goal&gt;\n        &lt;/goals&gt;\n        &lt;configuration&gt;\n          &lt;visitor&gt;true&lt;/visitor&gt;\n          &lt;listener&gt;false&lt;/listener&gt;\n        &lt;/configuration&gt;\n      &lt;/execution&gt;\n    &lt;/executions&gt;\n  &lt;/plugin&gt;\n</code></pre>\n<p>This assumes you have your grammar file in <code>src/main/antlr4/&lt;package&gt;/test.g4</code> (default location). There is no need to configure such things etc. because by conventions the generated class will be available in <code>target/generated-sources/antlr4/</code>. Exactly in this directory you will find the <code>*.tokens</code> files. The imports directory is defined by default as <code>src/main/antl4/imports</code>. The default configuration for the <a href=\"https://www.antlr.org/api/maven-plugin/latest/antlr4-mojo.html\" rel=\"nofollow noreferrer\">antlr4-maven-plugin</a> defines some very useful defaults and it is strongly recommended to follow those conventions.</p>\n<p>I strongly recommmend <strong>NOT</strong> to configure the <code>&lt;outputDirectory&gt;src/main/java&lt;/outputDirectory&gt;</code> because that will generate code in your <code>src/</code> directory tree which can cause issues with your versions control system.</p>\n<p>BTW: Binding the code generation to the phase <code>compile</code> is very bad because the code generation should be done before the compile phase. The <code>generate-sources</code> phase is exactly intended for such cases. This phase is used by default by the antlr4-maven-plugin.</p>\n"}],"owner":{"account_id":23326337,"reputation":5,"user_id":17403463,"display_name":"Trance233"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75389371,"answer_count":2,"score":0,"last_activity_date":1675876404,"creation_date":1675863390,"question_id":75386589,"body_markdown":"I\\`m attempting to use antlr4 in my project to parse files in custom format. But when I use antlr4 maven plugin, I cannot find a parameter to set separately the path of tokens file and java file, as it can only set a common path.\r\n\r\nHere\\`s the configuration of antlr4 maven plugin:\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n\t&lt;groupId&gt;org.antlr&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;antlr4-maven-plugin&lt;/artifactId&gt;\r\n\t&lt;version&gt;4.11.1&lt;/version&gt;\r\n\t&lt;executions&gt;\r\n\t\t&lt;execution&gt;\r\n\t\t\t&lt;id&gt;antlr&lt;/id&gt;\r\n\t\t\t&lt;goals&gt;\r\n\t\t\t\t&lt;goal&gt;antlr4&lt;/goal&gt;\r\n\t\t\t&lt;/goals&gt;\r\n\t\t\t&lt;phase&gt;compile&lt;/phase&gt;\r\n\t\t&lt;/execution&gt;\r\n\t&lt;/executions&gt;\r\n\r\n\t&lt;configuration&gt;\r\n\t\t&lt;libDirectory&gt;src/main/antlr4/imports&lt;/libDirectory&gt;\r\n\t\t&lt;sourceDirectory&gt;src/main/antlr4&lt;/sourceDirectory&gt;\r\n\t\t&lt;outputDirectory&gt;src/main/java&lt;/outputDirectory&gt;\r\n\t\t&lt;listener&gt;true&lt;/listener&gt;\r\n\t\t&lt;visitor&gt;true&lt;/visitor&gt;\r\n\t\t&lt;treatWarningsAsErrors&gt;true&lt;/treatWarningsAsErrors&gt;\r\n\t&lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nThe grammar file `test.g4` is in \\&lt;sourceDirectory\\&gt;/relativePath(`src/main/antlr4/org/trance233/antlr/`).\r\n\r\nThe `.tokens` file is in \\&lt;outputDirectory\\&gt;(`src/main/java/`), the `.java` file is in \\&lt;sourceDirectory\\&gt;/relativePath(`src/main/java/org/trance233/antlr/`).\r\n\r\nIs there any way that can set the path separately? Such as the `.tokens` file above is put in `src/main/resources`, and the `.java` file is put in `src/main/java/org/trance233/antlr/`.","title":"How to specify separately the path of the java file and the tokens file generated by Antlr?","body":"<p>I`m attempting to use antlr4 in my project to parse files in custom format. But when I use antlr4 maven plugin, I cannot find a parameter to set separately the path of tokens file and java file, as it can only set a common path.</p>\n<p>Here`s the configuration of antlr4 maven plugin:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.antlr&lt;/groupId&gt;\n    &lt;artifactId&gt;antlr4-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;4.11.1&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;antlr&lt;/id&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;antlr4&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;phase&gt;compile&lt;/phase&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n\n    &lt;configuration&gt;\n        &lt;libDirectory&gt;src/main/antlr4/imports&lt;/libDirectory&gt;\n        &lt;sourceDirectory&gt;src/main/antlr4&lt;/sourceDirectory&gt;\n        &lt;outputDirectory&gt;src/main/java&lt;/outputDirectory&gt;\n        &lt;listener&gt;true&lt;/listener&gt;\n        &lt;visitor&gt;true&lt;/visitor&gt;\n        &lt;treatWarningsAsErrors&gt;true&lt;/treatWarningsAsErrors&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>The grammar file <code>test.g4</code> is in &lt;sourceDirectory&gt;/relativePath(<code>src/main/antlr4/org/trance233/antlr/</code>).</p>\n<p>The <code>.tokens</code> file is in &lt;outputDirectory&gt;(<code>src/main/java/</code>), the <code>.java</code> file is in &lt;sourceDirectory&gt;/relativePath(<code>src/main/java/org/trance233/antlr/</code>).</p>\n<p>Is there any way that can set the path separately? Such as the <code>.tokens</code> file above is put in <code>src/main/resources</code>, and the <code>.java</code> file is put in <code>src/main/java/org/trance233/antlr/</code>.</p>\n"},{"tags":["java","android-studio"],"owner":{"account_id":14979873,"reputation":77,"user_id":10814129,"display_name":"Siddeshwar Raghavan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675875922,"creation_date":1675875922,"question_id":75389257,"body_markdown":"I am very new to developing apps, and I have an android application with zxing-android-embedded 4.3.0 and implemented a QR code scanner. I wish to add a back button in the scanning layout and if I add elements, it disappears when executing the code. \r\n\r\nPart of the QR code scanner (as IntentIntegrator is deprecated now)\r\n```\r\nscanQRCodeButton.setOnClickListener(view -&gt; {\r\n            if (requestNecessaryPermissions()) {\r\n                enableEditTexts(editTexts);\r\n                ScanOptions options = new ScanOptions();\r\n                options.setDesiredBarcodeFormats(ScanOptions.QR_CODE);\r\n                options.setPrompt(&quot;Scan ID&quot;);\r\n                options.setTimeout(10000);\r\n                options.setCameraId(0);  // Use a specific camera of the device\r\n                options.setBeepEnabled(false);\r\n                options.setBarcodeImageEnabled(true);\r\n                options.setOrientationLocked(true);\r\n                barcodeLauncher.launch(options);\r\n            }\r\n        });\r\n```\r\npart of the XML file\r\n```\r\n        &lt;com.google.android.material.floatingactionbutton.FloatingActionButton\r\n            android:id=&quot;@+id/scan_qr_code_button&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_gravity=&quot;center&quot;\r\n            android:layout_margin=&quot;10dp&quot;\r\n            android:src=&quot;@drawable/ic_baseline_qr_code_scanner_24&quot; /&gt;\r\n```\r\nOnce this QR/scan button is hit, the zxing scanner is opened to scan the code. How do I add a floating button in the scanning page to get back to the main window? ","title":"back/ cancel button in ZXing QR code scanner","body":"<p>I am very new to developing apps, and I have an android application with zxing-android-embedded 4.3.0 and implemented a QR code scanner. I wish to add a back button in the scanning layout and if I add elements, it disappears when executing the code.</p>\n<p>Part of the QR code scanner (as IntentIntegrator is deprecated now)</p>\n<pre><code>scanQRCodeButton.setOnClickListener(view -&gt; {\n            if (requestNecessaryPermissions()) {\n                enableEditTexts(editTexts);\n                ScanOptions options = new ScanOptions();\n                options.setDesiredBarcodeFormats(ScanOptions.QR_CODE);\n                options.setPrompt(&quot;Scan ID&quot;);\n                options.setTimeout(10000);\n                options.setCameraId(0);  // Use a specific camera of the device\n                options.setBeepEnabled(false);\n                options.setBarcodeImageEnabled(true);\n                options.setOrientationLocked(true);\n                barcodeLauncher.launch(options);\n            }\n        });\n</code></pre>\n<p>part of the XML file</p>\n<pre><code>        &lt;com.google.android.material.floatingactionbutton.FloatingActionButton\n            android:id=&quot;@+id/scan_qr_code_button&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_gravity=&quot;center&quot;\n            android:layout_margin=&quot;10dp&quot;\n            android:src=&quot;@drawable/ic_baseline_qr_code_scanner_24&quot; /&gt;\n</code></pre>\n<p>Once this QR/scan button is hit, the zxing scanner is opened to scan the code. How do I add a floating button in the scanning page to get back to the main window?</p>\n"},{"tags":["java","binary-search-tree"],"owner":{"account_id":9298479,"reputation":11,"user_id":6904730,"display_name":"kasparov123"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675875902,"creation_date":1475239608,"question_id":39791875,"body_markdown":"So I have written an implementation of a BST in Java. My goal is to make it balanced aswell, more precisly an AVL tree. I am having some problem though, I don&#39;t know how to implement the trinodeRestructering method(ie the method that balances the tree) I have tried various things but these pointers are sometimes difficult to deal with and I am not sure how to do this recursivly. Down below is my code for adding a new element and the method to check if we are more than 2 steps difference in the tree.\r\n\r\nadd and balancing method:\r\n\r\n   \tprivate TreeNode insert(TreeNode currN, TreeNode newN) {\r\n\t\tif (currN == null) {\r\n\t\t\treturn newN;\r\n\t\t}\r\n\r\n\t\tif (currN.getData() == newN.getData()) {\r\n\t\t\tthrow new IllegalArgumentException(&quot;Value already exists.&quot;);\r\n\t\t}\r\n\r\n\t\tif (newN.getData() &lt; currN.getData()) {\r\n\t\t\tif (currN.getLeft() == null) {\r\n\t\t\t\tcurrN.setLeft(newN);\r\n\t\t\t\r\n\t\t\t} else {\r\n\t\t\t\tinsert(currN.getLeft(), newN);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif (currN.getRight() == null) {\r\n\t\t\t\tcurrN.setRight(newN);\r\n\t\r\n\t\t\t} else {\r\n\t\t\t\tinsert(currN.getRight(), newN);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t  if (needBalancing()) {\r\n\t\t\t  trinodeRestructering(currN);\r\n          }           \r\n\t\r\n\t\treturn currN;\r\n\t}\r\n\r\n\tprivate TreeNode trinodeRestructering(TreeNode currN) {\r\n\t//Not sure what to do here.\r\n\t\treturn currN;\r\n\t}\r\n\r\nheight checking method.\r\n\r\n    \tpublic boolean needBalancing(){\r\n\t\tif(height(root) == -1){ // true if we need to balance\r\n\t\t\treturn true;\r\n\t\t}else{\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\t\r\n\tprivate int height(TreeNode node){\r\n\t\tif (node == null)\r\n\t\t\treturn 0;\r\n\t\tint left = height(node.getLeft());\r\n\t\tint right = height(node.getRight());\r\n \r\n\t\tif (left == -1 || right == -1)\r\n\t\t\treturn -1;\r\n \r\n\t\tif (Math.abs(left - right) &gt; 1) {\r\n\t\t\treturn -1;\r\n\t\t}\r\n \r\n\t\treturn Math.max(left, right) + 1;\r\n\t}\r\n\t\r\nI might add that I got an working inOrder method, perhaps I could use it to balance my tree?","title":"How do I write my method for balancing my BST?","body":"<p>So I have written an implementation of a BST in Java. My goal is to make it balanced aswell, more precisly an AVL tree. I am having some problem though, I don't know how to implement the trinodeRestructering method(ie the method that balances the tree) I have tried various things but these pointers are sometimes difficult to deal with and I am not sure how to do this recursivly. Down below is my code for adding a new element and the method to check if we are more than 2 steps difference in the tree.</p>\n\n<p>add and balancing method:</p>\n\n<pre><code>private TreeNode insert(TreeNode currN, TreeNode newN) {\n    if (currN == null) {\n        return newN;\n    }\n\n    if (currN.getData() == newN.getData()) {\n        throw new IllegalArgumentException(\"Value already exists.\");\n    }\n\n    if (newN.getData() &lt; currN.getData()) {\n        if (currN.getLeft() == null) {\n            currN.setLeft(newN);\n\n        } else {\n            insert(currN.getLeft(), newN);\n        }\n    } else {\n        if (currN.getRight() == null) {\n            currN.setRight(newN);\n\n        } else {\n            insert(currN.getRight(), newN);\n        }\n    }\n\n      if (needBalancing()) {\n          trinodeRestructering(currN);\n      }           \n\n    return currN;\n}\n\nprivate TreeNode trinodeRestructering(TreeNode currN) {\n//Not sure what to do here.\n    return currN;\n}\n</code></pre>\n\n<p>height checking method.</p>\n\n<pre><code>    public boolean needBalancing(){\n    if(height(root) == -1){ // true if we need to balance\n        return true;\n    }else{\n        return false;\n    }\n}\n\nprivate int height(TreeNode node){\n    if (node == null)\n        return 0;\n    int left = height(node.getLeft());\n    int right = height(node.getRight());\n\n    if (left == -1 || right == -1)\n        return -1;\n\n    if (Math.abs(left - right) &gt; 1) {\n        return -1;\n    }\n\n    return Math.max(left, right) + 1;\n}\n</code></pre>\n\n<p>I might add that I got an working inOrder method, perhaps I could use it to balance my tree?</p>\n"},{"tags":["java","android","firebase-analytics"],"comments":[{"owner":{"account_id":4976707,"reputation":1202,"user_id":4002813,"display_name":"Namrata Bagerwal"},"score":0,"creation_date":1690283403,"post_id":75389251,"comment_id":135328672,"body_markdown":"Hi, were you able to resolve this?","body":"Hi, were you able to resolve this?"},{"owner":{"account_id":7797491,"reputation":33,"user_id":5898084,"display_name":"Marius Mazeill&#233;"},"score":0,"creation_date":1690374645,"post_id":75389251,"comment_id":135344155,"body_markdown":"@NamrataBagerwal Hi, unfortunately no, I ran out of ideas to try to debug this ...","body":"@NamrataBagerwal Hi, unfortunately no, I ran out of ideas to try to debug this ..."}],"owner":{"account_id":7797491,"reputation":33,"user_id":5898084,"display_name":"Marius Mazeill&#233;"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":312,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675875893,"creation_date":1675875893,"question_id":75389251,"body_markdown":"I&#39;ve setup a fonction to log screen envents from my android app.\r\n\r\n```\r\nFirebaseAnalytics mFirebaseAnalytics = FirebaseAnalytics.getInstance(activity);\r\n\r\nBundle bundle = new Bundle();\r\n\r\nif (screenName.length() &gt; 36) {\r\n   bundle.putString(FirebaseAnalytics.Param.SCREEN_NAME, screenName.substring(0, 36));\r\n} else {\r\n   bundle.putString(FirebaseAnalytics.Param.SCREEN_NAME, screenName);\r\n}\r\n\r\nbundle.putString(FirebaseAnalytics.Param.SCREEN_CLASS, activity.getClass().getSimpleName());\r\nmFirebaseAnalytics.logEvent(FirebaseAnalytics.Event.SCREEN_VIEW, bundle);\r\n```\r\n\r\nHowever, depending on the class loging the event, the screen name is not event part of the event sent to Google.\r\n\r\nHere&#39;s the event loged when working :\r\n`Logging event: origin=app,name=screen_view(_vs),params=Bundle[{ga_event_origin(_o)=app, engagement_time_msec(_et)=15735, ga_previous_class(_pc)=SlideMenu, ga_previous_id(_pi)=1601424672890182561, ga_screen_class(_sc)=SlideMenu, ga_screen_id(_si)=1601424672890182562, ga_screen(_sn)=Recommandations}]\r\n`\r\n\r\nAnd when not working :\r\n`Logging event: origin=auto,name=screen_view(_vs),params=Bundle[{ga_event_origin(_o)=auto, ga_previous_class(_pc)=SlideMenu, ga_previous_id(_pi)=1601424672890182562, ga_previous_screen(_pn)=Recommandations, ga_screen_class(_sc)=AffichageContent, ga_screen_id(_si)=1601424672890182563}]\r\n`\r\n\r\nAs you can see in the 2d line, the `ga_screen(_sn)` field is missing.\r\n\r\nFrom what I&#39;ve seen, it seems that the only class not loging the screen name is `AffichageContent` but I don&#39;t know if it&#39;s from the class itself or because this activity is started by a previous one.\r\n\r\nI&#39;ve loged the `bundle.getString(FirebaseAnalytics.Param.SCREEN_NAME)` and it&#39;s value before loging the event is the right one.\r\n\r\nThank&#39;s !","title":"Firebase Analytics screen view event not loging screen name every time","body":"<p>I've setup a fonction to log screen envents from my android app.</p>\n<pre><code>FirebaseAnalytics mFirebaseAnalytics = FirebaseAnalytics.getInstance(activity);\n\nBundle bundle = new Bundle();\n\nif (screenName.length() &gt; 36) {\n   bundle.putString(FirebaseAnalytics.Param.SCREEN_NAME, screenName.substring(0, 36));\n} else {\n   bundle.putString(FirebaseAnalytics.Param.SCREEN_NAME, screenName);\n}\n\nbundle.putString(FirebaseAnalytics.Param.SCREEN_CLASS, activity.getClass().getSimpleName());\nmFirebaseAnalytics.logEvent(FirebaseAnalytics.Event.SCREEN_VIEW, bundle);\n</code></pre>\n<p>However, depending on the class loging the event, the screen name is not event part of the event sent to Google.</p>\n<p>Here's the event loged when working :\n<code>Logging event: origin=app,name=screen_view(_vs),params=Bundle[{ga_event_origin(_o)=app, engagement_time_msec(_et)=15735, ga_previous_class(_pc)=SlideMenu, ga_previous_id(_pi)=1601424672890182561, ga_screen_class(_sc)=SlideMenu, ga_screen_id(_si)=1601424672890182562, ga_screen(_sn)=Recommandations}] </code></p>\n<p>And when not working :\n<code>Logging event: origin=auto,name=screen_view(_vs),params=Bundle[{ga_event_origin(_o)=auto, ga_previous_class(_pc)=SlideMenu, ga_previous_id(_pi)=1601424672890182562, ga_previous_screen(_pn)=Recommandations, ga_screen_class(_sc)=AffichageContent, ga_screen_id(_si)=1601424672890182563}] </code></p>\n<p>As you can see in the 2d line, the <code>ga_screen(_sn)</code> field is missing.</p>\n<p>From what I've seen, it seems that the only class not loging the screen name is <code>AffichageContent</code> but I don't know if it's from the class itself or because this activity is started by a previous one.</p>\n<p>I've loged the <code>bundle.getString(FirebaseAnalytics.Param.SCREEN_NAME)</code> and it's value before loging the event is the right one.</p>\n<p>Thank's !</p>\n"},{"tags":["java","minecraft-fabric"],"answers":[{"tags":[],"owner":{"account_id":8372434,"reputation":466,"user_id":6287102,"accept_rate":90,"display_name":"Paul Hashmi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675875805,"creation_date":1675875805,"answer_id":75389229,"question_id":75388986,"body_markdown":"I figured out what was wrong. I was using the character to bold the default text on a custom font. removed the character and all is good. \r\n\r\nThe character in question is &quot;&#167;l&quot;. Hope this helps someone at some point.\r\n\r\nRevised Code: \r\n\r\n    @Override\r\n    public void onHudRender(MatrixStack matrixStack, float tickDelta) {\r\n\r\n\r\n        RenderSystem.setShaderColor(1.0f, 1.0f, 1.0f, 1.0f);\r\n\r\n        matrixStack.push();\r\n        matrixStack.scale(5.0f, 5.0f, 5.0f);\r\n\r\n        assert CLIENT.player != null;\r\n        TextRenderer textRenderer = generateTextRenderer();\r\n        \r\n        //Revised this line to remove special character.\r\n        textRenderer.draw(matrixStack, Text.literal(CLIENT.player.getName().getString()).asOrderedText(), 32,12,0xffffff);\r\n        if(CLIENT.player.isDead()){\r\n            \r\n            //Revised this line to remove special character.\r\n            textRenderer.draw(matrixStack, Text.literal(&quot;Day: &quot;), 32,22,0xff0000);\r\n            //Revised this line to remove special character.\r\n            textRenderer.draw(matrixStack, Text.literal(&quot;&quot; + CLIENT.player.getWorld().getTimeOfDay() / 24000), 58,22,0x770000);\r\n\r\n            RenderSystem.setShaderTexture(0, DIED);\r\n            DrawableHelper.drawTexture(matrixStack, 10, 10, 0, 0, 20, 20, 20 ,20);\r\n\r\n        } else {\r\n\r\n            //Revised this line to remove special character.\r\n            textRenderer.draw(matrixStack, Text.literal(&quot;Day: &quot;), 32,22,0xffffff);\r\n            //Revised this line to remove special character.\r\n            textRenderer.draw(matrixStack, Text.literal(&quot;&quot; + CLIENT.player.getWorld().getTimeOfDay() / 24000), 58,22,0xffff00);\r\n\r\n            RenderSystem.setShaderTexture(0, ALIVE);\r\n            DrawableHelper.drawTexture(matrixStack, 10, 10, 0, 0, 20, 20, 20 ,20);\r\n\r\n        }\r\n\r\n        matrixStack.pop();\r\n    }\r\n\r\n","title":"FabricMC - Ghosting occuring when trying to render text to screen","body":"<p>I figured out what was wrong. I was using the character to bold the default text on a custom font. removed the character and all is good.</p>\n<p>The character in question is &quot;§l&quot;. Hope this helps someone at some point.</p>\n<p>Revised Code:</p>\n<pre><code>@Override\npublic void onHudRender(MatrixStack matrixStack, float tickDelta) {\n\n\n    RenderSystem.setShaderColor(1.0f, 1.0f, 1.0f, 1.0f);\n\n    matrixStack.push();\n    matrixStack.scale(5.0f, 5.0f, 5.0f);\n\n    assert CLIENT.player != null;\n    TextRenderer textRenderer = generateTextRenderer();\n    \n    //Revised this line to remove special character.\n    textRenderer.draw(matrixStack, Text.literal(CLIENT.player.getName().getString()).asOrderedText(), 32,12,0xffffff);\n    if(CLIENT.player.isDead()){\n        \n        //Revised this line to remove special character.\n        textRenderer.draw(matrixStack, Text.literal(&quot;Day: &quot;), 32,22,0xff0000);\n        //Revised this line to remove special character.\n        textRenderer.draw(matrixStack, Text.literal(&quot;&quot; + CLIENT.player.getWorld().getTimeOfDay() / 24000), 58,22,0x770000);\n\n        RenderSystem.setShaderTexture(0, DIED);\n        DrawableHelper.drawTexture(matrixStack, 10, 10, 0, 0, 20, 20, 20 ,20);\n\n    } else {\n\n        //Revised this line to remove special character.\n        textRenderer.draw(matrixStack, Text.literal(&quot;Day: &quot;), 32,22,0xffffff);\n        //Revised this line to remove special character.\n        textRenderer.draw(matrixStack, Text.literal(&quot;&quot; + CLIENT.player.getWorld().getTimeOfDay() / 24000), 58,22,0xffff00);\n\n        RenderSystem.setShaderTexture(0, ALIVE);\n        DrawableHelper.drawTexture(matrixStack, 10, 10, 0, 0, 20, 20, 20 ,20);\n\n    }\n\n    matrixStack.pop();\n}\n</code></pre>\n"}],"owner":{"account_id":8372434,"reputation":466,"user_id":6287102,"accept_rate":90,"display_name":"Paul Hashmi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":314,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675875805,"creation_date":1675874596,"question_id":75388986,"body_markdown":"pretty new to fabric, im having some trouble with ghost lettering when I am rendering text the the screen.\r\n\r\nIt works with the default text renderer fine. However I would like to use a custom font, it renders but seems to ghost the lettering\r\n\r\nHere is where I am: (Sorry for the lack of comments)\r\n\r\n    package turdz.daycounter.client;\r\n \r\n    import com.google.gson.GsonBuilder;\r\n    import com.google.gson.JsonArray;\r\n    import com.google.gson.JsonObject;\r\n    import com.mojang.blaze3d.systems.RenderSystem;\r\n    import net.fabricmc.fabric.api.client.rendering.v1.HudRenderCallback;\r\n    import net.minecraft.client.MinecraftClient;\r\n    import net.minecraft.client.font.Font;\r\n    import net.minecraft.client.font.FontStorage;\r\n    import net.minecraft.client.font.FontType;\r\n    import net.minecraft.client.font.TextRenderer;\r\n    import net.minecraft.client.gui.DrawableHelper;\r\n    import net.minecraft.client.util.math.MatrixStack;\r\n    import net.minecraft.text.Text;\r\n    import net.minecraft.util.Identifier;\r\n \r\n \r\n    import net.minecraft.util.JsonHelper;\r\n    import turdz.daycounter.DayCounter;\r\n \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n \r\n \r\n    public class DayOverlay implements HudRenderCallback {\r\n \r\n    private static final Identifier DIED = new Identifier(DayCounter.MOD_ID, &quot;textures/aliveicon/dead.png&quot;);\r\n    private static final Identifier ALIVE = new Identifier(DayCounter.MOD_ID, &quot;textures/aliveicon/alive.png&quot;);\r\n    private static final MinecraftClient CLIENT = MinecraftClient.getInstance();\r\n \r\n \r\n    @Override\r\n    public void onHudRender(MatrixStack matrixStack, float tickDelta) {\r\n \r\n        RenderSystem.setShaderColor(1.0 f, 1.0 f, 1.0 f, 1.0 f);\r\n \r\n        matrixStack.push();\r\n        matrixStack.scale(5.0 f, 5.0 f, 5.0 f);\r\n \r\n        assert CLIENT.player != null;\r\n        TextRenderer textRenderer = generateTextRenderer();\r\n \r\n        textRenderer.draw(matrixStack, Text.literal(&quot;&#167;l&quot; + CLIENT.player.getName().getString()).asOrderedText(), 32, 12, 0xffffff);\r\n \r\n        if (CLIENT.player.isDead()) {\r\n \r\n            textRenderer.draw(matrixStack, Text.literal(&quot;&#167;lDay: &quot;), 32, 22, 0xff0000);\r\n            textRenderer.draw(matrixStack, Text.literal(&quot;&#167;l&quot; + CLIENT.player.getWorld().getTimeOfDay() / 24000), 58, 22, 0x770000);\r\n \r\n            RenderSystem.setShaderTexture(0, DIED);\r\n            DrawableHelper.drawTexture(matrixStack, 10, 10, 0, 0, 20, 20, 20, 20);\r\n \r\n        } else {\r\n \r\n            textRenderer.draw(matrixStack, Text.literal(&quot;&#167;lDay: &quot;), 32, 22, 0xffffff);\r\n            textRenderer.draw(matrixStack, Text.literal(&quot;&#167;l&quot; + CLIENT.player.getWorld().getTimeOfDay() / 24000), 58, 22, 0xffff00);\r\n \r\n            RenderSystem.setShaderTexture(0, ALIVE);\r\n            DrawableHelper.drawTexture(matrixStack, 10, 10, 0, 0, 20, 20, 20, 20);\r\n \r\n        }\r\n \r\n        matrixStack.pop();\r\n    }\r\n    private static TextRenderer generateTextRenderer() {\r\n \r\n        List &lt; Font &gt; list = new ArrayList &lt; &gt; ();\r\n        String json = &quot;{\\&quot;providers\\&quot;:[{\\&quot;type\\&quot;:\\&quot;ttf\\&quot;,\\&quot;file\\&quot;:\\&quot;daycounter:arial.ttf\\&quot;,\\&quot;shift\\&quot;:[0,0],\\&quot;oversample\\&quot;:5}]}&quot;;\r\n        JsonArray jsonArray = JsonHelper.getArray(JsonHelper.deserialize(new GsonBuilder().setPrettyPrinting().disableHtmlEscaping().create(), json, JsonObject.class), &quot;providers&quot;);\r\n \r\n        for (int i = jsonArray.size() - 1; i &gt;= 0; --i) {\r\n            JsonObject jsonObject = JsonHelper.asObject(jsonArray.get(i), &quot;providers[&quot; + i + &quot;]&quot;);\r\n            try {\r\n                String stringType = JsonHelper.getString(jsonObject, &quot;type&quot;);\r\n                FontType fontType = FontType.byId(stringType);\r\n                Font font = fontType.createLoader(jsonObject).load(CLIENT.getResourceManager());\r\n                if (font != null)\r\n                    list.add(font);\r\n            } catch (RuntimeException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        FontStorage storage = new FontStorage(CLIENT.getTextureManager(), new Identifier(&quot;storageidentifier&quot;));\r\n        storage.setFonts(list);\r\n        return new TextRenderer(identifier - &gt; storage, true);\r\n    }\r\n}\r\n\r\nHere is an image of what going on. I scaled it up so it can be seen easier.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/V3c57.png","title":"FabricMC - Ghosting occuring when trying to render text to screen","body":"<p>pretty new to fabric, im having some trouble with ghost lettering when I am rendering text the the screen.</p>\n<p>It works with the default text renderer fine. However I would like to use a custom font, it renders but seems to ghost the lettering</p>\n<p>Here is where I am: (Sorry for the lack of comments)</p>\n<pre><code>package turdz.daycounter.client;\n\nimport com.google.gson.GsonBuilder;\nimport com.google.gson.JsonArray;\nimport com.google.gson.JsonObject;\nimport com.mojang.blaze3d.systems.RenderSystem;\nimport net.fabricmc.fabric.api.client.rendering.v1.HudRenderCallback;\nimport net.minecraft.client.MinecraftClient;\nimport net.minecraft.client.font.Font;\nimport net.minecraft.client.font.FontStorage;\nimport net.minecraft.client.font.FontType;\nimport net.minecraft.client.font.TextRenderer;\nimport net.minecraft.client.gui.DrawableHelper;\nimport net.minecraft.client.util.math.MatrixStack;\nimport net.minecraft.text.Text;\nimport net.minecraft.util.Identifier;\n\n\nimport net.minecraft.util.JsonHelper;\nimport turdz.daycounter.DayCounter;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\n\npublic class DayOverlay implements HudRenderCallback {\n\nprivate static final Identifier DIED = new Identifier(DayCounter.MOD_ID, &quot;textures/aliveicon/dead.png&quot;);\nprivate static final Identifier ALIVE = new Identifier(DayCounter.MOD_ID, &quot;textures/aliveicon/alive.png&quot;);\nprivate static final MinecraftClient CLIENT = MinecraftClient.getInstance();\n\n\n@Override\npublic void onHudRender(MatrixStack matrixStack, float tickDelta) {\n\n    RenderSystem.setShaderColor(1.0 f, 1.0 f, 1.0 f, 1.0 f);\n\n    matrixStack.push();\n    matrixStack.scale(5.0 f, 5.0 f, 5.0 f);\n\n    assert CLIENT.player != null;\n    TextRenderer textRenderer = generateTextRenderer();\n\n    textRenderer.draw(matrixStack, Text.literal(&quot;§l&quot; + CLIENT.player.getName().getString()).asOrderedText(), 32, 12, 0xffffff);\n\n    if (CLIENT.player.isDead()) {\n\n        textRenderer.draw(matrixStack, Text.literal(&quot;§lDay: &quot;), 32, 22, 0xff0000);\n        textRenderer.draw(matrixStack, Text.literal(&quot;§l&quot; + CLIENT.player.getWorld().getTimeOfDay() / 24000), 58, 22, 0x770000);\n\n        RenderSystem.setShaderTexture(0, DIED);\n        DrawableHelper.drawTexture(matrixStack, 10, 10, 0, 0, 20, 20, 20, 20);\n\n    } else {\n\n        textRenderer.draw(matrixStack, Text.literal(&quot;§lDay: &quot;), 32, 22, 0xffffff);\n        textRenderer.draw(matrixStack, Text.literal(&quot;§l&quot; + CLIENT.player.getWorld().getTimeOfDay() / 24000), 58, 22, 0xffff00);\n\n        RenderSystem.setShaderTexture(0, ALIVE);\n        DrawableHelper.drawTexture(matrixStack, 10, 10, 0, 0, 20, 20, 20, 20);\n\n    }\n\n    matrixStack.pop();\n}\nprivate static TextRenderer generateTextRenderer() {\n\n    List &lt; Font &gt; list = new ArrayList &lt; &gt; ();\n    String json = &quot;{\\&quot;providers\\&quot;:[{\\&quot;type\\&quot;:\\&quot;ttf\\&quot;,\\&quot;file\\&quot;:\\&quot;daycounter:arial.ttf\\&quot;,\\&quot;shift\\&quot;:[0,0],\\&quot;oversample\\&quot;:5}]}&quot;;\n    JsonArray jsonArray = JsonHelper.getArray(JsonHelper.deserialize(new GsonBuilder().setPrettyPrinting().disableHtmlEscaping().create(), json, JsonObject.class), &quot;providers&quot;);\n\n    for (int i = jsonArray.size() - 1; i &gt;= 0; --i) {\n        JsonObject jsonObject = JsonHelper.asObject(jsonArray.get(i), &quot;providers[&quot; + i + &quot;]&quot;);\n        try {\n            String stringType = JsonHelper.getString(jsonObject, &quot;type&quot;);\n            FontType fontType = FontType.byId(stringType);\n            Font font = fontType.createLoader(jsonObject).load(CLIENT.getResourceManager());\n            if (font != null)\n                list.add(font);\n        } catch (RuntimeException e) {\n            e.printStackTrace();\n        }\n    }\n    FontStorage storage = new FontStorage(CLIENT.getTextureManager(), new Identifier(&quot;storageidentifier&quot;));\n    storage.setFonts(list);\n    return new TextRenderer(identifier - &gt; storage, true);\n}\n</code></pre>\n<p>}</p>\n<p>Here is an image of what going on. I scaled it up so it can be seen easier.</p>\n<p><a href=\"https://i.stack.imgur.com/V3c57.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/V3c57.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","bitwise-operators"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1675873236,"post_id":75388680,"comment_id":133022647,"body_markdown":"Why wouldn&#39;t you bitwise-and?","body":"Why wouldn&#39;t you bitwise-and?"},{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":1,"creation_date":1675873877,"post_id":75388680,"comment_id":133022888,"body_markdown":"Should be easy enough to code up as a small example program. What happened when you tried it?","body":"Should be easy enough to code up as a small example program. What happened when you tried it?"}],"answers":[{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675875448,"creation_date":1675875448,"answer_id":75389163,"question_id":75388680,"body_markdown":"I think the only thing that you&#39;re missing from your suggestion is that the right shift should use the _unsigned_ right shift operator, `&gt;&gt;&gt;`:\r\n\r\n    int result = (input &lt;&lt; n) &gt;&gt;&gt; n;\r\n","title":"Drop bits by shifting left and right in Java","body":"<p>I think the only thing that you're missing from your suggestion is that the right shift should use the <em>unsigned</em> right shift operator, <code>&gt;&gt;&gt;</code>:</p>\n<pre><code>int result = (input &lt;&lt; n) &gt;&gt;&gt; n;\n</code></pre>\n"}],"owner":{"account_id":27300862,"reputation":9,"user_id":20817673,"display_name":"Pytho"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675875448,"creation_date":1675873024,"question_id":75388680,"body_markdown":"Is it possible to &quot;drop&quot; a couple of most significant bits of a byte number by executing shifting operations in Java?\r\n\r\nThe idea looks like this:\r\n\r\n    1010 1111 -&gt; (&lt;&lt;2) -&gt; 1011 1100 -&gt; (&gt;&gt;2) -&gt; 0010 1111 =&gt; 2 bits were dropped.","title":"Drop bits by shifting left and right in Java","body":"<p>Is it possible to &quot;drop&quot; a couple of most significant bits of a byte number by executing shifting operations in Java?</p>\n<p>The idea looks like this:</p>\n<pre><code>1010 1111 -&gt; (&lt;&lt;2) -&gt; 1011 1100 -&gt; (&gt;&gt;2) -&gt; 0010 1111 =&gt; 2 bits were dropped.\n</code></pre>\n"},{"tags":["java","exception","byteman"],"answers":[{"tags":[],"owner":{"account_id":17799112,"reputation":131,"user_id":12926342,"display_name":"Byteman Project"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675875150,"creation_date":1675875150,"answer_id":75389113,"question_id":73303763,"body_markdown":"Firstly, your rule is malformed. Try this:\r\n\r\n  RULE trace main entry\r\n  CLASS StringCheck\r\n  METHOD main\r\n  AT ENTRY\r\n  IF true\r\n  DO traceln(&quot;Byteman detected you are entering main&quot;);\r\n     throw new NullPointerException(&quot;test&quot;)\r\n  ENDRULE\r\n\r\nSecondly, when you are developing some new rules try enabling verbose output from the Byteman agents so that you are notified when rules fail to parse or inject. You can do that by adding the following setting to the java command line\r\n\r\n  -Dorg.jboss.byteman.verbose\r\n\r\nThirdly, before running your program with the Byteman agent you should really check your rules using the the bmcheck script provided in the bin subdirectory of your Byteman download.\r\n","title":"How to throw exception using Byteman Script , in a method?","body":"<p>Firstly, your rule is malformed. Try this:</p>\n<p>RULE trace main entry\nCLASS StringCheck\nMETHOD main\nAT ENTRY\nIF true\nDO traceln(&quot;Byteman detected you are entering main&quot;);\nthrow new NullPointerException(&quot;test&quot;)\nENDRULE</p>\n<p>Secondly, when you are developing some new rules try enabling verbose output from the Byteman agents so that you are notified when rules fail to parse or inject. You can do that by adding the following setting to the java command line</p>\n<p>-Dorg.jboss.byteman.verbose</p>\n<p>Thirdly, before running your program with the Byteman agent you should really check your rules using the the bmcheck script provided in the bin subdirectory of your Byteman download.</p>\n"}],"owner":{"account_id":192966,"reputation":5703,"user_id":434408,"accept_rate":51,"display_name":"a3.14_Infinity"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675875150,"creation_date":1660123311,"question_id":73303763,"body_markdown":"I have tried following script , but I do not see NullPointerException in the logs.\r\n\r\n    RULE trace main entry\r\n    CLASS StringCheck\r\n    METHOD main\r\n    AT ENTRY\r\n    IF true\r\n    DO traceln(&quot;Byteman detected you are entering main&quot;)\r\n    DO throw new NullPointerException(&quot;test&quot;)\r\n    ENDRULE","title":"How to throw exception using Byteman Script , in a method?","body":"<p>I have tried following script , but I do not see NullPointerException in the logs.</p>\n<pre><code>RULE trace main entry\nCLASS StringCheck\nMETHOD main\nAT ENTRY\nIF true\nDO traceln(&quot;Byteman detected you are entering main&quot;)\nDO throw new NullPointerException(&quot;test&quot;)\nENDRULE\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3983106,"reputation":313,"user_id":3284549,"accept_rate":100,"display_name":"user3284549"},"score":0,"creation_date":1453054351,"post_id":34841708,"comment_id":57424336,"body_markdown":"Why do you need to loop it for the years? Why not calculate it right away using Math.pow? Do you need to show the balance for every single year up to and including the value of years ?","body":"Why do you need to loop it for the years? Why not calculate it right away using Math.pow? Do you need to show the balance for every single year up to and including the value of years ?"},{"owner":{"account_id":5760647,"reputation":19,"user_id":5802180,"accept_rate":0,"display_name":"Leonardo"},"score":0,"creation_date":1453054659,"post_id":34841708,"comment_id":57424445,"body_markdown":"umm that&#39;s what I was told to do and nope, not every single year has to be shown, just the balance for the entered year. How would you do it with Math.pow?","body":"umm that&#39;s what I was told to do and nope, not every single year has to be shown, just the balance for the entered year. How would you do it with Math.pow?"},{"owner":{"account_id":4395013,"reputation":1126,"user_id":3582362,"accept_rate":100,"display_name":"Calvin P."},"score":0,"creation_date":1453054699,"post_id":34841708,"comment_id":57424462,"body_markdown":"This sort of sounds like a beginning Java class, so I assume they want you to use `while` instead of `for` loop. Create a `counter=1` variable and a `while` loop that increments the counter each iteration and stops when `counter==years`. Then of course add `rate * balance` to `balance` each time","body":"This sort of sounds like a beginning Java class, so I assume they want you to use <code>while</code> instead of <code>for</code> loop. Create a <code>counter=1</code> variable and a <code>while</code> loop that increments the counter each iteration and stops when <code>counter==years</code>. Then of course add <code>rate * balance</code> to <code>balance</code> each time"},{"owner":{"account_id":5760647,"reputation":19,"user_id":5802180,"accept_rate":0,"display_name":"Leonardo"},"score":0,"creation_date":1453054786,"post_id":34841708,"comment_id":57424495,"body_markdown":"yeah I just started doing Java and how would that look on the code? Structure wise? Thank you for that :).","body":"yeah I just started doing Java and how would that look on the code? Structure wise? Thank you for that :)."}],"answers":[{"comments":[{"owner":{"account_id":5760647,"reputation":19,"user_id":5802180,"accept_rate":0,"display_name":"Leonardo"},"score":0,"creation_date":1453055950,"post_id":34842070,"comment_id":57424938,"body_markdown":"that makes a lot more sense now :). It worked :D. Thank you !","body":"that makes a lot more sense now :). It worked :D. Thank you !"},{"owner":{"account_id":3983106,"reputation":313,"user_id":3284549,"accept_rate":100,"display_name":"user3284549"},"score":0,"creation_date":1453056371,"post_id":34842070,"comment_id":57425087,"body_markdown":"No problem, hope you understand how it works, otherwise oracle has some good documentation on for loops https://docs.oracle.com/javase/tutorial/java/nutsandbolts/for.html","body":"No problem, hope you understand how it works, otherwise oracle has some good documentation on for loops <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/for.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/nutsandbolts/for.html</a>"},{"owner":{"account_id":5760647,"reputation":19,"user_id":5802180,"accept_rate":0,"display_name":"Leonardo"},"score":0,"creation_date":1453057063,"post_id":34842070,"comment_id":57425331,"body_markdown":"will deffo check it out, just want to check if it is working how I think it is working. Thank you :).","body":"will deffo check it out, just want to check if it is working how I think it is working. Thank you :)."}],"tags":[],"owner":{"account_id":3983106,"reputation":313,"user_id":3284549,"accept_rate":100,"display_name":"user3284549"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1453055951,"creation_date":1453055678,"answer_id":34842070,"question_id":34841708,"body_markdown":"There&#39;s no good reason to use a loop in this case, but I guess it&#39;s for learning purposes.\r\nYou can make a loop that calculates the new balance a year at a time like this:\r\n\r\n    for(int i = years; i &gt; 0; i--)\r\n        balance = balance * y;\r\n\r\nAlternatively use Math.pow(this follows the formula startvalue * rate of change^time = result):\r\n\r\n    balance = balance * Math.pow(y, years);","title":"Calculating Interest (Java), the program should print the projected account balance after an arbitrary numbers of years","body":"<p>There's no good reason to use a loop in this case, but I guess it's for learning purposes.\nYou can make a loop that calculates the new balance a year at a time like this:</p>\n\n<pre><code>for(int i = years; i &gt; 0; i--)\n    balance = balance * y;\n</code></pre>\n\n<p>Alternatively use Math.pow(this follows the formula startvalue * rate of change^time = result):</p>\n\n<pre><code>balance = balance * Math.pow(y, years);\n</code></pre>\n"}],"owner":{"account_id":5760647,"reputation":19,"user_id":5802180,"accept_rate":0,"display_name":"Leonardo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3592,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675875114,"creation_date":1453053749,"question_id":34841708,"body_markdown":"Please help me. Basically the program should Ask the user to input a number representing the initial balance of a savings account. Assign this number to a double variable called balance.\r\nAsk for a number representing the yearly rate of interest (in percent) on the account. Divide this number by 100.0 and assign it to a double variable called rate. I have to use a loop to update the balance as it changes year by year. I am stuck on that part. Here is the code I have so far : \r\n\r\n  \r\n\r\n       public static void calcInterest(){\r\n    System.out.println(&quot;Please enter the account balance : &quot;);\r\n    \t System.out.println(&quot;Please enter the annual interest rate : &quot;);\r\n    \t System.out.println(&quot;Please enter the number of years : &quot;);\r\n    \t Scanner input = new Scanner (System.in);\r\n    \t double balance = input.nextDouble();\r\n    \t double y = input.nextDouble();\r\n    \t double rate = (y/100);\r\n    \t int years = input.nextInt();\r\n    \t \r\n    \t\t \r\n    \t }","title":"Calculating Interest (Java), the program should print the projected account balance after an arbitrary numbers of years","body":"<p>Please help me. Basically the program should Ask the user to input a number representing the initial balance of a savings account. Assign this number to a double variable called balance.\nAsk for a number representing the yearly rate of interest (in percent) on the account. Divide this number by 100.0 and assign it to a double variable called rate. I have to use a loop to update the balance as it changes year by year. I am stuck on that part. Here is the code I have so far : </p>\n\n<pre><code>   public static void calcInterest(){\nSystem.out.println(\"Please enter the account balance : \");\n     System.out.println(\"Please enter the annual interest rate : \");\n     System.out.println(\"Please enter the number of years : \");\n     Scanner input = new Scanner (System.in);\n     double balance = input.nextDouble();\n     double y = input.nextDouble();\n     double rate = (y/100);\n     int years = input.nextInt();\n\n\n     }\n</code></pre>\n"},{"tags":["java","spring-boot","quarkus","mapstruct"],"owner":{"account_id":25836813,"reputation":343,"user_id":19573093,"display_name":"ner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675874927,"creation_date":1675874927,"question_id":75389063,"body_markdown":"I have a class of type DTO response and another class of type domain and I convert them but I don&#39;t know how to convert the generic class into another class, see:\r\n\r\n    class ResponseData&lt;T&gt; {\r\n    \r\n        @JsonProperty(&quot;data_response&quot;)\r\n        private List&lt;T&gt; dataResponse;\r\n    }\r\n\r\nThis is the application class that will be converted:\r\n\r\n    class QueryConsulting {\r\n    \r\n        @JsonProperty(&quot;cod_prod&quot;)\r\n        private String codProduct;\r\n    \r\n        @JsonProperty(&quot;cod_cli&quot;)\r\n        private String idClient;\r\n\r\nI make this call to assemble the payload:\r\n\r\n    ResponseData responseData = ResponseData.builder().data(Collections.singletonList(response)).build();\r\n\r\n\r\nHow to convert using MapStruct?","title":"How to convert generic type objects with MapStruct?","body":"<p>I have a class of type DTO response and another class of type domain and I convert them but I don't know how to convert the generic class into another class, see:</p>\n<pre><code>class ResponseData&lt;T&gt; {\n\n    @JsonProperty(&quot;data_response&quot;)\n    private List&lt;T&gt; dataResponse;\n}\n</code></pre>\n<p>This is the application class that will be converted:</p>\n<pre><code>class QueryConsulting {\n\n    @JsonProperty(&quot;cod_prod&quot;)\n    private String codProduct;\n\n    @JsonProperty(&quot;cod_cli&quot;)\n    private String idClient;\n</code></pre>\n<p>I make this call to assemble the payload:</p>\n<pre><code>ResponseData responseData = ResponseData.builder().data(Collections.singletonList(response)).build();\n</code></pre>\n<p>How to convert using MapStruct?</p>\n"},{"tags":["java","class","object","inheritance","methods"],"owner":{"account_id":27735415,"reputation":15,"user_id":21173114,"display_name":"grecode97"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1675875897,"answer_count":0,"score":0,"last_activity_date":1675874667,"creation_date":1675874667,"question_id":75389009,"body_markdown":"What I mean to ask is easier to see in the code, so there&#39;s the precise exam task I&#39;m working on.\r\nThe task asks what the output of the console would look like. A is superclass of B, B is superclass of C.\r\n\r\nIn subclass C, the method `print()` includes `super.print()`.\r\n\r\n**In such cases and inheritance in general, how can I know whether a method refers to an attribute of the superclass or the subclass?**\r\n\r\n**Is there a general rule of thumb? Something like &quot;Inherited methods use the subclass attributes, except when it says &quot;super&quot;, then it&#39;s the superclasses attributes&quot;, or something like that?**\r\n\r\nFurthermore, does it play any role here that the static type of oneB is A? Could you name me an example of when it might play an important role or make a big difference?\r\n\r\n\r\n```\r\npublic class Test {\r\n\tpublic static void main(String[] args) {\r\n\t\tA oneA = new A();\r\n\t\tSystem.out.println(&quot;A: &quot; + oneA.x);\r\n\t\toneA.print();\r\n\t\t\r\n\t\tSystem.out.println();\r\n\t\t\r\n\t\tA oneB = new B();\r\n\t\tSystem.out.println(&quot;B: &quot; + oneB.x);\r\n\t\toneB.print();\r\n\t\t\r\n\t\tSystem.out.println();\r\n\t\t\r\n\t\tC oneC = new C();\r\n\t\toneC.print();\r\n\t\tSystem.out.println(&quot;C: &quot; + oneC.x);\r\n\t}\r\n}\r\n\r\n\r\npublic class A {\r\n\tpublic static int z;\r\n\tpublic int x = 10;\r\n\r\n\tpublic A() {\r\n\t\tx++;\r\n\t\tz++;\r\n\t}\r\n\r\n\tpublic void print() {\r\n\t\tSystem.out.println(&quot;A: &quot; + ++x);\r\n\t\tSystem.out.println(&quot;A: &quot; + ++z);\r\n\t}\r\n}\r\n\r\n\r\npublic class B extends A {\r\n\tpublic int x = 100;\r\n\r\n\tpublic B() {\r\n\t\tx++;\r\n\t\tz++;\r\n\t}\r\n\r\n\tpublic void print() {\r\n\t\tSystem.out.println(&quot;B: &quot; + x);\r\n\t\tSystem.out.println(&quot;B: &quot; + ++z);\r\n\t}\r\n}\r\n\r\n\r\npublic class C extends B {\r\n\tpublic int x = 1000;\r\n\r\n\tpublic void print() {\r\n\t\tsuper.print(); // &lt;------------------------ This line.\r\n                // It&#39;s executed inside oneC, but it includes a supermethod and both of them refer to x\r\n                // Hence, how can I know when a method uses the attributes or superclass or subclass?\r\n\t\tSystem.out.println(&quot;C: &quot; + x);\r\n\t\tSystem.out.println(&quot;C: &quot; + ++z);\r\n\t}\r\n}\r\n```\r\n\r\n\r\nMy solution looked like this:\r\nA: 11\r\nA: 12\r\nA: 2\r\nB: 101\r\nB: 101\r\nB: 5\r\nB: 1000 &lt;----- THIS is the line I&#39;m unsure about.\r\nB: 8\r\nC: 1000\r\nC: 9\r\nC: 1000\r\n\r\nIDE says that it&#39;s &quot;B: 101&quot; instead of &quot;B: 1000&quot; and I can see why...\r\nBut how can I know when and how to tell, for sure? Is there a rule of thumb?","title":"Java - When I access a super.method inside an overwritten method of a subclass, does it use the attribute of the superclass or the subclass?","body":"<p>What I mean to ask is easier to see in the code, so there's the precise exam task I'm working on.\nThe task asks what the output of the console would look like. A is superclass of B, B is superclass of C.</p>\n<p>In subclass C, the method <code>print()</code> includes <code>super.print()</code>.</p>\n<p><strong>In such cases and inheritance in general, how can I know whether a method refers to an attribute of the superclass or the subclass?</strong></p>\n<p><strong>Is there a general rule of thumb? Something like &quot;Inherited methods use the subclass attributes, except when it says &quot;super&quot;, then it's the superclasses attributes&quot;, or something like that?</strong></p>\n<p>Furthermore, does it play any role here that the static type of oneB is A? Could you name me an example of when it might play an important role or make a big difference?</p>\n<pre><code>public class Test {\n    public static void main(String[] args) {\n        A oneA = new A();\n        System.out.println(&quot;A: &quot; + oneA.x);\n        oneA.print();\n        \n        System.out.println();\n        \n        A oneB = new B();\n        System.out.println(&quot;B: &quot; + oneB.x);\n        oneB.print();\n        \n        System.out.println();\n        \n        C oneC = new C();\n        oneC.print();\n        System.out.println(&quot;C: &quot; + oneC.x);\n    }\n}\n\n\npublic class A {\n    public static int z;\n    public int x = 10;\n\n    public A() {\n        x++;\n        z++;\n    }\n\n    public void print() {\n        System.out.println(&quot;A: &quot; + ++x);\n        System.out.println(&quot;A: &quot; + ++z);\n    }\n}\n\n\npublic class B extends A {\n    public int x = 100;\n\n    public B() {\n        x++;\n        z++;\n    }\n\n    public void print() {\n        System.out.println(&quot;B: &quot; + x);\n        System.out.println(&quot;B: &quot; + ++z);\n    }\n}\n\n\npublic class C extends B {\n    public int x = 1000;\n\n    public void print() {\n        super.print(); // &lt;------------------------ This line.\n                // It's executed inside oneC, but it includes a supermethod and both of them refer to x\n                // Hence, how can I know when a method uses the attributes or superclass or subclass?\n        System.out.println(&quot;C: &quot; + x);\n        System.out.println(&quot;C: &quot; + ++z);\n    }\n}\n</code></pre>\n<p>My solution looked like this:\nA: 11\nA: 12\nA: 2\nB: 101\nB: 101\nB: 5\nB: 1000 &lt;----- THIS is the line I'm unsure about.\nB: 8\nC: 1000\nC: 9\nC: 1000</p>\n<p>IDE says that it's &quot;B: 101&quot; instead of &quot;B: 1000&quot; and I can see why...\nBut how can I know when and how to tell, for sure? Is there a rule of thumb?</p>\n"},{"tags":["java","command-line","apache-commons-exec"],"comments":[{"owner":{"account_id":5012123,"reputation":13192,"user_id":4028085,"display_name":"brso05"},"score":1,"creation_date":1416925950,"post_id":27129347,"comment_id":42757821,"body_markdown":"It should work are you sure the file is there?","body":"It should work are you sure the file is there?"},{"owner":{"account_id":1487317,"reputation":143,"user_id":1395264,"accept_rate":8,"display_name":"user1395264"},"score":0,"creation_date":1416927150,"post_id":27129347,"comment_id":42758630,"body_markdown":"yes.. I have tried .. and its not working.. I am trying to run the batch through command prompt from Java..","body":"yes.. I have tried .. and its not working.. I am trying to run the batch through command prompt from Java.."},{"owner":{"account_id":5012123,"reputation":13192,"user_id":4028085,"display_name":"brso05"},"score":0,"creation_date":1416927493,"post_id":27129347,"comment_id":42758880,"body_markdown":"Try my answer I think it will work for you...","body":"Try my answer I think it will work for you..."},{"owner":{"account_id":5012123,"reputation":13192,"user_id":4028085,"display_name":"brso05"},"score":0,"creation_date":1416927781,"post_id":27129347,"comment_id":42759071,"body_markdown":"I just posted another way to launch less code check out my answer...","body":"I just posted another way to launch less code check out my answer..."},{"owner":{"account_id":5012123,"reputation":13192,"user_id":4028085,"display_name":"brso05"},"score":0,"creation_date":1416928498,"post_id":27129347,"comment_id":42759585,"body_markdown":"Hey man I just edited my answer it should work now.","body":"Hey man I just edited my answer it should work now."},{"owner":{"account_id":4796924,"reputation":328,"user_id":3874595,"display_name":"Yetti99"},"score":0,"creation_date":1416928723,"post_id":27129347,"comment_id":42759708,"body_markdown":"Windows accepts forward slashes.  Then you don&#39;t need the double backslashes.  This is a joke http://secretgeek.net/ex_ms an interview with the person who invented &quot;Program Files&quot; :)","body":"Windows accepts forward slashes.  Then you don&#39;t need the double backslashes.  This is a joke <a href=\"http://secretgeek.net/ex_ms\" rel=\"nofollow noreferrer\">secretgeek.net/ex_ms</a> an interview with the person who invented &quot;Program Files&quot; :)"}],"answers":[{"comments":[{"owner":{"account_id":4864939,"reputation":1044,"user_id":3923525,"accept_rate":80,"display_name":"jmm"},"score":0,"creation_date":1416927881,"post_id":27129434,"comment_id":42759140,"body_markdown":"See this part, in the provided link:\n&quot;Due to the space in the file name we have to quote the file name either with single or double quotes &quot;","body":"See this part, in the provided link: &quot;Due to the space in the file name we have to quote the file name either with single or double quotes &quot;"}],"tags":[],"owner":{"account_id":4864939,"reputation":1044,"user_id":3923525,"accept_rate":80,"display_name":"jmm"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1416926111,"creation_date":1416926111,"answer_id":27129434,"question_id":27129347,"body_markdown":"Have you tried with single quotes? According to [this][1], it should work.\r\n\r\n\r\n  [1]: http://commons.apache.org/proper/commons-exec/commandline.html","title":"How to access file path with spaces from command prompt in Java","body":"<p>Have you tried with single quotes? According to <a href=\"http://commons.apache.org/proper/commons-exec/commandline.html\" rel=\"nofollow\">this</a>, it should work.</p>\n"},{"comments":[{"owner":{"account_id":1487317,"reputation":143,"user_id":1395264,"accept_rate":8,"display_name":"user1395264"},"score":0,"creation_date":1416927878,"post_id":27129933,"comment_id":42759138,"body_markdown":"this just gives me a path on my console &quot;D:\\Execution\\Java&gt;&quot;, which I think is the default path of my cmd prompt.","body":"this just gives me a path on my console &quot;D:\\Execution\\Java&gt;&quot;, which I think is the default path of my cmd prompt."},{"owner":{"account_id":1487317,"reputation":143,"user_id":1395264,"accept_rate":8,"display_name":"user1395264"},"score":0,"creation_date":1417014211,"post_id":27129933,"comment_id":42799223,"body_markdown":"that works fine for me.. but I have a problem .. I am running this in a loop and every batch has a specific action.. after it completes the action I want the next batch to be executed... For this, I need to use CommandLine class.. but this solution doesnt work for CommandLine...Can you help?  Updated my snipped in my question..","body":"that works fine for me.. but I have a problem .. I am running this in a loop and every batch has a specific action.. after it completes the action I want the next batch to be executed... For this, I need to use CommandLine class.. but this solution doesnt work for CommandLine...Can you help?  Updated my snipped in my question.."}],"tags":[],"owner":{"account_id":5012123,"reputation":13192,"user_id":4028085,"display_name":"brso05"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1416928434,"creation_date":1416927473,"answer_id":27129933,"question_id":27129347,"body_markdown":"This is an alternative way:\r\n\r\n         Runtime rt = Runtime.getRuntime();\r\n\t\t rt.exec(&quot;cmd.exe /c start \\&quot;\\&quot; \\&quot;C:\\\\Program Files\\\\abc.bat\\&quot;&quot;);","title":"How to access file path with spaces from command prompt in Java","body":"<p>This is an alternative way:</p>\n\n<pre><code>     Runtime rt = Runtime.getRuntime();\n     rt.exec(\"cmd.exe /c start \\\"\\\" \\\"C:\\\\Program Files\\\\abc.bat\\\"\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2937310,"reputation":1678,"user_id":2515942,"accept_rate":94,"display_name":"Murat Aykanat"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1483002054,"creation_date":1483000169,"answer_id":41375821,"question_id":27129347,"body_markdown":"I had the same filenames with spaces issue while using ImageMagick. Here is the code to solve the issue:\r\n\r\n    String imageOutput = null;\r\n    ByteArrayOutputStream identifyStdout = new ByteArrayOutputStream();\r\n    ByteArrayOutputStream identifyStderr = new ByteArrayOutputStream();\r\n    \r\n    try\r\n    {\r\n    \tDefaultExecutor identifyExecutor = new DefaultExecutor();\r\n    \t// End the process if it exceeds 60 seconds\r\n    \tExecuteWatchdog identifyWatchdog = new ExecuteWatchdog(60000);\r\n    \tidentifyExecutor.setWatchdog(identifyWatchdog);\r\n    \r\n    \r\n    \tPumpStreamHandler identifyPsh = new PumpStreamHandler(identifyStdout, identifyStderr);\r\n    \tidentifyExecutor.setStreamHandler(identifyPsh);\r\n    \tidentifyExecutor.setExitValue(0); //0 is success\r\n    \r\n    \tCommandLine identifyCommandline = new CommandLine(&quot;identify&quot;);\r\n    \tidentifyCommandline.addArgument(destFile.getAbsolutePath(), false);\r\n    \r\n    \tDefaultExecuteResultHandler identifyResultHandler = new DefaultExecuteResultHandler();\r\n    \r\n    \tidentifyExecutor.execute(identifyCommandline, identifyResultHandler);\r\n    \tidentifyResultHandler.waitFor();\r\n    \r\n    \tif (identifyResultHandler.getExitValue() != 0)\r\n    \t{\r\n    \t\tString output = identifyStdout.toString();\r\n    \t\t_logger.debug(&quot;Standard Out = &quot; + output);\r\n    \t\t_logger.debug(&quot;Standard Err = &quot; + identifyStderr.toString());\r\n    \r\n    \t\tString msg = &quot;ImageMagick overlay encountered an error. ImageMagick returned a value of &quot; + identifyResultHandler.getExitValue();\r\n    \t\tthrow new Exception(msg);\r\n    \t}\r\n    \telse\r\n    \t{\r\n    \t\timageOutput = identifyStdout.toString();\r\n    \t\t_logger.debug(&quot;Standard Out = &quot; + imageOutput);\r\n    \t\tidentifyStdout.close();\r\n    \t\tidentifyStderr.close();\r\n    \t}\r\n    }\r\n    catch(Exception e)\r\n    {\r\n    \t_logger.debug(&quot;Error: &quot; + e.getLocalizedMessage(), e);\r\n    }\r\n    finally\r\n    {\r\n    \tidentifyStdout.close();\r\n    \tidentifyStderr.close();\r\n    }\r\n\r\nThe important part here is:\r\n\r\n    identifyCommandline.addArgument(destFile.getAbsolutePath(), false);\r\n\r\nThis line allows a filepath with spaces to process correctly.","title":"How to access file path with spaces from command prompt in Java","body":"<p>I had the same filenames with spaces issue while using ImageMagick. Here is the code to solve the issue:</p>\n\n<pre><code>String imageOutput = null;\nByteArrayOutputStream identifyStdout = new ByteArrayOutputStream();\nByteArrayOutputStream identifyStderr = new ByteArrayOutputStream();\n\ntry\n{\n    DefaultExecutor identifyExecutor = new DefaultExecutor();\n    // End the process if it exceeds 60 seconds\n    ExecuteWatchdog identifyWatchdog = new ExecuteWatchdog(60000);\n    identifyExecutor.setWatchdog(identifyWatchdog);\n\n\n    PumpStreamHandler identifyPsh = new PumpStreamHandler(identifyStdout, identifyStderr);\n    identifyExecutor.setStreamHandler(identifyPsh);\n    identifyExecutor.setExitValue(0); //0 is success\n\n    CommandLine identifyCommandline = new CommandLine(\"identify\");\n    identifyCommandline.addArgument(destFile.getAbsolutePath(), false);\n\n    DefaultExecuteResultHandler identifyResultHandler = new DefaultExecuteResultHandler();\n\n    identifyExecutor.execute(identifyCommandline, identifyResultHandler);\n    identifyResultHandler.waitFor();\n\n    if (identifyResultHandler.getExitValue() != 0)\n    {\n        String output = identifyStdout.toString();\n        _logger.debug(\"Standard Out = \" + output);\n        _logger.debug(\"Standard Err = \" + identifyStderr.toString());\n\n        String msg = \"ImageMagick overlay encountered an error. ImageMagick returned a value of \" + identifyResultHandler.getExitValue();\n        throw new Exception(msg);\n    }\n    else\n    {\n        imageOutput = identifyStdout.toString();\n        _logger.debug(\"Standard Out = \" + imageOutput);\n        identifyStdout.close();\n        identifyStderr.close();\n    }\n}\ncatch(Exception e)\n{\n    _logger.debug(\"Error: \" + e.getLocalizedMessage(), e);\n}\nfinally\n{\n    identifyStdout.close();\n    identifyStderr.close();\n}\n</code></pre>\n\n<p>The important part here is:</p>\n\n<pre><code>identifyCommandline.addArgument(destFile.getAbsolutePath(), false);\n</code></pre>\n\n<p>This line allows a filepath with spaces to process correctly.</p>\n"},{"tags":[],"owner":{"account_id":16834911,"reputation":304,"user_id":12171869,"display_name":"frankmurphy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675874019,"creation_date":1675874019,"answer_id":75388884,"question_id":27129347,"body_markdown":"When using the CommandLine class `addArgument` method without defining the boolean `handleQuoting`, it will set `handleQuoting` to true for you, basically adding quotes to the argument. This is the method invoking:\r\n\r\n```\r\n    public CommandLine addArgument(String argument) {\r\n        return this.addArgument(argument, true);\r\n    }\r\n\r\n    public CommandLine addArgument(String argument, boolean handleQuoting) {\r\n        if (argument == null) {\r\n            return this;\r\n        } else {\r\n            if (handleQuoting) {\r\n                StringUtils.quoteArgument(argument);\r\n            }\r\n\r\n            this.arguments.add(new Argument(argument, handleQuoting));\r\n            return this;\r\n        }\r\n    }\r\n```\r\n\r\nChanging my method from:\r\n\r\n```\r\n\t\tCommandLine cmd = new CommandLine(&quot;pdfinfo&quot;);\r\n\t\tcmd.addArgument(&quot;-box&quot;);\r\n\t\tcmd.addArgument(pdfFile.getAbsolutePath());\r\n```\r\n\r\nTo:\r\n\r\n```\r\n\t\tCommandLine cmd = new CommandLine(&quot;pdfinfo&quot;);\r\n\t\tcmd.addArgument(&quot;-box&quot;);\r\n\t\tcmd.addArgument(pdfFile.getAbsolutePath(), false); &lt;-- change here\r\n```\r\n\r\nSolved the issue for me. No quotes were added and the CommandLine was able to find the file.\r\n","title":"How to access file path with spaces from command prompt in Java","body":"<p>When using the CommandLine class <code>addArgument</code> method without defining the boolean <code>handleQuoting</code>, it will set <code>handleQuoting</code> to true for you, basically adding quotes to the argument. This is the method invoking:</p>\n<pre><code>    public CommandLine addArgument(String argument) {\n        return this.addArgument(argument, true);\n    }\n\n    public CommandLine addArgument(String argument, boolean handleQuoting) {\n        if (argument == null) {\n            return this;\n        } else {\n            if (handleQuoting) {\n                StringUtils.quoteArgument(argument);\n            }\n\n            this.arguments.add(new Argument(argument, handleQuoting));\n            return this;\n        }\n    }\n</code></pre>\n<p>Changing my method from:</p>\n<pre><code>        CommandLine cmd = new CommandLine(&quot;pdfinfo&quot;);\n        cmd.addArgument(&quot;-box&quot;);\n        cmd.addArgument(pdfFile.getAbsolutePath());\n</code></pre>\n<p>To:</p>\n<pre><code>        CommandLine cmd = new CommandLine(&quot;pdfinfo&quot;);\n        cmd.addArgument(&quot;-box&quot;);\n        cmd.addArgument(pdfFile.getAbsolutePath(), false); &lt;-- change here\n</code></pre>\n<p>Solved the issue for me. No quotes were added and the CommandLine was able to find the file.</p>\n"}],"owner":{"account_id":1487317,"reputation":143,"user_id":1395264,"accept_rate":8,"display_name":"user1395264"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3118,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1675874019,"creation_date":1416925847,"question_id":27129347,"body_markdown":"I am trying to run a batch file from a Java program. \r\nFor instance: I have a batch &quot;abc.bat&quot; in a folder in &quot;Program Files&quot;.\r\n\r\nI want to execute this batch from my Java Program. I am using CommandLine class, Commons-exec jar.\r\n\r\n    CommandLine cmdLine = CommandLine.parse(&quot;cmd&quot;);\r\n    cmdLine.addArgument(&quot;/c start \\&quot;\\&quot; \\&quot;C:\\\\Program Files\\\\abc.bat\\&quot;&quot;);\r\n\r\n    DefaultExecutor exec = new DefaultExecutor();\r\n    Process p = Runtime.getRuntime().exec(cmdLine.toString());\r\n    exec.execute(cmdLine);\r\n\r\nThe above code throws an error saying &quot;Windows cant find the file. Make sure you typed the name correctly, and try again&quot;. And, that is because of the spaces in the path.\r\n\r\nSo, I tried the answer provided here by @brso05 and that works. But I want it to be in a Future Class. Please find my code below and help me fix it.\r\n\r\n    final CommandLine cmdLine = CommandLine.parse(&quot;cmd.exe&quot;);\r\n\tcmdLine.addArgument(&quot;/c&quot;);\r\n\tcmdLine.addArgument(&quot;start&quot;);\r\n\tcmdLine.addArgument(&quot;\\&quot;&quot;+ batchFileExecute.getParent().toString() + &quot;\\&quot;&quot;);\r\n\t\r\n\tExecutorService es = Executors.newFixedThreadPool(1);\r\n\tFuture&lt;?&gt; future = es.submit(new Runnable() {\r\n\t\t\tpublic void run() {\r\n\t\t\t\t\tDefaultExecutor exec = new DefaultExecutor();\r\n\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\tProcess p = Runtime.getRuntime().exec(cmdLine.toString());\r\n\t\t\t\t\t\t\t\texec.execute(cmdLine);\r\n\t\t\t\t\t\t\t\tSystem.out.println(p.waitFor());\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tcatch (IOException e) \r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tcatch (InterruptedException e)\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\tString thread_status = null;\r\n\t\t\t\t\t\t\t\ttry \r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tthread_status = future.get().toString(); \r\n\t\t\t\t\t\t\t\t\tSystem.out.println(thread_status+&quot; completed the execution&quot;);\r\n\t\t\t\t\t\t\t\t} \r\n\t\t\t\t\t\t\t\tcatch (NullPointerException e) \r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tSystem.out.println(&quot;The execution of the received project is     complete.&quot;);\t\t\t\t\t\r\n    // In here I want to do some processing again.\r\n    }\r\n\r\nThe code I mentioned works but it doesnt work if my batch file has a spaces in the path. Can you help me fix this?\r\n\r\nBecuase the snippet you&#39;ve given works but then I cant put it into Future. It doesnt work in the desired manner.\r\n\r\nThanks in advance!\r\n\r\n\r\n","title":"How to access file path with spaces from command prompt in Java","body":"<p>I am trying to run a batch file from a Java program. \nFor instance: I have a batch \"abc.bat\" in a folder in \"Program Files\".</p>\n\n<p>I want to execute this batch from my Java Program. I am using CommandLine class, Commons-exec jar.</p>\n\n<pre><code>CommandLine cmdLine = CommandLine.parse(\"cmd\");\ncmdLine.addArgument(\"/c start \\\"\\\" \\\"C:\\\\Program Files\\\\abc.bat\\\"\");\n\nDefaultExecutor exec = new DefaultExecutor();\nProcess p = Runtime.getRuntime().exec(cmdLine.toString());\nexec.execute(cmdLine);\n</code></pre>\n\n<p>The above code throws an error saying \"Windows cant find the file. Make sure you typed the name correctly, and try again\". And, that is because of the spaces in the path.</p>\n\n<p>So, I tried the answer provided here by @brso05 and that works. But I want it to be in a Future Class. Please find my code below and help me fix it.</p>\n\n<pre><code>final CommandLine cmdLine = CommandLine.parse(\"cmd.exe\");\ncmdLine.addArgument(\"/c\");\ncmdLine.addArgument(\"start\");\ncmdLine.addArgument(\"\\\"\"+ batchFileExecute.getParent().toString() + \"\\\"\");\n\nExecutorService es = Executors.newFixedThreadPool(1);\nFuture&lt;?&gt; future = es.submit(new Runnable() {\n        public void run() {\n                DefaultExecutor exec = new DefaultExecutor();\n                        try {\n                            Process p = Runtime.getRuntime().exec(cmdLine.toString());\n                            exec.execute(cmdLine);\n                            System.out.println(p.waitFor());\n                            }\n                        catch (IOException e) \n                            {\n                                e.printStackTrace();\n                            }\n                        catch (InterruptedException e)\n                            {\n                                e.printStackTrace();\n                            }\n                        }\n                        });\n                            String thread_status = null;\n                            try \n                            {\n                                thread_status = future.get().toString(); \n                                System.out.println(thread_status+\" completed the execution\");\n                            } \n                            catch (NullPointerException e) \n                            {\n                            System.out.println(\"The execution of the received project is     complete.\");                   \n// In here I want to do some processing again.\n}\n</code></pre>\n\n<p>The code I mentioned works but it doesnt work if my batch file has a spaces in the path. Can you help me fix this?</p>\n\n<p>Becuase the snippet you've given works but then I cant put it into Future. It doesnt work in the desired manner.</p>\n\n<p>Thanks in advance!</p>\n"},{"tags":["java","cryptography","rsa","public-key-encryption"],"comments":[{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1675875179,"post_id":75388851,"comment_id":133023343,"body_markdown":"To use `Base64.getDecoder()` you must remove the BEGIN and END lines AND THE LINEBREAKS (may be either LF or CRLF). Character a in hex (aka \\x0A or U+000A) is LF. Alternatively use `getMimeDecoder()` which does handle linebreaks, see the javadoc.","body":"To use <code>Base64.getDecoder()</code> you must remove the BEGIN and END lines AND THE LINEBREAKS (may be either LF or CRLF). Character a in hex (aka \\x0A or U+000A) is LF. Alternatively use <code>getMimeDecoder()</code> which does handle linebreaks, see the javadoc."}],"owner":{"account_id":26467937,"reputation":57,"user_id":20108901,"display_name":"Hello"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":221,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675873817,"creation_date":1675873817,"question_id":75388851,"body_markdown":"I have the below RSA key.How do i convert the below public key to an object of\r\n \r\n\r\n*java.security.PublicKey*\r\n\r\nI used below code but got the error\r\n\r\n    byte[] publicBytes = Base64.getDecoder().decode(publicKey);\r\n        \t\t X509EncodedKeySpec keySpec = new X509EncodedKeySpec(publicBytes);\r\n        \t\t KeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\r\n        \t\t PublicKey pubKey = keyFactory.generatePublic(keySpec);\r\n\r\n\r\nError i got is \r\nException in thread &quot;main&quot; java.lang.IllegalArgumentException: Illegal base64 character a\r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: Illegal\r\n&gt; base64 character a\r\n\r\n\r\nI had removed the BEGIN and END from the key.For security purpose i have put same line in the below public key\r\n\r\n    -----BEGIN PUBLIC KEY-----\r\n    MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEArFO+fbOXXZwJfD8242Iq\r\n    MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEArFO+fbOXXZwJfD8242Iq\r\n    MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEArFO+fbOXXZwJfD8242Iq\r\n    MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEArFO+fbOXXZwJfD8242Iq\r\n    MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEArFO+fbOXXZwJfD8242Iq\r\n    MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEArFO+fbOXXZwJfD8242Iq\r\n    TQIDAQAB\r\n    -----END PUBLIC KEY-----","title":"PublicKey object from public key string","body":"<p>I have the below RSA key.How do i convert the below public key to an object of</p>\n<p><em>java.security.PublicKey</em></p>\n<p>I used below code but got the error</p>\n<pre><code>byte[] publicBytes = Base64.getDecoder().decode(publicKey);\n             X509EncodedKeySpec keySpec = new X509EncodedKeySpec(publicBytes);\n             KeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\n             PublicKey pubKey = keyFactory.generatePublic(keySpec);\n</code></pre>\n<p>Error i got is\nException in thread &quot;main&quot; java.lang.IllegalArgumentException: Illegal base64 character a</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: Illegal\nbase64 character a</p>\n</blockquote>\n<p>I had removed the BEGIN and END from the key.For security purpose i have put same line in the below public key</p>\n<pre><code>-----BEGIN PUBLIC KEY-----\nMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEArFO+fbOXXZwJfD8242Iq\nMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEArFO+fbOXXZwJfD8242Iq\nMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEArFO+fbOXXZwJfD8242Iq\nMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEArFO+fbOXXZwJfD8242Iq\nMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEArFO+fbOXXZwJfD8242Iq\nMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEArFO+fbOXXZwJfD8242Iq\nTQIDAQAB\n-----END PUBLIC KEY-----\n</code></pre>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":7532544,"reputation":914,"user_id":5720118,"accept_rate":92,"display_name":"Binyamin Regev"},"score":0,"creation_date":1619677556,"post_id":67310161,"comment_id":118978079,"body_markdown":"Please add the code for the `Country` class. Tip: it&#39;s a better practice to use `List` in the definition of a property because you are not committing to a specific implementation. Usee `ArrayList` in the implementation.\nNote in the exception message:(java.lang.reflect.InaccessibleObjectException) Unable to make public int ca.intfast.code.Campaign.getCampaignId() accessible:","body":"Please add the code for the <code>Country</code> class. Tip: it&#39;s a better practice to use <code>List</code> in the definition of a property because you are not committing to a specific implementation. Usee <code>ArrayList</code> in the implementation. Note in the exception message:(java.lang.reflect.InaccessibleObjectException) Unable to make public int ca.intfast.code.Campaign.getCampaignId() accessible:"},{"owner":{"account_id":552536,"reputation":141,"user_id":917689,"display_name":"Ursego"},"score":0,"creation_date":1619685490,"post_id":67310161,"comment_id":118981284,"body_markdown":"Toda! I believe, getCampaignId() is in the message just because it was encountered first. Country is an enum (I tried to provide its code, but it&#39;s impossible to mark it as &quot;code&quot; in the comment so it was one line, but it&#39;s just a straightforward enum).","body":"Toda! I believe, getCampaignId() is in the message just because it was encountered first. Country is an enum (I tried to provide its code, but it&#39;s impossible to mark it as &quot;code&quot; in the comment so it was one line, but it&#39;s just a straightforward enum)."},{"owner":{"account_id":7532544,"reputation":914,"user_id":5720118,"accept_rate":92,"display_name":"Binyamin Regev"},"score":0,"creation_date":1619690340,"post_id":67310161,"comment_id":118983495,"body_markdown":"You don&#39;t need to use *super()* in the public Campaign(int, Country, String, ArrayList&lt;BannerSize&gt;) constructor because you don&#39;t extend any class and in the Object class, there&#39;s no such constructor. Jackson is doing its databind with PUBLIC properties or properties which has PUBLIC *getters* and *setters*.","body":"You don&#39;t need to use <i>super()</i> in the public Campaign(int, Country, String, ArrayList&lt;BannerSize&gt;) constructor because you don&#39;t extend any class and in the Object class, there&#39;s no such constructor. Jackson is doing its databind with PUBLIC properties or properties which has PUBLIC <i>getters</i> and <i>setters</i>."},{"owner":{"account_id":552536,"reputation":141,"user_id":917689,"display_name":"Ursego"},"score":0,"creation_date":1619697826,"post_id":67310161,"comment_id":118986887,"body_markdown":"super() was added automatically when Eclipse created the constructor. &quot;there&#39;s no such constructor&quot; - you are wrong, such a constructor exists in the ancestor (Object). Calling an non-existing constructor gives an error. All the getter and setters in all the classes are public (it&#39;s their meaning to be public to access private data).","body":"super() was added automatically when Eclipse created the constructor. &quot;there&#39;s no such constructor&quot; - you are wrong, such a constructor exists in the ancestor (Object). Calling an non-existing constructor gives an error. All the getter and setters in all the classes are public (it&#39;s their meaning to be public to access private data)."}],"answers":[{"tags":[],"owner":{"account_id":26514687,"reputation":11,"user_id":20149405,"display_name":"Zerog"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675873662,"creation_date":1675873662,"answer_id":75388823,"question_id":67310161,"body_markdown":"I had the same error and what helped for me is exporting my packets to module-info.java\r\n\r\nMy module-info was:\r\n\r\n    module com.me.testjson {\r\n    requires javafx.controls;\r\n    requires javafx.fxml;\r\n    requires com.fasterxml.jackson.databind;\r\n\r\n\r\n    opens com.me.forsite to javafx.fxml;\r\n    exports com.me.forsite;\r\n    }\r\n\r\nAnd I exported folders that Jackson required:\r\n\r\n    module com.me.testjson {\r\n    requires javafx.controls;\r\n    requires javafx.fxml;\r\n    requires com.fasterxml.jackson.databind;\r\n\r\n\r\n    opens com.me.forsite to javafx.fxml;\r\n    exports com.me.forsite;\r\n    exports com.me.forsite.enums;\r\n    }\r\nAnd all worked. Maybe you should export **ca.intfast.code** like i exported **com.me.forsite.enums**\r\n","title":"Java Jackson failed to construct BeanSerializer","body":"<p>I had the same error and what helped for me is exporting my packets to module-info.java</p>\n<p>My module-info was:</p>\n<pre><code>module com.me.testjson {\nrequires javafx.controls;\nrequires javafx.fxml;\nrequires com.fasterxml.jackson.databind;\n\n\nopens com.me.forsite to javafx.fxml;\nexports com.me.forsite;\n}\n</code></pre>\n<p>And I exported folders that Jackson required:</p>\n<pre><code>module com.me.testjson {\nrequires javafx.controls;\nrequires javafx.fxml;\nrequires com.fasterxml.jackson.databind;\n\n\nopens com.me.forsite to javafx.fxml;\nexports com.me.forsite;\nexports com.me.forsite.enums;\n}\n</code></pre>\n<p>And all worked. Maybe you should export <strong>ca.intfast.code</strong> like i exported <strong>com.me.forsite.enums</strong></p>\n"}],"owner":{"account_id":552536,"reputation":141,"user_id":917689,"display_name":"Ursego"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2385,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675873662,"creation_date":1619662474,"question_id":67310161,"body_markdown":"Question from a Java beginner.\r\nI have this class:\r\n\r\n    package ca.intfast.code;\r\n    \r\n    import java.io.Serializable;\r\n    import java.util.ArrayList;\r\n    \r\n    public class Campaign implements Serializable {\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \tprivate int campaignId;\r\n    \tprivate Country targetedCountry;\r\n    \tprivate String targetedDomain;\r\n    \tprivate ArrayList&lt;BannerSize&gt; availableBannerSizeList;\r\n    \t\r\n    \t// Constructors:\r\n    \r\n    \tpublic Campaign() { // needed for serialization\r\n    \t\tsuper();\r\n    \t};\r\n    \r\n    \tpublic Campaign(int campaignId, Country targetedCountry, String targetedDomain, ArrayList&lt;BannerSize&gt; availableBannerSizeList) {\r\n    \t\tsuper();\r\n    \t\tthis.setCampaignId(campaignId);\r\n    \t\tthis.setTargetedDomain(targetedDomain);\r\n    \t\tthis.setTargetedCountry(targetedCountry);\r\n    \t\tthis.setTargetedDomain(targetedDomain);\r\n    \t\tthis.setAvailableBannerSizeList(availableBannerSizeList);\r\n    \t}\r\n    \t\r\n    \t// Methods:\r\n    \t\r\n    \tpublic String getDomainOfTargetedDomain() {\r\n    \t\treturn Util.extractDomainName(getTargetedDomain()); // &quot;https://toronto.com/&quot; &gt;&gt;&gt; &quot;toronto.com&quot;\r\n    \t}\r\n    \t\r\n    \t// Getters/setters:\r\n    \t\r\n    \tpublic int getCampaignId() {\r\n    \t\treturn campaignId;\r\n    \t}\r\n    \tpublic void setCampaignId(int campaignId) {\r\n    \t\tif (campaignId &lt; 1) throw new IllegalArgumentException(campaignId + &quot; must be positive.&quot;);\r\n    \t\tthis.campaignId = campaignId;\r\n    \t}\r\n    \t\r\n    \tpublic Country getTargetedCountry() {\r\n    \t\treturn targetedCountry;\r\n    \t}\r\n    \tpublic void setTargetedCountry(Country targetedCountry) {\r\n    \t\tif (targetedCountry == null) throw new IllegalArgumentException(targetedCountry + &quot; cannot be null.&quot;);\r\n    \t\tthis.targetedCountry = targetedCountry;\r\n    \t}\r\n    \t\r\n    \tpublic String getTargetedDomain() {\r\n    \t\treturn targetedDomain;\r\n    \t}\r\n    \tpublic void setTargetedDomain(String targetedDomain) {\r\n    \t\tif (targetedDomain == null) throw new IllegalArgumentException(targetedDomain + &quot; cannot be null.&quot;);\r\n    \t\tif (!Util.isValidURL(targetedDomain)) throw new IllegalArgumentException(targetedDomain + &quot; is not a valid URL.&quot;);\r\n    \t\tthis.targetedDomain = targetedDomain;\r\n    \t}\r\n    \t\r\n    \tpublic ArrayList&lt;BannerSize&gt; getAvailableBannerSizeList() {\r\n    \t\treturn availableBannerSizeList;\r\n    \t}\r\n    \tpublic void setAvailableBannerSizeList(ArrayList&lt;BannerSize&gt; availableBannerSizeList) {\r\n    \t\tif (availableBannerSizeList == null) throw new IllegalArgumentException(availableBannerSizeList + &quot; cannot be null.&quot;);\r\n    \t\tthis.availableBannerSizeList = availableBannerSizeList;\r\n    \t}\r\n    }\r\n\r\nI am trying to write a test object of the Campaign class to a JSON file:\r\n\r\n    ObjectMapper objectMapper = new ObjectMapper();\r\n    objectMapper.configure(SerializationFeature.FAIL_ON_EMPTY_BEANS, false);\r\n    Campaign testCampaign = new Campaign(1, Country.FRANCE, &quot;https://paris.com/&quot;, new ArrayList&lt;BannerSize&gt;(List.of(BannerSize.x300y250, BannerSize.x600y200)));\r\n    try {\r\n    \tobjectMapper.writeValue(new File(&quot;D:/bids.json&quot;), testCampaign); // this line gives the error\r\n    } catch (JsonGenerationException e) {\r\n    \te.printStackTrace();\r\n    } catch (JsonMappingException e) {\r\n    \te.printStackTrace();\r\n    } catch (IOException e) {\r\n    \te.printStackTrace();\r\n    }\r\n\r\nThe error is:\r\n\r\n**com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Invalid type definition for type `ca.intfast.code.Campaign`: Failed to construct BeanSerializer for [simple type, class ca.intfast.code.Campaign]: (java.lang.reflect.InaccessibleObjectException) Unable to make public int ca.intfast.code.Campaign.getCampaignId() accessible: module code does not &quot;exports ca.intfast.code&quot; to module com.fasterxml.jackson.databind**\r\n\r\nMy googling possibilities are exhausted. Does anybody have an idea?\r\n\r\nThanks!!!","title":"Java Jackson failed to construct BeanSerializer","body":"<p>Question from a Java beginner.\nI have this class:</p>\n<pre><code>package ca.intfast.code;\n\nimport java.io.Serializable;\nimport java.util.ArrayList;\n\npublic class Campaign implements Serializable {\n    private static final long serialVersionUID = 1L;\n    private int campaignId;\n    private Country targetedCountry;\n    private String targetedDomain;\n    private ArrayList&lt;BannerSize&gt; availableBannerSizeList;\n    \n    // Constructors:\n\n    public Campaign() { // needed for serialization\n        super();\n    };\n\n    public Campaign(int campaignId, Country targetedCountry, String targetedDomain, ArrayList&lt;BannerSize&gt; availableBannerSizeList) {\n        super();\n        this.setCampaignId(campaignId);\n        this.setTargetedDomain(targetedDomain);\n        this.setTargetedCountry(targetedCountry);\n        this.setTargetedDomain(targetedDomain);\n        this.setAvailableBannerSizeList(availableBannerSizeList);\n    }\n    \n    // Methods:\n    \n    public String getDomainOfTargetedDomain() {\n        return Util.extractDomainName(getTargetedDomain()); // &quot;https://toronto.com/&quot; &gt;&gt;&gt; &quot;toronto.com&quot;\n    }\n    \n    // Getters/setters:\n    \n    public int getCampaignId() {\n        return campaignId;\n    }\n    public void setCampaignId(int campaignId) {\n        if (campaignId &lt; 1) throw new IllegalArgumentException(campaignId + &quot; must be positive.&quot;);\n        this.campaignId = campaignId;\n    }\n    \n    public Country getTargetedCountry() {\n        return targetedCountry;\n    }\n    public void setTargetedCountry(Country targetedCountry) {\n        if (targetedCountry == null) throw new IllegalArgumentException(targetedCountry + &quot; cannot be null.&quot;);\n        this.targetedCountry = targetedCountry;\n    }\n    \n    public String getTargetedDomain() {\n        return targetedDomain;\n    }\n    public void setTargetedDomain(String targetedDomain) {\n        if (targetedDomain == null) throw new IllegalArgumentException(targetedDomain + &quot; cannot be null.&quot;);\n        if (!Util.isValidURL(targetedDomain)) throw new IllegalArgumentException(targetedDomain + &quot; is not a valid URL.&quot;);\n        this.targetedDomain = targetedDomain;\n    }\n    \n    public ArrayList&lt;BannerSize&gt; getAvailableBannerSizeList() {\n        return availableBannerSizeList;\n    }\n    public void setAvailableBannerSizeList(ArrayList&lt;BannerSize&gt; availableBannerSizeList) {\n        if (availableBannerSizeList == null) throw new IllegalArgumentException(availableBannerSizeList + &quot; cannot be null.&quot;);\n        this.availableBannerSizeList = availableBannerSizeList;\n    }\n}\n</code></pre>\n<p>I am trying to write a test object of the Campaign class to a JSON file:</p>\n<pre><code>ObjectMapper objectMapper = new ObjectMapper();\nobjectMapper.configure(SerializationFeature.FAIL_ON_EMPTY_BEANS, false);\nCampaign testCampaign = new Campaign(1, Country.FRANCE, &quot;https://paris.com/&quot;, new ArrayList&lt;BannerSize&gt;(List.of(BannerSize.x300y250, BannerSize.x600y200)));\ntry {\n    objectMapper.writeValue(new File(&quot;D:/bids.json&quot;), testCampaign); // this line gives the error\n} catch (JsonGenerationException e) {\n    e.printStackTrace();\n} catch (JsonMappingException e) {\n    e.printStackTrace();\n} catch (IOException e) {\n    e.printStackTrace();\n}\n</code></pre>\n<p>The error is:</p>\n<p><strong>com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Invalid type definition for type <code>ca.intfast.code.Campaign</code>: Failed to construct BeanSerializer for [simple type, class ca.intfast.code.Campaign]: (java.lang.reflect.InaccessibleObjectException) Unable to make public int ca.intfast.code.Campaign.getCampaignId() accessible: module code does not &quot;exports ca.intfast.code&quot; to module com.fasterxml.jackson.databind</strong></p>\n<p>My googling possibilities are exhausted. Does anybody have an idea?</p>\n<p>Thanks!!!</p>\n"},{"tags":["java","intellij-idea","wildfly","pom.xml","maven-plugin"],"comments":[{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1675855464,"post_id":75384984,"comment_id":133016502,"body_markdown":"[Please do not upload images of code/data/errors.](//meta.stackoverflow.com/q/285551) Instead [edit] yoru question to include the full error message as properly formatted text.","body":"<a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/data/errors.</a> Instead <a href=\"https://stackoverflow.com/posts/75384984/edit\">edit</a> yoru question to include the full error message as properly formatted text."},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1675870286,"post_id":75384984,"comment_id":133021466,"body_markdown":"There should be some log messages in the server logs.","body":"There should be some log messages in the server logs."},{"owner":{"account_id":24451368,"reputation":1,"user_id":20713936,"display_name":"Santiago Fern&#225;ndez S&#225;nchez"},"score":0,"creation_date":1675873701,"post_id":75384984,"comment_id":133022818,"body_markdown":"Thanks, i change the image for code format like you say","body":"Thanks, i change the image for code format like you say"},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1675933739,"post_id":75384984,"comment_id":133035443,"body_markdown":"Did you find anything in your server logs? There should be more details there.","body":"Did you find anything in your server logs? There should be more details there."}],"owner":{"account_id":24451368,"reputation":1,"user_id":20713936,"display_name":"Santiago Fern&#225;ndez S&#225;nchez"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675873495,"creation_date":1675854993,"question_id":75384984,"body_markdown":"Failed to execute goal deploy: {&quot;WFLYCTL0062: Composite operation failed and was rolled back. Steps that failed:&quot; =&gt; {&quot;Operation step-1&quot; =&gt; {&quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.deployment.subunit.\\&quot;lts-ear-1.0.0-Alpha41-SNAPSHOT.ear\\&quot;.\\&quot;lts-core.jar\\&quot;.component.CabinLayoutManagerImpl.START&quot; =&gt; &quot;java.lang.IllegalStateException: WFLYEE0042: Failed to construct component instance\r\n\r\nProblem here\r\n\r\n```\r\n[ERROR] Failed to execute goal org.wildfly.plugins:wildfly-maven-plugin:1.2.1.Final:deploy (default) on project lts-ear: Failed to execute goal deploy: {&quot;WFLYCTL0062: Composite operation failed and was rolled back. Steps that failed:&quot; =&gt; {&quot;Operation step-1&quot; =&gt; {&quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.deployment.subunit.\\&quot;lts-ear-1.0.0-Alpha35-SNAPSHOT.ear\\&quot;.\\&quot;lts-core.jar\\&quot;.component.CabinLayoutManagerImpl.START&quot; =&gt; &quot;java.lang.IllegalStateException: WFLYEE0042: Failed to construct component instance\r\n[ERROR]     Caused by: java.lang.IllegalStateException: WFLYEE0042: Failed to construct component instance\r\n[ERROR]     Caused by: javax.ejb.EJBTransactionRolledbackException\r\n[ERROR]     Caused by: java.lang.NullPointerException&quot;},&quot;WFLYCTL0412: Required services that are not installed:&quot; =&gt; [&quot;jboss.deployment.subunit.\\&quot;lts-ear-1.0.0-Alpha35-SNAPSHOT.ear\\&quot;.\\&quot;lts-core.jar\\&quot;.deploymentCompleteService&quot;],&quot;WFLYCTL0180: Services with missing/unavailable dependencies&quot; =&gt; [&quot;jboss.deployment.unit.\\&quot;lts-ear-1.0.0-Alpha35-SNAPSHOT.ear\\&quot;.deploymentCompleteService is missing [jboss.deployment.subunit.\\&quot;lts-ear-1.0.0-Alpha35-SNAPSHOT.ear\\&quot;.\\&quot;lts-core.jar\\&quot;.deploymentCompleteService]&quot;]}}}\r\n[ERROR] -&gt; [Help 1]\r\n[ERROR]\r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n[ERROR]\r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n[ERROR]\r\n[ERROR] After correcting the problems, you can resume the build with the command\r\n[ERROR]   mvn &lt;args&gt; -rf :lts-ear\r\n\r\n```\r\n\r\n\r\nThe pom is here\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;aero.navblue.nperformance.lts&lt;/groupId&gt;\r\n        &lt;artifactId&gt;lts-ng&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0.0-Alpha41-SNAPSHOT&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n    &lt;artifactId&gt;lts-ear&lt;/artifactId&gt;\r\n    &lt;packaging&gt;ear&lt;/packaging&gt;\r\n\r\n    &lt;dependencies&gt;\r\n\r\n        &lt;!-- LTS --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;aero.navblue.nperformance.lts&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lts-war&lt;/artifactId&gt;\r\n            &lt;version&gt;${project.version}&lt;/version&gt;\r\n            &lt;type&gt;war&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;aero.navblue.nperformance.lts&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lts-core&lt;/artifactId&gt;\r\n            &lt;version&gt;${project.version}&lt;/version&gt;\r\n            &lt;type&gt;ejb&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n\r\n        &lt;!-- Hack to replace placeholders in non-build resources. --&gt;\r\n        &lt;resources&gt;\r\n            &lt;resource&gt;\r\n                &lt;directory&gt;${project.basedir}/..&lt;/directory&gt;\r\n                &lt;includes&gt;\r\n                    &lt;include&gt;sonar-project.properties&lt;/include&gt;\r\n                &lt;/includes&gt;\r\n                &lt;filtering&gt;true&lt;/filtering&gt;\r\n            &lt;/resource&gt;\r\n        &lt;/resources&gt;\r\n\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-ear-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.wildfly.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;wildfly-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;1.2.1.Final&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;port&gt;9990&lt;/port&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;undeploy&lt;/id&gt;\r\n                        &lt;phase&gt;${cleanup.phase}&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;undeploy&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;ignoreMissingDeployment&gt;true&lt;/ignoreMissingDeployment&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;${deployment.phase}&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;deploy&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\n\r\ni expect this working","title":"Why when I try to compile it tells me that some plugin is missing when they are all there?","body":"<p>Failed to execute goal deploy: {&quot;WFLYCTL0062: Composite operation failed and was rolled back. Steps that failed:&quot; =&gt; {&quot;Operation step-1&quot; =&gt; {&quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.deployment.subunit.&quot;lts-ear-1.0.0-Alpha41-SNAPSHOT.ear&quot;.&quot;lts-core.jar&quot;.component.CabinLayoutManagerImpl.START&quot; =&gt; &quot;java.lang.IllegalStateException: WFLYEE0042: Failed to construct component instance</p>\n<p>Problem here</p>\n<pre><code>[ERROR] Failed to execute goal org.wildfly.plugins:wildfly-maven-plugin:1.2.1.Final:deploy (default) on project lts-ear: Failed to execute goal deploy: {&quot;WFLYCTL0062: Composite operation failed and was rolled back. Steps that failed:&quot; =&gt; {&quot;Operation step-1&quot; =&gt; {&quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.deployment.subunit.\\&quot;lts-ear-1.0.0-Alpha35-SNAPSHOT.ear\\&quot;.\\&quot;lts-core.jar\\&quot;.component.CabinLayoutManagerImpl.START&quot; =&gt; &quot;java.lang.IllegalStateException: WFLYEE0042: Failed to construct component instance\n[ERROR]     Caused by: java.lang.IllegalStateException: WFLYEE0042: Failed to construct component instance\n[ERROR]     Caused by: javax.ejb.EJBTransactionRolledbackException\n[ERROR]     Caused by: java.lang.NullPointerException&quot;},&quot;WFLYCTL0412: Required services that are not installed:&quot; =&gt; [&quot;jboss.deployment.subunit.\\&quot;lts-ear-1.0.0-Alpha35-SNAPSHOT.ear\\&quot;.\\&quot;lts-core.jar\\&quot;.deploymentCompleteService&quot;],&quot;WFLYCTL0180: Services with missing/unavailable dependencies&quot; =&gt; [&quot;jboss.deployment.unit.\\&quot;lts-ear-1.0.0-Alpha35-SNAPSHOT.ear\\&quot;.deploymentCompleteService is missing [jboss.deployment.subunit.\\&quot;lts-ear-1.0.0-Alpha35-SNAPSHOT.ear\\&quot;.\\&quot;lts-core.jar\\&quot;.deploymentCompleteService]&quot;]}}}\n[ERROR] -&gt; [Help 1]\n[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n[ERROR]\n[ERROR] After correcting the problems, you can resume the build with the command\n[ERROR]   mvn &lt;args&gt; -rf :lts-ear\n\n</code></pre>\n<p>The pom is here</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;aero.navblue.nperformance.lts&lt;/groupId&gt;\n        &lt;artifactId&gt;lts-ng&lt;/artifactId&gt;\n        &lt;version&gt;1.0.0-Alpha41-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n    &lt;artifactId&gt;lts-ear&lt;/artifactId&gt;\n    &lt;packaging&gt;ear&lt;/packaging&gt;\n\n    &lt;dependencies&gt;\n\n        &lt;!-- LTS --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;aero.navblue.nperformance.lts&lt;/groupId&gt;\n            &lt;artifactId&gt;lts-war&lt;/artifactId&gt;\n            &lt;version&gt;${project.version}&lt;/version&gt;\n            &lt;type&gt;war&lt;/type&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;aero.navblue.nperformance.lts&lt;/groupId&gt;\n            &lt;artifactId&gt;lts-core&lt;/artifactId&gt;\n            &lt;version&gt;${project.version}&lt;/version&gt;\n            &lt;type&gt;ejb&lt;/type&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n\n        &lt;!-- Hack to replace placeholders in non-build resources. --&gt;\n        &lt;resources&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;${project.basedir}/..&lt;/directory&gt;\n                &lt;includes&gt;\n                    &lt;include&gt;sonar-project.properties&lt;/include&gt;\n                &lt;/includes&gt;\n                &lt;filtering&gt;true&lt;/filtering&gt;\n            &lt;/resource&gt;\n        &lt;/resources&gt;\n\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-ear-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.wildfly.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;wildfly-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.2.1.Final&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;port&gt;9990&lt;/port&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;undeploy&lt;/id&gt;\n                        &lt;phase&gt;${cleanup.phase}&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;undeploy&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;ignoreMissingDeployment&gt;true&lt;/ignoreMissingDeployment&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;${deployment.phase}&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;deploy&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>i expect this working</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"comments":[{"owner":{"account_id":27270469,"reputation":135,"user_id":20791861,"display_name":"abi jega"},"score":0,"creation_date":1675873851,"post_id":75388737,"comment_id":133022879,"body_markdown":"now error go away.but if i test through api login. if i type wrong user and password also display the message success why is that","body":"now error go away.but if i test through api login. if i type wrong user and password also display the message success why is that"},{"owner":{"account_id":12439293,"reputation":159,"user_id":9058307,"display_name":"abetobing"},"score":0,"creation_date":1675874065,"post_id":75388737,"comment_id":133022953,"body_markdown":"You might want to check your authentication logic.","body":"You might want to check your authentication logic."},{"owner":{"account_id":27270469,"reputation":135,"user_id":20791861,"display_name":"abi jega"},"score":0,"creation_date":1675874122,"post_id":75388737,"comment_id":133022973,"body_markdown":"in controller we have to check so i don&#39;t know how to check","body":"in controller we have to check so i don&#39;t know how to check"}],"tags":[],"owner":{"account_id":12439293,"reputation":159,"user_id":9058307,"display_name":"abetobing"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1675873292,"creation_date":1675873292,"answer_id":75388737,"question_id":75388143,"body_markdown":"The error message is pretty clear. `No property &#39;usernamePassword&#39; found for type &#39;Employee&#39;`\r\n\r\nIt expect `usernamePassword` field inside `Employee`, but in your `Employee.java` you have email and password?\r\n\r\nYou might want to change `findByUsernamePassword(String username, String password);` to:\r\n\r\n```java\r\npublic  Employee findOneByEmailAndPassword(String email, String password);\r\n```\r\n\r\n\r\n### Or \r\n\r\nCreate a `String username` field in `Employee.java` with its getters and setters. Then change the repository method to\r\n\r\n```java\r\npublic  Employee findOneByUsernameAndPassword(String username, String password);\r\n```\r\n\r\n\r\nRead this for more details https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.query-methods.query-creation","title":"Error creating bean with name Spring Boot","body":"<p>The error message is pretty clear. <code>No property 'usernamePassword' found for type 'Employee'</code></p>\n<p>It expect <code>usernamePassword</code> field inside <code>Employee</code>, but in your <code>Employee.java</code> you have email and password?</p>\n<p>You might want to change <code>findByUsernamePassword(String username, String password);</code> to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public  Employee findOneByEmailAndPassword(String email, String password);\n</code></pre>\n<h3>Or</h3>\n<p>Create a <code>String username</code> field in <code>Employee.java</code> with its getters and setters. Then change the repository method to</p>\n<pre class=\"lang-java prettyprint-override\"><code>public  Employee findOneByUsernameAndPassword(String username, String password);\n</code></pre>\n<p>Read this for more details <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.query-methods.query-creation\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.query-methods.query-creation</a></p>\n"}],"owner":{"account_id":27270469,"reputation":135,"user_id":20791861,"display_name":"abi jega"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1545,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75388737,"answer_count":1,"score":1,"last_activity_date":1675873292,"creation_date":1675870605,"question_id":75388143,"body_markdown":"I am new to using Spring Boot. I have already got the user registration form and API working fine and successfully added the records into the database. After completing the login API I ran into the problem with the attached error below. I have attached what I have tried below.\r\nI want to display if the login was successful. Displayed as a JSON format it looks like this, I need help, please help me to correct the code below\r\n\r\n    {\r\n      status = &quot;true&quot;&#39;\r\n      message = &quot;login success&quot;\r\n    }\r\n\r\n\r\nFull Error\r\n\r\n    ework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;employeeController&#39;: Unsatisfied dependency expressed through field &#39;employeeService&#39;; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;employeeIMPL&#39;: Unsatisfied dependency expressed through field &#39;employeeRepo&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;employeeRepo&#39; defined in com.example.Registation.Repo.EmployeeRepo defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract com.example.Registation.Entity.Employee com.example.Registation.Repo.EmployeeRepo.findByUsernamePassword(java.lang.String,java.lang.String); Reason: Failed to create query for method public abstract com.example.Registation.Entity.Employee com.example.Registation.Repo.EmployeeRepo.findByUsernamePassword(java.lang.String,java.lang.String)! No property &#39;usernamePassword&#39; found for type &#39;Employee&#39;; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract com.example.Registation.Entity.Employee com.example.Registation.Repo.EmployeeRepo.findByUsernamePassword(java.lang.String,java.lang.String)! No property &#39;usernamePassword&#39; found for type &#39;Employee&#39;\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659) ~[spring-beans-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:639) ~[spring-beans-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119) ~[spring-beans-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399) ~[spring-beans-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431) ~[spring-beans-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619) ~[spring-beans-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListabl\r\n\r\n**LoginController**\r\n\r\n\r\n      @PostMapping(path = &quot;/login&quot;)\r\n        public String saveEmployee(@RequestBody LoginDTO loginDTO)\r\n        {\r\n            String name = employeeService.loginEmployee(loginDTO);\r\n           return &quot;success&quot;;\r\n        }\r\n\r\nLoginDTO.java\r\n\r\n    public class LoginDTO {\r\n        private String email;\r\n        private String password;\r\n    \r\n        public LoginDTO() {\r\n        }\r\n    \r\n        public LoginDTO(String email, String password) {\r\n            this.email = email;\r\n            this.password = password;\r\n        }\r\n    \r\n        public String getEmail() {\r\n            return email;\r\n        }\r\n    \r\n        public void setEmail(String email) {\r\n            this.email = email;\r\n        }\r\n    \r\n        public String getPassword() {\r\n            return password;\r\n        }\r\n    \r\n        public void setPassword(String password) {\r\n            this.password = password;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;LoginDTO{&quot; +\r\n                    &quot;email=&#39;&quot; + email + &#39;\\&#39;&#39; +\r\n                    &quot;, password=&#39;&quot; + password + &#39;\\&#39;&#39; +\r\n                    &#39;}&#39;;\r\n        }\r\n    }\r\n\r\nEmployee.java\r\n\r\n    @Entity\r\n    @Table(name=&quot;employee&quot;)\r\n    public class Employee {\r\n    \r\n        @Id\r\n        @Column(name=&quot;employee_id&quot;, length = 45)\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private int employeeid;\r\n    \r\n        @Column(name=&quot;employee_name&quot;, length = 255)\r\n        private String employeename;\r\n    \r\n        @Column(name=&quot;email&quot;, length = 255)\r\n        private String email;\r\n    \r\n        @Column(name=&quot;password&quot;, length = 255)\r\n        private String password;\r\n    \r\n    \r\n        public Employee() {\r\n        }\r\n    \r\n        public Employee(int employeeid, String employeename, String email, String password) {\r\n            this.employeeid = employeeid;\r\n            this.employeename = employeename;\r\n            this.email = email;\r\n            this.password = password;\r\n        }\r\n    \r\n    \r\n        public int getEmployeeid() {\r\n            return employeeid;\r\n        }\r\n    \r\n        public void setEmployeeid(int employeeid) {\r\n            this.employeeid = employeeid;\r\n        }\r\n    \r\n        public String getEmployeename() {\r\n            return employeename;\r\n        }\r\n    \r\n        public void setEmployeename(String employeename) {\r\n            this.employeename = employeename;\r\n        }\r\n    \r\n        public String getEmail() {\r\n            return email;\r\n        }\r\n    \r\n        public void setEmail(String email) {\r\n            this.email = email;\r\n        }\r\n    \r\n        public String getPassword() {\r\n            return password;\r\n        }\r\n    \r\n        public void setPassword(String password) {\r\n            this.password = password;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;Employee{&quot; +\r\n                    &quot;employeeid=&quot; + employeeid +\r\n                    &quot;, employeename=&#39;&quot; + employeename + &#39;\\&#39;&#39; +\r\n                    &quot;, email=&#39;&quot; + email + &#39;\\&#39;&#39; +\r\n                    &quot;, password=&#39;&quot; + password + &#39;\\&#39;&#39; +\r\n                    &#39;}&#39;;\r\n        }\r\n    }\r\n\r\nRepo\r\n\r\n    @EnableJpaRepositories\r\n    @Repository\r\n    public interface EmployeeRepo extends JpaRepository&lt;Employee,Integer&gt; {\r\n    \r\n    \r\n          public  Employee findByUsernamePassword(String username, String password);\r\n    \r\n    \r\n    }\r\n\r\nEmployeeService.java\r\n\r\n    public interface EmployeeService {\r\n        String addEmployee(EmployeeDTO employeeDTO);\r\n    \r\n        String loginEmployee(LoginDTO loginDTO);\r\n    }\r\n\r\n\r\nEmployeeIMPL.java\r\n\r\n    public String loginEmployee(LoginDTO loginDTO) {\r\n      Employee employee = employeeRepo.findByUsernamePassword(loginDTO.getEmail(),loginDTO.getPassword());\r\n    \r\n      if(employee == null)\r\n      {\r\n          return &quot;Employee ID Not Found&quot;;\r\n      }\r\n      else\r\n      {\r\n          return &quot;Logged In&quot;;\r\n      }\r\n    }\r\n\r\n\r\n\r\n\r\n","title":"Error creating bean with name Spring Boot","body":"<p>I am new to using Spring Boot. I have already got the user registration form and API working fine and successfully added the records into the database. After completing the login API I ran into the problem with the attached error below. I have attached what I have tried below.\nI want to display if the login was successful. Displayed as a JSON format it looks like this, I need help, please help me to correct the code below</p>\n<pre><code>{\n  status = &quot;true&quot;'\n  message = &quot;login success&quot;\n}\n</code></pre>\n<p>Full Error</p>\n<pre><code>ework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'employeeController': Unsatisfied dependency expressed through field 'employeeService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'employeeIMPL': Unsatisfied dependency expressed through field 'employeeRepo'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'employeeRepo' defined in com.example.Registation.Repo.EmployeeRepo defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract com.example.Registation.Entity.Employee com.example.Registation.Repo.EmployeeRepo.findByUsernamePassword(java.lang.String,java.lang.String); Reason: Failed to create query for method public abstract com.example.Registation.Entity.Employee com.example.Registation.Repo.EmployeeRepo.findByUsernamePassword(java.lang.String,java.lang.String)! No property 'usernamePassword' found for type 'Employee'; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract com.example.Registation.Entity.Employee com.example.Registation.Repo.EmployeeRepo.findByUsernamePassword(java.lang.String,java.lang.String)! No property 'usernamePassword' found for type 'Employee'\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:639) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListabl\n</code></pre>\n<p><strong>LoginController</strong></p>\n<pre><code>  @PostMapping(path = &quot;/login&quot;)\n    public String saveEmployee(@RequestBody LoginDTO loginDTO)\n    {\n        String name = employeeService.loginEmployee(loginDTO);\n       return &quot;success&quot;;\n    }\n</code></pre>\n<p>LoginDTO.java</p>\n<pre><code>public class LoginDTO {\n    private String email;\n    private String password;\n\n    public LoginDTO() {\n    }\n\n    public LoginDTO(String email, String password) {\n        this.email = email;\n        this.password = password;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public String getPassword() {\n        return password;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;LoginDTO{&quot; +\n                &quot;email='&quot; + email + '\\'' +\n                &quot;, password='&quot; + password + '\\'' +\n                '}';\n    }\n}\n</code></pre>\n<p>Employee.java</p>\n<pre><code>@Entity\n@Table(name=&quot;employee&quot;)\npublic class Employee {\n\n    @Id\n    @Column(name=&quot;employee_id&quot;, length = 45)\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private int employeeid;\n\n    @Column(name=&quot;employee_name&quot;, length = 255)\n    private String employeename;\n\n    @Column(name=&quot;email&quot;, length = 255)\n    private String email;\n\n    @Column(name=&quot;password&quot;, length = 255)\n    private String password;\n\n\n    public Employee() {\n    }\n\n    public Employee(int employeeid, String employeename, String email, String password) {\n        this.employeeid = employeeid;\n        this.employeename = employeename;\n        this.email = email;\n        this.password = password;\n    }\n\n\n    public int getEmployeeid() {\n        return employeeid;\n    }\n\n    public void setEmployeeid(int employeeid) {\n        this.employeeid = employeeid;\n    }\n\n    public String getEmployeename() {\n        return employeename;\n    }\n\n    public void setEmployeename(String employeename) {\n        this.employeename = employeename;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public String getPassword() {\n        return password;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Employee{&quot; +\n                &quot;employeeid=&quot; + employeeid +\n                &quot;, employeename='&quot; + employeename + '\\'' +\n                &quot;, email='&quot; + email + '\\'' +\n                &quot;, password='&quot; + password + '\\'' +\n                '}';\n    }\n}\n</code></pre>\n<p>Repo</p>\n<pre><code>@EnableJpaRepositories\n@Repository\npublic interface EmployeeRepo extends JpaRepository&lt;Employee,Integer&gt; {\n\n\n      public  Employee findByUsernamePassword(String username, String password);\n\n\n}\n</code></pre>\n<p>EmployeeService.java</p>\n<pre><code>public interface EmployeeService {\n    String addEmployee(EmployeeDTO employeeDTO);\n\n    String loginEmployee(LoginDTO loginDTO);\n}\n</code></pre>\n<p>EmployeeIMPL.java</p>\n<pre><code>public String loginEmployee(LoginDTO loginDTO) {\n  Employee employee = employeeRepo.findByUsernamePassword(loginDTO.getEmail(),loginDTO.getPassword());\n\n  if(employee == null)\n  {\n      return &quot;Employee ID Not Found&quot;;\n  }\n  else\n  {\n      return &quot;Logged In&quot;;\n  }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","cors"],"comments":[{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1675643621,"post_id":75355878,"comment_id":132967715,"body_markdown":"CORS is the MOST asked question when it comes to the spring security tag, it gets asked 5 times a week. there are 100s of questions that handles this also there is an entire chapter in the spring security documentation about CORS https://docs.spring.io/spring-security/reference/reactive/integrations/cors.html#page-title https://stackoverflow.com/questions/36968963/how-to-configure-cors-in-a-spring-boot-spring-security-application downvoted becuase bad research you have posted no debug logs, have you verified that your bean is loaded, and have you debugged your application?","body":"CORS is the MOST asked question when it comes to the spring security tag, it gets asked 5 times a week. there are 100s of questions that handles this also there is an entire chapter in the spring security documentation about CORS <a href=\"https://docs.spring.io/spring-security/reference/reactive/integrations/cors.html#page-title\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security/reference/reactive/integratio&zwnj;&#8203;ns/&hellip;</a> <a href=\"https://stackoverflow.com/questions/36968963/how-to-configure-cors-in-a-spring-boot-spring-security-application\" title=\"how to configure cors in a spring boot spring security application\">stackoverflow.com/questions/36968963/&hellip;</a> downvoted becuase bad research you have posted no debug logs, have you verified that your bean is loaded, and have you debugged your application?"},{"owner":{"account_id":2021661,"reputation":62048,"user_id":2541573,"accept_rate":100,"display_name":"jub0bs"},"score":0,"creation_date":1675671900,"post_id":75355878,"comment_id":132971661,"body_markdown":"@Toerktumlare Although everything you&#39;ve written is true, users facing a CORS issue often don&#39;t know where to begin and are let down by sub-par tools (exhibit A: why doesn&#39;t Spring validate user-specified origins?). Better nudge them in the right direction than admonish them.","body":"@Toerktumlare Although everything you&#39;ve written is true, users facing a CORS issue often don&#39;t know where to begin and are let down by sub-par tools (exhibit A: why doesn&#39;t Spring validate user-specified origins?). Better nudge them in the right direction than admonish them."}],"answers":[{"comments":[{"owner":{"account_id":11278303,"reputation":1,"user_id":8271722,"display_name":"Sebastian Perez"},"score":0,"creation_date":1675694866,"post_id":75362828,"comment_id":132978611,"body_markdown":"I guess you could use * but wanted to be specific. hope it helps!","body":"I guess you could use * but wanted to be specific. hope it helps!"}],"tags":[],"owner":{"account_id":11278303,"reputation":1,"user_id":8271722,"display_name":"Sebastian Perez"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675698011,"creation_date":1675694793,"answer_id":75362828,"question_id":75355878,"body_markdown":"I solved it by separating my @Bean into another class like this:\r\n\r\n//remember to add &quot;.cors().and()&quot; to you SecurityFilterChain\r\n\r\n    @Configuration\r\n    public class WebConfig implements WebMvcConfigurer {\r\n        @Override\r\n        public void addCorsMappings(CorsRegistry registry) {\r\n            registry.addMapping(&quot;/**&quot;)\r\n                    .allowedOrigins(&quot;http://localhost:3000/&quot;)\r\n                    .allowedHeaders(&quot;*&quot;)\r\n                    .allowedMethods(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;);\r\n        }\r\n        \r\n    }\r\n\r\nAlso had to add this line to be able to manipulate my Authorization token\r\n\r\n       .exposedHeaders(&quot;Authorization&quot;);","title":"How can I configure Cross-Origin Resource Sharing (CORS) in a Spring Boot application using SecurityFilterChain?","body":"<p>I solved it by separating my @Bean into another class like this:</p>\n<p>//remember to add &quot;.cors().and()&quot; to you SecurityFilterChain</p>\n<pre><code>@Configuration\npublic class WebConfig implements WebMvcConfigurer {\n    @Override\n    public void addCorsMappings(CorsRegistry registry) {\n        registry.addMapping(&quot;/**&quot;)\n                .allowedOrigins(&quot;http://localhost:3000/&quot;)\n                .allowedHeaders(&quot;*&quot;)\n                .allowedMethods(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;);\n    }\n    \n}\n</code></pre>\n<p>Also had to add this line to be able to manipulate my Authorization token</p>\n<pre><code>   .exposedHeaders(&quot;Authorization&quot;);\n</code></pre>\n"}],"owner":{"account_id":11278303,"reputation":1,"user_id":8271722,"display_name":"Sebastian Perez"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":470,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1675843736,"answer_count":1,"score":-1,"last_activity_date":1675873219,"creation_date":1675635148,"question_id":75355878,"body_markdown":"I&#39;m using a `SecurityFilterChain` to manage my Security:\r\n\r\nFirst, added .cors().and() filter to my SecurityChain\r\n\r\n        JWTAuthenticationFilter jwtAuthenticationFilter = new JWTAuthenticationFilter();\r\n        jwtAuthenticationFilter.setAuthenticationManager(authManager);\r\n        jwtAuthenticationFilter.setFilterProcessesUrl(&quot;/login&quot;);\r\n    \r\n        return http\r\n                .cors().and()\r\n                .csrf().disable()\r\n                .authorizeHttpRequests()\r\n                .anyRequest().authenticated()\r\n                .and()\r\n                .sessionManagement()\r\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                .and()\r\n                .addFilter(jwtAuthenticationFilter)\r\n                .addFilterBefore(jwtAuthorizationFilter, UsernamePasswordAuthenticationFilter.class)\r\n                .build();\r\n\r\nThen, created a corsConfiguration bean but still doesn&#39;t work as expected\r\n\r\n        @Bean\r\n    public WebMvcConfigurer corsConfigurer() {\r\n        return new WebMvcConfigurer() {\r\n            @Override\r\n            public void addCorsMappings(CorsRegistry registry) {\r\n                registry.addMapping(&quot;/**&quot;)\r\n                        .allowedOrigins(&quot;http://localhost:3000/&quot;)\r\n                        .allowedMethods(&quot;GET&quot;, &quot;OPTIONS&quot;, &quot;POST&quot;)\r\n                        .allowedHeaders(&quot;Authorization&quot;)\r\n                        .allowCredentials(true);;\r\n            }\r\n        };\r\n    }\r\n\r\n\r\n","title":"How can I configure Cross-Origin Resource Sharing (CORS) in a Spring Boot application using SecurityFilterChain?","body":"<p>I'm using a <code>SecurityFilterChain</code> to manage my Security:</p>\n<p>First, added .cors().and() filter to my SecurityChain</p>\n<pre><code>    JWTAuthenticationFilter jwtAuthenticationFilter = new JWTAuthenticationFilter();\n    jwtAuthenticationFilter.setAuthenticationManager(authManager);\n    jwtAuthenticationFilter.setFilterProcessesUrl(&quot;/login&quot;);\n\n    return http\n            .cors().and()\n            .csrf().disable()\n            .authorizeHttpRequests()\n            .anyRequest().authenticated()\n            .and()\n            .sessionManagement()\n            .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n            .and()\n            .addFilter(jwtAuthenticationFilter)\n            .addFilterBefore(jwtAuthorizationFilter, UsernamePasswordAuthenticationFilter.class)\n            .build();\n</code></pre>\n<p>Then, created a corsConfiguration bean but still doesn't work as expected</p>\n<pre><code>    @Bean\npublic WebMvcConfigurer corsConfigurer() {\n    return new WebMvcConfigurer() {\n        @Override\n        public void addCorsMappings(CorsRegistry registry) {\n            registry.addMapping(&quot;/**&quot;)\n                    .allowedOrigins(&quot;http://localhost:3000/&quot;)\n                    .allowedMethods(&quot;GET&quot;, &quot;OPTIONS&quot;, &quot;POST&quot;)\n                    .allowedHeaders(&quot;Authorization&quot;)\n                    .allowCredentials(true);;\n        }\n    };\n}\n</code></pre>\n"},{"tags":["java","android","webrtc","agora.io","sleep-mode"],"answers":[{"comments":[{"owner":{"account_id":4611439,"reputation":360,"user_id":3739429,"accept_rate":64,"display_name":"mostafa hashim"},"score":0,"creation_date":1700077374,"post_id":65747316,"comment_id":136611773,"body_markdown":"could you please provide sample for your workarround?","body":"could you please provide sample for your workarround?"}],"tags":[],"owner":{"account_id":11220533,"reputation":469,"user_id":8231841,"accept_rate":62,"display_name":"Saify"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1610781464,"creation_date":1610781464,"answer_id":65747316,"question_id":65715869,"body_markdown":"I resolved the issue by using **foreground service**. Now the systems prevents app from going into the sleep mode and voice issue is also resolved.","title":"Agora voice call stops audio after 1 minute of lock screen","body":"<p>I resolved the issue by using <strong>foreground service</strong>. Now the systems prevents app from going into the sleep mode and voice issue is also resolved.</p>\n"}],"owner":{"account_id":11220533,"reputation":469,"user_id":8231841,"accept_rate":62,"display_name":"Saify"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":610,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":65747316,"answer_count":1,"score":2,"last_activity_date":1675873196,"creation_date":1610614082,"question_id":65715869,"body_markdown":"I have implemented agora voice call in my application. Its working fine on older devices and tabs but on new devices after locking the screen for 1 minute the receiver cannot hear audio. I guess android system puts the app in sleep mode.\r\n\r\nI have tried to use WAKE_LOCK to keep the app alive but no success. Can anyone help me in this? What i need to do?\r\n\r\nThanks.","title":"Agora voice call stops audio after 1 minute of lock screen","body":"<p>I have implemented agora voice call in my application. Its working fine on older devices and tabs but on new devices after locking the screen for 1 minute the receiver cannot hear audio. I guess android system puts the app in sleep mode.</p>\n<p>I have tried to use WAKE_LOCK to keep the app alive but no success. Can anyone help me in this? What i need to do?</p>\n<p>Thanks.</p>\n"},{"tags":["python","java"],"comments":[{"owner":{"account_id":248321,"reputation":62668,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":1,"creation_date":1675873182,"post_id":75388666,"comment_id":133022624,"body_markdown":"If you wanted to run the Java program at the command line, what command would you type in? Figure that out, and then see the linked duplicate.","body":"If you wanted to run the Java program at the command line, what command would you type in? Figure that out, and then see the linked duplicate."},{"owner":{"account_id":248321,"reputation":62668,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":0,"creation_date":1675873323,"post_id":75388666,"comment_id":133022686,"body_markdown":"&quot;I have been googling for the past two days and mostly found examples of how to run java code in python or vice versa, e.g. with jython or py4j.&quot; Really? Because when I try [copying and pasting your question title into a search engine (not even Google)](https://duckduckgo.com/?q=How+do+I+run+a+python+script+that+runs+a+java+program%3F), I see relevant results that are exactly what you want right off the top.","body":"&quot;I have been googling for the past two days and mostly found examples of how to run java code in python or vice versa, e.g. with jython or py4j.&quot; Really? Because when I try <a href=\"https://duckduckgo.com/?q=How+do+I+run+a+python+script+that+runs+a+java+program%3F\" rel=\"nofollow noreferrer\">copying and pasting your question title into a search engine (not even Google)</a>, I see relevant results that are exactly what you want right off the top."},{"owner":{"account_id":21465788,"reputation":33,"user_id":15815734,"display_name":"ratsrule23"},"score":0,"creation_date":1675874928,"post_id":75388666,"comment_id":133023250,"body_markdown":"@KarlKnechtel thats weird. The search results from Duckduckgo are indeed helpful. However, if you type in the same question in Google, at least for me, the search results are about how to run python scripts from java, or the jython/py4j things I mentioned.","body":"@KarlKnechtel thats weird. The search results from Duckduckgo are indeed helpful. However, if you type in the same question in Google, at least for me, the search results are about how to run python scripts from java, or the jython/py4j things I mentioned."}],"owner":{"account_id":21465788,"reputation":33,"user_id":15815734,"display_name":"ratsrule23"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1675873198,"answer_count":0,"score":0,"last_activity_date":1675873053,"creation_date":1675872928,"question_id":75388666,"body_markdown":"I have these interdependent .java files. One of them contains the main statement that starts running a program and calling on all these other files. The results are some output files in .txt format. Until now, I ran the main statement in IntelliJ and then opened a jupyter notebook where I loaded the resulting .txt file after the process was finished.\r\nI want to write a python script in jupyter notebook that tells the machine to run the main statement from **this** .java file in **this** path and then do something with the resulting .txt output files on its own.\r\n\r\nI am new to programming, and I have a hard time understanding what this process is called. I have been googling for the past two days and mostly found examples of how to run java code in python or vice versa, e.g. with jython or py4j. From what I understand, this is not what I need, because I don&#39;t need all the java scripts to run within python, I just need python to kickstart the process and then wait for the output to be produced.","title":"How do I run a python script that runs a java program?","body":"<p>I have these interdependent .java files. One of them contains the main statement that starts running a program and calling on all these other files. The results are some output files in .txt format. Until now, I ran the main statement in IntelliJ and then opened a jupyter notebook where I loaded the resulting .txt file after the process was finished.\nI want to write a python script in jupyter notebook that tells the machine to run the main statement from <strong>this</strong> .java file in <strong>this</strong> path and then do something with the resulting .txt output files on its own.</p>\n<p>I am new to programming, and I have a hard time understanding what this process is called. I have been googling for the past two days and mostly found examples of how to run java code in python or vice versa, e.g. with jython or py4j. From what I understand, this is not what I need, because I don't need all the java scripts to run within python, I just need python to kickstart the process and then wait for the output to be produced.</p>\n"},{"tags":["java","arraylist","java-stream","comparable"],"answers":[{"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":1,"creation_date":1675773890,"post_id":75373068,"comment_id":132997213,"body_markdown":"Nice work @Eritrean","body":"Nice work @Eritrean"},{"owner":{"account_id":4757128,"reputation":65,"user_id":3845608,"display_name":"Enthu Leo"},"score":0,"creation_date":1675787946,"post_id":75373068,"comment_id":133002311,"body_markdown":"@Eritrean, excellent this seems working fine, however i am struggling understand this line how it actually filters. what does this actually do ?        filter(key -&gt; mapA.get(key).equals(mapB.get(key)))","body":"@Eritrean, excellent this seems working fine, however i am struggling understand this line how it actually filters. what does this actually do ?        filter(key -&gt; mapA.get(key).equals(mapB.get(key)))"},{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":0,"creation_date":1675793704,"post_id":75373068,"comment_id":133003986,"body_markdown":"@EnthuLeo Added a discription.","body":"@EnthuLeo Added a discription."},{"owner":{"account_id":4757128,"reputation":65,"user_id":3845608,"display_name":"Enthu Leo"},"score":0,"creation_date":1675795631,"post_id":75373068,"comment_id":133004471,"body_markdown":"Superb explanation thank you and got it, i was missing the point that we can compare the two lists in single line.","body":"Superb explanation thank you and got it, i was missing the point that we can compare the two lists in single line."},{"owner":{"account_id":4757128,"reputation":65,"user_id":3845608,"display_name":"Enthu Leo"},"score":0,"creation_date":1675868137,"post_id":75373068,"comment_id":133020691,"body_markdown":"This worked fine until i have been told not to override equal and hascode method in PositionEntity as its used by various models and it will break their tests, hence is there any other way to compare the equality of the 2 list of objects without using equals method.","body":"This worked fine until i have been told not to override equal and hascode method in PositionEntity as its used by various models and it will break their tests, hence is there any other way to compare the equality of the 2 list of objects without using equals method."},{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":0,"creation_date":1675872554,"post_id":75373068,"comment_id":133022386,"body_markdown":"@EnthuLeo Updated again. Removed discription to avoid that the answer becomes too long.","body":"@EnthuLeo Updated again. Removed discription to avoid that the answer becomes too long."}],"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675872445,"creation_date":1675771292,"answer_id":75373068,"question_id":75372537,"body_markdown":"Assuming you have all the necessary getters and have overriden the equals and hashCode methods, for example like this:\r\n\r\n    class Position {\r\n        String account;\r\n        String Date;\r\n        String Cycle;\r\n        String Status;\r\n\r\n        @Override\r\n        public boolean equals(final Object o) {\r\n            if (this == o) {\r\n                return true;\r\n            }\r\n            if (o == null || getClass() != o.getClass()) {\r\n                return false;\r\n            }\r\n            final Position position = (Position) o;\r\n            return Objects.equals(account, position.account) &amp;&amp; Objects.equals(Date, position.Date)\r\n                   &amp;&amp; Objects.equals(Cycle, position.Cycle) &amp;&amp; Objects.equals(Status, position.Status);\r\n        }\r\n\r\n        @Override\r\n        public int hashCode() {\r\n            return Objects.hash(account, Date, Cycle, Status);\r\n        }\r\n    }\r\n\r\nYou could stream over both lists, order them in an identical way and group them by `account` and use the resulting maps to filter accounts having the same list of Position objects. Example code:\r\n\r\n    import java.util.Comparator;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import java.util.Objects;\r\n    import java.util.stream.Collectors;\r\n    \r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Getter;\r\n    import lombok.ToString;\r\n    \r\n    public class Example2 {\r\n        public static void main(String[] args) {\r\n    \r\n            List&lt;Position&gt; listA = List.of(new Position(&quot;ACC1&quot;, &quot;20-Jan-23&quot;, &quot;1&quot;, &quot;open&quot;),\r\n                                           new Position(&quot;ACC1&quot;, &quot;20-Jan-23&quot;, &quot;2&quot;, &quot;closing&quot;),\r\n                                           new Position(&quot;ACC2&quot;, &quot;20-Jan-23&quot;, &quot;1&quot;, &quot;open&quot;),\r\n                                           new Position(&quot;ACC2&quot;, &quot;20-Jan-23&quot;, &quot;2&quot;, &quot;closing&quot;),\r\n                                           new Position(&quot;ACC3&quot;, &quot;20-Jan-23&quot;, &quot;1&quot;, &quot;open&quot;),\r\n                                           new Position(&quot;ACC3&quot;, &quot;20-Jan-23&quot;, &quot;2&quot;, &quot;closing&quot;));\r\n    \r\n            List&lt;Position&gt; listB = List.of(new Position(&quot;ACC1&quot;, &quot;20-Jan-23&quot;, &quot;1&quot;, &quot;open&quot;),\r\n                                           new Position(&quot;ACC1&quot;, &quot;20-Jan-23&quot;, &quot;2&quot;, &quot;closing&quot;),    \r\n                                           new Position(&quot;ACC2&quot;, &quot;20-Jan-23&quot;, &quot;1&quot;, &quot;open&quot;),\r\n                                           new Position(&quot;ACC2&quot;, &quot;20-Jan-23&quot;, &quot;2&quot;, &quot;closed&quot;),\r\n                                           new Position(&quot;ACC3&quot;, &quot;20-Jan-23&quot;, &quot;1&quot;, &quot;open&quot;));\r\n    \r\n            Comparator&lt;Position&gt; comparator = Comparator.comparing(Position::getAccount)\r\n                                                        .thenComparing(Position::getDate)\r\n                                                        .thenComparing(Position::getCycle)\r\n                                                        .thenComparing(Position::getStatus);\r\n            Map&lt;String, List&lt;Position&gt;&gt; mapA = listA.stream().sorted(comparator).collect(Collectors.groupingBy(Position::getAccount));\r\n            Map&lt;String, List&lt;Position&gt;&gt; mapB = listB.stream().sorted(comparator).collect(Collectors.groupingBy(Position::getAccount));\r\n    \r\n            List&lt;String&gt; result = mapA.keySet()\r\n                                      .stream()\r\n                                      .filter(key -&gt; mapA.get(key).equals(mapB.get(key)))\r\n                                      .toList();\r\n    \r\n            System.out.println(result);\r\n    \r\n        }\r\n    \r\n        @AllArgsConstructor\r\n        @Getter\r\n        @ToString\r\n        static class Position {\r\n            String account;\r\n            String Date;\r\n            String Cycle;\r\n            String Status;\r\n    \r\n            @Override\r\n            public boolean equals(final Object o) {\r\n                if (this == o) {\r\n                    return true;\r\n                }\r\n                if (o == null || getClass() != o.getClass()) {\r\n                    return false;\r\n                }\r\n                final Position position = (Position) o;\r\n                return Objects.equals(account, position.account) &amp;&amp; Objects.equals(Date, position.Date)\r\n                       &amp;&amp; Objects.equals(Cycle, position.Cycle) &amp;&amp; Objects.equals(Status, position.Status);\r\n            }\r\n    \r\n            @Override\r\n            public int hashCode() {\r\n                return Objects.hash(account, Date, Cycle, Status);\r\n            }\r\n        }\r\n    }\r\n\r\n**UPDATE**\r\n\r\n&gt; ..been told not to override equal and hascode method in PositionEntity... is there any other way to compare the equality of the 2 list of objects without using equals method?\r\n\r\n\r\nyou can do the field by field comparison manually. I have added an example using BiPredicates. May be there are some eleganter ways to do this with some 3rd party libraries. But without changing the first approach too much the below should give you the same result without the need to override equals and hashCode.\r\n\r\n    import java.util.Comparator;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import java.util.function.BiPredicate;\r\n    import java.util.stream.Collectors;\r\n    import java.util.stream.IntStream;\r\n    \r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Getter;\r\n    import lombok.ToString;\r\n    \r\n    public class Example2 {\r\n        public static void main(String[] args) {\r\n    \r\n            List&lt;Position&gt; listA = List.of(new Position(&quot;ACC1&quot;, &quot;20-Jan-23&quot;, &quot;1&quot;, &quot;open&quot;),\r\n                                           new Position(&quot;ACC1&quot;, &quot;20-Jan-23&quot;, &quot;2&quot;, &quot;closing&quot;),\r\n                                           new Position(&quot;ACC2&quot;, &quot;20-Jan-23&quot;, &quot;1&quot;, &quot;open&quot;),\r\n                                           new Position(&quot;ACC2&quot;, &quot;20-Jan-23&quot;, &quot;2&quot;, &quot;closing&quot;),\r\n                                           new Position(&quot;ACC3&quot;, &quot;20-Jan-23&quot;, &quot;1&quot;, &quot;open&quot;),\r\n                                           new Position(&quot;ACC3&quot;, &quot;20-Jan-23&quot;, &quot;2&quot;, &quot;closing&quot;));\r\n    \r\n            List&lt;Position&gt; listB = List.of(new Position(&quot;ACC1&quot;, &quot;20-Jan-23&quot;, &quot;1&quot;, &quot;open&quot;),\r\n                                           new Position(&quot;ACC1&quot;, &quot;20-Jan-23&quot;, &quot;2&quot;, &quot;closing&quot;),\r\n                                           new Position(&quot;ACC2&quot;, &quot;20-Jan-23&quot;, &quot;1&quot;, &quot;open&quot;),\r\n                                           new Position(&quot;ACC2&quot;, &quot;20-Jan-23&quot;, &quot;2&quot;, &quot;closed&quot;),\r\n                                           new Position(&quot;ACC3&quot;, &quot;20-Jan-23&quot;, &quot;1&quot;, &quot;open&quot;));\r\n    \r\n            Comparator&lt;Position&gt; comparator = Comparator.comparing(Position::getAccount)\r\n                                                        .thenComparing(Position::getDate)\r\n                                                        .thenComparing(Position::getCycle)\r\n                                                        .thenComparing(Position::getStatus);\r\n            Map&lt;String, List&lt;Position&gt;&gt; mapA = listA.stream().sorted(comparator).collect(Collectors.groupingBy(Position::getAccount));\r\n            Map&lt;String, List&lt;Position&gt;&gt; mapB = listB.stream().sorted(comparator).collect(Collectors.groupingBy(Position::getAccount));\r\n    \r\n            //Since you cannot modify equals and hashCode you can do the field by field comparison manually\r\n            //there are maybe some 3rd party libraries which might do this elegantly,\r\n            // but something like below should work fine\r\n            BiPredicate&lt;Position,Position&gt; positionsEqual = (position1, position2) -&gt;\r\n                    position1.getAccount().equals(position2.getAccount()) &amp;&amp;\r\n                    position1.getDate().equals(position2.getDate()) &amp;&amp;\r\n                    position1.getCycle().equals(position2.getCycle()) &amp;&amp;\r\n                    position1.getStatus().equals(position2.getStatus());\r\n    \r\n            //Same approach to test the equality of two lists index by index using above predicate\r\n            BiPredicate&lt;List&lt;Position&gt;,List&lt;Position&gt;&gt; listsEqual = (list1, list2) -&gt; {\r\n                if (list1.size() != list2.size()){\r\n                    return false;\r\n                }\r\n                return IntStream.range(0, list1.size()).allMatch(i -&gt; positionsEqual.test(list1.get(i), list2.get(i)));\r\n            };\r\n    \r\n            //using the predicate to filter\r\n            List&lt;String&gt; result = mapA.keySet()\r\n                                      .stream()\r\n                                      .filter(key -&gt; listsEqual.test(mapA.get(key),(mapB.get(key))))\r\n                                      .toList();\r\n    \r\n            System.out.println(result);\r\n    \r\n        }\r\n    \r\n        @AllArgsConstructor\r\n        @Getter\r\n        @ToString\r\n        static class Position {\r\n            String account;\r\n            String Date;\r\n            String Cycle;\r\n            String Status;\r\n    \r\n            //Constructor, getter, toString..\r\n        }\r\n    }","title":"find the matching objects from two array lists? list can contain same multiple objects","body":"<p>Assuming you have all the necessary getters and have overriden the equals and hashCode methods, for example like this:</p>\n<pre><code>class Position {\n    String account;\n    String Date;\n    String Cycle;\n    String Status;\n\n    @Override\n    public boolean equals(final Object o) {\n        if (this == o) {\n            return true;\n        }\n        if (o == null || getClass() != o.getClass()) {\n            return false;\n        }\n        final Position position = (Position) o;\n        return Objects.equals(account, position.account) &amp;&amp; Objects.equals(Date, position.Date)\n               &amp;&amp; Objects.equals(Cycle, position.Cycle) &amp;&amp; Objects.equals(Status, position.Status);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(account, Date, Cycle, Status);\n    }\n}\n</code></pre>\n<p>You could stream over both lists, order them in an identical way and group them by <code>account</code> and use the resulting maps to filter accounts having the same list of Position objects. Example code:</p>\n<pre><code>import java.util.Comparator;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Objects;\nimport java.util.stream.Collectors;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Getter;\nimport lombok.ToString;\n\npublic class Example2 {\n    public static void main(String[] args) {\n\n        List&lt;Position&gt; listA = List.of(new Position(&quot;ACC1&quot;, &quot;20-Jan-23&quot;, &quot;1&quot;, &quot;open&quot;),\n                                       new Position(&quot;ACC1&quot;, &quot;20-Jan-23&quot;, &quot;2&quot;, &quot;closing&quot;),\n                                       new Position(&quot;ACC2&quot;, &quot;20-Jan-23&quot;, &quot;1&quot;, &quot;open&quot;),\n                                       new Position(&quot;ACC2&quot;, &quot;20-Jan-23&quot;, &quot;2&quot;, &quot;closing&quot;),\n                                       new Position(&quot;ACC3&quot;, &quot;20-Jan-23&quot;, &quot;1&quot;, &quot;open&quot;),\n                                       new Position(&quot;ACC3&quot;, &quot;20-Jan-23&quot;, &quot;2&quot;, &quot;closing&quot;));\n\n        List&lt;Position&gt; listB = List.of(new Position(&quot;ACC1&quot;, &quot;20-Jan-23&quot;, &quot;1&quot;, &quot;open&quot;),\n                                       new Position(&quot;ACC1&quot;, &quot;20-Jan-23&quot;, &quot;2&quot;, &quot;closing&quot;),    \n                                       new Position(&quot;ACC2&quot;, &quot;20-Jan-23&quot;, &quot;1&quot;, &quot;open&quot;),\n                                       new Position(&quot;ACC2&quot;, &quot;20-Jan-23&quot;, &quot;2&quot;, &quot;closed&quot;),\n                                       new Position(&quot;ACC3&quot;, &quot;20-Jan-23&quot;, &quot;1&quot;, &quot;open&quot;));\n\n        Comparator&lt;Position&gt; comparator = Comparator.comparing(Position::getAccount)\n                                                    .thenComparing(Position::getDate)\n                                                    .thenComparing(Position::getCycle)\n                                                    .thenComparing(Position::getStatus);\n        Map&lt;String, List&lt;Position&gt;&gt; mapA = listA.stream().sorted(comparator).collect(Collectors.groupingBy(Position::getAccount));\n        Map&lt;String, List&lt;Position&gt;&gt; mapB = listB.stream().sorted(comparator).collect(Collectors.groupingBy(Position::getAccount));\n\n        List&lt;String&gt; result = mapA.keySet()\n                                  .stream()\n                                  .filter(key -&gt; mapA.get(key).equals(mapB.get(key)))\n                                  .toList();\n\n        System.out.println(result);\n\n    }\n\n    @AllArgsConstructor\n    @Getter\n    @ToString\n    static class Position {\n        String account;\n        String Date;\n        String Cycle;\n        String Status;\n\n        @Override\n        public boolean equals(final Object o) {\n            if (this == o) {\n                return true;\n            }\n            if (o == null || getClass() != o.getClass()) {\n                return false;\n            }\n            final Position position = (Position) o;\n            return Objects.equals(account, position.account) &amp;&amp; Objects.equals(Date, position.Date)\n                   &amp;&amp; Objects.equals(Cycle, position.Cycle) &amp;&amp; Objects.equals(Status, position.Status);\n        }\n\n        @Override\n        public int hashCode() {\n            return Objects.hash(account, Date, Cycle, Status);\n        }\n    }\n}\n</code></pre>\n<p><strong>UPDATE</strong></p>\n<blockquote>\n<p>..been told not to override equal and hascode method in PositionEntity... is there any other way to compare the equality of the 2 list of objects without using equals method?</p>\n</blockquote>\n<p>you can do the field by field comparison manually. I have added an example using BiPredicates. May be there are some eleganter ways to do this with some 3rd party libraries. But without changing the first approach too much the below should give you the same result without the need to override equals and hashCode.</p>\n<pre><code>import java.util.Comparator;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.function.BiPredicate;\nimport java.util.stream.Collectors;\nimport java.util.stream.IntStream;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Getter;\nimport lombok.ToString;\n\npublic class Example2 {\n    public static void main(String[] args) {\n\n        List&lt;Position&gt; listA = List.of(new Position(&quot;ACC1&quot;, &quot;20-Jan-23&quot;, &quot;1&quot;, &quot;open&quot;),\n                                       new Position(&quot;ACC1&quot;, &quot;20-Jan-23&quot;, &quot;2&quot;, &quot;closing&quot;),\n                                       new Position(&quot;ACC2&quot;, &quot;20-Jan-23&quot;, &quot;1&quot;, &quot;open&quot;),\n                                       new Position(&quot;ACC2&quot;, &quot;20-Jan-23&quot;, &quot;2&quot;, &quot;closing&quot;),\n                                       new Position(&quot;ACC3&quot;, &quot;20-Jan-23&quot;, &quot;1&quot;, &quot;open&quot;),\n                                       new Position(&quot;ACC3&quot;, &quot;20-Jan-23&quot;, &quot;2&quot;, &quot;closing&quot;));\n\n        List&lt;Position&gt; listB = List.of(new Position(&quot;ACC1&quot;, &quot;20-Jan-23&quot;, &quot;1&quot;, &quot;open&quot;),\n                                       new Position(&quot;ACC1&quot;, &quot;20-Jan-23&quot;, &quot;2&quot;, &quot;closing&quot;),\n                                       new Position(&quot;ACC2&quot;, &quot;20-Jan-23&quot;, &quot;1&quot;, &quot;open&quot;),\n                                       new Position(&quot;ACC2&quot;, &quot;20-Jan-23&quot;, &quot;2&quot;, &quot;closed&quot;),\n                                       new Position(&quot;ACC3&quot;, &quot;20-Jan-23&quot;, &quot;1&quot;, &quot;open&quot;));\n\n        Comparator&lt;Position&gt; comparator = Comparator.comparing(Position::getAccount)\n                                                    .thenComparing(Position::getDate)\n                                                    .thenComparing(Position::getCycle)\n                                                    .thenComparing(Position::getStatus);\n        Map&lt;String, List&lt;Position&gt;&gt; mapA = listA.stream().sorted(comparator).collect(Collectors.groupingBy(Position::getAccount));\n        Map&lt;String, List&lt;Position&gt;&gt; mapB = listB.stream().sorted(comparator).collect(Collectors.groupingBy(Position::getAccount));\n\n        //Since you cannot modify equals and hashCode you can do the field by field comparison manually\n        //there are maybe some 3rd party libraries which might do this elegantly,\n        // but something like below should work fine\n        BiPredicate&lt;Position,Position&gt; positionsEqual = (position1, position2) -&gt;\n                position1.getAccount().equals(position2.getAccount()) &amp;&amp;\n                position1.getDate().equals(position2.getDate()) &amp;&amp;\n                position1.getCycle().equals(position2.getCycle()) &amp;&amp;\n                position1.getStatus().equals(position2.getStatus());\n\n        //Same approach to test the equality of two lists index by index using above predicate\n        BiPredicate&lt;List&lt;Position&gt;,List&lt;Position&gt;&gt; listsEqual = (list1, list2) -&gt; {\n            if (list1.size() != list2.size()){\n                return false;\n            }\n            return IntStream.range(0, list1.size()).allMatch(i -&gt; positionsEqual.test(list1.get(i), list2.get(i)));\n        };\n\n        //using the predicate to filter\n        List&lt;String&gt; result = mapA.keySet()\n                                  .stream()\n                                  .filter(key -&gt; listsEqual.test(mapA.get(key),(mapB.get(key))))\n                                  .toList();\n\n        System.out.println(result);\n\n    }\n\n    @AllArgsConstructor\n    @Getter\n    @ToString\n    static class Position {\n        String account;\n        String Date;\n        String Cycle;\n        String Status;\n\n        //Constructor, getter, toString..\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19619018,"reputation":127,"user_id":14359869,"display_name":"antonio_s87"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675774102,"creation_date":1675774102,"answer_id":75373594,"question_id":75372537,"body_markdown":"As Eritrean stated above, you need to implement hashCode() and equals() methods. Instead of streams you could use HashSet:\r\n\r\n        Set&lt;Position&gt; positionSet = new HashSet&lt;&gt;();\r\n        listA.stream().forEach(position -&gt; positionSet.add(position));\r\n        Set&lt;String&gt; result = new ArrayList&lt;&gt;();\r\n        for(Position position : listB){\r\n            if(positionSet.contains(position)){\r\n                result.add(position.getAccount());\r\n            }\r\n        }\r\n\r\nSo you find all Positions that are in both lists and then just add their accounts to the result set.","title":"find the matching objects from two array lists? list can contain same multiple objects","body":"<p>As Eritrean stated above, you need to implement hashCode() and equals() methods. Instead of streams you could use HashSet:</p>\n<pre><code>    Set&lt;Position&gt; positionSet = new HashSet&lt;&gt;();\n    listA.stream().forEach(position -&gt; positionSet.add(position));\n    Set&lt;String&gt; result = new ArrayList&lt;&gt;();\n    for(Position position : listB){\n        if(positionSet.contains(position)){\n            result.add(position.getAccount());\n        }\n    }\n</code></pre>\n<p>So you find all Positions that are in both lists and then just add their accounts to the result set.</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675797314,"creation_date":1675793774,"answer_id":75377401,"question_id":75372537,"body_markdown":"This solution presumes you have overridden `equals` and `hashCode` which is a requirement. This is required for the `map`, and `set` data structures.  I also made use of getters.\r\n\r\nPutting the objects in `sets` would also make the lookups faster.\r\n\r\n- This puts the objects in `Map&lt;Boolean, Set&lt;Position&gt;&gt;`. I used two loops to avoid accessing external state in a stream.  I also didn&#39;t feel it was warranted to combine the lists to use a single loop.\r\n```\r\nMap&lt;Boolean, Set&lt;Position&gt;&gt; map = new HashMap&lt;&gt;();\r\n\r\nfor (Position p : setA) {   \r\n    map.computeIfAbsent(setA.contains(p) &amp;&amp; setB.contains(p),\r\n            v -&gt; new HashSet&lt;&gt;()).add(p);\r\n}\r\nfor (Position p : setB) {   \r\n    map.computeIfAbsent(listA.contains(p) &amp;&amp; setB.contains(p),\r\n            v -&gt; new HashSet&lt;&gt;()).add(p);\r\n}\r\n```\r\n\r\n- Once the values are separated into two sets, those accounts that were not in both sets are retrieved from the map.  This is done by filtering on the `boolean` in the streamed entrySet.\r\n```\r\n\r\nSet&lt;Position&gt; partial = map.entrySet().stream().filter(Entry::getKey)\r\n        .flatMap(e -&gt; e.getValue().stream())\r\n        .collect(Collectors.toCollection(HashSet::new));\r\n```\r\n- Now that a partial list of possible successes has been retrieved, the Accounts that were not in both lists must be removed from the `partial` list.\r\n```\r\nfor(Position p : map.get(false)) {\r\n     partial.removeIf(pos -&gt; pos.getAccount().equals(p.getAccount()));\r\n}\r\n\r\nresults.forEach(System.out::println);\r\n```\r\nprints\r\n```\r\nPosition [ACC1, 20-Jan-23, 1, open]\r\nPosition [ACC1, 20-Jan-23, 2, closing]\r\n","title":"find the matching objects from two array lists? list can contain same multiple objects","body":"<p>This solution presumes you have overridden <code>equals</code> and <code>hashCode</code> which is a requirement. This is required for the <code>map</code>, and <code>set</code> data structures.  I also made use of getters.</p>\n<p>Putting the objects in <code>sets</code> would also make the lookups faster.</p>\n<ul>\n<li>This puts the objects in <code>Map&lt;Boolean, Set&lt;Position&gt;&gt;</code>. I used two loops to avoid accessing external state in a stream.  I also didn't feel it was warranted to combine the lists to use a single loop.</li>\n</ul>\n<pre><code>Map&lt;Boolean, Set&lt;Position&gt;&gt; map = new HashMap&lt;&gt;();\n\nfor (Position p : setA) {   \n    map.computeIfAbsent(setA.contains(p) &amp;&amp; setB.contains(p),\n            v -&gt; new HashSet&lt;&gt;()).add(p);\n}\nfor (Position p : setB) {   \n    map.computeIfAbsent(listA.contains(p) &amp;&amp; setB.contains(p),\n            v -&gt; new HashSet&lt;&gt;()).add(p);\n}\n</code></pre>\n<ul>\n<li>Once the values are separated into two sets, those accounts that were not in both sets are retrieved from the map.  This is done by filtering on the <code>boolean</code> in the streamed entrySet.</li>\n</ul>\n<pre><code>\nSet&lt;Position&gt; partial = map.entrySet().stream().filter(Entry::getKey)\n        .flatMap(e -&gt; e.getValue().stream())\n        .collect(Collectors.toCollection(HashSet::new));\n</code></pre>\n<ul>\n<li>Now that a partial list of possible successes has been retrieved, the Accounts that were not in both lists must be removed from the <code>partial</code> list.</li>\n</ul>\n<pre><code>for(Position p : map.get(false)) {\n     partial.removeIf(pos -&gt; pos.getAccount().equals(p.getAccount()));\n}\n\nresults.forEach(System.out::println);\n</code></pre>\n<p>prints</p>\n<pre><code>Position [ACC1, 20-Jan-23, 1, open]\nPosition [ACC1, 20-Jan-23, 2, closing]\n</code></pre>\n"}],"owner":{"account_id":4757128,"reputation":65,"user_id":3845608,"display_name":"Enthu Leo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":484,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75373068,"answer_count":3,"score":1,"last_activity_date":1675872445,"creation_date":1675768285,"question_id":75372537,"body_markdown":"I have two list **ListA&lt;Position&gt; listA = new ArrayList&lt;Position&gt;()** and ListB&lt;Position&gt; listB = new ArrayList&lt;Position&gt;() both contain object of type Position object and Position contain these variables.\r\n\r\n    Position {\r\n        String account;\r\n        String Date;\r\n        String Cycle;\r\n        String Status;\r\n    } \r\n\r\nand if for example my lists has values like this \r\n\r\n    ListA = [&quot;ACC1&quot;,&quot;20-Jan-23&quot;,&quot;1&quot;,&quot;open&quot;],\r\n            [&quot;ACC1&quot;,&quot;20-Jan-23&quot;,&quot;2&quot;,&quot;closing&quot;],\r\n            [&quot;ACC2&quot;,&quot;20-Jan-23&quot;,&quot;1&quot;,&quot;open&quot;],\r\n            [&quot;ACC2&quot;,&quot;20-Jan-23&quot;,&quot;2&quot;,&quot;closing&quot;],\r\n            [&quot;ACC3&quot;,&quot;20-Jan-23&quot;,&quot;1&quot;,&quot;open&quot;],\r\n            [&quot;ACC3&quot;,&quot;20-Jan-23&quot;,&quot;2&quot;,&quot;closing&quot;]\r\n    \r\n    ListB = [&quot;ACC1&quot;,&quot;20-Jan-23&quot;,&quot;1&quot;,&quot;open&quot;],\r\n            [&quot;ACC1&quot;,&quot;20-Jan-23&quot;,&quot;2&quot;,&quot;closing&quot;],\r\n            [&quot;ACC2&quot;,&quot;20-Jan-23&quot;,&quot;1&quot;,&quot;open&quot;],\r\n            [&quot;ACC2&quot;,&quot;20-Jan-23&quot;,&quot;2&quot;,&quot;closed&quot;],\r\n            [&quot;ACC3&quot;,&quot;20-Jan-23&quot;,&quot;1&quot;,&quot;open&quot;]\r\n\r\nnow my requirement is from the above both lists, I need to find out and extract all accounts that exactly matches in the other list but uniquely, meaning\r\n\r\n&quot;ACC1&quot; having two objects in listA and same exists in ListB so this the right candidate that i needed to extract\r\n\r\n&quot;ACC2&quot; having two objects in both lists  but only one matching exactly same with listB, but other record doesnt match because the status values differs (&#39;closing&#39; and &#39;closed&#39;) so i need to exclude ACC2\r\n\r\n&quot;ACC3&quot; having two objects in listA but not in list B, so i need to exclude this ACC3 as well\r\n\r\nso ACC1 is what i&#39;m interested in \r\n\r\nIs there any way we can achieve this efficiently using java streams or usual standard way\r\n\r\nThanks\r\n","title":"find the matching objects from two array lists? list can contain same multiple objects","body":"<p>I have two list <strong>ListA listA = new ArrayList()</strong> and ListB listB = new ArrayList() both contain object of type Position object and Position contain these variables.</p>\n<pre><code>Position {\n    String account;\n    String Date;\n    String Cycle;\n    String Status;\n} \n</code></pre>\n<p>and if for example my lists has values like this</p>\n<pre><code>ListA = [&quot;ACC1&quot;,&quot;20-Jan-23&quot;,&quot;1&quot;,&quot;open&quot;],\n        [&quot;ACC1&quot;,&quot;20-Jan-23&quot;,&quot;2&quot;,&quot;closing&quot;],\n        [&quot;ACC2&quot;,&quot;20-Jan-23&quot;,&quot;1&quot;,&quot;open&quot;],\n        [&quot;ACC2&quot;,&quot;20-Jan-23&quot;,&quot;2&quot;,&quot;closing&quot;],\n        [&quot;ACC3&quot;,&quot;20-Jan-23&quot;,&quot;1&quot;,&quot;open&quot;],\n        [&quot;ACC3&quot;,&quot;20-Jan-23&quot;,&quot;2&quot;,&quot;closing&quot;]\n\nListB = [&quot;ACC1&quot;,&quot;20-Jan-23&quot;,&quot;1&quot;,&quot;open&quot;],\n        [&quot;ACC1&quot;,&quot;20-Jan-23&quot;,&quot;2&quot;,&quot;closing&quot;],\n        [&quot;ACC2&quot;,&quot;20-Jan-23&quot;,&quot;1&quot;,&quot;open&quot;],\n        [&quot;ACC2&quot;,&quot;20-Jan-23&quot;,&quot;2&quot;,&quot;closed&quot;],\n        [&quot;ACC3&quot;,&quot;20-Jan-23&quot;,&quot;1&quot;,&quot;open&quot;]\n</code></pre>\n<p>now my requirement is from the above both lists, I need to find out and extract all accounts that exactly matches in the other list but uniquely, meaning</p>\n<p>&quot;ACC1&quot; having two objects in listA and same exists in ListB so this the right candidate that i needed to extract</p>\n<p>&quot;ACC2&quot; having two objects in both lists  but only one matching exactly same with listB, but other record doesnt match because the status values differs ('closing' and 'closed') so i need to exclude ACC2</p>\n<p>&quot;ACC3&quot; having two objects in listA but not in list B, so i need to exclude this ACC3 as well</p>\n<p>so ACC1 is what i'm interested in</p>\n<p>Is there any way we can achieve this efficiently using java streams or usual standard way</p>\n<p>Thanks</p>\n"},{"tags":["java","json"],"answers":[{"comments":[{"owner":{"account_id":13461167,"reputation":59,"user_id":9713134,"display_name":"DevOps QA"},"score":0,"creation_date":1675877706,"post_id":75388559,"comment_id":133024266,"body_markdown":"This code is throwing com.jayway.jsonpath.PathNotFoundException: Missing property in path $[&#39;Added&#39;][&#39;IDNew&#39;]","body":"This code is throwing com.jayway.jsonpath.PathNotFoundException: Missing property in path $[&#39;Added&#39;][&#39;IDNew&#39;]"},{"owner":{"account_id":13461167,"reputation":59,"user_id":9713134,"display_name":"DevOps QA"},"score":0,"creation_date":1675877907,"post_id":75388559,"comment_id":133024339,"body_markdown":"I added .options(Option.SUPPRESS_EXCEPTIONS) - I am now getting java.lang.ClassCastException: class com.fasterxml.jackson.databind.node.ArrayNode cannot be cast to class java.util.List (com.fasterxml.jackson.databind.node.ArrayNode is in unnamed module of loader &#39;app&#39;; java.util.List is in module java.base of loader &#39;bootstrap&#39;)","body":"I added .options(Option.SUPPRESS_EXCEPTIONS) - I am now getting java.lang.ClassCastException: class com.fasterxml.jackson.databind.node.ArrayNode cannot be cast to class java.util.List (com.fasterxml.jackson.databind.node.ArrayNode is in unnamed module of loader &#39;app&#39;; java.util.List is in module java.base of loader &#39;bootstrap&#39;)"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1675892676,"post_id":75388559,"comment_id":133028403,"body_markdown":"I got the path wrong, try “$.Added.newmem.IDNew.id","body":"I got the path wrong, try “$.Added.newmem.IDNew.id"}],"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675872409,"creation_date":1675872409,"answer_id":75388559,"question_id":75388276,"body_markdown":"Your jsonObject before update only contains the &quot;IDNew&quot; node.\r\n\r\nThe best way to do this is using xPath from [Jayway][1]\r\n\r\n    private static final Configuration configuration = Configuration.builder()\r\n        .jsonProvider(new JacksonJsonNodeJsonProvider())\r\n        .mappingProvider(new JacksonMappingProvider())\r\n        .build();\r\n\r\n\r\n\r\n\t    String originalJson = &quot;{\\r\\n&quot;\r\n\t    \t\t+ &quot;  \\&quot;Added\\&quot;: {\\r\\n&quot;\r\n\t    \t\t+ &quot;    \\&quot;type\\&quot;: \\&quot;K\\&quot;,\\r\\n&quot;\r\n\t    \t\t+ &quot;    \\&quot;newmem\\&quot;: {\\r\\n&quot;\r\n\t    \t\t+ &quot;      \\&quot;IDNew\\&quot;: {\\r\\n&quot;\r\n\t    \t\t+ &quot;        \\&quot;id\\&quot;: \\&quot;777709\\&quot;,\\r\\n&quot;\r\n\t    \t\t+ &quot;        \\&quot;type\\&quot;: \\&quot;LOP\\&quot;\\r\\n&quot;\r\n\t    \t\t+ &quot;      },\\r\\n&quot;\r\n\t    \t\t+ &quot;      \\&quot;birthDate\\&quot;: \\&quot;2000-12-09\\&quot;\\r\\n&quot;\r\n\t    \t\t+ &quot;    },\\r\\n&quot;\r\n\t    \t\t+ &quot;    \\&quot;code\\&quot;: \\&quot;\\&quot;,\\r\\n&quot;\r\n\t    \t\t+ &quot;    \\&quot;newest\\&quot;: {\\r\\n&quot;\r\n\t    \t\t+ &quot;      \\&quot;curlNew\\&quot;: \\&quot;\\&quot;,\\r\\n&quot;\r\n\t    \t\t+ &quot;      \\&quot;addedForNew\\&quot;: \\&quot;\\&quot;\\r\\n&quot;\r\n\t    \t\t+ &quot;    }\\r\\n&quot;\r\n\t    \t\t+ &quot;  }\\r\\n&quot;\r\n\t    \t\t+ &quot;}&quot;;\r\n\r\n    JsonNode updatedJson = JsonPath.using(configuration).parse(originalJson).set(&quot;$.Added.IDNew.id&quot;, 12345).json();\r\n\r\n    System.out.println(updatedJson.toString());\r\n    }\r\n\r\n  [1]: https://github.com/json-path/JsonPath\r\n\r\n","title":"How to rewrite full updated json instead of only the nested part","body":"<p>Your jsonObject before update only contains the &quot;IDNew&quot; node.</p>\n<p>The best way to do this is using xPath from <a href=\"https://github.com/json-path/JsonPath\" rel=\"nofollow noreferrer\">Jayway</a></p>\n<pre><code>private static final Configuration configuration = Configuration.builder()\n    .jsonProvider(new JacksonJsonNodeJsonProvider())\n    .mappingProvider(new JacksonMappingProvider())\n    .build();\n\n\n\n    String originalJson = &quot;{\\r\\n&quot;\n            + &quot;  \\&quot;Added\\&quot;: {\\r\\n&quot;\n            + &quot;    \\&quot;type\\&quot;: \\&quot;K\\&quot;,\\r\\n&quot;\n            + &quot;    \\&quot;newmem\\&quot;: {\\r\\n&quot;\n            + &quot;      \\&quot;IDNew\\&quot;: {\\r\\n&quot;\n            + &quot;        \\&quot;id\\&quot;: \\&quot;777709\\&quot;,\\r\\n&quot;\n            + &quot;        \\&quot;type\\&quot;: \\&quot;LOP\\&quot;\\r\\n&quot;\n            + &quot;      },\\r\\n&quot;\n            + &quot;      \\&quot;birthDate\\&quot;: \\&quot;2000-12-09\\&quot;\\r\\n&quot;\n            + &quot;    },\\r\\n&quot;\n            + &quot;    \\&quot;code\\&quot;: \\&quot;\\&quot;,\\r\\n&quot;\n            + &quot;    \\&quot;newest\\&quot;: {\\r\\n&quot;\n            + &quot;      \\&quot;curlNew\\&quot;: \\&quot;\\&quot;,\\r\\n&quot;\n            + &quot;      \\&quot;addedForNew\\&quot;: \\&quot;\\&quot;\\r\\n&quot;\n            + &quot;    }\\r\\n&quot;\n            + &quot;  }\\r\\n&quot;\n            + &quot;}&quot;;\n\nJsonNode updatedJson = JsonPath.using(configuration).parse(originalJson).set(&quot;$.Added.IDNew.id&quot;, 12345).json();\n\nSystem.out.println(updatedJson.toString());\n}\n</code></pre>\n"}],"owner":{"account_id":13461167,"reputation":59,"user_id":9713134,"display_name":"DevOps QA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75388559,"answer_count":1,"score":0,"last_activity_date":1675872409,"creation_date":1675871199,"question_id":75388276,"body_markdown":"I have a json file called test.json that looks like:\r\n\r\n    {\r\n      &quot;Added&quot;: {\r\n        &quot;type&quot;: &quot;K&quot;,\r\n        &quot;newmem&quot;: {\r\n          &quot;IDNew&quot;: {\r\n            &quot;id&quot;: &quot;777709&quot;,\r\n            &quot;type&quot;: &quot;LOP&quot;\r\n          },\r\n          &quot;birthDate&quot;: &quot;2000-12-09&quot;\r\n        },\r\n        &quot;code&quot;: &quot;&quot;,\r\n        &quot;newest&quot;: {\r\n          &quot;curlNew&quot;: &quot;&quot;,\r\n          &quot;addedForNew&quot;: &quot;&quot;\r\n        }\r\n      }\r\n    }\r\n\r\nI am able to update the id in the json and write back to the file using the following code:\r\n\r\n    FileReader reader = new FileReader(filePath); //where file path = D://.../test.json\r\n    String keyToUpdate = &quot;Added.newmem.IDNew.id&quot;\r\n    String[] keyArr = jsonKey.split(&quot;\\\\.&quot; );\r\n    String keyToUpdate = keyArr [keyArr.length-1]\r\n    keyArr.removeElement(keyArr, keyToUpdate)\r\n    for (String key: keyArr){ \r\n       jsonObject = (JSONObject) jsonObject.get(key);\r\n    }\r\n\r\n    jsonObject.put(&quot;id&quot;,12345);\r\n    FileOutputStream outputStream = new FileOutputStream(filePath);\r\n    byte[] strToBytes = jsonObject.toString().getBytes();\r\n    outputStream.write(strToBytes);\r\n\r\nHowever, instead of re-writing the entire json with the updated value, it&#39;s only writing:\r\n\r\n      {\r\n        &quot;id&quot;: &quot;777709&quot;,\r\n        &quot;type&quot;: &quot;LOP&quot;\r\n      }\r\nWhat can I do to re-write the entire json instead of only the nested part of it?","title":"How to rewrite full updated json instead of only the nested part","body":"<p>I have a json file called test.json that looks like:</p>\n<pre><code>{\n  &quot;Added&quot;: {\n    &quot;type&quot;: &quot;K&quot;,\n    &quot;newmem&quot;: {\n      &quot;IDNew&quot;: {\n        &quot;id&quot;: &quot;777709&quot;,\n        &quot;type&quot;: &quot;LOP&quot;\n      },\n      &quot;birthDate&quot;: &quot;2000-12-09&quot;\n    },\n    &quot;code&quot;: &quot;&quot;,\n    &quot;newest&quot;: {\n      &quot;curlNew&quot;: &quot;&quot;,\n      &quot;addedForNew&quot;: &quot;&quot;\n    }\n  }\n}\n</code></pre>\n<p>I am able to update the id in the json and write back to the file using the following code:</p>\n<pre><code>FileReader reader = new FileReader(filePath); //where file path = D://.../test.json\nString keyToUpdate = &quot;Added.newmem.IDNew.id&quot;\nString[] keyArr = jsonKey.split(&quot;\\\\.&quot; );\nString keyToUpdate = keyArr [keyArr.length-1]\nkeyArr.removeElement(keyArr, keyToUpdate)\nfor (String key: keyArr){ \n   jsonObject = (JSONObject) jsonObject.get(key);\n}\n\njsonObject.put(&quot;id&quot;,12345);\nFileOutputStream outputStream = new FileOutputStream(filePath);\nbyte[] strToBytes = jsonObject.toString().getBytes();\noutputStream.write(strToBytes);\n</code></pre>\n<p>However, instead of re-writing the entire json with the updated value, it's only writing:</p>\n<pre><code>  {\n    &quot;id&quot;: &quot;777709&quot;,\n    &quot;type&quot;: &quot;LOP&quot;\n  }\n</code></pre>\n<p>What can I do to re-write the entire json instead of only the nested part of it?</p>\n"},{"tags":["java","multithreading","cdi","quarkus","vertx-eventbus"],"comments":[{"owner":{"account_id":385127,"reputation":6294,"user_id":742081,"display_name":"Ladicek"},"score":1,"creation_date":1675872832,"post_id":75388461,"comment_id":133022485,"body_markdown":"I&#39;d suggest to copy the necessary data from the request-scoped bean into your own object and pass that to the async task. Request-scoped beans are generally not required to be thread-safe, so accessing them from multiple threads may be risky.","body":"I&#39;d suggest to copy the necessary data from the request-scoped bean into your own object and pass that to the async task. Request-scoped beans are generally not required to be thread-safe, so accessing them from multiple threads may be risky."},{"owner":{"account_id":8161782,"reputation":103,"user_id":6148340,"display_name":"Bentz"},"score":0,"creation_date":1675874672,"post_id":75388461,"comment_id":133023172,"body_markdown":"@Ladicek\nI can pass a copy of the data but then i have to pass down the data across multiple methods, currently inside of the methods we are pulling the data from that RequestScoped bean.\nI want to avoid passing down the data across the methods.\n\nI&#39;m looking for a way to inject the data into a new &quot;context&quot; (a new instance of that RequestScoped bean).","body":"@Ladicek I can pass a copy of the data but then i have to pass down the data across multiple methods, currently inside of the methods we are pulling the data from that RequestScoped bean. I want to avoid passing down the data across the methods.  I&#39;m looking for a way to inject the data into a new &quot;context&quot; (a new instance of that RequestScoped bean)."},{"owner":{"account_id":385127,"reputation":6294,"user_id":742081,"display_name":"Ladicek"},"score":0,"creation_date":1675886582,"post_id":75388461,"comment_id":133026839,"body_markdown":"You can disable context propagation, manually activate the request context in the async task using `@ActivateRequestContext` or `RequestContextController`, lookup the bean and set its content.","body":"You can disable context propagation, manually activate the request context in the async task using <code>@ActivateRequestContext</code> or <code>RequestContextController</code>, lookup the bean and set its content."}],"owner":{"account_id":8161782,"reputation":103,"user_id":6148340,"display_name":"Bentz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":366,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675871989,"creation_date":1675871989,"question_id":75388461,"body_markdown":"I have a Quarkus app with REST API and multiple services that are `@ApplicationScoped`, and one bean that is `@RequestScoped` (it has data related to JWT, cookies etc).\r\n  \r\nWhen the REST API is invoked, I want to do some work synchronously and then return an answer to the client but to keep doing async work with the same RequestScoped bean (context data).\r\n\r\nI tried to propagate the RequestScoped bean to the thread that will handle the async task, but once the HTTP request is finished, the RequestScoped bean is getting deleted.\r\n\r\nWhat is the correct way of doing this?  \r\nBasically I want to share some context across a flow that involves sync and async tasks","title":"share request context between threads","body":"<p>I have a Quarkus app with REST API and multiple services that are <code>@ApplicationScoped</code>, and one bean that is <code>@RequestScoped</code> (it has data related to JWT, cookies etc).</p>\n<p>When the REST API is invoked, I want to do some work synchronously and then return an answer to the client but to keep doing async work with the same RequestScoped bean (context data).</p>\n<p>I tried to propagate the RequestScoped bean to the thread that will handle the async task, but once the HTTP request is finished, the RequestScoped bean is getting deleted.</p>\n<p>What is the correct way of doing this?<br />\nBasically I want to share some context across a flow that involves sync and async tasks</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":13798611,"reputation":37885,"user_id":9959152,"display_name":"Ryuzaki L"},"score":0,"creation_date":1675870474,"post_id":75388084,"comment_id":133021543,"body_markdown":"can u add complete test class ?","body":"can u add complete test class ?"}],"answers":[{"tags":[],"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675871942,"creation_date":1675871942,"answer_id":75388449,"question_id":75388084,"body_markdown":"As soon as you use Spring then in `application-test.properties` you could add\r\n```yml\r\napp.correspondent=some-value\r\n```\r\nAnd in test class you use `@MockBean` as:\r\n```java\r\nclass TestClass {\r\n  @MockBean\r\n  private AccountService accountService;\r\n\r\n}\r\n```\r\nAt context start-up Spring will create `AccountController` with the value injected from `application-test.properties` and mocked `accountService`.","title":"Mock constructor value in JUnit test","body":"<p>As soon as you use Spring then in <code>application-test.properties</code> you could add</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>app.correspondent=some-value\n</code></pre>\n<p>And in test class you use <code>@MockBean</code> as:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class TestClass {\n  @MockBean\n  private AccountService accountService;\n\n}\n</code></pre>\n<p>At context start-up Spring will create <code>AccountController</code> with the value injected from <code>application-test.properties</code> and mocked <code>accountService</code>.</p>\n"},{"comments":[{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1675872138,"post_id":75388457,"comment_id":133022216,"body_markdown":"I can&#39;t edit properties file. Some other solution?","body":"I can&#39;t edit properties file. Some other solution?"},{"owner":{"account_id":6018318,"reputation":131,"user_id":4726341,"display_name":"Sergey Gerasimov"},"score":0,"creation_date":1675872470,"post_id":75388457,"comment_id":133022352,"body_markdown":"You may do something like that: `@SpringBootTest(properties = { &quot;app.correspondent=d7aa282f-a8aa-40f9-bce6-08ce6737b6e1&quot; })`","body":"You may do something like that: <code>@SpringBootTest(properties = { &quot;app.correspondent=d7aa282f-a8aa-40f9-bce6-08ce6737b6e1&quot; })</code>"},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1675873609,"post_id":75388457,"comment_id":133022795,"body_markdown":"This is correct.","body":"This is correct."},{"owner":{"account_id":6018318,"reputation":131,"user_id":4726341,"display_name":"Sergey Gerasimov"},"score":0,"creation_date":1675873928,"post_id":75388457,"comment_id":133022907,"body_markdown":"Note: if you absolutely need the randomization, you can also use SPEL, though this would look a bit weird: `@SpringBootTest(properties = { &quot;app.correspondent=#{T(java.util.UUID).randomUUID().toString()}&quot; })`","body":"Note: if you absolutely need the randomization, you can also use SPEL, though this would look a bit weird: <code>@SpringBootTest(properties = { &quot;app.correspondent=#{T(java.util.UUID).randomUUID().toString&zwnj;&#8203;()}&quot; })</code>"}],"tags":[],"owner":{"account_id":6018318,"reputation":131,"user_id":4726341,"display_name":"Sergey Gerasimov"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675871969,"creation_date":1675871969,"answer_id":75388457,"question_id":75388084,"body_markdown":"I think the problem might be related to creating the bean itself and not the mock (probably it resolves `@Value(&quot;${app.correspondent}&quot;)` to `&quot;&quot;` in the test environment and then fails as it&#39;s not an UUID. I suggest putting something like `app.correspondent=d7aa282f-a8aa-40f9-bce6-08ce6737b6e1` in the properties and check it out. \r\n\r\nAlso, it looks like there&#39;s another problem you might face: it&#39;s `AccountService, String` method signature in the controller and `AccountService, UUID` in the mock. Pretty sure this will give another error with mock construction. Though, this is easy to fix with a simple toString. ","title":"Mock constructor value in JUnit test","body":"<p>I think the problem might be related to creating the bean itself and not the mock (probably it resolves <code>@Value(&quot;${app.correspondent}&quot;)</code> to <code>&quot;&quot;</code> in the test environment and then fails as it's not an UUID. I suggest putting something like <code>app.correspondent=d7aa282f-a8aa-40f9-bce6-08ce6737b6e1</code> in the properties and check it out.</p>\n<p>Also, it looks like there's another problem you might face: it's <code>AccountService, String</code> method signature in the controller and <code>AccountService, UUID</code> in the mock. Pretty sure this will give another error with mock construction. Though, this is easy to fix with a simple toString.</p>\n"}],"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75388457,"answer_count":2,"score":0,"last_activity_date":1675871969,"creation_date":1675870302,"question_id":75388084,"body_markdown":"I have the following controller which I want to test:\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/api/account&quot;)\r\n    public class AccountController {\r\n    \r\n        private final AccountService accountService;\r\n    \r\n        private UUID correspondentId;\r\n    \r\n    \r\n        public AccountController(AccountService accountService, @Value(&quot;${app.correspondent}&quot;) String correspondentId) {\r\n            this.accountService = accountService;\r\n            this.correspondentId = UUID.fromString(correspondentId);\r\n        }\r\n    \r\n        @GetMapping(&quot;&quot;)\r\n        @PreAuthorize(&quot;hasRole(&#39;CUSTOMER&#39;)&quot;)\r\n        Mono&lt;String&gt; index(Authentication auth) {\r\n            return.....;\r\n        }\r\n\r\nI tried to mock a test this way:\r\n\r\n    @Test\r\n    public void testMockUser() {\r\n            AccountService accountService = Mockito.mock(AccountService.class);\r\n            Mockito.mock(AccountController.class, withSettings().useConstructor(accountService, \r\n            UUID.randomUUID()));\r\n    \r\n            webTestClient\r\n                    .mutateWith(jwtMutator())\r\n                    .get().uri(&quot;/api/account/&quot;)\r\n                    .accept(MediaType.APPLICATION_JSON)\r\n                    .exchange()\r\n                    .expectStatus().isOk();\r\n    }\r\n             \r\n\r\nBut I get error:\r\n\r\n    Caused by: java.lang.IllegalArgumentException: Invalid UUID string: \r\n\r\nDo you know what is the proper way to mock the constructor value?","title":"Mock constructor value in JUnit test","body":"<p>I have the following controller which I want to test:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api/account&quot;)\npublic class AccountController {\n\n    private final AccountService accountService;\n\n    private UUID correspondentId;\n\n\n    public AccountController(AccountService accountService, @Value(&quot;${app.correspondent}&quot;) String correspondentId) {\n        this.accountService = accountService;\n        this.correspondentId = UUID.fromString(correspondentId);\n    }\n\n    @GetMapping(&quot;&quot;)\n    @PreAuthorize(&quot;hasRole('CUSTOMER')&quot;)\n    Mono&lt;String&gt; index(Authentication auth) {\n        return.....;\n    }\n</code></pre>\n<p>I tried to mock a test this way:</p>\n<pre><code>@Test\npublic void testMockUser() {\n        AccountService accountService = Mockito.mock(AccountService.class);\n        Mockito.mock(AccountController.class, withSettings().useConstructor(accountService, \n        UUID.randomUUID()));\n\n        webTestClient\n                .mutateWith(jwtMutator())\n                .get().uri(&quot;/api/account/&quot;)\n                .accept(MediaType.APPLICATION_JSON)\n                .exchange()\n                .expectStatus().isOk();\n}\n         \n</code></pre>\n<p>But I get error:</p>\n<pre><code>Caused by: java.lang.IllegalArgumentException: Invalid UUID string: \n</code></pre>\n<p>Do you know what is the proper way to mock the constructor value?</p>\n"},{"tags":["java","arrays","multidimensional-array","mapping"],"comments":[{"owner":{"account_id":23428052,"reputation":6895,"user_id":17487348,"display_name":"Mushroomator"},"score":0,"creation_date":1675602354,"post_id":75352450,"comment_id":132960572,"body_markdown":"There is no `double` datatype in JavaScript which as the tag on your question suggests is the language you are using. Is it possible you&#39;re writing Java code? Please tag the question accordingly.","body":"There is no <code>double</code> datatype in JavaScript which as the tag on your question suggests is the language you are using. Is it possible you&#39;re writing Java code? Please tag the question accordingly."}],"answers":[{"tags":[],"owner":{"account_id":23428052,"reputation":6895,"user_id":17487348,"display_name":"Mushroomator"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675604763,"creation_date":1675604763,"answer_id":75352716,"question_id":75352450,"body_markdown":"You can use [modulo](https://en.wikipedia.org/wiki/Modulo) to map the x index and a simple division to map the y index of the two-dimensional array two the one-dimensional index.\r\n\r\nThe solution initializes the array with zeroes first. Time and memory complexity would obviously be `Θ(xy)`.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    function reshape(oneDimArray, x, y) {\r\n      if(x &lt; 0 || y &lt; 0) throw new RangeError(`x and y must not be negative`)\r\n      const twoDimArray = [...new Array(y)].map(_ =&gt; {\r\n        const array = new Array(x);\r\n        array.fill(0, 0, array.length);\r\n        return array;\r\n      });\r\n      for (let i = 0; i &lt; oneDimArray.length; i++) {\r\n        const yIndex = Math.floor(i / x);\r\n        const xIndex = i % x;\r\n        twoDimArray[yIndex][xIndex] = oneDimArray[i];\r\n      }\r\n      return twoDimArray;\r\n    }\r\n\r\n    const sample = [1, 2, 3, 4];\r\n    console.log(reshape(sample, 2, 2));\r\n    console.log(reshape(sample, 2, 4));\r\n    console.log(reshape(sample, 1, 4));\r\n    console.log(reshape(sample, 3, 4));\r\n\r\n&lt;!-- language: lang-css --&gt;\r\n\r\n    /* StackOverflow snippet: console should overlap rendered HTML area */\r\n    .as-console-wrapper { max-height: 100% !important; top: 0; }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nThe same algorithm implemented in Java would look like this:\r\n```java\r\nimport java.util.Arrays;\r\n\r\npublic class Application {\r\n\r\n    public static void main(String[] args) {\r\n        var sample = new double[]{ 1d, 2d, 3d, 4d };\r\n        System.out.println(Arrays.deepToString(reshape(sample, 2, 2)));\r\n        System.out.println(Arrays.deepToString(reshape(sample, 2, 4)));\r\n        System.out.println(Arrays.deepToString(reshape(sample, 1, 4)));\r\n        System.out.println(Arrays.deepToString(reshape(sample, 3, 4)));\r\n    }\r\n\r\n    public static double[][] reshape(double[] oneDimArray, int x, int y)\r\n    {\r\n        if(x &lt; 0 || y &lt; 0) throw new IllegalArgumentException(&quot;x and y must not be negative&quot;);\r\n        var twoDimArray = new double[y][x];\r\n        for (var i = 0; i &lt; oneDimArray.length; i++) {\r\n            var yIndex = (int)(i / x);\r\n            var xIndex = i % x;\r\n            twoDimArray[yIndex][xIndex] = oneDimArray[i];\r\n        }\r\n        return twoDimArray;\r\n    }\r\n}\r\n```","title":"Converting 1-dimensional double value to 2-dimensional double value","body":"<p>You can use <a href=\"https://en.wikipedia.org/wiki/Modulo\" rel=\"nofollow noreferrer\">modulo</a> to map the x index and a simple division to map the y index of the two-dimensional array two the one-dimensional index.</p>\n<p>The solution initializes the array with zeroes first. Time and memory complexity would obviously be <code>Θ(xy)</code>.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function reshape(oneDimArray, x, y) {\n  if(x &lt; 0 || y &lt; 0) throw new RangeError(`x and y must not be negative`)\n  const twoDimArray = [...new Array(y)].map(_ =&gt; {\n    const array = new Array(x);\n    array.fill(0, 0, array.length);\n    return array;\n  });\n  for (let i = 0; i &lt; oneDimArray.length; i++) {\n    const yIndex = Math.floor(i / x);\n    const xIndex = i % x;\n    twoDimArray[yIndex][xIndex] = oneDimArray[i];\n  }\n  return twoDimArray;\n}\n\nconst sample = [1, 2, 3, 4];\nconsole.log(reshape(sample, 2, 2));\nconsole.log(reshape(sample, 2, 4));\nconsole.log(reshape(sample, 1, 4));\nconsole.log(reshape(sample, 3, 4));</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>/* StackOverflow snippet: console should overlap rendered HTML area */\n.as-console-wrapper { max-height: 100% !important; top: 0; }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>The same algorithm implemented in Java would look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Arrays;\n\npublic class Application {\n\n    public static void main(String[] args) {\n        var sample = new double[]{ 1d, 2d, 3d, 4d };\n        System.out.println(Arrays.deepToString(reshape(sample, 2, 2)));\n        System.out.println(Arrays.deepToString(reshape(sample, 2, 4)));\n        System.out.println(Arrays.deepToString(reshape(sample, 1, 4)));\n        System.out.println(Arrays.deepToString(reshape(sample, 3, 4)));\n    }\n\n    public static double[][] reshape(double[] oneDimArray, int x, int y)\n    {\n        if(x &lt; 0 || y &lt; 0) throw new IllegalArgumentException(&quot;x and y must not be negative&quot;);\n        var twoDimArray = new double[y][x];\n        for (var i = 0; i &lt; oneDimArray.length; i++) {\n            var yIndex = (int)(i / x);\n            var xIndex = i % x;\n            twoDimArray[yIndex][xIndex] = oneDimArray[i];\n        }\n        return twoDimArray;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27708378,"reputation":3,"user_id":21151560,"display_name":"Alison Lee"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75352716,"answer_count":1,"score":0,"last_activity_date":1675871904,"creation_date":1675602195,"question_id":75352450,"body_markdown":"I am trying to map the items in 1-dimensional `double[]` to 2-dimensional `double[][]`, in a way that it is arranged in a matrix. For example, `[1, 2, 3, 4]` would be converted into a 2*2 array with `[1, 2]` in the first row and then `[3, 4]` in the second row. No values are given, so I need to put the variables instead of the actual integers, though.\r\n\r\nHow do I do this?\r\n\r\nI tried pushing and slicing, but they only work for `int` not `double`.","title":"Converting 1-dimensional double value to 2-dimensional double value","body":"<p>I am trying to map the items in 1-dimensional <code>double[]</code> to 2-dimensional <code>double[][]</code>, in a way that it is arranged in a matrix. For example, <code>[1, 2, 3, 4]</code> would be converted into a 2*2 array with <code>[1, 2]</code> in the first row and then <code>[3, 4]</code> in the second row. No values are given, so I need to put the variables instead of the actual integers, though.</p>\n<p>How do I do this?</p>\n<p>I tried pushing and slicing, but they only work for <code>int</code> not <code>double</code>.</p>\n"},{"tags":["python","java","ethereum","solidity","hedera-hashgraph"],"answers":[{"tags":[],"owner":{"account_id":27543378,"reputation":113,"user_id":21019757,"display_name":"Acehilm"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1675871859,"creation_date":1675688842,"answer_id":75361719,"question_id":73059934,"body_markdown":"It sounds like the SDK is attempting to send your request to a node that&#39;s currently unavailable (see [hedera status page][1]), or your connectivity to the Hedera network is failing altogether.\r\n\r\nNote that calls to the Hedera API are made over port 50211 (or 50212) which are sometimes blocked by enterprise firewalls, if the same code works over a cellular/mobile connection or another wifi (home/other), this is the likely cause of the problem.\r\n\r\n\r\n  [1]: https://status.hedera.com","title":"jnius.JavaException: JVM exception occurred: exceeded maximum","body":"<p>It sounds like the SDK is attempting to send your request to a node that's currently unavailable (see <a href=\"https://status.hedera.com\" rel=\"nofollow noreferrer\">hedera status page</a>), or your connectivity to the Hedera network is failing altogether.</p>\n<p>Note that calls to the Hedera API are made over port 50211 (or 50212) which are sometimes blocked by enterprise firewalls, if the same code works over a cellular/mobile connection or another wifi (home/other), this is the likely cause of the problem.</p>\n"}],"owner":{"account_id":16617813,"reputation":157,"user_id":19346974,"display_name":"mev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":351,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75361719,"answer_count":1,"score":3,"last_activity_date":1675871859,"creation_date":1658369432,"question_id":73059934,"body_markdown":"I am creating a DApp on the Hedera Blockchain using Hedera-sdk-py, a python wrapper of Hedera SDK in Java. I keep getting *JVM exception occurred: exceeded maximum attempts for request with the last exception being com.hedera.hashgraph.sdk.MaxAttemptsExceededException* each time I try to create an account. The error occurs at: *resp = tran.setKey(newPublicKey).setInitialBalance(Hbar(2)).execute(client).* Any help will be appreciated as I have tried repeatedly without success to fix it.\r\n\r\n    from hedera import (\r\n        Hbar,\r\n        PrivateKey,\r\n        AccountCreateTransaction,\r\n    )\r\n    from get_client import client\r\n\r\n    # Generate a Ed25519 private, public key pair\r\n    newKey = PrivateKey.generate()\r\n    newPublicKey = newKey.getPublicKey()\r\n\r\n    print(&quot;private key = &quot;, newKey.toString())\r\n    print(&quot;public key = &quot;, newPublicKey.toString())\r\n\r\n    tran = AccountCreateTransaction()\r\n    # need a certain number of hbars, otherwise it can not be deleted later\r\n    resp = tran.setKey(newPublicKey).setInitialBalance(Hbar(2)).execute(client)\r\n    receipt = resp.getReceipt(client)\r\n    print(&quot;account = &quot;,  receipt.accountId.toString()","title":"jnius.JavaException: JVM exception occurred: exceeded maximum","body":"<p>I am creating a DApp on the Hedera Blockchain using Hedera-sdk-py, a python wrapper of Hedera SDK in Java. I keep getting <em>JVM exception occurred: exceeded maximum attempts for request with the last exception being com.hedera.hashgraph.sdk.MaxAttemptsExceededException</em> each time I try to create an account. The error occurs at: <em>resp = tran.setKey(newPublicKey).setInitialBalance(Hbar(2)).execute(client).</em> Any help will be appreciated as I have tried repeatedly without success to fix it.</p>\n<pre><code>from hedera import (\n    Hbar,\n    PrivateKey,\n    AccountCreateTransaction,\n)\nfrom get_client import client\n\n# Generate a Ed25519 private, public key pair\nnewKey = PrivateKey.generate()\nnewPublicKey = newKey.getPublicKey()\n\nprint(&quot;private key = &quot;, newKey.toString())\nprint(&quot;public key = &quot;, newPublicKey.toString())\n\ntran = AccountCreateTransaction()\n# need a certain number of hbars, otherwise it can not be deleted later\nresp = tran.setKey(newPublicKey).setInitialBalance(Hbar(2)).execute(client)\nreceipt = resp.getReceipt(client)\nprint(&quot;account = &quot;,  receipt.accountId.toString()\n</code></pre>\n"},{"tags":["java","spring-webflux","reactive-programming","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675871571,"creation_date":1675871571,"answer_id":75388356,"question_id":75386970,"body_markdown":"The closest analog of the `handle` is a `map` (not `flatMap`). You could think about it as a combination of the `map` &amp; `filter`. In contrast to `flatMap` both `handle` and `map` are synchronous function.\r\n\r\n**`map`** - transforms the emitted item by applying a synchronous function. It provides 1:1 mapping and **every** item should be mapped. The only way to skip item is to throw exception and then immediately handle the error signal using `onErrorResume`.\r\n\r\n\r\n**`handle`** - is more flexible and provides 0 or 1 mapping. It&#39;s possible to skip items by not emitting signal using `sink.next()`.\r\n\r\n\r\nIn your case there is no reason to wrap user into `Mono` and use `flatMap`. Use `map` because mapping is 1:1.","title":"Best way to handle data in Project Reactor","body":"<p>The closest analog of the <code>handle</code> is a <code>map</code> (not <code>flatMap</code>). You could think about it as a combination of the <code>map</code> &amp; <code>filter</code>. In contrast to <code>flatMap</code> both <code>handle</code> and <code>map</code> are synchronous function.</p>\n<p><strong><code>map</code></strong> - transforms the emitted item by applying a synchronous function. It provides 1:1 mapping and <strong>every</strong> item should be mapped. The only way to skip item is to throw exception and then immediately handle the error signal using <code>onErrorResume</code>.</p>\n<p><strong><code>handle</code></strong> - is more flexible and provides 0 or 1 mapping. It's possible to skip items by not emitting signal using <code>sink.next()</code>.</p>\n<p>In your case there is no reason to wrap user into <code>Mono</code> and use <code>flatMap</code>. Use <code>map</code> because mapping is 1:1.</p>\n"}],"owner":{"account_id":25326567,"reputation":69,"user_id":19147117,"display_name":"h1alexbel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":275,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1675871571,"creation_date":1675865366,"question_id":75386970,"body_markdown":"What is the best way to handle data in a project reactor?\r\n\r\nusing flatMap:\r\n```\r\npublic Mono&lt;User&gt; flat() {\r\n    return this.repository.findByName(&quot;Jeff&quot;)\r\n      .flatMap(\r\n        user -&gt; {\r\n          user.setInfo(new UserInfo(&quot;Palo Alto/CA&quot;, &quot;Safari&quot;, &quot;h1alexbel/transformed&quot;));\r\n          return Mono.just(user);\r\n        }\r\n      );\r\n  }\r\n```\r\nhandle:\r\n```\r\npublic Mono&lt;User&gt; handle() {\r\n    return this.repository.findByName(&quot;Jeff&quot;)\r\n      .handle(\r\n        (user, sink) -&gt;\r\n          user.setInfo(\r\n            new UserInfo(&quot;Palo Alto/CA&quot;, &quot;Safari&quot;, &quot;h1alexbel/transformed&quot;)\r\n          )\r\n      );\r\n  }\r\n```\r\n\r\nor something else?\r\n\r\n\r\nAs far I understand, ```handle``` helps to combine 2 operations together: ```flatMap```\r\nand ```filter```.","title":"Best way to handle data in Project Reactor","body":"<p>What is the best way to handle data in a project reactor?</p>\n<p>using flatMap:</p>\n<pre><code>public Mono&lt;User&gt; flat() {\n    return this.repository.findByName(&quot;Jeff&quot;)\n      .flatMap(\n        user -&gt; {\n          user.setInfo(new UserInfo(&quot;Palo Alto/CA&quot;, &quot;Safari&quot;, &quot;h1alexbel/transformed&quot;));\n          return Mono.just(user);\n        }\n      );\n  }\n</code></pre>\n<p>handle:</p>\n<pre><code>public Mono&lt;User&gt; handle() {\n    return this.repository.findByName(&quot;Jeff&quot;)\n      .handle(\n        (user, sink) -&gt;\n          user.setInfo(\n            new UserInfo(&quot;Palo Alto/CA&quot;, &quot;Safari&quot;, &quot;h1alexbel/transformed&quot;)\n          )\n      );\n  }\n</code></pre>\n<p>or something else?</p>\n<p>As far I understand, <code>handle</code> helps to combine 2 operations together: <code>flatMap</code>\nand <code>filter</code>.</p>\n"},{"tags":["java","spring-boot","junit","transactions","deadlock"],"owner":{"account_id":5253863,"reputation":57,"user_id":4197250,"display_name":"Madson Paulo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675871544,"creation_date":1675870982,"question_id":75388226,"body_markdown":"When the JUnit Test bellow executes an INSERT or DELETE, the table gets locked and the service being tested cannot read the table. It&#39;s also not possible to read any row in the table outside Eclipse, from SSMS, for example.\r\n\r\nOne thing to know is, all test classes extend from a BaseTest class, from which I autowire the repositories, which are the same classes used in the service being tested. Not sure it is a problem.\r\n\r\n\r\n```\r\nclass AlterarComiteTest extends BaseTest {\r\n        [...]\r\n}\r\n\r\n\r\n@ActiveProfiles(&quot;des&quot;)\r\n@Slf4j\r\n@SpringBootTest(webEnvironment = WebEnvironment.DEFINED_PORT)\r\npublic class BaseTest {\r\n\r\n        [...]\r\n        @Autowired\r\n\tprotected ComiteRepository comiteRep;\r\n        [...]\r\n}\r\n```\r\n\r\n\r\nThis is how the controller method being tested looks like:\r\n\r\n```\r\n[...]\r\n@PutMapping(&quot;/{sqComite}&quot;)\r\n@Transactional(value = TxType.REQUIRES_NEW, rollbackOn = Throwable.class)\r\npublic ResponseEntity&lt;ComiteDto&gt; atualizarComite(HttpServletRequest request, @PathVariable Long sqComite, @RequestBody @Valid ComiteForm form) throws ApplicationException {\r\n\r\n}\r\n[...]\r\n```\r\n\r\n**Try #1\r\nResult:** After cadastrarComite(true), which executes an INSERT on the same entity of the controller, the table gets locked. When the service method tries to SELECT the entity, it finds the lock and remain there, waiting.\r\n\r\nNote: excluirComite(comiteCenario) DELETEs the entity.\r\n\r\n```\r\n@Test\r\n@Transactional\r\nvoid alterar_DadosInvalidos_SqPeriodicidadeReuniaoNaoExiste() {\r\n\t[...]\r\n\tComite comiteCenario = cadastrarComite(true);\r\n\t[...]\r\n\t[calls the service method being tested]\r\n\t[...]\r\n\texcluirComite(comiteCenario);\r\n}\r\n```\r\n\r\n**Try #2\r\nResult:** Same as Try #1, but the lock starts in the @BeforeEach\r\n\r\n\r\n```\r\nclass AlterarComiteTest extends BaseTest {\r\n    private Comite comiteAtivo;\r\n\r\n    @BeforeEach\r\n    void setUpBeforeEach() {\r\n        [...]\r\n         if (comiteAtivo == null) {\r\n            comiteAtivo = cadastrarComite(true);\r\n        }\r\n        [...]\r\n    }\r\n   \r\n    @Test\r\n    @Transactional\r\n    void alterar_DadosInvalidos_SqPeriodicidadeReuniaoNaoExiste() {\r\n        [...]\r\n        Comite comiteCenario = comiteAtivo;\r\n        [...]\r\n        [calls the service method being tested]\r\n        [...]\r\n        excluirComite(comiteCenario);\r\n    }\r\n}\r\n```\r\n\r\n**Try #3\r\nResult:** If all tests in the test class are executed, then they all execute successfully, but the @AfterAll fails, since it (for some reason) does not have any transaction related to it. It causes created entities to not be DELETED, dirtying the database.\r\n\r\n&gt; Caused by: javax.persistence.TransactionRequiredException: No EntityManager with actual transaction available for current thread - cannot reliably process &#39;remove&#39; call\r\n\r\nBUT, if only any single @Test from the test class is executed, then it works all the way (maybe the test transaction is used in the @AfterAll, don&#39;t know why).\r\n\r\n\r\n```\r\n@TestInstance(TestInstance.Lifecycle.PER_CLASS)\r\nclass AlterarComiteTest extends BaseTest {\r\n    private Comite comiteAtivo;\r\n\r\n    @BeforeAll\r\n    void setUpBeforeClass() {\r\n        comiteAtivo = cadastrarComite(true);\r\n    }\r\n\r\n    @AfterAll\r\n    void tearDownAfterClass() {\r\n        excluirComite(comiteAtivo);\r\n    }\r\n   \r\n    @Test\r\n    @Transactional\r\n    void alterar_DadosInvalidos_SqPeriodicidadeReuniaoNaoExiste() {\r\n        [...]\r\n       \r\n        Comite comiteCenario = comiteAtivo;\r\n        [...]\r\n        [calls the service method being tested]\r\n    }\r\n}\r\n```\r\n\r\n**Try #4\r\nResult:** Removed @Transactional from all test methods. All tests got the same error.\r\n\r\n&gt; Caused by: javax.persistence.TransactionRequiredException: No EntityManager with actual transaction available for current thread - cannot reliably process &#39;remove&#39; call\r\n\r\n\r\n```\r\n@BeforeEach\r\nvoid setUpBeforeEach() {\r\n    comiteAtivo = cadastrarComite(true);\r\n    comiteInativo = cadastrarComite(false);\r\n}\r\n\r\n@AfterEach\r\nvoid tearDownAfterEach() {\r\n    excluirComite(comiteAtivo);\r\n    excluirComite(comiteInativo);\r\n}\r\n\r\n@Test\r\nvoid alterar_DadosInvalidos_SqPeriodicidadeReuniaoNaoExiste() {\r\n    [...]\r\n    Comite comiteCenario = comiteAtivo;\r\n    [...]\r\n    [calls the service method being tested]\r\n}\r\n```\r\n\r\nLast note: I tried inserting @Transactional on cadastrarComite and excluirComite as well. Currently they do not have it. It did not made any difference.","title":"Why is Java JUnit Test locking table?","body":"<p>When the JUnit Test bellow executes an INSERT or DELETE, the table gets locked and the service being tested cannot read the table. It's also not possible to read any row in the table outside Eclipse, from SSMS, for example.</p>\n<p>One thing to know is, all test classes extend from a BaseTest class, from which I autowire the repositories, which are the same classes used in the service being tested. Not sure it is a problem.</p>\n<pre><code>class AlterarComiteTest extends BaseTest {\n        [...]\n}\n\n\n@ActiveProfiles(&quot;des&quot;)\n@Slf4j\n@SpringBootTest(webEnvironment = WebEnvironment.DEFINED_PORT)\npublic class BaseTest {\n\n        [...]\n        @Autowired\n    protected ComiteRepository comiteRep;\n        [...]\n}\n</code></pre>\n<p>This is how the controller method being tested looks like:</p>\n<pre><code>[...]\n@PutMapping(&quot;/{sqComite}&quot;)\n@Transactional(value = TxType.REQUIRES_NEW, rollbackOn = Throwable.class)\npublic ResponseEntity&lt;ComiteDto&gt; atualizarComite(HttpServletRequest request, @PathVariable Long sqComite, @RequestBody @Valid ComiteForm form) throws ApplicationException {\n\n}\n[...]\n</code></pre>\n<p><strong>Try #1\nResult:</strong> After cadastrarComite(true), which executes an INSERT on the same entity of the controller, the table gets locked. When the service method tries to SELECT the entity, it finds the lock and remain there, waiting.</p>\n<p>Note: excluirComite(comiteCenario) DELETEs the entity.</p>\n<pre><code>@Test\n@Transactional\nvoid alterar_DadosInvalidos_SqPeriodicidadeReuniaoNaoExiste() {\n    [...]\n    Comite comiteCenario = cadastrarComite(true);\n    [...]\n    [calls the service method being tested]\n    [...]\n    excluirComite(comiteCenario);\n}\n</code></pre>\n<p><strong>Try #2\nResult:</strong> Same as Try #1, but the lock starts in the @BeforeEach</p>\n<pre><code>class AlterarComiteTest extends BaseTest {\n    private Comite comiteAtivo;\n\n    @BeforeEach\n    void setUpBeforeEach() {\n        [...]\n         if (comiteAtivo == null) {\n            comiteAtivo = cadastrarComite(true);\n        }\n        [...]\n    }\n   \n    @Test\n    @Transactional\n    void alterar_DadosInvalidos_SqPeriodicidadeReuniaoNaoExiste() {\n        [...]\n        Comite comiteCenario = comiteAtivo;\n        [...]\n        [calls the service method being tested]\n        [...]\n        excluirComite(comiteCenario);\n    }\n}\n</code></pre>\n<p><strong>Try #3\nResult:</strong> If all tests in the test class are executed, then they all execute successfully, but the @AfterAll fails, since it (for some reason) does not have any transaction related to it. It causes created entities to not be DELETED, dirtying the database.</p>\n<blockquote>\n<p>Caused by: javax.persistence.TransactionRequiredException: No EntityManager with actual transaction available for current thread - cannot reliably process 'remove' call</p>\n</blockquote>\n<p>BUT, if only any single @Test from the test class is executed, then it works all the way (maybe the test transaction is used in the @AfterAll, don't know why).</p>\n<pre><code>@TestInstance(TestInstance.Lifecycle.PER_CLASS)\nclass AlterarComiteTest extends BaseTest {\n    private Comite comiteAtivo;\n\n    @BeforeAll\n    void setUpBeforeClass() {\n        comiteAtivo = cadastrarComite(true);\n    }\n\n    @AfterAll\n    void tearDownAfterClass() {\n        excluirComite(comiteAtivo);\n    }\n   \n    @Test\n    @Transactional\n    void alterar_DadosInvalidos_SqPeriodicidadeReuniaoNaoExiste() {\n        [...]\n       \n        Comite comiteCenario = comiteAtivo;\n        [...]\n        [calls the service method being tested]\n    }\n}\n</code></pre>\n<p><strong>Try #4\nResult:</strong> Removed @Transactional from all test methods. All tests got the same error.</p>\n<blockquote>\n<p>Caused by: javax.persistence.TransactionRequiredException: No EntityManager with actual transaction available for current thread - cannot reliably process 'remove' call</p>\n</blockquote>\n<pre><code>@BeforeEach\nvoid setUpBeforeEach() {\n    comiteAtivo = cadastrarComite(true);\n    comiteInativo = cadastrarComite(false);\n}\n\n@AfterEach\nvoid tearDownAfterEach() {\n    excluirComite(comiteAtivo);\n    excluirComite(comiteInativo);\n}\n\n@Test\nvoid alterar_DadosInvalidos_SqPeriodicidadeReuniaoNaoExiste() {\n    [...]\n    Comite comiteCenario = comiteAtivo;\n    [...]\n    [calls the service method being tested]\n}\n</code></pre>\n<p>Last note: I tried inserting @Transactional on cadastrarComite and excluirComite as well. Currently they do not have it. It did not made any difference.</p>\n"},{"tags":["java","spring-boot","open-telemetry"],"owner":{"account_id":3347567,"reputation":407,"user_id":2812410,"accept_rate":33,"display_name":"Prajyod Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675871485,"creation_date":1675844155,"question_id":75382927,"body_markdown":"I&#39;m using Open Telemetry manual instrumentation for sending Device data.\r\n\r\nI&#39;m creating a SdkMeterProvider like this\r\n\r\n    private OpenTelemetry initOpenTelemetrySDK() {\r\n    \r\n        Resource resource = Resource.getDefault()\r\n                .merge(Resource.create(Attributes.of(ResourceAttributes.SERVICE_NAME, &quot;MyResource&quot;)));\r\n    \r\n        OtlpGrpcMetricExporter otlpGrpcMetricExporter = OtlpGrpcMetricExporter.builder()\r\n                .setEndpoint(getOtelEndPoint())\r\n                .setAggregationTemporalitySelector(AggregationTemporalitySelector.deltaPreferred()).build();\r\n    \r\n        SdkMeterProvider sdkMeterProvider = SdkMeterProvider.builder()\r\n                .registerMetricReader(PeriodicMetricReader.builder(otlpGrpcMetricExporter).build()).setResource(resource)\r\n                //.registerView(InstrumentSelector.builder().setType(InstrumentType.OBSERVABLE_UP_DOWN_COUNTER).build(),\r\n                //      View.builder().setAggregation(Aggregation.defaultAggregation()).build())\r\n                .build();\r\n    \r\n        OpenTelemetrySdk openTelemetrySdk = OpenTelemetrySdk.builder().setMeterProvider(sdkMeterProvider)\r\n                .buildAndRegisterGlobal();\r\n    \r\n        return openTelemetrySdk;\r\n    }\r\n\r\nand while sending the metrics using below line and built the attributes.\r\n\r\n    Meter meter = openTelemetrySdk.meterBuilder(&quot;DeviceData&quot;).build();\r\n    LongCounter counter = meter.counterBuilder(123).build();\r\n    counter.add((Long) record.getValue(), attributes);\r\n\r\nThe issue I&#39;m facing here is even after switching off the device I can see the meter is keep sending the data for this device which is switched off.\r\nIf I restart my server again then I dont see the switched off device again.\r\n\r\nCan you please provide any pointers here.","title":"Stale data is streaming even when device is switched off in open telemetry sdk","body":"<p>I'm using Open Telemetry manual instrumentation for sending Device data.</p>\n<p>I'm creating a SdkMeterProvider like this</p>\n<pre><code>private OpenTelemetry initOpenTelemetrySDK() {\n\n    Resource resource = Resource.getDefault()\n            .merge(Resource.create(Attributes.of(ResourceAttributes.SERVICE_NAME, &quot;MyResource&quot;)));\n\n    OtlpGrpcMetricExporter otlpGrpcMetricExporter = OtlpGrpcMetricExporter.builder()\n            .setEndpoint(getOtelEndPoint())\n            .setAggregationTemporalitySelector(AggregationTemporalitySelector.deltaPreferred()).build();\n\n    SdkMeterProvider sdkMeterProvider = SdkMeterProvider.builder()\n            .registerMetricReader(PeriodicMetricReader.builder(otlpGrpcMetricExporter).build()).setResource(resource)\n            //.registerView(InstrumentSelector.builder().setType(InstrumentType.OBSERVABLE_UP_DOWN_COUNTER).build(),\n            //      View.builder().setAggregation(Aggregation.defaultAggregation()).build())\n            .build();\n\n    OpenTelemetrySdk openTelemetrySdk = OpenTelemetrySdk.builder().setMeterProvider(sdkMeterProvider)\n            .buildAndRegisterGlobal();\n\n    return openTelemetrySdk;\n}\n</code></pre>\n<p>and while sending the metrics using below line and built the attributes.</p>\n<pre><code>Meter meter = openTelemetrySdk.meterBuilder(&quot;DeviceData&quot;).build();\nLongCounter counter = meter.counterBuilder(123).build();\ncounter.add((Long) record.getValue(), attributes);\n</code></pre>\n<p>The issue I'm facing here is even after switching off the device I can see the meter is keep sending the data for this device which is switched off.\nIf I restart my server again then I dont see the switched off device again.</p>\n<p>Can you please provide any pointers here.</p>\n"},{"tags":["java","ant"],"owner":{"account_id":27582058,"reputation":31,"user_id":21051054,"display_name":"Roger Spall"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675870849,"creation_date":1675870849,"question_id":75388198,"body_markdown":"Using ANT Ivy library to manage dependencies for a java application...\r\n\r\nIs there any ANT task, or any code suggestions for generating a vulnerability audit / report for our dependent libraries during our autobuilds?\r\n\r\nHere is an example (most dependencies removed for brevity) out our dependencies.xml\r\n\r\n    &lt;ivy-module version=&quot;2.0&quot;&gt;\r\n\t&lt;info organisation=&quot;com.yamaha&quot; module=&quot;YDS&quot; /&gt;\r\n\t\r\n\t&lt;configurations defaultconfmapping=&quot;compile-&gt;default;sources;javadoc&quot;&gt;\r\n        &lt;conf name=&quot;compile&quot; description=&quot;Required to compile application&quot;/&gt;\r\n        &lt;conf name=&quot;sources&quot; description=&quot;Source jars&quot;/&gt;\r\n        &lt;conf name=&quot;javadoc&quot; description=&quot;Javadoc jars&quot;/&gt;\r\n        &lt;conf name=&quot;runtime&quot; description=&quot;Additional run-time dependencies&quot; extends=&quot;compile&quot;/&gt;\r\n        &lt;conf name=&quot;test&quot;    description=&quot;Required for test only&quot; extends=&quot;runtime&quot;/&gt;\r\n    &lt;/configurations&gt;\r\n\t\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency org=&quot;commons-collections&quot; name=&quot;commons-collections&quot; rev=&quot;[3.2,3.2.+]&quot;/&gt;\r\n\t\t&lt;dependency org=&quot;commons-beanutils&quot; name=&quot;commons-beanutils&quot; rev=&quot;1.9.+&quot;/&gt;      \r\n\t&lt;/dependencies&gt;\r\n\t\r\n&lt;/ivy-module&gt;\r\n\r\nHere is our ant code for retreiving dependencies:\r\n\r\n&lt;ivy:retrieve file=&quot;dependencyFile.xml&quot; type=&quot;bundle, jar&quot; sync=&quot;true&quot;/&gt;\r\n\r\nWe would simply like to add some ANT code that will list any vulnerabilities in the dependency.xml file?","title":"ANT Ivy generating a vulnerability report for dependent libraries","body":"<p>Using ANT Ivy library to manage dependencies for a java application...</p>\n<p>Is there any ANT task, or any code suggestions for generating a vulnerability audit / report for our dependent libraries during our autobuilds?</p>\n<p>Here is an example (most dependencies removed for brevity) out our dependencies.xml</p>\n<pre><code>&lt;ivy-module version=&quot;2.0&quot;&gt;\n&lt;info organisation=&quot;com.yamaha&quot; module=&quot;YDS&quot; /&gt;\n\n&lt;configurations defaultconfmapping=&quot;compile-&gt;default;sources;javadoc&quot;&gt;\n    &lt;conf name=&quot;compile&quot; description=&quot;Required to compile application&quot;/&gt;\n    &lt;conf name=&quot;sources&quot; description=&quot;Source jars&quot;/&gt;\n    &lt;conf name=&quot;javadoc&quot; description=&quot;Javadoc jars&quot;/&gt;\n    &lt;conf name=&quot;runtime&quot; description=&quot;Additional run-time dependencies&quot; extends=&quot;compile&quot;/&gt;\n    &lt;conf name=&quot;test&quot;    description=&quot;Required for test only&quot; extends=&quot;runtime&quot;/&gt;\n&lt;/configurations&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency org=&quot;commons-collections&quot; name=&quot;commons-collections&quot; rev=&quot;[3.2,3.2.+]&quot;/&gt;\n    &lt;dependency org=&quot;commons-beanutils&quot; name=&quot;commons-beanutils&quot; rev=&quot;1.9.+&quot;/&gt;      \n&lt;/dependencies&gt;\n</code></pre>\n\n<p>Here is our ant code for retreiving dependencies:</p>\n<p>&lt;ivy:retrieve file=&quot;dependencyFile.xml&quot; type=&quot;bundle, jar&quot; sync=&quot;true&quot;/&gt;</p>\n<p>We would simply like to add some ANT code that will list any vulnerabilities in the dependency.xml file?</p>\n"},{"tags":["java","sql"],"comments":[{"owner":{"account_id":59933,"reputation":6258,"user_id":179189,"accept_rate":100,"display_name":"Murali VP"},"score":0,"creation_date":1391650944,"post_id":21592224,"comment_id":32620460,"body_markdown":"Possible duplicate of http://stackoverflow.com/questions/21118698/retrieve-resultset-using-callablestatement-after-executebatch","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/21118698/retrieve-resultset-using-callablestatement-after-executebatch\" title=\"retrieve resultset using callablestatement after executebatch\">stackoverflow.com/questions/21118698/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":2504516,"reputation":1643,"user_id":2178635,"accept_rate":86,"display_name":"CHEBURASHKA"},"score":0,"creation_date":1391651438,"post_id":21592458,"comment_id":32620590,"body_markdown":"Thank you. +1 so what should i do then to get the ResultSet from the query that contains multiple statements ?","body":"Thank you. +1 so what should i do then to get the ResultSet from the query that contains multiple statements ?"}],"tags":[],"owner":{"account_id":17795,"reputation":24571,"user_id":40214,"accept_rate":79,"display_name":"Dennis C"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1391651338,"creation_date":1391651338,"answer_id":21592458,"question_id":21592224,"body_markdown":"In short, you should not. Plain multiple execute() should be used.\r\n\r\nAs as according to the [javadoc of `executeBatch()`][1], it should not support getResultSet()/getMoreResults() API.\r\n\r\nAlso, in [JDBC™ 4.0 Specification][2] #14.1.2\r\n\r\n&gt; Only DDL and DML commands that return a simple update count may be\r\n&gt; executed as part of a batch. The method executeBatch throws a\r\n&gt; BatchUpdateException if any of the commands in the batch fail to\r\n&gt; execute properly or if a command attempts to return a result set.\r\n\r\nBut some JDBC drivers might do support, try at your own risk.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/sql/Statement.html#executeBatch%28%29\r\n  [2]: http://download.oracle.com/otndocs/jcp/jdbc-4.0-fr-eval-oth-JSpec/","title":"How to get ResultSet from executeBatch?","body":"<p>In short, you should not. Plain multiple execute() should be used.</p>\n\n<p>As as according to the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/sql/Statement.html#executeBatch%28%29\" rel=\"noreferrer\">javadoc of <code>executeBatch()</code></a>, it should not support getResultSet()/getMoreResults() API.</p>\n\n<p>Also, in <a href=\"http://download.oracle.com/otndocs/jcp/jdbc-4.0-fr-eval-oth-JSpec/\" rel=\"noreferrer\">JDBC™ 4.0 Specification</a> #14.1.2</p>\n\n<blockquote>\n  <p>Only DDL and DML commands that return a simple update count may be\n  executed as part of a batch. The method executeBatch throws a\n  BatchUpdateException if any of the commands in the batch fail to\n  execute properly or if a command attempts to return a result set.</p>\n</blockquote>\n\n<p>But some JDBC drivers might do support, try at your own risk.</p>\n"},{"tags":[],"owner":{"account_id":13577648,"reputation":1,"user_id":9794575,"display_name":"user9794575"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1526392031,"creation_date":1526392031,"answer_id":50351924,"question_id":21592224,"body_markdown":"I can think of 2 options from the top of my head.\r\n\r\n1) As the other guy said...\r\n&quot;Plain multiple execute() should be used&quot;\r\nthis way you can get the result set.\r\n\r\n2) you can query after you execute your batch and get its info from the db.","title":"How to get ResultSet from executeBatch?","body":"<p>I can think of 2 options from the top of my head.</p>\n\n<p>1) As the other guy said...\n\"Plain multiple execute() should be used\"\nthis way you can get the result set.</p>\n\n<p>2) you can query after you execute your batch and get its info from the db.</p>\n"},{"tags":[],"owner":{"account_id":27736430,"reputation":1,"user_id":21173920,"display_name":"sisi_the_se"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675870798,"creation_date":1675870798,"answer_id":75388178,"question_id":21592224,"body_markdown":"According to the Java 7 API, the &#39;executeBatch&quot; function doesn&#39;t return an object of ResultSet, but an array of integers. You can process the values based on the API to see which commands in the batch were successful. ","title":"How to get ResultSet from executeBatch?","body":"<p>According to the Java 7 API, the 'executeBatch&quot; function doesn't return an object of ResultSet, but an array of integers. You can process the values based on the API to see which commands in the batch were successful.</p>\n"}],"owner":{"account_id":2504516,"reputation":1643,"user_id":2178635,"accept_rate":86,"display_name":"CHEBURASHKA"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8319,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":3,"score":7,"last_activity_date":1675870798,"creation_date":1391649894,"question_id":21592224,"body_markdown":"I need to get the result set from an executed batch : \r\n\r\n  \r\n\r\n        String [] queries = {&quot;create volatile table testTable as (select * from orders) with data;&quot;, \r\n                             &quot;select top 10 * from testTable;&quot; , \r\n                             &quot;drop table testTable&quot; };\r\n         for (String query : queries) {\r\n            statement.addBatch(query);\r\n        }\r\n        statement.executeBatch();\r\n\r\nOnes i execute batch how can i get the result set from the select query ?\r\n\r\n  [1]: http://viralpatel.net/blogs/batch-insert-in-java-jdbc/\r\n","title":"How to get ResultSet from executeBatch?","body":"<p>I need to get the result set from an executed batch : </p>\n\n<pre><code>    String [] queries = {\"create volatile table testTable as (select * from orders) with data;\", \n                         \"select top 10 * from testTable;\" , \n                         \"drop table testTable\" };\n     for (String query : queries) {\n        statement.addBatch(query);\n    }\n    statement.executeBatch();\n</code></pre>\n\n<p>Ones i execute batch how can i get the result set from the select query ?</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":1,"creation_date":1675870818,"post_id":75388154,"comment_id":133021706,"body_markdown":"`if (value &gt; 0)`?","body":"<code>if (value &gt; 0)</code>?"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1675871366,"post_id":75388154,"comment_id":133021909,"body_markdown":"Have you tried Frank&#39;s suggestion? Besides that, please edit your question and add your database structure as a JSON file. You can simply get it by clicking the Export JSON in the overflow menu (⠇) in your [Firebase Console](https://console.firebase.google.com/u/0/project/_/database/data).","body":"Have you tried Frank&#39;s suggestion? Besides that, please edit your question and add your database structure as a JSON file. You can simply get it by clicking the Export JSON in the overflow menu (⠇) in your <a href=\"https://console.firebase.google.com/u/0/project/_/database/data\" rel=\"nofollow noreferrer\">Firebase Console</a>."},{"owner":{"account_id":8037993,"reputation":202,"user_id":6060543,"accept_rate":73,"display_name":"Mark Harrop"},"score":0,"creation_date":1675878574,"post_id":75388154,"comment_id":133024580,"body_markdown":"Thanks guys will try this later n get back to you.  If it doesn&#39;t work I&#39;ll edit my question to add JSON :)","body":"Thanks guys will try this later n get back to you.  If it doesn&#39;t work I&#39;ll edit my question to add JSON :)"},{"owner":{"account_id":8037993,"reputation":202,"user_id":6060543,"accept_rate":73,"display_name":"Mark Harrop"},"score":0,"creation_date":1675935259,"post_id":75388154,"comment_id":133035927,"body_markdown":"just thought id let you know that works brilliantly thanks :)","body":"just thought id let you know that works brilliantly thanks :)"}],"owner":{"account_id":8037993,"reputation":202,"user_id":6060543,"accept_rate":73,"display_name":"Mark Harrop"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675870688,"creation_date":1675870688,"question_id":75388154,"body_markdown":"ive been using this counting method in firebase that counts up likes.\r\n\r\n      ref.child(&quot;downloads&quot;).runTransaction(new Transaction.Handler() {\r\n            @Override\r\n            public Transaction.Result doTransaction(MutableData mutableData) {\r\n                if (mutableData.getValue() != null) {\r\n                    int value = mutableData.getValue(Integer.class);\r\n                    if (increment) {\r\n                        value++;\r\n                    } else {\r\n                        value--;\r\n                    }\r\n                    mutableData.setValue(value);\r\n                }\r\n                return Transaction.success(mutableData);\r\n            } \r\n\r\ni have a variable in my database called downloads which is automatically set to 0 when user signs up. then when a user clicks a button they get rewarded 5 downloads for watching a short reward advert.. how can i edit this code to instead of counting up it counts down from 5 - 0 then stops?","title":"how to stop a firebase counter at 0","body":"<p>ive been using this counting method in firebase that counts up likes.</p>\n<pre><code>  ref.child(&quot;downloads&quot;).runTransaction(new Transaction.Handler() {\n        @Override\n        public Transaction.Result doTransaction(MutableData mutableData) {\n            if (mutableData.getValue() != null) {\n                int value = mutableData.getValue(Integer.class);\n                if (increment) {\n                    value++;\n                } else {\n                    value--;\n                }\n                mutableData.setValue(value);\n            }\n            return Transaction.success(mutableData);\n        } \n</code></pre>\n<p>i have a variable in my database called downloads which is automatically set to 0 when user signs up. then when a user clicks a button they get rewarded 5 downloads for watching a short reward advert.. how can i edit this code to instead of counting up it counts down from 5 - 0 then stops?</p>\n"},{"tags":["java","docker","logback","concurrentmodification","spring-logback"],"owner":{"account_id":52758,"reputation":2704,"user_id":157704,"accept_rate":62,"display_name":"Amol Aggarwal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":560,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675870443,"creation_date":1675868292,"question_id":75387603,"body_markdown":"My application is throwing ConcurrentModificationException when it is trying to exit the program.It is using a standard Logback configuration. This works fine when running as a standalone java application but throws the exception when trying to run inside a docker container. The stack trace is as below:\r\n\r\n    Exception in thread &quot;Logback shutdown hook [default]&quot; java.util.ConcurrentModificationException\r\n    \tat java.base/java.util.ArrayList$Itr.checkForComodification(ArrayList.java:1043)\r\n    \tat java.base/java.util.ArrayList$Itr.next(ArrayList.java:997)\r\n    \tat ch.qos.logback.classic.LoggerContext.fireOnReset(LoggerContext.java:323)\r\n    \tat ch.qos.logback.classic.LoggerContext.reset(LoggerContext.java:226)\r\n    \tat ch.qos.logback.classic.LoggerContext.stop(LoggerContext.java:348)\r\n    \tat ch.qos.logback.core.hook.ShutdownHookBase.stop(ShutdownHookBase.java:39)\r\n    \tat ch.qos.logback.core.hook.DelayingShutdownHook.run(DelayingShutdownHook.java:57)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:834)\r\n\r\nI am using a standard Logback configuration file through logback-spring.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;configuration&gt;\r\n        &lt;!--See https://docs.spring.io/spring-boot/docs/current/reference/html/howto-logging.html --&gt;\r\n        &lt;shutdownHook\r\n                class=&quot;ch.qos.logback.core.hook.DelayingShutdownHook&quot;/&gt;\r\n        &lt;include resource=&quot;org/springframework/boot/logging/logback/defaults.xml&quot;/&gt;\r\n        &lt;appender name=&quot;CONSOLE_JSON&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n            &lt;encoder class=&quot;ch.qos.logback.core.encoder.LayoutWrappingEncoder&quot;&gt;\r\n                &lt;layout class=&quot;ch.qos.logback.contrib.json.classic.JsonLayout&quot;&gt;\r\n                    &lt;jsonFormatter class=&quot;ch.qos.logback.contrib.jackson.JacksonJsonFormatter&quot;&gt;\r\n                        &lt;!-- &lt;prettyPrint&gt;true&lt;/prettyPrint&gt; --&gt;\r\n                    &lt;/jsonFormatter&gt;\r\n                    &lt;timestampFormat&gt;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSXXX&lt;/timestampFormat&gt;\r\n                    &lt;includeContextName&gt;false&lt;/includeContextName&gt;\r\n                    &lt;appendLineSeparator&gt;true&lt;/appendLineSeparator&gt;\r\n                &lt;/layout&gt;\r\n                &lt;charset&gt;UTF-8&lt;/charset&gt;\r\n            &lt;/encoder&gt;\r\n        &lt;/appender&gt;\r\n        &lt;appender name=&quot;ASYNCSTDOUT&quot; class=&quot;ch.qos.logback.classic.AsyncAppender&quot;&gt;\r\n            &lt;queueSize&gt;5000&lt;/queueSize&gt; &lt;!-- Default is 256 --&gt;\r\n            &lt;discardingThreshold&gt;0&lt;/discardingThreshold&gt; &lt;!-- Instruction to drop events\r\n                once the buffer reaches the max capacity. Default value is 20%.\r\n                20 means drop lower event when has 20% capacity remaining --&gt;\r\n            &lt;neverBlock&gt;true&lt;/neverBlock&gt;&lt;!-- default false. Setting it to true to\r\n    \t\t\tcause the Appender not block the application and just drop the messages --&gt;\r\n            &lt;maxFlushTime&gt;5000&lt;/maxFlushTime&gt; &lt;!-- The default maximum queue flush time allowed during appender stop. If\r\n    \t\t\tthe worker takes longer than this time it will exit, discarding any remaining\r\n    \t\t\tcartItems in the queue --&gt;\r\n            &lt;appender-ref ref=&quot;CONSOLE_JSON&quot;/&gt;\r\n        &lt;/appender&gt;\r\n    \r\n        &lt;logger name=&quot;org.springframework.web&quot; level=&quot;INFO&quot;/&gt;\r\n    \r\n        &lt;root level=&quot;INFO&quot;&gt;\r\n            &lt;appender-ref ref=&quot;ASYNCSTDOUT&quot;/&gt;\r\n        &lt;/root&gt;\r\n    \r\n    &lt;/configuration&gt;\r\n\r\nThe artifacts I am using in my pom are as below:\r\n \r\n\r\n     &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;2.5.8&lt;/version&gt;\r\n            &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n        &lt;/parent&gt;\r\n    \r\n    \r\n        &lt;dependencies&gt;\r\n          \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\r\n                &lt;version&gt;2.5.8&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n         \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n                &lt;artifactId&gt;logback-core&lt;/artifactId&gt;\r\n                &lt;version&gt;1.2.3&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n                &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n                &lt;version&gt;1.2.3&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n                &lt;artifactId&gt;logback-access&lt;/artifactId&gt;\r\n                &lt;version&gt;1.2.3&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-cloud-starter-sleuth&lt;/artifactId&gt;\r\n                &lt;version&gt;2.1.0.RELEASE&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\r\n                &lt;version&gt;5.3.14&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n           \r\n        \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;net.logstash.logback&lt;/groupId&gt;\r\n                &lt;artifactId&gt;logstash-logback-encoder&lt;/artifactId&gt;\r\n                &lt;version&gt;6.6&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;ch.qos.logback.contrib&lt;/groupId&gt;\r\n                &lt;artifactId&gt;logback-jackson&lt;/artifactId&gt;\r\n                &lt;version&gt;0.1.5&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n                &lt;groupId&gt;ch.qos.logback.contrib&lt;/groupId&gt;\r\n                &lt;artifactId&gt;logback-json-classic&lt;/artifactId&gt;\r\n                &lt;version&gt;0.1.5&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            \r\n        &lt;/dependencies&gt;","title":"Logback throwing ConcurrentModificationException on exiting program inside docker container","body":"<p>My application is throwing ConcurrentModificationException when it is trying to exit the program.It is using a standard Logback configuration. This works fine when running as a standalone java application but throws the exception when trying to run inside a docker container. The stack trace is as below:</p>\n<pre><code>Exception in thread &quot;Logback shutdown hook [default]&quot; java.util.ConcurrentModificationException\n    at java.base/java.util.ArrayList$Itr.checkForComodification(ArrayList.java:1043)\n    at java.base/java.util.ArrayList$Itr.next(ArrayList.java:997)\n    at ch.qos.logback.classic.LoggerContext.fireOnReset(LoggerContext.java:323)\n    at ch.qos.logback.classic.LoggerContext.reset(LoggerContext.java:226)\n    at ch.qos.logback.classic.LoggerContext.stop(LoggerContext.java:348)\n    at ch.qos.logback.core.hook.ShutdownHookBase.stop(ShutdownHookBase.java:39)\n    at ch.qos.logback.core.hook.DelayingShutdownHook.run(DelayingShutdownHook.java:57)\n    at java.base/java.lang.Thread.run(Thread.java:834)\n</code></pre>\n<p>I am using a standard Logback configuration file through logback-spring.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;configuration&gt;\n    &lt;!--See https://docs.spring.io/spring-boot/docs/current/reference/html/howto-logging.html --&gt;\n    &lt;shutdownHook\n            class=&quot;ch.qos.logback.core.hook.DelayingShutdownHook&quot;/&gt;\n    &lt;include resource=&quot;org/springframework/boot/logging/logback/defaults.xml&quot;/&gt;\n    &lt;appender name=&quot;CONSOLE_JSON&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n        &lt;encoder class=&quot;ch.qos.logback.core.encoder.LayoutWrappingEncoder&quot;&gt;\n            &lt;layout class=&quot;ch.qos.logback.contrib.json.classic.JsonLayout&quot;&gt;\n                &lt;jsonFormatter class=&quot;ch.qos.logback.contrib.jackson.JacksonJsonFormatter&quot;&gt;\n                    &lt;!-- &lt;prettyPrint&gt;true&lt;/prettyPrint&gt; --&gt;\n                &lt;/jsonFormatter&gt;\n                &lt;timestampFormat&gt;yyyy-MM-dd'T'HH:mm:ss.SSSXXX&lt;/timestampFormat&gt;\n                &lt;includeContextName&gt;false&lt;/includeContextName&gt;\n                &lt;appendLineSeparator&gt;true&lt;/appendLineSeparator&gt;\n            &lt;/layout&gt;\n            &lt;charset&gt;UTF-8&lt;/charset&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n    &lt;appender name=&quot;ASYNCSTDOUT&quot; class=&quot;ch.qos.logback.classic.AsyncAppender&quot;&gt;\n        &lt;queueSize&gt;5000&lt;/queueSize&gt; &lt;!-- Default is 256 --&gt;\n        &lt;discardingThreshold&gt;0&lt;/discardingThreshold&gt; &lt;!-- Instruction to drop events\n            once the buffer reaches the max capacity. Default value is 20%.\n            20 means drop lower event when has 20% capacity remaining --&gt;\n        &lt;neverBlock&gt;true&lt;/neverBlock&gt;&lt;!-- default false. Setting it to true to\n            cause the Appender not block the application and just drop the messages --&gt;\n        &lt;maxFlushTime&gt;5000&lt;/maxFlushTime&gt; &lt;!-- The default maximum queue flush time allowed during appender stop. If\n            the worker takes longer than this time it will exit, discarding any remaining\n            cartItems in the queue --&gt;\n        &lt;appender-ref ref=&quot;CONSOLE_JSON&quot;/&gt;\n    &lt;/appender&gt;\n\n    &lt;logger name=&quot;org.springframework.web&quot; level=&quot;INFO&quot;/&gt;\n\n    &lt;root level=&quot;INFO&quot;&gt;\n        &lt;appender-ref ref=&quot;ASYNCSTDOUT&quot;/&gt;\n    &lt;/root&gt;\n\n&lt;/configuration&gt;\n</code></pre>\n<p>The artifacts I am using in my pom are as below:</p>\n<pre><code> &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.5.8&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n\n    &lt;dependencies&gt;\n      \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\n            &lt;version&gt;2.5.8&lt;/version&gt;\n        &lt;/dependency&gt;\n     \n        &lt;dependency&gt;\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n            &lt;artifactId&gt;logback-core&lt;/artifactId&gt;\n            &lt;version&gt;1.2.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n            &lt;version&gt;1.2.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n            &lt;artifactId&gt;logback-access&lt;/artifactId&gt;\n            &lt;version&gt;1.2.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-sleuth&lt;/artifactId&gt;\n            &lt;version&gt;2.1.0.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\n            &lt;version&gt;5.3.14&lt;/version&gt;\n        &lt;/dependency&gt;\n       \n    \n        &lt;dependency&gt;\n            &lt;groupId&gt;net.logstash.logback&lt;/groupId&gt;\n            &lt;artifactId&gt;logstash-logback-encoder&lt;/artifactId&gt;\n            &lt;version&gt;6.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;ch.qos.logback.contrib&lt;/groupId&gt;\n            &lt;artifactId&gt;logback-jackson&lt;/artifactId&gt;\n            &lt;version&gt;0.1.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;ch.qos.logback.contrib&lt;/groupId&gt;\n            &lt;artifactId&gt;logback-json-classic&lt;/artifactId&gt;\n            &lt;version&gt;0.1.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n    &lt;/dependencies&gt;\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":7018296,"reputation":7298,"user_id":5378766,"accept_rate":84,"display_name":"hotzst"},"score":0,"creation_date":1444463753,"post_id":33051654,"comment_id":53923854,"body_markdown":"Have a look at this question, it is basically the same thing: http://stackoverflow.com/questions/421280/how-do-i-find-the-caller-of-a-method-using-stacktrace-or-reflection. I was also thinking about Aspect oriented programming, but I do not believe it can be done that way.","body":"Have a look at this question, it is basically the same thing: <a href=\"http://stackoverflow.com/questions/421280/how-do-i-find-the-caller-of-a-method-using-stacktrace-or-reflection\" title=\"how do i find the caller of a method using stacktrace or reflection\">stackoverflow.com/questions/421280/&hellip;</a>. I was also thinking about Aspect oriented programming, but I do not believe it can be done that way."},{"owner":{"account_id":1820811,"reputation":6166,"user_id":1654930,"accept_rate":71,"display_name":"Phate"},"score":0,"creation_date":1444464354,"post_id":33051654,"comment_id":53924033,"body_markdown":"I&#39;m afraid it&#39;s not..that&#39;s just the case in which the JVM implementation is not required to provide you the stack trace so that way is not reliable. My question is: what about inside exceptions?In this case I would expect to always have a stack trace so what I&#39;m asking is if in this case my way of getting the caller is reliable.","body":"I&#39;m afraid it&#39;s not..that&#39;s just the case in which the JVM implementation is not required to provide you the stack trace so that way is not reliable. My question is: what about inside exceptions?In this case I would expect to always have a stack trace so what I&#39;m asking is if in this case my way of getting the caller is reliable."},{"owner":{"account_id":1820811,"reputation":6166,"user_id":1654930,"accept_rate":71,"display_name":"Phate"},"score":0,"creation_date":1444464482,"post_id":33051654,"comment_id":53924055,"body_markdown":"Also, in my case, the caller&#39;s method name is in the FIRST element of the stack trace, not the last.","body":"Also, in my case, the caller&#39;s method name is in the FIRST element of the stack trace, not the last."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1444467645,"post_id":33051654,"comment_id":53924824,"body_markdown":"Every Java logging framework I have ever used in 18 years already logs the calling method name. What exactly is the question here?","body":"Every Java logging framework I have ever used in 18 years already logs the calling method name. What exactly is the question here?"},{"owner":{"account_id":2515499,"reputation":16966,"user_id":2187042,"accept_rate":53,"display_name":"Richard Tingle"},"score":1,"creation_date":1444468797,"post_id":33051654,"comment_id":53925107,"body_markdown":"To go slightly off topic; why are you logging like that? Throwing away all of the stack trace but the final method is going to shoot you in the foot very quickly","body":"To go slightly off topic; why are you logging like that? Throwing away all of the stack trace but the final method is going to shoot you in the foot very quickly"}],"answers":[{"tags":[],"owner":{"account_id":13512904,"reputation":98,"user_id":9748566,"display_name":"PhilKes"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675870289,"creation_date":1675870289,"answer_id":75388080,"question_id":33051654,"body_markdown":"For anyone coming upon this post just now, I developed a maven plugin to address this issue:\r\n\r\n[PhilKes/slf4j-caller-info-maven-plugin][1]\r\n\r\n\r\n  [1]: https://github.com/PhilKes/slf4j-caller-info-maven-plugin\r\n\r\nIf you use SLF4J as your `log` and add the plugin as described in the README with the `injection=%method` you can simply write:\r\n```java\r\nlog.error(&quot;failed!&quot;);\r\n```\r\nand it will output:\r\n```\r\n[...] myMethod failed!\r\n```\r\n","title":"Is an Exception&#39;s stack trace reliable to get calling method name?","body":"<p>For anyone coming upon this post just now, I developed a maven plugin to address this issue:</p>\n<p><a href=\"https://github.com/PhilKes/slf4j-caller-info-maven-plugin\" rel=\"nofollow noreferrer\">PhilKes/slf4j-caller-info-maven-plugin</a></p>\n<p>If you use SLF4J as your <code>log</code> and add the plugin as described in the README with the <code>injection=%method</code> you can simply write:</p>\n<pre class=\"lang-java prettyprint-override\"><code>log.error(&quot;failed!&quot;);\n</code></pre>\n<p>and it will output:</p>\n<pre><code>[...] myMethod failed!\n</code></pre>\n"}],"owner":{"account_id":1820811,"reputation":6166,"user_id":1654930,"accept_rate":71,"display_name":"Phate"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675870289,"creation_date":1444463432,"question_id":33051654,"body_markdown":"I know that stacktraces can be used to retrieve current executing method with something like this:\r\n\r\n    Thread.currentThread().getStackTrace()[what you want]\r\n\r\nHowever not every JVM provides this stack trace so this way of getting a method&#39;s name is pretty much unreliable.\r\nAnyway...what about exceptions? My need is to log the caller method name and, in order to provide some code maintenance, I&#39;d like to avoid to just write that name down like this:\r\n\r\n    public void myMethod(){\r\n      ...\r\n    \r\n    }catch(anException ex){\r\n          log.error(&quot;myMethod failed!&quot;);\r\n    }\r\n\r\nBut rather something like:\r\n\r\n    }catch(anException ex){\r\n          log.error(&quot;{} failed!&quot;, ex.getStackTrace()[0].getMethodName()); //0 should be my method, the caller\r\n    }\r\n\r\n Is this reliable? I think that, at least for exceptions, JVM should be expected to provide said stack trace...","title":"Is an Exception&#39;s stack trace reliable to get calling method name?","body":"<p>I know that stacktraces can be used to retrieve current executing method with something like this:</p>\n\n<pre><code>Thread.currentThread().getStackTrace()[what you want]\n</code></pre>\n\n<p>However not every JVM provides this stack trace so this way of getting a method's name is pretty much unreliable.\nAnyway...what about exceptions? My need is to log the caller method name and, in order to provide some code maintenance, I'd like to avoid to just write that name down like this:</p>\n\n<pre><code>public void myMethod(){\n  ...\n\n}catch(anException ex){\n      log.error(\"myMethod failed!\");\n}\n</code></pre>\n\n<p>But rather something like:</p>\n\n<pre><code>}catch(anException ex){\n      log.error(\"{} failed!\", ex.getStackTrace()[0].getMethodName()); //0 should be my method, the caller\n}\n</code></pre>\n\n<p>Is this reliable? I think that, at least for exceptions, JVM should be expected to provide said stack trace...</p>\n"},{"tags":["java","android","kotlin"],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675870074,"creation_date":1675870074,"answer_id":75388028,"question_id":75386907,"body_markdown":"&gt; Is that expected behavior?\r\n\r\nIt will vary by home screen implementation and user settings (e.g., font scale), among possibly other criteria.\r\n\r\n&gt; If so, then why does documentation says limit of &quot;long description&quot; to 25 characters.???\r\n\r\nIt is merely a guideline.","title":"Android App long Shortcut label Character start ellipsis after 15 or 16 characters?","body":"<blockquote>\n<p>Is that expected behavior?</p>\n</blockquote>\n<p>It will vary by home screen implementation and user settings (e.g., font scale), among possibly other criteria.</p>\n<blockquote>\n<p>If so, then why does documentation says limit of &quot;long description&quot; to 25 characters.???</p>\n</blockquote>\n<p>It is merely a guideline.</p>\n"}],"owner":{"account_id":3140769,"reputation":14861,"user_id":2656275,"accept_rate":87,"display_name":"Hussain Shabbir"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75388028,"answer_count":1,"score":1,"last_activity_date":1675870074,"creation_date":1675865012,"question_id":75386907,"body_markdown":"As per [the Google documentation][1] related to App shortcut:\r\n\r\n&gt; Space is limited within the menu that shows your app&#39;s shortcuts in the launcher. When possible, limit the length of the &quot;short description&quot; of a shortcut to 10 characters, and limit the length of the &quot;long description&quot; to 25 characters.\r\n\r\nSo If I set long Label text as **Wi-Fi Signal Strength** in Google Pixel 5a device, App shortcut label start ellipses after 15 characters, Is that expected behavior? If so, then why does documentation says limit of &quot;long description&quot; to 25 characters.???\r\n\r\nOr \r\n\r\nIs there any way to display complete long label ie. **Wi-Fi Signal Strength** without any ellipses??\r\n\r\nfor eg:-\r\n\r\n        ShortcutInfo shortcut = new ShortcutInfo.Builder(this, value)\r\n                                .setShortLabel(shortLabel)\r\n    //limit of longLabel is 20 characters which is lesser than 25 then also it start ellipses after 15 characters.\r\n                                .setLongLabel(longLabel) \r\n                                .setIcon(shortIcon)\r\n                                .setIntent(intentShortcut)\r\n                                .build();\r\n\r\n\r\n  [1]: https://developer.android.com/develop/ui/views/launch/shortcuts/best-practices","title":"Android App long Shortcut label Character start ellipsis after 15 or 16 characters?","body":"<p>As per <a href=\"https://developer.android.com/develop/ui/views/launch/shortcuts/best-practices\" rel=\"nofollow noreferrer\">the Google documentation</a> related to App shortcut:</p>\n<blockquote>\n<p>Space is limited within the menu that shows your app's shortcuts in the launcher. When possible, limit the length of the &quot;short description&quot; of a shortcut to 10 characters, and limit the length of the &quot;long description&quot; to 25 characters.</p>\n</blockquote>\n<p>So If I set long Label text as <strong>Wi-Fi Signal Strength</strong> in Google Pixel 5a device, App shortcut label start ellipses after 15 characters, Is that expected behavior? If so, then why does documentation says limit of &quot;long description&quot; to 25 characters.???</p>\n<p>Or</p>\n<p>Is there any way to display complete long label ie. <strong>Wi-Fi Signal Strength</strong> without any ellipses??</p>\n<p>for eg:-</p>\n<pre><code>    ShortcutInfo shortcut = new ShortcutInfo.Builder(this, value)\n                            .setShortLabel(shortLabel)\n//limit of longLabel is 20 characters which is lesser than 25 then also it start ellipses after 15 characters.\n                            .setLongLabel(longLabel) \n                            .setIcon(shortIcon)\n                            .setIntent(intentShortcut)\n                            .build();\n</code></pre>\n"},{"tags":["java","inner-classes","scoping"],"comments":[{"owner":{"account_id":16657935,"reputation":834,"user_id":13927534,"display_name":"Miss Skooter"},"score":1,"creation_date":1675850407,"post_id":75383985,"comment_id":133014966,"body_markdown":"does this answer your question? https://stackoverflow.com/questions/1801718/why-can-outer-java-classes-access-inner-class-private-members","body":"does this answer your question? <a href=\"https://stackoverflow.com/questions/1801718/why-can-outer-java-classes-access-inner-class-private-members\" title=\"why can outer java classes access inner class private members\">stackoverflow.com/questions/1801718/&hellip;</a>"},{"owner":{"account_id":188003,"reputation":1064,"user_id":426463,"display_name":"trappski"},"score":1,"creation_date":1675850438,"post_id":75383985,"comment_id":133014979,"body_markdown":"This possibly helps: https://stackoverflow.com/a/33171163/426463","body":"This possibly helps: <a href=\"https://stackoverflow.com/a/33171163/426463\">stackoverflow.com/a/33171163/426463</a>"},{"owner":{"account_id":9293440,"reputation":1727,"user_id":6901184,"display_name":"Mart&#237;n Zaragoza"},"score":0,"creation_date":1675850470,"post_id":75383985,"comment_id":133014988,"body_markdown":"The InnerClass you declared is effectively an inner class (without static qualifier) ; check this: https://stackoverflow.com/questions/1353309/java-static-vs-inner-class","body":"The InnerClass you declared is effectively an inner class (without static qualifier) ; check this: <a href=\"https://stackoverflow.com/questions/1353309/java-static-vs-inner-class\" title=\"java static vs inner class\">stackoverflow.com/questions/1353309/java-static-vs-inner-cla&zwnj;&#8203;ss</a>"},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1675850470,"post_id":75383985,"comment_id":133014989,"body_markdown":"&quot;..but am just lost in what scoping I should be using in my Inner classes&quot; &lt;- I don&#39;t know anything about your code or project at all, but I would recommend rethinking whether inner classes are needed at all. Maybe it&#39;s just the field I&#39;m working in but I can count the number of times on one hand when I really needed to use inner classes that are neither anonymous nor static.  Like in the example above you have given I don&#39;t see a really good reason why InnerClass should be an actual inner class.","body":"&quot;..but am just lost in what scoping I should be using in my Inner classes&quot; &lt;- I don&#39;t know anything about your code or project at all, but I would recommend rethinking whether inner classes are needed at all. Maybe it&#39;s just the field I&#39;m working in but I can count the number of times on one hand when I really needed to use inner classes that are neither anonymous nor static.  Like in the example above you have given I don&#39;t see a really good reason why InnerClass should be an actual inner class."},{"owner":{"account_id":16657935,"reputation":834,"user_id":13927534,"display_name":"Miss Skooter"},"score":0,"creation_date":1675850736,"post_id":75383985,"comment_id":133015081,"body_markdown":"I also don&#39;t particularly understand what the purpose of your expected functionality is. Realistically, limiting variable and method scope is to prevent outside access to things that you don&#39;t want to be messed with. I can&#39;t imagine a use case where that would be necessary for an inner class. So the scope being &quot;public&quot; within the outer class makes sense in my head.","body":"I also don&#39;t particularly understand what the purpose of your expected functionality is. Realistically, limiting variable and method scope is to prevent outside access to things that you don&#39;t want to be messed with. I can&#39;t imagine a use case where that would be necessary for an inner class. So the scope being &quot;public&quot; within the outer class makes sense in my head."},{"owner":{"account_id":13485616,"reputation":469,"user_id":9729513,"display_name":"Pat"},"score":0,"creation_date":1675930191,"post_id":75383985,"comment_id":133034412,"body_markdown":"@OHGODSPIDERS my initial post only included a snipped for demonstration, of course in only that, it didn&#39;t make sense to use an Inner class! My question was regarding scoping behavior. Not &quot;should I be using an inner class&quot; .... Anyhow, I&#39;ve updated the post to include a more detailed use case.","body":"@OHGODSPIDERS my initial post only included a snipped for demonstration, of course in only that, it didn&#39;t make sense to use an Inner class! My question was regarding scoping behavior. Not &quot;should I be using an inner class&quot; .... Anyhow, I&#39;ve updated the post to include a more detailed use case."},{"owner":{"account_id":13485616,"reputation":469,"user_id":9729513,"display_name":"Pat"},"score":1,"creation_date":1675930639,"post_id":75383985,"comment_id":133034541,"body_markdown":"@MissSkooter From the other&#39;s shared link and some other readings, I understand now that any members / functions within an inner class will be accessible from anywhere within _the body part_ of the outer class...\n\nhttps://stackoverflow.com/questions/1801718/why-can-outer-java-classes-access-inner-class-private-members\n\nhttps://stackoverflow.com/questions/19747812/why-can-the-private-member-of-an-nested-class-be-accessed-by-the-methods-of-the?lq=1\n\nThx all for your comments.","body":"@MissSkooter From the other&#39;s shared link and some other readings, I understand now that any members / functions within an inner class will be accessible from anywhere within <i>the body part</i> of the outer class...  <a href=\"https://stackoverflow.com/questions/1801718/why-can-outer-java-classes-access-inner-class-private-members\" title=\"why can outer java classes access inner class private members\">stackoverflow.com/questions/1801718/&hellip;</a>  <a href=\"https://stackoverflow.com/questions/19747812/why-can-the-private-member-of-an-nested-class-be-accessed-by-the-methods-of-the?lq=1\" title=\"why can the private member of an nested class be accessed by the methods of the\">stackoverflow.com/questions/19747812/&hellip;</a>  Thx all for your comments."}],"answers":[{"tags":[],"owner":{"account_id":27733068,"reputation":1,"user_id":21171200,"display_name":"Maxwell"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1675850738,"creation_date":1675850738,"answer_id":75384159,"question_id":75383985,"body_markdown":"You must understand that the InnerClass and object properties are the same for the OuterClass","title":"Java inner class scoping","body":"<p>You must understand that the InnerClass and object properties are the same for the OuterClass</p>\n"}],"owner":{"account_id":13485616,"reputation":469,"user_id":9729513,"display_name":"Pat"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1675850482,"answer_count":1,"score":2,"last_activity_date":1675870004,"creation_date":1675849968,"question_id":75383985,"body_markdown":"I&#39;ve been trying to understand scoping in Java, more precisely, when it comes to having inner classes.\r\n\r\nI have the following snipped of code:\r\n\r\n```java\r\nimport javax.swing.*;\r\n\r\npublic class OuterClass {\r\n\r\n\t// Constructor\r\n\tpublic OuterClass() {\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tOuterClass app = new OuterClass();\r\n\t\tapp.doStuff();\r\n\t}\r\n\r\n\tprivate void doStuff(){\r\n\t\tSystem.out.print(&quot;\\033[H\\033[2J&quot;); // DEBUG clear out output\r\n\r\n\t\tInnerClass newNote = new InnerClass(&quot;images/01-SOL.png&quot;);\r\n\r\n\t\t// QUESTION: why are the following working and accessible??\r\n\t\tImageIcon myIcon = newNote.getIcon();\r\n\t\tSystem.out.println(myIcon.getImage());\r\n\t\tSystem.out.println(newNote.iconPath);\r\n\t}\r\n\r\n\t// define private inner class\r\n\tprivate class InnerClass {\r\n\t\tprivate String iconPath;\r\n\r\n\t\tprivate InnerClass(String iconPath){\r\n\t\t\tthis.iconPath = iconPath;\r\n\t\t}\r\n\t\tprivate ImageIcon getIcon(){\r\n\t\t\treturn new ImageIcon(this.iconPath);\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nI have an Outer class, and within it, an Inner class. As per my question in code, I do not understand WHY the private members of InnerClass (whether properties, or functions) are accessible from OUTSIDE the inner class, meaning in my example, in my outer class.\r\n\r\nI&#39;m writing another small swing app, almost done, but am just lost in what scoping I should be using in my Inner classes...\r\n\r\nI was expecting to have to\r\n\r\n1) set the inner class itself to private (thus only accessible to the outer class).\r\n2) set the inner class members to private (thus only the inner class itself could access them)\r\n3) set the inner class getter/setter functions to public, so that the outer class could access them ...\r\n\r\nDoesn&#39;t seem to work at all this. I&#39;m puzzled...\r\n\r\nCould anyone shed a light on this from my example?\r\n\r\nMuch much thanks!\r\n\r\n\r\n==========\r\n\r\nUPDATE:\r\n\r\nAnd so we&#39;re clear why an inner class... My project is a swing app that shows random music notes. Each note &quot;Note&quot; has a few properties (index, image file, icon, finally, it has an ArrayList of object of type from another inner class &quot;PositionCombi&quot;).\r\n\r\nThe NotePosition class has a positionNum, fingerNum, and stringNum..\r\n\r\nHere&#39;s the bulk of it:\r\n\r\n```java\r\npublic class OuterClass {\r\n\r\n   private String[] allNoteNames = [&quot;C&quot;,&quot;D&quot;,&quot;E&quot;,&quot;F&quot;,&quot;G&quot;,&quot;A&quot;,&quot;B&quot;];\r\n   private Note noteImages[];\r\n\r\n   public OuterClass {\r\n      initNotes();\r\n      doStuff();\r\n   }\r\n\r\n   private void initNotes(){\r\n      this.noteImages = new Note[19];\r\n\r\n      noteImages[0] = new Note(4, &quot;images/01-SOL.png&quot;);\r\n      noteImages[0].addPositionCombi(1, 0, 4);\r\n      noteImages[0].addPositionCombi(2, 3, 4);\r\n      noteImages[0].addPositionCombi(3, 2, 4);\r\n\r\n      //...etc.\r\n   }\r\n\r\n   private Note getShuffledNote(){\r\n      //... return a random note object from this.noteImages\r\n   }\r\n\r\n   private void doStuff() {\r\n      // get a suffled note:\r\n      Note workingNote = getShuffledNote();\r\n\r\n      lblNoteName.setText( this.allNoteNames[ workingNote.getIndex ] );\r\n      lblImage.setIcon( workingNote.getIcon() );\r\n      ArrayList&lt;Note.PositionCombi&gt; notePositions =  workingNote.getPositions()\r\n\r\n      //print positions for given note:\r\n      for (Note.PositionCombi notePosCombi : notePosCombinations) {\r\n         System.out.println( &quot;Position: &quot; + notePosCombi.getPositionNum() );\r\n         System.out.println( &quot;Finger: &quot; + notePosCombi.getFingerNum() );\r\n         System.out.println( &quot;String: &quot; + notePosCombi.getStringNum() );\r\n      }\r\n   }\r\n\r\n\r\n   /*** INNER CLASS DEFS ***********/\r\n   private class Note {  // inner Note class\r\n      private int noteIndex;\r\n      private String iconPath;\r\n      private ArrayList&lt;PositionCombi&gt; PositionCombis;\r\n\r\n      private Note(int noteIndex, String iconPath){\r\n         this.noteIndex = noteIndex;\r\n         this.iconPath = iconPath;\r\n         this.PositionCombis = new ArrayList&lt;PositionCombi&gt;();\r\n      }\r\n\r\n      private int getNoteIndex(){\r\n         return this.noteIndex;\r\n      }\r\n      private ImageIcon getIcon(){\r\n         return new ImageIcon(this.iconPath);\r\n      }\r\n\r\n      private ArrayList&lt;PositionCombi&gt; getPositionCombis(){\r\n         return this.PositionCombis;\r\n      }\r\n\r\n      private void addPositionCombi(int positionNum, int fingerNum, int stringNum){\r\n         this.PositionCombis.add(new PositionCombi(positionNum, fingerNum, stringNum));\r\n      }\r\n\r\n      private class PositionCombi { // inner-INNER PositionCombination class\r\n         private int positionNum;\r\n         private int fingerNum;\r\n         private int stringNum;\r\n\r\n         private PositionCombi(int positionNum, int fingerNum, int stringNum){\r\n            this.positionNum = positionNum;\r\n            this.fingerNum = fingerNum;\r\n            this.stringNum = stringNum;\r\n         }\r\n         private int getPositionNum(){\r\n            return this.positionNum;\r\n         }\r\n         private int getFingerNum(){\r\n            return this.fingerNum;\r\n         }\r\n         private int getStringNum(){\r\n            return this.stringNum;\r\n         }\r\n      }\r\n   }\r\n\r\n}\r\n```","title":"Java inner class scoping","body":"<p>I've been trying to understand scoping in Java, more precisely, when it comes to having inner classes.</p>\n<p>I have the following snipped of code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.swing.*;\n\npublic class OuterClass {\n\n    // Constructor\n    public OuterClass() {\n    }\n\n    public static void main(String[] args) {\n        OuterClass app = new OuterClass();\n        app.doStuff();\n    }\n\n    private void doStuff(){\n        System.out.print(&quot;\\033[H\\033[2J&quot;); // DEBUG clear out output\n\n        InnerClass newNote = new InnerClass(&quot;images/01-SOL.png&quot;);\n\n        // QUESTION: why are the following working and accessible??\n        ImageIcon myIcon = newNote.getIcon();\n        System.out.println(myIcon.getImage());\n        System.out.println(newNote.iconPath);\n    }\n\n    // define private inner class\n    private class InnerClass {\n        private String iconPath;\n\n        private InnerClass(String iconPath){\n            this.iconPath = iconPath;\n        }\n        private ImageIcon getIcon(){\n            return new ImageIcon(this.iconPath);\n        }\n    }\n}\n</code></pre>\n<p>I have an Outer class, and within it, an Inner class. As per my question in code, I do not understand WHY the private members of InnerClass (whether properties, or functions) are accessible from OUTSIDE the inner class, meaning in my example, in my outer class.</p>\n<p>I'm writing another small swing app, almost done, but am just lost in what scoping I should be using in my Inner classes...</p>\n<p>I was expecting to have to</p>\n<ol>\n<li>set the inner class itself to private (thus only accessible to the outer class).</li>\n<li>set the inner class members to private (thus only the inner class itself could access them)</li>\n<li>set the inner class getter/setter functions to public, so that the outer class could access them ...</li>\n</ol>\n<p>Doesn't seem to work at all this. I'm puzzled...</p>\n<p>Could anyone shed a light on this from my example?</p>\n<p>Much much thanks!</p>\n<p>==========</p>\n<p>UPDATE:</p>\n<p>And so we're clear why an inner class... My project is a swing app that shows random music notes. Each note &quot;Note&quot; has a few properties (index, image file, icon, finally, it has an ArrayList of object of type from another inner class &quot;PositionCombi&quot;).</p>\n<p>The NotePosition class has a positionNum, fingerNum, and stringNum..</p>\n<p>Here's the bulk of it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class OuterClass {\n\n   private String[] allNoteNames = [&quot;C&quot;,&quot;D&quot;,&quot;E&quot;,&quot;F&quot;,&quot;G&quot;,&quot;A&quot;,&quot;B&quot;];\n   private Note noteImages[];\n\n   public OuterClass {\n      initNotes();\n      doStuff();\n   }\n\n   private void initNotes(){\n      this.noteImages = new Note[19];\n\n      noteImages[0] = new Note(4, &quot;images/01-SOL.png&quot;);\n      noteImages[0].addPositionCombi(1, 0, 4);\n      noteImages[0].addPositionCombi(2, 3, 4);\n      noteImages[0].addPositionCombi(3, 2, 4);\n\n      //...etc.\n   }\n\n   private Note getShuffledNote(){\n      //... return a random note object from this.noteImages\n   }\n\n   private void doStuff() {\n      // get a suffled note:\n      Note workingNote = getShuffledNote();\n\n      lblNoteName.setText( this.allNoteNames[ workingNote.getIndex ] );\n      lblImage.setIcon( workingNote.getIcon() );\n      ArrayList&lt;Note.PositionCombi&gt; notePositions =  workingNote.getPositions()\n\n      //print positions for given note:\n      for (Note.PositionCombi notePosCombi : notePosCombinations) {\n         System.out.println( &quot;Position: &quot; + notePosCombi.getPositionNum() );\n         System.out.println( &quot;Finger: &quot; + notePosCombi.getFingerNum() );\n         System.out.println( &quot;String: &quot; + notePosCombi.getStringNum() );\n      }\n   }\n\n\n   /*** INNER CLASS DEFS ***********/\n   private class Note {  // inner Note class\n      private int noteIndex;\n      private String iconPath;\n      private ArrayList&lt;PositionCombi&gt; PositionCombis;\n\n      private Note(int noteIndex, String iconPath){\n         this.noteIndex = noteIndex;\n         this.iconPath = iconPath;\n         this.PositionCombis = new ArrayList&lt;PositionCombi&gt;();\n      }\n\n      private int getNoteIndex(){\n         return this.noteIndex;\n      }\n      private ImageIcon getIcon(){\n         return new ImageIcon(this.iconPath);\n      }\n\n      private ArrayList&lt;PositionCombi&gt; getPositionCombis(){\n         return this.PositionCombis;\n      }\n\n      private void addPositionCombi(int positionNum, int fingerNum, int stringNum){\n         this.PositionCombis.add(new PositionCombi(positionNum, fingerNum, stringNum));\n      }\n\n      private class PositionCombi { // inner-INNER PositionCombination class\n         private int positionNum;\n         private int fingerNum;\n         private int stringNum;\n\n         private PositionCombi(int positionNum, int fingerNum, int stringNum){\n            this.positionNum = positionNum;\n            this.fingerNum = fingerNum;\n            this.stringNum = stringNum;\n         }\n         private int getPositionNum(){\n            return this.positionNum;\n         }\n         private int getFingerNum(){\n            return this.fingerNum;\n         }\n         private int getStringNum(){\n            return this.stringNum;\n         }\n      }\n   }\n\n}\n</code></pre>\n"},{"tags":["java","eclipse"],"answers":[{"comments":[{"owner":{"account_id":2173532,"reputation":2636,"user_id":1924825,"accept_rate":55,"display_name":"Martin"},"score":0,"creation_date":1423653557,"post_id":28451394,"comment_id":45233080,"body_markdown":"Lemme guess, there is no way to auto-save files? You have no idea how many unit tests I&#39;ve spent more time on than I should because I forgot to save them.","body":"Lemme guess, there is no way to auto-save files? You have no idea how many unit tests I&#39;ve spent more time on than I should because I forgot to save them."},{"owner":{"account_id":1170837,"reputation":5416,"user_id":1148071,"display_name":"cello"},"score":1,"creation_date":1423655012,"post_id":28451394,"comment_id":45234015,"body_markdown":"have a look here: http://stackoverflow.com/questions/2943122/eclipse-auto-save-before-build","body":"have a look here: <a href=\"http://stackoverflow.com/questions/2943122/eclipse-auto-save-before-build\" title=\"eclipse auto save before build\">stackoverflow.com/questions/2943122/&hellip;</a>"}],"tags":[],"owner":{"account_id":1170837,"reputation":5416,"user_id":1148071,"display_name":"cello"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1423648828,"creation_date":1423648828,"answer_id":28451394,"question_id":28450946,"body_markdown":"Open Eclipse&#39;s preferences and then go to &quot;Java &gt; Editor &gt; Save Actions&quot;. There, enable &quot;Organize Imports&quot;.\r\n\r\nNow, whenever you save your file (yes, in Eclipse you still need to save the file, not as in IntelliJ where this happens automatically), Eclipse will try to figure out if it needs to add imports to compile the code. It will do so whenever the class name is unique. If it is not (e.g. List in `java.util` and in `java.awt`), it will not import it.\r\n\r\nYou can configure the &quot;organise imports&quot; action even more to ignore certain packages (e.g. `java.awt` if you never to gui-stuff), so you have fewer name-conflicts and more auto-imports. Look at question https://stackoverflow.com/questions/10019698/exclude-packages-from-eclipses-organize-imports for infos how to do that.","title":"Automatic imports in Eclipse","body":"<p>Open Eclipse's preferences and then go to \"Java > Editor > Save Actions\". There, enable \"Organize Imports\".</p>\n\n<p>Now, whenever you save your file (yes, in Eclipse you still need to save the file, not as in IntelliJ where this happens automatically), Eclipse will try to figure out if it needs to add imports to compile the code. It will do so whenever the class name is unique. If it is not (e.g. List in <code>java.util</code> and in <code>java.awt</code>), it will not import it.</p>\n\n<p>You can configure the \"organise imports\" action even more to ignore certain packages (e.g. <code>java.awt</code> if you never to gui-stuff), so you have fewer name-conflicts and more auto-imports. Look at question <a href=\"https://stackoverflow.com/questions/10019698/exclude-packages-from-eclipses-organize-imports\">Exclude packages from Eclipse&#39;s organize imports</a> for infos how to do that.</p>\n"},{"tags":[],"owner":{"account_id":27659079,"reputation":41,"user_id":21112318,"display_name":"Oscar Josefsson"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675869980,"creation_date":1675869980,"answer_id":75388003,"question_id":28450946,"body_markdown":"So I noticed that Eclipse had started to seemingly do all the necessary imports completely automatically.\r\nAnd I started to look for how Eclipse can automatically add imports.\r\n\r\nBut all I could find was to use the Ctrl+Shift+O shortcut to Organize imports.\r\nAnd that could probably be quite efficient if you want to do many at a time.\r\n\r\nHowever there are at least two (or maybe three) other methods to invoke this.\r\n\r\n 1. Window, preferences, Java, Editor, Save actions. You will need to check: &quot;Perform the selected actions on save&quot; and &quot;Organize imports&quot;.\r\n 2. Window, preferences, Java, Editor, Typing: Under &quot;When pasting&quot; you can select &quot;Update imports&quot;.\r\n 3. I am not sure if this is a way of it&#39;s own or if it is a variant of what happens when pasting. But if you use ctrl + space to help with auto completing what you are writing it will also Organize imports.\r\nSo for example if I have no imports in a class and I start typing: JP and then I press ctrl + space to help me complete and I choose JPanel it will apparently automatically add: import javax.swing.JPanel; for me. \r\n\r\n ","title":"Automatic imports in Eclipse","body":"<p>So I noticed that Eclipse had started to seemingly do all the necessary imports completely automatically.\nAnd I started to look for how Eclipse can automatically add imports.</p>\n<p>But all I could find was to use the Ctrl+Shift+O shortcut to Organize imports.\nAnd that could probably be quite efficient if you want to do many at a time.</p>\n<p>However there are at least two (or maybe three) other methods to invoke this.</p>\n<ol>\n<li>Window, preferences, Java, Editor, Save actions. You will need to check: &quot;Perform the selected actions on save&quot; and &quot;Organize imports&quot;.</li>\n<li>Window, preferences, Java, Editor, Typing: Under &quot;When pasting&quot; you can select &quot;Update imports&quot;.</li>\n<li>I am not sure if this is a way of it's own or if it is a variant of what happens when pasting. But if you use ctrl + space to help with auto completing what you are writing it will also Organize imports.\nSo for example if I have no imports in a class and I start typing: JP and then I press ctrl + space to help me complete and I choose JPanel it will apparently automatically add: import javax.swing.JPanel; for me.</li>\n</ol>\n"}],"owner":{"account_id":2173532,"reputation":2636,"user_id":1924825,"accept_rate":55,"display_name":"Martin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8160,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":28451394,"answer_count":2,"score":2,"last_activity_date":1675869980,"creation_date":1423647548,"question_id":28450946,"body_markdown":"In Eclipse, I have to press ctrl+space each time I refer to the type of an unimported class. Having to go back and press ctrl+space feels rather unnecessary. Is there a way to make Eclipse behave like IntelliJ in this case? It should not really be hard to know it should import the UserFactory and User class when I say:\r\n\r\n    User user = UserFactory.makeUser();\r\nI&#39;ve seen that you can press Ctrl+1 (quick fix) or Ctrl+Shift+O (Organize imports) to solve this problem, but I would like this to go automatically as it does in IntelliJ. Does anyone know a plugin or a setting that enables this type of behavior?\r\n","title":"Automatic imports in Eclipse","body":"<p>In Eclipse, I have to press ctrl+space each time I refer to the type of an unimported class. Having to go back and press ctrl+space feels rather unnecessary. Is there a way to make Eclipse behave like IntelliJ in this case? It should not really be hard to know it should import the UserFactory and User class when I say:</p>\n\n<pre><code>User user = UserFactory.makeUser();\n</code></pre>\n\n<p>I've seen that you can press Ctrl+1 (quick fix) or Ctrl+Shift+O (Organize imports) to solve this problem, but I would like this to go automatically as it does in IntelliJ. Does anyone know a plugin or a setting that enables this type of behavior?</p>\n"},{"tags":["java","class","inheritance","polymorphism","visibility"],"comments":[{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1675869428,"post_id":75387820,"comment_id":133021158,"body_markdown":"When you call a polymorphic method (i.e. not static, not private, not final), then it will always call the appropriate overload depending on the actual object you call it on. That does **not** depend on whether or not the code that calls that method is *inside* one of the classes involved or in an unrelated third class.","body":"When you call a polymorphic method (i.e. not static, not private, not final), then it will always call the appropriate overload depending on the actual object you call it on. That does <b>not</b> depend on whether or not the code that calls that method is <i>inside</i> one of the classes involved or in an unrelated third class."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1675946053,"post_id":75387820,"comment_id":133039231,"body_markdown":"A method can never directly access a field from a subclass (it can call an overridden method that returns the value of a subclass field, but that is an indirect access.) Method `methodOne()` **always** works with the field `A.m`. This doesn&#39;t depend on how you call `methodOne()`","body":"A method can never directly access a field from a subclass (it can call an overridden method that returns the value of a subclass field, but that is an indirect access.) Method <code>methodOne()</code> <b>always</b> works with the field <code>A.m</code>. This doesn&#39;t depend on how you call <code>methodOne()</code>"}],"answers":[{"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1675870700,"post_id":75387867,"comment_id":133021649,"body_markdown":"Note that a subclass can promote to a higher visibility (e.g. a supermethod&#39;s `protected` can be `public` in the sub-method), but _not_ the other way around (a public supermethod cannot be made `protected`/etc in a subclass).","body":"Note that a subclass can promote to a higher visibility (e.g. a supermethod&#39;s <code>protected</code> can be <code>public</code> in the sub-method), but <i>not</i> the other way around (a public supermethod cannot be made <code>protected</code>/etc in a subclass)."},{"owner":{"account_id":27735415,"reputation":15,"user_id":21173114,"display_name":"grecode97"},"score":0,"creation_date":1675881194,"post_id":75387867,"comment_id":133025329,"body_markdown":"Can you explain to me why methodOne accesses super.m instead of this.m, but then accesses this.increase()?","body":"Can you explain to me why methodOne accesses super.m instead of this.m, but then accesses this.increase()?"}],"tags":[],"owner":{"account_id":23296732,"reputation":61,"user_id":19302646,"display_name":"Vidar"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675869380,"creation_date":1675869380,"answer_id":75387867,"question_id":75387820,"body_markdown":"Yes, this is correct. When a method is inherited from a superclass, the subclass can override it to change the behavior, but if not overridden, it will use the implementation in the superclass. In this case, calling b.methodOne(6) will use the m and increase from the B class, since b is an object of type B.\r\n\r\nThe static type refers to the type of a reference variable (in this case A b) whereas the dynamic type refers to the actual type of the object referred to by the reference variable (in this case B). When you call b.methodOne(6), the static type is A but the dynamic type is B. This means that the method methodOne is resolved based on the type of the object b refers to (dynamic type B) rather than the type of the reference variable b (static type A).\r\n\r\nInherited methods use the visibility of the superclass unless they are overridden in the subclass. In this case, b.visibilityTest() would work, because it is a method in the superclass A and visibility is not changed by inheritance.","title":"Do inherited methods use the visibility, methods and attributes of the superclass or subclass?","body":"<p>Yes, this is correct. When a method is inherited from a superclass, the subclass can override it to change the behavior, but if not overridden, it will use the implementation in the superclass. In this case, calling b.methodOne(6) will use the m and increase from the B class, since b is an object of type B.</p>\n<p>The static type refers to the type of a reference variable (in this case A b) whereas the dynamic type refers to the actual type of the object referred to by the reference variable (in this case B). When you call b.methodOne(6), the static type is A but the dynamic type is B. This means that the method methodOne is resolved based on the type of the object b refers to (dynamic type B) rather than the type of the reference variable b (static type A).</p>\n<p>Inherited methods use the visibility of the superclass unless they are overridden in the subclass. In this case, b.visibilityTest() would work, because it is a method in the superclass A and visibility is not changed by inheritance.</p>\n"}],"owner":{"account_id":27735415,"reputation":15,"user_id":21173114,"display_name":"grecode97"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675869873,"creation_date":1675869201,"question_id":75387820,"body_markdown":"What I assume is that an inherited method will, by standard, use the methods and attributes of the class whose object is used to execute that method.\r\n\r\nHere&#39;s an example for my question, it&#39;s from a task from an older exam:\r\n\r\n```\r\npublic class Test {\r\n\tpublic static void main(String[] args) {\r\n\t\tA a = new A(3);\r\n\t\tA b = new B(1, 4);\r\n\t\tb.methodOne(6);       // &lt;----- This. I think that this uses &quot;b.m&quot; and &quot;b.increase&quot;\r\n\t}\r\n}\r\n\r\npublic class A {\r\n\tprivate int m;\r\n\tprivate int n;\r\n\r\n\tpublic A(int n) {\r\n\t\tm = n;\r\n\t}\r\n\r\n\tpublic void methodOne(int i) {\r\n\t\tm -= i;\r\n\t\tincrease(i);\r\n\t}\r\n\r\n\tpublic void increase(int i) {\r\n\t\tm += 2 * i;\r\n\t}\r\n\r\n        public void visilibityTest() {\r\n                n++;                   // &lt;----- I think that b.visibilityTest() would work\r\n                                       // Because it uses the visibility &quot;rights&quot; of A.\r\n        }\r\n}\r\n\r\npublic class B extends A {\r\n\tprivate int m;\r\n\r\n\tpublic B(int m, int n) {\r\n\t\tsuper(n);\r\n\t\tthis.m = m + 1;\r\n\t}\r\n\r\n\tpublic void increase(int i) {\r\n\t\tm += i;\r\n\t}\r\n}\r\n```\r\n\r\nAs I said in the comments, I think that by executing `b.methodOne`, the attribute &quot;b.m&quot; and the method &quot;b.increase&quot; are used, even though `methodOne` is inherited from class A. (I mean this.m of b, not super.m)\r\n\r\n**1. Is this true? Do inherited methods normally use the methods and attributes of the subclass?**\r\n\r\n**2. What role do the static/dynamic type play in this task? (&quot;A b = new B&quot;)**\r\n\r\nAnd what about visibility? In another task I found out that if you use inherited methods to access private attributes of the superclass (that should not be visible to a subclass), you can access those attributes, as if you were accessing superclass&#39;s visibility rights. I added an example method called `visibilityTest()` to show that example on this task. Would that work?\r\n\r\n**3. Do inherited methods use the visibility of the superclass?**\r\n\r\nI apologize for any unclear wording. I&#39;m both still trying to understand most of this, and also have to find out what many terms are called like in English, for the purpose of translation.\r\nAny pointing out of unclear wording will be appreciated.","title":"Do inherited methods use the visibility, methods and attributes of the superclass or subclass?","body":"<p>What I assume is that an inherited method will, by standard, use the methods and attributes of the class whose object is used to execute that method.</p>\n<p>Here's an example for my question, it's from a task from an older exam:</p>\n<pre><code>public class Test {\n    public static void main(String[] args) {\n        A a = new A(3);\n        A b = new B(1, 4);\n        b.methodOne(6);       // &lt;----- This. I think that this uses &quot;b.m&quot; and &quot;b.increase&quot;\n    }\n}\n\npublic class A {\n    private int m;\n    private int n;\n\n    public A(int n) {\n        m = n;\n    }\n\n    public void methodOne(int i) {\n        m -= i;\n        increase(i);\n    }\n\n    public void increase(int i) {\n        m += 2 * i;\n    }\n\n        public void visilibityTest() {\n                n++;                   // &lt;----- I think that b.visibilityTest() would work\n                                       // Because it uses the visibility &quot;rights&quot; of A.\n        }\n}\n\npublic class B extends A {\n    private int m;\n\n    public B(int m, int n) {\n        super(n);\n        this.m = m + 1;\n    }\n\n    public void increase(int i) {\n        m += i;\n    }\n}\n</code></pre>\n<p>As I said in the comments, I think that by executing <code>b.methodOne</code>, the attribute &quot;b.m&quot; and the method &quot;b.increase&quot; are used, even though <code>methodOne</code> is inherited from class A. (I mean this.m of b, not super.m)</p>\n<p><strong>1. Is this true? Do inherited methods normally use the methods and attributes of the subclass?</strong></p>\n<p><strong>2. What role do the static/dynamic type play in this task? (&quot;A b = new B&quot;)</strong></p>\n<p>And what about visibility? In another task I found out that if you use inherited methods to access private attributes of the superclass (that should not be visible to a subclass), you can access those attributes, as if you were accessing superclass's visibility rights. I added an example method called <code>visibilityTest()</code> to show that example on this task. Would that work?</p>\n<p><strong>3. Do inherited methods use the visibility of the superclass?</strong></p>\n<p>I apologize for any unclear wording. I'm both still trying to understand most of this, and also have to find out what many terms are called like in English, for the purpose of translation.\nAny pointing out of unclear wording will be appreciated.</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":0,"creation_date":1633622372,"post_id":69482328,"comment_id":122814739,"body_markdown":"How did you register your Converter?","body":"How did you register your Converter?"},{"owner":{"account_id":21199058,"reputation":17,"user_id":15590048,"display_name":"AlexGolub"},"score":0,"creation_date":1633694645,"post_id":69482328,"comment_id":122834517,"body_markdown":"I just annotated it with @Component this should tell Spring that it should \nbe used.","body":"I just annotated it with @Component this should tell Spring that it should  be used."}],"answers":[{"comments":[{"owner":{"account_id":21199058,"reputation":17,"user_id":15590048,"display_name":"AlexGolub"},"score":0,"creation_date":1633849109,"post_id":69495648,"comment_id":122866371,"body_markdown":"I&#39;ve done it but still the problem persists.\nWhen I pass -1 or 0 as query param value it goes through my StringToBooleanConverter but\nwhen reached to the IllegalArgumentException it transfer execution to CustomBooleanEditor\nsetAsText(String) method","body":"I&#39;ve done it but still the problem persists. When I pass -1 or 0 as query param value it goes through my StringToBooleanConverter but when reached to the IllegalArgumentException it transfer execution to CustomBooleanEditor setAsText(String) method"},{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":0,"creation_date":1633889552,"post_id":69495648,"comment_id":122874954,"body_markdown":"I&#39;ve edited my answer, please check it. I&#39;ve added line `registry.removeConvertible(String.class, Boolean.class);` that should remove any converters from `String` to `Boolean`.","body":"I&#39;ve edited my answer, please check it. I&#39;ve added line <code>registry.removeConvertible(String.class, Boolean.class);</code> that should remove any converters from <code>String</code> to <code>Boolean</code>."},{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":0,"creation_date":1633889746,"post_id":69495648,"comment_id":122874999,"body_markdown":"If this does not work, try the other approach.","body":"If this does not work, try the other approach."}],"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633889730,"creation_date":1633695082,"answer_id":69495648,"question_id":69482328,"body_markdown":"Try registering your `Converter` as follows:\r\n```java\r\n@Configuration\r\npublic class WebConfig implements WebMvcConfigurer {\r\n\r\n    @Override\r\n    public void addFormatters(FormatterRegistry registry) {\r\n        registry.removeConvertible(String.class, Boolean.class);\r\n        registry.addConverter(new StringToBooleanConverter());\r\n    }\r\n}\r\n```\r\n\r\n----------\r\n\r\nIf this does not work, which I suspect. Try creating your own `CustomBooleanEditor` as follows:\r\n```java\r\n@Configuration\r\npublic class Config {\r\n    @Bean\r\n    public CustomBooleanEditor getCustomBooleanEditor() {\r\n        return new CustomBooleanEditor(&quot;true&quot;, &quot;false&quot;, false);\r\n    }\r\n}\r\n```","title":"Disable 1/yes/on and 0/no/off and allow only true/false to be passed via query-param or path-param","body":"<p>Try registering your <code>Converter</code> as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class WebConfig implements WebMvcConfigurer {\n\n    @Override\n    public void addFormatters(FormatterRegistry registry) {\n        registry.removeConvertible(String.class, Boolean.class);\n        registry.addConverter(new StringToBooleanConverter());\n    }\n}\n</code></pre>\n<hr />\n<p>If this does not work, which I suspect. Try creating your own <code>CustomBooleanEditor</code> as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class Config {\n    @Bean\n    public CustomBooleanEditor getCustomBooleanEditor() {\n        return new CustomBooleanEditor(&quot;true&quot;, &quot;false&quot;, false);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1675869608,"post_id":75387878,"comment_id":133021218,"body_markdown":"Jackson isn&#39;t used for binding query parameters, so configuration Jackson for this won&#39;t work.","body":"Jackson isn&#39;t used for binding query parameters, so configuration Jackson for this won&#39;t work."}],"tags":[],"owner":{"account_id":21199058,"reputation":17,"user_id":15590048,"display_name":"AlexGolub"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1675869440,"creation_date":1675869440,"answer_id":75387878,"question_id":69482328,"body_markdown":"Configuring `ObjectMapper` disabling the following feature helped to solve the problem:\r\n\r\n    @Bean\r\n    @Primary\r\n    public ObjectMapper objectMapper() {\r\n        return JsonMapper.builder()\r\n                         .disable(MapperFeature.ALLOW_COERCION_OF_SCALARS)\r\n                         .build();\r\n    }","title":"Disable 1/yes/on and 0/no/off and allow only true/false to be passed via query-param or path-param","body":"<p>Configuring <code>ObjectMapper</code> disabling the following feature helped to solve the problem:</p>\n<pre><code>@Bean\n@Primary\npublic ObjectMapper objectMapper() {\n    return JsonMapper.builder()\n                     .disable(MapperFeature.ALLOW_COERCION_OF_SCALARS)\n                     .build();\n}\n</code></pre>\n"}],"owner":{"account_id":21199058,"reputation":17,"user_id":15590048,"display_name":"AlexGolub"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":727,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1675869440,"creation_date":1633614282,"question_id":69482328,"body_markdown":"I want to disable Spring built-in deserialization of integer 0/1 and the strings \r\nno/off yes/on that are mapped to false/true respectively when they are \r\npassed via query-parameter or path-variable.\r\nWhen any value that is not true/false is passed I want to throw IllegalArgumentException.\r\n\r\nFirst I&#39;ve implemented my own StringToBooleanConverter:\r\n```\r\nimport org.springframework.core.convert.converter.Converter;\r\nimport org.springframework.stereotype.Component;\r\n\r\n@Component\r\npublic class StringToBooleanConverter implements Converter&lt;String, Boolean&gt; {\r\n\r\n    @Override\r\n    public Boolean convert(String source) {\r\n        String value = source.trim().toLowerCase();\r\n\r\n        if (&quot;true&quot;.equals(value)) {\r\n            return Boolean.TRUE;\r\n        } else if (&quot;false&quot;.equals(value)) {\r\n            return Boolean.FALSE;\r\n        }\r\n\r\n        throw new IllegalArgumentException(&quot;Invalid boolean value &#39;&quot; + source + &quot;&#39;&quot;);\r\n    }\r\n}\r\n```\r\n\r\nAnd since I&#39;ve provided an implementation of similar class spring will use my StringToBooleanConverter and not the one from ```org.springframework.core.convert.support```\r\n\r\nBut here is where my problem arise. When I send e.g. 0 code is reaching to the ```IllegalArgumentException``` and then execution passed to ```CustomBooleanEditor``` in the\r\n```org.springframework.beans.propertyeditors``` and the method ```public void setAsText(@Nullable String text) throws IllegalArgumentException {}``` is invoked and does almost the same logic\r\nas ```StringToBooleanConverter```.\r\n\r\nHow can I disable Spring from calling this method and use only the ```StringToBooleanConverter```? \r\n","title":"Disable 1/yes/on and 0/no/off and allow only true/false to be passed via query-param or path-param","body":"<p>I want to disable Spring built-in deserialization of integer 0/1 and the strings\nno/off yes/on that are mapped to false/true respectively when they are\npassed via query-parameter or path-variable.\nWhen any value that is not true/false is passed I want to throw IllegalArgumentException.</p>\n<p>First I've implemented my own StringToBooleanConverter:</p>\n<pre><code>import org.springframework.core.convert.converter.Converter;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class StringToBooleanConverter implements Converter&lt;String, Boolean&gt; {\n\n    @Override\n    public Boolean convert(String source) {\n        String value = source.trim().toLowerCase();\n\n        if (&quot;true&quot;.equals(value)) {\n            return Boolean.TRUE;\n        } else if (&quot;false&quot;.equals(value)) {\n            return Boolean.FALSE;\n        }\n\n        throw new IllegalArgumentException(&quot;Invalid boolean value '&quot; + source + &quot;'&quot;);\n    }\n}\n</code></pre>\n<p>And since I've provided an implementation of similar class spring will use my StringToBooleanConverter and not the one from <code>org.springframework.core.convert.support</code></p>\n<p>But here is where my problem arise. When I send e.g. 0 code is reaching to the <code>IllegalArgumentException</code> and then execution passed to <code>CustomBooleanEditor</code> in the\n<code>org.springframework.beans.propertyeditors</code> and the method <code>public void setAsText(@Nullable String text) throws IllegalArgumentException {}</code> is invoked and does almost the same logic\nas <code>StringToBooleanConverter</code>.</p>\n<p>How can I disable Spring from calling this method and use only the <code>StringToBooleanConverter</code>?</p>\n"},{"tags":["java","spring-boot","hibernate","spring-mvc","spring-data-jpa"],"comments":[{"owner":{"account_id":18559672,"reputation":300,"user_id":13523946,"display_name":"notAPPP"},"score":0,"creation_date":1673564318,"post_id":75103156,"comment_id":132534145,"body_markdown":"constraint should come from table schema declaration not from code","body":"constraint should come from table schema declaration not from code"}],"owner":{"account_id":23968144,"reputation":1,"user_id":17957297,"display_name":"Alex Oderdenge"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":174,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675869353,"creation_date":1673564103,"question_id":75103156,"body_markdown":"I&#39;m making my first Spring Boot project, and it&#39;s working well. It uses a H2 database. The problem is that it returns 5xx HTTP responses, instead of 4xx with exceptions in cases of sql errors.\r\nFor example, I have this constraint:\r\n\r\nPet.java\r\n``` java\r\n@Table(uniqueConstraints={\r\n        @UniqueConstraint(columnNames = {&quot;name&quot;,&quot;customer_id&quot;})\r\n})\r\n```\r\nI made this constraint because you shouldn&#39;t be able to save 2 pets with the same name, for the same owner (customer).\r\n\r\nBut when I try to POST a pet with the same name, for the same owner, it returns me an 5xx error, and SQL error appear in the log.\r\n\r\n\r\nPet.java\r\n``` java\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Builder\r\n@Entity(name = &quot;pet&quot;)\r\n@Table(uniqueConstraints={\r\n        @UniqueConstraint(columnNames = {&quot;name&quot;,&quot;customer_id&quot;})\r\n})\r\npublic class Pet implements Serializable {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Getter\r\n    @Setter\r\n    @Column(nullable = false, insertable = false, updatable = false)\r\n    private Long id;\r\n    @Column (name = &quot;name&quot;, nullable = false)\r\n    private String name;\r\n    @Column (name = &quot;birthdate&quot;)\r\n    private LocalDate birthdate;\r\n    @Column (name = &quot;weight_KG&quot;)\r\n    private Double weight_KG;\r\n    @Column\r\n    private String color;\r\n    @Column\r\n    String breed;\r\n    @Getter\r\n    @Setter\r\n    @ManyToOne (cascade =  CascadeType.ALL)\r\n    @JoinColumn (name = &quot;customer_id&quot;, referencedColumnName = &quot;id&quot;, nullable = false)\r\n    private Customer customer;\r\n    @JsonIgnore\r\n    @OneToMany(mappedBy = &quot;pet&quot;)\r\n    List&lt;Vaccination&gt; vaccination;\r\n\r\n}\r\n\r\n```\r\nCustomer.java\r\n``` java\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Builder\r\n@Entity (name = &quot;customer&quot;)\r\npublic class Customer implements Serializable {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Getter\r\n    @Setter\r\n    @Column(nullable = false, insertable = false, updatable = false)\r\n    private Long id;\r\n    @Column (name = &quot;name&quot;, nullable = false, unique = true)\r\n    private String name;\r\n    @Column (name = &quot;surname&quot;)\r\n    private String surname;\r\n    @Column (name = &quot;birthdate&quot;)\r\n    private LocalDate birthdate;\r\n    @OneToMany(mappedBy = &quot;customer&quot;,cascade={CascadeType.ALL})\r\n    @JsonIgnore\r\n    private List&lt;Pet&gt; pets;\r\n}\r\n```\r\nCustomerController.java\r\n```java\r\n@RestController\r\n@RequestMapping(&quot;/customer&quot;)\r\npublic class CustomerController {\r\n    @Autowired\r\n    private CustomerService customerService;\r\n\r\n    @Autowired\r\n    private ModelMapper modelMapper;\r\n    @Autowired\r\n    private CustomerRepository customerRepository;\r\n\r\n    @PostMapping\r\n    @ResponseStatus(HttpStatus.CREATED)\r\n    public Customer save(@RequestBody Customer customer) {\r\n        if (customerRepository.findByName(customer.getName()).isPresent()){\r\n            throw new ResponseStatusException(HttpStatus.CONFLICT, &quot;Customer with the inserted name already exists.&quot;);\r\n        }\r\n        //customerRepository.findByName(customer.getName()).orElseThrow(() -&gt; new ResponseStatusException(HttpStatus.NOT_FOUND, &quot;Customer not found&quot;));\r\n        return customerService.save(customer);\r\n    }\r\n    @GetMapping\r\n    @ResponseStatus(HttpStatus.OK)\r\n    public List&lt;Customer&gt; findAllCustomers(){\r\n        return customerService.findAll();\r\n    }\r\n    @GetMapping(&quot;/{id}&quot;)\r\n    @ResponseStatus(HttpStatus.OK)\r\n    public Customer findCustomerById(@PathVariable(&quot;id&quot;) Long id) {\r\n        return customerService.findById(id)\r\n                .orElseThrow(() -&gt; new ResponseStatusException(HttpStatus.NOT_FOUND, &quot;Customer not found&quot;));\r\n    }\r\n    @GetMapping(&quot;/name/{name}&quot;)\r\n    @ResponseStatus(HttpStatus.OK)\r\n    public List&lt;Customer&gt; findCustomerByName(@PathVariable(&quot;name&quot;) String name) {\r\n        List&lt;Customer&gt; customer = customerRepository.findByNameStartsWithIgnoreCase(name);\r\n        return customer;\r\n    }\r\n\r\n    @DeleteMapping(&quot;/{id}&quot;)\r\n    @ResponseStatus(HttpStatus.NO_CONTENT)\r\n    public void deleteCustomer(@PathVariable(&quot;id&quot;) Long id){\r\n        customerService.findById(id)\r\n                .map(customer -&gt; {\r\n                    customerService.deleteById(customer.getId());\r\n                    return Void.TYPE;\r\n                }).orElseThrow(() -&gt; new ResponseStatusException(HttpStatus.NOT_FOUND, &quot;Customer not found&quot;));\r\n    }\r\n    @PutMapping(&quot;/{id}&quot;)\r\n    @ResponseStatus(HttpStatus.NO_CONTENT)\r\n    public void updateCustomer (@PathVariable(&quot;id&quot;) Long id, @RequestBody Customer customer) {\r\n        customerService.findById(id)\r\n                .map(customerBase -&gt; {\r\n                    modelMapper.map(customer,customerBase);\r\n                    customerService.save(customerBase);\r\n                    return Void.TYPE;\r\n                }).orElseThrow(() -&gt; new ResponseStatusException(HttpStatus.NOT_FOUND, &quot;Customer not found&quot;));\r\n    }\r\n\r\n}\r\n```\r\nPetController.java\r\n``` java\r\n@RestController\r\n@RequestMapping(&quot;/pet&quot;)\r\npublic class PetController {\r\n    @Autowired\r\n    private PetService petService;\r\n\r\n    @Autowired\r\n    private ModelMapper modelMapper;\r\n    @Autowired\r\n    private CustomerRepository customerRepository;\r\n    @Autowired\r\n    private PetRepository petRepository;\r\n\r\n    @PostMapping\r\n    @ResponseStatus(HttpStatus.CREATED)\r\n    public Pet save(@RequestBody Pet pet){\r\n        customerRepository.findById(pet.getCustomer().getId()).orElseThrow(() -&gt; new ResponseStatusException(HttpStatus.NOT_FOUND, &quot;Customer does not exists.&quot;));\r\n        Customer customer = customerRepository.findById(pet.getCustomer().getId()).get();\r\n        pet.setCustomer(customer);\r\n        //petRepository.findByCustomer(customer);\r\n        return petService.save(pet);\r\n    }\r\n    @GetMapping\r\n    @ResponseStatus(HttpStatus.OK)\r\n    public List&lt;Pet&gt; findAllPets(){\r\n        return petService.findAll();\r\n    }\r\n    @GetMapping(&quot;/{id}&quot;)\r\n    @ResponseStatus(HttpStatus.OK)\r\n    public Pet findPetById(@PathVariable(&quot;id&quot;) Long id){\r\n        return petService.findById(id)\r\n                .orElseThrow(() -&gt; new ResponseStatusException(HttpStatus.NOT_FOUND, &quot;Pet not found&quot;));\r\n    }\r\n    @GetMapping(&quot;/name/{name}&quot;)\r\n    @ResponseStatus(HttpStatus.OK)\r\n    public List&lt;Pet&gt; findPetByName(@PathVariable(&quot;name&quot;) String name){\r\n        List&lt;Pet&gt; pet = petRepository.findByNameStartsWithIgnoreCase(name);\r\n        return pet;\r\n    }\r\n    @DeleteMapping(&quot;/{id}&quot;)\r\n    @ResponseStatus(HttpStatus.NO_CONTENT)\r\n    public void deletePet(@PathVariable(&quot;id&quot;) Long id){\r\n        petService.findById(id)\r\n                .map(pet -&gt; {\r\n                    petService.deleteById(pet.getId());\r\n                    return Void.TYPE;\r\n                }).orElseThrow(() -&gt; new ResponseStatusException(HttpStatus.NOT_FOUND, &quot;Pet not found&quot;));\r\n    }\r\n    @PutMapping(&quot;/{id}&quot;)\r\n    @ResponseStatus(HttpStatus.NO_CONTENT)\r\n    public void updatePet (@PathVariable(&quot;id&quot;) Long id, @RequestBody Pet pet) {\r\n        petService.findById(id)\r\n                .map(petBase -&gt; {\r\n                    modelMapper.map(pet,petBase);\r\n                    petService.save(petBase);\r\n                    return Void.TYPE;\r\n                }).orElseThrow(() -&gt; new ResponseStatusException(HttpStatus.NOT_FOUND, &quot;Pet not found&quot;));\r\n    }\r\n\r\n}\r\n```\r\n\r\nI had the same problem when saving two customers with the same name, but I solved the problem by adding these lines of code to the controller:\r\n\r\nCustomerController.java\r\n``` java\r\nif (customerRepository.findByName(customer.getName()).isPresent()){\r\n   throw new ResponseStatusException(HttpStatus.CONFLICT, &quot;Customer with the inserted name already exists.&quot;);\r\n}\r\n```\r\nBut the pet&#39;s constraint is more complex, and I couldn&#39;t find a solution the same way I did above. I tried to create a petRepository.findbyCustomer, send the customer that was gonna  be saved. Then I would have a list of pets that have the same customer, and somehow try to findByName these pets, searching for the name of the pet that is going to be saved. \r\n\r\nBut I stopped with these crazy idea, because there could be a cleaner way to to this. I tried to search for it, but couldn&#39;t find a solution.\r\n\r\nWhat I want is a exception throw in the case I try to save two pets with the same name for the same owner. I don&#39;t want SQL errors, and I don&#39;t want 5xx returns.","title":"Spring Boot - SQL error instead of thrown exception","body":"<p>I'm making my first Spring Boot project, and it's working well. It uses a H2 database. The problem is that it returns 5xx HTTP responses, instead of 4xx with exceptions in cases of sql errors.\nFor example, I have this constraint:</p>\n<p>Pet.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Table(uniqueConstraints={\n        @UniqueConstraint(columnNames = {&quot;name&quot;,&quot;customer_id&quot;})\n})\n</code></pre>\n<p>I made this constraint because you shouldn't be able to save 2 pets with the same name, for the same owner (customer).</p>\n<p>But when I try to POST a pet with the same name, for the same owner, it returns me an 5xx error, and SQL error appear in the log.</p>\n<p>Pet.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\n@Entity(name = &quot;pet&quot;)\n@Table(uniqueConstraints={\n        @UniqueConstraint(columnNames = {&quot;name&quot;,&quot;customer_id&quot;})\n})\npublic class Pet implements Serializable {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Getter\n    @Setter\n    @Column(nullable = false, insertable = false, updatable = false)\n    private Long id;\n    @Column (name = &quot;name&quot;, nullable = false)\n    private String name;\n    @Column (name = &quot;birthdate&quot;)\n    private LocalDate birthdate;\n    @Column (name = &quot;weight_KG&quot;)\n    private Double weight_KG;\n    @Column\n    private String color;\n    @Column\n    String breed;\n    @Getter\n    @Setter\n    @ManyToOne (cascade =  CascadeType.ALL)\n    @JoinColumn (name = &quot;customer_id&quot;, referencedColumnName = &quot;id&quot;, nullable = false)\n    private Customer customer;\n    @JsonIgnore\n    @OneToMany(mappedBy = &quot;pet&quot;)\n    List&lt;Vaccination&gt; vaccination;\n\n}\n\n</code></pre>\n<p>Customer.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\n@Entity (name = &quot;customer&quot;)\npublic class Customer implements Serializable {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Getter\n    @Setter\n    @Column(nullable = false, insertable = false, updatable = false)\n    private Long id;\n    @Column (name = &quot;name&quot;, nullable = false, unique = true)\n    private String name;\n    @Column (name = &quot;surname&quot;)\n    private String surname;\n    @Column (name = &quot;birthdate&quot;)\n    private LocalDate birthdate;\n    @OneToMany(mappedBy = &quot;customer&quot;,cascade={CascadeType.ALL})\n    @JsonIgnore\n    private List&lt;Pet&gt; pets;\n}\n</code></pre>\n<p>CustomerController.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(&quot;/customer&quot;)\npublic class CustomerController {\n    @Autowired\n    private CustomerService customerService;\n\n    @Autowired\n    private ModelMapper modelMapper;\n    @Autowired\n    private CustomerRepository customerRepository;\n\n    @PostMapping\n    @ResponseStatus(HttpStatus.CREATED)\n    public Customer save(@RequestBody Customer customer) {\n        if (customerRepository.findByName(customer.getName()).isPresent()){\n            throw new ResponseStatusException(HttpStatus.CONFLICT, &quot;Customer with the inserted name already exists.&quot;);\n        }\n        //customerRepository.findByName(customer.getName()).orElseThrow(() -&gt; new ResponseStatusException(HttpStatus.NOT_FOUND, &quot;Customer not found&quot;));\n        return customerService.save(customer);\n    }\n    @GetMapping\n    @ResponseStatus(HttpStatus.OK)\n    public List&lt;Customer&gt; findAllCustomers(){\n        return customerService.findAll();\n    }\n    @GetMapping(&quot;/{id}&quot;)\n    @ResponseStatus(HttpStatus.OK)\n    public Customer findCustomerById(@PathVariable(&quot;id&quot;) Long id) {\n        return customerService.findById(id)\n                .orElseThrow(() -&gt; new ResponseStatusException(HttpStatus.NOT_FOUND, &quot;Customer not found&quot;));\n    }\n    @GetMapping(&quot;/name/{name}&quot;)\n    @ResponseStatus(HttpStatus.OK)\n    public List&lt;Customer&gt; findCustomerByName(@PathVariable(&quot;name&quot;) String name) {\n        List&lt;Customer&gt; customer = customerRepository.findByNameStartsWithIgnoreCase(name);\n        return customer;\n    }\n\n    @DeleteMapping(&quot;/{id}&quot;)\n    @ResponseStatus(HttpStatus.NO_CONTENT)\n    public void deleteCustomer(@PathVariable(&quot;id&quot;) Long id){\n        customerService.findById(id)\n                .map(customer -&gt; {\n                    customerService.deleteById(customer.getId());\n                    return Void.TYPE;\n                }).orElseThrow(() -&gt; new ResponseStatusException(HttpStatus.NOT_FOUND, &quot;Customer not found&quot;));\n    }\n    @PutMapping(&quot;/{id}&quot;)\n    @ResponseStatus(HttpStatus.NO_CONTENT)\n    public void updateCustomer (@PathVariable(&quot;id&quot;) Long id, @RequestBody Customer customer) {\n        customerService.findById(id)\n                .map(customerBase -&gt; {\n                    modelMapper.map(customer,customerBase);\n                    customerService.save(customerBase);\n                    return Void.TYPE;\n                }).orElseThrow(() -&gt; new ResponseStatusException(HttpStatus.NOT_FOUND, &quot;Customer not found&quot;));\n    }\n\n}\n</code></pre>\n<p>PetController.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(&quot;/pet&quot;)\npublic class PetController {\n    @Autowired\n    private PetService petService;\n\n    @Autowired\n    private ModelMapper modelMapper;\n    @Autowired\n    private CustomerRepository customerRepository;\n    @Autowired\n    private PetRepository petRepository;\n\n    @PostMapping\n    @ResponseStatus(HttpStatus.CREATED)\n    public Pet save(@RequestBody Pet pet){\n        customerRepository.findById(pet.getCustomer().getId()).orElseThrow(() -&gt; new ResponseStatusException(HttpStatus.NOT_FOUND, &quot;Customer does not exists.&quot;));\n        Customer customer = customerRepository.findById(pet.getCustomer().getId()).get();\n        pet.setCustomer(customer);\n        //petRepository.findByCustomer(customer);\n        return petService.save(pet);\n    }\n    @GetMapping\n    @ResponseStatus(HttpStatus.OK)\n    public List&lt;Pet&gt; findAllPets(){\n        return petService.findAll();\n    }\n    @GetMapping(&quot;/{id}&quot;)\n    @ResponseStatus(HttpStatus.OK)\n    public Pet findPetById(@PathVariable(&quot;id&quot;) Long id){\n        return petService.findById(id)\n                .orElseThrow(() -&gt; new ResponseStatusException(HttpStatus.NOT_FOUND, &quot;Pet not found&quot;));\n    }\n    @GetMapping(&quot;/name/{name}&quot;)\n    @ResponseStatus(HttpStatus.OK)\n    public List&lt;Pet&gt; findPetByName(@PathVariable(&quot;name&quot;) String name){\n        List&lt;Pet&gt; pet = petRepository.findByNameStartsWithIgnoreCase(name);\n        return pet;\n    }\n    @DeleteMapping(&quot;/{id}&quot;)\n    @ResponseStatus(HttpStatus.NO_CONTENT)\n    public void deletePet(@PathVariable(&quot;id&quot;) Long id){\n        petService.findById(id)\n                .map(pet -&gt; {\n                    petService.deleteById(pet.getId());\n                    return Void.TYPE;\n                }).orElseThrow(() -&gt; new ResponseStatusException(HttpStatus.NOT_FOUND, &quot;Pet not found&quot;));\n    }\n    @PutMapping(&quot;/{id}&quot;)\n    @ResponseStatus(HttpStatus.NO_CONTENT)\n    public void updatePet (@PathVariable(&quot;id&quot;) Long id, @RequestBody Pet pet) {\n        petService.findById(id)\n                .map(petBase -&gt; {\n                    modelMapper.map(pet,petBase);\n                    petService.save(petBase);\n                    return Void.TYPE;\n                }).orElseThrow(() -&gt; new ResponseStatusException(HttpStatus.NOT_FOUND, &quot;Pet not found&quot;));\n    }\n\n}\n</code></pre>\n<p>I had the same problem when saving two customers with the same name, but I solved the problem by adding these lines of code to the controller:</p>\n<p>CustomerController.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (customerRepository.findByName(customer.getName()).isPresent()){\n   throw new ResponseStatusException(HttpStatus.CONFLICT, &quot;Customer with the inserted name already exists.&quot;);\n}\n</code></pre>\n<p>But the pet's constraint is more complex, and I couldn't find a solution the same way I did above. I tried to create a petRepository.findbyCustomer, send the customer that was gonna  be saved. Then I would have a list of pets that have the same customer, and somehow try to findByName these pets, searching for the name of the pet that is going to be saved.</p>\n<p>But I stopped with these crazy idea, because there could be a cleaner way to to this. I tried to search for it, but couldn't find a solution.</p>\n<p>What I want is a exception throw in the case I try to save two pets with the same name for the same owner. I don't want SQL errors, and I don't want 5xx returns.</p>\n"},{"tags":["java","maven","checksum","data-integrity"],"answers":[{"comments":[{"owner":{"account_id":1521806,"reputation":11725,"user_id":1421254,"accept_rate":100,"display_name":"Dmitriusan"},"score":0,"creation_date":1529579303,"post_id":50966803,"comment_id":88930289,"body_markdown":"Thanks. Expected that to work by default and googling did not point to this flag","body":"Thanks. Expected that to work by default and googling did not point to this flag"},{"owner":{"account_id":1387645,"reputation":7926,"user_id":1319284,"accept_rate":69,"display_name":"kutschkem"},"score":1,"creation_date":1529579342,"post_id":50966803,"comment_id":88930317,"body_markdown":"@Dmitriusan Nope, the default seems to be that you get a warning.","body":"@Dmitriusan Nope, the default seems to be that you get a warning."},{"owner":{"account_id":1521806,"reputation":11725,"user_id":1421254,"accept_rate":100,"display_name":"Dmitriusan"},"score":0,"creation_date":1529581916,"post_id":50966803,"comment_id":88932005,"body_markdown":"Yes, and the warning is not noticeable when building a relatively huge enterprise project. Thank you for pointing me to this flag, I&#39;ve also set up Maven to fail during build at IntelliJ IDEA global maven settings","body":"Yes, and the warning is not noticeable when building a relatively huge enterprise project. Thank you for pointing me to this flag, I&#39;ve also set up Maven to fail during build at IntelliJ IDEA global maven settings"},{"owner":{"account_id":158578,"reputation":3109,"user_id":377320,"accept_rate":25,"display_name":"Martin Vysny"},"score":1,"creation_date":1539322280,"post_id":50966803,"comment_id":92467560,"body_markdown":"Please go vote for this to be enabled by default: https://issues.apache.org/jira/browse/MNG-5728","body":"Please go vote for this to be enabled by default: <a href=\"https://issues.apache.org/jira/browse/MNG-5728\" rel=\"nofollow noreferrer\">issues.apache.org/jira/browse/MNG-5728</a>"}],"tags":[],"owner":{"account_id":1387645,"reputation":7926,"user_id":1319284,"accept_rate":69,"display_name":"kutschkem"},"comment_count":4,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1574414545,"creation_date":1529578549,"answer_id":50966803,"question_id":50966372,"body_markdown":"Pass the command-line option `--strict-checksums`.\n\nhttps://books.sonatype.com/mvnref-book/reference/running-sect-options.html#running-sect-deps-option\n\n&gt; -C, --strict-checksums \n&gt;\n&gt; Fail the build if checksums don’t match","title":"Configuring maven to check integrity checksums when downloading artifacts from repository and/or building a project?","body":"<p>Pass the command-line option <code>--strict-checksums</code>.</p>\n<p><a href=\"https://books.sonatype.com/mvnref-book/reference/running-sect-options.html#running-sect-deps-option\" rel=\"nofollow noreferrer\">https://books.sonatype.com/mvnref-book/reference/running-sect-options.html#running-sect-deps-option</a></p>\n<blockquote>\n<p>-C, --strict-checksums</p>\n<p>Fail the build if checksums don’t match</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1082613,"reputation":4508,"user_id":1079174,"display_name":"Daniel K&#228;fer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675844124,"creation_date":1675844124,"answer_id":75382921,"question_id":50966372,"body_markdown":"In Maven `4.0.0-alpha-2`, if a downloaded file fails the checksum check, the build will fail. This used to be a warning.\r\n\r\nJira-Issue: https://issues.apache.org/jira/browse/MNG-5728","title":"Configuring maven to check integrity checksums when downloading artifacts from repository and/or building a project?","body":"<p>In Maven <code>4.0.0-alpha-2</code>, if a downloaded file fails the checksum check, the build will fail. This used to be a warning.</p>\n<p>Jira-Issue: <a href=\"https://issues.apache.org/jira/browse/MNG-5728\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/MNG-5728</a></p>\n"},{"tags":[],"owner":{"account_id":165129,"reputation":1388,"user_id":388317,"accept_rate":0,"display_name":"Christian Ullenboom"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675869224,"creation_date":1675869224,"answer_id":75387827,"question_id":50966372,"body_markdown":"If you work with an IDE like IntelliJ, there is an option as well:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iy51p.png","title":"Configuring maven to check integrity checksums when downloading artifacts from repository and/or building a project?","body":"<p>If you work with an IDE like IntelliJ, there is an option as well:</p>\n<p><a href=\"https://i.stack.imgur.com/iy51p.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iy51p.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":1521806,"reputation":11725,"user_id":1421254,"accept_rate":100,"display_name":"Dmitriusan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5553,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"accepted_answer_id":50966803,"answer_count":3,"score":4,"last_activity_date":1675869224,"creation_date":1529577262,"question_id":50966372,"body_markdown":"In some situations (like not having money on balance), my internet provider redirects any HTTP request to a simple html stub.\r\nRecently maven cache on my dev machive was flooded by jar files with content consisting of an html stub from my internet provider. These jar files were not noticed during the build and ended up being deployed to Tomcat as a part of my project artifacts. I noticed problem thanks to warnings about corrupted jar files at Tomcat log. Obviously, I want to avoid this situation in future.\r\n\r\nI see that at a maven cache, there are `*.sha1` files that are expected to contain integrity checksums for jar files. In my case, these `*.sha1` had also wrong content (consisting of an html stub).\r\n\r\nHow can I configure maven to fail during artifact download or during build process if jar file content does not match the integrity checksum? \r\n\r\nThe Maven version I use is `3.3.9`.","title":"Configuring maven to check integrity checksums when downloading artifacts from repository and/or building a project?","body":"<p>In some situations (like not having money on balance), my internet provider redirects any HTTP request to a simple html stub.\nRecently maven cache on my dev machive was flooded by jar files with content consisting of an html stub from my internet provider. These jar files were not noticed during the build and ended up being deployed to Tomcat as a part of my project artifacts. I noticed problem thanks to warnings about corrupted jar files at Tomcat log. Obviously, I want to avoid this situation in future.</p>\n\n<p>I see that at a maven cache, there are <code>*.sha1</code> files that are expected to contain integrity checksums for jar files. In my case, these <code>*.sha1</code> had also wrong content (consisting of an html stub).</p>\n\n<p>How can I configure maven to fail during artifact download or during build process if jar file content does not match the integrity checksum? </p>\n\n<p>The Maven version I use is <code>3.3.9</code>.</p>\n"},{"tags":["javascript","java","aes-gcm"],"comments":[{"owner":{"account_id":9995852,"reputation":6086,"user_id":7393478,"display_name":"Kaddath"},"score":1,"creation_date":1675864030,"post_id":75386394,"comment_id":133019128,"body_markdown":"can you be more precise that &quot;not working&quot;? What does it do? Is there any error? (please include the details in the question itself using the &quot;Edit&quot; link). Note that IMO `throw new Error(error);` in the catch is quite pointless, the point of `try..catch` is to handle the error yourself, by throwing, you just change the place the error is emitted from","body":"can you be more precise that &quot;not working&quot;? What does it do? Is there any error? (please include the details in the question itself using the &quot;Edit&quot; link). Note that IMO <code>throw new Error(error);</code> in the catch is quite pointless, the point of <code>try..catch</code> is to handle the error yourself, by throwing, you just change the place the error is emitted from"},{"owner":{"account_id":27735036,"reputation":1,"user_id":21172805,"display_name":"Navsher"},"score":0,"creation_date":1675867532,"post_id":75386394,"comment_id":133020476,"body_markdown":"@Kaddath That&#39;s totally depends on the requirement whether I want to handle myself or emitted it to some other. Will check further on this. I have added the error that I am getting in console.","body":"@Kaddath That&#39;s totally depends on the requirement whether I want to handle myself or emitted it to some other. Will check further on this. I have added the error that I am getting in console."},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1675868289,"post_id":75386394,"comment_id":133020741,"body_markdown":"Help us out here. The code could be failing at any of the await style calls - crypto.subtle.digest, crypto.subtle.importKey or crypto.subtle.decrypt . Can you add some console logging before and after the three calls that logs the arguments to the calls.","body":"Help us out here. The code could be failing at any of the await style calls - crypto.subtle.digest, crypto.subtle.importKey or crypto.subtle.decrypt . Can you add some console logging before and after the three calls that logs the arguments to the calls."},{"owner":{"account_id":9995852,"reputation":6086,"user_id":7393478,"display_name":"Kaddath"},"score":0,"creation_date":1675868969,"post_id":75386394,"comment_id":133020979,"body_markdown":"You should have a line number in you error, can you tell us which line causes this error? (not just the number, we don&#39;t have the full code so it won&#39;t help as line numbers won&#39;t correspond). @JohnWilliams I think it&#39;s not from `crypto.subtle.decrypt` because of the &quot;Uncaught&quot;","body":"You should have a line number in you error, can you tell us which line causes this error? (not just the number, we don&#39;t have the full code so it won&#39;t help as line numbers won&#39;t correspond). @JohnWilliams I think it&#39;s not from <code>crypto.subtle.decrypt</code> because of the &quot;Uncaught&quot;"},{"owner":{"account_id":27735036,"reputation":1,"user_id":21172805,"display_name":"Navsher"},"score":0,"creation_date":1675869225,"post_id":75386394,"comment_id":133021077,"body_markdown":"@Kaddath I have added console logs. Those will help and error is coming while await crypto.subtle.decrypt(alg, key, ctUint8).","body":"@Kaddath I have added console logs. Those will help and error is coming while await crypto.subtle.decrypt(alg, key, ctUint8)."},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1675870793,"post_id":75386394,"comment_id":133021693,"body_markdown":"What is console.log(&quot;in catch&quot;,e); writing?","body":"What is console.log(&quot;in catch&quot;,e); writing?"},{"owner":{"account_id":27735036,"reputation":1,"user_id":21172805,"display_name":"Navsher"},"score":0,"creation_date":1675871276,"post_id":75386394,"comment_id":133021869,"body_markdown":"@JohnWilliams in catch Error","body":"@JohnWilliams in catch Error"},{"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1675874381,"post_id":75386394,"comment_id":133023072,"body_markdown":"In the WebCrypto code, the key derivation via PBKDF2 is missing. Also, there seems to be an issue with Base64 decoding. By the way, the reuse of key/IV pairs for GCM is a serious vulnerability.","body":"In the WebCrypto code, the key derivation via PBKDF2 is missing. Also, there seems to be an issue with Base64 decoding. By the way, the reuse of key/IV pairs for GCM is a serious vulnerability."},{"owner":{"account_id":27735036,"reputation":1,"user_id":21172805,"display_name":"Navsher"},"score":0,"creation_date":1675875162,"post_id":75386394,"comment_id":133023336,"body_markdown":"@Topaco Can you please share working code equivalent to java","body":"@Topaco Can you please share working code equivalent to java"}],"owner":{"account_id":27735036,"reputation":1,"user_id":21172805,"display_name":"Navsher"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":241,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675869122,"creation_date":1675862336,"question_id":75386394,"body_markdown":"I am trying to decrypt encoded string in javascript using cryto.subtle. I have encoded this string in java using aes gcm. Please let me know the javascript code(using cryto.subtle) equivalent to below java code. Decryption works in java and just for learning I am using same string as key and initialization vector. Javascript code in giving error while decrypting. I am not using nodejs.\r\n\r\n**JAVA code**\r\n\r\n```\r\npackage com.hm.fcs.controller;\r\n\r\nimport java.security.NoSuchAlgorithmException;\r\nimport java.security.spec.InvalidKeySpecException;\r\nimport java.security.spec.KeySpec;\r\nimport java.util.Base64;\r\nimport javax.crypto.Cipher;\r\nimport javax.crypto.SecretKey;\r\nimport javax.crypto.SecretKeyFactory;\r\nimport javax.crypto.spec.GCMParameterSpec;\r\nimport javax.crypto.spec.PBEKeySpec;\r\nimport javax.crypto.spec.SecretKeySpec;\r\n\r\npublic class AesGcmExample\r\n{\r\n    static String plainText = &quot;pathname=editOffer&amp;offerId=8ab076727fdbba68017ff98c196b0000&amp;mode=sea&quot;;\r\n    public static final int GCM_TAG_LENGTH = 16;\r\n\r\n    // Password derived AES 256 bits secret key\r\n    public static SecretKey getAESKeyFromPassword(char[] password, byte[] salt)\r\n            throws NoSuchAlgorithmException, InvalidKeySpecException {\r\n\r\n        SecretKeyFactory factory = SecretKeyFactory.getInstance(&quot;PBKDF2WithHmacSHA256&quot;);\r\n        // iterationCount = 65536\r\n        // keyLength = 256\r\n        KeySpec spec = new PBEKeySpec(password, salt, 65536, 256);\r\n        SecretKey secret = new SecretKeySpec(factory.generateSecret(spec).getEncoded(), &quot;AES&quot;);\r\n        return secret;\r\n\r\n    }\r\n\r\n    public static void main(String[] args) throws Exception\r\n    {\r\n        char[] secretKey = &quot;ZXE-ERW-QDD-EGXL&quot;.toCharArray();\r\n        byte[] IV = &quot;ZXE-ERW-QDD-EGXL&quot;.getBytes();\r\n\r\n//        SecureRandom random = new SecureRandom();\r\n//        random.nextBytes(IV);\r\n        System.out.println(&quot;original text : &quot;+plainText);\r\n        SecretKey key = getAESKeyFromPassword(secretKey,IV);\r\n        byte[] cipherText = encrypt(plainText.getBytes(), key, IV);\r\n        System.out.println(&quot;Encrypted Text : &quot; + Base64.getEncoder().encodeToString(cipherText));\r\n\r\n        String decryptedText = decrypt(cipherText, key, IV);\r\n        System.out.println(&quot;DeCrypted Text : &quot; + decryptedText);\r\n    }\r\n\r\n    public static byte[] encrypt(byte[] plaintext, SecretKey key, byte[] IV) throws Exception\r\n    {\r\n        // Get Cipher Instance\r\n        Cipher cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\r\n\r\n        // Create GCMParameterSpec\r\n        GCMParameterSpec gcmParameterSpec = new GCMParameterSpec(GCM_TAG_LENGTH * 8, IV);\r\n\r\n        // Initialize Cipher for ENCRYPT_MODE\r\n\r\n        cipher.init(Cipher.ENCRYPT_MODE, key, gcmParameterSpec);\r\n\r\n        // Perform Encryption\r\n        byte[] cipherText = cipher.doFinal(plaintext);\r\n\r\n        return cipherText;\r\n    }\r\n\r\n    public static String decrypt(byte[] cipherText, SecretKey key, byte[] IV) throws Exception\r\n    {\r\n        // Get Cipher Instance\r\n        Cipher cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\r\n\r\n        // Create GCMParameterSpec\r\n        GCMParameterSpec gcmParameterSpec = new GCMParameterSpec(GCM_TAG_LENGTH * 8, IV);\r\n\r\n        // Initialize Cipher for DECRYPT_MODE\r\n        cipher.init(Cipher.DECRYPT_MODE, key, gcmParameterSpec);\r\n\r\n        // Perform Decryption\r\n        byte[] decryptedText = cipher.doFinal(cipherText);\r\n\r\n        return new String(decryptedText);\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n**Java script code that I am trying**\r\n\r\n\r\n```\r\nconst pwUtf8 = new TextEncoder().encode(&quot;ZXE-ERW-QDD-EGXL&quot;);\r\n        console.log(&quot;before pwHash&quot;);\r\n        const pwHash = await crypto.subtle.digest(&#39;SHA-256&#39;, pwUtf8);\r\n        console.log(&quot;after pwHash&quot;);\r\n        const ivStr = &quot;ZXE-ERW-QDD-EGXL&quot;;\r\n        // iv as Uint8Array\r\n        const iv = new Uint8Array(Array.from(ivStr).map(ch =&gt; ch.charCodeAt(0)));\r\n\r\n        const alg = { name: &#39;AES-GCM&#39;,\r\n            iv: iv };\r\n        // generate key from pw\r\n        console.log(&quot;before key&quot;);\r\n        const key = await crypto.subtle.importKey(&#39;raw&#39;, pwHash, alg, false, [&#39;decrypt&#39;]);\r\n        console.log(&quot;after key&quot;);\r\n        const ctStr = &quot;lZSyv0+aBh6x2rSdNwo683Oz0TtJDDzSjsIe7muCm3jHgUoSOacsYP3Qiaocr2oms1uIAA7jOHKFhG1ntcuyqnEe/0Z/6xNj5lyDSvcDpYPNAEeD&quot;;\r\n        // ciphertext as Uint8Array\r\n\r\n\r\n        const ctUint8 = new Uint8Array(Array.from(ctStr).map(ch =&gt; ch.charCodeAt(0)));\r\n\r\n\r\n        try {\r\n            // decrypt ciphertext using key\r\n            console.log(&quot;before decrypt&quot;);\r\n            const plainBuffer = await crypto.subtle.decrypt(alg, key, ctUint8);\r\n            console.log(&quot;after decrypt&quot;);\r\n            // return plaintext from ArrayBuffer\r\n            return new TextDecoder().decode(plainBuffer);\r\n        } catch (e) {\r\n\r\n            console.log(&quot;in catch&quot;,e);\r\n        }\r\n```\r\n\r\nPlease help me in resolving this issue.\r\n\r\nTrying the above javascript code to decrypt but not working. Need equivalent code to java in javascript using crypto.subtle. I am not using nodejs. \r\nGetting this in console\r\n       Uncaught (in promise) Error: OperationError\r\n  ","title":"How to decrypt encoded string created via java code(AES GCM) using javascript crypto.subtle?","body":"<p>I am trying to decrypt encoded string in javascript using cryto.subtle. I have encoded this string in java using aes gcm. Please let me know the javascript code(using cryto.subtle) equivalent to below java code. Decryption works in java and just for learning I am using same string as key and initialization vector. Javascript code in giving error while decrypting. I am not using nodejs.</p>\n<p><strong>JAVA code</strong></p>\n<pre><code>package com.hm.fcs.controller;\n\nimport java.security.NoSuchAlgorithmException;\nimport java.security.spec.InvalidKeySpecException;\nimport java.security.spec.KeySpec;\nimport java.util.Base64;\nimport javax.crypto.Cipher;\nimport javax.crypto.SecretKey;\nimport javax.crypto.SecretKeyFactory;\nimport javax.crypto.spec.GCMParameterSpec;\nimport javax.crypto.spec.PBEKeySpec;\nimport javax.crypto.spec.SecretKeySpec;\n\npublic class AesGcmExample\n{\n    static String plainText = &quot;pathname=editOffer&amp;offerId=8ab076727fdbba68017ff98c196b0000&amp;mode=sea&quot;;\n    public static final int GCM_TAG_LENGTH = 16;\n\n    // Password derived AES 256 bits secret key\n    public static SecretKey getAESKeyFromPassword(char[] password, byte[] salt)\n            throws NoSuchAlgorithmException, InvalidKeySpecException {\n\n        SecretKeyFactory factory = SecretKeyFactory.getInstance(&quot;PBKDF2WithHmacSHA256&quot;);\n        // iterationCount = 65536\n        // keyLength = 256\n        KeySpec spec = new PBEKeySpec(password, salt, 65536, 256);\n        SecretKey secret = new SecretKeySpec(factory.generateSecret(spec).getEncoded(), &quot;AES&quot;);\n        return secret;\n\n    }\n\n    public static void main(String[] args) throws Exception\n    {\n        char[] secretKey = &quot;ZXE-ERW-QDD-EGXL&quot;.toCharArray();\n        byte[] IV = &quot;ZXE-ERW-QDD-EGXL&quot;.getBytes();\n\n//        SecureRandom random = new SecureRandom();\n//        random.nextBytes(IV);\n        System.out.println(&quot;original text : &quot;+plainText);\n        SecretKey key = getAESKeyFromPassword(secretKey,IV);\n        byte[] cipherText = encrypt(plainText.getBytes(), key, IV);\n        System.out.println(&quot;Encrypted Text : &quot; + Base64.getEncoder().encodeToString(cipherText));\n\n        String decryptedText = decrypt(cipherText, key, IV);\n        System.out.println(&quot;DeCrypted Text : &quot; + decryptedText);\n    }\n\n    public static byte[] encrypt(byte[] plaintext, SecretKey key, byte[] IV) throws Exception\n    {\n        // Get Cipher Instance\n        Cipher cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\n\n        // Create GCMParameterSpec\n        GCMParameterSpec gcmParameterSpec = new GCMParameterSpec(GCM_TAG_LENGTH * 8, IV);\n\n        // Initialize Cipher for ENCRYPT_MODE\n\n        cipher.init(Cipher.ENCRYPT_MODE, key, gcmParameterSpec);\n\n        // Perform Encryption\n        byte[] cipherText = cipher.doFinal(plaintext);\n\n        return cipherText;\n    }\n\n    public static String decrypt(byte[] cipherText, SecretKey key, byte[] IV) throws Exception\n    {\n        // Get Cipher Instance\n        Cipher cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\n\n        // Create GCMParameterSpec\n        GCMParameterSpec gcmParameterSpec = new GCMParameterSpec(GCM_TAG_LENGTH * 8, IV);\n\n        // Initialize Cipher for DECRYPT_MODE\n        cipher.init(Cipher.DECRYPT_MODE, key, gcmParameterSpec);\n\n        // Perform Decryption\n        byte[] decryptedText = cipher.doFinal(cipherText);\n\n        return new String(decryptedText);\n    }\n}\n\n</code></pre>\n<p><strong>Java script code that I am trying</strong></p>\n<pre><code>const pwUtf8 = new TextEncoder().encode(&quot;ZXE-ERW-QDD-EGXL&quot;);\n        console.log(&quot;before pwHash&quot;);\n        const pwHash = await crypto.subtle.digest('SHA-256', pwUtf8);\n        console.log(&quot;after pwHash&quot;);\n        const ivStr = &quot;ZXE-ERW-QDD-EGXL&quot;;\n        // iv as Uint8Array\n        const iv = new Uint8Array(Array.from(ivStr).map(ch =&gt; ch.charCodeAt(0)));\n\n        const alg = { name: 'AES-GCM',\n            iv: iv };\n        // generate key from pw\n        console.log(&quot;before key&quot;);\n        const key = await crypto.subtle.importKey('raw', pwHash, alg, false, ['decrypt']);\n        console.log(&quot;after key&quot;);\n        const ctStr = &quot;lZSyv0+aBh6x2rSdNwo683Oz0TtJDDzSjsIe7muCm3jHgUoSOacsYP3Qiaocr2oms1uIAA7jOHKFhG1ntcuyqnEe/0Z/6xNj5lyDSvcDpYPNAEeD&quot;;\n        // ciphertext as Uint8Array\n\n\n        const ctUint8 = new Uint8Array(Array.from(ctStr).map(ch =&gt; ch.charCodeAt(0)));\n\n\n        try {\n            // decrypt ciphertext using key\n            console.log(&quot;before decrypt&quot;);\n            const plainBuffer = await crypto.subtle.decrypt(alg, key, ctUint8);\n            console.log(&quot;after decrypt&quot;);\n            // return plaintext from ArrayBuffer\n            return new TextDecoder().decode(plainBuffer);\n        } catch (e) {\n\n            console.log(&quot;in catch&quot;,e);\n        }\n</code></pre>\n<p>Please help me in resolving this issue.</p>\n<p>Trying the above javascript code to decrypt but not working. Need equivalent code to java in javascript using crypto.subtle. I am not using nodejs.\nGetting this in console\nUncaught (in promise) Error: OperationError</p>\n"},{"tags":["java","mysql","mysql-connector"],"comments":[{"owner":{"account_id":11988367,"reputation":540,"user_id":8772274,"display_name":"Nahuel Giani"},"score":0,"creation_date":1675868862,"post_id":75387663,"comment_id":133020955,"body_markdown":"Hi. Probable the problem is that jar file doesnt have the Connector/J inside. Can you open the jar and check if you have that library?","body":"Hi. Probable the problem is that jar file doesnt have the Connector/J inside. Can you open the jar and check if you have that library?"}],"answers":[{"comments":[{"owner":{"account_id":27735866,"reputation":11,"user_id":21173475,"display_name":"I_know_that_I_know_nothing"},"score":1,"creation_date":1675869617,"post_id":75387759,"comment_id":133021225,"body_markdown":"Hi, thanks for your answer, but I have the mysql-connector-j-8.0.32.jar in my &quot;External Libraries&quot; in IntelliJ.","body":"Hi, thanks for your answer, but I have the mysql-connector-j-8.0.32.jar in my &quot;External Libraries&quot; in IntelliJ."},{"owner":{"account_id":11988367,"reputation":540,"user_id":8772274,"display_name":"Nahuel Giani"},"score":0,"creation_date":1675871195,"post_id":75387759,"comment_id":133021835,"body_markdown":"I dont know how it works in IntelliJ, but if is like Spring Tools Suite, it just works in local tests because doesnt package the library into the project","body":"I dont know how it works in IntelliJ, but if is like Spring Tools Suite, it just works in local tests because doesnt package the library into the project"}],"tags":[],"owner":{"account_id":11988367,"reputation":540,"user_id":8772274,"display_name":"Nahuel Giani"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675868956,"creation_date":1675868956,"answer_id":75387759,"question_id":75387663,"body_markdown":"If you doesnt have the connector/J library into your jar file, just add this dependency in your pom.xml:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n        &lt;version&gt;8.0.28&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"No suitable driver found for jdbc:mysql://localhost - Connector/J 8.0.32","body":"<p>If you doesnt have the connector/J library into your jar file, just add this dependency in your pom.xml:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;mysql&lt;/groupId&gt;\n    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n    &lt;version&gt;8.0.28&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":27735866,"reputation":11,"user_id":21173475,"display_name":"I_know_that_I_know_nothing"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":618,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675868956,"creation_date":1675868539,"question_id":75387663,"body_markdown":"Good day,\r\n\r\nWhat I have in mind:\r\nI have rented a server (Ubuntu 22.04) and installed a mysql server there (8.0.32-0ubuntu0.22.04.2). I now wanted to run a jar file on the server (Java: OpenJDK Runtime Environment build 18.0.2-ea+9-Ubuntu-222.04) which automatically writes data to my database.\r\n\r\nProblem:\r\nWhen I ran the mysql server on the home computer with the jar program on the PC it worked without any problems.\r\nWhen I accessed the Mysql server on the server from my home computer, I was also able to write data automatically.\r\nWhen I now tried to execute the jar file on the server in order to access the Mysql server on the server, I always received the error message:\r\n&quot;No suitable driver found for jdbc:mysql://localhost&quot;.\r\n\r\nWhat I have done so far:\r\n-I enabled port 3306 in the firewall.\r\n-I tried to specify the IP address of my server instead of jdbc:mysql://localhost (jdbc:mysql://XXXXXXX).\r\n-I have inserted the jar file for the Connector/J 8.0.32 (Platform Independent) into my IntelliJ project.\r\n-My user for the mysql server has admin rights and the password is also correct.\r\n\r\nNow I don&#39;t know what to do. From my PC, I can use the jar file to automatically write data to the mysql server on the server, so the connector/j should work, but it doesn&#39;t work with the jar file on the server.\r\n","title":"No suitable driver found for jdbc:mysql://localhost - Connector/J 8.0.32","body":"<p>Good day,</p>\n<p>What I have in mind:\nI have rented a server (Ubuntu 22.04) and installed a mysql server there (8.0.32-0ubuntu0.22.04.2). I now wanted to run a jar file on the server (Java: OpenJDK Runtime Environment build 18.0.2-ea+9-Ubuntu-222.04) which automatically writes data to my database.</p>\n<p>Problem:\nWhen I ran the mysql server on the home computer with the jar program on the PC it worked without any problems.\nWhen I accessed the Mysql server on the server from my home computer, I was also able to write data automatically.\nWhen I now tried to execute the jar file on the server in order to access the Mysql server on the server, I always received the error message:\n&quot;No suitable driver found for jdbc:mysql://localhost&quot;.</p>\n<p>What I have done so far:\n-I enabled port 3306 in the firewall.\n-I tried to specify the IP address of my server instead of jdbc:mysql://localhost (jdbc:mysql://XXXXXXX).\n-I have inserted the jar file for the Connector/J 8.0.32 (Platform Independent) into my IntelliJ project.\n-My user for the mysql server has admin rights and the password is also correct.</p>\n<p>Now I don't know what to do. From my PC, I can use the jar file to automatically write data to the mysql server on the server, so the connector/j should work, but it doesn't work with the jar file on the server.</p>\n"},{"tags":["java","hashicorp-vault"],"comments":[{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1675868993,"post_id":75387719,"comment_id":133020990,"body_markdown":"Is the goal to stop the client from reading the secrets? The secrets that are encoded in the Vault configuration/image/whatnot that you are sending them? The secrets that your application needs access to that you also send them in binary form? If so, any attempts to do this are bound to fail: you&#39;re sending them the secrets for them to use. You can&#39;t make it impossible for them to also read the secrets.","body":"Is the goal to stop the client from reading the secrets? The secrets that are encoded in the Vault configuration/image/whatnot that you are sending them? The secrets that your application needs access to that you also send them in binary form? If so, any attempts to do this are bound to fail: you&#39;re sending them the secrets for them to use. You can&#39;t make it impossible for them to also read the secrets."},{"owner":{"account_id":1376376,"reputation":101,"user_id":1310305,"accept_rate":80,"display_name":"user1310305"},"score":0,"creation_date":1675869436,"post_id":75387719,"comment_id":133021160,"body_markdown":"I want only the java application to read those secrets. But they need to be stored locally because the java application is not connected to internet","body":"I want only the java application to read those secrets. But they need to be stored locally because the java application is not connected to internet"},{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1675869503,"post_id":75387719,"comment_id":133021185,"body_markdown":"You probably can set up such an image. But there&#39;s no reliable way to stop a dedicated customer from reading the secrets from that image, if your Java application can read them. The simplest first approach is to just debug the Java application and step through when it reads the secrets.","body":"You probably can set up such an image. But there&#39;s no reliable way to stop a dedicated customer from reading the secrets from that image, if your Java application can read them. The simplest first approach is to just debug the Java application and step through when it reads the secrets."},{"owner":{"account_id":289850,"reputation":9684,"user_id":591064,"accept_rate":67,"display_name":"ixe013"},"score":0,"creation_date":1676055369,"post_id":75387719,"comment_id":133067499,"body_markdown":"In other words, your solution would be as insecure as storing the secrets in an encrypted file with the key or password in plain text next to it. Instead of taking 2 minutes to crack, it might take 5, but your solution is not worth the effort. +If your application cannot connect to anything, what does it need secrets for?","body":"In other words, your solution would be as insecure as storing the secrets in an encrypted file with the key or password in plain text next to it. Instead of taking 2 minutes to crack, it might take 5, but your solution is not worth the effort. +If your application cannot connect to anything, what does it need secrets for?"}],"owner":{"account_id":1376376,"reputation":101,"user_id":1310305,"accept_rate":80,"display_name":"user1310305"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675868811,"creation_date":1675868811,"question_id":75387719,"body_markdown":"this is my use case. I have a lecagy java application and this application needs some secrets to performs some tasks. This java application is shipped to the client as an executable jar and can&#39;t not connect over internet.\r\n\r\nI am wondering it could be possible de deploy also a HashiCorp Vault already configured (initialised...)with those secrets. That&#39;s means configure the vault, add secrets, generate ssl certificates and then ship this to the client aside this java application so that secrets will not be visible.","title":"Is it possible de deploy an HashiCorp Vault already configured on the client side?","body":"<p>this is my use case. I have a lecagy java application and this application needs some secrets to performs some tasks. This java application is shipped to the client as an executable jar and can't not connect over internet.</p>\n<p>I am wondering it could be possible de deploy also a HashiCorp Vault already configured (initialised...)with those secrets. That's means configure the vault, add secrets, generate ssl certificates and then ship this to the client aside this java application so that secrets will not be visible.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":2,"creation_date":1675868406,"post_id":75387610,"comment_id":133020778,"body_markdown":"What *specific* exception do you get?","body":"What <i>specific</i> exception do you get?"}],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675868426,"creation_date":1675868426,"answer_id":75387637,"question_id":75387610,"body_markdown":"Collect the stream to a `List` first. An `IntStream` is not a `Collection`.\r\n\r\n```java\r\ncolumnNum.addAll(IntStream.range(0, row.size())\r\n    .filter(i-&gt; StringUtils.isNotEmpty(row.get(i)))\r\n\t.boxed().collect(Collectors.toList())); // or .toList() with Java 16+\r\n```","title":"Get all indexes of an array with a certain condition in java","body":"<p>Collect the stream to a <code>List</code> first. An <code>IntStream</code> is not a <code>Collection</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>columnNum.addAll(IntStream.range(0, row.size())\n    .filter(i-&gt; StringUtils.isNotEmpty(row.get(i)))\n    .boxed().collect(Collectors.toList())); // or .toList() with Java 16+\n</code></pre>\n"},{"tags":[],"owner":{"account_id":382395,"reputation":1179,"user_id":737591,"accept_rate":60,"display_name":"csviri"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675868779,"creation_date":1675868779,"answer_id":75387715,"question_id":75387610,"body_markdown":"You have to use boxed:\r\n\r\n    var list = List.of(&quot;&quot;,&quot;a&quot;,&quot;&quot;,&quot;b&quot;);\r\n\r\n    var set = IntStream.range(0, list.size())\r\n            .filter(i -&gt; \r\n       !list.get(i).isEmpty()).boxed().collect(Collectors.toSet());\r\n\r\n","title":"Get all indexes of an array with a certain condition in java","body":"<p>You have to use boxed:</p>\n<pre><code>var list = List.of(&quot;&quot;,&quot;a&quot;,&quot;&quot;,&quot;b&quot;);\n\nvar set = IntStream.range(0, list.size())\n        .filter(i -&gt; \n   !list.get(i).isEmpty()).boxed().collect(Collectors.toSet());\n</code></pre>\n"}],"owner":{"account_id":14277005,"reputation":1,"user_id":10312755,"display_name":"shani"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1675870147,"answer_count":2,"score":-1,"last_activity_date":1675868779,"creation_date":1675868306,"question_id":75387610,"body_markdown":"I have a list of strings and I want to add to a set all indexes from array where the string is not empty, \r\n\r\nI tried doing this:\r\n\r\n    columnNum.addAll((Collection&lt;? extends Integer&gt;) IntStream.range(0, row.size()).filter(i-&gt; StringUtils.isNotEmpty(row.get(i))));\r\n\r\nbut I get an exception","title":"Get all indexes of an array with a certain condition in java","body":"<p>I have a list of strings and I want to add to a set all indexes from array where the string is not empty,</p>\n<p>I tried doing this:</p>\n<pre><code>columnNum.addAll((Collection&lt;? extends Integer&gt;) IntStream.range(0, row.size()).filter(i-&gt; StringUtils.isNotEmpty(row.get(i))));\n</code></pre>\n<p>but I get an exception</p>\n"},{"tags":["java","android","androidx"],"comments":[{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1675863213,"post_id":75386135,"comment_id":133018822,"body_markdown":"It looks to me that *something* has started a thread/process with a weird non-UTF-8 encoded name and then *something else* in the Android code chokes on that. I don&#39;t see a way that the `DefaultTaskExecutor` could accidentally do this, so it&#39;s likely to be a different code (probably some predecessor with similar goals?) You say you get this on a few devices, can you reproduce it locally or do you only have statistics of this problem?","body":"It looks to me that <i>something</i> has started a thread/process with a weird non-UTF-8 encoded name and then <i>something else</i> in the Android code chokes on that. I don&#39;t see a way that the <code>DefaultTaskExecutor</code> could accidentally do this, so it&#39;s likely to be a different code (probably some predecessor with similar goals?) You say you get this on a few devices, can you reproduce it locally or do you only have statistics of this problem?"},{"owner":{"account_id":10024624,"reputation":1279,"user_id":7413137,"display_name":"Shaifali Rajput"},"score":0,"creation_date":1676032868,"post_id":75386135,"comment_id":133060584,"body_markdown":"@JoachimSauer for a few devices it&#39;s reproducible. and it&#39;s happening only when I open the app after killing the app. when I change the language and use the app without killing from recents its working fine the moment I kill the app forcefully and open it again it causes the above crash.","body":"@JoachimSauer for a few devices it&#39;s reproducible. and it&#39;s happening only when I open the app after killing the app. when I change the language and use the app without killing from recents its working fine the moment I kill the app forcefully and open it again it causes the above crash."}],"owner":{"account_id":10024624,"reputation":1279,"user_id":7413137,"display_name":"Shaifali Rajput"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675868577,"creation_date":1675861012,"question_id":75386135,"body_markdown":"```none\r\n     java_vm_ext.cc:594] JNI DETECTED ERROR IN APPLICATION: input is not valid Modified UTF-8: illegal continuation byte 0xa\r\n     java_vm_ext.cc:594]     string: &#39;arch_disk_io_�\r\n     java_vm_ext.cc:594] &#39;\r\n     java_vm_ext.cc:594]     input: &#39;0x61 0x72 0x63 0x68 0x5f 0x64 0x69 0x73 0x6b 0x5f 0x69 0x6f 0x5f 0xe0 0xa7 &lt;0x0a&gt;&#39;\r\n     java_vm_ext.cc:594]     in call to NewStringUTF\r\n     java_vm_ext.cc:594]     from boolean android.os.Process.readProcFile(java.lang.String, int[], java.lang.String[], long[], float[]) 2023-02-07 18:26:40.796 13309-13331/om.friendimobile.vm D/VRI[SplashActivity]: dispatchAppVisibility visible:false\r\n```\r\n\r\nThis is what I am getting in my logcat after this application closes.\r\nI know **arch_disk_io_�** this string is causing issue but this string is used in `DefaultTaskExecutor` class in androidx dependency so I don&#39;t know how can I solve this.\r\n\r\nAlso I am getting this issue in few devices.","title":"JNI DETECTED ERROR IN APPLICATION: input is not valid Modified UTF-8: illegal continuation byte 0xa","body":"<pre class=\"lang-none prettyprint-override\"><code>     java_vm_ext.cc:594] JNI DETECTED ERROR IN APPLICATION: input is not valid Modified UTF-8: illegal continuation byte 0xa\n     java_vm_ext.cc:594]     string: 'arch_disk_io_�\n     java_vm_ext.cc:594] '\n     java_vm_ext.cc:594]     input: '0x61 0x72 0x63 0x68 0x5f 0x64 0x69 0x73 0x6b 0x5f 0x69 0x6f 0x5f 0xe0 0xa7 &lt;0x0a&gt;'\n     java_vm_ext.cc:594]     in call to NewStringUTF\n     java_vm_ext.cc:594]     from boolean android.os.Process.readProcFile(java.lang.String, int[], java.lang.String[], long[], float[]) 2023-02-07 18:26:40.796 13309-13331/om.friendimobile.vm D/VRI[SplashActivity]: dispatchAppVisibility visible:false\n</code></pre>\n<p>This is what I am getting in my logcat after this application closes.\nI know <strong>arch_disk_io_�</strong> this string is causing issue but this string is used in <code>DefaultTaskExecutor</code> class in androidx dependency so I don't know how can I solve this.</p>\n<p>Also I am getting this issue in few devices.</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"answers":[{"comments":[{"owner":{"account_id":20358977,"reputation":35,"user_id":16671123,"display_name":"Yousef Ali"},"score":0,"creation_date":1675867438,"post_id":75372424,"comment_id":133020449,"body_markdown":"Thank you for you help, the authentication is saved in the parent class `AbstractAuthenticationProcessingFilter` look [here](https://github.com/spring-projects/spring-security/blob/c4485a8909119f88559dd4200cd3506024749529/web/src/main/java/org/springframework/security/web/authentication/AbstractAuthenticationProcessingFilter.java#L320). I just got the solution [here](https://github.com/spring-projects/spring-security/issues/12636#issuecomment-1422569183). The issue was that the default `SecurityContextRepository` was changed to `DelegatingSecurityContextRepository` and I had to set it myself.","body":"Thank you for you help, the authentication is saved in the parent class <code>AbstractAuthenticationProcessingFilter</code> look <a href=\"https://github.com/spring-projects/spring-security/blob/c4485a8909119f88559dd4200cd3506024749529/web/src/main/java/org/springframework/security/web/authentication/AbstractAuthenticationProcessingFilter.java#L320\" rel=\"nofollow noreferrer\">here</a>. I just got the solution <a href=\"https://github.com/spring-projects/spring-security/issues/12636#issuecomment-1422569183\" rel=\"nofollow noreferrer\">here</a>. The issue was that the default <code>SecurityContextRepository</code> was changed to <code>DelegatingSecurityContextRepository</code> and I had to set it myself."}],"tags":[],"owner":{"account_id":10247655,"reputation":89,"user_id":7562955,"display_name":"zzpzaf"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675855624,"creation_date":1675767643,"answer_id":75372424,"question_id":75289494,"body_markdown":"The SecurityContext is not saved by default after successful authentication. Moreover, the UsernamePasswordAuthenticationFilter is a form-login-based mechanism, so the Authentication object cannot be detected by the SessionManagementFilter, as the filter is not invoked during the authenticating request. So, you query the wrong Authentication object which in your case defaults to an Anonymous user. \r\n\r\nSo, first, after a successful authentication you have to save the authenticated Authentication object(returned from the attemptAuthentication() method) in the Security Context. You can do that by overriding the successfulAuthentication() method of your filter.\r\n\r\n    @Override\r\n    protected void successfulAuthentication(jakarta.servlet.http.HttpServletRequest request, jakarta.servlet.http.HttpServletResponse response,  jakarta.servlet.FilterChain chain, Authentication authResult) throws IOException, jakarta.servlet.ServletException {\r\n    \r\n            SecurityContext context = SecurityContextHolder.createEmptyContext();\r\n            context.setAuthentication(authResult);\r\n            //SecurityContextHolder.setContext(context);\r\n            HttpSessionSecurityContextRepository secRepo = new HttpSessionSecurityContextRepository();\r\n            secRepo.saveContext(context, request, response);\r\n    \r\n            super.successfulAuthentication(request, response, chain, authResult);\r\n    }\r\n\r\n\r\nYou have to save it, in a persistent way, i.e. it has to be preserved during the whole session. A way to do so is via using an instance of the HttpSessionSecurityContextRepository class and using its saveContext() method to save it.\r\n\r\n\r\nAfter that, in your handler method for the default “/” home(), you can obtain the saved SecurityContextHolder, again by using an instance of the HttpSessionSecurityContextRepository class and via its loadDeferredContext() method. \r\n\r\nNote, that for this purpose, first, it is necessary to bring the request object (returned from your filter) in your handler home() method.  (For completeness you can do the same for the response object as well). \r\n\r\nAfter that, you can obtain the authenticated user from the extracted security context.\r\n\r\n    @GetMapping(&quot;/&quot;)\r\n    public String home(jakarta.servlet.http.HttpServletRequest request,\r\n                       jakarta.servlet.http.HttpServletResponse response) {\r\n       \r\n        //Authentication auth = SecurityContextHolder.getContext().getAuthentication();\r\n    \r\n        HttpSessionSecurityContextRepository secRepo = new HttpSessionSecurityContextRepository();\r\n        Authentication auth = secRepo.loadDeferredContext(request).get().getAuthentication();  \r\n    \r\n        if (auth == null) return &quot;null&quot;;\r\n    \r\n        return (String) auth.getPrincipal();\r\n    \r\n    }\r\n\r\nOne more thing that should be mentioned, is that if you want you can invalidate the session in your handler. This is a &quot;must&quot; for security reasons, especially if you use a STATELESS application e.g.a REST API application.\r\n \r\nHope this helped you!\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Getting anonymous user after authentication with custom filter","body":"<p>The SecurityContext is not saved by default after successful authentication. Moreover, the UsernamePasswordAuthenticationFilter is a form-login-based mechanism, so the Authentication object cannot be detected by the SessionManagementFilter, as the filter is not invoked during the authenticating request. So, you query the wrong Authentication object which in your case defaults to an Anonymous user.</p>\n<p>So, first, after a successful authentication you have to save the authenticated Authentication object(returned from the attemptAuthentication() method) in the Security Context. You can do that by overriding the successfulAuthentication() method of your filter.</p>\n<pre><code>@Override\nprotected void successfulAuthentication(jakarta.servlet.http.HttpServletRequest request, jakarta.servlet.http.HttpServletResponse response,  jakarta.servlet.FilterChain chain, Authentication authResult) throws IOException, jakarta.servlet.ServletException {\n\n        SecurityContext context = SecurityContextHolder.createEmptyContext();\n        context.setAuthentication(authResult);\n        //SecurityContextHolder.setContext(context);\n        HttpSessionSecurityContextRepository secRepo = new HttpSessionSecurityContextRepository();\n        secRepo.saveContext(context, request, response);\n\n        super.successfulAuthentication(request, response, chain, authResult);\n}\n</code></pre>\n<p>You have to save it, in a persistent way, i.e. it has to be preserved during the whole session. A way to do so is via using an instance of the HttpSessionSecurityContextRepository class and using its saveContext() method to save it.</p>\n<p>After that, in your handler method for the default “/” home(), you can obtain the saved SecurityContextHolder, again by using an instance of the HttpSessionSecurityContextRepository class and via its loadDeferredContext() method.</p>\n<p>Note, that for this purpose, first, it is necessary to bring the request object (returned from your filter) in your handler home() method.  (For completeness you can do the same for the response object as well).</p>\n<p>After that, you can obtain the authenticated user from the extracted security context.</p>\n<pre><code>@GetMapping(&quot;/&quot;)\npublic String home(jakarta.servlet.http.HttpServletRequest request,\n                   jakarta.servlet.http.HttpServletResponse response) {\n   \n    //Authentication auth = SecurityContextHolder.getContext().getAuthentication();\n\n    HttpSessionSecurityContextRepository secRepo = new HttpSessionSecurityContextRepository();\n    Authentication auth = secRepo.loadDeferredContext(request).get().getAuthentication();  \n\n    if (auth == null) return &quot;null&quot;;\n\n    return (String) auth.getPrincipal();\n\n}\n</code></pre>\n<p>One more thing that should be mentioned, is that if you want you can invalidate the session in your handler. This is a &quot;must&quot; for security reasons, especially if you use a STATELESS application e.g.a REST API application.</p>\n<p>Hope this helped you!</p>\n"},{"comments":[{"owner":{"account_id":10247655,"reputation":89,"user_id":7562955,"display_name":"zzpzaf"},"score":1,"creation_date":1675878452,"post_id":75387671,"comment_id":133024532,"body_markdown":"Nice hearing you solved the problem! (However, be aware, not to make your app stateful -of course, if you don’t wish to).","body":"Nice hearing you solved the problem! (However, be aware, not to make your app stateful -of course, if you don’t wish to)."}],"tags":[],"owner":{"account_id":20358977,"reputation":35,"user_id":16671123,"display_name":"Yousef Ali"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675868562,"creation_date":1675868562,"answer_id":75387671,"question_id":75289494,"body_markdown":"I got the solution for my problem from Marcus when I posted an issue on the spring security repository on github because I thought it was a bug. If you want to check the answer yourself you can go [here](https://github.com/spring-projects/spring-security/issues/12636#issuecomment-1422569183)\r\n\r\nThe issue was that the my custom filter was using `RequestAttributeSecurityContextRepository` but the default was `DelegatingSecurityContextRepository`, hence made the authentication not getting saved between requests. \r\n\r\nSetting the `SecurityContextRepository` in `jsonUsernamePasswordAuthenticationFilter` to `DelegatingSecurityContextRepository` will solve the issue.\r\n```\r\njsonUsernamePasswordAuthenticationFilter.setSecurityContextRepository(new DelegatingSecurityContextRepository(\r\n                new RequestAttributeSecurityContextRepository(),\r\n                new HttpSessionSecurityContextRepository()\r\n        ));\r\n\r\n```","title":"Getting anonymous user after authentication with custom filter","body":"<p>I got the solution for my problem from Marcus when I posted an issue on the spring security repository on github because I thought it was a bug. If you want to check the answer yourself you can go <a href=\"https://github.com/spring-projects/spring-security/issues/12636#issuecomment-1422569183\" rel=\"nofollow noreferrer\">here</a></p>\n<p>The issue was that the my custom filter was using <code>RequestAttributeSecurityContextRepository</code> but the default was <code>DelegatingSecurityContextRepository</code>, hence made the authentication not getting saved between requests.</p>\n<p>Setting the <code>SecurityContextRepository</code> in <code>jsonUsernamePasswordAuthenticationFilter</code> to <code>DelegatingSecurityContextRepository</code> will solve the issue.</p>\n<pre><code>jsonUsernamePasswordAuthenticationFilter.setSecurityContextRepository(new DelegatingSecurityContextRepository(\n                new RequestAttributeSecurityContextRepository(),\n                new HttpSessionSecurityContextRepository()\n        ));\n\n</code></pre>\n"}],"owner":{"account_id":20358977,"reputation":35,"user_id":16671123,"display_name":"Yousef Ali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1094,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75387671,"answer_count":2,"score":0,"last_activity_date":1675868562,"creation_date":1675108544,"question_id":75289494,"body_markdown":"I have post this question but with different format and got no answer and I think I didn&#39;t provide enough info.\r\n\r\nWhat I am trying to do is parse a login request payload that contain a JSON with username and password. So, I had to extend `UsernamePasswordAuthenticationFilter` and replace the `UsernamePasswordAuthenticationFilter` in filter chain with my custom filter.\r\n\r\nI&#39;ve done that and registered my custom filter as you can see in the log from `DefaultSecurityFilterChain`: \r\n\r\n    2023-01-30T22:33:13.993+03:00  INFO 20436 --- [           main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1ec09a68, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7da9b32c, org.springframework.security.web.context.SecurityContextHolderFilter@2b6ff016, org.springframework.security.web.header.HeaderWriterFilter@118c1faa, org.springframework.security.web.authentication.logout.LogoutFilter@4f5df012, ali.yousef.chatty.config.security.JsonUsernamePasswordAuthenticationFilter@7e5c8c80, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7a491a60, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4a0f4282, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@46df794e, org.springframework.security.web.access.ExceptionTranslationFilter@470866d1, org.springframework.security.web.access.intercept.AuthorizationFilter@1d0fc0bc]\r\n\r\nUntil now everything works fine. \r\n\r\nHere is the code:\r\n\r\n***SecurityConfig.java***\r\n\r\n```java\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfig\r\n{\r\n    @Bean\r\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\r\n        return authenticationConfiguration.getAuthenticationManager();\r\n    }\r\n\r\n    @Bean\r\n    PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http, AuthenticationManager authenticationManager) throws Exception {\r\n        JsonUsernamePasswordAuthenticationFilter jsonUsernamePasswordAuthenticationFilter = new JsonUsernamePasswordAuthenticationFilter();\r\n        jsonUsernamePasswordAuthenticationFilter.setAuthenticationManager(authenticationManager);\r\n\r\n        http\r\n            .csrf().disable()\r\n            .formLogin().disable()\r\n            .addFilterAfter(jsonUsernamePasswordAuthenticationFilter, UsernamePasswordAuthenticationFilter.class)\r\n            .authorizeHttpRequests()\r\n                .requestMatchers(&quot;/api/**&quot;).authenticated()\r\n                .anyRequest().permitAll();\r\n\r\n        return http.build();\r\n    }\r\n}\r\n```\r\n\r\n***JsonUsernamePasswordAuthenticationFilter.java***\r\n\r\n```java\r\npublic class JsonUsernamePasswordAuthenticationFilter extends UsernamePasswordAuthenticationFilter {\r\n    Logger logger = LoggerFactory.getLogger(JsonUsernamePasswordAuthenticationFilter.class);\r\n\r\n    @Override\r\n    public Authentication attemptAuthentication(HttpServletRequest request, HttpServletResponse response) throws AuthenticationException {\r\n        UsernamePasswordDto usernamePasswordDto;\r\n\r\n        try {\r\n            usernamePasswordDto = new ObjectMapper().readValue(request.getInputStream(), UsernamePasswordDto.class);\r\n            logger.info(usernamePasswordDto.toString());\r\n        } catch (IOException ioe) {\r\n            throw new AuthenticationServiceException(ioe.getMessage(), ioe);\r\n        }\r\n\r\n        UsernamePasswordAuthenticationToken authToken =\r\n                UsernamePasswordAuthenticationToken.unauthenticated(usernamePasswordDto.getUsername(), usernamePasswordDto.getPassword());\r\n\r\n        Authentication result = this.getAuthenticationManager().authenticate(authToken);\r\n\r\n        for (GrantedAuthority a : result.getAuthorities()) {\r\n            logger.info(a.getAuthority());\r\n        }\r\n\r\n        return result;\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n***TestController.java***\r\n``` lang-java\r\n@RestController\r\npublic class TestController\r\n{\r\n    @GetMapping(&quot;/&quot;)\r\n    public String home() {\r\n        Authentication auth = SecurityContextHolder.getContext().getAuthentication();\r\n\r\n        if (auth == null)\r\n            return &quot;null&quot;;\r\n\r\n        return auth.getName();\r\n    }\r\n}\r\n```\r\n\r\nI send a request to `/login` and I get `anonymousUser` response. I thought I missed something in the custom filter so I printed the authorities the user has and got `ROLE_USER`. \r\n\r\nHere is the full output\r\n\r\n```\r\n2023-01-30T22:48:30.329+03:00  INFO 20900 --- [           main] ali.yousef.chatty.ChattyApplication      : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n2023-01-30T22:48:30.851+03:00  INFO 20900 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n2023-01-30T22:48:30.903+03:00  INFO 20900 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 37 ms. Found 1 JPA repository interfaces.\r\n2023-01-30T22:48:31.355+03:00  INFO 20900 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n2023-01-30T22:48:31.361+03:00  INFO 20900 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2023-01-30T22:48:31.361+03:00  INFO 20900 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.5]\r\n2023-01-30T22:48:31.431+03:00  INFO 20900 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n2023-01-30T22:48:31.432+03:00  INFO 20900 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1064 ms\r\n2023-01-30T22:48:31.559+03:00  INFO 20900 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n2023-01-30T22:48:31.591+03:00  INFO 20900 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.1.6.Final\r\n2023-01-30T22:48:31.696+03:00  WARN 20900 --- [           main] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead\r\n2023-01-30T22:48:31.781+03:00  INFO 20900 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n2023-01-30T22:48:31.983+03:00  INFO 20900 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@77ea806f\r\n2023-01-30T22:48:31.984+03:00  INFO 20900 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\r\n2023-01-30T22:48:32.032+03:00  INFO 20900 --- [           main] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect\r\n2023-01-30T22:48:32.847+03:00  INFO 20900 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n2023-01-30T22:48:32.853+03:00  INFO 20900 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n2023-01-30T22:48:33.070+03:00  WARN 20900 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\r\n2023-01-30T22:48:33.220+03:00  INFO 20900 --- [           main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]\r\n2023-01-30T22:48:33.519+03:00  INFO 20900 --- [           main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5cd6a827, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6cd65042, org.springframework.security.web.context.SecurityContextHolderFilter@5c30decf, org.springframework.security.web.header.HeaderWriterFilter@5aefdb9e, org.springframework.security.web.authentication.logout.LogoutFilter@50d6af87, ali.yousef.chatty.config.security.JsonUsernamePasswordAuthenticationFilter@7674f9d4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4a0f4282, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@356ab368, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4b5ceb5d, org.springframework.security.web.access.ExceptionTranslationFilter@99f75e4, org.springframework.security.web.access.intercept.AuthorizationFilter@7da9b32c]\r\n2023-01-30T22:48:33.688+03:00  INFO 20900 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#39;&#39;\r\n2023-01-30T22:48:33.689+03:00  INFO 20900 --- [           main] o.s.m.s.b.SimpleBrokerMessageHandler     : Starting...\r\n2023-01-30T22:48:33.690+03:00  INFO 20900 --- [           main] o.s.m.s.b.SimpleBrokerMessageHandler     : BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@5d3a238]]\r\n2023-01-30T22:48:33.690+03:00  INFO 20900 --- [           main] o.s.m.s.b.SimpleBrokerMessageHandler     : Started.\r\n2023-01-30T22:48:33.696+03:00  INFO 20900 --- [           main] ali.yousef.chatty.ChattyApplication      : Started ChattyApplication in 3.673 seconds (process running for 3.952)\r\n2023-01-30T22:48:52.209+03:00  INFO 20900 --- [nio-8080-exec-3] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;\r\n2023-01-30T22:48:52.209+03:00  INFO 20900 --- [nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Initializing Servlet &#39;dispatcherServlet&#39;\r\n2023-01-30T22:48:52.209+03:00  INFO 20900 --- [nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms\r\n2023-01-30T22:48:52.250+03:00  INFO 20900 --- [nio-8080-exec-3] JsonUsernamePasswordAuthenticationFilter : UsernamePasswordDto(username=user01, password=password)\r\n2023-01-30T22:48:52.421+03:00  INFO 20900 --- [nio-8080-exec-3] JsonUsernamePasswordAuthenticationFilter : ROLE_USER\r\n```\r\n\r\nWhat I think is after finishing the authentication process and sending a redirect to homepage the context is deleted somehow or cleared, but I&#39;m not Spring Security expert.\r\n\r\nI&#39;ve done this in older versions with `WebSecurityConfigurerAdapter` without any problem but using this way of configuration didn&#39;t work.\r\n\r\nI really tried everything I could and I would appreciate any help.","title":"Getting anonymous user after authentication with custom filter","body":"<p>I have post this question but with different format and got no answer and I think I didn't provide enough info.</p>\n<p>What I am trying to do is parse a login request payload that contain a JSON with username and password. So, I had to extend <code>UsernamePasswordAuthenticationFilter</code> and replace the <code>UsernamePasswordAuthenticationFilter</code> in filter chain with my custom filter.</p>\n<p>I've done that and registered my custom filter as you can see in the log from <code>DefaultSecurityFilterChain</code>:</p>\n<pre><code>2023-01-30T22:33:13.993+03:00  INFO 20436 --- [           main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1ec09a68, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7da9b32c, org.springframework.security.web.context.SecurityContextHolderFilter@2b6ff016, org.springframework.security.web.header.HeaderWriterFilter@118c1faa, org.springframework.security.web.authentication.logout.LogoutFilter@4f5df012, ali.yousef.chatty.config.security.JsonUsernamePasswordAuthenticationFilter@7e5c8c80, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7a491a60, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4a0f4282, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@46df794e, org.springframework.security.web.access.ExceptionTranslationFilter@470866d1, org.springframework.security.web.access.intercept.AuthorizationFilter@1d0fc0bc]\n</code></pre>\n<p>Until now everything works fine.</p>\n<p>Here is the code:</p>\n<p><em><strong>SecurityConfig.java</strong></em></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfig\n{\n    @Bean\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\n        return authenticationConfiguration.getAuthenticationManager();\n    }\n\n    @Bean\n    PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http, AuthenticationManager authenticationManager) throws Exception {\n        JsonUsernamePasswordAuthenticationFilter jsonUsernamePasswordAuthenticationFilter = new JsonUsernamePasswordAuthenticationFilter();\n        jsonUsernamePasswordAuthenticationFilter.setAuthenticationManager(authenticationManager);\n\n        http\n            .csrf().disable()\n            .formLogin().disable()\n            .addFilterAfter(jsonUsernamePasswordAuthenticationFilter, UsernamePasswordAuthenticationFilter.class)\n            .authorizeHttpRequests()\n                .requestMatchers(&quot;/api/**&quot;).authenticated()\n                .anyRequest().permitAll();\n\n        return http.build();\n    }\n}\n</code></pre>\n<p><em><strong>JsonUsernamePasswordAuthenticationFilter.java</strong></em></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class JsonUsernamePasswordAuthenticationFilter extends UsernamePasswordAuthenticationFilter {\n    Logger logger = LoggerFactory.getLogger(JsonUsernamePasswordAuthenticationFilter.class);\n\n    @Override\n    public Authentication attemptAuthentication(HttpServletRequest request, HttpServletResponse response) throws AuthenticationException {\n        UsernamePasswordDto usernamePasswordDto;\n\n        try {\n            usernamePasswordDto = new ObjectMapper().readValue(request.getInputStream(), UsernamePasswordDto.class);\n            logger.info(usernamePasswordDto.toString());\n        } catch (IOException ioe) {\n            throw new AuthenticationServiceException(ioe.getMessage(), ioe);\n        }\n\n        UsernamePasswordAuthenticationToken authToken =\n                UsernamePasswordAuthenticationToken.unauthenticated(usernamePasswordDto.getUsername(), usernamePasswordDto.getPassword());\n\n        Authentication result = this.getAuthenticationManager().authenticate(authToken);\n\n        for (GrantedAuthority a : result.getAuthorities()) {\n            logger.info(a.getAuthority());\n        }\n\n        return result;\n    }\n}\n\n</code></pre>\n<p><em><strong>TestController.java</strong></em></p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\npublic class TestController\n{\n    @GetMapping(&quot;/&quot;)\n    public String home() {\n        Authentication auth = SecurityContextHolder.getContext().getAuthentication();\n\n        if (auth == null)\n            return &quot;null&quot;;\n\n        return auth.getName();\n    }\n}\n</code></pre>\n<p>I send a request to <code>/login</code> and I get <code>anonymousUser</code> response. I thought I missed something in the custom filter so I printed the authorities the user has and got <code>ROLE_USER</code>.</p>\n<p>Here is the full output</p>\n<pre><code>2023-01-30T22:48:30.329+03:00  INFO 20900 --- [           main] ali.yousef.chatty.ChattyApplication      : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-01-30T22:48:30.851+03:00  INFO 20900 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2023-01-30T22:48:30.903+03:00  INFO 20900 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 37 ms. Found 1 JPA repository interfaces.\n2023-01-30T22:48:31.355+03:00  INFO 20900 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2023-01-30T22:48:31.361+03:00  INFO 20900 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2023-01-30T22:48:31.361+03:00  INFO 20900 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.5]\n2023-01-30T22:48:31.431+03:00  INFO 20900 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2023-01-30T22:48:31.432+03:00  INFO 20900 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1064 ms\n2023-01-30T22:48:31.559+03:00  INFO 20900 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\n2023-01-30T22:48:31.591+03:00  INFO 20900 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.1.6.Final\n2023-01-30T22:48:31.696+03:00  WARN 20900 --- [           main] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead\n2023-01-30T22:48:31.781+03:00  INFO 20900 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2023-01-30T22:48:31.983+03:00  INFO 20900 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@77ea806f\n2023-01-30T22:48:31.984+03:00  INFO 20900 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\n2023-01-30T22:48:32.032+03:00  INFO 20900 --- [           main] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect\n2023-01-30T22:48:32.847+03:00  INFO 20900 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n2023-01-30T22:48:32.853+03:00  INFO 20900 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\n2023-01-30T22:48:33.070+03:00  WARN 20900 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\n2023-01-30T22:48:33.220+03:00  INFO 20900 --- [           main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]\n2023-01-30T22:48:33.519+03:00  INFO 20900 --- [           main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5cd6a827, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6cd65042, org.springframework.security.web.context.SecurityContextHolderFilter@5c30decf, org.springframework.security.web.header.HeaderWriterFilter@5aefdb9e, org.springframework.security.web.authentication.logout.LogoutFilter@50d6af87, ali.yousef.chatty.config.security.JsonUsernamePasswordAuthenticationFilter@7674f9d4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4a0f4282, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@356ab368, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4b5ceb5d, org.springframework.security.web.access.ExceptionTranslationFilter@99f75e4, org.springframework.security.web.access.intercept.AuthorizationFilter@7da9b32c]\n2023-01-30T22:48:33.688+03:00  INFO 20900 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''\n2023-01-30T22:48:33.689+03:00  INFO 20900 --- [           main] o.s.m.s.b.SimpleBrokerMessageHandler     : Starting...\n2023-01-30T22:48:33.690+03:00  INFO 20900 --- [           main] o.s.m.s.b.SimpleBrokerMessageHandler     : BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@5d3a238]]\n2023-01-30T22:48:33.690+03:00  INFO 20900 --- [           main] o.s.m.s.b.SimpleBrokerMessageHandler     : Started.\n2023-01-30T22:48:33.696+03:00  INFO 20900 --- [           main] ali.yousef.chatty.ChattyApplication      : Started ChattyApplication in 3.673 seconds (process running for 3.952)\n2023-01-30T22:48:52.209+03:00  INFO 20900 --- [nio-8080-exec-3] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'\n2023-01-30T22:48:52.209+03:00  INFO 20900 --- [nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'\n2023-01-30T22:48:52.209+03:00  INFO 20900 --- [nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms\n2023-01-30T22:48:52.250+03:00  INFO 20900 --- [nio-8080-exec-3] JsonUsernamePasswordAuthenticationFilter : UsernamePasswordDto(username=user01, password=password)\n2023-01-30T22:48:52.421+03:00  INFO 20900 --- [nio-8080-exec-3] JsonUsernamePasswordAuthenticationFilter : ROLE_USER\n</code></pre>\n<p>What I think is after finishing the authentication process and sending a redirect to homepage the context is deleted somehow or cleared, but I'm not Spring Security expert.</p>\n<p>I've done this in older versions with <code>WebSecurityConfigurerAdapter</code> without any problem but using this way of configuration didn't work.</p>\n<p>I really tried everything I could and I would appreciate any help.</p>\n"},{"tags":["java","hook","frida"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1550967029,"post_id":54847512,"comment_id":96467519,"body_markdown":"We&#39;d need to see more code.  I&#39;m guessing that &#39;hook&#39; hasn&#39;t been properly declared.","body":"We&#39;d need to see more code.  I&#39;m guessing that &#39;hook&#39; hasn&#39;t been properly declared."},{"owner":{"account_id":15345365,"reputation":17,"user_id":11070954,"display_name":"Tolga Taş&#231;ı"},"score":0,"creation_date":1550967126,"post_id":54847512,"comment_id":96467540,"body_markdown":"var hook = Java.use(&quot;com.android.m.a&quot;);\npackage com.android.m\na = class","body":"var hook = Java.use(&quot;com.android.m.a&quot;); package com.android.m a = class"}],"answers":[{"comments":[{"owner":{"account_id":15345365,"reputation":17,"user_id":11070954,"display_name":"Tolga Taş&#231;ı"},"score":0,"creation_date":1550968867,"post_id":54847647,"comment_id":96467797,"body_markdown":"var hook = Java.use(&quot;com.android.m.a&quot;);","body":"var hook = Java.use(&quot;com.android.m.a&quot;);"},{"owner":{"account_id":15356640,"reputation":821,"user_id":11078764,"display_name":"nissim abehcera"},"score":0,"creation_date":1550972165,"post_id":54847647,"comment_id":96468314,"body_markdown":"replace this [ ]  to x , as second parameter of get_content method.","body":"replace this [ ]  to x , as second parameter of get_content method."},{"owner":{"account_id":15345365,"reputation":17,"user_id":11070954,"display_name":"Tolga Taş&#231;ı"},"score":0,"creation_date":1550972453,"post_id":54847647,"comment_id":96468369,"body_markdown":"how to get x veriable ? hook.x no get :(","body":"how to get x veriable ? hook.x no get :("},{"owner":{"account_id":15345365,"reputation":17,"user_id":11070954,"display_name":"Tolga Taş&#231;ı"},"score":0,"creation_date":1550972573,"post_id":54847647,"comment_id":96468387,"body_markdown":"Unable to access instance field without an instance","body":"Unable to access instance field without an instance"},{"owner":{"account_id":15356640,"reputation":821,"user_id":11078764,"display_name":"nissim abehcera"},"score":0,"creation_date":1550972890,"post_id":54847647,"comment_id":96468435,"body_markdown":"private List x = new ArrayList();\n\nhook.get_content(&quot;asdasd&quot;,x);","body":"private List x = new ArrayList();  hook.get_content(&quot;asdasd&quot;,x);"}],"tags":[],"owner":{"account_id":15356640,"reputation":821,"user_id":11078764,"display_name":"nissim abehcera"},"comment_count":5,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1550968463,"creation_date":1550968463,"answer_id":54847647,"question_id":54847512,"body_markdown":"Where is the declaration of &#39;hook&#39; object ?\r\nYou can not use this object before you create it.\r\n","title":"create &#39;java.util.List&#39; Frida","body":"<p>Where is the declaration of 'hook' object ?\nYou can not use this object before you create it.</p>\n"},{"comments":[{"owner":{"account_id":15345365,"reputation":17,"user_id":11070954,"display_name":"Tolga Taş&#231;ı"},"score":0,"creation_date":1551030548,"post_id":54852965,"comment_id":96480960,"body_markdown":"argument types do not match any of:\\n\\t.overload(\\&#39;java.lang.String\\&#39;, \\&#39;java.util.List\\&#39;, \\&#39;boolean\\&#39;, \\&#39;java.lang.Integer\\&#39;)\nvar str = Java.use(&quot;java.lang.String&quot;).$new(&quot;sdsadsadasd&quot;)\nvar ArrayList = Java.use(&#39;java.util.ArrayList&#39;);\nvar items = ArrayList.$new();\nitems.add(&#39;a string&#39;);\nhook_.a(str,items,true,1);","body":"argument types do not match any of:\\n\\t.overload(\\&#39;java.lang.String\\&#39;, \\&#39;java.util.List\\&#39;, \\&#39;boolean\\&#39;, \\&#39;java.lang.Integer\\&#39;) var str = Java.use(&quot;java.lang.String&quot;).$new(&quot;sdsadsadasd&quot;) var ArrayList = Java.use(&#39;java.util.ArrayList&#39;); var items = ArrayList.$new(); items.add(&#39;a string&#39;); hook_.a(str,items,true,1);"},{"owner":{"account_id":3139322,"reputation":2855,"user_id":2655092,"accept_rate":80,"display_name":"whoopdedoo"},"score":0,"creation_date":1551034001,"post_id":54852965,"comment_id":96482023,"body_markdown":"@TolgaTaş&#231;ı share screen shot or full log in pastebin we can&#39;t understand it like that.. but it seems the method ur trying to hook has a signature with 4 parameters.. it&#39;s a very informative log.. take a look at my update","body":"@TolgaTaş&#231;ı share screen shot or full log in pastebin we can&#39;t understand it like that.. but it seems the method ur trying to hook has a signature with 4 parameters.. it&#39;s a very informative log.. take a look at my update"}],"tags":[],"owner":{"account_id":3139322,"reputation":2855,"user_id":2655092,"accept_rate":80,"display_name":"whoopdedoo"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675868470,"creation_date":1551019104,"answer_id":54852965,"question_id":54847512,"body_markdown":"Frida doesn&#39;t cast Javascript array `[]` to java.util.List.\r\n\r\n**Solution**:\r\n```js\r\nhook.get_content(&quot;asdasd&quot;, Java.use(&#39;java.util.ArrayList&#39;).$new());\r\n```\r\n\r\n\r\nAn example of list with items\r\n```js\r\nvar ArrayList = Java.use(&#39;java.util.ArrayList&#39;);\r\nvar items = ArrayList.$new();\r\nitems.add(&#39;a string&#39;);\r\nhook.get_content(&quot;asdasd&quot;, arr);\r\n```\r\n\r\nFor your second question \r\n\r\n&gt; cannot call instance method without an instance\r\n\r\ntake a look [here][1]\r\n\r\n**Update:**\r\n```js\r\nhook.get_content(&quot;asdasd&quot;, Java.use(&#39;java.util.ArrayList&#39;).$new(), true, 1);\r\n\r\n```\r\n  [1]: https://github.com/frida/frida/issues/272","title":"create &#39;java.util.List&#39; Frida","body":"<p>Frida doesn't cast Javascript array <code>[]</code> to java.util.List.</p>\n<p><strong>Solution</strong>:</p>\n<pre class=\"lang-js prettyprint-override\"><code>hook.get_content(&quot;asdasd&quot;, Java.use('java.util.ArrayList').$new());\n</code></pre>\n<p>An example of list with items</p>\n<pre class=\"lang-js prettyprint-override\"><code>var ArrayList = Java.use('java.util.ArrayList');\nvar items = ArrayList.$new();\nitems.add('a string');\nhook.get_content(&quot;asdasd&quot;, arr);\n</code></pre>\n<p>For your second question</p>\n<blockquote>\n<p>cannot call instance method without an instance</p>\n</blockquote>\n<p>take a look <a href=\"https://github.com/frida/frida/issues/272\" rel=\"nofollow noreferrer\">here</a></p>\n<p><strong>Update:</strong></p>\n<pre class=\"lang-js prettyprint-override\"><code>hook.get_content(&quot;asdasd&quot;, Java.use('java.util.ArrayList').$new(), true, 1);\n\n</code></pre>\n"}],"owner":{"account_id":15345365,"reputation":17,"user_id":11070954,"display_name":"Tolga Taş&#231;ı"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5791,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":54852965,"answer_count":2,"score":-1,"last_activity_date":1675868470,"creation_date":1550966957,"question_id":54847512,"body_markdown":"i create frida java.util.List\r\n\r\nargument types : &#39;java.lang.String&#39;, &#39;java.util.List&#39;\r\n\r\nno accept error argument types do not match any of:\r\n\r\n    private List x = new ArrayList();\r\n    \r\n    public String get_content(String str, List list)\r\n    \r\nmy javascript code\r\n\r\n    hook.get_content(&quot;asdasd&quot;,[]);\r\n\r\ni have another question\r\n\r\nwhen I run the function from the library under a library\r\nI get this error\r\n\r\ncannot call instance method without an instance","title":"create &#39;java.util.List&#39; Frida","body":"<p>i create frida java.util.List</p>\n\n<p>argument types : 'java.lang.String', 'java.util.List'</p>\n\n<p>no accept error argument types do not match any of:</p>\n\n<pre><code>private List x = new ArrayList();\n\npublic String get_content(String str, List list)\n</code></pre>\n\n<p>my javascript code</p>\n\n<pre><code>hook.get_content(\"asdasd\",[]);\n</code></pre>\n\n<p>i have another question</p>\n\n<p>when I run the function from the library under a library\nI get this error</p>\n\n<p>cannot call instance method without an instance</p>\n"},{"tags":["java","android","firebase-realtime-database","google-maps-android-api-2","android-geofence"],"comments":[{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":2,"creation_date":1675868381,"post_id":75387517,"comment_id":133020769,"body_markdown":"Sounds like a 3 step process: 1) load the local from Firebase, 2) pass that to your Geofencing client, 3) .... &#129300; OK, so maybe it&#39;s a 2 step process. &#128578; --- If you&#39;ve done each of these steps separately, but are struggling to make them work together, please edit your question to [show the minimal-but-complete of where you got stuck](http://stackoverflow.com/help/mcve) (read the link please, it&#39;s helpful).","body":"Sounds like a 3 step process: 1) load the local from Firebase, 2) pass that to your Geofencing client, 3) .... 🤔 OK, so maybe it&#39;s a 2 step process. 🙂 --- If you&#39;ve done each of these steps separately, but are struggling to make them work together, please edit your question to <a href=\"http://stackoverflow.com/help/mcve\">show the minimal-but-complete of where you got stuck</a> (read the link please, it&#39;s helpful)."},{"owner":{"account_id":27405976,"reputation":1,"user_id":20906644,"display_name":"Chaitanya Gorule"},"score":0,"creation_date":1676121333,"post_id":75387517,"comment_id":133076263,"body_markdown":"what i have done currently: My app creates geofence and monitors my device location|||--What i want to do is: Execute geofence events on another devices location that i have fetched from firebase|||-- To execute geofencing on my own location i used this line//geofencingClient=LocationServices.getGeofencingClient(this);) in following line (this) in geofencing Client tells on what location geofencing is to be implemented |||--To execute geofencing on (location in form of coordinates)that i retrieving from firebase how should i initialize geofencingClient","body":"what i have done currently: My app creates geofence and monitors my device location|||--What i want to do is: Execute geofence events on another devices location that i have fetched from firebase|||-- To execute geofencing on my own location i used this line//geofencingClient=LocationServices.getGeofencingClient(&zwnj;&#8203;this);) in following line (this) in geofencing Client tells on what location geofencing is to be implemented |||--To execute geofencing on (location in form of coordinates)that i retrieving from firebase how should i initialize geofencingClient"}],"owner":{"account_id":27405976,"reputation":1,"user_id":20906644,"display_name":"Chaitanya Gorule"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675868408,"creation_date":1675867902,"question_id":75387517,"body_markdown":"I want to create an application that tracks childs location through firebase and implement geofence on that location. How do i initiate GeofenceClient with that location from firebase instead of my own location?\r\n\r\nI have created an app that is fetching location from database of other user which is in latitude and logitude and can be converted to latlng datatype. I have also created feature of geofencing but heres the problem : This geofence check my location for geofence(i suppose this is happening because i have intiated geofence Client as     //geofencingClient = LocationServices.getGeofencingClient(this);)\r\n\r\n\r\n\r\nWhat should i do to pass the location of other user that i fetched from firebase in form of latitude and longitude in this geofencingClient.","title":"Can we allow our app user to add geofencing radius in android app?","body":"<p>I want to create an application that tracks childs location through firebase and implement geofence on that location. How do i initiate GeofenceClient with that location from firebase instead of my own location?</p>\n<p>I have created an app that is fetching location from database of other user which is in latitude and logitude and can be converted to latlng datatype. I have also created feature of geofencing but heres the problem : This geofence check my location for geofence(i suppose this is happening because i have intiated geofence Client as     //geofencingClient = LocationServices.getGeofencingClient(this);)</p>\n<p>What should i do to pass the location of other user that i fetched from firebase in form of latitude and longitude in this geofencingClient.</p>\n"},{"tags":["java","oracle","jpa","eclipselink","persistence.xml"],"answers":[{"tags":[],"owner":{"account_id":6668766,"reputation":51,"user_id":5145534,"display_name":"Paul Howells"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1449871387,"creation_date":1449871387,"answer_id":34233274,"question_id":34229944,"body_markdown":"The exception is being caused by EclipseLink using VARCHAR as the default for unknown types.  Oddly the AttibuteConverter.convertToEntityAttribute method receives an Object array instead of a Struct for the SDO_GEOMETRY type but expects a Struct to be returned by the AttibuteConverter.convertToDatabaseColumn method.  This is probably a symptom of the underlying problem.  There may be a way to tell EclipseLink what the type is using annotations or some other configuration but I could not discover how so this is my workaround.\r\n\r\nI created an EclipseLink SessionEventListener that uses the prelogin method to identify Entity methods that return the Geometry type.  I use the DatabaseField object to create a new ObjectRelationalDatabaseField then I set the sqlType property to Struct and the sqlTypeName property to &quot;MDSYS.SDO_GEOMETRY&quot;.  then I update the mapping with the new ObjectRelationalDatabaseField object.  The EclipseLink code now has enough information to correctly set the Statement.setNull (String parameterName, int sqlType, String typeName) method.\r\n\r\nThe SessionEventListener is configured in the persistence.xml and the null insert is now successful.\r\n\r\nGeometryInitializerSessionEventListener class\r\n\r\n    package persistence.v1.dao.jpa2.listeners;\r\n\r\n    import java.lang.reflect.Method;\r\n    import java.sql.Types;\r\n    import java.util.Map;\r\n    import java.util.Map.Entry;\r\n    import java.util.Vector;\r\n\r\n    import org.eclipse.persistence.descriptors.ClassDescriptor;\r\n    import org.eclipse.persistence.internal.descriptors.MethodAttributeAccessor;\r\n    import org.eclipse.persistence.mappings.DatabaseMapping;\r\n    import org.eclipse.persistence.mappings.DirectToFieldMapping;\r\n    import org.eclipse.persistence.mappings.structures.ObjectRelationalDatabaseField;\r\n    import org.eclipse.persistence.sessions.Session;\r\n    import org.eclipse.persistence.sessions.SessionEvent;\r\n    import org.eclipse.persistence.sessions.SessionEventListener;\r\n\r\n    import com.vividsolutions.jts.geom.Geometry;\r\n\r\n    public class GeometryInitializerSessionEventListener implements SessionEventListener {\r\n\r\n    // Omitting empty interface methods\r\n\r\n    @Override\r\n    public void preLogin(SessionEvent event) {\r\n\r\n        Session s = event.getSession();\r\n        \r\n\t\t@SuppressWarnings(&quot;rawtypes&quot;)\r\n\t\tMap&lt;Class, ClassDescriptor&gt; descriptorMap = s.getDescriptors();\r\n\r\n\t\tfor (@SuppressWarnings(&quot;rawtypes&quot;) Entry&lt;Class, ClassDescriptor&gt; entry : descriptorMap.entrySet()) {\r\n            Class&lt;?&gt; cls = entry.getKey();\r\n            ClassDescriptor desc = entry.getValue();\r\n \r\n\t\t\tVector&lt;DatabaseMapping&gt; mappings = desc.getMappings();\r\n\t\t\tfor(DatabaseMapping mapping:mappings) {\r\n\t\r\n\t\t\t\tif (mapping.getAttributeAccessor() instanceof MethodAttributeAccessor) {\r\n                    MethodAttributeAccessor maa = (MethodAttributeAccessor) mapping.getAttributeAccessor();\r\n                    \r\n                    String methodName = maa.getGetMethodName();\r\n                    \r\n                    Method method;\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tmethod = cls.getMethod(methodName, new Class[]{});\r\n\t\t\t\t\t} catch (NoSuchMethodException e) {\r\n\t\t\t\t\t\tthrow new RuntimeException(e);\r\n\t\t\t\t\t} catch (SecurityException e) {\r\n\t\t\t\t\t\tthrow new RuntimeException(e);\r\n\t\t\t\t\t}\r\n                    \r\n                    Class&lt;?&gt; returnType = method.getReturnType();\r\n                    \r\n                    if(Geometry.class.equals(returnType)) {\r\n                    \t\r\n                    \tDirectToFieldMapping directToFieldMapping = (DirectToFieldMapping) mapping;\r\n                    \t\r\n                    \tObjectRelationalDatabaseField objectRelationalDatabaseField = new ObjectRelationalDatabaseField(mapping.getField());\r\n                    \tobjectRelationalDatabaseField.setSqlType(Types.STRUCT);\r\n                    \tobjectRelationalDatabaseField.setSqlTypeName(&quot;MDSYS.SDO_GEOMETRY&quot;);\r\n                    \tdirectToFieldMapping.setField(objectRelationalDatabaseField);\r\n                    }\r\n                }\r\n\t\t\t}\r\n\t\t}\r\n    }\r\n    }\r\n\r\nPersistence.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;persistence version=&quot;2.0&quot;\r\n\txmlns=&quot;http://java.sun.com/xml/ns/persistence&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://java.sun.com/xml/ns/persistence http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd&quot;&gt;\r\n\t\r\n\t&lt;persistence-unit name=&quot;mainPersistence&quot;&gt;\r\n\t\t&lt;provider&gt;org.eclipse.persistence.jpa.PersistenceProvider&lt;/provider\r\n        &lt;class&gt;persistence.v1.dao.jpa2.converters.GeometryConverter&lt;/class&gt;\r\n\t\t\r\n\t\t&lt;class&gt;persistence.v1.dto.AuthorizationDto&lt;/class&gt;\r\n\t\t\r\n\t\t&lt;properties&gt;\r\n\t\t\t&lt;property name=&quot;eclipselink.weaving&quot; value=&quot;false&quot;/&gt;\r\n\r\n\t\t\t&lt;property name=&quot;eclipselink.session-event-listener&quot;  value=&quot;persistence.v1.dao.jpa2.listeners.GeometryInitializerSessionEventListener&quot;/&gt;\r\n\t\t&lt;/properties&gt;\r\n\t&lt;/persistence-unit&gt;\r\n&lt;/persistence&gt;","title":"Insert Null Struct using EclipseLink JPA","body":"<p>The exception is being caused by EclipseLink using VARCHAR as the default for unknown types.  Oddly the AttibuteConverter.convertToEntityAttribute method receives an Object array instead of a Struct for the SDO_GEOMETRY type but expects a Struct to be returned by the AttibuteConverter.convertToDatabaseColumn method.  This is probably a symptom of the underlying problem.  There may be a way to tell EclipseLink what the type is using annotations or some other configuration but I could not discover how so this is my workaround.</p>\n\n<p>I created an EclipseLink SessionEventListener that uses the prelogin method to identify Entity methods that return the Geometry type.  I use the DatabaseField object to create a new ObjectRelationalDatabaseField then I set the sqlType property to Struct and the sqlTypeName property to \"MDSYS.SDO_GEOMETRY\".  then I update the mapping with the new ObjectRelationalDatabaseField object.  The EclipseLink code now has enough information to correctly set the Statement.setNull (String parameterName, int sqlType, String typeName) method.</p>\n\n<p>The SessionEventListener is configured in the persistence.xml and the null insert is now successful.</p>\n\n<p>GeometryInitializerSessionEventListener class</p>\n\n<pre><code>package persistence.v1.dao.jpa2.listeners;\n\nimport java.lang.reflect.Method;\nimport java.sql.Types;\nimport java.util.Map;\nimport java.util.Map.Entry;\nimport java.util.Vector;\n\nimport org.eclipse.persistence.descriptors.ClassDescriptor;\nimport org.eclipse.persistence.internal.descriptors.MethodAttributeAccessor;\nimport org.eclipse.persistence.mappings.DatabaseMapping;\nimport org.eclipse.persistence.mappings.DirectToFieldMapping;\nimport org.eclipse.persistence.mappings.structures.ObjectRelationalDatabaseField;\nimport org.eclipse.persistence.sessions.Session;\nimport org.eclipse.persistence.sessions.SessionEvent;\nimport org.eclipse.persistence.sessions.SessionEventListener;\n\nimport com.vividsolutions.jts.geom.Geometry;\n\npublic class GeometryInitializerSessionEventListener implements SessionEventListener {\n\n// Omitting empty interface methods\n\n@Override\npublic void preLogin(SessionEvent event) {\n\n    Session s = event.getSession();\n\n    @SuppressWarnings(\"rawtypes\")\n    Map&lt;Class, ClassDescriptor&gt; descriptorMap = s.getDescriptors();\n\n    for (@SuppressWarnings(\"rawtypes\") Entry&lt;Class, ClassDescriptor&gt; entry : descriptorMap.entrySet()) {\n        Class&lt;?&gt; cls = entry.getKey();\n        ClassDescriptor desc = entry.getValue();\n\n        Vector&lt;DatabaseMapping&gt; mappings = desc.getMappings();\n        for(DatabaseMapping mapping:mappings) {\n\n            if (mapping.getAttributeAccessor() instanceof MethodAttributeAccessor) {\n                MethodAttributeAccessor maa = (MethodAttributeAccessor) mapping.getAttributeAccessor();\n\n                String methodName = maa.getGetMethodName();\n\n                Method method;\n                try {\n                    method = cls.getMethod(methodName, new Class[]{});\n                } catch (NoSuchMethodException e) {\n                    throw new RuntimeException(e);\n                } catch (SecurityException e) {\n                    throw new RuntimeException(e);\n                }\n\n                Class&lt;?&gt; returnType = method.getReturnType();\n\n                if(Geometry.class.equals(returnType)) {\n\n                    DirectToFieldMapping directToFieldMapping = (DirectToFieldMapping) mapping;\n\n                    ObjectRelationalDatabaseField objectRelationalDatabaseField = new ObjectRelationalDatabaseField(mapping.getField());\n                    objectRelationalDatabaseField.setSqlType(Types.STRUCT);\n                    objectRelationalDatabaseField.setSqlTypeName(\"MDSYS.SDO_GEOMETRY\");\n                    directToFieldMapping.setField(objectRelationalDatabaseField);\n                }\n            }\n        }\n    }\n}\n}\n</code></pre>\n\n<p>Persistence.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;persistence version=\"2.0\"\nxmlns=\"http://java.sun.com/xml/ns/persistence\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\nxsi:schemaLocation=\"http://java.sun.com/xml/ns/persistence http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd\"&gt;\n\n&lt;persistence-unit name=\"mainPersistence\"&gt;\n    &lt;provider&gt;org.eclipse.persistence.jpa.PersistenceProvider&lt;/provider\n    &lt;class&gt;persistence.v1.dao.jpa2.converters.GeometryConverter&lt;/class&gt;\n\n    &lt;class&gt;persistence.v1.dto.AuthorizationDto&lt;/class&gt;\n\n    &lt;properties&gt;\n        &lt;property name=\"eclipselink.weaving\" value=\"false\"/&gt;\n\n        &lt;property name=\"eclipselink.session-event-listener\"  value=\"persistence.v1.dao.jpa2.listeners.GeometryInitializerSessionEventListener\"/&gt;\n    &lt;/properties&gt;\n&lt;/persistence-unit&gt;\n</code></pre>\n\n<p></p>\n"},{"tags":[],"owner":{"account_id":125638,"reputation":41,"user_id":321540,"display_name":"Michael Junkin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1532042771,"creation_date":1532042771,"answer_id":51433036,"question_id":34229944,"body_markdown":"The above answer is correct when method annotations are being used. When using field annotations, use the following implementation of GeometryInitializerSessionEventListener:\r\n\r\n\tpackage persistence.dao.jpa2.listeners;\r\n\r\n\timport java.lang.reflect.Field;\r\n\timport java.sql.Types;\r\n\timport java.util.Map;\r\n\timport java.util.Map.Entry;\r\n\timport java.util.Vector;\r\n\r\n\timport org.eclipse.persistence.descriptors.ClassDescriptor;\r\n\timport org.eclipse.persistence.internal.descriptors.InstanceVariableAttributeAccessor;\r\n\timport org.eclipse.persistence.mappings.DatabaseMapping;\r\n\timport org.eclipse.persistence.mappings.DirectToFieldMapping;\r\n\timport org.eclipse.persistence.mappings.structures.ObjectRelationalDatabaseField;\r\n\timport org.eclipse.persistence.sessions.Session;\r\n\timport org.eclipse.persistence.sessions.SessionEvent;\r\n\timport org.eclipse.persistence.sessions.SessionEventListener;\r\n\r\n\timport com.vividsolutions.jts.geom.Geometry;\r\n\r\n\tpublic class GeometryInitializerSessionEventListener implements SessionEventListener\r\n\t{\r\n\t\t@Override\r\n\t\tpublic void preLogin(SessionEvent event)\r\n\t\t{\r\n\t\t\tSession s = event.getSession();\r\n\r\n\t\t\t@SuppressWarnings(&quot;rawtypes&quot;)\r\n\t\t\tMap&lt;Class, ClassDescriptor&gt; descriptorMap = s.getDescriptors();\r\n\r\n\t\t\tfor (@SuppressWarnings(&quot;rawtypes&quot;)\r\n\t\t\tEntry&lt;Class, ClassDescriptor&gt; entry: descriptorMap.entrySet())\r\n\t\t\t{\r\n\t\t\t\tClassDescriptor desc = entry.getValue();\r\n\t\t\t\tVector&lt;DatabaseMapping&gt; mappings = desc.getMappings();\r\n\t\t\t\tfor (DatabaseMapping mapping: mappings)\r\n\t\t\t\t{\r\n\t\t\t\t\tif (mapping.getAttributeAccessor() instanceof InstanceVariableAttributeAccessor)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tInstanceVariableAttributeAccessor ivaa = (InstanceVariableAttributeAccessor)mapping.getAttributeAccessor();\r\n\r\n\t\t\t\t\t\ttry\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tField field = getFieldInHierarchy(desc.getJavaClass(), ivaa.getAttributeName());\r\n\t\t\t\t\t\t\tif (Geometry.class.equals(field.getType()))\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tDirectToFieldMapping directToFieldMapping = (DirectToFieldMapping)mapping;\r\n\r\n\t\t\t\t\t\t\t\tObjectRelationalDatabaseField objectRelationalDatabaseField = new ObjectRelationalDatabaseField(mapping.getField());\r\n\t\t\t\t\t\t\t\tobjectRelationalDatabaseField.setSqlType(Types.STRUCT);\r\n\t\t\t\t\t\t\t\tobjectRelationalDatabaseField.setSqlTypeName(&quot;MDSYS.SDO_GEOMETRY&quot;);\r\n\t\t\t\t\t\t\t\tdirectToFieldMapping.setField(objectRelationalDatabaseField);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tcatch (IllegalArgumentException e)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tthrow new IllegalStateException(e);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tprivate static Field getFieldInHierarchy(Class&lt;?&gt; clazz, String fieldName)\r\n\t\t{\r\n\t\t\tfor (Class&lt;?&gt; c = clazz; c != null; c = c.getSuperclass())\r\n\t\t\t{\r\n\t\t\t\ttry\r\n\t\t\t\t{\r\n\t\t\t\t\treturn c.getDeclaredField(fieldName);\r\n\t\t\t\t}\r\n\t\t\t\tcatch (final NoSuchFieldException e)\r\n\t\t\t\t{\r\n\t\t\t\t\t// continue, trying parent\r\n\t\t\t\t}\r\n\t\t\t\tcatch (Exception e)\r\n\t\t\t\t{\r\n\t\t\t\t\tthrow new IllegalArgumentException(&quot;Cannot access field &quot; + clazz.getName() + &quot;.&quot; + fieldName, e);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tthrow new IllegalArgumentException(&quot;Cannot find field &quot; + clazz.getName() + &quot;.&quot; + fieldName);\r\n\t\t}\r\n\t}","title":"Insert Null Struct using EclipseLink JPA","body":"<p>The above answer is correct when method annotations are being used. When using field annotations, use the following implementation of GeometryInitializerSessionEventListener:</p>\n\n<pre><code>package persistence.dao.jpa2.listeners;\n\nimport java.lang.reflect.Field;\nimport java.sql.Types;\nimport java.util.Map;\nimport java.util.Map.Entry;\nimport java.util.Vector;\n\nimport org.eclipse.persistence.descriptors.ClassDescriptor;\nimport org.eclipse.persistence.internal.descriptors.InstanceVariableAttributeAccessor;\nimport org.eclipse.persistence.mappings.DatabaseMapping;\nimport org.eclipse.persistence.mappings.DirectToFieldMapping;\nimport org.eclipse.persistence.mappings.structures.ObjectRelationalDatabaseField;\nimport org.eclipse.persistence.sessions.Session;\nimport org.eclipse.persistence.sessions.SessionEvent;\nimport org.eclipse.persistence.sessions.SessionEventListener;\n\nimport com.vividsolutions.jts.geom.Geometry;\n\npublic class GeometryInitializerSessionEventListener implements SessionEventListener\n{\n    @Override\n    public void preLogin(SessionEvent event)\n    {\n        Session s = event.getSession();\n\n        @SuppressWarnings(\"rawtypes\")\n        Map&lt;Class, ClassDescriptor&gt; descriptorMap = s.getDescriptors();\n\n        for (@SuppressWarnings(\"rawtypes\")\n        Entry&lt;Class, ClassDescriptor&gt; entry: descriptorMap.entrySet())\n        {\n            ClassDescriptor desc = entry.getValue();\n            Vector&lt;DatabaseMapping&gt; mappings = desc.getMappings();\n            for (DatabaseMapping mapping: mappings)\n            {\n                if (mapping.getAttributeAccessor() instanceof InstanceVariableAttributeAccessor)\n                {\n                    InstanceVariableAttributeAccessor ivaa = (InstanceVariableAttributeAccessor)mapping.getAttributeAccessor();\n\n                    try\n                    {\n                        Field field = getFieldInHierarchy(desc.getJavaClass(), ivaa.getAttributeName());\n                        if (Geometry.class.equals(field.getType()))\n                        {\n                            DirectToFieldMapping directToFieldMapping = (DirectToFieldMapping)mapping;\n\n                            ObjectRelationalDatabaseField objectRelationalDatabaseField = new ObjectRelationalDatabaseField(mapping.getField());\n                            objectRelationalDatabaseField.setSqlType(Types.STRUCT);\n                            objectRelationalDatabaseField.setSqlTypeName(\"MDSYS.SDO_GEOMETRY\");\n                            directToFieldMapping.setField(objectRelationalDatabaseField);\n                        }\n                    }\n                    catch (IllegalArgumentException e)\n                    {\n                        throw new IllegalStateException(e);\n                    }\n                }\n            }\n        }\n    }\n\n    private static Field getFieldInHierarchy(Class&lt;?&gt; clazz, String fieldName)\n    {\n        for (Class&lt;?&gt; c = clazz; c != null; c = c.getSuperclass())\n        {\n            try\n            {\n                return c.getDeclaredField(fieldName);\n            }\n            catch (final NoSuchFieldException e)\n            {\n                // continue, trying parent\n            }\n            catch (Exception e)\n            {\n                throw new IllegalArgumentException(\"Cannot access field \" + clazz.getName() + \".\" + fieldName, e);\n            }\n        }\n\n        throw new IllegalArgumentException(\"Cannot find field \" + clazz.getName() + \".\" + fieldName);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16419918,"reputation":2129,"user_id":11861378,"display_name":"Ad&#225;n Escobar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675868314,"creation_date":1675868314,"answer_id":75387614,"question_id":34229944,"body_markdown":"this error it happened to me when I forgot to annotate the model class, you need at least use `@Entity` and `@Id`, and of course register class or `your_models.jar` in persistance.xml\r\n\r\n    @Entity\r\n    class TestModel{\r\n        @Id\r\n    \tpublic int id;\r\n    \tpublic String name;\r\n    \r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn &quot;TestModel [id=&quot; + id + &quot;, name=&quot; + name + &quot;]&quot;;\r\n    \t}\r\n    }","title":"Insert Null Struct using EclipseLink JPA","body":"<p>this error it happened to me when I forgot to annotate the model class, you need at least use <code>@Entity</code> and <code>@Id</code>, and of course register class or <code>your_models.jar</code> in persistance.xml</p>\n<pre><code>@Entity\nclass TestModel{\n    @Id\n    public int id;\n    public String name;\n\n    @Override\n    public String toString() {\n        return &quot;TestModel [id=&quot; + id + &quot;, name=&quot; + name + &quot;]&quot;;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6668766,"reputation":51,"user_id":5145534,"display_name":"Paul Howells"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":898,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":34233274,"answer_count":3,"score":1,"last_activity_date":1675868314,"creation_date":1449857603,"question_id":34229944,"body_markdown":"I have an Oracle table with an SDO_GEOMETRY column and I am trying to use EclipseLink JPA2 2.6.1 for persistence.  My entity class uses a JTS Geometry for geometry objects and I have written a AttributeConverter to convert from a SDO_GEOMETRY to a JTS Geometry.  This works well and I can read and write the geometries from the database.  The problem I am having is that I cannot persist a null JTS Geometry.  I get the following error:\r\n\r\nORA-00932: inconsistent datatypes: expected MDSYS.SDO_GEOMETRY got CHAR\r\n\r\nNot sure if I am doing something wrong or if there is a bug in EclipseLink or Oracle.\r\n\r\npersistence.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;persistence version=&quot;2.0&quot; xmlns=&quot;http://java.sun.com/xml/ns/persistence&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/persistence http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd&quot;&gt;\r\n\t\r\n    &lt;persistence-unit name=&quot;mainPersistence&quot;&gt;\r\n\t\t&lt;provider&gt;org.eclipse.persistence.jpa.PersistenceProvider&lt;/provider&gt;\r\n\t\t\t&lt;class&gt;persistence.v1.dao.jpa2.converters.GeometryConverter&lt;/class&gt;\r\n\t\t\r\n\t\t&lt;class&gt;persistence.v1.dto.AuthorizationDto&lt;/class&gt;\r\n\t\t\r\n\t\t&lt;properties&gt;\r\n\t\t\t&lt;property name=&quot;eclipselink.weaving&quot; value=&quot;false&quot;/&gt;\r\n\t&lt;/persistence-unit&gt;\r\n&lt;/persistence&gt;\r\n\r\nEntity class\r\n\r\n    package persistence.v1.dto;\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Date;\r\n    import java.util.List;\r\n\r\n    import javax.persistence.Column;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.FetchType;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.GenerationType;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.Table;\r\n\r\n    import persistence.v1.dao.jpa2.converters.GeometryConverter;\r\n\r\n    import com.vividsolutions.jts.geom.Geometry;\r\n\r\n    @Entity\r\n    @Table(name=&quot;AUTHORIZATION&quot;)\r\n    public class AuthorizationDto {\r\n\r\n \tprivate String authorizationGuid;\r\n \tprivate Geometry authorizationGeometry;\r\n\r\n    public AuthorizationDto() {\r\n    }\r\n\r\n    @Id\r\n\t@GeneratedValue(strategy = GenerationType.AUTO, generator = &quot;system-uuid&quot;)\r\n    @Column(name=&quot;AUTHORIZATION_GUID&quot;, nullable=false)\r\n    public String getAuthorizationGuid() {\r\n        return this.authorizationGuid;\r\n    }\r\n\r\n    public void setAuthorizationGuid(String authorizationGuid) {\r\n        this.authorizationGuid = authorizationGuid;\r\n    }\r\n\r\n\r\n\t@javax.persistence.Convert(converter=GeometryConverter.class)\r\n    @Column(name=&quot;AUTHORIZATION_GEOMETRY&quot;)\r\n    public Geometry getAuthorizationGeometry() {\r\n        return this.authorizationGeometry;\r\n    }\r\n\r\n    public void setAuthorizationGeometry(Geometry authorizationGeometry) {\r\n        this.authorizationGeometry = authorizationGeometry;\r\n    }\r\n    }\r\n\r\n\r\nGeometryConverter class\r\n\r\n    package persistence.v1.dao.jpa2.converters;\r\n\r\n    import java.sql.SQLException;\r\n    import java.sql.Struct;\r\n\r\n    import javax.persistence.AttributeConverter;\r\n    import javax.persistence.Converter;\r\n\r\n    import oracle.jdbc.OracleConnection;\r\n    import oracle.sql.STRUCT;\r\n    import oracle.sql.StructDescriptor;\r\n\r\n    import com.vividsolutions.jts.geom.Geometry;\r\n    import com.vividsolutions.jts.io.oracle.OraReader;\r\n    import com.vividsolutions.jts.io.oracle.OraWriter;\r\n\r\n    @Converter(autoApply = true)\r\n    public class GeometryConverter implements AttributeConverter&lt;Geometry, Object&gt; {\r\n\r\n\tprivate static ThreadLocal&lt;OracleConnection&gt; currentConnection = new ThreadLocal&lt;&gt;();\r\n\r\n\tpublic static void setConnection(OracleConnection connection) {\r\n\t\tcurrentConnection.set(connection);\r\n\t}\r\n\r\n\tprivate Geometry toGeometry(Object geometryData) {\r\n\t\tGeometry result = null;\r\n\r\n\t\tOraReader reader = new OraReader();\r\n\r\n\t\ttry {\r\n\t\t\tStructDescriptor descriptor = new StructDescriptor(\r\n\t\t\t\t\t&quot;MDSYS.SDO_GEOMETRY&quot;, currentConnection.get());\r\n\t\t\tSTRUCT geometryStruct = new STRUCT(descriptor,\r\n\t\t\t\t\tcurrentConnection.get(), (Object[]) geometryData);\r\n\r\n\t\t\tresult = reader.read(geometryStruct);\r\n\t\t} catch (SQLException e) {\r\n\t\t\tlogger.warn(&quot;Cound not create geometry from database column&quot;, e);\r\n\t\t\tthrow new RuntimeException(e);\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\t}\r\n\r\n\tprivate Struct fromGeometry(Geometry geometry) {\r\n\t\ttry {\r\n\t\t\treturn new OraWriter().write(geometry, currentConnection.get());\r\n\t\t} catch (SQLException e) {\r\n\t\t\tlogger.warn(&quot;Cound not create database column from geometry &quot;\r\n\t\t\t\t\t+ geometry.toText(), e);\r\n\t\t\tthrow new RuntimeException(e);\r\n\t\t}\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Object convertToDatabaseColumn(Geometry geometry) {\r\n\t\tlogger.debug(&quot;&lt;convertToDatabaseColumn&quot;);\r\n\t\tObject result = null;\r\n\t\t\r\n\t\tif(geometry!=null) {\r\n\t\t\tresult = fromGeometry(geometry);\r\n\t\t}\r\n\r\n\t\tlogger.debug(&quot;&gt;convertToDatabaseColumn &quot;+result);\r\n\t\treturn result;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Geometry convertToEntityAttribute(Object geometryData) {\r\n\t\tlogger.debug(&quot;&lt;convertToEntityAttribute&quot;);\r\n\t\tGeometry result = null;\r\n\t\t\r\n\t\tif(geometryData!=null) {\r\n\t\t\tresult = toGeometry(geometryData);\r\n\t\t}\r\n\r\n\t\tlogger.debug(&quot;&gt;convertToEntityAttribute &quot;+result);\r\n\t\treturn result;\r\n\t}\r\n    }\r\n\r\n\r\nThanks\r\n","title":"Insert Null Struct using EclipseLink JPA","body":"<p>I have an Oracle table with an SDO_GEOMETRY column and I am trying to use EclipseLink JPA2 2.6.1 for persistence.  My entity class uses a JTS Geometry for geometry objects and I have written a AttributeConverter to convert from a SDO_GEOMETRY to a JTS Geometry.  This works well and I can read and write the geometries from the database.  The problem I am having is that I cannot persist a null JTS Geometry.  I get the following error:</p>\n\n<p>ORA-00932: inconsistent datatypes: expected MDSYS.SDO_GEOMETRY got CHAR</p>\n\n<p>Not sure if I am doing something wrong or if there is a bug in EclipseLink or Oracle.</p>\n\n<p>persistence.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;persistence version=\"2.0\" xmlns=\"http://java.sun.com/xml/ns/persistence\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://java.sun.com/xml/ns/persistence http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd\"&gt;\n\n&lt;persistence-unit name=\"mainPersistence\"&gt;\n    &lt;provider&gt;org.eclipse.persistence.jpa.PersistenceProvider&lt;/provider&gt;\n        &lt;class&gt;persistence.v1.dao.jpa2.converters.GeometryConverter&lt;/class&gt;\n\n    &lt;class&gt;persistence.v1.dto.AuthorizationDto&lt;/class&gt;\n\n    &lt;properties&gt;\n        &lt;property name=\"eclipselink.weaving\" value=\"false\"/&gt;\n&lt;/persistence-unit&gt;\n</code></pre>\n\n<p></p>\n\n<p>Entity class</p>\n\n<pre><code>package persistence.v1.dto;\n\nimport java.util.ArrayList;\nimport java.util.Date;\nimport java.util.List;\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.FetchType;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\n\nimport persistence.v1.dao.jpa2.converters.GeometryConverter;\n\nimport com.vividsolutions.jts.geom.Geometry;\n\n@Entity\n@Table(name=\"AUTHORIZATION\")\npublic class AuthorizationDto {\n\nprivate String authorizationGuid;\nprivate Geometry authorizationGeometry;\n\npublic AuthorizationDto() {\n}\n\n@Id\n@GeneratedValue(strategy = GenerationType.AUTO, generator = \"system-uuid\")\n@Column(name=\"AUTHORIZATION_GUID\", nullable=false)\npublic String getAuthorizationGuid() {\n    return this.authorizationGuid;\n}\n\npublic void setAuthorizationGuid(String authorizationGuid) {\n    this.authorizationGuid = authorizationGuid;\n}\n\n\n@javax.persistence.Convert(converter=GeometryConverter.class)\n@Column(name=\"AUTHORIZATION_GEOMETRY\")\npublic Geometry getAuthorizationGeometry() {\n    return this.authorizationGeometry;\n}\n\npublic void setAuthorizationGeometry(Geometry authorizationGeometry) {\n    this.authorizationGeometry = authorizationGeometry;\n}\n}\n</code></pre>\n\n<p>GeometryConverter class</p>\n\n<pre><code>package persistence.v1.dao.jpa2.converters;\n\nimport java.sql.SQLException;\nimport java.sql.Struct;\n\nimport javax.persistence.AttributeConverter;\nimport javax.persistence.Converter;\n\nimport oracle.jdbc.OracleConnection;\nimport oracle.sql.STRUCT;\nimport oracle.sql.StructDescriptor;\n\nimport com.vividsolutions.jts.geom.Geometry;\nimport com.vividsolutions.jts.io.oracle.OraReader;\nimport com.vividsolutions.jts.io.oracle.OraWriter;\n\n@Converter(autoApply = true)\npublic class GeometryConverter implements AttributeConverter&lt;Geometry, Object&gt; {\n\nprivate static ThreadLocal&lt;OracleConnection&gt; currentConnection = new ThreadLocal&lt;&gt;();\n\npublic static void setConnection(OracleConnection connection) {\n    currentConnection.set(connection);\n}\n\nprivate Geometry toGeometry(Object geometryData) {\n    Geometry result = null;\n\n    OraReader reader = new OraReader();\n\n    try {\n        StructDescriptor descriptor = new StructDescriptor(\n                \"MDSYS.SDO_GEOMETRY\", currentConnection.get());\n        STRUCT geometryStruct = new STRUCT(descriptor,\n                currentConnection.get(), (Object[]) geometryData);\n\n        result = reader.read(geometryStruct);\n    } catch (SQLException e) {\n        logger.warn(\"Cound not create geometry from database column\", e);\n        throw new RuntimeException(e);\n    }\n\n    return result;\n}\n\nprivate Struct fromGeometry(Geometry geometry) {\n    try {\n        return new OraWriter().write(geometry, currentConnection.get());\n    } catch (SQLException e) {\n        logger.warn(\"Cound not create database column from geometry \"\n                + geometry.toText(), e);\n        throw new RuntimeException(e);\n    }\n}\n\n@Override\npublic Object convertToDatabaseColumn(Geometry geometry) {\n    logger.debug(\"&lt;convertToDatabaseColumn\");\n    Object result = null;\n\n    if(geometry!=null) {\n        result = fromGeometry(geometry);\n    }\n\n    logger.debug(\"&gt;convertToDatabaseColumn \"+result);\n    return result;\n}\n\n@Override\npublic Geometry convertToEntityAttribute(Object geometryData) {\n    logger.debug(\"&lt;convertToEntityAttribute\");\n    Geometry result = null;\n\n    if(geometryData!=null) {\n        result = toGeometry(geometryData);\n    }\n\n    logger.debug(\"&gt;convertToEntityAttribute \"+result);\n    return result;\n}\n}\n</code></pre>\n\n<p>Thanks</p>\n"},{"tags":["java","java-8","xslt-1.0","xalan","metaspace"],"comments":[{"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"score":0,"creation_date":1569396649,"post_id":58091381,"comment_id":102578978,"body_markdown":"What XSLT processor are you using? What is the stylesheet doing? I don&#39;t fully understand how Java uses Metaspace but I would suspect that it is related to dynamic bytecode generation. You will need an expert on the particular XSLT processor to answer this one.","body":"What XSLT processor are you using? What is the stylesheet doing? I don&#39;t fully understand how Java uses Metaspace but I would suspect that it is related to dynamic bytecode generation. You will need an expert on the particular XSLT processor to answer this one."},{"owner":{"account_id":2598103,"reputation":47,"user_id":2767907,"display_name":"Gangadhar Enagandula"},"score":0,"creation_date":1569423857,"post_id":58091381,"comment_id":102594437,"body_markdown":"All classes I am using from javax.xml.transform.*,  I do not have any custom configurations, all are default.","body":"All classes I am using from javax.xml.transform.*,  I do not have any custom configurations, all are default."},{"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"score":0,"creation_date":1569431337,"post_id":58091381,"comment_id":102598087,"body_markdown":"In that case you&#39;re probably using the version of Xalan that ships with the JDK: an old product about which I know very little. If you were using Saxon (which implements XSLT 3.0 rather than 1.0) then I would be able to help you.","body":"In that case you&#39;re probably using the version of Xalan that ships with the JDK: an old product about which I know very little. If you were using Saxon (which implements XSLT 3.0 rather than 1.0) then I would be able to help you."},{"owner":{"account_id":2598103,"reputation":47,"user_id":2767907,"display_name":"Gangadhar Enagandula"},"score":0,"creation_date":1569454771,"post_id":58091381,"comment_id":102605974,"body_markdown":"OK. Thank you. I have added the tag of Xalan to reach to the experts in Xalan.","body":"OK. Thank you. I have added the tag of Xalan to reach to the experts in Xalan."}],"answers":[{"tags":[],"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675868168,"creation_date":1675868168,"answer_id":75387569,"question_id":58091381,"body_markdown":"Xalan generates bytecode and I imagine that&#39;s what&#39;s occupying the metaspace.","title":"Increase in Metaspace with TransformerFactory&#39;s XSLT Transformer","body":"<p>Xalan generates bytecode and I imagine that's what's occupying the metaspace.</p>\n"}],"owner":{"account_id":2598103,"reputation":47,"user_id":2767907,"display_name":"Gangadhar Enagandula"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675868168,"creation_date":1569387252,"question_id":58091381,"body_markdown":"When I run the following code with multiple different requests, the java metaspace is getting increased.  \r\n\r\n```\r\n        public String applyXsltOnXml(String xmlString, String xsltInput) throws TransformerException {\r\n         String result = null;\r\n         try (StringReader stringReader = new StringReader(xmlString);\r\n                 StringWriter writer = new StringWriter()) {\r\n             TransformerFactory factory = TransformerFactory.newInstance();\r\n             Transformer transformer = factory.newTransformer(new StreamSource(new StringReader(xsltInput)));\r\n             transformer.transform(new StreamSource(stringReader), new StreamResult(writer));\r\n             result = writer.toString();\r\n         } \r\n         return result;\r\n     }\r\n```\r\n\r\nCould you please explain what is happening behind the scenes ? why the java metaspace is getting increased ? ","title":"Increase in Metaspace with TransformerFactory&#39;s XSLT Transformer","body":"<p>When I run the following code with multiple different requests, the java metaspace is getting increased.  </p>\n\n<pre><code>        public String applyXsltOnXml(String xmlString, String xsltInput) throws TransformerException {\n         String result = null;\n         try (StringReader stringReader = new StringReader(xmlString);\n                 StringWriter writer = new StringWriter()) {\n             TransformerFactory factory = TransformerFactory.newInstance();\n             Transformer transformer = factory.newTransformer(new StreamSource(new StringReader(xsltInput)));\n             transformer.transform(new StreamSource(stringReader), new StreamResult(writer));\n             result = writer.toString();\n         } \n         return result;\n     }\n</code></pre>\n\n<p>Could you please explain what is happening behind the scenes ? why the java metaspace is getting increased ? </p>\n"},{"tags":["java","android","firebase","google-cloud-firestore"],"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1675867610,"post_id":75387405,"comment_id":133020493,"body_markdown":"It would be unusual for a builder style method to be a setter (start with set). Try .timestampsInSnapshotsEnabled(true)","body":"It would be unusual for a builder style method to be a setter (start with set). Try .timestampsInSnapshotsEnabled(true)"}],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675867799,"creation_date":1675867799,"answer_id":75387496,"question_id":75387405,"body_markdown":"If I look at the current [documentation for `FirebaseFirestoreSettings.Builder`](https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/FirebaseFirestoreSettings.Builder), I don&#39;t see any `setTimestampsInSnapshotsEnabled` method. So that probably explains the error message: you&#39;re trying to call a method that doesn&#39;t exist.\r\n\r\nMy guess is that your code was meant for an older version of the SDK when the method *did* exist. Since it doesn&#39;t exist anymore now, you either have to use the version of the SDK that the code was made for, or remove the call.\r\n\r\n**Update**: it looks like [`timestampsInSnapshotsEnabled` was removed in version 22](https://firebase.google.com/support/release-notes/android#firestore_v22-0-0) of the Android SDK for Firestore back in October 2020.","title":"Cannot resolve method &#39;setTimestampsInSnapshotsEnabled&#39; in &#39;Builder&#39;","body":"<p>If I look at the current <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/FirebaseFirestoreSettings.Builder\" rel=\"nofollow noreferrer\">documentation for <code>FirebaseFirestoreSettings.Builder</code></a>, I don't see any <code>setTimestampsInSnapshotsEnabled</code> method. So that probably explains the error message: you're trying to call a method that doesn't exist.</p>\n<p>My guess is that your code was meant for an older version of the SDK when the method <em>did</em> exist. Since it doesn't exist anymore now, you either have to use the version of the SDK that the code was made for, or remove the call.</p>\n<p><strong>Update</strong>: it looks like <a href=\"https://firebase.google.com/support/release-notes/android#firestore_v22-0-0\" rel=\"nofollow noreferrer\"><code>timestampsInSnapshotsEnabled</code> was removed in version 22</a> of the Android SDK for Firestore back in October 2020.</p>\n"}],"owner":{"account_id":27521334,"reputation":15,"user_id":21001453,"display_name":"Donny"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":394,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75387496,"answer_count":1,"score":0,"last_activity_date":1675867799,"creation_date":1675867352,"question_id":75387405,"body_markdown":"I am trying to create a register activity to allow a user to register however I keep getting the error: \r\n\r\n&gt; Cannot resolve method &#39;setTimestampsInSnapshotsEnabled&#39; in &#39;Builder&#39;&quot; \r\n\r\nIt&#39;s only the section which has the `setTimestampsInSnapshotsEnabled` that is giving me the issue. Do I need an implementation? \r\n\r\nHere is my Java code:\r\n```\r\npublic class RegisterActivity extends AppCompatActivity implements View.OnClickListener\r\n{\r\n    private static final String TAG = &quot;RegisterActivity&quot;;\r\n\r\n    //widgets\r\n    private EditText mEmail, mPassword, mConfirmPassword;\r\n    private ProgressBar mProgressBar;\r\n\r\n    //vars\r\n    private FirebaseFirestore mDb;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_register);\r\n        mEmail = (EditText) findViewById(R.id.input_email);\r\n        mPassword = (EditText) findViewById(R.id.input_password);\r\n        mConfirmPassword = (EditText) findViewById(R.id.input_confirm_password);\r\n        mProgressBar = (ProgressBar) findViewById(R.id.progressBar);\r\n\r\n        findViewById(R.id.btn_register).setOnClickListener(this);\r\n\r\n        mDb = FirebaseFirestore.getInstance();\r\n\r\n        hideSoftKeyboard();\r\n    }\r\n\r\n    /**\r\n     * Register a new email and password to Firebase Authentication\r\n     * @param email\r\n     * @param password\r\n     */\r\n    public void registerNewEmail(final String email, String password){\r\n\r\n        showDialog();\r\n\r\n        FirebaseAuth.getInstance().createUserWithEmailAndPassword(email, password)\r\n                .addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n                        Log.d(TAG, &quot;createUserWithEmail:onComplete:&quot; + task.isSuccessful());\r\n\r\n                        if (task.isSuccessful()){\r\n                            Log.d(TAG, &quot;onComplete: AuthState: &quot; + FirebaseAuth.getInstance().getCurrentUser().getUid());\r\n\r\n                            //insert some default data\r\n                            User user = new User();\r\n                            user.setEmail(email);\r\n                            user.setUsername(email.substring(0, email.indexOf(&quot;@&quot;)));\r\n                            user.setUser_id(FirebaseAuth.getInstance().getUid());\r\n\r\n\r\n\r\n                            FirebaseFirestoreSettings settings = new FirebaseFirestoreSettings.Builder()\r\n                                    .setTimestampsInSnapshotsEnabled(true)\r\n                                    .build();\r\n                            mDb.setFirestoreSettings(settings);\r\n\r\n                            FirebaseFirestoreSettings newUserRef = mDb\r\n                                    .collection(getString(R.string.collection_users))\r\n                                    .document(FirebaseAuth.getInstance().getUid());\r\n\r\n                            newUserRef.set(user).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n                                @Override\r\n                                public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n                                    hideDialog();\r\n\r\n                                    if(task.isSuccessful()){\r\n                                        redirectLoginScreen();\r\n                                    }else{\r\n                                        View parentLayout = findViewById(android.R.id.content);\r\n                                        Snackbar.make(parentLayout, &quot;Something went wrong.&quot;, Snackbar.LENGTH_SHORT).show();\r\n                                    }\r\n                                }\r\n                            });\r\n\r\n                        }\r\n                        else {\r\n                            View parentLayout = findViewById(android.R.id.content);\r\n                            Snackbar.make(parentLayout, &quot;Something went wrong.&quot;, Snackbar.LENGTH_SHORT).show();\r\n                            hideDialog();\r\n                        }\r\n\r\n                        // ...\r\n                    }\r\n                });\r\n    }\r\n\r\n    /**\r\n     * Redirects the user to the login screen\r\n     */\r\n    private void redirectLoginScreen(){\r\n        Log.d(TAG, &quot;redirectLoginScreen: redirecting to login screen.&quot;);\r\n\r\n        Intent intent = new Intent(RegisterActivity.this, LoginActivity.class);\r\n        startActivity(intent);\r\n        finish();\r\n    }\r\n\r\n\r\n    private void showDialog(){\r\n        mProgressBar.setVisibility(View.VISIBLE);\r\n\r\n    }\r\n\r\n    private void hideDialog(){\r\n        if(mProgressBar.getVisibility() == View.VISIBLE){\r\n            mProgressBar.setVisibility(View.INVISIBLE);\r\n        }\r\n    }\r\n\r\n    private void hideSoftKeyboard(){\r\n        this.getWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_STATE_ALWAYS_HIDDEN);\r\n    }\r\n\r\n    @Override\r\n    public void onClick(View view) {\r\n        switch (view.getId()){\r\n            case R.id.btn_register:{\r\n                Log.d(TAG, &quot;onClick: attempting to register.&quot;);\r\n\r\n                //check for null valued EditText fields\r\n                if(!isEmpty(mEmail.getText().toString())\r\n                        &amp;&amp; !isEmpty(mPassword.getText().toString())\r\n                        &amp;&amp; !isEmpty(mConfirmPassword.getText().toString())){\r\n\r\n                    //check if passwords match\r\n                    if(doStringsMatch(mPassword.getText().toString(), mConfirmPassword.getText().toString())){\r\n\r\n                        //Initiate registration task\r\n                        registerNewEmail(mEmail.getText().toString(), mPassword.getText().toString());\r\n                    }else{\r\n                        Toast.makeText(RegisterActivity.this, &quot;Passwords do not Match&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n\r\n                }else{\r\n                    Toast.makeText(RegisterActivity.this, &quot;You must fill out all the fields&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n                break;\r\n            }\r\n        }\r\n    }\r\n}\r\n```","title":"Cannot resolve method &#39;setTimestampsInSnapshotsEnabled&#39; in &#39;Builder&#39;","body":"<p>I am trying to create a register activity to allow a user to register however I keep getting the error:</p>\n<blockquote>\n<p>Cannot resolve method 'setTimestampsInSnapshotsEnabled' in 'Builder'&quot;</p>\n</blockquote>\n<p>It's only the section which has the <code>setTimestampsInSnapshotsEnabled</code> that is giving me the issue. Do I need an implementation?</p>\n<p>Here is my Java code:</p>\n<pre><code>public class RegisterActivity extends AppCompatActivity implements View.OnClickListener\n{\n    private static final String TAG = &quot;RegisterActivity&quot;;\n\n    //widgets\n    private EditText mEmail, mPassword, mConfirmPassword;\n    private ProgressBar mProgressBar;\n\n    //vars\n    private FirebaseFirestore mDb;\n\n\n    @Override\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_register);\n        mEmail = (EditText) findViewById(R.id.input_email);\n        mPassword = (EditText) findViewById(R.id.input_password);\n        mConfirmPassword = (EditText) findViewById(R.id.input_confirm_password);\n        mProgressBar = (ProgressBar) findViewById(R.id.progressBar);\n\n        findViewById(R.id.btn_register).setOnClickListener(this);\n\n        mDb = FirebaseFirestore.getInstance();\n\n        hideSoftKeyboard();\n    }\n\n    /**\n     * Register a new email and password to Firebase Authentication\n     * @param email\n     * @param password\n     */\n    public void registerNewEmail(final String email, String password){\n\n        showDialog();\n\n        FirebaseAuth.getInstance().createUserWithEmailAndPassword(email, password)\n                .addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\n                    @Override\n                    public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n                        Log.d(TAG, &quot;createUserWithEmail:onComplete:&quot; + task.isSuccessful());\n\n                        if (task.isSuccessful()){\n                            Log.d(TAG, &quot;onComplete: AuthState: &quot; + FirebaseAuth.getInstance().getCurrentUser().getUid());\n\n                            //insert some default data\n                            User user = new User();\n                            user.setEmail(email);\n                            user.setUsername(email.substring(0, email.indexOf(&quot;@&quot;)));\n                            user.setUser_id(FirebaseAuth.getInstance().getUid());\n\n\n\n                            FirebaseFirestoreSettings settings = new FirebaseFirestoreSettings.Builder()\n                                    .setTimestampsInSnapshotsEnabled(true)\n                                    .build();\n                            mDb.setFirestoreSettings(settings);\n\n                            FirebaseFirestoreSettings newUserRef = mDb\n                                    .collection(getString(R.string.collection_users))\n                                    .document(FirebaseAuth.getInstance().getUid());\n\n                            newUserRef.set(user).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n                                @Override\n                                public void onComplete(@NonNull Task&lt;Void&gt; task) {\n                                    hideDialog();\n\n                                    if(task.isSuccessful()){\n                                        redirectLoginScreen();\n                                    }else{\n                                        View parentLayout = findViewById(android.R.id.content);\n                                        Snackbar.make(parentLayout, &quot;Something went wrong.&quot;, Snackbar.LENGTH_SHORT).show();\n                                    }\n                                }\n                            });\n\n                        }\n                        else {\n                            View parentLayout = findViewById(android.R.id.content);\n                            Snackbar.make(parentLayout, &quot;Something went wrong.&quot;, Snackbar.LENGTH_SHORT).show();\n                            hideDialog();\n                        }\n\n                        // ...\n                    }\n                });\n    }\n\n    /**\n     * Redirects the user to the login screen\n     */\n    private void redirectLoginScreen(){\n        Log.d(TAG, &quot;redirectLoginScreen: redirecting to login screen.&quot;);\n\n        Intent intent = new Intent(RegisterActivity.this, LoginActivity.class);\n        startActivity(intent);\n        finish();\n    }\n\n\n    private void showDialog(){\n        mProgressBar.setVisibility(View.VISIBLE);\n\n    }\n\n    private void hideDialog(){\n        if(mProgressBar.getVisibility() == View.VISIBLE){\n            mProgressBar.setVisibility(View.INVISIBLE);\n        }\n    }\n\n    private void hideSoftKeyboard(){\n        this.getWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_STATE_ALWAYS_HIDDEN);\n    }\n\n    @Override\n    public void onClick(View view) {\n        switch (view.getId()){\n            case R.id.btn_register:{\n                Log.d(TAG, &quot;onClick: attempting to register.&quot;);\n\n                //check for null valued EditText fields\n                if(!isEmpty(mEmail.getText().toString())\n                        &amp;&amp; !isEmpty(mPassword.getText().toString())\n                        &amp;&amp; !isEmpty(mConfirmPassword.getText().toString())){\n\n                    //check if passwords match\n                    if(doStringsMatch(mPassword.getText().toString(), mConfirmPassword.getText().toString())){\n\n                        //Initiate registration task\n                        registerNewEmail(mEmail.getText().toString(), mPassword.getText().toString());\n                    }else{\n                        Toast.makeText(RegisterActivity.this, &quot;Passwords do not Match&quot;, Toast.LENGTH_SHORT).show();\n                    }\n\n                }else{\n                    Toast.makeText(RegisterActivity.this, &quot;You must fill out all the fields&quot;, Toast.LENGTH_SHORT).show();\n                }\n                break;\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","loops","if-statement","txt"],"comments":[{"owner":{"account_id":16120775,"reputation":333,"user_id":11636798,"display_name":"coder-coder"},"score":0,"creation_date":1593720543,"post_id":62704138,"comment_id":110886955,"body_markdown":"Does it write you &quot;library does not contain this book&quot;?","body":"Does it write you &quot;library does not contain this book&quot;?"},{"owner":{"account_id":14952682,"reputation":15260,"user_id":10795151,"display_name":"S.S. Anne"},"score":1,"creation_date":1593720661,"post_id":62704138,"comment_id":110886999,"body_markdown":"What does this question have to do with Notepad++?","body":"What does this question have to do with Notepad++?"},{"owner":{"account_id":2667845,"reputation":10491,"user_id":2305826,"accept_rate":89,"display_name":"MarsAtomic"},"score":0,"creation_date":1593721074,"post_id":62704138,"comment_id":110887159,"body_markdown":"Do you know what a loop is? Your current code is only looking at the first line of the text file. You have to use a loop to read the rest of the text file too.","body":"Do you know what a loop is? Your current code is only looking at the first line of the text file. You have to use a loop to read the rest of the text file too."}],"answers":[{"comments":[{"owner":{"account_id":153578,"reputation":15120,"user_id":368926,"accept_rate":63,"display_name":"elias"},"score":0,"creation_date":1675862394,"post_id":62704439,"comment_id":133018574,"body_markdown":"The question is probably homework for someone learning to program. Next time, guide him to the answer instead of giving it in full","body":"The question is probably homework for someone learning to program. Next time, guide him to the answer instead of giving it in full"}],"tags":[],"owner":{"account_id":2818342,"reputation":299906,"user_id":2422776,"display_name":"Mureinik"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1675861817,"creation_date":1593721196,"answer_id":62704439,"question_id":62704138,"body_markdown":"You are just checking the first line. If you want to check if the book exists anywhere in the file, you need to continue reading it until you find the book or until you reach the end of the file:\r\n\r\n```java\r\nprivate static boolean isInFile(String book) {\r\n    try (FileReader fileInvc = new FileReader(&quot;library.txt&quot;);\r\n         BufferedReader readervc = new BufferedReader(fileInvc)) {\r\n         String readvc = readervc.readLine();\r\n         while (readvc != null) {\r\n             if (readvc.contains(book)) {\r\n                 return true;\r\n             }\r\n             readvc = readervc.readLine();\r\n         }\r\n         return false; \r\n    }\r\n}\r\n```     \r\n\r\nNote that using [`Files.lines`](https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#lines-java.nio.file.Path-) could easier than using a reader:\r\n\r\n```java\r\nprivate static boolean isInFile(String book) {\r\n    return Files.lines(Paths.get(&quot;library.txt&quot;)).anyMatch(l -&gt; l.contains(book));\r\n}\r\n```","title":"how to properly check if a string is in txt file","body":"<p>You are just checking the first line. If you want to check if the book exists anywhere in the file, you need to continue reading it until you find the book or until you reach the end of the file:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static boolean isInFile(String book) {\n    try (FileReader fileInvc = new FileReader(&quot;library.txt&quot;);\n         BufferedReader readervc = new BufferedReader(fileInvc)) {\n         String readvc = readervc.readLine();\n         while (readvc != null) {\n             if (readvc.contains(book)) {\n                 return true;\n             }\n             readvc = readervc.readLine();\n         }\n         return false; \n    }\n}\n</code></pre>\n<p>Note that using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#lines-java.nio.file.Path-\" rel=\"nofollow noreferrer\"><code>Files.lines</code></a> could easier than using a reader:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static boolean isInFile(String book) {\n    return Files.lines(Paths.get(&quot;library.txt&quot;)).anyMatch(l -&gt; l.contains(book));\n}\n</code></pre>\n"}],"owner":{"account_id":18518900,"reputation":23,"user_id":13492426,"display_name":"berlin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2505,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":62704439,"answer_count":1,"score":0,"last_activity_date":1675867601,"creation_date":1593719874,"question_id":62704138,"body_markdown":"I&#39;m writing a program that manages a library. This part of the program is where you borrow a book, but only if it&#39;s in the library, so I check if the book is in the library but it always comes back negative even if the string is in the library txt file.\r\n```java\r\nFileReader fileInvc = new FileReader(&quot;library.txt&quot;);\r\n        BufferedReader readervc = new BufferedReader(fileInvc);\r\n        String linevc;\r\n\t\tString readvc=readervc.readLine();\r\n        if((linevc = readvc) != null) {\r\n            if((linevc.contains(book))) {\r\n                // what happens after weve found out that the book is the library txt file\r\n\t\t    }else{\r\n\t\t\t    System.out.println(&quot;libray does not contain this book&quot;);\r\n    \t\t}\r\n\t\t}else{\r\n\t\t\tSystem.out.println(&quot;error retry&quot;);\r\n\t\t}\r\n```\r\n\r\nWhat should I do?","title":"how to properly check if a string is in txt file","body":"<p>I'm writing a program that manages a library. This part of the program is where you borrow a book, but only if it's in the library, so I check if the book is in the library but it always comes back negative even if the string is in the library txt file.</p>\n<pre class=\"lang-java prettyprint-override\"><code>FileReader fileInvc = new FileReader(&quot;library.txt&quot;);\n        BufferedReader readervc = new BufferedReader(fileInvc);\n        String linevc;\n        String readvc=readervc.readLine();\n        if((linevc = readvc) != null) {\n            if((linevc.contains(book))) {\n                // what happens after weve found out that the book is the library txt file\n            }else{\n                System.out.println(&quot;libray does not contain this book&quot;);\n            }\n        }else{\n            System.out.println(&quot;error retry&quot;);\n        }\n</code></pre>\n<p>What should I do?</p>\n"},{"tags":["java","swing","jframe"],"comments":[{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":1,"creation_date":1675866553,"post_id":75387162,"comment_id":133020102,"body_markdown":"You should not override the `paint` method of a JFrame. You should create a JPanel and override the `paintComponent` method. Then you can add that JPanel to the JFrame.","body":"You should not override the <code>paint</code> method of a JFrame. You should create a JPanel and override the <code>paintComponent</code> method. Then you can add that JPanel to the JFrame."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1675866656,"post_id":75387162,"comment_id":133020139,"body_markdown":"How about this question? https://stackoverflow.com/questions/60152374/drawing-rectangle-in-java","body":"How about this question? <a href=\"https://stackoverflow.com/questions/60152374/drawing-rectangle-in-java\" title=\"drawing rectangle in java\">stackoverflow.com/questions/60152374/drawing-rectangle-in-ja&zwnj;&#8203;va</a>"}],"answers":[{"tags":[],"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675866922,"creation_date":1675866922,"answer_id":75387318,"question_id":75387162,"body_markdown":"You should create a JPanel that draws what you want. That JPanel should have a size preference.\r\n\r\n    class DrawPanel extends JPanel{\r\n        @Override\r\n        public void paintComponent(Graphics g){\r\n            super.paintComponent(g);\r\n            g.setColor(Color.BLUE);\r\n            g.drawRect(20, 20, 90, 90);\r\n        }\r\n        @Override\r\n        public Dimension getPreferredSize(){\r\n            return new Dimension(480, 200);\r\n        }\r\n\r\n    }\r\n\r\nNow we have a component that draws a rectangle and has a size. Create a JFrame add it to the layout and display the frame.\r\n\r\n    JFrame frame = new JFrame(&quot;holds my component&quot;);\r\n    DrawPanel panel = new DrawPanel();\r\n    frame.add( panel, BorderLayout.CENTER );\r\n    frame.pack();\r\n    frame.setVisible(true);","title":"Rectangle shows up only after resizing on JFrame","body":"<p>You should create a JPanel that draws what you want. That JPanel should have a size preference.</p>\n<pre><code>class DrawPanel extends JPanel{\n    @Override\n    public void paintComponent(Graphics g){\n        super.paintComponent(g);\n        g.setColor(Color.BLUE);\n        g.drawRect(20, 20, 90, 90);\n    }\n    @Override\n    public Dimension getPreferredSize(){\n        return new Dimension(480, 200);\n    }\n\n}\n</code></pre>\n<p>Now we have a component that draws a rectangle and has a size. Create a JFrame add it to the layout and display the frame.</p>\n<pre><code>JFrame frame = new JFrame(&quot;holds my component&quot;);\nDrawPanel panel = new DrawPanel();\nframe.add( panel, BorderLayout.CENTER );\nframe.pack();\nframe.setVisible(true);\n</code></pre>\n"}],"owner":{"account_id":2433388,"reputation":137,"user_id":2123838,"display_name":"Viviane"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75387318,"answer_count":1,"score":1,"last_activity_date":1675866922,"creation_date":1675866232,"question_id":75387162,"body_markdown":"I have some experience with Java but I am new with Swing. I am trying to run a very simple example but I run into an annoying problem that I cannot solve. \r\n\r\nI am trying to open a white window and draw a blue rectangle. Somehow, the rectangle only shows up after I manually resize the window. I have tried multiple things like unvalidate then validate, changing the visibility, but I cannot get my rectangle to show.\r\n\r\nHere is the code of the JFrame and the main function\r\n\r\n```\r\npublic class FieldView extends JFrame {\r\n\r\n\tpublic FieldView(String name) {\r\n\t\tsuper(name);\r\n\t\t\r\n\t\tgetContentPane().setBackground(Color.WHITE);\r\n        setSize(480, 200);\r\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        setLocationRelativeTo(null);\r\n        \r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic void paint(Graphics g) {\r\n\t\tsuper.paint(g);\r\n\t\tGraphics2D g2d = (Graphics2D) g;\r\n\t\tg2d.setColor(Color.BLUE);\r\n\t\tg2d.drawRect(30, 50, 10, 10);\r\n\r\n\t}\r\n}\r\n```\r\n\r\n```\r\npublic class AnimalApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tFieldView view = new FieldView(&quot;My view&quot;);\r\n    \tview.setVisible(true);\r\n\r\n\t}\r\n\r\n}\r\n```\r\nNote: I was reading [this tutorial](https://www.codejava.net/java-se/graphics/drawing-rectangles-examples-with-graphics2d) and I run into the same problem with the provided code.","title":"Rectangle shows up only after resizing on JFrame","body":"<p>I have some experience with Java but I am new with Swing. I am trying to run a very simple example but I run into an annoying problem that I cannot solve.</p>\n<p>I am trying to open a white window and draw a blue rectangle. Somehow, the rectangle only shows up after I manually resize the window. I have tried multiple things like unvalidate then validate, changing the visibility, but I cannot get my rectangle to show.</p>\n<p>Here is the code of the JFrame and the main function</p>\n<pre><code>public class FieldView extends JFrame {\n\n    public FieldView(String name) {\n        super(name);\n        \n        getContentPane().setBackground(Color.WHITE);\n        setSize(480, 200);\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setLocationRelativeTo(null);\n        \n    }\n    \n    @Override\n    public void paint(Graphics g) {\n        super.paint(g);\n        Graphics2D g2d = (Graphics2D) g;\n        g2d.setColor(Color.BLUE);\n        g2d.drawRect(30, 50, 10, 10);\n\n    }\n}\n</code></pre>\n<pre><code>public class AnimalApplication {\n\n    public static void main(String[] args) {\n        \n        FieldView view = new FieldView(&quot;My view&quot;);\n        view.setVisible(true);\n\n    }\n\n}\n</code></pre>\n<p>Note: I was reading <a href=\"https://www.codejava.net/java-se/graphics/drawing-rectangles-examples-with-graphics2d\" rel=\"nofollow noreferrer\">this tutorial</a> and I run into the same problem with the provided code.</p>\n"},{"tags":["java","spring-boot","vuejs3"],"answers":[{"tags":[],"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675866779,"creation_date":1675866779,"answer_id":75387293,"question_id":75387128,"body_markdown":"Not sure what `api` is here in the Vue context but I would guess that you need to change the Authservice to\r\n```\r\ngetUserByEmail(email) {\r\n    return api.get(&quot;/auth/get?email=&quot; + email)\r\n  }\r\n```","title":"Email value won&#39;t pass through from vue to springboot","body":"<p>Not sure what <code>api</code> is here in the Vue context but I would guess that you need to change the Authservice to</p>\n<pre><code>getUserByEmail(email) {\n    return api.get(&quot;/auth/get?email=&quot; + email)\n  }\n</code></pre>\n"}],"owner":{"account_id":14524728,"reputation":92,"user_id":10491406,"display_name":"Robin Groot"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75387293,"answer_count":1,"score":0,"last_activity_date":1675866779,"creation_date":1675866067,"question_id":75387128,"body_markdown":"I have made a api that should get a user by their email but I get an error.\r\nI have similar api that just works, I think it goes wrong when I send it to the controller.\r\n\r\nThe error:\r\n\r\n    Resolved [org.springframework.web.bind.MissingServletRequestParameterException: Required request parameter &#39;email&#39; for method parameter type String is not present]\r\n\r\nMy vue code:\r\n\r\n    &lt;div class=&quot;settingBlock&quot;&gt;\r\n            Invite player by email &lt;br&gt;\r\n            &lt;input v-model=&quot;invitedPlayer&quot; id=&quot;invitedPlayer&quot; type=&quot;text&quot; class=&quot;field&quot; required  placeholder=&quot;Email&quot; /&gt;\r\n          &lt;/div&gt;\r\n    \r\n        data() {\r\n            return {\r\n              invitedPlayer: &quot;&quot;\r\n            }\r\n          },\r\n    computed: {\r\n        email() {\r\n          return this.invitedPlayer;\r\n        }\r\n      },\r\n\r\n    const authService = new AuthService();\r\n      authService.getUserByEmail(this.email)\r\n\r\nAuthservice\r\n\r\n    getUserByEmail(email) {\r\n        return api.get(&quot;/auth/get&quot;, {\r\n          email\r\n        })\r\n      }\r\n\r\nController\r\n\r\n        @GetMapping(&quot;/get&quot;)\r\n      public ResponseEntity&lt;Optional&lt;User&gt;&gt; getUserByEmail(@RequestParam String email) {\r\n        Optional&lt;User&gt; user = userRepository.findByEmail(email);\r\n        if (user == null) {\r\n          return new ResponseEntity&lt;&gt;(HttpStatus.NOT_FOUND);\r\n        }\r\n        return new ResponseEntity&lt;&gt;(user, HttpStatus.OK);\r\n      }\r\n\r\nUserRepository\r\n\r\n        public interface UserRepository extends JpaRepository&lt;User, Long&gt; {\r\n      Optional&lt;User&gt; findByUsername(String username);\r\n    \r\n      Optional&lt;User&gt; findByEmail(String email);\r\n\r\n\r\n\r\n","title":"Email value won&#39;t pass through from vue to springboot","body":"<p>I have made a api that should get a user by their email but I get an error.\nI have similar api that just works, I think it goes wrong when I send it to the controller.</p>\n<p>The error:</p>\n<pre><code>Resolved [org.springframework.web.bind.MissingServletRequestParameterException: Required request parameter 'email' for method parameter type String is not present]\n</code></pre>\n<p>My vue code:</p>\n<pre><code>&lt;div class=&quot;settingBlock&quot;&gt;\n        Invite player by email &lt;br&gt;\n        &lt;input v-model=&quot;invitedPlayer&quot; id=&quot;invitedPlayer&quot; type=&quot;text&quot; class=&quot;field&quot; required  placeholder=&quot;Email&quot; /&gt;\n      &lt;/div&gt;\n\n    data() {\n        return {\n          invitedPlayer: &quot;&quot;\n        }\n      },\ncomputed: {\n    email() {\n      return this.invitedPlayer;\n    }\n  },\n\nconst authService = new AuthService();\n  authService.getUserByEmail(this.email)\n</code></pre>\n<p>Authservice</p>\n<pre><code>getUserByEmail(email) {\n    return api.get(&quot;/auth/get&quot;, {\n      email\n    })\n  }\n</code></pre>\n<p>Controller</p>\n<pre><code>    @GetMapping(&quot;/get&quot;)\n  public ResponseEntity&lt;Optional&lt;User&gt;&gt; getUserByEmail(@RequestParam String email) {\n    Optional&lt;User&gt; user = userRepository.findByEmail(email);\n    if (user == null) {\n      return new ResponseEntity&lt;&gt;(HttpStatus.NOT_FOUND);\n    }\n    return new ResponseEntity&lt;&gt;(user, HttpStatus.OK);\n  }\n</code></pre>\n<p>UserRepository</p>\n<pre><code>    public interface UserRepository extends JpaRepository&lt;User, Long&gt; {\n  Optional&lt;User&gt; findByUsername(String username);\n\n  Optional&lt;User&gt; findByEmail(String email);\n</code></pre>\n"},{"tags":["java","methods","tic-tac-toe"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":2,"creation_date":1650482383,"post_id":71945095,"comment_id":127130094,"body_markdown":"Why not ask your professor for a hint?","body":"Why not ask your professor for a hint?"},{"owner":{"account_id":24709581,"reputation":13,"user_id":18599934,"display_name":"Jun"},"score":0,"creation_date":1650482559,"post_id":71945095,"comment_id":127130157,"body_markdown":"He helped me out with the front parts and he didn&#39;t finish the last part bc he had to leave and he told me to try to finish by myself.","body":"He helped me out with the front parts and he didn&#39;t finish the last part bc he had to leave and he told me to try to finish by myself."},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1650491181,"post_id":71945095,"comment_id":127132738,"body_markdown":"If the condition `(cnt==9)` is false then wouldn&#39;t `cnt` naturally be less than 9 (`(cnt&lt;9)`)? Perhaps change the `if(cnt&lt;9) {` to `else {`.","body":"If the condition <code>(cnt==9)</code> is false then wouldn&#39;t <code>cnt</code> naturally be less than 9 (<code>(cnt&lt;9)</code>)? Perhaps change the <code>if(cnt&lt;9) {</code> to <code>else {</code>."},{"owner":{"account_id":24709581,"reputation":13,"user_id":18599934,"display_name":"Jun"},"score":0,"creation_date":1650494628,"post_id":71945095,"comment_id":127133555,"body_markdown":"If it&#39;s else, then it means when c is not 9. Isn&#39;t it?","body":"If it&#39;s else, then it means when c is not 9. Isn&#39;t it?"}],"answers":[{"comments":[{"owner":{"account_id":24709581,"reputation":13,"user_id":18599934,"display_name":"Jun"},"score":0,"creation_date":1650482892,"post_id":71945199,"comment_id":127130264,"body_markdown":"else        \n        {\n            int cnt=0;\n            for(int i=0;i&lt;board.length;i++)\n            {\n                if(board[i]==&#39;O&#39;||board[i]==&#39;X&#39;)\n                {\n                    cnt+=1;\n                }\n            }\n            if(cnt&lt;9)\n            {\n                System.out.println(&quot;Not over yet!&quot;);\n                return false; // TODO: change this to correct value!\n            }\n            if(cnt==9)\n            {\n                System.out.println(&quot;Draw!&quot;);\n                return true;\n            }\n        }","body":"else                 {             int cnt=0;             for(int i=0;i&lt;board.length;i++)             {                 if(board[i]==&#39;O&#39;||board[i]==&#39;X&#39;)                 {                     cnt+=1;                 }             }             if(cnt&lt;9)             {                 System.out.println(&quot;Not over yet!&quot;);                 return false; // TODO: change this to correct value!             }             if(cnt==9)             {                 System.out.println(&quot;Draw!&quot;);                 return true;             }         }"},{"owner":{"account_id":24709581,"reputation":13,"user_id":18599934,"display_name":"Jun"},"score":0,"creation_date":1650482965,"post_id":71945199,"comment_id":127130296,"body_markdown":"I changed it, but the IDE said it still doesn&#39;t work due to missing return statement","body":"I changed it, but the IDE said it still doesn&#39;t work due to missing return statement"},{"owner":{"account_id":18179158,"reputation":200,"user_id":13227292,"display_name":"SgtOmer"},"score":0,"creation_date":1650483174,"post_id":71945199,"comment_id":127130350,"body_markdown":"Do: \nIf(cnt==9){…} else{…}\nInstead of:\nif(cnt==9){…} if(cnt&lt;9){…}","body":"Do:  If(cnt==9){…} else{…} Instead of: if(cnt==9){…} if(cnt&lt;9){…}"},{"owner":{"account_id":24709581,"reputation":13,"user_id":18599934,"display_name":"Jun"},"score":0,"creation_date":1650483840,"post_id":71945199,"comment_id":127130553,"body_markdown":"I did it. Then after I run the program, I chose one number, then it automatically says &quot;not done yet!&quot; and finish the program.","body":"I did it. Then after I run the program, I chose one number, then it automatically says &quot;not done yet!&quot; and finish the program."},{"owner":{"account_id":18179158,"reputation":200,"user_id":13227292,"display_name":"SgtOmer"},"score":0,"creation_date":1650484030,"post_id":71945199,"comment_id":127130602,"body_markdown":"That’s another problem than what you initially asked, I can’t help you with it without all of your code","body":"That’s another problem than what you initially asked, I can’t help you with it without all of your code"},{"owner":{"account_id":24709581,"reputation":13,"user_id":18599934,"display_name":"Jun"},"score":0,"creation_date":1650495134,"post_id":71945199,"comment_id":127133652,"body_markdown":"I edited the code. So please check and help me out if you can. Thx","body":"I edited the code. So please check and help me out if you can. Thx"}],"tags":[],"owner":{"account_id":18179158,"reputation":200,"user_id":13227292,"display_name":"SgtOmer"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650482701,"creation_date":1650482701,"answer_id":71945199,"question_id":71945095,"body_markdown":"The problem is exactly as your IDE told you, you have a function and the IDE can’t verify you have a return statement from every possible path.\r\nIn your case change the last if(the cnt&lt;9) to be the else of the previous if(the cnt==9) as it must be one of them.","title":"I have a question about one of the method java tic tac toe","body":"<p>The problem is exactly as your IDE told you, you have a function and the IDE can’t verify you have a return statement from every possible path.\nIn your case change the last if(the cnt&lt;9) to be the else of the previous if(the cnt==9) as it must be one of them.</p>\n"}],"owner":{"account_id":24709581,"reputation":13,"user_id":18599934,"display_name":"Jun"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":350,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71945199,"answer_count":1,"score":0,"last_activity_date":1675866746,"creation_date":1650482138,"question_id":71945095,"body_markdown":"    public static void main(String[] args) {\r\n        // create scanner to read user input\r\n        // create char[] array to store board values\r\n        // set positions of board from 1 to 9\r\n        // 2 players: &#39;X&#39; and &#39;O&#39;, start with &#39;X&#39;\r\n        Scanner input = new Scanner(System.in);\r\n        char board[] = {&#39;1&#39;, &#39;2&#39;, &#39;3&#39;, &#39;4&#39;, &#39;5&#39;, &#39;6&#39;, &#39;7&#39;, &#39;8&#39;, &#39;9&#39;};\r\n        char player = &#39;X&#39;;\r\n        char player2 = &#39;O&#39;;\r\n        // display the playing board in 3x3 layout\r\n        display(board);\r\n        // play game until gameOver is true\r\n        boolean gameOver = false;\r\n        while (!gameOver) {\r\n            // get current player choice, and update board value\r\n            receiveUserChoice(player, input, board);\r\n            // display the updated board\r\n            display(board);\r\n            // switch player &#39;X&#39; -&gt; &#39;O&#39; or &#39;O&#39; -&gt; &#39;X&#39;\r\n            player = (player == &#39;X&#39;) ? &#39;O&#39; : &#39;X&#39;;\r\n            // check for winner, draw or game is not over yet\r\n            gameOver = isGameOver(board);\r\n\r\n            // ** important ** remove the following statement\r\n            // I added it to avoid infinite loop\r\n            // gameOver value should return from isGameOver() method as above\r\n            gameOver = true; // TODO: remove this\r\n        }\r\n    }\r\n    // display board in 3x3 layout\r\n    // note that array indices from 0 to 8 = positions from 1 to 9\r\n    public static void display(char[] board) {\r\n        System.out.println(&quot;&quot;);\r\n        System.out.println(board[0] + &quot; | &quot; + board[1] + &quot; | &quot; + board[2]);\r\n        System.out.println(board[3] + &quot; | &quot; + board[4] + &quot; | &quot; + board[5]);\r\n        System.out.println(board[6] + &quot; | &quot; + board[7] + &quot; | &quot; + board[8]);\r\n        System.out.println(&quot;&quot;);\r\n    }\r\n    // get current player choice, and update board value\r\n    public static void receiveUserChoice(char player, Scanner input, char[] board) {\r\n        // Step 1: get user input, a position from 1 to 9\r\n        // Step 2: make sure it is a valid position, and the position is not taken yet\r\n        //    2.1: if it is valid input, mark the board position with the current player\r\n        //    2.2: if it is not valid, print message repeat Step 1. until a valid input is obtained\r\n        boolean loop = true;\r\n        while(loop)\r\n        {\r\n            System.out.print(&quot;Which position do you want?&quot;);\r\n            int n = input.nextInt();\r\n            if(n&lt;10&amp;&amp;n&gt;0&amp;&amp;Character.isDigit(board[n-1]))\r\n            {\r\n                board[n-1]=player;\r\n                loop=false;     //After update, loop is false.\r\n                //Whenever the board value is updated, everytime we will check if the game is over or if it&#39;s still continued.\r\n            }\r\n            else\r\n            {\r\n                System.out.println(&quot;Invalid value!Repeat Step1!&quot;);\r\n            }\r\n        }\r\n        // TODO: Add statements\r\n    }\r\n    // check for winner, draw or game is not over yet\r\n    public static boolean isGameOver(char[] board) {\r\n        // Step 1: if there is a winner, print winner message, return true\r\n        // Step 2: if it is a draw, print draw message, return true\r\n        // Step 3: else the game is not over yet, return false\r\n        if(board[0]==board[1]&amp;&amp;board[1]==board[2])//It&#39;s == cuz we are comparing these value.\r\n        {\r\n            System.out.println(board[0]+&quot; wins.&quot;);      //Board 0 can be O or X.\r\n            return true;\r\n        }\r\n        else if(board[3]==board[4]&amp;&amp;board[4]==board[5])\r\n        {\r\n            System.out.println(board[3]+&quot; wins.&quot;);\r\n            return true;\r\n        }\r\n        else if(board[6]==board[7]&amp;&amp;board[7]==board[8])\r\n        {\r\n            System.out.println(board[6]+&quot; wins.&quot;);\r\n            return true;\r\n        }\r\n        else if(board[0]==board[3]&amp;&amp;board[3]==board[6])\r\n        {\r\n            System.out.println(board[0]+&quot; wins.&quot;);\r\n            return true;\r\n        }\r\n        else if(board[1]==board[4]&amp;&amp;board[4]==board[7])\r\n        {\r\n            System.out.println(board[1]+&quot; wins.&quot;);\r\n            return true;\r\n        }\r\n        else if(board[2]==board[5]&amp;&amp;board[5]==board[8])\r\n        {\r\n            System.out.println(board[2]+&quot; wins.&quot;);\r\n            return true;\r\n        }\r\n        else if(board[0]==board[4]&amp;&amp;board[4]==board[8])\r\n        {\r\n            System.out.println(board[0]+&quot; wins.&quot;);\r\n            return true;\r\n        }\r\n        else if(board[2]==board[4]&amp;&amp;board[4]==board[6])\r\n        {\r\n            System.out.println(board[2]+&quot; wins.&quot;);\r\n            return true;\r\n        }\r\n        else        //It has step 2 and step 3.\r\n        {\r\n            int cnt=0;\r\n            for(int i=0;i&lt;board.length;i++)\r\n            {\r\n                if(board[i]==&#39;O&#39;||board[i]==&#39;X&#39;)\r\n                {\r\n                    cnt+=1;\r\n                }\r\n            }\r\n            if(cnt==9)\r\n            {\r\n                System.out.println(&quot;Draw!&quot;);\r\n                return true;\r\n            }\r\n        }\r\n    }\r\n\r\n   This is the code about Tic Tac Toe based on what my professor said. He said I can put both step 2 and step 3 in else statement, but I don&#39;t know how to do it. I gave it a try, but IntelliJ(the program I&#39;m using) said it doesn&#39;t have a return statement. I don&#39;t why it has errors.  Please help me. Thanks.","title":"I have a question about one of the method java tic tac toe","body":"<pre><code>public static void main(String[] args) {\n    // create scanner to read user input\n    // create char[] array to store board values\n    // set positions of board from 1 to 9\n    // 2 players: 'X' and 'O', start with 'X'\n    Scanner input = new Scanner(System.in);\n    char board[] = {'1', '2', '3', '4', '5', '6', '7', '8', '9'};\n    char player = 'X';\n    char player2 = 'O';\n    // display the playing board in 3x3 layout\n    display(board);\n    // play game until gameOver is true\n    boolean gameOver = false;\n    while (!gameOver) {\n        // get current player choice, and update board value\n        receiveUserChoice(player, input, board);\n        // display the updated board\n        display(board);\n        // switch player 'X' -&gt; 'O' or 'O' -&gt; 'X'\n        player = (player == 'X') ? 'O' : 'X';\n        // check for winner, draw or game is not over yet\n        gameOver = isGameOver(board);\n\n        // ** important ** remove the following statement\n        // I added it to avoid infinite loop\n        // gameOver value should return from isGameOver() method as above\n        gameOver = true; // TODO: remove this\n    }\n}\n// display board in 3x3 layout\n// note that array indices from 0 to 8 = positions from 1 to 9\npublic static void display(char[] board) {\n    System.out.println(&quot;&quot;);\n    System.out.println(board[0] + &quot; | &quot; + board[1] + &quot; | &quot; + board[2]);\n    System.out.println(board[3] + &quot; | &quot; + board[4] + &quot; | &quot; + board[5]);\n    System.out.println(board[6] + &quot; | &quot; + board[7] + &quot; | &quot; + board[8]);\n    System.out.println(&quot;&quot;);\n}\n// get current player choice, and update board value\npublic static void receiveUserChoice(char player, Scanner input, char[] board) {\n    // Step 1: get user input, a position from 1 to 9\n    // Step 2: make sure it is a valid position, and the position is not taken yet\n    //    2.1: if it is valid input, mark the board position with the current player\n    //    2.2: if it is not valid, print message repeat Step 1. until a valid input is obtained\n    boolean loop = true;\n    while(loop)\n    {\n        System.out.print(&quot;Which position do you want?&quot;);\n        int n = input.nextInt();\n        if(n&lt;10&amp;&amp;n&gt;0&amp;&amp;Character.isDigit(board[n-1]))\n        {\n            board[n-1]=player;\n            loop=false;     //After update, loop is false.\n            //Whenever the board value is updated, everytime we will check if the game is over or if it's still continued.\n        }\n        else\n        {\n            System.out.println(&quot;Invalid value!Repeat Step1!&quot;);\n        }\n    }\n    // TODO: Add statements\n}\n// check for winner, draw or game is not over yet\npublic static boolean isGameOver(char[] board) {\n    // Step 1: if there is a winner, print winner message, return true\n    // Step 2: if it is a draw, print draw message, return true\n    // Step 3: else the game is not over yet, return false\n    if(board[0]==board[1]&amp;&amp;board[1]==board[2])//It's == cuz we are comparing these value.\n    {\n        System.out.println(board[0]+&quot; wins.&quot;);      //Board 0 can be O or X.\n        return true;\n    }\n    else if(board[3]==board[4]&amp;&amp;board[4]==board[5])\n    {\n        System.out.println(board[3]+&quot; wins.&quot;);\n        return true;\n    }\n    else if(board[6]==board[7]&amp;&amp;board[7]==board[8])\n    {\n        System.out.println(board[6]+&quot; wins.&quot;);\n        return true;\n    }\n    else if(board[0]==board[3]&amp;&amp;board[3]==board[6])\n    {\n        System.out.println(board[0]+&quot; wins.&quot;);\n        return true;\n    }\n    else if(board[1]==board[4]&amp;&amp;board[4]==board[7])\n    {\n        System.out.println(board[1]+&quot; wins.&quot;);\n        return true;\n    }\n    else if(board[2]==board[5]&amp;&amp;board[5]==board[8])\n    {\n        System.out.println(board[2]+&quot; wins.&quot;);\n        return true;\n    }\n    else if(board[0]==board[4]&amp;&amp;board[4]==board[8])\n    {\n        System.out.println(board[0]+&quot; wins.&quot;);\n        return true;\n    }\n    else if(board[2]==board[4]&amp;&amp;board[4]==board[6])\n    {\n        System.out.println(board[2]+&quot; wins.&quot;);\n        return true;\n    }\n    else        //It has step 2 and step 3.\n    {\n        int cnt=0;\n        for(int i=0;i&lt;board.length;i++)\n        {\n            if(board[i]=='O'||board[i]=='X')\n            {\n                cnt+=1;\n            }\n        }\n        if(cnt==9)\n        {\n            System.out.println(&quot;Draw!&quot;);\n            return true;\n        }\n    }\n}\n</code></pre>\n<p>This is the code about Tic Tac Toe based on what my professor said. He said I can put both step 2 and step 3 in else statement, but I don't know how to do it. I gave it a try, but IntelliJ(the program I'm using) said it doesn't have a return statement. I don't why it has errors.  Please help me. Thanks.</p>\n"},{"tags":["java","csv","automation","automated-tests","cucumber"],"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1675895767,"post_id":75386097,"comment_id":133029112,"body_markdown":"can you confirm that the answer I provided worked for you? If not, why not? Be specific so I could help you better.","body":"can you confirm that the answer I provided worked for you? If not, why not? Be specific so I could help you better."}],"answers":[{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675866547,"creation_date":1675866547,"answer_id":75387240,"question_id":75386097,"body_markdown":"I believe your problem is your while loop. The loop won&#39;t stop until `CSVReader#readNext()` returns `null` in which case, the null value is set in the array variable. Later on, when you try to access this global variable, it is null.\r\n\r\nInstead, if your `CSVReader` class has a `hasNext()` method, you should use that to control the loop iterations. When you have a next element, the code will go inside the loop. Then, it will be safe to set the array. If you do not have this method, you may want to create it. The code should look something like this:\r\n\r\n```\r\nwhile (csvReader.hasNext()) {\r\n    csvCell = csvReader.readNext();\r\n    // Why are the strings below necessary? You aren&#39;t using them.\r\n    String Phone = csvCell[0];\r\n    String IDNP = csvCell[1];\r\n    String cardNumber = csvCell[2];\r\n}\r\n```\r\nThis approach guarantees the array will never be null so long it goes into the loop at least once.\r\n\r\nIf you cannot create a `hasNext()` method, you need to use a temporary array.\r\n```\r\npublic String readFile() throws IOException, CsvValidationException {\r\n    String[] temp;\r\n    csvReader = new CSVReader(new FileReader(DataCSVPath));\r\n    while ((temp = csvReader.readNext()) != null) {\r\n        csvCell = temp;\r\n        // Removed unnecessary strings\r\n    }\r\n    return null;\r\n}\r\n```","title":"Put data from csv file automation testing","body":"<p>I believe your problem is your while loop. The loop won't stop until <code>CSVReader#readNext()</code> returns <code>null</code> in which case, the null value is set in the array variable. Later on, when you try to access this global variable, it is null.</p>\n<p>Instead, if your <code>CSVReader</code> class has a <code>hasNext()</code> method, you should use that to control the loop iterations. When you have a next element, the code will go inside the loop. Then, it will be safe to set the array. If you do not have this method, you may want to create it. The code should look something like this:</p>\n<pre><code>while (csvReader.hasNext()) {\n    csvCell = csvReader.readNext();\n    // Why are the strings below necessary? You aren't using them.\n    String Phone = csvCell[0];\n    String IDNP = csvCell[1];\n    String cardNumber = csvCell[2];\n}\n</code></pre>\n<p>This approach guarantees the array will never be null so long it goes into the loop at least once.</p>\n<p>If you cannot create a <code>hasNext()</code> method, you need to use a temporary array.</p>\n<pre><code>public String readFile() throws IOException, CsvValidationException {\n    String[] temp;\n    csvReader = new CSVReader(new FileReader(DataCSVPath));\n    while ((temp = csvReader.readNext()) != null) {\n        csvCell = temp;\n        // Removed unnecessary strings\n    }\n    return null;\n}\n</code></pre>\n"}],"owner":{"account_id":27562981,"reputation":11,"user_id":21035721,"display_name":"Catea"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675866547,"creation_date":1675860801,"question_id":75386097,"body_markdown":"Hi I want to put data from my CSV file used automation testing but I have error:Attempt to read from null array\r\nMy code:\r\n\r\n```\r\npublic class TestData {\r\n    String DataCSVPath = &quot;src/androidTest/java/md/app/TestData/Data.csv&quot;;\r\n    protected CSVReader csvReader;\r\n    String csvCell[];\r\n\r\n    public String readFile() throws IOException, CsvValidationException {\r\n        csvReader = new CSVReader(new FileReader(DataCSVPath));\r\n        while ((csvCell = csvReader.readNext()) != null) {\r\n            String Phone = csvCell[0];\r\n            String IDNP = csvCell[1];\r\n            String cardNumber = csvCell[2];\r\n\r\n        }\r\n        return null;\r\n    }\r\n}\r\n\r\n```\r\nMy CSV file:\r\nPhone,IDNP, card number\r\n \r\n&quot;064511418&quot;,&quot;59495955&quot;,&quot;9529525852&quot;\r\nAnd my automation step\r\n   onView(withId(R.id.et_phone_number)).perform(typeText(csvCell[0]));\r\n\r\nIn this line\r\n   onView(withId(R.id.et_phone_number)).perform(typeText(csvCell[0]));\r\nI have error ttempt to read from null array\r\n\r\n  Hi I want to put data from my CSV file used automation testing but I have error:Attempt to read from      null array\r\nMy code:\r\n\r\n```\r\npublic class TestData {\r\n    String DataCSVPath = &quot;src/androidTest/java/md/app/TestData/Data.csv&quot;;\r\n    protected CSVReader csvReader;\r\n    String csvCell[];\r\n\r\n    public String readFile() throws IOException, CsvValidationException {\r\n        csvReader = new CSVReader(new FileReader(DataCSVPath));\r\n        while ((csvCell = csvReader.readNext()) != null) {\r\n            String Phone = csvCell[0];\r\n            String IDNP = csvCell[1];\r\n            String cardNumber = csvCell[2];\r\n\r\n        }\r\n        return null;\r\n    }\r\n}\r\n\r\n```\r\nMy CSV file:\r\n Phone,IDNP, card number\r\n&quot;064511418&quot;,&quot;59495955&quot;,&quot;9529525852&quot;\r\n\r\nAnd my automation step\r\n   onView(withId(R.id.et_phone_number)).perform(typeText(csvCell[0]));\r\n\r\nIn this line\r\n   onView(withId(R.id.et_phone_number)).perform(typeText(csvCell[0]));\r\nI have error ttempt to read from null array","title":"Put data from csv file automation testing","body":"<p>Hi I want to put data from my CSV file used automation testing but I have error:Attempt to read from null array\nMy code:</p>\n<pre><code>public class TestData {\n    String DataCSVPath = &quot;src/androidTest/java/md/app/TestData/Data.csv&quot;;\n    protected CSVReader csvReader;\n    String csvCell[];\n\n    public String readFile() throws IOException, CsvValidationException {\n        csvReader = new CSVReader(new FileReader(DataCSVPath));\n        while ((csvCell = csvReader.readNext()) != null) {\n            String Phone = csvCell[0];\n            String IDNP = csvCell[1];\n            String cardNumber = csvCell[2];\n\n        }\n        return null;\n    }\n}\n\n</code></pre>\n<p>My CSV file:\nPhone,IDNP, card number</p>\n<p>&quot;064511418&quot;,&quot;59495955&quot;,&quot;9529525852&quot;\nAnd my automation step\nonView(withId(R.id.et_phone_number)).perform(typeText(csvCell[0]));</p>\n<p>In this line\nonView(withId(R.id.et_phone_number)).perform(typeText(csvCell[0]));\nI have error ttempt to read from null array</p>\n<p>Hi I want to put data from my CSV file used automation testing but I have error:Attempt to read from      null array\nMy code:</p>\n<pre><code>public class TestData {\n    String DataCSVPath = &quot;src/androidTest/java/md/app/TestData/Data.csv&quot;;\n    protected CSVReader csvReader;\n    String csvCell[];\n\n    public String readFile() throws IOException, CsvValidationException {\n        csvReader = new CSVReader(new FileReader(DataCSVPath));\n        while ((csvCell = csvReader.readNext()) != null) {\n            String Phone = csvCell[0];\n            String IDNP = csvCell[1];\n            String cardNumber = csvCell[2];\n\n        }\n        return null;\n    }\n}\n\n</code></pre>\n<p>My CSV file:\nPhone,IDNP, card number\n&quot;064511418&quot;,&quot;59495955&quot;,&quot;9529525852&quot;</p>\n<p>And my automation step\nonView(withId(R.id.et_phone_number)).perform(typeText(csvCell[0]));</p>\n<p>In this line\nonView(withId(R.id.et_phone_number)).perform(typeText(csvCell[0]));\nI have error ttempt to read from null array</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":1,"creation_date":1675709123,"post_id":75364362,"comment_id":132983190,"body_markdown":"Is this native library 32-bit or 64-bit? Is the JVM running the application 32-bit or 64-bit?","body":"Is this native library 32-bit or 64-bit? Is the JVM running the application 32-bit or 64-bit?"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1675756854,"post_id":75364362,"comment_id":132991907,"body_markdown":"What nitind says. Your JVM seems to be 64 bit (according to your screenshot 4: Java installed in `C:\\Program Files\\`, not in `C:\\Program Files (x86)`). But maybe your native library is 32 bit (the video is pretty old, so this is very likely).","body":"What nitind says. Your JVM seems to be 64 bit (according to your screenshot 4: Java installed in <code>C:\\Program Files`, not in </code>C:\\Program Files (x86)`). But maybe your native library is 32 bit (the video is pretty old, so this is very likely)."},{"owner":{"account_id":24748784,"reputation":1,"user_id":21154418,"display_name":"xraise17"},"score":0,"creation_date":1675866104,"post_id":75364362,"comment_id":133019922,"body_markdown":"How do I check what that .jar is running (32 or 64 bit)?\nI have downloaded them from here https://legacy.lwjgl.org/ (2.9.1 - 2.9.3)\nBut I think you are probably right. If thats the case what would you suggest?\nDownload the latest version of lwjgl? Download 32bit jvm (prob.not)? Keep in mind that for eclipse to run I need to use something around java 14 and above.\n\nI have tried right now to make it run with lwjgl 3.3.1 but the problem Display is not used in the 3 version and I get these errors. \n@nitind Please check the edit in Comment section of the post to see the screenshots","body":"How do I check what that .jar is running (32 or 64 bit)? I have downloaded them from here <a href=\"https://legacy.lwjgl.org/\" rel=\"nofollow noreferrer\">legacy.lwjgl.org</a> (2.9.1 - 2.9.3) But I think you are probably right. If thats the case what would you suggest? Download the latest version of lwjgl? Download 32bit jvm (prob.not)? Keep in mind that for eclipse to run I need to use something around java 14 and above.  I have tried right now to make it run with lwjgl 3.3.1 but the problem Display is not used in the 3 version and I get these errors.  @nitind Please check the edit in Comment section of the post to see the screenshots"},{"owner":{"account_id":24748784,"reputation":1,"user_id":21154418,"display_name":"xraise17"},"score":0,"creation_date":1675866548,"post_id":75364362,"comment_id":133020100,"body_markdown":"@howlger I wanted to mention you in the above comment as well but It doesn&#39;t allow double mentioning","body":"@howlger I wanted to mention you in the above comment as well but It doesn&#39;t allow double mentioning"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1675932440,"post_id":75364362,"comment_id":133035071,"body_markdown":"`*.class` files are platform (and 32/64 bit) independent. But the Java VM and native libraries are not: a 32 bit native library works only with a 32 bit Java VM (which might run on a 64 bit operating system) and a 64 bit native library works only with a 64 bit Java VM. With which Java VM you run Eclipse is a complete different thing (best use the Java shipped with Eclipse) and independent of the Java VM you use to run your code.","body":"<code>*.class</code> files are platform (and 32/64 bit) independent. But the Java VM and native libraries are not: a 32 bit native library works only with a 32 bit Java VM (which might run on a 64 bit operating system) and a 64 bit native library works only with a 64 bit Java VM. With which Java VM you run Eclipse is a complete different thing (best use the Java shipped with Eclipse) and independent of the Java VM you use to run your code."}],"owner":{"account_id":24748784,"reputation":1,"user_id":21154418,"display_name":"xraise17"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675866397,"creation_date":1675702887,"question_id":75364362,"body_markdown":"**Background/Prerequisites**\r\n\r\nI am trying to follow a game tutorial(to create flappy bird). In the\r\nEpisode - 2 it creates an empty window and I get an error.\r\n\r\nI tried following this tutorial series to create a game using java - eclipse - lwjgl.\r\n[https://www.youtube.com/watch?v=1pUYjxeDNEs&amp;list=PLlrATfBNZ98e5KBKGcL7ARy3DjstzI2TV&amp;index=1&amp;ab_channel=TheCherno](Ep.1)\r\n[Flappy Bird - Episode 1][1]\r\n\r\nI have installed java jdk 17.0.6 (in the tutorial it installs an older version which I thought it won&#39;t be a problem, let me know if this could be the cause), eclipse 2022 and lwjgl - 2.9.1. \r\n\r\nI have copied the code from Episode 2 (seen below): \r\n[https://www.youtube.com/watch?v=PlMqfsOOD3U&amp;list=PLlrATfBNZ98e5KBKGcL7ARy3DjstzI2TV&amp;index=2&amp;ab_channel=TheCherno](Ep.2)\r\n[Flappy Bird - Episode 2][2]\r\nwhich tries to create an empty window.\r\n\r\n````\r\npackage    com.chris.flappy;\r\n\r\nimport     org.lwjgl.LWJGLException;\r\nimport     org.lwjgl.opengl.Display;\r\nimport     org.lwjgl.opengl.DisplayMode;\r\n\r\npublic class Main implements Runnable{\r\n\t\r\n\tprivate int width = 1280;\r\n\tprivate int height = 720;\r\n\tprivate String title = &quot;Flappy&quot;;\r\n\t\r\n\tprivate boolean running = false;\r\n\r\n\tprivate Thread thread;\r\n\t\r\n\tpublic void start(){\r\n\t\trunning = true;\r\n\t\tthread = new Thread(this,&quot;Display&quot;);\r\n\t\tthread.start(); \r\n\t}\r\n\r\n\r\n\tpublic void run() {\r\n\t\ttry {\r\n\t\t\tDisplay.setDisplayMode(new DisplayMode(width,height));\r\n\t\t\tDisplay.setTitle(title);\r\n\t\t\tDisplay.create();\r\n\t\t\t\r\n\t\t} catch (LWJGLException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\twhile(running) {\r\n\t\t\tif(Display.isCloseRequested()) running = false;\r\n\t\t}\r\n\t\tDisplay.destroy();\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic static void main(String args[]) {\r\n\t\t\r\n\t\tnew Main().start();\r\n\t\t\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n}\r\n\r\n````\r\n\r\nI have included in the module path the lwjgl.jar file and changed the native library location as shown in the video to the corresponding folder with the dlls, but with the difference that in the video (probably because it was an older version) it didn&#39;t have the separation of module path and class path. \r\n[Screenshot_1](https://i.stack.imgur.com/JqUC6.png)\r\n\r\nI have the following workspace folders set.\r\n[Screenshot_2](https://i.stack.imgur.com/cgOBb.png)\r\n[Screenshot_3](https://i.stack.imgur.com/pZu0l.png)\r\n\r\n**Error**\r\n\r\nI am gettting the following error.\r\n\r\n    Error: Unable to initialize main class com.chris.flappy.Main\r\n    Caused by: java.lang.NoClassDefFoundError: org/lwjgl/LWJGLException\r\n\r\n[Screenshot_4](https://i.stack.imgur.com/pg86K.png)\r\n\r\n**What have I tried from the mentioned solutions?**\r\n- I have tried using an older version of java (1.8) and still it doesn&#39;t work \r\n- In this article [solution][3] they mentioned about moving jars to classpath, I tried drag and dropping them from module path as well as placing them but it seems to not work.\r\n\r\nDoes anyone know how can I fix this?\r\n\r\nThank you.\r\n\r\n**Comment section**\r\n\r\n[comment_screenshot1][4]\r\n\r\n[comment_screenshot2][5]\r\n\r\n  [1]: https://www.youtube.com/watch?v=1pUYjxeDNEs&amp;list=PLlrATfBNZ98e5KBKGcL7ARy3DjstzI2TV&amp;index=1&amp;ab_channel=TheCherno\r\n  [2]: https://www.youtube.com/watch?v=PlMqfsOOD3U&amp;list=PLlrATfBNZ98e5KBKGcL7ARy3DjstzI2TV&amp;index=2&amp;ab_channel=TheCherno\r\n  [3]: https://stackoverflow.com/questions/67644836/why-am-i-getting-this-error-for-my-lwjgl-program\r\n  [4]: https://i.stack.imgur.com/LakLC.png\r\n  [5]: https://i.stack.imgur.com/v9dmi.png","title":"How do I fix java.lang.NoClassDefFoundError: org/lwjgl/LWJGLException ? (Eclipse - lwjgl)","body":"<p><strong>Background/Prerequisites</strong></p>\n<p>I am trying to follow a game tutorial(to create flappy bird). In the\nEpisode - 2 it creates an empty window and I get an error.</p>\n<p>I tried following this tutorial series to create a game using java - eclipse - lwjgl.\nhttps://www.youtube.com/watch?v=1pUYjxeDNEs&amp;list=PLlrATfBNZ98e5KBKGcL7ARy3DjstzI2TV&amp;index=1&amp;ab_channel=TheCherno\n<a href=\"https://www.youtube.com/watch?v=1pUYjxeDNEs&amp;list=PLlrATfBNZ98e5KBKGcL7ARy3DjstzI2TV&amp;index=1&amp;ab_channel=TheCherno\" rel=\"nofollow noreferrer\">Flappy Bird - Episode 1</a></p>\n<p>I have installed java jdk 17.0.6 (in the tutorial it installs an older version which I thought it won't be a problem, let me know if this could be the cause), eclipse 2022 and lwjgl - 2.9.1.</p>\n<p>I have copied the code from Episode 2 (seen below):\nhttps://www.youtube.com/watch?v=PlMqfsOOD3U&amp;list=PLlrATfBNZ98e5KBKGcL7ARy3DjstzI2TV&amp;index=2&amp;ab_channel=TheCherno\n<a href=\"https://www.youtube.com/watch?v=PlMqfsOOD3U&amp;list=PLlrATfBNZ98e5KBKGcL7ARy3DjstzI2TV&amp;index=2&amp;ab_channel=TheCherno\" rel=\"nofollow noreferrer\">Flappy Bird - Episode 2</a>\nwhich tries to create an empty window.</p>\n<pre><code>package    com.chris.flappy;\n\nimport     org.lwjgl.LWJGLException;\nimport     org.lwjgl.opengl.Display;\nimport     org.lwjgl.opengl.DisplayMode;\n\npublic class Main implements Runnable{\n    \n    private int width = 1280;\n    private int height = 720;\n    private String title = &quot;Flappy&quot;;\n    \n    private boolean running = false;\n\n    private Thread thread;\n    \n    public void start(){\n        running = true;\n        thread = new Thread(this,&quot;Display&quot;);\n        thread.start(); \n    }\n\n\n    public void run() {\n        try {\n            Display.setDisplayMode(new DisplayMode(width,height));\n            Display.setTitle(title);\n            Display.create();\n            \n        } catch (LWJGLException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        while(running) {\n            if(Display.isCloseRequested()) running = false;\n        }\n        Display.destroy();\n        \n    }\n    \n    public static void main(String args[]) {\n        \n        new Main().start();\n        \n        \n    }\n    \n    \n}\n\n</code></pre>\n<p>I have included in the module path the lwjgl.jar file and changed the native library location as shown in the video to the corresponding folder with the dlls, but with the difference that in the video (probably because it was an older version) it didn't have the separation of module path and class path.\n<a href=\"https://i.stack.imgur.com/JqUC6.png\" rel=\"nofollow noreferrer\">Screenshot_1</a></p>\n<p>I have the following workspace folders set.\n<a href=\"https://i.stack.imgur.com/cgOBb.png\" rel=\"nofollow noreferrer\">Screenshot_2</a>\n<a href=\"https://i.stack.imgur.com/pZu0l.png\" rel=\"nofollow noreferrer\">Screenshot_3</a></p>\n<p><strong>Error</strong></p>\n<p>I am gettting the following error.</p>\n<pre><code>Error: Unable to initialize main class com.chris.flappy.Main\nCaused by: java.lang.NoClassDefFoundError: org/lwjgl/LWJGLException\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/pg86K.png\" rel=\"nofollow noreferrer\">Screenshot_4</a></p>\n<p><strong>What have I tried from the mentioned solutions?</strong></p>\n<ul>\n<li>I have tried using an older version of java (1.8) and still it doesn't work</li>\n<li>In this article <a href=\"https://stackoverflow.com/questions/67644836/why-am-i-getting-this-error-for-my-lwjgl-program\">solution</a> they mentioned about moving jars to classpath, I tried drag and dropping them from module path as well as placing them but it seems to not work.</li>\n</ul>\n<p>Does anyone know how can I fix this?</p>\n<p>Thank you.</p>\n<p><strong>Comment section</strong></p>\n<p><a href=\"https://i.stack.imgur.com/LakLC.png\" rel=\"nofollow noreferrer\">comment_screenshot1</a></p>\n<p><a href=\"https://i.stack.imgur.com/v9dmi.png\" rel=\"nofollow noreferrer\">comment_screenshot2</a></p>\n"},{"tags":["java","docker","skaffold","kaniko"],"owner":{"account_id":3407529,"reputation":21,"user_id":2858254,"display_name":"Girish Chandra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2313,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675866318,"creation_date":1651459389,"question_id":72081886,"body_markdown":"I am trying to deploy application on K8s using skaffold, kaniko and desktop-docker.\r\nGetting below error msg \r\n\r\nerror checking push permissions -- make sure you entered the correct tag name, and that you are authenticated correctly, and try again: checking push permission for &quot;index.docker.io/chandramgc/autodockerdeployer:6d5351a-dirty&quot;: UNAUTHORIZED: authentication required; [map[Action:pull Class: Name:chandramgc/autodockerdeployer Type:repository] map[Action:push Class: Name:chandramgc/autodockerdeployer Type:repository]]\r\npod has failed\r\n\r\nLooking of any guidance in resolving the issue. Any help is appreciated.   \r\n\r\nSkaffold.yml\r\n```\r\napiVersion: skaffold/v1\r\nkind: Config\r\nbuild:\r\n  tagPolicy:\r\n    gitCommit: {}\r\n  artifacts:\r\n    - image: chandramgc/autodockerdeployer\r\n      # jib: {}\r\n      kaniko:\r\n        image: mgit/base:kaniko-executor-debug-stable\r\n        buildContext:\r\n          localDir: {}\r\n        cache: {}\r\n  cluster:\r\n    dockerConfig: \r\n      secretName: dockercred\r\ndeploy:\r\n  kubectl:\r\n    manifests:\r\n      - k8s-*\r\n```\r\nDockerfile\r\n```\r\n# For Java 8, try this\r\n# FROM openjdk:8-jdk-alpine\r\n\r\n# For Java 11, try this\r\nFROM adoptopenjdk/openjdk11:alpine-jre\r\n\r\n# Refer to Gradle build -&gt; finalName\r\nARG JAR_FILE=build/libs/autodockerdeployer-0.0.1-SNAPSHOT.jar\r\n\r\n# cd /opt/app\r\nWORKDIR /opt/app\r\n\r\n# cp target/spring-boot-web.jar /opt/app/app.jar\r\nCOPY ${JAR_FILE} app.jar\r\n\r\n# java -jar /opt/app/app.jar\r\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;app.jar&quot;]\r\n```\r\ndockercred\r\n```\r\nkubectl create secret docker-registry dockercred --docker-server=https://index.docker.io/v2/ --docker-username=&lt;username&gt; --docker-password=&lt;password&gt; --docker-email=&lt;email&gt;\r\n```\r\nk8.yml\r\n```\r\napiVersion: apps/v1\r\nkind: Deployment\r\nmetadata:\r\n  labels:\r\n    app: auto-docker-deployer-app\r\n  name: auto-docker-deployer-app\r\nspec:\r\n  replicas: 2\r\n  selector:\r\n    matchLabels:\r\n      app: auto-docker-deployer-app\r\n  template:\r\n    metadata:\r\n      labels:\r\n        app: auto-docker-deployer-app\r\n    spec:\r\n      containers:\r\n        - image: autodockerdeployer\r\n          name: auto-docker-deployer-app\r\n---\r\napiVersion: v1\r\nkind: Service\r\nmetadata:\r\n  labels:\r\n    app: auto-docker-deployer-app\r\n  name: auto-docker-deployer-app\r\nspec:\r\n  ports:\r\n    - port: 8095\r\n      protocol: TCP\r\n      targetPort: 8095\r\n  selector:\r\n    app: auto-docker-deployer-app\r\n  type: NodePort\r\n```","title":"Error checking push permissions -- make sure you entered the correct tag name, and that you are authenticated correctly; UNAUTHORIZED: authentication;","body":"<p>I am trying to deploy application on K8s using skaffold, kaniko and desktop-docker.\nGetting below error msg</p>\n<p>error checking push permissions -- make sure you entered the correct tag name, and that you are authenticated correctly, and try again: checking push permission for &quot;index.docker.io/chandramgc/autodockerdeployer:6d5351a-dirty&quot;: UNAUTHORIZED: authentication required; [map[Action:pull Class: Name:chandramgc/autodockerdeployer Type:repository] map[Action:push Class: Name:chandramgc/autodockerdeployer Type:repository]]\npod has failed</p>\n<p>Looking of any guidance in resolving the issue. Any help is appreciated.</p>\n<p>Skaffold.yml</p>\n<pre><code>apiVersion: skaffold/v1\nkind: Config\nbuild:\n  tagPolicy:\n    gitCommit: {}\n  artifacts:\n    - image: chandramgc/autodockerdeployer\n      # jib: {}\n      kaniko:\n        image: mgit/base:kaniko-executor-debug-stable\n        buildContext:\n          localDir: {}\n        cache: {}\n  cluster:\n    dockerConfig: \n      secretName: dockercred\ndeploy:\n  kubectl:\n    manifests:\n      - k8s-*\n</code></pre>\n<p>Dockerfile</p>\n<pre><code># For Java 8, try this\n# FROM openjdk:8-jdk-alpine\n\n# For Java 11, try this\nFROM adoptopenjdk/openjdk11:alpine-jre\n\n# Refer to Gradle build -&gt; finalName\nARG JAR_FILE=build/libs/autodockerdeployer-0.0.1-SNAPSHOT.jar\n\n# cd /opt/app\nWORKDIR /opt/app\n\n# cp target/spring-boot-web.jar /opt/app/app.jar\nCOPY ${JAR_FILE} app.jar\n\n# java -jar /opt/app/app.jar\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;app.jar&quot;]\n</code></pre>\n<p>dockercred</p>\n<pre><code>kubectl create secret docker-registry dockercred --docker-server=https://index.docker.io/v2/ --docker-username=&lt;username&gt; --docker-password=&lt;password&gt; --docker-email=&lt;email&gt;\n</code></pre>\n<p>k8.yml</p>\n<pre><code>apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  labels:\n    app: auto-docker-deployer-app\n  name: auto-docker-deployer-app\nspec:\n  replicas: 2\n  selector:\n    matchLabels:\n      app: auto-docker-deployer-app\n  template:\n    metadata:\n      labels:\n        app: auto-docker-deployer-app\n    spec:\n      containers:\n        - image: autodockerdeployer\n          name: auto-docker-deployer-app\n---\napiVersion: v1\nkind: Service\nmetadata:\n  labels:\n    app: auto-docker-deployer-app\n  name: auto-docker-deployer-app\nspec:\n  ports:\n    - port: 8095\n      protocol: TCP\n      targetPort: 8095\n  selector:\n    app: auto-docker-deployer-app\n  type: NodePort\n</code></pre>\n"},{"tags":["java","swing","jscrollpane","springlayout"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1675866085,"post_id":75387016,"comment_id":133019915,"body_markdown":"Would you consider setting the horizontal [scrollbar](https://docs.oracle.com/javase/tutorial/uiswing/components/scrollpane.html) policy to `HORIZONTAL_SCROLLBAR_ALWAYS`?","body":"Would you consider setting the horizontal <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/scrollpane.html\" rel=\"nofollow noreferrer\">scrollbar</a> policy to <code>HORIZONTAL_SCROLLBAR_ALWAYS</code>?"},{"owner":{"account_id":14946078,"reputation":41,"user_id":10791320,"display_name":"MineRickStar"},"score":0,"creation_date":1675866797,"post_id":75387016,"comment_id":133020195,"body_markdown":"That unfotunately produces the same result.","body":"That unfotunately produces the same result."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1675867466,"post_id":75387016,"comment_id":133020458,"body_markdown":"_SpringLayout is, however, very low-level and as such you really should only use it with a GUI builder, rather than attempting to code a spring layout manager by hand._ from https://docs.oracle.com/javase/tutorial/uiswing/layout/spring.html","body":"<i>SpringLayout is, however, very low-level and as such you really should only use it with a GUI builder, rather than attempting to code a spring layout manager by hand.</i> from <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/spring.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/uiswing/layout/spring.html</a>"}],"answers":[{"comments":[{"owner":{"account_id":14946078,"reputation":41,"user_id":10791320,"display_name":"MineRickStar"},"score":0,"creation_date":1675866754,"post_id":75387103,"comment_id":133020179,"body_markdown":"Thank you, that is almost exatly what I wanted and it solved the problem with the buttons. I guess using complex LayoutManagers is only beneficial if you really know what they are doing.","body":"Thank you, that is almost exatly what I wanted and it solved the problem with the buttons. I guess using complex LayoutManagers is only beneficial if you really know what they are doing."}],"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1675865988,"creation_date":1675865988,"answer_id":75387103,"question_id":75387016,"body_markdown":"Do not pass negative numbers to `putConstraint`.\r\n\r\nFrom [the documentation of putConstraint](https://docs.oracle.com/en/java/javase/19/docs/api/java.desktop/javax/swing/SpringLayout.html#putConstraint(java.lang.String,java.awt.Component,int,java.lang.String,java.awt.Component)):\r\n\r\n&gt;Links edge e1 of component c1 to edge e2 of component c2, with a fixed distance between the edges.\r\n\r\nThe `pad` value is not an absolute pixel offset, it is the amount of padding (the distance) between the component and the linked edge.  It should always be positive.\r\n\r\nThe same javadoc also describes the `pad` parameter as:\r\n\r\n&gt;`pad` - the fixed distance between dependent and anchor\r\n\r\nSpringLayout is complex, which means it’s easy to make mistakes with it.  You can easily accomplish the same layout with a BorderLayout:\r\n\r\n    setLayout(new BorderLayout());\r\n    add(label, BorderLayout.PAGE_START);\r\n    add(scrollPane, BorderLayout.CENTER);\r\n    add(buttonPanel, BorderLayout.PAGE_END);\r\n\r\n    label.setBorder(BorderFactory.createEmptyBorder(0, 0, 10, 0));\r\n    buttonPanel.setBorder(BorderFactory.createEmptyBorder(10, 0, 0, 0));\r\n    this.setBorder(BorderFactory.createEmptyBorder(10, 10, 10, 10));\r\n","title":"JScrollBar Layout Manager and SpringLayout Manager not working together","body":"<p>Do not pass negative numbers to <code>putConstraint</code>.</p>\n<p>From <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.desktop/javax/swing/SpringLayout.html#putConstraint(java.lang.String,java.awt.Component,int,java.lang.String,java.awt.Component)\" rel=\"nofollow noreferrer\">the documentation of putConstraint</a>:</p>\n<blockquote>\n<p>Links edge e1 of component c1 to edge e2 of component c2, with a fixed distance between the edges.</p>\n</blockquote>\n<p>The <code>pad</code> value is not an absolute pixel offset, it is the amount of padding (the distance) between the component and the linked edge.  It should always be positive.</p>\n<p>The same javadoc also describes the <code>pad</code> parameter as:</p>\n<blockquote>\n<p><code>pad</code> - the fixed distance between dependent and anchor</p>\n</blockquote>\n<p>SpringLayout is complex, which means it’s easy to make mistakes with it.  You can easily accomplish the same layout with a BorderLayout:</p>\n<pre><code>setLayout(new BorderLayout());\nadd(label, BorderLayout.PAGE_START);\nadd(scrollPane, BorderLayout.CENTER);\nadd(buttonPanel, BorderLayout.PAGE_END);\n\nlabel.setBorder(BorderFactory.createEmptyBorder(0, 0, 10, 0));\nbuttonPanel.setBorder(BorderFactory.createEmptyBorder(10, 0, 0, 0));\nthis.setBorder(BorderFactory.createEmptyBorder(10, 10, 10, 10));\n</code></pre>\n"}],"owner":{"account_id":14946078,"reputation":41,"user_id":10791320,"display_name":"MineRickStar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75387103,"answer_count":1,"score":2,"last_activity_date":1675866118,"creation_date":1675865570,"question_id":75387016,"body_markdown":"    public void createSpringLayout(SpringLayout spring, JLabel label, JScrollPane scrollPane, JPanel buttonPanel) {\r\n        spring.putConstraint(SpringLayout.NORTH, label, 10, SpringLayout.NORTH, this);\r\n        spring.putConstraint(SpringLayout.WEST, label, 10, SpringLayout.WEST, this);\r\n\r\n    \tspring.putConstraint(SpringLayout.NORTH, scrollPane, 10, SpringLayout.SOUTH, label);\r\n    \tspring.putConstraint(SpringLayout.WEST, scrollPane, 0, SpringLayout.WEST, label);\r\n    \tspring.putConstraint(SpringLayout.EAST, scrollPane, -10, SpringLayout.EAST, this);\r\n    \r\n    \tspring.putConstraint(SpringLayout.NORTH, buttonPanel, Spring.constant(10, 30, 30), SpringLayout.SOUTH, scrollPane);\r\n    \r\n    \tspring.putConstraint(SpringLayout.SOUTH, buttonPanel, -10, SpringLayout.SOUTH, this);\r\n    \tspring.putConstraint(SpringLayout.WEST, buttonPanel, 0, SpringLayout.WEST, label);\r\n    }\r\n\r\n[![This is what happens](https://i.stack.imgur.com/TdiRG.png)](https://i.stack.imgur.com/TdiRG.png)\r\n\r\nThe two Jpanels with all the stuff on them are using the same superclass for better looks.\r\nHowever as you can see if the contents of the scrollpane are to wide the scrollpane just uses extra space in the bottom to create a horizontal scrollbar.\r\nEven if I tell the Springlayout that the spring between the scrollpane and the buttonPanel can be between 10 and 30.\r\n\r\nI think that first the SpringLayoutManager is called to layout its components and then the ScrollPane comes along and notices that its displayed Components do not fit in the Viewport and creates a Scrollbar, which the SpringLayoutManager is unaware of.\r\n\r\nI can&#39;t find any solution tha tell the ScrollPane beforehand to calculate its needed Size or for it to just dont use more Space than it has from the beginning.","title":"JScrollBar Layout Manager and SpringLayout Manager not working together","body":"<pre><code>public void createSpringLayout(SpringLayout spring, JLabel label, JScrollPane scrollPane, JPanel buttonPanel) {\n    spring.putConstraint(SpringLayout.NORTH, label, 10, SpringLayout.NORTH, this);\n    spring.putConstraint(SpringLayout.WEST, label, 10, SpringLayout.WEST, this);\n\n    spring.putConstraint(SpringLayout.NORTH, scrollPane, 10, SpringLayout.SOUTH, label);\n    spring.putConstraint(SpringLayout.WEST, scrollPane, 0, SpringLayout.WEST, label);\n    spring.putConstraint(SpringLayout.EAST, scrollPane, -10, SpringLayout.EAST, this);\n\n    spring.putConstraint(SpringLayout.NORTH, buttonPanel, Spring.constant(10, 30, 30), SpringLayout.SOUTH, scrollPane);\n\n    spring.putConstraint(SpringLayout.SOUTH, buttonPanel, -10, SpringLayout.SOUTH, this);\n    spring.putConstraint(SpringLayout.WEST, buttonPanel, 0, SpringLayout.WEST, label);\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/TdiRG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TdiRG.png\" alt=\"This is what happens\" /></a></p>\n<p>The two Jpanels with all the stuff on them are using the same superclass for better looks.\nHowever as you can see if the contents of the scrollpane are to wide the scrollpane just uses extra space in the bottom to create a horizontal scrollbar.\nEven if I tell the Springlayout that the spring between the scrollpane and the buttonPanel can be between 10 and 30.</p>\n<p>I think that first the SpringLayoutManager is called to layout its components and then the ScrollPane comes along and notices that its displayed Components do not fit in the Viewport and creates a Scrollbar, which the SpringLayoutManager is unaware of.</p>\n<p>I can't find any solution tha tell the ScrollPane beforehand to calculate its needed Size or for it to just dont use more Space than it has from the beginning.</p>\n"},{"tags":["java","android","bitmap"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":2,"creation_date":1675866420,"post_id":75387127,"comment_id":133020045,"body_markdown":"`FileOutputStream outputStream = new FileOutputStream(files);` That will not work. You will get an exception. Why didnt you tell? . Place a Toast() in that catch block to inform the user about the exception. You are trying to open an output stream on a directory. That will not go. Add a file name first.","body":"<code>FileOutputStream outputStream = new FileOutputStream(files);</code> That will not work. You will get an exception. Why didnt you tell? . Place a Toast() in that catch block to inform the user about the exception. You are trying to open an output stream on a directory. That will not go. Add a file name first."}],"owner":{"account_id":27560097,"reputation":3,"user_id":21033287,"display_name":"Anushka"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675866067,"creation_date":1675866067,"question_id":75387127,"body_markdown":"I am trying to reduce image size mb to kb using bitmap. but the code I have done is not working. I am new in android programming please can anyone help.\r\n\r\nthanks.\r\n\r\nI expect like this to convert image.\r\n[enter image description here](https://i.stack.imgur.com/7v144.png)\r\n\r\nI have tried this \r\n\r\n```\r\n public void compressBitmap(File file, int sampleSize, int quality) {\r\n        try {\r\n            BitmapFactory.Options options = new BitmapFactory.Options();\r\n            options.inSampleSize = sampleSize;\r\n            FileInputStream inputStream = new FileInputStream(file);\r\n\r\n            Bitmap selectedBitmap = BitmapFactory.decodeStream(inputStream, null, options);\r\n            inputStream.close();\r\n\r\n            File files = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_PICTURES).getAbsolutePath());\r\n\r\n            FileOutputStream outputStream = new FileOutputStream(files);\r\n            selectedBitmap.compress(Bitmap.CompressFormat.JPEG, quality, outputStream);\r\n            outputStream.close();\r\n            long lengthInKb = file.length() / 1024; //in kb\r\n            if (lengthInKb &gt; 1000) {\r\n                compressBitmap(file, (sampleSize*2), (quality/4));\r\n            }\r\n\r\n            selectedBitmap.recycle();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n```\r\n","title":"How to reduce image size mb to kb in android?","body":"<p>I am trying to reduce image size mb to kb using bitmap. but the code I have done is not working. I am new in android programming please can anyone help.</p>\n<p>thanks.</p>\n<p>I expect like this to convert image.\n<a href=\"https://i.stack.imgur.com/7v144.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I have tried this</p>\n<pre><code> public void compressBitmap(File file, int sampleSize, int quality) {\n        try {\n            BitmapFactory.Options options = new BitmapFactory.Options();\n            options.inSampleSize = sampleSize;\n            FileInputStream inputStream = new FileInputStream(file);\n\n            Bitmap selectedBitmap = BitmapFactory.decodeStream(inputStream, null, options);\n            inputStream.close();\n\n            File files = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_PICTURES).getAbsolutePath());\n\n            FileOutputStream outputStream = new FileOutputStream(files);\n            selectedBitmap.compress(Bitmap.CompressFormat.JPEG, quality, outputStream);\n            outputStream.close();\n            long lengthInKb = file.length() / 1024; //in kb\n            if (lengthInKb &gt; 1000) {\n                compressBitmap(file, (sampleSize*2), (quality/4));\n            }\n\n            selectedBitmap.recycle();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n"},{"tags":["java","apache-spark","pyspark"],"comments":[{"owner":{"account_id":6733401,"reputation":2438,"user_id":5188955,"display_name":"baitmbarek"},"score":0,"creation_date":1577723741,"post_id":59533884,"comment_id":105237655,"body_markdown":"Hi and welcome to StackOverflow. Have you tried this (removing `PYSPARK_SUBMIT_ARGS` env var) ? https://github.com/jupyter/notebook/issues/743","body":"Hi and welcome to StackOverflow. Have you tried this (removing <code>PYSPARK_SUBMIT_ARGS</code> env var) ? <a href=\"https://github.com/jupyter/notebook/issues/743\" rel=\"nofollow noreferrer\">github.com/jupyter/notebook/issues/743</a>"},{"owner":{"account_id":17418770,"reputation":11,"user_id":12624713,"display_name":"naturalia"},"score":0,"creation_date":1577723802,"post_id":59533884,"comment_id":105237677,"body_markdown":"@baitmbarek thank you ^^ . I have no PYSPARK_SUBMIT_ARGS","body":"@baitmbarek thank you ^^ . I have no PYSPARK_SUBMIT_ARGS"},{"owner":{"account_id":6733401,"reputation":2438,"user_id":5188955,"display_name":"baitmbarek"},"score":0,"creation_date":1577723957,"post_id":59533884,"comment_id":105237757,"body_markdown":"Is your `JAVA_HOME` defined ? which Java version are you using ? You need a Java-8 JRE.","body":"Is your <code>JAVA_HOME</code> defined ? which Java version are you using ? You need a Java-8 JRE."},{"owner":{"account_id":17418770,"reputation":11,"user_id":12624713,"display_name":"naturalia"},"score":0,"creation_date":1577724114,"post_id":59533884,"comment_id":105237826,"body_markdown":"I did this export JAVA_HOME=/Library/Java/Home and when i do **which java** in my terminal i got /usr/bin/java","body":"I did this export JAVA_HOME=/Library/Java/Home and when i do <b>which java</b> in my terminal i got /usr/bin/java"},{"owner":{"account_id":6733401,"reputation":2438,"user_id":5188955,"display_name":"baitmbarek"},"score":0,"creation_date":1577724188,"post_id":59533884,"comment_id":105237857,"body_markdown":"Can you run `java -version` on your terminal ? Hope you only have one java version installed :)","body":"Can you run <code>java -version</code> on your terminal ? Hope you only have one java version installed :)"},{"owner":{"account_id":17418770,"reputation":11,"user_id":12624713,"display_name":"naturalia"},"score":0,"creation_date":1577724216,"post_id":59533884,"comment_id":105237874,"body_markdown":"openjdk version &quot;1.8.0_232&quot;\nOpenJDK Runtime Environment (AdoptOpenJDK)(build 1.8.0_232-b09)\nOpenJDK 64-Bit Server VM (AdoptOpenJDK)(build 25.232-b09, mixed mode)","body":"openjdk version &quot;1.8.0_232&quot; OpenJDK Runtime Environment (AdoptOpenJDK)(build 1.8.0_232-b09) OpenJDK 64-Bit Server VM (AdoptOpenJDK)(build 25.232-b09, mixed mode)"},{"owner":{"account_id":6733401,"reputation":2438,"user_id":5188955,"display_name":"baitmbarek"},"score":0,"creation_date":1577724539,"post_id":59533884,"comment_id":105237977,"body_markdown":"Would this be helpful ? https://github.com/jupyter/notebook/issues/743#issuecomment-414919781 (installing findspark from conda)","body":"Would this be helpful ? <a href=\"https://github.com/jupyter/notebook/issues/743#issuecomment-414919781\" rel=\"nofollow noreferrer\">github.com/jupyter/notebook/issues/743#issuecomment-41491978&zwnj;&#8203;1</a> (installing findspark from conda)"},{"owner":{"account_id":17418770,"reputation":11,"user_id":12624713,"display_name":"naturalia"},"score":0,"creation_date":1577724757,"post_id":59533884,"comment_id":105238057,"body_markdown":"i was following this link but it doesn&#39;t help . Thank you ^^","body":"i was following this link but it doesn&#39;t help . Thank you ^^"},{"owner":{"account_id":17418770,"reputation":11,"user_id":12624713,"display_name":"naturalia"},"score":0,"creation_date":1577725203,"post_id":59533884,"comment_id":105238245,"body_markdown":"@baitmbarek please tell me if you ideas about how to fix it","body":"@baitmbarek please tell me if you ideas about how to fix it"}],"answers":[{"tags":[],"owner":{"account_id":25333751,"reputation":1,"user_id":19153193,"display_name":"abdel-malik fofana"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675866061,"creation_date":1675866061,"answer_id":75387125,"question_id":59533884,"body_markdown":"This worked for me :\r\n   \r\n    pip uninstall pyspark py4j\r\n    pip install pyspark py4j\r\n","title":"Exception: Java gateway process exited before sending its port number pyspark","body":"<p>This worked for me :</p>\n<pre><code>pip uninstall pyspark py4j\npip install pyspark py4j\n</code></pre>\n"}],"owner":{"account_id":17418770,"reputation":11,"user_id":12624713,"display_name":"naturalia"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":206,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1675866061,"creation_date":1577723119,"question_id":59533884,"body_markdown":"I&#39;m running a script pyspark and got error:\r\n\r\n&gt;Exception: Java gateway process exited before sending its port number pyspark**\r\n\r\nWho can help me to solve this prob please?\r\n\r\n[traceback--error][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/L8lCq.png","title":"Exception: Java gateway process exited before sending its port number pyspark","body":"<p>I'm running a script pyspark and got error:</p>\n\n<blockquote>\n  <p>Exception: Java gateway process exited before sending its port number pyspark**</p>\n</blockquote>\n\n<p>Who can help me to solve this prob please?</p>\n\n<p><a href=\"https://i.stack.imgur.com/L8lCq.png\" rel=\"nofollow noreferrer\">traceback--error</a></p>\n"},{"tags":["java","spring","hibernate"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1646647826,"post_id":71354967,"comment_id":126166905,"body_markdown":"How are the dependencies being used? Via maven, gradle or other?","body":"How are the dependencies being used? Via maven, gradle or other?"},{"owner":{"account_id":24453789,"reputation":33,"user_id":18375660,"display_name":"skeper"},"score":0,"creation_date":1646648588,"post_id":71354967,"comment_id":126167133,"body_markdown":"@pringi You mean this? https://imgur.com/a/dUtu9gd   , not via maven,grandle","body":"@pringi You mean this? <a href=\"https://imgur.com/a/dUtu9gd\" rel=\"nofollow noreferrer\">imgur.com/a/dUtu9gd</a>   , not via maven,grandle"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1646649977,"post_id":71354967,"comment_id":126167598,"body_markdown":"The problem is Hibernate Validator 7, which is a JakartaEE implementation and **not** a JavaEE implementation of the validation API. Use Hibernate Validator 6 which is compatible with Spring 5. For JakartaEE you need Spring 6 which is still in development at this moment.","body":"The problem is Hibernate Validator 7, which is a JakartaEE implementation and <b>not</b> a JavaEE implementation of the validation API. Use Hibernate Validator 6 which is compatible with Spring 5. For JakartaEE you need Spring 6 which is still in development at this moment."},{"owner":{"account_id":24453789,"reputation":33,"user_id":18375660,"display_name":"skeper"},"score":0,"creation_date":1646650147,"post_id":71354967,"comment_id":126167641,"body_markdown":"@M.Deinum  ok so I removed hibernate-validator-7.0.3.Final ,    hibernate-validator-annotation-processor-7.0.3.Final     and     hibernate-validator-cdi-7.0.3.Final,  and added  Spring Boot Starter Validation  ( https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-validation/2.6.3 ) , restarted everything and tried it again, and it still doesn&#39;t work, I must be doing something wrong or something is messed up,  I have no clue","body":"@M.Deinum  ok so I removed hibernate-validator-7.0.3.Final ,    hibernate-validator-annotation-processor-7.0.3.Final     and     hibernate-validator-cdi-7.0.3.Final,  and added  Spring Boot Starter Validation  ( <a href=\"https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-validation/2.6.3\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/org.springframework.boot/&hellip;</a> ) , restarted everything and tried it again, and it still doesn&#39;t work, I must be doing something wrong or something is messed up,  I have no clue"},{"owner":{"account_id":24453789,"reputation":33,"user_id":18375660,"display_name":"skeper"},"score":0,"creation_date":1646651912,"post_id":71354967,"comment_id":126168195,"body_markdown":"@M.Deinum it worked, omg thank you, that was the problem whole time, you are magician man","body":"@M.Deinum it worked, omg thank you, that was the problem whole time, you are magician man"},{"owner":{"account_id":6767185,"reputation":17855,"user_id":5211833,"accept_rate":83,"display_name":"Adriaan"},"score":0,"creation_date":1675865778,"post_id":71354967,"comment_id":133019789,"body_markdown":"Please do not add answers to the question body itself. Instead, you should add it as an answer. [Answering your own question is allowed and even encouraged](https://stackoverflow.com/help/self-answer).","body":"Please do not add answers to the question body itself. Instead, you should add it as an answer. <a href=\"https://stackoverflow.com/help/self-answer\">Answering your own question is allowed and even encouraged</a>."}],"answers":[{"comments":[{"owner":{"account_id":24453789,"reputation":33,"user_id":18375660,"display_name":"skeper"},"score":0,"creation_date":1646429250,"post_id":71357254,"comment_id":126129352,"body_markdown":"Tried it, still doesn&#39;t work;","body":"Tried it, still doesn&#39;t work;"}],"tags":[],"owner":{"account_id":8423970,"reputation":32,"user_id":6321903,"display_name":"KP-"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1646428307,"creation_date":1646428307,"answer_id":71357254,"question_id":71354967,"body_markdown":"try to use @NotNull @NotBlank @Size in this sequence \r\n\r\n\r\nIf you want spaces as valid string then use @NotEmpty","title":"@NotNull and @size Spring Validation doesn&#39;t work","body":"<p>try to use @NotNull @NotBlank @Size in this sequence</p>\n<p>If you want spaces as valid string then use @NotEmpty</p>\n"},{"comments":[{"owner":{"account_id":24453789,"reputation":33,"user_id":18375660,"display_name":"skeper"},"score":0,"creation_date":1646587096,"post_id":71371002,"comment_id":126155261,"body_markdown":"I tried what you said but looks like i dont have constraints.NotBlank and constraints.Length  Libary, ( https://imgur.com/a/uG9dQbc ), i googled it a bit and found it&#39;s the same JAR files i already have imported, https://jar-download.com/artifacts/org.hibernate.validator, is it some other JAR files?","body":"I tried what you said but looks like i dont have constraints.NotBlank and constraints.Length  Libary, ( <a href=\"https://imgur.com/a/uG9dQbc\" rel=\"nofollow noreferrer\">imgur.com/a/uG9dQbc</a> ), i googled it a bit and found it&#39;s the same JAR files i already have imported, <a href=\"https://jar-download.com/artifacts/org.hibernate.validator\" rel=\"nofollow noreferrer\">jar-download.com/artifacts/org.hibernate.validator</a>, is it some other JAR files?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1646649905,"post_id":71371002,"comment_id":126167575,"body_markdown":"Problem is that spring doesn&#39;t support JakartaEE (yet) so using a validator from that (hibernate validator 7) isn&#39;t going to work. Changing the annotation won&#39;t help either.","body":"Problem is that spring doesn&#39;t support JakartaEE (yet) so using a validator from that (hibernate validator 7) isn&#39;t going to work. Changing the annotation won&#39;t help either."}],"tags":[],"owner":{"account_id":8808876,"reputation":1,"user_id":9352903,"display_name":"finca"},"comment_count":2,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1646579373,"creation_date":1646575759,"answer_id":71371002,"question_id":71354967,"body_markdown":"I had similar issue.\r\n\r\nReplacing:\r\n```\r\n@jakarta.validation.constraints.NotNull\r\n```\r\nwith\r\n```\r\n@org.hibernate.validator.constraints.NotBlank\r\n```\r\nand\r\n```\r\n@jakarta.validation.constraints.Size\r\n```\r\nwith\r\n```\r\n@org.hibernate.validator.constraints.Length\r\n```\r\nhelped me","title":"@NotNull and @size Spring Validation doesn&#39;t work","body":"<p>I had similar issue.</p>\n<p>Replacing:</p>\n<pre><code>@jakarta.validation.constraints.NotNull\n</code></pre>\n<p>with</p>\n<pre><code>@org.hibernate.validator.constraints.NotBlank\n</code></pre>\n<p>and</p>\n<pre><code>@jakarta.validation.constraints.Size\n</code></pre>\n<p>with</p>\n<pre><code>@org.hibernate.validator.constraints.Length\n</code></pre>\n<p>helped me</p>\n"},{"tags":[],"owner":{"account_id":27735600,"reputation":1,"user_id":21173263,"display_name":"pipegama"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675865589,"creation_date":1675865589,"answer_id":75387021,"question_id":71354967,"body_markdown":"I have encountered the same problem and after trying many solutions, what worked for me was a simple modification without configuring or modifying anything else.\r\n\r\nI only had to put the ```@field``` decorator in the properties of the class to validate.\r\n\r\n```\r\npublic class Customer {\r\n        \r\n        private String firstName;\r\n        \r\n        @field:NotNull( message =&quot;is required&quot;)\r\n        @Size(min = 1, message =&quot;is required&quot;)\r\n        private String lastName;\r\n\r\n        ...\r\n\r\n}\r\n```","title":"@NotNull and @size Spring Validation doesn&#39;t work","body":"<p>I have encountered the same problem and after trying many solutions, what worked for me was a simple modification without configuring or modifying anything else.</p>\n<p>I only had to put the <code>@field</code> decorator in the properties of the class to validate.</p>\n<pre><code>public class Customer {\n        \n        private String firstName;\n        \n        @field:NotNull( message =&quot;is required&quot;)\n        @Size(min = 1, message =&quot;is required&quot;)\n        private String lastName;\n\n        ...\n\n}\n</code></pre>\n"}],"owner":{"account_id":24453789,"reputation":33,"user_id":18375660,"display_name":"skeper"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1565,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1675865761,"creation_date":1646414281,"question_id":71354967,"body_markdown":"So am doing spring and hibernate course and got to @NotNull and @size chapter. \r\nI implemented hibernate jar files [1,2,3][1]  [4,5,6,7][2] and I don&#39;t get any errors in code, but @NotNull and @Size does not work, There is another post about this problem and I saw no solution there so I had to make new post.\r\n\r\nHibernate validator I implement is  hibernate-validator-7.0.3.Final\r\nand spring am using is spring-framework-5.3.9\r\n\r\n       package com.luv2code.springdemo.mvc;\r\n        \r\n        import jakarta.validation.constraints.NotNull;\r\n        import jakarta.validation.constraints.Size;\r\n        \r\n        public class Customer {\r\n        \t\r\n        \tprivate String firstName;\r\n        \t\r\n        \t@Size(min = 1, message =&quot;is required&quot;)\r\n        \t@NotNull( message =&quot;is required&quot;)\r\n        \tprivate String lastName;\r\n        \r\n        \t\r\n        \tpublic Customer() {\r\n        \t\t\r\n        \t}\r\n        \r\n        \tpublic String getFirstName() {\r\n        \t\treturn firstName;\r\n        \t}\r\n        \r\n        \r\n        \tpublic void setFirstName(String firstName) {\r\n        \t\tthis.firstName = firstName;\r\n        \t}\r\n        \r\n        \r\n        \tpublic String getLastName() {\r\n        \t\treturn lastName;\r\n        \t}\r\n        \r\n        \r\n        \tpublic void setLastName(String lastName) {\r\n        \t\tthis.lastName = lastName;\r\n        \t}\r\n        \t\r\n        }\r\n    \r\n/  \r\n  \r\n    &lt;%@ taglib prefix= &quot;form&quot; uri=&quot;http://www.springframework.org/tags/form&quot; %&gt;\r\n    \r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n    \r\n    &lt;title&gt; Customer registration form&lt;/title&gt;\r\n    \r\n    &lt;style&gt;\r\n    \t.error{color:red}\r\n    &lt;/style&gt;\r\n    \r\n    \r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    \t\t&lt;form:form action =&quot;processForm&quot; modelAttribute = &quot;customer&quot;&gt;\r\n    \t\t\r\n    \t\t\r\n    \t\t\tFirst name: &lt;form:input path=&quot;firstName&quot; /&gt;\r\n    \t\t\t\r\n    \t\t\t&lt;br&gt;&lt;br&gt;\r\n    \t\t\t\r\n    \t\t\tLast name: &lt;form:input path=&quot;lastName&quot;/&gt;\r\n    \t\t\t&lt;form:errors path= &quot;lastName&quot; cssClass = &quot;error&quot;/&gt;\r\n    \t\t\t\r\n    \t\t\t&lt;br&gt;&lt;br&gt;\r\n    \t\t\t\r\n    \t\t\t&lt;input type= &quot;submit&quot; value =&quot;Submit&quot; /&gt;\r\n    \t\t\r\n    \t\t&lt;/form:form&gt;\r\n    \t\r\n    \t\r\n    &lt;/body&gt;\r\n    \r\n    &lt;/html&gt;\r\n    \r\n/    \r\n    \r\n    package com.luv2code.springdemo.mvc;\r\n    \r\n    \r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.ui.Model;\r\n    import org.springframework.validation.BindingResult;\r\n    import org.springframework.web.bind.annotation.ModelAttribute;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    \r\n    import jakarta.validation.Valid;\r\n    \r\n    @Controller\r\n    @RequestMapping(&quot;/customer&quot;)\r\n    public class CustomerController {\r\n    \t\r\n    \t@RequestMapping(&quot;/showForm&quot;)\r\n    \tpublic String showForm(Model theModel) {\r\n    \t\t\r\n    \t\ttheModel.addAttribute(&quot;customer&quot;, new Customer());\r\n    \t\t\r\n    \t\treturn &quot;customer-form&quot;;\r\n    \t}\r\n    \t\r\n    \t@RequestMapping(&quot;/processForm&quot;)\r\n    \tpublic String processForm(@Valid @ModelAttribute(&quot;customer&quot;) Customer theCustomer,\r\n    \t\t\tBindingResult theBindingResult) {\r\n    \t\t\r\n    \t\tif(theBindingResult.hasErrors()) {\r\n    \t\t\t\r\n    \t\t\treturn &quot;customer-form&quot;;\r\n    \t\t} else {\r\n    \t\t\treturn &quot;customer-confirmation&quot;;\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QG57d.png\r\n  [2]: https://i.stack.imgur.com/KL0EM.png","title":"@NotNull and @size Spring Validation doesn&#39;t work","body":"<p>So am doing spring and hibernate course and got to @NotNull and @size chapter.\nI implemented hibernate jar files <a href=\"https://i.stack.imgur.com/QG57d.png\" rel=\"nofollow noreferrer\">1,2,3</a>  <a href=\"https://i.stack.imgur.com/KL0EM.png\" rel=\"nofollow noreferrer\">4,5,6,7</a> and I don't get any errors in code, but @NotNull and @Size does not work, There is another post about this problem and I saw no solution there so I had to make new post.</p>\n<p>Hibernate validator I implement is  hibernate-validator-7.0.3.Final\nand spring am using is spring-framework-5.3.9</p>\n<pre><code>   package com.luv2code.springdemo.mvc;\n    \n    import jakarta.validation.constraints.NotNull;\n    import jakarta.validation.constraints.Size;\n    \n    public class Customer {\n        \n        private String firstName;\n        \n        @Size(min = 1, message =&quot;is required&quot;)\n        @NotNull( message =&quot;is required&quot;)\n        private String lastName;\n    \n        \n        public Customer() {\n            \n        }\n    \n        public String getFirstName() {\n            return firstName;\n        }\n    \n    \n        public void setFirstName(String firstName) {\n            this.firstName = firstName;\n        }\n    \n    \n        public String getLastName() {\n            return lastName;\n        }\n    \n    \n        public void setLastName(String lastName) {\n            this.lastName = lastName;\n        }\n        \n    }\n</code></pre>\n<p>/</p>\n<pre><code>&lt;%@ taglib prefix= &quot;form&quot; uri=&quot;http://www.springframework.org/tags/form&quot; %&gt;\n\n&lt;html&gt;\n&lt;head&gt;\n\n&lt;title&gt; Customer registration form&lt;/title&gt;\n\n&lt;style&gt;\n    .error{color:red}\n&lt;/style&gt;\n\n\n&lt;/head&gt;\n&lt;body&gt;\n        &lt;form:form action =&quot;processForm&quot; modelAttribute = &quot;customer&quot;&gt;\n        \n        \n            First name: &lt;form:input path=&quot;firstName&quot; /&gt;\n            \n            &lt;br&gt;&lt;br&gt;\n            \n            Last name: &lt;form:input path=&quot;lastName&quot;/&gt;\n            &lt;form:errors path= &quot;lastName&quot; cssClass = &quot;error&quot;/&gt;\n            \n            &lt;br&gt;&lt;br&gt;\n            \n            &lt;input type= &quot;submit&quot; value =&quot;Submit&quot; /&gt;\n        \n        &lt;/form:form&gt;\n    \n    \n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n<p>/</p>\n<pre><code>package com.luv2code.springdemo.mvc;\n\n\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.validation.BindingResult;\nimport org.springframework.web.bind.annotation.ModelAttribute;\nimport org.springframework.web.bind.annotation.RequestMapping;\n\nimport jakarta.validation.Valid;\n\n@Controller\n@RequestMapping(&quot;/customer&quot;)\npublic class CustomerController {\n    \n    @RequestMapping(&quot;/showForm&quot;)\n    public String showForm(Model theModel) {\n        \n        theModel.addAttribute(&quot;customer&quot;, new Customer());\n        \n        return &quot;customer-form&quot;;\n    }\n    \n    @RequestMapping(&quot;/processForm&quot;)\n    public String processForm(@Valid @ModelAttribute(&quot;customer&quot;) Customer theCustomer,\n            BindingResult theBindingResult) {\n        \n        if(theBindingResult.hasErrors()) {\n            \n            return &quot;customer-form&quot;;\n        } else {\n            return &quot;customer-confirmation&quot;;\n        }\n    }\n    \n}\n</code></pre>\n"},{"tags":["java","amazon-web-services","nginx","okhttp","corretto"],"owner":{"account_id":22856754,"reputation":9,"user_id":17001508,"display_name":"Oguzhan Coskun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":322,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675865654,"creation_date":1675865654,"question_id":75387036,"body_markdown":"We have troubleshooting about below exception. Our environment versions;\r\nopenjdk version &quot;11.0.18&quot;\r\nnginx/1.14.0\r\ncom.squareup.okhttp3:okhttp:3.8.0\r\n\r\nwhen we tried our local environment without nginx and classic load balancer, we did not receive any error. \r\n\r\nwhen application running our live environment, sometimes (it is not regular) we got an error, for example, i checked requests,\r\nbelow request counts meaning success, for example 15 request success than got an exception, later 13 requests success, than again error. it is not regular or linear.\r\n15,13,13,11,14,17,30,30,11,2,37,27,6,2,5,21,10,29,13,51.\r\n\r\nI found some nginx configurations about proxy_redirect off; proxy_buffering off; and also found some bugs in nginx 1.15 but i did not approved this bug affected 1.14 version.\r\n \r\n\r\n`root@sandbox-gateway-1b.teller-sandbox [~] # cat /srv/www/gateway/logs/spring.log |grep &#39;13:52:27.746&#39; -A 30\r\n2023-02-08 13:52:27.746 [https-jsse-nio-32752-exec-16] INFO  JavaUtilLogger : [principal : null | request-id : 66420bde-abbe-4e9e-ba89-2a5b6e6390e9] HTTP CALL EXCEPTION: https://sandbox-api.example.com/api/v1/auth/token okhttp3.internal.http2.StreamResetException: stream was reset: CANCEL\r\n\tat okhttp3.internal.http2.Http2Stream$FramingSource.read(Http2Stream.java:384)\r\n\tat okhttp3.internal.connection.Exchange$ResponseBodySource.read(Exchange.java:286)\r\n\tat okio.Buffer.writeAll(Buffer.java:1143)\r\n\tat okio.RealBufferedSource.readString(RealBufferedSource.java:203)\r\n\tat okhttp3.ResponseBody.string(ResponseBody.java:182)\r\n\tat common.restclient.HttpClient.doCall(HttpClient.java:92)\r\n\tat common.restclient.HttpClient.call(HttpClient.java:53)\r\n\tat common.restclient.RestClientImpl.postWithoutHeaders(RestClientImpl.java:45)\r\n\tat example.client.exampleClientImpl.login(exampleClientImpl.java:37)\r\n\tat com.dux.gateway.core.adapters.example.example.loginToexample(example.java:74)\r\n\tat com.dux.gateway.core.adapters.example.example.processTransaction(example.java:47)\r\n\tat com.dux.gateway.core.adapters.example.example.processTransaction(example.java:22)\r\n\tat com.dux.gateway.core.TransactionProcessorLoggerDecorator.processTransaction(TransactionProcessorLoggerDecorator.java:26)\r\n\tat com.dux.gateway.core.TransactionProcessorValidatorDecorator.processTransaction(TransactionProcessorValidatorDecorator.java:24)\r\n\tat com.dux.gateway.core.PaymentGateway.execute(PaymentGateway.java:87)\r\n\tat com.dux.gateway.api.controller.TransactionController.createTransaction(TransactionController.java:86)\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor562.invoke(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:894)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1063)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:681)`\r\n\r\nwhen we tried our local environment without nginx and classic load balancer, we did not receive any error. \r\n\r\nwhen application running our live environment, sometimes (it is not regular) we got an error, for example, i checked requests,\r\nbelow request counts meaning success, for example 15 request success than got an exception, later 13 requests success, than again error. it is not regular or linear.\r\n15,13,13,11,14,17,30,30,11,2,37,27,6,2,5,21,10,29,13,51.\r\n\r\nI found some nginx configurations about proxy_redirect off; proxy_buffering off; and also found some bugs in nginx 1.15 but i did not approved this bug affected 1.14 version.","title":"okhttp3.internal.http2.StreamResetException: stream was reset: CANCEL","body":"<p>We have troubleshooting about below exception. Our environment versions;\nopenjdk version &quot;11.0.18&quot;\nnginx/1.14.0\ncom.squareup.okhttp3:okhttp:3.8.0</p>\n<p>when we tried our local environment without nginx and classic load balancer, we did not receive any error.</p>\n<p>when application running our live environment, sometimes (it is not regular) we got an error, for example, i checked requests,\nbelow request counts meaning success, for example 15 request success than got an exception, later 13 requests success, than again error. it is not regular or linear.\n15,13,13,11,14,17,30,30,11,2,37,27,6,2,5,21,10,29,13,51.</p>\n<p>I found some nginx configurations about proxy_redirect off; proxy_buffering off; and also found some bugs in nginx 1.15 but i did not approved this bug affected 1.14 version.</p>\n<p><code>root@sandbox-gateway-1b.teller-sandbox [~] # cat /srv/www/gateway/logs/spring.log |grep '13:52:27.746' -A 30 2023-02-08 13:52:27.746 [https-jsse-nio-32752-exec-16] INFO  JavaUtilLogger : [principal : null | request-id : 66420bde-abbe-4e9e-ba89-2a5b6e6390e9] HTTP CALL EXCEPTION: https://sandbox-api.example.com/api/v1/auth/token okhttp3.internal.http2.StreamResetException: stream was reset: CANCEL at okhttp3.internal.http2.Http2Stream$FramingSource.read(Http2Stream.java:384) at okhttp3.internal.connection.Exchange$ResponseBodySource.read(Exchange.java:286) at okio.Buffer.writeAll(Buffer.java:1143) at okio.RealBufferedSource.readString(RealBufferedSource.java:203) at okhttp3.ResponseBody.string(ResponseBody.java:182) at common.restclient.HttpClient.doCall(HttpClient.java:92) at common.restclient.HttpClient.call(HttpClient.java:53) at common.restclient.RestClientImpl.postWithoutHeaders(RestClientImpl.java:45) at example.client.exampleClientImpl.login(exampleClientImpl.java:37) at com.dux.gateway.core.adapters.example.example.loginToexample(example.java:74) at com.dux.gateway.core.adapters.example.example.processTransaction(example.java:47) at com.dux.gateway.core.adapters.example.example.processTransaction(example.java:22) at com.dux.gateway.core.TransactionProcessorLoggerDecorator.processTransaction(TransactionProcessorLoggerDecorator.java:26) at com.dux.gateway.core.TransactionProcessorValidatorDecorator.processTransaction(TransactionProcessorValidatorDecorator.java:24) at com.dux.gateway.core.PaymentGateway.execute(PaymentGateway.java:87) at com.dux.gateway.api.controller.TransactionController.createTransaction(TransactionController.java:86) at jdk.internal.reflect.GeneratedMethodAccessor562.invoke(Unknown Source) at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.base/java.lang.reflect.Method.invoke(Method.java:566) at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197) at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141) at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106) at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:894) at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1063) at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)</code></p>\n<p>when we tried our local environment without nginx and classic load balancer, we did not receive any error.</p>\n<p>when application running our live environment, sometimes (it is not regular) we got an error, for example, i checked requests,\nbelow request counts meaning success, for example 15 request success than got an exception, later 13 requests success, than again error. it is not regular or linear.\n15,13,13,11,14,17,30,30,11,2,37,27,6,2,5,21,10,29,13,51.</p>\n<p>I found some nginx configurations about proxy_redirect off; proxy_buffering off; and also found some bugs in nginx 1.15 but i did not approved this bug affected 1.14 version.</p>\n"},{"tags":["java","android","kotlin","mvvm","kotlin-stateflow"],"comments":[{"owner":{"account_id":4546280,"reputation":1606,"user_id":3692788,"accept_rate":67,"display_name":"JCarlosR"},"score":2,"creation_date":1682630210,"post_id":75386802,"comment_id":134250495,"body_markdown":"Have you tried this way? `findViewTreeLifecycleOwner()?.lifecycleScope?.launch {/* ... */}`","body":"Have you tried this way? <code>findViewTreeLifecycleOwner()?.lifecycleScope?.launch {&#47;* ... *&#47;}</code>"}],"owner":{"account_id":7365669,"reputation":5074,"user_id":5607457,"accept_rate":48,"display_name":"Greelings"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":345,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1675865632,"creation_date":1675864481,"question_id":75386802,"body_markdown":"[This article][1] explains how to use ViewModels in custom views :\r\n\r\n    class SummaryView(context: Context, attrs: AttributeSet?) : ConstraintLayout(context, attrs) {\r\n    \r\n      private val viewModel by lazy {\r\n          ViewModelProvider(findViewTreeViewModelStoreOwner()!!).get&lt;SummaryViewModel&gt;()\r\n      }\r\n    \r\n      override fun onAttachedToWindow() {\r\n          super.onAttachedToWindow()\r\n\r\n          viewModel.summaryModel.observe(findViewTreeLifecycleOwner()!!, ::populateSummaryView)\r\n      }\r\n    \r\n    }\r\n\r\nIt works well, but how can I use this technique using StateFlow instead of LiveData?\r\nHow can I do this without having a reference to the fragment?\r\n\r\n    class SummaryView(context: Context, attrs: AttributeSet?) : ConstraintLayout(context, attrs) {\r\n    \r\n      private val viewModel by lazy {\r\n          ViewModelProvider(findViewTreeViewModelStoreOwner()!!).get&lt;SummaryViewModel&gt;()\r\n      }\r\n    \r\n      override fun onAttachedToWindow() {\r\n          super.onAttachedToWindow()\r\n\r\n          lifecycleScope.launch {\r\n              viewLifecycleOwner.repeatOnLifecycle(Lifecycle.State.STARTED) {\r\n                  viewModel.summaryModel.collect {\r\n\r\n                  }\r\n              }\r\n          }\r\n      }\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://www.sasikanth.dev/using-viewmodels-in-custom-views/","title":"How to collect a stateflow from a Custom View?","body":"<p><a href=\"https://www.sasikanth.dev/using-viewmodels-in-custom-views/\" rel=\"nofollow noreferrer\">This article</a> explains how to use ViewModels in custom views :</p>\n<pre><code>class SummaryView(context: Context, attrs: AttributeSet?) : ConstraintLayout(context, attrs) {\n\n  private val viewModel by lazy {\n      ViewModelProvider(findViewTreeViewModelStoreOwner()!!).get&lt;SummaryViewModel&gt;()\n  }\n\n  override fun onAttachedToWindow() {\n      super.onAttachedToWindow()\n\n      viewModel.summaryModel.observe(findViewTreeLifecycleOwner()!!, ::populateSummaryView)\n  }\n\n}\n</code></pre>\n<p>It works well, but how can I use this technique using StateFlow instead of LiveData?\nHow can I do this without having a reference to the fragment?</p>\n<pre><code>class SummaryView(context: Context, attrs: AttributeSet?) : ConstraintLayout(context, attrs) {\n\n  private val viewModel by lazy {\n      ViewModelProvider(findViewTreeViewModelStoreOwner()!!).get&lt;SummaryViewModel&gt;()\n  }\n\n  override fun onAttachedToWindow() {\n      super.onAttachedToWindow()\n\n      lifecycleScope.launch {\n          viewLifecycleOwner.repeatOnLifecycle(Lifecycle.State.STARTED) {\n              viewModel.summaryModel.collect {\n\n              }\n          }\n      }\n  }\n\n}\n</code></pre>\n"},{"tags":["java","azure","oauth-2.0"],"comments":[{"owner":{"account_id":378454,"reputation":8227,"user_id":731178,"display_name":"J&#225;n Halaša"},"score":0,"creation_date":1675858349,"post_id":75385415,"comment_id":133017349,"body_markdown":"I don&#39;t know specifics of the Azure API, but the [client credentials grant](https://www.rfc-editor.org/rfc/rfc6749#section-4.4.2) is supposed to create a token for an OAuth2 client, not a user - it&#39;s for a service-to-service communication. If you need a token authorized by a user, you probably need to request it from them and use the auth code grant.","body":"I don&#39;t know specifics of the Azure API, but the <a href=\"https://www.rfc-editor.org/rfc/rfc6749#section-4.4.2\" rel=\"nofollow noreferrer\">client credentials grant</a> is supposed to create a token for an OAuth2 client, not a user - it&#39;s for a service-to-service communication. If you need a token authorized by a user, you probably need to request it from them and use the auth code grant."},{"owner":{"account_id":1438222,"reputation":843,"user_id":1452528,"display_name":"Derek Gusoff"},"score":0,"creation_date":1675859235,"post_id":75385415,"comment_id":133017606,"body_markdown":"figure this out on Postman before writing code. There&#39;s probably an issue (or a misunderstanding)  with the client registration. Reach out to the people who manage the identity server and work it out with them.","body":"figure this out on Postman before writing code. There&#39;s probably an issue (or a misunderstanding)  with the client registration. Reach out to the people who manage the identity server and work it out with them."},{"owner":{"account_id":27734451,"reputation":21,"user_id":21172299,"display_name":"Yuliya Kalcheva"},"score":0,"creation_date":1675861080,"post_id":75385415,"comment_id":133018137,"body_markdown":"@J&#225;nHalaša i have also tried it to run  without username but i am still having the same authentication error.","body":"@J&#225;nHalaša i have also tried it to run  without username but i am still having the same authentication error."},{"owner":{"account_id":27734451,"reputation":21,"user_id":21172299,"display_name":"Yuliya Kalcheva"},"score":0,"creation_date":1675861337,"post_id":75385415,"comment_id":133018244,"body_markdown":"@DerekGusoff thank you for your answer , I cannot figure it out on Postman because I do get an authentication token even without the password, it just is not a valid token. Would you see what kind of issue could that be ?","body":"@DerekGusoff thank you for your answer , I cannot figure it out on Postman because I do get an authentication token even without the password, it just is not a valid token. Would you see what kind of issue could that be ?"},{"owner":{"account_id":378454,"reputation":8227,"user_id":731178,"display_name":"J&#225;n Halaša"},"score":0,"creation_date":1675861792,"post_id":75385415,"comment_id":133018382,"body_markdown":"@YuliyaKalcheva You probably need a token authorized by a user to access the IMAP server. Because your OAuth2 client (identified by clientId) is not the IMAP server user. The line you commented out uses the password grant (which is deprecated) and requires the user&#39;s password. The token you get using the client_credentials grant is probably not usable for the IMAP server. Could it be so?","body":"@YuliyaKalcheva You probably need a token authorized by a user to access the IMAP server. Because your OAuth2 client (identified by clientId) is not the IMAP server user. The line you commented out uses the password grant (which is deprecated) and requires the user&#39;s password. The token you get using the client_credentials grant is probably not usable for the IMAP server. Could it be so?"},{"owner":{"account_id":27734451,"reputation":21,"user_id":21172299,"display_name":"Yuliya Kalcheva"},"score":0,"creation_date":1675862927,"post_id":75385415,"comment_id":133018750,"body_markdown":"thanks @J&#225;nHalaša.  That might be a reason. Do you know how can i authorize it to access IMAP server. I am very lost. The only way to make it work is specifiying the password and using password grants.","body":"thanks @J&#225;nHalaša.  That might be a reason. Do you know how can i authorize it to access IMAP server. I am very lost. The only way to make it work is specifiying the password and using password grants."},{"owner":{"account_id":378454,"reputation":8227,"user_id":731178,"display_name":"J&#225;n Halaša"},"score":0,"creation_date":1675864320,"post_id":75385415,"comment_id":133019242,"body_markdown":"@YuliyaKalcheva OK, I will write a full answer.","body":"@YuliyaKalcheva OK, I will write a full answer."},{"owner":{"account_id":378454,"reputation":8227,"user_id":731178,"display_name":"J&#225;n Halaša"},"score":0,"creation_date":1676234978,"post_id":75385415,"comment_id":133092079,"body_markdown":"@YuliyaKalcheva Was the answer helpful? If you solved the problem in some other way, it&#39;s good to write it here for others.","body":"@YuliyaKalcheva Was the answer helpful? If you solved the problem in some other way, it&#39;s good to write it here for others."}],"answers":[{"tags":[],"owner":{"account_id":378454,"reputation":8227,"user_id":731178,"display_name":"J&#225;n Halaša"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675865577,"creation_date":1675865577,"answer_id":75387018,"question_id":75385415,"body_markdown":"This is a generic answer that could be improved by someone with better knowledge of MS Azure services.\r\n\r\nYou probably need a token authorized by a user to access the IMAP server. Because your OAuth2 client (identified by clientId) is not the IMAP server user - the token you get using the client_credentials grant is not usable for the IMAP server. The line you commented out uses the password grant (which is [deprecated][1]) and requires the user&#39;s password.\r\n\r\nI think the correct way from the OAuth2 standpoint is to use the [auth code flow][2]. This way, the user (resource owner role) delegates their rights (represented by the requested scopes) to your application (OAuth2 client role) which can use them at the IMAP server (resource server role). \r\n\r\nThe auth code flow requires user interaction - the user&#39;s browser gets redirected to the OAuth2 auth endpoint, the user gets authenticated and gives consent with delegating the requested rights to your application. Then your the browser is redirect to the `redirect_uri` handled by your application. The request has an auth code value which can be exchanged for tokens at the token endpoint of the OAuth2 server.\r\n\r\nIf your application doesn&#39;t interact with users who could delegate their IMAP server access, you probably need to use the password grant or figure out how to make your application (identified by its `client_id`) an IMAP user and use the client_credentials grant (as you do now).\r\n\r\n\r\n  [1]: https://oauth.net/2/grant-types/password/\r\n  [2]: https://learn.microsoft.com/en-us/azure/active-directory/develop/v2-oauth2-auth-code-flow","title":"Oauth2 obtaining token with grant_type client_credentials","body":"<p>This is a generic answer that could be improved by someone with better knowledge of MS Azure services.</p>\n<p>You probably need a token authorized by a user to access the IMAP server. Because your OAuth2 client (identified by clientId) is not the IMAP server user - the token you get using the client_credentials grant is not usable for the IMAP server. The line you commented out uses the password grant (which is <a href=\"https://oauth.net/2/grant-types/password/\" rel=\"nofollow noreferrer\">deprecated</a>) and requires the user's password.</p>\n<p>I think the correct way from the OAuth2 standpoint is to use the <a href=\"https://learn.microsoft.com/en-us/azure/active-directory/develop/v2-oauth2-auth-code-flow\" rel=\"nofollow noreferrer\">auth code flow</a>. This way, the user (resource owner role) delegates their rights (represented by the requested scopes) to your application (OAuth2 client role) which can use them at the IMAP server (resource server role).</p>\n<p>The auth code flow requires user interaction - the user's browser gets redirected to the OAuth2 auth endpoint, the user gets authenticated and gives consent with delegating the requested rights to your application. Then your the browser is redirect to the <code>redirect_uri</code> handled by your application. The request has an auth code value which can be exchanged for tokens at the token endpoint of the OAuth2 server.</p>\n<p>If your application doesn't interact with users who could delegate their IMAP server access, you probably need to use the password grant or figure out how to make your application (identified by its <code>client_id</code>) an IMAP user and use the client_credentials grant (as you do now).</p>\n"}],"owner":{"account_id":27734451,"reputation":21,"user_id":21172299,"display_name":"Yuliya Kalcheva"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":254,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1675865577,"creation_date":1675857095,"question_id":75385415,"body_markdown":"I&#39;ve been trying to obtain a token for oauth2 authentication to connect to a mail server using the following Java code:\r\n\r\n\r\n\r\n    public static String getAuthToken(String tenantId, String clientId, String client_secret) throws ClientProtocolException , IOException {\r\n        CloseableHttpClient client = HttpClients.createDefault();\r\n        HttpPost loginPost = new HttpPost(&quot;https://login.microsoftonline.com/&quot; + tenantId + &quot;/oauth2/v2.0/token&quot;);\r\n        //String scopes = &quot;https://outlook.office365.com/IMAP.AccessAsUser.All&quot;;\r\n        String scopes = &quot;https://outlook.office365.com/.default&quot;; // we need this scope when we have the grand_type as client credidentials\r\n\r\n        //String encodedBody = &quot;client_id=&quot; + clientId + &quot;&amp;scope=&quot; + scopes + &quot;&amp;client_secret=&quot; + client_secret+ &quot;&amp;username=&quot;+mailAddress+&quot;&amp;password=&quot; + EMAIL_PASSWORD + &quot;&amp;grant_type=password&quot;;\r\n        String encodedBody = &quot;client_id=&quot; + clientId + &quot;&amp;scope=&quot; + scopes + &quot;&amp;client_secret=&quot; + client_secret+ &quot;&amp;username=&quot;+mailAddress+ &quot;&amp;grant_type=client_credentials&quot;;\r\n        loginPost.setEntity(new StringEntity(encodedBody, ContentType.APPLICATION_FORM_URLENCODED));\r\n        loginPost.addHeader(new BasicHeader(&quot;cache-control&quot;, &quot;no-cache&quot;));\r\n        CloseableHttpResponse loginResponse = client.execute(loginPost);\r\n        InputStream inputStream = loginResponse.getEntity().getContent();\r\n        byte[] response = readAllBytes(inputStream);\r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n        JavaType type = objectMapper.constructType(\r\n            objectMapper.getTypeFactory().constructParametricType(Map.class, String.class, String.class));\r\n        Map&lt;String, String&gt; parsed = new ObjectMapper().readValue(response, type);\r\n        return parsed.get(&quot;access_token&quot;);\r\n    }\r\n\r\nYet if I try to get the token without having the password in the request body (if I add the password like in the commented line, all works fine), I cannot connect with that token and get the following authentication failed error:\r\n\r\n`Exception in thread &quot;main&quot; javax.mail.AuthenticationFailedException: AUTHENTICATE failed.\r\n\tat com.sun.mail.imap.IMAPStore.protocolConnect(IMAPStore.java:732)\r\n\tat javax.mail.Service.connect(Service.java:366)\r\n\tat yk.Auth.main(Auth.java:79)`\r\n\r\nI&#39;ve tried adapting the request body (changing/removing the scope etc.) but nothing changes. \t \r\nWhat needs to be done in order to obtain a valid token without sending the password as part of the request?\r\n\r\nThank you!\r\n\r\n","title":"Oauth2 obtaining token with grant_type client_credentials","body":"<p>I've been trying to obtain a token for oauth2 authentication to connect to a mail server using the following Java code:</p>\n<pre><code>public static String getAuthToken(String tenantId, String clientId, String client_secret) throws ClientProtocolException , IOException {\n    CloseableHttpClient client = HttpClients.createDefault();\n    HttpPost loginPost = new HttpPost(&quot;https://login.microsoftonline.com/&quot; + tenantId + &quot;/oauth2/v2.0/token&quot;);\n    //String scopes = &quot;https://outlook.office365.com/IMAP.AccessAsUser.All&quot;;\n    String scopes = &quot;https://outlook.office365.com/.default&quot;; // we need this scope when we have the grand_type as client credidentials\n\n    //String encodedBody = &quot;client_id=&quot; + clientId + &quot;&amp;scope=&quot; + scopes + &quot;&amp;client_secret=&quot; + client_secret+ &quot;&amp;username=&quot;+mailAddress+&quot;&amp;password=&quot; + EMAIL_PASSWORD + &quot;&amp;grant_type=password&quot;;\n    String encodedBody = &quot;client_id=&quot; + clientId + &quot;&amp;scope=&quot; + scopes + &quot;&amp;client_secret=&quot; + client_secret+ &quot;&amp;username=&quot;+mailAddress+ &quot;&amp;grant_type=client_credentials&quot;;\n    loginPost.setEntity(new StringEntity(encodedBody, ContentType.APPLICATION_FORM_URLENCODED));\n    loginPost.addHeader(new BasicHeader(&quot;cache-control&quot;, &quot;no-cache&quot;));\n    CloseableHttpResponse loginResponse = client.execute(loginPost);\n    InputStream inputStream = loginResponse.getEntity().getContent();\n    byte[] response = readAllBytes(inputStream);\n    ObjectMapper objectMapper = new ObjectMapper();\n    JavaType type = objectMapper.constructType(\n        objectMapper.getTypeFactory().constructParametricType(Map.class, String.class, String.class));\n    Map&lt;String, String&gt; parsed = new ObjectMapper().readValue(response, type);\n    return parsed.get(&quot;access_token&quot;);\n}\n</code></pre>\n<p>Yet if I try to get the token without having the password in the request body (if I add the password like in the commented line, all works fine), I cannot connect with that token and get the following authentication failed error:</p>\n<p><code>Exception in thread &quot;main&quot; javax.mail.AuthenticationFailedException: AUTHENTICATE failed. at com.sun.mail.imap.IMAPStore.protocolConnect(IMAPStore.java:732) at javax.mail.Service.connect(Service.java:366) at yk.Auth.main(Auth.java:79)</code></p>\n<p>I've tried adapting the request body (changing/removing the scope etc.) but nothing changes.<br />\nWhat needs to be done in order to obtain a valid token without sending the password as part of the request?</p>\n<p>Thank you!</p>\n"},{"tags":["java","oracle","hibernate","jpa","enums"],"comments":[{"owner":{"display_name":"user6073886"},"score":3,"creation_date":1675861999,"post_id":75386251,"comment_id":133018458,"body_markdown":"Does putting the annotation `@Enumerated(EnumType.STRING)` at one field(or the getter, wherever your JPA annotations go to in your configuration) and `@Enumerated(EnumType.ORDINAL)` on the other work?","body":"Does putting the annotation <code>@Enumerated(EnumType.STRING)</code> at one field(or the getter, wherever your JPA annotations go to in your configuration) and <code>@Enumerated(EnumType.ORDINAL)</code> on the other work?"},{"owner":{"account_id":17845244,"reputation":31,"user_id":12962236,"display_name":"Mandar"},"score":0,"creation_date":1675863005,"post_id":75386251,"comment_id":133018768,"body_markdown":"Prima facie, it is working as per my expectations. In one column, it is being stored as a string while in other it is being stored as a integer. I will try to test it with more scenarios though.. Can you please turn your comment into answer so I can accept it?","body":"Prima facie, it is working as per my expectations. In one column, it is being stored as a string while in other it is being stored as a integer. I will try to test it with more scenarios though.. Can you please turn your comment into answer so I can accept it?"}],"answers":[{"comments":[{"owner":{"account_id":17845244,"reputation":31,"user_id":12962236,"display_name":"Mandar"},"score":0,"creation_date":1675863133,"post_id":75386410,"comment_id":133018807,"body_markdown":"id and name are not enum fields but are fields from a JPA entity, in which there are two MyEnum fields as well. Thanks for your response though. Can you upvote my question?","body":"id and name are not enum fields but are fields from a JPA entity, in which there are two MyEnum fields as well. Thanks for your response though. Can you upvote my question?"}],"tags":[],"owner":{"account_id":25316015,"reputation":19,"user_id":19138128,"display_name":"ScrapsOfDevelopment"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1675862651,"creation_date":1675862459,"answer_id":75386410,"question_id":75386251,"body_markdown":"You could use a single setter to set two fields.\r\n\r\n    private String id;\r\n    private String name;\r\n    \r\n    @Transient\r\n    public void setMyEnum(MyEnum e) {\r\n        this.id = e.getId();\r\n        this.name = e.getName();\r\n    }","title":"JPA: Persist both integer and string values for an enum in oracle database using EnumConverter","body":"<p>You could use a single setter to set two fields.</p>\n<pre><code>private String id;\nprivate String name;\n\n@Transient\npublic void setMyEnum(MyEnum e) {\n    this.id = e.getId();\n    this.name = e.getName();\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user6073886"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1675865055,"creation_date":1675865055,"answer_id":75386915,"question_id":75386251,"body_markdown":"When mapping Enums to a database column JPA has 2 default mapping modes that you choose with an annotation:\r\n\r\n    @Enumerated(EnumType.STRING)\r\n\r\nWill save the enum by saving the name (&quot;ONE&quot; and &quot;TWO&quot; in your case) of the enum constant as a String in the database column.\r\n\r\n    @Enumerated(EnumType.ORDINAL)\r\n\r\nWill use an Integer value representing the ordinal value of the Enum constant to save to the database column.\r\n\r\nWhen using EnumType.STRING make sure you don&#39;t later change the names of Enum constants as that would break the mapping and when using EnumType.ORDINAL take care not to later change the order you declared the Enums as that would change their ordinal value.","title":"JPA: Persist both integer and string values for an enum in oracle database using EnumConverter","body":"<p>When mapping Enums to a database column JPA has 2 default mapping modes that you choose with an annotation:</p>\n<pre><code>@Enumerated(EnumType.STRING)\n</code></pre>\n<p>Will save the enum by saving the name (&quot;ONE&quot; and &quot;TWO&quot; in your case) of the enum constant as a String in the database column.</p>\n<pre><code>@Enumerated(EnumType.ORDINAL)\n</code></pre>\n<p>Will use an Integer value representing the ordinal value of the Enum constant to save to the database column.</p>\n<p>When using EnumType.STRING make sure you don't later change the names of Enum constants as that would break the mapping and when using EnumType.ORDINAL take care not to later change the order you declared the Enums as that would change their ordinal value.</p>\n"}],"owner":{"account_id":17845244,"reputation":31,"user_id":12962236,"display_name":"Mandar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":294,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75386915,"answer_count":2,"score":1,"last_activity_date":1675865055,"creation_date":1675861576,"question_id":75386251,"body_markdown":"I have an enum, say MyEnum\r\n\r\n```\r\nEnum MyEnum {\r\nONE,\r\nTWO;\r\n}\r\n```\r\nand I have a JPA entity, say MyEntity\r\n\r\n```\r\n@Entity\r\nclass MyEntity {\r\nint id;\r\nString name;\r\nMyEnum someValue;\r\nMyEnum someValueFreezed;\r\n```\r\n\r\n\r\nFor one of the `MyEnum` value in the MyEntity table, I want to store it as a integer (0, 1, ..) and for second column, I want to store the value in DB as string (one, two, etc.). Table should look like\r\n\r\n| ID | Name | Some_Value | Some_Value_Freezed |\r\n| --- | --- | --- | --- |\r\n| 1 | abc | 1 | One |\r\n| 2 | efg | 2 | Two |\r\n\r\n\r\nI have `AttributeConvertes` in place. But with that I am able to persist only either integer or string, but not both. \r\n\r\nAlthough it may seem to be a bad idea, but due to some business requirement, I has to be this way. \r\n\r\nWhat is the way to persist same enum both as integer and as a string, at same time, in same table, in two different columns?","title":"JPA: Persist both integer and string values for an enum in oracle database using EnumConverter","body":"<p>I have an enum, say MyEnum</p>\n<pre><code>Enum MyEnum {\nONE,\nTWO;\n}\n</code></pre>\n<p>and I have a JPA entity, say MyEntity</p>\n<pre><code>@Entity\nclass MyEntity {\nint id;\nString name;\nMyEnum someValue;\nMyEnum someValueFreezed;\n</code></pre>\n<p>For one of the <code>MyEnum</code> value in the MyEntity table, I want to store it as a integer (0, 1, ..) and for second column, I want to store the value in DB as string (one, two, etc.). Table should look like</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>ID</th>\n<th>Name</th>\n<th>Some_Value</th>\n<th>Some_Value_Freezed</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>abc</td>\n<td>1</td>\n<td>One</td>\n</tr>\n<tr>\n<td>2</td>\n<td>efg</td>\n<td>2</td>\n<td>Two</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>I have <code>AttributeConvertes</code> in place. But with that I am able to persist only either integer or string, but not both.</p>\n<p>Although it may seem to be a bad idea, but due to some business requirement, I has to be this way.</p>\n<p>What is the way to persist same enum both as integer and as a string, at same time, in same table, in two different columns?</p>\n"},{"tags":["java","eclipse","hibernate"],"owner":{"account_id":19637827,"reputation":11,"user_id":14374715,"display_name":"SPao"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675865036,"creation_date":1675865036,"question_id":75386914,"body_markdown":"I&#39;m using the Eclipse tool to generate the code.\r\nMy database has a table with primary key &quot;id&quot; int(11) auto_increment.\r\nThe tool generates an id like this:\r\n\r\n```\r\n...\r\n@Table(name = &quot;USERS&quot;, catalog = &quot;myDatabase&quot;, uniqueConstraints = @UniqueConstraint(columnNames = &quot;mail&quot;))\r\n...\r\n    private Integer id;\r\n...\r\n    @Id\r\n    @GeneratedValue(strategy = IDENTITY)\r\n\r\n    @Column(name = &quot;id&quot;, unique = true, nullable = false)\r\n    public Integer getId() {\r\n        return this.id;\r\n    }\r\n...\r\n```\r\nNeeding to remove the reference to the database (&quot;catalog&quot; in the &quot;Table&quot; annotation), I insert the &quot;hibernate.default_catalog&quot; property in the hibernate.cfg.xml file. Regenerating the classes, the id of the table is considered of type int and the resulting code is the following:\r\n\r\n```\r\n...\r\n@Table(name = &quot;USERS&quot;, uniqueConstraints = @UniqueConstraint(columnNames = &quot;mail&quot;))\r\n...\r\n    private int id;\r\n...\r\n    @Id\r\n\r\n    @Column(name = &quot;id&quot;, unique = true, nullable = false)\r\n    public int getId() {\r\n        return this.id;\r\n    }\r\n...\r\n```\r\nHow do I have a class with the id of type Integer and not have the database reference (&quot;catalog&quot; in the &quot;Table&quot; annotation)?","title":"Hibernate Code Generation Eclipse: using the property hibernate.default_catalog different code generation in case of id autoincrement","body":"<p>I'm using the Eclipse tool to generate the code.\nMy database has a table with primary key &quot;id&quot; int(11) auto_increment.\nThe tool generates an id like this:</p>\n<pre><code>...\n@Table(name = &quot;USERS&quot;, catalog = &quot;myDatabase&quot;, uniqueConstraints = @UniqueConstraint(columnNames = &quot;mail&quot;))\n...\n    private Integer id;\n...\n    @Id\n    @GeneratedValue(strategy = IDENTITY)\n\n    @Column(name = &quot;id&quot;, unique = true, nullable = false)\n    public Integer getId() {\n        return this.id;\n    }\n...\n</code></pre>\n<p>Needing to remove the reference to the database (&quot;catalog&quot; in the &quot;Table&quot; annotation), I insert the &quot;hibernate.default_catalog&quot; property in the hibernate.cfg.xml file. Regenerating the classes, the id of the table is considered of type int and the resulting code is the following:</p>\n<pre><code>...\n@Table(name = &quot;USERS&quot;, uniqueConstraints = @UniqueConstraint(columnNames = &quot;mail&quot;))\n...\n    private int id;\n...\n    @Id\n\n    @Column(name = &quot;id&quot;, unique = true, nullable = false)\n    public int getId() {\n        return this.id;\n    }\n...\n</code></pre>\n<p>How do I have a class with the id of type Integer and not have the database reference (&quot;catalog&quot; in the &quot;Table&quot; annotation)?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1642292298,"post_id":70726453,"comment_id":125032833,"body_markdown":"The input `150.5` is NOT an integer.  So why are you reading it as an integer?  The instructions say &quot;read a `double` and convert it to an `int`&quot;.","body":"The input <code>150.5</code> is NOT an integer.  So why are you reading it as an integer?  The instructions say &quot;read a <code>double</code> and convert it to an <code>int</code>&quot;."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1642292508,"post_id":70726453,"comment_id":125032857,"body_markdown":"*&quot;Any suggestions?&quot;* - 1) Read your instructions / requirements carefully and understand them before you start coding.  2) Use the javadocs to understand the APIs you need to call.  In this case the javadoc for `Scanner` will list all of its methods, and the methods you need to use will be obvious.  You can find the javadocs using Google; e.g. by googling &quot;javadoc Scanner&quot;.","body":"<i>&quot;Any suggestions?&quot;</i> - 1) Read your instructions / requirements carefully and understand them before you start coding.  2) Use the javadocs to understand the APIs you need to call.  In this case the javadoc for <code>Scanner</code> will list all of its methods, and the methods you need to use will be obvious.  You can find the javadocs using Google; e.g. by googling &quot;javadoc Scanner&quot;."}],"answers":[{"tags":[],"owner":{"account_id":23910782,"reputation":481,"user_id":17907758,"display_name":"anut"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1675864994,"creation_date":1642292238,"answer_id":70726466,"question_id":70726453,"body_markdown":"You are calling `in.nextInt()`, so it is expecting the input in the console to be an integer. However, you are entering `150.5`, which is a double. So, you should use `nextDouble` instead of `nextInt`.\r\n\r\nYou will also need to change the type of the parameter `userFeet` in `feetToSteps` from `int` to `double`, and change the return type from `double` to `int`, and cast the return value.\r\n\r\nThe full fixed code:\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class LabProgram {\r\n   \r\n   public static int feetToSteps(double userFeet) {\r\n        return (int) (userFeet / 2.5);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Scanner in = new Scanner(System.in);\r\n        System.out.print(feetToSteps(in.nextDouble()));\r\n    }\r\n}\r\n```","title":"Java Step Counter Issue","body":"<p>You are calling <code>in.nextInt()</code>, so it is expecting the input in the console to be an integer. However, you are entering <code>150.5</code>, which is a double. So, you should use <code>nextDouble</code> instead of <code>nextInt</code>.</p>\n<p>You will also need to change the type of the parameter <code>userFeet</code> in <code>feetToSteps</code> from <code>int</code> to <code>double</code>, and change the return type from <code>double</code> to <code>int</code>, and cast the return value.</p>\n<p>The full fixed code:</p>\n<pre><code>import java.util.Scanner;\n\npublic class LabProgram {\n   \n   public static int feetToSteps(double userFeet) {\n        return (int) (userFeet / 2.5);\n    }\n\n    public static void main(String[] args) {\n        Scanner in = new Scanner(System.in);\n        System.out.print(feetToSteps(in.nextDouble()));\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1666864251,"post_id":74185488,"comment_id":131038233,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/74185488/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":26720416,"reputation":1,"user_id":20324375,"display_name":"Curtis"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666637383,"creation_date":1666637383,"answer_id":74185488,"question_id":70726453,"body_markdown":"import java.util.Scanner;\r\n\r\npublic class LabProgram {\r\n\r\n   public static int feetToSteps(double userFeet) {\r\n\r\n        return (int) (userFeet / 2.5);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n\r\n        Scanner in = new Scanner(System.in);\r\n        System.out.println(feetToSteps(in.nextDouble()));\r\n}\r\n","title":"Java Step Counter Issue","body":"<p>import java.util.Scanner;</p>\n<p>public class LabProgram {</p>\n<p>public static int feetToSteps(double userFeet) {</p>\n<pre><code>    return (int) (userFeet / 2.5);\n}\n\npublic static void main(String[] args) {\n\n    Scanner in = new Scanner(System.in);\n    System.out.println(feetToSteps(in.nextDouble()));\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":23714000,"reputation":27,"user_id":17735440,"display_name":"Jared Jennings"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3244,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70726466,"answer_count":2,"score":-1,"last_activity_date":1675864994,"creation_date":1642291999,"question_id":70726453,"body_markdown":"I&#39;m trying to write a step counter for one of my LAB assignments.\r\n\r\n&gt; A pedometer treats walking 1 step as walking 2.5 feet. Define a method named feetToSteps that takes a double as a parameter, representing the number of feet walked, and returns an integer that represents the number of steps walked. Then, write a main program that reads the number of feet walked as an input, calls method feetToSteps() with the input as an argument, and outputs the number of steps.\r\n&gt; \r\n&gt; Use floating-point arithmetic to perform the conversion.\r\n&gt; \r\n&gt; Ex: If the input is:\r\n&gt; \r\n&gt; ```\r\n&gt; 150.5\r\n&gt; ```\r\n&gt; \r\n&gt; the output is:\r\n&gt; \r\n&gt; ```\r\n&gt; 60\r\n&gt; ```\r\n\r\nThe code I have written is\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class LabProgram {\r\n       \r\n       public static double feetToSteps(int userFeet) {\r\n            return userFeet / 2.5;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            Scanner in = new Scanner(System.in);\r\n            System.out.print(feetToSteps(in.nextInt()));\r\n        }\r\n    }\r\n\r\nBut the output I get with input of 150.5 is\r\n\r\n    Exception in thread &quot;main&quot; java.util.InputMismatchException\r\n    \tat java.base/java.util.Scanner.throwFor(Scanner.java:939)\r\n    \tat java.base/java.util.Scanner.next(Scanner.java:1594)\r\n    \tat java.base/java.util.Scanner.nextInt(Scanner.java:2258)\r\n    \tat java.base/java.util.Scanner.nextInt(Scanner.java:2212)\r\n    \tat LabProgram.main(LabProgram.java:11)\r\n\r\nIt looks like my input is not matching what it is expecting. I am assuming I need it to recognize the input can be a float, but I&#39;m not sure if I&#39;m on the right line of thinking. Any suggestions?\r\n\r\n","title":"Java Step Counter Issue","body":"<p>I'm trying to write a step counter for one of my LAB assignments.</p>\n<blockquote>\n<p>A pedometer treats walking 1 step as walking 2.5 feet. Define a method named feetToSteps that takes a double as a parameter, representing the number of feet walked, and returns an integer that represents the number of steps walked. Then, write a main program that reads the number of feet walked as an input, calls method feetToSteps() with the input as an argument, and outputs the number of steps.</p>\n<p>Use floating-point arithmetic to perform the conversion.</p>\n<p>Ex: If the input is:</p>\n<pre><code>150.5\n</code></pre>\n<p>the output is:</p>\n<pre><code>60\n</code></pre>\n</blockquote>\n<p>The code I have written is</p>\n<pre><code>import java.util.Scanner;\n\npublic class LabProgram {\n   \n   public static double feetToSteps(int userFeet) {\n        return userFeet / 2.5;\n    }\n\n    public static void main(String[] args) {\n        Scanner in = new Scanner(System.in);\n        System.out.print(feetToSteps(in.nextInt()));\n    }\n}\n</code></pre>\n<p>But the output I get with input of 150.5 is</p>\n<pre><code>Exception in thread &quot;main&quot; java.util.InputMismatchException\n    at java.base/java.util.Scanner.throwFor(Scanner.java:939)\n    at java.base/java.util.Scanner.next(Scanner.java:1594)\n    at java.base/java.util.Scanner.nextInt(Scanner.java:2258)\n    at java.base/java.util.Scanner.nextInt(Scanner.java:2212)\n    at LabProgram.main(LabProgram.java:11)\n</code></pre>\n<p>It looks like my input is not matching what it is expecting. I am assuming I need it to recognize the input can be a float, but I'm not sure if I'm on the right line of thinking. Any suggestions?</p>\n"},{"tags":["java","playwright","playwright-java"],"comments":[{"owner":{"account_id":2754837,"reputation":19523,"user_id":2373249,"accept_rate":25,"display_name":"hardkoded"},"score":0,"creation_date":1641821940,"post_id":70653231,"comment_id":124899402,"body_markdown":"I think you approach is the right one.","body":"I think you approach is the right one."}],"answers":[{"tags":[],"owner":{"account_id":321990,"reputation":3258,"user_id":641135,"accept_rate":88,"display_name":"Christian Baumann"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641824201,"creation_date":1641824201,"answer_id":70653794,"question_id":70653231,"body_markdown":"I could create a Locator class:\r\n\r\n&lt;!-- language: Java--&gt;\r\n```\r\npublic class LoginPageLocators {\r\n\r\n    public Locator LoginButton;\r\n\r\n    public LoginPageLocators(Page page) {\r\n        LoginButton = page.locator(&quot;#loginButton&quot;);\r\n    }\r\n}\r\n```\r\n\r\nAnd then access the locators in the page object class via eg `locators.LoginButton.click()`.\r\n\r\nIt wouldn&#39;t avoid the clumsiness/ messiness, but at least hide it from the page object class.","title":"Locators and Page Object Model","body":"<p>I could create a Locator class:</p>\n\n<pre><code>public class LoginPageLocators {\n\n    public Locator LoginButton;\n\n    public LoginPageLocators(Page page) {\n        LoginButton = page.locator(&quot;#loginButton&quot;);\n    }\n}\n</code></pre>\n<p>And then access the locators in the page object class via eg <code>locators.LoginButton.click()</code>.</p>\n<p>It wouldn't avoid the clumsiness/ messiness, but at least hide it from the page object class.</p>\n"},{"comments":[{"owner":{"account_id":321990,"reputation":3258,"user_id":641135,"accept_rate":88,"display_name":"Christian Baumann"},"score":0,"creation_date":1644582527,"post_id":71079470,"comment_id":125650827,"body_markdown":"This is exactly what I already had proposed in my question, but &quot;this would become kind of lenghty/ messy, for large page object classes.&quot;","body":"This is exactly what I already had proposed in my question, but &quot;this would become kind of lenghty/ messy, for large page object classes.&quot;"},{"owner":{"account_id":24225791,"reputation":11,"user_id":18180308,"display_name":"Peter Jenkins"},"score":1,"creation_date":1644689101,"post_id":71079470,"comment_id":125675186,"body_markdown":"Ah yes I see it now Christian, not sure how I missed it. It does make the class code longer, but it&#39;s the best solution I&#39;ve come up with.","body":"Ah yes I see it now Christian, not sure how I missed it. It does make the class code longer, but it&#39;s the best solution I&#39;ve come up with."}],"tags":[],"owner":{"account_id":24225791,"reputation":11,"user_id":18180308,"display_name":"Peter Jenkins"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644579356,"creation_date":1644579356,"answer_id":71079470,"question_id":70653231,"body_markdown":"You could put the Locator definition inside the constructor:\r\n\r\n    public class LoginPage {\r\n    \r\n        private Page page;\r\n        private Locator loginButton;\r\n    \r\n        public LoginPage(Page page){\r\n            this.page = page;\r\n            this.loginButton = this.page.locator(&quot;#loginButton&quot;);\r\n        }\r\n    }","title":"Locators and Page Object Model","body":"<p>You could put the Locator definition inside the constructor:</p>\n<pre><code>public class LoginPage {\n\n    private Page page;\n    private Locator loginButton;\n\n    public LoginPage(Page page){\n        this.page = page;\n        this.loginButton = this.page.locator(&quot;#loginButton&quot;);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4081884,"reputation":66,"user_id":3352176,"display_name":"Iainn"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675864791,"creation_date":1675864791,"answer_id":75386863,"question_id":70653231,"body_markdown":"Following the Playwright page object model docs here: https://playwright.dev/java/docs/pom.\r\n\r\nYour setup could look something like this:\r\n\r\n    public final class LoginPage {\r\n        private final Page page;\r\n        private final Locator loginButton;\r\n\r\n        public LoginPage(Page page) {\r\n            this.page = page;\r\n            this.loginButton = page.locator(&quot;#loginButton&quot;);\r\n        }\r\n    \r\n        public void clickLoginButton() {\r\n            loginButton.click();\r\n        }\r\n    }\r\n\r\n    public class TestClass {\r\n\t    Page page;\r\n    \tLogin login;\r\n\t\r\n\t    @BeforeEach\r\n    \tvoid setup() {\r\n\t\t    Browser browser = Playwright.create().chromium().launch();\r\n            new BrowserType.LaunchOptions().setHeadless(false);\r\n\t    \tpage = browser.newPage();\r\n\t        login = new Login(page);\r\n    \t}\r\n\r\n        @Test\r\n        public void whatever() {\r\n    \t    login.clickLoginButton();\r\n        }\r\n    }\r\n\r\nThough I&#39;d recommend not splitting out the seperate elements on your page into individual Locators.  They add huge amounts of unnecessary typing, I&#39;d keep the locators within the boundary of the method in question, such as this:\r\n\r\n    public void clickLoginButton() {\r\n        page.locator(&quot;#loginButton&quot;).click();\r\n    }\r\n\r\nand then you won&#39;t have as much setup.","title":"Locators and Page Object Model","body":"<p>Following the Playwright page object model docs here: <a href=\"https://playwright.dev/java/docs/pom\" rel=\"nofollow noreferrer\">https://playwright.dev/java/docs/pom</a>.</p>\n<p>Your setup could look something like this:</p>\n<pre><code>public final class LoginPage {\n    private final Page page;\n    private final Locator loginButton;\n\n    public LoginPage(Page page) {\n        this.page = page;\n        this.loginButton = page.locator(&quot;#loginButton&quot;);\n    }\n\n    public void clickLoginButton() {\n        loginButton.click();\n    }\n}\n\npublic class TestClass {\n    Page page;\n    Login login;\n\n    @BeforeEach\n    void setup() {\n        Browser browser = Playwright.create().chromium().launch();\n        new BrowserType.LaunchOptions().setHeadless(false);\n        page = browser.newPage();\n        login = new Login(page);\n    }\n\n    @Test\n    public void whatever() {\n        login.clickLoginButton();\n    }\n}\n</code></pre>\n<p>Though I'd recommend not splitting out the seperate elements on your page into individual Locators.  They add huge amounts of unnecessary typing, I'd keep the locators within the boundary of the method in question, such as this:</p>\n<pre><code>public void clickLoginButton() {\n    page.locator(&quot;#loginButton&quot;).click();\n}\n</code></pre>\n<p>and then you won't have as much setup.</p>\n"}],"owner":{"account_id":321990,"reputation":3258,"user_id":641135,"accept_rate":88,"display_name":"Christian Baumann"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":798,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1675864791,"creation_date":1641821514,"question_id":70653231,"body_markdown":"I want to use Playwright&#39;s [Locators][1] in my page objects. I found an [example for Javascript][2] (stripped for brevity):\r\n\r\n&lt;!-- language: javascript --&gt;\r\n```\r\nimport { Page } from &#39;@playwright/test&#39;;\r\n\r\nexport class TodoPage {\r\n  listItems = this.page.locator(&#39;.todo-list li&#39;);\r\n\r\n  constructor(public readonly page: Page) { }\r\n}\r\n```\r\n\r\nTrying to do the same in my Java code: \r\n\r\n&lt;!-- language: Java--&gt;\r\n```\r\npublic class LoginPage {\r\n\r\n    private Page page;\r\n\r\n    private Locator loginButton = this.page.locator(&quot;#loginButton&quot;);\r\n\r\n    public LoginPage(Page page){\r\n        this.page = page;\r\n    }\r\n}\r\n```\r\n\r\nthrows a null pointer exception, because `page` is not yet initiated, when initializing `loginButton`.\r\n\r\nI could do \r\n\r\n&lt;!-- language: Java--&gt;\r\n```\r\nprivate Locator loginButton;\r\n\r\npublic LoginPage(Page page){\r\n    this.page = page;\r\n\r\n    loginButton =  this.page.locator(&quot;#loginButton&quot;);\r\n}\r\n```\r\n\r\nbut this would become kind of lenghty/ messy, for large page object classes.\r\n\r\nAny ideas on how to do that in Java?\r\n\r\nThanks!\r\n\r\n\r\n  [1]: https://playwright.dev/java/docs/api/class-locator\r\n  [2]: https://github.com/MarcusFelling/Demo.Playwright/blob/main/basic/pom/todoPage.pom.ts","title":"Locators and Page Object Model","body":"<p>I want to use Playwright's <a href=\"https://playwright.dev/java/docs/api/class-locator\" rel=\"nofollow noreferrer\">Locators</a> in my page objects. I found an <a href=\"https://github.com/MarcusFelling/Demo.Playwright/blob/main/basic/pom/todoPage.pom.ts\" rel=\"nofollow noreferrer\">example for Javascript</a> (stripped for brevity):</p>\n<pre class=\"lang-js prettyprint-override\"><code>import { Page } from '@playwright/test';\n\nexport class TodoPage {\n  listItems = this.page.locator('.todo-list li');\n\n  constructor(public readonly page: Page) { }\n}\n</code></pre>\n<p>Trying to do the same in my Java code:</p>\n\n<pre><code>public class LoginPage {\n\n    private Page page;\n\n    private Locator loginButton = this.page.locator(&quot;#loginButton&quot;);\n\n    public LoginPage(Page page){\n        this.page = page;\n    }\n}\n</code></pre>\n<p>throws a null pointer exception, because <code>page</code> is not yet initiated, when initializing <code>loginButton</code>.</p>\n<p>I could do</p>\n\n<pre><code>private Locator loginButton;\n\npublic LoginPage(Page page){\n    this.page = page;\n\n    loginButton =  this.page.locator(&quot;#loginButton&quot;);\n}\n</code></pre>\n<p>but this would become kind of lenghty/ messy, for large page object classes.</p>\n<p>Any ideas on how to do that in Java?</p>\n<p>Thanks!</p>\n"},{"tags":["java","mockito"],"answers":[{"comments":[{"owner":{"account_id":12127488,"reputation":703,"user_id":8855688,"accept_rate":43,"display_name":"neblaz"},"score":0,"creation_date":1675864362,"post_id":75386650,"comment_id":133019257,"body_markdown":"I tried that meanwhile, doesn&#39;t work.","body":"I tried that meanwhile, doesn&#39;t work."},{"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"score":0,"creation_date":1675864601,"post_id":75386650,"comment_id":133019334,"body_markdown":"Try using ArgumentMatchers","body":"Try using ArgumentMatchers"}],"tags":[],"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675864401,"creation_date":1675863640,"answer_id":75386650,"question_id":75386504,"body_markdown":"You could do\r\n\r\n    Mockito.when(this.myMock.myMethod(Mockito.any(QName.class), ArgumentMatchers.&lt;String[]&gt;any(), ArgumentMatchers.&lt;String[]&gt;any())).thenReturn(this.someOtherMock);","title":"Mockito - Specify more detailed method parameters for mock() and verify()","body":"<p>You could do</p>\n<pre><code>Mockito.when(this.myMock.myMethod(Mockito.any(QName.class), ArgumentMatchers.&lt;String[]&gt;any(), ArgumentMatchers.&lt;String[]&gt;any())).thenReturn(this.someOtherMock);\n</code></pre>\n"}],"owner":{"account_id":12127488,"reputation":703,"user_id":8855688,"accept_rate":43,"display_name":"neblaz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675864766,"creation_date":1675862981,"question_id":75386504,"body_markdown":"I have the following method\r\n\r\n    myMethod(QName param1, String[] param2, String... param3)\r\n\r\nIn my test I do\r\n\r\n    Mockito.when(this.myMock.myMethod(Mockito.any(QName.class), Mockito.any(), Mockito.any()))\r\n    .thenReturn(this.someOtherMock);\r\n\r\nAlso I do verify like this \r\n\r\n    Mockito.verify(this.myMock).myMethod(Mockito.any(QName.class), Mockito.any(), Mockito.any());\r\n\r\nBut `Mockito.any()` is to broad, how to specify more detailed that is must be an array of `String`, or elipsis of `String` (same as array)?\r\n\r\nIn my code I call the `myMethod` like \r\n\r\n    myMethod(&lt;..some QName value..&gt;, new String[]{&quot;someValue&quot;},  &lt;String... values passed into the outer method, so it&#39;s an array&gt;)","title":"Mockito - Specify more detailed method parameters for mock() and verify()","body":"<p>I have the following method</p>\n<pre><code>myMethod(QName param1, String[] param2, String... param3)\n</code></pre>\n<p>In my test I do</p>\n<pre><code>Mockito.when(this.myMock.myMethod(Mockito.any(QName.class), Mockito.any(), Mockito.any()))\n.thenReturn(this.someOtherMock);\n</code></pre>\n<p>Also I do verify like this</p>\n<pre><code>Mockito.verify(this.myMock).myMethod(Mockito.any(QName.class), Mockito.any(), Mockito.any());\n</code></pre>\n<p>But <code>Mockito.any()</code> is to broad, how to specify more detailed that is must be an array of <code>String</code>, or elipsis of <code>String</code> (same as array)?</p>\n<p>In my code I call the <code>myMethod</code> like</p>\n<pre><code>myMethod(&lt;..some QName value..&gt;, new String[]{&quot;someValue&quot;},  &lt;String... values passed into the outer method, so it's an array&gt;)\n</code></pre>\n"},{"tags":["java","java-stream"],"answers":[{"comments":[{"owner":{"account_id":24137475,"reputation":59,"user_id":18104162,"display_name":"Rishi Kumar"},"score":0,"creation_date":1675563035,"post_id":75349611,"comment_id":132955975,"body_markdown":"It is not possible to use multi field group by as I just made a snippet of code from my actual code. In the actual code I want to filter by some string instead of highest salary? I need new list of Employee.","body":"It is not possible to use multi field group by as I just made a snippet of code from my actual code. In the actual code I want to filter by some string instead of highest salary? I need new list of Employee."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1675563192,"post_id":75349611,"comment_id":132955989,"body_markdown":"Your question specified salary and that is what I showed.  The results are exactly what you said the expected output should be.  When you ask a question, please be specific, otherwise folks will be wasting their time.  You can always change the `mergeFunction`.","body":"Your question specified salary and that is what I showed.  The results are exactly what you said the expected output should be.  When you ask a question, please be specific, otherwise folks will be wasting their time.  You can always change the <code>mergeFunction</code>."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1675563728,"post_id":75349611,"comment_id":132956040,"body_markdown":"@RishiKumar I fixed it so you could specify the two fields in a `Function`.  And I put the results in a `List.`","body":"@RishiKumar I fixed it so you could specify the two fields in a <code>Function</code>.  And I put the results in a <code>List.</code>"}],"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1675642007,"creation_date":1675561438,"answer_id":75349611,"question_id":75349479,"body_markdown":"Using groupingBy would work but is overly complex and somewhat cumbersome to get the desired results. Assuming you had the getters defined, you could put them in a map where the `key` is the concatenation of the `departement and gender` and the `value` is the `Employee` instance.  Then use a `BinaryOperator` as a `mergeFunction` to replace the existing employee if the next employee&#39;s salary is higher.  The `LinkedHashMap` option is not required but is used to preserve the encounter order of the Employees.  To finish, the `values()` of the map are returned and put in a `List` and printed.\r\n\r\nI am using a `record` for the demo.\r\n```\r\nrecord Employee(String getName, String getDepartment, String getGender,\r\n        String getDesignation, Integer getSalary) {\r\n     @Override\r\n     public String toString() {\r\n         return &quot;Employee(%s, %s, %s, %s, %d)&quot;.formatted( getName, getDepartment, getGender,\r\n                 getDesignation,getSalary);\r\n     }\r\n}\r\n```\r\n- function to select two fields.\r\n```\r\nFunction&lt;Employee, String&gt; key = emp-&gt;emp.getDepartment()+emp.getGender();\r\n```\r\n- mergeFunction for desired return.\r\n```\r\nBinaryOperator&lt;Employee&gt; mergeFunction = (max, next) -&gt; \r\n            max.getSalary() &gt; next.getSalary() ? max : next;\r\n```\r\nThe process\r\n```\r\nList&lt;Employee&gt; maxSalaries = new ArrayList&lt;&gt;(listEmployees.stream()\r\n         .collect(Collectors.toMap(\r\n                  emp-&gt;key.apply(emp), emp -&gt; emp,\r\n                 mergeFunction,\r\n                 LinkedHashMap::new)).values());\r\n\r\nmaxSalaries.forEach(System.out::println);\r\n```\r\nNew list of Employee:\r\n```\r\nEmployee(Mark, Marketing, male, Sales Manager, 9200)\r\nEmployee(Diana, Marketing, female, Sales Manager, 1900)\r\nEmployee(Liam, R&amp;D, male, Software Engineer, 5200)\r\nEmployee(Tina, R&amp;D, female, Software Engineer, 7500)\r\nEmployee(Patrick, Government, female, Service, 7100)\r\nEmployee(Luc, Government, male, Service, 3300)\r\n\r\n```\r\nHere is a version that uses nested `groupingBy` collectors and a `reducing` collector.   I still prefer the first method but this may be more in line with what you want.\r\n```\r\nMap&lt;String, Map&lt;String, Employee&gt;&gt; results2 = listEmployees.stream().collect(Collectors.groupingBy(Employee::getDepartment,\r\n         Collectors.groupingBy(Employee::getGender,\r\n                 Collectors.reducing(new Employee(&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,-1), mergeFunction ))));\r\n \r\n results2.forEach((k,v) -&gt; {\r\n     v.values().forEach(System.out::println);\r\n     \r\n });\r\n```\r\nprints\r\n```\r\nEmployee(Tina, R&amp;D, female, Software Engineer, 7500)\r\nEmployee(Liam, R&amp;D, male, Software Engineer, 5200)\r\nEmployee(Patrick, Government, female, Service, 7100)\r\nEmployee(Luc, Government, male, Service, 3300)\r\nEmployee(Diana, Marketing, female, Sales Manager, 1900)\r\nEmployee(Mark, Marketing, male, Sales Manager, 9200)\r\n","title":"Group by two fields and filter by another field value get final result in each group","body":"<p>Using groupingBy would work but is overly complex and somewhat cumbersome to get the desired results. Assuming you had the getters defined, you could put them in a map where the <code>key</code> is the concatenation of the <code>departement and gender</code> and the <code>value</code> is the <code>Employee</code> instance.  Then use a <code>BinaryOperator</code> as a <code>mergeFunction</code> to replace the existing employee if the next employee's salary is higher.  The <code>LinkedHashMap</code> option is not required but is used to preserve the encounter order of the Employees.  To finish, the <code>values()</code> of the map are returned and put in a <code>List</code> and printed.</p>\n<p>I am using a <code>record</code> for the demo.</p>\n<pre><code>record Employee(String getName, String getDepartment, String getGender,\n        String getDesignation, Integer getSalary) {\n     @Override\n     public String toString() {\n         return &quot;Employee(%s, %s, %s, %s, %d)&quot;.formatted( getName, getDepartment, getGender,\n                 getDesignation,getSalary);\n     }\n}\n</code></pre>\n<ul>\n<li>function to select two fields.</li>\n</ul>\n<pre><code>Function&lt;Employee, String&gt; key = emp-&gt;emp.getDepartment()+emp.getGender();\n</code></pre>\n<ul>\n<li>mergeFunction for desired return.</li>\n</ul>\n<pre><code>BinaryOperator&lt;Employee&gt; mergeFunction = (max, next) -&gt; \n            max.getSalary() &gt; next.getSalary() ? max : next;\n</code></pre>\n<p>The process</p>\n<pre><code>List&lt;Employee&gt; maxSalaries = new ArrayList&lt;&gt;(listEmployees.stream()\n         .collect(Collectors.toMap(\n                  emp-&gt;key.apply(emp), emp -&gt; emp,\n                 mergeFunction,\n                 LinkedHashMap::new)).values());\n\nmaxSalaries.forEach(System.out::println);\n</code></pre>\n<p>New list of Employee:</p>\n<pre><code>Employee(Mark, Marketing, male, Sales Manager, 9200)\nEmployee(Diana, Marketing, female, Sales Manager, 1900)\nEmployee(Liam, R&amp;D, male, Software Engineer, 5200)\nEmployee(Tina, R&amp;D, female, Software Engineer, 7500)\nEmployee(Patrick, Government, female, Service, 7100)\nEmployee(Luc, Government, male, Service, 3300)\n\n</code></pre>\n<p>Here is a version that uses nested <code>groupingBy</code> collectors and a <code>reducing</code> collector.   I still prefer the first method but this may be more in line with what you want.</p>\n<pre><code>Map&lt;String, Map&lt;String, Employee&gt;&gt; results2 = listEmployees.stream().collect(Collectors.groupingBy(Employee::getDepartment,\n         Collectors.groupingBy(Employee::getGender,\n                 Collectors.reducing(new Employee(&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,-1), mergeFunction ))));\n \n results2.forEach((k,v) -&gt; {\n     v.values().forEach(System.out::println);\n     \n });\n</code></pre>\n<p>prints</p>\n<pre><code>Employee(Tina, R&amp;D, female, Software Engineer, 7500)\nEmployee(Liam, R&amp;D, male, Software Engineer, 5200)\nEmployee(Patrick, Government, female, Service, 7100)\nEmployee(Luc, Government, male, Service, 3300)\nEmployee(Diana, Marketing, female, Sales Manager, 1900)\nEmployee(Mark, Marketing, male, Sales Manager, 9200)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":24137475,"reputation":59,"user_id":18104162,"display_name":"Rishi Kumar"},"score":0,"creation_date":1675629523,"post_id":75354893,"comment_id":132965738,"body_markdown":"Thanks David, Record I can not use in java 8, My current application in java 8 only","body":"Thanks David, Record I can not use in java 8, My current application in java 8 only"},{"owner":{"account_id":195169,"reputation":2946,"user_id":1128593,"display_name":"David Jones"},"score":0,"creation_date":1675630109,"post_id":75354893,"comment_id":132965844,"body_markdown":"That&#39;s okay, you can create a custom class.  Record is just a convenience.","body":"That&#39;s okay, you can create a custom class.  Record is just a convenience."}],"tags":[],"owner":{"account_id":195169,"reputation":2946,"user_id":1128593,"display_name":"David Jones"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675631257,"creation_date":1675624824,"answer_id":75354893,"question_id":75349479,"body_markdown":"If you want to group by multiple fields you can create a record that encapsulates that grouping:\r\n\r\n    record DepartmentGender(String department, String gender) {\r\n      DepartmentGender(Employee employee) {\r\n        this(employee.getDepartment(), employee.getGender());\r\n      }\r\n    }\r\n\r\nIf record is unavailable you can implement your own custom class (or you could use a third-party library such as [Tuple][1] from Apache):\r\n\r\n    class DepartmentGender {\r\n      String department;\r\n      String gender;\r\n\r\n      DepartmentGender(Employee employee) {\r\n        department = employee.getDepartment();\r\n        gender = employee.getGender();\r\n      }\r\n    \r\n      @Override\r\n      public String toString() {\r\n        return String.format(&quot;%s (%s)&quot;, department, gender);\r\n      }\r\n    \r\n      @Override\r\n      public boolean equals(Object o) {\r\n        if (o == this)\r\n          return true;\r\n        if (!(o instanceof DepartmentGender))\r\n          return false;\r\n        DepartmentGender other = (DepartmentGender)o;\r\n        return (other.department.equals(department)) &amp;&amp; (other.gender.equals(gender));\r\n      }\r\n    \r\n      @Override\r\n      public int hashCode() {\r\n        return department.hashCode() * gender.hashCode();\r\n      }\r\n    }\r\n\r\nThen you can use this record as the key for you group (note that this does return an Optional&lt;&gt;):\r\n\r\n    listEmployees.stream()\r\n      .collect(\r\n        groupingBy(DepartmentGender::new,\r\n                   maxBy(comparingInt(Employee::getSalary)))\r\n      )      \r\n      .forEach((group, employee) -&gt; System.out.println(group + &quot; =&gt; &quot; + employee.get()));\r\n\r\nGiving the following output:\r\n\r\n    DepartmentGender[department=Marketing, gender=male] =&gt; Employee [Mark, Marketing, male, Sales Manager, 9200]\r\n    DepartmentGender[department=R&amp;D, gender=male] =&gt; Employee [Liam, R&amp;D, male, Software Engineer, 5200]\r\n    DepartmentGender[department=Marketing, gender=female] =&gt; Employee [Diana, Marketing, female, Sales Manager, 1900]\r\n    DepartmentGender[department=Government, gender=female] =&gt; Employee [Patrick, Government, female, Service, 7100]\r\n    DepartmentGender[department=Government, gender=male] =&gt; Employee [Luc, Government, male, Service, 3300]\r\n    DepartmentGender[department=R&amp;D, gender=female] =&gt; Employee [Tina, R&amp;D, female, Software Engineer, 7500]\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/tuple/package-summary.html","title":"Group by two fields and filter by another field value get final result in each group","body":"<p>If you want to group by multiple fields you can create a record that encapsulates that grouping:</p>\n<pre><code>record DepartmentGender(String department, String gender) {\n  DepartmentGender(Employee employee) {\n    this(employee.getDepartment(), employee.getGender());\n  }\n}\n</code></pre>\n<p>If record is unavailable you can implement your own custom class (or you could use a third-party library such as <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/tuple/package-summary.html\" rel=\"nofollow noreferrer\">Tuple</a> from Apache):</p>\n<pre><code>class DepartmentGender {\n  String department;\n  String gender;\n\n  DepartmentGender(Employee employee) {\n    department = employee.getDepartment();\n    gender = employee.getGender();\n  }\n\n  @Override\n  public String toString() {\n    return String.format(&quot;%s (%s)&quot;, department, gender);\n  }\n\n  @Override\n  public boolean equals(Object o) {\n    if (o == this)\n      return true;\n    if (!(o instanceof DepartmentGender))\n      return false;\n    DepartmentGender other = (DepartmentGender)o;\n    return (other.department.equals(department)) &amp;&amp; (other.gender.equals(gender));\n  }\n\n  @Override\n  public int hashCode() {\n    return department.hashCode() * gender.hashCode();\n  }\n}\n</code></pre>\n<p>Then you can use this record as the key for you group (note that this does return an Optional&lt;&gt;):</p>\n<pre><code>listEmployees.stream()\n  .collect(\n    groupingBy(DepartmentGender::new,\n               maxBy(comparingInt(Employee::getSalary)))\n  )      \n  .forEach((group, employee) -&gt; System.out.println(group + &quot; =&gt; &quot; + employee.get()));\n</code></pre>\n<p>Giving the following output:</p>\n<pre><code>DepartmentGender[department=Marketing, gender=male] =&gt; Employee [Mark, Marketing, male, Sales Manager, 9200]\nDepartmentGender[department=R&amp;D, gender=male] =&gt; Employee [Liam, R&amp;D, male, Software Engineer, 5200]\nDepartmentGender[department=Marketing, gender=female] =&gt; Employee [Diana, Marketing, female, Sales Manager, 1900]\nDepartmentGender[department=Government, gender=female] =&gt; Employee [Patrick, Government, female, Service, 7100]\nDepartmentGender[department=Government, gender=male] =&gt; Employee [Luc, Government, male, Service, 3300]\nDepartmentGender[department=R&amp;D, gender=female] =&gt; Employee [Tina, R&amp;D, female, Software Engineer, 7500]\n</code></pre>\n"}],"owner":{"account_id":24137475,"reputation":59,"user_id":18104162,"display_name":"Rishi Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":145,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75349611,"answer_count":2,"score":-1,"last_activity_date":1675864761,"creation_date":1675559269,"question_id":75349479,"body_markdown":"I have an object structure like\r\n\r\n\r\n    public class Employee {\r\n           private String name;\r\n           privte String department;\r\n           private String gender;\r\n           private String designation;\r\n           private Integer salary;         \r\n    }\r\n\r\n     List&lt;Employee&gt; listEmployees = new ArrayList&lt;&gt;(List.of(\r\n                new Employee(&quot;Mark&quot;, &quot;Marketing&quot;, &quot;male&quot;, &quot;Sales Manager&quot;, 9200),\r\n                new Employee(&quot;Tom&quot;, &quot;Marketing&quot;, &quot;male&quot;, &quot;Sales Manager&quot;, 2800),\r\n                new Employee(&quot;Travis&quot;, &quot;Marketing&quot;, &quot;male&quot;, &quot;Sales Manager&quot;, 3850),\r\n                new Employee(&quot;Diana&quot;, &quot;Marketing&quot;, &quot;female&quot;, &quot;Sales Manager&quot;, 1900),\r\n                new Employee(&quot;Keith&quot;, &quot;R&amp;D&quot;, &quot;male&quot;, &quot;Software Engineer&quot;, 4000),\r\n                new Employee(&quot;Liam&quot;, &quot;R&amp;D&quot;, &quot;male&quot;, &quot;Software Engineer&quot;, 5200),\r\n                new Employee(&quot;Whitney&quot;, &quot;R&amp;D&quot;, &quot;female&quot;, &quot;Software Engineer&quot;, 6000),\r\n                new Employee(&quot;Tina&quot;, &quot;R&amp;D&quot;, &quot;female&quot;, &quot;Software Engineer&quot;, 7500)\r\n                new Employee(&quot;Patrick&quot;, &quot;Government&quot;, &quot;female&quot;, &quot;Service&quot;, 7100),\r\n                new Employee(&quot;Luc&quot;, &quot;Government&quot;, &quot;male&quot;, &quot;Service&quot;, 3300),\r\n                new Employee(&quot;Philippe&quot;, &quot;Government&quot;, &quot;female&quot;, &quot;Service&quot;, 2800),\r\n                new Employee(&quot;David&quot;, &quot;Government&quot;, &quot;female&quot;, &quot;Service&quot;, 4700)\r\n        ));\r\n\r\nI want result from this employee list from each department and gender who is earning highest salary. \r\n\r\nI tried with two filed group by department and gender after that get result map inside map then list but how to filter by highest salary and get the final result from each group?\r\n\r\nSo my result would be like below.\r\n\r\n\r\n    Employee(&quot;Mark&quot;, &quot;Marketing&quot;, &quot;male&quot;, &quot;Sales Manager&quot;, 9200)\r\n    Employee(&quot;Diana&quot;, &quot;Marketing&quot;, &quot;female&quot;, &quot;Sales Manager&quot;, 1900)\r\n    Employee(&quot;Liam&quot;, &quot;R&amp;D&quot;, &quot;male&quot;, &quot;Software Engineer&quot;, 5200)\r\n    Employee(&quot;Tina&quot;, &quot;R&amp;D&quot;, &quot;female&quot;, &quot;Software Engineer&quot;, 7500)\r\n    Employee(&quot;Patrick&quot;, &quot;Government&quot;, &quot;female&quot;, &quot;Service&quot;, 7100)\r\n    Employee(&quot;Luc&quot;, &quot;Government&quot;, &quot;male&quot;, &quot;Service&quot;, 3300)\r\n\r\n\r\n\r\nI have tried with below code:\r\n\r\n    employeeList.stream()\r\n                .collect(Collectors.groupingBy(Employee::getDepartment, Collectors.groupingBy(Employee::getGender)));","title":"Group by two fields and filter by another field value get final result in each group","body":"<p>I have an object structure like</p>\n<pre><code>public class Employee {\n       private String name;\n       privte String department;\n       private String gender;\n       private String designation;\n       private Integer salary;         \n}\n\n List&lt;Employee&gt; listEmployees = new ArrayList&lt;&gt;(List.of(\n            new Employee(&quot;Mark&quot;, &quot;Marketing&quot;, &quot;male&quot;, &quot;Sales Manager&quot;, 9200),\n            new Employee(&quot;Tom&quot;, &quot;Marketing&quot;, &quot;male&quot;, &quot;Sales Manager&quot;, 2800),\n            new Employee(&quot;Travis&quot;, &quot;Marketing&quot;, &quot;male&quot;, &quot;Sales Manager&quot;, 3850),\n            new Employee(&quot;Diana&quot;, &quot;Marketing&quot;, &quot;female&quot;, &quot;Sales Manager&quot;, 1900),\n            new Employee(&quot;Keith&quot;, &quot;R&amp;D&quot;, &quot;male&quot;, &quot;Software Engineer&quot;, 4000),\n            new Employee(&quot;Liam&quot;, &quot;R&amp;D&quot;, &quot;male&quot;, &quot;Software Engineer&quot;, 5200),\n            new Employee(&quot;Whitney&quot;, &quot;R&amp;D&quot;, &quot;female&quot;, &quot;Software Engineer&quot;, 6000),\n            new Employee(&quot;Tina&quot;, &quot;R&amp;D&quot;, &quot;female&quot;, &quot;Software Engineer&quot;, 7500)\n            new Employee(&quot;Patrick&quot;, &quot;Government&quot;, &quot;female&quot;, &quot;Service&quot;, 7100),\n            new Employee(&quot;Luc&quot;, &quot;Government&quot;, &quot;male&quot;, &quot;Service&quot;, 3300),\n            new Employee(&quot;Philippe&quot;, &quot;Government&quot;, &quot;female&quot;, &quot;Service&quot;, 2800),\n            new Employee(&quot;David&quot;, &quot;Government&quot;, &quot;female&quot;, &quot;Service&quot;, 4700)\n    ));\n</code></pre>\n<p>I want result from this employee list from each department and gender who is earning highest salary.</p>\n<p>I tried with two filed group by department and gender after that get result map inside map then list but how to filter by highest salary and get the final result from each group?</p>\n<p>So my result would be like below.</p>\n<pre><code>Employee(&quot;Mark&quot;, &quot;Marketing&quot;, &quot;male&quot;, &quot;Sales Manager&quot;, 9200)\nEmployee(&quot;Diana&quot;, &quot;Marketing&quot;, &quot;female&quot;, &quot;Sales Manager&quot;, 1900)\nEmployee(&quot;Liam&quot;, &quot;R&amp;D&quot;, &quot;male&quot;, &quot;Software Engineer&quot;, 5200)\nEmployee(&quot;Tina&quot;, &quot;R&amp;D&quot;, &quot;female&quot;, &quot;Software Engineer&quot;, 7500)\nEmployee(&quot;Patrick&quot;, &quot;Government&quot;, &quot;female&quot;, &quot;Service&quot;, 7100)\nEmployee(&quot;Luc&quot;, &quot;Government&quot;, &quot;male&quot;, &quot;Service&quot;, 3300)\n</code></pre>\n<p>I have tried with below code:</p>\n<pre><code>employeeList.stream()\n            .collect(Collectors.groupingBy(Employee::getDepartment, Collectors.groupingBy(Employee::getGender)));\n</code></pre>\n"},{"tags":["java","spring","dependency-injection","guice"],"answers":[{"comments":[{"owner":{"account_id":17537794,"reputation":71,"user_id":12720547,"display_name":"no_clue_so"},"score":0,"creation_date":1595799946,"post_id":63105991,"comment_id":111592177,"body_markdown":"Thanks but you didn&#39;t answer my question regarding option 1 and option 2.","body":"Thanks but you didn&#39;t answer my question regarding option 1 and option 2."}],"tags":[],"owner":{"account_id":1485563,"reputation":2200,"user_id":1520767,"display_name":"fabfas"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1595803090,"creation_date":1595799566,"answer_id":63105991,"question_id":63105740,"body_markdown":"**@Component**\r\n\r\n`@Component` is a generic stereotype for any Spring-managed component. You can use `@Component` across the application to mark the beans as Spring&#39;s managed components. `@Service` and `@Repository` are special cases of @Component. They are technically the same but you can use them for the different purposes.\r\n\r\n**@Bean**\r\n\r\nYou can declare beans using the `@Bean` annotation in a configuration class. Configuration classes can contain bean definition methods annotated with `@Bean`\r\n\r\nHere are the differences which might help you to evaluate your choices between `@Component` and `@Bean`:\r\n\r\n - `@Component` is used to auto-detect and auto-configure beans using classpath scanning. `@Bean` is used to explicitly declare a single bean, rather than letting Spring do it automatically.\r\n - `@Component` is a class level annotation whereas `@Bean` is a method level annotation and name of the method serves as the bean name.\r\n - `@Component` need not to be used with the @Configuration annotation where as `@Bean` annotation has to be used within the class which is annotated with `@Configuration`.\r\n\r\nHere is an article [Migration Guide from Guice to Spring][1] which might interest you.\r\n\r\n[1]: https://sgitario.github.io/migration-guide-guice-to-spring-di/","title":"How to migrate from Guice to Spring?","body":"<p><strong>@Component</strong></p>\n<p><code>@Component</code> is a generic stereotype for any Spring-managed component. You can use <code>@Component</code> across the application to mark the beans as Spring's managed components. <code>@Service</code> and <code>@Repository</code> are special cases of @Component. They are technically the same but you can use them for the different purposes.</p>\n<p><strong>@Bean</strong></p>\n<p>You can declare beans using the <code>@Bean</code> annotation in a configuration class. Configuration classes can contain bean definition methods annotated with <code>@Bean</code></p>\n<p>Here are the differences which might help you to evaluate your choices between <code>@Component</code> and <code>@Bean</code>:</p>\n<ul>\n<li><code>@Component</code> is used to auto-detect and auto-configure beans using classpath scanning. <code>@Bean</code> is used to explicitly declare a single bean, rather than letting Spring do it automatically.</li>\n<li><code>@Component</code> is a class level annotation whereas <code>@Bean</code> is a method level annotation and name of the method serves as the bean name.</li>\n<li><code>@Component</code> need not to be used with the @Configuration annotation where as <code>@Bean</code> annotation has to be used within the class which is annotated with <code>@Configuration</code>.</li>\n</ul>\n<p>Here is an article <a href=\"https://sgitario.github.io/migration-guide-guice-to-spring-di/\" rel=\"nofollow noreferrer\">Migration Guide from Guice to Spring</a> which might interest you.</p>\n"}],"owner":{"account_id":17537794,"reputation":71,"user_id":12720547,"display_name":"no_clue_so"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":761,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675864728,"creation_date":1595797921,"question_id":63105740,"body_markdown":"Code to be migrated to a different codebase (which uses spring):\r\n```\r\n@Named\r\npublic class A {\r\n   ....\r\n}\r\n\r\npublic class B {\r\n   private final A a;\r\n\r\n   @Inject\r\n   public B (A a) {\r\n     ...\r\n   }\r\n   \r\n   ....\r\n}\r\n```\r\n\r\nI know two ways. Do both work? Is there any difference?\r\n\r\nOption 1:\r\n```\r\n@Component (can I label this as a @Bean also?)\r\npublic class A {\r\n   ....\r\n}\r\n\r\n\r\npublic class B {\r\n   @Autowired\r\n   private final A a;\r\n\r\n}\r\n```\r\n\r\nOption 2:\r\n```\r\npublic class A {\r\n  ...\r\n}\r\n\r\npublic class B {\r\n   private final A a;\r\n\r\n   public B (A a) {\r\n     ...\r\n   }\r\n}\r\n\r\n@Configuration\r\npublic class BeanConfig {\r\n   @Bean\r\n   public A a() {\r\n      new A();\r\n   }\r\n}\r\n```\r\n\r\nWith option 2, do I need to do anything else like `@Autowiring` the `BeanConfig` in class B?\r\n\r\nI am just starting to learn DI frameworks and this is bit confusing to me. ","title":"How to migrate from Guice to Spring?","body":"<p>Code to be migrated to a different codebase (which uses spring):</p>\n<pre><code>@Named\npublic class A {\n   ....\n}\n\npublic class B {\n   private final A a;\n\n   @Inject\n   public B (A a) {\n     ...\n   }\n   \n   ....\n}\n</code></pre>\n<p>I know two ways. Do both work? Is there any difference?</p>\n<p>Option 1:</p>\n<pre><code>@Component (can I label this as a @Bean also?)\npublic class A {\n   ....\n}\n\n\npublic class B {\n   @Autowired\n   private final A a;\n\n}\n</code></pre>\n<p>Option 2:</p>\n<pre><code>public class A {\n  ...\n}\n\npublic class B {\n   private final A a;\n\n   public B (A a) {\n     ...\n   }\n}\n\n@Configuration\npublic class BeanConfig {\n   @Bean\n   public A a() {\n      new A();\n   }\n}\n</code></pre>\n<p>With option 2, do I need to do anything else like <code>@Autowiring</code> the <code>BeanConfig</code> in class B?</p>\n<p>I am just starting to learn DI frameworks and this is bit confusing to me.</p>\n"},{"tags":["java","jpa","jakarta-ee","jta","persistence.xml"],"answers":[{"tags":[],"owner":{"account_id":3058875,"reputation":539,"user_id":2591987,"display_name":"Paulo Ara&#250;jo"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1675864548,"creation_date":1675864548,"answer_id":75386813,"question_id":74741463,"body_markdown":"As an alternative to defining datasources directly in your application server, you may use a bean with the annotation `jakarta.annotation.sql.DataSourceDefinition`, such as:\r\n\r\n```\r\nimport jakarta.annotation.sql.DataSourceDefinition;\r\n\r\n@DataSourceDefinition(\r\n    class = &quot;org.hsqldb.jdbcDriver&quot;,\r\n    name = &quot;yourdatasourcename&quot;,\r\n    url = &quot;jdbc:hsqldb:mem:bookdb;DB_CLOSE_DELAY=1&quot;,\r\n    user = &quot;sa&quot;,\r\n    password = &quot;sa&quot;)\r\npublic class YourDefinitionClass {\r\n}\r\n```\r\nPlease refer to the [javadoc](https://jakarta.ee/specifications/webprofile/9/apidocs/index.html?jakarta/annotation/sql/DataSourceDefinition.html) to apprehend all caveats of this strategy. Note, also, that this kind of coding lock of datasource data will make your project less portable.\r\n\r\nSince your persistence unit datasource will be fetched using the `&lt;jta-data-source&gt;`, you should remove all connection properties of your `persistence.xml`.\r\n","title":"JakartaEE JPA container-managed entity manager with in memory db","body":"<p>As an alternative to defining datasources directly in your application server, you may use a bean with the annotation <code>jakarta.annotation.sql.DataSourceDefinition</code>, such as:</p>\n<pre><code>import jakarta.annotation.sql.DataSourceDefinition;\n\n@DataSourceDefinition(\n    class = &quot;org.hsqldb.jdbcDriver&quot;,\n    name = &quot;yourdatasourcename&quot;,\n    url = &quot;jdbc:hsqldb:mem:bookdb;DB_CLOSE_DELAY=1&quot;,\n    user = &quot;sa&quot;,\n    password = &quot;sa&quot;)\npublic class YourDefinitionClass {\n}\n</code></pre>\n<p>Please refer to the <a href=\"https://jakarta.ee/specifications/webprofile/9/apidocs/index.html?jakarta/annotation/sql/DataSourceDefinition.html\" rel=\"nofollow noreferrer\">javadoc</a> to apprehend all caveats of this strategy. Note, also, that this kind of coding lock of datasource data will make your project less portable.</p>\n<p>Since your persistence unit datasource will be fetched using the <code>&lt;jta-data-source&gt;</code>, you should remove all connection properties of your <code>persistence.xml</code>.</p>\n"}],"owner":{"account_id":15087658,"reputation":84,"user_id":10888409,"display_name":"Turtle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75386813,"answer_count":1,"score":3,"last_activity_date":1675864548,"creation_date":1670579799,"question_id":74741463,"body_markdown":"I am currently exploring JakartaEE and have a very basic application with a few jax-rs endpoints, a service and a &quot;repository&quot;. My repository uses the `EntityManger` to write to the database. Since I am just testing, I wanted to use an in memory database; for this I chose hsqldb.\r\n\r\nRight now I create the EntityManger myself via the `EntityManagerFactory`. Thus, I also have to handle transactions myself.\r\n\r\nAs a next step, I wanted to use a container-managed EntityManager using the `@PersistenceContext` annotation, to also be able to use the `@Transactional` annotation.\r\n\r\nMy draft persistence.xml for this approach is the following:\r\n```\r\n    &lt;persistence-unit name=&quot;test&quot; transaction-type=&quot;JTA&quot;&gt;\r\n        &lt;jta-data-source&gt;TODO&lt;/jta-data-source&gt;\r\n        &lt;class&gt;demo.Jakarta.user.UserEntity&lt;/class&gt;\r\n        &lt;properties&gt;\r\n            &lt;property name=&quot;jakarta.persistence.jdbc.driver&quot; value=&quot;org.hsqldb.jdbcDriver&quot;/&gt;\r\n            &lt;property name=&quot;jakarta.persistence.jdbc.url&quot; value=&quot;jdbc:hsqldb:mem:testdb;DB_CLOSE_DELAY=-1&quot;/&gt;\r\n            &lt;property name=&quot;jakarta.persistence.jdbc.user&quot; value=&quot;sa&quot;/&gt;\r\n            &lt;property name=&quot;jakarta.persistence.jdbc.password&quot; value=&quot;&quot;/&gt;\r\n            &lt;property name=&quot;jakarta.persistence.schema-generation.database.action&quot; value=&quot;create&quot;/&gt;\r\n        &lt;/properties&gt;\r\n    &lt;/persistence-unit&gt;\r\n```\r\n\r\nAs you can probably tell by now, I am having trouble with the jta-data-source. I found some older references (glasfish 4.5) where you could create a vendor-specific xml-file to declare the data source.\r\n\r\nIs there a programmatic approach to declare this resource and ensure that the JNDI lookup does not fail on startup?","title":"JakartaEE JPA container-managed entity manager with in memory db","body":"<p>I am currently exploring JakartaEE and have a very basic application with a few jax-rs endpoints, a service and a &quot;repository&quot;. My repository uses the <code>EntityManger</code> to write to the database. Since I am just testing, I wanted to use an in memory database; for this I chose hsqldb.</p>\n<p>Right now I create the EntityManger myself via the <code>EntityManagerFactory</code>. Thus, I also have to handle transactions myself.</p>\n<p>As a next step, I wanted to use a container-managed EntityManager using the <code>@PersistenceContext</code> annotation, to also be able to use the <code>@Transactional</code> annotation.</p>\n<p>My draft persistence.xml for this approach is the following:</p>\n<pre><code>    &lt;persistence-unit name=&quot;test&quot; transaction-type=&quot;JTA&quot;&gt;\n        &lt;jta-data-source&gt;TODO&lt;/jta-data-source&gt;\n        &lt;class&gt;demo.Jakarta.user.UserEntity&lt;/class&gt;\n        &lt;properties&gt;\n            &lt;property name=&quot;jakarta.persistence.jdbc.driver&quot; value=&quot;org.hsqldb.jdbcDriver&quot;/&gt;\n            &lt;property name=&quot;jakarta.persistence.jdbc.url&quot; value=&quot;jdbc:hsqldb:mem:testdb;DB_CLOSE_DELAY=-1&quot;/&gt;\n            &lt;property name=&quot;jakarta.persistence.jdbc.user&quot; value=&quot;sa&quot;/&gt;\n            &lt;property name=&quot;jakarta.persistence.jdbc.password&quot; value=&quot;&quot;/&gt;\n            &lt;property name=&quot;jakarta.persistence.schema-generation.database.action&quot; value=&quot;create&quot;/&gt;\n        &lt;/properties&gt;\n    &lt;/persistence-unit&gt;\n</code></pre>\n<p>As you can probably tell by now, I am having trouble with the jta-data-source. I found some older references (glasfish 4.5) where you could create a vendor-specific xml-file to declare the data source.</p>\n<p>Is there a programmatic approach to declare this resource and ensure that the JNDI lookup does not fail on startup?</p>\n"},{"tags":["java","android","sql","postgresql","gradle"],"answers":[{"tags":[],"owner":{"account_id":19682641,"reputation":80,"user_id":14409408,"display_name":"Lookyus"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675864521,"creation_date":1675864521,"answer_id":75386806,"question_id":74783281,"body_markdown":"If you are using android emulator to test your app then you shouldn&#39;t use 127.0.0.1 in your connection string, but 10.0.2.2, because if you are running both your server and your emulator on the same machine the 127.0.0.1 will refer to the emulator itself. \r\n\r\nBut generally JDBC doesn&#39;t work well at all when it comes to Android, so it may not be your mistake, but simply that JDBC doesn&#39;t work correctly. The best way of connecting to your database is using web services.","title":"Postgresql not connecting to android studio via java","body":"<p>If you are using android emulator to test your app then you shouldn't use 127.0.0.1 in your connection string, but 10.0.2.2, because if you are running both your server and your emulator on the same machine the 127.0.0.1 will refer to the emulator itself.</p>\n<p>But generally JDBC doesn't work well at all when it comes to Android, so it may not be your mistake, but simply that JDBC doesn't work correctly. The best way of connecting to your database is using web services.</p>\n"}],"owner":{"display_name":"user20229409"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675864521,"creation_date":1670926870,"question_id":74783281,"body_markdown":"I&#39;m new to java and sql, I&#39;m trying to connect to the postgresql program but I get an error and nothing happens. I can&#39;t figure out what&#39;s wrong\r\n\r\n    Unused import statement\r\n    Class &#39;ConnectPG&#39; is never used\r\n    Method &#39;connectBD()&#39; is never used\r\n    Method &#39;disconnection(java.sql.Connection)&#39; is never used\r\n\r\nI have two java class files, one &quot;ConnectPG&quot; I want to connect to postgresql through it, and the file &quot;insertRecordExample&quot; through it I try to enter values into the table. But nothing works. When I start debugging SEPARATELY on the &quot;insertRecordExample&quot; file, the program gives an error:\r\n\r\n&quot;\r\n   16:53:59: Executing &#39;:app:InsertRecordExample.main()&#39;...\r\nenter code here`FAILURE: Build failed with an exception.\r\n\r\n Blockquote\r\n\r\n* Where:\r\nInitialization script &#39;C:\\Users\\fff\\AppData\\Local\\Temp\\InsertRecordExample_main__.gradle&#39; line: 41\r\n* What went wrong:\r\nA problem occurred configuring project &#39;:app&#39;.\r\n Could not create task &#39;:app:InsertRecordExample.main()&#39;.\r\n    SourceSet with name &#39;main&#39; not found.\r\n\r\n* Try:\r\n Run with --stacktrace option to get the stack trace.\r\n Run with --info or --debug option to get more log output.\r\n Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 110ms\r\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 8.0.\r\nYou can use &#39;--warning-mode all&#39; to show the individual deprecation warnings and determine if they come from your own scripts or plugins.\r\nSee https://docs.gradle.org/7.4/userguide/command_line_interface.html#sec:command_line_warnings\r\n16:54:00: Execution finished &#39;:app:InsertRecordExample.main()&#39;.\r\n&quot;\r\n\r\nJava File ConnectPG: \r\n\r\n    package com.example.a112new;\r\n    import java.sql.Connection;\r\n    import java.sql.Driver;\r\n    import java.sql.DriverManager;\r\n\r\n    public class ConnectPG {\r\n    Connection connect=null;\r\n    public Connection connectBD(){\r\n            try{\r\n            Class.forName(&quot;org.postgresql.Driver&quot;);\r\n            // localhost\r\n    connect=DriverManager.getConnection( &quot;jdbc:postgresql://127.0.0.1:5432/112&quot;, &quot;postgresql&quot;,  &quot;430890&quot;);\r\n                    }catch (Exception er) {\r\n            System.err.println(er.getMessage());\r\n    }\r\n       return connect;\r\n\r\n    }\r\n    //\r\n    protected void disconnection(Connection con)throws Exception {\r\n        con.close();\r\n    }\r\n    }\r\n\r\n\r\n\r\nJava File InsertRecordExample:\r\n\r\n \r\n         package com.example.a112new;\r\n        //package net.javaguides.postgresql.tutorial;\r\n        import java.sql.Connection;\r\n        import java.sql.DriverManager;\r\n        import java.sql.PreparedStatement;\r\n        import java.sql.SQLException;\r\n\r\n    /**\r\n     * Insert PrepareStatement JDBC Example\r\n     *\r\n     * @author Ramesh Fadatare\r\n     *\r\n     */\r\n    public class InsertRecordExample {\r\n    //localhost\r\n    private final String url = &quot;jdbc:postgresql://127.0.0.1:5432/112&quot;;\r\n    private final String user = &quot;postgres&quot;;\r\n    //    root\r\n    private final String password = &quot;111111&quot;;\r\n\r\n    private static final String INSERT_USERS_SQL = &quot;INSERT INTO users&quot; +\r\n            &quot;  (user_id, lastname, firstname, patronymic, birth,phone,email,password) VALUES             \r\n    &quot; +\r\n            &quot; (?, ?, ?, ?, ?, ?, ?, ?);&quot;;\r\n\r\n    public static void main(String[] argv) throws SQLException {\r\n        InsertRecordExample createTableExample = new InsertRecordExample();\r\n        createTableExample.insertRecord();\r\n    }\r\n\r\n    public void insertRecord() throws SQLException {\r\n        System.out.println(INSERT_USERS_SQL);\r\n        // Step 1: Establishing a Connection\r\n        try (Connection connection = DriverManager.getConnection(url, user, password);\r\n\r\n             // Step 2:Create a statement using connection object\r\n             PreparedStatement preparedStatement = connection.prepareStatement(INSERT_USERS_SQL)) {\r\n            preparedStatement.setInt(1, 1);\r\n            preparedStatement.setString(2, &quot;FFFF&quot;);\r\n            preparedStatement.setString(3, &quot;FFFF&quot;);\r\n            preparedStatement.setString(4, &quot;FFFFF&quot;);\r\n            preparedStatement.setString(5, &quot;2005-01-12&quot;);\r\n            preparedStatement.setString(6, &quot;+79888888888&quot;);\r\n            preparedStatement.setString(7, &quot;11111@gmail.com&quot;);\r\n            preparedStatement.setString(8, &quot;1234567&quot;);\r\n\r\n            System.out.println(preparedStatement);\r\n            // Step 3: Execute the query or update query\r\n            preparedStatement.executeUpdate();\r\n        } catch (SQLException e) {\r\n\r\n            // print SQL exception information\r\n            printSQLException(e);\r\n        }\r\n\r\n        // Step 4: try-with-resource statement will auto close the connection.\r\n    }\r\n\r\n    public static void printSQLException(SQLException ex) {\r\n        for (Throwable e: ex) {\r\n            if (e instanceof SQLException) {\r\n                e.printStackTrace(System.err);\r\n                System.err.println(&quot;SQLState: &quot; + ((SQLException) e).getSQLState());\r\n                System.err.println(&quot;Error Code: &quot; + ((SQLException) e).getErrorCode());\r\n                System.err.println(&quot;Message: &quot; + e.getMessage());\r\n                Throwable t = ex.getCause();\r\n                while (t != null) {\r\n                    System.out.println(&quot;Cause: &quot; + t);\r\n                    t = t.getCause();\r\n                }\r\n            }\r\n        }\r\n    }}\r\n\r\n\r\nPlease help me understand what I am doing wrong.\r\nI tried to identify the problem through logcat &quot;--warning-mode=all&quot; But it&#39;s no use, it doesn&#39;t give any errors at all. Gives errors only InsertRecordExample when I run it ONE! If I run the entire program, there are no errors as such, only those that I described above. I apologize in advance for my English.\r\n\r\n","title":"Postgresql not connecting to android studio via java","body":"<p>I'm new to java and sql, I'm trying to connect to the postgresql program but I get an error and nothing happens. I can't figure out what's wrong</p>\n<pre><code>Unused import statement\nClass 'ConnectPG' is never used\nMethod 'connectBD()' is never used\nMethod 'disconnection(java.sql.Connection)' is never used\n</code></pre>\n<p>I have two java class files, one &quot;ConnectPG&quot; I want to connect to postgresql through it, and the file &quot;insertRecordExample&quot; through it I try to enter values into the table. But nothing works. When I start debugging SEPARATELY on the &quot;insertRecordExample&quot; file, the program gives an error:</p>\n<p>&quot;\n16:53:59: Executing ':app:InsertRecordExample.main()'...\nenter code here`FAILURE: Build failed with an exception.</p>\n<p>Blockquote</p>\n<ul>\n<li><p>Where:\nInitialization script 'C:\\Users\\fff\\AppData\\Local\\Temp\\InsertRecordExample_main__.gradle' line: 41</p>\n</li>\n<li><p>What went wrong:\nA problem occurred configuring project ':app'.\nCould not create task ':app:InsertRecordExample.main()'.\nSourceSet with name 'main' not found.</p>\n</li>\n<li><p>Try:\nRun with --stacktrace option to get the stack trace.\nRun with --info or --debug option to get more log output.\nRun with --scan to get full insights.</p>\n</li>\n<li><p>Get more help at <a href=\"https://help.gradle.org\" rel=\"nofollow noreferrer\">https://help.gradle.org</a></p>\n</li>\n</ul>\n<p>BUILD FAILED in 110ms\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 8.0.\nYou can use '--warning-mode all' to show the individual deprecation warnings and determine if they come from your own scripts or plugins.\nSee <a href=\"https://docs.gradle.org/7.4/userguide/command_line_interface.html#sec:command_line_warnings\" rel=\"nofollow noreferrer\">https://docs.gradle.org/7.4/userguide/command_line_interface.html#sec:command_line_warnings</a>\n16:54:00: Execution finished ':app:InsertRecordExample.main()'.\n&quot;</p>\n<p>Java File ConnectPG:</p>\n<pre><code>package com.example.a112new;\nimport java.sql.Connection;\nimport java.sql.Driver;\nimport java.sql.DriverManager;\n\npublic class ConnectPG {\nConnection connect=null;\npublic Connection connectBD(){\n        try{\n        Class.forName(&quot;org.postgresql.Driver&quot;);\n        // localhost\nconnect=DriverManager.getConnection( &quot;jdbc:postgresql://127.0.0.1:5432/112&quot;, &quot;postgresql&quot;,  &quot;430890&quot;);\n                }catch (Exception er) {\n        System.err.println(er.getMessage());\n}\n   return connect;\n\n}\n//\nprotected void disconnection(Connection con)throws Exception {\n    con.close();\n}\n}\n</code></pre>\n<p>Java File InsertRecordExample:</p>\n<pre><code>     package com.example.a112new;\n    //package net.javaguides.postgresql.tutorial;\n    import java.sql.Connection;\n    import java.sql.DriverManager;\n    import java.sql.PreparedStatement;\n    import java.sql.SQLException;\n\n/**\n * Insert PrepareStatement JDBC Example\n *\n * @author Ramesh Fadatare\n *\n */\npublic class InsertRecordExample {\n//localhost\nprivate final String url = &quot;jdbc:postgresql://127.0.0.1:5432/112&quot;;\nprivate final String user = &quot;postgres&quot;;\n//    root\nprivate final String password = &quot;111111&quot;;\n\nprivate static final String INSERT_USERS_SQL = &quot;INSERT INTO users&quot; +\n        &quot;  (user_id, lastname, firstname, patronymic, birth,phone,email,password) VALUES             \n&quot; +\n        &quot; (?, ?, ?, ?, ?, ?, ?, ?);&quot;;\n\npublic static void main(String[] argv) throws SQLException {\n    InsertRecordExample createTableExample = new InsertRecordExample();\n    createTableExample.insertRecord();\n}\n\npublic void insertRecord() throws SQLException {\n    System.out.println(INSERT_USERS_SQL);\n    // Step 1: Establishing a Connection\n    try (Connection connection = DriverManager.getConnection(url, user, password);\n\n         // Step 2:Create a statement using connection object\n         PreparedStatement preparedStatement = connection.prepareStatement(INSERT_USERS_SQL)) {\n        preparedStatement.setInt(1, 1);\n        preparedStatement.setString(2, &quot;FFFF&quot;);\n        preparedStatement.setString(3, &quot;FFFF&quot;);\n        preparedStatement.setString(4, &quot;FFFFF&quot;);\n        preparedStatement.setString(5, &quot;2005-01-12&quot;);\n        preparedStatement.setString(6, &quot;+79888888888&quot;);\n        preparedStatement.setString(7, &quot;11111@gmail.com&quot;);\n        preparedStatement.setString(8, &quot;1234567&quot;);\n\n        System.out.println(preparedStatement);\n        // Step 3: Execute the query or update query\n        preparedStatement.executeUpdate();\n    } catch (SQLException e) {\n\n        // print SQL exception information\n        printSQLException(e);\n    }\n\n    // Step 4: try-with-resource statement will auto close the connection.\n}\n\npublic static void printSQLException(SQLException ex) {\n    for (Throwable e: ex) {\n        if (e instanceof SQLException) {\n            e.printStackTrace(System.err);\n            System.err.println(&quot;SQLState: &quot; + ((SQLException) e).getSQLState());\n            System.err.println(&quot;Error Code: &quot; + ((SQLException) e).getErrorCode());\n            System.err.println(&quot;Message: &quot; + e.getMessage());\n            Throwable t = ex.getCause();\n            while (t != null) {\n                System.out.println(&quot;Cause: &quot; + t);\n                t = t.getCause();\n            }\n        }\n    }\n}}\n</code></pre>\n<p>Please help me understand what I am doing wrong.\nI tried to identify the problem through logcat &quot;--warning-mode=all&quot; But it's no use, it doesn't give any errors at all. Gives errors only InsertRecordExample when I run it ONE! If I run the entire program, there are no errors as such, only those that I described above. I apologize in advance for my English.</p>\n"},{"tags":["java","hibernate","jpa","entity"],"answers":[{"tags":[],"owner":{"account_id":1756015,"reputation":11409,"user_id":1604048,"accept_rate":71,"display_name":"Murat Yıldız"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675808497,"creation_date":1675808497,"answer_id":75379578,"question_id":75379378,"body_markdown":"You can check the corresponding tags before saving record to the database in your service method as shown below (you might update it to check multiple tags):\r\n\r\n\r\n```\r\npublic void create(FileRequest request) {\r\n    if (tagRepository.existsByNameIgnoreCase(request.getTagName())) {        \r\n        throw new ElementAlreadyExistsException(&quot;File with same tag already exists&quot;);\r\n    }\r\n    // save file \r\n}\r\n```","title":"Persist new parent entity only if linked entity already exist in the database with JPA","body":"<p>You can check the corresponding tags before saving record to the database in your service method as shown below (you might update it to check multiple tags):</p>\n<pre><code>public void create(FileRequest request) {\n    if (tagRepository.existsByNameIgnoreCase(request.getTagName())) {        \n        throw new ElementAlreadyExistsException(&quot;File with same tag already exists&quot;);\n    }\n    // save file \n}\n</code></pre>\n"}],"owner":{"account_id":12811194,"reputation":57,"user_id":9269355,"display_name":"vifire"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675864485,"creation_date":1675806883,"question_id":75379378,"body_markdown":"I have an entity Video that needs to be written to a database with Java/Hibernate. Each video can have one or more tags. Currently, there are only certain tags that can be used (predefined and managed in another place).\r\n\r\nVideos can be edited and created via REST API.\r\n\r\nNow, I want to persist a new Video with tags into the database, but there should be no persist if one or more tags do not already exist in the database.\r\n\r\nMy first idea would be to query each tag before the persist if it exists in the database and fail with the first match.\r\n\r\nBut I think there are many unnecessary queries and I would like to know if there is something easier I can use.","title":"Persist new parent entity only if linked entity already exist in the database with JPA","body":"<p>I have an entity Video that needs to be written to a database with Java/Hibernate. Each video can have one or more tags. Currently, there are only certain tags that can be used (predefined and managed in another place).</p>\n<p>Videos can be edited and created via REST API.</p>\n<p>Now, I want to persist a new Video with tags into the database, but there should be no persist if one or more tags do not already exist in the database.</p>\n<p>My first idea would be to query each tag before the persist if it exists in the database and fail with the first match.</p>\n<p>But I think there are many unnecessary queries and I would like to know if there is something easier I can use.</p>\n"},{"tags":["java","android","android-studio","sensormanager"],"comments":[{"owner":{"account_id":16494854,"reputation":1337,"user_id":11917684,"display_name":"Николай Гольцев"},"score":0,"creation_date":1602520280,"post_id":64321354,"comment_id":113740350,"body_markdown":"Where did you get this signature for ```registerListener```? There is no such signature according to the official documentation: https://developer.android.com/reference/android/hardware/SensorManager.","body":"Where did you get this signature for <code>registerListener</code>? There is no such signature according to the official documentation: <a href=\"https://developer.android.com/reference/android/hardware/SensorManager\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/hardware/SensorManag&zwnj;&#8203;er</a>."},{"owner":{"account_id":16196957,"reputation":1,"user_id":11694363,"display_name":"Jurek Wiśniewski"},"score":0,"creation_date":1602524826,"post_id":64321354,"comment_id":113742286,"body_markdown":"@НиколайГольцев I used https://www.javacodegeeks.com/2013/09/android-compass-code-example.html code from this guy","body":"@НиколайГольцев I used <a href=\"https://www.javacodegeeks.com/2013/09/android-compass-code-example.html\" rel=\"nofollow noreferrer\">javacodegeeks.com/2013/09/android-compass-code-example.html</a> code from this guy"},{"owner":{"account_id":16494854,"reputation":1337,"user_id":11917684,"display_name":"Николай Гольцев"},"score":0,"creation_date":1602525685,"post_id":64321354,"comment_id":113742635,"body_markdown":"Please, provide all code of this activity.","body":"Please, provide all code of this activity."},{"owner":{"account_id":16196957,"reputation":1,"user_id":11694363,"display_name":"Jurek Wiśniewski"},"score":0,"creation_date":1602526481,"post_id":64321354,"comment_id":113742931,"body_markdown":"@НиколайГольцев ok I just added","body":"@НиколайГольцев ok I just added"},{"owner":{"account_id":16494854,"reputation":1337,"user_id":11917684,"display_name":"Николай Гольцев"},"score":0,"creation_date":1602527279,"post_id":64321354,"comment_id":113743250,"body_markdown":"Your activity should implement a specific interface like this: ```public class MainActivity extends Activity implements SensorEventListener```","body":"Your activity should implement a specific interface like this: <code>public class MainActivity extends Activity implements SensorEventListener</code>"},{"owner":{"account_id":16196957,"reputation":1,"user_id":11694363,"display_name":"Jurek Wiśniewski"},"score":0,"creation_date":1602528226,"post_id":64321354,"comment_id":113743586,"body_markdown":"@НиколайГольцев sorry for the obvious question but I&#39;m a new developer how can I do that?","body":"@НиколайГольцев sorry for the obvious question but I&#39;m a new developer how can I do that?"},{"owner":{"account_id":16494854,"reputation":1337,"user_id":11917684,"display_name":"Николай Гольцев"},"score":0,"creation_date":1602528731,"post_id":64321354,"comment_id":113743788,"body_markdown":"You should change this fragment of code ```public class MainActivity extends AppCompatActivity``` to this ```public class MainActivity extends AppCompatActivity implements SensorEventListener```","body":"You should change this fragment of code <code>public class MainActivity extends AppCompatActivity</code> to this <code>public class MainActivity extends AppCompatActivity implements SensorEventListener</code>"},{"owner":{"account_id":16196957,"reputation":1,"user_id":11694363,"display_name":"Jurek Wiśniewski"},"score":0,"creation_date":1602529052,"post_id":64321354,"comment_id":113743908,"body_markdown":"@НиколайГольцев wow this work Man I Love you haha. now I have different error: Attempt to invoke virtual method &#39;boolean android.hardware.SensorManager.registerListener(android.hardware.SensorEventListener, android.hardware.Sensor, int)&#39; on a null object reference","body":"@НиколайГольцев wow this work Man I Love you haha. now I have different error: Attempt to invoke virtual method &#39;boolean android.hardware.SensorManager.registerListener(android.hard&zwnj;&#8203;ware.SensorEventList&zwnj;&#8203;ener, android.hardware.Sensor, int)&#39; on a null object reference"},{"owner":{"account_id":16494854,"reputation":1337,"user_id":11917684,"display_name":"Николай Гольцев"},"score":0,"creation_date":1602529950,"post_id":64321354,"comment_id":113744275,"body_markdown":"Try to debug your code :)","body":"Try to debug your code :)"}],"answers":[{"tags":[],"owner":{"account_id":27692391,"reputation":1,"user_id":21138816,"display_name":"Subharanjan Nayak"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675864402,"creation_date":1675410555,"answer_id":75332845,"question_id":64321354,"body_markdown":"I had faced this problem earlier dealing with the accelerometer. I believe the issue here is that you have not implemented `SensorEventListener`.\r\n\r\nLike this:\r\n\r\n    public class MainActivity extends AppCompatActivity implements SensorEventListener {\r\n\r\n    }\r\n\r\n","title":"Cannot resolve method &#39;registerListener(com.xxx.xxx.MainActivity, android.hardware.SensorManager, int)&#39;","body":"<p>I had faced this problem earlier dealing with the accelerometer. I believe the issue here is that you have not implemented <code>SensorEventListener</code>.</p>\n<p>Like this:</p>\n<pre><code>public class MainActivity extends AppCompatActivity implements SensorEventListener {\n\n}\n</code></pre>\n"}],"owner":{"account_id":16196957,"reputation":1,"user_id":11694363,"display_name":"Jurek Wiśniewski"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":691,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675864402,"creation_date":1602518608,"question_id":64321354,"body_markdown":"couldn&#39;t find a good answer to that problem.\r\n\r\n     @Override\r\n    protected void onResume() {\r\n        super.onResume();\r\n\r\n      mSensorManager.registerListener(MainActivity.this, mSensorManager, SensorManager.SENSOR_DELAY_GAME);\r\n    }\r\n\r\nCannot resolve method &#39;registerListener(com.xxx.xxx.MainActivity, android.hardware.SensorManager, int)&#39;\r\n\r\nand I have no idea what to do\r\n\r\nWhole activity code:\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n\r\n\r\n    private ImageView image, shield;\r\n    private float currentDegree = 0f;\r\n    private SensorManager mSensorManager;\r\n    private TextView tvHeading;\r\n    private Location location = new Location(&quot;A&quot;);\r\n    private Location target = new Location(&quot;B&quot;);\r\n    private LocationManager locationManager;\r\n    private EditText latitudeInput, longitudeInput;\r\n    public GeomagneticField geoField;\r\n    private Button setLocationBtn;\r\n    Dialog myDialog;\r\n    private SensorManager sensorManager;\r\n    private  Sensor mAccelerometer;\r\n\r\n    private float[] floatGravity = new float[3];\r\n    private float[] floatGeoMagnetic = new float[3];\r\n\r\n    private float[] floatOrientation = new float[3];\r\n    private float[] floatRotationMatrix = new float[9];\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        image = (ImageView) findViewById(R.id.direction);\r\n        shield = (ImageView) findViewById(R.id.shield);\r\n        tvHeading = (TextView) findViewById(R.id.tvHeading);\r\n        setLocationBtn = (Button) findViewById(R.id.button);\r\n        myDialog = new Dialog(this);\r\n        LocationManager lm = (LocationManager) getSystemService(Context.LOCATION_SERVICE);\r\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\r\n            // TODO: Consider calling\r\n            //    ActivityCompat#requestPermissions\r\n            // here to request the missing permissions, and then overriding\r\n            //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\r\n            //                                          int[] grantResults)\r\n            // to handle the case where the user grants the permission. See the documentation\r\n            // for ActivityCompat#requestPermissions for more details.\r\n            return;\r\n        }\r\n        Location location = lm.getLastKnownLocation(LocationManager.GPS_PROVIDER);\r\n        double longitude = location.getLongitude();\r\n        double latitude = location.getLatitude();\r\n\r\n        mSensorManager = (SensorManager) getSystemService(SENSOR_SERVICE);\r\n        mSensorManager.getDefaultSensor(Sensor.TYPE_ORIENTATION);\r\n        \r\n\r\n        //location.setLatitude(54.903535);\r\n        //location.setLongitude(23.979342);\r\n\r\n        target.setLatitude(54.904618);\r\n        target.setLongitude(23.978782);\r\n\r\n        SensorEventListener sensorEventListenerAccelrometer = new SensorEventListener() {\r\n            @Override\r\n            public void onSensorChanged(SensorEvent event) {\r\n                floatGravity = event.values;\r\n\r\n                SensorManager.getRotationMatrix(floatRotationMatrix, null, floatGravity, floatGeoMagnetic);\r\n                SensorManager.getOrientation(floatRotationMatrix, floatOrientation);\r\n                mAccelerometer = mSensorManager.getDefaultSensor(Sensor.TYPE_ACCELEROMETER);\r\n                shield.setRotation((float) (-floatOrientation[0] * 180 / 3.14159));\r\n            }\r\n\r\n            @Override\r\n            public void onAccuracyChanged(Sensor sensor, int accuracy) {\r\n            }\r\n        };\r\n    }\r\n\r\n\r\n    @Override\r\n    protected void onResume() {\r\n        super.onResume();\r\n\r\n        mSensorManager.registerListener(this, mAccelerometer, SensorManager.SENSOR_DELAY_NORMAL);\r\n    }\r\n\r\n    @Override\r\n    protected void onPause() {\r\n        super.onPause();\r\n       //mSensorManager.unregisterListener(this); // to stop the listener and save battery\r\n    }\r\n\r\n\r\n    //@Override\r\n    public void onSensorChanged(SensorEvent event) {\r\n        // get the angle around the z-axis rotated\r\n        float degree = Math.round(event.values[0]);\r\n        degree += geoField.getDeclination();\r\n\r\n        float bearing = location.bearingTo(target);\r\n        degree = (bearing - degree) * -1;\r\n        degree = normalizeDegree(degree);\r\n\r\n        tvHeading.setText(&quot;Heading: &quot; + Float.toString(degree) + &quot; degrees&quot;);\r\n\r\n        // create a rotation animation (reverse turn degree degrees)\r\n        RotateAnimation ra = new RotateAnimation(\r\n                currentDegree,\r\n                -degree,\r\n                Animation.RELATIVE_TO_SELF, 0.5f,\r\n                Animation.RELATIVE_TO_SELF,\r\n                0.5f);\r\n\r\n        // how long the animation will take place\r\n        ra.setDuration(210);\r\n\r\n        // set the animation after the end of the reservation status\r\n        ra.setFillAfter(true);\r\n\r\n        // Start the animation\r\n        image.startAnimation(ra);\r\n        currentDegree = -degree;\r\n    }\r\n\r\n    private float normalizeDegree(float value) {\r\n        if (value &gt;= 0.0f &amp;&amp; value &lt;= 180.0f) {\r\n            return value;\r\n        } else {\r\n            return 180 + (180 + value);\r\n        }\r\n    }\r\n\r\n\r\n    public void onSensorChanged2(SensorEvent event) {\r\n\r\n        // get the angle around the z-axis rotated\r\n        float degree = Math.round(event.values[0]);\r\n\r\n        tvHeading.setText(&quot;Heading: &quot; + Float.toString(degree) + &quot; degrees&quot;);\r\n\r\n        // create a rotation animation (reverse turn degree degrees)\r\n        RotateAnimation ra = new RotateAnimation(\r\n                currentDegree,\r\n                -degree,\r\n                Animation.RELATIVE_TO_SELF, 0.5f,\r\n                Animation.RELATIVE_TO_SELF,\r\n                0.5f);\r\n\r\n        // how long the animation will take place\r\n        ra.setDuration(210);\r\n\r\n        // set the animation after the end of the reservation status\r\n        ra.setFillAfter(true);\r\n\r\n        // Start the animation\r\n        shield.startAnimation(ra);\r\n        currentDegree = -degree;\r\n\r\n    }\r\n\r\n\r\n    public void onAccuracyChanged(Sensor sensor, int accuracy) {\r\n        // not in use\r\n    }\r\n\r\n\r\n    public void ShowPopup(View v) {\r\n        myDialog.setContentView(R.layout.popup);\r\n        TextView txtclose;\r\n        Button setBtn;\r\n\r\n        txtclose =(TextView) myDialog.findViewById(R.id.exitBtn);\r\n        setBtn =(Button) myDialog.findViewById(R.id.setBtn);\r\n        txtclose.setText(&quot;X&quot;);\r\n        latitudeInput =(EditText) myDialog.findViewById(R.id.latitudeInput);\r\n        longitudeInput =(EditText) myDialog.findViewById(R.id.longitudeInput);\r\n        txtclose.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                myDialog.dismiss();\r\n            }\r\n        });\r\n        setBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                if(latitudeInput == null || longitudeInput == null){\r\n                    Toast.makeText(MainActivity.this, &quot;You did not enter a coordinates&quot;, Toast.LENGTH_SHORT).show();\r\n                    return;\r\n                }\r\n                else {\r\n                    target.setLatitude(Double.parseDouble(latitudeInput.getText().toString()));\r\n                    target.setLongitude(Double.parseDouble(longitudeInput.getText().toString()));\r\n                    myDialog.dismiss();\r\n                }\r\n            }\r\n        });\r\n        myDialog.getWindow().setBackgroundDrawable(new ColorDrawable(Color.TRANSPARENT));\r\n        myDialog.show();\r\n    }\r\n\r\nMy app should show the direction to a destination like a compass. The user will give a latitude and longitude.\r\nOr maybe you have different ideas about how to make a compass to location","title":"Cannot resolve method &#39;registerListener(com.xxx.xxx.MainActivity, android.hardware.SensorManager, int)&#39;","body":"<p>couldn't find a good answer to that problem.</p>\n<pre><code> @Override\nprotected void onResume() {\n    super.onResume();\n\n  mSensorManager.registerListener(MainActivity.this, mSensorManager, SensorManager.SENSOR_DELAY_GAME);\n}\n</code></pre>\n<p>Cannot resolve method 'registerListener(com.xxx.xxx.MainActivity, android.hardware.SensorManager, int)'</p>\n<p>and I have no idea what to do</p>\n<p>Whole activity code:</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n\nprivate ImageView image, shield;\nprivate float currentDegree = 0f;\nprivate SensorManager mSensorManager;\nprivate TextView tvHeading;\nprivate Location location = new Location(&quot;A&quot;);\nprivate Location target = new Location(&quot;B&quot;);\nprivate LocationManager locationManager;\nprivate EditText latitudeInput, longitudeInput;\npublic GeomagneticField geoField;\nprivate Button setLocationBtn;\nDialog myDialog;\nprivate SensorManager sensorManager;\nprivate  Sensor mAccelerometer;\n\nprivate float[] floatGravity = new float[3];\nprivate float[] floatGeoMagnetic = new float[3];\n\nprivate float[] floatOrientation = new float[3];\nprivate float[] floatRotationMatrix = new float[9];\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    image = (ImageView) findViewById(R.id.direction);\n    shield = (ImageView) findViewById(R.id.shield);\n    tvHeading = (TextView) findViewById(R.id.tvHeading);\n    setLocationBtn = (Button) findViewById(R.id.button);\n    myDialog = new Dialog(this);\n    LocationManager lm = (LocationManager) getSystemService(Context.LOCATION_SERVICE);\n    if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\n        // TODO: Consider calling\n        //    ActivityCompat#requestPermissions\n        // here to request the missing permissions, and then overriding\n        //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\n        //                                          int[] grantResults)\n        // to handle the case where the user grants the permission. See the documentation\n        // for ActivityCompat#requestPermissions for more details.\n        return;\n    }\n    Location location = lm.getLastKnownLocation(LocationManager.GPS_PROVIDER);\n    double longitude = location.getLongitude();\n    double latitude = location.getLatitude();\n\n    mSensorManager = (SensorManager) getSystemService(SENSOR_SERVICE);\n    mSensorManager.getDefaultSensor(Sensor.TYPE_ORIENTATION);\n    \n\n    //location.setLatitude(54.903535);\n    //location.setLongitude(23.979342);\n\n    target.setLatitude(54.904618);\n    target.setLongitude(23.978782);\n\n    SensorEventListener sensorEventListenerAccelrometer = new SensorEventListener() {\n        @Override\n        public void onSensorChanged(SensorEvent event) {\n            floatGravity = event.values;\n\n            SensorManager.getRotationMatrix(floatRotationMatrix, null, floatGravity, floatGeoMagnetic);\n            SensorManager.getOrientation(floatRotationMatrix, floatOrientation);\n            mAccelerometer = mSensorManager.getDefaultSensor(Sensor.TYPE_ACCELEROMETER);\n            shield.setRotation((float) (-floatOrientation[0] * 180 / 3.14159));\n        }\n\n        @Override\n        public void onAccuracyChanged(Sensor sensor, int accuracy) {\n        }\n    };\n}\n\n\n@Override\nprotected void onResume() {\n    super.onResume();\n\n    mSensorManager.registerListener(this, mAccelerometer, SensorManager.SENSOR_DELAY_NORMAL);\n}\n\n@Override\nprotected void onPause() {\n    super.onPause();\n   //mSensorManager.unregisterListener(this); // to stop the listener and save battery\n}\n\n\n//@Override\npublic void onSensorChanged(SensorEvent event) {\n    // get the angle around the z-axis rotated\n    float degree = Math.round(event.values[0]);\n    degree += geoField.getDeclination();\n\n    float bearing = location.bearingTo(target);\n    degree = (bearing - degree) * -1;\n    degree = normalizeDegree(degree);\n\n    tvHeading.setText(&quot;Heading: &quot; + Float.toString(degree) + &quot; degrees&quot;);\n\n    // create a rotation animation (reverse turn degree degrees)\n    RotateAnimation ra = new RotateAnimation(\n            currentDegree,\n            -degree,\n            Animation.RELATIVE_TO_SELF, 0.5f,\n            Animation.RELATIVE_TO_SELF,\n            0.5f);\n\n    // how long the animation will take place\n    ra.setDuration(210);\n\n    // set the animation after the end of the reservation status\n    ra.setFillAfter(true);\n\n    // Start the animation\n    image.startAnimation(ra);\n    currentDegree = -degree;\n}\n\nprivate float normalizeDegree(float value) {\n    if (value &gt;= 0.0f &amp;&amp; value &lt;= 180.0f) {\n        return value;\n    } else {\n        return 180 + (180 + value);\n    }\n}\n\n\npublic void onSensorChanged2(SensorEvent event) {\n\n    // get the angle around the z-axis rotated\n    float degree = Math.round(event.values[0]);\n\n    tvHeading.setText(&quot;Heading: &quot; + Float.toString(degree) + &quot; degrees&quot;);\n\n    // create a rotation animation (reverse turn degree degrees)\n    RotateAnimation ra = new RotateAnimation(\n            currentDegree,\n            -degree,\n            Animation.RELATIVE_TO_SELF, 0.5f,\n            Animation.RELATIVE_TO_SELF,\n            0.5f);\n\n    // how long the animation will take place\n    ra.setDuration(210);\n\n    // set the animation after the end of the reservation status\n    ra.setFillAfter(true);\n\n    // Start the animation\n    shield.startAnimation(ra);\n    currentDegree = -degree;\n\n}\n\n\npublic void onAccuracyChanged(Sensor sensor, int accuracy) {\n    // not in use\n}\n\n\npublic void ShowPopup(View v) {\n    myDialog.setContentView(R.layout.popup);\n    TextView txtclose;\n    Button setBtn;\n\n    txtclose =(TextView) myDialog.findViewById(R.id.exitBtn);\n    setBtn =(Button) myDialog.findViewById(R.id.setBtn);\n    txtclose.setText(&quot;X&quot;);\n    latitudeInput =(EditText) myDialog.findViewById(R.id.latitudeInput);\n    longitudeInput =(EditText) myDialog.findViewById(R.id.longitudeInput);\n    txtclose.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            myDialog.dismiss();\n        }\n    });\n    setBtn.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            if(latitudeInput == null || longitudeInput == null){\n                Toast.makeText(MainActivity.this, &quot;You did not enter a coordinates&quot;, Toast.LENGTH_SHORT).show();\n                return;\n            }\n            else {\n                target.setLatitude(Double.parseDouble(latitudeInput.getText().toString()));\n                target.setLongitude(Double.parseDouble(longitudeInput.getText().toString()));\n                myDialog.dismiss();\n            }\n        }\n    });\n    myDialog.getWindow().setBackgroundDrawable(new ColorDrawable(Color.TRANSPARENT));\n    myDialog.show();\n}\n</code></pre>\n<p>My app should show the direction to a destination like a compass. The user will give a latitude and longitude.\nOr maybe you have different ideas about how to make a compass to location</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":17033457,"reputation":31,"user_id":12323075,"display_name":"alcan"},"score":0,"creation_date":1675783899,"post_id":75375550,"comment_id":133000832,"body_markdown":"Does this answer your question? [JAVA Swing onclick opens a new window/JFrame](https://stackoverflow.com/questions/15678829/java-swing-onclick-opens-a-new-window-jframe)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/15678829/java-swing-onclick-opens-a-new-window-jframe\">JAVA Swing onclick opens a new window/JFrame</a>"},{"owner":{"account_id":26638296,"reputation":19,"user_id":20254379,"display_name":"Stract "},"score":0,"creation_date":1675784258,"post_id":75375550,"comment_id":133000964,"body_markdown":"unfortunately it doesn&#39;t","body":"unfortunately it doesn&#39;t"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":3,"creation_date":1675790071,"post_id":75375550,"comment_id":133002957,"body_markdown":"1) Swing was designed to be used with layout managers. Don&#39;t use a null layout and don&#39;t use setBounds().  2) Class names SHOULD start with an upper case character. Learn and follow Java naming conventions. 3) An application should only have a single JFrame. A child window should be a JDialog 4) The real problem is that  your classes should NOT extend JFrame. You have two frames. The class itself and the JFrame created in the constructor. You are making the wrong frame visible.","body":"1) Swing was designed to be used with layout managers. Don&#39;t use a null layout and don&#39;t use setBounds().  2) Class names SHOULD start with an upper case character. Learn and follow Java naming conventions. 3) An application should only have a single JFrame. A child window should be a JDialog 4) The real problem is that  your classes should NOT extend JFrame. You have two frames. The class itself and the JFrame created in the constructor. You are making the wrong frame visible."},{"owner":{"account_id":26638296,"reputation":19,"user_id":20254379,"display_name":"Stract "},"score":0,"creation_date":1675864082,"post_id":75375550,"comment_id":133019151,"body_markdown":"so instead of creating a new JRame I should create a new Jdialog ?","body":"so instead of creating a new JRame I should create a new Jdialog ?"}],"answers":[{"comments":[{"owner":{"account_id":26638296,"reputation":19,"user_id":20254379,"display_name":"Stract "},"score":0,"creation_date":1675786265,"post_id":75375765,"comment_id":133001740,"body_markdown":"I&#39;m actually oin eclipse and I&#39;ve already added a actionperformed on the button and I&#39;ve done everything well but idk why it doesn&#39;t wwork","body":"I&#39;m actually oin eclipse and I&#39;ve already added a actionperformed on the button and I&#39;ve done everything well but idk why it doesn&#39;t wwork"}],"tags":[],"owner":{"account_id":14958774,"reputation":131,"user_id":10799133,"display_name":"Saman Kc"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1675784720,"creation_date":1675784720,"answer_id":75375765,"question_id":75375550,"body_markdown":"if you are using netbeans, create a button, then generate actionperformed on that button, then you can follow the following \r\n\r\n    private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {                                         \r\n             manga mangaWindow = new manga();\r\n             mangaWindow.setVisible(true);\r\n        } \r\n\r\n    ","title":"How to open a specified window when the user clicks on a button","body":"<p>if you are using netbeans, create a button, then generate actionperformed on that button, then you can follow the following</p>\n<pre><code>private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {                                         \n         manga mangaWindow = new manga();\n         mangaWindow.setVisible(true);\n    } \n</code></pre>\n"},{"comments":[{"owner":{"account_id":26638296,"reputation":19,"user_id":20254379,"display_name":"Stract "},"score":0,"creation_date":1675786060,"post_id":75375786,"comment_id":133001660,"body_markdown":"I didnt know having two different main method is bad thanks","body":"I didnt know having two different main method is bad thanks"},{"owner":{"account_id":26638296,"reputation":19,"user_id":20254379,"display_name":"Stract "},"score":0,"creation_date":1675786195,"post_id":75375786,"comment_id":133001708,"body_markdown":"no I didn&#39;t try it","body":"no I didn&#39;t try it"}],"tags":[],"owner":{"account_id":17033457,"reputation":31,"user_id":12323075,"display_name":"alcan"},"comment_count":2,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1675785310,"creation_date":1675784782,"answer_id":75375786,"question_id":75375550,"body_markdown":"Did you try adding mangaWindow.[setSize][1] before setVisible?\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/awt/Window.html#setSize(java.awt.Dimension)\r\n\r\nEdit: also you shouldn&#39;t have two different main methods in your application (technically there is nothing bad on it but it can be confusing because only one of them will be used when launching the application) ","title":"How to open a specified window when the user clicks on a button","body":"<p>Did you try adding mangaWindow.<a href=\"https://docs.oracle.com/javase/7/docs/api/java/awt/Window.html#setSize(java.awt.Dimension)\" rel=\"nofollow noreferrer\">setSize</a> before setVisible?</p>\n<p>Edit: also you shouldn't have two different main methods in your application (technically there is nothing bad on it but it can be confusing because only one of them will be used when launching the application)</p>\n"},{"comments":[{"owner":{"account_id":26638296,"reputation":19,"user_id":20254379,"display_name":"Stract "},"score":0,"creation_date":1675866329,"post_id":75386749,"comment_id":133020008,"body_markdown":"so I should use &quot;extends JDialog&quot; instead of &quot;extends Jframe&quot;?","body":"so I should use &quot;extends JDialog&quot; instead of &quot;extends Jframe&quot;?"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1675866451,"post_id":75386749,"comment_id":133020062,"body_markdown":"No, you shouldn&#39;t extend anything because you&#39;re not using &quot;manga&quot; as a JFrame. You can declare `frmAcheterDesLivres` as a JDialog, but it isn&#39;t really relevant to your current problem. First fix the display part, then consider how you can change to use a JFrame and JDialog children.","body":"No, you shouldn&#39;t extend anything because you&#39;re not using &quot;manga&quot; as a JFrame. You can declare <code>frmAcheterDesLivres</code> as a JDialog, but it isn&#39;t really relevant to your current problem. First fix the display part, then consider how you can change to use a JFrame and JDialog children."}],"tags":[],"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675864154,"creation_date":1675864154,"answer_id":75386749,"question_id":75375550,"body_markdown":"In your main method in `manga` you show the window correctly. \r\n\r\n    `mangaWindow.frmAcheterDesLivres.setVisible(true);` \r\n\r\nIn your action listener you call `mangaWindow.setVisible(true);` but `mangaWindow` has no components added to it. You need to includ the reference to the JFrame.\r\n\r\n    btnManga.addActionListener(new ActionListener() {\r\n      public void actionPerformed(ActionEvent e) {\r\n        manga mangaWindow = new manga();\r\n        mangaWindow.frmAcheterDesLivres.setVisible(true);\r\n      }\r\n    });\r\n     \r\n\r\nYou should delete the `extends JFrame` to avoid this confusion. You should also use JDialog extra windows. ","title":"How to open a specified window when the user clicks on a button","body":"<p>In your main method in <code>manga</code> you show the window correctly.</p>\n<pre><code>`mangaWindow.frmAcheterDesLivres.setVisible(true);` \n</code></pre>\n<p>In your action listener you call <code>mangaWindow.setVisible(true);</code> but <code>mangaWindow</code> has no components added to it. You need to includ the reference to the JFrame.</p>\n<pre><code>btnManga.addActionListener(new ActionListener() {\n  public void actionPerformed(ActionEvent e) {\n    manga mangaWindow = new manga();\n    mangaWindow.frmAcheterDesLivres.setVisible(true);\n  }\n});\n \n</code></pre>\n<p>You should delete the <code>extends JFrame</code> to avoid this confusion. You should also use JDialog extra windows.</p>\n"}],"owner":{"account_id":26638296,"reputation":19,"user_id":20254379,"display_name":"Stract "},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":3,"score":1,"last_activity_date":1675864154,"creation_date":1675783770,"question_id":75375550,"body_markdown":"I&#39;m new to Java and I&#39;d like to event that open a window that I made with windowbuilder when the user click on the button called btnManga, there is the code in the principal.manga(themain window)\r\n\r\n```\r\npackage biblio;\r\n\r\nimport java.awt.*;\r\n\r\nimport javax.swing.*;\r\nimport java.awt.event.ActionListener;\r\nimport java.awt.event.ActionEvent;\r\n\r\npublic class principal extends JFrame{\r\n\r\n\tprivate JFrame frmAcceuil;\r\n\r\n\t/**\r\n\t * Launch the application.\r\n\t */\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tEventQueue.invokeLater(new Runnable() {\r\n\t\t\tpublic void run() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tUIManager.setLookAndFeel(&quot;javax.swing.plaf.nimbus.NimbusLookAndFeel&quot;);\r\n\t\t\t\t\t\r\n\t\t\t\t\tprincipal window = new principal();\r\n\t\t\t\t\twindow.frmAcceuil.setVisible(true);\r\n\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * Create the application.\r\n\t */\r\n\t\r\n\tpublic principal() {\r\n\t\tinitialize();\r\n\t}\r\n\r\n\t/**\r\n\t * Initialize the contents of the frame.\r\n\t */\r\n\tprivate void initialize() {\r\n\t\tfrmAcceuil = new JFrame();\r\n\t\tfrmAcceuil.setBackground(new Color(40, 168, 253));\r\n\t\tfrmAcceuil.setTitle(&quot;Acceuil&quot;);\r\n\t\tfrmAcceuil.setResizable(false);\r\n\t\tfrmAcceuil.getContentPane().setBackground(new Color(66, 66, 66));\r\n\t\tfrmAcceuil.setBounds(100, 100, 518, 571);\r\n\t\tfrmAcceuil.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tfrmAcceuil.getContentPane().setLayout(null);\r\n\t\t\r\n\t\tJLabel lblNewLabel = new JLabel(&quot;BIBLIOTHEQUES&quot;);\r\n\t\tlblNewLabel.setForeground(new Color(40, 168, 253));\r\n\t\tlblNewLabel.setBackground(new Color(255, 255, 255));\r\n\t\tlblNewLabel.setFont(new Font(&quot;Yu Gothic UI Semibold&quot;, Font.PLAIN, 30));\r\n\t\tlblNewLabel.setBounds(134, 24, 226, 73);\r\n\t\tfrmAcceuil.getContentPane().add(lblNewLabel);\r\n\t\t\r\n\t\tJLabel lblNewLabel_1 = new JLabel(&quot;Que voulez- vous acheter ?&quot;);\r\n\t\tlblNewLabel_1.setFont(new Font(&quot;Yu Gothic UI Semibold&quot;, Font.PLAIN, 14));\r\n\t\tlblNewLabel_1.setHorizontalAlignment(SwingConstants.CENTER);\r\n\t\tlblNewLabel_1.setForeground(new Color(38, 217, 255));\r\n\t\tlblNewLabel_1.setBounds(134, 84, 239, 28);\r\n\t\tfrmAcceuil.getContentPane().add(lblNewLabel_1);\r\n\t\t\r\n\t\tJLabel lblNewLabel_1_1 = new JLabel(&quot;OU&quot;);\r\n\t\tlblNewLabel_1_1.setHorizontalAlignment(SwingConstants.CENTER);\r\n\t\tlblNewLabel_1_1.setForeground(new Color(38, 217, 255));\r\n\t\tlblNewLabel_1_1.setFont(new Font(&quot;Yu Gothic UI Semibold&quot;, Font.PLAIN, 14));\r\n\t\tlblNewLabel_1_1.setBounds(134, 328, 239, 28);\r\n\t\tfrmAcceuil.getContentPane().add(lblNewLabel_1_1);\r\n\t\t\r\n\t\tJButton btnManga = new JButton(&quot;MANGA&quot;);\r\n\t\tbtnManga.addActionListener(new ActionListener() {\r\n\t\t\t  public void actionPerformed(ActionEvent e) {\r\n\t\t\t    manga mangaWindow = new manga();\r\n\t\t\t    mangaWindow.setVisible(true);\r\n\t\t\t  }\r\n\t\t\t});\r\n\r\n\t\tbtnManga.setFont(new Font(&quot;Yu Gothic UI Semibold&quot;, Font.BOLD, 20));\r\n\t\tbtnManga.setIcon(null);\r\n\t\tbtnManga.setForeground(new Color(66, 66, 66));\r\n\t\tbtnManga.setBackground(new Color(40, 168, 253));\r\n\t\tbtnManga.setBounds(122, 391, 261, 58);\r\n\t\tfrmAcceuil.getContentPane().add(btnManga);\r\n\t\t\r\n\t\tJButton btnRoman = new JButton(&quot;ROMAN&quot;);\r\n\t\tbtnRoman.setForeground(new Color(66, 66, 66));\r\n\t\tbtnRoman.setFont(new Font(&quot;Yu Gothic UI Semibold&quot;, Font.BOLD, 20));\r\n\t\tbtnRoman.setBackground(new Color(40, 168, 253));\r\n\t\tbtnRoman.setBounds(122, 234, 261, 58);\r\n\t\tfrmAcceuil.getContentPane().add(btnRoman);\r\n\t}\r\n}\r\n```\r\n\r\nHere the code in the manga.java that I&#39;d like to display when the button btnManga is clicked\r\n\r\n```\r\npackage biblio;\r\n\r\nimport java.awt.*;\r\n\r\nimport javax.swing.*;\r\n\r\npublic class manga extends JFrame {\r\n\r\n\tprivate JFrame frmAcheterDesLivres;\r\n\tprivate JTable mangatable;\r\n\r\n\t/**\r\n\t * Launch the application.\r\n\t */\r\n\tpublic static void main(String[] args) {\r\n\t\tEventQueue.invokeLater(new Runnable() {\r\n\t\t\tpublic void run() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tmanga mangaWindow = new manga();\r\n\t\t\t\t\tmangaWindow.frmAcheterDesLivres.setVisible(true);\r\n\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * Create the application.\r\n\t */\r\n\tpublic manga() {\r\n\t\tinitialize();\r\n\t}\r\n\r\n\t/**\r\n\t * Initialize the contents of the frame.\r\n\t */\r\n\tprivate void initialize() {\r\n\t\tfrmAcheterDesLivres = new JFrame();\r\n\t\tfrmAcheterDesLivres.setTitle(&quot;Acheter des Livres&quot;);\r\n\t\tfrmAcheterDesLivres.setResizable(false);\r\n\t\tfrmAcheterDesLivres.getContentPane().setFont(new Font(&quot;Yu Gothic Medium&quot;, Font.BOLD, 15));\r\n\t\tfrmAcheterDesLivres.getContentPane().setBackground(new Color(66, 66, 66));;\r\n\t\tfrmAcheterDesLivres.setBounds(100, 100, 758, 601);\r\n\t\tfrmAcheterDesLivres.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tfrmAcheterDesLivres.getContentPane().setLayout(null);\r\n\t\t\r\n\t\tJButton btnNewButton_1_1 = new JButton(&quot;&quot;);\r\n\t\tbtnNewButton_1_1.setIcon(new ImageIcon(manga.class.getResource(&quot;/resources/mangas/blackClover.jpg&quot;)));\r\n\t\tbtnNewButton_1_1.setBounds(31, 46, 125, 125);\r\n\t\tfrmAcheterDesLivres.getContentPane().add(btnNewButton_1_1);\r\n\t\t\r\n\t\tJButton btnNewButton_1 = new JButton(&quot;&quot;);\r\n\t\tbtnNewButton_1.setIcon(new ImageIcon(manga.class.getResource(&quot;/resources/mangas/chainsawMan.png&quot;)));\r\n\t\tbtnNewButton_1.setBounds(225, 46, 125, 125);\r\n\t\tfrmAcheterDesLivres.getContentPane().add(btnNewButton_1);\r\n\t\t\r\n\t\tJButton btnNewButton_1_2 = new JButton(&quot;&quot;);\r\n\t\tbtnNewButton_1_2.setIcon(new ImageIcon(manga.class.getResource(&quot;/resources/mangas/BokuNoHeroAcademia.jpg&quot;)));\r\n\t\tbtnNewButton_1_2.setBounds(414, 46, 125, 125);\r\n\t\tfrmAcheterDesLivres.getContentPane().add(btnNewButton_1_2);\r\n\t\t\r\n\t\tJButton btnNewButton_1_3 = new JButton(&quot;&quot;);\r\n\t\tbtnNewButton_1_3.setIcon(new ImageIcon(manga.class.getResource(&quot;/resources/mangas/jujutsuKaisen.jpg&quot;)));\r\n\t\tbtnNewButton_1_3.setBounds(590, 46, 125, 125);\r\n\t\tfrmAcheterDesLivres.getContentPane().add(btnNewButton_1_3);\r\n\t\t\r\n\t\tJLabel lblNewLabel = new JLabel(&quot;Black Clover&quot;);\r\n\t\tlblNewLabel.setLabelFor(btnNewButton_1_1);\r\n\t\tlblNewLabel.setForeground(new Color(40, 168, 253));\r\n\t\tlblNewLabel.setVerticalAlignment(SwingConstants.TOP);\r\n\t\tlblNewLabel.setHorizontalAlignment(SwingConstants.CENTER);\r\n\t\tlblNewLabel.setFont(new Font(&quot;Yu Gothic Medium&quot;, Font.ITALIC, 14));\r\n\t\tlblNewLabel.setBounds(31, 185, 125, 34);\r\n\t\tfrmAcheterDesLivres.getContentPane().add(lblNewLabel);\r\n\t\t\r\n\t\tJLabel lblMga = new JLabel(&quot;40 000 MGA&quot;);\r\n\t\tlblMga.setLabelFor(btnNewButton_1_1);\r\n\t\tlblMga.setForeground(new Color(40, 168, 253));\r\n\t\tlblMga.setVerticalAlignment(SwingConstants.TOP);\r\n\t\tlblMga.setHorizontalAlignment(SwingConstants.CENTER);\r\n\t\tlblMga.setFont(new Font(&quot;Yu Gothic Medium&quot;, Font.ITALIC, 14));\r\n\t\tlblMga.setBounds(31, 210, 125, 34);\r\n\t\tfrmAcheterDesLivres.getContentPane().add(lblMga);\r\n\t\t\r\n\t\tJLabel lblChainsawMan = new JLabel(&quot;Chainsaw Man&quot;);\r\n\t\tlblChainsawMan.setLabelFor(btnNewButton_1);\r\n\t\tlblChainsawMan.setForeground(new Color(40, 168, 253));\r\n\t\tlblChainsawMan.setVerticalAlignment(SwingConstants.TOP);\r\n\t\tlblChainsawMan.setHorizontalAlignment(SwingConstants.CENTER);\r\n\t\tlblChainsawMan.setFont(new Font(&quot;Yu Gothic Medium&quot;, Font.ITALIC, 14));\r\n\t\tlblChainsawMan.setBounds(235, 181, 125, 34);\r\n\t\tfrmAcheterDesLivres.getContentPane().add(lblChainsawMan);\r\n\t\t\r\n\t\tJLabel lblMga_1 = new JLabel(&quot;60 000 MGA&quot;);\r\n\t\tlblMga_1.setLabelFor(btnNewButton_1);\r\n\t\tlblMga_1.setForeground(new Color(40, 168, 253));\r\n\t\tlblMga_1.setVerticalAlignment(SwingConstants.TOP);\r\n\t\tlblMga_1.setHorizontalAlignment(SwingConstants.CENTER);\r\n\t\tlblMga_1.setFont(new Font(&quot;Yu Gothic Medium&quot;, Font.ITALIC, 14));\r\n\t\tlblMga_1.setBounds(225, 210, 125, 34);\r\n\t\tfrmAcheterDesLivres.getContentPane().add(lblMga_1);\r\n\t\t\r\n\t\tJLabel lblBokuNoHero = new JLabel(&quot;Boku no Hero Academia&quot;);\r\n\t\tlblBokuNoHero.setLabelFor(btnNewButton_1_2);\r\n\t\tlblBokuNoHero.setVerticalAlignment(SwingConstants.TOP);\r\n\t\tlblBokuNoHero.setHorizontalAlignment(SwingConstants.CENTER);\r\n\t\tlblBokuNoHero.setForeground(new Color(40, 168, 253));\r\n\t\tlblBokuNoHero.setFont(new Font(&quot;Yu Gothic Medium&quot;, Font.ITALIC, 14));\r\n\t\tlblBokuNoHero.setBounds(414, 181, 125, 34);\r\n\t\tfrmAcheterDesLivres.getContentPane().add(lblBokuNoHero);\r\n\t\t\r\n\t\tJLabel lblMga_1_1 = new JLabel(&quot;35 000 MGA&quot;);\r\n\t\tlblMga_1_1.setLabelFor(btnNewButton_1_2);\r\n\t\tlblMga_1_1.setVerticalAlignment(SwingConstants.TOP);\r\n\t\tlblMga_1_1.setHorizontalAlignment(SwingConstants.CENTER);\r\n\t\tlblMga_1_1.setForeground(new Color(40, 168, 253));\r\n\t\tlblMga_1_1.setFont(new Font(&quot;Yu Gothic Medium&quot;, Font.ITALIC, 14));\r\n\t\tlblMga_1_1.setBounds(414, 213, 125, 34);\r\n\t\tfrmAcheterDesLivres.getContentPane().add(lblMga_1_1);\r\n\t\t\r\n\t\tJLabel lblJujutsuKaisen = new JLabel(&quot;Jujutsu Kaisen&quot;);\r\n\t\tlblJujutsuKaisen.setLabelFor(btnNewButton_1_3);\r\n\t\tlblJujutsuKaisen.setVerticalAlignment(SwingConstants.TOP);\r\n\t\tlblJujutsuKaisen.setHorizontalAlignment(SwingConstants.CENTER);\r\n\t\tlblJujutsuKaisen.setForeground(new Color(40, 168, 253));\r\n\t\tlblJujutsuKaisen.setFont(new Font(&quot;Yu Gothic Medium&quot;, Font.ITALIC, 14));\r\n\t\tlblJujutsuKaisen.setBounds(590, 181, 125, 34);\r\n\t\tfrmAcheterDesLivres.getContentPane().add(lblJujutsuKaisen);\r\n\t\t\r\n\t\tJLabel lblMga_1_1_1 = new JLabel(&quot;23 000 MGA&quot;);\r\n\t\tlblMga_1_1_1.setLabelFor(btnNewButton_1_3);\r\n\t\tlblMga_1_1_1.setVerticalAlignment(SwingConstants.TOP);\r\n\t\tlblMga_1_1_1.setHorizontalAlignment(SwingConstants.CENTER);\r\n\t\tlblMga_1_1_1.setForeground(new Color(40, 168, 253));\r\n\t\tlblMga_1_1_1.setFont(new Font(&quot;Yu Gothic Medium&quot;, Font.ITALIC, 14));\r\n\t\tlblMga_1_1_1.setBounds(590, 213, 125, 34);\r\n\t\tfrmAcheterDesLivres.getContentPane().add(lblMga_1_1_1);\r\n\t\t\r\n\t\tJLabel lblNewLabel_1 = new JLabel(&quot;Votre Panier de Mangas:&quot;);\r\n\t\tlblNewLabel_1.setFont(new Font(&quot;Yu Gothic UI Semibold&quot;, Font.PLAIN, 20));\r\n\t\tlblNewLabel_1.setForeground(new Color(38, 217, 255));\r\n\t\tlblNewLabel_1.setBounds(257, 291, 282, 34);\r\n\t\tfrmAcheterDesLivres.getContentPane().add(lblNewLabel_1);\r\n\t\t\r\n\t\tJScrollPane scrollPane = new JScrollPane();\r\n\t\tscrollPane.setBounds(61, 335, 641, 158);\r\n\t\tfrmAcheterDesLivres.getContentPane().add(scrollPane);\r\n\t\t\r\n\t\tmangatable = new JTable();\r\n\t\tscrollPane.setViewportView(mangatable);\r\n\t\tmangatable.setBackground(new Color(49, 49, 49));\r\n\t\tmangatable.setForeground(new Color(38, 217, 255));\r\n\t}\r\n}\r\n```\r\n\r\nI&#39;ve tried to do it myself\r\n\r\n```\r\nbtnManga.addActionListener(new ActionListener() {\r\n\t  public void actionPerformed(ActionEvent e) {\r\n\t    manga mangaWindow = new manga();\r\n\t    mangaWindow.setVisible(true);\r\n\t  }\r\n\t});\r\n```\r\nHowever, this displays an empty window when I click on it.","title":"How to open a specified window when the user clicks on a button","body":"<p>I'm new to Java and I'd like to event that open a window that I made with windowbuilder when the user click on the button called btnManga, there is the code in the principal.manga(themain window)</p>\n<pre><code>package biblio;\n\nimport java.awt.*;\n\nimport javax.swing.*;\nimport java.awt.event.ActionListener;\nimport java.awt.event.ActionEvent;\n\npublic class principal extends JFrame{\n\n    private JFrame frmAcceuil;\n\n    /**\n     * Launch the application.\n     */\n    \n    public static void main(String[] args) {\n        EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                try {\n                    UIManager.setLookAndFeel(&quot;javax.swing.plaf.nimbus.NimbusLookAndFeel&quot;);\n                    \n                    principal window = new principal();\n                    window.frmAcceuil.setVisible(true);\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n            }\n        });\n    }\n\n    /**\n     * Create the application.\n     */\n    \n    public principal() {\n        initialize();\n    }\n\n    /**\n     * Initialize the contents of the frame.\n     */\n    private void initialize() {\n        frmAcceuil = new JFrame();\n        frmAcceuil.setBackground(new Color(40, 168, 253));\n        frmAcceuil.setTitle(&quot;Acceuil&quot;);\n        frmAcceuil.setResizable(false);\n        frmAcceuil.getContentPane().setBackground(new Color(66, 66, 66));\n        frmAcceuil.setBounds(100, 100, 518, 571);\n        frmAcceuil.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frmAcceuil.getContentPane().setLayout(null);\n        \n        JLabel lblNewLabel = new JLabel(&quot;BIBLIOTHEQUES&quot;);\n        lblNewLabel.setForeground(new Color(40, 168, 253));\n        lblNewLabel.setBackground(new Color(255, 255, 255));\n        lblNewLabel.setFont(new Font(&quot;Yu Gothic UI Semibold&quot;, Font.PLAIN, 30));\n        lblNewLabel.setBounds(134, 24, 226, 73);\n        frmAcceuil.getContentPane().add(lblNewLabel);\n        \n        JLabel lblNewLabel_1 = new JLabel(&quot;Que voulez- vous acheter ?&quot;);\n        lblNewLabel_1.setFont(new Font(&quot;Yu Gothic UI Semibold&quot;, Font.PLAIN, 14));\n        lblNewLabel_1.setHorizontalAlignment(SwingConstants.CENTER);\n        lblNewLabel_1.setForeground(new Color(38, 217, 255));\n        lblNewLabel_1.setBounds(134, 84, 239, 28);\n        frmAcceuil.getContentPane().add(lblNewLabel_1);\n        \n        JLabel lblNewLabel_1_1 = new JLabel(&quot;OU&quot;);\n        lblNewLabel_1_1.setHorizontalAlignment(SwingConstants.CENTER);\n        lblNewLabel_1_1.setForeground(new Color(38, 217, 255));\n        lblNewLabel_1_1.setFont(new Font(&quot;Yu Gothic UI Semibold&quot;, Font.PLAIN, 14));\n        lblNewLabel_1_1.setBounds(134, 328, 239, 28);\n        frmAcceuil.getContentPane().add(lblNewLabel_1_1);\n        \n        JButton btnManga = new JButton(&quot;MANGA&quot;);\n        btnManga.addActionListener(new ActionListener() {\n              public void actionPerformed(ActionEvent e) {\n                manga mangaWindow = new manga();\n                mangaWindow.setVisible(true);\n              }\n            });\n\n        btnManga.setFont(new Font(&quot;Yu Gothic UI Semibold&quot;, Font.BOLD, 20));\n        btnManga.setIcon(null);\n        btnManga.setForeground(new Color(66, 66, 66));\n        btnManga.setBackground(new Color(40, 168, 253));\n        btnManga.setBounds(122, 391, 261, 58);\n        frmAcceuil.getContentPane().add(btnManga);\n        \n        JButton btnRoman = new JButton(&quot;ROMAN&quot;);\n        btnRoman.setForeground(new Color(66, 66, 66));\n        btnRoman.setFont(new Font(&quot;Yu Gothic UI Semibold&quot;, Font.BOLD, 20));\n        btnRoman.setBackground(new Color(40, 168, 253));\n        btnRoman.setBounds(122, 234, 261, 58);\n        frmAcceuil.getContentPane().add(btnRoman);\n    }\n}\n</code></pre>\n<p>Here the code in the manga.java that I'd like to display when the button btnManga is clicked</p>\n<pre><code>package biblio;\n\nimport java.awt.*;\n\nimport javax.swing.*;\n\npublic class manga extends JFrame {\n\n    private JFrame frmAcheterDesLivres;\n    private JTable mangatable;\n\n    /**\n     * Launch the application.\n     */\n    public static void main(String[] args) {\n        EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                try {\n                    manga mangaWindow = new manga();\n                    mangaWindow.frmAcheterDesLivres.setVisible(true);\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n            }\n        });\n    }\n\n    /**\n     * Create the application.\n     */\n    public manga() {\n        initialize();\n    }\n\n    /**\n     * Initialize the contents of the frame.\n     */\n    private void initialize() {\n        frmAcheterDesLivres = new JFrame();\n        frmAcheterDesLivres.setTitle(&quot;Acheter des Livres&quot;);\n        frmAcheterDesLivres.setResizable(false);\n        frmAcheterDesLivres.getContentPane().setFont(new Font(&quot;Yu Gothic Medium&quot;, Font.BOLD, 15));\n        frmAcheterDesLivres.getContentPane().setBackground(new Color(66, 66, 66));;\n        frmAcheterDesLivres.setBounds(100, 100, 758, 601);\n        frmAcheterDesLivres.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frmAcheterDesLivres.getContentPane().setLayout(null);\n        \n        JButton btnNewButton_1_1 = new JButton(&quot;&quot;);\n        btnNewButton_1_1.setIcon(new ImageIcon(manga.class.getResource(&quot;/resources/mangas/blackClover.jpg&quot;)));\n        btnNewButton_1_1.setBounds(31, 46, 125, 125);\n        frmAcheterDesLivres.getContentPane().add(btnNewButton_1_1);\n        \n        JButton btnNewButton_1 = new JButton(&quot;&quot;);\n        btnNewButton_1.setIcon(new ImageIcon(manga.class.getResource(&quot;/resources/mangas/chainsawMan.png&quot;)));\n        btnNewButton_1.setBounds(225, 46, 125, 125);\n        frmAcheterDesLivres.getContentPane().add(btnNewButton_1);\n        \n        JButton btnNewButton_1_2 = new JButton(&quot;&quot;);\n        btnNewButton_1_2.setIcon(new ImageIcon(manga.class.getResource(&quot;/resources/mangas/BokuNoHeroAcademia.jpg&quot;)));\n        btnNewButton_1_2.setBounds(414, 46, 125, 125);\n        frmAcheterDesLivres.getContentPane().add(btnNewButton_1_2);\n        \n        JButton btnNewButton_1_3 = new JButton(&quot;&quot;);\n        btnNewButton_1_3.setIcon(new ImageIcon(manga.class.getResource(&quot;/resources/mangas/jujutsuKaisen.jpg&quot;)));\n        btnNewButton_1_3.setBounds(590, 46, 125, 125);\n        frmAcheterDesLivres.getContentPane().add(btnNewButton_1_3);\n        \n        JLabel lblNewLabel = new JLabel(&quot;Black Clover&quot;);\n        lblNewLabel.setLabelFor(btnNewButton_1_1);\n        lblNewLabel.setForeground(new Color(40, 168, 253));\n        lblNewLabel.setVerticalAlignment(SwingConstants.TOP);\n        lblNewLabel.setHorizontalAlignment(SwingConstants.CENTER);\n        lblNewLabel.setFont(new Font(&quot;Yu Gothic Medium&quot;, Font.ITALIC, 14));\n        lblNewLabel.setBounds(31, 185, 125, 34);\n        frmAcheterDesLivres.getContentPane().add(lblNewLabel);\n        \n        JLabel lblMga = new JLabel(&quot;40 000 MGA&quot;);\n        lblMga.setLabelFor(btnNewButton_1_1);\n        lblMga.setForeground(new Color(40, 168, 253));\n        lblMga.setVerticalAlignment(SwingConstants.TOP);\n        lblMga.setHorizontalAlignment(SwingConstants.CENTER);\n        lblMga.setFont(new Font(&quot;Yu Gothic Medium&quot;, Font.ITALIC, 14));\n        lblMga.setBounds(31, 210, 125, 34);\n        frmAcheterDesLivres.getContentPane().add(lblMga);\n        \n        JLabel lblChainsawMan = new JLabel(&quot;Chainsaw Man&quot;);\n        lblChainsawMan.setLabelFor(btnNewButton_1);\n        lblChainsawMan.setForeground(new Color(40, 168, 253));\n        lblChainsawMan.setVerticalAlignment(SwingConstants.TOP);\n        lblChainsawMan.setHorizontalAlignment(SwingConstants.CENTER);\n        lblChainsawMan.setFont(new Font(&quot;Yu Gothic Medium&quot;, Font.ITALIC, 14));\n        lblChainsawMan.setBounds(235, 181, 125, 34);\n        frmAcheterDesLivres.getContentPane().add(lblChainsawMan);\n        \n        JLabel lblMga_1 = new JLabel(&quot;60 000 MGA&quot;);\n        lblMga_1.setLabelFor(btnNewButton_1);\n        lblMga_1.setForeground(new Color(40, 168, 253));\n        lblMga_1.setVerticalAlignment(SwingConstants.TOP);\n        lblMga_1.setHorizontalAlignment(SwingConstants.CENTER);\n        lblMga_1.setFont(new Font(&quot;Yu Gothic Medium&quot;, Font.ITALIC, 14));\n        lblMga_1.setBounds(225, 210, 125, 34);\n        frmAcheterDesLivres.getContentPane().add(lblMga_1);\n        \n        JLabel lblBokuNoHero = new JLabel(&quot;Boku no Hero Academia&quot;);\n        lblBokuNoHero.setLabelFor(btnNewButton_1_2);\n        lblBokuNoHero.setVerticalAlignment(SwingConstants.TOP);\n        lblBokuNoHero.setHorizontalAlignment(SwingConstants.CENTER);\n        lblBokuNoHero.setForeground(new Color(40, 168, 253));\n        lblBokuNoHero.setFont(new Font(&quot;Yu Gothic Medium&quot;, Font.ITALIC, 14));\n        lblBokuNoHero.setBounds(414, 181, 125, 34);\n        frmAcheterDesLivres.getContentPane().add(lblBokuNoHero);\n        \n        JLabel lblMga_1_1 = new JLabel(&quot;35 000 MGA&quot;);\n        lblMga_1_1.setLabelFor(btnNewButton_1_2);\n        lblMga_1_1.setVerticalAlignment(SwingConstants.TOP);\n        lblMga_1_1.setHorizontalAlignment(SwingConstants.CENTER);\n        lblMga_1_1.setForeground(new Color(40, 168, 253));\n        lblMga_1_1.setFont(new Font(&quot;Yu Gothic Medium&quot;, Font.ITALIC, 14));\n        lblMga_1_1.setBounds(414, 213, 125, 34);\n        frmAcheterDesLivres.getContentPane().add(lblMga_1_1);\n        \n        JLabel lblJujutsuKaisen = new JLabel(&quot;Jujutsu Kaisen&quot;);\n        lblJujutsuKaisen.setLabelFor(btnNewButton_1_3);\n        lblJujutsuKaisen.setVerticalAlignment(SwingConstants.TOP);\n        lblJujutsuKaisen.setHorizontalAlignment(SwingConstants.CENTER);\n        lblJujutsuKaisen.setForeground(new Color(40, 168, 253));\n        lblJujutsuKaisen.setFont(new Font(&quot;Yu Gothic Medium&quot;, Font.ITALIC, 14));\n        lblJujutsuKaisen.setBounds(590, 181, 125, 34);\n        frmAcheterDesLivres.getContentPane().add(lblJujutsuKaisen);\n        \n        JLabel lblMga_1_1_1 = new JLabel(&quot;23 000 MGA&quot;);\n        lblMga_1_1_1.setLabelFor(btnNewButton_1_3);\n        lblMga_1_1_1.setVerticalAlignment(SwingConstants.TOP);\n        lblMga_1_1_1.setHorizontalAlignment(SwingConstants.CENTER);\n        lblMga_1_1_1.setForeground(new Color(40, 168, 253));\n        lblMga_1_1_1.setFont(new Font(&quot;Yu Gothic Medium&quot;, Font.ITALIC, 14));\n        lblMga_1_1_1.setBounds(590, 213, 125, 34);\n        frmAcheterDesLivres.getContentPane().add(lblMga_1_1_1);\n        \n        JLabel lblNewLabel_1 = new JLabel(&quot;Votre Panier de Mangas:&quot;);\n        lblNewLabel_1.setFont(new Font(&quot;Yu Gothic UI Semibold&quot;, Font.PLAIN, 20));\n        lblNewLabel_1.setForeground(new Color(38, 217, 255));\n        lblNewLabel_1.setBounds(257, 291, 282, 34);\n        frmAcheterDesLivres.getContentPane().add(lblNewLabel_1);\n        \n        JScrollPane scrollPane = new JScrollPane();\n        scrollPane.setBounds(61, 335, 641, 158);\n        frmAcheterDesLivres.getContentPane().add(scrollPane);\n        \n        mangatable = new JTable();\n        scrollPane.setViewportView(mangatable);\n        mangatable.setBackground(new Color(49, 49, 49));\n        mangatable.setForeground(new Color(38, 217, 255));\n    }\n}\n</code></pre>\n<p>I've tried to do it myself</p>\n<pre><code>btnManga.addActionListener(new ActionListener() {\n      public void actionPerformed(ActionEvent e) {\n        manga mangaWindow = new manga();\n        mangaWindow.setVisible(true);\n      }\n    });\n</code></pre>\n<p>However, this displays an empty window when I click on it.</p>\n"},{"tags":["java","eclipse","ssl","docker","jetty"],"comments":[{"owner":{"account_id":488477,"reputation":34119,"user_id":1094246,"display_name":"Robert"},"score":0,"creation_date":1497887828,"post_id":44594713,"comment_id":76255753,"body_markdown":"Can you specify the error that shows your web browser or `curl`? Also, please do this in order to see what happens in container network: `docker exec &lt;conatiner-id&gt; ss -ltn`","body":"Can you specify the error that shows your web browser or <code>curl</code>? Also, please do this in order to see what happens in container network: <code>docker exec &lt;conatiner-id&gt; ss -ltn</code>"}],"answers":[{"tags":[],"owner":{"account_id":3183268,"reputation":2711,"user_id":2689541,"display_name":"haradwaith"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1497876954,"creation_date":1497876954,"answer_id":44631210,"question_id":44594713,"body_markdown":"Even if the [jetty main page on Docker Hub](https://hub.docker.com/_/jetty/) shows that the container should be run with `docker run -d -p 80:8080 -p 443:8443 jetty`, it looks like the image is not configured for HTTPS by default.\r\n\r\nAs you suggest, there should be a `https.ini` file in `/var/lib/jetty/start.d`. You can generate one by running the command `java -jar &quot;$JETTY_HOME/start.jar&quot; --add-to-startd=https` in the container.\r\n\r\nPut this command in a Dockerfile:\r\n\r\n    FROM jetty\r\n    RUN java -jar &quot;$JETTY_HOME/start.jar&quot; --add-to-startd=https\r\n\r\n\r\nBuild the new image:\r\n\r\n    docker build -t my-server .\r\n\r\nAnd finally start your server:\r\n\r\n    docker run -d --name=jetty -p 80:8080 -p 443:8443 -v /home/deploy/backend/my-server/target/my-server-0.0.1-SNAPSHOT.war:/var/lib/jetty/webapps/root.war -v /home/deploy/backend/ssl:/etc/ssl/private my-server\r\n\r\nThis should allow you to connect to your server using HTTPS.\r\n\r\nYou can find more information on this on [this Github issue](https://github.com/appropriate/docker-jetty/issues/20).","title":"Docker - Run Jetty on HTTPS","body":"<p>Even if the <a href=\"https://hub.docker.com/_/jetty/\" rel=\"noreferrer\">jetty main page on Docker Hub</a> shows that the container should be run with <code>docker run -d -p 80:8080 -p 443:8443 jetty</code>, it looks like the image is not configured for HTTPS by default.</p>\n\n<p>As you suggest, there should be a <code>https.ini</code> file in <code>/var/lib/jetty/start.d</code>. You can generate one by running the command <code>java -jar \"$JETTY_HOME/start.jar\" --add-to-startd=https</code> in the container.</p>\n\n<p>Put this command in a Dockerfile:</p>\n\n<pre><code>FROM jetty\nRUN java -jar \"$JETTY_HOME/start.jar\" --add-to-startd=https\n</code></pre>\n\n<p>Build the new image:</p>\n\n<pre><code>docker build -t my-server .\n</code></pre>\n\n<p>And finally start your server:</p>\n\n<pre><code>docker run -d --name=jetty -p 80:8080 -p 443:8443 -v /home/deploy/backend/my-server/target/my-server-0.0.1-SNAPSHOT.war:/var/lib/jetty/webapps/root.war -v /home/deploy/backend/ssl:/etc/ssl/private my-server\n</code></pre>\n\n<p>This should allow you to connect to your server using HTTPS.</p>\n\n<p>You can find more information on this on <a href=\"https://github.com/appropriate/docker-jetty/issues/20\" rel=\"noreferrer\">this Github issue</a>.</p>\n"}],"owner":{"account_id":5243043,"reputation":7620,"user_id":4189582,"accept_rate":88,"display_name":"Ivar Reukers"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7121,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":44631210,"answer_count":1,"score":8,"last_activity_date":1675863941,"creation_date":1497633297,"question_id":44594713,"body_markdown":"I&#39;m trying to configure my Jetty with SSL. Now I&#39;m just stuck on why it doesn&#39;t connect on HTTPS. It works fine on HTTP though.\r\n\r\n\r\n\r\nFile: `${JETTY_HOME}/etc/jetty-https.xml`\r\n\r\n    &lt;?xml version=&quot;1.0&quot;?&gt;\r\n    &lt;!DOCTYPE Configure PUBLIC &quot;-//Jetty//Configure//EN&quot; &quot;http://www.eclipse.org/jetty/config\r\n    ure_9_3.dtd&quot;&gt;\r\n    \r\n    &lt;!-- ============================================================= --&gt;\r\n    &lt;!-- Configure a HTTPS connector.                                  --&gt;\r\n    &lt;!-- This configuration must be used in conjunction with jetty.xml --&gt;\r\n    &lt;!-- and jetty-ssl.xml.                                            --&gt;\r\n    &lt;!-- ============================================================= --&gt;\r\n    &lt;Configure id=&quot;sslConnector&quot; class=&quot;org.eclipse.jetty.server.ServerConnector&quot;&gt;\r\n    \r\n      &lt;Call name=&quot;addIfAbsentConnectionFactory&quot;&gt;\r\n        &lt;Arg&gt;\r\n          &lt;New class=&quot;org.eclipse.jetty.server.SslConnectionFactory&quot;&gt;\r\n            &lt;Arg name=&quot;next&quot;&gt;http/1.1&lt;/Arg&gt;\r\n            &lt;Arg name=&quot;sslContextFactory&quot;&gt;&lt;Ref refid=&quot;sslContextFactory&quot;/&gt;&lt;/Arg&gt;\r\n          &lt;/New&gt;\r\n        &lt;/Arg&gt;\r\n      &lt;/Call&gt;\r\n    \r\n      &lt;Call name=&quot;addConnectionFactory&quot;&gt;\r\n        &lt;Arg&gt;\r\n          &lt;New class=&quot;org.eclipse.jetty.server.HttpConnectionFactory&quot;&gt;\r\n            &lt;Arg name=&quot;config&quot;&gt;&lt;Ref refid=&quot;sslHttpConfig&quot; /&gt;&lt;/Arg&gt;\r\n            &lt;Arg name=&quot;compliance&quot;&gt;&lt;Call class=&quot;org.eclipse.jetty.http.HttpCompliance&quot; name=&quot;\r\n    valueOf&quot;&gt;&lt;Arg&gt;&lt;Property name=&quot;jetty.http.compliance&quot; default=&quot;RFC7230&quot;/&gt;&lt;/Arg&gt;&lt;/Call&gt;&lt;/Ar\r\n    g&gt;\r\n          &lt;/New&gt;\r\n        &lt;/Arg&gt;\r\n      &lt;/Call&gt;\r\n    \r\n    &lt;/Configure&gt;\r\n\r\nFile: `${JETTY_HOME}/etc/jetty-ssl.xml`\r\n\r\n    &lt;?xml version=&quot;1.0&quot;?&gt;\r\n    &lt;!DOCTYPE Configure PUBLIC &quot;-//Jetty//Configure//EN&quot; &quot;http://www.eclipse.org/jetty/configure_9_3.dtd&quot;&gt;\r\n    \r\n    &lt;!-- ============================================================= --&gt;\r\n    &lt;!-- Base SSL configuration                                        --&gt;\r\n    &lt;!-- This configuration needs to be used together with 1 or more   --&gt;\r\n    &lt;!-- of jetty-https.xml or jetty-http2.xml                         --&gt;\r\n    &lt;!-- ============================================================= --&gt;\r\n    &lt;Configure id=&quot;Server&quot; class=&quot;org.eclipse.jetty.server.Server&quot;&gt;\r\n    \r\n      &lt;!-- =========================================================== --&gt;\r\n      &lt;!-- Add a SSL Connector with no protocol factories              --&gt;\r\n      &lt;!-- =========================================================== --&gt;\r\n      &lt;Call  name=&quot;addConnector&quot;&gt;\r\n        &lt;Arg&gt;\r\n          &lt;New id=&quot;sslConnector&quot; class=&quot;org.eclipse.jetty.server.ServerConnector&quot;&gt;\r\n            &lt;Arg name=&quot;server&quot;&gt;&lt;Ref refid=&quot;Server&quot; /&gt;&lt;/Arg&gt;\r\n            &lt;Arg name=&quot;acceptors&quot; type=&quot;int&quot;&gt;&lt;Property name=&quot;jetty.ssl.acceptors&quot; deprecated=&quot;ssl.acceptors&quot; default=&quot;-1&quot;/&gt;&lt;/Arg&gt;\r\n            &lt;Arg name=&quot;selectors&quot; type=&quot;int&quot;&gt;&lt;Property name=&quot;jetty.ssl.selectors&quot; deprecated=&quot;ssl.selectors&quot; default=&quot;-1&quot;/&gt;&lt;/Arg&gt;\r\n            &lt;Arg name=&quot;factories&quot;&gt;\r\n              &lt;Array type=&quot;org.eclipse.jetty.server.ConnectionFactory&quot;&gt;\r\n                &lt;!-- uncomment to support proxy protocol\r\n                &lt;Item&gt;\r\n                  &lt;New class=&quot;org.eclipse.jetty.server.ProxyConnectionFactory&quot;/&gt;\r\n                &lt;/Item&gt;--&gt;\r\n              &lt;/Array&gt;\r\n            &lt;/Arg&gt;\r\n    \r\n            &lt;Set name=&quot;host&quot;&gt;&lt;Property name=&quot;jetty.ssl.host&quot; deprecated=&quot;jetty.host&quot; /&gt;&lt;/Set&gt;\r\n            &lt;Set name=&quot;port&quot;&gt;&lt;Property name=&quot;jetty.ssl.port&quot; deprecated=&quot;ssl.port&quot; default=&quot;8443&quot; /&gt;&lt;/Set&gt;\r\n            &lt;Set name=&quot;idleTimeout&quot;&gt;&lt;Property name=&quot;jetty.ssl.idleTimeout&quot; deprecated=&quot;ssl.timeout&quot; default=&quot;30000&quot;/&gt;&lt;/Set&gt;\r\n            &lt;Set name=&quot;soLingerTime&quot;&gt;&lt;Property name=&quot;jetty.ssl.soLingerTime&quot; deprecated=&quot;ssl.soLingerTime&quot; default=&quot;-1&quot;/&gt;&lt;/Set&gt;\r\n            &lt;Set name=&quot;acceptorPriorityDelta&quot;&gt;&lt;Property name=&quot;jetty.ssl.acceptorPriorityDelta&quot; deprecated=&quot;ssl.acceptorPriorityDelta&quot; default=&quot;0&quot;/&gt;&lt;/Set&gt;\r\n            &lt;Set name=&quot;acceptQueueSize&quot;&gt;&lt;Property name=&quot;jetty.ssl.acceptQueueSize&quot; deprecated=&quot;ssl.acceptQueueSize&quot; default=&quot;0&quot;/&gt;&lt;/Set&gt;\r\n          &lt;/New&gt;\r\n        &lt;/Arg&gt;\r\n      &lt;/Call&gt;\r\n    \r\n      &lt;!-- =========================================================== --&gt;\r\n      &lt;!-- Create a TLS specific HttpConfiguration based on the        --&gt;\r\n      &lt;!-- common HttpConfiguration defined in jetty.xml               --&gt;\r\n      &lt;!-- Add a SecureRequestCustomizer to extract certificate and    --&gt;\r\n      &lt;!-- session information                                         --&gt;\r\n      &lt;!-- =========================================================== --&gt;\r\n      &lt;New id=&quot;sslHttpConfig&quot; class=&quot;org.eclipse.jetty.server.HttpConfiguration&quot;&gt;\r\n        &lt;Arg&gt;&lt;Ref refid=&quot;httpConfig&quot;/&gt;&lt;/Arg&gt;\r\n        &lt;Call name=&quot;addCustomizer&quot;&gt;\r\n          &lt;Arg&gt;\r\n            &lt;New class=&quot;org.eclipse.jetty.server.SecureRequestCustomizer&quot;&gt;\r\n              &lt;Arg name=&quot;sniHostCheck&quot; type=&quot;boolean&quot;&gt;&lt;Property name=&quot;jetty.ssl.sniHostCheck&quot; default=&quot;true&quot;/&gt;&lt;/Arg&gt;\r\n              &lt;Arg name=&quot;stsMaxAgeSeconds&quot; type=&quot;int&quot;&gt;&lt;Property name=&quot;jetty.ssl.stsMaxAgeSeconds&quot; default=&quot;-1&quot;/&gt;&lt;/Arg&gt;\r\n              &lt;Arg name=&quot;stsIncludeSubdomains&quot; type=&quot;boolean&quot;&gt;&lt;Property name=&quot;jetty.ssl.stsIncludeSubdomains&quot; default=&quot;false&quot;/&gt;&lt;/Arg&gt;\r\n            &lt;/New&gt;\r\n          &lt;/Arg&gt;\r\n        &lt;/Call&gt;\r\n      &lt;/New&gt;\r\n    &lt;/Configure&gt;\r\n\r\n\r\nAfter running `docker ps -a` :\r\n\r\n    root@myserver:/home/deploy/frontend/src/app/environments# docker ps -a\r\n    CONTAINER ID        IMAGE                COMMAND                  CREATED             STATUS                        PORTS                                         NAMES\r\n    9bf8f257f8ac        jetty                &quot;/docker-entrypoint.s&quot;   2 days ago          Up 14 minutes                 0.0.0.0:80-&gt;8080/tcp, 0.0.0.0:443-&gt;8443/tcp   jetty\r\n\r\nAnd finally my \r\n\r\nFile: `${JETTY_HOME}/etc/jetty.xml`\r\n\r\n    &lt;?xml version=&quot;1.0&quot;?&gt;\r\n    &lt;!DOCTYPE Configure PUBLIC &quot;-//Jetty//Configure//EN&quot; &quot;http://www.eclipse.org/jetty/configure_9_3.dtd&quot;&gt;\r\n    \r\n    &lt;!-- =============================================================== --&gt;\r\n    &lt;!-- Documentation of this file format can be found at:              --&gt;\r\n    &lt;!-- http://wiki.eclipse.org/Jetty/Reference/jetty.xml_syntax        --&gt;\r\n    &lt;!--                                                                 --&gt;\r\n    &lt;!-- Additional configuration files are available in $JETTY_HOME/etc --&gt;\r\n    &lt;!-- and can be mixed in. See start.ini file for the default         --&gt;\r\n    &lt;!-- configuration files.                                            --&gt;\r\n    &lt;!--                                                                 --&gt;\r\n    &lt;!-- For a description of the configuration mechanism, see the       --&gt;\r\n    &lt;!-- output of:                                                      --&gt;\r\n    &lt;!--   java -jar start.jar -?                                        --&gt;\r\n    &lt;!-- =============================================================== --&gt;\r\n    \r\n    &lt;!-- =============================================================== --&gt;\r\n    &lt;!-- Configure a Jetty Server instance with an ID &quot;Server&quot;           --&gt;\r\n    &lt;!-- Other configuration files may also configure the &quot;Server&quot;       --&gt;\r\n    &lt;!-- ID, in which case they are adding configuration to the same     --&gt;\r\n    &lt;!-- instance.  If other configuration have a different ID, they     --&gt;\r\n    &lt;!-- will create and configure another instance of Jetty.            --&gt;\r\n    &lt;!-- Consult the javadoc of o.e.j.server.Server for all              --&gt;\r\n    &lt;!-- configuration that may be set here.                             --&gt;\r\n    &lt;!-- =============================================================== --&gt;\r\n    &lt;Configure id=&quot;Server&quot; class=&quot;org.eclipse.jetty.server.Server&quot;&gt;\r\n    \r\n        &lt;!-- =========================================================== --&gt;\r\n        &lt;!-- Configure the Server Thread Pool.                           --&gt;\r\n        &lt;!-- The server holds a common thread pool which is used by      --&gt;\r\n        &lt;!-- default as the executor used by all connectors and servlet  --&gt;\r\n        &lt;!-- dispatches.                                                 --&gt;\r\n        &lt;!--                                                             --&gt;\r\n        &lt;!-- Configuring a fixed thread pool is vital to controlling the --&gt;\r\n        &lt;!-- maximal memory footprint of the server and is a key tuning  --&gt;\r\n        &lt;!-- parameter for tuning.  In an application that rarely blocks --&gt;\r\n        &lt;!-- then maximal threads may be close to the number of 5*CPUs.  --&gt;\r\n        &lt;!-- In an application that frequently blocks, then maximal      --&gt;\r\n        &lt;!-- threads should be set as high as possible given the memory  --&gt;\r\n        &lt;!-- available.                                                  --&gt;\r\n        &lt;!--                                                             --&gt;\r\n        &lt;!-- Consult the javadoc of o.e.j.util.thread.QueuedThreadPool   --&gt;\r\n        &lt;!-- for all configuration that may be set here.                 --&gt;\r\n        &lt;!-- =========================================================== --&gt;\r\n        &lt;!-- uncomment to change type of threadpool\r\n        &lt;Arg name=&quot;threadpool&quot;&gt;&lt;New id=&quot;threadpool&quot; class=&quot;org.eclipse.jetty.util.thread.QueuedThreadPool&quot;/&gt;&lt;/Arg&gt;\r\n        --&gt;\r\n        &lt;Get name=&quot;ThreadPool&quot;&gt;\r\n          &lt;Set name=&quot;minThreads&quot; type=&quot;int&quot;&gt;&lt;Property name=&quot;jetty.threadPool.minThreads&quot; deprecated=&quot;threads.min&quot; default=&quot;10&quot;/&gt;&lt;/Set&gt;\r\n          &lt;Set name=&quot;maxThreads&quot; type=&quot;int&quot;&gt;&lt;Property name=&quot;jetty.threadPool.maxThreads&quot; deprecated=&quot;threads.max&quot; default=&quot;200&quot;/&gt;&lt;/Set&gt;\r\n          &lt;Set name=&quot;idleTimeout&quot; type=&quot;int&quot;&gt;&lt;Property name=&quot;jetty.threadPool.idleTimeout&quot; deprecated=&quot;threads.timeout&quot; default=&quot;60000&quot;/&gt;&lt;/Set&gt;\r\n          &lt;Set name=&quot;detailedDump&quot;&gt;false&lt;/Set&gt;\r\n        &lt;/Get&gt;\r\n    \r\n        &lt;!-- =========================================================== --&gt;\r\n        &lt;!-- Add shared Scheduler instance                               --&gt;\r\n        &lt;!-- =========================================================== --&gt;\r\n        &lt;Call name=&quot;addBean&quot;&gt;\r\n          &lt;Arg&gt;\r\n            &lt;New class=&quot;org.eclipse.jetty.util.thread.ScheduledExecutorScheduler&quot;/&gt;\r\n          &lt;/Arg&gt;\r\n        &lt;/Call&gt;\r\n    \r\n        &lt;!-- =========================================================== --&gt;\r\n        &lt;!-- Http Configuration.                                         --&gt;\r\n        &lt;!-- This is a common configuration instance used by all         --&gt;\r\n        &lt;!-- connectors that can carry HTTP semantics (HTTP, HTTPS, etc.)--&gt;\r\n        &lt;!-- It configures the non wire protocol aspects of the HTTP     --&gt;\r\n        &lt;!-- semantic.                                                   --&gt;\r\n        &lt;!--                                                             --&gt;\r\n        &lt;!-- This configuration is only defined here and is used by      --&gt;\r\n        &lt;!-- reference from other XML files such as jetty-http.xml,      --&gt;\r\n        &lt;!-- jetty-https.xml and other configuration files which         --&gt;\r\n        &lt;!-- instantiate the connectors.                                 --&gt;\r\n        &lt;!--                                                             --&gt;\r\n        &lt;!-- Consult the javadoc of o.e.j.server.HttpConfiguration       --&gt;\r\n        &lt;!-- for all configuration that may be set here.                 --&gt;\r\n        &lt;!-- =========================================================== --&gt;\r\n        &lt;New id=&quot;httpConfig&quot; class=&quot;org.eclipse.jetty.server.HttpConfiguration&quot;&gt;\r\n          &lt;Set name=&quot;secureScheme&quot;&gt;&lt;Property name=&quot;jetty.httpConfig.secureScheme&quot; default=&quot;https&quot; /&gt;&lt;/Set&gt;\r\n          &lt;Set name=&quot;securePort&quot;&gt;&lt;Property name=&quot;jetty.httpConfig.securePort&quot; deprecated=&quot;jetty.secure.port&quot; default=&quot;8443&quot; /&gt;&lt;/Set&gt;\r\n          &lt;Set name=&quot;outputBufferSize&quot;&gt;&lt;Property name=&quot;jetty.httpConfig.outputBufferSize&quot; deprecated=&quot;jetty.output.buffer.size&quot; default=&quot;32768&quot; /&gt;&lt;/Set&gt;\r\n          &lt;Set name=&quot;outputAggregationSize&quot;&gt;&lt;Property name=&quot;jetty.httpConfig.outputAggregationSize&quot; deprecated=&quot;jetty.output.aggregation.size&quot; default=&quot;8192&quot; /&gt;&lt;/Set&gt;\r\n          &lt;Set name=&quot;requestHeaderSize&quot;&gt;&lt;Property name=&quot;jetty.httpConfig.requestHeaderSize&quot; deprecated=&quot;jetty.request.header.size&quot; default=&quot;8192&quot; /&gt;&lt;/Set&gt;\r\n          &lt;Set name=&quot;responseHeaderSize&quot;&gt;&lt;Property name=&quot;jetty.httpConfig.responseHeaderSize&quot; deprecated=&quot;jetty.response.header.size&quot; default=&quot;8192&quot; /&gt;&lt;/Set&gt;\r\n          &lt;Set name=&quot;sendServerVersion&quot;&gt;&lt;Property name=&quot;jetty.httpConfig.sendServerVersion&quot; deprecated=&quot;jetty.send.server.version&quot; default=&quot;true&quot; /&gt;&lt;/Set&gt;\r\n          &lt;Set name=&quot;sendDateHeader&quot;&gt;&lt;Property name=&quot;jetty.httpConfig.sendDateHeader&quot; deprecated=&quot;jetty.send.date.header&quot; default=&quot;false&quot; /&gt;&lt;/Set&gt;\r\n          &lt;Set name=&quot;headerCacheSize&quot;&gt;&lt;Property name=&quot;jetty.httpConfig.headerCacheSize&quot; default=&quot;512&quot; /&gt;&lt;/Set&gt;\r\n          &lt;Set name=&quot;delayDispatchUntilContent&quot;&gt;&lt;Property name=&quot;jetty.httpConfig.delayDispatchUntilContent&quot; deprecated=&quot;jetty.delayDispatchUntilContent&quot; default=&quot;true&quot;/&gt;&lt;/Set&gt;\r\n          &lt;Set name=&quot;maxErrorDispatches&quot;&gt;&lt;Property name=&quot;jetty.httpConfig.maxErrorDispatches&quot; default=&quot;10&quot;/&gt;&lt;/Set&gt;\r\n          &lt;Set name=&quot;blockingTimeout&quot;&gt;&lt;Property name=&quot;jetty.httpConfig.blockingTimeout&quot; default=&quot;-1&quot;/&gt;&lt;/Set&gt;\r\n          &lt;Set name=&quot;persistentConnectionsEnabled&quot;&gt;&lt;Property name=&quot;jetty.httpConfig.persistentConnectionsEnabled&quot; default=&quot;true&quot;/&gt;&lt;/Set&gt;\r\n          &lt;Set name=&quot;cookieCompliance&quot;&gt;&lt;Call class=&quot;org.eclipse.jetty.http.CookieCompliance&quot; name=&quot;valueOf&quot;&gt;&lt;Arg&gt;&lt;Property name=&quot;jetty.httpConfig.cookieCompliance&quot; default=&quot;RFC6265&quot;/&gt;&lt;/Arg&gt;&lt;/Call&gt;&lt;/Set&gt;\r\n        &lt;/New&gt;\r\n    \r\n        &lt;!-- =========================================================== --&gt;\r\n        &lt;!-- Set the default handler structure for the Server            --&gt;\r\n        &lt;!-- A handler collection is used to pass received requests to   --&gt;\r\n        &lt;!-- both the ContextHandlerCollection, which selects the next   --&gt;\r\n        &lt;!-- handler by context path and virtual host, and the           --&gt;\r\n        &lt;!-- DefaultHandler, which handles any requests not handled by   --&gt;\r\n        &lt;!-- the context handlers.                                       --&gt;\r\n        &lt;!-- Other handlers may be added to the &quot;Handlers&quot; collection,   --&gt;\r\n        &lt;!-- for example the jetty-requestlog.xml file adds the          --&gt;\r\n        &lt;!-- RequestLogHandler after the default handler                 --&gt;\r\n        &lt;!-- =========================================================== --&gt;\r\n        &lt;Set name=&quot;handler&quot;&gt;\r\n          &lt;New id=&quot;Handlers&quot; class=&quot;org.eclipse.jetty.server.handler.HandlerCollection&quot;&gt;\r\n            &lt;Set name=&quot;handlers&quot;&gt;\r\n             &lt;Array type=&quot;org.eclipse.jetty.server.Handler&quot;&gt;\r\n               &lt;Item&gt;\r\n                 &lt;New id=&quot;Contexts&quot; class=&quot;org.eclipse.jetty.server.handler.ContextHandlerCollection&quot;/&gt;\r\n               &lt;/Item&gt;\r\n               &lt;Item&gt;\r\n                 &lt;New id=&quot;DefaultHandler&quot; class=&quot;org.eclipse.jetty.server.handler.DefaultHandler&quot;/&gt;\r\n               &lt;/Item&gt;\r\n             &lt;/Array&gt;\r\n            &lt;/Set&gt;\r\n          &lt;/New&gt;\r\n        &lt;/Set&gt;\r\n    \r\n        &lt;!-- =========================================================== --&gt;\r\n        &lt;!-- extra server options                                        --&gt;\r\n        &lt;!-- =========================================================== --&gt;\r\n        &lt;Set name=&quot;stopAtShutdown&quot;&gt;&lt;Property name=&quot;jetty.server.stopAtShutdown&quot; default=&quot;true&quot;/&gt;&lt;/Set&gt;\r\n        &lt;Set name=&quot;stopTimeout&quot;&gt;&lt;Property name=&quot;jetty.server.stopTimeout&quot; default=&quot;5000&quot;/&gt;&lt;/Set&gt;\r\n        &lt;Set name=&quot;dumpAfterStart&quot;&gt;&lt;Property name=&quot;jetty.server.dumpAfterStart&quot; deprecated=&quot;jetty.dump.start&quot; default=&quot;false&quot;/&gt;&lt;/Set&gt;\r\n        &lt;Set name=&quot;dumpBeforeStop&quot;&gt;&lt;Property name=&quot;jetty.server.dumpBeforeStop&quot; deprecated=&quot;jetty.dump.stop&quot; default=&quot;false&quot;/&gt;&lt;/Set&gt;\r\n    \r\n    &lt;/Configure&gt;\r\n\r\nI&#39;m quite new to Jetty and can&#39;t seem to find the answer online since all these files have been auto-generated so I&#39;m not sure what I can delete and what not.\r\n\r\nAny ideas?\r\n\r\n(note: in my `/var/lib/jetty/start.d` only the `http.ini` is present (not sure if there should be a `https.ini`))\r\n\r\n\r\nMy firewall status:\r\n\r\n\r\n    Status: active\r\n    \r\n    To                         Action      From\r\n    --                         ------      ----\r\n    Anywhere                   ALLOW       somesubnet/24\r\n    22                         ALLOW       Anywhere\r\n    300                        ALLOW       Anywhere\r\n    3000                       ALLOW       Anywhere\r\n    3001                       ALLOW       Anywhere\r\n    3002                       ALLOW       Anywhere\r\n    3003                       ALLOW       Anywhere\r\n    80                         ALLOW       Anywhere\r\n    443                        ALLOW       Anywhere\r\n    8443                       ALLOW       Anywhere\r\n    443/tcp                    ALLOW       Anywhere\r\n    521                        ALLOW       Anywhere\r\n    80,443/tcp                 ALLOW       Anywhere\r\n    22 (v6)                    ALLOW       Anywhere (v6)\r\n    300 (v6)                   ALLOW       Anywhere (v6)\r\n    3000 (v6)                  ALLOW       Anywhere (v6)\r\n    3001 (v6)                  ALLOW       Anywhere (v6)\r\n    3002 (v6)                  ALLOW       Anywhere (v6)\r\n    3003 (v6)                  ALLOW       Anywhere (v6)\r\n    80 (v6)                    ALLOW       Anywhere (v6)\r\n    443 (v6)                   ALLOW       Anywhere (v6)\r\n    8443 (v6)                  ALLOW       Anywhere (v6)\r\n    443/tcp (v6)               ALLOW       Anywhere (v6)\r\n    521 (v6)                   ALLOW       Anywhere (v6)\r\n    80,443/tcp (v6)            ALLOW       Anywhere (v6)\r\n    \r\n    443/tcp                    ALLOW OUT   Anywhere\r\n    3000                       ALLOW OUT   Anywhere\r\n    443/tcp (v6)               ALLOW OUT   Anywhere (v6)\r\n    3000 (v6)                  ALLOW OUT   Anywhere (v6)\r\n\r\n\r\nDocker command I used:\r\n\r\n    docker run -d --name=jetty -p 80:8080 -p 443:8443 -v /home/deploy/backend/my-server/target/my-server-0.0.1-SNAPSHOT.war:/var/lib/jetty/webapps/root.war -v /home/deploy/backend/ssl:/etc/ssl/private jetty\r\n\r\nIt runs fine on `http://my-server.com` but doesn&#39;t load at `https://my-server.com`\r\n","title":"Docker - Run Jetty on HTTPS","body":"<p>I'm trying to configure my Jetty with SSL. Now I'm just stuck on why it doesn't connect on HTTPS. It works fine on HTTP though.</p>\n<p>File: <code>${JETTY_HOME}/etc/jetty-https.xml</code></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot;?&gt;\n&lt;!DOCTYPE Configure PUBLIC &quot;-//Jetty//Configure//EN&quot; &quot;http://www.eclipse.org/jetty/config\nure_9_3.dtd&quot;&gt;\n\n&lt;!-- ============================================================= --&gt;\n&lt;!-- Configure a HTTPS connector.                                  --&gt;\n&lt;!-- This configuration must be used in conjunction with jetty.xml --&gt;\n&lt;!-- and jetty-ssl.xml.                                            --&gt;\n&lt;!-- ============================================================= --&gt;\n&lt;Configure id=&quot;sslConnector&quot; class=&quot;org.eclipse.jetty.server.ServerConnector&quot;&gt;\n\n  &lt;Call name=&quot;addIfAbsentConnectionFactory&quot;&gt;\n    &lt;Arg&gt;\n      &lt;New class=&quot;org.eclipse.jetty.server.SslConnectionFactory&quot;&gt;\n        &lt;Arg name=&quot;next&quot;&gt;http/1.1&lt;/Arg&gt;\n        &lt;Arg name=&quot;sslContextFactory&quot;&gt;&lt;Ref refid=&quot;sslContextFactory&quot;/&gt;&lt;/Arg&gt;\n      &lt;/New&gt;\n    &lt;/Arg&gt;\n  &lt;/Call&gt;\n\n  &lt;Call name=&quot;addConnectionFactory&quot;&gt;\n    &lt;Arg&gt;\n      &lt;New class=&quot;org.eclipse.jetty.server.HttpConnectionFactory&quot;&gt;\n        &lt;Arg name=&quot;config&quot;&gt;&lt;Ref refid=&quot;sslHttpConfig&quot; /&gt;&lt;/Arg&gt;\n        &lt;Arg name=&quot;compliance&quot;&gt;&lt;Call class=&quot;org.eclipse.jetty.http.HttpCompliance&quot; name=&quot;\nvalueOf&quot;&gt;&lt;Arg&gt;&lt;Property name=&quot;jetty.http.compliance&quot; default=&quot;RFC7230&quot;/&gt;&lt;/Arg&gt;&lt;/Call&gt;&lt;/Ar\ng&gt;\n      &lt;/New&gt;\n    &lt;/Arg&gt;\n  &lt;/Call&gt;\n\n&lt;/Configure&gt;\n</code></pre>\n<p>File: <code>${JETTY_HOME}/etc/jetty-ssl.xml</code></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot;?&gt;\n&lt;!DOCTYPE Configure PUBLIC &quot;-//Jetty//Configure//EN&quot; &quot;http://www.eclipse.org/jetty/configure_9_3.dtd&quot;&gt;\n\n&lt;!-- ============================================================= --&gt;\n&lt;!-- Base SSL configuration                                        --&gt;\n&lt;!-- This configuration needs to be used together with 1 or more   --&gt;\n&lt;!-- of jetty-https.xml or jetty-http2.xml                         --&gt;\n&lt;!-- ============================================================= --&gt;\n&lt;Configure id=&quot;Server&quot; class=&quot;org.eclipse.jetty.server.Server&quot;&gt;\n\n  &lt;!-- =========================================================== --&gt;\n  &lt;!-- Add a SSL Connector with no protocol factories              --&gt;\n  &lt;!-- =========================================================== --&gt;\n  &lt;Call  name=&quot;addConnector&quot;&gt;\n    &lt;Arg&gt;\n      &lt;New id=&quot;sslConnector&quot; class=&quot;org.eclipse.jetty.server.ServerConnector&quot;&gt;\n        &lt;Arg name=&quot;server&quot;&gt;&lt;Ref refid=&quot;Server&quot; /&gt;&lt;/Arg&gt;\n        &lt;Arg name=&quot;acceptors&quot; type=&quot;int&quot;&gt;&lt;Property name=&quot;jetty.ssl.acceptors&quot; deprecated=&quot;ssl.acceptors&quot; default=&quot;-1&quot;/&gt;&lt;/Arg&gt;\n        &lt;Arg name=&quot;selectors&quot; type=&quot;int&quot;&gt;&lt;Property name=&quot;jetty.ssl.selectors&quot; deprecated=&quot;ssl.selectors&quot; default=&quot;-1&quot;/&gt;&lt;/Arg&gt;\n        &lt;Arg name=&quot;factories&quot;&gt;\n          &lt;Array type=&quot;org.eclipse.jetty.server.ConnectionFactory&quot;&gt;\n            &lt;!-- uncomment to support proxy protocol\n            &lt;Item&gt;\n              &lt;New class=&quot;org.eclipse.jetty.server.ProxyConnectionFactory&quot;/&gt;\n            &lt;/Item&gt;--&gt;\n          &lt;/Array&gt;\n        &lt;/Arg&gt;\n\n        &lt;Set name=&quot;host&quot;&gt;&lt;Property name=&quot;jetty.ssl.host&quot; deprecated=&quot;jetty.host&quot; /&gt;&lt;/Set&gt;\n        &lt;Set name=&quot;port&quot;&gt;&lt;Property name=&quot;jetty.ssl.port&quot; deprecated=&quot;ssl.port&quot; default=&quot;8443&quot; /&gt;&lt;/Set&gt;\n        &lt;Set name=&quot;idleTimeout&quot;&gt;&lt;Property name=&quot;jetty.ssl.idleTimeout&quot; deprecated=&quot;ssl.timeout&quot; default=&quot;30000&quot;/&gt;&lt;/Set&gt;\n        &lt;Set name=&quot;soLingerTime&quot;&gt;&lt;Property name=&quot;jetty.ssl.soLingerTime&quot; deprecated=&quot;ssl.soLingerTime&quot; default=&quot;-1&quot;/&gt;&lt;/Set&gt;\n        &lt;Set name=&quot;acceptorPriorityDelta&quot;&gt;&lt;Property name=&quot;jetty.ssl.acceptorPriorityDelta&quot; deprecated=&quot;ssl.acceptorPriorityDelta&quot; default=&quot;0&quot;/&gt;&lt;/Set&gt;\n        &lt;Set name=&quot;acceptQueueSize&quot;&gt;&lt;Property name=&quot;jetty.ssl.acceptQueueSize&quot; deprecated=&quot;ssl.acceptQueueSize&quot; default=&quot;0&quot;/&gt;&lt;/Set&gt;\n      &lt;/New&gt;\n    &lt;/Arg&gt;\n  &lt;/Call&gt;\n\n  &lt;!-- =========================================================== --&gt;\n  &lt;!-- Create a TLS specific HttpConfiguration based on the        --&gt;\n  &lt;!-- common HttpConfiguration defined in jetty.xml               --&gt;\n  &lt;!-- Add a SecureRequestCustomizer to extract certificate and    --&gt;\n  &lt;!-- session information                                         --&gt;\n  &lt;!-- =========================================================== --&gt;\n  &lt;New id=&quot;sslHttpConfig&quot; class=&quot;org.eclipse.jetty.server.HttpConfiguration&quot;&gt;\n    &lt;Arg&gt;&lt;Ref refid=&quot;httpConfig&quot;/&gt;&lt;/Arg&gt;\n    &lt;Call name=&quot;addCustomizer&quot;&gt;\n      &lt;Arg&gt;\n        &lt;New class=&quot;org.eclipse.jetty.server.SecureRequestCustomizer&quot;&gt;\n          &lt;Arg name=&quot;sniHostCheck&quot; type=&quot;boolean&quot;&gt;&lt;Property name=&quot;jetty.ssl.sniHostCheck&quot; default=&quot;true&quot;/&gt;&lt;/Arg&gt;\n          &lt;Arg name=&quot;stsMaxAgeSeconds&quot; type=&quot;int&quot;&gt;&lt;Property name=&quot;jetty.ssl.stsMaxAgeSeconds&quot; default=&quot;-1&quot;/&gt;&lt;/Arg&gt;\n          &lt;Arg name=&quot;stsIncludeSubdomains&quot; type=&quot;boolean&quot;&gt;&lt;Property name=&quot;jetty.ssl.stsIncludeSubdomains&quot; default=&quot;false&quot;/&gt;&lt;/Arg&gt;\n        &lt;/New&gt;\n      &lt;/Arg&gt;\n    &lt;/Call&gt;\n  &lt;/New&gt;\n&lt;/Configure&gt;\n</code></pre>\n<p>After running <code>docker ps -a</code> :</p>\n<pre><code>root@myserver:/home/deploy/frontend/src/app/environments# docker ps -a\nCONTAINER ID        IMAGE                COMMAND                  CREATED             STATUS                        PORTS                                         NAMES\n9bf8f257f8ac        jetty                &quot;/docker-entrypoint.s&quot;   2 days ago          Up 14 minutes                 0.0.0.0:80-&gt;8080/tcp, 0.0.0.0:443-&gt;8443/tcp   jetty\n</code></pre>\n<p>And finally my</p>\n<p>File: <code>${JETTY_HOME}/etc/jetty.xml</code></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot;?&gt;\n&lt;!DOCTYPE Configure PUBLIC &quot;-//Jetty//Configure//EN&quot; &quot;http://www.eclipse.org/jetty/configure_9_3.dtd&quot;&gt;\n\n&lt;!-- =============================================================== --&gt;\n&lt;!-- Documentation of this file format can be found at:              --&gt;\n&lt;!-- http://wiki.eclipse.org/Jetty/Reference/jetty.xml_syntax        --&gt;\n&lt;!--                                                                 --&gt;\n&lt;!-- Additional configuration files are available in $JETTY_HOME/etc --&gt;\n&lt;!-- and can be mixed in. See start.ini file for the default         --&gt;\n&lt;!-- configuration files.                                            --&gt;\n&lt;!--                                                                 --&gt;\n&lt;!-- For a description of the configuration mechanism, see the       --&gt;\n&lt;!-- output of:                                                      --&gt;\n&lt;!--   java -jar start.jar -?                                        --&gt;\n&lt;!-- =============================================================== --&gt;\n\n&lt;!-- =============================================================== --&gt;\n&lt;!-- Configure a Jetty Server instance with an ID &quot;Server&quot;           --&gt;\n&lt;!-- Other configuration files may also configure the &quot;Server&quot;       --&gt;\n&lt;!-- ID, in which case they are adding configuration to the same     --&gt;\n&lt;!-- instance.  If other configuration have a different ID, they     --&gt;\n&lt;!-- will create and configure another instance of Jetty.            --&gt;\n&lt;!-- Consult the javadoc of o.e.j.server.Server for all              --&gt;\n&lt;!-- configuration that may be set here.                             --&gt;\n&lt;!-- =============================================================== --&gt;\n&lt;Configure id=&quot;Server&quot; class=&quot;org.eclipse.jetty.server.Server&quot;&gt;\n\n    &lt;!-- =========================================================== --&gt;\n    &lt;!-- Configure the Server Thread Pool.                           --&gt;\n    &lt;!-- The server holds a common thread pool which is used by      --&gt;\n    &lt;!-- default as the executor used by all connectors and servlet  --&gt;\n    &lt;!-- dispatches.                                                 --&gt;\n    &lt;!--                                                             --&gt;\n    &lt;!-- Configuring a fixed thread pool is vital to controlling the --&gt;\n    &lt;!-- maximal memory footprint of the server and is a key tuning  --&gt;\n    &lt;!-- parameter for tuning.  In an application that rarely blocks --&gt;\n    &lt;!-- then maximal threads may be close to the number of 5*CPUs.  --&gt;\n    &lt;!-- In an application that frequently blocks, then maximal      --&gt;\n    &lt;!-- threads should be set as high as possible given the memory  --&gt;\n    &lt;!-- available.                                                  --&gt;\n    &lt;!--                                                             --&gt;\n    &lt;!-- Consult the javadoc of o.e.j.util.thread.QueuedThreadPool   --&gt;\n    &lt;!-- for all configuration that may be set here.                 --&gt;\n    &lt;!-- =========================================================== --&gt;\n    &lt;!-- uncomment to change type of threadpool\n    &lt;Arg name=&quot;threadpool&quot;&gt;&lt;New id=&quot;threadpool&quot; class=&quot;org.eclipse.jetty.util.thread.QueuedThreadPool&quot;/&gt;&lt;/Arg&gt;\n    --&gt;\n    &lt;Get name=&quot;ThreadPool&quot;&gt;\n      &lt;Set name=&quot;minThreads&quot; type=&quot;int&quot;&gt;&lt;Property name=&quot;jetty.threadPool.minThreads&quot; deprecated=&quot;threads.min&quot; default=&quot;10&quot;/&gt;&lt;/Set&gt;\n      &lt;Set name=&quot;maxThreads&quot; type=&quot;int&quot;&gt;&lt;Property name=&quot;jetty.threadPool.maxThreads&quot; deprecated=&quot;threads.max&quot; default=&quot;200&quot;/&gt;&lt;/Set&gt;\n      &lt;Set name=&quot;idleTimeout&quot; type=&quot;int&quot;&gt;&lt;Property name=&quot;jetty.threadPool.idleTimeout&quot; deprecated=&quot;threads.timeout&quot; default=&quot;60000&quot;/&gt;&lt;/Set&gt;\n      &lt;Set name=&quot;detailedDump&quot;&gt;false&lt;/Set&gt;\n    &lt;/Get&gt;\n\n    &lt;!-- =========================================================== --&gt;\n    &lt;!-- Add shared Scheduler instance                               --&gt;\n    &lt;!-- =========================================================== --&gt;\n    &lt;Call name=&quot;addBean&quot;&gt;\n      &lt;Arg&gt;\n        &lt;New class=&quot;org.eclipse.jetty.util.thread.ScheduledExecutorScheduler&quot;/&gt;\n      &lt;/Arg&gt;\n    &lt;/Call&gt;\n\n    &lt;!-- =========================================================== --&gt;\n    &lt;!-- Http Configuration.                                         --&gt;\n    &lt;!-- This is a common configuration instance used by all         --&gt;\n    &lt;!-- connectors that can carry HTTP semantics (HTTP, HTTPS, etc.)--&gt;\n    &lt;!-- It configures the non wire protocol aspects of the HTTP     --&gt;\n    &lt;!-- semantic.                                                   --&gt;\n    &lt;!--                                                             --&gt;\n    &lt;!-- This configuration is only defined here and is used by      --&gt;\n    &lt;!-- reference from other XML files such as jetty-http.xml,      --&gt;\n    &lt;!-- jetty-https.xml and other configuration files which         --&gt;\n    &lt;!-- instantiate the connectors.                                 --&gt;\n    &lt;!--                                                             --&gt;\n    &lt;!-- Consult the javadoc of o.e.j.server.HttpConfiguration       --&gt;\n    &lt;!-- for all configuration that may be set here.                 --&gt;\n    &lt;!-- =========================================================== --&gt;\n    &lt;New id=&quot;httpConfig&quot; class=&quot;org.eclipse.jetty.server.HttpConfiguration&quot;&gt;\n      &lt;Set name=&quot;secureScheme&quot;&gt;&lt;Property name=&quot;jetty.httpConfig.secureScheme&quot; default=&quot;https&quot; /&gt;&lt;/Set&gt;\n      &lt;Set name=&quot;securePort&quot;&gt;&lt;Property name=&quot;jetty.httpConfig.securePort&quot; deprecated=&quot;jetty.secure.port&quot; default=&quot;8443&quot; /&gt;&lt;/Set&gt;\n      &lt;Set name=&quot;outputBufferSize&quot;&gt;&lt;Property name=&quot;jetty.httpConfig.outputBufferSize&quot; deprecated=&quot;jetty.output.buffer.size&quot; default=&quot;32768&quot; /&gt;&lt;/Set&gt;\n      &lt;Set name=&quot;outputAggregationSize&quot;&gt;&lt;Property name=&quot;jetty.httpConfig.outputAggregationSize&quot; deprecated=&quot;jetty.output.aggregation.size&quot; default=&quot;8192&quot; /&gt;&lt;/Set&gt;\n      &lt;Set name=&quot;requestHeaderSize&quot;&gt;&lt;Property name=&quot;jetty.httpConfig.requestHeaderSize&quot; deprecated=&quot;jetty.request.header.size&quot; default=&quot;8192&quot; /&gt;&lt;/Set&gt;\n      &lt;Set name=&quot;responseHeaderSize&quot;&gt;&lt;Property name=&quot;jetty.httpConfig.responseHeaderSize&quot; deprecated=&quot;jetty.response.header.size&quot; default=&quot;8192&quot; /&gt;&lt;/Set&gt;\n      &lt;Set name=&quot;sendServerVersion&quot;&gt;&lt;Property name=&quot;jetty.httpConfig.sendServerVersion&quot; deprecated=&quot;jetty.send.server.version&quot; default=&quot;true&quot; /&gt;&lt;/Set&gt;\n      &lt;Set name=&quot;sendDateHeader&quot;&gt;&lt;Property name=&quot;jetty.httpConfig.sendDateHeader&quot; deprecated=&quot;jetty.send.date.header&quot; default=&quot;false&quot; /&gt;&lt;/Set&gt;\n      &lt;Set name=&quot;headerCacheSize&quot;&gt;&lt;Property name=&quot;jetty.httpConfig.headerCacheSize&quot; default=&quot;512&quot; /&gt;&lt;/Set&gt;\n      &lt;Set name=&quot;delayDispatchUntilContent&quot;&gt;&lt;Property name=&quot;jetty.httpConfig.delayDispatchUntilContent&quot; deprecated=&quot;jetty.delayDispatchUntilContent&quot; default=&quot;true&quot;/&gt;&lt;/Set&gt;\n      &lt;Set name=&quot;maxErrorDispatches&quot;&gt;&lt;Property name=&quot;jetty.httpConfig.maxErrorDispatches&quot; default=&quot;10&quot;/&gt;&lt;/Set&gt;\n      &lt;Set name=&quot;blockingTimeout&quot;&gt;&lt;Property name=&quot;jetty.httpConfig.blockingTimeout&quot; default=&quot;-1&quot;/&gt;&lt;/Set&gt;\n      &lt;Set name=&quot;persistentConnectionsEnabled&quot;&gt;&lt;Property name=&quot;jetty.httpConfig.persistentConnectionsEnabled&quot; default=&quot;true&quot;/&gt;&lt;/Set&gt;\n      &lt;Set name=&quot;cookieCompliance&quot;&gt;&lt;Call class=&quot;org.eclipse.jetty.http.CookieCompliance&quot; name=&quot;valueOf&quot;&gt;&lt;Arg&gt;&lt;Property name=&quot;jetty.httpConfig.cookieCompliance&quot; default=&quot;RFC6265&quot;/&gt;&lt;/Arg&gt;&lt;/Call&gt;&lt;/Set&gt;\n    &lt;/New&gt;\n\n    &lt;!-- =========================================================== --&gt;\n    &lt;!-- Set the default handler structure for the Server            --&gt;\n    &lt;!-- A handler collection is used to pass received requests to   --&gt;\n    &lt;!-- both the ContextHandlerCollection, which selects the next   --&gt;\n    &lt;!-- handler by context path and virtual host, and the           --&gt;\n    &lt;!-- DefaultHandler, which handles any requests not handled by   --&gt;\n    &lt;!-- the context handlers.                                       --&gt;\n    &lt;!-- Other handlers may be added to the &quot;Handlers&quot; collection,   --&gt;\n    &lt;!-- for example the jetty-requestlog.xml file adds the          --&gt;\n    &lt;!-- RequestLogHandler after the default handler                 --&gt;\n    &lt;!-- =========================================================== --&gt;\n    &lt;Set name=&quot;handler&quot;&gt;\n      &lt;New id=&quot;Handlers&quot; class=&quot;org.eclipse.jetty.server.handler.HandlerCollection&quot;&gt;\n        &lt;Set name=&quot;handlers&quot;&gt;\n         &lt;Array type=&quot;org.eclipse.jetty.server.Handler&quot;&gt;\n           &lt;Item&gt;\n             &lt;New id=&quot;Contexts&quot; class=&quot;org.eclipse.jetty.server.handler.ContextHandlerCollection&quot;/&gt;\n           &lt;/Item&gt;\n           &lt;Item&gt;\n             &lt;New id=&quot;DefaultHandler&quot; class=&quot;org.eclipse.jetty.server.handler.DefaultHandler&quot;/&gt;\n           &lt;/Item&gt;\n         &lt;/Array&gt;\n        &lt;/Set&gt;\n      &lt;/New&gt;\n    &lt;/Set&gt;\n\n    &lt;!-- =========================================================== --&gt;\n    &lt;!-- extra server options                                        --&gt;\n    &lt;!-- =========================================================== --&gt;\n    &lt;Set name=&quot;stopAtShutdown&quot;&gt;&lt;Property name=&quot;jetty.server.stopAtShutdown&quot; default=&quot;true&quot;/&gt;&lt;/Set&gt;\n    &lt;Set name=&quot;stopTimeout&quot;&gt;&lt;Property name=&quot;jetty.server.stopTimeout&quot; default=&quot;5000&quot;/&gt;&lt;/Set&gt;\n    &lt;Set name=&quot;dumpAfterStart&quot;&gt;&lt;Property name=&quot;jetty.server.dumpAfterStart&quot; deprecated=&quot;jetty.dump.start&quot; default=&quot;false&quot;/&gt;&lt;/Set&gt;\n    &lt;Set name=&quot;dumpBeforeStop&quot;&gt;&lt;Property name=&quot;jetty.server.dumpBeforeStop&quot; deprecated=&quot;jetty.dump.stop&quot; default=&quot;false&quot;/&gt;&lt;/Set&gt;\n\n&lt;/Configure&gt;\n</code></pre>\n<p>I'm quite new to Jetty and can't seem to find the answer online since all these files have been auto-generated so I'm not sure what I can delete and what not.</p>\n<p>Any ideas?</p>\n<p>(note: in my <code>/var/lib/jetty/start.d</code> only the <code>http.ini</code> is present (not sure if there should be a <code>https.ini</code>))</p>\n<p>My firewall status:</p>\n<pre><code>Status: active\n\nTo                         Action      From\n--                         ------      ----\nAnywhere                   ALLOW       somesubnet/24\n22                         ALLOW       Anywhere\n300                        ALLOW       Anywhere\n3000                       ALLOW       Anywhere\n3001                       ALLOW       Anywhere\n3002                       ALLOW       Anywhere\n3003                       ALLOW       Anywhere\n80                         ALLOW       Anywhere\n443                        ALLOW       Anywhere\n8443                       ALLOW       Anywhere\n443/tcp                    ALLOW       Anywhere\n521                        ALLOW       Anywhere\n80,443/tcp                 ALLOW       Anywhere\n22 (v6)                    ALLOW       Anywhere (v6)\n300 (v6)                   ALLOW       Anywhere (v6)\n3000 (v6)                  ALLOW       Anywhere (v6)\n3001 (v6)                  ALLOW       Anywhere (v6)\n3002 (v6)                  ALLOW       Anywhere (v6)\n3003 (v6)                  ALLOW       Anywhere (v6)\n80 (v6)                    ALLOW       Anywhere (v6)\n443 (v6)                   ALLOW       Anywhere (v6)\n8443 (v6)                  ALLOW       Anywhere (v6)\n443/tcp (v6)               ALLOW       Anywhere (v6)\n521 (v6)                   ALLOW       Anywhere (v6)\n80,443/tcp (v6)            ALLOW       Anywhere (v6)\n\n443/tcp                    ALLOW OUT   Anywhere\n3000                       ALLOW OUT   Anywhere\n443/tcp (v6)               ALLOW OUT   Anywhere (v6)\n3000 (v6)                  ALLOW OUT   Anywhere (v6)\n</code></pre>\n<p>Docker command I used:</p>\n<pre><code>docker run -d --name=jetty -p 80:8080 -p 443:8443 -v /home/deploy/backend/my-server/target/my-server-0.0.1-SNAPSHOT.war:/var/lib/jetty/webapps/root.war -v /home/deploy/backend/ssl:/etc/ssl/private jetty\n</code></pre>\n<p>It runs fine on <code>http://my-server.com</code> but doesn't load at <code>https://my-server.com</code></p>\n"},{"tags":["java","security","encryption","cryptography"],"answers":[{"tags":[],"owner":{"account_id":26782616,"reputation":313,"user_id":20377250,"display_name":"Alex_X1"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675863889,"creation_date":1675863889,"answer_id":75386692,"question_id":75385441,"body_markdown":"My code wasn&#39;t actually able to decrypt. This code does the job:\r\n```java\r\npackage de.alexx1.birthdaynotf.helper;\r\n\r\nimport javax.crypto.Cipher;\r\nimport javax.crypto.SecretKey;\r\nimport javax.crypto.SecretKeyFactory;\r\nimport javax.crypto.spec.IvParameterSpec;\r\nimport javax.crypto.spec.PBEKeySpec;\r\nimport javax.crypto.spec.SecretKeySpec;\r\nimport java.security.Key;\r\nimport java.security.SecureRandom;\r\nimport java.security.spec.KeySpec;\r\nimport java.util.Arrays;\r\nimport java.util.Base64;\r\n\r\npublic class SecurityManager {\r\n    private static final String ALGORITHM = &quot;AES/CBC/PKCS5Padding&quot;;\r\n    private static final String CHARSET = &quot;UTF-8&quot;;\r\n    private static final int KEY_SIZE = 128;\r\n    private static final int ITERATIONS = 65536;\r\n    private static final int SALT_LENGTH = 16;\r\n    private static final SecureRandom secureRandom = new SecureRandom();\r\n    private static final Base64.Encoder base64Encoder = Base64.getEncoder();\r\n\r\n    public static String generateRandomString(int length) {\r\n        byte[] randomBytes = new byte[length];\r\n        secureRandom.nextBytes(randomBytes);\r\n        return base64Encoder.encodeToString(randomBytes);\r\n    }\r\n\r\n    public static String encrypt(String plainText, String password) throws Exception {\r\n        byte[] salt = generateSalt();\r\n        SecretKey secretKey = generateSecretKey(password, salt);\r\n        byte[] keyBytes = secretKey.getEncoded();\r\n        Key key = new SecretKeySpec(keyBytes, &quot;AES&quot;);\r\n        Cipher cipher = Cipher.getInstance(ALGORITHM);\r\n        cipher.init(Cipher.ENCRYPT_MODE, key);\r\n        byte[] encryptedBytes = cipher.doFinal(plainText.getBytes(CHARSET));\r\n        byte[] iv = cipher.getIV();\r\n        byte[] encryptedText = new byte[salt.length + iv.length + encryptedBytes.length];\r\n        System.arraycopy(salt, 0, encryptedText, 0, salt.length);\r\n        System.arraycopy(iv, 0, encryptedText, salt.length, iv.length);\r\n        System.arraycopy(encryptedBytes, 0, encryptedText, salt.length + iv.length, encryptedBytes.length);\r\n        return Base64.getEncoder().encodeToString(encryptedText);\r\n    }\r\n\r\n\r\n    public static String decrypt(String encryptedText, String password) throws Exception {\r\n        byte[] encryptedTextBytes = Base64.getDecoder().decode(encryptedText.getBytes(CHARSET));\r\n        byte[] salt = Arrays.copyOfRange(encryptedTextBytes, 0, SALT_LENGTH);\r\n        byte[] iv = Arrays.copyOfRange(encryptedTextBytes, SALT_LENGTH, SALT_LENGTH + 16);\r\n        byte[] cipherText = Arrays.copyOfRange(encryptedTextBytes, SALT_LENGTH + 16, encryptedTextBytes.length);\r\n        SecretKey secretKey = generateSecretKey(password, salt);\r\n        Key key = new SecretKeySpec(secretKey.getEncoded(), &quot;AES&quot;);\r\n        Cipher cipher = Cipher.getInstance(ALGORITHM);\r\n        cipher.init(Cipher.DECRYPT_MODE, key, new IvParameterSpec(iv));\r\n        byte[] decryptedBytes = cipher.doFinal(cipherText);\r\n        return new String(decryptedBytes, CHARSET);\r\n    }\r\n\r\n    private static SecretKey generateSecretKey(String password, byte[] salt) throws Exception {\r\n        SecretKeyFactory factory = SecretKeyFactory.getInstance(&quot;PBKDF2WithHmacSHA256&quot;);\r\n        KeySpec spec = new PBEKeySpec(password.toCharArray(), salt, ITERATIONS, KEY_SIZE);\r\n        return factory.generateSecret(spec);\r\n    }\r\n\r\n    private static byte[] generateSalt() {\r\n        byte[] salt = new byte[SALT_LENGTH];\r\n        secureRandom.nextBytes(salt);\r\n        return salt;\r\n    }\r\n\r\n\r\n}\r\n","title":"Java read a encrypted string and decode it","body":"<p>My code wasn't actually able to decrypt. This code does the job:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package de.alexx1.birthdaynotf.helper;\n\nimport javax.crypto.Cipher;\nimport javax.crypto.SecretKey;\nimport javax.crypto.SecretKeyFactory;\nimport javax.crypto.spec.IvParameterSpec;\nimport javax.crypto.spec.PBEKeySpec;\nimport javax.crypto.spec.SecretKeySpec;\nimport java.security.Key;\nimport java.security.SecureRandom;\nimport java.security.spec.KeySpec;\nimport java.util.Arrays;\nimport java.util.Base64;\n\npublic class SecurityManager {\n    private static final String ALGORITHM = &quot;AES/CBC/PKCS5Padding&quot;;\n    private static final String CHARSET = &quot;UTF-8&quot;;\n    private static final int KEY_SIZE = 128;\n    private static final int ITERATIONS = 65536;\n    private static final int SALT_LENGTH = 16;\n    private static final SecureRandom secureRandom = new SecureRandom();\n    private static final Base64.Encoder base64Encoder = Base64.getEncoder();\n\n    public static String generateRandomString(int length) {\n        byte[] randomBytes = new byte[length];\n        secureRandom.nextBytes(randomBytes);\n        return base64Encoder.encodeToString(randomBytes);\n    }\n\n    public static String encrypt(String plainText, String password) throws Exception {\n        byte[] salt = generateSalt();\n        SecretKey secretKey = generateSecretKey(password, salt);\n        byte[] keyBytes = secretKey.getEncoded();\n        Key key = new SecretKeySpec(keyBytes, &quot;AES&quot;);\n        Cipher cipher = Cipher.getInstance(ALGORITHM);\n        cipher.init(Cipher.ENCRYPT_MODE, key);\n        byte[] encryptedBytes = cipher.doFinal(plainText.getBytes(CHARSET));\n        byte[] iv = cipher.getIV();\n        byte[] encryptedText = new byte[salt.length + iv.length + encryptedBytes.length];\n        System.arraycopy(salt, 0, encryptedText, 0, salt.length);\n        System.arraycopy(iv, 0, encryptedText, salt.length, iv.length);\n        System.arraycopy(encryptedBytes, 0, encryptedText, salt.length + iv.length, encryptedBytes.length);\n        return Base64.getEncoder().encodeToString(encryptedText);\n    }\n\n\n    public static String decrypt(String encryptedText, String password) throws Exception {\n        byte[] encryptedTextBytes = Base64.getDecoder().decode(encryptedText.getBytes(CHARSET));\n        byte[] salt = Arrays.copyOfRange(encryptedTextBytes, 0, SALT_LENGTH);\n        byte[] iv = Arrays.copyOfRange(encryptedTextBytes, SALT_LENGTH, SALT_LENGTH + 16);\n        byte[] cipherText = Arrays.copyOfRange(encryptedTextBytes, SALT_LENGTH + 16, encryptedTextBytes.length);\n        SecretKey secretKey = generateSecretKey(password, salt);\n        Key key = new SecretKeySpec(secretKey.getEncoded(), &quot;AES&quot;);\n        Cipher cipher = Cipher.getInstance(ALGORITHM);\n        cipher.init(Cipher.DECRYPT_MODE, key, new IvParameterSpec(iv));\n        byte[] decryptedBytes = cipher.doFinal(cipherText);\n        return new String(decryptedBytes, CHARSET);\n    }\n\n    private static SecretKey generateSecretKey(String password, byte[] salt) throws Exception {\n        SecretKeyFactory factory = SecretKeyFactory.getInstance(&quot;PBKDF2WithHmacSHA256&quot;);\n        KeySpec spec = new PBEKeySpec(password.toCharArray(), salt, ITERATIONS, KEY_SIZE);\n        return factory.generateSecret(spec);\n    }\n\n    private static byte[] generateSalt() {\n        byte[] salt = new byte[SALT_LENGTH];\n        secureRandom.nextBytes(salt);\n        return salt;\n    }\n\n\n}\n</code></pre>\n"}],"owner":{"account_id":26782616,"reputation":313,"user_id":20377250,"display_name":"Alex_X1"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":261,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675863889,"creation_date":1675857259,"question_id":75385441,"body_markdown":"I am trying to encrypt a string with a user defined password and then decode it with the string again.\r\n\r\nMy code:\r\n\r\nSecurityManager.java\r\n\r\n```\r\npackage de.example.org;\r\n\r\n\r\nimport javax.crypto.*;\r\nimport javax.crypto.spec.PBEKeySpec;\r\nimport javax.crypto.spec.SecretKeySpec;\r\nimport java.security.InvalidKeyException;\r\nimport java.security.Key;\r\nimport java.security.NoSuchAlgorithmException;\r\nimport java.security.SecureRandom;\r\nimport java.security.spec.InvalidKeySpecException;\r\nimport java.util.Base64;\r\n\r\npublic class SecurityManager {\r\n    private static final String ALGORITHM = &quot;AES&quot;;\r\n    private static final String TRANSFORMATION = &quot;AES/ECB/PKCS5Padding&quot;;\r\n\r\n    private static final SecureRandom secureRandom = new SecureRandom();\r\n    private static final Base64.Encoder base64Encoder = Base64.getUrlEncoder();\r\n    private static final SecretKeyFactory factory;\r\n\r\n    static {\r\n        try {\r\n            factory = SecretKeyFactory.getInstance(&quot;PBKDF2WithHmacSHA1&quot;);\r\n        } catch (NoSuchAlgorithmException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n    private static PBEKeySpec generatePBEKeySpec(String password) {\r\n        return new PBEKeySpec(password.toCharArray(), generateRandomString(16).getBytes(), 65536, 128);\r\n    }\r\n\r\n\r\n    public static String generateRandomString(int length) {\r\n        byte[] randomBytes = new byte[length];\r\n        secureRandom.nextBytes(randomBytes);\r\n        return base64Encoder.encodeToString(randomBytes);\r\n    }\r\n\r\n    public static String generateEncryptedKey(String password) throws InvalidKeySpecException, NoSuchAlgorithmException, NoSuchPaddingException, InvalidKeyException, IllegalBlockSizeException, BadPaddingException {\r\n        SecretKey secretKey = factory.generateSecret(generatePBEKeySpec(password));\r\n        byte[] encodedKey = secretKey.getEncoded();\r\n\r\n        // Convert the secretKey to a SecretKeySpec\r\n        Key secretKeySpec = new SecretKeySpec(encodedKey, ALGORITHM);\r\n\r\n        // Encrypt the original string\r\n        Cipher cipher = Cipher.getInstance(TRANSFORMATION);\r\n        cipher.init(Cipher.ENCRYPT_MODE, secretKeySpec);\r\n        String random = generateRandomString(128);\r\n        System.out.println(random);\r\n        byte[] encryptedBytes = cipher.doFinal(random.getBytes());\r\n\r\n        return new String(encryptedBytes);\r\n    }\r\n\r\n    public static String decryptKey(String encryptedKey, String password) throws InvalidKeySpecException, NoSuchAlgorithmException, NoSuchPaddingException, InvalidKeyException, IllegalBlockSizeException, BadPaddingException {\r\n        SecretKey secretKey = factory.generateSecret(generatePBEKeySpec(password));\r\n        byte[] encodedKey = secretKey.getEncoded();\r\n\r\n        // Convert the secretKey to a SecretKeySpec\r\n        Key secretKeySpec = new SecretKeySpec(encodedKey, ALGORITHM);\r\n\r\n        // Decrypt the encrypted string\r\n        Cipher cipher = Cipher.getInstance(TRANSFORMATION);\r\n        cipher.init(Cipher.DECRYPT_MODE, secretKeySpec);\r\n        byte[] decryptedBytes = cipher.doFinal(encryptedKey.getBytes());\r\n\r\n        return new String(decryptedBytes);\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\nExecuting the function in main:\r\n\r\n```\r\nString encrypted = SecurityManager.generateEncryptedKey(&quot;123&quot;);\r\nString decrypted = SecurityManager.decryptKey(encrypted, &quot;123&quot;);\r\nSystem.out.println(decrypted);\r\n```\r\n\r\nError:\r\n\r\n```\r\nException in thread &quot;main&quot; javax.crypto.IllegalBlockSizeException: Input length must be multiple of 16 when decrypting with padded cipher\r\n\tat java.base/com.sun.crypto.provider.CipherCore.prepareInputBuffer(CipherCore.java:887)\r\n\tat java.base/com.sun.crypto.provider.CipherCore.doFinal(CipherCore.java:729)\r\n\tat java.base/com.sun.crypto.provider.AESCipher.engineDoFinal(AESCipher.java:434)\r\n\tat java.base/javax.crypto.Cipher.doFinal(Cipher.java:2206)\r\n\tat de.example.org.SecurityManager.decryptKey(SecurityManager.java:66)\r\n\tat de.example.org.main.Main.main(Main.java:11)\r\n```\r\n\r\nI have been sitting on this for hours now, and with bytes I can encrypt it. But since I want to store the encrypted string, so it&#39;s still available after a restart, storing the bytes in a file would be less secure AFAIK.","title":"Java read a encrypted string and decode it","body":"<p>I am trying to encrypt a string with a user defined password and then decode it with the string again.</p>\n<p>My code:</p>\n<p>SecurityManager.java</p>\n<pre><code>package de.example.org;\n\n\nimport javax.crypto.*;\nimport javax.crypto.spec.PBEKeySpec;\nimport javax.crypto.spec.SecretKeySpec;\nimport java.security.InvalidKeyException;\nimport java.security.Key;\nimport java.security.NoSuchAlgorithmException;\nimport java.security.SecureRandom;\nimport java.security.spec.InvalidKeySpecException;\nimport java.util.Base64;\n\npublic class SecurityManager {\n    private static final String ALGORITHM = &quot;AES&quot;;\n    private static final String TRANSFORMATION = &quot;AES/ECB/PKCS5Padding&quot;;\n\n    private static final SecureRandom secureRandom = new SecureRandom();\n    private static final Base64.Encoder base64Encoder = Base64.getUrlEncoder();\n    private static final SecretKeyFactory factory;\n\n    static {\n        try {\n            factory = SecretKeyFactory.getInstance(&quot;PBKDF2WithHmacSHA1&quot;);\n        } catch (NoSuchAlgorithmException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    private static PBEKeySpec generatePBEKeySpec(String password) {\n        return new PBEKeySpec(password.toCharArray(), generateRandomString(16).getBytes(), 65536, 128);\n    }\n\n\n    public static String generateRandomString(int length) {\n        byte[] randomBytes = new byte[length];\n        secureRandom.nextBytes(randomBytes);\n        return base64Encoder.encodeToString(randomBytes);\n    }\n\n    public static String generateEncryptedKey(String password) throws InvalidKeySpecException, NoSuchAlgorithmException, NoSuchPaddingException, InvalidKeyException, IllegalBlockSizeException, BadPaddingException {\n        SecretKey secretKey = factory.generateSecret(generatePBEKeySpec(password));\n        byte[] encodedKey = secretKey.getEncoded();\n\n        // Convert the secretKey to a SecretKeySpec\n        Key secretKeySpec = new SecretKeySpec(encodedKey, ALGORITHM);\n\n        // Encrypt the original string\n        Cipher cipher = Cipher.getInstance(TRANSFORMATION);\n        cipher.init(Cipher.ENCRYPT_MODE, secretKeySpec);\n        String random = generateRandomString(128);\n        System.out.println(random);\n        byte[] encryptedBytes = cipher.doFinal(random.getBytes());\n\n        return new String(encryptedBytes);\n    }\n\n    public static String decryptKey(String encryptedKey, String password) throws InvalidKeySpecException, NoSuchAlgorithmException, NoSuchPaddingException, InvalidKeyException, IllegalBlockSizeException, BadPaddingException {\n        SecretKey secretKey = factory.generateSecret(generatePBEKeySpec(password));\n        byte[] encodedKey = secretKey.getEncoded();\n\n        // Convert the secretKey to a SecretKeySpec\n        Key secretKeySpec = new SecretKeySpec(encodedKey, ALGORITHM);\n\n        // Decrypt the encrypted string\n        Cipher cipher = Cipher.getInstance(TRANSFORMATION);\n        cipher.init(Cipher.DECRYPT_MODE, secretKeySpec);\n        byte[] decryptedBytes = cipher.doFinal(encryptedKey.getBytes());\n\n        return new String(decryptedBytes);\n    }\n\n\n}\n</code></pre>\n<p>Executing the function in main:</p>\n<pre><code>String encrypted = SecurityManager.generateEncryptedKey(&quot;123&quot;);\nString decrypted = SecurityManager.decryptKey(encrypted, &quot;123&quot;);\nSystem.out.println(decrypted);\n</code></pre>\n<p>Error:</p>\n<pre><code>Exception in thread &quot;main&quot; javax.crypto.IllegalBlockSizeException: Input length must be multiple of 16 when decrypting with padded cipher\n    at java.base/com.sun.crypto.provider.CipherCore.prepareInputBuffer(CipherCore.java:887)\n    at java.base/com.sun.crypto.provider.CipherCore.doFinal(CipherCore.java:729)\n    at java.base/com.sun.crypto.provider.AESCipher.engineDoFinal(AESCipher.java:434)\n    at java.base/javax.crypto.Cipher.doFinal(Cipher.java:2206)\n    at de.example.org.SecurityManager.decryptKey(SecurityManager.java:66)\n    at de.example.org.main.Main.main(Main.java:11)\n</code></pre>\n<p>I have been sitting on this for hours now, and with bytes I can encrypt it. But since I want to store the encrypted string, so it's still available after a restart, storing the bytes in a file would be less secure AFAIK.</p>\n"},{"tags":["java","rest","rest-assured"],"comments":[{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1675331785,"post_id":75320954,"comment_id":132907295,"body_markdown":"How is the cookie named that stores your session id?","body":"How is the cookie named that stores your session id?"},{"owner":{"account_id":10370630,"reputation":9,"user_id":7648417,"display_name":"Shubham"},"score":0,"creation_date":1675332099,"post_id":75320954,"comment_id":132907393,"body_markdown":"Can you elaborate","body":"Can you elaborate"},{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1675332221,"post_id":75320954,"comment_id":132907425,"body_markdown":"Session id is propagated to your client from the sever after you have logged in with a dedicated cookie. Its name might differ from feamework to framework (on backend side). More over frameworks allow to customize that cookie&#39;s name. So in order to fetch session id you have to know how exactly it is stored for your case.","body":"Session id is propagated to your client from the sever after you have logged in with a dedicated cookie. Its name might differ from feamework to framework (on backend side). More over frameworks allow to customize that cookie&#39;s name. So in order to fetch session id you have to know how exactly it is stored for your case."},{"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"score":0,"creation_date":1675393089,"post_id":75320954,"comment_id":132924302,"body_markdown":"your json in body is incorrect and path in post method is wrong as well. Are you sure that your code is compiled successfully???","body":"your json in body is incorrect and path in post method is wrong as well. Are you sure that your code is compiled successfully???"}],"owner":{"account_id":10370630,"reputation":9,"user_id":7648417,"display_name":"Shubham"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":168,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1675863747,"creation_date":1675329607,"question_id":75320954,"body_markdown":"I am trying to fetch session id of the user but the session id is coming as null. Below is the sample code I have used\r\n\r\n```\r\nRestAssured.baseURI=&quot;https://demo.com&quot;\r\nResponse response = RestAssured.given().\r\nheader(&quot;Content-Type&quot;,&quot;application/json&quot;).header(&quot;connection&quot;,&quot;keep-alive&quot;).header(&quot;Accept-Encoding&quot;,&quot;gzp,deflate,br&quot;)\r\n.body(&quot; {n&quot; +\r\n            &quot;&quot;usename&quot;: &quot;demo&quot;,n&quot; +\r\n            &quot;&quot;email&quot;: &quot;demo@abc.com&quot;n&quot; +\r\n            &quot;}&quot;)\r\n.post(&quot;/login\\r\\n&quot;);\r\n\r\nSystem.out.println(response.getSessionId());\r\nSystem.out.println(response.getCookies());\r\n```\r\n\r\nI am expecting the session id and cookie of user logged in but I am getting value as null.","title":"How to fetch session Id in Rest Assuered","body":"<p>I am trying to fetch session id of the user but the session id is coming as null. Below is the sample code I have used</p>\n<pre><code>RestAssured.baseURI=&quot;https://demo.com&quot;\nResponse response = RestAssured.given().\nheader(&quot;Content-Type&quot;,&quot;application/json&quot;).header(&quot;connection&quot;,&quot;keep-alive&quot;).header(&quot;Accept-Encoding&quot;,&quot;gzp,deflate,br&quot;)\n.body(&quot; {n&quot; +\n            &quot;&quot;usename&quot;: &quot;demo&quot;,n&quot; +\n            &quot;&quot;email&quot;: &quot;demo@abc.com&quot;n&quot; +\n            &quot;}&quot;)\n.post(&quot;/login\\r\\n&quot;);\n\nSystem.out.println(response.getSessionId());\nSystem.out.println(response.getCookies());\n</code></pre>\n<p>I am expecting the session id and cookie of user logged in but I am getting value as null.</p>\n"},{"tags":["java","keycloak"],"owner":{"account_id":18761189,"reputation":655,"user_id":17089665,"display_name":"S. Dre"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675863572,"creation_date":1675856967,"question_id":75385388,"body_markdown":"I am trying to implement a *User Storage Provider*. Most of it is already implemented, and when I add it in the admin console UI, I can see the users in the list. I deactivated OTP and now I can log-in with my users. **The problem is the next one:**\r\n\r\nWhen I enter the second time in my SP, it fails to do it. I think I am having a problem related to client scopes and that KeyCloak cannot use or access the mappers in those client scopes, leading to the login error in the Service Provider. \r\n\r\nI cannot access them (the client Scopes) when I add my external SPI, which I don&#39;t know how it interacts with client scopes. When I enter, I receive this error in my admin console UI **(1)** / KeyCloak&#39;s Docker container log **(2)**:\r\n\r\n[![KeyCloak&#39;s error when entering the client scope&#39;s tab][1]][1]\r\n**(1)**\r\n\r\n\r\n```\r\n2023-02-08 11:47:11 ---------------------\r\n2023-02-08 11:47:11 org.keycloak.models.cache.infinispan.RealmCacheSession@1302ca2\r\n2023-02-08 11:47:11 2023-02-08 10:47:11,413 ERROR [org.keycloak.services.error.KeycloakErrorHandler] (executor-thread-35) Uncaught server error: com.fasterxml.jackson.databind.JsonMappingException: [no message for java.lang.NullPointerException]\r\n2023-02-08 11:47:11     at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._wrapAsIOE(DefaultSerializerProvider.java:509)\r\n2023-02-08 11:47:11     at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:482)\r\n2023-02-08 11:47:11     at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:400)\r\n2023-02-08 11:47:11     at com.fasterxml.jackson.databind.ObjectWriter$Prefetch.serialize(ObjectWriter.java:1514)\r\n2023-02-08 11:47:11     at com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:1007)\r\n[...]\r\n\r\nCaused by: java.lang.NullPointerException\r\n2023-02-08 11:42:39     at org.keycloak.models.utils.ModelToRepresentation.toRepresentation(ModelToRepresentation.java:263)\r\n2023-02-08 11:42:39     at org.keycloak.services.resources.admin.UsersResource.lambda$toRepresentation$2(UsersResource.java:459)\r\n2023-02-08 11:42:39     at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\r\n2023-02-08 11:42:39     at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)\r\n2023-02-08 11:42:39     at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)\r\n2023-02-08 11:42:39     at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\r\n[...]\r\n``` \r\n**(2)**\r\n\r\nFrom what I can gather, the line 263 of `ModelToRepresentation.java` is in the `toRepresentation()` method of the class `UserRepresentation`, being the line the following:\r\n\r\n    rep.setTotp(user.credentialManager().isConfiguredFor(OTPCredentialModel.TYPE));\r\n\r\nAlso, some extra information:\r\n\r\n    KeyCloak&#39;s version: 20.0.3\r\n    \r\n    Java JDK version: 11\r\n\r\n\r\nCan someone lend me a hand? I am kind of lost here...\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BCxVs.png","title":"KeyCloak - Getting an error when loging into an SP using my own UserStorageProvider with my external database’s users","body":"<p>I am trying to implement a <em>User Storage Provider</em>. Most of it is already implemented, and when I add it in the admin console UI, I can see the users in the list. I deactivated OTP and now I can log-in with my users. <strong>The problem is the next one:</strong></p>\n<p>When I enter the second time in my SP, it fails to do it. I think I am having a problem related to client scopes and that KeyCloak cannot use or access the mappers in those client scopes, leading to the login error in the Service Provider.</p>\n<p>I cannot access them (the client Scopes) when I add my external SPI, which I don't know how it interacts with client scopes. When I enter, I receive this error in my admin console UI <strong>(1)</strong> / KeyCloak's Docker container log <strong>(2)</strong>:</p>\n<p><a href=\"https://i.stack.imgur.com/BCxVs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BCxVs.png\" alt=\"KeyCloak's error when entering the client scope's tab\" /></a>\n<strong>(1)</strong></p>\n<pre><code>2023-02-08 11:47:11 ---------------------\n2023-02-08 11:47:11 org.keycloak.models.cache.infinispan.RealmCacheSession@1302ca2\n2023-02-08 11:47:11 2023-02-08 10:47:11,413 ERROR [org.keycloak.services.error.KeycloakErrorHandler] (executor-thread-35) Uncaught server error: com.fasterxml.jackson.databind.JsonMappingException: [no message for java.lang.NullPointerException]\n2023-02-08 11:47:11     at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._wrapAsIOE(DefaultSerializerProvider.java:509)\n2023-02-08 11:47:11     at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:482)\n2023-02-08 11:47:11     at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:400)\n2023-02-08 11:47:11     at com.fasterxml.jackson.databind.ObjectWriter$Prefetch.serialize(ObjectWriter.java:1514)\n2023-02-08 11:47:11     at com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:1007)\n[...]\n\nCaused by: java.lang.NullPointerException\n2023-02-08 11:42:39     at org.keycloak.models.utils.ModelToRepresentation.toRepresentation(ModelToRepresentation.java:263)\n2023-02-08 11:42:39     at org.keycloak.services.resources.admin.UsersResource.lambda$toRepresentation$2(UsersResource.java:459)\n2023-02-08 11:42:39     at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\n2023-02-08 11:42:39     at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)\n2023-02-08 11:42:39     at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)\n2023-02-08 11:42:39     at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\n[...]\n</code></pre>\n<p><strong>(2)</strong></p>\n<p>From what I can gather, the line 263 of <code>ModelToRepresentation.java</code> is in the <code>toRepresentation()</code> method of the class <code>UserRepresentation</code>, being the line the following:</p>\n<pre><code>rep.setTotp(user.credentialManager().isConfiguredFor(OTPCredentialModel.TYPE));\n</code></pre>\n<p>Also, some extra information:</p>\n<pre><code>KeyCloak's version: 20.0.3\n\nJava JDK version: 11\n</code></pre>\n<p>Can someone lend me a hand? I am kind of lost here...</p>\n"},{"tags":["java","azure","maven","azure-artifacts"],"answers":[{"comments":[{"owner":{"account_id":27380327,"reputation":23,"user_id":20885032,"display_name":"INAR"},"score":0,"creation_date":1675862351,"post_id":75386239,"comment_id":133018564,"body_markdown":"Hi Suresh, I have done it already. The network and connectivity seems fine, as other artifacts are getting downloaded. How to fix this?\n\nOther poms are getting downloaded except this one .zip artifact, so there seems to be no issue of pom.xml or settings.xml","body":"Hi Suresh, I have done it already. The network and connectivity seems fine, as other artifacts are getting downloaded. How to fix this?  Other poms are getting downloaded except this one .zip artifact, so there seems to be no issue of pom.xml or settings.xml"},{"owner":{"account_id":26619036,"reputation":1003,"user_id":20238030,"display_name":"Suresh Chikkam"},"score":0,"creation_date":1675948005,"post_id":75386239,"comment_id":133039778,"body_markdown":"I have rechecked from my end and it appears that the issue is based on the configuration that maven handles while downloading the artifacts.","body":"I have rechecked from my end and it appears that the issue is based on the configuration that maven handles while downloading the artifacts."}],"tags":[],"owner":{"account_id":26619036,"reputation":1003,"user_id":20238030,"display_name":"Suresh Chikkam"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675862867,"creation_date":1675861514,"answer_id":75386239,"question_id":75372861,"body_markdown":"- If you are working with `maven artifacts` in azure artifacts feeds you need to set up your feed first. Check below.\r\n![enter image description here](https:/i.imgur.com/9yvfQdH.png)\r\n- You just need to add a `settings.xml` under `c:\\users\\&lt;username&gt;\\.m2`\r\nIt will be like **settings.xml**\r\n\r\n```csharp\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;settings xmlns=&quot;http://maven.apache.org/SETTINGS/1.0.0&quot;\r\nxmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\nxsi:schemaLocation=&quot;http://maven.apache.org/SETTINGS/1.0.0 http://maven.apache.org/xsd/settings-1.0.0.xsd&quot;&gt;\r\n&lt;servers&gt;\r\n&lt;server&gt;\r\n&lt;id&gt;Suresh_Chikkam&lt;/id&gt;\r\n&lt;username&gt;****&lt;/username&gt;\r\n&lt;password&gt;****&lt;/password&gt;\r\n&lt;/server&gt;\r\n&lt;/servers&gt;\r\n&lt;profiles&gt;\r\n&lt;profile&gt;\r\n&lt;id&gt;azure&lt;/id&gt;\r\n&lt;repositories&gt;\r\n&lt;repository&gt;\r\n&lt;id&gt;central&lt;/id&gt;\r\n&lt;url&gt;https://repo.maven.apache.org/maven2&lt;/url&gt;\r\n&lt;releases&gt;&lt;enabled&gt;true&lt;/enabled&gt;&lt;/releases&gt;\r\n&lt;snapshots&gt;&lt;enabled&gt;false&lt;/enabled&gt;&lt;/snapshots&gt;\r\n&lt;/repository&gt;\r\n&lt;repository&gt;\r\n&lt;id&gt;azure&lt;/id&gt;\r\n&lt;url&gt;https://pkgs.dev.azure.com/YOUR_AZURE_DEVOPS_ORGANIZATION_NAME/YOUR_AZURE_DEVOPS_PROJECT_NAME/_packaging/YOUR_AZURE_ARTIFACTS_FEED_NAME/maven/v1&lt;/url&gt;\r\n&lt;releases&gt;&lt;enabled&gt;true&lt;/enabled&gt;&lt;/releases&gt;\r\n&lt;snapshots&gt;&lt;enabled&gt;false&lt;/enabled&gt;&lt;/snapshots&gt;\r\n&lt;/repository&gt;\r\n&lt;/repositories&gt;\r\n&lt;/profile&gt;\r\n&lt;/profiles&gt;\r\n&lt;activeProfiles&gt;\r\n&lt;activeProfile&gt;azure&lt;/activeProfile&gt;\r\n&lt;/activeProfiles&gt;\r\n&lt;/settings&gt;\r\n```\r\n- Get the `&lt;password&gt;` Access token. \r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\nClick on `new token`.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nAfter updating the above steps, maven-built success for me.\r\n\r\n[![enter image description here][3]][3]\r\n\r\n[![enter image description here][4]][4]\r\n\r\n- You don&#39;t need to send a GET request to download artifacts from an Azure Artifacts feed in a Maven project. Maven handles downloading the artifacts for you as part of the build process, based on the configuration in your `settings.xml` file and `pom.xml` file.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MKf3d.png\r\n  [2]: https://i.stack.imgur.com/EbIGr.png\r\n  [3]: https://i.stack.imgur.com/ba8I2.png\r\n  [4]: https://i.stack.imgur.com/ZVSOu.png","title":"Azure artifact - Maven project - GET request to download artifact failed","body":"<ul>\n<li>If you are working with <code>maven artifacts</code> in azure artifacts feeds you need to set up your feed first. Check below.\n</li>\n<li>You just need to add a <code>settings.xml</code> under <code>c:\\users\\&lt;username&gt;\\.m2</code>\nIt will be like <strong>settings.xml</strong></li>\n</ul>\n<pre class=\"lang-cs prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;settings xmlns=&quot;http://maven.apache.org/SETTINGS/1.0.0&quot;\nxmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\nxsi:schemaLocation=&quot;http://maven.apache.org/SETTINGS/1.0.0 http://maven.apache.org/xsd/settings-1.0.0.xsd&quot;&gt;\n&lt;servers&gt;\n&lt;server&gt;\n&lt;id&gt;Suresh_Chikkam&lt;/id&gt;\n&lt;username&gt;****&lt;/username&gt;\n&lt;password&gt;****&lt;/password&gt;\n&lt;/server&gt;\n&lt;/servers&gt;\n&lt;profiles&gt;\n&lt;profile&gt;\n&lt;id&gt;azure&lt;/id&gt;\n&lt;repositories&gt;\n&lt;repository&gt;\n&lt;id&gt;central&lt;/id&gt;\n&lt;url&gt;https://repo.maven.apache.org/maven2&lt;/url&gt;\n&lt;releases&gt;&lt;enabled&gt;true&lt;/enabled&gt;&lt;/releases&gt;\n&lt;snapshots&gt;&lt;enabled&gt;false&lt;/enabled&gt;&lt;/snapshots&gt;\n&lt;/repository&gt;\n&lt;repository&gt;\n&lt;id&gt;azure&lt;/id&gt;\n&lt;url&gt;https://pkgs.dev.azure.com/YOUR_AZURE_DEVOPS_ORGANIZATION_NAME/YOUR_AZURE_DEVOPS_PROJECT_NAME/_packaging/YOUR_AZURE_ARTIFACTS_FEED_NAME/maven/v1&lt;/url&gt;\n&lt;releases&gt;&lt;enabled&gt;true&lt;/enabled&gt;&lt;/releases&gt;\n&lt;snapshots&gt;&lt;enabled&gt;false&lt;/enabled&gt;&lt;/snapshots&gt;\n&lt;/repository&gt;\n&lt;/repositories&gt;\n&lt;/profile&gt;\n&lt;/profiles&gt;\n&lt;activeProfiles&gt;\n&lt;activeProfile&gt;azure&lt;/activeProfile&gt;\n&lt;/activeProfiles&gt;\n&lt;/settings&gt;\n</code></pre>\n<ul>\n<li>Get the <code>&lt;password&gt;</code> Access token.</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/MKf3d.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MKf3d.png\" alt=\"enter image description here\" /></a></p>\n<p>Click on <code>new token</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/EbIGr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EbIGr.png\" alt=\"enter image description here\" /></a></p>\n<p>After updating the above steps, maven-built success for me.</p>\n<p><a href=\"https://i.stack.imgur.com/ba8I2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ba8I2.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/ZVSOu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZVSOu.png\" alt=\"enter image description here\" /></a></p>\n<ul>\n<li>You don't need to send a GET request to download artifacts from an Azure Artifacts feed in a Maven project. Maven handles downloading the artifacts for you as part of the build process, based on the configuration in your <code>settings.xml</code> file and <code>pom.xml</code> file.</li>\n</ul>\n"}],"owner":{"account_id":27380327,"reputation":23,"user_id":20885032,"display_name":"INAR"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":224,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675862867,"creation_date":1675770101,"question_id":75372861,"body_markdown":"I&#39;m trying to build a maven project which has its artifacts in an azure feed. \r\n\r\nThe command I&#39;m using is `mvn clean install`\r\n\r\nBut there is an artifact which has .zip file in it. Previously it was working fine but all of a sudden due some unknown reason the build is failing with the following error message.\r\n\r\n    Failed to execute goal org.apache.maven.plugins:maven-dependency-plugin:2.1:unpack (unpack-artifact_name) on project project_name_Servers: \r\n    Unable to resolve artifact. Could not transfer artifact com.project_name:project_name-support-maven-bom-artifact_name:zip:2.1 from/to \r\n    Azure_artifact_feed (https://feed_URL/maven/v1): \r\n    **GET request of: com/project_name/project_name-support-maven-bom-artifact_name/2.1/project_name-support-maven-bom-artifact_name-2.1.zip from Azure_artifact_feed \r\n    failed**\r\n\r\nThe network and connectivity seems fine, as other artifacts are getting downloaded. \r\nHow to fix this?","title":"Azure artifact - Maven project - GET request to download artifact failed","body":"<p>I'm trying to build a maven project which has its artifacts in an azure feed.</p>\n<p>The command I'm using is <code>mvn clean install</code></p>\n<p>But there is an artifact which has .zip file in it. Previously it was working fine but all of a sudden due some unknown reason the build is failing with the following error message.</p>\n<pre><code>Failed to execute goal org.apache.maven.plugins:maven-dependency-plugin:2.1:unpack (unpack-artifact_name) on project project_name_Servers: \nUnable to resolve artifact. Could not transfer artifact com.project_name:project_name-support-maven-bom-artifact_name:zip:2.1 from/to \nAzure_artifact_feed (https://feed_URL/maven/v1): \n**GET request of: com/project_name/project_name-support-maven-bom-artifact_name/2.1/project_name-support-maven-bom-artifact_name-2.1.zip from Azure_artifact_feed \nfailed**\n</code></pre>\n<p>The network and connectivity seems fine, as other artifacts are getting downloaded.\nHow to fix this?</p>\n"},{"tags":["java","spring-boot","spring-integration","spring-jdbc"],"answers":[{"comments":[{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1675867332,"post_id":75386348,"comment_id":133020403,"body_markdown":"See also this question: https://stackoverflow.com/questions/75381609/does-spring-integrations-jdbc-inbound-channel-adapter-poll-new-records-added-th. It looks like you both are from the same team since your questions are similar.","body":"See also this question: <a href=\"https://stackoverflow.com/questions/75381609/does-spring-integrations-jdbc-inbound-channel-adapter-poll-new-records-added-th\" title=\"does spring integrations jdbc inbound channel adapter poll new records added th\">stackoverflow.com/questions/75381609/&hellip;</a>. It looks like you both are from the same team since your questions are similar."}],"tags":[],"owner":{"account_id":1580843,"reputation":13479,"user_id":1466267,"accept_rate":91,"display_name":"SpaceTrucker"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675862091,"creation_date":1675862091,"answer_id":75386348,"question_id":75385400,"body_markdown":"This is answered in the [reference docs][1]:\r\n\r\n&gt;  [...] the adapter also has an UPDATE statement that marks the records as processed so that they do not show up in the next poll.\r\n\r\nThere is also a snippet showing how to use it:\r\n\r\n```\r\n&lt;int-jdbc:inbound-channel-adapter query=&quot;select * from item where status=2&quot;\r\n    channel=&quot;target&quot; data-source=&quot;dataSource&quot;\r\n    update=&quot;update item set status=10 where id in (:id)&quot; /&gt;\r\n```\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-integration/reference/html/jdbc.html#jdbc-inbound-channel-adapter","title":"How to make Spring Integrations jdbc inbound channel adapter to poll new data?","body":"<p>This is answered in the <a href=\"https://docs.spring.io/spring-integration/reference/html/jdbc.html#jdbc-inbound-channel-adapter\" rel=\"nofollow noreferrer\">reference docs</a>:</p>\n<blockquote>\n<p>[...] the adapter also has an UPDATE statement that marks the records as processed so that they do not show up in the next poll.</p>\n</blockquote>\n<p>There is also a snippet showing how to use it:</p>\n<pre><code>&lt;int-jdbc:inbound-channel-adapter query=&quot;select * from item where status=2&quot;\n    channel=&quot;target&quot; data-source=&quot;dataSource&quot;\n    update=&quot;update item set status=10 where id in (:id)&quot; /&gt;\n</code></pre>\n"}],"owner":{"account_id":18353105,"reputation":1233,"user_id":13366838,"display_name":"Krishan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75386348,"answer_count":1,"score":0,"last_activity_date":1675862091,"creation_date":1675857051,"question_id":75385400,"body_markdown":"I have written jdbc inbound adapter as below\r\n\r\n    int-jdbc:inbound-channel-adapter id=&quot;jdbcInbound&quot;\r\n                                          channel=&quot;channel&quot;\r\n                                          data-source=&quot;dataSource&quot;\r\n                                          query=&quot;SELECT * FROM Trade&quot;\r\n                                          row-mapper=&quot;TradeRowMapper&quot;\r\n                                          max-rows-per-poll=&quot;100&quot;&gt;\r\n            &lt;int:poller fixed-delay=&quot;60000&quot; time-unit=&quot;SECONDS&quot;/&gt;\r\n        &lt;/int-jdbc:inbound-channel-adapter&gt;\r\n\r\nThis works fine.\r\nBut if new records are added to the Trade table say throughout the day, new records are not picked up. What changes do I need to make for it poll new data as well. This adapter is going to keep running for 5 business days monday-friday - and it should read all new records as well.","title":"How to make Spring Integrations jdbc inbound channel adapter to poll new data?","body":"<p>I have written jdbc inbound adapter as below</p>\n<pre><code>int-jdbc:inbound-channel-adapter id=&quot;jdbcInbound&quot;\n                                      channel=&quot;channel&quot;\n                                      data-source=&quot;dataSource&quot;\n                                      query=&quot;SELECT * FROM Trade&quot;\n                                      row-mapper=&quot;TradeRowMapper&quot;\n                                      max-rows-per-poll=&quot;100&quot;&gt;\n        &lt;int:poller fixed-delay=&quot;60000&quot; time-unit=&quot;SECONDS&quot;/&gt;\n    &lt;/int-jdbc:inbound-channel-adapter&gt;\n</code></pre>\n<p>This works fine.\nBut if new records are added to the Trade table say throughout the day, new records are not picked up. What changes do I need to make for it poll new data as well. This adapter is going to keep running for 5 business days monday-friday - and it should read all new records as well.</p>\n"},{"tags":["java","java-8","java-stream","short-circuiting"],"comments":[{"owner":{"account_id":5268074,"reputation":17816,"user_id":4207306,"display_name":"Eklavya"},"score":2,"creation_date":1595598420,"post_id":63074620,"comment_id":111538867,"body_markdown":"No, map operation lazy and go one by one in pipeline","body":"No, map operation lazy and go one by one in pipeline"},{"owner":{"account_id":1820811,"reputation":6166,"user_id":1654930,"accept_rate":71,"display_name":"Phate"},"score":0,"creation_date":1595598801,"post_id":63074620,"comment_id":111539076,"body_markdown":"So it works: it will stop to the first mapping if the prop is not null?","body":"So it works: it will stop to the first mapping if the prop is not null?"},{"owner":{"account_id":5268074,"reputation":17816,"user_id":4207306,"display_name":"Eklavya"},"score":0,"creation_date":1595599113,"post_id":63074620,"comment_id":111539251,"body_markdown":"Yes, see the details in  @Nikolas answer","body":"Yes, see the details in  @Nikolas answer"},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":1,"creation_date":1595599270,"post_id":63074620,"comment_id":111539338,"body_markdown":"This is actually one of the core principles and advantages of streaming compared to other more traditional approaches. Most of the operations are &quot;lazy&quot; and only build up an operation pipeline. The elements are send through the pipeline one by one as soon as you have a terminal operation and not before.","body":"This is actually one of the core principles and advantages of streaming compared to other more traditional approaches. Most of the operations are &quot;lazy&quot; and only build up an operation pipeline. The elements are send through the pipeline one by one as soon as you have a terminal operation and not before."}],"answers":[{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1675861633,"creation_date":1595598945,"answer_id":63075067,"question_id":63074620,"body_markdown":"[`Stream::findAny`][1] is a [short-circuiting terminal operation][2], which in a nutshell means that if an item is present, it terminates the Stream.\r\n\r\nIe. if the first element is qualified for the `Stream::filter` pipe and passes it through, the `Stream::findAny` returns it immediately without processing further elements in the original collection.\r\n\r\nThere is a nice proof using `Stream::peek` to understand how Stream API works (let&#39;s say a class `Foo` has only one final String parameter `prop`):\r\n\r\n```\r\nList&lt;Foo&gt; list = List.of(\r\n   new Foo(&quot;&quot;),            // the first is empty and doesn&#39;t pass through Stream::filter\r\n   new Foo(&quot;one&quot;),         // this is qualified\r\n   new Foo(&quot;two&quot;));        // this is qualified\r\n\r\nlist.stream()\r\n    .peek(item -&gt; System.out.println(&quot;# Streamed    &quot; + item.getProp())) // streamed\r\n    .map(a -&gt; StringUtils.trimToEmpty(a.getProp()))\r\n    .peek(item -&gt; System.out.println(&quot;#  Mapped     &quot; + item))           // mapped\r\n    .filter(StringUtils::isNotEmpty)\r\n    .peek(item -&gt; System.out.println(&quot;#   Filtered  &quot; + item))           // filtered\r\n    .findAny()\r\n    .orElse(&quot;&quot;);\r\n```\r\nThe output shows the first element doesn&#39;t pass through `Stream::filter` (is empty) and ended before `Stream::map`. The second element passed through `Stream::filter` and the subsequent `Stream::map` and reached finally `Stream::findAny`. As long as `Stream::findAny` is a short-circuiting and terminal operation with a present result, it terminates the Stream.\r\n```\r\n# Streamed    \r\n#  Mapped     \r\n# Streamed    one\r\n#  Mapped     one\r\n#   Filtered  one\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#findAny--\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#StreamOps","title":"Is map applied on all the list before filter findAny?","body":"<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#findAny--\" rel=\"nofollow noreferrer\"><code>Stream::findAny</code></a> is a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#StreamOps\" rel=\"nofollow noreferrer\">short-circuiting terminal operation</a>, which in a nutshell means that if an item is present, it terminates the Stream.</p>\n<p>Ie. if the first element is qualified for the <code>Stream::filter</code> pipe and passes it through, the <code>Stream::findAny</code> returns it immediately without processing further elements in the original collection.</p>\n<p>There is a nice proof using <code>Stream::peek</code> to understand how Stream API works (let's say a class <code>Foo</code> has only one final String parameter <code>prop</code>):</p>\n<pre><code>List&lt;Foo&gt; list = List.of(\n   new Foo(&quot;&quot;),            // the first is empty and doesn't pass through Stream::filter\n   new Foo(&quot;one&quot;),         // this is qualified\n   new Foo(&quot;two&quot;));        // this is qualified\n\nlist.stream()\n    .peek(item -&gt; System.out.println(&quot;# Streamed    &quot; + item.getProp())) // streamed\n    .map(a -&gt; StringUtils.trimToEmpty(a.getProp()))\n    .peek(item -&gt; System.out.println(&quot;#  Mapped     &quot; + item))           // mapped\n    .filter(StringUtils::isNotEmpty)\n    .peek(item -&gt; System.out.println(&quot;#   Filtered  &quot; + item))           // filtered\n    .findAny()\n    .orElse(&quot;&quot;);\n</code></pre>\n<p>The output shows the first element doesn't pass through <code>Stream::filter</code> (is empty) and ended before <code>Stream::map</code>. The second element passed through <code>Stream::filter</code> and the subsequent <code>Stream::map</code> and reached finally <code>Stream::findAny</code>. As long as <code>Stream::findAny</code> is a short-circuiting and terminal operation with a present result, it terminates the Stream.</p>\n<pre><code># Streamed    \n#  Mapped     \n# Streamed    one\n#  Mapped     one\n#   Filtered  one\n</code></pre>\n"}],"owner":{"account_id":1820811,"reputation":6166,"user_id":1654930,"accept_rate":71,"display_name":"Phate"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1030,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":63075067,"answer_count":1,"score":2,"last_activity_date":1675861633,"creation_date":1595597552,"question_id":63074620,"body_markdown":"I want to filter a list for elements having a non null property and returning that property:\r\n\r\n    list.stream.map(a -&gt; StringUtils.trimToEmpty(a.getProp())).filter( p -&gt; StringUtils.isNotEmpty(p)).findAny().orElse(&quot;&quot;);\r\n\r\nDo the code above first map all the elements? For efficiency reasons I&#39;d like to process element by element.\r\n","title":"Is map applied on all the list before filter findAny?","body":"<p>I want to filter a list for elements having a non null property and returning that property:</p>\n<pre><code>list.stream.map(a -&gt; StringUtils.trimToEmpty(a.getProp())).filter( p -&gt; StringUtils.isNotEmpty(p)).findAny().orElse(&quot;&quot;);\n</code></pre>\n<p>Do the code above first map all the elements? For efficiency reasons I'd like to process element by element.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":227164,"reputation":19782,"user_id":488657,"display_name":"Bart"},"score":1,"creation_date":1304552797,"post_id":5891084,"comment_id":6777608,"body_markdown":"Perhaps this might help you a little (have never tried this myself): http://blogs.captechconsulting.com/blog/david-tiller/accessing-the-dusty-corners-dns-java","body":"Perhaps this might help you a little (have never tried this myself): <a href=\"http://blogs.captechconsulting.com/blog/david-tiller/accessing-the-dusty-corners-dns-java\" rel=\"nofollow noreferrer\">blogs.captechconsulting.com/blog/david-tiller/&hellip;</a>"},{"owner":{"account_id":747682,"reputation":163,"user_id":727786,"accept_rate":20,"display_name":"stumped"},"score":0,"creation_date":1304553086,"post_id":5891084,"comment_id":6777663,"body_markdown":"I just edited my question. I guess i was really looking for the domain name.","body":"I just edited my question. I guess i was really looking for the domain name."}],"answers":[{"tags":[],"owner":{"account_id":6055,"reputation":14786,"user_id":10026,"accept_rate":68,"display_name":"ykaganovich"},"comment_count":0,"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1304556448,"creation_date":1304556448,"answer_id":5891489,"question_id":5891084,"body_markdown":"Do you really need the domain name, or is IP address sufficient? If latter, try using `InetAddress.getLocalHost().getHostAddress()`","title":"Obtaining domain name using Java","body":"<p>Do you really need the domain name, or is IP address sufficient? If latter, try using <code>InetAddress.getLocalHost().getHostAddress()</code></p>\n"},{"tags":[],"owner":{"account_id":357454,"reputation":77335,"user_id":697630,"accept_rate":84,"display_name":"Edwin Dalorzo"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1566507961,"creation_date":1304557824,"answer_id":5891620,"question_id":5891084,"body_markdown":"I guess you can try `InetAddress.getCanonicalHostName()` or `InetAddress.getName()` methods. Assuming there is a proper name service running on your net these two should do the trick. \r\n\r\nThe JavaDocs for [getCanonicalHostName()][1] says\r\n\r\n&gt; Gets the fully qualified domain name\r\n&gt; for this IP address. Best effort\r\n&gt; method, meaning we may not be able to\r\n&gt; return the FQDN depending on the\r\n&gt; underlying system configuration.\r\n\r\n\r\nSo if you want to get your local FQDN, you can typically call: `InetAddress.getLocalHost().getCanonicalHostName()`\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/net/InetAddress.html#getCanonicalHostName()","title":"Obtaining domain name using Java","body":"<p>I guess you can try <code>InetAddress.getCanonicalHostName()</code> or <code>InetAddress.getName()</code> methods. Assuming there is a proper name service running on your net these two should do the trick. </p>\n\n<p>The JavaDocs for <a href=\"https://docs.oracle.com/javase/7/docs/api/java/net/InetAddress.html#getCanonicalHostName()\" rel=\"nofollow noreferrer\">getCanonicalHostName()</a> says</p>\n\n<blockquote>\n  <p>Gets the fully qualified domain name\n  for this IP address. Best effort\n  method, meaning we may not be able to\n  return the FQDN depending on the\n  underlying system configuration.</p>\n</blockquote>\n\n<p>So if you want to get your local FQDN, you can typically call: <code>InetAddress.getLocalHost().getCanonicalHostName()</code></p>\n"},{"tags":[],"owner":{"account_id":5738635,"reputation":157,"user_id":4531957,"display_name":"Tom"},"comment_count":0,"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1426755447,"creation_date":1426755447,"answer_id":29140371,"question_id":5891084,"body_markdown":"I had the same problem today and found this very easy solution:\r\n\r\n      System.getenv(&quot;userdomain&quot;);","title":"Obtaining domain name using Java","body":"<p>I had the same problem today and found this very easy solution:</p>\n\n<pre><code>  System.getenv(\"userdomain\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2590428,"reputation":8125,"user_id":2245264,"accept_rate":56,"display_name":"biniam"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1516983108,"creation_date":1455704794,"answer_id":35453995,"question_id":5891084,"body_markdown":"**getCanonicalHostName** gives you the fully qualified domain name. I have tried using `InetAddress.getLocalHost().getHostname()` but it just gets the `hostname` value you see in command line which may or may not contain the fully qualified name.\r\n\r\nTo check if the fully qualified domain name is set using command line (in linux), use `hostname --fqdn`.\r\n\r\n**[getCanonicalHostName][1]**  \r\n\r\n&gt; public String getCanonicalHostName() Gets the fully qualified domain\r\n&gt; name for this IP address. Best effort method, meaning we may not be\r\n&gt; able to return the FQDN depending on the underlying system\r\n&gt; configuration.\r\n\r\n    /** Main.java */\r\n    import java.net.InetAddress;  \r\n\r\n    public class Main {\r\n\r\n      public static void main(String[] argv) throws Exception {\r\n\r\n        byte[] ipAddress = new byte[] {(byte)127, (byte)0, (byte)0, (byte)1 };\r\n        InetAddress address = InetAddress.getByAddress(ipAddress);\r\n        String hostnameCanonical = address.getCanonicalHostName();\r\n        System.out.println(hostnameCanonical);\r\n      }\r\n    }\r\n\r\nExample is taken from:\r\nhttp://www.java2s.com/Tutorials/Java/java.net/InetAddress/Java_InetAddress_getCanonicalHostName_.htm\r\n\r\n  [1]: http://download.java.net/jdk7/archive/b123/docs/api/java/net/InetAddress.html#getCanonicalHostName()","title":"Obtaining domain name using Java","body":"<p><strong>getCanonicalHostName</strong> gives you the fully qualified domain name. I have tried using <code>InetAddress.getLocalHost().getHostname()</code> but it just gets the <code>hostname</code> value you see in command line which may or may not contain the fully qualified name.</p>\n\n<p>To check if the fully qualified domain name is set using command line (in linux), use <code>hostname --fqdn</code>.</p>\n\n<p><strong><a href=\"http://download.java.net/jdk7/archive/b123/docs/api/java/net/InetAddress.html#getCanonicalHostName()\" rel=\"nofollow noreferrer\">getCanonicalHostName</a></strong>  </p>\n\n<blockquote>\n  <p>public String getCanonicalHostName() Gets the fully qualified domain\n  name for this IP address. Best effort method, meaning we may not be\n  able to return the FQDN depending on the underlying system\n  configuration.</p>\n</blockquote>\n\n<pre><code>/** Main.java */\nimport java.net.InetAddress;  \n\npublic class Main {\n\n  public static void main(String[] argv) throws Exception {\n\n    byte[] ipAddress = new byte[] {(byte)127, (byte)0, (byte)0, (byte)1 };\n    InetAddress address = InetAddress.getByAddress(ipAddress);\n    String hostnameCanonical = address.getCanonicalHostName();\n    System.out.println(hostnameCanonical);\n  }\n}\n</code></pre>\n\n<p>Example is taken from:\n<a href=\"http://www.java2s.com/Tutorials/Java/java.net/InetAddress/Java_InetAddress_getCanonicalHostName_.htm\" rel=\"nofollow noreferrer\">http://www.java2s.com/Tutorials/Java/java.net/InetAddress/Java_InetAddress_getCanonicalHostName_.htm</a></p>\n"},{"tags":[],"owner":{"account_id":8957892,"reputation":416,"user_id":6681584,"display_name":"Darsan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675861451,"creation_date":1675861451,"answer_id":75386228,"question_id":5891084,"body_markdown":"Best way to get a domain from a given uri in java , below\r\n\r\n    java.net.URI uri = new URI(url);\r\n    String host = uri.getHost();\r\n    InternetDomainName internetDomainName = InternetDomainName.from(host);\r\n    String domainName = internetDomainName.topPrivateDomain().toString();","title":"Obtaining domain name using Java","body":"<p>Best way to get a domain from a given uri in java , below</p>\n<pre><code>java.net.URI uri = new URI(url);\nString host = uri.getHost();\nInternetDomainName internetDomainName = InternetDomainName.from(host);\nString domainName = internetDomainName.topPrivateDomain().toString();\n</code></pre>\n"}],"owner":{"account_id":747682,"reputation":163,"user_id":727786,"accept_rate":20,"display_name":"stumped"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42160,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":5,"score":14,"last_activity_date":1675861451,"creation_date":1304552283,"question_id":5891084,"body_markdown":"How do I obtain the domain name of the machine I am running on using Java?  \r\nFor eg, my machine is a server whose domain name could be `ec2-44-555-66-777.compute-1.amazonaws.com`\r\n\r\nI tried `InetAddress.getLocalHost().getHostName()` but that doesn&#39;t give me the name above. That gives me the hostname which looks similar to `ip-0A11B222`","title":"Obtaining domain name using Java","body":"<p>How do I obtain the domain name of the machine I am running on using Java?<br>\nFor eg, my machine is a server whose domain name could be <code>ec2-44-555-66-777.compute-1.amazonaws.com</code></p>\n\n<p>I tried <code>InetAddress.getLocalHost().getHostName()</code> but that doesn't give me the name above. That gives me the hostname which looks similar to <code>ip-0A11B222</code></p>\n"},{"tags":["java","thymeleaf","openhtmltopdf"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1657886175,"post_id":72993427,"comment_id":128921939,"body_markdown":"You need to edit your question and add the full stack trace of the exception","body":"You need to edit your question and add the full stack trace of the exception"},{"owner":{"account_id":17482847,"reputation":61,"user_id":12676500,"display_name":"Gauthier "},"score":0,"creation_date":1657886455,"post_id":72993427,"comment_id":128922053,"body_markdown":"yep sorry forgot to add exception message thanks","body":"yep sorry forgot to add exception message thanks"},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1657891007,"post_id":72993427,"comment_id":128923796,"body_markdown":"The problem is probably hidden in `PdfGenerator.generatePdf`. I can take your enum and your Thymeleaf template and I can generate a PDF successfully using your data and my own `PdfRendererBuilder`. First I generate the rendered HTML as a string (using Thymeleaf&#39;s `TemplateEngine`) and then I use the PDF generator. Bottom line: Your enum and Thymeleaf are correct (except for the fact that you cannot actually put a `href` attribute inside a `li` element - the `href` will have no effect).","body":"The problem is probably hidden in <code>PdfGenerator.generatePdf</code>. I can take your enum and your Thymeleaf template and I can generate a PDF successfully using your data and my own <code>PdfRendererBuilder</code>. First I generate the rendered HTML as a string (using Thymeleaf&#39;s <code>TemplateEngine</code>) and then I use the PDF generator. Bottom line: Your enum and Thymeleaf are correct (except for the fact that you cannot actually put a <code>href</code> attribute inside a <code>li</code> element - the <code>href</code> will have no effect)."}],"answers":[{"tags":[],"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657893346,"creation_date":1657891517,"answer_id":72994742,"question_id":72993427,"body_markdown":"Here is my code, as mentioned in my comment in the question:\r\n\r\nFor reference, here is the comment:\r\n\r\n&gt; The problem is probably hidden in PdfGenerator.generatePdf. I can take your enum and your Thymeleaf template and I can generate a PDF successfully using your data and my own PdfRendererBuilder. First I generate the rendered HTML as a string (using Thymeleaf&#39;s TemplateEngine) and then I use the PDF generator. Bottom line: Your enum and Thymeleaf are correct (except for the fact that you cannot actually put a `href` attribute inside a `li` element - the `href` will have no effect).\r\n\r\nHere is the Thymeleaf renderer code and PDF generator code:\r\n\r\n```java\r\n// imports include:\r\n// import org.thymeleaf.TemplateEngine;\r\n// import org.thymeleaf.context.Context;\r\n\r\nmodel.put(&quot;summary&quot;, summary);\r\n\r\nTemplateEngine templateEngine = ThymeleafConfig.templateEngine();\r\nContext thymeleafCtx = new Context();\r\nthymeleafCtx.setVariable(&quot;summary&quot;, summary);\r\nString html = templateEngine.process(&quot;enum_to_pdf.html&quot;, thymeleafCtx);\r\n        \r\ntry (OutputStream os = new FileOutputStream(&quot;C:/temp/out.pdf&quot;)) {\r\n    PdfRendererBuilder builder = new PdfRendererBuilder();\r\n    builder.useFastMode();\r\n    builder.withHtmlContent(html, null);\r\n    builder.toStream(os);\r\n    builder.run();\r\n}\r\n```\r\n\r\nThe `ThymeleafConfig.templateEngine()` is a static helper method I use:\r\n\r\n```java\r\npublic static TemplateEngine templateEngine() {\r\n    TemplateEngine templateEngine = new TemplateEngine();\r\n    //templateEngine.addDialect(new Java8TimeDialect());\r\n    templateEngine.addTemplateResolver(htmlTemplateResolver());\r\n    return templateEngine;\r\n}\r\n```\r\n\r\nThis, in turn, uses the following (you may want to place your template somewhere else with a different resolver):\r\n\r\n```java\r\npublic static ITemplateResolver htmlTemplateResolver() {\r\n    ClassLoaderTemplateResolver templateResolver\r\n            = new ClassLoaderTemplateResolver(Thread\r\n                    .currentThread().getContextClassLoader());\r\n    templateResolver.setTemplateMode(TemplateMode.HTML);\r\n    templateResolver.setPrefix(&quot;/thymeleaf/&quot;);\r\n    templateResolver.setSuffix(&quot;.html&quot;);\r\n    templateResolver.setCharacterEncoding(&quot;UTF-8&quot;);\r\n    return templateResolver;\r\n}\r\n```\r\n\r\nMy full Thymeleaf template:\r\n\r\n```html\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n    &lt;head&gt;\r\n    &lt;/head&gt;\r\n\r\n    &lt;body&gt;\r\n\r\n        &lt;th:block th:each=&quot;item : ${summary}&quot;&gt;\r\n            &lt;li href=&quot;&#39;#&#39; + ${item.anchor}&quot;&gt;\r\n                &lt;div th:text=${item.title}&gt;&lt;/div&gt;\r\n            &lt;/li&gt;\r\n        &lt;/th:block&gt;\r\n\r\n    &lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nThe end result:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TwIO3.png","title":"OGNL Exception using Thymeleaf","body":"<p>Here is my code, as mentioned in my comment in the question:</p>\n<p>For reference, here is the comment:</p>\n<blockquote>\n<p>The problem is probably hidden in PdfGenerator.generatePdf. I can take your enum and your Thymeleaf template and I can generate a PDF successfully using your data and my own PdfRendererBuilder. First I generate the rendered HTML as a string (using Thymeleaf's TemplateEngine) and then I use the PDF generator. Bottom line: Your enum and Thymeleaf are correct (except for the fact that you cannot actually put a <code>href</code> attribute inside a <code>li</code> element - the <code>href</code> will have no effect).</p>\n</blockquote>\n<p>Here is the Thymeleaf renderer code and PDF generator code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// imports include:\n// import org.thymeleaf.TemplateEngine;\n// import org.thymeleaf.context.Context;\n\nmodel.put(&quot;summary&quot;, summary);\n\nTemplateEngine templateEngine = ThymeleafConfig.templateEngine();\nContext thymeleafCtx = new Context();\nthymeleafCtx.setVariable(&quot;summary&quot;, summary);\nString html = templateEngine.process(&quot;enum_to_pdf.html&quot;, thymeleafCtx);\n        \ntry (OutputStream os = new FileOutputStream(&quot;C:/temp/out.pdf&quot;)) {\n    PdfRendererBuilder builder = new PdfRendererBuilder();\n    builder.useFastMode();\n    builder.withHtmlContent(html, null);\n    builder.toStream(os);\n    builder.run();\n}\n</code></pre>\n<p>The <code>ThymeleafConfig.templateEngine()</code> is a static helper method I use:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static TemplateEngine templateEngine() {\n    TemplateEngine templateEngine = new TemplateEngine();\n    //templateEngine.addDialect(new Java8TimeDialect());\n    templateEngine.addTemplateResolver(htmlTemplateResolver());\n    return templateEngine;\n}\n</code></pre>\n<p>This, in turn, uses the following (you may want to place your template somewhere else with a different resolver):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static ITemplateResolver htmlTemplateResolver() {\n    ClassLoaderTemplateResolver templateResolver\n            = new ClassLoaderTemplateResolver(Thread\n                    .currentThread().getContextClassLoader());\n    templateResolver.setTemplateMode(TemplateMode.HTML);\n    templateResolver.setPrefix(&quot;/thymeleaf/&quot;);\n    templateResolver.setSuffix(&quot;.html&quot;);\n    templateResolver.setCharacterEncoding(&quot;UTF-8&quot;);\n    return templateResolver;\n}\n</code></pre>\n<p>My full Thymeleaf template:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n    &lt;head&gt;\n    &lt;/head&gt;\n\n    &lt;body&gt;\n\n        &lt;th:block th:each=&quot;item : ${summary}&quot;&gt;\n            &lt;li href=&quot;'#' + ${item.anchor}&quot;&gt;\n                &lt;div th:text=${item.title}&gt;&lt;/div&gt;\n            &lt;/li&gt;\n        &lt;/th:block&gt;\n\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>The end result:</p>\n<p><a href=\"https://i.stack.imgur.com/TwIO3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TwIO3.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":17482847,"reputation":61,"user_id":12676500,"display_name":"Gauthier "},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675861421,"creation_date":1675861421,"answer_id":75386221,"question_id":72993427,"body_markdown":"You can&#39;t use Struts AND Thymeleaf, beacause they both use OGNL.\r\n\r\nYou have to create an other service to use Thymeleaf","title":"OGNL Exception using Thymeleaf","body":"<p>You can't use Struts AND Thymeleaf, beacause they both use OGNL.</p>\n<p>You have to create an other service to use Thymeleaf</p>\n"}],"owner":{"account_id":17482847,"reputation":61,"user_id":12676500,"display_name":"Gauthier "},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":934,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75386221,"answer_count":2,"score":2,"last_activity_date":1675861421,"creation_date":1657885278,"question_id":72993427,"body_markdown":"I&#39;m trying to use a list of enum in thymeleaf and i&#39;m facing a OGNL Exception problem each time i attempt to get attribute of the enum\r\nUsing basic loop like this\r\n```html\r\n&lt;th:block th:each=&quot;item : ${summary}&quot;&gt;\r\n\t\t\t\t&lt;li href=&quot;&#39;#&#39; + ${item.anchor}&quot;&gt;\r\n\t\t\t\t\t&lt;div th:text=${item.title}&gt;&lt;/div&gt;\r\n\t\t\t\t&lt;/li&gt;\r\n\t\t\t&lt;/th:block&gt;\r\n```\r\n\r\nSummary is a list of enum, my enum looks like this\r\n\r\n```java\r\npublic enum FollowupPdfSummaryEnum {\r\n   COVER(&quot;coverAnchor&quot;, &quot;templates/firstPageInclude.html&quot;, &quot;Couverture&quot;, FollowupBlocEnum.COVER_PAGE),\r\n   SUMMARY(&quot;summaryAnchor&quot;, &quot;templates/summaryInclude.html&quot;, &quot;Sommaire&quot;),\r\n   SITUATION_PLAN(&quot;situationPlanAnchor&quot;, &quot;templates/situationPlanInclude.html&quot;, &quot;Plan de situation&quot;, FollowupBlocEnum.SITUATION_PLAN),\r\n   BUILDING_VISUAL(&quot;buildingVisualAnchor&quot;, &quot;templates/visualInclude.html&quot;, &quot;Visuels&quot;, FollowupBlocEnum.BUILDING_VISUAL),\r\n   HEALTH_BOOK(&quot;healthBookAnchor&quot;, &quot;templates/healthBookBatInclude.html&quot;, &quot;Carnet de sant&#233;&quot;, FollowupBlocEnum.HEALTH_BOOK),\r\n   IDENTITY_CARD(&quot;identityCardAnchor&quot;, &quot;templates/identityCardInclude.html&quot;, &quot;Fiche d&#39;identit&#233;&quot;, FollowupBlocEnum.IDENTITY_CARD),\r\n   COUNTER_SITUATION_PLAN(&quot;counterSituationAnchor&quot;, &quot;templates/counterSituationPlanInclude.html&quot;, &quot;Plan des compteurs&quot;, FollowupBlocEnum.COUNTER_SITUATION_PLAN),\r\n   DANGEROUS_MATERIAL(&quot;dangerousMaterialAnchor&quot;, &quot;templates/dangerousMaterialInclude.html&quot;, &quot;Diagnostic Mati&#232;res Dangereuses&quot;, FollowupBlocEnum.DANGEROUS_MATERIAL_DIAGNOSIS),\r\n   RECAP_WORK_TODO(&quot;workDoneAnchor&quot;, &quot;templates/workTodoListInclude.html&quot;, &quot;R&#233;capitulatif des travaux &#224; r&#233;aliser&quot;, FollowupBlocEnum.WORK_DONE_REPORT),\r\n   VISIT_REPORT(&quot;visitReportAnchor&quot;, &quot;templates/visitReportInclude.html&quot;, &quot;Rapport de visite&quot;, FollowupBlocEnum.VISIT_REPORT),\r\n   VISIT_REPORT_OCCUPATION(&quot;visitReportOccupationAnchor&quot;, &quot;templates/occupationVisitReportInclude.html&quot;, &quot;Rapport de visite : Occupations&quot;, FollowupBlocEnum.OCCUPATION_VISIT_REPORT),\r\n   ANNEXE(&quot;annexeAnchor&quot;, &quot;templates/annexeInclude.html&quot;, &quot;Annexes&quot;);\r\n   \r\n   private final String anchor;\r\n   private final String path;\r\n   private final String title;\r\n   private final FollowupBlocEnum block;\r\n   \r\n   private FollowupPdfSummaryEnum(String anchor, String path, String title, FollowupBlocEnum block) {\r\n      this.anchor = anchor;\r\n      this.path = path;\r\n      this.title = title;\r\n      this.block = block;\r\n   }\r\n   private FollowupPdfSummaryEnum(String anchor, String path, String title) {\r\n      this.anchor = anchor;\r\n      this.path = path;\r\n      this.title = title;\r\n      this.block = null;\r\n   }\r\n\r\n   public String getPath() {\r\n      return path;\r\n   }\r\n   public String getTitle() {\r\n      return title;\r\n   }\r\n   public FollowupBlocEnum getBlock() {\r\n      return block;\r\n   }\r\n   public String getAnchor() {\r\n      return anchor;\r\n   }\r\n}\r\n```\r\nhere&#39;s the stack trace\r\n```\r\n2022-07-15 13:58:22,359 ERROR [http-bio-8080-exec-15] [org.thymeleaf.TemplateEngine : 1136] - [THYMELEAF][http-bio-8080-exec-15] Exception processing template &quot;followUpExport.html&quot;: Exception evaluating OGNL expression: &quot;item.title&quot; (template: &quot;templates/summaryInclude.html&quot; - line 26, col 11)\r\norg.thymeleaf.exceptions.TemplateProcessingException: Exception evaluating OGNL expression: &quot;item.title&quot; (template: &quot;templates/summaryInclude.html&quot; - line 26, col 11)\r\n\tat org.thymeleaf.standard.expression.OGNLVariableExpressionEvaluator.evaluate(OGNLVariableExpressionEvaluator.java:201)\r\n\tat org.thymeleaf.standard.expression.OGNLVariableExpressionEvaluator.evaluate(OGNLVariableExpressionEvaluator.java:105)\r\n\tat org.thymeleaf.standard.expression.VariableExpression.executeVariableExpression(VariableExpression.java:166)\r\n\tat org.thymeleaf.standard.expression.SimpleExpression.executeSimple(SimpleExpression.java:66)\r\n\tat org.thymeleaf.standard.expression.Expression.execute(Expression.java:109)\r\n\tat org.thymeleaf.standard.expression.Expression.execute(Expression.java:138)\r\n\tat org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:144)\r\n\tat org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)\r\n\tat org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)\r\n\tat org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)\r\n\tat org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314)\r\n\tat org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205)\r\n\tat org.thymeleaf.engine.Model.process(Model.java:282)\r\n\tat org.thymeleaf.engine.Model.process(Model.java:290)\r\n\tat org.thymeleaf.engine.IteratedGatheringModelProcessable.processIterationModel(IteratedGatheringModelProcessable.java:367)\r\n\tat org.thymeleaf.engine.IteratedGatheringModelProcessable.process(IteratedGatheringModelProcessable.java:221)\r\n\tat org.thymeleaf.engine.ProcessorTemplateHandler.handleCloseElement(ProcessorTemplateHandler.java:1640)\r\n\tat org.thymeleaf.engine.CloseElementTag.beHandled(CloseElementTag.java:139)\r\n\tat org.thymeleaf.engine.Model.process(Model.java:282)\r\n\tat org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1587)\r\n\tat org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205)\r\n\tat org.thymeleaf.engine.TemplateModel.process(TemplateModel.java:136)\r\n\tat org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:661)\r\n\tat org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098)\r\n\tat org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1059)\r\n\tat org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1048)\r\n\tat fr.bluepad.site.back.util.pdf.PdfGenerator.parseHtmlThymeLeafToString(PdfGenerator.java:50)\r\n\tat fr.bluepad.site.back.util.pdf.PdfGenerator.generatePdf(PdfGenerator.java:28)\r\n\tat fr.bluepad.site.back.service.followup.impl.FollowupCreationPdfServiceImpl.generateFollowupBatPdf(FollowupCreationPdfServiceImpl.java:143)\r\n\tat fr.bluepad.site.back.service.followup.impl.FollowupCreationPdfServiceImpl.generateFollowupBatPdf(FollowupCreationPdfServiceImpl.java:49)\r\n\tat fr.bluepad.site.front.actions.clients.followup.FollowupAuditAction.downloadPreviewPdf(FollowupAuditAction.java:148)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:483)\r\n\tat ognl.OgnlRuntime.invokeMethod(OgnlRuntime.java:871)\r\n\tat ognl.OgnlRuntime.callAppropriateMethod(OgnlRuntime.java:1294)\r\n\tat ognl.ObjectMethodAccessor.callMethod(ObjectMethodAccessor.java:68)\r\n\tat com.opensymphony.xwork2.ognl.accessor.XWorkMethodAccessor.callMethodWithDebugInfo(XWorkMethodAccessor.java:117)\r\n\tat com.opensymphony.xwork2.ognl.accessor.XWorkMethodAccessor.callMethod(XWorkMethodAccessor.java:108)\r\n\tat ognl.OgnlRuntime.callMethod(OgnlRuntime.java:1370)\r\n\tat ognl.ASTMethod.getValueBody(ASTMethod.java:91)\r\n\tat ognl.SimpleNode.evaluateGetValueBody(SimpleNode.java:212)\r\n\tat ognl.SimpleNode.getValue(SimpleNode.java:258)\r\n\tat ognl.Ognl.getValue(Ognl.java:467)\r\n\tat ognl.Ognl.getValue(Ognl.java:431)\r\n\tat com.opensymphony.xwork2.ognl.OgnlUtil$3.execute(OgnlUtil.java:352)\r\n\tat com.opensymphony.xwork2.ognl.OgnlUtil.compileAndExecuteMethod(OgnlUtil.java:404)\r\n\tat com.opensymphony.xwork2.ognl.OgnlUtil.callMethod(OgnlUtil.java:350)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invokeAction(DefaultActionInvocation.java:430)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invokeActionOnly(DefaultActionInvocation.java:290)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:251)\r\n\tat org.apache.struts2.interceptor.DeprecationInterceptor.intercept(DeprecationInterceptor.java:41)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:245)\r\n\tat org.apache.struts2.interceptor.debugging.DebuggingInterceptor.intercept(DebuggingInterceptor.java:256)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:245)\r\n\tat com.opensymphony.xwork2.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:168)\r\n\tat com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:245)\r\n\tat com.opensymphony.xwork2.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:265)\r\n\tat org.apache.struts2.interceptor.validation.AnnotationValidationInterceptor.doIntercept(AnnotationValidationInterceptor.java:76)\r\n\tat com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:245)\r\n\tat com.opensymphony.xwork2.interceptor.ConversionErrorInterceptor.intercept(ConversionErrorInterceptor.java:138)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:245)\r\n\tat com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:229)\r\n\tat com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:245)\r\n\tat com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:229)\r\n\tat com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:245)\r\n\tat com.opensymphony.xwork2.interceptor.StaticParametersInterceptor.intercept(StaticParametersInterceptor.java:191)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:245)\r\n\tat org.apache.struts2.interceptor.MultiselectInterceptor.intercept(MultiselectInterceptor.java:73)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:245)\r\n\tat org.apache.struts2.interceptor.DateTextFieldInterceptor.intercept(DateTextFieldInterceptor.java:125)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:245)\r\n\tat org.apache.struts2.interceptor.CheckboxInterceptor.intercept(CheckboxInterceptor.java:91)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:245)\r\n\tat org.apache.struts2.interceptor.FileUploadInterceptor.intercept(FileUploadInterceptor.java:253)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:245)\r\n\tat com.opensymphony.xwork2.interceptor.ModelDrivenInterceptor.intercept(ModelDrivenInterceptor.java:100)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:245)\r\n\tat com.opensymphony.xwork2.interceptor.ScopedModelDrivenInterceptor.intercept(ScopedModelDrivenInterceptor.java:141)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:245)\r\n\tat com.opensymphony.xwork2.interceptor.ChainingInterceptor.intercept(ChainingInterceptor.java:145)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:245)\r\n\tat com.opensymphony.xwork2.interceptor.PrepareInterceptor.doIntercept(PrepareInterceptor.java:171)\r\n\tat com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:245)\r\n\tat com.opensymphony.xwork2.interceptor.I18nInterceptor.intercept(I18nInterceptor.java:140)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:245)\r\n\tat org.apache.struts2.interceptor.ServletConfigInterceptor.intercept(ServletConfigInterceptor.java:164)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:245)\r\n\tat com.opensymphony.xwork2.interceptor.AliasInterceptor.intercept(AliasInterceptor.java:193)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:245)\r\n\tat com.opensymphony.xwork2.interceptor.ExceptionMappingInterceptor.intercept(ExceptionMappingInterceptor.java:189)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:245)\r\n\tat org.apache.struts2.impl.StrutsActionProxy.execute(StrutsActionProxy.java:54)\r\n\tat org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:575)\r\n\tat org.apache.struts2.dispatcher.ng.ExecuteOperations.executeAction(ExecuteOperations.java:81)\r\n\tat org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter.doFilter(StrutsPrepareAndExecuteFilter.java:99)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:219)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:110)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:492)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:165)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:104)\r\n\tat org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:1025)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:452)\r\n\tat org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1195)\r\n\tat org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:654)\r\n\tat org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:319)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.lang.Thread.run(Thread.java:744)\r\nCaused by: org.thymeleaf.exceptions.TemplateProcessingException: Exception evaluating OGNL expression: &quot;item.title&quot;\r\n\tat org.thymeleaf.standard.expression.OGNLVariableExpressionEvaluator.evaluate(OGNLVariableExpressionEvaluator.java:201)\r\n\tat org.thymeleaf.standard.expression.OGNLVariableExpressionEvaluator.evaluate(OGNLVariableExpressionEvaluator.java:187)\r\n\t... 118 more\r\nCaused by: java.lang.UnsupportedOperationException\r\n\tat java.util.AbstractMap.put(AbstractMap.java:209)\r\n\tat ognl.OgnlContext.put(OgnlContext.java:579)\r\n\tat com.opensymphony.xwork2.ognl.accessor.ObjectAccessor.getProperty(ObjectAccessor.java:19)\r\n\tat ognl.OgnlRuntime.getProperty(OgnlRuntime.java:2417)\r\n\tat ognl.ASTProperty.getValueBody(ASTProperty.java:114)\r\n\tat ognl.SimpleNode.evaluateGetValueBody(SimpleNode.java:212)\r\n\tat ognl.SimpleNode.getValue(SimpleNode.java:258)\r\n\tat ognl.ASTChain.getValueBody(ASTChain.java:141)\r\n\tat ognl.SimpleNode.evaluateGetValueBody(SimpleNode.java:212)\r\n\tat ognl.SimpleNode.getValue(SimpleNode.java:258)\r\n\tat ognl.Ognl.getValue(Ognl.java:467)\r\n\tat ognl.Ognl.getValue(Ognl.java:431)\r\n\tat org.thymeleaf.standard.expression.OGNLVariableExpressionEvaluator.executeExpression(OGNLVariableExpressionEvaluator.java:336)\r\n\tat org.thymeleaf.standard.expression.OGNLVariableExpressionEvaluator.evaluate(OGNLVariableExpressionEvaluator.java:180)\r\n\t... 119 more\r\n```\r\n\r\ni populate my hashmap variables with the summary list this way\r\n\r\n```java\r\nprivate ByteArrayInputStream generateFollowupBatPdf(FollowupAuditStruct auditStruct) {\r\n      //generate pdf \r\n      String pathHtml = &quot;followUpExport.html&quot;;\r\n      String baseuri = &quot;/&quot;;\r\n      \r\n   // Summary\r\n      List&lt;FollowupPdfSummaryEnum&gt; summary = new ArrayList&lt;&gt;();\r\n      summary.add(FollowupPdfSummaryEnum.COVER);\r\n      summary.add(FollowupPdfSummaryEnum.SUMMARY);\r\n      summary.add(FollowupPdfSummaryEnum.SITUATION_PLAN);\r\n      summary.add(FollowupPdfSummaryEnum.BUILDING_VISUAL);\r\n      variables.put(&quot;summary&quot;, summary);\r\n\r\n      try (\r\n              ByteArrayOutputStream outputStream = (ByteArrayOutputStream) PdfGenerator.generatePdf(pathHtml, baseuri, variables);\r\n      ){\r\n         return new ByteArrayInputStream(outputStream.toByteArray());\r\n      } catch (IOException e) {\r\n          System.out.println(&quot;Error : &quot; + e);\r\n      }\r\n      return null;\r\n   }\r\n```\r\n\r\n\r\nI don&#39;t understand what is an OGNL Exception neither how to solve it","title":"OGNL Exception using Thymeleaf","body":"<p>I'm trying to use a list of enum in thymeleaf and i'm facing a OGNL Exception problem each time i attempt to get attribute of the enum\nUsing basic loop like this</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;th:block th:each=&quot;item : ${summary}&quot;&gt;\n                &lt;li href=&quot;'#' + ${item.anchor}&quot;&gt;\n                    &lt;div th:text=${item.title}&gt;&lt;/div&gt;\n                &lt;/li&gt;\n            &lt;/th:block&gt;\n</code></pre>\n<p>Summary is a list of enum, my enum looks like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>public enum FollowupPdfSummaryEnum {\n   COVER(&quot;coverAnchor&quot;, &quot;templates/firstPageInclude.html&quot;, &quot;Couverture&quot;, FollowupBlocEnum.COVER_PAGE),\n   SUMMARY(&quot;summaryAnchor&quot;, &quot;templates/summaryInclude.html&quot;, &quot;Sommaire&quot;),\n   SITUATION_PLAN(&quot;situationPlanAnchor&quot;, &quot;templates/situationPlanInclude.html&quot;, &quot;Plan de situation&quot;, FollowupBlocEnum.SITUATION_PLAN),\n   BUILDING_VISUAL(&quot;buildingVisualAnchor&quot;, &quot;templates/visualInclude.html&quot;, &quot;Visuels&quot;, FollowupBlocEnum.BUILDING_VISUAL),\n   HEALTH_BOOK(&quot;healthBookAnchor&quot;, &quot;templates/healthBookBatInclude.html&quot;, &quot;Carnet de santé&quot;, FollowupBlocEnum.HEALTH_BOOK),\n   IDENTITY_CARD(&quot;identityCardAnchor&quot;, &quot;templates/identityCardInclude.html&quot;, &quot;Fiche d'identité&quot;, FollowupBlocEnum.IDENTITY_CARD),\n   COUNTER_SITUATION_PLAN(&quot;counterSituationAnchor&quot;, &quot;templates/counterSituationPlanInclude.html&quot;, &quot;Plan des compteurs&quot;, FollowupBlocEnum.COUNTER_SITUATION_PLAN),\n   DANGEROUS_MATERIAL(&quot;dangerousMaterialAnchor&quot;, &quot;templates/dangerousMaterialInclude.html&quot;, &quot;Diagnostic Matières Dangereuses&quot;, FollowupBlocEnum.DANGEROUS_MATERIAL_DIAGNOSIS),\n   RECAP_WORK_TODO(&quot;workDoneAnchor&quot;, &quot;templates/workTodoListInclude.html&quot;, &quot;Récapitulatif des travaux à réaliser&quot;, FollowupBlocEnum.WORK_DONE_REPORT),\n   VISIT_REPORT(&quot;visitReportAnchor&quot;, &quot;templates/visitReportInclude.html&quot;, &quot;Rapport de visite&quot;, FollowupBlocEnum.VISIT_REPORT),\n   VISIT_REPORT_OCCUPATION(&quot;visitReportOccupationAnchor&quot;, &quot;templates/occupationVisitReportInclude.html&quot;, &quot;Rapport de visite : Occupations&quot;, FollowupBlocEnum.OCCUPATION_VISIT_REPORT),\n   ANNEXE(&quot;annexeAnchor&quot;, &quot;templates/annexeInclude.html&quot;, &quot;Annexes&quot;);\n   \n   private final String anchor;\n   private final String path;\n   private final String title;\n   private final FollowupBlocEnum block;\n   \n   private FollowupPdfSummaryEnum(String anchor, String path, String title, FollowupBlocEnum block) {\n      this.anchor = anchor;\n      this.path = path;\n      this.title = title;\n      this.block = block;\n   }\n   private FollowupPdfSummaryEnum(String anchor, String path, String title) {\n      this.anchor = anchor;\n      this.path = path;\n      this.title = title;\n      this.block = null;\n   }\n\n   public String getPath() {\n      return path;\n   }\n   public String getTitle() {\n      return title;\n   }\n   public FollowupBlocEnum getBlock() {\n      return block;\n   }\n   public String getAnchor() {\n      return anchor;\n   }\n}\n</code></pre>\n<p>here's the stack trace</p>\n<pre><code>2022-07-15 13:58:22,359 ERROR [http-bio-8080-exec-15] [org.thymeleaf.TemplateEngine : 1136] - [THYMELEAF][http-bio-8080-exec-15] Exception processing template &quot;followUpExport.html&quot;: Exception evaluating OGNL expression: &quot;item.title&quot; (template: &quot;templates/summaryInclude.html&quot; - line 26, col 11)\norg.thymeleaf.exceptions.TemplateProcessingException: Exception evaluating OGNL expression: &quot;item.title&quot; (template: &quot;templates/summaryInclude.html&quot; - line 26, col 11)\n    at org.thymeleaf.standard.expression.OGNLVariableExpressionEvaluator.evaluate(OGNLVariableExpressionEvaluator.java:201)\n    at org.thymeleaf.standard.expression.OGNLVariableExpressionEvaluator.evaluate(OGNLVariableExpressionEvaluator.java:105)\n    at org.thymeleaf.standard.expression.VariableExpression.executeVariableExpression(VariableExpression.java:166)\n    at org.thymeleaf.standard.expression.SimpleExpression.executeSimple(SimpleExpression.java:66)\n    at org.thymeleaf.standard.expression.Expression.execute(Expression.java:109)\n    at org.thymeleaf.standard.expression.Expression.execute(Expression.java:138)\n    at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:144)\n    at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)\n    at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)\n    at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)\n    at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314)\n    at org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205)\n    at org.thymeleaf.engine.Model.process(Model.java:282)\n    at org.thymeleaf.engine.Model.process(Model.java:290)\n    at org.thymeleaf.engine.IteratedGatheringModelProcessable.processIterationModel(IteratedGatheringModelProcessable.java:367)\n    at org.thymeleaf.engine.IteratedGatheringModelProcessable.process(IteratedGatheringModelProcessable.java:221)\n    at org.thymeleaf.engine.ProcessorTemplateHandler.handleCloseElement(ProcessorTemplateHandler.java:1640)\n    at org.thymeleaf.engine.CloseElementTag.beHandled(CloseElementTag.java:139)\n    at org.thymeleaf.engine.Model.process(Model.java:282)\n    at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1587)\n    at org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205)\n    at org.thymeleaf.engine.TemplateModel.process(TemplateModel.java:136)\n    at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:661)\n    at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098)\n    at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1059)\n    at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1048)\n    at fr.bluepad.site.back.util.pdf.PdfGenerator.parseHtmlThymeLeafToString(PdfGenerator.java:50)\n    at fr.bluepad.site.back.util.pdf.PdfGenerator.generatePdf(PdfGenerator.java:28)\n    at fr.bluepad.site.back.service.followup.impl.FollowupCreationPdfServiceImpl.generateFollowupBatPdf(FollowupCreationPdfServiceImpl.java:143)\n    at fr.bluepad.site.back.service.followup.impl.FollowupCreationPdfServiceImpl.generateFollowupBatPdf(FollowupCreationPdfServiceImpl.java:49)\n    at fr.bluepad.site.front.actions.clients.followup.FollowupAuditAction.downloadPreviewPdf(FollowupAuditAction.java:148)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:483)\n    at ognl.OgnlRuntime.invokeMethod(OgnlRuntime.java:871)\n    at ognl.OgnlRuntime.callAppropriateMethod(OgnlRuntime.java:1294)\n    at ognl.ObjectMethodAccessor.callMethod(ObjectMethodAccessor.java:68)\n    at com.opensymphony.xwork2.ognl.accessor.XWorkMethodAccessor.callMethodWithDebugInfo(XWorkMethodAccessor.java:117)\n    at com.opensymphony.xwork2.ognl.accessor.XWorkMethodAccessor.callMethod(XWorkMethodAccessor.java:108)\n    at ognl.OgnlRuntime.callMethod(OgnlRuntime.java:1370)\n    at ognl.ASTMethod.getValueBody(ASTMethod.java:91)\n    at ognl.SimpleNode.evaluateGetValueBody(SimpleNode.java:212)\n    at ognl.SimpleNode.getValue(SimpleNode.java:258)\n    at ognl.Ognl.getValue(Ognl.java:467)\n    at ognl.Ognl.getValue(Ognl.java:431)\n    at com.opensymphony.xwork2.ognl.OgnlUtil$3.execute(OgnlUtil.java:352)\n    at com.opensymphony.xwork2.ognl.OgnlUtil.compileAndExecuteMethod(OgnlUtil.java:404)\n    at com.opensymphony.xwork2.ognl.OgnlUtil.callMethod(OgnlUtil.java:350)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invokeAction(DefaultActionInvocation.java:430)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invokeActionOnly(DefaultActionInvocation.java:290)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:251)\n    at org.apache.struts2.interceptor.DeprecationInterceptor.intercept(DeprecationInterceptor.java:41)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:245)\n    at org.apache.struts2.interceptor.debugging.DebuggingInterceptor.intercept(DebuggingInterceptor.java:256)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:245)\n    at com.opensymphony.xwork2.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:168)\n    at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:245)\n    at com.opensymphony.xwork2.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:265)\n    at org.apache.struts2.interceptor.validation.AnnotationValidationInterceptor.doIntercept(AnnotationValidationInterceptor.java:76)\n    at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:245)\n    at com.opensymphony.xwork2.interceptor.ConversionErrorInterceptor.intercept(ConversionErrorInterceptor.java:138)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:245)\n    at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:229)\n    at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:245)\n    at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:229)\n    at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:245)\n    at com.opensymphony.xwork2.interceptor.StaticParametersInterceptor.intercept(StaticParametersInterceptor.java:191)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:245)\n    at org.apache.struts2.interceptor.MultiselectInterceptor.intercept(MultiselectInterceptor.java:73)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:245)\n    at org.apache.struts2.interceptor.DateTextFieldInterceptor.intercept(DateTextFieldInterceptor.java:125)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:245)\n    at org.apache.struts2.interceptor.CheckboxInterceptor.intercept(CheckboxInterceptor.java:91)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:245)\n    at org.apache.struts2.interceptor.FileUploadInterceptor.intercept(FileUploadInterceptor.java:253)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:245)\n    at com.opensymphony.xwork2.interceptor.ModelDrivenInterceptor.intercept(ModelDrivenInterceptor.java:100)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:245)\n    at com.opensymphony.xwork2.interceptor.ScopedModelDrivenInterceptor.intercept(ScopedModelDrivenInterceptor.java:141)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:245)\n    at com.opensymphony.xwork2.interceptor.ChainingInterceptor.intercept(ChainingInterceptor.java:145)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:245)\n    at com.opensymphony.xwork2.interceptor.PrepareInterceptor.doIntercept(PrepareInterceptor.java:171)\n    at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:245)\n    at com.opensymphony.xwork2.interceptor.I18nInterceptor.intercept(I18nInterceptor.java:140)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:245)\n    at org.apache.struts2.interceptor.ServletConfigInterceptor.intercept(ServletConfigInterceptor.java:164)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:245)\n    at com.opensymphony.xwork2.interceptor.AliasInterceptor.intercept(AliasInterceptor.java:193)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:245)\n    at com.opensymphony.xwork2.interceptor.ExceptionMappingInterceptor.intercept(ExceptionMappingInterceptor.java:189)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:245)\n    at org.apache.struts2.impl.StrutsActionProxy.execute(StrutsActionProxy.java:54)\n    at org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:575)\n    at org.apache.struts2.dispatcher.ng.ExecuteOperations.executeAction(ExecuteOperations.java:81)\n    at org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter.doFilter(StrutsPrepareAndExecuteFilter.java:99)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:219)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:110)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:492)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:165)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:104)\n    at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:1025)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:452)\n    at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1195)\n    at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:654)\n    at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:319)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.lang.Thread.run(Thread.java:744)\nCaused by: org.thymeleaf.exceptions.TemplateProcessingException: Exception evaluating OGNL expression: &quot;item.title&quot;\n    at org.thymeleaf.standard.expression.OGNLVariableExpressionEvaluator.evaluate(OGNLVariableExpressionEvaluator.java:201)\n    at org.thymeleaf.standard.expression.OGNLVariableExpressionEvaluator.evaluate(OGNLVariableExpressionEvaluator.java:187)\n    ... 118 more\nCaused by: java.lang.UnsupportedOperationException\n    at java.util.AbstractMap.put(AbstractMap.java:209)\n    at ognl.OgnlContext.put(OgnlContext.java:579)\n    at com.opensymphony.xwork2.ognl.accessor.ObjectAccessor.getProperty(ObjectAccessor.java:19)\n    at ognl.OgnlRuntime.getProperty(OgnlRuntime.java:2417)\n    at ognl.ASTProperty.getValueBody(ASTProperty.java:114)\n    at ognl.SimpleNode.evaluateGetValueBody(SimpleNode.java:212)\n    at ognl.SimpleNode.getValue(SimpleNode.java:258)\n    at ognl.ASTChain.getValueBody(ASTChain.java:141)\n    at ognl.SimpleNode.evaluateGetValueBody(SimpleNode.java:212)\n    at ognl.SimpleNode.getValue(SimpleNode.java:258)\n    at ognl.Ognl.getValue(Ognl.java:467)\n    at ognl.Ognl.getValue(Ognl.java:431)\n    at org.thymeleaf.standard.expression.OGNLVariableExpressionEvaluator.executeExpression(OGNLVariableExpressionEvaluator.java:336)\n    at org.thymeleaf.standard.expression.OGNLVariableExpressionEvaluator.evaluate(OGNLVariableExpressionEvaluator.java:180)\n    ... 119 more\n</code></pre>\n<p>i populate my hashmap variables with the summary list this way</p>\n<pre class=\"lang-java prettyprint-override\"><code>private ByteArrayInputStream generateFollowupBatPdf(FollowupAuditStruct auditStruct) {\n      //generate pdf \n      String pathHtml = &quot;followUpExport.html&quot;;\n      String baseuri = &quot;/&quot;;\n      \n   // Summary\n      List&lt;FollowupPdfSummaryEnum&gt; summary = new ArrayList&lt;&gt;();\n      summary.add(FollowupPdfSummaryEnum.COVER);\n      summary.add(FollowupPdfSummaryEnum.SUMMARY);\n      summary.add(FollowupPdfSummaryEnum.SITUATION_PLAN);\n      summary.add(FollowupPdfSummaryEnum.BUILDING_VISUAL);\n      variables.put(&quot;summary&quot;, summary);\n\n      try (\n              ByteArrayOutputStream outputStream = (ByteArrayOutputStream) PdfGenerator.generatePdf(pathHtml, baseuri, variables);\n      ){\n         return new ByteArrayInputStream(outputStream.toByteArray());\n      } catch (IOException e) {\n          System.out.println(&quot;Error : &quot; + e);\n      }\n      return null;\n   }\n</code></pre>\n<p>I don't understand what is an OGNL Exception neither how to solve it</p>\n"},{"tags":["java","arrays","button","onclick","switch-statement"],"owner":{"account_id":27734889,"reputation":1,"user_id":21172686,"display_name":"salama hai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675860677,"creation_date":1675860677,"question_id":75386070,"body_markdown":"I am trying to create a android application to check the user click. the user listen to the number to click for exemple if hear number zero he must click on button 0 if not a wrong message display.\r\n\r\nthis is my code java\r\n\r\n```\r\n private static final int[] idArray ={R.id.btn0,R.id.btn1,R.id.btn2,R.id.btn3,R.id.btn4,R.id.btn5,R.id.btn6,\r\n            R.id.btn7,R.id.btn8,R.id.btn9,R.id.btn10,R.id.btn11,R.id.btn12,R.id.btn13,R.id.btn14,R.id.btn15};\r\n\r\n    private Button[] button = new Button[idArray.length];\r\n   \r\n    MediaPlayer bravo,ton,faux;\r\n    ImageView image ;\r\n    private int mQuestionNumber;\r\n \r\n    private CorrectActivity correctDialog;\r\n    private FauxActivity wrongDialog;\r\n  \r\n    private EcoutAudio ecoutAudio;\r\n    int FLAG= 0;\r\n    int i;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_ball);\r\n        image=(ImageView) findViewById(R.id.num);\r\n        correctDialog=new CorrectActivity(this);\r\n        wrongDialog= new FauxActivity(this);\r\n        ecoutAudio=new EcoutAudio(this);\r\n     \r\nupdateQuestion();\r\n\r\n        for ( i = 0; i &lt; idArray.length-1; i++) {\r\n            button[i] = (Button) findViewById(idArray[i]);\r\n\r\n\r\n\r\n            button[i].setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n\r\n                    switch (v.getId()) {\r\n                        case R.id.btn0:\r\n               \r\nif(button[i].getText() ==  &quot;0&quot;){\r\n\r\n                            //Toast.makeText(getApplicationContext(), &quot;0&quot;, Toast.LENGTH_SHORT).show();\r\n                            correctDialog.correctDialog(BallActivity.this);\r\n                            FLAG=1;\r\n                            ecoutAudio.setAudioforAnswer(FLAG);\r\n\r\n    updateQuestion();\r\n    }\r\nelse{\r\n\r\n     wrongDialog.WrngDialog(BallActivity.this);\r\n      FLAG=2;\r\n     ecoutAudio.setAudioforAnswer(FLAG);\r\n     updateQuestion();\r\n}\r\n\r\n                            break;\r\n                        case R.id.btn1:\r\n```\r\n\r\nBut when he click the wrong message is display when he choose the right button.\r\nThank you\r\n\r\nwhen the user choose the right response the message error is displayed","title":"How to use switch case with buttonclick to check the user response","body":"<p>I am trying to create a android application to check the user click. the user listen to the number to click for exemple if hear number zero he must click on button 0 if not a wrong message display.</p>\n<p>this is my code java</p>\n<pre><code> private static final int[] idArray ={R.id.btn0,R.id.btn1,R.id.btn2,R.id.btn3,R.id.btn4,R.id.btn5,R.id.btn6,\n            R.id.btn7,R.id.btn8,R.id.btn9,R.id.btn10,R.id.btn11,R.id.btn12,R.id.btn13,R.id.btn14,R.id.btn15};\n\n    private Button[] button = new Button[idArray.length];\n   \n    MediaPlayer bravo,ton,faux;\n    ImageView image ;\n    private int mQuestionNumber;\n \n    private CorrectActivity correctDialog;\n    private FauxActivity wrongDialog;\n  \n    private EcoutAudio ecoutAudio;\n    int FLAG= 0;\n    int i;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_ball);\n        image=(ImageView) findViewById(R.id.num);\n        correctDialog=new CorrectActivity(this);\n        wrongDialog= new FauxActivity(this);\n        ecoutAudio=new EcoutAudio(this);\n     \nupdateQuestion();\n\n        for ( i = 0; i &lt; idArray.length-1; i++) {\n            button[i] = (Button) findViewById(idArray[i]);\n\n\n\n            button[i].setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View v) {\n\n                    switch (v.getId()) {\n                        case R.id.btn0:\n               \nif(button[i].getText() ==  &quot;0&quot;){\n\n                            //Toast.makeText(getApplicationContext(), &quot;0&quot;, Toast.LENGTH_SHORT).show();\n                            correctDialog.correctDialog(BallActivity.this);\n                            FLAG=1;\n                            ecoutAudio.setAudioforAnswer(FLAG);\n\n    updateQuestion();\n    }\nelse{\n\n     wrongDialog.WrngDialog(BallActivity.this);\n      FLAG=2;\n     ecoutAudio.setAudioforAnswer(FLAG);\n     updateQuestion();\n}\n\n                            break;\n                        case R.id.btn1:\n</code></pre>\n<p>But when he click the wrong message is display when he choose the right button.\nThank you</p>\n<p>when the user choose the right response the message error is displayed</p>\n"},{"tags":["java","spring","rest"],"comments":[{"owner":{"account_id":5168089,"reputation":26701,"user_id":4137489,"accept_rate":100,"display_name":"marstran"},"score":0,"creation_date":1675800890,"post_id":75378508,"comment_id":133005926,"body_markdown":"What do you mean &quot;not working&quot;? Do you get an error?","body":"What do you mean &quot;not working&quot;? Do you get an error?"},{"owner":{"account_id":1107169,"reputation":6727,"user_id":1098361,"accept_rate":86,"display_name":"Zack Macomber"},"score":0,"creation_date":1675800918,"post_id":75378508,"comment_id":133005933,"body_markdown":"Should use `List` rather than `ArrayList`","body":"Should use <code>List</code> rather than <code>ArrayList</code>"},{"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"score":0,"creation_date":1675801083,"post_id":75378508,"comment_id":133005986,"body_markdown":"what means &quot;not working&quot;? any exception?","body":"what means &quot;not working&quot;? any exception?"},{"owner":{"account_id":19950129,"reputation":601,"user_id":14619971,"display_name":"jkfe"},"score":0,"creation_date":1675801518,"post_id":75378508,"comment_id":133006107,"body_markdown":"I added the error message. But can&#39;t see error messages that comes before it.","body":"I added the error message. But can&#39;t see error messages that comes before it."},{"owner":{"account_id":19950129,"reputation":601,"user_id":14619971,"display_name":"jkfe"},"score":0,"creation_date":1675801554,"post_id":75378508,"comment_id":133006113,"body_markdown":"@Zack Macomber I tried with ```List```. Same error.","body":"@Zack Macomber I tried with <code>List</code>. Same error."},{"owner":{"account_id":16744354,"reputation":504,"user_id":12103109,"display_name":"CaptainAye"},"score":0,"creation_date":1675801751,"post_id":75378508,"comment_id":133006170,"body_markdown":"Your issue isn&#39;t related with the fact your returning the list but rather with the serialization of RoleResponseDTO. Can you provide a snippet of that dto? also, The beginning of the exception would help as well.","body":"Your issue isn&#39;t related with the fact your returning the list but rather with the serialization of RoleResponseDTO. Can you provide a snippet of that dto? also, The beginning of the exception would help as well."},{"owner":{"account_id":19950129,"reputation":601,"user_id":14619971,"display_name":"jkfe"},"score":0,"creation_date":1675802014,"post_id":75378508,"comment_id":133006217,"body_markdown":"@CaptainAye I agree that the beginning of the exception would help. But those are the exact first lines displayed in the console. Console is not displaying what came before that. I think it&#39;s because it reached it&#39;s limit of content to be displayed.","body":"@CaptainAye I agree that the beginning of the exception would help. But those are the exact first lines displayed in the console. Console is not displaying what came before that. I think it&#39;s because it reached it&#39;s limit of content to be displayed."},{"owner":{"account_id":19950129,"reputation":601,"user_id":14619971,"display_name":"jkfe"},"score":0,"creation_date":1675803462,"post_id":75378508,"comment_id":133006546,"body_markdown":"@CaptainAye Yes, the DTO is not well formatted. That should be it. Will need to do some rework on it. Thank you.","body":"@CaptainAye Yes, the DTO is not well formatted. That should be it. Will need to do some rework on it. Thank you."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1675856529,"post_id":75378508,"comment_id":133016809,"body_markdown":"You have posted an incomplete stacktrace, without the actual error message, and probably parts missing at the end (e.g. caused by parts).","body":"You have posted an incomplete stacktrace, without the actual error message, and probably parts missing at the end (e.g. caused by parts)."},{"owner":{"account_id":19950129,"reputation":601,"user_id":14619971,"display_name":"jkfe"},"score":0,"creation_date":1675861783,"post_id":75378508,"comment_id":133018378,"body_markdown":"@Mark Rotteveel Agreed. The reason for that is that like I mentioned in the question and comments is that the console is not displaying the actual error. It keeps adding those messages forever for more than the console has space to handle and then the actual error goes out of the console area.","body":"@Mark Rotteveel Agreed. The reason for that is that like I mentioned in the question and comments is that the console is not displaying the actual error. It keeps adding those messages forever for more than the console has space to handle and then the actual error goes out of the console area."}],"answers":[{"tags":[],"owner":{"account_id":1756015,"reputation":11409,"user_id":1604048,"accept_rate":71,"display_name":"Murat Yıldız"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675807097,"creation_date":1675807097,"answer_id":75379408,"question_id":75378508,"body_markdown":"You can use an approach similar to the following:\r\n\r\n```\r\n@GetMapping(value=&quot;/{userName}&quot;, produces = &quot;application/json&quot;)\r\npublic ResponseEntity&lt;List&lt;RoleResponseDTO&gt;&gt; getUserRoles(\r\n                                @PathVariable (value=&quot;userName&quot;) String userName){\r\n    final List&lt;RoleResponseDTO&gt; response = userRoleService.getUserRoles(userName);\r\n    return ResponseEntity.ok(response));\r\n}\r\n```","title":"How to return an ArrayList in ResponseEntity?","body":"<p>You can use an approach similar to the following:</p>\n<pre><code>@GetMapping(value=&quot;/{userName}&quot;, produces = &quot;application/json&quot;)\npublic ResponseEntity&lt;List&lt;RoleResponseDTO&gt;&gt; getUserRoles(\n                                @PathVariable (value=&quot;userName&quot;) String userName){\n    final List&lt;RoleResponseDTO&gt; response = userRoleService.getUserRoles(userName);\n    return ResponseEntity.ok(response));\n}\n</code></pre>\n"}],"owner":{"account_id":19950129,"reputation":601,"user_id":14619971,"display_name":"jkfe"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":164,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1675860449,"creation_date":1675800774,"question_id":75378508,"body_markdown":"I&#39;d like to return an ArrayList in the response of a REST endpoint.\r\n\r\nI&#39;m trying the following but not working.\r\n\r\n```\r\n\t@GetMapping(value=&quot;/{userName}&quot;, produces = &quot;application/json&quot;)\r\n\tpublic ResponseEntity&lt;ArrayList&lt;RoleResponseDTO&gt;&gt; getUserRoles(@PathVariable (value=&quot;userName&quot;) String userName){\r\n\t\t\t\t\r\n\t\tArrayList&lt;RoleResponseDTO&gt; roleResponseDTOList;\t\r\n\r\n\t\troleResponseDTOList = userRoleService.getUserRoles(userName);\r\n\t\t\r\n\t\treturn new ResponseEntity&lt;ArrayList&lt;RoleResponseDTO&gt;&gt;(roleResponseDTOList, HttpStatus.OK);\r\n\t\t\r\n\t}\r\n```\r\n\r\nI get the following exception.\r\n\r\nI can&#39;t see what comes before that in the console.\r\n\r\nSeems it reaches the console buffer limit.\r\n\r\nCompilation goes successfully.\r\n\r\nThis error messages are displayed after I submit the GET request in Postman.\r\n\r\nThe error happens when this line executes:\r\n```\r\nreturn new ResponseEntity&lt;ArrayList&lt;RoleResponseDTO&gt;&gt;(roleResponseDTOList, HttpStatus.OK);\r\n```\r\n\r\n    at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\r\n    at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serializeContents(CollectionSerializer.java:145) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\r\n    at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serialize(CollectionSerializer.java:107) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\r\n    at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serialize(CollectionSerializer.java:25) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\r\n    at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:728) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\r\n    at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:774) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\r\n    at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\r\n    at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:728) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]","title":"How to return an ArrayList in ResponseEntity?","body":"<p>I'd like to return an ArrayList in the response of a REST endpoint.</p>\n<p>I'm trying the following but not working.</p>\n<pre><code>    @GetMapping(value=&quot;/{userName}&quot;, produces = &quot;application/json&quot;)\n    public ResponseEntity&lt;ArrayList&lt;RoleResponseDTO&gt;&gt; getUserRoles(@PathVariable (value=&quot;userName&quot;) String userName){\n                \n        ArrayList&lt;RoleResponseDTO&gt; roleResponseDTOList; \n\n        roleResponseDTOList = userRoleService.getUserRoles(userName);\n        \n        return new ResponseEntity&lt;ArrayList&lt;RoleResponseDTO&gt;&gt;(roleResponseDTOList, HttpStatus.OK);\n        \n    }\n</code></pre>\n<p>I get the following exception.</p>\n<p>I can't see what comes before that in the console.</p>\n<p>Seems it reaches the console buffer limit.</p>\n<p>Compilation goes successfully.</p>\n<p>This error messages are displayed after I submit the GET request in Postman.</p>\n<p>The error happens when this line executes:</p>\n<pre><code>return new ResponseEntity&lt;ArrayList&lt;RoleResponseDTO&gt;&gt;(roleResponseDTOList, HttpStatus.OK);\n</code></pre>\n<pre><code>at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\nat com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serializeContents(CollectionSerializer.java:145) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\nat com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serialize(CollectionSerializer.java:107) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\nat com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serialize(CollectionSerializer.java:25) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\nat com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:728) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\nat com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:774) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\nat com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\nat com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:728) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\n</code></pre>\n"},{"tags":["java","design-patterns","pattern-matching"],"owner":{"account_id":19930265,"reputation":9,"user_id":14603977,"display_name":"cf_ht"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1675860068,"creation_date":1675656138,"question_id":75357233,"body_markdown":"After merging 4 or 5 rows of second column in Excel from the second row, I inserted a image to this area by anchor support. Finally, I wish this image is center aligned auto in merged cell.\r\n```java\r\nXSSFWorkbook workbook = null;//you can insert\r\nXSSFSheet sheet = null;//you can insert\r\nPattern p = Pattern.compile(&quot;src=\\&quot;(.*?)\\&quot;&quot;);\r\nMatcher matcher = p.matcher(htmlThumbail);\r\nif(matcher.find()) {\r\n    String[] base64Image = matcher.group(1).split(&quot;,&quot;);\r\n    int picFormat;\r\n    switch (base64Image[0]) {//check image&#39;s extension\r\n        case &quot;data:image/jpeg;base64&quot;:\r\n            picFormat = workbook.PICTURE_TYPE_JPEG;\r\n            break;\r\n        case &quot;data:image/png;base64&quot;:\r\n            picFormat = workbook.PICTURE_TYPE_PNG;\r\n            break;\r\n        default:\r\n            picFormat = workbook.PICTURE_TYPE_JPEG;\r\n            break;\r\n    }\r\n    int pictureIdx = workbook.addPicture(Base64.getDecoder().decode(base64Image[1]),  picFormat);\r\n    XSSFClientAnchor anchor = new XSSFClientAnchor();\r\n    anchor.setCol1(2);\r\n    anchor.setRow1(subRow);\r\n    anchor.setCol2(3);\r\n    anchor.setRow2(subRow + 1);\r\n    anchor.setDx1(5 * Units.EMU_PER_PIXEL);\r\n    anchor.setDy1(5 * Units.EMU_PER_PIXEL);\r\n    anchor.setDx2(-5 * Units.EMU_PER_PIXEL);\r\n    anchor.setDy2(-5 * Units.EMU_PER_PIXEL);\r\n    XSSFDrawing drawing = (XSSFDrawing) sheet.createDrawingPatriarch();\r\n    drawing.createPicture(anchor, pictureIdx);\r\n```\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gxAPo.png","title":"Custom position for image after merging cell in Excel using Apache POI","body":"<p>After merging 4 or 5 rows of second column in Excel from the second row, I inserted a image to this area by anchor support. Finally, I wish this image is center aligned auto in merged cell.</p>\n<pre class=\"lang-java prettyprint-override\"><code>XSSFWorkbook workbook = null;//you can insert\nXSSFSheet sheet = null;//you can insert\nPattern p = Pattern.compile(&quot;src=\\&quot;(.*?)\\&quot;&quot;);\nMatcher matcher = p.matcher(htmlThumbail);\nif(matcher.find()) {\n    String[] base64Image = matcher.group(1).split(&quot;,&quot;);\n    int picFormat;\n    switch (base64Image[0]) {//check image's extension\n        case &quot;data:image/jpeg;base64&quot;:\n            picFormat = workbook.PICTURE_TYPE_JPEG;\n            break;\n        case &quot;data:image/png;base64&quot;:\n            picFormat = workbook.PICTURE_TYPE_PNG;\n            break;\n        default:\n            picFormat = workbook.PICTURE_TYPE_JPEG;\n            break;\n    }\n    int pictureIdx = workbook.addPicture(Base64.getDecoder().decode(base64Image[1]),  picFormat);\n    XSSFClientAnchor anchor = new XSSFClientAnchor();\n    anchor.setCol1(2);\n    anchor.setRow1(subRow);\n    anchor.setCol2(3);\n    anchor.setRow2(subRow + 1);\n    anchor.setDx1(5 * Units.EMU_PER_PIXEL);\n    anchor.setDy1(5 * Units.EMU_PER_PIXEL);\n    anchor.setDx2(-5 * Units.EMU_PER_PIXEL);\n    anchor.setDy2(-5 * Units.EMU_PER_PIXEL);\n    XSSFDrawing drawing = (XSSFDrawing) sheet.createDrawingPatriarch();\n    drawing.createPicture(anchor, pictureIdx);\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/gxAPo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gxAPo.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1666283863,"post_id":74142248,"comment_id":130905612,"body_markdown":"Why do you think that this file should exist?","body":"Why do you think that this file should exist?"},{"owner":{"account_id":21965926,"reputation":172,"user_id":16243176,"display_name":"MAXWEL OCHIENG"},"score":0,"creation_date":1666287229,"post_id":74142248,"comment_id":130906894,"body_markdown":"because I am uploading  it? or what do you mean","body":"because I am uploading  it? or what do you mean"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1666334492,"post_id":74142248,"comment_id":130916576,"body_markdown":"Let me rephrase the question: why do you think, the file with this specific name should exist at the specific place where the exception occurred?","body":"Let me rephrase the question: why do you think, the file with this specific name should exist at the specific place where the exception occurred?"},{"owner":{"account_id":293721,"reputation":591,"user_id":597189,"display_name":"JacquesLeRoux"},"score":0,"creation_date":1666347193,"post_id":74142248,"comment_id":130920722,"body_markdown":"How is this related to OFBiz?","body":"How is this related to OFBiz?"}],"owner":{"account_id":21965926,"reputation":172,"user_id":16243176,"display_name":"MAXWEL OCHIENG"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":192,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675859685,"creation_date":1666278659,"question_id":74142248,"body_markdown":"So when I hit the upload button I get this back in my screen and also the console java.io.FileNotFoundException: /tmp/MAXWEL-OCHIENG-CAD-Assignment1-.docx (No such file or directory)\r\n\r\n\r\nThis is weird as somenone else we&#39;re collaborating with, his code is working perfectly but my side I am getting  this error.\r\n\r\n    public static String uploadClientCaseFiles(HttpServletRequest request, HttpServletResponse response)\r\n            throws IOException{\r\n\r\n        LocalDispatcher dispatcher = (LocalDispatcher) request.getAttribute(&quot;dispatcher&quot;);\r\n        DispatchContext dctx =  dispatcher.getDispatchContext();\r\n        Delegator delegator = dctx.getDelegator();\r\n\r\n        String uploadedBy = &quot;&quot;;\r\n        String folderName = &quot;&quot;;\r\n        String caseId = &quot;&quot;;\r\n        String clientId = &quot;&quot;;\r\n        String comments = &quot;&quot;;\r\n        String fieldName = &quot;&quot;;\r\n        String fieldValue = &quot;&quot;;\r\n        String gdriveFileId = &quot;&quot;;\r\n\r\n        Drive service = null;\r\n\r\n        int maxFileSize = 5000 * 1024;\r\n        int maxMemSize = 100 * 1024;\r\n\r\n        Map&lt;String, Object&gt; result;\r\n        File file;\r\n        boolean isMultipart = ServletFileUpload.isMultipartContent(request);\r\n        String fileName = &quot;&quot;;\r\n        String tempDir = System.getProperty(&quot;java.io.tmpdir&quot;);\r\n\r\n        try {\r\n            service = GoogleDriveAPI.getDriveService();\r\n        } catch (IOException | GeneralSecurityException e) {\r\n            e.printStackTrace();\r\n        }\r\n        if(!isMultipart){\r\n            //result = ServiceUtil.returnError(&quot;Unable to upload file&quot;);\r\n            return(&quot;uploadFailed&quot;);\r\n        }\r\n        DiskFileItemFactory factory = new DiskFileItemFactory();\r\n        // maximum size that will be stored in memory\r\n        factory.setSizeThreshold(maxMemSize);\r\n        // Location to save data that is larger than maxMemSize.\r\n        factory.setRepository(new File(tempDir));\r\n        // Create a new file upload handler\r\n        ServletFileUpload upload = new ServletFileUpload(factory);\r\n        // maximum file size to be uploaded.\r\n        upload.setSizeMax(maxFileSize);\r\n\r\n        try{\r\n            // Parse the request to get file items.\r\n            List fileItems = upload.parseRequest(request);\r\n            // Process the uploaded file items\r\n            Iterator i = fileItems.iterator();\r\n            while (i.hasNext())\r\n            {\r\n                FileItem fi = (FileItem)i.next();\r\n\r\n                if (!fi.isFormField())\r\n                {\r\n                    // Get the uploaded file parameters\r\n                    fieldName = fi.getFieldName();\r\n                    fileName = fi.getName();\r\n                    fileName = fileName.replaceAll(&quot;\\\\s&quot;,&quot;-&quot;);\r\n\r\n                    // Write the file\r\n                    if( fileName.lastIndexOf(&quot;\\\\&quot;) &gt;= 0 ){\r\n                        file = new File(tempDir +\r\n                        fileName.substring(fileName.lastIndexOf(&quot;\\\\&quot;)));\r\n                    }else{\r\n                        file = new File(tempDir +\r\n                        fileName.substring(fileName.lastIndexOf(&quot;\\\\&quot;)+1));\r\n                    }\r\n                    fi.write(file);\r\n\r\n                } else {\r\n                    fieldName = fi.getFieldName();\r\n                    fieldValue = fi.getString();\r\n                    if (fieldName.equals(&quot;uploadedBy&quot;)) {\r\n                        //logic goes here...\r\n                        uploadedBy = fieldValue;\r\n                    } else if (fieldName.equals(&quot;comments&quot;)) {\r\n                        //next logic goes here...\r\n                        comments = fieldValue;\r\n                    } else if(fieldName.equals(&quot;caseId&quot;)){\r\n                        caseId = fieldValue;\r\n\r\n                    }else if (fieldName.equals(&quot;clientId&quot;)) {\r\n                        //next logic goes here...\r\n                        clientId = fieldValue;\r\n                    }\r\n                //                    else if (fieldName.equals(&quot;folderName&quot;)) {\r\n                    //                        //next logic goes here...\r\n                //                        folderName = fieldValue;\r\n                //                    }\r\n                }\r\n            }\r\n\r\n        } catch(Exception ex) {\r\n            System.out.println(ex);\r\n        }\r\n\r\n        // GenericValue folderName = null;\r\n        // try {\r\n\t\t// \tfolderName = delegator.findOne(&quot;FolderDriveMapping&quot;,\r\n\t\t// \t\t\tUtilMisc.toMap(&quot;folderName&quot;,\r\n\t\t// \t\t\t\t\tfolderName), false);\r\n\t\t// } catch (GenericEntityException e2) {\r\n\t\t// \te2.printStackTrace();\r\n\t\t// }\r\n        // if (folderName.f) {\r\n\r\n        // }\r\n\r\n        // Upload to google drive\r\n        com.google.api.services.drive.model.File fileMetadata = new com.google.api.services.drive.model.File();\r\n        fileMetadata.setName(fileName);\r\n        fileMetadata.setParents(Collections.singletonList(&quot;1q9QFwXGmmT6xNHDl5qauIkOqi0PYwWnf&quot;));\r\n        java.io.File filePath = new java.io.File(tempDir + &quot;/&quot; + fileName);\r\n        FileContent mediaContent = new FileContent(&quot;application/pdf&quot;, filePath);\r\n        com.google.api.services.drive.model.File clientFile = service.files().create(fileMetadata, mediaContent)\r\n                .setFields(&quot;id, name, webContentLink, webViewLink&quot;)\r\n                .execute();\r\n\r\n        gdriveFileId = clientFile.getId();\r\n\r\n        /* Get file properties: Id, Name, Link */\r\n        log.info(&quot;########################## File Name: &quot; + clientFile.getName());\r\n        log.info(&quot;########################## File ID: &quot; + clientFile.getId());\r\n        log.info(&quot;########################## Download Link: &quot; + clientFile.getWebContentLink());\r\n        log.info(&quot;########################## View Link: &quot; + clientFile.getWebViewLink());\r\n\r\n              GenericValue setup = delegator.makeValue(&quot;ClientCaseFiles&quot;);\r\n              String clientCaseFilesId = delegator.getNextSeqId(&quot;ClientCaseFiles&quot;);\r\n\r\n\r\n        String ext = fileName.substring(fileName.length() - 3);\r\n        String mimeType = &quot;&quot;;\r\n\r\n        if((ext.equals(&quot;doc&quot;)) || (ext.equals(&quot;dot&quot;)) || (ext.equals(&quot;ocx&quot;))){\r\n            mimeType = &quot;application/msword&quot;;\r\n\r\n        } else if(ext.equals(&quot;pdf&quot;)){\r\n            mimeType = &quot;application/pdf&quot;;\r\n\r\n        } else if((ext.equals(&quot;ppt&quot;)) || (ext.equals(&quot;ppz&quot;)) || (ext.equals(&quot;ptx&quot;))){\r\n            mimeType = &quot;application/mspowerpoint&quot;;\r\n\r\n        } else if((ext.equals(&quot;xls&quot;)) || (ext.equals(&quot;lsx&quot;)) || (ext.equals(&quot;xlt&quot;))){\r\n            mimeType = &quot;application/x-msexcel&quot;;\r\n\r\n        } else if(ext.equals(&quot;zip&quot;)){\r\n            mimeType = &quot;application/zip&quot;;\r\n\r\n        } else{\r\n            mimeType = &quot;text/plain&quot;;\r\n        }\r\n\r\n\r\n        setup.put(&quot;clientCaseFilesId&quot;, clientCaseFilesId);\r\n        setup.put(&quot;fileName&quot;, fileName);\r\n        setup.put(&quot;caseId&quot;, caseId);\r\n        setup.put(&quot;clientId&quot;, clientId);\r\n        setup.put(&quot;comments&quot;, comments);\r\n        setup.put(&quot;uploadedBy&quot;, uploadedBy);\r\n        setup.put(&quot;mimeType&quot;, mimeType);\r\n        setup.put(&quot;extension&quot;, ext);\r\n\r\n\r\n        try {\r\n            setup.create();\r\n        } catch (GenericEntityException e) {\r\n            // TODO Auto-generated catch block\r\n            e.printStackTrace();\r\n        }\r\n        response.sendRedirect(&quot;casefiles?clientId=&quot;+clientId+&quot;&amp;caseId=&quot;+caseId);\r\n        return(&quot;uplodedSuccesfully&quot;);\r\n    }","title":"java.io.FileNotFoundException: /tmp/Filename.docx (No such file or directory)- (permission denied)","body":"<p>So when I hit the upload button I get this back in my screen and also the console java.io.FileNotFoundException: /tmp/MAXWEL-OCHIENG-CAD-Assignment1-.docx (No such file or directory)</p>\n<p>This is weird as somenone else we're collaborating with, his code is working perfectly but my side I am getting  this error.</p>\n<pre><code>public static String uploadClientCaseFiles(HttpServletRequest request, HttpServletResponse response)\n        throws IOException{\n\n    LocalDispatcher dispatcher = (LocalDispatcher) request.getAttribute(&quot;dispatcher&quot;);\n    DispatchContext dctx =  dispatcher.getDispatchContext();\n    Delegator delegator = dctx.getDelegator();\n\n    String uploadedBy = &quot;&quot;;\n    String folderName = &quot;&quot;;\n    String caseId = &quot;&quot;;\n    String clientId = &quot;&quot;;\n    String comments = &quot;&quot;;\n    String fieldName = &quot;&quot;;\n    String fieldValue = &quot;&quot;;\n    String gdriveFileId = &quot;&quot;;\n\n    Drive service = null;\n\n    int maxFileSize = 5000 * 1024;\n    int maxMemSize = 100 * 1024;\n\n    Map&lt;String, Object&gt; result;\n    File file;\n    boolean isMultipart = ServletFileUpload.isMultipartContent(request);\n    String fileName = &quot;&quot;;\n    String tempDir = System.getProperty(&quot;java.io.tmpdir&quot;);\n\n    try {\n        service = GoogleDriveAPI.getDriveService();\n    } catch (IOException | GeneralSecurityException e) {\n        e.printStackTrace();\n    }\n    if(!isMultipart){\n        //result = ServiceUtil.returnError(&quot;Unable to upload file&quot;);\n        return(&quot;uploadFailed&quot;);\n    }\n    DiskFileItemFactory factory = new DiskFileItemFactory();\n    // maximum size that will be stored in memory\n    factory.setSizeThreshold(maxMemSize);\n    // Location to save data that is larger than maxMemSize.\n    factory.setRepository(new File(tempDir));\n    // Create a new file upload handler\n    ServletFileUpload upload = new ServletFileUpload(factory);\n    // maximum file size to be uploaded.\n    upload.setSizeMax(maxFileSize);\n\n    try{\n        // Parse the request to get file items.\n        List fileItems = upload.parseRequest(request);\n        // Process the uploaded file items\n        Iterator i = fileItems.iterator();\n        while (i.hasNext())\n        {\n            FileItem fi = (FileItem)i.next();\n\n            if (!fi.isFormField())\n            {\n                // Get the uploaded file parameters\n                fieldName = fi.getFieldName();\n                fileName = fi.getName();\n                fileName = fileName.replaceAll(&quot;\\\\s&quot;,&quot;-&quot;);\n\n                // Write the file\n                if( fileName.lastIndexOf(&quot;\\\\&quot;) &gt;= 0 ){\n                    file = new File(tempDir +\n                    fileName.substring(fileName.lastIndexOf(&quot;\\\\&quot;)));\n                }else{\n                    file = new File(tempDir +\n                    fileName.substring(fileName.lastIndexOf(&quot;\\\\&quot;)+1));\n                }\n                fi.write(file);\n\n            } else {\n                fieldName = fi.getFieldName();\n                fieldValue = fi.getString();\n                if (fieldName.equals(&quot;uploadedBy&quot;)) {\n                    //logic goes here...\n                    uploadedBy = fieldValue;\n                } else if (fieldName.equals(&quot;comments&quot;)) {\n                    //next logic goes here...\n                    comments = fieldValue;\n                } else if(fieldName.equals(&quot;caseId&quot;)){\n                    caseId = fieldValue;\n\n                }else if (fieldName.equals(&quot;clientId&quot;)) {\n                    //next logic goes here...\n                    clientId = fieldValue;\n                }\n            //                    else if (fieldName.equals(&quot;folderName&quot;)) {\n                //                        //next logic goes here...\n            //                        folderName = fieldValue;\n            //                    }\n            }\n        }\n\n    } catch(Exception ex) {\n        System.out.println(ex);\n    }\n\n    // GenericValue folderName = null;\n    // try {\n    //  folderName = delegator.findOne(&quot;FolderDriveMapping&quot;,\n    //          UtilMisc.toMap(&quot;folderName&quot;,\n    //                  folderName), false);\n    // } catch (GenericEntityException e2) {\n    //  e2.printStackTrace();\n    // }\n    // if (folderName.f) {\n\n    // }\n\n    // Upload to google drive\n    com.google.api.services.drive.model.File fileMetadata = new com.google.api.services.drive.model.File();\n    fileMetadata.setName(fileName);\n    fileMetadata.setParents(Collections.singletonList(&quot;1q9QFwXGmmT6xNHDl5qauIkOqi0PYwWnf&quot;));\n    java.io.File filePath = new java.io.File(tempDir + &quot;/&quot; + fileName);\n    FileContent mediaContent = new FileContent(&quot;application/pdf&quot;, filePath);\n    com.google.api.services.drive.model.File clientFile = service.files().create(fileMetadata, mediaContent)\n            .setFields(&quot;id, name, webContentLink, webViewLink&quot;)\n            .execute();\n\n    gdriveFileId = clientFile.getId();\n\n    /* Get file properties: Id, Name, Link */\n    log.info(&quot;########################## File Name: &quot; + clientFile.getName());\n    log.info(&quot;########################## File ID: &quot; + clientFile.getId());\n    log.info(&quot;########################## Download Link: &quot; + clientFile.getWebContentLink());\n    log.info(&quot;########################## View Link: &quot; + clientFile.getWebViewLink());\n\n          GenericValue setup = delegator.makeValue(&quot;ClientCaseFiles&quot;);\n          String clientCaseFilesId = delegator.getNextSeqId(&quot;ClientCaseFiles&quot;);\n\n\n    String ext = fileName.substring(fileName.length() - 3);\n    String mimeType = &quot;&quot;;\n\n    if((ext.equals(&quot;doc&quot;)) || (ext.equals(&quot;dot&quot;)) || (ext.equals(&quot;ocx&quot;))){\n        mimeType = &quot;application/msword&quot;;\n\n    } else if(ext.equals(&quot;pdf&quot;)){\n        mimeType = &quot;application/pdf&quot;;\n\n    } else if((ext.equals(&quot;ppt&quot;)) || (ext.equals(&quot;ppz&quot;)) || (ext.equals(&quot;ptx&quot;))){\n        mimeType = &quot;application/mspowerpoint&quot;;\n\n    } else if((ext.equals(&quot;xls&quot;)) || (ext.equals(&quot;lsx&quot;)) || (ext.equals(&quot;xlt&quot;))){\n        mimeType = &quot;application/x-msexcel&quot;;\n\n    } else if(ext.equals(&quot;zip&quot;)){\n        mimeType = &quot;application/zip&quot;;\n\n    } else{\n        mimeType = &quot;text/plain&quot;;\n    }\n\n\n    setup.put(&quot;clientCaseFilesId&quot;, clientCaseFilesId);\n    setup.put(&quot;fileName&quot;, fileName);\n    setup.put(&quot;caseId&quot;, caseId);\n    setup.put(&quot;clientId&quot;, clientId);\n    setup.put(&quot;comments&quot;, comments);\n    setup.put(&quot;uploadedBy&quot;, uploadedBy);\n    setup.put(&quot;mimeType&quot;, mimeType);\n    setup.put(&quot;extension&quot;, ext);\n\n\n    try {\n        setup.create();\n    } catch (GenericEntityException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n    response.sendRedirect(&quot;casefiles?clientId=&quot;+clientId+&quot;&amp;caseId=&quot;+caseId);\n    return(&quot;uplodedSuccesfully&quot;);\n}\n</code></pre>\n"},{"tags":["java","assert","design-by-contract","post-conditions"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1356460617,"post_id":14033071,"comment_id":19384768,"body_markdown":"A failed post condition would indicate a programming error that would be caught during development, when assertions are enabled- that&#39;s the only thing I can think of. using one or the other seems somewhat arbitrary. I would be more likely to use aspects anyway.","body":"A failed post condition would indicate a programming error that would be caught during development, when assertions are enabled- that&#39;s the only thing I can think of. using one or the other seems somewhat arbitrary. I would be more likely to use aspects anyway."},{"owner":{"account_id":162919,"reputation":53273,"user_id":384706,"accept_rate":64,"display_name":"Cratylus"},"score":0,"creation_date":1356461014,"post_id":14033071,"comment_id":19384840,"body_markdown":"@DaveNewton:Won&#39;t aspects has a performance penalty?","body":"@DaveNewton:Won&#39;t aspects has a performance penalty?"}],"answers":[{"comments":[{"owner":{"account_id":162919,"reputation":53273,"user_id":384706,"accept_rate":64,"display_name":"Cratylus"},"score":0,"creation_date":1356460976,"post_id":14033113,"comment_id":19384826,"body_markdown":"But *calling* methods and parameters, don&#39;t have side-effects on the class invariants?So why are they treated different than preconditions?","body":"But <i>calling</i> methods and parameters, don&#39;t have side-effects on the class invariants?So why are they treated different than preconditions?"},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":2,"creation_date":1356461070,"post_id":14033113,"comment_id":19384854,"body_markdown":"If your code allows class invariants to fail under any circumstances, that&#39;s an error in your code.  If your code is called with invalid inputs, that&#39;s an error in your caller&#39;s code.","body":"If your code allows class invariants to fail under any circumstances, that&#39;s an error in your code.  If your code is called with invalid inputs, that&#39;s an error in your caller&#39;s code."},{"owner":{"account_id":162919,"reputation":53273,"user_id":384706,"accept_rate":64,"display_name":"Cratylus"},"score":1,"creation_date":1356461135,"post_id":14033113,"comment_id":19384865,"body_markdown":"`On the other hand, preconditions can fail if the users of that component are correct.` Don&#39;t you mean **incorrect**?","body":"<code>On the other hand, preconditions can fail if the users of that component are correct.</code> Don&#39;t you mean <b>incorrect</b>?"}],"tags":[],"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"comment_count":3,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1356461481,"creation_date":1356460640,"answer_id":14033113,"question_id":14033071,"body_markdown":"Post conditions and class invariants on a component can only fail if the component _itself_ is written incorrectly.  Unit tests should catch all of these.  It&#39;s permissible, of course, to actually check them in production, but this isn&#39;t necessarily worth the performance tradeoff.\r\n\r\nOn the other hand, preconditions can fail if the _users_ of that component are incorrect.  Tests on the component itself cannot check these, so it&#39;s necessary to fail more actively so that _those_ unit tests fail.","title":"Design by contract and assert statements","body":"<p>Post conditions and class invariants on a component can only fail if the component <em>itself</em> is written incorrectly.  Unit tests should catch all of these.  It's permissible, of course, to actually check them in production, but this isn't necessarily worth the performance tradeoff.</p>\n\n<p>On the other hand, preconditions can fail if the <em>users</em> of that component are incorrect.  Tests on the component itself cannot check these, so it's necessary to fail more actively so that <em>those</em> unit tests fail.</p>\n"},{"tags":[],"owner":{"account_id":6664,"reputation":85927,"user_id":11296,"display_name":"Bert F"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675859310,"creation_date":1365341449,"answer_id":15862940,"question_id":14033071,"body_markdown":"***You should not be treating them differently - they should all be assertions.***\r\n\r\nOP says:\r\n&gt; ... It seems that for preconditions checked exceptions must be used to enforce them.\r\n&gt; ... why for post-conditions and class-invariants assertions which may be disabled are allowed? Shouldn&#39;t post-conditions and invariants also be enforced?\r\n\r\nYou seem to suggest that pre-conditions, post-conditions, and class-invariants should be always-on and always checked by the service (method/callee).  If we&#39;re talking about [Design-by-Contract][1] (DBC) that originated from Bertrand Meyer, then this is not so. Meyer contends that, from a production code perspective, these conditions should be ensured in only one place, either by the client (caller) or by the service (callee) - this is the contract between client and service.  In contrast, defensive programming says you should code the check in both places (which Meyer considers wasteful and adds unnecessary complexity).\r\n\r\nThe contract part of DBC is that the specification will be clear on who is responsible for what: if the client will ensure the pre-conditions (and the service can assume they will be true), then the service will ensure the post-conditions (and the caller can assume they will be true).  Meyer certainly understood that it is wise for the service to check the preconditions/post-conditions/invariants for testing and debugging purposes (to ensure that the system will [fail fast] [2] during test/debug), which is why it is wise to assert these conditions and have assertions enabled during test/debug, but the intention is that these checks can be disabled or removed for production.\r\n\r\nFor example, if you design a stack such that it&#39;s the caller&#39;s responsibility to check that the stack is not empty before calling pop() (precondition), then you shouldn&#39;t also code into the pop() method **as part of the production code** a check that the stack is not empty nor should you have a checked exception as part of the method signature to handle the condition.  It&#39;s okay to have the precondition assertion there to assist with validation and debugging, but the intent is that once the development and testing is done (the code presumably bug-free), the production code will run with only the caller ensuring the precondition, not the callee (if that is how you designed the contract for the API).\r\n\r\nIf you have a checked exception as part of the pop() method and you check whether the stack is empty in the pop() method **as part of the always-on, must be handled, production code**, then you are saying that the service (callee) is taking responsibility for the check and that it is promising to throw the exception if the stack is empty - it is now part of the postcondition.  In that case, the caller&#39;s don&#39;t need to check it explicitly - they should just handle the exception.  Otherwise, if both the caller and callee check whether the stack is empty first, then it isn&#39;t design-by-contract.\r\n\r\nOn final note, some people take this to mean that Meyer&#39;s says that the caller should always be responsible for checking whether the stack is not empty or that the parameters are not null, etc. Not so - Meyer only says that you must be clear in the spec about the preconditions and post-conditions so that the clients and service can be coded correctly.  You as the API designer and implementor decide what&#39;s in the preconditions and post-conditions.  If you can be reasonable sure that the clients (callers) will ensure the preconditions (e.g. because its an internal class and you control everywhere the service/method is called), then make the &quot;stack-is-not-empty&quot; or the &quot;parameter-a-is-not-null&quot; part of the precondition and put the onus on the client.  However, if you don&#39;t think that is a reasonable assumption (e.g. it&#39;s a public API or clients can&#39;t be reviewed or tested to ensure compliance) and the ramifications of failed preconditions are severe, then don&#39;t make those assumptions part of the precondition: go ahead and put the check in the service and make the checked exception part of the signature - make it part of the post-condition that if the stack is empty when pop() is called, then the service will throw the checked exception.\r\n\r\n[[Sorry for the rant-like answer - I&#39;m a big fan of Bertrand Meyer and Design-by-Contract.]]\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Design_by_contract\r\n  [2]: https://stackoverflow.com/a/2807375/11296","title":"Design by contract and assert statements","body":"<p><em><strong>You should not be treating them differently - they should all be assertions.</strong></em></p>\n<p>OP says:</p>\n<blockquote>\n<p>... It seems that for preconditions checked exceptions must be used to enforce them.\n... why for post-conditions and class-invariants assertions which may be disabled are allowed? Shouldn't post-conditions and invariants also be enforced?</p>\n</blockquote>\n<p>You seem to suggest that pre-conditions, post-conditions, and class-invariants should be always-on and always checked by the service (method/callee).  If we're talking about <a href=\"http://en.wikipedia.org/wiki/Design_by_contract\" rel=\"nofollow noreferrer\">Design-by-Contract</a> (DBC) that originated from Bertrand Meyer, then this is not so. Meyer contends that, from a production code perspective, these conditions should be ensured in only one place, either by the client (caller) or by the service (callee) - this is the contract between client and service.  In contrast, defensive programming says you should code the check in both places (which Meyer considers wasteful and adds unnecessary complexity).</p>\n<p>The contract part of DBC is that the specification will be clear on who is responsible for what: if the client will ensure the pre-conditions (and the service can assume they will be true), then the service will ensure the post-conditions (and the caller can assume they will be true).  Meyer certainly understood that it is wise for the service to check the preconditions/post-conditions/invariants for testing and debugging purposes (to ensure that the system will [fail fast] <a href=\"https://stackoverflow.com/a/2807375/11296\">2</a> during test/debug), which is why it is wise to assert these conditions and have assertions enabled during test/debug, but the intention is that these checks can be disabled or removed for production.</p>\n<p>For example, if you design a stack such that it's the caller's responsibility to check that the stack is not empty before calling pop() (precondition), then you shouldn't also code into the pop() method <strong>as part of the production code</strong> a check that the stack is not empty nor should you have a checked exception as part of the method signature to handle the condition.  It's okay to have the precondition assertion there to assist with validation and debugging, but the intent is that once the development and testing is done (the code presumably bug-free), the production code will run with only the caller ensuring the precondition, not the callee (if that is how you designed the contract for the API).</p>\n<p>If you have a checked exception as part of the pop() method and you check whether the stack is empty in the pop() method <strong>as part of the always-on, must be handled, production code</strong>, then you are saying that the service (callee) is taking responsibility for the check and that it is promising to throw the exception if the stack is empty - it is now part of the postcondition.  In that case, the caller's don't need to check it explicitly - they should just handle the exception.  Otherwise, if both the caller and callee check whether the stack is empty first, then it isn't design-by-contract.</p>\n<p>On final note, some people take this to mean that Meyer's says that the caller should always be responsible for checking whether the stack is not empty or that the parameters are not null, etc. Not so - Meyer only says that you must be clear in the spec about the preconditions and post-conditions so that the clients and service can be coded correctly.  You as the API designer and implementor decide what's in the preconditions and post-conditions.  If you can be reasonable sure that the clients (callers) will ensure the preconditions (e.g. because its an internal class and you control everywhere the service/method is called), then make the &quot;stack-is-not-empty&quot; or the &quot;parameter-a-is-not-null&quot; part of the precondition and put the onus on the client.  However, if you don't think that is a reasonable assumption (e.g. it's a public API or clients can't be reviewed or tested to ensure compliance) and the ramifications of failed preconditions are severe, then don't make those assumptions part of the precondition: go ahead and put the check in the service and make the checked exception part of the signature - make it part of the post-condition that if the stack is empty when pop() is called, then the service will throw the checked exception.</p>\n<p>[[Sorry for the rant-like answer - I'm a big fan of Bertrand Meyer and Design-by-Contract.]]</p>\n"},{"tags":[],"owner":{"account_id":2473583,"reputation":3264,"user_id":2154774,"display_name":"Robert J&#248;rgensgaard Engdahl"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1376083061,"creation_date":1376083061,"answer_id":18155792,"question_id":14033071,"body_markdown":"Violating a precondition is by definition a programming error. It is therefore most unfortunate to signal such a violation with checked exceptions.  Because code that is correct will be forced to explicitly catch an exception that certainly will never be thrown, and rethrow it as an unchecked exception, so that the programming error may be detected.\r\n","title":"Design by contract and assert statements","body":"<p>Violating a precondition is by definition a programming error. It is therefore most unfortunate to signal such a violation with checked exceptions.  Because code that is correct will be forced to explicitly catch an exception that certainly will never be thrown, and rethrow it as an unchecked exception, so that the programming error may be detected.</p>\n"}],"owner":{"account_id":162919,"reputation":53273,"user_id":384706,"accept_rate":64,"display_name":"Cratylus"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1701,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":14033113,"answer_count":3,"score":5,"last_activity_date":1675859310,"creation_date":1356460304,"question_id":14033071,"body_markdown":"I am interested in the `Design by Contract` approach. It seems that for `preconditions` checked exceptions must be used to enforce them.  \r\nBut for `post-conditions` and `class-invariants` I think that `assertions` are preferred.  \r\nAm I right? If I am correct, why for `post-conditions` and `class-invariants` assertions which may be disabled are allowed? Shouldn&#39;t post-conditions and invariants also be enforced?","title":"Design by contract and assert statements","body":"<p>I am interested in the <code>Design by Contract</code> approach. It seems that for <code>preconditions</code> checked exceptions must be used to enforce them.<br>\nBut for <code>post-conditions</code> and <code>class-invariants</code> I think that <code>assertions</code> are preferred.<br>\nAm I right? If I am correct, why for <code>post-conditions</code> and <code>class-invariants</code> assertions which may be disabled are allowed? Shouldn't post-conditions and invariants also be enforced?</p>\n"},{"tags":["java","regex","string"],"answers":[{"comments":[{"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"score":3,"creation_date":1284994985,"post_id":3752693,"comment_id":3967915,"body_markdown":"+1, you were first (by a few seconds), + explanation, + the predefined upper class :)","body":"+1, you were first (by a few seconds), + explanation, + the predefined upper class :)"},{"owner":{"account_id":101936,"reputation":5859,"user_id":273924,"accept_rate":43,"display_name":"locka"},"score":1,"creation_date":1284999937,"post_id":3752693,"comment_id":3968815,"body_markdown":"Just be aware that if the upper character is the last in the string that you won&#39;t receive an empty str for the bit beyond it, e.g. splitting &quot;H2W&quot; will return { &quot;&quot;, &quot;2&quot; } where &quot;&quot; is the bit before &quot;H&quot;, and &quot;2&quot; is the bit in the middle. Normally not an issue but it can break assumptions about how many parts are returned.","body":"Just be aware that if the upper character is the last in the string that you won&#39;t receive an empty str for the bit beyond it, e.g. splitting &quot;H2W&quot; will return { &quot;&quot;, &quot;2&quot; } where &quot;&quot; is the bit before &quot;H&quot;, and &quot;2&quot; is the bit in the middle. Normally not an issue but it can break assumptions about how many parts are returned."},{"owner":{"account_id":53772,"reputation":22307,"user_id":160811,"accept_rate":100,"display_name":"Jeremy"},"score":0,"creation_date":1299693271,"post_id":3752693,"comment_id":5910600,"body_markdown":"@locka: Is there a way around that, other than explicitly checking?","body":"@locka: Is there a way around that, other than explicitly checking?"},{"owner":{"account_id":101936,"reputation":5859,"user_id":273924,"accept_rate":43,"display_name":"locka"},"score":0,"creation_date":1299855619,"post_id":3752693,"comment_id":5942455,"body_markdown":"Perhaps you could append your own string on the end as a sacrificial throwaway, e.g. append &quot;Xblah&quot; to your string, then just treat the last &quot;blah&quot; in your array as an empty string. It wouldn&#39;t hurt to run your matcher through unit tests with various string values to make sure you get the behaviour you expect.","body":"Perhaps you could append your own string on the end as a sacrificial throwaway, e.g. append &quot;Xblah&quot; to your string, then just treat the last &quot;blah&quot; in your array as an empty string. It wouldn&#39;t hurt to run your matcher through unit tests with various string values to make sure you get the behaviour you expect."},{"owner":{"account_id":8562722,"reputation":1841,"user_id":6416263,"display_name":"Andriy D."},"score":6,"creation_date":1603355003,"post_id":3752693,"comment_id":114012508,"body_markdown":"for **Kotlin**  `s.split(Regex(&quot;(?=\\\\p{Upper})&quot;))`","body":"for <b>Kotlin</b>  <code>s.split(Regex(&quot;(?=\\\\p{Upper})&quot;))</code>"}],"tags":[],"owner":{"account_id":36208,"reputation":240326,"user_id":103154,"display_name":"axtavt"},"comment_count":5,"down_vote_count":0,"up_vote_count":147,"is_accepted":true,"score":147,"last_activity_date":1577114580,"creation_date":1284994837,"answer_id":3752693,"question_id":3752636,"body_markdown":"You may use a regexp with zero-width positive lookahead - it finds uppercase letters but doesn&#39;t include them into delimiter:\r\n\r\n    String s = &quot;thisIsMyString&quot;;\r\n    String[] r = s.split(&quot;(?=\\\\p{Upper})&quot;);\r\n\r\n`Y(?=X)` matches `Y` followed by `X`, but doesn&#39;t include `X` into match. So `(?=\\\\p{Upper})` matches an empty sequence followed by a uppercase letter, and `split` uses it as a delimiter.\r\n\r\nSee [javadoc][1] for more info on Java regexp syntax.\r\n\r\n**EDIT:** By the way, it doesn&#39;t work with `thisIsMy&#220;berString`. For non-ASCII uppercase letters you need a Unicode uppercase character class instead of POSIX one:\r\n\r\n    String[] r = s.split(&quot;(?=\\\\p{Lu})&quot;);\r\n\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/1.5.0/docs/api/java/util/regex/Pattern.html","title":"Java: Split string when an uppercase letter is found","body":"<p>You may use a regexp with zero-width positive lookahead - it finds uppercase letters but doesn't include them into delimiter:</p>\n\n<pre><code>String s = \"thisIsMyString\";\nString[] r = s.split(\"(?=\\\\p{Upper})\");\n</code></pre>\n\n<p><code>Y(?=X)</code> matches <code>Y</code> followed by <code>X</code>, but doesn't include <code>X</code> into match. So <code>(?=\\\\p{Upper})</code> matches an empty sequence followed by a uppercase letter, and <code>split</code> uses it as a delimiter.</p>\n\n<p>See <a href=\"http://download.oracle.com/javase/1.5.0/docs/api/java/util/regex/Pattern.html\" rel=\"noreferrer\">javadoc</a> for more info on Java regexp syntax.</p>\n\n<p><strong>EDIT:</strong> By the way, it doesn't work with <code>thisIsMyÜberString</code>. For non-ASCII uppercase letters you need a Unicode uppercase character class instead of POSIX one:</p>\n\n<pre><code>String[] r = s.split(\"(?=\\\\p{Lu})\");\n</code></pre>\n"},{"comments":[{"owner":{"account_id":60494,"reputation":34013,"user_id":180659,"accept_rate":54,"display_name":"jarnbjo"},"score":2,"creation_date":1284995497,"post_id":3752700,"comment_id":3968022,"body_markdown":"axtavt already gave a correct answer to Guido&#39;s question, so why answer twice? Your answer is wrong, so I downvoted it and pointed out why.","body":"axtavt already gave a correct answer to Guido&#39;s question, so why answer twice? Your answer is wrong, so I downvoted it and pointed out why."}],"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"comment_count":1,"down_vote_count":2,"up_vote_count":29,"is_accepted":false,"score":27,"last_activity_date":1284994860,"creation_date":1284994860,"answer_id":3752700,"question_id":3752636,"body_markdown":"    String[] camelCaseWords = s.split(&quot;(?=[A-Z])&quot;);","title":"Java: Split string when an uppercase letter is found","body":"<pre><code>String[] camelCaseWords = s.split(\"(?=[A-Z])\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":123802,"reputation":37785,"user_id":318493,"accept_rate":67,"display_name":"RoToRa"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1284994924,"creation_date":1284994924,"answer_id":3752705,"question_id":3752636,"body_markdown":"Since `String::split` takes a regular expression you can use a look-ahead:\r\n\r\n    String[] x = &quot;thisIsMyString&quot;.split(&quot;(?=[A-Z])&quot;);","title":"Java: Split string when an uppercase letter is found","body":"<p>Since <code>String::split</code> takes a regular expression you can use a look-ahead:</p>\n\n<pre><code>String[] x = \"thisIsMyString\".split(\"(?=[A-Z])\");\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9224113,"reputation":407,"user_id":6852444,"display_name":"Stuart Mclean"},"score":0,"creation_date":1649257852,"post_id":7067055,"comment_id":126831265,"body_markdown":"I tried every answer here and this was the only one that worked for me. Plus it makes a lot of sense to just compile the pattern once. Very nice.","body":"I tried every answer here and this was the only one that worked for me. Plus it makes a lot of sense to just compile the pattern once. Very nice."}],"tags":[],"owner":{"account_id":472795,"reputation":39,"user_id":881489,"display_name":"Spigolo Vivo"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1313443194,"creation_date":1313422724,"answer_id":7067055,"question_id":3752636,"body_markdown":"Try this;\r\n\r\n    static Pattern p = Pattern.compile(&quot;(?=\\\\p{Lu})&quot;);\r\n    String[] s1 = p.split(&quot;thisIsMyFirstString&quot;);\r\n    String[] s2 = p.split(&quot;thisIsMySecondString&quot;);\r\n\r\n    ...\r\n\r\n","title":"Java: Split string when an uppercase letter is found","body":"<p>Try this;</p>\n\n<pre><code>static Pattern p = Pattern.compile(\"(?=\\\\p{Lu})\");\nString[] s1 = p.split(\"thisIsMyFirstString\");\nString[] s2 = p.split(\"thisIsMySecondString\");\n\n...\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4230755,"reputation":7764,"user_id":3536342,"display_name":"DavidPostill"},"score":0,"creation_date":1418033272,"post_id":27355188,"comment_id":43163884,"body_markdown":"This is **not** an answer to the original question. To critique or request clarification from an author, leave a comment below their post - you can always comment on your own posts, and once you have sufficient [reputation](http://stackoverflow.com/help/whats-reputation) you will be able to [comment on any post](http://stackoverflow.com/help/privileges/comment).","body":"This is <b>not</b> an answer to the original question. To critique or request clarification from an author, leave a comment below their post - you can always comment on your own posts, and once you have sufficient <a href=\"http://stackoverflow.com/help/whats-reputation\">reputation</a> you will be able to <a href=\"http://stackoverflow.com/help/privileges/comment\">comment on any post</a>."},{"owner":{"account_id":2043993,"reputation":508,"user_id":1824521,"accept_rate":83,"display_name":"serj"},"score":0,"creation_date":1464876414,"post_id":27355188,"comment_id":62673179,"body_markdown":"Thanks for the addition !","body":"Thanks for the addition !"},{"owner":{"account_id":1759711,"reputation":151,"user_id":1607150,"display_name":"seymatanoglu"},"score":0,"creation_date":1641297314,"post_id":27355188,"comment_id":124763377,"body_markdown":"This is a very useful answer. Thank you!","body":"This is a very useful answer. Thank you!"}],"tags":[],"owner":{"account_id":3752082,"reputation":211,"user_id":3119376,"display_name":"Mulder"},"comment_count":3,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1418031748,"creation_date":1418031748,"answer_id":27355188,"question_id":3752636,"body_markdown":"For anyone that wonders how the Pattern is when the String to split might start with an upper case character:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    String s = &quot;ThisIsMyString&quot;;\r\n    String[] r = s.split(&quot;(?&lt;=.)(?=\\\\p{Lu})&quot;);\r\n    System.out.println(Arrays.toString(r));\r\n\r\ngives: [This, Is, My, String]\r\n","title":"Java: Split string when an uppercase letter is found","body":"<p>For anyone that wonders how the Pattern is when the String to split might start with an upper case character:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>String s = \"ThisIsMyString\";\nString[] r = s.split(\"(?&lt;=.)(?=\\\\p{Lu})\");\nSystem.out.println(Arrays.toString(r));\n</code></pre>\n\n<p>gives: [This, Is, My, String]</p>\n"},{"tags":[],"owner":{"account_id":2184749,"reputation":717,"user_id":1933399,"accept_rate":29,"display_name":"The Shoe Shiner"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1427300248,"creation_date":1427300248,"answer_id":29260985,"question_id":3752636,"body_markdown":"This regex will split on Caps, omitting the first.  So it should work for camel-case and proper-case.\r\n\r\n    (?&lt;=.)(?=(\\\\p{Upper}))\r\n\r\n    TestText = Test, Text\r\n    thisIsATest = this, Is, A, Test","title":"Java: Split string when an uppercase letter is found","body":"<p>This regex will split on Caps, omitting the first.  So it should work for camel-case and proper-case.</p>\n\n<pre><code>(?&lt;=.)(?=(\\\\p{Upper}))\n\nTestText = Test, Text\nthisIsATest = this, Is, A, Test\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4314747,"reputation":1103,"user_id":3524954,"accept_rate":89,"display_name":"Boris"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1564068876,"creation_date":1564068450,"answer_id":57205533,"question_id":3752636,"body_markdown":"A simple scala/java suggestion that does not split at entire uppercase strings like *NYC*:\r\n\r\n```scala\r\ndef splitAtMiddleUppercase(token: String): Iterator[String] = {\r\n   val regex = &quot;&quot;&quot;[\\p{Lu}]*[^\\p{Lu}]*&quot;&quot;&quot;.r\r\n   regex.findAllIn(token).filter(_ != &quot;&quot;) // did not find a way not to produce empty strings in the regex. Open to suggestions.\r\n}\r\n```\r\n\r\ntest with:\r\n\r\n```scala\r\nval examples = List(&quot;catch22&quot;, &quot;iPhone&quot;, &quot;eReplacement&quot;, &quot;TotalRecall&quot;, &quot;NYC&quot;, &quot;JGHSD87&quot;, &quot;inter&#220;ber&quot;)\r\nfor( example &lt;- examples) {\r\n   println(example + &quot; -&gt; &quot;  + splitAtMiddleUppercase(example).mkString(&quot;[&quot;, &quot;, &quot;, &quot;]&quot;))\r\n}\r\n```\r\n\r\nit produces:\r\n\r\n```text\r\n    catch22 -&gt; [catch22]\r\n    iPhone -&gt; [i, Phone]\r\n    eReplacement -&gt; [e, Replacement]\r\n    TotalRecall -&gt; [Total, Recall]\r\n    NYC -&gt; [NYC]\r\n    JGHSD87 -&gt; [JGHSD87]\r\n    inter&#220;ber -&gt; [inter, &#220;ber]\r\n```\r\n\r\nModify the regex to cut at digits too.","title":"Java: Split string when an uppercase letter is found","body":"<p>A simple scala/java suggestion that does not split at entire uppercase strings like <em>NYC</em>:</p>\n\n<pre class=\"lang-scala prettyprint-override\"><code>def splitAtMiddleUppercase(token: String): Iterator[String] = {\n   val regex = \"\"\"[\\p{Lu}]*[^\\p{Lu}]*\"\"\".r\n   regex.findAllIn(token).filter(_ != \"\") // did not find a way not to produce empty strings in the regex. Open to suggestions.\n}\n</code></pre>\n\n<p>test with:</p>\n\n<pre class=\"lang-scala prettyprint-override\"><code>val examples = List(\"catch22\", \"iPhone\", \"eReplacement\", \"TotalRecall\", \"NYC\", \"JGHSD87\", \"interÜber\")\nfor( example &lt;- examples) {\n   println(example + \" -&gt; \"  + splitAtMiddleUppercase(example).mkString(\"[\", \", \", \"]\"))\n}\n</code></pre>\n\n<p>it produces:</p>\n\n<pre><code>    catch22 -&gt; [catch22]\n    iPhone -&gt; [i, Phone]\n    eReplacement -&gt; [e, Replacement]\n    TotalRecall -&gt; [Total, Recall]\n    NYC -&gt; [NYC]\n    JGHSD87 -&gt; [JGHSD87]\n    interÜber -&gt; [inter, Über]\n</code></pre>\n\n<p>Modify the regex to cut at digits too.</p>\n"},{"comments":[{"owner":{"account_id":23391725,"reputation":243,"user_id":17456295,"display_name":"Sawan Meshram"},"score":0,"creation_date":1675860667,"post_id":75385781,"comment_id":133018024,"body_markdown":"Plz read question carefully, it need to convert arrays of string.","body":"Plz read question carefully, it need to convert arrays of string."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1676116490,"post_id":75385781,"comment_id":133075454,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/75385781/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":27692653,"reputation":1,"user_id":21139032,"display_name":"Abhishek Patil"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1675859233,"creation_date":1675859233,"answer_id":75385781,"question_id":3752636,"body_markdown":"          String str = &quot;IAmAJavaProgrammer&quot;;\r\n      StringBuilder expected = new StringBuilder(); \r\n    for (int i = 0; i &lt; str.length(); i++) {\r\n    \r\n            if(Character.isUpperCase(str.charAt(i))){    \r\n                expected.append(&quot; &quot;);\r\n            }\r\n            expected.append(str.charAt(i));\r\n \r\n\r\n    }\r\n\r\n    System.out.println(expected);\r\n\r\n  ","title":"Java: Split string when an uppercase letter is found","body":"<pre><code>      String str = &quot;IAmAJavaProgrammer&quot;;\n  StringBuilder expected = new StringBuilder(); \nfor (int i = 0; i &lt; str.length(); i++) {\n\n        if(Character.isUpperCase(str.charAt(i))){    \n            expected.append(&quot; &quot;);\n        }\n        expected.append(str.charAt(i));\n\n\n}\n\nSystem.out.println(expected);\n</code></pre>\n"}],"owner":{"account_id":7198,"reputation":46927,"user_id":12388,"accept_rate":82,"display_name":"Guido"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68808,"favorite_count":0,"down_vote_count":0,"up_vote_count":62,"accepted_answer_id":3752693,"answer_count":8,"score":62,"last_activity_date":1675859233,"creation_date":1284994553,"question_id":3752636,"body_markdown":"I think this is an easy question, but I am not able to find a simple solution (say, less than 10 lines of code :)\r\n\r\nI have a `String` such as `&quot;thisIsMyString&quot;` and I need to convert it to a `String[] {&quot;this&quot;, &quot;Is&quot;, &quot;My&quot;, &quot;String&quot;}`.\r\n\r\nPlease notice the first letter is not uppercase.\r\n","title":"Java: Split string when an uppercase letter is found","body":"<p>I think this is an easy question, but I am not able to find a simple solution (say, less than 10 lines of code :)</p>\n\n<p>I have a <code>String</code> such as <code>\"thisIsMyString\"</code> and I need to convert it to a <code>String[] {\"this\", \"Is\", \"My\", \"String\"}</code>.</p>\n\n<p>Please notice the first letter is not uppercase.</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":2,"creation_date":1675859029,"post_id":75385726,"comment_id":133017547,"body_markdown":"`var obj1 = new MyObject(true); var obj2 = new MyObject(true); obj1.compareTo(obj2) == obj2.compareTo(obj1)` so both objects are &quot;smaller&quot; than the respective other object. Also, an object is always smaller (or bigger) than itself: `obj1.compareTo(obj1) == -1`. It&#39;s like saying &quot;1 != 1&quot;, &quot;1 &lt; 1&quot; or &quot;1 &lt; 2 &amp;&amp; 2 &lt; 1&quot;","body":"<code>var obj1 = new MyObject(true); var obj2 = new MyObject(true); obj1.compareTo(obj2) == obj2.compareTo(obj1)</code> so both objects are &quot;smaller&quot; than the respective other object. Also, an object is always smaller (or bigger) than itself: <code>obj1.compareTo(obj1) == -1</code>. It&#39;s like saying &quot;1 != 1&quot;, &quot;1 &lt; 1&quot; or &quot;1 &lt; 2 &amp;&amp; 2 &lt; 1&quot;"},{"owner":{"display_name":"user6073886"},"score":2,"creation_date":1675859239,"post_id":75385726,"comment_id":133017608,"body_markdown":"Your  comparison method must be symmetric. meaning if you do `compare(a, b)` and receive `1` as a result, `compare(b, a)` must return `-1`. You violated that contract because if `o1.getIsXXXTrue()` is true you always return `-1`. So imagine if both `o1` and `o2` return true on `getIXXXTrue()`, that would mean `compare(o1, o2)` to return `-1` and `compare(o2, o1)` also to return `-1`. So which one of those 2 objects should come first in the natural order? You basically programmed a comparator that sometimes says A is greater than B, but then also claims that B is greater than A.","body":"Your  comparison method must be symmetric. meaning if you do <code>compare(a, b)</code> and receive <code>1</code> as a result, <code>compare(b, a)</code> must return <code>-1</code>. You violated that contract because if <code>o1.getIsXXXTrue()</code> is true you always return <code>-1</code>. So imagine if both <code>o1</code> and <code>o2</code> return true on <code>getIXXXTrue()</code>, that would mean <code>compare(o1, o2)</code> to return <code>-1</code> and <code>compare(o2, o1)</code> also to return <code>-1</code>. So which one of those 2 objects should come first in the natural order? You basically programmed a comparator that sometimes says A is greater than B, but then also claims that B is greater than A."},{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":1,"creation_date":1675860501,"post_id":75385726,"comment_id":133017967,"body_markdown":"Also https://stackoverflow.com/questions/11441666/java-error-comparison-method-violates-its-general-contract and many more","body":"Also <a href=\"https://stackoverflow.com/questions/11441666/java-error-comparison-method-violates-its-general-contract\" title=\"java error comparison method violates its general contract\">stackoverflow.com/questions/11441666/&hellip;</a> and many more"}],"owner":{"account_id":6078612,"reputation":639,"user_id":4745093,"accept_rate":32,"display_name":"ValarDohaeris"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1675863815,"answer_count":0,"score":0,"last_activity_date":1675859207,"creation_date":1675858887,"question_id":75385726,"body_markdown":"I have below code-\r\n\r\n    Stream.of(objects).sorted((o1,o2) -&gt; {\r\n      if (o1.getIsXXXTrue()) return -1;\r\n      if (o2.getIsXXXTrue()) return 1;\r\n      return (o2.getScore() - o1.getScore());\r\n    }).toArray(MyObject[]::new);\r\n\r\nIntermittently for some set of objects I am getting below exception-\r\n\r\njava.lang.IllegalArgumentException: Comparison method violates its general contract!\r\n\r\nI read some similar article and came to know that it might be because transitivity contract is breaking in comparison code(A &gt; B and B &gt; C but A is not greater than C). I tried to dry run with different values of objects but couldn&#39;t find  any case where transitivity might break!\r\nCan you you guys help me with what might be wrong with this code! Is it about transitivity or any other contract might be breaking. Any leads to find the problem and how to fix it are appreciated. Thank you.\r\n","title":"Java Streams illegalargumentexception Comparison method violates its general contract","body":"<p>I have below code-</p>\n<pre><code>Stream.of(objects).sorted((o1,o2) -&gt; {\n  if (o1.getIsXXXTrue()) return -1;\n  if (o2.getIsXXXTrue()) return 1;\n  return (o2.getScore() - o1.getScore());\n}).toArray(MyObject[]::new);\n</code></pre>\n<p>Intermittently for some set of objects I am getting below exception-</p>\n<p>java.lang.IllegalArgumentException: Comparison method violates its general contract!</p>\n<p>I read some similar article and came to know that it might be because transitivity contract is breaking in comparison code(A &gt; B and B &gt; C but A is not greater than C). I tried to dry run with different values of objects but couldn't find  any case where transitivity might break!\nCan you you guys help me with what might be wrong with this code! Is it about transitivity or any other contract might be breaking. Any leads to find the problem and how to fix it are appreciated. Thank you.</p>\n"},{"tags":["python","java","jython","javaagents","qf-test"],"answers":[{"tags":[],"owner":{"account_id":5624186,"reputation":13,"user_id":4453110,"display_name":"buda"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675859187,"creation_date":1675859187,"answer_id":75385773,"question_id":75384531,"body_markdown":"You should avoid any communication with the SUT while shutting down. QF-Tests tries to stop the application gracefully, if you record a sequence for the steps a user would do. There are also the dedicated nodes  Additionally you may try to kill the SUT-client. For example of such a construct look in the procedure startStop.terminate from the demo suite delivered with QF-Test under &lt;qftest_isntall_dir&gt;\\demo\\carconfig\\carconfig_en.qft.\r\n\r\nIf the problem persist you should write to the QF-Test support, since additional details my be required, and the stackoverflow.com is not suitable for such communcation.\r\n\r\nDisclaimer: I am a QF-Test Employee","title":"How can I check that my application is shutdown with QFTest?","body":"<p>You should avoid any communication with the SUT while shutting down. QF-Tests tries to stop the application gracefully, if you record a sequence for the steps a user would do. There are also the dedicated nodes  Additionally you may try to kill the SUT-client. For example of such a construct look in the procedure startStop.terminate from the demo suite delivered with QF-Test under &lt;qftest_isntall_dir&gt;\\demo\\carconfig\\carconfig_en.qft.</p>\n<p>If the problem persist you should write to the QF-Test support, since additional details my be required, and the stackoverflow.com is not suitable for such communcation.</p>\n<p>Disclaimer: I am a QF-Test Employee</p>\n"}],"owner":{"account_id":3267109,"reputation":551,"user_id":2751394,"accept_rate":80,"display_name":"Skartt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675859187,"creation_date":1675852621,"question_id":75384531,"body_markdown":"I check a Java application with **QFTest**. I need to prove that the HMI is stopped at Shutdown.\r\nIn **QFTest**, I created a **Jython** proc&#233;dure which try to send a socket to the HMI, if it can&#39;t, then it means that the HMI is stopped and then the test is OK. here is the **jython** script:\r\n\r\n    import threading\r\n    import time\r\n    \r\n    rc.setLocal(&quot;returnValue&quot;, False)\r\n    for i in range(50):\r\n        time.sleep(0.5)\r\n        try:\r\n            # here we try to send a socket to HMI\r\n            rc.toSUT(&quot;client&quot;, vars)\r\n        except:\r\n            # here there was an exception trying to send the socket, the HMI is shutdown: test OK.&quot;\r\n            rc.setLocal(&quot;returnValue&quot;, True)\r\n            break\r\n\r\nIt seems that the **QFTest** **javaagent** used to connect my Java program to **QFTest**, prevents my application to be fully killed. Have you an idea to prove that my HMI is killed in a **QFTest** procedure ?","title":"How can I check that my application is shutdown with QFTest?","body":"<p>I check a Java application with <strong>QFTest</strong>. I need to prove that the HMI is stopped at Shutdown.\nIn <strong>QFTest</strong>, I created a <strong>Jython</strong> procédure which try to send a socket to the HMI, if it can't, then it means that the HMI is stopped and then the test is OK. here is the <strong>jython</strong> script:</p>\n<pre><code>import threading\nimport time\n\nrc.setLocal(&quot;returnValue&quot;, False)\nfor i in range(50):\n    time.sleep(0.5)\n    try:\n        # here we try to send a socket to HMI\n        rc.toSUT(&quot;client&quot;, vars)\n    except:\n        # here there was an exception trying to send the socket, the HMI is shutdown: test OK.&quot;\n        rc.setLocal(&quot;returnValue&quot;, True)\n        break\n</code></pre>\n<p>It seems that the <strong>QFTest</strong> <strong>javaagent</strong> used to connect my Java program to <strong>QFTest</strong>, prevents my application to be fully killed. Have you an idea to prove that my HMI is killed in a <strong>QFTest</strong> procedure ?</p>\n"},{"tags":["java","android","android-fragments"],"comments":[{"owner":{"account_id":1223835,"reputation":75888,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1630952255,"post_id":69077947,"comment_id":122088954,"body_markdown":"Are you using desugaring?","body":"Are you using desugaring?"},{"owner":{"account_id":2821271,"reputation":1525,"user_id":2424980,"accept_rate":47,"display_name":"L3n95"},"score":0,"creation_date":1630955257,"post_id":69077947,"comment_id":122089698,"body_markdown":"@chrylis-cautiouslyoptimistic- not explicitly as far as I know. Do I have to activate that in ProGuard?","body":"@chrylis-cautiouslyoptimistic- not explicitly as far as I know. Do I have to activate that in ProGuard?"},{"owner":{"account_id":148507,"reputation":1161,"user_id":360327,"accept_rate":67,"display_name":"Udayaditya Barua"},"score":0,"creation_date":1651479474,"post_id":69077947,"comment_id":127366191,"body_markdown":"I am getting the same set of crashes. It&#39;s crashing in a code base which has nothing to do with the current screen. @L3n95 were you able to solve this?","body":"I am getting the same set of crashes. It&#39;s crashing in a code base which has nothing to do with the current screen. @L3n95 were you able to solve this?"},{"owner":{"account_id":2821271,"reputation":1525,"user_id":2424980,"accept_rate":47,"display_name":"L3n95"},"score":0,"creation_date":1651483738,"post_id":69077947,"comment_id":127367353,"body_markdown":"@UdayadityaBarua Unfortunately not. Are you using Data binding?","body":"@UdayadityaBarua Unfortunately not. Are you using Data binding?"},{"owner":{"account_id":148507,"reputation":1161,"user_id":360327,"accept_rate":67,"display_name":"Udayaditya Barua"},"score":0,"creation_date":1651485744,"post_id":69077947,"comment_id":127367999,"body_markdown":"@L3n95 I am using viewbinding.","body":"@L3n95 I am using viewbinding."},{"owner":{"account_id":2821271,"reputation":1525,"user_id":2424980,"accept_rate":47,"display_name":"L3n95"},"score":0,"creation_date":1651486150,"post_id":69077947,"comment_id":127368098,"body_markdown":"@UdayadityaBarua I am too. I could imagine that it is a problem with this.","body":"@UdayadityaBarua I am too. I could imagine that it is a problem with this."}],"answers":[{"tags":[],"owner":{"account_id":20754147,"reputation":11,"user_id":15240945,"display_name":"Avers"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675859015,"creation_date":1675859015,"answer_id":75385746,"question_id":69077947,"body_markdown":"Looks like some handler or listener is leaking.\r\n\r\nTry to look through all the call chain between\r\n\r\n    at com.myapp.actions.SellAction.getAction (SellAction.java:16)\r\nand\r\n\r\n    at com.myapp.main.Fragment2.lambda$onCreateView$0 (Fragment2.java:31)\r\nThere might be view or some other object that is set up with listener which is not dropped correctly on view destroy. Special attention to  `Fragment2#onCreateView` line 31.","title":"InternalSyntheticLambda in Crash report","body":"<p>Looks like some handler or listener is leaking.</p>\n<p>Try to look through all the call chain between</p>\n<pre><code>at com.myapp.actions.SellAction.getAction (SellAction.java:16)\n</code></pre>\n<p>and</p>\n<pre><code>at com.myapp.main.Fragment2.lambda$onCreateView$0 (Fragment2.java:31)\n</code></pre>\n<p>There might be view or some other object that is set up with listener which is not dropped correctly on view destroy. Special attention to  <code>Fragment2#onCreateView</code> line 31.</p>\n"}],"owner":{"account_id":2821271,"reputation":1525,"user_id":2424980,"accept_rate":47,"display_name":"L3n95"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":650,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1675859015,"creation_date":1630946834,"question_id":69077947,"body_markdown":"I got following crash report:\r\n\r\n\r\n\r\n    java.lang.NullPointerException: \r\n      at com.myapp.actions.SellAction.getAction (SellAction.java:16)\r\n      at com.myapp.handler.SellHandler.sell (SellHandler.java:169)\r\n      at com.myapp.main.MyActivity.sell (MyActivity.java:537)\r\n      at com.myapp.main.Fragment2.lambda$onCreateView$0 (Fragment2.java:31)\r\n      at com.myapp.main.Fragment1$$InternalSyntheticLambda$1$c14fd7a0fe0c17e220e277448d1b71579f8038a9784d642f5a2e5b6a00f377eb$2.onClick$bridge (Fragment1.java)\r\n      at android.view.View.performClick (View.java:7862)\r\n      at android.widget.TextView.performClick (TextView.java:15004)\r\n      at android.view.View.performClickInternal (View.java:7831)\r\n      at android.view.View.access$3600 (View.java:879)\r\n      at android.view.View$PerformClick.run (View.java:29359)\r\n      at android.os.Handler.handleCallback (Handler.java:883)\r\n      at android.os.Handler.dispatchMessage (Handler.java:100)\r\n      at android.os.Looper.loop (Looper.java:237)\r\n      at android.app.ActivityThread.main (ActivityThread.java:8167)\r\n      at java.lang.reflect.Method.invoke (Native Method)\r\n      at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run (RuntimeInit.java:496)\r\n      at com.android.internal.os.ZygoteInit.main (ZygoteInit.java:1100)\r\n\r\nThe code from `Fragment2.lambda$onCreateView$0 (Fragment2.java:31)` to `SellAction.getAction` is a valid stacktrace in my code. But usually (I don&#39;t see how this is possible) the Fragment1 (`Fragment1$$InternalSyntheticLambda$1$c14fd7a0fe0c17e220e277448d1b71579f8038a9784d642f5a2e5b6a00f377eb$2.onClick$bridge (Fragment1.java)`) has nothing to do with that code and I have no idea how it appears there. I don&#39;t know if that has something to do with the `InternalSyntheticLambda`. But I do not find anything about that on the internet (10 search results at google). Does anyone here has an idea what that is or how that can happen?","title":"InternalSyntheticLambda in Crash report","body":"<p>I got following crash report:</p>\n<pre><code>java.lang.NullPointerException: \n  at com.myapp.actions.SellAction.getAction (SellAction.java:16)\n  at com.myapp.handler.SellHandler.sell (SellHandler.java:169)\n  at com.myapp.main.MyActivity.sell (MyActivity.java:537)\n  at com.myapp.main.Fragment2.lambda$onCreateView$0 (Fragment2.java:31)\n  at com.myapp.main.Fragment1$$InternalSyntheticLambda$1$c14fd7a0fe0c17e220e277448d1b71579f8038a9784d642f5a2e5b6a00f377eb$2.onClick$bridge (Fragment1.java)\n  at android.view.View.performClick (View.java:7862)\n  at android.widget.TextView.performClick (TextView.java:15004)\n  at android.view.View.performClickInternal (View.java:7831)\n  at android.view.View.access$3600 (View.java:879)\n  at android.view.View$PerformClick.run (View.java:29359)\n  at android.os.Handler.handleCallback (Handler.java:883)\n  at android.os.Handler.dispatchMessage (Handler.java:100)\n  at android.os.Looper.loop (Looper.java:237)\n  at android.app.ActivityThread.main (ActivityThread.java:8167)\n  at java.lang.reflect.Method.invoke (Native Method)\n  at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run (RuntimeInit.java:496)\n  at com.android.internal.os.ZygoteInit.main (ZygoteInit.java:1100)\n</code></pre>\n<p>The code from <code>Fragment2.lambda$onCreateView$0 (Fragment2.java:31)</code> to <code>SellAction.getAction</code> is a valid stacktrace in my code. But usually (I don't see how this is possible) the Fragment1 (<code>Fragment1$$InternalSyntheticLambda$1$c14fd7a0fe0c17e220e277448d1b71579f8038a9784d642f5a2e5b6a00f377eb$2.onClick$bridge (Fragment1.java)</code>) has nothing to do with that code and I have no idea how it appears there. I don't know if that has something to do with the <code>InternalSyntheticLambda</code>. But I do not find anything about that on the internet (10 search results at google). Does anyone here has an idea what that is or how that can happen?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9558,"page":665,"page_size":100}
