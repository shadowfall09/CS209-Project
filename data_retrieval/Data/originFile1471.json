{"items":[{"tags":["java","apache-kafka","apache-kafka-streams","avro"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1648734465,"post_id":71686753,"comment_id":126704004,"body_markdown":"Please show your Streams config","body":"Please show your Streams config"}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648734373,"creation_date":1648734373,"answer_id":71693640,"question_id":71686753,"body_markdown":"Based on the error, you&#39;ve not set the default key/value serde to be the Avro one; you&#39;ve left it as LongSerde","title":"jdbc kafka connect avro schema incompatibility with stream","body":"<p>Based on the error, you've not set the default key/value serde to be the Avro one; you've left it as LongSerde</p>\n"}],"owner":{"account_id":14378703,"reputation":171,"user_id":10386528,"display_name":"kuti"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":174,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648734434,"creation_date":1648699280,"question_id":71686753,"body_markdown":"I&#39;m fetching data from oracle db using `jdbc source connector` and pushing(both key &amp; value in avro format(schema registry)) to a kafka topic.\r\n\r\n    Value schema:\r\n    {\r\n    &quot;subject&quot;: &quot;testtopicA-value&quot;,\r\n    &quot;version&quot;: 1,\r\n    &quot;id&quot;: 1122,\r\n    &quot;schema&quot;: &quot;{\\&quot;type\\&quot;:\\&quot;record\\&quot;,\\&quot;name\\&quot;:\\&quot;ConnectDefault\\&quot;,\\&quot;namespace\\&quot;:\\&quot;io.confluent.connect.avro\\&quot;,\\&quot;fields\\&quot;:[{\\&quot;name\\&quot;:\\&quot;ID\\&quot;,\\&quot;type\\&quot;:[\\&quot;null\\&quot;,\\&quot;long\\&quot;],\\&quot;default\\&quot;:null},{\\&quot;name\\&quot;:\\&quot;TIME\\&quot;,\\&quot;type\\&quot;:{\\&quot;type\\&quot;:\\&quot;long\\&quot;,\\&quot;connect.version\\&quot;:1,\\&quot;connect.name\\&quot;:\\&quot;org.apache.kafka.connect.data.Timestamp\\&quot;,\\&quot;logicalType\\&quot;:\\&quot;timestamp-millis\\&quot;}},{\\&quot;name\\&quot;:\\&quot;STATUS\\&quot;,\\&quot;type\\&quot;:\\&quot;string\\&quot;},{\\&quot;name\\&quot;:\\&quot;NUMBER\\&quot;,\\&quot;type\\&quot;:[\\&quot;null\\&quot;,\\&quot;int\\&quot;],\\&quot;default\\&quot;:null}]}&quot;\r\n    }\r\n\r\n    Key Schema :\r\n    {\r\n    &quot;subject&quot;: &quot;testtopicA-key&quot;,\r\n    &quot;version&quot;: 1,\r\n    &quot;id&quot;: 1123,\r\n    &quot;schema&quot;: &quot;[\\&quot;null\\&quot;,\\&quot;long\\&quot;]&quot;\r\n    }\r\n\r\n\r\nI&#39;ve a kafka stream listening to this topic and has avro Genericrecord. When I started the stream, I started getting  `ClassCastException: java.lang.Long cannot be cast to org.apache.avro.generic.GenericRecord`\r\nThe schema generated by connect has fields that has datatype as &quot;long&quot;\r\n\r\n            final StreamsBuilder builder = new StreamsBuilder();\r\n\t\tKStream&lt;?,?&gt; stream;\r\n\t\tstream = builder.stream(INPUTTOPIC);\t\t\r\n\t\t\r\n\t\t((KStream&lt;GenericRecord,GenericRecord&gt;) stream)\r\n\t\t\r\n\t\t.filter((k,v) -&gt; v != null)\r\n\t\t.map((k,v)-&gt;\r\n\t\t{\r\n\t\t\t.........\r\n\t\t\t.......\r\n\t\t\r\n\r\nDoes anyone has suggestions on how to resolve this issue?\r\nConfluent version : 6.2.0\r\n","title":"jdbc kafka connect avro schema incompatibility with stream","body":"<p>I'm fetching data from oracle db using <code>jdbc source connector</code> and pushing(both key &amp; value in avro format(schema registry)) to a kafka topic.</p>\n<pre><code>Value schema:\n{\n&quot;subject&quot;: &quot;testtopicA-value&quot;,\n&quot;version&quot;: 1,\n&quot;id&quot;: 1122,\n&quot;schema&quot;: &quot;{\\&quot;type\\&quot;:\\&quot;record\\&quot;,\\&quot;name\\&quot;:\\&quot;ConnectDefault\\&quot;,\\&quot;namespace\\&quot;:\\&quot;io.confluent.connect.avro\\&quot;,\\&quot;fields\\&quot;:[{\\&quot;name\\&quot;:\\&quot;ID\\&quot;,\\&quot;type\\&quot;:[\\&quot;null\\&quot;,\\&quot;long\\&quot;],\\&quot;default\\&quot;:null},{\\&quot;name\\&quot;:\\&quot;TIME\\&quot;,\\&quot;type\\&quot;:{\\&quot;type\\&quot;:\\&quot;long\\&quot;,\\&quot;connect.version\\&quot;:1,\\&quot;connect.name\\&quot;:\\&quot;org.apache.kafka.connect.data.Timestamp\\&quot;,\\&quot;logicalType\\&quot;:\\&quot;timestamp-millis\\&quot;}},{\\&quot;name\\&quot;:\\&quot;STATUS\\&quot;,\\&quot;type\\&quot;:\\&quot;string\\&quot;},{\\&quot;name\\&quot;:\\&quot;NUMBER\\&quot;,\\&quot;type\\&quot;:[\\&quot;null\\&quot;,\\&quot;int\\&quot;],\\&quot;default\\&quot;:null}]}&quot;\n}\n\nKey Schema :\n{\n&quot;subject&quot;: &quot;testtopicA-key&quot;,\n&quot;version&quot;: 1,\n&quot;id&quot;: 1123,\n&quot;schema&quot;: &quot;[\\&quot;null\\&quot;,\\&quot;long\\&quot;]&quot;\n}\n</code></pre>\n<p>I've a kafka stream listening to this topic and has avro Genericrecord. When I started the stream, I started getting  <code>ClassCastException: java.lang.Long cannot be cast to org.apache.avro.generic.GenericRecord</code>\nThe schema generated by connect has fields that has datatype as &quot;long&quot;</p>\n<pre><code>        final StreamsBuilder builder = new StreamsBuilder();\n    KStream&lt;?,?&gt; stream;\n    stream = builder.stream(INPUTTOPIC);        \n    \n    ((KStream&lt;GenericRecord,GenericRecord&gt;) stream)\n    \n    .filter((k,v) -&gt; v != null)\n    .map((k,v)-&gt;\n    {\n        .........\n        .......\n    \n</code></pre>\n<p>Does anyone has suggestions on how to resolve this issue?\nConfluent version : 6.2.0</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1648676603,"post_id":71684409,"comment_id":126688440,"body_markdown":"Use a modal dialog, see [How to Make Dialogs](https://docs.oracle.com/javase/tutorial/uiswing/components/dialog.html) for more details","body":"Use a modal dialog, see <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/dialog.html\" rel=\"nofollow noreferrer\">How to Make Dialogs</a> for more details"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648676869,"creation_date":1648676869,"answer_id":71684529,"question_id":71684409,"body_markdown":"Use a modal dialog, see [How to Make Dialogs](https://docs.oracle.com/javase/tutorial/uiswing/components/dialog.html) for more details.\r\n\r\nAs a simple example, you could just use `JOptionPane`...\r\n\r\n    EventQueue.invokeLater(new Runnable() {\r\n        @Override\r\n        public void run() {\r\n            JTextField textField = new JTextField(10);\r\n            textField.setText(&quot;Default value&quot;);\r\n            JPanel contentPane = new JPanel();\r\n            contentPane.add(new JLabel(&quot;Type something: &quot;));\r\n            contentPane.add(textField);\r\n\r\n            JOptionPane.showMessageDialog(null, contentPane, &quot;Type someting&quot;, JOptionPane.PLAIN_MESSAGE);\r\n\r\n            System.out.println(textField.getText());\r\n        }\r\n    });\r\n\r\nThe alternative would be to implement some kind of [observer pattern](https://www.oodesign.com/observer-pattern.html) which could be called when the `ActionListener` is triggered, but to be honest, a `JOptionPane` is just simpler","title":"Returning value to Java program from Swing GUI","body":"<p>Use a modal dialog, see <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/dialog.html\" rel=\"nofollow noreferrer\">How to Make Dialogs</a> for more details.</p>\n<p>As a simple example, you could just use <code>JOptionPane</code>...</p>\n<pre><code>EventQueue.invokeLater(new Runnable() {\n    @Override\n    public void run() {\n        JTextField textField = new JTextField(10);\n        textField.setText(&quot;Default value&quot;);\n        JPanel contentPane = new JPanel();\n        contentPane.add(new JLabel(&quot;Type something: &quot;));\n        contentPane.add(textField);\n\n        JOptionPane.showMessageDialog(null, contentPane, &quot;Type someting&quot;, JOptionPane.PLAIN_MESSAGE);\n\n        System.out.println(textField.getText());\n    }\n});\n</code></pre>\n<p>The alternative would be to implement some kind of <a href=\"https://www.oodesign.com/observer-pattern.html\" rel=\"nofollow noreferrer\">observer pattern</a> which could be called when the <code>ActionListener</code> is triggered, but to be honest, a <code>JOptionPane</code> is just simpler</p>\n"},{"tags":[],"owner":{"account_id":8546,"reputation":17688,"user_id":15472,"accept_rate":87,"display_name":"tucuxi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648681113,"creation_date":1648681113,"answer_id":71685038,"question_id":71684409,"body_markdown":"I propose writing a minimal interface for a callback, such as:\r\n\r\n    interface StuffToDoWithDialog {\r\n        // will be called once values for foo and bar are ready\r\n        void doStuff(String foo, int bar);\r\n    }\r\n\r\nand building the interface so that, once values are ready, the passed-in instance of this interface is called:\r\n\r\n    public static void showDialog(StuffToDoWithDialog callback) {\r\n        SwingUtilities.invokeLater(() -&gt; {\r\n            // ... draw interface ...\r\n            // ... and somewhere, once values are ready, call callback\r\n            callback.doStuff(foo, bar);\r\n        });\r\n    }\r\n\r\nthis makes it very simple to test, and you can pass in much more complex behavior when needed:\r\n\r\n    public static void main(String ... args) {\r\n        showDialog((foo, bar) -&gt; {\r\n            System.out.println(&quot;Foo is &quot; + foo);\r\n            System.out.println(&quot;Bar is &quot; + bar);\r\n        });\r\n    }\r\n\r\nWorking program (save as `Example.java`):\r\n\r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    \r\n    public class Example {\r\n    \r\n        interface StuffToDoWithDialog {\r\n            void doStuff(String foo, int bar);\r\n        }\r\n    \r\n        public static void main(String ... args) {\r\n            showDialog((foo, bar) -&gt; {\r\n                System.out.println(&quot;Foo is &quot; + foo);\r\n                System.out.println(&quot;Bar is &quot; + bar);\r\n            });\r\n        }\r\n    \r\n        private static JTextField addFormRowToPanel(JPanel panel, String label, int rowNum) {\r\n            GridBagConstraints gbc = new GridBagConstraints();\r\n            gbc.ipadx = 2;\r\n            gbc.gridx = 0;\r\n            gbc.gridy = rowNum;\r\n            panel.add(new JLabel(label), gbc);\r\n            JTextField field = new JTextField();\r\n            field.setPreferredSize(new Dimension(50, (int)field.getPreferredSize().getHeight()));\r\n            gbc.gridx = 1;\r\n            gbc.fill = GridBagConstraints.HORIZONTAL;\r\n            panel.add(field, gbc);\r\n            return field;\r\n        }\r\n    \r\n        public static void showDialog(StuffToDoWithDialog callback) {\r\n            SwingUtilities.invokeLater(() -&gt; {\r\n                // builds contents for dialog: two inputs with labels\r\n                JPanel jp = new JPanel(new GridBagLayout());\r\n                JTextField foo = addFormRowToPanel(jp, &quot;String foo&quot;, 0);\r\n                JTextField bar = addFormRowToPanel(jp, &quot;Integer bar&quot;, 1);\r\n                \r\n                boolean valid = false;\r\n                while ( ! valid) {\r\n                    // blocks while showing dialog\r\n                    JOptionPane.showMessageDialog(null, \r\n                        jp, &quot;Input options&quot;, JOptionPane.PLAIN_MESSAGE);\r\n                    // checks results\r\n                   if (foo.getText() != null \r\n                        &amp;&amp; bar.getText() != null \r\n                        &amp;&amp;  bar.getText().matches(&quot;[0-9]+&quot;)) {\r\n                            valid = true;\r\n                    } else {\r\n                        // complain: bad inputs\r\n                        int rc = JOptionPane.showConfirmDialog(null, \r\n                            &quot;Invalid inputs, try again or cancel?&quot;, &quot;Error&quot;, \r\n                            JOptionPane.OK_CANCEL_OPTION, JOptionPane.ERROR_MESSAGE);\r\n                        if (rc == JOptionPane.CANCEL_OPTION) return;\r\n                    }\r\n                }\r\n    \r\n                // returns results\r\n                callback.doStuff(foo.getText(), Integer.parseInt(bar.getText()));\r\n            });\r\n        }    \r\n    }\r\n\r\n","title":"Returning value to Java program from Swing GUI","body":"<p>I propose writing a minimal interface for a callback, such as:</p>\n<pre><code>interface StuffToDoWithDialog {\n    // will be called once values for foo and bar are ready\n    void doStuff(String foo, int bar);\n}\n</code></pre>\n<p>and building the interface so that, once values are ready, the passed-in instance of this interface is called:</p>\n<pre><code>public static void showDialog(StuffToDoWithDialog callback) {\n    SwingUtilities.invokeLater(() -&gt; {\n        // ... draw interface ...\n        // ... and somewhere, once values are ready, call callback\n        callback.doStuff(foo, bar);\n    });\n}\n</code></pre>\n<p>this makes it very simple to test, and you can pass in much more complex behavior when needed:</p>\n<pre><code>public static void main(String ... args) {\n    showDialog((foo, bar) -&gt; {\n        System.out.println(&quot;Foo is &quot; + foo);\n        System.out.println(&quot;Bar is &quot; + bar);\n    });\n}\n</code></pre>\n<p>Working program (save as <code>Example.java</code>):</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\n\npublic class Example {\n\n    interface StuffToDoWithDialog {\n        void doStuff(String foo, int bar);\n    }\n\n    public static void main(String ... args) {\n        showDialog((foo, bar) -&gt; {\n            System.out.println(&quot;Foo is &quot; + foo);\n            System.out.println(&quot;Bar is &quot; + bar);\n        });\n    }\n\n    private static JTextField addFormRowToPanel(JPanel panel, String label, int rowNum) {\n        GridBagConstraints gbc = new GridBagConstraints();\n        gbc.ipadx = 2;\n        gbc.gridx = 0;\n        gbc.gridy = rowNum;\n        panel.add(new JLabel(label), gbc);\n        JTextField field = new JTextField();\n        field.setPreferredSize(new Dimension(50, (int)field.getPreferredSize().getHeight()));\n        gbc.gridx = 1;\n        gbc.fill = GridBagConstraints.HORIZONTAL;\n        panel.add(field, gbc);\n        return field;\n    }\n\n    public static void showDialog(StuffToDoWithDialog callback) {\n        SwingUtilities.invokeLater(() -&gt; {\n            // builds contents for dialog: two inputs with labels\n            JPanel jp = new JPanel(new GridBagLayout());\n            JTextField foo = addFormRowToPanel(jp, &quot;String foo&quot;, 0);\n            JTextField bar = addFormRowToPanel(jp, &quot;Integer bar&quot;, 1);\n            \n            boolean valid = false;\n            while ( ! valid) {\n                // blocks while showing dialog\n                JOptionPane.showMessageDialog(null, \n                    jp, &quot;Input options&quot;, JOptionPane.PLAIN_MESSAGE);\n                // checks results\n               if (foo.getText() != null \n                    &amp;&amp; bar.getText() != null \n                    &amp;&amp;  bar.getText().matches(&quot;[0-9]+&quot;)) {\n                        valid = true;\n                } else {\n                    // complain: bad inputs\n                    int rc = JOptionPane.showConfirmDialog(null, \n                        &quot;Invalid inputs, try again or cancel?&quot;, &quot;Error&quot;, \n                        JOptionPane.OK_CANCEL_OPTION, JOptionPane.ERROR_MESSAGE);\n                    if (rc == JOptionPane.CANCEL_OPTION) return;\n                }\n            }\n\n            // returns results\n            callback.doStuff(foo.getText(), Integer.parseInt(bar.getText()));\n        });\n    }    \n}\n</code></pre>\n"}],"owner":{"account_id":7597727,"reputation":2056,"user_id":5763413,"display_name":"blackbrandt"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":349,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1648734333,"creation_date":1648676155,"question_id":71684409,"body_markdown":"## Background\r\nI am writing this GUI as a plugin for another program. The GUI prompts the user to enter values which should be returned to the main program when the window closes (in this case the `println` statement in tester). \r\n\r\nMy current method is using an ActionListener on the `okButton`, which when clicked, sets `returnValue` to the text in the text field, and closes the window. \r\n\r\nI have read through the docs and attempted to search terms such as &quot;return value from GUI&quot;, &quot;return field value after button press&quot;, but I have not yet found anything relating to my use case. I have minimal experience with Java GUI&#39;s, so there is a solid chance that I am  missing a built-in way of doing this. \r\n\r\n\r\n## Driver class:\r\n\r\n```java\r\npublic class Tester {\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tTestWindow tw = new TestWindow();\r\n\t\tString ret = tw.run();\r\n\t\tSystem.out.println(ret);\r\n\t}\r\n}\r\n```\r\n\r\n## Window Class\r\n```java\r\nimport javax.swing.JButton;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JTextField;\r\n\r\npublic class TestWindow {\r\n\tJFrame jFrame = new JFrame();\r\n\tJTextField textField = new JTextField(&quot;&quot;, 10);\r\n\tJButton okButton = new JButton(&quot;OK&quot;);\r\n\tString returnValue = &quot;defaultValue&quot;;\r\n\r\n\tpublic TestWindow() {\r\n\t\tjFrame.setSize(400, 400);\r\n\t\ttextField.setBounds(50, 100, 200, 30);\r\n\t\tokButton.setBounds(50, 150, 200, 30);\r\n\t\tokButton.addActionListener(e -&gt; {\r\n            // Set returnValue field to textField value\r\n\t\t\treturnValue = textField.getText();\r\n            // Dispose of JFrame\r\n\t\t\tjFrame.dispose();\r\n\t\t});\r\n\t\tjFrame.add(textField);\r\n\t\tjFrame.add(okButton);\r\n\t\tjFrame.setLayout(null);\r\n\t}\r\n\r\n\tpublic String run() {\r\n\t\tjFrame.setVisible(true);\r\n\t\treturn textField.getText();\r\n\t}\r\n\r\n}\r\n```\r\n\r\nWhen I step through the driver class with a debugger, the value returned is always &quot;defaultValue&quot;, or the initial default value of `retValue`. Furthermore, the print statement after the `run` method runs immediately as the window appears, not after the GUI exits. \r\n\r\n## Question\r\nHow can I give this value back to the main program when the OK button is clicked? (My actual program returns a hashmap of the various values set in the UI, but I have simplified it to a text field for purposes of a MCVE).\r\n\r\nEdit with more context:\r\nI am writing a plugin for MagicDraw. There is not an existing Swing UI that I can take advantage of. The user clicks a button in the MagicDraw UI, which launches my plugin. Originally the plugin used hard coded variables with no Swing UI, and this is an extension of that. However, from my understanding, my question should be agnostic of this. \r\n","title":"Returning value to Java program from Swing GUI","body":"<h2>Background</h2>\n<p>I am writing this GUI as a plugin for another program. The GUI prompts the user to enter values which should be returned to the main program when the window closes (in this case the <code>println</code> statement in tester).</p>\n<p>My current method is using an ActionListener on the <code>okButton</code>, which when clicked, sets <code>returnValue</code> to the text in the text field, and closes the window.</p>\n<p>I have read through the docs and attempted to search terms such as &quot;return value from GUI&quot;, &quot;return field value after button press&quot;, but I have not yet found anything relating to my use case. I have minimal experience with Java GUI's, so there is a solid chance that I am  missing a built-in way of doing this.</p>\n<h2>Driver class:</h2>\n<pre class=\"lang-java prettyprint-override\"><code>public class Tester {\n\n    public static void main(String[] args) {\n\n        TestWindow tw = new TestWindow();\n        String ret = tw.run();\n        System.out.println(ret);\n    }\n}\n</code></pre>\n<h2>Window Class</h2>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JTextField;\n\npublic class TestWindow {\n    JFrame jFrame = new JFrame();\n    JTextField textField = new JTextField(&quot;&quot;, 10);\n    JButton okButton = new JButton(&quot;OK&quot;);\n    String returnValue = &quot;defaultValue&quot;;\n\n    public TestWindow() {\n        jFrame.setSize(400, 400);\n        textField.setBounds(50, 100, 200, 30);\n        okButton.setBounds(50, 150, 200, 30);\n        okButton.addActionListener(e -&gt; {\n            // Set returnValue field to textField value\n            returnValue = textField.getText();\n            // Dispose of JFrame\n            jFrame.dispose();\n        });\n        jFrame.add(textField);\n        jFrame.add(okButton);\n        jFrame.setLayout(null);\n    }\n\n    public String run() {\n        jFrame.setVisible(true);\n        return textField.getText();\n    }\n\n}\n</code></pre>\n<p>When I step through the driver class with a debugger, the value returned is always &quot;defaultValue&quot;, or the initial default value of <code>retValue</code>. Furthermore, the print statement after the <code>run</code> method runs immediately as the window appears, not after the GUI exits.</p>\n<h2>Question</h2>\n<p>How can I give this value back to the main program when the OK button is clicked? (My actual program returns a hashmap of the various values set in the UI, but I have simplified it to a text field for purposes of a MCVE).</p>\n<p>Edit with more context:\nI am writing a plugin for MagicDraw. There is not an existing Swing UI that I can take advantage of. The user clicks a button in the MagicDraw UI, which launches my plugin. Originally the plugin used hard coded variables with no Swing UI, and this is an extension of that. However, from my understanding, my question should be agnostic of this.</p>\n"},{"tags":["java","regex","regexp-replace"],"comments":[{"owner":{"account_id":20353400,"reputation":124,"user_id":14929537,"display_name":"fabio19933"},"score":0,"creation_date":1648716861,"post_id":71689497,"comment_id":126697085,"body_markdown":"if i understand the question.\n\nyou can use String format at beginning of your replaceAll:\n\nString.format(&quot;improvedRegex %s&quot;,&quot;145632afaf214+--)(&quot;.replaceAll(&quot;\\\\D&quot;, &quot;&quot;));","body":"if i understand the question.  you can use String format at beginning of your replaceAll:  String.format(&quot;improvedRegex %s&quot;,&quot;145632afaf214+--)(&quot;.replaceAll(&quot;\\\\D&quot;, &quot;&quot;));"},{"owner":{"account_id":24756253,"reputation":1,"user_id":18641148,"display_name":"JohnJemon"},"score":0,"creation_date":1648717263,"post_id":71689497,"comment_id":126697243,"body_markdown":"@fabio19933 yes, but I need to do it with one regex. I have an immutable method that takes parameters for replaceAll (regex and replacement) and returns a string.","body":"@fabio19933 yes, but I need to do it with one regex. I have an immutable method that takes parameters for replaceAll (regex and replacement) and returns a string."}],"owner":{"account_id":24756253,"reputation":1,"user_id":18641148,"display_name":"JohnJemon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648734203,"creation_date":1648716312,"question_id":71689497,"body_markdown":"I have a regex for exclude non digit symbols:\r\n\r\n    \\\\D\r\n\r\nAnd i need to replace all non digit symbols to spaces:\r\n\r\n    &quot;145632afaf214+--)(&quot;.replaceAll(&quot;\\\\D&quot;, &quot;&quot;); // 145632214\r\n\r\nCan I add to result some constant at the beginning string if i have result from the regex? I would see result like this:\r\n\r\n    &quot;145632afaf214+--)(&quot;.replaceAll(improvedRegex, &quot;&quot;); // CONST145632214\r\n\r\nHowever:\r\n\r\n    &quot;qwqtyafaf+--)(&quot;.replaceAll(improvedRegex, &quot;&quot;); // &quot;&quot;\r\n\r\n**EDIT:**\r\nThis regex adds CONST to the string but doesn&#39;t filter digits:\r\n\r\n    replaceAll(&quot;(^.+)&quot;, &quot;CONST$1&quot;)","title":"Add constant when replaceAll by regex","body":"<p>I have a regex for exclude non digit symbols:</p>\n<pre><code>\\\\D\n</code></pre>\n<p>And i need to replace all non digit symbols to spaces:</p>\n<pre><code>&quot;145632afaf214+--)(&quot;.replaceAll(&quot;\\\\D&quot;, &quot;&quot;); // 145632214\n</code></pre>\n<p>Can I add to result some constant at the beginning string if i have result from the regex? I would see result like this:</p>\n<pre><code>&quot;145632afaf214+--)(&quot;.replaceAll(improvedRegex, &quot;&quot;); // CONST145632214\n</code></pre>\n<p>However:</p>\n<pre><code>&quot;qwqtyafaf+--)(&quot;.replaceAll(improvedRegex, &quot;&quot;); // &quot;&quot;\n</code></pre>\n<p><strong>EDIT:</strong>\nThis regex adds CONST to the string but doesn't filter digits:</p>\n<pre><code>replaceAll(&quot;(^.+)&quot;, &quot;CONST$1&quot;)\n</code></pre>\n"},{"tags":["java","java-8","java-stream","collectors"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1396447918,"post_id":22753755,"comment_id":34792810,"body_markdown":"There is already an answer [here](http://stackoverflow.com/questions/21522341/collection-to-stream-to-a-new-collection/21526973#21526973). Look for the item “Add to an existing `Collection`”","body":"There is already an answer <a href=\"http://stackoverflow.com/questions/21522341/collection-to-stream-to-a-new-collection/21526973#21526973\">here</a>. Look for the item “Add to an existing <code>Collection</code>”"}],"answers":[{"tags":[],"owner":{"account_id":3059307,"reputation":2983,"user_id":2592326,"display_name":"Aman Agnihotri"},"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1499671343,"creation_date":1396241510,"answer_id":22753852,"question_id":22753755,"body_markdown":"&lt;!-- language-all: lang-java --&gt;\r\n\r\nYou just have to refer your original list to be the one that the `Collectors.toList()` returns.\r\n\r\nHere&#39;s a demo:\r\n\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    import java.util.stream.Collectors;\r\n    \r\n    public class Reference {\r\n\r\n      public static void main(String[] args) {\r\n        List&lt;Integer&gt; list = Arrays.asList(1, 2, 3, 4, 5);\r\n        System.out.println(list);\r\n    \r\n        // Just collect even numbers and start referring the new list as the original one.\r\n        list = list.stream()\r\n                   .filter(n -&gt; n % 2 == 0)\r\n                   .collect(Collectors.toList());\r\n        System.out.println(list);\r\n      }\r\n    }\r\n\r\nAnd here&#39;s how you can add the newly created elements to your original list in just one line.\r\n\r\n    List&lt;Integer&gt; list = ...;\r\n    // add even numbers from the list to the list again.\r\n    list.addAll(list.stream()\r\n                    .filter(n -&gt; n % 2 == 0)\r\n                    .collect(Collectors.toList())\r\n    );\r\n\r\nThat&#39;s what this Functional Programming Paradigm provides.","title":"How to add elements of a Java8 stream into an existing List","body":"\n\n<p>You just have to refer your original list to be the one that the <code>Collectors.toList()</code> returns.</p>\n\n<p>Here's a demo:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Arrays;\nimport java.util.List;\nimport java.util.stream.Collectors;\n\npublic class Reference {\n\n  public static void main(String[] args) {\n    List&lt;Integer&gt; list = Arrays.asList(1, 2, 3, 4, 5);\n    System.out.println(list);\n\n    // Just collect even numbers and start referring the new list as the original one.\n    list = list.stream()\n               .filter(n -&gt; n % 2 == 0)\n               .collect(Collectors.toList());\n    System.out.println(list);\n  }\n}\n</code></pre>\n\n<p>And here's how you can add the newly created elements to your original list in just one line.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Integer&gt; list = ...;\n// add even numbers from the list to the list again.\nlist.addAll(list.stream()\n                .filter(n -&gt; n % 2 == 0)\n                .collect(Collectors.toList())\n);\n</code></pre>\n\n<p>That's what this Functional Programming Paradigm provides.</p>\n"},{"tags":[],"owner":{"account_id":89838,"reputation":37282,"user_id":247623,"accept_rate":72,"display_name":"Erik Kaplun"},"down_vote_count":2,"up_vote_count":17,"is_accepted":false,"score":15,"last_activity_date":1499672460,"creation_date":1396242292,"answer_id":22753957,"question_id":22753755,"body_markdown":"**The short answer** is no (or should be no). **EDIT:** yeah, it&#39;s possible (see assylias&#39; answer below), but keep reading. **EDIT2:** but see Stuart Marks&#39; answer for yet another reason why you still shouldn&#39;t do it!\r\n\r\n**The longer answer:**\r\n\r\nThe purpose of these constructs in Java 8 is to introduce some concepts of [Functional Programming][1] to the language; in Functional Programming, data structures are not typically modified, instead, new ones are created out of old ones by means of transformations such as map, filter, fold/reduce and many others.\r\n\r\nIf you *must* modify the old list, simply collect the mapped items into a fresh list:\r\n\r\n    final List&lt;Integer&gt; newList = list.stream()\r\n                                      .filter(n -&gt; n % 2 == 0)\r\n                                      .collect(Collectors.toList());\r\n\r\nand then do `list.addAll(newList)` — again: if you really must.\r\n\r\n(or construct a new list concatenating the old one and the new one, and assign it back to the `list` variable—this is a *little bit* more in the spirit of FP than `addAll`)\r\n\r\nAs to the API: even though the API allows it (again, see assylias&#39; answer) you should try to avoid doing that regardless, at least in general. It&#39;s best not to fight the paradigm (FP) and try to learn it rather than fight it (even though Java generally isn&#39;t a FP language), and only resort to &quot;dirtier&quot; tactics if absolutely needed.\r\n\r\n**The really long answer:** (i.e. if you include the effort of actually finding and reading an FP intro/book as suggested)\r\n\r\nTo find out why modifying existing lists is in general a bad idea and leads to less maintainable code—unless you&#39;re modifying a local variable and your algorithm is short and/or trivial, which is out of the scope of the question of code maintainability—find a good introduction to Functional Programming (there are hundreds) and start reading. A &quot;preview&quot; explanation would be something like: it&#39;s more mathematically sound and easier to reason about to not modify data (in most parts of your program) and leads to higher level and less technical (as well as more human friendly, once your brain transitions away from the old-style imperative thinking) definitions of program logic.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Functional_programming","title":"How to add elements of a Java8 stream into an existing List","body":"<p><strong>The short answer</strong> is no (or should be no). <strong>EDIT:</strong> yeah, it's possible (see assylias' answer below), but keep reading. <strong>EDIT2:</strong> but see Stuart Marks' answer for yet another reason why you still shouldn't do it!</p>\n\n<p><strong>The longer answer:</strong></p>\n\n<p>The purpose of these constructs in Java 8 is to introduce some concepts of <a href=\"https://en.wikipedia.org/wiki/Functional_programming\" rel=\"noreferrer\">Functional Programming</a> to the language; in Functional Programming, data structures are not typically modified, instead, new ones are created out of old ones by means of transformations such as map, filter, fold/reduce and many others.</p>\n\n<p>If you <em>must</em> modify the old list, simply collect the mapped items into a fresh list:</p>\n\n<pre><code>final List&lt;Integer&gt; newList = list.stream()\n                                  .filter(n -&gt; n % 2 == 0)\n                                  .collect(Collectors.toList());\n</code></pre>\n\n<p>and then do <code>list.addAll(newList)</code> — again: if you really must.</p>\n\n<p>(or construct a new list concatenating the old one and the new one, and assign it back to the <code>list</code> variable—this is a <em>little bit</em> more in the spirit of FP than <code>addAll</code>)</p>\n\n<p>As to the API: even though the API allows it (again, see assylias' answer) you should try to avoid doing that regardless, at least in general. It's best not to fight the paradigm (FP) and try to learn it rather than fight it (even though Java generally isn't a FP language), and only resort to \"dirtier\" tactics if absolutely needed.</p>\n\n<p><strong>The really long answer:</strong> (i.e. if you include the effort of actually finding and reading an FP intro/book as suggested)</p>\n\n<p>To find out why modifying existing lists is in general a bad idea and leads to less maintainable code—unless you're modifying a local variable and your algorithm is short and/or trivial, which is out of the scope of the question of code maintainability—find a good introduction to Functional Programming (there are hundreds) and start reading. A \"preview\" explanation would be something like: it's more mathematically sound and easier to reason about to not modify data (in most parts of your program) and leads to higher level and less technical (as well as more human friendly, once your brain transitions away from the old-style imperative thinking) definitions of program logic.</p>\n"},{"tags":[],"owner":{"account_id":3964157,"reputation":8643,"user_id":3270595,"accept_rate":75,"display_name":"Balder"},"down_vote_count":4,"up_vote_count":17,"is_accepted":false,"score":13,"last_activity_date":1648733979,"creation_date":1396246851,"answer_id":22754767,"question_id":22753755,"body_markdown":"[Erik Kaplun][1] already gave very good reasons, why you will most likely not want to collect elements of a stream into an existing List.\r\n\r\nAnyway, you can use the following one-liner, if you really need this functionality.\r\n\r\nBut as pointed out in the other answers, **you should never do this, ever**, in particular not if the streams might be parallel streams - use at your own risk...\r\n\r\n    list.stream().collect(Collectors.toCollection(() -&gt; myExistingList));\r\n\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/22753957/3270595\r\n  [2]: https://stackoverflow.com/a/22755993/3270595","title":"How to add elements of a Java8 stream into an existing List","body":"<p><a href=\"https://stackoverflow.com/a/22753957/3270595\">Erik Kaplun</a> already gave very good reasons, why you will most likely not want to collect elements of a stream into an existing List.</p>\n<p>Anyway, you can use the following one-liner, if you really need this functionality.</p>\n<p>But as pointed out in the other answers, <strong>you should never do this, ever</strong>, in particular not if the streams might be parallel streams - use at your own risk...</p>\n<pre><code>list.stream().collect(Collectors.toCollection(() -&gt; myExistingList));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1370027,"reputation":49110,"user_id":1305501,"accept_rate":77,"display_name":"nosid"},"down_vote_count":1,"up_vote_count":217,"is_accepted":false,"score":216,"last_activity_date":1499671297,"creation_date":1396248832,"answer_id":22755225,"question_id":22753755,"body_markdown":"As far as I can see, all other answers so far used a collector to add elements to an existing stream. However, there&#39;s a shorter solution, and it works for both sequential and parallel streams. You can simply use the method _forEachOrdered_ in combination with a method reference.\r\n\r\n    List&lt;String&gt; source = ...;\r\n    List&lt;Integer&gt; target = ...;\r\n\r\n    source.stream()\r\n          .map(String::length)\r\n          .forEachOrdered(target::add);\r\n\r\nThe only restriction is, that _source_ and _target_ are different lists, because you are not allowed to make changes to the source of a stream as long as it is processed.\r\n\r\nNote that this solution works for both sequential and parallel streams. However, it does not benefit from concurrency. The method reference passed to _forEachOrdered_ will always be executed sequentially.\r\n","title":"How to add elements of a Java8 stream into an existing List","body":"<p>As far as I can see, all other answers so far used a collector to add elements to an existing stream. However, there's a shorter solution, and it works for both sequential and parallel streams. You can simply use the method <em>forEachOrdered</em> in combination with a method reference.</p>\n\n<pre><code>List&lt;String&gt; source = ...;\nList&lt;Integer&gt; target = ...;\n\nsource.stream()\n      .map(String::length)\n      .forEachOrdered(target::add);\n</code></pre>\n\n<p>The only restriction is, that <em>source</em> and <em>target</em> are different lists, because you are not allowed to make changes to the source of a stream as long as it is processed.</p>\n\n<p>Note that this solution works for both sequential and parallel streams. However, it does not benefit from concurrency. The method reference passed to <em>forEachOrdered</em> will always be executed sequentially.</p>\n"},{"tags":[],"owner":{"account_id":1548079,"reputation":128727,"user_id":1441122,"display_name":"Stuart Marks"},"down_vote_count":1,"up_vote_count":256,"is_accepted":true,"score":255,"last_activity_date":1454264960,"creation_date":1396251623,"answer_id":22755993,"question_id":22753755,"body_markdown":"**NOTE:** *[nosid&#39;s answer][1] shows how to add to an existing collection using `forEachOrdered()`. This is a useful and effective technique for mutating existing collections. My answer addresses why you shouldn&#39;t use a `Collector` to mutate an existing collection.*\r\n\r\nThe short answer is **no**, at least, not in general, you shouldn&#39;t use a `Collector` to modify an existing collection.\r\n\r\nThe reason is that collectors are designed to support parallelism, even over collections that aren&#39;t thread-safe. The way they do this is to have each thread operate independently on its own collection of intermediate results. The way each thread gets its own collection is to call the `Collector.supplier()` which is required to return a **new** collection each time.\r\n\r\nThese collections of intermediate results are then merged, again in a thread-confined fashion, until there is a single result collection. This is the final result of the `collect()` operation.\r\n\r\nA couple answers from [Balder][2] and [assylias][3] have suggested using `Collectors.toCollection()` and then passing a supplier that returns an existing list instead of a new list. This violates the requirement on the supplier, which is that it return a new, empty collection each time.\r\n\r\nThis will work for simple cases, as the examples in their answers demonstrate. However, it will fail, particularly if the stream is run in parallel. (A future version of the library might change in some unforeseen way that will cause it to fail, even in the sequential case.)\r\n\r\nLet&#39;s take a simple example:\r\n\r\n    List&lt;String&gt; destList = new ArrayList&lt;&gt;(Arrays.asList(&quot;foo&quot;));\r\n    List&lt;String&gt; newList = Arrays.asList(&quot;0&quot;, &quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;);\r\n    newList.parallelStream()\r\n           .collect(Collectors.toCollection(() -&gt; destList));\r\n    System.out.println(destList);\r\n\r\nWhen I run this program, I often get an `ArrayIndexOutOfBoundsException`. This is because multiple threads are operating on `ArrayList`, a thread-unsafe data structure. OK, let&#39;s make it synchronized:\r\n\r\n    List&lt;String&gt; destList =\r\n        Collections.synchronizedList(new ArrayList&lt;&gt;(Arrays.asList(&quot;foo&quot;)));\r\n\r\nThis will no longer fail with an exception. But instead of the expected result:\r\n\r\n    [foo, 0, 1, 2, 3]\r\n\r\nit gives weird results like this:\r\n\r\n    [foo, 2, 3, foo, 2, 3, 1, 0, foo, 2, 3, foo, 2, 3, 1, 0, foo, 2, 3, foo, 2, 3, 1, 0, foo, 2, 3, foo, 2, 3, 1, 0]\r\n\r\nThis is the result of the thread-confined accumulation/merging operations I described above. With a parallel stream, each thread calls the supplier to get its own collection for intermediate accumulation. If you pass a supplier that returns the **same** collection, each thread appends its results to that collection. Since there is no ordering among the threads, results will be appended in some arbitrary order.\r\n\r\nThen, when these intermediate collections are merged, this basically merges the list with itself. Lists are merged using `List.addAll()`, which says that the results are undefined if the source collection is modified during the operation. In this case, `ArrayList.addAll()` does an array-copy operation, so it ends up duplicating itself, which is sort-of what one would expect, I guess. (Note that other List implementations might have completely different behavior.) Anyway, this explains the weird results and duplicated elements in the destination.\r\n\r\nYou might say, &quot;I&#39;ll just make sure to run my stream sequentially&quot; and go ahead and write code like this\r\n\r\n    stream.collect(Collectors.toCollection(() -&gt; existingList))\r\n\r\nanyway. I&#39;d recommend against doing this. If you control the stream, sure, you can guarantee that it won&#39;t run in parallel. I expect that a style of programming will emerge where streams get handed around instead of collections. If somebody hands you a stream and you use this code, it&#39;ll fail if the stream happens to be parallel. Worse, somebody might hand you a sequential stream and this code will work fine for a while, pass all tests, etc. Then, some arbitrary amount of time later, code elsewhere in the system might change to use parallel streams which will cause **your** code to break.\r\n\r\nOK, then just make sure to remember to call `sequential()` on any stream before you use this code:\r\n\r\n    stream.sequential().collect(Collectors.toCollection(() -&gt; existingList))\r\n\r\nOf course, you&#39;ll remember to do this every time, right? :-) Let&#39;s say you do. Then, the performance team will be wondering why all their carefully crafted parallel implementations aren&#39;t providing any speedup. And once again they&#39;ll trace it down to **your** code which is forcing the entire stream to run sequentially.\r\n\r\nDon&#39;t do it.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/22755225/1441122\r\n  [2]: https://stackoverflow.com/a/22754767/1441122\r\n  [3]: https://stackoverflow.com/a/22754896/1441122","title":"How to add elements of a Java8 stream into an existing List","body":"<p><strong>NOTE:</strong> <em><a href=\"https://stackoverflow.com/a/22755225/1441122\">nosid's answer</a> shows how to add to an existing collection using <code>forEachOrdered()</code>. This is a useful and effective technique for mutating existing collections. My answer addresses why you shouldn't use a <code>Collector</code> to mutate an existing collection.</em></p>\n\n<p>The short answer is <strong>no</strong>, at least, not in general, you shouldn't use a <code>Collector</code> to modify an existing collection.</p>\n\n<p>The reason is that collectors are designed to support parallelism, even over collections that aren't thread-safe. The way they do this is to have each thread operate independently on its own collection of intermediate results. The way each thread gets its own collection is to call the <code>Collector.supplier()</code> which is required to return a <strong>new</strong> collection each time.</p>\n\n<p>These collections of intermediate results are then merged, again in a thread-confined fashion, until there is a single result collection. This is the final result of the <code>collect()</code> operation.</p>\n\n<p>A couple answers from <a href=\"https://stackoverflow.com/a/22754767/1441122\">Balder</a> and <a href=\"https://stackoverflow.com/a/22754896/1441122\">assylias</a> have suggested using <code>Collectors.toCollection()</code> and then passing a supplier that returns an existing list instead of a new list. This violates the requirement on the supplier, which is that it return a new, empty collection each time.</p>\n\n<p>This will work for simple cases, as the examples in their answers demonstrate. However, it will fail, particularly if the stream is run in parallel. (A future version of the library might change in some unforeseen way that will cause it to fail, even in the sequential case.)</p>\n\n<p>Let's take a simple example:</p>\n\n<pre><code>List&lt;String&gt; destList = new ArrayList&lt;&gt;(Arrays.asList(\"foo\"));\nList&lt;String&gt; newList = Arrays.asList(\"0\", \"1\", \"2\", \"3\", \"4\", \"5\");\nnewList.parallelStream()\n       .collect(Collectors.toCollection(() -&gt; destList));\nSystem.out.println(destList);\n</code></pre>\n\n<p>When I run this program, I often get an <code>ArrayIndexOutOfBoundsException</code>. This is because multiple threads are operating on <code>ArrayList</code>, a thread-unsafe data structure. OK, let's make it synchronized:</p>\n\n<pre><code>List&lt;String&gt; destList =\n    Collections.synchronizedList(new ArrayList&lt;&gt;(Arrays.asList(\"foo\")));\n</code></pre>\n\n<p>This will no longer fail with an exception. But instead of the expected result:</p>\n\n<pre><code>[foo, 0, 1, 2, 3]\n</code></pre>\n\n<p>it gives weird results like this:</p>\n\n<pre><code>[foo, 2, 3, foo, 2, 3, 1, 0, foo, 2, 3, foo, 2, 3, 1, 0, foo, 2, 3, foo, 2, 3, 1, 0, foo, 2, 3, foo, 2, 3, 1, 0]\n</code></pre>\n\n<p>This is the result of the thread-confined accumulation/merging operations I described above. With a parallel stream, each thread calls the supplier to get its own collection for intermediate accumulation. If you pass a supplier that returns the <strong>same</strong> collection, each thread appends its results to that collection. Since there is no ordering among the threads, results will be appended in some arbitrary order.</p>\n\n<p>Then, when these intermediate collections are merged, this basically merges the list with itself. Lists are merged using <code>List.addAll()</code>, which says that the results are undefined if the source collection is modified during the operation. In this case, <code>ArrayList.addAll()</code> does an array-copy operation, so it ends up duplicating itself, which is sort-of what one would expect, I guess. (Note that other List implementations might have completely different behavior.) Anyway, this explains the weird results and duplicated elements in the destination.</p>\n\n<p>You might say, \"I'll just make sure to run my stream sequentially\" and go ahead and write code like this</p>\n\n<pre><code>stream.collect(Collectors.toCollection(() -&gt; existingList))\n</code></pre>\n\n<p>anyway. I'd recommend against doing this. If you control the stream, sure, you can guarantee that it won't run in parallel. I expect that a style of programming will emerge where streams get handed around instead of collections. If somebody hands you a stream and you use this code, it'll fail if the stream happens to be parallel. Worse, somebody might hand you a sequential stream and this code will work fine for a while, pass all tests, etc. Then, some arbitrary amount of time later, code elsewhere in the system might change to use parallel streams which will cause <strong>your</strong> code to break.</p>\n\n<p>OK, then just make sure to remember to call <code>sequential()</code> on any stream before you use this code:</p>\n\n<pre><code>stream.sequential().collect(Collectors.toCollection(() -&gt; existingList))\n</code></pre>\n\n<p>Of course, you'll remember to do this every time, right? :-) Let's say you do. Then, the performance team will be wondering why all their carefully crafted parallel implementations aren't providing any speedup. And once again they'll trace it down to <strong>your</strong> code which is forcing the entire stream to run sequentially.</p>\n\n<p>Don't do it.</p>\n"},{"tags":[],"owner":{"account_id":4879275,"reputation":385,"user_id":3933512,"display_name":"A. S. Ranjan"},"down_vote_count":4,"up_vote_count":1,"is_accepted":false,"score":-3,"last_activity_date":1601369211,"creation_date":1568401545,"answer_id":57929102,"question_id":22753755,"body_markdown":"`targetList = sourceList.stream().flatmap(List::stream).collect(Collectors.toList());`","title":"How to add elements of a Java8 stream into an existing List","body":"<p><code>targetList = sourceList.stream().flatmap(List::stream).collect(Collectors.toList());</code></p>\n"},{"tags":[],"owner":{"account_id":1013544,"reputation":96,"user_id":1025626,"display_name":"Nikos Stais"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590564337,"creation_date":1590564337,"answer_id":62037571,"question_id":22753755,"body_markdown":"I would concatenate the old list and new list as streams and save the results to destination list. Works well in parallel, too.\r\n\r\nI will use the example of accepted answer given by Stuart Marks:\r\n\r\n    List&lt;String&gt; destList = Arrays.asList(&quot;foo&quot;);\r\n    List&lt;String&gt; newList = Arrays.asList(&quot;0&quot;, &quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;);\r\n    \r\n    destList = Stream.concat(destList.stream(), newList.stream()).parallel()\r\n                .collect(Collectors.toList());\r\n    System.out.println(destList);\r\n\r\n    //output: [foo, 0, 1, 2, 3, 4, 5]\r\n\r\nHope it helps.","title":"How to add elements of a Java8 stream into an existing List","body":"<p>I would concatenate the old list and new list as streams and save the results to destination list. Works well in parallel, too.</p>\n\n<p>I will use the example of accepted answer given by Stuart Marks:</p>\n\n<pre><code>List&lt;String&gt; destList = Arrays.asList(\"foo\");\nList&lt;String&gt; newList = Arrays.asList(\"0\", \"1\", \"2\", \"3\", \"4\", \"5\");\n\ndestList = Stream.concat(destList.stream(), newList.stream()).parallel()\n            .collect(Collectors.toList());\nSystem.out.println(destList);\n\n//output: [foo, 0, 1, 2, 3, 4, 5]\n</code></pre>\n\n<p>Hope it helps.</p>\n"},{"tags":[],"owner":{"account_id":19303285,"reputation":1,"user_id":14110696,"display_name":"Dheeraj Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597505837,"creation_date":1597505837,"answer_id":63427837,"question_id":22753755,"body_markdown":"Lets say we have existing list, and gonna use java 8 for this activity\r\n`\r\n\r\n    import java.util.*;\r\n    import java.util.stream.Collectors;\r\n    \r\n    public class AddingArray {\r\n    \r\n        public void addArrayInList(){\r\n            List&lt;Integer&gt; list = Arrays.asList(3, 7, 9);\r\n    \r\n       // And we have an array of Integer type \r\n    \r\n            int nums[] = {4, 6, 7};\r\n    \r\n       //Now lets add them all in list\r\n       // converting array to a list through stream and adding that list to previous list\r\n            list.addAll(Arrays.stream(nums).map(num -&gt; \r\n                                           num).boxed().collect(Collectors.toList()));\r\n         }\r\n    }\r\n\r\n`","title":"How to add elements of a Java8 stream into an existing List","body":"<p>Lets say we have existing list, and gonna use java 8 for this activity\n`</p>\n<pre><code>import java.util.*;\nimport java.util.stream.Collectors;\n\npublic class AddingArray {\n\n    public void addArrayInList(){\n        List&lt;Integer&gt; list = Arrays.asList(3, 7, 9);\n\n   // And we have an array of Integer type \n\n        int nums[] = {4, 6, 7};\n\n   //Now lets add them all in list\n   // converting array to a list through stream and adding that list to previous list\n        list.addAll(Arrays.stream(nums).map(num -&gt; \n                                       num).boxed().collect(Collectors.toList()));\n     }\n}\n</code></pre>\n<p>`</p>\n"}],"owner":{"account_id":88146,"reputation":10002,"user_id":244009,"accept_rate":78,"display_name":"codefx"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":316819,"favorite_count":0,"down_vote_count":0,"up_vote_count":214,"accepted_answer_id":22755993,"answer_count":8,"score":214,"last_activity_date":1648733979,"creation_date":1396240832,"question_id":22753755,"body_markdown":"[Javadoc of Collector][1] shows how to collect elements of a stream into a new List. Is there an one-liner that adds the results into an existing ArrayList?\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collector.html","title":"How to add elements of a Java8 stream into an existing List","body":"<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collector.html\" rel=\"noreferrer\">Javadoc of Collector</a> shows how to collect elements of a stream into a new List. Is there an one-liner that adds the results into an existing ArrayList?</p>\n"},{"tags":["java","swing","jlist","listselectionlistener"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1648732433,"post_id":71692992,"comment_id":126703130,"body_markdown":"So . . where does the code attempt to implement a `ListSelectionListener`? Where are you stuck? Note that SO is a Q&amp;A site rather than a &#39;complete my project&#39; site.","body":"So . . where does the code attempt to implement a <code>ListSelectionListener</code>? Where are you stuck? Note that SO is a Q&amp;A site rather than a &#39;complete my project&#39; site."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1648733484,"post_id":71692992,"comment_id":126703602,"body_markdown":"1) Variable names should NOT start with an upper case character. 2) I&#39;m not sure I understand the question but I guess you cast the selected value from the list to a CityBaseLandingSite. Then you need to add getter methods to the class to you can access the city value.","body":"1) Variable names should NOT start with an upper case character. 2) I&#39;m not sure I understand the question but I guess you cast the selected value from the list to a CityBaseLandingSite. Then you need to add getter methods to the class to you can access the city value."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1648734433,"post_id":71692992,"comment_id":126703987,"body_markdown":"*&quot;Field of City need in JList (only name city), cities data need be in label&quot;* - Sounds like you need to look at [Writing a Custom Cell Renderer](https://docs.oracle.com/javase/tutorial/uiswing/components/list.html#renderer)","body":"<i>&quot;Field of City need in JList (only name city), cities data need be in label&quot;</i> - Sounds like you need to look at <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/list.html#renderer\" rel=\"nofollow noreferrer\">Writing a Custom Cell Renderer</a>"}],"owner":{"account_id":23817167,"reputation":1,"user_id":17825267,"display_name":"Artem Barabash"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648733527,"creation_date":1648731846,"question_id":71692992,"body_markdown":"I have a task to do using `ListSelectionListener`. I need to output there, an `ArrayList` with class objects.\r\n\r\n    public class CityBaseLandingSite {\r\n        public String city;\r\n        public String country;\r\n        public boolean possibleLanding;\r\n    \r\n        public CityBaseLandingSite(String city, String country, boolean possibleLanding) {\r\n            super(city, country);\r\n            this.city = city;\r\n            this.country = country;\r\n            this.possibleLanding = possibleLanding;\r\n        }\r\n     }\r\n-----\r\n\r\n    public class JFrameDemo extends JFrame {\r\n\r\n    JLabel label = new JLabel();\r\n    public JFrameDemo(String title) throws HeadlessException\r\n    {\r\n        super(title);\r\n        setBounds(100, 100, 200, 200);\r\n        Container ControlHost = getContentPane();\r\n        ControlHost.setLayout(new FlowLayout());\r\n\r\n        ArrayList&lt;CityBaseLandingSite&gt; citiesArrayList = new ArrayList&lt;CityBaseLandingSite&gt;();\r\n        citiesArrayList.add(new CityBaseLandingSite(&quot;New York&quot;, &quot;USA&quot;, true));\r\n        citiesArrayList.add(new CityBaseLandingSite(&quot;Kyiv&quot;, &quot;Ukraine&quot;, true));\r\n        citiesArrayList.add(new CityBaseLandingSite(&quot;Tel-Aviv&quot;, &quot;Israel&quot;, false));\r\n\r\n        JList ListCities = new JList(citiesArrayList.toArray());\r\n\r\n        ListCities.setVisibleRowCount(4);\r\n\r\n        JScrollPane jcp = new JScrollPane(ListCities);\r\n        ControlHost.add(jcp);\r\n        ControlHost.add(label);\r\n\r\n        ListCities.addListSelectionListener(new ListSelectionListener() {\r\n            @Override\r\n            public void valueChanged(ListSelectionEvent e) {\r\n                Object SelectedCity =  ListCities.getSelectedValue();\r\n                label.setText(SelectedCity.toString());\r\n            }\r\n        });\r\n    }\r\n\r\n    public static void main(String[] args){\r\n        JFrameDemo jFrameDemo = new JFrameDemo(&quot;City&quot;);\r\n        jFrameDemo.setSize(500, 500);\r\n        //fixed sizes\r\n        jFrameDemo.setResizable(false);\r\n            jFrameDemo.setVisible(true);\r\n        }\r\n    }\r\n\r\n[![https://i.stack.imgur.com/G5T8G.png][1]][1]\r\n\r\nField of City need in `JList` **(only name city)**, cities data need be in label.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/G5T8G.png","title":"How can I do ListSelectionListener from Object&#39;s list?","body":"<p>I have a task to do using <code>ListSelectionListener</code>. I need to output there, an <code>ArrayList</code> with class objects.</p>\n<pre><code>public class CityBaseLandingSite {\n    public String city;\n    public String country;\n    public boolean possibleLanding;\n\n    public CityBaseLandingSite(String city, String country, boolean possibleLanding) {\n        super(city, country);\n        this.city = city;\n        this.country = country;\n        this.possibleLanding = possibleLanding;\n    }\n }\n</code></pre>\n<hr />\n<pre><code>public class JFrameDemo extends JFrame {\n\nJLabel label = new JLabel();\npublic JFrameDemo(String title) throws HeadlessException\n{\n    super(title);\n    setBounds(100, 100, 200, 200);\n    Container ControlHost = getContentPane();\n    ControlHost.setLayout(new FlowLayout());\n\n    ArrayList&lt;CityBaseLandingSite&gt; citiesArrayList = new ArrayList&lt;CityBaseLandingSite&gt;();\n    citiesArrayList.add(new CityBaseLandingSite(&quot;New York&quot;, &quot;USA&quot;, true));\n    citiesArrayList.add(new CityBaseLandingSite(&quot;Kyiv&quot;, &quot;Ukraine&quot;, true));\n    citiesArrayList.add(new CityBaseLandingSite(&quot;Tel-Aviv&quot;, &quot;Israel&quot;, false));\n\n    JList ListCities = new JList(citiesArrayList.toArray());\n\n    ListCities.setVisibleRowCount(4);\n\n    JScrollPane jcp = new JScrollPane(ListCities);\n    ControlHost.add(jcp);\n    ControlHost.add(label);\n\n    ListCities.addListSelectionListener(new ListSelectionListener() {\n        @Override\n        public void valueChanged(ListSelectionEvent e) {\n            Object SelectedCity =  ListCities.getSelectedValue();\n            label.setText(SelectedCity.toString());\n        }\n    });\n}\n\npublic static void main(String[] args){\n    JFrameDemo jFrameDemo = new JFrameDemo(&quot;City&quot;);\n    jFrameDemo.setSize(500, 500);\n    //fixed sizes\n    jFrameDemo.setResizable(false);\n        jFrameDemo.setVisible(true);\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/G5T8G.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/G5T8G.png\" alt=\"https://i.stack.imgur.com/G5T8G.png\" /></a></p>\n<p>Field of City need in <code>JList</code> <strong>(only name city)</strong>, cities data need be in label.</p>\n"},{"tags":["java","windows","batch-file","cmd"],"comments":[{"owner":{"account_id":51078,"reputation":24620,"user_id":152522,"display_name":"Frank Bollack"},"score":4,"creation_date":1271322003,"post_id":2643901,"comment_id":2658872,"body_markdown":"Did you try `Ctrl + C` or `Ctrl + Break`?","body":"Did you try <code>Ctrl + C</code> or <code>Ctrl + Break</code>?"},{"owner":{"account_id":39226,"reputation":6839,"user_id":113037,"accept_rate":91,"display_name":"Winston Chen"},"score":0,"creation_date":1271322338,"post_id":2643901,"comment_id":2658908,"body_markdown":"yes, but can I build a .bat file to stop it with Ctrl + C or Ctrl + Break?","body":"yes, but can I build a .bat file to stop it with Ctrl + C or Ctrl + Break?"},{"owner":{"account_id":66969,"reputation":22196,"user_id":196211,"accept_rate":67,"display_name":"Eyal Schneider"},"score":2,"creation_date":1271322640,"post_id":2643901,"comment_id":2658943,"body_markdown":"Maybe check the taskkill command. It has many options for choosing the process to kill: by process id, by name pattern, by owning user, etc.\n\nBut I recommend first looking for a standard, less violent way of closing the specific application (servers usually have some kind of &quot;stop&quot; command)","body":"Maybe check the taskkill command. It has many options for choosing the process to kill: by process id, by name pattern, by owning user, etc.  But I recommend first looking for a standard, less violent way of closing the specific application (servers usually have some kind of &quot;stop&quot; command)"},{"owner":{"account_id":100225,"reputation":43187,"user_id":270287,"accept_rate":89,"display_name":"IVlad"},"score":1,"creation_date":1271322644,"post_id":2643901,"comment_id":2658945,"body_markdown":"Do you know the process name? If you do, you can build a .bat file that uses the taskkill command: http://www.microsoft.com/resources/documentation/windows/xp/all/proddocs/en-us/taskkill.mspx?mfr=true (for example, `taskkill /im notepad.exe`).","body":"Do you know the process name? If you do, you can build a .bat file that uses the taskkill command: <a href=\"http://www.microsoft.com/resources/documentation/windows/xp/all/proddocs/en-us/taskkill.mspx?mfr=true\" rel=\"nofollow noreferrer\">microsoft.com/resources/documentation/windows/xp/all/proddoc&zwnj;&#8203;s/&hellip;</a> (for example, <code>taskkill &#47;im notepad.exe</code>)."},{"owner":{"account_id":39226,"reputation":6839,"user_id":113037,"accept_rate":91,"display_name":"Winston Chen"},"score":0,"creation_date":1271323219,"post_id":2643901,"comment_id":2658993,"body_markdown":"hey, guys, thank you all but I cannot vote you guys up or mark correct answer here. If you guys don&#39;t mind, please answer it.","body":"hey, guys, thank you all but I cannot vote you guys up or mark correct answer here. If you guys don&#39;t mind, please answer it."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1624967261,"creation_date":1271329386,"answer_id":2644654,"question_id":2643901,"body_markdown":"It is rather messy but you need to do something like the following:\r\n\r\n    START &quot;do something window&quot; dir\r\n    FOR /F &quot;tokens=2&quot; %I in (&#39;TASKLIST /NH /FI &quot;WINDOWTITLE eq do something window&quot;&#39; ) DO SET PID=%I\r\n    ECHO %PID%\r\n    TASKKILL /PID %PID%\r\n\r\nFound this on [this page][1]. (archived)\r\n\r\n(This kind of thing is much easier if you have a UNIX / LINUX system ... or if you run Cygwin or similar on Windows.)\r\n\r\n\r\n  [1]: https://web.archive.org/web/20110731025432/http://it.toolbox.com/blogs/database-solutions/kill-a-process-in-windows-bat-19875","title":"How can we stop a running java process through Windows cmd?","body":"<p>It is rather messy but you need to do something like the following:</p>\n<pre><code>START &quot;do something window&quot; dir\nFOR /F &quot;tokens=2&quot; %I in ('TASKLIST /NH /FI &quot;WINDOWTITLE eq do something window&quot;' ) DO SET PID=%I\nECHO %PID%\nTASKKILL /PID %PID%\n</code></pre>\n<p>Found this on <a href=\"https://web.archive.org/web/20110731025432/http://it.toolbox.com/blogs/database-solutions/kill-a-process-in-windows-bat-19875\" rel=\"nofollow noreferrer\">this page</a>. (archived)</p>\n<p>(This kind of thing is much easier if you have a UNIX / LINUX system ... or if you run Cygwin or similar on Windows.)</p>\n"},{"tags":[],"owner":{"account_id":27626,"reputation":346906,"user_id":73070,"accept_rate":81,"display_name":"Joey"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1271580035,"creation_date":1271580035,"answer_id":2661617,"question_id":2643901,"body_markdown":"Normally I don&#39;t have that many Java processes open so\r\n\r\n    taskkill /im javaw.exe\r\n\r\nor\r\n\r\n    taskkill /im java.exe\r\n\r\nshould suffice. This will kill *all* instances of Java, though.","title":"How can we stop a running java process through Windows cmd?","body":"<p>Normally I don't have that many Java processes open so</p>\n\n<pre><code>taskkill /im javaw.exe\n</code></pre>\n\n<p>or</p>\n\n<pre><code>taskkill /im java.exe\n</code></pre>\n\n<p>should suffice. This will kill <em>all</em> instances of Java, though.</p>\n"},{"tags":[],"owner":{"account_id":802032,"reputation":19,"user_id":913464,"display_name":"vneste"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1491924357,"creation_date":1314339165,"answer_id":7200667,"question_id":2643901,"body_markdown":"    FOR /F &quot;tokens=1,2 delims= &quot; %%G IN (&#39;jps -l&#39;) DO IF %%H==name.for.the.application.main.Class taskkill /F /PID %%G\r\n\r\n`name.for.the.application.main.Class` - replace this to your application&#39;s main class (you can find it in second column of `jps -l` output)","title":"How can we stop a running java process through Windows cmd?","body":"<pre><code>FOR /F \"tokens=1,2 delims= \" %%G IN ('jps -l') DO IF %%H==name.for.the.application.main.Class taskkill /F /PID %%G\n</code></pre>\n\n<p><code>name.for.the.application.main.Class</code> - replace this to your application's main class (you can find it in second column of <code>jps -l</code> output)</p>\n"},{"tags":[],"owner":{"account_id":979328,"reputation":681,"user_id":999492,"display_name":"Tup"},"down_vote_count":0,"up_vote_count":68,"is_accepted":false,"score":68,"last_activity_date":1318865987,"creation_date":1318865987,"answer_id":7796138,"question_id":2643901,"body_markdown":"When I ran taskkill to stop the javaw.exe process it would say it had terminated but remained running. The jqs process (java qucikstart) needs to be stopped also. Running this batch file took care of the issue.\r\n\r\n    taskkill /f /im jqs.exe\r\n    taskkill /f /im javaw.exe\r\n    taskkill /f /im java.exe\r\n","title":"How can we stop a running java process through Windows cmd?","body":"<p>When I ran taskkill to stop the javaw.exe process it would say it had terminated but remained running. The jqs process (java qucikstart) needs to be stopped also. Running this batch file took care of the issue.</p>\n\n<pre><code>taskkill /f /im jqs.exe\ntaskkill /f /im javaw.exe\ntaskkill /f /im java.exe\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1858106,"reputation":24056,"user_id":1683264,"accept_rate":75,"display_name":"rojo"},"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1360872882,"creation_date":1360872882,"answer_id":14883245,"question_id":2643901,"body_markdown":"I like this one.\r\n\r\n    wmic process where &quot;name like &#39;%java%&#39;&quot; delete\r\n\r\nYou can actually kill a process on a remote machine the same way.\r\n\r\n    wmic /node:computername /user:adminuser /password:password process where &quot;name like &#39;%java%&#39;&quot; delete\r\n\r\nwmic is awesome!","title":"How can we stop a running java process through Windows cmd?","body":"<p>I like this one.</p>\n\n<pre><code>wmic process where \"name like '%java%'\" delete\n</code></pre>\n\n<p>You can actually kill a process on a remote machine the same way.</p>\n\n<pre><code>wmic /node:computername /user:adminuser /password:password process where \"name like '%java%'\" delete\n</code></pre>\n\n<p>wmic is awesome!</p>\n"},{"tags":[],"owner":{"account_id":2481346,"reputation":3567,"user_id":2160765,"display_name":"Rosberg Linhares"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1483675265,"creation_date":1483675265,"answer_id":41498733,"question_id":2643901,"body_markdown":"You can do this with PowerShell:\r\n\r\n    $process = Start-Process &quot;javaw&quot; &quot;-jar start.jar&quot; -PassThru\r\n    taskkill /pid $process.Id\r\n\r\nThe `taskkill` command will graceful close the application.","title":"How can we stop a running java process through Windows cmd?","body":"<p>You can do this with PowerShell:</p>\n\n<pre><code>$process = Start-Process \"javaw\" \"-jar start.jar\" -PassThru\ntaskkill /pid $process.Id\n</code></pre>\n\n<p>The <code>taskkill</code> command will graceful close the application.</p>\n"},{"tags":[],"owner":{"account_id":2426816,"reputation":864,"user_id":2118565,"accept_rate":6,"display_name":"Vinaykumar Patel"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1483689044,"creation_date":1483689044,"answer_id":41501286,"question_id":2643901,"body_markdown":"In case you want to kill not all java processes but specif jars running. It will work for multiple jars as well. \r\n\r\n    wmic Path win32_process Where &quot;CommandLine Like &#39;%YourJarName.jar%&#39;&quot; Call Terminate\r\n\r\n\r\nElse `taskkill /im java.exe` will work to kill all java processes\r\n\r\n","title":"How can we stop a running java process through Windows cmd?","body":"<p>In case you want to kill not all java processes but specif jars running. It will work for multiple jars as well. </p>\n\n<pre><code>wmic Path win32_process Where \"CommandLine Like '%YourJarName.jar%'\" Call Terminate\n</code></pre>\n\n<p>Else <code>taskkill /im java.exe</code> will work to kill all java processes</p>\n"},{"tags":[],"owner":{"account_id":4329690,"reputation":11412,"user_id":3535537,"accept_rate":78,"display_name":"St&#233;phane GRILLON"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1505730288,"creation_date":1505730288,"answer_id":46276980,"question_id":2643901,"body_markdown":"(on Windows OS without Service) Spring Boot start/stop sample. \r\n\r\n**run.bat**\r\n\r\n    @ECHO OFF\r\n    IF &quot;%1&quot;==&quot;start&quot; (\r\n        ECHO start your app name\r\n    \tstart &quot;yourappname&quot; java -jar -Dspring.profiles.active=prod yourappname-0.0.1.jar\r\n    ) ELSE IF &quot;%1&quot;==&quot;stop&quot; (\r\n        ECHO stop your app name\r\n    \tTASKKILL /FI &quot;WINDOWTITLE eq yourappname&quot;\r\n    ) ELSE (\r\n        ECHO please, use &quot;run.bat start&quot; or &quot;run.bat stop&quot;\r\n    )\r\n    pause\r\n\r\n**start.bat**\r\n\r\n    @ECHO OFF\r\n    call run.bat start\r\n\r\n**stop.bat:**\r\n\r\n    @ECHO OFF\r\n    call run.bat stop","title":"How can we stop a running java process through Windows cmd?","body":"<p>(on Windows OS without Service) Spring Boot start/stop sample. </p>\n\n<p><strong>run.bat</strong></p>\n\n<pre><code>@ECHO OFF\nIF \"%1\"==\"start\" (\n    ECHO start your app name\n    start \"yourappname\" java -jar -Dspring.profiles.active=prod yourappname-0.0.1.jar\n) ELSE IF \"%1\"==\"stop\" (\n    ECHO stop your app name\n    TASKKILL /FI \"WINDOWTITLE eq yourappname\"\n) ELSE (\n    ECHO please, use \"run.bat start\" or \"run.bat stop\"\n)\npause\n</code></pre>\n\n<p><strong>start.bat</strong></p>\n\n<pre><code>@ECHO OFF\ncall run.bat start\n</code></pre>\n\n<p><strong>stop.bat:</strong></p>\n\n<pre><code>@ECHO OFF\ncall run.bat stop\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2220824,"reputation":16635,"user_id":3168721,"accept_rate":97,"display_name":"tk_"},"down_vote_count":1,"up_vote_count":24,"is_accepted":false,"score":23,"last_activity_date":1558593467,"creation_date":1553225471,"answer_id":55292496,"question_id":2643901,"body_markdown":"**Open the windows cmd.**\r\nFirst list all the java processes,\r\n\r\n    jps -m\r\n\r\nnow get the name and run below command,\r\n\r\n    for /f &quot;tokens=1&quot; %i in (&#39;jps -m ^| find &quot;Name_of_the_process&quot;&#39;) do ( taskkill /F /PID %i )\r\n\r\nor simply kill the process ID\r\n\r\n    taskkill /F /PID &lt;ProcessID&gt;\r\n\r\n**sample :)**\r\n\r\n\r\n    C:\\Users\\tk&gt;jps -m\r\n    15176 MessagingMain\r\n    18072 SoapUI-5.4.0.exe\r\n    15164 Jps -m\r\n    3420 org.eclipse.equinox.launcher_1.3.201.v20161025-1711.jar -os win32 -ws win32 -arch x86_64 -showsplash -launcher C:\\Users\\tk\\eclipse\\jee-neon\\eclipse\\eclipse.exe -name Eclipse --launcher.library C:\\Users\\tk\\.p2\\pool\\plugins\\org.eclipse.equinox.launcher.win32.win32.x86_64_1.1.401.v20161122-1740\\eclipse_1617.dll -startup C:\\Users\\tk\\eclipse\\jee-neon\\eclipse\\\\plugins/org.eclipse.equinox.launcher_1.3.201.v20161025-1711.jar --launcher.appendVmargs -exitdata 4b20_d0 -product org.eclipse.epp.package.jee.product -vm C:/Program Files/Java/jre1.8.0_131/bin/javaw.exe -vmargs -Dosgi.requiredJavaVersion=1.8 -XX:+UseG1GC -XX:+UseStringDeduplication -Dosgi.requiredJavaVersion=1.8 -Xms256m -Xmx1024m -Declipse.p2.max.threads=10 -Doomph.update.url=http://download.eclipse.org/oomph/updates/milestone/latest -Doomph.redirection.index.redirection=index:/-&gt;http://git.eclipse.org/c/oomph/org.eclipse.oomph.git/plain/setups/ -jar C:\\Users\\tk\\\r\n  \r\nand\r\n  \r\n    C:\\Users\\tk&gt;for /f &quot;tokens=1&quot; %i in (&#39;jps -m ^| find &quot;MessagingMain&quot;&#39;) do ( taskkill /F /PID %i )\r\n    \r\n    C:\\Users\\tk&gt;(taskkill /F /PID 15176  )\r\n    SUCCESS: The process with PID 15176 has been terminated.\r\n\r\n\r\nor \r\n\r\n    C:\\Users\\tk&gt;taskkill /F /PID 15176 \r\n    SUCCESS: The process with PID 15176 has been terminated.","title":"How can we stop a running java process through Windows cmd?","body":"<p><strong>Open the windows cmd.</strong>\nFirst list all the java processes,</p>\n\n<pre><code>jps -m\n</code></pre>\n\n<p>now get the name and run below command,</p>\n\n<pre><code>for /f \"tokens=1\" %i in ('jps -m ^| find \"Name_of_the_process\"') do ( taskkill /F /PID %i )\n</code></pre>\n\n<p>or simply kill the process ID</p>\n\n<pre><code>taskkill /F /PID &lt;ProcessID&gt;\n</code></pre>\n\n<p><strong>sample :)</strong></p>\n\n<pre><code>C:\\Users\\tk&gt;jps -m\n15176 MessagingMain\n18072 SoapUI-5.4.0.exe\n15164 Jps -m\n3420 org.eclipse.equinox.launcher_1.3.201.v20161025-1711.jar -os win32 -ws win32 -arch x86_64 -showsplash -launcher C:\\Users\\tk\\eclipse\\jee-neon\\eclipse\\eclipse.exe -name Eclipse --launcher.library C:\\Users\\tk\\.p2\\pool\\plugins\\org.eclipse.equinox.launcher.win32.win32.x86_64_1.1.401.v20161122-1740\\eclipse_1617.dll -startup C:\\Users\\tk\\eclipse\\jee-neon\\eclipse\\\\plugins/org.eclipse.equinox.launcher_1.3.201.v20161025-1711.jar --launcher.appendVmargs -exitdata 4b20_d0 -product org.eclipse.epp.package.jee.product -vm C:/Program Files/Java/jre1.8.0_131/bin/javaw.exe -vmargs -Dosgi.requiredJavaVersion=1.8 -XX:+UseG1GC -XX:+UseStringDeduplication -Dosgi.requiredJavaVersion=1.8 -Xms256m -Xmx1024m -Declipse.p2.max.threads=10 -Doomph.update.url=http://download.eclipse.org/oomph/updates/milestone/latest -Doomph.redirection.index.redirection=index:/-&gt;http://git.eclipse.org/c/oomph/org.eclipse.oomph.git/plain/setups/ -jar C:\\Users\\tk\\\n</code></pre>\n\n<p>and</p>\n\n<pre><code>C:\\Users\\tk&gt;for /f \"tokens=1\" %i in ('jps -m ^| find \"MessagingMain\"') do ( taskkill /F /PID %i )\n\nC:\\Users\\tk&gt;(taskkill /F /PID 15176  )\nSUCCESS: The process with PID 15176 has been terminated.\n</code></pre>\n\n<p>or </p>\n\n<pre><code>C:\\Users\\tk&gt;taskkill /F /PID 15176 \nSUCCESS: The process with PID 15176 has been terminated.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6435149,"reputation":368,"user_id":4986954,"display_name":"FloPinguin"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1555318624,"creation_date":1555318624,"answer_id":55685667,"question_id":2643901,"body_markdown":"The answer which suggests something like `taskkill /f /im java.exe` will probably work, but if you want to kill **only one java process** instead of all, I can suggest doing it with the help of **window titles**. Expample:\r\n\r\n# Start #\r\n\r\n`start &quot;MyProgram&quot; &quot;C:/Program Files/Java/jre1.8.0_201/bin/java.exe&quot; -jar MyProgram.jar`\r\n\r\n# Stop #\r\n\r\n`taskkill /F /FI &quot;WINDOWTITLE eq MyProgram&quot; /T`","title":"How can we stop a running java process through Windows cmd?","body":"<p>The answer which suggests something like <code>taskkill /f /im java.exe</code> will probably work, but if you want to kill <strong>only one java process</strong> instead of all, I can suggest doing it with the help of <strong>window titles</strong>. Expample:</p>\n\n<h1>Start</h1>\n\n<p><code>start \"MyProgram\" \"C:/Program Files/Java/jre1.8.0_201/bin/java.exe\" -jar MyProgram.jar</code></p>\n\n<h1>Stop</h1>\n\n<p><code>taskkill /F /FI \"WINDOWTITLE eq MyProgram\" /T</code></p>\n"},{"tags":[],"owner":{"account_id":1612518,"reputation":797,"user_id":1491081,"display_name":"sarath"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1626691720,"creation_date":1626691720,"answer_id":68439224,"question_id":2643901,"body_markdown":"**This command can run from Windows Command Prompt**\r\n---------------------------------------------------------------\r\nKill a Java Process with PID\r\n---------------------------------------------------------------\r\n\r\n    netstat -ano | findstr :java\r\n    taskkill /PID &lt;ProcessID_From_Previous_Command&gt; /F\r\n\r\n---------------------------------------------------------------","title":"How can we stop a running java process through Windows cmd?","body":"<h2 id=\"this-command-can-run-from-windows-command-prompt\"><strong>This command can run from Windows Command Prompt</strong></h2>\n<h2 id=\"kill-a-java-process-with-pid\">Kill a Java Process with PID</h2>\n<pre><code>netstat -ano | findstr :java\ntaskkill /PID &lt;ProcessID_From_Previous_Command&gt; /F\n</code></pre>\n<hr />\n"}],"owner":{"account_id":39226,"reputation":6839,"user_id":113037,"accept_rate":91,"display_name":"Winston Chen"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":229090,"favorite_count":0,"down_vote_count":0,"up_vote_count":46,"accepted_answer_id":2644654,"answer_count":11,"score":46,"last_activity_date":1648733526,"creation_date":1271321672,"question_id":2643901,"body_markdown":"I am a newbie in cmd, so please allow me to ask a stupid question: How can we stop a running Java process through Windows cmd?\r\n\r\nFor example, if we start Jetty (a mini web server) with the following command:\r\n\r\n    start javaw -jar start.jar\r\n\r\nHow do we find the process and stop it later?\r\n\r\nObviously the following command does not work:\r\n\r\n    stop javaw -jar start.jar","title":"How can we stop a running java process through Windows cmd?","body":"<p>I am a newbie in cmd, so please allow me to ask a stupid question: How can we stop a running Java process through Windows cmd?</p>\n\n<p>For example, if we start Jetty (a mini web server) with the following command:</p>\n\n<pre><code>start javaw -jar start.jar\n</code></pre>\n\n<p>How do we find the process and stop it later?</p>\n\n<p>Obviously the following command does not work:</p>\n\n<pre><code>stop javaw -jar start.jar\n</code></pre>\n"},{"tags":["java","spring","spring-boot","design-patterns"],"answers":[{"tags":[],"owner":{"account_id":3936011,"reputation":1722,"user_id":3252391,"display_name":"Johan Nordlinder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648700901,"creation_date":1648700573,"answer_id":71686875,"question_id":71686333,"body_markdown":"You should read about the many benefits of dependency injection, this is a good place to start: https://en.m.wikipedia.org/wiki/Dependency_injection.\r\n\r\nBut if you want a short one line answer its main benefit is that it makes the code easier to test.\r\n\r\nIf you create the DAO classes with the new keyword in your service class you cannot easily replace them with mock objects during testing of the service class.","title":"Does Spring dependency injection really make the goal loose coupling?","body":"<p>You should read about the many benefits of dependency injection, this is a good place to start: <a href=\"https://en.m.wikipedia.org/wiki/Dependency_injection\" rel=\"nofollow noreferrer\">https://en.m.wikipedia.org/wiki/Dependency_injection</a>.</p>\n<p>But if you want a short one line answer its main benefit is that it makes the code easier to test.</p>\n<p>If you create the DAO classes with the new keyword in your service class you cannot easily replace them with mock objects during testing of the service class.</p>\n"},{"tags":[],"owner":{"account_id":7181840,"reputation":1565,"user_id":5485454,"display_name":"Kai-Sheng Yang"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1648704878,"creation_date":1648700901,"answer_id":71686898,"question_id":71686333,"body_markdown":"If you use `new` keyword, then `Service` need to know how `Dao1` and `Dao2` are implemented and instantiated(concrete type, parameters...), more knowledge means more coupling. \r\n \r\nHowever, if you use `@Autowired`, then Spring do everything for you by `Dependency Injection` technique, the coupling becomes more loosely.\r\n\r\nThe advantage of loosely coupling is: your code becomes more testable and maintainable.","title":"Does Spring dependency injection really make the goal loose coupling?","body":"<p>If you use <code>new</code> keyword, then <code>Service</code> need to know how <code>Dao1</code> and <code>Dao2</code> are implemented and instantiated(concrete type, parameters...), more knowledge means more coupling.</p>\n<p>However, if you use <code>@Autowired</code>, then Spring do everything for you by <code>Dependency Injection</code> technique, the coupling becomes more loosely.</p>\n<p>The advantage of loosely coupling is: your code becomes more testable and maintainable.</p>\n"},{"tags":[],"owner":{"account_id":1455702,"reputation":15682,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648733489,"creation_date":1648733489,"answer_id":71693389,"question_id":71686333,"body_markdown":"First, note that [field injection](https://stackoverflow.com/q/39890849/1371329) has been discouraged by Spring for several years now. Second, dependency injection alone does not magically guarantee loose coupling. Abstraction is also necessary. Since there is no abstraction in these examples, `Service` is coupled just as tightly to the `Dao` implementations whether you inject or instantiate them.\r\n\r\nSpring still offers other benefits here, including lifecycle management and cohesion. Also note that since the `Dao` classes are not `final`, there is _potential_ for abstraction, because Spring could inject subclasses whereas direct instantiation will always give you the base class.","title":"Does Spring dependency injection really make the goal loose coupling?","body":"<p>First, note that <a href=\"https://stackoverflow.com/q/39890849/1371329\">field injection</a> has been discouraged by Spring for several years now. Second, dependency injection alone does not magically guarantee loose coupling. Abstraction is also necessary. Since there is no abstraction in these examples, <code>Service</code> is coupled just as tightly to the <code>Dao</code> implementations whether you inject or instantiate them.</p>\n<p>Spring still offers other benefits here, including lifecycle management and cohesion. Also note that since the <code>Dao</code> classes are not <code>final</code>, there is <em>potential</em> for abstraction, because Spring could inject subclasses whereas direct instantiation will always give you the base class.</p>\n"}],"owner":{"account_id":14276174,"reputation":33,"user_id":10312214,"display_name":"陳寧寬"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":385,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1648733489,"creation_date":1648694703,"question_id":71686333,"body_markdown":"Spring is famous with it Inverse Control and DI.\r\n\r\nI know that dependency injection have several ways like Constructor Dependency Injection etc.\r\n\r\nfor example\r\n\r\nwe usually use `@Autowired` annotation to do Dependency Injection.\r\n\r\nwhen we develop  MVC  web project.\r\n\r\nMy question is very simple\r\n\r\nWhy is a spring framework loosely coupled?\r\n\r\nSuppose We have two Dao class One is Dao1 ,other is Dao2\r\n\r\n**Dao1**\r\n\r\n```\r\npublic class Dao {\r\n\t\r\n\t\r\n\tpublic void sayhi() {\r\n\t\tSystem.out.println(&quot;hello&quot;);\r\n\t}\r\n}\r\n\r\n```\r\n\r\n**Dao2**\r\n```\r\npublic class Dao2 {\r\n\t\r\n\tpublic void saygoodbye() {\r\n\t\tSystem.out.println(&quot;say goodbye&quot;);\r\n\t\t\r\n\t}\r\n}\r\n\r\n```\r\n\r\nIf we do not use `Autowired` annotation\r\n\r\nthe service should be\r\n\r\n```\r\npublic class Service {\r\n\t\r\n\tDao1 dao=new Dao1();\r\n\t\r\n\tDao2 dao2=new Dao2();\r\n\t\r\n\tpublic void sayhi() {\r\n\t\tdao.sayhi();\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic void saygoodbye() {\r\n\t\t\r\n\t\tdao2.saygoodbye();\r\n\t\t\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\nand the Controller should be\r\n\r\n```\r\n@RestController\r\npublic class Controller {\r\n\t\r\n\t\r\n\tService service=new Service(     );\r\n\t\r\n\t@GetMapping(&quot;test&quot;)\r\n\tpublic void saysomething() {\r\n\t\tservice.saygoodbye();\r\n\t\tservice.sayhi();\r\n\t}\r\n\t\r\n}\r\n\r\n```\r\n\r\nIf we do not use `Autowired` annotation , we must use new keyword to make instance\r\n\r\nIf we use `Autowired` annotation \r\n\r\nthe code\r\n\r\n```\r\nDao1 dao=new Dao1();\r\n\t\r\nDao2 dao2=new Dao2();\r\n```\r\n\r\njust change it into\r\n\r\n```\r\n@Autowired\r\nDao1 dao\r\n\r\n@Autowired\r\nDao2 dao2\r\n```\r\n\r\nSo,without Autowired annotation\r\n\r\nWhy is a spring framework loosely coupled?\r\n","title":"Does Spring dependency injection really make the goal loose coupling?","body":"<p>Spring is famous with it Inverse Control and DI.</p>\n<p>I know that dependency injection have several ways like Constructor Dependency Injection etc.</p>\n<p>for example</p>\n<p>we usually use <code>@Autowired</code> annotation to do Dependency Injection.</p>\n<p>when we develop  MVC  web project.</p>\n<p>My question is very simple</p>\n<p>Why is a spring framework loosely coupled?</p>\n<p>Suppose We have two Dao class One is Dao1 ,other is Dao2</p>\n<p><strong>Dao1</strong></p>\n<pre><code>public class Dao {\n    \n    \n    public void sayhi() {\n        System.out.println(&quot;hello&quot;);\n    }\n}\n\n</code></pre>\n<p><strong>Dao2</strong></p>\n<pre><code>public class Dao2 {\n    \n    public void saygoodbye() {\n        System.out.println(&quot;say goodbye&quot;);\n        \n    }\n}\n\n</code></pre>\n<p>If we do not use <code>Autowired</code> annotation</p>\n<p>the service should be</p>\n<pre><code>public class Service {\n    \n    Dao1 dao=new Dao1();\n    \n    Dao2 dao2=new Dao2();\n    \n    public void sayhi() {\n        dao.sayhi();\n        \n    }\n    \n    public void saygoodbye() {\n        \n        dao2.saygoodbye();\n        \n    }\n    \n}\n</code></pre>\n<p>and the Controller should be</p>\n<pre><code>@RestController\npublic class Controller {\n    \n    \n    Service service=new Service(     );\n    \n    @GetMapping(&quot;test&quot;)\n    public void saysomething() {\n        service.saygoodbye();\n        service.sayhi();\n    }\n    \n}\n\n</code></pre>\n<p>If we do not use <code>Autowired</code> annotation , we must use new keyword to make instance</p>\n<p>If we use <code>Autowired</code> annotation</p>\n<p>the code</p>\n<pre><code>Dao1 dao=new Dao1();\n    \nDao2 dao2=new Dao2();\n</code></pre>\n<p>just change it into</p>\n<pre><code>@Autowired\nDao1 dao\n\n@Autowired\nDao2 dao2\n</code></pre>\n<p>So,without Autowired annotation</p>\n<p>Why is a spring framework loosely coupled?</p>\n"},{"tags":["java","google-app-engine","spring-data","google-cloud-datastore"],"comments":[{"owner":{"account_id":127461,"reputation":2848,"user_id":7644371,"display_name":"Jim Morrison"},"score":0,"creation_date":1648826961,"post_id":71693362,"comment_id":126730797,"body_markdown":"This looks the same as https://stackoverflow.com/questions/57524992/spring-gcp-datastore-performance-batch-processing-iteration-through-all-enti .  It looks like you should use the method that returns a Slice, and pass slice.nextPageable to subsequent calls findBySourceAndIsRunning.","body":"This looks the same as <a href=\"https://stackoverflow.com/questions/57524992/spring-gcp-datastore-performance-batch-processing-iteration-through-all-enti\" title=\"spring gcp datastore performance batch processing iteration through all enti\">stackoverflow.com/questions/57524992/&hellip;</a> .  It looks like you should use the method that returns a Slice, and pass slice.nextPageable to subsequent calls findBySourceAndIsRunning."},{"owner":{"account_id":23009501,"reputation":1,"user_id":17132209,"display_name":"HachigoUzumaki"},"score":0,"creation_date":1649328654,"post_id":71693362,"comment_id":126850378,"body_markdown":"@JimMorrison, Thanks for the response, but I cannot use slice for my scenario as I am updating one of the attributes that I am fetching with (isRunning in the example). If I use slice I&#39;ll skip a page for every iteration, that is why I am getting just the first page for each iteration.","body":"@JimMorrison, Thanks for the response, but I cannot use slice for my scenario as I am updating one of the attributes that I am fetching with (isRunning in the example). If I use slice I&#39;ll skip a page for every iteration, that is why I am getting just the first page for each iteration."},{"owner":{"account_id":127461,"reputation":2848,"user_id":7644371,"display_name":"Jim Morrison"},"score":0,"creation_date":1649428012,"post_id":71693362,"comment_id":126880290,"body_markdown":"The slice example in the other question uses cursors instead of offsets, so you won&#39;t skip a page by altering entities.  Instead the next query will start exactly where the previous query results ended.","body":"The slice example in the other question uses cursors instead of offsets, so you won&#39;t skip a page by altering entities.  Instead the next query will start exactly where the previous query results ended."}],"owner":{"account_id":23009501,"reputation":1,"user_id":17132209,"display_name":"HachigoUzumaki"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":234,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648733372,"creation_date":1648733372,"question_id":71693362,"body_markdown":"I have a kind in google datastore with tens thousands of entries. I am using spring data to connect to and work on the datastore. I am trying to update one entity on a few (hundreds) rows on datastore.\r\n\r\nThe method I am trying to use does multiple gets with pagination and update the required attribute and saves all entries using dataStoreRepo.saveAll(list) and repeat until there are rows available for the query criteria.\r\nSomething like :\r\n\r\n    void partialUpdateSomething () { \r\n        List&lt;Trains&gt; trains = repo.findBySourceAndIsRunning(&quot;cityCode&quot;, false, Pageable.ofSize(50)); \r\n        while (!trains.isEmpty()) { \r\n            for(Train t:trains) { \r\n                train.isRunning(true); // updating isRunning to true \r\n            } \r\n            repo.saveAll(trains); // saving all the updated train objects \r\n            trains = repo.findBySourceAndIsRunning(&quot;cityCode&quot;, false, Pageable.ofSize(50)); \r\n        } \r\n    }\r\n\r\nIs there a better way to update just one or more entities ?","title":"Efficient ways to do a bulk partial update on a google cloud datastore entries using spring data","body":"<p>I have a kind in google datastore with tens thousands of entries. I am using spring data to connect to and work on the datastore. I am trying to update one entity on a few (hundreds) rows on datastore.</p>\n<p>The method I am trying to use does multiple gets with pagination and update the required attribute and saves all entries using dataStoreRepo.saveAll(list) and repeat until there are rows available for the query criteria.\nSomething like :</p>\n<pre><code>void partialUpdateSomething () { \n    List&lt;Trains&gt; trains = repo.findBySourceAndIsRunning(&quot;cityCode&quot;, false, Pageable.ofSize(50)); \n    while (!trains.isEmpty()) { \n        for(Train t:trains) { \n            train.isRunning(true); // updating isRunning to true \n        } \n        repo.saveAll(trains); // saving all the updated train objects \n        trains = repo.findBySourceAndIsRunning(&quot;cityCode&quot;, false, Pageable.ofSize(50)); \n    } \n}\n</code></pre>\n<p>Is there a better way to update just one or more entities ?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":2,"creation_date":1648733237,"post_id":71693303,"comment_id":126703496,"body_markdown":"You break your loop on the first iteration, so none of the elements of your array are checked after the first.","body":"You break your loop on the first iteration, so none of the elements of your array are checked after the first."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1648733312,"post_id":71693303,"comment_id":126703527,"body_markdown":"The real answer here: step back. Take a piece of paper, and a pen. Then run your code &quot;mentally&quot;. Write down what is in each variable, write down &quot;what happens&quot;. Like: it takes the user input and compares it with the first city. Is it equal .. then ... else. And no matter what, there is a break after the if else. Hmm.","body":"The real answer here: step back. Take a piece of paper, and a pen. Then run your code &quot;mentally&quot;. Write down what is in each variable, write down &quot;what happens&quot;. Like: it takes the user input and compares it with the first city. Is it equal .. then ... else. And no matter what, there is a break after the if else. Hmm."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":2,"creation_date":1648733409,"post_id":71693303,"comment_id":126703568,"body_markdown":"Also note, conceptually, this wont work, even when you (re)move the break. What you want to do instead: have a boolean marker like `boolean foundCity = false`. You iterate the array, and if an entry matches the user input, you toggle that boolean. Then **after** the loop you do `if (foundCity)` ONCE.","body":"Also note, conceptually, this wont work, even when you (re)move the break. What you want to do instead: have a boolean marker like <code>boolean foundCity = false</code>. You iterate the array, and if an entry matches the user input, you toggle that boolean. Then <b>after</b> the loop you do <code>if (foundCity)</code> ONCE."},{"owner":{"account_id":3297248,"reputation":666,"user_id":2774232,"accept_rate":95,"display_name":"corneliu"},"score":0,"creation_date":1648733449,"post_id":71693303,"comment_id":126703586,"body_markdown":"Don&#39;t print anything in the loop. The purpose of the loop is to determine if the city is in the list. Store your findings in a variable. After the loop print your findings based on the variable.","body":"Don&#39;t print anything in the loop. The purpose of the loop is to determine if the city is in the list. Store your findings in a variable. After the loop print your findings based on the variable."}],"owner":{"account_id":24312701,"reputation":55,"user_id":18254439,"display_name":"Benze Lawerence"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648733237,"creation_date":1648733093,"question_id":71693303,"body_markdown":"I&#39;m a bit new to Java. I would like my scanner to be able to read only the strings in  my array list. This should work in such a way that when a user tries to type a name not declared inside the array list, it should display print out the message indicating that the city is not present on the list. \r\n\r\nSo far this is what I have done but I realised that it only prints the first string &quot;Poznan&quot; correctly but when I enter the names of other cities, it throws the error message that it isn&#39;t part of the list which is very false. It reads only the first string. What could be wrong?\r\n```\r\nimport java.util.Scanner;\r\nimport java.util.ArrayList;\r\n\r\n\r\npublic class New {\r\n    public static  void main (String[]args) {\r\n\r\n        String [] cities = {&quot;Poznan&quot;, &quot;Warsaw&quot;, &quot;Gdansk&quot;, &quot;Wroclaw&quot;, &quot;Krakow&quot;, &quot;Lodz&quot;, &quot;Katowice&quot;};\r\n                Scanner scan = new Scanner(System.in);\r\n                    System.out.println(&quot;What is the name of your city in Poland? &quot;);\r\n\r\n        String name = scan.nextLine();\r\n\r\n        for (String n:cities) {\r\n            if (n.equalsIgnoreCase(name)) {\r\n                System.out.println(&quot;You are citizen of Poland from &quot; +name);\r\n                System.out.println(&quot;Thank your for visiting  &quot; +name);\r\n            }\r\n\r\n\r\n            else {\r\n                System.out.println(&quot;You are not from Poland!!!&quot; );\r\n                System.out.println(&quot;There is not city in Poland called&quot; +name);\r\n            }\r\n            break;\r\n\r\n        }\r\n    }\r\n}\r\n```","title":"How to Print Only Strings Listed in A given Array list in Java","body":"<p>I'm a bit new to Java. I would like my scanner to be able to read only the strings in  my array list. This should work in such a way that when a user tries to type a name not declared inside the array list, it should display print out the message indicating that the city is not present on the list.</p>\n<p>So far this is what I have done but I realised that it only prints the first string &quot;Poznan&quot; correctly but when I enter the names of other cities, it throws the error message that it isn't part of the list which is very false. It reads only the first string. What could be wrong?</p>\n<pre><code>import java.util.Scanner;\nimport java.util.ArrayList;\n\n\npublic class New {\n    public static  void main (String[]args) {\n\n        String [] cities = {&quot;Poznan&quot;, &quot;Warsaw&quot;, &quot;Gdansk&quot;, &quot;Wroclaw&quot;, &quot;Krakow&quot;, &quot;Lodz&quot;, &quot;Katowice&quot;};\n                Scanner scan = new Scanner(System.in);\n                    System.out.println(&quot;What is the name of your city in Poland? &quot;);\n\n        String name = scan.nextLine();\n\n        for (String n:cities) {\n            if (n.equalsIgnoreCase(name)) {\n                System.out.println(&quot;You are citizen of Poland from &quot; +name);\n                System.out.println(&quot;Thank your for visiting  &quot; +name);\n            }\n\n\n            else {\n                System.out.println(&quot;You are not from Poland!!!&quot; );\n                System.out.println(&quot;There is not city in Poland called&quot; +name);\n            }\n            break;\n\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","docker","selenium","jenkins","webdrivermanager-java"],"answers":[{"tags":[],"owner":{"account_id":4420200,"reputation":4708,"user_id":3877746,"accept_rate":100,"display_name":"Boni Garc&#237;a"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648732998,"creation_date":1648732998,"answer_id":71693282,"question_id":71673439,"body_markdown":"It seems it is related to the configuration of your Docker engine. There are related posts, e.g. [this][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/63650259/getting-the-error-status-400-client-sent-an-http-request-to-an-https-server","title":"HTTP request to HTTPS server exception webdrivermanager-java docker Jenkins","body":"<p>It seems it is related to the configuration of your Docker engine. There are related posts, e.g. <a href=\"https://stackoverflow.com/questions/63650259/getting-the-error-status-400-client-sent-an-http-request-to-an-https-server\">this</a>.</p>\n"}],"owner":{"account_id":24684798,"reputation":11,"user_id":18578133,"display_name":"Curb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":904,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648733021,"creation_date":1648626542,"question_id":71673439,"body_markdown":"I&#39;m trying to setup Bonigarcia webdrivermanager java with a chrome browser in a docker container on a jenkins CI server. Webdrivermanager is unable to pull the docker image from Docker Hub. I have version 5.1.0 of webdrivermanager. I get the following exception:\r\n\r\n    10:26:22.110 [main] INFO  io.github.bonigarcia.wdm.docker.DockerService - Pulling Docker image selenoid/vnc:chrome_99.0 (this might take some time, but only the first time)\r\n    10:26:22.225 [docker-java-stream-550739255] ERROR com.github.dockerjava.api.async.ResultCallbackTemplate - Error during callback\r\n    com.github.dockerjava.api.exception.BadRequestException: Status 400: Client sent an HTTP request to an HTTPS server.\r\n    \r\n    \tat com.github.dockerjava.core.DefaultInvocationBuilder.execute(DefaultInvocationBuilder.java:237)\r\n    \tat com.github.dockerjava.core.DefaultInvocationBuilder.lambda$executeAndStream$1(DefaultInvocationBuilder.java:269)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n    10:26:22.225 [main] WARN  io.github.bonigarcia.wdm.docker.DockerService - Exception pulling image selenoid/vnc:chrome_99.0: Status 400: Client sent an HTTP request to an HTTPS server.\r\n\r\nThe is my webdrivermanager setup:\r\n\r\n    WebDriverManager\r\n            .chromedriver()\r\n            .browserInDocker()\r\n            .create();\r\n\r\nI already tried the following but I still get the same exception:\r\n\r\n - activate TLS verification on the docker client\r\n - Add the selenoid chrome image to the internal docker registry\r\n \r\nAny ideas what could be wrong or what else I could try?","title":"HTTP request to HTTPS server exception webdrivermanager-java docker Jenkins","body":"<p>I'm trying to setup Bonigarcia webdrivermanager java with a chrome browser in a docker container on a jenkins CI server. Webdrivermanager is unable to pull the docker image from Docker Hub. I have version 5.1.0 of webdrivermanager. I get the following exception:</p>\n<pre><code>10:26:22.110 [main] INFO  io.github.bonigarcia.wdm.docker.DockerService - Pulling Docker image selenoid/vnc:chrome_99.0 (this might take some time, but only the first time)\n10:26:22.225 [docker-java-stream-550739255] ERROR com.github.dockerjava.api.async.ResultCallbackTemplate - Error during callback\ncom.github.dockerjava.api.exception.BadRequestException: Status 400: Client sent an HTTP request to an HTTPS server.\n\n    at com.github.dockerjava.core.DefaultInvocationBuilder.execute(DefaultInvocationBuilder.java:237)\n    at com.github.dockerjava.core.DefaultInvocationBuilder.lambda$executeAndStream$1(DefaultInvocationBuilder.java:269)\n    at java.lang.Thread.run(Thread.java:748)\n10:26:22.225 [main] WARN  io.github.bonigarcia.wdm.docker.DockerService - Exception pulling image selenoid/vnc:chrome_99.0: Status 400: Client sent an HTTP request to an HTTPS server.\n</code></pre>\n<p>The is my webdrivermanager setup:</p>\n<pre><code>WebDriverManager\n        .chromedriver()\n        .browserInDocker()\n        .create();\n</code></pre>\n<p>I already tried the following but I still get the same exception:</p>\n<ul>\n<li>activate TLS verification on the docker client</li>\n<li>Add the selenoid chrome image to the internal docker registry</li>\n</ul>\n<p>Any ideas what could be wrong or what else I could try?</p>\n"},{"tags":["java","apache-poi"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1648717833,"post_id":71689291,"comment_id":126697461,"body_markdown":"There is [XSSFSignatureLine.parse](https://poi.apache.org/apidocs/5.0/org/apache/poi/xssf/usermodel/XSSFSignatureLine.html#parse-org.apache.poi.xssf.usermodel.XSSFSheet-). But that only gets **one** signature line per sheet. What exactly do you need out of the signature lines?","body":"There is <a href=\"https://poi.apache.org/apidocs/5.0/org/apache/poi/xssf/usermodel/XSSFSignatureLine.html#parse-org.apache.poi.xssf.usermodel.XSSFSheet-\" rel=\"nofollow noreferrer\">XSSFSignatureLine.parse</a>. But that only gets <b>one</b> signature line per sheet. What exactly do you need out of the signature lines?"},{"owner":{"account_id":24756075,"reputation":3,"user_id":18640992,"display_name":"Pablo Canales"},"score":0,"creation_date":1648726421,"post_id":71689291,"comment_id":126700642,"body_markdown":"Thank you with one signature line per sheet is enough. What i see i have to upgrade version to 5.x","body":"Thank you with one signature line per sheet is enough. What i see i have to upgrade version to 5.x"}],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648732941,"creation_date":1648732941,"answer_id":71693271,"question_id":71689291,"body_markdown":"To get/set a signature line from/into an Excel sheet, `apache poi` has introduced [XSSFSignatureLine](https://poi.apache.org/apidocs/5.0/org/apache/poi/xssf/usermodel/XSSFSignatureLine.html) in current `apache poi 5.x`. This class provides a method ` \tparse(XSSFSheet sheet)` which gets one signature line per sheet. Seems as if `apache poi`had not expected that there can be multiple signature lines per sheet.\r\n\r\nThe text data of the signatures are stored in a VML drawing. So if it is only to get the text data out of the signature lines, then one could get the sheet&#39;s  VML drawing and select the data from that XML. Of course the binary data of the signature lines cannot be got from that XML.\r\n\r\nFollowing code sample shows both nof the methods.\r\n\r\n    import org.apache.poi.ss.usermodel.*;\r\n    import org.apache.poi.xssf.usermodel.*;\r\n    \r\n    import java.io.FileInputStream;\r\n    \r\n    class ExcelGetSignatureLines {\r\n    \t\r\n     static void getSignatureLines(XSSFSheet sheet) throws Exception {\r\n      XSSFSignatureLine signatureLine = new XSSFSignatureLine();\r\n      signatureLine.parse(sheet);\r\n      System.out.println(&quot;Found XSSFSignatureLine:&quot;);\r\n      System.out.println(signatureLine.getSuggestedSigner());\r\n      System.out.println(signatureLine.getSuggestedSigner2());\r\n      System.out.println(signatureLine.getSuggestedSignerEmail());\r\n     }\r\n     \r\n     static void getSignatureLinesFromVMLDrawing(XSSFSheet sheet) throws Exception {\r\n      XSSFVMLDrawing vmlDrawing = sheet.getVMLDrawing(false);\r\n      if (vmlDrawing != null) {\r\n       org.apache.poi.schemas.vmldrawing.XmlDocument vmlDrawingDocument = vmlDrawing.getDocument();\r\n       String declareNameSpaces = &quot;declare namespace v=&#39;urn:schemas-microsoft-com:vml&#39;; &quot; \r\n                                + &quot;declare namespace o=&#39;urn:schemas-microsoft-com:office:office&#39; &quot;;\r\n       org.apache.xmlbeans.XmlObject[] selectedObjects = vmlDrawingDocument.selectPath(\r\n        declareNameSpaces \r\n        + &quot;.//v:shape//o:signatureline&quot;);\r\n       for (org.apache.xmlbeans.XmlObject object : selectedObjects) {\r\n    \tif (object instanceof com.microsoft.schemas.office.office.CTSignatureLine) {\r\n    \t com.microsoft.schemas.office.office.CTSignatureLine ctSignatureLine = (com.microsoft.schemas.office.office.CTSignatureLine)object;\r\n         System.out.println(&quot;Found CTSignatureLine:&quot;);\r\n         System.out.println(ctSignatureLine.getSuggestedsigner());\r\n         System.out.println(ctSignatureLine.getSuggestedsigner2());\r\n         System.out.println(ctSignatureLine.getSuggestedsigneremail());\r\n    \t}\r\n       }  \r\n      }\r\n     }\r\n     \r\n     public static void main(String[] args) throws Exception {\r\n      Workbook workbook = WorkbookFactory.create(new FileInputStream(&quot;./WorkbookHavingSignatureLines.xlsx&quot;));\r\n      for (Sheet sheet : workbook ) {\r\n       if (sheet instanceof XSSFSheet) {\r\n    \tSystem.out.println(&quot;Sheet &quot; + sheet.getSheetName());\r\n        getSignatureLines((XSSFSheet)sheet);\r\n        getSignatureLinesFromVMLDrawing((XSSFSheet)sheet);\r\n       }\r\n      }\r\n      workbook.close();\r\n     }\r\n    }","title":"How to get SignatureLines excel apache poi","body":"<p>To get/set a signature line from/into an Excel sheet, <code>apache poi</code> has introduced <a href=\"https://poi.apache.org/apidocs/5.0/org/apache/poi/xssf/usermodel/XSSFSignatureLine.html\" rel=\"nofollow noreferrer\">XSSFSignatureLine</a> in current <code>apache poi 5.x</code>. This class provides a method <code>  parse(XSSFSheet sheet)</code> which gets one signature line per sheet. Seems as if <code>apache poi</code>had not expected that there can be multiple signature lines per sheet.</p>\n<p>The text data of the signatures are stored in a VML drawing. So if it is only to get the text data out of the signature lines, then one could get the sheet's  VML drawing and select the data from that XML. Of course the binary data of the signature lines cannot be got from that XML.</p>\n<p>Following code sample shows both nof the methods.</p>\n<pre><code>import org.apache.poi.ss.usermodel.*;\nimport org.apache.poi.xssf.usermodel.*;\n\nimport java.io.FileInputStream;\n\nclass ExcelGetSignatureLines {\n    \n static void getSignatureLines(XSSFSheet sheet) throws Exception {\n  XSSFSignatureLine signatureLine = new XSSFSignatureLine();\n  signatureLine.parse(sheet);\n  System.out.println(&quot;Found XSSFSignatureLine:&quot;);\n  System.out.println(signatureLine.getSuggestedSigner());\n  System.out.println(signatureLine.getSuggestedSigner2());\n  System.out.println(signatureLine.getSuggestedSignerEmail());\n }\n \n static void getSignatureLinesFromVMLDrawing(XSSFSheet sheet) throws Exception {\n  XSSFVMLDrawing vmlDrawing = sheet.getVMLDrawing(false);\n  if (vmlDrawing != null) {\n   org.apache.poi.schemas.vmldrawing.XmlDocument vmlDrawingDocument = vmlDrawing.getDocument();\n   String declareNameSpaces = &quot;declare namespace v='urn:schemas-microsoft-com:vml'; &quot; \n                            + &quot;declare namespace o='urn:schemas-microsoft-com:office:office' &quot;;\n   org.apache.xmlbeans.XmlObject[] selectedObjects = vmlDrawingDocument.selectPath(\n    declareNameSpaces \n    + &quot;.//v:shape//o:signatureline&quot;);\n   for (org.apache.xmlbeans.XmlObject object : selectedObjects) {\n    if (object instanceof com.microsoft.schemas.office.office.CTSignatureLine) {\n     com.microsoft.schemas.office.office.CTSignatureLine ctSignatureLine = (com.microsoft.schemas.office.office.CTSignatureLine)object;\n     System.out.println(&quot;Found CTSignatureLine:&quot;);\n     System.out.println(ctSignatureLine.getSuggestedsigner());\n     System.out.println(ctSignatureLine.getSuggestedsigner2());\n     System.out.println(ctSignatureLine.getSuggestedsigneremail());\n    }\n   }  \n  }\n }\n \n public static void main(String[] args) throws Exception {\n  Workbook workbook = WorkbookFactory.create(new FileInputStream(&quot;./WorkbookHavingSignatureLines.xlsx&quot;));\n  for (Sheet sheet : workbook ) {\n   if (sheet instanceof XSSFSheet) {\n    System.out.println(&quot;Sheet &quot; + sheet.getSheetName());\n    getSignatureLines((XSSFSheet)sheet);\n    getSignatureLinesFromVMLDrawing((XSSFSheet)sheet);\n   }\n  }\n  workbook.close();\n }\n}\n</code></pre>\n"}],"owner":{"account_id":24756075,"reputation":3,"user_id":18640992,"display_name":"Pablo Canales"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71693271,"answer_count":1,"score":0,"last_activity_date":1648732941,"creation_date":1648715312,"question_id":71689291,"body_markdown":"Good morning,\r\n\r\nI created an excel with signature lines.\r\n\r\n![enter image description here](https://i.stack.imgur.com/Bvsqd.png)\r\n\r\nI&#39;m trying to obtain signature lines in a excel document with apache poi library.\r\n\r\nXSSFWorkbook w = new XSSFWorkbook(mp.getInputStream());\r\nw.get......?\r\n\r\nAny suggestion?\r\n\r\nThanks in advance,\r\n\r\nPablo\r\n\r\nI see there is a class called XSSFSignatureLine but i don&#39;t see any example to use it.","title":"How to get SignatureLines excel apache poi","body":"<p>Good morning,</p>\n<p>I created an excel with signature lines.</p>\n<p><img src=\"https://i.stack.imgur.com/Bvsqd.png\" alt=\"enter image description here\" /></p>\n<p>I'm trying to obtain signature lines in a excel document with apache poi library.</p>\n<p>XSSFWorkbook w = new XSSFWorkbook(mp.getInputStream());\nw.get......?</p>\n<p>Any suggestion?</p>\n<p>Thanks in advance,</p>\n<p>Pablo</p>\n<p>I see there is a class called XSSFSignatureLine but i don't see any example to use it.</p>\n"},{"tags":["java","list","guava","return-type"],"comments":[{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":3,"creation_date":1648650457,"post_id":71678996,"comment_id":126678999,"body_markdown":"Just use a generic type variable instead of `String`?","body":"Just use a generic type variable instead of <code>String</code>?"},{"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"score":0,"creation_date":1648650818,"post_id":71678996,"comment_id":126679159,"body_markdown":"For this you would use [Generics](https://docs.oracle.com/javase/tutorial/java/generics/index.html). But a better design would be to use objects in your list containing the keys. If necessary you can implement a custom Comparator. Two lists are very error-prone, because you have to make sure that they always fit together.","body":"For this you would use <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/index.html\" rel=\"nofollow noreferrer\">Generics</a>. But a better design would be to use objects in your list containing the keys. If necessary you can implement a custom Comparator. Two lists are very error-prone, because you have to make sure that they always fit together."},{"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"score":0,"creation_date":1648651107,"post_id":71678996,"comment_id":126679320,"body_markdown":"Maybe a [SortedMap](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/SortedMap.html) would also fit. Depends on the use case.","body":"Maybe a <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/SortedMap.html\" rel=\"nofollow noreferrer\">SortedMap</a> would also fit. Depends on the use case."},{"owner":{"account_id":22523418,"reputation":163,"user_id":16716586,"display_name":"PebNischl"},"score":0,"creation_date":1648651526,"post_id":71678996,"comment_id":126679538,"body_markdown":"@RealSkeptic That would indeed work in order to successfully sort the values (something like ```List&lt;T&gt; values```), but it would also mean that I return a list of the generic type. Now I could just manually cast the returned list to whatever the initial ```values``` was, but ideally, the returned list would be of the same type as the initial list by default. But I don&#39;t know if such a dynamic return type would even be possible, so that might be the best I can get here.","body":"@RealSkeptic That would indeed work in order to successfully sort the values (something like <code>List&lt;T&gt; values</code>), but it would also mean that I return a list of the generic type. Now I could just manually cast the returned list to whatever the initial <code>values</code> was, but ideally, the returned list would be of the same type as the initial list by default. But I don&#39;t know if such a dynamic return type would even be possible, so that might be the best I can get here."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1648652522,"post_id":71678996,"comment_id":126679994,"body_markdown":"As a minor aside: `sortedValues.addAll(multiMap.get(key));` replaces the need for the nested for loop.","body":"As a minor aside: <code>sortedValues.addAll(multiMap.get(key));</code> replaces the need for the nested for loop."},{"owner":{"account_id":329814,"reputation":11000,"user_id":653539,"accept_rate":50,"display_name":"Tom&#225;š Z&#225;lusk&#253;"},"score":0,"creation_date":1648654386,"post_id":71678996,"comment_id":126680860,"body_markdown":"Offtopic note: you don&#39;t need guava Multimap. Assuming `keys` contain permutation of indices, simple loop suffices: `List&lt;T&gt; sortedValue = new ArrayList&lt;&gt;(Collections.nCopies(keys.size(),null)); for (int i = 0; i &lt; keys.size(); i++) sortedValues.set(keys.get(i) - 1, valuesToSort.get(i));`.","body":"Offtopic note: you don&#39;t need guava Multimap. Assuming <code>keys</code> contain permutation of indices, simple loop suffices: <code>List&lt;T&gt; sortedValue = new ArrayList&lt;&gt;(Collections.nCopies(keys.size(),null)); for (int i = 0; i &lt; keys.size(); i++) sortedValues.set(keys.get(i) - 1, valuesToSort.get(i));</code>."}],"answers":[{"tags":[],"owner":{"account_id":6914793,"reputation":2511,"user_id":5309486,"display_name":"Ashok"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1648651062,"creation_date":1648651062,"answer_id":71679293,"question_id":71678996,"body_markdown":"You can use Generics for this as follow:\r\n```java\r\npublic List&lt;T&gt; sort(List&lt;Integer&gt; keys, List&lt;T&gt; values){\r\n    Multimap&lt;Integer, T&gt;&gt; multiMap = LinkedListMultimap.create();\r\n    for (int i = 0; i &lt; keys.size(); i++) {\r\n        multiMap.put(keys.get(i), values.get(i));\r\n    }\r\n    List&lt;T&gt; sortedValues = Lists.newArrayList();\r\n    for (Integer key : Ordering.natural().sortedCopy(multiMap.keys())) {\r\n        for (T value : multiMap.get(key)) {\r\n            sortedValues.add(value);\r\n        }\r\n    }\r\n    return sortedValues;\r\n}\r\n```\r\n\r\nNow, when you pass list of strings, the generic `T` would be considered as `String`. When you pass list of integers, `T` would become `Integer`. This will happen at runtime.","title":"Dynamic return type based on input argument type","body":"<p>You can use Generics for this as follow:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public List&lt;T&gt; sort(List&lt;Integer&gt; keys, List&lt;T&gt; values){\n    Multimap&lt;Integer, T&gt;&gt; multiMap = LinkedListMultimap.create();\n    for (int i = 0; i &lt; keys.size(); i++) {\n        multiMap.put(keys.get(i), values.get(i));\n    }\n    List&lt;T&gt; sortedValues = Lists.newArrayList();\n    for (Integer key : Ordering.natural().sortedCopy(multiMap.keys())) {\n        for (T value : multiMap.get(key)) {\n            sortedValues.add(value);\n        }\n    }\n    return sortedValues;\n}\n</code></pre>\n<p>Now, when you pass list of strings, the generic <code>T</code> would be considered as <code>String</code>. When you pass list of integers, <code>T</code> would become <code>Integer</code>. This will happen at runtime.</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1648655384,"creation_date":1648652138,"answer_id":71679588,"question_id":71678996,"body_markdown":"Here is one way.  I am presuming that the keys could have duplicate numbers like `[3, 5, 2, 2, 1]`. Otherwise, simpler algorithms would prevail.\r\n\r\n- Sort the values from `0 to keys.size()` using the `keys` list\r\n- for the cited example, this will result in the following stream of integers. `[4 2 0 3 1]`\r\n- then use those to index into the values list.\r\n- this will then yield the desired order.\r\n\r\n```\r\nList&lt;Integer&gt; keys = Arrays.asList(3, 5, 2, 4, 1);\r\nList&lt;String&gt; valuesToSort =\r\n\t\tArrays.asList(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;E&quot;);\r\n\r\nList&lt;String&gt; result = sort(keys, valuesToSort);\r\nSystem.out.println(result);\r\n```\r\nprints\r\n```\r\n[E, C, A, D, B]\r\n```\r\nThe generic method\r\n- make it static\r\n- the value list is just indexed so that can be any type `T`\r\n- the key list must be of type `Integer` \r\n```\r\npublic static &lt;T&gt; List&lt;T&gt; sort(List&lt;Integer&gt; keys, List&lt;T&gt; values){\r\n\treturn IntStream.range(0, keys.size()).boxed()\r\n\t\t\t.sorted(Comparator.comparing(keys::get))\r\n\t\t\t.map(values::get).toList();\r\n}\r\n\r\n","title":"Dynamic return type based on input argument type","body":"<p>Here is one way.  I am presuming that the keys could have duplicate numbers like <code>[3, 5, 2, 2, 1]</code>. Otherwise, simpler algorithms would prevail.</p>\n<ul>\n<li>Sort the values from <code>0 to keys.size()</code> using the <code>keys</code> list</li>\n<li>for the cited example, this will result in the following stream of integers. <code>[4 2 0 3 1]</code></li>\n<li>then use those to index into the values list.</li>\n<li>this will then yield the desired order.</li>\n</ul>\n<pre><code>List&lt;Integer&gt; keys = Arrays.asList(3, 5, 2, 4, 1);\nList&lt;String&gt; valuesToSort =\n        Arrays.asList(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;E&quot;);\n\nList&lt;String&gt; result = sort(keys, valuesToSort);\nSystem.out.println(result);\n</code></pre>\n<p>prints</p>\n<pre><code>[E, C, A, D, B]\n</code></pre>\n<p>The generic method</p>\n<ul>\n<li>make it static</li>\n<li>the value list is just indexed so that can be any type <code>T</code></li>\n<li>the key list must be of type <code>Integer</code></li>\n</ul>\n<pre><code>public static &lt;T&gt; List&lt;T&gt; sort(List&lt;Integer&gt; keys, List&lt;T&gt; values){\n    return IntStream.range(0, keys.size()).boxed()\n            .sorted(Comparator.comparing(keys::get))\n            .map(values::get).toList();\n}\n\n</code></pre>\n"}],"owner":{"account_id":22523418,"reputation":163,"user_id":16716586,"display_name":"PebNischl"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":742,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":71679293,"answer_count":2,"score":3,"last_activity_date":1648732928,"creation_date":1648650057,"question_id":71678996,"body_markdown":"I&#39;m trying to write a small function that takes two lists and sorts one based on the elements of the other. So something like:\r\n\r\n    List&lt;Integer&gt; keys = Arrays.asList(3, 5, 2, 4, 1);\r\n    List&lt;String&gt; valuesToSort = Arrays.asList(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;E&quot;);\r\n    \r\n    List&lt;String&gt; sortedValues = sort(keys, valuesToSort);\r\n\r\n\r\nwould result in a sorted list ```[E, C, A, D, B]```.\r\n\r\nHowever, ```valuesToSort``` might be a list of something different, like integers, floats or other lists. Ideally, I would want my program to take any list I throw at it, sort it according to ```keys```, and then return a list of the same type as the input. How would I do that? If the type of ```values``` were fixed, the sorting itself would be straightforward, like for example\r\n\r\n\tpublic List&lt;String&gt; sort(List&lt;Integer&gt; keys, List&lt;String&gt; values){\r\n    \tMultimap&lt;Integer, String&gt;&gt; multiMap = LinkedListMultimap.create();\r\n\t\tfor (int i = 0; i &lt; keys.size(); i++) {\r\n\t\t\tmultiMap.put(keys.get(i), values.get(i));\r\n\t\t}\r\n\t\tList&lt;String&gt;&gt; sortedValues = Lists.newArrayList();\r\n\t\tfor (Integer key : Ordering.natural().sortedCopy(multiMap.keys())) {\r\n\t\t\tfor (String value : multiMap.get(key)) {\r\n\t\t\t\tsortedValues.add(value);\r\n\t\t\t}\r\n\t\t}\r\n\treturn sortedValues;\r\n\t}\r\n\r\nbut this only works if ```values``` is a list of the expected type.","title":"Dynamic return type based on input argument type","body":"<p>I'm trying to write a small function that takes two lists and sorts one based on the elements of the other. So something like:</p>\n<pre><code>List&lt;Integer&gt; keys = Arrays.asList(3, 5, 2, 4, 1);\nList&lt;String&gt; valuesToSort = Arrays.asList(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;E&quot;);\n\nList&lt;String&gt; sortedValues = sort(keys, valuesToSort);\n</code></pre>\n<p>would result in a sorted list <code>[E, C, A, D, B]</code>.</p>\n<p>However, <code>valuesToSort</code> might be a list of something different, like integers, floats or other lists. Ideally, I would want my program to take any list I throw at it, sort it according to <code>keys</code>, and then return a list of the same type as the input. How would I do that? If the type of <code>values</code> were fixed, the sorting itself would be straightforward, like for example</p>\n<pre><code>public List&lt;String&gt; sort(List&lt;Integer&gt; keys, List&lt;String&gt; values){\n    Multimap&lt;Integer, String&gt;&gt; multiMap = LinkedListMultimap.create();\n    for (int i = 0; i &lt; keys.size(); i++) {\n        multiMap.put(keys.get(i), values.get(i));\n    }\n    List&lt;String&gt;&gt; sortedValues = Lists.newArrayList();\n    for (Integer key : Ordering.natural().sortedCopy(multiMap.keys())) {\n        for (String value : multiMap.get(key)) {\n            sortedValues.add(value);\n        }\n    }\nreturn sortedValues;\n}\n</code></pre>\n<p>but this only works if <code>values</code> is a list of the expected type.</p>\n"},{"tags":["java","arrays","sorting","multidimensional-array"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1648733184,"post_id":71693264,"comment_id":126703474,"body_markdown":"You never connect your users to a list of games. Your code finds out which user logs in and performs a `gamesOwned = &quot;Own 2 Games&quot;;`, nothing more. `checkGames` will always return false.","body":"You never connect your users to a list of games. Your code finds out which user logs in and performs a <code>gamesOwned = &quot;Own 2 Games&quot;;</code>, nothing more. <code>checkGames</code> will always return false."},{"owner":{"account_id":7373320,"reputation":17364,"user_id":5612858,"display_name":"Arnaud"},"score":0,"creation_date":1648733322,"post_id":71693264,"comment_id":126703533,"body_markdown":"Also at the moment, `checkGames()` is useless, maybe you want this method to return the relevant `j` index instead of `true` and maybe `-1` instead of `false` ? Then use this value to print only the relevant index of the array.","body":"Also at the moment, <code>checkGames()</code> is useless, maybe you want this method to return the relevant <code>j</code> index instead of <code>true</code> and maybe <code>-1</code> instead of <code>false</code> ? Then use this value to print only the relevant index of the array."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":2,"creation_date":1648733550,"post_id":71693264,"comment_id":126703633,"body_markdown":"@Arnaud but not even that makes sense. The String `&quot;Own 2 Games&quot;` is being compared to `&quot;Skyrim&quot;`. It&#39;s semantically wrong.","body":"@Arnaud but not even that makes sense. The String <code>&quot;Own 2 Games&quot;</code> is being compared to <code>&quot;Skyrim&quot;</code>. It&#39;s semantically wrong."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1648736104,"post_id":71693264,"comment_id":126704726,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"owner":{"account_id":24759402,"reputation":1,"user_id":18643983,"display_name":"raoulius"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648732912,"creation_date":1648732912,"question_id":71693264,"body_markdown":"So im making a program for school on making an interface that if you login with the correct credentials. You will be greeted with how many games you own and the names of the games.\r\n\r\n--------------------------------------- \r\nEnter your credentialsEmail : nama2@kelompokXX.com\r\n\r\nPassword : 4567\r\n\r\nYou Own 2 GamesGames Owned : \\[\\[Syrim, Metal Gear Solid V\\], \\[CS:GO, Kirby, Valorant\\]\\]\r\n\r\nProcess finished with exit code 0\r\n\r\n--------------------------------------------------------------------------------------\r\nlike the above .\r\n\r\nI only want the result to be\r\n\r\n-------------------------------------------------------------\r\nEnter your credentialsEmail : nama2@kelompokXX.com\r\n\r\nPassword : 4567\r\n\r\nYou Own 2 Games\r\nGames Owned : \\[\\[Syrim, Metal Gear Solid V\\]\r\n\r\nProcess finished with exit code 0\r\n\r\n--------------------------------------------------------------------\r\nso its only one choice of the list inside the array i made.\r\n\r\n    package com.company;\r\n    \r\n    import java.util.Arrays;\r\n    \r\n    public class userService {\r\n        private String[][] games = new String[2][1];\r\n        private String[][] data = new String[2][3];\r\n        private String email, password, gamesOwned = &quot;&quot;;\r\n    \r\n        //ini namanya constructor yang akan dijalankan setiap class diinisialisasikan\r\n        public userService(String emails, String passwords, String gamesBought) {\r\n            gamesOwned = gamesBought;\r\n            email = emails;\r\n            password = passwords;\r\n            String[][] games = {\r\n                    {&quot;Syrim&quot;, &quot;Metal Gear Solid V&quot;},\r\n                    {&quot;CS:GO&quot;, &quot;Kirby&quot;, &quot;Valorant&quot;}\r\n            };\r\n            this.games = games;\r\n    \r\n            String[][] data = {\r\n                    {&quot;nama1@kelompokXX.com&quot;, &quot;12345&quot;, &quot;Own 2 Games&quot;},\r\n                    {&quot;nama2@kelompokXX.com&quot;, &quot;4567&quot;, &quot;Own 3 Games&quot;}\r\n            };\r\n            this.data = data;\r\n        }\r\n    \r\n        //method bernama checkCredential\r\n        private boolean checkCredential() {\r\n            for (int i = 0; i &lt; data.length; i++) {\r\n                if (data[i][0].equals(email)) {\r\n                    if (data[i][1].equals(password)) {\r\n                        gamesOwned = data[i][2];\r\n                        return true;\r\n    \r\n                    }\r\n                }\r\n            }\r\n            return false;\r\n        }\r\n        private boolean checkGames() {\r\n            for(int j = 0; j &lt; games.length; j++) {\r\n                if(games[j][0].equals(gamesOwned)) {\r\n    \r\n                return true;\r\n    \r\n                }\r\n            }\r\n            return false;\r\n        }\r\n    \r\n        //method bernama login\r\n        public void login() {\r\n            boolean status = checkCredential(); checkGames();\r\n            if (status == true) System.out.println(&quot;\\nYou &quot; + gamesOwned);\r\n                System.out.println(&quot;Games Owned : &quot; + Arrays.deepToString(games));\r\n    \r\n    \r\n        }\r\n    }\r\n\r\nhere is the code that i made. and so i imagine that one account will have the skyrim, metal gear solid v. and the other account in the program to have the cs:go, kirby, valorant games.\r\n\r\nplease help enlighten me and maybe give me better logic for future homework thank you very much!!","title":"I only want to print one list of the arrays not all of them","body":"<p>So im making a program for school on making an interface that if you login with the correct credentials. You will be greeted with how many games you own and the names of the games.</p>\n<hr />\n<p>Enter your credentialsEmail : nama2@kelompokXX.com</p>\n<p>Password : 4567</p>\n<p>You Own 2 GamesGames Owned : [[Syrim, Metal Gear Solid V], [CS:GO, Kirby, Valorant]]</p>\n<p>Process finished with exit code 0</p>\n<hr />\n<p>like the above .</p>\n<p>I only want the result to be</p>\n<hr />\n<p>Enter your credentialsEmail : nama2@kelompokXX.com</p>\n<p>Password : 4567</p>\n<p>You Own 2 Games\nGames Owned : [[Syrim, Metal Gear Solid V]</p>\n<p>Process finished with exit code 0</p>\n<hr />\n<p>so its only one choice of the list inside the array i made.</p>\n<pre><code>package com.company;\n\nimport java.util.Arrays;\n\npublic class userService {\n    private String[][] games = new String[2][1];\n    private String[][] data = new String[2][3];\n    private String email, password, gamesOwned = &quot;&quot;;\n\n    //ini namanya constructor yang akan dijalankan setiap class diinisialisasikan\n    public userService(String emails, String passwords, String gamesBought) {\n        gamesOwned = gamesBought;\n        email = emails;\n        password = passwords;\n        String[][] games = {\n                {&quot;Syrim&quot;, &quot;Metal Gear Solid V&quot;},\n                {&quot;CS:GO&quot;, &quot;Kirby&quot;, &quot;Valorant&quot;}\n        };\n        this.games = games;\n\n        String[][] data = {\n                {&quot;nama1@kelompokXX.com&quot;, &quot;12345&quot;, &quot;Own 2 Games&quot;},\n                {&quot;nama2@kelompokXX.com&quot;, &quot;4567&quot;, &quot;Own 3 Games&quot;}\n        };\n        this.data = data;\n    }\n\n    //method bernama checkCredential\n    private boolean checkCredential() {\n        for (int i = 0; i &lt; data.length; i++) {\n            if (data[i][0].equals(email)) {\n                if (data[i][1].equals(password)) {\n                    gamesOwned = data[i][2];\n                    return true;\n\n                }\n            }\n        }\n        return false;\n    }\n    private boolean checkGames() {\n        for(int j = 0; j &lt; games.length; j++) {\n            if(games[j][0].equals(gamesOwned)) {\n\n            return true;\n\n            }\n        }\n        return false;\n    }\n\n    //method bernama login\n    public void login() {\n        boolean status = checkCredential(); checkGames();\n        if (status == true) System.out.println(&quot;\\nYou &quot; + gamesOwned);\n            System.out.println(&quot;Games Owned : &quot; + Arrays.deepToString(games));\n\n\n    }\n}\n</code></pre>\n<p>here is the code that i made. and so i imagine that one account will have the skyrim, metal gear solid v. and the other account in the program to have the cs:go, kirby, valorant games.</p>\n<p>please help enlighten me and maybe give me better logic for future homework thank you very much!!</p>\n"},{"tags":["java","timertask"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1648732224,"post_id":71693000,"comment_id":126703015,"body_markdown":"Don&#39;t reinvent the wheel: http://www.quartz-scheduler.org/documentation/2.4.0-SNAPSHOT/examples/Example3.html","body":"Don&#39;t reinvent the wheel: <a href=\"http://www.quartz-scheduler.org/documentation/2.4.0-SNAPSHOT/examples/Example3.html\" rel=\"nofollow noreferrer\">quartz-scheduler.org/documentation/2.4.0-SNAPSHOT/examples/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":10884351,"reputation":36,"user_id":8002332,"display_name":"Heog"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648732889,"creation_date":1648732889,"answer_id":71693259,"question_id":71693000,"body_markdown":"You can use [ScheduledExecutorService][1].\r\n\r\n    \r\n  [1]: https://docs.oracle.com/javase/6/docs/api/java/util/concurrent/ScheduledExecutorService.html","title":"how to set a task to run twice a day at specified times in Java","body":"<p>You can use <a href=\"https://docs.oracle.com/javase/6/docs/api/java/util/concurrent/ScheduledExecutorService.html\" rel=\"nofollow noreferrer\">ScheduledExecutorService</a>.</p>\n"}],"owner":{"account_id":17564871,"reputation":3,"user_id":12741948,"display_name":"Oddityspace"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71693259,"answer_count":1,"score":-1,"last_activity_date":1648732889,"creation_date":1648731883,"question_id":71693000,"body_markdown":"I have a java class that is a basic task that inherits from the TimerTask class. \r\n```\r\npublic abstract class BasicTask extends TimerTask {\r\n\r\n\tprivate boolean taskBusy;\r\n\r\n\tprotected synchronized boolean startTask() {\r\n\t\tif (taskBusy) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\ttaskBusy = true;\r\n\t\treturn true;\r\n\t}\r\n\r\n\tprotected synchronized void stopTask() {\r\n\t\ttaskBusy = false;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic abstract void run();\r\n\r\n}\r\n```\r\nThen I have some tasks that inherit from the basic task.\r\n for example class MyTask and I want MyTask to run twice a day at 9 and at 11.45. \r\n\r\ncode:\r\n\r\n```\r\npublic class MyTask extends BasicTask {\r\n\r\n\tprivate long timePeriodBetweenRun;\r\n\tprivate Date firstExecutionDate;\r\n\tprivate Date firstExecutionDateSecond;\r\n\tprivate long timePeriodBetweenRunSecond;\r\n\r\n\tpublic MyTask (InputSource config, Timer timer){\r\n\t\treadConfig(config);\r\n\t\ttimer.schedule(this, firstExecutionDate, timePeriodBetweenRun);\r\n\t\t//timer.schedule(this, firstExecutionDateSecond, timePeriodBetweenRunSecond); - I want to call sth like that but in this case it won&#39;t work \r\n\t}\r\n\t@Override\r\n\tpublic void run() {\r\n\t\ttry {\r\n\t\t\tif (!startTask()) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tdoSth();\r\n\t\t} catch (Exception e) {\r\n\t\t\tLOG.error(&quot;Error &quot; + e.getMessage(), e);\r\n\t\t} finally {\r\n\t\t\tstopTask();\r\n\t\t}\r\n\t}\r\n```\r\n\r\nMain class: \r\n```\r\npublic class MainApp {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\ttry {\r\n\t\t\tInputSource config = loadConfig();\r\n\t\t\tTimer myTimer= new Timer(false);\r\n\t\t\tnew MyTask(config, myTimer);\r\n\t\t} catch (Exception e) {\r\n\t\t\tLOG.error(&quot;Unable to continue. &quot; + e.getMessage(), e);\r\n\t\t}\r\n\t}\r\n```\r\nconfig file:\r\n```\r\n&lt;myTask&gt;\r\n\t\t&lt;firstExecutionDate&gt;2022-03-31 09:00:00&lt;/firstExecutionDate&gt;\r\n\t\t&lt;timePeriodBetweenRun&gt;86400000&lt;/timePeriodBetweenRun&gt;\r\n&lt;/myTask&gt;\r\n&lt;myTask&gt;\r\n\t\t&lt;firstExecutionDate&gt;2022-03-31 11:45:00&lt;/firstExecutionDate&gt;\r\n\t\t&lt;timePeriodBetweenRun&gt;86400000&lt;/timePeriodBetweenRun&gt;\r\n&lt;/myTask&gt;\r\n```\r\nHow to implement this? ","title":"how to set a task to run twice a day at specified times in Java","body":"<p>I have a java class that is a basic task that inherits from the TimerTask class.</p>\n<pre><code>public abstract class BasicTask extends TimerTask {\n\n    private boolean taskBusy;\n\n    protected synchronized boolean startTask() {\n        if (taskBusy) {\n            return false;\n        }\n\n        taskBusy = true;\n        return true;\n    }\n\n    protected synchronized void stopTask() {\n        taskBusy = false;\n    }\n\n    @Override\n    public abstract void run();\n\n}\n</code></pre>\n<p>Then I have some tasks that inherit from the basic task.\nfor example class MyTask and I want MyTask to run twice a day at 9 and at 11.45.</p>\n<p>code:</p>\n<pre><code>public class MyTask extends BasicTask {\n\n    private long timePeriodBetweenRun;\n    private Date firstExecutionDate;\n    private Date firstExecutionDateSecond;\n    private long timePeriodBetweenRunSecond;\n\n    public MyTask (InputSource config, Timer timer){\n        readConfig(config);\n        timer.schedule(this, firstExecutionDate, timePeriodBetweenRun);\n        //timer.schedule(this, firstExecutionDateSecond, timePeriodBetweenRunSecond); - I want to call sth like that but in this case it won't work \n    }\n    @Override\n    public void run() {\n        try {\n            if (!startTask()) {\n                return;\n            }\n            doSth();\n        } catch (Exception e) {\n            LOG.error(&quot;Error &quot; + e.getMessage(), e);\n        } finally {\n            stopTask();\n        }\n    }\n</code></pre>\n<p>Main class:</p>\n<pre><code>public class MainApp {\n\n    public static void main(String[] args) {\n        try {\n            InputSource config = loadConfig();\n            Timer myTimer= new Timer(false);\n            new MyTask(config, myTimer);\n        } catch (Exception e) {\n            LOG.error(&quot;Unable to continue. &quot; + e.getMessage(), e);\n        }\n    }\n</code></pre>\n<p>config file:</p>\n<pre><code>&lt;myTask&gt;\n        &lt;firstExecutionDate&gt;2022-03-31 09:00:00&lt;/firstExecutionDate&gt;\n        &lt;timePeriodBetweenRun&gt;86400000&lt;/timePeriodBetweenRun&gt;\n&lt;/myTask&gt;\n&lt;myTask&gt;\n        &lt;firstExecutionDate&gt;2022-03-31 11:45:00&lt;/firstExecutionDate&gt;\n        &lt;timePeriodBetweenRun&gt;86400000&lt;/timePeriodBetweenRun&gt;\n&lt;/myTask&gt;\n</code></pre>\n<p>How to implement this?</p>\n"},{"tags":["java","android","sqlite","android-recyclerview","android-sqlite"],"answers":[{"tags":[],"owner":{"account_id":14535244,"reputation":161554,"user_id":10498828,"display_name":"forpas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1582650831,"creation_date":1582650831,"answer_id":60399962,"question_id":60396679,"body_markdown":"Change the method `sumPriceCartItems()` of your `DatabaseHelper` to this:\r\n\r\n    public int sumPriceCartItems() {\r\n        int result = 0;\r\n        SQLiteDatabase db = this.getWritableDatabase();\r\n        Cursor cursor = db.rawQuery(&quot;select sum(&quot;+ COL_3 + &quot; * &quot; + COL_8 + &quot;) from &quot; + TABLE_NAME_CART, null);\r\n        if (cursor.moveToFirst()) result = cursor.getInt(0);\r\n        cursor.close();\r\n        db.close(); \r\n        return result;\r\n    }\r\n\r\nso by using only 1 `Cursor` and without the need of a loop it returns the sum that you want.&lt;br/&gt;\r\nIn your activity&#39;s code get the sum and display it in the `TextView`:\r\n\r\n    DatabaseHelper db = DatabaseHelper.getInstance(this);\r\n    textView.setText(&quot;&quot; + db.sumPriceCartItems());","title":"Sum column SQLite Android and display on TextView","body":"<p>Change the method <code>sumPriceCartItems()</code> of your <code>DatabaseHelper</code> to this:</p>\n\n<pre><code>public int sumPriceCartItems() {\n    int result = 0;\n    SQLiteDatabase db = this.getWritableDatabase();\n    Cursor cursor = db.rawQuery(\"select sum(\"+ COL_3 + \" * \" + COL_8 + \") from \" + TABLE_NAME_CART, null);\n    if (cursor.moveToFirst()) result = cursor.getInt(0);\n    cursor.close();\n    db.close(); \n    return result;\n}\n</code></pre>\n\n<p>so by using only 1 <code>Cursor</code> and without the need of a loop it returns the sum that you want.<br/>\nIn your activity's code get the sum and display it in the <code>TextView</code>:</p>\n\n<pre><code>DatabaseHelper db = DatabaseHelper.getInstance(this);\ntextView.setText(\"\" + db.sumPriceCartItems());\n</code></pre>\n"}],"owner":{"account_id":11670128,"reputation":111,"user_id":8545524,"display_name":"Robert Vasile"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1093,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":60399962,"answer_count":1,"score":2,"last_activity_date":1648732639,"creation_date":1582640282,"question_id":60396679,"body_markdown":"I have an SQLite DB in my Android Project. I have a RecyclerView for &quot;Cart&quot; Activity, where I display some items from this DB. Every item has its own &quot;quantity&quot; and &quot;price&quot;. What I want to do, is to create a method to display a total sum of elements (Total price = Elem1(quantity * price) + Elem2(quantity * price)+...) in one TextView. I let down my database. I appreciate any help!\r\n\r\n    public class DatabaseHelper extends SQLiteOpenHelper {\r\n\r\n    public static final String DATABASE_NAME = &quot;favorites.db&quot;;\r\n    public static final String TABLE_NAME_CART = &quot;cart_table&quot;;\r\n    public static final String COL_1 = &quot;IMAGE&quot;;\r\n    public static final String COL_2 = &quot;NAME&quot;;\r\n    public static final String COL_3 = &quot;PRICE&quot;;\r\n    public static final String COL_4 = &quot;DETAILS&quot;;\r\n    public static final String COL_5 = &quot;MODEL&quot;;\r\n    public static final String COL_6 = &quot;IMAGEE&quot;;\r\n    public static final String COL_7 = &quot;IMAGEEE&quot;;\r\n    public static final String COL_8 = &quot;QUANTITY&quot;;\r\n    public DatabaseHelper(Context context) {\r\n        super(context, DATABASE_NAME, null, 1);\r\n    }\r\n\r\n    private static DatabaseHelper sDatabaseHelper;\r\n\r\n    public DatabaseHelper(@Nullable Context context, @Nullable String name, @Nullable SQLiteDatabase.CursorFactory factory, int version) {\r\n        super(context, name, factory, version);\r\n    }\r\n\r\n\r\n\r\n    public static DatabaseHelper getInstance(Context context) {\r\n        if (sDatabaseHelper == null) {\r\n            sDatabaseHelper = new DatabaseHelper(context);\r\n        }\r\n        return sDatabaseHelper;\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(SQLiteDatabase db) {\r\n        db.execSQL(&quot;CREATE TABLE &quot; + TABLE_NAME_CART + &quot; (&quot; + COL_1 + &quot; INTEGER, &quot; + COL_2 + &quot; VARCHAR, &quot; + COL_3 + &quot; INTEGER, &quot; + COL_4 + &quot; VARCHAR, &quot; + COL_5 + &quot; VARCHAR, &quot; + COL_6 + &quot; INTEGER, &quot; + COL_7 + &quot; INTEGER, &quot; + COL_8 + &quot; INTEGER);&quot;);\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\r\n        db.execSQL(&quot;DROP TABLE IF EXISTS &quot; + TABLE_NAME_CART);\r\n        onCreate(db);\r\n    }\r\n\r\n    // Insert Data in cart table\r\n    public boolean insertDataCart(items items) {\r\n        SQLiteDatabase db = this.getWritableDatabase();\r\n        ContentValues contentValues = new ContentValues();\r\n        contentValues.put(COL_1, items.getlImageId());\r\n        contentValues.put(COL_2, items.getlName());\r\n        contentValues.put(COL_3, items.getlPrice());\r\n        contentValues.put(COL_4, items.getlDetails());\r\n        contentValues.put(COL_5, items.getlModel());\r\n        contentValues.put(COL_6, items.getlImageId1());\r\n        contentValues.put(COL_7, items.getlImageId2());\r\n        contentValues.put(COL_8, items.getQuantity());\r\n\r\n        long result = db.insert(TABLE_NAME_CART, null, contentValues);\r\n\r\n        if (result == -1) {\r\n            return false;\r\n        } else {\r\n            return true;\r\n        }\r\n    }\r\n\r\n    // See Data Cart\r\n    public ArrayList&lt;items&gt; getAllDataCart() {\r\n        ArrayList&lt;items&gt; favItem = new ArrayList&lt;&gt;();\r\n        SQLiteDatabase db = this.getWritableDatabase();\r\n        Cursor res = db.rawQuery(&quot;select * from &quot; + TABLE_NAME_CART, null);\r\n\r\n        while (res.moveToNext()) {\r\n            int img = res.getInt(0);\r\n            String name = res.getString(1);\r\n            int price = res.getInt(2);\r\n            String details = res.getString(3);\r\n            String model = res.getString(4);\r\n            int img1 = res.getInt(5);\r\n            int img2 = res.getInt(6);\r\n            int quantity = res.getInt(7);\r\n            items newItems = new items(name, price, img, img1, img2, details, model,quantity);\r\n            favItem.add(newItems);\r\n        }\r\n        return favItem;\r\n    }\r\n\r\n    // Sum total items price\r\n    public void sumPriceCartItems(int sum) {\r\n        int val;\r\n        SQLiteDatabase db = this.getWritableDatabase();\r\n        Cursor cursor = db.rawQuery(&quot;select &quot;+ COL_3 + &quot;  from &quot; + TABLE_NAME_CART, null);\r\n        Cursor cursor2 = db.rawQuery(&quot;select &quot;+ COL_8 + &quot;  from &quot; + TABLE_NAME_CART, null);\r\n\r\n        if(cursor.moveToFirst())\r\n        while (cursor.moveToNext() &amp;&amp; cursor2.moveToNext()) {\r\n           val = COL_3 * cursor2;\r\n        }\r\n\r\n    }\r\n\r\n\r\n    // Delete Data Cart\r\n    public void deleteCart(int id) {\r\n        SQLiteDatabase db = this.getWritableDatabase();\r\n        db.delete(TABLE_NAME_CART, COL_1 + &quot;=&quot; + id, null);\r\n    }\r\n\r\n    // Update Cart Quantity\r\n    public void updateDataCard(int id, int quantity) {\r\n        SQLiteDatabase db = this.getWritableDatabase();\r\n        ContentValues val = new ContentValues();\r\n        val.put(COL_8, quantity);\r\n\r\n        db.update(TABLE_NAME_CART, val, &quot;IMAGE=&quot; + id, null);\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Sum column SQLite Android and display on TextView","body":"<p>I have an SQLite DB in my Android Project. I have a RecyclerView for \"Cart\" Activity, where I display some items from this DB. Every item has its own \"quantity\" and \"price\". What I want to do, is to create a method to display a total sum of elements (Total price = Elem1(quantity * price) + Elem2(quantity * price)+...) in one TextView. I let down my database. I appreciate any help!</p>\n\n<pre><code>public class DatabaseHelper extends SQLiteOpenHelper {\n\npublic static final String DATABASE_NAME = \"favorites.db\";\npublic static final String TABLE_NAME_CART = \"cart_table\";\npublic static final String COL_1 = \"IMAGE\";\npublic static final String COL_2 = \"NAME\";\npublic static final String COL_3 = \"PRICE\";\npublic static final String COL_4 = \"DETAILS\";\npublic static final String COL_5 = \"MODEL\";\npublic static final String COL_6 = \"IMAGEE\";\npublic static final String COL_7 = \"IMAGEEE\";\npublic static final String COL_8 = \"QUANTITY\";\npublic DatabaseHelper(Context context) {\n    super(context, DATABASE_NAME, null, 1);\n}\n\nprivate static DatabaseHelper sDatabaseHelper;\n\npublic DatabaseHelper(@Nullable Context context, @Nullable String name, @Nullable SQLiteDatabase.CursorFactory factory, int version) {\n    super(context, name, factory, version);\n}\n\n\n\npublic static DatabaseHelper getInstance(Context context) {\n    if (sDatabaseHelper == null) {\n        sDatabaseHelper = new DatabaseHelper(context);\n    }\n    return sDatabaseHelper;\n}\n\n@Override\npublic void onCreate(SQLiteDatabase db) {\n    db.execSQL(\"CREATE TABLE \" + TABLE_NAME_CART + \" (\" + COL_1 + \" INTEGER, \" + COL_2 + \" VARCHAR, \" + COL_3 + \" INTEGER, \" + COL_4 + \" VARCHAR, \" + COL_5 + \" VARCHAR, \" + COL_6 + \" INTEGER, \" + COL_7 + \" INTEGER, \" + COL_8 + \" INTEGER);\");\n\n}\n\n@Override\npublic void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n    db.execSQL(\"DROP TABLE IF EXISTS \" + TABLE_NAME_CART);\n    onCreate(db);\n}\n\n// Insert Data in cart table\npublic boolean insertDataCart(items items) {\n    SQLiteDatabase db = this.getWritableDatabase();\n    ContentValues contentValues = new ContentValues();\n    contentValues.put(COL_1, items.getlImageId());\n    contentValues.put(COL_2, items.getlName());\n    contentValues.put(COL_3, items.getlPrice());\n    contentValues.put(COL_4, items.getlDetails());\n    contentValues.put(COL_5, items.getlModel());\n    contentValues.put(COL_6, items.getlImageId1());\n    contentValues.put(COL_7, items.getlImageId2());\n    contentValues.put(COL_8, items.getQuantity());\n\n    long result = db.insert(TABLE_NAME_CART, null, contentValues);\n\n    if (result == -1) {\n        return false;\n    } else {\n        return true;\n    }\n}\n\n// See Data Cart\npublic ArrayList&lt;items&gt; getAllDataCart() {\n    ArrayList&lt;items&gt; favItem = new ArrayList&lt;&gt;();\n    SQLiteDatabase db = this.getWritableDatabase();\n    Cursor res = db.rawQuery(\"select * from \" + TABLE_NAME_CART, null);\n\n    while (res.moveToNext()) {\n        int img = res.getInt(0);\n        String name = res.getString(1);\n        int price = res.getInt(2);\n        String details = res.getString(3);\n        String model = res.getString(4);\n        int img1 = res.getInt(5);\n        int img2 = res.getInt(6);\n        int quantity = res.getInt(7);\n        items newItems = new items(name, price, img, img1, img2, details, model,quantity);\n        favItem.add(newItems);\n    }\n    return favItem;\n}\n\n// Sum total items price\npublic void sumPriceCartItems(int sum) {\n    int val;\n    SQLiteDatabase db = this.getWritableDatabase();\n    Cursor cursor = db.rawQuery(\"select \"+ COL_3 + \"  from \" + TABLE_NAME_CART, null);\n    Cursor cursor2 = db.rawQuery(\"select \"+ COL_8 + \"  from \" + TABLE_NAME_CART, null);\n\n    if(cursor.moveToFirst())\n    while (cursor.moveToNext() &amp;&amp; cursor2.moveToNext()) {\n       val = COL_3 * cursor2;\n    }\n\n}\n\n\n// Delete Data Cart\npublic void deleteCart(int id) {\n    SQLiteDatabase db = this.getWritableDatabase();\n    db.delete(TABLE_NAME_CART, COL_1 + \"=\" + id, null);\n}\n\n// Update Cart Quantity\npublic void updateDataCard(int id, int quantity) {\n    SQLiteDatabase db = this.getWritableDatabase();\n    ContentValues val = new ContentValues();\n    val.put(COL_8, quantity);\n\n    db.update(TABLE_NAME_CART, val, \"IMAGE=\" + id, null);\n\n}\n</code></pre>\n"},{"tags":["java","android","service","system-alert-window"],"comments":[{"owner":{"account_id":22187961,"reputation":111,"user_id":16430579,"display_name":"HapaxLegomenon"},"score":0,"creation_date":1648736540,"post_id":71693090,"comment_id":126704921,"body_markdown":"What Android version is your friends phone?","body":"What Android version is your friends phone?"},{"owner":{"account_id":23684791,"reputation":1,"user_id":17709889,"display_name":"anonComrade"},"score":0,"creation_date":1648737524,"post_id":71693090,"comment_id":126705413,"body_markdown":"@HapaxLegomenon android 9.0","body":"@HapaxLegomenon android 9.0"},{"owner":{"account_id":22187961,"reputation":111,"user_id":16430579,"display_name":"HapaxLegomenon"},"score":0,"creation_date":1648739491,"post_id":71693090,"comment_id":126706333,"body_markdown":"https://stackoverflow.com/a/45867612/16430579 this may answer your question, I don&#39;t know what createOnTopView() does exactly so I can&#39;t be sure.","body":"<a href=\"https://stackoverflow.com/a/45867612/16430579\">stackoverflow.com/a/45867612/16430579</a> this may answer your question, I don&#39;t know what createOnTopView() does exactly so I can&#39;t be sure."},{"owner":{"account_id":23684791,"reputation":1,"user_id":17709889,"display_name":"anonComrade"},"score":0,"creation_date":1648743297,"post_id":71693090,"comment_id":126707879,"body_markdown":"@HapaxLegomenon its a method to start the service to inflate the layout","body":"@HapaxLegomenon its a method to start the service to inflate the layout"}],"owner":{"account_id":23684791,"reputation":1,"user_id":17709889,"display_name":"anonComrade"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":290,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648732173,"creation_date":1648732173,"question_id":71693090,"body_markdown":"I am new to android dev and little knowledge of java.I want to know how to inflate a layout from service using ```SYSTEM_ALERT_WINDOW```\r\n\r\n    public void checkDrawOverlayPermission() {\r\n     /* check if we already  have \r\n      permission to draw over \r\n      other apps */\r\n      \r\n     if(android.os.Build.VERSION.SDK_INT &gt; 23) {\r\n        if  (!Settings.canDrawOverlays(this)) \r\n     {\r\n        /* if not construct intent to request permission */\r\n            Intent intent = new Intent(Settings.ACTION_MANAGE_OVERLAY_PERMISSION,\r\n                    Uri.parse(&quot;package:&quot; + getPackageName()));\r\n        /* request permission via start activity for result */\r\n            startActivityForResult(intent, REQUEST_CODE);\r\n        }\r\n        else {\r\n            createOnTopView();\r\n     }}}}\r\nI used that to get permission↑↑↑ \r\n\r\n    @Override\r\n\r\n    protected void onActivityResult(int requestCode, int resultCode,  Intent data) {\r\n    /* check if received result code\r\n     is equal our requested code for draw permission  */\r\n    if (requestCode == REQUEST_CODE &amp;&amp; android.os.Build.VERSION.SDK_INT &gt; 22) {\r\n     /* if so check once again if we have permission */\r\n        if (Settings.canDrawOverlays(this)) {\r\n            createOnTopView();\r\n        }\r\n    }\r\n     }\r\nafter I run this on my phone Teckno k7 ,android 6.0\r\nIt runs well buh can&#39;t run on my friend&#39;s phone Techno F2.it crashes on his phone.\r\nPlease help me.\r\n\r\n\r\n","title":"Make System alert window run nicely","body":"<p>I am new to android dev and little knowledge of java.I want to know how to inflate a layout from service using <code>SYSTEM_ALERT_WINDOW</code></p>\n<pre><code>public void checkDrawOverlayPermission() {\n /* check if we already  have \n  permission to draw over \n  other apps */\n  \n if(android.os.Build.VERSION.SDK_INT &gt; 23) {\n    if  (!Settings.canDrawOverlays(this)) \n {\n    /* if not construct intent to request permission */\n        Intent intent = new Intent(Settings.ACTION_MANAGE_OVERLAY_PERMISSION,\n                Uri.parse(&quot;package:&quot; + getPackageName()));\n    /* request permission via start activity for result */\n        startActivityForResult(intent, REQUEST_CODE);\n    }\n    else {\n        createOnTopView();\n }}}}\n</code></pre>\n<p>I used that to get permission↑↑↑</p>\n<pre><code>@Override\n\nprotected void onActivityResult(int requestCode, int resultCode,  Intent data) {\n/* check if received result code\n is equal our requested code for draw permission  */\nif (requestCode == REQUEST_CODE &amp;&amp; android.os.Build.VERSION.SDK_INT &gt; 22) {\n /* if so check once again if we have permission */\n    if (Settings.canDrawOverlays(this)) {\n        createOnTopView();\n    }\n}\n }\n</code></pre>\n<p>after I run this on my phone Teckno k7 ,android 6.0\nIt runs well buh can't run on my friend's phone Techno F2.it crashes on his phone.\nPlease help me.</p>\n"},{"tags":["java","gradle","intellij-idea","saxon"],"answers":[{"tags":[],"owner":{"account_id":808,"reputation":896,"user_id":1055,"display_name":"Norm"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648732111,"creation_date":1648732111,"answer_id":71693070,"question_id":71690361,"body_markdown":"At a guess, `fileTree(include: [&#39;*.jar&#39;], dir: &#39;./libs/SaxonEE10-6J&#39;)` isn&#39;t doing what you think it is. What I usually do at this point trying to debug Gradle files is create a &quot;helloWorld&quot; task that prints the classpath:\r\n```\r\n// Testing task for various Gradle debugging efforts\r\ntask helloWorld() {\r\n  doLast {\r\n    /*\r\n    configurations.jsbuild.resolve().each { path -&gt;\r\n      println(path)\r\n    }\r\n     */\r\n    println(&quot;Hello, world.&quot;)\r\n  }\r\n}\r\n```\r\n(Where you have to uncomment the lines and replace `jsbuild` with a local configuration that you derive from `implementation`. I don&#39;t think you can access the `implementation` classpath directly for reasons I doubt I fully understand.)\r\n\r\nHowever, I can make this all much easier for you. Add this to your `repositories` closure:\r\n```\r\n  maven { url &quot;https://dev.saxonica.com/maven&quot; }\r\n```\r\nAnd then you can just load EE with Maven:\r\n```\r\n    implementation &#39;com.saxonica:Saxon-EE:10.6&#39;\r\n```\r\n","title":"Saxon s9 api not getting exposed using local jars in gradle","body":"<p>At a guess, <code>fileTree(include: ['*.jar'], dir: './libs/SaxonEE10-6J')</code> isn't doing what you think it is. What I usually do at this point trying to debug Gradle files is create a &quot;helloWorld&quot; task that prints the classpath:</p>\n<pre><code>// Testing task for various Gradle debugging efforts\ntask helloWorld() {\n  doLast {\n    /*\n    configurations.jsbuild.resolve().each { path -&gt;\n      println(path)\n    }\n     */\n    println(&quot;Hello, world.&quot;)\n  }\n}\n</code></pre>\n<p>(Where you have to uncomment the lines and replace <code>jsbuild</code> with a local configuration that you derive from <code>implementation</code>. I don't think you can access the <code>implementation</code> classpath directly for reasons I doubt I fully understand.)</p>\n<p>However, I can make this all much easier for you. Add this to your <code>repositories</code> closure:</p>\n<pre><code>  maven { url &quot;https://dev.saxonica.com/maven&quot; }\n</code></pre>\n<p>And then you can just load EE with Maven:</p>\n<pre><code>    implementation 'com.saxonica:Saxon-EE:10.6'\n</code></pre>\n"}],"owner":{"account_id":12712329,"reputation":118,"user_id":15347137,"display_name":"Rishabhg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648732111,"creation_date":1648719973,"question_id":71690361,"body_markdown":"I want to include jar files locally in gradle, I have created a libs folder and added the jars there. the jars are added to the class path but I am not able to access the api. \r\n\r\nmy build.gradle :\r\n```\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;io.github.lhotari.gradle-nar-plugin&#39; version &#39;0.5.1&#39;\r\n}\r\n\r\ngroup &#39;com.acs.contentlake.nifi&#39;\r\nversion &#39;1.0&#39;\r\n\r\nrepositories {\r\n\r\n    mavenCentral()\r\n    gradlePluginPortal()\r\n    maven {\r\n        url(&quot;https://mvnrepository.com/artifact/apache-xerces/resolver&quot;)\r\n    }\r\n    flatDir {\r\n        dirs &#39;libs&#39;\r\n    }\r\n}\r\n\r\ncompileJava{\r\n    sourceCompatibility(&#39;8&#39;)\r\n    targetCompatibility(&#39;8&#39;)\r\n}\r\n\r\ndependencies {\r\n    testImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.7.0&#39;\r\n    testRuntimeOnly &#39;org.junit.jupiter:junit-jupiter-engine:5.7.0&#39;\r\n    implementation group: &#39;org.apache.nifi&#39;, name: &#39;nifi-api&#39;, version: &#39;1.15.0&#39;\r\n    implementation group: &#39;org.apache.nifi&#39;, name: &#39;nifi-utils&#39;, version: &#39;1.15.0&#39;\r\n//    implementation group: &#39;net.sf.saxon&#39;, name: &#39;Saxon-HE&#39;, version: &#39;10.6&#39;\r\n    implementation group: &#39;xerces&#39;, name: &#39;xercesImpl&#39;, version: &#39;2.9.1&#39;\r\n    implementation group: &#39;apache-xerces&#39;, name: &#39;resolver&#39;, version: &#39;2.9.1&#39;\r\n    implementation &#39;org.codehaus.groovy:groovy-all:3.0.8&#39;\r\n//    implementation files(&#39;libs/saxon-ee-10.6.jar&#39;, &#39;icu4j-59.1.jar&#39;, &#39;jline-2.14.6.jar&#39;, &#39;saxon-ee-test-10.6.jar&#39;, &#39;saxon-sql-10.6.jar&#39;)\r\n//    implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n//    implementation name: &#39;saxon-ee-10.6&#39;\r\n    implementation fileTree(include: [&#39;*.jar&#39;], dir: &#39;./libs/SaxonEE10-6J&#39;)\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    testImplementation &#39;org.apache.nifi:nifi-mock:1.15.0&#39;\r\n\r\n}\r\n\r\ntest {\r\n    useJUnitPlatform()\r\n}\r\n```\r\n\r\nI want to use Saxon-EE jars which are not available on any web repo. \r\n\r\nI am unable to import \r\n```\r\nimport net.sf.saxon.s9api.*;\r\n```\r\nIf I use Saxon-HE then it is working fine, but I want to use the licensed edition which is not available on any web repo","title":"Saxon s9 api not getting exposed using local jars in gradle","body":"<p>I want to include jar files locally in gradle, I have created a libs folder and added the jars there. the jars are added to the class path but I am not able to access the api.</p>\n<p>my build.gradle :</p>\n<pre><code>plugins {\n    id 'java'\n    id 'io.github.lhotari.gradle-nar-plugin' version '0.5.1'\n}\n\ngroup 'com.acs.contentlake.nifi'\nversion '1.0'\n\nrepositories {\n\n    mavenCentral()\n    gradlePluginPortal()\n    maven {\n        url(&quot;https://mvnrepository.com/artifact/apache-xerces/resolver&quot;)\n    }\n    flatDir {\n        dirs 'libs'\n    }\n}\n\ncompileJava{\n    sourceCompatibility('8')\n    targetCompatibility('8')\n}\n\ndependencies {\n    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.7.0'\n    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.7.0'\n    implementation group: 'org.apache.nifi', name: 'nifi-api', version: '1.15.0'\n    implementation group: 'org.apache.nifi', name: 'nifi-utils', version: '1.15.0'\n//    implementation group: 'net.sf.saxon', name: 'Saxon-HE', version: '10.6'\n    implementation group: 'xerces', name: 'xercesImpl', version: '2.9.1'\n    implementation group: 'apache-xerces', name: 'resolver', version: '2.9.1'\n    implementation 'org.codehaus.groovy:groovy-all:3.0.8'\n//    implementation files('libs/saxon-ee-10.6.jar', 'icu4j-59.1.jar', 'jline-2.14.6.jar', 'saxon-ee-test-10.6.jar', 'saxon-sql-10.6.jar')\n//    implementation fileTree(dir: 'libs', include: ['*.jar'])\n//    implementation name: 'saxon-ee-10.6'\n    implementation fileTree(include: ['*.jar'], dir: './libs/SaxonEE10-6J')\n    testImplementation 'junit:junit:4.13.2'\n    testImplementation 'org.apache.nifi:nifi-mock:1.15.0'\n\n}\n\ntest {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>I want to use Saxon-EE jars which are not available on any web repo.</p>\n<p>I am unable to import</p>\n<pre><code>import net.sf.saxon.s9api.*;\n</code></pre>\n<p>If I use Saxon-HE then it is working fine, but I want to use the licensed edition which is not available on any web repo</p>\n"},{"tags":["java","algorithm","depth-first-search","shortest-path"],"comments":[{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1648730651,"post_id":71691636,"comment_id":126702295,"body_markdown":"Do you expect to obtain `graph[i][j]==Math.abs(i-i0)+Math.abs(j-j0)+1` for (i,j) != (i0,j0)?","body":"Do you expect to obtain <code>graph[i][j]==Math.abs(i-i0)+Math.abs(j-j0)+1</code> for (i,j) != (i0,j0)?"},{"owner":{"account_id":3389058,"reputation":47,"user_id":2844366,"display_name":"Bogdan"},"score":0,"creation_date":1648730947,"post_id":71691636,"comment_id":126702438,"body_markdown":"Yes if you mean that i0 and j0 are starting points. Or to be more precise i think without +1 at the end.","body":"Yes if you mean that i0 and j0 are starting points. Or to be more precise i think without +1 at the end."},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1648731589,"post_id":71691636,"comment_id":126702739,"body_markdown":"by initially calling `dfs(g, i0, j0, 0)` you would get rid of the `+1`. As for the efficiency, it sounds rather bad because you will return to the same locations multiple times.","body":"by initially calling <code>dfs(g, i0, j0, 0)</code> you would get rid of the <code>+1</code>. As for the efficiency, it sounds rather bad because you will return to the same locations multiple times."},{"owner":{"account_id":3389058,"reputation":47,"user_id":2844366,"display_name":"Bogdan"},"score":0,"creation_date":1648731817,"post_id":71691636,"comment_id":126702831,"body_markdown":"i&#39;m not sure but i think if i set g[i0][j0] to zero first and then call dfs(g, i0, j0, 1) it will set 1 to neighbours so i don&#39;t think there is +1 but i might be wrong:D. And yes the complexity sounds bad but i really would just like to know how bad is it.","body":"i&#39;m not sure but i think if i set g[i0][j0] to zero first and then call dfs(g, i0, j0, 1) it will set 1 to neighbours so i don&#39;t think there is +1 but i might be wrong:D. And yes the complexity sounds bad but i really would just like to know how bad is it."},{"owner":{"account_id":7178634,"reputation":55168,"user_id":5483526,"display_name":"Matt Timmermans"},"score":0,"creation_date":1648732523,"post_id":71691636,"comment_id":126703170,"body_markdown":"There are no walls or anything in this grid.  The shortest distance to any (x,y) is just |x-i0| + |j-y0|.  I don&#39;t think this is really what you want to ask.  The worst case for this algorithm is not going to be the same as the worst case with walls.","body":"There are no walls or anything in this grid.  The shortest distance to any (x,y) is just |x-i0| + |j-y0|.  I don&#39;t think this is really what you want to ask.  The worst case for this algorithm is not going to be the same as the worst case with walls."},{"owner":{"account_id":3389058,"reputation":47,"user_id":2844366,"display_name":"Bogdan"},"score":0,"creation_date":1648732927,"post_id":71691636,"comment_id":126703370,"body_markdown":"Matt even without any obstacles or walls this algortihm is still bad. For example when i just run a counter on how many times dfs was executed for the grid 25*25 and starting point g[2][2] i get 37158 calls and there are only 625 nodes.","body":"Matt even without any obstacles or walls this algortihm is still bad. For example when i just run a counter on how many times dfs was executed for the grid 25*25 and starting point g[2][2] i get 37158 calls and there are only 625 nodes."},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1648733413,"post_id":71691636,"comment_id":126703571,"body_markdown":"&gt;  call dfs(g, i0, j0, 1) it will set 1 to neighbours\nYour right about that","body":"&gt;  call dfs(g, i0, j0, 1) it will set 1 to neighbours Your right about that"},{"owner":{"account_id":3389058,"reputation":47,"user_id":2844366,"display_name":"Bogdan"},"score":0,"creation_date":1648733417,"post_id":71691636,"comment_id":126703573,"body_markdown":"And by the way Matt i really like your deleted comment. At least I know what is the complexity of this algorithm in different type of graphs. And maybe in this silly hypothetical situation is the same?","body":"And by the way Matt i really like your deleted comment. At least I know what is the complexity of this algorithm in different type of graphs. And maybe in this silly hypothetical situation is the same?"},{"owner":{"account_id":7178634,"reputation":55168,"user_id":5483526,"display_name":"Matt Timmermans"},"score":1,"creation_date":1648733549,"post_id":71691636,"comment_id":126703632,"body_markdown":"Heh, yeah, I answered the question I *wanted* you to be asking :).  In this case, though the time for an NxN grid will be O(N^3) at worst, since each cell can be reduced at most O(N) times.  That applies to the case with walls, too, so I guess it comes out the same.","body":"Heh, yeah, I answered the question I <i>wanted</i> you to be asking :).  In this case, though the time for an NxN grid will be O(N^3) at worst, since each cell can be reduced at most O(N) times.  That applies to the case with walls, too, so I guess it comes out the same."},{"owner":{"account_id":3389058,"reputation":47,"user_id":2844366,"display_name":"Bogdan"},"score":1,"creation_date":1648734807,"post_id":71691636,"comment_id":126704157,"body_markdown":"It sounds logical but unfortunately i don&#39;t understand why cell can be reduced at most O(N) times.","body":"It sounds logical but unfortunately i don&#39;t understand why cell can be reduced at most O(N) times."},{"owner":{"account_id":3389058,"reputation":47,"user_id":2844366,"display_name":"Bogdan"},"score":0,"creation_date":1648735082,"post_id":71691636,"comment_id":126704288,"body_markdown":"Ok so the path cannot get bigger than N * N so maybe it cannot be reduced more than N * N times?","body":"Ok so the path cannot get bigger than N * N so maybe it cannot be reduced more than N * N times?"},{"owner":{"account_id":3389058,"reputation":47,"user_id":2844366,"display_name":"Bogdan"},"score":0,"creation_date":1648736321,"post_id":71691636,"comment_id":126704824,"body_markdown":"So maybe if the cell cannot be reduced more than N * N then the final complexity would be O(V * V) where V is the number of vertices and V = N * N in this grid like graph ? This is because each cell cannot be visited more than V times and there are V cells?","body":"So maybe if the cell cannot be reduced more than N * N then the final complexity would be O(V * V) where V is the number of vertices and V = N * N in this grid like graph ? This is because each cell cannot be visited more than V times and there are V cells?"},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":1,"creation_date":1648797396,"post_id":71691636,"comment_id":126719943,"body_markdown":"I have run this algorithm on an 8x8 grid, I&#39;m getting 930 calls","body":"I have run this algorithm on an 8x8 grid, I&#39;m getting 930 calls"},{"owner":{"account_id":3389058,"reputation":47,"user_id":2844366,"display_name":"Bogdan"},"score":0,"creation_date":1648819309,"post_id":71691636,"comment_id":126727615,"body_markdown":"Nice Maurice!. So that means that N^3 is to small complexity because 8^3 is 512. But V^2 is 64 * 64=4096 which is in the bounds.I think Matt wanted to say that complexity is N^4 because he hinted that cell cannot be reduced more than N times and he probably wanted to say N * N (number of nodes).When the algorithm start to go deeper he cannot go deeper than the number of nodes without  going back so the value of cell cannot get bigger than the number of nodes so the cell cannot be reduced more than the number of nodes because the value of the cell can be in between [0; number of nodes]","body":"Nice Maurice!. So that means that N^3 is to small complexity because 8^3 is 512. But V^2 is 64 * 64=4096 which is in the bounds.I think Matt wanted to say that complexity is N^4 because he hinted that cell cannot be reduced more than N times and he probably wanted to say N * N (number of nodes).When the algorithm start to go deeper he cannot go deeper than the number of nodes without  going back so the value of cell cannot get bigger than the number of nodes so the cell cannot be reduced more than the number of nodes because the value of the cell can be in between [0; number of nodes]"},{"owner":{"account_id":3389058,"reputation":47,"user_id":2844366,"display_name":"Bogdan"},"score":0,"creation_date":1648819380,"post_id":71691636,"comment_id":126727638,"body_markdown":"Not counting Integer.MAX_VALUE at the begining","body":"Not counting Integer.MAX_VALUE at the begining"},{"owner":{"account_id":3389058,"reputation":47,"user_id":2844366,"display_name":"Bogdan"},"score":0,"creation_date":1648820801,"post_id":71691636,"comment_id":126728239,"body_markdown":"But to be honest 930 calls is still closer to N^3 than N^4 so i dont know. Maybe the constant factor is around 2 and the complexity is N^3","body":"But to be honest 930 calls is still closer to N^3 than N^4 so i dont know. Maybe the constant factor is around 2 and the complexity is N^3"},{"owner":{"account_id":3389058,"reputation":47,"user_id":2844366,"display_name":"Bogdan"},"score":0,"creation_date":1648821680,"post_id":71691636,"comment_id":126728581,"body_markdown":"But for 40X40 grid i get 624 890 calls and 40^3 = 64 000 and 40^4 = 2 560 000","body":"But for 40X40 grid i get 624 890 calls and 40^3 = 64 000 and 40^4 = 2 560 000"}],"owner":{"account_id":3389058,"reputation":47,"user_id":2844366,"display_name":"Bogdan"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":327,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648732042,"creation_date":1648725912,"question_id":71691636,"body_markdown":"I know DFS is not good choice to find shortest path from a source and BFS or dynamic programming solutions are better but i&#39;m just interested in hypothetical situation of speed of particular algorithm.Let&#39;s say i have an undirected graph that looks just like 2-D array and i can move up, down left right on it and I choose cell in that array a[i][j] and start performing recursive algorithm like this below..\r\n\r\n    public static void dfs(int graph[][], int i, int j, int distance){\r\n        //up right down left directions\r\n        int dirs[][] = new int[][]{{-1, 0},{0, 1},{1, 0},{0, -1}};\r\n        for(int dir[] : dirs){\r\n             int new_i = i + dir[0];\r\n             int new_j = j + dir[1];\r\n             //out of bounds check\r\n             if(new_i &lt; 0 || new_i &gt;= graph.length || new_j &lt; 0 || new_j &gt;= graph[0].length)\r\n                   continue;\r\n             //if distance is less then previously found then change it and go deeper\r\n             if(distance &lt; graph[new_i][new_j]){\r\n                 graph[new_i][new_j] = distance;\r\n                 dfs(graph, new_i, new_j, distance + 1);\r\n             }\r\n        }\r\n    }\r\n\r\nSo let&#39;s say that graph array elements are filled with Integer.MAX_VALUE. And i choose particular g[i][j] set it to zero and perform dfs(g, i, j, 1). Since it&#39;s not normal dfs algorithm because it  has potential to visit the same node multiple times and changes the distance to shorter one so i don&#39;t know the worst time complexity. Intuition tells me that it is slow but I have no idea what would be the worst complexity of this?\r\n\r\n \r\n\r\n ","title":"DFS like algorithm to find single source shortest path","body":"<p>I know DFS is not good choice to find shortest path from a source and BFS or dynamic programming solutions are better but i'm just interested in hypothetical situation of speed of particular algorithm.Let's say i have an undirected graph that looks just like 2-D array and i can move up, down left right on it and I choose cell in that array a[i][j] and start performing recursive algorithm like this below..</p>\n<pre><code>public static void dfs(int graph[][], int i, int j, int distance){\n    //up right down left directions\n    int dirs[][] = new int[][]{{-1, 0},{0, 1},{1, 0},{0, -1}};\n    for(int dir[] : dirs){\n         int new_i = i + dir[0];\n         int new_j = j + dir[1];\n         //out of bounds check\n         if(new_i &lt; 0 || new_i &gt;= graph.length || new_j &lt; 0 || new_j &gt;= graph[0].length)\n               continue;\n         //if distance is less then previously found then change it and go deeper\n         if(distance &lt; graph[new_i][new_j]){\n             graph[new_i][new_j] = distance;\n             dfs(graph, new_i, new_j, distance + 1);\n         }\n    }\n}\n</code></pre>\n<p>So let's say that graph array elements are filled with Integer.MAX_VALUE. And i choose particular g[i][j] set it to zero and perform dfs(g, i, j, 1). Since it's not normal dfs algorithm because it  has potential to visit the same node multiple times and changes the distance to shorter one so i don't know the worst time complexity. Intuition tells me that it is slow but I have no idea what would be the worst complexity of this?</p>\n"},{"tags":["java","eclipse","swing","jframe"],"comments":[{"owner":{"account_id":3427640,"reputation":1477,"user_id":2872987,"accept_rate":91,"display_name":"BitNinja"},"score":0,"creation_date":1398132241,"post_id":23209125,"comment_id":35503198,"body_markdown":"Have you ever modified the permissions for that directory?","body":"Have you ever modified the permissions for that directory?"},{"owner":{"account_id":3756937,"reputation":249,"user_id":3123094,"accept_rate":100,"display_name":"UNEVERIS"},"score":0,"creation_date":1398132364,"post_id":23209125,"comment_id":35503236,"body_markdown":"I have not modified any permissions intentionally","body":"I have not modified any permissions intentionally"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1398132602,"post_id":23209125,"comment_id":35503299,"body_markdown":"Have you checked [this](http://stackoverflow.com/questions/860187/access-restriction-on-class-due-to-restriction-on-required-library-rt-jar) and [this](http://stackoverflow.com/questions/9266632/access-restriction-is-not-accessible-due-to-restriction-on-required-library) and [this](http://stackoverflow.com/questions/10428984/access-restriction-on-jdk1-7-jre-lib-rt-jar)?","body":"Have you checked <a href=\"http://stackoverflow.com/questions/860187/access-restriction-on-class-due-to-restriction-on-required-library-rt-jar\">this</a> and <a href=\"http://stackoverflow.com/questions/9266632/access-restriction-is-not-accessible-due-to-restriction-on-required-library\">this</a> and <a href=\"http://stackoverflow.com/questions/10428984/access-restriction-on-jdk1-7-jre-lib-rt-jar\">this</a>?"},{"owner":{"account_id":3756937,"reputation":249,"user_id":3123094,"accept_rate":100,"display_name":"UNEVERIS"},"score":0,"creation_date":1398132603,"post_id":23209125,"comment_id":35503300,"body_markdown":"I would have, but don&#39;t have capability to.. I&#39;ll use that as a last resort.  But if there are any other ways to fix the problem...   Not to MadProgrammer","body":"I would have, but don&#39;t have capability to.. I&#39;ll use that as a last resort.  But if there are any other ways to fix the problem...   Not to MadProgrammer"},{"owner":{"account_id":3756937,"reputation":249,"user_id":3123094,"accept_rate":100,"display_name":"UNEVERIS"},"score":1,"creation_date":1398132736,"post_id":23209125,"comment_id":35503340,"body_markdown":"Thanks madProgrammer. this solved it","body":"Thanks madProgrammer. this solved it"}],"answers":[{"tags":[],"owner":{"account_id":4451245,"reputation":218,"user_id":3623053,"display_name":"user3623053"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1399717303,"creation_date":1399717303,"answer_id":23579844,"question_id":23209125,"body_markdown":"When you make a new java project at JRE choose &quot;Use an execution environment JRE and from there select JavaSE-1.7 or 1.8 and just should solve the problem. I had the same problem like you before.","title":"Unable to import javax.swing.JFrame","body":"<p>When you make a new java project at JRE choose \"Use an execution environment JRE and from there select JavaSE-1.7 or 1.8 and just should solve the problem. I had the same problem like you before.</p>\n"},{"tags":[],"owner":{"account_id":4491959,"reputation":307,"user_id":3652846,"display_name":"baderkhane"},"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1406605254,"creation_date":1406602489,"answer_id":25007559,"question_id":23209125,"body_markdown":"1. Right-click on the project  \r\n2. Select properties\r\n3. Java build path\r\n4. Library &gt; Add Library &gt; Add JRE SYSTEM Library\r\n5. Execution Environment\r\n6. Select JavaSE-1.7\r\n8. Finish","title":"Unable to import javax.swing.JFrame","body":"<ol>\n<li>Right-click on the project  </li>\n<li>Select properties</li>\n<li>Java build path</li>\n<li>Library > Add Library > Add JRE SYSTEM Library</li>\n<li>Execution Environment</li>\n<li>Select JavaSE-1.7</li>\n<li>Finish</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":17413134,"reputation":627,"user_id":12620001,"display_name":"Abdalla Roda"},"down_vote_count":0,"up_vote_count":41,"is_accepted":false,"score":41,"last_activity_date":1593521103,"creation_date":1593521103,"answer_id":62657755,"question_id":23209125,"body_markdown":"Just add `requires java.desktop;` to your module-info.java file.\r\n\r\n\r\n**module-info.java:**\r\n\r\n    module your_project_name{\r\n        requires java.desktop;\r\n    }\r\n\r\n","title":"Unable to import javax.swing.JFrame","body":"<p>Just add <code>requires java.desktop;</code> to your module-info.java file.</p>\n<p><strong>module-info.java:</strong></p>\n<pre><code>module your_project_name{\n    requires java.desktop;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16422774,"reputation":344,"user_id":11863582,"display_name":"Zia Khan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1648732028,"creation_date":1648732028,"answer_id":71693043,"question_id":23209125,"body_markdown":"Inside Module body add **requires java.desktop;**\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HGw6J.png","title":"Unable to import javax.swing.JFrame","body":"<p>Inside Module body add <strong>requires java.desktop;</strong>\n<a href=\"https://i.stack.imgur.com/HGw6J.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HGw6J.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":3756937,"reputation":249,"user_id":3123094,"accept_rate":100,"display_name":"UNEVERIS"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":112314,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":23579844,"answer_count":4,"score":18,"last_activity_date":1648732028,"creation_date":1398132141,"question_id":23209125,"body_markdown":"I&#39;ve been looking all over the internet and Can&#39;t find an answer.\r\n\r\nI&#39;m using Eclipse and need to import JFrame from javax.swing. But hovering over the the declaration (which in Eclipse should give you an option to import it) the import option does not show up.  Instead I manually typed out the import path, but get an error.\r\n\r\nGoing even further, I used the package explorer to attempt to fine it... couldn&#39;t.  I have the latest version of Eclipse, and the Latest JRE and JDK.  But still is not working.\r\n\r\nCode:\r\n\r\n    package com.BickDev.Game;\r\n\r\n    import java.awt.Canvas;\r\n    import java.awt.Dimension;\r\n\r\n    import javax.swing.JFrame;\r\n\r\n    public class Game extends Canvas implements Runnable {\r\n        private static final long serialVersionUID = 1L;\r\n        \r\n        public static final int WIDTH = 320;\r\n        public static final int HEIGHT = WIDTH / 12 * 9;\r\n        public static final int SCALE = 2;\r\n        public final String TITLE = &quot;Troy&#39;s Game Test&quot;;\r\n        private boolean running = false;\r\n    \r\n\r\n        public void run() {\r\n\r\n        }\r\n\r\n        public static void main(String args[]) {\r\n            \r\n            Game game = new Game();\r\n            Dimension size = new Dimension(WIDTH * SCALE, HEIGHT * SCALE);\r\n            game.setPreferredSize(size);\r\n            game.setMaximumSize(size);\r\n            game.setMinimumSize(size);\r\n    \r\n            JFrame frame = new JFrame(game.TITLE);\r\n        }\r\n    }\r\n\r\n\r\nthe import javax.swing.JFrame now gives the error \r\n\r\n    Access restriction: The type JFrame is not accessible due to restriction on required library C:\\ProgramFiles\\Java\\jre8\\lib\\rt.jar\r\n\r\nNo idea what this means...\r\n\r\nPlease help....\r\n\r\n\r\n*UPDATE found the JFrame class.. but cannot access it.","title":"Unable to import javax.swing.JFrame","body":"<p>I've been looking all over the internet and Can't find an answer.</p>\n\n<p>I'm using Eclipse and need to import JFrame from javax.swing. But hovering over the the declaration (which in Eclipse should give you an option to import it) the import option does not show up.  Instead I manually typed out the import path, but get an error.</p>\n\n<p>Going even further, I used the package explorer to attempt to fine it... couldn't.  I have the latest version of Eclipse, and the Latest JRE and JDK.  But still is not working.</p>\n\n<p>Code:</p>\n\n<pre><code>package com.BickDev.Game;\n\nimport java.awt.Canvas;\nimport java.awt.Dimension;\n\nimport javax.swing.JFrame;\n\npublic class Game extends Canvas implements Runnable {\n    private static final long serialVersionUID = 1L;\n\n    public static final int WIDTH = 320;\n    public static final int HEIGHT = WIDTH / 12 * 9;\n    public static final int SCALE = 2;\n    public final String TITLE = \"Troy's Game Test\";\n    private boolean running = false;\n\n\n    public void run() {\n\n    }\n\n    public static void main(String args[]) {\n\n        Game game = new Game();\n        Dimension size = new Dimension(WIDTH * SCALE, HEIGHT * SCALE);\n        game.setPreferredSize(size);\n        game.setMaximumSize(size);\n        game.setMinimumSize(size);\n\n        JFrame frame = new JFrame(game.TITLE);\n    }\n}\n</code></pre>\n\n<p>the import javax.swing.JFrame now gives the error </p>\n\n<pre><code>Access restriction: The type JFrame is not accessible due to restriction on required library C:\\ProgramFiles\\Java\\jre8\\lib\\rt.jar\n</code></pre>\n\n<p>No idea what this means...</p>\n\n<p>Please help....</p>\n\n<p>*UPDATE found the JFrame class.. but cannot access it.</p>\n"},{"tags":["java","spring","spring-boot","spring-profiles"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1561969660,"post_id":54519428,"comment_id":100216502,"body_markdown":"That is explained [here](https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html#boot-features-external-config-application-property-files) in the Spring Boot Reference Guide. In short add `--spring.config.name=application,file1,file2` this will instruct Spirng Boot to (optionally) detect `file1.properties` and `file1-{profile}.properties next to the default ones.","body":"That is explained <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html#boot-features-external-config-application-property-files\" rel=\"nofollow noreferrer\">here</a> in the Spring Boot Reference Guide. In short add <code>--spring.config.name=application,file1,file2</code> this will instruct Spirng Boot to (optionally) detect <code>file1.properties</code> and `file1-{profile}.properties next to the default ones."},{"owner":{"account_id":7244757,"reputation":850,"user_id":5527079,"display_name":"Nick Wills"},"score":0,"creation_date":1645167835,"post_id":54519428,"comment_id":125803917,"body_markdown":"I add spring.config.import in a application.properties to point to file1.yaml.   However, when i activate dev profile, it does not look for file1-dev.yaml.   This shows that auto appending profile to custom yaml name won&#39;t work.   Am I right?","body":"I add spring.config.import in a application.properties to point to file1.yaml.   However, when i activate dev profile, it does not look for file1-dev.yaml.   This shows that auto appending profile to custom yaml name won&#39;t work.   Am I right?"}],"answers":[{"tags":[],"owner":{"account_id":13529587,"reputation":83,"user_id":9760480,"display_name":"MikeBFromPDX"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1549296270,"creation_date":1549296270,"answer_id":54519943,"question_id":54519428,"body_markdown":"Yes.  Absolutely.  You just need to provide the profile you&#39;d like when starting.  \r\neg:\r\n\r\n    -Dspring.profiles.active=prod \r\n\r\nwill use application-prod.properties\r\n\r\n    -Dspring.profiles.active=customer\r\n\r\nwill use application-custom.properties","title":"Profile specific custom property files in Spring boot","body":"<p>Yes.  Absolutely.  You just need to provide the profile you'd like when starting.<br>\neg:</p>\n\n<pre><code>-Dspring.profiles.active=prod \n</code></pre>\n\n<p>will use application-prod.properties</p>\n\n<pre><code>-Dspring.profiles.active=customer\n</code></pre>\n\n<p>will use application-custom.properties</p>\n"},{"tags":[],"owner":{"account_id":15144976,"reputation":345,"user_id":10928968,"display_name":"shasr"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1549297863,"creation_date":1549296565,"answer_id":54520014,"question_id":54519428,"body_markdown":"In addition to application.properties files,\r\n\r\nprofile-specific properties can be defined with following convention: application-{profile}.properties. \r\n\r\nThe Environment has a set of default profiles (by default, [default]) that are used if no active profiles are set(In other words, if no profiles are explicitly activated, then properties from application-default.properties are loaded)\r\n\r\n*To run multiple profiles:*\r\n\r\n1.application-prod.properties\r\n\r\n2.application-dev.properties\r\n\r\n    mvn spring-boot:run -Dspring-boot.run.profiles=dev,prod\r\n\r\n3.application.properties (Default profile)\r\n\r\n    mvn spring-boot:run\r\n\r\n4.Command Line Args with custom property files\r\n\r\n**spring.config.name** - Set configuration files names(comma separated values)\r\n**spring.config.location** - Set the locations where Spring Boot will find your externalized configuration files.\r\n\r\n    java -jar hello-world.jar --spring.config.name=application,conf --spring.config.location=classpath:/external/properties/,classpath:/com/learn/../../\r\n\r\n\r\n[https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-profiles.html][1]\r\n\r\n[https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html#boot-features-external-config-profile-specific-properties][2]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-profiles.html\r\n  [2]: https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html#boot-features-external-config-profile-specific-properties","title":"Profile specific custom property files in Spring boot","body":"<p>In addition to application.properties files,</p>\n\n<p>profile-specific properties can be defined with following convention: application-{profile}.properties. </p>\n\n<p>The Environment has a set of default profiles (by default, [default]) that are used if no active profiles are set(In other words, if no profiles are explicitly activated, then properties from application-default.properties are loaded)</p>\n\n<p><em>To run multiple profiles:</em></p>\n\n<p>1.application-prod.properties</p>\n\n<p>2.application-dev.properties</p>\n\n<pre><code>mvn spring-boot:run -Dspring-boot.run.profiles=dev,prod\n</code></pre>\n\n<p>3.application.properties (Default profile)</p>\n\n<pre><code>mvn spring-boot:run\n</code></pre>\n\n<p>4.Command Line Args with custom property files</p>\n\n<p><strong>spring.config.name</strong> - Set configuration files names(comma separated values)\n<strong>spring.config.location</strong> - Set the locations where Spring Boot will find your externalized configuration files.</p>\n\n<pre><code>java -jar hello-world.jar --spring.config.name=application,conf --spring.config.location=classpath:/external/properties/,classpath:/com/learn/../../\n</code></pre>\n\n<p><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-profiles.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-profiles.html</a></p>\n\n<p><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html#boot-features-external-config-profile-specific-properties\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html#boot-features-external-config-profile-specific-properties</a></p>\n"},{"tags":[],"owner":{"account_id":11913998,"reputation":20337,"user_id":8718377,"display_name":"veben"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1549296697,"creation_date":1549296697,"answer_id":54520048,"question_id":54519428,"body_markdown":"Additionaly to the `application.properties` file, you can define as `application-{profile}.properties` as you want.\r\nThe chosen file is determinated at launch, following the profile you have selected. ","title":"Profile specific custom property files in Spring boot","body":"<p>Additionaly to the <code>application.properties</code> file, you can define as <code>application-{profile}.properties</code> as you want.\nThe chosen file is determinated at launch, following the profile you have selected. </p>\n"},{"tags":[],"owner":{"account_id":7242780,"reputation":306,"user_id":5525820,"accept_rate":0,"display_name":"whysoseriousson"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1549297054,"creation_date":1549297054,"answer_id":54520160,"question_id":54519428,"body_markdown":"The default convention used by spring is application-&lt;profile name&gt;.properties. So if profile is dev then it looks for application-dev.properties\r\n\r\nYou al can also use bootstrap.properties file and can specify spring.application.name=my-custom\r\n\r\nIn that case spring will look for my-custom.properties file and of course u can use it with profile dev,uat so the property file name should be my-custom-dev.properties.\r\n\r\nAlso u can pass configuration files as command line arguments as well -Dspring.config.location=path of the file.","title":"Profile specific custom property files in Spring boot","body":"<p>The default convention used by spring is application-.properties. So if profile is dev then it looks for application-dev.properties</p>\n\n<p>You al can also use bootstrap.properties file and can specify spring.application.name=my-custom</p>\n\n<p>In that case spring will look for my-custom.properties file and of course u can use it with profile dev,uat so the property file name should be my-custom-dev.properties.</p>\n\n<p>Also u can pass configuration files as command line arguments as well -Dspring.config.location=path of the file.</p>\n"},{"tags":[],"owner":{"account_id":16234581,"reputation":104,"user_id":11722323,"display_name":"Irosh Kuruppu"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1561963236,"creation_date":1561963236,"answer_id":56831009,"question_id":54519428,"body_markdown":"You can use it with active profile\r\n\r\n    @Configuration\r\n    @PropertySource(&quot;classpath:my-custom-${spring.profiles.active}.properties&quot;)","title":"Profile specific custom property files in Spring boot","body":"<p>You can use it with active profile</p>\n\n<pre><code>@Configuration\n@PropertySource(\"classpath:my-custom-${spring.profiles.active}.properties\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":122703,"reputation":407,"user_id":316685,"accept_rate":33,"display_name":"HFSDev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648732009,"creation_date":1648732009,"answer_id":71693037,"question_id":54519428,"body_markdown":"Yes, Spring Boot helps you with that.\r\n\r\nLet Spring manage different property files for you by using spring.config.import property as in:\r\n\r\n    #application.properties   \r\n    spring.config.import=./my-custom.properties\r\n\r\nAssuming my-custom.properties file is in same directory as application.properties. This way Spring will also be able to manage different profiles for your custom properties files, that is, if you have &#39;dev&#39; profile active, my-custom-dev.properties will be loaded for you.\r\n\r\nSee the [docs](https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config.files.importing).","title":"Profile specific custom property files in Spring boot","body":"<p>Yes, Spring Boot helps you with that.</p>\n<p>Let Spring manage different property files for you by using spring.config.import property as in:</p>\n<pre><code>#application.properties   \nspring.config.import=./my-custom.properties\n</code></pre>\n<p>Assuming my-custom.properties file is in same directory as application.properties. This way Spring will also be able to manage different profiles for your custom properties files, that is, if you have 'dev' profile active, my-custom-dev.properties will be loaded for you.</p>\n<p>See the <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config.files.importing\" rel=\"nofollow noreferrer\">docs</a>.</p>\n"}],"owner":{"account_id":4634666,"reputation":2759,"user_id":3756232,"accept_rate":40,"display_name":"Guru"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8573,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":6,"score":10,"last_activity_date":1648732009,"creation_date":1549294423,"question_id":54519428,"body_markdown":"Wanted to check if Spring boot offers help to use configuration file apart from `application.properties` file. Ex: **my-custom.properties** file that can be profile specific, \r\nex: \r\n\r\n 1. `my-custom-dev.properties` for **dev** profile \r\n 2. `my-custom-uat.properties`\r\n    for **uat** profile\r\n\r\nEdit: The question is that, I have the normal application-{env}.property file, apart from that, there are other property files in accord to their data content (ex: DB specific properties for logging, that I want to store in `db-log.properties,  How would I make the other files profile sensitive? ","title":"Profile specific custom property files in Spring boot","body":"<p>Wanted to check if Spring boot offers help to use configuration file apart from <code>application.properties</code> file. Ex: <strong>my-custom.properties</strong> file that can be profile specific,\nex:</p>\n<ol>\n<li><code>my-custom-dev.properties</code> for <strong>dev</strong> profile</li>\n<li><code>my-custom-uat.properties</code>\nfor <strong>uat</strong> profile</li>\n</ol>\n<p>Edit: The question is that, I have the normal application-{env}.property file, apart from that, there are other property files in accord to their data content (ex: DB specific properties for logging, that I want to store in `db-log.properties,  How would I make the other files profile sensitive?</p>\n"},{"tags":["java","android","python-3.x","bluetooth","pyjnius"],"answers":[{"tags":[],"owner":{"account_id":14088993,"reputation":1722,"user_id":10177977,"display_name":"Hmerman6006"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1574075022,"creation_date":1574075022,"answer_id":58913110,"question_id":58477961,"body_markdown":"So I am posting  my answers as I have solved them all.&lt;br&gt;\r\nTo connect to bluetooth I built on the [GitHub example][1] by following the suggestions on the [android developers site][2].  I had to set my own socket explicitly before creating the ```getOutputStream``` and ```getInputStream``` java objects otherwise the ports of the connection and objects will not be the same.  You only need to call the ```GetBSerial()``` to connect&lt;br&gt;\r\n```\r\n    def get_socket_stream(self, name):\r\n        defaultCharBufferSize = 8192\r\n        try:\r\n            blueAdapt = BluetoothAdapter.getDefaultAdapter()\r\n            if self.rfsocket is not None:\r\n                if self.rfsocket.connected:\r\n                    reader = InputStreamReader(self.rfsocket.getInputStream(), getEncode)\r\n                    recv_stream = BufferedReader(reader)\r\n                    send_stream = self.rfsocket.getOutputStream()\r\n                else:\r\n                    self.rfsocket = self.device.createRfcommSocketToServiceRecord(UUID.fromString(getUuid))\r\n                    if self.get_port_connect():\r\n                        reader = InputStreamReader(self.rfsocket.getInputStream(), getEncode)\r\n                        recv_stream = BufferedReader(reader, defaultCharBufferSize)\r\n                        send_stream = self.rfsocket.getOutputStream()\r\n            else:\r\n                if blueAdapt is not None:\r\n                    if blueAdapt.isEnabled():\r\n                        paired_devices = blueAdapt.getBondedDevices().toArray()\r\n                        self.rfsocket = None\r\n                        for self.device in paired_devices:\r\n                            if self.device.getName() == name:\r\n                                if self.device.bluetoothEnabled:\r\n                                    self.rfsocket = self.device.createRfcommSocketToServiceRecord(\r\n                                        UUID.fromString(getUuid))\r\n                                    if self.rfsocket is not None:\r\n                                        if self.get_port_connect(): #connect and set the port before creating java objects\r\n                                            reader = InputStreamReader(self.rfsocket.getInputStream(), getEncode)\r\n                                            recv_stream = BufferedReader(reader, defaultCharBufferSize)\r\n                                            send_stream = self.rfsocket.getOutputStream()\r\n                                            break\r\n                    else:\r\n                        self.ids.bluet_info.text = &#39;[b]Bluetooth not enabled[/b]&#39;\r\n            if recv_stream is not None and send_stream is not None:\r\n                return recv_stream, send_stream\r\n            else:\r\n                return False, False\r\n        except UnboundLocalError as e:\r\n            return False, False\r\n        except TypeError as e:\r\n            return False, False\r\n    def get_port_connect(self):\r\n        try:\r\n            if self.rfsocket.port &lt;= 0:\r\n                self.rfsocket = self.device.createRfcommSocket(1) #set the port explicitly\r\n                if not self.rfsocket.connected:\r\n                    self.rfsocket.connect()\r\n            else:\r\n                if not self.rfsocket.connected:\r\n                    self.rfsocket.connect()\r\n            if self.rfsocket.connected:\r\n                self.ids.bluet_info.text = &#39;[b]Connected[/b]&#39;\r\n            return True\r\n        except jnius.jnius.JavaException as e:\r\n            self.ids.bluet_info.text = &#39;[b]Cannot connect to socket[/b]&#39;\r\n    def GetBSerial(self):\r\n        try:\r\n            getDevname = self.the.config.get(&#39;bluetoothsettings&#39;, &#39;stringbluetdevname&#39;)\r\n            self.recv_stream, self.send_stream = self.get_socket_stream(getDevname)\r\n        except jnius.jnius.JavaException as e:\r\n            self.ids.bluet_info.text = &#39;[b]Not Connected[/b]&#39;\r\n```\r\nI used the ```readLine()``` method, but to use the ```read()``` method, there are two ways to  build a string.  Either externally (I only tried this one) or in an Array.&lt;br&gt;\r\nImport:\r\n```\r\nCharBuilder = autoclass(&#39;java.lang.Character&#39;)\r\n```\r\nExternally:\r\n```\r\nif self.recv_stream.ready() != None:\r\n    r = self.recv_stream.read()\r\n    theChar = CharBuilder.toChars(r) #gives a tuple of which the first element is a character\r\n    self.read += theChar[0]\r\n```\r\nYou have to play around with building your string to know where the string must start.&lt;br&gt;&lt;br&gt;\r\nThe first thing about the ```write()``` method is it takes a bytes object.  So you build a ```bytearray()``` and use it as an argument.  Example using ESC/POS printer initialise command and a string:\r\n```\r\ni = [27,64] #ASCII escape integer and at sign integer\r\npre = bytearray(i)\r\ncmd = &#39;Hello You\\n&#39;.encode(&#39;UTF-8&#39;)\r\n#extend bytearray\r\npre.extend(cmd)\r\nself.send_stream.write(pre)\r\nself.send_stream.flush()\r\n```\r\nCould not figure out how to create a bytearray integer and string in one go, yet.\r\n\r\n\r\n  [1]: https://gist.github.com/cuibonobo/10439718\r\n  [2]: https://developer.android.com/guide/topics/connectivity/bluetooth","title":"How to use the pyjnius read and write arguments for Bluetooth getInputStream and getOutputStream?","body":"<p>So I am posting  my answers as I have solved them all.<br>\nTo connect to bluetooth I built on the <a href=\"https://gist.github.com/cuibonobo/10439718\" rel=\"nofollow noreferrer\">GitHub example</a> by following the suggestions on the <a href=\"https://developer.android.com/guide/topics/connectivity/bluetooth\" rel=\"nofollow noreferrer\">android developers site</a>.  I had to set my own socket explicitly before creating the <code>getOutputStream</code> and <code>getInputStream</code> java objects otherwise the ports of the connection and objects will not be the same.  You only need to call the <code>GetBSerial()</code> to connect<br></p>\n\n<pre><code>    def get_socket_stream(self, name):\n        defaultCharBufferSize = 8192\n        try:\n            blueAdapt = BluetoothAdapter.getDefaultAdapter()\n            if self.rfsocket is not None:\n                if self.rfsocket.connected:\n                    reader = InputStreamReader(self.rfsocket.getInputStream(), getEncode)\n                    recv_stream = BufferedReader(reader)\n                    send_stream = self.rfsocket.getOutputStream()\n                else:\n                    self.rfsocket = self.device.createRfcommSocketToServiceRecord(UUID.fromString(getUuid))\n                    if self.get_port_connect():\n                        reader = InputStreamReader(self.rfsocket.getInputStream(), getEncode)\n                        recv_stream = BufferedReader(reader, defaultCharBufferSize)\n                        send_stream = self.rfsocket.getOutputStream()\n            else:\n                if blueAdapt is not None:\n                    if blueAdapt.isEnabled():\n                        paired_devices = blueAdapt.getBondedDevices().toArray()\n                        self.rfsocket = None\n                        for self.device in paired_devices:\n                            if self.device.getName() == name:\n                                if self.device.bluetoothEnabled:\n                                    self.rfsocket = self.device.createRfcommSocketToServiceRecord(\n                                        UUID.fromString(getUuid))\n                                    if self.rfsocket is not None:\n                                        if self.get_port_connect(): #connect and set the port before creating java objects\n                                            reader = InputStreamReader(self.rfsocket.getInputStream(), getEncode)\n                                            recv_stream = BufferedReader(reader, defaultCharBufferSize)\n                                            send_stream = self.rfsocket.getOutputStream()\n                                            break\n                    else:\n                        self.ids.bluet_info.text = '[b]Bluetooth not enabled[/b]'\n            if recv_stream is not None and send_stream is not None:\n                return recv_stream, send_stream\n            else:\n                return False, False\n        except UnboundLocalError as e:\n            return False, False\n        except TypeError as e:\n            return False, False\n    def get_port_connect(self):\n        try:\n            if self.rfsocket.port &lt;= 0:\n                self.rfsocket = self.device.createRfcommSocket(1) #set the port explicitly\n                if not self.rfsocket.connected:\n                    self.rfsocket.connect()\n            else:\n                if not self.rfsocket.connected:\n                    self.rfsocket.connect()\n            if self.rfsocket.connected:\n                self.ids.bluet_info.text = '[b]Connected[/b]'\n            return True\n        except jnius.jnius.JavaException as e:\n            self.ids.bluet_info.text = '[b]Cannot connect to socket[/b]'\n    def GetBSerial(self):\n        try:\n            getDevname = self.the.config.get('bluetoothsettings', 'stringbluetdevname')\n            self.recv_stream, self.send_stream = self.get_socket_stream(getDevname)\n        except jnius.jnius.JavaException as e:\n            self.ids.bluet_info.text = '[b]Not Connected[/b]'\n</code></pre>\n\n<p>I used the <code>readLine()</code> method, but to use the <code>read()</code> method, there are two ways to  build a string.  Either externally (I only tried this one) or in an Array.<br>\nImport:</p>\n\n<pre><code>CharBuilder = autoclass('java.lang.Character')\n</code></pre>\n\n<p>Externally:</p>\n\n<pre><code>if self.recv_stream.ready() != None:\n    r = self.recv_stream.read()\n    theChar = CharBuilder.toChars(r) #gives a tuple of which the first element is a character\n    self.read += theChar[0]\n</code></pre>\n\n<p>You have to play around with building your string to know where the string must start.<br><br>\nThe first thing about the <code>write()</code> method is it takes a bytes object.  So you build a <code>bytearray()</code> and use it as an argument.  Example using ESC/POS printer initialise command and a string:</p>\n\n<pre><code>i = [27,64] #ASCII escape integer and at sign integer\npre = bytearray(i)\ncmd = 'Hello You\\n'.encode('UTF-8')\n#extend bytearray\npre.extend(cmd)\nself.send_stream.write(pre)\nself.send_stream.flush()\n</code></pre>\n\n<p>Could not figure out how to create a bytearray integer and string in one go, yet.</p>\n"}],"owner":{"account_id":14088993,"reputation":1722,"user_id":10177977,"display_name":"Hmerman6006"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2197,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":58913110,"answer_count":1,"score":2,"last_activity_date":1648731834,"creation_date":1571612189,"question_id":58477961,"body_markdown":"I have been fumbling with getting data from a bluetooth RS232 converter using the python for android jnius library.  I had thought that it would be as simple as the PySerial library, but as I am still new to java the implementation is quite different.  &lt;br&gt;I created the bluetooth connection quite easily, but as soon as I try to read or write data I get a ```jnius.jnius.JavaException``` that ```No methods matching your arguments,``` and that the methods available for ```read``` are:  ``` &#39;()I&#39;, &#39;([B)I&#39;, &#39;([BII)I&#39;``` and for ```write``` are ```&#39;(I)V&#39;, &#39;([B)V&#39;, &#39;([BII)V&#39;```.  I tried finding this in the developer android docs as well as DuckDuckGoing it but with no clarity. &lt;br&gt; I also tried the ```BufferedReader``` example ([Here][1]) using the ```readLine()``` method, but I am constantly getting an error:  ```JavaException:  JVM exception occurred: Attempt to invoke virtual method &#39;int java.io.InputStream.read(byte[], int, int)&#39; on a null object reference```.\r\n\r\nCan someone please point me to the documentation to understand the above read and write arguments? &lt;br&gt;\r\nAlso, please help me to understand why the ```read, readLine() and write``` objects does not return any data?\r\n\r\nJava libraries I call:\r\n```\r\nBluetoothAdapter = autoclass(&#39;android.bluetooth.BluetoothAdapter&#39;)\r\nBluetoothDevice = autoclass(&#39;android.bluetooth.BluetoothDevice&#39;)\r\nBluetoothSocket = autoclass(&#39;android.bluetooth.BluetoothSocket&#39;)\r\nInputStreamReader = autoclass(&#39;java.io.InputStreamReader&#39;)\r\nBufferedReader = autoclass(&#39;java.io.BufferedReader&#39;)\r\nUUID = autoclass(&#39;java.util.UUID&#39;)\r\nSystem = autoclass(&#39;java.lang.System&#39;)\r\n```\r\n\r\nConnecting code (got this from Github and above link):\r\n```\r\n    def get_socket_stream(self, name):\r\n        paired_devices = BluetoothAdapter.getDefaultAdapter().getBondedDevices().toArray()\r\n        self.rfsocket == None\r\n        for device in paired_devices:\r\n            if device.getName() == name:\r\n                if device.bluetoothEnabled:\r\n                    if not device.connected:\r\n                        self.rfsocket = device.createInsecureRfcommSocketToServiceRecord(\r\n                            UUID.fromString(&quot;00001101-0000-1000-8000-00805f9b34fb&quot;))\r\n                        self.reader = InputStreamReader(self.rfsocket.getInputStream(), &#39;LATIN-1&#39;)\r\n                        recv_stream = BufferedReader(self.reader)\r\n                        send_stream = self.rfsocket.getOutputStream()\r\n                        break\r\n        print(self.rfsocket.getRemoteDevice().getName())\r\n        if self.rfsocket.port &lt;= 0:\r\n            self.rfsocket = device.createRfcommSocket(1)\r\n            if not self.rfsocket.connected:\r\n                print(&#39;port two: &#39;,self.rfsocket.port)\r\n                self.rfsocket.connect()\r\n```\r\nRead and write code (source: same as above link):\r\n```\r\n    def GetBSerial(self):\r\n        self.messager(&#39;Trying Serial&#39;)\r\n        self.recv_stream, self.send_stream = self.get_socket_stream(devicename)\r\n        if  not self.rfsocket.connected and self.recv_stream == None:\r\n            print(&quot;Get paired device failed&quot;)\r\n        else:\r\n            print(&#39;Initiating trigger&#39;)\r\n            self.weight_ticker()\r\n    def GetInput(self):\r\n        self.send_stream.write(&quot;Hallo\\r\\n&quot;)\r\n        self.send_stream.flush\r\n        if self.rfsocket.connected and self.recv_stream != None:\r\n            if self.weigh_tme &gt; 0:\r\n                while self.recv_stream.ready != None:\r\n                    try:\r\n                        self.scale_output = self.recv_stream.readLine()\r\n                    except jnius.jnius.JavaException as e:\r\n                        print(&quot;JavaException: &quot;, e, self.rfsocket.connected)\r\n                    except ValueError as e:\r\n                        print(&quot;Misc error: &quot;, e)\r\n\r\n                    try:\r\n                        self.show_input(self.scale_output)\r\n                    except ValueError:\r\n                        pass\r\n```\r\n&lt;h3&gt;Update:&lt;/h3&gt;\r\nSo I finally got the Input using the ```readLine()``` method to not return an error and also return the string.  I cleaned things up a bit, but the code does not differ much.  Main thing though is I checked whether the ```device != None``` and ```if rfsocket.connected:``` before creating getInputStream within my eventloop, so as not to re-create the socket object.  Have to test more to see where was the main problem.  Still do not no what the arguments are of the ```read``` and ```write``` method.  The ```readLine()``` method returns the string intermitantly or not at all and my eventloop seems to not work with the ```readLine()``` method.   \r\n&lt;h3&gt;Update on update:&lt;/h3&gt;\r\nThe event loop works again.  My bad, I did not call the trigger object correctly.  The ```readLine()``` method has a strange pattern in that on the first read it gives me ```JavaException:  JVM exception occurred: Attempt to invoke virtual method &#39;int java.io.InputStream.available()&#39; on a null object reference```, subsequent reads gives me pieces of the expected string or an empty string.  I had similar string bits and pieces returned when I received the data via a hardline using PySerial.  The solution was resetting the input buffer.  Is there something similar in the above java libraries?\r\n&lt;h1&gt;Finally cracked the exceptions:&lt;/h1&gt;\r\nYes, this is exciting!  After many hours I had noticed that I could not get the Input anymore only exceptions.  I tried the ```BufferedInputStream``` library and got the same result, there was no more intermittant read.  Why?  So I re-Apk&#39;d the ```main``` file of last night and boom intermittant Input read once again. &lt;br&gt; \r\nThe reason was if I create the java objects when the ```rfsocket``` Bluetooth object is not connected to the specified port, ```Null``` objects was initialised on a different port which for some reason was not seen by the ```if``` blocks ```self.recv_stream is not None``` and ```self.recv_stream != None```.  Probably because they are not ```Null``` objects but ```Null``` for the subsequent port 1 socket connection I specified.&lt;br&gt;\r\nThe ```readline()``` work as is in my example, the ```read()``` takes three arguments ```bytes(), int offset, int len(bytes()``` which is not clear from the ```jnius.jnius.exception``` hieroglyphics&#39; message.  Still figuring out the ```write``` method.  One thing that you can specify in the ```BufferedReader``` method is a 2nd argument for the chunk size you want to read or in java speak ```defaultCharBufferSize```.\r\n[1]: https://stackoverflow.com/questions/29719898/how-to-convert-android-bluetooth-socket-inputstream-to-python-string-in-kivy","title":"How to use the pyjnius read and write arguments for Bluetooth getInputStream and getOutputStream?","body":"<p>I have been fumbling with getting data from a bluetooth RS232 converter using the python for android jnius library.  I had thought that it would be as simple as the PySerial library, but as I am still new to java the implementation is quite different.  <br>I created the bluetooth connection quite easily, but as soon as I try to read or write data I get a <code>jnius.jnius.JavaException</code> that <code>No methods matching your arguments,</code> and that the methods available for <code>read</code> are:  <code>'()I', '([B)I', '([BII)I'</code> and for <code>write</code> are <code>'(I)V', '([B)V', '([BII)V'</code>.  I tried finding this in the developer android docs as well as DuckDuckGoing it but with no clarity. <br> I also tried the <code>BufferedReader</code> example (<a href=\"https://stackoverflow.com/questions/29719898/how-to-convert-android-bluetooth-socket-inputstream-to-python-string-in-kivy\">Here</a>) using the <code>readLine()</code> method, but I am constantly getting an error:  <code>JavaException:  JVM exception occurred: Attempt to invoke virtual method 'int java.io.InputStream.read(byte[], int, int)' on a null object reference</code>.</p>\n\n<p>Can someone please point me to the documentation to understand the above read and write arguments? <br>\nAlso, please help me to understand why the <code>read, readLine() and write</code> objects does not return any data?</p>\n\n<p>Java libraries I call:</p>\n\n<pre><code>BluetoothAdapter = autoclass('android.bluetooth.BluetoothAdapter')\nBluetoothDevice = autoclass('android.bluetooth.BluetoothDevice')\nBluetoothSocket = autoclass('android.bluetooth.BluetoothSocket')\nInputStreamReader = autoclass('java.io.InputStreamReader')\nBufferedReader = autoclass('java.io.BufferedReader')\nUUID = autoclass('java.util.UUID')\nSystem = autoclass('java.lang.System')\n</code></pre>\n\n<p>Connecting code (got this from Github and above link):</p>\n\n<pre><code>    def get_socket_stream(self, name):\n        paired_devices = BluetoothAdapter.getDefaultAdapter().getBondedDevices().toArray()\n        self.rfsocket == None\n        for device in paired_devices:\n            if device.getName() == name:\n                if device.bluetoothEnabled:\n                    if not device.connected:\n                        self.rfsocket = device.createInsecureRfcommSocketToServiceRecord(\n                            UUID.fromString(\"00001101-0000-1000-8000-00805f9b34fb\"))\n                        self.reader = InputStreamReader(self.rfsocket.getInputStream(), 'LATIN-1')\n                        recv_stream = BufferedReader(self.reader)\n                        send_stream = self.rfsocket.getOutputStream()\n                        break\n        print(self.rfsocket.getRemoteDevice().getName())\n        if self.rfsocket.port &lt;= 0:\n            self.rfsocket = device.createRfcommSocket(1)\n            if not self.rfsocket.connected:\n                print('port two: ',self.rfsocket.port)\n                self.rfsocket.connect()\n</code></pre>\n\n<p>Read and write code (source: same as above link):</p>\n\n<pre><code>    def GetBSerial(self):\n        self.messager('Trying Serial')\n        self.recv_stream, self.send_stream = self.get_socket_stream(devicename)\n        if  not self.rfsocket.connected and self.recv_stream == None:\n            print(\"Get paired device failed\")\n        else:\n            print('Initiating trigger')\n            self.weight_ticker()\n    def GetInput(self):\n        self.send_stream.write(\"Hallo\\r\\n\")\n        self.send_stream.flush\n        if self.rfsocket.connected and self.recv_stream != None:\n            if self.weigh_tme &gt; 0:\n                while self.recv_stream.ready != None:\n                    try:\n                        self.scale_output = self.recv_stream.readLine()\n                    except jnius.jnius.JavaException as e:\n                        print(\"JavaException: \", e, self.rfsocket.connected)\n                    except ValueError as e:\n                        print(\"Misc error: \", e)\n\n                    try:\n                        self.show_input(self.scale_output)\n                    except ValueError:\n                        pass\n</code></pre>\n\n<h3>Update:</h3>\n\n<p>So I finally got the Input using the <code>readLine()</code> method to not return an error and also return the string.  I cleaned things up a bit, but the code does not differ much.  Main thing though is I checked whether the <code>device != None</code> and <code>if rfsocket.connected:</code> before creating getInputStream within my eventloop, so as not to re-create the socket object.  Have to test more to see where was the main problem.  Still do not no what the arguments are of the <code>read</code> and <code>write</code> method.  The <code>readLine()</code> method returns the string intermitantly or not at all and my eventloop seems to not work with the <code>readLine()</code> method.   </p>\n\n<h3>Update on update:</h3>\n\n<p>The event loop works again.  My bad, I did not call the trigger object correctly.  The <code>readLine()</code> method has a strange pattern in that on the first read it gives me <code>JavaException:  JVM exception occurred: Attempt to invoke virtual method 'int java.io.InputStream.available()' on a null object reference</code>, subsequent reads gives me pieces of the expected string or an empty string.  I had similar string bits and pieces returned when I received the data via a hardline using PySerial.  The solution was resetting the input buffer.  Is there something similar in the above java libraries?</p>\n\n<h1>Finally cracked the exceptions:</h1>\n\n<p>Yes, this is exciting!  After many hours I had noticed that I could not get the Input anymore only exceptions.  I tried the <code>BufferedInputStream</code> library and got the same result, there was no more intermittant read.  Why?  So I re-Apk'd the <code>main</code> file of last night and boom intermittant Input read once again. <br> \nThe reason was if I create the java objects when the <code>rfsocket</code> Bluetooth object is not connected to the specified port, <code>Null</code> objects was initialised on a different port which for some reason was not seen by the <code>if</code> blocks <code>self.recv_stream is not None</code> and <code>self.recv_stream != None</code>.  Probably because they are not <code>Null</code> objects but <code>Null</code> for the subsequent port 1 socket connection I specified.<br>\nThe <code>readline()</code> work as is in my example, the <code>read()</code> takes three arguments <code>bytes(), int offset, int len(bytes()</code> which is not clear from the <code>jnius.jnius.exception</code> hieroglyphics' message.  Still figuring out the <code>write</code> method.  One thing that you can specify in the <code>BufferedReader</code> method is a 2nd argument for the chunk size you want to read or in java speak <code>defaultCharBufferSize</code>.</p>\n"},{"tags":["java","compiler-errors"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1648734565,"post_id":71692709,"comment_id":126704048,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648731250,"creation_date":1648731250,"answer_id":71692842,"question_id":71692709,"body_markdown":"You have issues: \r\n\r\n - Java variable names can&#39;t start with numbers.\r\n - ans_2d is declared as a list of lists; you have to load it into an array of arrays OR change the return type.\r\n\r\n&gt;     import java.util.ArrayList;\r\n&gt;     import java.util.List;\r\n&gt; \r\n&gt;     class Solution {\r\n&gt;         public List&lt;List&lt;Integer&gt;&gt; merge(int[][] intervals) {\r\n&gt;             ArrayList&lt;Integer&gt; list=new ArrayList&lt;&gt;();\r\n&gt;             ArrayList&lt;Integer&gt;tem=new ArrayList&lt;&gt;();\r\n&gt;             List&lt;List&lt;Integer&gt;&gt; ans_2d =new ArrayList&lt;&gt;();\r\n&gt;             int count=0;\r\n&gt;             for(int i=0;i&lt;intervals.length;i++){\r\n&gt;                 if(list.get(1)==0){\r\n&gt;                     list.add(intervals[i][0]);\r\n&gt;                     list.add(intervals[i][1]);\r\n&gt;                 }\r\n&gt;                 else if(list.get(1)&gt;=intervals[i][0]){\r\n&gt;                     //int temp=j++;\r\n&gt;                     tem.add(list.get(0));\r\n&gt;                     tem.add(intervals[i][1]);\r\n&gt;                     ans_2d.add(tem);\r\n&gt;                     tem.clear();\r\n&gt;                     list.clear();\r\n&gt;                     list.add(intervals[i][0]);\r\n&gt;                     list.add(intervals[i][1]);\r\n&gt;                 }\r\n&gt;                 else{\r\n&gt;                     list.clear();\r\n&gt;                     list.add(intervals[i][0]);\r\n&gt;                     list.add(intervals[i][1]);\r\n&gt;                     ans_2d.add(list);\r\n&gt;                 }\r\n&gt;             }\r\n&gt;             //Collections.sort(list);\r\n&gt;             return ans_2d;\r\n&gt;         }\r\n&gt;     }\r\n\r\nI didn&#39;t read your problem or check your code to see if it solves it.  The compiler is happy now.","title":"leetcode 56 : using java","body":"<p>You have issues:</p>\n<ul>\n<li>Java variable names can't start with numbers.</li>\n<li>ans_2d is declared as a list of lists; you have to load it into an array of arrays OR change the return type.</li>\n</ul>\n<blockquote>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\nclass Solution {\n    public List&lt;List&lt;Integer&gt;&gt; merge(int[][] intervals) {\n        ArrayList&lt;Integer&gt; list=new ArrayList&lt;&gt;();\n        ArrayList&lt;Integer&gt;tem=new ArrayList&lt;&gt;();\n        List&lt;List&lt;Integer&gt;&gt; ans_2d =new ArrayList&lt;&gt;();\n        int count=0;\n        for(int i=0;i&lt;intervals.length;i++){\n            if(list.get(1)==0){\n                list.add(intervals[i][0]);\n                list.add(intervals[i][1]);\n            }\n            else if(list.get(1)&gt;=intervals[i][0]){\n                //int temp=j++;\n                tem.add(list.get(0));\n                tem.add(intervals[i][1]);\n                ans_2d.add(tem);\n                tem.clear();\n                list.clear();\n                list.add(intervals[i][0]);\n                list.add(intervals[i][1]);\n            }\n            else{\n                list.clear();\n                list.add(intervals[i][0]);\n                list.add(intervals[i][1]);\n                ans_2d.add(list);\n            }\n        }\n        //Collections.sort(list);\n        return ans_2d;\n    }\n}\n</code></pre>\n</blockquote>\n<p>I didn't read your problem or check your code to see if it solves it.  The compiler is happy now.</p>\n"}],"owner":{"account_id":20885684,"reputation":1,"user_id":15342341,"display_name":"Abhi Ram"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1648731582,"creation_date":1648730691,"question_id":71692709,"body_markdown":"```\r\n    class Solution {\r\n    public int[][] merge(int[][] intervals) {\r\n        ArrayList&lt;Integer&gt;list=new ArrayList();\r\n        ArrayList&lt;Integer&gt;tem=new ArrayList();\r\n        List&lt;List&lt;Integer&gt;&gt;2d_ans=new ArrayList&lt;&gt;();\r\n        int count=0;\r\n        for(int i=0;i&lt;intervals.length;i++){\r\n            if(list.get(1)==0){\r\n                list.add(intervals[i][0]);\r\n                list.add(intervals[i][1]);\r\n            }\r\n            else if(list.get(1)&gt;=interval[i][0]){\r\n                //int temp=j++;\r\n                tem.add(list.get(0));\r\n                tem.add(interval[i][1]);\r\n                2d_ans.add(tem);\r\n                tem.clear();\r\n                list.clear();\r\n                list.add(intervals[i][0]);\r\n                list.add(intervals[i][1]);\r\n            }\r\n            else{\r\n                list.clear();\r\n                list.add(intervals[i][0]);\r\n                list.add(intervals[i][1]);\r\n                2d_ans.add(list);\r\n            }\r\n        }\r\n        //Collections.sort(list);\r\n        return 2d_ans;\r\n    }\r\n}\r\n```\r\nI am trying to solve leetcode 56th problem but i&#39;m getting an not a statement error at line 5 can someone help. Link to the problem is given below.\r\n\r\n\r\n  https://leetcode.com/problems/merge-intervals/","title":"leetcode 56 : using java","body":"<pre><code>    class Solution {\n    public int[][] merge(int[][] intervals) {\n        ArrayList&lt;Integer&gt;list=new ArrayList();\n        ArrayList&lt;Integer&gt;tem=new ArrayList();\n        List&lt;List&lt;Integer&gt;&gt;2d_ans=new ArrayList&lt;&gt;();\n        int count=0;\n        for(int i=0;i&lt;intervals.length;i++){\n            if(list.get(1)==0){\n                list.add(intervals[i][0]);\n                list.add(intervals[i][1]);\n            }\n            else if(list.get(1)&gt;=interval[i][0]){\n                //int temp=j++;\n                tem.add(list.get(0));\n                tem.add(interval[i][1]);\n                2d_ans.add(tem);\n                tem.clear();\n                list.clear();\n                list.add(intervals[i][0]);\n                list.add(intervals[i][1]);\n            }\n            else{\n                list.clear();\n                list.add(intervals[i][0]);\n                list.add(intervals[i][1]);\n                2d_ans.add(list);\n            }\n        }\n        //Collections.sort(list);\n        return 2d_ans;\n    }\n}\n</code></pre>\n<p>I am trying to solve leetcode 56th problem but i'm getting an not a statement error at line 5 can someone help. Link to the problem is given below.</p>\n<p><a href=\"https://leetcode.com/problems/merge-intervals/\" rel=\"nofollow noreferrer\">https://leetcode.com/problems/merge-intervals/</a></p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":6696437,"reputation":2557,"user_id":5164318,"display_name":"emandt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648731342,"creation_date":1648731342,"answer_id":71692869,"question_id":71692013,"body_markdown":"In your &quot;packReportData()&quot; method you&#39;re doing a &quot;do..while&quot; but you need to check if &quot;it.hasNext() == true&quot; BEFORE &quot;it.next()&quot; or it will crash as you saw.\r\n\r\nPlease convert &quot;*do...while*&quot; in a &quot;*while(it.hasNext()) {...}*&quot;","title":"An error occurred while executing doInBackground() Caused by: java.util.NoSuchElementException","body":"<p>In your &quot;packReportData()&quot; method you're doing a &quot;do..while&quot; but you need to check if &quot;it.hasNext() == true&quot; BEFORE &quot;it.next()&quot; or it will crash as you saw.</p>\n<p>Please convert &quot;<em>do...while</em>&quot; in a &quot;<em>while(it.hasNext()) {...}</em>&quot;</p>\n"}],"owner":{"account_id":24179559,"reputation":3,"user_id":18140433,"display_name":"den"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71692869,"answer_count":1,"score":0,"last_activity_date":1648731342,"creation_date":1648727663,"question_id":71692013,"body_markdown":"I&#39;m building an android app where in this section it pulls data from sql database as per the logged in userId(memberNo) which is passed through Bundle and shows it on a RecyclerView but i get this error:\r\n\r\n```\r\n2022-03-31 14:09:41.027 9620-9667/com.dennisky.kofee E/AndroidRuntime: FATAL EXCEPTION: AsyncTask #2\r\n    Process: com.dennisky.kofee, PID: 9620\r\n    java.lang.RuntimeException: An error occurred while executing doInBackground()\r\n        at android.os.AsyncTask$3.done(AsyncTask.java:353)\r\n        at java.util.concurrent.FutureTask.finishCompletion(FutureTask.java:383)\r\n        at java.util.concurrent.FutureTask.setException(FutureTask.java:252)\r\n        at java.util.concurrent.FutureTask.run(FutureTask.java:271)\r\n        at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:245)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1162)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:636)\r\n        at java.lang.Thread.run(Thread.java:764)\r\n     Caused by: java.util.NoSuchElementException\r\n        at java.util.LinkedHashMap$LinkedHashIterator.nextNode(LinkedHashMap.java:759)\r\n        at java.util.LinkedHashMap$LinkedKeyIterator.next(LinkedHashMap.java:780)\r\n        at com.dennisky.kofee.MedicalFeesReports$RepData.packReportData(MedicalFeesReports.java:76)\r\n        at com.dennisky.kofee.MedicalFeesReports$MedicalReportDownloader.reportData(MedicalFeesReports.java:153)\r\n        at com.dennisky.kofee.MedicalFeesReports$MedicalReportDownloader.doInBackground(MedicalFeesReports.java:126)\r\n        at com.dennisky.kofee.MedicalFeesReports$MedicalReportDownloader.doInBackground(MedicalFeesReports.java:98)\r\n        at android.os.AsyncTask$2.call(AsyncTask.java:333)\r\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n        at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:245)&#160;\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1162)&#160;\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:636)&#160;\r\n        at java.lang.Thread.run(Thread.java:764)&#160;\r\n```\r\n\r\nThe Code that is executed when the error occurs is:\r\n\r\n```\r\n\r\nimport android.app.ProgressDialog;\r\nimport android.content.Context;\r\nimport android.os.AsyncTask;\r\nimport android.os.Bundle;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.recyclerview.widget.DefaultItemAnimator;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.dennisky.kofee.MedicalFeesReport.Parser;\r\n\r\nimport org.json.JSONException;\r\nimport org.json.JSONObject;\r\n\r\nimport java.io.BufferedInputStream;\r\nimport java.io.BufferedOutputStream;\r\nimport java.io.BufferedReader;\r\nimport java.io.BufferedWriter;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.io.InputStreamReader;\r\nimport java.io.OutputStream;\r\nimport java.io.OutputStreamWriter;\r\nimport java.io.UnsupportedEncodingException;\r\nimport java.net.HttpURLConnection;\r\nimport java.net.URLEncoder;\r\nimport java.util.Iterator;\r\n\r\npublic class MedicalFeesReports extends AppCompatActivity {\r\n\r\n    RecyclerView recyclerView;\r\n    String ulrAddress = &quot;http://10.0.2.2/important/loan_statements&quot;;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_medical_fees_reports);\r\n\r\n        recyclerView = findViewById(R.id.recycler_view);\r\n\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n        recyclerView.setItemAnimator(new DefaultItemAnimator());\r\n\r\n        new MedicalReportDownloader(MedicalFeesReports.this, ulrAddress, recyclerView).execute();\r\n    }\r\n\r\n    public String reportNumber() {\r\n\r\n        String member = null;\r\n        Bundle extra = getIntent().getExtras();\r\n        if (extra != null) {\r\n            member = extra.getString(&quot;memberNo&quot;);\r\n        }\r\n        return member;\r\n    }\r\n\r\n    public class RepData {\r\n\r\n        public String packReportData() {\r\n\r\n            JSONObject jo = new JSONObject();\r\n            StringBuffer jsonData = new StringBuffer();\r\n            try {\r\n                jo.put(&quot;MEMBER_NO&quot;, reportNumber());\r\n                Boolean isFirstValue = true;\r\n                Iterator it = jo.keys();\r\n                do {\r\n\r\n                    String keys = it.next().toString();\r\n                    String values = jo.get(keys).toString();\r\n                    if (isFirstValue)\r\n                        isFirstValue = false;\r\n                    else\r\n                        jsonData.append(&quot;&amp;&quot;);\r\n\r\n                    jsonData.append(URLEncoder.encode(keys, &quot;UTF-8&quot;));\r\n                    jsonData.append(&quot;=&quot;);\r\n                    jsonData.append(URLEncoder.encode(values, &quot;UTF-8&quot;));\r\n                } while (it.hasNext());\r\n                return jsonData.toString();\r\n            } catch (JSONException e) {\r\n                e.printStackTrace();\r\n                return &quot;ERROR: DATA ERROR&quot;;\r\n            } catch (UnsupportedEncodingException e) {\r\n                e.printStackTrace();\r\n                return &quot;ERROR: ERROR ENCODING DATA&quot;;\r\n            }\r\n        }\r\n    }\r\n\r\n    public class MedicalReportDownloader extends AsyncTask&lt;Void, Void, String&gt; {\r\n\r\n        Context context;\r\n        String urlAddress;\r\n        RecyclerView recyclerView;\r\n\r\n        ProgressDialog dialog;\r\n\r\n        public MedicalReportDownloader(Context context, String urlAddress, RecyclerView recyclerView) {\r\n            this.context = context;\r\n            this.urlAddress = urlAddress;\r\n            this.recyclerView = recyclerView;\r\n        }\r\n\r\n        @Override\r\n        protected void onPreExecute() {\r\n\r\n            super.onPreExecute();\r\n            dialog = new ProgressDialog(context);\r\n            dialog.setTitle(&quot;Loading&quot;);\r\n            dialog.setMessage(&quot;fetching data, please wait...&quot;);\r\n            if (isFinishing() &amp;&amp; dialog != null)\r\n                dialog.show();\r\n        }\r\n\r\n        @Override\r\n        protected String doInBackground(Void... voids) {\r\n\r\n            return this.repData();\r\n        }\r\n\r\n        @Override\r\n        protected void onPostExecute(String s) {\r\n\r\n            super.onPostExecute(s);\r\n            dialog.dismiss();\r\n            if (s != null) {\r\n\r\n                Parser parser = new Parser(s, context, recyclerView);\r\n                parser.execute();\r\n            } else {\r\n                Toast.makeText(context, &quot;No loan data found&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n\r\n        private String repData() {\r\n\r\n            Object connection = Connector.connect(urlAddress);\r\n            if (connection.toString().startsWith(&quot;Error&quot;))\r\n                return connection.toString();\r\n            try {\r\n\r\n                HttpURLConnection con = (HttpURLConnection) connection;\r\n                OutputStream stream = new BufferedOutputStream(con.getOutputStream());\r\n                BufferedWriter writer = new BufferedWriter(new OutputStreamWriter(stream));\r\n                String kiloData = new RepData().packReportData();\r\n                if (kiloData.startsWith(&quot;ERROR&quot;))\r\n                    return &quot;ERROR: DATA ERROR&quot;;\r\n                writer.write(kiloData);\r\n                writer.flush();\r\n                writer.close();\r\n\r\n                InputStream inputStream = new BufferedInputStream(con.getInputStream());\r\n                BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(inputStream));\r\n                String line;\r\n                StringBuffer buffer = new StringBuffer();\r\n                if (bufferedReader != null) {\r\n                    while ((line = bufferedReader.readLine()) != null)\r\n                        buffer.append(line + &quot;\\n&quot;);\r\n                } else\r\n                    return null;\r\n                return buffer.toString();\r\n\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n            return &quot;ERROR: IO ERROR&quot;;\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\nthe mentioned parser class:\r\n\r\n```\r\n\r\nimport android.app.ProgressDialog;\r\nimport android.content.Context;\r\nimport android.os.AsyncTask;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport org.json.JSONArray;\r\nimport org.json.JSONException;\r\nimport org.json.JSONObject;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class Parser extends AsyncTask&lt;Void, Void, Integer&gt; {\r\n\r\n    String data;\r\n    Context context;\r\n    RecyclerView recyclerView;\r\n\r\n    ProgressDialog dialog;\r\n    ArrayList&lt;ReportData&gt; reportData = new ArrayList&lt;&gt;();\r\n    MyAdapterMedicalReport adapter;\r\n\r\n    public Parser(String data, Context context, RecyclerView recyclerView) {\r\n        this.data = data;\r\n        this.context = context;\r\n        this.recyclerView = recyclerView;\r\n    }\r\n\r\n    @Override\r\n    protected void onPreExecute() {\r\n\r\n        super.onPreExecute();\r\n        dialog = new ProgressDialog(context);\r\n        dialog.setTitle(&quot;Parsing data&quot;);\r\n        dialog.setMessage(&quot;Data parsing, please wait...&quot;);\r\n        dialog.show();\r\n    }\r\n\r\n    @Override\r\n    protected Integer doInBackground(Void... voids) {\r\n\r\n        return this.parse();\r\n    }\r\n\r\n    @Override\r\n    protected void onPostExecute(Integer integer) {\r\n\r\n        super.onPostExecute(integer);\r\n        if (dialog != null &amp;&amp; dialog.isShowing()){\r\n            dialog.dismiss();\r\n            dialog = null;\r\n        }\r\n        if (integer == 1){\r\n            adapter = new MyAdapterMedicalReport(context, reportData);\r\n            recyclerView.setAdapter(adapter);\r\n        }else\r\n            Toast.makeText(context, &quot;No Loan data found.&quot;, Toast.LENGTH_LONG).show();\r\n    }\r\n\r\n    private int parse(){\r\n\r\n        try {\r\n\r\n            JSONArray jsonArray = new JSONArray(data);\r\n            JSONObject jsonObject = null;\r\n            reportData.clear();\r\n            ReportData data = null;\r\n\r\n            for (int i = 0; i&lt;jsonArray.length(); i++){\r\n                jsonObject = jsonArray.getJSONObject(i);\r\n                String loan_type = jsonObject.getString(&quot;loan_type&quot;);\r\n                String amount = jsonObject.getString(&quot;amount&quot;);\r\n                String data_approved = jsonObject.getString(&quot;date_approved&quot;);\r\n                String loan_status = jsonObject.getString(&quot;loan_status&quot;);\r\n\r\n                data = new ReportData();\r\n                data.setLoanType(loan_type);\r\n                data.setAmount(amount);\r\n                data.setDateApproved(data_approved);\r\n                data.setLoanStatus(loan_status);\r\n\r\n                reportData.add(data);\r\n            }\r\n            return 1;\r\n\r\n        } catch (JSONException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return  0;\r\n    }\r\n}\r\n```\r\n\r\nHow can i get through this error?","title":"An error occurred while executing doInBackground() Caused by: java.util.NoSuchElementException","body":"<p>I'm building an android app where in this section it pulls data from sql database as per the logged in userId(memberNo) which is passed through Bundle and shows it on a RecyclerView but i get this error:</p>\n<pre><code>2022-03-31 14:09:41.027 9620-9667/com.dennisky.kofee E/AndroidRuntime: FATAL EXCEPTION: AsyncTask #2\n    Process: com.dennisky.kofee, PID: 9620\n    java.lang.RuntimeException: An error occurred while executing doInBackground()\n        at android.os.AsyncTask$3.done(AsyncTask.java:353)\n        at java.util.concurrent.FutureTask.finishCompletion(FutureTask.java:383)\n        at java.util.concurrent.FutureTask.setException(FutureTask.java:252)\n        at java.util.concurrent.FutureTask.run(FutureTask.java:271)\n        at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:245)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1162)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:636)\n        at java.lang.Thread.run(Thread.java:764)\n     Caused by: java.util.NoSuchElementException\n        at java.util.LinkedHashMap$LinkedHashIterator.nextNode(LinkedHashMap.java:759)\n        at java.util.LinkedHashMap$LinkedKeyIterator.next(LinkedHashMap.java:780)\n        at com.dennisky.kofee.MedicalFeesReports$RepData.packReportData(MedicalFeesReports.java:76)\n        at com.dennisky.kofee.MedicalFeesReports$MedicalReportDownloader.reportData(MedicalFeesReports.java:153)\n        at com.dennisky.kofee.MedicalFeesReports$MedicalReportDownloader.doInBackground(MedicalFeesReports.java:126)\n        at com.dennisky.kofee.MedicalFeesReports$MedicalReportDownloader.doInBackground(MedicalFeesReports.java:98)\n        at android.os.AsyncTask$2.call(AsyncTask.java:333)\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n        at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:245) \n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1162) \n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:636) \n        at java.lang.Thread.run(Thread.java:764) \n</code></pre>\n<p>The Code that is executed when the error occurs is:</p>\n<pre><code>\nimport android.app.ProgressDialog;\nimport android.content.Context;\nimport android.os.AsyncTask;\nimport android.os.Bundle;\nimport android.widget.Toast;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.recyclerview.widget.DefaultItemAnimator;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport com.dennisky.kofee.MedicalFeesReport.Parser;\n\nimport org.json.JSONException;\nimport org.json.JSONObject;\n\nimport java.io.BufferedInputStream;\nimport java.io.BufferedOutputStream;\nimport java.io.BufferedReader;\nimport java.io.BufferedWriter;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.io.OutputStream;\nimport java.io.OutputStreamWriter;\nimport java.io.UnsupportedEncodingException;\nimport java.net.HttpURLConnection;\nimport java.net.URLEncoder;\nimport java.util.Iterator;\n\npublic class MedicalFeesReports extends AppCompatActivity {\n\n    RecyclerView recyclerView;\n    String ulrAddress = &quot;http://10.0.2.2/important/loan_statements&quot;;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_medical_fees_reports);\n\n        recyclerView = findViewById(R.id.recycler_view);\n\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\n        recyclerView.setItemAnimator(new DefaultItemAnimator());\n\n        new MedicalReportDownloader(MedicalFeesReports.this, ulrAddress, recyclerView).execute();\n    }\n\n    public String reportNumber() {\n\n        String member = null;\n        Bundle extra = getIntent().getExtras();\n        if (extra != null) {\n            member = extra.getString(&quot;memberNo&quot;);\n        }\n        return member;\n    }\n\n    public class RepData {\n\n        public String packReportData() {\n\n            JSONObject jo = new JSONObject();\n            StringBuffer jsonData = new StringBuffer();\n            try {\n                jo.put(&quot;MEMBER_NO&quot;, reportNumber());\n                Boolean isFirstValue = true;\n                Iterator it = jo.keys();\n                do {\n\n                    String keys = it.next().toString();\n                    String values = jo.get(keys).toString();\n                    if (isFirstValue)\n                        isFirstValue = false;\n                    else\n                        jsonData.append(&quot;&amp;&quot;);\n\n                    jsonData.append(URLEncoder.encode(keys, &quot;UTF-8&quot;));\n                    jsonData.append(&quot;=&quot;);\n                    jsonData.append(URLEncoder.encode(values, &quot;UTF-8&quot;));\n                } while (it.hasNext());\n                return jsonData.toString();\n            } catch (JSONException e) {\n                e.printStackTrace();\n                return &quot;ERROR: DATA ERROR&quot;;\n            } catch (UnsupportedEncodingException e) {\n                e.printStackTrace();\n                return &quot;ERROR: ERROR ENCODING DATA&quot;;\n            }\n        }\n    }\n\n    public class MedicalReportDownloader extends AsyncTask&lt;Void, Void, String&gt; {\n\n        Context context;\n        String urlAddress;\n        RecyclerView recyclerView;\n\n        ProgressDialog dialog;\n\n        public MedicalReportDownloader(Context context, String urlAddress, RecyclerView recyclerView) {\n            this.context = context;\n            this.urlAddress = urlAddress;\n            this.recyclerView = recyclerView;\n        }\n\n        @Override\n        protected void onPreExecute() {\n\n            super.onPreExecute();\n            dialog = new ProgressDialog(context);\n            dialog.setTitle(&quot;Loading&quot;);\n            dialog.setMessage(&quot;fetching data, please wait...&quot;);\n            if (isFinishing() &amp;&amp; dialog != null)\n                dialog.show();\n        }\n\n        @Override\n        protected String doInBackground(Void... voids) {\n\n            return this.repData();\n        }\n\n        @Override\n        protected void onPostExecute(String s) {\n\n            super.onPostExecute(s);\n            dialog.dismiss();\n            if (s != null) {\n\n                Parser parser = new Parser(s, context, recyclerView);\n                parser.execute();\n            } else {\n                Toast.makeText(context, &quot;No loan data found&quot;, Toast.LENGTH_SHORT).show();\n            }\n        }\n\n        private String repData() {\n\n            Object connection = Connector.connect(urlAddress);\n            if (connection.toString().startsWith(&quot;Error&quot;))\n                return connection.toString();\n            try {\n\n                HttpURLConnection con = (HttpURLConnection) connection;\n                OutputStream stream = new BufferedOutputStream(con.getOutputStream());\n                BufferedWriter writer = new BufferedWriter(new OutputStreamWriter(stream));\n                String kiloData = new RepData().packReportData();\n                if (kiloData.startsWith(&quot;ERROR&quot;))\n                    return &quot;ERROR: DATA ERROR&quot;;\n                writer.write(kiloData);\n                writer.flush();\n                writer.close();\n\n                InputStream inputStream = new BufferedInputStream(con.getInputStream());\n                BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(inputStream));\n                String line;\n                StringBuffer buffer = new StringBuffer();\n                if (bufferedReader != null) {\n                    while ((line = bufferedReader.readLine()) != null)\n                        buffer.append(line + &quot;\\n&quot;);\n                } else\n                    return null;\n                return buffer.toString();\n\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n            return &quot;ERROR: IO ERROR&quot;;\n        }\n    }\n\n}\n</code></pre>\n<p>the mentioned parser class:</p>\n<pre><code>\nimport android.app.ProgressDialog;\nimport android.content.Context;\nimport android.os.AsyncTask;\nimport android.widget.Toast;\n\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport org.json.JSONArray;\nimport org.json.JSONException;\nimport org.json.JSONObject;\n\nimport java.util.ArrayList;\n\npublic class Parser extends AsyncTask&lt;Void, Void, Integer&gt; {\n\n    String data;\n    Context context;\n    RecyclerView recyclerView;\n\n    ProgressDialog dialog;\n    ArrayList&lt;ReportData&gt; reportData = new ArrayList&lt;&gt;();\n    MyAdapterMedicalReport adapter;\n\n    public Parser(String data, Context context, RecyclerView recyclerView) {\n        this.data = data;\n        this.context = context;\n        this.recyclerView = recyclerView;\n    }\n\n    @Override\n    protected void onPreExecute() {\n\n        super.onPreExecute();\n        dialog = new ProgressDialog(context);\n        dialog.setTitle(&quot;Parsing data&quot;);\n        dialog.setMessage(&quot;Data parsing, please wait...&quot;);\n        dialog.show();\n    }\n\n    @Override\n    protected Integer doInBackground(Void... voids) {\n\n        return this.parse();\n    }\n\n    @Override\n    protected void onPostExecute(Integer integer) {\n\n        super.onPostExecute(integer);\n        if (dialog != null &amp;&amp; dialog.isShowing()){\n            dialog.dismiss();\n            dialog = null;\n        }\n        if (integer == 1){\n            adapter = new MyAdapterMedicalReport(context, reportData);\n            recyclerView.setAdapter(adapter);\n        }else\n            Toast.makeText(context, &quot;No Loan data found.&quot;, Toast.LENGTH_LONG).show();\n    }\n\n    private int parse(){\n\n        try {\n\n            JSONArray jsonArray = new JSONArray(data);\n            JSONObject jsonObject = null;\n            reportData.clear();\n            ReportData data = null;\n\n            for (int i = 0; i&lt;jsonArray.length(); i++){\n                jsonObject = jsonArray.getJSONObject(i);\n                String loan_type = jsonObject.getString(&quot;loan_type&quot;);\n                String amount = jsonObject.getString(&quot;amount&quot;);\n                String data_approved = jsonObject.getString(&quot;date_approved&quot;);\n                String loan_status = jsonObject.getString(&quot;loan_status&quot;);\n\n                data = new ReportData();\n                data.setLoanType(loan_type);\n                data.setAmount(amount);\n                data.setDateApproved(data_approved);\n                data.setLoanStatus(loan_status);\n\n                reportData.add(data);\n            }\n            return 1;\n\n        } catch (JSONException e) {\n            e.printStackTrace();\n        }\n        return  0;\n    }\n}\n</code></pre>\n<p>How can i get through this error?</p>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1648736850,"post_id":71692867,"comment_id":126705065,"body_markdown":"What Java version does your built project declare? 11? Then the error makes perfect sense. If that&#39;s not the case, can you [edit] the question and add a [mcve]?","body":"What Java version does your built project declare? 11? Then the error makes perfect sense. If that&#39;s not the case, can you <a href=\"https://stackoverflow.com/posts/71692867/edit\">edit</a> the question and add a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>?"},{"owner":{"account_id":17213678,"reputation":45,"user_id":12462293,"display_name":"saifxhatem"},"score":0,"creation_date":1648744097,"post_id":71692867,"comment_id":126708185,"body_markdown":"I was under the impression that this part in gradle:\n`sourceCompatibility = JavaVersion.VERSION_1_8`\n`targetCompatibility = JavaVersion.VERSION_1_8`\n\nWas how I defined my project&#39;s version. I&#39;m not sure how to give a reproducible example since this is the exact error that happens. \n\nI also noticed some weird behaviour - when I publish the package, if the version was `1.0` then this error would occur, but if I set it to `0.1.0` then it works fine. Both the gradle file and the source code do not change, the only change is the version number.","body":"I was under the impression that this part in gradle: <code>sourceCompatibility = JavaVersion.VERSION_1_8</code> <code>targetCompatibility = JavaVersion.VERSION_1_8</code>  Was how I defined my project&#39;s version. I&#39;m not sure how to give a reproducible example since this is the exact error that happens.   I also noticed some weird behaviour - when I publish the package, if the version was <code>1.0</code> then this error would occur, but if I set it to <code>0.1.0</code> then it works fine. Both the gradle file and the source code do not change, the only change is the version number."},{"owner":{"account_id":3904164,"reputation":2111,"user_id":3276902,"accept_rate":83,"display_name":"timguy"},"score":0,"creation_date":1687517451,"post_id":71692867,"comment_id":134951406,"body_markdown":"Because you said you defined the compatibility in your parent project. Maybe you forgot to build with this settings.\nHad this issue as well but in my project there was an other place where the java version was externalized in an other configuration file.","body":"Because you said you defined the compatibility in your parent project. Maybe you forgot to build with this settings. Had this issue as well but in my project there was an other place where the java version was externalized in an other configuration file."}],"owner":{"account_id":17213678,"reputation":45,"user_id":12462293,"display_name":"saifxhatem"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2258,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648731339,"creation_date":1648731339,"question_id":71692867,"body_markdown":"I have a project that is classes I extend in many projects at work.\r\n\r\nI packaged the project and published it to a maven repo on gitlab. The issue is when I try to import it in another project, it is being read by Gradle as Java 11 while the project I&#39;m importing into is Java 8.\r\n\r\nThe issue is, I define this in the gradle.build of both projects:\r\n\r\n```\r\njava {\r\n    sourceCompatibility = JavaVersion.VERSION_1_8\r\n    targetCompatibility = JavaVersion.VERSION_1_8\r\n}\r\n```\r\n\r\nWhen I try to import it in another project:\r\n\r\n```\r\nExecution failed for task &#39;:compileJava&#39;.\r\n&gt; Could not resolve all files for configuration &#39;:compileClasspath&#39;.\r\n   &gt; Could not resolve com.saifxhatem:my-package:1.0.\r\n     Required by:\r\n         project :\r\n      &gt; No matching variant of com.saifxhatem:my-package:1.0 was found. The consumer was configured to find an API of a library compatible with Java 8, preferably in the form of class files, and its dependencies declared externally but:\r\n          - Variant &#39;apiElements&#39; capability com.saifxhatem:my-package:1.0 declares an API of a library, packaged as a jar, and its dependencies declared externally:\r\n              - Incompatible because this component declares a component compatible with Java 11 and the consumer needed a component compatible with Java 8\r\n          - Variant &#39;runtimeElements&#39; capability com.saifxhatem:my-package:1.0 declares a runtime of a library, packaged as a jar, and its dependencies declared externally:\r\n              - Incompatible because this component declares a component compatible with Java 11 and the consumer needed a component compatible with Java 8\r\n```","title":"Gradle package&#39;s Java version is being read as a different version","body":"<p>I have a project that is classes I extend in many projects at work.</p>\n<p>I packaged the project and published it to a maven repo on gitlab. The issue is when I try to import it in another project, it is being read by Gradle as Java 11 while the project I'm importing into is Java 8.</p>\n<p>The issue is, I define this in the gradle.build of both projects:</p>\n<pre><code>java {\n    sourceCompatibility = JavaVersion.VERSION_1_8\n    targetCompatibility = JavaVersion.VERSION_1_8\n}\n</code></pre>\n<p>When I try to import it in another project:</p>\n<pre><code>Execution failed for task ':compileJava'.\n&gt; Could not resolve all files for configuration ':compileClasspath'.\n   &gt; Could not resolve com.saifxhatem:my-package:1.0.\n     Required by:\n         project :\n      &gt; No matching variant of com.saifxhatem:my-package:1.0 was found. The consumer was configured to find an API of a library compatible with Java 8, preferably in the form of class files, and its dependencies declared externally but:\n          - Variant 'apiElements' capability com.saifxhatem:my-package:1.0 declares an API of a library, packaged as a jar, and its dependencies declared externally:\n              - Incompatible because this component declares a component compatible with Java 11 and the consumer needed a component compatible with Java 8\n          - Variant 'runtimeElements' capability com.saifxhatem:my-package:1.0 declares a runtime of a library, packaged as a jar, and its dependencies declared externally:\n              - Incompatible because this component declares a component compatible with Java 11 and the consumer needed a component compatible with Java 8\n</code></pre>\n"},{"tags":["java","hashmap"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":2,"creation_date":1648729186,"post_id":71692168,"comment_id":126701687,"body_markdown":"Unrelated: conceptually, the Student class should NOT know about such maps/lists. Consider to rather have some sort of Registry class that keeps track of Student objects. And that registry could simply keep multiple lists, there really isnt much gain from using a Map for that purpose. To the contrary, as representing gender as String (and using it as Map key) can create all sorts of problems. As &quot;man&quot; isnt equal to &quot;Man&quot; or &quot;maN&quot; ...","body":"Unrelated: conceptually, the Student class should NOT know about such maps/lists. Consider to rather have some sort of Registry class that keeps track of Student objects. And that registry could simply keep multiple lists, there really isnt much gain from using a Map for that purpose. To the contrary, as representing gender as String (and using it as Map key) can create all sorts of problems. As &quot;man&quot; isnt equal to &quot;Man&quot; or &quot;maN&quot; ..."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648731185,"creation_date":1648731185,"answer_id":71692830,"question_id":71692168,"body_markdown":"&gt; `static ArrayList&lt;String&gt; nameandNumber = new ArrayList&lt;&gt;();`\r\n\r\n`new` is useful: Count the amount of times your code ever invokes `new ArrayList`. It&#39;s a fairly easy answer: Once. For your entire program.\r\n\r\nIf you only call `new` once, that means __there is only one list__. In the whole system.\r\n\r\nNo wonder then: This:\r\n\r\n```\r\nnameandNumber.add(this.number);\r\n```\r\n\r\nis called 10 times (because 10 students) for a single &#39;run&#39; of your app. Thus, that one list you have must therefore have all these numbers added together - that&#39;s why you see all the data.\r\n\r\nYour code is, unfortunately, layers of bad design decisions.\r\n\r\nYou can &#39;fix&#39; the problem (but it&#39;ll still be fragile code that is hard to read), or you can &#39;fix&#39; the design (which is more work).\r\n\r\n## Fix the problem\r\n\r\nInstead of 1 list shared by all students which obviously can&#39;t work, you want to call `new ArrayList` for each student. Get rid of that `static` single arraylist, and instead make one every time:\r\n\r\n```\r\nStudent(String number, String name, String gender) {\r\n    this.name = name;\r\n    this.gender = gender;\r\n    this.number = number;\r\n\r\n    var nameandNumber = new ArrayList&lt;String&gt;();\r\n    nameandNumber.add(this.name);\r\n    nameandNumber.add(this.number);\r\n\r\n    hm.put(this.gender, nameandNumber);\r\n}\r\n```\r\n\r\nNow you call `new ArrayList` the right number of times throughout one run of your program, for example.\r\n\r\nBut you&#39;re still in trouble here - because you decided to use a `List` to represent a single idea (a student), you have confused yourself: A given gender maps to __multiple__ students. Given that a single student is represented by a `List&lt;String&gt;`, multiple students would be a `List&lt;List&lt;String&gt;&gt;` and, oof, this is getting real complex, real fast.\r\n\r\nWe could plug away at fixing this further but let&#39;s take a step back and fix your design instead!\r\n\r\n\r\n## Fix the design\r\n\r\nMore generally, java&#39;s typing system is highly nominal: Types have names, and the more descriptive the name, the better.\r\n\r\n`Student` is a __far__ better, clearer name than `List&lt;String&gt;`. How is a reader of your code supposed to know that those `List&lt;String&gt;` objects specifically are intended to contain precisely 2 strings, the first of which is the student&#39;s name, the second of which is their student ID number? It doesn&#39;t say that anywhere. If you mess it up you get no compiler errors of any kind.\r\n\r\nYou __have__ a type, right there, that properly describes that concept: __`Student`__!\r\n\r\nSo why not replace this bad code:\r\n\r\n```\r\nstatic Map&lt;String, ArrayList&lt;List&lt;String&gt;&gt;&gt; hm = new HashMap&lt;String, ArrayList&lt;List&lt;String&gt;&gt;&gt;();\r\n```\r\n\r\nWith this much improved code:\r\n\r\n```\r\nstatic Map&lt;String, List&lt;Student&gt;&gt; genderMap = new HashMap&lt;&gt;();\r\n```\r\n\r\nIt has all sorts of improvements:\r\n\r\n* It has a proper name. `hm` doesn&#39;t mean anything.\r\n* It uses `&lt;&gt;` to be shorter - you don&#39;t need to repeat that stuff.\r\n* It codes to the principle (`List`) instead of the concrete class.\r\n* It uses nominal types - this maps a gender string to a list of students. And the code reads the same way, that&#39;s good.\r\n\r\nPutting it together:\r\n\r\n```\r\nclass Student {\r\n    final String name;\r\n    final String gender;\r\n    final String number;\r\n\r\n    static Map&lt;String, List&lt;Student&gt;&gt; genderMap = new HashMap&lt;&gt;();\r\n\r\n    Student(String number, String name, String gender) {\r\n        this.name = name;\r\n        this.gender = gender;\r\n        this.number = number;\r\n\r\n        List&lt;Student&gt; studentsForThisGender = genderMap.get(gender);\r\n        if (studentsForThisGender == null) {\r\n          // There is no list yet; we need to make one.\r\n          genderMap.put(gender, studentsForThisGender = new ArrayList&lt;&gt;());\r\n        }\r\n        studentsForThisGender.add(this);\r\n    }\r\n\r\n    static void getPersonByGender() {\r\n        Student[] liste = genderMap.get(&quot;Man&quot;).toArray(new Student[0]);\r\n        for (Student student : liste) {\r\n            System.out.println(student.name + &quot;\\t&lt;------&gt;\\t&quot; + student.number);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nNote:\r\n* getPersonByGender is now `static` - that&#39;s a thing you do to the concept of &#39;students&#39; not any particula student.\r\n* Instead of this nebulous &#39;print list[0] - you just sorta have to know that&#39;s the name&#39;, we print `student.name` which documents itself.\r\n* We fixed the problem where you were list-confused.\r\n* If you get a little further along your java studies, that &#39;get the list of students for a given gender, and make a new list if neccessary&#39; can be put more succintly. The last 4 lines can be reduced to:\r\n\r\n```\r\ngenderMap.computeIfAbsent(gender, () -&gt; new ArrayList&lt;&gt;()).add(this);\r\n```\r\n\r\nBut I bet that syntax, and what is happening there, hasn&#39;t been covered yet in your java course.","title":"HashMap with multiple values get.key() error","body":"<blockquote>\n<p><code>static ArrayList&lt;String&gt; nameandNumber = new ArrayList&lt;&gt;();</code></p>\n</blockquote>\n<p><code>new</code> is useful: Count the amount of times your code ever invokes <code>new ArrayList</code>. It's a fairly easy answer: Once. For your entire program.</p>\n<p>If you only call <code>new</code> once, that means <strong>there is only one list</strong>. In the whole system.</p>\n<p>No wonder then: This:</p>\n<pre><code>nameandNumber.add(this.number);\n</code></pre>\n<p>is called 10 times (because 10 students) for a single 'run' of your app. Thus, that one list you have must therefore have all these numbers added together - that's why you see all the data.</p>\n<p>Your code is, unfortunately, layers of bad design decisions.</p>\n<p>You can 'fix' the problem (but it'll still be fragile code that is hard to read), or you can 'fix' the design (which is more work).</p>\n<h2>Fix the problem</h2>\n<p>Instead of 1 list shared by all students which obviously can't work, you want to call <code>new ArrayList</code> for each student. Get rid of that <code>static</code> single arraylist, and instead make one every time:</p>\n<pre><code>Student(String number, String name, String gender) {\n    this.name = name;\n    this.gender = gender;\n    this.number = number;\n\n    var nameandNumber = new ArrayList&lt;String&gt;();\n    nameandNumber.add(this.name);\n    nameandNumber.add(this.number);\n\n    hm.put(this.gender, nameandNumber);\n}\n</code></pre>\n<p>Now you call <code>new ArrayList</code> the right number of times throughout one run of your program, for example.</p>\n<p>But you're still in trouble here - because you decided to use a <code>List</code> to represent a single idea (a student), you have confused yourself: A given gender maps to <strong>multiple</strong> students. Given that a single student is represented by a <code>List&lt;String&gt;</code>, multiple students would be a <code>List&lt;List&lt;String&gt;&gt;</code> and, oof, this is getting real complex, real fast.</p>\n<p>We could plug away at fixing this further but let's take a step back and fix your design instead!</p>\n<h2>Fix the design</h2>\n<p>More generally, java's typing system is highly nominal: Types have names, and the more descriptive the name, the better.</p>\n<p><code>Student</code> is a <strong>far</strong> better, clearer name than <code>List&lt;String&gt;</code>. How is a reader of your code supposed to know that those <code>List&lt;String&gt;</code> objects specifically are intended to contain precisely 2 strings, the first of which is the student's name, the second of which is their student ID number? It doesn't say that anywhere. If you mess it up you get no compiler errors of any kind.</p>\n<p>You <strong>have</strong> a type, right there, that properly describes that concept: <strong><code>Student</code></strong>!</p>\n<p>So why not replace this bad code:</p>\n<pre><code>static Map&lt;String, ArrayList&lt;List&lt;String&gt;&gt;&gt; hm = new HashMap&lt;String, ArrayList&lt;List&lt;String&gt;&gt;&gt;();\n</code></pre>\n<p>With this much improved code:</p>\n<pre><code>static Map&lt;String, List&lt;Student&gt;&gt; genderMap = new HashMap&lt;&gt;();\n</code></pre>\n<p>It has all sorts of improvements:</p>\n<ul>\n<li>It has a proper name. <code>hm</code> doesn't mean anything.</li>\n<li>It uses <code>&lt;&gt;</code> to be shorter - you don't need to repeat that stuff.</li>\n<li>It codes to the principle (<code>List</code>) instead of the concrete class.</li>\n<li>It uses nominal types - this maps a gender string to a list of students. And the code reads the same way, that's good.</li>\n</ul>\n<p>Putting it together:</p>\n<pre><code>class Student {\n    final String name;\n    final String gender;\n    final String number;\n\n    static Map&lt;String, List&lt;Student&gt;&gt; genderMap = new HashMap&lt;&gt;();\n\n    Student(String number, String name, String gender) {\n        this.name = name;\n        this.gender = gender;\n        this.number = number;\n\n        List&lt;Student&gt; studentsForThisGender = genderMap.get(gender);\n        if (studentsForThisGender == null) {\n          // There is no list yet; we need to make one.\n          genderMap.put(gender, studentsForThisGender = new ArrayList&lt;&gt;());\n        }\n        studentsForThisGender.add(this);\n    }\n\n    static void getPersonByGender() {\n        Student[] liste = genderMap.get(&quot;Man&quot;).toArray(new Student[0]);\n        for (Student student : liste) {\n            System.out.println(student.name + &quot;\\t&lt;------&gt;\\t&quot; + student.number);\n        }\n    }\n}\n</code></pre>\n<p>Note:</p>\n<ul>\n<li>getPersonByGender is now <code>static</code> - that's a thing you do to the concept of 'students' not any particula student.</li>\n<li>Instead of this nebulous 'print list[0] - you just sorta have to know that's the name', we print <code>student.name</code> which documents itself.</li>\n<li>We fixed the problem where you were list-confused.</li>\n<li>If you get a little further along your java studies, that 'get the list of students for a given gender, and make a new list if neccessary' can be put more succintly. The last 4 lines can be reduced to:</li>\n</ul>\n<pre><code>genderMap.computeIfAbsent(gender, () -&gt; new ArrayList&lt;&gt;()).add(this);\n</code></pre>\n<p>But I bet that syntax, and what is happening there, hasn't been covered yet in your java course.</p>\n"}],"owner":{"account_id":18577498,"reputation":5,"user_id":13537778,"display_name":"bigci10"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71692830,"answer_count":1,"score":0,"last_activity_date":1648731185,"creation_date":1648728367,"question_id":71692168,"body_markdown":"```\r\nimport java.util.*;\r\n\r\nclass Student{\r\n\r\n    final String name;\r\n    final String gender;\r\n    public String number;\r\n\r\n     static Map&lt;String, ArrayList&lt;String&gt;&gt; hm = new HashMap&lt;String, ArrayList&lt;String&gt;&gt;();\r\n     static ArrayList&lt;String&gt; nameandNumber = new ArrayList&lt;&gt;();\r\n\r\n\r\n\r\n\r\n    Student(String number, String name, String gender) {\r\n        this.name = name;\r\n        this.gender = gender;\r\n        this.number = number;\r\n\r\n\r\n        nameandNumber.add(this.name);\r\n        nameandNumber.add(this.number);\r\n\r\n        hm.put(this.gender,nameandNumber);\r\n    }\r\n\r\n    void getPersonByGender() {\r\n        String[] Liste = hm.get(&quot;Man&quot;).toArray(new String[0]);\r\n        for (int i = 0; i &lt; Liste.length - 1; i += 2) {\r\n            System.out.println(Liste[i] + &quot;\\t&lt;------&gt;\\t&quot; + Liste[i + 1]);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nhello guys i am creating a class and this class will return me 10 student information which I will give (according to the difference between men and women). When i try to use getPersonByGender&#39;s function this function gives me all students.","title":"HashMap with multiple values get.key() error","body":"<pre><code>import java.util.*;\n\nclass Student{\n\n    final String name;\n    final String gender;\n    public String number;\n\n     static Map&lt;String, ArrayList&lt;String&gt;&gt; hm = new HashMap&lt;String, ArrayList&lt;String&gt;&gt;();\n     static ArrayList&lt;String&gt; nameandNumber = new ArrayList&lt;&gt;();\n\n\n\n\n    Student(String number, String name, String gender) {\n        this.name = name;\n        this.gender = gender;\n        this.number = number;\n\n\n        nameandNumber.add(this.name);\n        nameandNumber.add(this.number);\n\n        hm.put(this.gender,nameandNumber);\n    }\n\n    void getPersonByGender() {\n        String[] Liste = hm.get(&quot;Man&quot;).toArray(new String[0]);\n        for (int i = 0; i &lt; Liste.length - 1; i += 2) {\n            System.out.println(Liste[i] + &quot;\\t&lt;------&gt;\\t&quot; + Liste[i + 1]);\n        }\n    }\n}\n</code></pre>\n<p>hello guys i am creating a class and this class will return me 10 student information which I will give (according to the difference between men and women). When i try to use getPersonByGender's function this function gives me all students.</p>\n"},{"tags":["java","node.js","automation","selenium-chromedriver"],"comments":[{"owner":{"account_id":16450692,"reputation":574,"user_id":11884183,"display_name":"Felix Schildmann"},"score":0,"creation_date":1648710722,"post_id":71685648,"comment_id":126694818,"body_markdown":"What version of the chrome driver do you have in your PATH environment variable?","body":"What version of the chrome driver do you have in your PATH environment variable?"},{"owner":{"account_id":10808339,"reputation":1271,"user_id":7949704,"display_name":"Alejandro Gonzalez"},"score":0,"creation_date":1648731162,"post_id":71685648,"comment_id":126702544,"body_markdown":"@FelixSchildmann my chrome driver version is ChromeDriver 100.0.4896.60","body":"@FelixSchildmann my chrome driver version is ChromeDriver 100.0.4896.60"}],"owner":{"account_id":10808339,"reputation":1271,"user_id":7949704,"display_name":"Alejandro Gonzalez"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1648731113,"creation_date":1648687380,"question_id":71685648,"body_markdown":"Good night, i am trying to use the next https://github.com/sitespeedio/browsertime,  then i did the next \r\n\r\n    npm install browsertime -g\r\n    browsertime https://www.sitespeed.io/\r\n\r\nWhen i executed the next command browsertime https://www.sitespeed.io/, but i am getting the next error \r\n\r\n[![Error][1]][1]\r\n\r\n[2022-03-30 18:47:29] INFO: Running tests using Chrome - 3 iteration(s)\r\n[2022-03-30 18:47:29] INFO: chrome failed to start, trying 2 more time(s): The ChromeDriver could not be found on the current PATH. Please download the latest version of the ChromeDriver from http://chromedriver.storage.googleapis.com/index.html and ensure it can be found on your PATH.\r\n[2022-03-30 18:47:29] INFO: chrome failed to start, trying 1 more time(s): The ChromeDriver could not be found on the current PATH. Please download the latest version of the ChromeDriver from http://chromedriver.storage.googleapis.com/index.html and ensure it can be found on your PATH.\r\n[2022-03-30 18:47:29] INFO: chrome failed to start, trying 0 more time(s): The ChromeDriver could not be found on the current PATH. Please download the latest version of the ChromeDriver from http://chromedriver.storage.googleapis.com/index.html and ensure it can be found on your PATH.\r\n\r\n  [1]: https://i.stack.imgur.com/bexUg.png\r\n\r\n\r\nMy chromedriver version is \r\n\r\n&gt; C:\\Users\\wilso&gt;ChromeDriver Starting ChromeDriver 100.0.4896.60\r\n&gt; (6a5d10861ce8de5fce22564658033b43cb7de047-refs/branch-heads/4896@{#875})\r\n&gt; on port 9515 Only local connections are allowed. Please see\r\n&gt; https://chromedriver.chromium.org/security-considerations for\r\n&gt; suggestions on keeping ChromeDriver safe. ChromeDriver was started\r\n&gt; successfully.","title":"browsertime --- The ChromeDriver could not be found on the current PATH","body":"<p>Good night, i am trying to use the next <a href=\"https://github.com/sitespeedio/browsertime\" rel=\"nofollow noreferrer\">https://github.com/sitespeedio/browsertime</a>,  then i did the next</p>\n<pre><code>npm install browsertime -g\nbrowsertime https://www.sitespeed.io/\n</code></pre>\n<p>When i executed the next command browsertime <a href=\"https://www.sitespeed.io/\" rel=\"nofollow noreferrer\">https://www.sitespeed.io/</a>, but i am getting the next error</p>\n<p><a href=\"https://i.stack.imgur.com/bexUg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bexUg.png\" alt=\"Error\" /></a></p>\n<p>[2022-03-30 18:47:29] INFO: Running tests using Chrome - 3 iteration(s)\n[2022-03-30 18:47:29] INFO: chrome failed to start, trying 2 more time(s): The ChromeDriver could not be found on the current PATH. Please download the latest version of the ChromeDriver from <a href=\"http://chromedriver.storage.googleapis.com/index.html\" rel=\"nofollow noreferrer\">http://chromedriver.storage.googleapis.com/index.html</a> and ensure it can be found on your PATH.\n[2022-03-30 18:47:29] INFO: chrome failed to start, trying 1 more time(s): The ChromeDriver could not be found on the current PATH. Please download the latest version of the ChromeDriver from <a href=\"http://chromedriver.storage.googleapis.com/index.html\" rel=\"nofollow noreferrer\">http://chromedriver.storage.googleapis.com/index.html</a> and ensure it can be found on your PATH.\n[2022-03-30 18:47:29] INFO: chrome failed to start, trying 0 more time(s): The ChromeDriver could not be found on the current PATH. Please download the latest version of the ChromeDriver from <a href=\"http://chromedriver.storage.googleapis.com/index.html\" rel=\"nofollow noreferrer\">http://chromedriver.storage.googleapis.com/index.html</a> and ensure it can be found on your PATH.</p>\n<p>My chromedriver version is</p>\n<blockquote>\n<p>C:\\Users\\wilso&gt;ChromeDriver Starting ChromeDriver 100.0.4896.60\n(6a5d10861ce8de5fce22564658033b43cb7de047-refs/branch-heads/4896@{#875})\non port 9515 Only local connections are allowed. Please see\n<a href=\"https://chromedriver.chromium.org/security-considerations\" rel=\"nofollow noreferrer\">https://chromedriver.chromium.org/security-considerations</a> for\nsuggestions on keeping ChromeDriver safe. ChromeDriver was started\nsuccessfully.</p>\n</blockquote>\n"},{"tags":["java","android","kotlin"],"answers":[{"tags":[],"owner":{"account_id":15204493,"reputation":173,"user_id":10972607,"display_name":"David"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648730997,"creation_date":1648730997,"answer_id":71692781,"question_id":71691223,"body_markdown":"I don&#39;t think it&#39;s possible unless you are the developer of both and remove the permission for both apps, see: https://stackoverflow.com/questions/5529535/can-an-app-give-its-permission-to-another-application-in-android\r\n","title":"How can I control other application in my phone","body":"<p>I don't think it's possible unless you are the developer of both and remove the permission for both apps, see: <a href=\"https://stackoverflow.com/questions/5529535/can-an-app-give-its-permission-to-another-application-in-android\">Can an app give its permission to another application in android?</a></p>\n"}],"owner":{"account_id":24757754,"reputation":3,"user_id":18642500,"display_name":"lamine ml"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1648956442,"accepted_answer_id":71692781,"answer_count":1,"score":-2,"last_activity_date":1648730997,"creation_date":1648723958,"question_id":71691223,"body_markdown":"I am a beginner in programming Android applications in Java. I want to know how to control or change something, for example, cut off the Internet on another application. Is there a way or suggestion. Thank you","title":"How can I control other application in my phone","body":"<p>I am a beginner in programming Android applications in Java. I want to know how to control or change something, for example, cut off the Internet on another application. Is there a way or suggestion. Thank you</p>\n"},{"tags":["java","blackjack","playing-cards"],"answers":[{"tags":[],"owner":{"account_id":23428052,"reputation":6895,"user_id":17487348,"display_name":"Mushroomator"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648730957,"creation_date":1648726714,"answer_id":71691805,"question_id":71684381,"body_markdown":"### Some issues\r\nAlthough you are generally on the right track, your implementation has some design decisions that you should reconsider. \r\nThis is part of the reason why you find it hard to assign a value to the card that is drawn. In your design a card has a `value` attribute but if you think about it, a card&#39;s value in BlackJack is determined by its rank and its rank only. Additionally, it will not be changing over time, that is why you should keep the value closely [coupled](https://en.wikipedia.org/wiki/Coupling_(computer_programming)#:~:text=In%20software%20engineering%2C%20coupling%20is,of%20the%20relationships%20between%20modules.) to the rank. Another thing to consider for both, ranks and suits, is there is only a limited set of allowed and well-defined values which is far smaller than the range of values an `int` or `String` could take so I would propose you use an [enum](https://www.w3schools.com/java/java_enums.asp#:~:text=An%20enum%20is%20a%20special,the%20constants%20with%20a%20comma.) to type those values. Always keep in mind enums are just special classes so they can have attributes as well.\r\n\r\nHere how I would implement `Rank` and `Suit`.\r\n\r\n`Rank.java`\r\n```java\r\npublic enum Rank {\r\n    // the value is determined only by rank so assign the value here!\r\n    TWO(2, &quot;2&quot;),\r\n    THREE(3, &quot;3&quot;),\r\n    FOUR(4, &quot;4&quot;),\r\n    FIVE(5, &quot;5&quot;),\r\n    SIX(6, &quot;6&quot;),\r\n    SEVEN(7, &quot;7&quot;),\r\n    EIGHT(8, &quot;8&quot;),\r\n    NINE(9, &quot;9&quot;),\r\n    TEN(10, &quot;10&quot;),\r\n    JACK(10, &quot;J&quot;),\r\n    QUEEN(10, &quot;Q&quot;),\r\n    KING(10, &quot;K&quot;),\r\n    ACE(11, &quot;A&quot;);\r\n\r\n    private final int value;\r\n    private final String display;\r\n\r\n    /**\r\n     * Each rank has a value and a String which determines how the rank is displayed in the console.\r\n     * @param value value assigned to a rank\r\n     * @param display String displayed to represent this rank\r\n     */\r\n    Rank(int value, String display) {\r\n        this.value = value;\r\n        this.display = display;\r\n    }\r\n\r\n    public int getValue() {\r\n        return value;\r\n    }\r\n\r\n    public String getDisplay() {\r\n        return display;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return display;\r\n    }\r\n}\r\n```\r\n\r\n`Suit.java`\r\n```java\r\npublic enum Suit {\r\n    SPADES(&quot;Spades&quot;),\r\n    HEARTS(&quot;Hearts&quot;),\r\n    CLUBS(&quot;Clubs&quot;),\r\n    DIAMONDS(&quot;Diamonds&quot;);\r\n\r\n    // display value in console\r\n    private final String display;\r\n\r\n    /**\r\n     * Suit of a card\r\n     * @param display display value for a suit\r\n     */\r\n    Suit(String display) {\r\n        this.display = display;\r\n    }\r\n\r\n    public String getDisplay() {\r\n        return display;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return display;\r\n    }\r\n}\r\n```\r\n\r\nThis has some nice benefits for the `Card` class. A card only needs a Suit and a Rank and that&#39;s it. With it&#39;s rank it will automatically have a value assigned as well now. The problem with your implementation of the card is that you had an array of all possible values for ranks and suits in every card. Again, think of the real world. A card certainly does not hold all values of possible ranks and suits, but only has one rank and one suit. Your class `Card` is a somewhat simplified model of the real-world card so it should have the properties of a real-world card. Designing it this way will also help you staying on top of your program because your design will be easier to comprehend.\r\n\r\nHere my implementation of the card.\r\n\r\n`Card.java`\r\n```java\r\npublic class Card {\r\n    // value of a card is not going to change, so we can make it final\r\n    private final Suit suit;\r\n    private final Rank rank;\r\n\r\n    public Card(Suit suit, Rank rank) {\r\n        this.suit = suit;\r\n        this.rank = rank;\r\n    }\r\n\r\n    public Suit getSuit() {\r\n        return suit;\r\n    }\r\n\r\n    public Rank getRank() {\r\n        return rank;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        // prints e.g. &quot;2-Hearts&quot;\r\n        return rank.toString() + &quot;-&quot; + suit.toString();\r\n    }\r\n}\r\n```\r\nNow, let&#39;s move on to the `Deck` class. This war actually quite well designed by you as a deck is just a collection of cards. But there is a issue with your method `deal()` which hinders you from knowing which card was drawn. In your implementation you just remove the card on the top of the deck but you don&#39;t return it, so you&#39;re essentially just wiping a card from memory and it is lost and cannot be played in the game. The `remove()` method of an `ArrayList` does return the removed value by default so use that.\r\nAlso, that&#39;s maybe splitting hairs, but I think you should rename `deal()` to `drawTop()` as dealing in the real-world involves first drawing a card then giving it to a player, who then accepts that card and puts it in his hand. \r\n\r\nThis is my `Deck` implementation. There are some changes required due to the previous changes I&#39;ve made but this is essentially your Deck with the change described above. \r\n\r\n`Deck.java`\r\n```java\r\nimport java.util.ArrayList;\r\nimport java.util.*;\r\n\r\npublic class Deck {\r\n    private final ArrayList&lt;Card&gt; deck;\r\n\r\n    /**\r\n     * Building deck with 52 cards\r\n     *\r\n     * Try to use Java Doc syntax to like this to comment on methods.\r\n     * These comments will be shown in IDEs and an HTML page can be auto-generated from them.\r\n     */\r\n    public Deck(){\r\n        // get all possible value from the enums for Suit and Ranks\r\n        var allSuits = Suit.values();\r\n        var allRanks = Rank.values();\r\n        // You can provide an initial capacity for how many card you are going to have\r\n        // this will avoid unnecessary resizing of the array but that is not that important here\r\n        this.deck = new ArrayList&lt;Card&gt;(allSuits.length * allRanks.length);\r\n        // These are for-each loop that loop over all possible suits and ranks\r\n        for (var suit : allSuits) {\r\n            for (var rank : allRanks) {\r\n                // add one card for each suit-rank combination\r\n                deck.add(new Card(suit, rank));\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Shuffle the deck.\r\n     */\r\n    public void shuffle()    //shuffling the deck\r\n    {\r\n        Collections.shuffle(deck);\r\n    }\r\n\r\n    public Card drawTop()      //picking the first card out of the deck\r\n    {\r\n        // check if Deck is empty or not!\r\n        if(this.isEmpty()) return null;\r\n        // remove removes the card and returns the removed card\r\n        return deck.remove(0);\r\n    }\r\n\r\n    /**\r\n     * Checks if deck is empty i. e. no cards left in the deck.\r\n     * @return true, if no cards are left in deck, false otherwise\r\n     */\r\n    public boolean isEmpty(){\r\n        return deck.isEmpty();\r\n    }\r\n\r\n    /**\r\n     * Gets number of remaining cards in the deck. This is helpful for debugging purposes.\r\n     * @return number of remaining cards in the deck\r\n     */\r\n    public int getNoRemainingCars(){\r\n        return deck.size();\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return deck.toString();\r\n    }\r\n}\r\n```\r\nYou are now able to call `var topCard = new Deck().drawTop()` and it will remove a card from the top of the deck and this card will be stored in `topCard`. You can just simply call `System.out.println(topCard)` or use `topCard.getRank()` and `topCard.getSuit()` to see which card was drawn. Remember with the rank you also will get the value of the card. \r\n\r\nSee this `main` method on how you can now interact with all those classes.\r\n```java\r\npublic static void main(String[] args) {\r\n        // create the deck with all 52 cards\r\n        var deck = new Deck();\r\n        // print the deck\r\n        System.out.printf(&quot;Newly created deck: %s\\n&quot;, deck);\r\n        // shuffle the cards\r\n        deck.shuffle();\r\n        System.out.printf(&quot;Shuffled deck: %s\\n&quot;, deck);\r\n        // remove the first card\r\n        var dealtCard = deck.drawTop();\r\n        // print the car that was dealt\r\n        System.out.printf(&quot;Removed card: %s\\n&quot;, dealtCard);\r\n        // print info about that card\r\n        System.out.printf(&quot;The card that was removed from the deck is the %s of %s\\n&quot;, dealtCard.getRank(), dealtCard.getSuit());\r\n        // print deck again to show that the card is no longer in the deck\r\n        System.out.printf(&quot;The deck after a card was removed: %s\\n&quot;, deck);\r\n}\r\n```\r\n\r\nExpected output:\r\n```\r\nNewly created deck: [2-Spades, 3-Spades, 4-Spades, 5-Spades, 6-Spades, 7-Spades, 8-Spades, 9-Spades, 10-Spades, J-Spades, Q-Spades, K-Spades, A-Spades, 2-Hearts, 3-Hearts, 4-Hearts, 5-Hearts, 6-Hearts, 7-Hearts, 8-Hearts, 9-Hearts, 10-Hearts, J-Hearts, Q-Hearts, K-Hearts, A-Hearts, 2-Clubs, 3-Clubs, 4-Clubs, 5-Clubs, 6-Clubs, 7-Clubs, 8-Clubs, 9-Clubs, 10-Clubs, J-Clubs, Q-Clubs, K-Clubs, A-Clubs, 2-Diamonds, 3-Diamonds, 4-Diamonds, 5-Diamonds, 6-Diamonds, 7-Diamonds, 8-Diamonds, 9-Diamonds, 10-Diamonds, J-Diamonds, Q-Diamonds, K-Diamonds, A-Diamonds]\r\nShuffled deck: [6-Diamonds, 9-Hearts, Q-Diamonds, 2-Hearts, 7-Hearts, A-Clubs, J-Clubs, A-Hearts, 3-Clubs, 4-Hearts, 3-Hearts, Q-Clubs, 9-Clubs, 6-Hearts, K-Clubs, 8-Clubs, 2-Diamonds, J-Hearts, J-Spades, 4-Diamonds, A-Spades, 7-Clubs, 3-Diamonds, 4-Clubs, Q-Spades, 5-Spades, 5-Hearts, 10-Clubs, 2-Spades, 5-Clubs, K-Hearts, K-Diamonds, 4-Spades, A-Diamonds, 6-Spades, 9-Spades, 3-Spades, 10-Spades, 7-Diamonds, K-Spades, J-Diamonds, 7-Spades, 6-Clubs, 5-Diamonds, 8-Spades, 10-Diamonds, 9-Diamonds, Q-Hearts, 10-Hearts, 8-Hearts, 2-Clubs, 8-Diamonds]\r\nRemoved card: 6-Diamonds\r\nThe card that was removed from the deck is the 6 of Diamonds\r\nThe deck after a card was removed: [9-Hearts, Q-Diamonds, 2-Hearts, 7-Hearts, A-Clubs, J-Clubs, A-Hearts, 3-Clubs, 4-Hearts, 3-Hearts, Q-Clubs, 9-Clubs, 6-Hearts, K-Clubs, 8-Clubs, 2-Diamonds, J-Hearts, J-Spades, 4-Diamonds, A-Spades, 7-Clubs, 3-Diamonds, 4-Clubs, Q-Spades, 5-Spades, 5-Hearts, 10-Clubs, 2-Spades, 5-Clubs, K-Hearts, K-Diamonds, 4-Spades, A-Diamonds, 6-Spades, 9-Spades, 3-Spades, 10-Spades, 7-Diamonds, K-Spades, J-Diamonds, 7-Spades, 6-Clubs, 5-Diamonds, 8-Spades, 10-Diamonds, 9-Diamonds, Q-Hearts, 10-Hearts, 8-Hearts, 2-Clubs, 8-Diamonds]\r\n```\r\n\r\n### The next steps\r\nNow, this is it as far as your first question goes. But as you are a beginner and you wanted some pointers I&#39;ve decided to give you some pointers on what to do next and how you could do it :) I know it&#39;s quite a lot to take in, but I am sure you will get your head around it. In the next few sections, I will show you can you can actually draw cards from the deck and deal them to players.\r\n\r\nA few sentences ago I mentioned\r\n&gt; dealing in the real-world involves first drawing a card then giving it to a player, who then accepts that card and puts it in his hand\r\n\r\nThe nouns in this sentence should be your next classes and the verbs should be your next methods. So that would be:\r\n\r\n- `Hand`\r\n    - a collection of cards\r\n    - ability to add and remove cards from the hand\r\n- `Player`\r\n    - ability to accecpt a card an put it into his/ her hand\r\n    - should have a `Hand` which is again a collection of `Card`s\r\n- `Croupier` (for the *dealing cards* part in the sentence)\r\n    - **Croupier is a player** and has additional properties and abilities\r\n    - needs a `Deck` of cards which he/ she can deal to players\r\n    - ability to draw a card from the `Deck` and deal it to a player \r\n\r\n#### Hand\r\nA hand is a `set of cards` (I am using the Java data structure [HashSet](https://www.w3schools.com/java/java_hashset.asp) here) and there is a `total value` of all cards, so this should be the attributes. Additionally a `Hand` should allow to add and remove cards to it, this will be our methods. When adding and removing we need to adjust the `total value` of the hand accordingly.\r\n\r\n`Hand.java`\r\n```java\r\nmport java.util.HashSet;\r\nimport java.util.Set;\r\n\r\npublic class Hand {\r\n    private final Set&lt;Card&gt; cards;\r\n    private int totalValue;\r\n\r\n    public Hand() {\r\n        this.cards = new HashSet&lt;&gt;();\r\n        this.totalValue = 0;\r\n    }\r\n\r\n    /**\r\n     * Add a card to the hand\r\n     * @param card card to be added\r\n     */\r\n    public void addCard(Card card){\r\n        // add card to hand\r\n        cards.add(card);\r\n        // increase total value by value of the card\r\n        totalValue += card.getRank().getValue();\r\n    }\r\n\r\n    public void removeCard(Suit suits, Rank rank){\r\n        var searchedCard = new Card(suits, rank);\r\n        // call other remove method which does the actual removal\r\n        removeCard(searchedCard);\r\n    }\r\n\r\n    public void removeCard(Card card){\r\n        // remove card if it is present\r\n        cards.remove(card);\r\n        // remove card from total value\r\n        totalValue -= card.getRank().getValue();\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Hand{&quot; +\r\n                &quot;cards=&quot; + cards +\r\n                &quot;, totalValue=&quot; + totalValue +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n```\r\n\r\n#### Player\r\nLet&#39;s move on to the player. A player will have a `name` and a `Hand`. Additionally he/ she (a gender is also be possible if you want to assign one btw) should have the ability to accept a card and put it in their hand when a card is dealt to them. A player will also have other abilities like making a decision whether to take on another card or not and other stuff, but that is up to you to extend on that, I will just focus on how accepting/ receiving a card.\r\n\r\n`Player.java`\r\n```java\r\npublic class Player {\r\n    // protected is a necessary access qualifier so subclasses of Player (Croupier will also have the property name and hand without specifically stating that, see Croupier.java) \r\n    protected String name;\r\n    protected Hand hand;\r\n\r\n    public Player(String name) {\r\n        this.name = name;\r\n        this.hand = new Hand();\r\n        System.out.printf(&quot;Player %s has joined the game.\\n&quot;, name);\r\n    }\r\n\r\n    /**\r\n     * Receive a card and add it to the hand\r\n     * @param card card to be received\r\n     */\r\n    public void receiveCard(Card card){\r\n        // add card to hand\r\n        hand.addCard(card);\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Player{&quot; +\r\n                &quot;name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n                &quot;, hand=&quot; + hand +\r\n                &#39;}&#39;;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n}\r\n``` \r\n\r\n#### Croupier\r\nNow it gets interesting as a croupier is a player with all the abilities and properties of a player but he/ she also has more abilities and properties. To reflect that in Java we use a feature called [inheritance](https://www.w3schools.com/java/java_inheritance.asp). So a `Croupier` has everything a `Player` has and more so it `extends` the `Player`. Inheritance will allow us to simply define that and we don&#39;t have to re-implement everything we have done for the `Player` again for the `Croupier`. So we only need to focus on the additional properties and abilities of a `Croupier` i. e. he/ she gets a deck of cards which he/ she can shuffle and deal to players. To shuffle we just use the `shuffle()` method of the `Deck`. To deal a card we use the `drawTop()` method of the `Deck`to draw a card from the deck (and get that card returned) and the `receiveCard()` method of the `Player` which we pass that drawn card to. This way the top card from the deck will be removed and added to the hand of the player. All this happens in the `dealCardTo()` method.\r\n\r\n`Croupier.java`\r\n```java\r\n/**\r\n * Croupier extends Player as he/she is also a Player and should have the same possibilities as a player, but also has additional functionality.\r\n * Google for Java inheritence for more information\r\n */\r\npublic class Croupier extends Player{\r\n    private final Deck deck;\r\n\r\n    public Croupier(String name, Deck deck) {\r\n        // call constructor of superclass player\r\n        super(name);\r\n        this.deck = deck;\r\n    }\r\n\r\n    public void dealCardTo(Player player){\r\n        // get one card of the deck\r\n        var cardToDeal = deck.drawTop();\r\n        // deal the card to the player\r\n        player.receiveCard(cardToDeal);\r\n        System.out.printf(&quot;%s is dealing a card to %s.\\n&quot;, name, player.getName());\r\n    }\r\n\r\n    // this is just for demo purposes\r\n    public String showDeck(){\r\n        return deck.toString();\r\n    }\r\n\r\n    public void shuffleCards(){\r\n        deck.shuffle();\r\n        System.out.printf(&quot;Croupier %s has shuffled the cards.\\n&quot;, name);\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Croupier{&quot; +\r\n                &quot;name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n                &quot;, hand=&quot; + hand +\r\n                &quot;, deck=&quot; + deck +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n```\r\n#### Putting it all together\r\nNow we have all necessary features to deal cards to players so here an quick example of how we would do that.\r\n\r\n`Application.java`\r\n```java\r\npublic class Application {\r\n    public static void main(String[] args) {               \r\n        System.out.println(&quot;&quot;&quot;\r\n                +-------------------------------------------------------------------\r\n                | Example: Create players, a deck and deal 1 card to each player\r\n                +-------------------------------------------------------------------\r\n                &quot;&quot;&quot;);\r\n        // create two players, and the croupier\r\n        var john = new Player(&quot;John&quot;);\r\n        System.out.println(john);\r\n        var elton = new Player(&quot;Elton&quot;);\r\n        System.out.println(elton);\r\n        // create a croupier; a groupie is a player and deals cards, so give him a new deck of cards\r\n        var croupierTom = new Croupier(&quot;Tom&quot;, new Deck());\r\n        System.out.println(croupierTom);\r\n        // a list of all players\r\n        var allPlayers = new ArrayList&lt;Player&gt;();\r\n        allPlayers.add(john);\r\n        allPlayers.add(elton);\r\n        // remember a croupier is also a player because it is a subclass\r\n        allPlayers.add(croupierTom);\r\n        // let the croupier shuffle the cards\r\n        croupierTom.shuffleCards();\r\n        // tell croupier to deal one card to each player (including himself)\r\n        for (var player : allPlayers) {\r\n            croupierTom.dealCardTo(player);\r\n        }\r\n        // now let&#39;s see who got which cards\r\n        for (var player : allPlayers) {\r\n            System.out.println(player);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nExpected output:\r\n```\r\n+-------------------------------------------------------------------\r\n| Example: Create players, a deck and deal 1 card to each player\r\n+-------------------------------------------------------------------\r\n\r\nPlayer John has joined the game.\r\nPlayer{name=&#39;John&#39;, hand=Hand{cards=[], totalValue=0}}\r\nPlayer Elton has joined the game.\r\nPlayer{name=&#39;Elton&#39;, hand=Hand{cards=[], totalValue=0}}\r\nPlayer Tom has joined the game.\r\nCroupier{name=&#39;Tom&#39;, hand=Hand{cards=[], totalValue=0}, deck=[2-Spades, 3-Spades, 4-Spades, 5-Spades, 6-Spades, 7-Spades, 8-Spades, 9-Spades, 10-Spades, J-Spades, Q-Spades, K-Spades, A-Spades, 2-Hearts, 3-Hearts, 4-Hearts, 5-Hearts, 6-Hearts, 7-Hearts, 8-Hearts, 9-Hearts, 10-Hearts, J-Hearts, Q-Hearts, K-Hearts, A-Hearts, 2-Clubs, 3-Clubs, 4-Clubs, 5-Clubs, 6-Clubs, 7-Clubs, 8-Clubs, 9-Clubs, 10-Clubs, J-Clubs, Q-Clubs, K-Clubs, A-Clubs, 2-Diamonds, 3-Diamonds, 4-Diamonds, 5-Diamonds, 6-Diamonds, 7-Diamonds, 8-Diamonds, 9-Diamonds, 10-Diamonds, J-Diamonds, Q-Diamonds, K-Diamonds, A-Diamonds]}\r\nCroupier Tom has shuffled the cards.\r\nTom is dealing a card to John.\r\nTom is dealing a card to Elton.\r\nTom is dealing a card to Tom.\r\nPlayer{name=&#39;John&#39;, hand=Hand{cards=[7-Spades], totalValue=7}}\r\nPlayer{name=&#39;Elton&#39;, hand=Hand{cards=[4-Diamonds], totalValue=4}}\r\nCroupier{name=&#39;Tom&#39;, hand=Hand{cards=[2-Spades], totalValue=2}, deck=[8-Hearts, 5-Hearts, 9-Hearts, 3-Spades, Q-Hearts, 8-Clubs, 2-Diamonds, 6-Diamonds, 10-Hearts, 2-Hearts, 8-Spades, Q-Clubs, 2-Clubs, Q-Spades, 5-Diamonds, 5-Clubs, 7-Clubs, 4-Hearts, K-Spades, 3-Hearts, 9-Clubs, K-Clubs, Q-Diamonds, A-Clubs, 10-Spades, 4-Clubs, A-Spades, J-Diamonds, 10-Diamonds, 7-Diamonds, J-Hearts, A-Hearts, 5-Spades, A-Diamonds, 4-Spades, 7-Hearts, 6-Hearts, J-Clubs, 9-Diamonds, 6-Spades, J-Spades, 8-Diamonds, 10-Clubs, 6-Clubs, 3-Diamonds, K-Diamonds, 3-Clubs, 9-Spades, K-Hearts]}\r\n```\r\n&gt; Keep in mind that through shuffling your results will probably be slightly different but each player (including the croupier) should have one card in his/ her hand and the deck should have all those cards removed from it.\r\n\r\n### What to do next?\r\nNow that should give you a good skeleton to implement the rest of the game. There is still a lot to do. The next thing should probably be to create a `Game` class which represents one game of BlackJack. Again start from the real-world and keep in mind that your design should be a model of that. Always think in terms of abilities (= methods) and properties (= attributes) an instance has. A `Game` will certainly have a collection of players, a croupier and the ability to start the game. Think about what should happen on the start of the game: The croupier will have to deal cards (we&#39;ve seen how to do that already) but it won&#39;t be just one and there will be decisions being made by the players involved whether they would like to take on another card. And you will need to implement the rules of BlackJack as well as win conditions to determine a winner. You could also implement some stakes for the players and so on and so on. \r\n\r\nI hope this has helped you understand what and how you can start and what to do next :) Happy coding :)\r\n\r\n&gt; Disclaimer: My design is not a gold standard or anything like this, it&#39;s just one possible design, there might be other (better) designs. But it&#39;s one relatively simple yet powerful enough approach I think. ","title":"Assigning values to cards in a deck","body":"<h3>Some issues</h3>\n<p>Although you are generally on the right track, your implementation has some design decisions that you should reconsider.\nThis is part of the reason why you find it hard to assign a value to the card that is drawn. In your design a card has a <code>value</code> attribute but if you think about it, a card's value in BlackJack is determined by its rank and its rank only. Additionally, it will not be changing over time, that is why you should keep the value closely <a href=\"https://en.wikipedia.org/wiki/Coupling_(computer_programming)#:%7E:text=In%20software%20engineering%2C%20coupling%20is,of%20the%20relationships%20between%20modules.\" rel=\"nofollow noreferrer\">coupled</a> to the rank. Another thing to consider for both, ranks and suits, is there is only a limited set of allowed and well-defined values which is far smaller than the range of values an <code>int</code> or <code>String</code> could take so I would propose you use an <a href=\"https://www.w3schools.com/java/java_enums.asp#:%7E:text=An%20enum%20is%20a%20special,the%20constants%20with%20a%20comma.\" rel=\"nofollow noreferrer\">enum</a> to type those values. Always keep in mind enums are just special classes so they can have attributes as well.</p>\n<p>Here how I would implement <code>Rank</code> and <code>Suit</code>.</p>\n<p><code>Rank.java</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>public enum Rank {\n    // the value is determined only by rank so assign the value here!\n    TWO(2, &quot;2&quot;),\n    THREE(3, &quot;3&quot;),\n    FOUR(4, &quot;4&quot;),\n    FIVE(5, &quot;5&quot;),\n    SIX(6, &quot;6&quot;),\n    SEVEN(7, &quot;7&quot;),\n    EIGHT(8, &quot;8&quot;),\n    NINE(9, &quot;9&quot;),\n    TEN(10, &quot;10&quot;),\n    JACK(10, &quot;J&quot;),\n    QUEEN(10, &quot;Q&quot;),\n    KING(10, &quot;K&quot;),\n    ACE(11, &quot;A&quot;);\n\n    private final int value;\n    private final String display;\n\n    /**\n     * Each rank has a value and a String which determines how the rank is displayed in the console.\n     * @param value value assigned to a rank\n     * @param display String displayed to represent this rank\n     */\n    Rank(int value, String display) {\n        this.value = value;\n        this.display = display;\n    }\n\n    public int getValue() {\n        return value;\n    }\n\n    public String getDisplay() {\n        return display;\n    }\n\n    @Override\n    public String toString() {\n        return display;\n    }\n}\n</code></pre>\n<p><code>Suit.java</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>public enum Suit {\n    SPADES(&quot;Spades&quot;),\n    HEARTS(&quot;Hearts&quot;),\n    CLUBS(&quot;Clubs&quot;),\n    DIAMONDS(&quot;Diamonds&quot;);\n\n    // display value in console\n    private final String display;\n\n    /**\n     * Suit of a card\n     * @param display display value for a suit\n     */\n    Suit(String display) {\n        this.display = display;\n    }\n\n    public String getDisplay() {\n        return display;\n    }\n\n    @Override\n    public String toString() {\n        return display;\n    }\n}\n</code></pre>\n<p>This has some nice benefits for the <code>Card</code> class. A card only needs a Suit and a Rank and that's it. With it's rank it will automatically have a value assigned as well now. The problem with your implementation of the card is that you had an array of all possible values for ranks and suits in every card. Again, think of the real world. A card certainly does not hold all values of possible ranks and suits, but only has one rank and one suit. Your class <code>Card</code> is a somewhat simplified model of the real-world card so it should have the properties of a real-world card. Designing it this way will also help you staying on top of your program because your design will be easier to comprehend.</p>\n<p>Here my implementation of the card.</p>\n<p><code>Card.java</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Card {\n    // value of a card is not going to change, so we can make it final\n    private final Suit suit;\n    private final Rank rank;\n\n    public Card(Suit suit, Rank rank) {\n        this.suit = suit;\n        this.rank = rank;\n    }\n\n    public Suit getSuit() {\n        return suit;\n    }\n\n    public Rank getRank() {\n        return rank;\n    }\n\n    @Override\n    public String toString() {\n        // prints e.g. &quot;2-Hearts&quot;\n        return rank.toString() + &quot;-&quot; + suit.toString();\n    }\n}\n</code></pre>\n<p>Now, let's move on to the <code>Deck</code> class. This war actually quite well designed by you as a deck is just a collection of cards. But there is a issue with your method <code>deal()</code> which hinders you from knowing which card was drawn. In your implementation you just remove the card on the top of the deck but you don't return it, so you're essentially just wiping a card from memory and it is lost and cannot be played in the game. The <code>remove()</code> method of an <code>ArrayList</code> does return the removed value by default so use that.\nAlso, that's maybe splitting hairs, but I think you should rename <code>deal()</code> to <code>drawTop()</code> as dealing in the real-world involves first drawing a card then giving it to a player, who then accepts that card and puts it in his hand.</p>\n<p>This is my <code>Deck</code> implementation. There are some changes required due to the previous changes I've made but this is essentially your Deck with the change described above.</p>\n<p><code>Deck.java</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.ArrayList;\nimport java.util.*;\n\npublic class Deck {\n    private final ArrayList&lt;Card&gt; deck;\n\n    /**\n     * Building deck with 52 cards\n     *\n     * Try to use Java Doc syntax to like this to comment on methods.\n     * These comments will be shown in IDEs and an HTML page can be auto-generated from them.\n     */\n    public Deck(){\n        // get all possible value from the enums for Suit and Ranks\n        var allSuits = Suit.values();\n        var allRanks = Rank.values();\n        // You can provide an initial capacity for how many card you are going to have\n        // this will avoid unnecessary resizing of the array but that is not that important here\n        this.deck = new ArrayList&lt;Card&gt;(allSuits.length * allRanks.length);\n        // These are for-each loop that loop over all possible suits and ranks\n        for (var suit : allSuits) {\n            for (var rank : allRanks) {\n                // add one card for each suit-rank combination\n                deck.add(new Card(suit, rank));\n            }\n        }\n    }\n\n    /**\n     * Shuffle the deck.\n     */\n    public void shuffle()    //shuffling the deck\n    {\n        Collections.shuffle(deck);\n    }\n\n    public Card drawTop()      //picking the first card out of the deck\n    {\n        // check if Deck is empty or not!\n        if(this.isEmpty()) return null;\n        // remove removes the card and returns the removed card\n        return deck.remove(0);\n    }\n\n    /**\n     * Checks if deck is empty i. e. no cards left in the deck.\n     * @return true, if no cards are left in deck, false otherwise\n     */\n    public boolean isEmpty(){\n        return deck.isEmpty();\n    }\n\n    /**\n     * Gets number of remaining cards in the deck. This is helpful for debugging purposes.\n     * @return number of remaining cards in the deck\n     */\n    public int getNoRemainingCars(){\n        return deck.size();\n    }\n\n    @Override\n    public String toString() {\n        return deck.toString();\n    }\n}\n</code></pre>\n<p>You are now able to call <code>var topCard = new Deck().drawTop()</code> and it will remove a card from the top of the deck and this card will be stored in <code>topCard</code>. You can just simply call <code>System.out.println(topCard)</code> or use <code>topCard.getRank()</code> and <code>topCard.getSuit()</code> to see which card was drawn. Remember with the rank you also will get the value of the card.</p>\n<p>See this <code>main</code> method on how you can now interact with all those classes.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n        // create the deck with all 52 cards\n        var deck = new Deck();\n        // print the deck\n        System.out.printf(&quot;Newly created deck: %s\\n&quot;, deck);\n        // shuffle the cards\n        deck.shuffle();\n        System.out.printf(&quot;Shuffled deck: %s\\n&quot;, deck);\n        // remove the first card\n        var dealtCard = deck.drawTop();\n        // print the car that was dealt\n        System.out.printf(&quot;Removed card: %s\\n&quot;, dealtCard);\n        // print info about that card\n        System.out.printf(&quot;The card that was removed from the deck is the %s of %s\\n&quot;, dealtCard.getRank(), dealtCard.getSuit());\n        // print deck again to show that the card is no longer in the deck\n        System.out.printf(&quot;The deck after a card was removed: %s\\n&quot;, deck);\n}\n</code></pre>\n<p>Expected output:</p>\n<pre><code>Newly created deck: [2-Spades, 3-Spades, 4-Spades, 5-Spades, 6-Spades, 7-Spades, 8-Spades, 9-Spades, 10-Spades, J-Spades, Q-Spades, K-Spades, A-Spades, 2-Hearts, 3-Hearts, 4-Hearts, 5-Hearts, 6-Hearts, 7-Hearts, 8-Hearts, 9-Hearts, 10-Hearts, J-Hearts, Q-Hearts, K-Hearts, A-Hearts, 2-Clubs, 3-Clubs, 4-Clubs, 5-Clubs, 6-Clubs, 7-Clubs, 8-Clubs, 9-Clubs, 10-Clubs, J-Clubs, Q-Clubs, K-Clubs, A-Clubs, 2-Diamonds, 3-Diamonds, 4-Diamonds, 5-Diamonds, 6-Diamonds, 7-Diamonds, 8-Diamonds, 9-Diamonds, 10-Diamonds, J-Diamonds, Q-Diamonds, K-Diamonds, A-Diamonds]\nShuffled deck: [6-Diamonds, 9-Hearts, Q-Diamonds, 2-Hearts, 7-Hearts, A-Clubs, J-Clubs, A-Hearts, 3-Clubs, 4-Hearts, 3-Hearts, Q-Clubs, 9-Clubs, 6-Hearts, K-Clubs, 8-Clubs, 2-Diamonds, J-Hearts, J-Spades, 4-Diamonds, A-Spades, 7-Clubs, 3-Diamonds, 4-Clubs, Q-Spades, 5-Spades, 5-Hearts, 10-Clubs, 2-Spades, 5-Clubs, K-Hearts, K-Diamonds, 4-Spades, A-Diamonds, 6-Spades, 9-Spades, 3-Spades, 10-Spades, 7-Diamonds, K-Spades, J-Diamonds, 7-Spades, 6-Clubs, 5-Diamonds, 8-Spades, 10-Diamonds, 9-Diamonds, Q-Hearts, 10-Hearts, 8-Hearts, 2-Clubs, 8-Diamonds]\nRemoved card: 6-Diamonds\nThe card that was removed from the deck is the 6 of Diamonds\nThe deck after a card was removed: [9-Hearts, Q-Diamonds, 2-Hearts, 7-Hearts, A-Clubs, J-Clubs, A-Hearts, 3-Clubs, 4-Hearts, 3-Hearts, Q-Clubs, 9-Clubs, 6-Hearts, K-Clubs, 8-Clubs, 2-Diamonds, J-Hearts, J-Spades, 4-Diamonds, A-Spades, 7-Clubs, 3-Diamonds, 4-Clubs, Q-Spades, 5-Spades, 5-Hearts, 10-Clubs, 2-Spades, 5-Clubs, K-Hearts, K-Diamonds, 4-Spades, A-Diamonds, 6-Spades, 9-Spades, 3-Spades, 10-Spades, 7-Diamonds, K-Spades, J-Diamonds, 7-Spades, 6-Clubs, 5-Diamonds, 8-Spades, 10-Diamonds, 9-Diamonds, Q-Hearts, 10-Hearts, 8-Hearts, 2-Clubs, 8-Diamonds]\n</code></pre>\n<h3>The next steps</h3>\n<p>Now, this is it as far as your first question goes. But as you are a beginner and you wanted some pointers I've decided to give you some pointers on what to do next and how you could do it :) I know it's quite a lot to take in, but I am sure you will get your head around it. In the next few sections, I will show you can you can actually draw cards from the deck and deal them to players.</p>\n<p>A few sentences ago I mentioned</p>\n<blockquote>\n<p>dealing in the real-world involves first drawing a card then giving it to a player, who then accepts that card and puts it in his hand</p>\n</blockquote>\n<p>The nouns in this sentence should be your next classes and the verbs should be your next methods. So that would be:</p>\n<ul>\n<li><code>Hand</code>\n<ul>\n<li>a collection of cards</li>\n<li>ability to add and remove cards from the hand</li>\n</ul>\n</li>\n<li><code>Player</code>\n<ul>\n<li>ability to accecpt a card an put it into his/ her hand</li>\n<li>should have a <code>Hand</code> which is again a collection of <code>Card</code>s</li>\n</ul>\n</li>\n<li><code>Croupier</code> (for the <em>dealing cards</em> part in the sentence)\n<ul>\n<li><strong>Croupier is a player</strong> and has additional properties and abilities</li>\n<li>needs a <code>Deck</code> of cards which he/ she can deal to players</li>\n<li>ability to draw a card from the <code>Deck</code> and deal it to a player</li>\n</ul>\n</li>\n</ul>\n<h4>Hand</h4>\n<p>A hand is a <code>set of cards</code> (I am using the Java data structure <a href=\"https://www.w3schools.com/java/java_hashset.asp\" rel=\"nofollow noreferrer\">HashSet</a> here) and there is a <code>total value</code> of all cards, so this should be the attributes. Additionally a <code>Hand</code> should allow to add and remove cards to it, this will be our methods. When adding and removing we need to adjust the <code>total value</code> of the hand accordingly.</p>\n<p><code>Hand.java</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>mport java.util.HashSet;\nimport java.util.Set;\n\npublic class Hand {\n    private final Set&lt;Card&gt; cards;\n    private int totalValue;\n\n    public Hand() {\n        this.cards = new HashSet&lt;&gt;();\n        this.totalValue = 0;\n    }\n\n    /**\n     * Add a card to the hand\n     * @param card card to be added\n     */\n    public void addCard(Card card){\n        // add card to hand\n        cards.add(card);\n        // increase total value by value of the card\n        totalValue += card.getRank().getValue();\n    }\n\n    public void removeCard(Suit suits, Rank rank){\n        var searchedCard = new Card(suits, rank);\n        // call other remove method which does the actual removal\n        removeCard(searchedCard);\n    }\n\n    public void removeCard(Card card){\n        // remove card if it is present\n        cards.remove(card);\n        // remove card from total value\n        totalValue -= card.getRank().getValue();\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Hand{&quot; +\n                &quot;cards=&quot; + cards +\n                &quot;, totalValue=&quot; + totalValue +\n                '}';\n    }\n}\n</code></pre>\n<h4>Player</h4>\n<p>Let's move on to the player. A player will have a <code>name</code> and a <code>Hand</code>. Additionally he/ she (a gender is also be possible if you want to assign one btw) should have the ability to accept a card and put it in their hand when a card is dealt to them. A player will also have other abilities like making a decision whether to take on another card or not and other stuff, but that is up to you to extend on that, I will just focus on how accepting/ receiving a card.</p>\n<p><code>Player.java</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Player {\n    // protected is a necessary access qualifier so subclasses of Player (Croupier will also have the property name and hand without specifically stating that, see Croupier.java) \n    protected String name;\n    protected Hand hand;\n\n    public Player(String name) {\n        this.name = name;\n        this.hand = new Hand();\n        System.out.printf(&quot;Player %s has joined the game.\\n&quot;, name);\n    }\n\n    /**\n     * Receive a card and add it to the hand\n     * @param card card to be received\n     */\n    public void receiveCard(Card card){\n        // add card to hand\n        hand.addCard(card);\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Player{&quot; +\n                &quot;name='&quot; + name + '\\'' +\n                &quot;, hand=&quot; + hand +\n                '}';\n    }\n\n    public String getName() {\n        return name;\n    }\n}\n</code></pre>\n<h4>Croupier</h4>\n<p>Now it gets interesting as a croupier is a player with all the abilities and properties of a player but he/ she also has more abilities and properties. To reflect that in Java we use a feature called <a href=\"https://www.w3schools.com/java/java_inheritance.asp\" rel=\"nofollow noreferrer\">inheritance</a>. So a <code>Croupier</code> has everything a <code>Player</code> has and more so it <code>extends</code> the <code>Player</code>. Inheritance will allow us to simply define that and we don't have to re-implement everything we have done for the <code>Player</code> again for the <code>Croupier</code>. So we only need to focus on the additional properties and abilities of a <code>Croupier</code> i. e. he/ she gets a deck of cards which he/ she can shuffle and deal to players. To shuffle we just use the <code>shuffle()</code> method of the <code>Deck</code>. To deal a card we use the <code>drawTop()</code> method of the <code>Deck</code>to draw a card from the deck (and get that card returned) and the <code>receiveCard()</code> method of the <code>Player</code> which we pass that drawn card to. This way the top card from the deck will be removed and added to the hand of the player. All this happens in the <code>dealCardTo()</code> method.</p>\n<p><code>Croupier.java</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Croupier extends Player as he/she is also a Player and should have the same possibilities as a player, but also has additional functionality.\n * Google for Java inheritence for more information\n */\npublic class Croupier extends Player{\n    private final Deck deck;\n\n    public Croupier(String name, Deck deck) {\n        // call constructor of superclass player\n        super(name);\n        this.deck = deck;\n    }\n\n    public void dealCardTo(Player player){\n        // get one card of the deck\n        var cardToDeal = deck.drawTop();\n        // deal the card to the player\n        player.receiveCard(cardToDeal);\n        System.out.printf(&quot;%s is dealing a card to %s.\\n&quot;, name, player.getName());\n    }\n\n    // this is just for demo purposes\n    public String showDeck(){\n        return deck.toString();\n    }\n\n    public void shuffleCards(){\n        deck.shuffle();\n        System.out.printf(&quot;Croupier %s has shuffled the cards.\\n&quot;, name);\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Croupier{&quot; +\n                &quot;name='&quot; + name + '\\'' +\n                &quot;, hand=&quot; + hand +\n                &quot;, deck=&quot; + deck +\n                '}';\n    }\n}\n</code></pre>\n<h4>Putting it all together</h4>\n<p>Now we have all necessary features to deal cards to players so here an quick example of how we would do that.</p>\n<p><code>Application.java</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Application {\n    public static void main(String[] args) {               \n        System.out.println(&quot;&quot;&quot;\n                +-------------------------------------------------------------------\n                | Example: Create players, a deck and deal 1 card to each player\n                +-------------------------------------------------------------------\n                &quot;&quot;&quot;);\n        // create two players, and the croupier\n        var john = new Player(&quot;John&quot;);\n        System.out.println(john);\n        var elton = new Player(&quot;Elton&quot;);\n        System.out.println(elton);\n        // create a croupier; a groupie is a player and deals cards, so give him a new deck of cards\n        var croupierTom = new Croupier(&quot;Tom&quot;, new Deck());\n        System.out.println(croupierTom);\n        // a list of all players\n        var allPlayers = new ArrayList&lt;Player&gt;();\n        allPlayers.add(john);\n        allPlayers.add(elton);\n        // remember a croupier is also a player because it is a subclass\n        allPlayers.add(croupierTom);\n        // let the croupier shuffle the cards\n        croupierTom.shuffleCards();\n        // tell croupier to deal one card to each player (including himself)\n        for (var player : allPlayers) {\n            croupierTom.dealCardTo(player);\n        }\n        // now let's see who got which cards\n        for (var player : allPlayers) {\n            System.out.println(player);\n        }\n    }\n}\n</code></pre>\n<p>Expected output:</p>\n<pre><code>+-------------------------------------------------------------------\n| Example: Create players, a deck and deal 1 card to each player\n+-------------------------------------------------------------------\n\nPlayer John has joined the game.\nPlayer{name='John', hand=Hand{cards=[], totalValue=0}}\nPlayer Elton has joined the game.\nPlayer{name='Elton', hand=Hand{cards=[], totalValue=0}}\nPlayer Tom has joined the game.\nCroupier{name='Tom', hand=Hand{cards=[], totalValue=0}, deck=[2-Spades, 3-Spades, 4-Spades, 5-Spades, 6-Spades, 7-Spades, 8-Spades, 9-Spades, 10-Spades, J-Spades, Q-Spades, K-Spades, A-Spades, 2-Hearts, 3-Hearts, 4-Hearts, 5-Hearts, 6-Hearts, 7-Hearts, 8-Hearts, 9-Hearts, 10-Hearts, J-Hearts, Q-Hearts, K-Hearts, A-Hearts, 2-Clubs, 3-Clubs, 4-Clubs, 5-Clubs, 6-Clubs, 7-Clubs, 8-Clubs, 9-Clubs, 10-Clubs, J-Clubs, Q-Clubs, K-Clubs, A-Clubs, 2-Diamonds, 3-Diamonds, 4-Diamonds, 5-Diamonds, 6-Diamonds, 7-Diamonds, 8-Diamonds, 9-Diamonds, 10-Diamonds, J-Diamonds, Q-Diamonds, K-Diamonds, A-Diamonds]}\nCroupier Tom has shuffled the cards.\nTom is dealing a card to John.\nTom is dealing a card to Elton.\nTom is dealing a card to Tom.\nPlayer{name='John', hand=Hand{cards=[7-Spades], totalValue=7}}\nPlayer{name='Elton', hand=Hand{cards=[4-Diamonds], totalValue=4}}\nCroupier{name='Tom', hand=Hand{cards=[2-Spades], totalValue=2}, deck=[8-Hearts, 5-Hearts, 9-Hearts, 3-Spades, Q-Hearts, 8-Clubs, 2-Diamonds, 6-Diamonds, 10-Hearts, 2-Hearts, 8-Spades, Q-Clubs, 2-Clubs, Q-Spades, 5-Diamonds, 5-Clubs, 7-Clubs, 4-Hearts, K-Spades, 3-Hearts, 9-Clubs, K-Clubs, Q-Diamonds, A-Clubs, 10-Spades, 4-Clubs, A-Spades, J-Diamonds, 10-Diamonds, 7-Diamonds, J-Hearts, A-Hearts, 5-Spades, A-Diamonds, 4-Spades, 7-Hearts, 6-Hearts, J-Clubs, 9-Diamonds, 6-Spades, J-Spades, 8-Diamonds, 10-Clubs, 6-Clubs, 3-Diamonds, K-Diamonds, 3-Clubs, 9-Spades, K-Hearts]}\n</code></pre>\n<blockquote>\n<p>Keep in mind that through shuffling your results will probably be slightly different but each player (including the croupier) should have one card in his/ her hand and the deck should have all those cards removed from it.</p>\n</blockquote>\n<h3>What to do next?</h3>\n<p>Now that should give you a good skeleton to implement the rest of the game. There is still a lot to do. The next thing should probably be to create a <code>Game</code> class which represents one game of BlackJack. Again start from the real-world and keep in mind that your design should be a model of that. Always think in terms of abilities (= methods) and properties (= attributes) an instance has. A <code>Game</code> will certainly have a collection of players, a croupier and the ability to start the game. Think about what should happen on the start of the game: The croupier will have to deal cards (we've seen how to do that already) but it won't be just one and there will be decisions being made by the players involved whether they would like to take on another card. And you will need to implement the rules of BlackJack as well as win conditions to determine a winner. You could also implement some stakes for the players and so on and so on.</p>\n<p>I hope this has helped you understand what and how you can start and what to do next :) Happy coding :)</p>\n<blockquote>\n<p>Disclaimer: My design is not a gold standard or anything like this, it's just one possible design, there might be other (better) designs. But it's one relatively simple yet powerful enough approach I think.</p>\n</blockquote>\n"}],"owner":{"account_id":24750761,"reputation":1,"user_id":18636302,"display_name":"Billiejean711 "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1092,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648730957,"creation_date":1648675965,"question_id":71684381,"body_markdown":"I am working on building a blackjack game for my first programming class. I have zero programming experience other than the bit I&#39;ve had in this class. Our major project is to build and run a blackjack program using java.\r\n\r\nI have built my deck, shuffled it and dealt a card. Where I am at a stand still is assigning a value to the card that was pulled. I am not sure how to implement this. Can anyone provide any direction for me? Any help would be greatly appreciated!\r\n\r\nBelow are my Card and Deck class:\r\n\r\n    public class Card\r\n    {\r\n    \tprivate int suit;\r\n    \tprivate int rank;\t\r\n    \tprivate int value;\r\n    \tprivate String [] suits = {&quot;Spades&quot;, &quot;Hearts&quot;, &quot;Clubs&quot;, &quot;Diamonds&quot;};\r\n    \tprivate String [] ranks = {&quot;Ace&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;, &quot;6&quot;, &quot;7&quot;, &quot;8&quot;, &quot;9&quot;, &quot;10&quot;, &quot;Jack&quot;, &quot;Queen&quot;, &quot;King&quot;};\r\n    \r\n    \tpublic Card (int cardSuit, int cardRank)\r\n    \t{\r\n    \t\tsuit = cardSuit;\r\n    \t\trank = cardRank;\r\n    \t}\r\n    \r\n    \tpublic int getSuit()\r\n    \t{\r\n    \t\treturn suit;\r\n    \t}\r\n    \r\n    \tpublic int getRank()\r\n    \t{\r\n    \t\treturn rank;\r\n    \t}\r\n    \r\n    \tpublic String toString()\r\n    \t{\r\n    \t\treturn ranks[rank] + &quot; of &quot; + suits[suit];\r\n    \t}\r\n    }\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.*;\r\n    \r\n    public class Deck\r\n    {\t\r\n    \tprivate ArrayList&lt;Card&gt; deck;\r\n    \tprivate int suitCounter;\r\n    \tprivate int rankCounter;\r\n    \tprivate int randomIndex;\r\n    \tprivate Card card;\r\n    \tprivate ArrayList&lt;Card&gt; temp;\r\n    \tprivate Card removeCard;\r\n    \r\n    \tpublic Deck()    //building deck with 52 cards\r\n    \t{\r\n    \t\tdeck = new ArrayList&lt;Card&gt;();\r\n    \t\t\r\n    \t\tfor(suitCounter = 0; suitCounter &lt; 4; suitCounter++)\r\n    \t\t{\r\n    \t\t\tfor(rankCounter = 0; rankCounter &lt; 13; rankCounter++)\r\n    \t\t\t{\r\n    \t\t\t\tdeck.add(new Card(suitCounter, rankCounter));\r\n    \t\t\t}\r\n    \t\t}\r\n    \t} \r\n    \t\r\n    \tpublic void shuffle()    //shuffling the deck\r\n    \t{\r\n    \t\tCollections.shuffle(deck);\r\n    \t}\r\n    \r\n    \tpublic Card deal()      //picking the first card out of the deck\r\n    \t{\r\n    \t\tcard = deck.get(0);\r\n    \t\treturn card;\r\n    \t}\r\n    \r\n    \tpublic void remove()     //removing the dealt card from the deck and putting it in a new  temporary deck\r\n    \t{\r\n    \t\ttemp = new ArrayList&lt;Card&gt;();\r\n    \r\n    \t\tremoveCard = deck.remove(0);\r\n    \t\ttemp.add(removeCard);\r\n    \t}\t\r\n    \t\r\n    \tpublic String toString()      //display the choosen card\r\n    \t{\r\n    \t\treturn &quot;Card: &quot; + card;\r\n    \t}\r\n    }\r\n     \r\n\r\nI do not have an official blackjackgame class with a main method as of yet. My hope was to get the deck built, deal a card and get the value and then I&#39;d start building the main method. But here is what I have to help to know if I printed out the card with a value or not.\r\n\r\n    public class Game\r\n    {\r\n    \tpublic static void main(String[] args)\r\n    \t{\t\r\n    \t\tDeck playingDeck = new Deck();      //creating deck object\r\n    \t\tplayingDeck.shuffle();              //shuffling deck\r\n    \t\tplayingDeck.deal();                 //dealing card 1 of player&#39;s hand\r\n    \t\tplayingDeck.remove();               //removing card 1 from deck \r\n    \t\tSystem.out.println(playingDeck);    //printing out card 1 \r\n    \t\tplayingDeck.deal();                 //dealing card 2 of player&#39;s hand\r\n    \t\tplayingDeck.remove();               //removing card 2 from deck \r\n    \t\tSystem.out.println(playingDeck);    //printing out card 2 \r\n    \t}\r\n\r\nThank you in advance!","title":"Assigning values to cards in a deck","body":"<p>I am working on building a blackjack game for my first programming class. I have zero programming experience other than the bit I've had in this class. Our major project is to build and run a blackjack program using java.</p>\n<p>I have built my deck, shuffled it and dealt a card. Where I am at a stand still is assigning a value to the card that was pulled. I am not sure how to implement this. Can anyone provide any direction for me? Any help would be greatly appreciated!</p>\n<p>Below are my Card and Deck class:</p>\n<pre><code>public class Card\n{\n    private int suit;\n    private int rank;   \n    private int value;\n    private String [] suits = {&quot;Spades&quot;, &quot;Hearts&quot;, &quot;Clubs&quot;, &quot;Diamonds&quot;};\n    private String [] ranks = {&quot;Ace&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;, &quot;6&quot;, &quot;7&quot;, &quot;8&quot;, &quot;9&quot;, &quot;10&quot;, &quot;Jack&quot;, &quot;Queen&quot;, &quot;King&quot;};\n\n    public Card (int cardSuit, int cardRank)\n    {\n        suit = cardSuit;\n        rank = cardRank;\n    }\n\n    public int getSuit()\n    {\n        return suit;\n    }\n\n    public int getRank()\n    {\n        return rank;\n    }\n\n    public String toString()\n    {\n        return ranks[rank] + &quot; of &quot; + suits[suit];\n    }\n}\n\nimport java.util.ArrayList;\nimport java.util.*;\n\npublic class Deck\n{   \n    private ArrayList&lt;Card&gt; deck;\n    private int suitCounter;\n    private int rankCounter;\n    private int randomIndex;\n    private Card card;\n    private ArrayList&lt;Card&gt; temp;\n    private Card removeCard;\n\n    public Deck()    //building deck with 52 cards\n    {\n        deck = new ArrayList&lt;Card&gt;();\n        \n        for(suitCounter = 0; suitCounter &lt; 4; suitCounter++)\n        {\n            for(rankCounter = 0; rankCounter &lt; 13; rankCounter++)\n            {\n                deck.add(new Card(suitCounter, rankCounter));\n            }\n        }\n    } \n    \n    public void shuffle()    //shuffling the deck\n    {\n        Collections.shuffle(deck);\n    }\n\n    public Card deal()      //picking the first card out of the deck\n    {\n        card = deck.get(0);\n        return card;\n    }\n\n    public void remove()     //removing the dealt card from the deck and putting it in a new  temporary deck\n    {\n        temp = new ArrayList&lt;Card&gt;();\n\n        removeCard = deck.remove(0);\n        temp.add(removeCard);\n    }   \n    \n    public String toString()      //display the choosen card\n    {\n        return &quot;Card: &quot; + card;\n    }\n}\n \n</code></pre>\n<p>I do not have an official blackjackgame class with a main method as of yet. My hope was to get the deck built, deal a card and get the value and then I'd start building the main method. But here is what I have to help to know if I printed out the card with a value or not.</p>\n<pre><code>public class Game\n{\n    public static void main(String[] args)\n    {   \n        Deck playingDeck = new Deck();      //creating deck object\n        playingDeck.shuffle();              //shuffling deck\n        playingDeck.deal();                 //dealing card 1 of player's hand\n        playingDeck.remove();               //removing card 1 from deck \n        System.out.println(playingDeck);    //printing out card 1 \n        playingDeck.deal();                 //dealing card 2 of player's hand\n        playingDeck.remove();               //removing card 2 from deck \n        System.out.println(playingDeck);    //printing out card 2 \n    }\n</code></pre>\n<p>Thank you in advance!</p>\n"},{"tags":["java","ajax","file","jsp","download"],"comments":[{"owner":{"account_id":9292714,"reputation":172,"user_id":6900675,"display_name":"Mark Brown"},"score":0,"creation_date":1648647576,"post_id":71677525,"comment_id":126677622,"body_markdown":"What debugging have you done so far?  Can you confirm that your logDownload method is called each time you click in your jsp application?  Have you debugged your jsp application to see if it is properly receiving the response from the controller?  How does your jsp application create a folder when you get the response?  If you could post some of your jsp application (the onClick and processResponse areas), that could help.","body":"What debugging have you done so far?  Can you confirm that your logDownload method is called each time you click in your jsp application?  Have you debugged your jsp application to see if it is properly receiving the response from the controller?  How does your jsp application create a folder when you get the response?  If you could post some of your jsp application (the onClick and processResponse areas), that could help."},{"owner":{"account_id":5193931,"reputation":419,"user_id":4155906,"accept_rate":31,"display_name":"Thejas"},"score":0,"creation_date":1648647642,"post_id":71677525,"comment_id":126677651,"body_markdown":"@MarkBrown Yes for each click the controller is getting invoked, Let m update the jsp part","body":"@MarkBrown Yes for each click the controller is getting invoked, Let m update the jsp part"},{"owner":{"account_id":9292714,"reputation":172,"user_id":6900675,"display_name":"Mark Brown"},"score":0,"creation_date":1648667705,"post_id":71677525,"comment_id":126685691,"body_markdown":"Thejas I don&#39;t see where you are saving the file in your jsp code.  Have you looked at: https://stackoverflow.com/questions/13405129/javascript-create-and-save-file","body":"Thejas I don&#39;t see where you are saving the file in your jsp code.  Have you looked at: <a href=\"https://stackoverflow.com/questions/13405129/javascript-create-and-save-file\" title=\"javascript create and save file\">stackoverflow.com/questions/13405129/&hellip;</a>"},{"owner":{"account_id":5193931,"reputation":419,"user_id":4155906,"accept_rate":31,"display_name":"Thejas"},"score":0,"creation_date":1648708239,"post_id":71677525,"comment_id":126694008,"body_markdown":"@MarkBrown for the second click the files gets downloaded to a folder","body":"@MarkBrown for the second click the files gets downloaded to a folder"}],"owner":{"account_id":5193931,"reputation":419,"user_id":4155906,"accept_rate":31,"display_name":"Thejas"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648730493,"creation_date":1648644469,"question_id":71677525,"body_markdown":"I am working on a jsp application and I have a download zip file feature\r\n\r\nI have done\r\n\r\n    \r\n   \r\n\r\n     @RequestMapping(value = {​​&quot;/retrieve&quot;}​​, method = RequestMethod.POST)\r\n        public void logDownload(@RequestBody ResponseDto responseDto, Model model, HttpServletResponse response) throws ServletException, IOException {​​\r\n        \r\n        Byte[] arraObj=downloadService.getdownloadFile();\r\n    response.setContentType(&quot;application/octate-stream&quot;);\r\n    response.setHeader(&quot;Content-Disposition&quot;,&quot;attachment;filename=user.zip&quot;, \r\n        response.getOutputStream().write(arraObj);\r\n        }\r\n\r\nI am making a ajax call for this controller \r\n\r\nJSP Side code\r\n\r\n    $.ajax({\r\n        type: &#39;POST&#39;,\r\n        url: &quot;${pageContext.request.contextPath}/retrieve&quot;,\r\n        headers: { &quot;X-CSRF-TOKEN&quot;: token },\r\n        contentType: &quot;application/json&quot;,\r\n        dataType: &#39;json&#39;,\r\n        data: JSON.stringify(retrieveDto),\r\n        success: function (res) {\r\n            window.location = &quot;${pageContext.request.contextPath}/result&quot;;\r\n    \r\n        },\r\n        error: function (e) {\r\n            // window.location=&quot;${pageContext.request.contextPath}/result&quot;;\r\n            console.log(&quot;There was an error with your request...&quot; + JSON.stringify(e));\r\n        }\r\n    \r\n    });\r\nI am unable to download the file\r\nCan someone tell me how to fix this issue\r\n","title":"File download for jsp application","body":"<p>I am working on a jsp application and I have a download zip file feature</p>\n<p>I have done</p>\n<pre><code> @RequestMapping(value = {​​&quot;/retrieve&quot;}​​, method = RequestMethod.POST)\n    public void logDownload(@RequestBody ResponseDto responseDto, Model model, HttpServletResponse response) throws ServletException, IOException {​​\n    \n    Byte[] arraObj=downloadService.getdownloadFile();\nresponse.setContentType(&quot;application/octate-stream&quot;);\nresponse.setHeader(&quot;Content-Disposition&quot;,&quot;attachment;filename=user.zip&quot;, \n    response.getOutputStream().write(arraObj);\n    }\n</code></pre>\n<p>I am making a ajax call for this controller</p>\n<p>JSP Side code</p>\n<pre><code>$.ajax({\n    type: 'POST',\n    url: &quot;${pageContext.request.contextPath}/retrieve&quot;,\n    headers: { &quot;X-CSRF-TOKEN&quot;: token },\n    contentType: &quot;application/json&quot;,\n    dataType: 'json',\n    data: JSON.stringify(retrieveDto),\n    success: function (res) {\n        window.location = &quot;${pageContext.request.contextPath}/result&quot;;\n\n    },\n    error: function (e) {\n        // window.location=&quot;${pageContext.request.contextPath}/result&quot;;\n        console.log(&quot;There was an error with your request...&quot; + JSON.stringify(e));\n    }\n\n});\n</code></pre>\n<p>I am unable to download the file\nCan someone tell me how to fix this issue</p>\n"},{"tags":["java","android","kotlin","android-fragments","android-activity"],"comments":[{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1648212709,"post_id":71617007,"comment_id":126573516,"body_markdown":"The &quot;right&quot; way (the one recommended by Android documentation) is to either write your own contract for ActivityResultLauncher, or to use the generic `StartActivityForResult()` contract. [Their very brief instructions are here.](https://developer.android.com/training/basics/intents/result#custom) Writing your own contract can be nice for encapsulating the code. You cannot practically communicate between activities using an interface. If the data you need to pass is complex, use Parcelables.","body":"The &quot;right&quot; way (the one recommended by Android documentation) is to either write your own contract for ActivityResultLauncher, or to use the generic <code>StartActivityForResult()</code> contract. <a href=\"https://developer.android.com/training/basics/intents/result#custom\" rel=\"nofollow noreferrer\">Their very brief instructions are here.</a> Writing your own contract can be nice for encapsulating the code. You cannot practically communicate between activities using an interface. If the data you need to pass is complex, use Parcelables."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1648721891,"post_id":71617007,"comment_id":126699006,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":10163497,"reputation":319,"user_id":9358737,"display_name":"Rupesh Rathore"},"score":0,"creation_date":1649837874,"post_id":71617007,"comment_id":126974215,"body_markdown":"you can create public method with param in fragment and access this method in ActivityResultLauncher with the help of fragment instance and pass data to this method. Or you can use LiveData with MVVM.","body":"you can create public method with param in fragment and access this method in ActivityResultLauncher with the help of fragment instance and pass data to this method. Or you can use LiveData with MVVM."}],"owner":{"account_id":13052782,"reputation":51,"user_id":9432542,"display_name":"Shubham Vyas"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648730238,"creation_date":1648211219,"question_id":71617007,"body_markdown":"I want to choose contact via Intent. But what I want to do is there is button on Activity through I will startActivityOnResult() and want to get that contact inside the fragment available on the same activity. Is there any way I can do this?\r\n\r\n**NOTE : I am using ActivityResultLauncher\\&lt;Intent\\&gt; because startActivityOnResult() is deprecated.**\r\n\r\nI have tried to send data through the interface but My mentor didn&#39;t think it is the right way to do so and I can&#39;t think any other way I can do that","title":"How Can I call startActivityForResult() from activity and get data inside Fragment?","body":"<p>I want to choose contact via Intent. But what I want to do is there is button on Activity through I will startActivityOnResult() and want to get that contact inside the fragment available on the same activity. Is there any way I can do this?</p>\n<p><strong>NOTE : I am using ActivityResultLauncher&lt;Intent&gt; because startActivityOnResult() is deprecated.</strong></p>\n<p>I have tried to send data through the interface but My mentor didn't think it is the right way to do so and I can't think any other way I can do that</p>\n"},{"tags":["java","spring-boot","junit","mockito","resttemplate"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1603376319,"post_id":64484138,"comment_id":114022935,"body_markdown":"A [the 100% test fallacy](https://duckduckgo.com/?q=100%25+test+fallacy&amp;t=h_&amp;ia=web). Those are different tests so don&#39;t try to write 1 test for this and also push back on the 100% test coverage as 100% coverage doesn&#39;t make sense.","body":"A <a href=\"https://duckduckgo.com/?q=100%25+test+fallacy&amp;t=h_&amp;ia=web\" rel=\"nofollow noreferrer\">the 100% test fallacy</a>. Those are different tests so don&#39;t try to write 1 test for this and also push back on the 100% test coverage as 100% coverage doesn&#39;t make sense."},{"owner":{"account_id":10496592,"reputation":3058,"user_id":7736617,"display_name":"Arnaud Claudel"},"score":0,"creation_date":1603376595,"post_id":64484138,"comment_id":114023098,"body_markdown":"It sounds a bit overkill indeed, especially if you&#39;re just rethrowing a generic exception saying &quot;an error occured&quot;. --- Add test cases for HTTP code where you actually care about the value, that is where you&#39;ll do something specific to the code / set of codes. --- But if you just want to rethrow an error, then just write a test saying that it will fail if the status code is not OK. Use 2-3 different values to document the fact that it covers any 4XX 5XX but that&#39;s it. --- You could parameterize the test with all the possible status codes, that would be more damaging imo.","body":"It sounds a bit overkill indeed, especially if you&#39;re just rethrowing a generic exception saying &quot;an error occured&quot;. --- Add test cases for HTTP code where you actually care about the value, that is where you&#39;ll do something specific to the code / set of codes. --- But if you just want to rethrow an error, then just write a test saying that it will fail if the status code is not OK. Use 2-3 different values to document the fact that it covers any 4XX 5XX but that&#39;s it. --- You could parameterize the test with all the possible status codes, that would be more damaging imo."}],"answers":[{"tags":[],"owner":{"account_id":15964481,"reputation":1,"user_id":11520563,"display_name":"Сергей Федоров"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1648729752,"creation_date":1634130764,"answer_id":69556218,"question_id":64484138,"body_markdown":"    &lt;...&gt;\r\n    .andExpect(MockMvcResultMatchers.status().is5xxServerError());\r\n\r\nIf you use &quot;withStatus&quot;, you&#39;re only check that one (504: BAD_GATEWAY in your case). You need methods like is1xxInformational, is2xxSuccessful, is3xxRedirection and so on, the whole list is [here][1].\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/4.0.2.RELEASE_to_4.0.3.RELEASE/Spring%20Framework%204.0.3.RELEASE/org/springframework/http/HttpStatus.html#is1xxInformational--","title":"is there a way to test all 5XX or 4XX codes with Mockito?","body":"<pre><code>&lt;...&gt;\n.andExpect(MockMvcResultMatchers.status().is5xxServerError());\n</code></pre>\n<p>If you use &quot;withStatus&quot;, you're only check that one (504: BAD_GATEWAY in your case). You need methods like is1xxInformational, is2xxSuccessful, is3xxRedirection and so on, the whole list is <a href=\"https://docs.spring.io/spring-framework/docs/4.0.2.RELEASE_to_4.0.3.RELEASE/Spring%20Framework%204.0.3.RELEASE/org/springframework/http/HttpStatus.html#is1xxInformational--\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":11622470,"reputation":23,"user_id":8513351,"display_name":"Juanbg.dev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":575,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648729752,"creation_date":1603375985,"question_id":64484138,"body_markdown":"Hi everyone I&#39;m working in a microservice which has dependency in another ones. I&#39;m handling the rest consumption with `Restemplate` and everything its okay with that but  I also need get a 100% on sonar test coverage. \r\n\r\nOn test stuff I&#39;d like to cover any possibility of 4XX or 5XX code to be sure of the behavior of my app. This is the code of one of my tests: \r\n\r\n    @Test\r\n    @DisplayName(&quot;GetAfiliations: 5XX Exception&quot;)\r\n    void getAfiliationsWithError5XX() throws IOException, InternalException {\r\n\r\n        ContainerGetExternalAfiliations containerGetExternalAfiliationscontainerGetExternalAfiliations = mapper.readValue(getClass().getClassLoader().getResourceAsStream(&quot;jsons/afiliacion.json&quot;)\r\n                , ContainerGetExternalAfiliations.class);\r\n\r\n        RequestGetAfiliations req = new RequestGetAfiliations();\r\n        req.setDate(LocalDate.now());\r\n\r\n        String requestString = mapper.writeValueAsString(req);\r\n\r\n        this.server\r\n                .expect(ExpectedCount.once(), requestTo(URL_GET_AFILIATION))\r\n                .andExpect(method(HttpMethod.POST))\r\n                .andExpect(content().contentType(MediaType.APPLICATION_JSON))\r\n                .andExpect(content().json(requestString))\r\n                .andRespond(withStatus(HttpStatus.BAD_GATEWAY));\r\n\r\n\r\n\r\n        Throwable exceptionThatWasThrown = assertThrows(InternalException.class, () -&gt; afiliationsBO.getAfiliations(&quot;UID&quot;));\r\n        assertTrue(exceptionThatWasThrown.getMessage().contains(&quot;Error handlig external service&quot;));\r\n\r\n        this.server.verify();\r\n    }\r\n\r\n\r\nas you can see in the test above I&#39;m only handling a 502 http error but if i&#39;d like to test 500 I&#39;ll need another test and for 503 one more and so on.\r\n\r\nAnyone knows a way to test every 5XX or 4XX in only one test?\r\n\r\nThanks so much for reading me. ","title":"is there a way to test all 5XX or 4XX codes with Mockito?","body":"<p>Hi everyone I'm working in a microservice which has dependency in another ones. I'm handling the rest consumption with <code>Restemplate</code> and everything its okay with that but  I also need get a 100% on sonar test coverage.</p>\n<p>On test stuff I'd like to cover any possibility of 4XX or 5XX code to be sure of the behavior of my app. This is the code of one of my tests:</p>\n<pre><code>@Test\n@DisplayName(&quot;GetAfiliations: 5XX Exception&quot;)\nvoid getAfiliationsWithError5XX() throws IOException, InternalException {\n\n    ContainerGetExternalAfiliations containerGetExternalAfiliationscontainerGetExternalAfiliations = mapper.readValue(getClass().getClassLoader().getResourceAsStream(&quot;jsons/afiliacion.json&quot;)\n            , ContainerGetExternalAfiliations.class);\n\n    RequestGetAfiliations req = new RequestGetAfiliations();\n    req.setDate(LocalDate.now());\n\n    String requestString = mapper.writeValueAsString(req);\n\n    this.server\n            .expect(ExpectedCount.once(), requestTo(URL_GET_AFILIATION))\n            .andExpect(method(HttpMethod.POST))\n            .andExpect(content().contentType(MediaType.APPLICATION_JSON))\n            .andExpect(content().json(requestString))\n            .andRespond(withStatus(HttpStatus.BAD_GATEWAY));\n\n\n\n    Throwable exceptionThatWasThrown = assertThrows(InternalException.class, () -&gt; afiliationsBO.getAfiliations(&quot;UID&quot;));\n    assertTrue(exceptionThatWasThrown.getMessage().contains(&quot;Error handlig external service&quot;));\n\n    this.server.verify();\n}\n</code></pre>\n<p>as you can see in the test above I'm only handling a 502 http error but if i'd like to test 500 I'll need another test and for 503 one more and so on.</p>\n<p>Anyone knows a way to test every 5XX or 4XX in only one test?</p>\n<p>Thanks so much for reading me.</p>\n"},{"tags":["java","log4j","syslog","rsyslog"],"answers":[{"tags":[],"owner":{"account_id":10241602,"reputation":626,"user_id":7558856,"display_name":"eDonkey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648729691,"creation_date":1648710408,"answer_id":71688250,"question_id":21900064,"body_markdown":"As this question was asked 8 years ago, i&#39;m not going to bother to answer this specific question, but try to make it easier for anyone coming across this post just now.\r\n\r\n\r\n----------\r\n\r\n\r\nAs of `rsyslog` version `8.10`, they added the ability to use the `imfile` module to process multi-line messages from a text file. The `imfile` module enables rsyslog to convert any text file into a stream of syslog messages. You can include a `startmsg.regex` parameter that defines a regex pattern that rsyslog will recognize as the beginning of a new log entry. If rsyslog detects the pattern, it will aggregate all subsequent log entries into the same event until it finds another matching line.\r\n\r\nBy default, rsyslog can send and receive log messages up to **8 KB**. Multi-line messages can potentially be much larger than this. In order to make sure rsyslog properly handles large multi-line messages, you can increase the maximum message size to **64 KB** by adding the following to the (very) top of your `rsyslog.conf`\r\n\r\n    $MaxMessageSize 64k\r\n\r\nTo add the `imfile` module, append the following:\r\n\r\n    module(load=&quot;imfile&quot; mode=&quot;inotify&quot;)\r\n\r\n&gt; Traditionally, `imfile` used **polling** mode, which is much more resource-intense (and slower) than **inotify** mode. It is suggested that users turn on “**polling**” mode only if they experience strange problems in inotify mode.\r\n\r\nAfter that, define the file, as well as the regex, which you want to import the log messages from.\r\n\r\n    input(type=&quot;imfile&quot; File=&quot;/var/log/local0.log&quot; \r\n        startmsg.regex=&quot;^[0-9]{4}-[0-9]{2}-[0-9]{2}&quot;)\r\n\r\nAfter that you can redirect the input as desired, e.g.\r\n\r\n    # Local \r\n    action(type=&quot;omfile&quot; file=&quot;/var/log/processed/local0.log&quot;)\r\n\r\n    # Syslog over UDP\r\n    action(type=&quot;omfwd&quot; target=&quot;192.168.0.1&quot; Port=&quot;514&quot; Protocol=&quot;udp&quot;)\r\n\r\n\r\nIf you want to do this with multiple files or you want to aggregate the input to one file, it&#39;s (probably) for the best, if you create a `ruleset`. For more information see the [rsyslog documentation](https://www.rsyslog.com/doc/master/concepts/multi_ruleset.html).\r\n\r\n\r\n----------\r\n\r\n\r\n**Note:**\r\nThis regex was working for my specific use-case. It depends on the `template` you&#39;re using; this should work if you&#39;re not providing a template and therefore are using the standard syslog format.\r\n\r\nIf this should not be the case, then analyze your logs and create an expression that fits your use-case. ","title":"How to consolidate Multiline logs in syslog","body":"<p>As this question was asked 8 years ago, i'm not going to bother to answer this specific question, but try to make it easier for anyone coming across this post just now.</p>\n<hr />\n<p>As of <code>rsyslog</code> version <code>8.10</code>, they added the ability to use the <code>imfile</code> module to process multi-line messages from a text file. The <code>imfile</code> module enables rsyslog to convert any text file into a stream of syslog messages. You can include a <code>startmsg.regex</code> parameter that defines a regex pattern that rsyslog will recognize as the beginning of a new log entry. If rsyslog detects the pattern, it will aggregate all subsequent log entries into the same event until it finds another matching line.</p>\n<p>By default, rsyslog can send and receive log messages up to <strong>8 KB</strong>. Multi-line messages can potentially be much larger than this. In order to make sure rsyslog properly handles large multi-line messages, you can increase the maximum message size to <strong>64 KB</strong> by adding the following to the (very) top of your <code>rsyslog.conf</code></p>\n<pre><code>$MaxMessageSize 64k\n</code></pre>\n<p>To add the <code>imfile</code> module, append the following:</p>\n<pre><code>module(load=&quot;imfile&quot; mode=&quot;inotify&quot;)\n</code></pre>\n<blockquote>\n<p>Traditionally, <code>imfile</code> used <strong>polling</strong> mode, which is much more resource-intense (and slower) than <strong>inotify</strong> mode. It is suggested that users turn on “<strong>polling</strong>” mode only if they experience strange problems in inotify mode.</p>\n</blockquote>\n<p>After that, define the file, as well as the regex, which you want to import the log messages from.</p>\n<pre><code>input(type=&quot;imfile&quot; File=&quot;/var/log/local0.log&quot; \n    startmsg.regex=&quot;^[0-9]{4}-[0-9]{2}-[0-9]{2}&quot;)\n</code></pre>\n<p>After that you can redirect the input as desired, e.g.</p>\n<pre><code># Local \naction(type=&quot;omfile&quot; file=&quot;/var/log/processed/local0.log&quot;)\n\n# Syslog over UDP\naction(type=&quot;omfwd&quot; target=&quot;192.168.0.1&quot; Port=&quot;514&quot; Protocol=&quot;udp&quot;)\n</code></pre>\n<p>If you want to do this with multiple files or you want to aggregate the input to one file, it's (probably) for the best, if you create a <code>ruleset</code>. For more information see the <a href=\"https://www.rsyslog.com/doc/master/concepts/multi_ruleset.html\" rel=\"nofollow noreferrer\">rsyslog documentation</a>.</p>\n<hr />\n<p><strong>Note:</strong>\nThis regex was working for my specific use-case. It depends on the <code>template</code> you're using; this should work if you're not providing a template and therefore are using the standard syslog format.</p>\n<p>If this should not be the case, then analyze your logs and create an expression that fits your use-case.</p>\n"}],"owner":{"account_id":2307840,"reputation":309,"user_id":2026729,"accept_rate":54,"display_name":"White Roses"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1591,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":1,"score":7,"last_activity_date":1648729691,"creation_date":1392878110,"question_id":21900064,"body_markdown":"\r\n I am feeding my `var/log/message` using `rsyslog` from a tool. The exception appears in multiple lines (on line per message) rather than logging it as one **multi-line** message. \r\n\r\nI would like my `/var/log/message` to look like the `catalina.out` message. Is there any way I can achieve this?\r\n\r\nThe `catalina.out` with one multi-line message:\r\n\r\n\tat java.lang.reflect.Method.invoke(Unknown Source)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:183)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:150)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:96)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:260)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:94)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\r\n\r\n\r\nThe `var/log/message` which is splitted into multiple messages:\r\n\r\n\r\n    2014-02-20T06:21:32.006782+00:00 something148-084-115 at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)\r\n    2014-02-20T06:21:32.006782+00:00 something148-084-115 at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:183)\r\n    2014-02-20T06:21:32.006784+00:00 something148-084-115 at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:150)\r\n    2014-02-20T06:21:32.006784+00:00 something148-084-115 at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:96)\r\n    2014-02-20T06:21:32.006786+00:00 something148-084-115 at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:260)\r\n\r\n\r\n\r\nThe `log4j.xml` config:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\r\n    &lt;!DOCTYPE log4j:configuration SYSTEM &quot;log4j.dtd&quot;&gt;\r\n\r\n    &lt;log4j:configuration xmlns:log4j=&quot;http://jakarta.apache.org/log4j/&quot;&gt;\r\n       &lt;appender name=&quot;console&quot; class=&quot;org.apache.log4j.ConsoleAppender&quot;&gt;\r\n          &lt;param name=&quot;Target&quot; value=&quot;System.out&quot; /&gt;\r\n          &lt;layout class=&quot;org.apache.log4j.PatternLayout&quot;&gt;\r\n            &lt;param name=&quot;ConversionPattern&quot; value=&quot;%d{ISO8601} abc: [component=&amp;quot;XYZ&amp;quot; priority=&amp;quot;%p&amp;quot; thread=&amp;quot;%t&amp;quot;] %c.%M:%L - %m%n&quot; /&gt;\r\n          &lt;/layout&gt;\r\n       &lt;/appender&gt;\r\n       &lt;appender name=&quot;syslog&quot; class=&quot;org.apache.log4j.net.SyslogAppender&quot;&gt;\r\n          &lt;param name=&quot;syslogHost&quot; value=&quot;localhost&quot; /&gt;\r\n          &lt;param name=&quot;threshold&quot; value=&quot;INFO&quot; /&gt;\r\n          &lt;param name=&quot;facility&quot; value=&quot;LOCAL0&quot; /&gt;\r\n          &lt;param name=&quot;facilityPrinting&quot; value=&quot;false&quot; /&gt;\r\n          &lt;layout class=&quot;org.apache.log4j.PatternLayout&quot;&gt;\r\n             &lt;param name=&quot;ConversionPattern&quot; value=&quot;abc: [component=&amp;quot;XYZ&amp;quot; priority=&amp;quot;%p&amp;quot; thread=&amp;quot;%t&amp;quot;] %c.%M:%L - %m%n&quot; /&gt;\r\n          &lt;/layout&gt;\r\n       &lt;/appender&gt;\r\n       &lt;root&gt;\r\n          &lt;priority value=&quot;info&quot; /&gt;\r\n          &lt;appender-ref ref=&quot;console&quot; /&gt;\r\n          &lt;appender-ref ref=&quot;syslog&quot; /&gt;\r\n        &lt;/root&gt;\r\n        &lt;logger name=&quot;org.springframework&quot;&gt;\r\n          &lt;level value=&quot;warn&quot; /&gt;\r\n        &lt;/logger&gt;\r\n        &lt;logger name=&quot;org.hibernate&quot;&gt;\r\n           &lt;level value=&quot;warn&quot; /&gt;\r\n        &lt;/logger&gt;\r\n    &lt;/log4j:configuration&gt;","title":"How to consolidate Multiline logs in syslog","body":"<p>I am feeding my <code>var/log/message</code> using <code>rsyslog</code> from a tool. The exception appears in multiple lines (on line per message) rather than logging it as one <strong>multi-line</strong> message.</p>\n<p>I would like my <code>/var/log/message</code> to look like the <code>catalina.out</code> message. Is there any way I can achieve this?</p>\n<p>The <code>catalina.out</code> with one multi-line message:</p>\n<pre><code>at java.lang.reflect.Method.invoke(Unknown Source)\nat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:183)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:150)\nat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:96)\nat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:260)\nat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:94)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\n</code></pre>\n<p>The <code>var/log/message</code> which is splitted into multiple messages:</p>\n<pre><code>2014-02-20T06:21:32.006782+00:00 something148-084-115 at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)\n2014-02-20T06:21:32.006782+00:00 something148-084-115 at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:183)\n2014-02-20T06:21:32.006784+00:00 something148-084-115 at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:150)\n2014-02-20T06:21:32.006784+00:00 something148-084-115 at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:96)\n2014-02-20T06:21:32.006786+00:00 something148-084-115 at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:260)\n</code></pre>\n<p>The <code>log4j.xml</code> config:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\n&lt;!DOCTYPE log4j:configuration SYSTEM &quot;log4j.dtd&quot;&gt;\n\n&lt;log4j:configuration xmlns:log4j=&quot;http://jakarta.apache.org/log4j/&quot;&gt;\n   &lt;appender name=&quot;console&quot; class=&quot;org.apache.log4j.ConsoleAppender&quot;&gt;\n      &lt;param name=&quot;Target&quot; value=&quot;System.out&quot; /&gt;\n      &lt;layout class=&quot;org.apache.log4j.PatternLayout&quot;&gt;\n        &lt;param name=&quot;ConversionPattern&quot; value=&quot;%d{ISO8601} abc: [component=&amp;quot;XYZ&amp;quot; priority=&amp;quot;%p&amp;quot; thread=&amp;quot;%t&amp;quot;] %c.%M:%L - %m%n&quot; /&gt;\n      &lt;/layout&gt;\n   &lt;/appender&gt;\n   &lt;appender name=&quot;syslog&quot; class=&quot;org.apache.log4j.net.SyslogAppender&quot;&gt;\n      &lt;param name=&quot;syslogHost&quot; value=&quot;localhost&quot; /&gt;\n      &lt;param name=&quot;threshold&quot; value=&quot;INFO&quot; /&gt;\n      &lt;param name=&quot;facility&quot; value=&quot;LOCAL0&quot; /&gt;\n      &lt;param name=&quot;facilityPrinting&quot; value=&quot;false&quot; /&gt;\n      &lt;layout class=&quot;org.apache.log4j.PatternLayout&quot;&gt;\n         &lt;param name=&quot;ConversionPattern&quot; value=&quot;abc: [component=&amp;quot;XYZ&amp;quot; priority=&amp;quot;%p&amp;quot; thread=&amp;quot;%t&amp;quot;] %c.%M:%L - %m%n&quot; /&gt;\n      &lt;/layout&gt;\n   &lt;/appender&gt;\n   &lt;root&gt;\n      &lt;priority value=&quot;info&quot; /&gt;\n      &lt;appender-ref ref=&quot;console&quot; /&gt;\n      &lt;appender-ref ref=&quot;syslog&quot; /&gt;\n    &lt;/root&gt;\n    &lt;logger name=&quot;org.springframework&quot;&gt;\n      &lt;level value=&quot;warn&quot; /&gt;\n    &lt;/logger&gt;\n    &lt;logger name=&quot;org.hibernate&quot;&gt;\n       &lt;level value=&quot;warn&quot; /&gt;\n    &lt;/logger&gt;\n&lt;/log4j:configuration&gt;\n</code></pre>\n"},{"tags":["java","sql","jdbc","resultset"],"comments":[{"owner":{"account_id":3352721,"reputation":1057,"user_id":2816429,"display_name":"HariHaravelan"},"score":0,"creation_date":1648722255,"post_id":71690625,"comment_id":126699129,"body_markdown":"returning `ResultSet` could lead to resource leaks, it is better to handle them in one place and close it.\nYou can create custom class similar ti the `ResultSet` results and assign it here","body":"returning <code>ResultSet</code> could lead to resource leaks, it is better to handle them in one place and close it. You can create custom class similar ti the <code>ResultSet</code> results and assign it here"},{"owner":{"account_id":1726806,"reputation":13951,"user_id":4790924,"accept_rate":67,"display_name":"Sharon Ben Asher"},"score":1,"creation_date":1648722346,"post_id":71690625,"comment_id":126699156,"body_markdown":"you can try `rslt.gotObject()`","body":"you can try <code>rslt.gotObject()</code>"},{"owner":{"account_id":24642786,"reputation":47,"user_id":18540793,"display_name":"rudeus123"},"score":0,"creation_date":1648722357,"post_id":71690625,"comment_id":126699160,"body_markdown":"but how can I return a class similar to the ResultSet without knowing the content of my sql Table ?","body":"but how can I return a class similar to the ResultSet without knowing the content of my sql Table ?"},{"owner":{"account_id":5075886,"reputation":237,"user_id":4073249,"display_name":"Alper Derya"},"score":0,"creation_date":1648722647,"post_id":71690625,"comment_id":126699289,"body_markdown":"Does this answer your question? [Java - Can&#39;t use ResultSet after connection close](https://stackoverflow.com/questions/25493837/java-cant-use-resultset-after-connection-close)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/25493837/java-cant-use-resultset-after-connection-close\">Java - Can&#39;t use ResultSet after connection close</a>"}],"answers":[{"tags":[],"owner":{"account_id":2016713,"reputation":26480,"user_id":1803853,"accept_rate":71,"display_name":"Davide Lorenzo MARINO"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648722931,"creation_date":1648722931,"answer_id":71691022,"question_id":71690625,"body_markdown":"**You can&#39;t access the `ResultSet` if you** already **closed the connection**.\r\nSo you need to pass your converter as parameter of the QueryGetter method.\r\n\r\nYou need to define a `Converter` interface (you can also define generics to have a better code)\r\n\r\n    public interface Converter {\r\n        public Object from(ResultSet rs);\r\n    }\r\n\r\nand change the `QueryGetter` method to get this `Converter` as a parameter and retrieving a `List` of objects instead of a `ResultSet`.\r\nSomething like:\r\n\r\n \r\n\r\n      // Pass the converter as parameter\r\n       // I also changed the name of the method in lowercase that is better practice\r\n       public static List&lt;Object&gt; queryGetter(String query, Converter converter) {\r\n            // Creates the list\r\n            List list = new ArrayList(); \r\n            Connection connection = null;\r\n            ResultSet rslt = null;\r\n            try {\r\n                Class.forName(driverName);\r\n                connection = DriverManager.getConnection(url + &quot;:&quot; + port + &quot;/&quot; + dbName, \r\n                                                         username, password);\r\n                Statement statement = connection.createStatement();\r\n                rslt = statement.executeQuery(query);\r\n                // Loop through the result set\r\n                while (rslt.next()) {\r\n                    // Convert the current record to an object\r\n                    Object record = convert.from(rslt);\r\n                    // Add it to the list\r\n                    list.add(record);\r\n                }\r\n            } catch (SQLException e) {\r\n                System.out.println(e);\r\n            } catch (ClassNotFoundException ex) {\r\n                Logger.getLogger(QueriesRunner.class.getName()).log(Level.SEVERE, null, ex);\r\n            } finally {\r\n                try {\r\n                    connection.close();\r\n                } catch (SQLException ex) {\r\n                    System.out.println(ex);\r\n                }\r\n            }\r\n            return list;   // Return a list\r\n        }\r\n\r\nNote that this is a very similar approach that has been used by spring jdbc using `JdbcTemplate` and [`NamedParameterJdbcTemplate`][1] classes, for example in the method `query` where `Convert` is named `RowMapper` in spring jdbc, but does pratically the same.\r\n\r\n&gt; Query given SQL to create a prepared statement from SQL, mapping each row to a Java object via a RowMapper.\r\n\r\nSo my tip is: if this is not only for studying purpose **don&#39;t reinvent the wheel** and **use existing code**.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate.html#query-java.lang.String-org.springframework.jdbc.core.RowMapper-\r\n","title":"Make ResultSet as a result of a generic function QueryRunner in Java and JDBC","body":"<p><strong>You can't access the <code>ResultSet</code> if you</strong> already <strong>closed the connection</strong>.\nSo you need to pass your converter as parameter of the QueryGetter method.</p>\n<p>You need to define a <code>Converter</code> interface (you can also define generics to have a better code)</p>\n<pre><code>public interface Converter {\n    public Object from(ResultSet rs);\n}\n</code></pre>\n<p>and change the <code>QueryGetter</code> method to get this <code>Converter</code> as a parameter and retrieving a <code>List</code> of objects instead of a <code>ResultSet</code>.\nSomething like:</p>\n<pre><code>  // Pass the converter as parameter\n   // I also changed the name of the method in lowercase that is better practice\n   public static List&lt;Object&gt; queryGetter(String query, Converter converter) {\n        // Creates the list\n        List list = new ArrayList(); \n        Connection connection = null;\n        ResultSet rslt = null;\n        try {\n            Class.forName(driverName);\n            connection = DriverManager.getConnection(url + &quot;:&quot; + port + &quot;/&quot; + dbName, \n                                                     username, password);\n            Statement statement = connection.createStatement();\n            rslt = statement.executeQuery(query);\n            // Loop through the result set\n            while (rslt.next()) {\n                // Convert the current record to an object\n                Object record = convert.from(rslt);\n                // Add it to the list\n                list.add(record);\n            }\n        } catch (SQLException e) {\n            System.out.println(e);\n        } catch (ClassNotFoundException ex) {\n            Logger.getLogger(QueriesRunner.class.getName()).log(Level.SEVERE, null, ex);\n        } finally {\n            try {\n                connection.close();\n            } catch (SQLException ex) {\n                System.out.println(ex);\n            }\n        }\n        return list;   // Return a list\n    }\n</code></pre>\n<p>Note that this is a very similar approach that has been used by spring jdbc using <code>JdbcTemplate</code> and <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate.html#query-java.lang.String-org.springframework.jdbc.core.RowMapper-\" rel=\"nofollow noreferrer\"><code>NamedParameterJdbcTemplate</code></a> classes, for example in the method <code>query</code> where <code>Convert</code> is named <code>RowMapper</code> in spring jdbc, but does pratically the same.</p>\n<blockquote>\n<p>Query given SQL to create a prepared statement from SQL, mapping each row to a Java object via a RowMapper.</p>\n</blockquote>\n<p>So my tip is: if this is not only for studying purpose <strong>don't reinvent the wheel</strong> and <strong>use existing code</strong>.</p>\n"}],"owner":{"account_id":24642786,"reputation":47,"user_id":18540793,"display_name":"rudeus123"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":384,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648729578,"creation_date":1648721184,"question_id":71690625,"body_markdown":"I have a function ```QueryRunner``` that takes a query, runs it and returns the result.\r\n\r\n```java\r\npublic static ResultSet QueryGetter(String query) {\r\n    Connection connection = null;\r\n    ResultSet rslt = null;\r\n    try {\r\n        Class.forName(driverName);\r\n        connection = DriverManager.getConnection(url + &quot;:&quot; + port + &quot;/&quot; + dbName, \r\n                                                 username, password);\r\n        Statement statement = connection.createStatement();\r\n        rslt = statement.executeQuery(query);\r\n    } catch (SQLException e) {\r\n        System.out.println(e);\r\n    } catch (ClassNotFoundException ex) {\r\n        Logger.getLogger(QueriesRunner.class.getName()).log(Level.SEVERE, null, ex);\r\n    } finally {\r\n        try {\r\n            connection.close();\r\n        } catch (SQLException ex) {\r\n            System.out.println(ex);\r\n        }\r\n    }\r\n    return rslt;\r\n```\r\n\r\nHowever, when I use it to run a query, I get _&quot;Operation not allowed after ResultSet closed&quot;_. It is because I close the connection.\r\n\r\nHow can I modify the return signature of my function to make it work?\r\n\r\nI tried using a ```List```, but the thing is that I have to distinguish between ```int``` and ```String``` by using ```rslt.getString()```.\r\n\r\nI don&#39;t want to do that. I want to return the content of the ResultSet regardless of the type of the object in the SQL table (int, date, String ...). I will then process the content later, in another function.","title":"Make ResultSet as a result of a generic function QueryRunner in Java and JDBC","body":"<p>I have a function <code>QueryRunner</code> that takes a query, runs it and returns the result.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static ResultSet QueryGetter(String query) {\n    Connection connection = null;\n    ResultSet rslt = null;\n    try {\n        Class.forName(driverName);\n        connection = DriverManager.getConnection(url + &quot;:&quot; + port + &quot;/&quot; + dbName, \n                                                 username, password);\n        Statement statement = connection.createStatement();\n        rslt = statement.executeQuery(query);\n    } catch (SQLException e) {\n        System.out.println(e);\n    } catch (ClassNotFoundException ex) {\n        Logger.getLogger(QueriesRunner.class.getName()).log(Level.SEVERE, null, ex);\n    } finally {\n        try {\n            connection.close();\n        } catch (SQLException ex) {\n            System.out.println(ex);\n        }\n    }\n    return rslt;\n</code></pre>\n<p>However, when I use it to run a query, I get <em>&quot;Operation not allowed after ResultSet closed&quot;</em>. It is because I close the connection.</p>\n<p>How can I modify the return signature of my function to make it work?</p>\n<p>I tried using a <code>List</code>, but the thing is that I have to distinguish between <code>int</code> and <code>String</code> by using <code>rslt.getString()</code>.</p>\n<p>I don't want to do that. I want to return the content of the ResultSet regardless of the type of the object in the SQL table (int, date, String ...). I will then process the content later, in another function.</p>\n"},{"tags":["java","spring-webflux","reactor"],"answers":[{"tags":[],"owner":{"account_id":13177229,"reputation":379,"user_id":9517822,"display_name":"Dmytro Kostyushko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648637846,"creation_date":1648637846,"answer_id":71675982,"question_id":71662729,"body_markdown":"I don&#39;t really like this solution and it feels a bit hacky, but it does work.\r\nIf you cache the results of the Mono - it can no longer be canceled. You can also use `share` operator, but I think `cache` is a better fit here.\r\n\r\n     @Test\r\n    public void test() {\r\n        var result = Mono.firstWithSignal(\r\n                Mono.delay(Duration.ofSeconds(3))\r\n                        .doOnNext((val) -&gt; System.out.println(&quot;HEEEREREEEE&quot;))\r\n                        .thenReturn(3)\r\n                        .cache(),\r\n                Mono.delay(Duration.ofSeconds(1)).thenReturn(1)\r\n        ).block();\r\n        System.out.println(result);\r\n        Mono.delay(Duration.ofSeconds(4)).block();\r\n        System.out.println(&quot;DONE&quot;);\r\n    }","title":"Do not terminate the remaining Mono&#39;s inside the &quot;firstWithSignal&quot; after first emit","body":"<p>I don't really like this solution and it feels a bit hacky, but it does work.\nIf you cache the results of the Mono - it can no longer be canceled. You can also use <code>share</code> operator, but I think <code>cache</code> is a better fit here.</p>\n<pre><code> @Test\npublic void test() {\n    var result = Mono.firstWithSignal(\n            Mono.delay(Duration.ofSeconds(3))\n                    .doOnNext((val) -&gt; System.out.println(&quot;HEEEREREEEE&quot;))\n                    .thenReturn(3)\n                    .cache(),\n            Mono.delay(Duration.ofSeconds(1)).thenReturn(1)\n    ).block();\n    System.out.println(result);\n    Mono.delay(Duration.ofSeconds(4)).block();\n    System.out.println(&quot;DONE&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7236580,"reputation":16350,"user_id":5521607,"accept_rate":25,"display_name":"Olivier Boiss&#233;"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648729475,"creation_date":1648654225,"answer_id":71680092,"question_id":71662729,"body_markdown":"You can subscribe to both `Mono` and try to a emit value to a [`Sinks.One`](https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Sinks.One.html)\r\n\r\n```java\r\n\r\nSinks.One&lt;HttpStatus&gt; sink = Sinks.one();\r\n\r\n// subscribe to the request\r\nrequest().subscribe(sink::tryEmitValue, sink::tryEmitError);\r\n\r\n// subscribe to the timeout\r\nMono.just(HttpStatus.ACCEPTED).delayElement(Duration.ofSeconds(1))\r\n                              .subscribe(sink::tryEmitValue);\r\n\r\n// subscribe to the sink\r\nsink.asMono()\r\n    .subscribe(status -&gt; {\r\n      System.out.println(&quot;Success with status : &quot; + status);\r\n\t}, error -&gt; {\r\n      System.out.println(&quot;Error : &quot; + error.getMessage());\r\n    });\r\n```","title":"Do not terminate the remaining Mono&#39;s inside the &quot;firstWithSignal&quot; after first emit","body":"<p>You can subscribe to both <code>Mono</code> and try to a emit value to a <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Sinks.One.html\" rel=\"nofollow noreferrer\"><code>Sinks.One</code></a></p>\n<pre class=\"lang-java prettyprint-override\"><code>\nSinks.One&lt;HttpStatus&gt; sink = Sinks.one();\n\n// subscribe to the request\nrequest().subscribe(sink::tryEmitValue, sink::tryEmitError);\n\n// subscribe to the timeout\nMono.just(HttpStatus.ACCEPTED).delayElement(Duration.ofSeconds(1))\n                              .subscribe(sink::tryEmitValue);\n\n// subscribe to the sink\nsink.asMono()\n    .subscribe(status -&gt; {\n      System.out.println(&quot;Success with status : &quot; + status);\n    }, error -&gt; {\n      System.out.println(&quot;Error : &quot; + error.getMessage());\n    });\n</code></pre>\n"}],"owner":{"account_id":13177229,"reputation":379,"user_id":9517822,"display_name":"Dmytro Kostyushko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":509,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71675982,"answer_count":2,"score":0,"last_activity_date":1648729475,"creation_date":1648559608,"question_id":71662729,"body_markdown":"I have an API that returns an error response very quickly when it - for example - can not find the item, but the success response takes around 5s.\r\nI want to return user a response with error code we received, but I also can not have waiting period of 5s.\r\nSo the way I am intending on solving this is something like this:\r\n\r\n     Mono.firstWithSignal(\r\n        Mono.delay(Duration.ofSeconds(1)).thenReturn(HttpStatus.ACCEPTED),\r\n        sendRequest()\r\n     );\r\n\r\nWhat I want to achieve is to have the request executed regardless of how much time it takes, but if it takes longer then a second - respond to the client with HttpStatus.ACCEPTED.\r\n\r\nThe problem that instead Reactor terminates any remaining Mono once the first one has emitted a signal.\r\n","title":"Do not terminate the remaining Mono&#39;s inside the &quot;firstWithSignal&quot; after first emit","body":"<p>I have an API that returns an error response very quickly when it - for example - can not find the item, but the success response takes around 5s.\nI want to return user a response with error code we received, but I also can not have waiting period of 5s.\nSo the way I am intending on solving this is something like this:</p>\n<pre><code> Mono.firstWithSignal(\n    Mono.delay(Duration.ofSeconds(1)).thenReturn(HttpStatus.ACCEPTED),\n    sendRequest()\n );\n</code></pre>\n<p>What I want to achieve is to have the request executed regardless of how much time it takes, but if it takes longer then a second - respond to the client with HttpStatus.ACCEPTED.</p>\n<p>The problem that instead Reactor terminates any remaining Mono once the first one has emitted a signal.</p>\n"},{"tags":["java","multithreading","performance"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1432887721,"post_id":30524582,"comment_id":49122800,"body_markdown":"You might want to take at look at [this](http://stackoverflow.com/questions/2412124/are-final-static-variables-thread-safe-in-java). In short: the reference, which is final, is thread-safe, the object itself is not.","body":"You might want to take at look at <a href=\"http://stackoverflow.com/questions/2412124/are-final-static-variables-thread-safe-in-java\">this</a>. In short: the reference, which is final, is thread-safe, the object itself is not."},{"owner":{"account_id":2349989,"reputation":501,"user_id":2059137,"accept_rate":89,"display_name":"Dumas45"},"score":0,"creation_date":1432888005,"post_id":30524582,"comment_id":49122977,"body_markdown":"I knew that final variables are thread safe! Thats why I expect and afraid DECREASE of performance","body":"I knew that final variables are thread safe! Thats why I expect and afraid DECREASE of performance"}],"answers":[{"tags":[],"owner":{"account_id":5953740,"reputation":6324,"user_id":4681060,"accept_rate":75,"display_name":"Krzysztof Cichocki"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1432888064,"creation_date":1432887753,"answer_id":30524664,"question_id":30524582,"body_markdown":"There is no performence reason behind final variables. You can gain performance by using immutable objects, becaus in that case java can avoid GC to run on those objects. Even if a field is final, you only say that you don&#39;t move the few bytes of the pointer to this object, it has no performance impact, because you still can modify the fields of this object. The only way to improve performance (by reducing the GC overhead) is by using immutable objects where possible. But you need to be reasonable, not to force everything to be immutabale at the cost of reducing code readability.","title":"java final variables and performance","body":"<p>There is no performence reason behind final variables. You can gain performance by using immutable objects, becaus in that case java can avoid GC to run on those objects. Even if a field is final, you only say that you don't move the few bytes of the pointer to this object, it has no performance impact, because you still can modify the fields of this object. The only way to improve performance (by reducing the GC overhead) is by using immutable objects where possible. But you need to be reasonable, not to force everything to be immutabale at the cost of reducing code readability.</p>\n"},{"tags":[],"owner":{"account_id":3764898,"reputation":767,"user_id":3128655,"accept_rate":40,"display_name":"Anil Reddy Yarragonda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1432892216,"creation_date":1432892216,"answer_id":30526133,"question_id":30524582,"body_markdown":"there is no performance issues with final variables. \r\n\r\nIf you want to use variables in multi thread environment rather than using final variables use Volatile variables. \r\n\r\nVolatile variables are thread-safe. volatile keyword in Java guarantees that value of volatile variable will always be read from main memory and not from Thread&#39;s local cache. \r\n","title":"java final variables and performance","body":"<p>there is no performance issues with final variables. </p>\n\n<p>If you want to use variables in multi thread environment rather than using final variables use Volatile variables. </p>\n\n<p>Volatile variables are thread-safe. volatile keyword in Java guarantees that value of volatile variable will always be read from main memory and not from Thread's local cache. </p>\n"},{"tags":[],"owner":{"account_id":4034876,"reputation":1557,"user_id":3319725,"display_name":"AnatolyG"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1648729461,"creation_date":1432894738,"answer_id":30527072,"question_id":30524582,"body_markdown":"I see your point. Generally speaking, a class with final fields is thread-safe just because you cannot write code which modifies those fields directly in runtime. So, no any other thread can modify an instance of such immutable class unexpectedly.\r\nNow, about the cost. There is no specific java bytecode to read/write final fields. Moreover, you can change any final field via Reflection, JNI calls, generated bytecodes (besides the &quot;normal&quot; constructor route). That means that the final fields are not effectively final, they seem to be just a compilation time restriction, a kind of syntax sugar. But, there is one specific aspect of final fields which *MAY* affect performance, because JMM defines specific semantic for them (usually specialty costs, doesn&#39;t it? :) ): http://docs.oracle.com/javase/specs/jls/se7/html/jls-17.html#jls-17.5\r\nIt defines synthetic synchronize action &quot;Freeze action&quot; for constructors which contain final fields. That action is a part of &quot;Freeze action - Read of reference to the created object&quot; HB edge which really guarantees that all threads see correctly initialized final fields. But we see that in the real life there is no any significant difference between frozen and non-frozen constructors: http://shipilev.net/blog/2014/all-fields-are-final/ \r\n\r\nSo, the bottom line is that final fields cost almost the same as non-final ones. Local final variables is a pure syntax sugar and cost nothing over non-final locals.\r\n\r\nAnd finally, if you develop a high-performance/low-latency application, don&#39;t use immutable objects (don&#39;t allocate memory all the time) in the main path of it, use mutable objects (with buffers, pools, etc) instead, because typically even an empty constructor costs about 30ns + minor GC also isn&#39;t for free + cache locality is worst in case of intensive memory (re)allocation...","title":"java final variables and performance","body":"<p>I see your point. Generally speaking, a class with final fields is thread-safe just because you cannot write code which modifies those fields directly in runtime. So, no any other thread can modify an instance of such immutable class unexpectedly.\nNow, about the cost. There is no specific java bytecode to read/write final fields. Moreover, you can change any final field via Reflection, JNI calls, generated bytecodes (besides the &quot;normal&quot; constructor route). That means that the final fields are not effectively final, they seem to be just a compilation time restriction, a kind of syntax sugar. But, there is one specific aspect of final fields which <em>MAY</em> affect performance, because JMM defines specific semantic for them (usually specialty costs, doesn't it? :) ): <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-17.html#jls-17.5\" rel=\"nofollow noreferrer\">http://docs.oracle.com/javase/specs/jls/se7/html/jls-17.html#jls-17.5</a>\nIt defines synthetic synchronize action &quot;Freeze action&quot; for constructors which contain final fields. That action is a part of &quot;Freeze action - Read of reference to the created object&quot; HB edge which really guarantees that all threads see correctly initialized final fields. But we see that in the real life there is no any significant difference between frozen and non-frozen constructors: <a href=\"http://shipilev.net/blog/2014/all-fields-are-final/\" rel=\"nofollow noreferrer\">http://shipilev.net/blog/2014/all-fields-are-final/</a></p>\n<p>So, the bottom line is that final fields cost almost the same as non-final ones. Local final variables is a pure syntax sugar and cost nothing over non-final locals.</p>\n<p>And finally, if you develop a high-performance/low-latency application, don't use immutable objects (don't allocate memory all the time) in the main path of it, use mutable objects (with buffers, pools, etc) instead, because typically even an empty constructor costs about 30ns + minor GC also isn't for free + cache locality is worst in case of intensive memory (re)allocation...</p>\n"}],"owner":{"account_id":2349989,"reputation":501,"user_id":2059137,"accept_rate":89,"display_name":"Dumas45"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4078,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1432953065,"accepted_answer_id":30527072,"answer_count":3,"score":1,"last_activity_date":1648729461,"creation_date":1432887499,"question_id":30524582,"body_markdown":"Is it good, if the java code is oversaturated with final variables? I think about performance. As far as I know, the final variables are thread safe. So, for each initialization on final variable jvm must synchronize its value among all threads. If I use final variables in every case where I want the variable to be non-modifiable, will it strike performance?\r\n\r\nI expect and afraid that final variables will DECREASE the performance.","title":"java final variables and performance","body":"<p>Is it good, if the java code is oversaturated with final variables? I think about performance. As far as I know, the final variables are thread safe. So, for each initialization on final variable jvm must synchronize its value among all threads. If I use final variables in every case where I want the variable to be non-modifiable, will it strike performance?</p>\n\n<p>I expect and afraid that final variables will DECREASE the performance.</p>\n"},{"tags":["java","spring-data","spring-data-mongodb"],"comments":[{"owner":{"account_id":455809,"reputation":12993,"user_id":854207,"accept_rate":62,"display_name":"paul"},"score":0,"creation_date":1369383744,"post_id":16729728,"comment_id":24091960,"body_markdown":"I already saw that with the expresion @Query(&quot;{ &#39;name&#39;:{&#39;$regex&#39;:?2,&#39;$options&#39;:&#39;&#39;} without &quot;i&quot; works, I dont know why the people use that letter in there.","body":"I already saw that with the expresion @Query(&quot;{ &#39;name&#39;:{&#39;$regex&#39;:?2,&#39;$options&#39;:&#39;&#39;} without &quot;i&quot; works, I dont know why the people use that letter in there."}],"answers":[{"tags":[],"owner":{"account_id":1186616,"reputation":12512,"user_id":1160445,"display_name":"Maciej Walkowiak"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1369384480,"creation_date":1369384480,"answer_id":16730754,"question_id":16729728,"body_markdown":"&gt; i toggles case insensitivity, and allows all letters in the pattern to match upper and lower cases.\r\n\r\nRead more about $regex in [MongoDB docs][1]. \r\n\r\nIn your query it looks like you have mixed up something with parameters order (?2 in name regex). I believe it should be:\r\n\r\n&lt;!-- lang:java --&gt;\r\n\r\n    @Query(&quot;{ &#39;name&#39;:{$regex:?0,$options:&#39;i&#39;}, sales&#39;: {$gte:?1,$lte:?2}}&quot;) \r\n    public Page findByNameAndAgeRange(String name,double ageFrom,double ageTo,Pageable page);\r\n\r\n\r\n  [1]: http://docs.mongodb.org/manual/reference/operator/regex/","title":"spring MongoRepository Query regex","body":"<blockquote>\n  <p>i toggles case insensitivity, and allows all letters in the pattern to match upper and lower cases.</p>\n</blockquote>\n\n<p>Read more about $regex in <a href=\"http://docs.mongodb.org/manual/reference/operator/regex/\" rel=\"noreferrer\">MongoDB docs</a>. </p>\n\n<p>In your query it looks like you have mixed up something with parameters order (?2 in name regex). I believe it should be:</p>\n\n\n\n<pre><code>@Query(\"{ 'name':{$regex:?0,$options:'i'}, sales': {$gte:?1,$lte:?2}}\") \npublic Page findByNameAndAgeRange(String name,double ageFrom,double ageTo,Pageable page);\n</code></pre>\n"}],"owner":{"account_id":455809,"reputation":12993,"user_id":854207,"accept_rate":62,"display_name":"paul"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13300,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":16730754,"answer_count":1,"score":9,"last_activity_date":1648728881,"creation_date":1369380384,"question_id":16729728,"body_markdown":"I&#180;m looking to use a regular expresion using MongoRepository inside a Query annotation. The only information that I found so far is a Chinese post but do not explain how make it works, and I&#180;m not sure if is what I&#180;m looking for.\r\n\r\n@Query(&quot;{ &#39;name&#39;:{&#39;$regex&#39;:?2,&#39;$options&#39;:&#39;i&#39;}, sales&#39;: {&#39;$gte&#39;:?1,&#39;$lte&#39;:?2}}&quot;)\r\npublic Page&lt;Product&gt; findByNameAndAgeRange(String name,double ageFrom,double ageTo,Pageable page);\r\n\r\nSomebody know if it possible use a specific regex in the query?\r\n\r\nRegards.","title":"spring MongoRepository Query regex","body":"<p>I´m looking to use a regular expresion using MongoRepository inside a Query annotation. The only information that I found so far is a Chinese post but do not explain how make it works, and I´m not sure if is what I´m looking for.</p>\n\n<p>@Query(\"{ 'name':{'$regex':?2,'$options':'i'}, sales': {'$gte':?1,'$lte':?2}}\")\npublic Page findByNameAndAgeRange(String name,double ageFrom,double ageTo,Pageable page);</p>\n\n<p>Somebody know if it possible use a specific regex in the query?</p>\n\n<p>Regards.</p>\n"},{"tags":["java","spring","jetty","geoserver"],"comments":[{"owner":{"account_id":195980,"reputation":10228,"user_id":439194,"accept_rate":100,"display_name":"Ian Turton"},"score":0,"creation_date":1648752673,"post_id":71692104,"comment_id":126711214,"body_markdown":"Which plugin exactly did you install? Did your server work before the install?","body":"Which plugin exactly did you install? Did your server work before the install?"},{"owner":{"account_id":8598963,"reputation":175,"user_id":6441204,"display_name":"HardRock4Life"},"score":0,"creation_date":1648799812,"post_id":71692104,"comment_id":126720704,"body_markdown":"@IanTurton, its name is `wps-download-plugin`. \nBTW, I just came to a thought - maybe this plugin requires the actual WPS plugin?","body":"@IanTurton, its name is <code>wps-download-plugin</code>.  BTW, I just came to a thought - maybe this plugin requires the actual WPS plugin?"},{"owner":{"account_id":195980,"reputation":10228,"user_id":439194,"accept_rate":100,"display_name":"Ian Turton"},"score":1,"creation_date":1648805073,"post_id":71692104,"comment_id":126722437,"body_markdown":"**all** the wps plugins require the main wps plugin","body":"<b>all</b> the wps plugins require the main wps plugin"}],"owner":{"account_id":8598963,"reputation":175,"user_id":6441204,"display_name":"HardRock4Life"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":348,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648728727,"creation_date":1648728066,"question_id":71692104,"body_markdown":"I am attempting to install a WPS plugin for Geoserver to my local Windows machine, and moving *.jar files into `WEB-INF/inf` folder causes error that doesn&#39;t allow to load Geoserver unless I delete them from there.\r\n\r\nThe version of Geoserver is 2.20.3 and it&#39;s web instance gets loaded with the built-in Jetty web server.\r\n\r\nThe error message:\r\n\r\n`org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;wmtsCapabilitiesProvider&#39; defined in URL [jar:file:/C:/Program%20Files/GeoServer/webapps/geoserver/WEB-INF/lib/gs-gwc-2.20.3.jar!/applicationContext.xml]: Cannot resolve reference to bean &#39;geoServer&#39; while setting constructor argument; `\r\n\r\n`nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;geoServer&#39; defined in URL [jar:file:/C:/Program%20Files/GeoServer/webapps/geoserver/WEB-INF/lib/gs-main-2.20.3.jar!/applicationContext.xml]: Cannot resolve reference to bean &#39;catalog&#39; while setting bean property &#39;catalog&#39;; nested exception is `\r\n\r\n`org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;localWorkspaceCatalog&#39; defined in URL [jar:file:/C:/Program%20Files/GeoServer/webapps/geoserver/WEB-INF/lib/gs-main-2.20.3.jar!/applicationContext.xml]: Cannot resolve reference to bean &#39;advertisedCatalog&#39; while setting constructor argument; nested exception is `\r\n\r\n`org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;advertisedCatalog&#39; defined in URL [jar:file:/C:/Program%20Files/GeoServer/webapps/geoserver/WEB-INF/lib/gs-main-2.20.3.jar!/applicationContext.xml]: Cannot resolve reference to bean &#39;secureCatalog&#39; while setting constructor argument; nested exception is `\r\n\r\n`org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;secureCatalog&#39; defined in URL [jar:file:/C:/Program%20Files/GeoServer/webapps/geoserver/WEB-INF/lib/gs-main-2.20.3.jar!/applicationContext.xml]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.geoserver.security.SecureCatalogImpl]: Constructor threw exception; nested exception is `\r\n\r\n`java.lang.NullPointerException\r\n\tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:314)`\r\n ","title":"Geoserver WPS Plugin not installing (Context initialization failed)","body":"<p>I am attempting to install a WPS plugin for Geoserver to my local Windows machine, and moving *.jar files into <code>WEB-INF/inf</code> folder causes error that doesn't allow to load Geoserver unless I delete them from there.</p>\n<p>The version of Geoserver is 2.20.3 and it's web instance gets loaded with the built-in Jetty web server.</p>\n<p>The error message:</p>\n<p><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'wmtsCapabilitiesProvider' defined in URL [jar:file:/C:/Program%20Files/GeoServer/webapps/geoserver/WEB-INF/lib/gs-gwc-2.20.3.jar!/applicationContext.xml]: Cannot resolve reference to bean 'geoServer' while setting constructor argument; </code></p>\n<p><code>nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'geoServer' defined in URL [jar:file:/C:/Program%20Files/GeoServer/webapps/geoserver/WEB-INF/lib/gs-main-2.20.3.jar!/applicationContext.xml]: Cannot resolve reference to bean 'catalog' while setting bean property 'catalog'; nested exception is </code></p>\n<p><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'localWorkspaceCatalog' defined in URL [jar:file:/C:/Program%20Files/GeoServer/webapps/geoserver/WEB-INF/lib/gs-main-2.20.3.jar!/applicationContext.xml]: Cannot resolve reference to bean 'advertisedCatalog' while setting constructor argument; nested exception is </code></p>\n<p><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'advertisedCatalog' defined in URL [jar:file:/C:/Program%20Files/GeoServer/webapps/geoserver/WEB-INF/lib/gs-main-2.20.3.jar!/applicationContext.xml]: Cannot resolve reference to bean 'secureCatalog' while setting constructor argument; nested exception is </code></p>\n<p><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'secureCatalog' defined in URL [jar:file:/C:/Program%20Files/GeoServer/webapps/geoserver/WEB-INF/lib/gs-main-2.20.3.jar!/applicationContext.xml]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.geoserver.security.SecureCatalogImpl]: Constructor threw exception; nested exception is </code></p>\n<p><code>java.lang.NullPointerException at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:314)</code></p>\n"},{"tags":["java","spring","amazon-web-services","spring-boot","maven"],"answers":[{"tags":[],"owner":{"account_id":15596976,"reputation":809,"user_id":11252174,"display_name":"Demir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648728668,"creation_date":1648728668,"answer_id":71692237,"question_id":71667341,"body_markdown":"The security group should look like this for MySQL connection.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2Wzlr.png","title":"Spring boot application aws connection fail","body":"<p>The security group should look like this for MySQL connection.\n<a href=\"https://i.stack.imgur.com/2Wzlr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2Wzlr.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":15596976,"reputation":809,"user_id":11252174,"display_name":"Demir"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":529,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71692237,"answer_count":1,"score":0,"last_activity_date":1648728668,"creation_date":1648579748,"question_id":71667341,"body_markdown":"I have a spring boot app that runs on my local server using MySQL8. It works perfectly on my *localhost*. I want to build the jar file to deploy the application on AWS. However, the `maven build` fails during installation because while maven testing the app, connection failure occurs. When I run the application it fails, too. This confirmed that the maven build cannot test the application, that&#39;s why it could create a jar file for me. Anyway, the problem is that.\r\nI set the application available to the **public** while setting up the database but still getting the same issue.\r\n\r\nEdit: I am currently located in Turkey. The server availability zone is &quot;eu-south-1a&quot;. I don&#39;t know if I can connect to the server from Turkey. Maybe the problem is that.\r\n\r\nThe error is \r\n``` \r\ncom.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure\r\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\n ```\r\n\r\nSecurity group\r\n--\r\n[![enter image description here][1]][1]\r\n\r\n\r\nRDS Configurations\r\n--\r\n\r\n[![enter image description here][2]][2]\r\napplication.properties\r\n--\r\n``` \r\n#spring.datasource.url=jdbc:mysql://localhost:3306/mydb?useUnicode=true&amp;useLegacyDatetimeCode=false&amp;serverTimezone=Turkey\r\nspring.datasource.driver-class-name=com.mysql.jdbc.Driver\r\nspring.datasource.url=jdbc:mysql://mydb.cp611djonmsc.eu-south-1.rds.amazonaws.com::3306/mydb\r\nspring.datasource.username=myusername\r\nspring.datasource.password=mypassword\r\nserver.port=5000\r\nspring.jpa.hibernate.ddl-auto=update\r\nspring.jpa.show-sql=true\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect\r\nspring.jpa.properties.hibernate.globally_quoted_identifiers=true\r\nserver.servlet.context-path=/api/v1/\r\n\r\n\r\n```\r\n\r\n\r\nFull error\r\n``` \r\ncom.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure\r\n\r\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\n\tat com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174) ~[mysql-connector-java-8.0.28.jar:8.0.28]\r\n\tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64) ~[mysql-connector-java-8.0.28.jar:8.0.28]\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:829) ~[mysql-connector-java-8.0.28.jar:8.0.28]\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:449) ~[mysql-connector-java-8.0.28.jar:8.0.28]\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:242) ~[mysql-connector-java-8.0.28.jar:8.0.28]\r\n\tat com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198) ~[mysql-connector-java-8.0.28.jar:8.0.28]\r\n\tat com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-4.0.3.jar:na]\r\n\tat org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:181) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\tat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:237) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\tat org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.injectServices(DefaultIdentifierGeneratorFactory.java:175) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.injectDependencies(AbstractServiceRegistryImpl.java:286) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:243) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:173) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:127) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1460) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1494) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.16.jar:5.3.16]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.16.jar:5.3.16]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.16.jar:5.3.16]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.16.jar:5.3.16]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.16.jar:5.3.16]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.16.jar:5.3.16]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.16.jar:5.3.16]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.16.jar:5.3.16]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.16.jar:5.3.16]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.16.jar:5.3.16]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.16.jar:5.3.16]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.16.jar:5.3.16]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.16.jar:5.3.16]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.16.jar:5.3.16]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.16.jar:5.3.16]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.16.jar:5.3.16]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.4.jar:2.6.4]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740) ~[spring-boot-2.6.4.jar:2.6.4]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:415) ~[spring-boot-2.6.4.jar:2.6.4]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:303) ~[spring-boot-2.6.4.jar:2.6.4]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1312) ~[spring-boot-2.6.4.jar:2.6.4]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) ~[spring-boot-2.6.4.jar:2.6.4]\r\n\tat com.dmr.medicalinternbackend.MedicalInternBackendApplication.main(MedicalInternBackendApplication.java:13) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.6.4.jar:2.6.4]\r\nCaused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure\r\n\r\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\r\n\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) ~[na:na]\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480) ~[na:na]\r\n\tat com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61) ~[mysql-connector-java-8.0.28.jar:8.0.28]\r\n\tat com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105) ~[mysql-connector-java-8.0.28.jar:8.0.28]\r\n\tat com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151) ~[mysql-connector-java-8.0.28.jar:8.0.28]\r\n\tat com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167) ~[mysql-connector-java-8.0.28.jar:8.0.28]\r\n\tat com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:89) ~[mysql-connector-java-8.0.28.jar:8.0.28]\r\n\tat com.mysql.cj.NativeSession.connect(NativeSession.java:120) ~[mysql-connector-java-8.0.28.jar:8.0.28]\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:949) ~[mysql-connector-java-8.0.28.jar:8.0.28]\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:819) ~[mysql-connector-java-8.0.28.jar:8.0.28]\r\n\t... 54 common frames omitted\r\nCaused by: java.net.ConnectException: Connection timed out: no further information\r\n\tat java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]\r\n\tat java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]\r\n\tat java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:549) ~[na:na]\r\n\tat java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597) ~[na:na]\r\n\tat java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327) ~[na:na]\r\n\tat java.base/java.net.Socket.connect(Socket.java:633) ~[na:na]\r\n\tat com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:156) ~[mysql-connector-java-8.0.28.jar:8.0.28]\r\n\tat com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:63) ~[mysql-connector-java-8.0.28.jar:8.0.28]\r\n\t... 57 common frames omitted\r\n\r\n2022-03-29 21:47:40.418  WARN 2200 --- [  restartedMain] o.h.e.j.e.i.JdbcEnvironmentInitiator     : HHH000342: Could not obtain connection to query metadata\r\n\r\ncom.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure\r\n\r\n\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fylo7.jpg\r\n  [2]: https://i.stack.imgur.com/Jddwv.jpg","title":"Spring boot application aws connection fail","body":"<p>I have a spring boot app that runs on my local server using MySQL8. It works perfectly on my <em>localhost</em>. I want to build the jar file to deploy the application on AWS. However, the <code>maven build</code> fails during installation because while maven testing the app, connection failure occurs. When I run the application it fails, too. This confirmed that the maven build cannot test the application, that's why it could create a jar file for me. Anyway, the problem is that.\nI set the application available to the <strong>public</strong> while setting up the database but still getting the same issue.</p>\n<p>Edit: I am currently located in Turkey. The server availability zone is &quot;eu-south-1a&quot;. I don't know if I can connect to the server from Turkey. Maybe the problem is that.</p>\n<p>The error is</p>\n<pre><code>com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\n</code></pre>\n<h2>Security group</h2>\n<p><a href=\"https://i.stack.imgur.com/fylo7.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fylo7.jpg\" alt=\"enter image description here\" /></a></p>\n<h2>RDS Configurations</h2>\n<h2><a href=\"https://i.stack.imgur.com/Jddwv.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Jddwv.jpg\" alt=\"enter image description here\" /></a>\napplication.properties</h2>\n<pre><code>#spring.datasource.url=jdbc:mysql://localhost:3306/mydb?useUnicode=true&amp;useLegacyDatetimeCode=false&amp;serverTimezone=Turkey\nspring.datasource.driver-class-name=com.mysql.jdbc.Driver\nspring.datasource.url=jdbc:mysql://mydb.cp611djonmsc.eu-south-1.rds.amazonaws.com::3306/mydb\nspring.datasource.username=myusername\nspring.datasource.password=mypassword\nserver.port=5000\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.show-sql=true\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect\nspring.jpa.properties.hibernate.globally_quoted_identifiers=true\nserver.servlet.context-path=/api/v1/\n\n\n</code></pre>\n<p>Full error</p>\n<pre><code>com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure\n\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\n    at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174) ~[mysql-connector-java-8.0.28.jar:8.0.28]\n    at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64) ~[mysql-connector-java-8.0.28.jar:8.0.28]\n    at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:829) ~[mysql-connector-java-8.0.28.jar:8.0.28]\n    at com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:449) ~[mysql-connector-java-8.0.28.jar:8.0.28]\n    at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:242) ~[mysql-connector-java-8.0.28.jar:8.0.28]\n    at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198) ~[mysql-connector-java-8.0.28.jar:8.0.28]\n    at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-4.0.3.jar:na]\n    at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:181) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:237) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\n    at org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.injectServices(DefaultIdentifierGeneratorFactory.java:175) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.injectDependencies(AbstractServiceRegistryImpl.java:286) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:243) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\n    at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:173) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:127) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1460) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1494) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.16.jar:5.3.16]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.16.jar:5.3.16]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.16.jar:5.3.16]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.16.jar:5.3.16]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.16.jar:5.3.16]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.16.jar:5.3.16]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.16.jar:5.3.16]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.4.jar:2.6.4]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740) ~[spring-boot-2.6.4.jar:2.6.4]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:415) ~[spring-boot-2.6.4.jar:2.6.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:303) ~[spring-boot-2.6.4.jar:2.6.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1312) ~[spring-boot-2.6.4.jar:2.6.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) ~[spring-boot-2.6.4.jar:2.6.4]\n    at com.dmr.medicalinternbackend.MedicalInternBackendApplication.main(MedicalInternBackendApplication.java:13) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.6.4.jar:2.6.4]\nCaused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure\n\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) ~[na:na]\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480) ~[na:na]\n    at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61) ~[mysql-connector-java-8.0.28.jar:8.0.28]\n    at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105) ~[mysql-connector-java-8.0.28.jar:8.0.28]\n    at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151) ~[mysql-connector-java-8.0.28.jar:8.0.28]\n    at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167) ~[mysql-connector-java-8.0.28.jar:8.0.28]\n    at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:89) ~[mysql-connector-java-8.0.28.jar:8.0.28]\n    at com.mysql.cj.NativeSession.connect(NativeSession.java:120) ~[mysql-connector-java-8.0.28.jar:8.0.28]\n    at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:949) ~[mysql-connector-java-8.0.28.jar:8.0.28]\n    at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:819) ~[mysql-connector-java-8.0.28.jar:8.0.28]\n    ... 54 common frames omitted\nCaused by: java.net.ConnectException: Connection timed out: no further information\n    at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]\n    at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]\n    at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:549) ~[na:na]\n    at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597) ~[na:na]\n    at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327) ~[na:na]\n    at java.base/java.net.Socket.connect(Socket.java:633) ~[na:na]\n    at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:156) ~[mysql-connector-java-8.0.28.jar:8.0.28]\n    at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:63) ~[mysql-connector-java-8.0.28.jar:8.0.28]\n    ... 57 common frames omitted\n\n2022-03-29 21:47:40.418  WARN 2200 --- [  restartedMain] o.h.e.j.e.i.JdbcEnvironmentInitiator     : HHH000342: Could not obtain connection to query metadata\n\ncom.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure\n\n\n</code></pre>\n"},{"tags":["java","mongodb","spring-boot","mongo-index"],"comments":[{"owner":{"account_id":12305345,"reputation":450,"user_id":8978587,"display_name":"ShaharT"},"score":1,"creation_date":1648757864,"post_id":71692203,"comment_id":126712821,"body_markdown":"you wrote “add an index to an existing collection” -&gt; I&#39;m afraid it&#39;s impossible to do that only by annotation and you have to do that programmatically. I had some similar case, I had @Indexed with some value x for the expiry seconds, and once I wanted to change that value x to y, I wasn’t able to change it just in the annotation, and I had to drop the already exist index, and re-create a new one. Attempts to change it in the annotation ended with DataIntegrityViolationException","body":"you wrote “add an index to an existing collection” -&gt; I&#39;m afraid it&#39;s impossible to do that only by annotation and you have to do that programmatically. I had some similar case, I had @Indexed with some value x for the expiry seconds, and once I wanted to change that value x to y, I wasn’t able to change it just in the annotation, and I had to drop the already exist index, and re-create a new one. Attempts to change it in the annotation ended with DataIntegrityViolationException"},{"owner":{"account_id":18482495,"reputation":14167,"user_id":13464279,"display_name":"J.F."},"score":0,"creation_date":1648822566,"post_id":71692203,"comment_id":126728989,"body_markdown":"Thanks for the comment, it seems that&#39;s the problem.","body":"Thanks for the comment, it seems that&#39;s the problem."}],"owner":{"account_id":18482495,"reputation":14167,"user_id":13464279,"display_name":"J.F."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2574,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":0,"score":5,"last_activity_date":1648728513,"creation_date":1648728513,"question_id":71692203,"body_markdown":"I know there are similar questions like this one: [Spring boot / mongo wont create index with the index annotation](https://stackoverflow.com/q/53006818/13464279)\r\n\r\nAlso issues in Github like [&#39;spring.data.mongodb.auto-index-creation=true&#39; not working](https://github.com/spring-projects/spring-boot/issues/28478)\r\n\r\nAnd also I&#39;ve tried this Baeldung guide: [Spring Data MongoDB – Indexes, Annotations and Converters](https://www.baeldung.com/spring-data-mongodb-index-annotations-converter)\r\n\r\nSo the problem is I&#39;m trying to add an index to an existing collection using @Indexed anotation like this:\r\n```\r\n@CreatedDate\r\n@Indexed(name=&quot;timestamp_index&quot;, expireAfterSeconds=100))\r\nprivate Date timestamp;\r\n```\r\n\r\nThe field is a timestamp which is created automatically when an element is inserted into the DB.\r\n\r\nAlso the class has `@Document` tag.\r\n\r\nSo, what have I tried?\r\n\r\nFollowing other answers first thing I did is to add `spring.data.mongodb.auto-index-creation: true` in this way:\r\n\r\n```yaml\r\nspring:\r\n  data:\r\n    mongodb:\r\n      uri: ${env.mongo-database.url}\r\n      auto-index-creation: true\r\n```\r\n\r\nThis not works... but I&#39;ve also read that the problem can be if I have a `AbstractMongoClientConfiguration` class.\r\n\r\nCurrently the project doesn&#39;t have that class, but exists a `MongoConfiguration` class with the `@Configuration` tag. I don&#39;t know if this can interfere or something.\r\n\r\nThe class is like this:\r\n\r\n```java\r\n@Configuration\r\npublic class MongoConfiguration { /*creates some beans*/ }\r\n``` \r\nThis class create a `@Bean` named `mongodb` so I&#39;ve tried to add manually auto-index to true here:\r\n```java\r\n@Primary\r\n@Bean(name = &quot;mongodb&quot;)\r\n@ConfigurationProperties(prefix = &quot;spring.data.mongodb&quot;)\r\npublic MongoProperties getMongodbProperties() {\r\n\tMongoProperties mongoProperties = new MongoProperties();\r\n\tmongoProperties.setAutoIndexCreation(true);\r\n\treturn mongoProperties;\r\n}\r\n```\r\n\r\nBut this doesn&#39;t work either. The index is not created.\r\n \r\nAlso this class doesn&#39;t extends from `AbstractMongoClientConfiguration` so I can&#39;t override the method `autoIndexCreation`\r\n\r\nAlso I can create the index programantically with this code:\r\n```java\r\nmongoTemplate\r\n    .indexOps(PagoDto.class)\r\n    .ensureIndex(new Index().on(&quot;timestamp&quot;, Sort.Direction.ASC).expire(100));\r\n```\r\n\r\nBut for clearer implementation I&#39;d like to do using only annotations in the model.\r\n\r\nSo the point is: Neither use `auto-index-creation` in application properties nor trying to add the value into properties works.\r\n\r\nMaybe the configuration class doesn&#39;t allow to create automatically? It interferes in any way?\r\n\r\nI&#39;m not supposed to be authorized to modify the configuration class, if is a little change like call `setAutoIndexCreation` method there is no problem but I can&#39;t change the logic and extends from `AbstractMongoClientConfiguration`. So the ideal scenario is to get it to work with the annotation `@Indexed`.\r\n\r\nThanks in advance","title":"Mongo Index not created using @Indexed in Spring Boot","body":"<p>I know there are similar questions like this one: <a href=\"https://stackoverflow.com/q/53006818/13464279\">Spring boot / mongo wont create index with the index annotation</a></p>\n<p>Also issues in Github like <a href=\"https://github.com/spring-projects/spring-boot/issues/28478\" rel=\"noreferrer\">'spring.data.mongodb.auto-index-creation=true' not working</a></p>\n<p>And also I've tried this Baeldung guide: <a href=\"https://www.baeldung.com/spring-data-mongodb-index-annotations-converter\" rel=\"noreferrer\">Spring Data MongoDB – Indexes, Annotations and Converters</a></p>\n<p>So the problem is I'm trying to add an index to an existing collection using @Indexed anotation like this:</p>\n<pre><code>@CreatedDate\n@Indexed(name=&quot;timestamp_index&quot;, expireAfterSeconds=100))\nprivate Date timestamp;\n</code></pre>\n<p>The field is a timestamp which is created automatically when an element is inserted into the DB.</p>\n<p>Also the class has <code>@Document</code> tag.</p>\n<p>So, what have I tried?</p>\n<p>Following other answers first thing I did is to add <code>spring.data.mongodb.auto-index-creation: true</code> in this way:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  data:\n    mongodb:\n      uri: ${env.mongo-database.url}\n      auto-index-creation: true\n</code></pre>\n<p>This not works... but I've also read that the problem can be if I have a <code>AbstractMongoClientConfiguration</code> class.</p>\n<p>Currently the project doesn't have that class, but exists a <code>MongoConfiguration</code> class with the <code>@Configuration</code> tag. I don't know if this can interfere or something.</p>\n<p>The class is like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class MongoConfiguration { /*creates some beans*/ }\n</code></pre>\n<p>This class create a <code>@Bean</code> named <code>mongodb</code> so I've tried to add manually auto-index to true here:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Primary\n@Bean(name = &quot;mongodb&quot;)\n@ConfigurationProperties(prefix = &quot;spring.data.mongodb&quot;)\npublic MongoProperties getMongodbProperties() {\n    MongoProperties mongoProperties = new MongoProperties();\n    mongoProperties.setAutoIndexCreation(true);\n    return mongoProperties;\n}\n</code></pre>\n<p>But this doesn't work either. The index is not created.</p>\n<p>Also this class doesn't extends from <code>AbstractMongoClientConfiguration</code> so I can't override the method <code>autoIndexCreation</code></p>\n<p>Also I can create the index programantically with this code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>mongoTemplate\n    .indexOps(PagoDto.class)\n    .ensureIndex(new Index().on(&quot;timestamp&quot;, Sort.Direction.ASC).expire(100));\n</code></pre>\n<p>But for clearer implementation I'd like to do using only annotations in the model.</p>\n<p>So the point is: Neither use <code>auto-index-creation</code> in application properties nor trying to add the value into properties works.</p>\n<p>Maybe the configuration class doesn't allow to create automatically? It interferes in any way?</p>\n<p>I'm not supposed to be authorized to modify the configuration class, if is a little change like call <code>setAutoIndexCreation</code> method there is no problem but I can't change the logic and extends from <code>AbstractMongoClientConfiguration</code>. So the ideal scenario is to get it to work with the annotation <code>@Indexed</code>.</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","file","encoding","character-encoding","spring-batch"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1648723272,"post_id":71691015,"comment_id":126699525,"body_markdown":"Lines beginning with `#` are considered as comments in many file formats.","body":"Lines beginning with <code>#</code> are considered as comments in many file formats."}],"answers":[{"tags":[],"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1648728445,"creation_date":1648728445,"answer_id":71692189,"question_id":71691015,"body_markdown":"&quot;*#*&quot; is a comment for `FlatFileItemReader` and that is why you are not receiving that line.\r\n\r\n*FlatFileItemReader* source code contains this:\r\n\r\n    public static final String[] DEFAULT_COMMENT_PREFIXES = new String[] { &quot;#&quot; };\r\n\r\nSo if you want to specify a different comment prefixes use in your builder:\r\n\r\n    .comments(&quot;&quot;)\r\n\r\nIn your code:\r\n\r\n    return new FlatFileItemReaderBuilder&lt;FieldSet&gt;()\r\n                    .name(&quot;flatFileItemReader&quot;)\r\n                    .resource(new PathResource(ProducerUtil.getJobParameterByName(jobParameters, ProducerConstants.MULTILINE_JOB_PARAM_NAME, &quot;inputFilePath&quot;)))\r\n                    //.lineTokenizer(ejFileTokenizer(null))\r\n                    .lineTokenizer(initiateNewTokenizer())\r\n                    .fieldSetMapper(new PassThroughFieldSetMapper())\r\n                    .linesToSkip(Integer.parseInt(ProducerUtil.getJobParameterByName(jobParameters, ProducerConstants.MULTILINE_JOB_PARAM_NAME, &quot;linesToSkip&quot;)))\r\n                    .encoding(&quot;Cp1252&quot;)\r\n                    //.encoding(&quot;UTF-8&quot;)\r\n                    .comments(&quot;&quot;) // ignore lines that starts with\r\n                    .build();\r\n\r\nReference: https://github.com/spring-projects/spring-batch/blob/c4b001b732c8a4127e6a2a99e2fd00fff510f629/spring-batch-infrastructure/src/main/java/org/springframework/batch/item/file/FlatFileItemReader.java","title":"FlatFileItemReader does not pick up lines starting #","body":"<p>&quot;<em>#</em>&quot; is a comment for <code>FlatFileItemReader</code> and that is why you are not receiving that line.</p>\n<p><em>FlatFileItemReader</em> source code contains this:</p>\n<pre><code>public static final String[] DEFAULT_COMMENT_PREFIXES = new String[] { &quot;#&quot; };\n</code></pre>\n<p>So if you want to specify a different comment prefixes use in your builder:</p>\n<pre><code>.comments(&quot;&quot;)\n</code></pre>\n<p>In your code:</p>\n<pre><code>return new FlatFileItemReaderBuilder&lt;FieldSet&gt;()\n                .name(&quot;flatFileItemReader&quot;)\n                .resource(new PathResource(ProducerUtil.getJobParameterByName(jobParameters, ProducerConstants.MULTILINE_JOB_PARAM_NAME, &quot;inputFilePath&quot;)))\n                //.lineTokenizer(ejFileTokenizer(null))\n                .lineTokenizer(initiateNewTokenizer())\n                .fieldSetMapper(new PassThroughFieldSetMapper())\n                .linesToSkip(Integer.parseInt(ProducerUtil.getJobParameterByName(jobParameters, ProducerConstants.MULTILINE_JOB_PARAM_NAME, &quot;linesToSkip&quot;)))\n                .encoding(&quot;Cp1252&quot;)\n                //.encoding(&quot;UTF-8&quot;)\n                .comments(&quot;&quot;) // ignore lines that starts with\n                .build();\n</code></pre>\n<p>Reference: <a href=\"https://github.com/spring-projects/spring-batch/blob/c4b001b732c8a4127e6a2a99e2fd00fff510f629/spring-batch-infrastructure/src/main/java/org/springframework/batch/item/file/FlatFileItemReader.java\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-batch/blob/c4b001b732c8a4127e6a2a99e2fd00fff510f629/spring-batch-infrastructure/src/main/java/org/springframework/batch/item/file/FlatFileItemReader.java</a></p>\n"}],"owner":{"account_id":8363529,"reputation":215,"user_id":6281005,"accept_rate":0,"display_name":"Faheem Sultan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":283,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71692189,"answer_count":1,"score":1,"last_activity_date":1648728445,"creation_date":1648722895,"question_id":71691015,"body_markdown":"i&#39;m trying to read an ATM-EJ file through spring-batch using a `flatFileItemReader`, it reads everything perfectly except it misses any line starting with #. below is my `itemReder`\r\n\r\n     @Bean\r\n        @Scope(value = &quot;step&quot;, proxyMode = ScopedProxyMode.TARGET_CLASS)\r\n        public FlatFileItemReader flatFileItemReader(@Value(&quot;#{jobParameters}&quot;) Map&lt;String, JobParameter&gt; jobParameters) {\r\n            return new FlatFileItemReaderBuilder&lt;FieldSet&gt;()\r\n                    .name(&quot;flatFileItemReader&quot;)\r\n                    .resource(new PathResource(ProducerUtil.getJobParameterByName(jobParameters, ProducerConstants.MULTILINE_JOB_PARAM_NAME, &quot;inputFilePath&quot;)))\r\n                    //.lineTokenizer(ejFileTokenizer(null))\r\n                    .lineTokenizer(initiateNewTokenizer())\r\n                    .fieldSetMapper(new PassThroughFieldSetMapper())\r\n                    .linesToSkip(Integer.parseInt(ProducerUtil.getJobParameterByName(jobParameters, ProducerConstants.MULTILINE_JOB_PARAM_NAME, &quot;linesToSkip&quot;)))\r\n                    .encoding(&quot;Cp1252&quot;)\r\n                    //.encoding(&quot;UTF-8&quot;)\r\n                    .build();\r\n        }\r\n\r\n**Line Tokenizer** \r\n\r\n    private LineTokenizer initiateNewTokenizer() {\r\n            return new AbstractLineTokenizer() {\r\n                @Override\r\n                protected List&lt;String&gt; doTokenize(String line) {\r\n                    return Arrays.asList(line);\r\n                }\r\n            };\r\n        }\r\n\r\n\r\n**Sample Input**\r\n\r\n         *TRANSACTION START*\r\n    \u001B[020t CARD INSERTED\r\n    \u001B[020tCARD: ****************9847\r\n    DATE 29-12-20    TIME 00:04:34\r\n     00:04:36 ATR RECEIVED T=0\r\n    \u001B[020t 00:04:53 PIN ENTERED\r\n    \u001B[020t 00:04:59 OPCODE = A C  C B\r\n     00:04:59 GENAC 1 : ARQC\r\n    EXTERNAL AUTHENTICATE: NO ARPC\r\n     00:05:02 GENAC 2 : AAC\r\n     00:05:09 ATR RECEIVED T=0\r\n    \u001B[020t 00:05:11 OPCODE = A C  C B\r\n     00:05:11 GENAC 1 : ARQC\r\n     00:05:14 GENAC 2 : TC\r\n    \u001B[020t 00:05:20 NOTES STACKED\r\n    \u001B[020t 00:05:25 CARD TAKEN\r\n    \u001B[020t 00:05:28 NOTES PRESENTED 0,1,0,0\r\n    \r\n    #29/12/20  00:06  ATM0001\r\n    000607934460  1351          29/12/20\r\n    XXXXXXXXXXXXXXXXX\r\n                    CUR100.00 CashWithdrawal  000\r\n    \u001B[020t 00:05:29 NOTES TAKEN\r\n    \u001B[000p\u001B[040q\u001B(1     *1351*1*E*000010000,M-00,R-10100\r\n    \u001B[020t 00:05:36 TRANSACTION END\r\n\r\n\r\nthis is the line that is not being read \r\n\r\n     #29/12/20  00:06  ATM0001\r\n\r\nI&#39;m not sure what&#39;s the issue, could this be encoding? or something to do with tokenizer? I tried debugging and saw that below method does not receives the line starting with #\r\n\r\n     @Override\r\n                protected List&lt;String&gt; doTokenize(String line) {","title":"FlatFileItemReader does not pick up lines starting #","body":"<p>i'm trying to read an ATM-EJ file through spring-batch using a <code>flatFileItemReader</code>, it reads everything perfectly except it misses any line starting with #. below is my <code>itemReder</code></p>\n<pre><code> @Bean\n    @Scope(value = &quot;step&quot;, proxyMode = ScopedProxyMode.TARGET_CLASS)\n    public FlatFileItemReader flatFileItemReader(@Value(&quot;#{jobParameters}&quot;) Map&lt;String, JobParameter&gt; jobParameters) {\n        return new FlatFileItemReaderBuilder&lt;FieldSet&gt;()\n                .name(&quot;flatFileItemReader&quot;)\n                .resource(new PathResource(ProducerUtil.getJobParameterByName(jobParameters, ProducerConstants.MULTILINE_JOB_PARAM_NAME, &quot;inputFilePath&quot;)))\n                //.lineTokenizer(ejFileTokenizer(null))\n                .lineTokenizer(initiateNewTokenizer())\n                .fieldSetMapper(new PassThroughFieldSetMapper())\n                .linesToSkip(Integer.parseInt(ProducerUtil.getJobParameterByName(jobParameters, ProducerConstants.MULTILINE_JOB_PARAM_NAME, &quot;linesToSkip&quot;)))\n                .encoding(&quot;Cp1252&quot;)\n                //.encoding(&quot;UTF-8&quot;)\n                .build();\n    }\n</code></pre>\n<p><strong>Line Tokenizer</strong></p>\n<pre><code>private LineTokenizer initiateNewTokenizer() {\n        return new AbstractLineTokenizer() {\n            @Override\n            protected List&lt;String&gt; doTokenize(String line) {\n                return Arrays.asList(line);\n            }\n        };\n    }\n</code></pre>\n<p><strong>Sample Input</strong></p>\n<pre><code>     *TRANSACTION START*\n[020t CARD INSERTED\n[020tCARD: ****************9847\nDATE 29-12-20    TIME 00:04:34\n 00:04:36 ATR RECEIVED T=0\n[020t 00:04:53 PIN ENTERED\n[020t 00:04:59 OPCODE = A C  C B\n 00:04:59 GENAC 1 : ARQC\nEXTERNAL AUTHENTICATE: NO ARPC\n 00:05:02 GENAC 2 : AAC\n 00:05:09 ATR RECEIVED T=0\n[020t 00:05:11 OPCODE = A C  C B\n 00:05:11 GENAC 1 : ARQC\n 00:05:14 GENAC 2 : TC\n[020t 00:05:20 NOTES STACKED\n[020t 00:05:25 CARD TAKEN\n[020t 00:05:28 NOTES PRESENTED 0,1,0,0\n\n#29/12/20  00:06  ATM0001\n000607934460  1351          29/12/20\nXXXXXXXXXXXXXXXXX\n                CUR100.00 CashWithdrawal  000\n[020t 00:05:29 NOTES TAKEN\n[000p[040q(1     *1351*1*E*000010000,M-00,R-10100\n[020t 00:05:36 TRANSACTION END\n</code></pre>\n<p>this is the line that is not being read</p>\n<pre><code> #29/12/20  00:06  ATM0001\n</code></pre>\n<p>I'm not sure what's the issue, could this be encoding? or something to do with tokenizer? I tried debugging and saw that below method does not receives the line starting with #</p>\n<pre><code> @Override\n            protected List&lt;String&gt; doTokenize(String line) {\n</code></pre>\n"},{"tags":["java","rounding","java-11","decimalformat"],"comments":[{"owner":{"account_id":4637676,"reputation":6936,"user_id":3758439,"accept_rate":100,"display_name":"George Rappel"},"score":2,"creation_date":1648728367,"post_id":71692140,"comment_id":126701363,"body_markdown":"Interesting question, I guess you could take a look at this: https://stackoverflow.com/questions/42423366/odd-result-from-decimalformat-rounding-half-up","body":"Interesting question, I guess you could take a look at this: <a href=\"https://stackoverflow.com/questions/42423366/odd-result-from-decimalformat-rounding-half-up\" title=\"odd result from decimalformat rounding half up\">stackoverflow.com/questions/42423366/&hellip;</a>"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1648728834,"post_id":71692140,"comment_id":126701544,"body_markdown":"Err, you are passing floating point values to the formatter, so you are subject to floating point representation issues. Try to use a solution that takes your numbers as String for example. Meaning: maybe you get different results because the *actual* value that the formatter works on isn&#39;t what you expect it is!","body":"Err, you are passing floating point values to the formatter, so you are subject to floating point representation issues. Try to use a solution that takes your numbers as String for example. Meaning: maybe you get different results because the <i>actual</i> value that the formatter works on isn&#39;t what you expect it is!"},{"owner":{"account_id":9427937,"reputation":33,"user_id":7012334,"display_name":"flitzpiepe96"},"score":0,"creation_date":1648730612,"post_id":71692140,"comment_id":126702267,"body_markdown":"I don&#39;t think precision is my issue. Also happens if I convert it to double (Actually the real use cases is double, I just stripped it down a little too far for the question here ^^)\nI did some debugging and I think its an off-by-one error in java.text.DigitList#shouldRoundUp","body":"I don&#39;t think precision is my issue. Also happens if I convert it to double (Actually the real use cases is double, I just stripped it down a little too far for the question here ^^) I did some debugging and I think its an off-by-one error in java.text.DigitList#shouldRoundUp"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1648739679,"post_id":71692140,"comment_id":126706422,"body_markdown":"The problem happens before `shouldRoundUp`. The method `FloatingDecimal.BinaryToASCIIBuffer.dtoa(…)` produces the sequence `1.84874`, followed by rounding it up to `1.84875` and telling the caller that the value was rounded up already, so `shouldRoundUp` returns `false` because `alreadyRounded` is `true`.","body":"The problem happens before <code>shouldRoundUp</code>. The method <code>FloatingDecimal.BinaryToASCIIBuffer.dtoa(…)</code> produces the sequence <code>1.84874</code>, followed by rounding it up to <code>1.84875</code> and telling the caller that the value was rounded up already, so <code>shouldRoundUp</code> returns <code>false</code> because <code>alreadyRounded</code> is <code>true</code>."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1648739836,"post_id":71692140,"comment_id":126706487,"body_markdown":"By the way, it’s [not the first time there’s a problem with `RoundingMode.HALF_UP`](https://stackoverflow.com/q/24426438/2711488) but this is a different issue.","body":"By the way, it’s <a href=\"https://stackoverflow.com/q/24426438/2711488\">not the first time there’s a problem with <code>RoundingMode.HALF_UP</code></a> but this is a different issue."},{"owner":{"account_id":9427937,"reputation":33,"user_id":7012334,"display_name":"flitzpiepe96"},"score":0,"creation_date":1648818999,"post_id":71692140,"comment_id":126727486,"body_markdown":"Those are two different ways of rounding. The rounding that The ASCIIConverter does is to mitigate floating point inaccuracy isn&#39;t it? The alreadyRounded flag should (in my opinion) never come into effect. The pure fact that we hit the else branch in DigitList.shouldRoundUp that uses this flag is already an issue I think. The comment in that block says &quot;Digit at rounding position is the last one&quot;, which is a lie. There is one additional digit after the rounding position that is plain ignored","body":"Those are two different ways of rounding. The rounding that The ASCIIConverter does is to mitigate floating point inaccuracy isn&#39;t it? The alreadyRounded flag should (in my opinion) never come into effect. The pure fact that we hit the else branch in DigitList.shouldRoundUp that uses this flag is already an issue I think. The comment in that block says &quot;Digit at rounding position is the last one&quot;, which is a lie. There is one additional digit after the rounding position that is plain ignored"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1649148810,"post_id":71692140,"comment_id":126796410,"body_markdown":"“floating point inaccuracy”—that’s the problem. When you assign `1.84875` to a `double`, the actual value stored in the variable is `1.84874999999999989341858963598497211933135986328125`. Which effectively gets rounded down, which is correct for this value. There is no way for the formatter, to distinguish between `format.format(1.84875)` and `format.format(1.8487499999999997824)` (or any value between these two). When you use `format.format(BigDecimal.valueOf(1.84875))`, you get the intended behavior. It behaves like rounding to `1.84875`, without considering it as rounded when formatting.","body":"“floating point inaccuracy”—that’s the problem. When you assign <code>1.84875</code> to a <code>double</code>, the actual value stored in the variable is <code>1.84874999999999989341858963598497211933135986328125</code>. Which effectively gets rounded down, which is correct for this value. There is no way for the formatter, to distinguish between <code>format.format(1.84875)</code> and <code>format.format(1.8487499999999997824)</code> (or any value between these two). When you use <code>format.format(BigDecimal.valueOf(1.84875))</code>, you get the intended behavior. It behaves like rounding to <code>1.84875</code>, without considering it as rounded when formatting."}],"owner":{"account_id":9427937,"reputation":33,"user_id":7012334,"display_name":"flitzpiepe96"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":508,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1648728412,"creation_date":1648728234,"question_id":71692140,"body_markdown":"Am I doing something terribly wrong or does DecimalFormat really have an issue with rounding?\r\n```\r\nDecimalFormat format = new DecimalFormat(&quot;#.####&quot;);\r\nformat.setRoundingMode(RoundingMode.HALF_UP); // .5 up, .4 down?\r\nformat.setDecimalFormatSymbols(DecimalFormatSymbols.getInstance(Locale.ENGLISH)); // . as decimal seperator\r\n\r\nSystem.out.println(format.format(1.848751)); // 1.8488 -&gt; thats correct\r\nSystem.out.println(format.format(1.848750)); // 1.8487 -&gt; that is not correct\r\nSystem.out.println(format.format(1.84875)); // 1.8487 -&gt; that is not correct\r\n```","title":"DecimalFormat rounding issue?","body":"<p>Am I doing something terribly wrong or does DecimalFormat really have an issue with rounding?</p>\n<pre><code>DecimalFormat format = new DecimalFormat(&quot;#.####&quot;);\nformat.setRoundingMode(RoundingMode.HALF_UP); // .5 up, .4 down?\nformat.setDecimalFormatSymbols(DecimalFormatSymbols.getInstance(Locale.ENGLISH)); // . as decimal seperator\n\nSystem.out.println(format.format(1.848751)); // 1.8488 -&gt; thats correct\nSystem.out.println(format.format(1.848750)); // 1.8487 -&gt; that is not correct\nSystem.out.println(format.format(1.84875)); // 1.8487 -&gt; that is not correct\n</code></pre>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":8362290,"reputation":1926,"user_id":6280156,"accept_rate":80,"display_name":"Ankit Tale"},"score":0,"creation_date":1648726061,"post_id":71691628,"comment_id":126700509,"body_markdown":"You need to dd/mm/yyyy hh:mm:ss format for display time is required way.","body":"You need to dd/mm/yyyy hh:mm:ss format for display time is required way."}],"answers":[{"tags":[],"owner":{"account_id":8736099,"reputation":1905,"user_id":6534707,"display_name":"Bhoomika Patel"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1648726326,"creation_date":1648726035,"answer_id":71691668,"question_id":71691628,"body_markdown":"use this format:\r\n\r\n  \r\n\r\n      String.format(&quot;%02d:%02d&quot;,time.hours ,time.minutes)\r\n\r\nuse `%02d` instead of `%d`","title":"how to add Zero to Format Time using String Format class?","body":"<p>use this format:</p>\n<pre><code>  String.format(&quot;%02d:%02d&quot;,time.hours ,time.minutes)\n</code></pre>\n<p>use <code>%02d</code> instead of <code>%d</code></p>\n"}],"owner":{"account_id":15142903,"reputation":171,"user_id":10927448,"display_name":"Ahsan Ali"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":325,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1648727102,"accepted_answer_id":71691668,"answer_count":1,"score":0,"last_activity_date":1648728259,"creation_date":1648725868,"question_id":71691628,"body_markdown":"i want to format date and time with given number like \r\n```kotlin\r\nval time = 4\r\nval hour = 5 \r\n```\r\n\r\nhow to write it like that 4:05\r\n\r\n```kotlin\r\nString.format(&quot;%d:%d&quot;, time.hours, time.minutes)\r\n```\r\n\r\n","title":"how to add Zero to Format Time using String Format class?","body":"<p>i want to format date and time with given number like</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val time = 4\nval hour = 5 \n</code></pre>\n<p>how to write it like that 4:05</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>String.format(&quot;%d:%d&quot;, time.hours, time.minutes)\n</code></pre>\n"},{"tags":["java","c#","android","unity-game-engine","android-intent"],"answers":[{"tags":[],"owner":{"account_id":22248512,"reputation":1,"user_id":16481824,"display_name":"ScryptX"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646337655,"creation_date":1646337655,"answer_id":71343108,"question_id":70878607,"body_markdown":"Sorry for the late response. Thought I&#39;d post this since it may still help you or help somebody else.\r\n\r\nI also tried to serve data from Unity and had the same issue. Instead of using an intent my solution was to call a method in my Android application. Here&#39;s how I did it.\r\n\r\n**On *Unity* side**\r\n\r\n```\r\nstring message = &quot;Hello from Unity!&quot;;\r\nAndroidJavaClass bridgeClass = new AndroidJavaClass(&quot;com.example.BridgeActivity&quot;);\r\nbridgeClass.CallStatic(&quot;unityDataServed&quot;, message);\r\n```\r\n\r\n**On *Android* side**\r\n\r\nCreate a static method (in this example, the method is called unityDataServed) that receives a string as parameter in the class referenced by bridgeClass.","title":"Intents getExtra()/putExtra in Android Api level 30 not working","body":"<p>Sorry for the late response. Thought I'd post this since it may still help you or help somebody else.</p>\n<p>I also tried to serve data from Unity and had the same issue. Instead of using an intent my solution was to call a method in my Android application. Here's how I did it.</p>\n<p><strong>On <em>Unity</em> side</strong></p>\n<pre><code>string message = &quot;Hello from Unity!&quot;;\nAndroidJavaClass bridgeClass = new AndroidJavaClass(&quot;com.example.BridgeActivity&quot;);\nbridgeClass.CallStatic(&quot;unityDataServed&quot;, message);\n</code></pre>\n<p><strong>On <em>Android</em> side</strong></p>\n<p>Create a static method (in this example, the method is called unityDataServed) that receives a string as parameter in the class referenced by bridgeClass.</p>\n"},{"tags":[],"owner":{"account_id":24081977,"reputation":26,"user_id":18056529,"display_name":"BratSlnko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648728162,"creation_date":1648728162,"answer_id":71692125,"question_id":70878607,"body_markdown":"I managed to find a fix for this issue. It seems the newer versions of Android have a separate permission layer for more secure intent action as per this [link](https://trendoceans.com/how-to-fix-the-intent-issue-in-android-11r-api-30-or-higher/).\r\n\r\nBasically I added this line to both applications’ AndroidManifest.xml files (Android Studio app and Unity app):\r\n\r\n`&lt;uses-permission android:name=&quot;android.permission.QUERY_ALL_PACKAGES&quot; tools:ignore=&quot;QueryAllPackagesPermission&quot; /&gt;`\r\n","title":"Intents getExtra()/putExtra in Android Api level 30 not working","body":"<p>I managed to find a fix for this issue. It seems the newer versions of Android have a separate permission layer for more secure intent action as per this <a href=\"https://trendoceans.com/how-to-fix-the-intent-issue-in-android-11r-api-30-or-higher/\" rel=\"nofollow noreferrer\">link</a>.</p>\n<p>Basically I added this line to both applications’ AndroidManifest.xml files (Android Studio app and Unity app):</p>\n<p><code>&lt;uses-permission android:name=&quot;android.permission.QUERY_ALL_PACKAGES&quot; tools:ignore=&quot;QueryAllPackagesPermission&quot; /&gt;</code></p>\n"}],"owner":{"account_id":14749908,"reputation":53,"user_id":10652291,"display_name":"Filip12345"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":686,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71692125,"answer_count":2,"score":0,"last_activity_date":1648728162,"creation_date":1643286711,"question_id":70878607,"body_markdown":"Why doesn&#39;t this code work fine on devices with Android API level 30 (extras are null)?\r\nHowever with API level 29 the extras are not null and we get what we sent.\r\n\r\nThe extras we are sending are just one string.\r\n\r\nWe are launching the intent from Unity app (C#), but not sure if that&#39;s relevant.\r\n\r\n\r\nJava Code in Android Studio\r\n\r\n    public void onResume() {\r\n        super.onResume();\r\n\r\n        \r\n        Bundle extras = getIntent().getExtras();\r\n\r\n        if (extras != null) {\r\n            //not null in 29, null in 30\r\n                }\r\n        }\r\n\r\nUnity(C#) Code\r\n\r\n    AndroidJavaClass up = new AndroidJavaClass(&quot;com.unity3d.player.UnityPlayer&quot;);\r\n    AndroidJavaObject ca = up.GetStatic&lt;AndroidJavaObject&gt;(&quot;currentActivity&quot;);\r\n    AndroidJavaObject packageManager = ca.Call&lt;AndroidJavaObject&gt;(&quot;getPackageManager&quot;);\r\n    AndroidJavaObject launchIntent = null;\r\n    var bundle = &quot;com.xxxxxx.xxxxx&quot;;\r\n    launchIntent=packageManager.Call&lt;AndroidJavaObject(&quot;getLaunchIntentForPackage&quot;,bundle);\r\n    launchIntent.Call&lt;AndroidJavaObject&gt;(&quot;putExtra&quot;, &quot;argument&quot;, &quot;StringArgument&quot;);\r\n    ca.Call(&quot;startActivity&quot;, launchIntent);","title":"Intents getExtra()/putExtra in Android Api level 30 not working","body":"<p>Why doesn't this code work fine on devices with Android API level 30 (extras are null)?\nHowever with API level 29 the extras are not null and we get what we sent.</p>\n<p>The extras we are sending are just one string.</p>\n<p>We are launching the intent from Unity app (C#), but not sure if that's relevant.</p>\n<p>Java Code in Android Studio</p>\n<pre><code>public void onResume() {\n    super.onResume();\n\n    \n    Bundle extras = getIntent().getExtras();\n\n    if (extras != null) {\n        //not null in 29, null in 30\n            }\n    }\n</code></pre>\n<p>Unity(C#) Code</p>\n<pre><code>AndroidJavaClass up = new AndroidJavaClass(&quot;com.unity3d.player.UnityPlayer&quot;);\nAndroidJavaObject ca = up.GetStatic&lt;AndroidJavaObject&gt;(&quot;currentActivity&quot;);\nAndroidJavaObject packageManager = ca.Call&lt;AndroidJavaObject&gt;(&quot;getPackageManager&quot;);\nAndroidJavaObject launchIntent = null;\nvar bundle = &quot;com.xxxxxx.xxxxx&quot;;\nlaunchIntent=packageManager.Call&lt;AndroidJavaObject(&quot;getLaunchIntentForPackage&quot;,bundle);\nlaunchIntent.Call&lt;AndroidJavaObject&gt;(&quot;putExtra&quot;, &quot;argument&quot;, &quot;StringArgument&quot;);\nca.Call(&quot;startActivity&quot;, launchIntent);\n</code></pre>\n"},{"tags":["java","json","inner-classes","jackson"],"answers":[{"tags":[],"owner":{"account_id":11089,"reputation":400030,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1295881728,"creation_date":1295881728,"answer_id":4783540,"question_id":4783421,"body_markdown":"This is a problem with your inner classes. The `Pojo` class is a [non-static inner class][1] of your test class, and Jackson cannot instantiate that class. So it can serialize, but not deserialize.\r\n\r\nRedefine your class like this:\r\n\r\n    public static class Pojo {\r\n        public String foo;\r\n    \r\n        @JsonRawValue\r\n        public String bar;\r\n    }\r\n\r\nNote the addition of `static`\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/tutorial/java/javaOO/nested.html","title":"How can I include raw JSON in an object using Jackson?","body":"<p>This is a problem with your inner classes. The <code>Pojo</code> class is a <a href=\"http://download.oracle.com/javase/tutorial/java/javaOO/nested.html\" rel=\"noreferrer\">non-static inner class</a> of your test class, and Jackson cannot instantiate that class. So it can serialize, but not deserialize.</p>\n\n<p>Redefine your class like this:</p>\n\n<pre><code>public static class Pojo {\n    public String foo;\n\n    @JsonRawValue\n    public String bar;\n}\n</code></pre>\n\n<p>Note the addition of <code>static</code></p>\n"},{"tags":[],"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"down_vote_count":0,"up_vote_count":76,"is_accepted":true,"score":76,"last_activity_date":1295897770,"creation_date":1295897770,"answer_id":4786270,"question_id":4783421,"body_markdown":"@JsonRawValue is intended for serialization-side only, since the reverse direction is a bit trickier to handle. In effect it was added to allow injecting pre-encoded content.\r\n\r\nI guess it would be possible to add support for reverse, although that would be quite awkward: content will have to be parsed, and then re-written back to &quot;raw&quot; form, which may or may not be the same (since character quoting may differ).\r\nThis for general case. But perhaps it would make sense for some subset of problems.\r\n\r\nBut I think a work-around for your specific case would be to specify type as &#39;java.lang.Object&#39;, since this should work ok: for serialization, String will be output as is, and for deserialization, it will be deserialized as a Map. Actually you might want to have separate getter/setter if so; getter would return String for serialization (and needs @JsonRawValue); and setter would take either Map or Object. You could re-encode it to a String if that makes sense.\r\n\r\n","title":"How can I include raw JSON in an object using Jackson?","body":"<p>@JsonRawValue is intended for serialization-side only, since the reverse direction is a bit trickier to handle. In effect it was added to allow injecting pre-encoded content.</p>\n\n<p>I guess it would be possible to add support for reverse, although that would be quite awkward: content will have to be parsed, and then re-written back to \"raw\" form, which may or may not be the same (since character quoting may differ).\nThis for general case. But perhaps it would make sense for some subset of problems.</p>\n\n<p>But I think a work-around for your specific case would be to specify type as 'java.lang.Object', since this should work ok: for serialization, String will be output as is, and for deserialization, it will be deserialized as a Map. Actually you might want to have separate getter/setter if so; getter would return String for serialization (and needs @JsonRawValue); and setter would take either Map or Object. You could re-encode it to a String if that makes sense.</p>\n"},{"tags":[],"owner":{"account_id":255255,"reputation":7114,"user_id":535184,"accept_rate":54,"display_name":"yves amsellem"},"down_vote_count":0,"up_vote_count":66,"is_accepted":false,"score":66,"last_activity_date":1342100081,"creation_date":1342098628,"answer_id":11452577,"question_id":4783421,"body_markdown":"Following [@StaxMan][1] answer, I&#39;ve made the following works like a charm:\r\n\r\n    public class Pojo {\r\n      Object json;\r\n    \r\n      @JsonRawValue\r\n      public String getJson() {\r\n        // default raw value: null or &quot;[]&quot;\r\n        return json == null ? null : json.toString();\r\n      }\r\n    \r\n      public void setJson(JsonNode node) {\r\n        this.json = node;\r\n      }\r\n    }\r\n\r\nAnd, to be faithful to the initial question, here is the working test:\r\n\r\n    public class PojoTest {\r\n      ObjectMapper mapper = new ObjectMapper();\r\n\r\n      @Test\r\n      public void test() throws IOException {\r\n        Pojo pojo = new Pojo(&quot;{\\&quot;foo\\&quot;:18}&quot;);\r\n    \r\n        String output = mapper.writeValueAsString(pojo);\r\n        assertThat(output).isEqualTo(&quot;{\\&quot;json\\&quot;:{\\&quot;foo\\&quot;:18}}&quot;);\r\n    \r\n        Pojo deserialized = mapper.readValue(output, Pojo.class);\r\n        assertThat(deserialized.json.toString()).isEqualTo(&quot;{\\&quot;foo\\&quot;:18}&quot;);\r\n        // deserialized.json == {&quot;foo&quot;:18}\r\n      }\r\n    }\r\n\r\n  [1]: https://stackoverflow.com/users/59501/staxman","title":"How can I include raw JSON in an object using Jackson?","body":"<p>Following <a href=\"https://stackoverflow.com/users/59501/staxman\">@StaxMan</a> answer, I've made the following works like a charm:</p>\n\n<pre><code>public class Pojo {\n  Object json;\n\n  @JsonRawValue\n  public String getJson() {\n    // default raw value: null or \"[]\"\n    return json == null ? null : json.toString();\n  }\n\n  public void setJson(JsonNode node) {\n    this.json = node;\n  }\n}\n</code></pre>\n\n<p>And, to be faithful to the initial question, here is the working test:</p>\n\n<pre><code>public class PojoTest {\n  ObjectMapper mapper = new ObjectMapper();\n\n  @Test\n  public void test() throws IOException {\n    Pojo pojo = new Pojo(\"{\\\"foo\\\":18}\");\n\n    String output = mapper.writeValueAsString(pojo);\n    assertThat(output).isEqualTo(\"{\\\"json\\\":{\\\"foo\\\":18}}\");\n\n    Pojo deserialized = mapper.readValue(output, Pojo.class);\n    assertThat(deserialized.json.toString()).isEqualTo(\"{\\\"foo\\\":18}\");\n    // deserialized.json == {\"foo\":18}\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2460466,"reputation":364,"user_id":2144756,"accept_rate":56,"display_name":"Alex Kubity"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1366359342,"creation_date":1366359342,"answer_id":16100205,"question_id":4783421,"body_markdown":"I had the exact same issue.\r\nI found the solution in this post :\r\nhttps://stackoverflow.com/questions/15659950/parse-json-tree-to-plain-class-using-jackson-or-its-alternatives\r\n\r\nCheck out the last answer.\r\nBy defining a custom setter for the property that takes a JsonNode as parameter and calls the toString method on the jsonNode to set the String property, it all works out.","title":"How can I include raw JSON in an object using Jackson?","body":"<p>I had the exact same issue.\nI found the solution in this post :\n<a href=\"https://stackoverflow.com/questions/15659950/parse-json-tree-to-plain-class-using-jackson-or-its-alternatives\">Parse JSON tree to plain class using Jackson or its alternatives</a></p>\n\n<p>Check out the last answer.\nBy defining a custom setter for the property that takes a JsonNode as parameter and calls the toString method on the jsonNode to set the String property, it all works out.</p>\n"},{"tags":[],"owner":{"account_id":112089,"reputation":22076,"user_id":295797,"accept_rate":73,"display_name":"Roy Truelove"},"down_vote_count":0,"up_vote_count":56,"is_accepted":false,"score":56,"last_activity_date":1648727964,"creation_date":1402067288,"answer_id":24085100,"question_id":4783421,"body_markdown":"I was able to do this with a custom deserializer (cut and pasted from [here][1])\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    package etc;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    import com.fasterxml.jackson.core.JsonParser;\r\n    import com.fasterxml.jackson.core.JsonProcessingException;\r\n    import com.fasterxml.jackson.core.TreeNode;\r\n    import com.fasterxml.jackson.databind.DeserializationContext;\r\n    import com.fasterxml.jackson.databind.JsonDeserializer;\r\n    \r\n    /**\r\n     * Keeps json value as json, does not try to deserialize it\r\n     * @author roytruelove\r\n     *\r\n     */\r\n    public class KeepAsJsonDeserializer extends JsonDeserializer&lt;String&gt; {\r\n    \t\r\n    \t@Override\r\n    \tpublic String deserialize(JsonParser jp, DeserializationContext ctxt)\r\n    \t\t\tthrows IOException {\r\n    \t\t\r\n    \t\tTreeNode tree = jp.getCodec().readTree(jp);\r\n    \t\treturn tree.toString();\r\n    \t}\r\n    }\r\n\r\nUse it by annotating the desired member like this:\r\n\r\n    @JsonDeserialize(using = KeepAsJsonDeserializer.class)\r\n    private String value;\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/24085052/295797","title":"How can I include raw JSON in an object using Jackson?","body":"<p>I was able to do this with a custom deserializer (cut and pasted from <a href=\"https://stackoverflow.com/a/24085052/295797\">here</a>)</p>\n<pre class=\"lang-java prettyprint-override\"><code>package etc;\n\nimport java.io.IOException;\n\nimport com.fasterxml.jackson.core.JsonParser;\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.core.TreeNode;\nimport com.fasterxml.jackson.databind.DeserializationContext;\nimport com.fasterxml.jackson.databind.JsonDeserializer;\n\n/**\n * Keeps json value as json, does not try to deserialize it\n * @author roytruelove\n *\n */\npublic class KeepAsJsonDeserializer extends JsonDeserializer&lt;String&gt; {\n    \n    @Override\n    public String deserialize(JsonParser jp, DeserializationContext ctxt)\n            throws IOException {\n        \n        TreeNode tree = jp.getCodec().readTree(jp);\n        return tree.toString();\n    }\n}\n</code></pre>\n<p>Use it by annotating the desired member like this:</p>\n<pre><code>@JsonDeserialize(using = KeepAsJsonDeserializer.class)\nprivate String value;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2504556,"reputation":345,"user_id":2178666,"display_name":"Vozzie"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1463967564,"creation_date":1463967112,"answer_id":37381437,"question_id":4783421,"body_markdown":"Using an object works fine both ways... This method has a bit of overhead deserializing  the raw value in two times.\r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    RawJsonValue value = new RawJsonValue();\r\n    value.setRawValue(new RawHello(){{this.data = &quot;universe...&quot;;}});\r\n    String json = mapper.writeValueAsString(value);\r\n    System.out.println(json);\r\n    RawJsonValue result = mapper.readValue(json, RawJsonValue.class);\r\n    json = mapper.writeValueAsString(result.getRawValue());\r\n    System.out.println(json);\r\n    RawHello hello = mapper.readValue(json, RawHello.class);\r\n    System.out.println(hello.data);\r\n\r\nRawHello.java\r\n\r\n    public class RawHello {\r\n\r\n        public String data;\r\n    }\r\n\r\n\r\nRawJsonValue.java\r\n\r\n\r\n    public class RawJsonValue {\r\n\r\n        private Object rawValue;\r\n\r\n        public Object getRawValue() {\r\n            return rawValue;\r\n        }\r\n\r\n        public void setRawValue(Object value) {\r\n            this.rawValue = value;\r\n        }\r\n    }\r\n","title":"How can I include raw JSON in an object using Jackson?","body":"<p>Using an object works fine both ways... This method has a bit of overhead deserializing  the raw value in two times.</p>\n\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nRawJsonValue value = new RawJsonValue();\nvalue.setRawValue(new RawHello(){{this.data = \"universe...\";}});\nString json = mapper.writeValueAsString(value);\nSystem.out.println(json);\nRawJsonValue result = mapper.readValue(json, RawJsonValue.class);\njson = mapper.writeValueAsString(result.getRawValue());\nSystem.out.println(json);\nRawHello hello = mapper.readValue(json, RawHello.class);\nSystem.out.println(hello.data);\n</code></pre>\n\n<p>RawHello.java</p>\n\n<pre><code>public class RawHello {\n\n    public String data;\n}\n</code></pre>\n\n<p>RawJsonValue.java</p>\n\n<pre><code>public class RawJsonValue {\n\n    private Object rawValue;\n\n    public Object getRawValue() {\n        return rawValue;\n    }\n\n    public void setRawValue(Object value) {\n        this.rawValue = value;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":392962,"reputation":2140,"user_id":754547,"accept_rate":0,"display_name":"anagaf"},"down_vote_count":1,"up_vote_count":25,"is_accepted":false,"score":24,"last_activity_date":1480934227,"creation_date":1480934227,"answer_id":40972234,"question_id":4783421,"body_markdown":"@JsonSetter may help. See my sample (&#39;data&#39; is supposed to contain unparsed JSON):\r\n\r\n    class Purchase\r\n    {\r\n        String data;\r\n\r\n        @JsonProperty(&quot;signature&quot;)\r\n        String signature;\r\n\r\n        @JsonSetter(&quot;data&quot;)\r\n        void setData(JsonNode data)\r\n        {\r\n            this.data = data.toString();\r\n        }\r\n    }\r\n","title":"How can I include raw JSON in an object using Jackson?","body":"<p>@JsonSetter may help. See my sample ('data' is supposed to contain unparsed JSON):</p>\n\n<pre><code>class Purchase\n{\n    String data;\n\n    @JsonProperty(\"signature\")\n    String signature;\n\n    @JsonSetter(\"data\")\n    void setData(JsonNode data)\n    {\n        this.data = data.toString();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":421872,"reputation":8957,"user_id":800334,"accept_rate":90,"display_name":"Amir Abiri"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1482074412,"creation_date":1482074412,"answer_id":41209812,"question_id":4783421,"body_markdown":"Adding to [Roy Truelove][1]&#39;s great [answer][2], this is how to inject the custom deserialiser in response to appearance of `@JsonRawValue`:\r\n\r\n    import com.fasterxml.jackson.databind.Module;\r\n    \r\n    @Component\r\n    public class ModuleImpl extends Module {\r\n    \r\n        @Override\r\n        public void setupModule(SetupContext context) {\r\n            context.addBeanDeserializerModifier(new BeanDeserializerModifierImpl());\r\n        }\r\n    }\r\n\r\n----------\r\n\r\n    import java.util.Iterator;\r\n    \r\n    import com.fasterxml.jackson.annotation.JsonRawValue;\r\n    import com.fasterxml.jackson.databind.BeanDescription;\r\n    import com.fasterxml.jackson.databind.DeserializationConfig;\r\n    import com.fasterxml.jackson.databind.deser.BeanDeserializerBuilder;\r\n    import com.fasterxml.jackson.databind.deser.BeanDeserializerModifier;\r\n    import com.fasterxml.jackson.databind.deser.SettableBeanProperty;\r\n    \r\n    public class BeanDeserializerModifierImpl extends BeanDeserializerModifier {\r\n        @Override\r\n        public BeanDeserializerBuilder updateBuilder(DeserializationConfig config, BeanDescription beanDesc, BeanDeserializerBuilder builder) {\r\n            Iterator&lt;SettableBeanProperty&gt; it = builder.getProperties();\r\n            while (it.hasNext()) {\r\n                SettableBeanProperty p = it.next();\r\n                if (p.getAnnotation(JsonRawValue.class) != null) {\r\n                    builder.addOrReplaceProperty(p.withValueDeserializer(KeepAsJsonDeserialzier.INSTANCE), true);\r\n                }\r\n            }\r\n            return builder;\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/295797/roy-truelove\r\n  [2]: https://stackoverflow.com/a/24085100/800334","title":"How can I include raw JSON in an object using Jackson?","body":"<p>Adding to <a href=\"https://stackoverflow.com/users/295797/roy-truelove\">Roy Truelove</a>'s great <a href=\"https://stackoverflow.com/a/24085100/800334\">answer</a>, this is how to inject the custom deserialiser in response to appearance of <code>@JsonRawValue</code>:</p>\n\n<pre><code>import com.fasterxml.jackson.databind.Module;\n\n@Component\npublic class ModuleImpl extends Module {\n\n    @Override\n    public void setupModule(SetupContext context) {\n        context.addBeanDeserializerModifier(new BeanDeserializerModifierImpl());\n    }\n}\n</code></pre>\n\n<hr>\n\n<pre><code>import java.util.Iterator;\n\nimport com.fasterxml.jackson.annotation.JsonRawValue;\nimport com.fasterxml.jackson.databind.BeanDescription;\nimport com.fasterxml.jackson.databind.DeserializationConfig;\nimport com.fasterxml.jackson.databind.deser.BeanDeserializerBuilder;\nimport com.fasterxml.jackson.databind.deser.BeanDeserializerModifier;\nimport com.fasterxml.jackson.databind.deser.SettableBeanProperty;\n\npublic class BeanDeserializerModifierImpl extends BeanDeserializerModifier {\n    @Override\n    public BeanDeserializerBuilder updateBuilder(DeserializationConfig config, BeanDescription beanDesc, BeanDeserializerBuilder builder) {\n        Iterator&lt;SettableBeanProperty&gt; it = builder.getProperties();\n        while (it.hasNext()) {\n            SettableBeanProperty p = it.next();\n            if (p.getAnnotation(JsonRawValue.class) != null) {\n                builder.addOrReplaceProperty(p.withValueDeserializer(KeepAsJsonDeserialzier.INSTANCE), true);\n            }\n        }\n        return builder;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9454217,"reputation":81,"user_id":7030012,"display_name":"Pavol Golias"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1485763504,"creation_date":1485763504,"answer_id":41931254,"question_id":4783421,"body_markdown":"This easy solution worked for me:\r\n\r\n    public class MyObject {\r\n        private Object rawJsonValue;\r\n\t\r\n\t    public Object getRawJsonValue() {\r\n            return rawJsonValue;\r\n        }\r\n\r\n        public void setRawJsonValue(Object rawJsonValue) {\r\n            this.rawJsonValue = rawJsonValue;\r\n        }\r\n    }\r\n\r\nSo I was able to store raw value of JSON in rawJsonValue variable and then it was no problem to deserialize it (as object) with other fields back to JSON and send via my REST. Using @JsonRawValue didnt helped me because stored JSON was deserialized as String, not as object, and that was not what I wanted.\r\n\r\n\r\n\r\n","title":"How can I include raw JSON in an object using Jackson?","body":"<p>This easy solution worked for me:</p>\n\n<pre><code>public class MyObject {\n    private Object rawJsonValue;\n\n    public Object getRawJsonValue() {\n        return rawJsonValue;\n    }\n\n    public void setRawJsonValue(Object rawJsonValue) {\n        this.rawJsonValue = rawJsonValue;\n    }\n}\n</code></pre>\n\n<p>So I was able to store raw value of JSON in rawJsonValue variable and then it was no problem to deserialize it (as object) with other fields back to JSON and send via my REST. Using @JsonRawValue didnt helped me because stored JSON was deserialized as String, not as object, and that was not what I wanted.</p>\n"},{"tags":[],"owner":{"account_id":1059620,"reputation":987,"user_id":1061519,"accept_rate":83,"display_name":"Georg"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1543313946,"creation_date":1500840360,"answer_id":45269425,"question_id":4783421,"body_markdown":"This even works in a JPA entity:\r\n\r\n    private String json;\r\n\r\n    @JsonRawValue\r\n    public String getJson() {\r\n        return json;\r\n    }\r\n\r\n    public void setJson(final String json) {\r\n        this.json = json;\r\n    }\r\n\r\n    @JsonProperty(value = &quot;json&quot;)\r\n    public void setJsonRaw(JsonNode jsonNode) {\r\n        // this leads to non-standard json, see discussion: \r\n        // setJson(jsonNode.toString());\r\n        \r\n        StringWriter stringWriter = new StringWriter();\r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n        JsonGenerator generator = \r\n          new JsonFactory(objectMapper).createGenerator(stringWriter);\r\n        generator.writeTree(n);\r\n        setJson(stringWriter.toString());\r\n    }\r\n\r\nIdeally the ObjectMapper and even JsonFactory are from the context and are configured so as to handle your JSON correctly (standard or with non-standard values like &#39;Infinity&#39; floats for example).","title":"How can I include raw JSON in an object using Jackson?","body":"<p>This even works in a JPA entity:</p>\n\n<pre><code>private String json;\n\n@JsonRawValue\npublic String getJson() {\n    return json;\n}\n\npublic void setJson(final String json) {\n    this.json = json;\n}\n\n@JsonProperty(value = \"json\")\npublic void setJsonRaw(JsonNode jsonNode) {\n    // this leads to non-standard json, see discussion: \n    // setJson(jsonNode.toString());\n\n    StringWriter stringWriter = new StringWriter();\n    ObjectMapper objectMapper = new ObjectMapper();\n    JsonGenerator generator = \n      new JsonFactory(objectMapper).createGenerator(stringWriter);\n    generator.writeTree(n);\n    setJson(stringWriter.toString());\n}\n</code></pre>\n\n<p>Ideally the ObjectMapper and even JsonFactory are from the context and are configured so as to handle your JSON correctly (standard or with non-standard values like 'Infinity' floats for example).</p>\n"},{"tags":[],"owner":{"account_id":6720924,"reputation":5542,"user_id":5180989,"display_name":"Helder Pereira"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1510168556,"creation_date":1510147859,"answer_id":47181047,"question_id":4783421,"body_markdown":"Here is a full working example of how to use Jackson modules to make `@JsonRawValue` work both ways (serialization and deserialization):\r\n\r\n    public class JsonRawValueDeserializerModule extends SimpleModule {\r\n    \r\n        public JsonRawValueDeserializerModule() {\r\n            setDeserializerModifier(new JsonRawValueDeserializerModifier());\r\n        }\r\n    \r\n        private static class JsonRawValueDeserializerModifier extends BeanDeserializerModifier {\r\n            @Override\r\n            public BeanDeserializerBuilder updateBuilder(DeserializationConfig config, BeanDescription beanDesc, BeanDeserializerBuilder builder) {\r\n                builder.getProperties().forEachRemaining(property -&gt; {\r\n                    if (property.getAnnotation(JsonRawValue.class) != null) {\r\n                        builder.addOrReplaceProperty(property.withValueDeserializer(JsonRawValueDeserializer.INSTANCE), true);\r\n                    }\r\n                });\r\n                return builder;\r\n            }\r\n        }\r\n    \r\n        private static class JsonRawValueDeserializer extends JsonDeserializer&lt;String&gt; {\r\n            private static final JsonDeserializer&lt;String&gt; INSTANCE = new JsonRawValueDeserializer();\r\n    \r\n            @Override\r\n            public String deserialize(JsonParser p, DeserializationContext ctxt) throws IOException, JsonProcessingException {\r\n                return p.readValueAsTree().toString();\r\n            }\r\n        }\r\n    }\r\n\r\nThen you can register the module after creating the `ObjectMapper`:\r\n\r\n    ObjectMapper objectMapper = new ObjectMapper();\r\n    objectMapper.registerModule(new JsonRawValueDeserializerModule());\r\n\r\n    String json = &quot;{\\&quot;foo\\&quot;:\\&quot;one\\&quot;,\\&quot;bar\\&quot;:{\\&quot;A\\&quot;:false}}&quot;;\r\n    Pojo deserialized = objectMapper.readValue(json, Pojo.class);\r\n","title":"How can I include raw JSON in an object using Jackson?","body":"<p>Here is a full working example of how to use Jackson modules to make <code>@JsonRawValue</code> work both ways (serialization and deserialization):</p>\n\n<pre><code>public class JsonRawValueDeserializerModule extends SimpleModule {\n\n    public JsonRawValueDeserializerModule() {\n        setDeserializerModifier(new JsonRawValueDeserializerModifier());\n    }\n\n    private static class JsonRawValueDeserializerModifier extends BeanDeserializerModifier {\n        @Override\n        public BeanDeserializerBuilder updateBuilder(DeserializationConfig config, BeanDescription beanDesc, BeanDeserializerBuilder builder) {\n            builder.getProperties().forEachRemaining(property -&gt; {\n                if (property.getAnnotation(JsonRawValue.class) != null) {\n                    builder.addOrReplaceProperty(property.withValueDeserializer(JsonRawValueDeserializer.INSTANCE), true);\n                }\n            });\n            return builder;\n        }\n    }\n\n    private static class JsonRawValueDeserializer extends JsonDeserializer&lt;String&gt; {\n        private static final JsonDeserializer&lt;String&gt; INSTANCE = new JsonRawValueDeserializer();\n\n        @Override\n        public String deserialize(JsonParser p, DeserializationContext ctxt) throws IOException, JsonProcessingException {\n            return p.readValueAsTree().toString();\n        }\n    }\n}\n</code></pre>\n\n<p>Then you can register the module after creating the <code>ObjectMapper</code>:</p>\n\n<pre><code>ObjectMapper objectMapper = new ObjectMapper();\nobjectMapper.registerModule(new JsonRawValueDeserializerModule());\n\nString json = \"{\\\"foo\\\":\\\"one\\\",\\\"bar\\\":{\\\"A\\\":false}}\";\nPojo deserialized = objectMapper.readValue(json, Pojo.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12295410,"reputation":621,"user_id":8971198,"display_name":"Biga"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1529440425,"creation_date":1529440425,"answer_id":50936524,"question_id":4783421,"body_markdown":"I had a similar problem, but using a list with a lot of JSON itens (`List&lt;String&gt;`).\r\n\r\n    public class Errors {\r\n        private Integer status;\r\n        private List&lt;String&gt; jsons;\r\n    }\r\n\r\nI managed the serialization using the `@JsonRawValue` annotation. But for deserialization I had to create a custom **deserializer** based on Roy&#39;s suggestion.\r\n\r\n    public class Errors {\r\n\r\n        private Integer status;\r\n\r\n        @JsonRawValue\r\n        @JsonDeserialize(using = JsonListPassThroughDeserialzier.class)\r\n        private List&lt;String&gt; jsons;\r\n\r\n    }\r\n\r\nBelow you can see my &quot;List&quot; deserializer.\r\n\r\n    public class JsonListPassThroughDeserializer extends JsonDeserializer&lt;List&lt;String&gt;&gt; {\r\n\r\n        @Override\r\n        public List&lt;String&gt; deserialize(JsonParser jp, DeserializationContext cxt) throws IOException, JsonProcessingException {\r\n            if (jp.getCurrentToken() == JsonToken.START_ARRAY) {\r\n                final List&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n                while (jp.nextToken() != JsonToken.END_ARRAY) {\r\n                    list.add(jp.getCodec().readTree(jp).toString());\r\n                }\r\n                return list;\r\n            }\r\n            throw cxt.instantiationException(List.class, &quot;Expected Json list&quot;);\r\n        }\r\n    }\r\n\r\n","title":"How can I include raw JSON in an object using Jackson?","body":"<p>I had a similar problem, but using a list with a lot of JSON itens (<code>List&lt;String&gt;</code>).</p>\n\n<pre><code>public class Errors {\n    private Integer status;\n    private List&lt;String&gt; jsons;\n}\n</code></pre>\n\n<p>I managed the serialization using the <code>@JsonRawValue</code> annotation. But for deserialization I had to create a custom <strong>deserializer</strong> based on Roy's suggestion.</p>\n\n<pre><code>public class Errors {\n\n    private Integer status;\n\n    @JsonRawValue\n    @JsonDeserialize(using = JsonListPassThroughDeserialzier.class)\n    private List&lt;String&gt; jsons;\n\n}\n</code></pre>\n\n<p>Below you can see my \"List\" deserializer.</p>\n\n<pre><code>public class JsonListPassThroughDeserializer extends JsonDeserializer&lt;List&lt;String&gt;&gt; {\n\n    @Override\n    public List&lt;String&gt; deserialize(JsonParser jp, DeserializationContext cxt) throws IOException, JsonProcessingException {\n        if (jp.getCurrentToken() == JsonToken.START_ARRAY) {\n            final List&lt;String&gt; list = new ArrayList&lt;&gt;();\n            while (jp.nextToken() != JsonToken.END_ARRAY) {\n                list.add(jp.getCodec().readTree(jp).toString());\n            }\n            return list;\n        }\n        throw cxt.instantiationException(List.class, \"Expected Json list\");\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":70084,"reputation":1491,"user_id":203593,"display_name":"bhilstrom"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121243,"favorite_count":0,"down_vote_count":0,"up_vote_count":130,"accepted_answer_id":4786270,"answer_count":12,"score":130,"last_activity_date":1648727964,"creation_date":1295880978,"question_id":4783421,"body_markdown":"I am trying to include raw JSON inside a Java object when the object is (de)serialized using Jackson. In order to test this functionality, I wrote the following test:\r\n\r\n\tpublic static class Pojo {\r\n\t\tpublic String foo;\r\n\t\t\r\n\t\t@JsonRawValue\r\n\t\tpublic String bar;\r\n\t}\r\n\t\r\n\t@Test\r\n\tpublic void test() throws JsonGenerationException, JsonMappingException, IOException {\r\n\t\t\r\n\t\tString foo = &quot;one&quot;;\r\n\t\tString bar = &quot;{\\&quot;A\\&quot;:false}&quot;;\r\n\t\r\n\t\tPojo pojo = new Pojo();\r\n\t\tpojo.foo = foo;\r\n\t\tpojo.bar = bar;\r\n\t\r\n\t\tString json = &quot;{\\&quot;foo\\&quot;:\\&quot;&quot; + foo + &quot;\\&quot;,\\&quot;bar\\&quot;:&quot; + bar + &quot;}&quot;;\r\n\t\t\r\n\t\tObjectMapper objectMapper = new ObjectMapper();\r\n\t\tString output = objectMapper.writeValueAsString(pojo);\r\n\t\tSystem.out.println(output);\r\n\t\tassertEquals(json, output);\r\n\t\t\r\n\t\tPojo deserialized = objectMapper.readValue(output, Pojo.class);\r\n\t\tassertEquals(foo, deserialized.foo);\r\n\t\tassertEquals(bar, deserialized.bar);\r\n\t}\r\n\r\nThe code outputs the following line:\r\n\r\n    {&quot;foo&quot;:&quot;one&quot;,&quot;bar&quot;:{&quot;A&quot;:false}}\r\n\r\nThe JSON is exactly how I want things to look. Unfortunately, the code fails with an exception when attempting to read the JSON back in to the object. Here is the exception:\r\n\r\n&gt;    org.codehaus.jackson.map.JsonMappingException: Can not deserialize instance of java.lang.String out of START_OBJECT token\r\n     at [Source: java.io.StringReader@d70d7a; line: 1, column: 13] (through reference chain: com.tnal.prism.cobalt.gather.testing.Pojo[&quot;bar&quot;])\r\n\r\nWhy does Jackson function just fine in one direction but fail when going the other direction? It seems like it should be able to take its own output as input again. I know what I&#39;m trying to do is unorthodox (the general advice is to create an inner object for `bar` that has a property named `A`), but I don&#39;t want to interact with this JSON at all. My code is acting as a pass-through for this code -- I want to take in this JSON and send it back out again without touching a thing, because when the JSON changes I don&#39;t want my code to need modifications.\r\n\r\nThanks for the advice.\r\n\r\nEDIT: Made Pojo a static class, which was causing a different error.","title":"How can I include raw JSON in an object using Jackson?","body":"<p>I am trying to include raw JSON inside a Java object when the object is (de)serialized using Jackson. In order to test this functionality, I wrote the following test:</p>\n\n<pre><code>public static class Pojo {\n    public String foo;\n\n    @JsonRawValue\n    public String bar;\n}\n\n@Test\npublic void test() throws JsonGenerationException, JsonMappingException, IOException {\n\n    String foo = \"one\";\n    String bar = \"{\\\"A\\\":false}\";\n\n    Pojo pojo = new Pojo();\n    pojo.foo = foo;\n    pojo.bar = bar;\n\n    String json = \"{\\\"foo\\\":\\\"\" + foo + \"\\\",\\\"bar\\\":\" + bar + \"}\";\n\n    ObjectMapper objectMapper = new ObjectMapper();\n    String output = objectMapper.writeValueAsString(pojo);\n    System.out.println(output);\n    assertEquals(json, output);\n\n    Pojo deserialized = objectMapper.readValue(output, Pojo.class);\n    assertEquals(foo, deserialized.foo);\n    assertEquals(bar, deserialized.bar);\n}\n</code></pre>\n\n<p>The code outputs the following line:</p>\n\n<pre><code>{\"foo\":\"one\",\"bar\":{\"A\":false}}\n</code></pre>\n\n<p>The JSON is exactly how I want things to look. Unfortunately, the code fails with an exception when attempting to read the JSON back in to the object. Here is the exception:</p>\n\n<blockquote>\n  <p>org.codehaus.jackson.map.JsonMappingException: Can not deserialize instance of java.lang.String out of START_OBJECT token\n       at [Source: java.io.StringReader@d70d7a; line: 1, column: 13] (through reference chain: com.tnal.prism.cobalt.gather.testing.Pojo[\"bar\"])</p>\n</blockquote>\n\n<p>Why does Jackson function just fine in one direction but fail when going the other direction? It seems like it should be able to take its own output as input again. I know what I'm trying to do is unorthodox (the general advice is to create an inner object for <code>bar</code> that has a property named <code>A</code>), but I don't want to interact with this JSON at all. My code is acting as a pass-through for this code -- I want to take in this JSON and send it back out again without touching a thing, because when the JSON changes I don't want my code to need modifications.</p>\n\n<p>Thanks for the advice.</p>\n\n<p>EDIT: Made Pojo a static class, which was causing a different error.</p>\n"},{"tags":["java","apache-kafka"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1648732932,"post_id":71691517,"comment_id":126703372,"body_markdown":"Regarding &quot;how&quot; - have you searched the Kafka source code?","body":"Regarding &quot;how&quot; - have you searched the Kafka source code?"},{"owner":{"account_id":22714252,"reputation":43,"user_id":16879770,"display_name":"vaibhavp"},"score":0,"creation_date":1648735029,"post_id":71691517,"comment_id":126704256,"body_markdown":"@OneCricketeer, I tried, but a lot is going on there and i could not find any logic as such where state is being assigned","body":"@OneCricketeer, I tried, but a lot is going on there and i could not find any logic as such where state is being assigned"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1648739813,"post_id":71691517,"comment_id":126706477,"body_markdown":"What exactly do you need this information for? As far as I know, these enums are only exposed via logging, and not the AdminClient. But to answer part of the question - Stable comes after competing and completing after preparing. Dead and Empty are for when there are no consumers in the group and Unknown is a default for when none of the others can be found.","body":"What exactly do you need this information for? As far as I know, these enums are only exposed via logging, and not the AdminClient. But to answer part of the question - Stable comes after competing and completing after preparing. Dead and Empty are for when there are no consumers in the group and Unknown is a default for when none of the others can be found."},{"owner":{"account_id":22714252,"reputation":43,"user_id":16879770,"display_name":"vaibhavp"},"score":0,"creation_date":1648809805,"post_id":71691517,"comment_id":126724104,"body_markdown":"@OneCricketeer these enums are exposed via admin client apis. I need the information because i need to programatically delete consumer groups not in use","body":"@OneCricketeer these enums are exposed via admin client apis. I need the information because i need to programatically delete consumer groups not in use"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1648817311,"post_id":71691517,"comment_id":126726770,"body_markdown":"Consumer groups are automatically deleted over time and having idle ones isn&#39;t a problem. You could also just list them all, loop, then describe, then check if there are active members without any of these enums","body":"Consumer groups are automatically deleted over time and having idle ones isn&#39;t a problem. You could also just list them all, loop, then describe, then check if there are active members without any of these enums"},{"owner":{"account_id":22714252,"reputation":43,"user_id":16879770,"display_name":"vaibhavp"},"score":0,"creation_date":1648819204,"post_id":71691517,"comment_id":126727566,"body_markdown":"That same describe api provides these enum states as well. Also, sometimes it does not show any members, when this is not really the case for that consumer group. @OneCricketeer","body":"That same describe api provides these enum states as well. Also, sometimes it does not show any members, when this is not really the case for that consumer group. @OneCricketeer"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1648820005,"post_id":71691517,"comment_id":126727901,"body_markdown":"Okay, well, like I said, you should try filtering for DEAD/EMPTY/UNKNOWN, and you can try to delete those (or, just let the groups automatically get deleted)","body":"Okay, well, like I said, you should try filtering for DEAD/EMPTY/UNKNOWN, and you can try to delete those (or, just let the groups automatically get deleted)"}],"owner":{"account_id":22714252,"reputation":43,"user_id":16879770,"display_name":"vaibhavp"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":638,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1648727958,"creation_date":1648725274,"question_id":71691517,"body_markdown":"The Kafka Admin client has apis that can produce details of Consumer Groups. One such detail is [Consumer State](https://kafka.apache.org/20/javadoc/org/apache/kafka/common/ConsumerGroupState.html). Below are the states mentioned in the apis, with no documentation.\r\n\r\nApart from Rebalancing, i can not figure out what the other states relate to. Does anyone have any idea or documentation somewhere which provides any information about what these states mean and how kafka assigns them to consumer groups?\r\n\r\n[![](https://i.stack.imgur.com/5galB.png)](https://i.stack.imgur.com/5galB.png)","title":"Kafka Admin Client Consumer Group states","body":"<p>The Kafka Admin client has apis that can produce details of Consumer Groups. One such detail is <a href=\"https://kafka.apache.org/20/javadoc/org/apache/kafka/common/ConsumerGroupState.html\" rel=\"nofollow noreferrer\">Consumer State</a>. Below are the states mentioned in the apis, with no documentation.</p>\n<p>Apart from Rebalancing, i can not figure out what the other states relate to. Does anyone have any idea or documentation somewhere which provides any information about what these states mean and how kafka assigns them to consumer groups?</p>\n<p><a href=\"https://i.stack.imgur.com/5galB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5galB.png\" alt=\"\" /></a></p>\n"},{"tags":["java","azure","azureservicebus","azure-servicebus-queues"],"comments":[{"owner":{"account_id":20153222,"reputation":21,"user_id":14780065,"display_name":"Sriram Muralidaran"},"score":0,"creation_date":1648653528,"post_id":71679886,"comment_id":126680460,"body_markdown":"Also tried with azure bom as mentioned in the link https://github.com/Azure/azure-sdk-for-java/blob/main/sdk/boms/azure-sdk-bom/README.md    .Previously 7.0.2 version was working fine today only faced this issue.","body":"Also tried with azure bom as mentioned in the link <a href=\"https://github.com/Azure/azure-sdk-for-java/blob/main/sdk/boms/azure-sdk-bom/README.md\" rel=\"nofollow noreferrer\">github.com/Azure/azure-sdk-for-java/blob/main/sdk/boms/&hellip;</a>    .Previously 7.0.2 version was working fine today only faced this issue."},{"owner":{"account_id":10725921,"reputation":1866,"user_id":9303470,"display_name":"Ecstasy"},"score":0,"creation_date":1655353107,"post_id":71679886,"comment_id":128313702,"body_markdown":"[ClassNotFoundException: com.azure.messaging.servicebus.ServiceBusClientBuilder$ServiceBusSenderClientBuilde](https://stackoverflow.com/questions/72633891/classnotfoundexception-com-azure-messaging-servicebus-servicebusclientbuilders#comment128313672_72633891)","body":"<a href=\"https://stackoverflow.com/questions/72633891/classnotfoundexception-com-azure-messaging-servicebus-servicebusclientbuilders#comment128313672_72633891\">ClassNotFoundException: com.azure.messaging.servicebus.ServiceBusClientBuilder$Servi&zwnj;&#8203;ceBusSenderClientBui&zwnj;&#8203;lde</a>"}],"owner":{"account_id":20153222,"reputation":21,"user_id":14780065,"display_name":"Sriram Muralidaran"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":477,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1648727797,"creation_date":1648653455,"question_id":71679886,"body_markdown":"Error injecting constructor, java.lang.NoClassDefFoundError: com/azure/messaging/servicebus/ServiceBusClientBuilder\r\n\r\nTried with dependency version : 7.0.2.\r\n\r\nAlso tried with latest version of azure service bus dependency causing runtime error.\r\n\r\nTried with all azure service bus dependency still issue persist.","title":"Java Azure service bus throwing error at run time","body":"<p>Error injecting constructor, java.lang.NoClassDefFoundError: com/azure/messaging/servicebus/ServiceBusClientBuilder</p>\n<p>Tried with dependency version : 7.0.2.</p>\n<p>Also tried with latest version of azure service bus dependency causing runtime error.</p>\n<p>Tried with all azure service bus dependency still issue persist.</p>\n"},{"tags":["java","string","date"],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":6,"up_vote_count":145,"is_accepted":true,"score":139,"last_activity_date":1648727789,"creation_date":1313647674,"answer_id":7103102,"question_id":7103064,"body_markdown":"Note: this answer was written in 2011. I would recommend using `java.time` now instead of Joda Time.\r\n\r\nWell to start with, you should *only* deal with them as strings when you have to. Most of the time you should work with them in a data type which actually describes the data you&#39;re working with.\r\n\r\nI would recommend that you use [Joda Time][1], which is a much better API than `Date`/`Calendar`. It sounds like you should use the [`LocalDate`][2] type in this case. You can then use:\r\n\r\n    int days = Days.daysBetween(date1, date2).getDays();\r\n\r\n\r\n  [1]: http://www.joda.org/joda-time/\r\n  [2]: http://joda-time.sourceforge.net/api-release/org/joda/time/LocalDate.html","title":"Java, Calculate the number of days between two dates","body":"<p>Note: this answer was written in 2011. I would recommend using <code>java.time</code> now instead of Joda Time.</p>\n<p>Well to start with, you should <em>only</em> deal with them as strings when you have to. Most of the time you should work with them in a data type which actually describes the data you're working with.</p>\n<p>I would recommend that you use <a href=\"http://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\">Joda Time</a>, which is a much better API than <code>Date</code>/<code>Calendar</code>. It sounds like you should use the <a href=\"http://joda-time.sourceforge.net/api-release/org/joda/time/LocalDate.html\" rel=\"nofollow noreferrer\"><code>LocalDate</code></a> type in this case. You can then use:</p>\n<pre><code>int days = Days.daysBetween(date1, date2).getDays();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":398001,"reputation":25015,"user_id":762449,"display_name":"talha2k"},"down_vote_count":2,"up_vote_count":13,"is_accepted":false,"score":11,"last_activity_date":1499950349,"creation_date":1313647687,"answer_id":7103103,"question_id":7103064,"body_markdown":"here&#39;s a small program which may help you:\r\n\r\n    import java.util.*;\r\n\r\n    public class DateDifference {\r\n        public static void main(String args[]){\r\n            DateDifference difference = new DateDifference();\r\n        }\r\n\r\n        DateDifference() {\r\n            Calendar cal1 = new GregorianCalendar();\r\n            Calendar cal2 = new GregorianCalendar();\r\n    \r\n            cal1.set(2010, 12, 1); \r\n            cal2.set(2011, 9, 31);\r\n            System.out.println(&quot;Days= &quot;+daysBetween(cal1.getTime(),cal2.getTime()));\r\n        }\r\n\r\n        public int daysBetween(Date d1, Date d2) {\r\n            return (int)( (d2.getTime() - d1.getTime()) / (1000 * 60 * 60 * 24));\r\n        }\r\n    }","title":"Java, Calculate the number of days between two dates","body":"<p>here's a small program which may help you:</p>\n\n<pre><code>import java.util.*;\n\npublic class DateDifference {\n    public static void main(String args[]){\n        DateDifference difference = new DateDifference();\n    }\n\n    DateDifference() {\n        Calendar cal1 = new GregorianCalendar();\n        Calendar cal2 = new GregorianCalendar();\n\n        cal1.set(2010, 12, 1); \n        cal2.set(2011, 9, 31);\n        System.out.println(\"Days= \"+daysBetween(cal1.getTime(),cal2.getTime()));\n    }\n\n    public int daysBetween(Date d1, Date d2) {\n        return (int)( (d2.getTime() - d1.getTime()) / (1000 * 60 * 60 * 24));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":396748,"reputation":30697,"user_id":760489,"accept_rate":72,"display_name":"Pratik"},"down_vote_count":9,"up_vote_count":57,"is_accepted":false,"score":48,"last_activity_date":1313647966,"creation_date":1313647966,"answer_id":7103141,"question_id":7103064,"body_markdown":"try this code\r\n\r\n\t\t Calendar cal1 = new GregorianCalendar();\r\n\t\t Calendar cal2 = new GregorianCalendar();\r\n\r\n\t\t SimpleDateFormat sdf = new SimpleDateFormat(&quot;ddMMyyyy&quot;);\r\n\t\t \r\n\t\t Date date = sdf.parse(&quot;your first date&quot;);\r\n\t\t cal1.setTime(date)\r\n\t\t date = sdf.parse(&quot;your second date&quot;);\r\n\t\t cal2.setTime(date);\r\n\t\t \r\n\t\t//cal1.set(2008, 8, 1); \r\n\t\t //cal2.set(2008, 9, 31);\r\n\t\t System.out.println(&quot;Days= &quot;+daysBetween(cal1.getTime(),cal2.getTime()));\r\n\r\nthis function \r\n    \r\n\r\n         public int daysBetween(Date d1, Date d2){\r\n\t\t         return (int)( (d2.getTime() - d1.getTime()) / (1000 * 60 * 60 * 24));\r\n\t     }","title":"Java, Calculate the number of days between two dates","body":"<p>try this code</p>\n\n<pre><code>     Calendar cal1 = new GregorianCalendar();\n     Calendar cal2 = new GregorianCalendar();\n\n     SimpleDateFormat sdf = new SimpleDateFormat(\"ddMMyyyy\");\n\n     Date date = sdf.parse(\"your first date\");\n     cal1.setTime(date)\n     date = sdf.parse(\"your second date\");\n     cal2.setTime(date);\n\n    //cal1.set(2008, 8, 1); \n     //cal2.set(2008, 9, 31);\n     System.out.println(\"Days= \"+daysBetween(cal1.getTime(),cal2.getTime()));\n</code></pre>\n\n<p>this function </p>\n\n<pre><code>     public int daysBetween(Date d1, Date d2){\n             return (int)( (d2.getTime() - d1.getTime()) / (1000 * 60 * 60 * 24));\n     }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1467,"reputation":5041,"user_id":1958,"accept_rate":100,"display_name":"Michael Sharek"},"down_vote_count":13,"up_vote_count":2,"is_accepted":false,"score":-11,"last_activity_date":1313697343,"creation_date":1313697343,"answer_id":7113328,"question_id":7103064,"body_markdown":"If you&#39;re sick of messing with java you can just send it to db2 as part of your query:\r\n\r\n    select date1, date2, days(date1) - days(date2) from table\r\n\r\nwill return date1, date2 and the difference in days between the two.","title":"Java, Calculate the number of days between two dates","body":"<p>If you're sick of messing with java you can just send it to db2 as part of your query:</p>\n\n<pre><code>select date1, date2, days(date1) - days(date2) from table\n</code></pre>\n\n<p>will return date1, date2 and the difference in days between the two.</p>\n"},{"tags":[],"owner":{"account_id":1162490,"reputation":119,"user_id":1141724,"display_name":"Wael Ellithy"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1357906993,"creation_date":1357906993,"answer_id":14278129,"question_id":7103064,"body_markdown":"    // http://en.wikipedia.org/wiki/Julian_day\r\n    public static int julianDay(int year, int month, int day) {\r\n      int a = (14 - month) / 12;\r\n      int y = year + 4800 - a;\r\n      int m = month + 12 * a - 3;\r\n      int jdn = day + (153 * m + 2)/5 + 365*y + y/4 - y/100 + y/400 - 32045;\r\n      return jdn;\r\n    }\r\n    \r\n    public static int diff(int y1, int m1, int d1, int y2, int m2, int d2) {\r\n      return julianDay(y1, m1, d1) - julianDay(y2, m2, d2);\r\n    }\r\n","title":"Java, Calculate the number of days between two dates","body":"<pre><code>// http://en.wikipedia.org/wiki/Julian_day\npublic static int julianDay(int year, int month, int day) {\n  int a = (14 - month) / 12;\n  int y = year + 4800 - a;\n  int m = month + 12 * a - 3;\n  int jdn = day + (153 * m + 2)/5 + 365*y + y/4 - y/100 + y/400 - 32045;\n  return jdn;\n}\n\npublic static int diff(int y1, int m1, int d1, int y2, int m2, int d2) {\n  return julianDay(y1, m1, d1) - julianDay(y2, m2, d2);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":698820,"reputation":718,"user_id":585951,"accept_rate":60,"display_name":"DrDave"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1576081059,"creation_date":1358791848,"answer_id":14444713,"question_id":7103064,"body_markdown":"My best solution (so far) for calculating the number of days difference: \r\n\r\n    //  This assumes that you already have two Date objects: startDate, endDate\r\n    //  Also, that you want to ignore any time portions\r\n    \r\n    Calendar startCale=new GregorianCalendar();\r\n    Calendar endCal=new GregorianCalendar();\r\n    \r\n    startCal.setTime(startDate);\r\n    endCal.setTime(endDate);\r\n    \r\n    endCal.add(Calendar.YEAR,-startCal.get(Calendar.YEAR));\r\n    endCal.add(Calendar.MONTH,-startCal.get(Calendar.MONTH));\r\n    endCal.add(Calendar.DATE,-startCal.get(Calendar.DATE));\r\n    \r\n    int daysDifference=endCal.get(Calendar.DAY_OF_YEAR);\r\n\r\nNote, however, that this assumes less than a year&#39;s difference!  \r\n","title":"Java, Calculate the number of days between two dates","body":"<p>My best solution (so far) for calculating the number of days difference: </p>\n\n<pre><code>//  This assumes that you already have two Date objects: startDate, endDate\n//  Also, that you want to ignore any time portions\n\nCalendar startCale=new GregorianCalendar();\nCalendar endCal=new GregorianCalendar();\n\nstartCal.setTime(startDate);\nendCal.setTime(endDate);\n\nendCal.add(Calendar.YEAR,-startCal.get(Calendar.YEAR));\nendCal.add(Calendar.MONTH,-startCal.get(Calendar.MONTH));\nendCal.add(Calendar.DATE,-startCal.get(Calendar.DATE));\n\nint daysDifference=endCal.get(Calendar.DAY_OF_YEAR);\n</code></pre>\n\n<p>Note, however, that this assumes less than a year's difference!  </p>\n"},{"tags":[],"owner":{"account_id":2530406,"reputation":31,"user_id":2198821,"display_name":"user2198821"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1499950478,"creation_date":1363948647,"answer_id":15568255,"question_id":7103064,"body_markdown":"This function is good for me:\r\n\r\n    public static int getDaysCount(Date begin, Date end) {\r\n    \tCalendar start = org.apache.commons.lang.time.DateUtils.toCalendar(begin);\r\n\t    start.set(Calendar.MILLISECOND, 0);\r\n\t    start.set(Calendar.SECOND, 0);\r\n\t    start.set(Calendar.MINUTE, 0);\r\n\t    start.set(Calendar.HOUR_OF_DAY, 0);\r\n\r\n\t    Calendar finish = org.apache.commons.lang.time.DateUtils.toCalendar(end);\r\n\t    finish.set(Calendar.MILLISECOND, 999);\r\n\t    finish.set(Calendar.SECOND, 59);\r\n\t    finish.set(Calendar.MINUTE, 59);\r\n\t    finish.set(Calendar.HOUR_OF_DAY, 23);\r\n\r\n        long delta = finish.getTimeInMillis() - start.getTimeInMillis();\r\n\t    return (int) Math.ceil(delta / (1000.0 * 60 * 60 * 24));\r\n    }","title":"Java, Calculate the number of days between two dates","body":"<p>This function is good for me:</p>\n\n<pre><code>public static int getDaysCount(Date begin, Date end) {\n    Calendar start = org.apache.commons.lang.time.DateUtils.toCalendar(begin);\n    start.set(Calendar.MILLISECOND, 0);\n    start.set(Calendar.SECOND, 0);\n    start.set(Calendar.MINUTE, 0);\n    start.set(Calendar.HOUR_OF_DAY, 0);\n\n    Calendar finish = org.apache.commons.lang.time.DateUtils.toCalendar(end);\n    finish.set(Calendar.MILLISECOND, 999);\n    finish.set(Calendar.SECOND, 59);\n    finish.set(Calendar.MINUTE, 59);\n    finish.set(Calendar.HOUR_OF_DAY, 23);\n\n    long delta = finish.getTimeInMillis() - start.getTimeInMillis();\n    return (int) Math.ceil(delta / (1000.0 * 60 * 60 * 24));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4598876,"reputation":963,"user_id":3730193,"display_name":"javaLearner"},"down_vote_count":2,"up_vote_count":69,"is_accepted":false,"score":67,"last_activity_date":1607324959,"creation_date":1402492562,"answer_id":24163958,"question_id":7103064,"body_markdown":"# Java 8 and later: `ChronoUnit.between`\r\n\r\nUse instances of [`ChronoUnit`][1] to calculate amount of time in different units (days,months, seconds).\r\n\r\nFor Example: \r\n\r\n    ChronoUnit.DAYS.between(startDate,endDate)\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/temporal/ChronoUnit.html","title":"Java, Calculate the number of days between two dates","body":"<h1>Java 8 and later: <code>ChronoUnit.between</code></h1>\n<p>Use instances of <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/temporal/ChronoUnit.html\" rel=\"noreferrer\"><code>ChronoUnit</code></a> to calculate amount of time in different units (days,months, seconds).</p>\n<p>For Example:</p>\n<pre><code>ChronoUnit.DAYS.between(startDate,endDate)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4307573,"reputation":1270,"user_id":3519572,"display_name":"tomorrow"},"down_vote_count":1,"up_vote_count":28,"is_accepted":false,"score":27,"last_activity_date":1551733712,"creation_date":1403700463,"answer_id":24409106,"question_id":7103064,"body_markdown":"I know this thread is two years old now, I still don&#39;t see a correct answer here.\r\n\r\nUnless you want to use Joda or have Java 8 and if you need to subract dates influenced by daylight saving.\r\n\r\nSo I have written my own solution. The important aspect is that it only works if you really only care about dates because it&#39;s necessary to discard the time information, so if you want something like `25.06.2014 - 01.01.2010 = 1636`, this should work regardless of the DST:\r\n\r\n    private static SimpleDateFormat simpleDateFormat = new SimpleDateFormat(&quot;dd.MM.yyyy&quot;);\r\n\r\n    public static long getDayCount(String start, String end) {\r\n      long diff = -1;\r\n      try {\r\n        Date dateStart = simpleDateFormat.parse(start);\r\n        Date dateEnd = simpleDateFormat.parse(end);\r\n      \r\n        //time is always 00:00:00, so rounding should help to ignore the missing hour when going from winter to summer time, as well as the extra hour in the other direction\r\n        diff = Math.round((dateEnd.getTime() - dateStart.getTime()) / (double) 86400000);\r\n      } catch (Exception e) {\r\n        //handle the exception according to your own situation\r\n      }\r\n      return diff;\r\n    }\r\n\r\nAs the time is always `00:00:00`, using double and then `Math.round()` should help to ignore the missing 3600000 ms (1 hour) when going from winter to summer time, as well as the extra hour if going from summer to winter.\r\n\r\nThis is a small JUnit4 test I use to prove it:\r\n\r\n    @Test\r\n    public void testGetDayCount() {\r\n      String startDateStr = &quot;01.01.2010&quot;;\r\n      GregorianCalendar gc = new GregorianCalendar(locale);\r\n      try {\r\n        gc.setTime(simpleDateFormat.parse(startDateStr));\r\n      } catch (Exception e) {\r\n      }\r\n    \r\n      for (long i = 0; i &lt; 10000; i++) {\r\n        String dateStr = simpleDateFormat.format(gc.getTime());\r\n        long dayCount = getDayCount(startDateStr, dateStr);\r\n        assertEquals(&quot;dayCount must be equal to the loop index i: &quot;, i, dayCount);\r\n        gc.add(GregorianCalendar.DAY_OF_YEAR, 1);\r\n      }\r\n    }\r\n\r\n... or if you want to see what it does &#39;life&#39;, replace the assertion with just:\r\n\r\n    System.out.println(&quot;i: &quot; + i + &quot; | &quot; + dayCount + &quot; - getDayCount(&quot; + startDateStr + &quot;, &quot; + dateStr + &quot;)&quot;);\r\n\r\n\r\n... and this is what the output should look like:\r\n\r\n      i: 0 | 0  - getDayCount(01.01.2010, 01.01.2010)\r\n      i: 1 | 1  - getDayCount(01.01.2010, 02.01.2010)\r\n      i: 2 | 2  - getDayCount(01.01.2010, 03.01.2010)\r\n      i: 3 | 3  - getDayCount(01.01.2010, 04.01.2010)\r\n      ...\r\n      i: 1636 | 1636  - getDayCount(01.01.2010, 25.06.2014)\r\n      ...\r\n      i: 9997 | 9997  - getDayCount(01.01.2010, 16.05.2037)\r\n      i: 9998 | 9998  - getDayCount(01.01.2010, 17.05.2037)\r\n      i: 9999 | 9999  - getDayCount(01.01.2010, 18.05.2037)\r\n\r\n","title":"Java, Calculate the number of days between two dates","body":"<p>I know this thread is two years old now, I still don't see a correct answer here.</p>\n\n<p>Unless you want to use Joda or have Java 8 and if you need to subract dates influenced by daylight saving.</p>\n\n<p>So I have written my own solution. The important aspect is that it only works if you really only care about dates because it's necessary to discard the time information, so if you want something like <code>25.06.2014 - 01.01.2010 = 1636</code>, this should work regardless of the DST:</p>\n\n<pre><code>private static SimpleDateFormat simpleDateFormat = new SimpleDateFormat(\"dd.MM.yyyy\");\n\npublic static long getDayCount(String start, String end) {\n  long diff = -1;\n  try {\n    Date dateStart = simpleDateFormat.parse(start);\n    Date dateEnd = simpleDateFormat.parse(end);\n\n    //time is always 00:00:00, so rounding should help to ignore the missing hour when going from winter to summer time, as well as the extra hour in the other direction\n    diff = Math.round((dateEnd.getTime() - dateStart.getTime()) / (double) 86400000);\n  } catch (Exception e) {\n    //handle the exception according to your own situation\n  }\n  return diff;\n}\n</code></pre>\n\n<p>As the time is always <code>00:00:00</code>, using double and then <code>Math.round()</code> should help to ignore the missing 3600000 ms (1 hour) when going from winter to summer time, as well as the extra hour if going from summer to winter.</p>\n\n<p>This is a small JUnit4 test I use to prove it:</p>\n\n<pre><code>@Test\npublic void testGetDayCount() {\n  String startDateStr = \"01.01.2010\";\n  GregorianCalendar gc = new GregorianCalendar(locale);\n  try {\n    gc.setTime(simpleDateFormat.parse(startDateStr));\n  } catch (Exception e) {\n  }\n\n  for (long i = 0; i &lt; 10000; i++) {\n    String dateStr = simpleDateFormat.format(gc.getTime());\n    long dayCount = getDayCount(startDateStr, dateStr);\n    assertEquals(\"dayCount must be equal to the loop index i: \", i, dayCount);\n    gc.add(GregorianCalendar.DAY_OF_YEAR, 1);\n  }\n}\n</code></pre>\n\n<p>... or if you want to see what it does 'life', replace the assertion with just:</p>\n\n<pre><code>System.out.println(\"i: \" + i + \" | \" + dayCount + \" - getDayCount(\" + startDateStr + \", \" + dateStr + \")\");\n</code></pre>\n\n<p>... and this is what the output should look like:</p>\n\n<pre><code>  i: 0 | 0  - getDayCount(01.01.2010, 01.01.2010)\n  i: 1 | 1  - getDayCount(01.01.2010, 02.01.2010)\n  i: 2 | 2  - getDayCount(01.01.2010, 03.01.2010)\n  i: 3 | 3  - getDayCount(01.01.2010, 04.01.2010)\n  ...\n  i: 1636 | 1636  - getDayCount(01.01.2010, 25.06.2014)\n  ...\n  i: 9997 | 9997  - getDayCount(01.01.2010, 16.05.2037)\n  i: 9998 | 9998  - getDayCount(01.01.2010, 17.05.2037)\n  i: 9999 | 9999  - getDayCount(01.01.2010, 18.05.2037)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4978364,"reputation":39,"user_id":4004087,"display_name":"Breno RdV"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1466269909,"creation_date":1411068755,"answer_id":25920926,"question_id":7103064,"body_markdown":"I&#39;m really really REALLY new at Java, so i&#39;m sure that there&#39;s an even better way to do what i&#39;m proposing.\r\n\r\nI had this same demand and i did it using the difference between the DAYOFYEAR of the two dates.\r\nIt seemed an easier way to do it... \r\n\r\nI can&#39;t really evaluate this solution in performance and stability terms, but i think it&#39;s ok.\r\n\r\nhere:\r\n&lt;pre&gt;\r\n    public static void main(String[] args) throws ParseException {\r\n\t\t\r\n\t\t\r\n \r\n//Made this part of the code just to create the variables i&#39;ll use.\r\n//I&#39;m in Brazil and the date format here is DD/MM/YYYY, but wont be an issue to you guys. \r\n//It will work anyway with your format.\r\n\r\n    String s1 = &quot;18/09/2014&quot;; \r\n    String s2 = &quot;01/01/2014&quot;;\r\n    DateFormat f = DateFormat.getDateInstance();\r\n    Date date1 = f.parse(s1); \r\n    Date date2 = f.parse(s2);\r\n\t\t\r\n\t\t\r\n\t\t\r\n\r\n//Here&#39;s the part where we get the days between two dates.\r\n\r\n    Calendar day1 = Calendar.getInstance();\r\n    Calendar day2 = Calendar.getInstance();\t\r\n    day1.setTime(date1);\r\n    day2.setTime(date2);\r\n    \r\n    int daysBetween = day1.get(Calendar.DAY_OF_YEAR) - day2.get(Calendar.DAY_OF_YEAR); \t\t\r\n\t\t\r\n\r\n\r\n\r\n//Some code just to show the result...\r\n    f = DateFormat.getDateInstance(DateFormat.MEDIUM);\r\n    System.out.println(&quot;There&#39;s &quot; + daysBetween + &quot; days between &quot; + f.format(day1.getTime()) + &quot; and &quot; + f.format(day2.getTime()) + &quot;.&quot;);\r\n\r\n\t\r\n\r\n    }\r\n&lt;/pre&gt;\r\n\r\nIn this case, the output would be (remembering that i&#39;m using the Date Format DD/MM/YYYY):\r\n&lt;pre&gt;\r\nThere&#39;s 260 days between 18/09/2014 and 01/01/2014.\r\n&lt;/pre&gt;","title":"Java, Calculate the number of days between two dates","body":"<p>I'm really really REALLY new at Java, so i'm sure that there's an even better way to do what i'm proposing.</p>\n\n<p>I had this same demand and i did it using the difference between the DAYOFYEAR of the two dates.\nIt seemed an easier way to do it... </p>\n\n<p>I can't really evaluate this solution in performance and stability terms, but i think it's ok.</p>\n\n<p>here:</p>\n\n<pre>\n    public static void main(String[] args) throws ParseException {\n\n\n\n//Made this part of the code just to create the variables i'll use.\n//I'm in Brazil and the date format here is DD/MM/YYYY, but wont be an issue to you guys. \n//It will work anyway with your format.\n\n    String s1 = \"18/09/2014\"; \n    String s2 = \"01/01/2014\";\n    DateFormat f = DateFormat.getDateInstance();\n    Date date1 = f.parse(s1); \n    Date date2 = f.parse(s2);\n\n\n\n\n//Here's the part where we get the days between two dates.\n\n    Calendar day1 = Calendar.getInstance();\n    Calendar day2 = Calendar.getInstance(); \n    day1.setTime(date1);\n    day2.setTime(date2);\n\n    int daysBetween = day1.get(Calendar.DAY_OF_YEAR) - day2.get(Calendar.DAY_OF_YEAR);      \n\n\n\n\n//Some code just to show the result...\n    f = DateFormat.getDateInstance(DateFormat.MEDIUM);\n    System.out.println(\"There's \" + daysBetween + \" days between \" + f.format(day1.getTime()) + \" and \" + f.format(day2.getTime()) + \".\");\n\n\n\n    }\n</pre>\n\n<p>In this case, the output would be (remembering that i'm using the Date Format DD/MM/YYYY):</p>\n\n<pre>\nThere's 260 days between 18/09/2014 and 01/01/2014.\n</pre>\n"}],"owner":{"account_id":389035,"reputation":907,"user_id":748279,"accept_rate":58,"display_name":"sgrgmngt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":352573,"favorite_count":0,"down_vote_count":0,"up_vote_count":75,"closed_date":1411130051,"accepted_answer_id":7103102,"answer_count":10,"score":75,"last_activity_date":1648727789,"creation_date":1313647423,"question_id":7103064,"body_markdown":"&gt; **Possible Duplicate:**  \r\n&gt; [Calculating the Difference Between Two Java Date Instances](https://stackoverflow.com/questions/1555262/calculating-the-difference-between-two-java-date-instances)  \r\n\r\n&lt;!-- End of automatically inserted text --&gt;\r\n\r\n\r\nIn Java, I want to calculate the number of days between two dates.\r\n\r\nIn my database they are stored as a `DATE` datatype, but in my code they are strings.\r\n\r\nI want to calculate the no of days between those two strings.","title":"Java, Calculate the number of days between two dates","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"https://stackoverflow.com/questions/1555262/calculating-the-difference-between-two-java-date-instances\">Calculating the Difference Between Two Java Date Instances</a>  </p>\n</blockquote>\n\n\n\n<p>In Java, I want to calculate the number of days between two dates.</p>\n\n<p>In my database they are stored as a <code>DATE</code> datatype, but in my code they are strings.</p>\n\n<p>I want to calculate the no of days between those two strings.</p>\n"},{"tags":["java","spring-boot","unit-testing","mockito"],"answers":[{"tags":[],"owner":{"account_id":5075886,"reputation":237,"user_id":4073249,"display_name":"Alper Derya"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1648727772,"creation_date":1648723726,"answer_id":71691168,"question_id":71690048,"body_markdown":"Here is detail explanation of mocking `objectMapper`. \r\n\r\nhttps://www.baeldung.com/mockito-mock-jackson-read-value\r\n\r\nActually in terms of unit testing, there is no difference between objectMapper and any class to test. Simply add dependency to be mocked, specify rule for it(e.g when-&gt;then), assert it.\r\n\r\n--EDIT--\r\n\r\nAdd JsonNode as mock object. \r\n\r\n    JsonNode mockNode = mock(JsonNode.class);\r\n    JsonNode innerMockNode = mock(JsonNode.class);\r\n    Mockito.when(objectMapper.readValue(Mockito.anyString(), Mockito.any(Class.class))).thenReturn(mockNode);\r\n    Mockito.when(mockNode.get(&quot;token&quot;)).thenReturn(innerMockNode);\r\n    Mockito.when(innerMockNode.asText()).thenReturn(&quot;myToken&quot;);","title":"Mock JsonNode using Mockito in spring boot","body":"<p>Here is detail explanation of mocking <code>objectMapper</code>.</p>\n<p><a href=\"https://www.baeldung.com/mockito-mock-jackson-read-value\" rel=\"nofollow noreferrer\">https://www.baeldung.com/mockito-mock-jackson-read-value</a></p>\n<p>Actually in terms of unit testing, there is no difference between objectMapper and any class to test. Simply add dependency to be mocked, specify rule for it(e.g when-&gt;then), assert it.</p>\n<p>--EDIT--</p>\n<p>Add JsonNode as mock object.</p>\n<pre><code>JsonNode mockNode = mock(JsonNode.class);\nJsonNode innerMockNode = mock(JsonNode.class);\nMockito.when(objectMapper.readValue(Mockito.anyString(), Mockito.any(Class.class))).thenReturn(mockNode);\nMockito.when(mockNode.get(&quot;token&quot;)).thenReturn(innerMockNode);\nMockito.when(innerMockNode.asText()).thenReturn(&quot;myToken&quot;);\n</code></pre>\n"}],"owner":{"account_id":14546187,"reputation":970,"user_id":10506380,"display_name":"Aditya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3443,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71691168,"answer_count":1,"score":1,"last_activity_date":1648727772,"creation_date":1648718685,"question_id":71690048,"body_markdown":"How can I mock these two loc using mockito in spring boot.\r\n\r\n\r\n    JsonNode jsonNode = objectMapper.readValue(httpResponseObject.getResponseBody(), JsonNode.class);\r\n        String token = jsonNode.get(&quot;token&quot;).asText();\r\n\r\nI have mocked the first loc using below mocking but don&#39;t know how to mock the second loc.\r\n\r\n    String jsonString = TestingUtil.getResponse();\r\n        JsonNode jsonNode = objectMapper.readTree(jsonString);\r\n\r\n\r\n        Mockito.when(objectMapper.readValue(Mockito.anyString(), Mockito.any(Class.class))).thenReturn(jsonNode);\r\n\r\nbut here jsonNode is returning null pointer exception\r\n\r\n\r\n\r\n","title":"Mock JsonNode using Mockito in spring boot","body":"<p>How can I mock these two loc using mockito in spring boot.</p>\n<pre><code>JsonNode jsonNode = objectMapper.readValue(httpResponseObject.getResponseBody(), JsonNode.class);\n    String token = jsonNode.get(&quot;token&quot;).asText();\n</code></pre>\n<p>I have mocked the first loc using below mocking but don't know how to mock the second loc.</p>\n<pre><code>String jsonString = TestingUtil.getResponse();\n    JsonNode jsonNode = objectMapper.readTree(jsonString);\n\n\n    Mockito.when(objectMapper.readValue(Mockito.anyString(), Mockito.any(Class.class))).thenReturn(jsonNode);\n</code></pre>\n<p>but here jsonNode is returning null pointer exception</p>\n"},{"tags":["java","python","bisect"],"answers":[{"tags":[],"owner":{"account_id":102991,"reputation":378282,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"down_vote_count":1,"up_vote_count":14,"is_accepted":true,"score":13,"last_activity_date":1275326707,"creation_date":1275326707,"answer_id":2945053,"question_id":2945017,"body_markdown":"You have two options:\r\n\r\n* [`java.util.Arrays.binarySearch`](http://java.sun.com/javase/6/docs/api/java/util/Arrays.html#binarySearch%28int%5B%5D,%20int%29) on arrays\r\n  * (with various overloads for different array types)\r\n* [`java.util.Collections.binarySearch`](http://java.sun.com/javase/6/docs/api/java/util/Collections.html#binarySearch%28java.util.List,%20T%29) on [`List`](http://java.sun.com/javase/6/docs/api/java/util/List.html)\r\n  * (with [`Comparable`](http://java.sun.com/javase/6/docs/api/java/lang/Comparable.html) and [`Comparator`](http://java.sun.com/javase/6/docs/api/java/util/Comparator.html) overloads).\r\n  * Combine with [`List.subList(int fromIndex, int toIndex)`](http://java.sun.com/javase/6/docs/api/java/util/List.html#subList%28int,%20int%29) to search portion of a list","title":"Java&#39;s equivalent to bisect in python","body":"<p>You have two options:</p>\n\n<ul>\n<li><a href=\"http://java.sun.com/javase/6/docs/api/java/util/Arrays.html#binarySearch%28int%5B%5D,%20int%29\" rel=\"noreferrer\"><code>java.util.Arrays.binarySearch</code></a> on arrays\n\n<ul>\n<li>(with various overloads for different array types)</li>\n</ul></li>\n<li><a href=\"http://java.sun.com/javase/6/docs/api/java/util/Collections.html#binarySearch%28java.util.List,%20T%29\" rel=\"noreferrer\"><code>java.util.Collections.binarySearch</code></a> on <a href=\"http://java.sun.com/javase/6/docs/api/java/util/List.html\" rel=\"noreferrer\"><code>List</code></a>\n\n<ul>\n<li>(with <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/Comparable.html\" rel=\"noreferrer\"><code>Comparable</code></a> and <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Comparator.html\" rel=\"noreferrer\"><code>Comparator</code></a> overloads).</li>\n<li>Combine with <a href=\"http://java.sun.com/javase/6/docs/api/java/util/List.html#subList%28int,%20int%29\" rel=\"noreferrer\"><code>List.subList(int fromIndex, int toIndex)</code></a> to search portion of a list</li>\n</ul></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":415897,"reputation":1944,"user_id":790979,"accept_rate":100,"display_name":"charleslparker"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1437967142,"creation_date":1437967142,"answer_id":31644444,"question_id":2945017,"body_markdown":"Just for completeness, here&#39;s a little java function that turns the output from `Arrays.binarySearch` into something close to the output from `bisect_left`.  I&#39;m obviously missing things, but this does the job for the simple case.\r\n\r\n    public static int bisectLeft(double[] a, double key) {\r\n        int idx = Math.min(a.length, Math.abs(Arrays.binarySearch(a, key)));\r\n        while (idx &gt; 0 &amp;&amp; a[idx - 1] &gt;= key) idx--;\r\n        return idx;\r\n    }\r\n\r\n","title":"Java&#39;s equivalent to bisect in python","body":"<p>Just for completeness, here's a little java function that turns the output from <code>Arrays.binarySearch</code> into something close to the output from <code>bisect_left</code>.  I'm obviously missing things, but this does the job for the simple case.</p>\n\n<pre><code>public static int bisectLeft(double[] a, double key) {\n    int idx = Math.min(a.length, Math.abs(Arrays.binarySearch(a, key)));\n    while (idx &gt; 0 &amp;&amp; a[idx - 1] &gt;= key) idx--;\n    return idx;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1950637,"reputation":167,"user_id":1754807,"display_name":"Profiterole"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1474890597,"creation_date":1474890597,"answer_id":39702057,"question_id":2945017,"body_markdown":"To this date (Java 8), this is still missing, so you must still make your own. Here&#39;s mine:\r\n\r\n    public static int bisect_right(int[] A, int x) {\r\n        return bisect_right(A, x, 0, A.length);\r\n    }\r\n    \r\n    public static int bisect_right(int[] A, int x, int lo, int hi) {\r\n        int N = A.length;\r\n        if (N == 0) {\r\n            return 0;\r\n        }\r\n        if (x &lt; A[lo]) {\r\n            return lo;\r\n        }\r\n        if (x &gt; A[hi - 1]) {\r\n            return hi;\r\n        }\r\n        for (;;) {\r\n            if (lo + 1 == hi) {\r\n                return lo + 1;\r\n            }\r\n            int mi = (hi + lo) / 2;\r\n            if (x &lt; A[mi]) {\r\n                hi = mi;\r\n            } else {\r\n                lo = mi;\r\n            }\r\n        }\r\n    }\r\n    \r\n    public static int bisect_left(int[] A, int x) {\r\n        return bisect_left(A, x, 0, A.length);\r\n    }\r\n    \r\n    public static int bisect_left(int[] A, int x, int lo, int hi) {\r\n        int N = A.length;\r\n        if (N == 0) {\r\n            return 0;\r\n        }\r\n        if (x &lt; A[lo]) {\r\n            return lo;\r\n        }\r\n        if (x &gt; A[hi - 1]) {\r\n            return hi;\r\n        }\r\n        for (;;) {\r\n            if (lo + 1 == hi) {\r\n                return x == A[lo] ? lo : (lo + 1);\r\n            }\r\n            int mi = (hi + lo) / 2;\r\n            if (x &lt;= A[mi]) {\r\n                hi = mi;\r\n            } else {\r\n                lo = mi;\r\n            }\r\n        }\r\n    }\r\nTested with (X being the class where I store static methods that I intend to reuse):\r\n\r\n    @Test\r\n    public void bisect_right() {\r\n        System.out.println(&quot;bisect_rienter code hereght&quot;);\r\n        int[] A = new int[]{0, 1, 2, 2, 2, 2, 3, 3, 5, 6};\r\n        assertEquals(0, X.bisect_right(A, -1));\r\n        assertEquals(1, X.bisect_right(A, 0));\r\n        assertEquals(6, X.bisect_right(A, 2));\r\n        assertEquals(8, X.bisect_right(A, 3));\r\n        assertEquals(8, X.bisect_right(A, 4));\r\n        assertEquals(9, X.bisect_right(A, 5));\r\n        assertEquals(10, X.bisect_right(A, 6));\r\n        assertEquals(10, X.bisect_right(A, 7));\r\n    }\r\n    \r\n    @Test\r\n    public void bisect_left() {\r\n        System.out.println(&quot;bisect_left&quot;);\r\n        int[] A = new int[]{0, 1, 2, 2, 2, 2, 3, 3, 5, 6};\r\n        assertEquals(0, X.bisect_left(A, -1));\r\n        assertEquals(0, X.bisect_left(A, 0));\r\n        assertEquals(2, X.bisect_left(A, 2));\r\n        assertEquals(6, X.bisect_left(A, 3));\r\n        assertEquals(8, X.bisect_left(A, 4));\r\n        assertEquals(8, X.bisect_left(A, 5));\r\n        assertEquals(9, X.bisect_left(A, 6));\r\n        assertEquals(10, X.bisect_left(A, 7));\r\n    }","title":"Java&#39;s equivalent to bisect in python","body":"<p>To this date (Java 8), this is still missing, so you must still make your own. Here's mine:</p>\n\n<pre><code>public static int bisect_right(int[] A, int x) {\n    return bisect_right(A, x, 0, A.length);\n}\n\npublic static int bisect_right(int[] A, int x, int lo, int hi) {\n    int N = A.length;\n    if (N == 0) {\n        return 0;\n    }\n    if (x &lt; A[lo]) {\n        return lo;\n    }\n    if (x &gt; A[hi - 1]) {\n        return hi;\n    }\n    for (;;) {\n        if (lo + 1 == hi) {\n            return lo + 1;\n        }\n        int mi = (hi + lo) / 2;\n        if (x &lt; A[mi]) {\n            hi = mi;\n        } else {\n            lo = mi;\n        }\n    }\n}\n\npublic static int bisect_left(int[] A, int x) {\n    return bisect_left(A, x, 0, A.length);\n}\n\npublic static int bisect_left(int[] A, int x, int lo, int hi) {\n    int N = A.length;\n    if (N == 0) {\n        return 0;\n    }\n    if (x &lt; A[lo]) {\n        return lo;\n    }\n    if (x &gt; A[hi - 1]) {\n        return hi;\n    }\n    for (;;) {\n        if (lo + 1 == hi) {\n            return x == A[lo] ? lo : (lo + 1);\n        }\n        int mi = (hi + lo) / 2;\n        if (x &lt;= A[mi]) {\n            hi = mi;\n        } else {\n            lo = mi;\n        }\n    }\n}\n</code></pre>\n\n<p>Tested with (X being the class where I store static methods that I intend to reuse):</p>\n\n<pre><code>@Test\npublic void bisect_right() {\n    System.out.println(\"bisect_rienter code hereght\");\n    int[] A = new int[]{0, 1, 2, 2, 2, 2, 3, 3, 5, 6};\n    assertEquals(0, X.bisect_right(A, -1));\n    assertEquals(1, X.bisect_right(A, 0));\n    assertEquals(6, X.bisect_right(A, 2));\n    assertEquals(8, X.bisect_right(A, 3));\n    assertEquals(8, X.bisect_right(A, 4));\n    assertEquals(9, X.bisect_right(A, 5));\n    assertEquals(10, X.bisect_right(A, 6));\n    assertEquals(10, X.bisect_right(A, 7));\n}\n\n@Test\npublic void bisect_left() {\n    System.out.println(\"bisect_left\");\n    int[] A = new int[]{0, 1, 2, 2, 2, 2, 3, 3, 5, 6};\n    assertEquals(0, X.bisect_left(A, -1));\n    assertEquals(0, X.bisect_left(A, 0));\n    assertEquals(2, X.bisect_left(A, 2));\n    assertEquals(6, X.bisect_left(A, 3));\n    assertEquals(8, X.bisect_left(A, 4));\n    assertEquals(8, X.bisect_left(A, 5));\n    assertEquals(9, X.bisect_left(A, 6));\n    assertEquals(10, X.bisect_left(A, 7));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":117399,"reputation":1856,"user_id":307454,"accept_rate":95,"display_name":"lifebalance"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1502044251,"creation_date":1502043395,"answer_id":45535145,"question_id":2945017,"body_markdown":"Why not do a quick port of the **tried and tested** [Python code][1] itself? For example, here&#39;s a Java port for `bisect_right`: \r\n\r\n    public static int bisect_right(double[] A, double x) {\r\n      return bisect_right(A, x, 0, A.length);\r\n    }\r\n    \r\n    private static int bisect_right(double[] A, double x, int lo, int hi) {\r\n      while (lo &lt; hi) {\r\n        int mid = (lo+hi)/2; \r\n        if (x &lt; A[mid]) hi = mid; \r\n        else lo = mid+1;\r\n      }\r\n      return lo; \r\n    }\r\n\r\n[1]: https://github.com/python/cpython/blob/3.6/Lib/bisect.py#L24","title":"Java&#39;s equivalent to bisect in python","body":"<p>Why not do a quick port of the <strong>tried and tested</strong> <a href=\"https://github.com/python/cpython/blob/3.6/Lib/bisect.py#L24\" rel=\"nofollow noreferrer\">Python code</a> itself? For example, here's a Java port for <code>bisect_right</code>: </p>\n\n<pre><code>public static int bisect_right(double[] A, double x) {\n  return bisect_right(A, x, 0, A.length);\n}\n\nprivate static int bisect_right(double[] A, double x, int lo, int hi) {\n  while (lo &lt; hi) {\n    int mid = (lo+hi)/2; \n    if (x &lt; A[mid]) hi = mid; \n    else lo = mid+1;\n  }\n  return lo; \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3427436,"reputation":116,"user_id":2872838,"display_name":"GregoAvg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1631026313,"creation_date":1631024159,"answer_id":69089860,"question_id":2945017,"body_markdown":"Based on the `java.util.Arrays.binarySearch` [documentation](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Arrays.html#binarySearch(long%5B%5D,long))\r\n\r\nHere I use the example for a `long[]` array,\r\nbut one can adapt the code to utilize any of the supported types.\r\n\r\n```java\r\nint bisectRight(long[] arr, long key) {\r\n    int index = Arrays.binarySearch(arr, key);\r\n    return Math.abs(index + 1);\r\n}\r\n```\r\n\r\n**Note: Limitation on the java API, by the following sentence from javadoc:**\r\n```\r\nIf the array contains multiple elements with the specified value,\r\nthere is no guarantee which one will be found\r\n```\r\n\r\nIndeed, I&#39;ve tested that with sorted array of distinct elements.\r\nMy use-case was for range grouping, where `arr` an array of distinct timestamps that indicate the start time of an interval.","title":"Java&#39;s equivalent to bisect in python","body":"<p>Based on the <code>java.util.Arrays.binarySearch</code> <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Arrays.html#binarySearch(long%5B%5D,long)\" rel=\"nofollow noreferrer\">documentation</a></p>\n<p>Here I use the example for a <code>long[]</code> array,\nbut one can adapt the code to utilize any of the supported types.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int bisectRight(long[] arr, long key) {\n    int index = Arrays.binarySearch(arr, key);\n    return Math.abs(index + 1);\n}\n</code></pre>\n<p><strong>Note: Limitation on the java API, by the following sentence from javadoc:</strong></p>\n<pre><code>If the array contains multiple elements with the specified value,\nthere is no guarantee which one will be found\n</code></pre>\n<p>Indeed, I've tested that with sorted array of distinct elements.\nMy use-case was for range grouping, where <code>arr</code> an array of distinct timestamps that indicate the start time of an interval.</p>\n"},{"tags":[],"owner":{"account_id":8838669,"reputation":776,"user_id":6601800,"display_name":"Linh Vu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640356453,"creation_date":1640356453,"answer_id":70473912,"question_id":2945017,"body_markdown":"You need to define on your own, here&#39;s mine:\r\n\r\n**bisect.bisect_left**\r\n```java\r\npublic static int bisectLeft(int[] nums, int target) {\r\n    int i = 0;\r\n    int j = nums.length - 1;\r\n    while (i &lt;= j) {\r\n        int m = i + (j-i) / 2;\r\n        if (nums[m] &gt;= target) {\r\n            j = m - 1;\r\n        } else {\r\n            i = m + 1;\r\n        }\r\n    }\r\n    return i;\r\n}\r\n```\r\n**bisect.bisect_right**\r\n```java\r\npublic static int bisectRight(int[] nums, int target) {\r\n    int i = 0;\r\n    int j = nums.length - 1;\r\n    while (i &lt;= j) {\r\n        int m = i + (j-i) / 2;\r\n        if (nums[m] &lt;= target) {\r\n            i = m + 1;\r\n        } else {\r\n            j = m - 1;\r\n        }\r\n    }\r\n    return j+1;\r\n}\r\n```\r\n","title":"Java&#39;s equivalent to bisect in python","body":"<p>You need to define on your own, here's mine:</p>\n<p><strong>bisect.bisect_left</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public static int bisectLeft(int[] nums, int target) {\n    int i = 0;\n    int j = nums.length - 1;\n    while (i &lt;= j) {\n        int m = i + (j-i) / 2;\n        if (nums[m] &gt;= target) {\n            j = m - 1;\n        } else {\n            i = m + 1;\n        }\n    }\n    return i;\n}\n</code></pre>\n<p><strong>bisect.bisect_right</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public static int bisectRight(int[] nums, int target) {\n    int i = 0;\n    int j = nums.length - 1;\n    while (i &lt;= j) {\n        int m = i + (j-i) / 2;\n        if (nums[m] &lt;= target) {\n            i = m + 1;\n        } else {\n            j = m - 1;\n        }\n    }\n    return j+1;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":249565,"reputation":9766,"user_id":525725,"accept_rate":67,"display_name":"Emmanuel Bourg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648727735,"creation_date":1648727735,"answer_id":71692038,"question_id":2945017,"body_markdown":"Derived from @Profiterole&#39;s answer, here is a generalized variant that works with an int-&gt;boolean function instead of an array. It finds the first index where the predicate changes.\r\n\r\n    public class Bisect {\r\n    \r\n        /**\r\n         * Look for the last index i in [min, max] such that f(i) is false.\r\n         *\r\n         * @param function monotonous function going from false to true in the [min, max] interval\r\n         */\r\n        public static int bisectLeft(Function&lt;Integer, Boolean&gt; function, int min, int max) {\r\n            if (max == min) {\r\n                return max;\r\n            }\r\n            if (function.apply(min)) {\r\n                return min;\r\n            }\r\n            if (!function.apply(max)) {\r\n                return max;\r\n            }\r\n            while (true) {\r\n                if (min + 1 == max) {\r\n                    return min;\r\n                }\r\n                int middle = (max + min) / 2;\r\n                if (function.apply(middle)) {\r\n                    max = middle;\r\n                } else {\r\n                    min = middle;\r\n                }\r\n            }\r\n        }\r\n    \r\n        /**\r\n         * Look for the first index i in [min, max] such that f(i) is true.\r\n         *\r\n         * @param function monotonous function going from false to true in the [min, max] interval\r\n         */\r\n        public static int bisectRight(Function&lt;Integer, Boolean&gt; function, int min, int max) {\r\n            if (max == min) {\r\n                return max;\r\n            }\r\n            if (function.apply(min)) {\r\n                return min;\r\n            }\r\n            if (!function.apply(max)) {\r\n                return max;\r\n            }\r\n            while (true) {\r\n                if (min + 1 == max) {\r\n                    return max;\r\n                }\r\n                int middle = (max + min) / 2;\r\n                if (function.apply(middle)) {\r\n                    max = middle;\r\n                } else {\r\n                    min = middle;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nFor example, to find the insertion point in an array, the function compares the value inserted with the values of the array:\r\n\r\n    @Test\r\n    public void bisect_right() {\r\n        int[] A = new int[]{0, 1, 2, 2, 2, 2, 3, 3, 5, 6};\r\n        assertEquals(0, bisectRight(f(A, -1), 0, A.length));\r\n        assertEquals(1, bisectRight(f(A, 0), 0, A.length));\r\n        assertEquals(6, bisectRight(f(A, 2), 0, A.length));\r\n        assertEquals(8, bisectRight(f(A, 3), 0, A.length));\r\n        assertEquals(8, bisectRight(f(A, 4), 0, A.length));\r\n        assertEquals(9, bisectRight(f(A, 5), 0, A.length));\r\n        assertEquals(10, bisectRight(f(A, 6), 0, A.length));\r\n        assertEquals(10, bisectRight(f(A, 7), 0, A.length));\r\n    }\r\n\r\n    public Function&lt;Integer, Boolean&gt; f(int[] A, int x) {\r\n        return n -&gt; (n &gt;= A.length || A[n] &gt; x);\r\n    }\r\n","title":"Java&#39;s equivalent to bisect in python","body":"<p>Derived from @Profiterole's answer, here is a generalized variant that works with an int-&gt;boolean function instead of an array. It finds the first index where the predicate changes.</p>\n<pre><code>public class Bisect {\n\n    /**\n     * Look for the last index i in [min, max] such that f(i) is false.\n     *\n     * @param function monotonous function going from false to true in the [min, max] interval\n     */\n    public static int bisectLeft(Function&lt;Integer, Boolean&gt; function, int min, int max) {\n        if (max == min) {\n            return max;\n        }\n        if (function.apply(min)) {\n            return min;\n        }\n        if (!function.apply(max)) {\n            return max;\n        }\n        while (true) {\n            if (min + 1 == max) {\n                return min;\n            }\n            int middle = (max + min) / 2;\n            if (function.apply(middle)) {\n                max = middle;\n            } else {\n                min = middle;\n            }\n        }\n    }\n\n    /**\n     * Look for the first index i in [min, max] such that f(i) is true.\n     *\n     * @param function monotonous function going from false to true in the [min, max] interval\n     */\n    public static int bisectRight(Function&lt;Integer, Boolean&gt; function, int min, int max) {\n        if (max == min) {\n            return max;\n        }\n        if (function.apply(min)) {\n            return min;\n        }\n        if (!function.apply(max)) {\n            return max;\n        }\n        while (true) {\n            if (min + 1 == max) {\n                return max;\n            }\n            int middle = (max + min) / 2;\n            if (function.apply(middle)) {\n                max = middle;\n            } else {\n                min = middle;\n            }\n        }\n    }\n}\n</code></pre>\n<p>For example, to find the insertion point in an array, the function compares the value inserted with the values of the array:</p>\n<pre><code>@Test\npublic void bisect_right() {\n    int[] A = new int[]{0, 1, 2, 2, 2, 2, 3, 3, 5, 6};\n    assertEquals(0, bisectRight(f(A, -1), 0, A.length));\n    assertEquals(1, bisectRight(f(A, 0), 0, A.length));\n    assertEquals(6, bisectRight(f(A, 2), 0, A.length));\n    assertEquals(8, bisectRight(f(A, 3), 0, A.length));\n    assertEquals(8, bisectRight(f(A, 4), 0, A.length));\n    assertEquals(9, bisectRight(f(A, 5), 0, A.length));\n    assertEquals(10, bisectRight(f(A, 6), 0, A.length));\n    assertEquals(10, bisectRight(f(A, 7), 0, A.length));\n}\n\npublic Function&lt;Integer, Boolean&gt; f(int[] A, int x) {\n    return n -&gt; (n &gt;= A.length || A[n] &gt; x);\n}\n</code></pre>\n"}],"owner":{"account_id":20988,"reputation":15237,"user_id":50676,"accept_rate":93,"display_name":"systemsfault"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8924,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":2945053,"answer_count":7,"score":17,"last_activity_date":1648727735,"creation_date":1275326289,"question_id":2945017,"body_markdown":"Is there an equivalent in Java for Python&#39;s [bisect module][1]? With Python&#39;s bisect you can do array bisection with directions. For instance `bisect.bisect_left` does:\r\n\r\n&gt; Locate the proper insertion point for item in list to maintain sorted order. The parameters lo and hi may be used to specify a subset of the list which should be considered; by default the entire list is used.\r\n\r\n\r\n  [1]: http://docs.python.org/library/bisect.html\r\n\r\nI know I can do this manually with a binary search too, but I was wondering if there is already a library or collection doing this.","title":"Java&#39;s equivalent to bisect in python","body":"<p>Is there an equivalent in Java for Python's <a href=\"http://docs.python.org/library/bisect.html\" rel=\"noreferrer\">bisect module</a>? With Python's bisect you can do array bisection with directions. For instance <code>bisect.bisect_left</code> does:</p>\n\n<blockquote>\n  <p>Locate the proper insertion point for item in list to maintain sorted order. The parameters lo and hi may be used to specify a subset of the list which should be considered; by default the entire list is used.</p>\n</blockquote>\n\n<p>I know I can do this manually with a binary search too, but I was wondering if there is already a library or collection doing this.</p>\n"},{"tags":["java","math","hashtable","hash-function","cryptographic-hash-function"],"comments":[{"owner":{"account_id":23685228,"reputation":1103,"user_id":17710270,"display_name":"passer-by"},"score":0,"creation_date":1648727659,"post_id":71691934,"comment_id":126701092,"body_markdown":"How long does it take to try one set of weights?  If sufficiently short, you can brute-force it.","body":"How long does it take to try one set of weights?  If sufficiently short, you can brute-force it."},{"owner":{"account_id":36137,"reputation":178789,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":0,"creation_date":1648727670,"post_id":71691934,"comment_id":126701095,"body_markdown":"Is there some principle talked about in class which would help you divine what those 9 numbers are, or are you just supposed to have the clairvoyance to figure out what that principle is?","body":"Is there some principle talked about in class which would help you divine what those 9 numbers are, or are you just supposed to have the clairvoyance to figure out what that principle is?"},{"owner":{"account_id":24758070,"reputation":11,"user_id":18642828,"display_name":"Bopolop"},"score":0,"creation_date":1648798486,"post_id":71691934,"comment_id":126720278,"body_markdown":"they reckon were mathemagicians","body":"they reckon were mathemagicians"},{"owner":{"account_id":24758070,"reputation":11,"user_id":18642828,"display_name":"Bopolop"},"score":0,"creation_date":1648798948,"post_id":71691934,"comment_id":126720424,"body_markdown":"@RobertHarvey ^^","body":"@RobertHarvey ^^"},{"owner":{"account_id":24758070,"reputation":11,"user_id":18642828,"display_name":"Bopolop"},"score":0,"creation_date":1648798970,"post_id":71691934,"comment_id":126720430,"body_markdown":"@passer-by how?","body":"@passer-by how?"},{"owner":{"account_id":23685228,"reputation":1103,"user_id":17710270,"display_name":"passer-by"},"score":0,"creation_date":1648815177,"post_id":71691934,"comment_id":126725960,"body_markdown":"Generate the first possibility for the weights[] array.  Use it to hash all student info - you can stop on the first collision.  If no collision, you&#39;re done.  Otherwise generate the next possibility for weights[] and try again.  Repeat until you find a value with no collisions.","body":"Generate the first possibility for the weights[] array.  Use it to hash all student info - you can stop on the first collision.  If no collision, you&#39;re done.  Otherwise generate the next possibility for weights[] and try again.  Repeat until you find a value with no collisions."},{"owner":{"account_id":23685228,"reputation":1103,"user_id":17710270,"display_name":"passer-by"},"score":0,"creation_date":1648815405,"post_id":71691934,"comment_id":126726048,"body_markdown":"The possibilities for weights , are just 0,0,0,0,0,0,0,0,0 then 0,0,0,0,0,0,0,0,1 then ... 0,0,0,0,0,0,0,1,0 etc.  It&#39;s just counting in a funny format. I&#39;d be tempted to regard it as a single integer that I&#39;d then split into base-6 digits (use Integer.toString(N, 6)), this makes the &quot;generate next&quot; straightforward.","body":"The possibilities for weights , are just 0,0,0,0,0,0,0,0,0 then 0,0,0,0,0,0,0,0,1 then ... 0,0,0,0,0,0,0,1,0 etc.  It&#39;s just counting in a funny format. I&#39;d be tempted to regard it as a single integer that I&#39;d then split into base-6 digits (use Integer.toString(N, 6)), this makes the &quot;generate next&quot; straightforward."}],"owner":{"account_id":24758070,"reputation":11,"user_id":18642828,"display_name":"Bopolop"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":350,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1648727506,"creation_date":1648727354,"question_id":71691934,"body_markdown":"Using the numbers 0-5 I need to write a perfect has function for 36 Student ID Strings with six characters and 3 integers (e.g. BYPLOK120).\r\n\r\n**The hash function looks something like as follows:**\r\n\r\n    String [] studentID = ...\r\nis 36 unique Strings in the format (xxx/yyy/zzz) where x and y are three letters from the students last and first names, respectively. z are 3 random numbers.\r\n\r\n    int hashTableSize = 37;`\r\n\r\n    int [] hashValue = new int[9];`\r\n\r\n    int [] weights = {1,0,5,4,3,2,5,1,2};  \r\n\r\nWeights is 9 numbers between 0-5. THIS IS THE PART I NEED TO FIGURE OUT - there are about 2 million combinations (5^9) and less than 10 will give you a perfect hash function.\r\n\r\n    for (int i = 0; i &lt; hashTableSize; i++)\r\n       for (int j = 0; j &lt; studentID[I].length; j++)\r\n           hashVal[i] += ( studentID[i].charAt(j) * weight[j] ) % hashTableSize;\r\n\r\n**I need the hash value of each string in the array to be unique (i.e. there are no collisions when inserting)**\r\n\r\nI had duplicate hash values as I could not find the unique array of weight integers.","title":"How to write a perfect hash function for 36 strings?","body":"<p>Using the numbers 0-5 I need to write a perfect has function for 36 Student ID Strings with six characters and 3 integers (e.g. BYPLOK120).</p>\n<p><strong>The hash function looks something like as follows:</strong></p>\n<pre><code>String [] studentID = ...\n</code></pre>\n<p>is 36 unique Strings in the format (xxx/yyy/zzz) where x and y are three letters from the students last and first names, respectively. z are 3 random numbers.</p>\n<pre><code>int hashTableSize = 37;`\n\nint [] hashValue = new int[9];`\n\nint [] weights = {1,0,5,4,3,2,5,1,2};  \n</code></pre>\n<p>Weights is 9 numbers between 0-5. THIS IS THE PART I NEED TO FIGURE OUT - there are about 2 million combinations (5^9) and less than 10 will give you a perfect hash function.</p>\n<pre><code>for (int i = 0; i &lt; hashTableSize; i++)\n   for (int j = 0; j &lt; studentID[I].length; j++)\n       hashVal[i] += ( studentID[i].charAt(j) * weight[j] ) % hashTableSize;\n</code></pre>\n<p><strong>I need the hash value of each string in the array to be unique (i.e. there are no collisions when inserting)</strong></p>\n<p>I had duplicate hash values as I could not find the unique array of weight integers.</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":1310803,"reputation":2557,"user_id":1258838,"accept_rate":68,"display_name":"Juliyanage Silva"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648719355,"creation_date":1648715608,"answer_id":71689348,"question_id":71689059,"body_markdown":"The mapping does not need to be many to many, Use a uni directional as this:\r\n\r\n    @OneToMany(fetch = FetchType.EAGER,cascade = CascadeType.PERSIST)\r\n    @JoinTable(\r\n            name = &quot;user_role&quot;,\r\n            joinColumns = @JoinColumn(\r\n                    name = &quot;user_id&quot;,\r\n                    referencedColumnName = &quot;id&quot;\r\n            ),\r\n            inverseJoinColumns = @JoinColumn(\r\n                    name = &quot;role_id&quot;,\r\n                    referencedColumnName = &quot;id&quot;\r\n            ))\r\n    private List&lt;Role&gt; roles;\r\n\r\nBecause a role does not need to have references for corresponding users it&#39;s being used by. Then have the table created &#39;user_role&#39;. After that if you change roles and save the user it should be updated in user_role table.\r\n\r\n**UPDATE**\r\nCould you try this when returning user:\r\n\r\n    @GetMapping(path = &quot;/test&quot;)\r\n    @ResponseStatus(HttpStatus.OK)\r\n    public User test() {\r\n        User user = // get user here by id\r\n        //set roles there\r\n\r\n        return user;\r\n    }","title":"Edit the roles of an user using checkboxes","body":"<p>The mapping does not need to be many to many, Use a uni directional as this:</p>\n<pre><code>@OneToMany(fetch = FetchType.EAGER,cascade = CascadeType.PERSIST)\n@JoinTable(\n        name = &quot;user_role&quot;,\n        joinColumns = @JoinColumn(\n                name = &quot;user_id&quot;,\n                referencedColumnName = &quot;id&quot;\n        ),\n        inverseJoinColumns = @JoinColumn(\n                name = &quot;role_id&quot;,\n                referencedColumnName = &quot;id&quot;\n        ))\nprivate List&lt;Role&gt; roles;\n</code></pre>\n<p>Because a role does not need to have references for corresponding users it's being used by. Then have the table created 'user_role'. After that if you change roles and save the user it should be updated in user_role table.</p>\n<p><strong>UPDATE</strong>\nCould you try this when returning user:</p>\n<pre><code>@GetMapping(path = &quot;/test&quot;)\n@ResponseStatus(HttpStatus.OK)\npublic User test() {\n    User user = // get user here by id\n    //set roles there\n\n    return user;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21765419,"reputation":13,"user_id":16069382,"display_name":"Flow1707"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648727378,"creation_date":1648727378,"answer_id":71691942,"question_id":71689059,"body_markdown":"Apparently my problem was that I was adding the MyUserInterface class to the Model\r\ninsted Of User. So in the Controller I added this: \r\n```\r\nMyUserDetails userDetails=userService.findUserById(id);\r\nUser user = userDetails.getUser();\r\n```\r\n\r\nAnd now thymeleaf can get access to the list of the User directly.\r\n\r\n```\r\n &lt;th:block th:each=&quot;role:${roleList}&quot;&gt;\r\n                &lt;input type=&quot;checkbox&quot;\r\n                       name=&quot;roles&quot;\r\n                       th:field=&quot;*{roles}&quot;\r\n                       th:value=&quot;${role.id}&quot;\r\n                       th:text=&quot;${role.name}&quot; class=&quot;m-2&quot;/&gt;\r\n               &lt;/th:block&gt;\r\n```","title":"Edit the roles of an user using checkboxes","body":"<p>Apparently my problem was that I was adding the MyUserInterface class to the Model\ninsted Of User. So in the Controller I added this:</p>\n<pre><code>MyUserDetails userDetails=userService.findUserById(id);\nUser user = userDetails.getUser();\n</code></pre>\n<p>And now thymeleaf can get access to the list of the User directly.</p>\n<pre><code> &lt;th:block th:each=&quot;role:${roleList}&quot;&gt;\n                &lt;input type=&quot;checkbox&quot;\n                       name=&quot;roles&quot;\n                       th:field=&quot;*{roles}&quot;\n                       th:value=&quot;${role.id}&quot;\n                       th:text=&quot;${role.name}&quot; class=&quot;m-2&quot;/&gt;\n               &lt;/th:block&gt;\n</code></pre>\n"}],"owner":{"account_id":21765419,"reputation":13,"user_id":16069382,"display_name":"Flow1707"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71691942,"answer_count":2,"score":1,"last_activity_date":1648727378,"creation_date":1648714174,"question_id":71689059,"body_markdown":"I am trying to edit the Roles of an user using html and thymeleaf. The point is that everything works ok, I can edit the username, the password, etc but when it comes to the roles, I get null when saving the List. I can&#39;t find anything useful on the internet and I&#39;m struggling with this for a couple of weeks now, I need a way to edit those roles, so the page will return a List containing those roles that are checked. \r\n\r\nHere I have the UserDetails:\r\n```\r\n@Getter\r\n@Setter\r\npublic class MyUserDetails implements UserDetails {\r\n    private final User user;\r\n\r\n    public MyUserDetails(User user) {\r\n        this.user = user;\r\n    }\r\n\r\n    @Override\r\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\r\n        return user.getRoles().stream()\r\n                .map(role-&gt;new SimpleGrantedAuthority(role.getName()))\r\n                .collect(Collectors.toList());\r\n    }\r\n\r\n    public int getId(){return this.user.getId();}\r\n\r\n    public User getUser(){\r\n        return this.user;\r\n    }\r\n\r\n    @Override\r\n    public String getPassword() {\r\n        return user.getPassword();\r\n    }\r\n\r\n    @Override\r\n    public String getUsername() {\r\n        return user.getUsername();\r\n    }\r\n\r\n    @Override\r\n    public boolean isAccountNonExpired() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isAccountNonLocked() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isCredentialsNonExpired() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isEnabled() {\r\n        return user.isEnabled();\r\n    }\r\n}\r\n```\r\n\r\n\r\nHere is the User:\r\n```\r\n@Builder\r\n@Getter\r\n@Setter\r\n@Entity\r\n@Table(name=&quot;user&quot;,schema = &quot;public&quot;)\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class User {\r\n\r\n    @Id\r\n    @Column(name=&quot;user_id&quot;)\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private int id;\r\n\r\n    @NotEmpty(message = &quot;You must provide a username!&quot;)\r\n    @Size(min=5, max=30)\r\n    private String username;\r\n\r\n   @NotEmpty(message = &quot;You must provide a password!&quot;)\r\n    @ValidPassword\r\n    @JsonProperty(access = JsonProperty.Access.WRITE_ONLY)\r\n    private String password;\r\n\r\n    @JsonProperty(access = JsonProperty.Access.WRITE_ONLY)\r\n    private boolean enabled;\r\n\r\n    @ManyToMany(cascade = CascadeType.ALL, fetch = FetchType.EAGER)\r\n    @JoinTable(name=&quot;user_roles&quot;,\r\n            joinColumns = @JoinColumn(name=&quot;user_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;)\r\n            )\r\n    @JsonProperty(access = JsonProperty.Access.WRITE_ONLY)\r\n    private List&lt;Role&gt; roles;\r\n\r\n    @JoinColumn(name=&quot;last_played&quot;)\r\n    private LocalDate lastPlayed;\r\n\r\n    @JsonProperty(access = JsonProperty.Access.WRITE_ONLY)\r\n    public List&lt;String&gt; getRoleNames(){\r\n      return roles.stream()\r\n                .map(Role::getName)\r\n                .collect(Collectors.toList());\r\n    }\r\n\r\n    @OneToMany(mappedBy = &quot;user&quot;, cascade = CascadeType.ALL)\r\n    private List&lt;Reward&gt; rewards;\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;User{&quot; +\r\n                &quot;id=&quot; + id +\r\n                &quot;, username=&#39;&quot; + username + &#39;\\&#39;&#39; +\r\n                &quot;, password=&#39;&quot; + password + &#39;\\&#39;&#39; +\r\n                &quot;, enabled=&quot; + enabled +\r\n                &quot;, roles=&quot; + roles +\r\n                &quot;, lastPlayed=&quot; + lastPlayed +\r\n                &quot;, rewards=&quot; + rewards +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n```\r\n\r\nHere is the Role class:\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@Entity\r\n@Table(name=&quot;role&quot;,schema = &quot;public&quot;)\r\npublic class Role {\r\n\r\n    @Id\r\n    @Column(name=&quot;role_id&quot;)\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private int id;\r\n    private String name;\r\n}\r\n```\r\nThe controller:\r\n\r\n```\r\n@Controller\r\n@RequiredArgsConstructor\r\npublic class EditUserController {\r\n\r\n    private final IUserDetailsService userService;\r\n    private final RoleService roleService;\r\n\r\n        @PostMapping(USERS_SAVE)\r\n    public String saveEdit( @ModelAttribute(AttributeNames.USER) User user,\r\n                            BindingResult bindingResult){\r\n        if(bindingResult.hasErrors()){\r\n            return EDIT_USER;\r\n        }\r\n        userService.updateUser(user);\r\n        return REDIRECT+ USERS;\r\n    }\r\n\r\n    @GetMapping(&quot;/users/{id}&quot;)\r\n    public String editUser(@PathVariable int id, Model model){\r\n\r\n        List&lt;Role&gt; roleList = roleService.findAll();\r\n        UserDetails user = userService.findUserById(id);\r\n\r\n        model.addAttribute(AttributeNames.USER, user);\r\n        model.addAttribute(AttributeNames.ROLE_LIST, roleList);\r\n        return EDIT_USER;\r\n    }\r\n\r\n    @DeleteMapping(Mappings.USERS_DELETE_ID)\r\n    public String deleteUser(@PathVariable int id){\r\n            userService.deleteUser(id);\r\n            return REDIRECT+USERS;\r\n}\r\n}\r\n```\r\n\r\nAnd finally the html part for the roles : \r\n```\r\n &lt;div class=&quot;form-group row&quot;&gt;\r\n            &lt;label class=&quot;col-form-label col-4&quot;&gt;Roles&lt;/label&gt;\r\n            &lt;div class=&quot;col-8&quot;&gt;\r\n               &lt;th:block th:each=&quot;role:${roleList}&quot;&gt;\r\n                &lt;input type=&quot;checkbox&quot;\r\n                       name=&quot;roles&quot;\r\n                       th:field=&quot;*{user.roles}&quot;\r\n                       th:value=&quot;${role.id}&quot;\r\n                       th:text=&quot;${role.name}&quot; class=&quot;m-2&quot;/&gt;\r\n               &lt;/th:block&gt;\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n```\r\nHere is a picture with the form, this user has both roles of user and admin, and they are both checked when entering the page, but if I go for the update, the roles will be modified to null.\r\nCan you help me figure this out?\r\n\r\nhttps://i.stack.imgur.com/DWpRw.png","title":"Edit the roles of an user using checkboxes","body":"<p>I am trying to edit the Roles of an user using html and thymeleaf. The point is that everything works ok, I can edit the username, the password, etc but when it comes to the roles, I get null when saving the List. I can't find anything useful on the internet and I'm struggling with this for a couple of weeks now, I need a way to edit those roles, so the page will return a List containing those roles that are checked.</p>\n<p>Here I have the UserDetails:</p>\n<pre><code>@Getter\n@Setter\npublic class MyUserDetails implements UserDetails {\n    private final User user;\n\n    public MyUserDetails(User user) {\n        this.user = user;\n    }\n\n    @Override\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\n        return user.getRoles().stream()\n                .map(role-&gt;new SimpleGrantedAuthority(role.getName()))\n                .collect(Collectors.toList());\n    }\n\n    public int getId(){return this.user.getId();}\n\n    public User getUser(){\n        return this.user;\n    }\n\n    @Override\n    public String getPassword() {\n        return user.getPassword();\n    }\n\n    @Override\n    public String getUsername() {\n        return user.getUsername();\n    }\n\n    @Override\n    public boolean isAccountNonExpired() {\n        return true;\n    }\n\n    @Override\n    public boolean isAccountNonLocked() {\n        return true;\n    }\n\n    @Override\n    public boolean isCredentialsNonExpired() {\n        return true;\n    }\n\n    @Override\n    public boolean isEnabled() {\n        return user.isEnabled();\n    }\n}\n</code></pre>\n<p>Here is the User:</p>\n<pre><code>@Builder\n@Getter\n@Setter\n@Entity\n@Table(name=&quot;user&quot;,schema = &quot;public&quot;)\n@NoArgsConstructor\n@AllArgsConstructor\npublic class User {\n\n    @Id\n    @Column(name=&quot;user_id&quot;)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n\n    @NotEmpty(message = &quot;You must provide a username!&quot;)\n    @Size(min=5, max=30)\n    private String username;\n\n   @NotEmpty(message = &quot;You must provide a password!&quot;)\n    @ValidPassword\n    @JsonProperty(access = JsonProperty.Access.WRITE_ONLY)\n    private String password;\n\n    @JsonProperty(access = JsonProperty.Access.WRITE_ONLY)\n    private boolean enabled;\n\n    @ManyToMany(cascade = CascadeType.ALL, fetch = FetchType.EAGER)\n    @JoinTable(name=&quot;user_roles&quot;,\n            joinColumns = @JoinColumn(name=&quot;user_id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;)\n            )\n    @JsonProperty(access = JsonProperty.Access.WRITE_ONLY)\n    private List&lt;Role&gt; roles;\n\n    @JoinColumn(name=&quot;last_played&quot;)\n    private LocalDate lastPlayed;\n\n    @JsonProperty(access = JsonProperty.Access.WRITE_ONLY)\n    public List&lt;String&gt; getRoleNames(){\n      return roles.stream()\n                .map(Role::getName)\n                .collect(Collectors.toList());\n    }\n\n    @OneToMany(mappedBy = &quot;user&quot;, cascade = CascadeType.ALL)\n    private List&lt;Reward&gt; rewards;\n\n    @Override\n    public String toString() {\n        return &quot;User{&quot; +\n                &quot;id=&quot; + id +\n                &quot;, username='&quot; + username + '\\'' +\n                &quot;, password='&quot; + password + '\\'' +\n                &quot;, enabled=&quot; + enabled +\n                &quot;, roles=&quot; + roles +\n                &quot;, lastPlayed=&quot; + lastPlayed +\n                &quot;, rewards=&quot; + rewards +\n                '}';\n    }\n}\n</code></pre>\n<p>Here is the Role class:</p>\n<pre><code>@Getter\n@Setter\n@Entity\n@Table(name=&quot;role&quot;,schema = &quot;public&quot;)\npublic class Role {\n\n    @Id\n    @Column(name=&quot;role_id&quot;)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n    private String name;\n}\n</code></pre>\n<p>The controller:</p>\n<pre><code>@Controller\n@RequiredArgsConstructor\npublic class EditUserController {\n\n    private final IUserDetailsService userService;\n    private final RoleService roleService;\n\n        @PostMapping(USERS_SAVE)\n    public String saveEdit( @ModelAttribute(AttributeNames.USER) User user,\n                            BindingResult bindingResult){\n        if(bindingResult.hasErrors()){\n            return EDIT_USER;\n        }\n        userService.updateUser(user);\n        return REDIRECT+ USERS;\n    }\n\n    @GetMapping(&quot;/users/{id}&quot;)\n    public String editUser(@PathVariable int id, Model model){\n\n        List&lt;Role&gt; roleList = roleService.findAll();\n        UserDetails user = userService.findUserById(id);\n\n        model.addAttribute(AttributeNames.USER, user);\n        model.addAttribute(AttributeNames.ROLE_LIST, roleList);\n        return EDIT_USER;\n    }\n\n    @DeleteMapping(Mappings.USERS_DELETE_ID)\n    public String deleteUser(@PathVariable int id){\n            userService.deleteUser(id);\n            return REDIRECT+USERS;\n}\n}\n</code></pre>\n<p>And finally the html part for the roles :</p>\n<pre><code> &lt;div class=&quot;form-group row&quot;&gt;\n            &lt;label class=&quot;col-form-label col-4&quot;&gt;Roles&lt;/label&gt;\n            &lt;div class=&quot;col-8&quot;&gt;\n               &lt;th:block th:each=&quot;role:${roleList}&quot;&gt;\n                &lt;input type=&quot;checkbox&quot;\n                       name=&quot;roles&quot;\n                       th:field=&quot;*{user.roles}&quot;\n                       th:value=&quot;${role.id}&quot;\n                       th:text=&quot;${role.name}&quot; class=&quot;m-2&quot;/&gt;\n               &lt;/th:block&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n</code></pre>\n<p>Here is a picture with the form, this user has both roles of user and admin, and they are both checked when entering the page, but if I go for the update, the roles will be modified to null.\nCan you help me figure this out?</p>\n<p><a href=\"https://i.stack.imgur.com/DWpRw.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/DWpRw.png</a></p>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":15187657,"reputation":122,"user_id":10959131,"display_name":"NickNgn"},"score":0,"creation_date":1648488143,"post_id":71650866,"comment_id":126631179,"body_markdown":"I&#39;m wondering why do you have multiple repositories based on data sources? Are they possible to be shared together?","body":"I&#39;m wondering why do you have multiple repositories based on data sources? Are they possible to be shared together?"},{"owner":{"account_id":5075886,"reputation":237,"user_id":4073249,"display_name":"Alper Derya"},"score":0,"creation_date":1648541536,"post_id":71650866,"comment_id":126643653,"body_markdown":"Were these different datasources created to manage different environment like, local, dev, prod etc. ? Or, Are they totally different datasources but they are sharing same entity in their in own schema?","body":"Were these different datasources created to manage different environment like, local, dev, prod etc. ? Or, Are they totally different datasources but they are sharing same entity in their in own schema?"},{"owner":{"account_id":19931270,"reputation":103,"user_id":14604849,"display_name":"tristan19954"},"score":0,"creation_date":1648560410,"post_id":71650866,"comment_id":126651322,"body_markdown":"@AlperDerya They represent different domains in the application. The datasources contain some metrics about servers (like load, delay, ...), and the metrics for each server are taken every few seconds and stored in a different database. The metrics in itself are exactly of the same type. I&#39;m not sure if this is a good architecture but it&#39;s out of my control","body":"@AlperDerya They represent different domains in the application. The datasources contain some metrics about servers (like load, delay, ...), and the metrics for each server are taken every few seconds and stored in a different database. The metrics in itself are exactly of the same type. I&#39;m not sure if this is a good architecture but it&#39;s out of my control"},{"owner":{"account_id":19931270,"reputation":103,"user_id":14604849,"display_name":"tristan19954"},"score":0,"creation_date":1648560582,"post_id":71650866,"comment_id":126651413,"body_markdown":"@HungNguyenDuy I don&#39;t know, I&#39;m trying to assign a datasource to a repository dynamically but I can&#39;t find how to do it.","body":"@HungNguyenDuy I don&#39;t know, I&#39;m trying to assign a datasource to a repository dynamically but I can&#39;t find how to do it."},{"owner":{"account_id":15187657,"reputation":122,"user_id":10959131,"display_name":"NickNgn"},"score":1,"creation_date":1648650400,"post_id":71650866,"comment_id":126678985,"body_markdown":"I&#39;m not sure but this may have some information you need:\nhttps://javatodev.com/multiple-datasources-with-spring-boot-data-jpa/","body":"I&#39;m not sure but this may have some information you need: <a href=\"https://javatodev.com/multiple-datasources-with-spring-boot-data-jpa/\" rel=\"nofollow noreferrer\">javatodev.com/multiple-datasources-with-spring-boot-data-jpa</a>"},{"owner":{"account_id":19931270,"reputation":103,"user_id":14604849,"display_name":"tristan19954"},"score":0,"creation_date":1648727480,"post_id":71650866,"comment_id":126701032,"body_markdown":"@HungNguyenDuy Thank you! It is actually really similar to the implementation I have at the moment. But this guide does also create one repository for each datasource. I think what I&#39;m asking might not be possible and I&#39;ll try to implement the answer I got below","body":"@HungNguyenDuy Thank you! It is actually really similar to the implementation I have at the moment. But this guide does also create one repository for each datasource. I think what I&#39;m asking might not be possible and I&#39;ll try to implement the answer I got below"},{"owner":{"account_id":169237,"reputation":39170,"user_id":395202,"accept_rate":59,"display_name":"Adrian Shum"},"score":0,"creation_date":1648728113,"post_id":71650866,"comment_id":126701271,"body_markdown":"Theoretically you should be able to create multiple instance of repository, each inject with its corresponding EntityManager (which represents a datasource), as long as you are not mixing the entities from different EMs.  What I don&#39;t know yet is how you could manually create repository :P  wish this is a starting point to you.","body":"Theoretically you should be able to create multiple instance of repository, each inject with its corresponding EntityManager (which represents a datasource), as long as you are not mixing the entities from different EMs.  What I don&#39;t know yet is how you could manually create repository :P  wish this is a starting point to you."}],"answers":[{"tags":[],"owner":{"account_id":5075886,"reputation":237,"user_id":4073249,"display_name":"Alper Derya"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1648727299,"creation_date":1648563799,"answer_id":71663850,"question_id":71650866,"body_markdown":"If these duplicate entities will be always updated at same time for each data source then you can maintain only one entity as system wide. Otherwise, you need to create unique entities for each data source. You already stated that you configured datasources for repository management. You can also centralized the usage of repositories by inheritance. Like;\r\n\r\n    public interface BaseLoadRepository extends CrudRepository&lt;LoadEntity, Long&gt;\r\n    \r\n    public interface DataSource1LoadRepo extends BaseLoadRepository\r\n    \r\n    public interface DataSource2LoadRepo extends BaseLoadRepository\r\n\r\nIt gives you opportunity to add new method independently for each datasource. This approach also can be used for entites.","title":"Spring data JPA : How to organize repositories and service layer for multiple datasources containing same entity","body":"<p>If these duplicate entities will be always updated at same time for each data source then you can maintain only one entity as system wide. Otherwise, you need to create unique entities for each data source. You already stated that you configured datasources for repository management. You can also centralized the usage of repositories by inheritance. Like;</p>\n<pre><code>public interface BaseLoadRepository extends CrudRepository&lt;LoadEntity, Long&gt;\n\npublic interface DataSource1LoadRepo extends BaseLoadRepository\n\npublic interface DataSource2LoadRepo extends BaseLoadRepository\n</code></pre>\n<p>It gives you opportunity to add new method independently for each datasource. This approach also can be used for entites.</p>\n"}],"owner":{"account_id":19931270,"reputation":103,"user_id":14604849,"display_name":"tristan19954"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":974,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71663850,"answer_count":1,"score":1,"last_activity_date":1648727299,"creation_date":1648486148,"question_id":71650866,"body_markdown":"I have an entity *EntityA* that is present in multiple datasources, *datasourceA* and *datasourceB*. Basically, same table but different content exists in both databases.\r\n\r\nHow should I organize my spring boot application in this scenario? Currently I have the following :\r\n- 1 entity class\r\n- 2 Repositories, one for each datasource. I have a config file that indicate the datasource that a repository should use.\r\n- 1 service class which, based on a given argument, queries one of the repositories.\r\n\r\nThe problem with this is that, in my real program, I have 6 entities that are all shared among 6 datasources, which leads me to have 32 repositories, one for each entity and for each datasource. Also my code for choosing the right repository to use in the service class gets quite long.\r\n\r\nIs this the best way to approach the problem or is there a way to better organize this / limit the number of repositories needed? Spring boot is using hibernate in my application.\r\n","title":"Spring data JPA : How to organize repositories and service layer for multiple datasources containing same entity","body":"<p>I have an entity <em>EntityA</em> that is present in multiple datasources, <em>datasourceA</em> and <em>datasourceB</em>. Basically, same table but different content exists in both databases.</p>\n<p>How should I organize my spring boot application in this scenario? Currently I have the following :</p>\n<ul>\n<li>1 entity class</li>\n<li>2 Repositories, one for each datasource. I have a config file that indicate the datasource that a repository should use.</li>\n<li>1 service class which, based on a given argument, queries one of the repositories.</li>\n</ul>\n<p>The problem with this is that, in my real program, I have 6 entities that are all shared among 6 datasources, which leads me to have 32 repositories, one for each entity and for each datasource. Also my code for choosing the right repository to use in the service class gets quite long.</p>\n<p>Is this the best way to approach the problem or is there a way to better organize this / limit the number of repositories needed? Spring boot is using hibernate in my application.</p>\n"},{"tags":["java","netbeans","maven","compilation"],"comments":[{"owner":{"account_id":104251,"reputation":52940,"user_id":278836,"accept_rate":88,"display_name":"Andrew White"},"score":1,"creation_date":1303866979,"post_id":5798150,"comment_id":6648979,"body_markdown":"You may post the output of a -e or -X run to give us more details. I suspect some other process is changing file permissions in a subtle way.","body":"You may post the output of a -e or -X run to give us more details. I suspect some other process is changing file permissions in a subtle way."},{"owner":{"account_id":246686,"reputation":58068,"user_id":520957,"accept_rate":94,"display_name":"J&#233;r&#244;me Verstrynge"},"score":0,"creation_date":1303867398,"post_id":5798150,"comment_id":6649032,"body_markdown":"What is &#39;output of a -e or -X&#39; exactly? What should I look for regarding permissions?","body":"What is &#39;output of a -e or -X&#39; exactly? What should I look for regarding permissions?"},{"owner":{"account_id":104251,"reputation":52940,"user_id":278836,"accept_rate":88,"display_name":"Andrew White"},"score":1,"creation_date":1303867629,"post_id":5798150,"comment_id":6649058,"body_markdown":"Exception stack trace and debugging logs respectively.","body":"Exception stack trace and debugging logs respectively."}],"answers":[{"tags":[],"owner":{"account_id":246686,"reputation":58068,"user_id":520957,"accept_rate":94,"display_name":"J&#233;r&#244;me Verstrynge"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1307939699,"creation_date":1307939699,"answer_id":6326704,"question_id":5798150,"body_markdown":"This issue started to happen after a NetBeans crash. I finally deleted the content of .m2 and re-installed NetBeans from scratch. The issue disappeared. I am still unclear what would cause it, but it is now gone.","title":"Failed to execute goal ... maven-install-plugin ... Failed to install artifact ... (Access is denied)","body":"<p>This issue started to happen after a NetBeans crash. I finally deleted the content of .m2 and re-installed NetBeans from scratch. The issue disappeared. I am still unclear what would cause it, but it is now gone.</p>\n"},{"tags":[],"owner":{"account_id":239923,"reputation":11783,"user_id":509840,"accept_rate":71,"display_name":"rajah9"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1352747133,"creation_date":1352747133,"answer_id":13349868,"question_id":5798150,"body_markdown":"I have experienced this problem in Eclipse Indigo SR2, and I was hoping to try something less drastic than deleting .m2. \r\n\r\nI tried to uncheck &quot;Resolve dependencies from Workspace projects&quot; as described in [this post][1], but continued to get the message.\r\n\r\nI finally got it working by running `mvn clean install` from the command line.\r\n\r\n\r\n  [1]: http://maven.40175.n5.nabble.com/Problem-with-war-plugin-only-occurs-when-running-in-m2eclipse-td138146.html","title":"Failed to execute goal ... maven-install-plugin ... Failed to install artifact ... (Access is denied)","body":"<p>I have experienced this problem in Eclipse Indigo SR2, and I was hoping to try something less drastic than deleting .m2. </p>\n\n<p>I tried to uncheck \"Resolve dependencies from Workspace projects\" as described in <a href=\"http://maven.40175.n5.nabble.com/Problem-with-war-plugin-only-occurs-when-running-in-m2eclipse-td138146.html\" rel=\"nofollow\">this post</a>, but continued to get the message.</p>\n\n<p>I finally got it working by running <code>mvn clean install</code> from the command line.</p>\n"},{"tags":[],"owner":{"account_id":1440681,"reputation":403,"user_id":1360933,"accept_rate":86,"display_name":"Gytis"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1354718935,"creation_date":1354718935,"answer_id":13725810,"question_id":5798150,"body_markdown":"Sometimes, when you do mvn clean, you should check if you have opened folders of /target, or other generated resources, so closing all those folders solves the issue.","title":"Failed to execute goal ... maven-install-plugin ... Failed to install artifact ... (Access is denied)","body":"<p>Sometimes, when you do mvn clean, you should check if you have opened folders of /target, or other generated resources, so closing all those folders solves the issue.</p>\n"},{"tags":[],"owner":{"account_id":2254066,"reputation":5324,"user_id":1985648,"accept_rate":59,"display_name":"Don Cheadle"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1553553860,"creation_date":1468531245,"answer_id":38384472,"question_id":5798150,"body_markdown":"You may have a typo in your `-Dfile` argument. Make sure it&#39;s pointing to an actual *file*, not a *folder*.\r\n\r\nI.e. Make sure you don&#39;t have `-Dfile=C:\\lib\\jackson` when you mean `-Dfile=C:\\lib\\jackson.jar`\r\n\r\n-----\r\nTargeting a folder can cause this &quot;Access Denied&quot; error, which doesn&#39;t seem to make sense for what the actual problem is.","title":"Failed to execute goal ... maven-install-plugin ... Failed to install artifact ... (Access is denied)","body":"<p>You may have a typo in your <code>-Dfile</code> argument. Make sure it's pointing to an actual <em>file</em>, not a <em>folder</em>.</p>\n\n<p>I.e. Make sure you don't have <code>-Dfile=C:\\lib\\jackson</code> when you mean <code>-Dfile=C:\\lib\\jackson.jar</code></p>\n\n<hr>\n\n<p>Targeting a folder can cause this \"Access Denied\" error, which doesn't seem to make sense for what the actual problem is.</p>\n"},{"tags":[],"owner":{"account_id":36915,"reputation":3723,"user_id":105408,"accept_rate":75,"display_name":"markthegrea"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1489008538,"creation_date":1489008538,"answer_id":42682239,"question_id":5798150,"body_markdown":"After about an hour of frustration, here is how I fixed it.  \r\n\r\nI had upgraded my Eclipse environment and use the maven-install-plugin to add 2 jars that are not in any repository.  This had worked previously but now it won&#39;t. This plugin automatically adds the jars each time it runs the build.  \r\n\r\n    &lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.5.2&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;install-external1&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;clean&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;file&gt;${basedir}/resources/storm-eventhubs-1.0.2-jar-with-dependencies.jar&lt;/file&gt;\r\n\t\t\t\t\t\t\t&lt;repositoryLayout&gt;default&lt;/repositoryLayout&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;com.microsoft.eventhubs&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;eventhubs-storm-spout&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t&lt;version&gt;1.0.2&lt;/version&gt;\r\n\t\t\t\t\t\t\t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n\t\t\t\t\t\t\t&lt;generatePom&gt;true&lt;/generatePom&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;install-file&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\r\nI went to the .m2 folder and changed the name of the .pom file it was complaining about and bam, it created a new one and ran.  Obviously there was a permissions problem in the folder structure.  Give it a try!","title":"Failed to execute goal ... maven-install-plugin ... Failed to install artifact ... (Access is denied)","body":"<p>After about an hour of frustration, here is how I fixed it.  </p>\n\n<p>I had upgraded my Eclipse environment and use the maven-install-plugin to add 2 jars that are not in any repository.  This had worked previously but now it won't. This plugin automatically adds the jars each time it runs the build.  </p>\n\n<pre><code>&lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.5.2&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;install-external1&lt;/id&gt;\n                    &lt;phase&gt;clean&lt;/phase&gt;\n                    &lt;configuration&gt;\n                        &lt;file&gt;${basedir}/resources/storm-eventhubs-1.0.2-jar-with-dependencies.jar&lt;/file&gt;\n                        &lt;repositoryLayout&gt;default&lt;/repositoryLayout&gt;\n                        &lt;groupId&gt;com.microsoft.eventhubs&lt;/groupId&gt;\n                        &lt;artifactId&gt;eventhubs-storm-spout&lt;/artifactId&gt;\n                        &lt;version&gt;1.0.2&lt;/version&gt;\n                        &lt;packaging&gt;jar&lt;/packaging&gt;\n                        &lt;generatePom&gt;true&lt;/generatePom&gt;\n                    &lt;/configuration&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;install-file&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n\n<p>I went to the .m2 folder and changed the name of the .pom file it was complaining about and bam, it created a new one and ran.  Obviously there was a permissions problem in the folder structure.  Give it a try!</p>\n"},{"tags":[],"owner":{"account_id":5039254,"reputation":577,"user_id":4047186,"display_name":"Amit Gurbani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1519634523,"creation_date":1519630428,"answer_id":48983503,"question_id":5798150,"body_markdown":"I got this error too, it was solved by creating a simple maven project.\r\n\r\nSteps:-\r\n\r\n 1. Create a simple maven project along with your existing project.\r\n 2. Build this new project.\r\n 3. If it builds successfully, build your existing maven project.","title":"Failed to execute goal ... maven-install-plugin ... Failed to install artifact ... (Access is denied)","body":"<p>I got this error too, it was solved by creating a simple maven project.</p>\n\n<p>Steps:-</p>\n\n<ol>\n<li>Create a simple maven project along with your existing project.</li>\n<li>Build this new project.</li>\n<li>If it builds successfully, build your existing maven project.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1962633,"reputation":2423,"user_id":1763707,"display_name":"Seif Tml"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1523434037,"creation_date":1523350018,"answer_id":49749233,"question_id":5798150,"body_markdown":"for some reasons(windows 7) i don’t have **permission** to access the specified folder,so either you run the Maven or your IDE as **administrator** or so try to access the folder and you will have warning popup and you have to click Continue to permanently get access to this folder, so your user account is added to the **ACL** for the folder , and that&#39;s it !","title":"Failed to execute goal ... maven-install-plugin ... Failed to install artifact ... (Access is denied)","body":"<p>for some reasons(windows 7) i don’t have <strong>permission</strong> to access the specified folder,so either you run the Maven or your IDE as <strong>administrator</strong> or so try to access the folder and you will have warning popup and you have to click Continue to permanently get access to this folder, so your user account is added to the <strong>ACL</strong> for the folder , and that's it !</p>\n"},{"tags":[],"owner":{"account_id":13498603,"reputation":21,"user_id":9738626,"display_name":"asdf47"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1525400625,"creation_date":1525400625,"answer_id":50166246,"question_id":5798150,"body_markdown":"I got this error too. I resolved this by unchecking the folder attributes read-only and Hidden. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1a3OF.png","title":"Failed to execute goal ... maven-install-plugin ... Failed to install artifact ... (Access is denied)","body":"<p>I got this error too. I resolved this by unchecking the folder attributes read-only and Hidden. </p>\n"},{"tags":[],"owner":{"display_name":"user11311618"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1572961165,"creation_date":1572961165,"answer_id":58712550,"question_id":5798150,"body_markdown":"i faced the same issue ,(for linux based users) the reason for me was the folder it was trying to access had root privilege , so any normal user could not access it.\r\n\r\nto resolve this there are 2 steps :  \r\n1. add a sudo to the command\r\n\r\n    sudo mvn clean compile    # or any other mvn command\r\n2. delete the parent folder for the project (not the .m2, folder with name same as the project) and then retry your command\r\n\r\n    sudo rm -r your-folder/    #  inside ./m2 folder\r\n\r\n    mnv clean compile  # inside your project\r\n\r\n\r\n ","title":"Failed to execute goal ... maven-install-plugin ... Failed to install artifact ... (Access is denied)","body":"<p>i faced the same issue ,(for linux based users) the reason for me was the folder it was trying to access had root privilege , so any normal user could not access it.</p>\n\n<p>to resolve this there are 2 steps :<br>\n1. add a sudo to the command</p>\n\n<pre><code>sudo mvn clean compile    # or any other mvn command\n</code></pre>\n\n<p>2. delete the parent folder for the project (not the .m2, folder with name same as the project) and then retry your command</p>\n\n<pre><code>sudo rm -r your-folder/    #  inside ./m2 folder\n\nmnv clean compile  # inside your project\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15176538,"reputation":43,"user_id":10951110,"display_name":"Aayush Garg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645809534,"creation_date":1645809534,"answer_id":71269440,"question_id":5798150,"body_markdown":"The error was related to the -Dfile parameter, as it seems to don&#39;t accept relative paths. Providing Absolute path worked for me.","title":"Failed to execute goal ... maven-install-plugin ... Failed to install artifact ... (Access is denied)","body":"<p>The error was related to the -Dfile parameter, as it seems to don't accept relative paths. Providing Absolute path worked for me.</p>\n"},{"tags":[],"owner":{"account_id":24758355,"reputation":1,"user_id":18643050,"display_name":"oVTuan"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1648727090,"creation_date":1648727090,"answer_id":71691886,"question_id":5798150,"body_markdown":"Just run as administrator with Netbeans or any IDE,TextEditer","title":"Failed to execute goal ... maven-install-plugin ... Failed to install artifact ... (Access is denied)","body":"<p>Just run as administrator with Netbeans or any IDE,TextEditer</p>\n"}],"owner":{"account_id":246686,"reputation":58068,"user_id":520957,"accept_rate":94,"display_name":"J&#233;r&#244;me Verstrynge"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68952,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":6326704,"answer_count":11,"score":19,"last_activity_date":1648727090,"creation_date":1303865645,"question_id":5798150,"body_markdown":"I often getting the following error when compiling a maven project with NetBeans:\r\n\r\n`Failed to execute goal org.apache.maven.plugins:maven-install-plugin:2.3.1:install (default-install) on project xxx: Failed to install artifact yyyy: C:\\...\\.m2\\repository\\...\\yyyy-1.0.0.jar (Access is denied) -&gt; [Help 1]`\r\n\r\nI don&#39;t know what is causing it. Solution is to erase the problematic .m2 content manually and the issue goes. But it is annoying. \r\n\r\nAnyone has a permanent solution?\r\n\r\n**EDIT**\r\n\r\n&gt; [ERROR] Failed to execute goal\r\n&gt; org.apache.maven.plugins:maven-install-plugin:2.3.1:install\r\n&gt; (default-install) on project Plasma:\r\n&gt; Failed to install artifact\r\n&gt; net.dwst:Plasma:jar:1.0.0:\r\n&gt; C:\\...\\.m2\\repository\\net\\dwst\\Plasma\\1.0.0\\Plasma-1.0.0.jar\r\n&gt; (Access is denied) -&gt; [Help 1]\r\n&gt; org.apache.maven.lifecycle.LifecycleExecutionException:\r\n&gt; Failed to execute goal\r\n&gt; org.apache.maven.plugins:maven-install-plugin:2.3.1:install\r\n&gt; (default-install) on project Plasma:\r\n&gt; Failed to install artifact\r\n&gt; net.dwst:Plasma:jar:1.0.0:\r\n&gt; C:\\...\\.m2\\repository\\net\\dwst\\Plasma\\1.0.0\\Plasma-1.0.0.jar\r\n&gt; (Access is denied) \tat\r\n&gt; org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:203)\r\n&gt; \tat\r\n&gt; org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:148)\r\n&gt; \tat\r\n&gt; org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:140)\r\n&gt; \tat\r\n&gt; org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:84)\r\n&gt; \tat\r\n&gt; org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:59)\r\n&gt; \tat\r\n&gt; org.apache.maven.lifecycle.internal.LifecycleStarter.singleThreadedBuild(LifecycleStarter.java:183)\r\n&gt; \tat\r\n&gt; org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:161)\r\n&gt; \tat\r\n&gt; org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:316)\r\n&gt; \tat\r\n&gt; org.apache.maven.DefaultMaven.execute(DefaultMaven.java:153)\r\n&gt; \tat\r\n&gt; org.apache.maven.cli.MavenCli.execute(MavenCli.java:451)\r\n&gt; \tat\r\n&gt; org.apache.maven.cli.MavenCli.doMain(MavenCli.java:188)\r\n&gt; \tat\r\n&gt; org.apache.maven.cli.MavenCli.main(MavenCli.java:134)\r\n&gt; \tat\r\n&gt; sun.reflect.NativeMethodAccessorImpl.invoke0(Native\r\n&gt; Method) \tat\r\n&gt; sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n&gt; \tat\r\n&gt; sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n&gt; \tat\r\n&gt; java.lang.reflect.Method.invoke(Method.java:597)\r\n&gt; \tat\r\n&gt; org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:290)\r\n&gt; \tat\r\n&gt; org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:230)\r\n&gt; \tat\r\n&gt; org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:409)\r\n&gt; \tat\r\n&gt; org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:352)\r\n&gt; Caused by:\r\n&gt; org.apache.maven.plugin.MojoExecutionException:\r\n&gt; Failed to install artifact\r\n&gt; net.dwst:Plasma:jar:1.0.0:\r\n&gt; C:\\...\\.m2\\repository\\net\\dwst\\Plasma\\1.0.0\\Plasma-1.0.0.jar\r\n&gt; (Access is denied) \tat\r\n&gt; org.apache.maven.plugin.install.InstallMojo.execute(InstallMojo.java:139)\r\n&gt; \tat\r\n&gt; org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:107)\r\n&gt; \tat\r\n&gt; org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:195)\r\n&gt; \t... 19 more Caused by:\r\n&gt; org.apache.maven.artifact.installer.ArtifactInstallationException:\r\n&gt; Failed to install artifact\r\n&gt; net.dwst:Plasma:jar:1.0.0:\r\n&gt; C:\\...\\.m2\\repository\\net\\dwst\\Plasma\\1.0.0\\Plasma-1.0.0.jar\r\n&gt; (Access is denied) \tat\r\n&gt; org.apache.maven.artifact.installer.DefaultArtifactInstaller.install(DefaultArtifactInstaller.java:110)\r\n&gt; \tat\r\n&gt; org.apache.maven.plugin.install.InstallMojo.execute(InstallMojo.java:103)\r\n&gt; \t... 21 more Caused by:\r\n&gt; org.sonatype.aether.installation.InstallationException:\r\n&gt; Failed to install artifact\r\n&gt; net.dwst:Plasma:jar:1.0.0:\r\n&gt; C:\\...\\.m2\\repository\\net\\dwst\\Plasma\\1.0.0\\Plasma-1.0.0.jar\r\n&gt; (Access is denied) \tat\r\n&gt; org.sonatype.aether.impl.internal.DefaultInstaller.install(DefaultInstaller.java:279)\r\n&gt; \tat\r\n&gt; org.sonatype.aether.impl.internal.DefaultInstaller.install(DefaultInstaller.java:190)\r\n&gt; \tat\r\n&gt; org.sonatype.aether.impl.internal.DefaultRepositorySystem.install(DefaultRepositorySystem.java:322)\r\n&gt; \tat\r\n&gt; org.apache.maven.artifact.installer.DefaultArtifactInstaller.install(DefaultArtifactInstaller.java:106)\r\n&gt; \t... 22 more Caused by:\r\n&gt; java.io.FileNotFoundException:\r\n&gt; C:\\...\\.m2\\repository\\net\\dwst\\Plasma\\1.0.0\\Plasma-1.0.0.jar\r\n&gt; (Access is denied) \tat\r\n&gt; java.io.FileOutputStream.open(Native\r\n&gt; Method) \tat\r\n&gt; java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:179)\r\n&gt; \tat\r\n&gt; java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:131)\r\n&gt; \tat\r\n&gt; org.sonatype.aether.impl.internal.DefaultFileProcessor.copy(DefaultFileProcessor.java:120)\r\n&gt; \tat\r\n&gt; org.sonatype.aether.impl.internal.DefaultInstaller.install(DefaultInstaller.java:255)\r\n&gt; \t... 25 more [ERROR]  [ERROR]  [ERROR]\r\n&gt; For more information about the errors\r\n&gt; and possible solutions, please read\r\n&gt; the following articles: [ERROR] [Help\r\n&gt; 1]\r\n&gt; http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n\r\n","title":"Failed to execute goal ... maven-install-plugin ... Failed to install artifact ... (Access is denied)","body":"<p>I often getting the following error when compiling a maven project with NetBeans:</p>\n\n<p><code>Failed to execute goal org.apache.maven.plugins:maven-install-plugin:2.3.1:install (default-install) on project xxx: Failed to install artifact yyyy: C:\\...\\.m2\\repository\\...\\yyyy-1.0.0.jar (Access is denied) -&gt; [Help 1]</code></p>\n\n<p>I don't know what is causing it. Solution is to erase the problematic .m2 content manually and the issue goes. But it is annoying. </p>\n\n<p>Anyone has a permanent solution?</p>\n\n<p><strong>EDIT</strong></p>\n\n<blockquote>\n  <p>[ERROR] Failed to execute goal\n  org.apache.maven.plugins:maven-install-plugin:2.3.1:install\n  (default-install) on project Plasma:\n  Failed to install artifact\n  net.dwst:Plasma:jar:1.0.0:\n  C:....m2\\repository\\net\\dwst\\Plasma\\1.0.0\\Plasma-1.0.0.jar\n  (Access is denied) -> [Help 1]\n  org.apache.maven.lifecycle.LifecycleExecutionException:\n  Failed to execute goal\n  org.apache.maven.plugins:maven-install-plugin:2.3.1:install\n  (default-install) on project Plasma:\n  Failed to install artifact\n  net.dwst:Plasma:jar:1.0.0:\n  C:....m2\\repository\\net\\dwst\\Plasma\\1.0.0\\Plasma-1.0.0.jar\n  (Access is denied)    at\n  org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:203)\n    at\n  org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:148)\n    at\n  org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:140)\n    at\n  org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:84)\n    at\n  org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:59)\n    at\n  org.apache.maven.lifecycle.internal.LifecycleStarter.singleThreadedBuild(LifecycleStarter.java:183)\n    at\n  org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:161)\n    at\n  org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:316)\n    at\n  org.apache.maven.DefaultMaven.execute(DefaultMaven.java:153)\n    at\n  org.apache.maven.cli.MavenCli.execute(MavenCli.java:451)\n    at\n  org.apache.maven.cli.MavenCli.doMain(MavenCli.java:188)\n    at\n  org.apache.maven.cli.MavenCli.main(MavenCli.java:134)\n    at\n  sun.reflect.NativeMethodAccessorImpl.invoke0(Native\n  Method)   at\n  sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n    at\n  sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n    at\n  java.lang.reflect.Method.invoke(Method.java:597)\n    at\n  org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:290)\n    at\n  org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:230)\n    at\n  org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:409)\n    at\n  org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:352)\n  Caused by:\n  org.apache.maven.plugin.MojoExecutionException:\n  Failed to install artifact\n  net.dwst:Plasma:jar:1.0.0:\n  C:....m2\\repository\\net\\dwst\\Plasma\\1.0.0\\Plasma-1.0.0.jar\n  (Access is denied)    at\n  org.apache.maven.plugin.install.InstallMojo.execute(InstallMojo.java:139)\n    at\n  org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:107)\n    at\n  org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:195)\n    ... 19 more Caused by:\n  org.apache.maven.artifact.installer.ArtifactInstallationException:\n  Failed to install artifact\n  net.dwst:Plasma:jar:1.0.0:\n  C:....m2\\repository\\net\\dwst\\Plasma\\1.0.0\\Plasma-1.0.0.jar\n  (Access is denied)    at\n  org.apache.maven.artifact.installer.DefaultArtifactInstaller.install(DefaultArtifactInstaller.java:110)\n    at\n  org.apache.maven.plugin.install.InstallMojo.execute(InstallMojo.java:103)\n    ... 21 more Caused by:\n  org.sonatype.aether.installation.InstallationException:\n  Failed to install artifact\n  net.dwst:Plasma:jar:1.0.0:\n  C:....m2\\repository\\net\\dwst\\Plasma\\1.0.0\\Plasma-1.0.0.jar\n  (Access is denied)    at\n  org.sonatype.aether.impl.internal.DefaultInstaller.install(DefaultInstaller.java:279)\n    at\n  org.sonatype.aether.impl.internal.DefaultInstaller.install(DefaultInstaller.java:190)\n    at\n  org.sonatype.aether.impl.internal.DefaultRepositorySystem.install(DefaultRepositorySystem.java:322)\n    at\n  org.apache.maven.artifact.installer.DefaultArtifactInstaller.install(DefaultArtifactInstaller.java:106)\n    ... 22 more Caused by:\n  java.io.FileNotFoundException:\n  C:....m2\\repository\\net\\dwst\\Plasma\\1.0.0\\Plasma-1.0.0.jar\n  (Access is denied)    at\n  java.io.FileOutputStream.open(Native\n  Method)   at\n  java.io.FileOutputStream.(FileOutputStream.java:179)\n    at\n  java.io.FileOutputStream.(FileOutputStream.java:131)\n    at\n  org.sonatype.aether.impl.internal.DefaultFileProcessor.copy(DefaultFileProcessor.java:120)\n    at\n  org.sonatype.aether.impl.internal.DefaultInstaller.install(DefaultInstaller.java:255)\n    ... 25 more [ERROR]  [ERROR]  [ERROR]\n  For more information about the errors\n  and possible solutions, please read\n  the following articles: [ERROR] [Help\n  1]\n  <a href=\"http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\" rel=\"noreferrer\">http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException</a></p>\n</blockquote>\n"},{"tags":["java","android","firebase","google-cloud-platform","firebase-authentication"],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1648726812,"creation_date":1648726812,"answer_id":71691829,"question_id":71691382,"body_markdown":"You can get that code out of the activity and put it into a separate (repository) class. You can save the auth state into a LiveData object that can be observed in all your activities. According to the result, you can take some actions in your activity.\r\n\r\nIf you understand Kotlin, I have created an app for learning purposes where I have implemented this mechanism:\r\n\r\n* https://github.com/alexmamo/FireApp\r\n\r\nAnother solution would be to have a single activity with several fragments. In this case, you need to attach the listener only once in the activity.","title":"how to put FirebaseAuth.AuthStateListener on continous listening mode so that when the state changes, i get a notification","body":"<p>You can get that code out of the activity and put it into a separate (repository) class. You can save the auth state into a LiveData object that can be observed in all your activities. According to the result, you can take some actions in your activity.</p>\n<p>If you understand Kotlin, I have created an app for learning purposes where I have implemented this mechanism:</p>\n<ul>\n<li><a href=\"https://github.com/alexmamo/FireApp\" rel=\"nofollow noreferrer\">https://github.com/alexmamo/FireApp</a></li>\n</ul>\n<p>Another solution would be to have a single activity with several fragments. In this case, you need to attach the listener only once in the activity.</p>\n"}],"owner":{"account_id":4247291,"reputation":377,"user_id":3475582,"accept_rate":33,"display_name":"Arif"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":268,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71691829,"answer_count":1,"score":0,"last_activity_date":1648726842,"creation_date":1648724635,"question_id":71691382,"body_markdown":"We have put the Firebase auth listener in a specific activity in the Android app. It only works when that activity occurs. \r\n\r\n    auth.addAuthStateListener(new FirebaseAuth.AuthStateListener() {\r\n        @Override\r\n        public void onAuthStateChanged(@NonNull FirebaseAuth firebaseAuth) {\r\n            if (firebaseAuth.getCurrentUser() == null) {\r\n                Log.i(&quot;firebase&quot;, &quot;AuthState changed to null&quot;);\r\n            }\r\n            else {\r\n                Log.i(&quot;firebase&quot;, &quot;AuthState changed to &quot;+firebaseAuth.getCurrentUser().getUid());\r\n            }\r\n        }\r\n    });\r\n\r\nFrom what I understood, the firebase auth listener listens all the time and is triggered as soon as the firebase auth state changes. However, this does not seem to be the case in our case. Do we have to put this code in every activity or is there any way to put this in a single place and it lets us know as soon as the firebase authentication status changes?","title":"how to put FirebaseAuth.AuthStateListener on continous listening mode so that when the state changes, i get a notification","body":"<p>We have put the Firebase auth listener in a specific activity in the Android app. It only works when that activity occurs.</p>\n<pre><code>auth.addAuthStateListener(new FirebaseAuth.AuthStateListener() {\n    @Override\n    public void onAuthStateChanged(@NonNull FirebaseAuth firebaseAuth) {\n        if (firebaseAuth.getCurrentUser() == null) {\n            Log.i(&quot;firebase&quot;, &quot;AuthState changed to null&quot;);\n        }\n        else {\n            Log.i(&quot;firebase&quot;, &quot;AuthState changed to &quot;+firebaseAuth.getCurrentUser().getUid());\n        }\n    }\n});\n</code></pre>\n<p>From what I understood, the firebase auth listener listens all the time and is triggered as soon as the firebase auth state changes. However, this does not seem to be the case in our case. Do we have to put this code in every activity or is there any way to put this in a single place and it lets us know as soon as the firebase authentication status changes?</p>\n"},{"tags":["java","inheritance","final"],"comments":[{"owner":{"account_id":1092,"reputation":113958,"user_id":1450,"accept_rate":96,"display_name":"John Topley"},"score":1,"creation_date":1224516104,"post_id":218744,"comment_id":88047,"body_markdown":"Pedantry: The default constructor is the one generated for you by the Java compiler if you don&#39;t explicitly write one in your code. You mean the no argument constructor.","body":"Pedantry: The default constructor is the one generated for you by the Java compiler if you don&#39;t explicitly write one in your code. You mean the no argument constructor."},{"owner":{"account_id":10005,"reputation":19934,"user_id":18722,"accept_rate":94,"display_name":"cretzel"},"score":0,"creation_date":1224516489,"post_id":218744,"comment_id":88067,"body_markdown":"Isn&#39;t that the &quot;implicit default constructor&quot;?","body":"Isn&#39;t that the &quot;implicit default constructor&quot;?"},{"owner":{"account_id":1092,"reputation":113958,"user_id":1450,"accept_rate":96,"display_name":"John Topley"},"score":2,"creation_date":1224517032,"post_id":218744,"comment_id":88084,"body_markdown":"&quot;You don&#39;t have to provide any constructors for your class, but you must be careful when doing this. The compiler automatically provides a no-argument, default constructor for any class without constructors.&quot; http://java.sun.com/docs/books/tutorial/java/javaOO/constructors.html – John Topley","body":"&quot;You don&#39;t have to provide any constructors for your class, but you must be careful when doing this. The compiler automatically provides a no-argument, default constructor for any class without constructors.&quot; <a href=\"http://java.sun.com/docs/books/tutorial/java/javaOO/constructors.html\" rel=\"nofollow noreferrer\">java.sun.com/docs/books/tutorial/java/javaOO/constructors.ht&zwnj;&#8203;ml</a> – John Topley"}],"answers":[{"tags":[],"owner":{"account_id":970,"reputation":399857,"user_id":1288,"accept_rate":93,"display_name":"Bill the Lizard"},"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1224515405,"creation_date":1224515405,"answer_id":218759,"question_id":218744,"body_markdown":"You might want to make a method final so that overriding classes can&#39;t change behavior that is counted on in other methods.  Methods called in constructors are often declared final so you don&#39;t get any unpleasant surprises when creating objects.","title":"Good reasons to prohibit inheritance in Java?","body":"<p>You might want to make a method final so that overriding classes can't change behavior that is counted on in other methods.  Methods called in constructors are often declared final so you don't get any unpleasant surprises when creating objects.</p>\n"},{"tags":[],"owner":{"account_id":10258,"reputation":26460,"user_id":19276,"accept_rate":81,"display_name":"DJClayworth"},"down_vote_count":4,"up_vote_count":206,"is_accepted":true,"score":202,"last_activity_date":1648726793,"creation_date":1224515449,"answer_id":218761,"question_id":218744,"body_markdown":"Your best reference here is Item 19 of Joshua Bloch&#39;s excellent book &quot;Effective Java&quot;, called &quot;Design and document for inheritance or else prohibit it&quot;. (It&#39;s item 17 in the second edition and item 15 in the first edition.)  You should really read it, but I&#39;ll summarize.\r\n\r\nThe interaction of inherited classes with their parents can be surprising and unpredictable if the ancestor wasn&#39;t designed to be inherited from.\r\n\r\nClasses should therefore come in two kinds:\r\n\r\n1. Classes _designed to be **extended_**, and with enough documentation to describe how it should be done\r\n\r\n2. Classes _marked **final_**\r\n\r\nIf you are writing purely internal code, this may be a bit of overkill. However, the extra effort involved in adding five characters to a class file is very small. If you are writing only for internal consumption, then a future coder can always remove the &#39;final&#39; - you can think of it as a warning saying &quot;this class was not designed with inheritance in mind&quot;.","title":"Good reasons to prohibit inheritance in Java?","body":"<p>Your best reference here is Item 19 of Joshua Bloch's excellent book &quot;Effective Java&quot;, called &quot;Design and document for inheritance or else prohibit it&quot;. (It's item 17 in the second edition and item 15 in the first edition.)  You should really read it, but I'll summarize.</p>\n<p>The interaction of inherited classes with their parents can be surprising and unpredictable if the ancestor wasn't designed to be inherited from.</p>\n<p>Classes should therefore come in two kinds:</p>\n<ol>\n<li><p>Classes <em>designed to be **extended</em>**, and with enough documentation to describe how it should be done</p>\n</li>\n<li><p>Classes <em>marked **final</em>**</p>\n</li>\n</ol>\n<p>If you are writing purely internal code, this may be a bit of overkill. However, the extra effort involved in adding five characters to a class file is very small. If you are writing only for internal consumption, then a future coder can always remove the 'final' - you can think of it as a warning saying &quot;this class was not designed with inheritance in mind&quot;.</p>\n"},{"tags":[],"owner":{"account_id":1092,"reputation":113958,"user_id":1450,"accept_rate":96,"display_name":"John Topley"},"down_vote_count":1,"up_vote_count":23,"is_accepted":false,"score":22,"last_activity_date":1224515514,"creation_date":1224515514,"answer_id":218768,"question_id":218744,"body_markdown":"One reason to make a class final would be if you wanted to force composition over inheritance. This is generally desirable in avoiding tight coupling between classes.","title":"Good reasons to prohibit inheritance in Java?","body":"<p>One reason to make a class final would be if you wanted to force composition over inheritance. This is generally desirable in avoiding tight coupling between classes.</p>\n"},{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":2,"up_vote_count":8,"is_accepted":false,"score":6,"last_activity_date":1411364765,"creation_date":1224515527,"answer_id":218769,"question_id":218744,"body_markdown":"Inheritance is like a chainsaw - very powerful, but awful in the wrong hands. Either you design a class to be inherited from (which can limit flexibility and take a lot longer) or you should prohibit it.\r\n\r\nSee Effective Java 2nd edition items 16 and 17, or my blog post [&quot;Inheritance Tax&quot;][1].\r\n\r\n\r\n  [1]: http://codeblog.jonskeet.uk/2006/03/04/inheritancetax.aspx","title":"Good reasons to prohibit inheritance in Java?","body":"<p>Inheritance is like a chainsaw - very powerful, but awful in the wrong hands. Either you design a class to be inherited from (which can limit flexibility and take a lot longer) or you should prohibit it.</p>\n\n<p>See Effective Java 2nd edition items 16 and 17, or my blog post <a href=\"http://codeblog.jonskeet.uk/2006/03/04/inheritancetax.aspx\" rel=\"nofollow noreferrer\">\"Inheritance Tax\"</a>.</p>\n"},{"tags":[],"owner":{"account_id":14097,"reputation":6204,"user_id":28685,"display_name":"Anson Smith"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1224515541,"creation_date":1224515541,"answer_id":218770,"question_id":218744,"body_markdown":"To stop people from doing things that could confuse themselves and others. Imagine a physics library where you have some defined constants or calculations. Without using the final keyword, someone could come along and redefine basic calculations or constants that should NEVER change.","title":"Good reasons to prohibit inheritance in Java?","body":"<p>To stop people from doing things that could confuse themselves and others. Imagine a physics library where you have some defined constants or calculations. Without using the final keyword, someone could come along and redefine basic calculations or constants that should NEVER change.</p>\n"},{"tags":[],"owner":{"account_id":8706,"reputation":127350,"user_id":15809,"accept_rate":79,"display_name":"Mecki"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1224515585,"creation_date":1224515585,"answer_id":218774,"question_id":218744,"body_markdown":"Hmmm... I can think of two things:\r\n\r\nYou might have a class that deals with certain security issues. By subclassing it and feeding your system the subclassed version of it, an attacker can circumvent security restrictions. E.g. your application might support plugins and if a plugin can just subclass your security relevant classes, it can use this trick to somehow smuggle a subclassed version of it into place. However, this is rather something Sun has to deal with regarding applets and the like, maybe not such a realistic case.\r\n\r\nA much more realistic one is to avoid an object becomes mutable. E.g. since Strings are immutable, your code can safely keep references to it\r\n\r\n     String blah = someOtherString;\r\n\r\ninstead of copying the string first. However, if you can subclass String, you can add methods to it that allow the string value to be modified, now no code can rely anymore that the string will stay the same if it just copies the string as above, instead it must duplicate the string.","title":"Good reasons to prohibit inheritance in Java?","body":"<p>Hmmm... I can think of two things:</p>\n\n<p>You might have a class that deals with certain security issues. By subclassing it and feeding your system the subclassed version of it, an attacker can circumvent security restrictions. E.g. your application might support plugins and if a plugin can just subclass your security relevant classes, it can use this trick to somehow smuggle a subclassed version of it into place. However, this is rather something Sun has to deal with regarding applets and the like, maybe not such a realistic case.</p>\n\n<p>A much more realistic one is to avoid an object becomes mutable. E.g. since Strings are immutable, your code can safely keep references to it</p>\n\n<pre><code> String blah = someOtherString;\n</code></pre>\n\n<p>instead of copying the string first. However, if you can subclass String, you can add methods to it that allow the string value to be modified, now no code can rely anymore that the string will stay the same if it just copies the string as above, instead it must duplicate the string.</p>\n"},{"tags":[],"owner":{"account_id":21180,"reputation":9893,"user_id":51292,"accept_rate":59,"display_name":"Ray Tayek"},"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1224516065,"creation_date":1224516065,"answer_id":218802,"question_id":218744,"body_markdown":"you might want to make immutable objects (http://en.wikipedia.org/wiki/Immutable_object), you might want to create a singleton (http://en.wikipedia.org/wiki/Singleton_pattern), or you might want to prevent someone from overriding the method for reasons of efficiency, safety, or security.","title":"Good reasons to prohibit inheritance in Java?","body":"<p>you might want to make immutable objects (<a href=\"http://en.wikipedia.org/wiki/Immutable_object\" rel=\"noreferrer\">http://en.wikipedia.org/wiki/Immutable_object</a>), you might want to create a singleton (<a href=\"http://en.wikipedia.org/wiki/Singleton_pattern\" rel=\"noreferrer\">http://en.wikipedia.org/wiki/Singleton_pattern</a>), or you might want to prevent someone from overriding the method for reasons of efficiency, safety, or security.</p>\n"},{"tags":[],"owner":{"account_id":13007,"reputation":1796,"user_id":25893,"accept_rate":87,"display_name":"DavidG"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1224517861,"creation_date":1224517861,"answer_id":218905,"question_id":218744,"body_markdown":"Also, if you are writing a commercial closed source class, you might not want people to be able to change the functionality down the line, especially if u need to give support for it and people have overridden your method and are complaining that calling it gives unexpected results.","title":"Good reasons to prohibit inheritance in Java?","body":"<p>Also, if you are writing a commercial closed source class, you might not want people to be able to change the functionality down the line, especially if u need to give support for it and people have overridden your method and are complaining that calling it gives unexpected results.</p>\n"},{"tags":[],"owner":{"account_id":13438,"reputation":3542,"user_id":26986,"accept_rate":89,"display_name":"seanalltogether"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1224524131,"creation_date":1224524131,"answer_id":219253,"question_id":218744,"body_markdown":"If you mark classes and methods as final, you may notice a small performance gain, since the runtime doesn&#39;t have to look up the right class method to invoke for a given object. Non-final methods are marked as virtual so that they can be properly extended if needed, final methods can be directly linked or compiled inline in the class.","title":"Good reasons to prohibit inheritance in Java?","body":"<p>If you mark classes and methods as final, you may notice a small performance gain, since the runtime doesn't have to look up the right class method to invoke for a given object. Non-final methods are marked as virtual so that they can be properly extended if needed, final methods can be directly linked or compiled inline in the class.</p>\n"},{"tags":[],"owner":{"account_id":2171736,"reputation":4684,"user_id":1923551,"display_name":"user1923551"},"down_vote_count":1,"up_vote_count":19,"is_accepted":false,"score":18,"last_activity_date":1397144823,"creation_date":1386908935,"answer_id":20559102,"question_id":218744,"body_markdown":"**There are 3 use cases where you can go for final methods.**\r\n \r\n1. To avoid derived class from overriding a particular base class functionality. \r\n2. This is for security purpose, where base class is giving some important core functionality of the framework where derived class is not supposed to change it. \r\n3. Final methods are faster than instance methods, as there is no use of virtual table concept for final and private methods. So where ever there is a possibility, try to use final methods.\r\n\r\n**Purpose for making a class final:**\r\n\r\nSo that no body can extend those classes and change their behavior.\r\n\r\nEg: Wrapper class Integer is a final class. If that class is not final, then any one can extend Integer into his own class and change the basic behavior of integer class. To avoid this, java made all wrapper classes as final classes.\r\n\r\n","title":"Good reasons to prohibit inheritance in Java?","body":"<p><strong>There are 3 use cases where you can go for final methods.</strong></p>\n\n<ol>\n<li>To avoid derived class from overriding a particular base class functionality. </li>\n<li>This is for security purpose, where base class is giving some important core functionality of the framework where derived class is not supposed to change it. </li>\n<li>Final methods are faster than instance methods, as there is no use of virtual table concept for final and private methods. So where ever there is a possibility, try to use final methods.</li>\n</ol>\n\n<p><strong>Purpose for making a class final:</strong></p>\n\n<p>So that no body can extend those classes and change their behavior.</p>\n\n<p>Eg: Wrapper class Integer is a final class. If that class is not final, then any one can extend Integer into his own class and change the basic behavior of integer class. To avoid this, java made all wrapper classes as final classes.</p>\n"},{"tags":[],"owner":{"account_id":6855769,"reputation":1,"user_id":5271358,"display_name":"Alexander Robinson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1447190954,"creation_date":1447190954,"answer_id":33639958,"question_id":218744,"body_markdown":"You want to make a method final so that overriding classes does not change its behavior. When you want to be able to change the behavior make the method public. When you override a public method it can be changed. ","title":"Good reasons to prohibit inheritance in Java?","body":"<p>You want to make a method final so that overriding classes does not change its behavior. When you want to be able to change the behavior make the method public. When you override a public method it can be changed. </p>\n"}],"owner":{"account_id":10005,"reputation":19934,"user_id":18722,"accept_rate":94,"display_name":"cretzel"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70288,"favorite_count":0,"down_vote_count":0,"up_vote_count":205,"accepted_answer_id":218761,"answer_count":11,"score":205,"last_activity_date":1648726793,"creation_date":1224515100,"question_id":218744,"body_markdown":"What are good reasons to prohibit inheritance in Java, for example by using final classes or classes using a single, private parameterless constructor? What are good reasons of making a method final?","title":"Good reasons to prohibit inheritance in Java?","body":"<p>What are good reasons to prohibit inheritance in Java, for example by using final classes or classes using a single, private parameterless constructor? What are good reasons of making a method final?</p>\n"},{"tags":["java","wildfly","profiling","jfr","wildfly-16"],"comments":[{"owner":{"account_id":9827,"reputation":6784,"user_id":2049208,"display_name":"Kire Haglin"},"score":0,"creation_date":1610728358,"post_id":65713686,"comment_id":116232295,"body_markdown":"jdk.jfr is located in boot layer and it should be accessible in JDK 11. If you have created a custom JDK image (using jlink) without the jdk.jfr module, you would see this, or if WildFly uses a custom class loader that prevents JFR to be accessed. FWIW, you are missing ev.commit(), but it doesn&#39;t explain the exception.","body":"jdk.jfr is located in boot layer and it should be accessible in JDK 11. If you have created a custom JDK image (using jlink) without the jdk.jfr module, you would see this, or if WildFly uses a custom class loader that prevents JFR to be accessed. FWIW, you are missing ev.commit(), but it doesn&#39;t explain the exception."}],"answers":[{"tags":[],"owner":{"account_id":13825972,"reputation":49,"user_id":9980305,"display_name":"M.R."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648724843,"creation_date":1648724843,"answer_id":71691423,"question_id":65713686,"body_markdown":"I had the same problem and could solve it in Wildfly 15 (using Java 11):\r\n\r\nMake sure your [`jboss-deployment-structure.xml`][1] contains:\r\n\r\n```xml\r\n&lt;jboss-deployment-structure&gt;\r\n    &lt;deployment&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;module name=&quot;jdk.jfr&quot;/&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/deployment&gt;\r\n&lt;/jboss-deployment-structure&gt;\r\n```\r\n\r\nBut beware, I got this mostly via trial-and-error and don&#39;t wholly understand the consequences and why jdk.jfr is not included by default.\r\n\r\nI also don&#39;t know how this works out on other wildfly versions.\r\n\r\n\r\n  [1]: https://docs.wildfly.org/15/Developer_Guide.html#jboss-deployment-structure-file","title":"How to use Java 11 Java Flight Recorder JFR library with Wildfly 16","body":"<p>I had the same problem and could solve it in Wildfly 15 (using Java 11):</p>\n<p>Make sure your <a href=\"https://docs.wildfly.org/15/Developer_Guide.html#jboss-deployment-structure-file\" rel=\"nofollow noreferrer\"><code>jboss-deployment-structure.xml</code></a> contains:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;jboss-deployment-structure&gt;\n    &lt;deployment&gt;\n        &lt;dependencies&gt;\n            &lt;module name=&quot;jdk.jfr&quot;/&gt;\n        &lt;/dependencies&gt;\n    &lt;/deployment&gt;\n&lt;/jboss-deployment-structure&gt;\n</code></pre>\n<p>But beware, I got this mostly via trial-and-error and don't wholly understand the consequences and why jdk.jfr is not included by default.</p>\n<p>I also don't know how this works out on other wildfly versions.</p>\n"},{"tags":[],"owner":{"account_id":24758300,"reputation":1,"user_id":18643000,"display_name":"markhershberger"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1648726780,"creation_date":1648726780,"answer_id":71691823,"question_id":65713686,"body_markdown":"I had the identical hassle and will resolve it in Wildfly 15 (the use of Java 11) But beware, I were given this by and large through trial-and-mistakess and don`t absolutely apprehend the outcomes and why jdk.jfr isn&#39;t covered via way of means of default. I additionally do not know how this works out on different wildly versions[.][1]\r\n\r\n\r\n  [1]: https://davidphotography.com.au/who-should-a-bride-take-photos-with-at-the-wedding-venue/","title":"How to use Java 11 Java Flight Recorder JFR library with Wildfly 16","body":"<p>I had the identical hassle and will resolve it in Wildfly 15 (the use of Java 11) But beware, I were given this by and large through trial-and-mistakess and don`t absolutely apprehend the outcomes and why jdk.jfr isn't covered via way of means of default. I additionally do not know how this works out on different wildly versions<a href=\"https://davidphotography.com.au/who-should-a-bride-take-photos-with-at-the-wedding-venue/\" rel=\"nofollow noreferrer\">.</a></p>\n"}],"owner":{"account_id":1739259,"reputation":1314,"user_id":1591136,"accept_rate":75,"display_name":"RonPringadi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1132,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1648726780,"creation_date":1610600738,"question_id":65713686,"body_markdown":"**Background**\r\n\r\nI&#39;m working on `jboss/wildfly 16` servlet mypackagex.war.\r\nIt&#39;s a `maven` project. My server uses `openjdk11-jdk`.\r\nI managed to run the produce a java flight recording using jcmd. And managed to open that jfr dump with JDK Mission Control. All nice and dandy.\r\n\r\n```\r\nJPID=616\r\njcmd $JPID JFR.configure repositorypath=/tmp/jcmdrecording/\r\njcmd $JPID JFR.start settings=default.jfc name=recording1 filename=JFRfile.jfr disk=true dumponexit=true  maxage=2d maxsize=2000m  path-to-gc-roots=true\r\njcmd $JPID JFR.check\r\njcmd $JPID JFR.dump /tmp/recording1.jfr\r\n```\r\n\r\n**The Issue**\r\n\r\nWhen I tried to do a custom event recording programmatically like the example below. I get an error. It&#39;s as if wildfly don&#39;t know `jdk.jfr.Event` exists. **What did I miss?**\r\n\r\n**Declaring a custom event recorder example**\r\n```\r\npackage com.mypackagex.dao;\r\n\r\nimport jdk.jfr.Category;\r\nimport jdk.jfr.Event;\r\nimport jdk.jfr.Label;\r\nimport jdk.jfr.Period;\r\n\r\n@Label(&quot;Database stats&quot;)\r\n@Period(&quot;1 s&quot;)\r\n@Category(&quot;Database&quot;)\r\npublic class DatabaseStatsEvent extends Event {\r\n}\r\n```\r\n\r\n**Code location to take the flight recording event**\r\n```\r\npublic class UrlObjectActionMapperDAO {\r\n\tprivate static String jndiDataSourceName = &quot;jdbc/cedar_mypackagex_security&quot;;\r\n\tprivate static DataSource dataSource = getDataSourceFromJNDI();\r\n\t\r\n\tstatic Logger logger = LoggerFactory.getLogger(UrlObjectActionMapperDAO.class);\r\n\r\n\tprivate static DataSource getDataSourceFromJNDI() {\r\n\r\n\t\treturn DatasourceProvider.getProvider().getDsSecurity();\r\n\t}\r\n\t\r\n\tpublic UrlObjectActionMapperDTO getURLMappedProps(String URI){\r\n\t\t\r\n\t\tDatabaseStatsEvent ev =  new DatabaseStatsEvent();         // --------- line 49 the issue!\r\n\t\tev.begin();\r\n\t\t\r\n\t\treturn null;\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\n**The error**\r\nScroll to the right where you&#39;ll see `jdk/jfr/Event`\r\n```\r\nlocal-mypackagex            | Caused by: java.lang.NoClassDefFoundError: Failed to link com/mypackagex/dao/DatabaseStatsEvent (Module &quot;deployment.mypackagex.war&quot; from Service Module Loader): jdk/jfr/Event\r\nlocal-mypackagex            | \tat deployment.mypackagex.war//com.mypackagex.dao.UrlObjectActionMapperDAO.getURLMappedProps(UrlObjectActionMapperDAO.java:49)\r\nlocal-mypackagex            | \tat deployment.mypackagex.war//com.mypackagex.services.RBACService.getURLMappedProps(RBACService.java:70)\r\nlocal-mypackagex            | \tat deployment.mypackagex.war//com.mypackagex.servlet.RBACFilter.validateRequest(RBACFilter.java:465)\r\nlocal-mypackagex            | \tat deployment.mypackagex.war//com.mypackagex.servlet.RBACFilter.validateRequest(RBACFilter.java:450)\r\nlocal-mypackagex            | \tat deployment.mypackagex.war//com.mypackagex.servlet.RBACFilter.doFilter(RBACFilter.java:235)\r\nlocal-mypackagex            | \tat io.undertow.servlet@2.0.19.Final//io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\nlocal-mypackagex            | \tat io.undertow.servlet@2.0.19.Final//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\nlocal-mypackagex            | \tat deployment.mypackagex.war//com.mypackagex.servlet.ProxyResponseBuilderFilter.doFilter(ProxyResponseBuilderFilter.java:456)\r\nlocal-mypackagex            | \tat io.undertow.servlet@2.0.19.Final//io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\nlocal-mypackagex            | \tat io.undertow.servlet@2.0.19.Final//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\nlocal-mypackagex            | \tat deployment.mypackagex.war//org.apache.shiro.web.servlet.AbstractShiroFilter.executeChain(AbstractShiroFilter.java:449)\r\nlocal-mypackagex            | \tat deployment.mypackagex.war//org.apache.shiro.web.servlet.AbstractShiroFilter$1.call(AbstractShiroFilter.java:365)\r\nlocal-mypackagex            | \tat deployment.mypackagex.war//org.apache.shiro.subject.support.SubjectCallable.doCall(SubjectCallable.java:90)\r\nlocal-mypackagex            | \tat deployment.mypackagex.war//org.apache.shiro.subject.support.SubjectCallable.call(SubjectCallable.java:83)\r\nlocal-mypackagex            | \tat deployment.mypackagex.war//org.apache.shiro.subject.support.DelegatingSubject.execute(DelegatingSubject.java:387)\r\nlocal-mypackagex            | \tat deployment.mypackagex.war//org.apache.shiro.web.servlet.AbstractShiroFilter.doFilterInternal(AbstractShiroFilter.java:362)\r\n```\r\n\r\n\r\n","title":"How to use Java 11 Java Flight Recorder JFR library with Wildfly 16","body":"<p><strong>Background</strong></p>\n<p>I'm working on <code>jboss/wildfly 16</code> servlet mypackagex.war.\nIt's a <code>maven</code> project. My server uses <code>openjdk11-jdk</code>.\nI managed to run the produce a java flight recording using jcmd. And managed to open that jfr dump with JDK Mission Control. All nice and dandy.</p>\n<pre><code>JPID=616\njcmd $JPID JFR.configure repositorypath=/tmp/jcmdrecording/\njcmd $JPID JFR.start settings=default.jfc name=recording1 filename=JFRfile.jfr disk=true dumponexit=true  maxage=2d maxsize=2000m  path-to-gc-roots=true\njcmd $JPID JFR.check\njcmd $JPID JFR.dump /tmp/recording1.jfr\n</code></pre>\n<p><strong>The Issue</strong></p>\n<p>When I tried to do a custom event recording programmatically like the example below. I get an error. It's as if wildfly don't know <code>jdk.jfr.Event</code> exists. <strong>What did I miss?</strong></p>\n<p><strong>Declaring a custom event recorder example</strong></p>\n<pre><code>package com.mypackagex.dao;\n\nimport jdk.jfr.Category;\nimport jdk.jfr.Event;\nimport jdk.jfr.Label;\nimport jdk.jfr.Period;\n\n@Label(&quot;Database stats&quot;)\n@Period(&quot;1 s&quot;)\n@Category(&quot;Database&quot;)\npublic class DatabaseStatsEvent extends Event {\n}\n</code></pre>\n<p><strong>Code location to take the flight recording event</strong></p>\n<pre><code>public class UrlObjectActionMapperDAO {\n    private static String jndiDataSourceName = &quot;jdbc/cedar_mypackagex_security&quot;;\n    private static DataSource dataSource = getDataSourceFromJNDI();\n    \n    static Logger logger = LoggerFactory.getLogger(UrlObjectActionMapperDAO.class);\n\n    private static DataSource getDataSourceFromJNDI() {\n\n        return DatasourceProvider.getProvider().getDsSecurity();\n    }\n    \n    public UrlObjectActionMapperDTO getURLMappedProps(String URI){\n        \n        DatabaseStatsEvent ev =  new DatabaseStatsEvent();         // --------- line 49 the issue!\n        ev.begin();\n        \n        return null;\n    }\n    \n}\n</code></pre>\n<p><strong>The error</strong>\nScroll to the right where you'll see <code>jdk/jfr/Event</code></p>\n<pre><code>local-mypackagex            | Caused by: java.lang.NoClassDefFoundError: Failed to link com/mypackagex/dao/DatabaseStatsEvent (Module &quot;deployment.mypackagex.war&quot; from Service Module Loader): jdk/jfr/Event\nlocal-mypackagex            |   at deployment.mypackagex.war//com.mypackagex.dao.UrlObjectActionMapperDAO.getURLMappedProps(UrlObjectActionMapperDAO.java:49)\nlocal-mypackagex            |   at deployment.mypackagex.war//com.mypackagex.services.RBACService.getURLMappedProps(RBACService.java:70)\nlocal-mypackagex            |   at deployment.mypackagex.war//com.mypackagex.servlet.RBACFilter.validateRequest(RBACFilter.java:465)\nlocal-mypackagex            |   at deployment.mypackagex.war//com.mypackagex.servlet.RBACFilter.validateRequest(RBACFilter.java:450)\nlocal-mypackagex            |   at deployment.mypackagex.war//com.mypackagex.servlet.RBACFilter.doFilter(RBACFilter.java:235)\nlocal-mypackagex            |   at io.undertow.servlet@2.0.19.Final//io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\nlocal-mypackagex            |   at io.undertow.servlet@2.0.19.Final//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\nlocal-mypackagex            |   at deployment.mypackagex.war//com.mypackagex.servlet.ProxyResponseBuilderFilter.doFilter(ProxyResponseBuilderFilter.java:456)\nlocal-mypackagex            |   at io.undertow.servlet@2.0.19.Final//io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\nlocal-mypackagex            |   at io.undertow.servlet@2.0.19.Final//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\nlocal-mypackagex            |   at deployment.mypackagex.war//org.apache.shiro.web.servlet.AbstractShiroFilter.executeChain(AbstractShiroFilter.java:449)\nlocal-mypackagex            |   at deployment.mypackagex.war//org.apache.shiro.web.servlet.AbstractShiroFilter$1.call(AbstractShiroFilter.java:365)\nlocal-mypackagex            |   at deployment.mypackagex.war//org.apache.shiro.subject.support.SubjectCallable.doCall(SubjectCallable.java:90)\nlocal-mypackagex            |   at deployment.mypackagex.war//org.apache.shiro.subject.support.SubjectCallable.call(SubjectCallable.java:83)\nlocal-mypackagex            |   at deployment.mypackagex.war//org.apache.shiro.subject.support.DelegatingSubject.execute(DelegatingSubject.java:387)\nlocal-mypackagex            |   at deployment.mypackagex.war//org.apache.shiro.web.servlet.AbstractShiroFilter.doFilterInternal(AbstractShiroFilter.java:362)\n</code></pre>\n"},{"tags":["java","spring-boot","jsp"],"answers":[{"tags":[],"owner":{"account_id":6586288,"reputation":91,"user_id":5088963,"display_name":"Sathiya prakash"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1648726739,"creation_date":1648726739,"answer_id":71691810,"question_id":71661242,"body_markdown":"For Normal Spring mvc application the _jsp.java and _jsp.class is available in the tomcat server jar where our application is deployed.\r\n\r\nBut in case of Spring boot the tomcat server is embedded and in spring boot project the _jsp.java and _jsp.class will be found in the below location(this is for windows OS).\r\n\r\nC:/users/&lt;logged user&gt;/Appdata/local/Temp/1/tomcat.&lt;port number(eg:8080)&gt;.some_number/work/Tomcat/localhost/ROOT/org/apache/jsp/WEB_***INF/&lt;same folder name used in our project&gt;jsp/view/\r\n\r\nthe path may vary based on the OS since different os stores temp files differently","title":"where to find the _jsp.java and _jsp.class in spring boot","body":"<p>For Normal Spring mvc application the _jsp.java and _jsp.class is available in the tomcat server jar where our application is deployed.</p>\n<p>But in case of Spring boot the tomcat server is embedded and in spring boot project the _jsp.java and _jsp.class will be found in the below location(this is for windows OS).</p>\n<p>C:/users//Appdata/local/Temp/1/tomcat.&lt;port number(eg:8080)&gt;.some_number/work/Tomcat/localhost/ROOT/org/apache/jsp/WEB_***INF/jsp/view/</p>\n<p>the path may vary based on the OS since different os stores temp files differently</p>\n"}],"owner":{"account_id":6586288,"reputation":91,"user_id":5088963,"display_name":"Sathiya prakash"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":218,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1648726739,"creation_date":1648553509,"question_id":71661242,"body_markdown":"In normal spring mvc it will be available inside the tomcat server jar\r\nwhere to find the _jsp.java and _jsp.class in spring boot project.","title":"where to find the _jsp.java and _jsp.class in spring boot","body":"<p>In normal spring mvc it will be available inside the tomcat server jar\nwhere to find the _jsp.java and _jsp.class in spring boot project.</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":15143,"reputation":482129,"user_id":31671,"accept_rate":91,"display_name":"alex"},"score":1,"creation_date":1352769458,"post_id":13354278,"comment_id":18227523,"body_markdown":"Sort the array largest to smallest and subscript the 2nd element?","body":"Sort the array largest to smallest and subscript the 2nd element?"},{"owner":{"account_id":225474,"reputation":4101,"user_id":485971,"display_name":"irrelephant"},"score":4,"creation_date":1352769528,"post_id":13354278,"comment_id":18227551,"body_markdown":"Or just have two running `maxValue`s, one greater than the other.","body":"Or just have two running <code>maxValue</code>s, one greater than the other."},{"owner":{"account_id":1513513,"reputation":8310,"user_id":1415064,"accept_rate":82,"display_name":"AppSensei"},"score":0,"creation_date":1352769688,"post_id":13354278,"comment_id":18227590,"body_markdown":"Will give them a try. Thank You","body":"Will give them a try. Thank You"},{"owner":{"account_id":997559,"reputation":5808,"user_id":1013153,"accept_rate":83,"display_name":"jonvuri"},"score":1,"creation_date":1352769692,"post_id":13354278,"comment_id":18227592,"body_markdown":"@alex, Sorting an array is overkill for finding min/max. The linear solution is pretty trivial.","body":"@alex, Sorting an array is overkill for finding min/max. The linear solution is pretty trivial."},{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":0,"creation_date":1352769815,"post_id":13354278,"comment_id":18227617,"body_markdown":"Yep, sorting is overkill.  See my answer.","body":"Yep, sorting is overkill.  See my answer."},{"owner":{"account_id":15143,"reputation":482129,"user_id":31671,"accept_rate":91,"display_name":"alex"},"score":0,"creation_date":1352770134,"post_id":13354278,"comment_id":18227685,"body_markdown":"@Kiyura Yeah, I didn&#39;t really think too much about it.","body":"@Kiyura Yeah, I didn&#39;t really think too much about it."}],"answers":[{"tags":[],"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1352771756,"creation_date":1352769784,"answer_id":13354326,"question_id":13354278,"body_markdown":"Generally speaking:\r\n\r\nHave two values -- &quot;largest&quot; and &quot;notQuite&quot;.\r\n\r\nInitialize both to -9999 or whatever.\r\n\r\nScan through your list.  If the number is larger than &quot;largest&quot;, set &quot;largest&quot; to that number.  But before you do that, copy the old &quot;largest&quot; value to &quot;notQuite&quot;.  \r\n\r\nIf, on the other hand, the number is smaller than &quot;largest&quot; but **is** larger than &quot;notQuite&quot;, set &quot;notQuite&quot; to that number.\r\n\r\nWhen you&#39;re done examining all the numbers, &quot;notQuite&quot; contains the second-largest.\r\n\r\nAnd note that, as you fill in the above numbers, you can also keep a &quot;largestIndex&quot; and &quot;notQuiteIndex&quot; and fill those in with the corresponding array index values, so you can identify the &quot;winning&quot; value.  Unfortunately, though, if there are multiple identical &quot;largest&quot; or &quot;secondLargest&quot; values the simple index scheme doesn&#39;t work and you need to keep a list of some sort.","title":"How to find second largest number in an array in Java?","body":"<p>Generally speaking:</p>\n\n<p>Have two values -- \"largest\" and \"notQuite\".</p>\n\n<p>Initialize both to -9999 or whatever.</p>\n\n<p>Scan through your list.  If the number is larger than \"largest\", set \"largest\" to that number.  But before you do that, copy the old \"largest\" value to \"notQuite\".  </p>\n\n<p>If, on the other hand, the number is smaller than \"largest\" but <strong>is</strong> larger than \"notQuite\", set \"notQuite\" to that number.</p>\n\n<p>When you're done examining all the numbers, \"notQuite\" contains the second-largest.</p>\n\n<p>And note that, as you fill in the above numbers, you can also keep a \"largestIndex\" and \"notQuiteIndex\" and fill those in with the corresponding array index values, so you can identify the \"winning\" value.  Unfortunately, though, if there are multiple identical \"largest\" or \"secondLargest\" values the simple index scheme doesn't work and you need to keep a list of some sort.</p>\n"},{"tags":[],"owner":{"account_id":1932818,"reputation":46083,"user_id":1741864,"display_name":"sampson-chen"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1352769846,"creation_date":1352769846,"answer_id":13354335,"question_id":13354278,"body_markdown":"Instead of resorting to sorting the array, you can simply do the following:\r\n\r\n- Keep a `largestValue` and a `secondLargestValue`\r\n- Loop through the entire array once, for each element:\r\n  - Check to see if the current element is greater than `largestValue`:\r\n     - If so, assign `largestValue` to `secondLargestValue`, then assign the current element to `largestValue` (think of it as shifting everything down by 1)\r\n     - If not, check to see if the current element is greater than `secondLargestValue`\r\n         - If so, assign the current element to `secondLargestValue`\r\n         - If not, do nothing.\r\n\r\n**O(n)** run time\r\n\r\n**O(1)** space requirement","title":"How to find second largest number in an array in Java?","body":"<p>Instead of resorting to sorting the array, you can simply do the following:</p>\n\n<ul>\n<li>Keep a <code>largestValue</code> and a <code>secondLargestValue</code></li>\n<li>Loop through the entire array once, for each element:\n<ul>\n<li>Check to see if the current element is greater than <code>largestValue</code>:\n<ul>\n<li>If so, assign <code>largestValue</code> to <code>secondLargestValue</code>, then assign the current element to <code>largestValue</code> (think of it as shifting everything down by 1)</li>\n<li>If not, check to see if the current element is greater than <code>secondLargestValue</code>\n<ul>\n<li>If so, assign the current element to <code>secondLargestValue</code></li>\n<li>If not, do nothing.</li>\n</ul></li>\n</ul></li>\n</ul></li>\n</ul>\n\n<p><strong>O(n)</strong> run time</p>\n\n<p><strong>O(1)</strong> space requirement</p>\n"},{"tags":[],"owner":{"account_id":134022,"reputation":717183,"user_id":335858,"accept_rate":81,"display_name":"Sergey Kalinichenko"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1352769891,"creation_date":1352769891,"answer_id":13354340,"question_id":13354278,"body_markdown":"Sorting the array simply to find an [order statistics][1] is too wasteful. You can find the second largest element by following an algorithm that resembles the one that you already have, with an additional variable representing the second largest number.\r\n\r\nCurrently, the next element could be larger than the max or equal to/smaller than the max, hence a single `if` is sufficient:\r\n\r\n    if (times[i] &gt; maxValue) {\r\n        maxValue = times[i];\r\n    }\r\n\r\nWith two variables to consider, the next element could be\r\n\r\n - **Greater than the max** - the max becomes second largest, and the next element becomes the max\r\n - **Smaller than the max but greater than the second largest** - the next element becomes second largest.\r\n\r\nA special care must be taken about the initial state. Look at the first two items, and assign the larger one to the `max` and the smaller to the second largest; start looping at the element number three, if there is one.\r\n\r\nHere is how you can code it:\r\n\r\n    if (times[i] &gt; maxValue) {\r\n        secondLargest = maxValue;\r\n        maxValue = times[i];\r\n    } else if (times[i] &gt; secondLargest) {\r\n        secondLargest = times[i];\r\n    }\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Order_statistic","title":"How to find second largest number in an array in Java?","body":"<p>Sorting the array simply to find an <a href=\"http://en.wikipedia.org/wiki/Order_statistic\" rel=\"nofollow\">order statistics</a> is too wasteful. You can find the second largest element by following an algorithm that resembles the one that you already have, with an additional variable representing the second largest number.</p>\n\n<p>Currently, the next element could be larger than the max or equal to/smaller than the max, hence a single <code>if</code> is sufficient:</p>\n\n<pre><code>if (times[i] &gt; maxValue) {\n    maxValue = times[i];\n}\n</code></pre>\n\n<p>With two variables to consider, the next element could be</p>\n\n<ul>\n<li><strong>Greater than the max</strong> - the max becomes second largest, and the next element becomes the max</li>\n<li><strong>Smaller than the max but greater than the second largest</strong> - the next element becomes second largest.</li>\n</ul>\n\n<p>A special care must be taken about the initial state. Look at the first two items, and assign the larger one to the <code>max</code> and the smaller to the second largest; start looping at the element number three, if there is one.</p>\n\n<p>Here is how you can code it:</p>\n\n<pre><code>if (times[i] &gt; maxValue) {\n    secondLargest = maxValue;\n    maxValue = times[i];\n} else if (times[i] &gt; secondLargest) {\n    secondLargest = times[i];\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1041646,"reputation":5029,"user_id":1047565,"accept_rate":49,"display_name":"Deepak Sharma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1403780139,"creation_date":1403780139,"answer_id":24428620,"question_id":13354278,"body_markdown":"    \tprivate void secondLargest(int arr[]){\r\n\t\t\r\n\t\tint maxOne=arr[0];\r\n\t\tint maxTwo=arr[1];\r\n\t\t\r\n\t\tfor(int i=0;i&lt;arr.length;i++){\r\n\t\t\t\r\n\t\t\tif(arr[i]&gt;maxOne){\r\n\t\t\t\t\r\n\t\t\t\tmaxTwo=maxOne;\r\n\t\t\t\tmaxOne=arr[i];\r\n\t\t\t}else if (arr[i]&gt;maxTwo) {\r\n\t\t\t\t\r\n\t\t\t\tmaxTwo=arr[i];\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tSystem.out.println(maxOne);\r\n\t\tSystem.out.println(maxTwo);\r\n\t}","title":"How to find second largest number in an array in Java?","body":"<pre><code>    private void secondLargest(int arr[]){\n\n    int maxOne=arr[0];\n    int maxTwo=arr[1];\n\n    for(int i=0;i&lt;arr.length;i++){\n\n        if(arr[i]&gt;maxOne){\n\n            maxTwo=maxOne;\n            maxOne=arr[i];\n        }else if (arr[i]&gt;maxTwo) {\n\n            maxTwo=arr[i];\n        }\n\n    }\n\n    System.out.println(maxOne);\n    System.out.println(maxTwo);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1482471,"reputation":1657,"user_id":1391499,"accept_rate":53,"display_name":"Mr X"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640061164,"creation_date":1406375428,"answer_id":24970708,"question_id":13354278,"body_markdown":"Updated : Changed to Java.\r\n\r\n    class Main {\r\n      public static void main(String[] args) {\r\n        int a = Integer.MIN_VALUE;\r\n        int b = Integer.MIN_VALUE;\r\n        int[] arr = {44,6,43,8,9,-10,4,15,3,-30,23};\r\n    \r\n        for(int i=0; i &lt; arr.length; i++){ \r\n            if( arr[i] &gt; a || arr[i] &gt; b ){\r\n              if( a &lt; b ) {\r\n                a = arr[i];\r\n              } else {\r\n                b = arr[i];\r\n              }\r\n            }\r\n        }  \r\n        int secondLargest = a &lt; b ? a : b;\r\n        System.out.println(secondLargest);\r\n      }\r\n    }","title":"How to find second largest number in an array in Java?","body":"<p>Updated : Changed to Java.</p>\n<pre><code>class Main {\n  public static void main(String[] args) {\n    int a = Integer.MIN_VALUE;\n    int b = Integer.MIN_VALUE;\n    int[] arr = {44,6,43,8,9,-10,4,15,3,-30,23};\n\n    for(int i=0; i &lt; arr.length; i++){ \n        if( arr[i] &gt; a || arr[i] &gt; b ){\n          if( a &lt; b ) {\n            a = arr[i];\n          } else {\n            b = arr[i];\n          }\n        }\n    }  \n    int secondLargest = a &lt; b ? a : b;\n    System.out.println(secondLargest);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3299774,"reputation":930,"user_id":2776211,"accept_rate":100,"display_name":"Saurabh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1422947726,"creation_date":1422947726,"answer_id":28293306,"question_id":13354278,"body_markdown":"    private static int secLargest(int[] numbers) {\r\n    \t\tint maxVal = 0;\r\n    \t\tint nextMaxVal = 0;\r\n    \t\tfor (int i = 0; i &lt; numbers.length; i++) {\r\n    \t\t\tif (numbers[i] &gt; maxVal) {\r\n    \t\t\t\tnextMaxVal = maxVal;\r\n    \t\t\t\tmaxVal = numbers[i];\r\n    \r\n    \t\t\t}\r\n    \t\t\tif (numbers[i] &lt; maxVal) {\r\n    \t\t\t\tnextMaxVal = maxVal;\r\n    \t\t\t\tmaxVal = numbers[i];\r\n    \r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn nextMaxVal;\r\n    \r\n    \t}","title":"How to find second largest number in an array in Java?","body":"<pre><code>private static int secLargest(int[] numbers) {\n        int maxVal = 0;\n        int nextMaxVal = 0;\n        for (int i = 0; i &lt; numbers.length; i++) {\n            if (numbers[i] &gt; maxVal) {\n                nextMaxVal = maxVal;\n                maxVal = numbers[i];\n\n            }\n            if (numbers[i] &lt; maxVal) {\n                nextMaxVal = maxVal;\n                maxVal = numbers[i];\n\n            }\n        }\n        return nextMaxVal;\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7163027,"reputation":1,"user_id":5473161,"display_name":"Mircea Stefan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1445459925,"creation_date":1445458748,"answer_id":33268478,"question_id":13354278,"body_markdown":" \tint largest=time[0];\r\n\tint secondLargest=largest;\r\n\tfor(int i=0;i&lt;time.length;i++){\r\n\t\tif(time[i]&gt;largest){\r\n\t\t\tsecondLargest=largest;\r\n\t\t\tlargest=time[i];\r\n\t\t}\r\n\t\telse if(secondLargest&lt;time[i] &amp;&amp; time[i]&lt;largest || secondLargest&gt;=largest)\r\n\t\t\tsecondLargest=time[i];\r\n\t}\r\n    return secondLargest;","title":"How to find second largest number in an array in Java?","body":"<pre><code>int largest=time[0];\nint secondLargest=largest;\nfor(int i=0;i&lt;time.length;i++){\n    if(time[i]&gt;largest){\n        secondLargest=largest;\n        largest=time[i];\n    }\n    else if(secondLargest&lt;time[i] &amp;&amp; time[i]&lt;largest || secondLargest&gt;=largest)\n        secondLargest=time[i];\n}\nreturn secondLargest;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6795473,"reputation":36,"user_id":5230960,"display_name":"Rahul Chauhan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1496147461,"creation_date":1496146454,"answer_id":44261972,"question_id":13354278,"body_markdown":"    public void findMax(int a[]) {\r\n        int large = Integer.MIN_VALUE;\r\n        int secondLarge = Integer.MIN_VALUE;\r\n        for (int i = 0; i &lt; a.length; i++) {\r\n            if (large &lt; a[i]) {\r\n                secondLarge = large;\r\n                large = a[i];\r\n            } else if (a[i] &gt; secondLarge) {\r\n                if (a[i] != large) {\r\n                    secondLarge = a[i];\r\n                }\r\n            }\r\n        }\r\n        System.out.println(&quot;Large number &quot; + large + &quot; Second Large  number &quot; + secondLarge);\r\n    }\r\n\r\nThe above code has been tested with integer arrays having duplicate entries, negative values. Largest number and second largest number are retrieved in one pass. This code only fails if array only contains multiple copy of same number like {8,8,8,8} or having only one number.","title":"How to find second largest number in an array in Java?","body":"<pre><code>public void findMax(int a[]) {\n    int large = Integer.MIN_VALUE;\n    int secondLarge = Integer.MIN_VALUE;\n    for (int i = 0; i &lt; a.length; i++) {\n        if (large &lt; a[i]) {\n            secondLarge = large;\n            large = a[i];\n        } else if (a[i] &gt; secondLarge) {\n            if (a[i] != large) {\n                secondLarge = a[i];\n            }\n        }\n    }\n    System.out.println(\"Large number \" + large + \" Second Large  number \" + secondLarge);\n}\n</code></pre>\n\n<p>The above code has been tested with integer arrays having duplicate entries, negative values. Largest number and second largest number are retrieved in one pass. This code only fails if array only contains multiple copy of same number like {8,8,8,8} or having only one number.</p>\n"},{"tags":[],"owner":{"account_id":10746452,"reputation":51,"user_id":7907585,"display_name":"Lokesh Verma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1557630640,"creation_date":1557630640,"answer_id":56095911,"question_id":13354278,"body_markdown":"It will also extract second largest number if largest number occours two times as well as in a single for loop.\r\n\r\n    import java.util.*;\r\n    public class SecondLargestInArray\r\n    {\r\n        public static void main(String[] args)\r\n        {\r\n            int arr[] = {99,14,46,47,86,92,52,48,36,66,85,92};\r\n            int largest = arr[0];\r\n            int secondLargest = arr[0];\r\n            System.out.println(&quot;The given array is:&quot; );\r\n            for (int i = 0; i &lt; arr.length; i++)\r\n            {\r\n                System.out.print(arr[i]+&quot;\\t&quot;);\r\n            }\r\n    \r\n            for (int i = 0; i &lt; arr.length; i++)\r\n            {\r\n                if (arr[i] &gt; largest)\r\n                {\r\n                    secondLargest = largest;\r\n                    largest = arr[i];\r\n                }\r\n                else if((arr[i]&lt;largest &amp;&amp; arr[i]&gt;secondLargest) || largest==secondLargest)\r\n                {\r\n                    secondLargest=arr[i];\r\n                }\r\n            }\r\n            System.out.println(&quot;\\nLargest number is:&quot; + largest);\r\n            System.out.println(&quot;\\nSecond largest number is:&quot; + secondLargest);\r\n        }\r\n    }\r\n\r\n","title":"How to find second largest number in an array in Java?","body":"<p>It will also extract second largest number if largest number occours two times as well as in a single for loop.</p>\n\n<pre><code>import java.util.*;\npublic class SecondLargestInArray\n{\n    public static void main(String[] args)\n    {\n        int arr[] = {99,14,46,47,86,92,52,48,36,66,85,92};\n        int largest = arr[0];\n        int secondLargest = arr[0];\n        System.out.println(\"The given array is:\" );\n        for (int i = 0; i &lt; arr.length; i++)\n        {\n            System.out.print(arr[i]+\"\\t\");\n        }\n\n        for (int i = 0; i &lt; arr.length; i++)\n        {\n            if (arr[i] &gt; largest)\n            {\n                secondLargest = largest;\n                largest = arr[i];\n            }\n            else if((arr[i]&lt;largest &amp;&amp; arr[i]&gt;secondLargest) || largest==secondLargest)\n            {\n                secondLargest=arr[i];\n            }\n        }\n        System.out.println(\"\\nLargest number is:\" + largest);\n        System.out.println(\"\\nSecond largest number is:\" + secondLargest);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3776250,"reputation":75,"user_id":3137020,"display_name":"dinesh pazani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591675063,"creation_date":1591674759,"answer_id":62274736,"question_id":13354278,"body_markdown":"Find the second largest element in the given array:\r\n\r\n       \r\n    \r\n    public static void findSecondMax(){\r\n            int[] arr = {3, 2, 20, 4, 1, 9, 6, 3, 8};\r\n    \r\n            int max = 0;\r\n            int secondMax = 0;\r\n    \r\n            for(int i =0; i&lt; arr.length; i++) {\r\n    \r\n                if(max &lt; arr[i]) max = arr[i];\r\n    \r\n                if((max &gt; arr[i]) &amp;&amp; (secondMax &lt; arr[i])) secondMax = arr[i];\r\n    \r\n            }\r\n    \r\n            System.out.println(secondMax);\r\n        }","title":"How to find second largest number in an array in Java?","body":"<p>Find the second largest element in the given array:</p>\n\n<pre><code>public static void findSecondMax(){\n        int[] arr = {3, 2, 20, 4, 1, 9, 6, 3, 8};\n\n        int max = 0;\n        int secondMax = 0;\n\n        for(int i =0; i&lt; arr.length; i++) {\n\n            if(max &lt; arr[i]) max = arr[i];\n\n            if((max &gt; arr[i]) &amp;&amp; (secondMax &lt; arr[i])) secondMax = arr[i];\n\n        }\n\n        System.out.println(secondMax);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":503652,"reputation":1,"user_id":1929408,"display_name":"Dheeraj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639813625,"creation_date":1639813625,"answer_id":70401773,"question_id":13354278,"body_markdown":"    public static void main (String args[]) {\r\n        int [] arr = {1,4,3,10,4,8,20,5,33};\r\n        int largest = 0;\r\n        int secondLargest = 0;\r\n        for (int x : arr) {\r\n            if (x &gt; largest) {\r\n                secondLargest = largest;\r\n                largest = x;\r\n            }\r\n            else if (x &gt; secondLargest) {\r\n                secondLargest = x;\r\n            }\r\n        }\r\n        System.out.println(&quot;secondLargest:&quot;+secondLargest);\r\n    }","title":"How to find second largest number in an array in Java?","body":"<pre><code>public static void main (String args[]) {\n    int [] arr = {1,4,3,10,4,8,20,5,33};\n    int largest = 0;\n    int secondLargest = 0;\n    for (int x : arr) {\n        if (x &gt; largest) {\n            secondLargest = largest;\n            largest = x;\n        }\n        else if (x &gt; secondLargest) {\n            secondLargest = x;\n        }\n    }\n    System.out.println(&quot;secondLargest:&quot;+secondLargest);\n}\n</code></pre>\n"}],"owner":{"account_id":1513513,"reputation":8310,"user_id":1415064,"accept_rate":82,"display_name":"AppSensei"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23888,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":13354340,"answer_count":11,"score":3,"last_activity_date":1648726697,"creation_date":1352769420,"question_id":13354278,"body_markdown":"I&#39;m just practicing some MIT java assignments. But, I&#39;m not sure how to find the second largest number. http://ocw.csail.mit.edu/f/13\r\n\r\n      public class Marathon {\r\n    \tpublic static void main(String[] arguments) {\r\n    \t\tString[] names = { &quot;Elena&quot;, &quot;Thomas&quot;, &quot;Hamilton&quot;, &quot;Suzie&quot;, &quot;Phil&quot;,\r\n    \t\t\t\t&quot;Matt&quot;, &quot;Alex&quot;, &quot;Emma&quot;, &quot;John&quot;, &quot;James&quot;, &quot;Jane&quot;, &quot;Emily&quot;,\r\n    \t\t\t\t&quot;Daniel&quot;, &quot;Neda&quot;, &quot;Aaron&quot;, &quot;Kate&quot; };\r\n    \r\n    \t\tint[] times = { 341, 273, 278, 329, 445, 402, 388, 275, 243, 334, 412,\r\n    \t\t\t\t393, 299, 343, 317, 265 };\r\n    \r\n    \t\tfor (int i = 0; i &lt; names.length; i++) {\r\n    \t\t\tSystem.out.println(names[i] + &quot;: &quot; + times[i]);\r\n    \t\t}\r\n    \r\n    \t\tSystem.out.println();\r\n    \t\tSystem.out.println(&quot;Largest Timing &quot; + Largest(times));\r\n    \t\tSystem.out.println();\r\n    \r\n    \t}\r\n    \r\n    \tpublic static int Largest(int[] times) {\r\n    \t\tint maxValue = times[0];\r\n    \r\n    \t\tfor (int i = 1; i &lt; times.length; i++) {\r\n    \t\t\tif (times[i] &gt; maxValue) {\r\n    \t\t\t\tmaxValue = times[i];\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn maxValue;\r\n    \t}\r\n    \r\n    }","title":"How to find second largest number in an array in Java?","body":"<p>I'm just practicing some MIT java assignments. But, I'm not sure how to find the second largest number. <a href=\"http://ocw.csail.mit.edu/f/13\" rel=\"nofollow\">http://ocw.csail.mit.edu/f/13</a></p>\n\n<pre><code>  public class Marathon {\n    public static void main(String[] arguments) {\n        String[] names = { \"Elena\", \"Thomas\", \"Hamilton\", \"Suzie\", \"Phil\",\n                \"Matt\", \"Alex\", \"Emma\", \"John\", \"James\", \"Jane\", \"Emily\",\n                \"Daniel\", \"Neda\", \"Aaron\", \"Kate\" };\n\n        int[] times = { 341, 273, 278, 329, 445, 402, 388, 275, 243, 334, 412,\n                393, 299, 343, 317, 265 };\n\n        for (int i = 0; i &lt; names.length; i++) {\n            System.out.println(names[i] + \": \" + times[i]);\n        }\n\n        System.out.println();\n        System.out.println(\"Largest Timing \" + Largest(times));\n        System.out.println();\n\n    }\n\n    public static int Largest(int[] times) {\n        int maxValue = times[0];\n\n        for (int i = 1; i &lt; times.length; i++) {\n            if (times[i] &gt; maxValue) {\n                maxValue = times[i];\n            }\n        }\n        return maxValue;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","eclipse","minecraft"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1610312245,"post_id":65658371,"comment_id":116086988,"body_markdown":"You run Java with the `-Xincgc` option which is for older Java version to enable the inc(remental) g(arbage) c(ollector). Newer Java version do not support it anymore, using better garbage collector by default instead. So just remove `-Xincgc` from the command line.","body":"You run Java with the <code>-Xincgc</code> option which is for older Java version to enable the inc(remental) g(arbage) c(ollector). Newer Java version do not support it anymore, using better garbage collector by default instead. So just remove <code>-Xincgc</code> from the command line."}],"answers":[{"tags":[],"owner":{"account_id":18909705,"reputation":23,"user_id":13796043,"display_name":"iloveRBandPY"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1610312952,"creation_date":1610312952,"answer_id":65658541,"question_id":65658371,"body_markdown":"[@howlger][1] Suggested to remove the -Xincgc option when running Eclipse. To do so, go to `Run &gt; Run Configurations &gt; Arguments` then edit your options in the VM arguments section.\r\n\r\n  [1]: https://stackoverflow.com/users/6505250/howlger\r\n","title":"MCP Unrecognized option: -Xincgc","body":"<p><a href=\"https://stackoverflow.com/users/6505250/howlger\">@howlger</a> Suggested to remove the -Xincgc option when running Eclipse. To do so, go to <code>Run &gt; Run Configurations &gt; Arguments</code> then edit your options in the VM arguments section.</p>\n"},{"tags":[],"owner":{"display_name":"user17504202"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642738179,"creation_date":1641270452,"answer_id":70574102,"question_id":65658371,"body_markdown":"The &quot;mcp918&quot; depends on which **version** of the Mod Coder Pack(*MCP*) you use  \r\n\r\n**mcp940.zip\t= Minecraft client 1.12 &amp; server 1.12**\r\n\r\n**mcp937.zip\t= Minecraft client 1.11.2 &amp; server 1.11.2**\r\n\r\n**mcp931.zip\t= Minecraft client 1.10 &amp; server 1.10**\r\n\r\n**mcp928.zip\t= Minecraft client 1.9.4 &amp; server 1.9.4**\r\n\r\n**mcp918.zip\t= Minecraft client 1.8.8 &amp; server 1.8.8**\r\n\r\n**mcp908.zip\t= Minecraft client 1.7.10 &amp; server 1.7.10**\r\n\r\nGo to the file location wherever you downloaded Mod Coder Pack (*MCP*) \r\n and then follow this address&quot;mcp918\\eclipse\\\\.metadata\\\\.plugins\\org.eclipse.debug.core\\.launches\\&quot; then open :-\r\n\r\n&gt; Client.Launch\r\n\r\nwith **notepad** or the **IDE** you prefer, remove the line that your error comes from, in this case *-Xincgc* :-\r\n\r\n``\r\n&lt;stringAttribute key=&quot;org.eclipse.jdt.launching.VM_ARGUMENTS&quot; value=&quot;-Xincgc -Xmx1024M -Xms1024M&quot;/&gt;\r\n``\r\n\r\nEven if you follow the steps, the game wont be able to run, due to errors that exist within the game&#39;s code, if you are able to fix these errors, you can run Mod Coder Pack(***MCP***)","title":"MCP Unrecognized option: -Xincgc","body":"<p>The &quot;mcp918&quot; depends on which <strong>version</strong> of the Mod Coder Pack(<em>MCP</em>) you use</p>\n<p><strong>mcp940.zip    = Minecraft client 1.12 &amp; server 1.12</strong></p>\n<p><strong>mcp937.zip    = Minecraft client 1.11.2 &amp; server 1.11.2</strong></p>\n<p><strong>mcp931.zip    = Minecraft client 1.10 &amp; server 1.10</strong></p>\n<p><strong>mcp928.zip    = Minecraft client 1.9.4 &amp; server 1.9.4</strong></p>\n<p><strong>mcp918.zip    = Minecraft client 1.8.8 &amp; server 1.8.8</strong></p>\n<p><strong>mcp908.zip    = Minecraft client 1.7.10 &amp; server 1.7.10</strong></p>\n<p>Go to the file location wherever you downloaded Mod Coder Pack (<em>MCP</em>)\nand then follow this address&quot;mcp918\\eclipse\\.metadata\\.plugins\\org.eclipse.debug.core.launches&quot; then open :-</p>\n<blockquote>\n<p>Client.Launch</p>\n</blockquote>\n<p>with <strong>notepad</strong> or the <strong>IDE</strong> you prefer, remove the line that your error comes from, in this case <em>-Xincgc</em> :-</p>\n<p><code>&lt;stringAttribute key=&quot;org.eclipse.jdt.launching.VM_ARGUMENTS&quot; value=&quot;-Xincgc -Xmx1024M -Xms1024M&quot;/&gt;</code></p>\n<p>Even if you follow the steps, the game wont be able to run, due to errors that exist within the game's code, if you are able to fix these errors, you can run Mod Coder Pack(<em><strong>MCP</strong></em>)</p>\n"},{"tags":[],"owner":{"account_id":23065236,"reputation":1,"user_id":17179765,"display_name":"TechTrash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648726680,"creation_date":1648726680,"answer_id":71691794,"question_id":65658371,"body_markdown":"Change java run location to your installed java:\r\nhttps://www.youtube.com/watch?v=S5xeXawYgK0","title":"MCP Unrecognized option: -Xincgc","body":"<p>Change java run location to your installed java:\n<a href=\"https://www.youtube.com/watch?v=S5xeXawYgK0\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=S5xeXawYgK0</a></p>\n"}],"owner":{"account_id":18909705,"reputation":23,"user_id":13796043,"display_name":"iloveRBandPY"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":742,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1648726680,"creation_date":1610311898,"question_id":65658371,"body_markdown":"I decompiled 1.8.8 Minecraft with MCP and setup an Eclipse Workspace. After that I tried to run it but got\r\n\r\n    Unrecognized option: -Xincgc","title":"MCP Unrecognized option: -Xincgc","body":"<p>I decompiled 1.8.8 Minecraft with MCP and setup an Eclipse Workspace. After that I tried to run it but got</p>\n<pre><code>Unrecognized option: -Xincgc\n</code></pre>\n"},{"tags":["java","regex","alphanumeric","one-time-password"],"comments":[{"owner":{"account_id":3763662,"reputation":7765,"user_id":3127812,"accept_rate":0,"display_name":"Sambit"},"score":0,"creation_date":1564551402,"post_id":57283858,"comment_id":101062936,"body_markdown":"You can check these links. https://stackoverflow.com/questions/336210/regular-expression-for-alphanumeric-and-underscores , https://stackoverflow.com/questions/5988228/how-to-create-a-regex-for-accepting-only-alphanumeric-characters/5988385","body":"You can check these links. <a href=\"https://stackoverflow.com/questions/336210/regular-expression-for-alphanumeric-and-underscores\" title=\"regular expression for alphanumeric and underscores\">stackoverflow.com/questions/336210/&hellip;</a> , <a href=\"https://stackoverflow.com/questions/5988228/how-to-create-a-regex-for-accepting-only-alphanumeric-characters/5988385\" title=\"how to create a regex for accepting only alphanumeric characters\">stackoverflow.com/questions/5988228/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":8764366,"reputation":27439,"user_id":6553328,"display_name":"Emma"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1564584910,"creation_date":1564551733,"answer_id":57283946,"question_id":57283858,"body_markdown":"It would be a bit difficult, maybe this expression might work with an `i` flag:\r\n\r\n    [a-z0-9]*\\d[a-z0-9]*\r\n\r\nor with word boundaries: \r\n\r\n    (?&lt;=\\b)[a-z0-9]*\\d[a-z0-9]*(?=\\b)\r\n\r\n###Test\r\n\r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n    \r\n    final String regex = &quot;[a-z0-9]*\\\\d[a-z0-9]*&quot;;\r\n    final String string = &quot;78784\\n&quot;\r\n    \t + &quot;aZ837\\n&quot;\r\n    \t + &quot;987Ny\\n&quot;\r\n    \t + &quot;19hd35\\n&quot;\r\n    \t + &quot;fc82pl&quot;;\r\n    \r\n    final Pattern pattern = Pattern.compile(regex, Pattern.MULTILINE | Pattern.CASE_INSENSITIVE);\r\n    final Matcher matcher = pattern.matcher(string);\r\n    \r\n    while (matcher.find()) {\r\n        System.out.println(&quot;Full match: &quot; + matcher.group(0));\r\n        for (int i = 1; i &lt;= matcher.groupCount(); i++) {\r\n            System.out.println(&quot;Group &quot; + i + &quot;: &quot; + matcher.group(i));\r\n        }\r\n    }\r\n\r\nThe expression is explained on the top right panel of [regex101.com](https://regex101.com/r/7dBvJV/1/), if you wish to explore/simplify/modify it, and in [this link](https://regex101.com/r/7dBvJV/1/debugger), you can watch how it would match against some sample inputs, if you like. ","title":"Regex to retrieve any alphanumeric otp code","body":"<p>It would be a bit difficult, maybe this expression might work with an <code>i</code> flag:</p>\n\n<pre><code>[a-z0-9]*\\d[a-z0-9]*\n</code></pre>\n\n<p>or with word boundaries: </p>\n\n<pre><code>(?&lt;=\\b)[a-z0-9]*\\d[a-z0-9]*(?=\\b)\n</code></pre>\n\n<h3>Test</h3>\n\n<pre><code>import java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\nfinal String regex = \"[a-z0-9]*\\\\d[a-z0-9]*\";\nfinal String string = \"78784\\n\"\n     + \"aZ837\\n\"\n     + \"987Ny\\n\"\n     + \"19hd35\\n\"\n     + \"fc82pl\";\n\nfinal Pattern pattern = Pattern.compile(regex, Pattern.MULTILINE | Pattern.CASE_INSENSITIVE);\nfinal Matcher matcher = pattern.matcher(string);\n\nwhile (matcher.find()) {\n    System.out.println(\"Full match: \" + matcher.group(0));\n    for (int i = 1; i &lt;= matcher.groupCount(); i++) {\n        System.out.println(\"Group \" + i + \": \" + matcher.group(i));\n    }\n}\n</code></pre>\n\n<p>The expression is explained on the top right panel of <a href=\"https://regex101.com/r/7dBvJV/1/\" rel=\"nofollow noreferrer\">regex101.com</a>, if you wish to explore/simplify/modify it, and in <a href=\"https://regex101.com/r/7dBvJV/1/debugger\" rel=\"nofollow noreferrer\">this link</a>, you can watch how it would match against some sample inputs, if you like. </p>\n"},{"tags":[],"owner":{"account_id":1327441,"reputation":3821,"user_id":1271985,"accept_rate":79,"display_name":"sarwar026"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1564551740,"creation_date":1564551740,"answer_id":57283948,"question_id":57283858,"body_markdown":"Try this one\r\n\r\n    [0-9a-zA-Z]*[0-9]+[0-9a-zA-Z]*\r\n\r\nThis evaluates your desired result.\r\n\r\nI have tested this in [this site][1]\r\n\r\n\r\n  [1]: https://regex101.com/","title":"Regex to retrieve any alphanumeric otp code","body":"<p>Try this one</p>\n\n<pre><code>[0-9a-zA-Z]*[0-9]+[0-9a-zA-Z]*\n</code></pre>\n\n<p>This evaluates your desired result.</p>\n\n<p>I have tested this in <a href=\"https://regex101.com/\" rel=\"nofollow noreferrer\">this site</a></p>\n"},{"tags":[],"owner":{"account_id":8763540,"reputation":1583,"user_id":6552776,"display_name":"csabinho"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1564551859,"creation_date":1564551859,"answer_id":57283976,"question_id":57283858,"body_markdown":"Your regex is almost correct.\r\nIt should be `\\b[a-zA-z]*[0-9]+[a-zA-z0-9]*\\b`.","title":"Regex to retrieve any alphanumeric otp code","body":"<p>Your regex is almost correct.\nIt should be <code>\\b[a-zA-z]*[0-9]+[a-zA-z0-9]*\\b</code>.</p>\n"}],"owner":{"account_id":8272312,"reputation":327,"user_id":6219650,"display_name":"Shrimantee Roy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3568,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":57283946,"answer_count":3,"score":3,"last_activity_date":1648726489,"creation_date":1564551181,"question_id":57283858,"body_markdown":"I am trying to get a regex to retrieve alphanumeric OTP code (length of the code maybe dynamic i.e depending on user&#39;s choice) and must contain at least one digit. \r\n\r\nI have tried the following regex :\r\n &quot;[a-zA-z]*[0-9].[a-zA-z]*&quot;\r\n\r\n\r\nBut if a special character is there in the code it should result null instead it retrieves the characters before and after the special character which is not desired.\r\n\r\nSome sample OTP-containing messages on which the regex is desired to work successfully:\r\n\r\n 1. OTP is **** for txn of INR 78.90.\r\n 2. **** is your one-time password.\r\n 3. Hi, Your OTP is ****.\r\n\r\nExamples of Alphanumeric OTPs with at least one-digit:\r\n\r\n1. 78784\r\n2. aZ837\r\n3. 987Ny\r\n4. 19hd35\r\n5. fc82pl\r\n","title":"Regex to retrieve any alphanumeric otp code","body":"<p>I am trying to get a regex to retrieve alphanumeric OTP code (length of the code maybe dynamic i.e depending on user's choice) and must contain at least one digit. </p>\n\n<p>I have tried the following regex :\n \"[a-zA-z]<em>[0-9].[a-zA-z]</em>\"</p>\n\n<p>But if a special character is there in the code it should result null instead it retrieves the characters before and after the special character which is not desired.</p>\n\n<p>Some sample OTP-containing messages on which the regex is desired to work successfully:</p>\n\n<ol>\n<li>OTP is **** for txn of INR 78.90.</li>\n<li>**** is your one-time password.</li>\n<li>Hi, Your OTP is ****.</li>\n</ol>\n\n<p>Examples of Alphanumeric OTPs with at least one-digit:</p>\n\n<ol>\n<li>78784</li>\n<li>aZ837</li>\n<li>987Ny</li>\n<li>19hd35</li>\n<li>fc82pl</li>\n</ol>\n"},{"tags":["java","android","webview"],"comments":[{"owner":{"account_id":9212866,"reputation":177,"user_id":6845311,"display_name":"Torima"},"score":0,"creation_date":1648419261,"post_id":71640238,"comment_id":126613015,"body_markdown":"Where in MainActivity do you call this switch? Also please add crash log.","body":"Where in MainActivity do you call this switch? Also please add crash log."},{"owner":{"account_id":24569571,"reputation":11,"user_id":18476218,"display_name":"Milo"},"score":0,"creation_date":1648422638,"post_id":71640238,"comment_id":126613528,"body_markdown":"Ok, I did it somehow. Had to change the function name to &quot;onCreate&quot; in Market class. Thank you for your response.","body":"Ok, I did it somehow. Had to change the function name to &quot;onCreate&quot; in Market class. Thank you for your response."},{"owner":{"account_id":24569571,"reputation":11,"user_id":18476218,"display_name":"Milo"},"score":0,"creation_date":1648422697,"post_id":71640238,"comment_id":126613537,"body_markdown":"If you are still willing to help, I have other problem (already posted few days ago) here: https://stackoverflow.com/questions/71488321/text-in-textview-is-not-showing-strings-from-java-file-openweathermap","body":"If you are still willing to help, I have other problem (already posted few days ago) here: <a href=\"https://stackoverflow.com/questions/71488321/text-in-textview-is-not-showing-strings-from-java-file-openweathermap\" title=\"text in textview is not showing strings from java file openweathermap\">stackoverflow.com/questions/71488321/&hellip;</a>"},{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":0,"creation_date":1648433865,"post_id":71640238,"comment_id":126614928,"body_markdown":"Do you intend for `Market` to be a separate activity? If not, it should not inherit from `AppCompatActivity`. Aside from that, it&#39;s not clear what you&#39;re asking, and if you app crashes you should add the crash log to your question.","body":"Do you intend for <code>Market</code> to be a separate activity? If not, it should not inherit from <code>AppCompatActivity</code>. Aside from that, it&#39;s not clear what you&#39;re asking, and if you app crashes you should add the crash log to your question."},{"owner":{"account_id":353840,"reputation":837,"user_id":691790,"accept_rate":85,"display_name":"Matt Zappitello"},"score":0,"creation_date":1648585511,"post_id":71640238,"comment_id":126660846,"body_markdown":"If you have already answered this question, then provide the answer and mark it as such.","body":"If you have already answered this question, then provide the answer and mark it as such."}],"owner":{"account_id":24569571,"reputation":11,"user_id":18476218,"display_name":"Milo"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":152,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1648726122,"creation_date":1648414648,"question_id":71640238,"body_markdown":"I want to call the class &quot;Market&quot;, which describes the webview. It should be done &quot;onclick&quot; when clicking on scrollable menu. But after I click the button my app just crashes, and I have no idea what to do now.\r\n\r\nMain Activity:\r\n\r\n```\r\nswitch (item.getItemId()) {\r\n            case R.id.item1:\r\n                //your action\r\n                break;\r\n            case R.id.item2:\r\n                //your action\r\n                break;\r\n            case R.id.item3:\r\n                //your action\r\n                break;\r\n            case R.id.item4:\r\n                //your action\r\n                setContentView(R.layout.market_activity);\r\n                market.setthepage();\r\n                break;\r\n            case R.id.item5:\r\n                //your action\r\n                break;\r\n```\r\n\r\nMarket Class:\r\n\r\n```\r\n\r\npublic class Market extends AppCompatActivity {\r\n\r\n    WebView wb;\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n        }\r\n        public void setthepage(){\r\n            wb = (WebView) findViewById(R.id.web_market);\r\n            wb.getSettings().setJavaScriptEnabled(true);\r\n            wb.loadUrl(&quot;https://www.pepper.pl/&quot;);\r\n        }\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n\r\n        if (wb.canGoBack()){\r\n            wb.goBack();\r\n        }else{\r\n            super.onBackPressed();\r\n        }\r\n    }}\r\n\r\n```\r\n\r\n.. and a simple webview.\r\n\r\nI was trying using intend, context etc. but am probably using it wrong.\r\nCan you help me with my problem?\r\n\r\nThank you in advance,\r\nMilo","title":"Calling Java class in Main Activity after calling a layout - Android Studio","body":"<p>I want to call the class &quot;Market&quot;, which describes the webview. It should be done &quot;onclick&quot; when clicking on scrollable menu. But after I click the button my app just crashes, and I have no idea what to do now.</p>\n<p>Main Activity:</p>\n<pre><code>switch (item.getItemId()) {\n            case R.id.item1:\n                //your action\n                break;\n            case R.id.item2:\n                //your action\n                break;\n            case R.id.item3:\n                //your action\n                break;\n            case R.id.item4:\n                //your action\n                setContentView(R.layout.market_activity);\n                market.setthepage();\n                break;\n            case R.id.item5:\n                //your action\n                break;\n</code></pre>\n<p>Market Class:</p>\n<pre><code>\npublic class Market extends AppCompatActivity {\n\n    WebView wb;\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        }\n        public void setthepage(){\n            wb = (WebView) findViewById(R.id.web_market);\n            wb.getSettings().setJavaScriptEnabled(true);\n            wb.loadUrl(&quot;https://www.pepper.pl/&quot;);\n        }\n\n    @Override\n    public void onBackPressed() {\n\n        if (wb.canGoBack()){\n            wb.goBack();\n        }else{\n            super.onBackPressed();\n        }\n    }}\n\n</code></pre>\n<p>.. and a simple webview.</p>\n<p>I was trying using intend, context etc. but am probably using it wrong.\nCan you help me with my problem?</p>\n<p>Thank you in advance,\nMilo</p>\n"},{"tags":["java","db2","dependencies","maven-3","named-parameters"],"comments":[{"owner":{"account_id":14422603,"reputation":11689,"user_id":10418264,"display_name":"Mark Barinstein"},"score":0,"creation_date":1648713091,"post_id":71688296,"comment_id":126695677,"body_markdown":"Have you tried `com.ibm.db2.jcc.DB2PreparedStatement ps = (com.ibm.db2.jcc.DB2PreparedStatement) IDataSgaFacade.getPreparedStatement(sqlString)` as described in [Using named parameter markers with PreparedStatement objects](https://www.ibm.com/docs/en/db2/11.5?topic=applications-using-named-parameter-markers-preparedstatement-objects)?","body":"Have you tried <code>com.ibm.db2.jcc.DB2PreparedStatement ps = (com.ibm.db2.jcc.DB2PreparedStatement) IDataSgaFacade.getPreparedStatement(sqlString)</code> as described in <a href=\"https://www.ibm.com/docs/en/db2/11.5?topic=applications-using-named-parameter-markers-preparedstatement-objects\" rel=\"nofollow noreferrer\">Using named parameter markers with PreparedStatement objects</a>?"},{"owner":{"account_id":1289313,"reputation":1479,"user_id":1241715,"accept_rate":86,"display_name":"madtyn"},"score":0,"creation_date":1648715025,"post_id":71688296,"comment_id":126696370,"body_markdown":"Yes, I&#39;m doing that inside the getPreparedStatement() method","body":"Yes, I&#39;m doing that inside the getPreparedStatement() method"},{"owner":{"account_id":14422603,"reputation":11689,"user_id":10418264,"display_name":"Mark Barinstein"},"score":0,"creation_date":1648716109,"post_id":71688296,"comment_id":126696774,"body_markdown":"What&#39;s your db2 jcc driver version?","body":"What&#39;s your db2 jcc driver version?"},{"owner":{"account_id":1289313,"reputation":1479,"user_id":1241715,"accept_rate":86,"display_name":"madtyn"},"score":0,"creation_date":1648717860,"post_id":71688296,"comment_id":126697473,"body_markdown":"It&#39;s in the maven dependency in the post. It&#39;s the 8.1","body":"It&#39;s in the maven dependency in the post. It&#39;s the 8.1"},{"owner":{"account_id":14422603,"reputation":11689,"user_id":10418264,"display_name":"Mark Barinstein"},"score":1,"creation_date":1648718792,"post_id":71688296,"comment_id":126697864,"body_markdown":"It&#39;s not a [Db2 jcc driver](https://www.ibm.com/support/pages/db2-jdbc-driver-versions-and-downloads) version. What&#39;s the result of `java -cp /full/path/to/db2jcc4.jar  com.ibm.db2.jcc.DB2Jcc -version` for the jar file you use?","body":"It&#39;s not a <a href=\"https://www.ibm.com/support/pages/db2-jdbc-driver-versions-and-downloads\" rel=\"nofollow noreferrer\">Db2 jcc driver</a> version. What&#39;s the result of <code>java -cp &#47;full&#47;path&#47;to&#47;db2jcc4.jar  com.ibm.db2.jcc.DB2Jcc -version</code> for the jar file you use?"},{"owner":{"account_id":1289313,"reputation":1479,"user_id":1241715,"accept_rate":86,"display_name":"madtyn"},"score":0,"creation_date":1648719802,"post_id":71688296,"comment_id":126698254,"body_markdown":"@MarkBarinstein IBM DB2 JDBC Universal Driver Architecture 2.3.63","body":"@MarkBarinstein IBM DB2 JDBC Universal Driver Architecture 2.3.63"},{"owner":{"account_id":14422603,"reputation":11689,"user_id":10418264,"display_name":"Mark Barinstein"},"score":0,"creation_date":1648720993,"post_id":71688296,"comment_id":126698689,"body_markdown":"If you really work with this very old Db2 8.2.0 (aka 8.1.7) version (which is not supported for 13 years already), then this driver probably doesn&#39;t support named parameters at all. If not, then you should use jcc driver which corresponds to your Db2 Server version. You may run the following to check it: `SELECT VERSIONNUMBER FROM SYSIBM.SYSVERSIONS`","body":"If you really work with this very old Db2 8.2.0 (aka 8.1.7) version (which is not supported for 13 years already), then this driver probably doesn&#39;t support named parameters at all. If not, then you should use jcc driver which corresponds to your Db2 Server version. You may run the following to check it: <code>SELECT VERSIONNUMBER FROM SYSIBM.SYSVERSIONS</code>"},{"owner":{"account_id":1289313,"reputation":1479,"user_id":1241715,"accept_rate":86,"display_name":"madtyn"},"score":0,"creation_date":1648721829,"post_id":71688296,"comment_id":126698979,"body_markdown":"|VERSIONNUMBER|\n|-------------|\n|-10050900    |\n|9070900      |\n|10050800     |\n|10051000     |\n|11010405     |\n|11010406     |\n|11050700     |","body":"|VERSIONNUMBER| |-------------| |-10050900    | |9070900      | |10050800     | |10051000     | |11010405     | |11010406     | |11050700     |"},{"owner":{"account_id":14422603,"reputation":11689,"user_id":10418264,"display_name":"Mark Barinstein"},"score":0,"creation_date":1648722596,"post_id":71688296,"comment_id":126699267,"body_markdown":"You work with Db2 11.5.7 - the latest Db2 version and fixpack. You must not work with this version with your so old current driver. So, download the corresponding Db2 jcc driver version 4.31.10 at the link above and use it instead.","body":"You work with Db2 11.5.7 - the latest Db2 version and fixpack. You must not work with this version with your so old current driver. So, download the corresponding Db2 jcc driver version 4.31.10 at the link above and use it instead."},{"owner":{"account_id":1289313,"reputation":1479,"user_id":1241715,"accept_rate":86,"display_name":"madtyn"},"score":0,"creation_date":1648722927,"post_id":71688296,"comment_id":126699398,"body_markdown":"I was using at the beginning db2jcc-4.3.111 and it was the same, but I&#39;m trying now with the version you just told me","body":"I was using at the beginning db2jcc-4.3.111 and it was the same, but I&#39;m trying now with the version you just told me"},{"owner":{"account_id":1289313,"reputation":1479,"user_id":1241715,"accept_rate":86,"display_name":"madtyn"},"score":0,"creation_date":1648723657,"post_id":71688296,"comment_id":126699662,"body_markdown":"Great! I tried with 4.19.66 which was the maximum version available at my allowed repositories, and it seems to work. Thank you very much! You may post your answer and get the credit.","body":"Great! I tried with 4.19.66 which was the maximum version available at my allowed repositories, and it seems to work. Thank you very much! You may post your answer and get the credit."}],"answers":[{"tags":[],"owner":{"account_id":14422603,"reputation":11689,"user_id":10418264,"display_name":"Mark Barinstein"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648724052,"creation_date":1648724052,"answer_id":71691248,"question_id":71688296,"body_markdown":"Seems, that this very old Db2 jcc 2.3.63 version driver (from Db2 V8.2) doesn&#39;t have support for named parameters.  \r\nContemporary Db2 jcc drivers do support such a functionality.  \r\nIt&#39;s strongly advised to use Db2 jcc drivers corresponding to the Db2 Server version.","title":"Named Parameter Markers in JDBC and DB2","body":"<p>Seems, that this very old Db2 jcc 2.3.63 version driver (from Db2 V8.2) doesn't have support for named parameters.<br />\nContemporary Db2 jcc drivers do support such a functionality.<br />\nIt's strongly advised to use Db2 jcc drivers corresponding to the Db2 Server version.</p>\n"}],"owner":{"account_id":1289313,"reputation":1479,"user_id":1241715,"accept_rate":86,"display_name":"madtyn"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":181,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71691248,"answer_count":1,"score":0,"last_activity_date":1648725880,"creation_date":1648710639,"question_id":71688296,"body_markdown":"I&#39;m trying to use named parameter markers as in:\r\n\r\n    SELECT field\r\n    FROM table\r\n    WHERE field = :value  -- I&#39;d like to use this &#39;:value&#39;\r\n\r\n\r\nI&#39;ve been reading about this and I understood that I need to convert my PreparedStatement to a DB2PreparedStatement, and I did, by including also this dependency in my pom.xml:\r\n\r\n        &lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;com.ibm.db2&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;db2jcc&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;8.1&lt;/version&gt;&lt;!-- I was using 4.3.111 before --&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nBut then I come to Eclipse and try, but it doesn&#39;t seem to detect the setJccXXX() method in the DB2PreparedStatement and I can&#39;t get it to compile.\r\n\r\n[![method not detected][1]][1]\r\n\r\nI also read that I can make my custom code for a Statement through inheritance, but I wouldn&#39;t likw to reinvent the wheel if I can make this work.\r\n\r\nMy main suspect is that this could be something about the version of db2jcc, but I think this is the highest version I can use from the repositories I&#39;m allowed to use.\r\n\r\nAdditional data:\r\n\r\nAt the terminal:\r\n    $ java -cp /full/path/to/db2jcc4.jar  com.ibm.db2.jcc.DB2Jcc -version\r\n\r\n    IBM DB2 JDBC Universal Driver Architecture 2.3.63\r\n\r\nAt the database:\r\n\r\n    SELECT VERSIONNUMBER FROM SYSIBM.SYSVERSIONS\r\n\r\n    |VERSIONNUMBER| \r\n    |-------------| \r\n    |-10050900 | \r\n    |9070900 | \r\n    |10050800 | \r\n    |10051000 |\r\n    |11010405 | \r\n    |11010406 | \r\n    |11050700 |\r\n\r\n  [1]: https://i.stack.imgur.com/bWIK8.png","title":"Named Parameter Markers in JDBC and DB2","body":"<p>I'm trying to use named parameter markers as in:</p>\n<pre><code>SELECT field\nFROM table\nWHERE field = :value  -- I'd like to use this ':value'\n</code></pre>\n<p>I've been reading about this and I understood that I need to convert my PreparedStatement to a DB2PreparedStatement, and I did, by including also this dependency in my pom.xml:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.ibm.db2&lt;/groupId&gt;\n        &lt;artifactId&gt;db2jcc&lt;/artifactId&gt;\n        &lt;version&gt;8.1&lt;/version&gt;&lt;!-- I was using 4.3.111 before --&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>But then I come to Eclipse and try, but it doesn't seem to detect the setJccXXX() method in the DB2PreparedStatement and I can't get it to compile.</p>\n<p><a href=\"https://i.stack.imgur.com/bWIK8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bWIK8.png\" alt=\"method not detected\" /></a></p>\n<p>I also read that I can make my custom code for a Statement through inheritance, but I wouldn't likw to reinvent the wheel if I can make this work.</p>\n<p>My main suspect is that this could be something about the version of db2jcc, but I think this is the highest version I can use from the repositories I'm allowed to use.</p>\n<p>Additional data:</p>\n<p>At the terminal:\n$ java -cp /full/path/to/db2jcc4.jar  com.ibm.db2.jcc.DB2Jcc -version</p>\n<pre><code>IBM DB2 JDBC Universal Driver Architecture 2.3.63\n</code></pre>\n<p>At the database:</p>\n<pre><code>SELECT VERSIONNUMBER FROM SYSIBM.SYSVERSIONS\n\n|VERSIONNUMBER| \n|-------------| \n|-10050900 | \n|9070900 | \n|10050800 | \n|10051000 |\n|11010405 | \n|11010406 | \n|11050700 |\n</code></pre>\n"},{"tags":["java","android","opencv","image-processing"],"comments":[{"owner":{"account_id":4370717,"reputation":680,"user_id":3565200,"display_name":"Dawid Czerwinski"},"score":1,"creation_date":1409017156,"post_id":25444847,"comment_id":39797471,"body_markdown":"I have no idea how to help you but maybe this read will put some light on it: http://arxiv.org/pdf/1209.5982v1.pdf  Page7: Data reduction and transmission.","body":"I have no idea how to help you but maybe this read will put some light on it: <a href=\"http://arxiv.org/pdf/1209.5982v1.pdf\" rel=\"nofollow noreferrer\">arxiv.org/pdf/1209.5982v1.pdf</a>  Page7: Data reduction and transmission."},{"owner":{"account_id":245976,"reputation":16453,"user_id":519814,"accept_rate":94,"display_name":"C--"},"score":0,"creation_date":1409031553,"post_id":25444847,"comment_id":39800794,"body_markdown":"Actually that was of some help. I got pointed to this paper and it appears to cover most of the concerns in this question : http://digital.csic.es/bitstream/10261/61694/1/Gabarda.pdf","body":"Actually that was of some help. I got pointed to this paper and it appears to cover most of the concerns in this question : <a href=\"http://digital.csic.es/bitstream/10261/61694/1/Gabarda.pdf\" rel=\"nofollow noreferrer\">digital.csic.es/bitstream/10261/61694/1/Gabarda.pdf</a>"},{"owner":{"account_id":374320,"reputation":29712,"user_id":724461,"display_name":"Andrey Kamaev"},"score":0,"creation_date":1409083713,"post_id":25444847,"comment_id":39830181,"body_markdown":"Simply don&#39;t shoot when camera is moving. All Android phones have an accelerometer sensor which can tell you if the phone is moving.","body":"Simply don&#39;t shoot when camera is moving. All Android phones have an accelerometer sensor which can tell you if the phone is moving."},{"owner":{"account_id":245976,"reputation":16453,"user_id":519814,"accept_rate":94,"display_name":"C--"},"score":0,"creation_date":1409109077,"post_id":25444847,"comment_id":39837682,"body_markdown":"Andrey, the actual problem is not while shooting. Please read the OP.","body":"Andrey, the actual problem is not while shooting. Please read the OP."},{"owner":{"account_id":2469101,"reputation":11811,"user_id":2151446,"accept_rate":100,"display_name":"Bull"},"score":1,"creation_date":1409150951,"post_id":25444847,"comment_id":39858975,"body_markdown":"How is this not a duplicate of http://stackoverflow.com/questions/7765810/is-there-a-way-to-detect-if-an-image-is-blurry ?","body":"How is this not a duplicate of <a href=\"http://stackoverflow.com/questions/7765810/is-there-a-way-to-detect-if-an-image-is-blurry\" title=\"is there a way to detect if an image is blurry\">stackoverflow.com/questions/7765810/&hellip;</a> ?"},{"owner":{"account_id":245976,"reputation":16453,"user_id":519814,"accept_rate":94,"display_name":"C--"},"score":1,"creation_date":1409158865,"post_id":25444847,"comment_id":39863823,"body_markdown":"Because of the fact that the other posting focuses on blurry-ness and this is about shaky-ness. Intentional blurryness has to be considered. Secondly, this question was tagged to opencv in a later stage.","body":"Because of the fact that the other posting focuses on blurry-ness and this is about shaky-ness. Intentional blurryness has to be considered. Secondly, this question was tagged to opencv in a later stage."}],"answers":[{"tags":[],"owner":{"account_id":4929871,"reputation":151,"user_id":3970006,"display_name":"user3970006"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1648725798,"creation_date":1408821848,"answer_id":25465601,"question_id":25444847,"body_markdown":"Wouldn&#39;t out of focus images imply that\r\n\r\n\r\n**a)** Edges are blurred, so any gradient based operator will have a low values compared to the luminance in the image\r\n\r\n**b)** edges are blurred, so any curvature based operator will have low values\r\n\r\n**c)** for shaky pictures, the pixels will be correlated with other pixels in the direction of the shake (a translation or a rotation)\r\n\r\nI took your picture in gimp, applied Sobel for a) and Laplacian for b) (available in openCV), and got images that are a lot darker in the above portion.\r\n\r\nCalibrating thresholds for general images would be quite difficult I guess.","title":"Programmatically find shaky OR out-of-focus Images","body":"<p>Wouldn't out of focus images imply that</p>\n<p><strong>a)</strong> Edges are blurred, so any gradient based operator will have a low values compared to the luminance in the image</p>\n<p><strong>b)</strong> edges are blurred, so any curvature based operator will have low values</p>\n<p><strong>c)</strong> for shaky pictures, the pixels will be correlated with other pixels in the direction of the shake (a translation or a rotation)</p>\n<p>I took your picture in gimp, applied Sobel for a) and Laplacian for b) (available in openCV), and got images that are a lot darker in the above portion.</p>\n<p>Calibrating thresholds for general images would be quite difficult I guess.</p>\n"},{"tags":[],"owner":{"account_id":394742,"reputation":4395,"user_id":757345,"accept_rate":87,"display_name":"DanielHsH"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1409048175,"creation_date":1409048175,"answer_id":25503338,"question_id":25444847,"body_markdown":"Are you dealing with video stream or a single image\r\n\r\n**In case of video stream**: The best way is calculate the difference between each 2 adjacent frames. And mark each pixel with difference. When the amount of such pixels is low - you are in a non shaky frame. Note, that this method does not check if image is in focus, but only designed to combat motion blur in the image. \r\nYour implementation should include the following\r\n\r\n 1. For each frame &#39;i&#39; - normalize the image (work with gray level, when working with floating points normalize the mean to 0 and standard deviation to 1)\r\n 2. Save the previous video frame.\r\n 3. On each new video frame calculate pixel-wise difference between the images and count the amount of pixels for whom the difference exceed some threshold. If the amount of such pixels is too high (say &gt; 5% of the image) that means that the movement between the previous frame and current frame is big and you expect motion blur. When person holds the phone firmly, you will see a sharp drop in the amount of pixels that changed.\r\n 4. If your images are represented not in floating point but in fixed point (say 0..255) than you can [match the histograms][1] of the images prior to subtraction in order to reduce noise.\r\n 5. As long as you are getting images with motion, just drop those frames and display a message to the user &quot;hold your phone firmly&quot;. Once you get a good stabilized image, process it but keep remembering the previous one and do the subtraction for each video frame.\r\n\r\nThe algorithm above should be strong enough (I used it in one of my projects, and it worked like a magic).\r\n\r\n**In case of Single Image**: The algorithm above does not solve unfocused images and is irrelevant for a single image.\r\n\r\n 1. To solve the focus I recommend calculating image edges and counting\r\n    the amount of pixels that have strong edges (higher than a\r\n    threshold). Once you get high amount of pixels with edges (say &gt; 5%\r\n    of the image), you say that the image is in focus. This algorithm is far from being perfect and may do many mistakes, depending on the texture of the image. I recommend using X,Y and diagonal edges, but smooth the image before edge detection to reduce noise.\r\n 2. A stronger algorithm would be taking all the edges (derivatives) and calculating their histogram (how many pixels in the image had this specific edge intensity). This is done by first calculating an image of edges and than calculating a histogram of the edge-image. Now you can analyse the shape of the histogram (the distribution of the edges strength). For example take only the top 5% of pixels with strongest edges and calculate the variance of their edge intensity. \r\n 3. Important fact: In unfocused images you expect the majority of the pixels to have very low edge response, few to have medium edge response and almost zero with strong edge response. In images with perfect focus you still have the majority of the pixels with low edge response but the ratio between medium response to strong response changes. You can clearly see it in the histogram shape. That is why I recommend taking only a few % of the pixels with the strongest edge response and work only with them. The rest are just a noise. Even a simple algorithm of taking the ratio between the amount of pixels with strong response divided by the amount of pixels with medium edges will be quite good.\r\n\r\n**Focus problem in video**:\r\n\r\n 4. If you have a video stream than you can use the above described algorithms for problematic focus detection, but instead of using constant thresholds, just update them as the video runs. Eventually they will converge to better values than a predefined constants.\r\n\r\nLast note: The focus detection problem in a single image is a very tough one. There are a lot of academic papers (using Fourier transform wavelets and other &quot;Big algorithmic cannons&quot;). But the problem remains very difficult because when you are looking at a blurred image you cannot know whether it is the camera that generated the blur with wrong focus, or the original reality is already blurred (for example, white walls are very blurry, pictures taken in a dark tend to be blurry even under perfect focus, pictures of water surface, table surface tend to be blurry). \r\nAnyway there are few threads in stack overflow regarding focus in the image. Like [this one][2]. Please read them.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Histogram_matching\r\n  [2]: https://stackoverflow.com/questions/2134934/image-focus-calculation","title":"Programmatically find shaky OR out-of-focus Images","body":"<p>Are you dealing with video stream or a single image</p>\n\n<p><strong>In case of video stream</strong>: The best way is calculate the difference between each 2 adjacent frames. And mark each pixel with difference. When the amount of such pixels is low - you are in a non shaky frame. Note, that this method does not check if image is in focus, but only designed to combat motion blur in the image. \nYour implementation should include the following</p>\n\n<ol>\n<li>For each frame 'i' - normalize the image (work with gray level, when working with floating points normalize the mean to 0 and standard deviation to 1)</li>\n<li>Save the previous video frame.</li>\n<li>On each new video frame calculate pixel-wise difference between the images and count the amount of pixels for whom the difference exceed some threshold. If the amount of such pixels is too high (say > 5% of the image) that means that the movement between the previous frame and current frame is big and you expect motion blur. When person holds the phone firmly, you will see a sharp drop in the amount of pixels that changed.</li>\n<li>If your images are represented not in floating point but in fixed point (say 0..255) than you can <a href=\"http://en.wikipedia.org/wiki/Histogram_matching\" rel=\"nofollow noreferrer\">match the histograms</a> of the images prior to subtraction in order to reduce noise.</li>\n<li>As long as you are getting images with motion, just drop those frames and display a message to the user \"hold your phone firmly\". Once you get a good stabilized image, process it but keep remembering the previous one and do the subtraction for each video frame.</li>\n</ol>\n\n<p>The algorithm above should be strong enough (I used it in one of my projects, and it worked like a magic).</p>\n\n<p><strong>In case of Single Image</strong>: The algorithm above does not solve unfocused images and is irrelevant for a single image.</p>\n\n<ol>\n<li>To solve the focus I recommend calculating image edges and counting\nthe amount of pixels that have strong edges (higher than a\nthreshold). Once you get high amount of pixels with edges (say > 5%\nof the image), you say that the image is in focus. This algorithm is far from being perfect and may do many mistakes, depending on the texture of the image. I recommend using X,Y and diagonal edges, but smooth the image before edge detection to reduce noise.</li>\n<li>A stronger algorithm would be taking all the edges (derivatives) and calculating their histogram (how many pixels in the image had this specific edge intensity). This is done by first calculating an image of edges and than calculating a histogram of the edge-image. Now you can analyse the shape of the histogram (the distribution of the edges strength). For example take only the top 5% of pixels with strongest edges and calculate the variance of their edge intensity. </li>\n<li>Important fact: In unfocused images you expect the majority of the pixels to have very low edge response, few to have medium edge response and almost zero with strong edge response. In images with perfect focus you still have the majority of the pixels with low edge response but the ratio between medium response to strong response changes. You can clearly see it in the histogram shape. That is why I recommend taking only a few % of the pixels with the strongest edge response and work only with them. The rest are just a noise. Even a simple algorithm of taking the ratio between the amount of pixels with strong response divided by the amount of pixels with medium edges will be quite good.</li>\n</ol>\n\n<p><strong>Focus problem in video</strong>:</p>\n\n<ol start=\"4\">\n<li>If you have a video stream than you can use the above described algorithms for problematic focus detection, but instead of using constant thresholds, just update them as the video runs. Eventually they will converge to better values than a predefined constants.</li>\n</ol>\n\n<p>Last note: The focus detection problem in a single image is a very tough one. There are a lot of academic papers (using Fourier transform wavelets and other \"Big algorithmic cannons\"). But the problem remains very difficult because when you are looking at a blurred image you cannot know whether it is the camera that generated the blur with wrong focus, or the original reality is already blurred (for example, white walls are very blurry, pictures taken in a dark tend to be blurry even under perfect focus, pictures of water surface, table surface tend to be blurry). \nAnyway there are few threads in stack overflow regarding focus in the image. Like <a href=\"https://stackoverflow.com/questions/2134934/image-focus-calculation\">this one</a>. Please read them.</p>\n"},{"tags":[],"owner":{"account_id":4946599,"reputation":549,"user_id":3981779,"display_name":"pont"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1409123788,"creation_date":1409123788,"answer_id":25521062,"question_id":25444847,"body_markdown":"You can also compute the Fourier Transform of the image and then if there is a low  accumulation in the high frequencies bins, then the image is probably blurred. JTransform is a reasonable library that provides FFT&#39;s if you wish to travel down this route. \r\n\r\nThere is also a fairly extensive blog post [here][1] about different methods that could be used \r\n\r\nThere is also another stack overflow question [asking this but with OpenCV][2], OpenCV also has Java bindings and can be used in Android projects so this answer could also be helpful.\r\n\r\n  [1]: http://www.cardinalpeak.com/blog/detecting-well-focused-images/\r\n  [2]: https://stackoverflow.com/questions/7765810/is-there-a-way-to-detect-if-an-image-is-blurry","title":"Programmatically find shaky OR out-of-focus Images","body":"<p>You can also compute the Fourier Transform of the image and then if there is a low  accumulation in the high frequencies bins, then the image is probably blurred. JTransform is a reasonable library that provides FFT's if you wish to travel down this route. </p>\n\n<p>There is also a fairly extensive blog post <a href=\"http://www.cardinalpeak.com/blog/detecting-well-focused-images/\" rel=\"nofollow noreferrer\">here</a> about different methods that could be used </p>\n\n<p>There is also another stack overflow question <a href=\"https://stackoverflow.com/questions/7765810/is-there-a-way-to-detect-if-an-image-is-blurry\">asking this but with OpenCV</a>, OpenCV also has Java bindings and can be used in Android projects so this answer could also be helpful.</p>\n"}],"owner":{"account_id":245976,"reputation":16453,"user_id":519814,"accept_rate":94,"display_name":"C--"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4836,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":25465601,"answer_count":3,"score":10,"last_activity_date":1648725798,"creation_date":1408703168,"question_id":25444847,"body_markdown":"Most modern mobile cameras has a family of techniques called Image Stabilization to reduce shaky effects in photographs due the motion of the camera lens or associated hardware. But still quite a number of mobile cameras produce shaky photographs. Is there a reliable algorithm or method that can be implemented on mobile devices, specifically on Android for finding whether a given input image is shaky or not? I do not expect the algorithm to stabilize the input image, but the algorithm/method should reliably return a definitive boolean whether the image is shaky or not. It doesn&#39;t have to be Java, but can also be C/C++ so that one can build it through the native kit and expose the APIs to the top layer. The following illustration describes the expected result. Also, this question deals with single image problems, thus multiple frames based solutions won&#39;t work in this case. It is specifically about images, not videos.\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/vUOYE.jpg","title":"Programmatically find shaky OR out-of-focus Images","body":"<p>Most modern mobile cameras has a family of techniques called Image Stabilization to reduce shaky effects in photographs due the motion of the camera lens or associated hardware. But still quite a number of mobile cameras produce shaky photographs. Is there a reliable algorithm or method that can be implemented on mobile devices, specifically on Android for finding whether a given input image is shaky or not? I do not expect the algorithm to stabilize the input image, but the algorithm/method should reliably return a definitive boolean whether the image is shaky or not. It doesn't have to be Java, but can also be C/C++ so that one can build it through the native kit and expose the APIs to the top layer. The following illustration describes the expected result. Also, this question deals with single image problems, thus multiple frames based solutions won't work in this case. It is specifically about images, not videos.</p>\n\n<p><img src=\"https://i.stack.imgur.com/vUOYE.jpg\" alt=\"enter image description here\"></p>\n"},{"tags":["java","android","android-fragments"],"comments":[{"owner":{"account_id":12882725,"reputation":509,"user_id":9317258,"display_name":"V&#237;t Kapitola"},"score":0,"creation_date":1648725357,"post_id":71691304,"comment_id":126700258,"body_markdown":"You are mixing Jetpack Navigation API with the Fragment API. Try to navigate to the new fragment by the [Navigation API](https://developer.android.com/guide/navigation/navigation-navigate#id). Somethink like `Navigation.findNavController(view).navigate(R.id.viewTransactionsAction);` You will see what happens.","body":"You are mixing Jetpack Navigation API with the Fragment API. Try to navigate to the new fragment by the <a href=\"https://developer.android.com/guide/navigation/navigation-navigate#id\" rel=\"nofollow noreferrer\">Navigation API</a>. Somethink like <code>Navigation.findNavController(view).navigate(R.id.viewTransac&zwnj;&#8203;tionsAction);</code> You will see what happens."}],"answers":[{"tags":[],"owner":{"account_id":20859206,"reputation":17,"user_id":15321818,"display_name":"Nikolai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648725604,"creation_date":1648725604,"answer_id":71691583,"question_id":71691304,"body_markdown":"NavController navController = Navigation.findNavController(view);\r\nnavController.navigate(R.id.your_nav_fragment);","title":"Fragment ID didnt change after frament switching","body":"<p>NavController navController = Navigation.findNavController(view);\nnavController.navigate(R.id.your_nav_fragment);</p>\n"}],"owner":{"account_id":20859206,"reputation":17,"user_id":15321818,"display_name":"Nikolai"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648725604,"creation_date":1648724236,"question_id":71691304,"body_markdown":"I ran into a problem that after changing a fragment, the ID of the current fragment remains the same, but if I navigate between fragments via NavigationDrawer everything works fine  My application has a NavigationDrawer, and fragments id changing. I launch the fragment change from the Dashboard of the fragment by clicking on the CardView.\r\n\r\nI get the fragment id using the code in MainActivity:\r\n\r\n```\r\nNavDestination current = NavHostFragment.findNavController(Objects.requireNonNull(Objects.requireNonNull(getSupportFragmentManager().getPrimaryNavigationFragment()).getFragmentManager()).getFragments().get(0)).getCurrentDestination();\r\nint tagid = current.getId();\r\n```\r\n\r\nI perform a fragment change using the following code:\r\n\r\n```\r\n switchFragment(new LastOperFragment());\r\n```\r\n\r\nMethod:\r\n\r\n```\r\npublic void switchFragment(Fragment fragment)\r\n    {\r\n        FragmentManager fm = getFragmentManager();\r\n        fm.beginTransaction()\r\n                .replace(R.id.nav_host_fragment, fragment)\r\n                .addToBackStack(null)\r\n                .commit();\r\n    }\r\n\r\n```\r\n\r\nWhat am I doing wrong?","title":"Fragment ID didnt change after frament switching","body":"<p>I ran into a problem that after changing a fragment, the ID of the current fragment remains the same, but if I navigate between fragments via NavigationDrawer everything works fine  My application has a NavigationDrawer, and fragments id changing. I launch the fragment change from the Dashboard of the fragment by clicking on the CardView.</p>\n<p>I get the fragment id using the code in MainActivity:</p>\n<pre><code>NavDestination current = NavHostFragment.findNavController(Objects.requireNonNull(Objects.requireNonNull(getSupportFragmentManager().getPrimaryNavigationFragment()).getFragmentManager()).getFragments().get(0)).getCurrentDestination();\nint tagid = current.getId();\n</code></pre>\n<p>I perform a fragment change using the following code:</p>\n<pre><code> switchFragment(new LastOperFragment());\n</code></pre>\n<p>Method:</p>\n<pre><code>public void switchFragment(Fragment fragment)\n    {\n        FragmentManager fm = getFragmentManager();\n        fm.beginTransaction()\n                .replace(R.id.nav_host_fragment, fragment)\n                .addToBackStack(null)\n                .commit();\n    }\n\n</code></pre>\n<p>What am I doing wrong?</p>\n"},{"tags":["java","jboss","cxf","wsat"],"answers":[{"tags":[],"owner":{"account_id":8720587,"reputation":163,"user_id":6523875,"display_name":"StudentOfTheGame"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648725278,"creation_date":1648725278,"answer_id":71691519,"question_id":71569691,"body_markdown":"Turns out the only way to do this is to bundle an older version of Apache CXF in jboss as shown below:\r\n\r\nhttps://access.redhat.com/solutions/803623","title":"How do i configure WSAT version in JBoss?","body":"<p>Turns out the only way to do this is to bundle an older version of Apache CXF in jboss as shown below:</p>\n<p><a href=\"https://access.redhat.com/solutions/803623\" rel=\"nofollow noreferrer\">https://access.redhat.com/solutions/803623</a></p>\n"}],"owner":{"account_id":8720587,"reputation":163,"user_id":6523875,"display_name":"StudentOfTheGame"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71691519,"answer_count":1,"score":0,"last_activity_date":1648725278,"creation_date":1647941348,"question_id":71569691,"body_markdown":"I am using a CXF client to implement a WSAT web service call. The following namespace is added on the outbound coordination context header:\r\n\r\nwscoor=&quot;http://docs.oasis-open.org/ws-tx/wscoor/2006/06&quot;\r\n\r\nThis namespace is used by WSAT 1.2. How can i configure either the client or JBoss to use WSAT 1.0?\r\n","title":"How do i configure WSAT version in JBoss?","body":"<p>I am using a CXF client to implement a WSAT web service call. The following namespace is added on the outbound coordination context header:</p>\n<p>wscoor=&quot;http://docs.oasis-open.org/ws-tx/wscoor/2006/06&quot;</p>\n<p>This namespace is used by WSAT 1.2. How can i configure either the client or JBoss to use WSAT 1.0?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1648725179,"post_id":71691452,"comment_id":126700207,"body_markdown":"You would start by reading a tutorial on Java Generics, like: https://docs.oracle.com/javase/tutorial/java/generics/why.html","body":"You would start by reading a tutorial on Java Generics, like: <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/why.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/generics/why.html</a>"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":2,"creation_date":1648725231,"post_id":71691452,"comment_id":126700219,"body_markdown":"It is pretty simple: unless you further specify that T generic type, it boils down to java.lang.Object. Object does not have a method `bingoString()`. That is all there is to this.","body":"It is pretty simple: unless you further specify that T generic type, it boils down to java.lang.Object. Object does not have a method <code>bingoString()</code>. That is all there is to this."}],"answers":[{"tags":[],"owner":{"account_id":227916,"reputation":2970,"user_id":489872,"accept_rate":86,"display_name":"ave4496"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648725192,"creation_date":1648725192,"answer_id":71691499,"question_id":71691452,"body_markdown":"The T is a generic type. In your case it&#39;s the Object class which doesn&#39;t have a method called bingoString. You need to create a class which has this method for the template. E.g.:\r\n\r\n    // still your class\r\n\tclass Pingo&lt;T extends Blub&gt; {\r\n\t\tpublic void dingo(T t) {\r\n\t\t\tSystem.out.println(t.bingoString());\r\n\t\t}\r\n\t}\r\n    // a class which provides the signature\r\n\tclass Blub {\r\n\t\tpublic String bingoString() {\r\n\t\t\treturn &quot;test&quot;;\r\n\t\t}\r\n\t}","title":"How to make the code compile and preserve functionality?","body":"<p>The T is a generic type. In your case it's the Object class which doesn't have a method called bingoString. You need to create a class which has this method for the template. E.g.:</p>\n<pre><code>// still your class\nclass Pingo&lt;T extends Blub&gt; {\n    public void dingo(T t) {\n        System.out.println(t.bingoString());\n    }\n}\n// a class which provides the signature\nclass Blub {\n    public String bingoString() {\n        return &quot;test&quot;;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23500945,"reputation":15,"user_id":17550838,"display_name":"FallenA"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1648732848,"accepted_answer_id":71691499,"answer_count":1,"score":-3,"last_activity_date":1648725192,"creation_date":1648724935,"question_id":71691452,"body_markdown":"i am new into java.. How do i fix this, so it will compile and preserve the functionality without changing dingo method. So this code should check if Pingo is a valid class.\r\n\r\n\r\n    class Pingo&lt;T&gt; {\r\n        public void dingo(T t ) {\r\n            System.out.println(t.bingoString( )) ;\r\n        }\r\n    }","title":"How to make the code compile and preserve functionality?","body":"<p>i am new into java.. How do i fix this, so it will compile and preserve the functionality without changing dingo method. So this code should check if Pingo is a valid class.</p>\n<pre><code>class Pingo&lt;T&gt; {\n    public void dingo(T t ) {\n        System.out.println(t.bingoString( )) ;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","polymorphism","spring-environment"],"comments":[{"owner":{"account_id":178596,"reputation":10817,"user_id":410677,"accept_rate":78,"display_name":"kuhajeyan"},"score":0,"creation_date":1476784714,"post_id":40105044,"comment_id":67481821,"body_markdown":"how will change the value in properties to myinterface.type=implB, and how will the system to get know you done/finished changed a value","body":"how will change the value in properties to myinterface.type=implB, and how will the system to get know you done/finished changed a value"},{"owner":{"account_id":7637185,"reputation":2467,"user_id":5790398,"display_name":"eg04lt3r"},"score":1,"creation_date":1476784856,"post_id":40105044,"comment_id":67481939,"body_markdown":"Also how application should figure out case when already injected dependency in use and you force swap of implementation? Also what is the main aim of this approach?","body":"Also how application should figure out case when already injected dependency in use and you force swap of implementation? Also what is the main aim of this approach?"},{"owner":{"account_id":476430,"reputation":11691,"user_id":887343,"accept_rate":77,"display_name":"forhas"},"score":0,"creation_date":1476784882,"post_id":40105044,"comment_id":67481955,"body_markdown":"@kuhajeyan Assume that I know that (for example using a WatchService), this is not the challenge here.","body":"@kuhajeyan Assume that I know that (for example using a WatchService), this is not the challenge here."},{"owner":{"account_id":476430,"reputation":11691,"user_id":887343,"accept_rate":77,"display_name":"forhas"},"score":0,"creation_date":1476785096,"post_id":40105044,"comment_id":67482088,"body_markdown":"@eg04lt3r - My question is how to do the swap. The main purpose is to be able to change application behavior in runtime based on configuration. Imagine that ImplA and ImplB are running 2 different calculation algorithms, when the app starts I use ImplA algorithm and after a while would like to use algorithm of ImplB (meaning to inject ImplB instead of ImplA).","body":"@eg04lt3r - My question is how to do the swap. The main purpose is to be able to change application behavior in runtime based on configuration. Imagine that ImplA and ImplB are running 2 different calculation algorithms, when the app starts I use ImplA algorithm and after a while would like to use algorithm of ImplB (meaning to inject ImplB instead of ImplA)."},{"owner":{"account_id":269622,"reputation":58936,"user_id":559070,"accept_rate":74,"display_name":"Harry Joy"},"score":0,"creation_date":1476785254,"post_id":40105044,"comment_id":67482190,"body_markdown":"I don&#39;t know why, but your problem sounds more like a factory design to me. I might just go ahead and create a factory and handle it there instead of complex dynamic switch of interface runtime. I am not sure about your problem, so there is a possibility that I might be getting it wrong.","body":"I don&#39;t know why, but your problem sounds more like a factory design to me. I might just go ahead and create a factory and handle it there instead of complex dynamic switch of interface runtime. I am not sure about your problem, so there is a possibility that I might be getting it wrong."},{"owner":{"account_id":7637185,"reputation":2467,"user_id":5790398,"display_name":"eg04lt3r"},"score":0,"creation_date":1476785450,"post_id":40105044,"comment_id":67482312,"body_markdown":"I agreed with Harry. Imagine that automobile factory should change personal only for production of a little bit changed automobiles.","body":"I agreed with Harry. Imagine that automobile factory should change personal only for production of a little bit changed automobiles."},{"owner":{"account_id":476430,"reputation":11691,"user_id":887343,"accept_rate":77,"display_name":"forhas"},"score":0,"creation_date":1476785463,"post_id":40105044,"comment_id":67482318,"body_markdown":"@HarryJoy I agree this could be solved by injecting a factory while this factory will query for the property value and return the right implementation. But this means I need to repeatedly query this property for each request. Maybe that is not so bad, but I would like to see if we can come up with other ideas.","body":"@HarryJoy I agree this could be solved by injecting a factory while this factory will query for the property value and return the right implementation. But this means I need to repeatedly query this property for each request. Maybe that is not so bad, but I would like to see if we can come up with other ideas."},{"owner":{"account_id":7637185,"reputation":2467,"user_id":5790398,"display_name":"eg04lt3r"},"score":1,"creation_date":1476785603,"post_id":40105044,"comment_id":67482417,"body_markdown":"@forhas, please check this link: http://stackoverflow.com/questions/12800769/replace-spring-bean-in-one-context-with-mock-version-from-another-context. It might be helpful for you. But its really dark way swap bean implementation in runtime. Your problem should be resolved by correct design pattern.","body":"@forhas, please check this link: <a href=\"http://stackoverflow.com/questions/12800769/replace-spring-bean-in-one-context-with-mock-version-from-another-context\" title=\"replace spring bean in one context with mock version from another context\">stackoverflow.com/questions/12800769/&hellip;</a>. It might be helpful for you. But its really dark way swap bean implementation in runtime. Your problem should be resolved by correct design pattern."},{"owner":{"account_id":476430,"reputation":11691,"user_id":887343,"accept_rate":77,"display_name":"forhas"},"score":0,"creation_date":1476785909,"post_id":40105044,"comment_id":67482625,"body_markdown":"@eg04lt3r Thanks! I did try to play around quite a lot with closing/refreshing context, also recreating a new context.. It led to weird problems, also I&#39;m not sure how the application reacts during context close (requests are probably refused).","body":"@eg04lt3r Thanks! I did try to play around quite a lot with closing/refreshing context, also recreating a new context.. It led to weird problems, also I&#39;m not sure how the application reacts during context close (requests are probably refused)."},{"owner":{"account_id":7637185,"reputation":2467,"user_id":5790398,"display_name":"eg04lt3r"},"score":1,"creation_date":1476786361,"post_id":40105044,"comment_id":67482886,"body_markdown":"@forhas, there is good answer on similar question: http://stackoverflow.com/questions/21221125/spring-context-dynamic-change","body":"@forhas, there is good answer on similar question: <a href=\"http://stackoverflow.com/questions/21221125/spring-context-dynamic-change\" title=\"spring context dynamic change\">stackoverflow.com/questions/21221125/&hellip;</a>"},{"owner":{"account_id":476430,"reputation":11691,"user_id":887343,"accept_rate":77,"display_name":"forhas"},"score":0,"creation_date":1476786849,"post_id":40105044,"comment_id":67483214,"body_markdown":"@eg04lt3r Indeed this looks like a very detailed answer, I will have a look and give it a shot.","body":"@eg04lt3r Indeed this looks like a very detailed answer, I will have a look and give it a shot."},{"owner":{"account_id":1521409,"reputation":6658,"user_id":1420941,"display_name":"stringy05"},"score":0,"creation_date":1478134541,"post_id":40105044,"comment_id":68035847,"body_markdown":"have you tried spring-plugin? It markets itself as &quot;OSGi lite&quot;","body":"have you tried spring-plugin? It markets itself as &quot;OSGi lite&quot;"}],"answers":[{"tags":[],"owner":{"account_id":953039,"reputation":3615,"user_id":978826,"accept_rate":90,"display_name":"Dennis Ich"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1476790746,"creation_date":1476790746,"answer_id":40107247,"question_id":40105044,"body_markdown":"You can use Spring @Conditional on a property value. Give both Beans the same name and it should work as only one Instance will be created.\r\n\r\nHave a look here on how to use @Conditional on Services and Components:\r\nhttp://blog.codeleak.pl/2015/11/how-to-register-components-using.html","title":"Inject spring bean dynamically","body":"<p>You can use Spring @Conditional on a property value. Give both Beans the same name and it should work as only one Instance will be created.</p>\n\n<p>Have a look here on how to use @Conditional on Services and Components:\n<a href=\"http://blog.codeleak.pl/2015/11/how-to-register-components-using.html\" rel=\"nofollow\">http://blog.codeleak.pl/2015/11/how-to-register-components-using.html</a></p>\n"},{"tags":[],"owner":{"account_id":9181659,"reputation":1746,"user_id":6825250,"display_name":"Sergey Bespalov"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1504483254,"creation_date":1476848368,"answer_id":40121702,"question_id":40105044,"body_markdown":"If I understand you correctly then the goal is not to replace injected object instances but to use different implementations during interface method call depends on some condition at run time.\r\n\r\nIf it is so then you can try to look at the `Sring` [TargetSource](http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/aop/TargetSource.html) mechanism in combination with [ProxyFactoryBean](http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/aop/framework/ProxyFactoryBean.html). The point is that proxy objects will be injected to beans that uses your interface, and all the interface method calls will be sent to `TargetSource` target.\r\n\r\n&gt; Let&#39;s call this &quot;Polymorphic Proxy&quot;.\r\n\r\nHave a look at example below:\r\n\r\n**ConditionalTargetSource.java**\r\n\r\n\t@Component\r\n\tpublic class ConditionalTargetSource implements TargetSource {\r\n\t\r\n\t\t@Autowired\r\n\t    private MyRegistry registry;\r\n\t    \r\n\t\t@Override\r\n\t    public Class&lt;?&gt; getTargetClass() {\r\n\t        return MyInterface.class;\r\n\t    }\r\n\t\r\n\t    @Override\r\n\t    public boolean isStatic() {\r\n\t        return false;\r\n\t    }\r\n\t\r\n\t    @Override\r\n\t    public Object getTarget() throws Exception {\r\n\t        return registry.getMyInterface();\r\n\t    }\r\n\t\r\n\t    @Override\r\n\t    public void releaseTarget(Object target) throws Exception {\r\n\t    \t//Do some staff here if you want to release something related to interface instances that was created with MyRegistry.\r\n\t    }\r\n\t\r\n\t}\r\n\r\n**applicationContext.xml**\r\n\r\n    &lt;bean id=&quot;myInterfaceFactoryBean&quot; class=&quot;org.springframework.aop.framework.ProxyFactoryBean&quot;&gt;\r\n        &lt;property name=&quot;proxyInterfaces&quot; value=&quot;MyInterface&quot;/&gt;\r\n        &lt;property name=&quot;targetSource&quot; ref=&quot;conditionalTargetSource&quot;/&gt;\r\n    &lt;/bean&gt;\r\n    &lt;bean name=&quot;conditionalTargetSource&quot; class=&quot;ConditionalTargetSource&quot;/&gt;\r\n    \r\n**SomeService.java**\r\n\r\n    @Service\r\n    public class SomeService {\r\n    \r\n      @Autowired\r\n      private MyInterface myInterfaceBean;\r\n    \r\n      public void foo(){\r\n          //Here we have `myInterfaceBean` proxy that will do `conditionalTargetSource.getTarget().bar()`\r\n          myInterfaceBean.bar();\r\n      }\r\n    \r\n    }\r\n\r\nAlso if you want to have both `MyInterface` implementations to be Spring beans, and the Spring context could not contains both instances at the same time then you can try to use [ServiceLocatorFactoryBean](http://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/config/ServiceLocatorFactoryBean.html) with `prototype` target beans scope and `Conditional` annotation on target implementation classes. This approach can be used instead of `MyRegistry`.\r\n\r\n**P.S.**\r\nProbably Application Context refresh operation also can do what you want but it can cause other problems such as performance overheads.","title":"Inject spring bean dynamically","body":"<p>If I understand you correctly then the goal is not to replace injected object instances but to use different implementations during interface method call depends on some condition at run time.</p>\n\n<p>If it is so then you can try to look at the <code>Sring</code> <a href=\"http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/aop/TargetSource.html\" rel=\"noreferrer\">TargetSource</a> mechanism in combination with <a href=\"http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/aop/framework/ProxyFactoryBean.html\" rel=\"noreferrer\">ProxyFactoryBean</a>. The point is that proxy objects will be injected to beans that uses your interface, and all the interface method calls will be sent to <code>TargetSource</code> target.</p>\n\n<blockquote>\n  <p>Let's call this \"Polymorphic Proxy\".</p>\n</blockquote>\n\n<p>Have a look at example below:</p>\n\n<p><strong>ConditionalTargetSource.java</strong></p>\n\n<pre><code>@Component\npublic class ConditionalTargetSource implements TargetSource {\n\n    @Autowired\n    private MyRegistry registry;\n\n    @Override\n    public Class&lt;?&gt; getTargetClass() {\n        return MyInterface.class;\n    }\n\n    @Override\n    public boolean isStatic() {\n        return false;\n    }\n\n    @Override\n    public Object getTarget() throws Exception {\n        return registry.getMyInterface();\n    }\n\n    @Override\n    public void releaseTarget(Object target) throws Exception {\n        //Do some staff here if you want to release something related to interface instances that was created with MyRegistry.\n    }\n\n}\n</code></pre>\n\n<p><strong>applicationContext.xml</strong></p>\n\n<pre><code>&lt;bean id=\"myInterfaceFactoryBean\" class=\"org.springframework.aop.framework.ProxyFactoryBean\"&gt;\n    &lt;property name=\"proxyInterfaces\" value=\"MyInterface\"/&gt;\n    &lt;property name=\"targetSource\" ref=\"conditionalTargetSource\"/&gt;\n&lt;/bean&gt;\n&lt;bean name=\"conditionalTargetSource\" class=\"ConditionalTargetSource\"/&gt;\n</code></pre>\n\n<p><strong>SomeService.java</strong></p>\n\n<pre><code>@Service\npublic class SomeService {\n\n  @Autowired\n  private MyInterface myInterfaceBean;\n\n  public void foo(){\n      //Here we have `myInterfaceBean` proxy that will do `conditionalTargetSource.getTarget().bar()`\n      myInterfaceBean.bar();\n  }\n\n}\n</code></pre>\n\n<p>Also if you want to have both <code>MyInterface</code> implementations to be Spring beans, and the Spring context could not contains both instances at the same time then you can try to use <a href=\"http://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/config/ServiceLocatorFactoryBean.html\" rel=\"noreferrer\">ServiceLocatorFactoryBean</a> with <code>prototype</code> target beans scope and <code>Conditional</code> annotation on target implementation classes. This approach can be used instead of <code>MyRegistry</code>.</p>\n\n<p><strong>P.S.</strong>\nProbably Application Context refresh operation also can do what you want but it can cause other problems such as performance overheads.</p>\n"},{"tags":[],"owner":{"account_id":5019425,"reputation":7741,"user_id":4033292,"accept_rate":81,"display_name":"Derrops"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1478061801,"creation_date":1478041676,"answer_id":40370005,"question_id":40105044,"body_markdown":"This may be a duplicate question or at least very similar, anyway I answered this sort of question here: https://stackoverflow.com/questions/40229727/spring-bean-partial-autowire-prototype-constructor/40229985#40229985 \r\n\r\nPretty much when you want a different beans for a dependency at run-time you need to use a prototype scope. Then you can use a configuration to return different implementations of the prototype bean. You will need to handle the logic on which implementation to return yourself, (they could even be returning 2 different singleton beans it doesn&#39;t matter) But say you want new beans, and the logic for returning the implementation is in a bean called `SomeBeanWithLogic.isSomeBooleanExpression()`, then you can make a configuration:\r\n\r\n    @Configuration\r\n    public class SpringConfiguration\r\n    {\r\n    \r\n    \t@Bean\r\n    \t@Autowired\r\n    \t@Scope(&quot;prototype&quot;)\r\n    \tpublic MyInterface createBean(SomeBeanWithLogic someBeanWithLogic )\r\n    \t{\r\n    \t\tif (someBeanWithLogic .isSomeBooleanExpression())\r\n    \t\t{\r\n    \t\t\treturn new ImplA(); // I could be a singleton bean\r\n    \t\t}\r\n    \t\telse\r\n    \t\t{\r\n    \t\t\treturn new ImplB();  // I could also be a singleton bean\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nThere should never be a need to reload the context. If for instance, you want the implementation of a bean to change at run-time, use the above. If you really need to reload your application, because this bean was used in constructors of a singleton bean or something weird, then you need to re-think your design, and if these beans are really singleton beans. You shouldn&#39;t be reloading the context to re-create singleton beans to achieve different run-time behavior, that is not needed.\r\n\r\n**Edit** The first part of this answer answered the question about dynamically injecting beans. As asked, but I think the question is more of one: &#39;how can I change the implementation of a singleton bean at run-time&#39;. This could be done with a proxy design pattern.\r\n\r\n\tinterface MyInterface \r\n\t{\r\n\t\tpublic String doStuff();\r\n\t}\r\n\r\n    @Component\r\n    public class Bean implements MyInterface\r\n    {\r\n    \tboolean todo = false; // change me as needed\r\n    \t\r\n    \t// autowire implementations or create instances within this class as needed\r\n    \t@Qualifier(&quot;implA&quot;)\r\n    \t@Autowired\r\n    \tMyInterface implA;\r\n    \t\r\n    \t@Qualifier(&quot;implB&quot;)\r\n    \t@Autowired\r\n    \tMyInterface implB;\r\n    \t\r\n    \tpublic String doStuff()\r\n    \t{\r\n    \t\tif (todo)\r\n    \t\t{\r\n    \t\t\treturn implA.doStuff();\r\n    \t\t}\r\n    \t\telse\r\n    \t\t{\r\n    \t\t\treturn implB.doStuff();\r\n    \t\t}\r\n    \t}\t\r\n    }\r\n\r\n","title":"Inject spring bean dynamically","body":"<p>This may be a duplicate question or at least very similar, anyway I answered this sort of question here: <a href=\"https://stackoverflow.com/questions/40229727/spring-bean-partial-autowire-prototype-constructor/40229985#40229985\">Spring bean partial autowire prototype constructor</a> </p>\n\n<p>Pretty much when you want a different beans for a dependency at run-time you need to use a prototype scope. Then you can use a configuration to return different implementations of the prototype bean. You will need to handle the logic on which implementation to return yourself, (they could even be returning 2 different singleton beans it doesn't matter) But say you want new beans, and the logic for returning the implementation is in a bean called <code>SomeBeanWithLogic.isSomeBooleanExpression()</code>, then you can make a configuration:</p>\n\n<pre><code>@Configuration\npublic class SpringConfiguration\n{\n\n    @Bean\n    @Autowired\n    @Scope(\"prototype\")\n    public MyInterface createBean(SomeBeanWithLogic someBeanWithLogic )\n    {\n        if (someBeanWithLogic .isSomeBooleanExpression())\n        {\n            return new ImplA(); // I could be a singleton bean\n        }\n        else\n        {\n            return new ImplB();  // I could also be a singleton bean\n        }\n    }\n}\n</code></pre>\n\n<p>There should never be a need to reload the context. If for instance, you want the implementation of a bean to change at run-time, use the above. If you really need to reload your application, because this bean was used in constructors of a singleton bean or something weird, then you need to re-think your design, and if these beans are really singleton beans. You shouldn't be reloading the context to re-create singleton beans to achieve different run-time behavior, that is not needed.</p>\n\n<p><strong>Edit</strong> The first part of this answer answered the question about dynamically injecting beans. As asked, but I think the question is more of one: 'how can I change the implementation of a singleton bean at run-time'. This could be done with a proxy design pattern.</p>\n\n<pre><code>interface MyInterface \n{\n    public String doStuff();\n}\n\n@Component\npublic class Bean implements MyInterface\n{\n    boolean todo = false; // change me as needed\n\n    // autowire implementations or create instances within this class as needed\n    @Qualifier(\"implA\")\n    @Autowired\n    MyInterface implA;\n\n    @Qualifier(\"implB\")\n    @Autowired\n    MyInterface implB;\n\n    public String doStuff()\n    {\n        if (todo)\n        {\n            return implA.doStuff();\n        }\n        else\n        {\n            return implB.doStuff();\n        }\n    }   \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2111403,"reputation":33698,"user_id":1876620,"accept_rate":94,"display_name":"fps"},"down_vote_count":1,"up_vote_count":33,"is_accepted":false,"score":32,"last_activity_date":1478056050,"creation_date":1478054928,"answer_id":40371708,"question_id":40105044,"body_markdown":"I would keep this task as simple as possible. Instead of conditionally load one implementation of the `MyInterface` interface at startup and then fire an event that triggers dynamic loading of another implementation of the same interface, I would tackle this problem in a different way, that is much simpler to implement and maintain.\r\n\r\nFirst of all, I&#39;d just load all possible implementations:\r\n\r\n    @Component\r\n    public class MyInterfaceImplementationsHolder {\r\n    \r\n        @Autowired\r\n        private Map&lt;String, MyInterface&gt; implementations;\r\n    \r\n        public MyInterface get(String impl) {\r\n            return this.implementations.get(impl);\r\n        }\r\n    }\r\n\r\nThis bean is just a holder for all implementations of the `MyInterface` interface. Nothing magic here, just common Spring autowiring behavior.\r\n\r\nNow, wherever you need to inject a specific implementation of `MyInterface`, you could do it with the help of an interface:\r\n\r\n    public interface MyInterfaceReloader {\r\n    \r\n        void changeImplementation(MyInterface impl);\r\n    }\r\n\r\nThen, for every class that needs to be *notified* of a change of the implementation, just make it implement the `MyInterfaceReloader` interface. For instance:\r\n\r\n    @Component\r\n    public class SomeBean implements MyInterfaceReloader {\r\n    \r\n        // Do not autowire\r\n        private MyInterface myInterface;\r\n    \r\n        @Override\r\n        public void changeImplementation(MyInterface impl) {\r\n            this.myInterface = impl;\r\n        }\r\n    }\r\n\r\nFinally, you need a bean that actually changes the implementation in every bean that has `MyInterface` as an attribute:\r\n\r\n    @Component\r\n    public class MyInterfaceImplementationUpdater {\r\n    \r\n        @Autowired\r\n        private Map&lt;String, MyInterfaceReloader&gt; reloaders;\r\n    \r\n        @Autowired\r\n        private MyInterfaceImplementationsHolder holder;\r\n    \r\n        public void updateImplementations(String implBeanName) {\r\n            this.reloaders.forEach((k, v) -&gt; \r\n                v.changeImplementation(this.holder.get(implBeanName)));\r\n        }\r\n    }\r\n\r\nThis simply autowires all beans that implement the `MyInterfaceReloader` interface and updates each one of them with the new implementation, which is retrieved from the holder and passed as an argument. Again, common Spring autowiring rules.\r\n\r\nWhenever you want the implementation to be changed, you should just invoke the `updateImplementations` method with the name of the bean of the new implementation, which is the lower camel case simple name of the class, i.e. `myImplA` or `myImplB` for classes `MyImplA` and `MyImplB`.\r\n\r\nYou should also invoke this method at startup, so that an initial implementation is set on every bean that implements the `MyInterfaceReloader` interface.\r\n","title":"Inject spring bean dynamically","body":"<p>I would keep this task as simple as possible. Instead of conditionally load one implementation of the <code>MyInterface</code> interface at startup and then fire an event that triggers dynamic loading of another implementation of the same interface, I would tackle this problem in a different way, that is much simpler to implement and maintain.</p>\n\n<p>First of all, I'd just load all possible implementations:</p>\n\n<pre><code>@Component\npublic class MyInterfaceImplementationsHolder {\n\n    @Autowired\n    private Map&lt;String, MyInterface&gt; implementations;\n\n    public MyInterface get(String impl) {\n        return this.implementations.get(impl);\n    }\n}\n</code></pre>\n\n<p>This bean is just a holder for all implementations of the <code>MyInterface</code> interface. Nothing magic here, just common Spring autowiring behavior.</p>\n\n<p>Now, wherever you need to inject a specific implementation of <code>MyInterface</code>, you could do it with the help of an interface:</p>\n\n<pre><code>public interface MyInterfaceReloader {\n\n    void changeImplementation(MyInterface impl);\n}\n</code></pre>\n\n<p>Then, for every class that needs to be <em>notified</em> of a change of the implementation, just make it implement the <code>MyInterfaceReloader</code> interface. For instance:</p>\n\n<pre><code>@Component\npublic class SomeBean implements MyInterfaceReloader {\n\n    // Do not autowire\n    private MyInterface myInterface;\n\n    @Override\n    public void changeImplementation(MyInterface impl) {\n        this.myInterface = impl;\n    }\n}\n</code></pre>\n\n<p>Finally, you need a bean that actually changes the implementation in every bean that has <code>MyInterface</code> as an attribute:</p>\n\n<pre><code>@Component\npublic class MyInterfaceImplementationUpdater {\n\n    @Autowired\n    private Map&lt;String, MyInterfaceReloader&gt; reloaders;\n\n    @Autowired\n    private MyInterfaceImplementationsHolder holder;\n\n    public void updateImplementations(String implBeanName) {\n        this.reloaders.forEach((k, v) -&gt; \n            v.changeImplementation(this.holder.get(implBeanName)));\n    }\n}\n</code></pre>\n\n<p>This simply autowires all beans that implement the <code>MyInterfaceReloader</code> interface and updates each one of them with the new implementation, which is retrieved from the holder and passed as an argument. Again, common Spring autowiring rules.</p>\n\n<p>Whenever you want the implementation to be changed, you should just invoke the <code>updateImplementations</code> method with the name of the bean of the new implementation, which is the lower camel case simple name of the class, i.e. <code>myImplA</code> or <code>myImplB</code> for classes <code>MyImplA</code> and <code>MyImplB</code>.</p>\n\n<p>You should also invoke this method at startup, so that an initial implementation is set on every bean that implements the <code>MyInterfaceReloader</code> interface.</p>\n"},{"tags":[],"owner":{"account_id":2487219,"reputation":3759,"user_id":2165447,"display_name":"eltabo"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1478157683,"creation_date":1478082638,"answer_id":40377675,"question_id":40105044,"body_markdown":"I  solved a similar issue by using org.apache.commons.configuration.PropertiesConfiguration and org.springframework.beans.factory.config.ServiceLocatorFactoryBean:\r\n\r\nLet VehicleRepairService be an interface:\r\n\r\n    public interface VehicleRepairService {\r\n    \tvoid repair();\r\n    }\r\n\r\nand CarRepairService and TruckRepairService two classes that implements it:\r\n\r\n    public class CarRepairService implements VehicleRepairService {\r\n    \t@Override\r\n    \tpublic void repair() {\r\n    \t\tSystem.out.println(&quot;repair a car&quot;);\r\n    \t}\r\n    }\r\n\r\n    public class TruckRepairService implements VehicleRepairService {\r\n    \t@Override\r\n    \tpublic void repair() {\r\n    \t\tSystem.out.println(&quot;repair a truck&quot;);\r\n    \t}\r\n    }\r\n\r\nI create an interface for a service factory:\r\n\r\n    public interface VehicleRepairServiceFactory {\r\n    \tVehicleRepairService getRepairService(String serviceType);\r\n    }\r\n\r\nLet use Config as configuration class:\r\n\r\n    @Configuration()\r\n    @ComponentScan(basePackages = &quot;config.test&quot;)\r\n    public class Config {\r\n    \t@Bean \r\n    \tpublic PropertiesConfiguration configuration(){\r\n    \t\ttry {\r\n    \t\t\tPropertiesConfiguration configuration = new PropertiesConfiguration(&quot;example.properties&quot;);\r\n    \t\t\tconfiguration\r\n    \t\t\t\t\t.setReloadingStrategy(new FileChangedReloadingStrategy());\r\n    \t\t\treturn configuration;\r\n    \t\t} catch (ConfigurationException e) {\r\n    \t\t\tthrow new IllegalStateException(e);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic ServiceLocatorFactoryBean serviceLocatorFactoryBean() {\r\n    \t\tServiceLocatorFactoryBean serviceLocatorFactoryBean = new ServiceLocatorFactoryBean();\r\n    \t\tserviceLocatorFactoryBean\r\n    \t\t\t\t.setServiceLocatorInterface(VehicleRepairServiceFactory.class);\r\n    \t\treturn serviceLocatorFactoryBean;\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic CarRepairService carRepairService() {\r\n    \t\treturn new CarRepairService();\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic TruckRepairService truckRepairService() {\r\n    \t\treturn new TruckRepairService();\r\n    \t}\r\n\r\n    \t@Bean\r\n    \tpublic SomeService someService(){\r\n    \t    return new SomeService();\r\n    \t}\r\n    }\r\n\r\nBy using *FileChangedReloadingStrategy* your configuration be reload when you change the property file.\r\n\r\n    service=truckRepairService\r\n    #service=carRepairService\r\n\r\nHaving the configuration and the factory in your service, let you can get the appropriate service from the factory using the current value of the property.\r\n\r\n    @Service\r\n    public class SomeService  {\r\n    \r\n        @Autowired\r\n        private VehicleRepairServiceFactory factory;\r\n        \r\n        @Autowired \r\n        private PropertiesConfiguration configuration;\r\n    \r\n    \r\n        public void doSomething() {\r\n        \tString service = configuration.getString(&quot;service&quot;);\r\n            \r\n            VehicleRepairService vehicleRepairService = factory.getRepairService(service);\r\n            vehicleRepairService.repair();\r\n        }\r\n    }\r\n\r\nHope it helps.","title":"Inject spring bean dynamically","body":"<p>I  solved a similar issue by using org.apache.commons.configuration.PropertiesConfiguration and org.springframework.beans.factory.config.ServiceLocatorFactoryBean:</p>\n\n<p>Let VehicleRepairService be an interface:</p>\n\n<pre><code>public interface VehicleRepairService {\n    void repair();\n}\n</code></pre>\n\n<p>and CarRepairService and TruckRepairService two classes that implements it:</p>\n\n<pre><code>public class CarRepairService implements VehicleRepairService {\n    @Override\n    public void repair() {\n        System.out.println(\"repair a car\");\n    }\n}\n\npublic class TruckRepairService implements VehicleRepairService {\n    @Override\n    public void repair() {\n        System.out.println(\"repair a truck\");\n    }\n}\n</code></pre>\n\n<p>I create an interface for a service factory:</p>\n\n<pre><code>public interface VehicleRepairServiceFactory {\n    VehicleRepairService getRepairService(String serviceType);\n}\n</code></pre>\n\n<p>Let use Config as configuration class:</p>\n\n<pre><code>@Configuration()\n@ComponentScan(basePackages = \"config.test\")\npublic class Config {\n    @Bean \n    public PropertiesConfiguration configuration(){\n        try {\n            PropertiesConfiguration configuration = new PropertiesConfiguration(\"example.properties\");\n            configuration\n                    .setReloadingStrategy(new FileChangedReloadingStrategy());\n            return configuration;\n        } catch (ConfigurationException e) {\n            throw new IllegalStateException(e);\n        }\n    }\n\n    @Bean\n    public ServiceLocatorFactoryBean serviceLocatorFactoryBean() {\n        ServiceLocatorFactoryBean serviceLocatorFactoryBean = new ServiceLocatorFactoryBean();\n        serviceLocatorFactoryBean\n                .setServiceLocatorInterface(VehicleRepairServiceFactory.class);\n        return serviceLocatorFactoryBean;\n    }\n\n    @Bean\n    public CarRepairService carRepairService() {\n        return new CarRepairService();\n    }\n\n    @Bean\n    public TruckRepairService truckRepairService() {\n        return new TruckRepairService();\n    }\n\n    @Bean\n    public SomeService someService(){\n        return new SomeService();\n    }\n}\n</code></pre>\n\n<p>By using <em>FileChangedReloadingStrategy</em> your configuration be reload when you change the property file.</p>\n\n<pre><code>service=truckRepairService\n#service=carRepairService\n</code></pre>\n\n<p>Having the configuration and the factory in your service, let you can get the appropriate service from the factory using the current value of the property.</p>\n\n<pre><code>@Service\npublic class SomeService  {\n\n    @Autowired\n    private VehicleRepairServiceFactory factory;\n\n    @Autowired \n    private PropertiesConfiguration configuration;\n\n\n    public void doSomething() {\n        String service = configuration.getString(\"service\");\n\n        VehicleRepairService vehicleRepairService = factory.getRepairService(service);\n        vehicleRepairService.repair();\n    }\n}\n</code></pre>\n\n<p>Hope it helps.</p>\n"},{"tags":[],"owner":{"account_id":6389739,"reputation":2892,"user_id":4956336,"display_name":"p3consulting"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1478333142,"creation_date":1478333142,"answer_id":40436072,"question_id":40105044,"body_markdown":"Be aware that - if interesting to know about - FileChangedReloadingStrategy makes your project highly dependent on the deployment conditions: the WAR/EAR should be exploded by container and your should have direct access to the file system, conditions that are not always met in all situations and environments. ","title":"Inject spring bean dynamically","body":"<p>Be aware that - if interesting to know about - FileChangedReloadingStrategy makes your project highly dependent on the deployment conditions: the WAR/EAR should be exploded by container and your should have direct access to the file system, conditions that are not always met in all situations and environments. </p>\n"},{"tags":[],"owner":{"account_id":361387,"reputation":169,"user_id":3565441,"display_name":"Vaibhaw K"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1580557958,"creation_date":1580557958,"answer_id":60016588,"question_id":40105044,"body_markdown":"You can use @Resource annotation for injection as originally answered [here][1] \r\n\r\ne.g.\r\n\r\n```\r\n@Component(&quot;implA&quot;)\r\npublic class ImplA implements MyInterface {\r\n  ...\r\n}\r\n```\r\n\r\n```\r\n@Component(&quot;implB&quot;)\r\npublic class ImplB implements MyInterface {\r\n  ...\r\n}\r\n```\r\n```\r\n@Component\r\npublic class DependentClass {\r\n  \r\n  @Resource(name = &quot;\\${myinterface.type}&quot;) \r\n  private MyInterface impl;\r\n\r\n}\r\n```\r\n\r\nand then set the implementation type in properties file as -\r\n```\r\nmyinterface.type=implA\r\n``` \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/29270848/3565441","title":"Inject spring bean dynamically","body":"<p>You can use @Resource annotation for injection as originally answered <a href=\"https://stackoverflow.com/a/29270848/3565441\">here</a> </p>\n\n<p>e.g.</p>\n\n<pre><code>@Component(\"implA\")\npublic class ImplA implements MyInterface {\n  ...\n}\n</code></pre>\n\n<pre><code>@Component(\"implB\")\npublic class ImplB implements MyInterface {\n  ...\n}\n</code></pre>\n\n<pre><code>@Component\npublic class DependentClass {\n\n  @Resource(name = \"\\${myinterface.type}\") \n  private MyInterface impl;\n\n}\n</code></pre>\n\n<p>and then set the implementation type in properties file as -</p>\n\n<pre><code>myinterface.type=implA\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1551684,"reputation":1024,"user_id":1443928,"accept_rate":93,"display_name":"Hard Worker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648725145,"creation_date":1648700683,"answer_id":71686879,"question_id":40105044,"body_markdown":"    public abstract class SystemService {\r\n    \r\n    }\r\n    \r\n    public class FooSystemService extends FileSystemService {\r\n    \r\n    }\r\n    \r\n    public class GoSystemService extends FileSystemService {\r\n    \r\n    } \r\n    \r\n    \r\n    @Configuration\r\n    public class SystemServiceConf {\r\n    \r\n    \r\n    \t@Bean\r\n    \t@Conditional(SystemServiceCondition.class)\r\n    \tpublic SystemService systemService(@Value(&quot;${value.key}&quot;) value) {\r\n    \t\tswitch (value) {\r\n    \t\t\tcase A:\r\n    \t\t\t\treturn new FooSystemService();\r\n    \t\t\tcase B:\r\n    \t\t\t\treturn new GoSystemService();\r\n    \t\t\tdefault:\r\n    \t\t\t\tthrow new RuntimeException(&quot;unknown value &quot;);\r\n    \t\t}\r\n    \t}\r\n    }\r\n    \r\n    public class SystemServiceCondition implements Condition {\r\n    \r\n    \r\n    \t@Override\r\n    \tpublic boolean matches(ConditionContext conditionContext, AnnotatedTypeMetadata annotatedTypeMetadata) {\r\n    \t\treturn true;\r\n    \t}\r\n    }\r\n\r\n","title":"Inject spring bean dynamically","body":"<pre><code>public abstract class SystemService {\n\n}\n\npublic class FooSystemService extends FileSystemService {\n\n}\n\npublic class GoSystemService extends FileSystemService {\n\n} \n\n\n@Configuration\npublic class SystemServiceConf {\n\n\n    @Bean\n    @Conditional(SystemServiceCondition.class)\n    public SystemService systemService(@Value(&quot;${value.key}&quot;) value) {\n        switch (value) {\n            case A:\n                return new FooSystemService();\n            case B:\n                return new GoSystemService();\n            default:\n                throw new RuntimeException(&quot;unknown value &quot;);\n        }\n    }\n}\n\npublic class SystemServiceCondition implements Condition {\n\n\n    @Override\n    public boolean matches(ConditionContext conditionContext, AnnotatedTypeMetadata annotatedTypeMetadata) {\n        return true;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":476430,"reputation":11691,"user_id":887343,"accept_rate":77,"display_name":"forhas"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56333,"favorite_count":0,"down_vote_count":0,"up_vote_count":36,"answer_count":8,"score":36,"last_activity_date":1648725145,"creation_date":1476784408,"question_id":40105044,"body_markdown":"In a java-spring web-app I would like to be able to dynamically inject beans.\r\nFor example I have an interface with 2 different implementations:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nIn my app I&#39;m using some properties file to configure injections:\r\n\r\n    #Determines the interface type the app uses. Possible values: implA, implB\r\n    myinterface.type=implA\r\n\r\nMy injections actually loaded conditionally relaying on the properties values in the properties file. For example in this case myinterface.type=implA wherever I inject MyInterface the implementation that will be injected will be ImplA (I accomplished that by extending the [Conditional annotation][2]).\r\n\r\n\r\nI would like that during runtime - once the properties are changed the following will happen (without server restart):\r\n\r\n 1. The right implementation will be injected. For example when setting `myinterface.type=implB` ImplB will be injected where-ever MyInterface is used\r\n 2. [Spring Environment][3] should be refreshed with the new values and re-injected as well to beans.\r\n\r\n\r\nI thought of refreshing my context but that creates problems.\r\nI thought maybe to use setters for injection and re-use those setters once properties are re-configured. Is there a working practice for such a requirement?\r\n\r\nAny ideas?\r\n\r\n\r\n**UPDATE**\r\n\r\nAs some suggested I can use a factory/registry that holds both implementations (ImplA and ImplB) and returns the right one by querying the relevant property.\r\nIf I do that I still have the second challenge - the environment. for example if my registry looks like this:\r\n\r\n    @Service\r\n    public class MyRegistry {\r\n    \r\n    private String configurationValue;\r\n    private final MyInterface implA;\r\n    private final MyInterface implB;\r\n    \r\n    @Inject\r\n    public MyRegistry(Environmant env, MyInterface implA, MyInterface ImplB) {\r\n            this.implA = implA;\r\n            this.implB = implB;\r\n            this.configurationValue = env.getProperty(&quot;myinterface.type&quot;);\r\n    }\r\n    \r\n    public MyInterface getMyInterface() {\r\n            switch(configurationValue) {\r\n            case &quot;implA&quot;:\r\n                    return implA;\r\n            case &quot;implB&quot;:\r\n                    return implB;\r\n            }\r\n    }\r\n    }\r\n\r\n\r\nOnce property has changed I should re-inject my environment. any suggestions for that?\r\n\r\nI know I can query that env inside the method instead of constructor but this is a performance reduction and also I would like to think of an ider for re-injecting environment (again, maybe using a setter injection?).\r\n\r\n  [1]: https://i.stack.imgur.com/H1rp6.jpg\r\n  [2]: http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/context/annotation/Conditional.html\r\n  [3]: http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/core/env/Environment.html","title":"Inject spring bean dynamically","body":"<p>In a java-spring web-app I would like to be able to dynamically inject beans.\nFor example I have an interface with 2 different implementations:</p>\n\n<p><a href=\"https://i.stack.imgur.com/H1rp6.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/H1rp6.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>In my app I'm using some properties file to configure injections:</p>\n\n<pre><code>#Determines the interface type the app uses. Possible values: implA, implB\nmyinterface.type=implA\n</code></pre>\n\n<p>My injections actually loaded conditionally relaying on the properties values in the properties file. For example in this case myinterface.type=implA wherever I inject MyInterface the implementation that will be injected will be ImplA (I accomplished that by extending the <a href=\"http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/context/annotation/Conditional.html\" rel=\"noreferrer\">Conditional annotation</a>).</p>\n\n<p>I would like that during runtime - once the properties are changed the following will happen (without server restart):</p>\n\n<ol>\n<li>The right implementation will be injected. For example when setting <code>myinterface.type=implB</code> ImplB will be injected where-ever MyInterface is used</li>\n<li><a href=\"http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/core/env/Environment.html\" rel=\"noreferrer\">Spring Environment</a> should be refreshed with the new values and re-injected as well to beans.</li>\n</ol>\n\n<p>I thought of refreshing my context but that creates problems.\nI thought maybe to use setters for injection and re-use those setters once properties are re-configured. Is there a working practice for such a requirement?</p>\n\n<p>Any ideas?</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>As some suggested I can use a factory/registry that holds both implementations (ImplA and ImplB) and returns the right one by querying the relevant property.\nIf I do that I still have the second challenge - the environment. for example if my registry looks like this:</p>\n\n<pre><code>@Service\npublic class MyRegistry {\n\nprivate String configurationValue;\nprivate final MyInterface implA;\nprivate final MyInterface implB;\n\n@Inject\npublic MyRegistry(Environmant env, MyInterface implA, MyInterface ImplB) {\n        this.implA = implA;\n        this.implB = implB;\n        this.configurationValue = env.getProperty(\"myinterface.type\");\n}\n\npublic MyInterface getMyInterface() {\n        switch(configurationValue) {\n        case \"implA\":\n                return implA;\n        case \"implB\":\n                return implB;\n        }\n}\n}\n</code></pre>\n\n<p>Once property has changed I should re-inject my environment. any suggestions for that?</p>\n\n<p>I know I can query that env inside the method instead of constructor but this is a performance reduction and also I would like to think of an ider for re-injecting environment (again, maybe using a setter injection?).</p>\n"},{"tags":["java","object","if-statement"],"comments":[{"owner":{"account_id":3352721,"reputation":1057,"user_id":2816429,"display_name":"HariHaravelan"},"score":0,"creation_date":1648724738,"post_id":71691383,"comment_id":126700048,"body_markdown":"Please update code instead https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-errors-when-asking-a-question","body":"Please update code instead <a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-errors-when-asking-a-question\" title=\"why should i not upload images of code errors when asking a question\">meta.stackoverflow.com/questions/285551/&hellip;</a>"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1648724749,"post_id":71691383,"comment_id":126700055,"body_markdown":"[Please do not upload images of code/errors when asking a question.](//meta.stackoverflow.com/q/285551). Instead [edit] your question to include your code as text (with proper code formatting) instead. Also, whenever you mention &quot;an error&quot;, please post the *exact message* that you get.","body":"<a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/errors when asking a question.</a>. Instead <a href=\"https://stackoverflow.com/posts/71691383/edit\">edit</a> your question to include your code as text (with proper code formatting) instead. Also, whenever you mention &quot;an error&quot;, please post the <i>exact message</i> that you get."},{"owner":{"account_id":6469743,"reputation":2377,"user_id":5010285,"display_name":"Petronella"},"score":0,"creation_date":1648725122,"post_id":71691383,"comment_id":126700188,"body_markdown":"Use inheritance, an interface.","body":"Use inheritance, an interface."}],"answers":[{"tags":[],"owner":{"account_id":19788071,"reputation":66,"user_id":14491631,"display_name":"Germ&#225;n S&#225;nchez Pastor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648724980,"creation_date":1648724980,"answer_id":71691462,"question_id":71691383,"body_markdown":"Instead of new Mage() or new Warrior() as you are doing you can try to create a higher level class.\r\n\r\nFor example, you can do new playerClass(Mage).\r\n\r\nAlso I suggest you to use enum for the classes.","title":"Is there a way I can have two instances of an object with the same name and use one or another?","body":"<p>Instead of new Mage() or new Warrior() as you are doing you can try to create a higher level class.</p>\n<p>For example, you can do new playerClass(Mage).</p>\n<p>Also I suggest you to use enum for the classes.</p>\n"}],"owner":{"account_id":24757780,"reputation":1,"user_id":18642524,"display_name":"Drase"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648724980,"creation_date":1648724635,"question_id":71691383,"body_markdown":"I&#39;m a beginner and I&#39;m stuck with this.\r\nThe thing is that I&#39;m doing kind of a game (text game)![enter image description here](https://i.stack.imgur.com/qRaiz.png)\r\n\r\nI made and if statement which lets the player choose whether they wanna be a warrior or a mage, the thing is that I don&#39;t wanna create both at the same time, so only want one to be created at a time with the name &quot;player&quot;, the problem is that it gives me an error and I doesn&#39;t work as I&#39;ve imagined it to work.\r\nI know I can just create them with different names but then when the player attacks or gets attacked the name for that is &quot;player&quot; and I think making if statements every time I wanna it to attack with different names wouldn&#39;t be so efficient.\r\n\r\n![enter image description here](https://i.stack.imgur.com/AFNrZ.png)","title":"Is there a way I can have two instances of an object with the same name and use one or another?","body":"<p>I'm a beginner and I'm stuck with this.\nThe thing is that I'm doing kind of a game (text game)<img src=\"https://i.stack.imgur.com/qRaiz.png\" alt=\"enter image description here\" /></p>\n<p>I made and if statement which lets the player choose whether they wanna be a warrior or a mage, the thing is that I don't wanna create both at the same time, so only want one to be created at a time with the name &quot;player&quot;, the problem is that it gives me an error and I doesn't work as I've imagined it to work.\nI know I can just create them with different names but then when the player attacks or gets attacked the name for that is &quot;player&quot; and I think making if statements every time I wanna it to attack with different names wouldn't be so efficient.</p>\n<p><img src=\"https://i.stack.imgur.com/AFNrZ.png\" alt=\"enter image description here\" /></p>\n"},{"tags":["java","sql","timestamp"],"comments":[{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1648725016,"post_id":71691450,"comment_id":126700143,"body_markdown":"What have you tried? What about it did not work?","body":"What have you tried? What about it did not work?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1648725079,"post_id":71691450,"comment_id":126700168,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1648728106,"post_id":71691450,"comment_id":126701263,"body_markdown":"Do you mean something like: `SELECT * FROM MyTable WHERE MONTH(MyTimestamp)=MONTH(CURRENT_DATE) AND YEAR(MyTimestamp)&lt;YEAR(CURRENT_DATE)`","body":"Do you mean something like: <code>SELECT * FROM MyTable WHERE MONTH(MyTimestamp)=MONTH(CURRENT_DATE) AND YEAR(MyTimestamp)&lt;YEAR(CURRENT_DATE)</code>"},{"owner":{"account_id":23461070,"reputation":1,"user_id":17515930,"display_name":"vasiv"},"score":0,"creation_date":1648986256,"post_id":71691450,"comment_id":126756850,"body_markdown":"@MauricePerry yes this is what I needed to solve my problem. Thanks. My head wasn&#39;t working good that day :)","body":"@MauricePerry yes this is what I needed to solve my problem. Thanks. My head wasn&#39;t working good that day :)"}],"owner":{"account_id":23461070,"reputation":1,"user_id":17515930,"display_name":"vasiv"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648724918,"creation_date":1648724918,"question_id":71691450,"body_markdown":"I have to build a SQL query to find objects which were created in current month (e.g. March) but at least one year ago. So I expect to fetch objects created in 03.2021, 03.2020, 03.2019 etc. Creation date is stored as Timestamp.\r\n\r\nIs it possible to build such a query, or I have to fetch all objects created at least one year ago and check for their creation month in a loop (because I&#39;m querying from Java)?\r\nSQL scheme change is not allowed.","title":"How to query objects created in current month but at least one year ago when creation date is a timestamp","body":"<p>I have to build a SQL query to find objects which were created in current month (e.g. March) but at least one year ago. So I expect to fetch objects created in 03.2021, 03.2020, 03.2019 etc. Creation date is stored as Timestamp.</p>\n<p>Is it possible to build such a query, or I have to fetch all objects created at least one year ago and check for their creation month in a loop (because I'm querying from Java)?\nSQL scheme change is not allowed.</p>\n"},{"tags":["java","swing","fonts"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1648733669,"post_id":71691425,"comment_id":126703675,"body_markdown":"Random issues usually are as a result of the GUI NOT be created on the Event Dispatch Thread (EDT). Post an [mre] demonstrating the problem.","body":"Random issues usually are as a result of the GUI NOT be created on the Event Dispatch Thread (EDT). Post an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> demonstrating the problem."},{"owner":{"account_id":5858828,"reputation":1,"user_id":4615248,"display_name":"Bill Lee"},"score":0,"creation_date":1648735749,"post_id":71691425,"comment_id":126704563,"body_markdown":"Unfortunately, there is no &quot;minimal reproducible example&quot; other than the 10k application itself. I have tried repeatedly to make a &quot;minimal reproducible example&quot; and cannot get it to fail. Hence the question posed as it was. OTOH, yo did provide an avenue for examination &quot;result of the GUI NOT be created on the Event Dispatch Thread&quot; Thanks.","body":"Unfortunately, there is no &quot;minimal reproducible example&quot; other than the 10k application itself. I have tried repeatedly to make a &quot;minimal reproducible example&quot; and cannot get it to fail. Hence the question posed as it was. OTOH, yo did provide an avenue for examination &quot;result of the GUI NOT be created on the Event Dispatch Thread&quot; Thanks."}],"owner":{"account_id":5858828,"reputation":1,"user_id":4615248,"display_name":"Bill Lee"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648724850,"creation_date":1648724850,"question_id":71691425,"body_markdown":"I have a Java application made up of several JTextPane instances encapsulated in a class I call ttPane, all arranged using a combination of BoxLayout and OverlayLayout. All of the panes are created in a single class, I call &#39;Screens&#39;.\r\n\r\nIn the Screens class I create a font by reading a .ttf file and then deriving the final &#39;default&#39;. As the panes are created(via ttPane), each instance calls setFont(&#39;defaultFont&#39;) for the JTextPane in the constructor.\r\n\r\nMy code is being developed on a Linux system, no IDE involved, just text edit/compile/test.\r\n\r\nOn my system, the application will occasionally go into execution and use the default Java font (&#39;dialog&#39;) instead of the font created in the Screens class. The next execution may properly use the created font. Or not.\r\n\r\nI expect the application to always use the specified font. I have run the application many(!) times, each execution may use the correct font or the &#39;dialog&#39; font, unpredictably.\r\n\r\nAny ideas about what might be going on? I have screen dumps of one of the applications outputs which illustrate the problem.","title":"Java application using default font: it shouldn&#39;t be","body":"<p>I have a Java application made up of several JTextPane instances encapsulated in a class I call ttPane, all arranged using a combination of BoxLayout and OverlayLayout. All of the panes are created in a single class, I call 'Screens'.</p>\n<p>In the Screens class I create a font by reading a .ttf file and then deriving the final 'default'. As the panes are created(via ttPane), each instance calls setFont('defaultFont') for the JTextPane in the constructor.</p>\n<p>My code is being developed on a Linux system, no IDE involved, just text edit/compile/test.</p>\n<p>On my system, the application will occasionally go into execution and use the default Java font ('dialog') instead of the font created in the Screens class. The next execution may properly use the created font. Or not.</p>\n<p>I expect the application to always use the specified font. I have run the application many(!) times, each execution may use the correct font or the 'dialog' font, unpredictably.</p>\n<p>Any ideas about what might be going on? I have screen dumps of one of the applications outputs which illustrate the problem.</p>\n"},{"tags":["java","reflection","introspection"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":2,"creation_date":1648654364,"post_id":71680074,"comment_id":126680852,"body_markdown":"It does. I don&#39;t think there is a compile-time `nameof` in Java (like the one in C#), which seems to be the thing that you are looking for.","body":"It does. I don&#39;t think there is a compile-time <code>nameof</code> in Java (like the one in C#), which seems to be the thing that you are looking for."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1648655441,"post_id":71680074,"comment_id":126681322,"body_markdown":"There is no way for this to be processed at compile time in Java.","body":"There is no way for this to be processed at compile time in Java."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1648723707,"post_id":71680074,"comment_id":126699679,"body_markdown":"Even if you write `String className = &quot;java.util.ArrayList&quot;;`, it will consume memory and CPU time at runtime.","body":"Even if you write <code>String className = &quot;java.util.ArrayList&quot;;</code>, it will consume memory and CPU time at runtime."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1648657460,"creation_date":1648657061,"answer_id":71680727,"question_id":71680074,"body_markdown":"I would have said that it is BOTH runtime reflection AND type introspection.\r\n\r\nNote that the `[introspection]` tag defines introspection as:\r\n\r\n&gt;  *&quot;A capability of some object-oriented programming languages to determine the type of an object **at runtime**.&quot;*\r\n\r\nYou could also say that your example uses (runtime) reflection to perform type introspection.\r\n\r\n-----------------\r\n\r\n&gt; I want to use this in the compilation phase.\r\n\r\nIt is possible to examine types at compile time in an annotation processor.  However, I suspect that the effort involved in doing that would be prohibitive.  You need to be able to spot a specific pattern in two statements and then replace the statements with something else.\r\n\r\n(Have you benchmarked the class name lookup to see how much time it actually takes?  I would have thought it was just a few nanoseconds.  Not enough to be significant.)","title":"Java: runtime reflection or type introspection?","body":"<p>I would have said that it is BOTH runtime reflection AND type introspection.</p>\n<p>Note that the <code>[introspection]</code> tag defines introspection as:</p>\n<blockquote>\n<p><em>&quot;A capability of some object-oriented programming languages to determine the type of an object <strong>at runtime</strong>.&quot;</em></p>\n</blockquote>\n<p>You could also say that your example uses (runtime) reflection to perform type introspection.</p>\n<hr />\n<blockquote>\n<p>I want to use this in the compilation phase.</p>\n</blockquote>\n<p>It is possible to examine types at compile time in an annotation processor.  However, I suspect that the effort involved in doing that would be prohibitive.  You need to be able to spot a specific pattern in two statements and then replace the statements with something else.</p>\n<p>(Have you benchmarked the class name lookup to see how much time it actually takes?  I would have thought it was just a few nanoseconds.  Not enough to be significant.)</p>\n"},{"tags":[],"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1648724667,"creation_date":1648657495,"answer_id":71680817,"question_id":71680074,"body_markdown":"It is both, as @StephenC already points out correctly.\r\n\r\nTo your request for a compile-time solution: There is a solution, but you&#39;d need to implement your own Builder for that.\r\n\r\nFirst off, some standard-Java implementations:\r\n=\r\n\r\nBecause implementing and including your own Builder might be a lot of work for very little effect, here&#39;s a much easier answer: class initialization.\r\n\r\n    public class CompileTimeInit {\r\n    \r\n    \t// option 1\r\n    \tstatic public final String ARRAYLIST_CLASS_NAME = java.util.ArrayList.class.getName();\r\n    \r\n    \t// option 2\r\n    \tstatic public final String ARRAYLIST_CLASS_NAME_INIT_BLOCK;\r\n    \tstatic {\r\n    \t\tARRAYLIST_CLASS_NAME_INIT_BLOCK = java.util.ArrayList.class.getName();\r\n    \t}\r\n    \r\n    \tpublic static void main(final String[] args) {\r\n    \t\tSystem.out.println(&quot;1:\\t&quot; + ARRAYLIST_CLASS_NAME);\r\n    \r\n    \t\tSystem.out.println(&quot;2:\\t&quot; + ARRAYLIST_CLASS_NAME_INIT_BLOCK);\r\n    \r\n    \t\t// option 3\r\n    \t\tfinal Class c = java.util.ArrayList.class;\r\n    \t\tfinal String className = c.getName();\r\n    \t\tSystem.out.println(&quot;3:\\t&quot; + className);\r\n    \t}\r\n    \r\n    }\r\n\r\nstatic initialization will take its (very minimal) time in class intialization. This is part of the runtime, but it will only take place once a class is referenced/metnioned in some code that gets executed. This initialization will only be done once (per classloader loaded class) and is considered really fast.\r\n\r\nNow, to the real compile-time implementations:\r\n=\r\n\r\n1. You can have really advanced builders implemented, like [Project Lombok][1] does, along with integration into IDEs, compilers, build tools, platforms. Check out their page, top menu, &quot;Install&quot;, to see the options available.\r\n\r\n2. You can write your own builder and include it into the build cycle of your build cycle. The best way to do it is via an [Annotaion &quot;Pre&quot;-Processor][2]. \r\n\r\n3. The third option is to write a complete standalone application. This means you have to implement:\r\n - opening .java source files\r\n - scanning for your Interfaces or Annotations\r\n - replacing the code with the calculated contents\r\n - saving .java source files\r\n - let the compilation phase continue\r\n\r\nand include that into you build cycle. This is also partially described in the article [above][2]\r\n\r\n\r\n  [1]: https://projectlombok.org/\r\n  [2]: https://www.baeldung.com/java-annotation-processing-builder","title":"Java: runtime reflection or type introspection?","body":"<p>It is both, as @StephenC already points out correctly.</p>\n<p>To your request for a compile-time solution: There is a solution, but you'd need to implement your own Builder for that.</p>\n<h1>First off, some standard-Java implementations:</h1>\n<p>Because implementing and including your own Builder might be a lot of work for very little effect, here's a much easier answer: class initialization.</p>\n<pre><code>public class CompileTimeInit {\n\n    // option 1\n    static public final String ARRAYLIST_CLASS_NAME = java.util.ArrayList.class.getName();\n\n    // option 2\n    static public final String ARRAYLIST_CLASS_NAME_INIT_BLOCK;\n    static {\n        ARRAYLIST_CLASS_NAME_INIT_BLOCK = java.util.ArrayList.class.getName();\n    }\n\n    public static void main(final String[] args) {\n        System.out.println(&quot;1:\\t&quot; + ARRAYLIST_CLASS_NAME);\n\n        System.out.println(&quot;2:\\t&quot; + ARRAYLIST_CLASS_NAME_INIT_BLOCK);\n\n        // option 3\n        final Class c = java.util.ArrayList.class;\n        final String className = c.getName();\n        System.out.println(&quot;3:\\t&quot; + className);\n    }\n\n}\n</code></pre>\n<p>static initialization will take its (very minimal) time in class intialization. This is part of the runtime, but it will only take place once a class is referenced/metnioned in some code that gets executed. This initialization will only be done once (per classloader loaded class) and is considered really fast.</p>\n<h1>Now, to the real compile-time implementations:</h1>\n<ol>\n<li><p>You can have really advanced builders implemented, like <a href=\"https://projectlombok.org/\" rel=\"nofollow noreferrer\">Project Lombok</a> does, along with integration into IDEs, compilers, build tools, platforms. Check out their page, top menu, &quot;Install&quot;, to see the options available.</p>\n</li>\n<li><p>You can write your own builder and include it into the build cycle of your build cycle. The best way to do it is via an <a href=\"https://www.baeldung.com/java-annotation-processing-builder\" rel=\"nofollow noreferrer\">Annotaion &quot;Pre&quot;-Processor</a>.</p>\n</li>\n<li><p>The third option is to write a complete standalone application. This means you have to implement:</p>\n</li>\n</ol>\n<ul>\n<li>opening .java source files</li>\n<li>scanning for your Interfaces or Annotations</li>\n<li>replacing the code with the calculated contents</li>\n<li>saving .java source files</li>\n<li>let the compilation phase continue</li>\n</ul>\n<p>and include that into you build cycle. This is also partially described in the article <a href=\"https://www.baeldung.com/java-annotation-processing-builder\" rel=\"nofollow noreferrer\">above</a></p>\n"}],"owner":{"account_id":11699486,"reputation":226,"user_id":13751385,"display_name":"Aria"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":298,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71680817,"answer_count":2,"score":0,"last_activity_date":1648724667,"creation_date":1648654150,"question_id":71680074,"body_markdown":"Is the following code considered to be *runtime reflection* or is it *type introspection*?\r\n\r\n``` java\r\nClass c = java.util.ArrayList.class;\r\nString className = c.getName();\r\n```\r\n\r\nI want to use this in the compilation phase, and do not want to use any resources (including time) in runtime. Does it use any runtime resource?","title":"Java: runtime reflection or type introspection?","body":"<p>Is the following code considered to be <em>runtime reflection</em> or is it <em>type introspection</em>?</p>\n<pre class=\"lang-java prettyprint-override\"><code>Class c = java.util.ArrayList.class;\nString className = c.getName();\n</code></pre>\n<p>I want to use this in the compilation phase, and do not want to use any resources (including time) in runtime. Does it use any runtime resource?</p>\n"},{"tags":["java","android","android-constraintlayout"],"comments":[{"owner":{"account_id":7097254,"reputation":4695,"user_id":5430306,"display_name":"Rafsanjani"},"score":0,"creation_date":1648724613,"post_id":71691349,"comment_id":126700003,"body_markdown":"You need to add contrainEndtoEndOf=&quot;parent&quot;","body":"You need to add contrainEndtoEndOf=&quot;parent&quot;"},{"owner":{"account_id":5055881,"reputation":3266,"user_id":15055605,"display_name":"YaMiN"},"score":1,"creation_date":1648726734,"post_id":71691349,"comment_id":126700749,"body_markdown":"The whole philosophy of `ConstraintLayout` is to reduce nested layouts, you should use groups, layers, flows, chains to achieve that not by nesting `ConstraintLayout`s.","body":"The whole philosophy of <code>ConstraintLayout</code> is to reduce nested layouts, you should use groups, layers, flows, chains to achieve that not by nesting <code>ConstraintLayout</code>s."},{"owner":{"account_id":18950319,"reputation":180,"user_id":13828186,"display_name":"Gaurav Dureja"},"score":0,"creation_date":1648729825,"post_id":71691349,"comment_id":126701935,"body_markdown":"@Rafsanjani where should I use this?","body":"@Rafsanjani where should I use this?"}],"owner":{"account_id":18950319,"reputation":180,"user_id":13828186,"display_name":"Gaurav Dureja"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648724473,"creation_date":1648724473,"question_id":71691349,"body_markdown":"How to set textviews fit with the screen in ConstraintLayout. I need to set textviews with any device auto adjustable. How to set all childsview within the parent ConstraintLayout. The third child view is going outside the screen. Is there any way that child views adjust with the parent ConstraintLayout automatically with any device. Please help\r\n\r\nHere is the code:\r\n\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n                            android:layout_width=&quot;match_parent&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:paddingTop=&quot;20dp&quot;\r\n                            android:paddingBottom=&quot;20dp&quot;&gt;\r\n    \r\n                            &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n                                android:id=&quot;@+id/phoneLayout&quot;\r\n                                android:layout_width=&quot;wrap_content&quot;\r\n                                android:layout_height=&quot;wrap_content&quot;\r\n                                android:layout_marginStart=&quot;15dp&quot;\r\n                                app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n                                app:layout_constraintRight_toLeftOf=&quot;@id/updateProfile&quot;\r\n                                app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n    \r\n                                &lt;ImageView\r\n                                    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                                    app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                                    android:id=&quot;@+id/imgPhoneVerify&quot;\r\n                                    android:layout_width=&quot;wrap_content&quot;\r\n                                    android:layout_height=&quot;wrap_content&quot;\r\n                                    app:srcCompat=&quot;@drawable/ic_verified&quot;\r\n                                    tools:ignore=&quot;ContentDescription&quot; /&gt;\r\n    \r\n                                &lt;TextView\r\n                                    app:layout_constraintHorizontal_bias=&quot;0.0&quot;\r\n                                    app:layout_constraintHorizontal_chainStyle=&quot;packed&quot;\r\n                                    android:lines=&quot;2&quot;\r\n                                    android:maxLines=&quot;2&quot;\r\n                                    app:layout_constraintWidth_default=&quot;wrap&quot;\r\n                                    app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                                    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                                    app:layout_constraintStart_toEndOf=&quot;@id/imgPhoneVerify&quot;\r\n                                    android:id=&quot;@+id/textview&quot;\r\n                                    android:layout_width=&quot;0dp&quot;\r\n                                    android:layout_height=&quot;wrap_content&quot;\r\n                                    android:layout_marginStart=&quot;5dp&quot;\r\n                                    android:layout_toEndOf=&quot;@+id/imgPhoneVerify&quot;\r\n                                    android:includeFontPadding=&quot;false&quot;\r\n                                    android:text=&quot;Phone Verified&quot;\r\n                                    android:textColor=&quot;#757575&quot;\r\n                                    android:textSize=&quot;15sp&quot;\r\n                                    tools:ignore=&quot;HardcodedText&quot; /&gt;\r\n    \r\n                            &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n    \r\n                            &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n                                android:id=&quot;@+id/updateProfile&quot;\r\n                                android:layout_width=&quot;wrap_content&quot;\r\n                                android:layout_height=&quot;wrap_content&quot;\r\n                                app:layout_constraintLeft_toRightOf=&quot;@id/phoneLayout&quot;\r\n                                app:layout_constraintRight_toLeftOf=&quot;@id/getVerified&quot;\r\n                                app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n    \r\n                                    &lt;ImageView\r\n                                        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                                        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                                        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                                        android:id=&quot;@+id/imgProfile&quot;\r\n                                        android:layout_width=&quot;wrap_content&quot;\r\n                                        android:layout_height=&quot;wrap_content&quot;\r\n                                        app:srcCompat=&quot;@drawable/ic_verified&quot;\r\n                                        tools:ignore=&quot;ContentDescription&quot; /&gt;\r\n    \r\n                                &lt;TextView\r\n                                    app:layout_constraintHorizontal_bias=&quot;0.0&quot;\r\n                                    app:layout_constraintHorizontal_chainStyle=&quot;packed&quot;\r\n                                    android:lines=&quot;2&quot;\r\n                                    android:maxLines=&quot;2&quot;\r\n                                    app:layout_constraintWidth_default=&quot;wrap&quot;\r\n                                    app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                                    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                                    app:layout_constraintStart_toEndOf=&quot;@id/imgProfile&quot;\r\n                                    android:id=&quot;@+id/tvProfileComplete&quot;\r\n                                    android:layout_width=&quot;0dp&quot;\r\n                                    android:layout_height=&quot;wrap_content&quot;\r\n                                    android:layout_centerInParent=&quot;true&quot;\r\n                                    android:layout_marginStart=&quot;5dp&quot;\r\n                                    android:breakStrategy=&quot;simple&quot;\r\n                                    android:text=&quot;Profile Complete&quot;\r\n                                    android:textColor=&quot;#757575&quot;\r\n                                    android:textSize=&quot;15sp&quot;\r\n                                    tools:ignore=&quot;HardcodedText&quot;\r\n                                    tools:targetApi=&quot;m&quot; /&gt;\r\n    \r\n                            &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n    \r\n                            &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n                                android:id=&quot;@+id/getVerified&quot;\r\n                                android:layout_width=&quot;wrap_content&quot;\r\n                                android:layout_height=&quot;wrap_content&quot;\r\n                                app:layout_constraintLeft_toRightOf=&quot;@id/updateProfile&quot;\r\n                                app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n                                app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n    \r\n                                &lt;ImageView\r\n                                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                                    app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                                    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                                    android:id=&quot;@+id/imgProfileVerify&quot;\r\n                                    android:layout_width=&quot;wrap_content&quot;\r\n                                    android:layout_height=&quot;wrap_content&quot;\r\n                                    app:srcCompat=&quot;@drawable/ic_verify_pending&quot;\r\n                                    tools:ignore=&quot;ContentDescription&quot; /&gt;\r\n    \r\n                                &lt;TextView\r\n                                    app:layout_constraintHorizontal_bias=&quot;0.0&quot;\r\n                                    app:layout_constraintHorizontal_chainStyle=&quot;packed&quot;\r\n                                    android:lines=&quot;2&quot;\r\n                                    android:maxLines=&quot;2&quot;\r\n                                    app:layout_constraintWidth_default=&quot;wrap&quot;\r\n                                    app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                                    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                                    app:layout_constraintStart_toEndOf=&quot;@id/imgProfileVerify&quot;\r\n                                    android:id=&quot;@+id/tvProfileVerify&quot;\r\n                                    android:layout_width=&quot;0dp&quot;\r\n                                    android:layout_height=&quot;wrap_content&quot;\r\n                                    android:layout_centerHorizontal=&quot;true&quot;\r\n                                    android:layout_marginStart=&quot;5dp&quot;\r\n                                    android:layout_toEndOf=&quot;@+id/imgProfileVerify&quot;\r\n                                    android:text=&quot;Get Verified&quot;\r\n                                    android:textColor=&quot;#757575&quot;\r\n                                    android:textSize=&quot;15sp&quot;\r\n                                    tools:ignore=&quot;HardcodedText&quot; /&gt;\r\n    \r\n                            &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n    \r\n                        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\nIt is going outsize screen:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZMQLk.png","title":"How to set textview fits with screen in Constraint Layout","body":"<p>How to set textviews fit with the screen in ConstraintLayout. I need to set textviews with any device auto adjustable. How to set all childsview within the parent ConstraintLayout. The third child view is going outside the screen. Is there any way that child views adjust with the parent ConstraintLayout automatically with any device. Please help</p>\n<p>Here is the code:</p>\n<pre><code>&lt;androidx.constraintlayout.widget.ConstraintLayout\n                        android:layout_width=&quot;match_parent&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:paddingTop=&quot;20dp&quot;\n                        android:paddingBottom=&quot;20dp&quot;&gt;\n\n                        &lt;androidx.constraintlayout.widget.ConstraintLayout\n                            android:id=&quot;@+id/phoneLayout&quot;\n                            android:layout_width=&quot;wrap_content&quot;\n                            android:layout_height=&quot;wrap_content&quot;\n                            android:layout_marginStart=&quot;15dp&quot;\n                            app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n                            app:layout_constraintRight_toLeftOf=&quot;@id/updateProfile&quot;\n                            app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n                            &lt;ImageView\n                                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                                app:layout_constraintTop_toTopOf=&quot;parent&quot;\n                                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                                android:id=&quot;@+id/imgPhoneVerify&quot;\n                                android:layout_width=&quot;wrap_content&quot;\n                                android:layout_height=&quot;wrap_content&quot;\n                                app:srcCompat=&quot;@drawable/ic_verified&quot;\n                                tools:ignore=&quot;ContentDescription&quot; /&gt;\n\n                            &lt;TextView\n                                app:layout_constraintHorizontal_bias=&quot;0.0&quot;\n                                app:layout_constraintHorizontal_chainStyle=&quot;packed&quot;\n                                android:lines=&quot;2&quot;\n                                android:maxLines=&quot;2&quot;\n                                app:layout_constraintWidth_default=&quot;wrap&quot;\n                                app:layout_constraintTop_toTopOf=&quot;parent&quot;\n                                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                                app:layout_constraintStart_toEndOf=&quot;@id/imgPhoneVerify&quot;\n                                android:id=&quot;@+id/textview&quot;\n                                android:layout_width=&quot;0dp&quot;\n                                android:layout_height=&quot;wrap_content&quot;\n                                android:layout_marginStart=&quot;5dp&quot;\n                                android:layout_toEndOf=&quot;@+id/imgPhoneVerify&quot;\n                                android:includeFontPadding=&quot;false&quot;\n                                android:text=&quot;Phone Verified&quot;\n                                android:textColor=&quot;#757575&quot;\n                                android:textSize=&quot;15sp&quot;\n                                tools:ignore=&quot;HardcodedText&quot; /&gt;\n\n                        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n                        &lt;androidx.constraintlayout.widget.ConstraintLayout\n                            android:id=&quot;@+id/updateProfile&quot;\n                            android:layout_width=&quot;wrap_content&quot;\n                            android:layout_height=&quot;wrap_content&quot;\n                            app:layout_constraintLeft_toRightOf=&quot;@id/phoneLayout&quot;\n                            app:layout_constraintRight_toLeftOf=&quot;@id/getVerified&quot;\n                            app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n                                &lt;ImageView\n                                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                                    app:layout_constraintTop_toTopOf=&quot;parent&quot;\n                                    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                                    android:id=&quot;@+id/imgProfile&quot;\n                                    android:layout_width=&quot;wrap_content&quot;\n                                    android:layout_height=&quot;wrap_content&quot;\n                                    app:srcCompat=&quot;@drawable/ic_verified&quot;\n                                    tools:ignore=&quot;ContentDescription&quot; /&gt;\n\n                            &lt;TextView\n                                app:layout_constraintHorizontal_bias=&quot;0.0&quot;\n                                app:layout_constraintHorizontal_chainStyle=&quot;packed&quot;\n                                android:lines=&quot;2&quot;\n                                android:maxLines=&quot;2&quot;\n                                app:layout_constraintWidth_default=&quot;wrap&quot;\n                                app:layout_constraintTop_toTopOf=&quot;parent&quot;\n                                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                                app:layout_constraintStart_toEndOf=&quot;@id/imgProfile&quot;\n                                android:id=&quot;@+id/tvProfileComplete&quot;\n                                android:layout_width=&quot;0dp&quot;\n                                android:layout_height=&quot;wrap_content&quot;\n                                android:layout_centerInParent=&quot;true&quot;\n                                android:layout_marginStart=&quot;5dp&quot;\n                                android:breakStrategy=&quot;simple&quot;\n                                android:text=&quot;Profile Complete&quot;\n                                android:textColor=&quot;#757575&quot;\n                                android:textSize=&quot;15sp&quot;\n                                tools:ignore=&quot;HardcodedText&quot;\n                                tools:targetApi=&quot;m&quot; /&gt;\n\n                        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n                        &lt;androidx.constraintlayout.widget.ConstraintLayout\n                            android:id=&quot;@+id/getVerified&quot;\n                            android:layout_width=&quot;wrap_content&quot;\n                            android:layout_height=&quot;wrap_content&quot;\n                            app:layout_constraintLeft_toRightOf=&quot;@id/updateProfile&quot;\n                            app:layout_constraintRight_toRightOf=&quot;parent&quot;\n                            app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n                            &lt;ImageView\n                                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                                app:layout_constraintTop_toTopOf=&quot;parent&quot;\n                                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                                android:id=&quot;@+id/imgProfileVerify&quot;\n                                android:layout_width=&quot;wrap_content&quot;\n                                android:layout_height=&quot;wrap_content&quot;\n                                app:srcCompat=&quot;@drawable/ic_verify_pending&quot;\n                                tools:ignore=&quot;ContentDescription&quot; /&gt;\n\n                            &lt;TextView\n                                app:layout_constraintHorizontal_bias=&quot;0.0&quot;\n                                app:layout_constraintHorizontal_chainStyle=&quot;packed&quot;\n                                android:lines=&quot;2&quot;\n                                android:maxLines=&quot;2&quot;\n                                app:layout_constraintWidth_default=&quot;wrap&quot;\n                                app:layout_constraintTop_toTopOf=&quot;parent&quot;\n                                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                                app:layout_constraintStart_toEndOf=&quot;@id/imgProfileVerify&quot;\n                                android:id=&quot;@+id/tvProfileVerify&quot;\n                                android:layout_width=&quot;0dp&quot;\n                                android:layout_height=&quot;wrap_content&quot;\n                                android:layout_centerHorizontal=&quot;true&quot;\n                                android:layout_marginStart=&quot;5dp&quot;\n                                android:layout_toEndOf=&quot;@+id/imgProfileVerify&quot;\n                                android:text=&quot;Get Verified&quot;\n                                android:textColor=&quot;#757575&quot;\n                                android:textSize=&quot;15sp&quot;\n                                tools:ignore=&quot;HardcodedText&quot; /&gt;\n\n                        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n                    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>It is going outsize screen:</p>\n<p><a href=\"https://i.stack.imgur.com/ZMQLk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZMQLk.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","bluetooth"],"answers":[{"tags":[],"owner":{"account_id":9197483,"reputation":2049,"user_id":6835732,"display_name":"Primož Ivančič"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648622172,"creation_date":1648622172,"answer_id":71672546,"question_id":71672424,"body_markdown":"AFAIK, in order for `MissingPermission` error not to appear, you would have to check for the permission within the function.\r\n\r\nNow, if you are absolutely certain, that the permission is, and will be, getting checked **before** the call of this function, it is OK to use `@SuppressLint(&quot;MissingPermission&quot;)`. What I would additionally do, is put a comment as to why you suppressed the error. Something in the line of: `@SuppressLint(&quot;MissingPermission&quot;) // permission must be checked before the call of the function!`.","title":"@SuppressLint(&quot;MissingPermission&quot;) using is it harmful?","body":"<p>AFAIK, in order for <code>MissingPermission</code> error not to appear, you would have to check for the permission within the function.</p>\n<p>Now, if you are absolutely certain, that the permission is, and will be, getting checked <strong>before</strong> the call of this function, it is OK to use <code>@SuppressLint(&quot;MissingPermission&quot;)</code>. What I would additionally do, is put a comment as to why you suppressed the error. Something in the line of: <code>@SuppressLint(&quot;MissingPermission&quot;) // permission must be checked before the call of the function!</code>.</p>\n"}],"owner":{"account_id":23524668,"reputation":21,"user_id":17571374,"display_name":"star.java"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1240,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1648724311,"creation_date":1648621469,"question_id":71672424,"body_markdown":"My code was giving an error\r\nOverwriting this annotation fixed the error. Is this a healthy solution?\r\nThe class giving the error is related to bluetooth.\r\n```\r\n&quot;Add permissions check&quot; It gives an error when I do the suggestion.\r\n```\r\n\r\nError:\r\nCall requires permission which may be rejected by user: code should explicitly check to see if permission is available (with checkPermission) or explicitly handle a potential SecurityException\r\n\r\nThanks\r\n\r\nI used  @SuppressLint(&quot;MissingPermission&quot;) but I couldn&#39;t trust\r\n\r\n    public synchronized void connected(BluetoothSocket socket, BluetoothDevice\r\n            device, final String socketType) {\r\n        // Cancel the thread that completed the connection\r\n        if (mConnectThread != null) {mConnectThread.cancel(); mConnectThread = null;}\r\n    \r\n        // Cancel any thread currently running a connection\r\n        if (mConnectedThread != null) {mConnectedThread.cancel(); mConnectedThread = null;}\r\n    \r\n        // Cancel the accept thread because we only want to connect to one device\r\n        if (mSecureAcceptThread != null) {\r\n            mSecureAcceptThread.cancel();\r\n            mSecureAcceptThread = null;\r\n        }\r\n    \r\n        // Start the thread to manage the connection and perform transmissions\r\n        mConnectedThread = new ConnectedThread(socket, socketType);\r\n        mConnectedThread.start();\r\n    \r\n        // Send the name of the connected device back to the UI Activity\r\n        Message msg = mHandler.obtainMessage(BluetoothState.MESSAGE_DEVICE_NAME);\r\n        Bundle bundle = new Bundle();\r\n        bundle.putString(BluetoothState.DEVICE_NAME, device.getName());\r\n        bundle.putString(BluetoothState.DEVICE_ADDRESS, device.getAddress());\r\n        msg.setData(bundle);\r\n        mHandler.sendMessage(msg);\r\n    \r\n        setState(BluetoothState.STATE_CONNECTED);\r\n    }","title":"@SuppressLint(&quot;MissingPermission&quot;) using is it harmful?","body":"<p>My code was giving an error\nOverwriting this annotation fixed the error. Is this a healthy solution?\nThe class giving the error is related to bluetooth.</p>\n<pre><code>&quot;Add permissions check&quot; It gives an error when I do the suggestion.\n</code></pre>\n<p>Error:\nCall requires permission which may be rejected by user: code should explicitly check to see if permission is available (with checkPermission) or explicitly handle a potential SecurityException</p>\n<p>Thanks</p>\n<p>I used  @SuppressLint(&quot;MissingPermission&quot;) but I couldn't trust</p>\n<pre><code>public synchronized void connected(BluetoothSocket socket, BluetoothDevice\n        device, final String socketType) {\n    // Cancel the thread that completed the connection\n    if (mConnectThread != null) {mConnectThread.cancel(); mConnectThread = null;}\n\n    // Cancel any thread currently running a connection\n    if (mConnectedThread != null) {mConnectedThread.cancel(); mConnectedThread = null;}\n\n    // Cancel the accept thread because we only want to connect to one device\n    if (mSecureAcceptThread != null) {\n        mSecureAcceptThread.cancel();\n        mSecureAcceptThread = null;\n    }\n\n    // Start the thread to manage the connection and perform transmissions\n    mConnectedThread = new ConnectedThread(socket, socketType);\n    mConnectedThread.start();\n\n    // Send the name of the connected device back to the UI Activity\n    Message msg = mHandler.obtainMessage(BluetoothState.MESSAGE_DEVICE_NAME);\n    Bundle bundle = new Bundle();\n    bundle.putString(BluetoothState.DEVICE_NAME, device.getName());\n    bundle.putString(BluetoothState.DEVICE_ADDRESS, device.getAddress());\n    msg.setData(bundle);\n    mHandler.sendMessage(msg);\n\n    setState(BluetoothState.STATE_CONNECTED);\n}\n</code></pre>\n"},{"tags":["java","android","android-viewholder","notepad"],"comments":[{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1626032307,"post_id":68339418,"comment_id":120778900,"body_markdown":"BTW, please post source code as text, not screenshots -- that makes it easier to search, read, and (where relevant) copy that source code.","body":"BTW, please post source code as text, not screenshots -- that makes it easier to search, read, and (where relevant) copy that source code."}],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1626032155,"creation_date":1626032155,"answer_id":68339424,"question_id":68339418,"body_markdown":"Change `Adapter.ViewHolder` to `RecyclerView.ViewHolder`.","title":"Cannot resolve symbol &#39;ViewHolder&#39; Java Android studio","body":"<p>Change <code>Adapter.ViewHolder</code> to <code>RecyclerView.ViewHolder</code>.</p>\n"},{"tags":[],"owner":{"account_id":13956194,"reputation":87,"user_id":10078500,"display_name":"TheMikeste1"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1626032314,"creation_date":1626032314,"answer_id":68339444,"question_id":68339418,"body_markdown":"Notice the error occurs for `Adapter.ViewHolder`. The program is expecting a class called `Adapter` to have a nested class called `ViewHolder`, which it does not.\r\n\r\nI suspect you want to use the `ViewHolder` inside your `NotesAdapter` class. To use that class, all you will need to do is change `Adapter.ViewHolder` to `NotesAdapter.ViewHolder`. ","title":"Cannot resolve symbol &#39;ViewHolder&#39; Java Android studio","body":"<p>Notice the error occurs for <code>Adapter.ViewHolder</code>. The program is expecting a class called <code>Adapter</code> to have a nested class called <code>ViewHolder</code>, which it does not.</p>\n<p>I suspect you want to use the <code>ViewHolder</code> inside your <code>NotesAdapter</code> class. To use that class, all you will need to do is change <code>Adapter.ViewHolder</code> to <code>NotesAdapter.ViewHolder</code>.</p>\n"}],"owner":{"account_id":19928834,"reputation":53,"user_id":14602853,"display_name":"Brett Hudson"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":836,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1648723921,"creation_date":1626032088,"question_id":68339418,"body_markdown":"[![Error of Cannot resolve symbol &#39;ViewHolder&#39;][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hgC0i.png\r\n\r\nI have tried other examples online and in stack overflow but cannot solve this issue I was following a tut made years ago which uses ViewHolder but it gives me error &quot;Cannot resolve symbol &#39;ViewHolder&#39;&quot;\r\nthis is for a part of my notepad tool inside of a app I&#39;m making any help is appreciated \r\n\r\n```\r\npublic class NotesAdapter extends RecyclerView.Adapter&lt;NotesAdapter.ViewHolder&gt; {\r\n\r\n    @NonNull\r\n    @Override\r\n    public NotesAdapter.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        return null;\r\n    }\r\n\r\n    public class ViewHolder extends RecyclerView.ViewHolder {\r\n        public ViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull NotesAdapter.ViewHolder holder, int position) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return 0;\r\n    }\r\n}\r\n```","title":"Cannot resolve symbol &#39;ViewHolder&#39; Java Android studio","body":"<p><a href=\"https://i.stack.imgur.com/hgC0i.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hgC0i.png\" alt=\"Error of Cannot resolve symbol 'ViewHolder'\" /></a></p>\n<p>I have tried other examples online and in stack overflow but cannot solve this issue I was following a tut made years ago which uses ViewHolder but it gives me error &quot;Cannot resolve symbol 'ViewHolder'&quot;\nthis is for a part of my notepad tool inside of a app I'm making any help is appreciated</p>\n<pre><code>public class NotesAdapter extends RecyclerView.Adapter&lt;NotesAdapter.ViewHolder&gt; {\n\n    @NonNull\n    @Override\n    public NotesAdapter.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        return null;\n    }\n\n    public class ViewHolder extends RecyclerView.ViewHolder {\n        public ViewHolder(@NonNull View itemView) {\n            super(itemView);\n        }\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull NotesAdapter.ViewHolder holder, int position) {\n\n    }\n\n    @Override\n    public int getItemCount() {\n        return 0;\n    }\n}\n</code></pre>\n"},{"tags":["java","eclipse"],"answers":[{"tags":[],"owner":{"account_id":14716105,"reputation":151,"user_id":10628043,"display_name":"Marco De Simone"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1570700948,"creation_date":1570700948,"answer_id":58320115,"question_id":58319840,"body_markdown":"Try to uninstall and reinstall eclipse and Java... It&#39;s the first option that you must try with this type of &quot;unexplained&quot; errors.","title":"&quot;Error: Could not create the Java Virtual Machine Error: A fatal exception...&quot; Shows error when I tried to launch Eclipse IDE 2019-06","body":"<p>Try to uninstall and reinstall eclipse and Java... It's the first option that you must try with this type of \"unexplained\" errors.</p>\n"},{"tags":[],"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1570713282,"creation_date":1570713282,"answer_id":58323816,"question_id":58319840,"body_markdown":" 1. Create a Shortcut to the `eclipse.exe`\r\n 1. Edit the shortcut so that it has `-vm {path to javaw.exe}` as arguments\r\n 1. Make sure the shortcut\r\n    has the directory containing `eclipse.exe` as its working/starting\r\n    directory.","title":"&quot;Error: Could not create the Java Virtual Machine Error: A fatal exception...&quot; Shows error when I tried to launch Eclipse IDE 2019-06","body":"<ol>\n<li>Create a Shortcut to the <code>eclipse.exe</code></li>\n<li>Edit the shortcut so that it has <code>-vm {path to javaw.exe}</code> as arguments</li>\n<li>Make sure the shortcut\nhas the directory containing <code>eclipse.exe</code> as its working/starting\ndirectory.</li>\n</ol>\n"}],"owner":{"account_id":10404394,"reputation":193,"user_id":7706073,"display_name":"Gaurav Kukade"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1794,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1648723565,"creation_date":1570700093,"question_id":58319840,"body_markdown":"**The problem I am facing:**\r\n\r\nI have tried to launch the Eclipse IDE 2019-06 64-bit, but it is showing the error &quot;Error: Could not create the Java Virtual Machine Error: A fatal exception has occurred. Program will exit.&quot;\r\n\r\nImage of the error box:\r\n![][1]\r\n\r\nOnce I clicked on the `Ok` button the tab with some text starting with &quot;java was started but returned exit code 1&quot; shows up.\r\n\r\nImage here:\r\n\r\n![click here][2]\r\n\r\n(Sorry, It is not allowing to copy the whole text, so not able to paste it here.)\r\n\r\n**Things I have tried:**\r\n\r\nAfter searching in Google I got the [blog][3] which says in method 1 &quot;add _JAVA_OPTIONS to System Variables and set the value to  -Xmx512M&quot;, and in method 2 &quot;run java.exe as an administrator&quot; but both methods are not working.\r\n\r\nSaw one video which says edit the &#39;eclipse.ini&#39; and replace &#39;-Xmx1024m&#39; to &#39;-Xmx512m&#39;, but it is not working though.\r\n\r\nCurrently, the &#39;eclipse.ini&#39; file contains,\r\n```\r\n-startup\r\nplugins/org.eclipse.equinox.launcher_1.5.400.v20190515-0925.jar\r\n--launcher.library\r\nplugins/org.eclipse.equinox.launcher.win32.win32.x86_64_1.1.1000.v20190125-2016\r\n-product\r\norg.eclipse.epp.package.jee.product\r\n-showsplash\r\norg.eclipse.epp.package.common\r\n--launcher.defaultAction\r\nopenFile\r\n--launcher.defaultAction\r\nopenFile\r\n--launcher.appendVmargs\r\n-vmargs\r\n-Dosgi.requiredJavaVersion=1.8\r\n-Dosgi.instance.area.default=@user.home/eclipse-workspace\r\n-XX:+UseG1GC\r\n-XX:+UseStringDeduplication\r\n--add-modules=ALL-SYSTEM\r\n-Dosgi.requiredJavaVersion=1.8\r\n-Dosgi.dataAreaRequiresExplicitInit=true\r\n-Xms256m\r\n-Xmx1024m\r\n--add-modules=ALL-SYSTEM\r\n```\r\n\r\n**Please note:**\r\n\r\nI have another version of the eclipse on my machine, which is &#39;Eclipse Juno&#39;(Version: Juno Service Release 2 Build id: 20130225-0426) and it is working fine. But I want to upgrade that&#39;s why I am trying it.\r\n\r\nOS I use: Windows 10 PRO 64-bit.\r\n\r\n&#39;java -version&#39; gives:\r\n```\r\njava version &quot;1.8.0&quot;\r\nJava(TM) SE Runtime Environment (build 1.8.0-b132)\r\nJava HotSpot(TM) 64-Bit Server VM (build 25.0-b70, mixed mode)\r\n```\r\n\r\nThanks in advance if you have the solution. If you don&#39;t have it, but understood the things which produce the error, please let me know by commenting the same. Thank you!\r\n\r\n  [1]: https://i.stack.imgur.com/ra4I4.jpg\r\n  [2]: https://i.stack.imgur.com/U3QWg.jpg\r\n  [3]: https://appuals.com/fix-could-not-create-the-java-virtual-machine/","title":"&quot;Error: Could not create the Java Virtual Machine Error: A fatal exception...&quot; Shows error when I tried to launch Eclipse IDE 2019-06","body":"<p><strong>The problem I am facing:</strong></p>\n<p>I have tried to launch the Eclipse IDE 2019-06 64-bit, but it is showing the error &quot;Error: Could not create the Java Virtual Machine Error: A fatal exception has occurred. Program will exit.&quot;</p>\n<p>Image of the error box:\n<img src=\"https://i.stack.imgur.com/ra4I4.jpg\" alt=\"\" /></p>\n<p>Once I clicked on the <code>Ok</code> button the tab with some text starting with &quot;java was started but returned exit code 1&quot; shows up.</p>\n<p>Image here:</p>\n<p><img src=\"https://i.stack.imgur.com/U3QWg.jpg\" alt=\"click here\" /></p>\n<p>(Sorry, It is not allowing to copy the whole text, so not able to paste it here.)</p>\n<p><strong>Things I have tried:</strong></p>\n<p>After searching in Google I got the <a href=\"https://appuals.com/fix-could-not-create-the-java-virtual-machine/\" rel=\"nofollow noreferrer\">blog</a> which says in method 1 &quot;add _JAVA_OPTIONS to System Variables and set the value to  -Xmx512M&quot;, and in method 2 &quot;run java.exe as an administrator&quot; but both methods are not working.</p>\n<p>Saw one video which says edit the 'eclipse.ini' and replace '-Xmx1024m' to '-Xmx512m', but it is not working though.</p>\n<p>Currently, the 'eclipse.ini' file contains,</p>\n<pre><code>-startup\nplugins/org.eclipse.equinox.launcher_1.5.400.v20190515-0925.jar\n--launcher.library\nplugins/org.eclipse.equinox.launcher.win32.win32.x86_64_1.1.1000.v20190125-2016\n-product\norg.eclipse.epp.package.jee.product\n-showsplash\norg.eclipse.epp.package.common\n--launcher.defaultAction\nopenFile\n--launcher.defaultAction\nopenFile\n--launcher.appendVmargs\n-vmargs\n-Dosgi.requiredJavaVersion=1.8\n-Dosgi.instance.area.default=@user.home/eclipse-workspace\n-XX:+UseG1GC\n-XX:+UseStringDeduplication\n--add-modules=ALL-SYSTEM\n-Dosgi.requiredJavaVersion=1.8\n-Dosgi.dataAreaRequiresExplicitInit=true\n-Xms256m\n-Xmx1024m\n--add-modules=ALL-SYSTEM\n</code></pre>\n<p><strong>Please note:</strong></p>\n<p>I have another version of the eclipse on my machine, which is 'Eclipse Juno'(Version: Juno Service Release 2 Build id: 20130225-0426) and it is working fine. But I want to upgrade that's why I am trying it.</p>\n<p>OS I use: Windows 10 PRO 64-bit.</p>\n<p>'java -version' gives:</p>\n<pre><code>java version &quot;1.8.0&quot;\nJava(TM) SE Runtime Environment (build 1.8.0-b132)\nJava HotSpot(TM) 64-Bit Server VM (build 25.0-b70, mixed mode)\n</code></pre>\n<p>Thanks in advance if you have the solution. If you don't have it, but understood the things which produce the error, please let me know by commenting the same. Thank you!</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1648723737,"post_id":71691139,"comment_id":126699695,"body_markdown":"`new FileOutputStream(dest, true);` See the Javadoc.","body":"<code>new FileOutputStream(dest, true);</code> See the Javadoc."},{"owner":{"account_id":954654,"reputation":1013,"user_id":980178,"display_name":"Morten Haraldsen"},"score":0,"creation_date":1648723774,"post_id":71691139,"comment_id":126699715,"body_markdown":"Duplicate: https://stackoverflow.com/questions/1625234/how-to-append-text-to-an-existing-file-in-java","body":"Duplicate: <a href=\"https://stackoverflow.com/questions/1625234/how-to-append-text-to-an-existing-file-in-java\" title=\"how to append text to an existing file in java\">stackoverflow.com/questions/1625234/&hellip;</a>"},{"owner":{"display_name":"user18623114"},"score":0,"creation_date":1648724080,"post_id":71691139,"comment_id":126699815,"body_markdown":"@user207421 you are THE man. Thanks a lot!!! Please reopen that question and post your comment as an answer!","body":"@user207421 you are THE man. Thanks a lot!!! Please reopen that question and post your comment as an answer!"}],"owner":{"display_name":"user18623114"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1648723749,"answer_count":0,"score":0,"last_activity_date":1648723540,"creation_date":1648723540,"question_id":71691139,"body_markdown":"A jsp receives via POST request some base64 encoded data, splitted in chunks, that I would like to save inside a file. The problem is that the way I&#39;m doing it just overwrites the content already inside that file.\r\n\r\nHow to fix that behaviour, in the simple and basic way possible?\r\n\r\nThis is the code:\r\n\r\n    try {\r\n                        int BUFFER_SIZE = 4096;\r\n          \r\n                        String file = request.getParameter(&quot;TEST&quot;);\r\n    \r\n                        byte[] bytes = file.getBytes();\r\n                        File dest = new File(&quot;/tmp/test&quot;);\r\n    \r\n    \r\n                        InputStream fileInputStream = new ByteArrayInputStream(bytes); \r\n                        OutputStream outputStream = new FileOutputStream(dest);\r\n      \r\n                        byte[] buffer = new byte[BUFFER_SIZE];\r\n                        int bytesRead = -1;\r\n     \r\n                        while ((bytesRead = fileInputStream.read(buffer)) != -1) {\r\n                            outputStream.write(buffer, 0, bytesRead);\r\n                        }\r\n     \r\n    \r\n                }\r\n\r\n\r\nI know that the base64 decoding part is missing, I will implement it after that behaviour gets fixed","title":"How to not overwrite existing data in a binary file while writing to it?","body":"<p>A jsp receives via POST request some base64 encoded data, splitted in chunks, that I would like to save inside a file. The problem is that the way I'm doing it just overwrites the content already inside that file.</p>\n<p>How to fix that behaviour, in the simple and basic way possible?</p>\n<p>This is the code:</p>\n<pre><code>try {\n                    int BUFFER_SIZE = 4096;\n      \n                    String file = request.getParameter(&quot;TEST&quot;);\n\n                    byte[] bytes = file.getBytes();\n                    File dest = new File(&quot;/tmp/test&quot;);\n\n\n                    InputStream fileInputStream = new ByteArrayInputStream(bytes); \n                    OutputStream outputStream = new FileOutputStream(dest);\n  \n                    byte[] buffer = new byte[BUFFER_SIZE];\n                    int bytesRead = -1;\n \n                    while ((bytesRead = fileInputStream.read(buffer)) != -1) {\n                        outputStream.write(buffer, 0, bytesRead);\n                    }\n \n\n            }\n</code></pre>\n<p>I know that the base64 decoding part is missing, I will implement it after that behaviour gets fixed</p>\n"},{"tags":["java","android","multithreading","timer","accelerometer"],"comments":[{"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"score":0,"creation_date":1648725754,"post_id":71690711,"comment_id":126700396,"body_markdown":"[How to update views from a non UI thread in android](https://stackoverflow.com/questions/12716850/android-update-textview-in-thread-and-runnable).","body":"<a href=\"https://stackoverflow.com/questions/12716850/android-update-textview-in-thread-and-runnable\">How to update views from a non UI thread in android</a>."}],"answers":[{"tags":[],"owner":{"account_id":18406537,"reputation":370,"user_id":13408140,"display_name":"Eduard A"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648722308,"creation_date":1648722308,"answer_id":71690888,"question_id":71690711,"body_markdown":"Try stringBuffer instead of stringbuilder. Stringbuilder is not syncronized.","title":"The program closes after executing the loop on Thread","body":"<p>Try stringBuffer instead of stringbuilder. Stringbuilder is not syncronized.</p>\n"},{"tags":[],"owner":{"account_id":7097254,"reputation":4695,"user_id":5430306,"display_name":"Rafsanjani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648723291,"creation_date":1648723291,"answer_id":71691098,"question_id":71690711,"body_markdown":"`editText.setText` from your `Thread` is trying to modify an android view from a background thread, this is a forbidden action. You should only modify android views from the UI/Main thread. In your example, you can try posting it to the UI thread\r\n\r\n    public void onstart(View view) {\r\n        setContentView(R.layout.activity_main);\r\n        EditText editText = (EditText)findViewById(R.id.result);\r\n        Toast.makeText(this, &quot;LOG FINISH!&quot;, Toast.LENGTH_SHORT).show();\r\n        String str = new String((String) textView1.getText());\r\n        StringBuilder sbz = new StringBuilder();\r\n        new Thread(() -&gt; {\r\n            int x = 0;\r\n            while(x&lt;100) {\r\n                x++;\r\n                sbz.append(str);\r\n                try {\r\n                    Thread.sleep(100);\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n\r\n              editText.post(() -&gt; {\r\n                  editText.setText(sbz)\r\n              });\r\n\r\n        }).start();\r\n\r\n","title":"The program closes after executing the loop on Thread","body":"<p><code>editText.setText</code> from your <code>Thread</code> is trying to modify an android view from a background thread, this is a forbidden action. You should only modify android views from the UI/Main thread. In your example, you can try posting it to the UI thread</p>\n<pre><code>public void onstart(View view) {\n    setContentView(R.layout.activity_main);\n    EditText editText = (EditText)findViewById(R.id.result);\n    Toast.makeText(this, &quot;LOG FINISH!&quot;, Toast.LENGTH_SHORT).show();\n    String str = new String((String) textView1.getText());\n    StringBuilder sbz = new StringBuilder();\n    new Thread(() -&gt; {\n        int x = 0;\n        while(x&lt;100) {\n            x++;\n            sbz.append(str);\n            try {\n                Thread.sleep(100);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n\n          editText.post(() -&gt; {\n              editText.setText(sbz)\n          });\n\n    }).start();\n</code></pre>\n"}],"owner":{"account_id":24189199,"reputation":11,"user_id":18148605,"display_name":"RD1706"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1648725787,"answer_count":2,"score":-1,"last_activity_date":1648723291,"creation_date":1648721554,"question_id":71690711,"body_markdown":"Error only when i use editText.setText(sbz); What to do? Without Thread, setText works good\r\n\r\n    public void onstart(View view) {\r\n        setContentView(R.layout.activity_main);\r\n        EditText editText = (EditText)findViewById(R.id.result);\r\n        Toast.makeText(this, &quot;LOG FINISH!&quot;, Toast.LENGTH_SHORT).show();\r\n        String str = new String((String) textView1.getText());\r\n        StringBuilder sbz = new StringBuilder();\r\n        new Thread(() -&gt; {\r\n            int x = 0;\r\n            while(x&lt;100) {\r\n                x++;\r\n                sbz.append(str);\r\n                try {\r\n                    Thread.sleep(100);\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n            editText.setText(sbz);\r\n        }).start();","title":"The program closes after executing the loop on Thread","body":"<p>Error only when i use editText.setText(sbz); What to do? Without Thread, setText works good</p>\n<pre><code>public void onstart(View view) {\n    setContentView(R.layout.activity_main);\n    EditText editText = (EditText)findViewById(R.id.result);\n    Toast.makeText(this, &quot;LOG FINISH!&quot;, Toast.LENGTH_SHORT).show();\n    String str = new String((String) textView1.getText());\n    StringBuilder sbz = new StringBuilder();\n    new Thread(() -&gt; {\n        int x = 0;\n        while(x&lt;100) {\n            x++;\n            sbz.append(str);\n            try {\n                Thread.sleep(100);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n        editText.setText(sbz);\n    }).start();\n</code></pre>\n"},{"tags":["java","scheduled-tasks","spring-jms","scheduledexecutorservice"],"comments":[{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":1,"creation_date":1560200033,"post_id":56533029,"comment_id":99649984,"body_markdown":"IDK anything about Spring, but seems like constantly creating a JmsClient in the send method could be a performance issue?","body":"IDK anything about Spring, but seems like constantly creating a JmsClient in the send method could be a performance issue?"},{"owner":{"account_id":8733004,"reputation":95,"user_id":6532445,"accept_rate":0,"display_name":"Dimitris Baltas"},"score":0,"creation_date":1560201749,"post_id":56533029,"comment_id":99650532,"body_markdown":"Thanks for your comment! Definitely I need to instantiate jms client only once...","body":"Thanks for your comment! Definitely I need to instantiate jms client only once..."}],"answers":[{"tags":[],"owner":{"account_id":1674999,"reputation":9423,"user_id":1540749,"accept_rate":90,"display_name":"josejuan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1560200697,"creation_date":1560200697,"answer_id":56533519,"question_id":56533029,"body_markdown":"You should solve two problems:\r\n\r\n1. total send operation time must be under max time.\r\n2. messages should be sent not as fast as possible, instead, they should be sent uniformly along all available time.\r\n\r\nObviously, if your `send` method is too slow, the max time will be exceeded.\r\n\r\nThe faster way to send messages is to use some sort of bulk operation. Never mind if your MQ API don&#39;t support bulk operation, you can&#39;t use it! because of the second restriction (&quot;uniformly&quot;).\r\n\r\nYou can send messages asynchronously, but if your MQ API create threads for that instead of &quot;non-blocking&quot; async, you could have memory problems.\r\n\r\nUsing `javax.jms.MessageProducer.send` you can send messages asynchronously, but a new one thread will be created for each one (a lot of memory and server threads will be created).\r\n\r\nAnother speedup could be create only one JMS client (your `send` method).\r\n\r\nTo achieve the second requirement, you should fix your `timeOfDelay` function, it&#39;s wrong. Really, you should take in account the probability distribution of the `send` function to estimate the proper value but, you can simply do:\r\n\r\n```java\r\n    long accTime = 0L;\r\n    for (int i=0; i&lt;TOTAL_MESSAGES; i++) {\r\n        try {\r\n            long start = System.currentTimeMillis();\r\n            MessageDTO msg = manager.createMessage();\r\n            send(msg);\r\n            long stop = System.currentTimeMillis();\r\n            accTime += stop - start;\r\n            if(accTime &lt; TIME_PERIOD)\r\n                Thread.sleep((TIME_PERIOD - accTime) / (TOTAL_MESSAGES - i));\r\n        } catch (Exception e) {\r\n            log.info(&quot;Error :  &quot; + e.getMessage());\r\n            failedPerPeriod++;\r\n        }\r\n    }\r\n```","title":"Send 35000 jms messages per minute","body":"<p>You should solve two problems:</p>\n\n<ol>\n<li>total send operation time must be under max time.</li>\n<li>messages should be sent not as fast as possible, instead, they should be sent uniformly along all available time.</li>\n</ol>\n\n<p>Obviously, if your <code>send</code> method is too slow, the max time will be exceeded.</p>\n\n<p>The faster way to send messages is to use some sort of bulk operation. Never mind if your MQ API don't support bulk operation, you can't use it! because of the second restriction (\"uniformly\").</p>\n\n<p>You can send messages asynchronously, but if your MQ API create threads for that instead of \"non-blocking\" async, you could have memory problems.</p>\n\n<p>Using <code>javax.jms.MessageProducer.send</code> you can send messages asynchronously, but a new one thread will be created for each one (a lot of memory and server threads will be created).</p>\n\n<p>Another speedup could be create only one JMS client (your <code>send</code> method).</p>\n\n<p>To achieve the second requirement, you should fix your <code>timeOfDelay</code> function, it's wrong. Really, you should take in account the probability distribution of the <code>send</code> function to estimate the proper value but, you can simply do:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>    long accTime = 0L;\n    for (int i=0; i&lt;TOTAL_MESSAGES; i++) {\n        try {\n            long start = System.currentTimeMillis();\n            MessageDTO msg = manager.createMessage();\n            send(msg);\n            long stop = System.currentTimeMillis();\n            accTime += stop - start;\n            if(accTime &lt; TIME_PERIOD)\n                Thread.sleep((TIME_PERIOD - accTime) / (TOTAL_MESSAGES - i));\n        } catch (Exception e) {\n            log.info(\"Error :  \" + e.getMessage());\n            failedPerPeriod++;\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1228608,"reputation":1107,"user_id":1193657,"display_name":"Talijanac"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648722391,"creation_date":1648721884,"answer_id":71690788,"question_id":56533029,"body_markdown":"35000 msg/min is a notch below 600 msg/sec. That is not considered &quot;a lot&quot; and should be relatively easy goal to clear. Primary idea is to &quot;reuse&quot; all heavy weight JMS objects: connection, session and destination. Single thread should be enough.\r\n\r\n    ConnectionFactory connFactory = ....\t// initialize connection factory\r\n    @Cleanup Connection conn = connFactory.createConnection();\r\n    @Cleanup Session session = conn.createSession(true, Session.SESSION_TRANSACTED);\r\n    Queue q = session.createQueue(&quot;example_destiation&quot;);\r\n    @Cleanup MessageProducer producer = session.createProducer(q);\r\n\r\n    for (String payload: messagesToSend) {\r\n\t    TextMessage message = session.createTextMessage(payload);\r\n    \tproducer.send(msg);\r\n\t    session.commit();\r\n    }\r\n\r\nAdditional speedups are possible by:\r\n  - commiting every n-th message\r\n  - by using faster ACKNOWLEDGE modes\r\n  - by using non-persistent messages\r\n  - by using destination object created outside session\r\n  - sending messages asynchronously\r\n\r\n\r\nExample of NON_PERSISTENT, ACKOWLEDGE, ASYNC delivery:  \r\n\r\n    @Cleanup Connection conn = connFactory.createConnection();\r\n    @Cleanup Session session = conn.createSession(false, Session.DUPS_OK_ACKNOWLEDGE);\r\n    Queue q = session.createQueue(&quot;example_destiation&quot;);\r\n    @Cleanup MessageProducer producer = session.createProducer(q);\r\n    producer.setDeliveryMode(DeliveryMode.NON_PERSISTENT);\r\n    producer.setAsync(new ExmpleSendListener());\r\n\r\n    for (String payload: messagesToSend) {\r\n\t    TextMessage message = session.createTextMessage(payload);\r\n    \tproducer.send(msg);\r\n    }\r\n\r\n\r\n","title":"Send 35000 jms messages per minute","body":"<p>35000 msg/min is a notch below 600 msg/sec. That is not considered &quot;a lot&quot; and should be relatively easy goal to clear. Primary idea is to &quot;reuse&quot; all heavy weight JMS objects: connection, session and destination. Single thread should be enough.</p>\n<pre><code>ConnectionFactory connFactory = ....    // initialize connection factory\n@Cleanup Connection conn = connFactory.createConnection();\n@Cleanup Session session = conn.createSession(true, Session.SESSION_TRANSACTED);\nQueue q = session.createQueue(&quot;example_destiation&quot;);\n@Cleanup MessageProducer producer = session.createProducer(q);\n\nfor (String payload: messagesToSend) {\n    TextMessage message = session.createTextMessage(payload);\n    producer.send(msg);\n    session.commit();\n}\n</code></pre>\n<p>Additional speedups are possible by:</p>\n<ul>\n<li>commiting every n-th message</li>\n<li>by using faster ACKNOWLEDGE modes</li>\n<li>by using non-persistent messages</li>\n<li>by using destination object created outside session</li>\n<li>sending messages asynchronously</li>\n</ul>\n<p>Example of NON_PERSISTENT, ACKOWLEDGE, ASYNC delivery:</p>\n<pre><code>@Cleanup Connection conn = connFactory.createConnection();\n@Cleanup Session session = conn.createSession(false, Session.DUPS_OK_ACKNOWLEDGE);\nQueue q = session.createQueue(&quot;example_destiation&quot;);\n@Cleanup MessageProducer producer = session.createProducer(q);\nproducer.setDeliveryMode(DeliveryMode.NON_PERSISTENT);\nproducer.setAsync(new ExmpleSendListener());\n\nfor (String payload: messagesToSend) {\n    TextMessage message = session.createTextMessage(payload);\n    producer.send(msg);\n}\n</code></pre>\n"}],"owner":{"account_id":8733004,"reputation":95,"user_id":6532445,"accept_rate":0,"display_name":"Dimitris Baltas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":886,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1648722391,"creation_date":1560197983,"question_id":56533029,"body_markdown":"We have a spring boot application for performing load test on one other component. We need to send max 35000 JMS messages per minute and for that reason I am using a scheduler for running a task every one minute. \r\n\r\nThe problem is when I keep the intensity low it manages to send the messages within the specified time interval (one minute). But when the intensity is high it takes more than 1 minute to send the chunk of messages. Any suggestions on the below implementation? \r\n\r\n**Scheduler class**\r\n\r\n    @Component\r\n    public class MessageScheduler {\r\n\r\n    private final Logger log = LoggerFactory.getLogger(getClass());\r\n    private static ScheduledExecutorService executorService = Executors.newScheduledThreadPool(16);\r\n    private final static int TIME_PERIOD = ConfigFactory.getConfig().getInt(&quot;messages.period&quot;).orElse(60000);\r\n\r\n    @Autowired\r\n    JmsSender sender;\r\n\r\n        public void startScheduler() {\r\n           Runnable runnableTask = sender::sendMessagesChunk;\r\n           executorService.scheduleAtFixedRate(runnableTask, 0, TIME_PERIOD, \r\n           TimeUnit.MILLISECONDS);\r\n        }\r\n    }\r\n\r\n\r\n**Class for sending the messages**\r\n\r\n    @Component\r\n    public class JmsSender {\r\n\r\n    @Autowired\r\n    TrackingManager manager;\r\n\r\n    private final Logger log = LoggerFactory.getLogger(getClass());\r\n    private final static int TOTAL_MESSAGES = ConfigFactory.getConfig().getInt(&quot;total.tracking.messages&quot;).orElse(10);\r\n    private final static int TIME_PERIOD = ConfigFactory.getConfig().getInt(&quot;messages.period&quot;).orElse(60000);\r\n    private static int failedPerPeriod=0;\r\n    private static int totalFailed=0;\r\n    private static int totalMessageCounter=0;\r\n\r\n    public void sendMessagesChunk() {\r\n        log.info(&quot;Started  at: {}&quot;, Instant.now());\r\n        log.info(&quot;Sending messages with intensity {} messages/minute&quot;, TOTAL_MESSAGES);\r\n        for (int i=0; i&lt;TOTAL_MESSAGES; i++) {\r\n            try {\r\n                long start = System.currentTimeMillis();\r\n                MessageDTO msg = manager.createMessage();\r\n                send(msg);\r\n                long stop = System.currentTimeMillis();\r\n                if (timeOfDelay(stop-start)&gt;=0L) {\r\n                    Thread.sleep(timeOfDelay(stop-start));\r\n                }\r\n            } catch (Exception e) {\r\n                log.info(&quot;Error :  &quot; + e.getMessage());\r\n                failedPerPeriod++;\r\n            }\r\n        }\r\n        totalMessageCounter += TOTAL_MESSAGES;\r\n        totalFailed += failedPerPeriod;\r\n        log.info(&quot;Finished  at: {}&quot;, Instant.now());\r\n        log.info(&quot;Success rate(of last minute): {} %, Succeeded: {}, Failed: {}, Success rate(in total): {} %, Succeeded: {}, Failed: {}&quot;\r\n                ,getSuccessRatePerPeriod(), getSuccededPerPeriod(), failedPerPeriod,\r\n                getTotalSuccessRate(), getTotalSucceded(), totalFailed);\r\n        failedPerPeriod =0;\r\n    }\r\n\r\n    private long timeOfDelay(Long elapsedTime){\r\n        return (TIME_PERIOD / TOTAL_MESSAGES) - elapsedTime;\r\n    }\r\n    private int getSuccededPerPeriod(){\r\n        return TOTAL_MESSAGES - failedPerPeriod;\r\n    }\r\n\r\n    private int getTotalSucceded(){\r\n        return totalMessageCounter - totalFailed;\r\n    }\r\n\r\n    private double getSuccessRatePerPeriod(){\r\n        return getSuccededPerPeriod()*100D / TOTAL_MESSAGES;\r\n    }\r\n\r\n    private double getTotalSuccessRate(){\r\n        return getTotalSucceded()*100D / totalMessageCounter;\r\n    }\r\n\r\n    private void send(MessageDTO messageDTO) throws Exception {\r\n        requestContextInitializator();\r\n        JmsClient client = JmsClientBuilder.newClient(UriScheme.JmsType.AMQ);\r\n        client.target(new URI(&quot;activemq:queue:&quot; + messageDTO.getDestination()))\r\n                .msgTypeVersion(messageDTO.getMsgType(), messageDTO.getVersion())\r\n                .header(Header.MSG_VERSION, messageDTO.getVersion())\r\n                .header(Header.MSG_TYPE, messageDTO.getMsgType())\r\n                .header(Header.TRACKING_ID, UUID.randomUUID().toString())\r\n                .header(Header.CLIENT_ID, &quot;TrackingJmsClient&quot;)\r\n                .post(messageDTO.getPayload());\r\n    }","title":"Send 35000 jms messages per minute","body":"<p>We have a spring boot application for performing load test on one other component. We need to send max 35000 JMS messages per minute and for that reason I am using a scheduler for running a task every one minute. </p>\n\n<p>The problem is when I keep the intensity low it manages to send the messages within the specified time interval (one minute). But when the intensity is high it takes more than 1 minute to send the chunk of messages. Any suggestions on the below implementation? </p>\n\n<p><strong>Scheduler class</strong></p>\n\n<pre><code>@Component\npublic class MessageScheduler {\n\nprivate final Logger log = LoggerFactory.getLogger(getClass());\nprivate static ScheduledExecutorService executorService = Executors.newScheduledThreadPool(16);\nprivate final static int TIME_PERIOD = ConfigFactory.getConfig().getInt(\"messages.period\").orElse(60000);\n\n@Autowired\nJmsSender sender;\n\n    public void startScheduler() {\n       Runnable runnableTask = sender::sendMessagesChunk;\n       executorService.scheduleAtFixedRate(runnableTask, 0, TIME_PERIOD, \n       TimeUnit.MILLISECONDS);\n    }\n}\n</code></pre>\n\n<p><strong>Class for sending the messages</strong></p>\n\n<pre><code>@Component\npublic class JmsSender {\n\n@Autowired\nTrackingManager manager;\n\nprivate final Logger log = LoggerFactory.getLogger(getClass());\nprivate final static int TOTAL_MESSAGES = ConfigFactory.getConfig().getInt(\"total.tracking.messages\").orElse(10);\nprivate final static int TIME_PERIOD = ConfigFactory.getConfig().getInt(\"messages.period\").orElse(60000);\nprivate static int failedPerPeriod=0;\nprivate static int totalFailed=0;\nprivate static int totalMessageCounter=0;\n\npublic void sendMessagesChunk() {\n    log.info(\"Started  at: {}\", Instant.now());\n    log.info(\"Sending messages with intensity {} messages/minute\", TOTAL_MESSAGES);\n    for (int i=0; i&lt;TOTAL_MESSAGES; i++) {\n        try {\n            long start = System.currentTimeMillis();\n            MessageDTO msg = manager.createMessage();\n            send(msg);\n            long stop = System.currentTimeMillis();\n            if (timeOfDelay(stop-start)&gt;=0L) {\n                Thread.sleep(timeOfDelay(stop-start));\n            }\n        } catch (Exception e) {\n            log.info(\"Error :  \" + e.getMessage());\n            failedPerPeriod++;\n        }\n    }\n    totalMessageCounter += TOTAL_MESSAGES;\n    totalFailed += failedPerPeriod;\n    log.info(\"Finished  at: {}\", Instant.now());\n    log.info(\"Success rate(of last minute): {} %, Succeeded: {}, Failed: {}, Success rate(in total): {} %, Succeeded: {}, Failed: {}\"\n            ,getSuccessRatePerPeriod(), getSuccededPerPeriod(), failedPerPeriod,\n            getTotalSuccessRate(), getTotalSucceded(), totalFailed);\n    failedPerPeriod =0;\n}\n\nprivate long timeOfDelay(Long elapsedTime){\n    return (TIME_PERIOD / TOTAL_MESSAGES) - elapsedTime;\n}\nprivate int getSuccededPerPeriod(){\n    return TOTAL_MESSAGES - failedPerPeriod;\n}\n\nprivate int getTotalSucceded(){\n    return totalMessageCounter - totalFailed;\n}\n\nprivate double getSuccessRatePerPeriod(){\n    return getSuccededPerPeriod()*100D / TOTAL_MESSAGES;\n}\n\nprivate double getTotalSuccessRate(){\n    return getTotalSucceded()*100D / totalMessageCounter;\n}\n\nprivate void send(MessageDTO messageDTO) throws Exception {\n    requestContextInitializator();\n    JmsClient client = JmsClientBuilder.newClient(UriScheme.JmsType.AMQ);\n    client.target(new URI(\"activemq:queue:\" + messageDTO.getDestination()))\n            .msgTypeVersion(messageDTO.getMsgType(), messageDTO.getVersion())\n            .header(Header.MSG_VERSION, messageDTO.getVersion())\n            .header(Header.MSG_TYPE, messageDTO.getMsgType())\n            .header(Header.TRACKING_ID, UUID.randomUUID().toString())\n            .header(Header.CLIENT_ID, \"TrackingJmsClient\")\n            .post(messageDTO.getPayload());\n}\n</code></pre>\n"},{"tags":["java","eclipse-plugin","internationalization","eclipse-rcp","ini"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":2,"creation_date":1648725190,"post_id":71690895,"comment_id":126700211,"body_markdown":"You need the appropriate language packs from [Eclipse Babel](https://www.eclipse.org/babel/) for that (more precisely, for the `org.eclipse.help.webapp` plugin the fragments for the each language you want). By the way, do you know the modernized help UI that is contained in Eclipse but not enabled by default (see e.g. [here](https://remainsoftware.com/docs/openapi/help/index.jsp) vs. [leagacy](https://remainsoftware.com/docs/openapi/help/index.jsp?legacy))?","body":"You need the appropriate language packs from <a href=\"https://www.eclipse.org/babel/\" rel=\"nofollow noreferrer\">Eclipse Babel</a> for that (more precisely, for the <code>org.eclipse.help.webapp</code> plugin the fragments for the each language you want). By the way, do you know the modernized help UI that is contained in Eclipse but not enabled by default (see e.g. <a href=\"https://remainsoftware.com/docs/openapi/help/index.jsp\" rel=\"nofollow noreferrer\">here</a> vs. <a href=\"https://remainsoftware.com/docs/openapi/help/index.jsp?legacy\" rel=\"nofollow noreferrer\">leagacy</a>)?"},{"owner":{"account_id":24157406,"reputation":11,"user_id":18121458,"display_name":"Sudipto Saha"},"score":0,"creation_date":1648796566,"post_id":71690895,"comment_id":126719694,"body_markdown":"This worked for eclipse. So, we need to bundle these packages inside our RCP application ? How can we make the RCP product connected to these packages ?","body":"This worked for eclipse. So, we need to bundle these packages inside our RCP application ? How can we make the RCP product connected to these packages ?"},{"owner":{"account_id":24157406,"reputation":11,"user_id":18121458,"display_name":"Sudipto Saha"},"score":0,"creation_date":1648796586,"post_id":71690895,"comment_id":126719700,"body_markdown":"Also, can we add our company specific translations ?","body":"Also, can we add our company specific translations ?"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1648800444,"post_id":71690895,"comment_id":126720912,"body_markdown":"The fragments have to be added to the target platform and will be automatically activated with their host plugins. Yes, you can also add your own customized language pack fragments instead. If you use the modernized help UI (which I contributed to Eclipse), most languages are still missing and it would be nice if you would contribute the translations via Eclipse Babel.","body":"The fragments have to be added to the target platform and will be automatically activated with their host plugins. Yes, you can also add your own customized language pack fragments instead. If you use the modernized help UI (which I contributed to Eclipse), most languages are still missing and it would be nice if you would contribute the translations via Eclipse Babel."},{"owner":{"account_id":24157406,"reputation":11,"user_id":18121458,"display_name":"Sudipto Saha"},"score":0,"creation_date":1648815851,"post_id":71690895,"comment_id":126726229,"body_markdown":"I added them in target platform, and reloaded the product file. When I run it, the help is still in english.","body":"I added them in target platform, and reloaded the product file. When I run it, the help is still in english."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1648817512,"post_id":71690895,"comment_id":126726858,"body_markdown":"It works for me. For example, if I build my RCP application with the fragments of the Japanese language pack so that they are placed in the `plugins` folder of my product and the `ini` file contains the two lines `-nl` and `ja` in the upper part of the `ini` file, then the help UI will be in Japanese. Without `-nl`, the language is derived from the OS.","body":"It works for me. For example, if I build my RCP application with the fragments of the Japanese language pack so that they are placed in the <code>plugins</code> folder of my product and the <code>ini</code> file contains the two lines <code>-nl</code> and <code>ja</code> in the upper part of the <code>ini</code> file, then the help UI will be in Japanese. Without <code>-nl</code>, the language is derived from the OS."},{"owner":{"account_id":24157406,"reputation":11,"user_id":18121458,"display_name":"Sudipto Saha"},"score":0,"creation_date":1648915974,"post_id":71690895,"comment_id":126746336,"body_markdown":"Thanks It worked finally. I went to run configurations and added the fragments properly again then, though validate plugins showed some missing constraints but it worked. I had to work on the sanity of the jars and bundle them for the product installation.","body":"Thanks It worked finally. I went to run configurations and added the fragments properly again then, though validate plugins showed some missing constraints but it worked. I had to work on the sanity of the jars and bundle them for the product installation."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1649052900,"post_id":71690895,"comment_id":126769207,"body_markdown":"For the help window, only one `org.eclipse.help.webapp...` fragment per language is required. You use Tycho to build your product, right? How did you include the fragments in your target definition?","body":"For the help window, only one <code>org.eclipse.help.webapp...</code> fragment per language is required. You use Tycho to build your product, right? How did you include the fragments in your target definition?"}],"owner":{"account_id":24157406,"reputation":11,"user_id":18121458,"display_name":"Sudipto Saha"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1648722342,"creation_date":1648722342,"question_id":71690895,"body_markdown":"We have i18nized our help content in our eclipse RCP application. The TOC files and the HTML files they refer receive the OS nl and displays data accordingly. But the search, go button, Scope, All topics, the Help toolbar is still in English. The landing page Using the help system is also in English. I need some help how we can change it.\r\n\r\nI have tried sending parameters in the program as well as the VM args as -nl pt,etc and tried to change the locales in the ini file of the product, but didn&#39;t worked.","title":"How to add i18n in the Help content toolbar and search button for an eclipse RCP application?","body":"<p>We have i18nized our help content in our eclipse RCP application. The TOC files and the HTML files they refer receive the OS nl and displays data accordingly. But the search, go button, Scope, All topics, the Help toolbar is still in English. The landing page Using the help system is also in English. I need some help how we can change it.</p>\n<p>I have tried sending parameters in the program as well as the VM args as -nl pt,etc and tried to change the locales in the ini file of the product, but didn't worked.</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","spring-data"],"answers":[{"tags":[],"owner":{"display_name":"user10367961"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1537103587,"creation_date":1537103587,"answer_id":52354494,"question_id":52354315,"body_markdown":"Yes, please take a look at the QueryDSL support for Spring Data. Your use case can be implemented via a Predicate. In a nutshell, you have to create a predicate in which you would pass the non null fields, and then pass that predicate to a findAll method that takes a Predicate as argument. Your repository interface also has to extend QueryDslPredicateExecutor&lt;Person&gt;","title":"Spring Data JPA: Generate dynamic query","body":"<p>Yes, please take a look at the QueryDSL support for Spring Data. Your use case can be implemented via a Predicate. In a nutshell, you have to create a predicate in which you would pass the non null fields, and then pass that predicate to a findAll method that takes a Predicate as argument. Your repository interface also has to extend QueryDslPredicateExecutor</p>\n"},{"tags":[],"owner":{"account_id":8888831,"reputation":2120,"user_id":6636213,"display_name":"MohammadReza  Alagheband"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1537104466,"creation_date":1537104466,"answer_id":52354622,"question_id":52354315,"body_markdown":"Based on Spring doc https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#query-by-example\r\n\r\n&gt; Query by Example (QBE) is a user-friendly querying technique with a\r\n&gt; simple interface. It allows dynamic query creation and does not\r\n&gt; require you to write queries that contain field names. In fact, Query\r\n&gt; by Example does not require you to write queries by using\r\n&gt; store-specific query languages at all.\r\n\r\n\r\n**DEFINITION:**\r\nAn Example takes a data object (usually the entity object or a sub-type of it) and a specification how to match properties. You can use Query by Example with JPA \r\nRepositories.\r\n\r\nTo do so, let your repository interface extend `QueryByExampleExecutor&lt;T&gt;`, for example:\r\n\r\n    public interface PersonRepository extends CrudRepository&lt;Person, String&gt;, QueryByExampleExecutor&lt;Person&gt; {\r\n    }\r\n\r\nHere are the available methods in `QueryByExampleExecutor` :\r\n\r\n    public interface QueryByExampleExecutor&lt;T&gt; {\r\n    \r\n      &lt;S extends T&gt; S findOne(Example&lt;S&gt; example);\r\n    \r\n      &lt;S extends T&gt; Iterable&lt;S&gt; findAll(Example&lt;S&gt; example);\r\n    \r\n      // … more functionality omitted.\r\n    }\r\n\r\n**USAGES:**\r\n\r\n    Example&lt;Person&gt; example = Example.of(new Person(&quot;Jon&quot;, &quot;Snow&quot;));\r\n    repo.findAll(example);\r\n    \r\n    \r\n    ExampleMatcher matcher = ExampleMatcher.matching().\r\n        .withMatcher(&quot;firstname&quot;, endsWith())\r\n        .withMatcher(&quot;lastname&quot;, startsWith().ignoreCase());\r\n    \r\n    Example&lt;Person&gt; example = Example.of(new Person(&quot;Jon&quot;, &quot;Snow&quot;), matcher); \r\n    repo.count(example);\r\n\r\n-------------------------------\r\n\r\n**MORE INFO**\r\n\r\n&gt;  - https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#query-by-example\r\n&gt;  - https://github.com/spring-projects/spring-data-examples/tree/master/jpa/query-by-example\r\n&gt;  - https://stackoverflow.com/questions/27626825/spring-data-jpa-query-by-example\r\n\r\n","title":"Spring Data JPA: Generate dynamic query","body":"<p>Based on Spring doc <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#query-by-example\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#query-by-example</a></p>\n\n<blockquote>\n  <p>Query by Example (QBE) is a user-friendly querying technique with a\n  simple interface. It allows dynamic query creation and does not\n  require you to write queries that contain field names. In fact, Query\n  by Example does not require you to write queries by using\n  store-specific query languages at all.</p>\n</blockquote>\n\n<p><strong>DEFINITION:</strong>\nAn Example takes a data object (usually the entity object or a sub-type of it) and a specification how to match properties. You can use Query by Example with JPA \nRepositories.</p>\n\n<p>To do so, let your repository interface extend <code>QueryByExampleExecutor&lt;T&gt;</code>, for example:</p>\n\n<pre><code>public interface PersonRepository extends CrudRepository&lt;Person, String&gt;, QueryByExampleExecutor&lt;Person&gt; {\n}\n</code></pre>\n\n<p>Here are the available methods in <code>QueryByExampleExecutor</code> :</p>\n\n<pre><code>public interface QueryByExampleExecutor&lt;T&gt; {\n\n  &lt;S extends T&gt; S findOne(Example&lt;S&gt; example);\n\n  &lt;S extends T&gt; Iterable&lt;S&gt; findAll(Example&lt;S&gt; example);\n\n  // … more functionality omitted.\n}\n</code></pre>\n\n<p><strong>USAGES:</strong></p>\n\n<pre><code>Example&lt;Person&gt; example = Example.of(new Person(\"Jon\", \"Snow\"));\nrepo.findAll(example);\n\n\nExampleMatcher matcher = ExampleMatcher.matching().\n    .withMatcher(\"firstname\", endsWith())\n    .withMatcher(\"lastname\", startsWith().ignoreCase());\n\nExample&lt;Person&gt; example = Example.of(new Person(\"Jon\", \"Snow\"), matcher); \nrepo.count(example);\n</code></pre>\n\n<hr>\n\n<p><strong>MORE INFO</strong></p>\n\n<blockquote>\n  <ul>\n  <li><a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#query-by-example\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#query-by-example</a></li>\n  <li><a href=\"https://github.com/spring-projects/spring-data-examples/tree/master/jpa/query-by-example\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-data-examples/tree/master/jpa/query-by-example</a></li>\n  <li><a href=\"https://stackoverflow.com/questions/27626825/spring-data-jpa-query-by-example\">Spring Data JPA: Query by Example?</a></li>\n  </ul>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":24504525,"reputation":1,"user_id":18419718,"display_name":"Shivakrishna Talla"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648722335,"creation_date":1648580504,"answer_id":71667485,"question_id":52354315,"body_markdown":"   1. Need to extend repository from `JpaSpecificationExecutor`\r\n    \r\n    @Repository\r\n    @Transactional\r\n    public interface EmployeeDAO extends CrudRepository&lt;Employee,Long&gt;,JpaSpecificationExecutor&lt;Employee&gt;{\r\n    }\r\n\r\n   2. Use specification and predicate like below\r\n\r\n    public List&lt;Employee&gt; findByCriteria(String employeeName,String employeeRole){\r\n           return employeeDAO.findAll(new Specification&lt;Employee&gt;() {\r\n               @Override\r\n               public Predicate toPredicate(Root&lt;Employee&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder criteriaBuilder) {\r\n                   List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\r\n                   if(employeeName!=null) {\r\n                       predicates.add(criteriaBuilder.and(criteriaBuilder.like(root.get(&quot;employeeName&quot;), &quot;%&quot;+employeeName+&quot;%&quot;)));\r\n                   }\r\n                   if(employeeRole!=null){\r\n                       predicates.add(criteriaBuilder.and(criteriaBuilder.equal(root.get(&quot;employeeRole&quot;), employeeRole)));\r\n                   }\r\n                   return criteriaBuilder.and(predicates.toArray(new Predicate[predicates.size()]));\r\n               }\r\n           });\r\n       }","title":"Spring Data JPA: Generate dynamic query","body":"<ol>\n<li>Need to extend repository from <code>JpaSpecificationExecutor</code></li>\n</ol>\n<pre><code>@Repository\n@Transactional\npublic interface EmployeeDAO extends CrudRepository&lt;Employee,Long&gt;,JpaSpecificationExecutor&lt;Employee&gt;{\n}\n</code></pre>\n<ol start=\"2\">\n<li>Use specification and predicate like below</li>\n</ol>\n<pre><code>public List&lt;Employee&gt; findByCriteria(String employeeName,String employeeRole){\n       return employeeDAO.findAll(new Specification&lt;Employee&gt;() {\n           @Override\n           public Predicate toPredicate(Root&lt;Employee&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder criteriaBuilder) {\n               List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\n               if(employeeName!=null) {\n                   predicates.add(criteriaBuilder.and(criteriaBuilder.like(root.get(&quot;employeeName&quot;), &quot;%&quot;+employeeName+&quot;%&quot;)));\n               }\n               if(employeeRole!=null){\n                   predicates.add(criteriaBuilder.and(criteriaBuilder.equal(root.get(&quot;employeeRole&quot;), employeeRole)));\n               }\n               return criteriaBuilder.and(predicates.toArray(new Predicate[predicates.size()]));\n           }\n       });\n   }\n</code></pre>\n"}],"owner":{"account_id":6836948,"reputation":4738,"user_id":5258516,"accept_rate":75,"display_name":"e2rabi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2764,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":52354622,"answer_count":3,"score":2,"last_activity_date":1648722335,"creation_date":1537102259,"question_id":52354315,"body_markdown":"I have an entity that hold some logic data : \r\n\r\n    @Entity\r\n    public class Person {\r\n      private Long id.\r\n      private String name;\r\n      private int age;\r\n      private String address;\r\n      ...\r\n    }\r\n\r\nI create my Spring data interface \r\n\r\n    @Repository\r\n    public interface CardInventoryRepository extends JpaRepository&lt;Person , Long&gt; {\r\n    }\r\n\r\nMy purpose is to create a dynamic query based on the exist values of my entity for example \r\nif the name is null the query is : \r\n\r\n    select * from Person p  Where p.age=12 AND p.address=&quot;adress..&quot;\r\n\r\nWhen the address is null the query should be  : \r\n\r\n    select * from Person p  Where p.age=12 AND p.name=&quot;ALI&quot;\r\n\r\nI want to extract data using only the non empty fields ?\r\n\r\nis there any solution suing spring data for building dynamic queries ?\r\nThanks in advance \r\n\r\n\r\n\r\n","title":"Spring Data JPA: Generate dynamic query","body":"<p>I have an entity that hold some logic data : </p>\n\n<pre><code>@Entity\npublic class Person {\n  private Long id.\n  private String name;\n  private int age;\n  private String address;\n  ...\n}\n</code></pre>\n\n<p>I create my Spring data interface </p>\n\n<pre><code>@Repository\npublic interface CardInventoryRepository extends JpaRepository&lt;Person , Long&gt; {\n}\n</code></pre>\n\n<p>My purpose is to create a dynamic query based on the exist values of my entity for example \nif the name is null the query is : </p>\n\n<pre><code>select * from Person p  Where p.age=12 AND p.address=\"adress..\"\n</code></pre>\n\n<p>When the address is null the query should be  : </p>\n\n<pre><code>select * from Person p  Where p.age=12 AND p.name=\"ALI\"\n</code></pre>\n\n<p>I want to extract data using only the non empty fields ?</p>\n\n<p>is there any solution suing spring data for building dynamic queries ?\nThanks in advance </p>\n"},{"tags":["java","functional-programming","java-8","java-stream"],"answers":[{"tags":[],"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"down_vote_count":1,"up_vote_count":148,"is_accepted":true,"score":147,"last_activity_date":1426243486,"creation_date":1426239775,"answer_id":29029039,"question_id":29028980,"body_markdown":"`Arrays.stream(int[])` creates an `IntStream`, not a `Stream&lt;Integer&gt;`. So you need to call [`mapToObj`][1] instead of just `map`, when mapping an `int` to an object.\r\n\r\nThis should work as expected:\r\n\r\n    String commaSeparatedNumbers = Arrays.stream(numbers)\r\n        .mapToObj(i -&gt; ((Integer) i).toString()) //i is an int, not an Integer\r\n        .collect(Collectors.joining(&quot;, &quot;));\r\n\r\nwhich you can also write:\r\n\r\n    String commaSeparatedNumbers = Arrays.stream(numbers)\r\n        .mapToObj(Integer::toString)\r\n        .collect(Collectors.joining(&quot;, &quot;));\r\n\r\n [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html#mapToObj-java.util.function.IntFunction-","title":"Why can&#39;t I map integers to strings when streaming from an array?","body":"<p><code>Arrays.stream(int[])</code> creates an <code>IntStream</code>, not a <code>Stream&lt;Integer&gt;</code>. So you need to call <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html#mapToObj-java.util.function.IntFunction-\" rel=\"noreferrer\"><code>mapToObj</code></a> instead of just <code>map</code>, when mapping an <code>int</code> to an object.</p>\n\n<p>This should work as expected:</p>\n\n<pre><code>String commaSeparatedNumbers = Arrays.stream(numbers)\n    .mapToObj(i -&gt; ((Integer) i).toString()) //i is an int, not an Integer\n    .collect(Collectors.joining(\", \"));\n</code></pre>\n\n<p>which you can also write:</p>\n\n<pre><code>String commaSeparatedNumbers = Arrays.stream(numbers)\n    .mapToObj(Integer::toString)\n    .collect(Collectors.joining(\", \"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1426252230,"creation_date":1426239783,"answer_id":29029043,"question_id":29028980,"body_markdown":"`Arrays.stream(numbers)` creates an `IntStream` under the hood and the map operation on an `IntStream` requires an `IntUnaryOperator` (i.e a  function `int -&gt; int`). The mapping function you want to apply does not respect this contract and hence the compilation error.\r\n\r\nYou would need to call `boxed()` before in order to get a `Stream&lt;Integer&gt;` (this is what `Arrays.asList(...).stream()` returns). Then just call `map` as you did in the first snippet.\r\n\r\nNote that if you need `boxed()` followed by `map` you probably want to use `mapToObj` directly. \r\n\r\nThe advantage is that `mapToObj` doesn&#39;t require to box each `int` value to an `Integer` object; depending on the mapping function you apply of course; so I would go with this option which is also shorter to write.","title":"Why can&#39;t I map integers to strings when streaming from an array?","body":"<p><code>Arrays.stream(numbers)</code> creates an <code>IntStream</code> under the hood and the map operation on an <code>IntStream</code> requires an <code>IntUnaryOperator</code> (i.e a  function <code>int -&gt; int</code>). The mapping function you want to apply does not respect this contract and hence the compilation error.</p>\n\n<p>You would need to call <code>boxed()</code> before in order to get a <code>Stream&lt;Integer&gt;</code> (this is what <code>Arrays.asList(...).stream()</code> returns). Then just call <code>map</code> as you did in the first snippet.</p>\n\n<p>Note that if you need <code>boxed()</code> followed by <code>map</code> you probably want to use <code>mapToObj</code> directly. </p>\n\n<p>The advantage is that <code>mapToObj</code> doesn't require to box each <code>int</code> value to an <code>Integer</code> object; depending on the mapping function you apply of course; so I would go with this option which is also shorter to write.</p>\n"},{"tags":[],"owner":{"account_id":4893121,"reputation":2548,"user_id":3943600,"accept_rate":67,"display_name":"codebot"},"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1426240167,"creation_date":1426240167,"answer_id":29029173,"question_id":29028980,"body_markdown":"You can create an  Integer Stream using Arrays.stream(int[]) , you can call `mapToObj` like `mapToObj(Integer::toString)`.\r\n\r\n    String csn = Arrays.stream(numbers) // your numbers array\r\n    .mapToObj(Integer::toString)\r\n    .collect(Collectors.joining(&quot;, &quot;));\r\n\r\nHope this helps..","title":"Why can&#39;t I map integers to strings when streaming from an array?","body":"<p>You can create an  Integer Stream using Arrays.stream(int[]) , you can call <code>mapToObj</code> like <code>mapToObj(Integer::toString)</code>.</p>\n\n<pre><code>String csn = Arrays.stream(numbers) // your numbers array\n.mapToObj(Integer::toString)\n.collect(Collectors.joining(\", \"));\n</code></pre>\n\n<p>Hope this helps..</p>\n"},{"tags":[],"owner":{"account_id":6000756,"reputation":185,"user_id":4714106,"accept_rate":100,"display_name":"jamesc1101"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1446469716,"creation_date":1446469716,"answer_id":33478374,"question_id":29028980,"body_markdown":"If the purpose of this sample and question is to figure out how to map strings to a stream of ints (for example, using a stream of ints to access an index in an Array of strings), you can also use boxing, then casting to an int (which would then allow accessing the index of the array).\r\n\r\n    int[] numbers = {0, 1, 2, 3}; \r\n    String commaSeparatedNumbers = Arrays.stream(numbers)\r\n        .boxed()\r\n        .map((Integer i) -&gt; Integer.toString((int)i))\r\n        .collect(Collectors.joining(&quot;, &quot;));\r\n\r\nThe .boxed() call converts your IntStream (a stream of primitive ints) to a Stream&lt;Integer&gt; (a stream of objects -- namely, Integer objects) which will then accept the return of an object (in this case, a String object) from your lambda. Here it is just a string representation of the number for demonstration purposes, but it could just as easily (and more practically) be any string object -- like the element of a string array as mentioned before.\r\n\r\nJust thought I&#39;d offer another possibility. In programming, there are always multiple ways of accomplishing a task. Know as many as you can, then choose the one that fits the best for the task at hand, keeping in mind performance issues, intuitiveness, clarity of code, your preferences in coding style, and the most self-documenting.\r\n\r\nHappy coding!","title":"Why can&#39;t I map integers to strings when streaming from an array?","body":"<p>If the purpose of this sample and question is to figure out how to map strings to a stream of ints (for example, using a stream of ints to access an index in an Array of strings), you can also use boxing, then casting to an int (which would then allow accessing the index of the array).</p>\n\n<pre><code>int[] numbers = {0, 1, 2, 3}; \nString commaSeparatedNumbers = Arrays.stream(numbers)\n    .boxed()\n    .map((Integer i) -&gt; Integer.toString((int)i))\n    .collect(Collectors.joining(\", \"));\n</code></pre>\n\n<p>The .boxed() call converts your IntStream (a stream of primitive ints) to a Stream (a stream of objects -- namely, Integer objects) which will then accept the return of an object (in this case, a String object) from your lambda. Here it is just a string representation of the number for demonstration purposes, but it could just as easily (and more practically) be any string object -- like the element of a string array as mentioned before.</p>\n\n<p>Just thought I'd offer another possibility. In programming, there are always multiple ways of accomplishing a task. Know as many as you can, then choose the one that fits the best for the task at hand, keeping in mind performance issues, intuitiveness, clarity of code, your preferences in coding style, and the most self-documenting.</p>\n\n<p>Happy coding!</p>\n"},{"tags":[],"owner":{"account_id":219831,"reputation":1136,"user_id":476942,"display_name":"AbuNassar"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1478479710,"creation_date":1478270767,"answer_id":40425534,"question_id":29028980,"body_markdown":"No boxing, AFAIK, and no explosion of little strings added to the heap: \r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tIntStream stream = IntStream.of(1, 2, 3, 4, 5, 6);\r\n\t\tString s = stream.collect(StringBuilder::new, (builder, n) -&gt; builder.append(&#39;,&#39;).append(n), (x, y) -&gt; x.append(&#39;,&#39;).append(y)).substring(1);\r\n\t\tSystem.out.println(s);\r\n\t}","title":"Why can&#39;t I map integers to strings when streaming from an array?","body":"<p>No boxing, AFAIK, and no explosion of little strings added to the heap: </p>\n\n<pre><code>public static void main(String[] args) {\n    IntStream stream = IntStream.of(1, 2, 3, 4, 5, 6);\n    String s = stream.collect(StringBuilder::new, (builder, n) -&gt; builder.append(',').append(n), (x, y) -&gt; x.append(',').append(y)).substring(1);\n    System.out.println(s);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18145861,"reputation":11,"user_id":13199209,"display_name":"Janik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648722226,"creation_date":1648722226,"answer_id":71690876,"question_id":29028980,"body_markdown":"In addition to :: operator:\r\n\r\n    String numString = numbers.stream()\r\n      .map(String::valueOf)\r\n      .collect(Collectors.joining(&quot;, &quot;));\r\n\r\nThis might be important in newer Java-Versions.\r\n\r\n","title":"Why can&#39;t I map integers to strings when streaming from an array?","body":"<p>In addition to :: operator:</p>\n<pre><code>String numString = numbers.stream()\n  .map(String::valueOf)\n  .collect(Collectors.joining(&quot;, &quot;));\n</code></pre>\n<p>This might be important in newer Java-Versions.</p>\n"}],"owner":{"account_id":97082,"reputation":375006,"user_id":263525,"accept_rate":85,"display_name":"Denys S&#233;guret"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66937,"favorite_count":0,"down_vote_count":0,"up_vote_count":114,"accepted_answer_id":29029039,"answer_count":6,"score":114,"last_activity_date":1648722226,"creation_date":1426239579,"question_id":29028980,"body_markdown":"This code works (taken in the Javadoc):\r\n\r\n\tList&lt;Integer&gt; numbers = Arrays.asList(1, 2, 3, 4);\r\n\tString commaSeparatedNumbers = numbers.stream()\r\n\t\t.map(i -&gt; i.toString())\r\n\t\t.collect(Collectors.joining(&quot;, &quot;));\r\n\r\nThis one can&#39;t be compiled:\r\n\r\n\tint[] numbers = {1, 2, 3, 4};\r\n\tString commaSeparatedNumbers = Arrays.stream(numbers)\r\n\t\t.map((Integer i) -&gt; i.toString())\r\n\t\t.collect(Collectors.joining(&quot;, &quot;));\r\n\r\nIDEA tells me I have an &quot;incompatible return type String in lambda expression&quot;.\r\n\r\nWhy ? And how to fix that ?","title":"Why can&#39;t I map integers to strings when streaming from an array?","body":"<p>This code works (taken in the Javadoc):</p>\n\n<pre><code>List&lt;Integer&gt; numbers = Arrays.asList(1, 2, 3, 4);\nString commaSeparatedNumbers = numbers.stream()\n    .map(i -&gt; i.toString())\n    .collect(Collectors.joining(\", \"));\n</code></pre>\n\n<p>This one can't be compiled:</p>\n\n<pre><code>int[] numbers = {1, 2, 3, 4};\nString commaSeparatedNumbers = Arrays.stream(numbers)\n    .map((Integer i) -&gt; i.toString())\n    .collect(Collectors.joining(\", \"));\n</code></pre>\n\n<p>IDEA tells me I have an \"incompatible return type String in lambda expression\".</p>\n\n<p>Why ? And how to fix that ?</p>\n"},{"tags":["java","mysql"],"answers":[{"tags":[],"owner":{"account_id":2016713,"reputation":26480,"user_id":1803853,"accept_rate":71,"display_name":"Davide Lorenzo MARINO"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1648721822,"creation_date":1648719524,"answer_id":71690261,"question_id":71690072,"body_markdown":"The most suitable data structure to hold the informations is a tree:\r\n- each node is a Part\r\n- children of a Part are Part and conceptually they are subparts\r\n- if you need to navigate back from a subpart to his parent part you goes to the parent Part\r\n\r\nHere is the code:\r\n\r\n    public class Part {\r\n        private String name;\r\n        private Part parent;\r\n        private List&lt;Part&gt; children;\r\n\r\n        public Part(String name, Part parent) {\r\n           this.name = name;\r\n           this.children = new ArrayList();\r\n           this.parent = parent;\r\n           if (parent != null) {\r\n              parent.getChildren().add(this);\r\n           }\r\n        }\r\n\r\n        ...\r\n    }\r\n\r\n    ...\r\n    Part car = new Part(&quot;car&quot;, null);\r\n    Part engine = new Part(&quot;engine&quot;, car);\r\n    Part piston = new Part(&quot;piston&quot;, engine);\r\n    Part cilinder = new Part(&quot;cilinder&quot;, engine);\r\n\r\nand you can see that from car you can see details of car, and access his children (engine in this case). From engine you can go back to car, or you can see the subparts (piston and cilinder). Graphically this is the situation:\r\n\r\n\r\n                              car\r\n                               |\r\n                               |\r\n                            engine\r\n                               |\r\n                        ---------------\r\n                        |             |\r\n                    cilinder        piston\r\n\r\n\r\nThis java structure can be reproduced in a single table with self references in a relational database as follow\r\n\r\n\r\n     PARTS\r\n     -------------------------------\r\n     ID         NAME         PARENT_ID\r\n     1          car          &lt;null&gt;\r\n     2          engine       1\r\n     3          cilinder     2\r\n     4          piston       2\r\n\r\nYou can use it with any level of deep\r\n\r\nIn the case you need to reuse parts in different areas you can save them in the db as follow (note that bolts are reused):\r\n\r\n    PARTS\r\n    ID     NAME\r\n    -------------------\r\n    1      car\r\n    2      engine\r\n    3      piston\r\n    4      cilinder\r\n    5      bolt\r\n\r\nand relate them with a NODES tables\r\n\r\n    PART_NODES\r\n    ID   ID_PART   ID_PARENT\r\n    ----------------------------------------------\r\n    1    1         &lt;null&gt;\r\n    2    2         1\r\n    3    3         2\r\n    4    4         2\r\n    5    5         1    &lt;---- bolt are used as part of car\r\n    6    5         2    &lt;---- and as part of engine\r\n\r\nwhere the graphical presentation is the following\r\n\r\n\r\n                       1 -&gt; car\r\n                       |\r\n               -----------------\r\n               |               |\r\n               2 -&gt; engine     5 -&gt; bolt\r\n               |\r\n     ---------------------------\r\n    |            |              |\r\n    3 -&gt; piston  4 -&gt; cilinder  5 -&gt; bolt\r\n\r\nIn java this is reflected as a class `Part` referenced by a class `PartNode` using code similar to the previous for linking nodes together.\r\n\r\n    \r\n","title":"Java Storing data as sublevels","body":"<p>The most suitable data structure to hold the informations is a tree:</p>\n<ul>\n<li>each node is a Part</li>\n<li>children of a Part are Part and conceptually they are subparts</li>\n<li>if you need to navigate back from a subpart to his parent part you goes to the parent Part</li>\n</ul>\n<p>Here is the code:</p>\n<pre><code>public class Part {\n    private String name;\n    private Part parent;\n    private List&lt;Part&gt; children;\n\n    public Part(String name, Part parent) {\n       this.name = name;\n       this.children = new ArrayList();\n       this.parent = parent;\n       if (parent != null) {\n          parent.getChildren().add(this);\n       }\n    }\n\n    ...\n}\n\n...\nPart car = new Part(&quot;car&quot;, null);\nPart engine = new Part(&quot;engine&quot;, car);\nPart piston = new Part(&quot;piston&quot;, engine);\nPart cilinder = new Part(&quot;cilinder&quot;, engine);\n</code></pre>\n<p>and you can see that from car you can see details of car, and access his children (engine in this case). From engine you can go back to car, or you can see the subparts (piston and cilinder). Graphically this is the situation:</p>\n<pre><code>                          car\n                           |\n                           |\n                        engine\n                           |\n                    ---------------\n                    |             |\n                cilinder        piston\n</code></pre>\n<p>This java structure can be reproduced in a single table with self references in a relational database as follow</p>\n<pre><code> PARTS\n -------------------------------\n ID         NAME         PARENT_ID\n 1          car          &lt;null&gt;\n 2          engine       1\n 3          cilinder     2\n 4          piston       2\n</code></pre>\n<p>You can use it with any level of deep</p>\n<p>In the case you need to reuse parts in different areas you can save them in the db as follow (note that bolts are reused):</p>\n<pre><code>PARTS\nID     NAME\n-------------------\n1      car\n2      engine\n3      piston\n4      cilinder\n5      bolt\n</code></pre>\n<p>and relate them with a NODES tables</p>\n<pre><code>PART_NODES\nID   ID_PART   ID_PARENT\n----------------------------------------------\n1    1         &lt;null&gt;\n2    2         1\n3    3         2\n4    4         2\n5    5         1    &lt;---- bolt are used as part of car\n6    5         2    &lt;---- and as part of engine\n</code></pre>\n<p>where the graphical presentation is the following</p>\n<pre><code>                   1 -&gt; car\n                   |\n           -----------------\n           |               |\n           2 -&gt; engine     5 -&gt; bolt\n           |\n ---------------------------\n|            |              |\n3 -&gt; piston  4 -&gt; cilinder  5 -&gt; bolt\n</code></pre>\n<p>In java this is reflected as a class <code>Part</code> referenced by a class <code>PartNode</code> using code similar to the previous for linking nodes together.</p>\n"}],"owner":{"account_id":24756801,"reputation":1,"user_id":18641648,"display_name":"Kristiāns Golubevs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648721822,"creation_date":1648718786,"question_id":71690072,"body_markdown":"I’m in front of project where i should think of kinda accounting system development. And there is very big amount of data. But with data all is clear it could be stored in MySql.\r\nThe thing is, there will be stored spare parts for vehicles. And in first level there is for example part as engine, but then the engine consist of smaller parts, and these smaller parts also consist of smaller parts. And I just don’t know the best thing to make this system.\r\nI need to store them so i can click on first item as for example engine and it shows me all parts it consist of, and then i can click of any of these parts and it shows again all parts it consist of.\r\n\r\nWhat should i use to make it happen? Or maybe anyone can say other method to make this system? Any suggestions?\r\n\r\nThanks","title":"Java Storing data as sublevels","body":"<p>I’m in front of project where i should think of kinda accounting system development. And there is very big amount of data. But with data all is clear it could be stored in MySql.\nThe thing is, there will be stored spare parts for vehicles. And in first level there is for example part as engine, but then the engine consist of smaller parts, and these smaller parts also consist of smaller parts. And I just don’t know the best thing to make this system.\nI need to store them so i can click on first item as for example engine and it shows me all parts it consist of, and then i can click of any of these parts and it shows again all parts it consist of.</p>\n<p>What should i use to make it happen? Or maybe anyone can say other method to make this system? Any suggestions?</p>\n<p>Thanks</p>\n"},{"tags":["java","azure","tomcat","automation","paas"],"comments":[{"owner":{"account_id":10725921,"reputation":1866,"user_id":9303470,"display_name":"Ecstasy"},"score":0,"creation_date":1648614876,"post_id":71665033,"comment_id":126666317,"body_markdown":"You can refer to [Migrate Tomcat applications to Tomcat on Azure App Service](https://learn.microsoft.com/en-us/azure/developer/java/migration/migrate-tomcat-to-tomcat-app-service), [Deploying a Java-based Tomcat application to Azure](https://azuredevopslabs.com/labs/vstsextend/tomcat/) and [Deploy Java Web App to Tomcat9 on Azure App Service on Linux](https://github.com/yoshioterada/Java-WebApp-to-Tomcat-on-Azure-App-Service-Linux)","body":"You can refer to <a href=\"https://learn.microsoft.com/en-us/azure/developer/java/migration/migrate-tomcat-to-tomcat-app-service\" rel=\"nofollow noreferrer\">Migrate Tomcat applications to Tomcat on Azure App Service</a>, <a href=\"https://azuredevopslabs.com/labs/vstsextend/tomcat/\" rel=\"nofollow noreferrer\">Deploying a Java-based Tomcat application to Azure</a> and <a href=\"https://github.com/yoshioterada/Java-WebApp-to-Tomcat-on-Azure-App-Service-Linux\" rel=\"nofollow noreferrer\">Deploy Java Web App to Tomcat9 on Azure App Service on Linux</a>"},{"owner":{"account_id":394950,"reputation":2790,"user_id":757661,"accept_rate":80,"display_name":"gordon613"},"score":0,"creation_date":1648721839,"post_id":71665033,"comment_id":126698985,"body_markdown":"I think that these links deal with setting up a Java/Tomcat environment. The question is about scheduling in an *existing* environment.","body":"I think that these links deal with setting up a Java/Tomcat environment. The question is about scheduling in an <i>existing</i> environment."},{"owner":{"account_id":10725921,"reputation":1866,"user_id":9303470,"display_name":"Ecstasy"},"score":1,"creation_date":1648725784,"post_id":71665033,"comment_id":126700408,"body_markdown":"[Determine whether application relies on scheduled jobs](https://learn.microsoft.com/en-us/azure/developer/java/migration/migrate-tomcat-to-tomcat-app-service#determine-whether-application-relies-on-scheduled-jobs) and [Quartz setup failure in Azure App Service](https://stackoverflow.com/questions/61736170/quartz-setup-failure-in-azure-app-service)","body":"<a href=\"https://learn.microsoft.com/en-us/azure/developer/java/migration/migrate-tomcat-to-tomcat-app-service#determine-whether-application-relies-on-scheduled-jobs\" rel=\"nofollow noreferrer\">Determine whether application relies on scheduled jobs</a> and <a href=\"https://stackoverflow.com/questions/61736170/quartz-setup-failure-in-azure-app-service\">Quartz setup failure in Azure App Service</a>"}],"answers":[{"tags":[],"owner":{"account_id":1806558,"reputation":4512,"user_id":1643558,"accept_rate":73,"display_name":"tgkprog"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648665273,"creation_date":1648665273,"answer_id":71682399,"question_id":71665033,"body_markdown":"Use a scheduler like quartz library. If your starting writing the app now I would say use spring boot. (Has multiple advantages,  using it in 5 weapons that are in Prod, all running well. Optimizations were done in Persistence and network layers)\r\n\r\nSpring uses quartz too.  Anyway there are many ways to use quartz, but basically a method of your code will be called by it on the designated date/time/ frequency.  Like once a day at 8am. That function can trigger out the tasks to create your report, ftp, email it and other backend tasks.\r\n\r\nDon&#39;t use selenium ...not the right tool for this requirement. ","title":"How to automate user actions on Tomcat/Java application from backend, on Azure?","body":"<p>Use a scheduler like quartz library. If your starting writing the app now I would say use spring boot. (Has multiple advantages,  using it in 5 weapons that are in Prod, all running well. Optimizations were done in Persistence and network layers)</p>\n<p>Spring uses quartz too.  Anyway there are many ways to use quartz, but basically a method of your code will be called by it on the designated date/time/ frequency.  Like once a day at 8am. That function can trigger out the tasks to create your report, ftp, email it and other backend tasks.</p>\n<p>Don't use selenium ...not the right tool for this requirement.</p>\n"}],"owner":{"account_id":394950,"reputation":2790,"user_id":757661,"accept_rate":80,"display_name":"gordon613"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71682399,"answer_count":1,"score":1,"last_activity_date":1648721776,"creation_date":1648568494,"question_id":71665033,"body_markdown":"I have an application running on Azure PaaS (Tomcat) using Java, JSP and Azure SQL Database.\r\n\r\nUsers login to the application using a Web Browser and can then run a report, which involves using java to (i) extract data from the database, (ii) process it (iii) create an Excel file using Apache POI.\r\n\r\nHow is it possible to automate this process on a daily process from the backend?\r\n\r\nHere are my ideas so far.\r\n\r\n1.  I discount using Azure Logic Apps as a complete solution as I need access to the java code in my application that creates the report.\r\n\r\n2.  I could copy and paste the report-generating code into an Azure Function and then automate this code using an Azure Logic App, but having duplicated code is obviously messy.\r\n\r\n3. I could use some kind of automated testing tool (such as Selenium, or write my own) running on a separate machine to login to the system and extract the report, but this is also not so reliable, and requires a separate machine. I would prefer to do this on the backend.\r\n\r\n4. Creating a servlet in the Java to execute the report without logging in, and then calling it via a Azure Logic App. (And blocking the servlet from public Internet access)\r\n\r\nDoes anyone have a neat solution?\r\n\r\n\r\n","title":"How to automate user actions on Tomcat/Java application from backend, on Azure?","body":"<p>I have an application running on Azure PaaS (Tomcat) using Java, JSP and Azure SQL Database.</p>\n<p>Users login to the application using a Web Browser and can then run a report, which involves using java to (i) extract data from the database, (ii) process it (iii) create an Excel file using Apache POI.</p>\n<p>How is it possible to automate this process on a daily process from the backend?</p>\n<p>Here are my ideas so far.</p>\n<ol>\n<li><p>I discount using Azure Logic Apps as a complete solution as I need access to the java code in my application that creates the report.</p>\n</li>\n<li><p>I could copy and paste the report-generating code into an Azure Function and then automate this code using an Azure Logic App, but having duplicated code is obviously messy.</p>\n</li>\n<li><p>I could use some kind of automated testing tool (such as Selenium, or write my own) running on a separate machine to login to the system and extract the report, but this is also not so reliable, and requires a separate machine. I would prefer to do this on the backend.</p>\n</li>\n<li><p>Creating a servlet in the Java to execute the report without logging in, and then calling it via a Azure Logic App. (And blocking the servlet from public Internet access)</p>\n</li>\n</ol>\n<p>Does anyone have a neat solution?</p>\n"},{"tags":["java","android","thread-safety","android-context"],"comments":[{"owner":{"account_id":24752346,"reputation":1,"user_id":18637669,"display_name":"flamingo_on_fire"},"score":0,"creation_date":1648698417,"post_id":71685974,"comment_id":126692116,"body_markdown":"Further clarification: the post [Safely using android &#39;Context&#39; inside threads](https://codereview.stackexchange.com/questions/98806/safely-using-android-context-inside-threads) is not what I am looking for. That post is concerned with leaking the context, not the thread safety of said context.","body":"Further clarification: the post <a href=\"https://codereview.stackexchange.com/questions/98806/safely-using-android-context-inside-threads\">Safely using android &#39;Context&#39; inside threads</a> is not what I am looking for. That post is concerned with leaking the context, not the thread safety of said context."}],"answers":[{"tags":[],"owner":{"account_id":6696437,"reputation":2557,"user_id":5164318,"display_name":"emandt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648721572,"creation_date":1648721572,"answer_id":71690719,"question_id":71685974,"body_markdown":"Services retrieved using &quot;*getSystemService()*&quot; are closely related to current Context and it is discouraged to share/pass/keep these Services. Google&#39;s DOCs says this.\r\n\r\nSystem Services are internally used via Binders, so it&#39;s thread-safe to call System Service&#39;s methods from any thread.\r\nWarning: retrivied Objects/Classes from these thread-safe methods **could not be thread-safe!!**\r\n\r\nContext&#39;s methods exists to provide &quot;*Resources*&quot; (Drawables, Colors, etc... real resources, or Display/Screen informations, etc...) and returned data is usually a deep cloned Object fully usable in thread-safe mode from inside this specific Context.\r\nI.E: &quot;*Context.getDisplay()*&quot; will returns different Object (I mean the pointer in memory) in each Context you call it. But it could returns different Object at each call even in the same Context. It depends.\r\n\r\nStarting/Stopping a Service is thread-safe because &quot;*startService()*&quot; is a Context&#39;s method (the reason I explained above).","title":"Are Contexts and System Services thread safe?","body":"<p>Services retrieved using &quot;<em>getSystemService()</em>&quot; are closely related to current Context and it is discouraged to share/pass/keep these Services. Google's DOCs says this.</p>\n<p>System Services are internally used via Binders, so it's thread-safe to call System Service's methods from any thread.\nWarning: retrivied Objects/Classes from these thread-safe methods <strong>could not be thread-safe!!</strong></p>\n<p>Context's methods exists to provide &quot;<em>Resources</em>&quot; (Drawables, Colors, etc... real resources, or Display/Screen informations, etc...) and returned data is usually a deep cloned Object fully usable in thread-safe mode from inside this specific Context.\nI.E: &quot;<em>Context.getDisplay()</em>&quot; will returns different Object (I mean the pointer in memory) in each Context you call it. But it could returns different Object at each call even in the same Context. It depends.</p>\n<p>Starting/Stopping a Service is thread-safe because &quot;<em>startService()</em>&quot; is a Context's method (the reason I explained above).</p>\n"}],"owner":{"account_id":24752346,"reputation":1,"user_id":18637669,"display_name":"flamingo_on_fire"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":249,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648721572,"creation_date":1648691373,"question_id":71685974,"body_markdown":"**Background:** I am creating a few background jobs that run in a thread pool (i.e. the jobs are running concurrently and not on the main/UI thread). The jobs interact with a context or system service in one or more of the following ways:\r\n\r\n- Get a system service (`context.getSystemService`) and uses its API\r\n  - `NotificationManager`\r\n  - `DevicePolicyManager`\r\n  - etc.\r\n- Start/stop other services (`context.startService` and `context.stopService`)\r\n- Register broadcast receivers (`context.registerReceiver`)\r\n\r\n**Question:** Are Contexts and System Services thread-safe? Do I have to hop onto the main thread every time I need to interact with a context and/or system service?\r\n\r\nI have looked through the [Processes/Threads guide](https://developer.android.com/guide/components/processes-and-threads) but nothing mentions the use of contexts or system services and I can&#39;t find anything relating to thread-safety in the [context documentation](https://developer.android.com/reference/android/content/Context) or the documentation for the various system services.\r\n\r\nFor clarification, I am not attempting to update the user interface. I am just trying to *concurrently* use the application context and system services provided by that context.\r\n\r\nAlso, there is a [similarly titled question](https://stackoverflow.com/questions/10598864/is-android-context-thread-safe) on SO. However, the answer states that read-only properties of the context are thread-safe, which is not helpful; and the other answers are vague and don&#39;t point to any sources. Also also, I am **not** worried about leaking the context; I am using the application context.","title":"Are Contexts and System Services thread safe?","body":"<p><strong>Background:</strong> I am creating a few background jobs that run in a thread pool (i.e. the jobs are running concurrently and not on the main/UI thread). The jobs interact with a context or system service in one or more of the following ways:</p>\n<ul>\n<li>Get a system service (<code>context.getSystemService</code>) and uses its API\n<ul>\n<li><code>NotificationManager</code></li>\n<li><code>DevicePolicyManager</code></li>\n<li>etc.</li>\n</ul>\n</li>\n<li>Start/stop other services (<code>context.startService</code> and <code>context.stopService</code>)</li>\n<li>Register broadcast receivers (<code>context.registerReceiver</code>)</li>\n</ul>\n<p><strong>Question:</strong> Are Contexts and System Services thread-safe? Do I have to hop onto the main thread every time I need to interact with a context and/or system service?</p>\n<p>I have looked through the <a href=\"https://developer.android.com/guide/components/processes-and-threads\" rel=\"nofollow noreferrer\">Processes/Threads guide</a> but nothing mentions the use of contexts or system services and I can't find anything relating to thread-safety in the <a href=\"https://developer.android.com/reference/android/content/Context\" rel=\"nofollow noreferrer\">context documentation</a> or the documentation for the various system services.</p>\n<p>For clarification, I am not attempting to update the user interface. I am just trying to <em>concurrently</em> use the application context and system services provided by that context.</p>\n<p>Also, there is a <a href=\"https://stackoverflow.com/questions/10598864/is-android-context-thread-safe\">similarly titled question</a> on SO. However, the answer states that read-only properties of the context are thread-safe, which is not helpful; and the other answers are vague and don't point to any sources. Also also, I am <strong>not</strong> worried about leaking the context; I am using the application context.</p>\n"},{"tags":["java","android","intellij-idea","appium","appium-android"],"answers":[{"tags":[],"owner":{"account_id":10531118,"reputation":198,"user_id":7760415,"display_name":"Shrirang "},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1547746410,"creation_date":1547746410,"answer_id":54241353,"question_id":54239962,"body_markdown":"While setting appium capabilities, you must be setting device name as well. You can use the same one","title":"Appium : how to check device name using automation test cases in java","body":"<p>While setting appium capabilities, you must be setting device name as well. You can use the same one</p>\n"},{"tags":[],"owner":{"account_id":2463872,"reputation":4439,"user_id":2147409,"display_name":"Amit Jain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1547758438,"creation_date":1547758438,"answer_id":54244122,"question_id":54239962,"body_markdown":"Try session details to get connected device `name` or `udid`\r\n\r\n     String connectedDeviceName = driver.getSessionDetail(&quot;deviceName&quot;).toString();\r\n     String connectedDeviceUdid = driver.getSessionDetail(&quot;deviceUDID&quot;).toString();\r\n","title":"Appium : how to check device name using automation test cases in java","body":"<p>Try session details to get connected device <code>name</code> or <code>udid</code></p>\n\n<pre><code> String connectedDeviceName = driver.getSessionDetail(\"deviceName\").toString();\n String connectedDeviceUdid = driver.getSessionDetail(\"deviceUDID\").toString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14694059,"reputation":188,"user_id":10611898,"display_name":"Nauman Malik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1547785455,"creation_date":1547784579,"answer_id":54247643,"question_id":54239962,"body_markdown":"What you can do is use multiple devices to run automation tests on, in that way you can give a specific device udid to a specific class containing your test cases and those test cases will run on only that device. \r\n\r\nMoreover, you can use Annotations using TestNG e.g @Beforesuite. This will run a specific class only, so only a limited test cases will run.","title":"Appium : how to check device name using automation test cases in java","body":"<p>What you can do is use multiple devices to run automation tests on, in that way you can give a specific device udid to a specific class containing your test cases and those test cases will run on only that device. </p>\n\n<p>Moreover, you can use Annotations using TestNG e.g @Beforesuite. This will run a specific class only, so only a limited test cases will run.</p>\n"},{"tags":[],"owner":{"account_id":12218669,"reputation":2466,"user_id":8918302,"display_name":"Suban Dhyako"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1547791598,"creation_date":1547791598,"answer_id":54248534,"question_id":54239962,"body_markdown":"You can use any of the following methods to get device **udid**. All the following method will give the same output.\r\n    \r\n    driver.getSessionDetail(&quot;deviceName&quot;);\r\n    driver.getSessionDetail(&quot;udid&quot;);\r\n    driver.getSessionDetail(&quot;deviceUDID&quot;);\r\n    driver.getCapabilities().getCapability(&quot;deviceName&quot;);\r\n    driver.getCapabilities().getCapability(&quot;udid&quot;);\r\n    driver.getCapabilities().getCapability(&quot;deviceUDID&quot;);\r\n\r\n&gt;You can use device **udid** instead of **device name**","title":"Appium : how to check device name using automation test cases in java","body":"<p>You can use any of the following methods to get device <strong>udid</strong>. All the following method will give the same output.</p>\n\n<pre><code>driver.getSessionDetail(\"deviceName\");\ndriver.getSessionDetail(\"udid\");\ndriver.getSessionDetail(\"deviceUDID\");\ndriver.getCapabilities().getCapability(\"deviceName\");\ndriver.getCapabilities().getCapability(\"udid\");\ndriver.getCapabilities().getCapability(\"deviceUDID\");\n</code></pre>\n\n<blockquote>\n  <p>You can use device <strong>udid</strong> instead of <strong>device name</strong></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":10601091,"reputation":74,"user_id":7808009,"display_name":"Snehal Gajbhiye"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648721388,"creation_date":1648721388,"answer_id":71690671,"question_id":54239962,"body_markdown":"[Solution Works only on Android devices]In Order to identify your devices connected to the system , \r\n\r\n    adb devices\r\n\r\nit will give list of devices connected at present time.\r\n[Implementation]\r\n\r\n 1. Build a queue with device name. \r\n 2. Do ADB devices and get the result into your queue(Device name would appear).\r\n 3. Based on your condition run the test cases as you stated above. \r\n\r\n\r\n","title":"Appium : how to check device name using automation test cases in java","body":"<p>[Solution Works only on Android devices]In Order to identify your devices connected to the system ,</p>\n<pre><code>adb devices\n</code></pre>\n<p>it will give list of devices connected at present time.\n[Implementation]</p>\n<ol>\n<li>Build a queue with device name.</li>\n<li>Do ADB devices and get the result into your queue(Device name would appear).</li>\n<li>Based on your condition run the test cases as you stated above.</li>\n</ol>\n"}],"owner":{"account_id":5371135,"reputation":1142,"user_id":4279635,"accept_rate":0,"display_name":"Kirti Parghi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2832,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":5,"score":5,"last_activity_date":1648721388,"creation_date":1547741515,"question_id":54239962,"body_markdown":"I am implementing automation test cases for one application. I wanted to generalized some test cases in order to run on each and every device based on some condition. So, in order to do that I have to get device name using some code. I am not able to get code for checking device name. Any help is most welcome!!!","title":"Appium : how to check device name using automation test cases in java","body":"<p>I am implementing automation test cases for one application. I wanted to generalized some test cases in order to run on each and every device based on some condition. So, in order to do that I have to get device name using some code. I am not able to get code for checking device name. Any help is most welcome!!!</p>\n"},{"tags":["java","authentication","spring-security","jhipster"],"answers":[{"tags":[],"owner":{"account_id":33534,"reputation":16098,"user_id":93960,"display_name":"Ga&#235;l Marziou"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1500885788,"creation_date":1500885788,"answer_id":45275952,"question_id":45270751,"body_markdown":"You&#39;ve chosen a microservices architecture: so now you need a registry and a gateway( read [the doc][1]). \r\n\r\nYou get a token by authenticating against the gateway then you use this token by passing it on each request with Authorization http header.\r\n\r\n\r\n  [1]: https://jhipster.github.io/microservices-architecture/","title":"How to get and use authentication token for JHipster Microservice JWT","body":"<p>You've chosen a microservices architecture: so now you need a registry and a gateway( read <a href=\"https://jhipster.github.io/microservices-architecture/\" rel=\"noreferrer\">the doc</a>). </p>\n\n<p>You get a token by authenticating against the gateway then you use this token by passing it on each request with Authorization http header.</p>\n"},{"tags":[],"owner":{"account_id":12370747,"reputation":717,"user_id":9021089,"display_name":"FChiri"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1648721304,"creation_date":1648721304,"answer_id":71690655,"question_id":45270751,"body_markdown":"You need a token from the JHipster registry.\r\nUse a Post to:\r\nhttp://[JhipsterRegistryIP]:[JHPORT]/api/authenticate\r\n\r\nwith in header:\r\n\r\nContent-Type: application/json\r\n\r\nand in body:\r\n\r\n{&quot;password&quot;: &quot;YOURADMINPASSWORD&quot;,&quot;rememberMe&quot;: true,&quot;username&quot;: &quot;admin&quot;}\r\n\r\nYou get a response with token like this:\r\n\r\n{\r\n  &quot;id_token&quot; : &quot;eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImF1dGgiOiJST0xFX0FETUlOLFJPTEVfVVNFUiIsImV4cCI6MTY1MTMxMjE3M30.ywNnrHv-QTjeCDEAjxYhfpOabzmYpSsJufQYlL-dV7NB683rFiCtFvwTYTZuqlu6XBMEKI13_SLFZM3eF8kxgQ&quot;\r\n}\r\n\r\nNow you can make a request to your microservice with in header:\r\n\r\nAuthorization: &quot;Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImF1dGgiOiJST0xFX0FETUlOLFJPTEVfVVNFUiIsImV4cCI6MTY1MTMxMjE3M30.ywNnrHv-QTjeCDEAjxYhfpOabzmYpSsJufQYlL-dV7NB683rFiCtFvwTYTZuqlu6XBMEKI13_SLFZM3eF8kxgQ&quot;\r\n\r\n","title":"How to get and use authentication token for JHipster Microservice JWT","body":"<p>You need a token from the JHipster registry.\nUse a Post to:\nhttp://[JhipsterRegistryIP]:[JHPORT]/api/authenticate</p>\n<p>with in header:</p>\n<p>Content-Type: application/json</p>\n<p>and in body:</p>\n<p>{&quot;password&quot;: &quot;YOURADMINPASSWORD&quot;,&quot;rememberMe&quot;: true,&quot;username&quot;: &quot;admin&quot;}</p>\n<p>You get a response with token like this:</p>\n<p>{\n&quot;id_token&quot; : &quot;eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImF1dGgiOiJST0xFX0FETUlOLFJPTEVfVVNFUiIsImV4cCI6MTY1MTMxMjE3M30.ywNnrHv-QTjeCDEAjxYhfpOabzmYpSsJufQYlL-dV7NB683rFiCtFvwTYTZuqlu6XBMEKI13_SLFZM3eF8kxgQ&quot;\n}</p>\n<p>Now you can make a request to your microservice with in header:</p>\n<p>Authorization: &quot;Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImF1dGgiOiJST0xFX0FETUlOLFJPTEVfVVNFUiIsImV4cCI6MTY1MTMxMjE3M30.ywNnrHv-QTjeCDEAjxYhfpOabzmYpSsJufQYlL-dV7NB683rFiCtFvwTYTZuqlu6XBMEKI13_SLFZM3eF8kxgQ&quot;</p>\n"}],"owner":{"account_id":5541572,"reputation":513,"user_id":4397899,"accept_rate":71,"display_name":"dfsg76"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6489,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":71690655,"answer_count":2,"score":4,"last_activity_date":1648721304,"creation_date":1500852293,"question_id":45270751,"body_markdown":"I created a JHipster microservice App with JWT authentication (I only have the &quot;backend&quot;, no Angular GUI).\r\n\r\nIn my application-dev.yml, I have the following lines:\r\n\r\n    jhipster:\r\n        security:\r\n          authentication:\r\n            jwt:\r\n                secret: password\r\n                # Token is valid 24 hours\r\n                token-validity-in-seconds: 86400\r\n                token-validity-in-seconds-for-remember-me: 2592000\r\n\r\nHow can I access the API with a client like &quot;Restlet&quot; (Google Chrome extension).\r\n\r\nI read something about getting the token when accessing /api/authenticate but it didn&#39;t work (https://stackoverflow.com/questions/41107442/jhipster-authentication-using-postman-and-jwt)\r\n\r\nWhere can I retrieve the JWT Token and how to use it in subsequent requests?","title":"How to get and use authentication token for JHipster Microservice JWT","body":"<p>I created a JHipster microservice App with JWT authentication (I only have the \"backend\", no Angular GUI).</p>\n\n<p>In my application-dev.yml, I have the following lines:</p>\n\n<pre><code>jhipster:\n    security:\n      authentication:\n        jwt:\n            secret: password\n            # Token is valid 24 hours\n            token-validity-in-seconds: 86400\n            token-validity-in-seconds-for-remember-me: 2592000\n</code></pre>\n\n<p>How can I access the API with a client like \"Restlet\" (Google Chrome extension).</p>\n\n<p>I read something about getting the token when accessing /api/authenticate but it didn't work (<a href=\"https://stackoverflow.com/questions/41107442/jhipster-authentication-using-postman-and-jwt\">JHipster authentication using Postman and JWT</a>)</p>\n\n<p>Where can I retrieve the JWT Token and how to use it in subsequent requests?</p>\n"},{"tags":["java","asynchronous","java-8","java-stream"],"comments":[{"owner":{"account_id":3043751,"reputation":3340,"user_id":2580058,"accept_rate":100,"display_name":"Karol Kr&#243;l"},"score":0,"creation_date":1430378334,"post_id":17960656,"comment_id":48043163,"body_markdown":"Hi! I&#39;ve updated my answer. If it would satisfy you please vote up I&#39;m trying to earn more reputation ;)","body":"Hi! I&#39;ve updated my answer. If it would satisfy you please vote up I&#39;m trying to earn more reputation ;)"},{"owner":{"account_id":910649,"reputation":1776,"user_id":944600,"accept_rate":58,"display_name":"Shailesh Vaishampayan"},"score":2,"creation_date":1458041180,"post_id":17960656,"comment_id":59671307,"body_markdown":"@Rickard May be its too late :) but I found something what you want if I understand you correctly. http://www.reactive-streams.org/. https://github.com/reactor/reactor","body":"@Rickard May be its too late :) but I found something what you want if I understand you correctly. <a href=\"http://www.reactive-streams.org/\" rel=\"nofollow noreferrer\">reactive-streams.org</a>. <a href=\"https://github.com/reactor/reactor\" rel=\"nofollow noreferrer\">github.com/reactor/reactor</a>"}],"answers":[{"tags":[],"owner":{"account_id":153319,"reputation":2930,"user_id":368491,"display_name":"Soulman"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1524227266,"creation_date":1379330192,"answer_id":18826615,"question_id":17960656,"body_markdown":"As far as I know, the streams API does not support asynchronous event processing. Sounds like you want something like Reactive Extensions for .NET, and there is a Java port of it called [RxJava][1], created by Netflix.\r\n\r\nRxJava supports many of the same high-level operations as Java 8 streams (such as map and filter) and is asynchronous.\r\n\r\n**Update**: There is now a [reactive streams][2] initiative in the works, and it looks like JDK 9 will include support for at least part of it though the [Flow][3] class.\r\n\r\n  [1]: https://github.com/Netflix/RxJava\r\n  [2]: http://www.reactive-streams.org/\r\n  [3]: https://docs.oracle.com/javase/9/docs/api/java/util/concurrent/Flow.html","title":"Is it possible to use Java 8 Streams API for asynchronous processing?","body":"<p>As far as I know, the streams API does not support asynchronous event processing. Sounds like you want something like Reactive Extensions for .NET, and there is a Java port of it called <a href=\"https://github.com/Netflix/RxJava\" rel=\"nofollow noreferrer\">RxJava</a>, created by Netflix.</p>\n\n<p>RxJava supports many of the same high-level operations as Java 8 streams (such as map and filter) and is asynchronous.</p>\n\n<p><strong>Update</strong>: There is now a <a href=\"http://www.reactive-streams.org/\" rel=\"nofollow noreferrer\">reactive streams</a> initiative in the works, and it looks like JDK 9 will include support for at least part of it though the <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/concurrent/Flow.html\" rel=\"nofollow noreferrer\">Flow</a> class.</p>\n"},{"tags":[],"owner":{"account_id":123612,"reputation":48061,"user_id":318174,"accept_rate":71,"display_name":"Adam Gent"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1456179342,"creation_date":1425571045,"answer_id":28882176,"question_id":17960656,"body_markdown":"As @KarolKrol alluded to you can do it with a stream of `CompletableFuture`.\r\n\r\nThere is a library that builds on top of JDK8 streams to facilitate working with streams of `CompletableFuture` called [cyclops-react][1].\r\n\r\nTo compose your streams you can use cyclops-react&#39;s fluent promise ike API or you can use simple-react&#39;s [`Stage`s][2].\r\n\r\n\r\n  [1]: https://github.com/aol/cyclops-react\r\n  [2]: https://github.com/aol/cyclops-react/wiki/1.-simple-react-overview#example-12--splitting-and-merging-simplereact-dataflows","title":"Is it possible to use Java 8 Streams API for asynchronous processing?","body":"<p>As @KarolKrol alluded to you can do it with a stream of <code>CompletableFuture</code>.</p>\n\n<p>There is a library that builds on top of JDK8 streams to facilitate working with streams of <code>CompletableFuture</code> called <a href=\"https://github.com/aol/cyclops-react\" rel=\"nofollow noreferrer\">cyclops-react</a>.</p>\n\n<p>To compose your streams you can use cyclops-react's fluent promise ike API or you can use simple-react's <a href=\"https://github.com/aol/cyclops-react/wiki/1.-simple-react-overview#example-12--splitting-and-merging-simplereact-dataflows\" rel=\"nofollow noreferrer\"><code>Stage</code>s</a>.</p>\n"},{"tags":[],"owner":{"account_id":5914036,"reputation":5245,"user_id":4653367,"display_name":"John McClean"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1456176777,"creation_date":1442833994,"answer_id":32693772,"question_id":17960656,"body_markdown":"[cyclops-react](https://github.com/aol/cyclops-react) (I am the author of this library), provides a [StreamUtils](http://static.javadoc.io/com.aol.simplereact/cyclops-react/1.0.0-RC1/com/aol/cyclops/util/stream/StreamUtils.html) class for processing Streams. \r\nOne of the functions it provides is futureOperations, that provides access to the standard Stream terminal operations (and then some) with a twist - the Stream is executed asynchronously and the result is returned inside a CompletableFuture. .e.g\r\n\r\n     Stream&lt;Integer&gt; stream = Stream.of(1,2,3,4,5,6)\r\n                                           .map(i-&gt;i+2);\r\n     CompletableFuture&lt;List&lt;Integer&gt;&gt; asyncResult =  StreamUtils.futureOperations(stream,\r\n                                                 Executors.newFixedThreadPool(1))\r\n                                           .collect(Collectors.toList());\r\n\r\nThere is also a convience class ReactiveSeq that wraps Stream and provides the same functionality, with a nice fluent API\r\n \r\n     CompletableFuture&lt;List&lt;Integer&gt;&gt; asyncResult = ReactiveSeq.of(1,2,3,4,5,6)\r\n                                           .map(i-&gt;i+2)\r\n                                           .futureOperations(\r\n                                                 Executors.newFixedThreadPool(1))\r\n                                           .collect(Collectors.toList());\r\n\r\nAs Adam has pointed out [cyclops-react](https://github.com/aol/cyclops-react) FutureStreams are designed to process data asynchronously (by mixing Futures and Streams together) - it is particularly suited for multi-threaded operations that involve blocking I/O (such as reading files, making db calls, making rest calls etc).\r\n\r\n","title":"Is it possible to use Java 8 Streams API for asynchronous processing?","body":"<p><a href=\"https://github.com/aol/cyclops-react\" rel=\"nofollow\">cyclops-react</a> (I am the author of this library), provides a <a href=\"http://static.javadoc.io/com.aol.simplereact/cyclops-react/1.0.0-RC1/com/aol/cyclops/util/stream/StreamUtils.html\" rel=\"nofollow\">StreamUtils</a> class for processing Streams. \nOne of the functions it provides is futureOperations, that provides access to the standard Stream terminal operations (and then some) with a twist - the Stream is executed asynchronously and the result is returned inside a CompletableFuture. .e.g</p>\n\n<pre><code> Stream&lt;Integer&gt; stream = Stream.of(1,2,3,4,5,6)\n                                       .map(i-&gt;i+2);\n CompletableFuture&lt;List&lt;Integer&gt;&gt; asyncResult =  StreamUtils.futureOperations(stream,\n                                             Executors.newFixedThreadPool(1))\n                                       .collect(Collectors.toList());\n</code></pre>\n\n<p>There is also a convience class ReactiveSeq that wraps Stream and provides the same functionality, with a nice fluent API</p>\n\n<pre><code> CompletableFuture&lt;List&lt;Integer&gt;&gt; asyncResult = ReactiveSeq.of(1,2,3,4,5,6)\n                                       .map(i-&gt;i+2)\n                                       .futureOperations(\n                                             Executors.newFixedThreadPool(1))\n                                       .collect(Collectors.toList());\n</code></pre>\n\n<p>As Adam has pointed out <a href=\"https://github.com/aol/cyclops-react\" rel=\"nofollow\">cyclops-react</a> FutureStreams are designed to process data asynchronously (by mixing Futures and Streams together) - it is particularly suited for multi-threaded operations that involve blocking I/O (such as reading files, making db calls, making rest calls etc).</p>\n"},{"tags":[],"owner":{"account_id":1664196,"reputation":1353,"user_id":1531945,"accept_rate":50,"display_name":"Konstantin Pelepelin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1512739807,"creation_date":1490735447,"answer_id":43080033,"question_id":17960656,"body_markdown":"It is possible to produce a stream, map each element to `CompletionStage`, and collect the results using `CompletionStage.thenCombine()`, but the resulting code will not be more readable then using simple for like this.\r\n\r\n        CompletionStage&lt;Collection&lt;Result&gt;&gt; collectionStage =\r\n            CompletableFuture.completedFuture(\r\n                new LinkedList&lt;&gt;()\r\n            );\r\n\r\n        for (Request request : requests) {\r\n            CompletionStage&lt;Result&gt; resultStage = performRequest(request);\r\n            collectionStage = collectionStage.thenCombine(\r\n                resultStage,\r\n                (collection, result) -&gt; {\r\n                    collection.add(result);\r\n                    return collection;\r\n                }\r\n            );\r\n        }\r\n\r\n        return collectionStage;\r\n\r\nThis example may be easily transformed to functional forEach not loosing readability. But using stream&#39;s `reduce` or `collect` requires additional not so fine code.\r\n\r\nUpdate: `CompletableFuture.allOf` and `CompletableFuture.join` provide another, more readable way of transforming collection of future results to future collection of results.","title":"Is it possible to use Java 8 Streams API for asynchronous processing?","body":"<p>It is possible to produce a stream, map each element to <code>CompletionStage</code>, and collect the results using <code>CompletionStage.thenCombine()</code>, but the resulting code will not be more readable then using simple for like this.</p>\n\n<pre><code>    CompletionStage&lt;Collection&lt;Result&gt;&gt; collectionStage =\n        CompletableFuture.completedFuture(\n            new LinkedList&lt;&gt;()\n        );\n\n    for (Request request : requests) {\n        CompletionStage&lt;Result&gt; resultStage = performRequest(request);\n        collectionStage = collectionStage.thenCombine(\n            resultStage,\n            (collection, result) -&gt; {\n                collection.add(result);\n                return collection;\n            }\n        );\n    }\n\n    return collectionStage;\n</code></pre>\n\n<p>This example may be easily transformed to functional forEach not loosing readability. But using stream's <code>reduce</code> or <code>collect</code> requires additional not so fine code.</p>\n\n<p>Update: <code>CompletableFuture.allOf</code> and <code>CompletableFuture.join</code> provide another, more readable way of transforming collection of future results to future collection of results.</p>\n"},{"tags":[],"owner":{"account_id":16963317,"reputation":11,"user_id":12269916,"display_name":"Andr&#233; Schepers"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1571934742,"creation_date":1571934742,"answer_id":58545581,"question_id":17960656,"body_markdown":"As mentioned, use reactive programming:\r\n&lt;br/&gt;&lt;br/&gt;\r\nMaven:&lt;br/&gt;\r\ngroupId: org.projectreactor&lt;br/&gt;\r\nartifactId: reactor-spring\r\n&lt;br/&gt;&lt;br/&gt;\r\nExample:\r\n&lt;br/&gt;&lt;br/&gt;\r\n```\r\nFlux.fromIterable(Arrays.asList(&quot;een&quot;, &quot;twee&quot;))\r\n    .flatMap(string -&gt; translateDutchToEnglish(string))\r\n    .parallel()\r\n    .runOn(Schedulers.parallel())\r\n    .sequential()\r\n    .collectList()\r\n    .block();\r\n```\r\nWhat it does, is create a Flux, which is a set of resolvable items, on which you perform an action: flatMap with callback.&lt;br/&gt;\r\nThen, you use the parallel() method to make it asynchronous. runOn() is used to indicate on which thread to run it. Schedulers.parallel() indicates use as many threads as there are cpu cores.&lt;br/&gt;\r\nsequential() brings it back to synchronous to let collectList() collect all results in one list again.&lt;br/&gt;\r\nTo wait for all threads to be done with their business, use block(). The result is a list of with the results.","title":"Is it possible to use Java 8 Streams API for asynchronous processing?","body":"<p>As mentioned, use reactive programming:\n<br/><br/>\nMaven:<br/>\ngroupId: org.projectreactor<br/>\nartifactId: reactor-spring\n<br/><br/>\nExample:\n<br/><br/></p>\n\n<pre><code>Flux.fromIterable(Arrays.asList(\"een\", \"twee\"))\n    .flatMap(string -&gt; translateDutchToEnglish(string))\n    .parallel()\n    .runOn(Schedulers.parallel())\n    .sequential()\n    .collectList()\n    .block();\n</code></pre>\n\n<p>What it does, is create a Flux, which is a set of resolvable items, on which you perform an action: flatMap with callback.<br/>\nThen, you use the parallel() method to make it asynchronous. runOn() is used to indicate on which thread to run it. Schedulers.parallel() indicates use as many threads as there are cpu cores.<br/>\nsequential() brings it back to synchronous to let collectList() collect all results in one list again.<br/>\nTo wait for all threads to be done with their business, use block(). The result is a list of with the results.</p>\n"},{"tags":[],"owner":{"account_id":442668,"reputation":1431,"user_id":833399,"accept_rate":75,"display_name":"Knight Industries"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648721008,"creation_date":1648720652,"answer_id":71690513,"question_id":17960656,"body_markdown":"Yes, it is possible using the standard API:\r\n\r\n```java\r\npublic class BufferedAsyncStreamable&lt;T&gt; implements Iterator&lt;T&gt; {\r\n\r\n  @SuppressWarnings(&quot;unchecked&quot;)\r\n  private final T END_MARKER = (T) new Object();\r\n\r\n  private final BlockingQueue&lt;T&gt; queue;\r\n  private T currentValue;\r\n\r\n  public BufferedAsyncStreamable(int capacity) {\r\n    queue = new ArrayBlockingQueue&lt;&gt;(capacity);\r\n  }\r\n\r\n  public void add(T obj) {\r\n    queue.add(obj);\r\n  }\r\n\r\n  public void end() {\r\n    queue.add(END_MARKER);\r\n  }\r\n\r\n  @Override\r\n  public boolean hasNext() {\r\n    try {\r\n      return (currentValue = queue.take()) != END_MARKER;\r\n    } catch (InterruptedException e) {\r\n      throw new RuntimeException(e);\r\n    }\r\n  }\r\n\r\n  @Override\r\n  public T next() {\r\n    return currentValue;\r\n  }\r\n\r\n  public Stream&lt;T&gt; stream() {\r\n    return StreamSupport.stream(Spliterators.spliteratorUnknownSize(this, 0), false);\r\n  }\r\n}\r\n```\r\n\r\nExample usage:\r\n\r\n```java\r\nvar buffer = new BufferedAsyncStreamable&lt;String&gt;(10);\r\n\r\nnew Thread(() -&gt; {\r\n  var input = new Scanner(System.in);\r\n  for (String line; !&quot;end&quot;.equals(line = input.nextLine());) {\r\n    buffer.add(line);\r\n  }\r\n  buffer.end();\r\n}).start();\r\n\r\nbuffer.stream()\r\n    .map(String::toUpperCase)\r\n    .forEach(System.err::println);\r\n```\r\n\r\nReads lines from stdin (until `&quot;end&quot;`) and converts them to uppercase as they come in.","title":"Is it possible to use Java 8 Streams API for asynchronous processing?","body":"<p>Yes, it is possible using the standard API:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class BufferedAsyncStreamable&lt;T&gt; implements Iterator&lt;T&gt; {\n\n  @SuppressWarnings(&quot;unchecked&quot;)\n  private final T END_MARKER = (T) new Object();\n\n  private final BlockingQueue&lt;T&gt; queue;\n  private T currentValue;\n\n  public BufferedAsyncStreamable(int capacity) {\n    queue = new ArrayBlockingQueue&lt;&gt;(capacity);\n  }\n\n  public void add(T obj) {\n    queue.add(obj);\n  }\n\n  public void end() {\n    queue.add(END_MARKER);\n  }\n\n  @Override\n  public boolean hasNext() {\n    try {\n      return (currentValue = queue.take()) != END_MARKER;\n    } catch (InterruptedException e) {\n      throw new RuntimeException(e);\n    }\n  }\n\n  @Override\n  public T next() {\n    return currentValue;\n  }\n\n  public Stream&lt;T&gt; stream() {\n    return StreamSupport.stream(Spliterators.spliteratorUnknownSize(this, 0), false);\n  }\n}\n</code></pre>\n<p>Example usage:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var buffer = new BufferedAsyncStreamable&lt;String&gt;(10);\n\nnew Thread(() -&gt; {\n  var input = new Scanner(System.in);\n  for (String line; !&quot;end&quot;.equals(line = input.nextLine());) {\n    buffer.add(line);\n  }\n  buffer.end();\n}).start();\n\nbuffer.stream()\n    .map(String::toUpperCase)\n    .forEach(System.err::println);\n</code></pre>\n<p>Reads lines from stdin (until <code>&quot;end&quot;</code>) and converts them to uppercase as they come in.</p>\n"}],"owner":{"account_id":2254801,"reputation":508,"user_id":1986211,"display_name":"Rickard &#214;berg"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34114,"favorite_count":0,"down_vote_count":0,"up_vote_count":36,"answer_count":6,"score":36,"last_activity_date":1648721008,"creation_date":1375237994,"question_id":17960656,"body_markdown":"I&#39;ve been playing with CompletionStage/CompletableFuture in Java 8 in order to do asynchronous processing, which works quite well. However, sometimes I want a stage to perform asynchronous processing of an iterator/stream of items, and there doesn&#39;t seem to be a way to do this.\r\n\r\nSpecifically, Stream.forEach() has the semantics that after the call all items have been processed. I would want the same thing, but with a CompletionStage instead, e.g.:\r\n\r\n    CompletionStage&lt;Void&gt; done = stream.forEach(...);\r\n    done.thenRun(...);\r\n\r\nIf the Stream is backed by an asynchronous streaming result this would be much better than waiting for it to be complete in the above code itself.\r\n\r\nIs it possible to construct this with current Java 8 API somehow? Workarounds?\r\n\r\n","title":"Is it possible to use Java 8 Streams API for asynchronous processing?","body":"<p>I've been playing with CompletionStage/CompletableFuture in Java 8 in order to do asynchronous processing, which works quite well. However, sometimes I want a stage to perform asynchronous processing of an iterator/stream of items, and there doesn't seem to be a way to do this.</p>\n\n<p>Specifically, Stream.forEach() has the semantics that after the call all items have been processed. I would want the same thing, but with a CompletionStage instead, e.g.:</p>\n\n<pre><code>CompletionStage&lt;Void&gt; done = stream.forEach(...);\ndone.thenRun(...);\n</code></pre>\n\n<p>If the Stream is backed by an asynchronous streaming result this would be much better than waiting for it to be complete in the above code itself.</p>\n\n<p>Is it possible to construct this with current Java 8 API somehow? Workarounds?</p>\n"},{"tags":["java","spring","liquibase-hibernate"],"comments":[{"owner":{"account_id":24666064,"reputation":365,"user_id":18561714,"display_name":"tabbyfoo"},"score":0,"creation_date":1656353812,"post_id":71690523,"comment_id":128546663,"body_markdown":"Did you try both and see which one worked? What did you find?","body":"Did you try both and see which one worked? What did you find?"}],"owner":{"account_id":23600769,"reputation":366,"user_id":17637282,"display_name":"Dev007"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":359,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1648720698,"creation_date":1648720698,"question_id":71690523,"body_markdown":"In liquibase I added a script for creating a database and also use in Java / Spring Entity with GeneratedValue and my SequenceGenerator. In the case of the script in liquibase, do I have to add the generation of the identifier with the sequence to it, or is it enough that I have it from the level of my entity?\r\n\r\n        @SequenceGenerator(name = &quot;TEST_DATA_SEQ&quot;, sequenceName = &quot;TEST_DATA&quot;, initialValue = 1, allocationSize = 1)\r\n    public class TestPPData {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;TEST_DATA_SEQ&quot;)\r\n        @Column(name = &quot;ID&quot;, nullable = false)\r\n        private Long id;\r\n    CREATE TABLE TEST_DATA\r\n    (\r\n        ID          NUMBER(10) PRIMARY KEY,\r\n     ....\r\n    );\r\n    \r\n    COMMENT ON COLUMN TEST_DATA.ID IS &#39;Primary key&#39;;\r\n\r\n\r\n\r\nAnd my LB\r\n\r\n    - changeSet:\r\n          id: test\r\n          author: test\r\n          changes:\r\n            - sqlFile:\r\n                dbms: oracle\r\n                encoding: utf8\r\n                path: scripts/test.sql\r\n                relativeToChangelogFile: true\r\n                splitStatements: true\r\n            stripComments: false\r\n\r\n\r\nor I must need add ?\r\n\r\n    createSequence:\r\n    incrementBy: 1\r\n    sequenceName: TEST_DATA_SEQ\r\n    startValue: 1","title":"Create @GeneratedValue sequence in hibernate and liquibase","body":"<p>In liquibase I added a script for creating a database and also use in Java / Spring Entity with GeneratedValue and my SequenceGenerator. In the case of the script in liquibase, do I have to add the generation of the identifier with the sequence to it, or is it enough that I have it from the level of my entity?</p>\n<pre><code>    @SequenceGenerator(name = &quot;TEST_DATA_SEQ&quot;, sequenceName = &quot;TEST_DATA&quot;, initialValue = 1, allocationSize = 1)\npublic class TestPPData {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;TEST_DATA_SEQ&quot;)\n    @Column(name = &quot;ID&quot;, nullable = false)\n    private Long id;\nCREATE TABLE TEST_DATA\n(\n    ID          NUMBER(10) PRIMARY KEY,\n ....\n);\n\nCOMMENT ON COLUMN TEST_DATA.ID IS 'Primary key';\n</code></pre>\n<p>And my LB</p>\n<pre><code>- changeSet:\n      id: test\n      author: test\n      changes:\n        - sqlFile:\n            dbms: oracle\n            encoding: utf8\n            path: scripts/test.sql\n            relativeToChangelogFile: true\n            splitStatements: true\n        stripComments: false\n</code></pre>\n<p>or I must need add ?</p>\n<pre><code>createSequence:\nincrementBy: 1\nsequenceName: TEST_DATA_SEQ\nstartValue: 1\n</code></pre>\n"},{"tags":["java","maven","soap","xsd","cxf"],"comments":[{"owner":{"account_id":4442798,"reputation":345,"user_id":3616940,"display_name":"Karthikaiselvan R"},"score":1,"creation_date":1660935749,"post_id":71690497,"comment_id":129659609,"body_markdown":"Have you found any solution for this?","body":"Have you found any solution for this?"},{"owner":{"account_id":282078,"reputation":847,"user_id":578759,"display_name":"Hok"},"score":1,"creation_date":1663332869,"post_id":71690497,"comment_id":130220793,"body_markdown":"@KarthikaiselvanR in a way. The problem solved itself after a few days; the redirect was replaced by a direct response again. Meanwhile, I had worked around it by downloading the schema and using the local schemaLocation with a file: URL. This is more robust anyway, as it avoids external interference on my builds.","body":"@KarthikaiselvanR in a way. The problem solved itself after a few days; the redirect was replaced by a direct response again. Meanwhile, I had worked around it by downloading the schema and using the local schemaLocation with a file: URL. This is more robust anyway, as it avoids external interference on my builds."}],"owner":{"account_id":282078,"reputation":847,"user_id":578759,"display_name":"Hok"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":486,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1648720577,"creation_date":1648720577,"question_id":71690497,"body_markdown":"I have a Maven project where Java code is generated from a WSDL file using org.apache.cxf:cxf-codegen-plugin 3.5.1\r\n\r\nThe WSDL imports an XSD schema, which in turn imports a schema from schemas.xmlsoap.org using this directive:\r\n\r\n```&lt;xsd:import namespace=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot; schemaLocation=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;/&gt;```\r\n\r\nYesterday this schema was moved temporarily (HTTP/1.1 307 Temporary Redirect) to https://schemas.xmlsoap.org/soap/envelope/\r\n\r\nNow the SAX parser fails with org.xml.sax.SAXParseException: premature end of file, apparently because the XSD import doesn&#39;t follow the redirect and returns an empty file.\r\n\r\nI would gladly change the schemaLocation to https, but since it&#39;s only a temporary redirect, I&#39;d rather follow the redirect instead.\r\n\r\nIs there a configuration option for Apache CXF to follow redirects? I didn&#39;t find any at https://cxf.apache.org/.","title":"Maven cxf-codegen-plugin doesn&#39;t follow redirect in xsd:import","body":"<p>I have a Maven project where Java code is generated from a WSDL file using org.apache.cxf:cxf-codegen-plugin 3.5.1</p>\n<p>The WSDL imports an XSD schema, which in turn imports a schema from schemas.xmlsoap.org using this directive:</p>\n<p><code>&lt;xsd:import namespace=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot; schemaLocation=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;/&gt;</code></p>\n<p>Yesterday this schema was moved temporarily (HTTP/1.1 307 Temporary Redirect) to <a href=\"https://schemas.xmlsoap.org/soap/envelope/\" rel=\"nofollow noreferrer\">https://schemas.xmlsoap.org/soap/envelope/</a></p>\n<p>Now the SAX parser fails with org.xml.sax.SAXParseException: premature end of file, apparently because the XSD import doesn't follow the redirect and returns an empty file.</p>\n<p>I would gladly change the schemaLocation to https, but since it's only a temporary redirect, I'd rather follow the redirect instead.</p>\n<p>Is there a configuration option for Apache CXF to follow redirects? I didn't find any at <a href=\"https://cxf.apache.org/\" rel=\"nofollow noreferrer\">https://cxf.apache.org/</a>.</p>\n"},{"tags":["java","swing","renderer","cellrenderer"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1648717045,"post_id":71689633,"comment_id":126697163,"body_markdown":"I&#39;m just going to point to this [example](https://stackoverflow.com/questions/25070511/add-jbutton-to-each-row-of-a-jtable/25071138#25071138)","body":"I&#39;m just going to point to this <a href=\"https://stackoverflow.com/questions/25070511/add-jbutton-to-each-row-of-a-jtable/25071138#25071138\">example</a>"},{"owner":{"account_id":24532508,"reputation":1,"user_id":18444064,"display_name":"john michael ringor"},"score":0,"creation_date":1648717184,"post_id":71689633,"comment_id":126697212,"body_markdown":"But that&#39;s too complex.","body":"But that&#39;s too complex."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1648717238,"post_id":71689633,"comment_id":126697237,"body_markdown":"If you&#39;re still hell bent on making your users lives miserable (&#128540;), you can look at [this example](https://stackoverflow.com/questions/12795442/how-can-remove-current-row-in-jtable-when-click-jbutton/12795907#12795907); [this example](https://stackoverflow.com/questions/24625083/how-to-delete-a-row-from-jtable/24626105#24626105); [this example](https://stackoverflow.com/questions/51841524/remove-a-row-from-jtable-with-jbutton/51842086#51842086)","body":"If you&#39;re still hell bent on making your users lives miserable (😜), you can look at <a href=\"https://stackoverflow.com/questions/12795442/how-can-remove-current-row-in-jtable-when-click-jbutton/12795907#12795907\">this example</a>; <a href=\"https://stackoverflow.com/questions/24625083/how-to-delete-a-row-from-jtable/24626105#24626105\">this example</a>; <a href=\"https://stackoverflow.com/questions/51841524/remove-a-row-from-jtable-with-jbutton/51842086#51842086\">this example</a>"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1648717294,"post_id":71689633,"comment_id":126697261,"body_markdown":"If you think (the first example) is *&quot;to complex&quot;* then you are in for a seriously rude awaken","body":"If you think (the first example) is <i>&quot;to complex&quot;</i> then you are in for a seriously rude awaken"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1648733862,"post_id":71689633,"comment_id":126703747,"body_markdown":"Check out [Table Button Column](https://tips4java.wordpress.com/2009/07/12/table-button-column/) for an easy way to add a button to a column along with an Action to be invoked when the button is clicked.","body":"Check out <a href=\"https://tips4java.wordpress.com/2009/07/12/table-button-column/\" rel=\"nofollow noreferrer\">Table Button Column</a> for an easy way to add a button to a column along with an Action to be invoked when the button is clicked."}],"owner":{"account_id":24532508,"reputation":1,"user_id":18444064,"display_name":"john michael ringor"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":488,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648720505,"creation_date":1648716956,"question_id":71689633,"body_markdown":"I&#39;ve implemented a customized table with cell renderer so that I can add the delete button on every row in the table\r\n\r\n![](https://i.stack.imgur.com/xhz1I.png)  \r\nButtonEditor.java\r\n\r\n    public class ButtonEditor extends DefaultCellEditor{\r\n        protected TableButton btn;\r\n        private String lbl;\r\n        private Boolean clicked;\r\n    \r\n        public ButtonEditor(JTextField txt) {\r\n            super(txt);\r\n    \r\n            btn= new TableButton();\r\n            btn.setOpaque(true);\r\n    \r\n            //WHEN BUTTON IS CLICKED\r\n            btn.addActionListener(new ActionListener() {\r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n    //                fireEditingStopped();\r\n                    JOptionPane.showMessageDialog(btn, lbl+&quot; Clicked&quot;);\r\n                }\r\n            });\r\n        }\r\n    \r\n       //OVERRIDE A COUPLE OF METHODS\r\n        @Override\r\n        public Component getTableCellEditorComponent(JTable table, Object obj,\r\n            boolean selected, int row, int col) {\r\n    \r\n            //SET TEXT TO BUTTON,SET CLICKED TO TRUE,THEN RETURN THE BTN OBJECT\r\n            lbl=(obj==null) ? &quot;&quot;:obj.toString();\r\n            btn.setText(lbl);\r\n            clicked=true;\r\n            return btn;\r\n        }\r\n    \r\n        //IF BUTTON CELL VALUE CHNAGES,IF CLICKED THAT IS\r\n        @Override\r\n        public Object getCellEditorValue() {\r\n            if(clicked)\r\n            {\r\n                JOptionPane.showMessageDialog(btn, lbl+&quot; Clicked&quot;);\r\n            }\r\n            //SET IT TO FALSE NOW THAT ITS CLICKED\r\n            clicked=false;\r\n            return new String(lbl);\r\n        }\r\n    \r\n        @Override\r\n        public boolean stopCellEditing() {\r\n    \r\n             //SET CLICKED TO FALSE FIRST\r\n            clicked=false;\r\n            return super.stopCellEditing();\r\n        }\r\n    \r\n        @Override\r\n        protected void fireEditingStopped() {\r\n            // TODO Auto-generated method stub\r\n            super.fireEditingStopped();\r\n        }\r\n    }\r\n\r\nButtonRenderer.java\r\n\r\n    public class ButtonRenderer extends JButton implements  TableCellRenderer\r\n    {\r\n        //CONSTRUCTOR\r\n        public ButtonRenderer() {\r\n            //SET BUTTON PROPERTIES\r\n            setOpaque(true);\r\n        }\r\n        @Override\r\n        public Component getTableCellRendererComponent(JTable table, Object obj,\r\n            boolean selected, boolean focused, int row, int col) {\r\n    \r\n            //SET PASSED OBJECT AS BUTTON TEXT\r\n            setText((obj==null) ? &quot;&quot;:obj.toString());\r\n    \r\n            return this;\r\n        }\r\n    }\r\n\r\nInside the JPanel constructor I need to add a row of that added table palette in swing.\r\n\r\n    public samplePanel(){\r\n        table.addRow(new Object[] {o.get(0), o.get(1), o.get(2), o.get(3), o.get(4), &quot;DELETE&quot;});\r\n        table.getColumn(&quot;Action&quot;).setCellRenderer(new ButtonRenderer());\r\n        table.getColumn(&quot;Action&quot;).setCellEditor(new ButtonEditor(new JTextField()));\r\n    }\r\n\r\nReference for the button editor and renderer click [here](https://stackoverflow.com/questions/13833688/adding-jbutton-to-jtable).\r\n\r\nI just wanted to get the data of the row clicked delete button, But I don&#39;t know how to do it since I am new to renderers and editors.","title":"How can I get the data of a table row on a click button in the same row as the table row with button renderer and cell rederer?","body":"<p>I've implemented a customized table with cell renderer so that I can add the delete button on every row in the table</p>\n<p><img src=\"https://i.stack.imgur.com/xhz1I.png\" alt=\"\" /><br />\nButtonEditor.java</p>\n<pre><code>public class ButtonEditor extends DefaultCellEditor{\n    protected TableButton btn;\n    private String lbl;\n    private Boolean clicked;\n\n    public ButtonEditor(JTextField txt) {\n        super(txt);\n\n        btn= new TableButton();\n        btn.setOpaque(true);\n\n        //WHEN BUTTON IS CLICKED\n        btn.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n//                fireEditingStopped();\n                JOptionPane.showMessageDialog(btn, lbl+&quot; Clicked&quot;);\n            }\n        });\n    }\n\n   //OVERRIDE A COUPLE OF METHODS\n    @Override\n    public Component getTableCellEditorComponent(JTable table, Object obj,\n        boolean selected, int row, int col) {\n\n        //SET TEXT TO BUTTON,SET CLICKED TO TRUE,THEN RETURN THE BTN OBJECT\n        lbl=(obj==null) ? &quot;&quot;:obj.toString();\n        btn.setText(lbl);\n        clicked=true;\n        return btn;\n    }\n\n    //IF BUTTON CELL VALUE CHNAGES,IF CLICKED THAT IS\n    @Override\n    public Object getCellEditorValue() {\n        if(clicked)\n        {\n            JOptionPane.showMessageDialog(btn, lbl+&quot; Clicked&quot;);\n        }\n        //SET IT TO FALSE NOW THAT ITS CLICKED\n        clicked=false;\n        return new String(lbl);\n    }\n\n    @Override\n    public boolean stopCellEditing() {\n\n         //SET CLICKED TO FALSE FIRST\n        clicked=false;\n        return super.stopCellEditing();\n    }\n\n    @Override\n    protected void fireEditingStopped() {\n        // TODO Auto-generated method stub\n        super.fireEditingStopped();\n    }\n}\n</code></pre>\n<p>ButtonRenderer.java</p>\n<pre><code>public class ButtonRenderer extends JButton implements  TableCellRenderer\n{\n    //CONSTRUCTOR\n    public ButtonRenderer() {\n        //SET BUTTON PROPERTIES\n        setOpaque(true);\n    }\n    @Override\n    public Component getTableCellRendererComponent(JTable table, Object obj,\n        boolean selected, boolean focused, int row, int col) {\n\n        //SET PASSED OBJECT AS BUTTON TEXT\n        setText((obj==null) ? &quot;&quot;:obj.toString());\n\n        return this;\n    }\n}\n</code></pre>\n<p>Inside the JPanel constructor I need to add a row of that added table palette in swing.</p>\n<pre><code>public samplePanel(){\n    table.addRow(new Object[] {o.get(0), o.get(1), o.get(2), o.get(3), o.get(4), &quot;DELETE&quot;});\n    table.getColumn(&quot;Action&quot;).setCellRenderer(new ButtonRenderer());\n    table.getColumn(&quot;Action&quot;).setCellEditor(new ButtonEditor(new JTextField()));\n}\n</code></pre>\n<p>Reference for the button editor and renderer click <a href=\"https://stackoverflow.com/questions/13833688/adding-jbutton-to-jtable\">here</a>.</p>\n<p>I just wanted to get the data of the row clicked delete button, But I don't know how to do it since I am new to renderers and editors.</p>\n"},{"tags":["java","android","android-studio","arraylist","double"],"answers":[{"tags":[],"owner":{"account_id":11104315,"reputation":81,"user_id":8151963,"display_name":"mono"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648716398,"creation_date":1648715905,"answer_id":71689414,"question_id":71689276,"body_markdown":"Use `String.valueOf()` to get a String value\r\n\r\n```java\r\n\r\n   public static String valueOf(double d) {\r\n        return Double.toString(d);\r\n   }\r\n\r\n```\r\n\r\ncode:\r\n\r\n` holder.txtPrice.setText(String.valueOf(c.getPrice()));`","title":"How can I set variable double to the textview in a recyclerview?","body":"<p>Use <code>String.valueOf()</code> to get a String value</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n   public static String valueOf(double d) {\n        return Double.toString(d);\n   }\n\n</code></pre>\n<p>code:</p>\n<p><code> holder.txtPrice.setText(String.valueOf(c.getPrice()));</code></p>\n"},{"tags":[],"owner":{"account_id":24746097,"reputation":41,"user_id":18632251,"display_name":"Mohaafly"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648720290,"creation_date":1648716067,"answer_id":71689444,"question_id":71689276,"body_markdown":"SetText needs CharSequence or a Resource id, see [link](https://developer.android.com/reference/android/widget/TextView#setText(char[],%20int,%20int))\r\n\r\nYou might want to make your double a string by using Double.toString()\r\n\r\n    holder.txtPrice.setText(c.getPrice());\r\n ==&gt;\r\n\r\n    holder.txtPrice.setText(Double.toString(c.getPrice()))","title":"How can I set variable double to the textview in a recyclerview?","body":"<p>SetText needs CharSequence or a Resource id, see <a href=\"https://developer.android.com/reference/android/widget/TextView#setText(char%5B%5D,%20int,%20int)\" rel=\"nofollow noreferrer\">link</a></p>\n<p>You might want to make your double a string by using Double.toString()</p>\n<pre><code>holder.txtPrice.setText(c.getPrice());\n</code></pre>\n<p>==&gt;</p>\n<pre><code>holder.txtPrice.setText(Double.toString(c.getPrice()))\n</code></pre>\n"}],"owner":{"account_id":24756073,"reputation":15,"user_id":18640990,"display_name":"Milan Goyal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1648720290,"creation_date":1648715253,"question_id":71689276,"body_markdown":"I am doing my lab in which I have to create a ViewPager2 application that will show the phone images, model and their prices. To do so, I have created all the necessary activities, java classes, adapters and all. I&#39;m getting an error while setting the value of double to my textView. Please have a look at the code. I&#39;m getting the error at:\r\n\r\n    holder.txtPrice.setText(c.getPrice());\r\n\r\nThis is CellphoneAdapter.java\r\n\r\n```\r\npackage com.android.lab5;\r\n\r\nimport android.content.Context;\r\nimport android.view.LayoutInflater;\r\nimport android.view.ViewGroup;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\nimport java.util.ArrayList;\r\n\r\npublic class CellphoneAdapter extends RecyclerView.Adapter&lt;CellphoneAdapter.MyViewHolder&gt; {\r\n    private ArrayList&lt;Cellphone&gt; cellList;\r\n\r\n    public CellphoneAdapter(ArrayList&lt;Cellphone&gt; cellphone){\r\n        cellList = cellphone;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public CellphoneAdapter.MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        LayoutInflater layoutInflater = LayoutInflater.from(parent.getContext());\r\n        return new MyViewHolder(layoutInflater, parent);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull CellphoneAdapter.MyViewHolder holder, int position) {\r\n        Cellphone c = cellList.get(position);\r\n\r\n        Context actContext = holder.itemView.getContext();\r\n        int resid = actContext.getResources().getIdentifier(c.getImage(), &quot;drawable&quot;, actContext.getPackageName());\r\n\r\n        holder.imgPhone.setImageResource(resid);\r\n        holder.txtModel.setText(c.getModel());\r\n        holder.txtPrice.setText(c.getPrice());\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return cellList.size();\r\n    }\r\n\r\n    class MyViewHolder extends RecyclerView.ViewHolder {\r\n\r\n        TextView txtModel, txtPrice;\r\n        ImageView imgPhone;\r\n\r\n        public MyViewHolder(LayoutInflater inflater, ViewGroup parent){\r\n            super(inflater.inflate(R.layout.pager_layout, parent, false));\r\n            txtModel = itemView.findViewById(R.id.txtBrand);\r\n            txtPrice = itemView.findViewById(R.id.txtPrice);\r\n            imgPhone = itemView.findViewById(R.id.imgPhone);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThis is Cellphone.java\r\n\r\n```\r\npackage com.android.lab5;\r\n\r\npublic class Cellphone {\r\n    private String image;\r\n    private String model;\r\n    private double price;\r\n\r\n    public Cellphone(String image, String model, double price) {\r\n        this.image = image;\r\n        this.model = model;\r\n        this.price = price;\r\n    }\r\n\r\n    public String getImage() {\r\n        return image;\r\n    }\r\n\r\n    public void setImage(String image) {\r\n        this.image = image;\r\n    }\r\n\r\n    public String getModel() {\r\n        return model;\r\n    }\r\n\r\n    public void setModel(String model) {\r\n        this.model = model;\r\n    }\r\n\r\n    public double getPrice() {\r\n        return price;\r\n    }\r\n\r\n    public void setPrice(double price) {\r\n        this.price = price;\r\n    }\r\n}\r\n```\r\n\r\nThis is MainActivity.java\r\n\r\n```\r\npackage com.android.lab5;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\nimport androidx.viewpager2.widget.ViewPager2;\r\nimport android.os.Bundle;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    ViewPager2 vPager;\r\n    private RecyclerView.Adapter adapter;\r\n    ArrayList&lt;Cellphone&gt; cellList = new ArrayList&lt;&gt;();\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        Cellphone c1 = new Cellphone(&quot;galaxy&quot;, &quot;Galaxy&quot;, 500);\r\n        Cellphone c2 = new Cellphone(&quot;iphone&quot;, &quot;iPhone&quot;, 899);\r\n        Cellphone c3 = new Cellphone(&quot;pixel&quot;, &quot;Pixel&quot;, 699);\r\n\r\n        cellList.add(c1);\r\n        cellList.add(c2);\r\n        cellList.add(c3);\r\n\r\n        vPager = findViewById(R.id.vPager);\r\n\r\n        adapter = new CellphoneAdapter(cellList);\r\n\r\n        vPager.setAdapter(adapter);\r\n    }\r\n}\r\n```","title":"How can I set variable double to the textview in a recyclerview?","body":"<p>I am doing my lab in which I have to create a ViewPager2 application that will show the phone images, model and their prices. To do so, I have created all the necessary activities, java classes, adapters and all. I'm getting an error while setting the value of double to my textView. Please have a look at the code. I'm getting the error at:</p>\n<pre><code>holder.txtPrice.setText(c.getPrice());\n</code></pre>\n<p>This is CellphoneAdapter.java</p>\n<pre><code>package com.android.lab5;\n\nimport android.content.Context;\nimport android.view.LayoutInflater;\nimport android.view.ViewGroup;\nimport android.widget.ImageView;\nimport android.widget.TextView;\nimport androidx.annotation.NonNull;\nimport androidx.recyclerview.widget.RecyclerView;\nimport java.util.ArrayList;\n\npublic class CellphoneAdapter extends RecyclerView.Adapter&lt;CellphoneAdapter.MyViewHolder&gt; {\n    private ArrayList&lt;Cellphone&gt; cellList;\n\n    public CellphoneAdapter(ArrayList&lt;Cellphone&gt; cellphone){\n        cellList = cellphone;\n    }\n\n    @NonNull\n    @Override\n    public CellphoneAdapter.MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        LayoutInflater layoutInflater = LayoutInflater.from(parent.getContext());\n        return new MyViewHolder(layoutInflater, parent);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull CellphoneAdapter.MyViewHolder holder, int position) {\n        Cellphone c = cellList.get(position);\n\n        Context actContext = holder.itemView.getContext();\n        int resid = actContext.getResources().getIdentifier(c.getImage(), &quot;drawable&quot;, actContext.getPackageName());\n\n        holder.imgPhone.setImageResource(resid);\n        holder.txtModel.setText(c.getModel());\n        holder.txtPrice.setText(c.getPrice());\n    }\n\n    @Override\n    public int getItemCount() {\n        return cellList.size();\n    }\n\n    class MyViewHolder extends RecyclerView.ViewHolder {\n\n        TextView txtModel, txtPrice;\n        ImageView imgPhone;\n\n        public MyViewHolder(LayoutInflater inflater, ViewGroup parent){\n            super(inflater.inflate(R.layout.pager_layout, parent, false));\n            txtModel = itemView.findViewById(R.id.txtBrand);\n            txtPrice = itemView.findViewById(R.id.txtPrice);\n            imgPhone = itemView.findViewById(R.id.imgPhone);\n        }\n    }\n}\n</code></pre>\n<p>This is Cellphone.java</p>\n<pre><code>package com.android.lab5;\n\npublic class Cellphone {\n    private String image;\n    private String model;\n    private double price;\n\n    public Cellphone(String image, String model, double price) {\n        this.image = image;\n        this.model = model;\n        this.price = price;\n    }\n\n    public String getImage() {\n        return image;\n    }\n\n    public void setImage(String image) {\n        this.image = image;\n    }\n\n    public String getModel() {\n        return model;\n    }\n\n    public void setModel(String model) {\n        this.model = model;\n    }\n\n    public double getPrice() {\n        return price;\n    }\n\n    public void setPrice(double price) {\n        this.price = price;\n    }\n}\n</code></pre>\n<p>This is MainActivity.java</p>\n<pre><code>package com.android.lab5;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.recyclerview.widget.RecyclerView;\nimport androidx.viewpager2.widget.ViewPager2;\nimport android.os.Bundle;\n\nimport java.util.ArrayList;\n\npublic class MainActivity extends AppCompatActivity {\n\n    ViewPager2 vPager;\n    private RecyclerView.Adapter adapter;\n    ArrayList&lt;Cellphone&gt; cellList = new ArrayList&lt;&gt;();\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        Cellphone c1 = new Cellphone(&quot;galaxy&quot;, &quot;Galaxy&quot;, 500);\n        Cellphone c2 = new Cellphone(&quot;iphone&quot;, &quot;iPhone&quot;, 899);\n        Cellphone c3 = new Cellphone(&quot;pixel&quot;, &quot;Pixel&quot;, 699);\n\n        cellList.add(c1);\n        cellList.add(c2);\n        cellList.add(c3);\n\n        vPager = findViewById(R.id.vPager);\n\n        adapter = new CellphoneAdapter(cellList);\n\n        vPager.setAdapter(adapter);\n    }\n}\n</code></pre>\n"},{"tags":["java","inner-classes","outer-classes"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":2,"creation_date":1648581596,"post_id":71667626,"comment_id":126659688,"body_markdown":"It doesn&#39;t have to use `ArrayList.this`, but at least to me, that&#39;s more readable.","body":"It doesn&#39;t have to use <code>ArrayList.this</code>, but at least to me, that&#39;s more readable."},{"owner":{"account_id":1416522,"reputation":91354,"user_id":3553087,"display_name":"Brian Goetz"},"score":3,"creation_date":1648688433,"post_id":71667626,"comment_id":126690691,"body_markdown":"For members that are in both the inner and outer class, you have to qualify with `Outer.this` if you want the outer member.  This happens most frequently with methods like `Object::equals`, and also frequently happens in various decorator/proxy/combinator situations.","body":"For members that are in both the inner and outer class, you have to qualify with <code>Outer.this</code> if you want the outer member.  This happens most frequently with methods like <code>Object::equals</code>, and also frequently happens in various decorator/proxy/combinator situations."}],"answers":[{"tags":[],"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1648719829,"creation_date":1648685871,"answer_id":71685519,"question_id":71667626,"body_markdown":"There is a _Shadowing_ problem that can lead to unexpected behavior and runtime errors.\r\n\r\nIf a declaration of a type (such as a member variable or a parameter name or method name) in a particular scope (such as an inner class or a method definition) has the same name as another declaration in the enclosing scope, then the declaration shadows the declaration of the enclosing scope. You cannot refer to a shadowed declaration by its name alone.\r\n\r\n```java\r\npublic class ShadowTest {\r\n\r\n    public int x = 0;\r\n\r\n    class FirstLevel {\r\n\r\n        public int x = 1;\r\n\r\n        void methodInFirstLevel(int x) {\r\n            System.out.println(&quot;x = &quot; + x);\r\n            System.out.println(&quot;this.x = &quot; + this.x);\r\n            System.out.println(&quot;ShadowTest.this.x = &quot; + ShadowTest.this.x);\r\n        }\r\n    }\r\n\r\n    public static void main(String... args) {\r\n        ShadowTest st = new ShadowTest();\r\n        ShadowTest.FirstLevel fl = st.new FirstLevel();\r\n        fl.methodInFirstLevel(23);\r\n    }\r\n}\r\n```\r\nOutput:\r\n```none\r\nx = 23\r\nthis.x = 1\r\nShadowTest.this.x = 0\r\n```\r\nAs you can see, to get the correct value of higher scope, you need to use only `ShadowTest.this`. \r\n\r\nThru time your code will mutate and you can miss the same name in the other scope, so you must use only `OuterClass.this` to access outer class scope, make code clear and bulletproof.\r\n\r\nSee [the Java Tutorial][1].\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/javaOO/nested.html","title":"Must an inner class use &#39;this&#39; keyword in order to use outer class method or attributes?","body":"<p>There is a <em>Shadowing</em> problem that can lead to unexpected behavior and runtime errors.</p>\n<p>If a declaration of a type (such as a member variable or a parameter name or method name) in a particular scope (such as an inner class or a method definition) has the same name as another declaration in the enclosing scope, then the declaration shadows the declaration of the enclosing scope. You cannot refer to a shadowed declaration by its name alone.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ShadowTest {\n\n    public int x = 0;\n\n    class FirstLevel {\n\n        public int x = 1;\n\n        void methodInFirstLevel(int x) {\n            System.out.println(&quot;x = &quot; + x);\n            System.out.println(&quot;this.x = &quot; + this.x);\n            System.out.println(&quot;ShadowTest.this.x = &quot; + ShadowTest.this.x);\n        }\n    }\n\n    public static void main(String... args) {\n        ShadowTest st = new ShadowTest();\n        ShadowTest.FirstLevel fl = st.new FirstLevel();\n        fl.methodInFirstLevel(23);\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>x = 23\nthis.x = 1\nShadowTest.this.x = 0\n</code></pre>\n<p>As you can see, to get the correct value of higher scope, you need to use only <code>ShadowTest.this</code>.</p>\n<p>Thru time your code will mutate and you can miss the same name in the other scope, so you must use only <code>OuterClass.this</code> to access outer class scope, make code clear and bulletproof.</p>\n<p>See <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/nested.html\" rel=\"nofollow noreferrer\">the Java Tutorial</a>.</p>\n"}],"owner":{"account_id":7581977,"reputation":1361,"user_id":5752410,"display_name":"Eitanos30"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":204,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71685519,"answer_count":1,"score":0,"last_activity_date":1648719847,"creation_date":1648581235,"question_id":71667626,"body_markdown":"I&#39;m reading the source code of [ArrayList][1] and this class has an inner class with the name `SubList`. I&#39;m looking in a method of the inner class (`SubList`) and see the following methods:\r\n\r\n     public E set(int index, E e) {\r\n            rangeCheck(index);\r\n            checkForComodification();\r\n            E oldValue = ArrayList.this.elementData(offset + index);\r\n            ArrayList.this.elementData[offset + index] = e;\r\n            return oldValue;\r\n        }\r\n\r\nWhat I see that line 3 &amp; 4 uses `this` keyword in order to call/use `ArrayList` (outer class) method/attribute.\r\nI want to understand is it must to use `OuterClass.this` or `elementData()` will be enough? I run an example long ago (more than a year) and I was able to call an outer class method from an inner class without using `this` keyword.\r\n\r\n\r\n  [1]: https://hg.openjdk.java.net/jdk8/jdk8/jdk/file/tip/src/share/classes/java/util/ArrayList.java","title":"Must an inner class use &#39;this&#39; keyword in order to use outer class method or attributes?","body":"<p>I'm reading the source code of <a href=\"https://hg.openjdk.java.net/jdk8/jdk8/jdk/file/tip/src/share/classes/java/util/ArrayList.java\" rel=\"nofollow noreferrer\">ArrayList</a> and this class has an inner class with the name <code>SubList</code>. I'm looking in a method of the inner class (<code>SubList</code>) and see the following methods:</p>\n<pre><code> public E set(int index, E e) {\n        rangeCheck(index);\n        checkForComodification();\n        E oldValue = ArrayList.this.elementData(offset + index);\n        ArrayList.this.elementData[offset + index] = e;\n        return oldValue;\n    }\n</code></pre>\n<p>What I see that line 3 &amp; 4 uses <code>this</code> keyword in order to call/use <code>ArrayList</code> (outer class) method/attribute.\nI want to understand is it must to use <code>OuterClass.this</code> or <code>elementData()</code> will be enough? I run an example long ago (more than a year) and I was able to call an outer class method from an inner class without using <code>this</code> keyword.</p>\n"},{"tags":["java","reflection"],"answers":[{"tags":[],"owner":{"account_id":24154497,"reputation":1,"user_id":18118905,"display_name":"Devidas Kaware"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1648706816,"creation_date":1648706816,"answer_id":71687604,"question_id":71687253,"body_markdown":"Use class as following :\r\n\r\n    @Data\r\n    class A {\r\n\tprivate String status;\r\n    }\r\n\r\nThe method to return string value :\r\n\r\n    public String getValue(String input) {\r\n\t\tA a = new A();\r\n\t\ta.setStatus(input);\r\n\t\treturn a.getStatus();\r\n\t}","title":"How can I get class object value if given a variable in the form of a string","body":"<p>Use class as following :</p>\n<pre><code>@Data\nclass A {\nprivate String status;\n}\n</code></pre>\n<p>The method to return string value :</p>\n<pre><code>public String getValue(String input) {\n    A a = new A();\n    a.setStatus(input);\n    return a.getStatus();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8433817,"reputation":144,"user_id":6328593,"accept_rate":29,"display_name":"Hammad Manzoor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648711898,"creation_date":1648711898,"answer_id":71688577,"question_id":71687253,"body_markdown":"What is the input parameter in the getValue function used for? Its not doing anything in your code. \r\nIf you simply want to get the value of the class objects variable, you can make that variable static and access it that way.","title":"How can I get class object value if given a variable in the form of a string","body":"<p>What is the input parameter in the getValue function used for? Its not doing anything in your code.\nIf you simply want to get the value of the class objects variable, you can make that variable static and access it that way.</p>\n"}],"owner":{"account_id":17689252,"reputation":11,"user_id":12841460,"display_name":"Ankur Gupta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":468,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1648719825,"creation_date":1648704194,"question_id":71687253,"body_markdown":"I have a class\r\n\r\n\r\n    @lombok\r\n    class a {\r\n    private String status;\r\n    }\r\n\r\nand I have a method that accepts a string value\r\n\r\n    public string getValue (String input, Class a) {\r\n    //  Let&#39;s say input value is status\r\n       return a.getStatus();\r\n    }\r\n\r\nHow can I return `a.getStatus()`?\r\n\r\nI&#39;m not able to figure out a way to map these values with and without using reflection.\r\n\r\nI can change status to getStatus as well in the input if it helps.\r\n","title":"How can I get class object value if given a variable in the form of a string","body":"<p>I have a class</p>\n<pre><code>@lombok\nclass a {\nprivate String status;\n}\n</code></pre>\n<p>and I have a method that accepts a string value</p>\n<pre><code>public string getValue (String input, Class a) {\n//  Let's say input value is status\n   return a.getStatus();\n}\n</code></pre>\n<p>How can I return <code>a.getStatus()</code>?</p>\n<p>I'm not able to figure out a way to map these values with and without using reflection.</p>\n<p>I can change status to getStatus as well in the input if it helps.</p>\n"},{"tags":["java","inheritance","overloading","java.util.scanner"],"comments":[{"owner":{"account_id":4279913,"reputation":3623,"user_id":3499626,"accept_rate":89,"display_name":"jhamon"},"score":0,"creation_date":1648717281,"post_id":71689673,"comment_id":126697254,"body_markdown":"why does your `Circle` can calculate the area of a triangle?","body":"why does your <code>Circle</code> can calculate the area of a triangle?"},{"owner":{"account_id":4279913,"reputation":3623,"user_id":3499626,"accept_rate":89,"display_name":"jhamon"},"score":0,"creation_date":1648717345,"post_id":71689673,"comment_id":126697280,"body_markdown":"Your code does nothing because you don&#39;t do anyhting in your main method.","body":"Your code does nothing because you don&#39;t do anyhting in your main method."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":3,"creation_date":1648717711,"post_id":71689673,"comment_id":126697415,"body_markdown":"And note that your OO hierarchy isn&#39;t really helpful. A better way could be: make Shape abstract, and have an abstract method `protected double computeArea()` ... and a (non-abstract) method printArea() ... that calls the abstract one. Then your different subclasses have to implement computeArea differently. Conceptually, it is a really bad idea to put the 3 different computations into the base class.","body":"And note that your OO hierarchy isn&#39;t really helpful. A better way could be: make Shape abstract, and have an abstract method <code>protected double computeArea()</code> ... and a (non-abstract) method printArea() ... that calls the abstract one. Then your different subclasses have to implement computeArea differently. Conceptually, it is a really bad idea to put the 3 different computations into the base class."}],"answers":[{"tags":[],"owner":{"account_id":24214365,"reputation":33,"user_id":18170466,"display_name":"DK_kbc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648717563,"creation_date":1648717563,"answer_id":71689775,"question_id":71689673,"body_markdown":"you just defined the Classes you also need to make a Objekt with those classes\r\n\r\n    Circle c = new Circle();\r\n    c.takeInput();","title":"Calculate area of square, triangle and circle using both inheritance and function overloading, use shape as base class","body":"<p>you just defined the Classes you also need to make a Objekt with those classes</p>\n<pre><code>Circle c = new Circle();\nc.takeInput();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22490259,"reputation":23,"user_id":16688094,"display_name":"NicoHahn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648719207,"creation_date":1648719207,"answer_id":71690183,"question_id":71689673,"body_markdown":"Maybe it&#39;s better to use an abstract method in `Shape`. Something like the following:\r\n\r\n```\r\nabstract class Shape {\r\n\tabstract void area(double... params);\r\n}\r\n```\r\nand\r\n```\r\npublic class Circle extends Shape {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tCircle c = new Circle();\r\n\t\tdouble radius = 1;\r\n\t\tc.area(radius);\r\n\t}\r\n\r\n\t@Override\r\n\tvoid area(double... params) {\r\n\t\tif (params.length != 1) {\r\n\t\t\tthrow new IllegalArgumentException(&quot;Expected one argument as parameter (the radius).&quot;);\r\n\t\t}\r\n\t\tSystem.out.println(&quot;Circle area: &quot; + (Math.PI * Math.pow(params[0], 2)));\r\n\r\n\t}\r\n\r\n}\r\n```","title":"Calculate area of square, triangle and circle using both inheritance and function overloading, use shape as base class","body":"<p>Maybe it's better to use an abstract method in <code>Shape</code>. Something like the following:</p>\n<pre><code>abstract class Shape {\n    abstract void area(double... params);\n}\n</code></pre>\n<p>and</p>\n<pre><code>public class Circle extends Shape {\n\n    public static void main(String[] args) {\n        Circle c = new Circle();\n        double radius = 1;\n        c.area(radius);\n    }\n\n    @Override\n    void area(double... params) {\n        if (params.length != 1) {\n            throw new IllegalArgumentException(&quot;Expected one argument as parameter (the radius).&quot;);\n        }\n        System.out.println(&quot;Circle area: &quot; + (Math.PI * Math.pow(params[0], 2)));\n\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":24756314,"reputation":1,"user_id":18641200,"display_name":"WhoMe"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9573,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":2,"score":-3,"last_activity_date":1648719730,"creation_date":1648717141,"question_id":71689673,"body_markdown":"This is the code I wrote where base class is shape and there are 3 methods for the shape area using same keyword but different parameters, and in the main I have 1 class for each shape and which is derived from the shape class, but after running the main method I get a blank output with   exit code.\r\n\r\n    package com.company;\r\n    import java.util.Scanner;\r\n  \r\n    class Shape {\r\n        int b, h, s;\r\n        double r;\r\n    \r\n        //triangle method\r\n        void area(int base, int height) {\r\n            int triArea = (base * height)/2;\r\n            System.out.println(&quot;Area of Triangle = &quot; + triArea);\r\n        }\r\n    \r\n        //square method\r\n        void area(int side) {\r\n            int sqrArea = side * side;\r\n            System.out.println(&quot;Area of Square = &quot; + sqrArea);\r\n        }\r\n    \r\n        //circle method\r\n        void area(double radius) {\r\n            double cirArea = Math.PI * radius * radius;\r\n            System.out.println(&quot;Area of circle = &quot; + cirArea);\r\n        }\r\n    }\r\n    \r\n    public class Area {\r\n        public static void main(String[] args) {\r\n            class Triangle extends Shape{\r\n                void takeInput(){\r\n                    Scanner cin = new Scanner(System.in);\r\n                    System.out.println(&quot;Enter base of Triangle: &quot;);\r\n                    this.b = cin.nextInt();\r\n    \r\n                    System.out.println(&quot;Enter height of Triangle: &quot;);\r\n                    this.h = cin.nextInt();\r\n                    area(b, h);\r\n                }\r\n            }\r\n    \r\n            class Square extends Shape{\r\n                void takeInput(){\r\n                    Scanner cin = new Scanner(System.in);\r\n                    System.out.println(&quot;Enter side of Square: &quot;);\r\n                    this.s = cin.nextInt();\r\n                    area(s);\r\n                }\r\n            }\r\n    \r\n            class Circle extends Shape{\r\n                void takeInput(){\r\n                    Scanner cin = new Scanner(System.in);\r\n                    System.out.print(&quot;Enter radius of Circle: &quot;);\r\n                    this.r = cin.nextDouble();\r\n                    area(r);\r\n                }\r\n            }\r\n        }\r\n    }\r\n","title":"Calculate area of square, triangle and circle using both inheritance and function overloading, use shape as base class","body":"<p>This is the code I wrote where base class is shape and there are 3 methods for the shape area using same keyword but different parameters, and in the main I have 1 class for each shape and which is derived from the shape class, but after running the main method I get a blank output with   exit code.</p>\n<pre><code>package com.company;\nimport java.util.Scanner;\n\nclass Shape {\n    int b, h, s;\n    double r;\n\n    //triangle method\n    void area(int base, int height) {\n        int triArea = (base * height)/2;\n        System.out.println(&quot;Area of Triangle = &quot; + triArea);\n    }\n\n    //square method\n    void area(int side) {\n        int sqrArea = side * side;\n        System.out.println(&quot;Area of Square = &quot; + sqrArea);\n    }\n\n    //circle method\n    void area(double radius) {\n        double cirArea = Math.PI * radius * radius;\n        System.out.println(&quot;Area of circle = &quot; + cirArea);\n    }\n}\n\npublic class Area {\n    public static void main(String[] args) {\n        class Triangle extends Shape{\n            void takeInput(){\n                Scanner cin = new Scanner(System.in);\n                System.out.println(&quot;Enter base of Triangle: &quot;);\n                this.b = cin.nextInt();\n\n                System.out.println(&quot;Enter height of Triangle: &quot;);\n                this.h = cin.nextInt();\n                area(b, h);\n            }\n        }\n\n        class Square extends Shape{\n            void takeInput(){\n                Scanner cin = new Scanner(System.in);\n                System.out.println(&quot;Enter side of Square: &quot;);\n                this.s = cin.nextInt();\n                area(s);\n            }\n        }\n\n        class Circle extends Shape{\n            void takeInput(){\n                Scanner cin = new Scanner(System.in);\n                System.out.print(&quot;Enter radius of Circle: &quot;);\n                this.r = cin.nextDouble();\n                area(r);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","rx-java","reactive-programming"],"comments":[{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1648710995,"post_id":71688282,"comment_id":126694935,"body_markdown":"There are [static methods](https://reactivex.io/RxJava/1.x/javadoc/rx/subjects/ReplaySubject.html#createWithSize-int-) to bound the number of items of the `ReplaySubject`.","body":"There are <a href=\"https://reactivex.io/RxJava/1.x/javadoc/rx/subjects/ReplaySubject.html#createWithSize-int-\" rel=\"nofollow noreferrer\">static methods</a> to bound the number of items of the <code>ReplaySubject</code>."},{"owner":{"account_id":2185706,"reputation":473,"user_id":1934168,"accept_rate":16,"display_name":"Hilmi Yamcı"},"score":0,"creation_date":1648711137,"post_id":71688282,"comment_id":126694995,"body_markdown":"Can I use them for different subscribers ? I mean can I use 2 entries for first subscriver and 3 entries for the second one ? @akarnokd","body":"Can I use them for different subscribers ? I mean can I use 2 entries for first subscriver and 3 entries for the second one ? @akarnokd"},{"owner":{"account_id":2185706,"reputation":473,"user_id":1934168,"accept_rate":16,"display_name":"Hilmi Yamcı"},"score":0,"creation_date":1648711202,"post_id":71688282,"comment_id":126695018,"body_markdown":"As far as I know createWithSize is applicable for all subscribers by the way","body":"As far as I know createWithSize is applicable for all subscribers by the way"}],"answers":[{"tags":[],"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648718882,"creation_date":1648718882,"answer_id":71690099,"question_id":71688282,"body_markdown":"If you want fully dynamic way of limited replay, you could defer the subscription and check the `ReplaySubject` how many items it currently has, then skip those you don&#39;t want:\r\n\r\n```java\r\npublic static &lt;T&gt; Observable&lt;T&gt; replayDynamicSize(ReplaySubject&lt;T&gt; subject, int n) {\r\n    return Observable.defer(() -&gt; {\r\n         int s = Math.max(0, subject.size() - n);\r\n         return skip &gt; 0 ? subject.skip(s) : subject;\r\n    });\r\n}\r\n\r\nReplaySubject&lt;String&gt; replaySubject = ReplaySubject.create();\r\n\r\nObservable&lt;String&gt; four = replayDynamicSize(replaySubject, 4);\r\nObservable&lt;String&gt; two = replayDynamicSize(replaySubject, 2);\r\n\r\n        replaySubject.onNext(&quot;one&quot;);\r\n        replaySubject.onNext(&quot;two&quot;);\r\n        replaySubject.onNext(&quot;three&quot;);\r\n        replaySubject.onNext(&quot;four&quot;);\r\n\r\nfour.subscribe(firstSubscriber);\r\n\r\n        replaySubject.onNext(&quot;five&quot;);\r\n        replaySubject.onNext(&quot;six&quot;);\r\n\r\ntwo.subscribe(secondSubscriber);\r\n```\r\n\r\nOne consideration here is that `ReplaySubject` should be bounded by itself to not retain every possible value if you don&#39;t plan to replay more than some amount of values.","title":"RxJava how to accept at most 5 items for any subscription","body":"<p>If you want fully dynamic way of limited replay, you could defer the subscription and check the <code>ReplaySubject</code> how many items it currently has, then skip those you don't want:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static &lt;T&gt; Observable&lt;T&gt; replayDynamicSize(ReplaySubject&lt;T&gt; subject, int n) {\n    return Observable.defer(() -&gt; {\n         int s = Math.max(0, subject.size() - n);\n         return skip &gt; 0 ? subject.skip(s) : subject;\n    });\n}\n\nReplaySubject&lt;String&gt; replaySubject = ReplaySubject.create();\n\nObservable&lt;String&gt; four = replayDynamicSize(replaySubject, 4);\nObservable&lt;String&gt; two = replayDynamicSize(replaySubject, 2);\n\n        replaySubject.onNext(&quot;one&quot;);\n        replaySubject.onNext(&quot;two&quot;);\n        replaySubject.onNext(&quot;three&quot;);\n        replaySubject.onNext(&quot;four&quot;);\n\nfour.subscribe(firstSubscriber);\n\n        replaySubject.onNext(&quot;five&quot;);\n        replaySubject.onNext(&quot;six&quot;);\n\ntwo.subscribe(secondSubscriber);\n</code></pre>\n<p>One consideration here is that <code>ReplaySubject</code> should be bounded by itself to not retain every possible value if you don't plan to replay more than some amount of values.</p>\n"}],"owner":{"account_id":2185706,"reputation":473,"user_id":1934168,"accept_rate":16,"display_name":"Hilmi Yamcı"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1648719420,"creation_date":1648710584,"question_id":71688282,"body_markdown":"In RxJAVA we can replay old entries to new subscribers. I would like to know if there is a mechanism that I can replay parametric number of entries to subscribers.\r\n```\r\n\t\tSubscriber&lt;String&gt; firstSubscriber = new Subscriber&lt;String&gt;() {\r\n\t\t\t@Override\r\n\t\t\tpublic void onCompleted() {\r\n\t\t\t\t// TODO Auto-generated method stub\r\n\t\t\t\t\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void onError(Throwable e) {\r\n\t\t\t\t// TODO Auto-generated method stub\r\n\t\t\t\t\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void onNext(String t) {\r\n\t\t\t\tSystem.out.println(&quot;First Subscriber gets -&gt; &quot; + t);\r\n\t\t\t}\r\n\t\t};\r\n\t\t\r\n\t\tSubscriber&lt;String&gt; secondSubscriber = new Subscriber&lt;String&gt;() {\r\n\t\t\t@Override\r\n\t\t\tpublic void onCompleted() {\r\n\t\t\t\t// TODO Auto-generated method stub\r\n\t\t\t\t\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void onError(Throwable e) {\r\n\t\t\t\t// TODO Auto-generated method stub\r\n\t\t\t\t\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void onNext(String t) {\r\n\t\t\t\tSystem.out.println(&quot;Second Subscriber gets -&gt; &quot; + t);\r\n\t\t\t}\r\n\t\t};\r\n\t\t\r\n\t\tReplaySubject&lt;String&gt; replaySubject = ReplaySubject.create();\r\n\t\treplaySubject.onNext(&quot;one&quot;);\r\n\t\treplaySubject.onNext(&quot;two&quot;);\r\n\t\treplaySubject.onNext(&quot;three&quot;);\r\n\t\treplaySubject.onNext(&quot;four&quot;);\r\n\t\treplaySubject.subscribe(firstSubscriber);\r\n\t\treplaySubject.onNext(&quot;five&quot;);\r\n\t\treplaySubject.onNext(&quot;six&quot;);\r\n\t\treplaySubject.subscribe(secondSubscriber);\r\n```\r\n\r\nResult: \r\n\r\n - First Subscriber gets -&gt; one\r\n - First Subscriber gets -&gt; two\r\n - First Subscriber gets -&gt; three\r\n - First Subscriber gets -&gt; four\r\n - First Subscriber gets -&gt; five\r\n - First Subscriber gets -&gt; six\r\n - Second Subscriber gets -&gt; one\r\n - Second Subscriber gets -&gt; two\r\n - Second Subscriber gets -&gt; three\r\n - Second Subscriber gets -&gt; four\r\n - Second Subscriber gets -&gt; five\r\n - Second Subscriber gets -&gt; six\r\n\r\nWhat I would like to do is getting parametric number of entries. For example firstSubscriber will get the latest 2 entries when it subscribe","title":"RxJava how to accept at most 5 items for any subscription","body":"<p>In RxJAVA we can replay old entries to new subscribers. I would like to know if there is a mechanism that I can replay parametric number of entries to subscribers.</p>\n<pre><code>        Subscriber&lt;String&gt; firstSubscriber = new Subscriber&lt;String&gt;() {\n            @Override\n            public void onCompleted() {\n                // TODO Auto-generated method stub\n                \n            }\n\n            @Override\n            public void onError(Throwable e) {\n                // TODO Auto-generated method stub\n                \n            }\n\n            @Override\n            public void onNext(String t) {\n                System.out.println(&quot;First Subscriber gets -&gt; &quot; + t);\n            }\n        };\n        \n        Subscriber&lt;String&gt; secondSubscriber = new Subscriber&lt;String&gt;() {\n            @Override\n            public void onCompleted() {\n                // TODO Auto-generated method stub\n                \n            }\n\n            @Override\n            public void onError(Throwable e) {\n                // TODO Auto-generated method stub\n                \n            }\n\n            @Override\n            public void onNext(String t) {\n                System.out.println(&quot;Second Subscriber gets -&gt; &quot; + t);\n            }\n        };\n        \n        ReplaySubject&lt;String&gt; replaySubject = ReplaySubject.create();\n        replaySubject.onNext(&quot;one&quot;);\n        replaySubject.onNext(&quot;two&quot;);\n        replaySubject.onNext(&quot;three&quot;);\n        replaySubject.onNext(&quot;four&quot;);\n        replaySubject.subscribe(firstSubscriber);\n        replaySubject.onNext(&quot;five&quot;);\n        replaySubject.onNext(&quot;six&quot;);\n        replaySubject.subscribe(secondSubscriber);\n</code></pre>\n<p>Result:</p>\n<ul>\n<li>First Subscriber gets -&gt; one</li>\n<li>First Subscriber gets -&gt; two</li>\n<li>First Subscriber gets -&gt; three</li>\n<li>First Subscriber gets -&gt; four</li>\n<li>First Subscriber gets -&gt; five</li>\n<li>First Subscriber gets -&gt; six</li>\n<li>Second Subscriber gets -&gt; one</li>\n<li>Second Subscriber gets -&gt; two</li>\n<li>Second Subscriber gets -&gt; three</li>\n<li>Second Subscriber gets -&gt; four</li>\n<li>Second Subscriber gets -&gt; five</li>\n<li>Second Subscriber gets -&gt; six</li>\n</ul>\n<p>What I would like to do is getting parametric number of entries. For example firstSubscriber will get the latest 2 entries when it subscribe</p>\n"},{"tags":["java","type-conversion"],"comments":[{"owner":{"account_id":2871026,"reputation":31449,"user_id":2464386,"accept_rate":84,"display_name":"ajb"},"score":0,"creation_date":1459734004,"post_id":36393406,"comment_id":60403559,"body_markdown":"If you have an `Optional&lt;String&gt;` and you want the `String`, you have to use `get()` to get it.  Java isn&#39;t going to do that automatically.  Note that `Optional` is a class just like any other, and it has its own methods.  There aren&#39;t any special Java language rules about `Optional`.  See http://docs.oracle.com/javase/8/docs/api/java/util/Optional.html.","body":"If you have an <code>Optional&lt;String&gt;</code> and you want the <code>String</code>, you have to use <code>get()</code> to get it.  Java isn&#39;t going to do that automatically.  Note that <code>Optional</code> is a class just like any other, and it has its own methods.  There aren&#39;t any special Java language rules about <code>Optional</code>.  See <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Optional.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/util/Optional.html</a>."},{"owner":{"account_id":6523814,"reputation":171,"user_id":5047125,"accept_rate":80,"display_name":"Jose Lopez"},"score":1,"creation_date":1459734903,"post_id":36393406,"comment_id":60403762,"body_markdown":"Oh, wow, I actually had no idea that Optional was its own class. I did get it to work like you said by first getting the string result and then parsing that new string to an integer, thank you.","body":"Oh, wow, I actually had no idea that Optional was its own class. I did get it to work like you said by first getting the string result and then parsing that new string to an integer, thank you."}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1459737504,"creation_date":1459737504,"answer_id":36393797,"question_id":36393406,"body_markdown":"You see, `Integer.valueOf` and `Integer.parseInt` methods need an argument of type `String`, but you are passing an `Optional&lt;String&gt;`. So that&#39;s why the error occurred. _Optional string and string are not the same._\r\n\r\nJust think about this, if `Optional&lt;String&gt;` _were_ the same as `String`, would `ArrayList&lt;String&gt;` be the same as `String`? Would `LinkedList&lt;String&gt;` be the same as `String`? What about `HashMap&lt;String, Integer&gt;`? Would it be both a `String` _and_ an `Integer`?\r\n\r\nThe chaos that treating generic types the same as their generic type arguments would bring is destructive! Imagine calling `charAt` on an optional string! Without the implementation, no one knows what will happen...\r\n\r\n**So yeah, *never* think that generic types are the same types as the generic type parameters.**","title":"Error converting Optional&lt;String&gt; to Integer from TextInputDialog","body":"<p>You see, <code>Integer.valueOf</code> and <code>Integer.parseInt</code> methods need an argument of type <code>String</code>, but you are passing an <code>Optional&lt;String&gt;</code>. So that's why the error occurred. <em>Optional string and string are not the same.</em></p>\n\n<p>Just think about this, if <code>Optional&lt;String&gt;</code> <em>were</em> the same as <code>String</code>, would <code>ArrayList&lt;String&gt;</code> be the same as <code>String</code>? Would <code>LinkedList&lt;String&gt;</code> be the same as <code>String</code>? What about <code>HashMap&lt;String, Integer&gt;</code>? Would it be both a <code>String</code> <em>and</em> an <code>Integer</code>?</p>\n\n<p>The chaos that treating generic types the same as their generic type arguments would bring is destructive! Imagine calling <code>charAt</code> on an optional string! Without the implementation, no one knows what will happen...</p>\n\n<p><strong>So yeah, <em>never</em> think that generic types are the same types as the generic type parameters.</strong></p>\n"},{"tags":[],"owner":{"account_id":4030991,"reputation":24462,"user_id":3357935,"accept_rate":82,"display_name":"Stevoisiak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1581674266,"creation_date":1479327656,"answer_id":40641582,"question_id":36393406,"body_markdown":"You&#39;re trying to pass an [`Optional&lt;String&gt;`][1] instead of a normal `String`. You need to fetch the string first with [`.get()`][2] before converting your result to an integer. Or use result.ifPresent(e ...) that will automatically unwrap the optional value and convert it to an Integer.\r\n\r\n    Optional&lt;String&gt; result = changePort.showAndWait();\r\n    result.ifPresent(e -&gt; {\r\n        Integer tempSocket1 = Integer.valueOf(e);\r\n        Integer tempSocket2 = Integer.parseInt(e);\r\n        }\r\n    );\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#get--","title":"Error converting Optional&lt;String&gt; to Integer from TextInputDialog","body":"<p>You're trying to pass an <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html\" rel=\"nofollow noreferrer\"><code>Optional&lt;String&gt;</code></a> instead of a normal <code>String</code>. You need to fetch the string first with <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#get--\" rel=\"nofollow noreferrer\"><code>.get()</code></a> before converting your result to an integer. Or use result.ifPresent(e ...) that will automatically unwrap the optional value and convert it to an Integer.</p>\n\n<pre><code>Optional&lt;String&gt; result = changePort.showAndWait();\nresult.ifPresent(e -&gt; {\n    Integer tempSocket1 = Integer.valueOf(e);\n    Integer tempSocket2 = Integer.parseInt(e);\n    }\n);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":430718,"reputation":2188,"user_id":814304,"accept_rate":33,"display_name":"iMysak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1506729073,"creation_date":1506729073,"answer_id":46498216,"question_id":36393406,"body_markdown":"Just to extend other answers it may looks better using `map` method, and even more with lambda and method reference:\r\n\r\n    Optional&lt;String&gt; result = changePort.showAndWait();\r\n    Integer tempSocket = result.map(Integer::valueOf).orElse(8080);","title":"Error converting Optional&lt;String&gt; to Integer from TextInputDialog","body":"<p>Just to extend other answers it may looks better using <code>map</code> method, and even more with lambda and method reference:</p>\n\n<pre><code>Optional&lt;String&gt; result = changePort.showAndWait();\nInteger tempSocket = result.map(Integer::valueOf).orElse(8080);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4674084,"reputation":561,"user_id":4819458,"display_name":"davidddp"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1521632095,"creation_date":1521632095,"answer_id":49405289,"question_id":36393406,"body_markdown":"To convert an Optional&lt;String&gt; to an Integer, it is necessary to invoke the get() method before the conversion.\r\n\r\n    Optional&lt;String&gt; cadena = Optional.of(&quot;333&quot;);\r\n    Integer num = Integer.valueOf(cadena.get());","title":"Error converting Optional&lt;String&gt; to Integer from TextInputDialog","body":"<p>To convert an Optional to an Integer, it is necessary to invoke the get() method before the conversion.</p>\n\n<pre><code>Optional&lt;String&gt; cadena = Optional.of(\"333\");\nInteger num = Integer.valueOf(cadena.get());\n</code></pre>\n"}],"owner":{"account_id":6523814,"reputation":171,"user_id":5047125,"accept_rate":80,"display_name":"Jose Lopez"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10216,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":36393797,"answer_count":4,"score":4,"last_activity_date":1648719246,"creation_date":1459733917,"question_id":36393406,"body_markdown":"In this example I have tempSocket1 and tempSocket2 but I really just want one of them. I just included both to show I tried both methods, but I keep getting an error, &quot;the method valueOf(String) in the type Integer is not applicable for the arguments (Optional&lt;String&gt;).&quot; I thought both of these methods were the ones used for converting a string data type to integer, but I&#39;m not sure how the Optional part changes the whole system.\r\n\r\n    private void showTextInputDialog() {\r\n\t\t    TextInputDialog changePort = new TextInputDialog(&quot;Settings&quot;);\r\n\t\t    changePort.setHeaderText(&quot;Change Port&quot;);\r\n\t\t    changePort.setContentText(&quot;Please enter port number to be used for establishing connection...&quot;);\r\n\t\t\r\n\t\t    Optional&lt;String&gt; result = changePort.showAndWait();\r\n\t\t    result.ifPresent(e -&gt; {\r\n\t\t\t    Integer tempSocket1 = Integer.valueOf(result);\r\n\t\t\t    Integer tempSocket2 = Integer.parseInt(result);\r\n\t\t\t    }\r\n\t\t    );\r\n\t}","title":"Error converting Optional&lt;String&gt; to Integer from TextInputDialog","body":"<p>In this example I have tempSocket1 and tempSocket2 but I really just want one of them. I just included both to show I tried both methods, but I keep getting an error, \"the method valueOf(String) in the type Integer is not applicable for the arguments (Optional).\" I thought both of these methods were the ones used for converting a string data type to integer, but I'm not sure how the Optional part changes the whole system.</p>\n\n<pre><code>private void showTextInputDialog() {\n        TextInputDialog changePort = new TextInputDialog(\"Settings\");\n        changePort.setHeaderText(\"Change Port\");\n        changePort.setContentText(\"Please enter port number to be used for establishing connection...\");\n\n        Optional&lt;String&gt; result = changePort.showAndWait();\n        result.ifPresent(e -&gt; {\n            Integer tempSocket1 = Integer.valueOf(result);\n            Integer tempSocket2 = Integer.parseInt(result);\n            }\n        );\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":41618,"reputation":11120,"user_id":121006,"display_name":"jimr"},"score":0,"creation_date":1341033132,"post_id":11271554,"comment_id":14820971,"body_markdown":"possible duplicate of [A better way to compare Strings which could be null](http://stackoverflow.com/questions/8336856/a-better-way-to-compare-strings-which-could-be-null)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/8336856/a-better-way-to-compare-strings-which-could-be-null\">A better way to compare Strings which could be null</a>"},{"owner":{"account_id":3116542,"reputation":1299,"user_id":3450840,"accept_rate":56,"display_name":"Florian F"},"score":2,"creation_date":1602486733,"post_id":11271554,"comment_id":113724755,"body_markdown":"Note that it is a bit confusing that you call the method `compare`, it has a different meaning for strings.  You should call it `equals`.","body":"Note that it is a bit confusing that you call the method <code>compare</code>, it has a different meaning for strings.  You should call it <code>equals</code>."}],"answers":[{"tags":[],"owner":{"account_id":82057,"reputation":5965,"user_id":231010,"accept_rate":92,"display_name":"didxga"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1341044464,"creation_date":1341032571,"answer_id":11271577,"question_id":11271554,"body_markdown":"    boolean compare(String str1, String str2) {\r\n        if(str1==null || str2==null) {\r\n            //return false; if you assume null not equal to null\r\n            return str1==str2;\r\n        }\r\n        return str1.equals(str2);\r\n    }\r\n\r\nis this what you desired?","title":"Compare two objects in Java with possible null values","body":"<pre><code>boolean compare(String str1, String str2) {\n    if(str1==null || str2==null) {\n        //return false; if you assume null not equal to null\n        return str1==str2;\n    }\n    return str1.equals(str2);\n}\n</code></pre>\n\n<p>is this what you desired?</p>\n"},{"tags":[],"owner":{"account_id":1555886,"reputation":683,"user_id":1447005,"accept_rate":83,"display_name":"Kierrow"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1341032761,"creation_date":1341032761,"answer_id":11271592,"question_id":11271554,"body_markdown":"    boolean compare(String str1, String str2) {\r\n        if (str1 == null || str2 == null)\r\n            return str1 == str2;\r\n        \r\n        return str1.equals(str2);\r\n    }","title":"Compare two objects in Java with possible null values","body":"<pre><code>boolean compare(String str1, String str2) {\n    if (str1 == null || str2 == null)\n        return str1 == str2;\n\n    return str1.equals(str2);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":907854,"reputation":15741,"user_id":942391,"accept_rate":57,"display_name":"Sumit Singh"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1341033029,"creation_date":1341033029,"answer_id":11271606,"question_id":11271554,"body_markdown":"    boolean compare(String str1, String str2) {\r\n      return (str1==null || str2==null) ? str1 == str2 : str1.equals(str2);\r\n    }","title":"Compare two objects in Java with possible null values","body":"<pre><code>boolean compare(String str1, String str2) {\n  return (str1==null || str2==null) ? str1 == str2 : str1.equals(str2);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1545009,"reputation":67059,"user_id":1438733,"accept_rate":100,"display_name":"Cat"},"down_vote_count":13,"up_vote_count":236,"is_accepted":true,"score":223,"last_activity_date":1374853657,"creation_date":1341033082,"answer_id":11271611,"question_id":11271554,"body_markdown":"This is what Java internal code uses (on other `compare` methods):\r\n\r\n    public static boolean compare(String str1, String str2) {\r\n        return (str1 == null ? str2 == null : str1.equals(str2));\r\n    }","title":"Compare two objects in Java with possible null values","body":"<p>This is what Java internal code uses (on other <code>compare</code> methods):</p>\n\n<pre><code>public static boolean compare(String str1, String str2) {\n    return (str1 == null ? str2 == null : str1.equals(str2));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"down_vote_count":2,"up_vote_count":57,"is_accepted":false,"score":55,"last_activity_date":1515529063,"creation_date":1341033840,"answer_id":11271679,"question_id":11271554,"body_markdown":"For these cases it would be better to use [Apache Commons][1] [StringUtils#equals][2], it already handles null strings. Code sample:\r\n\r\n    public boolean compare(String s1, String s2) {\r\n        return StringUtils.equals(s1, s2);\r\n    }\r\n\r\nIf you dont want to add the library, just copy the [source code][3] of the `StringUtils#equals` method and apply it when you need it.\r\n\r\n\r\n  [1]: http://commons.apache.org/lang/\r\n  [2]: https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/StringUtils.html#equals(java.lang.String,%20java.lang.String)\r\n  [3]: http://grepcode.com/file/repo1.maven.org/maven2/commons-lang/commons-lang/2.6/org/apache/commons/lang/StringUtils.java#StringUtils.equals%28java.lang.String%2Cjava.lang.String%29","title":"Compare two objects in Java with possible null values","body":"<p>For these cases it would be better to use <a href=\"http://commons.apache.org/lang/\" rel=\"noreferrer\">Apache Commons</a> <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/StringUtils.html#equals(java.lang.String,%20java.lang.String)\" rel=\"noreferrer\">StringUtils#equals</a>, it already handles null strings. Code sample:</p>\n\n<pre><code>public boolean compare(String s1, String s2) {\n    return StringUtils.equals(s1, s2);\n}\n</code></pre>\n\n<p>If you dont want to add the library, just copy the <a href=\"http://grepcode.com/file/repo1.maven.org/maven2/commons-lang/commons-lang/2.6/org/apache/commons/lang/StringUtils.java#StringUtils.equals%28java.lang.String%2Cjava.lang.String%29\" rel=\"noreferrer\">source code</a> of the <code>StringUtils#equals</code> method and apply it when you need it.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1341033954,"creation_date":1341033954,"answer_id":11271695,"question_id":11271554,"body_markdown":"OK, so what does &quot;best possible solution&quot; mean?\r\n\r\nIf you mean most readable, then all the possible solutions are pretty much equivalent for an experienced Java programmer.  But IMO the most readable is this\r\n\r\n     public boolean compareStringsOrNulls(String str1, String str2) {\r\n         // Implement it how you like\r\n     }\r\n\r\nIn other words, hide the implementation inside a simple method that (ideally) can be inlined.\r\n\r\n(You could also &quot;out-source&quot; to a 3rd party utility library ... if you already use it in your codebase.)\r\n\r\n---------------\r\n\r\nIf you mean most performant, then:\r\n\r\n  1. the most performant solution depends on the platform and the context, \r\n  1. one of the &quot;context&quot; issues is the relative (dynamic) frequency of occurrence of `null` arguments,\r\n  1. it *probably* doesn&#39;t matter which version is faster ... because the difference is probably too small to make a difference to the overall application performance, and\r\n  1. if it does matter, the only way to figure out which is fastest ON YOUR PLATFORM is to try both versions and measure the difference.","title":"Compare two objects in Java with possible null values","body":"<p>OK, so what does \"best possible solution\" mean?</p>\n\n<p>If you mean most readable, then all the possible solutions are pretty much equivalent for an experienced Java programmer.  But IMO the most readable is this</p>\n\n<pre><code> public boolean compareStringsOrNulls(String str1, String str2) {\n     // Implement it how you like\n }\n</code></pre>\n\n<p>In other words, hide the implementation inside a simple method that (ideally) can be inlined.</p>\n\n<p>(You could also \"out-source\" to a 3rd party utility library ... if you already use it in your codebase.)</p>\n\n<hr>\n\n<p>If you mean most performant, then:</p>\n\n<ol>\n<li>the most performant solution depends on the platform and the context, </li>\n<li>one of the \"context\" issues is the relative (dynamic) frequency of occurrence of <code>null</code> arguments,</li>\n<li>it <em>probably</em> doesn't matter which version is faster ... because the difference is probably too small to make a difference to the overall application performance, and</li>\n<li>if it does matter, the only way to figure out which is fastest ON YOUR PLATFORM is to try both versions and measure the difference.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":5,"up_vote_count":506,"is_accepted":false,"score":501,"last_activity_date":1561456250,"creation_date":1341042028,"answer_id":11272385,"question_id":11271554,"body_markdown":"Since Java 7 you can use the static method [`java.util.Objects.equals(Object, Object)`][1] to perform equals checks on two objects without caring about them being `null`.\r\n\r\nIf both objects are `null` it will return `true`, if one is `null` and another isn&#39;t it will return `false`. Otherwise it will return the result of calling [`equals`][2] on the first object with the second as argument.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/Objects.html#equals%28java.lang.Object,%20java.lang.Object%29\r\n\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#equals%28java.lang.Object%29","title":"Compare two objects in Java with possible null values","body":"<p>Since Java 7 you can use the static method <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Objects.html#equals%28java.lang.Object,%20java.lang.Object%29\" rel=\"noreferrer\"><code>java.util.Objects.equals(Object, Object)</code></a> to perform equals checks on two objects without caring about them being <code>null</code>.</p>\n\n<p>If both objects are <code>null</code> it will return <code>true</code>, if one is <code>null</code> and another isn't it will return <code>false</code>. Otherwise it will return the result of calling <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#equals%28java.lang.Object%29\" rel=\"noreferrer\"><code>equals</code></a> on the first object with the second as argument.</p>\n"},{"tags":[],"owner":{"account_id":3762028,"reputation":10057,"user_id":3126670,"accept_rate":60,"display_name":"NameSpace"},"down_vote_count":1,"up_vote_count":30,"is_accepted":false,"score":29,"last_activity_date":1470302911,"creation_date":1434885199,"answer_id":30963881,"question_id":11271554,"body_markdown":"For those on android, who can&#39;t use API 19&#39;s Objects.equals(str1, str2), there is this:\r\n\r\n    android.text.TextUtils.equals(str1, str2);\r\n\r\nIt is null safe.  It rarely has to use the more expensive string.equals() method because identical strings on android almost always compare true with the &quot;==&quot; operand thanks to [Android&#39;s String Pooling][1], and length checks are a fast way to filter out most mismatches.\r\n\r\nSource Code:\r\n\r\n    /**\r\n     * Returns true if a and b are equal, including if they are both null.\r\n     * &lt;p&gt;&lt;i&gt;Note: In platform versions 1.1 and earlier, this method only worked  well if\r\n     * both the arguments were instances of String.&lt;/i&gt;&lt;/p&gt;\r\n     * @param a first CharSequence to check\r\n     * @param b second CharSequence to check\r\n     * @return true if a and b are equal\r\n     */\r\n    public static boolean equals(CharSequence a, CharSequence b) {\r\n        if (a == b) return true;\r\n        int length;\r\n        if (a != null &amp;&amp; b != null &amp;&amp; (length = a.length()) == b.length()) {\r\n            if (a instanceof String &amp;&amp; b instanceof String) {\r\n                return a.equals(b);\r\n            } else {\r\n                for (int i = 0; i &lt; length; i++) {\r\n                    if (a.charAt(i) != b.charAt(i)) return false;\r\n                }\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n\r\n  [1]: https://developer.android.com/reference/java/lang/String.html","title":"Compare two objects in Java with possible null values","body":"<p>For those on android, who can't use API 19's Objects.equals(str1, str2), there is this:</p>\n\n<pre><code>android.text.TextUtils.equals(str1, str2);\n</code></pre>\n\n<p>It is null safe.  It rarely has to use the more expensive string.equals() method because identical strings on android almost always compare true with the \"==\" operand thanks to <a href=\"https://developer.android.com/reference/java/lang/String.html\" rel=\"noreferrer\">Android's String Pooling</a>, and length checks are a fast way to filter out most mismatches.</p>\n\n<p>Source Code:</p>\n\n<pre><code>/**\n * Returns true if a and b are equal, including if they are both null.\n * &lt;p&gt;&lt;i&gt;Note: In platform versions 1.1 and earlier, this method only worked  well if\n * both the arguments were instances of String.&lt;/i&gt;&lt;/p&gt;\n * @param a first CharSequence to check\n * @param b second CharSequence to check\n * @return true if a and b are equal\n */\npublic static boolean equals(CharSequence a, CharSequence b) {\n    if (a == b) return true;\n    int length;\n    if (a != null &amp;&amp; b != null &amp;&amp; (length = a.length()) == b.length()) {\n        if (a instanceof String &amp;&amp; b instanceof String) {\n            return a.equals(b);\n        } else {\n            for (int i = 0; i &lt; length; i++) {\n                if (a.charAt(i) != b.charAt(i)) return false;\n            }\n            return true;\n        }\n    }\n    return false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7573712,"reputation":136,"user_id":5746702,"display_name":"Jobi Subramunian"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1454920062,"creation_date":1454919007,"answer_id":35264924,"question_id":11271554,"body_markdown":"You can use  `java.util.Objects` as following.\r\n\r\n    public static boolean compare(String str1, String str2) {\r\n        return Objects.equals(str1, str2);\r\n    }","title":"Compare two objects in Java with possible null values","body":"<p>You can use  <code>java.util.Objects</code> as following.</p>\n\n<pre><code>public static boolean compare(String str1, String str2) {\n    return Objects.equals(str1, str2);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2658361,"reputation":1750,"user_id":2298592,"display_name":"phn"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1479827703,"creation_date":1479827703,"answer_id":40745458,"question_id":11271554,"body_markdown":"Since version 3.5 Apache Commons StringUtils has the following methods:\r\n\r\n    static int\tcompare(String str1, String str2)\r\n    static int\tcompare(String str1, String str2, boolean nullIsLess)\r\n    static int\tcompareIgnoreCase(String str1, String str2)\r\n    static int\tcompareIgnoreCase(String str1, String str2, boolean nullIsLess)\r\n\r\nThese provide null safe String comparison.\r\n\r\n","title":"Compare two objects in Java with possible null values","body":"<p>Since version 3.5 Apache Commons StringUtils has the following methods:</p>\n\n<pre><code>static int  compare(String str1, String str2)\nstatic int  compare(String str1, String str2, boolean nullIsLess)\nstatic int  compareIgnoreCase(String str1, String str2)\nstatic int  compareIgnoreCase(String str1, String str2, boolean nullIsLess)\n</code></pre>\n\n<p>These provide null safe String comparison.</p>\n"},{"tags":[],"owner":{"account_id":4993801,"reputation":997,"user_id":4015129,"display_name":"Prashant Sahoo"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1528636832,"creation_date":1528630467,"answer_id":50783275,"question_id":11271554,"body_markdown":"Compare two string using equals(-,-) and equalsIgnoreCase(-,-) method of Apache Commons StringUtils class.\r\n\r\n**StringUtils.equals(-, -)** :\r\n\r\n    StringUtils.equals(null, null)   = true\r\n    StringUtils.equals(null, &quot;abc&quot;)  = false\r\n    StringUtils.equals(&quot;abc&quot;, null)  = false\r\n    StringUtils.equals(&quot;abc&quot;, &quot;abc&quot;) = true\r\n    StringUtils.equals(&quot;abc&quot;, &quot;ABC&quot;) = false\r\n\r\n**StringUtils.equalsIgnoreCase(-, -)** :\r\n\r\n    StringUtils.equalsIgnoreCase(null, null)   = true\r\n    StringUtils.equalsIgnoreCase(null, &quot;abc&quot;)  = false\r\n    StringUtils.equalsIgnoreCase(&quot;xyz&quot;, null)  = false\r\n    StringUtils.equalsIgnoreCase(&quot;xyz&quot;, &quot;xyz&quot;) = true\r\n    StringUtils.equalsIgnoreCase(&quot;xyz&quot;, &quot;XYZ&quot;) = true","title":"Compare two objects in Java with possible null values","body":"<p>Compare two string using equals(-,-) and equalsIgnoreCase(-,-) method of Apache Commons StringUtils class.</p>\n\n<p><strong>StringUtils.equals(-, -)</strong> :</p>\n\n<pre><code>StringUtils.equals(null, null)   = true\nStringUtils.equals(null, \"abc\")  = false\nStringUtils.equals(\"abc\", null)  = false\nStringUtils.equals(\"abc\", \"abc\") = true\nStringUtils.equals(\"abc\", \"ABC\") = false\n</code></pre>\n\n<p><strong>StringUtils.equalsIgnoreCase(-, -)</strong> :</p>\n\n<pre><code>StringUtils.equalsIgnoreCase(null, null)   = true\nStringUtils.equalsIgnoreCase(null, \"abc\")  = false\nStringUtils.equalsIgnoreCase(\"xyz\", null)  = false\nStringUtils.equalsIgnoreCase(\"xyz\", \"xyz\") = true\nStringUtils.equalsIgnoreCase(\"xyz\", \"XYZ\") = true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4158688,"reputation":2520,"user_id":3409234,"display_name":"TanvirChowdhury"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1648719096,"creation_date":1550143693,"answer_id":54689348,"question_id":11271554,"body_markdown":"Using **Java 8:**\r\n\r\n    private static Comparator&lt;String&gt; nullSafeStringComparator = Comparator\r\n            .nullsFirst(String::compareToIgnoreCase); \r\n    \r\n    private static Comparator&lt;Metadata&gt; metadataComparator = Comparator\r\n            .comparing(Metadata::getName, nullSafeStringComparator)\r\n            .thenComparing(Metadata::getValue, nullSafeStringComparator);\r\n    \r\n    public int compareTo(Metadata that) {\r\n        return metadataComparator.compare(this, that);\r\n    }\r\n\r\nOr you can also use the below method using Java \r\n\r\npublic static boolean compare(String first, String second) {\r\nreturn(Objects.isNull(first) ? Objects.isNull(second) : \r\n       first.equals(second));\r\n}","title":"Compare two objects in Java with possible null values","body":"<p>Using <strong>Java 8:</strong></p>\n<pre><code>private static Comparator&lt;String&gt; nullSafeStringComparator = Comparator\n        .nullsFirst(String::compareToIgnoreCase); \n\nprivate static Comparator&lt;Metadata&gt; metadataComparator = Comparator\n        .comparing(Metadata::getName, nullSafeStringComparator)\n        .thenComparing(Metadata::getValue, nullSafeStringComparator);\n\npublic int compareTo(Metadata that) {\n    return metadataComparator.compare(this, that);\n}\n</code></pre>\n<p>Or you can also use the below method using Java</p>\n<p>public static boolean compare(String first, String second) {\nreturn(Objects.isNull(first) ? Objects.isNull(second) :\nfirst.equals(second));\n}</p>\n"}],"owner":{"account_id":809775,"reputation":3217,"user_id":914648,"accept_rate":43,"display_name":"priceline"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":318500,"favorite_count":0,"down_vote_count":1,"up_vote_count":296,"accepted_answer_id":11271611,"answer_count":12,"score":295,"last_activity_date":1648719096,"creation_date":1341032327,"question_id":11271554,"body_markdown":"I want to compare two strings for equality when either or both can be `null`. \r\n\r\nSo, I can&#39;t simply call `.equals()` as it can contain `null` values. \r\n\r\nThe code I have tried so far :\r\n\r\n    boolean compare(String str1, String str2) {\r\n      return ((str1 == str2) || (str1 != null &amp;&amp; str1.equals(str2)));\r\n\t}\r\n\r\nWhat will be the best way to check for all possible values including `null` ?\r\n\r\n\t","title":"Compare two objects in Java with possible null values","body":"<p>I want to compare two strings for equality when either or both can be <code>null</code>.</p>\n<p>So, I can't simply call <code>.equals()</code> as it can contain <code>null</code> values.</p>\n<p>The code I have tried so far :</p>\n<pre><code>boolean compare(String str1, String str2) {\n  return ((str1 == str2) || (str1 != null &amp;&amp; str1.equals(str2)));\n}\n</code></pre>\n<p>What will be the best way to check for all possible values including <code>null</code> ?</p>\n"},{"tags":["java","security","jax-rs","javax"],"comments":[{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1498118080,"post_id":44692946,"comment_id":76369858,"body_markdown":"What JAX-RS implementation are you using?","body":"What JAX-RS implementation are you using?"},{"owner":{"account_id":4265256,"reputation":3,"user_id":3488524,"display_name":"Pascal W."},"score":0,"creation_date":1498122146,"post_id":44692946,"comment_id":76372777,"body_markdown":"I&#39;m using Apache CXF with JAX-RS. As server i&#39;m using tomcat, but i want to be able to switch to jersey / jetty if that&#39;s possible","body":"I&#39;m using Apache CXF with JAX-RS. As server i&#39;m using tomcat, but i want to be able to switch to jersey / jetty if that&#39;s possible"}],"answers":[{"tags":[],"owner":{"account_id":17426473,"reputation":990,"user_id":12631293,"display_name":"Tomasz"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1648719007,"creation_date":1648719007,"answer_id":71690131,"question_id":44692946,"body_markdown":"You don&#39;t need to inject anything. Use &lt;b&gt;SecurityContextHolder&lt;/b&gt; insteed.\r\n\r\n    Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\r\n    var principalName = authentication.getName();","title":"Inject SecurityContext in Service","body":"<p>You don't need to inject anything. Use <b>SecurityContextHolder</b> insteed.</p>\n<pre><code>Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\nvar principalName = authentication.getName();\n</code></pre>\n"}],"owner":{"account_id":4265256,"reputation":3,"user_id":3488524,"display_name":"Pascal W."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2750,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648719007,"creation_date":1498116763,"question_id":44692946,"body_markdown":"I have my Application set-up as following:\r\n\r\n**Resource**\r\n\r\n    @Path(&quot;/books&quot;)\r\n    public class BookResource {\r\n        @Inject\r\n        BookService bookService;\r\n\r\n        @Context\r\n        SecurityContext securityContext;\r\n\r\n        @GET\r\n        public Response getBooks() {\r\n            List&lt;BookDTO&gt; books = bookService.getAllBooks();\r\n\r\n            return Response.ok(books).build();\r\n        }\r\n    }\r\n\r\n**Service**\r\n\r\n    public interface BookService {\r\n        List&lt;BookDTO&gt; getAllBooks();\r\n    }\r\n\r\n**ServiceImpl**\r\n\r\n    \r\n    public class BookServiceImpl implements BookService {\r\n\r\n        @Context\r\n        SecurityContext securityContext;\r\n\r\n        @Override\r\n        public List&lt;BookDTO&gt; getAllBooks() {\r\n            BookDTO book1 = new BookDTO(&quot;Catcher in the Rye&quot;);\r\n            BookDTO book2 = new BookDTO(&quot;Moby Dick&quot;);\r\n\r\n            return Arrays.asList(new Book[]{book1,book2});\r\n        }\r\n    }\r\n\r\nIn my Resource, the SecurityContext is injected and i can fetch the current user.\r\n\r\nIs there a way to inject the SecurityContext outside of the Resource (the place where i put my path annotations)? If so, how can I do this?\r\nI want to move my security back to the service and maybe repository too.\r\n\r\n\r\n\r\n**Update**\r\nI solved it by the following code, but I think it can get a lot better/cleaner.\r\n\r\n\r\n**BaseResource**\r\n\r\n    public class BaseResource {\r\n    \r\n        @Context\r\n        SecurityContext securityContext;\r\n    \r\n    \r\n        public class BaseRequest {\r\n        \r\n            private Principal principal;\r\n        \r\n            public BaseRequest() {\r\n                principal = securityContext.getUserPrincipal();\r\n            }\r\n        \r\n            public Principal getPrincipal() {\r\n                return principal;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n**BookResource**\r\n\r\n    public class BookResource extends BaseResource {\r\n\r\n        @Inject\r\n        BookService bookService;\r\n\r\n        @Path(&quot;/{id}&quot;)\r\n        public Response getBookById(@PathParam(&quot;id&quot;) Long id) {\r\n            BookDTO book = bookService.getBookById(new GetBookRequest(id));\r\n\r\n            return Response.ok(book).build();\r\n        }\r\n\r\n        public Response getAllBooks() {\r\n            List&lt;BookDTO &gt; books = bookService.getAllBooks(new GetAllBooksRequest());\r\n\r\n            return Response.ok(books).build();\r\n        }\r\n\r\n        public class GetBookRequest extends BaseRequest {\r\n\r\n            private Long id;\r\n\r\n            public GetBookRequest(Long id) {\r\n                super();\r\n                this.id = id;\r\n            }\r\n\r\n            public Long getId() {\r\n                return id;\r\n            }\r\n        }\r\n\r\n        public class GetAllBooksRequest extends BaseRequest {\r\n\r\n            public GetAllBooksRequest() {\r\n                super();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n**BookService**\r\n\r\n    public interface BookService {\r\n\r\n        public List&lt;BookDTO&gt; getAllBooks(GetAllBooksRequest request);\r\n\r\n        public BookDTO getBookById(GetBookRequest request);\r\n    }\r\n\r\n**BookServiceImpl**\r\n\r\n    @Named\r\n    public class BookServiceImpl implements BookService {\r\n\r\n        @Override\r\n        public List&lt;BookDTO&gt; getAllBooks(GetAllBooksRequest request) {\r\n            Principal principal = request.getPrincipal();\r\n\r\n            BookDTO book1 = new BookDTO();\r\n            book1.setName(&quot;Catcher in the Rye&quot;);\r\n            book1.setId(1L);\r\n\r\n            BookDTO book2 = new BookDTO();\r\n            book2.setName(&quot;Moby Dick&quot;);\r\n            book2.setId(2L);\r\n\r\n            return Arrays.asList( new BookDTO[]{ book1, book2 });\r\n        }\r\n\r\n        @Override\r\n        public BookDTO getBookById(GetBookRequest request) {\r\n            Principal principal = request.getPrincipal();\r\n\r\n            BookDTO book = new BookDTO();\r\n            book.setName(&quot;Catcher in the Rye&quot;);\r\n            book.setId(request.getId());\r\n\r\n            return book;\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\n","title":"Inject SecurityContext in Service","body":"<p>I have my Application set-up as following:</p>\n\n<p><strong>Resource</strong></p>\n\n<pre><code>@Path(\"/books\")\npublic class BookResource {\n    @Inject\n    BookService bookService;\n\n    @Context\n    SecurityContext securityContext;\n\n    @GET\n    public Response getBooks() {\n        List&lt;BookDTO&gt; books = bookService.getAllBooks();\n\n        return Response.ok(books).build();\n    }\n}\n</code></pre>\n\n<p><strong>Service</strong></p>\n\n<pre><code>public interface BookService {\n    List&lt;BookDTO&gt; getAllBooks();\n}\n</code></pre>\n\n<p><strong>ServiceImpl</strong></p>\n\n<pre><code>public class BookServiceImpl implements BookService {\n\n    @Context\n    SecurityContext securityContext;\n\n    @Override\n    public List&lt;BookDTO&gt; getAllBooks() {\n        BookDTO book1 = new BookDTO(\"Catcher in the Rye\");\n        BookDTO book2 = new BookDTO(\"Moby Dick\");\n\n        return Arrays.asList(new Book[]{book1,book2});\n    }\n}\n</code></pre>\n\n<p>In my Resource, the SecurityContext is injected and i can fetch the current user.</p>\n\n<p>Is there a way to inject the SecurityContext outside of the Resource (the place where i put my path annotations)? If so, how can I do this?\nI want to move my security back to the service and maybe repository too.</p>\n\n<p><strong>Update</strong>\nI solved it by the following code, but I think it can get a lot better/cleaner.</p>\n\n<p><strong>BaseResource</strong></p>\n\n<pre><code>public class BaseResource {\n\n    @Context\n    SecurityContext securityContext;\n\n\n    public class BaseRequest {\n\n        private Principal principal;\n\n        public BaseRequest() {\n            principal = securityContext.getUserPrincipal();\n        }\n\n        public Principal getPrincipal() {\n            return principal;\n        }\n    }\n}\n</code></pre>\n\n<p><strong>BookResource</strong></p>\n\n<pre><code>public class BookResource extends BaseResource {\n\n    @Inject\n    BookService bookService;\n\n    @Path(\"/{id}\")\n    public Response getBookById(@PathParam(\"id\") Long id) {\n        BookDTO book = bookService.getBookById(new GetBookRequest(id));\n\n        return Response.ok(book).build();\n    }\n\n    public Response getAllBooks() {\n        List&lt;BookDTO &gt; books = bookService.getAllBooks(new GetAllBooksRequest());\n\n        return Response.ok(books).build();\n    }\n\n    public class GetBookRequest extends BaseRequest {\n\n        private Long id;\n\n        public GetBookRequest(Long id) {\n            super();\n            this.id = id;\n        }\n\n        public Long getId() {\n            return id;\n        }\n    }\n\n    public class GetAllBooksRequest extends BaseRequest {\n\n        public GetAllBooksRequest() {\n            super();\n        }\n    }\n}\n</code></pre>\n\n<p><strong>BookService</strong></p>\n\n<pre><code>public interface BookService {\n\n    public List&lt;BookDTO&gt; getAllBooks(GetAllBooksRequest request);\n\n    public BookDTO getBookById(GetBookRequest request);\n}\n</code></pre>\n\n<p><strong>BookServiceImpl</strong></p>\n\n<pre><code>@Named\npublic class BookServiceImpl implements BookService {\n\n    @Override\n    public List&lt;BookDTO&gt; getAllBooks(GetAllBooksRequest request) {\n        Principal principal = request.getPrincipal();\n\n        BookDTO book1 = new BookDTO();\n        book1.setName(\"Catcher in the Rye\");\n        book1.setId(1L);\n\n        BookDTO book2 = new BookDTO();\n        book2.setName(\"Moby Dick\");\n        book2.setId(2L);\n\n        return Arrays.asList( new BookDTO[]{ book1, book2 });\n    }\n\n    @Override\n    public BookDTO getBookById(GetBookRequest request) {\n        Principal principal = request.getPrincipal();\n\n        BookDTO book = new BookDTO();\n        book.setName(\"Catcher in the Rye\");\n        book.setId(request.getId());\n\n        return book;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","proxy"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1648723215,"post_id":71690123,"comment_id":126699508,"body_markdown":"You can check the result of `System.getProperty()` with `System.getProperty()`. You can check whether it actually works by trying to use it. Unclear what you&#39;re asking.","body":"You can check the result of <code>System.getProperty()</code> with <code>System.getProperty()</code>. You can check whether it actually works by trying to use it. Unclear what you&#39;re asking."},{"owner":{"account_id":24553249,"reputation":25,"user_id":18462188,"display_name":"ShinjiruPP"},"score":0,"creation_date":1648723913,"post_id":71690123,"comment_id":126699761,"body_markdown":"Thanks for answer me! Probably i don&#39;t know what really do the method &#39;System.setProperty&#39;. I thought that is will set the proxy directly on the local machine and i can check it from cmd. Is it wrong?","body":"Thanks for answer me! Probably i don&#39;t know what really do the method &#39;System.setProperty&#39;. I thought that is will set the proxy directly on the local machine and i can check it from cmd. Is it wrong?"}],"owner":{"account_id":24553249,"reputation":25,"user_id":18462188,"display_name":"ShinjiruPP"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648718986,"creation_date":1648718986,"question_id":71690123,"body_markdown":"i&#39;m developing an Java application that will be used to launch some Test Automation scripts on dedicated environment.\r\nIt is required to set also the proxy when necessary.\r\nI developed a class that will be used to configure the proxy settings once a properties read from external contains the flag &#39;ENABLE_PROXY&#39; equals &#39;True&#39;.\r\n\r\nFollowing is my snippet code:\r\n\r\n        package proxy;\r\n    \r\n    import java.io.InputStream;\r\n    import java.net.HttpURLConnection;\r\n    import java.net.URL;\r\n    import java.util.Properties;\r\n    \r\n    import org.apache.commons.lang3.exception.ExceptionUtils;\r\n    \r\n    public class ProxyConfiguration {\r\n    \r\n    \tprivate static String proxyHost;\r\n    \tprivate static String proxyPort; //80 if it isn&#39;t provided\r\n    \tprivate static String nonProxyHosts;\r\n    \tprivate static String protocolType;\r\n    \tpublic static boolean flagProxy;\r\n    \r\n    \t//Set method used to read the flag Proxy\r\n    \tpublic static boolean isProxyEnabled(Properties myPropertiesFile) {\r\n    \t\tflagProxy = Boolean.parseBoolean(myPropertiesFile.getProperty(&quot;ENABLE_PROXY&quot;).toLowerCase());\r\n    \t\treturn flagProxy;\r\n    \t}\r\n    \r\n    \tpublic static String getProxyHost() {\r\n    \t\treturn proxyHost;\r\n    \t}\r\n    \r\n    \t//Set method used to read the Proxy host from properties\r\n    \tpublic static void setProxyHost(Properties myPropertiesFile) {\r\n    \t\tProxyConfiguration.proxyHost = myPropertiesFile.getProperty(&quot;PROXY_HOST&quot;);\r\n    \t}\r\n    \r\n    \tpublic static String getProxyPort() {\r\n    \t\treturn proxyPort;\r\n    \t}\r\n    \r\n    \t//Set method used to read the Proxy port from properties\r\n    \tpublic static void setProxyPort(Properties myPropertiesFile) {\r\n    \t\tProxyConfiguration.proxyPort = myPropertiesFile.getProperty(&quot;PROXY_PORT&quot;);\r\n    \t}\r\n    \r\n    \tpublic static String getNonProxyHosts() {\r\n    \t\treturn nonProxyHosts.replace(&quot;,&quot;, &quot;|&quot;);\r\n    \t}\r\n    \r\n    \t//Set method used to read the exception from properties\r\n    \tpublic static void setNonProxyHosts(Properties myPropertiesFile) {\r\n    \t\tProxyConfiguration.nonProxyHosts = myPropertiesFile.getProperty(&quot;PROXY_EXCEPTION&quot;);\r\n    \t}\r\n    \t\r\n    \tpublic static String getProtocolType() {\r\n    \t\treturn protocolType;\r\n    \t}\r\n    \r\n    \t//Set method used to read the exception from properties\r\n    \tpublic static void setProtocolType(Properties myPropertiesFile) {\r\n    \t\tProxyConfiguration.protocolType = myPropertiesFile.getProperty(&quot;PROTOCOL_TYPE&quot;);\r\n    \t}\r\n    \t\r\n    \t//Method used to set the Proxy settings on system\r\n    \tpublic static void setProxyConfiguration(Properties myPropertiesFile) {\r\n    \r\n    \t\ttry {\r\n    \t\t\tProxyConfiguration.setProtocolType(myPropertiesFile);\r\n    \t\t\tProxyConfiguration.setProxyHost(myPropertiesFile);\r\n    \t\t\tProxyConfiguration.setProxyPort(myPropertiesFile);\r\n    \t\t\tProxyConfiguration.setNonProxyHosts(myPropertiesFile);\r\n    \t\t\t\r\n    \t\t\tSystem.setProperty(&quot;java.net.useSystemProxies&quot;, &quot;true&quot;);\r\n    \t\t\tSystem.setProperty(ProxyConfiguration.getProtocolType() +&quot;.proxyHost&quot;, ProxyConfiguration.getProxyHost());\r\n    \t\t\tSystem.setProperty(ProxyConfiguration.getProtocolType() +&quot;.proxyPort&quot;, ProxyConfiguration.getProxyPort());\r\n    \r\n    \t\t\tboolean exceptions = ProxyConfiguration.getNonProxyHosts().isEmpty();\r\n    \t\t\tif(!exceptions) {\r\n    \t\t\t\tSystem.setProperty(ProxyConfiguration.getProtocolType() +&quot;.nonProxyHosts&quot;, ProxyConfiguration.getNonProxyHosts());\r\n    \t\t\t}\r\n    \t\t\ttry {\r\n    \t\t\t\tURL url = new URL(&quot;http://java.sun.com/&quot;);\r\n    \t\t\t\tInputStream in = url.openStream();\r\n    \t\t        //return true;\r\n    \t\t    } catch (Exception e) {\r\n    \t\t        //return false;\r\n    \t\t    }\r\n    \t\t} catch (Exception e) {\r\n    \t\t\tSystem.err.println(&quot;Si &#232; verificato un errore nella setProxyConfiguration: &quot;);\r\n    \t\t\tString exc = ExceptionUtils.getStackTrace(e);\r\n    \t\t\tSystem.err.println(exc);\r\n    \t\t\tSystem.exit(-1);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n**How can i check if the proxy settings are set correctly?** \r\n\r\nI tried also to used the command prompt of my local machine and launch the follwing command:\r\n\r\n - netsh winhttp show proxy\r\n\r\nbut i receive:\r\n\r\n    Current WinHTTP proxy settings:\r\n\r\n    Direct access (no proxy server).\r\n\r\nThe properties read are:\r\n\r\n - PROTOCOL_TYPE=http\r\n - PROXY_HOST=webcache.mydomain.com (it is an example found on [Java Networking][1])\r\n - PROXY_PORT=8080\r\n - PROXY_EXCEPTION=\r\n\r\nThanks for supporting!\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/6/docs/technotes/guides/net/proxies.html","title":"How can i check the proxy settings done by &#39;System.setProperty&#39; in Java?","body":"<p>i'm developing an Java application that will be used to launch some Test Automation scripts on dedicated environment.\nIt is required to set also the proxy when necessary.\nI developed a class that will be used to configure the proxy settings once a properties read from external contains the flag 'ENABLE_PROXY' equals 'True'.</p>\n<p>Following is my snippet code:</p>\n<pre><code>    package proxy;\n\nimport java.io.InputStream;\nimport java.net.HttpURLConnection;\nimport java.net.URL;\nimport java.util.Properties;\n\nimport org.apache.commons.lang3.exception.ExceptionUtils;\n\npublic class ProxyConfiguration {\n\n    private static String proxyHost;\n    private static String proxyPort; //80 if it isn't provided\n    private static String nonProxyHosts;\n    private static String protocolType;\n    public static boolean flagProxy;\n\n    //Set method used to read the flag Proxy\n    public static boolean isProxyEnabled(Properties myPropertiesFile) {\n        flagProxy = Boolean.parseBoolean(myPropertiesFile.getProperty(&quot;ENABLE_PROXY&quot;).toLowerCase());\n        return flagProxy;\n    }\n\n    public static String getProxyHost() {\n        return proxyHost;\n    }\n\n    //Set method used to read the Proxy host from properties\n    public static void setProxyHost(Properties myPropertiesFile) {\n        ProxyConfiguration.proxyHost = myPropertiesFile.getProperty(&quot;PROXY_HOST&quot;);\n    }\n\n    public static String getProxyPort() {\n        return proxyPort;\n    }\n\n    //Set method used to read the Proxy port from properties\n    public static void setProxyPort(Properties myPropertiesFile) {\n        ProxyConfiguration.proxyPort = myPropertiesFile.getProperty(&quot;PROXY_PORT&quot;);\n    }\n\n    public static String getNonProxyHosts() {\n        return nonProxyHosts.replace(&quot;,&quot;, &quot;|&quot;);\n    }\n\n    //Set method used to read the exception from properties\n    public static void setNonProxyHosts(Properties myPropertiesFile) {\n        ProxyConfiguration.nonProxyHosts = myPropertiesFile.getProperty(&quot;PROXY_EXCEPTION&quot;);\n    }\n    \n    public static String getProtocolType() {\n        return protocolType;\n    }\n\n    //Set method used to read the exception from properties\n    public static void setProtocolType(Properties myPropertiesFile) {\n        ProxyConfiguration.protocolType = myPropertiesFile.getProperty(&quot;PROTOCOL_TYPE&quot;);\n    }\n    \n    //Method used to set the Proxy settings on system\n    public static void setProxyConfiguration(Properties myPropertiesFile) {\n\n        try {\n            ProxyConfiguration.setProtocolType(myPropertiesFile);\n            ProxyConfiguration.setProxyHost(myPropertiesFile);\n            ProxyConfiguration.setProxyPort(myPropertiesFile);\n            ProxyConfiguration.setNonProxyHosts(myPropertiesFile);\n            \n            System.setProperty(&quot;java.net.useSystemProxies&quot;, &quot;true&quot;);\n            System.setProperty(ProxyConfiguration.getProtocolType() +&quot;.proxyHost&quot;, ProxyConfiguration.getProxyHost());\n            System.setProperty(ProxyConfiguration.getProtocolType() +&quot;.proxyPort&quot;, ProxyConfiguration.getProxyPort());\n\n            boolean exceptions = ProxyConfiguration.getNonProxyHosts().isEmpty();\n            if(!exceptions) {\n                System.setProperty(ProxyConfiguration.getProtocolType() +&quot;.nonProxyHosts&quot;, ProxyConfiguration.getNonProxyHosts());\n            }\n            try {\n                URL url = new URL(&quot;http://java.sun.com/&quot;);\n                InputStream in = url.openStream();\n                //return true;\n            } catch (Exception e) {\n                //return false;\n            }\n        } catch (Exception e) {\n            System.err.println(&quot;Si è verificato un errore nella setProxyConfiguration: &quot;);\n            String exc = ExceptionUtils.getStackTrace(e);\n            System.err.println(exc);\n            System.exit(-1);\n        }\n    }\n}\n</code></pre>\n<p><strong>How can i check if the proxy settings are set correctly?</strong></p>\n<p>I tried also to used the command prompt of my local machine and launch the follwing command:</p>\n<ul>\n<li>netsh winhttp show proxy</li>\n</ul>\n<p>but i receive:</p>\n<pre><code>Current WinHTTP proxy settings:\n\nDirect access (no proxy server).\n</code></pre>\n<p>The properties read are:</p>\n<ul>\n<li>PROTOCOL_TYPE=http</li>\n<li>PROXY_HOST=webcache.mydomain.com (it is an example found on <a href=\"https://docs.oracle.com/javase/6/docs/technotes/guides/net/proxies.html\" rel=\"nofollow noreferrer\">Java Networking</a>)</li>\n<li>PROXY_PORT=8080</li>\n<li>PROXY_EXCEPTION=</li>\n</ul>\n<p>Thanks for supporting!</p>\n"},{"tags":["java","virtual","launcher"],"comments":[{"owner":{"account_id":3710331,"reputation":1513,"user_id":3087839,"display_name":"Gurkan İlleez"},"score":0,"creation_date":1592689766,"post_id":62492049,"comment_id":110516846,"body_markdown":"I guess it is java version problem.  java version of both  computers. \nYou can check version with java -version in command line.","body":"I guess it is java version problem.  java version of both  computers.  You can check version with java -version in command line."},{"owner":{"account_id":18893627,"reputation":11,"user_id":13783333,"display_name":"Angelgce"},"score":0,"creation_date":1592718025,"post_id":62492049,"comment_id":110521477,"body_markdown":"[i got this](https://ibb.co/G9f6y4x)  both have the same version","body":"<a href=\"https://ibb.co/G9f6y4x\" rel=\"nofollow noreferrer\">i got this</a>  both have the same version"}],"answers":[{"tags":[],"owner":{"account_id":2203408,"reputation":5012,"user_id":1947216,"display_name":"mentallurg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1592690259,"creation_date":1592689883,"answer_id":62492131,"question_id":62492049,"body_markdown":"One reason can be that you have installed a 32-bit Java on 64-bin OS. To check that, open console and run command\r\n```\r\njava -version\r\n```\r\n\r\nThis will show basic info about JRE including if it is 32-bit or 64-bit. If it is 32-bit, uninstall it and install 64-bit version.\r\n","title":"java virtual machine launcher Error: A jni error has occurred","body":"<p>One reason can be that you have installed a 32-bit Java on 64-bin OS. To check that, open console and run command</p>\n<pre><code>java -version\n</code></pre>\n<p>This will show basic info about JRE including if it is 32-bit or 64-bit. If it is 32-bit, uninstall it and install 64-bit version.</p>\n"},{"tags":[],"owner":{"account_id":18893627,"reputation":11,"user_id":13783333,"display_name":"Angelgce"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1592764662,"creation_date":1592764662,"answer_id":62502905,"question_id":62492049,"body_markdown":"i solve it installing JDK in the other computers ... :( idk&#39;n why those computers didn&#39;t work with JRE","title":"java virtual machine launcher Error: A jni error has occurred","body":"<p>i solve it installing JDK in the other computers ... :( idk'n why those computers didn't work with JRE</p>\n"}],"owner":{"account_id":18893627,"reputation":11,"user_id":13783333,"display_name":"Angelgce"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4561,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1648718623,"creation_date":1592689405,"question_id":62492049,"body_markdown":"I made a little program, so i built it and ran it on my pc and it worked. I took the .jar file and I ran it in other pc, but in others pc my program is not working and show this msg &quot;java virtual machine launcher Error: A JNI error has occurred&quot; I looked in the internet but all the questions and answers that I found where made for similiar isues but differnt, becase in their cases their softwares could&#39;nt ran in their owns machines. in my case, my machine ran my software, and also this is happening with all my projects (i&#39;m using netbeans).\r\n\r\n# My PC:\r\n![enter image description here](https://i.stack.imgur.com/B1dN2.png)\r\n\r\n# On other PC:\r\n![enter image description here](https://i.stack.imgur.com/4ZnLD.png)\r\n\r\n## Text from Screenshot\r\n\r\n```\r\nTitle:  Java Virtual Machine Launcher\r\nIcon:   Red and white &quot;X&quot; error icon.\r\nText:   Error: A JNI error has occurred, please check your installation and try again.\r\nButton: Aceptar\r\n\r\nTitle:  Java Virtual Machine Launcher\r\nIcon:   Red and white &quot;X&quot; error icon.\r\nText:   A Java Exception has occurred.\r\nButton: Aceptar\r\n```","title":"java virtual machine launcher Error: A jni error has occurred","body":"<p>I made a little program, so i built it and ran it on my pc and it worked. I took the .jar file and I ran it in other pc, but in others pc my program is not working and show this msg &quot;java virtual machine launcher Error: A JNI error has occurred&quot; I looked in the internet but all the questions and answers that I found where made for similiar isues but differnt, becase in their cases their softwares could'nt ran in their owns machines. in my case, my machine ran my software, and also this is happening with all my projects (i'm using netbeans).</p>\n<h1>My PC:</h1>\n<p><img src=\"https://i.stack.imgur.com/B1dN2.png\" alt=\"enter image description here\" /></p>\n<h1>On other PC:</h1>\n<p><img src=\"https://i.stack.imgur.com/4ZnLD.png\" alt=\"enter image description here\" /></p>\n<h2>Text from Screenshot</h2>\n<pre><code>Title:  Java Virtual Machine Launcher\nIcon:   Red and white &quot;X&quot; error icon.\nText:   Error: A JNI error has occurred, please check your installation and try again.\nButton: Aceptar\n\nTitle:  Java Virtual Machine Launcher\nIcon:   Red and white &quot;X&quot; error icon.\nText:   A Java Exception has occurred.\nButton: Aceptar\n</code></pre>\n"}],"has_more":false,"quota_max":10000,"quota_remaining":8521,"page":1471,"page_size":100}
